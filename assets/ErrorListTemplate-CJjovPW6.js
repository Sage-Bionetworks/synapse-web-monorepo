import{j as r}from"./jsx-runtime-DoxjgJx5.js";import{d as Y}from"./dayjs.min-D1RcYm3-.js";import{D as Q}from"./DateTimePicker-BmKPqfbb.js";import{G as v}from"./Grid-zRSXpTvc.js";import{B as W}from"./Box-Bt_N9PQN.js";import{g as J,a as _,A as Z,T as g}from"./index-BjywT8XK.js";import"./isPlainObject-BDeK4qKc.js";import"./index.modern-BSaf6tm9.js";import"./_getPrototype-DSx75BAr.js";import{a as ee,r as q}from"./index-Cu9bd8lq.js";import"./styled-DKRXvDfM.js";import{T as te}from"./Tooltip-CTVx2uGI.js";import{I as L}from"./IconButton-DhHKwBf8.js";import{c as F}from"./createSvgIcon-Dn0UJ7ef.js";import{a6 as z}from"./useFiles-BrUBKVK6.js";import{B as X}from"./Button-j3jTttn9.js";import{C as re}from"./cloneDeep-C-OZ4saa.js";import{I as ae}from"./InputLabel-RHZu0c3g.js";import{d as ne}from"./ContentCopy-C67malbr.js";import{C as ie}from"./Close-Bxs-S91i.js";import{A as oe}from"./ArrowUpward-CHkJ3lDq.js";import{t as le}from"./RegularExpressions-SKYrON-T.js";import{g as se,f as de}from"./ThemesPlot-DVqMZn2s.js";import{A as ce}from"./Alert-B6PGsAkP.js";const ue=F(r.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),me=F(r.jsx("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward"),pe=F(r.jsx("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline");function Oe(e){const t={};return Object.keys(e).forEach(a=>{let n=e[a];Array.isArray(n)?(n=n.filter(i=>i!=null),z(n)||(t[a]=n)):t[a]=n}),t}function Me(e={}){return Object.keys(e).reduce((t,a)=>(e[a]!==null&&(t[a]=e[a]),t),{})}function $(e){var t,a;return(t=e.property)!=null&&t.startsWith("[")?e.property.substring(2,e.property.length-2):(a=e.property)!=null&&a.startsWith(".")?e.property.substring(1):e.property||""}function We(e){return t=>{const a=se(t,n=>n.property);return Object.keys(a).map(n=>{const i=a[n];i.some(l=>l.message==="should match some schema in anyOf")&&i.every(l=>l.message==="should be string"||l.message==="should be equal to constant"?!0:l.message==="should match some schema in anyOf")&&i.length>0&&(i[0].message="should be equal to one of the allowed values",a[n]=[i[0]])}),t=de(a),e&&(t=t.map(n=>{const i=$(n);return i&&le[e].includes(i)&&(n.message=`"${i}" is a reserved internal key and cannot be used.`),n})),t}}function Je(e){return Array.isArray(e)?e:typeof e=="string"?e.split(",").map(t=>t.trim()):[e]}function Le(e,t){return!!(e&&Object.keys(e).length>0&&t)}const f=ee.createContext(void 0);function N(e){return r.jsx(f.Provider,{value:e.value,children:e.children})}const R=f.Consumer;function ye(){return q.useContext(f)}try{N.displayName="AdditionalPropertyContextProvider",N.__docgenInfo={description:"",displayName:"AdditionalPropertyContextProvider",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"AdditionalPropertyContextType"}}}}}catch{}try{f.displayName="AdditionalPropertyContext",f.__docgenInfo={description:"The `AdditionalPropertyContext` is a custom context object used to pass the `dropProperty` handler to the items within\na particular additional property.\n\nIn RJSF, dropping an entire additional property is handled at the `object` level. In this Synapse UI,\nwe treat all additional properties (a.k.a. custom annotations) as arrays, and render the delete control at the `array`\nlevel. RJSF does not normally provide the drop property handler at the `array` level, so we capture it and pass it\nalong using this context.",displayName:"AdditionalPropertyContext",props:{}}}catch{}try{R.displayName="AdditionalPropertyContextConsumer",R.__docgenInfo={description:"",displayName:"AdditionalPropertyContextConsumer",props:{}}}catch{}const B=e=>{const{SelectWidget:t}=e.registry.widgets,a={enumOptions:[{value:!0,label:"true"},{value:!1,label:"false"}]};return r.jsx(t,{...e,options:a})};try{B.displayName="BooleanWidget",B.__docgenInfo={description:"Select widget compatible with react-jsonschema-form booleans",displayName:"BooleanWidget",props:{}}}catch{}const D=({disabled:e,value:t,onChange:a})=>r.jsx(Q,{disabled:e,value:t?Y(t):null,onChange:n=>{n==null||typeof n=="string"?a(n):a(n.toISOString())}});try{D.displayName="DateTimeWidget",D.__docgenInfo={description:"DateTime picker widget compatible with react-jsonschema-form and Synapse Datetime annotations.",displayName:"DateTimeWidget",props:{}}}catch{}const E=e=>{const{BaseInputTemplate:t}=e.registry.templates;let a;return(e.schema.type==="number"||e.schema.type==="integer")&&(a="text"),r.jsx(t,{...e,options:{...e.options,inputType:a}})};try{E.displayName="TextWidget",E.__docgenInfo={description:`This TextWidget is almost identical to the rjsf TextWidget, except we handle numbers like strings to prevent issues if
the actual annotation data is not a string.`,displayName:"TextWidget",props:{}}}catch{}try{Widget.displayName="Widget",Widget.__docgenInfo={description:"The definition of a React-based Widget component",displayName:"Widget",props:{}}}catch{}function k(e){const{children:t,disabled:a,hasToolbar:n,hasCopy:i,hasMoveDown:d,hasMoveUp:o,hasRemove:l,index:s,onCopyIndexClick:y,onDropIndexClick:S,onReorderClick:p,readonly:u,uiSchema:c,registry:m,onAddIndexClick:h}=e,{CopyButton:x,MoveDownButton:T,MoveUpButton:A,RemoveButton:H,AddButton:K}=m.templates.ButtonTemplates;return r.jsxs(v,{container:!0,gap:2,justifyContent:"space-between",className:"array-item",children:[r.jsx(v,{item:!0,xs:!0,children:r.jsx(W,{mb:2,children:t})}),n&&r.jsxs(v,{item:!0,sx:{alignSelf:"start",my:1},display:"flex",flexDirection:"row",gap:1,justifyContent:"flex-start",children:[(o||d)&&r.jsx(A,{disabled:a||u||!o,onClick:p(s,s-1),uiSchema:c,registry:m}),(o||d)&&r.jsx(T,{disabled:a||u||!d,onClick:p(s,s+1),uiSchema:c,registry:m}),i&&r.jsx(x,{disabled:a||u,onClick:y(s),uiSchema:c,registry:m}),l&&r.jsx(H,{"aria-label":"Remove",disabled:a||u,onClick:S(s),uiSchema:c,registry:m}),r.jsx(K,{disabled:a||u,uiSchema:c,registry:m,"aria-label":"Add Item",onClick:h(s+1)})]})]})}try{k.displayName="ArrayFieldItemTemplate",k.__docgenInfo={description:"The `ArrayFieldItemTemplate` component is the template used to render an items of an array.",displayName:"ArrayFieldItemTemplate",props:{children:{defaultValue:null,description:"The html for the item's content",name:"children",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},className:{defaultValue:null,description:"The className string",name:"className",required:!0,type:{name:"string"}},disabled:{defaultValue:null,description:"A boolean value stating if the array item is disabled",name:"disabled",required:!0,type:{name:"boolean"}},canAdd:{defaultValue:null,description:"A boolean value stating whether new items can be added to the array",name:"canAdd",required:!0,type:{name:"boolean"}},hasCopy:{defaultValue:null,description:"A boolean value stating whether the array item can be copied, assumed false if missing",name:"hasCopy",required:!0,type:{name:"boolean"}},hasMoveDown:{defaultValue:null,description:"A boolean value stating whether the array item can be moved down",name:"hasMoveDown",required:!0,type:{name:"boolean"}},hasMoveUp:{defaultValue:null,description:"A boolean value stating whether the array item can be moved up",name:"hasMoveUp",required:!0,type:{name:"boolean"}},hasRemove:{defaultValue:null,description:"A boolean value stating whether the array item can be removed",name:"hasRemove",required:!0,type:{name:"boolean"}},hasToolbar:{defaultValue:null,description:"A boolean value stating whether the array item has a toolbar",name:"hasToolbar",required:!0,type:{name:"boolean"}},index:{defaultValue:null,description:"A number stating the index the array item occurs in `items`",name:"index",required:!0,type:{name:"number"}},totalItems:{defaultValue:null,description:"A number stating the total number `items` in the array",name:"totalItems",required:!0,type:{name:"number"}},onAddIndexClick:{defaultValue:null,description:"Returns a function that adds a new item at `index`",name:"onAddIndexClick",required:!0,type:{name:"(index: number) => (event?: any) => void"}},onCopyIndexClick:{defaultValue:null,description:"Returns a function that copies the item at `index` into the position at `index + 1`",name:"onCopyIndexClick",required:!0,type:{name:"(index: number) => (event?: any) => void"}},onDropIndexClick:{defaultValue:null,description:"Returns a function that removes the item at `index`",name:"onDropIndexClick",required:!0,type:{name:"(index: number) => (event?: any) => void"}},onReorderClick:{defaultValue:null,description:"Returns a function that swaps the items at `index` with `newIndex`",name:"onReorderClick",required:!0,type:{name:"(index: number, newIndex: number) => (event?: any) => void"}},readonly:{defaultValue:null,description:"A boolean value stating if the array item is read-only",name:"readonly",required:!0,type:{name:"boolean"}},key:{defaultValue:null,description:"A stable, unique key for the array item",name:"key",required:!0,type:{name:"string"}},schema:{defaultValue:null,description:"The schema object for this array item",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this array item",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}function U(e){const{idSchema:t,uiSchema:a,items:n,registry:i,schema:d,formContext:o}=e,l=J(a),s=_("ArrayFieldTitleTemplate",i,l),y=_("ArrayFieldDescriptionTemplate",i,l),S=_("ArrayFieldItemTemplate",i,l),p=!!e.schema[Z],u=ye(),[c,m]=q.useState(!1);return q.useEffect(()=>{e.items.length===0&&!(o!=null&&o.allowRemovingLastItemInArray)&&e.onAddClick()},[e,o==null?void 0:o.allowRemovingLastItemInArray]),r.jsxs(W,{id:t.$id,className:e.className,children:[r.jsxs("div",{className:"LabelContainer",children:[r.jsx(s,{...e}),!p&&r.jsx(te,{title:"More Info",children:r.jsx(L,{onClick:h=>{h.preventDefault(),m(!c)},"aria-expanded":c,size:"small",children:r.jsx(pe,{color:"primary",sx:{width:"16px",height:"16px"}})})})]}),(!n||z(n))&&r.jsx(X,{variant:"outlined",onClick:e.onAddClick,children:"Add item"}),n&&r.jsx(r.Fragment,{children:n.map(({key:h,index:x,...T})=>r.jsx(S,{index:x,...T,hasRemove:p||n.length>1||!!(o!=null&&o.allowRemovingLastItemInArray),onDropIndexClick:p&&n.length==1&&u?()=>A=>{u.dropProperty(A)}:T.onDropIndexClick},h))}),r.jsx(re,{className:"field-description",in:c,children:r.jsx(y,{idSchema:t,schema:d,description:(l.description||d.description)??"",uiSchema:a,registry:i})})]})}try{U.displayName="ArrayFieldTemplate",U.__docgenInfo={description:"The `ArrayFieldTemplate` component is the template used to render all items in an array.",displayName:"ArrayFieldTemplate",props:{canAdd:{defaultValue:null,description:"A boolean value stating whether new elements can be added to the array",name:"canAdd",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"The className string",name:"className",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"A boolean value stating if the array is disabled",name:"disabled",required:!1,type:{name:"boolean"}},idSchema:{defaultValue:null,description:"An object containing the id for this object & ids for its properties",name:"idSchema",required:!0,type:{name:"IdSchema<T>"}},items:{defaultValue:null,description:"An array of objects representing the items in the array",name:"items",required:!0,type:{name:"ArrayFieldTemplateItemType<T, S, F>[]"}},onAddClick:{defaultValue:null,description:"A function that adds a new item to the array",name:"onAddClick",required:!0,type:{name:"(event?: any) => void"}},readonly:{defaultValue:null,description:"A boolean value stating if the array is read-only",name:"readonly",required:!1,type:{name:"boolean"}},required:{defaultValue:null,description:"A boolean value stating if the array is required",name:"required",required:!1,type:{name:"boolean"}},hideError:{defaultValue:null,description:"A boolean value stating if the field is hiding its errors",name:"hideError",required:!1,type:{name:"boolean"}},schema:{defaultValue:null,description:"The schema object for this array",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this array field",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},title:{defaultValue:null,description:"A string value containing the title for the array",name:"title",required:!0,type:{name:"string"}},formContext:{defaultValue:null,description:"The `formContext` object that was passed to Form",name:"formContext",required:!1,type:{name:"CustomFormContext"}},formData:{defaultValue:null,description:"The formData for this array",name:"formData",required:!1,type:{name:"T"}},errorSchema:{defaultValue:null,description:"The tree of errors for this field and its children",name:"errorSchema",required:!1,type:{name:"ErrorSchema<T>"}},rawErrors:{defaultValue:null,description:"An array of strings listing all generated error messages from encountered errors for this widget",name:"rawErrors",required:!1,type:{name:"string[]"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}function P(e){const{title:t,required:a}=e;return r.jsxs(ae,{children:[t,a&&r.jsx("span",{className:"required",children:"*"})]})}try{P.displayName="ArrayFieldTitleTemplate",P.__docgenInfo={description:"Custom title template for array fields.",displayName:"ArrayFieldTitleTemplate",props:{required:{defaultValue:null,description:"A boolean value stating if the field is required",name:"required",required:!1,type:{name:"boolean"}},schema:{defaultValue:null,description:"The schema object for the field being titled",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this title field",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}},title:{defaultValue:null,description:"The title for the field being rendered",name:"title",required:!1,type:{name:"string"}},idSchema:{defaultValue:null,description:"The idSchema of the field in the hierarchy",name:"idSchema",required:!0,type:{name:"IdSchema<T>"}}}}}catch{}const G={minWidth:"unset",width:"40px",height:"40px"};function j({uiSchema:e,registry:t,...a}){const{translateString:n}=t;return r.jsx(X,{title:n(g.AddItemButton),...a,color:"primary",variant:"contained",sx:G,children:r.jsx(ue,{})})}function he(e){switch(e){case"copy":return r.jsx(ne,{fontSize:"inherit"});case"moveUp":return r.jsx(oe,{fontSize:"inherit"});case"moveDown":return r.jsx(me,{fontSize:"inherit"});case"remove":return r.jsx(ie,{fontSize:"inherit"});default:throw new Error(`Unexpected iconType ${e}`)}}function b(e){const{iconType:t,buttonType:a,uiSchema:n,...i}=e;return r.jsx(L,{...i,color:"default",sx:G,children:he(a)})}function V(e){const{registry:{translateString:t}}=e;return r.jsx(b,{title:t(g.RemoveButton),...e,buttonType:"remove"})}function C(e){const{registry:{translateString:t}}=e;return r.jsx(b,{title:t(g.CopyButton),...e,buttonType:"copy"})}function w(e){const{registry:{translateString:t}}=e;return r.jsx(b,{title:t(g.MoveUpButton),...e,buttonType:"moveUp"})}function I(e){const{registry:{translateString:t}}=e;return r.jsx(b,{title:t(g.MoveDownButton),...e,buttonType:"moveDown"})}const ze={AddButton:j,RemoveButton:V,MoveUpButton:w,MoveDownButton:I,CopyButton:C};try{j.displayName="AddButton",j.__docgenInfo={description:"",displayName:"AddButton",props:{iconType:{defaultValue:null,description:"An alternative specification for the type of the icon button",name:"iconType",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"The name representation or actual react element implementation for the icon",name:"icon",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},uiSchema:{defaultValue:null,description:"The uiSchema for this widget",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}try{V.displayName="RemoveButton",V.__docgenInfo={description:"",displayName:"RemoveButton",props:{iconType:{defaultValue:null,description:"An alternative specification for the type of the icon button",name:"iconType",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"The name representation or actual react element implementation for the icon",name:"icon",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},uiSchema:{defaultValue:null,description:"The uiSchema for this widget",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}try{C.displayName="CopyButton",C.__docgenInfo={description:"",displayName:"CopyButton",props:{iconType:{defaultValue:null,description:"An alternative specification for the type of the icon button",name:"iconType",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"The name representation or actual react element implementation for the icon",name:"icon",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},uiSchema:{defaultValue:null,description:"The uiSchema for this widget",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}try{w.displayName="MoveUpButton",w.__docgenInfo={description:"",displayName:"MoveUpButton",props:{iconType:{defaultValue:null,description:"An alternative specification for the type of the icon button",name:"iconType",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"The name representation or actual react element implementation for the icon",name:"icon",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},uiSchema:{defaultValue:null,description:"The uiSchema for this widget",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}try{I.displayName="MoveDownButton",I.__docgenInfo={description:"",displayName:"MoveDownButton",props:{iconType:{defaultValue:null,description:"An alternative specification for the type of the icon button",name:"iconType",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"The name representation or actual react element implementation for the icon",name:"icon",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},uiSchema:{defaultValue:null,description:"The uiSchema for this widget",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}function O(e){const{idSchema:t,description:a,registry:n,schema:i,uiSchema:d}=e,o=J(d,n.globalUiOptions),{label:l}=o;if(l===!1)return null;const s=_("DescriptionFieldTemplate",n,o),y=`${t.$id}__description`;return r.jsx(s,{id:y,description:a??"",schema:i,uiSchema:d,registry:n})}try{O.displayName="ArrayFieldDescriptionTemplate",O.__docgenInfo={description:"The `ArrayFieldDescriptionTemplate` component renders a `DescriptionFieldTemplate` with an `id` derived from\nthe `idSchema`.\n\nIdentical to",displayName:"ArrayFieldDescriptionTemplate",props:{schema:{defaultValue:null,description:"The schema object for the field being described",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this description field",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}},description:{defaultValue:null,description:"The description of the field being rendered",name:"description",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},idSchema:{defaultValue:null,description:"The idSchema of the field in the hierarchy",name:"idSchema",required:!0,type:{name:"IdSchema<T>"}}}}}catch{}function M(e){const{errors:t}=e;return r.jsxs(ce,{severity:"error",sx:{my:2},children:[r.jsx("b",{children:"Validation errors found:"}),r.jsx("ul",{children:t.map((a,n)=>r.jsxs("li",{children:[r.jsx("b",{children:`${$(a)}: `})," ",`${a.message}`]},n))})]})}try{M.displayName="ErrorListTemplate",M.__docgenInfo={description:"",displayName:"ErrorListTemplate",props:{errorSchema:{defaultValue:null,description:"The errorSchema constructed by `Form`",name:"errorSchema",required:!0,type:{name:"ErrorSchema<T>"}},errors:{defaultValue:null,description:"An array of the errors",name:"errors",required:!0,type:{name:"RJSFValidationError[]"}},formContext:{defaultValue:null,description:"The `formContext` object that was passed to `Form`",name:"formContext",required:!1,type:{name:"GenericObjectType"}},schema:{defaultValue:null,description:"The schema that was passed to `Form`",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema that was passed to `Form`",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}export{O as A,ze as B,D,M as E,pe as H,E as T,k as a,U as b,P as c,B as d,Je as e,N as f,We as g,$ as h,Me as i,Oe as j,Le as s};
