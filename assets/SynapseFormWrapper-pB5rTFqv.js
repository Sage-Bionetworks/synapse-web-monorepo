import{bP as Hi,b_ as Tt,hQ as Vi,cf as Wi,dM as Yi,dN as Gi,bE as zi,hR as Ut,hS as Ji,gE as Ki,dO as Xi,gD as Qi,hT as Zi,hU as ea,j as x,al as Lr,e_ as Ge,bB as Bt,da as kt,r as ur,de as ra,c3 as ta,aa as He,an as na,ay as ia,B as aa,d6 as oa}from"./iframe-BSxjDfu3.js";import{d as oe,a as di,g as ua}from"./index-Chi_LkuB.js";import{i as sa,F as la,v as fa}from"./index-zSLuykdW.js";import{b as Dt,g as be}from"./_baseIteratee-B8HVuStq.js";import{s as nr}from"./enums-TtQwdwfy.js";import{r as hi}from"./events-DQ172AOg.js";import{s as $t,c as ca}from"./_stringToArray-3zGK4MtT.js";import{a as da}from"./index.prod-qslq8pk-.js";import{C as ha}from"./ConfirmationDialog-BqzMQSuY.js";import{N as me,S as Te,a as ge}from"./types-CP9zjM1W.js";import{i as Ht}from"./isString-D9cl2q_q.js";import{h as pi}from"./head-aneRfQQJ.js";import{S as pa,a as ma,b as va}from"./SynapseFormRadioWidget--qlTVV40.js";import{W as ga}from"./WarningDialog-KSS4rKxa.js";import{i as ya}from"./pickBy-KPoNrIIw.js";function _a(o){return function(i,f,d){var l=Object(i);if(!Hi(i)){var r=Dt(f);i=Tt(i),f=function(s){return r(l[s],s,l)}}var a=o(i,f,d);return a>-1?l[r?i[a]:a]:void 0}}var Sa=Math.max;function mi(o,i,f){var d=o==null?0:o.length;if(!d)return-1;var l=f==null?0:Wi(f);return l<0&&(l=Sa(d+l,0)),Vi(o,Dt(i),l)}var vi=_a(mi),ba="[object Date]";function wa(o){return Yi(o)&&Gi(o)==ba}var Vt=Ut&&Ut.isDate,Ea=Vt?zi(Vt):wa,xa=Array.prototype,Oa=xa.splice;function Aa(o,i){for(var f=o?i.length:0,d=f-1;f--;){var l=i[f];if(f==d||l!==r){var r=l;Ji(l)?Oa.call(o,l,1):Ki(o,l)}}return o}function Ra(o,i){var f=[];if(!(o&&o.length))return f;var d=-1,l=[],r=o.length;for(i=Dt(i);++d<r;){var a=o[d];i(a,d,o)&&(f.push(a),l.push(d))}return Aa(o,l),f}function Pa(o,i){for(var f=-1,d=o.length;++f<d&&Xi(i,o[f],0)>-1;);return f}var ja=/^\s+/;function gi(o,i,f){if(o=Qi(o),o&&i===void 0)return o.replace(ja,"");if(!o||!(i=Zi(i)))return o;var d=$t(o),l=Pa(d,$t(i));return ca(d,l).join("")}var Ce={},we={},Ie={},Fe={},ue={},Je={},Wr,Wt;function Et(){if(Wt)return Wr;Wt=1;function o(l){if(typeof l!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(l))}function i(l,r){for(var a="",s=0,t=-1,u=0,n,h=0;h<=l.length;++h){if(h<l.length)n=l.charCodeAt(h);else{if(n===47)break;n=47}if(n===47){if(!(t===h-1||u===1))if(t!==h-1&&u===2){if(a.length<2||s!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var c=a.lastIndexOf("/");if(c!==a.length-1){c===-1?(a="",s=0):(a=a.slice(0,c),s=a.length-1-a.lastIndexOf("/")),t=h,u=0;continue}}else if(a.length===2||a.length===1){a="",s=0,t=h,u=0;continue}}r&&(a.length>0?a+="/..":a="..",s=2)}else a.length>0?a+="/"+l.slice(t+1,h):a=l.slice(t+1,h),s=h-t-1;t=h,u=0}else n===46&&u!==-1?++u:u=-1}return a}function f(l,r){var a=r.dir||r.root,s=r.base||(r.name||"")+(r.ext||"");return a?a===r.root?a+s:a+l+s:s}var d={resolve:function(){for(var r="",a=!1,s,t=arguments.length-1;t>=-1&&!a;t--){var u;t>=0?u=arguments[t]:(s===void 0&&(s=oe.process.cwd()),u=s),o(u),u.length!==0&&(r=u+"/"+r,a=u.charCodeAt(0)===47)}return r=i(r,!a),a?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(r){if(o(r),r.length===0)return".";var a=r.charCodeAt(0)===47,s=r.charCodeAt(r.length-1)===47;return r=i(r,!a),r.length===0&&!a&&(r="."),r.length>0&&s&&(r+="/"),a?"/"+r:r},isAbsolute:function(r){return o(r),r.length>0&&r.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var r,a=0;a<arguments.length;++a){var s=arguments[a];o(s),s.length>0&&(r===void 0?r=s:r+="/"+s)}return r===void 0?".":d.normalize(r)},relative:function(r,a){if(o(r),o(a),r===a||(r=d.resolve(r),a=d.resolve(a),r===a))return"";for(var s=1;s<r.length&&r.charCodeAt(s)===47;++s);for(var t=r.length,u=t-s,n=1;n<a.length&&a.charCodeAt(n)===47;++n);for(var h=a.length,c=h-n,p=u<c?u:c,v=-1,S=0;S<=p;++S){if(S===p){if(c>p){if(a.charCodeAt(n+S)===47)return a.slice(n+S+1);if(S===0)return a.slice(n+S)}else u>p&&(r.charCodeAt(s+S)===47?v=S:S===0&&(v=0));break}var y=r.charCodeAt(s+S),b=a.charCodeAt(n+S);if(y!==b)break;y===47&&(v=S)}var g="";for(S=s+v+1;S<=t;++S)(S===t||r.charCodeAt(S)===47)&&(g.length===0?g+="..":g+="/..");return g.length>0?g+a.slice(n+v):(n+=v,a.charCodeAt(n)===47&&++n,a.slice(n))},_makeLong:function(r){return r},dirname:function(r){if(o(r),r.length===0)return".";for(var a=r.charCodeAt(0),s=a===47,t=-1,u=!0,n=r.length-1;n>=1;--n)if(a=r.charCodeAt(n),a===47){if(!u){t=n;break}}else u=!1;return t===-1?s?"/":".":s&&t===1?"//":r.slice(0,t)},basename:function(r,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');o(r);var s=0,t=-1,u=!0,n;if(a!==void 0&&a.length>0&&a.length<=r.length){if(a.length===r.length&&a===r)return"";var h=a.length-1,c=-1;for(n=r.length-1;n>=0;--n){var p=r.charCodeAt(n);if(p===47){if(!u){s=n+1;break}}else c===-1&&(u=!1,c=n+1),h>=0&&(p===a.charCodeAt(h)?--h===-1&&(t=n):(h=-1,t=c))}return s===t?t=c:t===-1&&(t=r.length),r.slice(s,t)}else{for(n=r.length-1;n>=0;--n)if(r.charCodeAt(n)===47){if(!u){s=n+1;break}}else t===-1&&(u=!1,t=n+1);return t===-1?"":r.slice(s,t)}},extname:function(r){o(r);for(var a=-1,s=0,t=-1,u=!0,n=0,h=r.length-1;h>=0;--h){var c=r.charCodeAt(h);if(c===47){if(!u){s=h+1;break}continue}t===-1&&(u=!1,t=h+1),c===46?a===-1?a=h:n!==1&&(n=1):a!==-1&&(n=-1)}return a===-1||t===-1||n===0||n===1&&a===t-1&&a===s+1?"":r.slice(a,t)},format:function(r){if(r===null||typeof r!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof r);return f("/",r)},parse:function(r){o(r);var a={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return a;var s=r.charCodeAt(0),t=s===47,u;t?(a.root="/",u=1):u=0;for(var n=-1,h=0,c=-1,p=!0,v=r.length-1,S=0;v>=u;--v){if(s=r.charCodeAt(v),s===47){if(!p){h=v+1;break}continue}c===-1&&(p=!1,c=v+1),s===46?n===-1?n=v:S!==1&&(S=1):n!==-1&&(S=-1)}return n===-1||c===-1||S===0||S===1&&n===c-1&&n===h+1?c!==-1&&(h===0&&t?a.base=a.name=r.slice(1,c):a.base=a.name=r.slice(h,c)):(h===0&&t?(a.name=r.slice(1,n),a.base=r.slice(1,c)):(a.name=r.slice(h,n),a.base=r.slice(h,c)),a.ext=r.slice(n,c)),h>0?a.dir=r.slice(0,h-1):t&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return d.posix=d,Wr=d,Wr}var Yt;function yi(){if(Yt)return Je;Yt=1;var o=Je&&Je.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Je,"__esModule",{value:!0}),Je.default=f;const i=o(Et());function f(d){return d.startsWith("\\\\?\\")?d:d.split(i.default?.win32?.sep).join(i.default?.posix?.sep??"/")}return Je}var ir={},Gt;function Ca(){if(Gt)return ir;Gt=1,Object.defineProperty(ir,"__esModule",{value:!0}),ir.isWindows=void 0;const o=/^win/.test(globalThis.process?globalThis.process.platform:""),i=()=>o;return ir.isWindows=i,ir}var zt;function je(){if(zt)return ue;zt=1;var o=ue&&ue.__createBinding||(Object.create?(function(A,F,N,Q){Q===void 0&&(Q=N);var re=Object.getOwnPropertyDescriptor(F,N);(!re||("get"in re?!F.__esModule:re.writable||re.configurable))&&(re={enumerable:!0,get:function(){return F[N]}}),Object.defineProperty(A,Q,re)}):(function(A,F,N,Q){Q===void 0&&(Q=N),A[Q]=F[N]})),i=ue&&ue.__setModuleDefault||(Object.create?(function(A,F){Object.defineProperty(A,"default",{enumerable:!0,value:F})}):function(A,F){A.default=F}),f=ue&&ue.__importStar||(function(){var A=function(F){return A=Object.getOwnPropertyNames||function(N){var Q=[];for(var re in N)Object.prototype.hasOwnProperty.call(N,re)&&(Q[Q.length]=re);return Q},A(F)};return function(F){if(F&&F.__esModule)return F;var N={};if(F!=null)for(var Q=A(F),re=0;re<Q.length;re++)Q[re]!=="default"&&o(N,F,Q[re]);return i(N,F),N}})(),d=ue&&ue.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(ue,"__esModule",{value:!0}),ue.parse=void 0,ue.resolve=S,ue.cwd=y,ue.getProtocol=b,ue.getExtension=g,ue.stripQuery=_,ue.getHash=w,ue.stripHash=E,ue.isHttp=P,ue.isUnsafeUrl=q,ue.isFileSystemPath=j,ue.fromFileSystemPath=L,ue.toFileSystemPath=Y,ue.safePointerToPath=K,ue.relative=W;const l=d(yi()),r=f(Et()),a=/\//g,s=/^(\w{2,}):\/\//i,t=/~1/g,u=/~0/g,n=Et(),h=Ca(),c=[[/\?/g,"%3F"],[/#/g,"%23"]],p=[/%23/g,"#",/%24/g,"$",/%26/g,"&",/%2C/g,",",/%40/g,"@"],v=A=>new URL(A);ue.parse=v;function S(A,F){const N=new URL((0,l.default)(A),"https://aaa.nonexistanturl.com"),Q=new URL((0,l.default)(F),N),re=F.match(/(\s*)$/)?.[1]||"";if(Q.hostname==="aaa.nonexistanturl.com"){const{pathname:ne,search:pe,hash:_e}=Q;return ne+pe+_e+re}return Q.toString()+re}function y(){if(typeof window<"u"&&window.location&&window.location.href){const A=window.location.href;if(!A||!A.startsWith("http"))try{return new URL(A),A}catch{return"/"}return A}if(typeof oe.process<"u"&&oe.process.cwd){const A=oe.process.cwd(),F=A.slice(-1);return F==="/"||F==="\\"?A:A+"/"}return"/"}function b(A){const F=s.exec(A||"");if(F)return F[1].toLowerCase()}function g(A){const F=A.lastIndexOf(".");return F>=0?_(A.substr(F).toLowerCase()):""}function _(A){const F=A.indexOf("?");return F>=0&&(A=A.substr(0,F)),A}function w(A){if(!A)return"#";const F=A.indexOf("#");return F>=0?A.substring(F):"#"}function E(A){if(!A)return"";const F=A.indexOf("#");return F>=0&&(A=A.substring(0,F)),A}function P(A){const F=b(A);return F==="http"||F==="https"?!0:F===void 0?typeof window<"u":!1}function q(A){if(!A||typeof A!="string")return!0;const F=A.trim().toLowerCase();if(!F||F.startsWith("javascript:")||F.startsWith("vbscript:")||F.startsWith("data:")||F.startsWith("file:"))return!0;if(typeof window<"u"&&window.location&&window.location.href)return!1;const N=["localhost","127.0.0.1","::1","10.","172.16.","172.17.","172.18.","172.19.","172.20.","172.21.","172.22.","172.23.","172.24.","172.25.","172.26.","172.27.","172.28.","172.29.","172.30.","172.31.","192.168.","169.254.",".local",".internal",".intranet",".corp",".home",".lan"];try{const Q=new URL(F.startsWith("//")?"http:"+F:F),re=Q.hostname.toLowerCase();for(const pe of N)if(re===pe||re.startsWith(pe)||re.endsWith(pe))return!0;if(V(re))return!0;const ne=Q.port;if(ne&&$(parseInt(ne)))return!0}catch{if(F.startsWith("/")&&!F.startsWith("//"))return!1;for(const re of N)if(F.includes(re))return!0}return!1}function V(A){const F=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/,N=A.match(F);if(!N)return!1;const[,Q,re,ne,pe]=N.map(Number);return Q>255||re>255||ne>255||pe>255?!1:Q===10||Q===127||Q===172&&re>=16&&re<=31||Q===192&&re===168||Q===169&&re===254}function $(A){return[22,23,25,53,135,139,445,993,995,1433,1521,3306,3389,5432,5900,6379,8080,8443,9200,27017].includes(A)}function j(A){if(typeof window<"u"||typeof oe.process<"u"&&oe.process.browser)return!1;const F=b(A);return F===void 0||F==="file"}function L(A){if((0,h.isWindows)()){const F=y(),N=A.toUpperCase(),re=(0,l.default)(F).toUpperCase(),ne=N.includes(re),pe=N.includes(re),_e=r.win32?.isAbsolute(A)||A.startsWith("http://")||A.startsWith("https://")||A.startsWith("file://");!(ne||pe||_e)&&!F.startsWith("http")&&(A=(0,n.join)(F,A)),A=(0,l.default)(A)}A=encodeURI(A);for(const F of c)A=A.replace(F[0],F[1]);return A}function Y(A,F){A=decodeURI(A);for(let Q=0;Q<p.length;Q+=2)A=A.replace(p[Q],p[Q+1]);let N=A.substr(0,7).toLowerCase()==="file://";return N&&(A=A[7]==="/"?A.substr(8):A.substr(7),(0,h.isWindows)()&&A[1]==="/"&&(A=A[0]+":"+A.substr(1)),F?A="file:///"+A:(N=!1,A=(0,h.isWindows)()?A:"/"+A)),(0,h.isWindows)()&&!N&&(A=A.replace(a,"\\"),A.substr(1,2)===":\\"&&(A=A[0].toUpperCase()+A.substr(1))),A}function K(A){return A.length<=1||A[0]!=="#"||A[1]!=="/"?[]:A.slice(2).split("/").map(F=>decodeURIComponent(F).replace(t,"/").replace(u,"~"))}function W(A,F){if(!j(A)||!j(F))return S(A,F);const N=r.default.dirname(E(A)),Q=E(F);return r.default.relative(N,Q)+w(F)}return ue}var fe={},Jt;function De(){if(Jt)return fe;Jt=1,Object.defineProperty(fe,"__esModule",{value:!0}),fe.InvalidPointerError=fe.TimeoutError=fe.MissingPointerError=fe.UnmatchedResolverError=fe.ResolverError=fe.UnmatchedParserError=fe.ParserError=fe.JSONParserErrorGroup=fe.JSONParserError=void 0,fe.toJSON=l,fe.getDeepKeys=r,fe.isHandledError=S,fe.normalizeError=y;const o=je(),i=["function","symbol","undefined"],f=["constructor","prototype","__proto__"],d=Object.getPrototypeOf({});function l(){const b={},g=this;for(const _ of r(g))if(typeof _=="string"){const w=g[_],E=typeof w;i.includes(E)||(b[_]=w)}return b}function r(b,g=[]){let _=[];for(;b&&b!==d;)_=_.concat(Object.getOwnPropertyNames(b),Object.getOwnPropertySymbols(b)),b=Object.getPrototypeOf(b);const w=new Set(_);for(const E of g.concat(f))w.delete(E);return w}class a extends Error{name;message;source;path;code;constructor(g,_){super(),this.code="EUNKNOWN",this.name="JSONParserError",this.message=g,this.source=_,this.path=null}toJSON=l.bind(this);get footprint(){return`${this.path}+${this.source}+${this.code}+${this.message}`}}fe.JSONParserError=a;class s extends Error{files;constructor(g){super(),this.files=g,this.name="JSONParserErrorGroup",this.message=`${this.errors.length} error${this.errors.length>1?"s":""} occurred while reading '${(0,o.toFileSystemPath)(g.$refs._root$Ref.path)}'`}toJSON=l.bind(this);static getParserErrors(g){const _=[];for(const w of Object.values(g.$refs._$refs))w.errors&&_.push(...w.errors);return _}get errors(){return s.getParserErrors(this.files)}}fe.JSONParserErrorGroup=s;class t extends a{code="EPARSER";name="ParserError";constructor(g,_){super(`Error parsing ${_}: ${g}`,_)}}fe.ParserError=t;class u extends a{code="EUNMATCHEDPARSER";name="UnmatchedParserError";constructor(g){super(`Could not find parser for "${g}"`,g)}}fe.UnmatchedParserError=u;class n extends a{code="ERESOLVER";name="ResolverError";ioErrorCode;constructor(g,_){super(g.message||`Error reading file "${_}"`,_),"code"in g&&(this.ioErrorCode=String(g.code))}}fe.ResolverError=n;class h extends a{code="EUNMATCHEDRESOLVER";name="UnmatchedResolverError";constructor(g){super(`Could not find resolver for "${g}"`,g)}}fe.UnmatchedResolverError=h;class c extends a{code="EMISSINGPOINTER";name="MissingPointerError";targetToken;targetRef;targetFound;parentPath;constructor(g,_,w,E,P){super(`Missing $ref pointer "${(0,o.getHash)(_)}". Token "${g}" does not exist.`,(0,o.stripHash)(_)),this.targetToken=g,this.targetRef=w,this.targetFound=E,this.parentPath=P}}fe.MissingPointerError=c;class p extends a{code="ETIMEOUT";name="TimeoutError";constructor(g){super(`Dereferencing timeout reached: ${g}ms`)}}fe.TimeoutError=p;class v extends a{code="EUNMATCHEDRESOLVER";name="InvalidPointerError";constructor(g,_){super(`Invalid $ref pointer "${g}". Pointers must begin with "#/"`,(0,o.stripHash)(_))}}fe.InvalidPointerError=v;function S(b){return b instanceof a||b instanceof s}function y(b){return b.path===null&&(b.path=[]),b}return fe}var Kt;function Br(){return Kt||(Kt=1,(function(o){var i=Fe&&Fe.__createBinding||(Object.create?(function(g,_,w,E){E===void 0&&(E=w);var P=Object.getOwnPropertyDescriptor(_,w);(!P||("get"in P?!_.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return _[w]}}),Object.defineProperty(g,E,P)}):(function(g,_,w,E){E===void 0&&(E=w),g[E]=_[w]})),f=Fe&&Fe.__setModuleDefault||(Object.create?(function(g,_){Object.defineProperty(g,"default",{enumerable:!0,value:_})}):function(g,_){g.default=_}),d=Fe&&Fe.__importStar||(function(){var g=function(_){return g=Object.getOwnPropertyNames||function(w){var E=[];for(var P in w)Object.prototype.hasOwnProperty.call(w,P)&&(E[E.length]=P);return E},g(_)};return function(_){if(_&&_.__esModule)return _;var w={};if(_!=null)for(var E=g(_),P=0;P<E.length;P++)E[P]!=="default"&&i(w,_,E[P]);return f(w,_),w}})(),l=Fe&&Fe.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(o,"__esModule",{value:!0}),o.nullSymbol=void 0;const r=l(lr()),a=d(je()),s=De();o.nullSymbol=Symbol("null");const t=/\//g,u=/~/g,n=/~1/g,h=/~0/g,c=g=>{try{return decodeURIComponent(g)}catch{return g}};class p{$ref;path;originalPath;value;circular;indirections;constructor(_,w,E){this.$ref=_,this.path=w,this.originalPath=E||w,this.value=void 0,this.circular=!1,this.indirections=0}resolve(_,w,E){const P=p.parse(this.path,this.originalPath),q=[];this.value=y(_);for(let V=0;V<P.length;V++){v(this,w,E)&&(this.path=p.join(this.path,P.slice(V)));const $=P[V];if(this.value[$]===void 0||this.value[$]===null&&V===P.length-1){let j=!1;for(let A=P.length-1;A>V;A--){const F=P.slice(V,A+1).join("/");if(this.value[F]!==void 0){this.value=this.value[F],V=A,j=!0;break}}if(j)continue;if($ in this.value&&this.value[$]===null){this.value=o.nullSymbol;continue}this.value=null;const L=this.$ref.path||"",Y=this.path.replace(L,""),K=p.join("",q),W=E?.replace(L,"");throw new s.MissingPointerError($,decodeURI(this.originalPath),Y,K,W)}else this.value=this.value[$];q.push($)}return(!this.value||this.value.$ref&&a.resolve(this.path,this.value.$ref)!==E)&&v(this,w,E),this}set(_,w,E){const P=p.parse(this.path);let q;if(P.length===0)return this.value=w,w;this.value=y(_);for(let V=0;V<P.length-1;V++)v(this,E),q=P[V],this.value&&this.value[q]!==void 0?this.value=this.value[q]:this.value=S(this,q,{});return v(this,E),q=P[P.length-1],S(this,q,w),_}static parse(_,w){const E=a.getHash(_).substring(1);if(!E)return[];const P=E.split("/");for(let q=0;q<P.length;q++)P[q]=c(P[q].replace(n,"/").replace(h,"~"));if(P[0]!=="")throw new s.InvalidPointerError(E,w===void 0?_:w);return P.slice(1)}static join(_,w){_.indexOf("#")===-1&&(_+="#"),w=Array.isArray(w)?w:[w];for(let E=0;E<w.length;E++){const P=w[E];_+="/"+encodeURIComponent(P.replace(u,"~0").replace(t,"~1"))}return _}}function v(g,_,w){if(r.default.isAllowed$Ref(g.value,_)){const E=a.resolve(g.path,g.value.$ref);if(E===g.path&&!b(w))g.circular=!0;else{const P=g.$ref.$refs._resolve(E,g.path,_);return P===null?!1:(g.indirections+=P.indirections+1,r.default.isExtended$Ref(g.value)?(g.value=r.default.dereference(g.value,P.value),!1):(g.$ref=P.$ref,g.path=P.path,g.value=P.value,!0))}}}o.default=p;function S(g,_,w){if(g.value&&typeof g.value=="object")_==="-"&&Array.isArray(g.value)?g.value.push(w):g.value[_]=w;else throw new s.JSONParserError(`Error assigning $ref pointer "${g.path}". 
Cannot set "${_}" of a non-object.`);return w}function y(g){if((0,s.isHandledError)(g))throw g;return g}function b(g){return typeof g=="string"&&p.parse(g).length==0}})(Fe)),Fe}var Xt;function lr(){if(Xt)return Ie;Xt=1;var o=Ie&&Ie.__createBinding||(Object.create?(function(s,t,u,n){n===void 0&&(n=u);var h=Object.getOwnPropertyDescriptor(t,u);(!h||("get"in h?!t.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return t[u]}}),Object.defineProperty(s,n,h)}):(function(s,t,u,n){n===void 0&&(n=u),s[n]=t[u]})),i=Ie&&Ie.__setModuleDefault||(Object.create?(function(s,t){Object.defineProperty(s,"default",{enumerable:!0,value:t})}):function(s,t){s.default=t}),f=Ie&&Ie.__importStar||(function(){var s=function(t){return s=Object.getOwnPropertyNames||function(u){var n=[];for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(n[n.length]=h);return n},s(t)};return function(t){if(t&&t.__esModule)return t;var u={};if(t!=null)for(var n=s(t),h=0;h<n.length;h++)n[h]!=="default"&&o(u,t,n[h]);return i(u,t),u}})();Object.defineProperty(Ie,"__esModule",{value:!0});const d=f(Br()),l=De(),r=je();class a{path;value;$refs;pathType;errors=[];constructor(t){this.$refs=t}addError(t){this.errors===void 0&&(this.errors=[]);const u=this.errors.map(({footprint:n})=>n);"errors"in t&&Array.isArray(t.errors)?this.errors.push(...t.errors.map(l.normalizeError).filter(({footprint:n})=>!u.includes(n))):(!("footprint"in t)||!u.includes(t.footprint))&&this.errors.push((0,l.normalizeError)(t))}exists(t,u){try{return this.resolve(t,u),!0}catch{return!1}}get(t,u){return this.resolve(t,u)?.value}resolve(t,u,n,h){const c=new d.default(this,t,n);try{const p=c.resolve(this.value,u,h);return p.value===d.nullSymbol&&(p.value=null),p}catch(p){if(!u||!u.continueOnError||!(0,l.isHandledError)(p))throw p;return p.path===null&&(p.path=(0,r.safePointerToPath)((0,r.getHash)(h))),p instanceof l.InvalidPointerError&&(p.source=decodeURI((0,r.stripHash)(h))),this.addError(p),null}}set(t,u){const n=new d.default(this,t);this.value=n.set(this.value,u),this.value===d.nullSymbol&&(this.value=null)}static is$Ref(t){return!!t&&typeof t=="object"&&t!==null&&"$ref"in t&&typeof t.$ref=="string"&&t.$ref.length>0}static isExternal$Ref(t){return a.is$Ref(t)&&t.$ref[0]!=="#"}static isAllowed$Ref(t,u){if(this.is$Ref(t)){if(t.$ref.substring(0,2)==="#/"||t.$ref==="#")return!0;if(t.$ref[0]!=="#"&&(!u||u.resolve?.external))return!0}}static isExtended$Ref(t){return a.is$Ref(t)&&Object.keys(t).length>1}static dereference(t,u){if(u&&typeof u=="object"&&a.isExtended$Ref(t)){const n={};for(const h of Object.keys(t))h!=="$ref"&&(n[h]=t[h]);for(const h of Object.keys(u))h in n||(n[h]=u[h]);return n}else return u}}return Ie.default=a,Ie}var Qt;function Fa(){if(Qt)return we;Qt=1;var o=we&&we.__createBinding||(Object.create?(function(u,n,h,c){c===void 0&&(c=h);var p=Object.getOwnPropertyDescriptor(n,h);(!p||("get"in p?!n.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return n[h]}}),Object.defineProperty(u,c,p)}):(function(u,n,h,c){c===void 0&&(c=h),u[c]=n[h]})),i=we&&we.__setModuleDefault||(Object.create?(function(u,n){Object.defineProperty(u,"default",{enumerable:!0,value:n})}):function(u,n){u.default=n}),f=we&&we.__importStar||(function(){var u=function(n){return u=Object.getOwnPropertyNames||function(h){var c=[];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(c[c.length]=p);return c},u(n)};return function(n){if(n&&n.__esModule)return n;var h={};if(n!=null)for(var c=u(n),p=0;p<c.length;p++)c[p]!=="default"&&o(h,n,c[p]);return i(h,n),h}})(),d=we&&we.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(we,"__esModule",{value:!0});const l=d(lr()),r=f(je()),a=d(yi());class s{circular;paths(...n){return t(this._$refs,n.flat()).map(c=>(0,a.default)(c.decoded))}values(...n){const h=this._$refs;return t(h,n.flat()).reduce((p,v)=>(p[(0,a.default)(v.decoded)]=h[v.encoded].value,p),{})}exists(n,h){try{return this._resolve(n,"",h),!0}catch{return!1}}get(n,h){return this._resolve(n,"",h).value}set(n,h){const c=r.resolve(this._root$Ref.path,n),p=r.stripHash(c),v=this._$refs[p];if(!v)throw new Error(`Error resolving $ref pointer "${n}". 
"${p}" not found.`);v.set(c,h)}_get$Ref(n){n=r.resolve(this._root$Ref.path,n);const h=r.stripHash(n);return this._$refs[h]}_add(n){const h=r.stripHash(n),c=new l.default(this);return c.path=h,this._$refs[h]=c,this._root$Ref=this._root$Ref||c,c}_resolve(n,h,c){const p=r.resolve(this._root$Ref.path,n),v=r.stripHash(p),S=this._$refs[v];if(!S)throw new Error(`Error resolving $ref pointer "${n}". 
"${v}" not found.`);return S.resolve(p,c,n,h)}_$refs={};_root$Ref;constructor(){this.circular=!1,this._$refs={},this._root$Ref=null}toJSON=this.values}we.default=s;function t(u,n){let h=Object.keys(u);return n=Array.isArray(n[0])?n[0]:Array.prototype.slice.call(n),n.length>0&&n[0]&&(h=h.filter(c=>n.includes(u[c].pathType))),h.map(c=>({encoded:c,decoded:u[c].pathType==="file"?r.toFileSystemPath(c,!0):c}))}return we}var Me={},Ye={},Zt;function Na(){if(Zt)return Ye;Zt=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.all=o,Ye.filter=i,Ye.sort=f,Ye.run=d;function o(r){return Object.keys(r||{}).filter(a=>typeof r[a]=="object").map(a=>(r[a].name=a,r[a]))}function i(r,a,s){return r.filter(t=>!!l(t,a,s))}function f(r){for(const a of r)a.order=a.order||Number.MAX_SAFE_INTEGER;return r.sort((a,s)=>a.order-s.order)}async function d(r,a,s,t){let u,n,h=0;return new Promise((c,p)=>{v();function v(){if(u=r[h++],!u)return p(n);try{const g=l(u,a,s,S,t);if(g&&typeof g.then=="function")g.then(y,b);else if(g!==void 0)y(g);else if(h===r.length)throw new Error("No promise has been returned or callback has been called.")}catch(g){b(g)}}function S(g,_){g?b(g):y(_)}function y(g){c({plugin:u,result:g})}function b(g){n={plugin:u,error:g},v()}})}function l(r,a,s,t,u){const n=r[a];if(typeof n=="function")return n.apply(r,[s,t,u]);if(!t){if(n instanceof RegExp)return n.test(s.url);if(typeof n=="string")return n===s.extension;if(Array.isArray(n))return n.indexOf(s.extension)!==-1}return n}return Ye}var en;function _i(){if(en)return Me;en=1;var o=Me&&Me.__createBinding||(Object.create?(function(n,h,c,p){p===void 0&&(p=c);var v=Object.getOwnPropertyDescriptor(h,c);(!v||("get"in v?!h.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return h[c]}}),Object.defineProperty(n,p,v)}):(function(n,h,c,p){p===void 0&&(p=c),n[p]=h[c]})),i=Me&&Me.__setModuleDefault||(Object.create?(function(n,h){Object.defineProperty(n,"default",{enumerable:!0,value:h})}):function(n,h){n.default=h}),f=Me&&Me.__importStar||(function(){var n=function(h){return n=Object.getOwnPropertyNames||function(c){var p=[];for(var v in c)Object.prototype.hasOwnProperty.call(c,v)&&(p[p.length]=v);return p},n(h)};return function(h){if(h&&h.__esModule)return h;var c={};if(h!=null)for(var p=n(h),v=0;v<p.length;v++)p[v]!=="default"&&o(c,h,p[v]);return i(c,h),c}})();Object.defineProperty(Me,"__esModule",{value:!0});const d=f(je()),l=f(Na()),r=De();async function a(n,h,c){const p=n.indexOf("#");let v="";p>=0&&(v=n.substring(p),n=n.substring(0,p));const S=h._add(n),y={url:n,hash:v,extension:d.getExtension(n)};try{const b=await s(y,c,h);S.pathType=b.plugin.name,y.data=b.result;const g=await t(y,c,h);return S.value=g.result,g.result}catch(b){throw(0,r.isHandledError)(b)&&(S.value=b),b}}async function s(n,h,c){let p=l.all(h.resolve);p=l.filter(p,"canRead",n),l.sort(p);try{return await l.run(p,"read",n,c)}catch(v){throw!v&&h.continueOnError?new r.UnmatchedResolverError(n.url):!v||!("error"in v)?new SyntaxError(`Unable to resolve $ref pointer "${n.url}"`):v.error instanceof r.ResolverError?v.error:new r.ResolverError(v,n.url)}}async function t(n,h,c){const p=l.all(h.parse),v=l.filter(p,"canParse",n),S=v.length>0?v:p;l.sort(S);try{const y=await l.run(S,"parse",n,c);if(!y.plugin.allowEmpty&&u(y.result))throw new SyntaxError(`Error parsing "${n.url}" as ${y.plugin.name}. 
Parsed value is empty`);return y}catch(y){throw!y&&h.continueOnError?new r.UnmatchedParserError(n.url):y&&y.message&&y.message.startsWith("Error parsing")?y:!y||!("error"in y)?new SyntaxError(`Unable to parse ${n.url}`):y.error instanceof r.ParserError?y.error:new r.ParserError(y.error.message,n.url)}}function u(n){return n===void 0||typeof n=="object"&&Object.keys(n).length===0||typeof n=="string"&&n.trim().length===0||oe.Buffer.isBuffer(n)&&n.length===0}return Me.default=a,Me}var ar={},or={},Sr={},rn;function Ta(){if(rn)return Sr;rn=1,Object.defineProperty(Sr,"__esModule",{value:!0});const o=De();return Sr.default={order:100,allowEmpty:!0,canParse:".json",allowBOM:!0,async parse(i){let f=i.data;if(oe.Buffer.isBuffer(f)&&(f=f.toString()),typeof f=="string"){if(f.trim().length===0)return;try{return JSON.parse(f)}catch(d){if(this.allowBOM)try{const l=f.indexOf("{");return f=f.slice(l),JSON.parse(f)}catch(l){throw new o.ParserError(l.message,i.url)}throw new o.ParserError(d.message,i.url)}}else return f}},Sr}var Ke={},ve={},br={},$e={},tn;function fr(){if(tn)return $e;tn=1;function o(a){return typeof a>"u"||a===null}function i(a){return typeof a=="object"&&a!==null}function f(a){return Array.isArray(a)?a:o(a)?[]:[a]}function d(a,s){var t,u,n,h;if(s)for(h=Object.keys(s),t=0,u=h.length;t<u;t+=1)n=h[t],a[n]=s[n];return a}function l(a,s){var t="",u;for(u=0;u<s;u+=1)t+=a;return t}function r(a){return a===0&&Number.NEGATIVE_INFINITY===1/a}return $e.isNothing=o,$e.isObject=i,$e.toArray=f,$e.repeat=l,$e.isNegativeZero=r,$e.extend=d,$e}var Yr,nn;function cr(){if(nn)return Yr;nn=1;function o(f,d){var l="",r=f.reason||"(unknown reason)";return f.mark?(f.mark.name&&(l+='in "'+f.mark.name+'" '),l+="("+(f.mark.line+1)+":"+(f.mark.column+1)+")",!d&&f.mark.snippet&&(l+=`

`+f.mark.snippet),r+" "+l):r}function i(f,d){Error.call(this),this.name="YAMLException",this.reason=f,this.mark=d,this.message=o(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.prototype.toString=function(d){return this.name+": "+o(this,d)},Yr=i,Yr}var Gr,an;function Da(){if(an)return Gr;an=1;var o=fr();function i(l,r,a,s,t){var u="",n="",h=Math.floor(t/2)-1;return s-r>h&&(u=" ... ",r=s-h+u.length),a-s>h&&(n=" ...",a=s+h-n.length),{str:u+l.slice(r,a).replace(/\t/g,"→")+n,pos:s-r+u.length}}function f(l,r){return o.repeat(" ",r-l.length)+l}function d(l,r){if(r=Object.create(r||null),!l.buffer)return null;r.maxLength||(r.maxLength=79),typeof r.indent!="number"&&(r.indent=1),typeof r.linesBefore!="number"&&(r.linesBefore=3),typeof r.linesAfter!="number"&&(r.linesAfter=2);for(var a=/\r?\n|\r|\0/g,s=[0],t=[],u,n=-1;u=a.exec(l.buffer);)t.push(u.index),s.push(u.index+u[0].length),l.position<=u.index&&n<0&&(n=s.length-2);n<0&&(n=s.length-1);var h="",c,p,v=Math.min(l.line+r.linesAfter,t.length).toString().length,S=r.maxLength-(r.indent+v+3);for(c=1;c<=r.linesBefore&&!(n-c<0);c++)p=i(l.buffer,s[n-c],t[n-c],l.position-(s[n]-s[n-c]),S),h=o.repeat(" ",r.indent)+f((l.line-c+1).toString(),v)+" | "+p.str+`
`+h;for(p=i(l.buffer,s[n],t[n],l.position,S),h+=o.repeat(" ",r.indent)+f((l.line+1).toString(),v)+" | "+p.str+`
`,h+=o.repeat("-",r.indent+v+3+p.pos)+`^
`,c=1;c<=r.linesAfter&&!(n+c>=t.length);c++)p=i(l.buffer,s[n+c],t[n+c],l.position-(s[n]-s[n+c]),S),h+=o.repeat(" ",r.indent)+f((l.line+c+1).toString(),v)+" | "+p.str+`
`;return h.replace(/\n$/,"")}return Gr=d,Gr}var zr,on;function ye(){if(on)return zr;on=1;var o=cr(),i=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],f=["scalar","sequence","mapping"];function d(r){var a={};return r!==null&&Object.keys(r).forEach(function(s){r[s].forEach(function(t){a[String(t)]=s})}),a}function l(r,a){if(a=a||{},Object.keys(a).forEach(function(s){if(i.indexOf(s)===-1)throw new o('Unknown option "'+s+'" is met in definition of "'+r+'" YAML type.')}),this.options=a,this.tag=r,this.kind=a.kind||null,this.resolve=a.resolve||function(){return!0},this.construct=a.construct||function(s){return s},this.instanceOf=a.instanceOf||null,this.predicate=a.predicate||null,this.represent=a.represent||null,this.representName=a.representName||null,this.defaultStyle=a.defaultStyle||null,this.multi=a.multi||!1,this.styleAliases=d(a.styleAliases||null),f.indexOf(this.kind)===-1)throw new o('Unknown kind "'+this.kind+'" is specified for "'+r+'" YAML type.')}return zr=l,zr}var Jr,un;function Si(){if(un)return Jr;un=1;var o=cr(),i=ye();function f(r,a){var s=[];return r[a].forEach(function(t){var u=s.length;s.forEach(function(n,h){n.tag===t.tag&&n.kind===t.kind&&n.multi===t.multi&&(u=h)}),s[u]=t}),s}function d(){var r={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},a,s;function t(u){u.multi?(r.multi[u.kind].push(u),r.multi.fallback.push(u)):r[u.kind][u.tag]=r.fallback[u.tag]=u}for(a=0,s=arguments.length;a<s;a+=1)arguments[a].forEach(t);return r}function l(r){return this.extend(r)}return l.prototype.extend=function(a){var s=[],t=[];if(a instanceof i)t.push(a);else if(Array.isArray(a))t=t.concat(a);else if(a&&(Array.isArray(a.implicit)||Array.isArray(a.explicit)))a.implicit&&(s=s.concat(a.implicit)),a.explicit&&(t=t.concat(a.explicit));else throw new o("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");s.forEach(function(n){if(!(n instanceof i))throw new o("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(n.loadKind&&n.loadKind!=="scalar")throw new o("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(n.multi)throw new o("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),t.forEach(function(n){if(!(n instanceof i))throw new o("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var u=Object.create(l.prototype);return u.implicit=(this.implicit||[]).concat(s),u.explicit=(this.explicit||[]).concat(t),u.compiledImplicit=f(u,"implicit"),u.compiledExplicit=f(u,"explicit"),u.compiledTypeMap=d(u.compiledImplicit,u.compiledExplicit),u},Jr=l,Jr}var Kr,sn;function bi(){if(sn)return Kr;sn=1;var o=ye();return Kr=new o("tag:yaml.org,2002:str",{kind:"scalar",construct:function(i){return i!==null?i:""}}),Kr}var Xr,ln;function wi(){if(ln)return Xr;ln=1;var o=ye();return Xr=new o("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(i){return i!==null?i:[]}}),Xr}var Qr,fn;function Ei(){if(fn)return Qr;fn=1;var o=ye();return Qr=new o("tag:yaml.org,2002:map",{kind:"mapping",construct:function(i){return i!==null?i:{}}}),Qr}var Zr,cn;function xi(){if(cn)return Zr;cn=1;var o=Si();return Zr=new o({explicit:[bi(),wi(),Ei()]}),Zr}var et,dn;function Oi(){if(dn)return et;dn=1;var o=ye();function i(l){if(l===null)return!0;var r=l.length;return r===1&&l==="~"||r===4&&(l==="null"||l==="Null"||l==="NULL")}function f(){return null}function d(l){return l===null}return et=new o("tag:yaml.org,2002:null",{kind:"scalar",resolve:i,construct:f,predicate:d,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),et}var rt,hn;function Ai(){if(hn)return rt;hn=1;var o=ye();function i(l){if(l===null)return!1;var r=l.length;return r===4&&(l==="true"||l==="True"||l==="TRUE")||r===5&&(l==="false"||l==="False"||l==="FALSE")}function f(l){return l==="true"||l==="True"||l==="TRUE"}function d(l){return Object.prototype.toString.call(l)==="[object Boolean]"}return rt=new o("tag:yaml.org,2002:bool",{kind:"scalar",resolve:i,construct:f,predicate:d,represent:{lowercase:function(l){return l?"true":"false"},uppercase:function(l){return l?"TRUE":"FALSE"},camelcase:function(l){return l?"True":"False"}},defaultStyle:"lowercase"}),rt}var tt,pn;function Ri(){if(pn)return tt;pn=1;var o=fr(),i=ye();function f(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function d(t){return 48<=t&&t<=55}function l(t){return 48<=t&&t<=57}function r(t){if(t===null)return!1;var u=t.length,n=0,h=!1,c;if(!u)return!1;if(c=t[n],(c==="-"||c==="+")&&(c=t[++n]),c==="0"){if(n+1===u)return!0;if(c=t[++n],c==="b"){for(n++;n<u;n++)if(c=t[n],c!=="_"){if(c!=="0"&&c!=="1")return!1;h=!0}return h&&c!=="_"}if(c==="x"){for(n++;n<u;n++)if(c=t[n],c!=="_"){if(!f(t.charCodeAt(n)))return!1;h=!0}return h&&c!=="_"}if(c==="o"){for(n++;n<u;n++)if(c=t[n],c!=="_"){if(!d(t.charCodeAt(n)))return!1;h=!0}return h&&c!=="_"}}if(c==="_")return!1;for(;n<u;n++)if(c=t[n],c!=="_"){if(!l(t.charCodeAt(n)))return!1;h=!0}return!(!h||c==="_")}function a(t){var u=t,n=1,h;if(u.indexOf("_")!==-1&&(u=u.replace(/_/g,"")),h=u[0],(h==="-"||h==="+")&&(h==="-"&&(n=-1),u=u.slice(1),h=u[0]),u==="0")return 0;if(h==="0"){if(u[1]==="b")return n*parseInt(u.slice(2),2);if(u[1]==="x")return n*parseInt(u.slice(2),16);if(u[1]==="o")return n*parseInt(u.slice(2),8)}return n*parseInt(u,10)}function s(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!o.isNegativeZero(t)}return tt=new i("tag:yaml.org,2002:int",{kind:"scalar",resolve:r,construct:a,predicate:s,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),tt}var nt,mn;function Pi(){if(mn)return nt;mn=1;var o=fr(),i=ye(),f=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function d(t){return!(t===null||!f.test(t)||t[t.length-1]==="_")}function l(t){var u,n;return u=t.replace(/_/g,"").toLowerCase(),n=u[0]==="-"?-1:1,"+-".indexOf(u[0])>=0&&(u=u.slice(1)),u===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:u===".nan"?NaN:n*parseFloat(u,10)}var r=/^[-+]?[0-9]+e/;function a(t,u){var n;if(isNaN(t))switch(u){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(u){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(u){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(o.isNegativeZero(t))return"-0.0";return n=t.toString(10),r.test(n)?n.replace("e",".e"):n}function s(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||o.isNegativeZero(t))}return nt=new i("tag:yaml.org,2002:float",{kind:"scalar",resolve:d,construct:l,predicate:s,represent:a,defaultStyle:"lowercase"}),nt}var it,vn;function ji(){return vn||(vn=1,it=xi().extend({implicit:[Oi(),Ai(),Ri(),Pi()]})),it}var at,gn;function Ci(){return gn||(gn=1,at=ji()),at}var ot,yn;function Fi(){if(yn)return ot;yn=1;var o=ye(),i=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),f=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function d(a){return a===null?!1:i.exec(a)!==null||f.exec(a)!==null}function l(a){var s,t,u,n,h,c,p,v=0,S=null,y,b,g;if(s=i.exec(a),s===null&&(s=f.exec(a)),s===null)throw new Error("Date resolve error");if(t=+s[1],u=+s[2]-1,n=+s[3],!s[4])return new Date(Date.UTC(t,u,n));if(h=+s[4],c=+s[5],p=+s[6],s[7]){for(v=s[7].slice(0,3);v.length<3;)v+="0";v=+v}return s[9]&&(y=+s[10],b=+(s[11]||0),S=(y*60+b)*6e4,s[9]==="-"&&(S=-S)),g=new Date(Date.UTC(t,u,n,h,c,p,v)),S&&g.setTime(g.getTime()-S),g}function r(a){return a.toISOString()}return ot=new o("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:d,construct:l,instanceOf:Date,represent:r}),ot}var ut,_n;function Ni(){if(_n)return ut;_n=1;var o=ye();function i(f){return f==="<<"||f===null}return ut=new o("tag:yaml.org,2002:merge",{kind:"scalar",resolve:i}),ut}var st,Sn;function Ti(){if(Sn)return st;Sn=1;var o=ye(),i=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function f(a){if(a===null)return!1;var s,t,u=0,n=a.length,h=i;for(t=0;t<n;t++)if(s=h.indexOf(a.charAt(t)),!(s>64)){if(s<0)return!1;u+=6}return u%8===0}function d(a){var s,t,u=a.replace(/[\r\n=]/g,""),n=u.length,h=i,c=0,p=[];for(s=0;s<n;s++)s%4===0&&s&&(p.push(c>>16&255),p.push(c>>8&255),p.push(c&255)),c=c<<6|h.indexOf(u.charAt(s));return t=n%4*6,t===0?(p.push(c>>16&255),p.push(c>>8&255),p.push(c&255)):t===18?(p.push(c>>10&255),p.push(c>>2&255)):t===12&&p.push(c>>4&255),new Uint8Array(p)}function l(a){var s="",t=0,u,n,h=a.length,c=i;for(u=0;u<h;u++)u%3===0&&u&&(s+=c[t>>18&63],s+=c[t>>12&63],s+=c[t>>6&63],s+=c[t&63]),t=(t<<8)+a[u];return n=h%3,n===0?(s+=c[t>>18&63],s+=c[t>>12&63],s+=c[t>>6&63],s+=c[t&63]):n===2?(s+=c[t>>10&63],s+=c[t>>4&63],s+=c[t<<2&63],s+=c[64]):n===1&&(s+=c[t>>2&63],s+=c[t<<4&63],s+=c[64],s+=c[64]),s}function r(a){return Object.prototype.toString.call(a)==="[object Uint8Array]"}return st=new o("tag:yaml.org,2002:binary",{kind:"scalar",resolve:f,construct:d,predicate:r,represent:l}),st}var lt,bn;function Di(){if(bn)return lt;bn=1;var o=ye(),i=Object.prototype.hasOwnProperty,f=Object.prototype.toString;function d(r){if(r===null)return!0;var a=[],s,t,u,n,h,c=r;for(s=0,t=c.length;s<t;s+=1){if(u=c[s],h=!1,f.call(u)!=="[object Object]")return!1;for(n in u)if(i.call(u,n))if(!h)h=!0;else return!1;if(!h)return!1;if(a.indexOf(n)===-1)a.push(n);else return!1}return!0}function l(r){return r!==null?r:[]}return lt=new o("tag:yaml.org,2002:omap",{kind:"sequence",resolve:d,construct:l}),lt}var ft,wn;function Ii(){if(wn)return ft;wn=1;var o=ye(),i=Object.prototype.toString;function f(l){if(l===null)return!0;var r,a,s,t,u,n=l;for(u=new Array(n.length),r=0,a=n.length;r<a;r+=1){if(s=n[r],i.call(s)!=="[object Object]"||(t=Object.keys(s),t.length!==1))return!1;u[r]=[t[0],s[t[0]]]}return!0}function d(l){if(l===null)return[];var r,a,s,t,u,n=l;for(u=new Array(n.length),r=0,a=n.length;r<a;r+=1)s=n[r],t=Object.keys(s),u[r]=[t[0],s[t[0]]];return u}return ft=new o("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:f,construct:d}),ft}var ct,En;function Mi(){if(En)return ct;En=1;var o=ye(),i=Object.prototype.hasOwnProperty;function f(l){if(l===null)return!0;var r,a=l;for(r in a)if(i.call(a,r)&&a[r]!==null)return!1;return!0}function d(l){return l!==null?l:{}}return ct=new o("tag:yaml.org,2002:set",{kind:"mapping",resolve:f,construct:d}),ct}var dt,xn;function It(){return xn||(xn=1,dt=Ci().extend({implicit:[Fi(),Ni()],explicit:[Ti(),Di(),Ii(),Mi()]})),dt}var On;function Ia(){if(On)return br;On=1;var o=fr(),i=cr(),f=Da(),d=It(),l=Object.prototype.hasOwnProperty,r=1,a=2,s=3,t=4,u=1,n=2,h=3,c=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,p=/[\x85\u2028\u2029]/,v=/[,\[\]\{\}]/,S=/^(?:!|!!|![a-z\-]+!)$/i,y=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function b(e){return Object.prototype.toString.call(e)}function g(e){return e===10||e===13}function _(e){return e===9||e===32}function w(e){return e===9||e===32||e===10||e===13}function E(e){return e===44||e===91||e===93||e===123||e===125}function P(e){var R;return 48<=e&&e<=57?e-48:(R=e|32,97<=R&&R<=102?R-97+10:-1)}function q(e){return e===120?2:e===117?4:e===85?8:0}function V(e){return 48<=e&&e<=57?e-48:-1}function $(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function j(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function L(e,R,C){R==="__proto__"?Object.defineProperty(e,R,{configurable:!0,enumerable:!0,writable:!0,value:C}):e[R]=C}for(var Y=new Array(256),K=new Array(256),W=0;W<256;W++)Y[W]=$(W)?1:0,K[W]=$(W);function A(e,R){this.input=e,this.filename=R.filename||null,this.schema=R.schema||d,this.onWarning=R.onWarning||null,this.legacy=R.legacy||!1,this.json=R.json||!1,this.listener=R.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function F(e,R){var C={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return C.snippet=f(C),new i(R,C)}function N(e,R){throw F(e,R)}function Q(e,R){e.onWarning&&e.onWarning.call(null,F(e,R))}var re={YAML:function(R,C,H){var T,k,U;R.version!==null&&N(R,"duplication of %YAML directive"),H.length!==1&&N(R,"YAML directive accepts exactly one argument"),T=/^([0-9]+)\.([0-9]+)$/.exec(H[0]),T===null&&N(R,"ill-formed argument of the YAML directive"),k=parseInt(T[1],10),U=parseInt(T[2],10),k!==1&&N(R,"unacceptable YAML version of the document"),R.version=H[0],R.checkLineBreaks=U<2,U!==1&&U!==2&&Q(R,"unsupported YAML version of the document")},TAG:function(R,C,H){var T,k;H.length!==2&&N(R,"TAG directive accepts exactly two arguments"),T=H[0],k=H[1],S.test(T)||N(R,"ill-formed tag handle (first argument) of the TAG directive"),l.call(R.tagMap,T)&&N(R,'there is a previously declared suffix for "'+T+'" tag handle'),y.test(k)||N(R,"ill-formed tag prefix (second argument) of the TAG directive");try{k=decodeURIComponent(k)}catch{N(R,"tag prefix is malformed: "+k)}R.tagMap[T]=k}};function ne(e,R,C,H){var T,k,U,G;if(R<C){if(G=e.input.slice(R,C),H)for(T=0,k=G.length;T<k;T+=1)U=G.charCodeAt(T),U===9||32<=U&&U<=1114111||N(e,"expected valid JSON character");else c.test(G)&&N(e,"the stream contains non-printable characters");e.result+=G}}function pe(e,R,C,H){var T,k,U,G;for(o.isObject(C)||N(e,"cannot merge mappings; the provided source object is unacceptable"),T=Object.keys(C),U=0,G=T.length;U<G;U+=1)k=T[U],l.call(R,k)||(L(R,k,C[k]),H[k]=!0)}function _e(e,R,C,H,T,k,U,G,X){var ie,ae;if(Array.isArray(T))for(T=Array.prototype.slice.call(T),ie=0,ae=T.length;ie<ae;ie+=1)Array.isArray(T[ie])&&N(e,"nested arrays are not supported inside keys"),typeof T=="object"&&b(T[ie])==="[object Object]"&&(T[ie]="[object Object]");if(typeof T=="object"&&b(T)==="[object Object]"&&(T="[object Object]"),T=String(T),R===null&&(R={}),H==="tag:yaml.org,2002:merge")if(Array.isArray(k))for(ie=0,ae=k.length;ie<ae;ie+=1)pe(e,R,k[ie],C);else pe(e,R,k,C);else!e.json&&!l.call(C,T)&&l.call(R,T)&&(e.line=U||e.line,e.lineStart=G||e.lineStart,e.position=X||e.position,N(e,"duplicated mapping key")),L(R,T,k),delete C[T];return R}function Ve(e){var R;R=e.input.charCodeAt(e.position),R===10?e.position++:R===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):N(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function ce(e,R,C){for(var H=0,T=e.input.charCodeAt(e.position);T!==0;){for(;_(T);)T===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),T=e.input.charCodeAt(++e.position);if(R&&T===35)do T=e.input.charCodeAt(++e.position);while(T!==10&&T!==13&&T!==0);if(g(T))for(Ve(e),T=e.input.charCodeAt(e.position),H++,e.lineIndent=0;T===32;)e.lineIndent++,T=e.input.charCodeAt(++e.position);else break}return C!==-1&&H!==0&&e.lineIndent<C&&Q(e,"deficient indentation"),H}function Be(e){var R=e.position,C;return C=e.input.charCodeAt(R),!!((C===45||C===46)&&C===e.input.charCodeAt(R+1)&&C===e.input.charCodeAt(R+2)&&(R+=3,C=e.input.charCodeAt(R),C===0||w(C)))}function ke(e,R){R===1?e.result+=" ":R>1&&(e.result+=o.repeat(`
`,R-1))}function dr(e,R,C){var H,T,k,U,G,X,ie,ae,ee=e.kind,m=e.result,O;if(O=e.input.charCodeAt(e.position),w(O)||E(O)||O===35||O===38||O===42||O===33||O===124||O===62||O===39||O===34||O===37||O===64||O===96||(O===63||O===45)&&(T=e.input.charCodeAt(e.position+1),w(T)||C&&E(T)))return!1;for(e.kind="scalar",e.result="",k=U=e.position,G=!1;O!==0;){if(O===58){if(T=e.input.charCodeAt(e.position+1),w(T)||C&&E(T))break}else if(O===35){if(H=e.input.charCodeAt(e.position-1),w(H))break}else{if(e.position===e.lineStart&&Be(e)||C&&E(O))break;if(g(O))if(X=e.line,ie=e.lineStart,ae=e.lineIndent,ce(e,!1,-1),e.lineIndent>=R){G=!0,O=e.input.charCodeAt(e.position);continue}else{e.position=U,e.line=X,e.lineStart=ie,e.lineIndent=ae;break}}G&&(ne(e,k,U,!1),ke(e,e.line-X),k=U=e.position,G=!1),_(O)||(U=e.position+1),O=e.input.charCodeAt(++e.position)}return ne(e,k,U,!1),e.result?!0:(e.kind=ee,e.result=m,!1)}function hr(e,R){var C,H,T;if(C=e.input.charCodeAt(e.position),C!==39)return!1;for(e.kind="scalar",e.result="",e.position++,H=T=e.position;(C=e.input.charCodeAt(e.position))!==0;)if(C===39)if(ne(e,H,e.position,!0),C=e.input.charCodeAt(++e.position),C===39)H=e.position,e.position++,T=e.position;else return!0;else g(C)?(ne(e,H,T,!0),ke(e,ce(e,!1,R)),H=T=e.position):e.position===e.lineStart&&Be(e)?N(e,"unexpected end of the document within a single quoted scalar"):(e.position++,T=e.position);N(e,"unexpected end of the stream within a single quoted scalar")}function $r(e,R){var C,H,T,k,U,G;if(G=e.input.charCodeAt(e.position),G!==34)return!1;for(e.kind="scalar",e.result="",e.position++,C=H=e.position;(G=e.input.charCodeAt(e.position))!==0;){if(G===34)return ne(e,C,e.position,!0),e.position++,!0;if(G===92){if(ne(e,C,e.position,!0),G=e.input.charCodeAt(++e.position),g(G))ce(e,!1,R);else if(G<256&&Y[G])e.result+=K[G],e.position++;else if((U=q(G))>0){for(T=U,k=0;T>0;T--)G=e.input.charCodeAt(++e.position),(U=P(G))>=0?k=(k<<4)+U:N(e,"expected hexadecimal character");e.result+=j(k),e.position++}else N(e,"unknown escape sequence");C=H=e.position}else g(G)?(ne(e,C,H,!0),ke(e,ce(e,!1,R)),C=H=e.position):e.position===e.lineStart&&Be(e)?N(e,"unexpected end of the document within a double quoted scalar"):(e.position++,H=e.position)}N(e,"unexpected end of the stream within a double quoted scalar")}function Hr(e,R){var C=!0,H,T,k,U=e.tag,G,X=e.anchor,ie,ae,ee,m,O,D=Object.create(null),I,M,J,B;if(B=e.input.charCodeAt(e.position),B===91)ae=93,O=!1,G=[];else if(B===123)ae=125,O=!0,G={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=G),B=e.input.charCodeAt(++e.position);B!==0;){if(ce(e,!0,R),B=e.input.charCodeAt(e.position),B===ae)return e.position++,e.tag=U,e.anchor=X,e.kind=O?"mapping":"sequence",e.result=G,!0;C?B===44&&N(e,"expected the node content, but found ','"):N(e,"missed comma between flow collection entries"),M=I=J=null,ee=m=!1,B===63&&(ie=e.input.charCodeAt(e.position+1),w(ie)&&(ee=m=!0,e.position++,ce(e,!0,R))),H=e.line,T=e.lineStart,k=e.position,Se(e,R,r,!1,!0),M=e.tag,I=e.result,ce(e,!0,R),B=e.input.charCodeAt(e.position),(m||e.line===H)&&B===58&&(ee=!0,B=e.input.charCodeAt(++e.position),ce(e,!0,R),Se(e,R,r,!1,!0),J=e.result),O?_e(e,G,D,M,I,J,H,T,k):ee?G.push(_e(e,null,D,M,I,J,H,T,k)):G.push(I),ce(e,!0,R),B=e.input.charCodeAt(e.position),B===44?(C=!0,B=e.input.charCodeAt(++e.position)):C=!1}N(e,"unexpected end of the stream within a flow collection")}function We(e,R){var C,H,T=u,k=!1,U=!1,G=R,X=0,ie=!1,ae,ee;if(ee=e.input.charCodeAt(e.position),ee===124)H=!1;else if(ee===62)H=!0;else return!1;for(e.kind="scalar",e.result="";ee!==0;)if(ee=e.input.charCodeAt(++e.position),ee===43||ee===45)u===T?T=ee===43?h:n:N(e,"repeat of a chomping mode identifier");else if((ae=V(ee))>=0)ae===0?N(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):U?N(e,"repeat of an indentation width identifier"):(G=R+ae-1,U=!0);else break;if(_(ee)){do ee=e.input.charCodeAt(++e.position);while(_(ee));if(ee===35)do ee=e.input.charCodeAt(++e.position);while(!g(ee)&&ee!==0)}for(;ee!==0;){for(Ve(e),e.lineIndent=0,ee=e.input.charCodeAt(e.position);(!U||e.lineIndent<G)&&ee===32;)e.lineIndent++,ee=e.input.charCodeAt(++e.position);if(!U&&e.lineIndent>G&&(G=e.lineIndent),g(ee)){X++;continue}if(e.lineIndent<G){T===h?e.result+=o.repeat(`
`,k?1+X:X):T===u&&k&&(e.result+=`
`);break}for(H?_(ee)?(ie=!0,e.result+=o.repeat(`
`,k?1+X:X)):ie?(ie=!1,e.result+=o.repeat(`
`,X+1)):X===0?k&&(e.result+=" "):e.result+=o.repeat(`
`,X):e.result+=o.repeat(`
`,k?1+X:X),k=!0,U=!0,X=0,C=e.position;!g(ee)&&ee!==0;)ee=e.input.charCodeAt(++e.position);ne(e,C,e.position,!1)}return!0}function Ze(e,R){var C,H=e.tag,T=e.anchor,k=[],U,G=!1,X;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=k),X=e.input.charCodeAt(e.position);X!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,N(e,"tab characters must not be used in indentation")),!(X!==45||(U=e.input.charCodeAt(e.position+1),!w(U))));){if(G=!0,e.position++,ce(e,!0,-1)&&e.lineIndent<=R){k.push(null),X=e.input.charCodeAt(e.position);continue}if(C=e.line,Se(e,R,s,!1,!0),k.push(e.result),ce(e,!0,-1),X=e.input.charCodeAt(e.position),(e.line===C||e.lineIndent>R)&&X!==0)N(e,"bad indentation of a sequence entry");else if(e.lineIndent<R)break}return G?(e.tag=H,e.anchor=T,e.kind="sequence",e.result=k,!0):!1}function pr(e,R,C){var H,T,k,U,G,X,ie=e.tag,ae=e.anchor,ee={},m=Object.create(null),O=null,D=null,I=null,M=!1,J=!1,B;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=ee),B=e.input.charCodeAt(e.position);B!==0;){if(!M&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,N(e,"tab characters must not be used in indentation")),H=e.input.charCodeAt(e.position+1),k=e.line,(B===63||B===58)&&w(H))B===63?(M&&(_e(e,ee,m,O,D,null,U,G,X),O=D=I=null),J=!0,M=!0,T=!0):M?(M=!1,T=!0):N(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,B=H;else{if(U=e.line,G=e.lineStart,X=e.position,!Se(e,C,a,!1,!0))break;if(e.line===k){for(B=e.input.charCodeAt(e.position);_(B);)B=e.input.charCodeAt(++e.position);if(B===58)B=e.input.charCodeAt(++e.position),w(B)||N(e,"a whitespace character is expected after the key-value separator within a block mapping"),M&&(_e(e,ee,m,O,D,null,U,G,X),O=D=I=null),J=!0,M=!1,T=!1,O=e.tag,D=e.result;else if(J)N(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=ie,e.anchor=ae,!0}else if(J)N(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=ie,e.anchor=ae,!0}if((e.line===k||e.lineIndent>R)&&(M&&(U=e.line,G=e.lineStart,X=e.position),Se(e,R,t,!0,T)&&(M?D=e.result:I=e.result),M||(_e(e,ee,m,O,D,I,U,G,X),O=D=I=null),ce(e,!0,-1),B=e.input.charCodeAt(e.position)),(e.line===k||e.lineIndent>R)&&B!==0)N(e,"bad indentation of a mapping entry");else if(e.lineIndent<R)break}return M&&_e(e,ee,m,O,D,null,U,G,X),J&&(e.tag=ie,e.anchor=ae,e.kind="mapping",e.result=ee),J}function er(e){var R,C=!1,H=!1,T,k,U;if(U=e.input.charCodeAt(e.position),U!==33)return!1;if(e.tag!==null&&N(e,"duplication of a tag property"),U=e.input.charCodeAt(++e.position),U===60?(C=!0,U=e.input.charCodeAt(++e.position)):U===33?(H=!0,T="!!",U=e.input.charCodeAt(++e.position)):T="!",R=e.position,C){do U=e.input.charCodeAt(++e.position);while(U!==0&&U!==62);e.position<e.length?(k=e.input.slice(R,e.position),U=e.input.charCodeAt(++e.position)):N(e,"unexpected end of the stream within a verbatim tag")}else{for(;U!==0&&!w(U);)U===33&&(H?N(e,"tag suffix cannot contain exclamation marks"):(T=e.input.slice(R-1,e.position+1),S.test(T)||N(e,"named tag handle cannot contain such characters"),H=!0,R=e.position+1)),U=e.input.charCodeAt(++e.position);k=e.input.slice(R,e.position),v.test(k)&&N(e,"tag suffix cannot contain flow indicator characters")}k&&!y.test(k)&&N(e,"tag name cannot contain such characters: "+k);try{k=decodeURIComponent(k)}catch{N(e,"tag name is malformed: "+k)}return C?e.tag=k:l.call(e.tagMap,T)?e.tag=e.tagMap[T]+k:T==="!"?e.tag="!"+k:T==="!!"?e.tag="tag:yaml.org,2002:"+k:N(e,'undeclared tag handle "'+T+'"'),!0}function mr(e){var R,C;if(C=e.input.charCodeAt(e.position),C!==38)return!1;for(e.anchor!==null&&N(e,"duplication of an anchor property"),C=e.input.charCodeAt(++e.position),R=e.position;C!==0&&!w(C)&&!E(C);)C=e.input.charCodeAt(++e.position);return e.position===R&&N(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(R,e.position),!0}function vr(e){var R,C,H;if(H=e.input.charCodeAt(e.position),H!==42)return!1;for(H=e.input.charCodeAt(++e.position),R=e.position;H!==0&&!w(H)&&!E(H);)H=e.input.charCodeAt(++e.position);return e.position===R&&N(e,"name of an alias node must contain at least one character"),C=e.input.slice(R,e.position),l.call(e.anchorMap,C)||N(e,'unidentified alias "'+C+'"'),e.result=e.anchorMap[C],ce(e,!0,-1),!0}function Se(e,R,C,H,T){var k,U,G,X=1,ie=!1,ae=!1,ee,m,O,D,I,M;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,k=U=G=t===C||s===C,H&&ce(e,!0,-1)&&(ie=!0,e.lineIndent>R?X=1:e.lineIndent===R?X=0:e.lineIndent<R&&(X=-1)),X===1)for(;er(e)||mr(e);)ce(e,!0,-1)?(ie=!0,G=k,e.lineIndent>R?X=1:e.lineIndent===R?X=0:e.lineIndent<R&&(X=-1)):G=!1;if(G&&(G=ie||T),(X===1||t===C)&&(r===C||a===C?I=R:I=R+1,M=e.position-e.lineStart,X===1?G&&(Ze(e,M)||pr(e,M,I))||Hr(e,I)?ae=!0:(U&&We(e,I)||hr(e,I)||$r(e,I)?ae=!0:vr(e)?(ae=!0,(e.tag!==null||e.anchor!==null)&&N(e,"alias node should not have any properties")):dr(e,I,r===C)&&(ae=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):X===0&&(ae=G&&Ze(e,M))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&N(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),ee=0,m=e.implicitTypes.length;ee<m;ee+=1)if(D=e.implicitTypes[ee],D.resolve(e.result)){e.result=D.construct(e.result),e.tag=D.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(l.call(e.typeMap[e.kind||"fallback"],e.tag))D=e.typeMap[e.kind||"fallback"][e.tag];else for(D=null,O=e.typeMap.multi[e.kind||"fallback"],ee=0,m=O.length;ee<m;ee+=1)if(e.tag.slice(0,O[ee].tag.length)===O[ee].tag){D=O[ee];break}D||N(e,"unknown tag !<"+e.tag+">"),e.result!==null&&D.kind!==e.kind&&N(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+D.kind+'", not "'+e.kind+'"'),D.resolve(e.result,e.tag)?(e.result=D.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):N(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||ae}function Vr(e){var R=e.position,C,H,T,k=!1,U;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(U=e.input.charCodeAt(e.position))!==0&&(ce(e,!0,-1),U=e.input.charCodeAt(e.position),!(e.lineIndent>0||U!==37));){for(k=!0,U=e.input.charCodeAt(++e.position),C=e.position;U!==0&&!w(U);)U=e.input.charCodeAt(++e.position);for(H=e.input.slice(C,e.position),T=[],H.length<1&&N(e,"directive name must not be less than one character in length");U!==0;){for(;_(U);)U=e.input.charCodeAt(++e.position);if(U===35){do U=e.input.charCodeAt(++e.position);while(U!==0&&!g(U));break}if(g(U))break;for(C=e.position;U!==0&&!w(U);)U=e.input.charCodeAt(++e.position);T.push(e.input.slice(C,e.position))}U!==0&&Ve(e),l.call(re,H)?re[H](e,H,T):Q(e,'unknown document directive "'+H+'"')}if(ce(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,ce(e,!0,-1)):k&&N(e,"directives end mark is expected"),Se(e,e.lineIndent-1,t,!1,!0),ce(e,!0,-1),e.checkLineBreaks&&p.test(e.input.slice(R,e.position))&&Q(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Be(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,ce(e,!0,-1));return}if(e.position<e.length-1)N(e,"end of the stream or a document separator is expected");else return}function gr(e,R){e=String(e),R=R||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var C=new A(e,R),H=e.indexOf("\0");for(H!==-1&&(C.position=H,N(C,"null byte is not allowed in input")),C.input+="\0";C.input.charCodeAt(C.position)===32;)C.lineIndent+=1,C.position+=1;for(;C.position<C.length-1;)Vr(C);return C.documents}function yr(e,R,C){R!==null&&typeof R=="object"&&typeof C>"u"&&(C=R,R=null);var H=gr(e,C);if(typeof R!="function")return H;for(var T=0,k=H.length;T<k;T+=1)R(H[T])}function _r(e,R){var C=gr(e,R);if(C.length!==0){if(C.length===1)return C[0];throw new i("expected a single document in the stream, but found more")}}return br.loadAll=yr,br.load=_r,br}var ht={},An;function Ma(){if(An)return ht;An=1;var o=fr(),i=cr(),f=It(),d=Object.prototype.toString,l=Object.prototype.hasOwnProperty,r=65279,a=9,s=10,t=13,u=32,n=33,h=34,c=35,p=37,v=38,S=39,y=42,b=44,g=45,_=58,w=61,E=62,P=63,q=64,V=91,$=93,j=96,L=123,Y=124,K=125,W={};W[0]="\\0",W[7]="\\a",W[8]="\\b",W[9]="\\t",W[10]="\\n",W[11]="\\v",W[12]="\\f",W[13]="\\r",W[27]="\\e",W[34]='\\"',W[92]="\\\\",W[133]="\\N",W[160]="\\_",W[8232]="\\L",W[8233]="\\P";var A=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],F=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function N(m,O){var D,I,M,J,B,z,Z;if(O===null)return{};for(D={},I=Object.keys(O),M=0,J=I.length;M<J;M+=1)B=I[M],z=String(O[B]),B.slice(0,2)==="!!"&&(B="tag:yaml.org,2002:"+B.slice(2)),Z=m.compiledTypeMap.fallback[B],Z&&l.call(Z.styleAliases,z)&&(z=Z.styleAliases[z]),D[B]=z;return D}function Q(m){var O,D,I;if(O=m.toString(16).toUpperCase(),m<=255)D="x",I=2;else if(m<=65535)D="u",I=4;else if(m<=4294967295)D="U",I=8;else throw new i("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+D+o.repeat("0",I-O.length)+O}var re=1,ne=2;function pe(m){this.schema=m.schema||f,this.indent=Math.max(1,m.indent||2),this.noArrayIndent=m.noArrayIndent||!1,this.skipInvalid=m.skipInvalid||!1,this.flowLevel=o.isNothing(m.flowLevel)?-1:m.flowLevel,this.styleMap=N(this.schema,m.styles||null),this.sortKeys=m.sortKeys||!1,this.lineWidth=m.lineWidth||80,this.noRefs=m.noRefs||!1,this.noCompatMode=m.noCompatMode||!1,this.condenseFlow=m.condenseFlow||!1,this.quotingType=m.quotingType==='"'?ne:re,this.forceQuotes=m.forceQuotes||!1,this.replacer=typeof m.replacer=="function"?m.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function _e(m,O){for(var D=o.repeat(" ",O),I=0,M=-1,J="",B,z=m.length;I<z;)M=m.indexOf(`
`,I),M===-1?(B=m.slice(I),I=z):(B=m.slice(I,M+1),I=M+1),B.length&&B!==`
`&&(J+=D),J+=B;return J}function Ve(m,O){return`
`+o.repeat(" ",m.indent*O)}function ce(m,O){var D,I,M;for(D=0,I=m.implicitTypes.length;D<I;D+=1)if(M=m.implicitTypes[D],M.resolve(O))return!0;return!1}function Be(m){return m===u||m===a}function ke(m){return 32<=m&&m<=126||161<=m&&m<=55295&&m!==8232&&m!==8233||57344<=m&&m<=65533&&m!==r||65536<=m&&m<=1114111}function dr(m){return ke(m)&&m!==r&&m!==t&&m!==s}function hr(m,O,D){var I=dr(m),M=I&&!Be(m);return(D?I:I&&m!==b&&m!==V&&m!==$&&m!==L&&m!==K)&&m!==c&&!(O===_&&!M)||dr(O)&&!Be(O)&&m===c||O===_&&M}function $r(m){return ke(m)&&m!==r&&!Be(m)&&m!==g&&m!==P&&m!==_&&m!==b&&m!==V&&m!==$&&m!==L&&m!==K&&m!==c&&m!==v&&m!==y&&m!==n&&m!==Y&&m!==w&&m!==E&&m!==S&&m!==h&&m!==p&&m!==q&&m!==j}function Hr(m){return!Be(m)&&m!==_}function We(m,O){var D=m.charCodeAt(O),I;return D>=55296&&D<=56319&&O+1<m.length&&(I=m.charCodeAt(O+1),I>=56320&&I<=57343)?(D-55296)*1024+I-56320+65536:D}function Ze(m){var O=/^\n* /;return O.test(m)}var pr=1,er=2,mr=3,vr=4,Se=5;function Vr(m,O,D,I,M,J,B,z){var Z,te=0,de=null,he=!1,le=!1,Lt=I!==-1,rr=-1,tr=$r(We(m,0))&&Hr(We(m,m.length-1));if(O||B)for(Z=0;Z<m.length;te>=65536?Z+=2:Z++){if(te=We(m,Z),!ke(te))return Se;tr=tr&&hr(te,de,z),de=te}else{for(Z=0;Z<m.length;te>=65536?Z+=2:Z++){if(te=We(m,Z),te===s)he=!0,Lt&&(le=le||Z-rr-1>I&&m[rr+1]!==" ",rr=Z);else if(!ke(te))return Se;tr=tr&&hr(te,de,z),de=te}le=le||Lt&&Z-rr-1>I&&m[rr+1]!==" "}return!he&&!le?tr&&!B&&!M(m)?pr:J===ne?Se:er:D>9&&Ze(m)?Se:B?J===ne?Se:er:le?vr:mr}function gr(m,O,D,I,M){m.dump=(function(){if(O.length===0)return m.quotingType===ne?'""':"''";if(!m.noCompatMode&&(A.indexOf(O)!==-1||F.test(O)))return m.quotingType===ne?'"'+O+'"':"'"+O+"'";var J=m.indent*Math.max(1,D),B=m.lineWidth===-1?-1:Math.max(Math.min(m.lineWidth,40),m.lineWidth-J),z=I||m.flowLevel>-1&&D>=m.flowLevel;function Z(te){return ce(m,te)}switch(Vr(O,z,m.indent,B,Z,m.quotingType,m.forceQuotes&&!I,M)){case pr:return O;case er:return"'"+O.replace(/'/g,"''")+"'";case mr:return"|"+yr(O,m.indent)+_r(_e(O,J));case vr:return">"+yr(O,m.indent)+_r(_e(e(O,B),J));case Se:return'"'+C(O)+'"';default:throw new i("impossible error: invalid scalar style")}})()}function yr(m,O){var D=Ze(m)?String(O):"",I=m[m.length-1]===`
`,M=I&&(m[m.length-2]===`
`||m===`
`),J=M?"+":I?"":"-";return D+J+`
`}function _r(m){return m[m.length-1]===`
`?m.slice(0,-1):m}function e(m,O){for(var D=/(\n+)([^\n]*)/g,I=(function(){var te=m.indexOf(`
`);return te=te!==-1?te:m.length,D.lastIndex=te,R(m.slice(0,te),O)})(),M=m[0]===`
`||m[0]===" ",J,B;B=D.exec(m);){var z=B[1],Z=B[2];J=Z[0]===" ",I+=z+(!M&&!J&&Z!==""?`
`:"")+R(Z,O),M=J}return I}function R(m,O){if(m===""||m[0]===" ")return m;for(var D=/ [^ ]/g,I,M=0,J,B=0,z=0,Z="";I=D.exec(m);)z=I.index,z-M>O&&(J=B>M?B:z,Z+=`
`+m.slice(M,J),M=J+1),B=z;return Z+=`
`,m.length-M>O&&B>M?Z+=m.slice(M,B)+`
`+m.slice(B+1):Z+=m.slice(M),Z.slice(1)}function C(m){for(var O="",D=0,I,M=0;M<m.length;D>=65536?M+=2:M++)D=We(m,M),I=W[D],!I&&ke(D)?(O+=m[M],D>=65536&&(O+=m[M+1])):O+=I||Q(D);return O}function H(m,O,D){var I="",M=m.tag,J,B,z;for(J=0,B=D.length;J<B;J+=1)z=D[J],m.replacer&&(z=m.replacer.call(D,String(J),z)),(X(m,O,z,!1,!1)||typeof z>"u"&&X(m,O,null,!1,!1))&&(I!==""&&(I+=","+(m.condenseFlow?"":" ")),I+=m.dump);m.tag=M,m.dump="["+I+"]"}function T(m,O,D,I){var M="",J=m.tag,B,z,Z;for(B=0,z=D.length;B<z;B+=1)Z=D[B],m.replacer&&(Z=m.replacer.call(D,String(B),Z)),(X(m,O+1,Z,!0,!0,!1,!0)||typeof Z>"u"&&X(m,O+1,null,!0,!0,!1,!0))&&((!I||M!=="")&&(M+=Ve(m,O)),m.dump&&s===m.dump.charCodeAt(0)?M+="-":M+="- ",M+=m.dump);m.tag=J,m.dump=M||"[]"}function k(m,O,D){var I="",M=m.tag,J=Object.keys(D),B,z,Z,te,de;for(B=0,z=J.length;B<z;B+=1)de="",I!==""&&(de+=", "),m.condenseFlow&&(de+='"'),Z=J[B],te=D[Z],m.replacer&&(te=m.replacer.call(D,Z,te)),X(m,O,Z,!1,!1)&&(m.dump.length>1024&&(de+="? "),de+=m.dump+(m.condenseFlow?'"':"")+":"+(m.condenseFlow?"":" "),X(m,O,te,!1,!1)&&(de+=m.dump,I+=de));m.tag=M,m.dump="{"+I+"}"}function U(m,O,D,I){var M="",J=m.tag,B=Object.keys(D),z,Z,te,de,he,le;if(m.sortKeys===!0)B.sort();else if(typeof m.sortKeys=="function")B.sort(m.sortKeys);else if(m.sortKeys)throw new i("sortKeys must be a boolean or a function");for(z=0,Z=B.length;z<Z;z+=1)le="",(!I||M!=="")&&(le+=Ve(m,O)),te=B[z],de=D[te],m.replacer&&(de=m.replacer.call(D,te,de)),X(m,O+1,te,!0,!0,!0)&&(he=m.tag!==null&&m.tag!=="?"||m.dump&&m.dump.length>1024,he&&(m.dump&&s===m.dump.charCodeAt(0)?le+="?":le+="? "),le+=m.dump,he&&(le+=Ve(m,O)),X(m,O+1,de,!0,he)&&(m.dump&&s===m.dump.charCodeAt(0)?le+=":":le+=": ",le+=m.dump,M+=le));m.tag=J,m.dump=M||"{}"}function G(m,O,D){var I,M,J,B,z,Z;for(M=D?m.explicitTypes:m.implicitTypes,J=0,B=M.length;J<B;J+=1)if(z=M[J],(z.instanceOf||z.predicate)&&(!z.instanceOf||typeof O=="object"&&O instanceof z.instanceOf)&&(!z.predicate||z.predicate(O))){if(D?z.multi&&z.representName?m.tag=z.representName(O):m.tag=z.tag:m.tag="?",z.represent){if(Z=m.styleMap[z.tag]||z.defaultStyle,d.call(z.represent)==="[object Function]")I=z.represent(O,Z);else if(l.call(z.represent,Z))I=z.represent[Z](O,Z);else throw new i("!<"+z.tag+'> tag resolver accepts not "'+Z+'" style');m.dump=I}return!0}return!1}function X(m,O,D,I,M,J,B){m.tag=null,m.dump=D,G(m,D,!1)||G(m,D,!0);var z=d.call(m.dump),Z=I,te;I&&(I=m.flowLevel<0||m.flowLevel>O);var de=z==="[object Object]"||z==="[object Array]",he,le;if(de&&(he=m.duplicates.indexOf(D),le=he!==-1),(m.tag!==null&&m.tag!=="?"||le||m.indent!==2&&O>0)&&(M=!1),le&&m.usedDuplicates[he])m.dump="*ref_"+he;else{if(de&&le&&!m.usedDuplicates[he]&&(m.usedDuplicates[he]=!0),z==="[object Object]")I&&Object.keys(m.dump).length!==0?(U(m,O,m.dump,M),le&&(m.dump="&ref_"+he+m.dump)):(k(m,O,m.dump),le&&(m.dump="&ref_"+he+" "+m.dump));else if(z==="[object Array]")I&&m.dump.length!==0?(m.noArrayIndent&&!B&&O>0?T(m,O-1,m.dump,M):T(m,O,m.dump,M),le&&(m.dump="&ref_"+he+m.dump)):(H(m,O,m.dump),le&&(m.dump="&ref_"+he+" "+m.dump));else if(z==="[object String]")m.tag!=="?"&&gr(m,m.dump,O,J,Z);else{if(z==="[object Undefined]")return!1;if(m.skipInvalid)return!1;throw new i("unacceptable kind of an object to dump "+z)}m.tag!==null&&m.tag!=="?"&&(te=encodeURI(m.tag[0]==="!"?m.tag.slice(1):m.tag).replace(/!/g,"%21"),m.tag[0]==="!"?te="!"+te:te.slice(0,18)==="tag:yaml.org,2002:"?te="!!"+te.slice(18):te="!<"+te+">",m.dump=te+" "+m.dump)}return!0}function ie(m,O){var D=[],I=[],M,J;for(ae(m,D,I),M=0,J=I.length;M<J;M+=1)O.duplicates.push(D[I[M]]);O.usedDuplicates=new Array(J)}function ae(m,O,D){var I,M,J;if(m!==null&&typeof m=="object")if(M=O.indexOf(m),M!==-1)D.indexOf(M)===-1&&D.push(M);else if(O.push(m),Array.isArray(m))for(M=0,J=m.length;M<J;M+=1)ae(m[M],O,D);else for(I=Object.keys(m),M=0,J=I.length;M<J;M+=1)ae(m[I[M]],O,D)}function ee(m,O){O=O||{};var D=new pe(O);D.noRefs||ie(m,D);var I=m;return D.replacer&&(I=D.replacer.call({"":I},"",I)),X(D,0,I,!0,!0)?D.dump+`
`:""}return ht.dump=ee,ht}var Rn;function Pn(){if(Rn)return ve;Rn=1;var o=Ia(),i=Ma();function f(d,l){return function(){throw new Error("Function yaml."+d+" is removed in js-yaml 4. Use yaml."+l+" instead, which is now safe by default.")}}return ve.Type=ye(),ve.Schema=Si(),ve.FAILSAFE_SCHEMA=xi(),ve.JSON_SCHEMA=ji(),ve.CORE_SCHEMA=Ci(),ve.DEFAULT_SCHEMA=It(),ve.load=o.load,ve.loadAll=o.loadAll,ve.dump=i.dump,ve.YAMLException=cr(),ve.types={binary:Ti(),float:Pi(),map:Ei(),null:Oi(),pairs:Ii(),set:Mi(),timestamp:Fi(),bool:Ai(),int:Ri(),merge:Ni(),omap:Di(),seq:wi(),str:bi()},ve.safeLoad=f("safeLoad","load"),ve.safeLoadAll=f("safeLoadAll","loadAll"),ve.safeDump=f("safeDump","dump"),ve}var jn;function qa(){if(jn)return Ke;jn=1;var o=Ke&&Ke.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ke,"__esModule",{value:!0});const i=De(),f=o(Pn()),d=Pn();return Ke.default={order:200,allowEmpty:!0,canParse:[".yaml",".yml",".json"],async parse(l){let r=l.data;if(oe.Buffer.isBuffer(r)&&(r=r.toString()),typeof r=="string")try{return f.default.load(r,{schema:d.JSON_SCHEMA})}catch(a){throw new i.ParserError(a?.message||"Parser Error",l.url)}else return r}},Ke}var wr={},Cn;function La(){if(Cn)return wr;Cn=1,Object.defineProperty(wr,"__esModule",{value:!0});const o=De(),i=/\.(txt|htm|html|md|xml|js|min|map|css|scss|less|svg)$/i;return wr.default={order:300,allowEmpty:!0,encoding:"utf8",canParse(f){return(typeof f.data=="string"||oe.Buffer.isBuffer(f.data))&&i.test(f.url)},parse(f){if(typeof f.data=="string")return f.data;if(oe.Buffer.isBuffer(f.data))return f.data.toString(this.encoding);throw new o.ParserError("data is not text",f.url)}},wr}var Er={},Fn;function Ua(){if(Fn)return Er;Fn=1,Object.defineProperty(Er,"__esModule",{value:!0});const o=/\.(jpeg|jpg|gif|png|bmp|ico)$/i;return Er.default={order:400,allowEmpty:!0,canParse(i){return oe.Buffer.isBuffer(i.data)&&o.test(i.url)},parse(i){return oe.Buffer.isBuffer(i.data)?i.data:oe.Buffer.from(i.data)}},Er}var Ee={},Ba=null;const ka=Object.freeze(Object.defineProperty({__proto__:null,default:Ba},Symbol.toStringTag,{value:"Module"})),$a=di(ka);var Nn;function Ha(){if(Nn)return Ee;Nn=1;var o=Ee&&Ee.__createBinding||(Object.create?(function(s,t,u,n){n===void 0&&(n=u);var h=Object.getOwnPropertyDescriptor(t,u);(!h||("get"in h?!t.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return t[u]}}),Object.defineProperty(s,n,h)}):(function(s,t,u,n){n===void 0&&(n=u),s[n]=t[u]})),i=Ee&&Ee.__setModuleDefault||(Object.create?(function(s,t){Object.defineProperty(s,"default",{enumerable:!0,value:t})}):function(s,t){s.default=t}),f=Ee&&Ee.__importStar||(function(){var s=function(t){return s=Object.getOwnPropertyNames||function(u){var n=[];for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(n[n.length]=h);return n},s(t)};return function(t){if(t&&t.__esModule)return t;var u={};if(t!=null)for(var n=s(t),h=0;h<n.length;h++)n[h]!=="default"&&o(u,t,n[h]);return i(u,t),u}})(),d=Ee&&Ee.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ee,"__esModule",{value:!0});const l=d($a),r=f(je()),a=De();return Ee.default={order:100,canRead(s){return r.isFileSystemPath(s.url)},async read(s){let t;try{t=r.toFileSystemPath(s.url)}catch(u){const n=u;throw n.message=`Malformed URI: ${s.url}: ${n.message}`,new a.ResolverError(n,s.url)}(t.endsWith("/")||t.endsWith("\\"))&&(t=t.slice(0,-1));try{return await l.default.promises.readFile(t)}catch(u){const n=u;throw n.message=`Error opening file ${t}: ${n.message}`,new a.ResolverError(n,t)}}},Ee}var qe={},Tn;function Va(){if(Tn)return qe;Tn=1;var o=qe&&qe.__createBinding||(Object.create?(function(s,t,u,n){n===void 0&&(n=u);var h=Object.getOwnPropertyDescriptor(t,u);(!h||("get"in h?!t.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return t[u]}}),Object.defineProperty(s,n,h)}):(function(s,t,u,n){n===void 0&&(n=u),s[n]=t[u]})),i=qe&&qe.__setModuleDefault||(Object.create?(function(s,t){Object.defineProperty(s,"default",{enumerable:!0,value:t})}):function(s,t){s.default=t}),f=qe&&qe.__importStar||(function(){var s=function(t){return s=Object.getOwnPropertyNames||function(u){var n=[];for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(n[n.length]=h);return n},s(t)};return function(t){if(t&&t.__esModule)return t;var u={};if(t!=null)for(var n=s(t),h=0;h<n.length;h++)n[h]!=="default"&&o(u,t,n[h]);return i(u,t),u}})();Object.defineProperty(qe,"__esModule",{value:!0});const d=f(je()),l=De();qe.default={order:200,headers:null,timeout:6e4,redirects:5,withCredentials:!1,safeUrlResolver:!0,canRead(s){return d.isHttp(s.url)&&(!this.safeUrlResolver||!d.isUnsafeUrl(s.url))},read(s){const t=d.parse(s.url);return typeof window<"u"&&!t.protocol&&(t.protocol=d.parse(location.href).protocol),r(t,this)}};async function r(s,t,u){s=d.parse(s);const n=u||[];n.push(s.href);try{const h=await a(s,t);if(h.status>=400){const c=new Error(`HTTP ERROR ${h.status}`);throw c.status=h.status,c}else if(h.status>=300)if(!Number.isNaN(t.redirects)&&n.length>t.redirects){const c=new Error(`Error downloading ${n[0]}. 
Too many redirects: 
  ${n.join(` 
  `)}`);throw c.status=h.status,new l.ResolverError(c)}else if(!("location"in h.headers)||!h.headers.location){const c=new Error(`HTTP ${h.status} redirect with no location header`);throw c.status=h.status,c}else{const c=d.resolve(s.href,h.headers.location);return r(c,t,n)}else{if(h.body){const c=await h.arrayBuffer();return oe.Buffer.from(c)}return oe.Buffer.alloc(0)}}catch(h){const c=h;throw c.message=`Error downloading ${s.href}: ${c.message}`,new l.ResolverError(c,s.href)}}async function a(s,t){let u,n;t.timeout&&(u=new AbortController,n=setTimeout(()=>u.abort(),t.timeout));const h=await fetch(s,{method:"GET",headers:t.headers||{},credentials:t.withCredentials?"include":"same-origin",signal:u?u.signal:null});return n&&clearTimeout(n),h}return qe}var Dn;function qi(){return Dn||(Dn=1,(function(o){var i=or&&or.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(o,"__esModule",{value:!0}),o.getNewOptions=o.getJsonSchemaRefParserDefaultOptions=void 0;const f=i(Ta()),d=i(qa()),l=i(La()),r=i(Ua()),a=i(Ha()),s=i(Va()),t=()=>({parse:{json:{...f.default},yaml:{...d.default},text:{...l.default},binary:{...r.default}},resolve:{file:{...a.default},http:{...s.default},external:!0},continueOnError:!1,bundle:{excludedPathMatcher:()=>!1},dereference:{circular:!0,excludedPathMatcher:()=>!1,referenceResolution:"relative"},mutateInputSchema:!0});o.getJsonSchemaRefParserDefaultOptions=t;const u=c=>{const p=(0,o.getJsonSchemaRefParserDefaultOptions)();return c&&n(p,c),p};o.getNewOptions=u;function n(c,p){if(h(p)){const v=Object.keys(p).filter(S=>!["__proto__","constructor","prototype"].includes(S));for(let S=0;S<v.length;S++){const y=v[S],b=p[y],g=c[y];h(b)?c[y]=n(g||{},b):b!==void 0&&(c[y]=b)}}return c}function h(c){return c&&typeof c=="object"&&!Array.isArray(c)&&!(c instanceof RegExp)&&!(c instanceof Date)}})(or)),or}var In;function Wa(){if(In)return ar;In=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.normalizeArgs=i;const o=qi();function i(f){let d,l,r,a;const s=Array.prototype.slice.call(f);typeof s[s.length-1]=="function"&&(a=s.pop()),typeof s[0]=="string"?(d=s[0],typeof s[2]=="object"?(l=s[1],r=s[2]):(l=void 0,r=s[1])):(d="",l=s[0],r=s[1]);try{r=(0,o.getNewOptions)(r)}catch(t){console.error(`JSON Schema Ref Parser: Error normalizing options: ${t}`)}return!r.mutateInputSchema&&typeof l=="object"&&(l=JSON.parse(JSON.stringify(l))),{path:d,schema:l,options:r,callback:a}}return ar.default=i,ar}var xe={},Mn;function Ya(){if(Mn)return xe;Mn=1;var o=xe&&xe.__createBinding||(Object.create?(function(c,p,v,S){S===void 0&&(S=v);var y=Object.getOwnPropertyDescriptor(p,v);(!y||("get"in y?!p.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return p[v]}}),Object.defineProperty(c,S,y)}):(function(c,p,v,S){S===void 0&&(S=v),c[S]=p[v]})),i=xe&&xe.__setModuleDefault||(Object.create?(function(c,p){Object.defineProperty(c,"default",{enumerable:!0,value:p})}):function(c,p){c.default=p}),f=xe&&xe.__importStar||(function(){var c=function(p){return c=Object.getOwnPropertyNames||function(v){var S=[];for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(S[S.length]=y);return S},c(p)};return function(p){if(p&&p.__esModule)return p;var v={};if(p!=null)for(var S=c(p),y=0;y<S.length;y++)S[y]!=="default"&&o(v,p,S[y]);return i(v,p),v}})(),d=xe&&xe.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(xe,"__esModule",{value:!0});const l=d(lr()),r=d(Br()),a=d(_i()),s=f(je()),t=De();function u(c,p){if(!p.resolve?.external)return Promise.resolve();try{const v=n(c.schema,c.$refs._root$Ref.path+"#",c.$refs,p);return Promise.all(v)}catch(v){return Promise.reject(v)}}function n(c,p,v,S,y,b){y||=new Set;let g=[];if(c&&typeof c=="object"&&!ArrayBuffer.isView(c)&&!y.has(c)){y.add(c),l.default.isExternal$Ref(c)&&g.push(h(c,p,v,S));const _=Object.keys(c);for(const w of _){const E=r.default.join(p,w),P=c[w];g=g.concat(n(P,E,v,S,y))}}return g}async function h(c,p,v,S){const y=S.dereference?.externalReferenceResolution==="root",b=s.resolve(y?s.cwd():p,c.$ref),g=s.stripHash(b),_=v._$refs[g];if(_)return Promise.resolve(_.value);try{const w=await(0,a.default)(b,v,S),E=n(w,g+"#",v,S,new Set,!0);return Promise.all(E)}catch(w){if(!S?.continueOnError||!(0,t.isHandledError)(w))throw w;return v._$refs[g]&&(w.source=decodeURI(s.stripHash(p)),w.path=s.safePointerToPath(s.getHash(p))),[]}}return xe.default=u,xe}var Oe={},qn;function Ga(){if(qn)return Oe;qn=1;var o=Oe&&Oe.__createBinding||(Object.create?(function(p,v,S,y){y===void 0&&(y=S);var b=Object.getOwnPropertyDescriptor(v,S);(!b||("get"in b?!v.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return v[S]}}),Object.defineProperty(p,y,b)}):(function(p,v,S,y){y===void 0&&(y=S),p[y]=v[S]})),i=Oe&&Oe.__setModuleDefault||(Object.create?(function(p,v){Object.defineProperty(p,"default",{enumerable:!0,value:v})}):function(p,v){p.default=v}),f=Oe&&Oe.__importStar||(function(){var p=function(v){return p=Object.getOwnPropertyNames||function(S){var y=[];for(var b in S)Object.prototype.hasOwnProperty.call(S,b)&&(y[y.length]=b);return y},p(v)};return function(v){if(v&&v.__esModule)return v;var S={};if(v!=null)for(var y=p(v),b=0;b<y.length;b++)y[b]!=="default"&&o(S,v,y[b]);return i(S,v),S}})(),d=Oe&&Oe.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Oe,"__esModule",{value:!0});const l=d(lr()),r=d(Br()),a=f(je());function s(p,v){const S=[];t(p,"schema",p.$refs._root$Ref.path+"#","#",0,S,p.$refs,v),n(S)}function t(p,v,S,y,b,g,_,w){const E=v===null?p:p[v],P=w.bundle||{},q=P.excludedPathMatcher||(()=>!1);if(E&&typeof E=="object"&&!ArrayBuffer.isView(E)&&!q(y))if(l.default.isAllowed$Ref(E))u(p,v,S,y,b,g,_,w);else{const V=Object.keys(E).sort(($,j)=>$==="definitions"||$==="$defs"?-1:j==="definitions"||j==="$defs"?1:$.length-j.length);for(const $ of V){const j=r.default.join(S,$),L=r.default.join(y,$),Y=E[$];l.default.isAllowed$Ref(Y)?u(E,$,S,L,b,g,_,w):t(E,$,j,L,b,g,_,w),Y&&typeof Y=="object"&&!Array.isArray(Y)&&"$ref"in Y&&P?.onBundle?.(Y.$ref,E[$],E,$)}}}function u(p,v,S,y,b,g,_,w){const E=v===null?p:p[v],P=a.resolve(S,E.$ref),q=_._resolve(P,y,w);if(q===null)return;const $=r.default.parse(y).length,j=a.stripHash(q.path),L=a.getHash(q.path),Y=j!==_._root$Ref.path,K=l.default.isExtended$Ref(E);b+=q.indirections;const W=h(g,p,v);if(W)if($<W.depth||b<W.indirections)c(g,W);else return;g.push({$ref:E,parent:p,key:v,pathFromRoot:y,depth:$,file:j,hash:L,value:q.value,circular:q.circular,extended:K,external:Y,indirections:b}),(!W||Y)&&t(q.value,null,q.path,y,b+1,g,_,w)}function n(p){p.sort((b,g)=>{if(b.file!==g.file)return b.file<g.file?-1:1;if(b.hash!==g.hash)return b.hash<g.hash?-1:1;if(b.circular!==g.circular)return b.circular?-1:1;if(b.extended!==g.extended)return b.extended?1:-1;if(b.indirections!==g.indirections)return b.indirections-g.indirections;if(b.depth!==g.depth)return b.depth-g.depth;{const _=Math.max(b.pathFromRoot.lastIndexOf("/definitions"),b.pathFromRoot.lastIndexOf("/$defs")),w=Math.max(g.pathFromRoot.lastIndexOf("/definitions"),g.pathFromRoot.lastIndexOf("/$defs"));return _!==w?w-_:b.pathFromRoot.length-g.pathFromRoot.length}});let v,S,y;for(const b of p)b.external?b.file===v&&b.hash===S?b.$ref.$ref=y:b.file===v&&b.hash.indexOf(S+"/")===0?b.$ref.$ref=r.default.join(y,r.default.parse(b.hash.replace(S,"#"))):(v=b.file,S=b.hash,y=b.pathFromRoot,b.$ref=b.parent[b.key]=l.default.dereference(b.$ref,b.value),b.circular&&(b.$ref.$ref=b.pathFromRoot)):b.$ref.$ref=b.hash}function h(p,v,S){for(const y of p)if(y&&y.parent===v&&y.key===S)return y}function c(p,v){const S=p.indexOf(v);p.splice(S,1)}return Oe.default=s,Oe}var Ae={},Ln;function za(){if(Ln)return Ae;Ln=1;var o=Ae&&Ae.__createBinding||(Object.create?(function(p,v,S,y){y===void 0&&(y=S);var b=Object.getOwnPropertyDescriptor(v,S);(!b||("get"in b?!v.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return v[S]}}),Object.defineProperty(p,y,b)}):(function(p,v,S,y){y===void 0&&(y=S),p[y]=v[S]})),i=Ae&&Ae.__setModuleDefault||(Object.create?(function(p,v){Object.defineProperty(p,"default",{enumerable:!0,value:v})}):function(p,v){p.default=v}),f=Ae&&Ae.__importStar||(function(){var p=function(v){return p=Object.getOwnPropertyNames||function(S){var y=[];for(var b in S)Object.prototype.hasOwnProperty.call(S,b)&&(y[y.length]=b);return y},p(v)};return function(v){if(v&&v.__esModule)return v;var S={};if(v!=null)for(var y=p(v),b=0;b<y.length;b++)y[b]!=="default"&&o(S,v,y[b]);return i(S,v),S}})(),d=Ae&&Ae.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Ae,"__esModule",{value:!0});const l=d(lr()),r=d(Br()),a=f(je()),s=De();Ae.default=t;function t(p,v){const S=Date.now(),y=u(p.schema,p.$refs._root$Ref.path,"#",new Set,new Set,new Map,p.$refs,v,S);p.$refs.circular=y.circular,p.schema=y.value}function u(p,v,S,y,b,g,_,w,E){let P;const q={value:p,circular:!1};h(E,w);const V=w.dereference||{},$=V.excludedPathMatcher||(()=>!1);if((V?.circular==="ignore"||!b.has(p))&&p&&typeof p=="object"&&!ArrayBuffer.isView(p)&&!$(S)){if(y.add(p),b.add(p),l.default.isAllowed$Ref(p,w))P=n(p,v,S,y,b,g,_,w,E),q.circular=P.circular,q.value=P.value;else for(const j of Object.keys(p)){h(E,w);const L=r.default.join(v,j),Y=r.default.join(S,j);if($(Y))continue;const K=p[j];let W=!1;if(l.default.isAllowed$Ref(K,w)){if(P=n(K,L,Y,y,b,g,_,w,E),W=P.circular,p[j]!==P.value){const A=new Map;V?.preservedProperties&&typeof p[j]=="object"&&!Array.isArray(p[j])&&V?.preservedProperties.forEach(F=>{F in p[j]&&A.set(F,p[j][F])}),p[j]=P.value,V?.preservedProperties&&A.size&&typeof p[j]=="object"&&!Array.isArray(p[j])&&A.forEach((F,N)=>{p[j][N]=F}),V?.onDereference?.(K.$ref,p[j],p,j)}}else y.has(K)?W=c(L,_,w):(P=u(K,L,Y,y,b,g,_,w,E),W=P.circular,p[j]!==P.value&&(p[j]=P.value));q.circular=q.circular||W}y.delete(p)}return q}function n(p,v,S,y,b,g,_,w,E){const q=l.default.isExternal$Ref(p)&&w?.dereference?.externalReferenceResolution==="root",V=a.resolve(q?a.cwd():v,p.$ref),$=g.get(V);if($){if(!$.circular){const A=Object.keys(p);if(A.length>1){const F={};for(const N of A)N!=="$ref"&&!(N in $.value)&&(F[N]=p[N]);return{circular:$.circular,value:Object.assign({},$.value,F)}}return $}if(typeof $.value=="object"&&"$ref"in $.value&&"$ref"in p){if($.value.$ref===p.$ref)return $}else return $}const j=_._resolve(V,v,w);if(j===null)return{circular:!1,value:null};const L=j.circular;let Y=L||y.has(j.value);Y&&c(v,_,w);let K=l.default.dereference(p,j.value);if(!Y){const A=u(K,j.path,S,y,b,g,_,w,E);Y=A.circular,K=A.value}Y&&!L&&w.dereference?.circular==="ignore"&&(K=p),L&&(K.$ref=S);const W={circular:Y,value:K};return Object.keys(p).length===1&&g.set(V,W),W}function h(p,v){if(v&&v.timeoutMs&&Date.now()-p>v.timeoutMs)throw new s.TimeoutError(v.timeoutMs)}function c(p,v,S){if(v.circular=!0,S?.dereference?.onCircular?.(p),!S.dereference.circular)throw new ReferenceError(`Circular $ref pointer found at ${p}`);return!0}return Ae}var Xe={},xr={},Un;function Ja(){if(Un)return xr;Un=1,Object.defineProperty(xr,"__esModule",{value:!0});function o(){return typeof oe.process=="object"&&typeof oe.process.nextTick=="function"?oe.process.nextTick:typeof setImmediate=="function"?setImmediate:function(f){setTimeout(f,0)}}return xr.default=o(),xr}var Bn;function Ka(){if(Bn)return Xe;Bn=1;var o=Xe&&Xe.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.default=f;const i=o(Ja());function f(d,l){if(d){l.then(function(r){(0,i.default)(function(){d(null,r)})},function(r){(0,i.default)(function(){d(r)})});return}else return l}return Xe}var kn;function Xa(){return kn||(kn=1,(function(o){var i=Ce&&Ce.__createBinding||(Object.create?(function(g,_,w,E){E===void 0&&(E=w);var P=Object.getOwnPropertyDescriptor(_,w);(!P||("get"in P?!_.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return _[w]}}),Object.defineProperty(g,E,P)}):(function(g,_,w,E){E===void 0&&(E=w),g[E]=_[w]})),f=Ce&&Ce.__setModuleDefault||(Object.create?(function(g,_){Object.defineProperty(g,"default",{enumerable:!0,value:_})}):function(g,_){g.default=_}),d=Ce&&Ce.__importStar||(function(){var g=function(_){return g=Object.getOwnPropertyNames||function(w){var E=[];for(var P in w)Object.prototype.hasOwnProperty.call(w,P)&&(E[E.length]=P);return E},g(_)};return function(_){if(_&&_.__esModule)return _;var w={};if(_!=null)for(var E=g(_),P=0;P<E.length;P++)E[P]!=="default"&&i(w,_,E[P]);return f(w,_),w}})(),l=Ce&&Ce.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(o,"__esModule",{value:!0}),o.isUnsafeUrl=o.$Refs=o.getJsonSchemaRefParserDefaultOptions=o.jsonSchemaParserNormalizeArgs=o.dereferenceInternal=o.JSONParserErrorGroup=o.isHandledError=o.UnmatchedParserError=o.ParserError=o.ResolverError=o.MissingPointerError=o.InvalidPointerError=o.JSONParserError=o.UnmatchedResolverError=o.dereference=o.bundle=o.resolve=o.parse=o.$RefParser=void 0;const r=l(Fa());o.$Refs=r.default;const a=l(_i()),s=l(Wa());o.jsonSchemaParserNormalizeArgs=s.default;const t=l(Ya()),u=l(Ga()),n=l(za());o.dereferenceInternal=n.default;const h=d(je()),c=De();Object.defineProperty(o,"JSONParserError",{enumerable:!0,get:function(){return c.JSONParserError}}),Object.defineProperty(o,"InvalidPointerError",{enumerable:!0,get:function(){return c.InvalidPointerError}}),Object.defineProperty(o,"MissingPointerError",{enumerable:!0,get:function(){return c.MissingPointerError}}),Object.defineProperty(o,"ResolverError",{enumerable:!0,get:function(){return c.ResolverError}}),Object.defineProperty(o,"ParserError",{enumerable:!0,get:function(){return c.ParserError}}),Object.defineProperty(o,"UnmatchedParserError",{enumerable:!0,get:function(){return c.UnmatchedParserError}}),Object.defineProperty(o,"UnmatchedResolverError",{enumerable:!0,get:function(){return c.UnmatchedResolverError}}),Object.defineProperty(o,"isHandledError",{enumerable:!0,get:function(){return c.isHandledError}}),Object.defineProperty(o,"JSONParserErrorGroup",{enumerable:!0,get:function(){return c.JSONParserErrorGroup}});const p=l(Ka()),v=qi();Object.defineProperty(o,"getJsonSchemaRefParserDefaultOptions",{enumerable:!0,get:function(){return v.getJsonSchemaRefParserDefaultOptions}});const S=je();Object.defineProperty(o,"isUnsafeUrl",{enumerable:!0,get:function(){return S.isUnsafeUrl}});class y{schema=null;$refs=new r.default;async parse(){const _=(0,s.default)(arguments);let w;if(!_.path&&!_.schema){const P=new Error(`Expected a file path, URL, or object. Got ${_.path||_.schema}`);return(0,p.default)(_.callback,Promise.reject(P))}this.schema=null,this.$refs=new r.default;let E="http";if(h.isFileSystemPath(_.path))_.path=h.fromFileSystemPath(_.path),E="file";else if(!_.path&&_.schema&&"$id"in _.schema&&_.schema.$id){const P=h.parse(_.schema.$id),q=P.protocol==="https:"?443:80;_.path=`${P.protocol}//${P.hostname}:${q}`}if(_.path=h.resolve(h.cwd(),_.path),_.schema&&typeof _.schema=="object"){const P=this.$refs._add(_.path);P.value=_.schema,P.pathType=E,w=Promise.resolve(_.schema)}else w=(0,a.default)(_.path,this.$refs,_.options);try{const P=await w;if(P!==null&&typeof P=="object"&&!oe.Buffer.isBuffer(P))return this.schema=P,(0,p.default)(_.callback,Promise.resolve(this.schema));if(_.options.continueOnError)return this.schema=null,(0,p.default)(_.callback,Promise.resolve(this.schema));throw new SyntaxError(`"${this.$refs._root$Ref.path||P}" is not a valid JSON Schema`)}catch(P){return!_.options.continueOnError||!(0,c.isHandledError)(P)?(0,p.default)(_.callback,Promise.reject(P)):(this.$refs._$refs[h.stripHash(_.path)]&&this.$refs._$refs[h.stripHash(_.path)].addError(P),(0,p.default)(_.callback,Promise.resolve(null)))}}static parse(){const _=new y;return _.parse.apply(_,arguments)}async resolve(){const _=(0,s.default)(arguments);try{return await this.parse(_.path,_.schema,_.options),await(0,t.default)(this,_.options),b(this),(0,p.default)(_.callback,Promise.resolve(this.$refs))}catch(w){return(0,p.default)(_.callback,Promise.reject(w))}}static resolve(){const _=new y;return _.resolve.apply(_,arguments)}static bundle(){const _=new y;return _.bundle.apply(_,arguments)}async bundle(){const _=(0,s.default)(arguments);try{return await this.resolve(_.path,_.schema,_.options),(0,u.default)(this,_.options),b(this),(0,p.default)(_.callback,Promise.resolve(this.schema))}catch(w){return(0,p.default)(_.callback,Promise.reject(w))}}static dereference(){const _=new y;return _.dereference.apply(_,arguments)}async dereference(){const _=(0,s.default)(arguments);try{return await this.resolve(_.path,_.schema,_.options),(0,n.default)(this,_.options),b(this),(0,p.default)(_.callback,Promise.resolve(this.schema))}catch(w){return(0,p.default)(_.callback,Promise.reject(w))}}}o.$RefParser=y,o.default=y;function b(g){if(c.JSONParserErrorGroup.getParserErrors(g).length>0)throw new c.JSONParserErrorGroup(g)}o.parse=y.parse,o.resolve=y.resolve,o.bundle=y.bundle,o.dereference=y.dereference})(Ce)),Ce}var Qa=Xa();const Za=ua(Qa);function xt(o){const i=ea(o.shouldBlock);return o.children(i)}try{xt.displayName="Blocker",xt.__docgenInfo={description:"Component wrapper for react-router `useBlocker` hook where the blocker is passed as a render prop. Use the hook when possible.",displayName:"Blocker",props:{shouldBlock:{defaultValue:null,description:"",name:"shouldBlock",required:!0,type:{name:"boolean | BlockerFunction"}}}}}catch{}var Re={},Le={},Or={},sr=typeof Symbol=="function"?Symbol("curriable placeholder"):60881;function eo(o,i){function f(d){return function(){var l=d.length,r=arguments,a=r.length,s=[],t=0,u=i,n;if(l)for(var h=-1;++h<l;)s[h]=n=d[h]===sr&&t<a?r[t++]:d[h],n!==sr&&--u;if(t<a)for(;t<a;)s[s.length]=n=r[t],n!==sr&&t<i&&--u,++t;return u>0?f(s):o.apply(this,s)}}return f([])}function ze(o,i){var f=typeof i=="number"?i:o.length,d=eo(o,f);return d.arity=f,d.fn=o,d}ze.__=sr;function ro(o){return o===sr}ze.isPlaceholder=ro;function to(o){return o.fn}ze.uncurry=to;var Ar,Rr,Ne,Qe,no=typeof oe.Buffer<"u"&&typeof oe.Buffer.from=="function",io=typeof Uint16Array=="function",ao=/\[object (HTML(.*)Element)\]/,oo=/\[object (SVG(.*)Element)\]/,uo=["Arguments","Array","ArrayBuffer","Boolean","DataView","Date","DocumentFragment","Error","Event","Float32Array","Float64Array","Function","Generator","GeneratorFunction","HTMLElement","Int8Array","Int16Array","Int32Array","Map","Null","Number","Object","Promise","RegExp","Set","String","Symbol","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","Undefined","WeakMap","WeakSet","Window"],Ue=uo.reduce(function(o,i){return o["[object "+i+"]"]=i,o},{}),se=Object.keys(Ue).reduce(function(o,i){return o[Ue[i].toUpperCase()]=i,o},{}),so={"[object Map]":!0,"[object Set]":!0},lo={boolean:!0,function:!0,number:!0,string:!0,undefined:!0},fo=(Ar={},Ar[se.ARGUMENTS]=!0,Ar[se.ARRAY]=!0,Ar),co=(Rr={},Rr[se.REGEXP]=!0,Rr[se.SYMBOL]=!0,Rr),ho=(Ne={},Ne[se.FLOAT32ARRAY]=!0,Ne[se.FLOAT64ARRAY]=!0,Ne[se.INT8ARRAY]=!0,Ne[se.INT16ARRAY]=!0,Ne[se.INT32ARRAY]=!0,Ne[se.UINT8ARRAY]=!0,Ne[se.UINT8CLAMPEDARRAY]=!0,Ne[se.UINT16ARRAY]=!0,Ne[se.UINT32ARRAY]=!0,Ne),po=(Qe={},Qe[se.GENERATOR]=!0,Qe[se.PROMISE]=!0,Qe[se.WEAKMAP]=!0,Qe[se.WEAKSET]=!0,Qe),mo=/^\s*function\s*([^(]*)/i,Li=Object.prototype.toString,vo=Object.keys;function go(o){return o.name||(o.toString().match(mo)||[])[1]||"anonymous"}function yo(o){for(var i=o.length,f=5381,d=52711,l;i--;)l=o.charCodeAt(i),f=f*33^l,d=d*33^l;return(f>>>0)*4096+(d>>>0)}function _o(o){return{bubbles:o.bubbles,cancelBubble:o.cancelBubble,cancelable:o.cancelable,composed:o.composed,currentTarget:o.currentTarget,defaultPrevented:o.defaultPrevented,eventPhase:o.eventPhase,isTrusted:o.isTrusted,returnValue:o.returnValue,target:o.target,type:o.type}}function Ui(o,i){return o>i}function So(o,i){return o[0]>i[0]}function Ot(o,i){for(var f,d,l=0;l<o.length;++l){for(d=o[l],f=l-1;~f&&i(o[f],d);--f)o[f+1]=o[f];o[f+1]=d}return o}function bo(o,i,f){var d=typeof o.get=="function",l=[];d?(o.forEach(function(u,n){l.push([qr(n,i,f),qr(u,i,f)])}),Ot(l,So)):(o.forEach(function(u){l.push(qr(u,i,f))}),Ot(l,Ui));for(var r=go(o.constructor)+"|[",a=0,s=l.length,t;a<s;++a)t=l[a],r+=(a?",":"")+(d?"["+t[0]+","+t[1]+"]":t);return r+"]"}function wo(o){for(var i=Ot(vo(o),Ui),f={},d,l=0;l<i.length;++l)d=i[l],f[d]=o[d];return f}function Eo(o){return String.fromCharCode.apply(null,new Uint16Array(o))}function xo(o){return oe.Buffer.from(o).toString("utf8")}function Oo(){return""}var $n=(function(){return no?xo:io?Eo:Oo})();function Ao(o){for(var i=o.children,f="",d=0;d<i.length;++d)f+=i[d].outerHTML;return f}function Hn(o,i){for(var f=0;f<o.length;++f)if(o[f]===i)return f+1;return 0}function Ur(o,i,f,d){if(d===void 0){var l=typeof o;if(l==="string"||lo[l])return l+"|"+o;if(o===null)return"null|"+o}var r=d||Li.call(o);return fo[r]?o:r===se.OBJECT?wo(o):co[r]?Ue[r]+"|"+o.toString():so[r]?bo(o,i,f):r===se.DATE?Ue[r]+"|"+o.getTime():r===se.ERROR?Ue[r]+"|"+o.stack:r===se.EVENT?_o(o):po[r]?Ue[r]+"|NOT_ENUMERABLE":ao.test(r)||oo.test(r)?r.slice(8,-1)+"|"+o.outerHTML:r===se.DOCUMENTFRAGMENT?Ue[r]+"|"+Ao(o):ho[r]?Ue[r]+"|"+o.join(","):r===se.ARRAYBUFFER?Ue[r]+"|"+$n(o):r===se.DATAVIEW?Ue[r]+"|"+$n(o.buffer):o}function Ro(o,i){return o===void 0&&(o=[]),i===void 0&&(i=[]),function(f,d){if(typeof d=="object")if(o.length){var l=Hn(o,this);l===0?o.push(this):(o.splice(l),i.splice(l)),i.push(f);var r=Hn(o,d);if(r!==0)return"[~"+(i.slice(0,r).join(".")||".")+"]";o.push(d)}else o[0]=d,i[0]=f;return f&&this[f]instanceof Date?Ur(this[f],o,i,se.DATE):Ur(d,o,i)}}function qr(o,i,f){if(!o||typeof o!="object")return Ur(o,i,f);var d=Li.call(o);return d===se.DATE||d===se.REGEXP?Ur(o,i,f,d):JSON.stringify(o,Ro(i,f))}function Pe(o){return yo(qr(o))}Pe.is=ze(function(o,i){return Pe(o)===Pe(i)});Pe.is.all=ze(function(o){for(var i=Pe.is(o),f=1;f<arguments.length;++f)if(!i(arguments[f]))return!1;return!0},2);Pe.is.any=ze(function(o){for(var i=Pe.is(o),f=1;f<arguments.length;f++)if(i(arguments[f]))return!0;return!1},2);Pe.is.not=ze(function(o,i){return Pe(o)!==Pe(i)});const Po=Object.freeze(Object.defineProperty({__proto__:null,default:Pe,hash:Pe},Symbol.toStringTag,{value:"Module"})),jo=di(Po);var Vn;function Mt(){if(Vn)return Or;Vn=1,Object.defineProperty(Or,"__esModule",{value:!0});var o=(function(){function a(s,t){for(var u=0;u<t.length;u++){var n=t[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(s,n.key,n)}}return function(s,t,u){return t&&a(s.prototype,t),u&&a(s,u),s}})(),i=jo,f=d(i);function d(a){return a&&a.__esModule?a:{default:a}}function l(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}var r=(function(){function a(s,t,u){l(this,a),this.id=s;var n={cache:!0};if(typeof u>"u"&&(u=n),typeof t!="function"?(this.value=t,this.type=this.constructor.CONSTANT):(this.calculationMethod=t,this.type=this.constructor.DYNAMIC),!this.id)throw new Error("factId required");if(typeof this.value>"u"&&typeof this.calculationMethod>"u")throw new Error("facts must have a value or method");return this.priority=parseInt(u.priority||1,10),this.options=Object.assign({},n,u),this.cacheKeyMethod=this.defaultCacheKeys,this}return o(a,[{key:"isConstant",value:function(){return this.type===this.constructor.CONSTANT}},{key:"isDynamic",value:function(){return this.type===this.constructor.DYNAMIC}},{key:"calculate",value:function(t,u){return this.hasOwnProperty("value")?this.value:this.calculationMethod(t,u)}},{key:"defaultCacheKeys",value:function(t,u){return{params:u,id:t}}},{key:"getCacheKey",value:function(t){if(this.options.cache===!0){var u=this.cacheKeyMethod(this.id,t),n=a.hashFromObject(u);return n}}}],[{key:"hashFromObject",value:function(t){return(0,f.default)(t)}}]),a})();return r.CONSTANT="CONSTANT",r.DYNAMIC="DYNAMIC",Or.default=r,Or}var Pr={},jr={},Cr={},Wn;function kr(){if(Wn)return Cr;Wn=1;var o={};Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.default=i;function i(f){(typeof oe.process<"u"&&o&&o.DEBUG&&o.DEBUG.match(/json-rules-engine/)||typeof window<"u"&&window.localStorage&&window.localStorage.debug&&window.localStorage.debug.match(/json-rules-engine/))&&console.log(f)}return Cr}var pt,Yn;function Bi(){if(Yn)return pt;Yn=1;function o(i){return!!i&&typeof i=="object"}return pt=o,pt}var Gn;function Co(){if(Gn)return jr;Gn=1,Object.defineProperty(jr,"__esModule",{value:!0});var o=(function(){function t(u,n){for(var h=0;h<n.length;h++){var c=n[h];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}return function(u,n,h){return n&&t(u.prototype,n),h&&t(u,h),u}})(),i=kr(),f=r(i),d=Bi(),l=r(d);function r(t){return t&&t.__esModule?t:{default:t}}function a(t,u){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}var s=(function(){function t(u){if(a(this,t),!u)throw new Error("Condition: constructor options required");var n=t.booleanOperator(u);if(Object.assign(this,u),n){var h=u[n];if(!Array.isArray(h))throw new Error('"'+n+'" must be an array');this.operator=n,this.priority=parseInt(u.priority,10)||1,this[n]=h.map(function(c){return new t(c)})}else{if(!u.hasOwnProperty("fact"))throw new Error('Condition: constructor "fact" property required');if(!u.hasOwnProperty("operator"))throw new Error('Condition: constructor "operator" property required');if(!u.hasOwnProperty("value"))throw new Error('Condition: constructor "value" property required');u.hasOwnProperty("priority")&&(u.priority=parseInt(u.priority,10))}}return o(t,[{key:"toJSON",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,h={};this.priority&&(h.priority=this.priority);var c=t.booleanOperator(this);return c?h[c]=this[c].map(function(p){return p.toJSON(n)}):(h.operator=this.operator,h.value=this.value,h.fact=this.fact,this.factResult!==void 0&&(h.factResult=this.factResult),this.result!==void 0&&(h.result=this.result),this.params&&(h.params=this.params),this.path&&(h.path=this.path)),n?JSON.stringify(h):h}},{key:"_getValue",value:function(n){var h=this.value;return(0,l.default)(h)&&h.hasOwnProperty("fact")?n.factValue(h.fact,h.params,h.path):Promise.resolve(h)}},{key:"evaluate",value:function(n,h){var c=this;if(!n)return Promise.reject(new Error("almanac required"));if(!h)return Promise.reject(new Error("operatorMap required"));if(this.isBooleanOperator())return Promise.reject(new Error("Cannot evaluate() a boolean condition"));var p=h.get(this.operator);return p?this._getValue(n).then(function(v){return n.factValue(c.fact,c.params,c.path).then(function(S){var y=p.evaluate(S,v);return(0,f.default)("condition::evaluate <"+S+" "+c.operator+" "+v+"?> ("+y+")"),{result:y,leftHandSideValue:S,rightHandSideValue:v,operator:c.operator}})}):Promise.reject(new Error("Unknown operator: "+this.operator))}},{key:"booleanOperator",value:function(){return t.booleanOperator(this)}},{key:"isBooleanOperator",value:function(){return t.booleanOperator(this)!==void 0}}],[{key:"booleanOperator",value:function(n){if(n.hasOwnProperty("any"))return"any";if(n.hasOwnProperty("all"))return"all"}}]),t})();return jr.default=s,jr}var Fr={},mt={exports:{}},zn;function Fo(){return zn||(zn=1,(function(o){var i=(function(){function f(c,p){return p!=null&&c instanceof p}var d;try{d=Map}catch{d=function(){}}var l;try{l=Set}catch{l=function(){}}var r;try{r=Promise}catch{r=function(){}}function a(c,p,v,S,y){typeof p=="object"&&(v=p.depth,S=p.prototype,y=p.includeNonEnumerable,p=p.circular);var b=[],g=[],_=typeof oe.Buffer<"u";typeof p>"u"&&(p=!0),typeof v>"u"&&(v=1/0);function w(E,P){if(E===null)return null;if(P===0)return E;var q,V;if(typeof E!="object")return E;if(f(E,d))q=new d;else if(f(E,l))q=new l;else if(f(E,r))q=new r(function(N,Q){E.then(function(re){N(w(re,P-1))},function(re){Q(w(re,P-1))})});else if(a.__isArray(E))q=[];else if(a.__isRegExp(E))q=new RegExp(E.source,h(E)),E.lastIndex&&(q.lastIndex=E.lastIndex);else if(a.__isDate(E))q=new Date(E.getTime());else{if(_&&oe.Buffer.isBuffer(E))return oe.Buffer.allocUnsafe?q=oe.Buffer.allocUnsafe(E.length):q=new oe.Buffer(E.length),E.copy(q),q;f(E,Error)?q=Object.create(E):typeof S>"u"?(V=Object.getPrototypeOf(E),q=Object.create(V)):(q=Object.create(S),V=S)}if(p){var $=b.indexOf(E);if($!=-1)return g[$];b.push(E),g.push(q)}f(E,d)&&E.forEach(function(N,Q){var re=w(Q,P-1),ne=w(N,P-1);q.set(re,ne)}),f(E,l)&&E.forEach(function(N){var Q=w(N,P-1);q.add(Q)});for(var j in E){var L;V&&(L=Object.getOwnPropertyDescriptor(V,j)),!(L&&L.set==null)&&(q[j]=w(E[j],P-1))}if(Object.getOwnPropertySymbols)for(var Y=Object.getOwnPropertySymbols(E),j=0;j<Y.length;j++){var K=Y[j],W=Object.getOwnPropertyDescriptor(E,K);W&&!W.enumerable&&!y||(q[K]=w(E[K],P-1),W.enumerable||Object.defineProperty(q,K,{enumerable:!1}))}if(y)for(var A=Object.getOwnPropertyNames(E),j=0;j<A.length;j++){var F=A[j],W=Object.getOwnPropertyDescriptor(E,F);W&&W.enumerable||(q[F]=w(E[F],P-1),Object.defineProperty(q,F,{enumerable:!1}))}return q}return w(c,v)}a.clonePrototype=function(p){if(p===null)return null;var v=function(){};return v.prototype=p,new v};function s(c){return Object.prototype.toString.call(c)}a.__objToStr=s;function t(c){return typeof c=="object"&&s(c)==="[object Date]"}a.__isDate=t;function u(c){return typeof c=="object"&&s(c)==="[object Array]"}a.__isArray=u;function n(c){return typeof c=="object"&&s(c)==="[object RegExp]"}a.__isRegExp=n;function h(c){var p="";return c.global&&(p+="g"),c.ignoreCase&&(p+="i"),c.multiline&&(p+="m"),p}return a.__getRegExpFlags=h,a})();o.exports&&(o.exports=i)})(mt)),mt.exports}var Jn;function No(){if(Jn)return Fr;Jn=1,Object.defineProperty(Fr,"__esModule",{value:!0});var o=(function(){function a(s,t){for(var u=0;u<t.length;u++){var n=t[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(s,n.key,n)}}return function(s,t,u){return t&&a(s.prototype,t),u&&a(s,u),s}})(),i=Fo(),f=d(i);function d(a){return a&&a.__esModule?a:{default:a}}function l(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}var r=(function(){function a(s,t,u,n){l(this,a),this.conditions=(0,f.default)(s),this.event=(0,f.default)(t),this.priority=(0,f.default)(u),this.name=(0,f.default)(n),this.result=null}return o(a,[{key:"setResult",value:function(t){this.result=t}},{key:"toJSON",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,u={conditions:this.conditions.toJSON(!1),event:this.event,priority:this.priority,name:this.name,result:this.result};return t?JSON.stringify(u):u}}]),a})();return Fr.default=r,Fr}var Kn;function ki(){if(Kn)return Pr;Kn=1,Object.defineProperty(Pr,"__esModule",{value:!0});var o=(function(){function p(v,S){for(var y=0;y<S.length;y++){var b=S[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,S,y){return S&&p(v.prototype,S),y&&p(v,y),v}})(),i=Co(),f=t(i),d=No(),l=t(d),r=hi(),a=kr(),s=t(a);function t(p){return p&&p.__esModule?p:{default:p}}function u(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function n(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function h(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var c=(function(p){h(v,p);function v(S){u(this,v);var y=n(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));typeof S=="string"&&(S=JSON.parse(S)),S&&S.conditions&&y.setConditions(S.conditions),S&&S.onSuccess&&y.on("success",S.onSuccess),S&&S.onFailure&&y.on("failure",S.onFailure),S&&(S.name||S.name===0)&&y.setName(S.name);var b=S&&S.priority||1;y.setPriority(b);var g=S&&S.event||{type:"unknown"};return y.setEvent(g),y}return o(v,[{key:"setPriority",value:function(y){if(y=parseInt(y,10),y<=0)throw new Error("Priority must be greater than zero");return this.priority=y,this}},{key:"setName",value:function(y){if(!y&&y!==0)throw new Error('Rule "name" must be defined');return this.name=y,this}},{key:"setConditions",value:function(y){if(!y.hasOwnProperty("all")&&!y.hasOwnProperty("any"))throw new Error('"conditions" root must contain a single instance of "all" or "any"');return this.conditions=new f.default(y),this}},{key:"setEvent",value:function(y){if(!y)throw new Error("Rule: setEvent() requires event object");if(!y.hasOwnProperty("type"))throw new Error('Rule: setEvent() requires event object with "type" property');return this.event={type:y.type},y.params&&(this.event.params=y.params),this}},{key:"setEngine",value:function(y){return this.engine=y,this}},{key:"toJSON",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,b={conditions:this.conditions.toJSON(!1),priority:this.priority,event:this.event,name:this.name};return y?JSON.stringify(b):b}},{key:"prioritizeConditions",value:function(y){var b=this,g=y.reduce(function(_,w){var E=w.priority;if(!E){var P=b.engine.getFact(w.fact);E=P&&P.priority||1}return _[E]||(_[E]=[]),_[E].push(w),_},{});return Object.keys(g).sort(function(_,w){return Number(_)>Number(w)?-1:1}).map(function(_){return g[_]})}},{key:"evaluate",value:function(y){var b=this,g=new l.default(this.conditions,this.event,this.priority,this.name),_=function(j){if(j.isBooleanOperator()){var L=j[j.operator],Y=void 0;return j.operator==="all"?Y=q(L):Y=P(L),Y.then(function(K){var W=K===!0;return j.result=W,W})}else return j.evaluate(y,b.engine.operators).then(function(K){var W=K.result;return j.factResult=K.leftHandSideValue,j.result=W,W})},w=function(j,L){return Array.isArray(j)||(j=[j]),Promise.all(j.map(function(Y){return _(Y)})).then(function(Y){return(0,s.default)("rule::evaluateConditions results",Y),L.call(Y,function(K){return K===!0})})},E=function(j,L){if(j.length===0)return Promise.resolve(!0);var Y=Array.prototype.some;L==="all"&&(Y=Array.prototype.every);for(var K=b.prioritizeConditions(j),W=Promise.resolve(),A=function(Q){var re=K[Q],ne=!1;W=W.then(function(pe){return L==="any"&&pe===!0||ne?((0,s.default)("prioritizeAndRun::detected truthy result; skipping remaining conditions"),ne=!0,!0):L==="all"&&pe===!1||ne?((0,s.default)("prioritizeAndRun::detected falsey result; skipping remaining conditions"),ne=!0,!1):w(re,Y)})},F=0;F<K.length;F++)A(F);return W},P=function(j){return E(j,"any")},q=function(j){return E(j,"all")},V=function(j){return g.setResult(j),j?b.emit("success",g.event,y,g):b.emit("failure",g.event,y,g),g};return g.conditions.any?P(g.conditions.any).then(function($){return V($)}):q(g.conditions.all).then(function($){return V($)})}}]),v})(r.EventEmitter);return Pr.default=c,Pr}var Nr={},Xn;function qt(){if(Xn)return Nr;Xn=1,Object.defineProperty(Nr,"__esModule",{value:!0});var o=(function(){function d(l,r){for(var a=0;a<r.length;a++){var s=r[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(l,s.key,s)}}return function(l,r,a){return r&&d(l.prototype,r),a&&d(l,a),l}})();function i(d,l){if(!(d instanceof l))throw new TypeError("Cannot call a class as a function")}var f=(function(){function d(l,r,a){if(i(this,d),this.name=String(l),!l)throw new Error("Missing operator name");if(typeof r!="function")throw new Error("Missing operator callback");this.cb=r,this.factValueValidator=a,this.factValueValidator||(this.factValueValidator=function(){return!0})}return o(d,[{key:"evaluate",value:function(r,a){return this.factValueValidator(r)&&this.cb(r,a)}}]),d})();return Nr.default=f,Nr}var Tr={},Dr={},Qn;function To(){if(Qn)return Dr;Qn=1,Object.defineProperty(Dr,"__esModule",{value:!0});function o(d,l){if(!(d instanceof l))throw new TypeError("Cannot call a class as a function")}function i(d,l){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:d}function f(d,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);d.prototype=Object.create(l&&l.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(d,l):d.__proto__=l)}return Dr.UndefinedFactError=(function(d){f(l,d);function l(){var r;o(this,l);for(var a=arguments.length,s=Array(a),t=0;t<a;t++)s[t]=arguments[t];var u=i(this,(r=l.__proto__||Object.getPrototypeOf(l)).call.apply(r,[this].concat(s)));return u.code="UNDEFINED_FACT",u}return l})(Error),Dr}var vt,Zn;function Do(){return Zn||(Zn=1,vt=function(o){var i=this,f;if(arguments.length<2)f=function(){if(this instanceof f){var r=i.apply(this,arguments);return Object(r)===r?r:this}else return i.apply(o,arguments)};else{for(var d=new Array(arguments.length-1),l=1;l<arguments.length;l++)d[l-1]=arguments[l];f=function(){var r=d.length,a=new Array(r+arguments.length),s;for(s=0;s<r;s++)a[s]=d[s];for(s=0;s<arguments.length;s++)a[r+s]=arguments[s];if(this instanceof f){var t=i.apply(this,a);return Object(t)===t?t:this}else return i.apply(o,a)}}return f.prototype=i.prototype,f}),vt}var gt,ei;function Io(){if(ei)return gt;ei=1;var o=Function.prototype.bind||Do();gt=i;function i(f,d){var l=function(){return arguments.length===0?l:arguments.length>1?f.apply(d,arguments):o.call(f,d,arguments[0])};return l.uncurry=function(){return f},l}return gt}var yt,ri;function Mo(){if(ri)return yt;ri=1;yt=f;var o=/\[([^\[\]]+)\]/g,i=/^[.]*|[.]*$/g;function f(d){return{}.toString.call(d)=="[object String]"?d.replace(o,".$1").replace(i,""):""}return yt}var _t,ti;function qo(){if(ti)return _t;ti=1;var o=Object.prototype.toString;function i(r){for(var a=-1,s=d(f(r).split(".")),t=s.length,u=[];++a<t;)u.push(l(s[a]));return u}function f(r){return(o.call(r)==="[object String]"?r:"").replace(/\\\./g,"￿")}function d(r){for(var a=-1,s=r.length,t=[];++a<s;)r[a]&&t.push(r[a]);return t}function l(r){return r.replace(/\uffff/g,".")}return _t=i,_t}var St,ni;function Lo(){if(ni)return St;ni=1;const o=Io(),i=Mo(),f=qo(),d=Object.prototype.toString;St=o(l);function l(r,a){let s=-1;const t=d.call(r)==="[object Array]"?r:f(i(r)),u=t.length;let n=u?a:void 0;for(;++s<u;){if(Object(n)!==n)return;n=n[t[s]]}return typeof n=="function"?n():n}return St}var ii;function Uo(){if(ii)return Tr;ii=1,Object.defineProperty(Tr,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},i=(function(){function v(S,y){for(var b=0;b<y.length;b++){var g=y[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(S,g.key,g)}}return function(S,y,b){return y&&v(S.prototype,y),b&&v(S,b),S}})(),f=Mt(),d=h(f),l=To(),r=kr(),a=h(r),s=Lo(),t=h(s),u=Bi(),n=h(u);function h(v){return v&&v.__esModule?v:{default:v}}function c(v,S){if(!(v instanceof S))throw new TypeError("Cannot call a class as a function")}var p=(function(){function v(S){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};c(this,v),this.factMap=new Map(S),this.factResultsCache=new Map,this.allowUndefinedFacts=!!b.allowUndefinedFacts;for(var g in y){var _=void 0;y[g]instanceof d.default?_=y[g]:_=new d.default(g,y[g]),this._addConstantFact(_),(0,a.default)("almanac::constructor initialized runtime fact:"+_.id+" with "+_.value+"<"+o(_.value)+">")}}return i(v,[{key:"_getFact",value:function(y){return this.factMap.get(y)}},{key:"_addConstantFact",value:function(y){this.factMap.set(y.id,y),this._setFactValue(y,{},y.value)}},{key:"_setFactValue",value:function(y,b,g){var _=y.getCacheKey(b),w=Promise.resolve(g);return _&&this.factResultsCache.set(_,w),w}},{key:"addRuntimeFact",value:function(y,b){var g=new d.default(y,b);return this._addConstantFact(g)}},{key:"factValue",value:function(y){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",_=void 0,w=this._getFact(y);if(w===void 0)return this.allowUndefinedFacts?Promise.resolve(void 0):Promise.reject(new l.UndefinedFactError("Undefined fact: "+y));if(w.isConstant())_=Promise.resolve(w.calculate(b,this));else{var E=w.getCacheKey(b),P=E&&this.factResultsCache.get(E);P?(_=Promise.resolve(P),(0,a.default)("almanac::factValue cache hit for fact:"+y)):((0,a.default)("almanac::factValue cache miss for fact:"+y+"; calculating"),_=this._setFactValue(w,b,w.calculate(b,this)))}return g?_.then(function(q){if((0,n.default)(q)){var V=(0,t.default)(g)(q);return(0,a.default)("condition::evaluate extracting object property "+g+", received: "+V),V}else return(0,a.default)("condition::evaluate could not compute object path("+g+") of non-object: "+q+" <"+(typeof q>"u"?"undefined":o(q))+">; continuing with "+q),q}):_}}]),v})();return Tr.default=p,Tr}var Ir={},ai;function Bo(){if(ai)return Ir;ai=1,Object.defineProperty(Ir,"__esModule",{value:!0});var o=function(){var f=[];return function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return d.event&&f.push(d.event),f}};return Ir.SuccessEventFact=o,Ir}var Mr={},oi;function ko(){if(oi)return Mr;oi=1,Object.defineProperty(Mr,"__esModule",{value:!0});var o=qt(),i=f(o);function f(r){return r&&r.__esModule?r:{default:r}}var d=[];d.push(new i.default("equal",function(r,a){return r===a})),d.push(new i.default("notEqual",function(r,a){return r!==a})),d.push(new i.default("in",function(r,a){return a.indexOf(r)>-1})),d.push(new i.default("notIn",function(r,a){return a.indexOf(r)===-1})),d.push(new i.default("contains",function(r,a){return r.indexOf(a)>-1},Array.isArray)),d.push(new i.default("doesNotContain",function(r,a){return r.indexOf(a)===-1},Array.isArray));function l(r){return Number.parseFloat(r).toString()!=="NaN"}return d.push(new i.default("lessThan",function(r,a){return r<a},l)),d.push(new i.default("lessThanInclusive",function(r,a){return r<=a},l)),d.push(new i.default("greaterThan",function(r,a){return r>a},l)),d.push(new i.default("greaterThanInclusive",function(r,a){return r>=a},l)),Mr.default=d,Mr}var ui;function $o(){if(ui)return Le;ui=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.FINISHED=Le.RUNNING=Le.READY=void 0;var o=(function(){function q(V,$){for(var j=0;j<$.length;j++){var L=$[j];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(V,L.key,L)}}return function(V,$,j){return $&&q(V.prototype,$),j&&q(V,j),V}})(),i=Mt(),f=S(i),d=ki(),l=S(d),r=qt(),a=S(r),s=Uo(),t=S(s),u=hi(),n=Bo(),h=ko(),c=S(h),p=kr(),v=S(p);function S(q){return q&&q.__esModule?q:{default:q}}function y(q,V){if(!(q instanceof V))throw new TypeError("Cannot call a class as a function")}function b(q,V){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:q}function g(q,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);q.prototype=Object.create(V&&V.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(q,V):q.__proto__=V)}var _=Le.READY="READY",w=Le.RUNNING="RUNNING",E=Le.FINISHED="FINISHED",P=(function(q){g(V,q);function V(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};y(this,V);var L=b(this,(V.__proto__||Object.getPrototypeOf(V)).call(this));return L.rules=[],L.allowUndefinedFacts=j.allowUndefinedFacts||!1,L.operators=new Map,L.facts=new Map,L.status=_,$.map(function(Y){return L.addRule(Y)}),c.default.map(function(Y){return L.addOperator(Y)}),L}return o(V,[{key:"addRule",value:function(j){if(!j)throw new Error("Engine: addRule() requires options");if(!j.hasOwnProperty("conditions"))throw new Error('Engine: addRule() argument requires "conditions" property');if(!j.hasOwnProperty("event"))throw new Error('Engine: addRule() argument requires "event" property');var L=void 0;return j instanceof l.default?L=j:L=new l.default(j),L.setEngine(this),this.rules.push(L),this.prioritizedRules=null,this}},{key:"removeRule",value:function(j){if(!(j instanceof l.default))throw new Error("Engine: removeRule() rule must be a instance of Rule");var L=this.rules.indexOf(j);return L===-1?!1:(this.prioritizedRules=null,!!this.rules.splice(L,1).length)}},{key:"addOperator",value:function(j,L){var Y=void 0;j instanceof a.default?Y=j:Y=new a.default(j,L),(0,v.default)("engine::addOperator name:"+Y.name),this.operators.set(Y.name,Y)}},{key:"removeOperator",value:function(j){var L=void 0;return j instanceof a.default?L=j.name:L=j,this.operators.delete(L)}},{key:"addFact",value:function(j,L,Y){var K=j,W=void 0;return j instanceof f.default?(K=j.id,W=j):W=new f.default(j,L,Y),(0,v.default)("engine::addFact id:"+K),this.facts.set(K,W),this}},{key:"removeFact",value:function(j){var L=void 0;return j instanceof f.default?L=j.id:L=j,this.facts.delete(L)}},{key:"prioritizeRules",value:function(){if(!this.prioritizedRules){var j=this.rules.reduce(function(L,Y){var K=Y.priority;return L[K]||(L[K]=[]),L[K].push(Y),L},{});this.prioritizedRules=Object.keys(j).sort(function(L,Y){return Number(L)>Number(Y)?-1:1}).map(function(L){return j[L]})}return this.prioritizedRules}},{key:"stop",value:function(){return this.status=E,this}},{key:"getFact",value:function(j){return this.facts.get(j)}},{key:"evaluateRules",value:function(j,L){var Y=this;return Promise.all(j.map(function(K){if(Y.status!==w){(0,v.default)("engine::run status:"+Y.status+"; skipping remaining rules");return}return K.evaluate(L).then(function(W){(0,v.default)("engine::run ruleResult:"+W.result),W.result?(Y.emit("success",K.event,L,W),Y.emit(K.event.type,K.event.params,L,W),L.factValue("success-events",{event:K.event})):Y.emit("failure",K.event,L,W)})}))}},{key:"run",value:function(){var j=this,L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,v.default)("engine::run started"),(0,v.default)("engine::run runtimeFacts:",L),L["success-events"]=new f.default("success-events",(0,n.SuccessEventFact)(),{cache:!1}),this.status=w;var Y=new t.default(this.facts,L,{allowUndefinedFacts:this.allowUndefinedFacts}),K=this.prioritizeRules(),W=Promise.resolve();return new Promise(function(A,F){K.map(function(N){return W=W.then(function(){return j.evaluateRules(N,Y)}).catch(F),W}),W.then(function(){return j.status=E,(0,v.default)("engine::run completed"),Y.factValue("success-events")}).then(function(N){A({events:N,almanac:Y})}).catch(F)})}}]),V})(u.EventEmitter);return Le.default=P,Le}var si;function Ho(){if(si)return Re;si=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.Engine=Re.Operator=Re.Rule=Re.Fact=void 0,Re.default=function(u,n){return new i.default(u,n)};var o=$o(),i=t(o),f=Mt(),d=t(f),l=ki(),r=t(l),a=qt(),s=t(a);function t(u){return u&&u.__esModule?u:{default:u}}return Re.Fact=d.default,Re.Rule=r.default,Re.Operator=s.default,Re.Engine=i.default,Re}var bt,li;function Vo(){return li||(li=1,bt=Ho()),bt}var fi=Vo();function At(o){const i=x.jsxs("div",{children:[x.jsx("h6",{children:"Data"}),x.jsx("pre",{children:JSON.stringify(o.formData,null,2)})]});return x.jsx(x.Fragment,{children:!o.hidden&&i})}try{At.displayName="DataDebug",At.__docgenInfo={description:"",displayName:"DataDebug",props:{formData:{defaultValue:null,description:"",name:"formData",required:!0,type:{name:"any"}},hidden:{defaultValue:null,description:"",name:"hidden",required:!0,type:{name:"boolean"}}}}}catch{}function Rt(o){let i=x.jsx(x.Fragment,{});return o.isSubmitted?i=x.jsx("div",{children:"Your information has been submitted"}):o.bodyText&&(i=x.jsx("div",{dangerouslySetInnerHTML:{__html:o.bodyText}})),x.jsxs("div",{className:`submission-header${o.isSubmitted?" submitted":""}`,children:[x.jsx("h2",{children:o.title}),i,x.jsx("hr",{})]})}try{Rt.displayName="Header",Rt.__docgenInfo={description:"",displayName:"Header",props:{isSubmitted:{defaultValue:null,description:"",name:"isSubmitted",required:!1,type:{name:"boolean"}},bodyText:{defaultValue:null,description:"",name:"bodyText",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}}}}}catch{}function Pt(o){const f=(r=>r.isWizardMode?r.previousStepIds&&r.previousStepIds.length>0:r.steps.findIndex(a=>a.id===r.currentStep.id)>0)(o)?x.jsx("button",{type:"button",onClick:r=>o.onNavAction(me.PREVIOUS),className:"btn btn-link nav-link prev",children:x.jsx(Lr,{icon:"chevronLeft"})}):x.jsx(x.Fragment,{}),d=o.currentStep.final?x.jsx(x.Fragment,{}):x.jsx("button",{type:"button",onClick:r=>o.onNavAction(me.NEXT),className:"btn btn-link nav-link next",children:x.jsx(Lr,{icon:"chevronRight"})}),l=x.jsx("button",{type:"button",className:"btn btn-action save",disabled:o.isFormSubmitted,onClick:r=>o.onNavAction(me.SAVE),children:"SAVE"});return x.jsxs("div",{children:[x.jsx("hr",{}),x.jsxs("div",{className:"buttonWrapper pull-right",children:[f," ",d," ",l]})]})}function jt(o){const i=o.steps.find(f=>f.id===o.nextStepId);return typeof i>"u"?x.jsx(x.Fragment,{}):x.jsxs("span",{className:"nav-link",children:[x.jsx("a",{onClick:f=>o.onNavAction(i),children:i.title}),x.jsx(Lr,{icon:"chevronRight"})]})}try{Pt.displayName="NavButtons",Pt.__docgenInfo={description:"",displayName:"NavButtons",props:{isWizardMode:{defaultValue:null,description:"",name:"isWizardMode",required:!1,type:{name:"boolean"}},previousStepIds:{defaultValue:null,description:"",name:"previousStepIds",required:!0,type:{name:"string[]"}},onNavAction:{defaultValue:null,description:"",name:"onNavAction",required:!0,type:{name:"(action: NavActionEnum) => void"}},steps:{defaultValue:null,description:"",name:"steps",required:!0,type:{name:"Step[]"}},currentStep:{defaultValue:null,description:"",name:"currentStep",required:!0,type:{name:"Step"}},isFormSubmitted:{defaultValue:null,description:"",name:"isFormSubmitted",required:!1,type:{name:"boolean"}}}}}catch{}try{jt.displayName="NextStepLink",jt.__docgenInfo={description:"",displayName:"NextStepLink",props:{onNavAction:{defaultValue:null,description:"",name:"onNavAction",required:!0,type:{name:"(step: Step) => void"}},steps:{defaultValue:null,description:"",name:"steps",required:!0,type:{name:"Step[]"}},nextStepId:{defaultValue:null,description:"",name:"nextStepId",required:!0,type:{name:"string"}}}}}catch{}function Ct(o){const i=o.stepList.filter(r=>r.child!==!0),f=(r,a,s,t)=>{let u="circle";return s||t?{iconDef:u}:(a?u="block":r===Te.COMPLETED?u="checkCircle":r===Te.ERROR&&(u="errorOutlined"),{iconDef:u})},d=(r,a=!1)=>{let s="item";return r&&(s=`${s} pointed `),a&&(s=`${s} static`),s},l=(r,a,s=!1)=>{if(!r||r.child&&!s)return x.jsx(x.Fragment,{});const t=(h,c,p)=>!h.inProgress&&(!c||h.final)?x.jsx("button",{className:"btn btn-link",onClick:()=>p(h),children:h.title}):x.jsx("span",{children:h.title}),u=f(r.state,r.excluded,r.static,r.final),n=d(r.inProgress,r.static);return x.jsxs("div",{className:n,children:[x.jsx(Lr,{icon:u.iconDef}),t(r,a,o.onStepChange)]})};return x.jsx("div",{className:"SRC-menuLayout json-forms-menu",style:{flex:"1"},children:x.jsx("ul",{children:i.map((r,a)=>x.jsxs("li",{className:"item-wrap",children:[l(r,!!o.isWizardMode),r.children&&r.children.length>0&&x.jsx("div",{className:"subMenu",children:x.jsx("ul",{children:r.children&&r.children.map((s,t)=>{const u=o.stepList.find(n=>n.id===s);return typeof u>"u"?x.jsx(x.Fragment,{}):x.jsx("li",{className:"item-wrap",children:l(u,!!o.isWizardMode,!0)},`${t}-${s}`)})})})]},`${a}-${r.id}`))})})}try{Ct.displayName="StepsSideNav",Ct.__docgenInfo={description:"",displayName:"StepsSideNav",props:{stepList:{defaultValue:null,description:"",name:"stepList",required:!0,type:{name:"Step[]"}},onStepChange:{defaultValue:null,description:"",name:"onStepChange",required:!0,type:{name:"(step: Step) => void"}},isWizardMode:{defaultValue:null,description:"",name:"isWizardMode",required:!1,type:{name:"boolean"}}}}}catch{}function Wo(o,i,f){const d=/\[\d+\]\./g,l=/\.(\d)+/g;o=o.replace(l,"[$1]");const a=`${o.split(".").join(".properties.")}.title`,s=`${o}.ui:title`,t=a.replace(d,".items."),u=s.replace(d,".items."),n=a.match(d);let h=pi(n);h&&(h=h.substring(1,h.length-2),h=isNaN(parseInt(h))?"":`${parseInt(h)+1}`);const c=be(f,s)||be(i.properties,a)||be(f,u)||be(i.properties,t)||`${t}`;return`${h?"["+h+"] ":""}${c}`}function Yo(o,i,f,d){function l(t,u,n){return Object.keys(t).forEach(c=>{t[c]===null?u[n+c]="":Bt(t[c])&&!Ht(t[c])?t[c].forEach((p,v)=>{if(Bt(p)||kt(t[c])&&!Ht(p))l(p,u,`${n}${c}[${v}].`);else{let S=u[`${n}${c}`];S=S?`${S}, `:"",u[`${n}${c}`]=S+p}}):kt(t[c])&&!Ea(t[c])?l(t[c],u,`${n}${c}.`):u[n+c]=t[c]}),u}const r=l(Ge(o),{},"");return console.log(r),Tt(r).map(t=>{let u=r[t];r[t]===!1&&(u="false"),r[t]===!0&&(u="true");const n=t.indexOf(".");return{screen:vi(i,{id:t.substring(0,n)}),label:Wo(t,f,d),value:u}}).filter(t=>t.label.indexOf(".properties.included.title")===-1).filter(t=>t.screen&&typeof t.value<"u").map(t=>({label:t.label,value:t.value,screen:t.screen})).sort((t,u)=>t.screen.order-u.screen.order)}function Ft(o){let i=[];i=Yo(Ge(o.formData),o.steps,o.schema,o.uiSchema);let f="";const d=x.jsxs(x.Fragment,{children:[x.jsx("table",{className:"table summary-table-header",children:x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"Step"}),x.jsx("th",{children:"Label"}),x.jsx("th",{children:"Value"})]})})}),x.jsx("div",{className:"scroll-area table-body",children:x.jsx("table",{className:"table summary-table",children:x.jsx("tbody",{children:i.map((l,r)=>x.jsxs("tr",{children:[x.jsx("td",{children:f!==l.screen.id&&(f=l.screen.id)&&x.jsx("span",{children:l.screen.title})}),x.jsx("td",{children:l.label}),x.jsx("td",{children:l.value})]},`${r}-${l.screen.id}-${l.label}`))})})})]});return x.jsxs(x.Fragment,{children:[x.jsx("p",{className:"step-exclude-directions",children:'Below is all of the data you have entered. Before submitting, click "Validate" to ensure that all of the required data has been entered.'}),x.jsx("button",{className:"nav-link pull-right",onClick:()=>window.print(),children:"Print this data"}),x.jsx("div",{className:"panel panel-default padding-full wrap",children:x.jsx("div",{className:"summary scroll-area",children:d})})]})}try{Ft.displayName="SummaryTable",Ft.__docgenInfo={description:"",displayName:"SummaryTable",props:{isWizard:{defaultValue:null,description:"",name:"isWizard",required:!1,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!0,type:{name:"any"}},callbackFn:{defaultValue:null,description:"",name:"callbackFn",required:!1,type:{name:"(screenId: string) => void"}},steps:{defaultValue:null,description:"",name:"steps",required:!0,type:{name:"Step[]"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"FormSchema"}},uiSchema:{defaultValue:null,description:"",name:"uiSchema",required:!0,type:{name:"UiSchema"}}}}}catch{}class Nt extends ur.Component{excludeWarningText=x.jsxs("div",{children:[x.jsx("p",{children:"This action will clear any entered data on this page and remove this form from your submission. You can include it again at anytime. Only this page will be affected."}),x.jsx("p",{children:"Are you sure you want to skip this step and clear any entered data?"})]});excludeWarningHeader="Skip This Step?";unsavedDataWarning="You might have some unsaved data. Are you sure you want to leave?";formRef;submitButtonRef;formDivRef;navAction=me.NONE;uiSchema;nextStep;extraErrors=[];isNewForm=i=>Object.keys(i).length==1&&Object.keys(i)[0]==="metadata"||Object.keys(i).length==0;getFirstStep=(i,f)=>this.isNewForm(f)?i[0]:i.find(d=>d.final===!0)||i[0];constructor(i){super(i),this.uiSchema=$i(Ge(i.uiSchema),"ui:help");const f=i.navSchema.steps.map((l,r)=>({...l,inProgress:r===0})).sort((l,r)=>l.order-r.order);this.formRef=ur.createRef(),this.formDivRef=ur.createRef(),this.submitButtonRef=ur.createRef();const d=this.getFirstStep(f,i.formData);this.state={currentStep:d,steps:f,previousStepIds:[],formData:i.formData,doShowErrors:!1,doShowHelp:!0,hasUnsavedChanges:!1,isSubmitted:i.isSubmitted,isLoadingSaved:!this.isNewForm(this.props.formData)}}onUnload=i=>this.state.hasUnsavedChanges?(i.preventDefault(),i.returnValue=this.unsavedDataWarning):void 0;setupBeforeUnloadListener=()=>{window.addEventListener("beforeunload",this.onUnload)};componentWillUnmount(){window.removeEventListener("beforeunload",this.onUnload)}componentDidUpdate(i){const f=this.props.callbackStatus!==i.callbackStatus,d=this.props.callbackStatus===ge.SAVE_SUCCESS||this.props.callbackStatus===ge.SUBMIT_SUCCESS;f&&d&&(this.setState({hasUnsavedChanges:!1}),this.props.callbackStatus===ge.SUBMIT_SUCCESS&&(this.setState({isSubmitted:!0}),window.history.back()))}_setIncludedPropInFormDataNonWizard=(i,f)=>{const d={},l=i.formData;return Object.keys(f).forEach(r=>{be(f[r],"properties.included")&&nr(d,`${r}.included`,!0)}),{...l,...d}};_setIncludedPropInFormDataWizard=i=>{const f=i.currentStep.id,d=Ge(i.formData);return nr(d,`${f}.included`,!0),d};componentDidMount(){this.setupBeforeUnloadListener(),this.isNewForm(this.state.formData)?this.setState(f=>({formData:this.props.isWizardMode?this._setIncludedPropInFormDataWizard(f):this._setIncludedPropInFormDataNonWizard(f,this.props.schema)})):this.triggerAction(me.VALIDATE)}getSchema=({id:i,final:f})=>f?this.props.schema:ra(this.props.schema,["title","type",`properties.${i}`]);getNextStepId=async(i,f,d)=>{if(d)return d;if(!i.rules||i.rules.length===0)return i.default;const l=new fi.Engine(i.rules);try{const r=await l.run(f);return r.events.length>0?r.events[0].params.next:i.default}catch{return i.default}};moveStep=async(i,f,d,l=[...this.state.previousStepIds])=>{const r=this.state.currentStep;let a;this.formRef?.current&&this.formRef.current.setState({errorSchema:{}});const s=this.props.isWizardMode&&!f;s&&l.push(r.id),d?a=Te.ERROR:(a=Te.COMPLETED,!s&&this.props.isWizardMode&&(a=Te.TODO)),f=await this.getNextStepId(r,i,f);const t=this.state.steps.map(n=>n.id===r.id?{...n,state:a,inProgress:!1}:n.id===f?{...n,inProgress:!0}:n);s&&nr(i,`${f}.included`,!0);const u=this.state.steps.find(n=>n.id===f);this.props.isWizardMode&&u.final&&Object.keys(i).forEach(n=>{i[n].included===void 0&&(i[n]={})}),this.saveStepState(l,t,u,i)};saveStepState=(i,f,d,l)=>{this.setState({previousStepIds:i,steps:f,currentStep:d,formData:l,hasValidated:!1,doShowErrors:!1})};goPrevious=async(i,f)=>{let d;const l=[...this.state.previousStepIds];if(this.props.isWizardMode)d=l.pop(),this.isSubmitScreen()||nr(i,`${this.state.currentStep.id}.included`,void 0);else{const r=mi(this.state.steps,{id:this.state.currentStep.id});r>0&&(d=this.state.steps[r-1].id)}if(!sa(d))return this.moveStep(i,d,f,l)};triggerAction=async i=>{if(i===me.SAVE)return this.props.onSave(this.state.formData);this.navAction=i,this.extraErrors=await this.runCustomValidation(this.state.formData,this.state.currentStep,this.state.steps),this.submitButtonRef.current&&this.submitButtonRef.current.click()};triggerStepChange=i=>{this.nextStep=i,this.triggerAction(me.GO_TO_STEP)};onError=i=>{if(this.setState({doShowErrors:!0,hasValidated:!1}),this.navAction===me.VALIDATE){const f=this.setStepStatusForFailedValidation(i.props,this.state.steps,!!this.props.isWizardMode,this.state.formData,this.getSchema(this.state.currentStep).properties||this.getSchema(this.state.currentStep));this.setState({steps:f}),this.formDivRef.current.scrollTo(0,0),this.state.isLoadingSaved&&(this.moveStep(this.state.formData,f[0].id,!0),this.setState({isLoadingSaved:!1}))}};setStepStatusForFailedValidation=(i,f,d,l,r)=>{const a=i.map(u=>gi(u.property,".").split(".")[0]),s=Object.keys(r);return f.map(u=>{if(a.indexOf(u.id)>-1)return{...u,state:Te.ERROR};if(s.indexOf(u.id)>-1){let n=Te.COMPLETED;return d&&!be(l[u.id],"included")&&(n=u.state),{...u,state:n}}else return u})};handleOnChange({formData:i}){if(!this.isSubmitScreen()&&!this.state.currentStep.excluded){const f=!ta(this.state.formData,i);this.setState({formData:i,hasUnsavedChanges:f})}}performAction(i,f){const d=this.state.formData;switch(i){case me.NEXT:return this.moveStep(d,void 0,f);case me.PREVIOUS:return this.goPrevious(d,f);case me.GO_TO_STEP:return this.nextStep?this.moveStep(d,this.nextStep.id,f):void 0;case me.SUBMIT:{this.props.onSubmit(d);return}case me.VALIDATE:{const l=this.setStepStatusForFailedValidation([],this.state.steps,!!this.props.isWizardMode,this.state.formData,this.getSchema(this.state.currentStep).properties||this.getSchema(this.state.currentStep)),r={...this.state.currentStep,state:Te.COMPLETED};this.setState({hasValidated:!0,currentStep:r,steps:l}),this.state.isLoadingSaved&&(this.moveStep(this.state.formData,l[0].id,!1),this.setState({isLoadingSaved:!1}));return}default:return}}onSubmit=()=>{this.performAction(this.navAction,this.state.currentStep.state===Te.ERROR)};isSubmitScreen=()=>this.state.currentStep.final===!0&&!this.state.isLoadingSaved;showExcludeStateWarningDialog=(i,f=!1)=>{this.setState({modalContext:{action:this.toggleExcludeStep,arguments:[i,!0,f]}})};toggleExcludeStep=(i,f)=>{this.setState((d,l)=>{const r=d.steps.map(t=>t.id===i?{...t,excluded:f}:t),a=Ge(d.formData),s=Ge(d.currentStep);return s.id===i&&(s.excluded=f),f?a[i]={}:nr(a,`${i}.included`,!0),{steps:r,formData:a,modalContext:void 0,currentStep:s}})};renderNotification=i=>i===ge.SAVE_SUCCESS?x.jsx("div",{className:"notification-area",children:" Successfully saved "}):i===ge.SUBMIT_SUCCESS?x.jsx("div",{className:"notification-area",children:" Successfully submitted "}):i===ge.PROGRESS?x.jsx("div",{className:"notification-area",children:" working on it ...."}):x.jsx(x.Fragment,{});renderTextForStaticScreen=()=>{if(!this.state.currentStep.copy)return x.jsx(x.Fragment,{});const i=this.state.currentStep.copy;return x.jsx("div",{className:"static-screen",dangerouslySetInnerHTML:{__html:i}})};renderOptionalFormSubheader=(i=!1)=>{if(i)return x.jsx(x.Fragment,{});const f=this.state.currentStep;return f.excluded===!0?x.jsxs("div",{className:"step-exclude-directions",children:["This form is currently not included in the submission.",x.jsx("button",{className:"btn btn-link",onClick:()=>this.toggleExcludeStep(f.id,!1),children:"Include"})]}):f.excluded===!1?x.jsxs("div",{className:"step-exclude-directions",children:['This form is currently included in the submission. Enter some data if you have it, or click "Skip".',x.jsx("button",{className:"btn btn-link",onClick:()=>this.showExcludeStateWarningDialog(this.state.currentStep.id),children:"Skip"})]}):x.jsx(x.Fragment,{})};renderHelpToggle=(i,f,d)=>i.static||i.final?x.jsx(x.Fragment,{}):x.jsx(x.Fragment,{children:x.jsxs("label",{className:"pull-right toggle-help-label",children:[x.jsx("span",{children:"Hide help"}),x.jsx(da,{checkedIcon:!1,uncheckedIcon:!1,height:20,width:45,className:"toggle-help",offColor:"#ccc",onChange:()=>d(),checked:f}),x.jsx("span",{children:"Show help"})]})});runCustomValidation=async(i,f,d)=>{const l=[];let r=f.validationRules||[],a={[f.id]:i[f.id]};if(f.final&&(r=d.reduce((u,n)=>n.validationRules&&n.validationRules.length>0?u.concat(n.validationRules):u,[]),a=Ge(i)),r.length===0)return[];const s=[];r.forEach(u=>{const n=u.event.params.property;if(n.indexOf("[*]")===-1)s.push(u);else{const h=n.split("[*]")[0].substring(1),c=be(i,h);if(Array.isArray(c)&&typeof c!="string")for(let p=0;p<c.length;p++){const v=JSON.parse(JSON.stringify(u).replace(/\[\*\]/g,`[${p}]`));s.push(v)}else s.push(u)}});const t=new fi.Engine(s,{allowUndefinedFacts:!0});try{(await t.run(a)).events.forEach(h=>{const c={...h.params,params:{},stack:`${h.params.property} ${h.params.message}`};l.push(c)})}catch(u){console.log(u)}return l};transformErrors=i=>{if(this.extraErrors.forEach(d=>{i.find(l=>l.stack===d.stack)||i.push(d)}),this.navAction!==me.SUBMIT&&this.navAction!==me.VALIDATE&&(!this.props.isWizardMode||this.state.currentStep.final)){const d={...this.state.currentStep};return i.length>0?d.state=Te.ERROR:d.state=Te.COMPLETED,this.setState({currentStep:d}),[]}return i.filter(d=>d.name==="required").forEach(d=>{if(d.property){const l=d.property.substring(0,d.property.lastIndexOf("."));Ra(i,r=>(r.property||"").indexOf(l)>-1&&(r.name==="enum"||r.name==="oneOf"))}}),i.map(d=>(d.message&&(d.message=d.message.replace("property","field")),d))};renderErrorListTemplate=i=>{const{errors:f}=i,d=f.map((l,r)=>Go(this.state.steps,l,this.uiSchema,r,this.props.schema)).sort((l,r)=>l.order-r.order).map(l=>l.element);return x.jsx("div",{className:"form-error-summary",children:x.jsx("ul",{className:"error-detail",children:d})})};render(){return x.jsxs("div",{className:"outter-wrap",children:[x.jsx(xt,{shouldBlock:({currentLocation:i,nextLocation:f})=>this.state.hasUnsavedChanges&&i.pathname!==f.pathname,children:i=>x.jsx(ha,{open:i.state=="blocked",title:"Unsaved Changes",content:this.unsavedDataWarning,onConfirm:()=>{i.proceed&&i.proceed()},onCancel:()=>{i.reset&&i.reset()}})}),x.jsx(Rt,{isSubmitted:this.state.isSubmitted,bodyText:this.state.currentStep.description,title:this.props.formTitle}),x.jsx("div",{children:x.jsxs("div",{className:"inner-wrap",children:[x.jsx(Ct,{stepList:this.state.steps,isWizardMode:this.props.isWizardMode,onStepChange:this.triggerStepChange}),this.state.isLoadingSaved&&x.jsx("div",{className:"text-center",children:x.jsx("span",{className:"spinner"})}),x.jsxs("div",{className:"form-wrap",children:[x.jsx("div",{className:"form-title",children:this.state.currentStep.title}),this.renderNotification(this.props.callbackStatus),x.jsxs("div",{className:`right-top-actions ${this.state.isSubmitted?"hide":""}`,children:[!this.state.currentStep.static&&x.jsx("button",{type:"button",className:"btn btn-action save pull-right",onClick:()=>{this.triggerAction(me.VALIDATE)},children:"VALIDATE"}),this.renderHelpToggle(this.state.currentStep,this.state.doShowHelp,()=>this.setState({doShowHelp:!this.state.doShowHelp})),this.isSubmitScreen()&&x.jsx("button",{type:"button",className:"btn btn-action save pull-right",disabled:this.state.isSubmitted,onClick:()=>{this.triggerAction(me.SUBMIT)},children:"SUBMIT"})]}),this.renderOptionalFormSubheader(this.props.isWizardMode),x.jsxs("div",{className:this.isSubmitScreen()||this.state.currentStep.static?"hide-form-only":"wrap",children:[this.state.hasValidated&&x.jsx("div",{className:"notification-area",children:"Great! All required data on this form has been entered."}),x.jsxs("div",{ref:this.formDivRef,className:`scroll-area ${this.state.currentStep.excluded?"disabled":" "} `,children:[x.jsx(la,{validator:fa,noHtml5Validate:!0,className:this.state.doShowHelp?"submissionInputForm":"submissionInputForm no-help",liveValidate:!1,formData:this.state.formData,schema:this.getSchema(this.state.currentStep),uiSchema:this.uiSchema,onSubmit:this.onSubmit,onChange:i=>this.handleOnChange(i),onError:i=>this.onError({props:i,form:this.formRef}),showErrorList:this.state.doShowErrors||this.props.isWizardMode?"top":!1,templates:{ErrorListTemplate:this.renderErrorListTemplate},transformErrors:this.transformErrors,ref:this.formRef,disabled:this.state.currentStep.excluded||this.state.isSubmitted,widgets:{CheckboxWidget:va,CheckboxesWidget:ma,RadioWidget:pa},children:x.jsx("div",{style:{display:"none"},children:x.jsx("button",{type:"submit",ref:this.submitButtonRef})})}),this.renderTextForStaticScreen(),!this.props.isWizardMode&&x.jsx(jt,{steps:this.state.steps,nextStepId:this.state.currentStep.default,onNavAction:i=>this.triggerStepChange(i)})]})]}),this.isSubmitScreen()&&x.jsx(Ft,{formData:this.state.formData,steps:this.state.steps,callbackFn:i=>this.showExcludeStateWarningDialog(i,!0),uiSchema:this.props.uiSchema,schema:this.props.schema}),x.jsx(Pt,{currentStep:this.state.currentStep,steps:this.state.steps,previousStepIds:this.state.previousStepIds,isFormSubmitted:this.state.isSubmitted,onNavAction:i=>{this.triggerAction(i)}})]})]})}),this.state.modalContext&&x.jsx(ga,{open:!0,title:this.excludeWarningHeader,content:this.excludeWarningText,className:`theme-${this.props.formClass}`,onConfirmCallbackArgs:this.state.modalContext.arguments,onCancel:()=>this.setState({modalContext:void 0}),onConfirm:(i,f)=>this.toggleExcludeStep(i,f)}),x.jsx(At,{formData:this.state.formData,hidden:!0})]})}}function Go(o,i,f,d,l){const r=gi(i.property,"."),a=r.split("."),s=`${a.join(".properties.")}.title`,t=`${r}.ui:title`,u=s.replace(/\[.*?\]/,".items"),n=t.replace(/\[.*?\]/,".items"),h=s.match(/\[.*?\]/);let c=pi(h);c&&(c=c.substring(1,c.length-1),c=isNaN(parseInt(c))?"":` [${parseInt(c)+1}]`);const p=be(f,t)||be(l.properties,s)||be(f,n)||be(l.properties,u)||i.property,v=vi(o,{id:a[0]})||{title:a[0],order:0},S=x.jsx("li",{className:"",children:x.jsxs("span",{children:[x.jsxs("strong",{children:[v.title,c,":"]}),p,"  ",i.message]})},d);return{order:v.order,element:S}}function $i(o,i){return Tt(o).some(f=>{if(f===i){const d=o[f];return o[f]=x.jsx("span",{dangerouslySetInnerHTML:{__html:d}}),o}o[f]&&typeof o[f]=="object"&&$i(o[f],i)}),o}try{Nt.displayName="SynapseForm",Nt.__docgenInfo={description:"",displayName:"SynapseForm",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"FormSchema"}},uiSchema:{defaultValue:null,description:"",name:"uiSchema",required:!0,type:{name:"UiSchema"}},navSchema:{defaultValue:null,description:"",name:"navSchema",required:!0,type:{name:"{ steps: any[]; }"}},formData:{defaultValue:null,description:"",name:"formData",required:!0,type:{name:"IFormData"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(formData: IFormData) => void"}},onSave:{defaultValue:null,description:"",name:"onSave",required:!0,type:{name:"(formData: IFormData) => void"}},formTitle:{defaultValue:null,description:"",name:"formTitle",required:!0,type:{name:"string"}},formClass:{defaultValue:null,description:"",name:"formClass",required:!1,type:{name:"string"}},isWizardMode:{defaultValue:null,description:"",name:"isWizardMode",required:!1,type:{name:"boolean"}},callbackStatus:{defaultValue:null,description:"",name:"callbackStatus",required:!1,type:{name:"enum",value:[{value:"0"},{value:"1"},{value:"2"},{value:"3"},{value:"4"}]}},isSubmitted:{defaultValue:null,description:"",name:"isSubmitted",required:!1,type:{name:"boolean"}}}}}catch{}async function wt(o,i,f,d){try{const l=await He.getEntity(o,i,f),r=await He.getFileResult(l,o,!0,!0),a=await He.getFileHandleContent(r.fileHandle,r.preSignedURL),s=JSON.parse(a);return{version:l.versionNumber,content:s}}catch(l){const r=new Error(`${l.message}:  configuration data for ${i} failed to load`);return d&&d(r),Promise.reject(r)}}class zo extends ur.Component{constructor(i){super(i),this.state={isLoading:!0,formDataId:this.props?.formDataId}}componentDidMount(){this.getData(this.props.token)}componentDidUpdate(i){this.props.token!==i.token&&this.getData(this.props.token)}getFileEntityDataDereferenced=async(i,f,d)=>{const{version:l,content:r}=await wt(i,f,d,this.onError),a=await Za.dereference(r);return{version:l,content:a}};getData=async i=>{if(i)try{let f={};const d=this.props.dataFileHandleId,l=this.props.submitted;let r,a,s;if(d){const n=await He.getFileHandleContentFromID(d,i);f=JSON.parse(n),l&&f&&f.metadata&&({formSchemaVersion:r,uiSchemaVersion:a,navSchemaVersion:s}=f.metadata)}const t=[this.getFileEntityDataDereferenced(i,this.props.formSchemaEntityId,r),wt(i,this.props.formUiSchemaEntityId,a,this.onError),wt(i,this.props.formNavSchemaEntityId,s,this.onError)],u=await Promise.all(t);d||(f={metadata:{formSchemaVersion:u[0].version,uiSchemaVersion:u[1].version,navSchemaVersion:u[2].version}}),this.setState({formData:f,formSchema:u[0].content,formUiSchema:u[1].content,formNavSchema:u[2].content,isLoading:!1})}catch(f){this.onError({message:f})}finally{this.setState({isLoading:!1})}};finishedProcessing=(i,f)=>{this.setState({isLoading:!1,notification:{type:i,message:f},status:i}),setTimeout(()=>{this.setState({status:void 0})},7e3)};onError=i=>{this.setState({notification:{type:ge.ERROR,message:i.message,name:i.name},status:ge.ERROR,isLoading:!1})};submitForm=async i=>{await this.saveToFile(i),this.setState({isLoading:!0}),await He.submitFormData(this.state.formDataId,this.props.token),this.finishedProcessing(ge.SUBMIT_SUCCESS,"File Submitted")};createOrUpdateFormDataFile=async(i,f)=>{i=`${i}.json`;const d=await He.uploadFile(this.props.token,i,f),l=this.props.formGroupId;if(!l)throw console.error("formGroupId must be defined"),new Error("formGroupId must be defined");try{const r=d.fileHandleId;let a;return this.state.formDataId?a=await He.updateFormData(this.state.formDataId,i,r,this.props.token):a=await He.createFormData(l,i,r,this.props.token),a}catch(r){throw this.onError(r),r}};saveToFile=async i=>{const f=be(i,this.props.fileNamePath);if(this.setState({status:ge.PROGRESS,notification:{type:ge.PROGRESS,message:"Progress"},isLoading:!0}),!f){let d="File Name";try{const l=`${this.props.fileNamePath.replace(".",".properties.")}.title`;d=be(this.state.formSchema.properties,l,d)}finally{const l=new Error(`Please Provide the ${d} before saving`);this.onError(l)}return}try{const d=new Blob([JSON.stringify(i)],{type:"text/json"}),l=await this.createOrUpdateFormDataFile(f,d);this.setState({formDataId:l.formDataId}),this.finishedProcessing(ge.SAVE_SUCCESS,"File Saved")}catch(d){this.onError(d)}};isReadyToDisplayForm=i=>this.state.status!==ge.ERROR_CRITICAL&&i.formSchema&&i.formUiSchema&&i.formNavSchema&&i.formData;renderLoader=(i,f)=>ya([ge.ERROR,ge.ERROR_CRITICAL],i.status)&&f.token&&i.isLoading?x.jsx("div",{className:"text-center",children:x.jsx("span",{className:"spinner"})}):x.jsx(x.Fragment,{});renderNotification=i=>i?i.type===ge.ERROR?x.jsx(ia,{variant:"danger",title:"Error",isGlobal:!1,description:x.jsxs(x.Fragment,{children:[i.name," ",i.message]}),onClose:()=>this.setState({status:void 0})}):x.jsx(x.Fragment,{}):x.jsx(x.Fragment,{});renderUnauthenticatedView=i=>i?x.jsx(x.Fragment,{}):x.jsxs("div",{className:"panel padding-full unauthenticated text-center",children:["Please",x.jsx(aa,{variant:"text",color:"primary",sx:{mx:1,fontSize:"1.4rem",verticalAlign:"baseline",textTransform:"none"},className:`${oa}`,children:"sign in"}),"to initiate or continue your submission"]});render(){return x.jsx("div",{className:`theme-${this.props.formClass}`,children:x.jsxs("div",{className:"SRC-ReactJsonForm",children:[this.renderNotification(this.state.notification),this.renderLoader(this.state,this.props),this.renderUnauthenticatedView(this.props.token),this.isReadyToDisplayForm(this.state)&&x.jsx("div",{children:x.jsx(Nt,{schema:this.state.formSchema,uiSchema:this.state.formUiSchema,formData:this.state.formData,navSchema:this.state.formNavSchema,isWizardMode:this.props.isWizardMode,formTitle:this.props.formTitle,formClass:this.props.formClass,callbackStatus:this.state.status,onSave:i=>{this.saveToFile(i)},onSubmit:i=>{this.submitForm(i)},isSubmitted:this.props.submitted})})]})})}}function ci(o){const i=na();return x.jsx(zo,{...o,token:i.accessToken})}try{ci.displayName="SynapseFormWrapper",ci.__docgenInfo={description:"",displayName:"SynapseFormWrapper",props:{formSchemaEntityId:{defaultValue:null,description:"",name:"formSchemaEntityId",required:!0,type:{name:"string"}},formUiSchemaEntityId:{defaultValue:null,description:"",name:"formUiSchemaEntityId",required:!0,type:{name:"string"}},formNavSchemaEntityId:{defaultValue:null,description:"",name:"formNavSchemaEntityId",required:!0,type:{name:"string"}},token:{defaultValue:null,description:"",name:"token",required:!1,type:{name:"string"}},isWizardMode:{defaultValue:null,description:"",name:"isWizardMode",required:!1,type:{name:"boolean"}},fileNamePath:{defaultValue:null,description:"",name:"fileNamePath",required:!0,type:{name:"string"}},formTitle:{defaultValue:null,description:"",name:"formTitle",required:!0,type:{name:"string"}},formClass:{defaultValue:null,description:"",name:"formClass",required:!1,type:{name:"string"}},formDataId:{defaultValue:null,description:"",name:"formDataId",required:!1,type:{name:"string"}},dataFileHandleId:{defaultValue:null,description:"",name:"dataFileHandleId",required:!1,type:{name:"string"}},submitted:{defaultValue:null,description:"",name:"submitted",required:!1,type:{name:"boolean"}},formGroupId:{defaultValue:null,description:"",name:"formGroupId",required:!0,type:{name:"string"}}}}}catch{}export{ci as S};
