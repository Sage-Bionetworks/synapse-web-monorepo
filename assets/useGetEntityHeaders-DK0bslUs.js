import{u as i}from"./useQuery-BEUP4ZKU.js";import{u as p}from"./utils-BECe8vEQ.js";import{l as m,S as g}from"./useFiles-9yQq6xks.js";import{n as l}from"./RegularExpressions-B4RNwTAQ.js";import"./OrientationBanner-CRHvrKf4.js";import"./index-Cu9bd8lq.js";import"./jsx-runtime-DoxjgJx5.js";function q(t,o){const{accessToken:y,keyFactory:r}=m(),s=p();t=t.map(n=>({...n,targetId:l(n.targetId)}));const c=async()=>{const n=await g.getEntityHeaders(t,y);return n.results.forEach(e=>{const u=t.find(a=>a.targetVersionNumber?a.targetId===e.id&&a.targetVersionNumber===e.versionNumber:a.targetId===e.id);if(u&&(s.setQueryData(r.getEntityHeadersQueryKey([u]),{results:[e],totalNumberOfResults:1}),s.setQueryData(r.getEntityHeaderQueryKey(u.targetId,u.targetVersionNumber),e),u.targetVersionNumber&&e.isLatestVersion)){const a={targetId:e.id};s.setQueryData(r.getEntityHeadersQueryKey([a]),{results:[e],totalNumberOfResults:1}),s.setQueryData(r.getEntityHeaderQueryKey(u.targetId),e)}}),n};return i({...o,queryKey:r.getEntityHeadersQueryKey(t),queryFn:c})}function N(t="",o,y){const{accessToken:r,keyFactory:s}=m();return t&&(t=l(t)),i({enabled:!!t,...y,queryKey:s.getEntityHeaderQueryKey(t,o),queryFn:()=>g.getEntityHeader(t,o,r)})}export{q as a,N as u};
