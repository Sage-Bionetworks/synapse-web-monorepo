import{jc as h,jd as p}from"./iframe-Cb9YNozx.js";const f=new Set([408,429,500,502,503,504]);class E extends Error{response;status;constructor(e,s){super(e),this.response=s,this.status=s.status,this.name="HttpFetchError"}}async function l(r,e,s={}){const{retries:n=3,delayMs:a=1e3,exponentialBackoff:c=!0,maxDelayMs:i}=s;return h(async()=>{const t=await fetch(r,e);if(!t.ok){const u=t.statusText||"Unknown error",o=`HTTP ${t.status}: ${u}`;throw f.has(t.status)?new p(o,t.clone()):new E(o,t)}return t},n,a,c,i)}export{l as f};
