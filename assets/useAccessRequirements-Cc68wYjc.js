import{aC as k,l as u,S as y,aD as R,aE as S,aF as f,aG as F,aH as g,aI as K}from"./useFiles-DKRZIanE.js";import{u as Q}from"./useTheme-CHGhrpTH.js";import{u as d}from"./index-Bn1RkDEK.js";import{c as C}from"./_baseUniq-Dkz_1hma.js";import{b as T}from"./_baseOrderBy-COYGY3uW.js";import{b as P,a as A}from"./merge-Bv9XZfxW.js";import"./VerificationSubmission-OWkqLMYZ.js";import"./StringUtils-C5rFena9.js";import"./OrientationBanner-BLAhke4h.js";import"./index-D4Q3ONxQ.js";import{u as h}from"./useQueries-Crlnb9WZ.js";import{u as q}from"./useQuery-BFuwe7cX.js";import{u as m}from"./QueryClientProvider-DaEi_Twt.js";import{u as o}from"./useMutation-DWajAj7L.js";import{u as D}from"./useInfiniteQuery-Cj8gIuQS.js";import"./jsx-runtime-D_zvdyIk.js";var v=P(function(e,s){if(e==null)return[];var t=s.length;return t>1&&A(e,s[0],s[1])?s=[]:t>2&&A(s[0],s[1],s[2])&&(s=[s[0]]),T(e,C(s,1),[])});const G=async(e,s)=>{const t=s.map(c=>k(e,c)),r=await Promise.all(t);return v(s,c=>-1*Number(r.find(n=>c===n.accessRequirementId).isApproved))};function V(){const e=Q();return d(e.breakpoints.up("md"))}function X(e,s){const{accessToken:t,keyFactory:r}=u();return q({...s,queryKey:r.getAccessRequirementQueryKey(String(e)),queryFn:()=>y.getAccessRequirementById(t,e)})}function Y(e,s){const{accessToken:t,keyFactory:r}=u();return q({...s,queryKey:r.getEntityAccessRequirementsQueryKey(e),queryFn:()=>y.getAllAccessRequirements(t,e)})}function Z(e,s){const{accessToken:t,keyFactory:r}=u();return q({...s,queryKey:r.getTeamAccessRequirementsQueryKey(e),queryFn:()=>y.getTeamAccessRequirements(t,e)})}function _(e,s){const{accessToken:t,keyFactory:r}=u();return q({...s,queryKey:r.getAccessRequirementWikiPageKey(e),queryFn:()=>y.getWikiPageKeyForAccessRequirement(t,e)})}function $(e){const s=m(),{accessToken:t,keyFactory:r}=u();return o({...e,mutationFn:c=>f(t,c),onSuccess:async(c,n,a)=>{const i=r.getAccessRequirementQueryKey(c.id.toString());if(s.setQueryData(i,c),e!=null&&e.onSuccess)return await e.onSuccess(c,n,a)}})}function p(e){const s=m(),{accessToken:t,keyFactory:r}=u();return o({...e,mutationFn:c=>S(t,c),onSuccess:async(c,n,a)=>{const i=r.getAccessRequirementQueryKey(c.id.toString());if(s.setQueryData(i,c),e!=null&&e.onSuccess)return await e.onSuccess(c,n,a)}})}function ee(e,s){const{accessToken:t,keyFactory:r}=u();return q({...s,queryKey:r.getAccessRequirementAclQueryKey(e),queryFn:()=>y.getAccessRequirementAcl(t,e)})}function se(e){const s=m(),{accessToken:t,keyFactory:r}=u();return o({...e,mutationFn:c=>F(t,c),onSuccess:async(c,n,a)=>{await s.invalidateQueries({queryKey:r.getAccessRequirementAclQueryKey(n)}),e!=null&&e.onSuccess&&await e.onSuccess(c,n,a)}})}function ce(e){const s=m(),{accessToken:t,keyFactory:r}=u();return o({...e,mutationFn:c=>g(t,c),onSuccess:async(c,n,a)=>{const i=r.getAccessRequirementAclQueryKey(c.id);if(s.setQueryData(i,c),e!=null&&e.onSuccess)return await e.onSuccess(c,n,a)}})}function te(e){const s=m(),{accessToken:t,keyFactory:r}=u();return o({...e,mutationFn:c=>K(t,c),onSuccess:async(c,n,a)=>{const i=r.getAccessRequirementAclQueryKey(c.id);if(s.setQueryData(i,c),e!=null&&e.onSuccess)return await e.onSuccess(c,n,a)}})}function re(e,s){const{accessToken:t,keyFactory:r}=u();return D({...s,queryKey:r.searchAccessRequirementsQueryKey(e),queryFn:async c=>await y.searchAccessRequirements(t,{...e,nextPageToken:c.pageParam}),initialPageParam:void 0,getNextPageParam:c=>c.nextPageToken})}function ue(e){const{accessToken:s}=u(),t=m(),{keyFactory:r}=u();return o({...e,mutationFn:c=>y.createLockAccessRequirement(c,s),mutationKey:["createLockAccessRequirement"],onSuccess:async(c,n,a)=>{if(await Promise.all([t.invalidateQueries({queryKey:r.getAccessRequirementQueryKey()}),t.invalidateQueries({queryKey:r.getAllEntityDataQueryKey()}),...R(r).map(i=>t.invalidateQueries(i))]),e!=null&&e.onSuccess)return e.onSuccess(c,n,a)}})}function l(e,s,t){return{queryKey:e.getAccessRequirementStatusQueryKey(t),queryFn:()=>y.getAccessRequirementStatus(s,t)}}function ne(e,s){const{accessToken:t,keyFactory:r}=u();return q({...s,...l(r,t,e)})}function ae(e){const{accessToken:s,keyFactory:t}=u();return h({queries:e.map(r=>l(t,s,r))})}function ye(e,s){const{accessToken:t,keyFactory:r}=u();return q({...s,queryKey:r.getSortedAccessRequirementsAndStatusQueryKey(e),queryFn:()=>G(t,e)})}function ie(e,s){const{accessToken:t,keyFactory:r}=u();return q({...s,queryKey:r.getAccessRequirementResearchProjectQueryKey(e),queryFn:()=>y.getResearchProject(e,t)})}function me(e){const{accessToken:s}=u(),t=m(),{keyFactory:r}=u();return o({...e,mutationFn:c=>y.updateResearchProject(c,s),onSuccess:async(c,n,a)=>{if(await t.invalidateQueries({queryKey:r.getAccessRequirementResearchProjectQueryKey(c.accessRequirementId)}),e!=null&&e.onSuccess)return e.onSuccess(c,n,a)}})}function oe(e,s){const{accessToken:t,keyFactory:r}=u();return q({...s,queryKey:r.getDataAccessRequestForUpdateQueryKey(e),queryFn:()=>y.getDataAccessRequestForUpdate(e,t)})}function qe(e){const{accessToken:s}=u(),t=m(),{keyFactory:r}=u();return o({...e,mutationFn:c=>y.updateDataAccessRequest(c,s),onSuccess:async(c,n,a)=>{if(await t.invalidateQueries({queryKey:r.getDataAccessRequestForUpdateQueryKey(c.accessRequirementId)}),e!=null&&e.onSuccess)return e.onSuccess(c,n,a)}})}function Ae(e){const{accessToken:s}=u(),t=m(),{keyFactory:r}=u();return o({...e,mutationFn:c=>y.createAccessApproval(s,c),onSuccess:async(c,n,a)=>{if(await Promise.all([t.invalidateQueries({queryKey:r.getAccessRequirementStatusQueryKey(String(n.requirementId))}),...R(r).map(i=>t.invalidateQueries(i))]),e!=null&&e.onSuccess)return e.onSuccess(c,n,a)}})}function Re(e){const{accessToken:s}=u(),t=m(),{keyFactory:r}=u();return o({...e,mutationFn:c=>y.cancelDataAccessRequest(c.submissionId,s),onSuccess:async(c,n,a)=>{if(await Promise.all([t.invalidateQueries({queryKey:r.getDataAccessSubmissionQueryKey()}),t.invalidateQueries({queryKey:r.getAccessRequirementStatusQueryKey(String(n.accessRequirementId))})]),e!=null&&e.onSuccess)return e.onSuccess(c,n,a)}})}export{ee as a,se as b,ce as c,te as d,ie as e,me as f,ne as g,_ as h,Ae as i,V as j,X as k,$ as l,p as m,re as n,Z as o,ae as p,oe as q,qe as r,v as s,Re as t,ue as u,Y as v,ye as w};
