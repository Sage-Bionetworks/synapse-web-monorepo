import{j as r}from"./jsx-runtime-Mut6b6ZN.js";import{r as c}from"./index-vS9mnyWj.js";import{u as l}from"./useMutation-BjQNG8bx.js";import{d as u}from"./ToastMessage-DFnP7DnX.js";import{I as d}from"./IconSvg-ylaL7plv.js";import{f as m}from"./StringUtils-tNCAfVhp.js";import{B as f}from"./Button-CwJlsjun.js";function n({shortIoPublicApiKey:t,domain:a="sageb.io",buttonProps:i}){const e=c.useCallback(o=>{m(o).then(()=>{u("Page URL copied to the clipboard","success")})},[]),{mutate:s}=l({mutationFn:async()=>{if(t){const o=await fetch("https://api.short.io/links/public",{method:"POST",headers:{Authorization:t,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({originalURL:window.location.href,domain:a})});if(!o.ok){const p=await o.text();throw new Error(p)}return(await o.json()).shortURL}else return window.location.href},onSuccess:o=>{e(o)},onError:o=>{console.error(o),e(window.location.href)}});return r.jsx(f,{variant:"contained",onClick:()=>{s()},...i,startIcon:r.jsx(d,{icon:"contentCopy",wrap:!1}),children:"Share Page Link"})}try{n.displayName="SharePageLinkButton",n.__docgenInfo={description:"",displayName:"SharePageLinkButton",props:{shortIoPublicApiKey:{defaultValue:null,description:"",name:"shortIoPublicApiKey",required:!1,type:{name:"string"}},domain:{defaultValue:{value:"sageb.io"},description:"",name:"domain",required:!1,type:{name:"string"}},buttonProps:{defaultValue:null,description:"",name:"buttonProps",required:!1,type:{name:"ButtonProps"}}}}}catch{}export{n as S};
