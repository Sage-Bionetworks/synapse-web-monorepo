import{r as o,j as s,c6 as u,h7 as T,B as v,c4 as S,J as c}from"./iframe-BCo6xRtR.js";import{u as j}from"./useChangePasswordFormState-YOgAhZRv.js";function l(t){const{passwordChangeToken:w,onSuccess:h}=t,[r,n]=o.useState(""),[a,d]=o.useState(""),[p,m]=o.useState(void 0),{promptForTwoFactorAuth:P,TwoFactorAuthPrompt:g,isPending:f,handleChangePasswordWithResetToken:x,error:i}=j({onChangePasswordSuccess:()=>{n(""),d(""),c("Password successfully changed.","success"),h()}}),C=e=>{e.preventDefault(),r!==a?c("Passwords do not match.","danger"):x(r,w)};return s.jsxs("div",{children:[P?s.jsx(g,{}):s.jsxs("form",{onSubmit:e=>{C(e)},children:[s.jsx(u,{fullWidth:!0,required:!0,helperText:p,type:"password",id:"newPassword",name:"newPassword",label:"New password",onChange:e=>{const y=T(e.target.value);m(y),n(e.target.value)},value:r||"",sx:{mb:2}}),s.jsx(u,{fullWidth:!0,required:!0,type:"password",id:"confirmPassword",name:"confirmPassword",label:"Confirm password",onChange:e=>d(e.target.value),value:a||"",sx:{mb:2}}),s.jsx(v,{variant:"contained",type:"submit",fullWidth:!0,disabled:!r||!a||f,sx:{mt:3,py:2},children:"Change Password"})]}),i&&s.jsx(S,{severity:"error",sx:{my:2},children:i.reason})]})}try{l.displayName="ChangePasswordWithToken",l.__docgenInfo={description:"",displayName:"ChangePasswordWithToken",props:{passwordChangeToken:{defaultValue:null,description:"",name:"passwordChangeToken",required:!0,type:{name:"PasswordResetSignedToken"}},onSuccess:{defaultValue:null,description:"",name:"onSuccess",required:!0,type:{name:"() => void"}}}}}catch{}export{l as C};
