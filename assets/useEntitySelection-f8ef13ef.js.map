{"version":3,"file":"useEntitySelection-f8ef13ef.js","sources":["../../../../node_modules/.pnpm/@mui+icons-material@5.14.16_@mui+material@5.14.17_@types+react@18.0.27_react@18.2.0/node_modules/@mui/icons-material/esm/ChatBubbleTwoTone.js","../../../../node_modules/.pnpm/@mui+icons-material@5.14.16_@mui+material@5.14.17_@types+react@18.0.27_react@18.2.0/node_modules/@mui/icons-material/esm/DescriptionTwoTone.js","../../../../node_modules/.pnpm/@mui+icons-material@5.14.16_@mui+material@5.14.17_@types+react@18.0.27_react@18.2.0/node_modules/@mui/icons-material/esm/LinkOffTwoTone.js","../../../../node_modules/.pnpm/@mui+icons-material@5.14.16_@mui+material@5.14.17_@types+react@18.0.27_react@18.2.0/node_modules/@mui/icons-material/esm/LocalOfferTwoTone.js","../../src/utils/hooks/useGetIsAllSelectedInfiniteList.ts","../../src/synapse-queries/search/useSearch.ts","../../src/synapse-queries/user/useProjects.ts","../../src/components/EntityFinder/VersionSelectionType.ts","../../../../node_modules/.pnpm/@mui+icons-material@5.14.16_@mui+material@5.14.17_@types+react@18.0.27_react@18.2.0/node_modules/@mui/icons-material/ArrowBackOutlined.js","../../../../node_modules/.pnpm/@mui+icons-material@5.14.16_@mui+material@5.14.17_@types+react@18.0.27_react@18.2.0/node_modules/@mui/icons-material/Clear.js","../../../../node_modules/.pnpm/@babel+runtime@7.23.2/node_modules/@babel/runtime/helpers/esm/objectSpread.js","../../../../node_modules/.pnpm/react-reflex@4.1.0_react-dom@18.2.0_react@18.2.0/node_modules/react-reflex/dist/es/utilities.js","../../../../node_modules/.pnpm/react-reflex@4.1.0_react-dom@18.2.0_react@18.2.0/node_modules/react-reflex/dist/es/ReflexSplitter.js","../../../../node_modules/.pnpm/react-reflex@4.1.0_react-dom@18.2.0_react@18.2.0/node_modules/react-reflex/dist/es/ReflexEvents.js","../../../../node_modules/.pnpm/react-reflex@4.1.0_react-dom@18.2.0_react@18.2.0/node_modules/react-reflex/dist/es/Polyfills.js","../../../../node_modules/.pnpm/react-reflex@4.1.0_react-dom@18.2.0_react@18.2.0/node_modules/react-reflex/dist/es/ReflexContainer.js","../../../../node_modules/.pnpm/react-reflex@4.1.0_react-dom@18.2.0_react@18.2.0/node_modules/react-reflex/dist/es/ReflexHandle.js","../../../../node_modules/.pnpm/lodash.throttle@4.1.1/node_modules/lodash.throttle/index.js","../../../../node_modules/.pnpm/resize-observer-polyfill@1.5.1/node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","../../../../node_modules/.pnpm/react-measure@2.5.2_react-dom@18.2.0_react@18.2.0/node_modules/react-measure/dist/index.esm.js","../../../../node_modules/.pnpm/react-reflex@4.1.0_react-dom@18.2.0_react@18.2.0/node_modules/react-reflex/dist/es/ReflexElement.js","../../src/components/EntityFinder/Breadcrumbs.tsx","../../../../node_modules/.pnpm/memoize-one@5.2.1/node_modules/memoize-one/dist/memoize-one.esm.js","../../../../node_modules/.pnpm/react-window@1.8.9_react-dom@18.2.0_react@18.2.0/node_modules/react-window/dist/index.esm.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.4_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/TableHeader.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.4_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/utils.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.4_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/GridTable.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.4_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/TableHeaderRow.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.4_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/TableRow.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.4_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/TableHeaderCell.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.4_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/TableCell.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.4_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/Column.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.4_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/SortOrder.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.4_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/ExpandIcon.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.4_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/SortIndicator.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.4_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/ColumnResizer.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.4_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/ColumnManager.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.4_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/BaseTable.js","../../../../node_modules/.pnpm/react-virtualized-auto-sizer@1.0.20_react-dom@18.2.0_react@18.2.0/node_modules/react-virtualized-auto-sizer/dist/react-virtualized-auto-sizer.esm.js","../../../../node_modules/.pnpm/@sage-bionetworks+react-base-table@1.13.4_react-dom@18.2.0_react@18.2.0/node_modules/@sage-bionetworks/react-base-table/es/AutoResizer.js","../../src/components/EntityBadgeIcons/EntityBadgeIcons.tsx","../../src/components/EntityFinder/details/view/DetailsViewTableRenderers.tsx","../../src/components/EntityFinder/details/view/VersionColumnHeader.tsx","../../src/components/EntityFinder/details/view/DetailsView.tsx","../../src/components/EntityFinder/details/configurations/EntityChildrenDetails.tsx","../../src/components/EntityFinder/details/configurations/FavoritesDetails.tsx","../../src/components/EntityFinder/details/configurations/ProjectListDetails.tsx","../../src/components/EntityFinder/details/configurations/SearchDetails.tsx","../../src/components/EntityFinder/details/EntityDetailsList.tsx","../../src/components/EntityFinder/SelectionPane.tsx","../../../../node_modules/.pnpm/react-merge-refs@1.1.0/node_modules/react-merge-refs/dist/react-merge-refs.esm.js","../../../../node_modules/.pnpm/react-vtree@3.0.0-beta.3_react-dom@18.2.0_react-window@1.8.9_react@18.2.0/node_modules/react-vtree/dist/es/utils.js","../../../../node_modules/.pnpm/react-vtree@3.0.0-beta.3_react-dom@18.2.0_react-window@1.8.9_react@18.2.0/node_modules/react-vtree/dist/es/Tree.js","../../../../node_modules/.pnpm/react-vtree@3.0.0-beta.3_react-dom@18.2.0_react-window@1.8.9_react@18.2.0/node_modules/react-vtree/dist/es/VariableSizeTree.js","../../src/components/EntityFinder/tree/VirtualizedTree.tsx","../../src/components/EntityFinder/tree/EntityTree.tsx","../../src/components/EntityFinder/EntityFinder.tsx","../../src/components/EntityFinder/useEntitySelection.ts"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon([/*#__PURE__*/_jsx(\"path\", {\n  d: \"m4 18 2-2h14V4H4z\",\n  opacity: \".3\"\n}, \"0\"), /*#__PURE__*/_jsx(\"path\", {\n  d: \"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z\"\n}, \"1\")], 'ChatBubbleTwoTone');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon([/*#__PURE__*/_jsx(\"path\", {\n  d: \"M13 4H6v16h12V9h-5V4zm3 14H8v-2h8v2zm0-6v2H8v-2h8z\",\n  opacity: \".3\"\n}, \"0\"), /*#__PURE__*/_jsx(\"path\", {\n  d: \"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z\"\n}, \"1\")], 'DescriptionTwoTone');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M14.39 11 16 12.61V11zM17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.27-.77 2.37-1.87 2.84l1.4 1.4C21.05 15.36 22 13.79 22 12c0-2.76-2.24-5-5-5zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4.01 1.41-1.41L3.41 2.86 2 4.27z\"\n}), 'LinkOffTwoTone');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon([/*#__PURE__*/_jsx(\"path\", {\n  d: \"M11 4H4v7l9 9.01L20 13l-9-9zM6.5 8C5.67 8 5 7.33 5 6.5S5.67 5 6.5 5 8 5.67 8 6.5 7.33 8 6.5 8z\",\n  opacity: \".3\"\n}, \"0\"), /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12.41 2.58C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42l-9-9zM13 20.01 4 11V4h7v-.01l9 9-7 7.02z\"\n}, \"1\"), /*#__PURE__*/_jsx(\"circle\", {\n  cx: \"6.5\",\n  cy: \"6.5\",\n  r: \"1.5\"\n}, \"2\")], 'LocalOfferTwoTone');","import { useEffect, useState } from 'react'\nimport { FetchNextPageOptions, InfiniteQueryObserverResult } from 'react-query'\nimport { SynapseClientError } from '../SynapseClientError'\n\n/**\n * Given a list of items and predicates to determine what items are are selected, and which are selectable, return a boolean indicating if all of the entities that can be selected\n * are selected.\n *\n * This function is compatible with react-query's useInfiniteQuery pagination, in which case it's recommended to use the hook version\n * of this function to get updates as pages are fetched and updated.\n *\n * We don't currently support an indeterminate checkbox state because that would require always fetching all pages of a given query, which does not scale.\n * @param items An arbitrary list of items that have already been fetched\n * @param numSelected The number of items that have been selected.\n * @param isSelected A function that takes an item and returns a boolean indicating if that item is selected\n * @param isSelectable A function that takes an item and returns a boolean indicating if that item can be selected\n * @param hasNextPage Whether or not there are additional pages of items (typically supplied by useInfiniteQuery)\n * @param fetchNextPage A function to be invoked to fetch an additional page of items (typically supplied by useInfiniteQuery)\n * @param isFetchingNextPage Indicates if the next page of items is being fetched (typically supplied by useInfiniteQuery)\n * @returns true iff all selectable items have been selected, and there are no additional pages to fetch (because an unfetched page may include an unselected item)\n */\nexport function getIsAllSelectedFromInfiniteList<TItem, TFetchResult>(\n  items: TItem[],\n  numSelected: number,\n  isSelected: (item: TItem) => boolean,\n  isSelectable: (item: TItem) => boolean,\n  hasNextPage?: boolean | undefined,\n  fetchNextPage?: (\n    options?: FetchNextPageOptions | undefined,\n  ) => Promise<InfiniteQueryObserverResult<TFetchResult, SynapseClientError>>,\n  isFetchingNextPage?: boolean,\n): boolean {\n  if (items.length === 0 || numSelected === 0) {\n    return false\n  } else {\n    const allSelectableFetchedChildrenAreSelected = items.every(\n      e => isSelected(e) || !isSelectable(e),\n    )\n    if (\n      allSelectableFetchedChildrenAreSelected &&\n      hasNextPage &&\n      fetchNextPage &&\n      !isFetchingNextPage\n    ) {\n      // We don't yet know if the checkbox should be true or false, so get the next page\n      fetchNextPage()\n      return false\n    } else {\n      if (isFetchingNextPage) {\n        // Wait for the next page to be retrieved\n        return false\n      }\n\n      // At this point, we've fetched all of the pages or encountered an unselected entity\n      // The checkbox should be true if there are no unselected entities, and there's at least one selectable entity\n      const selectableEntitiesArePresent = items.some(e => isSelectable(e))\n      return (\n        allSelectableFetchedChildrenAreSelected && selectableEntitiesArePresent\n      )\n    }\n  }\n}\n\n/**\n * Given a list of items and predicates to determine what items are are selected, and which are selectable, return a boolean indicating if all of the entities that can be selected\n * are selected.\n *\n * This function is compatible with react-query's useInfiniteQuery pagination.\n *\n * There is also a non-hook version of this function that can be called in contexts where hooks cannot be used.\n * @param items An arbitrary list of items that have already been fetched\n * @param numSelected The number of items that have been selected.\n * @param isSelected A function that takes an item and returns a boolean indicating if that item is selected\n * @param isSelectable A function that takes an item and returns a boolean indicating if that item can be selected\n * @param hasNextPage Whether or not there are additional pages of items (typically supplied by useInfiniteQuery)\n * @param fetchNextPage A function to be invoked to fetch an additional page of items (typically supplied by useInfiniteQuery)\n * @param isFetchingNextPage Indicates if the next page of items is being fetched (typically supplied by useInfiniteQuery)\n * @returns true iff all selectable items have been selected, and there are no additional pages to fetch (because an unfetched page may include an unselected item)\n */\nexport default function useGetIsAllSelectedFromInfiniteList<\n  TItem,\n  TFetchResult,\n>(\n  items: TItem[],\n  numSelected: number,\n  isSelected: (item: TItem) => boolean,\n  isSelectable: (item: TItem) => boolean,\n  hasNextPage?: boolean | undefined,\n  fetchNextPage?: (\n    options?: FetchNextPageOptions | undefined,\n  ) => Promise<InfiniteQueryObserverResult<TFetchResult, SynapseClientError>>,\n  isFetchingNextPage?: boolean,\n) {\n  const [isSelectAll, setIsSelectAll] = useState(false)\n  useEffect(() => {\n    setIsSelectAll(\n      getIsAllSelectedFromInfiniteList(\n        items,\n        numSelected,\n        isSelected,\n        isSelectable,\n        hasNextPage,\n        fetchNextPage,\n        isFetchingNextPage,\n      ),\n    )\n  }, [\n    items,\n    numSelected,\n    fetchNextPage,\n    hasNextPage,\n    isSelected,\n    isSelectable,\n    isFetchingNextPage,\n  ])\n\n  return isSelectAll\n}\n","import {\n  QueryFunctionContext,\n  useInfiniteQuery,\n  UseInfiniteQueryOptions,\n  useQuery,\n  UseQueryOptions,\n} from 'react-query'\nimport SynapseClient from '../../synapse-client'\nimport { SynapseClientError } from '../../utils/SynapseClientError'\nimport { useSynapseContext } from '../../utils/context/SynapseContext'\nimport { SearchQuery, SearchResults } from '@sage-bionetworks/synapse-types'\n\nexport function useSearch(\n  query: SearchQuery,\n  options?: UseQueryOptions<SearchResults, SynapseClientError, SearchResults>,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n  return useQuery<SearchResults, SynapseClientError>(\n    keyFactory.getSearchEntitiesQueryKey(query),\n    () => SynapseClient.searchEntities(query, accessToken),\n    options,\n  )\n}\n\nexport function useSearchInfinite(\n  query: Omit<SearchQuery, 'start'>,\n  options?: UseInfiniteQueryOptions<\n    SearchResults,\n    SynapseClientError,\n    SearchResults\n  >,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n\n  return useInfiniteQuery<SearchResults, SynapseClientError>(\n    keyFactory.getSearchEntitiesQueryKey(query),\n    async (context: QueryFunctionContext) => {\n      return SynapseClient.searchEntities(\n        { ...query, start: context.pageParam },\n        accessToken,\n      )\n    },\n    {\n      ...options,\n      getNextPageParam: prevPage => {\n        if (prevPage.start + prevPage.hits.length === prevPage.found) {\n          return null\n        } else {\n          return prevPage.start + prevPage.hits.length\n        }\n      },\n    },\n  )\n}\n","import {\n  useInfiniteQuery,\n  UseInfiniteQueryOptions,\n  useQuery,\n  UseQueryOptions,\n} from 'react-query'\nimport SynapseClient from '../../synapse-client'\nimport { SynapseClientError } from '../../utils/SynapseClientError'\nimport { useSynapseContext } from '../../utils/context/SynapseContext'\nimport { ProjectHeaderList } from '@sage-bionetworks/synapse-types'\nimport { GetProjectsParameters } from '@sage-bionetworks/synapse-types'\n\nexport function useGetProjects(\n  params?: GetProjectsParameters,\n  options?: UseQueryOptions<\n    ProjectHeaderList,\n    SynapseClientError,\n    ProjectHeaderList\n  >,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n  return useQuery<ProjectHeaderList, SynapseClientError>(\n    keyFactory.getMyProjectsQueryKey(params),\n    () => SynapseClient.getMyProjects(accessToken!, params),\n    options,\n  )\n}\n\nexport function useGetProjectsInfinite(\n  params: GetProjectsParameters,\n  options?: UseInfiniteQueryOptions<\n    ProjectHeaderList,\n    SynapseClientError,\n    ProjectHeaderList\n  >,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n\n  return useInfiniteQuery<ProjectHeaderList, SynapseClientError>(\n    keyFactory.getMyProjectsQueryKey(params),\n    async context => {\n      return await SynapseClient.getMyProjects(accessToken!, {\n        ...params,\n        nextPageToken: context.pageParam,\n      })\n    },\n    {\n      ...options,\n      getNextPageParam: page => page.nextPageToken,\n    },\n  )\n}\n","/**\n * Documents the possible EntityFinder version selection configurations\n */\nexport enum VersionSelectionType {\n  /** Versions cannot be selected. In dual-pane mode, the version column will not be shown. */\n  DISALLOWED = 'DISALLOWED',\n  /** A numbered version must be selected. The current version of tables will not be shown. */\n  REQUIRED = 'REQUIRED',\n  /**\n   * Versions can be selected, including \"Always Latest\" version for any versionable entity type.\n   * This should be selected if updates to the entity will not be \"tracked\" by the use case,\n   * i.e. the widget will update when the entity is updated.\n   */\n  TRACKED = 'TRACKED',\n  /**\n   * Versions can be selected. Tables and views will allow selection of the \"Current\"/\"Draft\" version.\n   * This should be selected if updates to the entity will not be \"tracked\" by the use case.\n   */\n  UNTRACKED = 'UNTRACKED',\n}\n","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"\n}), 'ArrowBackOutlined');\nexports.default = _default;","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Clear');\nexports.default = _default;","import defineProperty from \"./defineProperty.js\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? Object(arguments[i]) : {};\n    var ownKeys = Object.keys(source);\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys.push.apply(ownKeys, Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n  return target;\n}","import _objectSpread from \"@babel/runtime/helpers/objectSpread\";\n/////////////////////////////////////////////////////////\n// Browser Utils\n//\n/////////////////////////////////////////////////////////\nclass Browser {\n  // Check if not running on server\n  static isBrowser() {\n    return typeof window !== 'undefined';\n  }\n\n  // Opera 8.0+ (UA detection to detect Blink/v8-powered Opera)\n  static isOpera() {\n    return Browser.isBrowser() && (!!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0);\n  }\n\n  // Firefox 1.0+\n  static isFirefox() {\n    return Browser.isBrowser() && typeof InstallTrigger !== 'undefined';\n  }\n\n  // Safari 3.0+\n  static isSafari() {\n    if (!Browser.isBrowser()) {\n      return false;\n    }\n    return /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  }\n\n  // Internet Explorer 6-11\n  static isIE() {\n    /*@cc_on!@*/\n    return Browser.isBrowser() && !!document.documentMode;\n  }\n\n  // Edge 20+\n  static isEdge() {\n    return Browser.isBrowser() && !Browser.isIE() && !!window.StyleMedia;\n  }\n\n  // Chrome 1+\n  static isChrome() {\n    return Browser.isBrowser() && !!window.chrome && !!window.chrome.webstore;\n  }\n\n  // Blink engine detection\n  static isBlink() {\n    return Browser.isBrowser() && (Browser.isChrome() || Browser.isOpera()) && !!window.CSS;\n  }\n  static getUserAgent() {\n    return typeof navigator === 'undefined' ? '' : navigator.userAgent;\n  }\n  static isAndroid() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/Android/i);\n  }\n  static isBlackBerry() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/BlackBerry/i);\n  }\n  static isIOS() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/iPhone|iPad|iPod/i);\n  }\n  static isOpera() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/Opera Mini/i);\n  }\n  static isWindows() {\n    return Browser.isBrowser() && Browser.isWindowsDesktop() || Browser.isWindowsMobile();\n  }\n  static isWindowsMobile() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/IEMobile/i);\n  }\n  static isWindowsDesktop() {\n    return Browser.isBrowser() && Browser.getUserAgent().match(/WPDesktop/i);\n  }\n  static isMobile() {\n    return Browser.isBrowser() && (Browser.isWindowsMobile() || Browser.isBlackBerry() || Browser.isAndroid() || Browser.isIOS());\n  }\n}\n\n/////////////////////////////////////////////////////////\n// Returns only the props that start with \"data-\"\n//\n/////////////////////////////////////////////////////////\nconst getDataProps = props => {\n  return Object.keys(props).reduce((prev, key) => {\n    if (key.substr(0, 5) === 'data-') {\n      return _objectSpread({}, prev, {\n        [key]: props[key]\n      });\n    }\n    return prev;\n  }, {});\n};\nexport { getDataProps, Browser };","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n///////////////////////////////////////////////////////////\n// ReflexSplitter\n// By Philippe Leefsma\n// December 2016\n//\n///////////////////////////////////////////////////////////\nimport { Browser, getDataProps } from './utilities';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport default class ReflexSplitter extends React.Component {\n  /////////////////////////////////////////////////////////\n  // Determines if element is a splitter\n  // or wraps a splitter\n  //\n  /////////////////////////////////////////////////////////\n  static isA(element) {\n    if (!element) {\n      return false;\n    }\n    //https://github.com/leefsmp/Re-Flex/issues/49\n    return process.env.NODE_ENV === 'development' ? element.type === /*#__PURE__*/React.createElement(ReflexSplitter, null).type : element.type === ReflexSplitter;\n  }\n  constructor(props) {\n    super(props);\n    _defineProperty(this, \"ref\", React.createRef());\n    _defineProperty(this, \"onMouseMove\", event => {\n      if (this.state.active) {\n        const domElement = this.ref.current;\n        this.props.events.emit('resize', {\n          index: this.props.index,\n          domElement,\n          event\n        });\n        if (this.props.onResize) {\n          this.props.onResize({\n            component: this,\n            domElement\n          });\n        }\n        event.stopPropagation();\n        event.preventDefault();\n      }\n    });\n    _defineProperty(this, \"onMouseDown\", event => {\n      this.setState({\n        active: true\n      });\n      if (this.props.onStartResize) {\n        // cancels resize from controller\n        // if needed by returning true\n        // to onStartResize\n        if (this.props.onStartResize({\n          domElement: this.ref.current,\n          component: this\n        })) {\n          return;\n        }\n      }\n      this.props.events.emit('startResize', {\n        index: this.props.index,\n        event\n      });\n    });\n    _defineProperty(this, \"onMouseUp\", event => {\n      if (this.state.active) {\n        this.setState({\n          active: false\n        });\n        if (this.props.onStopResize) {\n          this.props.onStopResize({\n            domElement: this.ref.current,\n            component: this\n          });\n        }\n        this.props.events.emit('stopResize', {\n          index: this.props.index,\n          event\n        });\n      }\n    });\n    this.state = {\n      active: false\n    };\n    this.document = props.document;\n  }\n  componentDidMount() {\n    if (!this.document) {\n      return;\n    }\n    this.document.addEventListener('touchend', this.onMouseUp);\n    this.document.addEventListener('mouseup', this.onMouseUp);\n    this.document.addEventListener('mousemove', this.onMouseMove, {\n      passive: false\n    });\n    this.document.addEventListener('touchmove', this.onMouseMove, {\n      passive: false\n    });\n  }\n  componentWillUnmount() {\n    if (!this.document) {\n      return;\n    }\n    this.document.removeEventListener('mouseup', this.onMouseUp);\n    this.document.removeEventListener('touchend', this.onMouseUp);\n    this.document.removeEventListener('mousemove', this.onMouseMove);\n    this.document.removeEventListener('touchmove', this.onMouseMove);\n    if (this.state.active) {\n      this.props.events.emit('stopResize', {\n        index: this.props.index,\n        event: null\n      });\n    }\n  }\n  render() {\n    const className = [Browser.isMobile() ? 'reflex-thin' : '', ...this.props.className.split(' '), this.state.active ? 'active' : '', 'reflex-splitter'].join(' ').trim();\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, getDataProps(this.props), {\n      onTouchStart: this.onMouseDown,\n      onMouseDown: this.onMouseDown,\n      style: this.props.style,\n      className: className,\n      id: this.props.id,\n      ref: this.ref\n    }), this.props.children);\n  }\n}\n_defineProperty(ReflexSplitter, \"propTypes\", {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n  onStartResize: PropTypes.func,\n  onStopResize: PropTypes.func,\n  className: PropTypes.string,\n  propagate: PropTypes.bool,\n  onResize: PropTypes.func,\n  style: PropTypes.object\n});\n_defineProperty(ReflexSplitter, \"defaultProps\", {\n  document: typeof document !== 'undefined' ? document : null,\n  onStartResize: null,\n  onStopResize: null,\n  propagate: false,\n  onResize: null,\n  className: '',\n  style: {}\n});","///////////////////////////////////////////////////////////\n// ReflexEvents\n// By Philippe Leefsma\n// December 2016\n//\n///////////////////////////////////////////////////////////\nclass ReflexEvents {\n  constructor() {\n    this._events = {};\n  }\n\n  /////////////////////////////////////////////////////////\n  // Supports multiple events space-separated\n  //\n  /////////////////////////////////////////////////////////\n  on(events, fct) {\n    events.split(' ').forEach(event => {\n      this._events[event] = this._events[event] || [];\n      this._events[event].push(fct);\n    });\n    return this;\n  }\n\n  /////////////////////////////////////////////////////////\n  // Supports multiple events space-separated\n  //\n  /////////////////////////////////////////////////////////\n  off(events, fct) {\n    if (events == undefined) {\n      this._events = {};\n      return;\n    }\n    events.split(' ').forEach(event => {\n      if (event in this._events === false) return;\n      if (fct) {\n        this._events[event].splice(this._events[event].indexOf(fct), 1);\n      } else {\n        this._events[event] = [];\n      }\n    });\n    return this;\n  }\n  emit(event /* , args... */) {\n    if (this._events[event] === undefined) return;\n    var tmpArray = this._events[event].slice();\n    for (var i = 0; i < tmpArray.length; ++i) {\n      var result = tmpArray[i].apply(this, Array.prototype.slice.call(arguments, 1));\n      if (result !== undefined) {\n        return result;\n      }\n    }\n    return undefined;\n  }\n}\nexport default ReflexEvents;","if (!Array.prototype.includes) {\n  Object.defineProperty(Array.prototype, 'includes', {\n    value: function (valueToFind, fromIndex) {\n      if (this == null) {\n        throw new TypeError('\"this\" is null or not defined');\n      }\n\n      // 1. Let O be ? ToObject(this value).\n      var o = Object(this);\n\n      // 2. Let len be ? ToLength(? Get(O, \"length\")).\n      var len = o.length >>> 0;\n\n      // 3. If len is 0, return false.\n      if (len === 0) {\n        return false;\n      }\n\n      // 4. Let n be ? ToInteger(fromIndex).\n      //    (If fromIndex is undefined, this step produces the value 0.)\n      var n = fromIndex | 0;\n\n      // 5. If n â‰¥ 0, then\n      //  a. Let k be n.\n      // 6. Else n < 0,\n      //  a. Let k be len + n.\n      //  b. If k < 0, let k be 0.\n      var k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n      function sameValueZero(x, y) {\n        return x === y || typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y);\n      }\n\n      // 7. Repeat, while k < len\n      while (k < len) {\n        // a. Let elementK be the result of ? Get(O, ! ToString(k)).\n        // b. If SameValueZero(valueToFind, elementK) is true, return true.\n        if (sameValueZero(o[k], valueToFind)) {\n          return true;\n        }\n        // c. Increase k by 1. \n        k++;\n      }\n\n      // 8. Return false\n      return false;\n    }\n  });\n}\nif (!Math.sign) {\n  Math.sign = function (x) {\n    return (x > 0) - (x < 0) || +x;\n  };\n}","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n///////////////////////////////////////////////////////////\n// ReflexContainer\n// By Philippe Leefsma\n// December 2016\n//\n///////////////////////////////////////////////////////////\nimport ReflexSplitter from './ReflexSplitter';\nimport ReflexEvents from './ReflexEvents';\nimport { getDataProps } from './utilities';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport './Polyfills';\nexport default class ReflexContainer extends React.Component {\n  /////////////////////////////////////////////////////////\n  // orientation: Orientation of the layout container\n  //              valid values are ['horizontal', 'vertical'] \n  // maxRecDepth: Maximun recursion depth to solve initial flex\n  //              of layout elements based on user provided values\n  // className: Space separated classnames to apply custom styles \n  //            to the layout container  \n  // style: allows passing inline style to the container\n  /////////////////////////////////////////////////////////\n\n  constructor(props) {\n    super(props);\n    _defineProperty(this, \"onWindowResize\", () => {\n      this.setState({\n        flexData: this.computeFlexData()\n      });\n    });\n    _defineProperty(this, \"onStartResize\", data => {\n      const pos = data.event.changedTouches ? data.event.changedTouches[0] : data.event;\n      switch (this.props.orientation) {\n        case 'horizontal':\n          document.body.classList.add('reflex-row-resize');\n          this.previousPos = pos.clientY;\n          break;\n        case 'vertical':\n        default:\n          document.body.classList.add('reflex-col-resize');\n          this.previousPos = pos.clientX;\n          break;\n      }\n      this.elements = [this.children[data.index - 1], this.children[data.index + 1]];\n      this.emitElementsEvent(this.elements, 'onStartResize');\n    });\n    _defineProperty(this, \"onResize\", data => {\n      const pos = data.event.changedTouches ? data.event.changedTouches[0] : data.event;\n      const offset = this.getOffset(pos, data.domElement);\n      switch (this.props.orientation) {\n        case 'horizontal':\n          this.previousPos = pos.clientY;\n          break;\n        case 'vertical':\n        default:\n          this.previousPos = pos.clientX;\n          break;\n      }\n      if (offset) {\n        const availableOffset = this.computeAvailableOffset(data.index, offset);\n        if (availableOffset) {\n          this.elements = this.dispatchOffset(data.index, availableOffset);\n          this.adjustFlex(this.elements);\n          this.setState({\n            resizing: true\n          }, () => {\n            this.emitElementsEvent(this.elements, 'onResize');\n          });\n        }\n      }\n    });\n    _defineProperty(this, \"onStopResize\", data => {\n      document.body.classList.remove('reflex-row-resize');\n      document.body.classList.remove('reflex-col-resize');\n      const resizedRefs = this.elements ? this.elements.map(element => {\n        return element.ref;\n      }) : [];\n      const elements = this.children.filter(child => {\n        return !ReflexSplitter.isA(child) && resizedRefs.includes(child.ref);\n      });\n      this.emitElementsEvent(elements, 'onStopResize');\n      this.setState({\n        resizing: false\n      });\n    });\n    _defineProperty(this, \"onElementSize\", data => {\n      return new Promise(resolve => {\n        try {\n          const idx = data.index;\n          const size = this.getSize(this.children[idx]);\n          const offset = data.size - size;\n          const dir = data.direction;\n          const splitterIdx = idx + dir;\n          const availableOffset = this.computeAvailableOffset(splitterIdx, dir * offset);\n          this.elements = null;\n          if (availableOffset) {\n            this.elements = this.dispatchOffset(splitterIdx, availableOffset);\n            this.adjustFlex(this.elements);\n          }\n          this.setState(this.state, () => {\n            this.emitElementsEvent(this.elements, 'onResize');\n            resolve();\n          });\n        } catch (ex) {\n          // TODO handle exception ...\n          console.log(ex);\n        }\n      });\n    });\n    this.events = new ReflexEvents();\n    this.children = [];\n    this.state = {\n      flexData: []\n    };\n    this.ref = React.createRef();\n  }\n  componentDidMount() {\n    const flexData = this.computeFlexData();\n    const {\n      windowResizeAware\n    } = this.props;\n    if (windowResizeAware) {\n      window.addEventListener('resize', this.onWindowResize);\n    }\n    this.setState({\n      windowResizeAware,\n      flexData\n    });\n    this.events.on('element.size', this.onElementSize);\n    this.events.on('startResize', this.onStartResize);\n    this.events.on('stopResize', this.onStopResize);\n    this.events.on('resize', this.onResize);\n  }\n  componentWillUnmount() {\n    this.events.off();\n    window.removeEventListener('resize', this.onWindowResize);\n  }\n  getValidChildren(props = this.props) {\n    return this.toArray(props.children).filter(child => {\n      return !!child;\n    });\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const children = this.getValidChildren(this.props);\n    if (children.length !== this.state.flexData.length || prevProps.orientation !== this.props.orientation || this.flexHasChanged(prevProps)) {\n      const flexData = this.computeFlexData(children, this.props);\n      this.setState({\n        flexData\n      });\n    }\n    if (this.props.windowResizeAware !== this.state.windowResizeAware) {\n      !this.props.windowResizeAware ? window.removeEventListener('resize', this.onWindowResize) : window.addEventListener('resize', this.onWindowResize);\n      this.setState({\n        windowResizeAware: this.props.windowResizeAware\n      });\n    }\n  }\n\n  // UNSAFE_componentWillReceiveProps(props) {\n\n  //   const children = this.getValidChildren(props)\n\n  //   if (children.length !== this.state.flexData.length || \n  //     props.orientation !== this.props.orientation || \n  //     this.flexHasChanged(props)) \n  //   {\n  //     const flexData = this.computeFlexData(\n  //       children, props)\n\n  //     this.setState({\n  //       flexData\n  //     });\n  //   }\n\n  //   if (props.windowResizeAware !== this.state.windowResizeAware) {\n  //     !props.windowResizeAware\n  //       ? window.removeEventListener('resize', this.onWindowResize)\n  //       : window.addEventListener('resize', this.onWindowResize)\n  //     this.setState({\n  //       windowResizeAware: props.windowResizeAware\n  //     })\n  //   }\n  // } \n\n  /////////////////////////////////////////////////////////\n  // attempts to preserve current flex on window resize\n  //\n  /////////////////////////////////////////////////////////\n\n  /////////////////////////////////////////////////////////\n  // Check if flex has changed: this allows updating the\n  // component when different flex is passed as property\n  // to one or several children\n  //\n  /////////////////////////////////////////////////////////\n  flexHasChanged(prevProps) {\n    const prevChildrenFlex = this.getValidChildren(prevProps).map(child => {\n      return child.props.flex || 0;\n    });\n    const childrenFlex = this.getValidChildren().map(child => {\n      return child.props.flex || 0;\n    });\n    return !childrenFlex.every((flex, idx) => {\n      return flex === prevChildrenFlex[idx];\n    });\n  }\n\n  /////////////////////////////////////////////////////////\n  // Returns size of a ReflexElement\n  //\n  /////////////////////////////////////////////////////////\n  getSize(element) {\n    var _domElement$offsetHei, _domElement$offsetWid;\n    const domElement = element === null || element === void 0 ? void 0 : element.ref.current;\n    switch (this.props.orientation) {\n      case 'horizontal':\n        return (_domElement$offsetHei = domElement === null || domElement === void 0 ? void 0 : domElement.offsetHeight) !== null && _domElement$offsetHei !== void 0 ? _domElement$offsetHei : 0;\n      case 'vertical':\n      default:\n        return (_domElement$offsetWid = domElement === null || domElement === void 0 ? void 0 : domElement.offsetWidth) !== null && _domElement$offsetWid !== void 0 ? _domElement$offsetWid : 0;\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  // Computes offset from pointer position\n  //\n  /////////////////////////////////////////////////////////\n  getOffset(pos, domElement) {\n    const {\n      top,\n      bottom,\n      left,\n      right\n    } = domElement.getBoundingClientRect();\n    switch (this.props.orientation) {\n      case 'horizontal':\n        {\n          const offset = pos.clientY - this.previousPos;\n          if (offset > 0) {\n            if (pos.clientY >= top) {\n              return offset;\n            }\n          } else {\n            if (pos.clientY <= bottom) {\n              return offset;\n            }\n          }\n          break;\n        }\n      case 'vertical':\n      default:\n        {\n          const offset = pos.clientX - this.previousPos;\n          if (offset > 0) {\n            if (pos.clientX > left) {\n              return offset;\n            }\n          } else {\n            if (pos.clientX < right) {\n              return offset;\n            }\n          }\n        }\n        break;\n    }\n    return 0;\n  }\n\n  /////////////////////////////////////////////////////////\n  // Handles startResize event\n  //\n  /////////////////////////////////////////////////////////\n\n  /////////////////////////////////////////////////////////\n  // Adjusts flex after a dispatch to make sure\n  // total flex of modified elements remains the same\n  //\n  /////////////////////////////////////////////////////////\n  adjustFlex(elements) {\n    const diffFlex = elements.reduce((sum, element) => {\n      const idx = element.props.index;\n      const previousFlex = element.props.flex;\n      const nextFlex = this.state.flexData[idx].flex;\n      return sum + (previousFlex - nextFlex) / elements.length;\n    }, 0);\n    elements.forEach(element => {\n      this.state.flexData[element.props.index].flex += diffFlex;\n    });\n  }\n\n  /////////////////////////////////////////////////////////\n  // Returns available offset for a given raw offset value\n  // This checks how much the panes can be stretched and\n  // shrink, then returns the min\n  //\n  /////////////////////////////////////////////////////////\n  computeAvailableOffset(idx, offset) {\n    const stretch = this.computeAvailableStretch(idx, offset);\n    const shrink = this.computeAvailableShrink(idx, offset);\n    const availableOffset = Math.min(stretch, shrink) * Math.sign(offset);\n    return availableOffset;\n  }\n\n  /////////////////////////////////////////////////////////\n  // Returns true if the next splitter than the one at idx\n  // can propagate the drag. This can happen if that\n  // next element is actually a splitter and it has\n  // propagate=true property set\n  //\n  /////////////////////////////////////////////////////////\n  checkPropagate(idx, direction) {\n    if (direction > 0) {\n      if (idx < this.children.length - 2) {\n        const child = this.children[idx + 2];\n        const typeCheck = ReflexSplitter.isA(child);\n        return typeCheck && child.props.propagate;\n      }\n    } else {\n      if (idx > 2) {\n        const child = this.children[idx - 2];\n        const typeCheck = ReflexSplitter.isA(child);\n        return typeCheck && child.props.propagate;\n      }\n    }\n    return false;\n  }\n\n  /////////////////////////////////////////////////////////\n  // Recursively computes available stretch at splitter\n  // idx for given raw offset\n  //\n  /////////////////////////////////////////////////////////\n  computeAvailableStretch(idx, offset) {\n    var _child$props$maxSize;\n    const childIdx = offset < 0 ? idx + 1 : idx - 1;\n    const child = this.children[childIdx];\n    const size = this.getSize(child);\n    const maxSize = (_child$props$maxSize = child === null || child === void 0 ? void 0 : child.props.maxSize) !== null && _child$props$maxSize !== void 0 ? _child$props$maxSize : 0;\n    const availableStretch = maxSize - size;\n    if (availableStretch < Math.abs(offset)) {\n      if (this.checkPropagate(idx, -1 * offset)) {\n        const nextOffset = Math.sign(offset) * (Math.abs(offset) - availableStretch);\n        return availableStretch + this.computeAvailableStretch(offset < 0 ? idx + 2 : idx - 2, nextOffset);\n      }\n    }\n    return Math.min(availableStretch, Math.abs(offset));\n  }\n\n  /////////////////////////////////////////////////////////\n  // Recursively computes available shrink at splitter\n  // idx for given raw offset\n  //\n  /////////////////////////////////////////////////////////\n  computeAvailableShrink(idx, offset) {\n    var _child$props$minSize;\n    const childIdx = offset > 0 ? idx + 1 : idx - 1;\n    const child = this.children[childIdx];\n    const size = this.getSize(child);\n    const minSize = Math.max((_child$props$minSize = child === null || child === void 0 ? void 0 : child.props.minSize) !== null && _child$props$minSize !== void 0 ? _child$props$minSize : 0, 0);\n    const availableShrink = size - minSize;\n    if (availableShrink < Math.abs(offset)) {\n      if (this.checkPropagate(idx, offset)) {\n        const nextOffset = Math.sign(offset) * (Math.abs(offset) - availableShrink);\n        return availableShrink + this.computeAvailableShrink(offset > 0 ? idx + 2 : idx - 2, nextOffset);\n      }\n    }\n    return Math.min(availableShrink, Math.abs(offset));\n  }\n\n  /////////////////////////////////////////////////////////\n  // Returns flex value for unit pixel\n  //\n  /////////////////////////////////////////////////////////\n  computePixelFlex(orientation = this.props.orientation) {\n    if (!this.ref.current) {\n      console.warn('Unable to locate ReflexContainer dom node');\n      return 0.0;\n    }\n    switch (orientation) {\n      case 'horizontal':\n        if (this.ref.current.offsetHeight === 0.0) {\n          console.warn('Found ReflexContainer with height=0, ' + 'this will cause invalid behavior...');\n          console.warn(this.ref.current);\n          return 0.0;\n        }\n        return 1.0 / this.ref.current.offsetHeight;\n      case 'vertical':\n      default:\n        if (this.ref.current.offsetWidth === 0.0) {\n          console.warn('Found ReflexContainer with width=0, ' + 'this will cause invalid behavior...');\n          console.warn(this.ref.current);\n          return 0.0;\n        }\n        return 1.0 / this.ref.current.offsetWidth;\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  // Adds offset to a given ReflexElement\n  //\n  /////////////////////////////////////////////////////////\n  addOffset(element, offset) {\n    const size = this.getSize(element);\n    const idx = element.props.index;\n    const newSize = Math.max(size + offset, 0);\n    const currentFlex = this.state.flexData[idx].flex;\n    const newFlex = currentFlex > 0 ? currentFlex * newSize / size : this.computePixelFlex() * newSize;\n    this.state.flexData[idx].flex = !isFinite(newFlex) || isNaN(newFlex) ? 0 : newFlex;\n  }\n\n  /////////////////////////////////////////////////////////\n  // Recursively dispatches stretch offset across\n  // children elements starting at splitter idx\n  //\n  /////////////////////////////////////////////////////////\n  dispatchStretch(idx, offset) {\n    const childIdx = offset < 0 ? idx + 1 : idx - 1;\n    if (childIdx < 0 || childIdx > this.children.length - 1) {\n      return [];\n    }\n    const child = this.children[childIdx];\n    const size = this.getSize(child);\n    const newSize = Math.min(child.props.maxSize, size + Math.abs(offset));\n    const dispatchedStretch = newSize - size;\n    this.addOffset(child, dispatchedStretch);\n    if (dispatchedStretch < Math.abs(offset)) {\n      const nextIdx = idx - Math.sign(offset) * 2;\n      const nextOffset = Math.sign(offset) * (Math.abs(offset) - dispatchedStretch);\n      return [child, ...this.dispatchStretch(nextIdx, nextOffset)];\n    }\n    return [child];\n  }\n\n  /////////////////////////////////////////////////////////\n  // Recursively dispatches shrink offset across\n  // children elements starting at splitter idx\n  //\n  /////////////////////////////////////////////////////////\n  dispatchShrink(idx, offset) {\n    const childIdx = offset > 0 ? idx + 1 : idx - 1;\n    if (childIdx < 0 || childIdx > this.children.length - 1) {\n      return [];\n    }\n    const child = this.children[childIdx];\n    const size = this.getSize(child);\n    const newSize = Math.max(child.props.minSize, size - Math.abs(offset));\n    const dispatchedShrink = newSize - size;\n    this.addOffset(child, dispatchedShrink);\n    if (Math.abs(dispatchedShrink) < Math.abs(offset)) {\n      const nextIdx = idx + Math.sign(offset) * 2;\n      const nextOffset = Math.sign(offset) * (Math.abs(offset) + dispatchedShrink);\n      return [child, ...this.dispatchShrink(nextIdx, nextOffset)];\n    }\n    return [child];\n  }\n\n  /////////////////////////////////////////////////////////\n  // Dispatch offset at splitter idx\n  //\n  /////////////////////////////////////////////////////////\n  dispatchOffset(idx, offset) {\n    return [...this.dispatchStretch(idx, offset), ...this.dispatchShrink(idx, offset)];\n  }\n\n  /////////////////////////////////////////////////////////\n  // Emits given if event for each given element\n  // if present in the component props\n  //\n  /////////////////////////////////////////////////////////\n  emitElementsEvent(elements, event) {\n    this.toArray(elements).forEach(component => {\n      if (component.props[event]) {\n        component.props[event]({\n          domElement: component.ref.current,\n          component\n        });\n      }\n    });\n  }\n\n  /////////////////////////////////////////////////////////\n  // Computes initial flex data based on provided flex\n  // properties. By default each ReflexElement gets\n  // evenly arranged within its container\n  //\n  /////////////////////////////////////////////////////////\n  computeFlexData(children = this.getValidChildren(), props = this.props) {\n    const pixelFlex = this.computePixelFlex(props.orientation);\n    const computeFreeFlex = flexData => {\n      return flexData.reduce((sum, entry) => {\n        if (!ReflexSplitter.isA(entry) && entry.constrained) {\n          return sum - entry.flex;\n        }\n        return sum;\n      }, 1.0);\n    };\n    const computeFreeElements = flexData => {\n      return flexData.reduce((sum, entry) => {\n        if (!ReflexSplitter.isA(entry) && !entry.constrained) {\n          return sum + 1;\n        }\n        return sum;\n      }, 0.0);\n    };\n    const flexDataInit = children.map(child => {\n      const props = child.props;\n      return {\n        maxFlex: (props.maxSize || Number.MAX_VALUE) * pixelFlex,\n        sizeFlex: (props.size || Number.MAX_VALUE) * pixelFlex,\n        minFlex: (props.minSize || 1) * pixelFlex,\n        constrained: props.flex !== undefined,\n        flex: props.flex || 0,\n        type: child.type\n      };\n    });\n    const computeFlexDataRec = (flexDataIn, depth = 0) => {\n      let hasContrain = false;\n      const freeElements = computeFreeElements(flexDataIn);\n      const freeFlex = computeFreeFlex(flexDataIn);\n      const flexDataOut = flexDataIn.map(entry => {\n        if (ReflexSplitter.isA(entry)) {\n          return entry;\n        }\n        const proposedFlex = !entry.constrained ? freeFlex / freeElements : entry.flex;\n        const constrainedFlex = Math.min(entry.sizeFlex, Math.min(entry.maxFlex, Math.max(entry.minFlex, proposedFlex)));\n        const constrained = entry.constrained || constrainedFlex !== proposedFlex;\n        hasContrain = hasContrain || constrained;\n        return _objectSpread({}, entry, {\n          flex: constrainedFlex,\n          constrained\n        });\n      });\n      return hasContrain && depth < this.props.maxRecDepth ? computeFlexDataRec(flexDataOut, depth + 1) : flexDataOut;\n    };\n    const flexData = computeFlexDataRec(flexDataInit);\n    return flexData.map(entry => {\n      return {\n        flex: !ReflexSplitter.isA(entry) ? entry.flex : 0.0,\n        ref: React.createRef()\n      };\n    });\n  }\n\n  /////////////////////////////////////////////////////////\n  // Utility method to ensure given argument is\n  // returned as an array\n  //\n  /////////////////////////////////////////////////////////\n  toArray(obj) {\n    return obj ? Array.isArray(obj) ? obj : [obj] : [];\n  }\n\n  /////////////////////////////////////////////////////////\n  // Render container. This will clone all original child\n  // components in order to pass some internal properties\n  // used to handle resizing logic\n  //\n  /////////////////////////////////////////////////////////\n  render() {\n    const className = [this.state.resizing ? 'reflex-resizing' : '', ...this.props.className.split(' '), this.props.orientation, 'reflex-container'].join(' ').trim();\n    this.children = React.Children.map(this.getValidChildren(), (child, index) => {\n      if (index > this.state.flexData.length - 1) {\n        return /*#__PURE__*/React.createElement(\"div\", null);\n      }\n      const flexData = this.state.flexData[index];\n      const newProps = _objectSpread({}, child.props, {\n        maxSize: child.props.maxSize || Number.MAX_VALUE,\n        orientation: this.props.orientation,\n        minSize: child.props.minSize || 1,\n        events: this.events,\n        flex: flexData.flex,\n        ref: flexData.ref,\n        index\n      });\n      return React.cloneElement(child, newProps);\n    });\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, getDataProps(this.props), {\n      style: this.props.style,\n      className: className,\n      ref: this.ref\n    }), this.children);\n  }\n}\n_defineProperty(ReflexContainer, \"propTypes\", {\n  windowResizeAware: PropTypes.bool,\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n  maxRecDepth: PropTypes.number,\n  className: PropTypes.string,\n  style: PropTypes.object\n});\n_defineProperty(ReflexContainer, \"defaultProps\", {\n  orientation: 'horizontal',\n  windowResizeAware: false,\n  maxRecDepth: 100,\n  className: '',\n  style: {}\n});","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n///////////////////////////////////////////////////////////\n// ReflexHandle\n// By Philippe Leefsma\n// June 2018\n//\n///////////////////////////////////////////////////////////\nimport { getDataProps } from './utilities';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport default class ReflexHandle extends React.Component {\n  static isA(element) {\n    if (!element) {\n      return false;\n    }\n    //https://github.com/leefsmp/Re-Flex/issues/49\n    return process.env.NODE_ENV === 'development' ? element.type === /*#__PURE__*/React.createElement(ReflexHandle, null).type : element.type === ReflexHandle;\n  }\n  constructor(props) {\n    super(props);\n    _defineProperty(this, \"ref\", React.createRef());\n    _defineProperty(this, \"onMouseMove\", event => {\n      if (this.state.active) {\n        const domElement = this.ref.current;\n        this.props.events.emit('resize', {\n          index: this.props.index,\n          domElement,\n          event\n        });\n        if (this.props.onResize) {\n          this.props.onResize({\n            component: this,\n            domElement\n          });\n        }\n        event.stopPropagation();\n        event.preventDefault();\n      }\n    });\n    _defineProperty(this, \"onMouseDown\", event => {\n      this.setState({\n        active: true\n      });\n      if (this.props.onStartResize) {\n        // cancels resize from controller\n        // if needed by returning true\n        // to onStartResize\n        if (this.props.onStartResize({\n          domElement: this.ref.current,\n          component: this\n        })) {\n          return;\n        }\n      }\n      this.props.events.emit('startResize', {\n        index: this.props.index,\n        event\n      });\n    });\n    _defineProperty(this, \"onMouseUp\", event => {\n      if (this.state.active) {\n        this.setState({\n          active: false\n        });\n        if (this.props.onStopResize) {\n          this.props.onStopResize({\n            domElement: this.ref.current,\n            component: this\n          });\n        }\n        this.props.events.emit('stopResize', {\n          index: this.props.index,\n          event\n        });\n      }\n    });\n    this.state = {\n      active: false\n    };\n    this.document = props.document;\n  }\n  componentDidMount() {\n    if (!this.document) {\n      return;\n    }\n    this.document.addEventListener('touchend', this.onMouseUp);\n    this.document.addEventListener('mouseup', this.onMouseUp);\n    this.document.addEventListener('mousemove', this.onMouseMove, {\n      passive: false\n    });\n    this.document.addEventListener('touchmove', this.onMouseMove, {\n      passive: false\n    });\n  }\n  componentWillUnmount() {\n    if (!this.document) {\n      return;\n    }\n    this.document.removeEventListener('mouseup', this.onMouseUp);\n    this.document.removeEventListener('touchend', this.onMouseUp);\n    this.document.removeEventListener('mousemove', this.onMouseMove);\n    this.document.removeEventListener('touchmove', this.onMouseMove);\n    if (this.state.active) {\n      this.props.events.emit('stopResize', {\n        index: this.props.index,\n        event: null\n      });\n    }\n  }\n  render() {\n    const className = [...this.props.className.split(' '), this.state.active ? 'active' : '', 'reflex-handle'].join(' ').trim();\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, getDataProps(this.props), {\n      onTouchStart: this.onMouseDown,\n      onMouseDown: this.onMouseDown,\n      style: this.props.style,\n      className: className,\n      id: this.props.id,\n      ref: this.ref\n    }), this.props.children);\n  }\n}\n_defineProperty(ReflexHandle, \"propTypes\", {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n  onStartResize: PropTypes.func,\n  onStopResize: PropTypes.func,\n  className: PropTypes.string,\n  propagate: PropTypes.bool,\n  onResize: PropTypes.func,\n  style: PropTypes.object\n});\n_defineProperty(ReflexHandle, \"defaultProps\", {\n  document: typeof document === 'undefined' ? null : document,\n  onStartResize: null,\n  onStopResize: null,\n  propagate: false,\n  onResize: null,\n  className: '',\n  style: {}\n});","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport { Component, createElement } from 'react';\nimport PropTypes from 'prop-types';\nimport ResizeObserver from 'resize-observer-polyfill';\n\nvar types = ['client', 'offset', 'scroll', 'bounds', 'margin'];\nfunction getTypes(props) {\n  var allowedTypes = [];\n  types.forEach(function (type) {\n    if (props[type]) {\n      allowedTypes.push(type);\n    }\n  });\n  return allowedTypes;\n}\n\nfunction getContentRect(node, types) {\n  var calculations = {};\n\n  if (types.indexOf('client') > -1) {\n    calculations.client = {\n      top: node.clientTop,\n      left: node.clientLeft,\n      width: node.clientWidth,\n      height: node.clientHeight\n    };\n  }\n\n  if (types.indexOf('offset') > -1) {\n    calculations.offset = {\n      top: node.offsetTop,\n      left: node.offsetLeft,\n      width: node.offsetWidth,\n      height: node.offsetHeight\n    };\n  }\n\n  if (types.indexOf('scroll') > -1) {\n    calculations.scroll = {\n      top: node.scrollTop,\n      left: node.scrollLeft,\n      width: node.scrollWidth,\n      height: node.scrollHeight\n    };\n  }\n\n  if (types.indexOf('bounds') > -1) {\n    var rect = node.getBoundingClientRect();\n    calculations.bounds = {\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      left: rect.left,\n      width: rect.width,\n      height: rect.height\n    };\n  }\n\n  if (types.indexOf('margin') > -1) {\n    var styles = getComputedStyle(node);\n    calculations.margin = {\n      top: styles ? parseInt(styles.marginTop) : 0,\n      right: styles ? parseInt(styles.marginRight) : 0,\n      bottom: styles ? parseInt(styles.marginBottom) : 0,\n      left: styles ? parseInt(styles.marginLeft) : 0\n    };\n  }\n\n  return calculations;\n}\n\n/**\n * Returns the global window object associated with provided element.\n */\nfunction getWindowOf(target) {\n  // Assume that the element is an instance of Node, which means that it\n  // has the \"ownerDocument\" property from which we can retrieve a\n  // corresponding global object.\n  var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView; // Return the local window object if it's not possible extract one from\n  // provided element.\n\n  return ownerGlobal || window;\n}\n\nfunction withContentRect(types) {\n  return function (WrappedComponent) {\n    var _class, _temp;\n\n    return _temp = _class =\n    /*#__PURE__*/\n    function (_Component) {\n      _inheritsLoose(WithContentRect, _Component);\n\n      function WithContentRect() {\n        var _this;\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n        _this.state = {\n          contentRect: {\n            entry: {},\n            client: {},\n            offset: {},\n            scroll: {},\n            bounds: {},\n            margin: {}\n          }\n        };\n        _this._animationFrameID = null;\n        _this._resizeObserver = null;\n        _this._node = null;\n        _this._window = null;\n\n        _this.measure = function (entries) {\n          var contentRect = getContentRect(_this._node, types || getTypes(_this.props));\n\n          if (entries) {\n            contentRect.entry = entries[0].contentRect;\n          }\n\n          _this._animationFrameID = _this._window.requestAnimationFrame(function () {\n            if (_this._resizeObserver !== null) {\n              _this.setState({\n                contentRect: contentRect\n              });\n\n              if (typeof _this.props.onResize === 'function') {\n                _this.props.onResize(contentRect);\n              }\n            }\n          });\n        };\n\n        _this._handleRef = function (node) {\n          if (_this._resizeObserver !== null && _this._node !== null) {\n            _this._resizeObserver.unobserve(_this._node);\n          }\n\n          _this._node = node;\n          _this._window = getWindowOf(_this._node);\n          var innerRef = _this.props.innerRef;\n\n          if (innerRef) {\n            if (typeof innerRef === 'function') {\n              innerRef(_this._node);\n            } else {\n              innerRef.current = _this._node;\n            }\n          }\n\n          if (_this._resizeObserver !== null && _this._node !== null) {\n            _this._resizeObserver.observe(_this._node);\n          }\n        };\n\n        return _this;\n      }\n\n      var _proto = WithContentRect.prototype;\n\n      _proto.componentDidMount = function componentDidMount() {\n        this._resizeObserver = this._window !== null && this._window.ResizeObserver ? new this._window.ResizeObserver(this.measure) : new ResizeObserver(this.measure);\n\n        if (this._node !== null) {\n          this._resizeObserver.observe(this._node);\n\n          if (typeof this.props.onResize === 'function') {\n            this.props.onResize(getContentRect(this._node, types || getTypes(this.props)));\n          }\n        }\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        if (this._window !== null) {\n          this._window.cancelAnimationFrame(this._animationFrameID);\n        }\n\n        if (this._resizeObserver !== null) {\n          this._resizeObserver.disconnect();\n\n          this._resizeObserver = null;\n        }\n      };\n\n      _proto.render = function render() {\n        var _this$props = this.props,\n            innerRef = _this$props.innerRef,\n            onResize = _this$props.onResize,\n            props = _objectWithoutPropertiesLoose(_this$props, [\"innerRef\", \"onResize\"]);\n\n        return createElement(WrappedComponent, _extends({}, props, {\n          measureRef: this._handleRef,\n          measure: this.measure,\n          contentRect: this.state.contentRect\n        }));\n      };\n\n      return WithContentRect;\n    }(Component), _class.propTypes = {\n      client: PropTypes.bool,\n      offset: PropTypes.bool,\n      scroll: PropTypes.bool,\n      bounds: PropTypes.bool,\n      margin: PropTypes.bool,\n      innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n      onResize: PropTypes.func\n    }, _temp;\n  };\n}\n\nvar Measure = withContentRect()(function (_ref) {\n  var measure = _ref.measure,\n      measureRef = _ref.measureRef,\n      contentRect = _ref.contentRect,\n      children = _ref.children;\n  return children({\n    measure: measure,\n    measureRef: measureRef,\n    contentRect: contentRect\n  });\n});\nMeasure.displayName = 'Measure';\nMeasure.propTypes.children = PropTypes.func;\n\nexport default Measure;\nexport { withContentRect };\n","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n///////////////////////////////////////////////////////////\n// ReflexElement\n// By Philippe Leefsma\n// December 2016\n//\n///////////////////////////////////////////////////////////\nimport ReflexHandle from './ReflexHandle';\nimport { getDataProps } from './utilities';\nimport throttle from 'lodash.throttle';\nimport Measure from 'react-measure';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nconst toArray = obj => {\n  return obj ? Array.isArray(obj) ? obj : [obj] : [];\n};\nclass SizeAwareReflexElement extends React.Component {\n  constructor(props) {\n    super(props);\n    _defineProperty(this, \"onResize\", rect => {\n      const {\n        resizeHeight,\n        resizeWidth\n      } = this.props;\n      const {\n        height,\n        width\n      } = rect.bounds;\n      this.setDimensions(_objectSpread({}, resizeHeight && {\n        height\n      }, resizeWidth && {\n        width\n      }));\n    });\n    this.setDimensions = throttle(dimensions => {\n      this.setState(dimensions);\n    }, this.props.propagateDimensionsRate / 1000);\n    this.state = {\n      height: \"100%\",\n      width: \"100%\"\n    };\n  }\n  renderChildren() {\n    const {\n      propagateDimensions\n    } = this.props;\n    const validChildren = toArray(this.props.children).filter(child => {\n      return !!child;\n    });\n    return React.Children.map(validChildren, child => {\n      if (this.props.withHandle || ReflexHandle.isA(child)) {\n        return React.cloneElement(child, _objectSpread({\n          dimensions: propagateDimensions && this.state\n        }, child.props, {\n          index: this.props.index - 1,\n          events: this.props.events\n        }));\n      }\n      if (propagateDimensions) {\n        return React.cloneElement(child, _objectSpread({}, child.props, {\n          dimensions: this.state\n        }));\n      }\n      return child;\n    });\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(Measure, {\n      bounds: true,\n      onResize: this.onResize\n    }, ({\n      measureRef\n    }) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        ref: measureRef,\n        className: \"reflex-size-aware\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: this.state\n      }, this.renderChildren()));\n    });\n  }\n}\nclass ReflexElement extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      size: props.size\n    };\n  }\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.size !== prevState.size) {\n      return _objectSpread({}, prevState, {\n        size: nextProps.size\n      });\n    }\n    return null;\n  }\n  async componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevState.size !== this.state.size) {\n      const directions = toArray(this.props.direction);\n      for (let direction of directions) {\n        await this.props.events.emit('element.size', {\n          index: this.props.index,\n          size: this.props.size,\n          direction\n        });\n      }\n    }\n  }\n  renderChildren() {\n    const validChildren = toArray(this.props.children).filter(child => {\n      return !!child;\n    });\n    return React.Children.map(validChildren, child => {\n      if (this.props.withHandle || ReflexHandle.isA(child)) {\n        return React.cloneElement(child, _objectSpread({}, child.props, {\n          index: this.props.index - 1,\n          events: this.props.events\n        }));\n      }\n      return child;\n    });\n  }\n  render() {\n    const className = [...this.props.className.split(' '), this.props.orientation, 'reflex-element'].join(' ').trim();\n    const style = _objectSpread({}, this.props.style, {\n      flexGrow: this.props.flex,\n      flexShrink: 1,\n      flexBasis: '0%'\n    });\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, getDataProps(this.props), {\n      ref: this.props.innerRef,\n      className: className,\n      style: style\n    }), this.props.propagateDimensions ? /*#__PURE__*/React.createElement(SizeAwareReflexElement, this.props) : this.renderChildren());\n  }\n}\n_defineProperty(ReflexElement, \"propTypes\", {\n  propagateDimensions: PropTypes.bool,\n  resizeHeight: PropTypes.bool,\n  resizeWidth: PropTypes.bool,\n  className: PropTypes.string,\n  size: PropTypes.number\n});\n_defineProperty(ReflexElement, \"defaultProps\", {\n  propagateDimensionsRate: 100,\n  propagateDimensions: false,\n  resizeHeight: true,\n  resizeWidth: true,\n  direction: [1],\n  className: ''\n});\nexport default React.forwardRef((props, ref) => {\n  return /*#__PURE__*/React.createElement(ReflexElement, _extends({\n    innerRef: ref\n  }, props));\n});","import React from 'react'\n\nexport type BreadcrumbItem = {\n  name: string\n  isCurrent: boolean\n  action?: () => void\n}\n\nexport type BreadcrumbsProps = {\n  items: BreadcrumbItem[]\n  maxItemCount?: number\n}\n\nexport const Breadcrumbs: React.FunctionComponent<BreadcrumbsProps> = ({\n  items,\n  maxItemCount = 4,\n}: BreadcrumbsProps) => {\n  const truncateBreadcrumbs = items.length > maxItemCount\n  if (truncateBreadcrumbs) {\n    items = items.slice(-maxItemCount)\n  }\n  return (\n    <div className=\"Breadcrumbs\">\n      {items.length > 0 && <span>You are in: </span>}\n      {truncateBreadcrumbs && (\n        <>\n          <button className=\"BreadcrumbItem Current\">...</button>\n          <span>&gt;</span>\n        </>\n      )}\n      {items.map((item, index) => (\n        <React.Fragment key={index}>\n          <button\n            className={`BreadcrumbItem ${item.isCurrent ? 'Current' : ''}`}\n            key={index}\n            onClick={event => {\n              event.preventDefault()\n              if (item.action) {\n                item.action()\n              }\n            }}\n          >\n            {item.name}\n          </button>\n          {index !== items.length - 1 && <span>&gt;</span>}\n        </React.Fragment>\n      ))}\n    </div>\n  )\n}\n","var safeIsNaN = Number.isNaN ||\n    function ponyfill(value) {\n        return typeof value === 'number' && value !== value;\n    };\nfunction isEqual(first, second) {\n    if (first === second) {\n        return true;\n    }\n    if (safeIsNaN(first) && safeIsNaN(second)) {\n        return true;\n    }\n    return false;\n}\nfunction areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (!isEqual(newInputs[i], lastInputs[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var lastThis;\n    var lastArgs = [];\n    var lastResult;\n    var calledOnce = false;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n            return lastResult;\n        }\n        lastResult = resultFn.apply(this, newArgs);\n        calledOnce = true;\n        lastThis = this;\n        lastArgs = newArgs;\n        return lastResult;\n    }\n    return memoized;\n}\n\nexport default memoizeOne;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport memoizeOne from 'memoize-one';\nimport { createElement, PureComponent } from 'react';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\n\n// Animation frame based implementation of setTimeout.\n// Inspired by Joe Lambert, https://gist.github.com/joelambert/1002116#file-requesttimeout-js\nvar hasNativePerformanceNow = typeof performance === 'object' && typeof performance.now === 'function';\nvar now = hasNativePerformanceNow ? function () {\n  return performance.now();\n} : function () {\n  return Date.now();\n};\nfunction cancelTimeout(timeoutID) {\n  cancelAnimationFrame(timeoutID.id);\n}\nfunction requestTimeout(callback, delay) {\n  var start = now();\n\n  function tick() {\n    if (now() - start >= delay) {\n      callback.call(null);\n    } else {\n      timeoutID.id = requestAnimationFrame(tick);\n    }\n  }\n\n  var timeoutID = {\n    id: requestAnimationFrame(tick)\n  };\n  return timeoutID;\n}\n\nvar size = -1; // This utility copied from \"dom-helpers\" package.\n\nfunction getScrollbarSize(recalculate) {\n  if (recalculate === void 0) {\n    recalculate = false;\n  }\n\n  if (size === -1 || recalculate) {\n    var div = document.createElement('div');\n    var style = div.style;\n    style.width = '50px';\n    style.height = '50px';\n    style.overflow = 'scroll';\n    document.body.appendChild(div);\n    size = div.offsetWidth - div.clientWidth;\n    document.body.removeChild(div);\n  }\n\n  return size;\n}\nvar cachedRTLResult = null; // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n// Chrome does not seem to adhere; its scrollLeft values are positive (measured relative to the left).\n// Safari's elastic bounce makes detecting this even more complicated wrt potential false positives.\n// The safest way to check this is to intentionally set a negative offset,\n// and then verify that the subsequent \"scroll\" event matches the negative offset.\n// If it does not match, then we can assume a non-standard RTL scroll implementation.\n\nfunction getRTLOffsetType(recalculate) {\n  if (recalculate === void 0) {\n    recalculate = false;\n  }\n\n  if (cachedRTLResult === null || recalculate) {\n    var outerDiv = document.createElement('div');\n    var outerStyle = outerDiv.style;\n    outerStyle.width = '50px';\n    outerStyle.height = '50px';\n    outerStyle.overflow = 'scroll';\n    outerStyle.direction = 'rtl';\n    var innerDiv = document.createElement('div');\n    var innerStyle = innerDiv.style;\n    innerStyle.width = '100px';\n    innerStyle.height = '100px';\n    outerDiv.appendChild(innerDiv);\n    document.body.appendChild(outerDiv);\n\n    if (outerDiv.scrollLeft > 0) {\n      cachedRTLResult = 'positive-descending';\n    } else {\n      outerDiv.scrollLeft = 1;\n\n      if (outerDiv.scrollLeft === 0) {\n        cachedRTLResult = 'negative';\n      } else {\n        cachedRTLResult = 'positive-ascending';\n      }\n    }\n\n    document.body.removeChild(outerDiv);\n    return cachedRTLResult;\n  }\n\n  return cachedRTLResult;\n}\n\nvar IS_SCROLLING_DEBOUNCE_INTERVAL = 150;\n\nvar defaultItemKey = function defaultItemKey(_ref) {\n  var columnIndex = _ref.columnIndex,\n      data = _ref.data,\n      rowIndex = _ref.rowIndex;\n  return rowIndex + \":\" + columnIndex;\n}; // In DEV mode, this Set helps us only log a warning once per component instance.\n// This avoids spamming the console every time a render happens.\n\n\nvar devWarningsOverscanCount = null;\nvar devWarningsOverscanRowsColumnsCount = null;\nvar devWarningsTagName = null;\n\nif (process.env.NODE_ENV !== 'production') {\n  if (typeof window !== 'undefined' && typeof window.WeakSet !== 'undefined') {\n    devWarningsOverscanCount = /*#__PURE__*/new WeakSet();\n    devWarningsOverscanRowsColumnsCount = /*#__PURE__*/new WeakSet();\n    devWarningsTagName = /*#__PURE__*/new WeakSet();\n  }\n}\n\nfunction createGridComponent(_ref2) {\n  var _class;\n\n  var getColumnOffset = _ref2.getColumnOffset,\n      getColumnStartIndexForOffset = _ref2.getColumnStartIndexForOffset,\n      getColumnStopIndexForStartIndex = _ref2.getColumnStopIndexForStartIndex,\n      getColumnWidth = _ref2.getColumnWidth,\n      getEstimatedTotalHeight = _ref2.getEstimatedTotalHeight,\n      getEstimatedTotalWidth = _ref2.getEstimatedTotalWidth,\n      getOffsetForColumnAndAlignment = _ref2.getOffsetForColumnAndAlignment,\n      getOffsetForRowAndAlignment = _ref2.getOffsetForRowAndAlignment,\n      getRowHeight = _ref2.getRowHeight,\n      getRowOffset = _ref2.getRowOffset,\n      getRowStartIndexForOffset = _ref2.getRowStartIndexForOffset,\n      getRowStopIndexForStartIndex = _ref2.getRowStopIndexForStartIndex,\n      initInstanceProps = _ref2.initInstanceProps,\n      shouldResetStyleCacheOnItemSizeChange = _ref2.shouldResetStyleCacheOnItemSizeChange,\n      validateProps = _ref2.validateProps;\n  return _class = /*#__PURE__*/function (_PureComponent) {\n    _inheritsLoose(Grid, _PureComponent);\n\n    // Always use explicit constructor for React components.\n    // It produces less code after transpilation. (#26)\n    // eslint-disable-next-line no-useless-constructor\n    function Grid(props) {\n      var _this;\n\n      _this = _PureComponent.call(this, props) || this;\n      _this._instanceProps = initInstanceProps(_this.props, _assertThisInitialized(_this));\n      _this._resetIsScrollingTimeoutId = null;\n      _this._outerRef = void 0;\n      _this.state = {\n        instance: _assertThisInitialized(_this),\n        isScrolling: false,\n        horizontalScrollDirection: 'forward',\n        scrollLeft: typeof _this.props.initialScrollLeft === 'number' ? _this.props.initialScrollLeft : 0,\n        scrollTop: typeof _this.props.initialScrollTop === 'number' ? _this.props.initialScrollTop : 0,\n        scrollUpdateWasRequested: false,\n        verticalScrollDirection: 'forward'\n      };\n      _this._callOnItemsRendered = void 0;\n      _this._callOnItemsRendered = memoizeOne(function (overscanColumnStartIndex, overscanColumnStopIndex, overscanRowStartIndex, overscanRowStopIndex, visibleColumnStartIndex, visibleColumnStopIndex, visibleRowStartIndex, visibleRowStopIndex) {\n        return _this.props.onItemsRendered({\n          overscanColumnStartIndex: overscanColumnStartIndex,\n          overscanColumnStopIndex: overscanColumnStopIndex,\n          overscanRowStartIndex: overscanRowStartIndex,\n          overscanRowStopIndex: overscanRowStopIndex,\n          visibleColumnStartIndex: visibleColumnStartIndex,\n          visibleColumnStopIndex: visibleColumnStopIndex,\n          visibleRowStartIndex: visibleRowStartIndex,\n          visibleRowStopIndex: visibleRowStopIndex\n        });\n      });\n      _this._callOnScroll = void 0;\n      _this._callOnScroll = memoizeOne(function (scrollLeft, scrollTop, horizontalScrollDirection, verticalScrollDirection, scrollUpdateWasRequested) {\n        return _this.props.onScroll({\n          horizontalScrollDirection: horizontalScrollDirection,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          verticalScrollDirection: verticalScrollDirection,\n          scrollUpdateWasRequested: scrollUpdateWasRequested\n        });\n      });\n      _this._getItemStyle = void 0;\n\n      _this._getItemStyle = function (rowIndex, columnIndex) {\n        var _this$props = _this.props,\n            columnWidth = _this$props.columnWidth,\n            direction = _this$props.direction,\n            rowHeight = _this$props.rowHeight;\n\n        var itemStyleCache = _this._getItemStyleCache(shouldResetStyleCacheOnItemSizeChange && columnWidth, shouldResetStyleCacheOnItemSizeChange && direction, shouldResetStyleCacheOnItemSizeChange && rowHeight);\n\n        var key = rowIndex + \":\" + columnIndex;\n        var style;\n\n        if (itemStyleCache.hasOwnProperty(key)) {\n          style = itemStyleCache[key];\n        } else {\n          var _offset = getColumnOffset(_this.props, columnIndex, _this._instanceProps);\n\n          var isRtl = direction === 'rtl';\n          itemStyleCache[key] = style = {\n            position: 'absolute',\n            left: isRtl ? undefined : _offset,\n            right: isRtl ? _offset : undefined,\n            top: getRowOffset(_this.props, rowIndex, _this._instanceProps),\n            height: getRowHeight(_this.props, rowIndex, _this._instanceProps),\n            width: getColumnWidth(_this.props, columnIndex, _this._instanceProps)\n          };\n        }\n\n        return style;\n      };\n\n      _this._getItemStyleCache = void 0;\n      _this._getItemStyleCache = memoizeOne(function (_, __, ___) {\n        return {};\n      });\n\n      _this._onScroll = function (event) {\n        var _event$currentTarget = event.currentTarget,\n            clientHeight = _event$currentTarget.clientHeight,\n            clientWidth = _event$currentTarget.clientWidth,\n            scrollLeft = _event$currentTarget.scrollLeft,\n            scrollTop = _event$currentTarget.scrollTop,\n            scrollHeight = _event$currentTarget.scrollHeight,\n            scrollWidth = _event$currentTarget.scrollWidth;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollLeft === scrollLeft && prevState.scrollTop === scrollTop) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          }\n\n          var direction = _this.props.direction; // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n          // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n          // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n          // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n\n          var calculatedScrollLeft = scrollLeft;\n\n          if (direction === 'rtl') {\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                calculatedScrollLeft = -scrollLeft;\n                break;\n\n              case 'positive-descending':\n                calculatedScrollLeft = scrollWidth - clientWidth - scrollLeft;\n                break;\n            }\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          calculatedScrollLeft = Math.max(0, Math.min(calculatedScrollLeft, scrollWidth - clientWidth));\n          var calculatedScrollTop = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight));\n          return {\n            isScrolling: true,\n            horizontalScrollDirection: prevState.scrollLeft < scrollLeft ? 'forward' : 'backward',\n            scrollLeft: calculatedScrollLeft,\n            scrollTop: calculatedScrollTop,\n            verticalScrollDirection: prevState.scrollTop < scrollTop ? 'forward' : 'backward',\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._outerRefSetter = function (ref) {\n        var outerRef = _this.props.outerRef;\n        _this._outerRef = ref;\n\n        if (typeof outerRef === 'function') {\n          outerRef(ref);\n        } else if (outerRef != null && typeof outerRef === 'object' && outerRef.hasOwnProperty('current')) {\n          outerRef.current = ref;\n        }\n      };\n\n      _this._resetIsScrollingDebounced = function () {\n        if (_this._resetIsScrollingTimeoutId !== null) {\n          cancelTimeout(_this._resetIsScrollingTimeoutId);\n        }\n\n        _this._resetIsScrollingTimeoutId = requestTimeout(_this._resetIsScrolling, IS_SCROLLING_DEBOUNCE_INTERVAL);\n      };\n\n      _this._resetIsScrolling = function () {\n        _this._resetIsScrollingTimeoutId = null;\n\n        _this.setState({\n          isScrolling: false\n        }, function () {\n          // Clear style cache after state update has been committed.\n          // This way we don't break pure sCU for items that don't use isScrolling param.\n          _this._getItemStyleCache(-1);\n        });\n      };\n\n      return _this;\n    }\n\n    Grid.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      validateSharedProps(nextProps, prevState);\n      validateProps(nextProps);\n      return null;\n    };\n\n    var _proto = Grid.prototype;\n\n    _proto.scrollTo = function scrollTo(_ref3) {\n      var scrollLeft = _ref3.scrollLeft,\n          scrollTop = _ref3.scrollTop;\n\n      if (scrollLeft !== undefined) {\n        scrollLeft = Math.max(0, scrollLeft);\n      }\n\n      if (scrollTop !== undefined) {\n        scrollTop = Math.max(0, scrollTop);\n      }\n\n      this.setState(function (prevState) {\n        if (scrollLeft === undefined) {\n          scrollLeft = prevState.scrollLeft;\n        }\n\n        if (scrollTop === undefined) {\n          scrollTop = prevState.scrollTop;\n        }\n\n        if (prevState.scrollLeft === scrollLeft && prevState.scrollTop === scrollTop) {\n          return null;\n        }\n\n        return {\n          horizontalScrollDirection: prevState.scrollLeft < scrollLeft ? 'forward' : 'backward',\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          scrollUpdateWasRequested: true,\n          verticalScrollDirection: prevState.scrollTop < scrollTop ? 'forward' : 'backward'\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _proto.scrollToItem = function scrollToItem(_ref4) {\n      var _ref4$align = _ref4.align,\n          align = _ref4$align === void 0 ? 'auto' : _ref4$align,\n          columnIndex = _ref4.columnIndex,\n          rowIndex = _ref4.rowIndex;\n      var _this$props2 = this.props,\n          columnCount = _this$props2.columnCount,\n          height = _this$props2.height,\n          rowCount = _this$props2.rowCount,\n          width = _this$props2.width;\n      var _this$state = this.state,\n          scrollLeft = _this$state.scrollLeft,\n          scrollTop = _this$state.scrollTop;\n      var scrollbarSize = getScrollbarSize();\n\n      if (columnIndex !== undefined) {\n        columnIndex = Math.max(0, Math.min(columnIndex, columnCount - 1));\n      }\n\n      if (rowIndex !== undefined) {\n        rowIndex = Math.max(0, Math.min(rowIndex, rowCount - 1));\n      }\n\n      var estimatedTotalHeight = getEstimatedTotalHeight(this.props, this._instanceProps);\n      var estimatedTotalWidth = getEstimatedTotalWidth(this.props, this._instanceProps); // The scrollbar size should be considered when scrolling an item into view,\n      // to ensure it's fully visible.\n      // But we only need to account for its size when it's actually visible.\n\n      var horizontalScrollbarSize = estimatedTotalWidth > width ? scrollbarSize : 0;\n      var verticalScrollbarSize = estimatedTotalHeight > height ? scrollbarSize : 0;\n      this.scrollTo({\n        scrollLeft: columnIndex !== undefined ? getOffsetForColumnAndAlignment(this.props, columnIndex, align, scrollLeft, this._instanceProps, verticalScrollbarSize) : scrollLeft,\n        scrollTop: rowIndex !== undefined ? getOffsetForRowAndAlignment(this.props, rowIndex, align, scrollTop, this._instanceProps, horizontalScrollbarSize) : scrollTop\n      });\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this$props3 = this.props,\n          initialScrollLeft = _this$props3.initialScrollLeft,\n          initialScrollTop = _this$props3.initialScrollTop;\n\n      if (this._outerRef != null) {\n        var outerRef = this._outerRef;\n\n        if (typeof initialScrollLeft === 'number') {\n          outerRef.scrollLeft = initialScrollLeft;\n        }\n\n        if (typeof initialScrollTop === 'number') {\n          outerRef.scrollTop = initialScrollTop;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      var direction = this.props.direction;\n      var _this$state2 = this.state,\n          scrollLeft = _this$state2.scrollLeft,\n          scrollTop = _this$state2.scrollTop,\n          scrollUpdateWasRequested = _this$state2.scrollUpdateWasRequested;\n\n      if (scrollUpdateWasRequested && this._outerRef != null) {\n        // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n        // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n        // So we need to determine which browser behavior we're dealing with, and mimic it.\n        var outerRef = this._outerRef;\n\n        if (direction === 'rtl') {\n          switch (getRTLOffsetType()) {\n            case 'negative':\n              outerRef.scrollLeft = -scrollLeft;\n              break;\n\n            case 'positive-ascending':\n              outerRef.scrollLeft = scrollLeft;\n              break;\n\n            default:\n              var clientWidth = outerRef.clientWidth,\n                  scrollWidth = outerRef.scrollWidth;\n              outerRef.scrollLeft = scrollWidth - clientWidth - scrollLeft;\n              break;\n          }\n        } else {\n          outerRef.scrollLeft = Math.max(0, scrollLeft);\n        }\n\n        outerRef.scrollTop = Math.max(0, scrollTop);\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n    };\n\n    _proto.render = function render() {\n      var _this$props4 = this.props,\n          children = _this$props4.children,\n          className = _this$props4.className,\n          columnCount = _this$props4.columnCount,\n          direction = _this$props4.direction,\n          height = _this$props4.height,\n          innerRef = _this$props4.innerRef,\n          innerElementType = _this$props4.innerElementType,\n          innerTagName = _this$props4.innerTagName,\n          itemData = _this$props4.itemData,\n          _this$props4$itemKey = _this$props4.itemKey,\n          itemKey = _this$props4$itemKey === void 0 ? defaultItemKey : _this$props4$itemKey,\n          outerElementType = _this$props4.outerElementType,\n          outerTagName = _this$props4.outerTagName,\n          rowCount = _this$props4.rowCount,\n          style = _this$props4.style,\n          useIsScrolling = _this$props4.useIsScrolling,\n          width = _this$props4.width;\n      var isScrolling = this.state.isScrolling;\n\n      var _this$_getHorizontalR = this._getHorizontalRangeToRender(),\n          columnStartIndex = _this$_getHorizontalR[0],\n          columnStopIndex = _this$_getHorizontalR[1];\n\n      var _this$_getVerticalRan = this._getVerticalRangeToRender(),\n          rowStartIndex = _this$_getVerticalRan[0],\n          rowStopIndex = _this$_getVerticalRan[1];\n\n      var items = [];\n\n      if (columnCount > 0 && rowCount) {\n        for (var _rowIndex = rowStartIndex; _rowIndex <= rowStopIndex; _rowIndex++) {\n          for (var _columnIndex = columnStartIndex; _columnIndex <= columnStopIndex; _columnIndex++) {\n            items.push(createElement(children, {\n              columnIndex: _columnIndex,\n              data: itemData,\n              isScrolling: useIsScrolling ? isScrolling : undefined,\n              key: itemKey({\n                columnIndex: _columnIndex,\n                data: itemData,\n                rowIndex: _rowIndex\n              }),\n              rowIndex: _rowIndex,\n              style: this._getItemStyle(_rowIndex, _columnIndex)\n            }));\n          }\n        }\n      } // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n\n\n      var estimatedTotalHeight = getEstimatedTotalHeight(this.props, this._instanceProps);\n      var estimatedTotalWidth = getEstimatedTotalWidth(this.props, this._instanceProps);\n      return createElement(outerElementType || outerTagName || 'div', {\n        className: className,\n        onScroll: this._onScroll,\n        ref: this._outerRefSetter,\n        style: _extends({\n          position: 'relative',\n          height: height,\n          width: width,\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform',\n          direction: direction\n        }, style)\n      }, createElement(innerElementType || innerTagName || 'div', {\n        children: items,\n        ref: innerRef,\n        style: {\n          height: estimatedTotalHeight,\n          pointerEvents: isScrolling ? 'none' : undefined,\n          width: estimatedTotalWidth\n        }\n      }));\n    };\n\n    _proto._callPropsCallbacks = function _callPropsCallbacks() {\n      var _this$props5 = this.props,\n          columnCount = _this$props5.columnCount,\n          onItemsRendered = _this$props5.onItemsRendered,\n          onScroll = _this$props5.onScroll,\n          rowCount = _this$props5.rowCount;\n\n      if (typeof onItemsRendered === 'function') {\n        if (columnCount > 0 && rowCount > 0) {\n          var _this$_getHorizontalR2 = this._getHorizontalRangeToRender(),\n              _overscanColumnStartIndex = _this$_getHorizontalR2[0],\n              _overscanColumnStopIndex = _this$_getHorizontalR2[1],\n              _visibleColumnStartIndex = _this$_getHorizontalR2[2],\n              _visibleColumnStopIndex = _this$_getHorizontalR2[3];\n\n          var _this$_getVerticalRan2 = this._getVerticalRangeToRender(),\n              _overscanRowStartIndex = _this$_getVerticalRan2[0],\n              _overscanRowStopIndex = _this$_getVerticalRan2[1],\n              _visibleRowStartIndex = _this$_getVerticalRan2[2],\n              _visibleRowStopIndex = _this$_getVerticalRan2[3];\n\n          this._callOnItemsRendered(_overscanColumnStartIndex, _overscanColumnStopIndex, _overscanRowStartIndex, _overscanRowStopIndex, _visibleColumnStartIndex, _visibleColumnStopIndex, _visibleRowStartIndex, _visibleRowStopIndex);\n        }\n      }\n\n      if (typeof onScroll === 'function') {\n        var _this$state3 = this.state,\n            _horizontalScrollDirection = _this$state3.horizontalScrollDirection,\n            _scrollLeft = _this$state3.scrollLeft,\n            _scrollTop = _this$state3.scrollTop,\n            _scrollUpdateWasRequested = _this$state3.scrollUpdateWasRequested,\n            _verticalScrollDirection = _this$state3.verticalScrollDirection;\n\n        this._callOnScroll(_scrollLeft, _scrollTop, _horizontalScrollDirection, _verticalScrollDirection, _scrollUpdateWasRequested);\n      }\n    } // Lazily create and cache item styles while scrolling,\n    // So that pure component sCU will prevent re-renders.\n    // We maintain this cache, and pass a style prop rather than index,\n    // So that List can clear cached styles and force item re-render if necessary.\n    ;\n\n    _proto._getHorizontalRangeToRender = function _getHorizontalRangeToRender() {\n      var _this$props6 = this.props,\n          columnCount = _this$props6.columnCount,\n          overscanColumnCount = _this$props6.overscanColumnCount,\n          overscanColumnsCount = _this$props6.overscanColumnsCount,\n          overscanCount = _this$props6.overscanCount,\n          rowCount = _this$props6.rowCount;\n      var _this$state4 = this.state,\n          horizontalScrollDirection = _this$state4.horizontalScrollDirection,\n          isScrolling = _this$state4.isScrolling,\n          scrollLeft = _this$state4.scrollLeft;\n      var overscanCountResolved = overscanColumnCount || overscanColumnsCount || overscanCount || 1;\n\n      if (columnCount === 0 || rowCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getColumnStartIndexForOffset(this.props, scrollLeft, this._instanceProps);\n      var stopIndex = getColumnStopIndexForStartIndex(this.props, startIndex, scrollLeft, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || horizontalScrollDirection === 'backward' ? Math.max(1, overscanCountResolved) : 1;\n      var overscanForward = !isScrolling || horizontalScrollDirection === 'forward' ? Math.max(1, overscanCountResolved) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(columnCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    _proto._getVerticalRangeToRender = function _getVerticalRangeToRender() {\n      var _this$props7 = this.props,\n          columnCount = _this$props7.columnCount,\n          overscanCount = _this$props7.overscanCount,\n          overscanRowCount = _this$props7.overscanRowCount,\n          overscanRowsCount = _this$props7.overscanRowsCount,\n          rowCount = _this$props7.rowCount;\n      var _this$state5 = this.state,\n          isScrolling = _this$state5.isScrolling,\n          verticalScrollDirection = _this$state5.verticalScrollDirection,\n          scrollTop = _this$state5.scrollTop;\n      var overscanCountResolved = overscanRowCount || overscanRowsCount || overscanCount || 1;\n\n      if (columnCount === 0 || rowCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getRowStartIndexForOffset(this.props, scrollTop, this._instanceProps);\n      var stopIndex = getRowStopIndexForStartIndex(this.props, startIndex, scrollTop, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || verticalScrollDirection === 'backward' ? Math.max(1, overscanCountResolved) : 1;\n      var overscanForward = !isScrolling || verticalScrollDirection === 'forward' ? Math.max(1, overscanCountResolved) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(rowCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    return Grid;\n  }(PureComponent), _class.defaultProps = {\n    direction: 'ltr',\n    itemData: undefined,\n    useIsScrolling: false\n  }, _class;\n}\n\nvar validateSharedProps = function validateSharedProps(_ref5, _ref6) {\n  var children = _ref5.children,\n      direction = _ref5.direction,\n      height = _ref5.height,\n      innerTagName = _ref5.innerTagName,\n      outerTagName = _ref5.outerTagName,\n      overscanColumnsCount = _ref5.overscanColumnsCount,\n      overscanCount = _ref5.overscanCount,\n      overscanRowsCount = _ref5.overscanRowsCount,\n      width = _ref5.width;\n  var instance = _ref6.instance;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof overscanCount === 'number') {\n      if (devWarningsOverscanCount && !devWarningsOverscanCount.has(instance)) {\n        devWarningsOverscanCount.add(instance);\n        console.warn('The overscanCount prop has been deprecated. ' + 'Please use the overscanColumnCount and overscanRowCount props instead.');\n      }\n    }\n\n    if (typeof overscanColumnsCount === 'number' || typeof overscanRowsCount === 'number') {\n      if (devWarningsOverscanRowsColumnsCount && !devWarningsOverscanRowsColumnsCount.has(instance)) {\n        devWarningsOverscanRowsColumnsCount.add(instance);\n        console.warn('The overscanColumnsCount and overscanRowsCount props have been deprecated. ' + 'Please use the overscanColumnCount and overscanRowCount props instead.');\n      }\n    }\n\n    if (innerTagName != null || outerTagName != null) {\n      if (devWarningsTagName && !devWarningsTagName.has(instance)) {\n        devWarningsTagName.add(instance);\n        console.warn('The innerTagName and outerTagName props have been deprecated. ' + 'Please use the innerElementType and outerElementType props instead.');\n      }\n    }\n\n    if (children == null) {\n      throw Error('An invalid \"children\" prop has been specified. ' + 'Value should be a React component. ' + (\"\\\"\" + (children === null ? 'null' : typeof children) + \"\\\" was specified.\"));\n    }\n\n    switch (direction) {\n      case 'ltr':\n      case 'rtl':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"direction\" prop has been specified. ' + 'Value should be either \"ltr\" or \"rtl\". ' + (\"\\\"\" + direction + \"\\\" was specified.\"));\n    }\n\n    if (typeof width !== 'number') {\n      throw Error('An invalid \"width\" prop has been specified. ' + 'Grids must specify a number for width. ' + (\"\\\"\" + (width === null ? 'null' : typeof width) + \"\\\" was specified.\"));\n    }\n\n    if (typeof height !== 'number') {\n      throw Error('An invalid \"height\" prop has been specified. ' + 'Grids must specify a number for height. ' + (\"\\\"\" + (height === null ? 'null' : typeof height) + \"\\\" was specified.\"));\n    }\n  }\n};\n\nvar DEFAULT_ESTIMATED_ITEM_SIZE = 50;\n\nvar getEstimatedTotalHeight = function getEstimatedTotalHeight(_ref, _ref2) {\n  var rowCount = _ref.rowCount;\n  var rowMetadataMap = _ref2.rowMetadataMap,\n      estimatedRowHeight = _ref2.estimatedRowHeight,\n      lastMeasuredRowIndex = _ref2.lastMeasuredRowIndex;\n  var totalSizeOfMeasuredRows = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredRowIndex >= rowCount) {\n    lastMeasuredRowIndex = rowCount - 1;\n  }\n\n  if (lastMeasuredRowIndex >= 0) {\n    var itemMetadata = rowMetadataMap[lastMeasuredRowIndex];\n    totalSizeOfMeasuredRows = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = rowCount - lastMeasuredRowIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedRowHeight;\n  return totalSizeOfMeasuredRows + totalSizeOfUnmeasuredItems;\n};\n\nvar getEstimatedTotalWidth = function getEstimatedTotalWidth(_ref3, _ref4) {\n  var columnCount = _ref3.columnCount;\n  var columnMetadataMap = _ref4.columnMetadataMap,\n      estimatedColumnWidth = _ref4.estimatedColumnWidth,\n      lastMeasuredColumnIndex = _ref4.lastMeasuredColumnIndex;\n  var totalSizeOfMeasuredRows = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredColumnIndex >= columnCount) {\n    lastMeasuredColumnIndex = columnCount - 1;\n  }\n\n  if (lastMeasuredColumnIndex >= 0) {\n    var itemMetadata = columnMetadataMap[lastMeasuredColumnIndex];\n    totalSizeOfMeasuredRows = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = columnCount - lastMeasuredColumnIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedColumnWidth;\n  return totalSizeOfMeasuredRows + totalSizeOfUnmeasuredItems;\n};\n\nvar getItemMetadata = function getItemMetadata(itemType, props, index, instanceProps) {\n  var itemMetadataMap, itemSize, lastMeasuredIndex;\n\n  if (itemType === 'column') {\n    itemMetadataMap = instanceProps.columnMetadataMap;\n    itemSize = props.columnWidth;\n    lastMeasuredIndex = instanceProps.lastMeasuredColumnIndex;\n  } else {\n    itemMetadataMap = instanceProps.rowMetadataMap;\n    itemSize = props.rowHeight;\n    lastMeasuredIndex = instanceProps.lastMeasuredRowIndex;\n  }\n\n  if (index > lastMeasuredIndex) {\n    var offset = 0;\n\n    if (lastMeasuredIndex >= 0) {\n      var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n      offset = itemMetadata.offset + itemMetadata.size;\n    }\n\n    for (var i = lastMeasuredIndex + 1; i <= index; i++) {\n      var size = itemSize(i);\n      itemMetadataMap[i] = {\n        offset: offset,\n        size: size\n      };\n      offset += size;\n    }\n\n    if (itemType === 'column') {\n      instanceProps.lastMeasuredColumnIndex = index;\n    } else {\n      instanceProps.lastMeasuredRowIndex = index;\n    }\n  }\n\n  return itemMetadataMap[index];\n};\n\nvar findNearestItem = function findNearestItem(itemType, props, instanceProps, offset) {\n  var itemMetadataMap, lastMeasuredIndex;\n\n  if (itemType === 'column') {\n    itemMetadataMap = instanceProps.columnMetadataMap;\n    lastMeasuredIndex = instanceProps.lastMeasuredColumnIndex;\n  } else {\n    itemMetadataMap = instanceProps.rowMetadataMap;\n    lastMeasuredIndex = instanceProps.lastMeasuredRowIndex;\n  }\n\n  var lastMeasuredItemOffset = lastMeasuredIndex > 0 ? itemMetadataMap[lastMeasuredIndex].offset : 0;\n\n  if (lastMeasuredItemOffset >= offset) {\n    // If we've already measured items within this range just use a binary search as it's faster.\n    return findNearestItemBinarySearch(itemType, props, instanceProps, lastMeasuredIndex, 0, offset);\n  } else {\n    // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n    // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\n    // The overall complexity for this approach is O(log n).\n    return findNearestItemExponentialSearch(itemType, props, instanceProps, Math.max(0, lastMeasuredIndex), offset);\n  }\n};\n\nvar findNearestItemBinarySearch = function findNearestItemBinarySearch(itemType, props, instanceProps, high, low, offset) {\n  while (low <= high) {\n    var middle = low + Math.floor((high - low) / 2);\n    var currentOffset = getItemMetadata(itemType, props, middle, instanceProps).offset;\n\n    if (currentOffset === offset) {\n      return middle;\n    } else if (currentOffset < offset) {\n      low = middle + 1;\n    } else if (currentOffset > offset) {\n      high = middle - 1;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nvar findNearestItemExponentialSearch = function findNearestItemExponentialSearch(itemType, props, instanceProps, index, offset) {\n  var itemCount = itemType === 'column' ? props.columnCount : props.rowCount;\n  var interval = 1;\n\n  while (index < itemCount && getItemMetadata(itemType, props, index, instanceProps).offset < offset) {\n    index += interval;\n    interval *= 2;\n  }\n\n  return findNearestItemBinarySearch(itemType, props, instanceProps, Math.min(index, itemCount - 1), Math.floor(index / 2), offset);\n};\n\nvar getOffsetForIndexAndAlignment = function getOffsetForIndexAndAlignment(itemType, props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n  var size = itemType === 'column' ? props.width : props.height;\n  var itemMetadata = getItemMetadata(itemType, props, index, instanceProps); // Get estimated total size after ItemMetadata is computed,\n  // To ensure it reflects actual measurements instead of just estimates.\n\n  var estimatedTotalSize = itemType === 'column' ? getEstimatedTotalWidth(props, instanceProps) : getEstimatedTotalHeight(props, instanceProps);\n  var maxOffset = Math.max(0, Math.min(estimatedTotalSize - size, itemMetadata.offset));\n  var minOffset = Math.max(0, itemMetadata.offset - size + scrollbarSize + itemMetadata.size);\n\n  if (align === 'smart') {\n    if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n      align = 'auto';\n    } else {\n      align = 'center';\n    }\n  }\n\n  switch (align) {\n    case 'start':\n      return maxOffset;\n\n    case 'end':\n      return minOffset;\n\n    case 'center':\n      return Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n    case 'auto':\n    default:\n      if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n        return scrollOffset;\n      } else if (minOffset > maxOffset) {\n        // Because we only take into account the scrollbar size when calculating minOffset\n        // this value can be larger than maxOffset when at the end of the list\n        return minOffset;\n      } else if (scrollOffset < minOffset) {\n        return minOffset;\n      } else {\n        return maxOffset;\n      }\n\n  }\n};\n\nvar VariableSizeGrid = /*#__PURE__*/createGridComponent({\n  getColumnOffset: function getColumnOffset(props, index, instanceProps) {\n    return getItemMetadata('column', props, index, instanceProps).offset;\n  },\n  getColumnStartIndexForOffset: function getColumnStartIndexForOffset(props, scrollLeft, instanceProps) {\n    return findNearestItem('column', props, instanceProps, scrollLeft);\n  },\n  getColumnStopIndexForStartIndex: function getColumnStopIndexForStartIndex(props, startIndex, scrollLeft, instanceProps) {\n    var columnCount = props.columnCount,\n        width = props.width;\n    var itemMetadata = getItemMetadata('column', props, startIndex, instanceProps);\n    var maxOffset = scrollLeft + width;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < columnCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata('column', props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  getColumnWidth: function getColumnWidth(props, index, instanceProps) {\n    return instanceProps.columnMetadataMap[index].size;\n  },\n  getEstimatedTotalHeight: getEstimatedTotalHeight,\n  getEstimatedTotalWidth: getEstimatedTotalWidth,\n  getOffsetForColumnAndAlignment: function getOffsetForColumnAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    return getOffsetForIndexAndAlignment('column', props, index, align, scrollOffset, instanceProps, scrollbarSize);\n  },\n  getOffsetForRowAndAlignment: function getOffsetForRowAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    return getOffsetForIndexAndAlignment('row', props, index, align, scrollOffset, instanceProps, scrollbarSize);\n  },\n  getRowOffset: function getRowOffset(props, index, instanceProps) {\n    return getItemMetadata('row', props, index, instanceProps).offset;\n  },\n  getRowHeight: function getRowHeight(props, index, instanceProps) {\n    return instanceProps.rowMetadataMap[index].size;\n  },\n  getRowStartIndexForOffset: function getRowStartIndexForOffset(props, scrollTop, instanceProps) {\n    return findNearestItem('row', props, instanceProps, scrollTop);\n  },\n  getRowStopIndexForStartIndex: function getRowStopIndexForStartIndex(props, startIndex, scrollTop, instanceProps) {\n    var rowCount = props.rowCount,\n        height = props.height;\n    var itemMetadata = getItemMetadata('row', props, startIndex, instanceProps);\n    var maxOffset = scrollTop + height;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < rowCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata('row', props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  initInstanceProps: function initInstanceProps(props, instance) {\n    var _ref5 = props,\n        estimatedColumnWidth = _ref5.estimatedColumnWidth,\n        estimatedRowHeight = _ref5.estimatedRowHeight;\n    var instanceProps = {\n      columnMetadataMap: {},\n      estimatedColumnWidth: estimatedColumnWidth || DEFAULT_ESTIMATED_ITEM_SIZE,\n      estimatedRowHeight: estimatedRowHeight || DEFAULT_ESTIMATED_ITEM_SIZE,\n      lastMeasuredColumnIndex: -1,\n      lastMeasuredRowIndex: -1,\n      rowMetadataMap: {}\n    };\n\n    instance.resetAfterColumnIndex = function (columnIndex, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instance.resetAfterIndices({\n        columnIndex: columnIndex,\n        shouldForceUpdate: shouldForceUpdate\n      });\n    };\n\n    instance.resetAfterRowIndex = function (rowIndex, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instance.resetAfterIndices({\n        rowIndex: rowIndex,\n        shouldForceUpdate: shouldForceUpdate\n      });\n    };\n\n    instance.resetAfterIndices = function (_ref6) {\n      var columnIndex = _ref6.columnIndex,\n          rowIndex = _ref6.rowIndex,\n          _ref6$shouldForceUpda = _ref6.shouldForceUpdate,\n          shouldForceUpdate = _ref6$shouldForceUpda === void 0 ? true : _ref6$shouldForceUpda;\n\n      if (typeof columnIndex === 'number') {\n        instanceProps.lastMeasuredColumnIndex = Math.min(instanceProps.lastMeasuredColumnIndex, columnIndex - 1);\n      }\n\n      if (typeof rowIndex === 'number') {\n        instanceProps.lastMeasuredRowIndex = Math.min(instanceProps.lastMeasuredRowIndex, rowIndex - 1);\n      } // We could potentially optimize further by only evicting styles after this index,\n      // But since styles are only cached while scrolling is in progress-\n      // It seems an unnecessary optimization.\n      // It's unlikely that resetAfterIndex() will be called while a user is scrolling.\n\n\n      instance._getItemStyleCache(-1);\n\n      if (shouldForceUpdate) {\n        instance.forceUpdate();\n      }\n    };\n\n    return instanceProps;\n  },\n  shouldResetStyleCacheOnItemSizeChange: false,\n  validateProps: function validateProps(_ref7) {\n    var columnWidth = _ref7.columnWidth,\n        rowHeight = _ref7.rowHeight;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof columnWidth !== 'function') {\n        throw Error('An invalid \"columnWidth\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (columnWidth === null ? 'null' : typeof columnWidth) + \"\\\" was specified.\"));\n      } else if (typeof rowHeight !== 'function') {\n        throw Error('An invalid \"rowHeight\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (rowHeight === null ? 'null' : typeof rowHeight) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar IS_SCROLLING_DEBOUNCE_INTERVAL$1 = 150;\n\nvar defaultItemKey$1 = function defaultItemKey(index, data) {\n  return index;\n}; // In DEV mode, this Set helps us only log a warning once per component instance.\n// This avoids spamming the console every time a render happens.\n\n\nvar devWarningsDirection = null;\nvar devWarningsTagName$1 = null;\n\nif (process.env.NODE_ENV !== 'production') {\n  if (typeof window !== 'undefined' && typeof window.WeakSet !== 'undefined') {\n    devWarningsDirection = /*#__PURE__*/new WeakSet();\n    devWarningsTagName$1 = /*#__PURE__*/new WeakSet();\n  }\n}\n\nfunction createListComponent(_ref) {\n  var _class;\n\n  var getItemOffset = _ref.getItemOffset,\n      getEstimatedTotalSize = _ref.getEstimatedTotalSize,\n      getItemSize = _ref.getItemSize,\n      getOffsetForIndexAndAlignment = _ref.getOffsetForIndexAndAlignment,\n      getStartIndexForOffset = _ref.getStartIndexForOffset,\n      getStopIndexForStartIndex = _ref.getStopIndexForStartIndex,\n      initInstanceProps = _ref.initInstanceProps,\n      shouldResetStyleCacheOnItemSizeChange = _ref.shouldResetStyleCacheOnItemSizeChange,\n      validateProps = _ref.validateProps;\n  return _class = /*#__PURE__*/function (_PureComponent) {\n    _inheritsLoose(List, _PureComponent);\n\n    // Always use explicit constructor for React components.\n    // It produces less code after transpilation. (#26)\n    // eslint-disable-next-line no-useless-constructor\n    function List(props) {\n      var _this;\n\n      _this = _PureComponent.call(this, props) || this;\n      _this._instanceProps = initInstanceProps(_this.props, _assertThisInitialized(_this));\n      _this._outerRef = void 0;\n      _this._resetIsScrollingTimeoutId = null;\n      _this.state = {\n        instance: _assertThisInitialized(_this),\n        isScrolling: false,\n        scrollDirection: 'forward',\n        scrollOffset: typeof _this.props.initialScrollOffset === 'number' ? _this.props.initialScrollOffset : 0,\n        scrollUpdateWasRequested: false\n      };\n      _this._callOnItemsRendered = void 0;\n      _this._callOnItemsRendered = memoizeOne(function (overscanStartIndex, overscanStopIndex, visibleStartIndex, visibleStopIndex) {\n        return _this.props.onItemsRendered({\n          overscanStartIndex: overscanStartIndex,\n          overscanStopIndex: overscanStopIndex,\n          visibleStartIndex: visibleStartIndex,\n          visibleStopIndex: visibleStopIndex\n        });\n      });\n      _this._callOnScroll = void 0;\n      _this._callOnScroll = memoizeOne(function (scrollDirection, scrollOffset, scrollUpdateWasRequested) {\n        return _this.props.onScroll({\n          scrollDirection: scrollDirection,\n          scrollOffset: scrollOffset,\n          scrollUpdateWasRequested: scrollUpdateWasRequested\n        });\n      });\n      _this._getItemStyle = void 0;\n\n      _this._getItemStyle = function (index) {\n        var _this$props = _this.props,\n            direction = _this$props.direction,\n            itemSize = _this$props.itemSize,\n            layout = _this$props.layout;\n\n        var itemStyleCache = _this._getItemStyleCache(shouldResetStyleCacheOnItemSizeChange && itemSize, shouldResetStyleCacheOnItemSizeChange && layout, shouldResetStyleCacheOnItemSizeChange && direction);\n\n        var style;\n\n        if (itemStyleCache.hasOwnProperty(index)) {\n          style = itemStyleCache[index];\n        } else {\n          var _offset = getItemOffset(_this.props, index, _this._instanceProps);\n\n          var size = getItemSize(_this.props, index, _this._instanceProps); // TODO Deprecate direction \"horizontal\"\n\n          var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n          var isRtl = direction === 'rtl';\n          var offsetHorizontal = isHorizontal ? _offset : 0;\n          itemStyleCache[index] = style = {\n            position: 'absolute',\n            left: isRtl ? undefined : offsetHorizontal,\n            right: isRtl ? offsetHorizontal : undefined,\n            top: !isHorizontal ? _offset : 0,\n            height: !isHorizontal ? size : '100%',\n            width: isHorizontal ? size : '100%'\n          };\n        }\n\n        return style;\n      };\n\n      _this._getItemStyleCache = void 0;\n      _this._getItemStyleCache = memoizeOne(function (_, __, ___) {\n        return {};\n      });\n\n      _this._onScrollHorizontal = function (event) {\n        var _event$currentTarget = event.currentTarget,\n            clientWidth = _event$currentTarget.clientWidth,\n            scrollLeft = _event$currentTarget.scrollLeft,\n            scrollWidth = _event$currentTarget.scrollWidth;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollOffset === scrollLeft) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          }\n\n          var direction = _this.props.direction;\n          var scrollOffset = scrollLeft;\n\n          if (direction === 'rtl') {\n            // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n            // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n            // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n            // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                scrollOffset = -scrollLeft;\n                break;\n\n              case 'positive-descending':\n                scrollOffset = scrollWidth - clientWidth - scrollLeft;\n                break;\n            }\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          scrollOffset = Math.max(0, Math.min(scrollOffset, scrollWidth - clientWidth));\n          return {\n            isScrolling: true,\n            scrollDirection: prevState.scrollOffset < scrollLeft ? 'forward' : 'backward',\n            scrollOffset: scrollOffset,\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._onScrollVertical = function (event) {\n        var _event$currentTarget2 = event.currentTarget,\n            clientHeight = _event$currentTarget2.clientHeight,\n            scrollHeight = _event$currentTarget2.scrollHeight,\n            scrollTop = _event$currentTarget2.scrollTop;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollOffset === scrollTop) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          var scrollOffset = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight));\n          return {\n            isScrolling: true,\n            scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n            scrollOffset: scrollOffset,\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._outerRefSetter = function (ref) {\n        var outerRef = _this.props.outerRef;\n        _this._outerRef = ref;\n\n        if (typeof outerRef === 'function') {\n          outerRef(ref);\n        } else if (outerRef != null && typeof outerRef === 'object' && outerRef.hasOwnProperty('current')) {\n          outerRef.current = ref;\n        }\n      };\n\n      _this._resetIsScrollingDebounced = function () {\n        if (_this._resetIsScrollingTimeoutId !== null) {\n          cancelTimeout(_this._resetIsScrollingTimeoutId);\n        }\n\n        _this._resetIsScrollingTimeoutId = requestTimeout(_this._resetIsScrolling, IS_SCROLLING_DEBOUNCE_INTERVAL$1);\n      };\n\n      _this._resetIsScrolling = function () {\n        _this._resetIsScrollingTimeoutId = null;\n\n        _this.setState({\n          isScrolling: false\n        }, function () {\n          // Clear style cache after state update has been committed.\n          // This way we don't break pure sCU for items that don't use isScrolling param.\n          _this._getItemStyleCache(-1, null);\n        });\n      };\n\n      return _this;\n    }\n\n    List.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      validateSharedProps$1(nextProps, prevState);\n      validateProps(nextProps);\n      return null;\n    };\n\n    var _proto = List.prototype;\n\n    _proto.scrollTo = function scrollTo(scrollOffset) {\n      scrollOffset = Math.max(0, scrollOffset);\n      this.setState(function (prevState) {\n        if (prevState.scrollOffset === scrollOffset) {\n          return null;\n        }\n\n        return {\n          scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n          scrollOffset: scrollOffset,\n          scrollUpdateWasRequested: true\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _proto.scrollToItem = function scrollToItem(index, align) {\n      if (align === void 0) {\n        align = 'auto';\n      }\n\n      var _this$props2 = this.props,\n          itemCount = _this$props2.itemCount,\n          layout = _this$props2.layout;\n      var scrollOffset = this.state.scrollOffset;\n      index = Math.max(0, Math.min(index, itemCount - 1)); // The scrollbar size should be considered when scrolling an item into view, to ensure it's fully visible.\n      // But we only need to account for its size when it's actually visible.\n      // This is an edge case for lists; normally they only scroll in the dominant direction.\n\n      var scrollbarSize = 0;\n\n      if (this._outerRef) {\n        var outerRef = this._outerRef;\n\n        if (layout === 'vertical') {\n          scrollbarSize = outerRef.scrollWidth > outerRef.clientWidth ? getScrollbarSize() : 0;\n        } else {\n          scrollbarSize = outerRef.scrollHeight > outerRef.clientHeight ? getScrollbarSize() : 0;\n        }\n      }\n\n      this.scrollTo(getOffsetForIndexAndAlignment(this.props, index, align, scrollOffset, this._instanceProps, scrollbarSize));\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this$props3 = this.props,\n          direction = _this$props3.direction,\n          initialScrollOffset = _this$props3.initialScrollOffset,\n          layout = _this$props3.layout;\n\n      if (typeof initialScrollOffset === 'number' && this._outerRef != null) {\n        var outerRef = this._outerRef; // TODO Deprecate direction \"horizontal\"\n\n        if (direction === 'horizontal' || layout === 'horizontal') {\n          outerRef.scrollLeft = initialScrollOffset;\n        } else {\n          outerRef.scrollTop = initialScrollOffset;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      var _this$props4 = this.props,\n          direction = _this$props4.direction,\n          layout = _this$props4.layout;\n      var _this$state = this.state,\n          scrollOffset = _this$state.scrollOffset,\n          scrollUpdateWasRequested = _this$state.scrollUpdateWasRequested;\n\n      if (scrollUpdateWasRequested && this._outerRef != null) {\n        var outerRef = this._outerRef; // TODO Deprecate direction \"horizontal\"\n\n        if (direction === 'horizontal' || layout === 'horizontal') {\n          if (direction === 'rtl') {\n            // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n            // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n            // So we need to determine which browser behavior we're dealing with, and mimic it.\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                outerRef.scrollLeft = -scrollOffset;\n                break;\n\n              case 'positive-ascending':\n                outerRef.scrollLeft = scrollOffset;\n                break;\n\n              default:\n                var clientWidth = outerRef.clientWidth,\n                    scrollWidth = outerRef.scrollWidth;\n                outerRef.scrollLeft = scrollWidth - clientWidth - scrollOffset;\n                break;\n            }\n          } else {\n            outerRef.scrollLeft = scrollOffset;\n          }\n        } else {\n          outerRef.scrollTop = scrollOffset;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n    };\n\n    _proto.render = function render() {\n      var _this$props5 = this.props,\n          children = _this$props5.children,\n          className = _this$props5.className,\n          direction = _this$props5.direction,\n          height = _this$props5.height,\n          innerRef = _this$props5.innerRef,\n          innerElementType = _this$props5.innerElementType,\n          innerTagName = _this$props5.innerTagName,\n          itemCount = _this$props5.itemCount,\n          itemData = _this$props5.itemData,\n          _this$props5$itemKey = _this$props5.itemKey,\n          itemKey = _this$props5$itemKey === void 0 ? defaultItemKey$1 : _this$props5$itemKey,\n          layout = _this$props5.layout,\n          outerElementType = _this$props5.outerElementType,\n          outerTagName = _this$props5.outerTagName,\n          style = _this$props5.style,\n          useIsScrolling = _this$props5.useIsScrolling,\n          width = _this$props5.width;\n      var isScrolling = this.state.isScrolling; // TODO Deprecate direction \"horizontal\"\n\n      var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n      var onScroll = isHorizontal ? this._onScrollHorizontal : this._onScrollVertical;\n\n      var _this$_getRangeToRend = this._getRangeToRender(),\n          startIndex = _this$_getRangeToRend[0],\n          stopIndex = _this$_getRangeToRend[1];\n\n      var items = [];\n\n      if (itemCount > 0) {\n        for (var _index = startIndex; _index <= stopIndex; _index++) {\n          items.push(createElement(children, {\n            data: itemData,\n            key: itemKey(_index, itemData),\n            index: _index,\n            isScrolling: useIsScrolling ? isScrolling : undefined,\n            style: this._getItemStyle(_index)\n          }));\n        }\n      } // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n\n\n      var estimatedTotalSize = getEstimatedTotalSize(this.props, this._instanceProps);\n      return createElement(outerElementType || outerTagName || 'div', {\n        className: className,\n        onScroll: onScroll,\n        ref: this._outerRefSetter,\n        style: _extends({\n          position: 'relative',\n          height: height,\n          width: width,\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform',\n          direction: direction\n        }, style)\n      }, createElement(innerElementType || innerTagName || 'div', {\n        children: items,\n        ref: innerRef,\n        style: {\n          height: isHorizontal ? '100%' : estimatedTotalSize,\n          pointerEvents: isScrolling ? 'none' : undefined,\n          width: isHorizontal ? estimatedTotalSize : '100%'\n        }\n      }));\n    };\n\n    _proto._callPropsCallbacks = function _callPropsCallbacks() {\n      if (typeof this.props.onItemsRendered === 'function') {\n        var itemCount = this.props.itemCount;\n\n        if (itemCount > 0) {\n          var _this$_getRangeToRend2 = this._getRangeToRender(),\n              _overscanStartIndex = _this$_getRangeToRend2[0],\n              _overscanStopIndex = _this$_getRangeToRend2[1],\n              _visibleStartIndex = _this$_getRangeToRend2[2],\n              _visibleStopIndex = _this$_getRangeToRend2[3];\n\n          this._callOnItemsRendered(_overscanStartIndex, _overscanStopIndex, _visibleStartIndex, _visibleStopIndex);\n        }\n      }\n\n      if (typeof this.props.onScroll === 'function') {\n        var _this$state2 = this.state,\n            _scrollDirection = _this$state2.scrollDirection,\n            _scrollOffset = _this$state2.scrollOffset,\n            _scrollUpdateWasRequested = _this$state2.scrollUpdateWasRequested;\n\n        this._callOnScroll(_scrollDirection, _scrollOffset, _scrollUpdateWasRequested);\n      }\n    } // Lazily create and cache item styles while scrolling,\n    // So that pure component sCU will prevent re-renders.\n    // We maintain this cache, and pass a style prop rather than index,\n    // So that List can clear cached styles and force item re-render if necessary.\n    ;\n\n    _proto._getRangeToRender = function _getRangeToRender() {\n      var _this$props6 = this.props,\n          itemCount = _this$props6.itemCount,\n          overscanCount = _this$props6.overscanCount;\n      var _this$state3 = this.state,\n          isScrolling = _this$state3.isScrolling,\n          scrollDirection = _this$state3.scrollDirection,\n          scrollOffset = _this$state3.scrollOffset;\n\n      if (itemCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getStartIndexForOffset(this.props, scrollOffset, this._instanceProps);\n      var stopIndex = getStopIndexForStartIndex(this.props, startIndex, scrollOffset, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || scrollDirection === 'backward' ? Math.max(1, overscanCount) : 1;\n      var overscanForward = !isScrolling || scrollDirection === 'forward' ? Math.max(1, overscanCount) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(itemCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    return List;\n  }(PureComponent), _class.defaultProps = {\n    direction: 'ltr',\n    itemData: undefined,\n    layout: 'vertical',\n    overscanCount: 2,\n    useIsScrolling: false\n  }, _class;\n} // NOTE: I considered further wrapping individual items with a pure ListItem component.\n// This would avoid ever calling the render function for the same index more than once,\n// But it would also add the overhead of a lot of components/fibers.\n// I assume people already do this (render function returning a class component),\n// So my doing it would just unnecessarily double the wrappers.\n\nvar validateSharedProps$1 = function validateSharedProps(_ref2, _ref3) {\n  var children = _ref2.children,\n      direction = _ref2.direction,\n      height = _ref2.height,\n      layout = _ref2.layout,\n      innerTagName = _ref2.innerTagName,\n      outerTagName = _ref2.outerTagName,\n      width = _ref2.width;\n  var instance = _ref3.instance;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (innerTagName != null || outerTagName != null) {\n      if (devWarningsTagName$1 && !devWarningsTagName$1.has(instance)) {\n        devWarningsTagName$1.add(instance);\n        console.warn('The innerTagName and outerTagName props have been deprecated. ' + 'Please use the innerElementType and outerElementType props instead.');\n      }\n    } // TODO Deprecate direction \"horizontal\"\n\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n\n    switch (direction) {\n      case 'horizontal':\n      case 'vertical':\n        if (devWarningsDirection && !devWarningsDirection.has(instance)) {\n          devWarningsDirection.add(instance);\n          console.warn('The direction prop should be either \"ltr\" (default) or \"rtl\". ' + 'Please use the layout prop to specify \"vertical\" (default) or \"horizontal\" orientation.');\n        }\n\n        break;\n\n      case 'ltr':\n      case 'rtl':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"direction\" prop has been specified. ' + 'Value should be either \"ltr\" or \"rtl\". ' + (\"\\\"\" + direction + \"\\\" was specified.\"));\n    }\n\n    switch (layout) {\n      case 'horizontal':\n      case 'vertical':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"layout\" prop has been specified. ' + 'Value should be either \"horizontal\" or \"vertical\". ' + (\"\\\"\" + layout + \"\\\" was specified.\"));\n    }\n\n    if (children == null) {\n      throw Error('An invalid \"children\" prop has been specified. ' + 'Value should be a React component. ' + (\"\\\"\" + (children === null ? 'null' : typeof children) + \"\\\" was specified.\"));\n    }\n\n    if (isHorizontal && typeof width !== 'number') {\n      throw Error('An invalid \"width\" prop has been specified. ' + 'Horizontal lists must specify a number for width. ' + (\"\\\"\" + (width === null ? 'null' : typeof width) + \"\\\" was specified.\"));\n    } else if (!isHorizontal && typeof height !== 'number') {\n      throw Error('An invalid \"height\" prop has been specified. ' + 'Vertical lists must specify a number for height. ' + (\"\\\"\" + (height === null ? 'null' : typeof height) + \"\\\" was specified.\"));\n    }\n  }\n};\n\nvar DEFAULT_ESTIMATED_ITEM_SIZE$1 = 50;\n\nvar getItemMetadata$1 = function getItemMetadata(props, index, instanceProps) {\n  var _ref = props,\n      itemSize = _ref.itemSize;\n  var itemMetadataMap = instanceProps.itemMetadataMap,\n      lastMeasuredIndex = instanceProps.lastMeasuredIndex;\n\n  if (index > lastMeasuredIndex) {\n    var offset = 0;\n\n    if (lastMeasuredIndex >= 0) {\n      var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n      offset = itemMetadata.offset + itemMetadata.size;\n    }\n\n    for (var i = lastMeasuredIndex + 1; i <= index; i++) {\n      var size = itemSize(i);\n      itemMetadataMap[i] = {\n        offset: offset,\n        size: size\n      };\n      offset += size;\n    }\n\n    instanceProps.lastMeasuredIndex = index;\n  }\n\n  return itemMetadataMap[index];\n};\n\nvar findNearestItem$1 = function findNearestItem(props, instanceProps, offset) {\n  var itemMetadataMap = instanceProps.itemMetadataMap,\n      lastMeasuredIndex = instanceProps.lastMeasuredIndex;\n  var lastMeasuredItemOffset = lastMeasuredIndex > 0 ? itemMetadataMap[lastMeasuredIndex].offset : 0;\n\n  if (lastMeasuredItemOffset >= offset) {\n    // If we've already measured items within this range just use a binary search as it's faster.\n    return findNearestItemBinarySearch$1(props, instanceProps, lastMeasuredIndex, 0, offset);\n  } else {\n    // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n    // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\n    // The overall complexity for this approach is O(log n).\n    return findNearestItemExponentialSearch$1(props, instanceProps, Math.max(0, lastMeasuredIndex), offset);\n  }\n};\n\nvar findNearestItemBinarySearch$1 = function findNearestItemBinarySearch(props, instanceProps, high, low, offset) {\n  while (low <= high) {\n    var middle = low + Math.floor((high - low) / 2);\n    var currentOffset = getItemMetadata$1(props, middle, instanceProps).offset;\n\n    if (currentOffset === offset) {\n      return middle;\n    } else if (currentOffset < offset) {\n      low = middle + 1;\n    } else if (currentOffset > offset) {\n      high = middle - 1;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nvar findNearestItemExponentialSearch$1 = function findNearestItemExponentialSearch(props, instanceProps, index, offset) {\n  var itemCount = props.itemCount;\n  var interval = 1;\n\n  while (index < itemCount && getItemMetadata$1(props, index, instanceProps).offset < offset) {\n    index += interval;\n    interval *= 2;\n  }\n\n  return findNearestItemBinarySearch$1(props, instanceProps, Math.min(index, itemCount - 1), Math.floor(index / 2), offset);\n};\n\nvar getEstimatedTotalSize = function getEstimatedTotalSize(_ref2, _ref3) {\n  var itemCount = _ref2.itemCount;\n  var itemMetadataMap = _ref3.itemMetadataMap,\n      estimatedItemSize = _ref3.estimatedItemSize,\n      lastMeasuredIndex = _ref3.lastMeasuredIndex;\n  var totalSizeOfMeasuredItems = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredIndex >= itemCount) {\n    lastMeasuredIndex = itemCount - 1;\n  }\n\n  if (lastMeasuredIndex >= 0) {\n    var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n    totalSizeOfMeasuredItems = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = itemCount - lastMeasuredIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedItemSize;\n  return totalSizeOfMeasuredItems + totalSizeOfUnmeasuredItems;\n};\n\nvar VariableSizeList = /*#__PURE__*/createListComponent({\n  getItemOffset: function getItemOffset(props, index, instanceProps) {\n    return getItemMetadata$1(props, index, instanceProps).offset;\n  },\n  getItemSize: function getItemSize(props, index, instanceProps) {\n    return instanceProps.itemMetadataMap[index].size;\n  },\n  getEstimatedTotalSize: getEstimatedTotalSize,\n  getOffsetForIndexAndAlignment: function getOffsetForIndexAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    var direction = props.direction,\n        height = props.height,\n        layout = props.layout,\n        width = props.width; // TODO Deprecate direction \"horizontal\"\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var itemMetadata = getItemMetadata$1(props, index, instanceProps); // Get estimated total size after ItemMetadata is computed,\n    // To ensure it reflects actual measurements instead of just estimates.\n\n    var estimatedTotalSize = getEstimatedTotalSize(props, instanceProps);\n    var maxOffset = Math.max(0, Math.min(estimatedTotalSize - size, itemMetadata.offset));\n    var minOffset = Math.max(0, itemMetadata.offset - size + itemMetadata.size + scrollbarSize);\n\n    if (align === 'smart') {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        return Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n      case 'auto':\n      default:\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getStartIndexForOffset: function getStartIndexForOffset(props, offset, instanceProps) {\n    return findNearestItem$1(props, instanceProps, offset);\n  },\n  getStopIndexForStartIndex: function getStopIndexForStartIndex(props, startIndex, scrollOffset, instanceProps) {\n    var direction = props.direction,\n        height = props.height,\n        itemCount = props.itemCount,\n        layout = props.layout,\n        width = props.width; // TODO Deprecate direction \"horizontal\"\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var itemMetadata = getItemMetadata$1(props, startIndex, instanceProps);\n    var maxOffset = scrollOffset + size;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < itemCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata$1(props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  initInstanceProps: function initInstanceProps(props, instance) {\n    var _ref4 = props,\n        estimatedItemSize = _ref4.estimatedItemSize;\n    var instanceProps = {\n      itemMetadataMap: {},\n      estimatedItemSize: estimatedItemSize || DEFAULT_ESTIMATED_ITEM_SIZE$1,\n      lastMeasuredIndex: -1\n    };\n\n    instance.resetAfterIndex = function (index, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instanceProps.lastMeasuredIndex = Math.min(instanceProps.lastMeasuredIndex, index - 1); // We could potentially optimize further by only evicting styles after this index,\n      // But since styles are only cached while scrolling is in progress-\n      // It seems an unnecessary optimization.\n      // It's unlikely that resetAfterIndex() will be called while a user is scrolling.\n\n      instance._getItemStyleCache(-1);\n\n      if (shouldForceUpdate) {\n        instance.forceUpdate();\n      }\n    };\n\n    return instanceProps;\n  },\n  shouldResetStyleCacheOnItemSizeChange: false,\n  validateProps: function validateProps(_ref5) {\n    var itemSize = _ref5.itemSize;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof itemSize !== 'function') {\n        throw Error('An invalid \"itemSize\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (itemSize === null ? 'null' : typeof itemSize) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar FixedSizeGrid = /*#__PURE__*/createGridComponent({\n  getColumnOffset: function getColumnOffset(_ref, index) {\n    var columnWidth = _ref.columnWidth;\n    return index * columnWidth;\n  },\n  getColumnWidth: function getColumnWidth(_ref2, index) {\n    var columnWidth = _ref2.columnWidth;\n    return columnWidth;\n  },\n  getRowOffset: function getRowOffset(_ref3, index) {\n    var rowHeight = _ref3.rowHeight;\n    return index * rowHeight;\n  },\n  getRowHeight: function getRowHeight(_ref4, index) {\n    var rowHeight = _ref4.rowHeight;\n    return rowHeight;\n  },\n  getEstimatedTotalHeight: function getEstimatedTotalHeight(_ref5) {\n    var rowCount = _ref5.rowCount,\n        rowHeight = _ref5.rowHeight;\n    return rowHeight * rowCount;\n  },\n  getEstimatedTotalWidth: function getEstimatedTotalWidth(_ref6) {\n    var columnCount = _ref6.columnCount,\n        columnWidth = _ref6.columnWidth;\n    return columnWidth * columnCount;\n  },\n  getOffsetForColumnAndAlignment: function getOffsetForColumnAndAlignment(_ref7, columnIndex, align, scrollLeft, instanceProps, scrollbarSize) {\n    var columnCount = _ref7.columnCount,\n        columnWidth = _ref7.columnWidth,\n        width = _ref7.width;\n    var lastColumnOffset = Math.max(0, columnCount * columnWidth - width);\n    var maxOffset = Math.min(lastColumnOffset, columnIndex * columnWidth);\n    var minOffset = Math.max(0, columnIndex * columnWidth - width + scrollbarSize + columnWidth);\n\n    if (align === 'smart') {\n      if (scrollLeft >= minOffset - width && scrollLeft <= maxOffset + width) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n        if (middleOffset < Math.ceil(width / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastColumnOffset + Math.floor(width / 2)) {\n          return lastColumnOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n\n      case 'auto':\n      default:\n        if (scrollLeft >= minOffset && scrollLeft <= maxOffset) {\n          return scrollLeft;\n        } else if (minOffset > maxOffset) {\n          // Because we only take into account the scrollbar size when calculating minOffset\n          // this value can be larger than maxOffset when at the end of the list\n          return minOffset;\n        } else if (scrollLeft < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getOffsetForRowAndAlignment: function getOffsetForRowAndAlignment(_ref8, rowIndex, align, scrollTop, instanceProps, scrollbarSize) {\n    var rowHeight = _ref8.rowHeight,\n        height = _ref8.height,\n        rowCount = _ref8.rowCount;\n    var lastRowOffset = Math.max(0, rowCount * rowHeight - height);\n    var maxOffset = Math.min(lastRowOffset, rowIndex * rowHeight);\n    var minOffset = Math.max(0, rowIndex * rowHeight - height + scrollbarSize + rowHeight);\n\n    if (align === 'smart') {\n      if (scrollTop >= minOffset - height && scrollTop <= maxOffset + height) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n        if (middleOffset < Math.ceil(height / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastRowOffset + Math.floor(height / 2)) {\n          return lastRowOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n\n      case 'auto':\n      default:\n        if (scrollTop >= minOffset && scrollTop <= maxOffset) {\n          return scrollTop;\n        } else if (minOffset > maxOffset) {\n          // Because we only take into account the scrollbar size when calculating minOffset\n          // this value can be larger than maxOffset when at the end of the list\n          return minOffset;\n        } else if (scrollTop < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getColumnStartIndexForOffset: function getColumnStartIndexForOffset(_ref9, scrollLeft) {\n    var columnWidth = _ref9.columnWidth,\n        columnCount = _ref9.columnCount;\n    return Math.max(0, Math.min(columnCount - 1, Math.floor(scrollLeft / columnWidth)));\n  },\n  getColumnStopIndexForStartIndex: function getColumnStopIndexForStartIndex(_ref10, startIndex, scrollLeft) {\n    var columnWidth = _ref10.columnWidth,\n        columnCount = _ref10.columnCount,\n        width = _ref10.width;\n    var left = startIndex * columnWidth;\n    var numVisibleColumns = Math.ceil((width + scrollLeft - left) / columnWidth);\n    return Math.max(0, Math.min(columnCount - 1, startIndex + numVisibleColumns - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  getRowStartIndexForOffset: function getRowStartIndexForOffset(_ref11, scrollTop) {\n    var rowHeight = _ref11.rowHeight,\n        rowCount = _ref11.rowCount;\n    return Math.max(0, Math.min(rowCount - 1, Math.floor(scrollTop / rowHeight)));\n  },\n  getRowStopIndexForStartIndex: function getRowStopIndexForStartIndex(_ref12, startIndex, scrollTop) {\n    var rowHeight = _ref12.rowHeight,\n        rowCount = _ref12.rowCount,\n        height = _ref12.height;\n    var top = startIndex * rowHeight;\n    var numVisibleRows = Math.ceil((height + scrollTop - top) / rowHeight);\n    return Math.max(0, Math.min(rowCount - 1, startIndex + numVisibleRows - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  initInstanceProps: function initInstanceProps(props) {// Noop\n  },\n  shouldResetStyleCacheOnItemSizeChange: true,\n  validateProps: function validateProps(_ref13) {\n    var columnWidth = _ref13.columnWidth,\n        rowHeight = _ref13.rowHeight;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof columnWidth !== 'number') {\n        throw Error('An invalid \"columnWidth\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (columnWidth === null ? 'null' : typeof columnWidth) + \"\\\" was specified.\"));\n      }\n\n      if (typeof rowHeight !== 'number') {\n        throw Error('An invalid \"rowHeight\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (rowHeight === null ? 'null' : typeof rowHeight) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar FixedSizeList = /*#__PURE__*/createListComponent({\n  getItemOffset: function getItemOffset(_ref, index) {\n    var itemSize = _ref.itemSize;\n    return index * itemSize;\n  },\n  getItemSize: function getItemSize(_ref2, index) {\n    var itemSize = _ref2.itemSize;\n    return itemSize;\n  },\n  getEstimatedTotalSize: function getEstimatedTotalSize(_ref3) {\n    var itemCount = _ref3.itemCount,\n        itemSize = _ref3.itemSize;\n    return itemSize * itemCount;\n  },\n  getOffsetForIndexAndAlignment: function getOffsetForIndexAndAlignment(_ref4, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    var direction = _ref4.direction,\n        height = _ref4.height,\n        itemCount = _ref4.itemCount,\n        itemSize = _ref4.itemSize,\n        layout = _ref4.layout,\n        width = _ref4.width;\n    // TODO Deprecate direction \"horizontal\"\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var lastItemOffset = Math.max(0, itemCount * itemSize - size);\n    var maxOffset = Math.min(lastItemOffset, index * itemSize);\n    var minOffset = Math.max(0, index * itemSize - size + itemSize + scrollbarSize);\n\n    if (align === 'smart') {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        {\n          // \"Centered\" offset is usually the average of the min and max.\n          // But near the edges of the list, this doesn't hold true.\n          var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n          if (middleOffset < Math.ceil(size / 2)) {\n            return 0; // near the beginning\n          } else if (middleOffset > lastItemOffset + Math.floor(size / 2)) {\n            return lastItemOffset; // near the end\n          } else {\n            return middleOffset;\n          }\n        }\n\n      case 'auto':\n      default:\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getStartIndexForOffset: function getStartIndexForOffset(_ref5, offset) {\n    var itemCount = _ref5.itemCount,\n        itemSize = _ref5.itemSize;\n    return Math.max(0, Math.min(itemCount - 1, Math.floor(offset / itemSize)));\n  },\n  getStopIndexForStartIndex: function getStopIndexForStartIndex(_ref6, startIndex, scrollOffset) {\n    var direction = _ref6.direction,\n        height = _ref6.height,\n        itemCount = _ref6.itemCount,\n        itemSize = _ref6.itemSize,\n        layout = _ref6.layout,\n        width = _ref6.width;\n    // TODO Deprecate direction \"horizontal\"\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var offset = startIndex * itemSize;\n    var size = isHorizontal ? width : height;\n    var numVisibleItems = Math.ceil((size + scrollOffset - offset) / itemSize);\n    return Math.max(0, Math.min(itemCount - 1, startIndex + numVisibleItems - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  initInstanceProps: function initInstanceProps(props) {// Noop\n  },\n  shouldResetStyleCacheOnItemSizeChange: true,\n  validateProps: function validateProps(_ref7) {\n    var itemSize = _ref7.itemSize;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof itemSize !== 'number') {\n        throw Error('An invalid \"itemSize\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (itemSize === null ? 'null' : typeof itemSize) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\n// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nfunction shallowDiffers(prev, next) {\n  for (var attribute in prev) {\n    if (!(attribute in next)) {\n      return true;\n    }\n  }\n\n  for (var _attribute in next) {\n    if (prev[_attribute] !== next[_attribute]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar _excluded = [\"style\"],\n    _excluded2 = [\"style\"];\n// It knows to compare individual style props and ignore the wrapper object.\n// See https://reactjs.org/docs/react-api.html#reactmemo\n\nfunction areEqual(prevProps, nextProps) {\n  var prevStyle = prevProps.style,\n      prevRest = _objectWithoutPropertiesLoose(prevProps, _excluded);\n\n  var nextStyle = nextProps.style,\n      nextRest = _objectWithoutPropertiesLoose(nextProps, _excluded2);\n\n  return !shallowDiffers(prevStyle, nextStyle) && !shallowDiffers(prevRest, nextRest);\n}\n\n// It knows to compare individual style props and ignore the wrapper object.\n// See https://reactjs.org/docs/react-component.html#shouldcomponentupdate\n\nfunction shouldComponentUpdate(nextProps, nextState) {\n  return !areEqual(this.props, nextProps) || shallowDiffers(this.state, nextState);\n}\n\nexport { FixedSizeGrid, FixedSizeList, VariableSizeGrid, VariableSizeList, areEqual, shouldComponentUpdate };\n//# sourceMappingURL=index.esm.js.map\n","import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nvar TableHeader = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(TableHeader, _React$PureComponent);\n  function TableHeader(props) {\n    var _this;\n    _this = _React$PureComponent.call(this, props) || this;\n    _this.renderHeaderRow = _this.renderHeaderRow.bind(_assertThisInitialized(_this));\n    _this.renderFrozenRow = _this.renderFrozenRow.bind(_assertThisInitialized(_this));\n    _this._setRef = _this._setRef.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  var _proto = TableHeader.prototype;\n  _proto.scrollTo = function scrollTo(offset) {\n    var _this2 = this;\n    requestAnimationFrame(function () {\n      if (_this2.headerRef) _this2.headerRef.scrollLeft = offset;\n    });\n  };\n  _proto.renderHeaderRow = function renderHeaderRow(height, index) {\n    var _this$props = this.props,\n      columns = _this$props.columns,\n      headerRenderer = _this$props.headerRenderer;\n    if (height <= 0) return null;\n    var style = {\n      width: '100%',\n      height: height\n    };\n    return headerRenderer({\n      style: style,\n      columns: columns,\n      headerIndex: index\n    });\n  };\n  _proto.renderFrozenRow = function renderFrozenRow(rowData, index) {\n    var _this$props2 = this.props,\n      columns = _this$props2.columns,\n      rowHeight = _this$props2.rowHeight,\n      rowRenderer = _this$props2.rowRenderer;\n    var style = {\n      width: '100%',\n      height: rowHeight\n    };\n    // for frozen row the `rowIndex` is negative\n    var rowIndex = -index - 1;\n    return rowRenderer({\n      style: style,\n      columns: columns,\n      rowData: rowData,\n      rowIndex: rowIndex\n    });\n  };\n  _proto.render = function render() {\n    var _this$props3 = this.props,\n      className = _this$props3.className,\n      width = _this$props3.width,\n      height = _this$props3.height,\n      rowWidth = _this$props3.rowWidth,\n      headerHeight = _this$props3.headerHeight,\n      frozenData = _this$props3.frozenData;\n    if (height <= 0) return null;\n    var style = {\n      width: width,\n      height: height,\n      position: 'relative',\n      overflow: 'hidden'\n    };\n    var innerStyle = {\n      width: rowWidth,\n      height: height\n    };\n    var rowHeights = Array.isArray(headerHeight) ? headerHeight : [headerHeight];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      role: \"grid\",\n      ref: this._setRef,\n      className: className,\n      style: style\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      role: \"rowgroup\",\n      style: innerStyle\n    }, rowHeights.map(this.renderHeaderRow), frozenData.map(this.renderFrozenRow)));\n  };\n  _proto._setRef = function _setRef(ref) {\n    this.headerRef = ref;\n  };\n  return TableHeader;\n}(React.PureComponent);\nTableHeader.propTypes = {\n  className: PropTypes.string,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  headerHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)]).isRequired,\n  rowWidth: PropTypes.number.isRequired,\n  rowHeight: PropTypes.number.isRequired,\n  columns: PropTypes.arrayOf(PropTypes.object).isRequired,\n  data: PropTypes.array.isRequired,\n  frozenData: PropTypes.array,\n  headerRenderer: PropTypes.func.isRequired,\n  rowRenderer: PropTypes.func.isRequired\n};\nexport default TableHeader;\n//# sourceMappingURL=TableHeader.js.map","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React from 'react';\nexport function renderElement(renderer, props) {\n  if ( /*#__PURE__*/React.isValidElement(renderer)) {\n    if (!props) return renderer;\n    return /*#__PURE__*/React.cloneElement(renderer, props);\n  } else if (typeof renderer === 'function') {\n    return /*#__PURE__*/React.createElement(renderer, props);\n  } else {\n    return null;\n  }\n}\nexport function normalizeColumns(elements) {\n  var columns = [];\n  React.Children.forEach(elements, function (element) {\n    if ( /*#__PURE__*/React.isValidElement(element) && element.key) {\n      var column = _objectSpread(_objectSpread({}, element.props), {}, {\n        key: element.key\n      });\n      columns.push(column);\n    }\n  });\n  return columns;\n}\nexport function isObjectEqual(objA, objB, ignoreFunction) {\n  if (ignoreFunction === void 0) {\n    ignoreFunction = true;\n  }\n  if (objA === objB) return true;\n  if (objA === null && objB === null) return true;\n  if (objA === null || objB === null) return false;\n  if (typeof objA !== 'object' || typeof objB !== 'object') return false;\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return false;\n  for (var i = 0; i < keysA.length; i++) {\n    var key = keysA[i];\n    if (key === '_owner' && objA.$$typeof) {\n      // React-specific: avoid traversing React elements' _owner.\n      //  _owner contains circular references\n      // and is not needed when comparing the actual elements (and not their owners)\n      continue;\n    }\n    var valueA = objA[key];\n    var valueB = objB[key];\n    var valueAType = typeof valueA;\n    if (valueAType !== typeof valueB) return false;\n    if (valueAType === 'function' && ignoreFunction) continue;\n    if (valueAType === 'object') {\n      if (!isObjectEqual(valueA, valueB, ignoreFunction)) return false;else continue;\n    }\n    if (valueA !== valueB) return false;\n  }\n  return true;\n}\nexport function callOrReturn(funcOrValue) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n  return typeof funcOrValue === 'function' ? funcOrValue.apply(void 0, args) : funcOrValue;\n}\nexport function hasChildren(data) {\n  return Array.isArray(data.children) && data.children.length > 0;\n}\nexport function unflatten(array, rootId, dataKey, parentKey) {\n  if (rootId === void 0) {\n    rootId = null;\n  }\n  if (dataKey === void 0) {\n    dataKey = 'id';\n  }\n  if (parentKey === void 0) {\n    parentKey = 'parentId';\n  }\n  var tree = [];\n  var childrenMap = {};\n  var length = array.length;\n  for (var i = 0; i < length; i++) {\n    var item = _objectSpread({}, array[i]);\n    var id = item[dataKey];\n    var parentId = item[parentKey];\n    if (Array.isArray(item.children)) {\n      childrenMap[id] = item.children.concat(childrenMap[id] || []);\n    } else if (!childrenMap[id]) {\n      childrenMap[id] = [];\n    }\n    item.children = childrenMap[id];\n    if (parentId !== undefined && parentId !== rootId) {\n      if (!childrenMap[parentId]) childrenMap[parentId] = [];\n      childrenMap[parentId].push(item);\n    } else {\n      tree.push(item);\n    }\n  }\n  return tree;\n}\nexport function flattenOnKeys(tree, keys, depthMap, dataKey) {\n  if (depthMap === void 0) {\n    depthMap = {};\n  }\n  if (dataKey === void 0) {\n    dataKey = 'id';\n  }\n  if (!keys || !keys.length) return tree;\n  var array = [];\n  var keysSet = new Set();\n  keys.forEach(function (x) {\n    return keysSet.add(x);\n  });\n  var stack = [].concat(tree);\n  stack.forEach(function (x) {\n    return depthMap[x[dataKey]] = 0;\n  });\n  var _loop = function _loop() {\n    var item = stack.shift();\n    array.push(item);\n    if (keysSet.has(item[dataKey]) && Array.isArray(item.children) && item.children.length > 0) {\n      stack = [].concat(item.children, stack);\n      item.children.forEach(function (x) {\n        return depthMap[x[dataKey]] = depthMap[item[dataKey]] + 1;\n      });\n    }\n  };\n  while (stack.length > 0) {\n    _loop();\n  }\n  return array;\n}\n\n// Babel7 changed the behavior of @babel/plugin-transform-spread in https://github.com/babel/babel/pull/6763\n// [...array] is transpiled to array.concat() while it was [].concat(array) before\n// this change breaks immutable array(seamless-immutable), [...array] should always return mutable array\nexport function cloneArray(array) {\n  if (!Array.isArray(array)) return [];\n  return [].concat(array);\n}\nexport function noop() {}\nexport function toString(value) {\n  if (typeof value === 'string') return value;\n  if (value === null || value === undefined) return '';\n  return value.toString ? value.toString() : '';\n}\nfunction getPathSegments(path) {\n  var pathArray = path.split('.');\n  var parts = [];\n  for (var i = 0; i < pathArray.length; i++) {\n    var p = pathArray[i];\n    while (p[p.length - 1] === '\\\\' && pathArray[i + 1] !== undefined) {\n      p = p.slice(0, -1) + '.';\n      p += pathArray[++i];\n    }\n    parts.push(p);\n  }\n  return parts;\n}\n\n// changed from https://github.com/sindresorhus/dot-prop/blob/master/index.js\nexport function getValue(object, path, defaultValue) {\n  if (object === null || typeof object !== 'object' || typeof path !== 'string') {\n    return defaultValue;\n  }\n  var pathArray = getPathSegments(path);\n  for (var i = 0; i < pathArray.length; i++) {\n    if (!Object.prototype.propertyIsEnumerable.call(object, pathArray[i])) {\n      return defaultValue;\n    }\n    object = object[pathArray[i]];\n    if (object === undefined || object === null) {\n      if (i !== pathArray.length - 1) {\n        return defaultValue;\n      }\n      break;\n    }\n  }\n  return object;\n}\n\n// copied from https://www.30secondsofcode.org/js/s/debounce\nexport var debounce = function debounce(fn, ms) {\n  if (ms === void 0) {\n    ms = 0;\n  }\n  var timeoutId;\n  return function () {\n    var _this = this;\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(function () {\n      return fn.apply(_this, args);\n    }, ms);\n  };\n};\n\n// copied from https://www.30secondsofcode.org/js/s/throttle\nexport var throttle = function throttle(fn, wait) {\n  var inThrottle, lastFn, lastTime;\n  return function () {\n    var context = this,\n      args = arguments;\n    if (!inThrottle) {\n      fn.apply(context, args);\n      lastTime = Date.now();\n      inThrottle = true;\n    } else {\n      clearTimeout(lastFn);\n      lastFn = setTimeout(function () {\n        if (Date.now() - lastTime >= wait) {\n          fn.apply(context, args);\n          lastTime = Date.now();\n        }\n      }, Math.max(wait - (Date.now() - lastTime), 0));\n    }\n  };\n};\n\n// copied from https://github.com/react-bootstrap/dom-helpers\nvar scrollbarSize;\nexport function getScrollbarSize(recalculate) {\n  if (!scrollbarSize && scrollbarSize !== 0 || recalculate) {\n    if (typeof window !== 'undefined' && window.document && window.document.createElement) {\n      var scrollDiv = document.createElement('div');\n      scrollDiv.style.position = 'absolute';\n      scrollDiv.style.top = '-9999px';\n      scrollDiv.style.width = '50px';\n      scrollDiv.style.height = '50px';\n      scrollDiv.style.overflow = 'scroll';\n      document.body.appendChild(scrollDiv);\n      scrollbarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n      document.body.removeChild(scrollDiv);\n    }\n  }\n  return scrollbarSize;\n}\nexport function addClassName(el, className) {\n  if (el.classList) {\n    el.classList.add(className);\n  } else {\n    if (!el.className.match(new RegExp(\"(?:^|\\\\s)\" + className + \"(?!\\\\S)\"))) {\n      el.className += \" \" + className;\n    }\n  }\n}\nexport function removeClassName(el, className) {\n  if (el.classList) {\n    el.classList.remove(className);\n  } else {\n    el.className = el.className.replace(new RegExp(\"(?:^|\\\\s)\" + className + \"(?!\\\\S)\", 'g'), '');\n  }\n}\nexport function getEstimatedTotalRowsHeight(data, estimatedRowHeight) {\n  return typeof estimatedRowHeight === 'function' ? data.reduce(function (height, rowData, rowIndex) {\n    return height + estimatedRowHeight({\n      rowData: rowData,\n      rowIndex: rowIndex\n    });\n  }, 0) : data.length * estimatedRowHeight;\n}\n//# sourceMappingURL=utils.js.map","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nvar _excluded = [\"containerStyle\", \"classPrefix\", \"className\", \"data\", \"frozenData\", \"width\", \"height\", \"rowHeight\", \"estimatedRowHeight\", \"getRowHeight\", \"headerWidth\", \"bodyWidth\", \"useIsScrolling\", \"onScroll\", \"hoveredRowKey\", \"overscanRowCount\", \"style\", \"onScrollbarPresenceChange\"];\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport { FixedSizeGrid, VariableSizeGrid } from 'react-window';\nimport memoize from 'memoize-one';\nimport Header from './TableHeader';\nimport { getEstimatedTotalRowsHeight } from './utils';\n\n/**\n * A wrapper of the Grid for internal only\n */\nvar GridTable = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(GridTable, _React$PureComponent);\n  function GridTable(props) {\n    var _this;\n    _this = _React$PureComponent.call(this, props) || this;\n    _this._setHeaderRef = _this._setHeaderRef.bind(_assertThisInitialized(_this));\n    _this._setBodyRef = _this._setBodyRef.bind(_assertThisInitialized(_this));\n    _this._setInnerRef = _this._setInnerRef.bind(_assertThisInitialized(_this));\n    _this._itemKey = _this._itemKey.bind(_assertThisInitialized(_this));\n    _this._getBodyWidth = _this._getBodyWidth.bind(_assertThisInitialized(_this));\n    _this._handleItemsRendered = _this._handleItemsRendered.bind(_assertThisInitialized(_this));\n    _this._resetColumnWidthCache = memoize(function (bodyWidth) {\n      if (!_this.props.estimatedRowHeight) return;\n      _this.bodyRef && _this.bodyRef.resetAfterColumnIndex(0, false);\n    });\n    _this._getEstimatedTotalRowsHeight = memoize(getEstimatedTotalRowsHeight);\n    _this.renderRow = _this.renderRow.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  var _proto = GridTable.prototype;\n  _proto.resetAfterRowIndex = function resetAfterRowIndex(rowIndex, shouldForceUpdate) {\n    if (rowIndex === void 0) {\n      rowIndex = 0;\n    }\n    if (!this.props.estimatedRowHeight) return;\n    this.bodyRef && this.bodyRef.resetAfterRowIndex(rowIndex, shouldForceUpdate);\n  };\n  _proto.forceUpdateTable = function forceUpdateTable() {\n    this.headerRef && this.headerRef.forceUpdate();\n    this.bodyRef && this.bodyRef.forceUpdate();\n  };\n  _proto.scrollToPosition = function scrollToPosition(args) {\n    this.headerRef && this.headerRef.scrollTo(args.scrollLeft);\n    this.bodyRef && this.bodyRef.scrollTo(args);\n  };\n  _proto.scrollToTop = function scrollToTop(scrollTop) {\n    this.bodyRef && this.bodyRef.scrollTo({\n      scrollTop: scrollTop\n    });\n  };\n  _proto.scrollToLeft = function scrollToLeft(scrollLeft) {\n    this.headerRef && this.headerRef.scrollTo(scrollLeft);\n    this.bodyRef && this.bodyRef.scrollToPosition({\n      scrollLeft: scrollLeft\n    });\n  };\n  _proto.scrollToRow = function scrollToRow(rowIndex, align) {\n    if (rowIndex === void 0) {\n      rowIndex = 0;\n    }\n    if (align === void 0) {\n      align = 'auto';\n    }\n    this.bodyRef && this.bodyRef.scrollToItem({\n      rowIndex: rowIndex,\n      align: align\n    });\n  };\n  _proto.getTotalRowsHeight = function getTotalRowsHeight() {\n    var _this$props = this.props,\n      data = _this$props.data,\n      rowHeight = _this$props.rowHeight,\n      estimatedRowHeight = _this$props.estimatedRowHeight;\n    if (estimatedRowHeight) {\n      return this.innerRef && this.innerRef.clientHeight || this._getEstimatedTotalRowsHeight(data, estimatedRowHeight);\n    }\n    return data.length * rowHeight;\n  };\n  _proto.renderRow = function renderRow(args) {\n    var _this$props2 = this.props,\n      data = _this$props2.data,\n      columns = _this$props2.columns,\n      rowRenderer = _this$props2.rowRenderer;\n    var rowData = data[args.rowIndex];\n    return rowRenderer(_objectSpread(_objectSpread({}, args), {}, {\n      columns: columns,\n      rowData: rowData\n    }));\n  };\n  _proto.render = function render() {\n    var _this$props3 = this.props,\n      containerStyle = _this$props3.containerStyle,\n      classPrefix = _this$props3.classPrefix,\n      className = _this$props3.className,\n      data = _this$props3.data,\n      frozenData = _this$props3.frozenData,\n      width = _this$props3.width,\n      height = _this$props3.height,\n      rowHeight = _this$props3.rowHeight,\n      estimatedRowHeight = _this$props3.estimatedRowHeight,\n      getRowHeight = _this$props3.getRowHeight,\n      headerWidth = _this$props3.headerWidth,\n      bodyWidth = _this$props3.bodyWidth,\n      useIsScrolling = _this$props3.useIsScrolling,\n      onScroll = _this$props3.onScroll,\n      hoveredRowKey = _this$props3.hoveredRowKey,\n      overscanRowCount = _this$props3.overscanRowCount,\n      style = _this$props3.style,\n      onScrollbarPresenceChange = _this$props3.onScrollbarPresenceChange,\n      rest = _objectWithoutPropertiesLoose(_this$props3, _excluded);\n    var headerHeight = this._getHeaderHeight();\n    var frozenRowCount = frozenData.length;\n    var frozenRowsHeight = rowHeight * frozenRowCount;\n    var cls = cn(classPrefix + \"__table\", className);\n    var containerProps = containerStyle ? {\n      style: containerStyle\n    } : null;\n    var Grid = estimatedRowHeight ? VariableSizeGrid : FixedSizeGrid;\n    this._resetColumnWidthCache(bodyWidth);\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      role: \"table\",\n      className: cls\n    }, containerProps), /*#__PURE__*/React.createElement(Grid, _extends({}, rest, {\n      className: classPrefix + \"__body\",\n      ref: this._setBodyRef,\n      innerRef: this._setInnerRef,\n      itemKey: this._itemKey,\n      data: data,\n      frozenData: frozenData,\n      width: width,\n      height: Math.max(height - headerHeight - frozenRowsHeight, 0),\n      rowHeight: estimatedRowHeight ? getRowHeight : rowHeight,\n      estimatedRowHeight: typeof estimatedRowHeight === 'function' ? undefined : estimatedRowHeight,\n      rowCount: data.length,\n      overscanRowCount: overscanRowCount,\n      columnWidth: estimatedRowHeight ? this._getBodyWidth : bodyWidth,\n      columnCount: 1,\n      overscanColumnCount: 0,\n      useIsScrolling: useIsScrolling,\n      hoveredRowKey: hoveredRowKey,\n      onScroll: onScroll,\n      onItemsRendered: this._handleItemsRendered\n    }), this.renderRow), headerHeight + frozenRowsHeight > 0 &&\n    /*#__PURE__*/\n    // put header after body and reverse the display order via css\n    // to prevent header's shadow being covered by body\n    React.createElement(Header, _extends({}, rest, {\n      className: classPrefix + \"__header\",\n      ref: this._setHeaderRef,\n      data: data,\n      frozenData: frozenData,\n      width: width,\n      height: Math.min(headerHeight + frozenRowsHeight, height),\n      rowWidth: headerWidth,\n      rowHeight: rowHeight,\n      headerHeight: this.props.headerHeight,\n      headerRenderer: this.props.headerRenderer,\n      rowRenderer: this.props.rowRenderer,\n      hoveredRowKey: frozenRowCount > 0 ? hoveredRowKey : null\n    })));\n  };\n  _proto._setHeaderRef = function _setHeaderRef(ref) {\n    this.headerRef = ref;\n  };\n  _proto._setBodyRef = function _setBodyRef(ref) {\n    this.bodyRef = ref;\n  };\n  _proto._setInnerRef = function _setInnerRef(ref) {\n    this.innerRef = ref;\n  };\n  _proto._itemKey = function _itemKey(_ref) {\n    var rowIndex = _ref.rowIndex;\n    var _this$props4 = this.props,\n      data = _this$props4.data,\n      rowKey = _this$props4.rowKey;\n    return data[rowIndex][rowKey];\n  };\n  _proto._getHeaderHeight = function _getHeaderHeight() {\n    var headerHeight = this.props.headerHeight;\n    if (Array.isArray(headerHeight)) {\n      return headerHeight.reduce(function (sum, height) {\n        return sum + height;\n      }, 0);\n    }\n    return headerHeight;\n  };\n  _proto._getBodyWidth = function _getBodyWidth() {\n    return this.props.bodyWidth;\n  };\n  _proto._handleItemsRendered = function _handleItemsRendered(_ref2) {\n    var overscanRowStartIndex = _ref2.overscanRowStartIndex,\n      overscanRowStopIndex = _ref2.overscanRowStopIndex,\n      visibleRowStartIndex = _ref2.visibleRowStartIndex,\n      visibleRowStopIndex = _ref2.visibleRowStopIndex;\n    this.props.onRowsRendered({\n      overscanStartIndex: overscanRowStartIndex,\n      overscanStopIndex: overscanRowStopIndex,\n      startIndex: visibleRowStartIndex,\n      stopIndex: visibleRowStopIndex\n    });\n  };\n  return GridTable;\n}(React.PureComponent);\nGridTable.propTypes = {\n  containerStyle: PropTypes.object,\n  classPrefix: PropTypes.string,\n  className: PropTypes.string,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  headerHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)]).isRequired,\n  headerWidth: PropTypes.number.isRequired,\n  bodyWidth: PropTypes.number.isRequired,\n  rowHeight: PropTypes.number.isRequired,\n  estimatedRowHeight: PropTypes.oneOfType([PropTypes.func, PropTypes.number]),\n  getRowHeight: PropTypes.func,\n  columns: PropTypes.arrayOf(PropTypes.object).isRequired,\n  data: PropTypes.array.isRequired,\n  frozenData: PropTypes.array,\n  rowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  useIsScrolling: PropTypes.bool,\n  overscanRowCount: PropTypes.number,\n  hoveredRowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  style: PropTypes.object,\n  onScrollbarPresenceChange: PropTypes.func,\n  onScroll: PropTypes.func,\n  onRowsRendered: PropTypes.func,\n  headerRenderer: PropTypes.func.isRequired,\n  rowRenderer: PropTypes.func.isRequired\n};\nexport default GridTable;\n//# sourceMappingURL=GridTable.js.map","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"style\", \"columns\", \"headerIndex\", \"cellRenderer\", \"headerRenderer\", \"expandColumnKey\", \"expandIcon\", \"tagName\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { renderElement } from './utils';\n\n/**\n * HeaderRow component for BaseTable\n */\nvar TableHeaderRow = function TableHeaderRow(_ref) {\n  var className = _ref.className,\n    style = _ref.style,\n    columns = _ref.columns,\n    headerIndex = _ref.headerIndex,\n    cellRenderer = _ref.cellRenderer,\n    headerRenderer = _ref.headerRenderer,\n    expandColumnKey = _ref.expandColumnKey,\n    ExpandIcon = _ref.expandIcon,\n    Tag = _ref.tagName,\n    rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n  var cells = columns.map(function (column, columnIndex) {\n    return cellRenderer({\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      headerIndex: headerIndex,\n      expandIcon: column.key === expandColumnKey && /*#__PURE__*/React.createElement(ExpandIcon, null)\n    });\n  });\n  if (headerRenderer) {\n    cells = renderElement(headerRenderer, {\n      cells: cells,\n      columns: columns,\n      headerIndex: headerIndex\n    });\n  }\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, rest, {\n    className: className,\n    style: style\n  }), cells);\n};\nTableHeaderRow.defaultProps = {\n  tagName: 'div'\n};\nTableHeaderRow.propTypes = {\n  isScrolling: PropTypes.bool,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  columns: PropTypes.arrayOf(PropTypes.object).isRequired,\n  headerIndex: PropTypes.number,\n  cellRenderer: PropTypes.func,\n  headerRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n  expandColumnKey: PropTypes.string,\n  expandIcon: PropTypes.func,\n  tagName: PropTypes.elementType\n};\nexport default TableHeaderRow;\n//# sourceMappingURL=TableHeaderRow.js.map","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nvar _excluded = [\"isScrolling\", \"className\", \"style\", \"columns\", \"rowIndex\", \"rowData\", \"expandColumnKey\", \"depth\", \"rowEventHandlers\", \"estimatedRowHeight\", \"rowRenderer\", \"cellRenderer\", \"expandIconRenderer\", \"tagName\", \"rowKey\", \"getIsResetting\", \"onRowHover\", \"onRowExpand\", \"onRowHeightChange\"],\n  _excluded2 = [\"height\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { renderElement } from './utils';\n\n/**\n * Row component for BaseTable\n */\nvar TableRow = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(TableRow, _React$PureComponent);\n  function TableRow(props) {\n    var _this;\n    _this = _React$PureComponent.call(this, props) || this;\n    _this.state = {\n      measured: false\n    };\n    _this._setRef = _this._setRef.bind(_assertThisInitialized(_this));\n    _this._handleExpand = _this._handleExpand.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  var _proto = TableRow.prototype;\n  _proto.componentDidMount = function componentDidMount() {\n    this.props.estimatedRowHeight && this.props.rowIndex >= 0 && this._measureHeight(true);\n  };\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    var _this2 = this;\n    if (this.props.estimatedRowHeight && this.props.rowIndex >= 0 &&\n    // should not re-measure if it's updated after measured and reset\n    !this.props.getIsResetting() && this.state.measured && prevState.measured) {\n      this.setState({\n        measured: false\n      }, function () {\n        return _this2._measureHeight();\n      });\n    }\n  };\n  _proto.render = function render() {\n    /* eslint-disable no-unused-vars */\n    var _this$props = this.props,\n      isScrolling = _this$props.isScrolling,\n      className = _this$props.className,\n      style = _this$props.style,\n      columns = _this$props.columns,\n      rowIndex = _this$props.rowIndex,\n      rowData = _this$props.rowData,\n      expandColumnKey = _this$props.expandColumnKey,\n      depth = _this$props.depth,\n      rowEventHandlers = _this$props.rowEventHandlers,\n      estimatedRowHeight = _this$props.estimatedRowHeight,\n      rowRenderer = _this$props.rowRenderer,\n      cellRenderer = _this$props.cellRenderer,\n      expandIconRenderer = _this$props.expandIconRenderer,\n      Tag = _this$props.tagName,\n      rowKey = _this$props.rowKey,\n      getIsResetting = _this$props.getIsResetting,\n      onRowHover = _this$props.onRowHover,\n      onRowExpand = _this$props.onRowExpand,\n      onRowHeightChange = _this$props.onRowHeightChange,\n      rest = _objectWithoutPropertiesLoose(_this$props, _excluded);\n    /* eslint-enable no-unused-vars */\n\n    var expandIcon = expandIconRenderer({\n      rowData: rowData,\n      rowIndex: rowIndex,\n      depth: depth,\n      onExpand: this._handleExpand\n    });\n    var cells = columns.map(function (column, columnIndex) {\n      return cellRenderer({\n        isScrolling: isScrolling,\n        columns: columns,\n        column: column,\n        columnIndex: columnIndex,\n        rowData: rowData,\n        rowIndex: rowIndex,\n        expandIcon: column.key === expandColumnKey && expandIcon\n      });\n    });\n    if (rowRenderer) {\n      cells = renderElement(rowRenderer, {\n        isScrolling: isScrolling,\n        cells: cells,\n        columns: columns,\n        rowData: rowData,\n        rowIndex: rowIndex,\n        depth: depth\n      });\n    }\n    var eventHandlers = this._getEventHandlers(rowEventHandlers);\n    if (estimatedRowHeight && rowIndex >= 0) {\n      var height = style.height,\n        otherStyles = _objectWithoutPropertiesLoose(style, _excluded2);\n      return /*#__PURE__*/React.createElement(Tag, _extends({}, rest, {\n        ref: this._setRef,\n        className: className,\n        style: this.state.measured ? style : otherStyles\n      }, this.state.measured && eventHandlers), cells);\n    }\n    return /*#__PURE__*/React.createElement(Tag, _extends({}, rest, {\n      className: className,\n      style: style\n    }, eventHandlers), cells);\n  };\n  _proto._setRef = function _setRef(ref) {\n    this.ref = ref;\n  };\n  _proto._handleExpand = function _handleExpand(expanded) {\n    var _this$props2 = this.props,\n      onRowExpand = _this$props2.onRowExpand,\n      rowData = _this$props2.rowData,\n      rowIndex = _this$props2.rowIndex,\n      rowKey = _this$props2.rowKey;\n    onRowExpand && onRowExpand({\n      expanded: expanded,\n      rowData: rowData,\n      rowIndex: rowIndex,\n      rowKey: rowKey\n    });\n  };\n  _proto._measureHeight = function _measureHeight(initialMeasure) {\n    if (!this.ref) return;\n    var _this$props3 = this.props,\n      style = _this$props3.style,\n      rowKey = _this$props3.rowKey,\n      onRowHeightChange = _this$props3.onRowHeightChange,\n      rowIndex = _this$props3.rowIndex,\n      columns = _this$props3.columns;\n    var height = this.ref.getBoundingClientRect().height;\n    this.setState({\n      measured: true\n    }, function () {\n      if (initialMeasure || height !== style.height) onRowHeightChange(rowKey, height, rowIndex, columns[0] && !columns[0].__placeholder__ && columns[0].frozen);\n    });\n  };\n  _proto._getEventHandlers = function _getEventHandlers(handlers) {\n    if (handlers === void 0) {\n      handlers = {};\n    }\n    var _this$props4 = this.props,\n      rowData = _this$props4.rowData,\n      rowIndex = _this$props4.rowIndex,\n      rowKey = _this$props4.rowKey,\n      onRowHover = _this$props4.onRowHover;\n    var eventHandlers = {};\n    Object.keys(handlers).forEach(function (eventKey) {\n      var callback = handlers[eventKey];\n      if (typeof callback === 'function') {\n        eventHandlers[eventKey] = function (event) {\n          callback({\n            rowData: rowData,\n            rowIndex: rowIndex,\n            rowKey: rowKey,\n            event: event\n          });\n        };\n      }\n    });\n    if (onRowHover) {\n      var mouseEnterHandler = eventHandlers['onMouseEnter'];\n      eventHandlers['onMouseEnter'] = function (event) {\n        onRowHover({\n          hovered: true,\n          rowData: rowData,\n          rowIndex: rowIndex,\n          rowKey: rowKey,\n          event: event\n        });\n        mouseEnterHandler && mouseEnterHandler(event);\n      };\n      var mouseLeaveHandler = eventHandlers['onMouseLeave'];\n      eventHandlers['onMouseLeave'] = function (event) {\n        onRowHover({\n          hovered: false,\n          rowData: rowData,\n          rowIndex: rowIndex,\n          rowKey: rowKey,\n          event: event\n        });\n        mouseLeaveHandler && mouseLeaveHandler(event);\n      };\n    }\n    return eventHandlers;\n  };\n  return TableRow;\n}(React.PureComponent);\nTableRow.defaultProps = {\n  tagName: 'div'\n};\nTableRow.propTypes = {\n  isScrolling: PropTypes.bool,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  columns: PropTypes.arrayOf(PropTypes.object).isRequired,\n  rowData: PropTypes.object.isRequired,\n  rowIndex: PropTypes.number.isRequired,\n  rowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  expandColumnKey: PropTypes.string,\n  depth: PropTypes.number,\n  rowEventHandlers: PropTypes.object,\n  rowRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n  cellRenderer: PropTypes.func,\n  expandIconRenderer: PropTypes.func,\n  estimatedRowHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n  getIsResetting: PropTypes.func,\n  onRowHover: PropTypes.func,\n  onRowExpand: PropTypes.func,\n  onRowHeightChange: PropTypes.func,\n  tagName: PropTypes.elementType\n};\nexport default TableRow;\n//# sourceMappingURL=TableRow.js.map","import React from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * HeaderCell component for BaseTable\n */\nvar TableHeaderCell = function TableHeaderCell(_ref) {\n  var className = _ref.className,\n    column = _ref.column,\n    columnIndex = _ref.columnIndex;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className\n  }, column.title);\n};\nTableHeaderCell.propTypes = {\n  className: PropTypes.string,\n  column: PropTypes.object,\n  columnIndex: PropTypes.number\n};\nexport default TableHeaderCell;\n//# sourceMappingURL=TableHeaderCell.js.map","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { toString } from './utils';\n\n/**\n * Cell component for BaseTable\n */\nvar TableCell = function TableCell(_ref) {\n  var className = _ref.className,\n    cellData = _ref.cellData,\n    column = _ref.column,\n    columnIndex = _ref.columnIndex,\n    rowData = _ref.rowData,\n    rowIndex = _ref.rowIndex;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className\n  }, /*#__PURE__*/React.isValidElement(cellData) ? cellData : toString(cellData));\n};\nTableCell.propTypes = {\n  className: PropTypes.string,\n  cellData: PropTypes.any,\n  column: PropTypes.object,\n  columnIndex: PropTypes.number,\n  rowData: PropTypes.object,\n  rowIndex: PropTypes.number\n};\nexport default TableCell;\n//# sourceMappingURL=TableCell.js.map","import _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nexport var Alignment = {\n  LEFT: 'left',\n  CENTER: 'center',\n  RIGHT: 'right'\n};\nexport var FrozenDirection = {\n  LEFT: 'left',\n  RIGHT: 'right',\n  DEFAULT: true,\n  NONE: false\n};\n\n/**\n * Column for BaseTable\n */\nvar Column = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Column, _React$Component);\n  function Column() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n  return Column;\n}(React.Component);\nColumn.propTypes = {\n  /**\n   * Class name for the column cell, could be a callback to return the class name\n   * The callback is of the shape of `({ cellData, columns, column, columnIndex, rowData, rowIndex }) => string`\n   */\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  /**\n   * Class name for the column header, could be a callback to return the class name\n   * The callback is of the shape of `({ columns, column, columnIndex, headerIndex }) => string`\n   */\n  headerClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  /**\n   * Custom style for the column cell, including the header cells\n   */\n  style: PropTypes.object,\n  /**\n   * Title for the column header\n   */\n  title: PropTypes.node,\n  /**\n   * Data key for the column cell, could be \"a.b.c\"\n   */\n  dataKey: PropTypes.string,\n  /**\n   * Custom cell data getter\n   * The handler is of the shape of `({ columns, column, columnIndex, rowData, rowIndex }) => node`\n   */\n  dataGetter: PropTypes.func,\n  /**\n   * Alignment of the column cell\n   */\n  align: PropTypes.oneOf(['left', 'center', 'right']),\n  /**\n   * Flex grow style, defaults to 0\n   */\n  flexGrow: PropTypes.number,\n  /**\n   * Flex shrink style, defaults to 1 for flexible table and 0 for fixed table\n   */\n  flexShrink: PropTypes.number,\n  /**\n   * The width of the column, gutter width is not included\n   */\n  width: PropTypes.number.isRequired,\n  /**\n   * Maximum width of the column, used if the column is resizable\n   */\n  maxWidth: PropTypes.number,\n  /**\n   * Minimum width of the column, used if the column is resizable\n   */\n  minWidth: PropTypes.number,\n  /**\n   * Whether the column is frozen and what's the frozen side\n   */\n  frozen: PropTypes.oneOf(['left', 'right', true, false]),\n  /**\n   * Whether the column is hidden\n   */\n  hidden: PropTypes.bool,\n  /**\n   * Whether the column is resizable, defaults to false\n   */\n  resizable: PropTypes.bool,\n  /**\n   * Whether the column is sortable, defaults to false\n   */\n  sortable: PropTypes.bool,\n  /**\n   * Custom column cell renderer\n   * The renderer receives props `{ cellData, columns, column, columnIndex, rowData, rowIndex, container, isScrolling }`\n   */\n  cellRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n  /**\n   * Custom column header renderer\n   * The renderer receives props `{ columns, column, columnIndex, headerIndex, container }`\n   */\n  headerRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element])\n};\nColumn.Alignment = Alignment;\nColumn.FrozenDirection = FrozenDirection;\nexport default Column;\n//# sourceMappingURL=Column.js.map","/**\n * Sort order for BaseTable\n */\nvar SortOrder = {\n  /**\n   * Sort data in ascending order\n   */\n  ASC: 'asc',\n  /**\n   * Sort data in descending order\n   */\n  DESC: 'desc'\n};\nexport default SortOrder;\n//# sourceMappingURL=SortOrder.js.map","import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nvar _excluded = [\"expandable\", \"expanded\", \"indentSize\", \"depth\", \"onExpand\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\n\n/**\n * default ExpandIcon for BaseTable\n */\nvar ExpandIcon = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(ExpandIcon, _React$PureComponent);\n  function ExpandIcon(props) {\n    var _this;\n    _this = _React$PureComponent.call(this, props) || this;\n    _this._handleClick = _this._handleClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  var _proto = ExpandIcon.prototype;\n  _proto.render = function render() {\n    var _this$props = this.props,\n      expandable = _this$props.expandable,\n      expanded = _this$props.expanded,\n      indentSize = _this$props.indentSize,\n      depth = _this$props.depth,\n      onExpand = _this$props.onExpand,\n      rest = _objectWithoutPropertiesLoose(_this$props, _excluded);\n    if (!expandable && indentSize === 0) return null;\n    var cls = cn('BaseTable__expand-icon', {\n      'BaseTable__expand-icon--expanded': expanded\n    });\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, rest, {\n      className: cls,\n      onClick: expandable && onExpand ? this._handleClick : null,\n      style: {\n        fontFamily: 'initial',\n        cursor: 'pointer',\n        userSelect: 'none',\n        width: '16px',\n        minWidth: '16px',\n        height: '16px',\n        lineHeight: '16px',\n        fontSize: '16px',\n        textAlign: 'center',\n        transition: 'transform 0.15s ease-out',\n        transform: \"rotate(\" + (expandable && expanded ? 90 : 0) + \"deg)\",\n        marginLeft: depth * indentSize\n      }\n    }), expandable && \"\\u25B8\");\n  };\n  _proto._handleClick = function _handleClick(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    var _this$props2 = this.props,\n      onExpand = _this$props2.onExpand,\n      expanded = _this$props2.expanded;\n    onExpand(!expanded);\n  };\n  return ExpandIcon;\n}(React.PureComponent);\nExpandIcon.defaultProps = {\n  depth: 0,\n  indentSize: 16\n};\nExpandIcon.propTypes = {\n  expandable: PropTypes.bool,\n  expanded: PropTypes.bool,\n  indentSize: PropTypes.number,\n  depth: PropTypes.number,\n  onExpand: PropTypes.func\n};\nexport default ExpandIcon;\n//# sourceMappingURL=ExpandIcon.js.map","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport SortOrder from './SortOrder';\n\n/**\n * default SortIndicator for BaseTable\n */\nvar SortIndicator = function SortIndicator(_ref) {\n  var sortOrder = _ref.sortOrder,\n    className = _ref.className,\n    style = _ref.style;\n  var cls = cn('BaseTable__sort-indicator', className, {\n    'BaseTable__sort-indicator--descending': sortOrder === SortOrder.DESC\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cls,\n    style: _objectSpread({\n      userSelect: 'none',\n      width: '16px',\n      height: '16px',\n      lineHeight: '16px',\n      textAlign: 'center'\n    }, style)\n  }, sortOrder === SortOrder.DESC ? \"\\u2193\" : \"\\u2191\");\n};\nSortIndicator.propTypes = {\n  sortOrder: PropTypes.oneOf([SortOrder.ASC, SortOrder.DESC]),\n  className: PropTypes.string,\n  style: PropTypes.object\n};\nexport default SortIndicator;\n//# sourceMappingURL=SortIndicator.js.map","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nvar _excluded = [\"style\", \"column\", \"onResizeStart\", \"onResize\", \"onResizeStop\", \"minWidth\"];\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { noop, addClassName, removeClassName } from './utils';\nvar INVALID_VALUE = null;\n\n// copied from https://github.com/mzabriskie/react-draggable/blob/master/lib/utils/domFns.js\nexport function addUserSelectStyles(doc) {\n  if (!doc) return;\n  var styleEl = doc.getElementById('react-draggable-style-el');\n  if (!styleEl) {\n    styleEl = doc.createElement('style');\n    styleEl.type = 'text/css';\n    styleEl.id = 'react-draggable-style-el';\n    styleEl.innerHTML = '.react-draggable-transparent-selection *::-moz-selection {all: inherit;}\\n';\n    styleEl.innerHTML += '.react-draggable-transparent-selection *::selection {all: inherit;}\\n';\n    doc.getElementsByTagName('head')[0].appendChild(styleEl);\n  }\n  if (doc.body) addClassName(doc.body, 'react-draggable-transparent-selection');\n}\nexport function removeUserSelectStyles(doc) {\n  if (!doc) return;\n  try {\n    if (doc.body) removeClassName(doc.body, 'react-draggable-transparent-selection');\n    if (doc.selection) {\n      doc.selection.empty();\n    } else {\n      // Remove selection caused by scroll, unless it's a focused input\n      // (we use doc.defaultView in case we're in an iframe)\n      var selection = (doc.defaultView || window).getSelection();\n      if (selection && selection.type !== 'Caret') {\n        selection.removeAllRanges();\n      }\n    }\n  } catch (e) {\n    // probably IE\n  }\n}\nvar eventsFor = {\n  touch: {\n    start: 'touchstart',\n    move: 'touchmove',\n    stop: 'touchend'\n  },\n  mouse: {\n    start: 'mousedown',\n    move: 'mousemove',\n    stop: 'mouseup'\n  }\n};\nvar dragEventFor = eventsFor.mouse;\n\n/**\n * ColumnResizer for BaseTable\n */\nvar ColumnResizer = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(ColumnResizer, _React$PureComponent);\n  function ColumnResizer(props) {\n    var _this;\n    _this = _React$PureComponent.call(this, props) || this;\n    _this.isDragging = false;\n    _this.lastX = INVALID_VALUE;\n    _this.width = 0;\n    _this._setHandleRef = _this._setHandleRef.bind(_assertThisInitialized(_this));\n    _this._handleClick = _this._handleClick.bind(_assertThisInitialized(_this));\n    _this._handleMouseDown = _this._handleMouseDown.bind(_assertThisInitialized(_this));\n    _this._handleMouseUp = _this._handleMouseUp.bind(_assertThisInitialized(_this));\n    _this._handleTouchStart = _this._handleTouchStart.bind(_assertThisInitialized(_this));\n    _this._handleTouchEnd = _this._handleTouchEnd.bind(_assertThisInitialized(_this));\n    _this._handleDragStart = _this._handleDragStart.bind(_assertThisInitialized(_this));\n    _this._handleDragStop = _this._handleDragStop.bind(_assertThisInitialized(_this));\n    _this._handleDrag = _this._handleDrag.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  var _proto = ColumnResizer.prototype;\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.handleRef) {\n      var ownerDocument = this.handleRef.ownerDocument;\n      ownerDocument.removeEventListener(eventsFor.mouse.move, this._handleDrag);\n      ownerDocument.removeEventListener(eventsFor.mouse.stop, this._handleDragStop);\n      ownerDocument.removeEventListener(eventsFor.touch.move, this._handleDrag);\n      ownerDocument.removeEventListener(eventsFor.touch.stop, this._handleDragStop);\n      removeUserSelectStyles(ownerDocument);\n    }\n  };\n  _proto.render = function render() {\n    var _this$props = this.props,\n      style = _this$props.style,\n      column = _this$props.column,\n      onResizeStart = _this$props.onResizeStart,\n      onResize = _this$props.onResize,\n      onResizeStop = _this$props.onResizeStop,\n      minWidth = _this$props.minWidth,\n      rest = _objectWithoutPropertiesLoose(_this$props, _excluded);\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, rest, {\n      ref: this._setHandleRef,\n      onClick: this._handleClick,\n      onMouseDown: this._handleMouseDown,\n      onMouseUp: this._handleMouseUp,\n      onTouchStart: this._handleTouchStart,\n      onTouchEnd: this._handleTouchEnd,\n      style: _objectSpread({\n        userSelect: 'none',\n        touchAction: 'none',\n        position: 'absolute',\n        top: 0,\n        bottom: 0,\n        right: 0,\n        cursor: 'col-resize'\n      }, style)\n    }));\n  };\n  _proto._setHandleRef = function _setHandleRef(ref) {\n    this.handleRef = ref;\n  };\n  _proto._handleClick = function _handleClick(e) {\n    e.stopPropagation();\n  };\n  _proto._handleMouseDown = function _handleMouseDown(e) {\n    dragEventFor = eventsFor.mouse;\n    this._handleDragStart(e);\n  };\n  _proto._handleMouseUp = function _handleMouseUp(e) {\n    dragEventFor = eventsFor.mouse;\n    this._handleDragStop(e);\n  };\n  _proto._handleTouchStart = function _handleTouchStart(e) {\n    dragEventFor = eventsFor.touch;\n    this._handleDragStart(e);\n  };\n  _proto._handleTouchEnd = function _handleTouchEnd(e) {\n    dragEventFor = eventsFor.touch;\n    this._handleDragStop(e);\n  };\n  _proto._handleDragStart = function _handleDragStart(e) {\n    if (typeof e.button === 'number' && e.button !== 0) return;\n    this.isDragging = true;\n    this.lastX = INVALID_VALUE;\n    this.width = this.props.column.width;\n    this.props.onResizeStart(this.props.column);\n    var ownerDocument = this.handleRef.ownerDocument;\n    addUserSelectStyles(ownerDocument);\n    ownerDocument.addEventListener(dragEventFor.move, this._handleDrag);\n    ownerDocument.addEventListener(dragEventFor.stop, this._handleDragStop);\n  };\n  _proto._handleDragStop = function _handleDragStop(e) {\n    if (!this.isDragging) return;\n    this.isDragging = false;\n    this.props.onResizeStop(this.props.column);\n    var ownerDocument = this.handleRef.ownerDocument;\n    removeUserSelectStyles(ownerDocument);\n    ownerDocument.removeEventListener(dragEventFor.move, this._handleDrag);\n    ownerDocument.removeEventListener(dragEventFor.stop, this._handleDragStop);\n  };\n  _proto._handleDrag = function _handleDrag(e) {\n    var clientX = e.clientX;\n    if (e.type === eventsFor.touch.move) {\n      e.preventDefault();\n      if (e.targetTouches && e.targetTouches[0]) clientX = e.targetTouches[0].clientX;\n    }\n    var offsetParent = this.handleRef.offsetParent;\n    var offsetParentRect = offsetParent.getBoundingClientRect();\n    var x = clientX + offsetParent.scrollLeft - offsetParentRect.left;\n    if (this.lastX === INVALID_VALUE) {\n      this.lastX = x;\n      return;\n    }\n    var _this$props2 = this.props,\n      column = _this$props2.column,\n      MIN_WIDTH = _this$props2.minWidth;\n    var width = column.width,\n      maxWidth = column.maxWidth,\n      _column$minWidth = column.minWidth,\n      minWidth = _column$minWidth === void 0 ? MIN_WIDTH : _column$minWidth;\n    var movedX = x - this.lastX;\n    if (!movedX) return;\n    this.width = this.width + movedX;\n    this.lastX = x;\n    var newWidth = this.width;\n    if (maxWidth && newWidth > maxWidth) {\n      newWidth = maxWidth;\n    } else if (newWidth < minWidth) {\n      newWidth = minWidth;\n    }\n    if (newWidth === width) return;\n    this.props.onResize(column, newWidth);\n  };\n  return ColumnResizer;\n}(React.PureComponent);\nColumnResizer.defaultProps = {\n  onResizeStart: noop,\n  onResize: noop,\n  onResizeStop: noop,\n  minWidth: 30\n};\nColumnResizer.propTypes = {\n  /**\n   * Custom style for the drag handler\n   */\n  style: PropTypes.object,\n  /**\n   * The column object to be dragged\n   */\n  column: PropTypes.object,\n  /**\n   * A callback function when resizing started\n   * The callback is of the shape of `(column) => *`\n   */\n  onResizeStart: PropTypes.func,\n  /**\n   * A callback function when resizing the column\n   * The callback is of the shape of `(column, width) => *`\n   */\n  onResize: PropTypes.func,\n  /**\n   * A callback function when resizing stopped\n   * The callback is of the shape of `(column) => *`\n   */\n  onResizeStop: PropTypes.func,\n  /**\n   * Minimum width of the column could be resized to if the column's `minWidth` is not set\n   */\n  minWidth: PropTypes.number\n};\nexport default ColumnResizer;\n//# sourceMappingURL=ColumnResizer.js.map","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { FrozenDirection } from './Column';\nvar ColumnManager = /*#__PURE__*/function () {\n  function ColumnManager(columns, fixed) {\n    this._origColumns = [];\n    this.reset(columns, fixed);\n  }\n  var _proto = ColumnManager.prototype;\n  _proto._cache = function _cache(key, fn) {\n    if (key in this._cached) return this._cached[key];\n    this._cached[key] = fn();\n    return this._cached[key];\n  };\n  _proto.reset = function reset(columns, fixed) {\n    var _this = this;\n    this._columns = columns.map(function (column) {\n      var width = column.width;\n      if (column.resizable) {\n        // don't reset column's `width` if `width` prop doesn't change\n        var idx = _this._origColumns.findIndex(function (x) {\n          return x.key === column.key;\n        });\n        if (idx >= 0 && _this._origColumns[idx].width === column.width) {\n          width = _this._columns[idx].width;\n        }\n      }\n      return _objectSpread(_objectSpread({}, column), {}, {\n        width: width\n      });\n    });\n    this._origColumns = columns;\n    this._fixed = fixed;\n    this._cached = {};\n    this._columnStyles = this.recomputeColumnStyles();\n  };\n  _proto.resetCache = function resetCache() {\n    this._cached = {};\n  };\n  _proto.getOriginalColumns = function getOriginalColumns() {\n    return this._origColumns;\n  };\n  _proto.getColumns = function getColumns() {\n    return this._columns;\n  };\n  _proto.getVisibleColumns = function getVisibleColumns() {\n    var _this2 = this;\n    return this._cache('visibleColumns', function () {\n      return _this2._columns.filter(function (column) {\n        return !column.hidden;\n      });\n    });\n  };\n  _proto.hasFrozenColumns = function hasFrozenColumns() {\n    var _this3 = this;\n    return this._cache('hasFrozenColumns', function () {\n      return _this3._fixed && _this3.getVisibleColumns().some(function (column) {\n        return !!column.frozen;\n      });\n    });\n  };\n  _proto.hasLeftFrozenColumns = function hasLeftFrozenColumns() {\n    var _this4 = this;\n    return this._cache('hasLeftFrozenColumns', function () {\n      return _this4._fixed && _this4.getVisibleColumns().some(function (column) {\n        return column.frozen === FrozenDirection.LEFT || column.frozen === true;\n      });\n    });\n  };\n  _proto.hasRightFrozenColumns = function hasRightFrozenColumns() {\n    var _this5 = this;\n    return this._cache('hasRightFrozenColumns', function () {\n      return _this5._fixed && _this5.getVisibleColumns().some(function (column) {\n        return column.frozen === FrozenDirection.RIGHT;\n      });\n    });\n  };\n  _proto.getMainColumns = function getMainColumns() {\n    var _this6 = this;\n    return this._cache('mainColumns', function () {\n      var columns = _this6.getVisibleColumns();\n      if (!_this6.hasFrozenColumns()) return columns;\n      var mainColumns = [];\n      _this6.getLeftFrozenColumns().forEach(function (column) {\n        var _objectSpread2;\n        //columns placeholder for the fixed table above them\n        mainColumns.push(_objectSpread(_objectSpread({}, column), {}, (_objectSpread2 = {}, _objectSpread2[ColumnManager.PlaceholderKey] = true, _objectSpread2)));\n      });\n      _this6.getVisibleColumns().forEach(function (column) {\n        if (!column.frozen) mainColumns.push(column);\n      });\n      _this6.getRightFrozenColumns().forEach(function (column) {\n        var _objectSpread3;\n        mainColumns.push(_objectSpread(_objectSpread({}, column), {}, (_objectSpread3 = {}, _objectSpread3[ColumnManager.PlaceholderKey] = true, _objectSpread3)));\n      });\n      return mainColumns;\n    });\n  };\n  _proto.getLeftFrozenColumns = function getLeftFrozenColumns() {\n    var _this7 = this;\n    return this._cache('leftFrozenColumns', function () {\n      if (!_this7._fixed) return [];\n      return _this7.getVisibleColumns().filter(function (column) {\n        return column.frozen === FrozenDirection.LEFT || column.frozen === true;\n      });\n    });\n  };\n  _proto.getRightFrozenColumns = function getRightFrozenColumns() {\n    var _this8 = this;\n    return this._cache('rightFrozenColumns', function () {\n      if (!_this8._fixed) return [];\n      return _this8.getVisibleColumns().filter(function (column) {\n        return column.frozen === FrozenDirection.RIGHT;\n      });\n    });\n  };\n  _proto.getColumn = function getColumn(key) {\n    var idx = this._columns.findIndex(function (column) {\n      return column.key === key;\n    });\n    return this._columns[idx];\n  };\n  _proto.getColumnsWidth = function getColumnsWidth() {\n    var _this9 = this;\n    return this._cache('columnsWidth', function () {\n      return _this9.recomputeColumnsWidth(_this9.getVisibleColumns());\n    });\n  };\n  _proto.getLeftFrozenColumnsWidth = function getLeftFrozenColumnsWidth() {\n    var _this10 = this;\n    return this._cache('leftFrozenColumnsWidth', function () {\n      return _this10.recomputeColumnsWidth(_this10.getLeftFrozenColumns());\n    });\n  };\n  _proto.getRightFrozenColumnsWidth = function getRightFrozenColumnsWidth() {\n    var _this11 = this;\n    return this._cache('rightFrozenColumnsWidth', function () {\n      return _this11.recomputeColumnsWidth(_this11.getRightFrozenColumns());\n    });\n  };\n  _proto.recomputeColumnsWidth = function recomputeColumnsWidth(columns) {\n    return columns.reduce(function (width, column) {\n      return width + column.width;\n    }, 0);\n  };\n  _proto.setColumnWidth = function setColumnWidth(key, width) {\n    var column = this.getColumn(key);\n    column.width = width;\n    this._cached = {};\n    this._columnStyles[column.key] = this.recomputeColumnStyle(column);\n  };\n  _proto.getColumnStyle = function getColumnStyle(key) {\n    return this._columnStyles[key];\n  };\n  _proto.getColumnStyles = function getColumnStyles() {\n    return this._columnStyles;\n  };\n  _proto.recomputeColumnStyle = function recomputeColumnStyle(column) {\n    var flexGrow = 0;\n    var flexShrink = 0;\n    if (!this._fixed) {\n      flexGrow = typeof column.flexGrow === 'number' ? column.flexGrow : 0;\n      flexShrink = typeof column.flexShrink === 'number' ? column.flexShrink : 1;\n    }\n    // workaround for Flex bug on IE: https://github.com/philipwalton/flexbugs#flexbug-7\n    var flexValue = flexGrow + \" \" + flexShrink + \" auto\";\n    var style = _objectSpread(_objectSpread({}, column.style), {}, {\n      flex: flexValue,\n      msFlex: flexValue,\n      WebkitFlex: flexValue,\n      width: column.width,\n      overflow: 'hidden'\n    });\n    if (!this._fixed && column.maxWidth) {\n      style.maxWidth = column.maxWidth;\n    }\n    if (!this._fixed && column.minWidth) {\n      style.minWidth = column.minWidth;\n    }\n    return style;\n  };\n  _proto.recomputeColumnStyles = function recomputeColumnStyles() {\n    var _this12 = this;\n    return this._columns.reduce(function (styles, column) {\n      styles[column.key] = _this12.recomputeColumnStyle(column);\n      return styles;\n    }, {});\n  };\n  return ColumnManager;\n}();\nexport { ColumnManager as default };\nColumnManager.PlaceholderKey = '__placeholder__';\n//# sourceMappingURL=ColumnManager.js.map","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nvar _excluded = [\"tagName\"],\n  _excluded2 = [\"tagName\"],\n  _excluded3 = [\"width\", \"headerHeight\", \"rowHeight\", \"fixed\", \"estimatedRowHeight\"],\n  _excluded4 = [\"width\", \"headerHeight\", \"rowHeight\", \"estimatedRowHeight\"],\n  _excluded5 = [\"width\", \"headerHeight\", \"rowHeight\", \"estimatedRowHeight\"];\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\nimport memoize from 'memoize-one';\nimport GridTable from './GridTable';\nimport TableHeaderRow from './TableHeaderRow';\nimport TableRow from './TableRow';\nimport TableHeaderCell from './TableHeaderCell';\nimport TableCell from './TableCell';\nimport Column, { Alignment, FrozenDirection } from './Column';\nimport SortOrder from './SortOrder';\nimport ExpandIcon from './ExpandIcon';\nimport SortIndicator from './SortIndicator';\nimport ColumnResizer from './ColumnResizer';\nimport ColumnManager from './ColumnManager';\nimport { renderElement, normalizeColumns, getScrollbarSize as defaultGetScrollbarSize, getEstimatedTotalRowsHeight, isObjectEqual, callOrReturn, hasChildren, flattenOnKeys, cloneArray, getValue, throttle, debounce, noop } from './utils';\nvar getColumns = memoize(function (columns, children) {\n  return columns || normalizeColumns(children);\n});\nvar getContainerStyle = function getContainerStyle(width, maxWidth, height) {\n  return {\n    width: width,\n    maxWidth: maxWidth,\n    height: height,\n    overflow: 'hidden'\n  };\n};\nvar DEFAULT_COMPONENTS = {\n  TableCell: TableCell,\n  TableHeaderCell: TableHeaderCell,\n  ExpandIcon: ExpandIcon,\n  SortIndicator: SortIndicator\n};\nvar RESIZE_THROTTLE_WAIT = 50;\n\n// used for memoization\nvar EMPTY_ARRAY = [];\n\n/**\n * React table component\n */\nvar BaseTable = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(BaseTable, _React$PureComponent);\n  function BaseTable(props) {\n    var _this;\n    _this = _React$PureComponent.call(this, props) || this;\n    var columns = props.columns,\n      children = props.children,\n      defaultExpandedRowKeys = props.defaultExpandedRowKeys;\n    _this.state = {\n      scrollbarSize: 0,\n      hoveredRowKey: null,\n      resizingKey: null,\n      resizingWidth: 0,\n      expandedRowKeys: cloneArray(defaultExpandedRowKeys)\n    };\n    _this.columnManager = new ColumnManager(getColumns(columns, children), props.fixed);\n    _this._setContainerRef = _this._setContainerRef.bind(_assertThisInitialized(_this));\n    _this._setMainTableRef = _this._setMainTableRef.bind(_assertThisInitialized(_this));\n    _this._setLeftTableRef = _this._setLeftTableRef.bind(_assertThisInitialized(_this));\n    _this._setRightTableRef = _this._setRightTableRef.bind(_assertThisInitialized(_this));\n    _this.renderExpandIcon = _this.renderExpandIcon.bind(_assertThisInitialized(_this));\n    _this.renderRow = _this.renderRow.bind(_assertThisInitialized(_this));\n    _this.renderRowCell = _this.renderRowCell.bind(_assertThisInitialized(_this));\n    _this.renderHeader = _this.renderHeader.bind(_assertThisInitialized(_this));\n    _this.renderHeaderCell = _this.renderHeaderCell.bind(_assertThisInitialized(_this));\n    _this._handleScroll = _this._handleScroll.bind(_assertThisInitialized(_this));\n    _this._handleVerticalScroll = _this._handleVerticalScroll.bind(_assertThisInitialized(_this));\n    _this._handleRowsRendered = _this._handleRowsRendered.bind(_assertThisInitialized(_this));\n    _this._handleRowHover = _this._handleRowHover.bind(_assertThisInitialized(_this));\n    _this._handleRowExpand = _this._handleRowExpand.bind(_assertThisInitialized(_this));\n    _this._handleColumnResize = throttle(_this._handleColumnResize.bind(_assertThisInitialized(_this)), RESIZE_THROTTLE_WAIT);\n    _this._handleColumnResizeStart = _this._handleColumnResizeStart.bind(_assertThisInitialized(_this));\n    _this._handleColumnResizeStop = _this._handleColumnResizeStop.bind(_assertThisInitialized(_this));\n    _this._handleColumnSort = _this._handleColumnSort.bind(_assertThisInitialized(_this));\n    _this._handleFrozenRowHeightChange = _this._handleFrozenRowHeightChange.bind(_assertThisInitialized(_this));\n    _this._handleRowHeightChange = _this._handleRowHeightChange.bind(_assertThisInitialized(_this));\n    _this._getLeftTableContainerStyle = memoize(getContainerStyle);\n    _this._getRightTableContainerStyle = memoize(getContainerStyle);\n    _this._flattenOnKeys = memoize(function (tree, keys, dataKey) {\n      _this._depthMap = {};\n      return flattenOnKeys(tree, keys, _this._depthMap, dataKey);\n    });\n    _this._resetColumnManager = memoize(function (columns, fixed) {\n      _this.columnManager.reset(columns, fixed);\n      if (_this.props.estimatedRowHeight && fixed) {\n        if (!_this.columnManager.hasLeftFrozenColumns()) {\n          _this._leftRowHeightMap = {};\n        }\n        if (!_this.columnManager.hasRightFrozenColumns()) {\n          _this._rightRowHeightMap = {};\n        }\n      }\n    }, function (newArgs, lastArgs) {\n      return isObjectEqual(newArgs, lastArgs, _this.props.ignoreFunctionInColumnCompare);\n    });\n    _this._isResetting = false;\n    _this._resetIndex = null;\n    _this._rowHeightMap = {};\n    _this._rowHeightMapBuffer = {};\n    _this._mainRowHeightMap = {};\n    _this._leftRowHeightMap = {};\n    _this._rightRowHeightMap = {};\n    _this._getEstimatedTotalRowsHeight = memoize(getEstimatedTotalRowsHeight);\n    _this._getRowHeight = _this._getRowHeight.bind(_assertThisInitialized(_this));\n    _this._updateRowHeights = debounce(function () {\n      _this._isResetting = true;\n      _this._rowHeightMap = _objectSpread(_objectSpread({}, _this._rowHeightMap), _this._rowHeightMapBuffer);\n      _this.resetAfterRowIndex(_this._resetIndex, false);\n      _this._rowHeightMapBuffer = {};\n      _this._resetIndex = null;\n      _this.forceUpdateTable();\n      _this.forceUpdate();\n      _this._isResetting = false;\n    }, 0);\n    _this._scroll = {\n      scrollLeft: 0,\n      scrollTop: 0\n    };\n    _this._scrollHeight = 0;\n    _this._lastScannedRowIndex = -1;\n    _this._hasDataChangedSinceEndReached = true;\n    _this._data = props.data;\n    _this._depthMap = {};\n    _this._horizontalScrollbarSize = 0;\n    _this._verticalScrollbarSize = 0;\n    _this._scrollbarPresenceChanged = false;\n    return _this;\n  }\n\n  /**\n   * Get the DOM node of the table\n   */\n  var _proto = BaseTable.prototype;\n  _proto.getDOMNode = function getDOMNode() {\n    return this.tableNode;\n  }\n\n  /**\n   * Get the column manager\n   */;\n  _proto.getColumnManager = function getColumnManager() {\n    return this.columnManager;\n  }\n\n  /**\n   * Get internal `expandedRowKeys` state\n   */;\n  _proto.getExpandedRowKeys = function getExpandedRowKeys() {\n    var expandedRowKeys = this.props.expandedRowKeys;\n    return expandedRowKeys !== undefined ? expandedRowKeys || EMPTY_ARRAY : this.state.expandedRowKeys;\n  }\n\n  /**\n   * Get the expanded state, fallback to normal state if not expandable.\n   */;\n  _proto.getExpandedState = function getExpandedState() {\n    return {\n      expandedData: this._data,\n      expandedRowKeys: this.getExpandedRowKeys(),\n      expandedDepthMap: this._depthMap\n    };\n  }\n\n  /**\n   * Get the total height of all rows, including expanded rows.\n   */;\n  _proto.getTotalRowsHeight = function getTotalRowsHeight() {\n    var _this$props = this.props,\n      rowHeight = _this$props.rowHeight,\n      estimatedRowHeight = _this$props.estimatedRowHeight;\n    if (estimatedRowHeight) {\n      return this.table ? this.table.getTotalRowsHeight() : this._getEstimatedTotalRowsHeight(this._data, estimatedRowHeight);\n    }\n    return this._data.length * rowHeight;\n  }\n\n  /**\n   * Get the total width of all columns.\n   */;\n  _proto.getTotalColumnsWidth = function getTotalColumnsWidth() {\n    return this.columnManager.getColumnsWidth();\n  }\n\n  /**\n   * Forcefully re-render the inner Grid component.\n   *\n   * Calling `forceUpdate` on `Table` may not re-render the inner Grid since it uses `shallowCompare` as a performance optimization.\n   * Use this method if you want to manually trigger a re-render.\n   * This may be appropriate if the underlying row data has changed but the row sizes themselves have not.\n   */;\n  _proto.forceUpdateTable = function forceUpdateTable() {\n    this.table && this.table.forceUpdateTable();\n    this.leftTable && this.leftTable.forceUpdateTable();\n    this.rightTable && this.rightTable.forceUpdateTable();\n  }\n\n  /**\n   * Reset cached offsets for positioning after a specific rowIndex, should be used only in dynamic mode(estimatedRowHeight is provided)\n   *\n   * @param {number} rowIndex\n   * @param {boolean} shouldForceUpdate\n   */;\n  _proto.resetAfterRowIndex = function resetAfterRowIndex(rowIndex, shouldForceUpdate) {\n    if (rowIndex === void 0) {\n      rowIndex = 0;\n    }\n    if (shouldForceUpdate === void 0) {\n      shouldForceUpdate = true;\n    }\n    if (!this.props.estimatedRowHeight) return;\n    this.table && this.table.resetAfterRowIndex(rowIndex, shouldForceUpdate);\n    this.leftTable && this.leftTable.resetAfterRowIndex(rowIndex, shouldForceUpdate);\n    this.rightTable && this.rightTable.resetAfterRowIndex(rowIndex, shouldForceUpdate);\n  }\n\n  /**\n   * Reset row height cache, useful if `data` changed entirely, should be used only in dynamic mode(estimatedRowHeight is provided)\n   */;\n  _proto.resetRowHeightCache = function resetRowHeightCache() {\n    if (!this.props.estimatedRowHeight) return;\n    this._resetIndex = null;\n    this._rowHeightMapBuffer = {};\n    this._rowHeightMap = {};\n    this._mainRowHeightMap = {};\n    this._leftRowHeightMap = {};\n    this._rightRowHeightMap = {};\n  }\n\n  /**\n   * Scroll to the specified offset.\n   * Useful for animating position changes.\n   *\n   * @param {object} offset\n   */;\n  _proto.scrollToPosition = function scrollToPosition(offset) {\n    this._scroll = offset;\n    this.table && this.table.scrollToPosition(offset);\n    this.leftTable && this.leftTable.scrollToTop(offset.scrollTop);\n    this.rightTable && this.rightTable.scrollToTop(offset.scrollTop);\n  }\n\n  /**\n   * Scroll to the specified offset vertically.\n   *\n   * @param {number} scrollTop\n   */;\n  _proto.scrollToTop = function scrollToTop(scrollTop) {\n    this._scroll.scrollTop = scrollTop;\n    this.table && this.table.scrollToPosition(this._scroll);\n    this.leftTable && this.leftTable.scrollToTop(scrollTop);\n    this.rightTable && this.rightTable.scrollToTop(scrollTop);\n  }\n\n  /**\n   * Scroll to the specified offset horizontally.\n   *\n   * @param {number} scrollLeft\n   */;\n  _proto.scrollToLeft = function scrollToLeft(scrollLeft) {\n    this._scroll.scrollLeft = scrollLeft;\n    this.table && this.table.scrollToPosition(this._scroll);\n  }\n\n  /**\n   * Scroll to the specified row.\n   * By default, the table will scroll as little as possible to ensure the row is visible.\n   * You can control the alignment of the row though by specifying an align property. Acceptable values are:\n   *\n   * - `auto` (default) - Scroll as little as possible to ensure the row is visible.\n   * - `smart` - Same as `auto` if it is less than one viewport away, or it's the same as`center`.\n   * - `center` - Center align the row within the table.\n   * - `end` - Align the row to the bottom side of the table.\n   * - `start` - Align the row to the top side of the table.\n   *\n   * @param {number} rowIndex\n   * @param {string} align\n   */;\n  _proto.scrollToRow = function scrollToRow(rowIndex, align) {\n    if (rowIndex === void 0) {\n      rowIndex = 0;\n    }\n    if (align === void 0) {\n      align = 'auto';\n    }\n    this.table && this.table.scrollToRow(rowIndex, align);\n    this.leftTable && this.leftTable.scrollToRow(rowIndex, align);\n    this.rightTable && this.rightTable.scrollToRow(rowIndex, align);\n  }\n\n  /**\n   * Set `expandedRowKeys` manually.\n   * This method is available only if `expandedRowKeys` is uncontrolled.\n   *\n   * @param {array} expandedRowKeys\n   */;\n  _proto.setExpandedRowKeys = function setExpandedRowKeys(expandedRowKeys) {\n    // if `expandedRowKeys` is controlled\n    if (this.props.expandedRowKeys !== undefined) return;\n    this.setState({\n      expandedRowKeys: cloneArray(expandedRowKeys)\n    });\n  };\n  _proto.renderExpandIcon = function renderExpandIcon(_ref) {\n    var rowData = _ref.rowData,\n      rowIndex = _ref.rowIndex,\n      depth = _ref.depth,\n      onExpand = _ref.onExpand;\n    var _this$props2 = this.props,\n      rowKey = _this$props2.rowKey,\n      expandColumnKey = _this$props2.expandColumnKey,\n      expandIconProps = _this$props2.expandIconProps;\n    if (!expandColumnKey) return null;\n    var expandable = rowIndex >= 0 && hasChildren(rowData);\n    var expanded = rowIndex >= 0 && this.getExpandedRowKeys().indexOf(rowData[rowKey]) >= 0;\n    var extraProps = callOrReturn(expandIconProps, {\n      rowData: rowData,\n      rowIndex: rowIndex,\n      depth: depth,\n      expandable: expandable,\n      expanded: expanded\n    });\n    var ExpandIcon = this._getComponent('ExpandIcon');\n    return /*#__PURE__*/React.createElement(ExpandIcon, _extends({\n      depth: depth,\n      expandable: expandable,\n      expanded: expanded\n    }, extraProps, {\n      onExpand: onExpand\n    }));\n  };\n  _proto.renderRow = function renderRow(_ref2) {\n    var _cn;\n    var isScrolling = _ref2.isScrolling,\n      columns = _ref2.columns,\n      rowData = _ref2.rowData,\n      rowIndex = _ref2.rowIndex,\n      style = _ref2.style;\n    var _this$props3 = this.props,\n      rowClassName = _this$props3.rowClassName,\n      rowRenderer = _this$props3.rowRenderer,\n      rowEventHandlers = _this$props3.rowEventHandlers,\n      expandColumnKey = _this$props3.expandColumnKey,\n      estimatedRowHeight = _this$props3.estimatedRowHeight;\n    var rowClass = callOrReturn(rowClassName, {\n      columns: columns,\n      rowData: rowData,\n      rowIndex: rowIndex\n    });\n    var extraProps = callOrReturn(this.props.rowProps, {\n      columns: columns,\n      rowData: rowData,\n      rowIndex: rowIndex\n    });\n    var rowKey = rowData[this.props.rowKey];\n    var depth = this._depthMap[rowKey] || 0;\n    var className = cn(this._prefixClass('row'), rowClass, (_cn = {}, _cn[this._prefixClass(\"row--depth-\" + depth)] = !!expandColumnKey && rowIndex >= 0, _cn[this._prefixClass('row--expanded')] = !!expandColumnKey && this.getExpandedRowKeys().indexOf(rowKey) >= 0, _cn[this._prefixClass('row--hovered')] = !isScrolling && rowKey === this.state.hoveredRowKey, _cn[this._prefixClass('row--frozen')] = depth === 0 && rowIndex < 0, _cn[this._prefixClass('row--customized')] = rowRenderer, _cn));\n    var hasFrozenColumns = this.columnManager.hasFrozenColumns();\n    var rowProps = _objectSpread(_objectSpread({}, extraProps), {}, {\n      role: 'row',\n      key: \"row-\" + rowKey,\n      isScrolling: isScrolling,\n      className: className,\n      style: style,\n      columns: columns,\n      rowIndex: rowIndex,\n      rowData: rowData,\n      rowKey: rowKey,\n      expandColumnKey: expandColumnKey,\n      depth: depth,\n      rowEventHandlers: rowEventHandlers,\n      rowRenderer: rowRenderer,\n      // for frozen rows we use fixed rowHeight\n      estimatedRowHeight: rowIndex >= 0 ? estimatedRowHeight : undefined,\n      getIsResetting: this._getIsResetting,\n      cellRenderer: this.renderRowCell,\n      expandIconRenderer: this.renderExpandIcon,\n      onRowExpand: this._handleRowExpand,\n      // for fixed table, we need to sync the hover state across the inner tables\n      onRowHover: hasFrozenColumns ? this._handleRowHover : null,\n      onRowHeightChange: hasFrozenColumns ? this._handleFrozenRowHeightChange : this._handleRowHeightChange\n    });\n    return /*#__PURE__*/React.createElement(TableRow, rowProps);\n  };\n  _proto.renderRowCell = function renderRowCell(_ref3) {\n    var _cn2;\n    var isScrolling = _ref3.isScrolling,\n      columns = _ref3.columns,\n      column = _ref3.column,\n      columnIndex = _ref3.columnIndex,\n      rowData = _ref3.rowData,\n      rowIndex = _ref3.rowIndex,\n      expandIcon = _ref3.expandIcon;\n    if (column[ColumnManager.PlaceholderKey]) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"row-\" + rowData[this.props.rowKey] + \"-cell-\" + column.key + \"-placeholder\",\n        className: this._prefixClass('row-cell-placeholder'),\n        style: this.columnManager.getColumnStyle(column.key)\n      });\n    }\n    var className = column.className,\n      dataKey = column.dataKey,\n      dataGetter = column.dataGetter,\n      cellRenderer = column.cellRenderer;\n    var TableCell = this._getComponent('TableCell');\n    var cellData = dataGetter ? dataGetter({\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      rowData: rowData,\n      rowIndex: rowIndex\n    }) : getValue(rowData, dataKey);\n    var cellProps = {\n      isScrolling: isScrolling,\n      cellData: cellData,\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      rowData: rowData,\n      rowIndex: rowIndex,\n      container: this\n    };\n    var cell = renderElement(cellRenderer || /*#__PURE__*/React.createElement(TableCell, {\n      className: this._prefixClass('row-cell-text')\n    }), cellProps);\n    var cellCls = callOrReturn(className, {\n      cellData: cellData,\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      rowData: rowData,\n      rowIndex: rowIndex\n    });\n    var cls = cn(this._prefixClass('row-cell'), cellCls, (_cn2 = {}, _cn2[this._prefixClass('row-cell--align-center')] = column.align === Alignment.CENTER, _cn2[this._prefixClass('row-cell--align-right')] = column.align === Alignment.RIGHT, _cn2));\n    var extraProps = callOrReturn(this.props.cellProps, {\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      rowData: rowData,\n      rowIndex: rowIndex\n    });\n    var _ref4 = extraProps || {},\n      tagName = _ref4.tagName,\n      rest = _objectWithoutPropertiesLoose(_ref4, _excluded);\n    var Tag = tagName || 'div';\n    return /*#__PURE__*/React.createElement(Tag, _extends({\n      role: \"gridcell\",\n      key: \"row-\" + rowData[this.props.rowKey] + \"-cell-\" + column.key\n    }, rest, {\n      className: cls,\n      style: this.columnManager.getColumnStyle(column.key)\n    }), expandIcon, cell);\n  };\n  _proto.renderHeader = function renderHeader(_ref5) {\n    var _cn3;\n    var columns = _ref5.columns,\n      headerIndex = _ref5.headerIndex,\n      style = _ref5.style;\n    var _this$props4 = this.props,\n      headerClassName = _this$props4.headerClassName,\n      headerRenderer = _this$props4.headerRenderer;\n    var headerClass = callOrReturn(headerClassName, {\n      columns: columns,\n      headerIndex: headerIndex\n    });\n    var extraProps = callOrReturn(this.props.headerProps, {\n      columns: columns,\n      headerIndex: headerIndex\n    });\n    var className = cn(this._prefixClass('header-row'), headerClass, (_cn3 = {}, _cn3[this._prefixClass('header-row--resizing')] = !!this.state.resizingKey, _cn3[this._prefixClass('header-row--customized')] = headerRenderer, _cn3));\n    var headerProps = _objectSpread(_objectSpread({}, extraProps), {}, {\n      role: 'row',\n      key: \"header-\" + headerIndex,\n      className: className,\n      style: style,\n      columns: columns,\n      headerIndex: headerIndex,\n      headerRenderer: headerRenderer,\n      cellRenderer: this.renderHeaderCell,\n      expandColumnKey: this.props.expandColumnKey,\n      expandIcon: this._getComponent('ExpandIcon')\n    });\n    return /*#__PURE__*/React.createElement(TableHeaderRow, headerProps);\n  };\n  _proto.renderHeaderCell = function renderHeaderCell(_ref6) {\n    var _cn4, _cn5;\n    var columns = _ref6.columns,\n      column = _ref6.column,\n      columnIndex = _ref6.columnIndex,\n      headerIndex = _ref6.headerIndex,\n      expandIcon = _ref6.expandIcon;\n    if (column[ColumnManager.PlaceholderKey]) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"header-\" + headerIndex + \"-cell-\" + column.key + \"-placeholder\",\n        className: this._prefixClass('header-cell-placeholder'),\n        style: this.columnManager.getColumnStyle(column.key)\n      });\n    }\n    var headerClassName = column.headerClassName,\n      headerRenderer = column.headerRenderer;\n    var _this$props5 = this.props,\n      sortBy = _this$props5.sortBy,\n      sortState = _this$props5.sortState,\n      headerCellProps = _this$props5.headerCellProps;\n    var TableHeaderCell = this._getComponent('TableHeaderCell');\n    var SortIndicator = this._getComponent('SortIndicator');\n    var cellProps = {\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      headerIndex: headerIndex,\n      container: this\n    };\n    var cell = renderElement(headerRenderer || /*#__PURE__*/React.createElement(TableHeaderCell, {\n      className: this._prefixClass('header-cell-text')\n    }), cellProps);\n    var sorting, sortOrder;\n    if (sortState) {\n      var order = sortState[column.key];\n      sorting = order === SortOrder.ASC || order === SortOrder.DESC;\n      sortOrder = sorting ? order : SortOrder.ASC;\n    } else {\n      sorting = column.key === sortBy.key;\n      sortOrder = sorting ? sortBy.order : SortOrder.ASC;\n    }\n    var cellCls = callOrReturn(headerClassName, {\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      headerIndex: headerIndex\n    });\n    var cls = cn(this._prefixClass('header-cell'), cellCls, (_cn4 = {}, _cn4[this._prefixClass('header-cell--align-center')] = column.align === Alignment.CENTER, _cn4[this._prefixClass('header-cell--align-right')] = column.align === Alignment.RIGHT, _cn4[this._prefixClass('header-cell--sortable')] = column.sortable, _cn4[this._prefixClass('header-cell--sorting')] = sorting, _cn4[this._prefixClass('header-cell--resizing')] = column.key === this.state.resizingKey, _cn4));\n    var extraProps = callOrReturn(headerCellProps, {\n      columns: columns,\n      column: column,\n      columnIndex: columnIndex,\n      headerIndex: headerIndex\n    });\n    var _ref7 = extraProps || {},\n      tagName = _ref7.tagName,\n      rest = _objectWithoutPropertiesLoose(_ref7, _excluded2);\n    var Tag = tagName || 'div';\n    return /*#__PURE__*/React.createElement(Tag, _extends({\n      role: \"gridcell\",\n      key: \"header-\" + headerIndex + \"-cell-\" + column.key,\n      onClick: column.sortable ? this._handleColumnSort : null\n    }, rest, {\n      className: cls,\n      style: this.columnManager.getColumnStyle(column.key),\n      \"data-key\": column.key\n    }), expandIcon, cell, column.sortable && /*#__PURE__*/React.createElement(SortIndicator, {\n      sorting: sorting,\n      sortOrder: sortOrder,\n      className: cn(this._prefixClass('sort-indicator'), (_cn5 = {}, _cn5[this._prefixClass('sort-indicator--descending')] = sortOrder === SortOrder.DESC, _cn5))\n    }), column.resizable && /*#__PURE__*/React.createElement(ColumnResizer, {\n      className: this._prefixClass('column-resizer'),\n      column: column,\n      onResizeStart: this._handleColumnResizeStart,\n      onResizeStop: this._handleColumnResizeStop,\n      onResize: this._handleColumnResize\n    }));\n  };\n  _proto.renderMainTable = function renderMainTable() {\n    var _this$props6 = this.props,\n      width = _this$props6.width,\n      headerHeight = _this$props6.headerHeight,\n      rowHeight = _this$props6.rowHeight,\n      fixed = _this$props6.fixed,\n      estimatedRowHeight = _this$props6.estimatedRowHeight,\n      rest = _objectWithoutPropertiesLoose(_this$props6, _excluded3);\n    var height = this._getTableHeight();\n    var tableWidth = width - this._verticalScrollbarSize;\n    if (fixed) {\n      var columnsWidth = this.columnManager.getColumnsWidth();\n      // make sure `scrollLeft` is always integer to fix a sync bug when scrolling to end horizontally\n      tableWidth = Math.max(Math.round(columnsWidth), tableWidth);\n    }\n    return /*#__PURE__*/React.createElement(GridTable, _extends({}, rest, this.state, {\n      className: this._prefixClass('table-main'),\n      ref: this._setMainTableRef,\n      data: this._data,\n      columns: this.columnManager.getMainColumns(),\n      width: width,\n      height: height,\n      headerHeight: headerHeight,\n      rowHeight: rowHeight,\n      estimatedRowHeight: estimatedRowHeight,\n      getRowHeight: estimatedRowHeight ? this._getRowHeight : undefined,\n      headerWidth: tableWidth + (fixed ? this._verticalScrollbarSize : 0),\n      bodyWidth: tableWidth,\n      headerRenderer: this.renderHeader,\n      rowRenderer: this.renderRow,\n      onScroll: this._handleScroll,\n      onRowsRendered: this._handleRowsRendered\n    }));\n  };\n  _proto.renderLeftTable = function renderLeftTable() {\n    if (!this.columnManager.hasLeftFrozenColumns()) return null;\n    var _this$props7 = this.props,\n      width = _this$props7.width,\n      headerHeight = _this$props7.headerHeight,\n      rowHeight = _this$props7.rowHeight,\n      estimatedRowHeight = _this$props7.estimatedRowHeight,\n      rest = _objectWithoutPropertiesLoose(_this$props7, _excluded4);\n    var containerHeight = this._getFrozenContainerHeight();\n    var offset = this._verticalScrollbarSize || 20;\n    var columnsWidth = this.columnManager.getLeftFrozenColumnsWidth();\n    return /*#__PURE__*/React.createElement(GridTable, _extends({}, rest, this.state, {\n      containerStyle: this._getLeftTableContainerStyle(columnsWidth, width, containerHeight),\n      className: this._prefixClass('table-frozen-left'),\n      ref: this._setLeftTableRef,\n      data: this._data,\n      columns: this.columnManager.getLeftFrozenColumns(),\n      initialScrollTop: this._scroll.scrollTop,\n      width: columnsWidth + offset,\n      height: containerHeight,\n      headerHeight: headerHeight,\n      rowHeight: rowHeight,\n      estimatedRowHeight: estimatedRowHeight,\n      getRowHeight: estimatedRowHeight ? this._getRowHeight : undefined,\n      headerWidth: columnsWidth + offset,\n      bodyWidth: columnsWidth + offset,\n      headerRenderer: this.renderHeader,\n      rowRenderer: this.renderRow,\n      onScroll: this._handleVerticalScroll,\n      onRowsRendered: noop\n    }));\n  };\n  _proto.renderRightTable = function renderRightTable() {\n    if (!this.columnManager.hasRightFrozenColumns()) return null;\n    var _this$props8 = this.props,\n      width = _this$props8.width,\n      headerHeight = _this$props8.headerHeight,\n      rowHeight = _this$props8.rowHeight,\n      estimatedRowHeight = _this$props8.estimatedRowHeight,\n      rest = _objectWithoutPropertiesLoose(_this$props8, _excluded5);\n    var containerHeight = this._getFrozenContainerHeight();\n    var columnsWidth = this.columnManager.getRightFrozenColumnsWidth();\n    var scrollbarWidth = this._verticalScrollbarSize;\n    return /*#__PURE__*/React.createElement(GridTable, _extends({}, rest, this.state, {\n      containerStyle: this._getLeftTableContainerStyle(columnsWidth + scrollbarWidth, width, containerHeight),\n      className: this._prefixClass('table-frozen-right'),\n      ref: this._setRightTableRef,\n      data: this._data,\n      columns: this.columnManager.getRightFrozenColumns(),\n      initialScrollTop: this._scroll.scrollTop,\n      width: columnsWidth + scrollbarWidth,\n      height: containerHeight,\n      headerHeight: headerHeight,\n      rowHeight: rowHeight,\n      estimatedRowHeight: estimatedRowHeight,\n      getRowHeight: estimatedRowHeight ? this._getRowHeight : undefined,\n      headerWidth: columnsWidth + scrollbarWidth,\n      bodyWidth: columnsWidth,\n      headerRenderer: this.renderHeader,\n      rowRenderer: this.renderRow,\n      onScroll: this._handleVerticalScroll,\n      onRowsRendered: noop\n    }));\n  };\n  _proto.renderResizingLine = function renderResizingLine() {\n    var _this$props9 = this.props,\n      width = _this$props9.width,\n      fixed = _this$props9.fixed;\n    var resizingKey = this.state.resizingKey;\n    if (!fixed || !resizingKey) return null;\n    var columns = this.columnManager.getMainColumns();\n    var idx = columns.findIndex(function (column) {\n      return column.key === resizingKey;\n    });\n    var column = columns[idx];\n    var columnWidth = column.width,\n      frozen = column.frozen;\n    var leftWidth = this.columnManager.recomputeColumnsWidth(columns.slice(0, idx));\n    var left = leftWidth + columnWidth;\n    if (!frozen) {\n      left -= this._scroll.scrollLeft;\n    } else if (frozen === FrozenDirection.RIGHT) {\n      var rightWidth = this.columnManager.recomputeColumnsWidth(columns.slice(idx + 1));\n      if (rightWidth + columnWidth > width - this._verticalScrollbarSize) {\n        left = columnWidth;\n      } else {\n        left = width - this._verticalScrollbarSize - rightWidth;\n      }\n    }\n    var style = {\n      left: left,\n      height: this._getTableHeight() - this._horizontalScrollbarSize\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: this._prefixClass('resizing-line'),\n      style: style\n    });\n  };\n  _proto.renderFooter = function renderFooter() {\n    var _this$props10 = this.props,\n      footerHeight = _this$props10.footerHeight,\n      footerRenderer = _this$props10.footerRenderer;\n    if (footerHeight === 0) return null;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: this._prefixClass('footer'),\n      style: {\n        height: footerHeight\n      }\n    }, renderElement(footerRenderer));\n  };\n  _proto.renderEmptyLayer = function renderEmptyLayer() {\n    var _this$props11 = this.props,\n      data = _this$props11.data,\n      frozenData = _this$props11.frozenData,\n      footerHeight = _this$props11.footerHeight,\n      emptyRenderer = _this$props11.emptyRenderer;\n    if (data && data.length || frozenData && frozenData.length) return null;\n    var headerHeight = this._getHeaderHeight();\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: this._prefixClass('empty-layer'),\n      style: {\n        top: headerHeight,\n        bottom: footerHeight\n      }\n    }, renderElement(emptyRenderer));\n  };\n  _proto.renderOverlay = function renderOverlay() {\n    var overlayRenderer = this.props.overlayRenderer;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: this._prefixClass('overlay')\n    }, !!overlayRenderer && renderElement(overlayRenderer));\n  };\n  _proto.render = function render() {\n    var _cn6;\n    var _this$props12 = this.props,\n      columns = _this$props12.columns,\n      children = _this$props12.children,\n      width = _this$props12.width,\n      fixed = _this$props12.fixed,\n      data = _this$props12.data,\n      frozenData = _this$props12.frozenData,\n      expandColumnKey = _this$props12.expandColumnKey,\n      disabled = _this$props12.disabled,\n      className = _this$props12.className,\n      style = _this$props12.style,\n      footerHeight = _this$props12.footerHeight,\n      classPrefix = _this$props12.classPrefix,\n      estimatedRowHeight = _this$props12.estimatedRowHeight;\n    this._resetColumnManager(getColumns(columns, children), fixed);\n    var _data = expandColumnKey ? this._flattenOnKeys(data, this.getExpandedRowKeys(), this.props.rowKey) : data;\n    if (this._data !== _data) {\n      this.resetAfterRowIndex(0, false);\n      this._data = _data;\n    }\n    // should be after `this._data` assigned\n    this._calcScrollbarSizes();\n    this._totalRowsHeight = this.getTotalRowsHeight();\n    var containerStyle = _objectSpread(_objectSpread({}, style), {}, {\n      width: width,\n      height: this._getTableHeight() + footerHeight,\n      position: 'relative'\n    });\n    var cls = cn(classPrefix, className, (_cn6 = {}, _cn6[classPrefix + \"--fixed\"] = fixed, _cn6[classPrefix + \"--expandable\"] = !!expandColumnKey, _cn6[classPrefix + \"--empty\"] = data.length === 0, _cn6[classPrefix + \"--has-frozen-rows\"] = frozenData.length > 0, _cn6[classPrefix + \"--has-frozen-columns\"] = this.columnManager.hasFrozenColumns(), _cn6[classPrefix + \"--disabled\"] = disabled, _cn6[classPrefix + \"--dynamic\"] = !!estimatedRowHeight, _cn6));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this._setContainerRef,\n      className: cls,\n      style: containerStyle\n    }, this.renderFooter(), this.renderMainTable(), this.renderLeftTable(), this.renderRightTable(), this.renderResizingLine(), this.renderEmptyLayer(), this.renderOverlay());\n  };\n  _proto.componentDidMount = function componentDidMount() {\n    var scrollbarSize = this.props.getScrollbarSize();\n    if (scrollbarSize > 0) {\n      this.setState({\n        scrollbarSize: scrollbarSize\n      });\n    }\n  };\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    var _this$props13 = this.props,\n      data = _this$props13.data,\n      height = _this$props13.height,\n      maxHeight = _this$props13.maxHeight,\n      estimatedRowHeight = _this$props13.estimatedRowHeight;\n    if (data !== prevProps.data) {\n      this._lastScannedRowIndex = -1;\n      this._hasDataChangedSinceEndReached = true;\n    }\n    if (maxHeight !== prevProps.maxHeight || height !== prevProps.height) {\n      this._maybeCallOnEndReached();\n    }\n    this._maybeScrollbarPresenceChange();\n    if (estimatedRowHeight) {\n      if (this.getTotalRowsHeight() !== this._totalRowsHeight) {\n        this.forceUpdate();\n      }\n    }\n  };\n  _proto._prefixClass = function _prefixClass(className) {\n    return this.props.classPrefix + \"__\" + className;\n  };\n  _proto._setContainerRef = function _setContainerRef(ref) {\n    this.tableNode = ref;\n  };\n  _proto._setMainTableRef = function _setMainTableRef(ref) {\n    this.table = ref;\n  };\n  _proto._setLeftTableRef = function _setLeftTableRef(ref) {\n    this.leftTable = ref;\n  };\n  _proto._setRightTableRef = function _setRightTableRef(ref) {\n    this.rightTable = ref;\n  };\n  _proto._getComponent = function _getComponent(name) {\n    if (this.props.components && this.props.components[name]) return this.props.components[name];\n    return DEFAULT_COMPONENTS[name];\n  }\n\n  // for dynamic row height\n  ;\n  _proto._getRowHeight = function _getRowHeight(rowIndex) {\n    var _this$props14 = this.props,\n      estimatedRowHeight = _this$props14.estimatedRowHeight,\n      rowKey = _this$props14.rowKey;\n    return this._rowHeightMap[this._data[rowIndex][rowKey]] || callOrReturn(estimatedRowHeight, {\n      rowData: this._data[rowIndex],\n      rowIndex: rowIndex\n    });\n  };\n  _proto._getIsResetting = function _getIsResetting() {\n    return this._isResetting;\n  };\n  _proto._getHeaderHeight = function _getHeaderHeight() {\n    var headerHeight = this.props.headerHeight;\n    if (Array.isArray(headerHeight)) {\n      return headerHeight.reduce(function (sum, height) {\n        return sum + height;\n      }, 0);\n    }\n    return headerHeight;\n  };\n  _proto._getFrozenRowsHeight = function _getFrozenRowsHeight() {\n    var _this$props15 = this.props,\n      frozenData = _this$props15.frozenData,\n      rowHeight = _this$props15.rowHeight;\n    return frozenData.length * rowHeight;\n  };\n  _proto._getTableHeight = function _getTableHeight() {\n    var _this$props16 = this.props,\n      height = _this$props16.height,\n      maxHeight = _this$props16.maxHeight,\n      footerHeight = _this$props16.footerHeight;\n    var tableHeight = height - footerHeight;\n    if (maxHeight > 0) {\n      var frozenRowsHeight = this._getFrozenRowsHeight();\n      var totalRowsHeight = this.getTotalRowsHeight();\n      var headerHeight = this._getHeaderHeight();\n      var totalHeight = headerHeight + frozenRowsHeight + totalRowsHeight + this._horizontalScrollbarSize;\n      tableHeight = Math.min(totalHeight, maxHeight - footerHeight);\n    }\n    return tableHeight;\n  };\n  _proto._getBodyHeight = function _getBodyHeight() {\n    return this._getTableHeight() - this._getHeaderHeight() - this._getFrozenRowsHeight();\n  };\n  _proto._getFrozenContainerHeight = function _getFrozenContainerHeight() {\n    var maxHeight = this.props.maxHeight;\n    var tableHeight = this._getTableHeight() - (this._data.length > 0 ? this._horizontalScrollbarSize : 0);\n    // in auto height mode tableHeight = totalHeight\n    if (maxHeight > 0) return tableHeight;\n    var totalHeight = this.getTotalRowsHeight() + this._getHeaderHeight() + this._getFrozenRowsHeight();\n    return Math.min(tableHeight, totalHeight);\n  };\n  _proto._calcScrollbarSizes = function _calcScrollbarSizes() {\n    var _this$props17 = this.props,\n      fixed = _this$props17.fixed,\n      width = _this$props17.width;\n    var scrollbarSize = this.state.scrollbarSize;\n    var totalRowsHeight = this.getTotalRowsHeight();\n    var totalColumnsWidth = this.getTotalColumnsWidth();\n    var prevHorizontalScrollbarSize = this._horizontalScrollbarSize;\n    var prevVerticalScrollbarSize = this._verticalScrollbarSize;\n    if (scrollbarSize === 0) {\n      this._horizontalScrollbarSize = 0;\n      this._verticalScrollbarSize = 0;\n    } else {\n      // we have to set `this._horizontalScrollbarSize` before calling `this._getBodyHeight`\n      if (!fixed || totalColumnsWidth <= width - scrollbarSize) {\n        this._horizontalScrollbarSize = 0;\n        this._verticalScrollbarSize = totalRowsHeight > this._getBodyHeight() ? scrollbarSize : 0;\n      } else {\n        if (totalColumnsWidth > width) {\n          this._horizontalScrollbarSize = scrollbarSize;\n          this._verticalScrollbarSize = totalRowsHeight > this._getBodyHeight() - this._horizontalScrollbarSize ? scrollbarSize : 0;\n        } else {\n          this._horizontalScrollbarSize = 0;\n          this._verticalScrollbarSize = 0;\n          if (totalRowsHeight > this._getBodyHeight()) {\n            this._horizontalScrollbarSize = scrollbarSize;\n            this._verticalScrollbarSize = scrollbarSize;\n          }\n        }\n      }\n    }\n    if (prevHorizontalScrollbarSize !== this._horizontalScrollbarSize || prevVerticalScrollbarSize !== this._verticalScrollbarSize) {\n      this._scrollbarPresenceChanged = true;\n    }\n  };\n  _proto._maybeScrollbarPresenceChange = function _maybeScrollbarPresenceChange() {\n    if (this._scrollbarPresenceChanged) {\n      var onScrollbarPresenceChange = this.props.onScrollbarPresenceChange;\n      this._scrollbarPresenceChanged = false;\n      onScrollbarPresenceChange({\n        size: this.state.scrollbarSize,\n        horizontal: this._horizontalScrollbarSize > 0,\n        vertical: this._verticalScrollbarSize > 0\n      });\n    }\n  };\n  _proto._maybeCallOnEndReached = function _maybeCallOnEndReached() {\n    var _this$props18 = this.props,\n      onEndReached = _this$props18.onEndReached,\n      onEndReachedThreshold = _this$props18.onEndReachedThreshold;\n    var scrollTop = this._scroll.scrollTop;\n    var scrollHeight = this.getTotalRowsHeight();\n    var clientHeight = this._getBodyHeight();\n    if (!onEndReached || !clientHeight || !scrollHeight) return;\n    var distanceFromEnd = scrollHeight - scrollTop - clientHeight + this._horizontalScrollbarSize;\n    if (this._lastScannedRowIndex >= 0 && distanceFromEnd <= onEndReachedThreshold && (this._hasDataChangedSinceEndReached || scrollHeight !== this._scrollHeight)) {\n      this._hasDataChangedSinceEndReached = false;\n      this._scrollHeight = scrollHeight;\n      onEndReached({\n        distanceFromEnd: distanceFromEnd\n      });\n    }\n  };\n  _proto._handleScroll = function _handleScroll(args) {\n    var lastScrollTop = this._scroll.scrollTop;\n    this.scrollToPosition(args);\n    this.props.onScroll(args);\n    if (args.scrollTop > lastScrollTop) this._maybeCallOnEndReached();\n  };\n  _proto._handleVerticalScroll = function _handleVerticalScroll(_ref8) {\n    var scrollTop = _ref8.scrollTop;\n    var lastScrollTop = this._scroll.scrollTop;\n    if (scrollTop !== lastScrollTop) this.scrollToTop(scrollTop);\n    if (scrollTop > lastScrollTop) this._maybeCallOnEndReached();\n  };\n  _proto._handleRowsRendered = function _handleRowsRendered(args) {\n    this.props.onRowsRendered(args);\n    if (args.overscanStopIndex > this._lastScannedRowIndex) {\n      this._lastScannedRowIndex = args.overscanStopIndex;\n      this._maybeCallOnEndReached();\n    }\n  };\n  _proto._handleRowHover = function _handleRowHover(_ref9) {\n    var hovered = _ref9.hovered,\n      rowKey = _ref9.rowKey;\n    this.setState({\n      hoveredRowKey: hovered ? rowKey : null\n    });\n  };\n  _proto._handleRowExpand = function _handleRowExpand(_ref10) {\n    var expanded = _ref10.expanded,\n      rowData = _ref10.rowData,\n      rowIndex = _ref10.rowIndex,\n      rowKey = _ref10.rowKey;\n    var expandedRowKeys = cloneArray(this.getExpandedRowKeys());\n    if (expanded) {\n      if (!expandedRowKeys.indexOf(rowKey) >= 0) expandedRowKeys.push(rowKey);\n    } else {\n      var index = expandedRowKeys.indexOf(rowKey);\n      if (index > -1) {\n        expandedRowKeys.splice(index, 1);\n      }\n    }\n    // if `expandedRowKeys` is uncontrolled, update internal state\n    if (this.props.expandedRowKeys === undefined) {\n      this.setState({\n        expandedRowKeys: expandedRowKeys\n      });\n    }\n    this.props.onRowExpand({\n      expanded: expanded,\n      rowData: rowData,\n      rowIndex: rowIndex,\n      rowKey: rowKey\n    });\n    this.props.onExpandedRowsChange(expandedRowKeys);\n  };\n  _proto._handleColumnResize = function _handleColumnResize(_ref11, width) {\n    var key = _ref11.key;\n    this.columnManager.setColumnWidth(key, width);\n    this.setState({\n      resizingWidth: width\n    });\n    var column = this.columnManager.getColumn(key);\n    this.props.onColumnResize({\n      column: column,\n      width: width\n    });\n  };\n  _proto._handleColumnResizeStart = function _handleColumnResizeStart(_ref12) {\n    var key = _ref12.key;\n    this.setState({\n      resizingKey: key\n    });\n  };\n  _proto._handleColumnResizeStop = function _handleColumnResizeStop() {\n    var _this$state = this.state,\n      resizingKey = _this$state.resizingKey,\n      resizingWidth = _this$state.resizingWidth;\n    this.setState({\n      resizingKey: null,\n      resizingWidth: 0\n    });\n    if (!resizingKey || !resizingWidth) return;\n    var column = this.columnManager.getColumn(resizingKey);\n    this.props.onColumnResizeEnd({\n      column: column,\n      width: resizingWidth\n    });\n  };\n  _proto._handleColumnSort = function _handleColumnSort(event) {\n    var key = event.currentTarget.dataset.key;\n    var _this$props19 = this.props,\n      sortBy = _this$props19.sortBy,\n      sortState = _this$props19.sortState,\n      onColumnSort = _this$props19.onColumnSort;\n    var order = SortOrder.ASC;\n    if (sortState) {\n      order = sortState[key] === SortOrder.ASC ? SortOrder.DESC : SortOrder.ASC;\n    } else if (key === sortBy.key) {\n      order = sortBy.order === SortOrder.ASC ? SortOrder.DESC : SortOrder.ASC;\n    }\n    var column = this.columnManager.getColumn(key);\n    onColumnSort({\n      column: column,\n      key: key,\n      order: order\n    });\n  };\n  _proto._handleFrozenRowHeightChange = function _handleFrozenRowHeightChange(rowKey, size, rowIndex, frozen) {\n    if (!frozen) {\n      this._mainRowHeightMap[rowKey] = size;\n    } else if (frozen === FrozenDirection.RIGHT) {\n      this._rightRowHeightMap[rowKey] = size;\n    } else {\n      this._leftRowHeightMap[rowKey] = size;\n    }\n    var height = Math.max(this._mainRowHeightMap[rowKey] || 0, this._leftRowHeightMap[rowKey] || 0, this._rightRowHeightMap[rowKey] || 0);\n    if (this._rowHeightMap[rowKey] !== height) {\n      this._handleRowHeightChange(rowKey, height, rowIndex);\n    }\n  };\n  _proto._handleRowHeightChange = function _handleRowHeightChange(rowKey, size, rowIndex) {\n    if (this._resetIndex === null) this._resetIndex = rowIndex;else if (this._resetIndex > rowIndex) this._resetIndex = rowIndex;\n    this._rowHeightMapBuffer[rowKey] = size;\n    this._updateRowHeights();\n  };\n  return BaseTable;\n}(React.PureComponent);\nBaseTable.Column = Column;\nBaseTable.PlaceholderKey = ColumnManager.PlaceholderKey;\nBaseTable.defaultProps = {\n  classPrefix: 'BaseTable',\n  rowKey: 'id',\n  data: [],\n  frozenData: [],\n  fixed: false,\n  headerHeight: 50,\n  rowHeight: 50,\n  footerHeight: 0,\n  defaultExpandedRowKeys: [],\n  sortBy: {},\n  useIsScrolling: false,\n  overscanRowCount: 1,\n  onEndReachedThreshold: 500,\n  getScrollbarSize: defaultGetScrollbarSize,\n  ignoreFunctionInColumnCompare: true,\n  onScroll: noop,\n  onRowsRendered: noop,\n  onScrollbarPresenceChange: noop,\n  onRowExpand: noop,\n  onExpandedRowsChange: noop,\n  onColumnSort: noop,\n  onColumnResize: noop,\n  onColumnResizeEnd: noop\n};\nBaseTable.propTypes = {\n  /**\n   * Prefix for table's inner className\n   */\n  classPrefix: PropTypes.string,\n  /**\n   * Class name for the table\n   */\n  className: PropTypes.string,\n  /**\n   * Custom style for the table\n   */\n  style: PropTypes.object,\n  /**\n   * A collection of Column\n   */\n  children: PropTypes.node,\n  /**\n   * Columns for the table\n   */\n  columns: PropTypes.arrayOf(PropTypes.shape(Column.propTypes)),\n  /**\n   * The data for the table\n   */\n  data: PropTypes.array.isRequired,\n  /**\n   * The data be frozen to top, `rowIndex` is negative and started from `-1`\n   */\n  frozenData: PropTypes.array,\n  /**\n   * The key field of each data item\n   */\n  rowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  /**\n   * The width of the table\n   */\n  width: PropTypes.number.isRequired,\n  /**\n   * The height of the table, will be ignored if `maxHeight` is set\n   */\n  height: PropTypes.number,\n  /**\n   * The max height of the table, the table's height will auto change when data changes,\n   * will turns to vertical scroll if reaches the max height\n   */\n  maxHeight: PropTypes.number,\n  /**\n   * The height of each table row, will be only used by frozen rows if `estimatedRowHeight` is set\n   */\n  rowHeight: PropTypes.number,\n  /**\n   * Estimated row height, the real height will be measure dynamically according to the content\n   * The callback is of the shape of `({ rowData, rowIndex }) => number`\n   */\n  estimatedRowHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n  /**\n   * The height of the table header, set to 0 to hide the header, could be an array to render multi headers.\n   */\n  headerHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)]).isRequired,\n  /**\n   * The height of the table footer\n   */\n  footerHeight: PropTypes.number,\n  /**\n   * Whether the width of the columns are fixed or flexible\n   */\n  fixed: PropTypes.bool,\n  /**\n   * Whether the table is disabled\n   */\n  disabled: PropTypes.bool,\n  /**\n   * Custom renderer on top of the table component\n   */\n  overlayRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n  /**\n   * Custom renderer when the length of data is 0\n   */\n  emptyRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n  /**\n   * Custom footer renderer, available only if `footerHeight` is larger then 0\n   */\n  footerRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n  /**\n   * Custom header renderer\n   * The renderer receives props `{ cells, columns, headerIndex }`\n   */\n  headerRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n  /**\n   * Custom row renderer\n   * The renderer receives props `{ isScrolling, cells, columns, rowData, rowIndex, depth }`\n   */\n  rowRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n  /**\n   * Class name for the table header, could be a callback to return the class name\n   * The callback is of the shape of `({ columns, headerIndex }) => string`\n   */\n  headerClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  /**\n   * Class name for the table row, could be a callback to return the class name\n   * The callback is of the shape of `({ columns, rowData, rowIndex }) => string`\n   */\n  rowClassName: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  /**\n   * Extra props applied to header element\n   * The handler is of the shape of `({ columns, headerIndex }) object`\n   */\n  headerProps: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  /**\n   * Extra props applied to header cell element\n   * The handler is of the shape of `({ columns, column, columnIndex, headerIndex }) => object`\n   */\n  headerCellProps: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  /**\n   * Extra props applied to row element\n   * The handler is of the shape of `({ columns, rowData, rowIndex }) => object`\n   */\n  rowProps: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  /**\n   * Extra props applied to row cell element\n   * The handler is of the shape of `({ columns, column, columnIndex, rowData, rowIndex }) => object`\n   */\n  cellProps: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  /**\n   * Extra props applied to ExpandIcon component\n   * The handler is of the shape of `({ rowData, rowIndex, depth, expandable, expanded }) => object`\n   */\n  expandIconProps: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n  /**\n   * The key for the expand column which render the expand icon if the data is a tree\n   */\n  expandColumnKey: PropTypes.string,\n  /**\n   * Default expanded row keys when initialize the table\n   */\n  defaultExpandedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n  /**\n   * Controlled expanded row keys\n   */\n  expandedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n  /**\n   * A callback function when expand or collapse a tree node\n   * The handler is of the shape of `({ expanded, rowData, rowIndex, rowKey }) => *`\n   */\n  onRowExpand: PropTypes.func,\n  /**\n   * A callback function when the expanded row keys changed\n   * The handler is of the shape of `(expandedRowKeys) => *`\n   */\n  onExpandedRowsChange: PropTypes.func,\n  /**\n   * The sort state for the table, will be ignored if `sortState` is set\n   */\n  sortBy: PropTypes.shape({\n    /**\n     * Sort key\n     */\n    key: PropTypes.string,\n    /**\n     * Sort order\n     */\n    order: PropTypes.oneOf([SortOrder.ASC, SortOrder.DESC])\n  }),\n  /**\n   * Multiple columns sort state for the table\n   *\n   * example:\n   * ```js\n   * {\n   *   'column-0': SortOrder.ASC,\n   *   'column-1': SortOrder.DESC,\n   * }\n   * ```\n   */\n  sortState: PropTypes.object,\n  /**\n   * A callback function for the header cell click event\n   * The handler is of the shape of `({ column, key, order }) => *`\n   */\n  onColumnSort: PropTypes.func,\n  /**\n   * A callback function when resizing the column width\n   * The handler is of the shape of `({ column, width }) => *`\n   */\n  onColumnResize: PropTypes.func,\n  /**\n   * A callback function when resizing the column width ends\n   * The handler is of the shape of `({ column, width }) => *`\n   */\n  onColumnResizeEnd: PropTypes.func,\n  /**\n   * Adds an additional isScrolling parameter to the row renderer.\n   * This parameter can be used to show a placeholder row while scrolling.\n   */\n  useIsScrolling: PropTypes.bool,\n  /**\n   * Number of rows to render above/below the visible bounds of the list\n   */\n  overscanRowCount: PropTypes.number,\n  /**\n   * Custom scrollbar size measurement\n   */\n  getScrollbarSize: PropTypes.func,\n  /**\n   * A callback function when scrolling the table\n   * The handler is of the shape of `({ scrollLeft, scrollTop, horizontalScrollDirection, verticalScrollDirection, scrollUpdateWasRequested }) => *`\n   *\n   * `scrollLeft` and `scrollTop` are numbers.\n   *\n   * `horizontalDirection` and `verticalDirection` are either `forward` or `backward`.\n   *\n   * `scrollUpdateWasRequested` is a boolean. This value is true if the scroll was caused by `scrollTo*`,\n   * and false if it was the result of a user interaction in the browser.\n   */\n  onScroll: PropTypes.func,\n  /**\n   * A callback function when scrolling the table within `onEndReachedThreshold` of the bottom\n   * The handler is of the shape of `({ distanceFromEnd }) => *`\n   */\n  onEndReached: PropTypes.func,\n  /**\n   * Threshold in pixels for calling `onEndReached`.\n   */\n  onEndReachedThreshold: PropTypes.number,\n  /**\n   * A callback function with information about the slice of rows that were just rendered\n   * The handler is of the shape of `({ overscanStartIndex, overscanStopIndex, startIndexï¼Œ stopIndex }) => *`\n   */\n  onRowsRendered: PropTypes.func,\n  /**\n   * A callback function when the scrollbar presence state changed\n   * The handler is of the shape of `({ size, vertical, horizontal }) => *`\n   */\n  onScrollbarPresenceChange: PropTypes.func,\n  /**\n   * A object for the row event handlers\n   * Each of the keys is row event name, like `onClick`, `onDoubleClick` and etc.\n   * Each of the handlers is of the shape of `({ rowData, rowIndex, rowKey, event }) => *`\n   */\n  rowEventHandlers: PropTypes.object,\n  /**\n   * whether to ignore function properties while comparing column definition\n   */\n  ignoreFunctionInColumnCompare: PropTypes.bool,\n  /**\n   * A object for the custom components, like `ExpandIcon` and `SortIndicator`\n   */\n  components: PropTypes.shape({\n    TableCell: PropTypes.elementType,\n    TableHeaderCell: PropTypes.elementType,\n    ExpandIcon: PropTypes.elementType,\n    SortIndicator: PropTypes.elementType\n  })\n};\nexport default BaseTable;\n//# sourceMappingURL=BaseTable.js.map","import { Component, createElement } from 'react';\n\n/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1) Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2) Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n * 5) Use 'export' statement over 'module.exports' assignment\n **/\n\n// Check `document` and `window` in case of server-side rendering\nlet windowObject;\nif (typeof window !== \"undefined\") {\n  windowObject = window;\n\n  // eslint-disable-next-line no-restricted-globals\n} else if (typeof self !== \"undefined\") {\n  // eslint-disable-next-line no-restricted-globals\n  windowObject = self;\n} else {\n  windowObject = global;\n}\nlet cancelFrame = null;\nlet requestFrame = null;\nconst TIMEOUT_DURATION = 20;\nconst clearTimeoutFn = windowObject.clearTimeout;\nconst setTimeoutFn = windowObject.setTimeout;\nconst cancelAnimationFrameFn = windowObject.cancelAnimationFrame || windowObject.mozCancelAnimationFrame || windowObject.webkitCancelAnimationFrame;\nconst requestAnimationFrameFn = windowObject.requestAnimationFrame || windowObject.mozRequestAnimationFrame || windowObject.webkitRequestAnimationFrame;\nif (cancelAnimationFrameFn == null || requestAnimationFrameFn == null) {\n  // For environments that don't support animation frame,\n  // fallback to a setTimeout based approach.\n  cancelFrame = clearTimeoutFn;\n  requestFrame = function requestAnimationFrameViaSetTimeout(callback) {\n    return setTimeoutFn(callback, TIMEOUT_DURATION);\n  };\n} else {\n  // Counter intuitively, environments that support animation frames can be trickier.\n  // Chrome's \"Throttle non-visible cross-origin iframes\" flag can prevent rAFs from being called.\n  // In this case, we should fallback to a setTimeout() implementation.\n  cancelFrame = function cancelFrame([animationFrameID, timeoutID]) {\n    cancelAnimationFrameFn(animationFrameID);\n    clearTimeoutFn(timeoutID);\n  };\n  requestFrame = function requestAnimationFrameWithSetTimeoutFallback(callback) {\n    const animationFrameID = requestAnimationFrameFn(function animationFrameCallback() {\n      clearTimeoutFn(timeoutID);\n      callback();\n    });\n    const timeoutID = setTimeoutFn(function timeoutCallback() {\n      cancelAnimationFrameFn(animationFrameID);\n      callback();\n    }, TIMEOUT_DURATION);\n    return [animationFrameID, timeoutID];\n  };\n}\nfunction createDetectElementResize(nonce) {\n  let animationKeyframes;\n  let animationName;\n  let animationStartEvent;\n  let animationStyle;\n  let checkTriggers;\n  let resetTriggers;\n  let scrollListener;\n  const attachEvent = typeof document !== \"undefined\" && document.attachEvent;\n  if (!attachEvent) {\n    resetTriggers = function (element) {\n      const triggers = element.__resizeTriggers__,\n        expand = triggers.firstElementChild,\n        contract = triggers.lastElementChild,\n        expandChild = expand.firstElementChild;\n      contract.scrollLeft = contract.scrollWidth;\n      contract.scrollTop = contract.scrollHeight;\n      expandChild.style.width = expand.offsetWidth + 1 + \"px\";\n      expandChild.style.height = expand.offsetHeight + 1 + \"px\";\n      expand.scrollLeft = expand.scrollWidth;\n      expand.scrollTop = expand.scrollHeight;\n    };\n    checkTriggers = function (element) {\n      return element.offsetWidth !== element.__resizeLast__.width || element.offsetHeight !== element.__resizeLast__.height;\n    };\n    scrollListener = function (e) {\n      // Don't measure (which forces) reflow for scrolls that happen inside of children!\n      if (e.target.className && typeof e.target.className.indexOf === \"function\" && e.target.className.indexOf(\"contract-trigger\") < 0 && e.target.className.indexOf(\"expand-trigger\") < 0) {\n        return;\n      }\n      const element = this;\n      resetTriggers(this);\n      if (this.__resizeRAF__) {\n        cancelFrame(this.__resizeRAF__);\n      }\n      this.__resizeRAF__ = requestFrame(function animationFrame() {\n        if (checkTriggers(element)) {\n          element.__resizeLast__.width = element.offsetWidth;\n          element.__resizeLast__.height = element.offsetHeight;\n          element.__resizeListeners__.forEach(function forEachResizeListener(fn) {\n            fn.call(element, e);\n          });\n        }\n      });\n    };\n\n    /* Detect CSS Animations support to detect element display/re-attach */\n    let animation = false;\n    let keyframeprefix = \"\";\n    animationStartEvent = \"animationstart\";\n    const domPrefixes = \"Webkit Moz O ms\".split(\" \");\n    let startEvents = \"webkitAnimationStart animationstart oAnimationStart MSAnimationStart\".split(\" \");\n    let pfx = \"\";\n    {\n      const elm = document.createElement(\"fakeelement\");\n      if (elm.style.animationName !== undefined) {\n        animation = true;\n      }\n      if (animation === false) {\n        for (let i = 0; i < domPrefixes.length; i++) {\n          if (elm.style[domPrefixes[i] + \"AnimationName\"] !== undefined) {\n            pfx = domPrefixes[i];\n            keyframeprefix = \"-\" + pfx.toLowerCase() + \"-\";\n            animationStartEvent = startEvents[i];\n            animation = true;\n            break;\n          }\n        }\n      }\n    }\n    animationName = \"resizeanim\";\n    animationKeyframes = \"@\" + keyframeprefix + \"keyframes \" + animationName + \" { from { opacity: 0; } to { opacity: 0; } } \";\n    animationStyle = keyframeprefix + \"animation: 1ms \" + animationName + \"; \";\n  }\n  const createStyles = function (doc) {\n    if (!doc.getElementById(\"detectElementResize\")) {\n      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n      const css = (animationKeyframes ? animationKeyframes : \"\") + \".resize-triggers { \" + (animationStyle ? animationStyle : \"\") + \"visibility: hidden; opacity: 0; } \" + '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n        head = doc.head || doc.getElementsByTagName(\"head\")[0],\n        style = doc.createElement(\"style\");\n      style.id = \"detectElementResize\";\n      style.type = \"text/css\";\n      if (nonce != null) {\n        style.setAttribute(\"nonce\", nonce);\n      }\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(doc.createTextNode(css));\n      }\n      head.appendChild(style);\n    }\n  };\n  const addResizeListener = function (element, fn) {\n    if (attachEvent) {\n      element.attachEvent(\"onresize\", fn);\n    } else {\n      if (!element.__resizeTriggers__) {\n        const doc = element.ownerDocument;\n        const elementStyle = windowObject.getComputedStyle(element);\n        if (elementStyle && elementStyle.position === \"static\") {\n          element.style.position = \"relative\";\n        }\n        createStyles(doc);\n        element.__resizeLast__ = {};\n        element.__resizeListeners__ = [];\n        (element.__resizeTriggers__ = doc.createElement(\"div\")).className = \"resize-triggers\";\n        const expandTrigger = doc.createElement(\"div\");\n        expandTrigger.className = \"expand-trigger\";\n        expandTrigger.appendChild(doc.createElement(\"div\"));\n        const contractTrigger = doc.createElement(\"div\");\n        contractTrigger.className = \"contract-trigger\";\n        element.__resizeTriggers__.appendChild(expandTrigger);\n        element.__resizeTriggers__.appendChild(contractTrigger);\n        element.appendChild(element.__resizeTriggers__);\n        resetTriggers(element);\n        element.addEventListener(\"scroll\", scrollListener, true);\n\n        /* Listen for a css animation to detect element display/re-attach */\n        if (animationStartEvent) {\n          element.__resizeTriggers__.__animationListener__ = function animationListener(e) {\n            if (e.animationName === animationName) {\n              resetTriggers(element);\n            }\n          };\n          element.__resizeTriggers__.addEventListener(animationStartEvent, element.__resizeTriggers__.__animationListener__);\n        }\n      }\n      element.__resizeListeners__.push(fn);\n    }\n  };\n  const removeResizeListener = function (element, fn) {\n    if (attachEvent) {\n      element.detachEvent(\"onresize\", fn);\n    } else {\n      element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n      if (!element.__resizeListeners__.length) {\n        element.removeEventListener(\"scroll\", scrollListener, true);\n        if (element.__resizeTriggers__.__animationListener__) {\n          element.__resizeTriggers__.removeEventListener(animationStartEvent, element.__resizeTriggers__.__animationListener__);\n          element.__resizeTriggers__.__animationListener__ = null;\n        }\n        try {\n          element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\n        } catch (e) {\n          // Preact compat; see developit/preact-compat/issues/228\n        }\n      }\n    }\n  };\n  return {\n    addResizeListener,\n    removeResizeListener\n  };\n}\n\nclass AutoSizer extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      height: this.props.defaultHeight || 0,\n      scaledHeight: this.props.defaultHeight || 0,\n      scaledWidth: this.props.defaultWidth || 0,\n      width: this.props.defaultWidth || 0\n    };\n    this._autoSizer = null;\n    this._detectElementResize = null;\n    this._parentNode = null;\n    this._resizeObserver = null;\n    this._timeoutId = null;\n    this._onResize = () => {\n      this._timeoutId = null;\n      const {\n        disableHeight,\n        disableWidth,\n        onResize\n      } = this.props;\n      if (this._parentNode) {\n        var _style$paddingLeft, _style$paddingRight, _style$paddingTop, _style$paddingBottom;\n        // Guard against AutoSizer component being removed from the DOM immediately after being added.\n        // This can result in invalid style values which can result in NaN values if we don't handle them.\n        // See issue #150 for more context.\n\n        const style = window.getComputedStyle(this._parentNode) || {};\n        const paddingLeft = parseFloat((_style$paddingLeft = style.paddingLeft) !== null && _style$paddingLeft !== void 0 ? _style$paddingLeft : \"0\");\n        const paddingRight = parseFloat((_style$paddingRight = style.paddingRight) !== null && _style$paddingRight !== void 0 ? _style$paddingRight : \"0\");\n        const paddingTop = parseFloat((_style$paddingTop = style.paddingTop) !== null && _style$paddingTop !== void 0 ? _style$paddingTop : \"0\");\n        const paddingBottom = parseFloat((_style$paddingBottom = style.paddingBottom) !== null && _style$paddingBottom !== void 0 ? _style$paddingBottom : \"0\");\n        const rect = this._parentNode.getBoundingClientRect();\n        const scaledHeight = rect.height - paddingTop - paddingBottom;\n        const scaledWidth = rect.width - paddingLeft - paddingRight;\n        const height = this._parentNode.offsetHeight - paddingTop - paddingBottom;\n        const width = this._parentNode.offsetWidth - paddingLeft - paddingRight;\n        if (!disableHeight && (this.state.height !== height || this.state.scaledHeight !== scaledHeight) || !disableWidth && (this.state.width !== width || this.state.scaledWidth !== scaledWidth)) {\n          this.setState({\n            height,\n            width,\n            scaledHeight,\n            scaledWidth\n          });\n          if (typeof onResize === \"function\") {\n            onResize({\n              height,\n              scaledHeight,\n              scaledWidth,\n              width\n            });\n          }\n        }\n      }\n    };\n    this._setRef = autoSizer => {\n      this._autoSizer = autoSizer;\n    };\n  }\n  componentDidMount() {\n    const {\n      nonce\n    } = this.props;\n    if (this._autoSizer && this._autoSizer.parentNode && this._autoSizer.parentNode.ownerDocument && this._autoSizer.parentNode.ownerDocument.defaultView && this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement) {\n      // Delay access of parentNode until mount.\n      // This handles edge-cases where the component has already been unmounted before its ref has been set,\n      // As well as libraries like react-lite which have a slightly different lifecycle.\n      this._parentNode = this._autoSizer.parentNode;\n\n      // Defer requiring resize handler in order to support server-side rendering.\n      // See issue #41\n      if (this._parentNode != null) {\n        if (typeof ResizeObserver !== \"undefined\") {\n          this._resizeObserver = new ResizeObserver(() => {\n            // Guard against \"ResizeObserver loop limit exceeded\" error;\n            // could be triggered if the state update causes the ResizeObserver handler to run long.\n            // See https://github.com/bvaughn/react-virtualized-auto-sizer/issues/55\n            this._timeoutId = setTimeout(this._onResize, 0);\n          });\n          this._resizeObserver.observe(this._parentNode);\n        } else {\n          this._detectElementResize = createDetectElementResize(nonce);\n          this._detectElementResize.addResizeListener(this._parentNode, this._onResize);\n        }\n        this._onResize();\n      }\n    }\n  }\n  componentWillUnmount() {\n    if (this._parentNode) {\n      if (this._detectElementResize) {\n        this._detectElementResize.removeResizeListener(this._parentNode, this._onResize);\n      }\n      if (this._timeoutId !== null) {\n        clearTimeout(this._timeoutId);\n      }\n      if (this._resizeObserver) {\n        this._resizeObserver.observe(this._parentNode);\n        this._resizeObserver.disconnect();\n      }\n    }\n  }\n  render() {\n    const {\n      children,\n      defaultHeight,\n      defaultWidth,\n      disableHeight = false,\n      disableWidth = false,\n      nonce,\n      onResize,\n      style = {},\n      tagName = \"div\",\n      ...rest\n    } = this.props;\n    const {\n      height,\n      scaledHeight,\n      scaledWidth,\n      width\n    } = this.state;\n\n    // Outer div should not force width/height since that may prevent containers from shrinking.\n    // Inner component should overflow and use calculated width/height.\n    // See issue #68 for more information.\n    const outerStyle = {\n      overflow: \"visible\"\n    };\n    const childParams = {};\n\n    // Avoid rendering children before the initial measurements have been collected.\n    // At best this would just be wasting cycles.\n    let bailoutOnChildren = false;\n    if (!disableHeight) {\n      if (height === 0) {\n        bailoutOnChildren = true;\n      }\n      outerStyle.height = 0;\n      childParams.height = height;\n      childParams.scaledHeight = scaledHeight;\n    }\n    if (!disableWidth) {\n      if (width === 0) {\n        bailoutOnChildren = true;\n      }\n      outerStyle.width = 0;\n      childParams.width = width;\n      childParams.scaledWidth = scaledWidth;\n    }\n    return createElement(tagName, {\n      ref: this._setRef,\n      style: {\n        ...outerStyle,\n        ...style\n      },\n      ...rest\n    }, !bailoutOnChildren && children(childParams));\n  }\n}\n\nfunction isHeightAndWidthProps(props) {\n  return props && props.disableHeight !== true && props.disableWidth !== true;\n}\nfunction isHeightOnlyProps(props) {\n  return props && props.disableHeight !== true && props.disableWidth === true;\n}\nfunction isWidthOnlyProps(props) {\n  return props && props.disableHeight === true && props.disableWidth !== true;\n}\n\nexport { AutoSizer as default, isHeightAndWidthProps, isHeightOnlyProps, isWidthOnlyProps };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport AutoSizer from 'react-virtualized-auto-sizer';\n\n/**\n * Decorator component that automatically adjusts the width and height of a single child\n */\nvar AutoResizer = function AutoResizer(_ref) {\n  var className = _ref.className,\n    width = _ref.width,\n    height = _ref.height,\n    children = _ref.children,\n    onResize = _ref.onResize;\n  var disableWidth = typeof width === 'number';\n  var disableHeight = typeof height === 'number';\n  if (disableWidth && disableHeight) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: className,\n      style: {\n        width: width,\n        height: height,\n        position: 'relative'\n      }\n    }, children({\n      width: width,\n      height: height\n    }));\n  }\n  return /*#__PURE__*/React.createElement(AutoSizer, {\n    className: className,\n    disableWidth: disableWidth,\n    disableHeight: disableHeight,\n    onResize: onResize\n  }, function (size) {\n    return children({\n      width: disableWidth ? width : size.width,\n      height: disableHeight ? height : size.height\n    });\n  });\n};\nAutoResizer.propTypes = {\n  /**\n   * Class name for the component\n   */\n  className: PropTypes.string,\n  /**\n   * the width of the component, will be the container's width if not set\n   */\n  width: PropTypes.number,\n  /**\n   * the height of the component, will be the container's width if not set\n   */\n  height: PropTypes.number,\n  /**\n   * A callback function to render the children component\n   * The handler is of the shape of `({ width, height }) => node`\n   */\n  children: PropTypes.func.isRequired,\n  /**\n   * A callback function when the size of the table container changed if the width and height are not set\n   * The handler is of the shape of `({ width, height }) => *`\n   */\n  onResize: PropTypes.func\n};\nexport default AutoResizer;\n//# sourceMappingURL=AutoResizer.js.map","import {\n  ChatBubbleTwoTone,\n  CheckTwoTone,\n  DescriptionTwoTone,\n  LinkOffTwoTone,\n  LocalOfferTwoTone,\n  LockTwoTone,\n  PublicTwoTone,\n} from '@mui/icons-material'\nimport { isEmpty } from 'lodash-es'\nimport React, { useEffect, useState } from 'react'\nimport { useInView } from 'react-intersection-observer'\nimport { useDeleteEntity } from '../../synapse-queries/entity/useEntity'\nimport {\n  useGetSchemaBinding,\n  useGetValidationResults,\n} from '../../synapse-queries/entity/useEntityBoundSchema'\nimport useGetEntityBundle from '../../synapse-queries/entity/useEntityBundle'\nimport {\n  ANONYMOUS_PRINCIPAL_ID,\n  AUTHENTICATED_PRINCIPAL_ID,\n  PUBLIC_PRINCIPAL_ID,\n} from '../../utils/SynapseConstants'\nimport { useSynapseContext } from '../../utils/context/SynapseContext'\nimport {\n  ALL_ENTITY_BUNDLE_FIELDS,\n  EntityBundle,\n  EntityType,\n} from '@sage-bionetworks/synapse-types'\nimport { EntityModal } from '../entity/metadata/EntityModal'\nimport WarningDialog from '../SynapseForm/WarningDialog'\nimport { Tooltip } from '@mui/material'\n\nfunction isPublic(bundle: EntityBundle): boolean {\n  return bundle.benefactorAcl.resourceAccess.some(ra => {\n    return (\n      ra.principalId === AUTHENTICATED_PRINCIPAL_ID ||\n      ra.principalId === PUBLIC_PRINCIPAL_ID ||\n      ra.principalId === ANONYMOUS_PRINCIPAL_ID\n    )\n  })\n}\n\nexport const ENTITY_BADGE_ICONS_TOOLTIP_ID = 'EntityBadgeIconsTooltipID'\n\nexport type EntityBadgeIconsProps = {\n  entityId: string\n  versionNumber?: number\n  flexWrap?: // possible settings for flex-wrap\n  | 'wrap'\n    | 'nowrap'\n    | '-moz-initial'\n    | 'inherit'\n    | 'initial'\n    | 'revert'\n    | 'unset'\n    | 'wrap-reverse'\n  justifyContent?: 'flex-start' | 'flex-end' | string\n  /** Shows an icon indicating if the entity is 'public' or 'private'. Default true  */\n  showIsPublicPrivate?: boolean\n  /** Shows an icon if the entity has sharing settings set on itself. Default true  */\n  showHasLocalSharingSettings?: boolean\n  /** Shows an icon if the entity has annotations, or if it has a validation schema (in experimental mode only). Default true  */\n  showHasAnnotations?: boolean\n  /** Shows an icon if the entity a wiki. Default true  */\n  showHasWiki?: boolean\n  /** Shows an icon if the entity has been mentioned in discussion threads. Default true  */\n  showHasDiscussionThread?: boolean\n  /* Shows an 'unlink' button if the entity is a link and the user has permission to delete it. Default true */\n  showUnlink?: boolean\n  /* Invoked after the entity is unlinked/deleted in case there is cleanup to do. Returns the entityId */\n  onUnlink?: (entityId: string) => void\n  onUnlinkError?: (error: unknown) => void\n  /** Whether or not the badges (e.g. Annotations) can trigger opening a modal on click */\n  canOpenModal: boolean\n  /** Whether this component should render a ReactTooltip or if an external component is managing it */\n  renderTooltipComponent: boolean\n}\n\n/**\n * Stateless component used to show icons that show an entity's status.\n * Adapted from https://github.com/Sage-Bionetworks/SynapseWebClient/blob/46b9b717636cda2421926d96365244bbb72a05b6/src/main/java/org/sagebionetworks/web/client/widget/entity/EntityBadge.java\n */\nexport const EntityBadgeIcons = (props: EntityBadgeIconsProps) => {\n  const {\n    entityId,\n    versionNumber,\n    flexWrap = 'nowrap',\n    justifyContent = 'flex-start',\n    showIsPublicPrivate = true,\n    showHasLocalSharingSettings = true,\n    showHasAnnotations = true,\n    showHasWiki = true,\n    showHasDiscussionThread = true,\n    showUnlink = true,\n    onUnlink = () => {\n      /* noop */\n    },\n    onUnlinkError = () => {\n      /* noop */\n    },\n    canOpenModal,\n  } = props\n\n  enum SchemaConformanceState {\n    NO_SCHEMA = '', // or not in experimental mode\n    VALID = 'Valid',\n    INVALID = 'Invalid',\n    ANNOTATIONS_MISSING = 'Missing',\n  }\n\n  const { ref, inView } = useInView()\n\n  const { data: bundle } = useGetEntityBundle(\n    entityId,\n    versionNumber,\n    ALL_ENTITY_BUNDLE_FIELDS,\n    {\n      enabled: inView,\n      staleTime: 60 * 1000, // 60 seconds\n    },\n  )\n  const [showModal, setShowModal] = useState(false)\n  const [showUnlinkConfirmModal, setShowUnlinkConfirmModal] = useState(false)\n  const [schemaConformance, setSchemaConformance] = useState(\n    SchemaConformanceState.NO_SCHEMA,\n  )\n\n  const { isInExperimentalMode } = useSynapseContext()\n\n  const { data: boundSchema } = useGetSchemaBinding(entityId, {\n    enabled: isInExperimentalMode && inView,\n    staleTime: 60 * 1000, // 60 seconds\n  })\n\n  const { data: schemaValidationResults } = useGetValidationResults(entityId, {\n    enabled: isInExperimentalMode && inView && !!boundSchema,\n    staleTime: 60 * 1000, // 60 seconds\n  })\n\n  // The maximum number of annotations to show in the popover\n  const maxAnnosToShow = 10\n  const annotationsCount =\n    bundle?.annotations && !isEmpty(bundle.annotations.annotations)\n      ? Object.keys(bundle.annotations.annotations).length\n      : 0\n\n  useEffect(() => {\n    if (isInExperimentalMode && schemaValidationResults) {\n      if (schemaValidationResults.isValid) {\n        setSchemaConformance(SchemaConformanceState.VALID)\n      } else if (annotationsCount) {\n        // If annotations exist, then indicate that they are invalid\n        setSchemaConformance(SchemaConformanceState.INVALID)\n      } else {\n        // If annotations are missing, it's still invalid, but should appear differently\n        setSchemaConformance(SchemaConformanceState.ANNOTATIONS_MISSING)\n      }\n    }\n  }, [\n    schemaValidationResults,\n    isInExperimentalMode,\n    annotationsCount,\n    bundle,\n    SchemaConformanceState.VALID,\n    SchemaConformanceState.INVALID,\n    SchemaConformanceState.ANNOTATIONS_MISSING,\n  ])\n\n  const { mutate: unlinkEntity } = useDeleteEntity({\n    onSuccess: (_, entityId) => {\n      onUnlink(entityId)\n    },\n    onError: onUnlinkError,\n  })\n\n  /**\n   * Convert the list of annotations to a string of <tr>...anno1</tr><tr>...anno2</tr>...\n   * If there are no annotations, this is the empty string ('')\n   */\n  const annotationsTableRows = (\n    <>\n      {bundle\n        ? Object.entries(bundle.annotations?.annotations ?? []).reduce(\n            (previous, current, index) => {\n              if (\n                index < maxAnnosToShow ||\n                (index === maxAnnosToShow &&\n                  maxAnnosToShow === annotationsCount)\n              ) {\n                return (\n                  <>\n                    {previous}\n                    <tr>\n                      <td>\n                        <b>{current[0]}</b>\n                      </td>\n                      <td>{current[1].value.join(', ')}</td>\n                    </tr>\n                  </>\n                )\n              } else {\n                return previous\n              }\n            },\n            <></>,\n          )\n        : ''}\n    </>\n  )\n  // We also show the schema name if there is one (and we're in experimental mode)\n  const valiationSchemaTableRow = (\n    <>\n      {isInExperimentalMode && boundSchema ? (\n        <tr>\n          <td>\n            <b>Validation Schema</b>\n          </td>\n          <td>{boundSchema.jsonSchemaVersionInfo.schemaName}</td>\n        </tr>\n      ) : (\n        ''\n      )}\n    </>\n  )\n  const annotationsHtml = (\n    <div className=\"EntityBadgeTooltip\">\n      {schemaValidationResults ? <p>{schemaConformance} Annotations</p> : ''}\n      <table>\n        {annotationsTableRows ? annotationsTableRows : ''}\n        {valiationSchemaTableRow}\n      </table>\n      {annotationsCount > maxAnnosToShow ? (\n        <p>and {annotationsCount - maxAnnosToShow} more</p>\n      ) : (\n        ''\n      )}\n    </div>\n  )\n  return (\n    <div className=\"EntityBadge\" ref={ref} style={{ flexWrap, justifyContent }}>\n      {bundle && (\n        <>\n          <div onClick={e => e.stopPropagation()}>\n            <EntityModal\n              entityId={entityId}\n              show={showModal}\n              showTabs={false}\n              onClose={() => setShowModal(false)}\n              initialTab={'ANNOTATIONS'}\n            />\n          </div>\n          {showIsPublicPrivate && bundle.benefactorAcl && isPublic(bundle) ? (\n            <Tooltip title=\"Public\" enterNextDelay={100} placement=\"right\">\n              <PublicTwoTone\n                aria-hidden={false}\n                role=\"img\"\n                className=\"EntityBadge__Badge\"\n                data-testid={'is-public-icon'}\n              />\n            </Tooltip>\n          ) : null}\n          {showIsPublicPrivate && bundle.benefactorAcl && !isPublic(bundle) ? (\n            <Tooltip title=\"Private\" enterNextDelay={100} placement=\"right\">\n              <LockTwoTone\n                aria-hidden={false}\n                role=\"img\"\n                className=\"EntityBadge__Badge\"\n                data-testid={'is-private-icon'}\n              />\n            </Tooltip>\n          ) : null}\n          {showHasLocalSharingSettings &&\n          bundle.benefactorAcl &&\n          entityId === bundle.benefactorAcl.id ? (\n            <Tooltip\n              title=\"Sharing Settings have been set\"\n              enterNextDelay={100}\n              placement=\"right\"\n            >\n              <CheckTwoTone\n                aria-hidden={false}\n                role=\"img\"\n                className=\"EntityBadge__Badge\"\n                data-testid={'sharing-settings-icon'}\n              />\n            </Tooltip>\n          ) : null}\n\n          {showHasAnnotations &&\n            !!(annotationsCount || schemaValidationResults) && (\n              <Tooltip\n                title={annotationsHtml}\n                enterNextDelay={100}\n                placement=\"right\"\n              >\n                <LocalOfferTwoTone\n                  aria-hidden={false}\n                  role={canOpenModal ? 'button' : 'img'}\n                  className={`EntityBadge__Badge ${schemaConformance}`}\n                  style={canOpenModal ? { cursor: 'pointer' } : undefined}\n                  onClick={canOpenModal ? () => setShowModal(true) : undefined}\n                  data-html={true}\n                  data-testid={'annotations-icon'}\n                />\n              </Tooltip>\n            )}\n          {showHasWiki && bundle.rootWikiId && (\n            <Tooltip title=\"Has a wiki\" enterNextDelay={100} placement=\"right\">\n              <DescriptionTwoTone\n                aria-hidden={false}\n                role=\"img\"\n                className=\"EntityBadge__Badge\"\n                data-testid={'wiki-icon'}\n              />\n            </Tooltip>\n          )}\n          {showHasDiscussionThread &&\n            !!bundle.threadCount &&\n            !!(bundle.threadCount > 0) && (\n              <Tooltip\n                title=\"Has been mentioned in discussion\"\n                enterNextDelay={100}\n                placement=\"right\"\n              >\n                <ChatBubbleTwoTone\n                  aria-hidden={false}\n                  role=\"img\"\n                  className=\"EntityBadge__Badge\"\n                  data-testid={'discussion-icon'}\n                />\n              </Tooltip>\n            )}\n          {showUnlink &&\n            bundle.entityType === EntityType.LINK &&\n            bundle.permissions?.canDelete && (\n              <>\n                <WarningDialog\n                  open={showUnlinkConfirmModal}\n                  title=\"Confirm Unlink\"\n                  content={\n                    'Are you sure you want to remove this link? The original object will not be changed.'\n                  }\n                  confirmButtonText=\"Unlink\"\n                  confirmButtonColor=\"error\"\n                  onConfirm={() => {\n                    unlinkEntity(entityId)\n                    setShowUnlinkConfirmModal(false)\n                  }}\n                  onCancel={() => {\n                    setShowUnlinkConfirmModal(false)\n                  }}\n                />\n                <Tooltip\n                  title=\"Remove this link\"\n                  enterNextDelay={100}\n                  placement=\"right\"\n                >\n                  <LinkOffTwoTone\n                    aria-hidden={false}\n                    role=\"button\"\n                    onClick={() => setShowUnlinkConfirmModal(true)}\n                    className=\"EntityBadge__Badge Unlink\"\n                    data-testid={'unlink-icon'}\n                  />\n                </Tooltip>\n              </>\n            )}\n        </>\n      )}\n    </div>\n  )\n}\n","import { Skeleton, Tooltip } from '@mui/material'\nimport BaseTable, {\n  CallOrReturn,\n  ColumnShape,\n  SortOrder,\n} from '@sage-bionetworks/react-base-table'\nimport dayjs from 'dayjs'\nimport React, { SyntheticEvent, useEffect } from 'react'\nimport { Form } from 'react-bootstrap'\nimport SortIcon from '../../../../assets/icons/Sort'\nimport { formatDate } from '../../../../utils/functions/DateFormatter'\nimport { isTableType } from '../../../../utils/functions/EntityTypeUtils'\nimport {\n  useGetEntity,\n  useGetVersionsInfinite,\n} from '../../../../synapse-queries/entity/useEntity'\nimport useGetEntityBundle from '../../../../synapse-queries/entity/useEntityBundle'\nimport {\n  EntityRef,\n  EntityType,\n  Reference,\n} from '@sage-bionetworks/synapse-types'\nimport { EntityBadgeIcons } from '../../../EntityBadgeIcons/EntityBadgeIcons'\nimport { EntityTypeIcon } from '../../../EntityIcon'\nimport { EntityLink } from '../../../EntityLink'\nimport IconSvg from '../../../IconSvg/IconSvg'\nimport { SynapseSpinner } from '../../../LoadingScreen/LoadingScreen'\nimport { DatasetItemsEditorTableData } from '../../../SynapseTable/datasets/DatasetItemsEditor'\nimport { Checkbox } from '../../../widgets/Checkbox'\nimport { NO_VERSION_NUMBER } from '../../EntityFinder'\nimport { VersionSelectionType } from '../../VersionSelectionType'\nimport { EntityFinderTableViewRowData } from './DetailsView'\nimport { UserBadge } from '../../../UserCard/UserBadge'\n\n// TODO: Consider sharing logic with SynapseTableCell.tsx\n\nexport type CellRendererProps<T> = {\n  cellData: any\n  columns: ColumnShape<T>[]\n  column: ColumnShape<T>\n  columnIndex: number\n  rowData: T\n  rowIndex: number\n  container: BaseTable<T>\n  isScrolling?: boolean\n}\n\nexport type CellRenderer<T> = CallOrReturn<\n  React.ReactNode,\n  CellRendererProps<T>\n>\n\n/**\n * The data across tables may differ, but it has entity ID and version, then it can use many of these renderers\n */\nexport type EntityIdAndVersionNumber = {\n  entityId: string\n  versionNumber?: number\n}\n\nexport const CustomSortIndicator = ({\n  className,\n  sortOrder,\n}: {\n  className: string\n  sortOrder: SortOrder\n}) => {\n  return (\n    <SortIcon\n      className={className}\n      active={true}\n      role=\"button\"\n      style={{ height: '20px', marginLeft: 'auto' }}\n      direction={sortOrder}\n    />\n  )\n}\n\n/**\n * Renders Entity Badges using the entity bundle.\n * @param props\n * @returns\n */\nexport function BadgeIconsRenderer<T extends EntityIdAndVersionNumber>(\n  props: CellRendererProps<T>,\n) {\n  return (\n    <EntityBadgeIcons\n      entityId={props.rowData.entityId}\n      versionNumber={props.rowData.versionNumber}\n      showHasDiscussionThread={false}\n      showHasWiki={false}\n      showUnlink={false}\n      canOpenModal={false}\n      // We render the tooltip component outside of the table so it plays nicely with list virtualization\n      // https://github.com/wwayne/react-tooltip/issues/300#issuecomment-468042592\n      renderTooltipComponent={false}\n    />\n  )\n}\n\nexport function DateRenderer({ cellData }: { cellData?: string }) {\n  return <>{(cellData && formatDate(dayjs(cellData))) ?? <></>}</>\n}\n\n/**\n * Renders 'modifiedOn' from the entity bundle.\n * @param props\n * @returns\n */\nexport function ModifiedOnRenderer<T extends EntityIdAndVersionNumber>(\n  props: CellRendererProps<T>,\n) {\n  const { data: bundle, isLoading } = useGetEntityBundle(\n    props.rowData.entityId,\n    props.rowData.versionNumber,\n  )\n\n  if (isLoading) {\n    return <Skeleton width={200} />\n  }\n\n  return <DateRenderer {...props} cellData={bundle?.entity.modifiedOn} />\n}\n\n/**\n * Renders 'createdOn' from the entity bundle.\n * @param props\n * @returns\n */\nexport function CreatedOnRenderer<T extends EntityIdAndVersionNumber>(\n  props: CellRendererProps<T>,\n) {\n  const { data: bundle, isLoading } = useGetEntityBundle(\n    props.rowData.entityId,\n    props.rowData.versionNumber,\n  )\n\n  if (isLoading) {\n    return <Skeleton width={200} />\n  }\n\n  return <DateRenderer {...props} cellData={bundle?.entity?.createdOn} />\n}\n\nexport function EntityNameRenderer<T extends EntityIdAndVersionNumber>(\n  props: CellRendererProps<T>,\n) {\n  const { data: bundle, isLoading } = useGetEntityBundle(\n    props.rowData.entityId,\n    props.rowData.versionNumber,\n  )\n  if (isLoading) {\n    return <Skeleton width={200} />\n  }\n\n  return bundle ? (\n    <EntityLink\n      className=\"EntityNameWithIconRenderer\"\n      entity={bundle.entity}\n      link={false}\n    />\n  ) : (\n    <></>\n  )\n}\n\nexport function ProjectRenderer<T extends EntityIdAndVersionNumber>(\n  props: CellRendererProps<T>,\n) {\n  const { data: entityBundle, isLoading: isLoadingBundle } = useGetEntityBundle(\n    props.rowData.entityId,\n    props.rowData.versionNumber,\n  )\n  const { data: project, isLoading: isLoadingProjectEntity } = useGetEntity(\n    entityBundle?.path.path[1].id ?? '',\n    undefined,\n    { enabled: !!entityBundle },\n  )\n\n  if (isLoadingBundle || isLoadingProjectEntity) {\n    return <Skeleton width={200} />\n  }\n\n  return project ? <EntityLink entity={project} /> : <></>\n}\n\nexport function UserBadgeRenderer({ cellData }: { cellData?: string }) {\n  return cellData ? (\n    <UserBadge userId={cellData} openLinkInNewTab={true} />\n  ) : (\n    <></>\n  )\n}\n\n/**\n * Renders 'modifiedBy' from the entity bundle.\n * @param props\n * @returns\n */\nexport function ModifiedByRenderer<T extends EntityIdAndVersionNumber>(\n  props: CellRendererProps<T>,\n) {\n  const { data: bundle, isLoading } = useGetEntityBundle(\n    props.rowData.entityId,\n    props.rowData.versionNumber,\n  )\n\n  if (isLoading) {\n    return <Skeleton width={200} />\n  }\n\n  return <UserBadgeRenderer {...props} cellData={bundle?.entity.modifiedBy} />\n}\n\nexport function LoadingRenderer() {\n  return (\n    <div className=\"EntityFinderDetailsViewPlaceholder\">\n      <SynapseSpinner size={30} />\n    </div>\n  )\n}\n\nexport const DetailsViewCheckboxRenderer: ColumnShape<EntityFinderTableViewRowData>['cellRenderer'] =\n  props => {\n    const { rowData } = props\n    const { isSelected, isDisabled } = rowData\n    return (\n      !isDisabled && (\n        <Checkbox\n          label={`Select ${rowData.entityId}`}\n          hideLabel={true}\n          className=\"SRC-pointer-events-none\"\n          checked={isSelected}\n          onChange={() => {\n            // no-op\n          }}\n        />\n      )\n    )\n  }\n\nexport const TypeIconRenderer: ColumnShape<EntityFinderTableViewRowData>['cellRenderer'] =\n  props => {\n    const { cellData } = props\n    return (\n      <EntityTypeIcon\n        className=\"EntityFinderTableCellEntityIcon\"\n        type={cellData as EntityType}\n      />\n    )\n  }\n\nexport function EmptyRenderer({\n  noResultsPlaceholder,\n}: {\n  noResultsPlaceholder: React.ReactNode\n}) {\n  return (\n    <div className=\"EntityFinderDetailsViewPlaceholder\">\n      {noResultsPlaceholder || <div>Empty</div>}\n    </div>\n  )\n}\n\nexport const DatasetEditorVersionRenderer = ({\n  rowData,\n  toggleSelection,\n}: CellRendererProps<DatasetItemsEditorTableData> & {\n  toggleSelection: (entity: EntityRef) => void\n}) => {\n  const { entityId, versionNumber } = rowData\n\n  const {\n    data: versionData,\n    isError,\n    fetchNextPage,\n    isFetchingNextPage,\n    hasNextPage,\n  } = useGetVersionsInfinite(entityId, {\n    staleTime: 60 * 1000, // 60 seconds\n  })\n  const versions = versionData?.pages.flatMap(page => page.results) ?? []\n  const currentVersionHasBeenRetrieved = !!versions.find(\n    version => version.versionNumber === versionNumber,\n  )\n  useEffect(() => {\n    if (!currentVersionHasBeenRetrieved && hasNextPage && !isFetchingNextPage) {\n      fetchNextPage()\n    }\n  }, [\n    currentVersionHasBeenRetrieved,\n    hasNextPage,\n    isFetchingNextPage,\n    fetchNextPage,\n  ])\n\n  if (isError) {\n    return <>{versionNumber}</>\n  }\n\n  return (\n    <div>\n      {versions && versions.length > 0 && (\n        <Form.Control\n          role=\"listbox\"\n          size=\"sm\"\n          as=\"select\"\n          value={versionNumber}\n          onClick={(event: SyntheticEvent<HTMLSelectElement>) => {\n            event.stopPropagation()\n          }}\n          onChange={event => {\n            event.stopPropagation()\n            const version = parseInt(event.target.value)\n            toggleSelection({\n              entityId: entityId,\n              versionNumber: version,\n            })\n          }}\n        >\n          {\n            /* The selected version number doesn't exist */\n            !currentVersionHasBeenRetrieved &&\n              !hasNextPage &&\n              !isFetchingNextPage && (\n                <option disabled key={versionNumber} value={versionNumber}>\n                  {versionNumber} (Not Found)\n                </option>\n              )\n          }\n          {versions.map(version => {\n            return (\n              <option key={version.versionNumber} value={version.versionNumber}>\n                {version.versionNumber}\n                {version.isLatestVersion && ' (Latest)'}\n              </option>\n            )\n          })}\n        </Form.Control>\n      )}\n    </div>\n  )\n}\n\nfunction getLatestVersionText(\n  versionSelection: VersionSelectionType,\n  entityType: EntityType,\n) {\n  let versionDisplay = 'Latest'\n  let snapshotDisplay = ''\n  if (isTableType(entityType)) {\n    if (entityType === EntityType.DATASET) {\n      versionDisplay = 'Draft'\n      snapshotDisplay = 'Stable Version'\n    } else {\n      versionDisplay = 'Current'\n      snapshotDisplay = 'Snapshot'\n    }\n  }\n\n  if (versionSelection === VersionSelectionType.TRACKED) {\n    return `Always ${versionDisplay} Version`\n  } else if (versionSelection === VersionSelectionType.REQUIRED) {\n    return (\n      <>\n        {versionDisplay}\n\n        <IconSvg\n          icon=\"helpOutlineTwoTone\"\n          label={`No ${snapshotDisplay} exists. The ${versionDisplay} version will be referenced until a new ${snapshotDisplay} is created.`}\n          sx={{\n            width: '12px',\n            paddingLeft: '0.2rem',\n          }}\n        />\n      </>\n    )\n  }\n\n  return `${versionDisplay} Version`\n}\n\nexport const DetailsViewVersionRenderer = ({\n  rowData,\n  versionSelection,\n  toggleSelection,\n}: CellRendererProps<EntityFinderTableViewRowData> & {\n  versionSelection: VersionSelectionType\n  toggleSelection: (entity: Reference | Reference[]) => void\n}) => {\n  const {\n    id,\n    entityType,\n    isVersionableEntity,\n    isSelected,\n    currentSelectedVersion,\n  } = rowData\n  const { data: versionData } = useGetVersionsInfinite(id, {\n    enabled: isVersionableEntity,\n    staleTime: 60 * 1000, // 60 seconds\n  })\n  const versions = versionData?.pages.flatMap(page => page.results) ?? []\n\n  useEffect(() => {\n    // If VersionSelectionType.REQUIRED, and the user has selected this entity and hasn't selected a version, then we force a version selection\n    if (\n      isSelected &&\n      versionSelection == VersionSelectionType.REQUIRED &&\n      currentSelectedVersion === NO_VERSION_NUMBER &&\n      versions.length > 0\n    ) {\n      toggleSelection({\n        targetId: id,\n        targetVersionNumber: versions[0].versionNumber,\n      })\n    }\n  }, [\n    currentSelectedVersion,\n    id,\n    isSelected,\n    versionSelection,\n    toggleSelection,\n    versions,\n  ])\n\n  const showLatestVersion =\n    versionSelection === VersionSelectionType.TRACKED ||\n    (versionSelection === VersionSelectionType.UNTRACKED &&\n      isTableType(entityType))\n\n  const latestVersionText = getLatestVersionText(versionSelection, entityType)\n\n  if (!isSelected || !isVersionableEntity) {\n    return <></>\n  }\n\n  return (\n    <div>\n      {versions && versions.length > 0 ? (\n        <Form.Control\n          role=\"listbox\"\n          size=\"sm\"\n          as=\"select\"\n          value={currentSelectedVersion}\n          onClick={(event: SyntheticEvent<HTMLSelectElement>) => {\n            event.stopPropagation()\n          }}\n          onChange={event => {\n            event.stopPropagation()\n            const version = parseInt(event.target.value)\n            toggleSelection({\n              targetId: id,\n              targetVersionNumber:\n                version === NO_VERSION_NUMBER ? undefined : version,\n            })\n          }}\n        >\n          {showLatestVersion && (\n            <option value={NO_VERSION_NUMBER}>{latestVersionText}</option>\n          )}\n          {versions.map(version => {\n            return (\n              <option key={version.versionNumber} value={version.versionNumber}>\n                Version {version.versionNumber}\n              </option>\n            )\n          })}\n        </Form.Control>\n      ) : (\n        latestVersionText\n      )}\n    </div>\n  )\n}\n\nexport function DatasetEditorCheckboxRenderer<\n  T extends EntityIdAndVersionNumber & {\n    isSelected: boolean\n    isDisabled?: boolean\n    setSelected: (newValue: boolean) => void\n  },\n>(props: CellRendererProps<T>) {\n  const { isSelected, isDisabled, setSelected, entityId } = props.rowData\n  return (\n    !isDisabled && (\n      <Checkbox\n        data-testid={`dataset-editor-checkbox-${entityId}`}\n        disabled={isDisabled}\n        label={`Select ${entityId}`}\n        hideLabel={true}\n        checked={isSelected}\n        onChange={value => {\n          setSelected(value)\n        }}\n      />\n    )\n  )\n}\n\nexport const EntityErrorRenderer = <T extends EntityIdAndVersionNumber>(\n  props: CellRendererProps<T>,\n) => {\n  const { entityId, versionNumber } = props.rowData\n  const { error, isError } = useGetEntity(entityId, versionNumber)\n\n  let message = error?.reason\n\n  if (error?.status === 403) {\n    message = \"You don't have permission to view this entity.\"\n  } else if (error?.status === 404) {\n    message = 'The entity or version does not exist. It may have been deleted.'\n  }\n\n  if (!isError) {\n    return <></>\n  } else {\n    return (\n      <Tooltip\n        title={message ?? ''}\n        placement=\"right\"\n        className=\"EntityBadgeTooltip\"\n      >\n        <div className=\"EntityErrorRenderer\">\n          <IconSvg icon=\"warningOutlined\" />\n        </div>\n      </Tooltip>\n    )\n  }\n}\n","import React from 'react'\nimport { HelpPopover } from '../../../HelpPopover/HelpPopover'\nimport { VersionSelectionType } from '../../VersionSelectionType'\n\nconst CHOOSE_REFERENCE =\n  'Choose which version of this item you would like to reference.'\nconst CHOOSE_ACTION =\n  'Choose which version of this item you would like to perform this action on.'\nconst ALWAYS_LATEST_VERSION_EXPLANATION =\n  'If you would like the selection to update as new versions are created, choose \"Always Latest Version\".'\n\nexport function VersionColumnHeader(props: {\n  versionSelection: VersionSelectionType\n}) {\n  const { versionSelection } = props\n  let helpCopy = ''\n  switch (versionSelection) {\n    case VersionSelectionType.REQUIRED:\n      helpCopy = CHOOSE_REFERENCE\n      break\n    case VersionSelectionType.TRACKED:\n      helpCopy = CHOOSE_REFERENCE + ' ' + ALWAYS_LATEST_VERSION_EXPLANATION\n      break\n    case VersionSelectionType.UNTRACKED:\n      // If the selected version isn't being tracked, then this is most likely a one-time action\n      helpCopy = CHOOSE_ACTION\n      break\n    case VersionSelectionType.DISALLOWED:\n    default:\n    // this column is not shown in these cases.\n  }\n  return (\n    <>\n      Version\n      <HelpPopover\n        className=\"SRC-margin-left-5\"\n        markdownText={helpCopy}\n        placement=\"right\"\n      />\n    </>\n  )\n}\n","import BaseTable, {\n  AutoResizer,\n  Column,\n  SortOrder,\n} from '@sage-bionetworks/react-base-table'\nimport React, { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useQueryClient } from 'react-query'\nimport {\n  getEntityTypeFromHeader,\n  isContainerType,\n  isVersionableEntityType,\n} from '../../../../utils/functions/EntityTypeUtils'\nimport { getEntityVersions } from '../../../../synapse-client/SynapseClient'\nimport { useSynapseContext } from '../../../../utils/context/SynapseContext'\nimport {\n  Direction,\n  EntityChildrenRequest,\n  EntityHeader,\n  EntityType,\n  SortBy,\n} from '@sage-bionetworks/synapse-types'\nimport { BlockingLoader } from '../../../LoadingScreen/LoadingScreen'\nimport { Checkbox } from '../../../widgets/Checkbox'\nimport { NO_VERSION_NUMBER } from '../../EntityFinder'\nimport { EntityFinderHeader } from '../../EntityFinderHeader'\nimport { VersionSelectionType } from '../../VersionSelectionType'\nimport { EntityDetailsListSharedProps } from '../EntityDetailsList'\nimport {\n  BadgeIconsRenderer,\n  CellRendererProps,\n  CreatedOnRenderer,\n  CustomSortIndicator,\n  DetailsViewCheckboxRenderer,\n  DetailsViewVersionRenderer,\n  EmptyRenderer,\n  EntityIdAndVersionNumber,\n  LoadingRenderer,\n  ModifiedByRenderer,\n  ModifiedOnRenderer,\n  TypeIconRenderer,\n} from './DetailsViewTableRenderers'\nimport { VersionColumnHeader } from './VersionColumnHeader'\n\nconst MIN_TABLE_WIDTH = 1200\nconst ROW_HEIGHT = 46\n\nexport type DetailsViewProps = EntityDetailsListSharedProps & {\n  entities: EntityFinderHeader[]\n  isLoading: boolean\n  hasNextPage?: boolean\n  fetchNextPage?: () => Promise<any>\n  isFetchingNextPage?: boolean\n  /** The current sort of the view. If the view cannot be sorted, set this to `undefined` */\n  sort?: { sortBy: SortBy; sortDirection: Direction }\n  /** If sortable, `setSort` will be invoked when the user tries to change the sort */\n  setSort?: (soryBy: SortBy, sortDirection: Direction) => void\n  noResultsPlaceholder?: React.ReactElement\n  /** We defer to the configuration component to determine this */\n  selectAllIsChecked?: boolean\n  /** This request object is only used to tell react-query to cancel fetching all children at once. */\n  getChildrenInfiniteRequestObject?: EntityChildrenRequest\n  /** The total number of entities that can be retrieved */\n  totalEntities?: number\n}\n\n/**\n * Describes the shape of the data passed to the BaseTable\n */\nexport type EntityFinderTableViewRowData = EntityFinderHeader & {\n  entityId: string\n  versionNumber?: number\n  entityType: EntityType\n  isSelected: boolean\n  isDisabled: boolean\n  isVersionableEntity: boolean\n  currentSelectedVersion?: number\n}\n\n/**\n * Displays a list of entities in a table.\n *\n * If the list of entities is paginated, the `hasNextPage` prop can be set to indicate that there is more data to load.\n * When the view is ready to load more data, the `fetchNextPage` callback will be invoked. The view is designed to handle\n * an \"infinite scroll\" pattern, so entities should not be removed from the list when loading the next page.\n *\n * @param param0\n */\nexport const DetailsView: React.FunctionComponent<DetailsViewProps> = ({\n  entities,\n  isLoading,\n  hasNextPage,\n  fetchNextPage,\n  isFetchingNextPage,\n  versionSelection,\n  selectColumnType,\n  selected,\n  visibleTypes,\n  selectableTypes,\n  toggleSelection,\n  sort,\n  setSort,\n  noResultsPlaceholder,\n  enableSelectAll,\n  selectAllIsChecked = false,\n  getChildrenInfiniteRequestObject,\n  totalEntities,\n  setCurrentContainer,\n}) => {\n  const queryClient = useQueryClient()\n\n  const { accessToken } = useSynapseContext()\n\n  const showSelectColumn = selectColumnType !== 'none'\n\n  const [shouldSelectAll, setShouldSelectAll] = useState(false)\n  const [showLoadingScreen, setShowLoadingScreen] = useState(false)\n\n  const cancelQuery = () => {\n    // It's likely that the user will be throttled by the Synapse backend and may be waiting a\n    // noticeable amount of time for the current request, so cancel it (in addition to cancelling future requests)\n    queryClient.cancelQueries([\n      'entitychildren',\n      getChildrenInfiniteRequestObject,\n    ])\n    setShowLoadingScreen(false)\n    setShouldSelectAll(false)\n  }\n  type DetailsViewRowAppearance = 'hidden' | 'disabled' | 'selected' | 'default'\n\n  const determineRowAppearance = (\n    entity: EntityFinderHeader,\n  ): DetailsViewRowAppearance => {\n    if (!visibleTypes.includes(getEntityTypeFromHeader(entity))) {\n      return 'hidden'\n    } else if (!selectableTypes.includes(getEntityTypeFromHeader(entity))) {\n      return 'disabled'\n    } else if (selected.has(entity.id)) {\n      return 'selected'\n    } else {\n      return 'default'\n    }\n  }\n\n  useEffect(() => {\n    async function handleSelectAll() {\n      if (shouldSelectAll) {\n        if (hasNextPage && fetchNextPage) {\n          // Show the loading screen since we must fetch data (potentially a lot) to finish the task\n          setShowLoadingScreen(true)\n          if (!isFetchingNextPage) {\n            fetchNextPage()\n          }\n        } else {\n          if (selectAllIsChecked) {\n            // All of the items are selected, so we will deselect all\n            toggleSelection(\n              entities\n                .filter(e => {\n                  // Collect just entities that are selected\n                  // An entity may be in the list and unselected because it isn't of a selectable type\n                  return selected.has(e.id)\n                })\n                .map(e => {\n                  const selectedVersion = selected.get(e.id)\n                  return {\n                    targetId: e.id,\n                    targetVersionNumber:\n                      selectedVersion === NO_VERSION_NUMBER\n                        ? undefined\n                        : selectedVersion,\n                  }\n                }),\n            )\n          } else {\n            // Not all of the items are selected, so we will select all\n            toggleSelection(\n              await Promise.all(\n                entities\n                  .filter(e => {\n                    // must filter just selectable types or else any entities of unselectable types will get selected\n                    const type = getEntityTypeFromHeader(e)\n                    // also exclude already-selected entities, since we don't want to toggle those\n                    return (\n                      !selected.has(e.id) &&\n                      selectableTypes.includes(type) &&\n                      visibleTypes.includes(type)\n                    )\n                  })\n                  .map(async e => {\n                    let latestVersion: number | undefined\n                    if (\n                      versionSelection === VersionSelectionType.REQUIRED &&\n                      isVersionableEntityType(getEntityTypeFromHeader(e))\n                    ) {\n                      // If VersionSelectionType.REQUIRED, then we need to supply a version with the entity.\n                      // We may already have the version from the header:\n                      if (\n                        Object.prototype.hasOwnProperty.call(e, 'versionNumber')\n                      ) {\n                        latestVersion = (e as EntityHeader).versionNumber\n                      }\n                      if (!latestVersion) {\n                        // Failsafe if we didn't get the version in the header. This is rare/unlikely, since the only cases we're sure we don't get versions are:\n                        //  - ProjectHeaders (which are versionless)\n                        //  - Search Results (for which we don't support Select All)\n                        // For large lists, there's a good chance for this to trigger throttling.\n\n                        // Show the loading screen since we must fetch data (potentially a lot) to finish the task\n                        setShowLoadingScreen(true)\n\n                        const versions = await queryClient.fetchQuery(\n                          ['entity', e.id, 'versions', { offset: 0, limit: 1 }],\n                          () => getEntityVersions(e.id, accessToken, 0, 1),\n                        )\n                        // we pick the first version in the list because it is the most recent\n                        latestVersion = versions.results[0]?.versionNumber\n                      }\n                    }\n                    return {\n                      targetId: e.id,\n                      targetVersionNumber: latestVersion,\n                    }\n                  }),\n              ),\n            )\n          }\n          setShouldSelectAll(false)\n          setShowLoadingScreen(false)\n        }\n      }\n    }\n    handleSelectAll()\n  }, [\n    accessToken,\n    entities,\n    fetchNextPage,\n    hasNextPage,\n    versionSelection,\n    queryClient,\n    isFetchingNextPage,\n    selectAllIsChecked,\n    selectableTypes,\n    selected,\n    shouldSelectAll,\n    toggleSelection,\n    visibleTypes,\n  ])\n\n  const tableData = entities.reduce(\n    (entities: EntityFinderTableViewRowData[], entity) => {\n      const appearance = determineRowAppearance(entity)\n      if (appearance !== 'hidden') {\n        // only include entities that should not be hidden\n        const entityType = getEntityTypeFromHeader(entity)\n\n        const currentSelectedVersion = selected.get(entity.id)\n        let versionNumber: number | undefined = undefined\n        if ('versionNumber' in entity) {\n          if (\n            currentSelectedVersion != null &&\n            currentSelectedVersion !== NO_VERSION_NUMBER\n          ) {\n            // if a version is selected, the row should show that version's data\n            versionNumber = currentSelectedVersion\n          } else if (versionSelection === VersionSelectionType.REQUIRED) {\n            // if a version is not selected, but version selection is required, the row should show the latest version's data\n            versionNumber = entity.versionNumber\n          }\n          // otherwise, show the current version's data (versionNumber is undefined)\n        }\n\n        entities.push({\n          ...entity,\n          entityId: entity.id,\n          versionNumber: versionNumber,\n          entityType: entityType,\n          isSelected: appearance === 'selected',\n          isDisabled: appearance === 'disabled',\n          isVersionableEntity: isVersionableEntityType(entityType),\n          currentSelectedVersion: currentSelectedVersion,\n        })\n      }\n      return entities\n    },\n    [],\n  )\n\n  const SelectAllCheckboxRenderer = useMemo(() => {\n    // Enabled if there's at least one visible & selectable entity, OR there's a page we haven't fetched\n    const isEnabled =\n      hasNextPage ||\n      entities.filter(\n        e =>\n          selectableTypes.includes(getEntityTypeFromHeader(e)) &&\n          visibleTypes.includes(getEntityTypeFromHeader(e)),\n      ).length > 0\n    return (\n      enableSelectAll && (\n        <div\n          data-testid=\"Select All\"\n          style={isEnabled ? { cursor: 'pointer' } : { cursor: 'not-allowed' }}\n          onClick={() => {\n            if (isEnabled) {\n              setShouldSelectAll(true)\n            }\n          }}\n        >\n          <Checkbox\n            label=\"Select All\"\n            hideLabel={true}\n            className=\"SRC-pointer-events-none\"\n            checked={selectAllIsChecked}\n            disabled={!isEnabled}\n            onChange={() => {\n              // no-op\n            }}\n          />\n        </div>\n      )\n    )\n  }, [\n    enableSelectAll,\n    entities,\n    hasNextPage,\n    selectAllIsChecked,\n    selectableTypes,\n    visibleTypes,\n  ])\n\n  const NameRenderer = useCallback(\n    (props: CellRendererProps<EntityFinderTableViewRowData>) => {\n      if (setCurrentContainer && isContainerType(props.rowData.entityType)) {\n        return (\n          <span\n            role=\"link\"\n            className=\"EntityFinderTableCellContainerLink\"\n            onClick={e => {\n              e.stopPropagation()\n              setCurrentContainer(props.rowData.id)\n            }}\n          >\n            {props.rowData.name}\n          </span>\n        )\n      } else {\n        return props.rowData.name\n      }\n    },\n    [setCurrentContainer],\n  )\n\n  const sortState: Record<string, SortOrder> = {}\n  if (sort) {\n    sortState[sort.sortBy] = sort.sortDirection.toLowerCase() as SortOrder\n  }\n\n  return (\n    <div className=\"EntityFinderDetailsView bootstrap-4-backport\">\n      <BlockingLoader\n        show={showLoadingScreen}\n        currentProgress={entities.length}\n        totalProgress={totalEntities}\n        hintText={\n          totalEntities\n            ? `${entities.length.toLocaleString()} of ${totalEntities?.toLocaleString()}`\n            : `Fetching ${entities.length.toLocaleString()}`\n        }\n        headlineText={'Fetching selected items'}\n        onCancel={cancelQuery}\n      />\n      <AutoResizer className=\"DetailsViewAutosizer\">\n        {({ height, width }: { height: number; width: number }) => (\n          <BaseTable<EntityFinderTableViewRowData>\n            classPrefix=\"DetailsViewTable\"\n            data={tableData}\n            height={height}\n            width={width > MIN_TABLE_WIDTH ? width : MIN_TABLE_WIDTH}\n            rowHeight={ROW_HEIGHT}\n            overscanRowCount={5}\n            // Apply classes to the rows for styling\n            rowClassName={({ rowIndex }: { rowIndex: number }) => {\n              let className = 'EntityFinderDetailsViewRow'\n              if (rowIndex % 2 === 0) {\n                // Apply a class based on index so we can get alternating colors\n                // We don't use CSSs nth-child because the rows are virtualized, so an even child might change to odd on-the-fly\n                className += ' isEven'\n              }\n              return className\n            }}\n            // Apply aria roles to the rows for a11y/styling\n            rowProps={({ rowData }) => {\n              return {\n                'aria-selected': rowData.isSelected,\n                'aria-disabled': rowData.isDisabled,\n              }\n            }}\n            headerCellProps={{\n              role: 'columnheader',\n            }}\n            // Sorting:\n            sortState={sortState}\n            components={{ SortIndicator: CustomSortIndicator }}\n            onColumnSort={({ key, order }) => {\n              if (sort && setSort) {\n                setSort(\n                  key as SortBy,\n                  order === 'asc' ? Direction.ASC : Direction.DESC,\n                )\n              }\n            }}\n            rowEventHandlers={{\n              onClick: ({ rowData }) => {\n                const { id, isDisabled, isVersionableEntity } = rowData\n                let { currentSelectedVersion } = rowData\n                if (!isDisabled) {\n                  if (\n                    isVersionableEntity &&\n                    versionSelection === VersionSelectionType.REQUIRED &&\n                    currentSelectedVersion == null &&\n                    Object.prototype.hasOwnProperty.call(\n                      rowData,\n                      'versionNumber',\n                    )\n                  ) {\n                    currentSelectedVersion = (rowData as EntityHeader)\n                      .versionNumber\n                    // Note that here we aren't handling the case where the header doesn't have a version, e.g. a search result\n                    // That case is actually handled by the VersionRenderer, which has an effect that will toggle the selection after data is fetched.\n                  }\n\n                  toggleSelection({\n                    targetId: id,\n                    targetVersionNumber:\n                      currentSelectedVersion === NO_VERSION_NUMBER\n                        ? undefined\n                        : currentSelectedVersion,\n                  })\n                }\n              },\n            }}\n            onEndReached={() => {\n              if (hasNextPage && fetchNextPage && !isFetchingNextPage) {\n                fetchNextPage()\n              }\n            }}\n            emptyRenderer={\n              isLoading\n                ? LoadingRenderer\n                : () => (\n                    <EmptyRenderer\n                      noResultsPlaceholder={noResultsPlaceholder}\n                    />\n                  )\n            }\n          >\n            {showSelectColumn && (\n              <Column<EntityFinderTableViewRowData>\n                key=\"isSelected\"\n                title=\"\"\n                minWidth={50}\n                maxWidth={50}\n                width={50}\n                dataKey=\"isSelected\"\n                headerRenderer={SelectAllCheckboxRenderer}\n                cellRenderer={DetailsViewCheckboxRenderer}\n              />\n            )}\n            <Column<EntityFinderTableViewRowData>\n              key=\"type\"\n              title=\"\"\n              minWidth={45}\n              maxWidth={45}\n              width={45}\n              dataKey=\"entityType\"\n              align=\"center\"\n              cellRenderer={TypeIconRenderer}\n            />\n            <Column<EntityFinderTableViewRowData>\n              key={SortBy.NAME}\n              title=\"Name\"\n              width={800}\n              sortable={sort != null}\n              resizable={true}\n              cellRenderer={NameRenderer}\n            />\n            <Column<EntityIdAndVersionNumber>\n              key=\"badge\"\n              title=\"\"\n              width={75}\n              maxWidth={75}\n              minWidth={75}\n              cellRenderer={BadgeIconsRenderer}\n            />\n\n            <Column<EntityFinderTableViewRowData>\n              key=\"id\"\n              width={130}\n              dataKey=\"id\"\n              title=\"ID\"\n              minWidth={130}\n            />\n            {versionSelection !== VersionSelectionType.DISALLOWED && (\n              <Column<EntityFinderTableViewRowData>\n                key=\"version\"\n                minWidth={150}\n                width={500}\n                title=\"Version\"\n                cellRenderer={props => (\n                  <DetailsViewVersionRenderer\n                    versionSelection={versionSelection}\n                    toggleSelection={toggleSelection}\n                    {...props}\n                  />\n                )}\n                headerRenderer={\n                  <VersionColumnHeader versionSelection={versionSelection} />\n                }\n              />\n            )}\n            <Column<EntityIdAndVersionNumber>\n              key={SortBy.CREATED_ON}\n              sortable={sort != null}\n              title=\"Created On\"\n              width={220}\n              minWidth={170}\n              cellRenderer={CreatedOnRenderer}\n            />\n            <Column<EntityIdAndVersionNumber>\n              key={SortBy.MODIFIED_ON}\n              title=\"Modified On\"\n              width={220}\n              minWidth={170}\n              sortable={sort != null}\n              cellRenderer={ModifiedOnRenderer}\n            />\n            <Column<EntityIdAndVersionNumber>\n              key=\"modifiedBy\"\n              title=\"Modified By\"\n              width={500}\n              resizable\n              cellRenderer={ModifiedByRenderer}\n            />\n          </BaseTable>\n        )}\n      </AutoResizer>\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport { useGetEntityChildrenInfinite } from '../../../../synapse-queries/entity/useGetEntityChildren'\nimport { Direction, SortBy } from '@sage-bionetworks/synapse-types'\nimport { EntityDetailsListSharedProps } from '../EntityDetailsList'\nimport { DetailsView } from '../view/DetailsView'\nimport useGetIsAllSelectedFromInfiniteList from '../../../../utils/hooks/useGetIsAllSelectedInfiniteList'\n\ntype EntityChildrenDetailsProps = EntityDetailsListSharedProps & {\n  parentContainerId: string\n}\n\nexport const EntityChildrenDetails: React.FunctionComponent<\n  EntityChildrenDetailsProps\n> = ({ parentContainerId, ...sharedProps }) => {\n  const [sortBy, setSortBy] = useState<SortBy>(SortBy.NAME)\n  const [sortDirection, setSortDirection] = useState<Direction>(Direction.ASC)\n\n  const getChildrenInfiniteRequestObject = {\n    parentId: parentContainerId,\n    includeTotalChildCount: true,\n    includeTypes: sharedProps.visibleTypes,\n    sortBy: sortBy,\n    sortDirection: sortDirection,\n  }\n  const { data, isLoading, isFetchingNextPage, hasNextPage, fetchNextPage } =\n    useGetEntityChildrenInfinite(getChildrenInfiniteRequestObject, {\n      useErrorBoundary: true,\n    })\n  const entities = data?.pages.flatMap(page => page.page) ?? []\n  const totalEntities = data?.pages[0].totalChildCount\n\n  const selectAllCheckboxState = useGetIsAllSelectedFromInfiniteList(\n    entities,\n    sharedProps.selected.size,\n    sharedProps.isIdSelected,\n    sharedProps.isSelectable,\n    hasNextPage,\n    fetchNextPage,\n    isFetchingNextPage,\n  )\n\n  return (\n    <DetailsView\n      entities={entities}\n      isLoading={isLoading}\n      hasNextPage={hasNextPage}\n      fetchNextPage={fetchNextPage}\n      isFetchingNextPage={isFetchingNextPage}\n      sort={{ sortBy, sortDirection }}\n      setSort={(newSortBy, newSortDirection) => {\n        setSortBy(newSortBy)\n        setSortDirection(newSortDirection)\n      }}\n      selectAllIsChecked={selectAllCheckboxState}\n      getChildrenInfiniteRequestObject={getChildrenInfiniteRequestObject}\n      totalEntities={totalEntities}\n      {...sharedProps}\n    />\n  )\n}\n","import React from 'react'\nimport { useGetFavoritesInfinite } from '../../../../synapse-queries/user/useFavorites'\nimport useGetIsAllSelectedFromInfiniteList from '../../../../utils/hooks/useGetIsAllSelectedInfiniteList'\nimport { EntityDetailsListSharedProps } from '../EntityDetailsList'\nimport { DetailsView } from '../view/DetailsView'\n\ntype FavoritesDetailsProps = EntityDetailsListSharedProps\n\nexport const FavoritesDetails: React.FunctionComponent<\n  FavoritesDetailsProps\n> = ({ ...sharedProps }) => {\n  const { data, isLoading, hasNextPage, fetchNextPage, isFetchingNextPage } =\n    useGetFavoritesInfinite('NAME', 'ASC', { useErrorBoundary: true })\n\n  const entities = data?.pages.flatMap(page => page.results) ?? []\n\n  const selectAllCheckboxState = useGetIsAllSelectedFromInfiniteList(\n    entities,\n    sharedProps.selected.size,\n    sharedProps.isIdSelected,\n    sharedProps.isSelectable,\n    hasNextPage,\n    fetchNextPage,\n    isFetchingNextPage,\n  )\n\n  return (\n    <DetailsView\n      entities={entities}\n      isLoading={isLoading}\n      hasNextPage={hasNextPage}\n      fetchNextPage={fetchNextPage}\n      isFetchingNextPage={isFetchingNextPage}\n      selectAllIsChecked={selectAllCheckboxState}\n      {...sharedProps}\n    />\n  )\n}\n","import React from 'react'\nimport { useGetProjectsInfinite } from '../../../../synapse-queries/user/useProjects'\nimport useGetIsAllSelectedFromInfiniteList from '../../../../utils/hooks/useGetIsAllSelectedInfiniteList'\nimport { ProjectHeader } from '@sage-bionetworks/synapse-types'\nimport { GetProjectsParameters } from '@sage-bionetworks/synapse-types'\nimport { EntityHeaderFromProjectHeader } from '../../EntityFinderHeader'\nimport { EntityDetailsListSharedProps } from '../EntityDetailsList'\nimport { DetailsView } from '../view/DetailsView'\n\ntype ProjectListDetailsProps = EntityDetailsListSharedProps & {\n  projectsParams: GetProjectsParameters\n}\n\nexport function toEntityHeader(\n  projectHeader: ProjectHeader,\n): EntityHeaderFromProjectHeader {\n  return {\n    ...projectHeader,\n    type: 'org.sagebionetworks.repo.model.Project',\n  }\n}\n\nexport const ProjectListDetails: React.FunctionComponent<\n  ProjectListDetailsProps\n> = ({ projectsParams, ...sharedProps }) => {\n  const { data, isLoading, isFetchingNextPage, hasNextPage, fetchNextPage } =\n    useGetProjectsInfinite(projectsParams, { useErrorBoundary: true })\n\n  const projects =\n    data?.pages.flatMap(page => page.results).map(toEntityHeader) ?? []\n\n  const selectAllCheckboxState = useGetIsAllSelectedFromInfiniteList(\n    projects,\n    sharedProps.selected.size,\n    sharedProps.isIdSelected,\n    sharedProps.isSelectable,\n    hasNextPage,\n    fetchNextPage,\n    isFetchingNextPage,\n  )\n\n  return (\n    <DetailsView\n      entities={projects}\n      isLoading={isLoading}\n      hasNextPage={hasNextPage}\n      fetchNextPage={fetchNextPage}\n      isFetchingNextPage={isFetchingNextPage}\n      selectAllIsChecked={selectAllCheckboxState}\n      {...sharedProps}\n    />\n  )\n}\n","import React from 'react'\nimport { convertToConcreteEntityType } from '../../../../utils/functions/EntityTypeUtils'\nimport { useSearchInfinite } from '../../../../synapse-queries/search/useSearch'\nimport { Hit, SearchQuery } from '@sage-bionetworks/synapse-types'\nimport { EntityHeaderFromHit } from '../../EntityFinderHeader'\nimport { EntityDetailsListSharedProps } from '../EntityDetailsList'\nimport { DetailsView } from '../view/DetailsView'\n\ntype SearchDetailsProps = EntityDetailsListSharedProps & {\n  searchQuery: SearchQuery\n}\n\nfunction toEntityHeader(hit: Hit): EntityHeaderFromHit {\n  return {\n    name: hit.name,\n    id: hit.id,\n    type: convertToConcreteEntityType(hit.node_type),\n    createdOn: hit.created_on.toString(),\n    modifiedOn: hit.modified_on.toString(),\n    createdBy: hit.created_by,\n    modifiedBy: hit.modified_by,\n  }\n}\n\nexport const SearchDetails: React.FunctionComponent<SearchDetailsProps> = ({\n  searchQuery,\n  ...sharedProps\n}) => {\n  const { data, isLoading, hasNextPage, fetchNextPage, isFetchingNextPage } =\n    useSearchInfinite(searchQuery, {\n      enabled: !!searchQuery.queryTerm,\n      useErrorBoundary: true,\n    })\n\n  if (searchQuery.queryTerm) {\n    return (\n      <DetailsView\n        entities={\n          data?.pages.flatMap(page => page.hits).map(toEntityHeader) ?? []\n        }\n        isLoading={isLoading}\n        hasNextPage={hasNextPage}\n        fetchNextPage={fetchNextPage}\n        isFetchingNextPage={isFetchingNextPage}\n        noResultsPlaceholder={\n          <>\n            <img\n              className=\"SearchPlaceholderImage\"\n              alt=\"No results found\"\n              src=\"https://s3.amazonaws.com/static.synapse.org/images/search-sad.svg\"\n            />\n            <p>\n              No results for &ldquo;{searchQuery.queryTerm.join(' ')}&rdquo;\n            </p>\n          </>\n        }\n        {...sharedProps}\n        enableSelectAll={false} // Disable select all for search\n      />\n    )\n  } else {\n    return (\n      <DetailsView\n        entities={[]}\n        isLoading={false}\n        hasNextPage={false}\n        noResultsPlaceholder={\n          <>\n            <img\n              className=\"SearchPlaceholderImage\"\n              alt=\"Begin searching\"\n              src=\"https://s3.amazonaws.com/static.synapse.org/images/search-happy.svg\"\n            />\n            <p>Enter a term or Synapse ID to start searching</p>\n          </>\n        }\n        {...sharedProps}\n        enableSelectAll={false} // Disable select all for search\n      />\n    )\n  }\n}\n","import { Map } from 'immutable'\nimport React, { Dispatch, SetStateAction, useState } from 'react'\nimport useDeepCompareEffect from 'use-deep-compare-effect'\nimport { getIsAllSelectedFromInfiniteList } from '../../../utils/hooks/useGetIsAllSelectedInfiniteList'\nimport { EntityType, Reference } from '@sage-bionetworks/synapse-types'\nimport { GetProjectsParameters } from '@sage-bionetworks/synapse-types'\nimport { SearchQuery } from '@sage-bionetworks/synapse-types'\nimport { SynapseErrorBoundary } from '../../error/ErrorBanner'\nimport { EntityFinderHeader } from '../EntityFinderHeader'\nimport { EntityTreeContainer } from '../tree/EntityTree'\nimport { VersionSelectionType } from '../VersionSelectionType'\nimport { EntityChildrenDetails } from './configurations/EntityChildrenDetails'\nimport { FavoritesDetails } from './configurations/FavoritesDetails'\nimport { ProjectListDetails } from './configurations/ProjectListDetails'\nimport { SearchDetails } from './configurations/SearchDetails'\nimport { DetailsView } from './view/DetailsView'\n\nexport enum EntityDetailsListDataConfigurationType {\n  HEADER_LIST, // simply displays one or more entity headers. incompatible with pagination\n  PARENT_CONTAINER, // retrieve the children for a given entity ID\n  USER_PROJECTS, // retrieve the user's projects (using the parameters)\n  USER_FAVORITES, // retrieve the user's favorites (using the parameters)\n  ENTITY_SEARCH, // Search for an entity\n  PROMPT, // Show no entities and instruct the user to make a selection\n}\n\nexport type EntityDetailsListDataConfiguration = {\n  type: EntityDetailsListDataConfigurationType\n  /** Defined if type is HEADER_LIST */\n  headerList?: Pick<EntityFinderHeader, 'id' | 'name' | 'type'>[]\n  /** Defined if type is PARENT_CONTAINER */\n  parentContainerId?: string\n  /** Defined if type is USER_PROJECTS */\n  getProjectParams?: GetProjectsParameters\n  /** Defined if type is ENTITY_SEARCH */\n  query?: SearchQuery\n}\n\n/**\n * These props are set by a parent to this component, but they are not affected by the configuration.\n * We collect them into this type to simplify passing them through to the view.\n */\nexport type EntityDetailsListSharedProps = {\n  versionSelection: VersionSelectionType\n  selectColumnType: 'checkbox' | 'none'\n  enableSelectAll: boolean\n  visibleTypes: EntityType[]\n  selected: Map<string, number>\n  selectableTypes: EntityType[]\n  isIdSelected: (header: EntityFinderHeader) => boolean\n  isSelectable: (header: EntityFinderHeader) => boolean\n  toggleSelection: (entity: Reference | Reference[]) => void\n  setCurrentContainer?: Dispatch<SetStateAction<EntityTreeContainer>>\n}\n\nexport type EntityDetailsListProps = EntityDetailsListSharedProps & {\n  configuration: EntityDetailsListDataConfiguration\n}\n\nexport const EntityDetailsList: React.FunctionComponent<\n  EntityDetailsListProps\n> = ({ configuration, ...sharedProps }) => {\n  /**\n   * This component simply uses the data configuration prop to determine which configuration component\n   * to use. Each configuration component has its own logic to utilize different Synapse APIs.\n   * The configuration components also manage view props that are more tightly-coupled with data,\n   * such as pagination and sorting.\n   *\n   * In the future, if we wanted to reuse this in other contexts (e.g. not selecting entities), we should consider refactoring\n   * to support different 'Row' components, determining the correct one determined at this level.\n   */\n\n  const [component, setComponent] = useState(<></>)\n\n  useDeepCompareEffect(() => {\n    const getComponentFromConfiguration = (\n      config: EntityDetailsListDataConfiguration,\n    ) => {\n      switch (config.type) {\n        case EntityDetailsListDataConfigurationType.PARENT_CONTAINER:\n          return (\n            <EntityChildrenDetails\n              parentContainerId={config.parentContainerId!}\n              {...sharedProps}\n            />\n          )\n\n        case EntityDetailsListDataConfigurationType.HEADER_LIST:\n          return (\n            <DetailsView\n              entities={config.headerList as EntityFinderHeader[]}\n              isLoading={false}\n              hasNextPage={false}\n              {...sharedProps}\n              enableSelectAll={sharedProps.enableSelectAll}\n              selectAllIsChecked={getIsAllSelectedFromInfiniteList(\n                (config.headerList as EntityFinderHeader[]) ?? [],\n                sharedProps.selected.size,\n                sharedProps.isIdSelected,\n                sharedProps.isSelectable,\n              )}\n            />\n          )\n        case EntityDetailsListDataConfigurationType.USER_FAVORITES:\n          return <FavoritesDetails {...sharedProps} />\n        case EntityDetailsListDataConfigurationType.ENTITY_SEARCH:\n          return <SearchDetails searchQuery={config.query!} {...sharedProps} />\n\n        case EntityDetailsListDataConfigurationType.USER_PROJECTS:\n          return (\n            <ProjectListDetails\n              projectsParams={config.getProjectParams!}\n              {...sharedProps}\n            />\n          )\n        case EntityDetailsListDataConfigurationType.PROMPT:\n          return (\n            <DetailsView\n              entities={[]}\n              isLoading={false}\n              noResultsPlaceholder={\n                <div>\n                  Use the left panel to browse Synapse, then make a selection in\n                  this panel\n                </div>\n              }\n              {...sharedProps}\n              enableSelectAll={false}\n            />\n          )\n\n        default:\n          console.warn(\n            'The configuration type does not map to a known view type. No Details view will be rendered. Invalid configuration: ',\n            config,\n          )\n          return <></>\n      }\n    }\n    setComponent(getComponentFromConfiguration(configuration))\n  }, [configuration, sharedProps])\n\n  return <SynapseErrorBoundary>{component}</SynapseErrorBoundary>\n}\n","import { Clear } from '@mui/icons-material'\nimport React, { useEffect, useState } from 'react'\nimport useGetEntityBundle from '../../synapse-queries/entity/useEntityBundle'\nimport { Reference } from '@sage-bionetworks/synapse-types'\nimport { Typography } from '@mui/material'\nimport { EntityTypeIcon } from '../EntityIcon'\nimport { NO_VERSION_NUMBER } from './EntityFinder'\nimport { Map } from 'immutable'\nimport { Skeleton } from '@mui/material'\nimport { Tooltip } from '@mui/material'\nimport { TOOLTIP_DELAY_SHOW } from '../SynapseTable/SynapseTableConstants'\n\nexport type SelectionPaneProps = {\n  title: string | ((count: number) => string)\n  selectedEntities: Map<string, number>\n  toggleSelection: (entity: Reference) => void\n}\n\nexport const SelectionPane: React.FC<SelectionPaneProps> = ({\n  title,\n  selectedEntities,\n  toggleSelection,\n}: SelectionPaneProps) => {\n  if (typeof title === 'function') {\n    title = title(selectedEntities.size)\n  }\n  return (\n    <div className=\"EntityFinderSelectionPane alert alert-warning\">\n      <Typography variant={'headline3'} display={'inline'}>\n        {title}\n      </Typography>\n      {selectedEntities.size <= 200 ? (\n        <div className={'EntityFinderSelectionPane__Items'}>\n          {Array.from(selectedEntities.keys()).map(id => {\n            const version = selectedEntities.get(id)\n            return (\n              <div\n                key={`${id}${\n                  version !== NO_VERSION_NUMBER ? `.${version}` : ''\n                }`}\n              >\n                <EntityPathDisplay\n                  entity={{\n                    targetId: id,\n                    targetVersionNumber:\n                      version !== NO_VERSION_NUMBER ? version : undefined,\n                  }}\n                  toggleSelection={toggleSelection}\n                ></EntityPathDisplay>\n              </div>\n            )\n          })}\n        </div>\n      ) : (\n        <Typography variant=\"smallText1\">\n          Too many items to show here\n        </Typography>\n      )}\n    </div>\n  )\n}\n\nconst EntityPathDisplay: React.FunctionComponent<{\n  entity: Reference\n  toggleSelection: (entity: Reference) => void\n}> = ({ entity, toggleSelection }) => {\n  const { data: bundle } = useGetEntityBundle(\n    entity.targetId,\n    entity.targetVersionNumber,\n  )\n\n  const [entityName, setEntityName] = useState('')\n  const [fullPath, setFullPath] = useState('')\n  const [displayedPath, setDisplayedPath] = useState('')\n\n  useEffect(() => {\n    if (bundle?.path?.path) {\n      const header = bundle.path.path[bundle.path.path.length - 1]\n      setEntityName(header.name ?? header.id)\n      const path = bundle.path.path.slice(1, bundle.path.path.length - 1) // drop the first element, which is always syn4489 \"root\"\n      setFullPath(path.map(header => header.name).join('/'))\n      if (path.length < 4) {\n        // Show the full path from project to entity\n        setDisplayedPath(fullPath)\n      } else {\n        const projectName: string = path[0]!.name\n        // Truncate the path, showing only project, parent, and self\n        setDisplayedPath(\n          projectName + // Project\n            '/â€¦/' +\n            path\n              .slice(path.length - 1) // drop everything except parent and self\n              .map(header => header.name)\n              .join('/'),\n        )\n      }\n    }\n  }, [bundle, fullPath])\n\n  return (\n    <div className=\"EntityFinderSelectionPane__Row\">\n      {bundle && (\n        <EntityTypeIcon className=\"EntityIcon\" type={bundle.entityType} />\n      )}\n      <Tooltip\n        title={`${fullPath}/${entityName}`}\n        enterNextDelay={TOOLTIP_DELAY_SHOW}\n        placement=\"top\"\n      >\n        <span>{displayedPath ? displayedPath + '/' : ''}</span>\n      </Tooltip>\n      {entityName ? (\n        <span className=\"EntityFinderSelectionPane__Row__EntityName\">\n          {entityName}\n        </span>\n      ) : (\n        <Skeleton width={500} />\n      )}\n      {entity.targetVersionNumber && (\n        <span> (Version {entity.targetVersionNumber})</span>\n      )}\n      <Clear\n        className=\"EntityFinderSelectionPane__Row__DeselectButton\"\n        onClick={() => {\n          toggleSelection(entity)\n        }}\n      />\n    </div>\n  )\n}\n","function mergeRefs(refs) {\n  return function (value) {\n    refs.forEach(function (ref) {\n      if (typeof ref === \"function\") {\n        ref(value);\n      } else if (ref != null) {\n        ref.current = value;\n      }\n    });\n  };\n}\n\nexport default mergeRefs;\n//# sourceMappingURL=react-merge-refs.esm.js.map\n","// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport var noop = function noop() {};\nexport var identity = function identity(value) {\n  return value;\n};\nexport var createBasicRecord = function createBasicRecord(pub, parent) {\n  if (parent === void 0) {\n    parent = null;\n  }\n\n  return {\n    child: null,\n    isShown: parent ? parent.public.isOpen && parent.isShown : true,\n    parent: parent,\n    public: pub,\n    sibling: null,\n    visited: false\n  };\n};\nexport var getIdByIndex = function getIdByIndex(index, _ref) {\n  var getRecordData = _ref.getRecordData;\n\n  var _getRecordData = getRecordData(index),\n      id = _getRecordData.data.id;\n\n  return id;\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\n\n/* eslint-disable no-labels,max-depth,complexity */\nimport React, { createRef, PureComponent } from 'react';\nimport mergeRefs from 'react-merge-refs';\nimport { noop } from './utils';\n// eslint-disable-next-line @typescript-eslint/naming-convention,@typescript-eslint/prefer-readonly-parameter-types\nexport var Row = function Row(_ref) {\n  var index = _ref.index,\n      _ref$data = _ref.data,\n      Node = _ref$data.component,\n      getRecordData = _ref$data.getRecordData,\n      treeData = _ref$data.treeData,\n      style = _ref.style,\n      isScrolling = _ref.isScrolling;\n  var data = getRecordData(index);\n  return /*#__PURE__*/React.createElement(Node, Object.assign({\n    isScrolling: isScrolling,\n    style: style,\n    treeData: treeData\n  }, data));\n};\n\n// If refresh is required, we will run the TreeWalker. It will completely\n// update all requests and reset every state to default.\nvar generateNewTree = function generateNewTree(_ref2, _ref3, state) {\n  var createRecord = _ref2.createRecord;\n  var buildingTaskTimeout = _ref3.buildingTaskTimeout,\n      placeholder = _ref3.placeholder,\n      _ref3$async = _ref3.async,\n      async = _ref3$async === void 0 ? false : _ref3$async,\n      treeWalker = _ref3.treeWalker;\n  var shouldPreservePreviousState = // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n  async && state.records !== undefined;\n  var previousRecords = state.records;\n  var order = [];\n  var records = new Map();\n  var requestIdleCallbackOptions = buildingTaskTimeout ? {\n    timeout: buildingTaskTimeout\n  } : undefined;\n  var meta = new WeakMap();\n  var iter = treeWalker();\n\n  var _iter$next = iter.next(),\n      root = _iter$next.value; // Each record has a link to a parent, the next sibling and the next child.\n  // Having this info, we can perform a depth-first traverse.\n\n\n  var rootRecord = createRecord(root.data, state, undefined, shouldPreservePreviousState ? previousRecords.get(root.data.id) : undefined);\n  records.set(rootRecord.public.data.id, rootRecord);\n  meta.set(rootRecord, root);\n  var currentRecord = rootRecord;\n  var isTraversingRoot = true;\n  var tempRecord = rootRecord;\n  var useIdleCallback = typeof 'requestIdleCallback' !== 'undefined' && placeholder !== undefined && // If placeholder is set to null and this is the first build, idle callback\n  // won't be used. It is necessary for trees with async data which can be\n  // extremely complex but the first build is quite easy. During the following\n  // idle callbacks the old tree will be shown.\n  !(placeholder === null && !state.order);\n  var hasTime = useIdleCallback ? function (deadline) {\n    return deadline.timeRemaining() > 0;\n  } : function () {\n    return true;\n  };\n\n  var task = function task(deadline) {\n    while (currentRecord !== null) {\n      if (!hasTime(deadline)) {\n        requestIdleCallback(task, requestIdleCallbackOptions);\n        return;\n      }\n\n      if (!currentRecord.visited) {\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n        var _iter$next2 = iter.next(meta.get(currentRecord)),\n            child = _iter$next2.value; // When the generator returns the undefined value we consider that all\n        // children are already sent and we need to select the new parent\n        // element to get its children.\n\n\n        if (child === undefined) {\n          if (isTraversingRoot) {\n            isTraversingRoot = false;\n          } else {\n            if (currentRecord.isShown) {\n              order.push(currentRecord.public.data.id);\n            }\n\n            currentRecord.visited = currentRecord.child !== null;\n            currentRecord = currentRecord.child !== null ? currentRecord.child : currentRecord.sibling !== null ? currentRecord.sibling : currentRecord.parent;\n          }\n\n          tempRecord = currentRecord;\n          continue;\n        }\n\n        var childRecord = createRecord(child.data, state, isTraversingRoot ? undefined : currentRecord, shouldPreservePreviousState ? previousRecords.get(child.data.id) : undefined);\n        records.set(childRecord.public.data.id, childRecord);\n        meta.set(childRecord, child);\n\n        if (!isTraversingRoot && tempRecord === currentRecord) {\n          tempRecord.child = childRecord;\n        } else {\n          tempRecord.sibling = childRecord;\n        }\n\n        tempRecord = childRecord;\n      } else {\n        currentRecord.visited = false;\n        currentRecord = currentRecord.sibling !== null ? currentRecord.sibling : currentRecord.parent;\n        tempRecord = currentRecord;\n      }\n    }\n\n    if (useIdleCallback) {\n      state.setState({\n        order: order,\n        records: records,\n        updateRequest: {}\n      });\n    }\n  };\n\n  if (useIdleCallback) {\n    requestIdleCallback(task, requestIdleCallbackOptions);\n  } else {\n    task();\n  } // If we want to preserve the previous state and use the requestIdleCallback,\n  // we need to return the old state.\n\n\n  return placeholder !== undefined && async && state.order ? state : {\n    order: order,\n    records: records\n  };\n};\n\nvar MAX_FUNCTION_ARGUMENTS = 32768;\nvar SPLICE_DEFAULT_ARGUMENTS_NUMBER = 2; // If we need to perform only the update, treeWalker won't be used. Update will\n// work internally, traversing only the subtree of elements that require\n// update through the opennessState option.\n\nvar updateExistingTree = function updateExistingTree(_ref4, _ref5) {\n  var order = _ref4.order,\n      records = _ref4.records;\n  var opennessState = _ref5.opennessState;\n\n  if (typeof opennessState !== 'object') {\n    return null;\n  }\n\n  for (var id in opennessState) {\n    if (!records.has(id)) {\n      continue;\n    }\n\n    var opts = opennessState[id];\n    var ownerRecord = records.get(id); // Here we unify the shape of openness state options\n\n    var _ref6 = typeof opts === 'boolean' ? {\n      open: opts\n    } : opts,\n        open = _ref6.open,\n        _ref6$subtreeCallback = _ref6.subtreeCallback,\n        subtreeCallback = _ref6$subtreeCallback === void 0 ? noop : _ref6$subtreeCallback;\n\n    var update = noop;\n    var apply = noop;\n\n    if (ownerRecord.isShown) {\n      if (open) {\n        (function () {\n          // If received rules require us to open the subtree, we have 2 cases:\n          // 1. The node is not opened yet. In this case we simply have to\n          // calculate and add new ids.\n          // 2. The node is opened already. In this case we have to remove all\n          // existing ids and replace them with new ids.\n          var index = order.indexOf(id); // Here we calculate a count of visible subtree nodes to remove from\n          // `order`. Then we will replace the gap with the updated list of\n          // subtree nodes.\n\n          var recordNextToSubtree = ownerRecord;\n\n          while (recordNextToSubtree !== null) {\n            if (recordNextToSubtree.sibling !== null) {\n              recordNextToSubtree = recordNextToSubtree.sibling;\n              break;\n            }\n\n            recordNextToSubtree = recordNextToSubtree.parent;\n          }\n\n          var countToRemove = recordNextToSubtree === null ? order.length - 1 - index : order.indexOf(recordNextToSubtree.public.data.id) - 1 - index;\n          var orderParts = [[index + 1, countToRemove]]; // Unfortunately, splice cannot work with big arrays. If array exceeds\n          // some length it may fire an exception. The length is specific for\n          // each engine; e.g., MDN says about 65536 for Webkit. So, to avoid this\n          // overflow, I split `order` parts to chunks by 32768 elements in each\n          // one. These chunks will be sent as arguments to the `splice` method.\n          //\n          // To avoid array concatenations which may cause Major GC, I set two\n          // first arguments as `splice`'s `start` and `deleteCount` arguments.\n\n          update = function update(record) {\n            // We have to consider only the newly shown elements that are not in\n            // the order list yet. We should do it AFTER the visibility update\n            // happens because otherwise we won't be able to distinguish if the\n            // element should be included in the order list.\n            // Update record visibility\n            record.isShown = record.parent ? record.parent.public.isOpen && record.parent.isShown : true;\n\n            if (record.isShown) {\n              var currentOrderPart = orderParts[orderParts.length - 1];\n              currentOrderPart.push(record.public.data.id);\n\n              if (currentOrderPart.length === MAX_FUNCTION_ARGUMENTS + SPLICE_DEFAULT_ARGUMENTS_NUMBER) {\n                orderParts.push([index + 1 + MAX_FUNCTION_ARGUMENTS * orderParts.length, 0]);\n              }\n            }\n          };\n\n          apply = function apply() {\n            for (var i = 0; i < orderParts.length; i++) {\n              var _ref7;\n\n              // @ts-expect-error: too generic for TS\n              (_ref7 = order).splice.apply(_ref7, orderParts[i]);\n            }\n          };\n        })();\n      } else if (ownerRecord.public.isOpen) {\n        (function () {\n          // If received rules require us to close the subtree, we have to remove\n          // all subtree ids from the order list.\n          var index = order.indexOf(id);\n          var count = 0;\n\n          update = function update(record) {\n            // We have to consider only currently visible subtree nodes BEFORE\n            // their visibility is updated. Otherwise we will have incorrect\n            // number of items to remove: we cannot remove elements that are not\n            // in the order list.\n            //\n            // If we do it after the visibility update, we will be unable to\n            // understand if the element is still in the order list.\n            if (record.isShown) {\n              count += 1;\n            } // Update record visibility\n\n\n            record.isShown = record.parent ? record.parent.public.isOpen && record.parent.isShown : true;\n          };\n\n          apply = function apply() {\n            // Remove data after element with index\n            order.splice(index + 1, count);\n          };\n        })();\n      }\n    }\n\n    var currentRecord = ownerRecord;\n\n    while (currentRecord !== null) {\n      if (!currentRecord.visited) {\n        currentRecord.public.isOpen = currentRecord === ownerRecord ? open : currentRecord.public.isOpen;\n        subtreeCallback(currentRecord.public, ownerRecord.public);\n\n        if (currentRecord !== ownerRecord) {\n          update(currentRecord);\n        }\n\n        currentRecord.visited = currentRecord.child !== null; // This algorithm is a bit different from the visit algorithm in the\n        // tree generator. We are restricted with the bounds of a subtree and\n        // shouldn't go over it. So we cannot search for the ownerRecord's\n        // parent or sibling because it will lead us out of the subtree.\n\n        currentRecord = // Look for child in any case\n        currentRecord.child !== null ? currentRecord.child : // Stop looking for next element if currentRecord is root.\n        currentRecord === ownerRecord ? null : // Otherwise, look for sibling or parent\n        currentRecord.sibling !== null ? currentRecord.sibling : currentRecord.parent;\n      } else {\n        currentRecord.visited = false;\n        currentRecord = currentRecord === ownerRecord ? null : currentRecord.sibling !== null ? currentRecord.sibling : currentRecord.parent;\n      }\n    }\n\n    apply();\n  }\n\n  return {\n    order: order,\n    records: records,\n    updateRequest: {}\n  };\n};\n\nexport var createTreeComputer = function createTreeComputer(creatorOptions) {\n  return function (props, state, options) {\n    return options.refresh ? generateNewTree(creatorOptions, props, state) : updateExistingTree(state, options);\n  };\n};\n\nvar Tree = /*#__PURE__*/function (_PureComponent) {\n  _inheritsLoose(Tree, _PureComponent);\n\n  Tree.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    var _props$listRef = props.listRef,\n        listRef = _props$listRef === void 0 ? null : _props$listRef,\n        treeWalker = props.treeWalker;\n    var computeTree = state.computeTree,\n        list = state.list,\n        order = state.order,\n        oldTreeWalker = state.treeWalker;\n    return _extends({\n      attachRefs: mergeRefs([list, listRef])\n    }, treeWalker !== oldTreeWalker || !order ? computeTree(props, state, {\n      refresh: true\n    }) : null, {\n      treeWalker: treeWalker\n    });\n  };\n\n  function Tree(props, context) {\n    var _this;\n\n    _this = _PureComponent.call(this, props, context) || this;\n    _this.getRecordData = _this.getRecordData.bind(_assertThisInitialized(_this));\n    /* eslint-disable react/no-unused-state,@typescript-eslint/consistent-type-assertions */\n\n    _this.state = {\n      list: /*#__PURE__*/createRef(),\n      recomputeTree: _this.recomputeTree.bind(_assertThisInitialized(_this)),\n      setState: _this.setState.bind(_assertThisInitialized(_this))\n    };\n    /* eslint-enable react/no-unused-state,@typescript-eslint/consistent-type-assertions */\n\n    return _this;\n  }\n\n  var _proto = Tree.prototype;\n\n  _proto.getItemData = function getItemData() {\n    var _this$props = this.props,\n        component = _this$props.children,\n        treeData = _this$props.itemData;\n    return {\n      component: component,\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      getRecordData: this.getRecordData,\n      treeData: treeData\n    };\n  };\n\n  _proto.getRecordData = function getRecordData(index) {\n    var _this$state = this.state,\n        order = _this$state.order,\n        records = _this$state.records;\n    return records.get(order[index]).public;\n  };\n\n  _proto.recomputeTree = function recomputeTree(state) {\n    var _this2 = this;\n\n    return new Promise(function (resolve) {\n      _this2.setState(function (prevState) {\n        return prevState.computeTree(_this2.props, prevState, {\n          opennessState: state\n        });\n      }, resolve);\n    });\n  };\n\n  _proto.scrollTo = function scrollTo(scrollOffset) {\n    var _this$state$list$curr;\n\n    // eslint-disable-next-line react/destructuring-assignment\n    (_this$state$list$curr = this.state.list.current) == null ? void 0 : _this$state$list$curr.scrollTo(scrollOffset);\n  };\n\n  _proto.scrollToItem = function scrollToItem(id, align) {\n    var _this$state$list$curr2;\n\n    // eslint-disable-next-line react/destructuring-assignment\n    (_this$state$list$curr2 = this.state.list.current) == null ? void 0 : _this$state$list$curr2.scrollToItem(this.state.order.indexOf(id), align);\n  };\n\n  return Tree;\n}(PureComponent);\n\nTree.defaultProps = {\n  rowComponent: Row\n};\nexport default Tree;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport React from 'react';\nimport { VariableSizeList } from 'react-window';\nimport Tree, { createTreeComputer } from './Tree';\nimport { createBasicRecord, getIdByIndex } from './utils';\nvar computeTree = createTreeComputer({\n  createRecord: function createRecord(data, _ref, parent, previousRecord) {\n    var recomputeTree = _ref.recomputeTree,\n        resetAfterId = _ref.resetAfterId;\n    var record = createBasicRecord({\n      data: data,\n      height: previousRecord ? previousRecord.public.height : data.defaultHeight,\n      isOpen: previousRecord ? previousRecord.public.isOpen : data.isOpenByDefault,\n      resize: function resize(height, shouldForceUpdate) {\n        record.public.height = height;\n        resetAfterId(record.public.data.id, shouldForceUpdate);\n      },\n      setOpen: function setOpen(state) {\n        var _recomputeTree;\n\n        return recomputeTree((_recomputeTree = {}, _recomputeTree[data.id] = state, _recomputeTree));\n      }\n    }, parent);\n    return record;\n  }\n});\nexport var VariableSizeTree = /*#__PURE__*/function (_Tree) {\n  _inheritsLoose(VariableSizeTree, _Tree);\n\n  function VariableSizeTree(props, context) {\n    var _this;\n\n    _this = _Tree.call(this, props, context) || this;\n    _this.getItemSize = _this.getItemSize.bind(_assertThisInitialized(_this));\n    _this.state = _extends({}, _this.state, {\n      computeTree: computeTree,\n      resetAfterId: _this.resetAfterId.bind(_assertThisInitialized(_this))\n    });\n    return _this;\n  }\n\n  var _proto = VariableSizeTree.prototype;\n\n  _proto.resetAfterId = function resetAfterId(id, shouldForceUpdate) {\n    var _list$current;\n\n    if (shouldForceUpdate === void 0) {\n      shouldForceUpdate = false;\n    }\n\n    var _this$state = this.state,\n        list = _this$state.list,\n        order = _this$state.order;\n    (_list$current = list.current) == null ? void 0 : _list$current.resetAfterIndex(order.indexOf(id), shouldForceUpdate);\n  };\n\n  _proto.recomputeTree = function recomputeTree(state) {\n    var _this2 = this;\n\n    return _Tree.prototype.recomputeTree.call(this, state).then(function () {\n      var _this2$state$list$cur;\n\n      (_this2$state$list$cur = _this2.state.list.current) == null ? void 0 : _this2$state$list$cur.resetAfterIndex(0, true);\n    });\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        placeholder = _this$props.placeholder,\n        itemSize = _this$props.itemSize,\n        rowComponent = _this$props.rowComponent,\n        treeWalker = _this$props.treeWalker,\n        rest = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"placeholder\", \"itemSize\", \"rowComponent\", \"treeWalker\"]);\n\n    var _this$state2 = this.state,\n        attachRefs = _this$state2.attachRefs,\n        order = _this$state2.order;\n    return placeholder && order.length === 0 ? placeholder : /*#__PURE__*/React.createElement(VariableSizeList, Object.assign({}, rest, {\n      itemCount: order.length,\n      itemData: this.getItemData() // eslint-disable-next-line @typescript-eslint/unbound-method\n      ,\n      itemKey: getIdByIndex // eslint-disable-next-line @typescript-eslint/unbound-method\n      ,\n      itemSize: itemSize != null ? itemSize : this.getItemSize // eslint-disable-next-line @typescript-eslint/unbound-method\n      ,\n      ref: attachRefs\n    }), rowComponent);\n  };\n\n  _proto.getItemSize = function getItemSize(index) {\n    return this.getRecordData(index).height;\n  };\n\n  return VariableSizeTree;\n}(Tree);","import { Skeleton, Tooltip, Typography } from '@mui/material'\nimport { Map } from 'immutable'\nimport { cloneDeep } from 'lodash-es'\nimport dayjs from 'dayjs'\nimport React, { useCallback, useEffect, useState } from 'react'\nimport { useInView } from 'react-intersection-observer'\nimport AutoSizer from 'react-virtualized-auto-sizer'\nimport {\n  TreeWalker,\n  TreeWalkerValue,\n  VariableSizeNodeData,\n  VariableSizeNodePublicState,\n  VariableSizeTree,\n} from 'react-vtree'\nimport { NodeComponentProps } from 'react-vtree/dist/es/Tree'\nimport SynapseClient from '../../../synapse-client'\nimport { formatDate } from '../../../utils/functions/DateFormatter'\nimport {\n  getEntityTypeFromHeader,\n  isContainerType,\n} from '../../../utils/functions/EntityTypeUtils'\nimport { useSynapseContext } from '../../../utils/context/SynapseContext'\nimport { EntityType } from '@sage-bionetworks/synapse-types'\nimport { Writable } from '../../../utils/types/Writable'\nimport { EntityBadgeIcons } from '../../EntityBadgeIcons/EntityBadgeIcons'\nimport { EntityTypeIcon } from '../../EntityIcon'\nimport { SynapseSpinner } from '../../LoadingScreen/LoadingScreen'\nimport { EntityFinderHeader } from '../EntityFinderHeader'\nimport { UserBadge } from '../../UserCard/UserBadge'\n\nexport enum EntityTreeNodeType {\n  /** The tree component's appearance and interactions will facilitate selection. Nodes will be larger and styles will indicate primary selection */\n  SINGLE_PANE,\n  /** The tree component's appearance and interactions will facilitate browsing. Nodes will be smaller and styles will indicate secondary selection */\n  DUAL_PANE,\n}\n\ntype NodeChildren = Readonly<{\n  /** The node's children. If undefined, then children have not been fetched. */\n  children?: EntityHeaderNode[]\n  /** The token used to fetch the next page of children for this entity. If this property is nullish and children is defined, then all children have been fetched. */\n  childrenNextPageToken?: string | null\n}>\n\ntype EntityHeaderNode = (\n  | EntityFinderHeader\n  // Only will have a subset of fields if the node is fetched via the entity path:\n  | Pick<EntityFinderHeader, 'id' | 'name' | 'type'>\n) &\n  NodeChildren\ntype PaginationNode = { __paginationNode: true }\n\ntype TreeNode = EntityHeaderNode | RootNodeConfiguration | PaginationNode\n\nfunction getTreeNodeType(\n  node: TreeNode,\n): 'entityHeader' | 'rootNodeConfiguration' | 'pagination' {\n  if ('__paginationNode' in node) {\n    return 'pagination'\n  }\n  return 'id' in node ? 'entityHeader' : 'rootNodeConfiguration'\n}\n\nfunction isPaginationNode(node: TreeNode): node is PaginationNode {\n  return getTreeNodeType(node) === 'pagination'\n}\n\nfunction isEntityHeaderNode(node: TreeNode): node is EntityHeaderNode {\n  return getTreeNodeType(node) === 'entityHeader'\n}\n\nfunction isRootNodeConfiguration(\n  node: TreeNode,\n): node is RootNodeConfiguration {\n  return getTreeNodeType(node) === 'rootNodeConfiguration'\n}\n\nfunction hasMoreChildren(node: TreeNode) {\n  if (isPaginationNode(node)) {\n    return true\n  } else if (isRootNodeConfiguration(node)) {\n    return node.hasNextPage\n  }\n\n  return node.children == null || node.childrenNextPageToken != null\n}\n\nfunction isLeafNode(node: TreeNode) {\n  if (isPaginationNode(node)) {\n    return true\n  } else if (isRootNodeConfiguration(node)) {\n    return false\n  } else {\n    return (\n      // Entity is not a container\n      !isContainerType(getEntityTypeFromHeader(node)) ||\n      // OR Children have been fetched (nonnull) and there are 0 children\n      (node.children != null && node.children.length === 0)\n    )\n  }\n}\n\nexport type TreeData = VariableSizeNodeData &\n  Readonly<{\n    node: TreeNode\n    getNextPageOfChildren: () => Promise<void>\n    isLeaf: boolean\n    nestingLevel: number\n    setSelectedId: (entityId: string) => void\n    treeNodeType: EntityTreeNodeType\n    isSelected: boolean\n    isDisabled: boolean\n  }>\n\ntype NodeMeta = Readonly<{\n  nestingLevel: number\n  node: TreeNode\n}>\n\nexport type RootNodeConfiguration = {\n  show: boolean\n  nodeText: string\n  children: EntityHeaderNode[]\n  /** If undefined, no more entities to fetch */\n  fetchNextPage: () => Promise<void>\n  hasNextPage: boolean\n}\n\n/**\n * Converts a TreeNode and related data into a TreeWalkerValue that react-vtree can use to render the tree.\n * Exported for testing purposes only.\n * @param config\n * @returns\n */\nexport const getNodeData = (config: {\n  node: TreeNode\n  nestingLevel: number\n  getNextPageOfChildren: () => Promise<void>\n  setSelectedId: (entityId: string) => void\n  treeNodeType: EntityTreeNodeType\n  selected: Map<string, number>\n  selectableTypes: EntityType[]\n  autoExpand: (entityId: string) => boolean\n  defaultHeight: number\n  currentContainer?: string | 'root' | null\n}): TreeWalkerValue<TreeData, NodeMeta> => {\n  const {\n    node,\n    nestingLevel,\n    getNextPageOfChildren,\n    setSelectedId,\n    treeNodeType,\n    selected,\n    selectableTypes,\n    autoExpand,\n    defaultHeight,\n    currentContainer,\n  } = config\n\n  if (isPaginationNode(node)) {\n    throw new Error('Cannot create data for a pagination node')\n  }\n\n  const id = isRootNodeConfiguration(node) ? 'root' : node.id\n\n  const isSelected =\n    treeNodeType === EntityTreeNodeType.SINGLE_PANE\n      ? selected.has(id)\n      : currentContainer === id\n  const isDisabled =\n    !isRootNodeConfiguration(node) &&\n    !selectableTypes.includes(getEntityTypeFromHeader(node))\n\n  const isOpenByDefault = autoExpand(id)\n  /*\n   * If the node is open by default and we haven't fetched its children,\n   * fetch the first page (otherwise we won't fetch unless re-toggled)\n   */\n  if (isOpenByDefault && node.children == null && hasMoreChildren(node)) {\n    getNextPageOfChildren()\n  }\n\n  return {\n    data: {\n      node,\n      getNextPageOfChildren,\n      id: id,\n      isLeaf: isLeafNode(node),\n      isOpenByDefault: isOpenByDefault,\n      nestingLevel,\n      setSelectedId,\n      treeNodeType,\n      isSelected,\n      isDisabled,\n      defaultHeight,\n    },\n    nestingLevel,\n    node,\n  }\n}\n\n/**\n * Node component for the react-vtree virtualized tree. Exported only for testing purposes\n */\nexport function Node(\n  props: NodeComponentProps<TreeData, VariableSizeNodePublicState<TreeData>>,\n) {\n  const {\n    data: {\n      node,\n      getNextPageOfChildren,\n      isLeaf,\n      id,\n      nestingLevel,\n      setSelectedId,\n      treeNodeType,\n      isSelected,\n      isDisabled,\n    },\n    isOpen,\n    style,\n    setOpen,\n  } = props\n\n  const [isLoading, setLoading] = useState(false)\n\n  const nodeText = isEntityHeaderNode(node) ? (\n    <span>{node.name}</span>\n  ) : isRootNodeConfiguration(node) ? (\n    <span>{node.nodeText}</span>\n  ) : (\n    // Pagination node\n    <Skeleton width={100} />\n  )\n\n  // We only use this for pagination nodes. If the pagination node comes into view, then immediately call `getNextPageOfChildren`\n  const { ref, inView } = useInView()\n  useEffect(() => {\n    if (isPaginationNode(node) && inView) {\n      getNextPageOfChildren()\n    }\n  }, [node, inView, getNextPageOfChildren])\n\n  const toggleExpand = useCallback(async () => {\n    if (hasMoreChildren(node)) {\n      setLoading(true)\n      await getNextPageOfChildren()\n      await setOpen(!isOpen)\n      setLoading(false)\n    } else {\n      await setOpen(!isOpen)\n    }\n  }, [getNextPageOfChildren, node, isOpen, setOpen])\n\n  /**\n   * If in the dual-pane view, expand a node when it becomes selected\n   */\n  useEffect(() => {\n    if (\n      treeNodeType === EntityTreeNodeType.DUAL_PANE &&\n      isSelected &&\n      !isOpen\n    ) {\n      toggleExpand()\n    }\n    // Intentionally only toggle the expanded state when isSelected changes, otherwise the node cannot be un-expanded\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isSelected])\n\n  /**\n   * If the height is 0, the node is purposefully hidden. Just render a fragment.\n   */\n  if ('height' in style && style.height === 0) {\n    return <></>\n  }\n\n  let tooltipContent: React.ReactNode = ''\n  if (isEntityHeaderNode(node)) {\n    tooltipContent = (\n      <div style={{ textAlign: 'center' }}>\n        <Typography display=\"inline\" component=\"span\" variant=\"smallText1\">\n          {node.name}\n          <br />\n          <b>ID: </b>\n          {node.id}\n          {'modifiedBy' in node && (\n            <>\n              <br />\n              <b>Modified By: </b>\n              <UserBadge\n                userId={node.modifiedBy.toString()}\n                showFullName\n                disableLink\n                showCardOnHover={false}\n              />\n            </>\n          )}\n          {'modifiedOn' in node && (\n            <>\n              <br />\n              <b>Modified On: </b>\n              {formatDate(dayjs(node.modifiedOn))}\n            </>\n          )}\n        </Typography>\n      </div>\n    )\n  }\n\n  return (\n    <div\n      className={`Node ${\n        treeNodeType === EntityTreeNodeType.SINGLE_PANE\n          ? 'SelectNode'\n          : 'BrowseNode'\n      }`}\n      aria-selected={isSelected}\n      aria-disabled={isDisabled}\n      onClick={event => {\n        event.stopPropagation()\n        if (!isDisabled) {\n          setSelectedId(id)\n        }\n      }}\n      style={{\n        ...style,\n        paddingLeft: `${20 + nestingLevel * 20}px`,\n      }}\n    >\n      {!isLeaf && (\n        <button\n          className=\"ExpandButton\"\n          type=\"button\"\n          onClick={event => {\n            event.stopPropagation()\n            toggleExpand()\n          }}\n        >\n          {isLoading ? <SynapseSpinner size={10} /> : isOpen ? 'â–¾' : 'â–¸'}\n        </button>\n      )}\n      {treeNodeType === EntityTreeNodeType.SINGLE_PANE && ( // SWC-5592\n        <div className=\"EntityIcon\">\n          {isEntityHeaderNode(node) && (\n            <EntityTypeIcon type={getEntityTypeFromHeader(node)} />\n          )}\n        </div>\n      )}\n\n      <div className=\"EntityName\" ref={ref}>\n        <Tooltip title={tooltipContent} placement=\"right\">\n          {nodeText}\n        </Tooltip>\n      </div>\n\n      {treeNodeType === EntityTreeNodeType.SINGLE_PANE && (\n        <EntityBadgeIcons\n          entityId={id}\n          showHasDiscussionThread={false}\n          showHasWiki={false}\n          showUnlink={false}\n          canOpenModal={false}\n          renderTooltipComponent={true}\n        />\n      )}\n    </div>\n  )\n}\n\n/**\n * Extracted from the React component for testing purposes\n * @returns a generator function compatible with react-vtree\n */\nexport function getTreeWalkerFunction(\n  rootNode: RootNodeConfiguration,\n  setSelectedId: VirtualizedTreeProps['setSelectedId'],\n  treeNodeType: VirtualizedTreeProps['treeNodeType'],\n  selected: VirtualizedTreeProps['selected'],\n  selectableTypes: VirtualizedTreeProps['selectableTypes'],\n  autoExpand: VirtualizedTreeProps['autoExpand'],\n  itemSize: (index?: number) => number,\n  currentContainer: VirtualizedTreeProps['currentContainer'],\n  fetchNextPageOfChildren: (node: Writable<EntityHeaderNode>) => Promise<void>,\n): TreeWalker<TreeData, NodeMeta> {\n  return function* treeWalker() {\n    // Step [1]: Define the root node of our tree.\n    yield getNodeData({\n      node: rootNode,\n      nestingLevel: 0,\n      getNextPageOfChildren: rootNode.fetchNextPage,\n      setSelectedId,\n      treeNodeType,\n      selected,\n      selectableTypes,\n      autoExpand,\n      defaultHeight: itemSize(),\n      currentContainer,\n    })\n\n    while (true) {\n      // Step [2]: Get the parent node and nesting level, which will be passed into the Generator.next function by react-vtree.\n      // Yielding `undefined` indicates to react-vtree that we've finished iterating children from the last time we were in the loop.\n      const parentMeta = yield\n\n      if (\n        !isPaginationNode(parentMeta.node) &&\n        (parentMeta.node.children || hasMoreChildren(parentMeta.node))\n      ) {\n        for (let i = 0; i < (parentMeta.node.children ?? []).length; i++) {\n          // Step [3]: Yielding all the children of the parent\n          const childNode = parentMeta.node.children![i]\n\n          yield getNodeData({\n            node: childNode,\n            nestingLevel: parentMeta.nestingLevel + 1,\n            getNextPageOfChildren: () => fetchNextPageOfChildren(childNode),\n            setSelectedId,\n            treeNodeType,\n            selected,\n            selectableTypes,\n            autoExpand,\n            defaultHeight: itemSize(),\n            currentContainer,\n          })\n        }\n\n        // Step [4] - If the parent node has more children, render a \"pagination node\" that will fetch more children when it comes into view (via intersection observer)\n        if (\n          parentMeta.node.children != null &&\n          hasMoreChildren(parentMeta.node)\n        ) {\n          const paginationNode: PaginationNode = {\n            __paginationNode: true,\n          }\n          const paginationTreeWalkerValue: TreeWalkerValue<TreeData, NodeMeta> =\n            {\n              data: {\n                id: parentMeta.data.id + '-pagination',\n                node: paginationNode,\n                isOpenByDefault: false,\n                getNextPageOfChildren: parentMeta.data.getNextPageOfChildren,\n                isLeaf: true,\n                isSelected: false,\n                defaultHeight: itemSize(),\n                isDisabled: true,\n                nestingLevel: parentMeta.nestingLevel + 1,\n                setSelectedId: () => {},\n                treeNodeType,\n              },\n              nestingLevel: parentMeta.nestingLevel + 1,\n              node: {\n                __paginationNode: true,\n              },\n            }\n          yield paginationTreeWalkerValue\n        }\n      }\n    }\n  }\n}\n\nexport type VirtualizedTreeProps = Readonly<{\n  treeNodeType: EntityTreeNodeType\n  rootNodeConfiguration: RootNodeConfiguration\n  setSelectedId: (entityId: string) => void\n  selected: Map<string, number>\n  /* currentContainer is the container whose contents are shown on in the right pane in dual-pane configuration, and may only be defined when treeNodeType is DUAL_PANE */\n  currentContainer?: string | 'root' | null\n  autoExpand: (entityId: string) => boolean\n  selectableTypes: EntityType[]\n  visibleTypes: EntityType[]\n}>\n\n/**\n * Component that utilizes react-vtree to efficiently display a tree of entities. react-vtree utilizes react-window\n * to only render visible nodes, which eliminates performance issues as seen in SWC-5978.\n */\nexport const VirtualizedTree = (props: VirtualizedTreeProps) => {\n  const {\n    rootNodeConfiguration,\n    setSelectedId,\n    treeNodeType,\n    selected,\n    currentContainer,\n    selectableTypes,\n    visibleTypes,\n    autoExpand,\n  } = props\n\n  const { accessToken } = useSynapseContext()\n\n  const [rootNode, setRootNode] = useState<RootNodeConfiguration>(\n    rootNodeConfiguration,\n  )\n\n  useEffect(() => {\n    setRootNode(rootNodeConfiguration)\n  }, [rootNodeConfiguration, rootNodeConfiguration.children])\n\n  // This function is used by VariableSizeTree to identify the size of each node in the tree.\n  const itemSize = useCallback(\n    (index?: number) => {\n      /**\n       * We must have a root node, but we don't always want to show it.\n       * In those cases, set the height of the root node to 0.\n       */\n      if (index === 0 && !rootNodeConfiguration.show) {\n        return 0\n      }\n      /**\n       * The height of all other nodes in the tree varies depending on the tree node type.\n       */\n      return treeNodeType === EntityTreeNodeType.DUAL_PANE ? 30 : 60\n    },\n    [treeNodeType, rootNodeConfiguration.show],\n  )\n\n  /**\n   * Fetches the next page of children for a given node. After fetching the children, this method will make a deep clone of the\n   *  full tree, including the new data, and updates the state of the component\n   */\n  const fetchNextPageOfChildren = useCallback(\n    // Because we update the root node with a copy at the end of this function, we can write to the node under update.\n    async (node: Writable<EntityHeaderNode>) => {\n      // Fetch the children of the node\n      const children = await SynapseClient.getEntityChildren(\n        {\n          parentId: node.id,\n          nextPageToken: node.childrenNextPageToken,\n          includeTypes: visibleTypes,\n        },\n        accessToken,\n      )\n\n      // Update the node data -- add the children and store the nextPageToken\n      if (node.children) {\n        node.children.push(...children.page)\n      } else {\n        node.children = children.page\n      }\n      node.childrenNextPageToken = children.nextPageToken\n\n      // cloneDeep is required to re-render the tree with the new children\n      setRootNode(cloneDeep(rootNode))\n    },\n    [rootNode, accessToken, visibleTypes],\n  )\n\n  /**\n   * treeWalker is a generator function used by react-vtree to generate the tree structure. The tree is re-built when the function is updated,\n   * so the dependencies specified in useCallback are important.\n   */\n  const memoizedTreeWalker = useCallback(\n    getTreeWalkerFunction(\n      rootNode,\n      setSelectedId,\n      treeNodeType,\n      selected,\n      selectableTypes,\n      autoExpand,\n      itemSize,\n      currentContainer,\n      fetchNextPageOfChildren,\n    ),\n    [\n      rootNode,\n      setSelectedId,\n      treeNodeType,\n      selected,\n      selectableTypes,\n      autoExpand,\n      currentContainer,\n      fetchNextPageOfChildren,\n      itemSize,\n    ],\n  )\n\n  return (\n    <AutoSizer disableWidth>\n      {({ height }: { height: number }) => (\n        <VariableSizeTree\n          treeWalker={memoizedTreeWalker}\n          itemSize={itemSize}\n          height={height}\n          async={true}\n          width=\"100%\"\n        >\n          {Node}\n        </VariableSizeTree>\n      )}\n    </AutoSizer>\n  )\n}\n","import { Map } from 'immutable'\nimport React, {\n  Dispatch,\n  SetStateAction,\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react'\nimport { Dropdown } from 'react-bootstrap'\nimport { convertToEntityType } from '../../../utils/functions/EntityTypeUtils'\nimport { SYNAPSE_ENTITY_ID_REGEX } from '../../../utils/functions/RegularExpressions'\nimport useGetEntityBundle from '../../../synapse-queries/entity/useEntityBundle'\nimport {\n  useGetEntityHeader,\n  useGetEntityPath,\n  useGetFavorites,\n  useGetProjectsInfinite,\n} from '../../../synapse-queries'\nimport {\n  ALL_ENTITY_BUNDLE_FIELDS,\n  EntityPath,\n  EntityType,\n  Reference,\n} from '@sage-bionetworks/synapse-types'\nimport { SynapseSpinner } from '../../LoadingScreen/LoadingScreen'\nimport { BreadcrumbItem } from '../Breadcrumbs'\nimport { toEntityHeader } from '../details/configurations/ProjectListDetails'\nimport {\n  EntityDetailsListDataConfiguration,\n  EntityDetailsListDataConfigurationType,\n} from '../details/EntityDetailsList'\nimport { EntityFinderHeader } from '../EntityFinderHeader'\nimport {\n  EntityTreeNodeType,\n  RootNodeConfiguration,\n  VirtualizedTree,\n} from './VirtualizedTree'\nimport { displayToast } from '../../ToastMessage/ToastMessage'\n\nconst isEntityIdInPath = (entityId: string, path: EntityPath): boolean => {\n  for (const eh of path.path) {\n    if (entityId === eh.id) {\n      return true\n    }\n  }\n  return false\n}\n\nexport enum FinderScope {\n  CURRENT_PROJECT = 'Current Project',\n  ALL_PROJECTS = 'All Projects',\n  CREATED_BY_ME = 'Projects Created By Me',\n  FAVORITES = 'My Favorites',\n}\n\nfunction getScopeOptionDefaultContainer(\n  scope: FinderScope,\n): EntityTreeContainer {\n  switch (scope) {\n    case FinderScope.FAVORITES:\n      return 'root'\n    case FinderScope.CURRENT_PROJECT:\n    case FinderScope.ALL_PROJECTS:\n    case FinderScope.CREATED_BY_ME:\n      return null\n  }\n}\n\nfunction getScopeOptionNodeName(scope: FinderScope): string {\n  switch (scope) {\n    case FinderScope.CURRENT_PROJECT:\n    case FinderScope.ALL_PROJECTS:\n    case FinderScope.CREATED_BY_ME:\n      return 'Projects'\n    case FinderScope.FAVORITES:\n      return 'Favorites'\n  }\n}\n\n/**\n * Indicates which container is selected when the tree is used to control another component. If 'root', then the top-level entities\n * should be shown in the other component. If a synID, then that entity's children should be shown in the other component. If null,\n * then a selection has not been made.\n */\nexport type EntityTreeContainer = string | 'root' | null\n\n// if the first item is selected (matching the dropdown), then output a configuration. otherwise, output a synId\nexport type EntityTreeProps = {\n  initialScope?: FinderScope\n  /** To show the current project, projectId must be defined */\n  projectId?: string\n  initialContainer: EntityTreeContainer\n  currentContainer: EntityTreeContainer\n  setCurrentContainer: Dispatch<SetStateAction<EntityTreeContainer>>\n  showDropdown: boolean\n  selectedEntities: Map<string, number>\n  visibleTypes?: EntityType[]\n  toggleSelection?: (entity: Reference) => void\n  setDetailsViewConfiguration?: (\n    configuration: EntityDetailsListDataConfiguration,\n  ) => void\n  setBreadcrumbItems?: (items: BreadcrumbItem[]) => void\n  /** Determines whether to show the root node corresponding to the selected scope */\n  showScopeAsRootNode?: boolean\n  treeNodeType: EntityTreeNodeType\n  /** The entity types that may be selected. */\n  selectableTypes: EntityType[]\n}\n\n/**\n * The TreeView displays a user's entities hierarchically, allowing a user to quickly dive into an entity tree.\n *\n * The tree view currently can only be used to drive a DetailsView using the `setDetailsViewConfiguration` property.\n */\nexport function EntityTree(props: EntityTreeProps) {\n  const {\n    initialScope = FinderScope.CURRENT_PROJECT,\n    projectId,\n    initialContainer = null,\n    currentContainer,\n    setCurrentContainer,\n    visibleTypes = [EntityType.PROJECT, EntityType.FOLDER],\n    toggleSelection,\n    selectedEntities,\n    setDetailsViewConfiguration,\n    setBreadcrumbItems,\n    showScopeAsRootNode = true,\n    treeNodeType,\n    selectableTypes,\n  } = props\n\n  const DEFAULT_CONFIGURATION: EntityDetailsListDataConfiguration = {\n    type: EntityDetailsListDataConfigurationType.PROMPT,\n  }\n\n  const [scope, setScope] = useState(initialScope)\n\n  useEffect(() => {\n    if (setDetailsViewConfiguration) {\n      setDetailsViewConfiguration(DEFAULT_CONFIGURATION)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const setSelectedId = useCallback(\n    (entityId: string) => {\n      if (toggleSelection) {\n        toggleSelection({ targetId: entityId })\n      }\n      setCurrentContainer(entityId)\n    },\n    [setCurrentContainer, toggleSelection],\n  )\n\n  // For these scopes, use the `useGetProjectsInfinite` hook\n  const useProjectData =\n    scope === FinderScope.ALL_PROJECTS || scope === FinderScope.CREATED_BY_ME\n\n  const {\n    data: projectData,\n    fetchNextPage: fetchNextPageProjects,\n    hasNextPage: hasNextPageProjects,\n    isLoading: isLoadingProjects,\n  } = useGetProjectsInfinite(\n    scope === FinderScope.CREATED_BY_ME\n      ? { filter: 'CREATED', sort: 'PROJECT_NAME', sortDirection: 'ASC' }\n      : { sort: 'PROJECT_NAME', sortDirection: 'ASC' },\n    {\n      enabled: useProjectData,\n      // Don't refetch the projects. Updating the entity headers will drop all the children that VirtualizedTree has fetched\n      refetchInterval: Infinity,\n    },\n  )\n\n  const { data: currentContainerBundle, isSuccess: isSuccessBundle } =\n    useGetEntityBundle(currentContainer!, undefined, ALL_ENTITY_BUNDLE_FIELDS, {\n      enabled: !!currentContainer && currentContainer !== 'root',\n      useErrorBoundary: true,\n    })\n\n  const { data: favorites, isLoading: isLoadingFavorites } = useGetFavorites(\n    'NAME',\n    'ASC',\n    {\n      select: data => ({\n        // TODO: https://sagebionetworks.jira.com/browse/PLFM-6652\n        ...data,\n        results: data.results.filter(eh =>\n          visibleTypes.includes(convertToEntityType(eh.type)),\n        ),\n      }),\n      // Don't refetch the projects. Updating the entity headers will drop all the children that VirtualizedTree has fetched\n      refetchInterval: Infinity,\n      useErrorBoundary: true,\n    },\n  )\n\n  const { data: initialContainerPath } = useGetEntityPath(initialContainer!, {\n    enabled: !!(\n      projectId &&\n      initialContainer &&\n      initialContainer.match(SYNAPSE_ENTITY_ID_REGEX)\n    ),\n    refetchInterval: Infinity,\n    useErrorBoundary: true,\n  })\n\n  const { data: projectHeader, isLoading: isLoadingProjectHeader } =\n    useGetEntityHeader(projectId!, undefined, {\n      enabled: !!(projectId ?? initialContainerPath?.path[1]?.id),\n      refetchInterval: Infinity,\n    })\n\n  if (\n    FinderScope.CURRENT_PROJECT === scope &&\n    projectId &&\n    !isLoadingProjectHeader &&\n    !projectHeader\n  ) {\n    // The header wasn't returned, so the user doesn't have access to the current project\n    // Let's change the scope to something else\n    displayToast(\n      `You don't have access to the current project (${projectId}).`,\n      'warning',\n    )\n    setScope(FinderScope.CREATED_BY_ME)\n  }\n\n  // Populates the first level of entities in the tree view\n  const {\n    topLevelEntities,\n    isLoading,\n  }: {\n    topLevelEntities: Pick<EntityFinderHeader, 'name' | 'id' | 'type'>[]\n    isLoading: boolean\n  } = useMemo(() => {\n    let topLevelEntities: Pick<EntityFinderHeader, 'name' | 'id' | 'type'>[] =\n      []\n    let isLoading: boolean = false\n    switch (scope) {\n      case FinderScope.ALL_PROJECTS:\n      case FinderScope.CREATED_BY_ME:\n        if (projectData) {\n          topLevelEntities = projectData.pages\n            .flatMap(page => page.results)\n            .map(toEntityHeader)\n        }\n        isLoading = isLoadingProjects\n        break\n      case FinderScope.FAVORITES: {\n        topLevelEntities = favorites?.results ?? []\n        isLoading = isLoadingFavorites\n        break\n      }\n      case FinderScope.CURRENT_PROJECT:\n        if (projectHeader) {\n          // use projectHeader as topLevelEntities\n          topLevelEntities = [projectHeader]\n          isLoading = isLoadingProjectHeader\n        }\n        break\n      default:\n        throw new Error('No scope selected')\n    }\n    return { topLevelEntities, isLoading }\n  }, [\n    favorites?.results,\n    isLoadingFavorites,\n    isLoadingProjectHeader,\n    isLoadingProjects,\n    projectData,\n    projectHeader,\n    scope,\n  ])\n\n  // Creates the configuration for the details view and invokes the callback\n  useEffect(() => {\n    if (setDetailsViewConfiguration || setBreadcrumbItems) {\n      let detailsViewConfig: EntityDetailsListDataConfiguration\n      let breadcrumbItems: BreadcrumbItem[] = []\n      if (currentContainer === null) {\n        detailsViewConfig = {\n          type: EntityDetailsListDataConfigurationType.PROMPT,\n        }\n        breadcrumbItems = []\n      } else if (currentContainer === 'root') {\n        switch (scope) {\n          case FinderScope.ALL_PROJECTS:\n            detailsViewConfig = {\n              type: EntityDetailsListDataConfigurationType.USER_PROJECTS,\n            }\n            break\n          case FinderScope.CREATED_BY_ME:\n            detailsViewConfig = {\n              type: EntityDetailsListDataConfigurationType.USER_PROJECTS,\n              getProjectParams: {\n                filter: 'CREATED',\n              },\n            }\n            break\n          case FinderScope.CURRENT_PROJECT:\n            detailsViewConfig = {\n              type: EntityDetailsListDataConfigurationType.HEADER_LIST,\n              headerList: topLevelEntities,\n            }\n            break\n          case FinderScope.FAVORITES:\n            detailsViewConfig = {\n              type: EntityDetailsListDataConfigurationType.USER_FAVORITES,\n            }\n            break\n        }\n        breadcrumbItems = [\n          {\n            name: scope,\n            isCurrent: true,\n            action: () => {\n              setCurrentContainer('root')\n            },\n          },\n        ]\n      } else {\n        detailsViewConfig = {\n          type: EntityDetailsListDataConfigurationType.PARENT_CONTAINER,\n          parentContainerId: currentContainer,\n        }\n        if (currentContainerBundle) {\n          breadcrumbItems = [\n            {\n              name: scope,\n              isCurrent: false,\n              action: () => {\n                setCurrentContainer('root')\n              },\n            },\n            ...currentContainerBundle.path.path\n              .slice(1) // Remove the root entity, syn4489\n              .map(entity => {\n                return {\n                  name: entity.name ?? entity.id,\n                  isCurrent: entity.id === currentContainer,\n                  action: () => {\n                    setCurrentContainer(entity.id)\n                  },\n                }\n              }),\n          ]\n        }\n      }\n      if (setDetailsViewConfiguration) {\n        setDetailsViewConfiguration(detailsViewConfig)\n      }\n      if (setBreadcrumbItems) {\n        setBreadcrumbItems(breadcrumbItems)\n      }\n    }\n  }, [\n    scope,\n    currentContainer,\n    topLevelEntities,\n    setDetailsViewConfiguration,\n    setBreadcrumbItems,\n    currentContainerBundle,\n    isSuccessBundle,\n    setCurrentContainer,\n  ])\n\n  const rootNodeConfiguration: RootNodeConfiguration = useMemo(\n    () => ({\n      show: showScopeAsRootNode,\n      nodeText: getScopeOptionNodeName(scope),\n      children: topLevelEntities,\n      fetchNextPage: async () => {\n        await fetchNextPageProjects()\n      },\n      hasNextPage: useProjectData && hasNextPageProjects! && !isLoadingProjects,\n    }),\n    [\n      showScopeAsRootNode,\n      scope,\n      topLevelEntities,\n      useProjectData,\n      hasNextPageProjects,\n      isLoadingProjects,\n      fetchNextPageProjects,\n    ],\n  )\n\n  const shouldAutoExpand = useCallback(\n    (entityId: string) => {\n      if (entityId === 'root') {\n        return true\n      } else {\n        return !!(\n          scope === FinderScope.CURRENT_PROJECT &&\n          initialContainerPath &&\n          isEntityIdInPath(entityId, initialContainerPath)\n        )\n      }\n    },\n    [scope, initialContainerPath],\n  )\n\n  return (\n    <div\n      className={`TreeView ${\n        treeNodeType === EntityTreeNodeType.SINGLE_PANE\n          ? 'SelectTree'\n          : 'BrowseTree'\n      }`}\n    >\n      <div className=\"Header\">\n        <div className=\"Browse\">Browse:</div>\n        <div onClick={e => e.stopPropagation()}>\n          <Dropdown>\n            <Dropdown.Toggle variant=\"gray-primary-500\" id=\"dropdown-basic\">\n              {scope}\n            </Dropdown.Toggle>\n            <Dropdown.Menu role=\"menu\">\n              {Object.values(FinderScope).map(scopeOption => {\n                if (\n                  scopeOption === FinderScope.CURRENT_PROJECT &&\n                  projectId == null\n                ) {\n                  return <React.Fragment key={scopeOption} />\n                }\n                return (\n                  <Dropdown.Item\n                    role=\"menuitem\"\n                    key={scopeOption}\n                    onClick={e => {\n                      e.stopPropagation()\n                      if (scope !== scopeOption) {\n                        setScope(scopeOption)\n                        setCurrentContainer(\n                          getScopeOptionDefaultContainer(scopeOption),\n                        )\n                      }\n                    }}\n                  >\n                    {scopeOption}\n                  </Dropdown.Item>\n                )\n              })}\n            </Dropdown.Menu>\n          </Dropdown>\n        </div>\n      </div>\n      {isLoading ? (\n        <div className=\"Placeholder\">\n          <SynapseSpinner size={30} />\n        </div>\n      ) : (\n        <div className=\"Tree\" role=\"tree\">\n          <VirtualizedTree\n            selected={selectedEntities}\n            visibleTypes={visibleTypes}\n            autoExpand={shouldAutoExpand}\n            rootNodeConfiguration={rootNodeConfiguration}\n            treeNodeType={treeNodeType}\n            selectableTypes={selectableTypes}\n            currentContainer={currentContainer}\n            setSelectedId={setSelectedId}\n          />\n        </div>\n      )}\n    </div>\n  )\n}\n","import pluralize from 'pluralize'\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport {\n  Box,\n  Button,\n  IconButton,\n  InputAdornment,\n  TextField,\n} from '@mui/material'\nimport ArrowBackOutlinedIcon from '@mui/icons-material/ArrowBackOutlined'\nimport ClearIcon from '@mui/icons-material/Clear'\nimport SearchIcon from '@mui/icons-material/Search'\nimport { useErrorHandler } from 'react-error-boundary'\nimport { ReflexContainer, ReflexElement, ReflexSplitter } from 'react-reflex'\nimport 'react-reflex/styles.css'\nimport { SizeMe } from 'react-sizeme'\nimport SynapseClient from '../../synapse-client'\nimport {\n  entityTypeToFriendlyName,\n  getEntityTypeFromHeader,\n} from '../../utils/functions/EntityTypeUtils'\nimport { parseSynId } from '../../utils/functions/RegularExpressions'\nimport { useSynapseContext } from '../../utils/context/SynapseContext'\nimport { Reference } from '@sage-bionetworks/synapse-types'\nimport { EntityType } from '@sage-bionetworks/synapse-types'\nimport { KeyValue } from '@sage-bionetworks/synapse-types'\nimport { SynapseErrorBoundary } from '../error/ErrorBanner'\nimport { BreadcrumbItem, Breadcrumbs, BreadcrumbsProps } from './Breadcrumbs'\nimport {\n  EntityDetailsList,\n  EntityDetailsListDataConfiguration,\n  EntityDetailsListDataConfigurationType,\n} from './details/EntityDetailsList'\nimport { EntityFinderHeader } from './EntityFinderHeader'\nimport { SelectionPane } from './SelectionPane'\nimport { EntityTree, EntityTreeContainer, FinderScope } from './tree/EntityTree'\nimport { EntityTreeNodeType } from './tree/VirtualizedTree'\nimport { useEntitySelection } from './useEntitySelection'\nimport { VersionSelectionType } from './VersionSelectionType'\n\nconst DEFAULT_SELECTABLE_TYPES = Object.values(EntityType)\nconst TABLE_DEFAULT_VISIBLE_TYPES = Object.values(EntityType)\nconst TREE_DEFAULT_VISIBLE_TYPES = [EntityType.PROJECT, EntityType.FOLDER]\n\n// In the map used to track selections, we use -1 to denote 'selected without version'\n// This is necessary because undefined is returned by map.get when the item is not in the map\nexport const NO_VERSION_NUMBER = -1\n\nconst searchForOnlyTypesBooleanQuery = (\n  entityTypes: EntityType[],\n): KeyValue[] => {\n  // Boolean query terms will be combined with AND, and there's no way to OR.\n  // So we will negate searching for all omitted types.\n  const allTypes = Object.values(EntityType)\n  const typesToOmit = allTypes.filter(type => !entityTypes.includes(type))\n  return typesToOmit.map(type => ({\n    key: 'node_type',\n    value: type.toString(),\n    not: true,\n  }))\n}\n\nexport type EntityFinderProps = {\n  /** Whether or not it is possible to select multiple entities */\n  selectMultiple: boolean\n  /** Callback invoked when the selection changes */\n  onSelectedChange: (selected: Reference[]) => void\n  /** The initial appearance of the entity finder. Possible values include \"Current Project\", \"All Projects\", \"Projects Created By Me\", \"My Favorites\" */\n  initialScope: FinderScope\n  /** The SynID of the 'Current Project'. If this is not a defined, then the scope cannot be \"Current Project\" */\n  projectId?: string\n  /** The SynID of the entity that should open by default. If this is a Syn ID, then it must be in the project specified in `projectId` */\n  initialContainer: string | 'root' | null\n  /** Determines if versions are selectable, and if so, how they should be shown. Default is \"TRACKED\" */\n  versionSelection?: VersionSelectionType\n  /** The entity types to show in the details view (right pane). Any types specified in `selectableTypes` will automatically be included. */\n  visibleTypesInList?: EntityType[]\n  /** The entity types that may be selected. Types in `visibleTypesInList` that are not in `selectableTypes` will appear as disabled options. Only the types in `selectableTypes` will appear in search */\n  selectableTypes?: EntityType[]\n  /** The types to show in the tree used to navigate. If `treeOnly` is true, any types specified in `selectableTypes` will automatically be included. */\n  visibleTypesInTree?: EntityType[]\n  /** The text to show before the list of selected entities */\n  selectedCopy?: string | ((count: number) => string)\n  /** Whether to show only the tree. If `true`, the tree will be used to make selections */\n  treeOnly?: boolean\n}\n\nexport const EntityFinder: React.FunctionComponent<EntityFinderProps> = ({\n  initialScope,\n  projectId,\n  initialContainer = null,\n  selectMultiple,\n  onSelectedChange,\n  versionSelection = VersionSelectionType.TRACKED,\n  selectableTypes = DEFAULT_SELECTABLE_TYPES,\n  visibleTypesInList = TABLE_DEFAULT_VISIBLE_TYPES,\n  visibleTypesInTree = TREE_DEFAULT_VISIBLE_TYPES,\n  selectedCopy = selectMultiple ? count => `Selected (${count})` : 'Selected',\n  treeOnly = false,\n}: EntityFinderProps) => {\n  const { accessToken } = useSynapseContext()\n\n  const [searchActive, setSearchActive] = useState(false)\n  // The raw value of the search input box:\n  const [searchInput, setSearchInput] = useState<string>()\n  // The \"parsed\" search terms, which are only calculated when Enter is pressed:\n  const [searchTerms, setSearchTerms] = useState<string[]>()\n  const [breadcrumbsProps, setBreadcrumbsProps] = useState<BreadcrumbsProps>({\n    items: [],\n  })\n  const [searchByIdResults, setSearchByIdResults] = useState<\n    EntityFinderHeader[]\n  >([])\n  const [configFromTreeView, setConfigFromTreeView] =\n    useState<EntityDetailsListDataConfiguration>({\n      type: EntityDetailsListDataConfigurationType.PROMPT,\n    })\n\n  const searchInputRef = useRef<HTMLInputElement>(null)\n\n  // If a type is selectable, it should be visible in the tree/list (depending on treeOnly)\n  const selectableAndVisibleTypesInTree = useMemo(\n    () => [...visibleTypesInTree, ...selectableTypes],\n    [visibleTypesInTree, selectableTypes],\n  )\n  const selectableAndVisibleTypesInList = useMemo(\n    () => [...visibleTypesInList, ...selectableTypes],\n    [visibleTypesInList, selectableTypes],\n  )\n\n  // For dual-pane, this state variable indicates which container is selected in the tree view and should be shown in the table view\n  const [currentContainer, setCurrentContainer] =\n    useState<EntityTreeContainer>(initialContainer)\n\n  const handleError = useErrorHandler()\n\n  const setBreadcrumbs = useCallback(\n    (items: BreadcrumbItem[]) => {\n      setBreadcrumbsProps({\n        items,\n      })\n    },\n    [setBreadcrumbsProps],\n  )\n\n  const [selectedEntities, toggleSelection] = useEntitySelection(selectMultiple)\n\n  const isIdSelected = useCallback(\n    (entity: EntityFinderHeader) => {\n      return selectedEntities.has(entity.id)\n    },\n    [selectedEntities],\n  )\n\n  const isSelectable = useCallback(\n    (entity: EntityFinderHeader) => {\n      const type = getEntityTypeFromHeader(entity)\n      return selectableTypes.includes(type)\n    },\n    [selectableTypes],\n  )\n\n  useEffect(() => {\n    // When it changes, convert the map of selected items to a list of references and invoke the callback\n    onSelectedChange(\n      selectedEntities.toArray().map(([id, version]) => {\n        return {\n          targetId: id,\n          targetVersionNumber:\n            version === NO_VERSION_NUMBER ? undefined : version,\n        }\n      }),\n    )\n  }, [selectedEntities, onSelectedChange])\n\n  useEffect(() => {\n    if (searchTerms?.length === 1) {\n      const searchTermReference = parseSynId(searchTerms[0])\n      if (searchTermReference) {\n        SynapseClient.getEntityHeaders([searchTermReference], accessToken)\n          .then(response => {\n            setSearchByIdResults(response.results)\n          })\n          .catch(e => handleError(e))\n      }\n    } else {\n      setSearchByIdResults([])\n    }\n  }, [accessToken, searchTerms, handleError])\n\n  const mainPanelClass = searchActive\n    ? 'MainPanelSearch'\n    : treeOnly\n    ? 'MainPanelSinglePane'\n    : 'MainPanelDualPane'\n\n  let searchButtonText\n  const tableArray = [\n    'table',\n    'entityview',\n    'materializedview',\n    'submissionview',\n    'dataset',\n    'datasetcollection',\n  ]\n  if (selectableTypes.length === 1) {\n    searchButtonText = `Search for ${pluralize(\n      entityTypeToFriendlyName(selectableTypes[0]),\n    )}`\n  } else if (selectableTypes.every(element => tableArray.includes(element))) {\n    searchButtonText = 'Search for Tables'\n  } else {\n    searchButtonText = 'Search all of Synapse'\n  }\n\n  return (\n    <SynapseErrorBoundary>\n      <div className=\"EntityFinder\">\n        <Box\n          display=\"flex\"\n          justifyContent=\"flex-end\"\n          alignItems=\"stretch\"\n          pb={1}\n        >\n          <>\n            {searchActive ? (\n              <Button\n                variant=\"outlined\"\n                color=\"primary\"\n                onClick={() => {\n                  setSearchActive(false)\n                  setSearchInput('')\n                  setSearchTerms(undefined)\n                }}\n                startIcon={<ArrowBackOutlinedIcon />}\n                sx={{ flexShrink: 0, mr: 1 }}\n              >\n                Back to Browse\n              </Button>\n            ) : (\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                className=\"EntityFinder__Search__SearchButton\"\n                onClick={() => {\n                  setSearchActive(true)\n                  searchInputRef.current!.focus()\n                }}\n                startIcon={<SearchIcon />}\n                sx={{ flexShrink: 0 }}\n              >\n                {searchButtonText}\n              </Button>\n            )}\n            <TextField\n              className=\"EntityFinder__Search__Input\"\n              aria-hidden={!searchActive}\n              data-active={searchActive}\n              inputRef={searchInputRef}\n              placeholder=\"Search by name, Wiki contents, or Synapse ID\"\n              value={searchInput}\n              onChange={event => {\n                setSearchInput(event.target.value)\n              }}\n              onKeyDown={(event: any) => {\n                if (event.key === 'Enter') {\n                  if (event.target.value === '') {\n                    setSearchTerms(undefined)\n                  } else {\n                    setSearchTerms(event.target.value.trim().split(' '))\n                  }\n                }\n              }}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <SearchIcon />\n                  </InputAdornment>\n                ),\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <IconButton\n                      onClick={() => {\n                        setSearchInput('')\n                        setSearchTerms(undefined)\n                      }}\n                      aria-label=\"Clear Search\"\n                      disabled={!searchInput}\n                    >\n                      <ClearIcon />\n                    </IconButton>\n                  </InputAdornment>\n                ),\n              }}\n            />\n          </>\n        </Box>\n        <div className={`EntityFinder__MainPanel ${mainPanelClass}`}>\n          {/* We have a separate Details component for search in order to preserve state in the other component between searches */}\n          {searchActive && (\n            <EntityDetailsList\n              configuration={\n                searchByIdResults && searchByIdResults.length > 0\n                  ? {\n                      type: EntityDetailsListDataConfigurationType.HEADER_LIST,\n                      headerList: searchByIdResults,\n                    }\n                  : {\n                      type: EntityDetailsListDataConfigurationType.ENTITY_SEARCH,\n                      query: {\n                        queryTerm: searchTerms,\n                        booleanQuery:\n                          searchForOnlyTypesBooleanQuery(selectableTypes),\n                      },\n                    }\n              }\n              versionSelection={versionSelection}\n              selectColumnType={selectMultiple ? 'checkbox' : 'none'}\n              selected={selectedEntities}\n              isIdSelected={isIdSelected}\n              isSelectable={isSelectable}\n              visibleTypes={selectableTypes}\n              selectableTypes={selectableTypes}\n              toggleSelection={toggleSelection}\n              enableSelectAll={selectMultiple}\n              // Intentionally do not pass \"setCurrentContainer\" -- search does not use the tree so it has nothing to update\n              setCurrentContainer={undefined}\n            />\n          )}\n          {\n            <div style={searchActive ? { display: 'none' } : {}}>\n              {treeOnly ? (\n                <div>\n                  <EntityTree\n                    toggleSelection={toggleSelection}\n                    showDropdown={true}\n                    visibleTypes={selectableAndVisibleTypesInTree}\n                    initialScope={initialScope}\n                    selectedEntities={selectedEntities}\n                    projectId={projectId}\n                    initialContainer={initialContainer}\n                    currentContainer={currentContainer}\n                    setCurrentContainer={setCurrentContainer}\n                    showScopeAsRootNode={false}\n                    treeNodeType={EntityTreeNodeType.SINGLE_PANE}\n                    selectableTypes={selectableTypes}\n                  />\n                </div>\n              ) : (\n                <div className=\"EntityFinderReflexContainer\">\n                  <SizeMe>\n                    {({ size }) => (\n                      <ReflexContainer\n                        key={(!!size.width).toString()}\n                        orientation=\"vertical\"\n                        windowResizeAware\n                      >\n                        <ReflexElement\n                          className=\"TreeViewReflexElement\"\n                          flex={0.24}\n                        >\n                          <EntityTree\n                            selectedEntities={selectedEntities}\n                            setDetailsViewConfiguration={setConfigFromTreeView}\n                            showDropdown={true}\n                            visibleTypes={visibleTypesInTree}\n                            initialScope={initialScope}\n                            projectId={projectId}\n                            initialContainer={initialContainer}\n                            currentContainer={currentContainer}\n                            setCurrentContainer={setCurrentContainer}\n                            treeNodeType={EntityTreeNodeType.DUAL_PANE}\n                            setBreadcrumbItems={setBreadcrumbs}\n                            selectableTypes={visibleTypesInTree}\n                          />\n                        </ReflexElement>\n                        <ReflexSplitter></ReflexSplitter>\n                        <ReflexElement className=\"DetailsViewReflexElement\">\n                          <EntityDetailsList\n                            configuration={configFromTreeView}\n                            versionSelection={versionSelection}\n                            selected={selectedEntities}\n                            isIdSelected={isIdSelected}\n                            isSelectable={isSelectable}\n                            visibleTypes={selectableAndVisibleTypesInList}\n                            selectableTypes={selectableTypes}\n                            selectColumnType={\n                              selectMultiple ? 'checkbox' : 'none'\n                            }\n                            toggleSelection={toggleSelection}\n                            enableSelectAll={selectMultiple}\n                            setCurrentContainer={setCurrentContainer}\n                          />\n                          <Breadcrumbs {...breadcrumbsProps} />\n                        </ReflexElement>\n                      </ReflexContainer>\n                    )}\n                  </SizeMe>\n                </div>\n              )}\n            </div>\n          }\n        </div>\n\n        {selectedEntities.size > 0 && (\n          <SelectionPane\n            title={selectedCopy}\n            selectedEntities={selectedEntities}\n            toggleSelection={toggleSelection}\n          />\n        )}\n      </div>\n    </SynapseErrorBoundary>\n  )\n}\n\nexport default EntityFinder\n","import { useCallback, useReducer } from 'react'\nimport { Map } from 'immutable'\nimport { Reference } from '@sage-bionetworks/synapse-types'\nimport { NO_VERSION_NUMBER } from './EntityFinder'\n\nexport function useEntitySelection(selectMultiple: boolean) {\n  /**\n   *\n   * @param entity The entity to check selected status\n   * @param selected the list of selected entities\n   * @returns a boolean array of length equal to entities.length denoting selection status\n   */\n  const isSelected = useCallback(\n    (entity: Reference, selected: Map<string, number>): boolean => {\n      const match = selected.get(entity.targetId)\n      if (match == null) {\n        return false\n      }\n      if (match === NO_VERSION_NUMBER) {\n        return entity.targetVersionNumber === undefined\n      }\n      return match === entity.targetVersionNumber\n    },\n    [],\n  )\n\n  /**\n   * Given the existing selections and a list of toggled references, return the new list of selections\n   * @param selected\n   * @param toggledReference\n   * @returns\n   */\n  const entitySelectionReducer = useCallback(\n    (\n      selected: Map<string, number>,\n      toggledReferences: Reference | Reference[],\n    ): Map<string, number> => {\n      const newSelected = selected.withMutations(map => {\n        // Note: we currently don't allow selecting two versions of the same entity, so we replace previous selected version with new selected version\n        if (!Array.isArray(toggledReferences)) {\n          toggledReferences = [toggledReferences]\n        }\n        toggledReferences.forEach(toggledReference => {\n          if (isSelected(toggledReference, selected)) {\n            // remove from selection\n            map.delete(toggledReference.targetId)\n          } else {\n            // add to selection\n            if (!selectMultiple) {\n              map.clear()\n            }\n            map.set(\n              toggledReference.targetId,\n              toggledReference.targetVersionNumber ?? NO_VERSION_NUMBER,\n            )\n          }\n        })\n      })\n\n      return newSelected\n    },\n    [isSelected, selectMultiple],\n  )\n\n  return useReducer(entitySelectionReducer, Map<string, number>())\n}\n"],"names":["ChatBubbleTwoTone","createSvgIcon","_jsx","DescriptionTwoTone","LinkOffTwoTone","LocalOfferTwoTone","getIsAllSelectedFromInfiniteList","items","numSelected","isSelected","isSelectable","hasNextPage","fetchNextPage","isFetchingNextPage","allSelectableFetchedChildrenAreSelected","e","selectableEntitiesArePresent","useGetIsAllSelectedFromInfiniteList","isSelectAll","setIsSelectAll","useState","useEffect","useSearchInfinite","query","options","accessToken","keyFactory","useSynapseContext","useInfiniteQuery","context","SynapseClient","prevPage","useGetProjectsInfinite","params","page","VersionSelectionType","_interopRequireDefault","require$$0","ArrowBackOutlined","default_1","_createSvgIcon","require$$1","_jsxRuntime","require$$2","_default","Clear","_objectSpread","target","i","source","ownKeys","sym","key","defineProperty","Browser","getDataProps","props","prev","ReflexSplitter","React","element","_defineProperty","event","domElement","className","_extends","PropTypes","ReflexEvents","events","fct","tmpArray","result","valueToFind","fromIndex","o","len","n","k","sameValueZero","x","y","ReflexContainer","data","pos","offset","availableOffset","resizedRefs","elements","child","resolve","idx","size","dir","splitterIdx","ex","flexData","windowResizeAware","prevProps","prevState","children","prevChildrenFlex","flex","_domElement$offsetHei","_domElement$offsetWid","top","bottom","left","right","diffFlex","sum","previousFlex","nextFlex","stretch","shrink","direction","_child$props$maxSize","childIdx","availableStretch","nextOffset","_child$props$minSize","minSize","availableShrink","orientation","newSize","currentFlex","newFlex","dispatchedStretch","nextIdx","dispatchedShrink","component","pixelFlex","computeFreeFlex","entry","computeFreeElements","flexDataInit","computeFlexDataRec","flexDataIn","depth","hasContrain","freeElements","freeFlex","flexDataOut","proposedFlex","constrainedFlex","constrained","obj","index","newProps","ReflexHandle","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","global","freeSelf","root","objectProto","objectToString","nativeMax","nativeMin","now","debounce","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","toNumber","isObject","invokeFunc","time","args","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","shouldInvoke","trailingEdge","cancel","flush","debounced","isInvoking","throttle","value","type","isObjectLike","isSymbol","other","isBinary","lodash_throttle","MapShim","getIndex","arr","class_1","entries","callback","ctx","_i","_a","isBrowser","global$1","requestAnimationFrame$1","trailingTimeout","delay","leadingCall","trailingCall","resolvePending","proxy","timeoutCallback","timeStamp","REFRESH_DELAY","transitionKeys","mutationObserverSupported","ResizeObserverController","observer","observers","changesDetected","activeObservers","_b","propertyName","isReflowProperty","defineConfigurable","getWindowOf","ownerGlobal","emptyRect","createRectInit","toFloat","getBordersSize","styles","positions","position","getPaddings","paddings","positions_1","getSVGContentRect","bbox","getHTMLElementContentRect","clientWidth","clientHeight","horizPad","vertPad","width","height","isDocumentElement","vertScrollbar","horizScrollbar","isSVGGraphicsElement","getContentRect","createReadOnlyRect","Constr","rect","ResizeObservation","ResizeObserverEntry","rectInit","contentRect","ResizeObserverSPI","controller","callbackCtx","observations","_this","observation","ResizeObserver","method","types","getTypes","allowedTypes","node","calculations","withContentRect","WrappedComponent","_class","_temp","_Component","_inheritsLoose","WithContentRect","_len","_key","innerRef","_proto","_this$props","_objectWithoutPropertiesLoose","createElement","Component","Measure","_ref","measure","measureRef","toArray","SizeAwareReflexElement","resizeHeight","resizeWidth","dimensions","propagateDimensions","validChildren","ReflexElement","nextProps","snapshot","directions","style","ReflexElement$1","ref","Breadcrumbs","maxItemCount","truncateBreadcrumbs","jsxs","jsx","Fragment","item","safeIsNaN","isEqual","first","second","areInputsEqual","newInputs","lastInputs","memoizeOne","resultFn","lastResult","calledOnce","memoized","newArgs","hasNativePerformanceNow","cancelTimeout","timeoutID","requestTimeout","start","tick","getScrollbarSize","recalculate","div","cachedRTLResult","getRTLOffsetType","outerDiv","outerStyle","innerDiv","innerStyle","IS_SCROLLING_DEBOUNCE_INTERVAL","defaultItemKey","columnIndex","rowIndex","createGridComponent","_ref2","getColumnOffset","getColumnStartIndexForOffset","getColumnStopIndexForStartIndex","getColumnWidth","getEstimatedTotalHeight","getEstimatedTotalWidth","getOffsetForColumnAndAlignment","getOffsetForRowAndAlignment","getRowHeight","getRowOffset","getRowStartIndexForOffset","getRowStopIndexForStartIndex","initInstanceProps","shouldResetStyleCacheOnItemSizeChange","validateProps","_PureComponent","Grid","_assertThisInitialized","overscanColumnStartIndex","overscanColumnStopIndex","overscanRowStartIndex","overscanRowStopIndex","visibleColumnStartIndex","visibleColumnStopIndex","visibleRowStartIndex","visibleRowStopIndex","scrollLeft","scrollTop","horizontalScrollDirection","verticalScrollDirection","scrollUpdateWasRequested","columnWidth","rowHeight","itemStyleCache","_offset","isRtl","_","__","___","_event$currentTarget","scrollHeight","scrollWidth","calculatedScrollLeft","calculatedScrollTop","outerRef","validateSharedProps","_ref3","_ref4","_ref4$align","align","_this$props2","columnCount","rowCount","_this$state","scrollbarSize","estimatedTotalHeight","estimatedTotalWidth","horizontalScrollbarSize","verticalScrollbarSize","_this$props3","initialScrollLeft","initialScrollTop","_this$state2","_this$props4","innerElementType","innerTagName","itemData","_this$props4$itemKey","itemKey","outerElementType","outerTagName","useIsScrolling","isScrolling","_this$_getHorizontalR","columnStartIndex","columnStopIndex","_this$_getVerticalRan","rowStartIndex","rowStopIndex","_rowIndex","_columnIndex","_this$props5","onItemsRendered","onScroll","_this$_getHorizontalR2","_overscanColumnStartIndex","_overscanColumnStopIndex","_visibleColumnStartIndex","_visibleColumnStopIndex","_this$_getVerticalRan2","_overscanRowStartIndex","_overscanRowStopIndex","_visibleRowStartIndex","_visibleRowStopIndex","_this$state3","_horizontalScrollDirection","_scrollLeft","_scrollTop","_scrollUpdateWasRequested","_verticalScrollDirection","_this$props6","overscanColumnCount","overscanColumnsCount","overscanCount","_this$state4","overscanCountResolved","startIndex","stopIndex","overscanBackward","overscanForward","_this$props7","overscanRowCount","overscanRowsCount","_this$state5","PureComponent","_ref5","_ref6","DEFAULT_ESTIMATED_ITEM_SIZE","rowMetadataMap","estimatedRowHeight","lastMeasuredRowIndex","totalSizeOfMeasuredRows","itemMetadata","numUnmeasuredItems","totalSizeOfUnmeasuredItems","columnMetadataMap","estimatedColumnWidth","lastMeasuredColumnIndex","getItemMetadata","itemType","instanceProps","itemMetadataMap","itemSize","lastMeasuredIndex","findNearestItem","lastMeasuredItemOffset","findNearestItemBinarySearch","findNearestItemExponentialSearch","high","low","middle","currentOffset","itemCount","interval","getOffsetForIndexAndAlignment","scrollOffset","estimatedTotalSize","maxOffset","minOffset","VariableSizeGrid","instance","shouldForceUpdate","_ref6$shouldForceUpda","_ref7","IS_SCROLLING_DEBOUNCE_INTERVAL$1","defaultItemKey$1","createListComponent","getItemOffset","getEstimatedTotalSize","getItemSize","getStartIndexForOffset","getStopIndexForStartIndex","List","overscanStartIndex","overscanStopIndex","visibleStartIndex","visibleStopIndex","scrollDirection","layout","isHorizontal","offsetHorizontal","_event$currentTarget2","validateSharedProps$1","initialScrollOffset","_this$props5$itemKey","_this$_getRangeToRend","_index","_this$_getRangeToRend2","_overscanStartIndex","_overscanStopIndex","_visibleStartIndex","_visibleStopIndex","_scrollDirection","_scrollOffset","DEFAULT_ESTIMATED_ITEM_SIZE$1","getItemMetadata$1","findNearestItem$1","findNearestItemBinarySearch$1","findNearestItemExponentialSearch$1","estimatedItemSize","totalSizeOfMeasuredItems","VariableSizeList","FixedSizeGrid","lastColumnOffset","middleOffset","_ref8","lastRowOffset","_ref9","_ref10","numVisibleColumns","_ref11","_ref12","numVisibleRows","_ref13","TableHeader","_React$PureComponent","_this2","columns","headerRenderer","rowData","rowRenderer","rowWidth","headerHeight","frozenData","rowHeights","object","enumerableOnly","keys","symbols","renderElement","renderer","normalizeColumns","column","isObjectEqual","objA","objB","ignoreFunction","keysA","keysB","valueA","valueB","valueAType","callOrReturn","funcOrValue","hasChildren","flattenOnKeys","tree","depthMap","dataKey","array","keysSet","stack","_loop","cloneArray","noop","toString","getPathSegments","path","pathArray","parts","p","getValue","defaultValue","fn","ms","timeoutId","_len2","_key2","inThrottle","lastFn","lastTime","scrollDiv","addClassName","el","removeClassName","getEstimatedTotalRowsHeight","_excluded","GridTable","memoize","bodyWidth","containerStyle","classPrefix","headerWidth","hoveredRowKey","rest","frozenRowCount","frozenRowsHeight","cls","cn","containerProps","Header","rowKey","TableHeaderRow","headerIndex","cellRenderer","expandColumnKey","ExpandIcon","Tag","cells","_excluded2","TableRow","rowEventHandlers","expandIconRenderer","expandIcon","eventHandlers","otherStyles","expanded","onRowExpand","initialMeasure","onRowHeightChange","handlers","onRowHover","eventKey","mouseEnterHandler","mouseLeaveHandler","TableHeaderCell","TableCell","cellData","Alignment","FrozenDirection","Column","_React$Component","SortOrder","expandable","indentSize","onExpand","SortIndicator","sortOrder","INVALID_VALUE","addUserSelectStyles","doc","styleEl","removeUserSelectStyles","selection","eventsFor","dragEventFor","ColumnResizer","ownerDocument","clientX","offsetParent","offsetParentRect","MIN_WIDTH","maxWidth","_column$minWidth","minWidth","movedX","newWidth","ColumnManager","fixed","_this3","_this4","_this5","_this6","mainColumns","_objectSpread2","_objectSpread3","_this7","_this8","_this9","_this10","_this11","flexGrow","flexShrink","flexValue","_this12","_excluded3","_excluded4","_excluded5","getColumns","getContainerStyle","DEFAULT_COMPONENTS","RESIZE_THROTTLE_WAIT","EMPTY_ARRAY","BaseTable","defaultExpandedRowKeys","expandedRowKeys","expandIconProps","extraProps","_cn","rowClassName","rowClass","hasFrozenColumns","rowProps","_cn2","dataGetter","cellProps","cell","cellCls","tagName","_cn3","headerClassName","headerClass","headerProps","_cn4","_cn5","sortBy","sortState","headerCellProps","sorting","order","tableWidth","columnsWidth","containerHeight","_this$props8","scrollbarWidth","_this$props9","resizingKey","frozen","leftWidth","rightWidth","_this$props10","footerHeight","footerRenderer","_this$props11","emptyRenderer","overlayRenderer","_cn6","_this$props12","disabled","_data","_this$props13","maxHeight","name","_this$props14","_this$props15","_this$props16","tableHeight","totalRowsHeight","totalHeight","_this$props17","totalColumnsWidth","prevHorizontalScrollbarSize","prevVerticalScrollbarSize","onScrollbarPresenceChange","_this$props18","onEndReached","onEndReachedThreshold","distanceFromEnd","lastScrollTop","hovered","resizingWidth","_this$props19","onColumnSort","defaultGetScrollbarSize","windowObject","cancelFrame","requestFrame","TIMEOUT_DURATION","clearTimeoutFn","setTimeoutFn","cancelAnimationFrameFn","requestAnimationFrameFn","animationFrameID","createDetectElementResize","nonce","animationKeyframes","animationName","animationStartEvent","animationStyle","checkTriggers","resetTriggers","scrollListener","attachEvent","triggers","expand","contract","expandChild","animation","keyframeprefix","domPrefixes","startEvents","pfx","elm","createStyles","css","head","elementStyle","expandTrigger","contractTrigger","AutoSizer","disableHeight","disableWidth","onResize","_style$paddingLeft","_style$paddingRight","_style$paddingTop","_style$paddingBottom","paddingLeft","paddingRight","paddingTop","paddingBottom","scaledHeight","scaledWidth","autoSizer","defaultHeight","defaultWidth","childParams","bailoutOnChildren","AutoResizer","isPublic","bundle","ra","AUTHENTICATED_PRINCIPAL_ID","PUBLIC_PRINCIPAL_ID","ANONYMOUS_PRINCIPAL_ID","EntityBadgeIcons","entityId","versionNumber","flexWrap","justifyContent","showIsPublicPrivate","showHasLocalSharingSettings","showHasAnnotations","showHasWiki","showHasDiscussionThread","showUnlink","onUnlink","onUnlinkError","canOpenModal","SchemaConformanceState","SchemaConformanceState2","inView","useInView","useGetEntityBundle","ALL_ENTITY_BUNDLE_FIELDS","showModal","setShowModal","showUnlinkConfirmModal","setShowUnlinkConfirmModal","schemaConformance","setSchemaConformance","isInExperimentalMode","boundSchema","useGetSchemaBinding","schemaValidationResults","useGetValidationResults","maxAnnosToShow","annotationsCount","isEmpty","unlinkEntity","useDeleteEntity","entityId2","annotationsTableRows","previous","current","valiationSchemaTableRow","annotationsHtml","EntityModal","Tooltip","PublicTwoTone","LockTwoTone","CheckTwoTone","EntityType","WarningDialog","CustomSortIndicator","SortIcon","BadgeIconsRenderer","DateRenderer","formatDate","dayjs","ModifiedOnRenderer","isLoading","Skeleton","CreatedOnRenderer","EntityNameRenderer","EntityLink","ProjectRenderer","entityBundle","isLoadingBundle","project","isLoadingProjectEntity","useGetEntity","UserBadgeRenderer","UserBadge","ModifiedByRenderer","LoadingRenderer","SynapseSpinner","DetailsViewCheckboxRenderer","isDisabled","Checkbox","TypeIconRenderer","EntityTypeIcon","EmptyRenderer","noResultsPlaceholder","DatasetEditorVersionRenderer","toggleSelection","versionData","isError","useGetVersionsInfinite","versions","currentVersionHasBeenRetrieved","version","Form","getLatestVersionText","versionSelection","entityType","versionDisplay","snapshotDisplay","isTableType","IconSvg","DetailsViewVersionRenderer","id","isVersionableEntity","currentSelectedVersion","NO_VERSION_NUMBER","showLatestVersion","latestVersionText","DatasetEditorCheckboxRenderer","setSelected","EntityErrorRenderer","error","message","CHOOSE_REFERENCE","CHOOSE_ACTION","ALWAYS_LATEST_VERSION_EXPLANATION","VersionColumnHeader","helpCopy","HelpPopover","MIN_TABLE_WIDTH","ROW_HEIGHT","DetailsView","entities","selectColumnType","selected","visibleTypes","selectableTypes","sort","setSort","enableSelectAll","selectAllIsChecked","getChildrenInfiniteRequestObject","totalEntities","setCurrentContainer","queryClient","useQueryClient","showSelectColumn","shouldSelectAll","setShouldSelectAll","showLoadingScreen","setShowLoadingScreen","cancelQuery","determineRowAppearance","entity","getEntityTypeFromHeader","handleSelectAll","selectedVersion","latestVersion","isVersionableEntityType","getEntityVersions","tableData","entities2","appearance","SelectAllCheckboxRenderer","useMemo","isEnabled","NameRenderer","useCallback","isContainerType","BlockingLoader","Direction","SortBy","EntityChildrenDetails","parentContainerId","sharedProps","setSortBy","sortDirection","setSortDirection","useGetEntityChildrenInfinite","selectAllCheckboxState","newSortBy","newSortDirection","FavoritesDetails","useGetFavoritesInfinite","toEntityHeader","projectHeader","ProjectListDetails","projectsParams","projects","hit","convertToConcreteEntityType","SearchDetails","searchQuery","EntityDetailsListDataConfigurationType","EntityDetailsListDataConfigurationType2","EntityDetailsList","configuration","setComponent","useDeepCompareEffect","config","SynapseErrorBoundary","SelectionPane","title","selectedEntities","Typography","EntityPathDisplay","entityName","setEntityName","fullPath","setFullPath","displayedPath","setDisplayedPath","header","header2","projectName","TOOLTIP_DELAY_SHOW","mergeRefs","refs","createBasicRecord","pub","parent","getIdByIndex","getRecordData","_getRecordData","Row","_ref$data","Node","treeData","generateNewTree","state","createRecord","buildingTaskTimeout","placeholder","_ref3$async","async","treeWalker","shouldPreservePreviousState","previousRecords","records","requestIdleCallbackOptions","meta","iter","_iter$next","rootRecord","currentRecord","isTraversingRoot","tempRecord","useIdleCallback","hasTime","deadline","task","_iter$next2","childRecord","MAX_FUNCTION_ARGUMENTS","SPLICE_DEFAULT_ARGUMENTS_NUMBER","updateExistingTree","opennessState","opts","ownerRecord","open","_ref6$subtreeCallback","subtreeCallback","update","apply","recordNextToSubtree","countToRemove","orderParts","record","currentOrderPart","count","createTreeComputer","creatorOptions","Tree","_props$listRef","listRef","computeTree","list","oldTreeWalker","createRef","_this$state$list$curr","_this$state$list$curr2","previousRecord","recomputeTree","resetAfterId","_recomputeTree","VariableSizeTree","_Tree","_list$current","_this2$state$list$cur","rowComponent","attachRefs","EntityTreeNodeType","EntityTreeNodeType2","getTreeNodeType","isPaginationNode","isEntityHeaderNode","isRootNodeConfiguration","hasMoreChildren","isLeafNode","getNodeData","nestingLevel","getNextPageOfChildren","setSelectedId","treeNodeType","autoExpand","currentContainer","isOpenByDefault","isLeaf","isOpen","setOpen","setLoading","nodeText","toggleExpand","tooltipContent","getTreeWalkerFunction","rootNode","fetchNextPageOfChildren","parentMeta","childNode","paginationNode","VirtualizedTree","rootNodeConfiguration","setRootNode","cloneDeep","memoizedTreeWalker","isEntityIdInPath","eh","FinderScope","FinderScope2","getScopeOptionDefaultContainer","scope","getScopeOptionNodeName","EntityTree","initialScope","projectId","initialContainer","setDetailsViewConfiguration","setBreadcrumbItems","showScopeAsRootNode","DEFAULT_CONFIGURATION","setScope","useProjectData","projectData","fetchNextPageProjects","hasNextPageProjects","isLoadingProjects","currentContainerBundle","isSuccessBundle","favorites","isLoadingFavorites","useGetFavorites","convertToEntityType","initialContainerPath","useGetEntityPath","SYNAPSE_ENTITY_ID_REGEX","isLoadingProjectHeader","useGetEntityHeader","displayToast","topLevelEntities","topLevelEntities2","isLoading2","detailsViewConfig","breadcrumbItems","shouldAutoExpand","Dropdown","scopeOption","DEFAULT_SELECTABLE_TYPES","TABLE_DEFAULT_VISIBLE_TYPES","TREE_DEFAULT_VISIBLE_TYPES","searchForOnlyTypesBooleanQuery","entityTypes","EntityFinder","selectMultiple","onSelectedChange","visibleTypesInList","visibleTypesInTree","selectedCopy","treeOnly","searchActive","setSearchActive","searchInput","setSearchInput","searchTerms","setSearchTerms","breadcrumbsProps","setBreadcrumbsProps","searchByIdResults","setSearchByIdResults","configFromTreeView","setConfigFromTreeView","searchInputRef","useRef","selectableAndVisibleTypesInTree","selectableAndVisibleTypesInList","handleError","useErrorHandler","setBreadcrumbs","useEntitySelection","isIdSelected","searchTermReference","parseSynId","response","mainPanelClass","searchButtonText","tableArray","pluralize","entityTypeToFriendlyName","Box","Button","ArrowBackOutlinedIcon","SearchIcon","TextField","InputAdornment","IconButton","ClearIcon","SizeMe","match","entitySelectionReducer","toggledReferences","map","toggledReference","useReducer","Map"],"mappings":"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","x_google_ignoreList":[0,1,2,3,8,9,10,11,12,13,14,15,16,17,18,19,20,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,50,51,52,53]}