var Ci=Object.defineProperty;var Pi=(e,t,r)=>t in e?Ci(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var oe=(e,t,r)=>Pi(e,typeof t!="symbol"?t+"":t,r);import{j as _}from"./jsx-runtime-DBMcmXCa.js";import{r as J}from"./index-DBlnVwD8.js";import{i as Vt,g as te,E as be,U as Pa,r as Je,a as Xt,b as Ta,c as Ti,m as at,h as Ne,P as Se,R as Fe,D as Oa,e as Na,d as le,I as it,f as Ye,N as mr,O as ot,j as $t,k as Ia,l as Fa,n as As,s as ge,o as jn,p as xa,q as Oi,t as Ni,v as Ii,S as wr,w as Rs,x as Da,T as ne,y as Ms,z as Er,B as Fi,A as Zt,C as hr,F as xi}from"./enums-DGkqRMfN.js";import{i as Di}from"./isString-DWLUYuqO.js";import{i as Nr,d as Aa}from"./isNil-CM9qot0x.js";import{g as G}from"./_baseIteratee-CjFuHVbG.js";import{k as Nt}from"./_getTag-Dg9gL6QT.js";import{p as Ai}from"./pickBy-fW6wEgbI.js";import{b as Ri,i as Vs,d as Wt}from"./merge-OM56T8yk.js";import{b as Mi}from"./_baseDifference-CmURkBOS.js";import{b as Vi}from"./_baseFlatten-BDTc4dip.js";import{a as Ui,c as Ra}from"./cloneDeep-DmxrBXJm.js";import{b as Bi}from"./_baseEach-D9RPJo6Y.js";import{c as zi}from"./times-I6vxwNRK.js";import{i as Ma}from"./isArray-Dxzbedgu.js";import{p as Us}from"./pick-BoVDvQvj.js";import{i as xe}from"./_baseTimes-36S_kd0L.js";import{n as Li}from"./index.browser-CtiQQ-iP.js";import{b as qi,o as un}from"./omit-Bc_dig4H.js";import{k as Qt}from"./createTheme-BZ2zgW4D.js";import{r as er}from"./createSvgIcon-CMHW_zbH.js";import{I as Va}from"./IconButton-C200dxKl.js";import{G as we}from"./Grid-Dj6W15cF.js";import{B as ct}from"./Box-Chsd4vbP.js";import{P as kn}from"./Paper-DaOo4yHe.js";import{T as Cn}from"./TextField--zXdD2Ho.js";import{T as Ir}from"./Typography-DqN6Bou9.js";import{L as Ua}from"./List-Y6fdPvQ1.js";import{L as Ba}from"./ListItem-CKt0rUYk.js";import{L as Ki}from"./ListItemIcon-DPqtzk8H.js";import{L as Wi}from"./ListItemText-BJ3E2tra.js";import{d as Hi}from"./ContentCopy-B0gZGoXs.js";import{F as za}from"./Input-PVVEJOoR.js";import{F as Gi}from"./FormControl-DoOJ5nq5.js";import{B as Ji}from"./Button-CNqVIcaA.js";import{D as Yi}from"./Divider-CvxCpIOY.js";import{F as Pn}from"./FormControlLabel-CLdz0MZS.js";import{C as La}from"./Checkbox-DafYM25h.js";import{F as Tn}from"./FormLabel-kv4NFhIh.js";import{F as Xi}from"./FormGroup-ClEmHsgC.js";import{R as Zi}from"./RadioGroup-BoyVN2Ak.js";import{R as Qi}from"./Radio--HCL-vVt.js";import{S as ec}from"./Slider-Ji6ICdwz.js";import{M as Bs}from"./MenuItem-CzUdFkAE.js";import{g as qa}from"./iframe-D_N6e9gY.js";import{a as tc,t as rc}from"./toString-B0637kMA.js";import{h as nc}from"./_initCloneObject-DxaU8L-P.js";import{i as sc}from"./isSymbol-C47FQwZW.js";import{s as ac,t as oc}from"./_baseGet-COx7JLGh.js";import{b as ic}from"./_baseSet-DlIjgGBT.js";var cc=Ri(function(e,t){return Vs(e)?Mi(e,Vi(t,1,Vs,!0)):[]});function lc(e,t){var r=Ma(e)?Ui:Bi;return r(e,zi(t))}function dc(e,t,r,n){return n=typeof n=="function"?n:void 0,e==null?e:ic(e,t,r,n)}function Ka(e){return Ma(e)?tc(e,oc):sc(e)?[e]:nc(ac(rc(e)))}function uc(e,t){return e==null?!0:qi(e,t)}function fc(e){return e.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),Vt(e.additionalItems)}function zs(e){if(e==="")return;if(e===null)return null;if(/\.$/.test(e)||/\.0$/.test(e)||/\.\d*0$/.test(e))return e;const t=Number(e);return typeof t=="number"&&!Number.isNaN(t)?t:e}function Wa(e,t={},r){if(!e.additionalProperties)return!1;const{expandable:n=!0}=te(t);return n===!1?n:e.maxProperties!==void 0&&r?Object.keys(r).length<e.maxProperties:!0}function jr(e){const t={[be]:[],addError(r){this[be].push(r)}};if(Array.isArray(e))return e.reduce((r,n,s)=>({...r,[s]:jr(n)}),t);if(Wt(e)){const r=e;return Object.keys(r).reduce((n,s)=>({...n,[s]:jr(r[s])}),t)}return t}function Ha(e={}){return"widget"in te(e)&&te(e).widget!=="hidden"}function Ga(e,t,r={},n,s){if(r[Pa]==="files")return!0;if(t.items){const a=Je(e,t.items,n,void 0,s);return a.type==="string"&&a.format==="data-url"}return!1}function mc(e,t,r={},n,s,a){const o=te(r,s),{label:i=!0}=o;let c=!!i;const u=Xt(t);return u==="array"&&(c=Ta(e,t,n,a)||Ga(e,t,r,n,a)||Ha(r)),u==="object"&&(c=!1),u==="boolean"&&!r[Pa]&&(c=!1),r[Ti]&&(c=!1),c}function hc(e,t,r){if(!r)return t;const{errors:n,errorSchema:s}=t;let a=e.toErrorList(r),o=r;return Nr(s)||(o=at(s,r,!0),a=[...n].concat(a)),{errorSchema:o,errors:a}}const ht=Symbol("no Value");function fn(e,t,r,n,s={},a){let o;if(Ne(r,Se)){const i={};if(Ne(n,Se)){const d=G(n,Se,{});Object.keys(d).forEach(f=>{Ne(s,f)&&(i[f]=void 0)})}const c=Object.keys(G(r,Se,{})),u={};c.forEach(d=>{const f=G(s,d);let l=G(n,[Se,d],{}),h=G(r,[Se,d],{});Ne(l,Fe)&&(l=Je(e,l,t,f,a)),Ne(h,Fe)&&(h=Je(e,h,t,f,a));const m=G(l,"type"),$=G(h,"type");if(!m||m===$)if(Ne(i,d)&&delete i[d],$==="object"||$==="array"&&Array.isArray(f)){const p=fn(e,t,h,l,f,a);(p!==void 0||$==="array")&&(u[d]=p)}else{const p=G(h,"default",ht),y=G(l,"default",ht);p!==ht&&p!==f&&(y===f?i[d]=p:G(h,"readOnly")===!0&&(i[d]=void 0));const v=G(h,"const",ht),E=G(l,"const",ht);v!==ht&&v!==f&&(i[d]=E===f?v:void 0)}}),o={...typeof s=="string"||Array.isArray(s)?void 0:s,...i,...u}}else if(G(n,"type")==="array"&&G(r,"type")==="array"&&Array.isArray(s)){let i=G(n,"items"),c=G(r,"items");if(typeof i=="object"&&typeof c=="object"&&!Array.isArray(i)&&!Array.isArray(c)){Ne(i,Fe)&&(i=Je(e,i,t,s,a)),Ne(c,Fe)&&(c=Je(e,c,t,s,a));const u=G(i,"type"),d=G(c,"type");if(!u||u===d){const f=G(r,"maxItems",-1);d==="object"?o=s.reduce((l,h)=>{const m=fn(e,t,c,i,h,a);return m!==void 0&&(f<0||l.length<f)&&l.push(m),l},[]):o=f>0&&s.length>f?s.slice(0,f):s}}else typeof i=="boolean"&&typeof c=="boolean"&&i===c&&(o=s)}return o}function pr(e,t,r,n,s,a,o,i=[],c){if(Fe in t||Oa in t||Na in t){const f=Je(e,t,a,o,c);if(i.findIndex(h=>le(h,f))===-1)return pr(e,f,r,n,s,a,o,i.concat(f),c)}if(it in t&&!G(t,[it,Fe]))return pr(e,G(t,it),r,n,s,a,o,i,c);const d={$id:s||r};if(Xt(t)==="object"&&Se in t)for(const f in t.properties){const l=G(t,[Se,f]),h=d[Ye]+n+f;d[f]=pr(e,Vt(l)?l:{},r,n,h,a,G(o,[f]),i,c)}return d}function pc(e,t,r,n,s,a="root",o="_",i){return pr(e,t,a,o,r,n,s,void 0,i)}function et(e,t,r,n,s,a=[],o){if(Fe in t||Oa in t||Na in t){const c=Je(e,t,n,s,o);if(a.findIndex(d=>le(d,c))===-1)return et(e,c,r,n,s,a.concat(c),o)}let i={[mr]:r.replace(/^\./,"")};if(ot in t||$t in t){const c=ot in t?t.oneOf:t.anyOf,u=Ia(t),d=Fa(e,n,s,c,0,u,o),f=c[d];i={...i,...et(e,f,r,n,s,a,o)}}if(As in t&&t[As]!==!1&&ge(i,jn,!0),it in t&&Array.isArray(s)){const{items:c,additionalItems:u}=t;Array.isArray(c)?s.forEach((d,f)=>{c[f]?i[f]=et(e,c[f],`${r}.${f}`,n,d,a,o):u?i[f]=et(e,u,`${r}.${f}`,n,d,a,o):console.warn(`Unable to generate path schema for "${r}.${f}". No schema defined for it`)}):s.forEach((d,f)=>{i[f]=et(e,c,`${r}.${f}`,n,d,a,o)})}else if(Se in t)for(const c in t.properties){const u=G(t,[Se,c]);i[c]=et(e,u,`${r}.${c}`,n,G(s,[c]),a,o)}return i}function yc(e,t,r="",n,s,a){return et(e,t,r,n,s,void 0,a)}class gc{constructor(t,r,n,s){this.rootSchema=r,this.validator=t,this.experimental_defaultFormStateBehavior=n,this.experimental_customMergeAllOf=s}getValidator(){return this.validator}doesSchemaUtilsDiffer(t,r,n={},s){return!t||!r?!1:this.validator!==t||!le(this.rootSchema,r)||!le(this.experimental_defaultFormStateBehavior,n)||this.experimental_customMergeAllOf!==s}getDefaultFormState(t,r,n=!1){return xa(this.validator,t,r,this.rootSchema,n,this.experimental_defaultFormStateBehavior,this.experimental_customMergeAllOf)}getDisplayLabel(t,r,n){return mc(this.validator,t,r,this.rootSchema,n,this.experimental_customMergeAllOf)}getClosestMatchingOption(t,r,n,s){return Fa(this.validator,this.rootSchema,t,r,n,s,this.experimental_customMergeAllOf)}getFirstMatchingOption(t,r,n){return Oi(this.validator,t,r,this.rootSchema,n)}getMatchingOption(t,r,n){return Ni(this.validator,t,r,this.rootSchema,n)}isFilesArray(t,r){return Ga(this.validator,t,r,this.rootSchema,this.experimental_customMergeAllOf)}isMultiSelect(t){return Ta(this.validator,t,this.rootSchema,this.experimental_customMergeAllOf)}isSelect(t){return Ii(this.validator,t,this.rootSchema,this.experimental_customMergeAllOf)}mergeValidationData(t,r){return hc(this.validator,t,r)}retrieveSchema(t,r){return Je(this.validator,t,this.rootSchema,r,this.experimental_customMergeAllOf)}sanitizeDataForNewSchema(t,r,n){return fn(this.validator,this.rootSchema,t,r,n,this.experimental_customMergeAllOf)}toIdSchema(t,r,n,s="root",a="_"){return pc(this.validator,t,r,this.rootSchema,n,s,a,this.experimental_customMergeAllOf)}toPathSchema(t,r,n){return yc(this.validator,t,r,this.rootSchema,n,this.experimental_customMergeAllOf)}}function $c(e,t,r={},n){return new gc(e,t,r,n)}function vc(e){var t;if(e.indexOf("data:")===-1)throw new Error("File is invalid: URI must be a dataURI");const n=e.slice(5).split(";base64,");if(n.length!==2)throw new Error("File is invalid: dataURI must be base64");const[s,a]=n,[o,...i]=s.split(";"),c=o||"",u=decodeURI(((t=i.map(d=>d.split("=")).find(([d])=>d==="name"))===null||t===void 0?void 0:t[1])||"unknown");try{const d=atob(a),f=new Array(d.length);for(let h=0;h<d.length;h++)f[h]=d.charCodeAt(h);return{blob:new window.Blob([new Uint8Array(f)],{type:c}),name:u}}catch(d){throw new Error("File is invalid: "+d.message)}}function Ge(e,t){let r=String(e);for(;r.length<t;)r="0"+r;return r}function Ja(e,t){if(e<=0&&t<=0)e=new Date().getFullYear()+e,t=new Date().getFullYear()+t;else if(e<0||t<0)throw new Error(`Both start (${e}) and stop (${t}) must both be <= 0 or > 0, got one of each`);if(e>t)return Ja(t,e).reverse();const r=[];for(let n=e;n<=t;n++)r.push({value:n,label:Ge(n,2)});return r}function _c(e,t){let r=e;if(Array.isArray(t)){const n=r.split(/(%\d)/);t.forEach((s,a)=>{const o=n.findIndex(i=>i===`%${a+1}`);o>=0&&(n[o]=s)}),r=n.join("")}return r}function bc(e,t){return _c(e,t)}function me(e,t=[],r){if(Array.isArray(e))return e.map(a=>me(a,t)).filter(a=>a!==r);const n=e===""||e===null?-1:Number(e),s=t[n];return s?s.value:r}function Ya(e,t,r=[]){const n=me(e,r);return Array.isArray(t)?t.filter(s=>!le(s,n)):le(n,t)?void 0:t}function Fr(e,t){return Array.isArray(t)?t.some(r=>le(r,e)):le(t,e)}function On(e,t=[],r=!1){const n=t.map((s,a)=>Fr(s.value,e)?String(a):void 0).filter(s=>typeof s<"u");return r?n:n[0]}function Xa(e,t,r=[]){const n=me(e,r);if(!Aa(n)){const s=r.findIndex(i=>n===i.value),a=r.map(({value:i})=>i);return t.slice(0,s).concat(n,t.slice(s)).sort((i,c)=>+(a.indexOf(i)>a.indexOf(c)))}return t}class Sc{constructor(t){this.errorSchema={},this.resetAllErrors(t)}get ErrorSchema(){return this.errorSchema}getOrCreateErrorBlock(t){let n=Array.isArray(t)&&t.length>0||typeof t=="string"?G(this.errorSchema,t):this.errorSchema;return!n&&t&&(n={},dc(this.errorSchema,t,n,Object)),n}resetAllErrors(t){return this.errorSchema=t?Ra(t):{},this}addErrors(t,r){const n=this.getOrCreateErrorBlock(r);let s=G(n,be);return Array.isArray(s)||(s=[],n[be]=s),Array.isArray(t)?ge(n,be,[...new Set([...s,...t])]):ge(n,be,[...new Set([...s,t])]),this}setErrors(t,r){const n=this.getOrCreateErrorBlock(r),s=Array.isArray(t)?[...new Set([...t])]:[t];return ge(n,be,s),this}clearErrors(t){const r=this.getOrCreateErrorBlock(t);return ge(r,be,[]),this}}function wc(e,t,r=[1900,new Date().getFullYear()+2],n="YMD"){const{day:s,month:a,year:o,hour:i,minute:c,second:u}=e,d={type:"day",range:[1,31],value:s},f={type:"month",range:[1,12],value:a},l={type:"year",range:r,value:o},h=[];switch(n){case"MDY":h.push(f,d,l);break;case"DMY":h.push(d,f,l);break;case"YMD":default:h.push(l,f,d)}return t&&h.push({type:"hour",range:[0,23],value:i},{type:"minute",range:[0,59],value:c},{type:"second",range:[0,59],value:u}),h}function Za(e){const t={};return e.multipleOf&&(t.step=e.multipleOf),(e.minimum||e.minimum===0)&&(t.min=e.minimum),(e.maximum||e.maximum===0)&&(t.max=e.maximum),t}function Qa(e,t,r={},n=!0){const s={type:t||"text",...Za(e)};return r.inputType?s.type=r.inputType:t||(e.type==="number"?(s.type="number",n&&s.step===void 0&&(s.step="any")):e.type==="integer"&&(s.type="number",s.step===void 0&&(s.step=1))),r.autocomplete&&(s.autoComplete=r.autocomplete),r.accept&&(s.accept=r.accept),s}const Ls={props:{disabled:!1},submitText:"Submit",norender:!1};function eo(e={}){const t=te(e);if(t&&t[wr]){const r=t[wr];return{...Ls,...r}}return Ls}function Q(e,t,r={}){const{templates:n}=t;return e==="ButtonTemplates"?n[e]:r[e]||n[e]}const Zr={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",time:"TimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function Ec(e){let t=G(e,"MergedWidget");if(!t){const r=e.defaultProps&&e.defaultProps.options||{};t=({options:n,...s})=>_.jsx(e,{options:{...r,...n},...s}),ge(e,"MergedWidget",t)}return t}function Ve(e,t,r={}){const n=Xt(e);if(typeof t=="function"||t&&Rs.isForwardRef(J.createElement(t))||Rs.isMemo(t))return Ec(t);if(typeof t!="string")throw new Error(`Unsupported widget definition: ${typeof t}`);if(t in r){const s=r[t];return Ve(e,s,r)}if(typeof n=="string"){if(!(n in Zr))throw new Error(`No widget for type '${n}'`);if(t in Zr[n]){const s=r[Zr[n][t]];return Ve(e,s,r)}}throw new Error(`No widget '${t}' for type '${n}'`)}function jc(e){let t=0;for(let r=0;r<e.length;r+=1){const n=e.charCodeAt(r);t=(t<<5)-t+n,t=t&t}return t.toString(16)}function kc(e){const t=new Set;return JSON.stringify(e,(r,n)=>(t.add(r),n)),jc(JSON.stringify(e,Array.from(t).sort()))}function Cc(e,t,r={}){try{return Ve(e,t,r),!0}catch(n){const s=n;if(s.message&&(s.message.startsWith("No widget")||s.message.startsWith("Unsupported widget")))return!1;throw n}}function tr(e,t){return`${Di(e)?e:e[Ye]}__${t}`}function ut(e){return tr(e,"description")}function Nn(e){return tr(e,"error")}function Ht(e){return tr(e,"examples")}function In(e){return tr(e,"help")}function Fn(e){return tr(e,"title")}function Ee(e,t=!1){const r=t?` ${Ht(e)}`:"";return`${Nn(e)} ${ut(e)} ${In(e)}${r}`}function xr(e,t){return`${e}-${t}`}function ft(e,t,r){return t?r:e}function Pc(e){return e?new Date(e).toJSON():void 0}function Tc(e,t){if(!Array.isArray(t))return e;const r=d=>d.reduce((f,l)=>(f[l]=!0,f),{}),n=d=>d.length>1?`properties '${d.join("', '")}'`:`property '${d[0]}'`,s=r(e),a=t.filter(d=>d==="*"||s[d]),o=r(a),i=e.filter(d=>!o[d]),c=a.indexOf("*");if(c===-1){if(i.length)throw new Error(`uiSchema order list does not contain ${n(i)}`);return a}if(c!==a.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");const u=[...a];return u.splice(c,1,...i),u}function Qr(e,t=!0){if(!e)return{year:-1,month:-1,day:-1,hour:t?-1:0,minute:t?-1:0,second:t?-1:0};const r=new Date(e);if(Number.isNaN(r.getTime()))throw new Error("Unable to parse date "+e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:t?r.getUTCHours():0,minute:t?r.getUTCMinutes():0,second:t?r.getUTCSeconds():0}}function Ut(e){if(e.const||e.enum&&e.enum.length===1&&e.enum[0]===!0)return!0;if(e.anyOf&&e.anyOf.length===1)return Ut(e.anyOf[0]);if(e.oneOf&&e.oneOf.length===1)return Ut(e.oneOf[0]);if(e.allOf){const t=r=>Ut(r);return e.allOf.some(t)}return!1}function Oc(e,t,r){const{props:n,state:s}=e;return!le(n,t)||!le(s,r)}function qs(e,t=!0){const{year:r,month:n,day:s,hour:a=0,minute:o=0,second:i=0}=e,c=Date.UTC(r,n-1,s,a,o,i),u=new Date(c).toJSON();return t?u:u.slice(0,10)}function Gt(e,t=[]){if(!e)return[];let r=[];return be in e&&(r=r.concat(e[be].map(n=>{const s=`.${t.join(".")}`;return{property:s,message:n,stack:`${s} ${n}`}}))),Object.keys(e).reduce((n,s)=>{if(s!==be){const a=e[s];Wt(a)&&(n=n.concat(Gt(a,[...t,s])))}return n},r)}function Nc(e){const t=new Sc;return e.length&&e.forEach(r=>{const{property:n,message:s}=r,a=n==="."?[]:Ka(n);a.length>0&&a[0]===""&&a.splice(0,1),s&&t.addErrors(s,a)}),t.ErrorSchema}function xn(e){return Object.keys(e).reduce((t,r)=>{if(r==="addError")return t;{const n=e[r];return Wt(n)?{...t,[r]:xn(n)}:{...t,[r]:n}}},{})}function Ic(e){if(!e)return"";const t=new Date(e),r=Ge(t.getFullYear(),4),n=Ge(t.getMonth()+1,2),s=Ge(t.getDate(),2),a=Ge(t.getHours(),2),o=Ge(t.getMinutes(),2),i=Ge(t.getSeconds(),2),c=Ge(t.getMilliseconds(),3);return`${r}-${n}-${s}T${a}:${o}:${i}.${c}`}function yr(e,t){if(!t)return e;const{errors:r,errorSchema:n}=e;let s=Gt(t),a=t;return Nr(n)||(a=at(n,t,!0),s=[...r].concat(s)),{errorSchema:a,errors:s}}function Fc(e){for(const t in e){const r=e,n=r[t];t===Fe&&typeof n=="string"&&n.startsWith("#")?r[t]=Da+n:r[t]=Dn(n)}return e}function xc(e){for(let t=0;t<e.length;t++)e[t]=Dn(e[t]);return e}function Dn(e){return Array.isArray(e)?xc([...e]):xe(e)?Fc({...e}):e}function Dc(e,t){const r=Wt(e),n=Wt(t);if(e===t||!r&&!n)return[];if(r&&!n)return Nt(e);if(!r&&n)return Nt(t);{const s=Nt(Ai(e,(o,i)=>!le(o,G(t,i)))),a=cc(Nt(t),Nt(e));return[...s,...a]}}function mn(){return Li()}function Ks(e){return Array.isArray(e)?e.map(t=>({key:mn(),item:t})):[]}function It(e){return Array.isArray(e)?e.map(t=>t.item):[]}class Ac extends J.Component{constructor(r){super(r);oe(this,"_getNewFormDataRow",()=>{const{schema:r,registry:n}=this.props,{schemaUtils:s}=n;let a=r.items;return Ms(r)&&fc(r)&&(a=r.additionalItems),s.getDefaultFormState(a)});oe(this,"onAddClick",r=>{this._handleAddClick(r)});oe(this,"onAddIndexClick",r=>n=>{this._handleAddClick(n,r)});oe(this,"onCopyIndexClick",r=>n=>{n&&n.preventDefault();const{onChange:s,errorSchema:a}=this.props,{keyedFormData:o}=this.state;let i;if(a){i={};for(const d in a){const f=parseInt(d);f<=r?ge(i,[f],a[d]):f>r&&ge(i,[f+1],a[d])}}const c={key:mn(),item:Ra(o[r].item)},u=[...o];r!==void 0?u.splice(r+1,0,c):u.push(c),this.setState({keyedFormData:u,updatedKeyedFormData:!0},()=>s(It(u),i))});oe(this,"onDropIndexClick",r=>n=>{n&&n.preventDefault();const{onChange:s,errorSchema:a}=this.props,{keyedFormData:o}=this.state;let i;if(a){i={};for(const u in a){const d=parseInt(u);d<r?ge(i,[d],a[u]):d>r&&ge(i,[d-1],a[u])}}const c=o.filter((u,d)=>d!==r);this.setState({keyedFormData:c,updatedKeyedFormData:!0},()=>s(It(c),i))});oe(this,"onReorderClick",(r,n)=>s=>{s&&(s.preventDefault(),s.currentTarget.blur());const{onChange:a,errorSchema:o}=this.props;let i;if(o){i={};for(const f in o){const l=parseInt(f);l==r?ge(i,[n],o[r]):l==n?ge(i,[r],o[n]):ge(i,[f],o[l])}}const{keyedFormData:c}=this.state;function u(){const f=c.slice();return f.splice(r,1),f.splice(n,0,c[r]),f}const d=u();this.setState({keyedFormData:d},()=>a(It(d),i))});oe(this,"onChangeForIndex",r=>(n,s,a)=>{const{formData:o,onChange:i,errorSchema:c}=this.props,d=(Array.isArray(o)?o:[]).map((f,l)=>r===l?typeof n>"u"?null:n:f);i(d,c&&c&&{...c,[r]:s},a)});oe(this,"onSelectChange",r=>{const{onChange:n,idSchema:s}=this.props;n(r,void 0,s&&s.$id)});const{formData:n=[]}=r,s=Ks(n);this.state={keyedFormData:s,updatedKeyedFormData:!1}}static getDerivedStateFromProps(r,n){if(n.updatedKeyedFormData)return{updatedKeyedFormData:!1};const s=Array.isArray(r.formData)?r.formData:[],a=n.keyedFormData||[];return{keyedFormData:s.length===a.length?a.map((i,c)=>({key:i.key,item:s[c]})):Ks(s)}}get itemTitle(){const{schema:r,registry:n}=this.props,{translateString:s}=n;return G(r,[it,"title"],G(r,[it,"description"],s(ne.ArrayItemTitle)))}isItemRequired(r){return Array.isArray(r.type)?!r.type.includes("null"):r.type!=="null"}canAddItem(r){const{schema:n,uiSchema:s,registry:a}=this.props;let{addable:o}=te(s,a.globalUiOptions);return o!==!1&&(n.maxItems!==void 0?o=r.length<n.maxItems:o=!0),o}_handleAddClick(r,n){r&&r.preventDefault();const{onChange:s,errorSchema:a}=this.props,{keyedFormData:o}=this.state;let i;if(a){i={};for(const d in a){const f=parseInt(d);n===void 0||f<n?ge(i,[f],a[d]):f>=n&&ge(i,[f+1],a[d])}}const c={key:mn(),item:this._getNewFormDataRow()},u=[...o];n!==void 0?u.splice(n,0,c):u.push(c),this.setState({keyedFormData:u,updatedKeyedFormData:!0},()=>s(It(u),i))}render(){const{schema:r,uiSchema:n,idSchema:s,registry:a}=this.props,{schemaUtils:o,translateString:i}=a;if(!(it in r)){const c=te(n),u=Q("UnsupportedFieldTemplate",a,c);return _.jsx(u,{schema:r,idSchema:s,reason:i(ne.MissingItems),registry:a})}return o.isMultiSelect(r)?this.renderMultiSelect():Ha(n)?this.renderCustomWidget():Ms(r)?this.renderFixedArray():o.isFilesArray(r,n)?this.renderFiles():this.renderNormalArray()}renderNormalArray(){const{schema:r,uiSchema:n={},errorSchema:s,idSchema:a,name:o,title:i,disabled:c=!1,readonly:u=!1,autofocus:d=!1,required:f=!1,registry:l,onBlur:h,onFocus:m,idPrefix:$,idSeparator:p="_",rawErrors:y}=this.props,{keyedFormData:v}=this.state,E=r.title||i||o,{schemaUtils:b,formContext:j}=l,C=te(n),T=xe(r.items)?r.items:{},x=b.retrieveSchema(T),I=It(this.state.keyedFormData),F=this.canAddItem(I),D={canAdd:F,items:v.map((L,q)=>{const{key:z,item:A}=L,ee=A,X=b.retrieveSchema(T,ee),ae=s?s[q]:void 0,N=a.$id+p+q,w=b.toIdSchema(X,N,ee,$,p);return this.renderArrayFieldItem({key:z,index:q,name:o&&`${o}-${q}`,title:E?`${E}-${q+1}`:void 0,canAdd:F,canMoveUp:q>0,canMoveDown:q<I.length-1,itemSchema:X,itemIdSchema:w,itemErrorSchema:ae,itemData:ee,itemUiSchema:n.items,autofocus:d&&q===0,onBlur:h,onFocus:m,rawErrors:y,totalItems:v.length})}),className:`field field-array field-array-of-${x.type}`,disabled:c,idSchema:a,uiSchema:n,onAddClick:this.onAddClick,readonly:u,required:f,schema:r,title:E,formContext:j,formData:I,rawErrors:y,registry:l},M=Q("ArrayFieldTemplate",l,C);return _.jsx(M,{...D})}renderCustomWidget(){const{schema:r,idSchema:n,uiSchema:s,disabled:a=!1,readonly:o=!1,autofocus:i=!1,required:c=!1,hideError:u,placeholder:d,onBlur:f,onFocus:l,formData:h=[],registry:m,rawErrors:$,name:p}=this.props,{widgets:y,formContext:v,globalUiOptions:E,schemaUtils:b}=m,{widget:j,title:C,...T}=te(s,E),x=Ve(r,j,y),I=C??r.title??p,F=b.getDisplayLabel(r,s,E);return _.jsx(x,{id:n.$id,name:p,multiple:!0,onChange:this.onSelectChange,onBlur:f,onFocus:l,options:T,schema:r,uiSchema:s,registry:m,value:h,disabled:a,readonly:o,hideError:u,required:c,label:I,hideLabel:!F,placeholder:d,formContext:v,autofocus:i,rawErrors:$})}renderMultiSelect(){const{schema:r,idSchema:n,uiSchema:s,formData:a=[],disabled:o=!1,readonly:i=!1,autofocus:c=!1,required:u=!1,placeholder:d,onBlur:f,onFocus:l,registry:h,rawErrors:m,name:$}=this.props,{widgets:p,schemaUtils:y,formContext:v,globalUiOptions:E}=h,b=y.retrieveSchema(r.items,a),j=Er(b,s),{widget:C="select",title:T,...x}=te(s,E),I=Ve(r,C,p),F=T??r.title??$,D=y.getDisplayLabel(r,s,E);return _.jsx(I,{id:n.$id,name:$,multiple:!0,onChange:this.onSelectChange,onBlur:f,onFocus:l,options:{...x,enumOptions:j},schema:r,uiSchema:s,registry:h,value:a,disabled:o,readonly:i,required:u,label:F,hideLabel:!D,placeholder:d,formContext:v,autofocus:c,rawErrors:m})}renderFiles(){const{schema:r,uiSchema:n,idSchema:s,name:a,disabled:o=!1,readonly:i=!1,autofocus:c=!1,required:u=!1,onBlur:d,onFocus:f,registry:l,formData:h=[],rawErrors:m}=this.props,{widgets:$,formContext:p,globalUiOptions:y,schemaUtils:v}=l,{widget:E="files",title:b,...j}=te(n,y),C=Ve(r,E,$),T=b??r.title??a,x=v.getDisplayLabel(r,n,y);return _.jsx(C,{options:j,id:s.$id,name:a,multiple:!0,onChange:this.onSelectChange,onBlur:d,onFocus:f,schema:r,uiSchema:n,value:h,disabled:o,readonly:i,required:u,registry:l,formContext:p,autofocus:c,rawErrors:m,label:T,hideLabel:!x})}renderFixedArray(){const{schema:r,uiSchema:n={},formData:s=[],errorSchema:a,idPrefix:o,idSeparator:i="_",idSchema:c,name:u,title:d,disabled:f=!1,readonly:l=!1,autofocus:h=!1,required:m=!1,registry:$,onBlur:p,onFocus:y,rawErrors:v}=this.props,{keyedFormData:E}=this.state;let{formData:b=[]}=this.props;const j=r.title||d||u,C=te(n),{schemaUtils:T,formContext:x}=$,F=(xe(r.items)?r.items:[]).map((z,A)=>T.retrieveSchema(z,s[A])),D=xe(r.additionalItems)?T.retrieveSchema(r.additionalItems,s):null;(!b||b.length<F.length)&&(b=b||[],b=b.concat(new Array(F.length-b.length)));const M=this.canAddItem(b)&&!!D,L={canAdd:M,className:"field field-array field-array-fixed-items",disabled:f,idSchema:c,formData:s,items:E.map((z,A)=>{const{key:ee,item:X}=z,ae=X,N=A>=F.length,w=(N&&xe(r.additionalItems)?T.retrieveSchema(r.additionalItems,ae):F[A])||{},O=c.$id+i+A,k=T.toIdSchema(w,O,ae,o,i),g=N?n.additionalItems||{}:Array.isArray(n.items)?n.items[A]:n.items||{},S=a?a[A]:void 0;return this.renderArrayFieldItem({key:ee,index:A,name:u&&`${u}-${A}`,title:j?`${j}-${A+1}`:void 0,canAdd:M,canRemove:N,canMoveUp:A>=F.length+1,canMoveDown:N&&A<b.length-1,itemSchema:w,itemData:ae,itemUiSchema:g,itemIdSchema:k,itemErrorSchema:S,autofocus:h&&A===0,onBlur:p,onFocus:y,rawErrors:v,totalItems:E.length})}),onAddClick:this.onAddClick,readonly:l,required:m,registry:$,schema:r,uiSchema:n,title:j,formContext:x,errorSchema:a,rawErrors:v},q=Q("ArrayFieldTemplate",$,C);return _.jsx(q,{...L})}renderArrayFieldItem(r){const{key:n,index:s,name:a,canAdd:o,canRemove:i=!0,canMoveUp:c,canMoveDown:u,itemSchema:d,itemData:f,itemUiSchema:l,itemIdSchema:h,itemErrorSchema:m,autofocus:$,onBlur:p,onFocus:y,rawErrors:v,totalItems:E,title:b}=r,{disabled:j,hideError:C,idPrefix:T,idSeparator:x,readonly:I,uiSchema:F,registry:D,formContext:M}=this.props,{fields:{ArraySchemaField:L,SchemaField:q},globalUiOptions:z}=D,A=L||q,{orderable:ee=!0,removable:X=!0,copyable:ae=!1}=te(F,z),N={moveUp:ee&&c,moveDown:ee&&u,copy:ae&&o,remove:X&&i,toolbar:!1};return N.toolbar=Object.keys(N).some(w=>N[w]),{children:_.jsx(A,{name:a,title:b,index:s,schema:d,uiSchema:l,formData:f,formContext:M,errorSchema:m,idPrefix:T,idSeparator:x,idSchema:h,required:this.isItemRequired(d),onChange:this.onChangeForIndex(s),onBlur:p,onFocus:y,registry:D,disabled:j,readonly:I,hideError:C,autofocus:$,rawErrors:v}),className:"array-item",disabled:j,canAdd:o,hasCopy:N.copy,hasToolbar:N.toolbar,hasMoveUp:N.moveUp,hasMoveDown:N.moveDown,hasRemove:N.remove,index:s,totalItems:E,key:n,onAddIndexClick:this.onAddIndexClick,onCopyIndexClick:this.onCopyIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:I,registry:D,schema:d,uiSchema:l}}}function Rc(e){const{schema:t,name:r,uiSchema:n,idSchema:s,formData:a,registry:o,required:i,disabled:c,readonly:u,hideError:d,autofocus:f,title:l,onChange:h,onFocus:m,onBlur:$,rawErrors:p}=e,{title:y}=t,{widgets:v,formContext:E,translateString:b,globalUiOptions:j}=o,{widget:C="checkbox",title:T,label:x=!0,...I}=te(n,j),F=Ve(t,C,v),D=b(ne.YesLabel),M=b(ne.NoLabel);let L;const q=T??y??l??r;if(Array.isArray(t.oneOf))L=Er({oneOf:t.oneOf.map(z=>{if(xe(z))return{...z,title:z.title||(z.const===!0?D:M)}}).filter(z=>z)},n);else{const z=t,A=t.enum??[!0,!1];!z.enumNames&&A.length===2&&A.every(ee=>typeof ee=="boolean")?L=[{value:A[0],label:A[0]?D:M},{value:A[1],label:A[1]?D:M}]:L=Er({enum:A,enumNames:z.enumNames},n)}return _.jsx(F,{options:{...I,enumOptions:L},schema:t,uiSchema:n,id:s.$id,name:r,onChange:h,onFocus:m,onBlur:$,label:q,hideLabel:!x,value:a,required:i,disabled:c,readonly:u,hideError:d,registry:o,formContext:E,autofocus:f,rawErrors:p})}class Ws extends J.Component{constructor(r){super(r);oe(this,"onOptionChange",r=>{const{selectedOption:n,retrievedOptions:s}=this.state,{formData:a,onChange:o,registry:i}=this.props,{schemaUtils:c}=i,u=r!==void 0?parseInt(r,10):-1;if(u===n)return;const d=u>=0?s[u]:void 0,f=n>=0?s[n]:void 0;let l=c.sanitizeDataForNewSchema(d,f,a);d&&(l=c.getDefaultFormState(d,l,"excludeObjectChildren")),this.setState({selectedOption:u},()=>{o(l,void 0,this.getFieldId())})});const{formData:n,options:s,registry:{schemaUtils:a}}=this.props,o=s.map(i=>a.retrieveSchema(i,n));this.state={retrievedOptions:o,selectedOption:this.getMatchingOption(0,n,o)}}componentDidUpdate(r,n){const{formData:s,options:a,idSchema:o}=this.props,{selectedOption:i}=this.state;let c=this.state;if(!le(r.options,a)){const{registry:{schemaUtils:u}}=this.props,d=a.map(f=>u.retrieveSchema(f,s));c={selectedOption:i,retrievedOptions:d}}if(!le(s,r.formData)&&o.$id===r.idSchema.$id){const{retrievedOptions:u}=c,d=this.getMatchingOption(i,s,u);n&&d!==i&&(c={selectedOption:d,retrievedOptions:u})}c!==this.state&&this.setState(c)}getMatchingOption(r,n,s){const{schema:a,registry:{schemaUtils:o}}=this.props,i=Ia(a);return o.getClosestMatchingOption(n,s,r,i)}getFieldId(){const{idSchema:r,schema:n}=this.props;return`${r.$id}${n.oneOf?"__oneof_select":"__anyof_select"}`}render(){const{name:r,disabled:n=!1,errorSchema:s={},formContext:a,onBlur:o,onFocus:i,readonly:c,registry:u,schema:d,uiSchema:f}=this.props,{widgets:l,fields:h,translateString:m,globalUiOptions:$,schemaUtils:p}=u,{SchemaField:y}=h,{selectedOption:v,retrievedOptions:E}=this.state,{widget:b="select",placeholder:j,autofocus:C,autocomplete:T,title:x=d.title,...I}=te(f,$),F=Ve({type:"number"},b,l),D=G(s,be,[]),M=un(s,[be]),L=p.getDisplayLabel(d,f,$),q=v>=0&&E[v]||null;let z;if(q){const{required:w}=d;z=w?Fi({required:w},q):q}let A=[];ot in d&&f&&ot in f?Array.isArray(f[ot])?A=f[ot]:console.warn(`uiSchema.oneOf is not an array for "${x||r}"`):$t in d&&f&&$t in f&&(Array.isArray(f[$t])?A=f[$t]:console.warn(`uiSchema.anyOf is not an array for "${x||r}"`));let ee=f;v>=0&&A.length>v&&(ee=A[v]);const X=x?ne.TitleOptionPrefix:ne.OptionPrefix,ae=x?[x]:[],N=E.map((w,O)=>{const{title:k=w.title}=te(A[O]);return{label:k||m(X,ae.concat(String(O+1))),value:O}});return _.jsxs("div",{className:"panel panel-default panel-body",children:[_.jsx("div",{className:"form-group",children:_.jsx(F,{id:this.getFieldId(),name:`${r}${d.oneOf?"__oneof_select":"__anyof_select"}`,schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:o,onFocus:i,disabled:n||Nr(N),multiple:!1,rawErrors:D,errorSchema:M,value:v>=0?v:void 0,options:{enumOptions:N,...I},registry:u,formContext:a,placeholder:j,autocomplete:T,autofocus:C,label:x??r,hideLabel:!L,readonly:c})}),z&&z.type!=="null"&&_.jsx(y,{...this.props,schema:z,uiSchema:ee})]})}}const Mc=/\.([0-9]*0)*$/,Vc=/[0.]0*$/;function Uc(e){const{registry:t,onChange:r,formData:n,value:s}=e,[a,o]=J.useState(s),{StringField:i}=t.fields;let c=n;const u=J.useCallback((d,f,l)=>{o(d),`${d}`.charAt(0)==="."&&(d=`0${d}`);const h=typeof d=="string"&&d.match(Mc)?zs(d.replace(Vc,"")):zs(d);r(h,f,l)},[r]);if(typeof a=="string"&&typeof c=="number"){const d=new RegExp(`^(${String(c).replace(".","\\.")})?\\.?0*$`);a.match(d)&&(c=a)}return _.jsx(i,{...e,formData:c,onChange:u})}function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tt.apply(this,arguments)}const Bc=["children","options"],K={blockQuote:"0",breakLine:"1",breakThematic:"2",codeBlock:"3",codeFenced:"4",codeInline:"5",footnote:"6",footnoteReference:"7",gfmTask:"8",heading:"9",headingSetext:"10",htmlBlock:"11",htmlComment:"12",htmlSelfClosing:"13",image:"14",link:"15",linkAngleBraceStyleDetector:"16",linkBareUrlDetector:"17",linkMailtoDetector:"18",newlineCoalescer:"19",orderedList:"20",paragraph:"21",ref:"22",refImage:"23",refLink:"24",table:"25",text:"27",textBolded:"28",textEmphasized:"29",textEscaped:"30",textMarked:"31",textStrikethroughed:"32",unorderedList:"33"};var Hs;(function(e){e[e.MAX=0]="MAX",e[e.HIGH=1]="HIGH",e[e.MED=2]="MED",e[e.LOW=3]="LOW",e[e.MIN=4]="MIN"})(Hs||(Hs={}));const Gs=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((e,t)=>(e[t.toLowerCase()]=t,e),{class:"className",for:"htmlFor"}),Js={amp:"&",apos:"'",gt:">",lt:"<",nbsp:" ",quot:"“"},zc=["style","script"],Lc=["src","href","data","formAction","srcDoc","action"],qc=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,Kc=/mailto:/i,Wc=/\n{2,}$/,to=/^(\s*>[\s\S]*?)(?=\n\n|$)/,Hc=/^ *> ?/gm,Gc=/^(?:\[!([^\]]*)\]\n)?([\s\S]*)/,Jc=/^ {2,}\n/,Yc=/^(?:( *[-*_])){3,} *(?:\n *)+\n/,ro=/^(?: {1,3})?(`{3,}|~{3,}) *(\S+)? *([^\n]*?)?\n([\s\S]*?)(?:\1\n?|$)/,no=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,Xc=/^(`+)((?:\\`|(?!\1)`|[^`])+)\1/,Zc=/^(?:\n *)*\n/,Qc=/\r\n?/g,el=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,tl=/^\[\^([^\]]+)]/,rl=/\f/g,nl=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,sl=/^\s*?\[(x|\s)\]/,so=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,ao=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,oo=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,hn=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,al=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,io=/^<!--[\s\S]*?(?:-->)/,ol=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,pn=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,il=/^\{.*\}$/,cl=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,ll=/^<([^ >]+@[^ >]+)>/,dl=/^<([^ >]+:\/[^ >]+)>/,ul=/-([a-z])?/gi,co=/^(\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,fl=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,ml=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,hl=/^\[([^\]]*)\] ?\[([^\]]*)\]/,pl=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,yl=/\t/g,gl=/(^ *\||\| *$)/g,$l=/^ *:-+: *$/,vl=/^ *:-+ *$/,_l=/^ *-+: *$/,Dr="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|\\\\\\1|[\\s\\S])+?)",bl=new RegExp(`^([*_])\\1${Dr}\\1\\1(?!\\1)`),Sl=new RegExp(`^([*_])${Dr}\\1(?!\\1)`),wl=new RegExp(`^(==)${Dr}\\1`),El=new RegExp(`^(~~)${Dr}\\1`),jl=/^\\([^0-9A-Za-z\s])/,Ys=/\\([^0-9A-Za-z\s])/g,kl=/^([\s\S](?:(?!  |[0-9]\.)[^=*_~\-\n<`\\\[!])*)/,Cl=/^\n+/,Pl=/^([ \t]*)/,Tl=/\\([^\\])/g,Ol=/(?:^|\n)( *)$/,An="(?:\\d+\\.)",Rn="(?:[*+-])";function lo(e){return"( *)("+(e===1?An:Rn)+") +"}const uo=lo(1),fo=lo(2);function mo(e){return new RegExp("^"+(e===1?uo:fo))}const Nl=mo(1),Il=mo(2);function ho(e){return new RegExp("^"+(e===1?uo:fo)+"[^\\n]*(?:\\n(?!\\1"+(e===1?An:Rn)+" )[^\\n]*)*(\\n|$)","gm")}const Fl=ho(1),xl=ho(2);function po(e){const t=e===1?An:Rn;return new RegExp("^( *)("+t+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+t+" (?!"+t+" ))\\n*|\\s*\\n*$)")}const yo=po(1),go=po(2);function Xs(e,t){const r=t===1,n=r?yo:go,s=r?Fl:xl,a=r?Nl:Il;return{match:bt(function(o,i){const c=Ol.exec(i.prevCapture);return c&&(i.list||!i.inline&&!i.simple)?n.exec(o=c[1]+o):null}),order:1,parse(o,i,c){const u=r?+o[2]:void 0,d=o[0].replace(Wc,`
`).match(s);let f=!1;return{items:d.map(function(l,h){const m=a.exec(l)[0].length,$=new RegExp("^ {1,"+m+"}","gm"),p=l.replace($,"").replace(a,""),y=h===d.length-1,v=p.indexOf(`

`)!==-1||y&&f;f=v;const E=c.inline,b=c.list;let j;c.list=!0,v?(c.inline=!1,j=Jt(p)+`

`):(c.inline=!0,j=Jt(p));const C=i(j,c);return c.inline=E,c.list=b,C}),ordered:r,start:u}},render:(o,i,c)=>e(o.ordered?"ol":"ul",{key:c.key,start:o.type===K.orderedList?o.start:void 0},o.items.map(function(u,d){return e("li",{key:d},i(u,c))}))}}const Dl=new RegExp(`^\\[((?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['"]([\\s\\S]*?)['"])?\\s*\\)`),Al=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,$o=[to,ro,no,so,oo,ao,co,yo,go],Rl=[...$o,/^[^\n]+(?:  \n|\n{2,})/,hn,io,pn];function Jt(e){let t=e.length;for(;t>0&&e[t-1]<=" ";)t--;return e.slice(0,t)}function Ft(e){return e.replace(/[ÀÁÂÃÄÅàáâãäåæÆ]/g,"a").replace(/[çÇ]/g,"c").replace(/[ðÐ]/g,"d").replace(/[ÈÉÊËéèêë]/g,"e").replace(/[ÏïÎîÍíÌì]/g,"i").replace(/[Ññ]/g,"n").replace(/[øØœŒÕõÔôÓóÒò]/g,"o").replace(/[ÜüÛûÚúÙù]/g,"u").replace(/[ŸÿÝý]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function Ml(e){return _l.test(e)?"right":$l.test(e)?"center":vl.test(e)?"left":null}function Zs(e,t,r,n){const s=r.inTable;r.inTable=!0;let a=[[]],o="";function i(){if(!o)return;const c=a[a.length-1];c.push.apply(c,t(o,r)),o=""}return e.trim().split(/(`[^`]*`|\\\||\|)/).filter(Boolean).forEach((c,u,d)=>{c.trim()==="|"&&(i(),n)?u!==0&&u!==d.length-1&&a.push([]):o+=c}),i(),r.inTable=s,a}function Vl(e,t,r){r.inline=!0;const n=e[2]?e[2].replace(gl,"").split("|").map(Ml):[],s=e[3]?function(o,i,c){return o.trim().split(`
`).map(function(u){return Zs(u,i,c,!0)})}(e[3],t,r):[],a=Zs(e[1],t,r,!!s.length);return r.inline=!1,s.length?{align:n,cells:s,header:a,type:K.table}:{children:a,type:K.paragraph}}function Qs(e,t){return e.align[t]==null?{}:{textAlign:e.align[t]}}function bt(e){return e.inline=1,e}function qe(e){return bt(function(t,r){return r.inline?e.exec(t):null})}function Ke(e){return bt(function(t,r){return r.inline||r.simple?e.exec(t):null})}function Me(e){return function(t,r){return r.inline||r.simple?null:e.exec(t)}}function xt(e){return bt(function(t){return e.exec(t)})}function Ul(e,t){if(t.inline||t.simple)return null;let r="";e.split(`
`).every(s=>(s+=`
`,!$o.some(a=>a.test(s))&&(r+=s,!!s.trim())));const n=Jt(r);return n==""?null:[r,,n]}const Bl=/(javascript|vbscript|data(?!:image)):/i;function zl(e){try{const t=decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"");if(Bl.test(t))return null}catch{return null}return e}function ea(e){return e.replace(Tl,"$1")}function gr(e,t,r){const n=r.inline||!1,s=r.simple||!1;r.inline=!0,r.simple=!0;const a=e(t,r);return r.inline=n,r.simple=s,a}function Ll(e,t,r){const n=r.inline||!1,s=r.simple||!1;r.inline=!1,r.simple=!0;const a=e(t,r);return r.inline=n,r.simple=s,a}function ql(e,t,r){const n=r.inline||!1;r.inline=!1;const s=e(t,r);return r.inline=n,s}const en=(e,t,r)=>({children:gr(t,e[2],r)});function tn(){return{}}function rn(){return null}function Kl(...e){return e.filter(Boolean).join(" ")}function nn(e,t,r){let n=e;const s=t.split(".");for(;s.length&&(n=n[s[0]],n!==void 0);)s.shift();return n||r}function Wl(e="",t={}){function r(l,h,...m){const $=nn(t.overrides,`${l}.props`,{});return t.createElement(function(p,y){const v=nn(y,p);return v?typeof v=="function"||typeof v=="object"&&"render"in v?v:nn(y,`${p}.component`,p):p}(l,t.overrides),tt({},h,$,{className:Kl(h==null?void 0:h.className,$.className)||void 0}),...m)}function n(l){l=l.replace(nl,"");let h=!1;t.forceInline?h=!0:t.forceBlock||(h=pl.test(l)===!1);const m=u(c(h?l:`${Jt(l).replace(Cl,"")}

`,{inline:h}));for(;typeof m[m.length-1]=="string"&&!m[m.length-1].trim();)m.pop();if(t.wrapper===null)return m;const $=t.wrapper||(h?"span":"div");let p;if(m.length>1||t.forceWrapper)p=m;else{if(m.length===1)return p=m[0],typeof p=="string"?r("span",{key:"outer"},p):p;p=null}return t.createElement($,{key:"outer"},p)}function s(l,h){const m=h.match(qc);return m?m.reduce(function($,p){const y=p.indexOf("=");if(y!==-1){const v=function(C){return C.indexOf("-")!==-1&&C.match(ol)===null&&(C=C.replace(ul,function(T,x){return x.toUpperCase()})),C}(p.slice(0,y)).trim(),E=function(C){const T=C[0];return(T==='"'||T==="'")&&C.length>=2&&C[C.length-1]===T?C.slice(1,-1):C}(p.slice(y+1).trim()),b=Gs[v]||v;if(b==="ref")return $;const j=$[b]=function(C,T,x,I){return T==="style"?function(F){const D=[];let M="",L=!1,q=!1,z="";if(!F)return D;for(let ee=0;ee<F.length;ee++){const X=F[ee];if(X!=='"'&&X!=="'"||L||(q?X===z&&(q=!1,z=""):(q=!0,z=X)),X==="("&&M.endsWith("url")?L=!0:X===")"&&L&&(L=!1),X!==";"||q||L)M+=X;else{const ae=M.trim();if(ae){const N=ae.indexOf(":");if(N>0){const w=ae.slice(0,N).trim(),O=ae.slice(N+1).trim();D.push([w,O])}}M=""}}const A=M.trim();if(A){const ee=A.indexOf(":");if(ee>0){const X=A.slice(0,ee).trim(),ae=A.slice(ee+1).trim();D.push([X,ae])}}return D}(x).reduce(function(F,[D,M]){return F[D.replace(/(-[a-z])/g,L=>L[1].toUpperCase())]=I(M,C,D),F},{}):Lc.indexOf(T)!==-1?I(x,C,T):(x.match(il)&&(x=x.slice(1,x.length-1)),x==="true"||x!=="false"&&x)}(l,v,E,t.sanitizer);typeof j=="string"&&(hn.test(j)||pn.test(j))&&($[b]=n(j.trim()))}else p!=="style"&&($[Gs[p]||p]=!0);return $},{}):null}t.overrides=t.overrides||{},t.sanitizer=t.sanitizer||zl,t.slugify=t.slugify||Ft,t.namedCodesToUnicode=t.namedCodesToUnicode?tt({},Js,t.namedCodesToUnicode):Js,t.createElement=t.createElement||J.createElement;const a=[],o={},i={[K.blockQuote]:{match:Me(to),order:1,parse(l,h,m){const[,$,p]=l[0].replace(Hc,"").match(Gc);return{alert:$,children:h(p,m)}},render(l,h,m){const $={key:m.key};return l.alert&&($.className="markdown-alert-"+t.slugify(l.alert.toLowerCase(),Ft),l.children.unshift({attrs:{},children:[{type:K.text,text:l.alert}],noInnerParse:!0,type:K.htmlBlock,tag:"header"})),r("blockquote",$,h(l.children,m))}},[K.breakLine]:{match:xt(Jc),order:1,parse:tn,render:(l,h,m)=>r("br",{key:m.key})},[K.breakThematic]:{match:Me(Yc),order:1,parse:tn,render:(l,h,m)=>r("hr",{key:m.key})},[K.codeBlock]:{match:Me(no),order:0,parse:l=>({lang:void 0,text:Jt(l[0].replace(/^ {4}/gm,"")).replace(Ys,"$1")}),render:(l,h,m)=>r("pre",{key:m.key},r("code",tt({},l.attrs,{className:l.lang?`lang-${l.lang}`:""}),l.text))},[K.codeFenced]:{match:Me(ro),order:0,parse:l=>({attrs:s("code",l[3]||""),lang:l[2]||void 0,text:l[4],type:K.codeBlock})},[K.codeInline]:{match:Ke(Xc),order:3,parse:l=>({text:l[2].replace(Ys,"$1")}),render:(l,h,m)=>r("code",{key:m.key},l.text)},[K.footnote]:{match:Me(el),order:0,parse:l=>(a.push({footnote:l[2],identifier:l[1]}),{}),render:rn},[K.footnoteReference]:{match:qe(tl),order:1,parse:l=>({target:`#${t.slugify(l[1],Ft)}`,text:l[1]}),render:(l,h,m)=>r("a",{key:m.key,href:t.sanitizer(l.target,"a","href")},r("sup",{key:m.key},l.text))},[K.gfmTask]:{match:qe(sl),order:1,parse:l=>({completed:l[1].toLowerCase()==="x"}),render:(l,h,m)=>r("input",{checked:l.completed,key:m.key,readOnly:!0,type:"checkbox"})},[K.heading]:{match:Me(t.enforceAtxHeadings?ao:so),order:1,parse:(l,h,m)=>({children:gr(h,l[2],m),id:t.slugify(l[2],Ft),level:l[1].length}),render:(l,h,m)=>r(`h${l.level}`,{id:l.id,key:m.key},h(l.children,m))},[K.headingSetext]:{match:Me(oo),order:0,parse:(l,h,m)=>({children:gr(h,l[1],m),level:l[2]==="="?1:2,type:K.heading})},[K.htmlBlock]:{match:xt(hn),order:1,parse(l,h,m){const[,$]=l[3].match(Pl),p=new RegExp(`^${$}`,"gm"),y=l[3].replace(p,""),v=(E=y,Rl.some(x=>x.test(E))?ql:gr);var E;const b=l[1].toLowerCase(),j=zc.indexOf(b)!==-1,C=(j?b:l[1]).trim(),T={attrs:s(C,l[2]),noInnerParse:j,tag:C};return m.inAnchor=m.inAnchor||b==="a",j?T.text=l[3]:T.children=v(h,y,m),m.inAnchor=!1,T},render:(l,h,m)=>r(l.tag,tt({key:m.key},l.attrs),l.text||(l.children?h(l.children,m):""))},[K.htmlSelfClosing]:{match:xt(pn),order:1,parse(l){const h=l[1].trim();return{attrs:s(h,l[2]||""),tag:h}},render:(l,h,m)=>r(l.tag,tt({},l.attrs,{key:m.key}))},[K.htmlComment]:{match:xt(io),order:1,parse:()=>({}),render:rn},[K.image]:{match:Ke(Al),order:1,parse:l=>({alt:l[1],target:ea(l[2]),title:l[3]}),render:(l,h,m)=>r("img",{key:m.key,alt:l.alt||void 0,title:l.title||void 0,src:t.sanitizer(l.target,"img","src")})},[K.link]:{match:qe(Dl),order:3,parse:(l,h,m)=>({children:Ll(h,l[1],m),target:ea(l[2]),title:l[3]}),render:(l,h,m)=>r("a",{key:m.key,href:t.sanitizer(l.target,"a","href"),title:l.title},h(l.children,m))},[K.linkAngleBraceStyleDetector]:{match:qe(dl),order:0,parse:l=>({children:[{text:l[1],type:K.text}],target:l[1],type:K.link})},[K.linkBareUrlDetector]:{match:bt((l,h)=>h.inAnchor||t.disableAutoLink?null:qe(cl)(l,h)),order:0,parse:l=>({children:[{text:l[1],type:K.text}],target:l[1],title:void 0,type:K.link})},[K.linkMailtoDetector]:{match:qe(ll),order:0,parse(l){let h=l[1],m=l[1];return Kc.test(m)||(m="mailto:"+m),{children:[{text:h.replace("mailto:",""),type:K.text}],target:m,type:K.link}}},[K.orderedList]:Xs(r,1),[K.unorderedList]:Xs(r,2),[K.newlineCoalescer]:{match:Me(Zc),order:3,parse:tn,render:()=>`
`},[K.paragraph]:{match:bt(Ul),order:3,parse:en,render:(l,h,m)=>r("p",{key:m.key},h(l.children,m))},[K.ref]:{match:qe(fl),order:0,parse:l=>(o[l[1]]={target:l[2],title:l[4]},{}),render:rn},[K.refImage]:{match:Ke(ml),order:0,parse:l=>({alt:l[1]||void 0,ref:l[2]}),render:(l,h,m)=>o[l.ref]?r("img",{key:m.key,alt:l.alt,src:t.sanitizer(o[l.ref].target,"img","src"),title:o[l.ref].title}):null},[K.refLink]:{match:qe(hl),order:0,parse:(l,h,m)=>({children:h(l[1],m),fallbackChildren:l[0],ref:l[2]}),render:(l,h,m)=>o[l.ref]?r("a",{key:m.key,href:t.sanitizer(o[l.ref].target,"a","href"),title:o[l.ref].title},h(l.children,m)):r("span",{key:m.key},l.fallbackChildren)},[K.table]:{match:Me(co),order:1,parse:Vl,render(l,h,m){const $=l;return r("table",{key:m.key},r("thead",null,r("tr",null,$.header.map(function(p,y){return r("th",{key:y,style:Qs($,y)},h(p,m))}))),r("tbody",null,$.cells.map(function(p,y){return r("tr",{key:y},p.map(function(v,E){return r("td",{key:E,style:Qs($,E)},h(v,m))}))})))}},[K.text]:{match:xt(kl),order:4,parse:l=>({text:l[0].replace(al,(h,m)=>t.namedCodesToUnicode[m]?t.namedCodesToUnicode[m]:h)}),render:l=>l.text},[K.textBolded]:{match:Ke(bl),order:2,parse:(l,h,m)=>({children:h(l[2],m)}),render:(l,h,m)=>r("strong",{key:m.key},h(l.children,m))},[K.textEmphasized]:{match:Ke(Sl),order:3,parse:(l,h,m)=>({children:h(l[2],m)}),render:(l,h,m)=>r("em",{key:m.key},h(l.children,m))},[K.textEscaped]:{match:Ke(jl),order:1,parse:l=>({text:l[1],type:K.text})},[K.textMarked]:{match:Ke(wl),order:3,parse:en,render:(l,h,m)=>r("mark",{key:m.key},h(l.children,m))},[K.textStrikethroughed]:{match:Ke(El),order:3,parse:en,render:(l,h,m)=>r("del",{key:m.key},h(l.children,m))}};t.disableParsingRawHTML===!0&&(delete i[K.htmlBlock],delete i[K.htmlSelfClosing]);const c=function(l){let h=Object.keys(l);function m($,p){let y,v,E=[],b="",j="";for(p.prevCapture=p.prevCapture||"";$;){let C=0;for(;C<h.length;){if(b=h[C],y=l[b],p.inline&&!y.match.inline){C++;continue}const T=y.match($,p);if(T){j=T[0],p.prevCapture+=j,$=$.substring(j.length),v=y.parse(T,m,p),v.type==null&&(v.type=b),E.push(v);break}C++}}return p.prevCapture="",E}return h.sort(function($,p){let y=l[$].order,v=l[p].order;return y!==v?y-v:$<p?-1:1}),function($,p){return m(function(y){return y.replace(Qc,`
`).replace(rl,"").replace(yl,"    ")}($),p)}}(i),u=(d=function(l,h){return function(m,$,p){const y=l[m.type].render;return h?h(()=>y(m,$,p),m,$,p):y(m,$,p)}}(i,t.renderRule),function l(h,m={}){if(Array.isArray(h)){const $=m.key,p=[];let y=!1;for(let v=0;v<h.length;v++){m.key=v;const E=l(h[v],m),b=typeof E=="string";b&&y?p[p.length-1]+=E:E!==null&&p.push(E),y=b}return m.key=$,p}return d(h,l,m)});var d;const f=n(e);return a.length?r("div",null,f,r("footer",{key:"footer"},a.map(function(l){return r("div",{id:t.slugify(l.identifier,Ft),key:l.identifier},l.identifier,u(c(l.footnote,{inline:!0})))}))):f}const Ar=e=>{let{children:t="",options:r}=e,n=function(s,a){if(s==null)return{};var o,i,c={},u=Object.keys(s);for(i=0;i<u.length;i++)a.indexOf(o=u[i])>=0||(c[o]=s[o]);return c}(e,Bc);return J.cloneElement(Wl(t,r),n)};class Hl extends J.Component{constructor(){super(...arguments);oe(this,"state",{wasPropertyKeyModified:!1,additionalProperties:{}});oe(this,"onPropertyChange",(r,n=!1)=>(s,a,o)=>{const{formData:i,onChange:c,errorSchema:u}=this.props;s===void 0&&n&&(s="");const d={...i,[r]:s};c(d,u&&u&&{...u,[r]:a},o)});oe(this,"onDropPropertyClick",r=>n=>{n.preventDefault();const{onChange:s,formData:a}=this.props,o={...a};uc(o,r),s(o)});oe(this,"getAvailableKey",(r,n)=>{const{uiSchema:s,registry:a}=this.props,{duplicateKeySuffixSeparator:o="-"}=te(s,a.globalUiOptions);let i=0,c=r;for(;Ne(n,c);)c=`${r}${o}${++i}`;return c});oe(this,"onKeyChange",r=>(n,s)=>{if(r===n)return;const{formData:a,onChange:o,errorSchema:i}=this.props;n=this.getAvailableKey(n,a);const c={...a},u={[r]:n},d=Object.keys(c).map(l=>({[u[l]||l]:c[l]})),f=Object.assign({},...d);this.setState({wasPropertyKeyModified:!0}),o(f,i&&i&&{...i,[n]:s})});oe(this,"handleAddClick",r=>()=>{if(!r.additionalProperties)return;const{formData:n,onChange:s,registry:a}=this.props,o={...n};let i,c,u;if(xe(r.additionalProperties)){i=r.additionalProperties.type,c=r.additionalProperties.const,u=r.additionalProperties.default;let l=r.additionalProperties;if(Fe in l){const{schemaUtils:h}=a;l=h.retrieveSchema({$ref:l[Fe]},n),i=l.type,c=l.const,u=l.default}!i&&($t in l||ot in l)&&(i="object")}const d=this.getAvailableKey("newKey",o),f=c??u??this.getDefaultValue(i);ge(o,d,f),s(o)})}isRequired(r){const{schema:n}=this.props;return Array.isArray(n.required)&&n.required.indexOf(r)!==-1}getDefaultValue(r){const{registry:{translateString:n}}=this.props;switch(r){case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};case"string":default:return n(ne.NewStringDefault)}}render(){const{schema:r,uiSchema:n={},formData:s,errorSchema:a,idSchema:o,name:i,required:c=!1,disabled:u,readonly:d,hideError:f,idPrefix:l,idSeparator:h,onBlur:m,onFocus:$,registry:p,title:y}=this.props,{fields:v,formContext:E,schemaUtils:b,translateString:j,globalUiOptions:C}=p,{SchemaField:T}=v,x=b.retrieveSchema(r,s),I=te(n,C),{properties:F={}}=x,D=I.title??x.title??y??i,M=I.description??x.description;let L;try{const A=Object.keys(F);L=Tc(A,I.order)}catch(A){return _.jsxs("div",{children:[_.jsx("p",{className:"config-error",style:{color:"red"},children:_.jsx(Ar,{options:{disableParsingRawHTML:!0},children:j(ne.InvalidObjectField,[i||"root",A.message])})}),_.jsx("pre",{children:JSON.stringify(x)})]})}const q=Q("ObjectFieldTemplate",p,I),z={title:I.label===!1?"":D,description:I.label===!1?void 0:M,properties:L.map(A=>{const ee=Ne(x,[Se,A,Zt]),X=ee?n.additionalProperties:n[A],ae=te(X).widget==="hidden",N=G(o,[A],{});return{content:_.jsx(T,{name:A,required:this.isRequired(A),schema:G(x,[Se,A],{}),uiSchema:X,errorSchema:G(a,A),idSchema:N,idPrefix:l,idSeparator:h,formData:G(s,A),formContext:E,wasPropertyKeyModified:this.state.wasPropertyKeyModified,onKeyChange:this.onKeyChange(A),onChange:this.onPropertyChange(A,ee),onBlur:m,onFocus:$,registry:p,disabled:u,readonly:d,hideError:f,onDropPropertyClick:this.onDropPropertyClick},A),name:A,readonly:d,disabled:u,required:c,hidden:ae}}),readonly:d,disabled:u,required:c,idSchema:o,uiSchema:n,errorSchema:a,schema:x,formData:s,formContext:E,registry:p};return _.jsx(q,{...z,onAddClick:this.handleAddClick})}}const Gl={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function Jl(e,t,r,n){const s=t.field,{fields:a,translateString:o}=n;if(typeof s=="function")return s;if(typeof s=="string"&&s in a)return a[s];const i=Xt(e),c=Array.isArray(i)?i[0]:i||"",u=e.$id;let d=Gl[c];return u&&u in a&&(d=u),!d&&(e.anyOf||e.oneOf)?()=>null:d in a?a[d]:()=>{const f=Q("UnsupportedFieldTemplate",n,t);return _.jsx(f,{schema:e,idSchema:r,reason:o(ne.UnknownFieldType,[String(e.type)]),registry:n})}}function Yl(e){const{schema:t,idSchema:r,uiSchema:n,formData:s,errorSchema:a,idPrefix:o,idSeparator:i,name:c,onChange:u,onKeyChange:d,onDropPropertyClick:f,required:l,registry:h,wasPropertyKeyModified:m=!1}=e,{formContext:$,schemaUtils:p,globalUiOptions:y}=h,v=te(n,y),E=Q("FieldTemplate",h,v),b=Q("DescriptionFieldTemplate",h,v),j=Q("FieldHelpTemplate",h,v),C=Q("FieldErrorTemplate",h,v),T=p.retrieveSchema(t,s),x=r[Ye],I=at(p.toIdSchema(T,x,s,o,i),r),F=J.useCallback((ke,Pt,Tt)=>u(ke,Pt,Tt||x),[x,u]),D=Jl(T,v,I,h),M=!!(v.disabled??e.disabled),L=!!(v.readonly??(e.readonly||e.schema.readOnly||T.readOnly)),q=v.hideError,z=q===void 0?e.hideError:!!q,A=!!(v.autofocus??e.autofocus);if(Object.keys(T).length===0)return null;const ee=p.getDisplayLabel(T,n,y),{__errors:X,...ae}=a||{},N=un(n,["ui:classNames","classNames","ui:style"]);hr in N&&(N[hr]=un(N[hr],["classNames","style"]));const w=_.jsx(D,{...e,onChange:F,idSchema:I,schema:T,uiSchema:N,disabled:M,readonly:L,hideError:z,autofocus:A,errorSchema:ae,formContext:$,rawErrors:X}),O=I[Ye];let k;m?k=c:k=Zt in T?c:v.title||e.schema.title||T.title||e.title||c;const g=v.description||e.schema.description||T.description||"",S=v.enableMarkdownInDescription?_.jsx(Ar,{options:{disableParsingRawHTML:!0},children:g}):g,P=v.help,V=v.widget==="hidden",U=["form-group","field",`field-${Xt(T)}`];!z&&X&&X.length>0&&U.push("field-error has-error has-danger"),n!=null&&n.classNames&&U.push(n.classNames),v.classNames&&U.push(v.classNames);const se=_.jsx(j,{help:P,idSchema:I,schema:T,uiSchema:n,hasErrors:!z&&X&&X.length>0,registry:h}),re=z||(T.anyOf||T.oneOf)&&!p.isSelect(T)?void 0:_.jsx(C,{errors:X,errorSchema:a,idSchema:I,schema:T,uiSchema:n,registry:h}),ue={description:_.jsx(b,{id:ut(O),description:S,schema:T,uiSchema:n,registry:h}),rawDescription:g,help:se,rawHelp:typeof P=="string"?P:void 0,errors:re,rawErrors:z?void 0:X,id:O,label:k,hidden:V,onChange:u,onKeyChange:d,onDropPropertyClick:f,required:l,disabled:M,readonly:L,hideError:z,displayLabel:ee,classNames:U.join(" ").trim(),style:v.style,formContext:$,formData:s,schema:T,uiSchema:n,registry:h},Le=h.fields.AnyOfField,Ct=h.fields.OneOfField,mt=(n==null?void 0:n["ui:field"])&&(n==null?void 0:n["ui:fieldReplacesAnyOrOneOf"])===!0;return _.jsx(E,{...ue,children:_.jsxs(_.Fragment,{children:[w,T.anyOf&&!mt&&!p.isSelect(T)&&_.jsx(Le,{name:c,disabled:M,readonly:L,hideError:z,errorSchema:a,formData:s,formContext:$,idPrefix:o,idSchema:I,idSeparator:i,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:T.anyOf.map(ke=>p.retrieveSchema(xe(ke)?ke:{},s)),registry:h,required:l,schema:T,uiSchema:n}),T.oneOf&&!mt&&!p.isSelect(T)&&_.jsx(Ct,{name:c,disabled:M,readonly:L,hideError:z,errorSchema:a,formData:s,formContext:$,idPrefix:o,idSchema:I,idSeparator:i,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:T.oneOf.map(ke=>p.retrieveSchema(xe(ke)?ke:{},s)),registry:h,required:l,schema:T,uiSchema:n})]})})}class Xl extends J.Component{shouldComponentUpdate(t){return!le(this.props,t)}render(){return _.jsx(Yl,{...this.props})}}function Zl(e){const{schema:t,name:r,uiSchema:n,idSchema:s,formData:a,required:o,disabled:i=!1,readonly:c=!1,autofocus:u=!1,onChange:d,onBlur:f,onFocus:l,registry:h,rawErrors:m,hideError:$}=e,{title:p,format:y}=t,{widgets:v,formContext:E,schemaUtils:b,globalUiOptions:j}=h,C=b.isSelect(t)?Er(t,n):void 0;let T=C?"select":"text";y&&Cc(t,y,v)&&(T=y);const{widget:x=T,placeholder:I="",title:F,...D}=te(n),M=b.getDisplayLabel(t,n,j),L=F??p??r,q=Ve(t,x,v);return _.jsx(q,{options:{...D,enumOptions:C},schema:t,uiSchema:n,id:s.$id,name:r,label:L,hideLabel:!M,hideError:$,value:a,onChange:d,onBlur:f,onFocus:l,required:o,disabled:i,readonly:c,formContext:E,autofocus:u,registry:h,placeholder:I,rawErrors:m})}function Ql(e){const{formData:t,onChange:r}=e;return J.useEffect(()=>{t===void 0&&r(null)},[t,r]),null}function ed(){return{AnyOfField:Ws,ArrayField:Ac,BooleanField:Rc,NumberField:Uc,ObjectField:Hl,OneOfField:Ws,SchemaField:Xl,StringField:Zl,NullField:Ql}}function td(e){const{idSchema:t,description:r,registry:n,schema:s,uiSchema:a}=e,o=te(a,n.globalUiOptions),{label:i=!0}=o;if(!r||!i)return null;const c=Q("DescriptionFieldTemplate",n,o);return _.jsx(c,{id:ut(t),description:r,schema:s,uiSchema:a,registry:n})}function rd(e){const{children:t,className:r,disabled:n,hasToolbar:s,hasMoveDown:a,hasMoveUp:o,hasRemove:i,hasCopy:c,index:u,onCopyIndexClick:d,onDropIndexClick:f,onReorderClick:l,readonly:h,registry:m,uiSchema:$}=e,{CopyButton:p,MoveDownButton:y,MoveUpButton:v,RemoveButton:E}=m.templates.ButtonTemplates,b={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return _.jsxs("div",{className:r,children:[_.jsx("div",{className:s?"col-xs-9":"col-xs-12",children:t}),s&&_.jsx("div",{className:"col-xs-3 array-item-toolbox",children:_.jsxs("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"},children:[(o||a)&&_.jsx(v,{style:b,disabled:n||h||!o,onClick:l(u,u-1),uiSchema:$,registry:m}),(o||a)&&_.jsx(y,{style:b,disabled:n||h||!a,onClick:l(u,u+1),uiSchema:$,registry:m}),c&&_.jsx(p,{style:b,disabled:n||h,onClick:d(u),uiSchema:$,registry:m}),i&&_.jsx(E,{style:b,disabled:n||h,onClick:f(u),uiSchema:$,registry:m})]})})]})}function nd(e){const{canAdd:t,className:r,disabled:n,idSchema:s,uiSchema:a,items:o,onAddClick:i,readonly:c,registry:u,required:d,schema:f,title:l}=e,h=te(a),m=Q("ArrayFieldDescriptionTemplate",u,h),$=Q("ArrayFieldItemTemplate",u,h),p=Q("ArrayFieldTitleTemplate",u,h),{ButtonTemplates:{AddButton:y}}=u.templates;return _.jsxs("fieldset",{className:r,id:s.$id,children:[_.jsx(p,{idSchema:s,title:h.title||l,required:d,schema:f,uiSchema:a,registry:u}),_.jsx(m,{idSchema:s,description:h.description||f.description,schema:f,uiSchema:a,registry:u}),_.jsx("div",{className:"row array-item-list",children:o&&o.map(({key:v,...E})=>_.jsx($,{...E},v))}),t&&_.jsx(y,{className:"array-item-add",onClick:i,disabled:n||c,uiSchema:a,registry:u})]})}function sd(e){const{idSchema:t,title:r,schema:n,uiSchema:s,required:a,registry:o}=e,i=te(s,o.globalUiOptions),{label:c=!0}=i;if(!r||!c)return null;const u=Q("TitleFieldTemplate",o,i);return _.jsx(u,{id:Fn(t),title:r,required:a,schema:n,uiSchema:s,registry:o})}function ad(e){const{id:t,name:r,value:n,readonly:s,disabled:a,autofocus:o,onBlur:i,onFocus:c,onChange:u,onChangeOverride:d,options:f,schema:l,uiSchema:h,formContext:m,registry:$,rawErrors:p,type:y,hideLabel:v,hideError:E,...b}=e;if(!t)throw console.log("No id for",e),new Error(`no id for props ${JSON.stringify(e)}`);const j={...b,...Qa(l,y,f)};let C;j.type==="number"||j.type==="integer"?C=n||n===0?n:"":C=n??"";const T=J.useCallback(({target:{value:F}})=>u(F===""?f.emptyValue:F),[u,f]),x=J.useCallback(({target:F})=>i(t,F&&F.value),[i,t]),I=J.useCallback(({target:F})=>c(t,F&&F.value),[c,t]);return _.jsxs(_.Fragment,{children:[_.jsx("input",{id:t,name:t,className:"form-control",readOnly:s,disabled:a,autoFocus:o,value:C,...j,list:l.examples?Ht(t):void 0,onChange:d||T,onBlur:x,onFocus:I,"aria-describedby":Ee(t,!!l.examples)}),Array.isArray(l.examples)&&_.jsx("datalist",{id:Ht(t),children:l.examples.concat(l.default&&!l.examples.includes(l.default)?[l.default]:[]).map(F=>_.jsx("option",{value:F},F))},`datalist_${t}`)]})}function od({uiSchema:e}){const{submitText:t,norender:r,props:n={}}=eo(e);return r?null:_.jsx("div",{children:_.jsx("button",{type:"submit",...n,className:`btn btn-info ${n.className||""}`,children:t})})}function rr(e){const{iconType:t="default",icon:r,className:n,uiSchema:s,registry:a,...o}=e;return _.jsx("button",{type:"button",className:`btn btn-${t} ${n}`,...o,children:_.jsx("i",{className:`glyphicon glyphicon-${r}`})})}function id(e){const{registry:{translateString:t}}=e;return _.jsx(rr,{title:t(ne.CopyButton),className:"array-item-copy",...e,icon:"copy"})}function cd(e){const{registry:{translateString:t}}=e;return _.jsx(rr,{title:t(ne.MoveDownButton),className:"array-item-move-down",...e,icon:"arrow-down"})}function ld(e){const{registry:{translateString:t}}=e;return _.jsx(rr,{title:t(ne.MoveUpButton),className:"array-item-move-up",...e,icon:"arrow-up"})}function dd(e){const{registry:{translateString:t}}=e;return _.jsx(rr,{title:t(ne.RemoveButton),className:"array-item-remove",...e,iconType:"danger",icon:"remove"})}function ud({className:e,onClick:t,disabled:r,registry:n}){const{translateString:s}=n;return _.jsx("div",{className:"row",children:_.jsx("p",{className:`col-xs-3 col-xs-offset-9 text-right ${e}`,children:_.jsx(rr,{iconType:"info",icon:"plus",className:"btn-add col-xs-12",title:s(ne.AddButton),onClick:t,disabled:r,registry:n})})})}function fd(){return{SubmitButton:od,AddButton:ud,CopyButton:id,MoveDownButton:cd,MoveUpButton:ld,RemoveButton:dd}}function md(e){const{id:t,description:r}=e;return r?typeof r=="string"?_.jsx("p",{id:t,className:"field-description",children:r}):_.jsx("div",{id:t,className:"field-description",children:r}):null}function hd({errors:e,registry:t}){const{translateString:r}=t;return _.jsxs("div",{className:"panel panel-danger errors",children:[_.jsx("div",{className:"panel-heading",children:_.jsx("h3",{className:"panel-title",children:r(ne.ErrorsLabel)})}),_.jsx("ul",{className:"list-group",children:e.map((n,s)=>_.jsx("li",{className:"list-group-item text-danger",children:n.stack},s))})]})}const pd="*";function vo(e){const{label:t,required:r,id:n}=e;return t?_.jsxs("label",{className:"control-label",htmlFor:n,children:[t,r&&_.jsx("span",{className:"required",children:pd})]}):null}function yd(e){const{id:t,label:r,children:n,errors:s,help:a,description:o,hidden:i,required:c,displayLabel:u,registry:d,uiSchema:f}=e,l=te(f),h=Q("WrapIfAdditionalTemplate",d,l);return i?_.jsx("div",{className:"hidden",children:n}):_.jsxs(h,{...e,children:[u&&_.jsx(vo,{label:r,required:c,id:t}),u&&o?o:null,n,s,a]})}function gd(e){const{errors:t=[],idSchema:r}=e;if(t.length===0)return null;const n=Nn(r);return _.jsx("div",{children:_.jsx("ul",{id:n,className:"error-detail bs-callout bs-callout-info",children:t.filter(s=>!!s).map((s,a)=>_.jsx("li",{className:"text-danger",children:s},a))})})}function $d(e){const{idSchema:t,help:r}=e;if(!r)return null;const n=In(t);return typeof r=="string"?_.jsx("p",{id:n,className:"help-block",children:r}):_.jsx("div",{id:n,className:"help-block",children:r})}function vd(e){const{description:t,disabled:r,formData:n,idSchema:s,onAddClick:a,properties:o,readonly:i,registry:c,required:u,schema:d,title:f,uiSchema:l}=e,h=te(l),m=Q("TitleFieldTemplate",c,h),$=Q("DescriptionFieldTemplate",c,h),{ButtonTemplates:{AddButton:p}}=c.templates;return _.jsxs("fieldset",{id:s.$id,children:[f&&_.jsx(m,{id:Fn(s),title:f,required:u,schema:d,uiSchema:l,registry:c}),t&&_.jsx($,{id:ut(s),description:t,schema:d,uiSchema:l,registry:c}),o.map(y=>y.content),Wa(d,l,n)&&_.jsx(p,{className:"object-property-expand",onClick:a(d),disabled:r||i,uiSchema:l,registry:c})]})}const _d="*";function bd(e){const{id:t,title:r,required:n}=e;return _.jsxs("legend",{id:t,children:[r,n&&_.jsx("span",{className:"required",children:_d})]})}function Sd(e){const{schema:t,idSchema:r,reason:n,registry:s}=e,{translateString:a}=s;let o=ne.UnsupportedField;const i=[];return r&&r.$id&&(o=ne.UnsupportedFieldWithId,i.push(r.$id)),n&&(o=o===ne.UnsupportedField?ne.UnsupportedFieldWithReason:ne.UnsupportedFieldWithIdAndReason,i.push(n)),_.jsxs("div",{className:"unsupported-field",children:[_.jsx("p",{children:_.jsx(Ar,{options:{disableParsingRawHTML:!0},children:a(o,i)})}),t&&_.jsx("pre",{children:JSON.stringify(t,null,2)})]})}function wd(e){const{id:t,classNames:r,style:n,disabled:s,label:a,onKeyChange:o,onDropPropertyClick:i,readonly:c,required:u,schema:d,children:f,uiSchema:l,registry:h}=e,{templates:m,translateString:$}=h,{RemoveButton:p}=m.ButtonTemplates,y=$(ne.KeyLabel,[a]);return Zt in d?_.jsx("div",{className:r,style:n,children:_.jsxs("div",{className:"row",children:[_.jsx("div",{className:"col-xs-5 form-additional",children:_.jsxs("div",{className:"form-group",children:[_.jsx(vo,{label:y,required:u,id:`${t}-key`}),_.jsx("input",{className:"form-control",type:"text",id:`${t}-key`,onBlur:({target:E})=>o(E&&E.value),defaultValue:a})]})}),_.jsx("div",{className:"form-additional form-group col-xs-5",children:f}),_.jsx("div",{className:"col-xs-2",children:_.jsx(p,{className:"array-item-remove btn-block",style:{border:"0"},disabled:s||c,onClick:i(a),uiSchema:l,registry:h})})]})}):_.jsx("div",{className:r,style:n,children:f})}function Ed(){return{ArrayFieldDescriptionTemplate:td,ArrayFieldItemTemplate:rd,ArrayFieldTemplate:nd,ArrayFieldTitleTemplate:sd,ButtonTemplates:fd(),BaseInputTemplate:ad,DescriptionFieldTemplate:md,ErrorListTemplate:hd,FieldTemplate:yd,FieldErrorTemplate:gd,FieldHelpTemplate:$d,ObjectFieldTemplate:vd,TitleFieldTemplate:bd,UnsupportedFieldTemplate:Sd,WrapIfAdditionalTemplate:wd}}function jd(e){return Object.values(e).every(t=>t!==-1)}function kd({type:e,range:t,value:r,select:n,rootId:s,name:a,disabled:o,readonly:i,autofocus:c,registry:u,onBlur:d,onFocus:f}){const l=s+"_"+e,{SelectWidget:h}=u.widgets;return _.jsx(h,{schema:{type:"integer"},id:l,name:a,className:"form-control",options:{enumOptions:Ja(t[0],t[1])},placeholder:e,value:r,disabled:o,readonly:i,autofocus:c,onChange:m=>n(e,m),onBlur:d,onFocus:f,registry:u,label:"","aria-describedby":Ee(s)})}function Cd({time:e=!1,disabled:t=!1,readonly:r=!1,autofocus:n=!1,options:s,id:a,name:o,registry:i,onBlur:c,onFocus:u,onChange:d,value:f}){const{translateString:l}=i,[h,m]=J.useState(f),[$,p]=J.useReducer((b,j)=>({...b,...j}),Qr(f,e));J.useEffect(()=>{const b=qs($,e);jd($)&&b!==f?d(b):h!==f&&(m(f),p(Qr(f,e)))},[e,f,d,$,h]);const y=J.useCallback((b,j)=>{p({[b]:j})},[]),v=J.useCallback(b=>{if(b.preventDefault(),t||r)return;const j=Qr(new Date().toJSON(),e);d(qs(j,e))},[t,r,e]),E=J.useCallback(b=>{b.preventDefault(),!(t||r)&&d(void 0)},[t,r,d]);return _.jsxs("ul",{className:"list-inline",children:[wc($,e,s.yearsRange,s.format).map((b,j)=>_.jsx("li",{className:"list-inline-item",children:_.jsx(kd,{rootId:a,name:o,select:y,...b,disabled:t,readonly:r,registry:i,onBlur:c,onFocus:u,autofocus:n&&j===0})},j)),(s.hideNowButton!=="undefined"?!s.hideNowButton:!0)&&_.jsx("li",{className:"list-inline-item",children:_.jsx("a",{href:"#",className:"btn btn-info btn-now",onClick:v,children:l(ne.NowLabel)})}),(s.hideClearButton!=="undefined"?!s.hideClearButton:!0)&&_.jsx("li",{className:"list-inline-item",children:_.jsx("a",{href:"#",className:"btn btn-warning btn-clear",onClick:E,children:l(ne.ClearLabel)})})]})}function Pd({time:e=!0,...t}){const{AltDateWidget:r}=t.registry.widgets;return _.jsx(r,{time:e,...t})}function Td({schema:e,uiSchema:t,options:r,id:n,value:s,disabled:a,readonly:o,label:i,hideLabel:c,autofocus:u=!1,onBlur:d,onFocus:f,onChange:l,registry:h}){const m=Q("DescriptionFieldTemplate",h,r),$=Ut(e),p=J.useCallback(b=>l(b.target.checked),[l]),y=J.useCallback(b=>d(n,b.target.checked),[d,n]),v=J.useCallback(b=>f(n,b.target.checked),[f,n]),E=r.description??e.description;return _.jsxs("div",{className:`checkbox ${a||o?"disabled":""}`,children:[!c&&!!E&&_.jsx(m,{id:ut(n),description:E,schema:e,uiSchema:t,registry:h}),_.jsxs("label",{children:[_.jsx("input",{type:"checkbox",id:n,name:n,checked:typeof s>"u"?!1:s,required:$,disabled:a||o,autoFocus:u,onChange:p,onBlur:y,onFocus:v,"aria-describedby":Ee(n)}),ft(_.jsx("span",{children:i}),c)]})]})}function Od({id:e,disabled:t,options:{inline:r=!1,enumOptions:n,enumDisabled:s,emptyValue:a},value:o,autofocus:i=!1,readonly:c,onChange:u,onBlur:d,onFocus:f}){const l=Array.isArray(o)?o:[o],h=J.useCallback(({target:$})=>d(e,me($&&$.value,n,a)),[d,e]),m=J.useCallback(({target:$})=>f(e,me($&&$.value,n,a)),[f,e]);return _.jsx("div",{className:"checkboxes",id:e,children:Array.isArray(n)&&n.map(($,p)=>{const y=Fr($.value,l),v=Array.isArray(s)&&s.indexOf($.value)!==-1,E=t||v||c?"disabled":"",b=C=>{C.target.checked?u(Xa(p,l,n)):u(Ya(p,l,n))},j=_.jsxs("span",{children:[_.jsx("input",{type:"checkbox",id:xr(e,p),name:e,checked:y,value:String(p),disabled:t||v||c,autoFocus:i&&p===0,onChange:b,onBlur:h,onFocus:m,"aria-describedby":Ee(e)}),_.jsx("span",{children:$.label})]});return r?_.jsx("label",{className:`checkbox-inline ${E}`,children:j},p):_.jsx("div",{className:`checkbox ${E}`,children:_.jsx("label",{children:j})},p)})})}function Nd(e){const{disabled:t,readonly:r,options:n,registry:s}=e,a=Q("BaseInputTemplate",s,n);return _.jsx(a,{type:"color",...e,disabled:t||r})}function Id(e){const{onChange:t,options:r,registry:n}=e,s=Q("BaseInputTemplate",n,r),a=J.useCallback(o=>t(o||void 0),[t]);return _.jsx(s,{type:"date",...e,onChange:a})}function Fd(e){const{onChange:t,value:r,options:n,registry:s}=e,a=Q("BaseInputTemplate",s,n);return _.jsx(a,{type:"datetime-local",...e,value:Ic(r),onChange:o=>t(Pc(o))})}function xd(e){const{options:t,registry:r}=e,n=Q("BaseInputTemplate",r,t);return _.jsx(n,{type:"email",...e})}function Dd(e,t){return e===null?null:e.replace(";base64",`;name=${encodeURIComponent(t)};base64`)}function Ad(e){const{name:t,size:r,type:n}=e;return new Promise((s,a)=>{const o=new window.FileReader;o.onerror=a,o.onload=i=>{var c;typeof((c=i.target)==null?void 0:c.result)=="string"?s({dataURL:Dd(i.target.result,t),name:t,size:r,type:n}):s({dataURL:null,name:t,size:r,type:n})},o.readAsDataURL(e)})}function Rd(e){return Promise.all(Array.from(e).map(Ad))}function Md({fileInfo:e,registry:t}){const{translateString:r}=t,{dataURL:n,type:s,name:a}=e;return n?["image/jpeg","image/png"].includes(s)?_.jsx("img",{src:n,style:{maxWidth:"100%"},className:"file-preview"}):_.jsxs(_.Fragment,{children:[" ",_.jsx("a",{download:`preview-${a}`,href:n,className:"file-download",children:r(ne.PreviewLabel)})]}):null}function Vd({filesInfo:e,registry:t,preview:r,onRemove:n,options:s}){if(e.length===0)return null;const{translateString:a}=t,{RemoveButton:o}=Q("ButtonTemplates",t,s);return _.jsx("ul",{className:"file-info",children:e.map((i,c)=>{const{name:u,size:d,type:f}=i,l=()=>n(c);return _.jsxs("li",{children:[_.jsx(Ar,{children:a(ne.FilesInfo,[u,f,String(d)])}),r&&_.jsx(Md,{fileInfo:i,registry:t}),_.jsx(o,{onClick:l,registry:t})]},c)})})}function Ud(e){return e.reduce((t,r)=>{if(!r)return t;try{const{blob:n,name:s}=vc(r);return[...t,{dataURL:r,name:s,size:n.size,type:n.type}]}catch{return t}},[])}function Bd(e){const{disabled:t,readonly:r,required:n,multiple:s,onChange:a,value:o,options:i,registry:c}=e,u=Q("BaseInputTemplate",c,i),d=J.useCallback(h=>{h.target.files&&Rd(h.target.files).then(m=>{const $=m.map(p=>p.dataURL);a(s?o.concat($):$[0])})},[s,o,a]),f=J.useMemo(()=>Ud(Array.isArray(o)?o:[o]),[o]),l=J.useCallback(h=>{if(s){const m=o.filter(($,p)=>p!==h);a(m)}else a(void 0)},[s,o,a]);return _.jsxs("div",{children:[_.jsx(u,{...e,disabled:t||r,type:"file",required:o?!1:n,onChangeOverride:d,value:"",accept:i.accept?String(i.accept):void 0}),_.jsx(Vd,{filesInfo:f,onRemove:l,registry:c,preview:i.filePreview,options:i})]})}function zd({id:e,value:t}){return _.jsx("input",{type:"hidden",id:e,name:e,value:typeof t>"u"?"":t})}function Ld(e){const{options:t,registry:r}=e,n=Q("BaseInputTemplate",r,t);return _.jsx(n,{type:"password",...e})}function qd({options:e,value:t,required:r,disabled:n,readonly:s,autofocus:a=!1,onBlur:o,onFocus:i,onChange:c,id:u}){const{enumOptions:d,enumDisabled:f,inline:l,emptyValue:h}=e,m=J.useCallback(({target:p})=>o(u,me(p&&p.value,d,h)),[o,u]),$=J.useCallback(({target:p})=>i(u,me(p&&p.value,d,h)),[i,u]);return _.jsx("div",{className:"field-radio-group",id:u,children:Array.isArray(d)&&d.map((p,y)=>{const v=Fr(p.value,t),E=Array.isArray(f)&&f.indexOf(p.value)!==-1,b=n||E||s?"disabled":"",j=()=>c(p.value),C=_.jsxs("span",{children:[_.jsx("input",{type:"radio",id:xr(u,y),checked:v,name:u,required:r,value:String(y),disabled:n||E||s,autoFocus:a&&y===0,onChange:j,onBlur:m,onFocus:$,"aria-describedby":Ee(u)}),_.jsx("span",{children:p.label})]});return l?_.jsx("label",{className:`radio-inline ${b}`,children:C},y):_.jsx("div",{className:`radio ${b}`,children:_.jsx("label",{children:C})},y)})})}function Kd(e){const{value:t,registry:{templates:{BaseInputTemplate:r}}}=e;return _.jsxs("div",{className:"field-range-wrapper",children:[_.jsx(r,{type:"range",...e}),_.jsx("span",{className:"range-view",children:t})]})}function sn(e,t){return t?Array.from(e.target.options).slice().filter(r=>r.selected).map(r=>r.value):e.target.value}function Wd({schema:e,id:t,options:r,value:n,required:s,disabled:a,readonly:o,multiple:i=!1,autofocus:c=!1,onChange:u,onBlur:d,onFocus:f,placeholder:l}){const{enumOptions:h,enumDisabled:m,emptyValue:$}=r,p=i?[]:"",y=J.useCallback(C=>{const T=sn(C,i);return f(t,me(T,h,$))},[f,t,e,i,h,$]),v=J.useCallback(C=>{const T=sn(C,i);return d(t,me(T,h,$))},[d,t,e,i,h,$]),E=J.useCallback(C=>{const T=sn(C,i);return u(me(T,h,$))},[u,e,i,h,$]),b=On(n,h,i),j=!i&&e.default===void 0;return _.jsxs("select",{id:t,name:t,multiple:i,className:"form-control",value:typeof b>"u"?p:b,required:s,disabled:a||o,autoFocus:c,onBlur:v,onFocus:y,onChange:E,"aria-describedby":Ee(t),children:[j&&_.jsx("option",{value:"",children:l}),Array.isArray(h)&&h.map(({value:C,label:T},x)=>{const I=m&&m.indexOf(C)!==-1;return _.jsx("option",{value:String(x),disabled:I,children:T},x)})]})}function _o({id:e,options:t={},placeholder:r,value:n,required:s,disabled:a,readonly:o,autofocus:i=!1,onChange:c,onBlur:u,onFocus:d}){const f=J.useCallback(({target:{value:m}})=>c(m===""?t.emptyValue:m),[c,t.emptyValue]),l=J.useCallback(({target:m})=>u(e,m&&m.value),[u,e]),h=J.useCallback(({target:m})=>d(e,m&&m.value),[e,d]);return _.jsx("textarea",{id:e,name:e,className:"form-control",value:n||"",placeholder:r,required:s,disabled:a,readOnly:o,autoFocus:i,rows:t.rows,onBlur:l,onFocus:h,onChange:f,"aria-describedby":Ee(e)})}_o.defaultProps={autofocus:!1,options:{}};function Hd(e){const{options:t,registry:r}=e,n=Q("BaseInputTemplate",r,t);return _.jsx(n,{...e})}function Gd(e){const{onChange:t,options:r,registry:n}=e,s=Q("BaseInputTemplate",n,r),a=J.useCallback(o=>t(o?`${o}:00`:void 0),[t]);return _.jsx(s,{type:"time",...e,onChange:a})}function Jd(e){const{options:t,registry:r}=e,n=Q("BaseInputTemplate",r,t);return _.jsx(n,{type:"url",...e})}function Yd(e){const{options:t,registry:r}=e,n=Q("BaseInputTemplate",r,t);return _.jsx(n,{type:"number",...e})}function Xd(){return{AltDateWidget:Cd,AltDateTimeWidget:Pd,CheckboxWidget:Td,CheckboxesWidget:Od,ColorWidget:Nd,DateWidget:Id,DateTimeWidget:Fd,EmailWidget:xd,FileWidget:Bd,HiddenWidget:zd,PasswordWidget:Ld,RadioWidget:qd,RangeWidget:Kd,SelectWidget:Wd,TextWidget:Hd,TextareaWidget:_o,TimeWidget:Gd,UpDownWidget:Yd,URLWidget:Jd}}function Zd(){return{fields:ed(),templates:Ed(),widgets:Xd(),rootSchema:{},formContext:{},translateString:bc}}class Qd extends J.Component{constructor(r){super(r);oe(this,"formElement");oe(this,"getUsedFormData",(r,n)=>{if(n.length===0&&typeof r!="object")return r;const s=Us(r,n);return Array.isArray(r)?Object.keys(s).map(a=>s[a]):s});oe(this,"getFieldNames",(r,n)=>{const s=(a,o=[],i=[[]])=>(Object.keys(a).forEach(c=>{if(typeof a[c]=="object"){const u=i.map(d=>[...d,c]);a[c][jn]&&a[c][mr]!==""?o.push(a[c][mr]):s(a[c],o,u)}else c===mr&&a[c]!==""&&i.forEach(u=>{const d=G(n,u);(typeof d!="object"||Nr(d)||Array.isArray(d)&&d.every(f=>typeof f!="object"))&&o.push(u)})}),o);return s(r)});oe(this,"omitExtraData",r=>{const{schema:n,schemaUtils:s}=this.state,a=s.retrieveSchema(n,r),o=s.toPathSchema(a,"",r),i=this.getFieldNames(o,r);return this.getUsedFormData(r,i)});oe(this,"onChange",(r,n,s)=>{const{extraErrors:a,omitExtraData:o,liveOmit:i,noValidate:c,liveValidate:u,onChange:d}=this.props,{schemaUtils:f,schema:l}=this.state;let h=this.state.retrievedSchema;if(Vt(r)||Array.isArray(r)){const y=this.getStateFromProps(this.props,r);r=y.formData,h=y.retrievedSchema}const m=!c&&u;let $={formData:r,schema:l},p=r;if(o===!0&&i===!0&&(p=this.omitExtraData(r),$={formData:p}),m){const y=this.validate(p,l,f,h);let v=y.errors,E=y.errorSchema;const b=v,j=E;if(a){const C=yr(y,a);E=C.errorSchema,v=C.errors}if(n){const C=this.filterErrorsBasedOnSchema(n,h,p);E=at(E,C,"preventDuplicates")}$={formData:p,errors:v,errorSchema:E,schemaValidationErrors:b,schemaValidationErrorSchema:j}}else if(!c&&n){const y=a?at(n,a,"preventDuplicates"):n;$={formData:p,errorSchema:y,errors:Gt(y)}}this.setState($,()=>d&&d({...this.state,...$},s))});oe(this,"reset",()=>{const{onChange:r}=this.props,a={formData:this.getStateFromProps(this.props,void 0).formData,errorSchema:{},errors:[],schemaValidationErrors:[],schemaValidationErrorSchema:{}};this.setState(a,()=>r&&r({...this.state,...a}))});oe(this,"onBlur",(r,n)=>{const{onBlur:s}=this.props;s&&s(r,n)});oe(this,"onFocus",(r,n)=>{const{onFocus:s}=this.props;s&&s(r,n)});oe(this,"onSubmit",r=>{if(r.preventDefault(),r.target!==r.currentTarget)return;r.persist();const{omitExtraData:n,extraErrors:s,noValidate:a,onSubmit:o}=this.props;let{formData:i}=this.state;if(n===!0&&(i=this.omitExtraData(i)),a||this.validateFormWithFormData(i)){const c=s||{},u=s?Gt(s):[];this.setState({formData:i,errors:u,errorSchema:c,schemaValidationErrors:[],schemaValidationErrorSchema:{}},()=>{o&&o({...this.state,formData:i,status:"submitted"},r)})}});oe(this,"submit",()=>{if(this.formElement.current){const r=new CustomEvent("submit",{cancelable:!0});r.preventDefault(),this.formElement.current.dispatchEvent(r),this.formElement.current.requestSubmit()}});oe(this,"validateFormWithFormData",r=>{const{extraErrors:n,extraErrorsBlockSubmit:s,focusOnFirstError:a,onError:o}=this.props,{errors:i}=this.state,c=this.validate(r);let u=c.errors,d=c.errorSchema;const f=u,l=d,h=u.length>0||n&&s;if(h){if(n){const m=yr(c,n);d=m.errorSchema,u=m.errors}a&&(typeof a=="function"?a(u[0]):this.focusOnError(u[0])),this.setState({errors:u,errorSchema:d,schemaValidationErrors:f,schemaValidationErrorSchema:l},()=>{o?o(u):console.error("Form validation failed",u)})}else i.length>0&&this.setState({errors:[],errorSchema:{},schemaValidationErrors:[],schemaValidationErrorSchema:{}});return!h});if(!r.validator)throw new Error("A validator is required for Form functionality to work");this.state=this.getStateFromProps(r,r.formData),this.props.onChange&&!le(this.state.formData,this.props.formData)&&this.props.onChange(this.state),this.formElement=J.createRef()}getSnapshotBeforeUpdate(r,n){if(!le(this.props,r)){const s=Dc(this.props.formData,r.formData),a=!le(r.schema,this.props.schema),o=s.length>0||!le(r.formData,this.props.formData),i=this.getStateFromProps(this.props,this.props.formData,a||o?void 0:this.state.retrievedSchema,a,s),c=!le(i,n);return{nextState:i,shouldUpdate:c}}return{shouldUpdate:!1}}componentDidUpdate(r,n,s){if(s.shouldUpdate){const{nextState:a}=s;!le(a.formData,this.props.formData)&&!le(a.formData,n.formData)&&this.props.onChange&&this.props.onChange(a),this.setState(a)}}getStateFromProps(r,n,s,a=!1,o=[]){var F;const i=this.state||{},c="schema"in r?r.schema:this.props.schema,u=("uiSchema"in r?r.uiSchema:this.props.uiSchema)||{},d=typeof n<"u",f="liveValidate"in r?r.liveValidate:this.props.liveValidate,l=d&&!r.noValidate&&f,h=c,m="experimental_defaultFormStateBehavior"in r?r.experimental_defaultFormStateBehavior:this.props.experimental_defaultFormStateBehavior,$="experimental_customMergeAllOf"in r?r.experimental_customMergeAllOf:this.props.experimental_customMergeAllOf;let p=i.schemaUtils;(!p||p.doesSchemaUtilsDiffer(r.validator,h,m,$))&&(p=$c(r.validator,h,m,$));const y=p.getDefaultFormState(c,n),v=this.updateRetrievedSchema(s??p.retrieveSchema(c,y)),E=()=>r.noValidate||a?{errors:[],errorSchema:{}}:r.liveValidate?{errors:i.errors||[],errorSchema:i.errorSchema||{}}:{errors:i.schemaValidationErrors||[],errorSchema:i.schemaValidationErrorSchema||{}};let b,j,C=i.schemaValidationErrors,T=i.schemaValidationErrorSchema;if(l){const D=this.validate(y,c,p,v);b=D.errors,s===void 0?j=D.errorSchema:j=at((F=this.state)==null?void 0:F.errorSchema,D.errorSchema,"preventDuplicates"),C=b,T=j}else{const D=E();if(b=D.errors,j=D.errorSchema,o.length>0){const M=o.reduce((L,q)=>(L[q]=void 0,L),{});j=T=at(D.errorSchema,M,"preventDuplicates")}}if(r.extraErrors){const D=yr({errorSchema:j,errors:b},r.extraErrors);j=D.errorSchema,b=D.errors}const x=p.toIdSchema(v,u["ui:rootFieldId"],y,r.idPrefix,r.idSeparator);return{schemaUtils:p,schema:c,uiSchema:u,idSchema:x,formData:y,edit:d,errors:b,errorSchema:j,schemaValidationErrors:C,schemaValidationErrorSchema:T,retrievedSchema:v}}shouldComponentUpdate(r,n){return Oc(this,r,n)}getPreviousCustomValidateErrors(){const{customValidate:r,uiSchema:n}=this.props,s=this.state.formData;let a={};if(typeof r=="function"){const o=r(s,jr(s),n);a=xn(o)}return a}validate(r,n=this.props.schema,s,a){const o=s||this.state.schemaUtils,{customValidate:i,transformErrors:c,uiSchema:u}=this.props,d=a??o.retrieveSchema(n,r);return o.getValidator().validateFormData(r,d,i,c,u)}renderErrors(r){const{errors:n,errorSchema:s,schema:a,uiSchema:o}=this.state,{formContext:i}=this.props,c=te(o),u=Q("ErrorListTemplate",r,c);return n&&n.length?_.jsx(u,{errors:n,errorSchema:s||{},schema:a,uiSchema:o,formContext:i,registry:r}):null}filterErrorsBasedOnSchema(r,n,s){const{retrievedSchema:a,schemaUtils:o}=this.state,i=n??a,c=o.toPathSchema(i,"",s),u=this.getFieldNames(c,s),d=Us(r,u);(n==null?void 0:n.type)!=="object"&&(n==null?void 0:n.type)!=="array"&&(d.__errors=r.__errors);const f=this.getPreviousCustomValidateErrors(),l=(m=[],$)=>m.length===0?m:m.filter(p=>!$.includes(p)),h=(m,$={})=>(lc(m,(p,y)=>{const v=$[y];Aa(p)||Array.isArray(p)&&p.length===0?delete m[y]:Vt(p)&&Vt(v)&&Array.isArray(v==null?void 0:v.__errors)?m[y]=l(p.__errors,v.__errors):typeof p=="object"&&!Array.isArray(p.__errors)&&h(p,$[y])}),m);return h(d,f)}updateRetrievedSchema(r){var s;return le(r,(s=this.state)==null?void 0:s.retrievedSchema)?this.state.retrievedSchema:r}getRegistry(){var d;const{translateString:r,uiSchema:n={}}=this.props,{schemaUtils:s}=this.state,{fields:a,templates:o,widgets:i,formContext:c,translateString:u}=Zd();return{fields:{...a,...this.props.fields},templates:{...o,...this.props.templates,ButtonTemplates:{...o.ButtonTemplates,...(d=this.props.templates)==null?void 0:d.ButtonTemplates}},widgets:{...i,...this.props.widgets},rootSchema:this.props.schema,formContext:this.props.formContext||c,schemaUtils:s,translateString:r||u,globalUiOptions:n[xi]}}focusOnError(r){const{idPrefix:n="root",idSeparator:s="_"}=this.props,{property:a}=r,o=Ka(a);o[0]===""?o[0]=n:o.unshift(n);const i=o.join(s);let c=this.formElement.current.elements[i];c||(c=this.formElement.current.querySelector(`input[id^="${i}"`)),c&&c.length&&(c=c[0]),c&&c.focus()}validateForm(){const{omitExtraData:r}=this.props;let{formData:n}=this.state;return r===!0&&(n=this.omitExtraData(n)),this.validateFormWithFormData(n)}render(){const{children:r,id:n,idPrefix:s,idSeparator:a,className:o="",tagName:i,name:c,method:u,target:d,action:f,autoComplete:l,enctype:h,acceptcharset:m,acceptCharset:$,noHtml5Validate:p=!1,disabled:y,readonly:v,formContext:E,showErrorList:b="top",_internalFormWrapper:j}=this.props,{schema:C,uiSchema:T,formData:x,errorSchema:I,idSchema:F}=this.state,D=this.getRegistry(),{SchemaField:M}=D.fields,{SubmitButton:L}=D.templates.ButtonTemplates,q=j?i:void 0,z=j||i||"form";let{[wr]:A={}}=te(T);y&&(A={...A,props:{...A.props,disabled:!0}});const ee={[hr]:{[wr]:A}};return _.jsxs(z,{className:o||"rjsf",id:n,name:c,method:u,target:d,action:f,autoComplete:l,encType:h,acceptCharset:$||m,noValidate:p,onSubmit:this.onSubmit,as:q,ref:this.formElement,children:[b==="top"&&this.renderErrors(D),_.jsx(M,{name:"",schema:C,uiSchema:T,errorSchema:I,idSchema:F,idPrefix:s,idSeparator:a,formContext:E,formData:x,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:D,disabled:y,readonly:v}),r||_.jsx(L,{uiSchema:ee,registry:D}),b==="bottom"&&this.renderErrors(D)]})}}function eu(e){return J.forwardRef(({fields:t,widgets:r,templates:n,...s},a)=>{var o;return t={...e==null?void 0:e.fields,...t},r={...e==null?void 0:e.widgets,...r},n={...e==null?void 0:e.templates,...n,ButtonTemplates:{...(o=e==null?void 0:e.templates)==null?void 0:o.ButtonTemplates,...n==null?void 0:n.ButtonTemplates}},_.jsx(Qd,{...e,...s,fields:t,widgets:r,templates:n,ref:a})})}var Mn={},tu=Qt;Object.defineProperty(Mn,"__esModule",{value:!0});var bo=Mn.default=void 0,ru=tu(er()),nu=_;bo=Mn.default=(0,ru.default)((0,nu.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");function su({uiSchema:e,registry:t,...r}){const{translateString:n}=t;return _.jsx(Va,{title:n(ne.AddItemButton),...r,color:"primary",children:_.jsx(bo,{})})}function au(e){const{children:t,disabled:r,hasToolbar:n,hasCopy:s,hasMoveDown:a,hasMoveUp:o,hasRemove:i,index:c,onCopyIndexClick:u,onDropIndexClick:d,onReorderClick:f,readonly:l,uiSchema:h,registry:m}=e,{CopyButton:$,MoveDownButton:p,MoveUpButton:y,RemoveButton:v}=m.templates.ButtonTemplates,E={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold",minWidth:0};return _.jsxs(we,{container:!0,alignItems:"center",children:[_.jsx(we,{item:!0,xs:!0,style:{overflow:"auto"},children:_.jsx(ct,{mb:2,children:_.jsx(kn,{elevation:2,children:_.jsx(ct,{p:2,children:t})})})}),n&&_.jsxs(we,{item:!0,children:[(o||a)&&_.jsx(y,{style:E,disabled:r||l||!o,onClick:f(c,c-1),uiSchema:h,registry:m}),(o||a)&&_.jsx(p,{style:E,disabled:r||l||!a,onClick:f(c,c+1),uiSchema:h,registry:m}),s&&_.jsx($,{style:E,disabled:r||l,onClick:u(c),uiSchema:h,registry:m}),i&&_.jsx(v,{style:E,disabled:r||l,onClick:d(c),uiSchema:h,registry:m})]})]})}function ou(e){const{canAdd:t,disabled:r,idSchema:n,uiSchema:s,items:a,onAddClick:o,readonly:i,registry:c,required:u,schema:d,title:f}=e,l=te(s),h=Q("ArrayFieldDescriptionTemplate",c,l),m=Q("ArrayFieldItemTemplate",c,l),$=Q("ArrayFieldTitleTemplate",c,l),{ButtonTemplates:{AddButton:p}}=c.templates;return _.jsx(kn,{elevation:2,children:_.jsxs(ct,{p:2,children:[_.jsx($,{idSchema:n,title:l.title||f,schema:d,uiSchema:s,required:u,registry:c}),_.jsx(h,{idSchema:n,description:l.description||d.description,schema:d,uiSchema:s,registry:c}),a&&a.map(({key:y,...v})=>_.jsx(m,{...v},y)),t&&_.jsx(we,{container:!0,justifyContent:"flex-end",children:_.jsx(we,{item:!0,children:_.jsx(ct,{mt:2,children:_.jsx(p,{className:"array-item-add",onClick:o,disabled:r||i,uiSchema:s,registry:c})})})})]})})}const iu=["date","datetime-local","file","time"];function cu(e){const{id:t,name:r,placeholder:n,required:s,readonly:a,disabled:o,type:i,label:c,hideLabel:u,hideError:d,value:f,onChange:l,onChangeOverride:h,onBlur:m,onFocus:$,autofocus:p,options:y,schema:v,uiSchema:E,rawErrors:b=[],errorSchema:j,formContext:C,registry:T,InputLabelProps:x,...I}=e,F=Qa(v,i,y),{step:D,min:M,max:L,accept:q,...z}=F,A={step:D,min:M,max:L,accept:q,...v.examples?{list:Ht(t)}:void 0},ee=({target:{value:w}})=>l(w===""?y.emptyValue:w),X=({target:w})=>m(t,w&&w.value),ae=({target:w})=>$(t,w&&w.value),N=iu.includes(i)?{...x,shrink:!0}:x;return _.jsxs(_.Fragment,{children:[_.jsx(Cn,{id:t,name:t,placeholder:n,label:ft(c||void 0,u,void 0),autoFocus:p,required:s,disabled:o||a,inputProps:A,...z,value:f||f===0?f:"",error:b.length>0,onChange:h||ee,onBlur:X,onFocus:ae,InputLabelProps:N,...I,"aria-describedby":Ee(t,!!v.examples)}),Array.isArray(v.examples)&&_.jsx("datalist",{id:Ht(t),children:v.examples.concat(v.default&&!v.examples.includes(v.default)?[v.default]:[]).map(w=>_.jsx("option",{value:w},w))})]})}function lu(e){const{id:t,description:r}=e;return r?_.jsx(Ir,{id:t,variant:"subtitle2",style:{marginTop:"5px"},children:r}):null}var Vn={},du=Qt;Object.defineProperty(Vn,"__esModule",{value:!0});var So=Vn.default=void 0,uu=du(er()),fu=_;So=Vn.default=(0,uu.default)((0,fu.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");function mu({errors:e,registry:t}){const{translateString:r}=t;return _.jsx(kn,{elevation:2,children:_.jsxs(ct,{mb:2,p:2,children:[_.jsx(Ir,{variant:"h6",children:r(ne.ErrorsLabel)}),_.jsx(Ua,{dense:!0,children:e.map((n,s)=>_.jsxs(Ba,{children:[_.jsx(Ki,{children:_.jsx(So,{color:"error"})}),_.jsx(Wi,{primary:n.stack})]},s))})]})})}var Un={},hu=Qt;Object.defineProperty(Un,"__esModule",{value:!0});var wo=Un.default=void 0,pu=hu(er()),yu=_;wo=Un.default=(0,pu.default)((0,yu.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward");var Bn={},gu=Qt;Object.defineProperty(Bn,"__esModule",{value:!0});var Eo=Bn.default=void 0,$u=gu(er()),vu=_;Eo=Bn.default=(0,$u.default)((0,vu.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward");var zn={},_u=Qt;Object.defineProperty(zn,"__esModule",{value:!0});var jo=zn.default=void 0,bu=_u(er()),Su=_;jo=zn.default=(0,bu.default)((0,Su.jsx)("path",{d:"M19 13H5v-2h14z"}),"Remove");function Rr(e){const{icon:t,color:r,uiSchema:n,registry:s,...a}=e;return _.jsx(Va,{...a,size:"small",color:r,children:t})}function wu(e){const{registry:{translateString:t}}=e;return _.jsx(Rr,{title:t(ne.CopyButton),...e,icon:_.jsx(Hi,{fontSize:"small"})})}function Eu(e){const{registry:{translateString:t}}=e;return _.jsx(Rr,{title:t(ne.MoveDownButton),...e,icon:_.jsx(wo,{fontSize:"small"})})}function ju(e){const{registry:{translateString:t}}=e;return _.jsx(Rr,{title:t(ne.MoveUpButton),...e,icon:_.jsx(Eo,{fontSize:"small"})})}function ku(e){const{iconType:t,...r}=e,{registry:{translateString:n}}=r;return _.jsx(Rr,{title:n(ne.RemoveButton),...r,color:"error",icon:_.jsx(jo,{fontSize:t==="default"?void 0:"small"})})}function Cu(e){const{errors:t=[],idSchema:r}=e;if(t.length===0)return null;const n=Nn(r);return _.jsx(Ua,{id:n,dense:!0,disablePadding:!0,children:t.map((s,a)=>_.jsx(Ba,{disableGutters:!0,children:_.jsx(za,{component:"div",id:`${n}-${a}`,children:s})},a))})}function Pu(e){const{idSchema:t,help:r}=e;if(!r)return null;const n=In(t);return _.jsx(za,{component:"div",id:n,children:r})}function Tu(e){const{id:t,children:r,classNames:n,style:s,disabled:a,displayLabel:o,hidden:i,label:c,onDropPropertyClick:u,onKeyChange:d,readonly:f,required:l,rawErrors:h=[],errors:m,help:$,description:p,rawDescription:y,schema:v,uiSchema:E,registry:b}=e,j=te(E),C=Q("WrapIfAdditionalTemplate",b,j);return i?_.jsx("div",{style:{display:"none"},children:r}):_.jsx(C,{classNames:n,style:s,disabled:a,id:t,label:c,onDropPropertyClick:u,onKeyChange:d,readonly:f,required:l,schema:v,uiSchema:E,registry:b,children:_.jsxs(Gi,{fullWidth:!0,error:!!h.length,required:l,children:[r,o&&y?_.jsx(Ir,{variant:"caption",color:"textSecondary",children:p}):null,m,$]})})}function Ou(e){const{description:t,title:r,properties:n,required:s,disabled:a,readonly:o,uiSchema:i,idSchema:c,schema:u,formData:d,onAddClick:f,registry:l}=e,h=te(i),m=Q("TitleFieldTemplate",l,h),$=Q("DescriptionFieldTemplate",l,h),{ButtonTemplates:{AddButton:p}}=l.templates;return _.jsxs(_.Fragment,{children:[r&&_.jsx(m,{id:Fn(c),title:r,required:s,schema:u,uiSchema:i,registry:l}),t&&_.jsx($,{id:ut(c),description:t,schema:u,uiSchema:i,registry:l}),_.jsxs(we,{container:!0,spacing:2,style:{marginTop:"10px"},children:[n.map((y,v)=>y.hidden?y.content:_.jsx(we,{item:!0,xs:12,style:{marginBottom:"10px"},children:y.content},v)),Wa(u,i,d)&&_.jsx(we,{container:!0,justifyContent:"flex-end",children:_.jsx(we,{item:!0,children:_.jsx(p,{className:"object-property-expand",onClick:f(u),disabled:a||o,uiSchema:i,registry:l})})})]})]})}function Nu({uiSchema:e}){const{submitText:t,norender:r,props:n={}}=eo(e);return r?null:_.jsx(ct,{marginTop:3,children:_.jsx(Ji,{type:"submit",variant:"contained",color:"primary",...n,children:t})})}function Iu({id:e,title:t}){return _.jsxs(ct,{id:e,mb:1,mt:1,children:[_.jsx(Ir,{variant:"h5",children:t}),_.jsx(Yi,{})]})}function Fu(e){const{children:t,classNames:r,style:n,disabled:s,id:a,label:o,onDropPropertyClick:i,onKeyChange:c,readonly:u,required:d,schema:f,uiSchema:l,registry:h}=e,{templates:m,translateString:$}=h,{RemoveButton:p}=m.ButtonTemplates,y=$(ne.KeyLabel,[o]),v=Zt in f,E={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};if(!v)return _.jsx("div",{className:r,style:n,children:t});const b=({target:j})=>c(j&&j.value);return _.jsxs(we,{container:!0,alignItems:"center",spacing:2,className:r,style:n,children:[_.jsx(we,{item:!0,xs:!0,children:_.jsx(Cn,{fullWidth:!0,required:d,label:y,defaultValue:o,disabled:s||u,id:`${a}-key`,name:`${a}-key`,onBlur:u?void 0:b,type:"text"})}),_.jsx(we,{item:!0,xs:!0,children:t}),_.jsx(we,{item:!0,children:_.jsx(p,{iconType:"default",style:E,disabled:s||u,onClick:i(o),uiSchema:l,registry:h})})]},`${a}-key`)}function xu(){return{ArrayFieldItemTemplate:au,ArrayFieldTemplate:ou,BaseInputTemplate:cu,ButtonTemplates:{AddButton:su,CopyButton:wu,MoveDownButton:Eu,MoveUpButton:ju,RemoveButton:ku,SubmitButton:Nu},DescriptionFieldTemplate:lu,ErrorListTemplate:mu,FieldErrorTemplate:Cu,FieldHelpTemplate:Pu,FieldTemplate:Tu,ObjectFieldTemplate:Ou,TitleFieldTemplate:Iu,WrapIfAdditionalTemplate:Fu}}function Du(e){var t;const{schema:r,id:n,value:s,disabled:a,readonly:o,label:i="",hideLabel:c,autofocus:u,onChange:d,onBlur:f,onFocus:l,registry:h,options:m,uiSchema:$}=e,p=Q("DescriptionFieldTemplate",h,m),y=Ut(r),v=(C,T)=>d(T),E=({target:C})=>f(n,C&&C.value),b=({target:C})=>l(n,C&&C.value),j=(t=m.description)!==null&&t!==void 0?t:r.description;return _.jsxs(_.Fragment,{children:[!c&&!!j&&_.jsx(p,{id:ut(n),description:j,schema:r,uiSchema:$,registry:h}),_.jsx(Pn,{control:_.jsx(La,{id:n,name:n,checked:typeof s>"u"?!1:!!s,required:y,disabled:a||o,autoFocus:u,onChange:v,onBlur:E,onFocus:b,"aria-describedby":Ee(n)}),label:ft(i,c,!1)})]})}function Au({label:e,hideLabel:t,id:r,disabled:n,options:s,value:a,autofocus:o,readonly:i,required:c,onChange:u,onBlur:d,onFocus:f}){const{enumOptions:l,enumDisabled:h,inline:m,emptyValue:$}=s,p=Array.isArray(a)?a:[a],y=b=>({target:{checked:j}})=>{u(j?Xa(b,p,l):Ya(b,p,l))},v=({target:b})=>d(r,me(b&&b.value,l,$)),E=({target:b})=>f(r,me(b&&b.value,l,$));return _.jsxs(_.Fragment,{children:[ft(_.jsx(Tn,{required:c,htmlFor:r,children:e||void 0}),t),_.jsx(Xi,{id:r,row:!!m,children:Array.isArray(l)&&l.map((b,j)=>{const C=Fr(b.value,p),T=Array.isArray(h)&&h.indexOf(b.value)!==-1,x=_.jsx(La,{id:xr(r,j),name:r,checked:C,disabled:n||T||i,autoFocus:o&&j===0,onChange:y(j),onBlur:v,onFocus:E,"aria-describedby":Ee(r)});return _.jsx(Pn,{control:x,label:b.label},j)})})]})}function Ru({id:e,options:t,value:r,required:n,disabled:s,readonly:a,label:o,hideLabel:i,onChange:c,onBlur:u,onFocus:d}){var f;const{enumOptions:l,enumDisabled:h,emptyValue:m}=t,$=(b,j)=>c(me(j,l,m)),p=({target:b})=>u(e,me(b&&b.value,l,m)),y=({target:b})=>d(e,me(b&&b.value,l,m)),v=t?t.inline:!1,E=(f=On(r,l))!==null&&f!==void 0?f:null;return _.jsxs(_.Fragment,{children:[ft(_.jsx(Tn,{required:n,htmlFor:e,children:o||void 0}),i),_.jsx(Zi,{id:e,name:e,value:E,row:v,onChange:$,onBlur:p,onFocus:y,"aria-describedby":Ee(e),children:Array.isArray(l)&&l.map((b,j)=>{const C=Array.isArray(h)&&h.indexOf(b.value)!==-1;return _.jsx(Pn,{control:_.jsx(Qi,{name:e,id:xr(e,j),color:"primary"}),label:b.label,value:String(j),disabled:s||C||a},j)})})]})}function Mu(e){const{value:t,readonly:r,disabled:n,onBlur:s,onFocus:a,options:o,schema:i,onChange:c,required:u,label:d,hideLabel:f,id:l}=e,h={value:t,label:d,id:l,name:l,...Za(i)},m=(y,v)=>{c(v??o.emptyValue)},$=({target:y})=>s(l,y&&y.value),p=({target:y})=>a(l,y&&y.value);return _.jsxs(_.Fragment,{children:[ft(_.jsx(Tn,{required:u,htmlFor:l,children:d||void 0}),f),_.jsx(ec,{disabled:n||r,onChange:m,onBlur:$,onFocus:p,valueLabelDisplay:"auto",...h,"aria-describedby":Ee(l)})]})}function Vu({schema:e,id:t,name:r,options:n,label:s,hideLabel:a,required:o,disabled:i,placeholder:c,readonly:u,value:d,multiple:f,autofocus:l,onChange:h,onBlur:m,onFocus:$,errorSchema:p,rawErrors:y=[],registry:v,uiSchema:E,hideError:b,formContext:j,...C}){const{enumOptions:T,enumDisabled:x,emptyValue:I}=n;f=typeof f>"u"?!1:!!f;const F=f?[]:"",D=typeof d>"u"||f&&d.length<1||!f&&d===F,M=({target:{value:w}})=>h(me(w,T,I)),L=({target:w})=>m(t,me(w&&w.value,T,I)),q=({target:w})=>$(t,me(w&&w.value,T,I)),z=On(d,T,f),{InputLabelProps:A,SelectProps:ee,autocomplete:X,...ae}=C,N=!f&&e.default===void 0;return _.jsxs(Cn,{id:t,name:t,label:ft(s||void 0,a,void 0),value:!D&&typeof z<"u"?z:F,required:o,disabled:i||u,autoFocus:l,autoComplete:X,placeholder:c,error:y.length>0,onChange:M,onBlur:L,onFocus:q,...ae,select:!0,InputLabelProps:{...A,shrink:!D},SelectProps:{...ee,multiple:f},"aria-describedby":Ee(t),children:[N&&_.jsx(Bs,{value:"",children:c}),Array.isArray(T)&&T.map(({value:w,label:O},k)=>{const g=Array.isArray(x)&&x.indexOf(w)!==-1;return _.jsx(Bs,{value:String(k),disabled:g,children:O},k)})]})}function Uu(e){const{options:t,registry:r}=e,n=Q("BaseInputTemplate",r,t);let s=5;return(typeof t.rows=="string"||typeof t.rows=="number")&&(s=t.rows),_.jsx(n,{...e,multiline:!0,rows:s})}function ko(){return{CheckboxWidget:Du,CheckboxesWidget:Au,RadioWidget:Ru,RangeWidget:Mu,SelectWidget:Vu,TextareaWidget:Uu}}const Bg=ko();function Bu(){return{templates:xu(),widgets:ko()}}function zu(){return eu(Bu())}const zg=zu();var yn={exports:{}},Co={},Oe={},St={},nr={},Y={},Yt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(v){if(super(),!e.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((E,b)=>`${E}${b}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((E,b)=>(b instanceof r&&(E[b.str]=(E[b.str]||0)+1),E),{})}}e._Code=n,e.nil=new n("");function s(y,...v){const E=[y[0]];let b=0;for(;b<v.length;)i(E,v[b]),E.push(y[++b]);return new n(E)}e._=s;const a=new n("+");function o(y,...v){const E=[h(y[0])];let b=0;for(;b<v.length;)E.push(a),i(E,v[b]),E.push(a,h(y[++b]));return c(E),new n(E)}e.str=o;function i(y,v){v instanceof n?y.push(...v._items):v instanceof r?y.push(v):y.push(f(v))}e.addCodeArg=i;function c(y){let v=1;for(;v<y.length-1;){if(y[v]===a){const E=u(y[v-1],y[v+1]);if(E!==void 0){y.splice(v-1,3,E);continue}y[v++]="+"}v++}}function u(y,v){if(v==='""')return y;if(y==='""')return v;if(typeof y=="string")return v instanceof r||y[y.length-1]!=='"'?void 0:typeof v!="string"?`${y.slice(0,-1)}${v}"`:v[0]==='"'?y.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(y instanceof r))return`"${y}${v.slice(1)}`}function d(y,v){return v.emptyStr()?y:y.emptyStr()?v:o`${y}${v}`}e.strConcat=d;function f(y){return typeof y=="number"||typeof y=="boolean"||y===null?y:h(Array.isArray(y)?y.join(","):y)}function l(y){return new n(h(y))}e.stringify=l;function h(y){return JSON.stringify(y).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function m(y){return typeof y=="string"&&e.IDENTIFIER.test(y)?new n(`.${y}`):s`[${y}]`}e.getProperty=m;function $(y){if(typeof y=="string"&&e.IDENTIFIER.test(y))return new n(`${y}`);throw new Error(`CodeGen: invalid export name: ${y}, use explicit $id name mapping`)}e.getEsmExportName=$;function p(y){return new n(y.toString())}e.regexpCode=p})(Yt);var gn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Yt;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:u,parent:d}={}){this._names={},this._prefixes=u,this._parent=d}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const d=this._names[u]||this._nameGroup(u);return`${u}${d.index++}`}_nameGroup(u){var d,f;if(!((f=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||f===void 0)&&f.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=s;class a extends t.Name{constructor(u,d){super(d),this.prefix=u}setValue(u,{property:d,itemIndex:f}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(d)}[${f}]`}}e.ValueScopeName=a;const o=(0,t._)`\n`;class i extends s{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?o:t.nil}}get(){return this._scope}name(u){return new a(u,this._newName(u))}value(u,d){var f;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const l=this.toName(u),{prefix:h}=l,m=(f=d.key)!==null&&f!==void 0?f:d.ref;let $=this._values[h];if($){const v=$.get(m);if(v)return v}else $=this._values[h]=new Map;$.set(m,l);const p=this._scope[h]||(this._scope[h]=[]),y=p.length;return p[y]=d.ref,l.setValue(d,{property:h,itemIndex:y}),l}getValue(u,d){const f=this._values[u];if(f)return f.get(d)}scopeRefs(u,d=this._values){return this._reduceValues(d,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${u}${f.scopePath}`})}scopeCode(u=this._values,d,f){return this._reduceValues(u,l=>{if(l.value===void 0)throw new Error(`CodeGen: name "${l}" has no value`);return l.value.code},d,f)}_reduceValues(u,d,f={},l){let h=t.nil;for(const m in u){const $=u[m];if(!$)continue;const p=f[m]=f[m]||new Map;$.forEach(y=>{if(p.has(y))return;p.set(y,n.Started);let v=d(y);if(v){const E=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${E} ${y} = ${v};${this.opts._n}`}else if(v=l==null?void 0:l(y))h=(0,t._)`${h}${v}${this.opts._n}`;else throw new r(y);p.set(y,n.Completed)})}return h}}e.ValueScope=i})(gn);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Yt,r=gn;var n=Yt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var s=gn;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(g,S){return this}}class o extends a{constructor(g,S,P){super(),this.varKind=g,this.name=S,this.rhs=P}render({es5:g,_n:S}){const P=g?r.varKinds.var:this.varKind,V=this.rhs===void 0?"":` = ${this.rhs}`;return`${P} ${this.name}${V};`+S}optimizeNames(g,S){if(g[this.name.str])return this.rhs&&(this.rhs=q(this.rhs,g,S)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class i extends a{constructor(g,S,P){super(),this.lhs=g,this.rhs=S,this.sideEffects=P}render({_n:g}){return`${this.lhs} = ${this.rhs};`+g}optimizeNames(g,S){if(!(this.lhs instanceof t.Name&&!g[this.lhs.str]&&!this.sideEffects))return this.rhs=q(this.rhs,g,S),this}get names(){const g=this.lhs instanceof t.Name?{}:{...this.lhs.names};return L(g,this.rhs)}}class c extends i{constructor(g,S,P,V){super(g,P,V),this.op=S}render({_n:g}){return`${this.lhs} ${this.op}= ${this.rhs};`+g}}class u extends a{constructor(g){super(),this.label=g,this.names={}}render({_n:g}){return`${this.label}:`+g}}class d extends a{constructor(g){super(),this.label=g,this.names={}}render({_n:g}){return`break${this.label?` ${this.label}`:""};`+g}}class f extends a{constructor(g){super(),this.error=g}render({_n:g}){return`throw ${this.error};`+g}get names(){return this.error.names}}class l extends a{constructor(g){super(),this.code=g}render({_n:g}){return`${this.code};`+g}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(g,S){return this.code=q(this.code,g,S),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends a{constructor(g=[]){super(),this.nodes=g}render(g){return this.nodes.reduce((S,P)=>S+P.render(g),"")}optimizeNodes(){const{nodes:g}=this;let S=g.length;for(;S--;){const P=g[S].optimizeNodes();Array.isArray(P)?g.splice(S,1,...P):P?g[S]=P:g.splice(S,1)}return g.length>0?this:void 0}optimizeNames(g,S){const{nodes:P}=this;let V=P.length;for(;V--;){const U=P[V];U.optimizeNames(g,S)||(z(g,U.names),P.splice(V,1))}return P.length>0?this:void 0}get names(){return this.nodes.reduce((g,S)=>M(g,S.names),{})}}class m extends h{render(g){return"{"+g._n+super.render(g)+"}"+g._n}}class $ extends h{}class p extends m{}p.kind="else";class y extends m{constructor(g,S){super(S),this.condition=g}render(g){let S=`if(${this.condition})`+super.render(g);return this.else&&(S+="else "+this.else.render(g)),S}optimizeNodes(){super.optimizeNodes();const g=this.condition;if(g===!0)return this.nodes;let S=this.else;if(S){const P=S.optimizeNodes();S=this.else=Array.isArray(P)?new p(P):P}if(S)return g===!1?S instanceof y?S:S.nodes:this.nodes.length?this:new y(A(g),S instanceof y?[S]:S.nodes);if(!(g===!1||!this.nodes.length))return this}optimizeNames(g,S){var P;if(this.else=(P=this.else)===null||P===void 0?void 0:P.optimizeNames(g,S),!!(super.optimizeNames(g,S)||this.else))return this.condition=q(this.condition,g,S),this}get names(){const g=super.names;return L(g,this.condition),this.else&&M(g,this.else.names),g}}y.kind="if";class v extends m{}v.kind="for";class E extends v{constructor(g){super(),this.iteration=g}render(g){return`for(${this.iteration})`+super.render(g)}optimizeNames(g,S){if(super.optimizeNames(g,S))return this.iteration=q(this.iteration,g,S),this}get names(){return M(super.names,this.iteration.names)}}class b extends v{constructor(g,S,P,V){super(),this.varKind=g,this.name=S,this.from=P,this.to=V}render(g){const S=g.es5?r.varKinds.var:this.varKind,{name:P,from:V,to:U}=this;return`for(${S} ${P}=${V}; ${P}<${U}; ${P}++)`+super.render(g)}get names(){const g=L(super.names,this.from);return L(g,this.to)}}class j extends v{constructor(g,S,P,V){super(),this.loop=g,this.varKind=S,this.name=P,this.iterable=V}render(g){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(g)}optimizeNames(g,S){if(super.optimizeNames(g,S))return this.iterable=q(this.iterable,g,S),this}get names(){return M(super.names,this.iterable.names)}}class C extends m{constructor(g,S,P){super(),this.name=g,this.args=S,this.async=P}render(g){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(g)}}C.kind="func";class T extends h{render(g){return"return "+super.render(g)}}T.kind="return";class x extends m{render(g){let S="try"+super.render(g);return this.catch&&(S+=this.catch.render(g)),this.finally&&(S+=this.finally.render(g)),S}optimizeNodes(){var g,S;return super.optimizeNodes(),(g=this.catch)===null||g===void 0||g.optimizeNodes(),(S=this.finally)===null||S===void 0||S.optimizeNodes(),this}optimizeNames(g,S){var P,V;return super.optimizeNames(g,S),(P=this.catch)===null||P===void 0||P.optimizeNames(g,S),(V=this.finally)===null||V===void 0||V.optimizeNames(g,S),this}get names(){const g=super.names;return this.catch&&M(g,this.catch.names),this.finally&&M(g,this.finally.names),g}}class I extends m{constructor(g){super(),this.error=g}render(g){return`catch(${this.error})`+super.render(g)}}I.kind="catch";class F extends m{render(g){return"finally"+super.render(g)}}F.kind="finally";class D{constructor(g,S={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...S,_n:S.lines?`
`:""},this._extScope=g,this._scope=new r.Scope({parent:g}),this._nodes=[new $]}toString(){return this._root.render(this.opts)}name(g){return this._scope.name(g)}scopeName(g){return this._extScope.name(g)}scopeValue(g,S){const P=this._extScope.value(g,S);return(this._values[P.prefix]||(this._values[P.prefix]=new Set)).add(P),P}getScopeValue(g,S){return this._extScope.getValue(g,S)}scopeRefs(g){return this._extScope.scopeRefs(g,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(g,S,P,V){const U=this._scope.toName(S);return P!==void 0&&V&&(this._constants[U.str]=P),this._leafNode(new o(g,U,P)),U}const(g,S,P){return this._def(r.varKinds.const,g,S,P)}let(g,S,P){return this._def(r.varKinds.let,g,S,P)}var(g,S,P){return this._def(r.varKinds.var,g,S,P)}assign(g,S,P){return this._leafNode(new i(g,S,P))}add(g,S){return this._leafNode(new c(g,e.operators.ADD,S))}code(g){return typeof g=="function"?g():g!==t.nil&&this._leafNode(new l(g)),this}object(...g){const S=["{"];for(const[P,V]of g)S.length>1&&S.push(","),S.push(P),(P!==V||this.opts.es5)&&(S.push(":"),(0,t.addCodeArg)(S,V));return S.push("}"),new t._Code(S)}if(g,S,P){if(this._blockNode(new y(g)),S&&P)this.code(S).else().code(P).endIf();else if(S)this.code(S).endIf();else if(P)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(g){return this._elseNode(new y(g))}else(){return this._elseNode(new p)}endIf(){return this._endBlockNode(y,p)}_for(g,S){return this._blockNode(g),S&&this.code(S).endFor(),this}for(g,S){return this._for(new E(g),S)}forRange(g,S,P,V,U=this.opts.es5?r.varKinds.var:r.varKinds.let){const se=this._scope.toName(g);return this._for(new b(U,se,S,P),()=>V(se))}forOf(g,S,P,V=r.varKinds.const){const U=this._scope.toName(g);if(this.opts.es5){const se=S instanceof t.Name?S:this.var("_arr",S);return this.forRange("_i",0,(0,t._)`${se}.length`,re=>{this.var(U,(0,t._)`${se}[${re}]`),P(U)})}return this._for(new j("of",V,U,S),()=>P(U))}forIn(g,S,P,V=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(g,(0,t._)`Object.keys(${S})`,P);const U=this._scope.toName(g);return this._for(new j("in",V,U,S),()=>P(U))}endFor(){return this._endBlockNode(v)}label(g){return this._leafNode(new u(g))}break(g){return this._leafNode(new d(g))}return(g){const S=new T;if(this._blockNode(S),this.code(g),S.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(T)}try(g,S,P){if(!S&&!P)throw new Error('CodeGen: "try" without "catch" and "finally"');const V=new x;if(this._blockNode(V),this.code(g),S){const U=this.name("e");this._currNode=V.catch=new I(U),S(U)}return P&&(this._currNode=V.finally=new F,this.code(P)),this._endBlockNode(I,F)}throw(g){return this._leafNode(new f(g))}block(g,S){return this._blockStarts.push(this._nodes.length),g&&this.code(g).endBlock(S),this}endBlock(g){const S=this._blockStarts.pop();if(S===void 0)throw new Error("CodeGen: not in self-balancing block");const P=this._nodes.length-S;if(P<0||g!==void 0&&P!==g)throw new Error(`CodeGen: wrong number of nodes: ${P} vs ${g} expected`);return this._nodes.length=S,this}func(g,S=t.nil,P,V){return this._blockNode(new C(g,S,P)),V&&this.code(V).endFunc(),this}endFunc(){return this._endBlockNode(C)}optimize(g=1){for(;g-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(g){return this._currNode.nodes.push(g),this}_blockNode(g){this._currNode.nodes.push(g),this._nodes.push(g)}_endBlockNode(g,S){const P=this._currNode;if(P instanceof g||S&&P instanceof S)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${S?`${g.kind}/${S.kind}`:g.kind}"`)}_elseNode(g){const S=this._currNode;if(!(S instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=S.else=g,this}get _root(){return this._nodes[0]}get _currNode(){const g=this._nodes;return g[g.length-1]}set _currNode(g){const S=this._nodes;S[S.length-1]=g}}e.CodeGen=D;function M(k,g){for(const S in g)k[S]=(k[S]||0)+(g[S]||0);return k}function L(k,g){return g instanceof t._CodeOrName?M(k,g.names):k}function q(k,g,S){if(k instanceof t.Name)return P(k);if(!V(k))return k;return new t._Code(k._items.reduce((U,se)=>(se instanceof t.Name&&(se=P(se)),se instanceof t._Code?U.push(...se._items):U.push(se),U),[]));function P(U){const se=S[U.str];return se===void 0||g[U.str]!==1?U:(delete g[U.str],se)}function V(U){return U instanceof t._Code&&U._items.some(se=>se instanceof t.Name&&g[se.str]===1&&S[se.str]!==void 0)}}function z(k,g){for(const S in g)k[S]=(k[S]||0)-(g[S]||0)}function A(k){return typeof k=="boolean"||typeof k=="number"||k===null?!k:(0,t._)`!${O(k)}`}e.not=A;const ee=w(e.operators.AND);function X(...k){return k.reduce(ee)}e.and=X;const ae=w(e.operators.OR);function N(...k){return k.reduce(ae)}e.or=N;function w(k){return(g,S)=>g===t.nil?S:S===t.nil?g:(0,t._)`${O(g)} ${k} ${O(S)}`}function O(k){return k instanceof t.Name?k:(0,t._)`(${k})`}})(Y);var R={};Object.defineProperty(R,"__esModule",{value:!0});R.checkStrictMode=R.getErrorPath=R.Type=R.useFunc=R.setEvaluated=R.evaluatedPropsToName=R.mergeEvaluated=R.eachItem=R.unescapeJsonPointer=R.escapeJsonPointer=R.escapeFragment=R.unescapeFragment=R.schemaRefOrVal=R.schemaHasRulesButRef=R.schemaHasRules=R.checkUnknownRules=R.alwaysValidSchema=R.toHash=void 0;const ie=Y,Lu=Yt;function qu(e){const t={};for(const r of e)t[r]=!0;return t}R.toHash=qu;function Ku(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(Po(e,t),!To(t,e.self.RULES.all))}R.alwaysValidSchema=Ku;function Po(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const s=n.RULES.keywords;for(const a in t)s[a]||Io(e,`unknown keyword: "${a}"`)}R.checkUnknownRules=Po;function To(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}R.schemaHasRules=To;function Wu(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}R.schemaHasRulesButRef=Wu;function Hu({topSchemaRef:e,schemaPath:t},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,ie._)`${r}`}return(0,ie._)`${e}${t}${(0,ie.getProperty)(n)}`}R.schemaRefOrVal=Hu;function Gu(e){return Oo(decodeURIComponent(e))}R.unescapeFragment=Gu;function Ju(e){return encodeURIComponent(Ln(e))}R.escapeFragment=Ju;function Ln(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}R.escapeJsonPointer=Ln;function Oo(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}R.unescapeJsonPointer=Oo;function Yu(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}R.eachItem=Yu;function ta({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(s,a,o,i)=>{const c=o===void 0?a:o instanceof ie.Name?(a instanceof ie.Name?e(s,a,o):t(s,a,o),o):a instanceof ie.Name?(t(s,o,a),a):r(a,o);return i===ie.Name&&!(c instanceof ie.Name)?n(s,c):c}}R.mergeEvaluated={props:ta({mergeNames:(e,t,r)=>e.if((0,ie._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,ie._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,ie._)`${r} || {}`).code((0,ie._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,ie._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,ie._)`${r} || {}`),qn(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:No}),items:ta({mergeNames:(e,t,r)=>e.if((0,ie._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,ie._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,ie._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,ie._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function No(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,ie._)`{}`);return t!==void 0&&qn(e,r,t),r}R.evaluatedPropsToName=No;function qn(e,t,r){Object.keys(r).forEach(n=>e.assign((0,ie._)`${t}${(0,ie.getProperty)(n)}`,!0))}R.setEvaluated=qn;const ra={};function Xu(e,t){return e.scopeValue("func",{ref:t,code:ra[t.code]||(ra[t.code]=new Lu._Code(t.code))})}R.useFunc=Xu;var $n;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})($n||(R.Type=$n={}));function Zu(e,t,r){if(e instanceof ie.Name){const n=t===$n.Num;return r?n?(0,ie._)`"[" + ${e} + "]"`:(0,ie._)`"['" + ${e} + "']"`:n?(0,ie._)`"/" + ${e}`:(0,ie._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,ie.getProperty)(e).toString():"/"+Ln(e)}R.getErrorPath=Zu;function Io(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}R.checkStrictMode=Io;var Re={};Object.defineProperty(Re,"__esModule",{value:!0});const ye=Y,Qu={data:new ye.Name("data"),valCxt:new ye.Name("valCxt"),instancePath:new ye.Name("instancePath"),parentData:new ye.Name("parentData"),parentDataProperty:new ye.Name("parentDataProperty"),rootData:new ye.Name("rootData"),dynamicAnchors:new ye.Name("dynamicAnchors"),vErrors:new ye.Name("vErrors"),errors:new ye.Name("errors"),this:new ye.Name("this"),self:new ye.Name("self"),scope:new ye.Name("scope"),json:new ye.Name("json"),jsonPos:new ye.Name("jsonPos"),jsonLen:new ye.Name("jsonLen"),jsonPart:new ye.Name("jsonPart")};Re.default=Qu;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Y,r=R,n=Re;e.keywordError={message:({keyword:p})=>(0,t.str)`must pass "${p}" keyword validation`},e.keyword$DataError={message:({keyword:p,schemaType:y})=>y?(0,t.str)`"${p}" keyword must be ${y} ($data)`:(0,t.str)`"${p}" keyword is invalid ($data)`};function s(p,y=e.keywordError,v,E){const{it:b}=p,{gen:j,compositeRule:C,allErrors:T}=b,x=f(p,y,v);E??(C||T)?c(j,x):u(b,(0,t._)`[${x}]`)}e.reportError=s;function a(p,y=e.keywordError,v){const{it:E}=p,{gen:b,compositeRule:j,allErrors:C}=E,T=f(p,y,v);c(b,T),j||C||u(E,n.default.vErrors)}e.reportExtraError=a;function o(p,y){p.assign(n.default.errors,y),p.if((0,t._)`${n.default.vErrors} !== null`,()=>p.if(y,()=>p.assign((0,t._)`${n.default.vErrors}.length`,y),()=>p.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function i({gen:p,keyword:y,schemaValue:v,data:E,errsCount:b,it:j}){if(b===void 0)throw new Error("ajv implementation error");const C=p.name("err");p.forRange("i",b,n.default.errors,T=>{p.const(C,(0,t._)`${n.default.vErrors}[${T}]`),p.if((0,t._)`${C}.instancePath === undefined`,()=>p.assign((0,t._)`${C}.instancePath`,(0,t.strConcat)(n.default.instancePath,j.errorPath))),p.assign((0,t._)`${C}.schemaPath`,(0,t.str)`${j.errSchemaPath}/${y}`),j.opts.verbose&&(p.assign((0,t._)`${C}.schema`,v),p.assign((0,t._)`${C}.data`,E))})}e.extendErrors=i;function c(p,y){const v=p.const("err",y);p.if((0,t._)`${n.default.vErrors} === null`,()=>p.assign(n.default.vErrors,(0,t._)`[${v}]`),(0,t._)`${n.default.vErrors}.push(${v})`),p.code((0,t._)`${n.default.errors}++`)}function u(p,y){const{gen:v,validateName:E,schemaEnv:b}=p;b.$async?v.throw((0,t._)`new ${p.ValidationError}(${y})`):(v.assign((0,t._)`${E}.errors`,y),v.return(!1))}const d={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(p,y,v){const{createErrors:E}=p.it;return E===!1?(0,t._)`{}`:l(p,y,v)}function l(p,y,v={}){const{gen:E,it:b}=p,j=[h(b,v),m(p,v)];return $(p,y,j),E.object(...j)}function h({errorPath:p},{instancePath:y}){const v=y?(0,t.str)`${p}${(0,r.getErrorPath)(y,r.Type.Str)}`:p;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,v)]}function m({keyword:p,it:{errSchemaPath:y}},{schemaPath:v,parentSchema:E}){let b=E?y:(0,t.str)`${y}/${p}`;return v&&(b=(0,t.str)`${b}${(0,r.getErrorPath)(v,r.Type.Str)}`),[d.schemaPath,b]}function $(p,{params:y,message:v},E){const{keyword:b,data:j,schemaValue:C,it:T}=p,{opts:x,propertyName:I,topSchemaRef:F,schemaPath:D}=T;E.push([d.keyword,b],[d.params,typeof y=="function"?y(p):y||(0,t._)`{}`]),x.messages&&E.push([d.message,typeof v=="function"?v(p):v]),x.verbose&&E.push([d.schema,C],[d.parentSchema,(0,t._)`${F}${D}`],[n.default.data,j]),I&&E.push([d.propertyName,I])}})(nr);Object.defineProperty(St,"__esModule",{value:!0});St.boolOrEmptySchema=St.topBoolOrEmptySchema=void 0;const ef=nr,tf=Y,rf=Re,nf={message:"boolean schema is false"};function sf(e){const{gen:t,schema:r,validateName:n}=e;r===!1?Fo(e,!1):typeof r=="object"&&r.$async===!0?t.return(rf.default.data):(t.assign((0,tf._)`${n}.errors`,null),t.return(!0))}St.topBoolOrEmptySchema=sf;function af(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),Fo(e)):r.var(t,!0)}St.boolOrEmptySchema=af;function Fo(e,t){const{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,ef.reportError)(s,nf,void 0,t)}var fe={},lt={};Object.defineProperty(lt,"__esModule",{value:!0});lt.getRules=lt.isJSONType=void 0;const of=["string","number","integer","boolean","null","object","array"],cf=new Set(of);function lf(e){return typeof e=="string"&&cf.has(e)}lt.isJSONType=lf;function df(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}lt.getRules=df;var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.shouldUseRule=Ue.shouldUseGroup=Ue.schemaHasRulesForType=void 0;function uf({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&xo(e,n)}Ue.schemaHasRulesForType=uf;function xo(e,t){return t.rules.some(r=>Do(e,r))}Ue.shouldUseGroup=xo;function Do(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Ue.shouldUseRule=Do;Object.defineProperty(fe,"__esModule",{value:!0});fe.reportTypeError=fe.checkDataTypes=fe.checkDataType=fe.coerceAndCheckDataType=fe.getJSONTypes=fe.getSchemaTypes=fe.DataType=void 0;const ff=lt,mf=Ue,hf=nr,H=Y,Ao=R;var vt;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(vt||(fe.DataType=vt={}));function pf(e){const t=Ro(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}fe.getSchemaTypes=pf;function Ro(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(ff.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}fe.getJSONTypes=Ro;function yf(e,t){const{gen:r,data:n,opts:s}=e,a=gf(t,s.coerceTypes),o=t.length>0&&!(a.length===0&&t.length===1&&(0,mf.schemaHasRulesForType)(e,t[0]));if(o){const i=Kn(t,n,s.strictNumbers,vt.Wrong);r.if(i,()=>{a.length?$f(e,t,a):Wn(e)})}return o}fe.coerceAndCheckDataType=yf;const Mo=new Set(["string","number","integer","boolean","null"]);function gf(e,t){return t?e.filter(r=>Mo.has(r)||t==="array"&&r==="array"):[]}function $f(e,t,r){const{gen:n,data:s,opts:a}=e,o=n.let("dataType",(0,H._)`typeof ${s}`),i=n.let("coerced",(0,H._)`undefined`);a.coerceTypes==="array"&&n.if((0,H._)`${o} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,H._)`${s}[0]`).assign(o,(0,H._)`typeof ${s}`).if(Kn(t,s,a.strictNumbers),()=>n.assign(i,s))),n.if((0,H._)`${i} !== undefined`);for(const u of r)(Mo.has(u)||u==="array"&&a.coerceTypes==="array")&&c(u);n.else(),Wn(e),n.endIf(),n.if((0,H._)`${i} !== undefined`,()=>{n.assign(s,i),vf(e,i)});function c(u){switch(u){case"string":n.elseIf((0,H._)`${o} == "number" || ${o} == "boolean"`).assign(i,(0,H._)`"" + ${s}`).elseIf((0,H._)`${s} === null`).assign(i,(0,H._)`""`);return;case"number":n.elseIf((0,H._)`${o} == "boolean" || ${s} === null
              || (${o} == "string" && ${s} && ${s} == +${s})`).assign(i,(0,H._)`+${s}`);return;case"integer":n.elseIf((0,H._)`${o} === "boolean" || ${s} === null
              || (${o} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(i,(0,H._)`+${s}`);return;case"boolean":n.elseIf((0,H._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(i,!1).elseIf((0,H._)`${s} === "true" || ${s} === 1`).assign(i,!0);return;case"null":n.elseIf((0,H._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(i,null);return;case"array":n.elseIf((0,H._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${s} === null`).assign(i,(0,H._)`[${s}]`)}}}function vf({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,H._)`${t} !== undefined`,()=>e.assign((0,H._)`${t}[${r}]`,n))}function vn(e,t,r,n=vt.Correct){const s=n===vt.Correct?H.operators.EQ:H.operators.NEQ;let a;switch(e){case"null":return(0,H._)`${t} ${s} null`;case"array":a=(0,H._)`Array.isArray(${t})`;break;case"object":a=(0,H._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":a=o((0,H._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":a=o();break;default:return(0,H._)`typeof ${t} ${s} ${e}`}return n===vt.Correct?a:(0,H.not)(a);function o(i=H.nil){return(0,H.and)((0,H._)`typeof ${t} == "number"`,i,r?(0,H._)`isFinite(${t})`:H.nil)}}fe.checkDataType=vn;function Kn(e,t,r,n){if(e.length===1)return vn(e[0],t,r,n);let s;const a=(0,Ao.toHash)(e);if(a.array&&a.object){const o=(0,H._)`typeof ${t} != "object"`;s=a.null?o:(0,H._)`!${t} || ${o}`,delete a.null,delete a.array,delete a.object}else s=H.nil;a.number&&delete a.integer;for(const o in a)s=(0,H.and)(s,vn(o,t,r,n));return s}fe.checkDataTypes=Kn;const _f={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,H._)`{type: ${e}}`:(0,H._)`{type: ${t}}`};function Wn(e){const t=bf(e);(0,hf.reportError)(t,_f)}fe.reportTypeError=Wn;function bf(e){const{gen:t,data:r,schema:n}=e,s=(0,Ao.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.assignDefaults=void 0;const pt=Y,Sf=R;function wf(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const s in r)na(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,a)=>na(e,a,s.default))}Mr.assignDefaults=wf;function na(e,t,r){const{gen:n,compositeRule:s,data:a,opts:o}=e;if(r===void 0)return;const i=(0,pt._)`${a}${(0,pt.getProperty)(t)}`;if(s){(0,Sf.checkStrictMode)(e,`default is ignored for: ${i}`);return}let c=(0,pt._)`${i} === undefined`;o.useDefaults==="empty"&&(c=(0,pt._)`${c} || ${i} === null || ${i} === ""`),n.if(c,(0,pt._)`${i} = ${(0,pt.stringify)(r)}`)}var De={},Z={};Object.defineProperty(Z,"__esModule",{value:!0});Z.validateUnion=Z.validateArray=Z.usePattern=Z.callValidateCode=Z.schemaProperties=Z.allSchemaProperties=Z.noPropertyInData=Z.propertyInData=Z.isOwnProperty=Z.hasPropFunc=Z.reportMissingProp=Z.checkMissingProp=Z.checkReportMissingProp=void 0;const ce=Y,Hn=R,We=Re,Ef=R;function jf(e,t){const{gen:r,data:n,it:s}=e;r.if(Jn(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,ce._)`${t}`},!0),e.error()})}Z.checkReportMissingProp=jf;function kf({gen:e,data:t,it:{opts:r}},n,s){return(0,ce.or)(...n.map(a=>(0,ce.and)(Jn(e,t,a,r.ownProperties),(0,ce._)`${s} = ${a}`)))}Z.checkMissingProp=kf;function Cf(e,t){e.setParams({missingProperty:t},!0),e.error()}Z.reportMissingProp=Cf;function Vo(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,ce._)`Object.prototype.hasOwnProperty`})}Z.hasPropFunc=Vo;function Gn(e,t,r){return(0,ce._)`${Vo(e)}.call(${t}, ${r})`}Z.isOwnProperty=Gn;function Pf(e,t,r,n){const s=(0,ce._)`${t}${(0,ce.getProperty)(r)} !== undefined`;return n?(0,ce._)`${s} && ${Gn(e,t,r)}`:s}Z.propertyInData=Pf;function Jn(e,t,r,n){const s=(0,ce._)`${t}${(0,ce.getProperty)(r)} === undefined`;return n?(0,ce.or)(s,(0,ce.not)(Gn(e,t,r))):s}Z.noPropertyInData=Jn;function Uo(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Z.allSchemaProperties=Uo;function Tf(e,t){return Uo(t).filter(r=>!(0,Hn.alwaysValidSchema)(e,t[r]))}Z.schemaProperties=Tf;function Of({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:o},i,c,u){const d=u?(0,ce._)`${e}, ${t}, ${n}${s}`:t,f=[[We.default.instancePath,(0,ce.strConcat)(We.default.instancePath,a)],[We.default.parentData,o.parentData],[We.default.parentDataProperty,o.parentDataProperty],[We.default.rootData,We.default.rootData]];o.opts.dynamicRef&&f.push([We.default.dynamicAnchors,We.default.dynamicAnchors]);const l=(0,ce._)`${d}, ${r.object(...f)}`;return c!==ce.nil?(0,ce._)`${i}.call(${c}, ${l})`:(0,ce._)`${i}(${l})`}Z.callValidateCode=Of;const Nf=(0,ce._)`new RegExp`;function If({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,a=s(r,n);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,ce._)`${s.code==="new RegExp"?Nf:(0,Ef.useFunc)(e,s)}(${r}, ${n})`})}Z.usePattern=If;function Ff(e){const{gen:t,data:r,keyword:n,it:s}=e,a=t.name("valid");if(s.allErrors){const i=t.let("valid",!0);return o(()=>t.assign(i,!1)),i}return t.var(a,!0),o(()=>t.break()),a;function o(i){const c=t.const("len",(0,ce._)`${r}.length`);t.forRange("i",0,c,u=>{e.subschema({keyword:n,dataProp:u,dataPropType:Hn.Type.Num},a),t.if((0,ce.not)(a),i)})}}Z.validateArray=Ff;function xf(e){const{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,Hn.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;const o=t.let("valid",!1),i=t.name("_valid");t.block(()=>r.forEach((c,u)=>{const d=e.subschema({keyword:n,schemaProp:u,compositeRule:!0},i);t.assign(o,(0,ce._)`${o} || ${i}`),e.mergeValidEvaluated(d,i)||t.if((0,ce.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}Z.validateUnion=xf;Object.defineProperty(De,"__esModule",{value:!0});De.validateKeywordUsage=De.validSchemaType=De.funcKeywordCode=De.macroKeywordCode=void 0;const $e=Y,rt=Re,Df=Z,Af=nr;function Rf(e,t){const{gen:r,keyword:n,schema:s,parentSchema:a,it:o}=e,i=t.macro.call(o.self,s,a,o),c=Bo(r,n,i);o.opts.validateSchema!==!1&&o.self.validateSchema(i,!0);const u=r.name("valid");e.subschema({schema:i,schemaPath:$e.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}De.macroKeywordCode=Rf;function Mf(e,t){var r;const{gen:n,keyword:s,schema:a,parentSchema:o,$data:i,it:c}=e;Uf(c,t);const u=!i&&t.compile?t.compile.call(c.self,a,o,c):t.validate,d=Bo(n,s,u),f=n.let("valid");e.block$data(f,l),e.ok((r=t.valid)!==null&&r!==void 0?r:f);function l(){if(t.errors===!1)$(),t.modifying&&sa(e),p(()=>e.error());else{const y=t.async?h():m();t.modifying&&sa(e),p(()=>Vf(e,y))}}function h(){const y=n.let("ruleErrs",null);return n.try(()=>$((0,$e._)`await `),v=>n.assign(f,!1).if((0,$e._)`${v} instanceof ${c.ValidationError}`,()=>n.assign(y,(0,$e._)`${v}.errors`),()=>n.throw(v))),y}function m(){const y=(0,$e._)`${d}.errors`;return n.assign(y,null),$($e.nil),y}function $(y=t.async?(0,$e._)`await `:$e.nil){const v=c.opts.passContext?rt.default.this:rt.default.self,E=!("compile"in t&&!i||t.schema===!1);n.assign(f,(0,$e._)`${y}${(0,Df.callValidateCode)(e,d,v,E)}`,t.modifying)}function p(y){var v;n.if((0,$e.not)((v=t.valid)!==null&&v!==void 0?v:f),y)}}De.funcKeywordCode=Mf;function sa(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,$e._)`${n.parentData}[${n.parentDataProperty}]`))}function Vf(e,t){const{gen:r}=e;r.if((0,$e._)`Array.isArray(${t})`,()=>{r.assign(rt.default.vErrors,(0,$e._)`${rt.default.vErrors} === null ? ${t} : ${rt.default.vErrors}.concat(${t})`).assign(rt.default.errors,(0,$e._)`${rt.default.vErrors}.length`),(0,Af.extendErrors)(e)},()=>e.error())}function Uf({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Bo(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,$e.stringify)(r)})}function Bf(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}De.validSchemaType=Bf;function zf({schema:e,opts:t,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");const o=s.dependencies;if(o!=null&&o.some(i=>!Object.prototype.hasOwnProperty.call(e,i)))throw new Error(`parent schema must have dependencies of ${a}: ${o.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[a])){const c=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}De.validateKeywordUsage=zf;var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.extendSubschemaMode=Ze.extendSubschemaData=Ze.getSubschema=void 0;const Ie=Y,zo=R;function Lf(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const i=e.schema[t];return r===void 0?{schema:i,schemaPath:(0,Ie._)`${e.schemaPath}${(0,Ie.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:i[r],schemaPath:(0,Ie._)`${e.schemaPath}${(0,Ie.getProperty)(t)}${(0,Ie.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,zo.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||a===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:o,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}Ze.getSubschema=Lf;function qf(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:a,propertyName:o}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:i}=t;if(r!==void 0){const{errorPath:u,dataPathArr:d,opts:f}=t,l=i.let("data",(0,Ie._)`${t.data}${(0,Ie.getProperty)(r)}`,!0);c(l),e.errorPath=(0,Ie.str)`${u}${(0,zo.getErrorPath)(r,n,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Ie._)`${r}`,e.dataPathArr=[...d,e.parentDataProperty]}if(s!==void 0){const u=s instanceof Ie.Name?s:i.let("data",s,!0);c(u),o!==void 0&&(e.propertyName=o)}a&&(e.dataTypes=a);function c(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}Ze.extendSubschemaData=qf;function Kf(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),a!==void 0&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=r}Ze.extendSubschemaMode=Kf;var pe={},Lo=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){var o=a[s];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r},qo={exports:{}},Xe=qo.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};$r(t,n,s,e,"",e)};Xe.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Xe.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Xe.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Xe.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function $r(e,t,r,n,s,a,o,i,c,u){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,a,o,i,c,u);for(var d in n){var f=n[d];if(Array.isArray(f)){if(d in Xe.arrayKeywords)for(var l=0;l<f.length;l++)$r(e,t,r,f[l],s+"/"+d+"/"+l,a,s,d,n,l)}else if(d in Xe.propsKeywords){if(f&&typeof f=="object")for(var h in f)$r(e,t,r,f[h],s+"/"+d+"/"+Wf(h),a,s,d,n,h)}else(d in Xe.keywords||e.allKeys&&!(d in Xe.skipKeywords))&&$r(e,t,r,f,s+"/"+d,a,s,d,n)}r(n,s,a,o,i,c,u)}}function Wf(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Hf=qo.exports;Object.defineProperty(pe,"__esModule",{value:!0});pe.getSchemaRefs=pe.resolveUrl=pe.normalizeId=pe._getFullPath=pe.getFullPath=pe.inlineRef=void 0;const Gf=R,Jf=Lo,Yf=Hf,Xf=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Zf(e,t=!0){return typeof e=="boolean"?!0:t===!0?!_n(e):t?Ko(e)<=t:!1}pe.inlineRef=Zf;const Qf=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function _n(e){for(const t in e){if(Qf.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(_n)||typeof r=="object"&&_n(r))return!0}return!1}function Ko(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Xf.has(r)&&(typeof e[r]=="object"&&(0,Gf.eachItem)(e[r],n=>t+=Ko(n)),t===1/0))return 1/0}return t}function Wo(e,t="",r){r!==!1&&(t=_t(t));const n=e.parse(t);return Ho(e,n)}pe.getFullPath=Wo;function Ho(e,t){return e.serialize(t).split("#")[0]+"#"}pe._getFullPath=Ho;const em=/#\/?$/;function _t(e){return e?e.replace(em,""):""}pe.normalizeId=_t;function tm(e,t,r){return r=_t(r),e.resolve(t,r)}pe.resolveUrl=tm;const rm=/^[a-z_][-a-z0-9._]*$/i;function nm(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=_t(e[r]||t),a={"":s},o=Wo(n,s,!1),i={},c=new Set;return Yf(e,{allKeys:!0},(f,l,h,m)=>{if(m===void 0)return;const $=o+l;let p=a[m];typeof f[r]=="string"&&(p=y.call(this,f[r])),v.call(this,f.$anchor),v.call(this,f.$dynamicAnchor),a[l]=p;function y(E){const b=this.opts.uriResolver.resolve;if(E=_t(p?b(p,E):E),c.has(E))throw d(E);c.add(E);let j=this.refs[E];return typeof j=="string"&&(j=this.refs[j]),typeof j=="object"?u(f,j.schema,E):E!==_t($)&&(E[0]==="#"?(u(f,i[E],E),i[E]=f):this.refs[E]=$),E}function v(E){if(typeof E=="string"){if(!rm.test(E))throw new Error(`invalid anchor "${E}"`);y.call(this,`#${E}`)}}}),i;function u(f,l,h){if(l!==void 0&&!Jf(f,l))throw d(h)}function d(f){return new Error(`reference "${f}" resolves to more than one schema`)}}pe.getSchemaRefs=nm;Object.defineProperty(Oe,"__esModule",{value:!0});Oe.getData=Oe.KeywordCxt=Oe.validateFunctionCode=void 0;const Go=St,aa=fe,Yn=Ue,kr=fe,sm=Mr,Bt=De,an=Ze,B=Y,W=Re,am=pe,Be=R,Dt=nr;function om(e){if(Xo(e)&&(Zo(e),Yo(e))){lm(e);return}Jo(e,()=>(0,Go.topBoolOrEmptySchema)(e))}Oe.validateFunctionCode=om;function Jo({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},a){s.code.es5?e.func(t,(0,B._)`${W.default.data}, ${W.default.valCxt}`,n.$async,()=>{e.code((0,B._)`"use strict"; ${oa(r,s)}`),cm(e,s),e.code(a)}):e.func(t,(0,B._)`${W.default.data}, ${im(s)}`,n.$async,()=>e.code(oa(r,s)).code(a))}function im(e){return(0,B._)`{${W.default.instancePath}="", ${W.default.parentData}, ${W.default.parentDataProperty}, ${W.default.rootData}=${W.default.data}${e.dynamicRef?(0,B._)`, ${W.default.dynamicAnchors}={}`:B.nil}}={}`}function cm(e,t){e.if(W.default.valCxt,()=>{e.var(W.default.instancePath,(0,B._)`${W.default.valCxt}.${W.default.instancePath}`),e.var(W.default.parentData,(0,B._)`${W.default.valCxt}.${W.default.parentData}`),e.var(W.default.parentDataProperty,(0,B._)`${W.default.valCxt}.${W.default.parentDataProperty}`),e.var(W.default.rootData,(0,B._)`${W.default.valCxt}.${W.default.rootData}`),t.dynamicRef&&e.var(W.default.dynamicAnchors,(0,B._)`${W.default.valCxt}.${W.default.dynamicAnchors}`)},()=>{e.var(W.default.instancePath,(0,B._)`""`),e.var(W.default.parentData,(0,B._)`undefined`),e.var(W.default.parentDataProperty,(0,B._)`undefined`),e.var(W.default.rootData,W.default.data),t.dynamicRef&&e.var(W.default.dynamicAnchors,(0,B._)`{}`)})}function lm(e){const{schema:t,opts:r,gen:n}=e;Jo(e,()=>{r.$comment&&t.$comment&&ei(e),hm(e),n.let(W.default.vErrors,null),n.let(W.default.errors,0),r.unevaluated&&dm(e),Qo(e),gm(e)})}function dm(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,B._)`${r}.evaluated`),t.if((0,B._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,B._)`${e.evaluated}.props`,(0,B._)`undefined`)),t.if((0,B._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,B._)`${e.evaluated}.items`,(0,B._)`undefined`))}function oa(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,B._)`/*# sourceURL=${r} */`:B.nil}function um(e,t){if(Xo(e)&&(Zo(e),Yo(e))){fm(e,t);return}(0,Go.boolOrEmptySchema)(e,t)}function Yo({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function Xo(e){return typeof e.schema!="boolean"}function fm(e,t){const{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&ei(e),pm(e),ym(e);const a=n.const("_errs",W.default.errors);Qo(e,a),n.var(t,(0,B._)`${a} === ${W.default.errors}`)}function Zo(e){(0,Be.checkUnknownRules)(e),mm(e)}function Qo(e,t){if(e.opts.jtd)return ia(e,[],!1,t);const r=(0,aa.getSchemaTypes)(e.schema),n=(0,aa.coerceAndCheckDataType)(e,r);ia(e,r,!n,t)}function mm(e){const{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Be.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function hm(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Be.checkStrictMode)(e,"default is ignored in the schema root")}function pm(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,am.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function ym(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function ei({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){const a=r.$comment;if(s.$comment===!0)e.code((0,B._)`${W.default.self}.logger.log(${a})`);else if(typeof s.$comment=="function"){const o=(0,B.str)`${n}/$comment`,i=e.scopeValue("root",{ref:t.root});e.code((0,B._)`${W.default.self}.opts.$comment(${a}, ${o}, ${i}.schema)`)}}function gm(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=e;r.$async?t.if((0,B._)`${W.default.errors} === 0`,()=>t.return(W.default.data),()=>t.throw((0,B._)`new ${s}(${W.default.vErrors})`)):(t.assign((0,B._)`${n}.errors`,W.default.vErrors),a.unevaluated&&$m(e),t.return((0,B._)`${W.default.errors} === 0`))}function $m({gen:e,evaluated:t,props:r,items:n}){r instanceof B.Name&&e.assign((0,B._)`${t}.props`,r),n instanceof B.Name&&e.assign((0,B._)`${t}.items`,n)}function ia(e,t,r,n){const{gen:s,schema:a,data:o,allErrors:i,opts:c,self:u}=e,{RULES:d}=u;if(a.$ref&&(c.ignoreKeywordsWithRef||!(0,Be.schemaHasRulesButRef)(a,d))){s.block(()=>ni(e,"$ref",d.all.$ref.definition));return}c.jtd||vm(e,t),s.block(()=>{for(const l of d.rules)f(l);f(d.post)});function f(l){(0,Yn.shouldUseGroup)(a,l)&&(l.type?(s.if((0,kr.checkDataType)(l.type,o,c.strictNumbers)),ca(e,l),t.length===1&&t[0]===l.type&&r&&(s.else(),(0,kr.reportTypeError)(e)),s.endIf()):ca(e,l),i||s.if((0,B._)`${W.default.errors} === ${n||0}`))}}function ca(e,t){const{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,sm.assignDefaults)(e,t.type),r.block(()=>{for(const a of t.rules)(0,Yn.shouldUseRule)(n,a)&&ni(e,a.keyword,a.definition,t.type)})}function vm(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(_m(e,t),e.opts.allowUnionTypes||bm(e,t),Sm(e,e.dataTypes))}function _m(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{ti(e.dataTypes,r)||Xn(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),Em(e,t)}}function bm(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Xn(e,"use allowUnionTypes to allow union type keyword")}function Sm(e,t){const r=e.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,Yn.shouldUseRule)(e.schema,s)){const{type:a}=s.definition;a.length&&!a.some(o=>wm(t,o))&&Xn(e,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function wm(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function ti(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function Em(e,t){const r=[];for(const n of e.dataTypes)ti(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function Xn(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Be.checkStrictMode)(e,t,e.opts.strictTypes)}class ri{constructor(t,r,n){if((0,Bt.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Be.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",si(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Bt.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",W.default.errors))}result(t,r,n){this.failResult((0,B.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,B.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,B._)`${r} !== undefined && (${(0,B.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Dt.reportExtraError:Dt.reportError)(this,this.def.error,r)}$dataError(){(0,Dt.reportError)(this,this.def.$dataError||Dt.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Dt.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=B.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=B.nil,r=B.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:a,def:o}=this;n.if((0,B.or)((0,B._)`${s} === undefined`,r)),t!==B.nil&&n.assign(t,!0),(a.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==B.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:s,it:a}=this;return(0,B.or)(o(),i());function o(){if(n.length){if(!(r instanceof B.Name))throw new Error("ajv implementation error");const c=Array.isArray(n)?n:[n];return(0,B._)`${(0,kr.checkDataTypes)(c,r,a.opts.strictNumbers,kr.DataType.Wrong)}`}return B.nil}function i(){if(s.validateSchema){const c=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,B._)`!${c}(${r})`}return B.nil}}subschema(t,r){const n=(0,an.getSubschema)(this.it,t);(0,an.extendSubschemaData)(n,this.it,t),(0,an.extendSubschemaMode)(n,t);const s={...this.it,...n,items:void 0,props:void 0};return um(s,r),s}mergeEvaluated(t,r){const{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Be.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Be.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,B.Name)),!0}}Oe.KeywordCxt=ri;function ni(e,t,r,n){const s=new ri(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,Bt.funcKeywordCode)(s,r):"macro"in r?(0,Bt.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,Bt.funcKeywordCode)(s,r)}const jm=/^\/(?:[^~]|~0|~1)*$/,km=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function si(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,a;if(e==="")return W.default.rootData;if(e[0]==="/"){if(!jm.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,a=W.default.rootData}else{const u=km.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const d=+u[1];if(s=u[2],s==="#"){if(d>=t)throw new Error(c("property/index",d));return n[t-d]}if(d>t)throw new Error(c("data",d));if(a=r[t-d],!s)return a}let o=a;const i=s.split("/");for(const u of i)u&&(a=(0,B._)`${a}${(0,B.getProperty)((0,Be.unescapeJsonPointer)(u))}`,o=(0,B._)`${o} && ${a}`);return o;function c(u,d){return`Cannot access ${u} ${d} levels up, current level is ${t}`}}Oe.getData=si;var sr={};Object.defineProperty(sr,"__esModule",{value:!0});class Cm extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}sr.default=Cm;var Et={};Object.defineProperty(Et,"__esModule",{value:!0});const on=pe;class Pm extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,on.resolveUrl)(t,r,n),this.missingSchema=(0,on.normalizeId)((0,on.getFullPath)(t,this.missingRef))}}Et.default=Pm;var _e={};Object.defineProperty(_e,"__esModule",{value:!0});_e.resolveSchema=_e.getCompilingSchema=_e.resolveRef=_e.compileSchema=_e.SchemaEnv=void 0;const Ce=Y,Tm=sr,Qe=Re,Te=pe,la=R,Om=Oe;class Vr{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Te.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}_e.SchemaEnv=Vr;function Zn(e){const t=ai.call(this,e);if(t)return t;const r=(0,Te.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,o=new Ce.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a});let i;e.$async&&(i=o.scopeValue("Error",{ref:Tm.default,code:(0,Ce._)`require("ajv/dist/runtime/validation_error").default`}));const c=o.scopeName("validate");e.validateName=c;const u={gen:o,allErrors:this.opts.allErrors,data:Qe.default.data,parentData:Qe.default.parentData,parentDataProperty:Qe.default.parentDataProperty,dataNames:[Qe.default.data],dataPathArr:[Ce.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Ce.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:i,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Ce.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ce._)`""`,opts:this.opts,self:this};let d;try{this._compilations.add(e),(0,Om.validateFunctionCode)(u),o.optimize(this.opts.code.optimize);const f=o.toString();d=`${o.scopeRefs(Qe.default.scope)}return ${f}`,this.opts.code.process&&(d=this.opts.code.process(d,e));const h=new Function(`${Qe.default.self}`,`${Qe.default.scope}`,d)(this,this.scope.get());if(this.scope.value(c,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:c,validateCode:f,scopeValues:o._values}),this.opts.unevaluated){const{props:m,items:$}=u;h.evaluated={props:m instanceof Ce.Name?void 0:m,items:$ instanceof Ce.Name?void 0:$,dynamicProps:m instanceof Ce.Name,dynamicItems:$ instanceof Ce.Name},h.source&&(h.source.evaluated=(0,Ce.stringify)(h.evaluated))}return e.validate=h,e}catch(f){throw delete e.validate,delete e.validateName,d&&this.logger.error("Error compiling schema, function code:",d),f}finally{this._compilations.delete(e)}}_e.compileSchema=Zn;function Nm(e,t,r){var n;r=(0,Te.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let a=xm.call(this,e,r);if(a===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:i}=this.opts;o&&(a=new Vr({schema:o,schemaId:i,root:e,baseId:t}))}if(a!==void 0)return e.refs[r]=Im.call(this,a)}_e.resolveRef=Nm;function Im(e){return(0,Te.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Zn.call(this,e)}function ai(e){for(const t of this._compilations)if(Fm(t,e))return t}_e.getCompilingSchema=ai;function Fm(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function xm(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Ur.call(this,e,t)}function Ur(e,t){const r=this.opts.uriResolver.parse(t),n=(0,Te._getFullPath)(this.opts.uriResolver,r);let s=(0,Te.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return cn.call(this,r,e);const a=(0,Te.normalizeId)(n),o=this.refs[a]||this.schemas[a];if(typeof o=="string"){const i=Ur.call(this,e,o);return typeof(i==null?void 0:i.schema)!="object"?void 0:cn.call(this,r,i)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||Zn.call(this,o),a===(0,Te.normalizeId)(t)){const{schema:i}=o,{schemaId:c}=this.opts,u=i[c];return u&&(s=(0,Te.resolveUrl)(this.opts.uriResolver,s,u)),new Vr({schema:i,schemaId:c,root:e,baseId:s})}return cn.call(this,r,o)}}_e.resolveSchema=Ur;const Dm=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function cn(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const i of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,la.unescapeFragment)(i)];if(c===void 0)return;r=c;const u=typeof r=="object"&&r[this.opts.schemaId];!Dm.has(i)&&u&&(t=(0,Te.resolveUrl)(this.opts.uriResolver,t,u))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,la.schemaHasRulesButRef)(r,this.RULES)){const i=(0,Te.resolveUrl)(this.opts.uriResolver,t,r.$ref);a=Ur.call(this,n,i)}const{schemaId:o}=this.opts;if(a=a||new Vr({schema:r,schemaId:o,root:n,baseId:t}),a.schema!==a.root.schema)return a}const Am="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Rm="Meta-schema for $data reference (JSON AnySchema extension proposal)",Mm="object",Vm=["$data"],Um={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Bm=!1,zm={$id:Am,description:Rm,type:Mm,required:Vm,properties:Um,additionalProperties:Bm};var Qn={},Br={exports:{}};const Lm={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};var qm={HEX:Lm};const{HEX:Km}=qm,Wm=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function oi(e){if(ci(e,".")<3)return{host:e,isIPV4:!1};const t=e.match(Wm)||[],[r]=t;return r?{host:Gm(r,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function da(e,t=!1){let r="",n=!0;for(const s of e){if(Km[s]===void 0)return;s!=="0"&&n===!0&&(n=!1),n||(r+=s)}return t&&r.length===0&&(r="0"),r}function Hm(e){let t=0;const r={error:!1,address:"",zone:""},n=[],s=[];let a=!1,o=!1,i=!1;function c(){if(s.length){if(a===!1){const u=da(s);if(u!==void 0)n.push(u);else return r.error=!0,!1}s.length=0}return!0}for(let u=0;u<e.length;u++){const d=e[u];if(!(d==="["||d==="]"))if(d===":"){if(o===!0&&(i=!0),!c())break;if(t++,n.push(":"),t>7){r.error=!0;break}u-1>=0&&e[u-1]===":"&&(o=!0);continue}else if(d==="%"){if(!c())break;a=!0}else{s.push(d);continue}}return s.length&&(a?r.zone=s.join(""):i?n.push(s.join("")):n.push(da(s))),r.address=n.join(""),r}function ii(e){if(ci(e,":")<2)return{host:e,isIPV6:!1};const t=Hm(e);if(t.error)return{host:e,isIPV6:!1};{let r=t.address,n=t.address;return t.zone&&(r+="%"+t.zone,n+="%25"+t.zone),{host:r,escapedHost:n,isIPV6:!0}}}function Gm(e,t){let r="",n=!0;const s=e.length;for(let a=0;a<s;a++){const o=e[a];o==="0"&&n?(a+1<=s&&e[a+1]===t||a+1===s)&&(r+=o,n=!1):(o===t?n=!0:n=!1,r+=o)}return r}function ci(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}const ua=/^\.\.?\//u,fa=/^\/\.(?:\/|$)/u,ma=/^\/\.\.(?:\/|$)/u,Jm=/^\/?(?:.|\n)*?(?=\/|$)/u;function Ym(e){const t=[];for(;e.length;)if(e.match(ua))e=e.replace(ua,"");else if(e.match(fa))e=e.replace(fa,"/");else if(e.match(ma))e=e.replace(ma,"/"),t.pop();else if(e==="."||e==="..")e="";else{const r=e.match(Jm);if(r){const n=r[0];e=e.slice(n.length),t.push(n)}else throw new Error("Unexpected dot segment condition")}return t.join("")}function Xm(e,t){const r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function Zm(e){const t=[];if(e.userinfo!==void 0&&(t.push(e.userinfo),t.push("@")),e.host!==void 0){let r=unescape(e.host);const n=oi(r);if(n.isIPV4)r=n.host;else{const s=ii(n.host);s.isIPV6===!0?r=`[${s.escapedHost}]`:r=e.host}t.push(r)}return(typeof e.port=="number"||typeof e.port=="string")&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}var Qm={recomposeAuthority:Zm,normalizeComponentEncoding:Xm,removeDotSegments:Ym,normalizeIPv4:oi,normalizeIPv6:ii};const eh=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,th=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function li(e){return typeof e.secure=="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}function di(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function ui(e){const t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function rh(e){return e.secure=li(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function nh(e){if((e.port===(li(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function sh(e,t){if(!e.path)return e.error="URN can not be parsed",e;const r=e.path.match(th);if(r){const n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];const s=`${n}:${t.nid||e.nid}`,a=es[s];e.path=void 0,a&&(e=a.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function ah(e,t){const r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),s=`${r}:${t.nid||n}`,a=es[s];a&&(e=a.serialize(e,t));const o=e,i=e.nss;return o.path=`${n||t.nid}:${i}`,t.skipEscape=!0,o}function oh(e,t){const r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!eh.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function ih(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t}const fi={scheme:"http",domainHost:!0,parse:di,serialize:ui},ch={scheme:"https",domainHost:fi.domainHost,parse:di,serialize:ui},vr={scheme:"ws",domainHost:!0,parse:rh,serialize:nh},lh={scheme:"wss",domainHost:vr.domainHost,parse:vr.parse,serialize:vr.serialize},dh={scheme:"urn",parse:sh,serialize:ah,skipNormalize:!0},uh={scheme:"urn:uuid",parse:oh,serialize:ih,skipNormalize:!0},es={http:fi,https:ch,ws:vr,wss:lh,urn:dh,"urn:uuid":uh};var fh=es;const{normalizeIPv6:mh,normalizeIPv4:hh,removeDotSegments:Rt,recomposeAuthority:ph,normalizeComponentEncoding:ir}=Qm,ts=fh;function yh(e,t){return typeof e=="string"?e=Ae(ze(e,t),t):typeof e=="object"&&(e=ze(Ae(e,t),t)),e}function gh(e,t,r){const n=Object.assign({scheme:"null"},r),s=mi(ze(e,n),ze(t,n),n,!0);return Ae(s,{...n,skipEscape:!0})}function mi(e,t,r,n){const s={};return n||(e=ze(Ae(e,r),r),t=ze(Ae(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=Rt(t.path||""),s.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=Rt(t.path||""),s.query=t.query):(t.path?(t.path.charAt(0)==="/"?s.path=Rt(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?s.path="/"+t.path:e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path,s.path=Rt(s.path)),s.query=t.query):(s.path=e.path,t.query!==void 0?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function $h(e,t,r){return typeof e=="string"?(e=unescape(e),e=Ae(ir(ze(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=Ae(ir(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=Ae(ir(ze(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=Ae(ir(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function Ae(e,t){const r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),s=[],a=ts[(n.scheme||r.scheme||"").toLowerCase()];a&&a.serialize&&a.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&s.push(r.scheme,":");const o=ph(r);if(o!==void 0&&(n.reference!=="suffix"&&s.push("//"),s.push(o),r.path&&r.path.charAt(0)!=="/"&&s.push("/")),r.path!==void 0){let i=r.path;!n.absolutePath&&(!a||!a.absolutePath)&&(i=Rt(i)),o===void 0&&(i=i.replace(/^\/\//u,"/%2F")),s.push(i)}return r.query!==void 0&&s.push("?",r.query),r.fragment!==void 0&&s.push("#",r.fragment),s.join("")}const vh=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)));function _h(e){let t=0;for(let r=0,n=e.length;r<n;++r)if(t=e.charCodeAt(r),t>126||vh[t])return!0;return!1}const bh=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function ze(e,t){const r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},s=e.indexOf("%")!==-1;let a=!1;r.reference==="suffix"&&(e=(r.scheme?r.scheme+":":"")+"//"+e);const o=e.match(bh);if(o){if(n.scheme=o[1],n.userinfo=o[3],n.host=o[4],n.port=parseInt(o[5],10),n.path=o[6]||"",n.query=o[7],n.fragment=o[8],isNaN(n.port)&&(n.port=o[5]),n.host){const c=hh(n.host);if(c.isIPV4===!1){const u=mh(c.host);n.host=u.host.toLowerCase(),a=u.isIPV6}else n.host=c.host,a=!0}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");const i=ts[(r.scheme||n.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!i||!i.unicodeSupport)&&n.host&&(r.domainHost||i&&i.domainHost)&&a===!1&&_h(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(c){n.error=n.error||"Host's domain name can not be converted to ASCII: "+c}(!i||i&&!i.skipNormalize)&&(s&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),s&&n.host!==void 0&&(n.host=unescape(n.host)),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),i&&i.parse&&i.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}const rs={SCHEMES:ts,normalize:yh,resolve:gh,resolveComponents:mi,equal:$h,serialize:Ae,parse:ze};Br.exports=rs;Br.exports.default=rs;Br.exports.fastUri=rs;var Sh=Br.exports;Object.defineProperty(Qn,"__esModule",{value:!0});const hi=Sh;hi.code='require("ajv/dist/runtime/uri").default';Qn.default=hi;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Oe;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=Y;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=sr,s=Et,a=lt,o=_e,i=Y,c=pe,u=fe,d=R,f=zm,l=Qn,h=(N,w)=>new RegExp(N,w);h.code="new RegExp";const m=["removeAdditional","useDefaults","coerceTypes"],$=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),p={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function E(N){var w,O,k,g,S,P,V,U,se,re,ue,Le,Ct,mt,ke,Pt,Tt,or,qr,Kr,Wr,Hr,Gr,Jr,Yr;const Ot=N.strict,Xr=(w=N.code)===null||w===void 0?void 0:w.optimize,xs=Xr===!0||Xr===void 0?1:Xr||0,Ds=(k=(O=N.code)===null||O===void 0?void 0:O.regExp)!==null&&k!==void 0?k:h,ki=(g=N.uriResolver)!==null&&g!==void 0?g:l.default;return{strictSchema:(P=(S=N.strictSchema)!==null&&S!==void 0?S:Ot)!==null&&P!==void 0?P:!0,strictNumbers:(U=(V=N.strictNumbers)!==null&&V!==void 0?V:Ot)!==null&&U!==void 0?U:!0,strictTypes:(re=(se=N.strictTypes)!==null&&se!==void 0?se:Ot)!==null&&re!==void 0?re:"log",strictTuples:(Le=(ue=N.strictTuples)!==null&&ue!==void 0?ue:Ot)!==null&&Le!==void 0?Le:"log",strictRequired:(mt=(Ct=N.strictRequired)!==null&&Ct!==void 0?Ct:Ot)!==null&&mt!==void 0?mt:!1,code:N.code?{...N.code,optimize:xs,regExp:Ds}:{optimize:xs,regExp:Ds},loopRequired:(ke=N.loopRequired)!==null&&ke!==void 0?ke:v,loopEnum:(Pt=N.loopEnum)!==null&&Pt!==void 0?Pt:v,meta:(Tt=N.meta)!==null&&Tt!==void 0?Tt:!0,messages:(or=N.messages)!==null&&or!==void 0?or:!0,inlineRefs:(qr=N.inlineRefs)!==null&&qr!==void 0?qr:!0,schemaId:(Kr=N.schemaId)!==null&&Kr!==void 0?Kr:"$id",addUsedSchema:(Wr=N.addUsedSchema)!==null&&Wr!==void 0?Wr:!0,validateSchema:(Hr=N.validateSchema)!==null&&Hr!==void 0?Hr:!0,validateFormats:(Gr=N.validateFormats)!==null&&Gr!==void 0?Gr:!0,unicodeRegExp:(Jr=N.unicodeRegExp)!==null&&Jr!==void 0?Jr:!0,int32range:(Yr=N.int32range)!==null&&Yr!==void 0?Yr:!0,uriResolver:ki}}class b{constructor(w={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,w=this.opts={...w,...E(w)};const{es5:O,lines:k}=this.opts.code;this.scope=new i.ValueScope({scope:{},prefixes:$,es5:O,lines:k}),this.logger=M(w.logger);const g=w.validateFormats;w.validateFormats=!1,this.RULES=(0,a.getRules)(),j.call(this,p,w,"NOT SUPPORTED"),j.call(this,y,w,"DEPRECATED","warn"),this._metaOpts=F.call(this),w.formats&&x.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),w.keywords&&I.call(this,w.keywords),typeof w.meta=="object"&&this.addMetaSchema(w.meta),T.call(this),w.validateFormats=g}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:w,meta:O,schemaId:k}=this.opts;let g=f;k==="id"&&(g={...f},g.id=g.$id,delete g.$id),O&&w&&this.addMetaSchema(g,g[k],!1)}defaultMeta(){const{meta:w,schemaId:O}=this.opts;return this.opts.defaultMeta=typeof w=="object"?w[O]||w:void 0}validate(w,O){let k;if(typeof w=="string"){if(k=this.getSchema(w),!k)throw new Error(`no schema with key or ref "${w}"`)}else k=this.compile(w);const g=k(O);return"$async"in k||(this.errors=k.errors),g}compile(w,O){const k=this._addSchema(w,O);return k.validate||this._compileSchemaEnv(k)}compileAsync(w,O){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:k}=this.opts;return g.call(this,w,O);async function g(re,ue){await S.call(this,re.$schema);const Le=this._addSchema(re,ue);return Le.validate||P.call(this,Le)}async function S(re){re&&!this.getSchema(re)&&await g.call(this,{$ref:re},!0)}async function P(re){try{return this._compileSchemaEnv(re)}catch(ue){if(!(ue instanceof s.default))throw ue;return V.call(this,ue),await U.call(this,ue.missingSchema),P.call(this,re)}}function V({missingSchema:re,missingRef:ue}){if(this.refs[re])throw new Error(`AnySchema ${re} is loaded but ${ue} cannot be resolved`)}async function U(re){const ue=await se.call(this,re);this.refs[re]||await S.call(this,ue.$schema),this.refs[re]||this.addSchema(ue,re,O)}async function se(re){const ue=this._loading[re];if(ue)return ue;try{return await(this._loading[re]=k(re))}finally{delete this._loading[re]}}}addSchema(w,O,k,g=this.opts.validateSchema){if(Array.isArray(w)){for(const P of w)this.addSchema(P,void 0,k,g);return this}let S;if(typeof w=="object"){const{schemaId:P}=this.opts;if(S=w[P],S!==void 0&&typeof S!="string")throw new Error(`schema ${P} must be string`)}return O=(0,c.normalizeId)(O||S),this._checkUnique(O),this.schemas[O]=this._addSchema(w,k,O,g,!0),this}addMetaSchema(w,O,k=this.opts.validateSchema){return this.addSchema(w,O,!0,k),this}validateSchema(w,O){if(typeof w=="boolean")return!0;let k;if(k=w.$schema,k!==void 0&&typeof k!="string")throw new Error("$schema must be a string");if(k=k||this.opts.defaultMeta||this.defaultMeta(),!k)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const g=this.validate(k,w);if(!g&&O){const S="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(S);else throw new Error(S)}return g}getSchema(w){let O;for(;typeof(O=C.call(this,w))=="string";)w=O;if(O===void 0){const{schemaId:k}=this.opts,g=new o.SchemaEnv({schema:{},schemaId:k});if(O=o.resolveSchema.call(this,g,w),!O)return;this.refs[w]=O}return O.validate||this._compileSchemaEnv(O)}removeSchema(w){if(w instanceof RegExp)return this._removeAllSchemas(this.schemas,w),this._removeAllSchemas(this.refs,w),this;switch(typeof w){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const O=C.call(this,w);return typeof O=="object"&&this._cache.delete(O.schema),delete this.schemas[w],delete this.refs[w],this}case"object":{const O=w;this._cache.delete(O);let k=w[this.opts.schemaId];return k&&(k=(0,c.normalizeId)(k),delete this.schemas[k],delete this.refs[k]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(w){for(const O of w)this.addKeyword(O);return this}addKeyword(w,O){let k;if(typeof w=="string")k=w,typeof O=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),O.keyword=k);else if(typeof w=="object"&&O===void 0){if(O=w,k=O.keyword,Array.isArray(k)&&!k.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(q.call(this,k,O),!O)return(0,d.eachItem)(k,S=>z.call(this,S)),this;ee.call(this,O);const g={...O,type:(0,u.getJSONTypes)(O.type),schemaType:(0,u.getJSONTypes)(O.schemaType)};return(0,d.eachItem)(k,g.type.length===0?S=>z.call(this,S,g):S=>g.type.forEach(P=>z.call(this,S,g,P))),this}getKeyword(w){const O=this.RULES.all[w];return typeof O=="object"?O.definition:!!O}removeKeyword(w){const{RULES:O}=this;delete O.keywords[w],delete O.all[w];for(const k of O.rules){const g=k.rules.findIndex(S=>S.keyword===w);g>=0&&k.rules.splice(g,1)}return this}addFormat(w,O){return typeof O=="string"&&(O=new RegExp(O)),this.formats[w]=O,this}errorsText(w=this.errors,{separator:O=", ",dataVar:k="data"}={}){return!w||w.length===0?"No errors":w.map(g=>`${k}${g.instancePath} ${g.message}`).reduce((g,S)=>g+O+S)}$dataMetaSchema(w,O){const k=this.RULES.all;w=JSON.parse(JSON.stringify(w));for(const g of O){const S=g.split("/").slice(1);let P=w;for(const V of S)P=P[V];for(const V in k){const U=k[V];if(typeof U!="object")continue;const{$data:se}=U.definition,re=P[V];se&&re&&(P[V]=ae(re))}}return w}_removeAllSchemas(w,O){for(const k in w){const g=w[k];(!O||O.test(k))&&(typeof g=="string"?delete w[k]:g&&!g.meta&&(this._cache.delete(g.schema),delete w[k]))}}_addSchema(w,O,k,g=this.opts.validateSchema,S=this.opts.addUsedSchema){let P;const{schemaId:V}=this.opts;if(typeof w=="object")P=w[V];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof w!="boolean")throw new Error("schema must be object or boolean")}let U=this._cache.get(w);if(U!==void 0)return U;k=(0,c.normalizeId)(P||k);const se=c.getSchemaRefs.call(this,w,k);return U=new o.SchemaEnv({schema:w,schemaId:V,meta:O,baseId:k,localRefs:se}),this._cache.set(U.schema,U),S&&!k.startsWith("#")&&(k&&this._checkUnique(k),this.refs[k]=U),g&&this.validateSchema(w,!0),U}_checkUnique(w){if(this.schemas[w]||this.refs[w])throw new Error(`schema with key or id "${w}" already exists`)}_compileSchemaEnv(w){if(w.meta?this._compileMetaSchema(w):o.compileSchema.call(this,w),!w.validate)throw new Error("ajv implementation error");return w.validate}_compileMetaSchema(w){const O=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,w)}finally{this.opts=O}}}b.ValidationError=n.default,b.MissingRefError=s.default,e.default=b;function j(N,w,O,k="error"){for(const g in N){const S=g;S in w&&this.logger[k](`${O}: option ${g}. ${N[S]}`)}}function C(N){return N=(0,c.normalizeId)(N),this.schemas[N]||this.refs[N]}function T(){const N=this.opts.schemas;if(N)if(Array.isArray(N))this.addSchema(N);else for(const w in N)this.addSchema(N[w],w)}function x(){for(const N in this.opts.formats){const w=this.opts.formats[N];w&&this.addFormat(N,w)}}function I(N){if(Array.isArray(N)){this.addVocabulary(N);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const w in N){const O=N[w];O.keyword||(O.keyword=w),this.addKeyword(O)}}function F(){const N={...this.opts};for(const w of m)delete N[w];return N}const D={log(){},warn(){},error(){}};function M(N){if(N===!1)return D;if(N===void 0)return console;if(N.log&&N.warn&&N.error)return N;throw new Error("logger must implement log, warn and error methods")}const L=/^[a-z_$][a-z0-9_$:-]*$/i;function q(N,w){const{RULES:O}=this;if((0,d.eachItem)(N,k=>{if(O.keywords[k])throw new Error(`Keyword ${k} is already defined`);if(!L.test(k))throw new Error(`Keyword ${k} has invalid name`)}),!!w&&w.$data&&!("code"in w||"validate"in w))throw new Error('$data keyword must have "code" or "validate" function')}function z(N,w,O){var k;const g=w==null?void 0:w.post;if(O&&g)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:S}=this;let P=g?S.post:S.rules.find(({type:U})=>U===O);if(P||(P={type:O,rules:[]},S.rules.push(P)),S.keywords[N]=!0,!w)return;const V={keyword:N,definition:{...w,type:(0,u.getJSONTypes)(w.type),schemaType:(0,u.getJSONTypes)(w.schemaType)}};w.before?A.call(this,P,V,w.before):P.rules.push(V),S.all[N]=V,(k=w.implements)===null||k===void 0||k.forEach(U=>this.addKeyword(U))}function A(N,w,O){const k=N.rules.findIndex(g=>g.keyword===O);k>=0?N.rules.splice(k,0,w):(N.rules.push(w),this.logger.warn(`rule ${O} is not defined`))}function ee(N){let{metaSchema:w}=N;w!==void 0&&(N.$data&&this.opts.$data&&(w=ae(w)),N.validateSchema=this.compile(w,!0))}const X={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ae(N){return{anyOf:[N,X]}}})(Co);var ns={},ss={},as={};Object.defineProperty(as,"__esModule",{value:!0});const wh={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};as.default=wh;var dt={};Object.defineProperty(dt,"__esModule",{value:!0});dt.callRef=dt.getValidate=void 0;const Eh=Et,ha=Z,ve=Y,yt=Re,pa=_e,cr=R,jh={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:a,validateName:o,opts:i,self:c}=n,{root:u}=a;if((r==="#"||r==="#/")&&s===u.baseId)return f();const d=pa.resolveRef.call(c,u,s,r);if(d===void 0)throw new Eh.default(n.opts.uriResolver,s,r);if(d instanceof pa.SchemaEnv)return l(d);return h(d);function f(){if(a===u)return _r(e,o,a,a.$async);const m=t.scopeValue("root",{ref:u});return _r(e,(0,ve._)`${m}.validate`,u,u.$async)}function l(m){const $=pi(e,m);_r(e,$,m,m.$async)}function h(m){const $=t.scopeValue("schema",i.code.source===!0?{ref:m,code:(0,ve.stringify)(m)}:{ref:m}),p=t.name("valid"),y=e.subschema({schema:m,dataTypes:[],schemaPath:ve.nil,topSchemaRef:$,errSchemaPath:r},p);e.mergeEvaluated(y),e.ok(p)}}};function pi(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,ve._)`${r.scopeValue("wrapper",{ref:t})}.validate`}dt.getValidate=pi;function _r(e,t,r,n){const{gen:s,it:a}=e,{allErrors:o,schemaEnv:i,opts:c}=a,u=c.passContext?yt.default.this:ve.nil;n?d():f();function d(){if(!i.$async)throw new Error("async schema referenced by sync schema");const m=s.let("valid");s.try(()=>{s.code((0,ve._)`await ${(0,ha.callValidateCode)(e,t,u)}`),h(t),o||s.assign(m,!0)},$=>{s.if((0,ve._)`!(${$} instanceof ${a.ValidationError})`,()=>s.throw($)),l($),o||s.assign(m,!1)}),e.ok(m)}function f(){e.result((0,ha.callValidateCode)(e,t,u),()=>h(t),()=>l(t))}function l(m){const $=(0,ve._)`${m}.errors`;s.assign(yt.default.vErrors,(0,ve._)`${yt.default.vErrors} === null ? ${$} : ${yt.default.vErrors}.concat(${$})`),s.assign(yt.default.errors,(0,ve._)`${yt.default.vErrors}.length`)}function h(m){var $;if(!a.opts.unevaluated)return;const p=($=r==null?void 0:r.validate)===null||$===void 0?void 0:$.evaluated;if(a.props!==!0)if(p&&!p.dynamicProps)p.props!==void 0&&(a.props=cr.mergeEvaluated.props(s,p.props,a.props));else{const y=s.var("props",(0,ve._)`${m}.evaluated.props`);a.props=cr.mergeEvaluated.props(s,y,a.props,ve.Name)}if(a.items!==!0)if(p&&!p.dynamicItems)p.items!==void 0&&(a.items=cr.mergeEvaluated.items(s,p.items,a.items));else{const y=s.var("items",(0,ve._)`${m}.evaluated.items`);a.items=cr.mergeEvaluated.items(s,y,a.items,ve.Name)}}}dt.callRef=_r;dt.default=jh;Object.defineProperty(ss,"__esModule",{value:!0});const kh=as,Ch=dt,Ph=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",kh.default,Ch.default];ss.default=Ph;var os={},is={};Object.defineProperty(is,"__esModule",{value:!0});const Cr=Y,He=Cr.operators,Pr={maximum:{okStr:"<=",ok:He.LTE,fail:He.GT},minimum:{okStr:">=",ok:He.GTE,fail:He.LT},exclusiveMaximum:{okStr:"<",ok:He.LT,fail:He.GTE},exclusiveMinimum:{okStr:">",ok:He.GT,fail:He.LTE}},Th={message:({keyword:e,schemaCode:t})=>(0,Cr.str)`must be ${Pr[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Cr._)`{comparison: ${Pr[e].okStr}, limit: ${t}}`},Oh={keyword:Object.keys(Pr),type:"number",schemaType:"number",$data:!0,error:Th,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Cr._)`${r} ${Pr[t].fail} ${n} || isNaN(${r})`)}};is.default=Oh;var cs={};Object.defineProperty(cs,"__esModule",{value:!0});const zt=Y,Nh={message:({schemaCode:e})=>(0,zt.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,zt._)`{multipleOf: ${e}}`},Ih={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Nh,code(e){const{gen:t,data:r,schemaCode:n,it:s}=e,a=s.opts.multipleOfPrecision,o=t.let("res"),i=a?(0,zt._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${a}`:(0,zt._)`${o} !== parseInt(${o})`;e.fail$data((0,zt._)`(${n} === 0 || (${o} = ${r}/${n}, ${i}))`)}};cs.default=Ih;var ls={},ds={};Object.defineProperty(ds,"__esModule",{value:!0});function yi(e){const t=e.length;let r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}ds.default=yi;yi.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(ls,"__esModule",{value:!0});const nt=Y,Fh=R,xh=ds,Dh={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,nt.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,nt._)`{limit: ${e}}`},Ah={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Dh,code(e){const{keyword:t,data:r,schemaCode:n,it:s}=e,a=t==="maxLength"?nt.operators.GT:nt.operators.LT,o=s.opts.unicode===!1?(0,nt._)`${r}.length`:(0,nt._)`${(0,Fh.useFunc)(e.gen,xh.default)}(${r})`;e.fail$data((0,nt._)`${o} ${a} ${n}`)}};ls.default=Ah;var us={};Object.defineProperty(us,"__esModule",{value:!0});const Rh=Z,Tr=Y,Mh={message:({schemaCode:e})=>(0,Tr.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Tr._)`{pattern: ${e}}`},Vh={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Mh,code(e){const{data:t,$data:r,schema:n,schemaCode:s,it:a}=e,o=a.opts.unicodeRegExp?"u":"",i=r?(0,Tr._)`(new RegExp(${s}, ${o}))`:(0,Rh.usePattern)(e,n);e.fail$data((0,Tr._)`!${i}.test(${t})`)}};us.default=Vh;var fs={};Object.defineProperty(fs,"__esModule",{value:!0});const Lt=Y,Uh={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Lt.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Lt._)`{limit: ${e}}`},Bh={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Uh,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?Lt.operators.GT:Lt.operators.LT;e.fail$data((0,Lt._)`Object.keys(${r}).length ${s} ${n}`)}};fs.default=Bh;var ms={};Object.defineProperty(ms,"__esModule",{value:!0});const At=Z,qt=Y,zh=R,Lh={message:({params:{missingProperty:e}})=>(0,qt.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,qt._)`{missingProperty: ${e}}`},qh={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Lh,code(e){const{gen:t,schema:r,schemaCode:n,data:s,$data:a,it:o}=e,{opts:i}=o;if(!a&&r.length===0)return;const c=r.length>=i.loopRequired;if(o.allErrors?u():d(),i.strictRequired){const h=e.parentSchema.properties,{definedProperties:m}=e.it;for(const $ of r)if((h==null?void 0:h[$])===void 0&&!m.has($)){const p=o.schemaEnv.baseId+o.errSchemaPath,y=`required property "${$}" is not defined at "${p}" (strictRequired)`;(0,zh.checkStrictMode)(o,y,o.opts.strictRequired)}}function u(){if(c||a)e.block$data(qt.nil,f);else for(const h of r)(0,At.checkReportMissingProp)(e,h)}function d(){const h=t.let("missing");if(c||a){const m=t.let("valid",!0);e.block$data(m,()=>l(h,m)),e.ok(m)}else t.if((0,At.checkMissingProp)(e,r,h)),(0,At.reportMissingProp)(e,h),t.else()}function f(){t.forOf("prop",n,h=>{e.setParams({missingProperty:h}),t.if((0,At.noPropertyInData)(t,s,h,i.ownProperties),()=>e.error())})}function l(h,m){e.setParams({missingProperty:h}),t.forOf(h,n,()=>{t.assign(m,(0,At.propertyInData)(t,s,h,i.ownProperties)),t.if((0,qt.not)(m),()=>{e.error(),t.break()})},qt.nil)}}};ms.default=qh;var hs={};Object.defineProperty(hs,"__esModule",{value:!0});const Kt=Y,Kh={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Kt.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Kt._)`{limit: ${e}}`},Wh={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Kh,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?Kt.operators.GT:Kt.operators.LT;e.fail$data((0,Kt._)`${r}.length ${s} ${n}`)}};hs.default=Wh;var ps={},ar={};Object.defineProperty(ar,"__esModule",{value:!0});const gi=Lo;gi.code='require("ajv/dist/runtime/equal").default';ar.default=gi;Object.defineProperty(ps,"__esModule",{value:!0});const ln=fe,he=Y,Hh=R,Gh=ar,Jh={message:({params:{i:e,j:t}})=>(0,he.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,he._)`{i: ${e}, j: ${t}}`},Yh={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Jh,code(e){const{gen:t,data:r,$data:n,schema:s,parentSchema:a,schemaCode:o,it:i}=e;if(!n&&!s)return;const c=t.let("valid"),u=a.items?(0,ln.getSchemaTypes)(a.items):[];e.block$data(c,d,(0,he._)`${o} === false`),e.ok(c);function d(){const m=t.let("i",(0,he._)`${r}.length`),$=t.let("j");e.setParams({i:m,j:$}),t.assign(c,!0),t.if((0,he._)`${m} > 1`,()=>(f()?l:h)(m,$))}function f(){return u.length>0&&!u.some(m=>m==="object"||m==="array")}function l(m,$){const p=t.name("item"),y=(0,ln.checkDataTypes)(u,p,i.opts.strictNumbers,ln.DataType.Wrong),v=t.const("indices",(0,he._)`{}`);t.for((0,he._)`;${m}--;`,()=>{t.let(p,(0,he._)`${r}[${m}]`),t.if(y,(0,he._)`continue`),u.length>1&&t.if((0,he._)`typeof ${p} == "string"`,(0,he._)`${p} += "_"`),t.if((0,he._)`typeof ${v}[${p}] == "number"`,()=>{t.assign($,(0,he._)`${v}[${p}]`),e.error(),t.assign(c,!1).break()}).code((0,he._)`${v}[${p}] = ${m}`)})}function h(m,$){const p=(0,Hh.useFunc)(t,Gh.default),y=t.name("outer");t.label(y).for((0,he._)`;${m}--;`,()=>t.for((0,he._)`${$} = ${m}; ${$}--;`,()=>t.if((0,he._)`${p}(${r}[${m}], ${r}[${$}])`,()=>{e.error(),t.assign(c,!1).break(y)})))}}};ps.default=Yh;var ys={};Object.defineProperty(ys,"__esModule",{value:!0});const bn=Y,Xh=R,Zh=ar,Qh={message:"must be equal to constant",params:({schemaCode:e})=>(0,bn._)`{allowedValue: ${e}}`},ep={keyword:"const",$data:!0,error:Qh,code(e){const{gen:t,data:r,$data:n,schemaCode:s,schema:a}=e;n||a&&typeof a=="object"?e.fail$data((0,bn._)`!${(0,Xh.useFunc)(t,Zh.default)}(${r}, ${s})`):e.fail((0,bn._)`${a} !== ${r}`)}};ys.default=ep;var gs={};Object.defineProperty(gs,"__esModule",{value:!0});const Mt=Y,tp=R,rp=ar,np={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Mt._)`{allowedValues: ${e}}`},sp={keyword:"enum",schemaType:"array",$data:!0,error:np,code(e){const{gen:t,data:r,$data:n,schema:s,schemaCode:a,it:o}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const i=s.length>=o.opts.loopEnum;let c;const u=()=>c??(c=(0,tp.useFunc)(t,rp.default));let d;if(i||n)d=t.let("valid"),e.block$data(d,f);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const h=t.const("vSchema",a);d=(0,Mt.or)(...s.map((m,$)=>l(h,$)))}e.pass(d);function f(){t.assign(d,!1),t.forOf("v",a,h=>t.if((0,Mt._)`${u()}(${r}, ${h})`,()=>t.assign(d,!0).break()))}function l(h,m){const $=s[m];return typeof $=="object"&&$!==null?(0,Mt._)`${u()}(${r}, ${h}[${m}])`:(0,Mt._)`${r} === ${$}`}}};gs.default=sp;Object.defineProperty(os,"__esModule",{value:!0});const ap=is,op=cs,ip=ls,cp=us,lp=fs,dp=ms,up=hs,fp=ps,mp=ys,hp=gs,pp=[ap.default,op.default,ip.default,cp.default,lp.default,dp.default,up.default,fp.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},mp.default,hp.default];os.default=pp;var $s={},jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt.validateAdditionalItems=void 0;const st=Y,Sn=R,yp={message:({params:{len:e}})=>(0,st.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,st._)`{limit: ${e}}`},gp={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:yp,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Sn.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}$i(e,n)}};function $i(e,t){const{gen:r,schema:n,data:s,keyword:a,it:o}=e;o.items=!0;const i=r.const("len",(0,st._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,st._)`${i} <= ${t.length}`);else if(typeof n=="object"&&!(0,Sn.alwaysValidSchema)(o,n)){const u=r.var("valid",(0,st._)`${i} <= ${t.length}`);r.if((0,st.not)(u),()=>c(u)),e.ok(u)}function c(u){r.forRange("i",t.length,i,d=>{e.subschema({keyword:a,dataProp:d,dataPropType:Sn.Type.Num},u),o.allErrors||r.if((0,st.not)(u),()=>r.break())})}}jt.validateAdditionalItems=$i;jt.default=gp;var vs={},kt={};Object.defineProperty(kt,"__esModule",{value:!0});kt.validateTuple=void 0;const ya=Y,br=R,$p=Z,vp={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return vi(e,"additionalItems",t);r.items=!0,!(0,br.alwaysValidSchema)(r,t)&&e.ok((0,$p.validateArray)(e))}};function vi(e,t,r=e.schema){const{gen:n,parentSchema:s,data:a,keyword:o,it:i}=e;d(s),i.opts.unevaluated&&r.length&&i.items!==!0&&(i.items=br.mergeEvaluated.items(n,r.length,i.items));const c=n.name("valid"),u=n.const("len",(0,ya._)`${a}.length`);r.forEach((f,l)=>{(0,br.alwaysValidSchema)(i,f)||(n.if((0,ya._)`${u} > ${l}`,()=>e.subschema({keyword:o,schemaProp:l,dataProp:l},c)),e.ok(c))});function d(f){const{opts:l,errSchemaPath:h}=i,m=r.length,$=m===f.minItems&&(m===f.maxItems||f[t]===!1);if(l.strictTuples&&!$){const p=`"${o}" is ${m}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,br.checkStrictMode)(i,p,l.strictTuples)}}}kt.validateTuple=vi;kt.default=vp;Object.defineProperty(vs,"__esModule",{value:!0});const _p=kt,bp={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,_p.validateTuple)(e,"items")};vs.default=bp;var _s={};Object.defineProperty(_s,"__esModule",{value:!0});const ga=Y,Sp=R,wp=Z,Ep=jt,jp={message:({params:{len:e}})=>(0,ga.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,ga._)`{limit: ${e}}`},kp={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:jp,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,Sp.alwaysValidSchema)(n,t)&&(s?(0,Ep.validateAdditionalItems)(e,s):e.ok((0,wp.validateArray)(e)))}};_s.default=kp;var bs={};Object.defineProperty(bs,"__esModule",{value:!0});const je=Y,lr=R,Cp={message:({params:{min:e,max:t}})=>t===void 0?(0,je.str)`must contain at least ${e} valid item(s)`:(0,je.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,je._)`{minContains: ${e}}`:(0,je._)`{minContains: ${e}, maxContains: ${t}}`},Pp={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Cp,code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;let o,i;const{minContains:c,maxContains:u}=n;a.opts.next?(o=c===void 0?1:c,i=u):o=1;const d=t.const("len",(0,je._)`${s}.length`);if(e.setParams({min:o,max:i}),i===void 0&&o===0){(0,lr.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(i!==void 0&&o>i){(0,lr.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,lr.alwaysValidSchema)(a,r)){let $=(0,je._)`${d} >= ${o}`;i!==void 0&&($=(0,je._)`${$} && ${d} <= ${i}`),e.pass($);return}a.items=!0;const f=t.name("valid");i===void 0&&o===1?h(f,()=>t.if(f,()=>t.break())):o===0?(t.let(f,!0),i!==void 0&&t.if((0,je._)`${s}.length > 0`,l)):(t.let(f,!1),l()),e.result(f,()=>e.reset());function l(){const $=t.name("_valid"),p=t.let("count",0);h($,()=>t.if($,()=>m(p)))}function h($,p){t.forRange("i",0,d,y=>{e.subschema({keyword:"contains",dataProp:y,dataPropType:lr.Type.Num,compositeRule:!0},$),p()})}function m($){t.code((0,je._)`${$}++`),i===void 0?t.if((0,je._)`${$} >= ${o}`,()=>t.assign(f,!0).break()):(t.if((0,je._)`${$} > ${i}`,()=>t.assign(f,!1).break()),o===1?t.assign(f,!0):t.if((0,je._)`${$} >= ${o}`,()=>t.assign(f,!0)))}}};bs.default=Pp;var _i={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Y,r=R,n=Z;e.error={message:({params:{property:c,depsCount:u,deps:d}})=>{const f=u===1?"property":"properties";return(0,t.str)`must have ${f} ${d} when property ${c} is present`},params:({params:{property:c,depsCount:u,deps:d,missingProperty:f}})=>(0,t._)`{property: ${c},
    missingProperty: ${f},
    depsCount: ${u},
    deps: ${d}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[u,d]=a(c);o(c,u),i(c,d)}};function a({schema:c}){const u={},d={};for(const f in c){if(f==="__proto__")continue;const l=Array.isArray(c[f])?u:d;l[f]=c[f]}return[u,d]}function o(c,u=c.schema){const{gen:d,data:f,it:l}=c;if(Object.keys(u).length===0)return;const h=d.let("missing");for(const m in u){const $=u[m];if($.length===0)continue;const p=(0,n.propertyInData)(d,f,m,l.opts.ownProperties);c.setParams({property:m,depsCount:$.length,deps:$.join(", ")}),l.allErrors?d.if(p,()=>{for(const y of $)(0,n.checkReportMissingProp)(c,y)}):(d.if((0,t._)`${p} && (${(0,n.checkMissingProp)(c,$,h)})`),(0,n.reportMissingProp)(c,h),d.else())}}e.validatePropertyDeps=o;function i(c,u=c.schema){const{gen:d,data:f,keyword:l,it:h}=c,m=d.name("valid");for(const $ in u)(0,r.alwaysValidSchema)(h,u[$])||(d.if((0,n.propertyInData)(d,f,$,h.opts.ownProperties),()=>{const p=c.subschema({keyword:l,schemaProp:$},m);c.mergeValidEvaluated(p,m)},()=>d.var(m,!0)),c.ok(m))}e.validateSchemaDeps=i,e.default=s})(_i);var Ss={};Object.defineProperty(Ss,"__esModule",{value:!0});const bi=Y,Tp=R,Op={message:"property name must be valid",params:({params:e})=>(0,bi._)`{propertyName: ${e.propertyName}}`},Np={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Op,code(e){const{gen:t,schema:r,data:n,it:s}=e;if((0,Tp.alwaysValidSchema)(s,r))return;const a=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},a),t.if((0,bi.not)(a),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(a)}};Ss.default=Np;var zr={};Object.defineProperty(zr,"__esModule",{value:!0});const dr=Z,Pe=Y,Ip=Re,ur=R,Fp={message:"must NOT have additional properties",params:({params:e})=>(0,Pe._)`{additionalProperty: ${e.additionalProperty}}`},xp={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Fp,code(e){const{gen:t,schema:r,parentSchema:n,data:s,errsCount:a,it:o}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:i,opts:c}=o;if(o.props=!0,c.removeAdditional!=="all"&&(0,ur.alwaysValidSchema)(o,r))return;const u=(0,dr.allSchemaProperties)(n.properties),d=(0,dr.allSchemaProperties)(n.patternProperties);f(),e.ok((0,Pe._)`${a} === ${Ip.default.errors}`);function f(){t.forIn("key",s,p=>{!u.length&&!d.length?m(p):t.if(l(p),()=>m(p))})}function l(p){let y;if(u.length>8){const v=(0,ur.schemaRefOrVal)(o,n.properties,"properties");y=(0,dr.isOwnProperty)(t,v,p)}else u.length?y=(0,Pe.or)(...u.map(v=>(0,Pe._)`${p} === ${v}`)):y=Pe.nil;return d.length&&(y=(0,Pe.or)(y,...d.map(v=>(0,Pe._)`${(0,dr.usePattern)(e,v)}.test(${p})`))),(0,Pe.not)(y)}function h(p){t.code((0,Pe._)`delete ${s}[${p}]`)}function m(p){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){h(p);return}if(r===!1){e.setParams({additionalProperty:p}),e.error(),i||t.break();return}if(typeof r=="object"&&!(0,ur.alwaysValidSchema)(o,r)){const y=t.name("valid");c.removeAdditional==="failing"?($(p,y,!1),t.if((0,Pe.not)(y),()=>{e.reset(),h(p)})):($(p,y),i||t.if((0,Pe.not)(y),()=>t.break()))}}function $(p,y,v){const E={keyword:"additionalProperties",dataProp:p,dataPropType:ur.Type.Str};v===!1&&Object.assign(E,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(E,y)}}};zr.default=xp;var ws={};Object.defineProperty(ws,"__esModule",{value:!0});const Dp=Oe,$a=Z,dn=R,va=zr,Ap={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:a}=e;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&va.default.code(new Dp.KeywordCxt(a,va.default,"additionalProperties"));const o=(0,$a.allSchemaProperties)(r);for(const f of o)a.definedProperties.add(f);a.opts.unevaluated&&o.length&&a.props!==!0&&(a.props=dn.mergeEvaluated.props(t,(0,dn.toHash)(o),a.props));const i=o.filter(f=>!(0,dn.alwaysValidSchema)(a,r[f]));if(i.length===0)return;const c=t.name("valid");for(const f of i)u(f)?d(f):(t.if((0,$a.propertyInData)(t,s,f,a.opts.ownProperties)),d(f),a.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(c);function u(f){return a.opts.useDefaults&&!a.compositeRule&&r[f].default!==void 0}function d(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},c)}}};ws.default=Ap;var Es={};Object.defineProperty(Es,"__esModule",{value:!0});const _a=Z,fr=Y,ba=R,Sa=R,Rp={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:s,it:a}=e,{opts:o}=a,i=(0,_a.allSchemaProperties)(r),c=i.filter($=>(0,ba.alwaysValidSchema)(a,r[$]));if(i.length===0||c.length===i.length&&(!a.opts.unevaluated||a.props===!0))return;const u=o.strictSchema&&!o.allowMatchingProperties&&s.properties,d=t.name("valid");a.props!==!0&&!(a.props instanceof fr.Name)&&(a.props=(0,Sa.evaluatedPropsToName)(t,a.props));const{props:f}=a;l();function l(){for(const $ of i)u&&h($),a.allErrors?m($):(t.var(d,!0),m($),t.if(d))}function h($){for(const p in u)new RegExp($).test(p)&&(0,ba.checkStrictMode)(a,`property ${p} matches pattern ${$} (use allowMatchingProperties)`)}function m($){t.forIn("key",n,p=>{t.if((0,fr._)`${(0,_a.usePattern)(e,$)}.test(${p})`,()=>{const y=c.includes($);y||e.subschema({keyword:"patternProperties",schemaProp:$,dataProp:p,dataPropType:Sa.Type.Str},d),a.opts.unevaluated&&f!==!0?t.assign((0,fr._)`${f}[${p}]`,!0):!y&&!a.allErrors&&t.if((0,fr.not)(d),()=>t.break())})})}}};Es.default=Rp;var js={};Object.defineProperty(js,"__esModule",{value:!0});const Mp=R,Vp={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,Mp.alwaysValidSchema)(n,r)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};js.default=Vp;var ks={};Object.defineProperty(ks,"__esModule",{value:!0});const Up=Z,Bp={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Up.validateUnion,error:{message:"must match a schema in anyOf"}};ks.default=Bp;var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});const Sr=Y,zp=R,Lp={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Sr._)`{passingSchemas: ${e.passing}}`},qp={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Lp,code(e){const{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const a=r,o=t.let("valid",!1),i=t.let("passing",null),c=t.name("_valid");e.setParams({passing:i}),t.block(u),e.result(o,()=>e.reset(),()=>e.error(!0));function u(){a.forEach((d,f)=>{let l;(0,zp.alwaysValidSchema)(s,d)?t.var(c,!0):l=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},c),f>0&&t.if((0,Sr._)`${c} && ${o}`).assign(o,!1).assign(i,(0,Sr._)`[${i}, ${f}]`).else(),t.if(c,()=>{t.assign(o,!0),t.assign(i,f),l&&e.mergeEvaluated(l,Sr.Name)})})}}};Cs.default=qp;var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});const Kp=R,Wp={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=t.name("valid");r.forEach((a,o)=>{if((0,Kp.alwaysValidSchema)(n,a))return;const i=e.subschema({keyword:"allOf",schemaProp:o},s);e.ok(s),e.mergeEvaluated(i)})}};Ps.default=Wp;var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});const Or=Y,Si=R,Hp={message:({params:e})=>(0,Or.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Or._)`{failingKeyword: ${e.ifClause}}`},Gp={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Hp,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Si.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=wa(n,"then"),a=wa(n,"else");if(!s&&!a)return;const o=t.let("valid",!0),i=t.name("_valid");if(c(),e.reset(),s&&a){const d=t.let("ifClause");e.setParams({ifClause:d}),t.if(i,u("then",d),u("else",d))}else s?t.if(i,u("then")):t.if((0,Or.not)(i),u("else"));e.pass(o,()=>e.error(!0));function c(){const d=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},i);e.mergeEvaluated(d)}function u(d,f){return()=>{const l=e.subschema({keyword:d},i);t.assign(o,i),e.mergeValidEvaluated(l,o),f?t.assign(f,(0,Or._)`${d}`):e.setParams({ifClause:d})}}}};function wa(e,t){const r=e.schema[t];return r!==void 0&&!(0,Si.alwaysValidSchema)(e,r)}Ts.default=Gp;var Os={};Object.defineProperty(Os,"__esModule",{value:!0});const Jp=R,Yp={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Jp.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Os.default=Yp;Object.defineProperty($s,"__esModule",{value:!0});const Xp=jt,Zp=vs,Qp=kt,ey=_s,ty=bs,ry=_i,ny=Ss,sy=zr,ay=ws,oy=Es,iy=js,cy=ks,ly=Cs,dy=Ps,uy=Ts,fy=Os;function my(e=!1){const t=[iy.default,cy.default,ly.default,dy.default,uy.default,fy.default,ny.default,sy.default,ry.default,ay.default,oy.default];return e?t.push(Zp.default,ey.default):t.push(Xp.default,Qp.default),t.push(ty.default),t}$s.default=my;var Ns={},Is={};Object.defineProperty(Is,"__esModule",{value:!0});const de=Y,hy={message:({schemaCode:e})=>(0,de.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,de._)`{format: ${e}}`},py={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:hy,code(e,t){const{gen:r,data:n,$data:s,schema:a,schemaCode:o,it:i}=e,{opts:c,errSchemaPath:u,schemaEnv:d,self:f}=i;if(!c.validateFormats)return;s?l():h();function l(){const m=r.scopeValue("formats",{ref:f.formats,code:c.code.formats}),$=r.const("fDef",(0,de._)`${m}[${o}]`),p=r.let("fType"),y=r.let("format");r.if((0,de._)`typeof ${$} == "object" && !(${$} instanceof RegExp)`,()=>r.assign(p,(0,de._)`${$}.type || "string"`).assign(y,(0,de._)`${$}.validate`),()=>r.assign(p,(0,de._)`"string"`).assign(y,$)),e.fail$data((0,de.or)(v(),E()));function v(){return c.strictSchema===!1?de.nil:(0,de._)`${o} && !${y}`}function E(){const b=d.$async?(0,de._)`(${$}.async ? await ${y}(${n}) : ${y}(${n}))`:(0,de._)`${y}(${n})`,j=(0,de._)`(typeof ${y} == "function" ? ${b} : ${y}.test(${n}))`;return(0,de._)`${y} && ${y} !== true && ${p} === ${t} && !${j}`}}function h(){const m=f.formats[a];if(!m){v();return}if(m===!0)return;const[$,p,y]=E(m);$===t&&e.pass(b());function v(){if(c.strictSchema===!1){f.logger.warn(j());return}throw new Error(j());function j(){return`unknown format "${a}" ignored in schema at path "${u}"`}}function E(j){const C=j instanceof RegExp?(0,de.regexpCode)(j):c.code.formats?(0,de._)`${c.code.formats}${(0,de.getProperty)(a)}`:void 0,T=r.scopeValue("formats",{key:a,ref:j,code:C});return typeof j=="object"&&!(j instanceof RegExp)?[j.type||"string",j.validate,(0,de._)`${T}.validate`]:["string",j,T]}function b(){if(typeof m=="object"&&!(m instanceof RegExp)&&m.async){if(!d.$async)throw new Error("async format in sync schema");return(0,de._)`await ${y}(${n})`}return typeof p=="function"?(0,de._)`${y}(${n})`:(0,de._)`${y}.test(${n})`}}}};Is.default=py;Object.defineProperty(Ns,"__esModule",{value:!0});const yy=Is,gy=[yy.default];Ns.default=gy;var wt={};Object.defineProperty(wt,"__esModule",{value:!0});wt.contentVocabulary=wt.metadataVocabulary=void 0;wt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];wt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(ns,"__esModule",{value:!0});const $y=ss,vy=os,_y=$s,by=Ns,Ea=wt,Sy=[$y.default,vy.default,(0,_y.default)(),by.default,Ea.metadataVocabulary,Ea.contentVocabulary];ns.default=Sy;var Fs={},Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.DiscrError=void 0;var ja;(function(e){e.Tag="tag",e.Mapping="mapping"})(ja||(Lr.DiscrError=ja={}));Object.defineProperty(Fs,"__esModule",{value:!0});const gt=Y,wn=Lr,ka=_e,wy=Et,Ey=R,jy={message:({params:{discrError:e,tagName:t}})=>e===wn.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,gt._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},ky={keyword:"discriminator",type:"object",schemaType:"object",error:jy,code(e){const{gen:t,data:r,schema:n,parentSchema:s,it:a}=e,{oneOf:o}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const i=n.propertyName;if(typeof i!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),u=t.const("tag",(0,gt._)`${r}${(0,gt.getProperty)(i)}`);t.if((0,gt._)`typeof ${u} == "string"`,()=>d(),()=>e.error(!1,{discrError:wn.DiscrError.Tag,tag:u,tagName:i})),e.ok(c);function d(){const h=l();t.if(!1);for(const m in h)t.elseIf((0,gt._)`${u} === ${m}`),t.assign(c,f(h[m]));t.else(),e.error(!1,{discrError:wn.DiscrError.Mapping,tag:u,tagName:i}),t.endIf()}function f(h){const m=t.name("valid"),$=e.subschema({keyword:"oneOf",schemaProp:h},m);return e.mergeEvaluated($,gt.Name),m}function l(){var h;const m={},$=y(s);let p=!0;for(let b=0;b<o.length;b++){let j=o[b];if(j!=null&&j.$ref&&!(0,Ey.schemaHasRulesButRef)(j,a.self.RULES)){const T=j.$ref;if(j=ka.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,T),j instanceof ka.SchemaEnv&&(j=j.schema),j===void 0)throw new wy.default(a.opts.uriResolver,a.baseId,T)}const C=(h=j==null?void 0:j.properties)===null||h===void 0?void 0:h[i];if(typeof C!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${i}"`);p=p&&($||y(j)),v(C,b)}if(!p)throw new Error(`discriminator: "${i}" must be required`);return m;function y({required:b}){return Array.isArray(b)&&b.includes(i)}function v(b,j){if(b.const)E(b.const,j);else if(b.enum)for(const C of b.enum)E(C,j);else throw new Error(`discriminator: "properties/${i}" must have "const" or "enum"`)}function E(b,j){if(typeof b!="string"||b in m)throw new Error(`discriminator: "${i}" values must be unique strings`);m[b]=j}}}};Fs.default=ky;const Cy="http://json-schema.org/draft-07/schema#",Py="http://json-schema.org/draft-07/schema#",Ty="Core schema meta-schema",Oy={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Ny=["object","boolean"],Iy={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Fy={$schema:Cy,$id:Py,title:Ty,definitions:Oy,type:Ny,properties:Iy,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=Co,n=ns,s=Fs,a=Fy,o=["/properties"],i="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(a,o):a;this.addMetaSchema(m,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}t.Ajv=c,e.exports=t=c,e.exports.Ajv=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var u=Oe;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var d=Y;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var f=sr;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var l=Et;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return l.default}})})(yn,yn.exports);var wi=yn.exports;const xy=qa(wi);var En={exports:{}},Ei={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(I,F){return{validate:I,compare:F}}e.fullFormats={date:t(a,o),time:t(c,u),"date-time":t(f,l),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:$,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:x,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:y,int32:{type:"number",validate:b},int64:{type:"number",validate:j},float:{type:"number",validate:C},double:{type:"number",validate:C},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,l),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(I){return I%4===0&&(I%100!==0||I%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31];function a(I){const F=n.exec(I);if(!F)return!1;const D=+F[1],M=+F[2],L=+F[3];return M>=1&&M<=12&&L>=1&&L<=(M===2&&r(D)?29:s[M])}function o(I,F){if(I&&F)return I>F?1:I<F?-1:0}const i=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function c(I,F){const D=i.exec(I);if(!D)return!1;const M=+D[1],L=+D[2],q=+D[3],z=D[5];return(M<=23&&L<=59&&q<=59||M===23&&L===59&&q===60)&&(!F||z!=="")}function u(I,F){if(!(I&&F))return;const D=i.exec(I),M=i.exec(F);if(D&&M)return I=D[1]+D[2]+D[3]+(D[4]||""),F=M[1]+M[2]+M[3]+(M[4]||""),I>F?1:I<F?-1:0}const d=/t|\s/i;function f(I){const F=I.split(d);return F.length===2&&a(F[0])&&c(F[1],!0)}function l(I,F){if(!(I&&F))return;const[D,M]=I.split(d),[L,q]=F.split(d),z=o(D,L);if(z!==void 0)return z||u(M,q)}const h=/\/|:/,m=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function $(I){return h.test(I)&&m.test(I)}const p=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function y(I){return p.lastIndex=0,p.test(I)}const v=-2147483648,E=2**31-1;function b(I){return Number.isInteger(I)&&I<=E&&I>=v}function j(I){return Number.isInteger(I)}function C(){return!0}const T=/[^\\]\\Z/;function x(I){if(T.test(I))return!1;try{return new RegExp(I),!0}catch{return!1}}})(Ei);var ji={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=wi,r=Y,n=r.operators,s={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},a={message:({keyword:i,schemaCode:c})=>r.str`should be ${s[i].okStr} ${c}`,params:({keyword:i,schemaCode:c})=>r._`{comparison: ${s[i].okStr}, limit: ${c}}`};e.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:a,code(i){const{gen:c,data:u,schemaCode:d,keyword:f,it:l}=i,{opts:h,self:m}=l;if(!h.validateFormats)return;const $=new t.KeywordCxt(l,m.RULES.all.format.definition,"format");$.$data?p():y();function p(){const E=c.scopeValue("formats",{ref:m.formats,code:h.code.formats}),b=c.const("fmt",r._`${E}[${$.schemaCode}]`);i.fail$data(r.or(r._`typeof ${b} != "object"`,r._`${b} instanceof RegExp`,r._`typeof ${b}.compare != "function"`,v(b)))}function y(){const E=$.schema,b=m.formats[E];if(!b||b===!0)return;if(typeof b!="object"||b instanceof RegExp||typeof b.compare!="function")throw new Error(`"${f}": format "${E}" does not define "compare" function`);const j=c.scopeValue("formats",{key:E,ref:b,code:h.code.formats?r._`${h.code.formats}${r.getProperty(E)}`:void 0});i.fail$data(v(j))}function v(E){return r._`${E}.compare(${u}, ${d}) ${s[f].fail} 0`}},dependencies:["format"]};const o=i=>(i.addKeyword(e.formatLimitDefinition),i);e.default=o})(ji);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Ei,n=ji,s=Y,a=new s.Name("fullFormats"),o=new s.Name("fastFormats"),i=(u,d={keywords:!0})=>{if(Array.isArray(d))return c(u,d,r.fullFormats,a),u;const[f,l]=d.mode==="fast"?[r.fastFormats,o]:[r.fullFormats,a],h=d.formats||r.formatNames;return c(u,h,f,l),d.keywords&&n.default(u),u};i.get=(u,d="full")=>{const l=(d==="fast"?r.fastFormats:r.fullFormats)[u];if(!l)throw new Error(`Unknown format "${u}"`);return l};function c(u,d,f,l){var h,m;(h=(m=u.opts.code).formats)!==null&&h!==void 0||(m.formats=s._`require("ajv-formats/dist/formats").${l}`);for(const $ of d)u.addFormat($,f[$])}e.exports=t=i,Object.defineProperty(t,"__esModule",{value:!0}),t.default=i})(En,En.exports);var Dy=En.exports;const Ca=qa(Dy),Ay={allErrors:!0,multipleOfPrecision:8,strict:!1,verbose:!0,discriminator:!1},Ry=/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,My=/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/;function Vy(e,t,r={},n,s=xy){const a=new s({...Ay,...r});return n?Ca(a,n):n!==!1&&Ca(a),a.addFormat("data-url",My),a.addFormat("color",Ry),a.addKeyword(Zt),a.addKeyword(jn),Array.isArray(e)&&a.addMetaSchema(e),xe(t)&&Object.keys(t).forEach(o=>{a.addFormat(o,t[o])}),a}function Uy(e=[],t){return e.map(r=>{var n;const{instancePath:s,keyword:a,params:o,schemaPath:i,parentSchema:c,...u}=r;let{message:d=""}=u,f=s.replace(/\//g,"."),l=`${f} ${d}`.trim();const h=[...((n=o.deps)===null||n===void 0?void 0:n.split(", "))||[],o.missingProperty,o.property].filter(m=>m);if(h.length>0)h.forEach(m=>{const $=f?`${f}.${m}`:m;let p=te(G(t,`${$.replace(/^\./,"")}`)).title;if(p===void 0){const y=i.replace(/\/properties\//g,"/").split("/").slice(1,-1).concat([m]);p=te(G(t,y)).title}if(p)d=d.replace(`'${m}'`,`'${p}'`);else{const y=G(c,[Se,m,"title"]);y&&(d=d.replace(`'${m}'`,`'${y}'`))}}),l=d;else{const m=te(G(t,`${f.replace(/^\./,"")}`)).title;if(m)l=`'${m}' ${d}`.trim();else{const $=c==null?void 0:c.title;$&&(l=`'${$}' ${d}`.trim())}}return"missingProperty"in o&&(f=f?`${f}.${o.missingProperty}`:o.missingProperty),{name:a,property:f,message:d,params:o,stack:l,schemaPath:i}})}function By(e,t,r,n,s,a,o){const{validationError:i}=t;let c=Uy(t.errors,o);i&&(c=[...c,{stack:i.message}]),typeof a=="function"&&(c=a(c,o));let u=Nc(c);if(i&&(u={...u,$schema:{__errors:[i.message]}}),typeof s!="function")return{errors:c,errorSchema:u};const d=xa(e,n,r,n,!0),f=s(d,jr(d),o),l=xn(f);return yr({errors:c,errorSchema:u},l)}class zy{constructor(t,r){const{additionalMetaSchemas:n,customFormats:s,ajvOptionsOverrides:a,ajvFormatOptions:o,AjvClass:i}=t;this.ajv=Vy(n,s,a,o,i),this.localizer=r}reset(){this.ajv.removeSchema()}toErrorList(t,r=[]){return Gt(t,r)}rawValidation(t,r){var n,s;let a,o;t[Ye]&&(o=this.ajv.getSchema(t[Ye]));try{o===void 0&&(o=this.ajv.compile(t)),o(r)}catch(c){a=c}let i;return o&&(typeof this.localizer=="function"&&(((n=o.errors)!==null&&n!==void 0?n:[]).forEach(c=>{var u;["missingProperty","property"].forEach(d=>{var f;!((f=c.params)===null||f===void 0)&&f[d]&&(c.params[d]=`'${c.params[d]}'`)}),!((u=c.params)===null||u===void 0)&&u.deps&&(c.params.deps=c.params.deps.split(", ").map(d=>`'${d}'`).join(", "))}),this.localizer(o.errors),((s=o.errors)!==null&&s!==void 0?s:[]).forEach(c=>{var u;["missingProperty","property"].forEach(d=>{var f;!((f=c.params)===null||f===void 0)&&f[d]&&(c.params[d]=c.params[d].slice(1,-1))}),!((u=c.params)===null||u===void 0)&&u.deps&&(c.params.deps=c.params.deps.split(", ").map(d=>d.slice(1,-1)).join(", "))})),i=o.errors||void 0,o.errors=null),{errors:i,validationError:a}}validateFormData(t,r,n,s,a){const o=this.rawValidation(r,t);return By(this,o,t,r,n,s,a)}handleSchemaUpdate(t){var r,n;const s=(r=t[Ye])!==null&&r!==void 0?r:Da;this.ajv.getSchema(s)===void 0?this.ajv.addSchema(t,s):le(t,(n=this.ajv.getSchema(s))===null||n===void 0?void 0:n.schema)||(this.ajv.removeSchema(s),this.ajv.addSchema(t,s))}isValid(t,r,n){var s;try{this.handleSchemaUpdate(n);const a=Dn(t),o=(s=a[Ye])!==null&&s!==void 0?s:kc(a);let i;return i=this.ajv.getSchema(o),i===void 0&&(i=this.ajv.addSchema(a,o).getSchema(o)||this.ajv.compile(a)),i(r)}catch(a){return console.warn("Error encountered compiling schema:",a),!1}}}function Ly(e={},t){return new zy(e,t)}const Lg=Ly();export{Qd as F,zg as M,Bg as W,Q as a,Qa as b,Wa as c,Ee as d,Ht as e,Nn as f,Zd as g,ft as l,Lg as v};
