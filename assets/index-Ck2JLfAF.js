import{aD as Ea,cQ as Ii,cR as fn,aF as Ai,dx as xi,gx as Di,bC as ja,gy as Ri,gz as Rn,gA as Mi,bB as Ca,dr as qi,gB as Ui,bA as Vi,gC as Bi,gD as Li,bN as zi,gE as Ki,V as vn,j,gF as ut,c4 as Oa,d4 as xe,dA as Ta,e_ as wr,r as Y,da as Pe,b$ as pt,gG as Mn,dv as Wi,dg as Er,ca as Hi,de as qn,bs as Pa,W as st,P as _n,c7 as Sn,Y as kr,dR as ka,dD as Na,ax as Gi,B as Ji,cw as Yi,ay as bn}from"./iframe-D2314vV7.js";import{i as yr,g as ee,E as $e,a as Ot,r as De,P as he,C as Fa,D as Ia,h as le,R as Fe,O as pe,b as ge,c as Xi,U as Aa,e as Tt,f as xa,j as Qi,k as Da,l as Ra,d as me,I as rt,m as Re,N as gr,n as Ma,o as Un,s as fe,p as $n,q as qa,t as Zi,v as eo,S as jr,w as Vn,L as to,F as Bn,x as et,y as Ua,T as oe,z as Ln,B as Et,G as mn,H as nt,J as zr,K as ro,A as Pt,M as no}from"./enums-GrzaVVyp.js";import{d as zn,g as Va}from"./index-Chi_LkuB.js";import{g as z}from"./_baseIteratee-vNs5qHqV.js";import{i as vr}from"./isString-0a-oBQWp.js";import{b as so}from"./_baseEach-lxWvv5jk.js";import{p as ao,i as io}from"./pickBy-ZOU6t9n3.js";import{A as oo}from"./Add-Be_rbPjO.js";import{G as je}from"./Grid-B3ew8oLs.js";import{L as Ba}from"./ListItem-CI4GcaHb.js";import{L as co}from"./ListItemIcon-ClXSUENs.js";import{L as lo}from"./ListItemText-DyhNIUzD.js";import{A as uo}from"./ArrowUpward-BntBSkIZ.js";import{C as fo}from"./ContentCopy-tjr1kz0G.js";import{F as wn}from"./FormControlLabel-C5kknZuE.js";import{C as La}from"./Checkbox-ClaraH4O.js";import{F as mo}from"./FormGroup-z7mM7lym.js";import{R as ho}from"./RadioGroup-BB_6UMw8.js";import{R as po}from"./Radio-D3TV5l2y.js";import{S as yo}from"./Slider-BF9IfAgh.js";import{M as Kn}from"./MenuItem-Bh76qgcw.js";var go=Ea(function(t,e){return fn(t)?Ii(t,Ai(e,1,fn,!0)):[]});function za(t,e){var r=ja(t)?xi:so;return r(t,Di(e))}var vo=Math.min;function _o(t,e,r){for(var n=Mi,s=t[0].length,a=t.length,o=a,i=Array(a),c=1/0,u=[];o--;){var d=t[o];c=vo(d.length,c),i[o]=s>=120&&d.length>=120?new Ri(o&&d):void 0}d=t[0];var f=-1,l=i[0];e:for(;++f<s&&u.length<c;){var h=d[f],y=h;if(h=h!==0?h:0,!(l?Rn(l,y):n(u,y))){for(o=a;--o;){var v=i[o];if(!(v?Rn(v,y):n(t[o],y)))continue e}l&&l.push(y),u.push(h)}}return u}function So(t){return fn(t)?t:[]}var Wn=Ea(function(t){var e=Ca(t,So);return e.length&&e[0]===t[0]?_o(e):[]});function Hn(t){return t===void 0}function bo(t,e,r,n){return n=typeof n=="function"?n:void 0,t==null?t:qi(t,e,r,n)}function Ka(t){return ja(t)?Ca(t,zi):Vi(t)?[t]:Ui(Bi(Li(t)))}function $o(t,e){return t==null?!0:Ki(t,e)}const wo=vn(j.jsx("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"})),Eo=vn(j.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"})),jo=vn(j.jsx("path",{d:"M19 13H5v-2h14z"}));function Co(t){return t.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),yr(t.additionalItems)}function Gn(t){if(t==="")return;if(t===null)return null;if(/\.$/.test(t)||/\.0$/.test(t)||/\.\d*0$/.test(t))return t;const e=Number(t);return typeof e=="number"&&!Number.isNaN(e)?e:t}function Wa(t,e={},r){if(!(t.additionalProperties||t.patternProperties))return!1;const{expandable:n=!0}=ee(e);return n===!1?n:t.maxProperties!==void 0&&r?Object.keys(r).length<t.maxProperties:!0}function Cr(t){const e={[$e]:[],addError(r){this[$e].push(r)}};if(Array.isArray(t))return t.reduce((r,n,s)=>({...r,[s]:Cr(n)}),e);if(ut(t)){const r=t;return Object.keys(r).reduce((n,s)=>({...n,[s]:Cr(r[s])}),e)}return e}function bt(t,e,r,n,s,a={},o){if(Array.isArray(r[s])){const c=Ot(r)||n,u=r[s].map(f=>De(t,f,e,a,o)),d=z(a,c);if(d!==void 0)return u.find(f=>Oa(z(f,[he,c,Ia],z(f,[he,c,Fa])),d))}}function Ha(t,e,r,n,s){let a=r;if(le(r,Fe)&&(a=De(t,r,e,void 0,s)),xe(n))return a;const o=Array.isArray(n)?n:n.split("."),[i,...c]=o;if(i&&le(a,i))return a=z(a,i),Ha(t,e,a,c,s)}function _r(t,e,r,n,s,a){const o=Ha(t,e,r,n,a);return o===void 0?s:o}const Jn={title:"!@#$_UNKNOWN_$#@!"};function Oo(t,e,r,n,s={},a){const o=Array.isArray(n)?[...n]:n.split(".");let i=r;const c=o.pop();o.length&&o.forEach(l=>{i=_r(t,e,i,[he,l],{},a),le(i,pe)?i=bt(t,e,i,c,pe,z(s,l),a):le(i,ge)&&(i=bt(t,e,i,c,ge,z(s,l),a))}),le(i,pe)?i=bt(t,e,i,c,pe,s,a):le(i,ge)&&(i=bt(t,e,i,c,ge,s,a));let u=_r(t,e,i,[he,c],Jn,a);u===Jn&&(u=void 0);const d=_r(t,e,i,Xi,[],a);let f;return u&&Array.isArray(d)&&(f=d.includes(c)),{field:u,isRequired:f}}function Ga(t={}){return"widget"in ee(t)&&ee(t).widget!=="hidden"}function Ja(t,e,r={},n,s){if(r[Aa]==="files")return!0;if(e.items){const a=De(t,e.items,n,void 0,s);return a.type==="string"&&a.format==="data-url"}return!1}function To(t,e,r={},n,s,a){const o=ee(r,s),{label:i=!0}=o;let c=!!i;const u=Tt(e);return u==="array"&&(c=xa(t,e,n,a)||Ja(t,e,r,n,a)||Ga(r)),u==="object"&&(c=!1),u==="boolean"&&!r[Aa]&&(c=!1),r[Qi]&&(c=!1),c}const ct=Symbol("no Value");function hn(t,e,r,n,s={},a){let o;if(le(r,he)){const i={};if(le(n,he)){const d=z(n,he,{});Object.keys(d).forEach(f=>{le(s,f)&&(i[f]=void 0)})}const c=Object.keys(z(r,he,{})),u={};c.forEach(d=>{const f=z(s,d);let l=z(n,[he,d],{}),h=z(r,[he,d],{});le(l,Fe)&&(l=De(t,l,e,f,a)),le(h,Fe)&&(h=De(t,h,e,f,a));const y=z(l,"type"),v=z(h,"type");if(!y||y===v)if(le(i,d)&&delete i[d],v==="object"||v==="array"&&Array.isArray(f)){const p=hn(t,e,h,l,f,a);(p!==void 0||v==="array")&&(u[d]=p)}else{const p=z(h,"default",ct),g=z(l,"default",ct);p!==ct&&p!==f&&(g===f?i[d]=p:z(h,"readOnly")===!0&&(i[d]=void 0));const m=z(h,"const",ct),_=z(l,"const",ct);m!==ct&&m!==f&&(i[d]=_===f?m:void 0)}}),o={...typeof s=="string"||Array.isArray(s)?void 0:s,...i,...u}}else if(z(n,"type")==="array"&&z(r,"type")==="array"&&Array.isArray(s)){let i=z(n,"items"),c=z(r,"items");if(typeof i=="object"&&typeof c=="object"&&!Array.isArray(i)&&!Array.isArray(c)){le(i,Fe)&&(i=De(t,i,e,s,a)),le(c,Fe)&&(c=De(t,c,e,s,a));const u=z(i,"type"),d=z(c,"type");if(!u||u===d){const f=z(r,"maxItems",-1);d==="object"?o=s.reduce((l,h)=>{const y=hn(t,e,c,i,h,a);return y!==void 0&&(f<0||l.length<f)&&l.push(y),l},[]):o=f>0&&s.length>f?s.slice(0,f):s}}else typeof i=="boolean"&&typeof c=="boolean"&&i===c&&(o=s)}return o}function Sr(t,e,r,n,s,a,o,i=[],c){const d={$id:s||r};if(typeof e=="object"){if(Fe in e||Da in e||Ra in e){const f=De(t,e,a,o,c);if(i.findIndex(h=>me(h,f))===-1)return Sr(t,f,r,n,s,a,o,i.concat(f),c)}if(rt in e&&!z(e,[rt,Fe]))return Sr(t,z(e,rt),r,n,s,a,o,i,c);if(Tt(e)==="object"&&he in e)for(const f in e.properties){const l=e[he][f],h=d[Re]+n+f;d[f]=Sr(t,l,r,n,h,a,z(o,[f]),i,c)}}return d}function Po(t,e,r,n,s,a="root",o="_",i){return Sr(t,e,a,o,r,n,s,void 0,i)}function Qe(t,e,r,n,s,a=[],o){if(Fe in e||Da in e||Ra in e){const c=De(t,e,n,s,o);if(a.findIndex(d=>me(d,c))===-1)return Qe(t,c,r,n,s,a.concat(c),o)}let i={[gr]:r.replace(/^\./,"")};if(pe in e||ge in e){const c=pe in e?e.oneOf:e.anyOf,u=Ot(e),d=Ma(t,n,s,c,0,u,o),f=c[d];i={...i,...Qe(t,f,r,n,s,a,o)}}if(Un in e&&e[Un]!==!1&&fe(i,$n,!0),rt in e&&Array.isArray(s)){const{items:c,additionalItems:u}=e;Array.isArray(c)?s.forEach((d,f)=>{c[f]?i[f]=Qe(t,c[f],`${r}.${f}`,n,d,a,o):u?i[f]=Qe(t,u,`${r}.${f}`,n,d,a,o):console.warn(`Unable to generate path schema for "${r}.${f}". No schema defined for it`)}):s.forEach((d,f)=>{i[f]=Qe(t,c,`${r}.${f}`,n,d,a,o)})}else if(he in e)for(const c in e.properties){const u=z(e,[he,c],{});i[c]=Qe(t,u,`${r}.${c}`,n,z(s,[c]),a,o)}return i}function ko(t,e,r="",n,s,a){return Qe(t,e,r,n,s,void 0,a)}class No{constructor(e,r,n,s){this.rootSchema=r,this.validator=e,this.experimental_defaultFormStateBehavior=n,this.experimental_customMergeAllOf=s}getValidator(){return this.validator}doesSchemaUtilsDiffer(e,r,n={},s){return!e||!r?!1:this.validator!==e||!me(this.rootSchema,r)||!me(this.experimental_defaultFormStateBehavior,n)||this.experimental_customMergeAllOf!==s}findFieldInSchema(e,r,n){return Oo(this.validator,this.rootSchema,e,r,n,this.experimental_customMergeAllOf)}findSelectedOptionInXxxOf(e,r,n,s){return bt(this.validator,this.rootSchema,e,r,n,s,this.experimental_customMergeAllOf)}getDefaultFormState(e,r,n=!1){return qa(this.validator,e,r,this.rootSchema,n,this.experimental_defaultFormStateBehavior,this.experimental_customMergeAllOf)}getDisplayLabel(e,r,n){return To(this.validator,e,r,this.rootSchema,n,this.experimental_customMergeAllOf)}getClosestMatchingOption(e,r,n,s){return Ma(this.validator,this.rootSchema,e,r,n,s,this.experimental_customMergeAllOf)}getFirstMatchingOption(e,r,n){return Zi(this.validator,e,r,this.rootSchema,n)}getFromSchema(e,r,n){return _r(this.validator,this.rootSchema,e,r,n,this.experimental_customMergeAllOf)}isFilesArray(e,r){return Ja(this.validator,e,r,this.rootSchema,this.experimental_customMergeAllOf)}isMultiSelect(e){return xa(this.validator,e,this.rootSchema,this.experimental_customMergeAllOf)}isSelect(e){return eo(this.validator,e,this.rootSchema,this.experimental_customMergeAllOf)}retrieveSchema(e,r){return De(this.validator,e,this.rootSchema,r,this.experimental_customMergeAllOf)}sanitizeDataForNewSchema(e,r,n){return hn(this.validator,this.rootSchema,e,r,n,this.experimental_customMergeAllOf)}toIdSchema(e,r,n,s="root",a="_"){return Po(this.validator,e,r,this.rootSchema,n,s,a,this.experimental_customMergeAllOf)}toPathSchema(e,r,n){return ko(this.validator,e,r,this.rootSchema,n,this.experimental_customMergeAllOf)}}function Fo(t,e,r={},n){return new No(t,e,r,n)}function Io(t){var e;if(t.indexOf("data:")===-1)throw new Error("File is invalid: URI must be a dataURI");const n=t.slice(5).split(";base64,");if(n.length!==2)throw new Error("File is invalid: dataURI must be base64");const[s,a]=n,[o,...i]=s.split(";"),c=o||"",u=decodeURI(((e=i.map(d=>d.split("=")).find(([d])=>d==="name"))===null||e===void 0?void 0:e[1])||"unknown");try{const d=atob(a),f=new Array(d.length);for(let h=0;h<d.length;h++)f[h]=d.charCodeAt(h);return{blob:new window.Blob([new Uint8Array(f)],{type:c}),name:u}}catch(d){throw new Error("File is invalid: "+d.message)}}function He(t,e){let r=String(t);for(;r.length<e;)r="0"+r;return r}function Ya(t,e){if(t<=0&&e<=0)t=new Date().getFullYear()+t,e=new Date().getFullYear()+e;else if(t<0||e<0)throw new Error(`Both start (${t}) and stop (${e}) must both be <= 0 or > 0, got one of each`);if(t>e)return Ya(e,t).reverse();const r=[];for(let n=t;n<=e;n++)r.push({value:n,label:He(n,2)});return r}function Ao(t,e){let r=t;if(Array.isArray(e)){const n=r.split(/(%\d)/);e.forEach((s,a)=>{const o=n.findIndex(i=>i===`%${a+1}`);o>=0&&(n[o]=s)}),r=n.join("")}return r}function xo(t,e){return Ao(t,e)}function ve(t,e=[],r){if(Array.isArray(t))return t.map(a=>ve(a,e)).filter(a=>a!==r);const n=t===""||t===null?-1:Number(t),s=e[n];return s?s.value:r}function Xa(t,e,r=[]){const n=ve(t,r);return Array.isArray(e)?e.filter(s=>!me(s,n)):me(n,e)?void 0:e}function Nr(t,e){return Array.isArray(e)?e.some(r=>me(r,t)):me(e,t)}function En(t,e=[],r=!1){const n=e.map((s,a)=>Nr(s.value,t)?String(a):void 0).filter(s=>typeof s<"u");return r?n:n[0]}function Qa(t,e,r=[]){const n=ve(t,r);if(!Ta(n)){const s=r.findIndex(i=>n===i.value),a=r.map(({value:i})=>i);return e.slice(0,s).concat(n,e.slice(s)).sort((i,c)=>+(a.indexOf(i)>a.indexOf(c)))}return e}class Do{constructor(e){this.errorSchema={},this.resetAllErrors(e)}get ErrorSchema(){return this.errorSchema}getOrCreateErrorBlock(e){let n=Array.isArray(e)&&e.length>0||typeof e=="string"?z(this.errorSchema,e):this.errorSchema;return!n&&e&&(n={},bo(this.errorSchema,e,n,Object)),n}resetAllErrors(e){return this.errorSchema=e?wr(e):{},this}addErrors(e,r){const n=this.getOrCreateErrorBlock(r);let s=z(n,$e);return Array.isArray(s)||(s=[],n[$e]=s),Array.isArray(e)?fe(n,$e,[...new Set([...s,...e])]):fe(n,$e,[...new Set([...s,e])]),this}setErrors(e,r){const n=this.getOrCreateErrorBlock(r),s=Array.isArray(e)?[...new Set([...e])]:[e];return fe(n,$e,s),this}clearErrors(e){const r=this.getOrCreateErrorBlock(e);return fe(r,$e,[]),this}}function Ro(t,e,r=[1900,new Date().getFullYear()+2],n="YMD"){const{day:s,month:a,year:o,hour:i,minute:c,second:u}=t,d={type:"day",range:[1,31],value:s},f={type:"month",range:[1,12],value:a},l={type:"year",range:r,value:o},h=[];switch(n){case"MDY":h.push(f,d,l);break;case"DMY":h.push(d,f,l);break;default:h.push(l,f,d)}return e&&h.push({type:"hour",range:[0,23],value:i},{type:"minute",range:[0,59],value:c},{type:"second",range:[0,59],value:u}),h}function Za(t){const e={};return t.multipleOf&&(e.step=t.multipleOf),(t.minimum||t.minimum===0)&&(e.min=t.minimum),(t.maximum||t.maximum===0)&&(e.max=t.maximum),e}function ei(t,e,r={},n=!0){const s={type:e||"text",...Za(t)};return r.inputType?s.type=r.inputType:e||(t.type==="number"?(s.type="number",n&&s.step===void 0&&(s.step="any")):t.type==="integer"&&(s.type="number",s.step===void 0&&(s.step=1))),r.autocomplete&&(s.autoComplete=r.autocomplete),r.accept&&(s.accept=r.accept),s}const Yn={props:{disabled:!1},submitText:"Submit",norender:!1};function ti(t={}){const e=ee(t);if(e&&e[jr]){const r=e[jr];return{...Yn,...r}}return Yn}function Z(t,e,r={}){const{templates:n}=e;if(t==="ButtonTemplates")return n[t];if(Object.hasOwn(r,t)&&typeof r[t]=="string"&&Object.hasOwn(n,r[t])){const s=r[t];return n[s]}return r[t]||n[t]}const Mo="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let ri=(t=21)=>{let e="",r=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)e+=Mo[r[t]&63];return e};function ni(){if(typeof zn.process>"u"||z(zn.process,"env.NODE_ENV")!=="test")return{};const t=new Map;return new Proxy({},{get(e,r){return t.has(r)||t.set(r,ri()),t.get(r)}})}const Kr={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",time:"TimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function qo(t){let e=z(t,"MergedWidget");if(!e){const r=t.defaultProps&&t.defaultProps.options||{};e=({options:n,...s})=>j.jsx(t,{options:{...r,...n},...s}),fe(t,"MergedWidget",e)}return e}function qe(t,e,r={}){const n=Tt(t);if(typeof e=="function"||e&&Vn.isForwardRef(Y.createElement(e))||Vn.isMemo(e))return qo(e);if(typeof e!="string")throw new Error(`Unsupported widget definition: ${typeof e}`);if(e in r){const s=r[e];return qe(t,s,r)}if(typeof n=="string"){if(!(n in Kr))throw new Error(`No widget for type '${n}'`);if(e in Kr[n]){const s=r[Kr[n][e]];return qe(t,s,r)}}throw new Error(`No widget '${e}' for type '${n}'`)}function Uo(t){let e=0;for(let r=0;r<t.length;r+=1){const n=t.charCodeAt(r);e=(e<<5)-e+n,e=e&e}return e.toString(16)}function Vo(t){const e=new Set;return JSON.stringify(t,(r,n)=>(e.add(r),n)),JSON.stringify(t,Array.from(e).sort())}function tt(t){return Uo(Vo(t))}function Bo(t){return tt(t)}function Lo(t,e,r={}){try{return qe(t,e,r),!0}catch(n){const s=n;if(s.message&&(s.message.startsWith("No widget")||s.message.startsWith("Unsupported widget")))return!1;throw n}}function mt(t,e){return`${vr(t)?t:t[Re]}__${e}`}function at(t){return mt(t,"description")}function jn(t){return mt(t,"error")}function jt(t){return mt(t,"examples")}function Cn(t){return mt(t,"help")}function Fr(t){return mt(t,"title")}function Oe(t,e=!1){const r=e?` ${jt(t)}`:"";return`${jn(t)} ${at(t)} ${Cn(t)}${r}`}function Ir(t,e){return`${t}-${e}`}function Me(t,e){return mt(t,e)}function it(t,e,r){return e?r:t}function zo(t){return t?new Date(t).toJSON():void 0}function Wr(t,e,r){const n=[to];return le(t,Bn)&&n.unshift(Bn),z(t,[...n,e],r)}function Ko(t,e){if(!Array.isArray(e))return t;const r=d=>d.reduce((f,l)=>(f[l]=!0,f),{}),n=d=>d.length>1?`properties '${d.join("', '")}'`:`property '${d[0]}'`,s=r(t),a=e.filter(d=>d==="*"||s[d]),o=r(a),i=t.filter(d=>!o[d]),c=a.indexOf("*");if(c===-1){if(i.length)throw new Error(`uiSchema order list does not contain ${n(i)}`);return a}if(c!==a.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");const u=[...a];return u.splice(c,1,...i),u}function Hr(t,e=!0){if(!t)return{year:-1,month:-1,day:-1,hour:e?-1:0,minute:e?-1:0,second:e?-1:0};const r=new Date(t);if(Number.isNaN(r.getTime()))throw new Error("Unable to parse date "+t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:e?r.getUTCHours():0,minute:e?r.getUTCMinutes():0,second:e?r.getUTCSeconds():0}}function $t(t){if(t.const||t.enum&&t.enum.length===1&&t.enum[0]===!0)return!0;if(t.anyOf&&t.anyOf.length===1)return $t(t.anyOf[0]);if(t.oneOf&&t.oneOf.length===1)return $t(t.oneOf[0]);if(t.allOf){const e=r=>$t(r);return t.allOf.some(e)}return!1}function Wo(t,e,r){const{props:n,state:s}=t;return!me(n,e)||!me(s,r)}function Xn(t,e=!0){const{year:r,month:n,day:s,hour:a=0,minute:o=0,second:i=0}=t,c=Date.UTC(r,n-1,s,a,o,i),u=new Date(c).toJSON();return e?u:u.slice(0,10)}function Or(t,e=[]){if(!t)return[];let r=[];return $e in t&&(r=r.concat(t[$e].map(n=>{const s=`.${e.join(".")}`;return{property:s,message:n,stack:`${s} ${n}`}}))),Object.keys(t).reduce((n,s)=>{if(s!==$e){const a=t[s];ut(a)&&(n=n.concat(Or(a,[...e,s])))}return n},r)}function Ho(t){const e=new Do;return t.length&&t.forEach(r=>{const{property:n,message:s}=r,a=n==="."?[]:Ka(n);a.length>0&&a[0]===""&&a.splice(0,1),s&&e.addErrors(s,a)}),e.ErrorSchema}function On(t){return Object.keys(t).reduce((e,r)=>{if(r==="addError")return e;{const n=t[r];return ut(n)?{...e,[r]:On(n)}:{...e,[r]:n}}},{})}function Go(t){if(!t)return"";const e=new Date(t),r=He(e.getFullYear(),4),n=He(e.getMonth()+1,2),s=He(e.getDate(),2),a=He(e.getHours(),2),o=He(e.getMinutes(),2),i=He(e.getSeconds(),2),c=He(e.getMilliseconds(),3);return`${r}-${n}-${s}T${a}:${o}:${i}.${c}`}function br(t,e){if(!e)return t;const{errors:r,errorSchema:n}=t;let s=Or(e),a=e;return xe(n)||(a=et(n,e,!0),s=[...r].concat(s)),{errorSchema:a,errors:s}}function Jo(t){for(const e in t){const r=t,n=r[e];e===Fe&&typeof n=="string"&&n.startsWith("#")?r[e]=Ua+n:r[e]=Tn(n)}return t}function Yo(t){for(let e=0;e<t.length;e++)t[e]=Tn(t[e]);return t}function Tn(t){return Array.isArray(t)?Yo([...t]):Pe(t)?Jo({...t}):t}function Xo(t,e){const r=ut(t),n=ut(e);if(t===e||!r&&!n)return[];if(r&&!n)return pt(t);if(!r&&n)return pt(e);{const s=pt(ao(t,(o,i)=>!me(o,z(e,i)))),a=go(pt(e),pt(t));return[...s,...a]}}function pn(){return ri()}function Qn(t){return Array.isArray(t)?t.map(e=>({key:pn(),item:e})):[]}function yt(t){return Array.isArray(t)?t.map(e=>e.item):[]}class Qo extends Y.Component{constructor(e){super(e);const{formData:r=[]}=e,n=Qn(r);this.state={keyedFormData:n,updatedKeyedFormData:!1}}static getDerivedStateFromProps(e,r){if(r.updatedKeyedFormData)return{updatedKeyedFormData:!1};const n=Array.isArray(e.formData)?e.formData:[],s=r.keyedFormData||[];return{keyedFormData:n.length===s.length?s.map((o,i)=>({key:o.key,item:n[i]})):Qn(n)}}get itemTitle(){const{schema:e,registry:r}=this.props,{translateString:n}=r;return z(e,[rt,"title"],z(e,[rt,"description"],n(oe.ArrayItemTitle)))}isItemRequired(e){return Array.isArray(e.type)?!e.type.includes("null"):e.type!=="null"}canAddItem(e){const{schema:r,uiSchema:n,registry:s}=this.props;let{addable:a}=ee(n,s.globalUiOptions);return a!==!1&&(r.maxItems!==void 0?a=e.length<r.maxItems:a=!0),a}_getNewFormDataRow=()=>{const{schema:e,registry:r}=this.props,{schemaUtils:n}=r;let s=e.items;return Ln(e)&&Co(e)&&(s=e.additionalItems),n.getDefaultFormState(s)};_handleAddClick(e,r){e&&e.preventDefault();const{onChange:n,errorSchema:s}=this.props,{keyedFormData:a}=this.state;let o;if(s){o={};for(const u in s){const d=parseInt(u);r===void 0||d<r?fe(o,[d],s[u]):d>=r&&fe(o,[d+1],s[u])}}const i={key:pn(),item:this._getNewFormDataRow()},c=[...a];r!==void 0?c.splice(r,0,i):c.push(i),this.setState({keyedFormData:c,updatedKeyedFormData:!0},()=>n(yt(c),o))}onAddClick=e=>{this._handleAddClick(e)};onAddIndexClick=e=>r=>{this._handleAddClick(r,e)};onCopyIndexClick=e=>r=>{r&&r.preventDefault();const{onChange:n,errorSchema:s}=this.props,{keyedFormData:a}=this.state;let o;if(s){o={};for(const u in s){const d=parseInt(u);d<=e?fe(o,[d],s[u]):d>e&&fe(o,[d+1],s[u])}}const i={key:pn(),item:wr(a[e].item)},c=[...a];e!==void 0?c.splice(e+1,0,i):c.push(i),this.setState({keyedFormData:c,updatedKeyedFormData:!0},()=>n(yt(c),o))};onDropIndexClick=e=>r=>{r&&r.preventDefault();const{onChange:n,errorSchema:s}=this.props,{keyedFormData:a}=this.state;let o;if(s){o={};for(const c in s){const u=parseInt(c);u<e?fe(o,[u],s[c]):u>e&&fe(o,[u-1],s[c])}}const i=a.filter((c,u)=>u!==e);this.setState({keyedFormData:i,updatedKeyedFormData:!0},()=>n(yt(i),o))};onReorderClick=(e,r)=>n=>{n&&(n.preventDefault(),n.currentTarget.blur());const{onChange:s,errorSchema:a}=this.props;let o;if(a){o={};for(const d in a){const f=parseInt(d);f==e?fe(o,[r],a[e]):f==r?fe(o,[e],a[r]):fe(o,[d],a[f])}}const{keyedFormData:i}=this.state;function c(){const d=i.slice();return d.splice(e,1),d.splice(r,0,i[e]),d}const u=c();this.setState({keyedFormData:u},()=>s(yt(u),o))};onChangeForIndex=e=>(r,n,s)=>{const{formData:a,onChange:o,errorSchema:i}=this.props,u=(Array.isArray(a)?a:[]).map((d,f)=>e===f?typeof r>"u"?null:r:d);o(u,i&&i&&{...i,[e]:n},s)};onSelectChange=e=>{const{onChange:r,idSchema:n}=this.props;r(e,void 0,n&&n.$id)};render(){const{schema:e,uiSchema:r,idSchema:n,registry:s}=this.props,{schemaUtils:a,translateString:o}=s;if(!(rt in e)){const i=ee(r),c=Z("UnsupportedFieldTemplate",s,i);return j.jsx(c,{schema:e,idSchema:n,reason:o(oe.MissingItems),registry:s})}return a.isMultiSelect(e)?this.renderMultiSelect():Ga(r)?this.renderCustomWidget():Ln(e)?this.renderFixedArray():a.isFilesArray(e,r)?this.renderFiles():this.renderNormalArray()}renderNormalArray(){const{schema:e,uiSchema:r={},errorSchema:n,idSchema:s,name:a,title:o,disabled:i=!1,readonly:c=!1,autofocus:u=!1,required:d=!1,registry:f,onBlur:l,onFocus:h,idPrefix:y,idSeparator:v="_",rawErrors:p}=this.props,{keyedFormData:g}=this.state,m=e.title||o||a,{schemaUtils:_,formContext:b}=f,$=ee(r),S=Pe(e.items)?e.items:{},w=_.retrieveSchema(S),T=yt(this.state.keyedFormData),O=this.canAddItem(T),I={canAdd:O,items:g.map((U,q)=>{const{key:L,item:B}=U,J=B,re=_.retrieveSchema(S,J),W=n?n[q]:void 0,X=s.$id+v+q,R=_.toIdSchema(re,X,J,y,v);return this.renderArrayFieldItem({key:L,index:q,name:a&&`${a}-${q}`,title:m?`${m}-${q+1}`:void 0,canAdd:O,canMoveUp:q>0,canMoveDown:q<T.length-1,itemSchema:re,itemIdSchema:R,itemErrorSchema:W,itemData:J,itemUiSchema:r.items,autofocus:u&&q===0,onBlur:l,onFocus:h,rawErrors:p,totalItems:g.length})}),className:`rjsf-field rjsf-field-array rjsf-field-array-of-${w.type}`,disabled:i,idSchema:s,uiSchema:r,onAddClick:this.onAddClick,readonly:c,required:d,schema:e,title:m,formContext:b,formData:T,rawErrors:p,registry:f},x=Z("ArrayFieldTemplate",f,$);return j.jsx(x,{...I})}renderCustomWidget(){const{schema:e,idSchema:r,uiSchema:n,disabled:s=!1,readonly:a=!1,autofocus:o=!1,required:i=!1,hideError:c,placeholder:u,onBlur:d,onFocus:f,formData:l=[],registry:h,rawErrors:y,name:v}=this.props,{widgets:p,formContext:g,globalUiOptions:m,schemaUtils:_}=h,{widget:b,title:$,...S}=ee(n,m),w=qe(e,b,p),T=$??e.title??v,O=_.getDisplayLabel(e,n,m);return j.jsx(w,{id:r.$id,name:v,multiple:!0,onChange:this.onSelectChange,onBlur:d,onFocus:f,options:S,schema:e,uiSchema:n,registry:h,value:l,disabled:s,readonly:a,hideError:c,required:i,label:T,hideLabel:!O,placeholder:u,formContext:g,autofocus:o,rawErrors:y})}renderMultiSelect(){const{schema:e,idSchema:r,uiSchema:n,formData:s=[],disabled:a=!1,readonly:o=!1,autofocus:i=!1,required:c=!1,placeholder:u,onBlur:d,onFocus:f,registry:l,rawErrors:h,name:y}=this.props,{widgets:v,schemaUtils:p,formContext:g,globalUiOptions:m}=l,_=p.retrieveSchema(e.items,s),b=Et(_,n),{widget:$="select",title:S,...w}=ee(n,m),T=qe(e,$,v),O=S??e.title??y,I=p.getDisplayLabel(e,n,m);return j.jsx(T,{id:r.$id,name:y,multiple:!0,onChange:this.onSelectChange,onBlur:d,onFocus:f,options:{...w,enumOptions:b},schema:e,uiSchema:n,registry:l,value:s,disabled:a,readonly:o,required:c,label:O,hideLabel:!I,placeholder:u,formContext:g,autofocus:i,rawErrors:h})}renderFiles(){const{schema:e,uiSchema:r,idSchema:n,name:s,disabled:a=!1,readonly:o=!1,autofocus:i=!1,required:c=!1,onBlur:u,onFocus:d,registry:f,formData:l=[],rawErrors:h}=this.props,{widgets:y,formContext:v,globalUiOptions:p,schemaUtils:g}=f,{widget:m="files",title:_,...b}=ee(r,p),$=qe(e,m,y),S=_??e.title??s,w=g.getDisplayLabel(e,r,p);return j.jsx($,{options:b,id:n.$id,name:s,multiple:!0,onChange:this.onSelectChange,onBlur:u,onFocus:d,schema:e,uiSchema:r,value:l,disabled:a,readonly:o,required:c,registry:f,formContext:v,autofocus:i,rawErrors:h,label:S,hideLabel:!w})}renderFixedArray(){const{schema:e,uiSchema:r={},formData:n=[],errorSchema:s,idPrefix:a,idSeparator:o="_",idSchema:i,name:c,title:u,disabled:d=!1,readonly:f=!1,autofocus:l=!1,required:h=!1,registry:y,onBlur:v,onFocus:p,rawErrors:g}=this.props,{keyedFormData:m}=this.state;let{formData:_=[]}=this.props;const b=e.title||u||c,$=ee(r),{schemaUtils:S,formContext:w}=y,O=(Pe(e.items)?e.items:[]).map((L,B)=>S.retrieveSchema(L,n[B])),I=Pe(e.additionalItems)?S.retrieveSchema(e.additionalItems,n):null;(!_||_.length<O.length)&&(_=_||[],_=_.concat(new Array(O.length-_.length)));const x=this.canAddItem(_)&&!!I,U={canAdd:x,className:"rjsf-field rjsf-field-array rjsf-field-array-fixed-items",disabled:d,idSchema:i,formData:n,items:m.map((L,B)=>{const{key:J,item:re}=L,W=re,X=B>=O.length,R=(X&&Pe(e.additionalItems)?S.retrieveSchema(e.additionalItems,W):O[B])||{},P=i.$id+o+B,D=S.toIdSchema(R,P,W,a,o),N=X?r.additionalItems||{}:Array.isArray(r.items)?r.items[B]:r.items||{},E=s?s[B]:void 0;return this.renderArrayFieldItem({key:J,index:B,name:c&&`${c}-${B}`,title:b?`${b}-${B+1}`:void 0,canAdd:x,canRemove:X,canMoveUp:B>=O.length+1,canMoveDown:X&&B<_.length-1,itemSchema:R,itemData:W,itemUiSchema:N,itemIdSchema:D,itemErrorSchema:E,autofocus:l&&B===0,onBlur:v,onFocus:p,rawErrors:g,totalItems:m.length})}),onAddClick:this.onAddClick,readonly:f,required:h,registry:y,schema:e,uiSchema:r,title:b,formContext:w,errorSchema:s,rawErrors:g},q=Z("ArrayFieldTemplate",y,$);return j.jsx(q,{...U})}renderArrayFieldItem(e){const{key:r,index:n,name:s,canAdd:a,canRemove:o=!0,canMoveUp:i,canMoveDown:c,itemSchema:u,itemData:d,itemUiSchema:f,itemIdSchema:l,itemErrorSchema:h,autofocus:y,onBlur:v,onFocus:p,rawErrors:g,totalItems:m,title:_}=e,{disabled:b,hideError:$,idPrefix:S,idSeparator:w,readonly:T,uiSchema:O,registry:I,formContext:x}=this.props,{fields:{ArraySchemaField:U,SchemaField:q},globalUiOptions:L}=I,B=U||q,{orderable:J=!0,removable:re=!0,copyable:W=!1}=ee(O,L),X={moveUp:J&&i,moveDown:J&&c,copy:W&&a,remove:re&&o,toolbar:!1};return X.toolbar=Object.keys(X).some(R=>X[R]),{children:j.jsx(B,{name:s,title:_,index:n,schema:u,uiSchema:f,formData:d,formContext:x,errorSchema:h,idPrefix:S,idSeparator:w,idSchema:l,required:this.isItemRequired(u),onChange:this.onChangeForIndex(n),onBlur:v,onFocus:p,registry:I,disabled:b,readonly:T,hideError:$,autofocus:y,rawErrors:g}),buttonsProps:{idSchema:l,disabled:b,readonly:T,canAdd:a,hasCopy:X.copy,hasMoveUp:X.moveUp,hasMoveDown:X.moveDown,hasRemove:X.remove,index:n,totalItems:m,onAddIndexClick:this.onAddIndexClick,onCopyIndexClick:this.onCopyIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,registry:I,schema:u,uiSchema:f},className:"rjsf-array-item",disabled:b,hasToolbar:X.toolbar,index:n,totalItems:m,key:r,readonly:T,registry:I,schema:u,uiSchema:f}}}function Zo(t){const{schema:e,name:r,uiSchema:n,idSchema:s,formData:a,registry:o,required:i,disabled:c,readonly:u,hideError:d,autofocus:f,title:l,onChange:h,onFocus:y,onBlur:v,rawErrors:p}=t,{title:g}=e,{widgets:m,formContext:_,translateString:b,globalUiOptions:$}=o,{widget:S="checkbox",title:w,label:T=!0,enumNames:O,...I}=ee(n,$),x=qe(e,S,m),U=b(oe.YesLabel),q=b(oe.NoLabel);let L;const B=w??g??l??r;if(Array.isArray(e.oneOf))L=Et({oneOf:e.oneOf.map(J=>{if(Pe(J))return{...J,title:J.title||(J.const===!0?U:q)}}).filter(J=>J)},n);else{const J=e.enum??[!0,!1];!O&&J.length===2&&J.every(re=>typeof re=="boolean")?L=[{value:J[0],label:J[0]?U:q},{value:J[1],label:J[1]?U:q}]:L=Et({enum:J},n)}return j.jsx(x,{options:{...I,enumOptions:L},schema:e,uiSchema:n,id:s.$id,name:r,onChange:h,onFocus:y,onBlur:v,label:B,hideLabel:!T,value:a,required:i,disabled:c,readonly:u,hideError:d,registry:o,formContext:_,autofocus:f,rawErrors:p})}var Ae;(function(t){t.ROW="ui:row",t.COLUMN="ui:col",t.COLUMNS="ui:columns",t.CONDITION="ui:condition"})(Ae||(Ae={}));var wt;(function(t){t.ALL="all",t.SOME="some",t.NONE="none"})(wt||(wt={}));const ec=/^\$lookup=(.+)/,Gr="layoutGrid";function Zn(t,e){return t??e}class ye extends Y.PureComponent{static defaultProps={layoutGridSchema:void 0};static TEST_IDS=ni();static computeFieldUiSchema(e,r,n,s,a){const o=z(n,[mn],{}),i=z(n,e),c={...z(i,[nt],{}),...r,...o},u={...i};xe(c)||fe(u,[nt],c),xe(o)||fe(u,[mn],o);let{readonly:d}=ee(u);return(a===!0||Hn(d)&&s===!0)&&(d=!0,le(c,zr)?fe(u,[nt,zr],!0):fe(u,`ui:${zr}`,!0)),{fieldUiSchema:u,uiReadonly:d}}static conditionMatches(e,r,n="$0m3tH1nG Un3xP3cT3d"){const s=Mn([r]).sort(),a=Mn([n]).sort();switch(e){case wt.ALL:return Oa(s,a);case wt.SOME:return Wn(s,a).length>0;case wt.NONE:return Wn(s,a).length===0;default:return!1}}static findChildrenAndProps(e,r,n){let s={},a=e[r];if(ut(a)){const{children:o,className:i,...c}=a;if(a=o,i){const d=i.split(" ").map(f=>Wr(n,f,f)).join(" ");s={...c,className:d}}else s=c}if(!Array.isArray(a))throw new TypeError(`Expected array for "${r}" in ${JSON.stringify(e)}`);return{children:a,gridProps:s}}static getIdSchema(e,r,n,s={},a){const o=z(r,Re);return e.toIdSchema(s,o,n,o,a)}static getSchemaDetailsForField(e,r,n,s,a,o){let i=n,c=a;const u=r.split("."),d=u.pop();let f=e.retrieveSchema(i,s),l=s,h=f.readOnly;u.forEach(p=>{if(le(f,he))i=z(f,[he,p],{}),c=z(c,p,{});else if(f&&(le(f,pe)||le(f,ge))){const g=le(f,pe)?pe:ge,m=e.findSelectedOptionInXxxOf(f,p,g,l),_=ye.getIdSchema(e,c,s,m,o);i=z(m,[he,p],{}),c=z(_,p,{})}else i={};l=z(l,p,{}),f=e.retrieveSchema(i,l),h=Zn(f.readOnly,h)});let y,v=!1;if(xe(f)&&(f=void 0),f&&d){if(f&&(le(f,pe)||le(f,ge))){const p=le(f,pe)?pe:ge;f=e.findSelectedOptionInXxxOf(f,d,p,l);const g=ye.getIdSchema(e,c,s,f,o);c=et(g,c)}if(v=f!==void 0&&Array.isArray(f.required)&&io(f.required,d),f=z(f,[he,d]),f=f&&e.retrieveSchema(f),c=z(c,d,{}),h=Zn(f?.readOnly,h),f&&(le(f,pe)||le(f,ge))){const p=le(f,pe)?pe:ge,g=Ot(f);y={options:f[p],hasDiscriminator:!!g}}}return{schema:f,isRequired:v,isReadonly:h,optionsInfo:y,idSchema:c}}static getCustomRenderComponent(e,r){let n=e;return vr(n)&&(n=Wr(r,n)),Wi(n)?n:null}static computeUIComponentPropsFromGridSchema(e,r){let n,s=null,a={},o;if(vr(r)||Hn(r))n=r??"";else{const{name:i="",render:c,...u}=r;n=i,a=u,xe(a)||za(a,(d,f)=>{if(vr(d)){const l=ec.exec(d);if(Array.isArray(l)&&l.length>1){const h=l[1];a[f]=Wr(e,h,h)}}}),s=ye.getCustomRenderComponent(c,e),!i&&s&&(o=j.jsx(s,{...u,"data-testid":ye.TEST_IDS.uiComponent}))}return{name:n,UIComponent:s,uiProps:a,rendered:o}}constructor(e){super(e)}onFieldChange=e=>(r,n,s)=>{const{onChange:a,errorSchema:o,formData:i}=this.props,c=wr(i||{});let u=o;n&&o&&(u=wr(o),fe(u,e,n)),fe(c,e,r),a(c,u,s)};renderCondition(e){const{formData:r,registry:n}=this.props,{children:s,gridProps:a}=ye.findChildrenAndProps(e,Ae.CONDITION,n),{operator:o,field:i="",value:c}=a,u=z(r,i,null);return ye.conditionMatches(o,u,c)?this.renderChildren(s):null}renderCol(e){const{registry:r,uiSchema:n}=this.props,{children:s,gridProps:a}=ye.findChildrenAndProps(e,Ae.COLUMN,r),o=ee(n),i=Z("GridTemplate",r,o);return j.jsx(i,{column:!0,"data-testid":ye.TEST_IDS.col,...a,children:this.renderChildren(s)})}renderColumns(e){const{registry:r,uiSchema:n}=this.props,{children:s,gridProps:a}=ye.findChildrenAndProps(e,Ae.COLUMNS,r),o=ee(n),i=Z("GridTemplate",r,o);return s.map(c=>j.jsx(i,{column:!0,"data-testid":ye.TEST_IDS.col,...a,children:this.renderChildren([c])},`column-${tt(c)}`))}renderRow(e){const{registry:r,uiSchema:n}=this.props,{children:s,gridProps:a}=ye.findChildrenAndProps(e,Ae.ROW,r),o=ee(n),i=Z("GridTemplate",r,o);return j.jsx(i,{...a,"data-testid":ye.TEST_IDS.row,children:this.renderChildren(s)})}renderChildren(e){const{registry:r,schema:n,formData:s}=this.props,{schemaUtils:a}=r,o=a.retrieveSchema(n,s);return e.map(i=>Y.createElement(ye,{...this.props,key:`layoutGrid-${tt(i)}`,schema:o,layoutGridSchema:i}))}renderField(e){const{schema:r,uiSchema:n,errorSchema:s,idSchema:a,onBlur:o,onFocus:i,formData:c,readonly:u,registry:d,idSeparator:f,layoutGridSchema:l,...h}=this.props,{fields:y,schemaUtils:v}=d,{SchemaField:p,LayoutMultiSchemaField:g}=y,m=ye.computeUIComponentPropsFromGridSchema(d,e);if(m.rendered)return m.rendered;const{name:_,UIComponent:b,uiProps:$}=m,{schema:S,isRequired:w,isReadonly:T,optionsInfo:O,idSchema:I}=ye.getSchemaDetailsForField(v,_,r,c,a,f);if(S){const x=O?.hasDiscriminator?g:p,{fieldUiSchema:U,uiReadonly:q}=ye.computeFieldUiSchema(_,$,n,T,u);return j.jsx(x,{"data-testid":O?.hasDiscriminator?ye.TEST_IDS.layoutMultiSchemaField:ye.TEST_IDS.field,...h,name:_,required:w,readonly:q,schema:S,uiSchema:U,errorSchema:z(s,_),idSchema:I,idSeparator:f,formData:z(c,_),onChange:this.onFieldChange(_),onBlur:o,onFocus:i,options:O?.options,registry:d})}return b?j.jsx(b,{"data-testid":ye.TEST_IDS.uiComponent,...h,name:_,required:w,formData:c,readOnly:!!T||u,errorSchema:s,uiSchema:n,schema:r,idSchema:a,idSeparator:f,onBlur:o,onFocus:i,registry:d,...$}):null}render(){const{uiSchema:e}=this.props;let{layoutGridSchema:r}=this.props;const n=ee(e);if(!r&&Gr in n&&Pe(n[Gr])&&(r=n[Gr]),Pe(r)){if(Ae.ROW in r)return this.renderRow(r);if(Ae.COLUMN in r)return this.renderCol(r);if(Ae.COLUMNS in r)return this.renderColumns(r);if(Ae.CONDITION in r)return this.renderCondition(r)}return this.renderField(r)}}function tc(t){const{idSchema:e,title:r,schema:n,uiSchema:s,required:a,registry:o,name:i}=t,c=ee(s,o.globalUiOptions),{title:u}=c,{title:d}=n,f=u||r||d||i;if(!f)return null;const l=Z("TitleFieldTemplate",o,c);return j.jsx(l,{id:Fr(e),title:f,required:a,schema:n,uiSchema:s,registry:o})}function Jr(t,e,r){const n="!@#!@$@#$!@$#";return t.map(({schema:a})=>a).find(a=>{const o=z(a,[he,e]);return z(o,Ia,z(o,Fa,n))===r})}function es(t,e,r,n,s){const a=e.map(c=>r.retrieveSchema(c,s));let o=t;le(t,pe)?o={...t,[pe]:a}:le(t,ge)&&(o={...t,[ge]:a});const i=Et(o,n);if(!i)throw new Error(`No enumOptions were computed from the schema ${JSON.stringify(o)}`);return i}function rc(t){const{name:e,baseType:r,disabled:n=!1,formData:s,idSchema:a,onBlur:o,onChange:i,options:c,onFocus:u,registry:d,uiSchema:f,schema:l,formContext:h,autofocus:y,readonly:v,required:p,errorSchema:g,hideError:m=!1}=t,{widgets:_,schemaUtils:b,globalUiOptions:$}=d,[S,w]=Y.useState(es(l,c,b,f,s)),T=z(a,Re),O=Ot(l),I=Z("FieldErrorTemplate",d,c),x=Z("FieldTemplate",d,c),U=tt(l),q=tt(c),L=f?tt(f):"",B=s?tt(s):"";Y.useEffect(()=>{w(es(l,c,b,f,s))},[U,q,b,L,B]);const{widget:J=O?"radio":"select",title:re="",placeholder:W="",optionsSchemaSelector:X=O,hideError:R,...P}=ee(f);if(!X)throw new Error("No selector field provided for the LayoutMultiSchemaField");const D=z(s,X);let N=z(S[0]?.schema,[he,X],{});const E=Jr(S,X,D);N=N?.type?N:{...N,type:E?.type||r};const C=qe(N,J,_),A=R===void 0?m:!!R,K=z(g,[$e],[]),G=Er(g,[$e]),ie=b.getDisplayLabel(l,f,$),ae=V=>{const H=Jr(S,X,V),te=Jr(S,X,D);let ue=b.sanitizeDataForNewSchema(H,te,s);ue&&H&&(ue=b.getDefaultFormState(H,ue,"excludeObjectChildren")),ue&&fe(ue,X,V),i(ue,void 0,T)},k={enumOptions:S,...P},F=!A&&K.length>0?j.jsx(I,{idSchema:a,schema:l,errors:K,registry:d}):void 0,M=V=>Hi;return j.jsx(x,{id:T,schema:l,label:(re||l.title)??"",disabled:n||Array.isArray(S)&&xe(S),uiSchema:f,formContext:h,required:p,readonly:!!v,registry:d,displayLabel:ie,errors:F,onChange:i,onDropPropertyClick:M,onKeyChange:M,children:j.jsx(C,{id:T,name:e,schema:l,label:(re||l.title)??"",disabled:n||Array.isArray(S)&&xe(S),uiSchema:f,formContext:h,autofocus:y,readonly:v,required:p,registry:d,multiple:!1,rawErrors:K,hideError:A,hideLabel:!ie,errorSchema:G,placeholder:W,onChange:ae,onBlur:o,onFocus:u,value:D,options:k})})}class ts extends Y.Component{constructor(e){super(e);const{formData:r,options:n,registry:{schemaUtils:s}}=this.props,a=n.map(o=>s.retrieveSchema(o,r));this.state={retrievedOptions:a,selectedOption:this.getMatchingOption(0,r,a)}}componentDidUpdate(e,r){const{formData:n,options:s,idSchema:a}=this.props,{selectedOption:o}=this.state;let i=this.state;if(!me(e.options,s)){const{registry:{schemaUtils:c}}=this.props,u=s.map(d=>c.retrieveSchema(d,n));i={selectedOption:o,retrievedOptions:u}}if(!me(n,e.formData)&&a.$id===e.idSchema.$id){const{retrievedOptions:c}=i,u=this.getMatchingOption(o,n,c);r&&u!==o&&(i={selectedOption:u,retrievedOptions:c})}i!==this.state&&this.setState(i)}getMatchingOption(e,r,n){const{schema:s,registry:{schemaUtils:a}}=this.props,o=Ot(s);return a.getClosestMatchingOption(r,n,e,o)}onOptionChange=e=>{const{selectedOption:r,retrievedOptions:n}=this.state,{formData:s,onChange:a,registry:o}=this.props,{schemaUtils:i}=o,c=e!==void 0?parseInt(e,10):-1;if(c===r)return;const u=c>=0?n[c]:void 0,d=r>=0?n[r]:void 0;let f=i.sanitizeDataForNewSchema(u,d,s);u&&(f=i.getDefaultFormState(u,f,"excludeObjectChildren")),this.setState({selectedOption:c},()=>{a(f,void 0,this.getFieldId())})};getFieldId(){const{idSchema:e,schema:r}=this.props;return`${e.$id}${r.oneOf?"__oneof_select":"__anyof_select"}`}render(){const{name:e,disabled:r=!1,errorSchema:n={},formContext:s,onBlur:a,onFocus:o,readonly:i,registry:c,schema:u,uiSchema:d}=this.props,{widgets:f,fields:l,translateString:h,globalUiOptions:y,schemaUtils:v}=c,{SchemaField:p}=l,{selectedOption:g,retrievedOptions:m}=this.state,{widget:_="select",placeholder:b,autofocus:$,autocomplete:S,title:w=u.title,...T}=ee(d,y),O=qe({type:"number"},_,f),I=z(n,$e,[]),x=Er(n,[$e]),U=v.getDisplayLabel(u,d,y),q=g>=0&&m[g]||null;let L;if(q){const{required:R}=u;L=R?ro({required:R},q):q}let B=[];pe in u&&d&&pe in d?Array.isArray(d[pe])?B=d[pe]:console.warn(`uiSchema.oneOf is not an array for "${w||e}"`):ge in u&&d&&ge in d&&(Array.isArray(d[ge])?B=d[ge]:console.warn(`uiSchema.anyOf is not an array for "${w||e}"`));let J=d;g>=0&&B.length>g&&(J=B[g]);const re=w?oe.TitleOptionPrefix:oe.OptionPrefix,W=w?[w]:[],X=m.map((R,P)=>{const{title:D=R.title}=ee(B[P]);return{label:D||h(re,W.concat(String(P+1))),value:P}});return j.jsxs("div",{className:"panel panel-default panel-body",children:[j.jsx("div",{className:"form-group",children:j.jsx(O,{id:this.getFieldId(),name:`${e}${u.oneOf?"__oneof_select":"__anyof_select"}`,schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:a,onFocus:o,disabled:r||xe(X),multiple:!1,rawErrors:I,errorSchema:x,value:g>=0?g:void 0,options:{enumOptions:X,...T},registry:c,formContext:s,placeholder:b,autocomplete:S,autofocus:$,label:w??e,hideLabel:!U,readonly:i})}),L&&L.type!=="null"&&j.jsx(p,{...this.props,schema:L,uiSchema:J})]})}}const nc=/\.([0-9]*0)*$/,sc=/[0.]0*$/;function ac(t){const{registry:e,onChange:r,formData:n,value:s}=t,[a,o]=Y.useState(s),{StringField:i}=e.fields;let c=n;const u=Y.useCallback((d,f,l)=>{o(d),`${d}`.charAt(0)==="."&&(d=`0${d}`);const h=typeof d=="string"&&d.match(nc)?Gn(d.replace(sc,"")):Gn(d);r(h,f,l)},[r]);if(typeof a=="string"&&typeof c=="number"){const d=new RegExp(`^(${String(c).replace(".","\\.")})?\\.?0*$`);a.match(d)&&(c=a)}return j.jsx(i,{...t,formData:c,onChange:u})}function Ze(){return Ze=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ze.apply(this,arguments)}const ic=["children","options"],Q={blockQuote:"0",breakLine:"1",breakThematic:"2",codeBlock:"3",codeFenced:"4",codeInline:"5",footnote:"6",footnoteReference:"7",gfmTask:"8",heading:"9",headingSetext:"10",htmlBlock:"11",htmlComment:"12",htmlSelfClosing:"13",image:"14",link:"15",linkAngleBraceStyleDetector:"16",linkBareUrlDetector:"17",linkMailtoDetector:"18",newlineCoalescer:"19",orderedList:"20",paragraph:"21",ref:"22",refImage:"23",refLink:"24",table:"25",text:"27",textBolded:"28",textEmphasized:"29",textEscaped:"30",textMarked:"31",textStrikethroughed:"32",unorderedList:"33"};var rs;(function(t){t[t.MAX=0]="MAX",t[t.HIGH=1]="HIGH",t[t.MED=2]="MED",t[t.LOW=3]="LOW",t[t.MIN=4]="MIN"})(rs||(rs={}));const ns=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((t,e)=>(t[e.toLowerCase()]=e,t),{class:"className",for:"htmlFor"}),ss={amp:"&",apos:"'",gt:">",lt:"<",nbsp:" ",quot:"“"},oc=["style","script"],cc=["src","href","data","formAction","srcDoc","action"],lc=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,dc=/mailto:/i,uc=/\n{2,}$/,si=/^(\s*>[\s\S]*?)(?=\n\n|$)/,fc=/^ *> ?/gm,mc=/^(?:\[!([^\]]*)\]\n)?([\s\S]*)/,hc=/^ {2,}\n/,pc=/^(?:( *[-*_])){3,} *(?:\n *)+\n/,ai=/^(?: {1,3})?(`{3,}|~{3,}) *(\S+)? *([^\n]*?)?\n([\s\S]*?)(?:\1\n?|$)/,ii=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,yc=/^(`+)((?:\\`|(?!\1)`|[^`])+)\1/,gc=/^(?:\n *)*\n/,vc=/\r\n?/g,_c=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,Sc=/^\[\^([^\]]+)]/,bc=/\f/g,$c=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,wc=/^\s*?\[(x|\s)\]/,oi=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,ci=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,li=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,yn=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,Ec=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,di=/^<!--[\s\S]*?(?:-->)/,jc=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,gn=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,Cc=/^\{.*\}$/,Oc=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,Tc=/^<([^ >]+@[^ >]+)>/,Pc=/^<([^ >]+:\/[^ >]+)>/,kc=/-([a-z])?/gi,ui=/^(\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,Nc=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,Fc=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,Ic=/^\[([^\]]*)\] ?\[([^\]]*)\]/,Ac=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,xc=/\t/g,Dc=/(^ *\||\| *$)/g,Rc=/^ *:-+: *$/,Mc=/^ *:-+ *$/,qc=/^ *-+: *$/,Ar="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|\\\\\\1|[\\s\\S])+?)",Uc=new RegExp(`^([*_])\\1${Ar}\\1\\1(?!\\1)`),Vc=new RegExp(`^([*_])${Ar}\\1(?!\\1)`),Bc=new RegExp(`^(==)${Ar}\\1`),Lc=new RegExp(`^(~~)${Ar}\\1`),zc=/^\\([^0-9A-Za-z\s])/,as=/\\([^0-9A-Za-z\s])/g,Kc=/^([\s\S](?:(?!  |[0-9]\.)[^=*_~\-\n<`\\\[!])*)/,Wc=/^\n+/,Hc=/^([ \t]*)/,Gc=/\\([^\\])/g,Jc=/(?:^|\n)( *)$/,Pn="(?:\\d+\\.)",kn="(?:[*+-])";function fi(t){return"( *)("+(t===1?Pn:kn)+") +"}const mi=fi(1),hi=fi(2);function pi(t){return new RegExp("^"+(t===1?mi:hi))}const Yc=pi(1),Xc=pi(2);function yi(t){return new RegExp("^"+(t===1?mi:hi)+"[^\\n]*(?:\\n(?!\\1"+(t===1?Pn:kn)+" )[^\\n]*)*(\\n|$)","gm")}const Qc=yi(1),Zc=yi(2);function gi(t){const e=t===1?Pn:kn;return new RegExp("^( *)("+e+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+e+" (?!"+e+" ))\\n*|\\s*\\n*$)")}const vi=gi(1),_i=gi(2);function is(t,e){const r=e===1,n=r?vi:_i,s=r?Qc:Zc,a=r?Yc:Xc;return{match:ft(function(o,i){const c=Jc.exec(i.prevCapture);return c&&(i.list||!i.inline&&!i.simple)?n.exec(o=c[1]+o):null}),order:1,parse(o,i,c){const u=r?+o[2]:void 0,d=o[0].replace(uc,`
`).match(s);let f=!1;return{items:d.map(function(l,h){const y=a.exec(l)[0].length,v=new RegExp("^ {1,"+y+"}","gm"),p=l.replace(v,"").replace(a,""),g=h===d.length-1,m=p.indexOf(`

`)!==-1||g&&f;f=m;const _=c.inline,b=c.list;let $;c.list=!0,m?(c.inline=!1,$=Ct(p)+`

`):(c.inline=!0,$=Ct(p));const S=i($,c);return c.inline=_,c.list=b,S}),ordered:r,start:u}},render:(o,i,c)=>t(o.ordered?"ol":"ul",{key:c.key,start:o.type===Q.orderedList?o.start:void 0},o.items.map(function(u,d){return t("li",{key:d},i(u,c))}))}}const el=new RegExp(`^\\[((?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['"]([\\s\\S]*?)['"])?\\s*\\)`),tl=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,Si=[si,ai,ii,oi,li,ci,ui,vi,_i],rl=[...Si,/^[^\n]+(?:  \n|\n{2,})/,yn,di,gn];function Ct(t){let e=t.length;for(;e>0&&t[e-1]<=" ";)e--;return t.slice(0,e)}function gt(t){return t.replace(/[ÀÁÂÃÄÅàáâãäåæÆ]/g,"a").replace(/[çÇ]/g,"c").replace(/[ðÐ]/g,"d").replace(/[ÈÉÊËéèêë]/g,"e").replace(/[ÏïÎîÍíÌì]/g,"i").replace(/[Ññ]/g,"n").replace(/[øØœŒÕõÔôÓóÒò]/g,"o").replace(/[ÜüÛûÚúÙù]/g,"u").replace(/[ŸÿÝý]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function nl(t){return qc.test(t)?"right":Rc.test(t)?"center":Mc.test(t)?"left":null}function os(t,e,r,n){const s=r.inTable;r.inTable=!0;let a=[[]],o="";function i(){if(!o)return;const c=a[a.length-1];c.push.apply(c,e(o,r)),o=""}return t.trim().split(/(`[^`]*`|\\\||\|)/).filter(Boolean).forEach((c,u,d)=>{c.trim()==="|"&&(i(),n)?u!==0&&u!==d.length-1&&a.push([]):o+=c}),i(),r.inTable=s,a}function sl(t,e,r){r.inline=!0;const n=t[2]?t[2].replace(Dc,"").split("|").map(nl):[],s=t[3]?(function(o,i,c){return o.trim().split(`
`).map(function(u){return os(u,i,c,!0)})})(t[3],e,r):[],a=os(t[1],e,r,!!s.length);return r.inline=!1,s.length?{align:n,cells:s,header:a,type:Q.table}:{children:a,type:Q.paragraph}}function cs(t,e){return t.align[e]==null?{}:{textAlign:t.align[e]}}function ft(t){return t.inline=1,t}function ze(t){return ft(function(e,r){return r.inline?t.exec(e):null})}function Ke(t){return ft(function(e,r){return r.inline||r.simple?t.exec(e):null})}function Ue(t){return function(e,r){return r.inline||r.simple?null:t.exec(e)}}function vt(t){return ft(function(e){return t.exec(e)})}function al(t,e){if(e.inline||e.simple)return null;let r="";t.split(`
`).every(s=>(s+=`
`,!Si.some(a=>a.test(s))&&(r+=s,!!s.trim())));const n=Ct(r);return n==""?null:[r,,n]}const il=/(javascript|vbscript|data(?!:image)):/i;function ol(t){try{const e=decodeURIComponent(t).replace(/[^A-Za-z0-9/:]/g,"");if(il.test(e))return null}catch{return null}return t}function ls(t){return t.replace(Gc,"$1")}function $r(t,e,r){const n=r.inline||!1,s=r.simple||!1;r.inline=!0,r.simple=!0;const a=t(e,r);return r.inline=n,r.simple=s,a}function cl(t,e,r){const n=r.inline||!1,s=r.simple||!1;r.inline=!1,r.simple=!0;const a=t(e,r);return r.inline=n,r.simple=s,a}function ll(t,e,r){const n=r.inline||!1;r.inline=!1;const s=t(e,r);return r.inline=n,s}const Yr=(t,e,r)=>({children:$r(e,t[2],r)});function Xr(){return{}}function Qr(){return null}function dl(...t){return t.filter(Boolean).join(" ")}function Zr(t,e,r){let n=t;const s=e.split(".");for(;s.length&&(n=n[s[0]],n!==void 0);)s.shift();return n||r}function ul(t="",e={}){function r(l,h,...y){const v=Zr(e.overrides,`${l}.props`,{});return e.createElement((function(p,g){const m=Zr(g,p);return m?typeof m=="function"||typeof m=="object"&&"render"in m?m:Zr(g,`${p}.component`,p):p})(l,e.overrides),Ze({},h,v,{className:dl(h?.className,v.className)||void 0}),...y)}function n(l){l=l.replace($c,"");let h=!1;e.forceInline?h=!0:e.forceBlock||(h=Ac.test(l)===!1);const y=u(c(h?l:`${Ct(l).replace(Wc,"")}

`,{inline:h}));for(;typeof y[y.length-1]=="string"&&!y[y.length-1].trim();)y.pop();if(e.wrapper===null)return y;const v=e.wrapper||(h?"span":"div");let p;if(y.length>1||e.forceWrapper)p=y;else{if(y.length===1)return p=y[0],typeof p=="string"?r("span",{key:"outer"},p):p;p=null}return e.createElement(v,{key:"outer"},p)}function s(l,h){const y=h.match(lc);return y?y.reduce(function(v,p){const g=p.indexOf("=");if(g!==-1){const m=(function(S){return S.indexOf("-")!==-1&&S.match(jc)===null&&(S=S.replace(kc,function(w,T){return T.toUpperCase()})),S})(p.slice(0,g)).trim(),_=(function(S){const w=S[0];return(w==='"'||w==="'")&&S.length>=2&&S[S.length-1]===w?S.slice(1,-1):S})(p.slice(g+1).trim()),b=ns[m]||m;if(b==="ref")return v;const $=v[b]=(function(S,w,T,O){return w==="style"?(function(I){const x=[];let U="",q=!1,L=!1,B="";if(!I)return x;for(let re=0;re<I.length;re++){const W=I[re];if(W!=='"'&&W!=="'"||q||(L?W===B&&(L=!1,B=""):(L=!0,B=W)),W==="("&&U.endsWith("url")?q=!0:W===")"&&q&&(q=!1),W!==";"||L||q)U+=W;else{const X=U.trim();if(X){const R=X.indexOf(":");if(R>0){const P=X.slice(0,R).trim(),D=X.slice(R+1).trim();x.push([P,D])}}U=""}}const J=U.trim();if(J){const re=J.indexOf(":");if(re>0){const W=J.slice(0,re).trim(),X=J.slice(re+1).trim();x.push([W,X])}}return x})(T).reduce(function(I,[x,U]){return I[x.replace(/(-[a-z])/g,q=>q[1].toUpperCase())]=O(U,S,x),I},{}):cc.indexOf(w)!==-1?O(T,S,w):(T.match(Cc)&&(T=T.slice(1,T.length-1)),T==="true"||T!=="false"&&T)})(l,m,_,e.sanitizer);typeof $=="string"&&(yn.test($)||gn.test($))&&(v[b]=n($.trim()))}else p!=="style"&&(v[ns[p]||p]=!0);return v},{}):null}e.overrides=e.overrides||{},e.sanitizer=e.sanitizer||ol,e.slugify=e.slugify||gt,e.namedCodesToUnicode=e.namedCodesToUnicode?Ze({},ss,e.namedCodesToUnicode):ss,e.createElement=e.createElement||Y.createElement;const a=[],o={},i={[Q.blockQuote]:{match:Ue(si),order:1,parse(l,h,y){const[,v,p]=l[0].replace(fc,"").match(mc);return{alert:v,children:h(p,y)}},render(l,h,y){const v={key:y.key};return l.alert&&(v.className="markdown-alert-"+e.slugify(l.alert.toLowerCase(),gt),l.children.unshift({attrs:{},children:[{type:Q.text,text:l.alert}],noInnerParse:!0,type:Q.htmlBlock,tag:"header"})),r("blockquote",v,h(l.children,y))}},[Q.breakLine]:{match:vt(hc),order:1,parse:Xr,render:(l,h,y)=>r("br",{key:y.key})},[Q.breakThematic]:{match:Ue(pc),order:1,parse:Xr,render:(l,h,y)=>r("hr",{key:y.key})},[Q.codeBlock]:{match:Ue(ii),order:0,parse:l=>({lang:void 0,text:Ct(l[0].replace(/^ {4}/gm,"")).replace(as,"$1")}),render:(l,h,y)=>r("pre",{key:y.key},r("code",Ze({},l.attrs,{className:l.lang?`lang-${l.lang}`:""}),l.text))},[Q.codeFenced]:{match:Ue(ai),order:0,parse:l=>({attrs:s("code",l[3]||""),lang:l[2]||void 0,text:l[4],type:Q.codeBlock})},[Q.codeInline]:{match:Ke(yc),order:3,parse:l=>({text:l[2].replace(as,"$1")}),render:(l,h,y)=>r("code",{key:y.key},l.text)},[Q.footnote]:{match:Ue(_c),order:0,parse:l=>(a.push({footnote:l[2],identifier:l[1]}),{}),render:Qr},[Q.footnoteReference]:{match:ze(Sc),order:1,parse:l=>({target:`#${e.slugify(l[1],gt)}`,text:l[1]}),render:(l,h,y)=>r("a",{key:y.key,href:e.sanitizer(l.target,"a","href")},r("sup",{key:y.key},l.text))},[Q.gfmTask]:{match:ze(wc),order:1,parse:l=>({completed:l[1].toLowerCase()==="x"}),render:(l,h,y)=>r("input",{checked:l.completed,key:y.key,readOnly:!0,type:"checkbox"})},[Q.heading]:{match:Ue(e.enforceAtxHeadings?ci:oi),order:1,parse:(l,h,y)=>({children:$r(h,l[2],y),id:e.slugify(l[2],gt),level:l[1].length}),render:(l,h,y)=>r(`h${l.level}`,{id:l.id,key:y.key},h(l.children,y))},[Q.headingSetext]:{match:Ue(li),order:0,parse:(l,h,y)=>({children:$r(h,l[1],y),level:l[2]==="="?1:2,type:Q.heading})},[Q.htmlBlock]:{match:vt(yn),order:1,parse(l,h,y){const[,v]=l[3].match(Hc),p=new RegExp(`^${v}`,"gm"),g=l[3].replace(p,""),m=(_=g,rl.some(T=>T.test(_))?ll:$r);var _;const b=l[1].toLowerCase(),$=oc.indexOf(b)!==-1,S=($?b:l[1]).trim(),w={attrs:s(S,l[2]),noInnerParse:$,tag:S};return y.inAnchor=y.inAnchor||b==="a",$?w.text=l[3]:w.children=m(h,g,y),y.inAnchor=!1,w},render:(l,h,y)=>r(l.tag,Ze({key:y.key},l.attrs),l.text||(l.children?h(l.children,y):""))},[Q.htmlSelfClosing]:{match:vt(gn),order:1,parse(l){const h=l[1].trim();return{attrs:s(h,l[2]||""),tag:h}},render:(l,h,y)=>r(l.tag,Ze({},l.attrs,{key:y.key}))},[Q.htmlComment]:{match:vt(di),order:1,parse:()=>({}),render:Qr},[Q.image]:{match:Ke(tl),order:1,parse:l=>({alt:l[1],target:ls(l[2]),title:l[3]}),render:(l,h,y)=>r("img",{key:y.key,alt:l.alt||void 0,title:l.title||void 0,src:e.sanitizer(l.target,"img","src")})},[Q.link]:{match:ze(el),order:3,parse:(l,h,y)=>({children:cl(h,l[1],y),target:ls(l[2]),title:l[3]}),render:(l,h,y)=>r("a",{key:y.key,href:e.sanitizer(l.target,"a","href"),title:l.title},h(l.children,y))},[Q.linkAngleBraceStyleDetector]:{match:ze(Pc),order:0,parse:l=>({children:[{text:l[1],type:Q.text}],target:l[1],type:Q.link})},[Q.linkBareUrlDetector]:{match:ft((l,h)=>h.inAnchor||e.disableAutoLink?null:ze(Oc)(l,h)),order:0,parse:l=>({children:[{text:l[1],type:Q.text}],target:l[1],title:void 0,type:Q.link})},[Q.linkMailtoDetector]:{match:ze(Tc),order:0,parse(l){let h=l[1],y=l[1];return dc.test(y)||(y="mailto:"+y),{children:[{text:h.replace("mailto:",""),type:Q.text}],target:y,type:Q.link}}},[Q.orderedList]:is(r,1),[Q.unorderedList]:is(r,2),[Q.newlineCoalescer]:{match:Ue(gc),order:3,parse:Xr,render:()=>`
`},[Q.paragraph]:{match:ft(al),order:3,parse:Yr,render:(l,h,y)=>r("p",{key:y.key},h(l.children,y))},[Q.ref]:{match:ze(Nc),order:0,parse:l=>(o[l[1]]={target:l[2],title:l[4]},{}),render:Qr},[Q.refImage]:{match:Ke(Fc),order:0,parse:l=>({alt:l[1]||void 0,ref:l[2]}),render:(l,h,y)=>o[l.ref]?r("img",{key:y.key,alt:l.alt,src:e.sanitizer(o[l.ref].target,"img","src"),title:o[l.ref].title}):null},[Q.refLink]:{match:ze(Ic),order:0,parse:(l,h,y)=>({children:h(l[1],y),fallbackChildren:l[0],ref:l[2]}),render:(l,h,y)=>o[l.ref]?r("a",{key:y.key,href:e.sanitizer(o[l.ref].target,"a","href"),title:o[l.ref].title},h(l.children,y)):r("span",{key:y.key},l.fallbackChildren)},[Q.table]:{match:Ue(ui),order:1,parse:sl,render(l,h,y){const v=l;return r("table",{key:y.key},r("thead",null,r("tr",null,v.header.map(function(p,g){return r("th",{key:g,style:cs(v,g)},h(p,y))}))),r("tbody",null,v.cells.map(function(p,g){return r("tr",{key:g},p.map(function(m,_){return r("td",{key:_,style:cs(v,_)},h(m,y))}))})))}},[Q.text]:{match:vt(Kc),order:4,parse:l=>({text:l[0].replace(Ec,(h,y)=>e.namedCodesToUnicode[y]?e.namedCodesToUnicode[y]:h)}),render:l=>l.text},[Q.textBolded]:{match:Ke(Uc),order:2,parse:(l,h,y)=>({children:h(l[2],y)}),render:(l,h,y)=>r("strong",{key:y.key},h(l.children,y))},[Q.textEmphasized]:{match:Ke(Vc),order:3,parse:(l,h,y)=>({children:h(l[2],y)}),render:(l,h,y)=>r("em",{key:y.key},h(l.children,y))},[Q.textEscaped]:{match:Ke(zc),order:1,parse:l=>({text:l[1],type:Q.text})},[Q.textMarked]:{match:Ke(Bc),order:3,parse:Yr,render:(l,h,y)=>r("mark",{key:y.key},h(l.children,y))},[Q.textStrikethroughed]:{match:Ke(Lc),order:3,parse:Yr,render:(l,h,y)=>r("del",{key:y.key},h(l.children,y))}};e.disableParsingRawHTML===!0&&(delete i[Q.htmlBlock],delete i[Q.htmlSelfClosing]);const c=(function(l){let h=Object.keys(l);function y(v,p){let g,m,_=[],b="",$="";for(p.prevCapture=p.prevCapture||"";v;){let S=0;for(;S<h.length;){if(b=h[S],g=l[b],p.inline&&!g.match.inline){S++;continue}const w=g.match(v,p);if(w){$=w[0],p.prevCapture+=$,v=v.substring($.length),m=g.parse(w,y,p),m.type==null&&(m.type=b),_.push(m);break}S++}}return p.prevCapture="",_}return h.sort(function(v,p){let g=l[v].order,m=l[p].order;return g!==m?g-m:v<p?-1:1}),function(v,p){return y((function(g){return g.replace(vc,`
`).replace(bc,"").replace(xc,"    ")})(v),p)}})(i),u=(d=(function(l,h){return function(y,v,p){const g=l[y.type].render;return h?h(()=>g(y,v,p),y,v,p):g(y,v,p)}})(i,e.renderRule),function l(h,y={}){if(Array.isArray(h)){const v=y.key,p=[];let g=!1;for(let m=0;m<h.length;m++){y.key=m;const _=l(h[m],y),b=typeof _=="string";b&&g?p[p.length-1]+=_:_!==null&&p.push(_),g=b}return y.key=v,p}return d(h,l,y)});var d;const f=n(t);return a.length?r("div",null,f,r("footer",{key:"footer"},a.map(function(l){return r("div",{id:e.slugify(l.identifier,gt),key:l.identifier},l.identifier,u(c(l.footnote,{inline:!0})))}))):f}const xr=t=>{let{children:e="",options:r}=t,n=(function(s,a){if(s==null)return{};var o,i,c={},u=Object.keys(s);for(i=0;i<u.length;i++)a.indexOf(o=u[i])>=0||(c[o]=s[o]);return c})(t,ic);return Y.cloneElement(ul(e,r),n)};class fl extends Y.Component{state={wasPropertyKeyModified:!1,additionalProperties:{}};isRequired(e){const{schema:r}=this.props;return Array.isArray(r.required)&&r.required.indexOf(e)!==-1}onPropertyChange=(e,r=!1)=>(n,s,a)=>{const{formData:o,onChange:i,errorSchema:c}=this.props;n===void 0&&r&&(n="");const u={...o,[e]:n};i(u,c&&c&&{...c,[e]:s},a)};onDropPropertyClick=e=>r=>{r.preventDefault();const{onChange:n,formData:s}=this.props,a={...s};$o(a,e),n(a)};getAvailableKey=(e,r)=>{const{uiSchema:n,registry:s}=this.props,{duplicateKeySuffixSeparator:a="-"}=ee(n,s.globalUiOptions);let o=0,i=e;for(;le(r,i);)i=`${e}${a}${++o}`;return i};onKeyChange=e=>(r,n)=>{if(e===r)return;const{formData:s,onChange:a,errorSchema:o}=this.props;r=this.getAvailableKey(r,s);const i={...s},c={[e]:r},u=Object.keys(i).map(f=>({[c[f]||f]:i[f]})),d=Object.assign({},...u);this.setState({wasPropertyKeyModified:!0}),a(d,o&&o&&{...o,[r]:n})};getDefaultValue(e){const{registry:{translateString:r}}=this.props;switch(e){case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};default:return r(oe.NewStringDefault)}}handleAddClick=e=>()=>{if(!(e.additionalProperties||e.patternProperties))return;const{formData:r,onChange:n,registry:s}=this.props,a={...r},o=this.getAvailableKey("newKey",a);if(e.patternProperties)fe(a,o,null);else{let i,c,u;if(Pe(e.additionalProperties)){i=e.additionalProperties.type,c=e.additionalProperties.const,u=e.additionalProperties.default;let f=e.additionalProperties;if(Fe in f){const{schemaUtils:l}=s;f=l.retrieveSchema({$ref:f[Fe]},r),i=f.type,c=f.const,u=f.default}!i&&(ge in f||pe in f)&&(i="object")}const d=c??u??this.getDefaultValue(i);fe(a,o,d)}n(a)};render(){const{schema:e,uiSchema:r={},formData:n,errorSchema:s,idSchema:a,name:o,required:i=!1,disabled:c,readonly:u,hideError:d,idPrefix:f,idSeparator:l,onBlur:h,onFocus:y,registry:v,title:p}=this.props,{fields:g,formContext:m,schemaUtils:_,translateString:b,globalUiOptions:$}=v,{SchemaField:S}=g,w=_.retrieveSchema(e,n),T=ee(r,$),{properties:O={}}=w,I=T.title??w.title??p??o,x=T.description??w.description;let U;try{const B=Object.keys(O);U=Ko(B,T.order)}catch(B){return j.jsxs("div",{children:[j.jsx("p",{className:"rjsf-config-error",style:{color:"red"},children:j.jsx(xr,{options:{disableParsingRawHTML:!0},children:b(oe.InvalidObjectField,[o||"root",B.message])})}),j.jsx("pre",{children:JSON.stringify(w)})]})}const q=Z("ObjectFieldTemplate",v,T),L={title:T.label===!1?"":I,description:T.label===!1?void 0:x,properties:U.map(B=>{const J=le(w,[he,B,Pt]),re=J?r.additionalProperties:r[B],W=ee(re).widget==="hidden",X=z(a,[B],{});return{content:j.jsx(S,{name:B,required:this.isRequired(B),schema:z(w,[he,B],{}),uiSchema:re,errorSchema:z(s,B),idSchema:X,idPrefix:f,idSeparator:l,formData:z(n,B),formContext:m,wasPropertyKeyModified:this.state.wasPropertyKeyModified,onKeyChange:this.onKeyChange(B),onChange:this.onPropertyChange(B,J),onBlur:h,onFocus:y,registry:v,disabled:c,readonly:u,hideError:d,onDropPropertyClick:this.onDropPropertyClick},B),name:B,readonly:u,disabled:c,required:i,hidden:W}}),readonly:u,disabled:c,required:i,idSchema:a,uiSchema:r,errorSchema:s,schema:w,formData:n,formContext:m,registry:v};return j.jsx(q,{...L,onAddClick:this.handleAddClick})}}const ml={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function hl(t,e,r,n){const s=e.field,{fields:a,translateString:o}=n;if(typeof s=="function")return s;if(typeof s=="string"&&s in a)return a[s];const i=Tt(t),c=Array.isArray(i)?i[0]:i||"",u=t.$id;let d=ml[c];return u&&u in a&&(d=u),!d&&(t.anyOf||t.oneOf)?()=>null:d in a?a[d]:()=>{const f=Z("UnsupportedFieldTemplate",n,e);return j.jsx(f,{schema:t,idSchema:r,reason:o(oe.UnknownFieldType,[String(t.type)]),registry:n})}}function pl(t){const{schema:e,idSchema:r,uiSchema:n,formData:s,errorSchema:a,idPrefix:o,idSeparator:i,name:c,onChange:u,onKeyChange:d,onDropPropertyClick:f,required:l,registry:h,wasPropertyKeyModified:y=!1}=t,{formContext:v,schemaUtils:p,globalUiOptions:g}=h,m=ee(n,g),_=Z("FieldTemplate",h,m),b=Z("DescriptionFieldTemplate",h,m),$=Z("FieldHelpTemplate",h,m),S=Z("FieldErrorTemplate",h,m),w=p.retrieveSchema(e,s),T=r[Re],O=et(p.toIdSchema(w,T,s,o,i),r),I=Y.useCallback((V,H,te)=>u(V,H,te||T),[T,u]),x=hl(w,m,O,h),U=!!(m.disabled??t.disabled),q=!!(m.readonly??(t.readonly||t.schema.readOnly||w.readOnly)),L=m.hideError,B=L===void 0?t.hideError:!!L,J=!!(m.autofocus??t.autofocus);if(Object.keys(w).length===0)return null;const re=p.getDisplayLabel(w,n,g),{__errors:W,...X}=a||{},R=Er(n,["ui:classNames","classNames","ui:style"]);nt in R&&(R[nt]=Er(R[nt],["classNames","style"]));const P=j.jsx(x,{...t,onChange:I,idSchema:O,schema:w,uiSchema:R,disabled:U,readonly:q,hideError:B,autofocus:J,errorSchema:X,formContext:v,rawErrors:W}),D=O[Re];let N;y?N=c:N=Pt in w?c:m.title||t.schema.title||w.title||t.title||c;const E=m.description||t.schema.description||w.description||"",C=m.help,A=m.widget==="hidden",K=["rjsf-field",`rjsf-field-${Tt(w)}`];!B&&W&&W.length>0&&K.push("rjsf-field-error"),m.classNames&&K.push(m.classNames);const G=j.jsx($,{help:C,idSchema:O,schema:w,uiSchema:n,hasErrors:!B&&W&&W.length>0,registry:h}),ie=B||(w.anyOf||w.oneOf)&&!p.isSelect(w)?void 0:j.jsx(S,{errors:W,errorSchema:a,idSchema:O,schema:w,uiSchema:n,registry:h}),ae={description:j.jsx(b,{id:at(D),description:E,schema:w,uiSchema:n,registry:h}),rawDescription:E,help:G,rawHelp:typeof C=="string"?C:void 0,errors:ie,rawErrors:B?void 0:W,id:D,label:N,hidden:A,onChange:u,onKeyChange:d,onDropPropertyClick:f,required:l,disabled:U,readonly:q,hideError:B,displayLabel:re,classNames:K.join(" ").trim(),style:m.style,formContext:v,formData:s,schema:w,uiSchema:n,registry:h},k=h.fields.AnyOfField,F=h.fields.OneOfField,M=n?.["ui:field"]&&n?.["ui:fieldReplacesAnyOrOneOf"]===!0;return j.jsx(_,{...ae,children:j.jsxs(j.Fragment,{children:[P,w.anyOf&&!M&&!p.isSelect(w)&&j.jsx(k,{name:c,disabled:U,readonly:q,hideError:B,errorSchema:a,formData:s,formContext:v,idPrefix:o,idSchema:O,idSeparator:i,onBlur:t.onBlur,onChange:t.onChange,onFocus:t.onFocus,options:w.anyOf.map(V=>p.retrieveSchema(Pe(V)?V:{},s)),registry:h,required:l,schema:w,uiSchema:n}),w.oneOf&&!M&&!p.isSelect(w)&&j.jsx(F,{name:c,disabled:U,readonly:q,hideError:B,errorSchema:a,formData:s,formContext:v,idPrefix:o,idSchema:O,idSeparator:i,onBlur:t.onBlur,onChange:t.onChange,onFocus:t.onFocus,options:w.oneOf.map(V=>p.retrieveSchema(Pe(V)?V:{},s)),registry:h,required:l,schema:w,uiSchema:n})]})})}class yl extends Y.Component{shouldComponentUpdate(e){return!me(this.props,e)}render(){return j.jsx(pl,{...this.props})}}function gl(t){const{schema:e,name:r,uiSchema:n,idSchema:s,formData:a,required:o,disabled:i=!1,readonly:c=!1,autofocus:u=!1,onChange:d,onBlur:f,onFocus:l,registry:h,rawErrors:y,hideError:v}=t,{title:p,format:g}=e,{widgets:m,formContext:_,schemaUtils:b,globalUiOptions:$}=h,S=b.isSelect(e)?Et(e,n):void 0;let w=S?"select":"text";g&&Lo(e,g,m)&&(w=g);const{widget:T=w,placeholder:O="",title:I,...x}=ee(n),U=b.getDisplayLabel(e,n,$),q=I??p??r,L=qe(e,T,m);return j.jsx(L,{options:{...x,enumOptions:S},schema:e,uiSchema:n,id:s.$id,name:r,label:q,hideLabel:!U,hideError:v,value:a,onChange:d,onBlur:f,onFocus:l,required:o,disabled:i,readonly:c,formContext:_,autofocus:u,registry:h,placeholder:O,rawErrors:y})}function vl(t){const{formData:e,onChange:r}=t;return Y.useEffect(()=>{e===void 0&&r(null)},[e,r]),null}function _l(){return{AnyOfField:ts,ArrayField:Qo,BooleanField:Zo,LayoutGridField:ye,LayoutHeaderField:tc,LayoutMultiSchemaField:rc,NumberField:ac,ObjectField:fl,OneOfField:ts,SchemaField:yl,StringField:gl,NullField:vl}}function Sl(t){const{idSchema:e,description:r,registry:n,schema:s,uiSchema:a}=t,o=ee(a,n.globalUiOptions),{label:i=!0}=o;if(!r||!i)return null;const c=Z("DescriptionFieldTemplate",n,o);return j.jsx(c,{id:at(e),description:r,schema:s,uiSchema:a,registry:n})}function bl(t){const{children:e,className:r,buttonsProps:n,hasToolbar:s,registry:a,uiSchema:o}=t,i=ee(o),c=Z("ArrayFieldItemButtonsTemplate",a,i),u={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return j.jsxs("div",{className:r,children:[j.jsx("div",{className:s?"col-xs-9":"col-xs-12",children:e}),s&&j.jsx("div",{className:"col-xs-3 array-item-toolbox",children:j.jsx("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"},children:j.jsx(c,{...n,style:u})})})]})}function $l(t){const{disabled:e,hasCopy:r,hasMoveDown:n,hasMoveUp:s,hasRemove:a,idSchema:o,index:i,onCopyIndexClick:c,onDropIndexClick:u,onReorderClick:d,readonly:f,registry:l,uiSchema:h}=t,{CopyButton:y,MoveDownButton:v,MoveUpButton:p,RemoveButton:g}=l.templates.ButtonTemplates,m=Y.useMemo(()=>c(i),[i,c]),_=Y.useMemo(()=>u(i),[i,u]),b=Y.useMemo(()=>d(i,i-1),[i,d]),$=Y.useMemo(()=>d(i,i+1),[i,d]);return j.jsxs(j.Fragment,{children:[(s||n)&&j.jsx(p,{id:Me(o,"moveUp"),className:"rjsf-array-item-move-up",disabled:e||f||!s,onClick:b,uiSchema:h,registry:l}),(s||n)&&j.jsx(v,{id:Me(o,"moveDown"),className:"rjsf-array-item-move-down",disabled:e||f||!n,onClick:$,uiSchema:h,registry:l}),r&&j.jsx(y,{id:Me(o,"copy"),className:"rjsf-array-item-copy",disabled:e||f,onClick:m,uiSchema:h,registry:l}),a&&j.jsx(g,{id:Me(o,"remove"),className:"rjsf-array-item-remove",disabled:e||f,onClick:_,uiSchema:h,registry:l})]})}function wl(t){const{canAdd:e,className:r,disabled:n,idSchema:s,uiSchema:a,items:o,onAddClick:i,readonly:c,registry:u,required:d,schema:f,title:l}=t,h=ee(a),y=Z("ArrayFieldDescriptionTemplate",u,h),v=Z("ArrayFieldItemTemplate",u,h),p=Z("ArrayFieldTitleTemplate",u,h),{ButtonTemplates:{AddButton:g}}=u.templates;return j.jsxs("fieldset",{className:r,id:s.$id,children:[j.jsx(p,{idSchema:s,title:h.title||l,required:d,schema:f,uiSchema:a,registry:u}),j.jsx(y,{idSchema:s,description:h.description||f.description,schema:f,uiSchema:a,registry:u}),j.jsx("div",{className:"row array-item-list",children:o&&o.map(({key:m,..._})=>j.jsx(v,{..._},m))}),e&&j.jsx(g,{id:Me(s,"add"),className:"rjsf-array-item-add",onClick:i,disabled:n||c,uiSchema:a,registry:u})]})}function El(t){const{idSchema:e,title:r,schema:n,uiSchema:s,required:a,registry:o}=t,i=ee(s,o.globalUiOptions),{label:c=!0}=i;if(!r||!c)return null;const u=Z("TitleFieldTemplate",o,i);return j.jsx(u,{id:Fr(e),title:r,required:a,schema:n,uiSchema:s,registry:o})}function jl(t){const{id:e,name:r,value:n,readonly:s,disabled:a,autofocus:o,onBlur:i,onFocus:c,onChange:u,onChangeOverride:d,options:f,schema:l,uiSchema:h,formContext:y,registry:v,rawErrors:p,type:g,hideLabel:m,hideError:_,...b}=t;if(!e)throw console.log("No id for",t),new Error(`no id for props ${JSON.stringify(t)}`);const $={...b,...ei(l,g,f)};let S;$.type==="number"||$.type==="integer"?S=n||n===0?n:"":S=n??"";const w=Y.useCallback(({target:{value:I}})=>u(I===""?f.emptyValue:I),[u,f]),T=Y.useCallback(({target:I})=>i(e,I&&I.value),[i,e]),O=Y.useCallback(({target:I})=>c(e,I&&I.value),[c,e]);return j.jsxs(j.Fragment,{children:[j.jsx("input",{id:e,name:e,className:"form-control",readOnly:s,disabled:a,autoFocus:o,value:S,...$,list:l.examples?jt(e):void 0,onChange:d||w,onBlur:T,onFocus:O,"aria-describedby":Oe(e,!!l.examples)}),Array.isArray(l.examples)&&j.jsx("datalist",{id:jt(e),children:l.examples.concat(l.default&&!l.examples.includes(l.default)?[l.default]:[]).map(I=>j.jsx("option",{value:I},I))},`datalist_${e}`)]})}function Cl({uiSchema:t}){const{submitText:e,norender:r,props:n={}}=ti(t);return r?null:j.jsx("div",{children:j.jsx("button",{type:"submit",...n,className:`btn btn-info ${n.className||""}`,children:e})})}function kt(t){const{iconType:e="default",icon:r,className:n,uiSchema:s,registry:a,...o}=t;return j.jsx("button",{type:"button",className:`btn btn-${e} ${n}`,...o,children:j.jsx("i",{className:`glyphicon glyphicon-${r}`})})}function Ol(t){const{registry:{translateString:e}}=t;return j.jsx(kt,{title:e(oe.CopyButton),...t,icon:"copy"})}function Tl(t){const{registry:{translateString:e}}=t;return j.jsx(kt,{title:e(oe.MoveDownButton),...t,icon:"arrow-down"})}function Pl(t){const{registry:{translateString:e}}=t;return j.jsx(kt,{title:e(oe.MoveUpButton),...t,icon:"arrow-up"})}function kl(t){const{registry:{translateString:e}}=t;return j.jsx(kt,{title:e(oe.RemoveButton),...t,iconType:"danger",icon:"remove"})}function Nl({className:t,onClick:e,disabled:r,registry:n}){const{translateString:s}=n;return j.jsx("div",{className:"row",children:j.jsx("p",{className:`col-xs-3 col-xs-offset-9 text-right ${t}`,children:j.jsx(kt,{iconType:"info",icon:"plus",className:"btn-add col-xs-12",title:s(oe.AddButton),onClick:e,disabled:r,registry:n})})})}function Fl(){return{SubmitButton:Cl,AddButton:Nl,CopyButton:Ol,MoveDownButton:Tl,MoveUpButton:Pl,RemoveButton:kl}}const bi=ni();function Nn({description:t,registry:e,uiSchema:r={}}){const{globalUiOptions:n}=e;return ee(r,n).enableMarkdownInDescription&&typeof t=="string"?j.jsx(xr,{options:{disableParsingRawHTML:!0},"data-testid":bi.markdown,children:t}):t}Nn.TEST_IDS=bi;function Il(t){const{id:e,description:r,registry:n,uiSchema:s}=t;return r?j.jsx("div",{id:e,className:"field-description",children:j.jsx(Nn,{description:r,registry:n,uiSchema:s})}):null}function Al({errors:t,registry:e}){const{translateString:r}=e;return j.jsxs("div",{className:"panel panel-danger errors",children:[j.jsx("div",{className:"panel-heading",children:j.jsx("h3",{className:"panel-title",children:r(oe.ErrorsLabel)})}),j.jsx("ul",{className:"list-group",children:t.map((n,s)=>j.jsx("li",{className:"list-group-item text-danger",children:n.stack},s))})]})}const xl="*";function $i(t){const{label:e,required:r,id:n}=t;return e?j.jsxs("label",{className:"control-label",htmlFor:n,children:[e,r&&j.jsx("span",{className:"required",children:xl})]}):null}function Dl(t){const{id:e,label:r,children:n,errors:s,help:a,description:o,hidden:i,required:c,displayLabel:u,registry:d,uiSchema:f}=t,l=ee(f),h=Z("WrapIfAdditionalTemplate",d,l);return i?j.jsx("div",{className:"hidden",children:n}):j.jsxs(h,{...t,children:[u&&j.jsx($i,{label:r,required:c,id:e}),u&&o?o:null,n,s,a]})}function Rl(t){const{errors:e=[],idSchema:r}=t;if(e.length===0)return null;const n=jn(r);return j.jsx("div",{children:j.jsx("ul",{id:n,className:"error-detail bs-callout bs-callout-info",children:e.filter(s=>!!s).map((s,a)=>j.jsx("li",{className:"text-danger",children:s},a))})})}function Ml(t){const{idSchema:e,help:r}=t;if(!r)return null;const n=Cn(e);return typeof r=="string"?j.jsx("p",{id:n,className:"help-block",children:r}):j.jsx("div",{id:n,className:"help-block",children:r})}function ql(t){const{children:e,column:r,className:n,...s}=t;return j.jsx("div",{className:n,...s,children:e})}function Ul(t){const{description:e,disabled:r,formData:n,idSchema:s,onAddClick:a,properties:o,readonly:i,registry:c,required:u,schema:d,title:f,uiSchema:l}=t,h=ee(l),y=Z("TitleFieldTemplate",c,h),v=Z("DescriptionFieldTemplate",c,h),{ButtonTemplates:{AddButton:p}}=c.templates;return j.jsxs("fieldset",{id:s.$id,children:[f&&j.jsx(y,{id:Fr(s),title:f,required:u,schema:d,uiSchema:l,registry:c}),e&&j.jsx(v,{id:at(s),description:e,schema:d,uiSchema:l,registry:c}),o.map(g=>g.content),Wa(d,l,n)&&j.jsx(p,{id:Me(s,"add"),className:"rjsf-object-property-expand",onClick:a(d),disabled:r||i,uiSchema:l,registry:c})]})}const Vl="*";function Bl(t){const{id:e,title:r,required:n}=t;return j.jsxs("legend",{id:e,children:[r,n&&j.jsx("span",{className:"required",children:Vl})]})}function Ll(t){const{schema:e,idSchema:r,reason:n,registry:s}=t,{translateString:a}=s;let o=oe.UnsupportedField;const i=[];return r&&r.$id&&(o=oe.UnsupportedFieldWithId,i.push(r.$id)),n&&(o=o===oe.UnsupportedField?oe.UnsupportedFieldWithReason:oe.UnsupportedFieldWithIdAndReason,i.push(n)),j.jsxs("div",{className:"unsupported-field",children:[j.jsx("p",{children:j.jsx(xr,{options:{disableParsingRawHTML:!0},children:a(o,i)})}),e&&j.jsx("pre",{children:JSON.stringify(e,null,2)})]})}function zl(t){const{id:e,classNames:r,style:n,disabled:s,label:a,onKeyChange:o,onDropPropertyClick:i,readonly:c,required:u,schema:d,hideError:f,rawErrors:l,children:h,uiSchema:y,registry:v}=t,{templates:p,translateString:g}=v,{RemoveButton:m}=p.ButtonTemplates,_=g(oe.KeyLabel,[a]),b=Pt in d,$=["form-group",r];!f&&l&&l.length>0&&$.push("has-error has-danger");const S=$.join(" ").trim();return b?j.jsx("div",{className:S,style:n,children:j.jsxs("div",{className:"row",children:[j.jsx("div",{className:"col-xs-5 form-additional",children:j.jsxs("div",{className:"form-group",children:[j.jsx($i,{label:_,required:u,id:`${e}-key`}),j.jsx("input",{className:"form-control",type:"text",id:`${e}-key`,onBlur:({target:w})=>o(w&&w.value),defaultValue:a})]})}),j.jsx("div",{className:"form-additional form-group col-xs-5",children:h}),j.jsx("div",{className:"col-xs-2",children:j.jsx(m,{id:Me(e,"remove"),className:"rjsf-object-property-remove btn-block",style:{border:"0"},disabled:s||c,onClick:i(a),uiSchema:y,registry:v})})]})}):j.jsx("div",{className:S,style:n,children:h})}function Kl(){return{ArrayFieldDescriptionTemplate:Sl,ArrayFieldItemTemplate:bl,ArrayFieldItemButtonsTemplate:$l,ArrayFieldTemplate:wl,ArrayFieldTitleTemplate:El,ButtonTemplates:Fl(),BaseInputTemplate:jl,DescriptionFieldTemplate:Il,ErrorListTemplate:Al,FieldTemplate:Dl,FieldErrorTemplate:Rl,FieldHelpTemplate:Ml,GridTemplate:ql,ObjectFieldTemplate:Ul,TitleFieldTemplate:Bl,UnsupportedFieldTemplate:Ll,WrapIfAdditionalTemplate:zl}}function Wl(t){return Object.values(t).every(e=>e!==-1)}function Hl({type:t,range:e,value:r,select:n,rootId:s,name:a,disabled:o,readonly:i,autofocus:c,registry:u,onBlur:d,onFocus:f}){const l=s+"_"+t,{SelectWidget:h}=u.widgets;return j.jsx(h,{schema:{type:"integer"},id:l,name:a,className:"form-control",options:{enumOptions:Ya(e[0],e[1])},placeholder:t,value:r,disabled:o,readonly:i,autofocus:c,onChange:y=>n(t,y),onBlur:d,onFocus:f,registry:u,label:"","aria-describedby":Oe(s)})}function Gl({time:t=!1,disabled:e=!1,readonly:r=!1,autofocus:n=!1,options:s,id:a,name:o,registry:i,onBlur:c,onFocus:u,onChange:d,value:f}){const{translateString:l}=i,[h,y]=Y.useState(f),[v,p]=Y.useReducer((b,$)=>({...b,...$}),Hr(f,t));Y.useEffect(()=>{const b=Xn(v,t);Wl(v)&&b!==f?d(b):h!==f&&(y(f),p(Hr(f,t)))},[t,f,d,v,h]);const g=Y.useCallback((b,$)=>{p({[b]:$})},[]),m=Y.useCallback(b=>{if(b.preventDefault(),e||r)return;const $=Hr(new Date().toJSON(),t);d(Xn($,t))},[e,r,t]),_=Y.useCallback(b=>{b.preventDefault(),!(e||r)&&d(void 0)},[e,r,d]);return j.jsxs("ul",{className:"list-inline",children:[Ro(v,t,s.yearsRange,s.format).map((b,$)=>j.jsx("li",{className:"list-inline-item",children:j.jsx(Hl,{rootId:a,name:o,select:g,...b,disabled:e,readonly:r,registry:i,onBlur:c,onFocus:u,autofocus:n&&$===0})},$)),(s.hideNowButton!=="undefined"?!s.hideNowButton:!0)&&j.jsx("li",{className:"list-inline-item",children:j.jsx("a",{href:"#",className:"btn btn-info btn-now",onClick:m,children:l(oe.NowLabel)})}),(s.hideClearButton!=="undefined"?!s.hideClearButton:!0)&&j.jsx("li",{className:"list-inline-item",children:j.jsx("a",{href:"#",className:"btn btn-warning btn-clear",onClick:_,children:l(oe.ClearLabel)})})]})}function Jl({time:t=!0,...e}){const{AltDateWidget:r}=e.registry.widgets;return j.jsx(r,{time:t,...e})}function Yl({schema:t,uiSchema:e,options:r,id:n,value:s,disabled:a,readonly:o,label:i,hideLabel:c,autofocus:u=!1,onBlur:d,onFocus:f,onChange:l,registry:h}){const y=Z("DescriptionFieldTemplate",h,r),v=$t(t),p=Y.useCallback(b=>l(b.target.checked),[l]),g=Y.useCallback(b=>d(n,b.target.checked),[d,n]),m=Y.useCallback(b=>f(n,b.target.checked),[f,n]),_=r.description??t.description;return j.jsxs("div",{className:`checkbox ${a||o?"disabled":""}`,children:[!c&&_&&j.jsx(y,{id:at(n),description:_,schema:t,uiSchema:e,registry:h}),j.jsxs("label",{children:[j.jsx("input",{type:"checkbox",id:n,name:n,checked:typeof s>"u"?!1:s,required:v,disabled:a||o,autoFocus:u,onChange:p,onBlur:g,onFocus:m,"aria-describedby":Oe(n)}),it(j.jsx("span",{children:i}),c)]})]})}function Xl({id:t,disabled:e,options:{inline:r=!1,enumOptions:n,enumDisabled:s,emptyValue:a},value:o,autofocus:i=!1,readonly:c,onChange:u,onBlur:d,onFocus:f}){const l=Array.isArray(o)?o:[o],h=Y.useCallback(({target:v})=>d(t,ve(v&&v.value,n,a)),[d,t]),y=Y.useCallback(({target:v})=>f(t,ve(v&&v.value,n,a)),[f,t]);return j.jsx("div",{className:"checkboxes",id:t,children:Array.isArray(n)&&n.map((v,p)=>{const g=Nr(v.value,l),m=Array.isArray(s)&&s.indexOf(v.value)!==-1,_=e||m||c?"disabled":"",b=S=>{S.target.checked?u(Qa(p,l,n)):u(Xa(p,l,n))},$=j.jsxs("span",{children:[j.jsx("input",{type:"checkbox",id:Ir(t,p),name:t,checked:g,value:String(p),disabled:e||m||c,autoFocus:i&&p===0,onChange:b,onBlur:h,onFocus:y,"aria-describedby":Oe(t)}),j.jsx("span",{children:v.label})]});return r?j.jsx("label",{className:`checkbox-inline ${_}`,children:$},p):j.jsx("div",{className:`checkbox ${_}`,children:j.jsx("label",{children:$})},p)})})}function Ql(t){const{disabled:e,readonly:r,options:n,registry:s}=t,a=Z("BaseInputTemplate",s,n);return j.jsx(a,{type:"color",...t,disabled:e||r})}function Zl(t){const{onChange:e,options:r,registry:n}=t,s=Z("BaseInputTemplate",n,r),a=Y.useCallback(o=>e(o||void 0),[e]);return j.jsx(s,{type:"date",...t,onChange:a})}function ed(t){const{onChange:e,value:r,options:n,registry:s}=t,a=Z("BaseInputTemplate",s,n);return j.jsx(a,{type:"datetime-local",...t,value:Go(r),onChange:o=>e(zo(o))})}function td(t){const{options:e,registry:r}=t,n=Z("BaseInputTemplate",r,e);return j.jsx(n,{type:"email",...t})}function rd(t,e){return t===null?null:t.replace(";base64",`;name=${encodeURIComponent(e)};base64`)}function nd(t){const{name:e,size:r,type:n}=t;return new Promise((s,a)=>{const o=new window.FileReader;o.onerror=a,o.onload=i=>{typeof i.target?.result=="string"?s({dataURL:rd(i.target.result,e),name:e,size:r,type:n}):s({dataURL:null,name:e,size:r,type:n})},o.readAsDataURL(t)})}function sd(t){return Promise.all(Array.from(t).map(nd))}function ad({fileInfo:t,registry:e}){const{translateString:r}=e,{dataURL:n,type:s,name:a}=t;return n?["image/jpeg","image/png"].includes(s)?j.jsx("img",{src:n,style:{maxWidth:"100%"},className:"file-preview"}):j.jsxs(j.Fragment,{children:[" ",j.jsx("a",{download:`preview-${a}`,href:n,className:"file-download",children:r(oe.PreviewLabel)})]}):null}function id({filesInfo:t,registry:e,preview:r,onRemove:n,options:s}){if(t.length===0)return null;const{translateString:a}=e,{RemoveButton:o}=Z("ButtonTemplates",e,s);return j.jsx("ul",{className:"file-info",children:t.map((i,c)=>{const{name:u,size:d,type:f}=i,l=()=>n(c);return j.jsxs("li",{children:[j.jsx(xr,{children:a(oe.FilesInfo,[u,f,String(d)])}),r&&j.jsx(ad,{fileInfo:i,registry:e}),j.jsx(o,{onClick:l,registry:e})]},c)})})}function od(t){return t.reduce((e,r)=>{if(!r)return e;try{const{blob:n,name:s}=Io(r);return[...e,{dataURL:r,name:s,size:n.size,type:n.type}]}catch{return e}},[])}function cd(t){const{disabled:e,readonly:r,required:n,multiple:s,onChange:a,value:o,options:i,registry:c}=t,u=Z("BaseInputTemplate",c,i),d=Y.useCallback(h=>{h.target.files&&sd(h.target.files).then(y=>{const v=y.map(p=>p.dataURL);a(s?o.concat(v):v[0])})},[s,o,a]),f=Y.useMemo(()=>od(Array.isArray(o)?o:[o]),[o]),l=Y.useCallback(h=>{if(s){const y=o.filter((v,p)=>p!==h);a(y)}else a(void 0)},[s,o,a]);return j.jsxs("div",{children:[j.jsx(u,{...t,disabled:e||r,type:"file",required:o?!1:n,onChangeOverride:d,value:"",accept:i.accept?String(i.accept):void 0}),j.jsx(id,{filesInfo:f,onRemove:l,registry:c,preview:i.filePreview,options:i})]})}function ld({id:t,value:e}){return j.jsx("input",{type:"hidden",id:t,name:t,value:typeof e>"u"?"":e})}function dd(t){const{options:e,registry:r}=t,n=Z("BaseInputTemplate",r,e);return j.jsx(n,{type:"password",...t})}function ud({options:t,value:e,required:r,disabled:n,readonly:s,autofocus:a=!1,onBlur:o,onFocus:i,onChange:c,id:u}){const{enumOptions:d,enumDisabled:f,inline:l,emptyValue:h}=t,y=Y.useCallback(({target:p})=>o(u,ve(p&&p.value,d,h)),[o,d,h,u]),v=Y.useCallback(({target:p})=>i(u,ve(p&&p.value,d,h)),[i,d,h,u]);return j.jsx("div",{className:"field-radio-group",id:u,role:"radiogroup",children:Array.isArray(d)&&d.map((p,g)=>{const m=Nr(p.value,e),_=Array.isArray(f)&&f.indexOf(p.value)!==-1,b=n||_||s?"disabled":"",$=()=>c(p.value),S=j.jsxs("span",{children:[j.jsx("input",{type:"radio",id:Ir(u,g),checked:m,name:u,required:r,value:String(g),disabled:n||_||s,autoFocus:a&&g===0,onChange:$,onBlur:y,onFocus:v,"aria-describedby":Oe(u)}),j.jsx("span",{children:p.label})]});return l?j.jsx("label",{className:`radio-inline ${b}`,children:S},g):j.jsx("div",{className:`radio ${b}`,children:j.jsx("label",{children:S})},g)})})}function fd(t){const{value:e,registry:{templates:{BaseInputTemplate:r}}}=t;return j.jsxs("div",{className:"field-range-wrapper",children:[j.jsx(r,{type:"range",...t}),j.jsx("span",{className:"range-view",children:e})]})}function md({id:t,value:e,required:r,disabled:n,readonly:s,autofocus:a,onChange:o,onFocus:i,onBlur:c,schema:u,options:d}){const{stars:f=5,shape:l="star"}=d,h=u.maximum?Math.min(u.maximum,5):Math.min(Math.max(f,1),5),y=u.minimum||0,v=Y.useCallback(_=>{!n&&!s&&o(_)},[o,n,s]),p=Y.useCallback(_=>{if(i){const b=Number(_.target.dataset.value);i(t,b)}},[i,t]),g=Y.useCallback(_=>{if(c){const b=Number(_.target.dataset.value);c(t,b)}},[c,t]),m=_=>l==="heart"?_?"♥":"♡":_?"★":"☆";return j.jsx(j.Fragment,{children:j.jsxs("div",{className:"rating-widget",style:{display:"inline-flex",fontSize:"1.5rem",cursor:n||s?"default":"pointer"},children:[[...Array(h)].map((_,b)=>{const $=y+b,S=$<=e;return j.jsx("span",{onClick:()=>v($),onFocus:p,onBlur:g,"data-value":$,tabIndex:n||s?-1:0,role:"radio","aria-checked":$===e,"aria-label":`${$} ${l==="heart"?"heart":"star"}${$===1?"":"s"}`,style:{color:S?"#FFD700":"#ccc",padding:"0 0.2rem",transition:"color 0.2s",userSelect:"none"},children:m(S)},b)}),j.jsx("input",{type:"hidden",id:t,name:t,value:e||"",required:r,disabled:n||s,"aria-hidden":"true"})]})})}function en(t,e){return e?Array.from(t.target.options).slice().filter(r=>r.selected).map(r=>r.value):t.target.value}function hd({schema:t,id:e,options:r,value:n,required:s,disabled:a,readonly:o,multiple:i=!1,autofocus:c=!1,onChange:u,onBlur:d,onFocus:f,placeholder:l}){const{enumOptions:h,enumDisabled:y,emptyValue:v}=r,p=i?[]:"",g=Y.useCallback(S=>{const w=en(S,i);return f(e,ve(w,h,v))},[f,e,i,h,v]),m=Y.useCallback(S=>{const w=en(S,i);return d(e,ve(w,h,v))},[d,e,i,h,v]),_=Y.useCallback(S=>{const w=en(S,i);return u(ve(w,h,v))},[u,i,h,v]),b=En(n,h,i),$=!i&&t.default===void 0;return j.jsxs("select",{id:e,name:e,multiple:i,role:"combobox",className:"form-control",value:typeof b>"u"?p:b,required:s,disabled:a||o,autoFocus:c,onBlur:m,onFocus:g,onChange:_,"aria-describedby":Oe(e),children:[$&&j.jsx("option",{value:"",children:l}),Array.isArray(h)&&h.map(({value:S,label:w},T)=>{const O=y&&y.indexOf(S)!==-1;return j.jsx("option",{value:String(T),disabled:O,children:w},T)})]})}function wi({id:t,options:e={},placeholder:r,value:n,required:s,disabled:a,readonly:o,autofocus:i=!1,onChange:c,onBlur:u,onFocus:d}){const f=Y.useCallback(({target:{value:y}})=>c(y===""?e.emptyValue:y),[c,e.emptyValue]),l=Y.useCallback(({target:y})=>u(t,y&&y.value),[u,t]),h=Y.useCallback(({target:y})=>d(t,y&&y.value),[t,d]);return j.jsx("textarea",{id:t,name:t,className:"form-control",value:n||"",placeholder:r,required:s,disabled:a,readOnly:o,autoFocus:i,rows:e.rows,onBlur:l,onFocus:h,onChange:f,"aria-describedby":Oe(t)})}wi.defaultProps={autofocus:!1,options:{}};function pd(t){const{options:e,registry:r}=t,n=Z("BaseInputTemplate",r,e);return j.jsx(n,{...t})}function yd(t){const{onChange:e,options:r,registry:n}=t,s=Z("BaseInputTemplate",n,r),a=Y.useCallback(o=>e(o?`${o}:00`:void 0),[e]);return j.jsx(s,{type:"time",...t,onChange:a})}function gd(t){const{options:e,registry:r}=t,n=Z("BaseInputTemplate",r,e);return j.jsx(n,{type:"url",...t})}function vd(t){const{options:e,registry:r}=t,n=Z("BaseInputTemplate",r,e);return j.jsx(n,{type:"number",...t})}function _d(){return{AltDateWidget:Gl,AltDateTimeWidget:Jl,CheckboxWidget:Yl,CheckboxesWidget:Xl,ColorWidget:Ql,DateWidget:Zl,DateTimeWidget:ed,EmailWidget:td,FileWidget:cd,HiddenWidget:ld,PasswordWidget:dd,RadioWidget:ud,RangeWidget:fd,RatingWidget:md,SelectWidget:hd,TextWidget:pd,TextareaWidget:wi,TimeWidget:yd,UpDownWidget:vd,URLWidget:gd}}function Sd(){return{fields:_l(),templates:Kl(),widgets:_d(),rootSchema:{},formContext:{},translateString:xo}}class bd extends Y.Component{formElement;constructor(e){if(super(e),!e.validator)throw new Error("A validator is required for Form functionality to work");this.state=this.getStateFromProps(e,e.formData),this.props.onChange&&!me(this.state.formData,this.props.formData)&&this.props.onChange(this.state),this.formElement=Y.createRef()}getSnapshotBeforeUpdate(e,r){if(!me(this.props,e)){const n=Xo(this.props.formData,e.formData),s=!me(e.schema,this.props.schema),a=n.length>0||!me(e.formData,this.props.formData),o=this.getStateFromProps(this.props,this.props.formData,s||a?void 0:this.state.retrievedSchema,s,n),i=!me(o,r);return{nextState:o,shouldUpdate:i}}return{shouldUpdate:!1}}componentDidUpdate(e,r,n){if(n.shouldUpdate){const{nextState:s}=n;!me(s.formData,this.props.formData)&&!me(s.formData,r.formData)&&this.props.onChange&&this.props.onChange(s),this.setState(s)}}getStateFromProps(e,r,n,s=!1,a=[]){const o=this.state||{},i="schema"in e?e.schema:this.props.schema,c=("uiSchema"in e?e.uiSchema:this.props.uiSchema)||{},u=typeof r<"u",d="liveValidate"in e?e.liveValidate:this.props.liveValidate,f=u&&!e.noValidate&&d,l=i,h="experimental_defaultFormStateBehavior"in e?e.experimental_defaultFormStateBehavior:this.props.experimental_defaultFormStateBehavior,y="experimental_customMergeAllOf"in e?e.experimental_customMergeAllOf:this.props.experimental_customMergeAllOf;let v=o.schemaUtils;(!v||v.doesSchemaUtilsDiffer(e.validator,l,h,y))&&(v=Fo(e.validator,l,h,y));const p=v.getDefaultFormState(i,r),g=this.updateRetrievedSchema(n??v.retrieveSchema(i,p)),m=()=>e.noValidate||s?{errors:[],errorSchema:{}}:e.liveValidate?{errors:o.errors||[],errorSchema:o.errorSchema||{}}:{errors:o.schemaValidationErrors||[],errorSchema:o.schemaValidationErrorSchema||{}};let _,b,$=o.schemaValidationErrors,S=o.schemaValidationErrorSchema;if(f){const O=this.validate(p,i,v,g);_=O.errors,n===void 0?b=O.errorSchema:b=et(this.state?.errorSchema,O.errorSchema,"preventDuplicates"),$=_,S=b}else{const O=m();if(_=O.errors,b=O.errorSchema,a.length>0){const I=a.reduce((x,U)=>(x[U]=void 0,x),{});b=S=et(O.errorSchema,I,"preventDuplicates")}}if(e.extraErrors){const O=br({errorSchema:b,errors:_},e.extraErrors);b=O.errorSchema,_=O.errors}const w=v.toIdSchema(g,c["ui:rootFieldId"],p,e.idPrefix,e.idSeparator);return{schemaUtils:v,schema:i,uiSchema:c,idSchema:w,formData:p,edit:u,errors:_,errorSchema:b,schemaValidationErrors:$,schemaValidationErrorSchema:S,retrievedSchema:g}}shouldComponentUpdate(e,r){return Wo(this,e,r)}getPreviousCustomValidateErrors(){const{customValidate:e,uiSchema:r}=this.props,n=this.state.formData;let s={};if(typeof e=="function"){const a=e(n,Cr(n),r);s=On(a)}return s}validate(e,r=this.props.schema,n,s){const a=n||this.state.schemaUtils,{customValidate:o,transformErrors:i,uiSchema:c}=this.props,u=s??a.retrieveSchema(r,e);return a.getValidator().validateFormData(e,u,o,i,c)}renderErrors(e){const{errors:r,errorSchema:n,schema:s,uiSchema:a}=this.state,{formContext:o}=this.props,i=ee(a),c=Z("ErrorListTemplate",e,i);return r&&r.length?j.jsx(c,{errors:r,errorSchema:n||{},schema:s,uiSchema:a,formContext:o,registry:e}):null}getUsedFormData=(e,r)=>{if(r.length===0&&typeof e!="object")return e;const n=qn(e,r);return Array.isArray(e)?Object.keys(n).map(s=>n[s]):n};getFieldNames=(e,r)=>{const n=(s,a=[],o=[[]])=>(Object.keys(s).forEach(i=>{if(typeof s[i]=="object"){const c=o.map(u=>[...u,i]);s[i][$n]&&s[i][gr]!==""?a.push(s[i][gr]):n(s[i],a,c)}else i===gr&&s[i]!==""&&o.forEach(c=>{const u=z(r,c);(typeof u!="object"||xe(u)||Array.isArray(u)&&u.every(d=>typeof d!="object"))&&a.push(c)})}),a);return n(e)};omitExtraData=e=>{const{schema:r,schemaUtils:n}=this.state,s=n.retrieveSchema(r,e),a=n.toPathSchema(s,"",e),o=this.getFieldNames(a,e);return this.getUsedFormData(e,o)};filterErrorsBasedOnSchema(e,r,n){const{retrievedSchema:s,schemaUtils:a}=this.state,o=r??s,i=a.toPathSchema(o,"",n),c=this.getFieldNames(i,n),u=qn(e,c);r?.type!=="object"&&r?.type!=="array"&&(u.__errors=e.__errors);const d=this.getPreviousCustomValidateErrors(),f=(h=[],y)=>h.length===0?h:h.filter(v=>!y.includes(v)),l=(h,y={})=>(za(h,(v,p)=>{const g=y[p];Ta(v)||Array.isArray(v)&&v.length===0?delete h[p]:yr(v)&&yr(g)&&Array.isArray(g?.__errors)?h[p]=f(v.__errors,g.__errors):typeof v=="object"&&!Array.isArray(v.__errors)&&l(v,y[p])}),h);return l(u,d)}onChange=(e,r,n)=>{const{extraErrors:s,omitExtraData:a,liveOmit:o,noValidate:i,liveValidate:c,onChange:u}=this.props,{schemaUtils:d,schema:f}=this.state;let l=this.state.retrievedSchema;if(yr(e)||Array.isArray(e)){const p=this.getStateFromProps(this.props,e);e=p.formData,l=p.retrievedSchema}const h=!i&&c;let y={formData:e,schema:f},v=e;if(a===!0&&o===!0&&(v=this.omitExtraData(e),y={formData:v}),h){const p=this.validate(v,f,d,l);let g=p.errors,m=p.errorSchema;const _=g,b=m;if(s){const $=br(p,s);m=$.errorSchema,g=$.errors}if(r){const $=this.filterErrorsBasedOnSchema(r,l,v);m=et(m,$,"preventDuplicates")}y={formData:v,errors:g,errorSchema:m,schemaValidationErrors:_,schemaValidationErrorSchema:b}}else if(!i&&r){const p=s?et(r,s,"preventDuplicates"):r;y={formData:v,errorSchema:p,errors:Or(p)}}this.setState(y,()=>u&&u({...this.state,...y},n))};updateRetrievedSchema(e){return me(e,this.state?.retrievedSchema)?this.state.retrievedSchema:e}reset=()=>{const{onChange:e}=this.props,s={formData:this.getStateFromProps(this.props,void 0).formData,errorSchema:{},errors:[],schemaValidationErrors:[],schemaValidationErrorSchema:{}};this.setState(s,()=>e&&e({...this.state,...s}))};onBlur=(e,r)=>{const{onBlur:n}=this.props;n&&n(e,r)};onFocus=(e,r)=>{const{onFocus:n}=this.props;n&&n(e,r)};onSubmit=e=>{if(e.preventDefault(),e.target!==e.currentTarget)return;e.persist();const{omitExtraData:r,extraErrors:n,noValidate:s,onSubmit:a}=this.props;let{formData:o}=this.state;if(r===!0&&(o=this.omitExtraData(o)),s||this.validateFormWithFormData(o)){const i=n||{},c=n?Or(n):[];this.setState({formData:o,errors:c,errorSchema:i,schemaValidationErrors:[],schemaValidationErrorSchema:{}},()=>{a&&a({...this.state,formData:o,status:"submitted"},e)})}};getRegistry(){const{translateString:e,uiSchema:r={}}=this.props,{schemaUtils:n}=this.state,{fields:s,templates:a,widgets:o,formContext:i,translateString:c}=Sd();return{fields:{...s,...this.props.fields},templates:{...a,...this.props.templates,ButtonTemplates:{...a.ButtonTemplates,...this.props.templates?.ButtonTemplates}},widgets:{...o,...this.props.widgets},rootSchema:this.props.schema,formContext:this.props.formContext||i,schemaUtils:n,translateString:e||c,globalUiOptions:r[mn]}}submit=()=>{if(this.formElement.current){const e=new CustomEvent("submit",{cancelable:!0});e.preventDefault(),this.formElement.current.dispatchEvent(e),this.formElement.current.requestSubmit()}};focusOnError(e){const{idPrefix:r="root",idSeparator:n="_"}=this.props,{property:s}=e,a=Ka(s);a[0]===""?a[0]=r:a.unshift(r);const o=a.join(n);let i=this.formElement.current.elements[o];i||(i=this.formElement.current.querySelector(`input[id^="${o}"`)),i&&i.length&&(i=i[0]),i&&i.focus()}validateFormWithFormData=e=>{const{extraErrors:r,extraErrorsBlockSubmit:n,focusOnFirstError:s,onError:a}=this.props,{errors:o}=this.state,i=this.validate(e);let c=i.errors,u=i.errorSchema;const d=c,f=u,l=c.length>0||r&&n;if(l){if(r){const h=br(i,r);u=h.errorSchema,c=h.errors}s&&(typeof s=="function"?s(c[0]):this.focusOnError(c[0])),this.setState({errors:c,errorSchema:u,schemaValidationErrors:d,schemaValidationErrorSchema:f},()=>{a?a(c):console.error("Form validation failed",c)})}else o.length>0&&this.setState({errors:[],errorSchema:{},schemaValidationErrors:[],schemaValidationErrorSchema:{}});return!l};validateForm(){const{omitExtraData:e}=this.props;let{formData:r}=this.state;return e===!0&&(r=this.omitExtraData(r)),this.validateFormWithFormData(r)}render(){const{children:e,id:r,idPrefix:n,idSeparator:s,className:a="",tagName:o,name:i,method:c,target:u,action:d,autoComplete:f,enctype:l,acceptCharset:h,noHtml5Validate:y=!1,disabled:v,readonly:p,formContext:g,showErrorList:m="top",_internalFormWrapper:_}=this.props,{schema:b,uiSchema:$,formData:S,errorSchema:w,idSchema:T}=this.state,O=this.getRegistry(),{SchemaField:I}=O.fields,{SubmitButton:x}=O.templates.ButtonTemplates,U=_?o:void 0,q=_||o||"form";let{[jr]:L={}}=ee($);v&&(L={...L,props:{...L.props,disabled:!0}});const B={[nt]:{[jr]:L}};return j.jsxs(q,{className:a||"rjsf",id:r,name:i,method:c,target:u,action:d,autoComplete:f,encType:l,acceptCharset:h,noValidate:y,onSubmit:this.onSubmit,as:U,ref:this.formElement,children:[m==="top"&&this.renderErrors(O),j.jsx(I,{name:"",schema:b,uiSchema:$,errorSchema:w,idSchema:T,idPrefix:n,idSeparator:s,formContext:g,formData:S,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:O,disabled:v,readonly:p}),e||j.jsx(x,{uiSchema:B,registry:O}),m==="bottom"&&this.renderErrors(O)]})}}function $d(t){return Y.forwardRef(({fields:e,widgets:r,templates:n,...s},a)=>(e={...t?.fields,...e},r={...t?.widgets,...r},n={...t?.templates,...n,ButtonTemplates:{...t?.templates?.ButtonTemplates,...n?.ButtonTemplates}},j.jsx(bd,{...t,...s,fields:e,widgets:r,templates:n,ref:a})))}function wd({uiSchema:t,registry:e,...r}){const{translateString:n}=e;return j.jsx(Pa,{title:n(oe.AddItemButton),...r,color:"primary",children:j.jsx(oo,{})})}function Ed(t){const{children:e,buttonsProps:r,hasToolbar:n,uiSchema:s,registry:a}=t,o=ee(s),i=Z("ArrayFieldItemButtonsTemplate",a,o),c={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold",minWidth:0};return j.jsxs(je,{container:!0,alignItems:"center",children:[j.jsx(je,{size:"auto",style:{overflow:"auto"},children:j.jsx(st,{mb:2,children:j.jsx(_n,{elevation:2,children:j.jsx(st,{p:2,children:e})})})}),n&&j.jsx(je,{children:j.jsx(i,{...r,style:c})})]})}function jd(t){const{canAdd:e,disabled:r,idSchema:n,uiSchema:s,items:a,onAddClick:o,readonly:i,registry:c,required:u,schema:d,title:f}=t,l=ee(s),h=Z("ArrayFieldDescriptionTemplate",c,l),y=Z("ArrayFieldItemTemplate",c,l),v=Z("ArrayFieldTitleTemplate",c,l),{ButtonTemplates:{AddButton:p}}=c.templates;return j.jsx(_n,{elevation:2,children:j.jsxs(st,{p:2,children:[j.jsx(v,{idSchema:n,title:l.title||f,schema:d,uiSchema:s,required:u,registry:c}),j.jsx(h,{idSchema:n,description:l.description||d.description,schema:d,uiSchema:s,registry:c}),a&&a.map(({key:g,...m})=>j.jsx(y,{...m},g)),e&&j.jsx(je,{container:!0,justifyContent:"flex-end",children:j.jsx(je,{children:j.jsx(st,{mt:2,children:j.jsx(p,{id:Me(n,"add"),className:"rjsf-array-item-add",onClick:o,disabled:r||i,uiSchema:s,registry:c})})})})]})})}const Cd=["date","datetime-local","file","time"];function Od(t){const{id:e,name:r,placeholder:n,required:s,readonly:a,disabled:o,type:i,label:c,hideLabel:u,hideError:d,value:f,onChange:l,onChangeOverride:h,onBlur:y,onFocus:v,autofocus:p,options:g,schema:m,uiSchema:_,rawErrors:b=[],errorSchema:$,formContext:S,registry:w,InputLabelProps:T,...O}=t,I=ei(m,i,g),{step:x,min:U,max:q,accept:L,...B}=I,J={step:x,min:U,max:q,accept:L,...m.examples?{list:jt(e)}:void 0},re=({target:{value:P}})=>l(P===""?g.emptyValue:P),W=({target:P})=>y(e,P&&P.value),X=({target:P})=>v(e,P&&P.value),R=Cd.includes(i)?{...T,shrink:!0}:T;return j.jsxs(j.Fragment,{children:[j.jsx(Sn,{id:e,name:e,placeholder:n,label:it(c||void 0,u,void 0),autoFocus:p,required:s,disabled:o||a,slotProps:{htmlInput:J,inputLabel:R},...B,value:f||f===0?f:"",error:b.length>0,onChange:h||re,onBlur:W,onFocus:X,...O,"aria-describedby":Oe(e,!!m.examples)}),Array.isArray(m.examples)&&j.jsx("datalist",{id:jt(e),children:m.examples.concat(m.default&&!m.examples.includes(m.default)?[m.default]:[]).map(P=>j.jsx("option",{value:P},P))})]})}function Td(t){const{id:e,description:r,registry:n,uiSchema:s}=t;return r?j.jsx(kr,{id:e,variant:"subtitle2",style:{marginTop:"5px"},children:j.jsx(Nn,{description:r,registry:n,uiSchema:s})}):null}function Pd({errors:t,registry:e}){const{translateString:r}=e;return j.jsx(_n,{elevation:2,children:j.jsxs(st,{mb:2,p:2,children:[j.jsx(kr,{variant:"h6",children:r(oe.ErrorsLabel)}),j.jsx(ka,{dense:!0,children:t.map((n,s)=>j.jsxs(Ba,{children:[j.jsx(co,{children:j.jsx(Eo,{color:"error"})}),j.jsx(lo,{primary:n.stack})]},s))})]})})}function Dr(t){const{icon:e,color:r,uiSchema:n,registry:s,...a}=t;return j.jsx(Pa,{...a,size:"small",color:r,children:e})}function kd(t){const{registry:{translateString:e}}=t;return j.jsx(Dr,{title:e(oe.CopyButton),...t,icon:j.jsx(fo,{fontSize:"small"})})}function Nd(t){const{registry:{translateString:e}}=t;return j.jsx(Dr,{title:e(oe.MoveDownButton),...t,icon:j.jsx(wo,{fontSize:"small"})})}function Fd(t){const{registry:{translateString:e}}=t;return j.jsx(Dr,{title:e(oe.MoveUpButton),...t,icon:j.jsx(uo,{fontSize:"small"})})}function Id(t){const{iconType:e,...r}=t,{registry:{translateString:n}}=r;return j.jsx(Dr,{title:n(oe.RemoveButton),...r,color:"error",icon:j.jsx(jo,{fontSize:e==="default"?void 0:"small"})})}function Ad(t){const{errors:e=[],idSchema:r}=t;if(e.length===0)return null;const n=jn(r);return j.jsx(ka,{id:n,dense:!0,disablePadding:!0,children:e.map((s,a)=>j.jsx(Ba,{disableGutters:!0,children:j.jsx(Na,{component:"div",id:`${n}-${a}`,children:s})},a))})}function xd(t){const{idSchema:e,help:r}=t;if(!r)return null;const n=Cn(e);return j.jsx(Na,{component:"div",id:n,children:r})}function Dd(t){const{id:e,children:r,classNames:n,style:s,disabled:a,displayLabel:o,hidden:i,label:c,onDropPropertyClick:u,onKeyChange:d,readonly:f,required:l,rawErrors:h=[],errors:y,help:v,description:p,rawDescription:g,schema:m,uiSchema:_,registry:b}=t,$=ee(_),S=Z("WrapIfAdditionalTemplate",b,$);return i?j.jsx("div",{style:{display:"none"},children:r}):j.jsx(S,{classNames:n,style:s,disabled:a,id:e,label:c,onDropPropertyClick:u,onKeyChange:d,readonly:f,required:l,schema:m,uiSchema:_,registry:b,children:j.jsxs(Gi,{fullWidth:!0,error:!!h.length,required:l,children:[r,o&&g?j.jsx(kr,{variant:"caption",color:"textSecondary",children:p}):null,y,v]})})}function Rd(t){const{children:e,column:r,...n}=t;return j.jsx(je,{container:!r,...n,children:e})}function Md(t){const{description:e,title:r,properties:n,required:s,disabled:a,readonly:o,uiSchema:i,idSchema:c,schema:u,formData:d,onAddClick:f,registry:l}=t,h=ee(i),y=Z("TitleFieldTemplate",l,h),v=Z("DescriptionFieldTemplate",l,h),{ButtonTemplates:{AddButton:p}}=l.templates;return j.jsxs(j.Fragment,{children:[r&&j.jsx(y,{id:Fr(c),title:r,required:s,schema:u,uiSchema:i,registry:l}),e&&j.jsx(v,{id:at(c),description:e,schema:u,uiSchema:i,registry:l}),j.jsxs(je,{container:!0,spacing:2,style:{marginTop:"10px"},children:[n.map((g,m)=>g.hidden?g.content:j.jsx(je,{size:{xs:12},style:{marginBottom:"10px"},children:g.content},m)),Wa(u,i,d)&&j.jsx(je,{container:!0,justifyContent:"flex-end",children:j.jsx(je,{children:j.jsx(p,{id:Me(c,"add"),className:"rjsf-object-property-expand",onClick:f(u),disabled:a||o,uiSchema:i,registry:l})})})]})]})}function qd({uiSchema:t}){const{submitText:e,norender:r,props:n={}}=ti(t);return r?null:j.jsx(st,{marginTop:3,children:j.jsx(Ji,{type:"submit",variant:"contained",color:"primary",...n,children:e})})}function Ud({id:t,title:e}){return j.jsxs(st,{id:t,mb:1,mt:1,children:[j.jsx(kr,{variant:"h5",children:e}),j.jsx(Yi,{})]})}function Vd(t){const{children:e,classNames:r,style:n,disabled:s,id:a,label:o,onDropPropertyClick:i,onKeyChange:c,readonly:u,required:d,schema:f,uiSchema:l,registry:h}=t,{templates:y,translateString:v}=h,{RemoveButton:p}=y.ButtonTemplates,g=v(oe.KeyLabel,[o]),m=Pt in f,_={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};if(!m)return j.jsx("div",{className:r,style:n,children:e});const b=({target:$})=>c($&&$.value);return j.jsxs(je,{container:!0,alignItems:"center",spacing:2,className:r,style:n,children:[j.jsx(je,{size:"auto",children:j.jsx(Sn,{fullWidth:!0,required:d,label:g,defaultValue:o,disabled:s||u,id:`${a}-key`,name:`${a}-key`,onBlur:u?void 0:b,type:"text"})}),j.jsx(je,{size:"auto",children:e}),j.jsx(je,{children:j.jsx(p,{id:Me(a,"remove"),className:"rjsf-object-property-remove",iconType:"default",style:_,disabled:s||u,onClick:i(o),uiSchema:l,registry:h})})]},`${a}-key`)}function Bd(){return{ArrayFieldItemTemplate:Ed,ArrayFieldTemplate:jd,BaseInputTemplate:Od,ButtonTemplates:{AddButton:wd,CopyButton:kd,MoveDownButton:Nd,MoveUpButton:Fd,RemoveButton:Id,SubmitButton:qd},DescriptionFieldTemplate:Td,ErrorListTemplate:Pd,FieldErrorTemplate:Ad,FieldHelpTemplate:xd,FieldTemplate:Dd,GridTemplate:Rd,ObjectFieldTemplate:Md,TitleFieldTemplate:Ud,WrapIfAdditionalTemplate:Vd}}function Ld(t){var e;const{schema:r,id:n,value:s,disabled:a,readonly:o,label:i="",hideLabel:c,autofocus:u,onChange:d,onBlur:f,onFocus:l,registry:h,options:y,uiSchema:v}=t,p=Z("DescriptionFieldTemplate",h,y),g=$t(r),m=(S,w)=>d(w),_=({target:S})=>f(n,S&&S.value),b=({target:S})=>l(n,S&&S.value),$=(e=y.description)!==null&&e!==void 0?e:r.description;return j.jsxs(j.Fragment,{children:[!c&&$&&j.jsx(p,{id:at(n),description:$,schema:r,uiSchema:v,registry:h}),j.jsx(wn,{control:j.jsx(La,{id:n,name:n,checked:typeof s>"u"?!1:!!s,required:g,disabled:a||o,autoFocus:u,onChange:m,onBlur:_,onFocus:b,"aria-describedby":Oe(n)}),label:it(i,c,!1)})]})}function zd({label:t,hideLabel:e,id:r,disabled:n,options:s,value:a,autofocus:o,readonly:i,required:c,onChange:u,onBlur:d,onFocus:f}){const{enumOptions:l,enumDisabled:h,inline:y,emptyValue:v}=s,p=Array.isArray(a)?a:[a],g=b=>({target:{checked:$}})=>{u($?Qa(b,p,l):Xa(b,p,l))},m=({target:b})=>d(r,ve(b&&b.value,l,v)),_=({target:b})=>f(r,ve(b&&b.value,l,v));return j.jsxs(j.Fragment,{children:[it(j.jsx(bn,{required:c,htmlFor:r,children:t||void 0}),e),j.jsx(mo,{id:r,row:!!y,children:Array.isArray(l)&&l.map((b,$)=>{const S=Nr(b.value,p),w=Array.isArray(h)&&h.indexOf(b.value)!==-1,T=j.jsx(La,{id:Ir(r,$),name:r,checked:S,disabled:n||w||i,autoFocus:o&&$===0,onChange:g($),onBlur:m,onFocus:_,"aria-describedby":Oe(r)});return j.jsx(wn,{control:T,label:b.label},$)})})]})}function Kd({id:t,options:e,value:r,required:n,disabled:s,readonly:a,label:o,hideLabel:i,onChange:c,onBlur:u,onFocus:d}){var f;const{enumOptions:l,enumDisabled:h,emptyValue:y}=e,v=(b,$)=>c(ve($,l,y)),p=({target:b})=>u(t,ve(b&&b.value,l,y)),g=({target:b})=>d(t,ve(b&&b.value,l,y)),m=e?e.inline:!1,_=(f=En(r,l))!==null&&f!==void 0?f:null;return j.jsxs(j.Fragment,{children:[it(j.jsx(bn,{required:n,htmlFor:t,children:o||void 0}),i),j.jsx(ho,{id:t,name:t,value:_,row:m,onChange:v,onBlur:p,onFocus:g,"aria-describedby":Oe(t),children:Array.isArray(l)&&l.map((b,$)=>{const S=Array.isArray(h)&&h.indexOf(b.value)!==-1;return j.jsx(wn,{control:j.jsx(po,{name:t,id:Ir(t,$),color:"primary"}),label:b.label,value:String($),disabled:s||S||a},$)})})]})}function Wd(t){const{value:e,readonly:r,disabled:n,onBlur:s,onFocus:a,options:o,schema:i,onChange:c,required:u,label:d,hideLabel:f,id:l}=t,h={value:e,label:d,id:l,name:l,...Za(i)},y=(g,m)=>{c(m??o.emptyValue)},v=({target:g})=>s(l,g&&g.value),p=({target:g})=>a(l,g&&g.value);return j.jsxs(j.Fragment,{children:[it(j.jsx(bn,{required:u,htmlFor:l,children:d||void 0}),f),j.jsx(yo,{disabled:n||r,onChange:y,onBlur:v,onFocus:p,valueLabelDisplay:"auto",...h,"aria-describedby":Oe(l)})]})}function Hd({schema:t,id:e,name:r,options:n,label:s,hideLabel:a,required:o,disabled:i,placeholder:c,readonly:u,value:d,multiple:f,autofocus:l,onChange:h,onBlur:y,onFocus:v,errorSchema:p,rawErrors:g=[],registry:m,uiSchema:_,hideError:b,formContext:$,...S}){const{enumOptions:w,enumDisabled:T,emptyValue:O}=n;f=typeof f>"u"?!1:!!f;const I=f?[]:"",x=typeof d>"u"||f&&d.length<1||!f&&d===I,U=({target:{value:P}})=>h(ve(P,w,O)),q=({target:P})=>y(e,ve(P&&P.value,w,O)),L=({target:P})=>v(e,ve(P&&P.value,w,O)),B=En(d,w,f),{InputLabelProps:J,SelectProps:re,autocomplete:W,...X}=S,R=!f&&t.default===void 0;return j.jsxs(Sn,{id:e,name:e,label:it(s||void 0,a,void 0),value:!x&&typeof B<"u"?B:I,required:o,disabled:i||u,autoFocus:l,autoComplete:W,placeholder:c,error:g.length>0,onChange:U,onBlur:q,onFocus:L,...X,select:!0,InputLabelProps:{...J,shrink:!x},SelectProps:{...re,multiple:f},"aria-describedby":Oe(e),children:[R&&j.jsx(Kn,{value:"",children:c}),Array.isArray(w)&&w.map(({value:P,label:D},N)=>{const E=Array.isArray(T)&&T.indexOf(P)!==-1;return j.jsx(Kn,{value:String(N),disabled:E,children:D},N)})]})}function Gd(t){const{options:e,registry:r}=t,n=Z("BaseInputTemplate",r,e);let s=5;return(typeof e.rows=="string"||typeof e.rows=="number")&&(s=e.rows),j.jsx(n,{...t,multiline:!0,rows:s})}function Ei(){return{CheckboxWidget:Ld,CheckboxesWidget:zd,RadioWidget:Kd,RangeWidget:Wd,SelectWidget:Hd,TextareaWidget:Gd}}const xf=Ei();function Jd(){return{templates:Bd(),widgets:Ei()}}function Yd(){return $d(Jd())}const Df=Yd();var Nt={exports:{}},tn={},Ve={},Je={},rn={},nn={},sn={},ds;function Tr(){return ds||(ds=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(m){if(super(),!t.IDENTIFIER.test(m))throw new Error("CodeGen: name must be a valid identifier");this.str=m}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class n extends e{constructor(m){super(),this._items=typeof m=="string"?[m]:m}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const m=this._items[0];return m===""||m==='""'}get str(){var m;return(m=this._str)!==null&&m!==void 0?m:this._str=this._items.reduce((_,b)=>`${_}${b}`,"")}get names(){var m;return(m=this._names)!==null&&m!==void 0?m:this._names=this._items.reduce((_,b)=>(b instanceof r&&(_[b.str]=(_[b.str]||0)+1),_),{})}}t._Code=n,t.nil=new n("");function s(g,...m){const _=[g[0]];let b=0;for(;b<m.length;)i(_,m[b]),_.push(g[++b]);return new n(_)}t._=s;const a=new n("+");function o(g,...m){const _=[h(g[0])];let b=0;for(;b<m.length;)_.push(a),i(_,m[b]),_.push(a,h(g[++b]));return c(_),new n(_)}t.str=o;function i(g,m){m instanceof n?g.push(...m._items):m instanceof r?g.push(m):g.push(f(m))}t.addCodeArg=i;function c(g){let m=1;for(;m<g.length-1;){if(g[m]===a){const _=u(g[m-1],g[m+1]);if(_!==void 0){g.splice(m-1,3,_);continue}g[m++]="+"}m++}}function u(g,m){if(m==='""')return g;if(g==='""')return m;if(typeof g=="string")return m instanceof r||g[g.length-1]!=='"'?void 0:typeof m!="string"?`${g.slice(0,-1)}${m}"`:m[0]==='"'?g.slice(0,-1)+m.slice(1):void 0;if(typeof m=="string"&&m[0]==='"'&&!(g instanceof r))return`"${g}${m.slice(1)}`}function d(g,m){return m.emptyStr()?g:g.emptyStr()?m:o`${g}${m}`}t.strConcat=d;function f(g){return typeof g=="number"||typeof g=="boolean"||g===null?g:h(Array.isArray(g)?g.join(","):g)}function l(g){return new n(h(g))}t.stringify=l;function h(g){return JSON.stringify(g).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=h;function y(g){return typeof g=="string"&&t.IDENTIFIER.test(g)?new n(`.${g}`):s`[${g}]`}t.getProperty=y;function v(g){if(typeof g=="string"&&t.IDENTIFIER.test(g))return new n(`${g}`);throw new Error(`CodeGen: invalid export name: ${g}, use explicit $id name mapping`)}t.getEsmExportName=v;function p(g){return new n(g.toString())}t.regexpCode=p})(sn)),sn}var an={},us;function fs(){return us||(us=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=Tr();class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(t.UsedValueState=n={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class s{constructor({prefixes:u,parent:d}={}){this._names={},this._prefixes=u,this._parent=d}toName(u){return u instanceof e.Name?u:this.name(u)}name(u){return new e.Name(this._newName(u))}_newName(u){const d=this._names[u]||this._nameGroup(u);return`${u}${d.index++}`}_nameGroup(u){var d,f;if(!((f=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||f===void 0)&&f.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}t.Scope=s;class a extends e.Name{constructor(u,d){super(d),this.prefix=u}setValue(u,{property:d,itemIndex:f}){this.value=u,this.scopePath=(0,e._)`.${new e.Name(d)}[${f}]`}}t.ValueScopeName=a;const o=(0,e._)`\n`;class i extends s{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?o:e.nil}}get(){return this._scope}name(u){return new a(u,this._newName(u))}value(u,d){var f;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const l=this.toName(u),{prefix:h}=l,y=(f=d.key)!==null&&f!==void 0?f:d.ref;let v=this._values[h];if(v){const m=v.get(y);if(m)return m}else v=this._values[h]=new Map;v.set(y,l);const p=this._scope[h]||(this._scope[h]=[]),g=p.length;return p[g]=d.ref,l.setValue(d,{property:h,itemIndex:g}),l}getValue(u,d){const f=this._values[u];if(f)return f.get(d)}scopeRefs(u,d=this._values){return this._reduceValues(d,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,e._)`${u}${f.scopePath}`})}scopeCode(u=this._values,d,f){return this._reduceValues(u,l=>{if(l.value===void 0)throw new Error(`CodeGen: name "${l}" has no value`);return l.value.code},d,f)}_reduceValues(u,d,f={},l){let h=e.nil;for(const y in u){const v=u[y];if(!v)continue;const p=f[y]=f[y]||new Map;v.forEach(g=>{if(p.has(g))return;p.set(g,n.Started);let m=d(g);if(m){const _=this.opts.es5?t.varKinds.var:t.varKinds.const;h=(0,e._)`${h}${_} ${g} = ${m};${this.opts._n}`}else if(m=l?.(g))h=(0,e._)`${h}${m}${this.opts._n}`;else throw new r(g);p.set(g,n.Completed)})}return h}}t.ValueScope=i})(an)),an}var ms;function se(){return ms||(ms=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=Tr(),r=fs();var n=Tr();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}});var s=fs();Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class a{optimizeNodes(){return this}optimizeNames(E,C){return this}}class o extends a{constructor(E,C,A){super(),this.varKind=E,this.name=C,this.rhs=A}render({es5:E,_n:C}){const A=E?r.varKinds.var:this.varKind,K=this.rhs===void 0?"":` = ${this.rhs}`;return`${A} ${this.name}${K};`+C}optimizeNames(E,C){if(E[this.name.str])return this.rhs&&(this.rhs=L(this.rhs,E,C)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class i extends a{constructor(E,C,A){super(),this.lhs=E,this.rhs=C,this.sideEffects=A}render({_n:E}){return`${this.lhs} = ${this.rhs};`+E}optimizeNames(E,C){if(!(this.lhs instanceof e.Name&&!E[this.lhs.str]&&!this.sideEffects))return this.rhs=L(this.rhs,E,C),this}get names(){const E=this.lhs instanceof e.Name?{}:{...this.lhs.names};return q(E,this.rhs)}}class c extends i{constructor(E,C,A,K){super(E,A,K),this.op=C}render({_n:E}){return`${this.lhs} ${this.op}= ${this.rhs};`+E}}class u extends a{constructor(E){super(),this.label=E,this.names={}}render({_n:E}){return`${this.label}:`+E}}class d extends a{constructor(E){super(),this.label=E,this.names={}}render({_n:E}){return`break${this.label?` ${this.label}`:""};`+E}}class f extends a{constructor(E){super(),this.error=E}render({_n:E}){return`throw ${this.error};`+E}get names(){return this.error.names}}class l extends a{constructor(E){super(),this.code=E}render({_n:E}){return`${this.code};`+E}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(E,C){return this.code=L(this.code,E,C),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class h extends a{constructor(E=[]){super(),this.nodes=E}render(E){return this.nodes.reduce((C,A)=>C+A.render(E),"")}optimizeNodes(){const{nodes:E}=this;let C=E.length;for(;C--;){const A=E[C].optimizeNodes();Array.isArray(A)?E.splice(C,1,...A):A?E[C]=A:E.splice(C,1)}return E.length>0?this:void 0}optimizeNames(E,C){const{nodes:A}=this;let K=A.length;for(;K--;){const G=A[K];G.optimizeNames(E,C)||(B(E,G.names),A.splice(K,1))}return A.length>0?this:void 0}get names(){return this.nodes.reduce((E,C)=>U(E,C.names),{})}}class y extends h{render(E){return"{"+E._n+super.render(E)+"}"+E._n}}class v extends h{}class p extends y{}p.kind="else";class g extends y{constructor(E,C){super(C),this.condition=E}render(E){let C=`if(${this.condition})`+super.render(E);return this.else&&(C+="else "+this.else.render(E)),C}optimizeNodes(){super.optimizeNodes();const E=this.condition;if(E===!0)return this.nodes;let C=this.else;if(C){const A=C.optimizeNodes();C=this.else=Array.isArray(A)?new p(A):A}if(C)return E===!1?C instanceof g?C:C.nodes:this.nodes.length?this:new g(J(E),C instanceof g?[C]:C.nodes);if(!(E===!1||!this.nodes.length))return this}optimizeNames(E,C){var A;if(this.else=(A=this.else)===null||A===void 0?void 0:A.optimizeNames(E,C),!!(super.optimizeNames(E,C)||this.else))return this.condition=L(this.condition,E,C),this}get names(){const E=super.names;return q(E,this.condition),this.else&&U(E,this.else.names),E}}g.kind="if";class m extends y{}m.kind="for";class _ extends m{constructor(E){super(),this.iteration=E}render(E){return`for(${this.iteration})`+super.render(E)}optimizeNames(E,C){if(super.optimizeNames(E,C))return this.iteration=L(this.iteration,E,C),this}get names(){return U(super.names,this.iteration.names)}}class b extends m{constructor(E,C,A,K){super(),this.varKind=E,this.name=C,this.from=A,this.to=K}render(E){const C=E.es5?r.varKinds.var:this.varKind,{name:A,from:K,to:G}=this;return`for(${C} ${A}=${K}; ${A}<${G}; ${A}++)`+super.render(E)}get names(){const E=q(super.names,this.from);return q(E,this.to)}}class $ extends m{constructor(E,C,A,K){super(),this.loop=E,this.varKind=C,this.name=A,this.iterable=K}render(E){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(E)}optimizeNames(E,C){if(super.optimizeNames(E,C))return this.iterable=L(this.iterable,E,C),this}get names(){return U(super.names,this.iterable.names)}}class S extends y{constructor(E,C,A){super(),this.name=E,this.args=C,this.async=A}render(E){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(E)}}S.kind="func";class w extends h{render(E){return"return "+super.render(E)}}w.kind="return";class T extends y{render(E){let C="try"+super.render(E);return this.catch&&(C+=this.catch.render(E)),this.finally&&(C+=this.finally.render(E)),C}optimizeNodes(){var E,C;return super.optimizeNodes(),(E=this.catch)===null||E===void 0||E.optimizeNodes(),(C=this.finally)===null||C===void 0||C.optimizeNodes(),this}optimizeNames(E,C){var A,K;return super.optimizeNames(E,C),(A=this.catch)===null||A===void 0||A.optimizeNames(E,C),(K=this.finally)===null||K===void 0||K.optimizeNames(E,C),this}get names(){const E=super.names;return this.catch&&U(E,this.catch.names),this.finally&&U(E,this.finally.names),E}}class O extends y{constructor(E){super(),this.error=E}render(E){return`catch(${this.error})`+super.render(E)}}O.kind="catch";class I extends y{render(E){return"finally"+super.render(E)}}I.kind="finally";class x{constructor(E,C={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...C,_n:C.lines?`
`:""},this._extScope=E,this._scope=new r.Scope({parent:E}),this._nodes=[new v]}toString(){return this._root.render(this.opts)}name(E){return this._scope.name(E)}scopeName(E){return this._extScope.name(E)}scopeValue(E,C){const A=this._extScope.value(E,C);return(this._values[A.prefix]||(this._values[A.prefix]=new Set)).add(A),A}getScopeValue(E,C){return this._extScope.getValue(E,C)}scopeRefs(E){return this._extScope.scopeRefs(E,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(E,C,A,K){const G=this._scope.toName(C);return A!==void 0&&K&&(this._constants[G.str]=A),this._leafNode(new o(E,G,A)),G}const(E,C,A){return this._def(r.varKinds.const,E,C,A)}let(E,C,A){return this._def(r.varKinds.let,E,C,A)}var(E,C,A){return this._def(r.varKinds.var,E,C,A)}assign(E,C,A){return this._leafNode(new i(E,C,A))}add(E,C){return this._leafNode(new c(E,t.operators.ADD,C))}code(E){return typeof E=="function"?E():E!==e.nil&&this._leafNode(new l(E)),this}object(...E){const C=["{"];for(const[A,K]of E)C.length>1&&C.push(","),C.push(A),(A!==K||this.opts.es5)&&(C.push(":"),(0,e.addCodeArg)(C,K));return C.push("}"),new e._Code(C)}if(E,C,A){if(this._blockNode(new g(E)),C&&A)this.code(C).else().code(A).endIf();else if(C)this.code(C).endIf();else if(A)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(E){return this._elseNode(new g(E))}else(){return this._elseNode(new p)}endIf(){return this._endBlockNode(g,p)}_for(E,C){return this._blockNode(E),C&&this.code(C).endFor(),this}for(E,C){return this._for(new _(E),C)}forRange(E,C,A,K,G=this.opts.es5?r.varKinds.var:r.varKinds.let){const ie=this._scope.toName(E);return this._for(new b(G,ie,C,A),()=>K(ie))}forOf(E,C,A,K=r.varKinds.const){const G=this._scope.toName(E);if(this.opts.es5){const ie=C instanceof e.Name?C:this.var("_arr",C);return this.forRange("_i",0,(0,e._)`${ie}.length`,ae=>{this.var(G,(0,e._)`${ie}[${ae}]`),A(G)})}return this._for(new $("of",K,G,C),()=>A(G))}forIn(E,C,A,K=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(E,(0,e._)`Object.keys(${C})`,A);const G=this._scope.toName(E);return this._for(new $("in",K,G,C),()=>A(G))}endFor(){return this._endBlockNode(m)}label(E){return this._leafNode(new u(E))}break(E){return this._leafNode(new d(E))}return(E){const C=new w;if(this._blockNode(C),this.code(E),C.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(w)}try(E,C,A){if(!C&&!A)throw new Error('CodeGen: "try" without "catch" and "finally"');const K=new T;if(this._blockNode(K),this.code(E),C){const G=this.name("e");this._currNode=K.catch=new O(G),C(G)}return A&&(this._currNode=K.finally=new I,this.code(A)),this._endBlockNode(O,I)}throw(E){return this._leafNode(new f(E))}block(E,C){return this._blockStarts.push(this._nodes.length),E&&this.code(E).endBlock(C),this}endBlock(E){const C=this._blockStarts.pop();if(C===void 0)throw new Error("CodeGen: not in self-balancing block");const A=this._nodes.length-C;if(A<0||E!==void 0&&A!==E)throw new Error(`CodeGen: wrong number of nodes: ${A} vs ${E} expected`);return this._nodes.length=C,this}func(E,C=e.nil,A,K){return this._blockNode(new S(E,C,A)),K&&this.code(K).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize(E=1){for(;E-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(E){return this._currNode.nodes.push(E),this}_blockNode(E){this._currNode.nodes.push(E),this._nodes.push(E)}_endBlockNode(E,C){const A=this._currNode;if(A instanceof E||C&&A instanceof C)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${C?`${E.kind}/${C.kind}`:E.kind}"`)}_elseNode(E){const C=this._currNode;if(!(C instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=C.else=E,this}get _root(){return this._nodes[0]}get _currNode(){const E=this._nodes;return E[E.length-1]}set _currNode(E){const C=this._nodes;C[C.length-1]=E}}t.CodeGen=x;function U(N,E){for(const C in E)N[C]=(N[C]||0)+(E[C]||0);return N}function q(N,E){return E instanceof e._CodeOrName?U(N,E.names):N}function L(N,E,C){if(N instanceof e.Name)return A(N);if(!K(N))return N;return new e._Code(N._items.reduce((G,ie)=>(ie instanceof e.Name&&(ie=A(ie)),ie instanceof e._Code?G.push(...ie._items):G.push(ie),G),[]));function A(G){const ie=C[G.str];return ie===void 0||E[G.str]!==1?G:(delete E[G.str],ie)}function K(G){return G instanceof e._Code&&G._items.some(ie=>ie instanceof e.Name&&E[ie.str]===1&&C[ie.str]!==void 0)}}function B(N,E){for(const C in E)N[C]=(N[C]||0)-(E[C]||0)}function J(N){return typeof N=="boolean"||typeof N=="number"||N===null?!N:(0,e._)`!${D(N)}`}t.not=J;const re=P(t.operators.AND);function W(...N){return N.reduce(re)}t.and=W;const X=P(t.operators.OR);function R(...N){return N.reduce(X)}t.or=R;function P(N){return(E,C)=>E===e.nil?C:C===e.nil?E:(0,e._)`${D(E)} ${N} ${D(C)}`}function D(N){return N instanceof e.Name?N:(0,e._)`(${N})`}})(nn)),nn}var ne={},hs;function ce(){if(hs)return ne;hs=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.checkStrictMode=ne.getErrorPath=ne.Type=ne.useFunc=ne.setEvaluated=ne.evaluatedPropsToName=ne.mergeEvaluated=ne.eachItem=ne.unescapeJsonPointer=ne.escapeJsonPointer=ne.escapeFragment=ne.unescapeFragment=ne.schemaRefOrVal=ne.schemaHasRulesButRef=ne.schemaHasRules=ne.checkUnknownRules=ne.alwaysValidSchema=ne.toHash=void 0;const t=se(),e=Tr();function r($){const S={};for(const w of $)S[w]=!0;return S}ne.toHash=r;function n($,S){return typeof S=="boolean"?S:Object.keys(S).length===0?!0:(s($,S),!a(S,$.self.RULES.all))}ne.alwaysValidSchema=n;function s($,S=$.schema){const{opts:w,self:T}=$;if(!w.strictSchema||typeof S=="boolean")return;const O=T.RULES.keywords;for(const I in S)O[I]||b($,`unknown keyword: "${I}"`)}ne.checkUnknownRules=s;function a($,S){if(typeof $=="boolean")return!$;for(const w in $)if(S[w])return!0;return!1}ne.schemaHasRules=a;function o($,S){if(typeof $=="boolean")return!$;for(const w in $)if(w!=="$ref"&&S.all[w])return!0;return!1}ne.schemaHasRulesButRef=o;function i({topSchemaRef:$,schemaPath:S},w,T,O){if(!O){if(typeof w=="number"||typeof w=="boolean")return w;if(typeof w=="string")return(0,t._)`${w}`}return(0,t._)`${$}${S}${(0,t.getProperty)(T)}`}ne.schemaRefOrVal=i;function c($){return f(decodeURIComponent($))}ne.unescapeFragment=c;function u($){return encodeURIComponent(d($))}ne.escapeFragment=u;function d($){return typeof $=="number"?`${$}`:$.replace(/~/g,"~0").replace(/\//g,"~1")}ne.escapeJsonPointer=d;function f($){return $.replace(/~1/g,"/").replace(/~0/g,"~")}ne.unescapeJsonPointer=f;function l($,S){if(Array.isArray($))for(const w of $)S(w);else S($)}ne.eachItem=l;function h({mergeNames:$,mergeToName:S,mergeValues:w,resultToName:T}){return(O,I,x,U)=>{const q=x===void 0?I:x instanceof t.Name?(I instanceof t.Name?$(O,I,x):S(O,I,x),x):I instanceof t.Name?(S(O,x,I),I):w(I,x);return U===t.Name&&!(q instanceof t.Name)?T(O,q):q}}ne.mergeEvaluated={props:h({mergeNames:($,S,w)=>$.if((0,t._)`${w} !== true && ${S} !== undefined`,()=>{$.if((0,t._)`${S} === true`,()=>$.assign(w,!0),()=>$.assign(w,(0,t._)`${w} || {}`).code((0,t._)`Object.assign(${w}, ${S})`))}),mergeToName:($,S,w)=>$.if((0,t._)`${w} !== true`,()=>{S===!0?$.assign(w,!0):($.assign(w,(0,t._)`${w} || {}`),v($,w,S))}),mergeValues:($,S)=>$===!0?!0:{...$,...S},resultToName:y}),items:h({mergeNames:($,S,w)=>$.if((0,t._)`${w} !== true && ${S} !== undefined`,()=>$.assign(w,(0,t._)`${S} === true ? true : ${w} > ${S} ? ${w} : ${S}`)),mergeToName:($,S,w)=>$.if((0,t._)`${w} !== true`,()=>$.assign(w,S===!0?!0:(0,t._)`${w} > ${S} ? ${w} : ${S}`)),mergeValues:($,S)=>$===!0?!0:Math.max($,S),resultToName:($,S)=>$.var("items",S)})};function y($,S){if(S===!0)return $.var("props",!0);const w=$.var("props",(0,t._)`{}`);return S!==void 0&&v($,w,S),w}ne.evaluatedPropsToName=y;function v($,S,w){Object.keys(w).forEach(T=>$.assign((0,t._)`${S}${(0,t.getProperty)(T)}`,!0))}ne.setEvaluated=v;const p={};function g($,S){return $.scopeValue("func",{ref:S,code:p[S.code]||(p[S.code]=new e._Code(S.code))})}ne.useFunc=g;var m;(function($){$[$.Num=0]="Num",$[$.Str=1]="Str"})(m||(ne.Type=m={}));function _($,S,w){if($ instanceof t.Name){const T=S===m.Num;return w?T?(0,t._)`"[" + ${$} + "]"`:(0,t._)`"['" + ${$} + "']"`:T?(0,t._)`"/" + ${$}`:(0,t._)`"/" + ${$}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return w?(0,t.getProperty)($).toString():"/"+d($)}ne.getErrorPath=_;function b($,S,w=$.opts.strictSchema){if(w){if(S=`strict mode: ${S}`,w===!0)throw new Error(S);$.self.logger.warn(S)}}return ne.checkStrictMode=b,ne}var Ft={},ps;function Ge(){if(ps)return Ft;ps=1,Object.defineProperty(Ft,"__esModule",{value:!0});const t=se(),e={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};return Ft.default=e,Ft}var ys;function Rr(){return ys||(ys=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=se(),r=ce(),n=Ge();t.keywordError={message:({keyword:p})=>(0,e.str)`must pass "${p}" keyword validation`},t.keyword$DataError={message:({keyword:p,schemaType:g})=>g?(0,e.str)`"${p}" keyword must be ${g} ($data)`:(0,e.str)`"${p}" keyword is invalid ($data)`};function s(p,g=t.keywordError,m,_){const{it:b}=p,{gen:$,compositeRule:S,allErrors:w}=b,T=f(p,g,m);_??(S||w)?c($,T):u(b,(0,e._)`[${T}]`)}t.reportError=s;function a(p,g=t.keywordError,m){const{it:_}=p,{gen:b,compositeRule:$,allErrors:S}=_,w=f(p,g,m);c(b,w),$||S||u(_,n.default.vErrors)}t.reportExtraError=a;function o(p,g){p.assign(n.default.errors,g),p.if((0,e._)`${n.default.vErrors} !== null`,()=>p.if(g,()=>p.assign((0,e._)`${n.default.vErrors}.length`,g),()=>p.assign(n.default.vErrors,null)))}t.resetErrorsCount=o;function i({gen:p,keyword:g,schemaValue:m,data:_,errsCount:b,it:$}){if(b===void 0)throw new Error("ajv implementation error");const S=p.name("err");p.forRange("i",b,n.default.errors,w=>{p.const(S,(0,e._)`${n.default.vErrors}[${w}]`),p.if((0,e._)`${S}.instancePath === undefined`,()=>p.assign((0,e._)`${S}.instancePath`,(0,e.strConcat)(n.default.instancePath,$.errorPath))),p.assign((0,e._)`${S}.schemaPath`,(0,e.str)`${$.errSchemaPath}/${g}`),$.opts.verbose&&(p.assign((0,e._)`${S}.schema`,m),p.assign((0,e._)`${S}.data`,_))})}t.extendErrors=i;function c(p,g){const m=p.const("err",g);p.if((0,e._)`${n.default.vErrors} === null`,()=>p.assign(n.default.vErrors,(0,e._)`[${m}]`),(0,e._)`${n.default.vErrors}.push(${m})`),p.code((0,e._)`${n.default.errors}++`)}function u(p,g){const{gen:m,validateName:_,schemaEnv:b}=p;b.$async?m.throw((0,e._)`new ${p.ValidationError}(${g})`):(m.assign((0,e._)`${_}.errors`,g),m.return(!1))}const d={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function f(p,g,m){const{createErrors:_}=p.it;return _===!1?(0,e._)`{}`:l(p,g,m)}function l(p,g,m={}){const{gen:_,it:b}=p,$=[h(b,m),y(p,m)];return v(p,g,$),_.object(...$)}function h({errorPath:p},{instancePath:g}){const m=g?(0,e.str)`${p}${(0,r.getErrorPath)(g,r.Type.Str)}`:p;return[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,m)]}function y({keyword:p,it:{errSchemaPath:g}},{schemaPath:m,parentSchema:_}){let b=_?g:(0,e.str)`${g}/${p}`;return m&&(b=(0,e.str)`${b}${(0,r.getErrorPath)(m,r.Type.Str)}`),[d.schemaPath,b]}function v(p,{params:g,message:m},_){const{keyword:b,data:$,schemaValue:S,it:w}=p,{opts:T,propertyName:O,topSchemaRef:I,schemaPath:x}=w;_.push([d.keyword,b],[d.params,typeof g=="function"?g(p):g||(0,e._)`{}`]),T.messages&&_.push([d.message,typeof m=="function"?m(p):m]),T.verbose&&_.push([d.schema,S],[d.parentSchema,(0,e._)`${I}${x}`],[n.default.data,$]),O&&_.push([d.propertyName,O])}})(rn)),rn}var gs;function Xd(){if(gs)return Je;gs=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.boolOrEmptySchema=Je.topBoolOrEmptySchema=void 0;const t=Rr(),e=se(),r=Ge(),n={message:"boolean schema is false"};function s(i){const{gen:c,schema:u,validateName:d}=i;u===!1?o(i,!1):typeof u=="object"&&u.$async===!0?c.return(r.default.data):(c.assign((0,e._)`${d}.errors`,null),c.return(!0))}Je.topBoolOrEmptySchema=s;function a(i,c){const{gen:u,schema:d}=i;d===!1?(u.var(c,!1),o(i)):u.var(c,!0)}Je.boolOrEmptySchema=a;function o(i,c){const{gen:u,data:d}=i,f={gen:u,keyword:"false schema",data:d,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:i};(0,t.reportError)(f,n,void 0,c)}return Je}var Se={},Ye={},vs;function ji(){if(vs)return Ye;vs=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.getRules=Ye.isJSONType=void 0;const t=["string","number","integer","boolean","null","object","array"],e=new Set(t);function r(s){return typeof s=="string"&&e.has(s)}Ye.isJSONType=r;function n(){const s={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...s,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},s.number,s.string,s.array,s.object],post:{rules:[]},all:{},keywords:{}}}return Ye.getRules=n,Ye}var Be={},_s;function Ci(){if(_s)return Be;_s=1,Object.defineProperty(Be,"__esModule",{value:!0}),Be.shouldUseRule=Be.shouldUseGroup=Be.schemaHasRulesForType=void 0;function t({schema:n,self:s},a){const o=s.RULES.types[a];return o&&o!==!0&&e(n,o)}Be.schemaHasRulesForType=t;function e(n,s){return s.rules.some(a=>r(n,a))}Be.shouldUseGroup=e;function r(n,s){var a;return n[s.keyword]!==void 0||((a=s.definition.implements)===null||a===void 0?void 0:a.some(o=>n[o]!==void 0))}return Be.shouldUseRule=r,Be}var Ss;function Pr(){if(Ss)return Se;Ss=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.reportTypeError=Se.checkDataTypes=Se.checkDataType=Se.coerceAndCheckDataType=Se.getJSONTypes=Se.getSchemaTypes=Se.DataType=void 0;const t=ji(),e=Ci(),r=Rr(),n=se(),s=ce();var a;(function(m){m[m.Correct=0]="Correct",m[m.Wrong=1]="Wrong"})(a||(Se.DataType=a={}));function o(m){const _=i(m.type);if(_.includes("null")){if(m.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!_.length&&m.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');m.nullable===!0&&_.push("null")}return _}Se.getSchemaTypes=o;function i(m){const _=Array.isArray(m)?m:m?[m]:[];if(_.every(t.isJSONType))return _;throw new Error("type must be JSONType or JSONType[]: "+_.join(","))}Se.getJSONTypes=i;function c(m,_){const{gen:b,data:$,opts:S}=m,w=d(_,S.coerceTypes),T=_.length>0&&!(w.length===0&&_.length===1&&(0,e.schemaHasRulesForType)(m,_[0]));if(T){const O=y(_,$,S.strictNumbers,a.Wrong);b.if(O,()=>{w.length?f(m,_,w):p(m)})}return T}Se.coerceAndCheckDataType=c;const u=new Set(["string","number","integer","boolean","null"]);function d(m,_){return _?m.filter(b=>u.has(b)||_==="array"&&b==="array"):[]}function f(m,_,b){const{gen:$,data:S,opts:w}=m,T=$.let("dataType",(0,n._)`typeof ${S}`),O=$.let("coerced",(0,n._)`undefined`);w.coerceTypes==="array"&&$.if((0,n._)`${T} == 'object' && Array.isArray(${S}) && ${S}.length == 1`,()=>$.assign(S,(0,n._)`${S}[0]`).assign(T,(0,n._)`typeof ${S}`).if(y(_,S,w.strictNumbers),()=>$.assign(O,S))),$.if((0,n._)`${O} !== undefined`);for(const x of b)(u.has(x)||x==="array"&&w.coerceTypes==="array")&&I(x);$.else(),p(m),$.endIf(),$.if((0,n._)`${O} !== undefined`,()=>{$.assign(S,O),l(m,O)});function I(x){switch(x){case"string":$.elseIf((0,n._)`${T} == "number" || ${T} == "boolean"`).assign(O,(0,n._)`"" + ${S}`).elseIf((0,n._)`${S} === null`).assign(O,(0,n._)`""`);return;case"number":$.elseIf((0,n._)`${T} == "boolean" || ${S} === null
              || (${T} == "string" && ${S} && ${S} == +${S})`).assign(O,(0,n._)`+${S}`);return;case"integer":$.elseIf((0,n._)`${T} === "boolean" || ${S} === null
              || (${T} === "string" && ${S} && ${S} == +${S} && !(${S} % 1))`).assign(O,(0,n._)`+${S}`);return;case"boolean":$.elseIf((0,n._)`${S} === "false" || ${S} === 0 || ${S} === null`).assign(O,!1).elseIf((0,n._)`${S} === "true" || ${S} === 1`).assign(O,!0);return;case"null":$.elseIf((0,n._)`${S} === "" || ${S} === 0 || ${S} === false`),$.assign(O,null);return;case"array":$.elseIf((0,n._)`${T} === "string" || ${T} === "number"
              || ${T} === "boolean" || ${S} === null`).assign(O,(0,n._)`[${S}]`)}}}function l({gen:m,parentData:_,parentDataProperty:b},$){m.if((0,n._)`${_} !== undefined`,()=>m.assign((0,n._)`${_}[${b}]`,$))}function h(m,_,b,$=a.Correct){const S=$===a.Correct?n.operators.EQ:n.operators.NEQ;let w;switch(m){case"null":return(0,n._)`${_} ${S} null`;case"array":w=(0,n._)`Array.isArray(${_})`;break;case"object":w=(0,n._)`${_} && typeof ${_} == "object" && !Array.isArray(${_})`;break;case"integer":w=T((0,n._)`!(${_} % 1) && !isNaN(${_})`);break;case"number":w=T();break;default:return(0,n._)`typeof ${_} ${S} ${m}`}return $===a.Correct?w:(0,n.not)(w);function T(O=n.nil){return(0,n.and)((0,n._)`typeof ${_} == "number"`,O,b?(0,n._)`isFinite(${_})`:n.nil)}}Se.checkDataType=h;function y(m,_,b,$){if(m.length===1)return h(m[0],_,b,$);let S;const w=(0,s.toHash)(m);if(w.array&&w.object){const T=(0,n._)`typeof ${_} != "object"`;S=w.null?T:(0,n._)`!${_} || ${T}`,delete w.null,delete w.array,delete w.object}else S=n.nil;w.number&&delete w.integer;for(const T in w)S=(0,n.and)(S,h(T,_,b,$));return S}Se.checkDataTypes=y;const v={message:({schema:m})=>`must be ${m}`,params:({schema:m,schemaValue:_})=>typeof m=="string"?(0,n._)`{type: ${m}}`:(0,n._)`{type: ${_}}`};function p(m){const _=g(m);(0,r.reportError)(_,v)}Se.reportTypeError=p;function g(m){const{gen:_,data:b,schema:$}=m,S=(0,s.schemaRefOrVal)(m,$,"type");return{gen:_,keyword:"type",data:b,schema:$.type,schemaCode:S,schemaValue:S,parentSchema:$,params:{},it:m}}return Se}var _t={},bs;function Qd(){if(bs)return _t;bs=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.assignDefaults=void 0;const t=se(),e=ce();function r(s,a){const{properties:o,items:i}=s.schema;if(a==="object"&&o)for(const c in o)n(s,c,o[c].default);else a==="array"&&Array.isArray(i)&&i.forEach((c,u)=>n(s,u,c.default))}_t.assignDefaults=r;function n(s,a,o){const{gen:i,compositeRule:c,data:u,opts:d}=s;if(o===void 0)return;const f=(0,t._)`${u}${(0,t.getProperty)(a)}`;if(c){(0,e.checkStrictMode)(s,`default is ignored for: ${f}`);return}let l=(0,t._)`${f} === undefined`;d.useDefaults==="empty"&&(l=(0,t._)`${l} || ${f} === null || ${f} === ""`),i.if(l,(0,t._)`${f} = ${(0,t.stringify)(o)}`)}return _t}var Ne={},de={},$s;function Ie(){if($s)return de;$s=1,Object.defineProperty(de,"__esModule",{value:!0}),de.validateUnion=de.validateArray=de.usePattern=de.callValidateCode=de.schemaProperties=de.allSchemaProperties=de.noPropertyInData=de.propertyInData=de.isOwnProperty=de.hasPropFunc=de.reportMissingProp=de.checkMissingProp=de.checkReportMissingProp=void 0;const t=se(),e=ce(),r=Ge(),n=ce();function s(m,_){const{gen:b,data:$,it:S}=m;b.if(d(b,$,_,S.opts.ownProperties),()=>{m.setParams({missingProperty:(0,t._)`${_}`},!0),m.error()})}de.checkReportMissingProp=s;function a({gen:m,data:_,it:{opts:b}},$,S){return(0,t.or)(...$.map(w=>(0,t.and)(d(m,_,w,b.ownProperties),(0,t._)`${S} = ${w}`)))}de.checkMissingProp=a;function o(m,_){m.setParams({missingProperty:_},!0),m.error()}de.reportMissingProp=o;function i(m){return m.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}de.hasPropFunc=i;function c(m,_,b){return(0,t._)`${i(m)}.call(${_}, ${b})`}de.isOwnProperty=c;function u(m,_,b,$){const S=(0,t._)`${_}${(0,t.getProperty)(b)} !== undefined`;return $?(0,t._)`${S} && ${c(m,_,b)}`:S}de.propertyInData=u;function d(m,_,b,$){const S=(0,t._)`${_}${(0,t.getProperty)(b)} === undefined`;return $?(0,t.or)(S,(0,t.not)(c(m,_,b))):S}de.noPropertyInData=d;function f(m){return m?Object.keys(m).filter(_=>_!=="__proto__"):[]}de.allSchemaProperties=f;function l(m,_){return f(_).filter(b=>!(0,e.alwaysValidSchema)(m,_[b]))}de.schemaProperties=l;function h({schemaCode:m,data:_,it:{gen:b,topSchemaRef:$,schemaPath:S,errorPath:w},it:T},O,I,x){const U=x?(0,t._)`${m}, ${_}, ${$}${S}`:_,q=[[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,w)],[r.default.parentData,T.parentData],[r.default.parentDataProperty,T.parentDataProperty],[r.default.rootData,r.default.rootData]];T.opts.dynamicRef&&q.push([r.default.dynamicAnchors,r.default.dynamicAnchors]);const L=(0,t._)`${U}, ${b.object(...q)}`;return I!==t.nil?(0,t._)`${O}.call(${I}, ${L})`:(0,t._)`${O}(${L})`}de.callValidateCode=h;const y=(0,t._)`new RegExp`;function v({gen:m,it:{opts:_}},b){const $=_.unicodeRegExp?"u":"",{regExp:S}=_.code,w=S(b,$);return m.scopeValue("pattern",{key:w.toString(),ref:w,code:(0,t._)`${S.code==="new RegExp"?y:(0,n.useFunc)(m,S)}(${b}, ${$})`})}de.usePattern=v;function p(m){const{gen:_,data:b,keyword:$,it:S}=m,w=_.name("valid");if(S.allErrors){const O=_.let("valid",!0);return T(()=>_.assign(O,!1)),O}return _.var(w,!0),T(()=>_.break()),w;function T(O){const I=_.const("len",(0,t._)`${b}.length`);_.forRange("i",0,I,x=>{m.subschema({keyword:$,dataProp:x,dataPropType:e.Type.Num},w),_.if((0,t.not)(w),O)})}}de.validateArray=p;function g(m){const{gen:_,schema:b,keyword:$,it:S}=m;if(!Array.isArray(b))throw new Error("ajv implementation error");if(b.some(I=>(0,e.alwaysValidSchema)(S,I))&&!S.opts.unevaluated)return;const T=_.let("valid",!1),O=_.name("_valid");_.block(()=>b.forEach((I,x)=>{const U=m.subschema({keyword:$,schemaProp:x,compositeRule:!0},O);_.assign(T,(0,t._)`${T} || ${O}`),m.mergeValidEvaluated(U,O)||_.if((0,t.not)(T))})),m.result(T,()=>m.reset(),()=>m.error(!0))}return de.validateUnion=g,de}var ws;function Zd(){if(ws)return Ne;ws=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.validateKeywordUsage=Ne.validSchemaType=Ne.funcKeywordCode=Ne.macroKeywordCode=void 0;const t=se(),e=Ge(),r=Ie(),n=Rr();function s(l,h){const{gen:y,keyword:v,schema:p,parentSchema:g,it:m}=l,_=h.macro.call(m.self,p,g,m),b=u(y,v,_);m.opts.validateSchema!==!1&&m.self.validateSchema(_,!0);const $=y.name("valid");l.subschema({schema:_,schemaPath:t.nil,errSchemaPath:`${m.errSchemaPath}/${v}`,topSchemaRef:b,compositeRule:!0},$),l.pass($,()=>l.error(!0))}Ne.macroKeywordCode=s;function a(l,h){var y;const{gen:v,keyword:p,schema:g,parentSchema:m,$data:_,it:b}=l;c(b,h);const $=!_&&h.compile?h.compile.call(b.self,g,m,b):h.validate,S=u(v,p,$),w=v.let("valid");l.block$data(w,T),l.ok((y=h.valid)!==null&&y!==void 0?y:w);function T(){if(h.errors===!1)x(),h.modifying&&o(l),U(()=>l.error());else{const q=h.async?O():I();h.modifying&&o(l),U(()=>i(l,q))}}function O(){const q=v.let("ruleErrs",null);return v.try(()=>x((0,t._)`await `),L=>v.assign(w,!1).if((0,t._)`${L} instanceof ${b.ValidationError}`,()=>v.assign(q,(0,t._)`${L}.errors`),()=>v.throw(L))),q}function I(){const q=(0,t._)`${S}.errors`;return v.assign(q,null),x(t.nil),q}function x(q=h.async?(0,t._)`await `:t.nil){const L=b.opts.passContext?e.default.this:e.default.self,B=!("compile"in h&&!_||h.schema===!1);v.assign(w,(0,t._)`${q}${(0,r.callValidateCode)(l,S,L,B)}`,h.modifying)}function U(q){var L;v.if((0,t.not)((L=h.valid)!==null&&L!==void 0?L:w),q)}}Ne.funcKeywordCode=a;function o(l){const{gen:h,data:y,it:v}=l;h.if(v.parentData,()=>h.assign(y,(0,t._)`${v.parentData}[${v.parentDataProperty}]`))}function i(l,h){const{gen:y}=l;y.if((0,t._)`Array.isArray(${h})`,()=>{y.assign(e.default.vErrors,(0,t._)`${e.default.vErrors} === null ? ${h} : ${e.default.vErrors}.concat(${h})`).assign(e.default.errors,(0,t._)`${e.default.vErrors}.length`),(0,n.extendErrors)(l)},()=>l.error())}function c({schemaEnv:l},h){if(h.async&&!l.$async)throw new Error("async keyword in sync schema")}function u(l,h,y){if(y===void 0)throw new Error(`keyword "${h}" failed to compile`);return l.scopeValue("keyword",typeof y=="function"?{ref:y}:{ref:y,code:(0,t.stringify)(y)})}function d(l,h,y=!1){return!h.length||h.some(v=>v==="array"?Array.isArray(l):v==="object"?l&&typeof l=="object"&&!Array.isArray(l):typeof l==v||y&&typeof l>"u")}Ne.validSchemaType=d;function f({schema:l,opts:h,self:y,errSchemaPath:v},p,g){if(Array.isArray(p.keyword)?!p.keyword.includes(g):p.keyword!==g)throw new Error("ajv implementation error");const m=p.dependencies;if(m?.some(_=>!Object.prototype.hasOwnProperty.call(l,_)))throw new Error(`parent schema must have dependencies of ${g}: ${m.join(",")}`);if(p.validateSchema&&!p.validateSchema(l[g])){const b=`keyword "${g}" value is invalid at path "${v}": `+y.errorsText(p.validateSchema.errors);if(h.validateSchema==="log")y.logger.error(b);else throw new Error(b)}}return Ne.validateKeywordUsage=f,Ne}var Le={},Es;function eu(){if(Es)return Le;Es=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.extendSubschemaMode=Le.extendSubschemaData=Le.getSubschema=void 0;const t=se(),e=ce();function r(a,{keyword:o,schemaProp:i,schema:c,schemaPath:u,errSchemaPath:d,topSchemaRef:f}){if(o!==void 0&&c!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const l=a.schema[o];return i===void 0?{schema:l,schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(o)}`,errSchemaPath:`${a.errSchemaPath}/${o}`}:{schema:l[i],schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(o)}${(0,t.getProperty)(i)}`,errSchemaPath:`${a.errSchemaPath}/${o}/${(0,e.escapeFragment)(i)}`}}if(c!==void 0){if(u===void 0||d===void 0||f===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:c,schemaPath:u,topSchemaRef:f,errSchemaPath:d}}throw new Error('either "keyword" or "schema" must be passed')}Le.getSubschema=r;function n(a,o,{dataProp:i,dataPropType:c,data:u,dataTypes:d,propertyName:f}){if(u!==void 0&&i!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:l}=o;if(i!==void 0){const{errorPath:y,dataPathArr:v,opts:p}=o,g=l.let("data",(0,t._)`${o.data}${(0,t.getProperty)(i)}`,!0);h(g),a.errorPath=(0,t.str)`${y}${(0,e.getErrorPath)(i,c,p.jsPropertySyntax)}`,a.parentDataProperty=(0,t._)`${i}`,a.dataPathArr=[...v,a.parentDataProperty]}if(u!==void 0){const y=u instanceof t.Name?u:l.let("data",u,!0);h(y),f!==void 0&&(a.propertyName=f)}d&&(a.dataTypes=d);function h(y){a.data=y,a.dataLevel=o.dataLevel+1,a.dataTypes=[],o.definedProperties=new Set,a.parentData=o.data,a.dataNames=[...o.dataNames,y]}}Le.extendSubschemaData=n;function s(a,{jtdDiscriminator:o,jtdMetadata:i,compositeRule:c,createErrors:u,allErrors:d}){c!==void 0&&(a.compositeRule=c),u!==void 0&&(a.createErrors=u),d!==void 0&&(a.allErrors=d),a.jtdDiscriminator=o,a.jtdMetadata=i}return Le.extendSubschemaMode=s,Le}var be={},on,js;function Oi(){return js||(js=1,on=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,a;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){var o=a[s];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}),on}var cn={exports:{}},Cs;function tu(){if(Cs)return cn.exports;Cs=1;var t=cn.exports=function(n,s,a){typeof s=="function"&&(a=s,s={}),a=s.cb||a;var o=typeof a=="function"?a:a.pre||function(){},i=a.post||function(){};e(s,o,i,n,"",n)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function e(n,s,a,o,i,c,u,d,f,l){if(o&&typeof o=="object"&&!Array.isArray(o)){s(o,i,c,u,d,f,l);for(var h in o){var y=o[h];if(Array.isArray(y)){if(h in t.arrayKeywords)for(var v=0;v<y.length;v++)e(n,s,a,y[v],i+"/"+h+"/"+v,c,i,h,o,v)}else if(h in t.propsKeywords){if(y&&typeof y=="object")for(var p in y)e(n,s,a,y[p],i+"/"+h+"/"+r(p),c,i,h,o,p)}else(h in t.keywords||n.allKeys&&!(h in t.skipKeywords))&&e(n,s,a,y,i+"/"+h,c,i,h,o)}a(o,i,c,u,d,f,l)}}function r(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}return cn.exports}var Os;function Mr(){if(Os)return be;Os=1,Object.defineProperty(be,"__esModule",{value:!0}),be.getSchemaRefs=be.resolveUrl=be.normalizeId=be._getFullPath=be.getFullPath=be.inlineRef=void 0;const t=ce(),e=Oi(),r=tu(),n=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function s(v,p=!0){return typeof v=="boolean"?!0:p===!0?!o(v):p?i(v)<=p:!1}be.inlineRef=s;const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function o(v){for(const p in v){if(a.has(p))return!0;const g=v[p];if(Array.isArray(g)&&g.some(o)||typeof g=="object"&&o(g))return!0}return!1}function i(v){let p=0;for(const g in v){if(g==="$ref")return 1/0;if(p++,!n.has(g)&&(typeof v[g]=="object"&&(0,t.eachItem)(v[g],m=>p+=i(m)),p===1/0))return 1/0}return p}function c(v,p="",g){g!==!1&&(p=f(p));const m=v.parse(p);return u(v,m)}be.getFullPath=c;function u(v,p){return v.serialize(p).split("#")[0]+"#"}be._getFullPath=u;const d=/#\/?$/;function f(v){return v?v.replace(d,""):""}be.normalizeId=f;function l(v,p,g){return g=f(g),v.resolve(p,g)}be.resolveUrl=l;const h=/^[a-z_][-a-z0-9._]*$/i;function y(v,p){if(typeof v=="boolean")return{};const{schemaId:g,uriResolver:m}=this.opts,_=f(v[g]||p),b={"":_},$=c(m,_,!1),S={},w=new Set;return r(v,{allKeys:!0},(I,x,U,q)=>{if(q===void 0)return;const L=$+x;let B=b[q];typeof I[g]=="string"&&(B=J.call(this,I[g])),re.call(this,I.$anchor),re.call(this,I.$dynamicAnchor),b[x]=B;function J(W){const X=this.opts.uriResolver.resolve;if(W=f(B?X(B,W):W),w.has(W))throw O(W);w.add(W);let R=this.refs[W];return typeof R=="string"&&(R=this.refs[R]),typeof R=="object"?T(I,R.schema,W):W!==f(L)&&(W[0]==="#"?(T(I,S[W],W),S[W]=I):this.refs[W]=L),W}function re(W){if(typeof W=="string"){if(!h.test(W))throw new Error(`invalid anchor "${W}"`);J.call(this,`#${W}`)}}}),S;function T(I,x,U){if(x!==void 0&&!e(I,x))throw O(U)}function O(I){return new Error(`reference "${I}" resolves to more than one schema`)}}return be.getSchemaRefs=y,be}var Ts;function qr(){if(Ts)return Ve;Ts=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.getData=Ve.KeywordCxt=Ve.validateFunctionCode=void 0;const t=Xd(),e=Pr(),r=Ci(),n=Pr(),s=Qd(),a=Zd(),o=eu(),i=se(),c=Ge(),u=Mr(),d=ce(),f=Rr();function l(k){if($(k)&&(w(k),b(k))){p(k);return}h(k,()=>(0,t.topBoolOrEmptySchema)(k))}Ve.validateFunctionCode=l;function h({gen:k,validateName:F,schema:M,schemaEnv:V,opts:H},te){H.code.es5?k.func(F,(0,i._)`${c.default.data}, ${c.default.valCxt}`,V.$async,()=>{k.code((0,i._)`"use strict"; ${m(M,H)}`),v(k,H),k.code(te)}):k.func(F,(0,i._)`${c.default.data}, ${y(H)}`,V.$async,()=>k.code(m(M,H)).code(te))}function y(k){return(0,i._)`{${c.default.instancePath}="", ${c.default.parentData}, ${c.default.parentDataProperty}, ${c.default.rootData}=${c.default.data}${k.dynamicRef?(0,i._)`, ${c.default.dynamicAnchors}={}`:i.nil}}={}`}function v(k,F){k.if(c.default.valCxt,()=>{k.var(c.default.instancePath,(0,i._)`${c.default.valCxt}.${c.default.instancePath}`),k.var(c.default.parentData,(0,i._)`${c.default.valCxt}.${c.default.parentData}`),k.var(c.default.parentDataProperty,(0,i._)`${c.default.valCxt}.${c.default.parentDataProperty}`),k.var(c.default.rootData,(0,i._)`${c.default.valCxt}.${c.default.rootData}`),F.dynamicRef&&k.var(c.default.dynamicAnchors,(0,i._)`${c.default.valCxt}.${c.default.dynamicAnchors}`)},()=>{k.var(c.default.instancePath,(0,i._)`""`),k.var(c.default.parentData,(0,i._)`undefined`),k.var(c.default.parentDataProperty,(0,i._)`undefined`),k.var(c.default.rootData,c.default.data),F.dynamicRef&&k.var(c.default.dynamicAnchors,(0,i._)`{}`)})}function p(k){const{schema:F,opts:M,gen:V}=k;h(k,()=>{M.$comment&&F.$comment&&q(k),I(k),V.let(c.default.vErrors,null),V.let(c.default.errors,0),M.unevaluated&&g(k),T(k),L(k)})}function g(k){const{gen:F,validateName:M}=k;k.evaluated=F.const("evaluated",(0,i._)`${M}.evaluated`),F.if((0,i._)`${k.evaluated}.dynamicProps`,()=>F.assign((0,i._)`${k.evaluated}.props`,(0,i._)`undefined`)),F.if((0,i._)`${k.evaluated}.dynamicItems`,()=>F.assign((0,i._)`${k.evaluated}.items`,(0,i._)`undefined`))}function m(k,F){const M=typeof k=="object"&&k[F.schemaId];return M&&(F.code.source||F.code.process)?(0,i._)`/*# sourceURL=${M} */`:i.nil}function _(k,F){if($(k)&&(w(k),b(k))){S(k,F);return}(0,t.boolOrEmptySchema)(k,F)}function b({schema:k,self:F}){if(typeof k=="boolean")return!k;for(const M in k)if(F.RULES.all[M])return!0;return!1}function $(k){return typeof k.schema!="boolean"}function S(k,F){const{schema:M,gen:V,opts:H}=k;H.$comment&&M.$comment&&q(k),x(k),U(k);const te=V.const("_errs",c.default.errors);T(k,te),V.var(F,(0,i._)`${te} === ${c.default.errors}`)}function w(k){(0,d.checkUnknownRules)(k),O(k)}function T(k,F){if(k.opts.jtd)return J(k,[],!1,F);const M=(0,e.getSchemaTypes)(k.schema),V=(0,e.coerceAndCheckDataType)(k,M);J(k,M,!V,F)}function O(k){const{schema:F,errSchemaPath:M,opts:V,self:H}=k;F.$ref&&V.ignoreKeywordsWithRef&&(0,d.schemaHasRulesButRef)(F,H.RULES)&&H.logger.warn(`$ref: keywords ignored in schema at path "${M}"`)}function I(k){const{schema:F,opts:M}=k;F.default!==void 0&&M.useDefaults&&M.strictSchema&&(0,d.checkStrictMode)(k,"default is ignored in the schema root")}function x(k){const F=k.schema[k.opts.schemaId];F&&(k.baseId=(0,u.resolveUrl)(k.opts.uriResolver,k.baseId,F))}function U(k){if(k.schema.$async&&!k.schemaEnv.$async)throw new Error("async schema in sync schema")}function q({gen:k,schemaEnv:F,schema:M,errSchemaPath:V,opts:H}){const te=M.$comment;if(H.$comment===!0)k.code((0,i._)`${c.default.self}.logger.log(${te})`);else if(typeof H.$comment=="function"){const ue=(0,i.str)`${V}/$comment`,ke=k.scopeValue("root",{ref:F.root});k.code((0,i._)`${c.default.self}.opts.$comment(${te}, ${ue}, ${ke}.schema)`)}}function L(k){const{gen:F,schemaEnv:M,validateName:V,ValidationError:H,opts:te}=k;M.$async?F.if((0,i._)`${c.default.errors} === 0`,()=>F.return(c.default.data),()=>F.throw((0,i._)`new ${H}(${c.default.vErrors})`)):(F.assign((0,i._)`${V}.errors`,c.default.vErrors),te.unevaluated&&B(k),F.return((0,i._)`${c.default.errors} === 0`))}function B({gen:k,evaluated:F,props:M,items:V}){M instanceof i.Name&&k.assign((0,i._)`${F}.props`,M),V instanceof i.Name&&k.assign((0,i._)`${F}.items`,V)}function J(k,F,M,V){const{gen:H,schema:te,data:ue,allErrors:ke,opts:we,self:Ee}=k,{RULES:_e}=Ee;if(te.$ref&&(we.ignoreKeywordsWithRef||!(0,d.schemaHasRulesButRef)(te,_e))){H.block(()=>K(k,"$ref",_e.all.$ref.definition));return}we.jtd||W(k,F),H.block(()=>{for(const Te of _e.rules)ot(Te);ot(_e.post)});function ot(Te){(0,r.shouldUseGroup)(te,Te)&&(Te.type?(H.if((0,n.checkDataType)(Te.type,ue,we.strictNumbers)),re(k,Te),F.length===1&&F[0]===Te.type&&M&&(H.else(),(0,n.reportTypeError)(k)),H.endIf()):re(k,Te),ke||H.if((0,i._)`${c.default.errors} === ${V||0}`))}}function re(k,F){const{gen:M,schema:V,opts:{useDefaults:H}}=k;H&&(0,s.assignDefaults)(k,F.type),M.block(()=>{for(const te of F.rules)(0,r.shouldUseRule)(V,te)&&K(k,te.keyword,te.definition,F.type)})}function W(k,F){k.schemaEnv.meta||!k.opts.strictTypes||(X(k,F),k.opts.allowUnionTypes||R(k,F),P(k,k.dataTypes))}function X(k,F){if(F.length){if(!k.dataTypes.length){k.dataTypes=F;return}F.forEach(M=>{N(k.dataTypes,M)||C(k,`type "${M}" not allowed by context "${k.dataTypes.join(",")}"`)}),E(k,F)}}function R(k,F){F.length>1&&!(F.length===2&&F.includes("null"))&&C(k,"use allowUnionTypes to allow union type keyword")}function P(k,F){const M=k.self.RULES.all;for(const V in M){const H=M[V];if(typeof H=="object"&&(0,r.shouldUseRule)(k.schema,H)){const{type:te}=H.definition;te.length&&!te.some(ue=>D(F,ue))&&C(k,`missing type "${te.join(",")}" for keyword "${V}"`)}}}function D(k,F){return k.includes(F)||F==="number"&&k.includes("integer")}function N(k,F){return k.includes(F)||F==="integer"&&k.includes("number")}function E(k,F){const M=[];for(const V of k.dataTypes)N(F,V)?M.push(V):F.includes("integer")&&V==="number"&&M.push("integer");k.dataTypes=M}function C(k,F){const M=k.schemaEnv.baseId+k.errSchemaPath;F+=` at "${M}" (strictTypes)`,(0,d.checkStrictMode)(k,F,k.opts.strictTypes)}class A{constructor(F,M,V){if((0,a.validateKeywordUsage)(F,M,V),this.gen=F.gen,this.allErrors=F.allErrors,this.keyword=V,this.data=F.data,this.schema=F.schema[V],this.$data=M.$data&&F.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,d.schemaRefOrVal)(F,this.schema,V,this.$data),this.schemaType=M.schemaType,this.parentSchema=F.schema,this.params={},this.it=F,this.def=M,this.$data)this.schemaCode=F.gen.const("vSchema",ae(this.$data,F));else if(this.schemaCode=this.schemaValue,!(0,a.validSchemaType)(this.schema,M.schemaType,M.allowUndefined))throw new Error(`${V} value must be ${JSON.stringify(M.schemaType)}`);("code"in M?M.trackErrors:M.errors!==!1)&&(this.errsCount=F.gen.const("_errs",c.default.errors))}result(F,M,V){this.failResult((0,i.not)(F),M,V)}failResult(F,M,V){this.gen.if(F),V?V():this.error(),M?(this.gen.else(),M(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(F,M){this.failResult((0,i.not)(F),void 0,M)}fail(F){if(F===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(F),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(F){if(!this.$data)return this.fail(F);const{schemaCode:M}=this;this.fail((0,i._)`${M} !== undefined && (${(0,i.or)(this.invalid$data(),F)})`)}error(F,M,V){if(M){this.setParams(M),this._error(F,V),this.setParams({});return}this._error(F,V)}_error(F,M){(F?f.reportExtraError:f.reportError)(this,this.def.error,M)}$dataError(){(0,f.reportError)(this,this.def.$dataError||f.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,f.resetErrorsCount)(this.gen,this.errsCount)}ok(F){this.allErrors||this.gen.if(F)}setParams(F,M){M?Object.assign(this.params,F):this.params=F}block$data(F,M,V=i.nil){this.gen.block(()=>{this.check$data(F,V),M()})}check$data(F=i.nil,M=i.nil){if(!this.$data)return;const{gen:V,schemaCode:H,schemaType:te,def:ue}=this;V.if((0,i.or)((0,i._)`${H} === undefined`,M)),F!==i.nil&&V.assign(F,!0),(te.length||ue.validateSchema)&&(V.elseIf(this.invalid$data()),this.$dataError(),F!==i.nil&&V.assign(F,!1)),V.else()}invalid$data(){const{gen:F,schemaCode:M,schemaType:V,def:H,it:te}=this;return(0,i.or)(ue(),ke());function ue(){if(V.length){if(!(M instanceof i.Name))throw new Error("ajv implementation error");const we=Array.isArray(V)?V:[V];return(0,i._)`${(0,n.checkDataTypes)(we,M,te.opts.strictNumbers,n.DataType.Wrong)}`}return i.nil}function ke(){if(H.validateSchema){const we=F.scopeValue("validate$data",{ref:H.validateSchema});return(0,i._)`!${we}(${M})`}return i.nil}}subschema(F,M){const V=(0,o.getSubschema)(this.it,F);(0,o.extendSubschemaData)(V,this.it,F),(0,o.extendSubschemaMode)(V,F);const H={...this.it,...V,items:void 0,props:void 0};return _(H,M),H}mergeEvaluated(F,M){const{it:V,gen:H}=this;V.opts.unevaluated&&(V.props!==!0&&F.props!==void 0&&(V.props=d.mergeEvaluated.props(H,F.props,V.props,M)),V.items!==!0&&F.items!==void 0&&(V.items=d.mergeEvaluated.items(H,F.items,V.items,M)))}mergeValidEvaluated(F,M){const{it:V,gen:H}=this;if(V.opts.unevaluated&&(V.props!==!0||V.items!==!0))return H.if(M,()=>this.mergeEvaluated(F,i.Name)),!0}}Ve.KeywordCxt=A;function K(k,F,M,V){const H=new A(k,M,F);"code"in M?M.code(H,V):H.$data&&M.validate?(0,a.funcKeywordCode)(H,M):"macro"in M?(0,a.macroKeywordCode)(H,M):(M.compile||M.validate)&&(0,a.funcKeywordCode)(H,M)}const G=/^\/(?:[^~]|~0|~1)*$/,ie=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ae(k,{dataLevel:F,dataNames:M,dataPathArr:V}){let H,te;if(k==="")return c.default.rootData;if(k[0]==="/"){if(!G.test(k))throw new Error(`Invalid JSON-pointer: ${k}`);H=k,te=c.default.rootData}else{const Ee=ie.exec(k);if(!Ee)throw new Error(`Invalid JSON-pointer: ${k}`);const _e=+Ee[1];if(H=Ee[2],H==="#"){if(_e>=F)throw new Error(we("property/index",_e));return V[F-_e]}if(_e>F)throw new Error(we("data",_e));if(te=M[F-_e],!H)return te}let ue=te;const ke=H.split("/");for(const Ee of ke)Ee&&(te=(0,i._)`${te}${(0,i.getProperty)((0,d.unescapeJsonPointer)(Ee))}`,ue=(0,i._)`${ue} && ${te}`);return ue;function we(Ee,_e){return`Cannot access ${Ee} ${_e} levels up, current level is ${F}`}}return Ve.getData=ae,Ve}var It={},Ps;function Fn(){if(Ps)return It;Ps=1,Object.defineProperty(It,"__esModule",{value:!0});class t extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return It.default=t,It}var At={},ks;function Ur(){if(ks)return At;ks=1,Object.defineProperty(At,"__esModule",{value:!0});const t=Mr();class e extends Error{constructor(n,s,a,o){super(o||`can't resolve reference ${a} from id ${s}`),this.missingRef=(0,t.resolveUrl)(n,s,a),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}}return At.default=e,At}var Ce={},Ns;function In(){if(Ns)return Ce;Ns=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.resolveSchema=Ce.getCompilingSchema=Ce.resolveRef=Ce.compileSchema=Ce.SchemaEnv=void 0;const t=se(),e=Fn(),r=Ge(),n=Mr(),s=ce(),a=qr();class o{constructor(g){var m;this.refs={},this.dynamicAnchors={};let _;typeof g.schema=="object"&&(_=g.schema),this.schema=g.schema,this.schemaId=g.schemaId,this.root=g.root||this,this.baseId=(m=g.baseId)!==null&&m!==void 0?m:(0,n.normalizeId)(_?.[g.schemaId||"$id"]),this.schemaPath=g.schemaPath,this.localRefs=g.localRefs,this.meta=g.meta,this.$async=_?.$async,this.refs={}}}Ce.SchemaEnv=o;function i(p){const g=d.call(this,p);if(g)return g;const m=(0,n.getFullPath)(this.opts.uriResolver,p.root.baseId),{es5:_,lines:b}=this.opts.code,{ownProperties:$}=this.opts,S=new t.CodeGen(this.scope,{es5:_,lines:b,ownProperties:$});let w;p.$async&&(w=S.scopeValue("Error",{ref:e.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const T=S.scopeName("validate");p.validateName=T;const O={gen:S,allErrors:this.opts.allErrors,data:r.default.data,parentData:r.default.parentData,parentDataProperty:r.default.parentDataProperty,dataNames:[r.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:S.scopeValue("schema",this.opts.code.source===!0?{ref:p.schema,code:(0,t.stringify)(p.schema)}:{ref:p.schema}),validateName:T,ValidationError:w,schema:p.schema,schemaEnv:p,rootId:m,baseId:p.baseId||m,schemaPath:t.nil,errSchemaPath:p.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let I;try{this._compilations.add(p),(0,a.validateFunctionCode)(O),S.optimize(this.opts.code.optimize);const x=S.toString();I=`${S.scopeRefs(r.default.scope)}return ${x}`,this.opts.code.process&&(I=this.opts.code.process(I,p));const q=new Function(`${r.default.self}`,`${r.default.scope}`,I)(this,this.scope.get());if(this.scope.value(T,{ref:q}),q.errors=null,q.schema=p.schema,q.schemaEnv=p,p.$async&&(q.$async=!0),this.opts.code.source===!0&&(q.source={validateName:T,validateCode:x,scopeValues:S._values}),this.opts.unevaluated){const{props:L,items:B}=O;q.evaluated={props:L instanceof t.Name?void 0:L,items:B instanceof t.Name?void 0:B,dynamicProps:L instanceof t.Name,dynamicItems:B instanceof t.Name},q.source&&(q.source.evaluated=(0,t.stringify)(q.evaluated))}return p.validate=q,p}catch(x){throw delete p.validate,delete p.validateName,I&&this.logger.error("Error compiling schema, function code:",I),x}finally{this._compilations.delete(p)}}Ce.compileSchema=i;function c(p,g,m){var _;m=(0,n.resolveUrl)(this.opts.uriResolver,g,m);const b=p.refs[m];if(b)return b;let $=l.call(this,p,m);if($===void 0){const S=(_=p.localRefs)===null||_===void 0?void 0:_[m],{schemaId:w}=this.opts;S&&($=new o({schema:S,schemaId:w,root:p,baseId:g}))}if($!==void 0)return p.refs[m]=u.call(this,$)}Ce.resolveRef=c;function u(p){return(0,n.inlineRef)(p.schema,this.opts.inlineRefs)?p.schema:p.validate?p:i.call(this,p)}function d(p){for(const g of this._compilations)if(f(g,p))return g}Ce.getCompilingSchema=d;function f(p,g){return p.schema===g.schema&&p.root===g.root&&p.baseId===g.baseId}function l(p,g){let m;for(;typeof(m=this.refs[g])=="string";)g=m;return m||this.schemas[g]||h.call(this,p,g)}function h(p,g){const m=this.opts.uriResolver.parse(g),_=(0,n._getFullPath)(this.opts.uriResolver,m);let b=(0,n.getFullPath)(this.opts.uriResolver,p.baseId,void 0);if(Object.keys(p.schema).length>0&&_===b)return v.call(this,m,p);const $=(0,n.normalizeId)(_),S=this.refs[$]||this.schemas[$];if(typeof S=="string"){const w=h.call(this,p,S);return typeof w?.schema!="object"?void 0:v.call(this,m,w)}if(typeof S?.schema=="object"){if(S.validate||i.call(this,S),$===(0,n.normalizeId)(g)){const{schema:w}=S,{schemaId:T}=this.opts,O=w[T];return O&&(b=(0,n.resolveUrl)(this.opts.uriResolver,b,O)),new o({schema:w,schemaId:T,root:p,baseId:b})}return v.call(this,m,S)}}Ce.resolveSchema=h;const y=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(p,{baseId:g,schema:m,root:_}){var b;if(((b=p.fragment)===null||b===void 0?void 0:b[0])!=="/")return;for(const w of p.fragment.slice(1).split("/")){if(typeof m=="boolean")return;const T=m[(0,s.unescapeFragment)(w)];if(T===void 0)return;m=T;const O=typeof m=="object"&&m[this.opts.schemaId];!y.has(w)&&O&&(g=(0,n.resolveUrl)(this.opts.uriResolver,g,O))}let $;if(typeof m!="boolean"&&m.$ref&&!(0,s.schemaHasRulesButRef)(m,this.RULES)){const w=(0,n.resolveUrl)(this.opts.uriResolver,g,m.$ref);$=h.call(this,_,w)}const{schemaId:S}=this.opts;if($=$||new o({schema:m,schemaId:S,root:_,baseId:g}),$.schema!==$.root.schema)return $}return Ce}const ru="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",nu="Meta-schema for $data reference (JSON AnySchema extension proposal)",su="object",au=["$data"],iu={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},ou=!1,cu={$id:ru,description:nu,type:su,required:au,properties:iu,additionalProperties:ou};var xt={},Fs;function lu(){if(Fs)return xt;Fs=1,Object.defineProperty(xt,"__esModule",{value:!0});const t=no();return t.code='require("ajv/dist/runtime/uri").default',xt.default=t,xt}var Is;function du(){return Is||(Is=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=qr();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=se();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Fn(),s=Ur(),a=ji(),o=In(),i=se(),c=Mr(),u=Pr(),d=ce(),f=cu,l=lu(),h=(R,P)=>new RegExp(R,P);h.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],v=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),p={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},m=200;function _(R){var P,D,N,E,C,A,K,G,ie,ae,k,F,M,V,H,te,ue,ke,we,Ee,_e,ot,Te,Vr,Br;const ht=R.strict,Lr=(P=R.code)===null||P===void 0?void 0:P.optimize,xn=Lr===!0||Lr===void 0?1:Lr||0,Dn=(N=(D=R.code)===null||D===void 0?void 0:D.regExp)!==null&&N!==void 0?N:h,Fi=(E=R.uriResolver)!==null&&E!==void 0?E:l.default;return{strictSchema:(A=(C=R.strictSchema)!==null&&C!==void 0?C:ht)!==null&&A!==void 0?A:!0,strictNumbers:(G=(K=R.strictNumbers)!==null&&K!==void 0?K:ht)!==null&&G!==void 0?G:!0,strictTypes:(ae=(ie=R.strictTypes)!==null&&ie!==void 0?ie:ht)!==null&&ae!==void 0?ae:"log",strictTuples:(F=(k=R.strictTuples)!==null&&k!==void 0?k:ht)!==null&&F!==void 0?F:"log",strictRequired:(V=(M=R.strictRequired)!==null&&M!==void 0?M:ht)!==null&&V!==void 0?V:!1,code:R.code?{...R.code,optimize:xn,regExp:Dn}:{optimize:xn,regExp:Dn},loopRequired:(H=R.loopRequired)!==null&&H!==void 0?H:m,loopEnum:(te=R.loopEnum)!==null&&te!==void 0?te:m,meta:(ue=R.meta)!==null&&ue!==void 0?ue:!0,messages:(ke=R.messages)!==null&&ke!==void 0?ke:!0,inlineRefs:(we=R.inlineRefs)!==null&&we!==void 0?we:!0,schemaId:(Ee=R.schemaId)!==null&&Ee!==void 0?Ee:"$id",addUsedSchema:(_e=R.addUsedSchema)!==null&&_e!==void 0?_e:!0,validateSchema:(ot=R.validateSchema)!==null&&ot!==void 0?ot:!0,validateFormats:(Te=R.validateFormats)!==null&&Te!==void 0?Te:!0,unicodeRegExp:(Vr=R.unicodeRegExp)!==null&&Vr!==void 0?Vr:!0,int32range:(Br=R.int32range)!==null&&Br!==void 0?Br:!0,uriResolver:Fi}}class b{constructor(P={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,P=this.opts={...P,..._(P)};const{es5:D,lines:N}=this.opts.code;this.scope=new i.ValueScope({scope:{},prefixes:v,es5:D,lines:N}),this.logger=U(P.logger);const E=P.validateFormats;P.validateFormats=!1,this.RULES=(0,a.getRules)(),$.call(this,p,P,"NOT SUPPORTED"),$.call(this,g,P,"DEPRECATED","warn"),this._metaOpts=I.call(this),P.formats&&T.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),P.keywords&&O.call(this,P.keywords),typeof P.meta=="object"&&this.addMetaSchema(P.meta),w.call(this),P.validateFormats=E}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:P,meta:D,schemaId:N}=this.opts;let E=f;N==="id"&&(E={...f},E.id=E.$id,delete E.$id),D&&P&&this.addMetaSchema(E,E[N],!1)}defaultMeta(){const{meta:P,schemaId:D}=this.opts;return this.opts.defaultMeta=typeof P=="object"?P[D]||P:void 0}validate(P,D){let N;if(typeof P=="string"){if(N=this.getSchema(P),!N)throw new Error(`no schema with key or ref "${P}"`)}else N=this.compile(P);const E=N(D);return"$async"in N||(this.errors=N.errors),E}compile(P,D){const N=this._addSchema(P,D);return N.validate||this._compileSchemaEnv(N)}compileAsync(P,D){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:N}=this.opts;return E.call(this,P,D);async function E(ae,k){await C.call(this,ae.$schema);const F=this._addSchema(ae,k);return F.validate||A.call(this,F)}async function C(ae){ae&&!this.getSchema(ae)&&await E.call(this,{$ref:ae},!0)}async function A(ae){try{return this._compileSchemaEnv(ae)}catch(k){if(!(k instanceof s.default))throw k;return K.call(this,k),await G.call(this,k.missingSchema),A.call(this,ae)}}function K({missingSchema:ae,missingRef:k}){if(this.refs[ae])throw new Error(`AnySchema ${ae} is loaded but ${k} cannot be resolved`)}async function G(ae){const k=await ie.call(this,ae);this.refs[ae]||await C.call(this,k.$schema),this.refs[ae]||this.addSchema(k,ae,D)}async function ie(ae){const k=this._loading[ae];if(k)return k;try{return await(this._loading[ae]=N(ae))}finally{delete this._loading[ae]}}}addSchema(P,D,N,E=this.opts.validateSchema){if(Array.isArray(P)){for(const A of P)this.addSchema(A,void 0,N,E);return this}let C;if(typeof P=="object"){const{schemaId:A}=this.opts;if(C=P[A],C!==void 0&&typeof C!="string")throw new Error(`schema ${A} must be string`)}return D=(0,c.normalizeId)(D||C),this._checkUnique(D),this.schemas[D]=this._addSchema(P,N,D,E,!0),this}addMetaSchema(P,D,N=this.opts.validateSchema){return this.addSchema(P,D,!0,N),this}validateSchema(P,D){if(typeof P=="boolean")return!0;let N;if(N=P.$schema,N!==void 0&&typeof N!="string")throw new Error("$schema must be a string");if(N=N||this.opts.defaultMeta||this.defaultMeta(),!N)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const E=this.validate(N,P);if(!E&&D){const C="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(C);else throw new Error(C)}return E}getSchema(P){let D;for(;typeof(D=S.call(this,P))=="string";)P=D;if(D===void 0){const{schemaId:N}=this.opts,E=new o.SchemaEnv({schema:{},schemaId:N});if(D=o.resolveSchema.call(this,E,P),!D)return;this.refs[P]=D}return D.validate||this._compileSchemaEnv(D)}removeSchema(P){if(P instanceof RegExp)return this._removeAllSchemas(this.schemas,P),this._removeAllSchemas(this.refs,P),this;switch(typeof P){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const D=S.call(this,P);return typeof D=="object"&&this._cache.delete(D.schema),delete this.schemas[P],delete this.refs[P],this}case"object":{const D=P;this._cache.delete(D);let N=P[this.opts.schemaId];return N&&(N=(0,c.normalizeId)(N),delete this.schemas[N],delete this.refs[N]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(P){for(const D of P)this.addKeyword(D);return this}addKeyword(P,D){let N;if(typeof P=="string")N=P,typeof D=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),D.keyword=N);else if(typeof P=="object"&&D===void 0){if(D=P,N=D.keyword,Array.isArray(N)&&!N.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(L.call(this,N,D),!D)return(0,d.eachItem)(N,C=>B.call(this,C)),this;re.call(this,D);const E={...D,type:(0,u.getJSONTypes)(D.type),schemaType:(0,u.getJSONTypes)(D.schemaType)};return(0,d.eachItem)(N,E.type.length===0?C=>B.call(this,C,E):C=>E.type.forEach(A=>B.call(this,C,E,A))),this}getKeyword(P){const D=this.RULES.all[P];return typeof D=="object"?D.definition:!!D}removeKeyword(P){const{RULES:D}=this;delete D.keywords[P],delete D.all[P];for(const N of D.rules){const E=N.rules.findIndex(C=>C.keyword===P);E>=0&&N.rules.splice(E,1)}return this}addFormat(P,D){return typeof D=="string"&&(D=new RegExp(D)),this.formats[P]=D,this}errorsText(P=this.errors,{separator:D=", ",dataVar:N="data"}={}){return!P||P.length===0?"No errors":P.map(E=>`${N}${E.instancePath} ${E.message}`).reduce((E,C)=>E+D+C)}$dataMetaSchema(P,D){const N=this.RULES.all;P=JSON.parse(JSON.stringify(P));for(const E of D){const C=E.split("/").slice(1);let A=P;for(const K of C)A=A[K];for(const K in N){const G=N[K];if(typeof G!="object")continue;const{$data:ie}=G.definition,ae=A[K];ie&&ae&&(A[K]=X(ae))}}return P}_removeAllSchemas(P,D){for(const N in P){const E=P[N];(!D||D.test(N))&&(typeof E=="string"?delete P[N]:E&&!E.meta&&(this._cache.delete(E.schema),delete P[N]))}}_addSchema(P,D,N,E=this.opts.validateSchema,C=this.opts.addUsedSchema){let A;const{schemaId:K}=this.opts;if(typeof P=="object")A=P[K];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof P!="boolean")throw new Error("schema must be object or boolean")}let G=this._cache.get(P);if(G!==void 0)return G;N=(0,c.normalizeId)(A||N);const ie=c.getSchemaRefs.call(this,P,N);return G=new o.SchemaEnv({schema:P,schemaId:K,meta:D,baseId:N,localRefs:ie}),this._cache.set(G.schema,G),C&&!N.startsWith("#")&&(N&&this._checkUnique(N),this.refs[N]=G),E&&this.validateSchema(P,!0),G}_checkUnique(P){if(this.schemas[P]||this.refs[P])throw new Error(`schema with key or id "${P}" already exists`)}_compileSchemaEnv(P){if(P.meta?this._compileMetaSchema(P):o.compileSchema.call(this,P),!P.validate)throw new Error("ajv implementation error");return P.validate}_compileMetaSchema(P){const D=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,P)}finally{this.opts=D}}}b.ValidationError=n.default,b.MissingRefError=s.default,t.default=b;function $(R,P,D,N="error"){for(const E in R){const C=E;C in P&&this.logger[N](`${D}: option ${E}. ${R[C]}`)}}function S(R){return R=(0,c.normalizeId)(R),this.schemas[R]||this.refs[R]}function w(){const R=this.opts.schemas;if(R)if(Array.isArray(R))this.addSchema(R);else for(const P in R)this.addSchema(R[P],P)}function T(){for(const R in this.opts.formats){const P=this.opts.formats[R];P&&this.addFormat(R,P)}}function O(R){if(Array.isArray(R)){this.addVocabulary(R);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const P in R){const D=R[P];D.keyword||(D.keyword=P),this.addKeyword(D)}}function I(){const R={...this.opts};for(const P of y)delete R[P];return R}const x={log(){},warn(){},error(){}};function U(R){if(R===!1)return x;if(R===void 0)return console;if(R.log&&R.warn&&R.error)return R;throw new Error("logger must implement log, warn and error methods")}const q=/^[a-z_$][a-z0-9_$:-]*$/i;function L(R,P){const{RULES:D}=this;if((0,d.eachItem)(R,N=>{if(D.keywords[N])throw new Error(`Keyword ${N} is already defined`);if(!q.test(N))throw new Error(`Keyword ${N} has invalid name`)}),!!P&&P.$data&&!("code"in P||"validate"in P))throw new Error('$data keyword must have "code" or "validate" function')}function B(R,P,D){var N;const E=P?.post;if(D&&E)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:C}=this;let A=E?C.post:C.rules.find(({type:G})=>G===D);if(A||(A={type:D,rules:[]},C.rules.push(A)),C.keywords[R]=!0,!P)return;const K={keyword:R,definition:{...P,type:(0,u.getJSONTypes)(P.type),schemaType:(0,u.getJSONTypes)(P.schemaType)}};P.before?J.call(this,A,K,P.before):A.rules.push(K),C.all[R]=K,(N=P.implements)===null||N===void 0||N.forEach(G=>this.addKeyword(G))}function J(R,P,D){const N=R.rules.findIndex(E=>E.keyword===D);N>=0?R.rules.splice(N,0,P):(R.rules.push(P),this.logger.warn(`rule ${D} is not defined`))}function re(R){let{metaSchema:P}=R;P!==void 0&&(R.$data&&this.opts.$data&&(P=X(P)),R.validateSchema=this.compile(P,!0))}const W={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function X(R){return{anyOf:[R,W]}}})(tn)),tn}var Dt={},Rt={},Mt={},As;function uu(){if(As)return Mt;As=1,Object.defineProperty(Mt,"__esModule",{value:!0});const t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Mt.default=t,Mt}var We={},xs;function fu(){if(xs)return We;xs=1,Object.defineProperty(We,"__esModule",{value:!0}),We.callRef=We.getValidate=void 0;const t=Ur(),e=Ie(),r=se(),n=Ge(),s=In(),a=ce(),o={keyword:"$ref",schemaType:"string",code(u){const{gen:d,schema:f,it:l}=u,{baseId:h,schemaEnv:y,validateName:v,opts:p,self:g}=l,{root:m}=y;if((f==="#"||f==="#/")&&h===m.baseId)return b();const _=s.resolveRef.call(g,m,h,f);if(_===void 0)throw new t.default(l.opts.uriResolver,h,f);if(_ instanceof s.SchemaEnv)return $(_);return S(_);function b(){if(y===m)return c(u,v,y,y.$async);const w=d.scopeValue("root",{ref:m});return c(u,(0,r._)`${w}.validate`,m,m.$async)}function $(w){const T=i(u,w);c(u,T,w,w.$async)}function S(w){const T=d.scopeValue("schema",p.code.source===!0?{ref:w,code:(0,r.stringify)(w)}:{ref:w}),O=d.name("valid"),I=u.subschema({schema:w,dataTypes:[],schemaPath:r.nil,topSchemaRef:T,errSchemaPath:f},O);u.mergeEvaluated(I),u.ok(O)}}};function i(u,d){const{gen:f}=u;return d.validate?f.scopeValue("validate",{ref:d.validate}):(0,r._)`${f.scopeValue("wrapper",{ref:d})}.validate`}We.getValidate=i;function c(u,d,f,l){const{gen:h,it:y}=u,{allErrors:v,schemaEnv:p,opts:g}=y,m=g.passContext?n.default.this:r.nil;l?_():b();function _(){if(!p.$async)throw new Error("async schema referenced by sync schema");const w=h.let("valid");h.try(()=>{h.code((0,r._)`await ${(0,e.callValidateCode)(u,d,m)}`),S(d),v||h.assign(w,!0)},T=>{h.if((0,r._)`!(${T} instanceof ${y.ValidationError})`,()=>h.throw(T)),$(T),v||h.assign(w,!1)}),u.ok(w)}function b(){u.result((0,e.callValidateCode)(u,d,m),()=>S(d),()=>$(d))}function $(w){const T=(0,r._)`${w}.errors`;h.assign(n.default.vErrors,(0,r._)`${n.default.vErrors} === null ? ${T} : ${n.default.vErrors}.concat(${T})`),h.assign(n.default.errors,(0,r._)`${n.default.vErrors}.length`)}function S(w){var T;if(!y.opts.unevaluated)return;const O=(T=f?.validate)===null||T===void 0?void 0:T.evaluated;if(y.props!==!0)if(O&&!O.dynamicProps)O.props!==void 0&&(y.props=a.mergeEvaluated.props(h,O.props,y.props));else{const I=h.var("props",(0,r._)`${w}.evaluated.props`);y.props=a.mergeEvaluated.props(h,I,y.props,r.Name)}if(y.items!==!0)if(O&&!O.dynamicItems)O.items!==void 0&&(y.items=a.mergeEvaluated.items(h,O.items,y.items));else{const I=h.var("items",(0,r._)`${w}.evaluated.items`);y.items=a.mergeEvaluated.items(h,I,y.items,r.Name)}}}return We.callRef=c,We.default=o,We}var Ds;function mu(){if(Ds)return Rt;Ds=1,Object.defineProperty(Rt,"__esModule",{value:!0});const t=uu(),e=fu(),r=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,e.default];return Rt.default=r,Rt}var qt={},Ut={},Rs;function hu(){if(Rs)return Ut;Rs=1,Object.defineProperty(Ut,"__esModule",{value:!0});const t=se(),e=t.operators,r={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}},n={message:({keyword:a,schemaCode:o})=>(0,t.str)`must be ${r[a].okStr} ${o}`,params:({keyword:a,schemaCode:o})=>(0,t._)`{comparison: ${r[a].okStr}, limit: ${o}}`},s={keyword:Object.keys(r),type:"number",schemaType:"number",$data:!0,error:n,code(a){const{keyword:o,data:i,schemaCode:c}=a;a.fail$data((0,t._)`${i} ${r[o].fail} ${c} || isNaN(${i})`)}};return Ut.default=s,Ut}var Vt={},Ms;function pu(){if(Ms)return Vt;Ms=1,Object.defineProperty(Vt,"__esModule",{value:!0});const t=se(),r={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:n})=>(0,t.str)`must be multiple of ${n}`,params:({schemaCode:n})=>(0,t._)`{multipleOf: ${n}}`},code(n){const{gen:s,data:a,schemaCode:o,it:i}=n,c=i.opts.multipleOfPrecision,u=s.let("res"),d=c?(0,t._)`Math.abs(Math.round(${u}) - ${u}) > 1e-${c}`:(0,t._)`${u} !== parseInt(${u})`;n.fail$data((0,t._)`(${o} === 0 || (${u} = ${a}/${o}, ${d}))`)}};return Vt.default=r,Vt}var Bt={},Lt={},qs;function yu(){if(qs)return Lt;qs=1,Object.defineProperty(Lt,"__esModule",{value:!0});function t(e){const r=e.length;let n=0,s=0,a;for(;s<r;)n++,a=e.charCodeAt(s++),a>=55296&&a<=56319&&s<r&&(a=e.charCodeAt(s),(a&64512)===56320&&s++);return n}return Lt.default=t,t.code='require("ajv/dist/runtime/ucs2length").default',Lt}var Us;function gu(){if(Us)return Bt;Us=1,Object.defineProperty(Bt,"__esModule",{value:!0});const t=se(),e=ce(),r=yu(),s={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:o}){const i=a==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${i} than ${o} characters`},params:({schemaCode:a})=>(0,t._)`{limit: ${a}}`},code(a){const{keyword:o,data:i,schemaCode:c,it:u}=a,d=o==="maxLength"?t.operators.GT:t.operators.LT,f=u.opts.unicode===!1?(0,t._)`${i}.length`:(0,t._)`${(0,e.useFunc)(a.gen,r.default)}(${i})`;a.fail$data((0,t._)`${f} ${d} ${c}`)}};return Bt.default=s,Bt}var zt={},Vs;function vu(){if(Vs)return zt;Vs=1,Object.defineProperty(zt,"__esModule",{value:!0});const t=Ie(),e=se(),n={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:s})=>(0,e.str)`must match pattern "${s}"`,params:({schemaCode:s})=>(0,e._)`{pattern: ${s}}`},code(s){const{data:a,$data:o,schema:i,schemaCode:c,it:u}=s,d=u.opts.unicodeRegExp?"u":"",f=o?(0,e._)`(new RegExp(${c}, ${d}))`:(0,t.usePattern)(s,i);s.fail$data((0,e._)`!${f}.test(${a})`)}};return zt.default=n,zt}var Kt={},Bs;function _u(){if(Bs)return Kt;Bs=1,Object.defineProperty(Kt,"__esModule",{value:!0});const t=se(),r={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:s}){const a=n==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${s} properties`},params:({schemaCode:n})=>(0,t._)`{limit: ${n}}`},code(n){const{keyword:s,data:a,schemaCode:o}=n,i=s==="maxProperties"?t.operators.GT:t.operators.LT;n.fail$data((0,t._)`Object.keys(${a}).length ${i} ${o}`)}};return Kt.default=r,Kt}var Wt={},Ls;function Su(){if(Ls)return Wt;Ls=1,Object.defineProperty(Wt,"__esModule",{value:!0});const t=Ie(),e=se(),r=ce(),s={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:a}})=>(0,e.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,e._)`{missingProperty: ${a}}`},code(a){const{gen:o,schema:i,schemaCode:c,data:u,$data:d,it:f}=a,{opts:l}=f;if(!d&&i.length===0)return;const h=i.length>=l.loopRequired;if(f.allErrors?y():v(),l.strictRequired){const m=a.parentSchema.properties,{definedProperties:_}=a.it;for(const b of i)if(m?.[b]===void 0&&!_.has(b)){const $=f.schemaEnv.baseId+f.errSchemaPath,S=`required property "${b}" is not defined at "${$}" (strictRequired)`;(0,r.checkStrictMode)(f,S,f.opts.strictRequired)}}function y(){if(h||d)a.block$data(e.nil,p);else for(const m of i)(0,t.checkReportMissingProp)(a,m)}function v(){const m=o.let("missing");if(h||d){const _=o.let("valid",!0);a.block$data(_,()=>g(m,_)),a.ok(_)}else o.if((0,t.checkMissingProp)(a,i,m)),(0,t.reportMissingProp)(a,m),o.else()}function p(){o.forOf("prop",c,m=>{a.setParams({missingProperty:m}),o.if((0,t.noPropertyInData)(o,u,m,l.ownProperties),()=>a.error())})}function g(m,_){a.setParams({missingProperty:m}),o.forOf(m,c,()=>{o.assign(_,(0,t.propertyInData)(o,u,m,l.ownProperties)),o.if((0,e.not)(_),()=>{a.error(),o.break()})},e.nil)}}};return Wt.default=s,Wt}var Ht={},zs;function bu(){if(zs)return Ht;zs=1,Object.defineProperty(Ht,"__esModule",{value:!0});const t=se(),r={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:s}){const a=n==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${s} items`},params:({schemaCode:n})=>(0,t._)`{limit: ${n}}`},code(n){const{keyword:s,data:a,schemaCode:o}=n,i=s==="maxItems"?t.operators.GT:t.operators.LT;n.fail$data((0,t._)`${a}.length ${i} ${o}`)}};return Ht.default=r,Ht}var Gt={},Jt={},Ks;function An(){if(Ks)return Jt;Ks=1,Object.defineProperty(Jt,"__esModule",{value:!0});const t=Oi();return t.code='require("ajv/dist/runtime/equal").default',Jt.default=t,Jt}var Ws;function $u(){if(Ws)return Gt;Ws=1,Object.defineProperty(Gt,"__esModule",{value:!0});const t=Pr(),e=se(),r=ce(),n=An(),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:o,j:i}})=>(0,e.str)`must NOT have duplicate items (items ## ${i} and ${o} are identical)`,params:({params:{i:o,j:i}})=>(0,e._)`{i: ${o}, j: ${i}}`},code(o){const{gen:i,data:c,$data:u,schema:d,parentSchema:f,schemaCode:l,it:h}=o;if(!u&&!d)return;const y=i.let("valid"),v=f.items?(0,t.getSchemaTypes)(f.items):[];o.block$data(y,p,(0,e._)`${l} === false`),o.ok(y);function p(){const b=i.let("i",(0,e._)`${c}.length`),$=i.let("j");o.setParams({i:b,j:$}),i.assign(y,!0),i.if((0,e._)`${b} > 1`,()=>(g()?m:_)(b,$))}function g(){return v.length>0&&!v.some(b=>b==="object"||b==="array")}function m(b,$){const S=i.name("item"),w=(0,t.checkDataTypes)(v,S,h.opts.strictNumbers,t.DataType.Wrong),T=i.const("indices",(0,e._)`{}`);i.for((0,e._)`;${b}--;`,()=>{i.let(S,(0,e._)`${c}[${b}]`),i.if(w,(0,e._)`continue`),v.length>1&&i.if((0,e._)`typeof ${S} == "string"`,(0,e._)`${S} += "_"`),i.if((0,e._)`typeof ${T}[${S}] == "number"`,()=>{i.assign($,(0,e._)`${T}[${S}]`),o.error(),i.assign(y,!1).break()}).code((0,e._)`${T}[${S}] = ${b}`)})}function _(b,$){const S=(0,r.useFunc)(i,n.default),w=i.name("outer");i.label(w).for((0,e._)`;${b}--;`,()=>i.for((0,e._)`${$} = ${b}; ${$}--;`,()=>i.if((0,e._)`${S}(${c}[${b}], ${c}[${$}])`,()=>{o.error(),i.assign(y,!1).break(w)})))}}};return Gt.default=a,Gt}var Yt={},Hs;function wu(){if(Hs)return Yt;Hs=1,Object.defineProperty(Yt,"__esModule",{value:!0});const t=se(),e=ce(),r=An(),s={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:a})=>(0,t._)`{allowedValue: ${a}}`},code(a){const{gen:o,data:i,$data:c,schemaCode:u,schema:d}=a;c||d&&typeof d=="object"?a.fail$data((0,t._)`!${(0,e.useFunc)(o,r.default)}(${i}, ${u})`):a.fail((0,t._)`${d} !== ${i}`)}};return Yt.default=s,Yt}var Xt={},Gs;function Eu(){if(Gs)return Xt;Gs=1,Object.defineProperty(Xt,"__esModule",{value:!0});const t=se(),e=ce(),r=An(),s={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,t._)`{allowedValues: ${a}}`},code(a){const{gen:o,data:i,$data:c,schema:u,schemaCode:d,it:f}=a;if(!c&&u.length===0)throw new Error("enum must have non-empty array");const l=u.length>=f.opts.loopEnum;let h;const y=()=>h??(h=(0,e.useFunc)(o,r.default));let v;if(l||c)v=o.let("valid"),a.block$data(v,p);else{if(!Array.isArray(u))throw new Error("ajv implementation error");const m=o.const("vSchema",d);v=(0,t.or)(...u.map((_,b)=>g(m,b)))}a.pass(v);function p(){o.assign(v,!1),o.forOf("v",d,m=>o.if((0,t._)`${y()}(${i}, ${m})`,()=>o.assign(v,!0).break()))}function g(m,_){const b=u[_];return typeof b=="object"&&b!==null?(0,t._)`${y()}(${i}, ${m}[${_}])`:(0,t._)`${i} === ${b}`}}};return Xt.default=s,Xt}var Js;function ju(){if(Js)return qt;Js=1,Object.defineProperty(qt,"__esModule",{value:!0});const t=hu(),e=pu(),r=gu(),n=vu(),s=_u(),a=Su(),o=bu(),i=$u(),c=wu(),u=Eu(),d=[t.default,e.default,r.default,n.default,s.default,a.default,o.default,i.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},c.default,u.default];return qt.default=d,qt}var Qt={},lt={},Ys;function Ti(){if(Ys)return lt;Ys=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt.validateAdditionalItems=void 0;const t=se(),e=ce(),n={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},code(a){const{parentSchema:o,it:i}=a,{items:c}=o;if(!Array.isArray(c)){(0,e.checkStrictMode)(i,'"additionalItems" is ignored when "items" is not an array of schemas');return}s(a,c)}};function s(a,o){const{gen:i,schema:c,data:u,keyword:d,it:f}=a;f.items=!0;const l=i.const("len",(0,t._)`${u}.length`);if(c===!1)a.setParams({len:o.length}),a.pass((0,t._)`${l} <= ${o.length}`);else if(typeof c=="object"&&!(0,e.alwaysValidSchema)(f,c)){const y=i.var("valid",(0,t._)`${l} <= ${o.length}`);i.if((0,t.not)(y),()=>h(y)),a.ok(y)}function h(y){i.forRange("i",o.length,l,v=>{a.subschema({keyword:d,dataProp:v,dataPropType:e.Type.Num},y),f.allErrors||i.if((0,t.not)(y),()=>i.break())})}}return lt.validateAdditionalItems=s,lt.default=n,lt}var Zt={},dt={},Xs;function Pi(){if(Xs)return dt;Xs=1,Object.defineProperty(dt,"__esModule",{value:!0}),dt.validateTuple=void 0;const t=se(),e=ce(),r=Ie(),n={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){const{schema:o,it:i}=a;if(Array.isArray(o))return s(a,"additionalItems",o);i.items=!0,!(0,e.alwaysValidSchema)(i,o)&&a.ok((0,r.validateArray)(a))}};function s(a,o,i=a.schema){const{gen:c,parentSchema:u,data:d,keyword:f,it:l}=a;v(u),l.opts.unevaluated&&i.length&&l.items!==!0&&(l.items=e.mergeEvaluated.items(c,i.length,l.items));const h=c.name("valid"),y=c.const("len",(0,t._)`${d}.length`);i.forEach((p,g)=>{(0,e.alwaysValidSchema)(l,p)||(c.if((0,t._)`${y} > ${g}`,()=>a.subschema({keyword:f,schemaProp:g,dataProp:g},h)),a.ok(h))});function v(p){const{opts:g,errSchemaPath:m}=l,_=i.length,b=_===p.minItems&&(_===p.maxItems||p[o]===!1);if(g.strictTuples&&!b){const $=`"${f}" is ${_}-tuple, but minItems or maxItems/${o} are not specified or different at path "${m}"`;(0,e.checkStrictMode)(l,$,g.strictTuples)}}}return dt.validateTuple=s,dt.default=n,dt}var Qs;function Cu(){if(Qs)return Zt;Qs=1,Object.defineProperty(Zt,"__esModule",{value:!0});const t=Pi(),e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,t.validateTuple)(r,"items")};return Zt.default=e,Zt}var er={},Zs;function Ou(){if(Zs)return er;Zs=1,Object.defineProperty(er,"__esModule",{value:!0});const t=se(),e=ce(),r=Ie(),n=Ti(),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,t.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,t._)`{limit: ${o}}`},code(o){const{schema:i,parentSchema:c,it:u}=o,{prefixItems:d}=c;u.items=!0,!(0,e.alwaysValidSchema)(u,i)&&(d?(0,n.validateAdditionalItems)(o,d):o.ok((0,r.validateArray)(o)))}};return er.default=a,er}var tr={},ea;function Tu(){if(ea)return tr;ea=1,Object.defineProperty(tr,"__esModule",{value:!0});const t=se(),e=ce(),n={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:s,max:a}})=>a===void 0?(0,t.str)`must contain at least ${s} valid item(s)`:(0,t.str)`must contain at least ${s} and no more than ${a} valid item(s)`,params:({params:{min:s,max:a}})=>a===void 0?(0,t._)`{minContains: ${s}}`:(0,t._)`{minContains: ${s}, maxContains: ${a}}`},code(s){const{gen:a,schema:o,parentSchema:i,data:c,it:u}=s;let d,f;const{minContains:l,maxContains:h}=i;u.opts.next?(d=l===void 0?1:l,f=h):d=1;const y=a.const("len",(0,t._)`${c}.length`);if(s.setParams({min:d,max:f}),f===void 0&&d===0){(0,e.checkStrictMode)(u,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(f!==void 0&&d>f){(0,e.checkStrictMode)(u,'"minContains" > "maxContains" is always invalid'),s.fail();return}if((0,e.alwaysValidSchema)(u,o)){let _=(0,t._)`${y} >= ${d}`;f!==void 0&&(_=(0,t._)`${_} && ${y} <= ${f}`),s.pass(_);return}u.items=!0;const v=a.name("valid");f===void 0&&d===1?g(v,()=>a.if(v,()=>a.break())):d===0?(a.let(v,!0),f!==void 0&&a.if((0,t._)`${c}.length > 0`,p)):(a.let(v,!1),p()),s.result(v,()=>s.reset());function p(){const _=a.name("_valid"),b=a.let("count",0);g(_,()=>a.if(_,()=>m(b)))}function g(_,b){a.forRange("i",0,y,$=>{s.subschema({keyword:"contains",dataProp:$,dataPropType:e.Type.Num,compositeRule:!0},_),b()})}function m(_){a.code((0,t._)`${_}++`),f===void 0?a.if((0,t._)`${_} >= ${d}`,()=>a.assign(v,!0).break()):(a.if((0,t._)`${_} > ${f}`,()=>a.assign(v,!1).break()),d===1?a.assign(v,!0):a.if((0,t._)`${_} >= ${d}`,()=>a.assign(v,!0)))}}};return tr.default=n,tr}var ln={},ta;function Pu(){return ta||(ta=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=se(),r=ce(),n=Ie();t.error={message:({params:{property:c,depsCount:u,deps:d}})=>{const f=u===1?"property":"properties";return(0,e.str)`must have ${f} ${d} when property ${c} is present`},params:({params:{property:c,depsCount:u,deps:d,missingProperty:f}})=>(0,e._)`{property: ${c},
    missingProperty: ${f},
    depsCount: ${u},
    deps: ${d}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(c){const[u,d]=a(c);o(c,u),i(c,d)}};function a({schema:c}){const u={},d={};for(const f in c){if(f==="__proto__")continue;const l=Array.isArray(c[f])?u:d;l[f]=c[f]}return[u,d]}function o(c,u=c.schema){const{gen:d,data:f,it:l}=c;if(Object.keys(u).length===0)return;const h=d.let("missing");for(const y in u){const v=u[y];if(v.length===0)continue;const p=(0,n.propertyInData)(d,f,y,l.opts.ownProperties);c.setParams({property:y,depsCount:v.length,deps:v.join(", ")}),l.allErrors?d.if(p,()=>{for(const g of v)(0,n.checkReportMissingProp)(c,g)}):(d.if((0,e._)`${p} && (${(0,n.checkMissingProp)(c,v,h)})`),(0,n.reportMissingProp)(c,h),d.else())}}t.validatePropertyDeps=o;function i(c,u=c.schema){const{gen:d,data:f,keyword:l,it:h}=c,y=d.name("valid");for(const v in u)(0,r.alwaysValidSchema)(h,u[v])||(d.if((0,n.propertyInData)(d,f,v,h.opts.ownProperties),()=>{const p=c.subschema({keyword:l,schemaProp:v},y);c.mergeValidEvaluated(p,y)},()=>d.var(y,!0)),c.ok(y))}t.validateSchemaDeps=i,t.default=s})(ln)),ln}var rr={},ra;function ku(){if(ra)return rr;ra=1,Object.defineProperty(rr,"__esModule",{value:!0});const t=se(),e=ce(),n={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:s})=>(0,t._)`{propertyName: ${s.propertyName}}`},code(s){const{gen:a,schema:o,data:i,it:c}=s;if((0,e.alwaysValidSchema)(c,o))return;const u=a.name("valid");a.forIn("key",i,d=>{s.setParams({propertyName:d}),s.subschema({keyword:"propertyNames",data:d,dataTypes:["string"],propertyName:d,compositeRule:!0},u),a.if((0,t.not)(u),()=>{s.error(!0),c.allErrors||a.break()})}),s.ok(u)}};return rr.default=n,rr}var nr={},na;function ki(){if(na)return nr;na=1,Object.defineProperty(nr,"__esModule",{value:!0});const t=Ie(),e=se(),r=Ge(),n=ce(),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:o})=>(0,e._)`{additionalProperty: ${o.additionalProperty}}`},code(o){const{gen:i,schema:c,parentSchema:u,data:d,errsCount:f,it:l}=o;if(!f)throw new Error("ajv implementation error");const{allErrors:h,opts:y}=l;if(l.props=!0,y.removeAdditional!=="all"&&(0,n.alwaysValidSchema)(l,c))return;const v=(0,t.allSchemaProperties)(u.properties),p=(0,t.allSchemaProperties)(u.patternProperties);g(),o.ok((0,e._)`${f} === ${r.default.errors}`);function g(){i.forIn("key",d,S=>{!v.length&&!p.length?b(S):i.if(m(S),()=>b(S))})}function m(S){let w;if(v.length>8){const T=(0,n.schemaRefOrVal)(l,u.properties,"properties");w=(0,t.isOwnProperty)(i,T,S)}else v.length?w=(0,e.or)(...v.map(T=>(0,e._)`${S} === ${T}`)):w=e.nil;return p.length&&(w=(0,e.or)(w,...p.map(T=>(0,e._)`${(0,t.usePattern)(o,T)}.test(${S})`))),(0,e.not)(w)}function _(S){i.code((0,e._)`delete ${d}[${S}]`)}function b(S){if(y.removeAdditional==="all"||y.removeAdditional&&c===!1){_(S);return}if(c===!1){o.setParams({additionalProperty:S}),o.error(),h||i.break();return}if(typeof c=="object"&&!(0,n.alwaysValidSchema)(l,c)){const w=i.name("valid");y.removeAdditional==="failing"?($(S,w,!1),i.if((0,e.not)(w),()=>{o.reset(),_(S)})):($(S,w),h||i.if((0,e.not)(w),()=>i.break()))}}function $(S,w,T){const O={keyword:"additionalProperties",dataProp:S,dataPropType:n.Type.Str};T===!1&&Object.assign(O,{compositeRule:!0,createErrors:!1,allErrors:!1}),o.subschema(O,w)}}};return nr.default=a,nr}var sr={},sa;function Nu(){if(sa)return sr;sa=1,Object.defineProperty(sr,"__esModule",{value:!0});const t=qr(),e=Ie(),r=ce(),n=ki(),s={keyword:"properties",type:"object",schemaType:"object",code(a){const{gen:o,schema:i,parentSchema:c,data:u,it:d}=a;d.opts.removeAdditional==="all"&&c.additionalProperties===void 0&&n.default.code(new t.KeywordCxt(d,n.default,"additionalProperties"));const f=(0,e.allSchemaProperties)(i);for(const p of f)d.definedProperties.add(p);d.opts.unevaluated&&f.length&&d.props!==!0&&(d.props=r.mergeEvaluated.props(o,(0,r.toHash)(f),d.props));const l=f.filter(p=>!(0,r.alwaysValidSchema)(d,i[p]));if(l.length===0)return;const h=o.name("valid");for(const p of l)y(p)?v(p):(o.if((0,e.propertyInData)(o,u,p,d.opts.ownProperties)),v(p),d.allErrors||o.else().var(h,!0),o.endIf()),a.it.definedProperties.add(p),a.ok(h);function y(p){return d.opts.useDefaults&&!d.compositeRule&&i[p].default!==void 0}function v(p){a.subschema({keyword:"properties",schemaProp:p,dataProp:p},h)}}};return sr.default=s,sr}var ar={},aa;function Fu(){if(aa)return ar;aa=1,Object.defineProperty(ar,"__esModule",{value:!0});const t=Ie(),e=se(),r=ce(),n=ce(),s={keyword:"patternProperties",type:"object",schemaType:"object",code(a){const{gen:o,schema:i,data:c,parentSchema:u,it:d}=a,{opts:f}=d,l=(0,t.allSchemaProperties)(i),h=l.filter(b=>(0,r.alwaysValidSchema)(d,i[b]));if(l.length===0||h.length===l.length&&(!d.opts.unevaluated||d.props===!0))return;const y=f.strictSchema&&!f.allowMatchingProperties&&u.properties,v=o.name("valid");d.props!==!0&&!(d.props instanceof e.Name)&&(d.props=(0,n.evaluatedPropsToName)(o,d.props));const{props:p}=d;g();function g(){for(const b of l)y&&m(b),d.allErrors?_(b):(o.var(v,!0),_(b),o.if(v))}function m(b){for(const $ in y)new RegExp(b).test($)&&(0,r.checkStrictMode)(d,`property ${$} matches pattern ${b} (use allowMatchingProperties)`)}function _(b){o.forIn("key",c,$=>{o.if((0,e._)`${(0,t.usePattern)(a,b)}.test(${$})`,()=>{const S=h.includes(b);S||a.subschema({keyword:"patternProperties",schemaProp:b,dataProp:$,dataPropType:n.Type.Str},v),d.opts.unevaluated&&p!==!0?o.assign((0,e._)`${p}[${$}]`,!0):!S&&!d.allErrors&&o.if((0,e.not)(v),()=>o.break())})})}}};return ar.default=s,ar}var ir={},ia;function Iu(){if(ia)return ir;ia=1,Object.defineProperty(ir,"__esModule",{value:!0});const t=ce(),e={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){const{gen:n,schema:s,it:a}=r;if((0,t.alwaysValidSchema)(a,s)){r.fail();return}const o=n.name("valid");r.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),r.failResult(o,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};return ir.default=e,ir}var or={},oa;function Au(){if(oa)return or;oa=1,Object.defineProperty(or,"__esModule",{value:!0});const e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Ie().validateUnion,error:{message:"must match a schema in anyOf"}};return or.default=e,or}var cr={},ca;function xu(){if(ca)return cr;ca=1,Object.defineProperty(cr,"__esModule",{value:!0});const t=se(),e=ce(),n={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:s})=>(0,t._)`{passingSchemas: ${s.passing}}`},code(s){const{gen:a,schema:o,parentSchema:i,it:c}=s;if(!Array.isArray(o))throw new Error("ajv implementation error");if(c.opts.discriminator&&i.discriminator)return;const u=o,d=a.let("valid",!1),f=a.let("passing",null),l=a.name("_valid");s.setParams({passing:f}),a.block(h),s.result(d,()=>s.reset(),()=>s.error(!0));function h(){u.forEach((y,v)=>{let p;(0,e.alwaysValidSchema)(c,y)?a.var(l,!0):p=s.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},l),v>0&&a.if((0,t._)`${l} && ${d}`).assign(d,!1).assign(f,(0,t._)`[${f}, ${v}]`).else(),a.if(l,()=>{a.assign(d,!0),a.assign(f,v),p&&s.mergeEvaluated(p,t.Name)})})}}};return cr.default=n,cr}var lr={},la;function Du(){if(la)return lr;la=1,Object.defineProperty(lr,"__esModule",{value:!0});const t=ce(),e={keyword:"allOf",schemaType:"array",code(r){const{gen:n,schema:s,it:a}=r;if(!Array.isArray(s))throw new Error("ajv implementation error");const o=n.name("valid");s.forEach((i,c)=>{if((0,t.alwaysValidSchema)(a,i))return;const u=r.subschema({keyword:"allOf",schemaProp:c},o);r.ok(o),r.mergeEvaluated(u)})}};return lr.default=e,lr}var dr={},da;function Ru(){if(da)return dr;da=1,Object.defineProperty(dr,"__esModule",{value:!0});const t=se(),e=ce(),n={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:a})=>(0,t.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,t._)`{failingKeyword: ${a.ifClause}}`},code(a){const{gen:o,parentSchema:i,it:c}=a;i.then===void 0&&i.else===void 0&&(0,e.checkStrictMode)(c,'"if" without "then" and "else" is ignored');const u=s(c,"then"),d=s(c,"else");if(!u&&!d)return;const f=o.let("valid",!0),l=o.name("_valid");if(h(),a.reset(),u&&d){const v=o.let("ifClause");a.setParams({ifClause:v}),o.if(l,y("then",v),y("else",v))}else u?o.if(l,y("then")):o.if((0,t.not)(l),y("else"));a.pass(f,()=>a.error(!0));function h(){const v=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},l);a.mergeEvaluated(v)}function y(v,p){return()=>{const g=a.subschema({keyword:v},l);o.assign(f,l),a.mergeValidEvaluated(g,f),p?o.assign(p,(0,t._)`${v}`):a.setParams({ifClause:v})}}}};function s(a,o){const i=a.schema[o];return i!==void 0&&!(0,e.alwaysValidSchema)(a,i)}return dr.default=n,dr}var ur={},ua;function Mu(){if(ua)return ur;ua=1,Object.defineProperty(ur,"__esModule",{value:!0});const t=ce(),e={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:n,it:s}){n.if===void 0&&(0,t.checkStrictMode)(s,`"${r}" without "if" is ignored`)}};return ur.default=e,ur}var fa;function qu(){if(fa)return Qt;fa=1,Object.defineProperty(Qt,"__esModule",{value:!0});const t=Ti(),e=Cu(),r=Pi(),n=Ou(),s=Tu(),a=Pu(),o=ku(),i=ki(),c=Nu(),u=Fu(),d=Iu(),f=Au(),l=xu(),h=Du(),y=Ru(),v=Mu();function p(g=!1){const m=[d.default,f.default,l.default,h.default,y.default,v.default,o.default,i.default,a.default,c.default,u.default];return g?m.push(e.default,n.default):m.push(t.default,r.default),m.push(s.default),m}return Qt.default=p,Qt}var fr={},mr={},ma;function Uu(){if(ma)return mr;ma=1,Object.defineProperty(mr,"__esModule",{value:!0});const t=se(),r={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:n})=>(0,t.str)`must match format "${n}"`,params:({schemaCode:n})=>(0,t._)`{format: ${n}}`},code(n,s){const{gen:a,data:o,$data:i,schema:c,schemaCode:u,it:d}=n,{opts:f,errSchemaPath:l,schemaEnv:h,self:y}=d;if(!f.validateFormats)return;i?v():p();function v(){const g=a.scopeValue("formats",{ref:y.formats,code:f.code.formats}),m=a.const("fDef",(0,t._)`${g}[${u}]`),_=a.let("fType"),b=a.let("format");a.if((0,t._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>a.assign(_,(0,t._)`${m}.type || "string"`).assign(b,(0,t._)`${m}.validate`),()=>a.assign(_,(0,t._)`"string"`).assign(b,m)),n.fail$data((0,t.or)($(),S()));function $(){return f.strictSchema===!1?t.nil:(0,t._)`${u} && !${b}`}function S(){const w=h.$async?(0,t._)`(${m}.async ? await ${b}(${o}) : ${b}(${o}))`:(0,t._)`${b}(${o})`,T=(0,t._)`(typeof ${b} == "function" ? ${w} : ${b}.test(${o}))`;return(0,t._)`${b} && ${b} !== true && ${_} === ${s} && !${T}`}}function p(){const g=y.formats[c];if(!g){$();return}if(g===!0)return;const[m,_,b]=S(g);m===s&&n.pass(w());function $(){if(f.strictSchema===!1){y.logger.warn(T());return}throw new Error(T());function T(){return`unknown format "${c}" ignored in schema at path "${l}"`}}function S(T){const O=T instanceof RegExp?(0,t.regexpCode)(T):f.code.formats?(0,t._)`${f.code.formats}${(0,t.getProperty)(c)}`:void 0,I=a.scopeValue("formats",{key:c,ref:T,code:O});return typeof T=="object"&&!(T instanceof RegExp)?[T.type||"string",T.validate,(0,t._)`${I}.validate`]:["string",T,I]}function w(){if(typeof g=="object"&&!(g instanceof RegExp)&&g.async){if(!h.$async)throw new Error("async format in sync schema");return(0,t._)`await ${b}(${o})`}return typeof _=="function"?(0,t._)`${b}(${o})`:(0,t._)`${b}.test(${o})`}}}};return mr.default=r,mr}var ha;function Vu(){if(ha)return fr;ha=1,Object.defineProperty(fr,"__esModule",{value:!0});const e=[Uu().default];return fr.default=e,fr}var Xe={},pa;function Bu(){return pa||(pa=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.contentVocabulary=Xe.metadataVocabulary=void 0,Xe.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Xe.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Xe}var ya;function Lu(){if(ya)return Dt;ya=1,Object.defineProperty(Dt,"__esModule",{value:!0});const t=mu(),e=ju(),r=qu(),n=Vu(),s=Bu(),a=[t.default,e.default,(0,r.default)(),n.default,s.metadataVocabulary,s.contentVocabulary];return Dt.default=a,Dt}var hr={},St={},ga;function zu(){if(ga)return St;ga=1,Object.defineProperty(St,"__esModule",{value:!0}),St.DiscrError=void 0;var t;return(function(e){e.Tag="tag",e.Mapping="mapping"})(t||(St.DiscrError=t={})),St}var va;function Ku(){if(va)return hr;va=1,Object.defineProperty(hr,"__esModule",{value:!0});const t=se(),e=zu(),r=In(),n=Ur(),s=ce(),o={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:i,tagName:c}})=>i===e.DiscrError.Tag?`tag "${c}" must be string`:`value of tag "${c}" must be in oneOf`,params:({params:{discrError:i,tag:c,tagName:u}})=>(0,t._)`{error: ${i}, tag: ${u}, tagValue: ${c}}`},code(i){const{gen:c,data:u,schema:d,parentSchema:f,it:l}=i,{oneOf:h}=f;if(!l.opts.discriminator)throw new Error("discriminator: requires discriminator option");const y=d.propertyName;if(typeof y!="string")throw new Error("discriminator: requires propertyName");if(d.mapping)throw new Error("discriminator: mapping is not supported");if(!h)throw new Error("discriminator: requires oneOf keyword");const v=c.let("valid",!1),p=c.const("tag",(0,t._)`${u}${(0,t.getProperty)(y)}`);c.if((0,t._)`typeof ${p} == "string"`,()=>g(),()=>i.error(!1,{discrError:e.DiscrError.Tag,tag:p,tagName:y})),i.ok(v);function g(){const b=_();c.if(!1);for(const $ in b)c.elseIf((0,t._)`${p} === ${$}`),c.assign(v,m(b[$]));c.else(),i.error(!1,{discrError:e.DiscrError.Mapping,tag:p,tagName:y}),c.endIf()}function m(b){const $=c.name("valid"),S=i.subschema({keyword:"oneOf",schemaProp:b},$);return i.mergeEvaluated(S,t.Name),$}function _(){var b;const $={},S=T(f);let w=!0;for(let x=0;x<h.length;x++){let U=h[x];if(U?.$ref&&!(0,s.schemaHasRulesButRef)(U,l.self.RULES)){const L=U.$ref;if(U=r.resolveRef.call(l.self,l.schemaEnv.root,l.baseId,L),U instanceof r.SchemaEnv&&(U=U.schema),U===void 0)throw new n.default(l.opts.uriResolver,l.baseId,L)}const q=(b=U?.properties)===null||b===void 0?void 0:b[y];if(typeof q!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${y}"`);w=w&&(S||T(U)),O(q,x)}if(!w)throw new Error(`discriminator: "${y}" must be required`);return $;function T({required:x}){return Array.isArray(x)&&x.includes(y)}function O(x,U){if(x.const)I(x.const,U);else if(x.enum)for(const q of x.enum)I(q,U);else throw new Error(`discriminator: "properties/${y}" must have "const" or "enum"`)}function I(x,U){if(typeof x!="string"||x in $)throw new Error(`discriminator: "${y}" values must be unique strings`);$[x]=U}}}};return hr.default=o,hr}const Wu="http://json-schema.org/draft-07/schema#",Hu="http://json-schema.org/draft-07/schema#",Gu="Core schema meta-schema",Ju={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Yu=["object","boolean"],Xu={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Qu={$schema:Wu,$id:Hu,title:Gu,definitions:Ju,type:Yu,properties:Xu,default:!0};var _a;function Ni(){return _a||(_a=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const r=du(),n=Lu(),s=Ku(),a=Qu,o=["/properties"],i="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(y=>this.addVocabulary(y)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const y=this.opts.$data?this.$dataMetaSchema(a,o):a;this.addMetaSchema(y,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}e.Ajv=c,t.exports=e=c,t.exports.Ajv=c,Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var u=qr();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var d=se();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var f=Fn();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return f.default}});var l=Ur();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return l.default}})})(Nt,Nt.exports)),Nt.exports}var Zu=Ni();const ef=Va(Zu);var pr={exports:{}},dn={},Sa;function tf(){return Sa||(Sa=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0;function e(O,I){return{validate:O,compare:I}}t.fullFormats={date:e(a,o),time:e(c,u),"date-time":e(f,l),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:v,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:T,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:g,int32:{type:"number",validate:b},int64:{type:"number",validate:$},float:{type:"number",validate:S},double:{type:"number",validate:S},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:e(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,l),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);function r(O){return O%4===0&&(O%100!==0||O%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31];function a(O){const I=n.exec(O);if(!I)return!1;const x=+I[1],U=+I[2],q=+I[3];return U>=1&&U<=12&&q>=1&&q<=(U===2&&r(x)?29:s[U])}function o(O,I){if(O&&I)return O>I?1:O<I?-1:0}const i=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function c(O,I){const x=i.exec(O);if(!x)return!1;const U=+x[1],q=+x[2],L=+x[3],B=x[5];return(U<=23&&q<=59&&L<=59||U===23&&q===59&&L===60)&&(!I||B!=="")}function u(O,I){if(!(O&&I))return;const x=i.exec(O),U=i.exec(I);if(x&&U)return O=x[1]+x[2]+x[3]+(x[4]||""),I=U[1]+U[2]+U[3]+(U[4]||""),O>I?1:O<I?-1:0}const d=/t|\s/i;function f(O){const I=O.split(d);return I.length===2&&a(I[0])&&c(I[1],!0)}function l(O,I){if(!(O&&I))return;const[x,U]=O.split(d),[q,L]=I.split(d),B=o(x,q);if(B!==void 0)return B||u(U,L)}const h=/\/|:/,y=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function v(O){return h.test(O)&&y.test(O)}const p=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function g(O){return p.lastIndex=0,p.test(O)}const m=-2147483648,_=2**31-1;function b(O){return Number.isInteger(O)&&O<=_&&O>=m}function $(O){return Number.isInteger(O)}function S(){return!0}const w=/[^\\]\\Z/;function T(O){if(w.test(O))return!1;try{return new RegExp(O),!0}catch{return!1}}})(dn)),dn}var un={},ba;function rf(){return ba||(ba=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const e=Ni(),r=se(),n=r.operators,s={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},a={message:({keyword:i,schemaCode:c})=>r.str`should be ${s[i].okStr} ${c}`,params:({keyword:i,schemaCode:c})=>r._`{comparison: ${s[i].okStr}, limit: ${c}}`};t.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:a,code(i){const{gen:c,data:u,schemaCode:d,keyword:f,it:l}=i,{opts:h,self:y}=l;if(!h.validateFormats)return;const v=new e.KeywordCxt(l,y.RULES.all.format.definition,"format");v.$data?p():g();function p(){const _=c.scopeValue("formats",{ref:y.formats,code:h.code.formats}),b=c.const("fmt",r._`${_}[${v.schemaCode}]`);i.fail$data(r.or(r._`typeof ${b} != "object"`,r._`${b} instanceof RegExp`,r._`typeof ${b}.compare != "function"`,m(b)))}function g(){const _=v.schema,b=y.formats[_];if(!b||b===!0)return;if(typeof b!="object"||b instanceof RegExp||typeof b.compare!="function")throw new Error(`"${f}": format "${_}" does not define "compare" function`);const $=c.scopeValue("formats",{key:_,ref:b,code:h.code.formats?r._`${h.code.formats}${r.getProperty(_)}`:void 0});i.fail$data(m($))}function m(_){return r._`${_}.compare(${u}, ${d}) ${s[f].fail} 0`}},dependencies:["format"]};const o=i=>(i.addKeyword(t.formatLimitDefinition),i);t.default=o})(un)),un}var $a;function nf(){return $a||($a=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const r=tf(),n=rf(),s=se(),a=new s.Name("fullFormats"),o=new s.Name("fastFormats"),i=(u,d={keywords:!0})=>{if(Array.isArray(d))return c(u,d,r.fullFormats,a),u;const[f,l]=d.mode==="fast"?[r.fastFormats,o]:[r.fullFormats,a],h=d.formats||r.formatNames;return c(u,h,f,l),d.keywords&&n.default(u),u};i.get=(u,d="full")=>{const l=(d==="fast"?r.fastFormats:r.fullFormats)[u];if(!l)throw new Error(`Unknown format "${u}"`);return l};function c(u,d,f,l){var h,y;(h=(y=u.opts.code).formats)!==null&&h!==void 0||(y.formats=s._`require("ajv-formats/dist/formats").${l}`);for(const v of d)u.addFormat(v,f[v])}t.exports=e=i,Object.defineProperty(e,"__esModule",{value:!0}),e.default=i})(pr,pr.exports)),pr.exports}var sf=nf();const wa=Va(sf),af={allErrors:!0,multipleOfPrecision:8,strict:!1,verbose:!0,discriminator:!1},of=/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,cf=/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/;function lf(t,e,r={},n,s=ef){const a=new s({...af,...r});return n?wa(a,n):n!==!1&&wa(a),a.addFormat("data-url",cf),a.addFormat("color",of),a.addKeyword(Pt),a.addKeyword($n),Array.isArray(t)&&a.addMetaSchema(t),Pe(e)&&Object.keys(e).forEach(o=>{a.addFormat(o,e[o])}),a}function df(t=[],e){return t.map(r=>{var n;const{instancePath:s,keyword:a,params:o,schemaPath:i,parentSchema:c,...u}=r;let{message:d=""}=u,f=s.replace(/\//g,"."),l=`${f} ${d}`.trim();const h=[...((n=o.deps)===null||n===void 0?void 0:n.split(", "))||[],o.missingProperty,o.property].filter(y=>y);if(h.length>0)h.forEach(y=>{const v=f?`${f}.${y}`:y;let p=ee(z(e,`${v.replace(/^\./,"")}`)).title;if(p===void 0){const g=i.replace(/\/properties\//g,"/").split("/").slice(1,-1).concat([y]);p=ee(z(e,g)).title}if(p)d=d.replace(`'${y}'`,`'${p}'`);else{const g=z(c,[he,y,"title"]);g&&(d=d.replace(`'${y}'`,`'${g}'`))}}),l=d;else{const y=ee(z(e,`${f.replace(/^\./,"")}`)).title;if(y)l=`'${y}' ${d}`.trim();else{const v=c?.title;v&&(l=`'${v}' ${d}`.trim())}}return"missingProperty"in o&&(f=f?`${f}.${o.missingProperty}`:o.missingProperty),{name:a,property:f,message:d,params:o,stack:l,schemaPath:i}})}function uf(t,e,r,n,s,a,o){const{validationError:i}=e;let c=df(e.errors,o);i&&(c=[...c,{stack:i.message}]),typeof a=="function"&&(c=a(c,o));let u=Ho(c);if(i&&(u={...u,$schema:{__errors:[i.message]}}),typeof s!="function")return{errors:c,errorSchema:u};const d=qa(t,n,r,n,!0),f=s(d,Cr(d),o),l=On(f);return br({errors:c,errorSchema:u},l)}class ff{constructor(e,r){const{additionalMetaSchemas:n,customFormats:s,ajvOptionsOverrides:a,ajvFormatOptions:o,AjvClass:i}=e;this.ajv=lf(n,s,a,o,i),this.localizer=r}reset(){this.ajv.removeSchema()}rawValidation(e,r){var n,s;let a,o;e[Re]&&(o=this.ajv.getSchema(e[Re]));try{o===void 0&&(o=this.ajv.compile(e)),o(r)}catch(c){a=c}let i;return o&&(typeof this.localizer=="function"&&(((n=o.errors)!==null&&n!==void 0?n:[]).forEach(c=>{var u;["missingProperty","property"].forEach(d=>{var f;!((f=c.params)===null||f===void 0)&&f[d]&&(c.params[d]=`'${c.params[d]}'`)}),!((u=c.params)===null||u===void 0)&&u.deps&&(c.params.deps=c.params.deps.split(", ").map(d=>`'${d}'`).join(", "))}),this.localizer(o.errors),((s=o.errors)!==null&&s!==void 0?s:[]).forEach(c=>{var u;["missingProperty","property"].forEach(d=>{var f;!((f=c.params)===null||f===void 0)&&f[d]&&(c.params[d]=c.params[d].slice(1,-1))}),!((u=c.params)===null||u===void 0)&&u.deps&&(c.params.deps=c.params.deps.split(", ").map(d=>d.slice(1,-1)).join(", "))})),i=o.errors||void 0,o.errors=null),{errors:i,validationError:a}}validateFormData(e,r,n,s,a){const o=this.rawValidation(r,e);return uf(this,o,e,r,n,s,a)}handleSchemaUpdate(e){var r,n;const s=(r=e[Re])!==null&&r!==void 0?r:Ua;this.ajv.getSchema(s)===void 0?this.ajv.addSchema(e,s):me(e,(n=this.ajv.getSchema(s))===null||n===void 0?void 0:n.schema)||(this.ajv.removeSchema(s),this.ajv.addSchema(e,s))}isValid(e,r,n){var s;try{this.handleSchemaUpdate(n);const a=Tn(e),o=(s=a[Re])!==null&&s!==void 0?s:Bo(a);let i;return i=this.ajv.getSchema(o),i===void 0&&(i=this.ajv.addSchema(a,o).getSchema(o)||this.ajv.compile(a)),i(r)}catch(a){return console.warn("Error encountered compiling schema:",a),!1}}}function mf(t={},e){return new ff(t,e)}const Rf=mf();export{wo as A,bd as F,Df as M,xf as W,ei as a,Me as b,Oe as c,xo as d,jt as e,jn as f,Z as g,Sd as h,Hn as i,Wa as j,it as l,Rf as v};
