import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{x as s}from"./useFiles-C5IkgHKR.js";import{r as i}from"./index-BvwUSpoE.js";import{C as u}from"./ConfirmationDialog-D-aBuUJz.js";import{W as c}from"./WarningDialog-B9A9yJS2.js";import{E as m}from"./EntityFinder-DPa4QOjt.js";import{B as f}from"./Box-Dehh3oxZ.js";import{T as p}from"./Typography-BE4rHoNc.js";const y="Unsaved Changes",a=e=>{const[n,l]=i.useState([]);i.useEffect(()=>{e.initialSelected&&l(e.initialSelected)},[e.initialSelected]);const[r,o]=i.useState(!1),d=i.useMemo(()=>e.initialSelected==null?n.length>0:s(e.initialSelected,n),[e.initialSelected,n]);return t.jsxs(t.Fragment,{children:[t.jsx(c,{title:y,content:"Any unsaved changes will be lost. Are you sure you want to close the finder?",open:r,confirmButtonText:"Close Finder",onConfirm:()=>{o(!1),e.onCancel()},onCancel:()=>{o(!1)}}),t.jsx(u,{open:e.show,title:e.title,fullWidth:!1,maxWidth:"xl",titleHelpPopoverProps:e.titleHelpPopoverProps,confirmButtonProps:{children:e.confirmButtonCopy},onConfirm:()=>{e.onConfirm(n)},onCancel:()=>{d?o(!0):e.onCancel()},content:t.jsxs(f,{children:[t.jsx(p,{variant:"body1",sx:{mb:"10px",minWidth:"100%",width:0},children:e.promptCopy}),t.jsx(m,{...e.configuration,initialSelected:e.initialSelected,onSelectedChange:l})]})})]})};try{a.displayName="EntityFinderModal",a.__docgenInfo={description:"",displayName:"EntityFinderModal",props:{configuration:{defaultValue:null,description:"",name:"configuration",required:!0,type:{name:'Omit<EntityFinderProps, "onSelectedChange">'}},show:{defaultValue:null,description:"",name:"show",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},titleHelpPopoverProps:{defaultValue:null,description:"",name:"titleHelpPopoverProps",required:!1,type:{name:"HelpPopoverProps"}},onConfirm:{defaultValue:null,description:"",name:"onConfirm",required:!0,type:{name:"(selected: Reference[]) => void"}},confirmButtonCopy:{defaultValue:null,description:"",name:"confirmButtonCopy",required:!0,type:{name:"string"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}},promptCopy:{defaultValue:null,description:"",name:"promptCopy",required:!1,type:{name:"string"}},initialSelected:{defaultValue:null,description:"",name:"initialSelected",required:!1,type:{name:"Reference[]"}}}}}catch{}export{a as E};
