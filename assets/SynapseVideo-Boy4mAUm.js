import{j as t}from"./jsx-runtime-DBMcmXCa.js";import{l as I,N as v,I as x}from"./useFiles-BCC9o9bm.js";import{S as w}from"./SynapseConstants-D6yJoWPV.js";import{r as a}from"./index-DBlnVwD8.js";import{F}from"./VerificationSubmission-B0kBNeMy.js";import"./StringUtils-CzgJJW-6.js";import"./OrientationBanner-D1D6xyRZ.js";function u({params:e}){const{accessToken:i}=I(),[o,c]=a.useState(),[p,m]=a.useState(),d=e.width??"",r=e.height??"";return a.useEffect(()=>{const y=()=>{if(e.videoId)c(`https://www.youtube.com/embed/${e.videoId}`);else if(e.vimeoId)c(`https://player.vimeo.com/video/${e.vimeoId}`);else{const s=e.oggSynapseId||e.mp4SynapseId||e.webmSynapseId;v(i,s).then(n=>{const g=[{associateObjectId:s,associateObjectType:F.FileEntity,fileHandleId:n.dataFileHandleId}];f(g,n.dataFileHandleId)})}},f=(s,n)=>{x({includeFileHandles:!1,includePreSignedURLs:!0,includePreviewPreSignedURLs:!1,requestedFiles:s},i).then(l=>{const{preSignedURL:h}=l.requestedFiles.filter(S=>S.fileHandleId===n)[0];m(h)}).catch(l=>{console.error("Error on getting video ",l)})};y()},[o,e,i,r,d]),p?i?t.jsx("video",{controls:!0,src:p,width:d,height:r,"data-testid":"synapse-video-url",children:"It does not support the HTML5 Video element."}):t.jsxs("p",{children:["You will need to",t.jsx("button",{"data-testid":"video-login",className:`${w} sign-in-btn default
                `,children:"Sign in"}),"in for access to that resource."]}):o?t.jsx("iframe",{title:"video frame",src:o,width:d,height:r}):t.jsx(t.Fragment,{})}try{u.displayName="SynapseVideo",u.__docgenInfo={description:"",displayName:"SynapseVideo",props:{params:{defaultValue:null,description:"",name:"params",required:!0,type:{name:"{ width?: string; height?: string; videoId?: string; vimeoId?: string; oggSynapseId?: string; mp4SynapseId?: string; webmSynapseId?: string; }"}}}}}catch{}export{u as S};
