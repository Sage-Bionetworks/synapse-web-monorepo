import{r as a,R as Z}from"./index-Cu9bd8lq.js";import{R as $}from"./index-zcEXKDIA.js";import{t as A,v as M,w as ee,x as te,y as ne,D as H,z as W,C as ae,N as K,G as U,H as ie,I as re,J as G,K as I,L as V,O as J,Q as j}from"./useFiles-Ccn28sS2.js";/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function b(){return b=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},b.apply(this,arguments)}function Q(n,t){if(n==null)return{};var e={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(e[i]=n[i]);return e}function oe(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function se(n,t){return n.button===0&&(!t||t==="_self")&&!oe(n)}const le=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ue=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ce="6";try{window.__reactRouterVersion=ce}catch{}function _e(n,t){return ee({basename:t==null?void 0:t.basename,future:b({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:A({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||fe(),routes:n,mapRouteProperties:te,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function fe(){var n;let t=(n=window)==null?void 0:n.__staticRouterHydrationData;return t&&t.errors&&(t=b({},t,{errors:de(t.errors)})),t}function de(n){if(!n)return null;let t=Object.entries(n),e={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")e[r]=new ne(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",e[r]=s}catch{}}if(e[r]==null){let o=new Error(i.message);o.stack="",e[r]=o}}else e[r]=i;return e}const X=a.createContext({isTransitioning:!1}),ve=a.createContext(new Map),he="startTransition",D=Z[he],pe="flushSync",B=$[pe];function me(n){D?D(n):n()}function k(n){B?B(n):n()}class we{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",e(r))}})}}function ke(n){let{fallbackElement:t,router:e,future:r}=n,[i,o]=a.useState(e.state),[s,h]=a.useState(),[d,l]=a.useState({isTransitioning:!1}),[u,m]=a.useState(),[w,T]=a.useState(),[g,L]=a.useState(),R=a.useRef(new Map),{v7_startTransition:C}=r||{},v=a.useCallback(c=>{C?me(c):c()},[C]),p=a.useCallback((c,S)=>{let{deletedFetchers:y,flushSync:O,viewTransitionOpts:E}=S;y.forEach(P=>R.current.delete(P)),c.fetchers.forEach((P,q)=>{P.data!==void 0&&R.current.set(q,P.data)});let Y=e.window==null||e.window.document==null||typeof e.window.document.startViewTransition!="function";if(!E||Y){O?k(()=>o(c)):v(()=>o(c));return}if(O){k(()=>{w&&(u&&u.resolve(),w.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:E.currentLocation,nextLocation:E.nextLocation})});let P=e.window.document.startViewTransition(()=>{k(()=>o(c))});P.finished.finally(()=>{k(()=>{m(void 0),T(void 0),h(void 0),l({isTransitioning:!1})})}),k(()=>T(P));return}w?(u&&u.resolve(),w.skipTransition(),L({state:c,currentLocation:E.currentLocation,nextLocation:E.nextLocation})):(h(c),l({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}))},[e.window,w,u,R,v]);a.useLayoutEffect(()=>e.subscribe(p),[e,p]),a.useEffect(()=>{d.isTransitioning&&!d.flushSync&&m(new we)},[d]),a.useEffect(()=>{if(u&&s&&e.window){let c=s,S=u.promise,y=e.window.document.startViewTransition(async()=>{v(()=>o(c)),await S});y.finished.finally(()=>{m(void 0),T(void 0),h(void 0),l({isTransitioning:!1})}),T(y)}},[v,s,u,e.window]),a.useEffect(()=>{u&&s&&i.location.key===s.location.key&&u.resolve()},[u,w,i.location,s]),a.useEffect(()=>{!d.isTransitioning&&g&&(h(g.state),l({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),L(void 0))},[d.isTransitioning,g]),a.useEffect(()=>{},[]);let f=a.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:c=>e.navigate(c),push:(c,S,y)=>e.navigate(c,{state:S,preventScrollReset:y==null?void 0:y.preventScrollReset}),replace:(c,S,y)=>e.navigate(c,{replace:!0,state:S,preventScrollReset:y==null?void 0:y.preventScrollReset})}),[e]),x=e.basename||"/",_=a.useMemo(()=>({router:e,navigator:f,static:!1,basename:x}),[e,f,x]),N=a.useMemo(()=>({v7_relativeSplatPath:e.future.v7_relativeSplatPath}),[e.future.v7_relativeSplatPath]);return a.createElement(a.Fragment,null,a.createElement(H.Provider,{value:_},a.createElement(W.Provider,{value:i},a.createElement(ve.Provider,{value:R.current},a.createElement(X.Provider,{value:d},a.createElement(M,{basename:x,location:i.location,navigationType:i.historyAction,navigator:f,future:N},i.initialized||e.future.v7_partialHydration?a.createElement(ge,{routes:e.routes,future:e.future,state:i}):t))))),null)}const ge=a.memo(ye);function ye(n){let{routes:t,future:e,state:r}=n;return ae(t,void 0,r,e)}function Ne(n){let{basename:t,children:e,future:r,window:i}=n,o=a.useRef();o.current==null&&(o.current=A({window:i,v5Compat:!0}));let s=o.current,[h,d]=a.useState({action:s.action,location:s.location}),{v7_startTransition:l}=r||{},u=a.useCallback(m=>{l&&D?D(()=>d(m)):d(m)},[d,l]);return a.useLayoutEffect(()=>s.listen(u),[s,u]),a.createElement(M,{basename:t,children:e,location:h.location,navigationType:h.action,navigator:s,future:r})}const Re=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Se=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=a.forwardRef(function(t,e){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:h,target:d,to:l,preventScrollReset:u,viewTransition:m}=t,w=Q(t,le),{basename:T}=a.useContext(K),g,L=!1;if(typeof l=="string"&&Se.test(l)&&(g=l,Re))try{let p=new URL(window.location.href),f=l.startsWith("//")?new URL(p.protocol+l):new URL(l),x=U(f.pathname,T);f.origin===p.origin&&x!=null?l=x+f.search+f.hash:L=!0}catch{}let R=ie(l,{relative:i}),C=xe(l,{replace:s,state:h,target:d,preventScrollReset:u,relative:i,viewTransition:m});function v(p){r&&r(p),p.defaultPrevented||C(p)}return a.createElement("a",b({},w,{href:g||R,onClick:L||o?r:v,ref:e,target:d}))}),Oe=a.forwardRef(function(t,e){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:h,to:d,viewTransition:l,children:u}=t,m=Q(t,ue),w=I(d,{relative:m.relative}),T=G(),g=a.useContext(W),{navigator:L,basename:R}=a.useContext(K),C=g!=null&&Ce(w)&&l===!0,v=L.encodeLocation?L.encodeLocation(w).pathname:w.pathname,p=T.pathname,f=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(p=p.toLowerCase(),f=f?f.toLowerCase():null,v=v.toLowerCase()),f&&R&&(f=U(f,R)||f);const x=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let _=p===v||!s&&p.startsWith(v)&&p.charAt(x)==="/",N=f!=null&&(f===v||!s&&f.startsWith(v)&&f.charAt(v.length)==="/"),c={isActive:_,isPending:N,isTransitioning:C},S=_?r:void 0,y;typeof o=="function"?y=o(c):y=[o,_?"active":null,N?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let O=typeof h=="function"?h(c):h;return a.createElement(Te,b({},m,{"aria-current":S,className:y,ref:e,style:O,to:d,viewTransition:l}),typeof u=="function"?u(c):u)});var F;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(F||(F={}));var z;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(z||(z={}));function Le(n){let t=a.useContext(H);return t||J(!1),t}function xe(n,t){let{target:e,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:h}=t===void 0?{}:t,d=re(),l=G(),u=I(n,{relative:s});return a.useCallback(m=>{if(se(m,e)){m.preventDefault();let w=r!==void 0?r:V(l)===V(u);d(n,{replace:w,state:i,preventScrollReset:o,relative:s,viewTransition:h})}},[l,d,u,r,i,e,n,o,s,h])}function Ce(n,t){t===void 0&&(t={});let e=a.useContext(X);e==null&&J(!1);let{basename:r}=Le(F.useViewTransitionState),i=I(n,{relative:t.relative});if(!e.isTransitioning)return!1;let o=U(e.currentLocation.pathname,r)||e.currentLocation.pathname,s=U(e.nextLocation.pathname,r)||e.nextLocation.pathname;return j(i.pathname,s)!=null||j(i.pathname,o)!=null}export{Ne as B,Te as L,Oe as N,ke as R,_e as c};
