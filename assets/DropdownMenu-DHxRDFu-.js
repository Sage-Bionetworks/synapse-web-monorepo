import{j as o}from"./jsx-runtime-D-SIz4dp.js";import{r as l}from"./index-BLuaxJdW.js";import{I as c}from"./IconSvg-CKwUlX1I.js";import{B as m}from"./Button-BMCKPFxv.js";import{T as f}from"./Typography-CXTgn5CW.js";import{T as x}from"./Tooltip-CxJlSVKY.js";import{P as D}from"./Popper-CNjlG3Og.js";import{F as B}from"./Fade-DdptOtF4.js";import{P as L}from"./Paper-CdNeJFNE.js";import{C as P}from"./ClickAwayListener-olWHxvjF.js";import{M as S}from"./MenuList-CqKVQZ4e.js";import{M as _}from"./MenuItem-B-G_24wZ.js";import{L as q}from"./ListItemIcon-CgQ2sh-o.js";import{L as V}from"./ListItemText-BY7YKYmI.js";import{D as E}from"./Divider-DdUOiMxd.js";function h(p){const{buttonTooltip:d,dropdownButtonText:y,items:s=[],convertSingleItemToButton:I=!0,renderMenuIfNoItems:b=!1,buttonProps:j={}}=p,r=l.useId(),[i,t]=l.useState(!1),a=l.useRef(null),u=s.flat().length;if(!b&&u===0)return null;if(I&&u===1){const e=s.flat()[0];return o.jsx(m,{component:"href"in e?"a":"button",title:e.tooltipText,variant:"outlined",href:"href"in e?e.href:void 0,rel:"href"in e?"noopener noreferrer":void 0,onClick:"onClick"in e?e.onClick:void 0,disabled:e.disabled,endIcon:e.icon&&o.jsx(c,{icon:e.icon,wrap:!1}),children:o.jsx(f,{variant:"buttonLink",children:e.text})})}const v=()=>{t(e=>!e)},T=e=>{a.current&&a.current.contains(e.target)||t(!1)};function g(e){e.key==="Tab"?(e.preventDefault(),t(!1)):e.key==="Escape"&&t(!1)}return o.jsxs(o.Fragment,{children:[o.jsx(x,{title:d?o.jsx("div",{style:{whiteSpace:"pre-line"},children:d}):void 0,placement:"top",children:o.jsx("span",{children:o.jsx(m,{variant:"outlined",ref:a,id:`composition-button-${r}`,"aria-controls":i?`composition-menu-${r}`:void 0,"aria-expanded":i?"true":void 0,"aria-haspopup":"true",onClick:v,...j,children:o.jsx(f,{variant:"buttonLink",children:y})})})}),o.jsx(D,{open:i,anchorEl:a.current,role:void 0,placement:"bottom-end",transition:!0,style:{zIndex:10},children:({TransitionProps:e})=>o.jsx(B,{...e,children:o.jsx(L,{children:o.jsx(P,{onClickAway:T,children:o.jsx(S,{autoFocusItem:i,id:`composition-menu-${r}`,"aria-labelledby":`composition-button-${r}`,onKeyDown:g,children:s.map((w,M,k)=>[w.map(n=>o.jsx(x,{title:n.tooltipText,placement:"left",children:o.jsxs(_,{component:"a",sx:{"&:hover":{color:"unset"},"&:focus":{color:"unset",textDecoration:"unset"}},disabled:n.disabled,href:"href"in n?n.href:void 0,rel:"href"in n?"noopener noreferrer":void 0,style:{pointerEvents:"auto"},onClick:C=>{!n.disabled&&"onClick"in n&&n.onClick&&(t(!1),n.onClick(C))},children:[o.jsx(q,{style:{minWidth:"30px"},children:n.icon&&o.jsx(c,{icon:n.icon,sx:{width:"17px",height:"17px",...n.iconSx},wrap:!1})}),o.jsx(V,{primaryTypographyProps:{variant:"smallText1",sx:n.textSx},sx:{marginTop:0},children:n.text})]})},n.text)),M<k.length-1&&o.jsx(E,{})])})})})})})]})}try{h.displayName="DropdownMenu",h.__docgenInfo={description:"The DropdownMenu component provides a generic way to compose a MUI dropdown menu.",displayName:"DropdownMenu",props:{items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"DropdownMenuItem[][]"}},dropdownButtonText:{defaultValue:null,description:"",name:"dropdownButtonText",required:!0,type:{name:"string"}},buttonTooltip:{defaultValue:null,description:"",name:"buttonTooltip",required:!1,type:{name:"string"}},buttonProps:{defaultValue:null,description:"",name:"buttonProps",required:!1,type:{name:"ButtonProps"}},convertSingleItemToButton:{defaultValue:null,description:"",name:"convertSingleItemToButton",required:!1,type:{name:"boolean"}},renderMenuIfNoItems:{defaultValue:null,description:"",name:"renderMenuIfNoItems",required:!1,type:{name:"boolean"}}}}}catch{}export{h as D};
