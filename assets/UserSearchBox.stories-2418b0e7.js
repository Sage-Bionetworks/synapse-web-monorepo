import{j as V,F as je,a as qe}from"./jsx-runtime-9dc53467.js";import{P as o}from"./index-9d475cdf.js";import{r as oe}from"./index-76fb7be0.js";import"./index-8d9ddb1f.js";import{_ as ce}from"./tslib.es6-9c2726d7.js";import{b6 as Ye}from"./SynapseClient-7700f4cc.js";import{U as Xe}from"./UserOrTeamBadge-3da677f6.js";import"./_commonjsHelpers-de833af9.js";import"./SynapseConstants-c93e8ee4.js";import"./OrientationBanner-c0eacdfc.js";import"./FullWidthAlert-77167a31.js";import"./Alert-f631f725.js";import"./styled-87b6157a.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-55b21f7f.js";import"./createSvgIcon-397996e3.js";import"./Paper-625f2e68.js";import"./IconButton-30f6f351.js";import"./ButtonBase-651ec7a9.js";import"./emotion-react.browser.esm-6130a288.js";import"./assertThisInitialized-081f9914.js";import"./inheritsLoose-c82a83d4.js";import"./TransitionGroupContext-1474f578.js";import"./useForkRef-8feb2ebf.js";import"./useIsFocusVisible-e5f6c995.js";import"./Stack-eb200119.js";import"./extendSxProp-c4113ea3.js";import"./Box-737945d6.js";import"./AlertTitle-38884730.js";import"./Typography-62cfc992.js";import"./useTheme-58bb7d64.js";import"./Grow-08403985.js";import"./isHostComponent-fa76b8d9.js";import"./index-d3ea75b5.js";import"./utils-830530e5.js";import"./ClickAwayListener-3907f9d7.js";import"./Tooltip-e8bd1358.js";import"./Button-a2b8b546.js";import"./getEndpoint-ac94413e.js";import"./InfoTwoTone-bbc735a3.js";import"./CheckCircleTwoTone-8a62494f.js";import"./inputBaseClasses-888452c9.js";import"./Fade-3c4a970e.js";import"./Link-adab3de3.js";import"./_getTag-dcd38d76.js";import"./_Map-02912bad.js";import"./isArray-5e3f9107.js";import"./StringUtils-2ea3ab4d.js";import"./index-3a31b023.js";import"./dayjs.min-f79c4412.js";import"./tiny-invariant-dd7d57d2.js";import"./UserBadge-43829a76.js";import"./Menu-b29d7520.js";import"./index-c71daf5e.js";import"./Modal-a7690934.js";import"./Backdrop-f4f4944d.js";import"./getScrollbarSize-ac846fe6.js";import"./ownerWindow-2c76219e.js";import"./createChainedFunction-0bab83cf.js";import"./MenuList-7e60caa0.js";import"./List-507b8078.js";import"./IconSvg-b2c8dc9b.js";import"./ErrorOutlined-20d019ce.js";import"./GetAppTwoTone-ce03f56d.js";import"./InfoOutlined-e67f3aa8.js";import"./cloneDeep-4246eae0.js";import"./_baseClone-9db79a00.js";import"./_Uint8Array-595ed3dd.js";import"./_baseTimes-8715be3e.js";import"./_initCloneObject-b3d76b79.js";import"./_getAllKeys-fa8e70cf.js";import"./SkeletonTable-04ae7db3.js";import"./times-c23b3cf2.js";import"./identity-46f208ab.js";import"./toInteger-8c467ff1.js";import"./isSymbol-7c514724.js";import"./Skeleton-b82f86a8.js";import"./ToastMessage-9aa3d9c5.js";import"./CSSTransition-cd764f80.js";import"./hasClass-ec9efd32.js";import"./uniqueId-4d05949d.js";import"./toString-cc90cb98.js";import"./Divider-1f110b7b.js";import"./dividerClasses-3ebb5c26.js";import"./MenuItem-100d659d.js";import"./Card-1fb1094a.js";import"./Avatar-ae1c3f3d.js";function ge(i){return typeof i=="object"&&i!=null&&i.nodeType===1}function me(i,s){return(!s||i!=="hidden")&&i!=="visible"&&i!=="clip"}function ie(i,s){if(i.clientHeight<i.scrollHeight||i.clientWidth<i.scrollWidth){var n=getComputedStyle(i,null);return me(n.overflowY,s)||me(n.overflowX,s)||function(e){var u=function(h){if(!h.ownerDocument||!h.ownerDocument.defaultView)return null;try{return h.ownerDocument.defaultView.frameElement}catch{return null}}(e);return!!u&&(u.clientHeight<e.scrollHeight||u.clientWidth<e.scrollWidth)}(i)}return!1}function X(i,s,n,e,u,h,d,p){return h<i&&d>s||h>i&&d<s?0:h<=i&&p<=n||d>=s&&p>=n?h-i-e:d>s&&p<n||h<i&&p>n?d-s+u:0}var ze=function(i,s){var n=window,e=s.scrollMode,u=s.block,h=s.inline,d=s.boundary,p=s.skipOverflowHiddenElements,C=typeof d=="function"?d:function(_e){return _e!==d};if(!ge(i))throw new TypeError("Invalid target");for(var I,S,t=document.scrollingElement||document.documentElement,r=[],l=i;ge(l)&&C(l);){if((l=(S=(I=l).parentElement)==null?I.getRootNode().host||null:S)===t){r.push(l);break}l!=null&&l===document.body&&ie(l)&&!ie(document.documentElement)||l!=null&&ie(l,p)&&r.push(l)}for(var a=n.visualViewport?n.visualViewport.width:innerWidth,c=n.visualViewport?n.visualViewport.height:innerHeight,f=window.scrollX||pageXOffset,m=window.scrollY||pageYOffset,g=i.getBoundingClientRect(),w=g.height,v=g.width,H=g.top,E=g.right,M=g.bottom,R=g.left,b=u==="start"||u==="nearest"?H:u==="end"?M:H+w/2,x=h==="center"?R+v/2:h==="end"?E:R,J=[],ee=0;ee<r.length;ee++){var y=r[ee],P=y.getBoundingClientRect(),L=P.height,K=P.width,U=P.top,te=P.right,ne=P.bottom,W=P.left;if(e==="if-needed"&&H>=0&&R>=0&&M<=c&&E<=a&&H>=U&&M<=ne&&R>=W&&E<=te)return J;var $=getComputedStyle(y),B=parseInt($.borderLeftWidth,10),F=parseInt($.borderTopWidth,10),_=parseInt($.borderRightWidth,10),j=parseInt($.borderBottomWidth,10),A=0,N=0,q="offsetWidth"in y?y.offsetWidth-y.clientWidth-B-_:0,Y="offsetHeight"in y?y.offsetHeight-y.clientHeight-F-j:0,ae="offsetWidth"in y?y.offsetWidth===0?0:K/y.offsetWidth:0,de="offsetHeight"in y?y.offsetHeight===0?0:L/y.offsetHeight:0;if(t===y)A=u==="start"?b:u==="end"?b-c:u==="nearest"?X(m,m+c,c,F,j,m+b,m+b+w,w):b-c/2,N=h==="start"?x:h==="center"?x-a/2:h==="end"?x-a:X(f,f+a,a,B,_,f+x,f+x+v,v),A=Math.max(0,A+m),N=Math.max(0,N+f);else{A=u==="start"?b-U-F:u==="end"?b-ne+j+Y:u==="nearest"?X(U,ne,L,F,j+Y,b,b+w,w):b-(U+L/2)+Y/2,N=h==="start"?x-W-B:h==="center"?x-(W+K/2)+q/2:h==="end"?x-te+_+q:X(W,te,K,B,_+q,x,x+v,v);var he=y.scrollLeft,pe=y.scrollTop;b+=pe-(A=Math.max(0,Math.min(pe+A/de,y.scrollHeight-L/de+Y))),x+=he-(N=Math.max(0,Math.min(he+N/ae,y.scrollWidth-K/ae+q)))}J.push({el:y,top:A,left:N})}return J};let Qe=0;function fe(i){return typeof i=="function"?i:O}function O(){}function Ce(i,s){if(!i)return;ze(i,{boundary:s,block:"nearest",scrollMode:"if-needed"}).forEach(e=>{let{el:u,top:h,left:d}=e;u.scrollTop=h,u.scrollLeft=d})}function Ie(i,s,n){return i===s||s instanceof n.Node&&i.contains&&i.contains(s)}function ue(i,s){let n;function e(){n&&clearTimeout(n)}function u(){for(var h=arguments.length,d=new Array(h),p=0;p<h;p++)d[p]=arguments[p];e(),n=setTimeout(()=>{n=null,i(...d)},s)}return u.cancel=e,u}function D(){for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return function(e){for(var u=arguments.length,h=new Array(u>1?u-1:0),d=1;d<u;d++)h[d-1]=arguments[d];return s.some(p=>(p&&p(e,...h),e.preventDownshiftDefault||e.hasOwnProperty("nativeEvent")&&e.nativeEvent.preventDownshiftDefault))}}function ve(){for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return e=>{s.forEach(u=>{typeof u=="function"?u(e):u&&(u.current=e)})}}function Ze(){return String(Qe++)}function Ee(i){let{isOpen:s,resultCount:n,previousResultCount:e}=i;return s?n?n!==e?`${n} result${n===1?" is":"s are"} available, use up and down arrow keys to navigate. Press Enter key to select.`:"":"No results are available.":""}function ye(i,s){return i=Array.isArray(i)?i[0]:i,!i&&s?s:i}function Ge(i){return typeof i.type=="string"}function Je(i){return i.props}const et=["highlightedIndex","inputValue","isOpen","selectedItem","type"];function z(i){i===void 0&&(i={});const s={};return et.forEach(n=>{i.hasOwnProperty(n)&&(s[n]=i[n])}),s}function tt(i,s){return Object.keys(i).reduce((n,e)=>(n[e]=re(s,e)?s[e]:i[e],n),{})}function re(i,s){return i[s]!==void 0}function we(i){const{key:s,keyCode:n}=i;return n>=37&&n<=40&&s.indexOf("Arrow")!==0?`Arrow${s}`:s}function se(i,s,n,e,u){if(u===void 0&&(u=!0),n===0)return-1;const h=n-1;(typeof s!="number"||s<0||s>=n)&&(s=i>0?-1:h+1);let d=s+i;d<0?d=u?h:0:d>h&&(d=u?0:h);const p=k(i,d,n,e,u);return p===-1?s>=n?-1:s:p}function k(i,s,n,e,u){const h=e(s);if(!h||!h.hasAttribute("disabled"))return s;if(i>0){for(let d=s+1;d<n;d++)if(!e(d).hasAttribute("disabled"))return d}else for(let d=s-1;d>=0;d--)if(!e(d).hasAttribute("disabled"))return d;return u?i>0?k(1,0,n,e,!1):k(-1,n-1,n,e,!1):-1}function Se(i,s,n,e){return e===void 0&&(e=!0),s.some(u=>u&&(Ie(u,i,n)||e&&Ie(u,n.document.activeElement,n)))}const nt=ue(i=>{Oe(i).textContent=""},500);function De(i,s){const n=Oe(s);i&&(n.textContent=i,nt(s))}function Oe(i){i===void 0&&(i=document);let s=i.getElementById("a11y-status-message");return s||(s=i.createElement("div"),s.setAttribute("id","a11y-status-message"),s.setAttribute("role","status"),s.setAttribute("aria-live","polite"),s.setAttribute("aria-relevant","additions text"),Object.assign(s.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),i.body.appendChild(s),s)}const Me=0,Ae=1,Ne=2,Z=3,G=4,Re=5,Pe=6,Ve=7,Te=8,ke=9,Le=10,Ke=11,Ue=12,We=13,$e=14,Be=15,Fe=16;var it=Object.freeze({__proto__:null,unknown:Me,mouseUp:Ae,itemMouseEnter:Ne,keyDownArrowUp:Z,keyDownArrowDown:G,keyDownEscape:Re,keyDownEnter:Pe,keyDownHome:Ve,keyDownEnd:Te,clickItem:ke,blurInput:Le,changeInput:Ke,keyDownSpaceButton:Ue,clickButton:We,blurButton:$e,controlledPropUpdatedSelectedItem:Be,touchEnd:Fe});const st=(()=>{class i extends oe.Component{constructor(n){var e;super(n),e=this,this.id=this.props.id||`downshift-${Ze()}`,this.menuId=this.props.menuId||`${this.id}-menu`,this.labelId=this.props.labelId||`${this.id}-label`,this.inputId=this.props.inputId||`${this.id}-input`,this.getItemId=this.props.getItemId||(t=>`${this.id}-item-${t}`),this.input=null,this.items=[],this.itemCount=null,this.previousResultCount=0,this.timeoutIds=[],this.internalSetTimeout=(t,r)=>{const l=setTimeout(()=>{this.timeoutIds=this.timeoutIds.filter(a=>a!==l),t()},r);this.timeoutIds.push(l)},this.setItemCount=t=>{this.itemCount=t},this.unsetItemCount=()=>{this.itemCount=null},this.setHighlightedIndex=function(t,r){t===void 0&&(t=e.props.defaultHighlightedIndex),r===void 0&&(r={}),r=z(r),e.internalSetState({highlightedIndex:t,...r})},this.clearSelection=t=>{this.internalSetState({selectedItem:null,inputValue:"",highlightedIndex:this.props.defaultHighlightedIndex,isOpen:this.props.defaultIsOpen},t)},this.selectItem=(t,r,l)=>{r=z(r),this.internalSetState({isOpen:this.props.defaultIsOpen,highlightedIndex:this.props.defaultHighlightedIndex,selectedItem:t,inputValue:this.props.itemToString(t),...r},l)},this.selectItemAtIndex=(t,r,l)=>{const a=this.items[t];a!=null&&this.selectItem(a,r,l)},this.selectHighlightedItem=(t,r)=>this.selectItemAtIndex(this.getState().highlightedIndex,t,r),this.internalSetState=(t,r)=>{let l,a;const c={},f=typeof t=="function";return!f&&t.hasOwnProperty("inputValue")&&this.props.onInputValueChange(t.inputValue,{...this.getStateAndHelpers(),...t}),this.setState(m=>{m=this.getState(m);let g=f?t(m):t;g=this.props.stateReducer(m,g),l=g.hasOwnProperty("selectedItem");const w={};return l&&g.selectedItem!==m.selectedItem&&(a=g.selectedItem),g.type=g.type||Me,Object.keys(g).forEach(v=>{m[v]!==g[v]&&(c[v]=g[v]),v!=="type"&&(g[v],re(this.props,v)||(w[v]=g[v]))}),f&&g.hasOwnProperty("inputValue")&&this.props.onInputValueChange(g.inputValue,{...this.getStateAndHelpers(),...g}),w},()=>{fe(r)(),Object.keys(c).length>1&&this.props.onStateChange(c,this.getStateAndHelpers()),l&&this.props.onSelect(t.selectedItem,this.getStateAndHelpers()),a!==void 0&&this.props.onChange(a,this.getStateAndHelpers()),this.props.onUserAction(c,this.getStateAndHelpers())})},this.rootRef=t=>this._rootNode=t,this.getRootProps=function(t,r){let{refKey:l="ref",ref:a,...c}=t===void 0?{}:t,{suppressRefError:f=!1}=r===void 0?{}:r;e.getRootProps.called=!0,e.getRootProps.refKey=l,e.getRootProps.suppressRefError=f;const{isOpen:m}=e.getState();return{[l]:ve(a,e.rootRef),role:"combobox","aria-expanded":m,"aria-haspopup":"listbox","aria-owns":m?e.menuId:null,"aria-labelledby":e.labelId,...c}},this.keyDownHandlers={ArrowDown(t){if(t.preventDefault(),this.getState().isOpen){const r=t.shiftKey?5:1;this.moveHighlightedIndex(r,{type:G})}else this.internalSetState({isOpen:!0,type:G},()=>{const r=this.getItemCount();if(r>0){const{highlightedIndex:l}=this.getState(),a=se(1,l,r,c=>this.getItemNodeFromIndex(c));this.setHighlightedIndex(a,{type:G})}})},ArrowUp(t){if(t.preventDefault(),this.getState().isOpen){const r=t.shiftKey?-5:-1;this.moveHighlightedIndex(r,{type:Z})}else this.internalSetState({isOpen:!0,type:Z},()=>{const r=this.getItemCount();if(r>0){const{highlightedIndex:l}=this.getState(),a=se(-1,l,r,c=>this.getItemNodeFromIndex(c));this.setHighlightedIndex(a,{type:Z})}})},Enter(t){if(t.which===229)return;const{isOpen:r,highlightedIndex:l}=this.getState();if(r&&l!=null){t.preventDefault();const a=this.items[l],c=this.getItemNodeFromIndex(l);if(a==null||c&&c.hasAttribute("disabled"))return;this.selectHighlightedItem({type:Pe})}},Escape(t){t.preventDefault(),this.reset({type:Re,...!this.state.isOpen&&{selectedItem:null,inputValue:""}})}},this.buttonKeyDownHandlers={...this.keyDownHandlers," "(t){t.preventDefault(),this.toggleMenu({type:Ue})}},this.inputKeyDownHandlers={...this.keyDownHandlers,Home(t){const{isOpen:r}=this.getState();if(!r)return;t.preventDefault();const l=this.getItemCount();if(l<=0||!r)return;const a=k(1,0,l,c=>this.getItemNodeFromIndex(c),!1);this.setHighlightedIndex(a,{type:Ve})},End(t){const{isOpen:r}=this.getState();if(!r)return;t.preventDefault();const l=this.getItemCount();if(l<=0||!r)return;const a=k(-1,l-1,l,c=>this.getItemNodeFromIndex(c),!1);this.setHighlightedIndex(a,{type:Te})}},this.getToggleButtonProps=function(t){let{onClick:r,onPress:l,onKeyDown:a,onKeyUp:c,onBlur:f,...m}=t===void 0?{}:t;const{isOpen:g}=e.getState(),w={onClick:D(r,e.buttonHandleClick),onKeyDown:D(a,e.buttonHandleKeyDown),onKeyUp:D(c,e.buttonHandleKeyUp),onBlur:D(f,e.buttonHandleBlur)},v=m.disabled?{}:w;return{type:"button",role:"button","aria-label":g?"close menu":"open menu","aria-haspopup":!0,"data-toggle":!0,...v,...m}},this.buttonHandleKeyUp=t=>{t.preventDefault()},this.buttonHandleKeyDown=t=>{const r=we(t);this.buttonKeyDownHandlers[r]&&this.buttonKeyDownHandlers[r].call(this,t)},this.buttonHandleClick=t=>{t.preventDefault(),this.props.environment.document.activeElement===this.props.environment.document.body&&t.target.focus(),this.internalSetTimeout(()=>this.toggleMenu({type:We}))},this.buttonHandleBlur=t=>{const r=t.target;this.internalSetTimeout(()=>{!this.isMouseDown&&(this.props.environment.document.activeElement==null||this.props.environment.document.activeElement.id!==this.inputId)&&this.props.environment.document.activeElement!==r&&this.reset({type:$e})})},this.getLabelProps=t=>({htmlFor:this.inputId,id:this.labelId,...t}),this.getInputProps=function(t){let{onKeyDown:r,onBlur:l,onChange:a,onInput:c,onChangeText:f,...m}=t===void 0?{}:t,g,w={};g="onChange";const{inputValue:v,isOpen:H,highlightedIndex:E}=e.getState();return m.disabled||(w={[g]:D(a,c,e.inputHandleChange),onKeyDown:D(r,e.inputHandleKeyDown),onBlur:D(l,e.inputHandleBlur)}),{"aria-autocomplete":"list","aria-activedescendant":H&&typeof E=="number"&&E>=0?e.getItemId(E):null,"aria-controls":H?e.menuId:null,"aria-labelledby":e.labelId,autoComplete:"off",value:v,id:e.inputId,...w,...m}},this.inputHandleKeyDown=t=>{const r=we(t);r&&this.inputKeyDownHandlers[r]&&this.inputKeyDownHandlers[r].call(this,t)},this.inputHandleChange=t=>{this.internalSetState({type:Ke,isOpen:!0,inputValue:t.target.value,highlightedIndex:this.props.defaultHighlightedIndex})},this.inputHandleBlur=()=>{this.internalSetTimeout(()=>{const t=this.props.environment.document&&!!this.props.environment.document.activeElement&&!!this.props.environment.document.activeElement.dataset&&this.props.environment.document.activeElement.dataset.toggle&&this._rootNode&&this._rootNode.contains(this.props.environment.document.activeElement);!this.isMouseDown&&!t&&this.reset({type:Le})})},this.menuRef=t=>{this._menuNode=t},this.getMenuProps=function(t,r){let{refKey:l="ref",ref:a,...c}=t===void 0?{}:t,{suppressRefError:f=!1}=r===void 0?{}:r;return e.getMenuProps.called=!0,e.getMenuProps.refKey=l,e.getMenuProps.suppressRefError=f,{[l]:ve(a,e.menuRef),role:"listbox","aria-labelledby":c&&c["aria-label"]?null:e.labelId,id:e.menuId,...c}},this.getItemProps=function(t){let{onMouseMove:r,onMouseDown:l,onClick:a,onPress:c,index:f,item:m=void 0,...g}=t===void 0?{}:t;f===void 0?(e.items.push(m),f=e.items.indexOf(m)):e.items[f]=m;const w="onClick",v=a,H={onMouseMove:D(r,()=>{f!==e.getState().highlightedIndex&&(e.setHighlightedIndex(f,{type:Ne}),e.avoidScrolling=!0,e.internalSetTimeout(()=>e.avoidScrolling=!1,250))}),onMouseDown:D(l,M=>{M.preventDefault()}),[w]:D(v,()=>{e.selectItemAtIndex(f,{type:ke})})},E=g.disabled?{onMouseDown:H.onMouseDown}:H;return{id:e.getItemId(f),role:"option","aria-selected":e.getState().highlightedIndex===f,...E,...g}},this.clearItems=()=>{this.items=[]},this.reset=function(t,r){t===void 0&&(t={}),t=z(t),e.internalSetState(l=>{let{selectedItem:a}=l;return{isOpen:e.props.defaultIsOpen,highlightedIndex:e.props.defaultHighlightedIndex,inputValue:e.props.itemToString(a),...t}},r)},this.toggleMenu=function(t,r){t===void 0&&(t={}),t=z(t),e.internalSetState(l=>{let{isOpen:a}=l;return{isOpen:!a,...a&&{highlightedIndex:e.props.defaultHighlightedIndex},...t}},()=>{const{isOpen:l,highlightedIndex:a}=e.getState();l&&e.getItemCount()>0&&typeof a=="number"&&e.setHighlightedIndex(a,t),fe(r)()})},this.openMenu=t=>{this.internalSetState({isOpen:!0},t)},this.closeMenu=t=>{this.internalSetState({isOpen:!1},t)},this.updateStatus=ue(()=>{const t=this.getState(),r=this.items[t.highlightedIndex],l=this.getItemCount(),a=this.props.getA11yStatusMessage({itemToString:this.props.itemToString,previousResultCount:this.previousResultCount,resultCount:l,highlightedItem:r,...t});this.previousResultCount=l,De(a,this.props.environment.document)},200);const{defaultHighlightedIndex:u,initialHighlightedIndex:h=u,defaultIsOpen:d,initialIsOpen:p=d,initialInputValue:C="",initialSelectedItem:I=null}=this.props,S=this.getState({highlightedIndex:h,isOpen:p,inputValue:C,selectedItem:I});S.selectedItem!=null&&this.props.initialInputValue===void 0&&(S.inputValue=this.props.itemToString(S.selectedItem)),this.state=S}internalClearTimeouts(){this.timeoutIds.forEach(n=>{clearTimeout(n)}),this.timeoutIds=[]}getState(n){return n===void 0&&(n=this.state),tt(n,this.props)}getItemCount(){let n=this.items.length;return this.itemCount!=null?n=this.itemCount:this.props.itemCount!==void 0&&(n=this.props.itemCount),n}getItemNodeFromIndex(n){return this.props.environment.document.getElementById(this.getItemId(n))}scrollHighlightedItemIntoView(){{const n=this.getItemNodeFromIndex(this.getState().highlightedIndex);this.props.scrollIntoView(n,this._menuNode)}}moveHighlightedIndex(n,e){const u=this.getItemCount(),{highlightedIndex:h}=this.getState();if(u>0){const d=se(n,h,u,p=>this.getItemNodeFromIndex(p));this.setHighlightedIndex(d,e)}}getStateAndHelpers(){const{highlightedIndex:n,inputValue:e,selectedItem:u,isOpen:h}=this.getState(),{itemToString:d}=this.props,{id:p}=this,{getRootProps:C,getToggleButtonProps:I,getLabelProps:S,getMenuProps:t,getInputProps:r,getItemProps:l,openMenu:a,closeMenu:c,toggleMenu:f,selectItem:m,selectItemAtIndex:g,selectHighlightedItem:w,setHighlightedIndex:v,clearSelection:H,clearItems:E,reset:M,setItemCount:R,unsetItemCount:b,internalSetState:x}=this;return{getRootProps:C,getToggleButtonProps:I,getLabelProps:S,getMenuProps:t,getInputProps:r,getItemProps:l,reset:M,openMenu:a,closeMenu:c,toggleMenu:f,selectItem:m,selectItemAtIndex:g,selectHighlightedItem:w,setHighlightedIndex:v,clearSelection:H,clearItems:E,setItemCount:R,unsetItemCount:b,setState:x,itemToString:d,id:p,highlightedIndex:n,inputValue:e,isOpen:h,selectedItem:u}}componentDidMount(){{const n=()=>{this.isMouseDown=!0},e=C=>{this.isMouseDown=!1,!Se(C.target,[this._rootNode,this._menuNode],this.props.environment)&&this.getState().isOpen&&this.reset({type:Ae},()=>this.props.onOuterClick(this.getStateAndHelpers()))},u=()=>{this.isTouchMove=!1},h=()=>{this.isTouchMove=!0},d=C=>{const I=Se(C.target,[this._rootNode,this._menuNode],this.props.environment,!1);!this.isTouchMove&&!I&&this.getState().isOpen&&this.reset({type:Fe},()=>this.props.onOuterClick(this.getStateAndHelpers()))},{environment:p}=this.props;p.addEventListener("mousedown",n),p.addEventListener("mouseup",e),p.addEventListener("touchstart",u),p.addEventListener("touchmove",h),p.addEventListener("touchend",d),this.cleanup=()=>{this.internalClearTimeouts(),this.updateStatus.cancel(),p.removeEventListener("mousedown",n),p.removeEventListener("mouseup",e),p.removeEventListener("touchstart",u),p.removeEventListener("touchmove",h),p.removeEventListener("touchend",d)}}}shouldScroll(n,e){const{highlightedIndex:u}=this.props.highlightedIndex===void 0?this.getState():this.props,{highlightedIndex:h}=e.highlightedIndex===void 0?n:e;return u&&this.getState().isOpen&&!n.isOpen||u!==h}componentDidUpdate(n,e){re(this.props,"selectedItem")&&this.props.selectedItemChanged(n.selectedItem,this.props.selectedItem)&&this.internalSetState({type:Be,inputValue:this.props.itemToString(this.props.selectedItem)}),!this.avoidScrolling&&this.shouldScroll(e,n)&&this.scrollHighlightedItemIntoView(),this.updateStatus()}componentWillUnmount(){this.cleanup()}render(){const n=ye(this.props.children,O);this.clearItems(),this.getRootProps.called=!1,this.getRootProps.refKey=void 0,this.getRootProps.suppressRefError=void 0,this.getMenuProps.called=!1,this.getMenuProps.refKey=void 0,this.getMenuProps.suppressRefError=void 0,this.getLabelProps.called=!1,this.getInputProps.called=!1;const e=ye(n(this.getStateAndHelpers()));if(!e)return null;if(this.getRootProps.called||this.props.suppressRefError)return e;if(Ge(e))return oe.cloneElement(e,this.getRootProps(Je(e)))}}return i.defaultProps={defaultHighlightedIndex:null,defaultIsOpen:!1,getA11yStatusMessage:Ee,itemToString:s=>s==null?"":String(s),onStateChange:O,onInputValueChange:O,onUserAction:O,onChange:O,onSelect:O,onOuterClick:O,selectedItemChanged:(s,n)=>s!==n,environment:typeof window>"u"?{}:window,stateReducer:(s,n)=>n,suppressRefError:!1,scrollIntoView:Ce},i.stateChangeTypes=it,i})();var ot=st;function rt(i,s){return s.changes}function lt(i){const{selectedItem:s,itemToString:n}=i;return s?`${n(s)} has been selected.`:""}ue((i,s)=>{De(i(),s)},200);function ut(i){return i?String(i):""}const T={itemToString:ut,stateReducer:rt,getA11ySelectionMessage:lt,scrollIntoView:Ce,circularNavigation:!1,environment:typeof window>"u"?{}:window};o.array.isRequired,o.func,o.func,o.func,o.bool,o.number,o.number,o.number,o.bool,o.bool,o.bool,o.any,o.any,o.any,o.string,o.string,o.string,o.func,o.string,o.func,o.func,o.func,o.func,o.func,o.shape({addEventListener:o.func,removeEventListener:o.func,document:o.shape({getElementById:o.func,activeElement:o.any,body:o.any})});function at(i){var s=i.isOpen,n=i.resultCount,e=i.previousResultCount;return s?n?n!==e?"".concat(n," result").concat(n===1?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""}ce(ce({},T),{getA11yStatusMessage:at});o.array.isRequired,o.func,o.func,o.func,o.bool,o.number,o.number,o.number,o.bool,o.bool,o.bool,o.any,o.any,o.any,o.string,o.string,o.string,o.string,o.string,o.string,o.func,o.string,o.string,o.func,o.func,o.func,o.func,o.func,o.func,o.shape({addEventListener:o.func,removeEventListener:o.func,document:o.shape({getElementById:o.func,activeElement:o.any,body:o.any})});({...T});function dt(i){const{removedSelectedItem:s,itemToString:n}=i;return`${n(s)} has been removed.`}o.array,o.array,o.array,o.func,o.func,o.func,o.number,o.number,o.number,o.func,o.func,o.string,o.string,o.shape({addEventListener:o.func,removeEventListener:o.func,document:o.shape({getElementById:o.func,activeElement:o.any,body:o.any})});T.itemToString,T.stateReducer,T.environment;const le=i=>{const{id:s,onSelectCallback:n,filterUserIds:e,typeFilter:u}=i,[h,d]=oe.useState([]),p=async I=>{try{const S=await Ye(I,u),t=e!=null&&e.length?S.children.filter(r=>!e.includes(r.ownerId)):S.children;d(t)}catch(S){console.log("onInputValueChange",S)}},C=I=>{n&&n(I)};return V(je,{children:V(ot,{onInputValueChange:I=>{p(I)},onChange:I=>C(I),itemToString:I=>I!=null&&I.name?I.name:"",children:({getInputProps:I,getMenuProps:S,getItemProps:t,isOpen:r,inputValue:l})=>qe("div",{className:"user-search-box",children:[V("input",{...I({className:"form-control",id:s,type:"search",role:"searchbox",placeholder:"Enter the name..."}),style:{marginBottom:"0"}}),V("ul",{...S(),className:r?"users-visible":"",role:"list",children:r?h.filter(a=>!l||`${a.firstName} ${a.lastName}`.includes(l)||a.userName.includes(l)).map((a,c)=>V("li",{...t({key:a.ownerId,index:c,item:a}),children:V(Xe,{userGroupHeader:a,disableHref:!0,showFullName:!0})},`userSearchBox-${c}`)):null})]})})})};try{le.displayName="UserSearchBox",le.__docgenInfo={description:"",displayName:"UserSearchBox",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},onSelectCallback:{defaultValue:null,description:"",name:"onSelectCallback",required:!1,type:{name:"((selected: UserGroupHeader) => void)"}},typeFilter:{defaultValue:null,description:"",name:"typeFilter",required:!1,type:{name:"enum",value:[{value:'"USERS_ONLY"'},{value:'"TEAMS_ONLY"'},{value:'"ALL"'}]}},filterUserIds:{defaultValue:null,description:"",name:"filterUserIds",required:!1,type:{name:"string[]"}}}}}catch{}const _n={title:"UI/UserSearchBox",component:le},Q={};var be,xe,He;Q.parameters={...Q.parameters,docs:{...(be=Q.parameters)==null?void 0:be.docs,source:{originalSource:"{}",...(He=(xe=Q.parameters)==null?void 0:xe.docs)==null?void 0:He.source}}};const jn=["Demo"];export{Q as Demo,jn as __namedExportsOrder,_n as default};
