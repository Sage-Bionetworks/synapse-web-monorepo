{"version":3,"file":"mockFileEntity-590984d1.js","sources":["../../src/mocks/entity/mockFileEntity.ts"],"sourcesContent":["import {\n  ACCESS_TYPE,\n  AnnotationsValueType,\n  EntityBundle,\n  EntityHeader,\n  EntityJson,\n  EntityPath,\n  EntityType,\n  FileEntity,\n  RestrictionLevel,\n  VersionInfo,\n} from '@sage-bionetworks/synapse-types'\nimport {\n  MOCK_FILE_HANDLE_ID,\n  mockFileHandle,\n  mockPreviewFileHandle,\n} from '../mock_file_handle'\nimport { MOCK_USER_ID, MOCK_USER_ID_2 } from '../user/mock_user_profile'\nimport { MockEntityData } from './MockEntityData'\nimport mockProject from './mockProject'\nimport { times } from 'lodash-es'\nimport { generateBaseEntity } from '../faker/generateFakeEntity'\n\nconst parentId = mockProject.id\nconst projectName = mockProject.name\n\nexport const MOCK_FILE_ENTITY_ID = `syn30000`\nexport const MOCK_FILE_NAME = 'My mock file entity'\n\n// TODO: Create a mock wiki\nconst MOCK_WIKI_ID = '45745485'\n\nconst mockFileEntity: FileEntity = {\n  id: MOCK_FILE_ENTITY_ID,\n  parentId: parentId,\n  dataFileHandleId: MOCK_FILE_HANDLE_ID,\n  name: MOCK_FILE_NAME,\n  concreteType: 'org.sagebionetworks.repo.model.FileEntity',\n  createdBy: MOCK_USER_ID.toString(),\n  modifiedBy: MOCK_USER_ID_2.toString(),\n  etag: '00000000-0000-0000-0000-000000000000',\n  versionNumber: 3,\n  versionLabel: 'a label for version 3',\n  isLatestVersion: true,\n  createdOn: '2021-03-02T15:05:34.973Z',\n  modifiedOn: '2021-03-05T11:31:24.521Z',\n}\n\nconst mockFileEntityVersionInfo: VersionInfo[] = [\n  {\n    id: MOCK_FILE_ENTITY_ID,\n    modifiedBy: MOCK_USER_ID.toString(),\n    versionNumber: 1,\n    versionLabel: 'a label for version 1',\n    versionComment: 'a comment',\n    contentSize: '100',\n    contentMd5: 'd836adae5632872014783b05cd2f76d7',\n    modifiedByPrincipalId: MOCK_USER_ID.toString(),\n    modifiedOn: '2021-03-02T15:05:34.973Z',\n    isLatestVersion: false,\n  },\n  {\n    id: MOCK_FILE_ENTITY_ID,\n    modifiedBy: MOCK_USER_ID.toString(),\n    versionNumber: 3,\n    versionLabel: 'a label for version 3',\n    versionComment: 'a comment about version 3',\n    contentSize: '100',\n    contentMd5: 'bc91a4a16ccb21944fcee55275dc4574',\n    modifiedByPrincipalId: MOCK_USER_ID.toString(),\n    modifiedOn: '2021-03-05T11:31:24.521Z',\n    isLatestVersion: true,\n  },\n]\n\nconst mockFileEntityVersions: Record<number, FileEntity> = {\n  3: {\n    id: MOCK_FILE_ENTITY_ID,\n    parentId: parentId,\n    dataFileHandleId: MOCK_FILE_HANDLE_ID,\n    name: MOCK_FILE_NAME,\n    concreteType: 'org.sagebionetworks.repo.model.FileEntity',\n    createdBy: MOCK_USER_ID.toString(),\n    modifiedBy: MOCK_USER_ID.toString(),\n    etag: '00000000-0000-0000-0000-000000000000',\n    versionNumber: 3,\n    versionLabel: 'a label for version 3',\n    isLatestVersion: true,\n  },\n  1: {\n    id: MOCK_FILE_ENTITY_ID,\n    parentId: parentId,\n    dataFileHandleId: MOCK_FILE_HANDLE_ID,\n    name: MOCK_FILE_NAME,\n    concreteType: 'org.sagebionetworks.repo.model.FileEntity',\n    createdBy: MOCK_USER_ID.toString(),\n    modifiedBy: MOCK_USER_ID.toString(),\n    etag: '00000000-0000-0000-0000-000000000000',\n    versionNumber: 1,\n    versionLabel: 'a label for version 1',\n    isLatestVersion: false,\n  },\n}\n\nconst filePath: EntityPath = {\n  path: [\n    {\n      name: 'root',\n      id: 'syn4489',\n      type: 'org.sagebionetworks.repo.model.Folder',\n    },\n    {\n      name: projectName,\n      id: parentId,\n      type: 'org.sagebionetworks.repo.model.Project',\n    },\n    {\n      name: MOCK_FILE_NAME,\n      id: MOCK_FILE_ENTITY_ID,\n      type: 'org.sagebionetworks.repo.model.FileEntity',\n    },\n  ],\n}\n\nconst mockFileEntityBundle: EntityBundle = {\n  entity: mockFileEntity,\n  entityType: EntityType.FILE,\n  fileHandles: [mockFileHandle, mockPreviewFileHandle],\n  annotations: {\n    id: MOCK_FILE_ENTITY_ID,\n    etag: '00000000-0000-0000-0000-000000000000',\n    annotations: {\n      myStringKey: {\n        type: AnnotationsValueType.STRING,\n        value: ['myValue'],\n      },\n      myIntegerKey: {\n        type: AnnotationsValueType.LONG,\n        value: [4325435345213, 4321],\n      },\n      myFloatKey: {\n        type: AnnotationsValueType.LONG,\n        value: [1.5, 17 / 13],\n      },\n    },\n  },\n  rootWikiId: MOCK_WIKI_ID,\n  fileName: mockFileEntity.name,\n  benefactorAcl: {\n    id: parentId,\n    creationDate: '2020-11-18T20:05:06.540Z',\n    etag: 'f143bbfd-ba09-4a42-b1e9-f9368777ad9b',\n    resourceAccess: [\n      {\n        principalId: MOCK_USER_ID,\n        accessType: [\n          ACCESS_TYPE.DELETE,\n          ACCESS_TYPE.CHANGE_SETTINGS,\n          ACCESS_TYPE.MODERATE,\n          ACCESS_TYPE.CHANGE_PERMISSIONS,\n          ACCESS_TYPE.UPDATE,\n          ACCESS_TYPE.READ,\n          ACCESS_TYPE.DOWNLOAD,\n          ACCESS_TYPE.CREATE,\n        ],\n      },\n      {\n        principalId: 273948,\n        accessType: [ACCESS_TYPE.READ],\n      },\n      {\n        principalId: 273949,\n        accessType: [ACCESS_TYPE.READ],\n      },\n    ],\n  },\n  permissions: {\n    canView: true,\n    canEdit: true,\n    canMove: true,\n    canAddChild: true,\n    canCertifiedUserEdit: true,\n    canCertifiedUserAddChild: true,\n    isCertifiedUser: true,\n    canChangePermissions: true,\n    canChangeSettings: true,\n    canDelete: true,\n    canDownload: true,\n    canUpload: true,\n    canEnableInheritance: true,\n    ownerPrincipalId: 3350396,\n    canPublicRead: true,\n    canModerate: true,\n    isCertificationRequired: true,\n    isEntityOpenData: false,\n  },\n  threadCount: 5,\n  path: filePath,\n  restrictionInformation: {\n    restrictionLevel: RestrictionLevel.OPEN,\n    hasUnmetAccessRequirement: false,\n  },\n  hasChildren: false,\n  accessControlList: {\n    id: '65165198',\n    resourceAccess: [],\n  },\n}\n\nconst mockFileEntityJson: EntityJson = {\n  id: mockFileEntity.id!,\n  name: mockFileEntity.name,\n  etag: mockFileEntity.etag!,\n  createdOn: mockFileEntity.createdOn!,\n  modifiedOn: mockFileEntity.modifiedOn!,\n  createdBy: mockFileEntity.createdBy!,\n  modifiedBy: mockFileEntity.modifiedBy!,\n  parentId: 'syn4489',\n  concreteType: 'org.sagebionetworks.repo.model.Project',\n  myStringKey: 'myValue',\n  myIntegerKey: [4325435345213, 4321],\n  myFloatKey: [1.5, 17 / 13],\n}\n\nconst mockFileEntityHeader: EntityHeader = {\n  id: mockFileEntity.id!,\n  name: mockFileEntity.name,\n  type: mockFileEntity.concreteType,\n  versionNumber: 3,\n  versionLabel: 'a label for version 3',\n  benefactorId: 123,\n  createdOn: mockFileEntity.createdOn!,\n  modifiedOn: mockFileEntity.modifiedOn!,\n  createdBy: MOCK_USER_ID.toString(), // TODO: Replace with a valid mock user ID\n  modifiedBy: MOCK_USER_ID_2.toString(),\n  isLatestVersion: true,\n}\n\nconst generatedFileEntityData: MockEntityData<FileEntity>[] = times(50).map(\n  i =>\n    generateBaseEntity(\n      {\n        concreteType: 'org.sagebionetworks.repo.model.FileEntity',\n        parentId: mockProject.id,\n      },\n      30000 + i + 1,\n    ) as MockEntityData<FileEntity>,\n)\n\nconst mockFileEntityData = {\n  id: MOCK_FILE_ENTITY_ID,\n  name: MOCK_FILE_NAME,\n  entity: mockFileEntity,\n  bundle: mockFileEntityBundle,\n  json: mockFileEntityJson,\n  versions: mockFileEntityVersions,\n  versionInfo: mockFileEntityVersionInfo,\n  entityHeader: mockFileEntityHeader,\n  path: filePath,\n} satisfies MockEntityData<FileEntity>\n\nexport const mockFileEntities = [\n  mockFileEntityData,\n  ...generatedFileEntityData,\n] satisfies MockEntityData<FileEntity>[]\n\nexport default mockFileEntityData\n"],"names":["parentId","mockProject","projectName","MOCK_FILE_ENTITY_ID","MOCK_FILE_NAME","MOCK_WIKI_ID","mockFileEntity","MOCK_FILE_HANDLE_ID","MOCK_USER_ID","MOCK_USER_ID_2","mockFileEntityVersionInfo","mockFileEntityVersions","filePath","mockFileEntityBundle","EntityType","mockFileHandle","mockPreviewFileHandle","AnnotationsValueType","ACCESS_TYPE","RestrictionLevel","mockFileEntityJson","mockFileEntityHeader","generatedFileEntityData","times","i","generateBaseEntity","mockFileEntityData","mockFileEntities"],"mappings":"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"}