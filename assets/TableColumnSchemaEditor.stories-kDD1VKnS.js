import{a as x}from"./index-CkevL0RG.js";import{a as S}from"./mockTableEntity-BKdB9Tov.js";import{M as B,a as k}from"./mockAnnotationColumns-y_eg3N7o.js";import{a as P,b as w}from"./tableQueryHandlers-DK-AUHGj.js";import{M as u,aB as D}from"./useFiles-EKpzv8MZ.js";import{h as U,H as j}from"./index-CYg-VDE5.js";import{j as o}from"./jsx-runtime-D_zvdyIk.js";import"./VerificationSubmission-BDh1zA9f.js";import{c as v}from"./StringUtils-C95LMFI-.js";import"./OrientationBanner-aZewHq-Z.js";import{r as c}from"./index-Md1bMW-z.js";import{b as A,o as H}from"./useEntity-DwNYbLsN.js";import{u as V}from"./useEntityBundle-C9XrIZKv.js";import{C as K}from"./ConfirmationDialog-B_UK3pHW.js";import{S as q}from"./LoadingScreen-DElghcmr.js";import"./SkeletonButton-Vq-dGTLm.js";import"./SkeletonInlineBlock-CAbWHhkf.js";import{S as F}from"./SkeletonTable-BB7_2QqC.js";import"./SkeletonParagraph-C9FD_all.js";import{g as G}from"./MultiValueField-C4qFpPZW.js";import{T as L}from"./TableColumnSchemaForm-C95AB7pw.js";import{n as T}from"./noop-DX6rZLP_.js";import{A as $}from"./Alert-DkgMFLOm.js";import{i as W}from"./index-C2ZjrIHw.js";import"./mock_user_profile-Bg50HGfI.js";import"./mockProject-Cdxg-tXQ.js";import"./mockTeam-CeJ539a3.js";import"./SynapseConstants-1HUBjtKm.js";import"./uniqueId-fci-KsTT.js";import"./toString-jjrxUMdV.js";import"./isArray-B5klMKWj.js";import"./iframe-uIIVzD3j.js";import"./isSymbol-D_pidj9A.js";import"./times-NSTTO268.js";import"./_Uint8Array-Cby2pCoj.js";import"./identity-DKeuBCMA.js";import"./toInteger-DAJmCa2P.js";import"./mockFileEntityACLVariants-C5HevCER.js";import"./fakerUtils-7OfRd_Cb.js";import"./mockFileEntity-lx-Y5LgH.js";import"./mock_file_handle-BSSHlK6B.js";import"./isEqual-BiFEM_GF.js";import"./_getTag-DsElD8uv.js";import"./pick-CTlprVeX.js";import"./_baseGet-DHM3w6xO.js";import"./_baseUniq-DCP_CDE1.js";import"./_baseSet-CH9hckjQ.js";import"./_initCloneObject--FlbFimB.js";import"./hasIn-CZegl6o_.js";import"./omit-B4RKUbIm.js";import"./cloneDeep-CGc5yc60.js";import"./_baseSlice-F8doVSIJ.js";import"./merge-Ds5Z6Gqt.js";import"./asyncJobHandlers-DzmDWm0W.js";import"./BasicMockedCrudService-B9oWWkso.js";import"./fetchWithExponentialTimeout-UV9FrpR8.js";import"./useTimeout-DQ_-VO3O.js";import"./FullWidthAlert-Br1koMJ-.js";import"./spreadSx-CwcO6WA9.js";import"./Stack-B53g7fb1.js";import"./DefaultPropsProvider-BNOxOf-A.js";import"./createTheme-DNQ2GBGi.js";import"./useThemeProps-C_b8E7rx.js";import"./getThemeProps-CHgiU3_j.js";import"./useTheme-Cs2NNiMd.js";import"./extendSxProp-D1VhlKw4.js";import"./Box-DohH8KGO.js";import"./AlertTitle-BlMhOmTu.js";import"./Typography-C96gU1wS.js";import"./index-DmeWQ-dO.js";import"./createSimplePaletteValueFilter-Db9IlTh7.js";import"./useForkRef-CoDOX8AE.js";import"./useSlot-BTY_Z-d6.js";import"./useTheme-CslAt-wv.js";import"./ClickAwayListener-B9bXJXQC.js";import"./getReactElementRef-HCWorscC.js";import"./index-CUeFsCSP.js";import"./index-BiIHeQLd.js";import"./ownerDocument-DW-IO8s5.js";import"./Paper-C677K5L-.js";import"./Grow-BzcQ-t9T.js";import"./Tooltip-2BuyJCJR.js";import"./index-DRTQrCcL.js";import"./useControlled-CxsZIN1F.js";import"./Popper-XHxJx-dX.js";import"./isFocusVisible-B8k4qzLc.js";import"./Button-C-zk0YkP.js";import"./ButtonBase-IDXW5Yf8.js";import"./CircularProgress-Cv2umIHD.js";import"./useQuery-DVTeBwEW.js";import"./QueryClientProvider-BMNXHCEe.js";import"./Link-CqWD6rvZ.js";import"./Collapse-stLmF6Jw.js";import"./createSvgIcon-92C3hb6t.js";import"./tinycolor-Begke6kS.js";import"./Fade-CSvEcrCc.js";import"./inputBaseClasses-CX7_9eBB.js";import"./calculateFriendlyFileSize-B2Y-Pd9F.js";import"./CheckCircleTwoTone-Cl1bOByO.js";import"./InfoTwoTone-BbyWd5yG.js";import"./useMutation-Di0sy3w_.js";import"./dayjs.min-BorLJNP_.js";import"./chunk-AYJ5UCUI-B4Oc2lbg.js";import"./Skeleton-BoefnFuB.js";import"./index-CGSHOwNi.js";import"./react-uSK3dJOn.js";import"./pickBy-BYJCrHnE.js";import"./isString-BCdzvbdz.js";import"./_baseIteratee-D5BTiDbn.js";import"./useQueries--5dPYkXe.js";import"./queryOptions-C9woPjwX.js";import"./useInfiniteQuery-D9fid0GZ.js";import"./InfiniteQueryUtils-CKlRW-xB.js";import"./DialogBase-C_IKPA7r.js";import"./Close-DZb5X83G.js";import"./HelpPopover-DSXshwIV.js";import"./MarkdownPopover-C-uuBLcc.js";import"./LightTooltip-DMqWkJt2.js";import"./MarkdownSynapse-CbmonUCX.js";import"./HelpOutlineTwoTone-DJEk67Tj.js";import"./Dialog-C2TnHERO.js";import"./DialogActions-DJOF2Axl.js";import"./Modal-_j3_Z1fl.js";import"./getScrollbarSize-CaCM53D3.js";import"./ownerWindow-HkKU3E4x.js";import"./createChainedFunction-BO_9K8Jh.js";import"./Backdrop-Cd-BMwRv.js";import"./DialogContent-BnullZqj.js";import"./DialogTitle-H4Bi01aQ.js";import"./IconButton-sjmF_FEp.js";import"./LinearProgress-CzdujYO2.js";import"./DateFormatter-CB9MPVof.js";import"./localizedFormat-BpzVFhNZ.js";import"./utc-C_fPDpnF.js";import"./JSONArrayEditorModal-CrqDFBdF.js";import"./JsonSchemaForm-e0OnlU5N.js";import"./enums-CVK7AJGQ.js";import"./_arrayReduce-CrxnWFSq.js";import"./_baseEach-BbWuXxB0.js";import"./uniq-D4iNbGg6.js";import"./forEach-BscDwjEF.js";import"./GridLegacy-C44RCyDM.js";import"./HelpTwoTone-9bDsFEHg.js";import"./InputLabel-rCERsh5a.js";import"./formControlState-Dq1zat_P.js";import"./useFormControl-BjD1gZTB.js";import"./FormLabel-m4fjPCmZ.js";import"./TextField--t1x2bUC.js";import"./Select-C-TZPehF.js";import"./Menu-BDTHiiDe.js";import"./Popover-DZYSe4Gf.js";import"./isHostComponent-DVu5iVWx.js";import"./debounce-Be36O1Ab.js";import"./mergeSlotProps-DuNFjLr3.js";import"./MenuList-BajgNLCs.js";import"./List-CDV9JsAp.js";import"./FormControl-JmlZo2TA.js";import"./isMuiElement-BvFfswQD.js";import"./InputBase-BBCgAhAL.js";import"./Input-Dv29oW8N.js";import"./FormHelperText-BSVaxheB.js";import"./ContentCopy-BhmiiOvS.js";import"./ArrowUpward-B3b1GXBq.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./groupBy-6pJvGTL1.js";import"./_createAggregator-4I7wDLNW.js";import"./_baseMap-BzFmFaTb.js";import"./ListItem-DJJu1icz.js";import"./listItemButtonClasses-BLPXw_vz.js";import"./DateTimePicker-Dx9NJs2Y.js";import"./useMobilePicker-CU-UNI9L.js";import"./index-C1eN73Uw.js";import"./index-Chjiymov.js";import"./CSSTransition-CYapr8h6.js";import"./visuallyHidden-Dan1xhjv.js";import"./InputAdornment-DifIeEdQ.js";import"./index-DmUZLv8i.js";import"./Chip-dLMwkaPk.js";import"./Tabs-CcjgCeor.js";import"./KeyboardArrowRight-D3c1IHpH.js";import"./Divider-DUC-FS8l.js";import"./dividerClasses-DaRqDUWc.js";import"./MenuItem-CeOBzD1y.js";import"./Autocomplete-DYvfOZKx.js";import"./Close-DwqeNffU.js";import"./usePreviousProps-CnhNPpHk.js";import"./TextWidget-sz_z1ynu.js";import"./papaparse.min-D1KxGBLm.js";import"./SchemaDrivenAnnotationEditor-CSH6SLb9.js";import"./use-deep-compare-effect.esm-CEpr4npN.js";import"./ToastMessage-CdgTAj12.js";import"./pluralize-DH5LPVNG.js";import"./EntityFinderModal-DHoGR7eM.js";import"./WarningDialog-BPe0H5DC.js";import"./EntityFinder-70Og7qwO.js";import"./IconSvg-DoZVlV-J.js";import"./LayersTwoTone-Dwgl5mHz.js";import"./ContentCopyTwoTone-CNdlGbnE.js";import"./ErrorOutlined-CzHEavMM.js";import"./GetAppTwoTone-CUH80W1a.js";import"./InfoOutlined-DcuwDeGz.js";import"./PhoneTwoTone-D7sJaDRs.js";import"./DeleteTwoTone-CiQgohaN.js";import"./Search-CpW8oLMN.js";import"./immutable.es-BJjDfH8f.js";import"./defineProperty-CegpTSss.js";import"./objectWithoutPropertiesLoose-Cv5OCJ0e.js";import"./useEntitySelection-CmGnpd27.js";import"./useGetEntityChildren-mTyIYDGV.js";import"./StyledTanStackTable-b--RaZle.js";import"./StyledTableContainer-jHG8g5Em.js";import"./ExpandCollapseButton-BeY0wm2H.js";import"./index-7GrO05UA.js";import"./index-CqEnENpA.js";import"./const-BP60AzNb.js";import"./ColumnHeader-u-J_o_Aj.js";import"./EnumFacetFilterUI-5Ci2Vjl_.js";import"./FacetFilterHeader-BZS66wAj.js";import"./FormControlLabel-h03Qt1_j.js";import"./Checkbox-DGeK0c6K.js";import"./SwitchBase-DyCtJdoz.js";import"./Radio-CQu5fFlT.js";import"./useDownloadList-eU83HIb4.js";import"./DownloadConfirmationUtils-BLmgc8jf.js";import"./EntityBadgeIcons-L8CQ6S7Y.js";import"./index-Ci-r4zVd.js";import"./EntityModal-BfSaM6G4.js";import"./FileHandleUtils-CvC2SslH.js";import"./UserBadge-DEROxJgF.js";import"./Card-D98uoWQI.js";import"./Avatar-DGUxuSJg.js";import"./LockTwoTone-x9JBdT7U.js";import"./EntityIcon-DHi7BKBQ.js";import"./FileEntityDirectDownload-bSDyRpUU.js";import"./DirectDownload-CXZNczdP.js";import"./SynapseTableConstants-2qH3fDlQ.js";import"./useFavorites-DU6JpvxN.js";import"./useGetEntityHeaders-CqQkubvI.js";import"./NoSearchResults-BhmejjRb.js";import"./useSearch-BzimtnvV.js";import"./DropdownSelect-DtY_MBQ1.js";import"./getValidReactChildren-BUTHDxRm.js";import"./index.esm-Yega9xIF.js";import"./Grid-CMkNER8a.js";import"./ListItemIcon-BjC_OsFu.js";import"./ListItemText-B-ubHR-V.js";import"./FormGroup-C425OiA3.js";import"./RadioGroup-D-InQHjD.js";import"./Slider-ClsCBUu5.js";function f(p){var C,E;const{entityId:r,open:a,onColumnsUpdated:I=T,onCancel:h=T}=p,s=c.useRef(null),{data:t,isLoading:O}=V(r,void 0,{includeEntity:!0,includeTableBundle:!0},{staleTime:1/0,throwOnError:!0}),i=t==null?void 0:t.entity,l=(C=t==null?void 0:t.tableBundle)==null?void 0:C.columnModels,{mutate:y,isPending:m,error:e}=A({onSuccess:()=>{I()}}),N=c.useCallback(d=>{y({entityId:r,originalColumnModels:l,newColumnModels:d.map(M=>H(M,W))})},[r,y,l]),R=c.useMemo(()=>{if(i)return G(i)},[i]);return O||!t||!i?o.jsx(F,{numRows:8,numCols:7,rowHeight:"50px",fullWidthCells:!0}):o.jsx(K,{open:a,maxWidth:"xl",title:"Edit Columns",content:o.jsxs(o.Fragment,{children:[o.jsx(L,{ref:s,entityType:v(i.concreteType),viewScope:R,initialData:(E=t==null?void 0:t.tableBundle)==null?void 0:E.columnModels,isSubmitting:m,onSubmit:d=>{N(d)},originalColumnModels:l}),e&&o.jsx($,{severity:"error",sx:{my:2},children:e==null?void 0:e.message})]}),confirmButtonProps:{children:m?"Saving...":"Save",disabled:m,startIcon:m?o.jsx(q,{}):void 0},onConfirm:()=>{s.current&&s.current.submit()},cancelButtonProps:{disabled:m},onCancel:h})}try{f.displayName="TableColumnSchemaEditor",f.__docgenInfo={description:"Fetches column model data for a Synapse Table and renders a form to edit the column models.",displayName:"TableColumnSchemaEditor",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},onColumnsUpdated:{defaultValue:null,description:"",name:"onColumnsUpdated",required:!1,type:{name:"() => void"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!1,type:{name:"() => void"}}}}}catch{}const xm={title:"Synapse/Table Column Schema Editor",component:f,parameters:{stack:"mock",design:[{name:"Use Recommended Sizes button",type:"figma",url:"https://www.figma.com/design/ek9F9IqpsS8UnihBR9filP/Schema-Editor?node-id=83-9747"}]}},Y={columnModels:k.columnModels,maxRowsPerPage:25},n={name:"Table Column Schema Editor",parameters:{msw:{handlers:[...P(u),...w(B,u),U.post(`${u}${D(":entityId")}`,({params:p})=>{const r=x.find(a=>a.id===p.entityId)||S;return j.json({entity:r.entity,tableBundle:Y},{status:200})})]}},args:{entityId:S.id,open:!0}};var _,g,b;n.parameters={...n.parameters,docs:{...(_=n.parameters)==null?void 0:_.docs,source:{originalSource:`{
  name: 'Table Column Schema Editor',
  parameters: {
    msw: {
      handlers: [...getDefaultColumnHandlers(MOCK_REPO_ORIGIN), ...getAnnotationColumnHandlers(MOCK_ANNOTATION_COLUMN_RESPONSE, MOCK_REPO_ORIGIN), http.post(\`\${MOCK_REPO_ORIGIN}\${ENTITY_BUNDLE_V2(':entityId')}\`, ({
        params
      }) => {
        const entity = mockEntities.find(entity => entity.id === params.entityId) || mockTableEntityData;
        return HttpResponse.json({
          entity: entity.entity,
          tableBundle: mockTableBundle
        }, {
          status: 200
        });
      })]
    }
  },
  args: {
    entityId: mockTableEntityData.id,
    open: true
  }
}`,...(b=(g=n.parameters)==null?void 0:g.docs)==null?void 0:b.source}}};const Bm=["Demo"];export{n as Demo,Bm as __namedExportsOrder,xm as default};
