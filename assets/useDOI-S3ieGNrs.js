import{as as r,ar as i,aD as u,aE as d,dk as y}from"./iframe-SFoYirDz.js";import{w as l}from"./waitForAsyncResult-B0KfBxeI.js";const b={ENTITY:"ENTITY"};function D(e,o){const{synapseClient:t,keyFactory:n}=r();return i({...o,queryKey:n.getDOIAssociationQueryKey(e),queryFn:()=>y(()=>t.doiServicesClient.getRepoV1DoiAssociation(e))})}function C(e,o){const{synapseClient:t,keyFactory:n}=r();return i({...o,queryKey:n.getDOIQueryKey(e),queryFn:()=>y(()=>t.doiServicesClient.getRepoV1Doi(e))})}function O(e){const o=u(),{synapseClient:t,keyFactory:n}=r();return d({...e,mutationFn:async a=>{const s=await t.doiServicesClient.postRepoV1DoiAsyncStart({doiRequest:a});return(await l(()=>t.asynchronousJobServicesClient.getRepoV1AsynchronousJobJobId({jobId:s.token}))).responseBody},onSuccess(...a){e!=null&&e.onSuccess&&e.onSuccess(...a);const s=a[1].doi;if(s){const c={id:s.objectId,type:s.objectType,portalId:s.portalId,version:s.objectVersion};o.invalidateQueries({queryKey:n.getDOIQueryKey(c)})}}})}export{b as D,C as a,O as b,D as u};
