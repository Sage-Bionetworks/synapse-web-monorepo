import{an as g,r as b,j as l,B as h,dL as x}from"./iframe-xmmb_I0l.js";function i(o){const{id:d,buttonProps:p={variant:"contained"},label:c="Browse...",onUploadStart:s,onComplete:a}=o,{accessToken:u}=g(),n=b.useRef(null),f=()=>{n?.current&&n.current?.click()},m=async t=>{if(t.target.files&&t.target.files.length>0){s&&s();const r=t.target.files[0],y=e=>{console.log(`Progress: ${e.value} / ${e.total}`)};try{const e=await x(u,r.name,r,void 0,void 0,y);a&&a({success:!0,resp:e})}catch(e){console.log("FileUpload: fail to upload file",e),a&&a({success:!1,error:e})}}};return l.jsxs(l.Fragment,{children:[l.jsx("input",{"data-testid":"file-input",type:"file",ref:n,onChange:t=>{m(t)},style:{display:"none"}}),l.jsx(h,{id:d,onClick:f,...p,children:c})]})}try{i.displayName="FileUpload",i.__docgenInfo={description:"",displayName:"FileUpload",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},buttonProps:{defaultValue:null,description:"",name:"buttonProps",required:!1,type:{name:"ButtonProps"}},onUploadStart:{defaultValue:null,description:"",name:"onUploadStart",required:!1,type:{name:"() => void"}},onComplete:{defaultValue:null,description:"",name:"onComplete",required:!1,type:{name:"(response: UploadCallbackResp) => void"}}}}}catch{}export{i as F};
