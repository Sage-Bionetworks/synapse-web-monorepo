import{b as rt}from"./createTheme-BAeQEIuu.js";import{_ as k}from"./ButtonBase-CJOJSfnP.js";import{_ as it}from"./TransitionGroupContext-TdpM2qIg.js";import{r as E}from"./index-Dl6G-zuu.js";var $=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function at(n,t){return!!(n===t||$(n)&&$(t))}function nt(n,t){if(n.length!==t.length)return!1;for(var r=0;r<n.length;r++)if(!at(n[r],t[r]))return!1;return!0}function N(n,t){t===void 0&&(t=nt);var r,i=[],o,u=!1;function l(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];return u&&r===this&&t(d,i)||(o=n.apply(this,d),u=!0,r=this,i=d),o}return l}var ot=typeof performance=="object"&&typeof performance.now=="function",U=ot?function(){return performance.now()}:function(){return Date.now()};function q(n){cancelAnimationFrame(n.id)}function st(n,t){var r=U();function i(){U()-r>=t?n.call(null):o.id=requestAnimationFrame(i)}var o={id:requestAnimationFrame(i)};return o}var P=-1;function H(n){if(n===void 0&&(n=!1),P===-1||n){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(t),P=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return P}var O=null;function V(n){if(n===void 0&&(n=!1),O===null||n){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var i=document.createElement("div"),o=i.style;return o.width="100px",o.height="100px",t.appendChild(i),document.body.appendChild(t),t.scrollLeft>0?O="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?O="negative":O="positive-ascending"),document.body.removeChild(t),O}return O}var lt=150,ct=function(t,r){return t};function B(n){var t,r=n.getItemOffset,i=n.getEstimatedTotalSize,o=n.getItemSize,u=n.getOffsetForIndexAndAlignment,l=n.getStartIndexForOffset,d=n.getStopIndexForStartIndex,p=n.initInstanceProps,y=n.shouldResetStyleCacheOnItemSizeChange,S=n.validateProps;return t=function(T){it(M,T);function M(v){var e;return e=T.call(this,v)||this,e._instanceProps=p(e.props,k(e)),e._outerRef=void 0,e._resetIsScrollingTimeoutId=null,e.state={instance:k(e),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof e.props.initialScrollOffset=="number"?e.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},e._callOnItemsRendered=void 0,e._callOnItemsRendered=N(function(a,s,c,m){return e.props.onItemsRendered({overscanStartIndex:a,overscanStopIndex:s,visibleStartIndex:c,visibleStopIndex:m})}),e._callOnScroll=void 0,e._callOnScroll=N(function(a,s,c){return e.props.onScroll({scrollDirection:a,scrollOffset:s,scrollUpdateWasRequested:c})}),e._getItemStyle=void 0,e._getItemStyle=function(a){var s=e.props,c=s.direction,m=s.itemSize,g=s.layout,f=e._getItemStyleCache(y&&m,y&&g,y&&c),h;if(f.hasOwnProperty(a))h=f[a];else{var z=r(e.props,a,e._instanceProps),x=o(e.props,a,e._instanceProps),C=c==="horizontal"||g==="horizontal",b=c==="rtl",R=C?z:0;f[a]=h={position:"absolute",left:b?void 0:R,right:b?R:void 0,top:C?0:z,height:C?"100%":x,width:C?x:"100%"}}return h},e._getItemStyleCache=void 0,e._getItemStyleCache=N(function(a,s,c){return{}}),e._onScrollHorizontal=function(a){var s=a.currentTarget,c=s.clientWidth,m=s.scrollLeft,g=s.scrollWidth;e.setState(function(f){if(f.scrollOffset===m)return null;var h=e.props.direction,z=m;if(h==="rtl")switch(V()){case"negative":z=-m;break;case"positive-descending":z=g-c-m;break}return z=Math.max(0,Math.min(z,g-c)),{isScrolling:!0,scrollDirection:f.scrollOffset<z?"forward":"backward",scrollOffset:z,scrollUpdateWasRequested:!1}},e._resetIsScrollingDebounced)},e._onScrollVertical=function(a){var s=a.currentTarget,c=s.clientHeight,m=s.scrollHeight,g=s.scrollTop;e.setState(function(f){if(f.scrollOffset===g)return null;var h=Math.max(0,Math.min(g,m-c));return{isScrolling:!0,scrollDirection:f.scrollOffset<h?"forward":"backward",scrollOffset:h,scrollUpdateWasRequested:!1}},e._resetIsScrollingDebounced)},e._outerRefSetter=function(a){var s=e.props.outerRef;e._outerRef=a,typeof s=="function"?s(a):s!=null&&typeof s=="object"&&s.hasOwnProperty("current")&&(s.current=a)},e._resetIsScrollingDebounced=function(){e._resetIsScrollingTimeoutId!==null&&q(e._resetIsScrollingTimeoutId),e._resetIsScrollingTimeoutId=st(e._resetIsScrolling,lt)},e._resetIsScrolling=function(){e._resetIsScrollingTimeoutId=null,e.setState({isScrolling:!1},function(){e._getItemStyleCache(-1,null)})},e}M.getDerivedStateFromProps=function(e,a){return ut(e,a),S(e),null};var I=M.prototype;return I.scrollTo=function(e){e=Math.max(0,e),this.setState(function(a){return a.scrollOffset===e?null:{scrollDirection:a.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},I.scrollToItem=function(e,a){a===void 0&&(a="auto");var s=this.props,c=s.itemCount,m=s.layout,g=this.state.scrollOffset;e=Math.max(0,Math.min(e,c-1));var f=0;if(this._outerRef){var h=this._outerRef;m==="vertical"?f=h.scrollWidth>h.clientWidth?H():0:f=h.scrollHeight>h.clientHeight?H():0}this.scrollTo(u(this.props,e,a,g,this._instanceProps,f))},I.componentDidMount=function(){var e=this.props,a=e.direction,s=e.initialScrollOffset,c=e.layout;if(typeof s=="number"&&this._outerRef!=null){var m=this._outerRef;a==="horizontal"||c==="horizontal"?m.scrollLeft=s:m.scrollTop=s}this._callPropsCallbacks()},I.componentDidUpdate=function(){var e=this.props,a=e.direction,s=e.layout,c=this.state,m=c.scrollOffset,g=c.scrollUpdateWasRequested;if(g&&this._outerRef!=null){var f=this._outerRef;if(a==="horizontal"||s==="horizontal")if(a==="rtl")switch(V()){case"negative":f.scrollLeft=-m;break;case"positive-ascending":f.scrollLeft=m;break;default:var h=f.clientWidth,z=f.scrollWidth;f.scrollLeft=z-h-m;break}else f.scrollLeft=m;else f.scrollTop=m}this._callPropsCallbacks()},I.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&q(this._resetIsScrollingTimeoutId)},I.render=function(){var e=this.props,a=e.children,s=e.className,c=e.direction,m=e.height,g=e.innerRef,f=e.innerElementType,h=e.innerTagName,z=e.itemCount,x=e.itemData,C=e.itemKey,b=C===void 0?ct:C,R=e.layout,G=e.outerElementType,Z=e.outerTagName,J=e.style,Q=e.useIsScrolling,X=e.width,A=this.state.isScrolling,F=c==="horizontal"||R==="horizontal",Y=F?this._onScrollHorizontal:this._onScrollVertical,L=this._getRangeToRender(),tt=L[0],et=L[1],W=[];if(z>0)for(var w=tt;w<=et;w++)W.push(E.createElement(a,{data:x,key:b(w,x),index:w,isScrolling:Q?A:void 0,style:this._getItemStyle(w)}));var D=i(this.props,this._instanceProps);return E.createElement(G||Z||"div",{className:s,onScroll:Y,ref:this._outerRefSetter,style:rt({position:"relative",height:m,width:X,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:c},J)},E.createElement(f||h||"div",{children:W,ref:g,style:{height:F?"100%":D,pointerEvents:A?"none":void 0,width:F?D:"100%"}}))},I._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var e=this.props.itemCount;if(e>0){var a=this._getRangeToRender(),s=a[0],c=a[1],m=a[2],g=a[3];this._callOnItemsRendered(s,c,m,g)}}if(typeof this.props.onScroll=="function"){var f=this.state,h=f.scrollDirection,z=f.scrollOffset,x=f.scrollUpdateWasRequested;this._callOnScroll(h,z,x)}},I._getRangeToRender=function(){var e=this.props,a=e.itemCount,s=e.overscanCount,c=this.state,m=c.isScrolling,g=c.scrollDirection,f=c.scrollOffset;if(a===0)return[0,0,0,0];var h=l(this.props,f,this._instanceProps),z=d(this.props,h,f,this._instanceProps),x=!m||g==="backward"?Math.max(1,s):1,C=!m||g==="forward"?Math.max(1,s):1;return[Math.max(0,h-x),Math.max(0,Math.min(a-1,z+C)),h,z]},M}(E.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var ut=function(t,r){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,r.instance},dt=50,_=function(t,r,i){var o=t,u=o.itemSize,l=i.itemMetadataMap,d=i.lastMeasuredIndex;if(r>d){var p=0;if(d>=0){var y=l[d];p=y.offset+y.size}for(var S=d+1;S<=r;S++){var T=u(S);l[S]={offset:p,size:T},p+=T}i.lastMeasuredIndex=r}return l[r]},ft=function(t,r,i){var o=r.itemMetadataMap,u=r.lastMeasuredIndex,l=u>0?o[u].offset:0;return l>=i?j(t,r,u,0,i):mt(t,r,Math.max(0,u),i)},j=function(t,r,i,o,u){for(;o<=i;){var l=o+Math.floor((i-o)/2),d=_(t,l,r).offset;if(d===u)return l;d<u?o=l+1:d>u&&(i=l-1)}return o>0?o-1:0},mt=function(t,r,i,o){for(var u=t.itemCount,l=1;i<u&&_(t,i,r).offset<o;)i+=l,l*=2;return j(t,r,Math.min(i,u-1),Math.floor(i/2),o)},K=function(t,r){var i=t.itemCount,o=r.itemMetadataMap,u=r.estimatedItemSize,l=r.lastMeasuredIndex,d=0;if(l>=i&&(l=i-1),l>=0){var p=o[l];d=p.offset+p.size}var y=i-l-1,S=y*u;return d+S},gt=B({getItemOffset:function(t,r,i){return _(t,r,i).offset},getItemSize:function(t,r,i){return i.itemMetadataMap[r].size},getEstimatedTotalSize:K,getOffsetForIndexAndAlignment:function(t,r,i,o,u,l){var d=t.direction,p=t.height,y=t.layout,S=t.width,T=d==="horizontal"||y==="horizontal",M=T?S:p,I=_(t,r,u),v=K(t,u),e=Math.max(0,Math.min(v-M,I.offset)),a=Math.max(0,I.offset-M+I.size+l);switch(i==="smart"&&(o>=a-M&&o<=e+M?i="auto":i="center"),i){case"start":return e;case"end":return a;case"center":return Math.round(a+(e-a)/2);case"auto":default:return o>=a&&o<=e?o:o<a?a:e}},getStartIndexForOffset:function(t,r,i){return ft(t,i,r)},getStopIndexForStartIndex:function(t,r,i,o){for(var u=t.direction,l=t.height,d=t.itemCount,p=t.layout,y=t.width,S=u==="horizontal"||p==="horizontal",T=S?y:l,M=_(t,r,o),I=i+T,v=M.offset+M.size,e=r;e<d-1&&v<I;)e++,v+=_(t,e,o).size;return e},initInstanceProps:function(t,r){var i=t,o=i.estimatedItemSize,u={itemMetadataMap:{},estimatedItemSize:o||dt,lastMeasuredIndex:-1};return r.resetAfterIndex=function(l,d){d===void 0&&(d=!0),u.lastMeasuredIndex=Math.min(u.lastMeasuredIndex,l-1),r._getItemStyleCache(-1),d&&r.forceUpdate()},u},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(t){t.itemSize}}),It=B({getItemOffset:function(t,r){var i=t.itemSize;return r*i},getItemSize:function(t,r){var i=t.itemSize;return i},getEstimatedTotalSize:function(t){var r=t.itemCount,i=t.itemSize;return i*r},getOffsetForIndexAndAlignment:function(t,r,i,o,u,l){var d=t.direction,p=t.height,y=t.itemCount,S=t.itemSize,T=t.layout,M=t.width,I=d==="horizontal"||T==="horizontal",v=I?M:p,e=Math.max(0,y*S-v),a=Math.min(e,r*S),s=Math.max(0,r*S-v+S+l);switch(i==="smart"&&(o>=s-v&&o<=a+v?i="auto":i="center"),i){case"start":return a;case"end":return s;case"center":{var c=Math.round(s+(a-s)/2);return c<Math.ceil(v/2)?0:c>e+Math.floor(v/2)?e:c}case"auto":default:return o>=s&&o<=a?o:o<s?s:a}},getStartIndexForOffset:function(t,r){var i=t.itemCount,o=t.itemSize;return Math.max(0,Math.min(i-1,Math.floor(r/o)))},getStopIndexForStartIndex:function(t,r,i){var o=t.direction,u=t.height,l=t.itemCount,d=t.itemSize,p=t.layout,y=t.width,S=o==="horizontal"||p==="horizontal",T=r*d,M=S?y:u,I=Math.ceil((M+i-T)/d);return Math.max(0,Math.min(l-1,r+I-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});export{It as F,gt as V};
