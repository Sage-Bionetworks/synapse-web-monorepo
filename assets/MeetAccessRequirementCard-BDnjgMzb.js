import{j as i}from"./jsx-runtime-DmKnoNQ-.js";import{W as S}from"./WideButton-CLAZmxLy.js";import"./useFiles-Bmp6q2a5.js";import"./VerificationSubmission-B0kBNeMy.js";import{A as I}from"./ACTAccessRequirement-WDpE4gfi.js";import{L as q}from"./LockAccessRequirement-B_A_PCc_.js";import{S as L,M as U}from"./SelfSignAccessRequirement-C_01XAIc.js";import{T as b}from"./StringUtils-CzgJJW-6.js";import{V as a,b as M,E as l}from"./SynapseConstants-DJnXKVNq.js";import{r as A}from"./index-BFCc_wv0.js";import"./OrientationBanner-DLwSvgHC.js";import{l as N,g as y}from"./useAccessRequirements-DPM5EREh.js";import{A as F}from"./AccessRequirementList-BRnwEWRL.js";import{A as j}from"./ActionRequiredCard-DFPsGgE5.js";const g="Requires Acceptance of Data-Specific Terms of Use",O="Requires Acceptance of Data-Specific Terms of Use",V="Requires Approval of Data-Specific Access Requirements",h="Access Restricted";function f({accessRequirementId:c,count:m}){const{data:e,isLoading:d}=N(c,{throwOnError:!0}),[R,E]=A.useState(!1);let t,s="",r="";const o=A.useMemo(()=>{if(e){if(e.name.match(/^\d+$/))return""}else return"";return e.name},[e]);if(!d&&e)switch(e.concreteType){case b:t=g,s=l,r=o;break;case L:{t=O;const _=e;_.isValidatedProfileRequired?s=a:_.isCertifiedUserRequired?s=M:s=l,r=o;break}case U:case I:t=V,s=a,r=o;break;case q:t=h,s=a,r="Access restricted pending review by Synapse Access and Compliance Team.";break}const{data:n}=y(String(c)),u=!!(n!=null&&n.isApproved),p=(e==null?void 0:e.subjectIds)&&(e==null?void 0:e.subjectIds.length)>0,C=p?e==null?void 0:e.subjectIds[0].id:void 0,T=p?e==null?void 0:e.subjectIds[0].type:void 0;return i.jsxs(i.Fragment,{children:[i.jsx(j,{isLoading:d,title:t,description:r,iconType:s,count:m,actionNode:i.jsx(S,{variant:"contained",onClick:()=>E(!0),disabled:u,children:u?"Complete":"Start"})}),R&&e&&i.jsx(F,{subjectId:C,subjectType:T,accessRequirementFromProps:[e],renderAsModal:!0,numberOfFilesAffected:m,onHide:()=>{E(!1)}})]})}try{f.displayName="MeetAccessRequirementCard",f.__docgenInfo={description:"",displayName:"MeetAccessRequirementCard",props:{accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!0,type:{name:"number"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}},isComplete:{defaultValue:null,description:"",name:"isComplete",required:!1,type:{name:"boolean"}}}}}catch{}export{f as M};
