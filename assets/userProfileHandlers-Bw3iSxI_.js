import{a3 as U,a4 as m,a5 as E,a6 as $,a7 as S,a8 as _,a9 as L,aa as N,ab as R}from"./useFiles-DKiwZnFy.js";import{T as p}from"./VerificationSubmission-DKyendrM.js";import{l as i}from"./index-BHVfpgk2.js";import{b as A}from"./mockEntity-qDwgVlHb.js";import{m as g,b as y,c as D,d as l,e as G,f as d}from"./mock_user_profile-CCzWeUML.js";import{a as f,P as c,n as I}from"./SynapseConstants-Di2qHJ4V.js";import{m as H}from"./mockTeam-tF6zxG7X.js";const h={id:c,userProfile:null,userBundle:null,userGroupHeader:{ownerId:c.toString(),userName:"PUBLIC",isIndividual:!1}},C={id:f,userProfile:null,userBundle:null,userGroupHeader:{ownerId:f.toString(),userName:"AUTHENTICATED_USERS",isIndividual:!1}},T={id:I,userProfile:null,userBundle:null,userGroupHeader:{ownerId:String(I),firstName:"Anonymous",lastName:"",userName:"anonymous",isIndividual:!0}},P=[g,y,D,...H,C,h,T],M=n=>[i.rest.get(`${n}${U(":id")}`,async(t,r,s)=>{let e=404,o={reason:`Mock Service worker could not find a user profile with ID ${t.params.id}`};const a=l.find(u=>u.id.toString()===t.params.id);return a&&a.userProfile&&(o=a.userProfile,e=200),r(s.status(e),s.json(o))}),i.rest.get(`${n}${m}`,async(t,r,s)=>{const e=G;return r(s.status(200),s.json(e))}),i.rest.get(`${n}${E}`,async(t,r,s)=>{const e=d;return r(s.status(200),s.json(e))}),i.rest.get(`${n}${$(":id")}`,async(t,r,s)=>{let e=404,o={reason:`Mock Service worker could not find a user bundle with ID ${t.params.id}`};const a=l.find(u=>u.id.toString()===t.params.id);return a&&a.userBundle&&(o=a.userBundle,e=200),r(s.status(e),s.json(o))}),i.rest.get(`${n}${S}`,async(t,r,s)=>r(s.status(200),s.json(A))),i.rest.get(`${n}${_}`,async(t,r,s)=>{const e=t.url.searchParams.get("ids").split(","),o={children:P.filter(a=>e.includes(a.id.toString())).map(a=>a.userGroupHeader)};return r(s.status(200),s.json(o))}),i.rest.post(`${n}${m}`,async(t,r,s)=>{const e=(await t.json()).list,o={list:l.filter(a=>e.includes(a.id.toString())).map(a=>a.userProfile).filter(a=>a!=null)};return r(s.status(200),s.json(o))}),i.rest.get(`${n}${L}`,async(t,r,s)=>{const e=(t.url.searchParams.get("prefix")??"").toLowerCase(),o=t.url.searchParams.get("typeFilter"),a={children:P.filter(u=>!o||o===p.ALL?!0:o===p.USERS_ONLY?u.userGroupHeader.isIndividual:!u.userGroupHeader.isIndividual).filter(u=>u.userGroupHeader.userName.toLowerCase().startsWith(e)||(u.userGroupHeader.firstName||"").toLowerCase().startsWith(e)||(u.userGroupHeader.displayName||"").toLowerCase().startsWith(e)||(u.userGroupHeader.lastName||"").toLowerCase().startsWith(e)).map(u=>u.userGroupHeader)};return r(s.status(200),s.json(a))}),i.rest.get(`${n}${N(":userId")}`,async(t,r,s)=>r(s.status(404),s.json({reason:"user has no profile image"}))),i.rest.get(`${n}${R}`,async(t,r,s)=>{var e;return r(s.status(200),s.json({email:(e=d.userProfile)==null?void 0:e.email}))}),i.rest.get(`${n}/auth/v1/2fa`,async(t,r,s)=>{const e={status:"ENABLED"};return r(s.status(200),s.json(e))})];function W(n,t,r){return i.rest.get(`${n}${E}`,async(s,e,o)=>{const u={...d,isCertified:t,isVerified:r};return e(o.status(200),o.json(u))})}export{W as a,M as g};
