import{j as e}from"./jsx-runtime-Du8NFWEI.js";import{h as c,l as m,n as p}from"./ApplicationSessionManager-wuJS70CK.js";import{m as u}from"./SynapseConstants-DZFwfboe.js";import"./index-Dl6G-zuu.js";import"./getEndpoint-CjoHA800.js";import{q as y}from"./index-CrI3GNrK.js";import"./OrientationBanner-tb7WDFcR.js";import{A as w}from"./ActionRequiredCard-BFmG9H6p.js";import{M as f}from"./Alert-HJYNNEvY.js";import{T as g}from"./Typography-B88_J_TK.js";import{B as _}from"./Button-mb55Lwfk.js";function h(n,o,t=y,r){const{accessToken:i,keyFactory:s}=c();return m({...r,queryKey:s.getEntityBundleQueryKey(n,o,t),queryFn:()=>p.getEntityBundleV2(n,t,o,i)})}const E=n=>window.open(`https://www.synapse.org/#!Synapse:${n}`,"_blank"),S="Download Permission Required",d=({entityId:n,count:o,onViewSharingSettingsClicked:t=E})=>{const{data:r,isLoading:i,isError:s,error:l}=h(n,void 0,{includeEntity:!0,includePermissions:!0}),a=!!(r!=null&&r.permissions.canDownload);return s?e.jsx(f,{severity:"error",children:l.reason}):e.jsx(w,{isLoading:i,title:S,description:e.jsxs(e.Fragment,{children:["You must be granted the download permission on"," ",e.jsx("strong",{children:r==null?void 0:r.entity.name})," in order to download this set of files."]}),iconType:u,count:o,actionNode:e.jsxs(e.Fragment,{children:[e.jsx(g,{variant:"smallText1",sx:{mb:1,color:"grey.700"},children:"Contact an administrator to request download permission"}),e.jsx(_,{variant:"outlined",onClick:()=>{t(n)},disabled:a,children:a?"Complete":"View Sharing Settings"})]})})};try{d.displayName="RequestDownloadCard",d.__docgenInfo={description:"",displayName:"RequestDownloadCard",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}},onViewSharingSettingsClicked:{defaultValue:{value:`benefactorEntityId =>
    window.open(
      \`https://www.synapse.org/#!Synapse:\${benefactorEntityId}\`,
      '_blank',
    )`},description:'Invoked when a user clicks "View Sharing Settings" for a set of files that require the Download permission',name:"onViewSharingSettingsClicked",required:!1,type:{name:"((benefactorId: string) => void)"}}}}}catch{}export{d as R,h as u};
