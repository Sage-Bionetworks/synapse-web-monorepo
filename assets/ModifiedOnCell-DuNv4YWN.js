import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{u as d}from"./useEntityBundle-DT26h2LL.js";import{l as N}from"./useFiles-DoM6saS5.js";import"./VerificationSubmission-BDh1zA9f.js";import{E as y,f as w}from"./StringUtils-C95LMFI-.js";import"./OrientationBanner-DXHS9Ok7.js";import"./index-C0wX4_D5.js";import{b as D}from"./useDownloadList-_0d0RsX0.js";import{d as I}from"./DownloadConfirmationUtils-ocgtes9w.js";import{I as F}from"./IconSvg-CLg83kw2.js";import{d as x}from"./ToastMessage-B5kf2pcc.js";import{B as M}from"./Box-BD_ma7_J.js";import{T as j}from"./Tooltip-C6Zypvy1.js";import{I as B}from"./IconButton-DNzDJyyG.js";import{S as l}from"./Skeleton-BUe1EjHW.js";import{u as S}from"./useMutation-CdgWCH4U.js";import{c as T}from"./calculateFriendlyFileSize-hiMIYe5W.js";import{U as L}from"./UserBadge-DRNittan.js";import{f as E}from"./DateFormatter-BFwMmfEX.js";import{d as b}from"./dayjs.min-D8ND5VJ0.js";function _(e){const{row:r}=e,{entityId:o,versionNumber:a}=r.original,{data:i}=d(o,a),{downloadCartPageUrl:n}=N(),{mutate:s}=D({onSuccess:()=>{I(n)},onError:p=>{x(p.reason,"danger")}});return(i==null?void 0:i.entityType)==y.file||(i==null?void 0:i.entityType)==y.recordset?t.jsx(M,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:t.jsx(j,{title:"Add to Download Cart",placement:"right",children:t.jsx(B,{sx:{height:"35px",width:"35px"},onClick:p=>{s({entityId:o,entityVersionNumber:a}),p.stopPropagation()},children:t.jsx(F,{icon:"download"})})})}):t.jsx(t.Fragment,{})}try{_.displayName="AddFileToDownloadListCell",_.__docgenInfo={description:"",displayName:"AddFileToDownloadListCell",props:{}}}catch{}function c({cellData:e}){return t.jsx(t.Fragment,{children:(e&&E(b(e)))??t.jsx(t.Fragment,{})})}try{c.displayName="DateCell",c.__docgenInfo={description:"",displayName:"DateCell",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!1,type:{name:"string"}}}}}catch{}function f(e){var i;const{row:r}=e,{data:o,isLoading:a}=d(r.original.entityId,r.original.versionNumber);return a?t.jsx(l,{width:100}):t.jsx(c,{...e,cellData:(i=o==null?void 0:o.entity)==null?void 0:i.createdOn})}try{f.displayName="CreatedOnCell",f.__docgenInfo={description:"Renders 'createdOn' from the entity bundle.",displayName:"CreatedOnCell",props:{}}}catch{}function u(e){const{row:r}=e,{data:o,isLoading:a}=d(r.original.entityId,r.original.versionNumber),{mutate:i}=S({mutationFn:s=>w(s),onSuccess:()=>x("MD5 copied to the clipboard","success")});if(a)return t.jsx(l,{width:100});const n=o==null?void 0:o.fileHandles.find(s=>s.isPreview!==!0);return(n==null?void 0:n.contentMd5)==null?t.jsx(t.Fragment,{}):t.jsx(j,{title:"Click to copy MD5 to your clipboard",placement:"right",children:t.jsx("button",{className:"md5Button","aria-label":"MD5",onClick:s=>{s.stopPropagation(),i((n==null?void 0:n.contentMd5)??"")},children:n==null?void 0:n.contentMd5})})}try{u.displayName="FileEntityMD5Cell",u.__docgenInfo={description:"",displayName:"FileEntityMD5Cell",props:{}}}catch{}function g(e){const{row:r}=e,{data:o,isLoading:a}=d(r.original.entityId,r.original.versionNumber);if(a)return t.jsx(l,{width:100});const i=o==null?void 0:o.fileHandles.find(s=>s.isPreview!==!0),n=i!=null&&i.contentSize?T(i==null?void 0:i.contentSize):"";return t.jsx("span",{children:n})}try{g.displayName="FileEntitySizeCell",g.__docgenInfo={description:"",displayName:"FileEntitySizeCell",props:{}}}catch{}function m({cellData:e}){return e?t.jsx(L,{userId:e,openLinkInNewTab:!0}):t.jsx(t.Fragment,{})}try{m.displayName="UserBadgeCell",m.__docgenInfo={description:"",displayName:"UserBadgeCell",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!1,type:{name:"string"}}}}}catch{}function C(e){const{row:r}=e,{data:o,isLoading:a}=d(r.original.entityId,r.original.versionNumber);return a?t.jsx(l,{width:100}):t.jsx(m,{...e,cellData:o==null?void 0:o.entity.modifiedBy})}try{C.displayName="ModifiedByCell",C.__docgenInfo={description:"Renders 'modifiedBy' from the entity bundle.",displayName:"ModifiedByCell",props:{}}}catch{}function h(e){const{row:r}=e,{data:o,isLoading:a}=d(r.original.entityId,r.original.versionNumber);return a?t.jsx(l,{width:100}):t.jsx(c,{...e,cellData:o==null?void 0:o.entity.modifiedOn})}try{h.displayName="ModifiedOnCell",h.__docgenInfo={description:"Renders 'modifiedOn' from the entity bundle.",displayName:"ModifiedOnCell",props:{}}}catch{}export{_ as A,f as C,g as F,h as M,C as a,u as b};
