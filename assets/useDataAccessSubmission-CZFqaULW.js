import{k as r,o as m,p as i,q as y}from"./SynapseClient-BLkm9tJW.js";import{u as o}from"./useMutation-ob3ouoMY.js";import{u as S}from"./useInfiniteQuery-CfHFqxFV.js";import"./OrientationBanner-Dnif2GMP.js";import"./getEndpoint-CjoHA800.js";import"./index-Dl6G-zuu.js";import"./jsx-runtime-Du8NFWEI.js";function l(s,t){const{accessToken:u,keyFactory:a}=r();return m({...t,queryKey:a.getDataAccessSubmissionQueryKey(String(s.toString())),queryFn:()=>i.getSubmissionById(s,u)})}function K(s,t){const{accessToken:u,keyFactory:a}=r();return S({...t,queryKey:a.searchDataAccessSubmissionQueryKey(s),queryFn:async e=>await i.searchAccessSubmission({...s,nextPageToken:e.pageParam},u),initialPageParam:void 0,getNextPageParam:e=>e.nextPageToken})}function p(s){const t=y(),{accessToken:u,keyFactory:a}=r();return o({...s,mutationFn:e=>i.updateSubmissionStatus(e,u),onSuccess:async(e,c,n)=>{await t.invalidateQueries({queryKey:a.searchDataAccessSubmissionQueryKey()}),t.setQueryData(a.getDataAccessSubmissionQueryKey(c.submissionId),e)}})}function q(s){const t=y(),{accessToken:u,keyFactory:a}=r();return o({...s,mutationFn:async({request:e,accessRequirementId:c})=>{if(e.subjectId==null||e.subjectType==null){const{subjects:n}=await i.getSubjects(u,c);e.subjectId=n[0].id,e.subjectType=n[0].type}return i.submitDataAccessRequest(e,u)},onSuccess:async(e,c,n)=>{await t.invalidateQueries({queryKey:a.getAccessRequirementStatusQueryKey(c.accessRequirementId)}),await t.invalidateQueries({queryKey:a.searchDataAccessSubmissionQueryKey()}),s!=null&&s.onSuccess&&await s.onSuccess(e,c,n)}})}export{l as a,K as b,q as c,p as u};
