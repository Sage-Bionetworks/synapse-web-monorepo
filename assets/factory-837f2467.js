import{g as Di}from"./_commonjsHelpers-042e6b4d.js";import{r as xl}from"./index-8db94870.js";import{p as bl}from"./index-58d3fd43.js";var Pi={exports:{}};(function(Ya,Ra){(function(Cr,jr){Ya.exports=jr()})(self,function(){return function(){var Ea={8847:function(re,H,e){var o=e(1828),x={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var l in x){var i=l.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");o.addStyleRule(i,x[l])}},8222:function(re,H,e){re.exports=e(2887)},7206:function(re,H,e){re.exports=e(822)},9509:function(re,H,e){re.exports=e(2201)},9548:function(re,H,e){re.exports=e(8729)},1039:function(re,H,e){re.exports=e(4382)},4296:function(re,H,e){re.exports=e(3102)},2576:function(re,H,e){var o=e(9548);o.register([e(7206),e(4201),e(8222),e(1039),e(4296),e(6398),e(9509)]),re.exports=o},4201:function(re,H,e){re.exports=e(8810)},6398:function(re,H,e){re.exports=e(2275)},2884:function(re){re.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},215:function(re,H,e){var o=e(2884),x=e(1940),l=e(5555),i=e(4467).templatedArray;e(4695),re.exports=i("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:x({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:o.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:o.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",l.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",l.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",l.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",l.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:x({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(re,H,e){var o=e(1828),x=e(9298),l=e(2605).draw;re.exports=function(s){var n=s._fullLayout,t=o.filterVisible(n.annotations);if(t.length&&s._fullData.length)return o.syncOrAsync([l,i],s)};function i(f){var s=f._fullLayout;o.filterVisible(s.annotations).forEach(function(n){var t=x.getFromId(f,n.xref),d=x.getFromId(f,n.yref),p=x.getRefType(n.xref),m=x.getRefType(n.yref);n._extremes={},p==="range"&&r(n,t),m==="range"&&r(n,d)})}function r(f,s){var n=s._id,t=n.charAt(0),d=f[t],p=f["a"+t],m=f[t+"ref"],y=f["a"+t+"ref"],h=f["_"+t+"padplus"],T=f["_"+t+"padminus"],g={x:1,y:-1}[t]*f[t+"shift"],M=3*f.arrowsize*f.arrowwidth||0,v=M+g,c=M-g,u=3*f.startarrowsize*f.arrowwidth||0,b=u+g,w=u-g,B;if(y===m){var C=x.findExtremes(s,[s.r2c(d)],{ppadplus:v,ppadminus:c}),I=x.findExtremes(s,[s.r2c(p)],{ppadplus:Math.max(h,b),ppadminus:Math.max(T,w)});B={min:[C.min[0],I.min[0]],max:[C.max[0],I.max[0]]}}else b=p?b+p:b,w=p?w-p:w,B=x.findExtremes(s,[s.r2c(d)],{ppadplus:Math.max(h,v,b),ppadminus:Math.max(T,c,w)});f._extremes[n]=B}},4317:function(re,H,e){var o=e(1828),x=e(3972),l=e(4467).arrayEditor;re.exports={hasClickToShow:i,onClick:r};function i(n,t){var d=f(n,t);return d.on.length>0||d.explicitOff.length>0}function r(n,t){var d=f(n,t),p=d.on,m=d.off.concat(d.explicitOff),y={},h=n._fullLayout.annotations,T,g;if(p.length||m.length){for(T=0;T<p.length;T++)g=l(n.layout,"annotations",h[p[T]]),g.modifyItem("visible",!0),o.extendFlat(y,g.getUpdateObj());for(T=0;T<m.length;T++)g=l(n.layout,"annotations",h[m[T]]),g.modifyItem("visible",!1),o.extendFlat(y,g.getUpdateObj());return x.call("update",n,{},y)}}function f(n,t){var d=n._fullLayout.annotations,p=[],m=[],y=[],h=(t||[]).length,T,g,M,v,c,u,b,w;for(T=0;T<d.length;T++)if(M=d[T],v=M.clicktoshow,v){for(g=0;g<h;g++)if(c=t[g],u=c.xaxis,b=c.yaxis,u._id===M.xref&&b._id===M.yref&&u.d2r(c.x)===s(M._xclick,u)&&b.d2r(c.y)===s(M._yclick,b)){M.visible?v==="onout"?w=m:w=y:w=p,w.push(T);break}g===h&&M.visible&&v==="onout"&&m.push(T)}return{on:p,off:m,explicitOff:y}}function s(n,t){return t.type==="log"?t.l2r(n):t.d2r(n)}},5625:function(re,H,e){var o=e(1828),x=e(7901);re.exports=function(i,r,f,s){s("opacity");var n=s("bgcolor"),t=s("bordercolor"),d=x.opacity(t);s("borderpad");var p=s("borderwidth"),m=s("showarrow");s("text",m?" ":f._dfltTitle.annotation),s("textangle"),o.coerceFont(s,"font",f.font),s("width"),s("align");var y=s("height");if(y&&s("valign"),m){var h=s("arrowside"),T,g;h.indexOf("end")!==-1&&(T=s("arrowhead"),g=s("arrowsize")),h.indexOf("start")!==-1&&(s("startarrowhead",T),s("startarrowsize",g)),s("arrowcolor",d?r.bordercolor:x.defaultLine),s("arrowwidth",(d&&p||1)*2),s("standoff"),s("startstandoff")}var M=s("hovertext"),v=f.hoverlabel||{};if(M){var c=s("hoverlabel.bgcolor",v.bgcolor||(x.opacity(n)?x.rgb(n):x.defaultLine)),u=s("hoverlabel.bordercolor",v.bordercolor||x.contrast(c));o.coerceFont(s,"hoverlabel.font",{family:v.font.family,size:v.font.size,color:v.font.color||u})}s("captureevents",!!M)}},4128:function(re,H,e){var o=e(2770),x=e(8163);re.exports=function(i,r,f,s){r=r||{};var n=f==="log"&&r.type==="linear",t=f==="linear"&&r.type==="log";if(!(n||t))return;var d=i._fullLayout.annotations,p=r._id.charAt(0),m,y;function h(g){var M=m[g],v=null;n?v=x(M,r.range):v=Math.pow(10,M),o(v)||(v=null),s(y+g,v)}for(var T=0;T<d.length;T++)m=d[T],y="annotations["+T+"].",m[p+"ref"]===r._id&&h(p),m["a"+p+"ref"]===r._id&&h("a"+p)}},4046:function(re,H,e){var o=e(1828),x=e(9298),l=e(5501),i=e(5625),r=e(215);re.exports=function(n,t){l(n,t,{name:"annotations",handleItemDefaults:f})};function f(s,n,t){function d(O,L){return o.coerce(s,n,r,O,L)}var p=d("visible"),m=d("clicktoshow");if(p||m){i(s,n,t,d);for(var y=n.showarrow,h=["x","y"],T=[-10,-30],g={_fullLayout:t},M=0;M<2;M++){var v=h[M],c=x.coerceRef(s,n,g,v,"","paper");if(c!=="paper"){var u=x.getFromId(g,c);u._annIndices.push(n._index)}if(x.coercePosition(n,g,d,c,v,.5),y){var b="a"+v,w=x.coerceRef(s,n,g,b,"pixel",["pixel","paper"]);w!=="pixel"&&w!==c&&(w=n[b]="pixel");var B=w==="pixel"?T[M]:.4;x.coercePosition(n,g,d,w,b,B)}d(v+"anchor"),d(v+"shift")}if(o.noneOrAll(s,n,["x","y"]),y&&o.noneOrAll(s,n,["ax","ay"]),m){var C=d("xclick"),I=d("yclick");n._xclick=C===void 0?n.x:x.cleanPosition(C,g,n.xref),n._yclick=I===void 0?n.y:x.cleanPosition(I,g,n.yref)}}}},2605:function(re,H,e){var o=e(9898),x=e(3972),l=e(4875),i=e(1828),r=i.strTranslate,f=e(9298),s=e(7901),n=e(1424),t=e(211),d=e(3893),p=e(6964),m=e(8569),y=e(4467).arrayEditor,h=e(3011);re.exports={draw:T,drawOne:g,drawRaw:v};function T(c){var u=c._fullLayout;u._infolayer.selectAll(".annotation").remove();for(var b=0;b<u.annotations.length;b++)u.annotations[b].visible&&g(c,b);return l.previousPromises(c)}function g(c,u){var b=c._fullLayout,w=b.annotations[u]||{},B=f.getFromId(c,w.xref),C=f.getFromId(c,w.yref);B&&B.setScale(),C&&C.setScale(),v(c,w,u,!1,B,C)}function M(c,u,b,w,B){var C=B[b],I=B[b+"ref"],O=b.indexOf("y")!==-1,L=f.getRefType(I)==="domain",X=O?w.h:w.w;return c?L?C+(O?-u:u)/c._length:c.p2r(c.r2p(C)+u):C+(O?-u:u)/X}function v(c,u,b,w,B,C){var I=c._fullLayout,O=c._fullLayout._size,L=c._context.edits,X,Z;w?(X="annotation-"+w,Z=w+".annotations"):(X="annotation",Z="annotations");var te=y(c.layout,Z,u),q=te.modifyBase,ae=te.modifyItem,N=te.getUpdateObj;I._infolayer.selectAll("."+X+'[data-index="'+b+'"]').remove();var D="clip"+I._uid+"_ann"+b;if(!u._input||u.visible===!1){o.selectAll("#"+D).remove();return}var _={x:{},y:{}},V=+u.textangle||0,G=I._infolayer.append("g").classed(X,!0).attr("data-index",String(b)).style("opacity",u.opacity),Q=G.append("g").classed("annotation-text-g",!0),ue=L[u.showarrow?"annotationTail":"annotationPosition"],le=u.captureevents||L.annotationText||ue;function ye(ie){var ve={index:b,annotation:u._input,fullAnnotation:u,event:ie};return w&&(ve.subplotId=w),ve}var Se=Q.append("g").style("pointer-events",le?"all":null).call(p,"pointer").on("click",function(){c._dragging=!1,c.emit("plotly_clickannotation",ye(o.event))});u.hovertext&&Se.on("mouseover",function(){var ie=u.hoverlabel,ve=ie.font,he=this.getBoundingClientRect(),Le=c.getBoundingClientRect();t.loneHover({x0:he.left-Le.left,x1:he.right-Le.left,y:(he.top+he.bottom)/2-Le.top,text:u.hovertext,color:ie.bgcolor,borderColor:ie.bordercolor,fontFamily:ve.family,fontSize:ve.size,fontColor:ve.color},{container:I._hoverlayer.node(),outerContainer:I._paper.node(),gd:c})}).on("mouseout",function(){t.loneUnhover(I._hoverlayer.node())});var ce=u.borderwidth,de=u.borderpad,S=ce+de,P=Se.append("rect").attr("class","bg").style("stroke-width",ce+"px").call(s.stroke,u.bordercolor).call(s.fill,u.bgcolor),k=u.width||u.height,z=I._topclips.selectAll("#"+D).data(k?[0]:[]);z.enter().append("clipPath").classed("annclip",!0).attr("id",D).append("rect"),z.exit().remove();var Y=u.font,F=I._meta?i.templateString(u.text,I._meta):u.text,J=Se.append("text").classed("annotation-text",!0).text(F);function E(ie){return ie.call(n.font,Y).attr({"text-anchor":{left:"start",right:"end"}[u.align]||"middle"}),d.convertToTspans(ie,c,K),ie}function K(){var ie=J.selectAll("a");if(ie.size()===1&&ie.text()===J.text()){var ve=Se.insert("a",":first-child").attr({"xlink:xlink:href":ie.attr("xlink:href"),"xlink:xlink:show":ie.attr("xlink:show")}).style({cursor:"pointer"});ve.node().appendChild(P.node())}var he=Se.select(".annotation-text-math-group"),Le=!he.empty(),ke=n.bBox((Le?he:J).node()),se=ke.width,ge=ke.height,be=u.width||se,Ee=u.height||ge,we=Math.round(be+2*S),Te=Math.round(Ee+2*S);function Ne(Gt,Ct){return Ct==="auto"&&(Gt<.3333333333333333?Ct="left":Gt>.6666666666666666?Ct="right":Ct="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Ct]}for(var $e=!1,je=["x","y"],He=0;He<je.length;He++){var st=je[He],nt=u[st+"ref"]||st,dt=u["a"+st+"ref"],ht={x:B,y:C}[st],Pt=(V+(st==="x"?0:-90))*Math.PI/180,bt=we*Math.cos(Pt),At=Te*Math.sin(Pt),wt=Math.abs(bt)+Math.abs(At),Lt=u[st+"anchor"],kt=u[st+"shift"]*(st==="x"?1:-1),Ce=_[st],Ae,Pe,$,fe,pe,Me=f.getRefType(nt);if(ht&&Me!=="domain"){var Ge=ht.r2fraction(u[st]);(Ge<0||Ge>1)&&(dt===nt?(Ge=ht.r2fraction(u["a"+st]),(Ge<0||Ge>1)&&($e=!0)):$e=!0),Ae=ht._offset+ht.r2p(u[st]),fe=.5}else{var Ie=Me==="domain";st==="x"?($=u[st],Ae=Ie?ht._offset+ht._length*$:Ae=O.l+O.w*$):($=1-u[st],Ae=Ie?ht._offset+ht._length*$:Ae=O.t+O.h*$),fe=u.showarrow?.5:$}if(u.showarrow){Ce.head=Ae;var _e=u["a"+st];if(pe=bt*Ne(.5,u.xanchor)-At*Ne(.5,u.yanchor),dt===nt){var Je=f.getRefType(dt);Je==="domain"?(st==="y"&&(_e=1-_e),Ce.tail=ht._offset+ht._length*_e):Je==="paper"?st==="y"?(_e=1-_e,Ce.tail=O.t+O.h*_e):Ce.tail=O.l+O.w*_e:Ce.tail=ht._offset+ht.r2p(_e),Pe=pe}else Ce.tail=Ae+_e,Pe=pe+_e;Ce.text=Ce.tail+pe;var Qe=I[st==="x"?"width":"height"];if(nt==="paper"&&(Ce.head=i.constrain(Ce.head,1,Qe-1)),dt==="pixel"){var Oe=-Math.max(Ce.tail-3,Ce.text),ft=Math.min(Ce.tail+3,Ce.text)-Qe;Oe>0?(Ce.tail+=Oe,Ce.text+=Oe):ft>0&&(Ce.tail-=ft,Ce.text-=ft)}Ce.tail+=kt,Ce.head+=kt}else pe=wt*Ne(fe,Lt),Pe=pe,Ce.text=Ae+pe;Ce.text+=kt,pe+=kt,Pe+=kt,u["_"+st+"padplus"]=wt/2+Pe,u["_"+st+"padminus"]=wt/2-Pe,u["_"+st+"size"]=wt,u["_"+st+"shift"]=pe}if($e){Se.remove();return}var vt=0,xt=0;if(u.align!=="left"&&(vt=(be-se)*(u.align==="center"?.5:1)),u.valign!=="top"&&(xt=(Ee-ge)*(u.valign==="middle"?.5:1)),Le)he.select("svg").attr({x:S+vt-1,y:S+xt}).call(n.setClipUrl,k?D:null,c);else{var zt=S+xt-ke.top,Vt=S+vt-ke.left;J.call(d.positionText,Vt,zt).call(n.setClipUrl,k?D:null,c)}z.select("rect").call(n.setRect,S,S,be,Ee),P.call(n.setRect,ce/2,ce/2,we-ce,Te-ce),Se.call(n.setTranslate,Math.round(_.x.text-we/2),Math.round(_.y.text-Te/2)),Q.attr({transform:"rotate("+V+","+_.x.text+","+_.y.text+")"});var Ut=function(Gt,Ct){G.selectAll(".annotation-arrow-g").remove();var Dt=_.x.head,_t=_.y.head,Wt=_.x.tail+Gt,Bt=_.y.tail+Ct,It=_.x.text+Gt,it=_.y.text+Ct,Ot=i.rotationXYMatrix(V,It,it),Xt=i.apply2DTransform(Ot),nr=i.apply2DTransform2(Ot),Ht=+P.attr("width"),tr=+P.attr("height"),or=It-.5*Ht,ne=or+Ht,ee=it-.5*tr,ze=ee+tr,Fe=[[or,ee,or,ze],[or,ze,ne,ze],[ne,ze,ne,ee],[ne,ee,or,ee]].map(nr);if(!Fe.reduce(function(ct,Rt){return ct^!!i.segmentsIntersect(Dt,_t,Dt+1e6,_t+1e6,Rt[0],Rt[1],Rt[2],Rt[3])},!1)){Fe.forEach(function(ct){var Rt=i.segmentsIntersect(Wt,Bt,Dt,_t,ct[0],ct[1],ct[2],ct[3]);Rt&&(Wt=Rt.x,Bt=Rt.y)});var Ue=u.arrowwidth,Ze=u.arrowcolor,Xe=u.arrowside,Be=G.append("g").style({opacity:s.opacity(Ze)}).classed("annotation-arrow-g",!0),Ye=Be.append("path").attr("d","M"+Wt+","+Bt+"L"+Dt+","+_t).style("stroke-width",Ue+"px").call(s.stroke,s.rgb(Ze));if(h(Ye,Xe,u),L.annotationPosition&&Ye.node().parentNode&&!w){var qe=Dt,tt=_t;if(u.standoff){var ut=Math.sqrt(Math.pow(Dt-Wt,2)+Math.pow(_t-Bt,2));qe+=u.standoff*(Wt-Dt)/ut,tt+=u.standoff*(Bt-_t)/ut}var rt=Be.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Wt-qe)+","+(Bt-tt),transform:r(qe,tt)}).style("stroke-width",Ue+6+"px").call(s.stroke,"rgba(0,0,0,0)").call(s.fill,"rgba(0,0,0,0)"),Tt,mt;m.init({element:rt.node(),gd:c,prepFn:function(){var ct=n.getTranslate(Se);Tt=ct.x,mt=ct.y,B&&B.autorange&&q(B._name+".autorange",!0),C&&C.autorange&&q(C._name+".autorange",!0)},moveFn:function(ct,Rt){var Mt=Xt(Tt,mt),Yt=Mt[0]+ct,Jt=Mt[1]+Rt;Se.call(n.setTranslate,Yt,Jt),ae("x",M(B,ct,"x",O,u)),ae("y",M(C,Rt,"y",O,u)),u.axref===u.xref&&ae("ax",M(B,ct,"ax",O,u)),u.ayref===u.yref&&ae("ay",M(C,Rt,"ay",O,u)),Be.attr("transform",r(ct,Rt)),Q.attr({transform:"rotate("+V+","+Yt+","+Jt+")"})},doneFn:function(){x.call("_guiRelayout",c,N());var ct=document.querySelector(".js-notes-box-panel");ct&&ct.redraw(ct.selectedObj)}})}}};if(u.showarrow&&Ut(0,0),ue){var Nt;m.init({element:Se.node(),gd:c,prepFn:function(){Nt=Q.attr("transform")},moveFn:function(Gt,Ct){var Dt="pointer";if(u.showarrow)u.axref===u.xref?ae("ax",M(B,Gt,"ax",O,u)):ae("ax",u.ax+Gt),u.ayref===u.yref?ae("ay",M(C,Ct,"ay",O.w,u)):ae("ay",u.ay+Ct),Ut(Gt,Ct);else{if(w)return;var _t,Wt;if(B)_t=M(B,Gt,"x",O,u);else{var Bt=u._xsize/O.w,It=u.x+(u._xshift-u.xshift)/O.w-Bt/2;_t=m.align(It+Gt/O.w,Bt,0,1,u.xanchor)}if(C)Wt=M(C,Ct,"y",O,u);else{var it=u._ysize/O.h,Ot=u.y-(u._yshift+u.yshift)/O.h-it/2;Wt=m.align(Ot-Ct/O.h,it,0,1,u.yanchor)}ae("x",_t),ae("y",Wt),(!B||!C)&&(Dt=m.getCursor(B?.5:_t,C?.5:Wt,u.xanchor,u.yanchor))}Q.attr({transform:r(Gt,Ct)+Nt}),p(Se,Dt)},clickFn:function(Gt,Ct){u.captureevents&&c.emit("plotly_clickannotation",ye(Ct))},doneFn:function(){p(Se),x.call("_guiRelayout",c,N());var Gt=document.querySelector(".js-notes-box-panel");Gt&&Gt.redraw(Gt.selectedObj)}})}}L.annotationText?J.call(d.makeEditable,{delegate:Se,gd:c}).call(E).on("edit",function(ie){u.text=ie,this.call(E),ae("text",ie),B&&B.autorange&&q(B._name+".autorange",!0),C&&C.autorange&&q(C._name+".autorange",!0),x.call("_guiRelayout",c,N())}):J.call(E)}},3011:function(re,H,e){var o=e(9898),x=e(7901),l=e(2884),i=e(1828),r=i.strScale,f=i.strRotate,s=i.strTranslate;re.exports=function(t,d,p){var m=t.node(),y=l[p.arrowhead||0],h=l[p.startarrowhead||0],T=(p.arrowwidth||1)*(p.arrowsize||1),g=(p.arrowwidth||1)*(p.startarrowsize||1),M=d.indexOf("start")>=0,v=d.indexOf("end")>=0,c=y.backoff*T+p.standoff,u=h.backoff*g+p.startstandoff,b,w,B,C;if(m.nodeName==="line"){b={x:+t.attr("x1"),y:+t.attr("y1")},w={x:+t.attr("x2"),y:+t.attr("y2")};var I=b.x-w.x,O=b.y-w.y;if(B=Math.atan2(O,I),C=B+Math.PI,c&&u&&c+u>Math.sqrt(I*I+O*O)){Q();return}if(c){if(c*c>I*I+O*O){Q();return}var L=c*Math.cos(B),X=c*Math.sin(B);w.x+=L,w.y+=X,t.attr({x2:w.x,y2:w.y})}if(u){if(u*u>I*I+O*O){Q();return}var Z=u*Math.cos(B),te=u*Math.sin(B);b.x-=Z,b.y-=te,t.attr({x1:b.x,y1:b.y})}}else if(m.nodeName==="path"){var q=m.getTotalLength(),ae="";if(q<c+u){Q();return}var N=m.getPointAtLength(0),D=m.getPointAtLength(.1);B=Math.atan2(N.y-D.y,N.x-D.x),b=m.getPointAtLength(Math.min(u,q)),ae="0px,"+u+"px,";var _=m.getPointAtLength(q),V=m.getPointAtLength(q-.1);C=Math.atan2(_.y-V.y,_.x-V.x),w=m.getPointAtLength(Math.max(0,q-c));var G=ae?u+c:c;ae+=q-G+"px,"+q+"px",t.style("stroke-dasharray",ae)}function Q(){t.style("stroke-dasharray","0px,100px")}function ue(le,ye,Se,ce){le.path&&(le.noRotate&&(Se=0),o.select(m.parentNode).append("path").attr({class:t.attr("class"),d:le.path,transform:s(ye.x,ye.y)+f(Se*180/Math.PI)+r(ce)}).style({fill:x.rgb(p.arrowcolor),"stroke-width":0}))}M&&ue(h,b,B,g),v&&ue(y,w,C,T)}},2745:function(re,H,e){var o=e(2605),x=e(4317);re.exports={moduleType:"component",name:"annotations",layoutAttributes:e(215),supplyLayoutDefaults:e(4046),includeBasePlot:e(6325)("annotations"),calcAutorange:e(3749),draw:o.draw,drawOne:o.drawOne,drawRaw:o.drawRaw,hasClickToShow:x.hasClickToShow,onClick:x.onClick,convertCoords:e(4128)}},6997:function(re,H,e){var o=e(215),x=e(962).overrideAll,l=e(4467).templatedArray;re.exports=x(l("annotation",{visible:o.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:o.xanchor,xshift:o.xshift,yanchor:o.yanchor,yshift:o.yshift,text:o.text,textangle:o.textangle,font:o.font,width:o.width,height:o.height,opacity:o.opacity,align:o.align,valign:o.valign,bgcolor:o.bgcolor,bordercolor:o.bordercolor,borderpad:o.borderpad,borderwidth:o.borderwidth,showarrow:o.showarrow,arrowcolor:o.arrowcolor,arrowhead:o.arrowhead,startarrowhead:o.startarrowhead,arrowside:o.arrowside,arrowsize:o.arrowsize,startarrowsize:o.startarrowsize,arrowwidth:o.arrowwidth,standoff:o.standoff,startstandoff:o.startstandoff,hovertext:o.hovertext,hoverlabel:o.hoverlabel,captureevents:o.captureevents}),"calc","from-root")},5485:function(re,H,e){var o=e(1828),x=e(9298);re.exports=function(r){for(var f=r.fullSceneLayout,s=f.annotations,n=0;n<s.length;n++)l(s[n],r);r.fullLayout._infolayer.selectAll(".annotation-"+r.id).remove()};function l(i,r){var f=r.fullSceneLayout,s=f.domain,n=r.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};i._xa={},o.extendFlat(i._xa,t),x.setConvert(i._xa),i._xa._offset=n.l+s.x[0]*n.w,i._xa.l2p=function(){return .5*(1+i._pdata[0]/i._pdata[3])*n.w*(s.x[1]-s.x[0])},i._ya={},o.extendFlat(i._ya,t),x.setConvert(i._ya),i._ya._offset=n.t+(1-s.y[1])*n.h,i._ya.l2p=function(){return .5*(1-i._pdata[1]/i._pdata[3])*n.h*(s.y[1]-s.y[0])}}},226:function(re,H,e){var o=e(1828),x=e(9298),l=e(5501),i=e(5625),r=e(6997);re.exports=function(n,t,d){l(n,t,{name:"annotations",handleItemDefaults:f,fullLayout:d.fullLayout})};function f(s,n,t,d){function p(h,T){return o.coerce(s,n,r,h,T)}function m(h){var T=h+"axis",g={_fullLayout:{}};return g._fullLayout[T]=t[T],x.coercePosition(n,g,p,h,h,.5)}var y=p("visible");y&&(i(s,n,d.fullLayout,p),m("x"),m("y"),m("z"),o.noneOrAll(s,n,["x","y","z"]),n.xref="x",n.yref="y",n.zref="z",p("xanchor"),p("yanchor"),p("xshift"),p("yshift"),n.showarrow&&(n.axref="pixel",n.ayref="pixel",p("ax",-10),p("ay",-30),o.noneOrAll(s,n,["ax","ay"])))}},2188:function(re,H,e){var o=e(2605).drawRaw,x=e(3538),l=["x","y","z"];re.exports=function(r){for(var f=r.fullSceneLayout,s=r.dataScale,n=f.annotations,t=0;t<n.length;t++){for(var d=n[t],p=!1,m=0;m<3;m++){var y=l[m],h=d[y],T=f[y+"axis"],g=T.r2fraction(h);if(g<0||g>1){p=!0;break}}p?r.fullLayout._infolayer.select(".annotation-"+r.id+'[data-index="'+t+'"]').remove():(d._pdata=x(r.glplot.cameraParams,[f.xaxis.r2l(d.x)*s[0],f.yaxis.r2l(d.y)*s[1],f.zaxis.r2l(d.z)*s[2]]),o(r.graphDiv,d,t,r.id,d._xa,d._ya))}}},2468:function(re,H,e){var o=e(3972),x=e(1828);re.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(6997)}}},layoutAttributes:e(6997),handleDefaults:e(226),includeBasePlot:l,convert:e(5485),draw:e(2188)};function l(i,r){var f=o.subplotsRegistry.gl3d;if(f)for(var s=f.attrRegex,n=Object.keys(i),t=0;t<n.length;t++){var d=n[t];s.test(d)&&(i[d].annotations||[]).length&&(x.pushUnique(r._basePlotModules,f),x.pushUnique(r._subplots.gl3d,d))}}},7561:function(re,H,e){re.exports=e(3489),e(4338),e(3961),e(8751),e(6825),e(7715),e(9384),e(3805),e(8874),e(3290),e(9108),e(5422),e(4320),e(1320),e(1367),e(1457)},2201:function(re,H,e){var o=e(7561),x=e(1828),l=e(606),i=l.EPOCHJD,r=l.ONEDAY,f={valType:"enumerated",values:x.sortObjectKeys(o.calendars),editType:"calc",dflt:"gregorian"},s=function(B,C,I,O){var L={};return L[I]=f,x.coerce(B,C,L,I,O)},n=function(B,C,I,O){for(var L=0;L<I.length;L++)s(B,C,I[L]+"calendar",O.calendar)},t={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},d={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},p={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},m="##",y={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:m,w:m,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function h(B,C,I){for(var O=Math.floor((C+.05)/r)+i,L=g(I).fromJD(O),X=0,Z,te,q,ae,N;(X=B.indexOf("%",X))!==-1;)Z=B.charAt(X+1),Z==="0"||Z==="-"||Z==="_"?(q=3,te=B.charAt(X+2),Z==="_"&&(Z="-")):(te=Z,Z="0",q=2),ae=y[te],ae?(ae===m?N=m:N=L.formatDate(ae[Z]),B=B.substr(0,X)+N+B.substr(X+q),X+=N.length):X+=q;return B}var T={};function g(B){var C=T[B];return C||(C=T[B]=o.instance(B),C)}function M(B){return x.extendFlat({},f,{description:B})}function v(B){return"Sets the calendar system to use with `"+B+"` date data."}var c={xcalendar:M(v("x"))},u=x.extendFlat({},c,{ycalendar:M(v("y"))}),b=x.extendFlat({},u,{zcalendar:M(v("z"))}),w=M(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));re.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:u,bar:u,box:u,heatmap:u,contour:u,histogram:u,histogram2d:u,histogram2dcontour:u,scatter3d:b,surface:b,mesh3d:b,scattergl:u,ohlc:c,candlestick:c},layout:{calendar:M(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:w},yaxis:{calendar:w},scene:{xaxis:{calendar:w},yaxis:{calendar:w},zaxis:{calendar:w}},polar:{radialaxis:{calendar:w}}},transforms:{filter:{valuecalendar:M(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:M(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:f,handleDefaults:s,handleTraceDefaults:n,CANONICAL_SUNDAY:d,CANONICAL_TICK:t,DFLTRANGE:p,getCal:g,worldCalFmt:h}},2399:function(re,H){H.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],H.defaultLine="#444",H.lightLine="#eee",H.background="#fff",H.borderLine="#BEC8D9",H.lightFraction=90.9090909090909},7901:function(re,H,e){var o=e(4267),x=e(2770),l=e(3627).isTypedArray,i=re.exports={},r=e(2399);i.defaults=r.defaults;var f=i.defaultLine=r.defaultLine;i.lightLine=r.lightLine;var s=i.background=r.background;i.tinyRGB=function(t){var d=t.toRgb();return"rgb("+Math.round(d.r)+", "+Math.round(d.g)+", "+Math.round(d.b)+")"},i.rgb=function(t){return i.tinyRGB(o(t))},i.opacity=function(t){return t?o(t).getAlpha():0},i.addOpacity=function(t,d){var p=o(t).toRgb();return"rgba("+Math.round(p.r)+", "+Math.round(p.g)+", "+Math.round(p.b)+", "+d+")"},i.combine=function(t,d){var p=o(t).toRgb();if(p.a===1)return o(t).toRgbString();var m=o(d||s).toRgb(),y=m.a===1?m:{r:255*(1-m.a)+m.r*m.a,g:255*(1-m.a)+m.g*m.a,b:255*(1-m.a)+m.b*m.a},h={r:y.r*(1-p.a)+p.r*p.a,g:y.g*(1-p.a)+p.g*p.a,b:y.b*(1-p.a)+p.b*p.a};return o(h).toRgbString()},i.contrast=function(t,d,p){var m=o(t);m.getAlpha()!==1&&(m=o(i.combine(t,s)));var y=m.isDark()?d?m.lighten(d):s:p?m.darken(p):f;return y.toString()},i.stroke=function(t,d){var p=o(d);t.style({stroke:i.tinyRGB(p),"stroke-opacity":p.getAlpha()})},i.fill=function(t,d){var p=o(d);t.style({fill:i.tinyRGB(p),"fill-opacity":p.getAlpha()})},i.clean=function(t){if(!(!t||typeof t!="object")){var d=Object.keys(t),p,m,y,h;for(p=0;p<d.length;p++)if(y=d[p],h=t[y],y.substr(y.length-5)==="color")if(Array.isArray(h))for(m=0;m<h.length;m++)h[m]=n(h[m]);else t[y]=n(h);else if(y.substr(y.length-10)==="colorscale"&&Array.isArray(h))for(m=0;m<h.length;m++)Array.isArray(h[m])&&(h[m][1]=n(h[m][1]));else if(Array.isArray(h)){var T=h[0];if(!Array.isArray(T)&&T&&typeof T=="object")for(m=0;m<h.length;m++)i.clean(h[m])}else h&&typeof h=="object"&&!l(h)&&i.clean(h)}};function n(t){if(x(t)||typeof t!="string")return t;var d=t.trim();if(d.substr(0,3)!=="rgb")return t;var p=d.match(/^rgba?\s*\(([^()]*)\)$/);if(!p)return t;var m=p[1].trim().split(/\s*[\s,]\s*/),y=d.charAt(3)==="a"&&m.length===4;if(!y&&m.length!==3)return t;for(var h=0;h<m.length;h++){if(!m[h].length||(m[h]=Number(m[h]),!(m[h]>=0)))return t;if(h===3)m[h]>1&&(m[h]=1);else if(m[h]>=1)return t}var T=Math.round(m[0]*255)+", "+Math.round(m[1]*255)+", "+Math.round(m[2]*255);return y?"rgba("+T+", "+m[3]+")":"rgb("+T+")"}},3583:function(re,H,e){var o=e(3838),x=e(1940),l=e(1426).extendFlat,i=e(962).overrideAll;re.exports=i({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:o.linecolor,outlinewidth:o.linewidth,bordercolor:o.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:o.minor.tickmode,nticks:o.nticks,tick0:o.tick0,dtick:o.dtick,tickvals:o.tickvals,ticktext:o.ticktext,ticks:l({},o.ticks,{dflt:""}),ticklabeloverflow:l({},o.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:o.ticklen,tickwidth:o.tickwidth,tickcolor:o.tickcolor,ticklabelstep:o.ticklabelstep,showticklabels:o.showticklabels,labelalias:o.labelalias,tickfont:x({}),tickangle:o.tickangle,tickformat:o.tickformat,tickformatstops:o.tickformatstops,tickprefix:o.tickprefix,showtickprefix:o.showtickprefix,ticksuffix:o.ticksuffix,showticksuffix:o.showticksuffix,separatethousands:o.separatethousands,exponentformat:o.exponentformat,minexponent:o.minexponent,showexponent:o.showexponent,title:{text:{valType:"string"},font:x({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:x({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},939:function(re){re.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},2499:function(re,H,e){var o=e(1828),x=e(4467),l=e(6218),i=e(8701),r=e(6115),f=e(9426),s=e(3583);re.exports=function(t,d,p){var m=x.newContainer(d,"colorbar"),y=t.colorbar||{};function h(L,X){return o.coerce(y,m,s,L,X)}var T=p.margin||{t:0,b:0,l:0,r:0},g=p.width-T.l-T.r,M=p.height-T.t-T.b,v=h("orientation"),c=v==="v",u=h("thicknessmode");h("thickness",u==="fraction"?30/(c?g:M):30);var b=h("lenmode");h("len",b==="fraction"?1:c?M:g),h("x",c?1.02:.5),h("xanchor",c?"left":"center"),h("xpad"),h("y",c?.5:1.02),h("yanchor",c?"middle":"bottom"),h("ypad"),o.noneOrAll(y,m,["x","y"]),h("outlinecolor"),h("outlinewidth"),h("bordercolor"),h("borderwidth"),h("bgcolor");var w=o.coerce(y,m,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:c?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");h("ticklabeloverflow",w.indexOf("inside")!==-1?"hide past domain":"hide past div"),l(y,m,h,"linear");var B=p.font,C={outerTicks:!1,font:B};w.indexOf("inside")!==-1&&(C.bgColor="black"),f(y,m,h,"linear",C),r(y,m,h,"linear",C),i(y,m,h,"linear",C),h("title.text",p._dfltTitle.colorbar);var I=m.showticklabels?m.tickfont:B,O=o.extendFlat({},I,{color:B.color,size:o.bigFont(I.size)});o.coerceFont(h,"title.font",O),h("title.side",c?"top":"right")}},8981:function(re,H,e){var o=e(9898),x=e(4267),l=e(4875),i=e(3972),r=e(9298),f=e(8569),s=e(1828),n=s.strTranslate,t=e(1426).extendFlat,d=e(6964),p=e(1424),m=e(7901),y=e(2998),h=e(3893),T=e(2869).flipScale,g=e(1453),M=e(2830),v=e(3838),c=e(8783),u=c.LINE_SPACING,b=c.FROM_TL,w=c.FROM_BR,B=e(939).cn;function C(te){var q=te._fullLayout,ae=q._infolayer.selectAll("g."+B.colorbar).data(I(te),function(N){return N._id});ae.enter().append("g").attr("class",function(N){return N._id}).classed(B.colorbar,!0),ae.each(function(N){var D=o.select(this);s.ensureSingle(D,"rect",B.cbbg),s.ensureSingle(D,"g",B.cbfills),s.ensureSingle(D,"g",B.cblines),s.ensureSingle(D,"g",B.cbaxis,function(V){V.classed(B.crisp,!0)}),s.ensureSingle(D,"g",B.cbtitleunshift,function(V){V.append("g").classed(B.cbtitle,!0)}),s.ensureSingle(D,"rect",B.cboutline);var _=O(D,N,te);_&&_.then&&(te._promises||[]).push(_),te._context.edits.colorbarPosition&&L(D,N,te)}),ae.exit().each(function(N){l.autoMargin(te,N._id)}).remove(),ae.order()}function I(te){var q=te._fullLayout,ae=te.calcdata,N=[],D,_,V,G;function Q(Y){return t(Y,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function ue(){typeof G.calc=="function"?G.calc(te,V,D):(D._fillgradient=_.reversescale?T(_.colorscale):_.colorscale,D._zrange=[_[G.min],_[G.max]])}for(var le=0;le<ae.length;le++){var ye=ae[le];V=ye[0].trace;var Se=V._module.colorbar;if(V.visible===!0&&Se)for(var ce=Array.isArray(Se),de=ce?Se:[Se],S=0;S<de.length;S++){G=de[S];var P=G.container;_=P?V[P]:V,_&&_.showscale&&(D=Q(_.colorbar),D._id="cb"+V.uid+(ce&&P?"-"+P:""),D._traceIndex=V.index,D._propPrefix=(P?P+".":"")+"colorbar.",D._meta=V._meta,ue(),N.push(D))}}for(var k in q._colorAxes)if(_=q[k],_.showscale){var z=q._colorAxes[k];D=Q(_.colorbar),D._id="cb"+k,D._propPrefix=k+".colorbar.",D._meta=q._meta,G={min:"cmin",max:"cmax"},z[0]!=="heatmap"&&(V=z[1],G.calc=V._module.colorbar.calc),ue(),N.push(D)}return N}function O(te,q,ae){var N=q.orientation==="v",D=q.len,_=q.lenmode,V=q.thickness,G=q.thicknessmode,Q=q.outlinewidth,ue=q.borderwidth,le=q.bgcolor,ye=q.xanchor,Se=q.yanchor,ce=q.xpad,de=q.ypad,S=q.x,P=N?q.y:1-q.y,k=ae._fullLayout,z=k._size,Y=q._fillcolor,F=q._line,J=q.title,E=J.side,K=q._zrange||o.extent((typeof Y=="function"?Y:F.color).domain()),ie=typeof F.color=="function"?F.color:function(){return F.color},ve=typeof Y=="function"?Y:function(){return Y},he=q._levels,Le=X(ae,q,K),ke=Le.fill,se=Le.line,ge=Math.round(V*(G==="fraction"?N?z.w:z.h:1)),be=ge/(N?z.w:z.h),Ee=Math.round(D*(_==="fraction"?N?z.h:z.w:1)),we=Ee/(N?z.h:z.w),Te=Math.round(N?S*z.w+ce:P*z.h+de),Ne={center:.5,right:1}[ye]||0,$e={top:1,middle:.5}[Se]||0,je=N?S-Ne*be:P-$e*be,He=N?P-$e*we:S-Ne*we,st=Math.round(N?z.h*(1-He):z.w*He);q._lenFrac=we,q._thickFrac=be,q._uFrac=je,q._vFrac=He;var nt=q._axis=Z(ae,q,K);nt.position=be+(N?S+ce/z.w:P+de/z.h);var dt=["top","bottom"].indexOf(E)!==-1;if(N&&dt&&(nt.title.side=E,nt.titlex=S+ce/z.w,nt.titley=He+(J.side==="top"?we-de/z.h:de/z.h)),!N&&!dt&&(nt.title.side=E,nt.titley=P+de/z.h,nt.titlex=He+ce/z.w),F.color&&q.tickmode==="auto"){nt.tickmode="linear",nt.tick0=he.start;var ht=he.size,Pt=s.constrain(Ee/50,4,15)+1,bt=(K[1]-K[0])/((q.nticks||Pt)*ht);if(bt>1){var At=Math.pow(10,Math.floor(Math.log(bt)/Math.LN10));ht*=At*s.roundUp(bt/At,[2,5,10]),(Math.abs(he.start)/he.size+1e-6)%1<2e-6&&(nt.tick0=0)}nt.dtick=ht}nt.domain=N?[He+de/z.h,He+we-de/z.h]:[He+ce/z.w,He+we-ce/z.w],nt.setScale(),te.attr("transform",n(Math.round(z.l),Math.round(z.t)));var wt=te.select("."+B.cbtitleunshift).attr("transform",n(-Math.round(z.l),-Math.round(z.t))),Lt=nt.ticklabelposition,kt=nt.title.font.size,Ce=te.select("."+B.cbaxis),Ae,Pe=0,$=0;function fe(_e,Je){var Qe={propContainer:nt,propName:q._propPrefix+"title",traceIndex:q._traceIndex,_meta:q._meta,placeholder:k._dfltTitle.colorbar,containerGroup:te.select("."+B.cbtitle)},Oe=_e.charAt(0)==="h"?_e.substr(1):"h"+_e;te.selectAll("."+Oe+",."+Oe+"-math-group").remove(),y.draw(ae,_e,t(Qe,Je||{}))}function pe(){if(N&&dt||!N&&!dt){var _e,Je;E==="top"&&(_e=ce+z.l+z.w*S,Je=de+z.t+z.h*(1-He-we)+3+kt*.75),E==="bottom"&&(_e=ce+z.l+z.w*S,Je=de+z.t+z.h*(1-He)-3-kt*.25),E==="right"&&(Je=de+z.t+z.h*P+3+kt*.75,_e=ce+z.l+z.w*He),fe(nt._id+"title",{attributes:{x:_e,y:Je,"text-anchor":N?"start":"middle"}})}}function Me(){if(N&&!dt||!N&&dt){var _e=nt.position||0,Je=nt._offset+nt._length/2,Qe,Oe;if(E==="right")Oe=Je,Qe=z.l+z.w*_e+10+kt*(nt.showticklabels?1:.5);else if(Qe=Je,E==="bottom"&&(Oe=z.t+z.h*_e+10+(Lt.indexOf("inside")===-1?nt.tickfont.size:0)+(nt.ticks!=="intside"&&q.ticklen||0)),E==="top"){var ft=J.text.split("<br>").length;Oe=z.t+z.h*_e+10-ge-u*kt*ft}fe((N?"h":"v")+nt._id+"title",{avoid:{selection:o.select(ae).selectAll("g."+nt._id+"tick"),side:E,offsetTop:N?0:z.t,offsetLeft:N?z.l:0,maxShift:N?k.width:k.height},attributes:{x:Qe,y:Oe,"text-anchor":"middle"},transform:{rotate:N?-90:0,offset:0}})}}function Ge(){if(!N&&!dt||N&&dt){var _e=te.select("."+B.cbtitle),Je=_e.select("text"),Qe=[-Q/2,Q/2],Oe=_e.select(".h"+nt._id+"title-math-group").node(),ft=15.6;Je.node()&&(ft=parseInt(Je.node().style.fontSize,10)*u);var vt;if(Oe?(vt=p.bBox(Oe),$=vt.width,Pe=vt.height,Pe>ft&&(Qe[1]-=(Pe-ft)/2)):Je.node()&&!Je.classed(B.jsPlaceholder)&&(vt=p.bBox(Je.node()),$=vt.width,Pe=vt.height),N){if(Pe){if(Pe+=5,E==="top")nt.domain[1]-=Pe/z.h,Qe[1]*=-1;else{nt.domain[0]+=Pe/z.h;var xt=h.lineCount(Je);Qe[1]+=(1-xt)*ft}_e.attr("transform",n(Qe[0],Qe[1])),nt.setScale()}}else $&&(E==="right"&&(nt.domain[0]+=($+kt/2)/z.w),_e.attr("transform",n(Qe[0],Qe[1])),nt.setScale())}te.selectAll("."+B.cbfills+",."+B.cblines).attr("transform",N?n(0,Math.round(z.h*(1-nt.domain[1]))):n(Math.round(z.w*nt.domain[0]),0)),Ce.attr("transform",N?n(0,Math.round(-z.t)):n(Math.round(-z.l),0));var zt=te.select("."+B.cbfills).selectAll("rect."+B.cbfill).attr("style","").data(ke);zt.enter().append("rect").classed(B.cbfill,!0).style("stroke","none"),zt.exit().remove();var Vt=K.map(nt.c2p).map(Math.round).sort(function(Dt,_t){return Dt-_t});zt.each(function(Dt,_t){var Wt=[_t===0?K[0]:(ke[_t]+ke[_t-1])/2,_t===ke.length-1?K[1]:(ke[_t]+ke[_t+1])/2].map(nt.c2p).map(Math.round);N&&(Wt[1]=s.constrain(Wt[1]+(Wt[1]>Wt[0])?1:-1,Vt[0],Vt[1]));var Bt=o.select(this).attr(N?"x":"y",Te).attr(N?"y":"x",o.min(Wt)).attr(N?"width":"height",Math.max(ge,2)).attr(N?"height":"width",Math.max(o.max(Wt)-o.min(Wt),2));if(q._fillgradient)p.gradient(Bt,ae,q._id,N?"vertical":"horizontalreversed",q._fillgradient,"fill");else{var It=ve(Dt).replace("e-","");Bt.attr("fill",x(It).toHexString())}});var Ut=te.select("."+B.cblines).selectAll("path."+B.cbline).data(F.color&&F.width?se:[]);Ut.enter().append("path").classed(B.cbline,!0),Ut.exit().remove(),Ut.each(function(Dt){var _t=Te,Wt=Math.round(nt.c2p(Dt))+F.width/2%1;o.select(this).attr("d","M"+(N?_t+","+Wt:Wt+","+_t)+(N?"h":"v")+ge).call(p.lineGroupStyle,F.width,ie(Dt),F.dash)}),Ce.selectAll("g."+nt._id+"tick,path").remove();var Nt=Te+ge+(Q||0)/2-(q.ticks==="outside"?1:0),Gt=r.calcTicks(nt),Ct=r.getTickSigns(nt)[2];return r.drawTicks(ae,nt,{vals:nt.ticks==="inside"?r.clipEnds(nt,Gt):Gt,layer:Ce,path:r.makeTickPath(nt,Nt,Ct),transFn:r.makeTransTickFn(nt)}),r.drawLabels(ae,nt,{vals:Gt,layer:Ce,transFn:r.makeTransTickLabelFn(nt),labelFns:r.makeLabelFns(nt,Nt)})}function Ie(){var _e,Je=ge+Q/2;Lt.indexOf("inside")===-1&&(_e=p.bBox(Ce.node()),Je+=N?_e.width:_e.height),Ae=wt.select("text");var Qe=0,Oe=N&&E==="top",ft=!N&&E==="right",vt=0;if(Ae.node()&&!Ae.classed(B.jsPlaceholder)){var xt,zt=wt.select(".h"+nt._id+"title-math-group").node();zt&&(N&&dt||!N&&!dt)?(_e=p.bBox(zt),Qe=_e.width,xt=_e.height):(_e=p.bBox(wt.node()),Qe=_e.right-z.l-(N?Te:st),xt=_e.bottom-z.t-(N?st:Te),!N&&E==="top"&&(Je+=_e.height,vt=_e.height)),ft&&(Ae.attr("transform",n(Qe/2+kt/2,0)),Qe*=2),Je=Math.max(Je,N?Qe:xt)}var Vt=(N?ce:de)*2+Je+ue+Q/2,Ut=0;!N&&J.text&&Se==="bottom"&&P<=0&&(Ut=Vt/2,Vt+=Ut,vt+=Ut),k._hColorbarMoveTitle=Ut,k._hColorbarMoveCBTitle=vt;var Nt=ue+Q;te.select("."+B.cbbg).attr("x",(N?Te:st)-Nt/2-(N?ce:0)).attr("y",(N?st:Te)-(N?Ee:de+vt-Ut)).attr(N?"width":"height",Math.max(Vt-Ut,2)).attr(N?"height":"width",Math.max(Ee+Nt,2)).call(m.fill,le).call(m.stroke,q.bordercolor).style("stroke-width",ue);var Gt=ft?Math.max(Qe-10,0):0;if(te.selectAll("."+B.cboutline).attr("x",(N?Te:st+ce)+Gt).attr("y",(N?st+de-Ee:Te)+(Oe?Pe:0)).attr(N?"width":"height",Math.max(ge,2)).attr(N?"height":"width",Math.max(Ee-(N?2*de+Pe:2*ce+Gt),2)).call(m.stroke,q.outlinecolor).style({fill:"none","stroke-width":Q}),te.attr("transform",n(z.l-(N?Ne*Vt:0),z.t-(N?0:(1-$e)*Vt-vt))),!N&&(ue||x(le).getAlpha()&&!x.equals(k.paper_bgcolor,le))){var Ct=Ce.selectAll("text"),Dt=Ct[0].length,_t=te.select("."+B.cbbg).node(),Wt=p.bBox(_t),Bt=p.getTranslate(te),It=2;Ct.each(function(or,ne){var ee=0,ze=Dt-1;if(ne===ee||ne===ze){var Fe=p.bBox(this),Ue=p.getTranslate(this),Ze;if(ne===ze){var Xe=Fe.right+Ue.x,Be=Wt.right+Bt.x+st-ue-It+S;Ze=Be-Xe,Ze>0&&(Ze=0)}else if(ne===ee){var Ye=Fe.left+Ue.x,qe=Wt.left+Bt.x+st+ue+It;Ze=qe-Ye,Ze<0&&(Ze=0)}Ze&&(Dt<3?this.setAttribute("transform","translate("+Ze+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var it={},Ot=b[ye],Xt=w[ye],nr=b[Se],Ht=w[Se],tr=Vt-ge;N?(_==="pixels"?(it.y=P,it.t=Ee*nr,it.b=Ee*Ht):(it.t=it.b=0,it.yt=P+D*nr,it.yb=P-D*Ht),G==="pixels"?(it.x=S,it.l=Vt*Ot,it.r=Vt*Xt):(it.l=tr*Ot,it.r=tr*Xt,it.xl=S-V*Ot,it.xr=S+V*Xt)):(_==="pixels"?(it.x=S,it.l=Ee*Ot,it.r=Ee*Xt):(it.l=it.r=0,it.xl=S+D*Ot,it.xr=S-D*Xt),G==="pixels"?(it.y=1-P,it.t=Vt*nr,it.b=Vt*Ht):(it.t=tr*nr,it.b=tr*Ht,it.yt=P-V*nr,it.yb=P+V*Ht)),l.autoMargin(ae,q._id,it)}return s.syncOrAsync([l.previousPromises,pe,Ge,Me,l.previousPromises,Ie],ae)}function L(te,q,ae){var N=q.orientation==="v",D=ae._fullLayout,_=D._size,V,G,Q;f.init({element:te.node(),gd:ae,prepFn:function(){V=te.attr("transform"),d(te)},moveFn:function(ue,le){te.attr("transform",V+n(ue,le)),G=f.align((N?q._uFrac:q._vFrac)+ue/_.w,N?q._thickFrac:q._lenFrac,0,1,q.xanchor),Q=f.align((N?q._vFrac:1-q._uFrac)-le/_.h,N?q._lenFrac:q._thickFrac,0,1,q.yanchor);var ye=f.getCursor(G,Q,q.xanchor,q.yanchor);d(te,ye)},doneFn:function(){if(d(te),G!==void 0&&Q!==void 0){var ue={};ue[q._propPrefix+"x"]=G,ue[q._propPrefix+"y"]=Q,q._traceIndex!==void 0?i.call("_guiRestyle",ae,ue,q._traceIndex):i.call("_guiRelayout",ae,ue)}}})}function X(te,q,ae){var N=q._levels,D=[],_=[],V,G,Q=N.end+N.size/100,ue=N.size,le=1.001*ae[0]-.001*ae[1],ye=1.001*ae[1]-.001*ae[0];for(G=0;G<1e5&&(V=N.start+G*ue,!(ue>0?V>=Q:V<=Q));G++)V>le&&V<ye&&D.push(V);if(q._fillgradient)_=[0];else if(typeof q._fillcolor=="function"){var Se=q._filllevels;if(Se)for(Q=Se.end+Se.size/100,ue=Se.size,G=0;G<1e5&&(V=Se.start+G*ue,!(ue>0?V>=Q:V<=Q));G++)V>ae[0]&&V<ae[1]&&_.push(V);else _=D.map(function(ce){return ce-N.size/2}),_.push(_[_.length-1]+N.size)}else q._fillcolor&&typeof q._fillcolor=="string"&&(_=[0]);return N.size<0&&(D.reverse(),_.reverse()),{line:D,fill:_}}function Z(te,q,ae){var N=te._fullLayout,D=q.orientation==="v",_={type:"linear",range:ae,tickmode:q.tickmode,nticks:q.nticks,tick0:q.tick0,dtick:q.dtick,tickvals:q.tickvals,ticktext:q.ticktext,ticks:q.ticks,ticklen:q.ticklen,tickwidth:q.tickwidth,tickcolor:q.tickcolor,showticklabels:q.showticklabels,labelalias:q.labelalias,ticklabelposition:q.ticklabelposition,ticklabeloverflow:q.ticklabeloverflow,ticklabelstep:q.ticklabelstep,tickfont:q.tickfont,tickangle:q.tickangle,tickformat:q.tickformat,exponentformat:q.exponentformat,minexponent:q.minexponent,separatethousands:q.separatethousands,showexponent:q.showexponent,showtickprefix:q.showtickprefix,tickprefix:q.tickprefix,showticksuffix:q.showticksuffix,ticksuffix:q.ticksuffix,title:q.title,showline:!0,anchor:"free",side:D?"right":"bottom",position:1},V=D?"y":"x",G={type:"linear",_id:V+q._id},Q={letter:V,font:N.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:N.calendar};function ue(le,ye){return s.coerce(_,G,v,le,ye)}return g(_,G,ue,Q,N),M(_,G,ue,Q),G}re.exports={draw:C}},6228:function(re,H,e){var o=e(1828);re.exports=function(l){return o.isPlainObject(l.colorbar)}},2311:function(re,H,e){re.exports={moduleType:"component",name:"colorbar",attributes:e(3583),supplyDefaults:e(2499),draw:e(8981).draw,hasColorbar:e(6228)}},693:function(re,H,e){var o=e(3583),x=e(587).counter,l=e(8607),i=e(3282).scales;l(i),re.exports=function(f,s){f=f||"",s=s||{};var n=s.cLetter||"c";"onlyIfNumerical"in s&&s.onlyIfNumerical;var t="noScale"in s?s.noScale:f==="marker.line",d="showScaleDflt"in s?s.showScaleDflt:n==="z",p=typeof s.colorscaleDflt=="string"?i[s.colorscaleDflt]:null,m=s.editTypeOverride||"",y;"colorAttr"in s?(y=s.colorAttr,s.colorAttr):y={z:"z",c:"color"}[n];var h=n+"auto",T=n+"min",g=n+"max",M=n+"mid",v={};v[T]=v[g]=void 0;var c={};c[h]=!1;var u={};return y==="color"&&(u.color={valType:"color",arrayOk:!0,editType:m||"style"},s.anim&&(u.color.anim=!0)),u[h]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:v},u[T]={valType:"number",dflt:null,editType:m||"plot",impliedEdits:c},u[g]={valType:"number",dflt:null,editType:m||"plot",impliedEdits:c},u[M]={valType:"number",dflt:null,editType:"calc",impliedEdits:v},u.colorscale={valType:"colorscale",editType:"calc",dflt:p,impliedEdits:{autocolorscale:!1}},u.autocolorscale={valType:"boolean",dflt:s.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},u.reversescale={valType:"boolean",dflt:!1,editType:"plot"},t||(u.showscale={valType:"boolean",dflt:d,editType:"calc"},u.colorbar=o),s.noColorAxis||(u.coloraxis={valType:"subplotid",regex:x("coloraxis"),dflt:null,editType:"calc"}),u}},8803:function(re,H,e){var o=e(2770),x=e(1828),l=e(2869).extractOpts;re.exports=function(r,f,s){var n=r._fullLayout,t=s.vals,d=s.containerStr,p=d?x.nestedProperty(f,d).get():f,m=l(p),y=m.auto!==!1,h=m.min,T=m.max,g=m.mid,M=function(){return x.aggNums(Math.min,null,t)},v=function(){return x.aggNums(Math.max,null,t)};if(h===void 0?h=M():y&&(p._colorAx&&o(h)?h=Math.min(h,M()):h=M()),T===void 0?T=v():y&&(p._colorAx&&o(T)?T=Math.max(T,v()):T=v()),y&&g!==void 0&&(T-g>g-h?h=g-(T-g):T-g<g-h&&(T=g+(g-h))),h===T&&(h-=.5,T+=.5),m._sync("min",h),m._sync("max",T),m.autocolorscale){var c;h*T<0?c=n.colorscale.diverging:h>=0?c=n.colorscale.sequential:c=n.colorscale.sequentialminus,m._sync("colorscale",c)}}},3046:function(re,H,e){var o=e(1828),x=e(2869).hasColorscale,l=e(2869).extractOpts;re.exports=function(r,f){function s(h,T){var g=h["_"+T];g!==void 0&&(h[T]=g)}function n(h,T){var g=T.container?o.nestedProperty(h,T.container).get():h;if(g)if(g.coloraxis)g._colorAx=f[g.coloraxis];else{var M=l(g),v=M.auto;(v||M.min===void 0)&&s(g,T.min),(v||M.max===void 0)&&s(g,T.max),M.autocolorscale&&s(g,"colorscale")}}for(var t=0;t<r.length;t++){var d=r[t],p=d._module.colorbar;if(p)if(Array.isArray(p))for(var m=0;m<p.length;m++)n(d,p[m]);else n(d,p);x(d,"marker.line")&&n(d,{container:"marker.line",min:"cmin",max:"cmax"})}for(var y in f._colorAxes)n(f[y],{min:"cmin",max:"cmax"})}},1586:function(re,H,e){var o=e(2770),x=e(1828),l=e(6228),i=e(2499),r=e(3282).isValid,f=e(3972).traceIs;function s(n,t){var d=t.slice(0,t.length-1);return t?x.nestedProperty(n,d).get()||{}:n}re.exports=function n(t,d,p,m,y){var h=y.prefix,T=y.cLetter,g="_module"in d,M=s(t,h),v=s(d,h),c=s(d._template||{},h)||{},u=function(){return delete t.coloraxis,delete d.coloraxis,n(t,d,p,m,y)};if(g){var b=p._colorAxes||{},w=m(h+"coloraxis");if(w){var B=f(d,"contour")&&x.nestedProperty(d,"contours.coloring").get()||"heatmap",C=b[w];C?(C[2].push(u),C[0]!==B&&(C[0]=!1,x.warn(["Ignoring coloraxis:",w,"setting","as it is linked to incompatible colorscales."].join(" ")))):b[w]=[B,d,[u]];return}}var I=M[T+"min"],O=M[T+"max"],L=o(I)&&o(O)&&I<O,X=m(h+T+"auto",!L);X?m(h+T+"mid"):(m(h+T+"min"),m(h+T+"max"));var Z=M.colorscale,te=c.colorscale,q;if(Z!==void 0&&(q=!r(Z)),te!==void 0&&(q=!r(te)),m(h+"autocolorscale",q),m(h+"colorscale"),m(h+"reversescale"),h!=="marker.line."){var ae;h&&g&&(ae=l(M));var N=m(h+"showscale",ae);N&&(h&&c&&(v._template=c),i(M,v,p))}}},2869:function(re,H,e){var o=e(9898),x=e(4267),l=e(2770),i=e(1828),r=e(7901),f=e(3282).isValid;function s(g,M,v){var c=M?i.nestedProperty(g,M).get()||{}:g,u=c[v||"color"],b=!1;if(i.isArrayOrTypedArray(u)){for(var w=0;w<u.length;w++)if(l(u[w])){b=!0;break}}return i.isPlainObject(c)&&(b||c.showscale===!0||l(c.cmin)&&l(c.cmax)||f(c.colorscale)||i.isPlainObject(c.colorbar))}var n=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function d(g){var M=g._colorAx,v=M||g,c={},u,b,w;for(b=0;b<n.length;b++)w=n[b],c[w]=v[w];if(M)for(u="c",b=0;b<t.length;b++)w=t[b],c[w]=v["c"+w];else{var B;for(b=0;b<t.length;b++){if(w=t[b],B="c"+w,B in v){c[w]=v[B];continue}B="z"+w,B in v&&(c[w]=v[B])}u=B.charAt(0)}return c._sync=function(C,I){var O=t.indexOf(C)!==-1?u+C:C;v[O]=v["_"+O]=I},c}function p(g){for(var M=d(g),v=M.min,c=M.max,u=M.reversescale?m(M.colorscale):M.colorscale,b=u.length,w=new Array(b),B=new Array(b),C=0;C<b;C++){var I=u[C];w[C]=v+I[0]*(c-v),B[C]=I[1]}return{domain:w,range:B}}function m(g){for(var M=g.length,v=new Array(M),c=M-1,u=0;c>=0;c--,u++){var b=g[c];v[u]=[1-b[0],b[1]]}return v}function y(g,M){M=M||{};for(var v=g.domain,c=g.range,u=c.length,b=new Array(u),w=0;w<u;w++){var B=x(c[w]).toRgb();b[w]=[B.r,B.g,B.b,B.a]}var C=o.scale.linear().domain(v).range(b).clamp(!0),I=M.noNumericCheck,O=M.returnArray,L;return I&&O?L=C:I?L=function(X){return T(C(X))}:O?L=function(X){return l(X)?C(X):x(X).isValid()?X:r.defaultLine}:L=function(X){return l(X)?T(C(X)):x(X).isValid()?X:r.defaultLine},L.domain=C.domain,L.range=function(){return c},L}function h(g,M){return y(p(g),M)}function T(g){var M={r:g[0],g:g[1],b:g[2],a:g[3]};return x(M).toRgbString()}re.exports={hasColorscale:s,extractOpts:d,extractScale:p,flipScale:m,makeColorScaleFunc:y,makeColorScaleFuncFromTrace:h}},1081:function(re,H,e){var o=e(3282),x=e(2869);re.exports={moduleType:"component",name:"colorscale",attributes:e(693),layoutAttributes:e(2673),supplyLayoutDefaults:e(959),handleDefaults:e(1586),crossTraceDefaults:e(3046),calc:e(8803),scales:o.scales,defaultScale:o.defaultScale,getScale:o.get,isValidScale:o.isValid,hasColorscale:x.hasColorscale,extractOpts:x.extractOpts,extractScale:x.extractScale,flipScale:x.flipScale,makeColorScaleFunc:x.makeColorScaleFunc,makeColorScaleFuncFromTrace:x.makeColorScaleFuncFromTrace}},2673:function(re,H,e){var o=e(1426).extendFlat,x=e(693),l=e(3282).scales;re.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:l.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:l.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:l.RdBu,editType:"calc"}},coloraxis:o({_isSubplotObj:!0,editType:"calc"},x("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},959:function(re,H,e){var o=e(1828),x=e(4467),l=e(2673),i=e(1586);re.exports=function(f,s){function n(g,M){return o.coerce(f,s,l,g,M)}n("colorscale.sequential"),n("colorscale.sequentialminus"),n("colorscale.diverging");var t=s._colorAxes,d,p;function m(g,M){return o.coerce(d,p,l.coloraxis,g,M)}for(var y in t){var h=t[y];if(h[0])d=f[y]||{},p=x.newContainer(s,y,"coloraxis"),p._name=y,i(d,p,s,m,{prefix:"",cLetter:"c"});else{for(var T=0;T<h[2].length;T++)h[2][T]();delete s._colorAxes[y]}}}},3282:function(re,H,e){var o=e(4267),x={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},l=x.RdBu;function i(s,n){if(n||(n=l),!s)return n;function t(){try{s=x[s]||JSON.parse(s)}catch{s=n}}return typeof s=="string"&&(t(),typeof s=="string"&&t()),r(s)?s:n}function r(s){var n=0;if(!Array.isArray(s)||s.length<2||!s[0]||!s[s.length-1]||+s[0][0]!=0||+s[s.length-1][0]!=1)return!1;for(var t=0;t<s.length;t++){var d=s[t];if(d.length!==2||+d[0]<n||!o(d[1]).isValid())return!1;n=+d[0]}return!0}function f(s){return x[s]!==void 0?!0:r(s)}re.exports={scales:x,defaultScale:l,get:i,isValid:f}},2807:function(re){re.exports=function(e,o,x,l,i){var r=(e-x)/(l-x),f=r+o/(l-x),s=(r+f)/2;return i==="left"||i==="bottom"?r:i==="center"||i==="middle"?s:i==="right"||i==="top"?f:r<.6666666666666666-s?r:f>1.3333333333333333-s?f:s}},461:function(re,H,e){var o=e(1828),x=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];re.exports=function(i,r,f,s){return f==="left"?i=0:f==="center"?i=1:f==="right"?i=2:i=o.constrain(Math.floor(i*3),0,2),s==="bottom"?r=0:s==="middle"?r=1:s==="top"?r=2:r=o.constrain(Math.floor(r*3),0,2),x[r][i]}},4505:function(re,H){H.selectMode=function(e){return e==="lasso"||e==="select"},H.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},H.openMode=function(e){return e==="drawline"||e==="drawopenpath"},H.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},H.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},H.selectingOrDrawing=function(e){return H.freeMode(e)||H.rectMode(e)}},8569:function(re,H,e){var o=e(8956),x=e(7035),l=e(8520),i=e(1828).removeElement,r=e(5555),f=re.exports={};f.align=e(2807),f.getCursor=e(461);var s=e(6041);f.unhover=s.wrapped,f.unhoverRaw=s.raw,f.init=function(p){var m=p.gd,y=1,h=m._context.doubleClickDelay,T=p.element,g,M,v,c,u,b,w,B;m._mouseDownTime||(m._mouseDownTime=0),T.style.pointerEvents="all",T.onmousedown=O,l?(T._ontouchstart&&T.removeEventListener("touchstart",T._ontouchstart),T._ontouchstart=O,T.addEventListener("touchstart",O,{passive:!1})):T.ontouchstart=O;function C(Z,te,q){return Math.abs(Z)<q&&(Z=0),Math.abs(te)<q&&(te=0),[Z,te]}var I=p.clampFn||C;function O(Z){m._dragged=!1,m._dragging=!0;var te=t(Z);g=te[0],M=te[1],w=Z.target,b=Z,B=Z.buttons===2||Z.ctrlKey,typeof Z.clientX>"u"&&typeof Z.clientY>"u"&&(Z.clientX=g,Z.clientY=M),v=new Date().getTime(),v-m._mouseDownTime<h?y+=1:(y=1,m._mouseDownTime=v),p.prepFn&&p.prepFn(Z,g,M),x&&!B?(u=n(),u.style.cursor=window.getComputedStyle(T).cursor):x||(u=document,c=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(T).cursor),document.addEventListener("mouseup",X),document.addEventListener("touchend",X),p.dragmode!==!1&&(Z.preventDefault(),document.addEventListener("mousemove",L),document.addEventListener("touchmove",L,{passive:!1}))}function L(Z){Z.preventDefault();var te=t(Z),q=p.minDrag||r.MINDRAG,ae=I(te[0]-g,te[1]-M,q),N=ae[0],D=ae[1];(N||D)&&(m._dragged=!0,f.unhover(m,Z)),m._dragged&&p.moveFn&&!B&&(m._dragdata={element:T,dx:N,dy:D},p.moveFn(N,D))}function X(Z){if(delete m._dragdata,p.dragmode!==!1&&(Z.preventDefault(),document.removeEventListener("mousemove",L),document.removeEventListener("touchmove",L)),document.removeEventListener("mouseup",X),document.removeEventListener("touchend",X),x?i(u):c&&(u.documentElement.style.cursor=c,c=null),!m._dragging){m._dragged=!1;return}if(m._dragging=!1,new Date().getTime()-m._mouseDownTime>h&&(y=Math.max(y-1,1)),m._dragged)p.doneFn&&p.doneFn();else if(p.clickFn&&p.clickFn(y,b),!B){var te;try{te=new MouseEvent("click",Z)}catch{var q=t(Z);te=document.createEvent("MouseEvents"),te.initMouseEvent("click",Z.bubbles,Z.cancelable,Z.view,Z.detail,Z.screenX,Z.screenY,q[0],q[1],Z.ctrlKey,Z.altKey,Z.shiftKey,Z.metaKey,Z.button,Z.relatedTarget)}w.dispatchEvent(te)}m._dragging=!1,m._dragged=!1}};function n(){var d=document.createElement("div");d.className="dragcover";var p=d.style;return p.position="fixed",p.left=0,p.right=0,p.top=0,p.bottom=0,p.zIndex=999999999,p.background="none",document.body.appendChild(d),d}f.coverSlip=n;function t(d){return o(d.changedTouches?d.changedTouches[0]:d,document.body)}},6041:function(re,H,e){var o=e(1086),x=e(9990),l=e(4401).getGraphDiv,i=e(6675),r=re.exports={};r.wrapped=function(f,s,n){f=l(f),f._fullLayout&&x.clear(f._fullLayout._uid+i.HOVERID),r.raw(f,s,n)},r.raw=function(s,n){var t=s._fullLayout,d=s._hoverdata;n||(n={}),!(n.target&&!s._dragged&&o.triggerHandler(s,"plotly_beforehover",n)===!1)&&(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),s._hoverdata=void 0,n.target&&d&&s.emit("plotly_unhover",{event:n,points:d}))}},9952:function(re,H){H.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},H.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},1424:function(re,H,e){var o=e(9898),x=e(1828),l=x.numberFormat,i=e(2770),r=e(4267),f=e(3972),s=e(7901),n=e(1081),t=x.strTranslate,d=e(3893),p=e(7922),m=e(8783),y=m.LINE_SPACING,h=e(7822).DESELECTDIM,T=e(4098),g=e(9984),M=e(3469).appendArrayPointValue,v=re.exports={};v.font=function(se,ge,be,Ee){x.isPlainObject(ge)&&(Ee=ge.color,be=ge.size,ge=ge.family),ge&&se.style("font-family",ge),be+1&&se.style("font-size",be+"px"),Ee&&se.call(s.fill,Ee)},v.setPosition=function(se,ge,be){se.attr("x",ge).attr("y",be)},v.setSize=function(se,ge,be){se.attr("width",ge).attr("height",be)},v.setRect=function(se,ge,be,Ee,we){se.call(v.setPosition,ge,be).call(v.setSize,Ee,we)},v.translatePoint=function(se,ge,be,Ee){var we=be.c2p(se.x),Te=Ee.c2p(se.y);if(i(we)&&i(Te)&&ge.node())ge.node().nodeName==="text"?ge.attr("x",we).attr("y",Te):ge.attr("transform",t(we,Te));else return!1;return!0},v.translatePoints=function(se,ge,be){se.each(function(Ee){var we=o.select(this);v.translatePoint(Ee,we,ge,be)})},v.hideOutsideRangePoint=function(se,ge,be,Ee,we,Te){ge.attr("display",be.isPtWithinRange(se,we)&&Ee.isPtWithinRange(se,Te)?null:"none")},v.hideOutsideRangePoints=function(se,ge){if(ge._hasClipOnAxisFalse){var be=ge.xaxis,Ee=ge.yaxis;se.each(function(we){var Te=we[0].trace,Ne=Te.xcalendar,$e=Te.ycalendar,je=f.traceIs(Te,"bar-like")?".bartext":".point,.textpoint";se.selectAll(je).each(function(He){v.hideOutsideRangePoint(He,o.select(this),be,Ee,Ne,$e)})})}},v.crispRound=function(se,ge,be){return!ge||!i(ge)?be||0:se._context.staticPlot?ge:ge<1?1:Math.round(ge)},v.singleLineStyle=function(se,ge,be,Ee,we){ge.style("fill","none");var Te=(((se||[])[0]||{}).trace||{}).line||{},Ne=be||Te.width||0,$e=we||Te.dash||"";s.stroke(ge,Ee||Te.color),v.dashLine(ge,$e,Ne)},v.lineGroupStyle=function(se,ge,be,Ee){se.style("fill","none").each(function(we){var Te=(((we||[])[0]||{}).trace||{}).line||{},Ne=ge||Te.width||0,$e=Ee||Te.dash||"";o.select(this).call(s.stroke,be||Te.color).call(v.dashLine,$e,Ne)})},v.dashLine=function(se,ge,be){be=+be||0,ge=v.dashStyle(ge,be),se.style({"stroke-dasharray":ge,"stroke-width":be+"px"})},v.dashStyle=function(se,ge){ge=+ge||1;var be=Math.max(ge,3);return se==="solid"?se="":se==="dot"?se=be+"px,"+be+"px":se==="dash"?se=3*be+"px,"+3*be+"px":se==="longdash"?se=5*be+"px,"+5*be+"px":se==="dashdot"?se=3*be+"px,"+be+"px,"+be+"px,"+be+"px":se==="longdashdot"&&(se=5*be+"px,"+2*be+"px,"+be+"px,"+2*be+"px"),se};function c(se,ge,be){var Ee=ge.fillpattern,we=Ee&&v.getPatternAttr(Ee.shape,0,"");if(we){var Te=v.getPatternAttr(Ee.bgcolor,0,null),Ne=v.getPatternAttr(Ee.fgcolor,0,null),$e=Ee.fgopacity,je=v.getPatternAttr(Ee.size,0,8),He=v.getPatternAttr(Ee.solidity,0,.3),st=ge.uid;v.pattern(se,"point",be,st,we,je,He,void 0,Ee.fillmode,Te,Ne,$e)}else ge.fillcolor&&se.call(s.fill,ge.fillcolor)}v.singleFillStyle=function(se,ge){var be=o.select(se.node()),Ee=be.data(),we=((Ee[0]||[])[0]||{}).trace||{};c(se,we,ge)},v.fillGroupStyle=function(se,ge){se.style("stroke-width",0).each(function(be){var Ee=o.select(this);be[0].trace&&c(Ee,be[0].trace,ge)})};var u=e(998);v.symbolNames=[],v.symbolFuncs=[],v.symbolBackOffs=[],v.symbolNeedLines={},v.symbolNoDot={},v.symbolNoFill={},v.symbolList=[],Object.keys(u).forEach(function(se){var ge=u[se],be=ge.n;v.symbolList.push(be,String(be),se,be+100,String(be+100),se+"-open"),v.symbolNames[be]=se,v.symbolFuncs[be]=ge.f,v.symbolBackOffs[be]=ge.backoff||0,ge.needLine&&(v.symbolNeedLines[be]=!0),ge.noDot?v.symbolNoDot[be]=!0:v.symbolList.push(be+200,String(be+200),se+"-dot",be+300,String(be+300),se+"-open-dot"),ge.noFill&&(v.symbolNoFill[be]=!0)});var b=v.symbolNames.length,w="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";v.symbolNumber=function(se){if(i(se))se=+se;else if(typeof se=="string"){var ge=0;se.indexOf("-open")>0&&(ge=100,se=se.replace("-open","")),se.indexOf("-dot")>0&&(ge+=200,se=se.replace("-dot","")),se=v.symbolNames.indexOf(se),se>=0&&(se+=ge)}return se%100>=b||se>=400?0:Math.floor(Math.max(se,0))};function B(se,ge,be,Ee){var we=se%100;return v.symbolFuncs[we](ge,be,Ee)+(se>=200?w:"")}var C={x1:1,x2:0,y1:0,y2:0},I={x1:0,x2:0,y1:1,y2:0},O=l("~f"),L={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:C},horizontalreversed:{node:"linearGradient",attrs:C,reversed:!0},vertical:{node:"linearGradient",attrs:I},verticalreversed:{node:"linearGradient",attrs:I,reversed:!0}};v.gradient=function(se,ge,be,Ee,we,Te){for(var Ne=we.length,$e=L[Ee],je=new Array(Ne),He=0;He<Ne;He++)$e.reversed?je[Ne-1-He]=[O((1-we[He][0])*100),we[He][1]]:je[He]=[O(we[He][0]*100),we[He][1]];var st=ge._fullLayout,nt="g"+st._uid+"-"+be,dt=st._defs.select(".gradients").selectAll("#"+nt).data([Ee+je.join(";")],x.identity);dt.exit().remove(),dt.enter().append($e.node).each(function(){var ht=o.select(this);$e.attrs&&ht.attr($e.attrs),ht.attr("id",nt);var Pt=ht.selectAll("stop").data(je);Pt.exit().remove(),Pt.enter().append("stop"),Pt.each(function(bt){var At=r(bt[1]);o.select(this).attr({offset:bt[0]+"%","stop-color":s.tinyRGB(At),"stop-opacity":At.getAlpha()})})}),se.style(Te,de(nt,ge)).style(Te+"-opacity",null),se.classed("gradient_filled",!0)},v.pattern=function(se,ge,be,Ee,we,Te,Ne,$e,je,He,st,nt){var dt=ge==="legend";$e&&(je==="overlay"?(He=$e,st=s.contrast(He)):(He=void 0,st=$e));var ht=be._fullLayout,Pt="p"+ht._uid+"-"+Ee,bt,At,wt=function(_e,Je,Qe,Oe,ft){return Oe+(ft-Oe)*(_e-Je)/(Qe-Je)},Lt,kt,Ce,Ae,Pe={},$=r(st),fe=s.tinyRGB($),pe=$.getAlpha(),Me=nt*pe;switch(we){case"/":bt=Te*Math.sqrt(2),At=Te*Math.sqrt(2),Lt="M-"+bt/4+","+At/4+"l"+bt/2+",-"+At/2+"M0,"+At+"L"+bt+",0M"+bt/4*3+","+At/4*5+"l"+bt/2+",-"+At/2,kt=Ne*Te,Ae="path",Pe={d:Lt,opacity:Me,stroke:fe,"stroke-width":kt+"px"};break;case"\\":bt=Te*Math.sqrt(2),At=Te*Math.sqrt(2),Lt="M"+bt/4*3+",-"+At/4+"l"+bt/2+","+At/2+"M0,0L"+bt+","+At+"M-"+bt/4+","+At/4*3+"l"+bt/2+","+At/2,kt=Ne*Te,Ae="path",Pe={d:Lt,opacity:Me,stroke:fe,"stroke-width":kt+"px"};break;case"x":bt=Te*Math.sqrt(2),At=Te*Math.sqrt(2),Lt="M-"+bt/4+","+At/4+"l"+bt/2+",-"+At/2+"M0,"+At+"L"+bt+",0M"+bt/4*3+","+At/4*5+"l"+bt/2+",-"+At/2+"M"+bt/4*3+",-"+At/4+"l"+bt/2+","+At/2+"M0,0L"+bt+","+At+"M-"+bt/4+","+At/4*3+"l"+bt/2+","+At/2,kt=Te-Te*Math.sqrt(1-Ne),Ae="path",Pe={d:Lt,opacity:Me,stroke:fe,"stroke-width":kt+"px"};break;case"|":bt=Te,At=Te,Ae="path",Lt="M"+bt/2+",0L"+bt/2+","+At,kt=Ne*Te,Ae="path",Pe={d:Lt,opacity:Me,stroke:fe,"stroke-width":kt+"px"};break;case"-":bt=Te,At=Te,Ae="path",Lt="M0,"+At/2+"L"+bt+","+At/2,kt=Ne*Te,Ae="path",Pe={d:Lt,opacity:Me,stroke:fe,"stroke-width":kt+"px"};break;case"+":bt=Te,At=Te,Ae="path",Lt="M"+bt/2+",0L"+bt/2+","+At+"M0,"+At/2+"L"+bt+","+At/2,kt=Te-Te*Math.sqrt(1-Ne),Ae="path",Pe={d:Lt,opacity:Me,stroke:fe,"stroke-width":kt+"px"};break;case".":bt=Te,At=Te,Ne<Math.PI/4?Ce=Math.sqrt(Ne*Te*Te/Math.PI):Ce=wt(Ne,Math.PI/4,1,Te/2,Te/Math.sqrt(2)),Ae="circle",Pe={cx:bt/2,cy:At/2,r:Ce,opacity:Me,fill:fe};break}var Ge=[we||"noSh",He||"noBg",st||"noFg",Te,Ne].join(";"),Ie=ht._defs.select(".patterns").selectAll("#"+Pt).data([Ge],x.identity);Ie.exit().remove(),Ie.enter().append("pattern").each(function(){var _e=o.select(this);if(_e.attr({id:Pt,width:bt+"px",height:At+"px",patternUnits:"userSpaceOnUse",patternTransform:dt?"scale(0.8)":""}),He){var Je=r(He),Qe=s.tinyRGB(Je),Oe=Je.getAlpha(),ft=_e.selectAll("rect").data([0]);ft.exit().remove(),ft.enter().append("rect").attr({width:bt+"px",height:At+"px",fill:Qe,"fill-opacity":Oe})}var vt=_e.selectAll(Ae).data([0]);vt.exit().remove(),vt.enter().append(Ae).attr(Pe)}),se.style("fill",de(Pt,be)).style("fill-opacity",null),se.classed("pattern_filled",!0)},v.initGradients=function(se){var ge=se._fullLayout,be=x.ensureSingle(ge._defs,"g","gradients");be.selectAll("linearGradient,radialGradient").remove(),o.select(se).selectAll(".gradient_filled").classed("gradient_filled",!1)},v.initPatterns=function(se){var ge=se._fullLayout,be=x.ensureSingle(ge._defs,"g","patterns");be.selectAll("pattern").remove(),o.select(se).selectAll(".pattern_filled").classed("pattern_filled",!1)},v.getPatternAttr=function(se,ge,be){return se&&x.isArrayOrTypedArray(se)?ge<se.length?se[ge]:be:se},v.pointStyle=function(se,ge,be){if(se.size()){var Ee=v.makePointStyleFns(ge);se.each(function(we){v.singlePointStyle(we,o.select(this),ge,Ee,be)})}},v.singlePointStyle=function(se,ge,be,Ee,we){var Te=be.marker,Ne=Te.line;if(ge.style("opacity",Ee.selectedOpacityFn?Ee.selectedOpacityFn(se):se.mo===void 0?Te.opacity:se.mo),Ee.ms2mrc){var $e;se.ms==="various"||Te.size==="various"?$e=3:$e=Ee.ms2mrc(se.ms),se.mrc=$e,Ee.selectedSizeFn&&($e=se.mrc=Ee.selectedSizeFn(se));var je=v.symbolNumber(se.mx||Te.symbol)||0;se.om=je%200>=100;var He=ke(se,be),st=k(se,be);ge.attr("d",B(je,$e,He,st))}var nt=!1,dt,ht,Pt;if(se.so)Pt=Ne.outlierwidth,ht=Ne.outliercolor,dt=Te.outliercolor;else{var bt=(Ne||{}).width;Pt=(se.mlw+1||bt+1||(se.trace?(se.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in se?ht=se.mlcc=Ee.lineScale(se.mlc):x.isArrayOrTypedArray(Ne.color)?ht=s.defaultLine:ht=Ne.color,x.isArrayOrTypedArray(Te.color)&&(dt=s.defaultLine,nt=!0),"mc"in se?dt=se.mcc=Ee.markerScale(se.mc):dt=Te.color||"rgba(0,0,0,0)",Ee.selectedColorFn&&(dt=Ee.selectedColorFn(se))}if(se.om)ge.call(s.stroke,dt).style({"stroke-width":(Pt||1)+"px",fill:"none"});else{ge.style("stroke-width",(se.isBlank?0:Pt)+"px");var At=Te.gradient,wt=se.mgt;wt?nt=!0:wt=At&&At.type,x.isArrayOrTypedArray(wt)&&(wt=wt[0],L[wt]||(wt=0));var Lt=Te.pattern,kt=Lt&&v.getPatternAttr(Lt.shape,se.i,"");if(wt&&wt!=="none"){var Ce=se.mgc;Ce?nt=!0:Ce=At.color;var Ae=be.uid;nt&&(Ae+="-"+se.i),v.gradient(ge,we,Ae,wt,[[0,Ce],[1,dt]],"fill")}else if(kt){var Pe=v.getPatternAttr(Lt.bgcolor,se.i,null),$=v.getPatternAttr(Lt.fgcolor,se.i,null),fe=Lt.fgopacity,pe=v.getPatternAttr(Lt.size,se.i,8),Me=v.getPatternAttr(Lt.solidity,se.i,.3),Ge=se.mcc||x.isArrayOrTypedArray(Lt.shape)||x.isArrayOrTypedArray(Lt.bgcolor)||x.isArrayOrTypedArray(Lt.size)||x.isArrayOrTypedArray(Lt.solidity),Ie=be.uid;Ge&&(Ie+="-"+se.i),v.pattern(ge,"point",we,Ie,kt,pe,Me,se.mcc,Lt.fillmode,Pe,$,fe)}else s.fill(ge,dt);Pt&&s.stroke(ge,ht)}},v.makePointStyleFns=function(se){var ge={},be=se.marker;return ge.markerScale=v.tryColorscale(be,""),ge.lineScale=v.tryColorscale(be,"line"),f.traceIs(se,"symbols")&&(ge.ms2mrc=T.isBubble(se)?g(se):function(){return(be.size||6)/2}),se.selectedpoints&&x.extendFlat(ge,v.makeSelectedPointStyleFns(se)),ge},v.makeSelectedPointStyleFns=function(se){var ge={},be=se.selected||{},Ee=se.unselected||{},we=se.marker||{},Te=be.marker||{},Ne=Ee.marker||{},$e=we.opacity,je=Te.opacity,He=Ne.opacity,st=je!==void 0,nt=He!==void 0;(x.isArrayOrTypedArray($e)||st||nt)&&(ge.selectedOpacityFn=function(Ce){var Ae=Ce.mo===void 0?we.opacity:Ce.mo;return Ce.selected?st?je:Ae:nt?He:h*Ae});var dt=we.color,ht=Te.color,Pt=Ne.color;(ht||Pt)&&(ge.selectedColorFn=function(Ce){var Ae=Ce.mcc||dt;return Ce.selected?ht||Ae:Pt||Ae});var bt=we.size,At=Te.size,wt=Ne.size,Lt=At!==void 0,kt=wt!==void 0;return f.traceIs(se,"symbols")&&(Lt||kt)&&(ge.selectedSizeFn=function(Ce){var Ae=Ce.mrc||bt/2;return Ce.selected?Lt?At/2:Ae:kt?wt/2:Ae}),ge},v.makeSelectedTextStyleFns=function(se){var ge={},be=se.selected||{},Ee=se.unselected||{},we=se.textfont||{},Te=be.textfont||{},Ne=Ee.textfont||{},$e=we.color,je=Te.color,He=Ne.color;return ge.selectedTextColorFn=function(st){var nt=st.tc||$e;return st.selected?je||nt:He||(je?nt:s.addOpacity(nt,h))},ge},v.selectedPointStyle=function(se,ge){if(!(!se.size()||!ge.selectedpoints)){var be=v.makeSelectedPointStyleFns(ge),Ee=ge.marker||{},we=[];be.selectedOpacityFn&&we.push(function(Te,Ne){Te.style("opacity",be.selectedOpacityFn(Ne))}),be.selectedColorFn&&we.push(function(Te,Ne){s.fill(Te,be.selectedColorFn(Ne))}),be.selectedSizeFn&&we.push(function(Te,Ne){var $e=Ne.mx||Ee.symbol||0,je=be.selectedSizeFn(Ne);Te.attr("d",B(v.symbolNumber($e),je,ke(Ne,ge),k(Ne,ge))),Ne.mrc2=je}),we.length&&se.each(function(Te){for(var Ne=o.select(this),$e=0;$e<we.length;$e++)we[$e](Ne,Te)})}},v.tryColorscale=function(se,ge){var be=ge?x.nestedProperty(se,ge).get():se;if(be){var Ee=be.color;if((be.colorscale||be._colorAx)&&x.isArrayOrTypedArray(Ee))return n.makeColorScaleFuncFromTrace(be)}return x.identity};var X={start:1,end:-1,middle:0,bottom:1,top:-1};function Z(se,ge,be,Ee,we){var Te=o.select(se.node().parentNode),Ne=ge.indexOf("top")!==-1?"top":ge.indexOf("bottom")!==-1?"bottom":"middle",$e=ge.indexOf("left")!==-1?"end":ge.indexOf("right")!==-1?"start":"middle",je=Ee?Ee/.8+1:0,He=(d.lineCount(se)-1)*y+1,st=X[$e]*je,nt=be*.75+X[Ne]*je+(X[Ne]-1)*He*be/2;se.attr("text-anchor",$e),we||Te.attr("transform",t(st,nt))}function te(se,ge){var be=se.ts||ge.textfont.size;return i(be)&&be>0?be:0}v.textPointStyle=function(se,ge,be){if(se.size()){var Ee;if(ge.selectedpoints){var we=v.makeSelectedTextStyleFns(ge);Ee=we.selectedTextColorFn}var Te=ge.texttemplate,Ne=be._fullLayout;se.each(function($e){var je=o.select(this),He=Te?x.extractOption($e,ge,"txt","texttemplate"):x.extractOption($e,ge,"tx","text");if(!He&&He!==0){je.remove();return}if(Te){var st=ge._module.formatLabels,nt=st?st($e,ge,Ne):{},dt={};M(dt,ge,$e.i);var ht=ge._meta||{};He=x.texttemplateString(He,nt,Ne._d3locale,dt,$e,ht)}var Pt=$e.tp||ge.textposition,bt=te($e,ge),At=Ee?Ee($e):$e.tc||ge.textfont.color;je.call(v.font,$e.tf||ge.textfont.family,bt,At).text(He).call(d.convertToTspans,be).call(Z,Pt,bt,$e.mrc)})}},v.selectedTextStyle=function(se,ge){if(!(!se.size()||!ge.selectedpoints)){var be=v.makeSelectedTextStyleFns(ge);se.each(function(Ee){var we=o.select(this),Te=be.selectedTextColorFn(Ee),Ne=Ee.tp||ge.textposition,$e=te(Ee,ge);s.fill(we,Te);var je=f.traceIs(ge,"bar-like");Z(we,Ne,$e,Ee.mrc2||Ee.mrc,je)})}};var q=.5;v.smoothopen=function(se,ge){if(se.length<3)return"M"+se.join("L");var be="M"+se[0],Ee=[],we;for(we=1;we<se.length-1;we++)Ee.push(G(se[we-1],se[we],se[we+1],ge));for(be+="Q"+Ee[0][0]+" "+se[1],we=2;we<se.length-1;we++)be+="C"+Ee[we-2][1]+" "+Ee[we-1][0]+" "+se[we];return be+="Q"+Ee[se.length-3][1]+" "+se[se.length-1],be},v.smoothclosed=function(se,ge){if(se.length<3)return"M"+se.join("L")+"Z";var be="M"+se[0],Ee=se.length-1,we=[G(se[Ee],se[0],se[1],ge)],Te;for(Te=1;Te<Ee;Te++)we.push(G(se[Te-1],se[Te],se[Te+1],ge));for(we.push(G(se[Ee-1],se[Ee],se[0],ge)),Te=1;Te<=Ee;Te++)be+="C"+we[Te-1][1]+" "+we[Te][0]+" "+se[Te];return be+="C"+we[Ee][1]+" "+we[0][0]+" "+se[0]+"Z",be};var ae,N;function D(se,ge,be){return be&&(se=le(se)),ge?V(se[1]):_(se[0])}function _(se){var ge=o.round(se,2);return ae=ge,ge}function V(se){var ge=o.round(se,2);return N=ge,ge}function G(se,ge,be,Ee){var we=se[0]-ge[0],Te=se[1]-ge[1],Ne=be[0]-ge[0],$e=be[1]-ge[1],je=Math.pow(we*we+Te*Te,q/2),He=Math.pow(Ne*Ne+$e*$e,q/2),st=(He*He*we-je*je*Ne)*Ee,nt=(He*He*Te-je*je*$e)*Ee,dt=3*He*(je+He),ht=3*je*(je+He);return[[_(ge[0]+(dt&&st/dt)),V(ge[1]+(dt&&nt/dt))],[_(ge[0]-(ht&&st/ht)),V(ge[1]-(ht&&nt/ht))]]}var Q={hv:function(se,ge,be){return"H"+_(ge[0])+"V"+D(ge,1,be)},vh:function(se,ge,be){return"V"+V(ge[1])+"H"+D(ge,0,be)},hvh:function(se,ge,be){return"H"+_((se[0]+ge[0])/2)+"V"+V(ge[1])+"H"+D(ge,0,be)},vhv:function(se,ge,be){return"V"+V((se[1]+ge[1])/2)+"H"+_(ge[0])+"V"+D(ge,1,be)}},ue=function(se,ge,be){return"L"+D(ge,0,be)+","+D(ge,1,be)};v.steps=function(se){var ge=Q[se]||ue;return function(be){for(var Ee="M"+_(be[0][0])+","+V(be[0][1]),we=be.length,Te=1;Te<we;Te++)Ee+=ge(be[Te-1],be[Te],Te===we-1);return Ee}};function le(se,ge){var be=se.backoff,Ee=se.trace,we=se.d,Te=se.i;if(be&&Ee&&Ee.marker&&Ee.marker.angle%360===0&&Ee.line&&Ee.line.shape!=="spline"){var Ne=x.isArrayOrTypedArray(be),$e=se,je=ge?ge[0]:ae||0,He=ge?ge[1]:N||0,st=$e[0],nt=$e[1],dt=st-je,ht=nt-He,Pt=Math.atan2(ht,dt),bt=Ne?be[Te]:be;if(bt==="auto"){var At=$e.i;Ee.type==="scatter"&&At--;var wt=$e.marker,Lt=wt.symbol;x.isArrayOrTypedArray(Lt)&&(Lt=Lt[At]);var kt=wt.size;x.isArrayOrTypedArray(kt)&&(kt=kt[At]),bt=wt?v.symbolBackOffs[v.symbolNumber(Lt)]*kt:0,bt+=v.getMarkerStandoff(we[At],Ee)||0}var Ce=st-bt*Math.cos(Pt),Ae=nt-bt*Math.sin(Pt);(Ce<=st&&Ce>=je||Ce>=st&&Ce<=je)&&(Ae<=nt&&Ae>=He||Ae>=nt&&Ae<=He)&&(se=[Ce,Ae])}return se}v.applyBackoff=le,v.makeTester=function(){var se=x.ensureSingleById(o.select("body"),"svg","js-plotly-tester",function(be){be.attr(p.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),ge=x.ensureSingle(se,"path","js-reference-point",function(be){be.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});v.tester=se,v.testref=ge},v.savedBBoxes={};var ye=0,Se=1e4;v.bBox=function(se,ge,be){be||(be=ce(se));var Ee;if(be){if(Ee=v.savedBBoxes[be],Ee)return x.extendFlat({},Ee)}else if(se.childNodes.length===1){var we=se.childNodes[0];if(be=ce(we),be){var Te=+we.getAttribute("x")||0,Ne=+we.getAttribute("y")||0,$e=we.getAttribute("transform");if(!$e){var je=v.bBox(we,!1,be);return Te&&(je.left+=Te,je.right+=Te),Ne&&(je.top+=Ne,je.bottom+=Ne),je}if(be+="~"+Te+"~"+Ne+"~"+$e,Ee=v.savedBBoxes[be],Ee)return x.extendFlat({},Ee)}}var He,st;ge?He=se:(st=v.tester.node(),He=se.cloneNode(!0),st.appendChild(He)),o.select(He).attr("transform",null).call(d.positionText,0,0);var nt=He.getBoundingClientRect(),dt=v.testref.node().getBoundingClientRect();ge||st.removeChild(He);var ht={height:nt.height,width:nt.width,left:nt.left-dt.left,top:nt.top-dt.top,right:nt.right-dt.left,bottom:nt.bottom-dt.top};return ye>=Se&&(v.savedBBoxes={},ye=0),be&&(v.savedBBoxes[be]=ht),ye++,x.extendFlat({},ht)};function ce(se){var ge=se.getAttribute("data-unformatted");if(ge!==null)return ge+se.getAttribute("data-math")+se.getAttribute("text-anchor")+se.getAttribute("style")}v.setClipUrl=function(se,ge,be){se.attr("clip-path",de(ge,be))};function de(se,ge){if(!se)return null;var be=ge._context,Ee=be._exportedPlot?"":be._baseUrl||"";return Ee?"url('"+Ee+"#"+se+"')":"url(#"+se+")"}v.getTranslate=function(se){var ge=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,be=se.attr?"attr":"getAttribute",Ee=se[be]("transform")||"",we=Ee.replace(ge,function(Te,Ne,$e){return[Ne,$e].join(" ")}).split(" ");return{x:+we[0]||0,y:+we[1]||0}},v.setTranslate=function(se,ge,be){var Ee=/(\btranslate\(.*?\);?)/,we=se.attr?"attr":"getAttribute",Te=se.attr?"attr":"setAttribute",Ne=se[we]("transform")||"";return ge=ge||0,be=be||0,Ne=Ne.replace(Ee,"").trim(),Ne+=t(ge,be),Ne=Ne.trim(),se[Te]("transform",Ne),Ne},v.getScale=function(se){var ge=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,be=se.attr?"attr":"getAttribute",Ee=se[be]("transform")||"",we=Ee.replace(ge,function(Te,Ne,$e){return[Ne,$e].join(" ")}).split(" ");return{x:+we[0]||1,y:+we[1]||1}},v.setScale=function(se,ge,be){var Ee=/(\bscale\(.*?\);?)/,we=se.attr?"attr":"getAttribute",Te=se.attr?"attr":"setAttribute",Ne=se[we]("transform")||"";return ge=ge||1,be=be||1,Ne=Ne.replace(Ee,"").trim(),Ne+="scale("+ge+","+be+")",Ne=Ne.trim(),se[Te]("transform",Ne),Ne};var S=/\s*sc.*/;v.setPointGroupScale=function(se,ge,be){if(ge=ge||1,be=be||1,!!se){var Ee=ge===1&&be===1?"":"scale("+ge+","+be+")";se.each(function(){var we=(this.getAttribute("transform")||"").replace(S,"");we+=Ee,we=we.trim(),this.setAttribute("transform",we)})}};var P=/translate\([^)]*\)\s*$/;v.setTextPointsScale=function(se,ge,be){se&&se.each(function(){var Ee,we=o.select(this),Te=we.select("text");if(Te.node()){var Ne=parseFloat(Te.attr("x")||0),$e=parseFloat(Te.attr("y")||0),je=(we.attr("transform")||"").match(P);ge===1&&be===1?Ee=[]:Ee=[t(Ne,$e),"scale("+ge+","+be+")",t(-Ne,-$e)],je&&Ee.push(je),we.attr("transform",Ee.join(""))}})};function k(se,ge){var be;return se&&(be=se.mf),be===void 0&&(be=ge.marker&&ge.marker.standoff||0),!ge._geo&&!ge._xA?-be:be}v.getMarkerStandoff=k;var z=Math.atan2,Y=Math.cos,F=Math.sin;function J(se,ge){var be=ge[0],Ee=ge[1];return[be*Y(se)-Ee*F(se),be*F(se)+Ee*Y(se)]}var E,K,ie,ve,he,Le;function ke(se,ge){var be=se.ma;be===void 0&&(be=ge.marker.angle||0);var Ee,we,Te=ge.marker.angleref;if(Te==="previous"||Te==="north"){if(ge._geo){var Ne=ge._geo.project(se.lonlat);Ee=Ne[0],we=Ne[1]}else{var $e=ge._xA,je=ge._yA;if($e&&je)Ee=$e.c2p(se.x),we=je.c2p(se.y);else return 90}if(ge._geo){var He=se.lonlat[0],st=se.lonlat[1],nt=ge._geo.project([He,st+1e-5]),dt=ge._geo.project([He+1e-5,st]),ht=z(dt[1]-we,dt[0]-Ee),Pt=z(nt[1]-we,nt[0]-Ee),bt;if(Te==="north")bt=be/180*Math.PI;else if(Te==="previous"){var At=He/180*Math.PI,wt=st/180*Math.PI,Lt=E/180*Math.PI,kt=K/180*Math.PI,Ce=Lt-At,Ae=Y(kt)*F(Ce),Pe=F(kt)*Y(wt)-Y(kt)*F(wt)*Y(Ce);bt=-z(Ae,Pe)-Math.PI,E=He,K=st}var $=J(ht,[Y(bt),0]),fe=J(Pt,[F(bt),0]);be=z($[1]+fe[1],$[0]+fe[0])/Math.PI*180,Te==="previous"&&!(Le===ge.uid&&se.i===he+1)&&(be=null)}if(Te==="previous"&&!ge._geo)if(Le===ge.uid&&se.i===he+1&&i(Ee)&&i(we)){var pe=Ee-ie,Me=we-ve,Ge=ge.line&&ge.line.shape||"",Ie=Ge.slice(Ge.length-1);Ie==="h"&&(Me=0),Ie==="v"&&(pe=0),be+=z(Me,pe)/Math.PI*180+90}else be=null}return ie=Ee,ve=we,he=se.i,Le=ge.uid,be}v.getMarkerAngle=ke},998:function(re,H,e){var o=e(5616),x=e(9898).round,l="M0,0Z",i=Math.sqrt(2),r=Math.sqrt(3),f=Math.PI,s=Math.cos,n=Math.sin;re.exports={circle:{n:0,f:function(T,g,M){if(t(g))return l;var v=x(T,2),c="M"+v+",0A"+v+","+v+" 0 1,1 0,-"+v+"A"+v+","+v+" 0 0,1 "+v+",0Z";return M?h(g,M,c):c}},square:{n:1,f:function(T,g,M){if(t(g))return l;var v=x(T,2);return h(g,M,"M"+v+","+v+"H-"+v+"V-"+v+"H"+v+"Z")}},diamond:{n:2,f:function(T,g,M){if(t(g))return l;var v=x(T*1.3,2);return h(g,M,"M"+v+",0L0,"+v+"L-"+v+",0L0,-"+v+"Z")}},cross:{n:3,f:function(T,g,M){if(t(g))return l;var v=x(T*.4,2),c=x(T*1.2,2);return h(g,M,"M"+c+","+v+"H"+v+"V"+c+"H-"+v+"V"+v+"H-"+c+"V-"+v+"H-"+v+"V-"+c+"H"+v+"V-"+v+"H"+c+"Z")}},x:{n:4,f:function(T,g,M){if(t(g))return l;var v=x(T*.8/i,2),c="l"+v+","+v,u="l"+v+",-"+v,b="l-"+v+",-"+v,w="l-"+v+","+v;return h(g,M,"M0,"+v+c+u+b+u+b+w+b+w+c+w+c+"Z")}},"triangle-up":{n:5,f:function(T,g,M){if(t(g))return l;var v=x(T*2/r,2),c=x(T/2,2),u=x(T,2);return h(g,M,"M-"+v+","+c+"H"+v+"L0,-"+u+"Z")}},"triangle-down":{n:6,f:function(T,g,M){if(t(g))return l;var v=x(T*2/r,2),c=x(T/2,2),u=x(T,2);return h(g,M,"M-"+v+",-"+c+"H"+v+"L0,"+u+"Z")}},"triangle-left":{n:7,f:function(T,g,M){if(t(g))return l;var v=x(T*2/r,2),c=x(T/2,2),u=x(T,2);return h(g,M,"M"+c+",-"+v+"V"+v+"L-"+u+",0Z")}},"triangle-right":{n:8,f:function(T,g,M){if(t(g))return l;var v=x(T*2/r,2),c=x(T/2,2),u=x(T,2);return h(g,M,"M-"+c+",-"+v+"V"+v+"L"+u+",0Z")}},"triangle-ne":{n:9,f:function(T,g,M){if(t(g))return l;var v=x(T*.6,2),c=x(T*1.2,2);return h(g,M,"M-"+c+",-"+v+"H"+v+"V"+c+"Z")}},"triangle-se":{n:10,f:function(T,g,M){if(t(g))return l;var v=x(T*.6,2),c=x(T*1.2,2);return h(g,M,"M"+v+",-"+c+"V"+v+"H-"+c+"Z")}},"triangle-sw":{n:11,f:function(T,g,M){if(t(g))return l;var v=x(T*.6,2),c=x(T*1.2,2);return h(g,M,"M"+c+","+v+"H-"+v+"V-"+c+"Z")}},"triangle-nw":{n:12,f:function(T,g,M){if(t(g))return l;var v=x(T*.6,2),c=x(T*1.2,2);return h(g,M,"M-"+v+","+c+"V-"+v+"H"+c+"Z")}},pentagon:{n:13,f:function(T,g,M){if(t(g))return l;var v=x(T*.951,2),c=x(T*.588,2),u=x(-T,2),b=x(T*-.309,2),w=x(T*.809,2);return h(g,M,"M"+v+","+b+"L"+c+","+w+"H-"+c+"L-"+v+","+b+"L0,"+u+"Z")}},hexagon:{n:14,f:function(T,g,M){if(t(g))return l;var v=x(T,2),c=x(T/2,2),u=x(T*r/2,2);return h(g,M,"M"+u+",-"+c+"V"+c+"L0,"+v+"L-"+u+","+c+"V-"+c+"L0,-"+v+"Z")}},hexagon2:{n:15,f:function(T,g,M){if(t(g))return l;var v=x(T,2),c=x(T/2,2),u=x(T*r/2,2);return h(g,M,"M-"+c+","+u+"H"+c+"L"+v+",0L"+c+",-"+u+"H-"+c+"L-"+v+",0Z")}},octagon:{n:16,f:function(T,g,M){if(t(g))return l;var v=x(T*.924,2),c=x(T*.383,2);return h(g,M,"M-"+c+",-"+v+"H"+c+"L"+v+",-"+c+"V"+c+"L"+c+","+v+"H-"+c+"L-"+v+","+c+"V-"+c+"Z")}},star:{n:17,f:function(T,g,M){if(t(g))return l;var v=T*1.4,c=x(v*.225,2),u=x(v*.951,2),b=x(v*.363,2),w=x(v*.588,2),B=x(-v,2),C=x(v*-.309,2),I=x(v*.118,2),O=x(v*.809,2),L=x(v*.382,2);return h(g,M,"M"+c+","+C+"H"+u+"L"+b+","+I+"L"+w+","+O+"L0,"+L+"L-"+w+","+O+"L-"+b+","+I+"L-"+u+","+C+"H-"+c+"L0,"+B+"Z")}},hexagram:{n:18,f:function(T,g,M){if(t(g))return l;var v=x(T*.66,2),c=x(T*.38,2),u=x(T*.76,2);return h(g,M,"M-"+u+",0l-"+c+",-"+v+"h"+u+"l"+c+",-"+v+"l"+c+","+v+"h"+u+"l-"+c+","+v+"l"+c+","+v+"h-"+u+"l-"+c+","+v+"l-"+c+",-"+v+"h-"+u+"Z")}},"star-triangle-up":{n:19,f:function(T,g,M){if(t(g))return l;var v=x(T*r*.8,2),c=x(T*.8,2),u=x(T*1.6,2),b=x(T*4,2),w="A "+b+","+b+" 0 0 1 ";return h(g,M,"M-"+v+","+c+w+v+","+c+w+"0,-"+u+w+"-"+v+","+c+"Z")}},"star-triangle-down":{n:20,f:function(T,g,M){if(t(g))return l;var v=x(T*r*.8,2),c=x(T*.8,2),u=x(T*1.6,2),b=x(T*4,2),w="A "+b+","+b+" 0 0 1 ";return h(g,M,"M"+v+",-"+c+w+"-"+v+",-"+c+w+"0,"+u+w+v+",-"+c+"Z")}},"star-square":{n:21,f:function(T,g,M){if(t(g))return l;var v=x(T*1.1,2),c=x(T*2,2),u="A "+c+","+c+" 0 0 1 ";return h(g,M,"M-"+v+",-"+v+u+"-"+v+","+v+u+v+","+v+u+v+",-"+v+u+"-"+v+",-"+v+"Z")}},"star-diamond":{n:22,f:function(T,g,M){if(t(g))return l;var v=x(T*1.4,2),c=x(T*1.9,2),u="A "+c+","+c+" 0 0 1 ";return h(g,M,"M-"+v+",0"+u+"0,"+v+u+v+",0"+u+"0,-"+v+u+"-"+v+",0Z")}},"diamond-tall":{n:23,f:function(T,g,M){if(t(g))return l;var v=x(T*.7,2),c=x(T*1.4,2);return h(g,M,"M0,"+c+"L"+v+",0L0,-"+c+"L-"+v+",0Z")}},"diamond-wide":{n:24,f:function(T,g,M){if(t(g))return l;var v=x(T*1.4,2),c=x(T*.7,2);return h(g,M,"M0,"+c+"L"+v+",0L0,-"+c+"L-"+v+",0Z")}},hourglass:{n:25,f:function(T,g,M){if(t(g))return l;var v=x(T,2);return h(g,M,"M"+v+","+v+"H-"+v+"L"+v+",-"+v+"H-"+v+"Z")},noDot:!0},bowtie:{n:26,f:function(T,g,M){if(t(g))return l;var v=x(T,2);return h(g,M,"M"+v+","+v+"V-"+v+"L-"+v+","+v+"V-"+v+"Z")},noDot:!0},"circle-cross":{n:27,f:function(T,g,M){if(t(g))return l;var v=x(T,2);return h(g,M,"M0,"+v+"V-"+v+"M"+v+",0H-"+v+"M"+v+",0A"+v+","+v+" 0 1,1 0,-"+v+"A"+v+","+v+" 0 0,1 "+v+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(T,g,M){if(t(g))return l;var v=x(T,2),c=x(T/i,2);return h(g,M,"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c+"M"+v+",0A"+v+","+v+" 0 1,1 0,-"+v+"A"+v+","+v+" 0 0,1 "+v+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(T,g,M){if(t(g))return l;var v=x(T,2);return h(g,M,"M0,"+v+"V-"+v+"M"+v+",0H-"+v+"M"+v+","+v+"H-"+v+"V-"+v+"H"+v+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(T,g,M){if(t(g))return l;var v=x(T,2);return h(g,M,"M"+v+","+v+"L-"+v+",-"+v+"M"+v+",-"+v+"L-"+v+","+v+"M"+v+","+v+"H-"+v+"V-"+v+"H"+v+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(T,g,M){if(t(g))return l;var v=x(T*1.3,2);return h(g,M,"M"+v+",0L0,"+v+"L-"+v+",0L0,-"+v+"ZM0,-"+v+"V"+v+"M-"+v+",0H"+v)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(T,g,M){if(t(g))return l;var v=x(T*1.3,2),c=x(T*.65,2);return h(g,M,"M"+v+",0L0,"+v+"L-"+v+",0L0,-"+v+"ZM-"+c+",-"+c+"L"+c+","+c+"M-"+c+","+c+"L"+c+",-"+c)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(T,g,M){if(t(g))return l;var v=x(T*1.4,2);return h(g,M,"M0,"+v+"V-"+v+"M"+v+",0H-"+v)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(T,g,M){if(t(g))return l;var v=x(T,2);return h(g,M,"M"+v+","+v+"L-"+v+",-"+v+"M"+v+",-"+v+"L-"+v+","+v)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(T,g,M){if(t(g))return l;var v=x(T*1.2,2),c=x(T*.85,2);return h(g,M,"M0,"+v+"V-"+v+"M"+v+",0H-"+v+"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(T,g,M){if(t(g))return l;var v=x(T/2,2),c=x(T,2);return h(g,M,"M"+v+","+c+"V-"+c+"M"+(v-c)+",-"+c+"V"+c+"M"+c+","+v+"H-"+c+"M-"+c+","+(v-c)+"H"+c)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(T,g,M){if(t(g))return l;var v=x(T*1.2,2),c=x(T*1.6,2),u=x(T*.8,2);return h(g,M,"M-"+v+","+u+"L0,0M"+v+","+u+"L0,0M0,-"+c+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(T,g,M){if(t(g))return l;var v=x(T*1.2,2),c=x(T*1.6,2),u=x(T*.8,2);return h(g,M,"M-"+v+",-"+u+"L0,0M"+v+",-"+u+"L0,0M0,"+c+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(T,g,M){if(t(g))return l;var v=x(T*1.2,2),c=x(T*1.6,2),u=x(T*.8,2);return h(g,M,"M"+u+","+v+"L0,0M"+u+",-"+v+"L0,0M-"+c+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(T,g,M){if(t(g))return l;var v=x(T*1.2,2),c=x(T*1.6,2),u=x(T*.8,2);return h(g,M,"M-"+u+","+v+"L0,0M-"+u+",-"+v+"L0,0M"+c+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(T,g,M){if(t(g))return l;var v=x(T*1.4,2);return h(g,M,"M"+v+",0H-"+v)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(T,g,M){if(t(g))return l;var v=x(T*1.4,2);return h(g,M,"M0,"+v+"V-"+v)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(T,g,M){if(t(g))return l;var v=x(T,2);return h(g,M,"M"+v+",-"+v+"L-"+v+","+v)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(T,g,M){if(t(g))return l;var v=x(T,2);return h(g,M,"M"+v+","+v+"L-"+v+",-"+v)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(T,g,M){if(t(g))return l;var v=x(T,2),c=x(T*2,2);return h(g,M,"M0,0L-"+v+","+c+"H"+v+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(T,g,M){if(t(g))return l;var v=x(T,2),c=x(T*2,2);return h(g,M,"M0,0L-"+v+",-"+c+"H"+v+"Z")},noDot:!0},"arrow-left":{n:47,f:function(T,g,M){if(t(g))return l;var v=x(T*2,2),c=x(T,2);return h(g,M,"M0,0L"+v+",-"+c+"V"+c+"Z")},noDot:!0},"arrow-right":{n:48,f:function(T,g,M){if(t(g))return l;var v=x(T*2,2),c=x(T,2);return h(g,M,"M0,0L-"+v+",-"+c+"V"+c+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(T,g,M){if(t(g))return l;var v=x(T,2),c=x(T*2,2);return h(g,M,"M-"+v+",0H"+v+"M0,0L-"+v+","+c+"H"+v+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(T,g,M){if(t(g))return l;var v=x(T,2),c=x(T*2,2);return h(g,M,"M-"+v+",0H"+v+"M0,0L-"+v+",-"+c+"H"+v+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(T,g,M){if(t(g))return l;var v=x(T*2,2),c=x(T,2);return h(g,M,"M0,-"+c+"V"+c+"M0,0L"+v+",-"+c+"V"+c+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(T,g,M){if(t(g))return l;var v=x(T*2,2),c=x(T,2);return h(g,M,"M0,-"+c+"V"+c+"M0,0L-"+v+",-"+c+"V"+c+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(T,g,M){if(t(g))return l;var v=f/2.5,c=2*T*s(v),u=2*T*n(v);return h(g,M,"M0,0L"+-c+","+u+"L"+c+","+u+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(T,g,M){if(t(g))return l;var v=f/4,c=2*T*s(v),u=2*T*n(v);return h(g,M,"M0,0L"+-c+","+u+"A "+2*T+","+2*T+" 0 0 1 "+c+","+u+"Z")},backoff:.4,noDot:!0}};function t(T){return T===null}var d,p,m,y;function h(T,g,M){if((!T||T%360===0)&&!g)return M;if(m===T&&y===g&&d===M)return p;m=T,y=g,d=M;function v(q,ae){var N=s(q),D=n(q),_=ae[0],V=ae[1]+(g||0);return[_*N-V*D,_*D+V*N]}for(var c=T/180*f,u=0,b=0,w=o(M),B="",C=0;C<w.length;C++){var I=w[C],O=I[0],L=u,X=b;if(O==="M"||O==="L")u=+I[1],b=+I[2];else if(O==="m"||O==="l")u+=+I[1],b+=+I[2];else if(O==="H")u=+I[1];else if(O==="h")u+=+I[1];else if(O==="V")b=+I[1];else if(O==="v")b+=+I[1];else if(O==="A"){u=+I[1],b=+I[2];var Z=v(c,[+I[6],+I[7]]);I[6]=Z[0],I[7]=Z[1],I[3]=+I[3]+T}(O==="H"||O==="V")&&(O="L"),(O==="h"||O==="v")&&(O="l"),(O==="m"||O==="l")&&(u-=L,b-=X);var te=v(c,[u,b]);(O==="H"||O==="V")&&(O="L"),(O==="M"||O==="L"||O==="m"||O==="l")&&(I[1]=te[0],I[2]=te[1]),I[0]=O,B+=I[0]+I.slice(1).join(",")}return p=B,B}},5673:function(re){re.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},4532:function(re,H,e){var o=e(2770),x=e(3972),l=e(9298),i=e(1828),r=e(5827);re.exports=function(n){for(var t=n.calcdata,d=0;d<t.length;d++){var p=t[d],m=p[0].trace;if(m.visible===!0&&x.traceIs(m,"errorBarsOK")){var y=l.getFromId(n,m.xaxis),h=l.getFromId(n,m.yaxis);f(p,m,y,"x"),f(p,m,h,"y")}}};function f(s,n,t,d){var p=n["error_"+d]||{},m=p.visible&&["linear","log"].indexOf(t.type)!==-1,y=[];if(m){for(var h=r(p),T=0;T<s.length;T++){var g=s[T],M=g.i;if(M===void 0)M=T;else if(M===null)continue;var v=g[d];if(o(t.c2l(v))){var c=h(v,M);if(o(c[0])&&o(c[1])){var u=g[d+"s"]=v-c[0],b=g[d+"h"]=v+c[1];y.push(u,b)}}}var w=t._id,B=n._extremes[w],C=l.findExtremes(t,y,i.extendFlat({tozero:B.opts.tozero},{padded:!0}));B.min=B.min.concat(C.min),B.max=B.max.concat(C.max)}}},5827:function(re){re.exports=function(o){var x=o.type,l=o.symmetric;if(x==="data"){var i=o.array||[];if(l)return function(t,d){var p=+i[d];return[p,p]};var r=o.arrayminus||[];return function(t,d){var p=+i[d],m=+r[d];return!isNaN(p)||!isNaN(m)?[m||0,p||0]:[NaN,NaN]}}else{var f=H(x,o.value),s=H(x,o.valueminus);return l||o.valueminus===void 0?function(t){var d=f(t);return[d,d]}:function(t){return[s(t),f(t)]}}};function H(e,o){if(e==="percent")return function(x){return Math.abs(x*o/100)};if(e==="constant")return function(){return Math.abs(o)};if(e==="sqrt")return function(x){return Math.sqrt(Math.abs(x))}}},7587:function(re,H,e){var o=e(2770),x=e(3972),l=e(1828),i=e(4467),r=e(5673);re.exports=function(f,s,n,t){var d="error_"+t.axis,p=i.newContainer(s,d),m=f[d]||{};function y(u,b){return l.coerce(m,p,r,u,b)}var h=m.array!==void 0||m.value!==void 0||m.type==="sqrt",T=y("visible",h);if(T!==!1){var g=y("type","array"in m?"data":"percent"),M=!0;g!=="sqrt"&&(M=y("symmetric",!((g==="data"?"arrayminus":"valueminus")in m))),g==="data"?(y("array"),y("traceref"),M||(y("arrayminus"),y("tracerefminus"))):(g==="percent"||g==="constant")&&(y("value"),M||y("valueminus"));var v="copy_"+t.inherit+"style";if(t.inherit){var c=s["error_"+t.inherit];(c||{}).visible&&y(v,!(m.color||o(m.thickness)||o(m.width)))}(!t.inherit||!p[v])&&(y("color",n),y("thickness"),y("width",x.traceIs(s,"gl3d")?0:4))}}},7369:function(re,H,e){var o=e(1828),x=e(962).overrideAll,l=e(5673),i={error_x:o.extendFlat({},l),error_y:o.extendFlat({},l)};delete i.error_x.copy_zstyle,delete i.error_y.copy_zstyle,delete i.error_y.copy_ystyle;var r={error_x:o.extendFlat({},l),error_y:o.extendFlat({},l),error_z:o.extendFlat({},l)};delete r.error_x.copy_ystyle,delete r.error_y.copy_ystyle,delete r.error_z.copy_ystyle,delete r.error_z.copy_zstyle,re.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:i,bar:i,histogram:i,scatter3d:x(r,"calc","nested"),scattergl:x(i,"calc","nested")}},supplyDefaults:e(7587),calc:e(4532),makeComputeError:e(5827),plot:e(9398),style:e(2662),hoverInfo:f};function f(s,n,t){(n.error_y||{}).visible&&(t.yerr=s.yh-s.y,n.error_y.symmetric||(t.yerrneg=s.y-s.ys)),(n.error_x||{}).visible&&(t.xerr=s.xh-s.x,n.error_x.symmetric||(t.xerrneg=s.x-s.xs))}},9398:function(re,H,e){var o=e(9898),x=e(2770),l=e(1424),i=e(4098);re.exports=function(s,n,t,d){var p,m=t.xaxis,y=t.yaxis,h=d&&d.duration>0,T=s._context.staticPlot;n.each(function(g){var M=g[0].trace,v=M.error_x||{},c=M.error_y||{},u;M.ids&&(u=function(C){return C.id});var b=i.hasMarkers(M)&&M.marker.maxdisplayed>0;!c.visible&&!v.visible&&(g=[]);var w=o.select(this).selectAll("g.errorbar").data(g,u);if(w.exit().remove(),!!g.length){v.visible||w.selectAll("path.xerror").remove(),c.visible||w.selectAll("path.yerror").remove(),w.style("opacity",1);var B=w.enter().append("g").classed("errorbar",!0);h&&B.style("opacity",0).transition().duration(d.duration).style("opacity",1),l.setClipUrl(w,t.layerClipId,s),w.each(function(C){var I=o.select(this),O=r(C,m,y);if(!(b&&!C.vis)){var L,X=I.select("path.yerror");if(c.visible&&x(O.x)&&x(O.yh)&&x(O.ys)){var Z=c.width;L="M"+(O.x-Z)+","+O.yh+"h"+2*Z+"m-"+Z+",0V"+O.ys,O.noYS||(L+="m-"+Z+",0h"+2*Z),p=!X.size(),p?X=I.append("path").style("vector-effect",T?"none":"non-scaling-stroke").classed("yerror",!0):h&&(X=X.transition().duration(d.duration).ease(d.easing)),X.attr("d",L)}else X.remove();var te=I.select("path.xerror");if(v.visible&&x(O.y)&&x(O.xh)&&x(O.xs)){var q=(v.copy_ystyle?c:v).width;L="M"+O.xh+","+(O.y-q)+"v"+2*q+"m0,-"+q+"H"+O.xs,O.noXS||(L+="m0,-"+q+"v"+2*q),p=!te.size(),p?te=I.append("path").style("vector-effect",T?"none":"non-scaling-stroke").classed("xerror",!0):h&&(te=te.transition().duration(d.duration).ease(d.easing)),te.attr("d",L)}else te.remove()}})}})};function r(f,s,n){var t={x:s.c2p(f.x),y:n.c2p(f.y)};return f.yh!==void 0&&(t.yh=n.c2p(f.yh),t.ys=n.c2p(f.ys),x(t.ys)||(t.noYS=!0,t.ys=n.c2p(f.ys,!0))),f.xh!==void 0&&(t.xh=s.c2p(f.xh),t.xs=s.c2p(f.xs),x(t.xs)||(t.noXS=!0,t.xs=s.c2p(f.xs,!0))),t}},2662:function(re,H,e){var o=e(9898),x=e(7901);re.exports=function(i){i.each(function(r){var f=r[0].trace,s=f.error_y||{},n=f.error_x||{},t=o.select(this);t.selectAll("path.yerror").style("stroke-width",s.thickness+"px").call(x.stroke,s.color),n.copy_ystyle&&(n=s),t.selectAll("path.xerror").style("stroke-width",n.thickness+"px").call(x.stroke,n.color)})}},7914:function(re,H,e){var o=e(1940),x=e(528).hoverlabel,l=e(1426).extendFlat;re.exports={hoverlabel:{bgcolor:l({},x.bgcolor,{arrayOk:!0}),bordercolor:l({},x.bordercolor,{arrayOk:!0}),font:o({arrayOk:!0,editType:"none"}),align:l({},x.align,{arrayOk:!0}),namelength:l({},x.namelength,{arrayOk:!0}),editType:"none"}}},732:function(re,H,e){var o=e(1828),x=e(3972);re.exports=function(r){var f=r.calcdata,s=r._fullLayout;function n(y){return function(h){return o.coerceHoverinfo({hoverinfo:h},{_module:y._module},s)}}for(var t=0;t<f.length;t++){var d=f[t],p=d[0].trace;if(!x.traceIs(p,"pie-like")){var m=x.traceIs(p,"2dMap")?l:o.fillArray;m(p.hoverinfo,d,"hi",n(p)),p.hovertemplate&&m(p.hovertemplate,d,"ht"),p.hoverlabel&&(m(p.hoverlabel.bgcolor,d,"hbg"),m(p.hoverlabel.bordercolor,d,"hbc"),m(p.hoverlabel.font.size,d,"hts"),m(p.hoverlabel.font.color,d,"htc"),m(p.hoverlabel.font.family,d,"htf"),m(p.hoverlabel.namelength,d,"hnl"),m(p.hoverlabel.align,d,"hta"))}}};function l(i,r,f,s){s=s||o.identity,Array.isArray(i)&&(r[0][f]=s(i))}},5914:function(re,H,e){var o=e(3972),x=e(8335).hover;re.exports=function(i,r,f){var s=o.getComponentMethod("annotations","onClick")(i,i._hoverdata);f!==void 0&&x(i,r,f,!0);function n(){i.emit("plotly_click",{points:i._hoverdata,event:r})}i._hoverdata&&r&&r.target&&(s&&s.then?s.then(n):n(),r.stopImmediatePropagation&&r.stopImmediatePropagation())}},6675:function(re){re.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},4268:function(re,H,e){var o=e(1828),x=e(7914),l=e(8048);re.exports=function(r,f,s,n){function t(p,m){return o.coerce(r,f,x,p,m)}var d=o.extendFlat({},n.hoverlabel);f.hovertemplate&&(d.namelength=-1),l(r,f,t,d)}},3469:function(re,H,e){var o=e(1828);H.getSubplot=function(s){return s.subplot||s.xaxis+s.yaxis||s.geo},H.isTraceInSubplots=function(s,n){if(s.type==="splom"){for(var t=s.xaxes||[],d=s.yaxes||[],p=0;p<t.length;p++)for(var m=0;m<d.length;m++)if(n.indexOf(t[p]+d[m])!==-1)return!0;return!1}return n.indexOf(H.getSubplot(s))!==-1},H.flat=function(s,n){for(var t=new Array(s.length),d=0;d<s.length;d++)t[d]=n;return t},H.p2c=function(s,n){for(var t=new Array(s.length),d=0;d<s.length;d++)t[d]=s[d].p2c(n);return t},H.getDistanceFunction=function(s,n,t,d){return s==="closest"?d||H.quadrature(n,t):s.charAt(0)==="x"?n:t},H.getClosest=function(s,n,t){if(t.index!==!1)t.index>=0&&t.index<s.length?t.distance=0:t.index=!1;else for(var d=0;d<s.length;d++){var p=n(s[d]);p<=t.distance&&(t.index=d,t.distance=p)}return t},H.inbox=function(s,n,t){return s*n<0||s===0?t:1/0},H.quadrature=function(s,n){return function(t){var d=s(t),p=n(t);return Math.sqrt(d*d+p*p)}},H.makeEventData=function(s,n,t){var d="index"in s?s.index:s.pointNumber,p={data:n._input,fullData:n,curveNumber:n.index,pointNumber:d};if(n._indexToPoints){var m=n._indexToPoints[d];m.length===1?p.pointIndex=m[0]:p.pointIndices=m}else p.pointIndex=d;return n._module.eventData?p=n._module.eventData(p,s,n,t,d):("xVal"in s?p.x=s.xVal:"x"in s&&(p.x=s.x),"yVal"in s?p.y=s.yVal:"y"in s&&(p.y=s.y),s.xa&&(p.xaxis=s.xa),s.ya&&(p.yaxis=s.ya),s.zLabelVal!==void 0&&(p.z=s.zLabelVal)),H.appendArrayPointValue(p,n,d),p},H.appendArrayPointValue=function(s,n,t){var d=n._arrayAttrs;if(d)for(var p=0;p<d.length;p++){var m=d[p],y=l(m);if(s[y]===void 0){var h=o.nestedProperty(n,m).get(),T=i(h,t);T!==void 0&&(s[y]=T)}}},H.appendArrayMultiPointValues=function(s,n,t){var d=n._arrayAttrs;if(d)for(var p=0;p<d.length;p++){var m=d[p],y=l(m);if(s[y]===void 0){for(var h=o.nestedProperty(n,m).get(),T=new Array(t.length),g=0;g<t.length;g++)T[g]=i(h,t[g]);s[y]=T}}};var x={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function l(s){return x[s]||s}function i(s,n){if(Array.isArray(n)){if(Array.isArray(s)&&Array.isArray(s[n[0]]))return s[n[0]][n[1]]}else return s[n]}var r={x:!0,y:!0},f={"x unified":!0,"y unified":!0};H.isUnifiedHover=function(s){return typeof s!="string"?!1:!!f[s]},H.isXYhover=function(s){return typeof s!="string"?!1:!!r[s]}},8335:function(re,H,e){var o=e(9898),x=e(2770),l=e(4267),i=e(1828),r=i.strTranslate,f=i.strRotate,s=e(1086),n=e(3893),t=e(9918),d=e(1424),p=e(7901),m=e(8569),y=e(9298),h=e(3972),T=e(3469),g=e(6675),M=e(9017),v=e(3969),c=g.YANGLE,u=Math.PI*c/180,b=1/Math.sin(u),w=Math.cos(u),B=Math.sin(u),C=g.HOVERARROWSIZE,I=g.HOVERTEXTPAD,O={box:!0,ohlc:!0,violin:!0,candlestick:!0},L={scatter:!0,scattergl:!0,splom:!0};H.hover=function(z,Y,F,J){z=i.getGraphDiv(z);var E=Y.target;i.throttle(z._fullLayout._uid+g.HOVERID,g.HOVERMINTIME,function(){X(z,Y,F,J,E)})},H.loneHover=function(z,Y){var F=!0;Array.isArray(z)||(F=!1,z=[z]);var J=Y.gd,E=de(J),K=S(J),ie=z.map(function(we){var Te=we._x0||we.x0||we.x||0,Ne=we._x1||we.x1||we.x||0,$e=we._y0||we.y0||we.y||0,je=we._y1||we.y1||we.y||0,He=we.eventData;if(He){var st=Math.min(Te,Ne),nt=Math.max(Te,Ne),dt=Math.min($e,je),ht=Math.max($e,je),Pt=we.trace;if(h.traceIs(Pt,"gl3d")){var bt=J._fullLayout[Pt.scene]._scene.container,At=bt.offsetLeft,wt=bt.offsetTop;st+=At,nt+=At,dt+=wt,ht+=wt}He.bbox={x0:st+K,x1:nt+K,y0:dt+E,y1:ht+E},Y.inOut_bbox&&Y.inOut_bbox.push(He.bbox)}else He=!1;return{color:we.color||p.defaultLine,x0:we.x0||we.x||0,x1:we.x1||we.x||0,y0:we.y0||we.y||0,y1:we.y1||we.y||0,xLabel:we.xLabel,yLabel:we.yLabel,zLabel:we.zLabel,text:we.text,name:we.name,idealAlign:we.idealAlign,borderColor:we.borderColor,fontFamily:we.fontFamily,fontSize:we.fontSize,fontColor:we.fontColor,nameLength:we.nameLength,textAlign:we.textAlign,trace:we.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:we.hovertemplate||!1,hovertemplateLabels:we.hovertemplateLabels||!1,eventData:He}}),ve=!1,he=q(ie,{gd:J,hovermode:"closest",rotateLabels:ve,bgColor:Y.bgColor||p.background,container:o.select(Y.container),outerContainer:Y.outerContainer||Y.container}),Le=he.hoverLabels,ke=5,se=0,ge=0;Le.sort(function(we,Te){return we.y0-Te.y0}).each(function(we,Te){var Ne=we.y0-we.by/2;Ne-ke<se?we.offset=se-Ne+ke:we.offset=0,se=Ne+we.by+we.offset,Te===Y.anchorIndex&&(ge=we.offset)}).each(function(we){we.offset-=ge});var be=J._fullLayout._invScaleX,Ee=J._fullLayout._invScaleY;return V(Le,ve,be,Ee),F?Le:Le.node()};function X(k,z,Y,F,J){Y||(Y="xy");var E=Array.isArray(Y)?Y:[Y],K=k._fullLayout,ie=K._plots||[],ve=ie[Y],he=K._has("cartesian");if(ve){var Le=ve.overlays.map(function(St){return St.id});E=E.concat(Le)}for(var ke=E.length,se=new Array(ke),ge=new Array(ke),be=!1,Ee=0;Ee<ke;Ee++){var we=E[Ee];if(ie[we])be=!0,se[Ee]=ie[we].xaxis,ge[Ee]=ie[we].yaxis;else if(K[we]&&K[we]._subplot){var Te=K[we]._subplot;se[Ee]=Te.xaxis,ge[Ee]=Te.yaxis}else{i.warn("Unrecognized subplot: "+we);return}}var Ne=z.hovermode||K.hovermode;if(Ne&&!be&&(Ne="closest"),["x","y","closest","x unified","y unified"].indexOf(Ne)===-1||!k.calcdata||k.querySelector(".zoombox")||k._dragging)return m.unhoverRaw(k,z);var $e=K.hoverdistance;$e===-1&&($e=1/0);var je=K.spikedistance;je===-1&&(je=1/0);var He=[],st=[],nt,dt,ht,Pt,bt,At,wt,Lt,kt,Ce,Ae,Pe,$,fe={hLinePoint:null,vLinePoint:null},pe=!1;if(Array.isArray(z))for(Ne="array",ht=0;ht<z.length;ht++)bt=k.calcdata[z[ht].curveNumber||0],bt&&(At=bt[0].trace,bt[0].trace.hoverinfo!=="skip"&&(st.push(bt),At.orientation==="h"&&(pe=!0)));else{for(Pt=0;Pt<k.calcdata.length;Pt++)bt=k.calcdata[Pt],At=bt[0].trace,At.hoverinfo!=="skip"&&T.isTraceInSubplots(At,E)&&(st.push(bt),At.orientation==="h"&&(pe=!0));var Me=!J,Ge,Ie;if(Me)"xpx"in z?Ge=z.xpx:Ge=se[0]._length/2,"ypx"in z?Ie=z.ypx:Ie=ge[0]._length/2;else{if(s.triggerHandler(k,"plotly_beforehover",z)===!1)return;var _e=J.getBoundingClientRect();Ge=z.clientX-_e.left,Ie=z.clientY-_e.top,K._calcInverseTransform(k);var Je=i.apply3DTransform(K._invTransform)(Ge,Ie);if(Ge=Je[0],Ie=Je[1],Ge<0||Ge>se[0]._length||Ie<0||Ie>ge[0]._length)return m.unhoverRaw(k,z)}if(z.pointerX=Ge+se[0]._offset,z.pointerY=Ie+ge[0]._offset,"xval"in z?nt=T.flat(E,z.xval):nt=T.p2c(se,Ge),"yval"in z?dt=T.flat(E,z.yval):dt=T.p2c(ge,Ie),!x(nt[0])||!x(dt[0]))return i.warn("Fx.hover failed",z,k),m.unhoverRaw(k,z)}var Qe=1/0;function Oe(St,Ft){for(Pt=0;Pt<st.length;Pt++)if(bt=st[Pt],!(!bt||!bt[0]||!bt[0].trace)&&(At=bt[0].trace,!(At.visible!==!0||At._length===0)&&["carpet","contourcarpet"].indexOf(At._module.name)===-1)){if(At.type==="splom"?(Lt=0,wt=E[Lt]):(wt=T.getSubplot(At),Lt=E.indexOf(wt)),kt=Ne,T.isUnifiedHover(kt)&&(kt=kt.charAt(0)),Pe={cd:bt,trace:At,xa:se[Lt],ya:ge[Lt],maxHoverDistance:$e,maxSpikeDistance:je,index:!1,distance:Math.min(Qe,$e),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:p.defaultLine,name:At.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},K[wt]&&(Pe.subplot=K[wt]._subplot),K._splomScenes&&K._splomScenes[At.uid]&&(Pe.scene=K._splomScenes[At.uid]),$=He.length,kt==="array"){var lr=z[Pt];"pointNumber"in lr?(Pe.index=lr.pointNumber,kt="closest"):(kt="","xval"in lr&&(Ce=lr.xval,kt="x"),"yval"in lr&&(Ae=lr.yval,kt=kt?"closest":"y"))}else St!==void 0&&Ft!==void 0?(Ce=St,Ae=Ft):(Ce=nt[Lt],Ae=dt[Lt]);if($e!==0)if(At._module&&At._module.hoverPoints){var rr=At._module.hoverPoints(Pe,Ce,Ae,kt,{finiteRange:!0,hoverLayer:K._hoverlayer});if(rr)for(var vr,mr=0;mr<rr.length;mr++)vr=rr[mr],x(vr.x0)&&x(vr.y0)&&He.push(G(vr,Ne))}else i.log("Unrecognized trace type in hover:",At);if(Ne==="closest"&&He.length>$&&(He.splice(0,$),Qe=He[0].distance),he&&je!==0&&He.length===0){Pe.distance=je,Pe.index=!1;var ir=At._module.hoverPoints(Pe,Ce,Ae,"closest",{hoverLayer:K._hoverlayer});if(ir&&(ir=ir.filter(function(Mr){return Mr.spikeDistance<=je})),ir&&ir.length){var fr,hr=ir.filter(function(Mr){return Mr.xa.showspikes&&Mr.xa.spikesnap!=="hovered data"});if(hr.length){var yr=hr[0];x(yr.x0)&&x(yr.y0)&&(fr=vt(yr),(!fe.vLinePoint||fe.vLinePoint.spikeDistance>fr.spikeDistance)&&(fe.vLinePoint=fr))}var br=ir.filter(function(Mr){return Mr.ya.showspikes&&Mr.ya.spikesnap!=="hovered data"});if(br.length){var wr=br[0];x(wr.x0)&&x(wr.y0)&&(fr=vt(wr),(!fe.hLinePoint||fe.hLinePoint.spikeDistance>fr.spikeDistance)&&(fe.hLinePoint=fr))}}}}}Oe();function ft(St,Ft,lr){for(var rr=null,vr=1/0,mr,ir=0;ir<St.length;ir++)mr=St[ir].spikeDistance,lr&&ir===0&&(mr=-1/0),mr<=vr&&mr<=Ft&&(rr=St[ir],vr=mr);return rr}function vt(St){return St?{xa:St.xa,ya:St.ya,x:St.xSpike!==void 0?St.xSpike:(St.x0+St.x1)/2,y:St.ySpike!==void 0?St.ySpike:(St.y0+St.y1)/2,distance:St.distance,spikeDistance:St.spikeDistance,curveNumber:St.trace.index,color:St.color,pointNumber:St.index}:null}var xt={fullLayout:K,container:K._hoverlayer,event:z},zt=k._spikepoints,Vt={vLinePoint:fe.vLinePoint,hLinePoint:fe.hLinePoint};k._spikepoints=Vt;var Ut=function(){He.sort(function(St,Ft){return St.distance-Ft.distance}),He=Se(He,Ne)};Ut();var Nt=Ne.charAt(0),Gt=(Nt==="x"||Nt==="y")&&He[0]&&L[He[0].trace.type];if(he&&je!==0&&He.length!==0){var Ct=He.filter(function(St){return St.ya.showspikes}),Dt=ft(Ct,je,Gt);fe.hLinePoint=vt(Dt);var _t=He.filter(function(St){return St.xa.showspikes}),Wt=ft(_t,je,Gt);fe.vLinePoint=vt(Wt)}if(He.length===0){var Bt=m.unhoverRaw(k,z);return he&&(fe.hLinePoint!==null||fe.vLinePoint!==null)&&le(zt)&&Q(k,fe,xt),Bt}if(he&&le(zt)&&Q(k,fe,xt),T.isXYhover(kt)&&He[0].length!==0&&He[0].trace.type!=="splom"){var It=He[0];O[It.trace.type]?He=He.filter(function(St){return St.trace.index===It.trace.index}):He=[It];var it=He.length,Ot=ce("x",It,K),Xt=ce("y",It,K);Oe(Ot,Xt);var nr=[],Ht={},tr=0,or=function(St){var Ft=O[St.trace.type]?Z(St):St.trace.index;if(!Ht[Ft])tr++,Ht[Ft]=tr,nr.push(St);else{var lr=Ht[Ft]-1,rr=nr[lr];lr>0&&Math.abs(St.distance)<Math.abs(rr.distance)&&(nr[lr]=St)}},ne;for(ne=0;ne<it;ne++)or(He[ne]);for(ne=He.length-1;ne>it-1;ne--)or(He[ne]);He=nr,Ut()}var ee=k._hoverdata,ze=[],Fe=de(k),Ue=S(k);for(ht=0;ht<He.length;ht++){var Ze=He[ht],Xe=T.makeEventData(Ze,Ze.trace,Ze.cd);if(Ze.hovertemplate!==!1){var Be=!1;Ze.cd[Ze.index]&&Ze.cd[Ze.index].ht&&(Be=Ze.cd[Ze.index].ht),Ze.hovertemplate=Be||Ze.trace.hovertemplate||!1}if(Ze.xa&&Ze.ya){var Ye=Ze.x0+Ze.xa._offset,qe=Ze.x1+Ze.xa._offset,tt=Ze.y0+Ze.ya._offset,ut=Ze.y1+Ze.ya._offset,rt=Math.min(Ye,qe),Tt=Math.max(Ye,qe),mt=Math.min(tt,ut),ct=Math.max(tt,ut);Xe.bbox={x0:rt+Ue,x1:Tt+Ue,y0:mt+Fe,y1:ct+Fe}}Ze.eventData=[Xe],ze.push(Xe)}k._hoverdata=ze;var Rt=Ne==="y"&&(st.length>1||He.length>1)||Ne==="closest"&&pe&&He.length>1,Mt=p.combine(K.plot_bgcolor||p.background,K.paper_bgcolor),Yt=q(He,{gd:k,hovermode:Ne,rotateLabels:Rt,bgColor:Mt,container:K._hoverlayer,outerContainer:K._paper.node(),commonLabelOpts:K.hoverlabel,hoverdistance:K.hoverdistance}),Jt=Yt.hoverLabels;if(T.isUnifiedHover(Ne)||(N(Jt,Rt,K,Yt.commonLabelBoundingBox),V(Jt,Rt,K._invScaleX,K._invScaleY)),J&&J.tagName){var Qt=h.getComponentMethod("annotations","hasClickToShow")(k,ze);t(o.select(J),Qt?"pointer":"")}!J||F||!ue(k,z,ee)||(ee&&k.emit("plotly_unhover",{event:z,points:ee}),k.emit("plotly_hover",{event:z,points:k._hoverdata,xaxes:se,yaxes:ge,xvals:nt,yvals:dt}))}function Z(k){return[k.trace.index,k.index,k.x0,k.y0,k.name,k.attr,k.xa?k.xa._id:"",k.ya?k.ya._id:""].join(",")}var te=/<extra>([\s\S]*)<\/extra>/;function q(k,z){var Y=z.gd,F=Y._fullLayout,J=z.hovermode,E=z.rotateLabels,K=z.bgColor,ie=z.container,ve=z.outerContainer,he=z.commonLabelOpts||{};if(k.length===0)return[[]];var Le=z.fontFamily||g.HOVERFONT,ke=z.fontSize||g.HOVERFONTSIZE,se=k[0],ge=se.xa,be=se.ya,Ee=J.charAt(0),we=Ee+"Label",Te=se[we];if(Te===void 0&&ge.type==="multicategory")for(var Ne=0;Ne<k.length&&(Te=k[Ne][we],Te===void 0);Ne++);var $e=P(Y,ve),je=$e.top,He=$e.width,st=$e.height,nt=Te!==void 0&&se.distance<=z.hoverdistance&&(J==="x"||J==="y");if(nt){var dt=!0,ht,Pt;for(ht=0;ht<k.length;ht++)if(dt&&k[ht].zLabel===void 0&&(dt=!1),Pt=k[ht].hoverinfo||k[ht].trace.hoverinfo,Pt){var bt=Array.isArray(Pt)?Pt:Pt.split("+");if(bt.indexOf("all")===-1&&bt.indexOf(J)===-1){nt=!1;break}}dt&&(nt=!1)}var At=ie.selectAll("g.axistext").data(nt?[0]:[]);At.enter().append("g").classed("axistext",!0),At.exit().remove();var wt={minX:0,maxX:0,minY:0,maxY:0};if(At.each(function(){var it=o.select(this),Ot=i.ensureSingle(it,"path","",function(mt){mt.style({"stroke-width":"1px"})}),Xt=i.ensureSingle(it,"text","",function(mt){mt.attr("data-notex",1)}),nr=he.bgcolor||p.defaultLine,Ht=he.bordercolor||p.contrast(nr),tr=p.contrast(nr),or={family:he.font.family||Le,size:he.font.size||ke,color:he.font.color||tr};Ot.style({fill:nr,stroke:Ht}),Xt.text(Te).call(d.font,or).call(n.positionText,0,0).call(n.convertToTspans,Y),it.attr("transform","");var ne=P(Y,Xt.node()),ee,ze;if(J==="x"){var Fe=ge.side==="top"?"-":"";Xt.attr("text-anchor","middle").call(n.positionText,0,ge.side==="top"?je-ne.bottom-C-I:je-ne.top+C+I),ee=ge._offset+(se.x0+se.x1)/2,ze=be._offset+(ge.side==="top"?0:be._length);var Ue=ne.width/2+I;ee<Ue?(ee=Ue,Ot.attr("d","M-"+(Ue-C)+",0L-"+(Ue-C*2)+","+Fe+C+"H"+Ue+"v"+Fe+(I*2+ne.height)+"H-"+Ue+"V"+Fe+C+"Z")):ee>F.width-Ue?(ee=F.width-Ue,Ot.attr("d","M"+(Ue-C)+",0L"+Ue+","+Fe+C+"v"+Fe+(I*2+ne.height)+"H-"+Ue+"V"+Fe+C+"H"+(Ue-C*2)+"Z")):Ot.attr("d","M0,0L"+C+","+Fe+C+"H"+Ue+"v"+Fe+(I*2+ne.height)+"H-"+Ue+"V"+Fe+C+"H-"+C+"Z"),wt.minX=ee-Ue,wt.maxX=ee+Ue,ge.side==="top"?(wt.minY=ze-(I*2+ne.height),wt.maxY=ze-I):(wt.minY=ze+I,wt.maxY=ze+(I*2+ne.height))}else{var Ze,Xe,Be;be.side==="right"?(Ze="start",Xe=1,Be="",ee=ge._offset+ge._length):(Ze="end",Xe=-1,Be="-",ee=ge._offset),ze=be._offset+(se.y0+se.y1)/2,Xt.attr("text-anchor",Ze),Ot.attr("d","M0,0L"+Be+C+","+C+"V"+(I+ne.height/2)+"h"+Be+(I*2+ne.width)+"V-"+(I+ne.height/2)+"H"+Be+C+"V-"+C+"Z"),wt.minY=ze-(I+ne.height/2),wt.maxY=ze+(I+ne.height/2),be.side==="right"?(wt.minX=ee+C,wt.maxX=ee+C+(I*2+ne.width)):(wt.minX=ee-C-(I*2+ne.width),wt.maxX=ee-C);var Ye=ne.height/2,qe=je-ne.top-Ye,tt="clip"+F._uid+"commonlabel"+be._id,ut;if(ee<ne.width+2*I+C){ut="M-"+(C+I)+"-"+Ye+"h-"+(ne.width-I)+"V"+Ye+"h"+(ne.width-I)+"Z";var rt=ne.width-ee+I;n.positionText(Xt,rt,qe),Ze==="end"&&Xt.selectAll("tspan").each(function(){var mt=o.select(this),ct=d.tester.append("text").text(mt.text()).call(d.font,or),Rt=P(Y,ct.node());Math.round(Rt.width)<Math.round(ne.width)&&mt.attr("x",rt-Rt.width),ct.remove()})}else n.positionText(Xt,Xe*(I+C),qe),ut=null;var Tt=F._topclips.selectAll("#"+tt).data(ut?[0]:[]);Tt.enter().append("clipPath").attr("id",tt).append("path"),Tt.exit().remove(),Tt.select("path").attr("d",ut),d.setClipUrl(Xt,ut?tt:null,Y)}it.attr("transform",r(ee,ze))}),T.isUnifiedHover(J)){ie.selectAll("g.hovertext").remove();var Lt=k.filter(function(it){return it.hoverinfo!=="none"});if(Lt.length===0)return;var kt=F.hoverlabel,Ce=kt.font,Ae={showlegend:!0,legend:{title:{text:Te,font:Ce},font:Ce,bgcolor:kt.bgcolor,bordercolor:kt.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:F.legend?F.legend.traceorder:void 0,orientation:"v"}},Pe={font:Ce};M(Ae,Pe,Y._fullData);var $=Pe.legend;$.entries=[];for(var fe=0;fe<Lt.length;fe++){var pe=Lt[fe];if(pe.hoverinfo!=="none"){var Me=ae(pe,!0,J,F,Te),Ge=Me[0],Ie=Me[1];pe.name=Ie,Ie!==""?pe.text=Ie+" : "+Ge:pe.text=Ge;var _e=pe.cd[pe.index];_e&&(_e.mc&&(pe.mc=_e.mc),_e.mcc&&(pe.mc=_e.mcc),_e.mlc&&(pe.mlc=_e.mlc),_e.mlcc&&(pe.mlc=_e.mlcc),_e.mlw&&(pe.mlw=_e.mlw),_e.mrc&&(pe.mrc=_e.mrc),_e.dir&&(pe.dir=_e.dir)),pe._distinct=!0,$.entries.push([pe])}}$.entries.sort(function(it,Ot){return it[0].trace.index-Ot[0].trace.index}),$.layer=ie,$._inHover=!0,$._groupTitleFont=kt.grouptitlefont,v(Y,$);var Je=ie.select("g.legend"),Qe=P(Y,Je.node()),Oe=Qe.width+2*I,ft=Qe.height+2*I,vt=Lt[0],xt=(vt.x0+vt.x1)/2,zt=(vt.y0+vt.y1)/2,Vt=!(h.traceIs(vt.trace,"bar-like")||h.traceIs(vt.trace,"box-violin")),Ut,Nt;Ee==="y"?Vt?(Nt=zt-I,Ut=zt+I):(Nt=Math.min.apply(null,Lt.map(function(it){return Math.min(it.y0,it.y1)})),Ut=Math.max.apply(null,Lt.map(function(it){return Math.max(it.y0,it.y1)}))):Nt=Ut=i.mean(Lt.map(function(it){return(it.y0+it.y1)/2}))-ft/2;var Gt,Ct;Ee==="x"?Vt?(Gt=xt+I,Ct=xt-I):(Gt=Math.max.apply(null,Lt.map(function(it){return Math.max(it.x0,it.x1)})),Ct=Math.min.apply(null,Lt.map(function(it){return Math.min(it.x0,it.x1)}))):Gt=Ct=i.mean(Lt.map(function(it){return(it.x0+it.x1)/2}))-Oe/2;var Dt=ge._offset,_t=be._offset;Ut+=_t,Gt+=Dt,Ct+=Dt-Oe,Nt+=_t-ft;var Wt,Bt;return Gt+Oe<He&&Gt>=0?Wt=Gt:Ct+Oe<He&&Ct>=0?Wt=Ct:Dt+Oe<He?Wt=Dt:Gt-xt<xt-Ct+Oe?Wt=He-Oe:Wt=0,Wt+=I,Ut+ft<st&&Ut>=0?Bt=Ut:Nt+ft<st&&Nt>=0?Bt=Nt:_t+ft<st?Bt=_t:Ut-zt<zt-Nt+ft?Bt=st-ft:Bt=0,Bt+=I,Je.attr("transform",r(Wt-1,Bt-1)),Je}var It=ie.selectAll("g.hovertext").data(k,function(it){return Z(it)});return It.enter().append("g").classed("hovertext",!0).each(function(){var it=o.select(this);it.append("rect").call(p.fill,p.addOpacity(K,.8)),it.append("text").classed("name",!0),it.append("path").style("stroke-width","1px"),it.append("text").classed("nums",!0).call(d.font,Le,ke)}),It.exit().remove(),It.each(function(it){var Ot=o.select(this).attr("transform",""),Xt=it.color;Array.isArray(Xt)&&(Xt=Xt[it.eventData[0].pointNumber]);var nr=it.bgcolor||Xt,Ht=p.combine(p.opacity(nr)?nr:p.defaultLine,K),tr=p.combine(p.opacity(Xt)?Xt:p.defaultLine,K),or=it.borderColor||p.contrast(Ht),ne=ae(it,nt,J,F,Te,Ot),ee=ne[0],ze=ne[1],Fe=Ot.select("text.nums").call(d.font,it.fontFamily||Le,it.fontSize||ke,it.fontColor||or).text(ee).attr("data-notex",1).call(n.positionText,0,0).call(n.convertToTspans,Y),Ue=Ot.select("text.name"),Ze=0,Xe=0;if(ze&&ze!==ee){Ue.call(d.font,it.fontFamily||Le,it.fontSize||ke,tr).text(ze).attr("data-notex",1).call(n.positionText,0,0).call(n.convertToTspans,Y);var Be=P(Y,Ue.node());Ze=Be.width+2*I,Xe=Be.height+2*I}else Ue.remove(),Ot.select("rect").remove();Ot.select("path").style({fill:Ht,stroke:or});var Ye=it.xa._offset+(it.x0+it.x1)/2,qe=it.ya._offset+(it.y0+it.y1)/2,tt=Math.abs(it.x1-it.x0),ut=Math.abs(it.y1-it.y0),rt=P(Y,Fe.node()),Tt=rt.width/F._invScaleX,mt=rt.height/F._invScaleY;it.ty0=(je-rt.top)/F._invScaleY,it.bx=Tt+2*I,it.by=Math.max(mt+2*I,Xe),it.anchor="start",it.txwidth=Tt,it.tx2width=Ze,it.offset=0;var ct=(Tt+C+I+Ze)*F._invScaleX,Rt,Mt;if(E)it.pos=Ye,Rt=qe+ut/2+ct<=st,Mt=qe-ut/2-ct>=0,(it.idealAlign==="top"||!Rt)&&Mt?(qe-=ut/2,it.anchor="end"):Rt?(qe+=ut/2,it.anchor="start"):it.anchor="middle",it.crossPos=qe;else{if(it.pos=qe,Rt=Ye+tt/2+ct<=He,Mt=Ye-tt/2-ct>=0,(it.idealAlign==="left"||!Rt)&&Mt)Ye-=tt/2,it.anchor="end";else if(Rt)Ye+=tt/2,it.anchor="start";else{it.anchor="middle";var Yt=ct/2,Jt=Ye+Yt-He,Qt=Ye-Yt;Jt>0&&(Ye-=Jt),Qt<0&&(Ye+=-Qt)}it.crossPos=Ye}Fe.attr("text-anchor",it.anchor),Ze&&Ue.attr("text-anchor",it.anchor),Ot.attr("transform",r(Ye,qe)+(E?f(c):""))}),{hoverLabels:It,commonLabelBoundingBox:wt}}function ae(k,z,Y,F,J,E){var K="",ie="";k.nameOverride!==void 0&&(k.name=k.nameOverride),k.name&&(k.trace._meta&&(k.name=i.templateString(k.name,k.trace._meta)),K=ye(k.name,k.nameLength));var ve=Y.charAt(0),he=ve==="x"?"y":"x";k.zLabel!==void 0?(k.xLabel!==void 0&&(ie+="x: "+k.xLabel+"<br>"),k.yLabel!==void 0&&(ie+="y: "+k.yLabel+"<br>"),k.trace.type!=="choropleth"&&k.trace.type!=="choroplethmapbox"&&(ie+=(ie?"z: ":"")+k.zLabel)):z&&k[ve+"Label"]===J?ie=k[he+"Label"]||"":k.xLabel===void 0?k.yLabel!==void 0&&k.trace.type!=="scattercarpet"&&(ie=k.yLabel):k.yLabel===void 0?ie=k.xLabel:ie="("+k.xLabel+", "+k.yLabel+")",(k.text||k.text===0)&&!Array.isArray(k.text)&&(ie+=(ie?"<br>":"")+k.text),k.extraText!==void 0&&(ie+=(ie?"<br>":"")+k.extraText),E&&ie===""&&!k.hovertemplate&&(K===""&&E.remove(),ie=K);var Le=k.hovertemplate||!1;if(Le){var ke=k.hovertemplateLabels||k;k[ve+"Label"]!==J&&(ke[ve+"other"]=ke[ve+"Val"],ke[ve+"otherLabel"]=ke[ve+"Label"]),ie=i.hovertemplateString(Le,ke,F._d3locale,k.eventData[0]||{},k.trace._meta),ie=ie.replace(te,function(se,ge){return K=ye(ge,k.nameLength),""})}return[ie,K]}function N(k,z,Y,F){var J=z?"xa":"ya",E=z?"ya":"xa",K=0,ie=1,ve=k.size(),he=new Array(ve),Le=0,ke=F.minX,se=F.maxX,ge=F.minY,be=F.maxY,Ee=function(Ce){return Ce*Y._invScaleX},we=function(Ce){return Ce*Y._invScaleY};k.each(function(Ce){var Ae=Ce[J],Pe=Ce[E],$=Ae._id.charAt(0)==="x",fe=Ae.range;Le===0&&fe&&fe[0]>fe[1]!==$&&(ie=-1);var pe=0,Me=$?Y.width:Y.height;if(Y.hovermode==="x"||Y.hovermode==="y"){var Ge=D(Ce,z),Ie=Ce.anchor,_e=Ie==="end"?-1:1,Je,Qe;if(Ie==="middle")Je=Ce.crossPos+($?we(Ge.y-Ce.by/2):Ee(Ce.bx/2+Ce.tx2width/2)),Qe=Je+($?we(Ce.by):Ee(Ce.bx));else if($)Je=Ce.crossPos+we(C+Ge.y)-we(Ce.by/2-C),Qe=Je+we(Ce.by);else{var Oe=Ee(_e*C+Ge.x),ft=Oe+Ee(_e*Ce.bx);Je=Ce.crossPos+Math.min(Oe,ft),Qe=Ce.crossPos+Math.max(Oe,ft)}$?ge!==void 0&&be!==void 0&&Math.min(Qe,be)-Math.max(Je,ge)>1&&(Pe.side==="left"?(pe=Pe._mainLinePosition,Me=Y.width):Me=Pe._mainLinePosition):ke!==void 0&&se!==void 0&&Math.min(Qe,se)-Math.max(Je,ke)>1&&(Pe.side==="top"?(pe=Pe._mainLinePosition,Me=Y.height):Me=Pe._mainLinePosition)}he[Le++]=[{datum:Ce,traceIndex:Ce.trace.index,dp:0,pos:Ce.pos,posref:Ce.posref,size:Ce.by*($?b:1)/2,pmin:pe,pmax:Me}]}),he.sort(function(Ce,Ae){return Ce[0].posref-Ae[0].posref||ie*(Ae[0].traceIndex-Ce[0].traceIndex)});var Te,Ne,$e,je,He,st,nt;function dt(Ce){var Ae=Ce[0],Pe=Ce[Ce.length-1];if(Ne=Ae.pmin-Ae.pos-Ae.dp+Ae.size,$e=Pe.pos+Pe.dp+Pe.size-Ae.pmax,Ne>.01){for(He=Ce.length-1;He>=0;He--)Ce[He].dp+=Ne;Te=!1}if(!($e<.01)){if(Ne<-.01){for(He=Ce.length-1;He>=0;He--)Ce[He].dp-=$e;Te=!1}if(Te){var $=0;for(je=0;je<Ce.length;je++)st=Ce[je],st.pos+st.dp+st.size>Ae.pmax&&$++;for(je=Ce.length-1;je>=0&&!($<=0);je--)st=Ce[je],st.pos>Ae.pmax-1&&(st.del=!0,$--);for(je=0;je<Ce.length&&!($<=0);je++)if(st=Ce[je],st.pos<Ae.pmin+1)for(st.del=!0,$--,$e=st.size*2,He=Ce.length-1;He>=0;He--)Ce[He].dp-=$e;for(je=Ce.length-1;je>=0&&!($<=0);je--)st=Ce[je],st.pos+st.dp+st.size>Ae.pmax&&(st.del=!0,$--)}}}for(;!Te&&K<=ve;){for(K++,Te=!0,je=0;je<he.length-1;){var ht=he[je],Pt=he[je+1],bt=ht[ht.length-1],At=Pt[0];if(Ne=bt.pos+bt.dp+bt.size-At.pos-At.dp+At.size,Ne>.01&&bt.pmin===At.pmin&&bt.pmax===At.pmax){for(He=Pt.length-1;He>=0;He--)Pt[He].dp+=Ne;for(ht.push.apply(ht,Pt),he.splice(je+1,1),nt=0,He=ht.length-1;He>=0;He--)nt+=ht[He].dp;for($e=nt/ht.length,He=ht.length-1;He>=0;He--)ht[He].dp-=$e;Te=!1}else je++}he.forEach(dt)}for(je=he.length-1;je>=0;je--){var wt=he[je];for(He=wt.length-1;He>=0;He--){var Lt=wt[He],kt=Lt.datum;kt.offset=Lt.dp,kt.del=Lt.del}}}function D(k,z){var Y=0,F=k.offset;return z&&(F*=-B,Y=k.offset*w),{x:Y,y:F}}function _(k){var z={start:1,end:-1,middle:0}[k.anchor],Y=z*(C+I),F=Y+z*(k.txwidth+I),J=k.anchor==="middle";return J&&(Y-=k.tx2width/2,F+=k.txwidth/2+I),{alignShift:z,textShiftX:Y,text2ShiftX:F}}function V(k,z,Y,F){var J=function(K){return K*Y},E=function(K){return K*F};k.each(function(K){var ie=o.select(this);if(K.del)return ie.remove();var ve=ie.select("text.nums"),he=K.anchor,Le=he==="end"?-1:1,ke=_(K),se=D(K,z),ge=se.x,be=se.y,Ee=he==="middle";ie.select("path").attr("d",Ee?"M-"+J(K.bx/2+K.tx2width/2)+","+E(be-K.by/2)+"h"+J(K.bx)+"v"+E(K.by)+"h-"+J(K.bx)+"Z":"M0,0L"+J(Le*C+ge)+","+E(C+be)+"v"+E(K.by/2-C)+"h"+J(Le*K.bx)+"v-"+E(K.by)+"H"+J(Le*C+ge)+"V"+E(be-C)+"Z");var we=ge+ke.textShiftX,Te=be+K.ty0-K.by/2+I,Ne=K.textAlign||"auto";Ne!=="auto"&&(Ne==="left"&&he!=="start"?(ve.attr("text-anchor","start"),we=Ee?-K.bx/2-K.tx2width/2+I:-K.bx-I):Ne==="right"&&he!=="end"&&(ve.attr("text-anchor","end"),we=Ee?K.bx/2-K.tx2width/2-I:K.bx+I)),ve.call(n.positionText,J(we),E(Te)),K.tx2width&&(ie.select("text.name").call(n.positionText,J(ke.text2ShiftX+ke.alignShift*I+ge),E(be+K.ty0-K.by/2+I)),ie.select("rect").call(d.setRect,J(ke.text2ShiftX+(ke.alignShift-1)*K.tx2width/2+ge),E(be-K.by/2-1),J(K.tx2width),E(K.by+2)))})}function G(k,z){var Y=k.index,F=k.trace||{},J=k.cd[0],E=k.cd[Y]||{};function K(se){return se||x(se)&&se===0}var ie=Array.isArray(Y)?function(se,ge){var be=i.castOption(J,Y,se);return K(be)?be:i.extractOption({},F,"",ge)}:function(se,ge){return i.extractOption(E,F,se,ge)};function ve(se,ge,be){var Ee=ie(ge,be);K(Ee)&&(k[se]=Ee)}if(ve("hoverinfo","hi","hoverinfo"),ve("bgcolor","hbg","hoverlabel.bgcolor"),ve("borderColor","hbc","hoverlabel.bordercolor"),ve("fontFamily","htf","hoverlabel.font.family"),ve("fontSize","hts","hoverlabel.font.size"),ve("fontColor","htc","hoverlabel.font.color"),ve("nameLength","hnl","hoverlabel.namelength"),ve("textAlign","hta","hoverlabel.align"),k.posref=z==="y"||z==="closest"&&F.orientation==="h"?k.xa._offset+(k.x0+k.x1)/2:k.ya._offset+(k.y0+k.y1)/2,k.x0=i.constrain(k.x0,0,k.xa._length),k.x1=i.constrain(k.x1,0,k.xa._length),k.y0=i.constrain(k.y0,0,k.ya._length),k.y1=i.constrain(k.y1,0,k.ya._length),k.xLabelVal!==void 0&&(k.xLabel="xLabel"in k?k.xLabel:y.hoverLabelText(k.xa,k.xLabelVal,F.xhoverformat),k.xVal=k.xa.c2d(k.xLabelVal)),k.yLabelVal!==void 0&&(k.yLabel="yLabel"in k?k.yLabel:y.hoverLabelText(k.ya,k.yLabelVal,F.yhoverformat),k.yVal=k.ya.c2d(k.yLabelVal)),k.zLabelVal!==void 0&&k.zLabel===void 0&&(k.zLabel=String(k.zLabelVal)),!isNaN(k.xerr)&&!(k.xa.type==="log"&&k.xerr<=0)){var he=y.tickText(k.xa,k.xa.c2l(k.xerr),"hover").text;k.xerrneg!==void 0?k.xLabel+=" +"+he+" / -"+y.tickText(k.xa,k.xa.c2l(k.xerrneg),"hover").text:k.xLabel+="  "+he,z==="x"&&(k.distance+=1)}if(!isNaN(k.yerr)&&!(k.ya.type==="log"&&k.yerr<=0)){var Le=y.tickText(k.ya,k.ya.c2l(k.yerr),"hover").text;k.yerrneg!==void 0?k.yLabel+=" +"+Le+" / -"+y.tickText(k.ya,k.ya.c2l(k.yerrneg),"hover").text:k.yLabel+="  "+Le,z==="y"&&(k.distance+=1)}var ke=k.hoverinfo||k.trace.hoverinfo;return ke&&ke!=="all"&&(ke=Array.isArray(ke)?ke:ke.split("+"),ke.indexOf("x")===-1&&(k.xLabel=void 0),ke.indexOf("y")===-1&&(k.yLabel=void 0),ke.indexOf("z")===-1&&(k.zLabel=void 0),ke.indexOf("text")===-1&&(k.text=void 0),ke.indexOf("name")===-1&&(k.name=void 0)),k}function Q(k,z,Y){var F=Y.container,J=Y.fullLayout,E=J._size,K=Y.event,ie=!!z.hLinePoint,ve=!!z.vLinePoint,he,Le;if(F.selectAll(".spikeline").remove(),!!(ve||ie)){var ke=p.combine(J.plot_bgcolor,J.paper_bgcolor);if(ie){var se=z.hLinePoint,ge,be;he=se&&se.xa,Le=se&&se.ya;var Ee=Le.spikesnap;Ee==="cursor"?(ge=K.pointerX,be=K.pointerY):(ge=he._offset+se.x,be=Le._offset+se.y);var we=l.readability(se.color,ke)<1.5?p.contrast(ke):se.color,Te=Le.spikemode,Ne=Le.spikethickness,$e=Le.spikecolor||we,je=y.getPxPosition(k,Le),He,st;if(Te.indexOf("toaxis")!==-1||Te.indexOf("across")!==-1){if(Te.indexOf("toaxis")!==-1&&(He=je,st=ge),Te.indexOf("across")!==-1){var nt=Le._counterDomainMin,dt=Le._counterDomainMax;Le.anchor==="free"&&(nt=Math.min(nt,Le.position),dt=Math.max(dt,Le.position)),He=E.l+nt*E.w,st=E.l+dt*E.w}F.insert("line",":first-child").attr({x1:He,x2:st,y1:be,y2:be,"stroke-width":Ne,stroke:$e,"stroke-dasharray":d.dashStyle(Le.spikedash,Ne)}).classed("spikeline",!0).classed("crisp",!0),F.insert("line",":first-child").attr({x1:He,x2:st,y1:be,y2:be,"stroke-width":Ne+2,stroke:ke}).classed("spikeline",!0).classed("crisp",!0)}Te.indexOf("marker")!==-1&&F.insert("circle",":first-child").attr({cx:je+(Le.side!=="right"?Ne:-Ne),cy:be,r:Ne,fill:$e}).classed("spikeline",!0)}if(ve){var ht=z.vLinePoint,Pt,bt;he=ht&&ht.xa,Le=ht&&ht.ya;var At=he.spikesnap;At==="cursor"?(Pt=K.pointerX,bt=K.pointerY):(Pt=he._offset+ht.x,bt=Le._offset+ht.y);var wt=l.readability(ht.color,ke)<1.5?p.contrast(ke):ht.color,Lt=he.spikemode,kt=he.spikethickness,Ce=he.spikecolor||wt,Ae=y.getPxPosition(k,he),Pe,$;if(Lt.indexOf("toaxis")!==-1||Lt.indexOf("across")!==-1){if(Lt.indexOf("toaxis")!==-1&&(Pe=Ae,$=bt),Lt.indexOf("across")!==-1){var fe=he._counterDomainMin,pe=he._counterDomainMax;he.anchor==="free"&&(fe=Math.min(fe,he.position),pe=Math.max(pe,he.position)),Pe=E.t+(1-pe)*E.h,$=E.t+(1-fe)*E.h}F.insert("line",":first-child").attr({x1:Pt,x2:Pt,y1:Pe,y2:$,"stroke-width":kt,stroke:Ce,"stroke-dasharray":d.dashStyle(he.spikedash,kt)}).classed("spikeline",!0).classed("crisp",!0),F.insert("line",":first-child").attr({x1:Pt,x2:Pt,y1:Pe,y2:$,"stroke-width":kt+2,stroke:ke}).classed("spikeline",!0).classed("crisp",!0)}Lt.indexOf("marker")!==-1&&F.insert("circle",":first-child").attr({cx:Pt,cy:Ae-(he.side!=="top"?kt:-kt),r:kt,fill:Ce}).classed("spikeline",!0)}}}function ue(k,z,Y){if(!Y||Y.length!==k._hoverdata.length)return!0;for(var F=Y.length-1;F>=0;F--){var J=Y[F],E=k._hoverdata[F];if(J.curveNumber!==E.curveNumber||String(J.pointNumber)!==String(E.pointNumber)||String(J.pointNumbers)!==String(E.pointNumbers))return!0}return!1}function le(k,z){return!z||z.vLinePoint!==k._spikepoints.vLinePoint||z.hLinePoint!==k._spikepoints.hLinePoint}function ye(k,z){return n.plainText(k||"",{len:z,allowedTags:["br","sub","sup","b","i","em"]})}function Se(k,z){for(var Y=z.charAt(0),F=[],J=[],E=[],K=0;K<k.length;K++){var ie=k[K];h.traceIs(ie.trace,"bar-like")||h.traceIs(ie.trace,"box-violin")?E.push(ie):ie.trace[Y+"period"]?J.push(ie):F.push(ie)}return F.concat(J).concat(E)}function ce(k,z,Y){var F=z[k+"a"],J=z[k+"Val"],E=z.cd[0];if(F.type==="category"||F.type==="multicategory")J=F._categoriesMap[J];else if(F.type==="date"){var K=z.trace[k+"periodalignment"];if(K){var ie=z.cd[z.index],ve=ie[k+"Start"];ve===void 0&&(ve=ie[k]);var he=ie[k+"End"];he===void 0&&(he=ie[k]);var Le=he-ve;K==="end"?J+=Le:K==="middle"&&(J+=Le/2)}J=F.d2c(J)}return E&&E.t&&E.t.posLetter===F._id&&(Y.boxmode==="group"||Y.violinmode==="group")&&(J+=E.t.dPos),J}function de(k){return k.offsetTop+k.clientTop}function S(k){return k.offsetLeft+k.clientLeft}function P(k,z){var Y=k._fullLayout,F=z.getBoundingClientRect(),J=F.left,E=F.top,K=J+F.width,ie=E+F.height,ve=i.apply3DTransform(Y._invTransform)(J,E),he=i.apply3DTransform(Y._invTransform)(K,ie),Le=ve[0],ke=ve[1],se=he[0],ge=he[1];return{x:Le,y:ke,width:se-Le,height:ge-ke,top:Math.min(ke,ge),left:Math.min(Le,se),right:Math.max(Le,se),bottom:Math.max(ke,ge)}}},8048:function(re,H,e){var o=e(1828),x=e(7901),l=e(3469).isUnifiedHover;re.exports=function(r,f,s,n){n=n||{};var t=f.legend;function d(p){n.font[p]||(n.font[p]=t?f.legend.font[p]:f.font[p])}f&&l(f.hovermode)&&(n.font||(n.font={}),d("size"),d("family"),d("color"),t?(n.bgcolor||(n.bgcolor=x.combine(f.legend.bgcolor,f.paper_bgcolor)),n.bordercolor||(n.bordercolor=f.legend.bordercolor)):n.bgcolor||(n.bgcolor=f.paper_bgcolor)),s("hoverlabel.bgcolor",n.bgcolor),s("hoverlabel.bordercolor",n.bordercolor),s("hoverlabel.namelength",n.namelength),o.coerceFont(s,"hoverlabel.font",n.font),s("hoverlabel.align",n.align)}},8212:function(re,H,e){var o=e(1828),x=e(528);re.exports=function(i,r){function f(s,n){return r[s]!==void 0?r[s]:o.coerce(i,r,x,s,n)}return f("clickmode"),f("hovermode")}},211:function(re,H,e){var o=e(9898),x=e(1828),l=e(8569),i=e(3469),r=e(528),f=e(8335);re.exports={moduleType:"component",name:"fx",constants:e(6675),schema:{layout:r},attributes:e(7914),layoutAttributes:r,supplyLayoutGlobalDefaults:e(2774),supplyDefaults:e(4268),supplyLayoutDefaults:e(4938),calc:e(732),getDistanceFunction:i.getDistanceFunction,getClosest:i.getClosest,inbox:i.inbox,quadrature:i.quadrature,appendArrayPointValue:i.appendArrayPointValue,castHoverOption:n,castHoverinfo:t,hover:f.hover,unhover:l.unhover,loneHover:f.loneHover,loneUnhover:s,click:e(5914)};function s(d){var p=x.isD3Selection(d)?d:o.select(d);p.selectAll("g.hovertext").remove(),p.selectAll(".spikeline").remove()}function n(d,p,m){return x.castOption(d,p,"hoverlabel."+m)}function t(d,p,m){function y(h){return x.coerceHoverinfo({hoverinfo:h},{_module:d._module},p)}return x.castOption(d,m,"hoverinfo",y)}},528:function(re,H,e){var o=e(6675),x=e(1940),l=x({editType:"none"});l.family.dflt=o.HOVERFONT,l.size.dflt=o.HOVERFONTSIZE,re.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:l,grouptitlefont:x({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},4938:function(re,H,e){var o=e(1828),x=e(528),l=e(8212),i=e(8048);re.exports=function(f,s){function n(h,T){return o.coerce(f,s,x,h,T)}var t=l(f,s);t&&(n("hoverdistance"),n("spikedistance"));var d=n("dragmode");d==="select"&&n("selectdirection");var p=s._has("mapbox"),m=s._has("geo"),y=s._basePlotModules.length;s.dragmode==="zoom"&&((p||m)&&y===1||p&&m&&y===2)&&(s.dragmode="pan"),i(f,s,n),o.coerceFont(n,"hoverlabel.grouptitlefont",s.hoverlabel.font)}},2774:function(re,H,e){var o=e(1828),x=e(8048),l=e(528);re.exports=function(r,f){function s(n,t){return o.coerce(r,f,l,n,t)}x(r,f,s)}},3312:function(re,H,e){var o=e(1828),x=e(587).counter,l=e(7670).Y,i=e(5555).idRegex,r=e(4467),f={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[x("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[i.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[i.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:l({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function s(m,y,h){var T=y[h+"axes"],g=Object.keys((m._splomAxes||{})[h]||{});if(Array.isArray(T))return T;if(g.length)return g}function n(m,y){var h=m.grid||{},T=s(y,h,"x"),g=s(y,h,"y");if(!m.grid&&!T&&!g)return;var M=Array.isArray(h.subplots)&&Array.isArray(h.subplots[0]),v=Array.isArray(T),c=Array.isArray(g),u=v&&T!==h.xaxes&&c&&g!==h.yaxes,b,w;M?(b=h.subplots.length,w=h.subplots[0].length):(c&&(b=g.length),v&&(w=T.length));var B=r.newContainer(y,"grid");function C(D,_){return o.coerce(h,B,f,D,_)}var I=C("rows",b),O=C("columns",w);if(!(I*O>1)){delete y.grid;return}if(!M&&!v&&!c){var L=C("pattern")==="independent";L&&(M=!0)}B._hasSubplotGrid=M;var X=C("roworder"),Z=X==="top to bottom",te=M?.2:.1,q=M?.3:.1,ae,N;u&&y._splomGridDflt&&(ae=y._splomGridDflt.xside,N=y._splomGridDflt.yside),B._domains={x:t("x",C,te,ae,O),y:t("y",C,q,N,I,Z)}}function t(m,y,h,T,g,M){var v=y(m+"gap",h),c=y("domain."+m);y(m+"side",T);for(var u=new Array(g),b=c[0],w=(c[1]-b)/(g-v),B=w*(1-v),C=0;C<g;C++){var I=b+w*C;u[M?g-1-C:C]=[I,I+B]}return u}function d(m,y){var h=y.grid;if(!(!h||!h._domains)){var T=m.grid||{},g=y._subplots,M=h._hasSubplotGrid,v=h.rows,c=h.columns,u=h.pattern==="independent",b,w,B,C,I,O,L,X=h._axisMap={};if(M){var Z=T.subplots||[];O=h.subplots=new Array(v);var te=1;for(b=0;b<v;b++){var q=O[b]=new Array(c),ae=Z[b]||[];for(w=0;w<c;w++)if(u?(I=te===1?"xy":"x"+te+"y"+te,te++):I=ae[w],q[w]="",g.cartesian.indexOf(I)!==-1){if(L=I.indexOf("y"),B=I.slice(0,L),C=I.slice(L),X[B]!==void 0&&X[B]!==w||X[C]!==void 0&&X[C]!==b)continue;q[w]=I,X[B]=w,X[C]=b}}}else{var N=s(y,T,"x"),D=s(y,T,"y");h.xaxes=p(N,g.xaxis,c,X,"x"),h.yaxes=p(D,g.yaxis,v,X,"y")}var _=h._anchors={},V=h.roworder==="top to bottom";for(var G in X){var Q=G.charAt(0),ue=h[Q+"side"],le,ye,Se;if(ue.length<8)_[G]="free";else if(Q==="x"){if(ue.charAt(0)==="t"===V?(le=0,ye=1,Se=v):(le=v-1,ye=-1,Se=-1),M){var ce=X[G];for(b=le;b!==Se;b+=ye)if(I=O[b][ce],!!I&&(L=I.indexOf("y"),I.slice(0,L)===G)){_[G]=I.slice(L);break}}else for(b=le;b!==Se;b+=ye)if(C=h.yaxes[b],g.cartesian.indexOf(G+C)!==-1){_[G]=C;break}}else if(ue.charAt(0)==="l"?(le=0,ye=1,Se=c):(le=c-1,ye=-1,Se=-1),M){var de=X[G];for(b=le;b!==Se;b+=ye)if(I=O[de][b],!!I&&(L=I.indexOf("y"),I.slice(L)===G)){_[G]=I.slice(0,L);break}}else for(b=le;b!==Se;b+=ye)if(B=h.xaxes[b],g.cartesian.indexOf(B+G)!==-1){_[G]=B;break}}}}function p(m,y,h,T,g){var M=new Array(h),v;function c(u,b){y.indexOf(b)!==-1&&T[b]===void 0?(M[u]=b,T[b]=u):M[u]=""}if(Array.isArray(m))for(v=0;v<h;v++)c(v,m[v]);else for(c(0,g),v=1;v<h;v++)c(v,g+(v+1));return M}re.exports={moduleType:"component",name:"grid",schema:{layout:{grid:f}},layoutAttributes:f,sizeDefaults:n,contentDefaults:d}},9819:function(re,H,e){var o=e(5555),x=e(4467).templatedArray;e(4695),re.exports=x("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",o.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",o.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},5378:function(re,H,e){var o=e(2770),x=e(8163);re.exports=function(i,r,f,s){r=r||{};var n=f==="log"&&r.type==="linear",t=f==="linear"&&r.type==="log";if(n||t){for(var d=i._fullLayout.images,p=r._id.charAt(0),m,y,h=0;h<d.length;h++)if(m=d[h],y="images["+h+"].",m[p+"ref"]===r._id){var T=m[p],g=m["size"+p],M=null,v=null;if(n){M=x(T,r.range);var c=g/Math.pow(10,M)/2;v=2*Math.log(c+Math.sqrt(1+c*c))/Math.LN10}else M=Math.pow(10,T),v=M*(Math.pow(10,g/2)-Math.pow(10,-g/2));o(M)?o(v)||(v=null):(M=null,v=null),s(y+p,M),s(y+"size"+p,v)}}}},1603:function(re,H,e){var o=e(1828),x=e(9298),l=e(5501),i=e(9819),r="images";re.exports=function(n,t){var d={name:r,handleItemDefaults:f};l(n,t,d)};function f(s,n,t){function d(c,u){return o.coerce(s,n,i,c,u)}var p=d("source"),m=d("visible",!!p);if(!m)return n;d("layer"),d("xanchor"),d("yanchor"),d("sizex"),d("sizey"),d("sizing"),d("opacity");for(var y={_fullLayout:t},h=["x","y"],T=0;T<2;T++){var g=h[T],M=x.coerceRef(s,n,y,g,"paper",void 0);if(M!=="paper"){var v=x.getFromId(y,M);v._imgIndices.push(n._index)}x.coercePosition(n,y,d,M,g,0)}return n}},750:function(re,H,e){var o=e(9898),x=e(1424),l=e(9298),i=e(1675),r=e(7922);re.exports=function(s){var n=s._fullLayout,t=[],d={},p=[],m,y;for(y=0;y<n.images.length;y++){var h=n.images[y];if(h.visible)if(h.layer==="below"&&h.xref!=="paper"&&h.yref!=="paper"){m=i.ref2id(h.xref)+i.ref2id(h.yref);var T=n._plots[m];if(!T){p.push(h);continue}T.mainplot&&(m=T.mainplot.id),d[m]||(d[m]=[]),d[m].push(h)}else h.layer==="above"?t.push(h):p.push(h)}var g={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function M(C){var I=o.select(this);if(this._imgSrc!==C.source)if(I.attr("xmlns",r.svg),C.source&&C.source.slice(0,5)==="data:")I.attr("xlink:href",C.source),this._imgSrc=C.source;else{var O=new Promise(function(L){var X=new Image;this.img=X,X.setAttribute("crossOrigin","anonymous"),X.onerror=Z,X.onload=function(){var te=document.createElement("canvas");te.width=this.width,te.height=this.height;var q=te.getContext("2d",{willReadFrequently:!0});q.drawImage(this,0,0);var ae=te.toDataURL("image/png");I.attr("xlink:href",ae),L()},I.on("error",Z),X.src=C.source,this._imgSrc=C.source;function Z(){I.remove(),L()}}.bind(this));s._promises.push(O)}}function v(C){var I=o.select(this),O=l.getFromId(s,C.xref),L=l.getFromId(s,C.yref),X=l.getRefType(C.xref)==="domain",Z=l.getRefType(C.yref)==="domain",te=n._size,q,ae;O!==void 0?q=typeof C.xref=="string"&&X?O._length*C.sizex:Math.abs(O.l2p(C.sizex)-O.l2p(0)):q=C.sizex*te.w,L!==void 0?ae=typeof C.yref=="string"&&Z?L._length*C.sizey:Math.abs(L.l2p(C.sizey)-L.l2p(0)):ae=C.sizey*te.h;var N=q*g.x[C.xanchor].offset,D=ae*g.y[C.yanchor].offset,_=g.x[C.xanchor].sizing+g.y[C.yanchor].sizing,V,G;switch(O!==void 0?V=typeof C.xref=="string"&&X?O._length*C.x+O._offset:O.r2p(C.x)+O._offset:V=C.x*te.w+te.l,V+=N,L!==void 0?G=typeof C.yref=="string"&&Z?L._length*(1-C.y)+L._offset:L.r2p(C.y)+L._offset:G=te.h-C.y*te.h+te.t,G+=D,C.sizing){case"fill":_+=" slice";break;case"stretch":_="none";break}I.attr({x:V,y:G,width:q,height:ae,preserveAspectRatio:_,opacity:C.opacity});var Q=O&&l.getRefType(C.xref)!=="domain"?O._id:"",ue=L&&l.getRefType(C.yref)!=="domain"?L._id:"",le=Q+ue;x.setClipUrl(I,le?"clip"+n._uid+le:null,s)}var c=n._imageLowerLayer.selectAll("image").data(p),u=n._imageUpperLayer.selectAll("image").data(t);c.enter().append("image"),u.enter().append("image"),c.exit().remove(),u.exit().remove(),c.each(function(C){M.bind(this)(C),v.bind(this)(C)}),u.each(function(C){M.bind(this)(C),v.bind(this)(C)});var b=Object.keys(n._plots);for(y=0;y<b.length;y++){m=b[y];var w=n._plots[m];if(w.imagelayer){var B=w.imagelayer.selectAll("image").data(d[m]||[]);B.enter().append("image"),B.exit().remove(),B.each(function(C){M.bind(this)(C),v.bind(this)(C)})}}}},8804:function(re,H,e){re.exports={moduleType:"component",name:"images",layoutAttributes:e(9819),supplyLayoutDefaults:e(1603),includeBasePlot:e(6325)("images"),draw:e(750),convertCoords:e(5378)}},3030:function(re,H,e){var o=e(1940),x=e(2399);re.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:x.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:o({editType:"legend"}),grouptitlefont:o({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:o({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},4928:function(re){re.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},9017:function(re,H,e){var o=e(3972),x=e(1828),l=e(4467),i=e(9012),r=e(3030),f=e(820),s=e(130);function n(t,d,p,m){var y=d[t]||{},h=l.newContainer(p,t);function T(D,_){return x.coerce(y,h,r,D,_)}var g=x.coerceFont(T,"font",p.font);T("bgcolor",p.paper_bgcolor),T("bordercolor");var M=T("visible");if(M){for(var v,c=function(D,_){var V=v._input,G=v;return x.coerce(V,G,i,D,_)},u=p.font||{},b=x.coerceFont(T,"grouptitlefont",x.extendFlat({},u,{size:Math.round(u.size*1.1)})),w=0,B=!1,C="normal",I=0;I<m.length;I++)v=m[I],v.visible&&((v.showlegend||v._dfltShowLegend&&!(v._module&&v._module.attributes&&v._module.attributes.showlegend&&v._module.attributes.showlegend.dflt===!1))&&(w++,v.showlegend&&(B=!0,(o.traceIs(v,"pie-like")||v._input.showlegend===!0)&&w++),x.coerceFont(c,"legendgrouptitle.font",b)),(o.traceIs(v,"bar")&&p.barmode==="stack"||["tonextx","tonexty"].indexOf(v.fill)!==-1)&&(C=s.isGrouped({traceorder:C})?"grouped+reversed":"reversed"),v.legendgroup!==void 0&&v.legendgroup!==""&&(C=s.isReversed({traceorder:C})?"reversed+grouped":"grouped"));var O=x.coerce(d,p,f,"showlegend",B&&w>1);if(O===!1&&(p.legend=void 0),!(O===!1&&!y.uirevision)&&(T("uirevision",p.uirevision),O!==!1)){T("borderwidth");var L=T("orientation"),X=L==="h",Z,te,q;X?(Z=0,o.getComponentMethod("rangeslider","isVisible")(d.xaxis)?(te=1.1,q="bottom"):(te=-.1,q="top")):(Z=1.02,te=1,q="auto"),T("traceorder",C),s.isGrouped(p.legend)&&T("tracegroupgap"),T("entrywidth"),T("entrywidthmode"),T("itemsizing"),T("itemwidth"),T("itemclick"),T("itemdoubleclick"),T("groupclick"),T("x",Z),T("xanchor"),T("y",te),T("yanchor",q),T("valign"),x.noneOrAll(y,h,["x","y"]);var ae=T("title.text");if(ae){T("title.side",X?"left":"top");var N=x.extendFlat({},g,{size:x.bigFont(g.size)});x.coerceFont(T,"title.font",N)}}}}re.exports=function(d,p,m){var y,h=["legend"];for(y=0;y<m.length;y++)x.pushUnique(h,m[y].legend);for(p._legends=[],y=0;y<h.length;y++){var T=h[y];n(T,d,p,m),p[T]&&p[T].visible&&(p[T]._id=T),p._legends.push(T)}}},3969:function(re,H,e){var o=e(9898),x=e(1828),l=e(4875),i=e(3972),r=e(1086),f=e(8569),s=e(1424),n=e(7901),t=e(3893),d=e(5167),p=e(4928),m=e(8783),y=m.LINE_SPACING,h=m.FROM_TL,T=m.FROM_BR,g=e(2424),M=e(3630),v=e(130),c=1,u=/^legend[0-9]*$/;re.exports=function(V,G){if(G)b(V,G);else{var Q=V._fullLayout,ue=Q._legends,le=Q._infolayer.selectAll('[class^="legend"]');le.each(function(){var de=o.select(this),S=de.attr("class"),P=S.split(" ")[0];P.match(u)&&ue.indexOf(P)===-1&&de.remove()});for(var ye=0;ye<ue.length;ye++){var Se=ue[ye],ce=V._fullLayout[Se];b(V,ce)}}};function b(_,V){var G=V||{},Q=_._fullLayout,ue=D(G),le,ye,Se=G._inHover;if(Se?(ye=G.layer,le="hover"):(ye=Q._infolayer,le=ue),!!ye){le+=Q._uid,_._legendMouseDownTime||(_._legendMouseDownTime=0);var ce;if(Se){if(!G.entries)return;ce=g(G.entries,G)}else{if(!_.calcdata)return;ce=Q.showlegend&&g(_.calcdata,G,Q._legends.length>1)}var de=Q.hiddenlabels||[];if(!Se&&(!Q.showlegend||!ce.length))return ye.selectAll("."+ue).remove(),Q._topdefs.select("#"+le).remove(),l.autoMargin(_,ue);var S=x.ensureSingle(ye,"g",ue,function(ie){Se||ie.attr("pointer-events","all")}),P=x.ensureSingleById(Q._topdefs,"clipPath",le,function(ie){ie.append("rect")}),k=x.ensureSingle(S,"rect","bg",function(ie){ie.attr("shape-rendering","crispEdges")});k.call(n.stroke,G.bordercolor).call(n.fill,G.bgcolor).style("stroke-width",G.borderwidth+"px");var z=x.ensureSingle(S,"g","scrollbox"),Y=G.title;if(G._titleWidth=0,G._titleHeight=0,Y.text){var F=x.ensureSingle(z,"text",ue+"titletext");F.attr("text-anchor","start").call(s.font,Y.font).text(Y.text),L(F,z,_,G,c)}else z.selectAll("."+ue+"titletext").remove();var J=x.ensureSingle(S,"rect","scrollbar",function(ie){ie.attr(p.scrollBarEnterAttrs).call(n.fill,p.scrollBarColor)}),E=z.selectAll("g.groups").data(ce);E.enter().append("g").attr("class","groups"),E.exit().remove();var K=E.selectAll("g.traces").data(x.identity);K.enter().append("g").attr("class","traces"),K.exit().remove(),K.style("opacity",function(ie){var ve=ie[0].trace;return i.traceIs(ve,"pie-like")?de.indexOf(ie[0].label)!==-1?.5:1:ve.visible==="legendonly"?.5:1}).each(function(){o.select(this).call(C,_,G)}).call(M,_,G).each(function(){Se||o.select(this).call(O,_,ue)}),x.syncOrAsync([l.previousPromises,function(){return te(_,E,K,G)},function(){var ie=Q._size,ve=G.borderwidth;if(!Se){var he=q(_,ue);if(he)return;var Le=ie.l+ie.w*G.x-h[ae(G)]*G._width,ke=ie.t+ie.h*(1-G.y)-h[N(G)]*G._effHeight;if(Q.margin.autoexpand){var se=Le,ge=ke;Le=x.constrain(Le,0,Q.width-G._width),ke=x.constrain(ke,0,Q.height-G._effHeight),Le!==se&&x.log("Constrain "+ue+".x to make legend fit inside graph"),ke!==ge&&x.log("Constrain "+ue+".y to make legend fit inside graph")}s.setTranslate(S,Le,ke)}if(J.on(".drag",null),S.on("wheel",null),Se||G._height<=G._maxHeight||_._context.staticPlot){var be=G._effHeight;Se&&(be=G._height),k.attr({width:G._width-ve,height:be-ve,x:ve/2,y:ve/2}),s.setTranslate(z,0,0),P.select("rect").attr({width:G._width-2*ve,height:be-2*ve,x:ve,y:ve}),s.setClipUrl(z,le,_),s.setRect(J,0,0,0,0),delete G._scrollY}else{var Ee=Math.max(p.scrollBarMinHeight,G._effHeight*G._effHeight/G._height),we=G._effHeight-Ee-2*p.scrollBarMargin,Te=G._height-G._effHeight,Ne=we/Te,$e=Math.min(G._scrollY||0,Te);k.attr({width:G._width-2*ve+p.scrollBarWidth+p.scrollBarMargin,height:G._effHeight-ve,x:ve/2,y:ve/2}),P.select("rect").attr({width:G._width-2*ve+p.scrollBarWidth+p.scrollBarMargin,height:G._effHeight-2*ve,x:ve,y:ve+$e}),s.setClipUrl(z,le,_),bt($e,Ee,Ne),S.on("wheel",function(){$e=x.constrain(G._scrollY+o.event.deltaY/we*Te,0,Te),bt($e,Ee,Ne),$e!==0&&$e!==Te&&o.event.preventDefault()});var je,He,st,nt=function(Ce,Ae,Pe){var $=(Pe-Ae)/Ne+Ce;return x.constrain($,0,Te)},dt=function(Ce,Ae,Pe){var $=(Ae-Pe)/Ne+Ce;return x.constrain($,0,Te)},ht=o.behavior.drag().on("dragstart",function(){var Ce=o.event.sourceEvent;Ce.type==="touchstart"?je=Ce.changedTouches[0].clientY:je=Ce.clientY,st=$e}).on("drag",function(){var Ce=o.event.sourceEvent;Ce.buttons===2||Ce.ctrlKey||(Ce.type==="touchmove"?He=Ce.changedTouches[0].clientY:He=Ce.clientY,$e=nt(st,je,He),bt($e,Ee,Ne))});J.call(ht);var Pt=o.behavior.drag().on("dragstart",function(){var Ce=o.event.sourceEvent;Ce.type==="touchstart"&&(je=Ce.changedTouches[0].clientY,st=$e)}).on("drag",function(){var Ce=o.event.sourceEvent;Ce.type==="touchmove"&&(He=Ce.changedTouches[0].clientY,$e=dt(st,je,He),bt($e,Ee,Ne))});z.call(Pt)}function bt(Ce,Ae,Pe){G._scrollY=_._fullLayout[ue]._scrollY=Ce,s.setTranslate(z,0,-Ce),s.setRect(J,G._width,p.scrollBarMargin+Ce*Pe,p.scrollBarWidth,Ae),P.select("rect").attr("y",ve+Ce)}if(_._context.edits.legendPosition){var At,wt,Lt,kt;S.classed("cursor-move",!0),f.init({element:S.node(),gd:_,prepFn:function(){var Ce=s.getTranslate(S);Lt=Ce.x,kt=Ce.y},moveFn:function(Ce,Ae){var Pe=Lt+Ce,$=kt+Ae;s.setTranslate(S,Pe,$),At=f.align(Pe,G._width,ie.l,ie.l+ie.w,G.xanchor),wt=f.align($+G._height,-G._height,ie.t+ie.h,ie.t,G.yanchor)},doneFn:function(){if(At!==void 0&&wt!==void 0){var Ce={};Ce[ue+".x"]=At,Ce[ue+".y"]=wt,i.call("_guiRelayout",_,Ce)}},clickFn:function(Ce,Ae){var Pe=E.selectAll("g.traces").filter(function(){var $=this.getBoundingClientRect();return Ae.clientX>=$.left&&Ae.clientX<=$.right&&Ae.clientY>=$.top&&Ae.clientY<=$.bottom});Pe.size()>0&&B(_,S,Pe,Ce,Ae)}})}}],_)}}function w(_,V,G){var Q=_[0],ue=Q.width,le=V.entrywidthmode,ye=Q.trace.legendwidth||V.entrywidth;return le==="fraction"?V._maxWidth*ye:G+(ye||ue)}function B(_,V,G,Q,ue){var le=G.data()[0][0].trace,ye={event:ue,node:G.node(),curveNumber:le.index,expandedIndex:le._expandedIndex,data:_.data,layout:_.layout,frames:_._transitionData._frames,config:_._context,fullData:_._fullData,fullLayout:_._fullLayout};le._group&&(ye.group=le._group),i.traceIs(le,"pie-like")&&(ye.label=G.datum()[0].label);var Se=r.triggerHandler(_,"plotly_legendclick",ye);if(Se!==!1){if(Q===1)V._clickTimeout=setTimeout(function(){_._fullLayout&&d(G,_,Q)},_._context.doubleClickDelay);else if(Q===2){V._clickTimeout&&clearTimeout(V._clickTimeout),_._legendMouseDownTime=0;var ce=r.triggerHandler(_,"plotly_legenddoubleclick",ye);ce!==!1&&d(G,_,Q)}}}function C(_,V,G){var Q=D(G),ue=_.data()[0][0],le=ue.trace,ye=i.traceIs(le,"pie-like"),Se=!G._inHover&&V._context.edits.legendText&&!ye,ce=G._maxNameLength,de,S;ue.groupTitle?(de=ue.groupTitle.text,S=ue.groupTitle.font):(S=G.font,G.entries?de=ue.text:(de=ye?ue.label:le.name,le._meta&&(de=x.templateString(de,le._meta))));var P=x.ensureSingle(_,"text",Q+"text");P.attr("text-anchor","start").call(s.font,S).text(Se?I(de,ce):de);var k=G.itemwidth+p.itemGap*2;t.positionText(P,k,0),Se?P.call(t.makeEditable,{gd:V,text:de}).call(L,_,V,G).on("edit",function(z){this.text(I(z,ce)).call(L,_,V,G);var Y=ue.trace._fullInput||{},F={};if(i.hasTransform(Y,"groupby")){var J=i.getTransformIndices(Y,"groupby"),E=J[J.length-1],K=x.keyedContainer(Y,"transforms["+E+"].styles","target","value.name");K.set(ue.trace._group,z),F=K.constructUpdate()}else F.name=z;return i.call("_guiRestyle",V,F,le.index)}):L(P,_,V,G)}function I(_,V){var G=Math.max(4,V);if(_&&_.trim().length>=G/2)return _;_=_||"";for(var Q=G-_.length;Q>0;Q--)_+=" ";return _}function O(_,V,G){var Q=V._context.doubleClickDelay,ue,le=1,ye=x.ensureSingle(_,"rect",G+"toggle",function(Se){V._context.staticPlot||Se.style("cursor","pointer").attr("pointer-events","all"),Se.call(n.fill,"rgba(0,0,0,0)")});V._context.staticPlot||(ye.on("mousedown",function(){ue=new Date().getTime(),ue-V._legendMouseDownTime<Q?le+=1:(le=1,V._legendMouseDownTime=ue)}),ye.on("mouseup",function(){if(!(V._dragged||V._editing)){var Se=V._fullLayout[G];new Date().getTime()-V._legendMouseDownTime>Q&&(le=Math.max(le-1,1)),B(V,Se,_,le,o.event)}}))}function L(_,V,G,Q,ue){Q._inHover&&_.attr("data-notex",!0),t.convertToTspans(_,G,function(){X(V,G,Q,ue)})}function X(_,V,G,Q){var ue=_.data()[0][0];if(!G._inHover&&ue&&!ue.trace.showlegend){_.remove();return}var le=_.select("g[class*=math-group]"),ye=le.node(),Se=D(G);G||(G=V._fullLayout[Se]);var ce=G.borderwidth,de;Q===c?de=G.title.font:ue.groupTitle?de=ue.groupTitle.font:de=G.font;var S=de.size*y,P,k;if(ye){var z=s.bBox(ye);P=z.height,k=z.width,Q===c?s.setTranslate(le,ce,ce+P*.75):s.setTranslate(le,0,P*.25)}else{var Y="."+Se+(Q===c?"title":"")+"text",F=_.select(Y),J=t.lineCount(F),E=F.node();if(P=S*J,k=E?s.bBox(E).width:0,Q===c)G.title.side==="left"&&(k+=p.itemGap*2),t.positionText(F,ce+p.titlePad,ce+S);else{var K=p.itemGap*2+G.itemwidth;ue.groupTitle&&(K=p.itemGap,k-=G.itemwidth),t.positionText(F,K,-S*((J-1)/2-.3))}}Q===c?(G._titleWidth=k,G._titleHeight=P):(ue.lineHeight=S,ue.height=Math.max(P,16)+3,ue.width=k)}function Z(_){var V=0,G=0,Q=_.title.side;return Q&&(Q.indexOf("left")!==-1&&(V=_._titleWidth),Q.indexOf("top")!==-1&&(G=_._titleHeight)),[V,G]}function te(_,V,G,Q){var ue=_._fullLayout,le=D(Q);Q||(Q=ue[le]);var ye=ue._size,Se=v.isVertical(Q),ce=v.isGrouped(Q),de=Q.entrywidthmode==="fraction",S=Q.borderwidth,P=2*S,k=p.itemGap,z=Q.itemwidth+k*2,Y=2*(S+k),F=N(Q),J=Q.y<0||Q.y===0&&F==="top",E=Q.y>1||Q.y===1&&F==="bottom",K=Q.tracegroupgap,ie={};Q._maxHeight=Math.max(J||E?ue.height/2:ye.h,30);var ve=0;Q._width=0,Q._height=0;var he=Z(Q);if(Se)G.each(function(wt){var Lt=wt[0].height;s.setTranslate(this,S+he[0],S+he[1]+Q._height+Lt/2+k),Q._height+=Lt,Q._width=Math.max(Q._width,wt[0].width)}),ve=z+Q._width,Q._width+=k+z+P,Q._height+=Y,ce&&(V.each(function(wt,Lt){s.setTranslate(this,0,Lt*Q.tracegroupgap)}),Q._height+=(Q._lgroupsLength-1)*Q.tracegroupgap);else{var Le=ae(Q),ke=Q.x<0||Q.x===0&&Le==="right",se=Q.x>1||Q.x===1&&Le==="left",ge=E||J,be=ue.width/2;Q._maxWidth=Math.max(ke?ge&&Le==="left"?ye.l+ye.w:be:se?ge&&Le==="right"?ye.r+ye.w:be:ye.w,2*z);var Ee=0,we=0;G.each(function(wt){var Lt=w(wt,Q,z);Ee=Math.max(Ee,Lt),we+=Lt}),ve=null;var Te=0;if(ce){var Ne=0,$e=0,je=0;V.each(function(){var wt=0,Lt=0;o.select(this).selectAll("g.traces").each(function(Ce){var Ae=w(Ce,Q,z),Pe=Ce[0].height;s.setTranslate(this,he[0],he[1]+S+k+Pe/2+Lt),Lt+=Pe,wt=Math.max(wt,Ae),ie[Ce[0].trace.legendgroup]=wt});var kt=wt+k;$e>0&&kt+S+$e>Q._maxWidth?(Te=Math.max(Te,$e),$e=0,je+=Ne+K,Ne=Lt):Ne=Math.max(Ne,Lt),s.setTranslate(this,$e,je),$e+=kt}),Q._width=Math.max(Te,$e)+S,Q._height=je+Ne+Y}else{var He=G.size(),st=we+P+(He-1)*k<Q._maxWidth,nt=0,dt=0,ht=0,Pt=0;G.each(function(wt){var Lt=wt[0].height,kt=w(wt,Q,z),Ce=st?kt:Ee;de||(Ce+=k),Ce+S+dt-k>=Q._maxWidth&&(Te=Math.max(Te,Pt),dt=0,ht+=nt,Q._height+=nt,nt=0),s.setTranslate(this,he[0]+S+dt,he[1]+S+ht+Lt/2+k),Pt=dt+kt+k,dt+=Ce,nt=Math.max(nt,Lt)}),st?(Q._width=dt+P,Q._height=nt+Y):(Q._width=Math.max(Te,Pt)+P,Q._height+=nt+Y)}}Q._width=Math.ceil(Math.max(Q._width+he[0],Q._titleWidth+2*(S+p.titlePad))),Q._height=Math.ceil(Math.max(Q._height+he[1],Q._titleHeight+2*(S+p.itemGap))),Q._effHeight=Math.min(Q._height,Q._maxHeight);var bt=_._context.edits,At=bt.legendText||bt.legendPosition;G.each(function(wt){var Lt=o.select(this).select("."+le+"toggle"),kt=wt[0].height,Ce=wt[0].trace.legendgroup,Ae=w(wt,Q,z);ce&&Ce!==""&&(Ae=ie[Ce]);var Pe=At?z:ve||Ae;!Se&&!de&&(Pe+=k/2),s.setRect(Lt,0,-kt/2,Pe,kt)})}function q(_,V){var G=_._fullLayout,Q=G[V],ue=ae(Q),le=N(Q);return l.autoMargin(_,V,{x:Q.x,y:Q.y,l:Q._width*h[ue],r:Q._width*T[ue],b:Q._effHeight*T[le],t:Q._effHeight*h[le]})}function ae(_){return x.isRightAnchor(_)?"right":x.isCenterAnchor(_)?"center":"left"}function N(_){return x.isBottomAnchor(_)?"bottom":x.isMiddleAnchor(_)?"middle":"top"}function D(_){return _._id||"legend"}},2424:function(re,H,e){var o=e(3972),x=e(130);re.exports=function(i,r,f){var s=r._inHover,n=x.isGrouped(r),t=x.isReversed(r),d={},p=[],m=!1,y={},h=0,T=0,g,M;function v(V,G,Q){if(r.visible!==!1&&!(f&&V!==r._id))if(G===""||!x.isGrouped(r)){var ue="~~i"+h;p.push(ue),d[ue]=[Q],h++}else p.indexOf(G)===-1?(p.push(G),m=!0,d[G]=[Q]):d[G].push(Q)}for(g=0;g<i.length;g++){var c=i[g],u=c[0],b=u.trace,w=b.legend,B=b.legendgroup;if(!(!s&&(!b.visible||!b.showlegend)))if(o.traceIs(b,"pie-like"))for(y[B]||(y[B]={}),M=0;M<c.length;M++){var C=c[M].label;y[B][C]||(v(w,B,{label:C,color:c[M].color,i:c[M].i,trace:b,pts:c[M].pts}),y[B][C]=!0,T=Math.max(T,(C||"").length))}else v(w,B,u),T=Math.max(T,(b.name||"").length)}if(!p.length)return[];var I=!m||!n,O=[];for(g=0;g<p.length;g++){var L=d[p[g]];I?O.push(L[0]):O.push(L)}for(I&&(O=[O]),g=0;g<O.length;g++){var X=1/0;for(M=0;M<O[g].length;M++){var Z=O[g][M].trace.legendrank;X>Z&&(X=Z)}O[g][0]._groupMinRank=X,O[g][0]._preGroupSort=g}var te=function(V,G){return V[0]._groupMinRank-G[0]._groupMinRank||V[0]._preGroupSort-G[0]._preGroupSort},q=function(V,G){return V.trace.legendrank-G.trace.legendrank||V._preSort-G._preSort};for(O.forEach(function(V,G){V[0]._preGroupSort=G}),O.sort(te),g=0;g<O.length;g++){O[g].forEach(function(V,G){V._preSort=G}),O[g].sort(q);var ae=O[g][0].trace,N=null;for(M=0;M<O[g].length;M++){var D=O[g][M].trace.legendgrouptitle;if(D&&D.text){N=D,s&&(D.font=r._groupTitleFont);break}}if(t&&O[g].reverse(),N){var _=!1;for(M=0;M<O[g].length;M++)if(o.traceIs(O[g][M].trace,"pie-like")){_=!0;break}O[g].unshift({i:-1,groupTitle:N,noClick:_,trace:{showlegend:ae.showlegend,legendgroup:ae.legendgroup,visible:r.groupclick==="toggleitem"?!0:ae.visible}})}for(M=0;M<O[g].length;M++)O[g][M]=[O[g][M]]}return r._lgroupsLength=O.length,r._maxNameLength=T,O}},5167:function(re,H,e){var o=e(1828),x=e(3972),l=!0;re.exports=function(r,f,s){var n=f._fullLayout;if(f._dragged||f._editing)return;var t=n.legend.itemclick,d=n.legend.itemdoubleclick,p=n.legend.groupclick;s===1&&t==="toggle"&&d==="toggleothers"&&l&&f.data&&f._context.showTips&&o.notifier(o._(f,"Double-click on legend to isolate one trace"),"long"),l=!1;var m;if(s===1?m=t:s===2&&(m=d),!m)return;var y=p==="togglegroup",h=n.hiddenlabels?n.hiddenlabels.slice():[],T=r.data()[0][0];if(T.groupTitle&&T.noClick)return;var g=f._fullData,M=T.trace,v=M.legendgroup,c,u,b,w,B,C,I={},O=[],L=[],X=[];function Z(de,S,P){var k=O.indexOf(de),z=I[S];return z||(z=I[S]=[]),O.indexOf(de)===-1&&(O.push(de),k=O.length-1),z[k]=P,k}function te(de,S){if(!(T.groupTitle&&!y)){var P=de._fullInput;if(x.hasTransform(P,"groupby")){var k=L[P.index];if(!k){var z=x.getTransformIndices(P,"groupby"),Y=z[z.length-1];k=o.keyedContainer(P,"transforms["+Y+"].styles","target","value.visible"),L[P.index]=k}var F=k.get(de._group);F===void 0&&(F=!0),F!==!1&&k.set(de._group,S),X[P.index]=Z(P.index,"visible",P.visible!==!1)}else{var J=P.visible===!1?!1:S;Z(P.index,"visible",J)}}}if(x.traceIs(M,"pie-like")){var q=T.label,ae=h.indexOf(q);m==="toggle"?ae===-1?h.push(q):h.splice(ae,1):m==="toggleothers"&&(h=[],f.calcdata[0].forEach(function(de){q!==de.label&&h.push(de.label)}),f._fullLayout.hiddenlabels&&f._fullLayout.hiddenlabels.length===h.length&&ae===-1&&(h=[])),x.call("_guiRelayout",f,"hiddenlabels",h)}else{var N=v&&v.length,D=[],_;if(N)for(c=0;c<g.length;c++)_=g[c],_.visible&&_.legendgroup===v&&D.push(c);if(m==="toggle"){var V;switch(M.visible){case!0:V="legendonly";break;case!1:V=!1;break;case"legendonly":V=!0;break}if(N)if(y)for(c=0;c<g.length;c++)g[c].visible!==!1&&g[c].legendgroup===v&&te(g[c],V);else te(M,V);else te(M,V)}else if(m==="toggleothers"){var G,Q,ue,le,ye=!0;for(c=0;c<g.length;c++)if(G=g[c]===M,ue=g[c].showlegend!==!0,!(G||ue)&&(Q=N&&g[c].legendgroup===v,!Q&&g[c].visible===!0&&!x.traceIs(g[c],"notLegendIsolatable"))){ye=!1;break}for(c=0;c<g.length;c++)if(g[c].visible!==!1&&!x.traceIs(g[c],"notLegendIsolatable"))switch(M.visible){case"legendonly":te(g[c],!0);break;case!0:le=ye?!0:"legendonly",G=g[c]===M,ue=g[c].showlegend!==!0&&!g[c].legendgroup,Q=G||N&&g[c].legendgroup===v,te(g[c],Q||ue?!0:le);break}}for(c=0;c<L.length;c++)if(b=L[c],!!b){var Se=b.constructUpdate(),ce=Object.keys(Se);for(u=0;u<ce.length;u++)w=ce[u],C=I[w]=I[w]||[],C[X[c]]=Se[w]}for(B=Object.keys(I),c=0;c<B.length;c++)for(w=B[c],u=0;u<O.length;u++)I[w].hasOwnProperty(u)||(I[w][u]=void 0);x.call("_guiRestyle",f,I,O)}}},130:function(re,H){H.isGrouped=function(o){return(o.traceorder||"").indexOf("grouped")!==-1},H.isVertical=function(o){return o.orientation!=="h"},H.isReversed=function(o){return(o.traceorder||"").indexOf("reversed")!==-1}},2199:function(re,H,e){re.exports={moduleType:"component",name:"legend",layoutAttributes:e(3030),supplyLayoutDefaults:e(9017),draw:e(3969),style:e(3630)}},3630:function(re,H,e){var o=e(9898),x=e(3972),l=e(1828),i=l.strTranslate,r=e(1424),f=e(7901),s=e(2869).extractOpts,n=e(4098),t=e(3463),d=e(3581).castOption,p=e(4928),m=12,y=5,h=2,T=10,g=5;re.exports=function(b,w,B){var C=w._fullLayout;B||(B=C.legend);var I=B.itemsizing==="constant",O=B.itemwidth,L=(O+p.itemGap*2)/2,X=i(L,0),Z=function(ce,de,S,P){var k;if(ce+1)k=ce;else if(de&&de.width>0)k=de.width;else return 0;return I?P:Math.min(k,S)};b.each(function(ce){var de=o.select(this),S=l.ensureSingle(de,"g","layers");S.style("opacity",ce[0].trace.opacity);var P=B.valign,k=ce[0].lineHeight,z=ce[0].height;if(P==="middle"||!k||!z)S.attr("transform",null);else{var Y={top:1,bottom:-1}[P],F=Y*(.5*(k-z+3));S.attr("transform",i(0,F))}var J=S.selectAll("g.legendfill").data([ce]);J.enter().append("g").classed("legendfill",!0);var E=S.selectAll("g.legendlines").data([ce]);E.enter().append("g").classed("legendlines",!0);var K=S.selectAll("g.legendsymbols").data([ce]);K.enter().append("g").classed("legendsymbols",!0),K.selectAll("g.legendpoints").data([ce]).enter().append("g").classed("legendpoints",!0)}).each(Se).each(ae).each(D).each(N).each(V).each(le).each(ue).each(te).each(q).each(G).each(Q);function te(ce){var de=v(ce),S=de.showFill,P=de.showLine,k=de.showGradientLine,z=de.showGradientFill,Y=de.anyFill,F=de.anyLine,J=ce[0],E=J.trace,K,ie,ve=s(E),he=ve.colorscale,Le=ve.reversescale,ke=function(Ne){if(Ne.size())if(S)r.fillGroupStyle(Ne,w);else{var $e="legendfill-"+E.uid;r.gradient(Ne,w,$e,M(Le),he,"fill")}},se=function(Ne){if(Ne.size()){var $e="legendline-"+E.uid;r.lineGroupStyle(Ne),r.gradient(Ne,w,$e,M(Le),he,"stroke")}},ge=n.hasMarkers(E)||!Y?"M5,0":F?"M5,-2":"M5,-3",be=o.select(this),Ee=be.select(".legendfill").selectAll("path").data(S||z?[ce]:[]);if(Ee.enter().append("path").classed("js-fill",!0),Ee.exit().remove(),Ee.attr("d",ge+"h"+O+"v6h-"+O+"z").call(ke),P||k){var we=Z(void 0,E.line,T,y);ie=l.minExtend(E,{line:{width:we}}),K=[l.minExtend(J,{trace:ie})]}var Te=be.select(".legendlines").selectAll("path").data(P||k?[K]:[]);Te.enter().append("path").classed("js-line",!0),Te.exit().remove(),Te.attr("d",ge+(k?"l"+O+",0.0001":"h"+O)).call(P?r.lineGroupStyle:se)}function q(ce){var de=v(ce),S=de.anyFill,P=de.anyLine,k=de.showLine,z=de.showMarker,Y=ce[0],F=Y.trace,J=!z&&!P&&!S&&n.hasText(F),E,K;function ie(Ee,we,Te,Ne){var $e=l.nestedProperty(F,Ee).get(),je=l.isArrayOrTypedArray($e)&&we?we($e):$e;if(I&&je&&Ne!==void 0&&(je=Ne),Te){if(je<Te[0])return Te[0];if(je>Te[1])return Te[1]}return je}function ve(Ee){return Y._distinct&&Y.index&&Ee[Y.index]?Ee[Y.index]:Ee[0]}if(z||J||k){var he={},Le={};if(z){he.mc=ie("marker.color",ve),he.mx=ie("marker.symbol",ve),he.mo=ie("marker.opacity",l.mean,[.2,1]),he.mlc=ie("marker.line.color",ve),he.mlw=ie("marker.line.width",l.mean,[0,5],h),Le.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var ke=ie("marker.size",l.mean,[2,16],m);he.ms=ke,Le.marker.size=ke}k&&(Le.line={width:ie("line.width",ve,[0,10],y)}),J&&(he.tx="Aa",he.tp=ie("textposition",ve),he.ts=10,he.tc=ie("textfont.color",ve),he.tf=ie("textfont.family",ve)),E=[l.minExtend(Y,he)],K=l.minExtend(F,Le),K.selectedpoints=null,K.texttemplate=null}var se=o.select(this).select("g.legendpoints"),ge=se.selectAll("path.scatterpts").data(z?E:[]);ge.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",X),ge.exit().remove(),ge.call(r.pointStyle,K,w),z&&(E[0].mrc=3);var be=se.selectAll("g.pointtext").data(J?E:[]);be.enter().append("g").classed("pointtext",!0).append("text").attr("transform",X),be.exit().remove(),be.selectAll("text").call(r.textPointStyle,K,w)}function ae(ce){var de=ce[0].trace,S=de.type==="waterfall";if(ce[0]._distinct&&S){var P=ce[0].trace[ce[0].dir].marker;return ce[0].mc=P.color,ce[0].mlw=P.line.width,ce[0].mlc=P.line.color,_(ce,this,"waterfall")}var k=[];de.visible&&S&&(k=ce[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var z=o.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(k);z.enter().append("path").classed("legendwaterfall",!0).attr("transform",X).style("stroke-miterlimit",1),z.exit().remove(),z.each(function(Y){var F=o.select(this),J=de[Y[0]].marker,E=Z(void 0,J.line,g,h);F.attr("d",Y[1]).style("stroke-width",E+"px").call(f.fill,J.color),E&&F.call(f.stroke,J.line.color)})}function N(ce){_(ce,this)}function D(ce){_(ce,this,"funnel")}function _(ce,de,S){var P=ce[0].trace,k=P.marker||{},z=k.line||{},Y=S?P.visible&&P.type===S:x.traceIs(P,"bar"),F=o.select(de).select("g.legendpoints").selectAll("path.legend"+S).data(Y?[ce]:[]);F.enter().append("path").classed("legend"+S,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",X),F.exit().remove(),F.each(function(J){var E=o.select(this),K=J[0],ie=Z(K.mlw,k.line,g,h);E.style("stroke-width",ie+"px");var ve=K.mcc;if(!B._inHover&&"mc"in K){var he=s(k),Le=he.mid;Le===void 0&&(Le=(he.max+he.min)/2),ve=r.tryColorscale(k,"")(Le)}var ke=ve||K.mc||k.color,se=k.pattern,ge=se&&r.getPatternAttr(se.shape,0,"");if(ge){var be=r.getPatternAttr(se.bgcolor,0,null),Ee=r.getPatternAttr(se.fgcolor,0,null),we=se.fgopacity,Te=c(se.size,8,10),Ne=c(se.solidity,.5,1),$e="legend-"+P.uid;E.call(r.pattern,"legend",w,$e,ge,Te,Ne,ve,se.fillmode,be,Ee,we)}else E.call(f.fill,ke);ie&&f.stroke(E,K.mlc||z.color)})}function V(ce){var de=ce[0].trace,S=o.select(this).select("g.legendpoints").selectAll("path.legendbox").data(de.visible&&x.traceIs(de,"box-violin")?[ce]:[]);S.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",X),S.exit().remove(),S.each(function(){var P=o.select(this);if((de.boxpoints==="all"||de.points==="all")&&f.opacity(de.fillcolor)===0&&f.opacity((de.line||{}).color)===0){var k=l.minExtend(de,{marker:{size:I?m:l.constrain(de.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});S.call(r.pointStyle,k,w)}else{var z=Z(void 0,de.line,g,h);P.style("stroke-width",z+"px").call(f.fill,de.fillcolor),z&&f.stroke(P,de.line.color)}})}function G(ce){var de=ce[0].trace,S=o.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(de.visible&&de.type==="candlestick"?[ce,ce]:[]);S.enter().append("path").classed("legendcandle",!0).attr("d",function(P,k){return k?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",X).style("stroke-miterlimit",1),S.exit().remove(),S.each(function(P,k){var z=o.select(this),Y=de[k?"increasing":"decreasing"],F=Z(void 0,Y.line,g,h);z.style("stroke-width",F+"px").call(f.fill,Y.fillcolor),F&&f.stroke(z,Y.line.color)})}function Q(ce){var de=ce[0].trace,S=o.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(de.visible&&de.type==="ohlc"?[ce,ce]:[]);S.enter().append("path").classed("legendohlc",!0).attr("d",function(P,k){return k?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",X).style("stroke-miterlimit",1),S.exit().remove(),S.each(function(P,k){var z=o.select(this),Y=de[k?"increasing":"decreasing"],F=Z(void 0,Y.line,g,h);z.style("fill","none").call(r.dashLine,Y.line.dash,F),F&&f.stroke(z,Y.line.color)})}function ue(ce){ye(ce,this,"pie")}function le(ce){ye(ce,this,"funnelarea")}function ye(ce,de,S){var P=ce[0],k=P.trace,z=S?k.visible&&k.type===S:x.traceIs(k,S),Y=o.select(de).select("g.legendpoints").selectAll("path.legend"+S).data(z?[ce]:[]);if(Y.enter().append("path").classed("legend"+S,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",X),Y.exit().remove(),Y.size()){var F=(k.marker||{}).line,J=Z(d(F.width,P.pts),F,g,h),E=l.minExtend(k,{marker:{line:{width:J}}});E.marker.line.color=F.color;var K=l.minExtend(P,{trace:E});t(Y,K,E)}}function Se(ce){var de=ce[0].trace,S,P=[];if(de.visible)switch(de.type){case"histogram2d":case"heatmap":P=[["M-15,-2V4H15V-2Z"]],S=!0;break;case"choropleth":case"choroplethmapbox":P=[["M-6,-6V6H6V-6Z"]],S=!0;break;case"densitymapbox":P=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],S="radial";break;case"cone":P=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],S=!1;break;case"streamtube":P=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],S=!1;break;case"surface":P=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],S=!0;break;case"mesh3d":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],S=!1;break;case"volume":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],S=!0;break;case"isosurface":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],S=!1;break}var k=o.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(P);k.enter().append("path").classed("legend3dandfriends",!0).attr("transform",X).style("stroke-miterlimit",1),k.exit().remove(),k.each(function(z,Y){var F=o.select(this),J=s(de),E=J.colorscale,K=J.reversescale,ie=function(ke){if(ke.size()){var se="legendfill-"+de.uid;r.gradient(ke,w,se,M(K,S==="radial"),E,"fill")}},ve;if(E){if(!S){var Le=E.length;ve=Y===0?E[K?Le-1:0][1]:Y===1?E[K?0:Le-1][1]:E[Math.floor((Le-1)/2)][1]}}else{var he=de.vertexcolor||de.facecolor||de.color;ve=l.isArrayOrTypedArray(he)?he[Y]||he[0]:he}F.attr("d",z[0]),ve?F.call(f.fill,ve):F.call(ie)})}};function M(u,b){var w=b?"radial":"horizontal";return w+(u?"":"reversed")}function v(u){var b=u[0].trace,w=b.contours,B=n.hasLines(b),C=n.hasMarkers(b),I=b.visible&&b.fill&&b.fill!=="none",O=!1,L=!1;if(w){var X=w.coloring;X==="lines"?O=!0:B=X==="none"||X==="heatmap"||w.showlines,w.type==="constraint"?I=w._operation!=="=":(X==="fill"||X==="heatmap")&&(L=!0)}return{showMarker:C,showLine:B,showFill:I,showGradientLine:O,showGradientFill:L,anyLine:B||O,anyFill:I||L}}function c(u,b,w){return u&&l.isArrayOrTypedArray(u)?b:u>w?w:u}},2068:function(re,H,e){e(3348),re.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},6023:function(re,H,e){var o=e(3972),x=e(4875),l=e(1675),i=e(4255),r=e(4031).eraseActiveShape,f=e(1828),s=f._,n=re.exports={};n.toImage={name:"toImage",title:function(u){var b=u._context.toImageButtonOptions||{},w=b.format||"png";return w==="png"?s(u,"Download plot as a png"):s(u,"Download plot")},icon:i.camera,click:function(u){var b=u._context.toImageButtonOptions,w={format:b.format||"png"};f.notifier(s(u,"Taking snapshot - this may take a few seconds"),"long"),w.format!=="svg"&&f.isIE()&&(f.notifier(s(u,"IE only supports svg.  Changing format to svg."),"long"),w.format="svg"),["filename","width","height","scale"].forEach(function(B){B in b&&(w[B]=b[B])}),o.call("downloadImage",u,w).then(function(B){f.notifier(s(u,"Snapshot succeeded")+" - "+B,"long")}).catch(function(){f.notifier(s(u,"Sorry, there was a problem downloading your snapshot!"),"long")})}},n.sendDataToCloud={name:"sendDataToCloud",title:function(u){return s(u,"Edit in Chart Studio")},icon:i.disk,click:function(u){x.sendDataToCloud(u)}},n.editInChartStudio={name:"editInChartStudio",title:function(u){return s(u,"Edit in Chart Studio")},icon:i.pencil,click:function(u){x.sendDataToCloud(u)}},n.zoom2d={name:"zoom2d",_cat:"zoom",title:function(u){return s(u,"Zoom")},attr:"dragmode",val:"zoom",icon:i.zoombox,click:t},n.pan2d={name:"pan2d",_cat:"pan",title:function(u){return s(u,"Pan")},attr:"dragmode",val:"pan",icon:i.pan,click:t},n.select2d={name:"select2d",_cat:"select",title:function(u){return s(u,"Box Select")},attr:"dragmode",val:"select",icon:i.selectbox,click:t},n.lasso2d={name:"lasso2d",_cat:"lasso",title:function(u){return s(u,"Lasso Select")},attr:"dragmode",val:"lasso",icon:i.lasso,click:t},n.drawclosedpath={name:"drawclosedpath",title:function(u){return s(u,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:i.drawclosedpath,click:t},n.drawopenpath={name:"drawopenpath",title:function(u){return s(u,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:i.drawopenpath,click:t},n.drawline={name:"drawline",title:function(u){return s(u,"Draw line")},attr:"dragmode",val:"drawline",icon:i.drawline,click:t},n.drawrect={name:"drawrect",title:function(u){return s(u,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:i.drawrect,click:t},n.drawcircle={name:"drawcircle",title:function(u){return s(u,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:i.drawcircle,click:t},n.eraseshape={name:"eraseshape",title:function(u){return s(u,"Erase active shape")},icon:i.eraseshape,click:r},n.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(u){return s(u,"Zoom in")},attr:"zoom",val:"in",icon:i.zoom_plus,click:t},n.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(u){return s(u,"Zoom out")},attr:"zoom",val:"out",icon:i.zoom_minus,click:t},n.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(u){return s(u,"Autoscale")},attr:"zoom",val:"auto",icon:i.autoscale,click:t},n.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(u){return s(u,"Reset axes")},attr:"zoom",val:"reset",icon:i.home,click:t},n.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(u){return s(u,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:i.tooltip_basic,gravity:"ne",click:t},n.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(u){return s(u,"Compare data on hover")},attr:"hovermode",val:function(u){return u._fullLayout._isHoriz?"y":"x"},icon:i.tooltip_compare,gravity:"ne",click:t};function t(u,b){var w=b.currentTarget,B=w.getAttribute("data-attr"),C=w.getAttribute("data-val")||!0,I=u._fullLayout,O={},L=l.list(u,null,!0),X=I._cartesianSpikesEnabled,Z,te;if(B==="zoom"){var q=C==="in"?.5:2,ae=(1+q)/2,N=(1-q)/2,D;for(te=0;te<L.length;te++)if(Z=L[te],!Z.fixedrange)if(D=Z._name,C==="auto")O[D+".autorange"]=!0;else if(C==="reset"){if(Z._rangeInitial===void 0)O[D+".autorange"]=!0;else{var _=Z._rangeInitial.slice();O[D+".range[0]"]=_[0],O[D+".range[1]"]=_[1]}Z._showSpikeInitial!==void 0&&(O[D+".showspikes"]=Z._showSpikeInitial,X==="on"&&!Z._showSpikeInitial&&(X="off"))}else{var V=[Z.r2l(Z.range[0]),Z.r2l(Z.range[1])],G=[ae*V[0]+N*V[1],ae*V[1]+N*V[0]];O[D+".range[0]"]=Z.l2r(G[0]),O[D+".range[1]"]=Z.l2r(G[1])}}else B==="hovermode"&&(C==="x"||C==="y")&&(C=I._isHoriz?"y":"x",w.setAttribute("data-val",C)),O[B]=C;I._cartesianSpikesEnabled=X,o.call("_guiRelayout",u,O)}n.zoom3d={name:"zoom3d",_cat:"zoom",title:function(u){return s(u,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:i.zoombox,click:d},n.pan3d={name:"pan3d",_cat:"pan",title:function(u){return s(u,"Pan")},attr:"scene.dragmode",val:"pan",icon:i.pan,click:d},n.orbitRotation={name:"orbitRotation",title:function(u){return s(u,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:i["3d_rotate"],click:d},n.tableRotation={name:"tableRotation",title:function(u){return s(u,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:i["z-axis"],click:d};function d(u,b){for(var w=b.currentTarget,B=w.getAttribute("data-attr"),C=w.getAttribute("data-val")||!0,I=u._fullLayout._subplots.gl3d||[],O={},L=B.split("."),X=0;X<I.length;X++)O[I[X]+"."+L[1]]=C;var Z=C==="pan"?C:"zoom";O.dragmode=Z,o.call("_guiRelayout",u,O)}n.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(u){return s(u,"Reset camera to default")},attr:"resetDefault",icon:i.home,click:p},n.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(u){return s(u,"Reset camera to last save")},attr:"resetLastSave",icon:i.movie,click:p};function p(u,b){for(var w=b.currentTarget,B=w.getAttribute("data-attr"),C=B==="resetLastSave",I=B==="resetDefault",O=u._fullLayout,L=O._subplots.gl3d||[],X={},Z=0;Z<L.length;Z++){var te=L[Z],q=te+".camera",ae=te+".aspectratio",N=te+".aspectmode",D=O[te]._scene,_;C?(X[q+".up"]=D.viewInitial.up,X[q+".eye"]=D.viewInitial.eye,X[q+".center"]=D.viewInitial.center,_=!0):I&&(X[q+".up"]=null,X[q+".eye"]=null,X[q+".center"]=null,_=!0),_&&(X[ae+".x"]=D.viewInitial.aspectratio.x,X[ae+".y"]=D.viewInitial.aspectratio.y,X[ae+".z"]=D.viewInitial.aspectratio.z,X[N]=D.viewInitial.aspectmode)}o.call("_guiRelayout",u,X)}n.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(u){return s(u,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:y};function m(u,b){var w=b.currentTarget,B=w._previousVal,C=u._fullLayout,I=C._subplots.gl3d||[],O=["xaxis","yaxis","zaxis"],L={},X={};if(B)X=B,w._previousVal=null;else{for(var Z=0;Z<I.length;Z++){var te=I[Z],q=C[te],ae=te+".hovermode";L[ae]=q.hovermode,X[ae]=!1;for(var N=0;N<3;N++){var D=O[N],_=te+"."+D+".showspikes";X[_]=!1,L[_]=q[D].showspikes}}w._previousVal=L}return X}function y(u,b){var w=m(u,b);o.call("_guiRelayout",u,w)}n.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(u){return s(u,"Zoom in")},attr:"zoom",val:"in",icon:i.zoom_plus,click:h},n.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(u){return s(u,"Zoom out")},attr:"zoom",val:"out",icon:i.zoom_minus,click:h},n.resetGeo={name:"resetGeo",_cat:"reset",title:function(u){return s(u,"Reset")},attr:"reset",val:null,icon:i.autoscale,click:h},n.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(u){return s(u,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:g};function h(u,b){for(var w=b.currentTarget,B=w.getAttribute("data-attr"),C=w.getAttribute("data-val")||!0,I=u._fullLayout,O=I._subplots.geo||[],L=0;L<O.length;L++){var X=O[L],Z=I[X];if(B==="zoom"){var te=Z.projection.scale,q=C==="in"?2*te:.5*te;o.call("_guiRelayout",u,X+".projection.scale",q)}}B==="reset"&&c(u,"geo")}n.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(u){return s(u,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:g},n.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(u){return s(u,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:i.tooltip_basic,gravity:"ne",click:g};function T(u){var b=u._fullLayout;return b.hovermode?!1:b._has("cartesian")?b._isHoriz?"y":"x":"closest"}function g(u){var b=T(u);o.call("_guiRelayout",u,"hovermode",b)}n.resetViewSankey={name:"resetSankeyGroup",title:function(u){return s(u,"Reset view")},icon:i.home,click:function(u){for(var b={"node.groups":[],"node.x":[],"node.y":[]},w=0;w<u._fullData.length;w++){var B=u._fullData[w]._viewInitial;b["node.groups"].push(B.node.groups.slice()),b["node.x"].push(B.node.x.slice()),b["node.y"].push(B.node.y.slice())}o.call("restyle",u,b)}},n.toggleHover={name:"toggleHover",title:function(u){return s(u,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:function(u,b){var w=m(u,b);w.hovermode=T(u),o.call("_guiRelayout",u,w)}},n.resetViews={name:"resetViews",title:function(u){return s(u,"Reset views")},icon:i.home,click:function(u,b){var w=b.currentTarget;w.setAttribute("data-attr","zoom"),w.setAttribute("data-val","reset"),t(u,b),w.setAttribute("data-attr","resetLastSave"),p(u,b),c(u,"geo"),c(u,"mapbox")}},n.toggleSpikelines={name:"toggleSpikelines",title:function(u){return s(u,"Toggle Spike Lines")},icon:i.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(u){var b=u._fullLayout,w=b._cartesianSpikesEnabled;b._cartesianSpikesEnabled=w==="on"?"off":"on",o.call("_guiRelayout",u,M(u))}};function M(u){for(var b=u._fullLayout,w=b._cartesianSpikesEnabled==="on",B=l.list(u,null,!0),C={},I=0;I<B.length;I++){var O=B[I];C[O._name+".showspikes"]=w?!0:O._showSpikeInitial}return C}n.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(u){return s(u,"Reset view")},attr:"reset",icon:i.home,click:function(u){c(u,"mapbox")}},n.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(u){return s(u,"Zoom in")},attr:"zoom",val:"in",icon:i.zoom_plus,click:v},n.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(u){return s(u,"Zoom out")},attr:"zoom",val:"out",icon:i.zoom_minus,click:v};function v(u,b){for(var w=b.currentTarget,B=w.getAttribute("data-val"),C=u._fullLayout,I=C._subplots.mapbox||[],O=1.05,L={},X=0;X<I.length;X++){var Z=I[X],te=C[Z].zoom,q=B==="in"?O*te:te/O;L[Z+".zoom"]=q}o.call("_guiRelayout",u,L)}function c(u,b){for(var w=u._fullLayout,B=w._subplots[b]||[],C={},I=0;I<B.length;I++)for(var O=B[I],L=w[O]._subplot,X=L.viewInitial,Z=Object.keys(X),te=0;te<Z.length;te++){var q=Z[te];C[O+"."+q]=X[q]}o.call("_guiRelayout",u,C)}},3348:function(re,H,e){var o=e(6023),x=Object.keys(o),l=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],i=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(l),r=[],f=function(s){if(i.indexOf(s._cat||s.name)===-1){var n=s.name,t=(s._cat||s.name).toLowerCase();r.indexOf(n)===-1&&r.push(n),r.indexOf(t)===-1&&r.push(t)}};x.forEach(function(s){f(o[s])}),r.sort(),re.exports={DRAW_MODES:l,backButtons:i,foreButtons:r}},5750:function(re,H,e){var o=e(1828),x=e(7901),l=e(4467),i=e(2068);re.exports=function(f,s){var n=f.modebar||{},t=l.newContainer(s,"modebar");function d(m,y){return o.coerce(n,t,i,m,y)}d("orientation"),d("bgcolor",x.addOpacity(s.paper_bgcolor,.5));var p=x.contrast(x.rgb(s.modebar.bgcolor));d("color",x.addOpacity(p,.3)),d("activecolor",x.addOpacity(p,.7)),d("uirevision",s.uirevision),d("add"),d("remove")}},4168:function(re,H,e){re.exports={moduleType:"component",name:"modebar",layoutAttributes:e(2068),supplyLayoutDefaults:e(5750),manage:e(4192)}},4192:function(re,H,e){var o=e(1675),x=e(4098),l=e(3972),i=e(3469).isUnifiedHover,r=e(7676),f=e(6023),s=e(3348).DRAW_MODES,n=e(1828).extendDeep;re.exports=function(g){var M=g._fullLayout,v=g._context,c=M._modeBar;if(!v.displayModeBar&&!v.watermark){c&&(c.destroy(),delete M._modeBar);return}if(!Array.isArray(v.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(v.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var u=v.modeBarButtons,b;Array.isArray(u)&&u.length?b=h(u):!v.displayModeBar&&v.watermark?b=[]:b=t(g),c?c.update(g,b):M._modeBar=r(g,b)};function t(T){var g=T._fullLayout,M=T._fullData,v=T._context;function c(Y,F){if(typeof F=="string"){if(F.toLowerCase()===Y.toLowerCase())return!0}else{var J=F.name,E=F._cat||F.name;if(J===Y||E===Y.toLowerCase())return!0}return!1}var u=g.modebar.add;typeof u=="string"&&(u=[u]);var b=g.modebar.remove;typeof b=="string"&&(b=[b]);var w=v.modeBarButtonsToAdd.concat(u.filter(function(Y){for(var F=0;F<v.modeBarButtonsToRemove.length;F++)if(c(Y,v.modeBarButtonsToRemove[F]))return!1;return!0})),B=v.modeBarButtonsToRemove.concat(b.filter(function(Y){for(var F=0;F<v.modeBarButtonsToAdd.length;F++)if(c(Y,v.modeBarButtonsToAdd[F]))return!1;return!0})),C=g._has("cartesian"),I=g._has("gl3d"),O=g._has("geo"),L=g._has("pie"),X=g._has("funnelarea"),Z=g._has("gl2d"),te=g._has("ternary"),q=g._has("mapbox"),ae=g._has("polar"),N=g._has("smith"),D=g._has("sankey"),_=d(g),V=i(g.hovermode),G=[];function Q(Y){if(Y.length){for(var F=[],J=0;J<Y.length;J++){for(var E=Y[J],K=f[E],ie=K.name.toLowerCase(),ve=(K._cat||K.name).toLowerCase(),he=!1,Le=0;Le<B.length;Le++){var ke=B[Le].toLowerCase();if(ke===ie||ke===ve){he=!0;break}}he||F.push(f[E])}G.push(F)}}var ue=["toImage"];v.showEditInChartStudio?ue.push("editInChartStudio"):v.showSendToCloud&&ue.push("sendDataToCloud"),Q(ue);var le=[],ye=[],Se=[],ce=[];(C||Z||L||X||te)+O+I+q+ae+N>1?(ye=["toggleHover"],Se=["resetViews"]):O?(le=["zoomInGeo","zoomOutGeo"],ye=["hoverClosestGeo"],Se=["resetGeo"]):I?(ye=["hoverClosest3d"],Se=["resetCameraDefault3d","resetCameraLastSave3d"]):q?(le=["zoomInMapbox","zoomOutMapbox"],ye=["toggleHover"],Se=["resetViewMapbox"]):Z?ye=["hoverClosestGl2d"]:L?ye=["hoverClosestPie"]:D?(ye=["hoverClosestCartesian","hoverCompareCartesian"],Se=["resetViewSankey"]):ye=["toggleHover"],C&&(ye=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(m(M)||V)&&(ye=[]),(C||Z)&&!_&&(le=["zoomIn2d","zoomOut2d","autoScale2d"],Se[0]!=="resetViews"&&(Se=["resetScale2d"])),I?ce=["zoom3d","pan3d","orbitRotation","tableRotation"]:(C||Z)&&!_||te?ce=["zoom2d","pan2d"]:q||O?ce=["pan2d"]:ae&&(ce=["zoom2d"]),p(M)&&ce.push("select2d","lasso2d");var de=[],S=function(Y){de.indexOf(Y)===-1&&ye.indexOf(Y)!==-1&&de.push(Y)};if(Array.isArray(w)){for(var P=[],k=0;k<w.length;k++){var z=w[k];typeof z=="string"?(z=z.toLowerCase(),s.indexOf(z)!==-1?(g._has("mapbox")||g._has("cartesian"))&&ce.push(z):z==="togglespikelines"?S("toggleSpikelines"):z==="togglehover"?S("toggleHover"):z==="hovercompare"?S("hoverCompareCartesian"):z==="hoverclosest"?(S("hoverClosestCartesian"),S("hoverClosestGeo"),S("hoverClosest3d"),S("hoverClosestGl2d"),S("hoverClosestPie")):z==="v1hovermode"&&(S("toggleHover"),S("hoverClosestCartesian"),S("hoverCompareCartesian"),S("hoverClosestGeo"),S("hoverClosest3d"),S("hoverClosestGl2d"),S("hoverClosestPie"))):P.push(z)}w=P}return Q(ce),Q(le.concat(Se)),Q(de),y(G,w)}function d(T){for(var g=o.list({_fullLayout:T},null,!0),M=0;M<g.length;M++)if(!g[M].fixedrange)return!1;return!0}function p(T){for(var g=!1,M=0;M<T.length&&!g;M++){var v=T[M];!v._module||!v._module.selectPoints||(l.traceIs(v,"scatter-like")?(x.hasMarkers(v)||x.hasText(v))&&(g=!0):l.traceIs(v,"box-violin")?(v.boxpoints==="all"||v.points==="all")&&(g=!0):g=!0)}return g}function m(T){for(var g=0;g<T.length;g++)if(!l.traceIs(T[g],"noHover"))return!1;return!0}function y(T,g){if(g.length)if(Array.isArray(g[0]))for(var M=0;M<g.length;M++)T.push(g[M]);else T.push(g);return T}function h(T){for(var g=n([],T),M=0;M<g.length;M++)for(var v=g[M],c=0;c<v.length;c++){var u=v[c];if(typeof u=="string")if(f[u]!==void 0)g[M][c]=f[u];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return g}},7676:function(re,H,e){var o=e(9898),x=e(2770),l=e(1828),i=e(4255),r=e(1506).version,f=new DOMParser;function s(p){this.container=p.container,this.element=document.createElement("div"),this.update(p.graphInfo,p.buttons),this.container.appendChild(this.element)}var n=s.prototype;n.update=function(p,m){this.graphInfo=p;var y=this.graphInfo._context,h=this.graphInfo._fullLayout,T="modebar-"+h._uid;this.element.setAttribute("id",T),this._uid=T,this.element.className="modebar",y.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),h.modebar.orientation==="v"&&(this.element.className+=" vertical",m=m.reverse());var g=h.modebar,M=y.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";l.deleteRelatedStyleRule(T),l.addRelatedStyleRule(T,M+"#"+T+" .modebar-group","background-color: "+g.bgcolor),l.addRelatedStyleRule(T,"#"+T+" .modebar-btn .icon path","fill: "+g.color),l.addRelatedStyleRule(T,"#"+T+" .modebar-btn:hover .icon path","fill: "+g.activecolor),l.addRelatedStyleRule(T,"#"+T+" .modebar-btn.active .icon path","fill: "+g.activecolor);var v=!this.hasButtons(m),c=this.hasLogo!==y.displaylogo,u=this.locale!==y.locale;if(this.locale=y.locale,(v||c||u)&&(this.removeAllButtons(),this.updateButtons(m),y.watermark||y.displaylogo)){var b=this.getLogo();y.watermark&&(b.className=b.className+" watermark"),h.modebar.orientation==="v"?this.element.insertBefore(b,this.element.childNodes[0]):this.element.appendChild(b),this.hasLogo=!0}this.updateActiveButton()},n.updateButtons=function(p){var m=this;this.buttons=p,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(y){var h=m.createGroup();y.forEach(function(T){var g=T.name;if(!g)throw new Error("must provide button 'name' in button config");if(m.buttonsNames.indexOf(g)!==-1)throw new Error("button name '"+g+"' is taken");m.buttonsNames.push(g);var M=m.createButton(T);m.buttonElements.push(M),h.appendChild(M)}),m.element.appendChild(h)})},n.createGroup=function(){var p=document.createElement("div");return p.className="modebar-group",p},n.createButton=function(p){var m=this,y=document.createElement("a");y.setAttribute("rel","tooltip"),y.className="modebar-btn";var h=p.title;h===void 0?h=p.name:typeof h=="function"&&(h=h(this.graphInfo)),(h||h===0)&&y.setAttribute("data-title",h),p.attr!==void 0&&y.setAttribute("data-attr",p.attr);var T=p.val;T!==void 0&&(typeof T=="function"&&(T=T(this.graphInfo)),y.setAttribute("data-val",T));var g=p.click;if(typeof g!="function")throw new Error("must provide button 'click' function in button config");y.addEventListener("click",function(v){p.click(m.graphInfo,v),m.updateActiveButton(v.currentTarget)}),y.setAttribute("data-toggle",p.toggle||!1),p.toggle&&o.select(y).classed("active",!0);var M=p.icon;return typeof M=="function"?y.appendChild(M()):y.appendChild(this.createIcon(M||i.question)),y.setAttribute("data-gravity",p.gravity||"n"),y},n.createIcon=function(p){var m=x(p.height)?Number(p.height):p.ascent-p.descent,y="http://www.w3.org/2000/svg",h;if(p.path){h=document.createElementNS(y,"svg"),h.setAttribute("viewBox",[0,0,p.width,m].join(" ")),h.setAttribute("class","icon");var T=document.createElementNS(y,"path");T.setAttribute("d",p.path),p.transform?T.setAttribute("transform",p.transform):p.ascent!==void 0&&T.setAttribute("transform","matrix(1 0 0 -1 0 "+p.ascent+")"),h.appendChild(T)}if(p.svg){var g=f.parseFromString(p.svg,"application/xml");h=g.childNodes[0]}return h.setAttribute("height","1em"),h.setAttribute("width","1em"),h},n.updateActiveButton=function(p){var m=this.graphInfo._fullLayout,y=p!==void 0?p.getAttribute("data-attr"):null;this.buttonElements.forEach(function(h){var T=h.getAttribute("data-val")||!0,g=h.getAttribute("data-attr"),M=h.getAttribute("data-toggle")==="true",v=o.select(h);if(M)g===y&&v.classed("active",!v.classed("active"));else{var c=g===null?g:l.nestedProperty(m,g).get();v.classed("active",c===T)}})},n.hasButtons=function(p){var m=this.buttons;if(!m||p.length!==m.length)return!1;for(var y=0;y<p.length;++y){if(p[y].length!==m[y].length)return!1;for(var h=0;h<p[y].length;h++)if(p[y][h].name!==m[y][h].name)return!1}return!0};function t(p){return p+" (v"+r+")"}n.getLogo=function(){var p=this.createGroup(),m=document.createElement("a");return m.href="https://plotly.com/",m.target="_blank",m.setAttribute("data-title",t(l._(this.graphInfo,"Produced with Plotly.js"))),m.className="modebar-btn plotlyjsicon modebar-btn--logo",m.appendChild(this.createIcon(i.newplotlylogo)),p.appendChild(m),p},n.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},n.destroy=function(){l.removeElement(this.container.querySelector(".modebar")),l.deleteRelatedStyleRule(this._uid)};function d(p,m){var y=p._fullLayout,h=new s({graphInfo:p,container:y._modebardiv.node(),buttons:m});return y._privateplot&&o.select(h.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),h}re.exports=d},7113:function(re,H,e){var o=e(1940),x=e(2399),l=e(4467).templatedArray,i=l("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});re.exports={visible:{valType:"boolean",editType:"plot"},buttons:i,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:o({editType:"plot"}),bgcolor:{valType:"color",dflt:x.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:x.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},9573:function(re){re.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},8674:function(re,H,e){var o=e(1828),x=e(7901),l=e(4467),i=e(5501),r=e(7113),f=e(9573);re.exports=function(d,p,m,y,h){var T=d.rangeselector||{},g=l.newContainer(p,"rangeselector");function M(w,B){return o.coerce(T,g,r,w,B)}var v=i(T,g,{name:"buttons",handleItemDefaults:s,calendar:h}),c=M("visible",v.length>0);if(c){var u=n(p,m,y);M("x",u[0]),M("y",u[1]),o.noneOrAll(d,p,["x","y"]),M("xanchor"),M("yanchor"),o.coerceFont(M,"font",m.font);var b=M("bgcolor");M("activecolor",x.contrast(b,f.lightAmount,f.darkAmount)),M("bordercolor"),M("borderwidth")}};function s(t,d,p,m){var y=m.calendar;function h(M,v){return o.coerce(t,d,r.buttons,M,v)}var T=h("visible");if(T){var g=h("step");g!=="all"&&(y&&y!=="gregorian"&&(g==="month"||g==="year")?d.stepmode="backward":h("stepmode"),h("count")),h("label")}}function n(t,d,p){for(var m=p.filter(function(g){return d[g].anchor===t._id}),y=0,h=0;h<m.length;h++){var T=d[m[h]].domain;T&&(y=Math.max(T[1],y))}return[t.domain[0],y+f.yPad]}},1598:function(re,H,e){var o=e(9898),x=e(3972),l=e(4875),i=e(7901),r=e(1424),f=e(1828),s=f.strTranslate,n=e(3893),t=e(1675),d=e(8783),p=d.LINE_SPACING,m=d.FROM_TL,y=d.FROM_BR,h=e(9573),T=e(7917);re.exports=function(I){var O=I._fullLayout,L=O._infolayer.selectAll(".rangeselector").data(g(I),M);L.enter().append("g").classed("rangeselector",!0),L.exit().remove(),L.style({cursor:"pointer","pointer-events":"all"}),L.each(function(X){var Z=o.select(this),te=X,q=te.rangeselector,ae=Z.selectAll("g.button").data(f.filterVisible(q.buttons));ae.enter().append("g").classed("button",!0),ae.exit().remove(),ae.each(function(N){var D=o.select(this),_=T(te,N);N._isActive=v(te,N,_),D.call(c,q,N),D.call(b,q,N,I),D.on("click",function(){I._dragged||x.call("_guiRelayout",I,_)}),D.on("mouseover",function(){N._isHovered=!0,D.call(c,q,N)}),D.on("mouseout",function(){N._isHovered=!1,D.call(c,q,N)})}),B(I,ae,q,te._name,Z)})};function g(C){for(var I=t.list(C,"x",!0),O=[],L=0;L<I.length;L++){var X=I[L];X.rangeselector&&X.rangeselector.visible&&O.push(X)}return O}function M(C){return C._id}function v(C,I,O){if(I.step==="all")return C.autorange===!0;var L=Object.keys(O);return C.range[0]===O[L[0]]&&C.range[1]===O[L[1]]}function c(C,I,O){var L=f.ensureSingle(C,"rect","selector-rect",function(X){X.attr("shape-rendering","crispEdges")});L.attr({rx:h.rx,ry:h.ry}),L.call(i.stroke,I.bordercolor).call(i.fill,u(I,O)).style("stroke-width",I.borderwidth+"px")}function u(C,I){return I._isActive||I._isHovered?C.activecolor:C.bgcolor}function b(C,I,O,L){function X(te){n.convertToTspans(te,L)}var Z=f.ensureSingle(C,"text","selector-text",function(te){te.attr("text-anchor","middle")});Z.call(r.font,I.font).text(w(O,L._fullLayout._meta)).call(X)}function w(C,I){return C.label?I?f.templateString(C.label,I):C.label:C.step==="all"?"all":C.count+C.step.charAt(0)}function B(C,I,O,L,X){var Z=0,te=0,q=O.borderwidth;I.each(function(){var G=o.select(this),Q=G.select(".selector-text"),ue=O.font.size*p,le=Math.max(ue*n.lineCount(Q),16)+3;te=Math.max(te,le)}),I.each(function(){var G=o.select(this),Q=G.select(".selector-rect"),ue=G.select(".selector-text"),le=ue.node()&&r.bBox(ue.node()).width,ye=O.font.size*p,Se=n.lineCount(ue),ce=Math.max(le+10,h.minButtonWidth);G.attr("transform",s(q+Z,q)),Q.attr({x:0,y:0,width:ce,height:te}),n.positionText(ue,ce/2,te/2-(Se-1)*ye/2+3),Z+=ce+5});var ae=C._fullLayout._size,N=ae.l+ae.w*O.x,D=ae.t+ae.h*(1-O.y),_="left";f.isRightAnchor(O)&&(N-=Z,_="right"),f.isCenterAnchor(O)&&(N-=Z/2,_="center");var V="top";f.isBottomAnchor(O)&&(D-=te,V="bottom"),f.isMiddleAnchor(O)&&(D-=te/2,V="middle"),Z=Math.ceil(Z),te=Math.ceil(te),N=Math.round(N),D=Math.round(D),l.autoMargin(C,L+"-range-selector",{x:O.x,y:O.y,l:Z*m[_],r:Z*y[_],b:te*y[V],t:te*m[V]}),X.attr("transform",s(N,D))}},7917:function(re,H,e){var o=e(1041),x=e(1828).titleCase;re.exports=function(r,f){var s=r._name,n={};if(f.step==="all")n[s+".autorange"]=!0;else{var t=l(r,f);n[s+".range[0]"]=t[0],n[s+".range[1]"]=t[1]}return n};function l(i,r){var f=i.range,s=new Date(i.r2l(f[1])),n=r.step,t=o["utc"+x(n)],d=r.count,p;switch(r.stepmode){case"backward":p=i.l2r(+t.offset(s,-d));break;case"todate":var m=t.offset(s,-d);p=i.l2r(+t.ceil(m));break}var y=f[1];return[p,y]}},7218:function(re,H,e){re.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(7113)}}},layoutAttributes:e(7113),handleDefaults:e(8674),draw:e(1598)}},5148:function(re,H,e){var o=e(2399);re.exports={bgcolor:{valType:"color",dflt:o.background,editType:"plot"},bordercolor:{valType:"color",dflt:o.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},8443:function(re,H,e){var o=e(1675).list,x=e(1739).getAutoRange,l=e(3251);re.exports=function(r){for(var f=o(r,"x",!0),s=0;s<f.length;s++){var n=f[s],t=n[l.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=x(r,n))}}},3251:function(re){re.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},6377:function(re,H,e){var o=e(1828),x=e(4467),l=e(1675),i=e(5148),r=e(7850);re.exports=function(s,n,t){var d=s[t],p=n[t];if(!(d.rangeslider||n._requestRangeslider[p._id]))return;o.isPlainObject(d.rangeslider)||(d.rangeslider={});var m=d.rangeslider,y=x.newContainer(p,"rangeslider");function h(L,X){return o.coerce(m,y,i,L,X)}var T,g;function M(L,X){return o.coerce(T,g,r,L,X)}var v=h("visible");if(v){h("bgcolor",n.plot_bgcolor),h("bordercolor"),h("borderwidth"),h("thickness"),h("autorange",!p.isValidRange(m.range)),h("range");var c=n._subplots;if(c)for(var u=c.cartesian.filter(function(L){return L.substr(0,L.indexOf("y"))===l.name2id(t)}).map(function(L){return L.substr(L.indexOf("y"),L.length)}),b=o.simpleMap(u,l.id2name),w=0;w<b.length;w++){var B=b[w];T=m[B]||{},g=x.newContainer(y,B,"yaxis");var C=n[B],I;T.range&&C.isValidRange(T.range)&&(I="fixed");var O=M("rangemode",I);O!=="match"&&M("range",C.range.slice())}y._input=m}}},2413:function(re,H,e){var o=e(9898),x=e(3972),l=e(4875),i=e(1828),r=i.strTranslate,f=e(1424),s=e(7901),n=e(2998),t=e(3612),d=e(1675),p=e(8569),m=e(6964),y=e(3251);re.exports=function(C){for(var I=C._fullLayout,O=I._rangeSliderData,L=0;L<O.length;L++){var X=O[L][y.name];X._clipId=X._id+"-"+I._uid}function Z(q){return q._name}var te=I._infolayer.selectAll("g."+y.containerClassName).data(O,Z);te.exit().each(function(q){var ae=q[y.name];I._topdefs.select("#"+ae._clipId).remove()}).remove(),O.length!==0&&(te.enter().append("g").classed(y.containerClassName,!0).attr("pointer-events","all"),te.each(function(q){var ae=o.select(this),N=q[y.name],D=I[d.id2name(q.anchor)],_=N[d.id2name(q.anchor)];if(N.range){var V=i.simpleMap(N.range,q.r2l),G=i.simpleMap(q.range,q.r2l),Q;G[0]<G[1]?Q=[Math.min(V[0],G[0]),Math.max(V[1],G[1])]:Q=[Math.max(V[0],G[0]),Math.min(V[1],G[1])],N.range=N._input.range=i.simpleMap(Q,q.l2r)}q.cleanRange("rangeslider.range");var ue=I._size,le=q.domain;N._width=ue.w*(le[1]-le[0]);var ye=Math.round(ue.l+ue.w*le[0]),Se=Math.round(ue.t+ue.h*(1-q._counterDomainMin)+(q.side==="bottom"?q._depth:0)+N._offsetShift+y.extraPad);ae.attr("transform",r(ye,Se)),N._rl=i.simpleMap(N.range,q.r2l);var ce=N._rl[0],de=N._rl[1],S=de-ce;if(N.p2d=function(ve){return ve/N._width*S+ce},N.d2p=function(ve){return(ve-ce)/S*N._width},q.rangebreaks){var P=q.locateBreaks(ce,de);if(P.length){var k,z,Y=0;for(k=0;k<P.length;k++)z=P[k],Y+=z.max-z.min;var F=N._width/(de-ce-Y),J=[-F*ce];for(k=0;k<P.length;k++)z=P[k],J.push(J[J.length-1]-F*(z.max-z.min));for(N.d2p=function(ve){for(var he=J[0],Le=0;Le<P.length;Le++){var ke=P[Le];if(ve>=ke.max)he=J[Le+1];else if(ve<ke.min)break}return he+F*ve},k=0;k<P.length;k++)z=P[k],z.pmin=N.d2p(z.min),z.pmax=N.d2p(z.max);N.p2d=function(ve){for(var he=J[0],Le=0;Le<P.length;Le++){var ke=P[Le];if(ve>=ke.pmax)he=J[Le+1];else if(ve<ke.pmin)break}return(ve-he)/F}}}if(_.rangemode!=="match"){var E=D.r2l(_.range[0]),K=D.r2l(_.range[1]),ie=K-E;N.d2pOppAxis=function(ve){return(ve-E)/ie*N._height}}ae.call(M,C,q,N).call(v,C,q,N).call(c,C,q,N).call(b,C,q,N,_).call(w,C,q,N).call(B,C,q,N),h(ae,C,q,N),g(ae,C,q,N,D,_),q.side==="bottom"&&n.draw(C,q._id+"title",{propContainer:q,propName:q._name+".title",placeholder:I._dfltTitle.x,attributes:{x:q._offset+q._length/2,y:Se+N._height+N._offsetShift+10+1.5*q.title.font.size,"text-anchor":"middle"}})}))};function h(C,I,O,L){if(I._context.staticPlot)return;var X=C.select("rect."+y.slideBoxClassName).node(),Z=C.select("rect."+y.grabAreaMinClassName).node(),te=C.select("rect."+y.grabAreaMaxClassName).node();function q(){var ae=o.event,N=ae.target,D=ae.clientX||ae.touches[0].clientX,_=D-C.node().getBoundingClientRect().left,V=L.d2p(O._rl[0]),G=L.d2p(O._rl[1]),Q=p.coverSlip();this.addEventListener("touchmove",ue),this.addEventListener("touchend",le),Q.addEventListener("mousemove",ue),Q.addEventListener("mouseup",le);function ue(ye){var Se=ye.clientX||ye.touches[0].clientX,ce=+Se-D,de,S,P;switch(N){case X:if(P="ew-resize",V+ce>O._length||G+ce<0)return;de=V+ce,S=G+ce;break;case Z:if(P="col-resize",V+ce>O._length)return;de=V+ce,S=G;break;case te:if(P="col-resize",G+ce<0)return;de=V,S=G+ce;break;default:P="ew-resize",de=_,S=_+ce;break}if(S<de){var k=S;S=de,de=k}L._pixelMin=de,L._pixelMax=S,m(o.select(Q),P),T(C,I,O,L)}function le(){Q.removeEventListener("mousemove",ue),Q.removeEventListener("mouseup",le),this.removeEventListener("touchmove",ue),this.removeEventListener("touchend",le),i.removeElement(Q)}}C.on("mousedown",q),C.on("touchstart",q)}function T(C,I,O,L){function X(q){return O.l2r(i.constrain(q,L._rl[0],L._rl[1]))}var Z=X(L.p2d(L._pixelMin)),te=X(L.p2d(L._pixelMax));window.requestAnimationFrame(function(){x.call("_guiRelayout",I,O._name+".range",[Z,te])})}function g(C,I,O,L,X,Z){var te=y.handleWidth/2;function q(ye){return i.constrain(ye,0,L._width)}function ae(ye){return i.constrain(ye,0,L._height)}function N(ye){return i.constrain(ye,-te,L._width+te)}var D=q(L.d2p(O._rl[0])),_=q(L.d2p(O._rl[1]));if(C.select("rect."+y.slideBoxClassName).attr("x",D).attr("width",_-D),C.select("rect."+y.maskMinClassName).attr("width",D),C.select("rect."+y.maskMaxClassName).attr("x",_).attr("width",L._width-_),Z.rangemode!=="match"){var V=L._height-ae(L.d2pOppAxis(X._rl[1])),G=L._height-ae(L.d2pOppAxis(X._rl[0]));C.select("rect."+y.maskMinOppAxisClassName).attr("x",D).attr("height",V).attr("width",_-D),C.select("rect."+y.maskMaxOppAxisClassName).attr("x",D).attr("y",G).attr("height",L._height-G).attr("width",_-D),C.select("rect."+y.slideBoxClassName).attr("y",V).attr("height",G-V)}var Q=.5,ue=Math.round(N(D-te))-Q,le=Math.round(N(_-te))+Q;C.select("g."+y.grabberMinClassName).attr("transform",r(ue,Q)),C.select("g."+y.grabberMaxClassName).attr("transform",r(le,Q))}function M(C,I,O,L){var X=i.ensureSingle(C,"rect",y.bgClassName,function(ae){ae.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),Z=L.borderwidth%2===0?L.borderwidth:L.borderwidth-1,te=-L._offsetShift,q=f.crispRound(I,L.borderwidth);X.attr({width:L._width+Z,height:L._height+Z,transform:r(te,te),"stroke-width":q}).call(s.stroke,L.bordercolor).call(s.fill,L.bgcolor)}function v(C,I,O,L){var X=I._fullLayout,Z=i.ensureSingleById(X._topdefs,"clipPath",L._clipId,function(te){te.append("rect").attr({x:0,y:0})});Z.select("rect").attr({width:L._width,height:L._height})}function c(C,I,O,L){var X=I.calcdata,Z=C.selectAll("g."+y.rangePlotClassName).data(O._subplotsWith,i.identity);Z.enter().append("g").attr("class",function(q){return y.rangePlotClassName+" "+q}).call(f.setClipUrl,L._clipId,I),Z.order(),Z.exit().remove();var te;Z.each(function(q,ae){var N=o.select(this),D=ae===0,_=d.getFromId(I,q,"y"),V=_._name,G=L[V],Q={data:[],layout:{xaxis:{type:O.type,domain:[0,1],range:L.range.slice(),calendar:O.calendar},width:L._width,height:L._height,margin:{t:0,b:0,l:0,r:0}},_context:I._context};O.rangebreaks&&(Q.layout.xaxis.rangebreaks=O.rangebreaks),Q.layout[V]={type:_.type,domain:[0,1],range:G.rangemode!=="match"?G.range.slice():_.range.slice(),calendar:_.calendar},_.rangebreaks&&(Q.layout[V].rangebreaks=_.rangebreaks),l.supplyDefaults(Q);var ue=Q._fullLayout.xaxis,le=Q._fullLayout[V];ue.clearCalc(),ue.setScale(),le.clearCalc(),le.setScale();var ye={id:q,plotgroup:N,xaxis:ue,yaxis:le,isRangePlot:!0};D?te=ye:(ye.mainplot="xy",ye.mainplotinfo=te),t.rangePlot(I,ye,u(X,q))})}function u(C,I){for(var O=[],L=0;L<C.length;L++){var X=C[L],Z=X[0].trace;Z.xaxis+Z.yaxis===I&&O.push(X)}return O}function b(C,I,O,L,X){var Z=i.ensureSingle(C,"rect",y.maskMinClassName,function(N){N.attr({x:0,y:0,"shape-rendering":"crispEdges"})});Z.attr("height",L._height).call(s.fill,y.maskColor);var te=i.ensureSingle(C,"rect",y.maskMaxClassName,function(N){N.attr({y:0,"shape-rendering":"crispEdges"})});if(te.attr("height",L._height).call(s.fill,y.maskColor),X.rangemode!=="match"){var q=i.ensureSingle(C,"rect",y.maskMinOppAxisClassName,function(N){N.attr({y:0,"shape-rendering":"crispEdges"})});q.attr("width",L._width).call(s.fill,y.maskOppAxisColor);var ae=i.ensureSingle(C,"rect",y.maskMaxOppAxisClassName,function(N){N.attr({y:0,"shape-rendering":"crispEdges"})});ae.attr("width",L._width).style("border-top",y.maskOppBorder).call(s.fill,y.maskOppAxisColor)}}function w(C,I,O,L){if(!I._context.staticPlot){var X=i.ensureSingle(C,"rect",y.slideBoxClassName,function(Z){Z.attr({y:0,cursor:y.slideBoxCursor,"shape-rendering":"crispEdges"})});X.attr({height:L._height,fill:y.slideBoxFill})}}function B(C,I,O,L){var X=i.ensureSingle(C,"g",y.grabberMinClassName),Z=i.ensureSingle(C,"g",y.grabberMaxClassName),te={x:0,width:y.handleWidth,rx:y.handleRadius,fill:s.background,stroke:s.defaultLine,"stroke-width":y.handleStrokeWidth,"shape-rendering":"crispEdges"},q={y:Math.round(L._height/4),height:Math.round(L._height/2)},ae=i.ensureSingle(X,"rect",y.handleMinClassName,function(G){G.attr(te)});ae.attr(q);var N=i.ensureSingle(Z,"rect",y.handleMaxClassName,function(G){G.attr(te)});N.attr(q);var D={width:y.grabAreaWidth,x:0,y:0,fill:y.grabAreaFill,cursor:I._context.staticPlot?void 0:y.grabAreaCursor},_=i.ensureSingle(X,"rect",y.grabAreaMinClassName,function(G){G.attr(D)});_.attr("height",L._height);var V=i.ensureSingle(Z,"rect",y.grabAreaMaxClassName,function(G){G.attr(D)});V.attr("height",L._height)}},549:function(re,H,e){var o=e(1675),x=e(3893),l=e(3251),i=e(8783).LINE_SPACING,r=l.name;function f(s){var n=s&&s[r];return n&&n.visible}H.isVisible=f,H.makeData=function(s){var n=o.list({_fullLayout:s},"x",!0),t=s.margin,d=[];if(!s._has("gl2d"))for(var p=0;p<n.length;p++){var m=n[p];if(f(m)){d.push(m);var y=m[r];y._id=r+m._id,y._height=(s.height-t.b-t.t)*y.thickness,y._offsetShift=Math.floor(y.borderwidth/2)}}s._rangeSliderData=d},H.autoMarginOpts=function(s,n){var t=s._fullLayout,d=n[r],p=n._id.charAt(0),m=0,y=0;if(n.side==="bottom"&&(m=n._depth,n.title.text!==t._dfltTitle[p])){y=1.5*n.title.font.size+10+d._offsetShift;var h=(n.title.text.match(x.BR_TAG_ALL)||[]).length;y+=h*n.title.font.size*i}return{x:0,y:n._counterDomainMin,l:0,r:0,t:0,b:d._height+m+Math.max(t.margin.b,y),pad:l.extraPad+d._offsetShift*2}}},3137:function(re,H,e){var o=e(1828),x=e(5148),l=e(7850),i=e(549);re.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:o.extendFlat({},x,{yaxis:l})}}},layoutAttributes:e(5148),handleDefaults:e(6377),calcAutorange:e(8443),draw:e(2413),isVisible:i.isVisible,makeData:i.makeData,autoMarginOpts:i.autoMarginOpts}},7850:function(re){re.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(re,H,e){var o=e(215),x=e(2196).line,l=e(9952).P,i=e(1426).extendFlat,r=e(962).overrideAll,f=e(4467).templatedArray;e(4695),re.exports=r(f("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:i({},o.xref,{}),yref:i({},o.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:x.color,width:i({},x.width,{min:1,dflt:1}),dash:i({},l,{dflt:"dot"})}}),"arraydraw","from-root")},4122:function(re){re.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},9402:function(re,H,e){var o=e(1828),x=e(9298),l=e(5501),i=e(8389),r=e(477);re.exports=function(n,t){l(n,t,{name:"selections",handleItemDefaults:f});for(var d=t.selections,p=0;p<d.length;p++){var m=d[p];m&&m.path===void 0&&(m.x0===void 0||m.x1===void 0||m.y0===void 0||m.y1===void 0)&&(t.selections[p]=null)}};function f(s,n,t){function d(Z,te){return o.coerce(s,n,i,Z,te)}var p=d("path"),m=p?"path":"rect",y=d("type",m),h=y!=="path";h&&delete n.path,d("opacity"),d("line.color"),d("line.width"),d("line.dash");for(var T=["x","y"],g=0;g<2;g++){var M=T[g],v={_fullLayout:t},c,u,b,w=x.coerceRef(s,n,v,M);if(c=x.getFromId(v,w),c._selectionIndices.push(n._index),b=r.rangeToShapePosition(c),u=r.shapePositionToRange(c),h){var B=M+"0",C=M+"1",I=s[B],O=s[C];s[B]=u(s[B],!0),s[C]=u(s[C],!0),x.coercePosition(n,v,d,w,B),x.coercePosition(n,v,d,w,C);var L=n[B],X=n[C];L!==void 0&&X!==void 0&&(n[B]=b(L),n[C]=b(X),s[B]=I,s[C]=O)}}h&&o.noneOrAll(s,n,["x0","x1","y0","y1"])}},2485:function(re,H,e){var o=e(165).readPaths,x=e(2359),l=e(1873).clearOutlineControllers,i=e(7901),r=e(1424),f=e(4467).arrayEditor,s=e(477),n=s.getPathString;re.exports={draw:t,drawOne:p,activateLastSelection:h};function t(g){var M=g._fullLayout;l(g),M._selectionLayer.selectAll("path").remove();for(var v in M._plots){var c=M._plots[v].selectionLayer;c&&c.selectAll("path").remove()}for(var u=0;u<M.selections.length;u++)p(g,u)}function d(g){return g._context.editSelection}function p(g,M){g._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+M+'"]').remove();var v=s.makeSelectionsOptionsAndPlotinfo(g,M),c=v.options,u=v.plotinfo;if(!c._input)return;b(g._fullLayout._selectionLayer);function b(w){var B=n(g,c),C={"data-index":M,"fill-rule":"evenodd",d:B},I=c.opacity,O="rgba(0,0,0,0)",L=c.line.color||i.contrast(g._fullLayout.plot_bgcolor),X=c.line.width,Z=c.line.dash;X||(X=5,Z="solid");var te=d(g)&&g._fullLayout._activeSelectionIndex===M;te&&(O=g._fullLayout.activeselection.fillcolor,I=g._fullLayout.activeselection.opacity);for(var q=[],ae=1;ae>=0;ae--){var N=w.append("path").attr(C).style("opacity",ae?.1:I).call(i.stroke,L).call(i.fill,O).call(r.dashLine,ae?"solid":Z,ae?4+X:X);if(m(N,g,c),te){var D=f(g.layout,"selections",c);N.style({cursor:"move"});var _={element:N.node(),plotinfo:u,gd:g,editHelpers:D,isActiveSelection:!0},V=o(B,g);x(V,N,_)}else N.style("pointer-events",ae?"all":"none");q[ae]=N}var G=q[0],Q=q[1];Q.node().addEventListener("click",function(){return y(g,G)})}}function m(g,M,v){var c=v.xref+v.yref;r.setClipUrl(g,"clip"+M._fullLayout._uid+c,M)}function y(g,M){if(d(g)){var v=M.node(),c=+v.getAttribute("data-index");if(c>=0){if(c===g._fullLayout._activeSelectionIndex){T(g);return}g._fullLayout._activeSelectionIndex=c,g._fullLayout._deactivateSelection=T,t(g)}}}function h(g){if(d(g)){var M=g._fullLayout.selections.length-1;g._fullLayout._activeSelectionIndex=M,g._fullLayout._deactivateSelection=T,t(g)}}function T(g){if(d(g)){var M=g._fullLayout._activeSelectionIndex;M>=0&&(l(g),delete g._fullLayout._activeSelectionIndex,t(g))}}},3777:function(re,H,e){var o=e(9952).P,x=e(1426).extendFlat;re.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:x({},o,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},849:function(re){re.exports=function(e,o,x){x("newselection.mode");var l=x("newselection.line.width");l&&(x("newselection.line.color"),x("newselection.line.dash")),x("activeselection.fillcolor"),x("activeselection.opacity")}},5855:function(re,H,e){var o=e(4505),x=o.selectMode,l=e(1873),i=l.clearOutline,r=e(165),f=r.readPaths,s=r.writePaths,n=r.fixDatesForPaths;re.exports=function(d,p){if(d.length){var m=d[0][0];if(m){var y=m.getAttribute("d"),h=p.gd,T=h._fullLayout.newselection,g=p.plotinfo,M=g.xaxis,v=g.yaxis,c=p.isActiveSelection,u=p.dragmode,b=(h.layout||{}).selections||[];if(!x(u)&&c!==void 0){var w=h._fullLayout._activeSelectionIndex;if(w<b.length)switch(h._fullLayout.selections[w].type){case"rect":u="select";break;case"path":u="lasso";break}}var B=f(y,h,g,c),C={xref:M._id,yref:v._id,opacity:T.opacity,line:{color:T.line.color,width:T.line.width,dash:T.line.dash}},I;B.length===1&&(I=B[0]),I&&I.length===5&&u==="select"?(C.type="rect",C.x0=I[0][1],C.y0=I[0][2],C.x1=I[2][1],C.y1=I[2][2]):(C.type="path",M&&v&&n(B,M,v),C.path=s(B),I=null),i(h);for(var O=p.editHelpers,L=(O||{}).modifyItem,X=[],Z=0;Z<b.length;Z++){var te=h._fullLayout.selections[Z];if(!te){X[Z]=te;continue}if(X[Z]=te._input,c!==void 0&&Z===h._fullLayout._activeSelectionIndex){var q=C;switch(te.type){case"rect":L("x0",q.x0),L("x1",q.x1),L("y0",q.y0),L("y1",q.y1);break;case"path":L("path",q.path);break}}}return c===void 0?(X.push(C),X):O?O.getUpdateObj():{}}}}},5549:function(re,H,e){var o=e(1828).strTranslate;function x(f,s){switch(f.type){case"log":return f.p2d(s);case"date":return f.p2r(s,0,f.calendar);default:return f.p2r(s)}}function l(f,s){switch(f.type){case"log":return f.d2p(s);case"date":return f.r2p(s,0,f.calendar);default:return f.r2p(s)}}function i(f){var s=f._id.charAt(0)==="y"?1:0;return function(n){return x(f,n[s])}}function r(f){return o(f.xaxis._offset,f.yaxis._offset)}re.exports={p2r:x,r2p:l,axValue:i,getTransform:r}},7322:function(re,H,e){var o=e(2485),x=e(3937);re.exports={moduleType:"component",name:"selections",layoutAttributes:e(8389),supplyLayoutDefaults:e(9402),supplyDrawNewSelectionDefaults:e(849),includeBasePlot:e(6325)("selections"),draw:o.draw,drawOne:o.drawOne,reselect:x.reselect,prepSelect:x.prepSelect,clearOutline:x.clearOutline,clearSelectionsCache:x.clearSelectionsCache,selectOnClick:x.selectOnClick}},3937:function(re,H,e){var o=e(2142),x=e(8258),l=e(3972),i=e(1424).dashStyle,r=e(7901),f=e(211),s=e(3469).makeEventData,n=e(4505),t=n.freeMode,d=n.rectMode,p=n.drawMode,m=n.openMode,y=n.selectMode,h=e(477),T=e(1459),g=e(2359),M=e(1873).clearOutline,v=e(165),c=v.handleEllipse,u=v.readPaths,b=e(551),w=e(5855),B=e(2485).activateLastSelection,C=e(1828),I=C.sorterAsc,O=e(1082),L=e(9990),X=e(1675).getFromId,Z=e(3306),te=e(1549).redrawReglTraces,q=e(4122),ae=q.MINSELECT,N=O.filter,D=O.tester,_=e(5549),V=_.p2r,G=_.axValue,Q=_.getTransform;function ue(Ce){return Ce.subplot!==void 0}function le(Ce,Ae,Pe,$,fe){var pe=!ue($),Me=t(fe),Ge=d(fe),Ie=m(fe),_e=p(fe),Je=y(fe),Qe=fe==="drawline",Oe=fe==="drawcircle",ft=Qe||Oe,vt=$.gd,xt=vt._fullLayout,zt=Je&&xt.newselection.mode==="immediate"&&pe,Vt=xt._zoomlayer,Ut=$.element.getBoundingClientRect(),Nt=$.plotinfo,Gt=Q(Nt),Ct=Ae-Ut.left,Dt=Pe-Ut.top;xt._calcInverseTransform(vt);var _t=C.apply3DTransform(xt._invTransform)(Ct,Dt);Ct=_t[0],Dt=_t[1];var Wt=xt._invScaleX,Bt=xt._invScaleY,It=Ct,it=Dt,Ot="M"+Ct+","+Dt,Xt=$.xaxes[0],nr=$.yaxes[0],Ht=Xt._length,tr=nr._length,or=Ce.altKey&&!(p(fe)&&Ie),ne,ee,ze,Fe,Ue,Ze,Xe;P(Ce,vt,$),Me&&(ne=N([[Ct,Dt]],q.BENDPX));var Be=Vt.selectAll("path.select-outline-"+Nt.id).data([1]),Ye=_e?xt.newshape:xt.newselection,qe=_e&&!Ie?Ye.fillcolor:"rgba(0,0,0,0)",tt=Ye.line.color||(pe?r.contrast(vt._fullLayout.plot_bgcolor):"#7f7f7f");Be.enter().append("path").attr("class","select-outline select-outline-"+Nt.id).style({opacity:_e?Ye.opacity/2:1,"stroke-dasharray":i(Ye.line.dash,Ye.line.width),"stroke-width":Ye.line.width+"px","shape-rendering":"crispEdges"}).call(r.stroke,tt).call(r.fill,qe).attr("fill-rule","evenodd").classed("cursor-move",!!_e).attr("transform",Gt).attr("d",Ot+"Z");var ut=Vt.append("path").attr("class","zoombox-corners").style({fill:r.background,stroke:r.defaultLine,"stroke-width":1}).attr("transform",Gt).attr("d","M0,0Z"),rt=xt._uid+q.SELECTID,Tt=[],mt=J(vt,$.xaxes,$.yaxes,$.subplot);zt&&!Ce.shiftKey&&($._clearSubplotSelections=function(){if(pe){var Rt=Xt._id,Mt=nr._id;je(vt,Rt,Mt,mt);for(var Yt=(vt.layout||{}).selections||[],Jt=[],Qt=!1,St=0;St<Yt.length;St++){var Ft=xt.selections[St];Ft.xref!==Rt||Ft.yref!==Mt?Jt.push(Yt[St]):Qt=!0}Qt&&(vt._fullLayout._noEmitSelectedAtStart=!0,l.call("_guiRelayout",vt,{selections:Jt}))}});var ct=At($);$.moveFn=function(Rt,Mt){$._clearSubplotSelections&&($._clearSubplotSelections(),$._clearSubplotSelections=void 0),It=Math.max(0,Math.min(Ht,Wt*Rt+Ct)),it=Math.max(0,Math.min(tr,Bt*Mt+Dt));var Yt=Math.abs(It-Ct),Jt=Math.abs(it-Dt);if(Ge){var Qt,St,Ft;if(Je){var lr=xt.selectdirection;switch(lr==="any"?Jt<Math.min(Yt*.6,ae)?Qt="h":Yt<Math.min(Jt*.6,ae)?Qt="v":Qt="d":Qt=lr,Qt){case"h":St=Oe?tr/2:0,Ft=tr;break;case"v":St=Oe?Ht/2:0,Ft=Ht;break}}if(_e)switch(xt.newshape.drawdirection){case"vertical":Qt="h",St=Oe?tr/2:0,Ft=tr;break;case"horizontal":Qt="v",St=Oe?Ht/2:0,Ft=Ht;break;case"ortho":Yt<Jt?(Qt="h",St=Dt,Ft=it):(Qt="v",St=Ct,Ft=It);break;default:Qt="d"}Qt==="h"?(Fe=ft?c(Oe,[It,St],[It,Ft]):[[Ct,St],[Ct,Ft],[It,Ft],[It,St]],Fe.xmin=ft?It:Math.min(Ct,It),Fe.xmax=ft?It:Math.max(Ct,It),Fe.ymin=Math.min(St,Ft),Fe.ymax=Math.max(St,Ft),ut.attr("d","M"+Fe.xmin+","+(Dt-ae)+"h-4v"+2*ae+"h4ZM"+(Fe.xmax-1)+","+(Dt-ae)+"h4v"+2*ae+"h-4Z")):Qt==="v"?(Fe=ft?c(Oe,[St,it],[Ft,it]):[[St,Dt],[St,it],[Ft,it],[Ft,Dt]],Fe.xmin=Math.min(St,Ft),Fe.xmax=Math.max(St,Ft),Fe.ymin=ft?it:Math.min(Dt,it),Fe.ymax=ft?it:Math.max(Dt,it),ut.attr("d","M"+(Ct-ae)+","+Fe.ymin+"v-4h"+2*ae+"v4ZM"+(Ct-ae)+","+(Fe.ymax-1)+"v4h"+2*ae+"v-4Z")):Qt==="d"&&(Fe=ft?c(Oe,[Ct,Dt],[It,it]):[[Ct,Dt],[Ct,it],[It,it],[It,Dt]],Fe.xmin=Math.min(Ct,It),Fe.xmax=Math.max(Ct,It),Fe.ymin=Math.min(Dt,it),Fe.ymax=Math.max(Dt,it),ut.attr("d","M0,0Z"))}else Me&&(ne.addPt([It,it]),Fe=ne.filtered);if($.selectionDefs&&$.selectionDefs.length?(ze=ge($.mergedPolygons,Fe,or),Fe.subtract=or,ee=S($.selectionDefs.concat([Fe]))):(ze=[Fe],ee=D(Fe)),g(Ee(ze,Ie),Be,$),Je){var rr=Te(vt,!1),vr=rr.eventData?rr.eventData.points.slice():[];rr=Te(vt,!1,ee,mt,$),ee=rr.selectionTesters,Xe=rr.eventData;var mr;ne?mr=ne.filtered:mr=ht(ze),L.throttle(rt,q.SELECTDELAY,function(){Tt=we(ee,mt);for(var ir=Tt.slice(),fr=0;fr<vr.length;fr++){for(var hr=vr[fr],yr=!1,br=0;br<ir.length;br++)if(ir[br].curveNumber===hr.curveNumber&&ir[br].pointNumber===hr.pointNumber){yr=!0;break}yr||ir.push(hr)}ir.length&&(Xe||(Xe={}),Xe.points=ir),ct(Xe,mr),wt(vt,Xe)})}},$.clickFn=function(Rt,Mt){if(ut.remove(),vt._fullLayout._activeShapeIndex>=0){vt._fullLayout._deactivateShape(vt);return}if(!_e){var Yt=xt.clickmode;L.done(rt).then(function(){if(L.clear(rt),Rt===2){for(Be.remove(),Ue=0;Ue<mt.length;Ue++)Ze=mt[Ue],Ze._module.selectPoints(Ze,!1);if(ke(vt,mt),Y($),kt(vt),mt.length){var Jt=mt[0].xaxis,Qt=mt[0].yaxis;if(Jt&&Qt){for(var St=[],Ft=vt._fullLayout.selections,lr=0;lr<Ft.length;lr++){var rr=Ft[lr];rr&&(rr.xref!==Jt._id||rr.yref!==Qt._id)&&St.push(rr)}St.length<Ft.length&&(vt._fullLayout._noEmitSelectedAtStart=!0,l.call("_guiRelayout",vt,{selections:St}))}}}else Yt.indexOf("select")>-1&&ye(Mt,vt,$.xaxes,$.yaxes,$.subplot,$,Be),Yt==="event"&&Lt(vt,void 0);f.click(vt,Mt)}).catch(C.error)}},$.doneFn=function(){ut.remove(),L.done(rt).then(function(){L.clear(rt),!zt&&Fe&&$.selectionDefs&&(Fe.subtract=or,$.selectionDefs.push(Fe),$.mergedPolygons.length=0,[].push.apply($.mergedPolygons,ze)),(zt||_e)&&Y($,zt),$.doneFnCompleted&&$.doneFnCompleted(Tt),Je&&Lt(vt,Xe)}).catch(C.error)}}function ye(Ce,Ae,Pe,$,fe,pe,Me){var Ge=Ae._hoverdata,Ie=Ae._fullLayout,_e=Ie.clickmode,Je=_e.indexOf("event")>-1,Qe=[],Oe,ft,vt,xt,zt,Vt,Ut,Nt,Gt,Ct;if(K(Ge)){P(Ce,Ae,pe),Oe=J(Ae,Pe,$,fe);var Dt=ie(Ge,Oe),_t=Dt.pointNumbers.length>0;if(_t?he(Oe,Dt):Le(Oe)&&(Ut=ve(Dt))){for(Me&&Me.remove(),Ct=0;Ct<Oe.length;Ct++)ft=Oe[Ct],ft._module.selectPoints(ft,!1);ke(Ae,Oe),Y(pe),Je&&kt(Ae)}else{Nt=Ce.shiftKey&&(Ut!==void 0?Ut:ve(Dt)),vt=Se(Dt.pointNumber,Dt.searchInfo,Nt);var Wt=pe.selectionDefs.concat([vt]);for(xt=S(Wt),Ct=0;Ct<Oe.length;Ct++)if(zt=Oe[Ct]._module.selectPoints(Oe[Ct],xt),Vt=be(zt,Oe[Ct]),Qe.length)for(var Bt=0;Bt<Vt.length;Bt++)Qe.push(Vt[Bt]);else Qe=Vt;if(Gt={points:Qe},ke(Ae,Oe,Gt),vt&&pe&&pe.selectionDefs.push(vt),Me){var It=pe.mergedPolygons,it=m(pe.dragmode);g(Ee(It,it),Me,pe)}Je&&Lt(Ae,Gt)}}}function Se(Ce,Ae,Pe){return{pointNumber:Ce,searchInfo:Ae,subtract:!!Pe}}function ce(Ce){return"pointNumber"in Ce&&"searchInfo"in Ce}function de(Ce){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Ae,Pe,$,fe){var pe=Ce.searchInfo.cd[0].trace._expandedIndex,Me=fe.cd[0].trace._expandedIndex;return Me===pe&&$===Ce.pointNumber},isRect:!1,degenerate:!1,subtract:!!Ce.subtract}}function S(Ce){if(!Ce.length)return;for(var Ae=[],Pe=ce(Ce[0])?0:Ce[0][0][0],$=Pe,fe=ce(Ce[0])?0:Ce[0][0][1],pe=fe,Me=0;Me<Ce.length;Me++)if(ce(Ce[Me]))Ae.push(de(Ce[Me]));else{var Ge=D(Ce[Me]);Ge.subtract=!!Ce[Me].subtract,Ae.push(Ge),Pe=Math.min(Pe,Ge.xmin),$=Math.max($,Ge.xmax),fe=Math.min(fe,Ge.ymin),pe=Math.max(pe,Ge.ymax)}function Ie(_e,Je,Qe,Oe){for(var ft=!1,vt=0;vt<Ae.length;vt++)Ae[vt].contains(_e,Je,Qe,Oe)&&(ft=!Ae[vt].subtract);return ft}return{xmin:Pe,xmax:$,ymin:fe,ymax:pe,pts:[],contains:Ie,isRect:!1,degenerate:!1}}function P(Ce,Ae,Pe){var $=Ae._fullLayout,fe=Pe.plotinfo,pe=Pe.dragmode,Me=$._lastSelectedSubplot&&$._lastSelectedSubplot===fe.id,Ge=(Ce.shiftKey||Ce.altKey)&&!(p(pe)&&m(pe));Me&&Ge&&fe.selection&&fe.selection.selectionDefs&&!Pe.selectionDefs?(Pe.selectionDefs=fe.selection.selectionDefs,Pe.mergedPolygons=fe.selection.mergedPolygons):(!Ge||!fe.selection)&&Y(Pe),Me||(M(Ae),$._lastSelectedSubplot=fe.id)}function k(Ce){return Ce._fullLayout._activeShapeIndex>=0}function z(Ce){return Ce._fullLayout._activeSelectionIndex>=0}function Y(Ce,Ae){var Pe=Ce.dragmode,$=Ce.plotinfo,fe=Ce.gd;k(fe)&&fe._fullLayout._deactivateShape(fe),z(fe)&&fe._fullLayout._deactivateSelection(fe);var pe=fe._fullLayout,Me=pe._zoomlayer,Ge=p(Pe),Ie=y(Pe);if(Ge||Ie){var _e=Me.selectAll(".select-outline-"+$.id);if(_e&&fe._fullLayout._outlining){var Je;Ge&&(Je=b(_e,Ce)),Je&&l.call("_guiRelayout",fe,{shapes:Je});var Qe;Ie&&!ue(Ce)&&(Qe=w(_e,Ce)),Qe&&(fe._fullLayout._noEmitSelectedAtStart=!0,l.call("_guiRelayout",fe,{selections:Qe}).then(function(){Ae&&B(fe)})),fe._fullLayout._outlining=!1}}$.selection={},$.selection.selectionDefs=Ce.selectionDefs=[],$.selection.mergedPolygons=Ce.mergedPolygons=[]}function F(Ce){return Ce._id}function J(Ce,Ae,Pe,$){if(!Ce.calcdata)return[];var fe=[],pe=Ae.map(F),Me=Pe.map(F),Ge,Ie,_e;for(_e=0;_e<Ce.calcdata.length;_e++)if(Ge=Ce.calcdata[_e],Ie=Ge[0].trace,!(Ie.visible!==!0||!Ie._module||!Ie._module.selectPoints))if(ue({subplot:$})&&(Ie.subplot===$||Ie.geo===$))fe.push(E(Ie._module,Ge,Ae[0],Pe[0]));else if(Ie.type==="splom"){if(Ie._xaxes[pe[0]]&&Ie._yaxes[Me[0]]){var Je=E(Ie._module,Ge,Ae[0],Pe[0]);Je.scene=Ce._fullLayout._splomScenes[Ie.uid],fe.push(Je)}}else if(Ie.type==="sankey"){var Qe=E(Ie._module,Ge,Ae[0],Pe[0]);fe.push(Qe)}else{if(pe.indexOf(Ie.xaxis)===-1||Me.indexOf(Ie.yaxis)===-1)continue;fe.push(E(Ie._module,Ge,X(Ce,Ie.xaxis),X(Ce,Ie.yaxis)))}return fe}function E(Ce,Ae,Pe,$){return{_module:Ce,cd:Ae,xaxis:Pe,yaxis:$}}function K(Ce){return Ce&&Array.isArray(Ce)&&Ce[0].hoverOnBox!==!0}function ie(Ce,Ae){var Pe=Ce[0],$=-1,fe=[],pe,Me;for(Me=0;Me<Ae.length;Me++)if(pe=Ae[Me],Pe.fullData._expandedIndex===pe.cd[0].trace._expandedIndex){if(Pe.hoverOnBox===!0)break;Pe.pointNumber!==void 0?$=Pe.pointNumber:Pe.binNumber!==void 0&&($=Pe.binNumber,fe=Pe.pointNumbers);break}return{pointNumber:$,pointNumbers:fe,searchInfo:pe}}function ve(Ce){var Ae=Ce.searchInfo.cd[0].trace,Pe=Ce.pointNumber,$=Ce.pointNumbers,fe=$.length>0,pe=fe?$[0]:Pe;return Ae.selectedpoints?Ae.selectedpoints.indexOf(pe)>-1:!1}function he(Ce,Ae){var Pe=[],$,fe,pe,Me;for(Me=0;Me<Ce.length;Me++)$=Ce[Me],$.cd[0].trace.selectedpoints&&$.cd[0].trace.selectedpoints.length>0&&Pe.push($);if(Pe.length===1&&(pe=Pe[0]===Ae.searchInfo,pe&&(fe=Ae.searchInfo.cd[0].trace,fe.selectedpoints.length===Ae.pointNumbers.length))){for(Me=0;Me<Ae.pointNumbers.length;Me++)if(fe.selectedpoints.indexOf(Ae.pointNumbers[Me])<0)return!1;return!0}return!1}function Le(Ce){var Ae=0,Pe,$,fe;for(fe=0;fe<Ce.length;fe++)if(Pe=Ce[fe],$=Pe.cd[0].trace,$.selectedpoints&&($.selectedpoints.length>1||(Ae+=$.selectedpoints.length,Ae>1)))return!1;return Ae===1}function ke(Ce,Ae,Pe){var $;for($=0;$<Ae.length;$++){var fe=Ae[$].cd[0].trace._fullInput,pe=Ce._fullLayout._tracePreGUI[fe.uid]||{};pe.selectedpoints===void 0&&(pe.selectedpoints=fe._input.selectedpoints||null)}var Me;if(Pe){var Ge=Pe.points||[];for($=0;$<Ae.length;$++)Me=Ae[$].cd[0].trace,Me._input.selectedpoints=Me._fullInput.selectedpoints=[],Me._fullInput!==Me&&(Me.selectedpoints=[]);for(var Ie=0;Ie<Ge.length;Ie++){var _e=Ge[Ie],Je=_e.data,Qe=_e.fullData,Oe=_e.pointIndex,ft=_e.pointIndices;ft?([].push.apply(Je.selectedpoints,ft),Me._fullInput!==Me&&[].push.apply(Qe.selectedpoints,ft)):(Je.selectedpoints.push(Oe),Me._fullInput!==Me&&Qe.selectedpoints.push(Oe))}}else for($=0;$<Ae.length;$++)Me=Ae[$].cd[0].trace,delete Me.selectedpoints,delete Me._input.selectedpoints,Me._fullInput!==Me&&delete Me._fullInput.selectedpoints;se(Ce,Ae)}function se(Ce,Ae){for(var Pe=!1,$=0;$<Ae.length;$++){var fe=Ae[$],pe=fe.cd;l.traceIs(pe[0].trace,"regl")&&(Pe=!0);var Me=fe._module,Ge=Me.styleOnSelect||Me.style;Ge&&(Ge(Ce,pe,pe[0].node3),pe[0].nodeRangePlot3&&Ge(Ce,pe,pe[0].nodeRangePlot3))}Pe&&(Z(Ce),te(Ce))}function ge(Ce,Ae,Pe){for(var $=Pe?o.difference:o.union,fe=$({regions:Ce},{regions:[Ae]}),pe=fe.regions.reverse(),Me=0;Me<pe.length;Me++){var Ge=pe[Me];Ge.subtract=nt(Ge,pe.slice(0,Me))}return pe}function be(Ce,Ae){if(Array.isArray(Ce))for(var Pe=Ae.cd,$=Ae.cd[0].trace,fe=0;fe<Ce.length;fe++)Ce[fe]=s(Ce[fe],$,Pe);return Ce}function Ee(Ce,Ae){for(var Pe=[],$=0;$<Ce.length;$++){Pe[$]=[];for(var fe=0;fe<Ce[$].length;fe++){Pe[$][fe]=[],Pe[$][fe][0]=fe?"L":"M";for(var pe=0;pe<Ce[$][fe].length;pe++)Pe[$][fe].push(Ce[$][fe][pe])}Ae||Pe[$].push(["Z",Pe[$][0][1],Pe[$][0][2]])}return Pe}function we(Ce,Ae){for(var Pe=[],$,fe,pe=0;pe<Ae.length;pe++){var Me=Ae[pe];fe=Me._module.selectPoints(Me,Ce),$=be(fe,Me),Pe=Pe.concat($)}return Pe}function Te(Ce,Ae,Pe,$,fe){var pe=!!$,Me,Ge,Ie;fe&&(Me=fe.plotinfo,Ge=fe.xaxes[0]._id,Ie=fe.yaxes[0]._id);var _e=[],Je=[],Qe=st(Ce),Oe=Ce._fullLayout;if(Me){var ft=Oe._zoomlayer,vt=Oe.dragmode,xt=p(vt),zt=y(vt);if(xt||zt){var Vt=X(Ce,Ge,"x"),Ut=X(Ce,Ie,"y");if(Vt&&Ut){var Nt=ft.selectAll(".select-outline-"+Me.id);if(Nt&&Ce._fullLayout._outlining&&Nt.length){for(var Gt=Nt[0][0],Ct=Gt.getAttribute("d"),Dt=u(Ct,Ce,Me),_t=[],Wt=0;Wt<Dt.length;Wt++){for(var Bt=Dt[Wt],It=[],it=0;it<Bt.length;it++)It.push([dt(Vt,Bt[it][1]),dt(Ut,Bt[it][2])]);It.xref=Ge,It.yref=Ie,It.subtract=nt(It,_t),_t.push(It)}Qe=Qe.concat(_t)}}}}var Ot=Ge&&Ie?[Ge+Ie]:Oe._subplots.cartesian;Ne(Ce);for(var Xt={},nr=0;nr<Ot.length;nr++){var Ht=Ot[nr],tr=Ht.indexOf("y"),or=Ht.slice(0,tr),ne=Ht.slice(tr),ee=Ge&&Ie?Pe:void 0;if(ee=He(Qe,or,ne,ee),ee){var ze=$;if(!pe){var Fe=X(Ce,or,"x"),Ue=X(Ce,ne,"y");ze=J(Ce,[Fe],[Ue],Ht);for(var Ze=0;Ze<ze.length;Ze++){var Xe=ze[Ze],Be=Xe.cd[0],Ye=Be.trace;if(Xe._module.name==="scattergl"&&!Be.t.xpx){var qe=Ye.x,tt=Ye.y,ut=Ye._length;Be.t.xpx=[],Be.t.ypx=[];for(var rt=0;rt<ut;rt++)Be.t.xpx[rt]=Fe.c2p(qe[rt]),Be.t.ypx[rt]=Ue.c2p(tt[rt])}Xe._module.name==="splom"&&(Xt[Ye.uid]||(Xt[Ye.uid]=!0))}}var Tt=we(ee,ze);_e=_e.concat(Tt),Je=Je.concat(ze)}}var mt={points:_e};ke(Ce,Je,mt);var ct=Oe.clickmode,Rt=ct.indexOf("event")>-1&&Ae;if(!Me&&Ae){var Mt=st(Ce,!0);if(Mt.length){var Yt=Mt[0].xref,Jt=Mt[0].yref;if(Yt&&Jt){var Qt=ht(Mt),St=bt([X(Ce,Yt,"x"),X(Ce,Jt,"y")]);St(mt,Qt)}}Ce._fullLayout._noEmitSelectedAtStart?Ce._fullLayout._noEmitSelectedAtStart=!1:Rt&&Lt(Ce,mt),Oe._reselect=!1}if(!Me&&Oe._deselect){var Ft=Oe._deselect;Ge=Ft.xref,Ie=Ft.yref,$e(Ge,Ie,Je)||je(Ce,Ge,Ie,$),Rt&&(mt.points.length?Lt(Ce,mt):kt(Ce)),Oe._deselect=!1}return{eventData:mt,selectionTesters:Pe}}function Ne(Ce){var Ae=Ce.calcdata;if(Ae)for(var Pe=0;Pe<Ae.length;Pe++){var $=Ae[Pe][0],fe=$.trace,pe=Ce._fullLayout._splomScenes;if(pe){var Me=pe[fe.uid];Me&&(Me.selectBatch=[])}}}function $e(Ce,Ae,Pe){for(var $=0;$<Pe.length;$++){var fe=Pe[$];if(fe.xaxis&&fe.xaxis._id===Ce&&fe.yaxis&&fe.yaxis._id===Ae)return!0}return!1}function je(Ce,Ae,Pe,$){$=J(Ce,[X(Ce,Ae,"x")],[X(Ce,Pe,"y")],Ae+Pe);for(var fe=0;fe<$.length;fe++){var pe=$[fe];pe._module.selectPoints(pe,!1)}ke(Ce,$)}function He(Ce,Ae,Pe,$){for(var fe,pe=0;pe<Ce.length;pe++){var Me=Ce[pe];if(!(Ae!==Me.xref||Pe!==Me.yref))if(fe){var Ge=!!Me.subtract;fe=ge(fe,Me,Ge),$=S(fe)}else fe=[Me],$=D(Me)}return $}function st(Ce,Ae){for(var Pe=[],$=Ce._fullLayout,fe=$.selections,pe=fe.length,Me=0;Me<pe;Me++)if(!(Ae&&Me!==$._activeSelectionIndex)){var Ge=fe[Me];if(Ge){var Ie=Ge.xref,_e=Ge.yref,Je=X(Ce,Ie,"x"),Qe=X(Ce,_e,"y"),Oe,ft,vt,xt,zt;if(Ge.type==="rect"){zt=[];var Vt=dt(Je,Ge.x0),Ut=dt(Je,Ge.x1),Nt=dt(Qe,Ge.y0),Gt=dt(Qe,Ge.y1);zt=[[Vt,Nt],[Vt,Gt],[Ut,Gt],[Ut,Nt]],Oe=Math.min(Vt,Ut),ft=Math.max(Vt,Ut),vt=Math.min(Nt,Gt),xt=Math.max(Nt,Gt),zt.xmin=Oe,zt.xmax=ft,zt.ymin=vt,zt.ymax=xt,zt.xref=Ie,zt.yref=_e,zt.subtract=!1,zt.isRect=!0,Pe.push(zt)}else if(Ge.type==="path")for(var Ct=Ge.path.split("Z"),Dt=[],_t=0;_t<Ct.length;_t++){var Wt=Ct[_t];if(Wt){Wt+="Z";var Bt=h.extractPathCoords(Wt,T.paramIsX,"raw"),It=h.extractPathCoords(Wt,T.paramIsY,"raw");Oe=1/0,ft=-1/0,vt=1/0,xt=-1/0,zt=[];for(var it=0;it<Bt.length;it++){var Ot=dt(Je,Bt[it]),Xt=dt(Qe,It[it]);zt.push([Ot,Xt]),Oe=Math.min(Ot,Oe),ft=Math.max(Ot,ft),vt=Math.min(Xt,vt),xt=Math.max(Xt,xt)}zt.xmin=Oe,zt.xmax=ft,zt.ymin=vt,zt.ymax=xt,zt.xref=Ie,zt.yref=_e,zt.subtract=nt(zt,Dt),Dt.push(zt),Pe.push(zt)}}}}return Pe}function nt(Ce,Ae){for(var Pe=!1,$=0;$<Ae.length;$++)for(var fe=Ae[$],pe=0;pe<Ce.length;pe++)if(x(Ce[pe],fe)){Pe=!Pe;break}return Pe}function dt(Ce,Ae){return Ce.type==="date"&&(Ae=Ae.replace("_"," ")),Ce.type==="log"?Ce.c2p(Ae):Ce.r2p(Ae,null,Ce.calendar)}function ht(Ce){for(var Ae=Ce.length,Pe=[],$=0;$<Ae;$++){var fe=Ce[$];Pe=Pe.concat(fe),Pe=Pe.concat([fe[0]])}return Pt(Pe)}function Pt(Ce){return Ce.isRect=Ce.length===5&&Ce[0][0]===Ce[4][0]&&Ce[0][1]===Ce[4][1]&&Ce[0][0]===Ce[1][0]&&Ce[2][0]===Ce[3][0]&&Ce[0][1]===Ce[3][1]&&Ce[1][1]===Ce[2][1]||Ce[0][1]===Ce[1][1]&&Ce[2][1]===Ce[3][1]&&Ce[0][0]===Ce[3][0]&&Ce[1][0]===Ce[2][0],Ce.isRect&&(Ce.xmin=Math.min(Ce[0][0],Ce[2][0]),Ce.xmax=Math.max(Ce[0][0],Ce[2][0]),Ce.ymin=Math.min(Ce[0][1],Ce[2][1]),Ce.ymax=Math.max(Ce[0][1],Ce[2][1])),Ce}function bt(Ce){return function(Ae,Pe){for(var $,fe,pe=0;pe<Ce.length;pe++){var Me=Ce[pe],Ge=Me._id,Ie=Ge.charAt(0);if(Pe.isRect){$||($={});var _e=Pe[Ie+"min"],Je=Pe[Ie+"max"];_e!==void 0&&Je!==void 0&&($[Ge]=[V(Me,_e),V(Me,Je)].sort(I))}else fe||(fe={}),fe[Ge]=Pe.map(G(Me))}$&&(Ae.range=$),fe&&(Ae.lassoPoints=fe)}}function At(Ce){var Ae=Ce.plotinfo;return Ae.fillRangeItems||bt(Ce.xaxes.concat(Ce.yaxes))}function wt(Ce,Ae){Ce.emit("plotly_selecting",Ae)}function Lt(Ce,Ae){Ae&&(Ae.selections=(Ce.layout||{}).selections||[]),Ce.emit("plotly_selected",Ae)}function kt(Ce){Ce.emit("plotly_deselect",null)}re.exports={reselect:Te,prepSelect:le,clearOutline:M,clearSelectionsCache:Y,selectOnClick:ye}},9827:function(re,H,e){var o=e(215),x=e(1940),l=e(2196).line,i=e(9952).P,r=e(1426).extendFlat,f=e(4467).templatedArray;e(4695);var s=e(5386).R,n=e(7281);re.exports=f("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:r({},o.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:r({},o.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:r({},l.color,{editType:"arraydraw"}),width:r({},l.width,{editType:"calc+arraydraw"}),dash:r({},i,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:s({},{keys:Object.keys(n)}),font:x({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(re,H,e){var o=e(1828),x=e(9298),l=e(1459),i=e(477);re.exports=function(d){var p=d._fullLayout,m=o.filterVisible(p.shapes);if(!(!m.length||!d._fullData.length))for(var y=0;y<m.length;y++){var h=m[y];h._extremes={};var T,g,M=x.getRefType(h.xref),v=x.getRefType(h.yref);if(h.xref!=="paper"&&M!=="domain"){var c=h.xsizemode==="pixel"?h.xanchor:h.x0,u=h.xsizemode==="pixel"?h.xanchor:h.x1;T=x.getFromId(d,h.xref),g=n(T,c,u,h.path,l.paramIsX),g&&(h._extremes[T._id]=x.findExtremes(T,g,r(h)))}if(h.yref!=="paper"&&v!=="domain"){var b=h.ysizemode==="pixel"?h.yanchor:h.y0,w=h.ysizemode==="pixel"?h.yanchor:h.y1;T=x.getFromId(d,h.yref),g=n(T,b,w,h.path,l.paramIsY),g&&(h._extremes[T._id]=x.findExtremes(T,g,f(h)))}}};function r(t){return s(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function f(t){return s(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function s(t,d,p,m,y,h){var T=t/2,g=h;if(d==="pixel"){var M=y?i.extractPathCoords(y,h?l.paramIsY:l.paramIsX):[p,m],v=o.aggNums(Math.max,null,M),c=o.aggNums(Math.min,null,M),u=c<0?Math.abs(c)+T:T,b=v>0?v+T:T;return{ppad:T,ppadplus:g?u:b,ppadminus:g?b:u}}else return{ppad:T}}function n(t,d,p,m,y){var h=t.type==="category"||t.type==="multicategory"?t.r2c:t.d2c;if(d!==void 0)return[h(d),h(p)];if(m){var T=1/0,g=-1/0,M=m.match(l.segmentRE),v,c,u,b,w;for(t.type==="date"&&(h=i.decodeDate(h)),v=0;v<M.length;v++)c=M[v],u=y[c.charAt(0)].drawn,u!==void 0&&(b=M[v].substr(1).match(l.paramRE),!(!b||b.length<u)&&(w=h(b[u]),w<T&&(T=w),w>g&&(g=w)));if(g>=T)return[T,g]}}},1459:function(re){re.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},4726:function(re,H,e){var o=e(1828),x=e(9298),l=e(5501),i=e(9827),r=e(477);re.exports=function(t,d){l(t,d,{name:"shapes",handleItemDefaults:s})};function f(n,t){return n?"bottom":t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle"}function s(n,t,d){function p(Se,ce){return o.coerce(n,t,i,Se,ce)}var m=p("visible");if(m){var y=p("path"),h=y?"path":"rect",T=p("type",h),g=T!=="path";g&&delete t.path,p("editable"),p("layer"),p("opacity"),p("fillcolor"),p("fillrule");var M=p("line.width");M&&(p("line.color"),p("line.dash"));for(var v=p("xsizemode"),c=p("ysizemode"),u=["x","y"],b=0;b<2;b++){var w=u[b],B=w+"anchor",C=w==="x"?v:c,I={_fullLayout:d},O,L,X,Z=x.coerceRef(n,t,I,w,void 0,"paper"),te=x.getRefType(Z);if(te==="range"?(O=x.getFromId(I,Z),O._shapeIndices.push(t._index),X=r.rangeToShapePosition(O),L=r.shapePositionToRange(O)):L=X=o.identity,g){var q=.25,ae=.75,N=w+"0",D=w+"1",_=n[N],V=n[D];n[N]=L(n[N],!0),n[D]=L(n[D],!0),C==="pixel"?(p(N,0),p(D,10)):(x.coercePosition(t,I,p,Z,N,q),x.coercePosition(t,I,p,Z,D,ae)),t[N]=X(t[N]),t[D]=X(t[D]),n[N]=_,n[D]=V}if(C==="pixel"){var G=n[B];n[B]=L(n[B],!0),x.coercePosition(t,I,p,Z,B,.25),t[B]=X(t[B]),n[B]=G}}g&&o.noneOrAll(n,t,["x0","x1","y0","y1"]);var Q=T==="line",ue,le;if(g&&(ue=p("label.texttemplate")),ue||(le=p("label.text")),le||ue){p("label.textangle");var ye=p("label.textposition",Q?"middle":"middle center");p("label.xanchor"),p("label.yanchor",f(Q,ye)),p("label.padding"),o.coerceFont(p,"label.font",d.font)}}}},2359:function(re,H,e){var o=e(1828),x=o.strTranslate,l=e(8569),i=e(4505),r=i.drawMode,f=i.selectMode,s=e(3972),n=e(7901),t=e(9995),d=t.i000,p=t.i090,m=t.i180,y=t.i270,h=e(1873),T=h.clearOutlineControllers,g=e(165),M=g.pointsOnRectangle,v=g.pointsOnEllipse,c=g.writePaths,u=e(551),b=e(5855);re.exports=function I(O,L,X,Z){Z||(Z=0);var te=X.gd;function q(){I(O,L,X,Z++),(v(O[0])||X.hasText)&&ae({redrawing:!0})}function ae(he){var Le={};X.isActiveShape!==void 0&&(X.isActiveShape=!1,Le=u(L,X)),X.isActiveSelection!==void 0&&(X.isActiveSelection=!1,Le=b(L,X),te._fullLayout._reselect=!0),Object.keys(Le).length&&s.call((he||{}).redrawing?"relayout":"_guiRelayout",te,Le)}var N=te._fullLayout,D=N._zoomlayer,_=X.dragmode,V=r(_),G=f(_);(V||G)&&(te._fullLayout._outlining=!0),T(te),L.attr("d",c(O));var Q,ue,le,ye,Se;if(!Z&&(X.isActiveShape||X.isActiveSelection)){Se=w([],O);var ce=D.append("g").attr("class","outline-controllers");Y(ce),ve()}function de(he){le=+he.srcElement.getAttribute("data-i"),ye=+he.srcElement.getAttribute("data-j"),Q[le][ye].moveFn=S}function S(he,Le){if(O.length){var ke=Se[le][ye][1],se=Se[le][ye][2],ge=O[le],be=ge.length;if(M(ge)){var Ee=he,we=Le;if(X.isActiveSelection){var Te=B(ge,ye);Te[1]===ge[ye][1]?we=0:Ee=0}for(var Ne=0;Ne<be;Ne++)if(Ne!==ye){var $e=ge[Ne];$e[1]===ge[ye][1]&&($e[1]=ke+Ee),$e[2]===ge[ye][2]&&($e[2]=se+we)}if(ge[ye][1]=ke+Ee,ge[ye][2]=se+we,!M(ge))for(var je=0;je<be;je++)for(var He=0;He<ge[je].length;He++)ge[je][He]=Se[le][je][He]}else ge[ye][1]=ke+he,ge[ye][2]=se+Le;q()}}function P(){ae()}function k(){if(O.length&&O[le]&&O[le].length){for(var he=[],Le=0;Le<O[le].length;Le++)Le!==ye&&he.push(O[le][Le]);he.length>1&&!(he.length===2&&he[1][0]==="Z")&&(ye===0&&(he[0][0]="M"),O[le]=he,q(),ae())}}function z(he,Le){if(he===2){le=+Le.srcElement.getAttribute("data-i"),ye=+Le.srcElement.getAttribute("data-j");var ke=O[le];!M(ke)&&!v(ke)&&k()}}function Y(he){Q=[];for(var Le=0;Le<O.length;Le++){var ke=O[Le],se=M(ke),ge=!se&&v(ke);Q[Le]=[];for(var be=ke.length,Ee=0;Ee<be;Ee++)if(ke[Ee][0]!=="Z"&&!(ge&&Ee!==d&&Ee!==p&&Ee!==m&&Ee!==y)){var we=se&&X.isActiveSelection,Te;we&&(Te=B(ke,Ee));var Ne=ke[Ee][1],$e=ke[Ee][2],je=he.append(we?"rect":"circle").attr("data-i",Le).attr("data-j",Ee).style({fill:n.background,stroke:n.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(we){var He=Te[1]-Ne,st=Te[2]-$e,nt=st?5:Math.max(Math.min(25,Math.abs(He)-5),5),dt=He?5:Math.max(Math.min(25,Math.abs(st)-5),5);je.classed(st?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",nt).attr("height",dt).attr("x",Ne-nt/2).attr("y",$e-dt/2).attr("transform",x(He/2,st/2))}else je.classed("cursor-grab",!0).attr("r",5).attr("cx",Ne).attr("cy",$e);Q[Le][Ee]={element:je.node(),gd:te,prepFn:de,doneFn:P,clickFn:z},l.init(Q[Le][Ee])}}}function F(he,Le){if(O.length)for(var ke=0;ke<O.length;ke++)for(var se=0;se<O[ke].length;se++)for(var ge=0;ge+2<O[ke][se].length;ge+=2)O[ke][se][ge+1]=Se[ke][se][ge+1]+he,O[ke][se][ge+2]=Se[ke][se][ge+2]+Le}function J(he,Le){F(he,Le),q()}function E(he){le=+he.srcElement.getAttribute("data-i"),le||(le=0),ue[le].moveFn=J}function K(){ae()}function ie(he){he===2&&C(te)}function ve(){if(ue=[],!!O.length){var he=0;ue[he]={element:L[0][0],gd:te,prepFn:E,doneFn:K,clickFn:ie},l.init(ue[he])}}};function w(I,O){for(var L=0;L<O.length;L++){var X=O[L];I[L]=[];for(var Z=0;Z<X.length;Z++){I[L][Z]=[];for(var te=0;te<X[Z].length;te++)I[L][Z][te]=X[Z][te]}}return I}function B(I,O){var L=I[O][1],X=I[O][2],Z=I.length,te,q,ae;return te=(O+1)%Z,q=I[te][1],ae=I[te][2],q===L&&ae===X&&(te=(O+2)%Z,q=I[te][1],ae=I[te][2]),[te,q,ae]}function C(I){if(f(I._fullLayout.dragmode)){T(I);var O=I._fullLayout._activeSelectionIndex,L=(I.layout||{}).selections||[];if(O<L.length){for(var X=[],Z=0;Z<L.length;Z++)Z!==O&&X.push(L[Z]);delete I._fullLayout._activeSelectionIndex;var te=I._fullLayout.selections[O];I._fullLayout._deselect={xref:te.xref,yref:te.yref},s.call("_guiRelayout",I,{selections:X})}}}},4031:function(re,H,e){var o=e(9898),x=e(3972),l=e(1828),i=e(9298),r=e(165).readPaths,f=e(2359),s=e(1873).clearOutlineControllers,n=e(7901),t=e(1424),d=e(4467).arrayEditor,p=e(8569),m=e(6964),y=e(3893),h=e(1459),T=e(477),g=T.getPathString,M=e(7281),v=e(8783).FROM_TL;re.exports={draw:c,drawOne:w,eraseActiveShape:q,drawLabel:I};function c(ae){var N=ae._fullLayout;N._shapeUpperLayer.selectAll("path").remove(),N._shapeLowerLayer.selectAll("path").remove(),N._shapeUpperLayer.selectAll("text").remove(),N._shapeLowerLayer.selectAll("text").remove();for(var D in N._plots){var _=N._plots[D].shapelayer;_&&(_.selectAll("path").remove(),_.selectAll("text").remove())}for(var V=0;V<N.shapes.length;V++)N.shapes[V].visible&&w(ae,V)}function u(ae){return!!ae._fullLayout._outlining}function b(ae){return!ae._context.edits.shapePosition}function w(ae,N){ae._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+N+'"]').remove();var D=T.makeShapesOptionsAndPlotinfo(ae,N),_=D.options,V=D.plotinfo;if(!_._input||_.visible===!1)return;if(_.layer!=="below")Q(ae._fullLayout._shapeUpperLayer);else if(_.xref==="paper"||_.yref==="paper")Q(ae._fullLayout._shapeLowerLayer);else if(V._hadPlotinfo){var G=V.mainplotinfo||V;Q(G.shapelayer)}else Q(ae._fullLayout._shapeLowerLayer);function Q(ue){var le=g(ae,_),ye={"data-index":N,"fill-rule":_.fillrule,d:le},Se=_.opacity,ce=_.fillcolor,de=_.line.width?_.line.color:"rgba(0,0,0,0)",S=_.line.width,P=_.line.dash;!S&&_.editable===!0&&(S=5,P="solid");var k=le[le.length-1]!=="Z",z=b(ae)&&_.editable&&ae._fullLayout._activeShapeIndex===N;z&&(ce=k?"rgba(0,0,0,0)":ae._fullLayout.activeshape.fillcolor,Se=ae._fullLayout.activeshape.opacity);var Y=ue.append("g").classed("shape-group",!0).attr({"data-index":N}),F=Y.append("path").attr(ye).style("opacity",Se).call(n.stroke,de).call(n.fill,ce).call(t.dashLine,P,S);B(Y,ae,_),I(ae,N,_,Y);var J;if((z||ae._context.edits.shapePosition)&&(J=d(ae.layout,"shapes",_)),z){F.style({cursor:"move"});var E={element:F.node(),plotinfo:V,gd:ae,editHelpers:J,hasText:_.label.text||_.label.texttemplate,isActiveShape:!0},K=r(le,ae);f(K,F,E)}else ae._context.edits.shapePosition?C(ae,F,_,N,ue,J):_.editable===!0&&F.style("pointer-events",k||n.opacity(ce)*Se<=.5?"stroke":"all");F.node().addEventListener("click",function(){return Z(ae,F)})}}function B(ae,N,D){var _=(D.xref+D.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");t.setClipUrl(ae,_?"clip"+N._fullLayout._uid+_:null,N)}function C(ae,N,D,_,V,G){var Q=10,ue=10,le=D.xsizemode==="pixel",ye=D.ysizemode==="pixel",Se=D.type==="line",ce=D.type==="path",de=G.modifyItem,S,P,k,z,Y,F,J,E,K,ie,ve,he,Le,ke,se,ge=o.select(N.node().parentNode),be=i.getFromId(ae,D.xref),Ee=i.getRefType(D.xref),we=i.getFromId(ae,D.yref),Te=i.getRefType(D.yref),Ne=T.getDataToPixel(ae,be,!1,Ee),$e=T.getDataToPixel(ae,we,!0,Te),je=T.getPixelToData(ae,be,!1,Ee),He=T.getPixelToData(ae,we,!0,Te),st=ht(),nt={element:st.node(),gd:ae,prepFn:At,doneFn:wt,clickFn:Lt},dt;p.init(nt),st.node().onmousemove=bt;function ht(){return Se?Pt():N}function Pt(){var fe=10,pe=Math.max(D.line.width,fe),Me=V.append("g").attr("data-index",_).attr("drag-helper",!0);Me.append("path").attr("d",N.attr("d")).style({cursor:"move","stroke-width":pe,"stroke-opacity":"0"});var Ge={"fill-opacity":"0"},Ie=Math.max(pe/2,fe);return Me.append("circle").attr({"data-line-point":"start-point",cx:le?Ne(D.xanchor)+D.x0:Ne(D.x0),cy:ye?$e(D.yanchor)-D.y0:$e(D.y0),r:Ie}).style(Ge).classed("cursor-grab",!0),Me.append("circle").attr({"data-line-point":"end-point",cx:le?Ne(D.xanchor)+D.x1:Ne(D.x1),cy:ye?$e(D.yanchor)-D.y1:$e(D.y1),r:Ie}).style(Ge).classed("cursor-grab",!0),Me}function bt(fe){if(u(ae)){dt=null;return}if(Se)fe.target.tagName==="path"?dt="move":dt=fe.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var pe=nt.element.getBoundingClientRect(),Me=pe.right-pe.left,Ge=pe.bottom-pe.top,Ie=fe.clientX-pe.left,_e=fe.clientY-pe.top,Je=!ce&&Me>Q&&Ge>ue&&!fe.shiftKey?p.getCursor(Ie/Me,1-_e/Ge):"move";m(N,Je),dt=Je.split("-")[0]}}function At(fe){u(ae)||(le&&(Y=Ne(D.xanchor)),ye&&(F=$e(D.yanchor)),D.type==="path"?se=D.path:(S=le?D.x0:Ne(D.x0),P=ye?D.y0:$e(D.y0),k=le?D.x1:Ne(D.x1),z=ye?D.y1:$e(D.y1)),S<k?(K=S,Le="x0",ie=k,ke="x1"):(K=k,Le="x1",ie=S,ke="x0"),!ye&&P<z||ye&&P>z?(J=P,ve="y0",E=z,he="y1"):(J=z,ve="y1",E=P,he="y0"),bt(fe),Ae(V,D),$(N,D,ae),nt.moveFn=dt==="move"?kt:Ce,nt.altKey=fe.altKey)}function wt(){u(ae)||(m(N),Pe(V),B(N,ae,D),x.call("_guiRelayout",ae,G.getUpdateObj()))}function Lt(){u(ae)||Pe(V)}function kt(fe,pe){if(D.type==="path"){var Me=function(_e){return _e},Ge=Me,Ie=Me;le?de("xanchor",D.xanchor=je(Y+fe)):(Ge=function(Je){return je(Ne(Je)+fe)},be&&be.type==="date"&&(Ge=T.encodeDate(Ge))),ye?de("yanchor",D.yanchor=He(F+pe)):(Ie=function(Je){return He($e(Je)+pe)},we&&we.type==="date"&&(Ie=T.encodeDate(Ie))),de("path",D.path=X(se,Ge,Ie))}else le?de("xanchor",D.xanchor=je(Y+fe)):(de("x0",D.x0=je(S+fe)),de("x1",D.x1=je(k+fe))),ye?de("yanchor",D.yanchor=He(F+pe)):(de("y0",D.y0=He(P+pe)),de("y1",D.y1=He(z+pe)));N.attr("d",g(ae,D)),Ae(V,D),I(ae,_,D,ge)}function Ce(fe,pe){if(ce){var Me=function(Dt){return Dt},Ge=Me,Ie=Me;le?de("xanchor",D.xanchor=je(Y+fe)):(Ge=function(_t){return je(Ne(_t)+fe)},be&&be.type==="date"&&(Ge=T.encodeDate(Ge))),ye?de("yanchor",D.yanchor=He(F+pe)):(Ie=function(_t){return He($e(_t)+pe)},we&&we.type==="date"&&(Ie=T.encodeDate(Ie))),de("path",D.path=X(se,Ge,Ie))}else if(Se){if(dt==="resize-over-start-point"){var _e=S+fe,Je=ye?P-pe:P+pe;de("x0",D.x0=le?_e:je(_e)),de("y0",D.y0=ye?Je:He(Je))}else if(dt==="resize-over-end-point"){var Qe=k+fe,Oe=ye?z-pe:z+pe;de("x1",D.x1=le?Qe:je(Qe)),de("y1",D.y1=ye?Oe:He(Oe))}}else{var ft=function(Dt){return dt.indexOf(Dt)!==-1},vt=ft("n"),xt=ft("s"),zt=ft("w"),Vt=ft("e"),Ut=vt?J+pe:J,Nt=xt?E+pe:E,Gt=zt?K+fe:K,Ct=Vt?ie+fe:ie;ye&&(vt&&(Ut=J-pe),xt&&(Nt=E-pe)),(!ye&&Nt-Ut>ue||ye&&Ut-Nt>ue)&&(de(ve,D[ve]=ye?Ut:He(Ut)),de(he,D[he]=ye?Nt:He(Nt))),Ct-Gt>Q&&(de(Le,D[Le]=le?Gt:je(Gt)),de(ke,D[ke]=le?Ct:je(Ct)))}N.attr("d",g(ae,D)),Ae(V,D),I(ae,_,D,ge)}function Ae(fe,pe){(le||ye)&&Me();function Me(){var Ge=pe.type!=="path",Ie=fe.selectAll(".visual-cue").data([0]),_e=1;Ie.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":_e}).classed("visual-cue",!0);var Je=Ne(le?pe.xanchor:l.midRange(Ge?[pe.x0,pe.x1]:T.extractPathCoords(pe.path,h.paramIsX))),Qe=$e(ye?pe.yanchor:l.midRange(Ge?[pe.y0,pe.y1]:T.extractPathCoords(pe.path,h.paramIsY)));if(Je=T.roundPositionForSharpStrokeRendering(Je,_e),Qe=T.roundPositionForSharpStrokeRendering(Qe,_e),le&&ye){var Oe="M"+(Je-1-_e)+","+(Qe-1-_e)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Ie.attr("d",Oe)}else if(le){var ft="M"+(Je-1-_e)+","+(Qe-9-_e)+"v18 h2 v-18 Z";Ie.attr("d",ft)}else{var vt="M"+(Je-9-_e)+","+(Qe-1-_e)+"h18 v2 h-18 Z";Ie.attr("d",vt)}}}function Pe(fe){fe.selectAll(".visual-cue").remove()}function $(fe,pe,Me){var Ge=pe.xref,Ie=pe.yref,_e=i.getFromId(Me,Ge),Je=i.getFromId(Me,Ie),Qe="";Ge!=="paper"&&!_e.autorange&&(Qe+=Ge),Ie!=="paper"&&!Je.autorange&&(Qe+=Ie),t.setClipUrl(fe,Qe?"clip"+Me._fullLayout._uid+Qe:null,Me)}}function I(ae,N,D,_){if(_.selectAll(".shape-label").remove(),!!(D.label.text||D.label.texttemplate)){var V;if(D.label.texttemplate){var G={};if(D.type!=="path"){var Q=i.getFromId(ae,D.xref),ue=i.getFromId(ae,D.yref);for(var le in M){var ye=M[le](D,Q,ue);ye!==void 0&&(G[le]=ye)}}V=l.texttemplateStringForShapes(D.label.texttemplate,{},ae._fullLayout._d3locale,G)}else V=D.label.text;var Se={"data-index":N},ce=D.label.font,de={"data-notex":1},S=_.append("g").attr(Se).classed("shape-label",!0),P=S.append("text").attr(de).classed("shape-label-text",!0).text(V),k,z,Y,F;if(D.path){var J=g(ae,D),E=r(J,ae);k=1/0,Y=1/0,z=-1/0,F=-1/0;for(var K=0;K<E.length;K++)for(var ie=0;ie<E[K].length;ie++)for(var ve=E[K][ie],he=1;he<ve.length;he+=2){var Le=ve[he],ke=ve[he+1];k=Math.min(k,Le),z=Math.max(z,Le),Y=Math.min(Y,ke),F=Math.max(F,ke)}}else{var se=i.getFromId(ae,D.xref),ge=i.getRefType(D.xref),be=i.getFromId(ae,D.yref),Ee=i.getRefType(D.yref),we=T.getDataToPixel(ae,se,!1,ge),Te=T.getDataToPixel(ae,be,!0,Ee);k=we(D.x0),z=we(D.x1),Y=Te(D.y0),F=Te(D.y1)}var Ne=D.label.textangle;Ne==="auto"&&(D.type==="line"?Ne=O(k,Y,z,F):Ne=0),P.call(function(dt){return dt.call(t.font,ce).attr({}),y.convertToTspans(dt,ae),dt});var $e=t.bBox(P.node()),je=L(k,Y,z,F,D,Ne,$e),He=je.textx,st=je.texty,nt=je.xanchor;P.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[nt],y:st,x:He,transform:"rotate("+Ne+","+He+","+st+")"}).call(y.positionText,He,st)}}function O(ae,N,D,_){var V,G;return G=Math.abs(D-ae),D>=ae?V=N-_:V=_-N,-180/Math.PI*Math.atan2(V,G)}function L(ae,N,D,_,V,G,Q){var ue=V.label.textposition,le=V.label.textangle,ye=V.label.padding,Se=V.type,ce=Math.PI/180*G,de=Math.sin(ce),S=Math.cos(ce),P=V.label.xanchor,k=V.label.yanchor,z,Y,F,J;if(Se==="line"){ue==="start"?(z=ae,Y=N):ue==="end"?(z=D,Y=_):(z=(ae+D)/2,Y=(N+_)/2),P==="auto"&&(ue==="start"?le==="auto"?D>ae?P="left":D<ae?P="right":P="center":D>ae?P="right":D<ae?P="left":P="center":ue==="end"?le==="auto"?D>ae?P="right":D<ae?P="left":P="center":D>ae?P="left":D<ae?P="right":P="center":P="center");var E={left:1,center:0,right:-1},K={bottom:-1,middle:0,top:1};if(le==="auto"){var ie=K[k];F=-ye*de*ie,J=ye*S*ie}else{var ve=E[P],he=K[k];F=ye*ve,J=ye*he}z=z+F,Y=Y+J}else F=ye+3,ue.indexOf("right")!==-1?(z=Math.max(ae,D)-F,P==="auto"&&(P="right")):ue.indexOf("left")!==-1?(z=Math.min(ae,D)+F,P==="auto"&&(P="left")):(z=(ae+D)/2,P==="auto"&&(P="center")),ue.indexOf("top")!==-1?Y=Math.min(N,_):ue.indexOf("bottom")!==-1?Y=Math.max(N,_):Y=(N+_)/2,J=ye,k==="bottom"?Y=Y-J:k==="top"&&(Y=Y+J);var Le=v[k],ke=V.label.font.size,se=Q.height,ge=(se*Le-ke)*de,be=-(se*Le-ke)*S;return{textx:z+ge,texty:Y+be,xanchor:P}}function X(ae,N,D){return ae.replace(h.segmentRE,function(_){var V=0,G=_.charAt(0),Q=h.paramIsX[G],ue=h.paramIsY[G],le=h.numParams[G],ye=_.substr(1).replace(h.paramRE,function(Se){return V>=le||(Q[V]?Se=N(Se):ue[V]&&(Se=D(Se)),V++),Se});return G+ye})}function Z(ae,N){if(b(ae)){var D=N.node(),_=+D.getAttribute("data-index");if(_>=0){if(_===ae._fullLayout._activeShapeIndex){te(ae);return}ae._fullLayout._activeShapeIndex=_,ae._fullLayout._deactivateShape=te,c(ae)}}}function te(ae){if(b(ae)){var N=ae._fullLayout._activeShapeIndex;N>=0&&(s(ae),delete ae._fullLayout._activeShapeIndex,c(ae))}}function q(ae){if(b(ae)){s(ae);var N=ae._fullLayout._activeShapeIndex,D=(ae.layout||{}).shapes||[];if(N<D.length){for(var _=[],V=0;V<D.length;V++)V!==N&&_.push(D[V]);delete ae._fullLayout._activeShapeIndex,x.call("_guiRelayout",ae,{shapes:_})}}}},9241:function(re,H,e){var o=e(1940),x=e(9952).P,l=e(1426).extendFlat,i=e(5386).R,r=e(7281);re.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:l({},x,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},label:{text:{valType:"string",dflt:"",editType:"none"},texttemplate:i({newshape:!0,editType:"none"},{keys:Object.keys(r)}),font:o({editType:"none"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"none"},textangle:{valType:"angle",dflt:"auto",editType:"none"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"none"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"none"},padding:{valType:"number",dflt:3,min:0,editType:"none"},editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},9995:function(re){var H=32;re.exports={CIRCLE_SIDES:H,i000:0,i090:H/4,i180:H/2,i270:H/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},5547:function(re,H,e){var o=e(7901),x=e(1828);function l(i,r){return i?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}re.exports=function(r,f,s){s("newshape.drawdirection"),s("newshape.layer"),s("newshape.fillcolor"),s("newshape.fillrule"),s("newshape.opacity");var n=s("newshape.line.width");if(n){var t=(r||{}).plot_bgcolor||"#FFF";s("newshape.line.color",o.contrast(t)),s("newshape.line.dash")}var d=r.dragmode==="drawline",p=s("newshape.label.text"),m=s("newshape.label.texttemplate");if(p||m){s("newshape.label.textangle");var y=s("newshape.label.textposition",d?"middle":"middle center");s("newshape.label.xanchor"),s("newshape.label.yanchor",l(d,y)),s("newshape.label.padding"),x.coerceFont(s,"newshape.label.font",f.font)}s("activeshape.fillcolor"),s("activeshape.opacity")}},165:function(re,H,e){var o=e(5616),x=e(9995),l=x.CIRCLE_SIDES,i=x.SQRT2,r=e(5549),f=r.p2r,s=r.r2p,n=[0,3,4,5,6,1,2],t=[0,3,4,1,2];H.writePaths=function(m){var y=m.length;if(!y)return"M0,0Z";for(var h="",T=0;T<y;T++)for(var g=m[T].length,M=0;M<g;M++){var v=m[T][M][0];if(v==="Z")h+="Z";else for(var c=m[T][M].length,u=0;u<c;u++){var b=u;v==="Q"||v==="S"?b=t[u]:v==="C"&&(b=n[u]),h+=m[T][M][b],u>0&&u<c-1&&(h+=",")}}return h},H.readPaths=function(m,y,h,T){var g=o(m),M=[],v=-1,c=function(){v++,M[v]=[]},u,b=0,w=0,B,C,I=function(){B=b,C=w};I();for(var O=0;O<g.length;O++){var L=[],X,Z,te,q,ae=g[O][0],N=ae;switch(ae){case"M":c(),b=+g[O][1],w=+g[O][2],L.push([N,b,w]),I();break;case"Q":case"S":X=+g[O][1],te=+g[O][2],b=+g[O][3],w=+g[O][4],L.push([N,b,w,X,te]);break;case"C":X=+g[O][1],te=+g[O][2],Z=+g[O][3],q=+g[O][4],b=+g[O][5],w=+g[O][6],L.push([N,b,w,X,te,Z,q]);break;case"T":case"L":b=+g[O][1],w=+g[O][2],L.push([N,b,w]);break;case"H":N="L",b=+g[O][1],L.push([N,b,w]);break;case"V":N="L",w=+g[O][1],L.push([N,b,w]);break;case"A":N="L";var D=+g[O][1],_=+g[O][2];+g[O][4]||(D=-D,_=-_);var V=b-D,G=w;for(u=1;u<=l/2;u++){var Q=2*Math.PI*u/l;L.push([N,V+D*Math.cos(Q),G+_*Math.sin(Q)])}break;case"Z":(b!==B||w!==C)&&(b=B,w=C,L.push([N,b,w]));break}for(var ue=(h||{}).domain,le=y._fullLayout._size,ye=h&&h.xsizemode==="pixel",Se=h&&h.ysizemode==="pixel",ce=T===!1,de=0;de<L.length;de++){for(u=0;u+2<7;u+=2){var S=L[de][u+1],P=L[de][u+2];S===void 0||P===void 0||(b=S,w=P,h&&(h.xaxis&&h.xaxis.p2r?(ce&&(S-=h.xaxis._offset),ye?S=s(h.xaxis,h.xanchor)+S:S=f(h.xaxis,S)):(ce&&(S-=le.l),ue?S=ue.x[0]+S/le.w:S=S/le.w),h.yaxis&&h.yaxis.p2r?(ce&&(P-=h.yaxis._offset),Se?P=s(h.yaxis,h.yanchor)-P:P=f(h.yaxis,P)):(ce&&(P-=le.t),ue?P=ue.y[1]-P/le.h:P=1-P/le.h)),L[de][u+1]=S,L[de][u+2]=P)}M[v].push(L[de].slice())}}return M};function d(m,y){return Math.abs(m-y)<=1e-6}function p(m,y){var h=y[1]-m[1],T=y[2]-m[2];return Math.sqrt(h*h+T*T)}H.pointsOnRectangle=function(m){var y=m.length;if(y!==5)return!1;for(var h=1;h<3;h++){var T=m[0][h]-m[1][h],g=m[3][h]-m[2][h];if(!d(T,g))return!1;var M=m[0][h]-m[3][h],v=m[1][h]-m[2][h];if(!d(M,v))return!1}return!d(m[0][1],m[1][1])&&!d(m[0][1],m[3][1])?!1:!!(p(m[0],m[1])*p(m[0],m[3]))},H.pointsOnEllipse=function(m){var y=m.length;if(y!==l+1)return!1;y=l;for(var h=0;h<y;h++){var T=(y*2-h)%y,g=(y/2+T)%y,M=(y/2+h)%y;if(!d(p(m[h],m[M]),p(m[T],m[g])))return!1}return!0},H.handleEllipse=function(m,y,h){if(!m)return[y,h];var T=H.ellipseOver({x0:y[0],y0:y[1],x1:h[0],y1:h[1]}),g=(T.x1+T.x0)/2,M=(T.y1+T.y0)/2,v=(T.x1-T.x0)/2,c=(T.y1-T.y0)/2;v||(v=c=c/i),c||(c=v=v/i);for(var u=[],b=0;b<l;b++){var w=b*2*Math.PI/l;u.push([g+v*Math.cos(w),M+c*Math.sin(w)])}return u},H.ellipseOver=function(m){var y=m.x0,h=m.y0,T=m.x1,g=m.y1,M=T-y,v=g-h;y-=M,h-=v;var c=(y+T)/2,u=(h+g)/2,b=i;return M*=b,v*=b,{x0:c-M,y0:u-v,x1:c+M,y1:u+v}},H.fixDatesForPaths=function(m,y,h){var T=y.type==="date",g=h.type==="date";if(!T&&!g)return m;for(var M=0;M<m.length;M++)for(var v=0;v<m[M].length;v++)for(var c=0;c+2<m[M][v].length;c+=2)T&&(m[M][v][c+1]=m[M][v][c+1].replace(" ","_")),g&&(m[M][v][c+2]=m[M][v][c+2].replace(" ","_"));return m}},551:function(re,H,e){var o=e(4505),x=o.drawMode,l=o.openMode,i=e(9995),r=i.i000,f=i.i090,s=i.i180,n=i.i270,t=i.cos45,d=i.sin45,p=e(5549),m=p.p2r,y=p.r2p,h=e(1873),T=h.clearOutline,g=e(165),M=g.readPaths,v=g.writePaths,c=g.ellipseOver,u=g.fixDatesForPaths;re.exports=function(w,B){if(w.length){var C=w[0][0];if(C){var I=C.getAttribute("d"),O=B.gd,L=O._fullLayout.newshape,X=B.plotinfo,Z=X.xaxis,te=X.yaxis,q=!!X.domain||!X.xaxis,ae=!!X.domain||!X.yaxis,N=B.isActiveShape,D=B.dragmode,_=(O.layout||{}).shapes||[];if(!x(D)&&N!==void 0){var V=O._fullLayout._activeShapeIndex;if(V<_.length)switch(O._fullLayout.shapes[V].type){case"rect":D="drawrect";break;case"circle":D="drawcircle";break;case"line":D="drawline";break;case"path":var G=_[V].path||"";G[G.length-1]==="Z"?D="drawclosedpath":D="drawopenpath";break}}var Q=l(D),ue=M(I,O,X,N),le={editable:!0,label:L.label,xref:q?"paper":Z._id,yref:ae?"paper":te._id,layer:L.layer,opacity:L.opacity,line:{color:L.line.color,width:L.line.width,dash:L.line.dash}};Q||(le.fillcolor=L.fillcolor,le.fillrule=L.fillrule);var ye;if(ue.length===1&&(ye=ue[0]),ye&&ye.length===5&&D==="drawrect")le.type="rect",le.x0=ye[0][1],le.y0=ye[0][2],le.x1=ye[2][1],le.y1=ye[2][2];else if(ye&&D==="drawline")le.type="line",le.x0=ye[0][1],le.y0=ye[0][2],le.x1=ye[1][1],le.y1=ye[1][2];else if(ye&&D==="drawcircle"){le.type="circle";var Se=ye[r][1],ce=ye[f][1],de=ye[s][1],S=ye[n][1],P=ye[r][2],k=ye[f][2],z=ye[s][2],Y=ye[n][2],F=X.xaxis&&(X.xaxis.type==="date"||X.xaxis.type==="log"),J=X.yaxis&&(X.yaxis.type==="date"||X.yaxis.type==="log");F&&(Se=y(X.xaxis,Se),ce=y(X.xaxis,ce),de=y(X.xaxis,de),S=y(X.xaxis,S)),J&&(P=y(X.yaxis,P),k=y(X.yaxis,k),z=y(X.yaxis,z),Y=y(X.yaxis,Y));var E=(ce+S)/2,K=(P+z)/2,ie=(S-ce+de-Se)/2,ve=(Y-k+z-P)/2,he=c({x0:E,y0:K,x1:E+ie*t,y1:K+ve*d});F&&(he.x0=m(X.xaxis,he.x0),he.x1=m(X.xaxis,he.x1)),J&&(he.y0=m(X.yaxis,he.y0),he.y1=m(X.yaxis,he.y1)),le.x0=he.x0,le.y0=he.y0,le.x1=he.x1,le.y1=he.y1}else le.type="path",Z&&te&&u(ue,Z,te),le.path=v(ue),ye=null;T(O);for(var Le=B.editHelpers,ke=(Le||{}).modifyItem,se=[],ge=0;ge<_.length;ge++){var be=O._fullLayout.shapes[ge];if(se[ge]=be._input,N!==void 0&&ge===O._fullLayout._activeShapeIndex){var Ee=le;switch(be.type){case"line":case"rect":case"circle":ke("x0",Ee.x0),ke("x1",Ee.x1),ke("y0",Ee.y0),ke("y1",Ee.y1);break;case"path":ke("path",Ee.path);break}}}return N===void 0?(se.push(le),se):Le?Le.getUpdateObj():{}}}}},1873:function(re){function H(o){var x=o._fullLayout._zoomlayer;x&&x.selectAll(".outline-controllers").remove()}function e(o){var x=o._fullLayout._zoomlayer;x&&x.selectAll(".select-outline").remove(),o._fullLayout._outlining=!1}re.exports={clearOutlineControllers:H,clearOutline:e}},477:function(re,H,e){var o=e(1459),x=e(1828),l=e(9298);H.rangeToShapePosition=function(r){return r.type==="log"?r.r2d:function(f){return f}},H.shapePositionToRange=function(r){return r.type==="log"?r.d2r:function(f){return f}},H.decodeDate=function(r){return function(f){return f.replace&&(f=f.replace("_"," ")),r(f)}},H.encodeDate=function(r){return function(f){return r(f).replace(" ","_")}},H.extractPathCoords=function(r,f,s){var n=[],t=r.match(o.segmentRE);return t.forEach(function(d){var p=f[d.charAt(0)].drawn;if(p!==void 0){var m=d.substr(1).match(o.paramRE);if(!(!m||m.length<p)){var y=m[p],h=s?y:x.cleanNumber(y);n.push(h)}}}),n},H.getDataToPixel=function(r,f,s,n){var t=r._fullLayout._size,d;if(f)if(n==="domain")d=function(m){return f._length*(s?1-m:m)+f._offset};else{var p=H.shapePositionToRange(f);d=function(m){return f._offset+f.r2p(p(m,!0))},f.type==="date"&&(d=H.decodeDate(d))}else s?d=function(m){return t.t+t.h*(1-m)}:d=function(m){return t.l+t.w*m};return d},H.getPixelToData=function(r,f,s,n){var t=r._fullLayout._size,d;if(f)if(n==="domain")d=function(m){var y=(m-f._offset)/f._length;return s?1-y:y};else{var p=H.rangeToShapePosition(f);d=function(m){return p(f.p2r(m-f._offset))}}else s?d=function(m){return 1-(m-t.t)/t.h}:d=function(m){return(m-t.l)/t.w};return d},H.roundPositionForSharpStrokeRendering=function(r,f){var s=Math.round(f%2)===1,n=Math.round(r);return s?n+.5:n},H.makeShapesOptionsAndPlotinfo=function(r,f){var s=r._fullLayout.shapes[f]||{},n=r._fullLayout._plots[s.xref+s.yref],t=!!n;return t?n._hadPlotinfo=!0:(n={},s.xref&&s.xref!=="paper"&&(n.xaxis=r._fullLayout[s.xref+"axis"]),s.yref&&s.yref!=="paper"&&(n.yaxis=r._fullLayout[s.yref+"axis"])),n.xsizemode=s.xsizemode,n.ysizemode=s.ysizemode,n.xanchor=s.xanchor,n.yanchor=s.yanchor,{options:s,plotinfo:n}},H.makeSelectionsOptionsAndPlotinfo=function(r,f){var s=r._fullLayout.selections[f]||{},n=r._fullLayout._plots[s.xref+s.yref],t=!!n;return t?n._hadPlotinfo=!0:(n={},s.xref&&(n.xaxis=r._fullLayout[s.xref+"axis"]),s.yref&&(n.yaxis=r._fullLayout[s.yref+"axis"])),{options:s,plotinfo:n}},H.getPathString=function(r,f){var s=f.type,n=l.getRefType(f.xref),t=l.getRefType(f.yref),d=l.getFromId(r,f.xref),p=l.getFromId(r,f.yref),m=r._fullLayout._size,y,h,T,g,M,v,c,u;if(d?n==="domain"?h=function(te){return d._offset+d._length*te}:(y=H.shapePositionToRange(d),h=function(te){return d._offset+d.r2p(y(te,!0))}):h=function(te){return m.l+m.w*te},p?t==="domain"?g=function(te){return p._offset+p._length*(1-te)}:(T=H.shapePositionToRange(p),g=function(te){return p._offset+p.r2p(T(te,!0))}):g=function(te){return m.t+m.h*(1-te)},s==="path")return d&&d.type==="date"&&(h=H.decodeDate(h)),p&&p.type==="date"&&(g=H.decodeDate(g)),i(f,h,g);if(f.xsizemode==="pixel"){var b=h(f.xanchor);M=b+f.x0,v=b+f.x1}else M=h(f.x0),v=h(f.x1);if(f.ysizemode==="pixel"){var w=g(f.yanchor);c=w-f.y0,u=w-f.y1}else c=g(f.y0),u=g(f.y1);if(s==="line")return"M"+M+","+c+"L"+v+","+u;if(s==="rect")return"M"+M+","+c+"H"+v+"V"+u+"H"+M+"Z";var B=(M+v)/2,C=(c+u)/2,I=Math.abs(B-M),O=Math.abs(C-c),L="A"+I+","+O,X=B+I+","+C,Z=B+","+(C-O);return"M"+X+L+" 0 1,1 "+Z+L+" 0 0,1 "+X+"Z"};function i(r,f,s){var n=r.path,t=r.xsizemode,d=r.ysizemode,p=r.xanchor,m=r.yanchor;return n.replace(o.segmentRE,function(y){var h=0,T=y.charAt(0),g=o.paramIsX[T],M=o.paramIsY[T],v=o.numParams[T],c=y.substr(1).replace(o.paramRE,function(u){return g[h]?t==="pixel"?u=f(p)+Number(u):u=f(u):M[h]&&(d==="pixel"?u=s(m)-Number(u):u=s(u)),h++,h>v&&(u="X"),u});return h>v&&(c=c.replace(/[\s,]*X.*/,""),x.log("Ignoring extra params in segment "+y)),T+c})}},9853:function(re,H,e){var o=e(4031);re.exports={moduleType:"component",name:"shapes",layoutAttributes:e(9827),supplyLayoutDefaults:e(4726),supplyDrawNewShapeDefaults:e(5547),includeBasePlot:e(6325)("shapes"),calcAutorange:e(5627),draw:o.draw,drawOne:o.drawOne}},7281:function(re){function H(y,h){return h?h.d2l(y):y}function e(y,h){return h?h.l2d(y):y}function o(y){return y.x0}function x(y){return y.x1}function l(y){return y.y0}function i(y){return y.y1}function r(y,h){return H(y.x1,h)-H(y.x0,h)}function f(y,h,T){return H(y.y1,T)-H(y.y0,T)}function s(y,h){return Math.abs(r(y,h))}function n(y,h,T){return Math.abs(f(y,h,T))}function t(y,h,T){return y.type!=="line"?void 0:Math.sqrt(Math.pow(r(y,h),2)+Math.pow(f(y,h,T),2))}function d(y,h){return e((H(y.x1,h)+H(y.x0,h))/2,h)}function p(y,h,T){return e((H(y.y1,T)+H(y.y0,T))/2,T)}function m(y,h,T){return y.type!=="line"?void 0:f(y,h,T)/r(y,h)}re.exports={x0:o,x1:x,y0:l,y1:i,slope:m,dx:r,dy:f,width:s,height:n,length:t,xcenter:d,ycenter:p}},5067:function(re,H,e){var o=e(1940),x=e(5025),l=e(1426).extendDeepAll,i=e(962).overrideAll,r=e(5594),f=e(4467).templatedArray,s=e(8292),n=f("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});re.exports=i(f("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:n,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:l(x({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:r.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:o({})},font:o({}),activebgcolor:{valType:"color",dflt:s.gripBgActiveColor},bgcolor:{valType:"color",dflt:s.railBgColor},bordercolor:{valType:"color",dflt:s.railBorderColor},borderwidth:{valType:"number",min:0,dflt:s.railBorderWidth},ticklen:{valType:"number",min:0,dflt:s.tickLength},tickcolor:{valType:"color",dflt:s.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:s.minorTickLength}}),"arraydraw","from-root")},8292:function(re){re.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},2343:function(re,H,e){var o=e(1828),x=e(5501),l=e(5067),i=e(8292),r=i.name,f=l.steps;re.exports=function(d,p){x(d,p,{name:r,handleItemDefaults:s})};function s(t,d,p){function m(u,b){return o.coerce(t,d,l,u,b)}for(var y=x(t,d,{name:"steps",handleItemDefaults:n}),h=0,T=0;T<y.length;T++)y[T].visible&&h++;var g;if(h<2?g=d.visible=!1:g=m("visible"),!!g){d._stepCount=h;var M=d._visibleSteps=o.filterVisible(y),v=m("active");(y[v]||{}).visible||(d.active=M[0]._index),m("x"),m("y"),o.noneOrAll(t,d,["x","y"]),m("xanchor"),m("yanchor"),m("len"),m("lenmode"),m("pad.t"),m("pad.r"),m("pad.b"),m("pad.l"),o.coerceFont(m,"font",p.font);var c=m("currentvalue.visible");c&&(m("currentvalue.xanchor"),m("currentvalue.prefix"),m("currentvalue.suffix"),m("currentvalue.offset"),o.coerceFont(m,"currentvalue.font",d.font)),m("transition.duration"),m("transition.easing"),m("bgcolor"),m("activebgcolor"),m("bordercolor"),m("borderwidth"),m("ticklen"),m("tickwidth"),m("tickcolor"),m("minorticklen")}}function n(t,d){function p(h,T){return o.coerce(t,d,f,h,T)}var m;if(t.method!=="skip"&&!Array.isArray(t.args)?m=d.visible=!1:m=p("visible"),m){p("method"),p("args");var y=p("label","step-"+d._index);p("value",y),p("execute")}}},4504:function(re,H,e){var o=e(9898),x=e(4875),l=e(7901),i=e(1424),r=e(1828),f=r.strTranslate,s=e(3893),n=e(4467).arrayEditor,t=e(8292),d=e(8783),p=d.LINE_SPACING,m=d.FROM_TL,y=d.FROM_BR;re.exports=function(D){var _=D._context.staticPlot,V=D._fullLayout,G=T(V,D),Q=V._infolayer.selectAll("g."+t.containerClassName).data(G.length>0?[0]:[]);Q.enter().append("g").classed(t.containerClassName,!0).style("cursor",_?null:"ew-resize");function ue(ce){ce._commandObserver&&(ce._commandObserver.remove(),delete ce._commandObserver),x.autoMargin(D,h(ce))}if(Q.exit().each(function(){o.select(this).selectAll("g."+t.groupClassName).each(ue)}).remove(),G.length!==0){var le=Q.selectAll("g."+t.groupClassName).data(G,g);le.enter().append("g").classed(t.groupClassName,!0),le.exit().each(ue).remove();for(var ye=0;ye<G.length;ye++){var Se=G[ye];M(D,Se)}le.each(function(ce){var de=o.select(this);L(ce),x.manageCommandObserver(D,ce,ce._visibleSteps,function(S){var P=de.data()[0];P.active!==S.index&&(P._dragging||C(D,de,P,S.index,!1,!0))}),v(D,o.select(this),ce)})}};function h(N){return t.autoMarginIdRoot+N._index}function T(N,D){for(var _=N[t.name],V=[],G=0;G<_.length;G++){var Q=_[G];Q.visible&&(Q._gd=D,V.push(Q))}return V}function g(N){return N._index}function M(N,D){var _=i.tester.selectAll("g."+t.labelGroupClass).data(D._visibleSteps);_.enter().append("g").classed(t.labelGroupClass,!0);var V=0,G=0;_.each(function(k){var z=o.select(this),Y=b(z,{step:k},D),F=Y.node();if(F){var J=i.bBox(F);G=Math.max(G,J.height),V=Math.max(V,J.width)}}),_.remove();var Q=D._dims={};Q.inputAreaWidth=Math.max(t.railWidth,t.gripHeight);var ue=N._fullLayout._size;Q.lx=ue.l+ue.w*D.x,Q.ly=ue.t+ue.h*(1-D.y),D.lenmode==="fraction"?Q.outerLength=Math.round(ue.w*D.len):Q.outerLength=D.len,Q.inputAreaStart=0,Q.inputAreaLength=Math.round(Q.outerLength-D.pad.l-D.pad.r);var le=Q.inputAreaLength-2*t.stepInset,ye=le/(D._stepCount-1),Se=V+t.labelPadding;if(Q.labelStride=Math.max(1,Math.ceil(Se/ye)),Q.labelHeight=G,Q.currentValueMaxWidth=0,Q.currentValueHeight=0,Q.currentValueTotalHeight=0,Q.currentValueMaxLines=1,D.currentvalue.visible){var ce=i.tester.append("g");_.each(function(k){var z=c(ce,D,k.label),Y=z.node()&&i.bBox(z.node())||{width:0,height:0},F=s.lineCount(z);Q.currentValueMaxWidth=Math.max(Q.currentValueMaxWidth,Math.ceil(Y.width)),Q.currentValueHeight=Math.max(Q.currentValueHeight,Math.ceil(Y.height)),Q.currentValueMaxLines=Math.max(Q.currentValueMaxLines,F)}),Q.currentValueTotalHeight=Q.currentValueHeight+D.currentvalue.offset,ce.remove()}Q.height=Q.currentValueTotalHeight+t.tickOffset+D.ticklen+t.labelOffset+Q.labelHeight+D.pad.t+D.pad.b;var de="left";r.isRightAnchor(D)&&(Q.lx-=Q.outerLength,de="right"),r.isCenterAnchor(D)&&(Q.lx-=Q.outerLength/2,de="center");var S="top";r.isBottomAnchor(D)&&(Q.ly-=Q.height,S="bottom"),r.isMiddleAnchor(D)&&(Q.ly-=Q.height/2,S="middle"),Q.outerLength=Math.ceil(Q.outerLength),Q.height=Math.ceil(Q.height),Q.lx=Math.round(Q.lx),Q.ly=Math.round(Q.ly);var P={y:D.y,b:Q.height*y[S],t:Q.height*m[S]};D.lenmode==="fraction"?(P.l=0,P.xl=D.x-D.len*m[de],P.r=0,P.xr=D.x+D.len*y[de]):(P.x=D.x,P.l=Q.outerLength*m[de],P.r=Q.outerLength*y[de]),x.autoMargin(N,h(D),P)}function v(N,D,_){(_.steps[_.active]||{}).visible||(_.active=_._visibleSteps[0]._index),D.call(c,_).call(ae,_).call(w,_).call(O,_).call(q,N,_).call(u,N,_);var V=_._dims;i.setTranslate(D,V.lx+_.pad.l,V.ly+_.pad.t),D.call(X,_,!1),D.call(c,_)}function c(N,D,_){if(D.currentvalue.visible){var V=D._dims,G,Q;switch(D.currentvalue.xanchor){case"right":G=V.inputAreaLength-t.currentValueInset-V.currentValueMaxWidth,Q="left";break;case"center":G=V.inputAreaLength*.5,Q="middle";break;default:G=t.currentValueInset,Q="left"}var ue=r.ensureSingle(N,"text",t.labelClass,function(S){S.attr({"text-anchor":Q,"data-notex":1})}),le=D.currentvalue.prefix?D.currentvalue.prefix:"";if(typeof _=="string")le+=_;else{var ye=D.steps[D.active].label,Se=D._gd._fullLayout._meta;Se&&(ye=r.templateString(ye,Se)),le+=ye}D.currentvalue.suffix&&(le+=D.currentvalue.suffix),ue.call(i.font,D.currentvalue.font).text(le).call(s.convertToTspans,D._gd);var ce=s.lineCount(ue),de=(V.currentValueMaxLines+1-ce)*D.currentvalue.font.size*p;return s.positionText(ue,G,de),ue}}function u(N,D,_){var V=r.ensureSingle(N,"rect",t.gripRectClass,function(G){G.call(I,D,N,_).style("pointer-events","all")});V.attr({width:t.gripWidth,height:t.gripHeight,rx:t.gripRadius,ry:t.gripRadius}).call(l.stroke,_.bordercolor).call(l.fill,_.bgcolor).style("stroke-width",_.borderwidth+"px")}function b(N,D,_){var V=r.ensureSingle(N,"text",t.labelClass,function(ue){ue.attr({"text-anchor":"middle","data-notex":1})}),G=D.step.label,Q=_._gd._fullLayout._meta;return Q&&(G=r.templateString(G,Q)),V.call(i.font,_.font).text(G).call(s.convertToTspans,_._gd),V}function w(N,D){var _=r.ensureSingle(N,"g",t.labelsClass),V=D._dims,G=_.selectAll("g."+t.labelGroupClass).data(V.labelSteps);G.enter().append("g").classed(t.labelGroupClass,!0),G.exit().remove(),G.each(function(Q){var ue=o.select(this);ue.call(b,Q,D),i.setTranslate(ue,Z(D,Q.fraction),t.tickOffset+D.ticklen+D.font.size*p+t.labelOffset+V.currentValueTotalHeight)})}function B(N,D,_,V,G){var Q=Math.round(V*(_._stepCount-1)),ue=_._visibleSteps[Q]._index;ue!==_.active&&C(N,D,_,ue,!0,G)}function C(N,D,_,V,G,Q){var ue=_.active;_.active=V,n(N.layout,t.name,_).applyUpdate("active",V);var le=_.steps[_.active];D.call(X,_,Q),D.call(c,_),N.emit("plotly_sliderchange",{slider:_,step:_.steps[_.active],interaction:G,previousActive:ue}),le&&le.method&&G&&(D._nextMethod?(D._nextMethod.step=le,D._nextMethod.doCallback=G,D._nextMethod.doTransition=Q):(D._nextMethod={step:le,doCallback:G,doTransition:Q},D._nextMethodRaf=window.requestAnimationFrame(function(){var ye=D._nextMethod.step;ye.method&&(ye.execute&&x.executeAPICommand(N,ye.method,ye.args),D._nextMethod=null,D._nextMethodRaf=null)})))}function I(N,D,_){if(D._context.staticPlot)return;var V=_.node(),G=o.select(D);function Q(){return _.data()[0]}function ue(){var le=Q();D.emit("plotly_sliderstart",{slider:le});var ye=_.select("."+t.gripRectClass);o.event.stopPropagation(),o.event.preventDefault(),ye.call(l.fill,le.activebgcolor);var Se=te(le,o.mouse(V)[0]);B(D,_,le,Se,!0),le._dragging=!0;function ce(){var S=Q(),P=te(S,o.mouse(V)[0]);B(D,_,S,P,!1)}G.on("mousemove",ce),G.on("touchmove",ce);function de(){var S=Q();S._dragging=!1,ye.call(l.fill,S.bgcolor),G.on("mouseup",null),G.on("mousemove",null),G.on("touchend",null),G.on("touchmove",null),D.emit("plotly_sliderend",{slider:S,step:S.steps[S.active]})}G.on("mouseup",de),G.on("touchend",de)}N.on("mousedown",ue),N.on("touchstart",ue)}function O(N,D){var _=N.selectAll("rect."+t.tickRectClass).data(D._visibleSteps),V=D._dims;_.enter().append("rect").classed(t.tickRectClass,!0),_.exit().remove(),_.attr({width:D.tickwidth+"px","shape-rendering":"crispEdges"}),_.each(function(G,Q){var ue=Q%V.labelStride===0,le=o.select(this);le.attr({height:ue?D.ticklen:D.minorticklen}).call(l.fill,D.tickcolor),i.setTranslate(le,Z(D,Q/(D._stepCount-1))-.5*D.tickwidth,(ue?t.tickOffset:t.minorTickOffset)+V.currentValueTotalHeight)})}function L(N){var D=N._dims;D.labelSteps=[];for(var _=N._stepCount,V=0;V<_;V+=D.labelStride)D.labelSteps.push({fraction:V/(_-1),step:N._visibleSteps[V]})}function X(N,D,_){for(var V=N.select("rect."+t.gripRectClass),G=0,Q=0;Q<D._stepCount;Q++)if(D._visibleSteps[Q]._index===D.active){G=Q;break}var ue=Z(D,G/(D._stepCount-1));if(!D._invokingCommand){var le=V;_&&D.transition.duration>0&&(le=le.transition().duration(D.transition.duration).ease(D.transition.easing)),le.attr("transform",f(ue-t.gripWidth*.5,D._dims.currentValueTotalHeight))}}function Z(N,D){var _=N._dims;return _.inputAreaStart+t.stepInset+(_.inputAreaLength-2*t.stepInset)*Math.min(1,Math.max(0,D))}function te(N,D){var _=N._dims;return Math.min(1,Math.max(0,(D-t.stepInset-_.inputAreaStart)/(_.inputAreaLength-2*t.stepInset-2*_.inputAreaStart)))}function q(N,D,_){var V=_._dims,G=r.ensureSingle(N,"rect",t.railTouchRectClass,function(Q){Q.call(I,D,N,_).style("pointer-events","all")});G.attr({width:V.inputAreaLength,height:Math.max(V.inputAreaWidth,t.tickOffset+_.ticklen+V.labelHeight)}).call(l.fill,_.bgcolor).attr("opacity",0),i.setTranslate(G,0,V.currentValueTotalHeight)}function ae(N,D){var _=D._dims,V=_.inputAreaLength-t.railInset*2,G=r.ensureSingle(N,"rect",t.railRectClass);G.attr({width:V,height:t.railWidth,rx:t.railRadius,ry:t.railRadius,"shape-rendering":"crispEdges"}).call(l.stroke,D.bordercolor).call(l.fill,D.bgcolor).style("stroke-width",D.borderwidth+"px"),i.setTranslate(G,t.railInset,(_.inputAreaWidth-t.railWidth)*.5+_.currentValueTotalHeight)}},3243:function(re,H,e){var o=e(8292);re.exports={moduleType:"component",name:o.name,layoutAttributes:e(5067),supplyLayoutDefaults:e(2343),draw:e(4504)}},2998:function(re,H,e){var o=e(9898),x=e(2770),l=e(4875),i=e(3972),r=e(1828),f=r.strTranslate,s=e(1424),n=e(7901),t=e(3893),d=e(7822),p=e(8783).OPPOSITE_SIDE,m=/ [XY][0-9]* /;function y(h,T,g){var M=g.propContainer,v=g.propName,c=g.placeholder,u=g.traceIndex,b=g.avoid||{},w=g.attributes,B=g.transform,C=g.containerGroup,I=h._fullLayout,O=1,L=!1,X=M.title,Z=(X&&X.text?X.text:"").trim(),te=X&&X.font?X.font:{},q=te.family,ae=te.size,N=te.color,D;v==="title.text"?D="titleText":v.indexOf("axis")!==-1?D="axisTitleText":v.indexOf("colorbar"!==-1)&&(D="colorbarTitleText");var _=h._context.edits[D];Z===""?O=0:Z.replace(m," % ")===c.replace(m," % ")&&(O=.2,L=!0,_||(Z="")),g._meta?Z=r.templateString(Z,g._meta):I._meta&&(Z=r.templateString(Z,I._meta));var V=Z||_,G;C||(C=r.ensureSingle(I._infolayer,"g","g-"+T),G=I._hColorbarMoveTitle);var Q=C.selectAll("text").data(V?[0]:[]);if(Q.enter().append("text"),Q.text(Z).attr("class",T),Q.exit().remove(),!V)return C;function ue(ce){r.syncOrAsync([le,ye],ce)}function le(ce){var de;return!B&&G&&(B={}),B?(de="",B.rotate&&(de+="rotate("+[B.rotate,w.x,w.y]+")"),(B.offset||G)&&(de+=f(0,(B.offset||0)-(G||0)))):de=null,ce.attr("transform",de),ce.style({"font-family":q,"font-size":o.round(ae,2)+"px",fill:n.rgb(N),opacity:O*n.opacity(N),"font-weight":l.fontWeight}).attr(w).call(t.convertToTspans,h),l.previousPromises(h)}function ye(ce){var de=o.select(ce.node().parentNode);if(b&&b.selection&&b.side&&Z){de.attr("transform",null);var S=p[b.side],P=b.side==="left"||b.side==="top"?-1:1,k=x(b.pad)?b.pad:2,z=s.bBox(de.node()),Y={t:0,b:0,l:0,r:0},F=h._fullLayout._reservedMargin;for(var J in F)for(var E in F[J]){var K=F[J][E];Y[E]=Math.max(Y[E],K)}var ie={left:Y.l,top:Y.t,right:I.width-Y.r,bottom:I.height-Y.b},ve=b.maxShift||P*(ie[b.side]-z[b.side]),he=0;if(ve<0)he=ve;else{var Le=b.offsetLeft||0,ke=b.offsetTop||0;z.left-=Le,z.right-=Le,z.top-=ke,z.bottom-=ke,b.selection.each(function(){var ge=s.bBox(this);r.bBoxIntersect(z,ge,k)&&(he=Math.max(he,P*(ge[b.side]-z[S])+k))}),he=Math.min(ve,he),M._titleScoot=Math.abs(he)}if(he>0||ve<0){var se={left:[-he,0],right:[he,0],top:[0,-he],bottom:[0,he]}[b.side];de.attr("transform",f(se[0],se[1]))}}}Q.call(ue);function Se(){O=0,L=!0,Q.text(c).on("mouseover.opacity",function(){o.select(this).transition().duration(d.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){o.select(this).transition().duration(d.HIDE_PLACEHOLDER).style("opacity",0)})}return _&&(Z?Q.on(".opacity",null):Se(),Q.call(t.makeEditable,{gd:h}).on("edit",function(ce){u!==void 0?i.call("_guiRestyle",h,v,ce,u):i.call("_guiRelayout",h,v,ce)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(ue)}).on("input",function(ce){this.text(ce||" ").call(t.positionText,w.x,w.y)})),Q.classed("js-placeholder",L),C}re.exports={draw:y}},7163:function(re,H,e){var o=e(1940),x=e(2399),l=e(1426).extendFlat,i=e(962).overrideAll,r=e(5025),f=e(4467).templatedArray,s=f("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});re.exports=i(f("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:s,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:l(r({editType:"arraydraw"}),{}),font:o({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:x.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},5909:function(re){re.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},4897:function(re,H,e){var o=e(1828),x=e(5501),l=e(7163),i=e(5909),r=i.name,f=l.buttons;re.exports=function(d,p){var m={name:r,handleItemDefaults:s};x(d,p,m)};function s(t,d,p){function m(T,g){return o.coerce(t,d,l,T,g)}var y=x(t,d,{name:"buttons",handleItemDefaults:n}),h=m("visible",y.length>0);h&&(m("active"),m("direction"),m("type"),m("showactive"),m("x"),m("y"),o.noneOrAll(t,d,["x","y"]),m("xanchor"),m("yanchor"),m("pad.t"),m("pad.r"),m("pad.b"),m("pad.l"),o.coerceFont(m,"font",p.font),m("bgcolor",p.paper_bgcolor),m("bordercolor"),m("borderwidth"))}function n(t,d){function p(y,h){return o.coerce(t,d,f,y,h)}var m=p("visible",t.method==="skip"||Array.isArray(t.args));m&&(p("method"),p("args"),p("args2"),p("label"),p("execute"))}},3689:function(re,H,e){var o=e(9898),x=e(4875),l=e(7901),i=e(1424),r=e(1828),f=e(3893),s=e(4467).arrayEditor,n=e(8783).LINE_SPACING,t=e(5909),d=e(5849);re.exports=function(te){var q=te._fullLayout,ae=r.filterVisible(q[t.name]);function N(ye){x.autoMargin(te,O(ye))}var D=q._menulayer.selectAll("g."+t.containerClassName).data(ae.length>0?[0]:[]);if(D.enter().append("g").classed(t.containerClassName,!0).style("cursor","pointer"),D.exit().each(function(){o.select(this).selectAll("g."+t.headerGroupClassName).each(N)}).remove(),ae.length!==0){var _=D.selectAll("g."+t.headerGroupClassName).data(ae,p);_.enter().append("g").classed(t.headerGroupClassName,!0);for(var V=r.ensureSingle(D,"g",t.dropdownButtonGroupClassName,function(ye){ye.style("pointer-events","all")}),G=0;G<ae.length;G++){var Q=ae[G];I(te,Q)}var ue="updatemenus"+q._uid,le=new d(te,V,ue);_.enter().size()&&(V.node().parentNode.appendChild(V.node()),V.call(X)),_.exit().each(function(ye){V.call(X),N(ye)}).remove(),_.each(function(ye){var Se=o.select(this),ce=ye.type==="dropdown"?V:null;x.manageCommandObserver(te,ye,ye.buttons,function(de){h(te,ye,ye.buttons[de.index],Se,ce,le,de.index,!0)}),ye.type==="dropdown"?(T(te,Se,V,le,ye),y(V,ye)&&g(te,Se,V,le,ye)):g(te,Se,null,null,ye)})}};function p(Z){return Z._index}function m(Z){return+Z.attr(t.menuIndexAttrName)==-1}function y(Z,te){return+Z.attr(t.menuIndexAttrName)===te._index}function h(Z,te,q,ae,N,D,_,V){te.active=_,s(Z.layout,t.name,te).applyUpdate("active",_),te.type==="buttons"?g(Z,ae,null,null,te):te.type==="dropdown"&&(N.attr(t.menuIndexAttrName,"-1"),T(Z,ae,N,D,te),V||g(Z,ae,N,D,te))}function T(Z,te,q,ae,N){var D=r.ensureSingle(te,"g",t.headerClassName,function(ye){ye.style("pointer-events","all")}),_=N._dims,V=N.active,G=N.buttons[V]||t.blankHeaderOpts,Q={y:N.pad.t,yPad:0,x:N.pad.l,xPad:0,index:0},ue={width:_.headerWidth,height:_.headerHeight};D.call(c,N,G,Z).call(L,N,Q,ue);var le=r.ensureSingle(te,"text",t.headerArrowClassName,function(ye){ye.attr("text-anchor","end").call(i.font,N.font).text(t.arrowSymbol[N.direction])});le.attr({x:_.headerWidth-t.arrowOffsetX+N.pad.l,y:_.headerHeight/2+t.textOffsetY+N.pad.t}),D.on("click",function(){q.call(X,String(y(q,N)?-1:N._index)),g(Z,te,q,ae,N)}),D.on("mouseover",function(){D.call(B)}),D.on("mouseout",function(){D.call(C,N)}),i.setTranslate(te,_.lx,_.ly)}function g(Z,te,q,ae,N){q||(q=te,q.attr("pointer-events","all"));var D=!m(q)||N.type==="buttons"?N.buttons:[],_=N.type==="dropdown"?t.dropdownButtonClassName:t.buttonClassName,V=q.selectAll("g."+_).data(r.filterVisible(D)),G=V.enter().append("g").classed(_,!0),Q=V.exit();N.type==="dropdown"?(G.attr("opacity","0").transition().attr("opacity","1"),Q.transition().attr("opacity","0").remove()):Q.remove();var ue=0,le=0,ye=N._dims,Se=["up","down"].indexOf(N.direction)!==-1;N.type==="dropdown"&&(Se?le=ye.headerHeight+t.gapButtonHeader:ue=ye.headerWidth+t.gapButtonHeader),N.type==="dropdown"&&N.direction==="up"&&(le=-t.gapButtonHeader+t.gapButton-ye.openHeight),N.type==="dropdown"&&N.direction==="left"&&(ue=-t.gapButtonHeader+t.gapButton-ye.openWidth);var ce={x:ye.lx+ue+N.pad.l,y:ye.ly+le+N.pad.t,yPad:t.gapButton,xPad:t.gapButton,index:0},de={l:ce.x+N.borderwidth,t:ce.y+N.borderwidth};V.each(function(S,P){var k=o.select(this);k.call(c,N,S,Z).call(L,N,ce),k.on("click",function(){o.event.defaultPrevented||(S.execute&&(S.args2&&N.active===P?(h(Z,N,S,te,q,ae,-1),x.executeAPICommand(Z,S.method,S.args2)):(h(Z,N,S,te,q,ae,P),x.executeAPICommand(Z,S.method,S.args))),Z.emit("plotly_buttonclicked",{menu:N,button:S,active:N.active}))}),k.on("mouseover",function(){k.call(B)}),k.on("mouseout",function(){k.call(C,N),V.call(w,N)})}),V.call(w,N),Se?(de.w=Math.max(ye.openWidth,ye.headerWidth),de.h=ce.y-de.t):(de.w=ce.x-de.l,de.h=Math.max(ye.openHeight,ye.headerHeight)),de.direction=N.direction,ae&&(V.size()?M(Z,te,q,ae,N,de):v(ae))}function M(Z,te,q,ae,N,D){var _=N.direction,V=_==="up"||_==="down",G=N._dims,Q=N.active,ue,le,ye;if(V)for(le=0,ye=0;ye<Q;ye++)le+=G.heights[ye]+t.gapButton;else for(ue=0,ye=0;ye<Q;ye++)ue+=G.widths[ye]+t.gapButton;ae.enable(D,ue,le),ae.hbar&&ae.hbar.attr("opacity","0").transition().attr("opacity","1"),ae.vbar&&ae.vbar.attr("opacity","0").transition().attr("opacity","1")}function v(Z){var te=!!Z.hbar,q=!!Z.vbar;te&&Z.hbar.transition().attr("opacity","0").each("end",function(){te=!1,q||Z.disable()}),q&&Z.vbar.transition().attr("opacity","0").each("end",function(){q=!1,te||Z.disable()})}function c(Z,te,q,ae){Z.call(u,te).call(b,te,q,ae)}function u(Z,te){var q=r.ensureSingle(Z,"rect",t.itemRectClassName,function(ae){ae.attr({rx:t.rx,ry:t.ry,"shape-rendering":"crispEdges"})});q.call(l.stroke,te.bordercolor).call(l.fill,te.bgcolor).style("stroke-width",te.borderwidth+"px")}function b(Z,te,q,ae){var N=r.ensureSingle(Z,"text",t.itemTextClassName,function(V){V.attr({"text-anchor":"start","data-notex":1})}),D=q.label,_=ae._fullLayout._meta;_&&(D=r.templateString(D,_)),N.call(i.font,te.font).text(D).call(f.convertToTspans,ae)}function w(Z,te){var q=te.active;Z.each(function(ae,N){var D=o.select(this);N===q&&te.showactive&&D.select("rect."+t.itemRectClassName).call(l.fill,t.activeColor)})}function B(Z){Z.select("rect."+t.itemRectClassName).call(l.fill,t.hoverColor)}function C(Z,te){Z.select("rect."+t.itemRectClassName).call(l.fill,te.bgcolor)}function I(Z,te){var q=te._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},ae=i.tester.selectAll("g."+t.dropdownButtonClassName).data(r.filterVisible(te.buttons));ae.enter().append("g").classed(t.dropdownButtonClassName,!0);var N=["up","down"].indexOf(te.direction)!==-1;ae.each(function(ue,le){var ye=o.select(this);ye.call(c,te,ue,Z);var Se=ye.select("."+t.itemTextClassName),ce=Se.node()&&i.bBox(Se.node()).width,de=Math.max(ce+t.textPadX,t.minWidth),S=te.font.size*n,P=f.lineCount(Se),k=Math.max(S*P,t.minHeight)+t.textOffsetY;k=Math.ceil(k),de=Math.ceil(de),q.widths[le]=de,q.heights[le]=k,q.height1=Math.max(q.height1,k),q.width1=Math.max(q.width1,de),N?(q.totalWidth=Math.max(q.totalWidth,de),q.openWidth=q.totalWidth,q.totalHeight+=k+t.gapButton,q.openHeight+=k+t.gapButton):(q.totalWidth+=de+t.gapButton,q.openWidth+=de+t.gapButton,q.totalHeight=Math.max(q.totalHeight,k),q.openHeight=q.totalHeight)}),N?q.totalHeight-=t.gapButton:q.totalWidth-=t.gapButton,q.headerWidth=q.width1+t.arrowPadX,q.headerHeight=q.height1,te.type==="dropdown"&&(N?(q.width1+=t.arrowPadX,q.totalHeight=q.height1):q.totalWidth=q.width1,q.totalWidth+=t.arrowPadX),ae.remove();var D=q.totalWidth+te.pad.l+te.pad.r,_=q.totalHeight+te.pad.t+te.pad.b,V=Z._fullLayout._size;q.lx=V.l+V.w*te.x,q.ly=V.t+V.h*(1-te.y);var G="left";r.isRightAnchor(te)&&(q.lx-=D,G="right"),r.isCenterAnchor(te)&&(q.lx-=D/2,G="center");var Q="top";r.isBottomAnchor(te)&&(q.ly-=_,Q="bottom"),r.isMiddleAnchor(te)&&(q.ly-=_/2,Q="middle"),q.totalWidth=Math.ceil(q.totalWidth),q.totalHeight=Math.ceil(q.totalHeight),q.lx=Math.round(q.lx),q.ly=Math.round(q.ly),x.autoMargin(Z,O(te),{x:te.x,y:te.y,l:D*({right:1,center:.5}[G]||0),r:D*({left:1,center:.5}[G]||0),b:_*({top:1,middle:.5}[Q]||0),t:_*({bottom:1,middle:.5}[Q]||0)})}function O(Z){return t.autoMarginIdRoot+Z._index}function L(Z,te,q,ae){ae=ae||{};var N=Z.select("."+t.itemRectClassName),D=Z.select("."+t.itemTextClassName),_=te.borderwidth,V=q.index,G=te._dims;i.setTranslate(Z,_+q.x,_+q.y);var Q=["up","down"].indexOf(te.direction)!==-1,ue=ae.height||(Q?G.heights[V]:G.height1);N.attr({x:0,y:0,width:ae.width||(Q?G.width1:G.widths[V]),height:ue});var le=te.font.size*n,ye=f.lineCount(D),Se=(ye-1)*le/2;f.positionText(D,t.textOffsetX,ue/2-Se+t.textOffsetY),Q?q.y+=G.heights[V]+q.yPad:q.x+=G.widths[V]+q.xPad,q.index++}function X(Z,te){Z.attr(t.menuIndexAttrName,te||"-1").selectAll("g."+t.dropdownButtonClassName).remove()}},763:function(re,H,e){var o=e(5909);re.exports={moduleType:"component",name:o.name,layoutAttributes:e(7163),supplyLayoutDefaults:e(4897),draw:e(3689)}},5849:function(re,H,e){re.exports=r;var o=e(9898),x=e(7901),l=e(1424),i=e(1828);function r(f,s,n){this.gd=f,this.container=s,this.id=n,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}r.barWidth=2,r.barLength=20,r.barRadius=2,r.barPad=1,r.barColor="#808BA4",r.prototype.enable=function(s,n,t){var d=this.gd._fullLayout,p=d.width,m=d.height;this.position=s;var y=this.position.l,h=this.position.w,T=this.position.t,g=this.position.h,M=this.position.direction,v=M==="down",c=M==="left",u=M==="right",b=M==="up",w=h,B=g,C,I,O,L;!v&&!c&&!u&&!b&&(this.position.direction="down",v=!0);var X=v||b;X?(C=y,I=C+w,v?(O=T,L=Math.min(O+B,m),B=L-O):(L=T+B,O=Math.max(L-B,0),B=L-O)):(O=T,L=O+B,c?(I=y+w,C=Math.max(I-w,0),w=I-C):(C=y,I=Math.min(C+w,p),w=I-C)),this._box={l:C,t:O,w,h:B};var Z=h>w,te=r.barLength+2*r.barPad,q=r.barWidth+2*r.barPad,ae=y,N=T+g;N+q>m&&(N=m-q);var D=this.container.selectAll("rect.scrollbar-horizontal").data(Z?[0]:[]);D.exit().on(".drag",null).remove(),D.enter().append("rect").classed("scrollbar-horizontal",!0).call(x.fill,r.barColor),Z?(this.hbar=D.attr({rx:r.barRadius,ry:r.barRadius,x:ae,y:N,width:te,height:q}),this._hbarXMin=ae+te/2,this._hbarTranslateMax=w-te):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var _=g>B,V=r.barWidth+2*r.barPad,G=r.barLength+2*r.barPad,Q=y+h,ue=T;Q+V>p&&(Q=p-V);var le=this.container.selectAll("rect.scrollbar-vertical").data(_?[0]:[]);le.exit().on(".drag",null).remove(),le.enter().append("rect").classed("scrollbar-vertical",!0).call(x.fill,r.barColor),_?(this.vbar=le.attr({rx:r.barRadius,ry:r.barRadius,x:Q,y:ue,width:V,height:G}),this._vbarYMin=ue+G/2,this._vbarTranslateMax=B-G):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ye=this.id,Se=C-.5,ce=_?I+V+.5:I+.5,de=O-.5,S=Z?L+q+.5:L+.5,P=d._topdefs.selectAll("#"+ye).data(Z||_?[0]:[]);if(P.exit().remove(),P.enter().append("clipPath").attr("id",ye).append("rect"),Z||_?(this._clipRect=P.select("rect").attr({x:Math.floor(Se),y:Math.floor(de),width:Math.ceil(ce)-Math.floor(Se),height:Math.ceil(S)-Math.floor(de)}),this.container.call(l.setClipUrl,ye,this.gd),this.bg.attr({x:y,y:T,width:h,height:g})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(l.setClipUrl,null),delete this._clipRect),Z||_){var k=o.behavior.drag().on("dragstart",function(){o.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(k);var z=o.behavior.drag().on("dragstart",function(){o.event.sourceEvent.preventDefault(),o.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));Z&&this.hbar.on(".drag",null).call(z),_&&this.vbar.on(".drag",null).call(z)}this.setTranslate(n,t)},r.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(l.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},r.prototype._onBoxDrag=function(){var s=this.translateX,n=this.translateY;this.hbar&&(s-=o.event.dx),this.vbar&&(n-=o.event.dy),this.setTranslate(s,n)},r.prototype._onBoxWheel=function(){var s=this.translateX,n=this.translateY;this.hbar&&(s+=o.event.deltaY),this.vbar&&(n+=o.event.deltaY),this.setTranslate(s,n)},r.prototype._onBarDrag=function(){var s=this.translateX,n=this.translateY;if(this.hbar){var t=s+this._hbarXMin,d=t+this._hbarTranslateMax,p=i.constrain(o.event.x,t,d),m=(p-t)/(d-t),y=this.position.w-this._box.w;s=m*y}if(this.vbar){var h=n+this._vbarYMin,T=h+this._vbarTranslateMax,g=i.constrain(o.event.y,h,T),M=(g-h)/(T-h),v=this.position.h-this._box.h;n=M*v}this.setTranslate(s,n)},r.prototype.setTranslate=function(s,n){var t=this.position.w-this._box.w,d=this.position.h-this._box.h;if(s=i.constrain(s||0,0,t),n=i.constrain(n||0,0,d),this.translateX=s,this.translateY=n,this.container.call(l.setTranslate,this._box.l-this.position.l-s,this._box.t-this.position.t-n),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+s-.5),y:Math.floor(this.position.t+n-.5)}),this.hbar){var p=s/t;this.hbar.call(l.setTranslate,s+p*this._hbarTranslateMax,n)}if(this.vbar){var m=n/d;this.vbar.call(l.setTranslate,s,n+m*this._vbarTranslateMax)}}},8783:function(re){re.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},4695:function(re){re.exports={axisRefDescription:function(H,e,o){return["If set to a",H,"axis id (e.g. *"+H+"* or","*"+H+"2*), the `"+H+"` position refers to a",H,"coordinate. If set to *paper*, the `"+H+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+o+"). If set to a",H,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+H+"2 domain* refers to the domain of the second",H," axis and a",H,"position of 0.5 refers to the","point between the",e,"and the",o,"of the domain of the","second",H,"axis."].join(" ")}}},1562:function(re){re.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},4808:function(re){re.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},7822:function(re){re.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},606:function(re){re.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},7922:function(re,H){H.xmlns="http://www.w3.org/2000/xmlns/",H.svg="http://www.w3.org/2000/svg",H.xlink="http://www.w3.org/1999/xlink",H.svgAttrs={xmlns:H.svg,"xmlns:xlink":H.xlink}},8729:function(re,H,e){H.version=e(1506).version,e(7417),e(8847);for(var o=e(3972),x=H.register=o.register,l=e(641),i=Object.keys(l),r=0;r<i.length;r++){var f=i[r];f.charAt(0)!=="_"&&(H[f]=l[f]),x({moduleType:"apiMethod",name:f,fn:l[f]})}x(e(7368)),x([e(2199),e(211),e(2745),e(2468),e(7322),e(9853),e(8804),e(763),e(3243),e(3137),e(7218),e(3312),e(7369),e(1081),e(2311),e(4168)]),x([e(2177),e(7815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(x(window.PlotlyLocales),delete window.PlotlyLocales),H.Icons=e(4255);var s=e(211),n=e(4875);H.Plots={resize:n.resize,graphJson:n.graphJson,sendDataToCloud:n.sendDataToCloud},H.Fx={hover:s.hover,unhover:s.unhover,loneHover:s.loneHover,loneUnhover:s.loneUnhover},H.Snapshot=e(4511),H.PlotSchema=e(6281)},4255:function(re){re.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},9863:function(re,H){H.isLeftAnchor=function(o){return o.xanchor==="left"||o.xanchor==="auto"&&o.x<=.3333333333333333},H.isCenterAnchor=function(o){return o.xanchor==="center"||o.xanchor==="auto"&&o.x>.3333333333333333&&o.x<.6666666666666666},H.isRightAnchor=function(o){return o.xanchor==="right"||o.xanchor==="auto"&&o.x>=.6666666666666666},H.isTopAnchor=function(o){return o.yanchor==="top"||o.yanchor==="auto"&&o.y>=.6666666666666666},H.isMiddleAnchor=function(o){return o.yanchor==="middle"||o.yanchor==="auto"&&o.y>.3333333333333333&&o.y<.6666666666666666},H.isBottomAnchor=function(o){return o.yanchor==="bottom"||o.yanchor==="auto"&&o.y<=.3333333333333333}},6348:function(re,H,e){var o=e(4872),x=o.mod,l=o.modHalf,i=Math.PI,r=2*i;function f(M){return M/180*i}function s(M){return M/i*180}function n(M){return Math.abs(M[1]-M[0])>r-1e-14}function t(M,v){return l(v-M,r)}function d(M,v){return Math.abs(t(M,v))}function p(M,v){if(n(v))return!0;var c,u;v[0]<v[1]?(c=v[0],u=v[1]):(c=v[1],u=v[0]),c=x(c,r),u=x(u,r),c>u&&(u+=r);var b=x(M,r),w=b+r;return b>=c&&b<=u||w>=c&&w<=u}function m(M,v,c,u){if(!p(v,u))return!1;var b,w;return c[0]<c[1]?(b=c[0],w=c[1]):(b=c[1],w=c[0]),M>=b&&M<=w}function y(M,v,c,u,b,w,B){b=b||0,w=w||0;var C=n([c,u]),I,O,L,X,Z;C?(I=0,O=i,L=r):c<u?(I=c,L=u):(I=u,L=c),M<v?(X=M,Z=v):(X=v,Z=M);function te(D,_){return[D*Math.cos(_)+b,w-D*Math.sin(_)]}var q=Math.abs(L-I)<=i?0:1;function ae(D,_,V){return"A"+[D,D]+" "+[0,q,V]+" "+te(D,_)}var N;return C?X===null?N="M"+te(Z,I)+ae(Z,O,0)+ae(Z,L,0)+"Z":N="M"+te(X,I)+ae(X,O,0)+ae(X,L,0)+"ZM"+te(Z,I)+ae(Z,O,1)+ae(Z,L,1)+"Z":X===null?(N="M"+te(Z,I)+ae(Z,L,0),B&&(N+="L0,0Z")):N="M"+te(X,I)+"L"+te(Z,I)+ae(Z,L,0)+"L"+te(X,L)+ae(X,I,1)+"Z",N}function h(M,v,c,u,b){return y(null,M,v,c,u,b,0)}function T(M,v,c,u,b){return y(null,M,v,c,u,b,1)}function g(M,v,c,u,b,w){return y(M,v,c,u,b,w,1)}re.exports={deg2rad:f,rad2deg:s,angleDelta:t,angleDist:d,isFullCircle:n,isAngleInsideSector:p,isPtInsideSector:m,pathArc:h,pathSector:T,pathAnnulus:g}},3627:function(re,H){var e=Array.isArray,o=ArrayBuffer,x=DataView;function l(s){return o.isView(s)&&!(s instanceof x)}H.isTypedArray=l;function i(s){return e(s)||l(s)}H.isArrayOrTypedArray=i;function r(s){return!i(s[0])}H.isArray1D=r,H.ensureArray=function(s,n){return e(s)||(s=[]),s.length=n,s},H.concat=function(){var s=[],n=!0,t=0,d,p,m,y,h,T,g,M;for(m=0;m<arguments.length;m++)y=arguments[m],T=y.length,T&&(p?s.push(y):(p=y,h=T),e(y)?d=!1:(n=!1,t?d!==y.constructor&&(d=!1):d=y.constructor),t+=T);if(!t)return[];if(!s.length)return p;if(n)return p.concat.apply(p,s);if(d){for(g=new d(t),g.set(p),m=0;m<s.length;m++)y=s[m],g.set(y,h),h+=y.length;return g}for(g=new Array(t),M=0;M<p.length;M++)g[M]=p[M];for(m=0;m<s.length;m++){for(y=s[m],M=0;M<y.length;M++)g[h+M]=y[M];h+=M}return g},H.maxRowLength=function(s){return f(s,Math.max,0)},H.minRowLength=function(s){return f(s,Math.min,1/0)};function f(s,n,t){if(i(s))if(i(s[0])){for(var d=t,p=0;p<s.length;p++)d=n(d,s[p].length);return d}else return s.length;return 0}},5218:function(re,H,e){var o=e(2770),x=e(606).BADNUM,l=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;re.exports=function(r){return typeof r=="string"&&(r=r.replace(l,"")),o(r)?Number(r):x}},3306:function(re){re.exports=function(e){var o=e._fullLayout;o._glcanvas&&o._glcanvas.size()&&o._glcanvas.each(function(x){x.regl&&x.regl.clear({color:!0,depth:!0})})}},6367:function(re){re.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},6554:function(re,H,e){var o=e(2770),x=e(4267),l=e(9012),i=e(3282),r=e(7901),f=e(7822).DESELECTDIM,s=e(5487),n=e(587).counter,t=e(4872).modHalf,d=e(3627).isArrayOrTypedArray;H.valObjectMeta={data_array:{coerceFunction:function(m,y,h){d(m)?y.set(m):h!==void 0&&y.set(h)}},enumerated:{coerceFunction:function(m,y,h,T){T.coerceNumber&&(m=+m),T.values.indexOf(m)===-1?y.set(h):y.set(m)},validateFunction:function(m,y){y.coerceNumber&&(m=+m);for(var h=y.values,T=0;T<h.length;T++){var g=String(h[T]);if(g.charAt(0)==="/"&&g.charAt(g.length-1)==="/"){var M=new RegExp(g.substr(1,g.length-2));if(M.test(m))return!0}else if(m===h[T])return!0}return!1}},boolean:{coerceFunction:function(m,y,h){m===!0||m===!1?y.set(m):y.set(h)}},number:{coerceFunction:function(m,y,h,T){!o(m)||T.min!==void 0&&m<T.min||T.max!==void 0&&m>T.max?y.set(h):y.set(+m)}},integer:{coerceFunction:function(m,y,h,T){m%1||!o(m)||T.min!==void 0&&m<T.min||T.max!==void 0&&m>T.max?y.set(h):y.set(+m)}},string:{coerceFunction:function(m,y,h,T){if(typeof m!="string"){var g=typeof m=="number";T.strict===!0||!g?y.set(h):y.set(String(m))}else T.noBlank&&!m?y.set(h):y.set(m)}},color:{coerceFunction:function(m,y,h){x(m).isValid()?y.set(m):y.set(h)}},colorlist:{coerceFunction:function(m,y,h){function T(g){return x(g).isValid()}!Array.isArray(m)||!m.length?y.set(h):m.every(T)?y.set(m):y.set(h)}},colorscale:{coerceFunction:function(m,y,h){y.set(i.get(m,h))}},angle:{coerceFunction:function(m,y,h){m==="auto"?y.set("auto"):o(m)?y.set(t(+m,360)):y.set(h)}},subplotid:{coerceFunction:function(m,y,h,T){var g=T.regex||n(h);if(typeof m=="string"&&g.test(m)){y.set(m);return}y.set(h)},validateFunction:function(m,y){var h=y.dflt;return m===h?!0:typeof m!="string"?!1:!!n(h).test(m)}},flaglist:{coerceFunction:function(m,y,h,T){if((T.extras||[]).indexOf(m)!==-1){y.set(m);return}if(typeof m!="string"){y.set(h);return}for(var g=m.split("+"),M=0;M<g.length;){var v=g[M];T.flags.indexOf(v)===-1||g.indexOf(v)<M?g.splice(M,1):M++}g.length?y.set(g.join("+")):y.set(h)}},any:{coerceFunction:function(m,y,h){m===void 0?y.set(h):y.set(m)}},info_array:{coerceFunction:function(m,y,h,T){function g(te,q,ae){var N,D={set:function(_){N=_}};return ae===void 0&&(ae=q.dflt),H.valObjectMeta[q.valType].coerceFunction(te,D,ae,q),N}var M=T.dimensions===2||T.dimensions==="1-2"&&Array.isArray(m)&&Array.isArray(m[0]);if(!Array.isArray(m)){y.set(h);return}var v=T.items,c=[],u=Array.isArray(v),b=u&&M&&Array.isArray(v[0]),w=M&&u&&!b,B=u&&!w?v.length:m.length,C,I,O,L,X,Z;if(h=Array.isArray(h)?h:[],M)for(C=0;C<B;C++)for(c[C]=[],O=Array.isArray(m[C])?m[C]:[],w?X=v.length:u?X=v[C].length:X=O.length,I=0;I<X;I++)w?L=v[I]:u?L=v[C][I]:L=v,Z=g(O[I],L,(h[C]||[])[I]),Z!==void 0&&(c[C][I]=Z);else for(C=0;C<B;C++)Z=g(m[C],u?v[C]:v,h[C]),Z!==void 0&&(c[C]=Z);y.set(c)},validateFunction:function(m,y){if(!Array.isArray(m))return!1;var h=y.items,T=Array.isArray(h),g=y.dimensions===2;if(!y.freeLength&&m.length!==h.length)return!1;for(var M=0;M<m.length;M++)if(g){if(!Array.isArray(m[M])||!y.freeLength&&m[M].length!==h[M].length)return!1;for(var v=0;v<m[M].length;v++)if(!p(m[M][v],T?h[M][v]:h))return!1}else if(!p(m[M],T?h[M]:h))return!1;return!0}}},H.coerce=function(m,y,h,T,g){var M=s(h,T).get(),v=s(m,T),c=s(y,T),u=v.get(),b=y._template;if(u===void 0&&b&&(u=s(b,T).get(),b=0),g===void 0&&(g=M.dflt),M.arrayOk&&d(u))return c.set(u),u;var w=H.valObjectMeta[M.valType].coerceFunction;w(u,c,g,M);var B=c.get();return b&&B===g&&!p(u,M)&&(u=s(b,T).get(),w(u,c,g,M),B=c.get()),B},H.coerce2=function(m,y,h,T,g){var M=s(m,T),v=H.coerce(m,y,h,T,g),c=M.get();return c!=null?v:!1},H.coerceFont=function(m,y,h){var T={};return h=h||{},T.family=m(y+".family",h.family),T.size=m(y+".size",h.size),T.color=m(y+".color",h.color),T},H.coercePattern=function(m,y,h,T){var g=m(y+".shape");if(g){m(y+".solidity"),m(y+".size");var M=m(y+".fillmode"),v=M==="overlay";if(!T){var c=m(y+".bgcolor",v?h:void 0);m(y+".fgcolor",v?r.contrast(c):h)}m(y+".fgopacity",v?.5:1)}},H.coerceHoverinfo=function(m,y,h){var T=y._module.attributes,g=T.hoverinfo?T:l,M=g.hoverinfo,v;if(h._dataLength===1){var c=M.dflt==="all"?M.flags.slice():M.dflt.split("+");c.splice(c.indexOf("name"),1),v=c.join("+")}return H.coerce(m,y,g,"hoverinfo",v)},H.coerceSelectionMarkerOpacity=function(m,y){if(m.marker){var h=m.marker.opacity;if(h!==void 0){var T,g;!d(h)&&!m.selected&&!m.unselected&&(T=h,g=f*h),y("selected.marker.opacity",T),y("unselected.marker.opacity",g)}}};function p(m,y){var h=H.valObjectMeta[y.valType];if(y.arrayOk&&d(m))return!0;if(h.validateFunction)return h.validateFunction(m,y);var T={},g=T,M={set:function(v){g=v}};return h.coerceFunction(m,M,T,y),g!==T}H.validate=p},1631:function(re,H,e){var o=e(4096).i$,x=e(2770),l=e(7769),i=e(4872).mod,r=e(606),f=r.BADNUM,s=r.ONEDAY,n=r.ONEHOUR,t=r.ONEMIN,d=r.ONESEC,p=r.EPOCHJD,m=e(3972),y=e(4096).g0,h=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,T=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,g=new Date().getFullYear()-70;function M(N){return N&&m.componentsRegistry.calendars&&typeof N=="string"&&N!=="gregorian"}H.dateTick0=function(N,D){var _=v(N,!!D);if(D<2)return _;var V=H.dateTime2ms(_,N);return V+=s*(D-1),H.ms2DateTime(V,0,N)};function v(N,D){return M(N)?D?m.getComponentMethod("calendars","CANONICAL_SUNDAY")[N]:m.getComponentMethod("calendars","CANONICAL_TICK")[N]:D?"2000-01-02":"2000-01-01"}H.dfltRange=function(N){return M(N)?m.getComponentMethod("calendars","DFLTRANGE")[N]:["2000-01-01","2001-01-01"]},H.isJSDate=function(N){return typeof N=="object"&&N!==null&&typeof N.getTime=="function"};var c,u;H.dateTime2ms=function(N,D){if(H.isJSDate(N)){var _=N.getTimezoneOffset()*t,V=(N.getUTCMinutes()-N.getMinutes())*t+(N.getUTCSeconds()-N.getSeconds())*d+(N.getUTCMilliseconds()-N.getMilliseconds());if(V){var G=3*t;_=_-G/2+i(V-_+G/2,G)}return N=Number(N)-_,N>=c&&N<=u?N:f}if(typeof N!="string"&&typeof N!="number")return f;N=String(N);var Q=M(D),ue=N.charAt(0);Q&&(ue==="G"||ue==="g")&&(N=N.substr(1),D="");var le=Q&&D.substr(0,7)==="chinese",ye=N.match(le?T:h);if(!ye)return f;var Se=ye[1],ce=ye[3]||"1",de=Number(ye[5]||1),S=Number(ye[7]||0),P=Number(ye[9]||0),k=Number(ye[11]||0);if(Q){if(Se.length===2)return f;Se=Number(Se);var z;try{var Y=m.getComponentMethod("calendars","getCal")(D);if(le){var F=ce.charAt(ce.length-1)==="i";ce=parseInt(ce,10),z=Y.newDate(Se,Y.toMonthIndex(Se,ce,F),de)}else z=Y.newDate(Se,Number(ce),de)}catch{return f}return z?(z.toJD()-p)*s+S*n+P*t+k*d:f}Se.length===2?Se=(Number(Se)+2e3-g)%100+g:Se=Number(Se),ce-=1;var J=new Date(Date.UTC(2e3,ce,de,S,P));return J.setUTCFullYear(Se),J.getUTCMonth()!==ce||J.getUTCDate()!==de?f:J.getTime()+k*d},c=H.MIN_MS=H.dateTime2ms("-9999"),u=H.MAX_MS=H.dateTime2ms("9999-12-31 23:59:59.9999"),H.isDateTime=function(N,D){return H.dateTime2ms(N,D)!==f};function b(N,D){return String(N+Math.pow(10,D)).substr(1)}var w=90*s,B=3*n,C=5*t;H.ms2DateTime=function(N,D,_){if(typeof N!="number"||!(N>=c&&N<=u))return f;D||(D=0);var V=Math.floor(i(N+.05,1)*10),G=Math.round(N-V/10),Q,ue,le,ye,Se,ce;if(M(_)){var de=Math.floor(G/s)+p,S=Math.floor(i(N,s));try{Q=m.getComponentMethod("calendars","getCal")(_).fromJD(de).formatDate("yyyy-mm-dd")}catch{Q=y("G%Y-%m-%d")(new Date(G))}if(Q.charAt(0)==="-")for(;Q.length<11;)Q="-0"+Q.substr(1);else for(;Q.length<10;)Q="0"+Q;ue=D<w?Math.floor(S/n):0,le=D<w?Math.floor(S%n/t):0,ye=D<B?Math.floor(S%t/d):0,Se=D<C?S%d*10+V:0}else ce=new Date(G),Q=y("%Y-%m-%d")(ce),ue=D<w?ce.getUTCHours():0,le=D<w?ce.getUTCMinutes():0,ye=D<B?ce.getUTCSeconds():0,Se=D<C?ce.getUTCMilliseconds()*10+V:0;return I(Q,ue,le,ye,Se)},H.ms2DateTimeLocal=function(N){if(!(N>=c+s&&N<=u-s))return f;var D=Math.floor(i(N+.05,1)*10),_=new Date(Math.round(N-D/10)),V=o("%Y-%m-%d")(_),G=_.getHours(),Q=_.getMinutes(),ue=_.getSeconds(),le=_.getUTCMilliseconds()*10+D;return I(V,G,Q,ue,le)};function I(N,D,_,V,G){if((D||_||V||G)&&(N+=" "+b(D,2)+":"+b(_,2),(V||G)&&(N+=":"+b(V,2),G))){for(var Q=4;G%10===0;)Q-=1,G/=10;N+="."+b(G,Q)}return N}H.cleanDate=function(N,D,_){if(N===f)return D;if(H.isJSDate(N)||typeof N=="number"&&isFinite(N)){if(M(_))return l.error("JS Dates and milliseconds are incompatible with world calendars",N),D;if(N=H.ms2DateTimeLocal(+N),!N&&D!==void 0)return D}else if(!H.isDateTime(N,_))return l.error("unrecognized date",N),D;return N};var O=/%\d?f/g,L=/%h/g,X={1:"1",2:"1",3:"2",4:"2"};function Z(N,D,_,V){N=N.replace(O,function(Q){var ue=Math.min(+Q.charAt(1)||6,6),le=(D/1e3%1+2).toFixed(ue).substr(2).replace(/0+$/,"")||"0";return le});var G=new Date(Math.floor(D+.05));if(N=N.replace(L,function(){return X[_("%q")(G)]}),M(V))try{N=m.getComponentMethod("calendars","worldCalFmt")(N,D,V)}catch{return"Invalid"}return _(N)(G)}var te=[59,59.9,59.99,59.999,59.9999];function q(N,D){var _=i(N+.05,s),V=b(Math.floor(_/n),2)+":"+b(i(Math.floor(_/t),60),2);if(D!=="M"){x(D)||(D=0);var G=Math.min(i(N/d,60),te[D]),Q=(100+G).toFixed(D).substr(1);D>0&&(Q=Q.replace(/0+$/,"").replace(/[\.]$/,"")),V+=":"+Q}return V}H.formatDate=function(N,D,_,V,G,Q){if(G=M(G)&&G,!D)if(_==="y")D=Q.year;else if(_==="m")D=Q.month;else if(_==="d")D=Q.dayMonth+`
`+Q.year;else return q(N,_)+`
`+Z(Q.dayMonthYear,N,V,G);return Z(D,N,V,G)};var ae=3*s;H.incrementMonth=function(N,D,_){_=M(_)&&_;var V=i(N,s);if(N=Math.round(N-V),_)try{var G=Math.round(N/s)+p,Q=m.getComponentMethod("calendars","getCal")(_),ue=Q.fromJD(G);return D%12?Q.add(ue,D,"m"):Q.add(ue,D/12,"y"),(ue.toJD()-p)*s+V}catch{l.error("invalid ms "+N+" in calendar "+_)}var le=new Date(N+ae);return le.setUTCMonth(le.getUTCMonth()+D)+V-ae},H.findExactDates=function(N,D){for(var _=0,V=0,G=0,Q=0,ue,le,ye=M(D)&&m.getComponentMethod("calendars","getCal")(D),Se=0;Se<N.length;Se++){if(le=N[Se],!x(le)){Q++;continue}if(!(le%s))if(ye)try{ue=ye.fromJD(le/s+p),ue.day()===1?ue.month()===1?_++:V++:G++}catch{}else ue=new Date(le),ue.getUTCDate()===1?ue.getUTCMonth()===0?_++:V++:G++}V+=_,G+=V;var ce=N.length-Q;return{exactYears:_/ce,exactMonths:V/ce,exactDays:G/ce}}},4401:function(re,H,e){var o=e(9898),x=e(7769),l=e(5657),i=e(9576);function r(g){var M;if(typeof g=="string"){if(M=document.getElementById(g),M===null)throw new Error("No DOM element with id '"+g+"' exists on the page.");return M}else if(g==null)throw new Error("DOM element provided is null or undefined");return g}function f(g){var M=o.select(g);return M.node()instanceof HTMLElement&&M.size()&&M.classed("js-plotly-plot")}function s(g){var M=g&&g.parentNode;M&&M.removeChild(g)}function n(g,M){t("global",g,M)}function t(g,M,v){var c="plotly.js-style-"+g,u=document.getElementById(c);u||(u=document.createElement("style"),u.setAttribute("id",c),u.appendChild(document.createTextNode("")),document.head.appendChild(u));var b=u.sheet;b.insertRule?b.insertRule(M+"{"+v+"}",0):b.addRule?b.addRule(M,v,0):x.warn("addStyleRule failed")}function d(g){var M="plotly.js-style-"+g,v=document.getElementById(M);v&&s(v)}function p(g){var M=y(g),v=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return M.forEach(function(c){var u=m(c);if(u){var b=l.convertCssMatrix(u);v=i.multiply(v,v,b)}}),v}function m(g){var M=window.getComputedStyle(g,null),v=M.getPropertyValue("-webkit-transform")||M.getPropertyValue("-moz-transform")||M.getPropertyValue("-ms-transform")||M.getPropertyValue("-o-transform")||M.getPropertyValue("transform");return v==="none"?null:v.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(c){return+c})}function y(g){for(var M=[];h(g);)M.push(g),g=g.parentNode;return M}function h(g){return g&&(g instanceof Element||g instanceof HTMLElement)}function T(g,M){return g&&M&&g.top===M.top&&g.left===M.left&&g.right===M.right&&g.bottom===M.bottom}re.exports={getGraphDiv:r,isPlotDiv:f,removeElement:s,addStyleRule:n,addRelatedStyleRule:t,deleteRelatedStyleRule:d,getFullTransformMatrix:p,getElementTransformMatrix:m,getElementAndAncestors:y,equalDomRects:T}},1086:function(re,H,e){var o=e(5398).EventEmitter,x={init:function(l){if(l._ev instanceof o)return l;var i=new o,r=new o;return l._ev=i,l._internalEv=r,l.on=i.on.bind(i),l.once=i.once.bind(i),l.removeListener=i.removeListener.bind(i),l.removeAllListeners=i.removeAllListeners.bind(i),l._internalOn=r.on.bind(r),l._internalOnce=r.once.bind(r),l._removeInternalListener=r.removeListener.bind(r),l._removeAllInternalListeners=r.removeAllListeners.bind(r),l.emit=function(f,s){typeof jQuery<"u"&&jQuery(l).trigger(f,s),i.emit(f,s),r.emit(f,s)},l},triggerHandler:function(l,i,r){var f,s;typeof jQuery<"u"&&(f=jQuery(l).triggerHandler(i,r));var n=l._ev;if(!n)return f;var t=n._events[i];if(!t)return f;function d(m){if(m.listener){if(n.removeListener(i,m.listener),!m.fired)return m.fired=!0,m.listener.apply(n,[r])}else return m.apply(n,[r])}t=Array.isArray(t)?t:[t];var p;for(p=0;p<t.length-1;p++)d(t[p]);return s=d(t[p]),f!==void 0?f:s},purge:function(l){return delete l._ev,delete l.on,delete l.once,delete l.removeListener,delete l.removeAllListeners,delete l.emit,delete l._ev,delete l._internalEv,delete l._internalOn,delete l._internalOnce,delete l._removeInternalListener,delete l._removeAllInternalListeners,l}};re.exports=x},1426:function(re,H,e){var o=e(1965),x=Array.isArray;function l(r,f){var s,n;for(s=0;s<r.length;s++){if(n=r[s],n!==null&&typeof n=="object")return!1;n!==void 0&&(f[s]=n)}return!0}H.extendFlat=function(){return i(arguments,!1,!1,!1)},H.extendDeep=function(){return i(arguments,!0,!1,!1)},H.extendDeepAll=function(){return i(arguments,!0,!0,!1)},H.extendDeepNoArrays=function(){return i(arguments,!0,!1,!0)};function i(r,f,s,n){var t=r[0],d=r.length,p,m,y,h,T,g,M;if(d===2&&x(t)&&x(r[1])&&t.length===0){if(M=l(r[1],t),M)return t;t.splice(0,t.length)}for(var v=1;v<d;v++){p=r[v];for(m in p)y=t[m],h=p[m],n&&x(h)?t[m]=h:f&&h&&(o(h)||(T=x(h)))?(T?(T=!1,g=y&&x(y)?y:[]):g=y&&o(y)?y:{},t[m]=i([g,h],f,s,n)):(typeof h<"u"||s)&&(t[m]=h)}return t}},5744:function(re){re.exports=function(e){for(var o={},x=[],l=0,i=0;i<e.length;i++){var r=e[i];o[r]!==1&&(o[r]=1,x[l++]=r)}return x}},6756:function(re){re.exports=function(l){for(var i=o(l)?e:H,r=[],f=0;f<l.length;f++){var s=l[f];i(s)&&r.push(s)}return r};function H(x){return x.visible===!0}function e(x){var l=x[0].trace;return l.visible===!0&&l._length!==0}function o(x){return Array.isArray(x)&&Array.isArray(x[0])&&x[0][0]&&x[0][0].trace}},7642:function(re,H,e){var o=e(4872).mod;H.segmentsIntersect=x;function x(s,n,t,d,p,m,y,h){var T=t-s,g=p-s,M=y-p,v=d-n,c=m-n,u=h-m,b=T*u-M*v;if(b===0)return null;var w=(g*u-M*c)/b,B=(g*v-T*c)/b;return B<0||B>1||w<0||w>1?null:{x:s+T*w,y:n+v*w}}H.segmentDistance=function(n,t,d,p,m,y,h,T){if(x(n,t,d,p,m,y,h,T))return 0;var g=d-n,M=p-t,v=h-m,c=T-y,u=g*g+M*M,b=v*v+c*c,w=Math.min(l(g,M,u,m-n,y-t),l(g,M,u,h-n,T-t),l(v,c,b,n-m,t-y),l(v,c,b,d-m,p-y));return Math.sqrt(w)};function l(s,n,t,d,p){var m=d*s+p*n;if(m<0)return d*d+p*p;if(m>t){var y=d-s,h=p-n;return y*y+h*h}else{var T=d*n-p*s;return T*T/t}}var i,r,f;H.getTextLocation=function(n,t,d,p){if((n!==r||p!==f)&&(i={},r=n,f=p),i[d])return i[d];var m=n.getPointAtLength(o(d-p/2,t)),y=n.getPointAtLength(o(d+p/2,t)),h=Math.atan((y.y-m.y)/(y.x-m.x)),T=n.getPointAtLength(o(d,t)),g=(T.x*4+m.x+y.x)/6,M=(T.y*4+m.y+y.y)/6,v={x:g,y:M,theta:h};return i[d]=v,v},H.clearLocationCache=function(){r=null},H.getVisibleSegment=function(n,t,d){var p=t.left,m=t.right,y=t.top,h=t.bottom,T=0,g=n.getTotalLength(),M=g,v,c;function u(w){var B=n.getPointAtLength(w);w===0?v=B:w===g&&(c=B);var C=B.x<p?p-B.x:B.x>m?B.x-m:0,I=B.y<y?y-B.y:B.y>h?B.y-h:0;return Math.sqrt(C*C+I*I)}for(var b=u(T);b;){if(T+=b+d,T>M)return;b=u(T)}for(b=u(M);b;){if(M-=b+d,T>M)return;b=u(M)}return{min:T,max:M,len:M-T,total:g,isClosed:T===0&&M===g&&Math.abs(v.x-c.x)<.1&&Math.abs(v.y-c.y)<.1}},H.findPointOnPath=function(n,t,d,p){p=p||{};for(var m=p.pathLength||n.getTotalLength(),y=p.tolerance||.001,h=p.iterationLimit||30,T=n.getPointAtLength(0)[d]>n.getPointAtLength(m)[d]?-1:1,g=0,M=0,v=m,c,u,b;g<h;){if(c=(M+v)/2,u=n.getPointAtLength(c),b=u[d]-t,Math.abs(b)<y)return u;T*b>0?v=c:M=c,g++}return u}},3389:function(re){re.exports=function(e){return e}},9240:function(re){re.exports=function(e,o){if(!o)return e;var x=1/Math.abs(o),l=x>1?(x*e+x*o)/x:e+o,i=String(l).length;if(i>16){var r=String(o).length,f=String(e).length;if(i>=f+r){var s=parseFloat(l).toPrecision(12);s.indexOf("e+")===-1&&(l=+s)}}return l}},1828:function(re,H,e){var o=e(9898),x=e(4096).g0,l=e(721).WU,i=e(2770),r=e(606),f=r.FP_SAFE,s=-f,n=r.BADNUM,t=re.exports={};t.adjustFormat=function(P){return!P||/^\d[.]\df/.test(P)||/[.]\d%/.test(P)?P:P==="0.f"?"~f":/^\d%/.test(P)?"~%":/^\ds/.test(P)?"~s":!/^[~,.0$]/.test(P)&&/[&fps]/.test(P)?"~"+P:P};var d={};t.warnBadFormat=function(S){var P=String(S);d[P]||(d[P]=1,t.warn('encountered bad format: "'+P+'"'))},t.noFormat=function(S){return String(S)},t.numberFormat=function(S){var P;try{P=l(t.adjustFormat(S))}catch{return t.warnBadFormat(S),t.noFormat}return P},t.nestedProperty=e(5487),t.keyedContainer=e(6636),t.relativeAttr=e(6962),t.isPlainObject=e(1965),t.toLogRange=e(8163),t.relinkPrivateKeys=e(1332);var p=e(3627);t.isTypedArray=p.isTypedArray,t.isArrayOrTypedArray=p.isArrayOrTypedArray,t.isArray1D=p.isArray1D,t.ensureArray=p.ensureArray,t.concat=p.concat,t.maxRowLength=p.maxRowLength,t.minRowLength=p.minRowLength;var m=e(4872);t.mod=m.mod,t.modHalf=m.modHalf;var y=e(6554);t.valObjectMeta=y.valObjectMeta,t.coerce=y.coerce,t.coerce2=y.coerce2,t.coerceFont=y.coerceFont,t.coercePattern=y.coercePattern,t.coerceHoverinfo=y.coerceHoverinfo,t.coerceSelectionMarkerOpacity=y.coerceSelectionMarkerOpacity,t.validate=y.validate;var h=e(1631);t.dateTime2ms=h.dateTime2ms,t.isDateTime=h.isDateTime,t.ms2DateTime=h.ms2DateTime,t.ms2DateTimeLocal=h.ms2DateTimeLocal,t.cleanDate=h.cleanDate,t.isJSDate=h.isJSDate,t.formatDate=h.formatDate,t.incrementMonth=h.incrementMonth,t.dateTick0=h.dateTick0,t.dfltRange=h.dfltRange,t.findExactDates=h.findExactDates,t.MIN_MS=h.MIN_MS,t.MAX_MS=h.MAX_MS;var T=e(5888);t.findBin=T.findBin,t.sorterAsc=T.sorterAsc,t.sorterDes=T.sorterDes,t.distinctVals=T.distinctVals,t.roundUp=T.roundUp,t.sort=T.sort,t.findIndexOfMin=T.findIndexOfMin,t.sortObjectKeys=e(8607);var g=e(38);t.aggNums=g.aggNums,t.len=g.len,t.mean=g.mean,t.median=g.median,t.midRange=g.midRange,t.variance=g.variance,t.stdev=g.stdev,t.interp=g.interp;var M=e(5657);t.init2dArray=M.init2dArray,t.transposeRagged=M.transposeRagged,t.dot=M.dot,t.translationMatrix=M.translationMatrix,t.rotationMatrix=M.rotationMatrix,t.rotationXYMatrix=M.rotationXYMatrix,t.apply3DTransform=M.apply3DTransform,t.apply2DTransform=M.apply2DTransform,t.apply2DTransform2=M.apply2DTransform2,t.convertCssMatrix=M.convertCssMatrix,t.inverseTransformMatrix=M.inverseTransformMatrix;var v=e(6348);t.deg2rad=v.deg2rad,t.rad2deg=v.rad2deg,t.angleDelta=v.angleDelta,t.angleDist=v.angleDist,t.isFullCircle=v.isFullCircle,t.isAngleInsideSector=v.isAngleInsideSector,t.isPtInsideSector=v.isPtInsideSector,t.pathArc=v.pathArc,t.pathSector=v.pathSector,t.pathAnnulus=v.pathAnnulus;var c=e(9863);t.isLeftAnchor=c.isLeftAnchor,t.isCenterAnchor=c.isCenterAnchor,t.isRightAnchor=c.isRightAnchor,t.isTopAnchor=c.isTopAnchor,t.isMiddleAnchor=c.isMiddleAnchor,t.isBottomAnchor=c.isBottomAnchor;var u=e(7642);t.segmentsIntersect=u.segmentsIntersect,t.segmentDistance=u.segmentDistance,t.getTextLocation=u.getTextLocation,t.clearLocationCache=u.clearLocationCache,t.getVisibleSegment=u.getVisibleSegment,t.findPointOnPath=u.findPointOnPath;var b=e(1426);t.extendFlat=b.extendFlat,t.extendDeep=b.extendDeep,t.extendDeepAll=b.extendDeepAll,t.extendDeepNoArrays=b.extendDeepNoArrays;var w=e(7769);t.log=w.log,t.warn=w.warn,t.error=w.error;var B=e(587);t.counterRegex=B.counter;var C=e(9990);t.throttle=C.throttle,t.throttleDone=C.done,t.clearThrottle=C.clear;var I=e(4401);t.getGraphDiv=I.getGraphDiv,t.isPlotDiv=I.isPlotDiv,t.removeElement=I.removeElement,t.addStyleRule=I.addStyleRule,t.addRelatedStyleRule=I.addRelatedStyleRule,t.deleteRelatedStyleRule=I.deleteRelatedStyleRule,t.getFullTransformMatrix=I.getFullTransformMatrix,t.getElementTransformMatrix=I.getElementTransformMatrix,t.getElementAndAncestors=I.getElementAndAncestors,t.equalDomRects=I.equalDomRects,t.clearResponsive=e(6367),t.preserveDrawingBuffer=e(5142),t.makeTraceGroups=e(7310),t._=e(5867),t.notifier=e(5046),t.filterUnique=e(5744),t.filterVisible=e(6756),t.pushUnique=e(5138),t.increment=e(9240),t.cleanNumber=e(5218),t.ensureNumber=function(P){return i(P)?(P=Number(P),P>f||P<s?n:P):n},t.isIndex=function(S,P){return P!==void 0&&S>=P?!1:i(S)&&S>=0&&S%1===0},t.noop=e(4213),t.identity=e(3389),t.repeat=function(S,P){for(var k=new Array(P),z=0;z<P;z++)k[z]=S;return k},t.swapAttrs=function(S,P,k,z){k||(k="x"),z||(z="y");for(var Y=0;Y<P.length;Y++){var F=P[Y],J=t.nestedProperty(S,F.replace("?",k)),E=t.nestedProperty(S,F.replace("?",z)),K=J.get();J.set(E.get()),E.set(K)}},t.raiseToTop=function(P){P.parentNode.appendChild(P)},t.cancelTransition=function(S){return S.transition().duration(0)},t.constrain=function(S,P,k){return P>k?Math.max(k,Math.min(P,S)):Math.max(P,Math.min(k,S))},t.bBoxIntersect=function(S,P,k){return k=k||0,S.left<=P.right+k&&P.left<=S.right+k&&S.top<=P.bottom+k&&P.top<=S.bottom+k},t.simpleMap=function(S,P,k,z,Y){for(var F=S.length,J=new Array(F),E=0;E<F;E++)J[E]=P(S[E],k,z,Y);return J},t.randstr=function S(P,k,z,Y){if(z||(z=16),k===void 0&&(k=24),k<=0)return"0";var F=Math.log(Math.pow(2,k))/Math.log(z),J="",E,K,ie;for(E=2;F===1/0;E*=2)F=Math.log(Math.pow(2,k/E))/Math.log(z)*E;var ve=F-Math.floor(F);for(E=0;E<Math.floor(F);E++)ie=Math.floor(Math.random()*z).toString(z),J=ie+J;ve&&(K=Math.pow(z,ve),ie=Math.floor(Math.random()*K).toString(z),J=ie+J);var he=parseInt(J,z);return P&&P[J]||he!==1/0&&he>=Math.pow(2,k)?Y>10?(t.warn("randstr failed uniqueness"),J):S(P,k,z,(Y||0)+1):J},t.OptionControl=function(S,P){S||(S={}),P||(P="opt");var k={};return k.optionList=[],k._newoption=function(z){z[P]=S,k[z.name]=z,k.optionList.push(z)},k["_"+P]=S,k},t.smooth=function(S,P){if(P=Math.round(P)||0,P<2)return S;var k=S.length,z=2*k,Y=2*P-1,F=new Array(Y),J=new Array(k),E,K,ie,ve;for(E=0;E<Y;E++)F[E]=(1-Math.cos(Math.PI*(E+1)/P))/(2*P);for(E=0;E<k;E++){for(ve=0,K=0;K<Y;K++)ie=E+K+1-P,ie<-k?ie-=z*Math.round(ie/z):ie>=z&&(ie-=z*Math.floor(ie/z)),ie<0?ie=-1-ie:ie>=k&&(ie=z-1-ie),ve+=S[ie]*F[K];J[E]=ve}return J},t.syncOrAsync=function(S,P,k){var z,Y;function F(){return t.syncOrAsync(S,P,k)}for(;S.length;)if(Y=S.splice(0,1)[0],z=Y(P),z&&z.then)return z.then(F);return k&&k(P)},t.stripTrailingSlash=function(S){return S.substr(-1)==="/"?S.substr(0,S.length-1):S},t.noneOrAll=function(S,P,k){if(S){var z=!1,Y=!0,F,J;for(F=0;F<k.length;F++)J=S[k[F]],J!=null?z=!0:Y=!1;if(z&&!Y)for(F=0;F<k.length;F++)S[k[F]]=P[k[F]]}},t.mergeArray=function(S,P,k,z){var Y=typeof z=="function";if(t.isArrayOrTypedArray(S))for(var F=Math.min(S.length,P.length),J=0;J<F;J++){var E=S[J];P[J][k]=Y?z(E):E}},t.mergeArrayCastPositive=function(S,P,k){return t.mergeArray(S,P,k,function(z){var Y=+z;return isFinite(Y)&&Y>0?Y:0})},t.fillArray=function(S,P,k,z){if(z=z||t.identity,t.isArrayOrTypedArray(S))for(var Y=0;Y<P.length;Y++)P[Y][k]=z(S[Y])},t.castOption=function(S,P,k,z){z=z||t.identity;var Y=t.nestedProperty(S,k).get();return t.isArrayOrTypedArray(Y)?Array.isArray(P)&&t.isArrayOrTypedArray(Y[P[0]])?z(Y[P[0]][P[1]]):z(Y[P]):Y},t.extractOption=function(S,P,k,z){if(k in S)return S[k];var Y=t.nestedProperty(P,z).get();if(!Array.isArray(Y))return Y};function O(S){var P={};for(var k in S)for(var z=S[k],Y=0;Y<z.length;Y++)P[z[Y]]=+k;return P}t.tagSelected=function(S,P,k){var z=P.selectedpoints,Y=P._indexToPoints,F;Y&&(F=O(Y));function J(he){return he!==void 0&&he<S.length}for(var E=0;E<z.length;E++){var K=z[E];if(t.isIndex(K)||t.isArrayOrTypedArray(K)&&t.isIndex(K[0])&&t.isIndex(K[1])){var ie=F?F[K]:K,ve=k?k[ie]:ie;J(ve)&&(S[ve].selected=1)}}},t.selIndices2selPoints=function(S){var P=S.selectedpoints,k=S._indexToPoints;if(k){for(var z=O(k),Y=[],F=0;F<P.length;F++){var J=P[F];if(t.isIndex(J)){var E=z[J];t.isIndex(E)&&Y.push(E)}}return Y}else return P},t.getTargetArray=function(S,P){var k=P.target;if(typeof k=="string"&&k){var z=t.nestedProperty(S,k).get();return Array.isArray(z)?z:!1}else if(Array.isArray(k))return k;return!1},t.minExtend=function(S,P){var k={};typeof P!="object"&&(P={});var z=3,Y=Object.keys(S),F,J,E;for(F=0;F<Y.length;F++)J=Y[F],E=S[J],!(J.charAt(0)==="_"||typeof E=="function")&&(J==="module"?k[J]=E:Array.isArray(E)?J==="colorscale"?k[J]=E.slice():k[J]=E.slice(0,z):t.isTypedArray(E)?k[J]=E.subarray(0,z):E&&typeof E=="object"?k[J]=t.minExtend(S[J],P[J]):k[J]=E);for(Y=Object.keys(P),F=0;F<Y.length;F++)J=Y[F],E=P[J],(typeof E!="object"||!(J in k)||typeof k[J]!="object")&&(k[J]=E);return k},t.titleCase=function(S){return S.charAt(0).toUpperCase()+S.substr(1)},t.containsAny=function(S,P){for(var k=0;k<P.length;k++)if(S.indexOf(P[k])!==-1)return!0;return!1},t.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var L=/Version\/[\d\.]+.*Safari/;t.isSafari=function(){return L.test(window.navigator.userAgent)};var X=/iPad|iPhone|iPod/;t.isIOS=function(){return X.test(window.navigator.userAgent)};var Z=/Firefox\/(\d+)\.\d+/;t.getFirefoxVersion=function(){var S=Z.exec(window.navigator.userAgent);if(S&&S.length===2){var P=parseInt(S[1]);if(!isNaN(P))return P}return null},t.isD3Selection=function(S){return S instanceof o.selection},t.ensureSingle=function(S,P,k,z){var Y=S.select(P+(k?"."+k:""));if(Y.size())return Y;var F=S.append(P);return k&&F.classed(k,!0),z&&F.call(z),F},t.ensureSingleById=function(S,P,k,z){var Y=S.select(P+"#"+k);if(Y.size())return Y;var F=S.append(P).attr("id",k);return z&&F.call(z),F},t.objectFromPath=function(S,P){for(var k=S.split("."),z,Y=z={},F=0;F<k.length;F++){var J=k[F],E=null,K=k[F].match(/(.*)\[([0-9]+)\]/);K?(J=K[1],E=K[2],z=z[J]=[],F===k.length-1?z[E]=P:z[E]={},z=z[E]):(F===k.length-1?z[J]=P:z[J]={},z=z[J])}return Y};var te=/^([^\[\.]+)\.(.+)?/,q=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;t.expandObjectPaths=function(S){var P,k,z,Y,F,J,E;if(typeof S=="object"&&!Array.isArray(S))for(k in S)S.hasOwnProperty(k)&&((P=k.match(te))?(Y=S[k],z=P[1],delete S[k],S[z]=t.extendDeepNoArrays(S[z]||{},t.objectFromPath(k,t.expandObjectPaths(Y))[z])):(P=k.match(q))?(Y=S[k],z=P[1],F=parseInt(P[2]),delete S[k],S[z]=S[z]||[],P[3]==="."?(E=P[4],J=S[z][F]=S[z][F]||{},t.extendDeepNoArrays(J,t.objectFromPath(E,t.expandObjectPaths(Y)))):S[z][F]=t.expandObjectPaths(Y)):S[k]=t.expandObjectPaths(S[k]));return S},t.numSeparate=function(S,P,k){if(k||(k=!1),typeof P!="string"||P.length===0)throw new Error("Separator string required for formatting!");typeof S=="number"&&(S=String(S));var z=/(\d+)(\d{3})/,Y=P.charAt(0),F=P.charAt(1),J=S.split("."),E=J[0],K=J.length>1?Y+J[1]:"";if(F&&(J.length>1||E.length>4||k))for(;z.test(E);)E=E.replace(z,"$1"+F+"$2");return E+K},t.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var ae=/^\w*$/;t.templateString=function(S,P){var k={};return S.replace(t.TEMPLATE_STRING_REGEX,function(z,Y){var F;return ae.test(Y)?F=P[Y]:(k[Y]=k[Y]||t.nestedProperty(P,Y).get,F=k[Y]()),t.isValidTextValue(F)?F:""})};var N={max:10,count:0,name:"hovertemplate"};t.hovertemplateString=function(){return ue.apply(N,arguments)};var D={max:10,count:0,name:"texttemplate"};t.texttemplateString=function(){return ue.apply(D,arguments)};var _=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function V(S){var P=S.match(_);return P?{key:P[1],op:P[2],number:Number(P[3])}:{key:S,op:null,number:null}}var G={max:10,count:0,name:"texttemplate",parseMultDiv:!0};t.texttemplateStringForShapes=function(){return ue.apply(G,arguments)};var Q=/^[:|\|]/;function ue(S,P,k){var z=this,Y=arguments;P||(P={});var F={};return S.replace(t.TEMPLATE_STRING_REGEX,function(J,E,K){var ie=E==="xother"||E==="yother",ve=E==="_xother"||E==="_yother",he=E==="_xother_"||E==="_yother_",Le=E==="xother_"||E==="yother_",ke=ie||ve||Le||he,se=E;(ve||he)&&(se=se.substring(1)),(Le||he)&&(se=se.substring(0,se.length-1));var ge=null,be=null;if(z.parseMultDiv){var Ee=V(se);se=Ee.key,ge=Ee.op,be=Ee.number}var we;if(ke){if(we=P[se],we===void 0)return""}else{var Te,Ne;for(Ne=3;Ne<Y.length;Ne++)if(Te=Y[Ne],!!Te){if(Te.hasOwnProperty(se)){we=Te[se];break}if(ae.test(se)||(we=t.nestedProperty(Te,se).get(),we=F[se]||t.nestedProperty(Te,se).get(),we&&(F[se]=we)),we!==void 0)break}}if(we!==void 0&&(ge==="*"&&(we*=be),ge==="/"&&(we/=be)),we===void 0&&z)return z.count<z.max&&(t.warn("Variable '"+se+"' in "+z.name+" could not be found!"),we=J),z.count===z.max&&t.warn("Too many "+z.name+" warnings - additional warnings will be suppressed"),z.count++,J;if(K){var $e;if(K[0]===":"&&($e=k?k.numberFormat:t.numberFormat,we=$e(K.replace(Q,""))(we)),K[0]==="|"){$e=k?k.timeFormat:x;var je=t.dateTime2ms(we);we=t.formatDate(je,K.replace(Q,""),!1,$e)}}else{var He=se+"Label";P.hasOwnProperty(He)&&(we=P[He])}return ke&&(we="("+we+")",(ve||he)&&(we=" "+we),(Le||he)&&(we=we+" ")),we})}var le=48,ye=57;t.subplotSort=function(S,P){for(var k=Math.min(S.length,P.length)+1,z=0,Y=0,F=0;F<k;F++){var J=S.charCodeAt(F)||0,E=P.charCodeAt(F)||0,K=J>=le&&J<=ye,ie=E>=le&&E<=ye;if(K&&(z=10*z+J-le),ie&&(Y=10*Y+E-le),!K||!ie){if(z!==Y)return z-Y;if(J!==E)return J-E}}return Y-z};var Se=2e9;t.seedPseudoRandom=function(){Se=2e9},t.pseudoRandom=function(){var S=Se;return Se=(69069*Se+1)%4294967296,Math.abs(Se-S)<429496729?t.pseudoRandom():Se/4294967296},t.fillText=function(S,P,k){var z=Array.isArray(k)?function(J){k.push(J)}:function(J){k.text=J},Y=t.extractOption(S,P,"htx","hovertext");if(t.isValidTextValue(Y))return z(Y);var F=t.extractOption(S,P,"tx","text");if(t.isValidTextValue(F))return z(F)},t.isValidTextValue=function(S){return S||S===0},t.formatPercent=function(S,P){P=P||0;for(var k=(Math.round(100*S*Math.pow(10,P))*Math.pow(.1,P)).toFixed(P)+"%",z=0;z<P;z++)k.indexOf(".")!==-1&&(k=k.replace("0%","%"),k=k.replace(".%","%"));return k},t.isHidden=function(S){var P=window.getComputedStyle(S).display;return!P||P==="none"},t.strTranslate=function(S,P){return S||P?"translate("+S+","+P+")":""},t.strRotate=function(S){return S?"rotate("+S+")":""},t.strScale=function(S){return S!==1?"scale("+S+")":""},t.getTextTransform=function(S){var P=S.noCenter,k=S.textX,z=S.textY,Y=S.targetX,F=S.targetY,J=S.anchorX||0,E=S.anchorY||0,K=S.rotate,ie=S.scale;return ie?ie>1&&(ie=1):ie=0,t.strTranslate(Y-ie*(k+J),F-ie*(z+E))+t.strScale(ie)+(K?"rotate("+K+(P?"":" "+k+" "+z)+")":"")},t.setTransormAndDisplay=function(S,P){S.attr("transform",t.getTextTransform(P)),S.style("display",P.scale?null:"none")},t.ensureUniformFontSize=function(S,P){var k=t.extendFlat({},P);return k.size=Math.max(P.size,S._fullLayout.uniformtext.minsize||0),k},t.join2=function(S,P,k){var z=S.length;return z>1?S.slice(0,-1).join(P)+k+S[z-1]:S.join(P)},t.bigFont=function(S){return Math.round(1.2*S)};var ce=t.getFirefoxVersion(),de=ce!==null&&ce<86;t.getPositionFromD3Event=function(){return de?[o.event.layerX,o.event.layerY]:[o.event.offsetX,o.event.offsetY]}},1965:function(re){re.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},6636:function(re,H,e){var o=e(5487),x=/^\w*$/,l=0,i=1,r=2,f=3,s=4;re.exports=function(t,d,p,m){p=p||"name",m=m||"value";var y,h,T,g={};d&&d.length?(T=o(t,d),h=T.get()):h=t,d=d||"";var M={};if(h)for(y=0;y<h.length;y++)M[h[y][p]]=y;var v=x.test(m),c={set:function(u,b){var w=b===null?s:l;if(!h){if(!T||w===s)return;h=[],T.set(h)}var B=M[u];if(B===void 0){if(w===s)return;w=w|f,B=h.length,M[u]=B}else b!==(v?h[B][m]:o(h[B],m).get())&&(w=w|r);var C=h[B]=h[B]||{};return C[p]=u,v?C[m]=b:o(C,m).set(b),b!==null&&(w=w&~s),g[B]=g[B]|w,c},get:function(u){if(h){var b=M[u];if(b!==void 0)return v?h[b][m]:o(h[b],m).get()}},rename:function(u,b){var w=M[u];return w===void 0||(g[w]=g[w]|i,M[b]=w,delete M[u],h[w][p]=b),c},remove:function(u){var b=M[u];if(b===void 0)return c;var w=h[b];if(Object.keys(w).length>2)return g[b]=g[b]|r,c.set(u,null);if(v){for(y=b;y<h.length;y++)g[y]=g[y]|f;for(y=b;y<h.length;y++)M[h[y][p]]--;h.splice(b,1),delete M[u]}else o(w,m).set(null),g[b]=g[b]|r|s;return c},constructUpdate:function(){for(var u,b,w={},B=Object.keys(g),C=0;C<B.length;C++)b=B[C],u=d+"["+b+"]",h[b]?(g[b]&i&&(w[u+"."+p]=h[b][p]),g[b]&r&&(v?w[u+"."+m]=g[b]&s?null:h[b][m]:w[u+"."+m]=g[b]&s?null:o(h[b],m).get())):w[u]=null;return w}};return c}},5867:function(re,H,e){var o=e(3972);re.exports=function(l,i){for(var r=l._context.locale,f=0;f<2;f++){for(var s=l._context.locales,n=0;n<2;n++){var t=(s[r]||{}).dictionary;if(t){var d=t[i];if(d)return d}s=o.localeRegistry}var p=r.split("-")[0];if(p===r)break;r=p}return i}},7769:function(re,H,e){var o=e(2075).dfltConfig,x=e(5046),l=re.exports={};l.log=function(){var i;if(o.logging>1){var r=["LOG:"];for(i=0;i<arguments.length;i++)r.push(arguments[i]);console.trace.apply(console,r)}if(o.notifyOnLogging>1){var f=[];for(i=0;i<arguments.length;i++)f.push(arguments[i]);x(f.join("<br>"),"long")}},l.warn=function(){var i;if(o.logging>0){var r=["WARN:"];for(i=0;i<arguments.length;i++)r.push(arguments[i]);console.trace.apply(console,r)}if(o.notifyOnLogging>0){var f=[];for(i=0;i<arguments.length;i++)f.push(arguments[i]);x(f.join("<br>"),"stick")}},l.error=function(){var i;if(o.logging>0){var r=["ERROR:"];for(i=0;i<arguments.length;i++)r.push(arguments[i]);console.error.apply(console,r)}if(o.notifyOnLogging>0){var f=[];for(i=0;i<arguments.length;i++)f.push(arguments[i]);x(f.join("<br>"),"stick")}}},7310:function(re,H,e){var o=e(9898);re.exports=function(l,i,r){var f=l.selectAll("g."+r.replace(/\s/g,".")).data(i,function(n){return n[0].trace.uid});f.exit().remove(),f.enter().append("g").attr("class",r),f.order();var s=l.classed("rangeplot")?"nodeRangePlot3":"node3";return f.each(function(n){n[0][s]=o.select(this)}),f}},5657:function(re,H,e){var o=e(9576);H.init2dArray=function(x,l){for(var i=new Array(x),r=0;r<x;r++)i[r]=new Array(l);return i},H.transposeRagged=function(x){var l=0,i=x.length,r,f;for(r=0;r<i;r++)l=Math.max(l,x[r].length);var s=new Array(l);for(r=0;r<l;r++)for(s[r]=new Array(i),f=0;f<i;f++)s[r][f]=x[f][r];return s},H.dot=function(x,l){if(!(x.length&&l.length)||x.length!==l.length)return null;var i=x.length,r,f;if(x[0].length)for(r=new Array(i),f=0;f<i;f++)r[f]=H.dot(x[f],l);else if(l[0].length){var s=H.transposeRagged(l);for(r=new Array(s.length),f=0;f<s.length;f++)r[f]=H.dot(x,s[f])}else for(r=0,f=0;f<i;f++)r+=x[f]*l[f];return r},H.translationMatrix=function(x,l){return[[1,0,x],[0,1,l],[0,0,1]]},H.rotationMatrix=function(x){var l=x*Math.PI/180;return[[Math.cos(l),-Math.sin(l),0],[Math.sin(l),Math.cos(l),0],[0,0,1]]},H.rotationXYMatrix=function(x,l,i){return H.dot(H.dot(H.translationMatrix(l,i),H.rotationMatrix(x)),H.translationMatrix(-l,-i))},H.apply3DTransform=function(x){return function(){var l=arguments,i=arguments.length===1?l[0]:[l[0],l[1],l[2]||0];return H.dot(x,[i[0],i[1],i[2],1]).slice(0,3)}},H.apply2DTransform=function(x){return function(){var l=arguments;l.length===3&&(l=l[0]);var i=arguments.length===1?l[0]:[l[0],l[1]];return H.dot(x,[i[0],i[1],1]).slice(0,2)}},H.apply2DTransform2=function(x){var l=H.apply2DTransform(x);return function(i){return l(i.slice(0,2)).concat(l(i.slice(2,4)))}},H.convertCssMatrix=function(x){if(x){var l=x.length;if(l===16)return x;if(l===6)return[x[0],x[1],0,0,x[2],x[3],0,0,0,0,1,0,x[4],x[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},H.inverseTransformMatrix=function(x){var l=[];return o.invert(l,x),[[l[0],l[1],l[2],l[3]],[l[4],l[5],l[6],l[7]],[l[8],l[9],l[10],l[11]],[l[12],l[13],l[14],l[15]]]}},4872:function(re){function H(o,x){var l=o%x;return l<0?l+x:l}function e(o,x){return Math.abs(o)>x/2?o-Math.round(o/x)*x:o}re.exports={mod:H,modHalf:e}},5487:function(re,H,e){var o=e(2770),x=e(3627).isArrayOrTypedArray;re.exports=function(m,y){if(o(y))y=String(y);else if(typeof y!="string"||y.substr(y.length-4)==="[-1]")throw"bad property string";for(var h=0,T=y.split("."),g,M,v;h<T.length;){if(g=String(T[h]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),g){if(g[1])T[h]=g[1];else if(h===0)T.splice(0,1);else throw"bad property string";for(M=g[2].substr(1,g[2].length-2).split("]["),v=0;v<M.length;v++)h++,T.splice(h,0,Number(M[v]))}h++}return typeof m!="object"?d(m,y,T):{set:f(m,T,y),get:l(m,T),astr:y,parts:T,obj:m}};function l(p,m){return function(){var y=p,h,T,g,M,v;for(M=0;M<m.length-1;M++){if(h=m[M],h===-1){for(T=!0,g=[],v=0;v<y.length;v++)g[v]=l(y[v],m.slice(M+1))(),g[v]!==g[0]&&(T=!1);return T?g[0]:g}if(typeof h=="number"&&!x(y)||(y=y[h],typeof y!="object"||y===null))return}if(!(typeof y!="object"||y===null)&&(g=y[m[M]],g!==null))return g}}var i=/(^|\.)args\[/;function r(p,m){return p===void 0||p===null&&!m.match(i)}function f(p,m,y){return function(h){var T=p,g="",M=r(h,y),v,c;for(c=0;c<m.length-1;c++){if(v=m[c],typeof v=="number"&&!x(T))throw"array index but container is not an array";if(v===-1){if(M=!n(T,m.slice(c+1),h,y),M)break;return}if(!t(T,v,m[c+1],M))break;if(T=T[v],typeof T!="object"||T===null)throw"container is not an object";g=s(g,v)}if(M){if(c===m.length-1&&(delete T[m[c]],Array.isArray(T)&&+m[c]===T.length-1))for(;T.length&&T[T.length-1]===void 0;)T.pop()}else T[m[c]]=h}}function s(p,m){var y=m;return o(m)?y="["+m+"]":p&&(y="."+m),p+y}function n(p,m,y,h){var T=x(y),g=!0,M=y,v=h.replace("-1",0),c=T?!1:r(y,v),u=m[0],b;for(b=0;b<p.length;b++)v=h.replace("-1",b),T&&(M=y[b%y.length],c=r(M,v)),c&&(g=!1),t(p,b,u,c)&&f(p[b],m,h.replace("-1",b))(M);return g}function t(p,m,y,h){if(p[m]===void 0){if(h)return!1;typeof y=="number"?p[m]=[]:p[m]={}}return!0}function d(p,m,y){return{set:function(){throw"bad container"},get:function(){},astr:m,parts:y,obj:p}}},4213:function(re){re.exports=function(){}},5046:function(re,H,e){var o=e(9898),x=e(2770),l=[];re.exports=function(i,r){if(l.indexOf(i)!==-1)return;l.push(i);var f=1e3;x(r)?f=r:r==="long"&&(f=3e3);var s=o.select("body").selectAll(".plotly-notifier").data([0]);s.enter().append("div").classed("plotly-notifier",!0);var n=s.selectAll(".notifier-note").data(l);function t(d){d.duration(700).style("opacity",0).each("end",function(p){var m=l.indexOf(p);m!==-1&&l.splice(m,1),o.select(this).remove()})}n.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(d){var p=o.select(this);p.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){p.transition().call(t)});for(var m=p.append("p"),y=d.split(/<br\s*\/?>/g),h=0;h<y.length;h++)h&&m.append("br"),m.append("span").text(y[h]);r==="stick"?p.transition().duration(350).style("opacity",1):p.transition().duration(700).style("opacity",1).transition().delay(f).call(t)})}},9918:function(re,H,e){var o=e(6964),x="data-savedcursor",l="!!";re.exports=function(r,f){var s=r.attr(x);if(f){if(!s){for(var n=(r.attr("class")||"").split(" "),t=0;t<n.length;t++){var d=n[t];d.indexOf("cursor-")===0&&r.attr(x,d.substr(7)).classed(d,!1)}r.attr(x)||r.attr(x,l)}o(r,f)}else s&&(r.attr(x,null),s===l?o(r):o(r,s))}},1082:function(re,H,e){var o=e(5657).dot,x=e(606).BADNUM,l=re.exports={};l.tester=function(r){var f=r.slice(),s=f[0][0],n=s,t=f[0][1],d=t,p;for((f[f.length-1][0]!==f[0][0]||f[f.length-1][1]!==f[0][1])&&f.push(f[0]),p=1;p<f.length;p++)s=Math.min(s,f[p][0]),n=Math.max(n,f[p][0]),t=Math.min(t,f[p][1]),d=Math.max(d,f[p][1]);var m=!1,y;f.length===5&&(f[0][0]===f[1][0]?f[2][0]===f[3][0]&&f[0][1]===f[3][1]&&f[1][1]===f[2][1]&&(m=!0,y=function(v){return v[0]===f[0][0]}):f[0][1]===f[1][1]&&f[2][1]===f[3][1]&&f[0][0]===f[3][0]&&f[1][0]===f[2][0]&&(m=!0,y=function(v){return v[1]===f[0][1]}));function h(v,c){var u=v[0],b=v[1];return!(u===x||u<s||u>n||b===x||b<t||b>d||c&&y(v))}function T(v,c){var u=v[0],b=v[1];if(u===x||u<s||u>n||b===x||b<t||b>d)return!1;var w=f.length,B=f[0][0],C=f[0][1],I=0,O,L,X,Z,te;for(O=1;O<w;O++)if(L=B,X=C,B=f[O][0],C=f[O][1],Z=Math.min(L,B),!(u<Z||u>Math.max(L,B)||b>Math.max(X,C)))if(b<Math.min(X,C))u!==Z&&I++;else{if(B===L?te=b:te=X+(u-L)*(C-X)/(B-L),b===te)return!(O===1&&c);b<=te&&u!==Z&&I++}return I%2===1}var g=!0,M=f[0];for(p=1;p<f.length;p++)if(M[0]!==f[p][0]||M[1]!==f[p][1]){g=!1;break}return{xmin:s,xmax:n,ymin:t,ymax:d,pts:f,contains:m?h:T,isRect:m,degenerate:g}},l.isSegmentBent=function(r,f,s,n){var t=r[f],d=[r[s][0]-t[0],r[s][1]-t[1]],p=o(d,d),m=Math.sqrt(p),y=[-d[1]/m,d[0]/m],h,T,g;for(h=f+1;h<s;h++)if(T=[r[h][0]-t[0],r[h][1]-t[1]],g=o(T,d),g<0||g>p||Math.abs(o(T,y))>n)return!0;return!1},l.filter=function(r,f){var s=[r[0]],n=0,t=0;function d(m){r.push(m);var y=s.length,h=n;s.splice(t+1);for(var T=h+1;T<r.length;T++)(T===r.length-1||l.isSegmentBent(r,h,T+1,f))&&(s.push(r[T]),s.length<y-2&&(n=T,t=s.length-1),h=T)}if(r.length>1){var p=r.pop();d(p)}return{addPt:d,raw:r,filtered:s}}},5142:function(re,H,e){var o=e(2770),x=e(5791);re.exports=function(r){var f;if(r&&r.hasOwnProperty("userAgent")?f=r.userAgent:f=l(),typeof f!="string")return!0;var s=x({ua:{headers:{"user-agent":f}},tablet:!0,featureDetect:!1});if(!s)for(var n=f.split(" "),t=1;t<n.length;t++){var d=n[t];if(d.indexOf("Safari")!==-1)for(var p=t-1;p>-1;p--){var m=n[p];if(m.substr(0,8)==="Version/"){var y=m.substr(8).split(".")[0];if(o(y)&&(y=+y),y>=13)return!0}}}return s};function l(){var i;return typeof navigator<"u"&&(i=navigator.userAgent),i&&i.headers&&typeof i.headers["user-agent"]=="string"&&(i=i.headers["user-agent"]),i}},5138:function(re){re.exports=function(e,o){if(o instanceof RegExp){for(var x=o.toString(),l=0;l<e.length;l++)if(e[l]instanceof RegExp&&e[l].toString()===x)return e;e.push(o)}else(o||o===0)&&e.indexOf(o)===-1&&e.push(o);return e}},847:function(re,H,e){var o=e(1828),x=e(2075).dfltConfig;function l(r,f){for(var s=[],n,t=0;t<f.length;t++)n=f[t],n===r?s[t]=n:typeof n=="object"?s[t]=Array.isArray(n)?o.extendDeep([],n):o.extendDeepAll({},n):s[t]=n;return s}var i={};i.add=function(r,f,s,n,t){var d,p;if(r.undoQueue=r.undoQueue||{index:0,queue:[],sequence:!1},p=r.undoQueue.index,r.autoplay){r.undoQueue.inSequence||(r.autoplay=!1);return}!r.undoQueue.sequence||r.undoQueue.beginSequence?(d={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},r.undoQueue.queue.splice(p,r.undoQueue.queue.length-p,d),r.undoQueue.index+=1):d=r.undoQueue.queue[p-1],r.undoQueue.beginSequence=!1,d&&(d.undo.calls.unshift(f),d.undo.args.unshift(s),d.redo.calls.push(n),d.redo.args.push(t)),r.undoQueue.queue.length>x.queueLength&&(r.undoQueue.queue.shift(),r.undoQueue.index--)},i.startSequence=function(r){r.undoQueue=r.undoQueue||{index:0,queue:[],sequence:!1},r.undoQueue.sequence=!0,r.undoQueue.beginSequence=!0},i.stopSequence=function(r){r.undoQueue=r.undoQueue||{index:0,queue:[],sequence:!1},r.undoQueue.sequence=!1,r.undoQueue.beginSequence=!1},i.undo=function(f){var s,n;if(!(f.undoQueue===void 0||isNaN(f.undoQueue.index)||f.undoQueue.index<=0)){for(f.undoQueue.index--,s=f.undoQueue.queue[f.undoQueue.index],f.undoQueue.inSequence=!0,n=0;n<s.undo.calls.length;n++)i.plotDo(f,s.undo.calls[n],s.undo.args[n]);f.undoQueue.inSequence=!1,f.autoplay=!1}},i.redo=function(f){var s,n;if(!(f.undoQueue===void 0||isNaN(f.undoQueue.index)||f.undoQueue.index>=f.undoQueue.queue.length)){for(s=f.undoQueue.queue[f.undoQueue.index],f.undoQueue.inSequence=!0,n=0;n<s.redo.calls.length;n++)i.plotDo(f,s.redo.calls[n],s.redo.args[n]);f.undoQueue.inSequence=!1,f.autoplay=!1,f.undoQueue.index++}},i.plotDo=function(r,f,s){r.autoplay=!0,s=l(r,s),f.apply(null,s)},re.exports=i},587:function(re,H){H.counter=function(e,o,x,l){var i=(o||"")+(x?"":"$"),r=l===!1?"":"^";return e==="xy"?new RegExp(r+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+i):new RegExp(r+e+"([2-9]|[1-9][0-9]+)?"+i)}},6962:function(re){var H=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;re.exports=function(o,x){for(;x;){var l=o.match(H);if(l)o=l[1];else if(o.match(e))o="";else throw new Error("bad relativeAttr call:"+[o,x]);if(x.charAt(0)==="^")x=x.slice(1);else break}return o&&x.charAt(0)!=="["?o+"."+x:o+x}},1332:function(re,H,e){var o=e(3627).isArrayOrTypedArray,x=e(1965);re.exports=function l(i,r){for(var f in r){var s=r[f],n=i[f];if(n!==s)if(f.charAt(0)==="_"||typeof s=="function"){if(f in i)continue;i[f]=s}else if(o(s)&&o(n)&&x(s[0])){if(f==="customdata"||f==="ids")continue;for(var t=Math.min(s.length,n.length),d=0;d<t;d++)n[d]!==s[d]&&x(s[d])&&x(n[d])&&l(n[d],s[d])}else x(s)&&x(n)&&(l(n,s),Object.keys(n).length||delete i[f])}}},5888:function(re,H,e){var o=e(2770),x=e(7769),l=e(3389),i=e(606).BADNUM,r=1e-9;H.findBin=function(d,p,m){if(o(p.start))return m?Math.ceil((d-p.start)/p.size-r)-1:Math.floor((d-p.start)/p.size+r);var y=0,h=p.length,T=0,g=h>1?(p[h-1]-p[0])/(h-1):1,M,v;for(g>=0?v=m?f:s:v=m?t:n,d+=g*r*(m?-1:1)*(g>=0?1:-1);y<h&&T++<100;)M=Math.floor((y+h)/2),v(p[M],d)?y=M+1:h=M;return T>90&&x.log("Long binary search..."),y-1};function f(d,p){return d<p}function s(d,p){return d<=p}function n(d,p){return d>p}function t(d,p){return d>=p}H.sorterAsc=function(d,p){return d-p},H.sorterDes=function(d,p){return p-d},H.distinctVals=function(d){var p=d.slice();p.sort(H.sorterAsc);var m;for(m=p.length-1;m>-1&&p[m]===i;m--);for(var y=p[m]-p[0]||1,h=y/(m||1)/1e4,T=[],g,M=0;M<=m;M++){var v=p[M],c=v-g;g===void 0?(T.push(v),g=v):c>h&&(y=Math.min(y,c),T.push(v),g=v)}return{vals:T,minDiff:y}},H.roundUp=function(d,p,m){for(var y=0,h=p.length-1,T,g=0,M=m?0:1,v=m?1:0,c=m?Math.ceil:Math.floor;y<h&&g++<100;)T=c((y+h)/2),p[T]<=d?y=T+M:h=T-v;return p[y]},H.sort=function(d,p){for(var m=0,y=0,h=1;h<d.length;h++){var T=p(d[h],d[h-1]);if(T<0?m=1:T>0&&(y=1),m&&y)return d.sort(p)}return y?d:d.reverse()},H.findIndexOfMin=function(d,p){p=p||l;for(var m=1/0,y,h=0;h<d.length;h++){var T=p(d[h]);T<m&&(m=T,y=h)}return y}},6964:function(re){re.exports=function(e,o){(e.attr("class")||"").split(" ").forEach(function(x){x.indexOf("cursor-")===0&&e.classed(x,!1)}),o&&e.classed("cursor-"+o,!0)}},8607:function(re){re.exports=function(e){return Object.keys(e).sort()}},38:function(re,H,e){var o=e(2770),x=e(3627).isArrayOrTypedArray;H.aggNums=function(l,i,r,f){var s,n;if((!f||f>r.length)&&(f=r.length),o(i)||(i=!1),x(r[0])){for(n=new Array(f),s=0;s<f;s++)n[s]=H.aggNums(l,i,r[s]);r=n}for(s=0;s<f;s++)o(i)?o(r[s])&&(i=l(+i,+r[s])):i=r[s];return i},H.len=function(l){return H.aggNums(function(i){return i+1},0,l)},H.mean=function(l,i){return i||(i=H.len(l)),H.aggNums(function(r,f){return r+f},0,l)/i},H.midRange=function(l){if(!(l===void 0||l.length===0))return(H.aggNums(Math.max,null,l)+H.aggNums(Math.min,null,l))/2},H.variance=function(l,i,r){return i||(i=H.len(l)),o(r)||(r=H.mean(l,i)),H.aggNums(function(f,s){return f+Math.pow(s-r,2)},0,l)/i},H.stdev=function(l,i,r){return Math.sqrt(H.variance(l,i,r))},H.median=function(l){var i=l.slice().sort();return H.interp(i,.5)},H.interp=function(l,i){if(!o(i))throw"n should be a finite number";if(i=i*l.length-.5,i<0)return l[0];if(i>l.length-1)return l[l.length-1];var r=i%1;return r*l[Math.ceil(i)]+(1-r)*l[Math.floor(i)]}},3893:function(re,H,e){var o=e(9898),x=e(1828),l=x.strTranslate,i=e(7922),r=e(8783).LINE_SPACING,f=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;H.convertToTspans=function(_,V,G){var Q=_.text(),ue=!_.attr("data-notex")&&V&&V._context.typesetMath&&typeof MathJax<"u"&&Q.match(f),le=o.select(_.node().parentNode);if(le.empty())return;var ye=_.attr("class")?_.attr("class").split(" ")[0]:"text";ye+="-math",le.selectAll("svg."+ye).remove(),le.selectAll("g."+ye+"-group").remove(),_.style("display",null).attr({"data-unformatted":Q,"data-math":"N"});function Se(){le.empty()||(ye=_.attr("class")+"-math",le.select("svg."+ye).remove()),_.text("").style("white-space","pre");var ce=q(_.node(),Q);ce&&_.style("pointer-events","all"),H.positionText(_),G&&G.call(_)}return ue?(V&&V._promises||[]).push(new Promise(function(ce){_.style("display","none");var de=parseInt(_.node().style.fontSize,10),S={fontSize:de};p(ue[2],S,function(P,k,z){le.selectAll("svg."+ye).remove(),le.selectAll("g."+ye+"-group").remove();var Y=P&&P.select("svg");if(!Y||!Y.node()){Se(),ce();return}var F=le.append("g").classed(ye+"-group",!0).attr({"pointer-events":"none","data-unformatted":Q,"data-math":"Y"});F.node().appendChild(Y.node()),k&&k.node()&&Y.node().insertBefore(k.node().cloneNode(!0),Y.node().firstChild);var J=z.width,E=z.height;Y.attr({class:ye,height:E,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var K=_.node().style.fill||"black",ie=Y.select("g");ie.attr({fill:K,stroke:K});var ve=ie.node().getBoundingClientRect(),he=ve.width,Le=ve.height;(he>J||Le>E)&&(Y.style("overflow","hidden"),ve=Y.node().getBoundingClientRect(),he=ve.width,Le=ve.height);var ke=+_.attr("x"),se=+_.attr("y"),ge=de||_.node().getBoundingClientRect().height,be=-ge/4;if(ye[0]==="y")F.attr({transform:"rotate("+[-90,ke,se]+")"+l(-he/2,be-Le/2)});else if(ye[0]==="l")se=be-Le/2;else if(ye[0]==="a"&&ye.indexOf("atitle")!==0)ke=0,se=be;else{var Ee=_.attr("text-anchor");ke=ke-he*(Ee==="middle"?.5:Ee==="end"?1:0),se=se+be-Le/2}Y.attr({x:ke,y:se}),G&&G.call(_,F),ce(F)})})):Se(),_};var s=/(<|&lt;|&#60;)/g,n=/(>|&gt;|&#62;)/g;function t(_){return _.replace(s,"\\lt ").replace(n,"\\gt ")}var d=[["$","$"],["\\(","\\)"]];function p(_,V,G){var Q=parseInt((MathJax.version||"").split(".")[0]);if(Q!==2&&Q!==3){x.warn("No MathJax version:",MathJax.version);return}var ue,le,ye,Se,ce=function(){return le=x.extendDeepAll({},MathJax.Hub.config),ye=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:d},displayAlign:"left"})},de=function(){le=x.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=d},S=function(){if(ue=MathJax.Hub.config.menuSettings.renderer,ue!=="SVG")return MathJax.Hub.setRenderer("SVG")},P=function(){ue=MathJax.config.startup.output,ue!=="svg"&&(MathJax.config.startup.output="svg")},k=function(){var K="math-output-"+x.randstr({},64);Se=o.select("body").append("div").attr({id:K}).style({visibility:"hidden",position:"absolute","font-size":V.fontSize+"px"}).text(t(_));var ie=Se.node();return Q===2?MathJax.Hub.Typeset(ie):MathJax.typeset([ie])},z=function(){var K=Se.select(Q===2?".MathJax_SVG":".MathJax"),ie=!K.empty()&&Se.select("svg").node();if(!ie)x.log("There was an error in the tex syntax.",_),G();else{var ve=ie.getBoundingClientRect(),he;Q===2?he=o.select("body").select("#MathJax_SVG_glyphs"):he=K.select("defs"),G(K,he,ve)}Se.remove()},Y=function(){if(ue!=="SVG")return MathJax.Hub.setRenderer(ue)},F=function(){ue!=="svg"&&(MathJax.config.startup.output=ue)},J=function(){return ye!==void 0&&(MathJax.Hub.processSectionDelay=ye),MathJax.Hub.Config(le)},E=function(){MathJax.config=le};Q===2?MathJax.Hub.Queue(ce,S,k,z,Y,J):Q===3&&(de(),P(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){k(),z(),F(),E()}))}var m={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},y={sub:"0.3em",sup:"-0.6em"},h={sub:"-0.21em",sup:"0.42em"},T="",g=["http:","https:","mailto:","",void 0,":"],M=H.NEWLINES=/(\r\n?|\n)/g,v=/(<[^<>]*>)/,c=/<(\/?)([^ >]*)(\s+(.*))?>/i,u=/<br(\s+.*)?>/i;H.BR_TAG_ALL=/<br(\s+.*)?>/gi;var b=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,w=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,B=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,C=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function I(_,V){if(!_)return null;var G=_.match(V),Q=G&&(G[3]||G[4]);return Q&&Z(Q)}var O=/(^|;)\s*color:/;H.plainText=function(_,V){V=V||{};for(var G=V.len!==void 0&&V.len!==-1?V.len:1/0,Q=V.allowedTags!==void 0?V.allowedTags:["br"],ue="...",le=ue.length,ye=_.split(v),Se=[],ce="",de=0,S=0;S<ye.length;S++){var P=ye[S],k=P.match(c),z=k&&k[2].toLowerCase();if(z)Q.indexOf(z)!==-1&&(Se.push(P),ce=z);else{var Y=P.length;if(de+Y<G)Se.push(P),de+=Y;else if(de<G){var F=G-de;ce&&(ce!=="br"||F<=le||Y<=le)&&Se.pop(),G>le?Se.push(P.substr(0,F-le)+ue):Se.push(P.substr(0,F));break}ce=""}}return Se.join("")};var L={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},X=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function Z(_){return _.replace(X,function(V,G){var Q;return G.charAt(0)==="#"?Q=te(G.charAt(1)==="x"?parseInt(G.substr(2),16):parseInt(G.substr(1),10)):Q=L[G],Q||V})}H.convertEntities=Z;function te(_){if(!(_>1114111)){var V=String.fromCodePoint;if(V)return V(_);var G=String.fromCharCode;return _<=65535?G(_):G((_>>10)+55232,_%1024+56320)}}function q(_,V){V=V.replace(M," ");var G=!1,Q=[],ue,le=-1;function ye(){le++;var Le=document.createElementNS(i.svg,"tspan");o.select(Le).attr({class:"line",dy:le*r+"em"}),_.appendChild(Le),ue=Le;var ke=Q;if(Q=[{node:Le}],ke.length>1)for(var se=1;se<ke.length;se++)Se(ke[se])}function Se(Le){var ke=Le.type,se={},ge;if(ke==="a"){ge="a";var be=Le.target,Ee=Le.href,we=Le.popup;Ee&&(se={"xlink:xlink:show":be==="_blank"||be.charAt(0)!=="_"?"new":"replace",target:be,"xlink:xlink:href":Ee},we&&(se.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+we+'");return false;'))}else ge="tspan";Le.style&&(se.style=Le.style);var Te=document.createElementNS(i.svg,ge);if(ke==="sup"||ke==="sub"){ce(ue,T),ue.appendChild(Te);var Ne=document.createElementNS(i.svg,"tspan");ce(Ne,T),o.select(Ne).attr("dy",h[ke]),se.dy=y[ke],ue.appendChild(Te),ue.appendChild(Ne)}else ue.appendChild(Te);o.select(Te).attr(se),ue=Le.node=Te,Q.push(Le)}function ce(Le,ke){Le.appendChild(document.createTextNode(ke))}function de(Le){if(Q.length===1){x.log("Ignoring unexpected end tag </"+Le+">.",V);return}var ke=Q.pop();Le!==ke.type&&x.log("Start tag <"+ke.type+"> doesnt match end tag <"+Le+">. Pretending it did match.",V),ue=Q[Q.length-1].node}var S=u.test(V);S?ye():(ue=_,Q=[{node:_}]);for(var P=V.split(v),k=0;k<P.length;k++){var z=P[k],Y=z.match(c),F=Y&&Y[2].toLowerCase(),J=m[F];if(F==="br")ye();else if(J===void 0)ce(ue,Z(z));else if(Y[1])de(F);else{var E=Y[4],K={type:F},ie=I(E,b);if(ie?(ie=ie.replace(O,"$1 fill:"),J&&(ie+=";"+J)):J&&(ie=J),ie&&(K.style=ie),F==="a"){G=!0;var ve=I(E,w);if(ve){var he=ae(ve);he&&(K.href=he,K.target=I(E,B)||"_blank",K.popup=I(E,C))}}Se(K)}}return G}function ae(_){var V=encodeURI(decodeURI(_)),G=document.createElement("a"),Q=document.createElement("a");G.href=_,Q.href=V;var ue=G.protocol,le=Q.protocol;return g.indexOf(ue)!==-1&&g.indexOf(le)!==-1?V:""}H.sanitizeHTML=function(V){V=V.replace(M," ");for(var G=document.createElement("p"),Q=G,ue=[],le=V.split(v),ye=0;ye<le.length;ye++){var Se=le[ye],ce=Se.match(c),de=ce&&ce[2].toLowerCase();if(de in m)if(ce[1])ue.length&&(Q=ue.pop());else{var S=ce[4],P=I(S,b),k=P?{style:P}:{};if(de==="a"){var z=I(S,w);if(z){var Y=ae(z);if(Y){k.href=Y;var F=I(S,B);F&&(k.target=F)}}}var J=document.createElement(de);Q.appendChild(J),o.select(J).attr(k),Q=J,ue.push(J)}else Q.appendChild(document.createTextNode(Z(Se)))}var E="innerHTML";return G[E]},H.lineCount=function(V){return V.selectAll("tspan.line").size()||1},H.positionText=function(V,G,Q){return V.each(function(){var ue=o.select(this);function le(ce,de){return de===void 0?(de=ue.attr(ce),de===null&&(ue.attr(ce,0),de=0)):ue.attr(ce,de),de}var ye=le("x",G),Se=le("y",Q);this.nodeName==="text"&&ue.selectAll("tspan.line").attr({x:ye,y:Se})})};function N(_,V,G){var Q=G.horizontalAlign,ue=G.verticalAlign||"top",le=_.node().getBoundingClientRect(),ye=V.node().getBoundingClientRect(),Se,ce,de;return ue==="bottom"?ce=function(){return le.bottom-Se.height}:ue==="middle"?ce=function(){return le.top+(le.height-Se.height)/2}:ce=function(){return le.top},Q==="right"?de=function(){return le.right-Se.width}:Q==="center"?de=function(){return le.left+(le.width-Se.width)/2}:de=function(){return le.left},function(){Se=this.node().getBoundingClientRect();var S=de()-ye.left,P=ce()-ye.top,k=G.gd||{};if(G.gd){k._fullLayout._calcInverseTransform(k);var z=x.apply3DTransform(k._fullLayout._invTransform)(S,P);S=z[0],P=z[1]}return this.style({top:P+"px",left:S+"px","z-index":1e3}),this}}var D="1px ";H.makeTextShadow=function(_){var V=D,G=D,Q=D;return V+G+Q+_+", -"+V+"-"+G+Q+_+", "+V+"-"+G+Q+_+", -"+V+G+Q+_},H.makeEditable=function(_,V){var G=V.gd,Q=V.delegate,ue=o.dispatch("edit","input","cancel"),le=Q||_;if(_.style({"pointer-events":Q?"none":"all"}),_.size()!==1)throw new Error("boo");function ye(){ce(),_.style({opacity:0});var de=le.attr("class"),S;de?S="."+de.split(" ")[0]+"-math-group":S="[class*=-math-group]",S&&o.select(_.node().parentNode).select(S).style({opacity:0})}function Se(de){var S=de.node(),P=document.createRange();P.selectNodeContents(S);var k=window.getSelection();k.removeAllRanges(),k.addRange(P),S.focus()}function ce(){var de=o.select(G),S=de.select(".svg-container"),P=S.append("div"),k=_.node().style,z=parseFloat(k.fontSize||12),Y=V.text;Y===void 0&&(Y=_.attr("data-unformatted")),P.classed("plugin-editable editable",!0).style({position:"absolute","font-family":k.fontFamily||"Arial","font-size":z,color:V.fill||k.fill||"black",opacity:1,"background-color":V.background||"transparent",outline:"#ffffff33 1px solid",margin:[-z/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(Y).call(N(_,S,V)).on("blur",function(){G._editing=!1,_.text(this.textContent).style({opacity:1});var F=o.select(this).attr("class"),J;F?J="."+F.split(" ")[0]+"-math-group":J="[class*=-math-group]",J&&o.select(_.node().parentNode).select(J).style({opacity:0});var E=this.textContent;o.select(this).transition().duration(0).remove(),o.select(document).on("mouseup",null),ue.edit.call(_,E)}).on("focus",function(){var F=this;G._editing=!0,o.select(document).on("mouseup",function(){if(o.event.target===F)return!1;document.activeElement===P.node()&&P.node().blur()})}).on("keyup",function(){o.event.which===27?(G._editing=!1,_.style({opacity:1}),o.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),ue.cancel.call(_,this.textContent)):(ue.input.call(_,this.textContent),o.select(this).call(N(_,S,V)))}).on("keydown",function(){o.event.which===13&&this.blur()}).call(Se)}return V.immediate?ye():le.on("click",ye),o.rebind(_,ue,"on")}},9990:function(re,H){var e={};H.throttle=function(l,i,r){var f=e[l],s=Date.now();if(!f){for(var n in e)e[n].ts<s-6e4&&delete e[n];f=e[l]={ts:0,timer:null}}o(f);function t(){r(),f.ts=Date.now(),f.onDone&&(f.onDone(),f.onDone=null)}if(s>f.ts+i){t();return}f.timer=setTimeout(function(){t(),f.timer=null},i)},H.done=function(x){var l=e[x];return!l||!l.timer?Promise.resolve():new Promise(function(i){var r=l.onDone;l.onDone=function(){r&&r(),i(),l.onDone=null}})},H.clear=function(x){if(x)o(e[x]),delete e[x];else for(var l in e)H.clear(l)};function o(x){x&&x.timer!==null&&(clearTimeout(x.timer),x.timer=null)}},8163:function(re,H,e){var o=e(2770);re.exports=function(l,i){if(l>0)return Math.log(l)/Math.LN10;var r=Math.log(Math.min(i[0],i[1]))/Math.LN10;return o(r)||(r=Math.log(Math.max(i[0],i[1]))/Math.LN10-6),r}},7815:function(re){re.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},2177:function(re){re.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},4458:function(re,H,e){var o=e(3972);re.exports=function(l){for(var i=o.layoutArrayContainers,r=o.layoutArrayRegexes,f=l.split("[")[0],s,n,t=0;t<r.length;t++)if(n=l.match(r[t]),n&&n.index===0){s=n[0];break}if(s||(s=i[i.indexOf(f)]),!s)return!1;var d=l.substr(s.length);return d?(n=d.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),n?{array:s,index:Number(n[1]),property:n[3]||""}:!1):{array:s,index:"",property:""}}},962:function(re,H,e){var o=e(1828),x=o.extendFlat,l=o.isPlainObject,i={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},r={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},f=i.flags.slice().concat(["fullReplot"]),s=r.flags.slice().concat("layoutReplot");re.exports={traces:i,layout:r,traceFlags:function(){return n(f)},layoutFlags:function(){return n(s)},update:function(p,m){var y=m.editType;if(y&&y!=="none")for(var h=y.split("+"),T=0;T<h.length;T++)p[h[T]]=!0},overrideAll:t};function n(p){for(var m={},y=0;y<p.length;y++)m[p[y]]=!1;return m}function t(p,m,y){var h=x({},p);for(var T in h){var g=h[T];l(g)&&(h[T]=d(g,m,y,T))}return y==="from-root"&&(h.editType=m),h}function d(p,m,y,h){if(p.valType){var T=x({},p);if(T.editType=m,Array.isArray(p.items)){T.items=new Array(p.items.length);for(var g=0;g<p.items.length;g++)T.items[g]=d(p.items[g],m)}return T}else return t(p,m,h.charAt(0)==="_"?"nested":"from-root")}},8377:function(re,H,e){var o=e(2770),x=e(7812),l=e(3972),i=e(1828),r=e(4875),f=e(1675),s=e(7901),n=f.cleanId,t=f.getFromTrace,d=l.traceIs;H.clearPromiseQueue=function(u){Array.isArray(u._promises)&&u._promises.length>0&&i.log("Clearing previous rejected promises from queue."),u._promises=[]},H.cleanLayout=function(u){var b,w;u||(u={}),u.xaxis1&&(u.xaxis||(u.xaxis=u.xaxis1),delete u.xaxis1),u.yaxis1&&(u.yaxis||(u.yaxis=u.yaxis1),delete u.yaxis1),u.scene1&&(u.scene||(u.scene=u.scene1),delete u.scene1);var B=(r.subplotsRegistry.cartesian||{}).attrRegex,C=(r.subplotsRegistry.polar||{}).attrRegex,I=(r.subplotsRegistry.ternary||{}).attrRegex,O=(r.subplotsRegistry.gl3d||{}).attrRegex,L=Object.keys(u);for(b=0;b<L.length;b++){var X=L[b];if(B&&B.test(X)){var Z=u[X];Z.anchor&&Z.anchor!=="free"&&(Z.anchor=n(Z.anchor)),Z.overlaying&&(Z.overlaying=n(Z.overlaying)),Z.type||(Z.isdate?Z.type="date":Z.islog?Z.type="log":Z.isdate===!1&&Z.islog===!1&&(Z.type="linear")),(Z.autorange==="withzero"||Z.autorange==="tozero")&&(Z.autorange=!0,Z.rangemode="tozero"),delete Z.islog,delete Z.isdate,delete Z.categories,g(Z,"domain")&&delete Z.domain,Z.autotick!==void 0&&(Z.tickmode===void 0&&(Z.tickmode=Z.autotick?"auto":"linear"),delete Z.autotick),m(Z)}else if(C&&C.test(X)){var te=u[X];m(te.radialaxis)}else if(I&&I.test(X)){var q=u[X];m(q.aaxis),m(q.baxis),m(q.caxis)}else if(O&&O.test(X)){var ae=u[X],N=ae.cameraposition;if(Array.isArray(N)&&N[0].length===4){var D=N[0],_=N[1],V=N[2],G=x([],D),Q=[];for(w=0;w<3;++w)Q[w]=_[w]+V*G[2+4*w];ae.camera={eye:{x:Q[0],y:Q[1],z:Q[2]},center:{x:_[0],y:_[1],z:_[2]},up:{x:0,y:0,z:1}},delete ae.cameraposition}m(ae.xaxis),m(ae.yaxis),m(ae.zaxis)}}var ue=Array.isArray(u.annotations)?u.annotations.length:0;for(b=0;b<ue;b++){var le=u.annotations[b];i.isPlainObject(le)&&(le.ref&&(le.ref==="paper"?(le.xref="paper",le.yref="paper"):le.ref==="data"&&(le.xref="x",le.yref="y"),delete le.ref),p(le,"xref"),p(le,"yref"))}var ye=Array.isArray(u.shapes)?u.shapes.length:0;for(b=0;b<ye;b++){var Se=u.shapes[b];i.isPlainObject(Se)&&(p(Se,"xref"),p(Se,"yref"))}var ce=Array.isArray(u.images)?u.images.length:0;for(b=0;b<ce;b++){var de=u.images[b];i.isPlainObject(de)&&(p(de,"xref"),p(de,"yref"))}var S=u.legend;return S&&(S.x>3?(S.x=1.02,S.xanchor="left"):S.x<-2&&(S.x=-.02,S.xanchor="right"),S.y>3?(S.y=1.02,S.yanchor="bottom"):S.y<-2&&(S.y=-.02,S.yanchor="top")),m(u),u.dragmode==="rotate"&&(u.dragmode="orbit"),s.clean(u),u.template&&u.template.layout&&H.cleanLayout(u.template.layout),u};function p(u,b){var w=u[b],B=b.charAt(0);w&&w!=="paper"&&(u[b]=n(w,B,!0))}function m(u){u&&((typeof u.title=="string"||typeof u.title=="number")&&(u.title={text:u.title}),b("titlefont","font"),b("titleposition","position"),b("titleside","side"),b("titleoffset","offset"));function b(w,B){var C=u[w],I=u.title&&u.title[B];C&&!I&&(u.title||(u.title={}),u.title[B]=u[w],delete u[w])}}H.cleanData=function(u){for(var b=0;b<u.length;b++){var w=u[b],B;if(w.type==="histogramy"&&"xbins"in w&&!("ybins"in w)&&(w.ybins=w.xbins,delete w.xbins),w.error_y&&"opacity"in w.error_y){var C=s.defaults,I=w.error_y.color||(d(w,"bar")?s.defaultLine:C[b%C.length]);w.error_y.color=s.addOpacity(s.rgb(I),s.opacity(I)*w.error_y.opacity),delete w.error_y.opacity}if("bardir"in w&&(w.bardir==="h"&&(d(w,"bar")||w.type.substr(0,9)==="histogram")&&(w.orientation="h",H.swapXYData(w)),delete w.bardir),w.type==="histogramy"&&H.swapXYData(w),(w.type==="histogramx"||w.type==="histogramy")&&(w.type="histogram"),"scl"in w&&!("colorscale"in w)&&(w.colorscale=w.scl,delete w.scl),"reversescl"in w&&!("reversescale"in w)&&(w.reversescale=w.reversescl,delete w.reversescl),w.xaxis&&(w.xaxis=n(w.xaxis,"x")),w.yaxis&&(w.yaxis=n(w.yaxis,"y")),d(w,"gl3d")&&w.scene&&(w.scene=r.subplotsRegistry.gl3d.cleanId(w.scene)),!d(w,"pie-like")&&!d(w,"bar-like"))if(Array.isArray(w.textposition))for(B=0;B<w.textposition.length;B++)w.textposition[B]=T(w.textposition[B]);else w.textposition&&(w.textposition=T(w.textposition));var O=l.getModule(w);if(O&&O.colorbar){var L=O.colorbar.container,X=L?w[L]:w;X&&X.colorscale&&(X.colorscale==="YIGnBu"&&(X.colorscale="YlGnBu"),X.colorscale==="YIOrRd"&&(X.colorscale="YlOrRd"))}if(w.type==="surface"&&i.isPlainObject(w.contours)){var Z=["x","y","z"];for(B=0;B<Z.length;B++){var te=w.contours[Z[B]];i.isPlainObject(te)&&(te.highlightColor&&(te.highlightcolor=te.highlightColor,delete te.highlightColor),te.highlightWidth&&(te.highlightwidth=te.highlightWidth,delete te.highlightWidth))}}if(w.type==="candlestick"||w.type==="ohlc"){var q=(w.increasing||{}).showlegend!==!1,ae=(w.decreasing||{}).showlegend!==!1,N=y(w.increasing),D=y(w.decreasing);if(N!==!1&&D!==!1){var _=h(N,D,q,ae);_&&(w.name=_)}else(N||D)&&!w.name&&(w.name=N||D)}if(Array.isArray(w.transforms)){var V=w.transforms;for(B=0;B<V.length;B++){var G=V[B];if(i.isPlainObject(G))switch(G.type){case"filter":G.filtersrc&&(G.target=G.filtersrc,delete G.filtersrc),G.calendar&&(G.valuecalendar||(G.valuecalendar=G.calendar),delete G.calendar);break;case"groupby":if(G.styles=G.styles||G.style,G.styles&&!Array.isArray(G.styles)){var Q=G.styles,ue=Object.keys(Q);G.styles=[];for(var le=0;le<ue.length;le++)G.styles.push({target:ue[le],value:Q[ue[le]]})}break}}}g(w,"line")&&delete w.line,"marker"in w&&(g(w.marker,"line")&&delete w.marker.line,g(w,"marker")&&delete w.marker),s.clean(w),w.autobinx&&(delete w.autobinx,delete w.xbins),w.autobiny&&(delete w.autobiny,delete w.ybins),m(w),w.colorbar&&m(w.colorbar),w.marker&&w.marker.colorbar&&m(w.marker.colorbar),w.line&&w.line.colorbar&&m(w.line.colorbar),w.aaxis&&m(w.aaxis),w.baxis&&m(w.baxis)}};function y(u){if(!i.isPlainObject(u))return!1;var b=u.name;return delete u.name,delete u.showlegend,(typeof b=="string"||typeof b=="number")&&String(b)}function h(u,b,w,B){if(w&&!B)return u;if(B&&!w||!u.trim())return b;if(!b.trim())return u;var C=Math.min(u.length,b.length),I;for(I=0;I<C&&u.charAt(I)===b.charAt(I);I++);var O=u.substr(0,I);return O.trim()}function T(u){var b="middle",w="center";return typeof u=="string"&&(u.indexOf("top")!==-1?b="top":u.indexOf("bottom")!==-1&&(b="bottom"),u.indexOf("left")!==-1?w="left":u.indexOf("right")!==-1&&(w="right")),b+" "+w}function g(u,b){return b in u&&typeof u[b]=="object"&&Object.keys(u[b]).length===0}H.swapXYData=function(u){var b;if(i.swapAttrs(u,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(u.z)&&Array.isArray(u.z[0])&&(u.transpose?delete u.transpose:u.transpose=!0),u.error_x&&u.error_y){var w=u.error_y,B="copy_ystyle"in w?w.copy_ystyle:!(w.color||w.thickness||w.width);i.swapAttrs(u,["error_?.copy_ystyle"]),B&&i.swapAttrs(u,["error_?.color","error_?.thickness","error_?.width"])}if(typeof u.hoverinfo=="string"){var C=u.hoverinfo.split("+");for(b=0;b<C.length;b++)C[b]==="x"?C[b]="y":C[b]==="y"&&(C[b]="x");u.hoverinfo=C.join("+")}},H.coerceTraceIndices=function(u,b){if(o(b))return[b];if(!Array.isArray(b)||!b.length)return u.data.map(function(C,I){return I});if(Array.isArray(b)){for(var w=[],B=0;B<b.length;B++)i.isIndex(b[B],u.data.length)?w.push(b[B]):i.warn("trace index (",b[B],") is not a number or is out of bounds");return w}return b},H.manageArrayContainers=function(u,b,w){var B=u.obj,C=u.parts,I=C.length,O=C[I-1],L=o(O);if(L&&b===null){var X=C.slice(0,I-1).join("."),Z=i.nestedProperty(B,X).get();Z.splice(O,1)}else L&&u.get()===void 0&&u.get()===void 0&&(w[u.astr]=null),u.set(b)};var M=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function v(u){var b=u.search(M);if(b>0)return u.substr(0,b)}H.hasParent=function(u,b){for(var w=v(b);w;){if(w in u)return!0;w=v(w)}return!1};var c=["x","y","z"];H.clearAxisTypes=function(u,b,w){for(var B=0;B<b.length;B++)for(var C=u._fullData[B],I=0;I<3;I++){var O=t(u,C,c[I]);if(O&&O.type!=="log"){var L=O._name,X=O._id.substr(1);if(X.substr(0,5)==="scene"){if(w[X]!==void 0)continue;L=X+"."+L}var Z=L+".type";w[L]===void 0&&w[Z]===void 0&&i.nestedProperty(u.layout,Z).set(null)}}}},641:function(re,H,e){var o=e(2391);H._doPlot=o._doPlot,H.newPlot=o.newPlot,H.restyle=o.restyle,H.relayout=o.relayout,H.redraw=o.redraw,H.update=o.update,H._guiRestyle=o._guiRestyle,H._guiRelayout=o._guiRelayout,H._guiUpdate=o._guiUpdate,H._storeDirectGUIEdit=o._storeDirectGUIEdit,H.react=o.react,H.extendTraces=o.extendTraces,H.prependTraces=o.prependTraces,H.addTraces=o.addTraces,H.deleteTraces=o.deleteTraces,H.moveTraces=o.moveTraces,H.purge=o.purge,H.addFrames=o.addFrames,H.deleteFrames=o.deleteFrames,H.animate=o.animate,H.setPlotConfig=o.setPlotConfig,H.toImage=e(403),H.validate=e(4936),H.downloadImage=e(7239);var x=e(6318);H.makeTemplate=x.makeTemplate,H.validateTemplate=x.validateTemplate},6611:function(re,H,e){var o=e(1965),x=e(4213),l=e(7769),i=e(5888).sorterAsc,r=e(3972);H.containerArrayMatch=e(4458);var f=H.isAddVal=function(t){return t==="add"||o(t)},s=H.isRemoveVal=function(t){return t===null||t==="remove"};H.applyContainerArrayChanges=function(t,d,p,m,y){var h=d.astr,T=r.getComponentMethod(h,"supplyLayoutDefaults"),g=r.getComponentMethod(h,"draw"),M=r.getComponentMethod(h,"drawOne"),v=m.replot||m.recalc||T===x||g===x,c=t.layout,u=t._fullLayout;if(p[""]){Object.keys(p).length>1&&l.warn("Full array edits are incompatible with other edits",h);var b=p[""][""];if(s(b))d.set(null);else if(Array.isArray(b))d.set(b);else return l.warn("Unrecognized full array edit value",h,b),!0;return v?!1:(T(c,u),g(t),!0)}var w=Object.keys(p).map(Number).sort(i),B=d.get(),C=B||[],I=y(u,h).get(),O=[],L=-1,X=C.length,Z,te,q,ae,N,D,_,V;for(Z=0;Z<w.length;Z++){if(q=w[Z],ae=p[q],N=Object.keys(ae),D=ae[""],_=f(D),q<0||q>C.length-(_?0:1)){l.warn("index out of range",h,q);continue}if(D!==void 0)N.length>1&&l.warn("Insertion & removal are incompatible with edits to the same index.",h,q),s(D)?O.push(q):_?(D==="add"&&(D={}),C.splice(q,0,D),I&&I.splice(q,0,{})):l.warn("Unrecognized full object edit value",h,q,D),L===-1&&(L=q);else for(te=0;te<N.length;te++)V=h+"["+q+"].",y(C[q],N[te],V).set(ae[N[te]])}for(Z=O.length-1;Z>=0;Z--)C.splice(O[Z],1),I&&I.splice(O[Z],1);if(C.length?B||d.set(C):d.set(null),v)return!1;if(T(c,u),M!==x){var G;if(L===-1)G=w;else{for(X=Math.max(C.length,X),G=[],Z=0;Z<w.length&&(q=w[Z],!(q>=L));Z++)G.push(q);for(Z=L;Z<X;Z++)G.push(Z)}for(Z=0;Z<G.length;Z++)M(t,G[Z])}else g(t);return!0}},2391:function(re,H,e){var o=e(9898),x=e(2770),l=e(7035),i=e(1828),r=i.nestedProperty,f=e(1086),s=e(847),n=e(3972),t=e(6281),d=e(4875),p=e(9298),m=e(1424),y=e(7901),h=e(4305).initInteractions,T=e(7922),g=e(7322).clearOutline,M=e(2075).dfltConfig,v=e(6611),c=e(8377),u=e(1549),b=e(962),w=e(5555).AX_NAME_PATTERN,B=0,C=5;function I($,fe,pe,Me){var Ge;if($=i.getGraphDiv($),f.init($),i.isPlainObject(fe)){var Ie=fe;fe=Ie.data,pe=Ie.layout,Me=Ie.config,Ge=Ie.frames}var _e=f.triggerHandler($,"plotly_beforeplot",[fe,pe,Me]);if(_e===!1)return Promise.reject();!fe&&!pe&&!i.isPlotDiv($)&&i.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",$);function Je(){if(Ge)return H.addFrames($,Ge)}te($,Me),pe||(pe={}),o.select($).classed("js-plotly-plot",!0),m.makeTester(),Array.isArray($._promises)||($._promises=[]);var Qe=($.data||[]).length===0&&Array.isArray(fe);Array.isArray(fe)&&(c.cleanData(fe),Qe?$.data=fe:$.data.push.apply($.data,fe),$.empty=!1),(!$.layout||Qe)&&($.layout=c.cleanLayout(pe)),d.supplyDefaults($);var Oe=$._fullLayout,ft=Oe._has("cartesian");Oe._replotting=!0,(Qe||Oe._shouldCreateBgLayer)&&(Pe($),Oe._shouldCreateBgLayer&&delete Oe._shouldCreateBgLayer),m.initGradients($),m.initPatterns($),Qe&&p.saveShowSpikeInitial($);var vt=!$.calcdata||$.calcdata.length!==($._fullData||[]).length;vt&&d.doCalcdata($);for(var xt=0;xt<$.calcdata.length;xt++)$.calcdata[xt][0].trace=$._fullData[xt];$._context.responsive?$._responsiveChartHandler||($._responsiveChartHandler=function(){i.isHidden($)||d.resize($)},window.addEventListener("resize",$._responsiveChartHandler)):i.clearResponsive($);var zt=i.extendFlat({},Oe._size),Vt=0;function Ut(){for(var it=Oe._basePlotModules,Ot=0;Ot<it.length;Ot++)it[Ot].drawFramework&&it[Ot].drawFramework($);!Oe._glcanvas&&Oe._has("gl")&&(Oe._glcanvas=Oe._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(tr){return tr.key}),Oe._glcanvas.enter().append("canvas").attr("class",function(tr){return"gl-canvas gl-canvas-"+tr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Xt=$._context.plotGlPixelRatio;if(Oe._glcanvas){Oe._glcanvas.attr("width",Oe.width*Xt).attr("height",Oe.height*Xt).style("width",Oe.width+"px").style("height",Oe.height+"px");var nr=Oe._glcanvas.data()[0].regl;if(nr&&(Math.floor(Oe.width*Xt)!==nr._gl.drawingBufferWidth||Math.floor(Oe.height*Xt)!==nr._gl.drawingBufferHeight)){var Ht="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Vt)i.error(Ht);else return i.log(Ht+" Clearing graph and plotting again."),d.cleanPlot([],{},$._fullData,Oe),d.supplyDefaults($),Oe=$._fullLayout,d.doCalcdata($),Vt++,Ut()}}return Oe.modebar.orientation==="h"?Oe._modebardiv.style("height",null).style("width","100%"):Oe._modebardiv.style("width",null).style("height",Oe.height+"px"),d.previousPromises($)}function Nt(){if(d.clearAutoMarginIds($),u.drawMarginPushers($),p.allowAutoMargin($),$._fullLayout.title.text&&$._fullLayout.title.automargin&&d.allowAutoMargin($,"title.automargin"),Oe._has("pie"))for(var it=$._fullData,Ot=0;Ot<it.length;Ot++){var Xt=it[Ot];Xt.type==="pie"&&Xt.automargin&&d.allowAutoMargin($,"pie."+Xt.uid+".automargin")}return d.doAutoMargin($),d.previousPromises($)}function Gt(){if(d.didMarginChange(zt,Oe._size))return i.syncOrAsync([Nt,u.layoutStyles],$)}function Ct(){if(!vt){Dt();return}return i.syncOrAsync([n.getComponentMethod("shapes","calcAutorange"),n.getComponentMethod("annotations","calcAutorange"),Dt],$)}function Dt(){$._transitioning||(u.doAutoRangeAndConstraints($),Qe&&p.saveRangeInitial($),n.getComponentMethod("rangeslider","calcAutorange")($))}function _t(){return p.draw($,Qe?"":"redraw")}var Wt=[d.previousPromises,Je,Ut,Nt,Gt];ft&&Wt.push(Ct),Wt.push(u.layoutStyles),ft&&Wt.push(_t,function(Ot){Ot._fullLayout._insideTickLabelsAutorange&&K(Ot,Ot._fullLayout._insideTickLabelsAutorange).then(function(){Ot._fullLayout._insideTickLabelsAutorange=void 0})}),Wt.push(u.drawData,u.finalDraw,h,d.addLinks,d.rehover,d.redrag,d.reselect,d.doAutoMargin,Bt,d.previousPromises);function Bt(it){it._fullLayout._insideTickLabelsAutorange&&Qe&&p.saveRangeInitial(it,!0)}var It=i.syncOrAsync(Wt,$);return(!It||!It.then)&&(It=Promise.resolve()),It.then(function(){return O($),$})}function O($){var fe=$._fullLayout;fe._redrawFromAutoMarginCount?fe._redrawFromAutoMarginCount--:$.emit("plotly_afterplot")}function L($){return i.extendFlat(M,$)}function X($,fe){try{$._fullLayout._paper.style("background",fe)}catch(pe){i.error(pe)}}function Z($,fe){var pe=y.combine(fe,"white");X($,pe)}function te($,fe){if(!$._context){$._context=i.extendDeep({},M);var pe=o.select("base");$._context._baseUrl=pe.size()&&pe.attr("href")?window.location.href.split("#")[0]:""}var Me=$._context,Ge,Ie,_e;if(fe){for(Ie=Object.keys(fe),Ge=0;Ge<Ie.length;Ge++)_e=Ie[Ge],!(_e==="editable"||_e==="edits")&&_e in Me&&(_e==="setBackground"&&fe[_e]==="opaque"?Me[_e]=Z:Me[_e]=fe[_e]);fe.plot3dPixelRatio&&!Me.plotGlPixelRatio&&(Me.plotGlPixelRatio=Me.plot3dPixelRatio);var Je=fe.editable;if(Je!==void 0)for(Me.editable=Je,Ie=Object.keys(Me.edits),Ge=0;Ge<Ie.length;Ge++)Me.edits[Ie[Ge]]=Je;if(fe.edits)for(Ie=Object.keys(fe.edits),Ge=0;Ge<Ie.length;Ge++)_e=Ie[Ge],_e in Me.edits&&(Me.edits[_e]=fe.edits[_e]);Me._exportedPlot=fe._exportedPlot}Me.staticPlot&&(Me.editable=!1,Me.edits={},Me.autosizable=!1,Me.scrollZoom=!1,Me.doubleClick=!1,Me.showTips=!1,Me.showLink=!1,Me.displayModeBar=!1),Me.displayModeBar==="hover"&&!l&&(Me.displayModeBar=!0),(Me.setBackground==="transparent"||typeof Me.setBackground!="function")&&(Me.setBackground=X),Me._hasZeroHeight=Me._hasZeroHeight||$.clientHeight===0,Me._hasZeroWidth=Me._hasZeroWidth||$.clientWidth===0;var Qe=Me.scrollZoom,Oe=Me._scrollZoom={};if(Qe===!0)Oe.cartesian=1,Oe.gl3d=1,Oe.geo=1,Oe.mapbox=1;else if(typeof Qe=="string"){var ft=Qe.split("+");for(Ge=0;Ge<ft.length;Ge++)Oe[ft[Ge]]=1}else Qe!==!1&&(Oe.gl3d=1,Oe.geo=1,Oe.mapbox=1)}function q($){if($=i.getGraphDiv($),!i.isPlotDiv($))throw new Error("This element is not a Plotly plot: "+$);return c.cleanData($.data),c.cleanLayout($.layout),$.calcdata=void 0,H._doPlot($).then(function(){return $.emit("plotly_redraw"),$})}function ae($,fe,pe,Me){return $=i.getGraphDiv($),d.cleanPlot([],{},$._fullData||[],$._fullLayout||{}),d.purge($),H._doPlot($,fe,pe,Me)}function N($,fe){var pe=fe+1,Me=[],Ge,Ie;for(Ge=0;Ge<$.length;Ge++)Ie=$[Ge],Ie<0?Me.push(pe+Ie):Me.push(Ie);return Me}function D($,fe,pe){var Me,Ge;for(Me=0;Me<fe.length;Me++){if(Ge=fe[Me],Ge!==parseInt(Ge,10))throw new Error("all values in "+pe+" must be integers");if(Ge>=$.data.length||Ge<-$.data.length)throw new Error(pe+" must be valid indices for gd.data.");if(fe.indexOf(Ge,Me+1)>-1||Ge>=0&&fe.indexOf(-$.data.length+Ge)>-1||Ge<0&&fe.indexOf($.data.length+Ge)>-1)throw new Error("each index in "+pe+" must be unique.")}}function _($,fe,pe){if(!Array.isArray($.data))throw new Error("gd.data must be an array.");if(typeof fe>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(fe)||(fe=[fe]),D($,fe,"currentIndices"),typeof pe<"u"&&!Array.isArray(pe)&&(pe=[pe]),typeof pe<"u"&&D($,pe,"newIndices"),typeof pe<"u"&&fe.length!==pe.length)throw new Error("current and new indices must be of equal length.")}function V($,fe,pe){var Me,Ge;if(!Array.isArray($.data))throw new Error("gd.data must be an array.");if(typeof fe>"u")throw new Error("traces must be defined.");for(Array.isArray(fe)||(fe=[fe]),Me=0;Me<fe.length;Me++)if(Ge=fe[Me],typeof Ge!="object"||Array.isArray(Ge)||Ge===null)throw new Error("all values in traces array must be non-array objects");if(typeof pe<"u"&&!Array.isArray(pe)&&(pe=[pe]),typeof pe<"u"&&pe.length!==fe.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function G($,fe,pe,Me){var Ge=i.isPlainObject(Me);if(!Array.isArray($.data))throw new Error("gd.data must be an array");if(!i.isPlainObject(fe))throw new Error("update must be a key:value object");if(typeof pe>"u")throw new Error("indices must be an integer or array of integers");D($,pe,"indices");for(var Ie in fe){if(!Array.isArray(fe[Ie])||fe[Ie].length!==pe.length)throw new Error("attribute "+Ie+" must be an array of length equal to indices array length");if(Ge&&(!(Ie in Me)||!Array.isArray(Me[Ie])||Me[Ie].length!==fe[Ie].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function Q($,fe,pe,Me){var Ge=i.isPlainObject(Me),Ie=[],_e,Je,Qe,Oe,ft;Array.isArray(pe)||(pe=[pe]),pe=N(pe,$.data.length-1);for(var vt in fe)for(var xt=0;xt<pe.length;xt++){if(_e=$.data[pe[xt]],Qe=r(_e,vt),Je=Qe.get(),Oe=fe[vt][xt],!i.isArrayOrTypedArray(Oe))throw new Error("attribute: "+vt+" index: "+xt+" must be an array");if(!i.isArrayOrTypedArray(Je))throw new Error("cannot extend missing or non-array attribute: "+vt);if(Je.constructor!==Oe.constructor)throw new Error("cannot extend array with an array of a different type: "+vt);ft=Ge?Me[vt][xt]:Me,x(ft)||(ft=-1),Ie.push({prop:Qe,target:Je,insert:Oe,maxp:Math.floor(ft)})}return Ie}function ue($,fe,pe,Me,Ge){G($,fe,pe,Me);for(var Ie=Q($,fe,pe,Me),_e={},Je={},Qe=0;Qe<Ie.length;Qe++){var Oe=Ie[Qe].prop,ft=Ie[Qe].maxp,vt=Ge(Ie[Qe].target,Ie[Qe].insert,ft);Oe.set(vt[0]),Array.isArray(_e[Oe.astr])||(_e[Oe.astr]=[]),_e[Oe.astr].push(vt[1]),Array.isArray(Je[Oe.astr])||(Je[Oe.astr]=[]),Je[Oe.astr].push(Ie[Qe].target.length)}return{update:_e,maxPoints:Je}}function le($,fe){var pe=new $.constructor($.length+fe.length);return pe.set($),pe.set(fe,$.length),pe}function ye($,fe,pe,Me){$=i.getGraphDiv($);function Ge(Qe,Oe,ft){var vt,xt;if(i.isTypedArray(Qe))if(ft<0){var zt=new Qe.constructor(0),Vt=le(Qe,Oe);ft<0?(vt=Vt,xt=zt):(vt=zt,xt=Vt)}else if(vt=new Qe.constructor(ft),xt=new Qe.constructor(Qe.length+Oe.length-ft),ft===Oe.length)vt.set(Oe),xt.set(Qe);else if(ft<Oe.length){var Ut=Oe.length-ft;vt.set(Oe.subarray(Ut)),xt.set(Qe),xt.set(Oe.subarray(0,Ut),Qe.length)}else{var Nt=ft-Oe.length,Gt=Qe.length-Nt;vt.set(Qe.subarray(Gt)),vt.set(Oe,Nt),xt.set(Qe.subarray(0,Gt))}else vt=Qe.concat(Oe),xt=ft>=0&&ft<vt.length?vt.splice(0,vt.length-ft):[];return[vt,xt]}var Ie=ue($,fe,pe,Me,Ge),_e=H.redraw($),Je=[$,Ie.update,pe,Ie.maxPoints];return s.add($,H.prependTraces,Je,ye,arguments),_e}function Se($,fe,pe,Me){$=i.getGraphDiv($);function Ge(Qe,Oe,ft){var vt,xt;if(i.isTypedArray(Qe))if(ft<=0){var zt=new Qe.constructor(0),Vt=le(Oe,Qe);ft<0?(vt=Vt,xt=zt):(vt=zt,xt=Vt)}else if(vt=new Qe.constructor(ft),xt=new Qe.constructor(Qe.length+Oe.length-ft),ft===Oe.length)vt.set(Oe),xt.set(Qe);else if(ft<Oe.length){var Ut=Oe.length-ft;vt.set(Oe.subarray(0,Ut)),xt.set(Oe.subarray(Ut)),xt.set(Qe,Ut)}else{var Nt=ft-Oe.length;vt.set(Oe),vt.set(Qe.subarray(0,Nt),Oe.length),xt.set(Qe.subarray(Nt))}else vt=Oe.concat(Qe),xt=ft>=0&&ft<vt.length?vt.splice(ft,vt.length):[];return[vt,xt]}var Ie=ue($,fe,pe,Me,Ge),_e=H.redraw($),Je=[$,Ie.update,pe,Ie.maxPoints];return s.add($,H.extendTraces,Je,Se,arguments),_e}function ce($,fe,pe){$=i.getGraphDiv($);var Me=[],Ge=H.deleteTraces,Ie=ce,_e=[$,Me],Je=[$,fe],Qe,Oe;for(V($,fe,pe),Array.isArray(fe)||(fe=[fe]),fe=fe.map(function(ft){return i.extendFlat({},ft)}),c.cleanData(fe),Qe=0;Qe<fe.length;Qe++)$.data.push(fe[Qe]);for(Qe=0;Qe<fe.length;Qe++)Me.push(-fe.length+Qe);if(typeof pe>"u")return Oe=H.redraw($),s.add($,Ge,_e,Ie,Je),Oe;Array.isArray(pe)||(pe=[pe]);try{_($,Me,pe)}catch(ft){throw $.data.splice($.data.length-fe.length,fe.length),ft}return s.startSequence($),s.add($,Ge,_e,Ie,Je),Oe=H.moveTraces($,Me,pe),s.stopSequence($),Oe}function de($,fe){$=i.getGraphDiv($);var pe=[],Me=H.addTraces,Ge=de,Ie=[$,pe,fe],_e=[$,fe],Je,Qe;if(typeof fe>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(fe)||(fe=[fe]),D($,fe,"indices"),fe=N(fe,$.data.length-1),fe.sort(i.sorterDes),Je=0;Je<fe.length;Je+=1)Qe=$.data.splice(fe[Je],1)[0],pe.push(Qe);var Oe=H.redraw($);return s.add($,Me,Ie,Ge,_e),Oe}function S($,fe,pe){$=i.getGraphDiv($);var Me=[],Ge=[],Ie=S,_e=S,Je=[$,pe,fe],Qe=[$,fe,pe],Oe;if(_($,fe,pe),fe=Array.isArray(fe)?fe:[fe],typeof pe>"u")for(pe=[],Oe=0;Oe<fe.length;Oe++)pe.push(-fe.length+Oe);for(pe=Array.isArray(pe)?pe:[pe],fe=N(fe,$.data.length-1),pe=N(pe,$.data.length-1),Oe=0;Oe<$.data.length;Oe++)fe.indexOf(Oe)===-1&&Me.push($.data[Oe]);for(Oe=0;Oe<fe.length;Oe++)Ge.push({newIndex:pe[Oe],trace:$.data[fe[Oe]]});for(Ge.sort(function(vt,xt){return vt.newIndex-xt.newIndex}),Oe=0;Oe<Ge.length;Oe+=1)Me.splice(Ge[Oe].newIndex,0,Ge[Oe].trace);$.data=Me;var ft=H.redraw($);return s.add($,Ie,Je,_e,Qe),ft}function P($,fe,pe,Me){$=i.getGraphDiv($),c.clearPromiseQueue($);var Ge={};if(typeof fe=="string")Ge[fe]=pe;else if(i.isPlainObject(fe))Ge=i.extendFlat({},fe),Me===void 0&&(Me=pe);else return i.warn("Restyle fail.",fe,pe,Me),Promise.reject();Object.keys(Ge).length&&($.changed=!0);var Ie=c.coerceTraceIndices($,Me),_e=J($,Ge,Ie),Je=_e.flags;Je.calc&&($.calcdata=void 0),Je.clearAxisTypes&&c.clearAxisTypes($,Ie,{});var Qe=[];Je.fullReplot?Qe.push(H._doPlot):(Qe.push(d.previousPromises),d.supplyDefaults($),Je.markerSize&&(d.doCalcdata($),ve(Qe)),Je.style&&Qe.push(u.doTraceStyle),Je.colorbars&&Qe.push(u.doColorBars),Qe.push(O)),Qe.push(d.rehover,d.redrag,d.reselect),s.add($,P,[$,_e.undoit,_e.traces],P,[$,_e.redoit,_e.traces]);var Oe=i.syncOrAsync(Qe,$);return(!Oe||!Oe.then)&&(Oe=Promise.resolve()),Oe.then(function(){return $.emit("plotly_restyle",_e.eventData),$})}function k($){return $===void 0?null:$}function z($,fe){return fe?function(pe,Me,Ge){var Ie=r(pe,Me),_e=Ie.set;return Ie.set=function(Je){var Qe=(Ge||"")+Me;Y(Qe,Ie.get(),Je,$),_e(Je)},Ie}:r}function Y($,fe,pe,Me){if(Array.isArray(fe)||Array.isArray(pe))for(var Ge=Array.isArray(fe)?fe:[],Ie=Array.isArray(pe)?pe:[],_e=Math.max(Ge.length,Ie.length),Je=0;Je<_e;Je++)Y($+"["+Je+"]",Ge[Je],Ie[Je],Me);else if(i.isPlainObject(fe)||i.isPlainObject(pe)){var Qe=i.isPlainObject(fe)?fe:{},Oe=i.isPlainObject(pe)?pe:{},ft=i.extendFlat({},Qe,Oe);for(var vt in ft)Y($+"."+vt,Qe[vt],Oe[vt],Me)}else Me[$]===void 0&&(Me[$]=k(fe))}function F($,fe,pe){for(var Me in pe){var Ge=r($,Me);Y(Me,Ge.get(),pe[Me],fe)}}function J($,fe,pe){var Me=$._fullLayout,Ge=$._fullData,Ie=$.data,_e=Me._guiEditing,Je=z(Me._preGUI,_e),Qe=i.extendDeepAll({},fe),Oe;E(fe);var ft=b.traceFlags(),vt={},xt={},zt;function Vt(){return pe.map(function(){})}function Ut(Mt){var Yt=p.id2name(Mt);zt.indexOf(Yt)===-1&&zt.push(Yt)}function Nt(Mt){return"LAYOUT"+Mt+".autorange"}function Gt(Mt){return"LAYOUT"+Mt+".range"}function Ct(Mt){for(var Yt=Mt;Yt<Ge.length;Yt++)if(Ge[Yt]._input===Ie[Mt])return Ge[Yt]}function Dt(Mt,Yt,Jt){if(Array.isArray(Mt)){Mt.forEach(function(lr){Dt(lr,Yt,Jt)});return}if(!(Mt in fe||c.hasParent(fe,Mt))){var Qt;if(Mt.substr(0,6)==="LAYOUT")Qt=Je($.layout,Mt.replace("LAYOUT",""));else{var St=pe[Jt],Ft=Me._tracePreGUI[Ct(St)._fullInput.uid];Qt=z(Ft,_e)(Ie[St],Mt)}Mt in xt||(xt[Mt]=Vt()),xt[Mt][Jt]===void 0&&(xt[Mt][Jt]=k(Qt.get())),Yt!==void 0&&Qt.set(Yt)}}function _t(Mt){return function(Yt){return Ge[Yt][Mt]}}function Wt(Mt){return function(Yt,Jt){return Yt===!1?Ge[pe[Jt]][Mt]:null}}for(var Bt in fe){if(c.hasParent(fe,Bt))throw new Error("cannot set "+Bt+" and a parent attribute simultaneously");var It=fe[Bt],it,Ot,Xt,nr,Ht,tr;if((Bt==="autobinx"||Bt==="autobiny")&&(Bt=Bt.charAt(Bt.length-1)+"bins",Array.isArray(It)?It=It.map(Wt(Bt)):It===!1?It=pe.map(_t(Bt)):It=null),vt[Bt]=It,Bt.substr(0,6)==="LAYOUT"){Xt=Je($.layout,Bt.replace("LAYOUT","")),xt[Bt]=[k(Xt.get())],Xt.set(Array.isArray(It)?It[0]:It),ft.calc=!0;continue}for(xt[Bt]=Vt(),Oe=0;Oe<pe.length;Oe++){it=Ie[pe[Oe]],Ot=Ct(pe[Oe]);var or=Me._tracePreGUI[Ot._fullInput.uid];if(Xt=z(or,_e)(it,Bt),nr=Xt.get(),Ht=Array.isArray(It)?It[Oe%It.length]:It,Ht!==void 0){var ne=Xt.parts[Xt.parts.length-1],ee=Bt.substr(0,Bt.length-ne.length-1),ze=ee?ee+".":"",Fe=ee?r(Ot,ee).get():Ot;if(tr=t.getTraceValObject(Ot,Xt.parts),tr&&tr.impliedEdits&&Ht!==null)for(var Ue in tr.impliedEdits)Dt(i.relativeAttr(Bt,Ue),tr.impliedEdits[Ue],Oe);else if((ne==="thicknessmode"||ne==="lenmode")&&nr!==Ht&&(Ht==="fraction"||Ht==="pixels")&&Fe){var Ze=Me._size,Xe=Fe.orient,Be=Xe==="top"||Xe==="bottom";if(ne==="thicknessmode"){var Ye=Be?Ze.h:Ze.w;Dt(ze+"thickness",Fe.thickness*(Ht==="fraction"?1/Ye:Ye),Oe)}else{var qe=Be?Ze.w:Ze.h;Dt(ze+"len",Fe.len*(Ht==="fraction"?1/qe:qe),Oe)}}else if(Bt==="type"&&(Ht==="pie"!=(nr==="pie")||Ht==="funnelarea"!=(nr==="funnelarea"))){var tt="x",ut="y";(Ht==="bar"||nr==="bar")&&it.orientation==="h"&&(tt="y",ut="x"),i.swapAttrs(it,["?","?src"],"labels",tt),i.swapAttrs(it,["d?","?0"],"label",tt),i.swapAttrs(it,["?","?src"],"values",ut),nr==="pie"||nr==="funnelarea"?(r(it,"marker.color").set(r(it,"marker.colors").get()),Me._pielayer.selectAll("g.trace").remove()):n.traceIs(it,"cartesian")&&r(it,"marker.colors").set(r(it,"marker.color").get())}xt[Bt][Oe]=k(nr);var rt=["swapxy","swapxyaxes","orientation","orientationaxes"];if(rt.indexOf(Bt)!==-1){if(Bt==="orientation"){Xt.set(Ht);var Tt=it.x&&!it.y?"h":"v";if((Xt.get()||Tt)===Ot.orientation)continue}else Bt==="orientationaxes"&&(it.orientation={v:"h",h:"v"}[Ot.orientation]);c.swapXYData(it),ft.calc=ft.clearAxisTypes=!0}else d.dataArrayContainers.indexOf(Xt.parts[0])!==-1?(c.manageArrayContainers(Xt,Ht,xt),ft.calc=!0):(tr?tr.arrayOk&&!n.traceIs(Ot,"regl")&&(i.isArrayOrTypedArray(Ht)||i.isArrayOrTypedArray(nr))?ft.calc=!0:b.update(ft,tr):ft.calc=!0,Xt.set(Ht))}}if(["swapxyaxes","orientationaxes"].indexOf(Bt)!==-1&&p.swap($,pe),Bt==="orientationaxes"){var mt=r($.layout,"hovermode"),ct=mt.get();ct==="x"?mt.set("y"):ct==="y"?mt.set("x"):ct==="x unified"?mt.set("y unified"):ct==="y unified"&&mt.set("x unified")}if(["orientation","type"].indexOf(Bt)!==-1){for(zt=[],Oe=0;Oe<pe.length;Oe++){var Rt=Ie[pe[Oe]];n.traceIs(Rt,"cartesian")&&(Ut(Rt.xaxis||"x"),Ut(Rt.yaxis||"y"))}Dt(zt.map(Nt),!0,0),Dt(zt.map(Gt),[0,1],0)}}return(ft.calc||ft.plot)&&(ft.fullReplot=!0),{flags:ft,undoit:xt,redoit:vt,traces:pe,eventData:i.extendDeepNoArrays([],[Qe,pe])}}function E($){var fe=i.counterRegex("axis",".title",!1,!1),pe=/colorbar\.title$/,Me=Object.keys($),Ge,Ie,_e;for(Ge=0;Ge<Me.length;Ge++)Ie=Me[Ge],_e=$[Ie],(Ie==="title"||fe.test(Ie)||pe.test(Ie))&&(typeof _e=="string"||typeof _e=="number")?Je(Ie,Ie.replace("title","title.text")):Ie.indexOf("titlefont")>-1&&Ie.indexOf("grouptitlefont")===-1?Je(Ie,Ie.replace("titlefont","title.font")):Ie.indexOf("titleposition")>-1?Je(Ie,Ie.replace("titleposition","title.position")):Ie.indexOf("titleside")>-1?Je(Ie,Ie.replace("titleside","title.side")):Ie.indexOf("titleoffset")>-1&&Je(Ie,Ie.replace("titleoffset","title.offset"));function Je(Qe,Oe){$[Oe]=$[Qe],delete $[Qe]}}function K($,fe,pe){$=i.getGraphDiv($),c.clearPromiseQueue($);var Me={};if(typeof fe=="string")Me[fe]=pe;else if(i.isPlainObject(fe))Me=i.extendFlat({},fe);else return i.warn("Relayout fail.",fe,pe),Promise.reject();Object.keys(Me).length&&($.changed=!0);var Ge=se($,Me),Ie=Ge.flags;Ie.calc&&($.calcdata=void 0);var _e=[d.previousPromises];Ie.layoutReplot?_e.push(u.layoutReplot):Object.keys(Me).length&&(ie($,Ie,Ge)||d.supplyDefaults($),Ie.legend&&_e.push(u.doLegend),Ie.layoutstyle&&_e.push(u.layoutStyles),Ie.axrange&&ve(_e,Ge.rangesAltered),Ie.ticks&&_e.push(u.doTicksRelayout),Ie.modebar&&_e.push(u.doModeBar),Ie.camera&&_e.push(u.doCamera),Ie.colorbars&&_e.push(u.doColorBars),_e.push(O)),_e.push(d.rehover,d.redrag,d.reselect),s.add($,K,[$,Ge.undoit],K,[$,Ge.redoit]);var Je=i.syncOrAsync(_e,$);return(!Je||!Je.then)&&(Je=Promise.resolve($)),Je.then(function(){return $.emit("plotly_relayout",Ge.eventData),$})}function ie($,fe,pe){var Me=$._fullLayout;if(!fe.axrange)return!1;for(var Ge in fe)if(Ge!=="axrange"&&fe[Ge])return!1;for(var Ie in pe.rangesAltered){var _e=p.id2name(Ie),Je=$.layout[_e],Qe=Me[_e];if(Qe.autorange=Je.autorange,Je.range&&(Qe.range=Je.range.slice()),Qe.cleanRange(),Qe._matchGroup){for(var Oe in Qe._matchGroup)if(Oe!==Ie){var ft=Me[p.id2name(Oe)];ft.autorange=Qe.autorange,ft.range=Qe.range.slice(),ft._input.range=Qe.range.slice()}}}return!0}function ve($,fe){var pe=fe?function(Me){var Ge=[],Ie=!0;for(var _e in fe){var Je=p.getFromId(Me,_e);if(Ge.push(_e),(Je.ticklabelposition||"").indexOf("inside")!==-1&&Je._anchorAxis&&Ge.push(Je._anchorAxis._id),Je._matchGroup)for(var Qe in Je._matchGroup)fe[Qe]||Ge.push(Qe)}return p.draw(Me,Ge,{skipTitle:Ie})}:function(Me){return p.draw(Me,"redraw")};$.push(g,u.doAutoRangeAndConstraints,pe,u.drawData,u.finalDraw)}var he=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Le=/^[xyz]axis[0-9]*\.autorange$/,ke=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function se($,fe){var pe=$.layout,Me=$._fullLayout,Ge=Me._guiEditing,Ie=z(Me._preGUI,Ge),_e=Object.keys(fe),Je=p.list($),Qe=i.extendDeepAll({},fe),Oe={},ft,vt,xt;for(E(fe),_e=Object.keys(fe),vt=0;vt<_e.length;vt++)if(_e[vt].indexOf("allaxes")===0){for(xt=0;xt<Je.length;xt++){var zt=Je[xt]._id.substr(1),Vt=zt.indexOf("scene")!==-1?zt+".":"",Ut=_e[vt].replace("allaxes",Vt+Je[xt]._name);fe[Ut]||(fe[Ut]=fe[_e[vt]])}delete fe[_e[vt]]}var Nt=b.layoutFlags(),Gt={},Ct={};function Dt(St,Ft){if(Array.isArray(St)){St.forEach(function(rr){Dt(rr,Ft)});return}if(!(St in fe||c.hasParent(fe,St))){var lr=Ie(pe,St);St in Ct||(Ct[St]=k(lr.get())),Ft!==void 0&&lr.set(Ft)}}var _t={},Wt;function Bt(St){var Ft=p.name2id(St.split(".")[0]);return _t[Ft]=1,Ft}for(var It in fe){if(c.hasParent(fe,It))throw new Error("cannot set "+It+" and a parent attribute simultaneously");for(var it=Ie(pe,It),Ot=fe[It],Xt=it.parts.length,nr=Xt-1;nr>0&&typeof it.parts[nr]!="string";)nr--;var Ht=it.parts[nr],tr=it.parts[nr-1]+"."+Ht,or=it.parts.slice(0,nr).join("."),ne=r($.layout,or).get(),ee=r(Me,or).get(),ze=it.get();if(Ot!==void 0){Gt[It]=Ot,Ct[It]=Ht==="reverse"?Ot:k(ze);var Fe=t.getLayoutValObject(Me,it.parts);if(Fe&&Fe.impliedEdits&&Ot!==null)for(var Ue in Fe.impliedEdits)Dt(i.relativeAttr(It,Ue),Fe.impliedEdits[Ue]);if(["width","height"].indexOf(It)!==-1)if(Ot){Dt("autosize",null);var Ze=It==="height"?"width":"height";Dt(Ze,Me[Ze])}else Me[It]=$._initialAutoSize[It];else if(It==="autosize")Dt("width",Ot?null:Me.width),Dt("height",Ot?null:Me.height);else if(tr.match(he))Bt(tr),r(Me,or+"._inputRange").set(null);else if(tr.match(Le)){Bt(tr),r(Me,or+"._inputRange").set(null);var Xe=r(Me,or).get();Xe._inputDomain&&(Xe._input.domain=Xe._inputDomain.slice())}else tr.match(ke)&&r(Me,or+"._inputDomain").set(null);if(Ht==="type"){Wt=ne;var Be=ee.type==="linear"&&Ot==="log",Ye=ee.type==="log"&&Ot==="linear";if(Be||Ye){if(!Wt||!Wt.range)Dt(or+".autorange",!0);else if(ee.autorange)Be&&(Wt.range=Wt.range[1]>Wt.range[0]?[1,2]:[2,1]);else{var qe=Wt.range[0],tt=Wt.range[1];Be?(qe<=0&&tt<=0&&Dt(or+".autorange",!0),qe<=0?qe=tt/1e6:tt<=0&&(tt=qe/1e6),Dt(or+".range[0]",Math.log(qe)/Math.LN10),Dt(or+".range[1]",Math.log(tt)/Math.LN10)):(Dt(or+".range[0]",Math.pow(10,qe)),Dt(or+".range[1]",Math.pow(10,tt)))}Array.isArray(Me._subplots.polar)&&Me._subplots.polar.length&&Me[it.parts[0]]&&it.parts[1]==="radialaxis"&&delete Me[it.parts[0]]._subplot.viewInitial["radialaxis.range"],n.getComponentMethod("annotations","convertCoords")($,ee,Ot,Dt),n.getComponentMethod("images","convertCoords")($,ee,Ot,Dt)}else Dt(or+".autorange",!0),Dt(or+".range",null);r(Me,or+"._inputRange").set(null)}else if(Ht.match(w)){var ut=r(Me,It).get(),rt=(Ot||{}).type;(!rt||rt==="-")&&(rt="linear"),n.getComponentMethod("annotations","convertCoords")($,ut,rt,Dt),n.getComponentMethod("images","convertCoords")($,ut,rt,Dt)}var Tt=v.containerArrayMatch(It);if(Tt){ft=Tt.array,vt=Tt.index;var mt=Tt.property,ct=Fe||{editType:"calc"};vt!==""&&mt===""&&(v.isAddVal(Ot)?Ct[It]=null:v.isRemoveVal(Ot)?Ct[It]=(r(pe,ft).get()||[])[vt]:i.warn("unrecognized full object value",fe)),b.update(Nt,ct),Oe[ft]||(Oe[ft]={});var Rt=Oe[ft][vt];Rt||(Rt=Oe[ft][vt]={}),Rt[mt]=Ot,delete fe[It]}else Ht==="reverse"?(ne.range?ne.range.reverse():(Dt(or+".autorange",!0),ne.range=[1,0]),ee.autorange?Nt.calc=!0:Nt.plot=!0):(It==="dragmode"&&(Ot===!1&&ze!==!1||Ot!==!1&&ze===!1)||Me._has("scatter-like")&&Me._has("regl")&&It==="dragmode"&&(Ot==="lasso"||Ot==="select")&&!(ze==="lasso"||ze==="select")||Me._has("gl2d")?Nt.plot=!0:Fe?b.update(Nt,Fe):Nt.calc=!0,it.set(Ot))}}for(ft in Oe){var Mt=v.applyContainerArrayChanges($,Ie(pe,ft),Oe[ft],Nt,Ie);Mt||(Nt.plot=!0)}for(var Yt in _t){Wt=p.getFromId($,Yt);var Jt=Wt&&Wt._constraintGroup;if(Jt){Nt.calc=!0;for(var Qt in Jt)_t[Qt]||(p.getFromId($,Qt)._constraintShrinkable=!0)}}return(ge($)||fe.height||fe.width)&&(Nt.plot=!0),(Nt.plot||Nt.calc)&&(Nt.layoutReplot=!0),{flags:Nt,rangesAltered:_t,undoit:Ct,redoit:Gt,eventData:Qe}}function ge($){var fe=$._fullLayout,pe=fe.width,Me=fe.height;return $.layout.autosize&&d.plotAutoSize($,$.layout,fe),fe.width!==pe||fe.height!==Me}function be($,fe,pe,Me){$=i.getGraphDiv($),c.clearPromiseQueue($),i.isPlainObject(fe)||(fe={}),i.isPlainObject(pe)||(pe={}),Object.keys(fe).length&&($.changed=!0),Object.keys(pe).length&&($.changed=!0);var Ge=c.coerceTraceIndices($,Me),Ie=J($,i.extendFlat({},fe),Ge),_e=Ie.flags,Je=se($,i.extendFlat({},pe)),Qe=Je.flags;(_e.calc||Qe.calc)&&($.calcdata=void 0),_e.clearAxisTypes&&c.clearAxisTypes($,Ge,pe);var Oe=[];Qe.layoutReplot?Oe.push(u.layoutReplot):_e.fullReplot?Oe.push(H._doPlot):(Oe.push(d.previousPromises),ie($,Qe,Je)||d.supplyDefaults($),_e.style&&Oe.push(u.doTraceStyle),(_e.colorbars||Qe.colorbars)&&Oe.push(u.doColorBars),Qe.legend&&Oe.push(u.doLegend),Qe.layoutstyle&&Oe.push(u.layoutStyles),Qe.axrange&&ve(Oe,Je.rangesAltered),Qe.ticks&&Oe.push(u.doTicksRelayout),Qe.modebar&&Oe.push(u.doModeBar),Qe.camera&&Oe.push(u.doCamera),Oe.push(O)),Oe.push(d.rehover,d.redrag,d.reselect),s.add($,be,[$,Ie.undoit,Je.undoit,Ie.traces],be,[$,Ie.redoit,Je.redoit,Ie.traces]);var ft=i.syncOrAsync(Oe,$);return(!ft||!ft.then)&&(ft=Promise.resolve($)),ft.then(function(){return $.emit("plotly_update",{data:Ie.eventData,layout:Je.eventData}),$})}function Ee($){return function(pe){pe._fullLayout._guiEditing=!0;var Me=$.apply(null,arguments);return pe._fullLayout._guiEditing=!1,Me}}var we=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Te=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Ne($,fe){for(var pe=0;pe<fe.length;pe++){var Me=fe[pe],Ge=$.match(Me.pattern);if(Ge){var Ie=Ge[1]||"";return{head:Ie,tail:$.substr(Ie.length+1),attr:Me.attr}}}}function $e($,fe){var pe=r(fe,$).get();if(pe!==void 0)return pe;var Me=$.split(".");for(Me.pop();Me.length>1;)if(Me.pop(),pe=r(fe,Me.join(".")+".uirevision").get(),pe!==void 0)return pe;return fe.uirevision}function je($,fe){for(var pe=0;pe<fe.length;pe++)if(fe[pe]._fullInput.uid===$)return pe;return-1}function He($,fe,pe){for(var Me=0;Me<fe.length;Me++)if(fe[Me].uid===$)return Me;return!fe[pe]||fe[pe].uid?-1:pe}function st($,fe){var pe=i.isPlainObject($),Me=Array.isArray($);return pe||Me?(pe&&i.isPlainObject(fe)||Me&&Array.isArray(fe))&&JSON.stringify($)===JSON.stringify(fe):$===fe}function nt($,fe,pe,Me){var Ge=Me._preGUI,Ie,_e,Je,Qe,Oe,ft,vt,xt,zt,Vt,Ut=[],Nt={},Gt={};for(Ie in Ge){if(Oe=Ne(Ie,we),Oe){if(zt=Oe.head,Vt=Oe.tail,_e=Oe.attr||zt+".uirevision",Je=r(Me,_e).get(),Qe=Je&&$e(_e,fe),Qe&&Qe===Je){if(ft=Ge[Ie],ft===null&&(ft=void 0),vt=r(fe,Ie),xt=vt.get(),st(xt,ft)){xt===void 0&&Vt==="autorange"&&Ut.push(zt),vt.set(k(r(Me,Ie).get()));continue}else if(Vt==="autorange"||Vt.substr(0,6)==="range["){var Ct=Ge[zt+".range[0]"],Dt=Ge[zt+".range[1]"],_t=Ge[zt+".autorange"];if(_t||_t===null&&Ct===null&&Dt===null){if(!(zt in Nt)){var Wt=r(fe,zt).get();Nt[zt]=Wt&&(Wt.autorange||Wt.autorange!==!1&&(!Wt.range||Wt.range.length!==2))}if(Nt[zt]){vt.set(k(r(Me,Ie).get()));continue}}}}}else i.warn("unrecognized GUI edit: "+Ie);delete Ge[Ie],Oe&&Oe.tail.substr(0,6)==="range["&&(Gt[Oe.head]=1)}for(var Bt=0;Bt<Ut.length;Bt++){var It=Ut[Bt];if(Gt[It]){var it=r(fe,It).get();it&&delete it.autorange}}var Ot=Me._tracePreGUI;for(var Xt in Ot){var nr=Ot[Xt],Ht=null,tr;for(Ie in nr){if(!Ht){var or=je(Xt,pe);if(or<0){delete Ot[Xt];break}var ne=pe[or];tr=ne._fullInput;var ee=He(Xt,$,tr.index);if(ee<0){delete Ot[Xt];break}Ht=$[ee]}if(Oe=Ne(Ie,Te),Oe){if(Oe.attr?(Je=r(Me,Oe.attr).get(),Qe=Je&&$e(Oe.attr,fe)):(Je=tr.uirevision,Qe=Ht.uirevision,Qe===void 0&&(Qe=fe.uirevision)),Qe&&Qe===Je&&(ft=nr[Ie],ft===null&&(ft=void 0),vt=r(Ht,Ie),xt=vt.get(),st(xt,ft))){vt.set(k(r(tr,Ie).get()));continue}}else i.warn("unrecognized GUI edit: "+Ie+" in trace uid "+Xt);delete nr[Ie]}}}function dt($,fe,pe,Me){var Ge,Ie;function _e(){return H.addFrames($,Ge)}$=i.getGraphDiv($),c.clearPromiseQueue($);var Je=$._fullData,Qe=$._fullLayout;if(!i.isPlotDiv($)||!Je||!Qe)Ie=H.newPlot($,fe,pe,Me);else{if(i.isPlainObject(fe)){var Oe=fe;fe=Oe.data,pe=Oe.layout,Me=Oe.config,Ge=Oe.frames}var ft=!1;if(Me){var vt=i.extendDeep({},$._context);$._context=void 0,te($,Me),ft=At(vt,$._context)}$.data=fe||[],c.cleanData($.data),$.layout=pe||{},c.cleanLayout($.layout),nt($.data,$.layout,Je,Qe),d.supplyDefaults($,{skipUpdateCalc:!0});var xt=$._fullData,zt=$._fullLayout,Vt=zt.datarevision===void 0,Ut=zt.transition,Nt=Pt($,Qe,zt,Vt,Ut),Gt=Nt.newDataRevision,Ct=ht($,Je,xt,Vt,Ut,Gt);if(ge($)&&(Nt.layoutReplot=!0),Ct.calc||Nt.calc){$.calcdata=void 0;for(var Dt=Object.getOwnPropertyNames(zt),_t=0;_t<Dt.length;_t++){var Wt=Dt[_t],Bt=Wt.substring(0,5);if(Bt==="xaxis"||Bt==="yaxis"){var It=zt[Wt]._emptyCategories;It&&It()}}}else d.supplyDefaultsUpdateCalc($.calcdata,xt);var it=[];if(Ge&&($._transitionData={},d.createTransitionData($),it.push(_e)),zt.transition&&!ft&&(Ct.anim||Nt.anim))Nt.ticks&&it.push(u.doTicksRelayout),d.doCalcdata($),u.doAutoRangeAndConstraints($),it.push(function(){return d.transitionFromReact($,Ct,Nt,Qe)});else if(Ct.fullReplot||Nt.layoutReplot||ft)$._fullLayout._skipDefaults=!0,it.push(H._doPlot);else{for(var Ot in Nt.arrays){var Xt=Nt.arrays[Ot];if(Xt.length){var nr=n.getComponentMethod(Ot,"drawOne");if(nr!==i.noop)for(var Ht=0;Ht<Xt.length;Ht++)nr($,Xt[Ht]);else{var tr=n.getComponentMethod(Ot,"draw");if(tr===i.noop)throw new Error("cannot draw components: "+Ot);tr($)}}}it.push(d.previousPromises),Ct.style&&it.push(u.doTraceStyle),(Ct.colorbars||Nt.colorbars)&&it.push(u.doColorBars),Nt.legend&&it.push(u.doLegend),Nt.layoutstyle&&it.push(u.layoutStyles),Nt.axrange&&ve(it),Nt.ticks&&it.push(u.doTicksRelayout),Nt.modebar&&it.push(u.doModeBar),Nt.camera&&it.push(u.doCamera),it.push(O)}it.push(d.rehover,d.redrag,d.reselect),Ie=i.syncOrAsync(it,$),(!Ie||!Ie.then)&&(Ie=Promise.resolve($))}return Ie.then(function(){return $.emit("plotly_react",{data:fe,layout:pe}),$})}function ht($,fe,pe,Me,Ge,Ie){var _e=fe.length===pe.length;if(!Ge&&!_e)return{fullReplot:!0,calc:!0};var Je=b.traceFlags();Je.arrays={},Je.nChanges=0,Je.nChangesAnim=0;var Qe,Oe;function ft(zt){var Vt=t.getTraceValObject(Oe,zt);return!Oe._module.animatable&&Vt.anim&&(Vt.anim=!1),Vt}var vt={getValObject:ft,flags:Je,immutable:Me,transition:Ge,newDataRevision:Ie,gd:$},xt={};for(Qe=0;Qe<fe.length;Qe++)if(pe[Qe]){if(Oe=pe[Qe]._fullInput,d.hasMakesDataTransform(Oe)&&(Oe=pe[Qe]),xt[Oe.uid])continue;xt[Oe.uid]=1,bt(fe[Qe]._fullInput,Oe,[],vt)}return(Je.calc||Je.plot)&&(Je.fullReplot=!0),Ge&&Je.nChanges&&Je.nChangesAnim&&(Je.anim=Je.nChanges===Je.nChangesAnim&&_e?"all":"some"),Je}function Pt($,fe,pe,Me,Ge){var Ie=b.layoutFlags();Ie.arrays={},Ie.rangesAltered={},Ie.nChanges=0,Ie.nChangesAnim=0;function _e(Qe){return t.getLayoutValObject(pe,Qe)}var Je={getValObject:_e,flags:Ie,immutable:Me,transition:Ge,gd:$};return bt(fe,pe,[],Je),(Ie.plot||Ie.calc)&&(Ie.layoutReplot=!0),Ge&&Ie.nChanges&&Ie.nChangesAnim&&(Ie.anim=Ie.nChanges===Ie.nChangesAnim?"all":"some"),Ie}function bt($,fe,pe,Me){var Ge,Ie,_e,Je=Me.getValObject,Qe=Me.flags,Oe=Me.immutable,ft=Me.inArray,vt=Me.arrayIndex;function xt(){var or=Ge.editType;if(ft&&or.indexOf("arraydraw")!==-1){i.pushUnique(Qe.arrays[ft],vt);return}b.update(Qe,Ge),or!=="none"&&Qe.nChanges++,Me.transition&&Ge.anim&&Qe.nChangesAnim++,(he.test(_e)||Le.test(_e))&&(Qe.rangesAltered[pe[0]]=1),ke.test(_e)&&r(fe,"_inputDomain").set(null),Ie==="datarevision"&&(Qe.newDataRevision=1)}function zt(or){return or.valType==="data_array"||or.arrayOk}for(Ie in $){if(Qe.calc&&!Me.transition)return;var Vt=$[Ie],Ut=fe[Ie],Nt=pe.concat(Ie);if(_e=Nt.join("."),!(Ie.charAt(0)==="_"||typeof Vt=="function"||Vt===Ut)){if((Ie==="tick0"||Ie==="dtick")&&pe[0]!=="geo"){var Gt=fe.tickmode;if(Gt==="auto"||Gt==="array"||!Gt)continue}if(!(Ie==="range"&&fe.autorange)&&!((Ie==="zmin"||Ie==="zmax")&&fe.type==="contourcarpet")&&(Ge=Je(Nt),!!Ge&&!(Ge._compareAsJSON&&JSON.stringify(Vt)===JSON.stringify(Ut)))){var Ct=Ge.valType,Dt,_t=zt(Ge),Wt=Array.isArray(Vt),Bt=Array.isArray(Ut);if(Wt&&Bt){var It="_input_"+Ie,it=$[It],Ot=fe[It];if(Array.isArray(it)&&it===Ot)continue}if(Ut===void 0)_t&&Wt?Qe.calc=!0:xt();else if(Ge._isLinkedToArray){var Xt=[],nr=!1;ft||(Qe.arrays[Ie]=Xt);var Ht=Math.min(Vt.length,Ut.length),tr=Math.max(Vt.length,Ut.length);if(Ht!==tr)if(Ge.editType==="arraydraw")nr=!0;else{xt();continue}for(Dt=0;Dt<Ht;Dt++)bt(Vt[Dt],Ut[Dt],Nt.concat(Dt),i.extendFlat({inArray:Ie,arrayIndex:Dt},Me));if(nr)for(Dt=Ht;Dt<tr;Dt++)Xt.push(Dt)}else!Ct&&i.isPlainObject(Vt)?bt(Vt,Ut,Nt,Me):_t?Wt&&Bt?(Oe&&(Qe.calc=!0),(Oe||Me.newDataRevision)&&xt()):Wt!==Bt?Qe.calc=!0:xt():Wt&&Bt?(Vt.length!==Ut.length||String(Vt)!==String(Ut))&&xt():xt()}}}for(Ie in fe)if(!(Ie in $||Ie.charAt(0)==="_"||typeof fe[Ie]=="function"))if(Ge=Je(pe.concat(Ie)),zt(Ge)&&Array.isArray(fe[Ie])){Qe.calc=!0;return}else xt()}function At($,fe){var pe;for(pe in $)if(pe.charAt(0)!=="_"){var Me=$[pe],Ge=fe[pe];if(Me!==Ge)if(i.isPlainObject(Me)&&i.isPlainObject(Ge)){if(At(Me,Ge))return!0}else if(Array.isArray(Me)&&Array.isArray(Ge)){if(Me.length!==Ge.length)return!0;for(var Ie=0;Ie<Me.length;Ie++)if(Me[Ie]!==Ge[Ie])if(i.isPlainObject(Me[Ie])&&i.isPlainObject(Ge[Ie])){if(At(Me[Ie],Ge[Ie]))return!0}else return!0}else return!0}}function wt($,fe,pe){if($=i.getGraphDiv($),!i.isPlotDiv($))throw new Error("This element is not a Plotly plot: "+$+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Me=$._transitionData;Me._frameQueue||(Me._frameQueue=[]),pe=d.supplyAnimationDefaults(pe);var Ge=pe.transition,Ie=pe.frame;Me._frameWaitingCnt===void 0&&(Me._frameWaitingCnt=0);function _e(Oe){return Array.isArray(Ge)?Oe>=Ge.length?Ge[0]:Ge[Oe]:Ge}function Je(Oe){return Array.isArray(Ie)?Oe>=Ie.length?Ie[0]:Ie[Oe]:Ie}function Qe(Oe,ft){var vt=0;return function(){if(Oe&&++vt===ft)return Oe()}}return new Promise(function(Oe,ft){function vt(){if(Me._frameQueue.length!==0){for(;Me._frameQueue.length;){var Ht=Me._frameQueue.pop();Ht.onInterrupt&&Ht.onInterrupt()}$.emit("plotly_animationinterrupted",[])}}function xt(Ht){if(Ht.length!==0){for(var tr=0;tr<Ht.length;tr++){var or;Ht[tr].type==="byname"?or=d.computeFrame($,Ht[tr].name):or=Ht[tr].data;var ne=Je(tr),ee=_e(tr);ee.duration=Math.min(ee.duration,ne.duration);var ze={frame:or,name:Ht[tr].name,frameOpts:ne,transitionOpts:ee};tr===Ht.length-1&&(ze.onComplete=Qe(Oe,2),ze.onInterrupt=ft),Me._frameQueue.push(ze)}pe.mode==="immediate"&&(Me._lastFrameAt=-1/0),Me._animationRaf||Ut()}}function zt(){$.emit("plotly_animated"),window.cancelAnimationFrame(Me._animationRaf),Me._animationRaf=null}function Vt(){Me._currentFrame&&Me._currentFrame.onComplete&&Me._currentFrame.onComplete();var Ht=Me._currentFrame=Me._frameQueue.shift();if(Ht){var tr=Ht.name?Ht.name.toString():null;$._fullLayout._currentFrame=tr,Me._lastFrameAt=Date.now(),Me._timeToNext=Ht.frameOpts.duration,d.transition($,Ht.frame.data,Ht.frame.layout,c.coerceTraceIndices($,Ht.frame.traces),Ht.frameOpts,Ht.transitionOpts).then(function(){Ht.onComplete&&Ht.onComplete()}),$.emit("plotly_animatingframe",{name:tr,frame:Ht.frame,animation:{frame:Ht.frameOpts,transition:Ht.transitionOpts}})}else zt()}function Ut(){$.emit("plotly_animating"),Me._lastFrameAt=-1/0,Me._timeToNext=0,Me._runningTransitions=0,Me._currentFrame=null;var Ht=function(){Me._animationRaf=window.requestAnimationFrame(Ht),Date.now()-Me._lastFrameAt>Me._timeToNext&&Vt()};Ht()}var Nt=0;function Gt(Ht){return Array.isArray(Ge)?Nt>=Ge.length?Ht.transitionOpts=Ge[Nt]:Ht.transitionOpts=Ge[0]:Ht.transitionOpts=Ge,Nt++,Ht}var Ct,Dt,_t=[],Wt=fe==null,Bt=Array.isArray(fe),It=!Wt&&!Bt&&i.isPlainObject(fe);if(It)_t.push({type:"object",data:Gt(i.extendFlat({},fe))});else if(Wt||["string","number"].indexOf(typeof fe)!==-1)for(Ct=0;Ct<Me._frames.length;Ct++)Dt=Me._frames[Ct],Dt&&(Wt||String(Dt.group)===String(fe))&&_t.push({type:"byname",name:String(Dt.name),data:Gt({name:Dt.name})});else if(Bt)for(Ct=0;Ct<fe.length;Ct++){var it=fe[Ct];["number","string"].indexOf(typeof it)!==-1?(it=String(it),_t.push({type:"byname",name:it,data:Gt({name:it})})):i.isPlainObject(it)&&_t.push({type:"object",data:Gt(i.extendFlat({},it))})}for(Ct=0;Ct<_t.length;Ct++)if(Dt=_t[Ct],Dt.type==="byname"&&!Me._frameHash[Dt.data.name]){i.warn('animate failure: frame not found: "'+Dt.data.name+'"'),ft();return}["next","immediate"].indexOf(pe.mode)!==-1&&vt(),pe.direction==="reverse"&&_t.reverse();var Ot=$._fullLayout._currentFrame;if(Ot&&pe.fromcurrent){var Xt=-1;for(Ct=0;Ct<_t.length;Ct++)if(Dt=_t[Ct],Dt.type==="byname"&&Dt.name===Ot){Xt=Ct;break}if(Xt>0&&Xt<_t.length-1){var nr=[];for(Ct=0;Ct<_t.length;Ct++)Dt=_t[Ct],(_t[Ct].type!=="byname"||Ct>Xt)&&nr.push(Dt);_t=nr}}_t.length>0?xt(_t):($.emit("plotly_animated"),Oe())})}function Lt($,fe,pe){if($=i.getGraphDiv($),fe==null)return Promise.resolve();if(!i.isPlotDiv($))throw new Error("This element is not a Plotly plot: "+$+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Me,Ge,Ie,_e,Je=$._transitionData._frames,Qe=$._transitionData._frameHash;if(!Array.isArray(fe))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+fe);var Oe=Je.length+fe.length*2,ft=[],vt={};for(Me=fe.length-1;Me>=0;Me--)if(i.isPlainObject(fe[Me])){var xt=fe[Me].name,zt=(Qe[xt]||vt[xt]||{}).name,Vt=fe[Me].name,Ut=Qe[zt]||vt[zt];zt&&Vt&&typeof Vt=="number"&&Ut&&B<C&&(B++,i.warn('addFrames: overwriting frame "'+(Qe[zt]||vt[zt]).name+'" with a frame whose name of type "number" also equates to "'+zt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),B===C&&i.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),vt[xt]={name:xt},ft.push({frame:d.supplyFrameDefaults(fe[Me]),index:pe&&pe[Me]!==void 0&&pe[Me]!==null?pe[Me]:Oe+Me})}ft.sort(function(It,it){return It.index>it.index?-1:It.index<it.index?1:0});var Nt=[],Gt=[],Ct=Je.length;for(Me=ft.length-1;Me>=0;Me--){if(Ge=ft[Me].frame,typeof Ge.name=="number"&&i.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Ge.name)for(;Qe[Ge.name="frame "+$._transitionData._counter++];);if(Qe[Ge.name]){for(Ie=0;Ie<Je.length&&(Je[Ie]||{}).name!==Ge.name;Ie++);Nt.push({type:"replace",index:Ie,value:Ge}),Gt.unshift({type:"replace",index:Ie,value:Je[Ie]})}else _e=Math.max(0,Math.min(ft[Me].index,Ct)),Nt.push({type:"insert",index:_e,value:Ge}),Gt.unshift({type:"delete",index:_e}),Ct++}var Dt=d.modifyFrames,_t=d.modifyFrames,Wt=[$,Gt],Bt=[$,Nt];return s&&s.add($,Dt,Wt,_t,Bt),d.modifyFrames($,Nt)}function kt($,fe){if($=i.getGraphDiv($),!i.isPlotDiv($))throw new Error("This element is not a Plotly plot: "+$);var pe,Me,Ge=$._transitionData._frames,Ie=[],_e=[];if(!fe)for(fe=[],pe=0;pe<Ge.length;pe++)fe.push(pe);for(fe=fe.slice(),fe.sort(),pe=fe.length-1;pe>=0;pe--)Me=fe[pe],Ie.push({type:"delete",index:Me}),_e.unshift({type:"insert",index:Me,value:Ge[Me]});var Je=d.modifyFrames,Qe=d.modifyFrames,Oe=[$,_e],ft=[$,Ie];return s&&s.add($,Je,Oe,Qe,ft),d.modifyFrames($,Ie)}function Ce($){$=i.getGraphDiv($);var fe=$._fullLayout||{},pe=$._fullData||[];return d.cleanPlot([],{},pe,fe),d.purge($),f.purge($),fe._container&&fe._container.remove(),delete $._context,$}function Ae($){var fe=$._fullLayout,pe=$.getBoundingClientRect();if(!i.equalDomRects(pe,fe._lastBBox)){var Me=fe._invTransform=i.inverseTransformMatrix(i.getFullTransformMatrix($));fe._invScaleX=Math.sqrt(Me[0][0]*Me[0][0]+Me[0][1]*Me[0][1]+Me[0][2]*Me[0][2]),fe._invScaleY=Math.sqrt(Me[1][0]*Me[1][0]+Me[1][1]*Me[1][1]+Me[1][2]*Me[1][2]),fe._lastBBox=pe}}function Pe($){var fe=o.select($),pe=$._fullLayout;if(pe._calcInverseTransform=Ae,pe._calcInverseTransform($),pe._container=fe.selectAll(".plot-container").data([0]),pe._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),pe._paperdiv=pe._container.selectAll(".svg-container").data([0]),pe._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),pe._glcontainer=pe._paperdiv.selectAll(".gl-container").data([{}]),pe._glcontainer.enter().append("div").classed("gl-container",!0),pe._paperdiv.selectAll(".main-svg").remove(),pe._paperdiv.select(".modebar-container").remove(),pe._paper=pe._paperdiv.insert("svg",":first-child").classed("main-svg",!0),pe._toppaper=pe._paperdiv.append("svg").classed("main-svg",!0),pe._modebardiv=pe._paperdiv.append("div"),delete pe._modeBar,pe._hoverpaper=pe._paperdiv.append("svg").classed("main-svg",!0),!pe._uid){var Me={};o.selectAll("defs").each(function(){this.id&&(Me[this.id.split("-")[1]]=1)}),pe._uid=i.randstr(Me)}pe._paperdiv.selectAll(".main-svg").attr(T.svgAttrs),pe._defs=pe._paper.append("defs").attr("id","defs-"+pe._uid),pe._clips=pe._defs.append("g").classed("clips",!0),pe._topdefs=pe._toppaper.append("defs").attr("id","topdefs-"+pe._uid),pe._topclips=pe._topdefs.append("g").classed("clips",!0),pe._bgLayer=pe._paper.append("g").classed("bglayer",!0),pe._draggers=pe._paper.append("g").classed("draglayer",!0);var Ge=pe._paper.append("g").classed("layer-below",!0);pe._imageLowerLayer=Ge.append("g").classed("imagelayer",!0),pe._shapeLowerLayer=Ge.append("g").classed("shapelayer",!0),pe._cartesianlayer=pe._paper.append("g").classed("cartesianlayer",!0),pe._polarlayer=pe._paper.append("g").classed("polarlayer",!0),pe._smithlayer=pe._paper.append("g").classed("smithlayer",!0),pe._ternarylayer=pe._paper.append("g").classed("ternarylayer",!0),pe._geolayer=pe._paper.append("g").classed("geolayer",!0),pe._funnelarealayer=pe._paper.append("g").classed("funnelarealayer",!0),pe._pielayer=pe._paper.append("g").classed("pielayer",!0),pe._iciclelayer=pe._paper.append("g").classed("iciclelayer",!0),pe._treemaplayer=pe._paper.append("g").classed("treemaplayer",!0),pe._sunburstlayer=pe._paper.append("g").classed("sunburstlayer",!0),pe._indicatorlayer=pe._toppaper.append("g").classed("indicatorlayer",!0),pe._glimages=pe._paper.append("g").classed("glimages",!0);var Ie=pe._toppaper.append("g").classed("layer-above",!0);pe._imageUpperLayer=Ie.append("g").classed("imagelayer",!0),pe._shapeUpperLayer=Ie.append("g").classed("shapelayer",!0),pe._selectionLayer=pe._toppaper.append("g").classed("selectionlayer",!0),pe._infolayer=pe._toppaper.append("g").classed("infolayer",!0),pe._menulayer=pe._toppaper.append("g").classed("menulayer",!0),pe._zoomlayer=pe._toppaper.append("g").classed("zoomlayer",!0),pe._hoverlayer=pe._hoverpaper.append("g").classed("hoverlayer",!0),pe._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),$.emit("plotly_framework")}H.animate=wt,H.addFrames=Lt,H.deleteFrames=kt,H.addTraces=ce,H.deleteTraces=de,H.extendTraces=ye,H.moveTraces=S,H.prependTraces=Se,H.newPlot=ae,H._doPlot=I,H.purge=Ce,H.react=dt,H.redraw=q,H.relayout=K,H.restyle=P,H.setPlotConfig=L,H.update=be,H._guiRelayout=Ee(K),H._guiRestyle=Ee(P),H._guiUpdate=Ee(be),H._storeDirectGUIEdit=F},2075:function(re){var H={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function o(x,l){for(var i in x){var r=x[i];r.valType?l[i]=r.dflt:(l[i]||(l[i]={}),o(r,l[i]))}}o(H,e),re.exports={configAttributes:H,dfltConfig:e}},6281:function(re,H,e){var o=e(3972),x=e(1828),l=e(9012),i=e(820),r=e(1391),f=e(5594),s=e(2075).configAttributes,n=e(962),t=x.extendDeepAll,d=x.isPlainObject,p=x.isArrayOrTypedArray,m=x.nestedProperty,y=x.valObjectMeta,h="_isSubplotObj",T="_isLinkedToArray",g="_arrayAttrRegexps",M="_deprecated",v=[h,T,g,M];H.IS_SUBPLOT_OBJ=h,H.IS_LINKED_TO_ARRAY=T,H.DEPRECATED=M,H.UNDERSCORE_ATTRS=v,H.get=function(){var ae={};o.allTypes.forEach(function(D){ae[D]=w(D)});var N={};return Object.keys(o.transformsRegistry).forEach(function(D){N[D]=C(D)}),{defs:{valObjects:y,metaKeys:v.concat(["description","role","editType","impliedEdits"]),editType:{traces:n.traces,layout:n.layout},impliedEdits:{}},traces:ae,layout:B(),transforms:N,frames:I(),animation:O(f),config:O(s)}},H.crawl=function(ae,N,D,_){var V=D||0;_=_||"",Object.keys(ae).forEach(function(G){var Q=ae[G];if(v.indexOf(G)===-1){var ue=(_?_+".":"")+G;N(Q,G,ae,V,ue),!H.isValObject(Q)&&d(Q)&&G!=="impliedEdits"&&H.crawl(Q,N,V+1,ue)}})},H.isValObject=function(ae){return ae&&ae.valType!==void 0},H.findArrayAttributes=function(ae){var N=[],D=[],_=[],V,G;function Q(de,S,P,k){D=D.slice(0,k).concat([S]),_=_.slice(0,k).concat([de&&de._isLinkedToArray]);var z=de&&(de.valType==="data_array"||de.arrayOk===!0)&&!(D[k-1]==="colorbar"&&(S==="ticktext"||S==="tickvals"));z&&ue(V,0,"")}function ue(de,S,P){var k=de[D[S]],z=P+D[S];if(S===D.length-1)p(k)&&N.push(G+z);else if(_[S]){if(Array.isArray(k))for(var Y=0;Y<k.length;Y++)d(k[Y])&&ue(k[Y],S+1,z+"["+Y+"].")}else d(k)&&ue(k,S+1,z+".")}V=ae,G="",H.crawl(l,Q),ae._module&&ae._module.attributes&&H.crawl(ae._module.attributes,Q);var le=ae.transforms;if(le)for(var ye=0;ye<le.length;ye++){var Se=le[ye],ce=Se._module;ce&&(G="transforms["+ye+"].",V=Se,H.crawl(ce.attributes,Q))}return N},H.getTraceValObject=function(ae,N){var D=N[0],_=1,V,G;if(D==="transforms"){if(N.length===1)return l.transforms;var Q=ae.transforms;if(!Array.isArray(Q)||!Q.length)return!1;var ue=N[1];if(!b(ue)||ue>=Q.length)return!1;V=(o.transformsRegistry[Q[ue].type]||{}).attributes,G=V&&V[N[2]],_=3}else{var le=ae._module;if(le||(le=(o.modules[ae.type||l.type.dflt]||{})._module),!le)return!1;if(V=le.attributes,G=V&&V[D],!G){var ye=le.basePlotModule;ye&&ye.attributes&&(G=ye.attributes[D])}G||(G=l[D])}return u(G,N,_)},H.getLayoutValObject=function(ae,N){var D=c(ae,N[0]);return u(D,N,1)};function c(ae,N){var D,_,V,G,Q=ae._basePlotModules;if(Q){var ue;for(D=0;D<Q.length;D++){if(V=Q[D],V.attrRegex&&V.attrRegex.test(N)){if(V.layoutAttrOverrides)return V.layoutAttrOverrides;!ue&&V.layoutAttributes&&(ue=V.layoutAttributes)}var le=V.baseLayoutAttrOverrides;if(le&&N in le)return le[N]}if(ue)return ue}var ye=ae._modules;if(ye){for(D=0;D<ye.length;D++)if(G=ye[D].layoutAttributes,G&&N in G)return G[N]}for(_ in o.componentsRegistry){if(V=o.componentsRegistry[_],V.name==="colorscale"&&N.indexOf("coloraxis")===0)return V.layoutAttributes[N];if(!V.schema&&N===V.name)return V.layoutAttributes}return N in i?i[N]:!1}function u(ae,N,D){if(!ae)return!1;if(ae._isLinkedToArray){if(b(N[D]))D++;else if(D<N.length)return!1}for(;D<N.length;D++){var _=ae[N[D]];if(d(_))ae=_;else break;if(D===N.length-1)break;if(ae._isLinkedToArray){if(D++,!b(N[D]))return!1}else if(ae.valType==="info_array"){D++;var V=N[D];if(!b(V))return!1;var G=ae.items;if(Array.isArray(G)){if(V>=G.length)return!1;if(ae.dimensions===2){if(D++,N.length===D)return ae;var Q=N[D];if(!b(Q))return!1;ae=G[V][Q]}else ae=G[V]}else ae=G}}return ae}function b(ae){return ae===Math.round(ae)&&ae>=0}function w(ae){var N,D;N=o.modules[ae]._module,D=N.basePlotModule;var _={};_.type=null;var V=t({},l),G=t({},N.attributes);H.crawl(G,function(le,ye,Se,ce,de){m(V,de).set(void 0),le===void 0&&m(G,de).set(void 0)}),t(_,V),o.traceIs(ae,"noOpacity")&&delete _.opacity,o.traceIs(ae,"showLegend")||(delete _.showlegend,delete _.legendgroup),o.traceIs(ae,"noHover")&&(delete _.hoverinfo,delete _.hoverlabel),N.selectPoints||delete _.selectedpoints,t(_,G),D.attributes&&t(_,D.attributes),_.type=ae;var Q={meta:N.meta||{},categories:N.categories||{},animatable:!!N.animatable,type:ae,attributes:O(_)};if(N.layoutAttributes){var ue={};t(ue,N.layoutAttributes),Q.layoutAttributes=O(ue)}return N.animatable||H.crawl(Q,function(le){H.isValObject(le)&&"anim"in le&&delete le.anim}),Q}function B(){var ae={},N,D;t(ae,i);for(N in o.subplotsRegistry)if(D=o.subplotsRegistry[N],!!D.layoutAttributes)if(Array.isArray(D.attr))for(var _=0;_<D.attr.length;_++)te(ae,D,D.attr[_]);else{var V=D.attr==="subplot"?D.name:D.attr;te(ae,D,V)}for(N in o.componentsRegistry){D=o.componentsRegistry[N];var G=D.schema;if(G&&(G.subplots||G.layout)){var Q=G.subplots;if(Q&&Q.xaxis&&!Q.yaxis)for(var ue in Q.xaxis)delete ae.yaxis[ue];delete ae.xaxis.shift,delete ae.xaxis.autoshift}else D.name==="colorscale"?t(ae,D.layoutAttributes):D.layoutAttributes&&q(ae,D.layoutAttributes,D.name)}return{layoutAttributes:O(ae)}}function C(ae){var N=o.transformsRegistry[ae],D=t({},N.attributes);return Object.keys(o.componentsRegistry).forEach(function(_){var V=o.componentsRegistry[_];V.schema&&V.schema.transforms&&V.schema.transforms[ae]&&Object.keys(V.schema.transforms[ae]).forEach(function(G){q(D,V.schema.transforms[ae][G],G)})}),{attributes:O(D)}}function I(){var ae={frames:t({},r)};return O(ae),ae.frames}function O(ae){return L(ae),X(ae),Z(ae),ae}function L(ae){function N(_){return{valType:"string",editType:"none"}}function D(_,V,G){H.isValObject(_)?(_.arrayOk===!0||_.valType==="data_array")&&(G[V+"src"]=N()):d(_)&&(_.role="object")}H.crawl(ae,D)}function X(ae){function N(D,_,V){if(D){var G=D[T];G&&(delete D[T],V[_]={items:{}},V[_].items[G]=D,V[_].role="object")}}H.crawl(ae,N)}function Z(ae){function N(D){for(var _ in D)if(d(D[_]))N(D[_]);else if(Array.isArray(D[_]))for(var V=0;V<D[_].length;V++)N(D[_][V]);else D[_]instanceof RegExp&&(D[_]=D[_].toString())}N(ae)}function te(ae,N,D){var _=m(ae,D),V=t({},N.layoutAttributes);V[h]=!0,_.set(V)}function q(ae,N,D){var _=m(ae,D);_.set(t(_.get()||{},N))}},4467:function(re,H,e){var o=e(1828),x=e(9012),l="templateitemname",i={name:{valType:"string",editType:"none"}};i[l]={valType:"string",editType:"calc"},H.templatedArray=function(s,n){return n._isLinkedToArray=s,n.name=i.name,n[l]=i[l],n},H.traceTemplater=function(s){var n={},t,d;for(t in s)d=s[t],Array.isArray(d)&&d.length&&(n[t]=0);function p(m){t=o.coerce(m,{},x,"type");var y={type:t,_template:null};if(t in n){d=s[t];var h=n[t]%d.length;n[t]++,y._template=d[h]}return y}return{newTrace:p}},H.newContainer=function(s,n,t){var d=s._template,p=d&&(d[n]||t&&d[t]);o.isPlainObject(p)||(p=null);var m=s[n]={_template:p};return m},H.arrayTemplater=function(s,n,t){var d=s._template,p=d&&d[f(n)],m=d&&d[n];(!Array.isArray(m)||!m.length)&&(m=[]);var y={};function h(g){var M={name:g.name,_input:g},v=M[l]=g[l];if(!r(v))return M._template=p,M;for(var c=0;c<m.length;c++){var u=m[c];if(u.name===v)return y[v]=1,M._template=u,M}return M[t]=g[t]||!1,M._template=!1,M}function T(){for(var g=[],M=0;M<m.length;M++){var v=m[M],c=v.name;if(r(c)&&!y[c]){var u={_template:v,name:c,_input:{_templateitemname:c}};u[l]=v[l],g.push(u),y[c]=1}}return g}return{newItem:h,defaultItems:T}};function r(s){return s&&typeof s=="string"}function f(s){var n=s.length-1;return s.charAt(n)!=="s"&&o.warn("bad argument to arrayDefaultKey: "+s),s.substr(0,s.length-1)+"defaults"}H.arrayDefaultKey=f,H.arrayEditor=function(s,n,t){var d=(o.nestedProperty(s,n).get()||[]).length,p=t._index,m=p>=d&&(t._input||{})._templateitemname;m&&(p=d);var y=n+"["+p+"]",h;function T(){h={},m&&(h[y]={},h[y][l]=m)}T();function g(u,b){h[u]=b}function M(u,b){m?o.nestedProperty(h[y],u).set(b):h[y+"."+u]=b}function v(){var u=h;return T(),u}function c(u,b){u&&M(u,b);var w=v();for(var B in w)o.nestedProperty(s,B).set(w[B])}return{modifyBase:g,modifyItem:M,getUpdateObj:v,applyUpdate:c}}},1549:function(re,H,e){var o=e(9898),x=e(3972),l=e(4875),i=e(1828),r=e(3893),f=e(3306),s=e(7901),n=e(1424),t=e(2998),d=e(4168),p=e(9298),m=e(8783),y=e(9082),h=y.enforce,T=y.clean,g=e(1739).doAutoRange,M="start",v="middle",c="end";H.layoutStyles=function(D){return i.syncOrAsync([l.doAutoMargin,b],D)};function u(D,_,V){for(var G=0;G<V.length;G++){var Q=V[G][0],ue=V[G][1];if(!(Q[0]>=D[1]||Q[1]<=D[0])&&ue[0]<_[1]&&ue[1]>_[0])return!0}return!1}function b(D){var _=D._fullLayout,V=_._size,G=V.p,Q=p.list(D,"",!0),ue,le,ye,Se,ce,de;if(_._paperdiv.style({width:D._context.responsive&&_.autosize&&!D._context._hasZeroWidth&&!D.layout.width?"100%":_.width+"px",height:D._context.responsive&&_.autosize&&!D._context._hasZeroHeight&&!D.layout.height?"100%":_.height+"px"}).selectAll(".main-svg").call(n.setSize,_.width,_.height),D._context.setBackground(D,_.paper_bgcolor),H.drawMainTitle(D),d.manage(D),!_._has("cartesian"))return l.previousPromises(D);function S(Pe,$,fe){var pe=Pe._lw/2;if(Pe._id.charAt(0)==="x"){if($){if(fe==="top")return $._offset-G-pe}else return V.t+V.h*(1-(Pe.position||0))+pe%1;return $._offset+$._length+G+pe}if($){if(fe==="right")return $._offset+$._length+G+pe}else return V.l+V.w*(Pe.position||0)+pe%1;return $._offset-G-pe}for(ue=0;ue<Q.length;ue++){Se=Q[ue];var P=Se._anchorAxis;Se._linepositions={},Se._lw=n.crispRound(D,Se.linewidth,1),Se._mainLinePosition=S(Se,P,Se.side),Se._mainMirrorPosition=Se.mirror&&P?S(Se,P,m.OPPOSITE_SIDE[Se.side]):null}var k=[],z=[],Y=[],F=s.opacity(_.paper_bgcolor)===1&&s.opacity(_.plot_bgcolor)===1&&_.paper_bgcolor===_.plot_bgcolor;for(le in _._plots)if(ye=_._plots[le],ye.mainplot)ye.bg&&ye.bg.remove(),ye.bg=void 0;else{var J=ye.xaxis.domain,E=ye.yaxis.domain,K=ye.plotgroup;if(u(J,E,Y)){var ie=K.node(),ve=ye.bg=i.ensureSingle(K,"rect","bg");ie.insertBefore(ve.node(),ie.childNodes[0]),z.push(le)}else K.select("rect.bg").remove(),Y.push([J,E]),F||(k.push(le),z.push(le))}var he=_._bgLayer.selectAll(".bg").data(k);for(he.enter().append("rect").classed("bg",!0),he.exit().remove(),he.each(function(Pe){_._plots[Pe].bg=o.select(this)}),ue=0;ue<z.length;ue++)ye=_._plots[z[ue]],ce=ye.xaxis,de=ye.yaxis,ye.bg&&ce._offset!==void 0&&de._offset!==void 0&&ye.bg.call(n.setRect,ce._offset-G,de._offset-G,ce._length+2*G,de._length+2*G).call(s.fill,_.plot_bgcolor).style("stroke-width",0);if(!_._hasOnlyLargeSploms)for(le in _._plots){ye=_._plots[le],ce=ye.xaxis,de=ye.yaxis;var Le=ye.clipId="clip"+_._uid+le+"plot",ke=i.ensureSingleById(_._clips,"clipPath",Le,function(Pe){Pe.classed("plotclip",!0).append("rect")});ye.clipRect=ke.select("rect").attr({width:ce._length,height:de._length}),n.setTranslate(ye.plot,ce._offset,de._offset);var se,ge;ye._hasClipOnAxisFalse?(se=null,ge=Le):(se=Le,ge=null),n.setClipUrl(ye.plot,se,D),ye.layerClipId=ge}var be,Ee,we,Te,Ne,$e,je,He,st,nt,dt,ht,Pt;function bt(Pe){return"M"+be+","+Pe+"H"+Ee}function At(Pe){return"M"+ce._offset+","+Pe+"h"+ce._length}function wt(Pe){return"M"+Pe+","+He+"V"+je}function Lt(Pe){return de._shift!==void 0&&(Pe+=de._shift),"M"+Pe+","+de._offset+"v"+de._length}function kt(Pe,$,fe){if(!Pe.showline||le!==Pe._mainSubplot)return"";if(!Pe._anchorAxis)return fe(Pe._mainLinePosition);var pe=$(Pe._mainLinePosition);return Pe.mirror&&(pe+=$(Pe._mainMirrorPosition)),pe}for(le in _._plots){ye=_._plots[le],ce=ye.xaxis,de=ye.yaxis;var Ce="M0,0";w(ce,le)&&(Ne=C(ce,"left",de,Q),be=ce._offset-(Ne?G+Ne:0),$e=C(ce,"right",de,Q),Ee=ce._offset+ce._length+($e?G+$e:0),we=S(ce,de,"bottom"),Te=S(ce,de,"top"),Pt=!ce._anchorAxis||le!==ce._mainSubplot,Pt&&(ce.mirror==="allticks"||ce.mirror==="all")&&(ce._linepositions[le]=[we,Te]),Ce=kt(ce,bt,At),Pt&&ce.showline&&(ce.mirror==="all"||ce.mirror==="allticks")&&(Ce+=bt(we)+bt(Te)),ye.xlines.style("stroke-width",ce._lw+"px").call(s.stroke,ce.showline?ce.linecolor:"rgba(0,0,0,0)")),ye.xlines.attr("d",Ce);var Ae="M0,0";w(de,le)&&(dt=C(de,"bottom",ce,Q),je=de._offset+de._length+(dt?G:0),ht=C(de,"top",ce,Q),He=de._offset-(ht?G:0),st=S(de,ce,"left"),nt=S(de,ce,"right"),Pt=!de._anchorAxis||le!==de._mainSubplot,Pt&&(de.mirror==="allticks"||de.mirror==="all")&&(de._linepositions[le]=[st,nt]),Ae=kt(de,wt,Lt),Pt&&de.showline&&(de.mirror==="all"||de.mirror==="allticks")&&(Ae+=wt(st)+wt(nt)),ye.ylines.style("stroke-width",de._lw+"px").call(s.stroke,de.showline?de.linecolor:"rgba(0,0,0,0)")),ye.ylines.attr("d",Ae)}return p.makeClipPaths(D),l.previousPromises(D)}function w(D,_){return(D.ticks||D.showline)&&(_===D._mainSubplot||D.mirror==="all"||D.mirror==="allticks")}function B(D,_,V){if(!V.showline||!V._lw)return!1;if(V.mirror==="all"||V.mirror==="allticks")return!0;var G=V._anchorAxis;if(!G)return!1;var Q=m.FROM_BL[_];return V.side===_?G.domain[Q]===D.domain[Q]:V.mirror&&G.domain[1-Q]===D.domain[1-Q]}function C(D,_,V,G){if(B(D,_,V))return V._lw;for(var Q=0;Q<G.length;Q++){var ue=G[Q];if(ue._mainAxis===V._mainAxis&&B(D,_,ue))return ue._lw}return 0}H.drawMainTitle=function(D){var _=D._fullLayout.title,V=D._fullLayout,G=ae(V),Q=N(V),ue=te(V,Q),le=Z(V,G);if(t.draw(D,"gtitle",{propContainer:V,propName:"title.text",placeholder:V._dfltTitle.plot,attributes:{x:le,y:ue,"text-anchor":G,dy:Q}}),_.text&&_.automargin){var ye=o.selectAll(".gtitle"),Se=n.bBox(ye.node()).height,ce=L(D,_,Se);ce>0&&(X(D,ue,ce,Se),ye.attr({x:le,y:ue,"text-anchor":G,dy:q(_.yanchor)}).call(r.positionText,le,ue))}};function I(D,_,V,G,Q){var ue=_.yref==="paper"?D._fullLayout._size.h:D._fullLayout.height,le=i.isTopAnchor(_)?G:G-Q,ye=V==="b"?ue-le:le;return i.isTopAnchor(_)&&V==="t"||i.isBottomAnchor(_)&&V==="b"?!1:ye<Q}function O(D,_,V,G,Q){var ue=0;return V==="middle"&&(ue+=Q/2),D==="t"?(V==="top"&&(ue+=Q),ue+=G-_*G):(V==="bottom"&&(ue+=Q),ue+=_*G),ue}function L(D,_,V){var G=_.y,Q=_.yanchor,ue=G>.5?"t":"b",le=D._fullLayout.margin[ue],ye=0;return _.yref==="paper"?ye=V+_.pad.t+_.pad.b:_.yref==="container"&&(ye=O(ue,G,Q,D._fullLayout.height,V)+_.pad.t+_.pad.b),ye>le?ye:0}function X(D,_,V,G){var Q="title.automargin",ue=D._fullLayout.title,le=ue.y>.5?"t":"b",ye={x:ue.x,y:ue.y,t:0,b:0},Se={};ue.yref==="paper"&&I(D,ue,le,_,G)?ye[le]=V:ue.yref==="container"&&(Se[le]=V,D._fullLayout._reservedMargin[Q]=Se),l.allowAutoMargin(D,Q),l.autoMargin(D,Q,ye)}function Z(D,_){var V=D.title,G=D._size,Q=0;switch(_===M?Q=V.pad.l:_===c&&(Q=-V.pad.r),V.xref){case"paper":return G.l+G.w*V.x+Q;case"container":default:return D.width*V.x+Q}}function te(D,_){var V=D.title,G=D._size,Q=0;if(_==="0em"||!_?Q=-V.pad.b:_===m.CAP_SHIFT+"em"&&(Q=V.pad.t),V.y==="auto")return G.t/2;switch(V.yref){case"paper":return G.t+G.h-G.h*V.y+Q;case"container":default:return D.height-D.height*V.y+Q}}function q(D){return D==="top"?m.CAP_SHIFT+.3+"em":D==="bottom"?"-0.3em":m.MID_SHIFT+"em"}function ae(D){var _=D.title,V=v;return i.isRightAnchor(_)?V=c:i.isLeftAnchor(_)&&(V=M),V}function N(D){var _=D.title,V="0em";return i.isTopAnchor(_)?V=m.CAP_SHIFT+"em":i.isMiddleAnchor(_)&&(V=m.MID_SHIFT+"em"),V}H.doTraceStyle=function(D){var _=D.calcdata,V=[],G;for(G=0;G<_.length;G++){var Q=_[G],ue=Q[0]||{},le=ue.trace||{},ye=le._module||{},Se=ye.arraysToCalcdata;Se&&Se(Q,le);var ce=ye.editStyle;ce&&V.push({fn:ce,cd0:ue})}if(V.length){for(G=0;G<V.length;G++){var de=V[G];de.fn(D,de.cd0)}f(D),H.redrawReglTraces(D)}return l.style(D),x.getComponentMethod("legend","draw")(D),l.previousPromises(D)},H.doColorBars=function(D){return x.getComponentMethod("colorbar","draw")(D),l.previousPromises(D)},H.layoutReplot=function(D){var _=D.layout;return D.layout=void 0,x.call("_doPlot",D,"",_)},H.doLegend=function(D){return x.getComponentMethod("legend","draw")(D),l.previousPromises(D)},H.doTicksRelayout=function(D){return p.draw(D,"redraw"),D._fullLayout._hasOnlyLargeSploms&&(x.subplotsRegistry.splom.updateGrid(D),f(D),H.redrawReglTraces(D)),H.drawMainTitle(D),l.previousPromises(D)},H.doModeBar=function(D){var _=D._fullLayout;d.manage(D);for(var V=0;V<_._basePlotModules.length;V++){var G=_._basePlotModules[V].updateFx;G&&G(D)}return l.previousPromises(D)},H.doCamera=function(D){for(var _=D._fullLayout,V=_._subplots.gl3d,G=0;G<V.length;G++){var Q=_[V[G]],ue=Q._scene;ue.setViewport(Q)}},H.drawData=function(D){var _=D._fullLayout;f(D);for(var V=_._basePlotModules,G=0;G<V.length;G++)V[G].plot(D);return H.redrawReglTraces(D),l.style(D),x.getComponentMethod("selections","draw")(D),x.getComponentMethod("shapes","draw")(D),x.getComponentMethod("annotations","draw")(D),x.getComponentMethod("images","draw")(D),_._replotting=!1,l.previousPromises(D)},H.redrawReglTraces=function(D){var _=D._fullLayout;if(_._has("regl")){var V=D._fullData,G=[],Q=[],ue,le;for(_._hasOnlyLargeSploms&&_._splomGrid.draw(),ue=0;ue<V.length;ue++){var ye=V[ue];ye.visible===!0&&ye._length!==0&&(ye.type==="splom"?_._splomScenes[ye.uid].draw():ye.type==="scattergl"?i.pushUnique(G,ye.xaxis+ye.yaxis):ye.type==="scatterpolargl"&&i.pushUnique(Q,ye.subplot))}for(ue=0;ue<G.length;ue++)le=_._plots[G[ue]],le._scene&&le._scene.draw();for(ue=0;ue<Q.length;ue++)le=_[Q[ue]]._subplot,le._scene&&le._scene.draw()}},H.doAutoRangeAndConstraints=function(D){for(var _=p.list(D,"",!0),V,G={},Q=0;Q<_.length;Q++)if(V=_[Q],!G[V._id]){G[V._id]=1,T(D,V),g(D,V);var ue=V._matchGroup;if(ue)for(var le in ue){var ye=p.getFromId(D,le);g(D,ye,V.range),G[le]=1}}h(D)},H.finalDraw=function(D){x.getComponentMethod("rangeslider","draw")(D),x.getComponentMethod("rangeselector","draw")(D)},H.drawMarginPushers=function(D){x.getComponentMethod("legend","draw")(D),x.getComponentMethod("rangeselector","draw")(D),x.getComponentMethod("sliders","draw")(D),x.getComponentMethod("updatemenus","draw")(D),x.getComponentMethod("colorbar","draw")(D)}},6318:function(re,H,e){var o=e(1828),x=o.isPlainObject,l=e(6281),i=e(4875),r=e(9012),f=e(4467),s=e(2075).dfltConfig;H.makeTemplate=function(g){g=o.isPlainObject(g)?g:o.getGraphDiv(g),g=o.extendDeep({_context:s},{data:g.data,layout:g.layout}),i.supplyDefaults(g);var M=g.data||[],v=g.layout||{};v._basePlotModules=g._fullLayout._basePlotModules,v._modules=g._fullLayout._modules;var c={data:{},layout:{}};M.forEach(function(Z){var te={};d(Z,te,m.bind(null,Z));var q=o.coerce(Z,{},r,"type"),ae=c.data[q];ae||(ae=c.data[q]=[]),ae.push(te)}),d(v,c.layout,p.bind(null,v)),delete c.layout.template;var u=v.template;if(x(u)){var b=u.layout,w,B,C,I,O,L;x(b)&&n(b,c.layout);var X=u.data;if(x(X)){for(B in c.data)if(C=X[B],Array.isArray(C)){for(O=c.data[B],L=O.length,I=C.length,w=0;w<L;w++)n(C[w%I],O[w]);for(w=L;w<I;w++)O.push(o.extendDeep({},C[w]))}for(B in X)B in c.data||(c.data[B]=o.extendDeep([],X[B]))}}return c};function n(g,M){g=o.extendDeep({},g);var v=Object.keys(g).sort(),c,u;function b(O,L,X){if(x(L)&&x(O))n(O,L);else if(Array.isArray(L)&&Array.isArray(O)){var Z=f.arrayTemplater({_template:g},X);for(u=0;u<L.length;u++){var te=L[u],q=Z.newItem(te)._template;q&&n(q,te)}var ae=Z.defaultItems();for(u=0;u<ae.length;u++)L.push(ae[u]._template);for(u=0;u<L.length;u++)delete L[u].templateitemname}}for(c=0;c<v.length;c++){var w=v[c],B=g[w];if(w in M?b(B,M[w],w):M[w]=B,t(w)===w)for(var C in M){var I=t(C);C!==I&&I===w&&!(C in g)&&b(B,M[C],w)}}}function t(g){return g.replace(/[0-9]+$/,"")}function d(g,M,v,c,u){var b=u&&v(u);for(var w in g){var B=g[w],C=y(g,w,c),I=y(g,w,u),O=v(I);if(!O){var L=t(w);L!==w&&(I=y(g,L,u),O=v(I))}if(!(b&&b===O)&&!(!O||O._noTemplating||O.valType==="data_array"||O.arrayOk&&Array.isArray(B)))if(!O.valType&&x(B))d(B,M,v,C,I);else if(O._isLinkedToArray&&Array.isArray(B))for(var X=!1,Z=0,te={},q=0;q<B.length;q++){var ae=B[q];if(x(ae)){var N=ae.name;if(N)te[N]||(d(ae,M,v,y(B,Z,C),y(B,Z,I)),Z++,te[N]=1);else if(!X){var D=f.arrayDefaultKey(w),_=y(g,D,c),V=y(B,Z,C);d(ae,M,v,V,y(B,Z,I));var G=o.nestedProperty(M,V),Q=o.nestedProperty(M,_);Q.set(G.get()),G.set(null),X=!0}}}else{var ue=o.nestedProperty(M,C);ue.set(B)}}}function p(g,M){return l.getLayoutValObject(g,o.nestedProperty({},M).parts)}function m(g,M){return l.getTraceValObject(g,o.nestedProperty({},M).parts)}function y(g,M,v){var c;return v?Array.isArray(g)?c=v+"["+M+"]":c=v+"."+M:c=M,c}H.validateTemplate=function(g,M){var v=o.extendDeep({},{_context:s,data:g.data,layout:g.layout}),c=v.layout||{};x(M)||(M=c.template||{});var u=M.layout,b=M.data,w=[];v.layout=c,v.layout.template=M,i.supplyDefaults(v);var B=v._fullLayout,C=v._fullData,I={};function O(_,V){for(var G in _)if(G.charAt(0)!=="_"&&x(_[G])){var Q=t(G),ue=[],le;for(le=0;le<V.length;le++)ue.push(y(_,G,V[le])),Q!==G&&ue.push(y(_,Q,V[le]));for(le=0;le<ue.length;le++)I[ue[le]]=1;O(_[G],ue)}}function L(_,V){for(var G in _)if(G.indexOf("defaults")===-1&&x(_[G])){var Q=y(_,G,V);I[Q]?L(_[G],Q):w.push({code:"unused",path:Q})}}if(x(u)?(O(B,["layout"]),L(u,"layout")):w.push({code:"layout"}),!x(b))w.push({code:"data"});else{for(var X={},Z,te=0;te<C.length;te++){var q=C[te];Z=q.type,X[Z]=(X[Z]||0)+1,q._fullInput._template||w.push({code:"missing",index:q._fullInput.index,traceType:Z})}for(Z in b){var ae=b[Z].length,N=X[Z]||0;ae>N?w.push({code:"unused",traceType:Z,templateCount:ae,dataCount:N}):N>ae&&w.push({code:"reused",traceType:Z,templateCount:ae,dataCount:N})}}function D(_,V){for(var G in _)if(G.charAt(0)!=="_"){var Q=_[G],ue=y(_,G,V);x(Q)?(Array.isArray(_)&&Q._template===!1&&Q.templateitemname&&w.push({code:"missing",path:ue,templateitemname:Q.templateitemname}),D(Q,ue)):Array.isArray(Q)&&h(Q)&&D(Q,ue)}}if(D({data:C,layout:B},""),w.length)return w.map(T)};function h(g){for(var M=0;M<g.length;M++)if(x(g[M]))return!0}function T(g){var M;switch(g.code){case"data":M="The template has no key data.";break;case"layout":M="The template has no key layout.";break;case"missing":g.path?M="There are no templates for item "+g.path+" with name "+g.templateitemname:M="There are no templates for trace "+g.index+", of type "+g.traceType+".";break;case"unused":g.path?M="The template item at "+g.path+" was not used in constructing the plot.":g.dataCount?M="Some of the templates of type "+g.traceType+" were not used. The template has "+g.templateCount+" traces, the data only has "+g.dataCount+" of this type.":M="The template has "+g.templateCount+" traces of type "+g.traceType+" but there are none in the data.";break;case"reused":M="Some of the templates of type "+g.traceType+" were used more than once. The template has "+g.templateCount+" traces, the data has "+g.dataCount+" of this type.";break}return g.msg=M,g}},403:function(re,H,e){var o=e(2770),x=e(2391),l=e(4875),i=e(1828),r=e(5095),f=e(5900),s=e(942),n=e(1506).version,t={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function d(p,m){m=m||{};var y,h,T,g;i.isPlainObject(p)?(y=p.data||[],h=p.layout||{},T=p.config||{},g={}):(p=i.getGraphDiv(p),y=i.extendDeep([],p.data),h=i.extendDeep({},p.layout),T=p._context,g=p._fullLayout||{});function M(N){return!(N in m)||i.validate(m[N],t[N])}if(!M("width")&&m.width!==null||!M("height")&&m.height!==null)throw new Error("Height and width should be pixel values.");if(!M("format"))throw new Error("Export format is not "+i.join2(t.format.values,", "," or ")+".");var v={};function c(N,D){return i.coerce(m,v,t,N,D)}var u=c("format"),b=c("width"),w=c("height"),B=c("scale"),C=c("setBackground"),I=c("imageDataOnly"),O=document.createElement("div");O.style.position="absolute",O.style.left="-5000px",document.body.appendChild(O);var L=i.extendFlat({},h);b?L.width=b:m.width===null&&o(g.width)&&(L.width=g.width),w?L.height=w:m.height===null&&o(g.height)&&(L.height=g.height);var X=i.extendFlat({},T,{_exportedPlot:!0,staticPlot:!0,setBackground:C}),Z=r.getRedrawFunc(O);function te(){return new Promise(function(N){setTimeout(N,r.getDelay(O._fullLayout))})}function q(){return new Promise(function(N,D){var _=f(O,u,B),V=O._fullLayout.width,G=O._fullLayout.height;function Q(){x.purge(O),document.body.removeChild(O)}if(u==="full-json"){var ue=l.graphJson(O,!1,"keepdata","object",!0,!0);return ue.version=n,ue=JSON.stringify(ue),Q(),N(I?ue:r.encodeJSON(ue))}if(Q(),u==="svg")return N(I?_:r.encodeSVG(_));var le=document.createElement("canvas");le.id=i.randstr(),s({format:u,width:V,height:G,scale:B,canvas:le,svg:_,promise:!0}).then(N).catch(D)})}function ae(N){return I?N.replace(r.IMAGE_URL_PREFIX,""):N}return new Promise(function(N,D){x.newPlot(O,y,L,X).then(Z).then(te).then(q).then(function(_){N(ae(_))}).catch(function(_){D(_)})})}re.exports=d},4936:function(re,H,e){var o=e(1828),x=e(4875),l=e(6281),i=e(2075).dfltConfig,r=o.isPlainObject,f=Array.isArray,s=o.isArrayOrTypedArray;re.exports=function(c,u){c===void 0&&(c=[]),u===void 0&&(u={});var b=l.get(),w=[],B={_context:o.extendFlat({},i)},C,I;f(c)?(B.data=o.extendDeep([],c),C=c):(B.data=[],C=[],w.push(m("array","data"))),r(u)?(B.layout=o.extendDeep({},u),I=u):(B.layout={},I={},arguments.length>1&&w.push(m("object","layout"))),x.supplyDefaults(B);for(var O=B._fullData,L=C.length,X=0;X<L;X++){var Z=C[X],te=["data",X];if(!r(Z)){w.push(m("object",te));continue}var q=O[X],ae=q.type,N=b.traces[ae].attributes;N.type={valType:"enumerated",values:[ae]},q.visible===!1&&Z.visible!==!1&&w.push(m("invisible",te)),n(Z,q,N,w,te);var D=Z.transforms,_=q.transforms;if(D){f(D)||w.push(m("array",te,["transforms"])),te.push("transforms");for(var V=0;V<D.length;V++){var G=["transforms",V],Q=D[V].type;if(!r(D[V])){w.push(m("object",te,G));continue}var ue=b.transforms[Q]?b.transforms[Q].attributes:{};ue.type={valType:"enumerated",values:Object.keys(b.transforms)},n(D[V],_[V],ue,w,te,G)}}}var le=B._fullLayout,ye=t(b,O);return n(I,le,ye,w,"layout"),w.length===0?void 0:w};function n(v,c,u,b,w,B){B=B||[];for(var C=Object.keys(v),I=0;I<C.length;I++){var O=C[I];if(O!=="transforms"){var L=B.slice();L.push(O);var X=v[O],Z=c[O],te=h(u,O),q=(te||{}).valType,ae=q==="info_array",N=q==="colorscale",D=(te||{}).items;if(!y(u,O))b.push(m("schema",w,L));else if(r(X)&&r(Z)&&q!=="any")n(X,Z,te,b,w,L);else if(ae&&f(X)){X.length>Z.length&&b.push(m("unused",w,L.concat(Z.length)));var _=Z.length,V=Array.isArray(D);V&&(_=Math.min(_,D.length));var G,Q,ue,le,ye;if(te.dimensions===2)for(Q=0;Q<_;Q++)if(f(X[Q])){X[Q].length>Z[Q].length&&b.push(m("unused",w,L.concat(Q,Z[Q].length)));var Se=Z[Q].length;for(G=0;G<(V?Math.min(Se,D[Q].length):Se);G++)ue=V?D[Q][G]:D,le=X[Q][G],ye=Z[Q][G],o.validate(le,ue)?ye!==le&&ye!==+le&&b.push(m("dynamic",w,L.concat(Q,G),le,ye)):b.push(m("value",w,L.concat(Q,G),le))}else b.push(m("array",w,L.concat(Q),X[Q]));else for(Q=0;Q<_;Q++)ue=V?D[Q]:D,le=X[Q],ye=Z[Q],o.validate(le,ue)?ye!==le&&ye!==+le&&b.push(m("dynamic",w,L.concat(Q),le,ye)):b.push(m("value",w,L.concat(Q),le))}else if(te.items&&!ae&&f(X)){var ce=D[Object.keys(D)[0]],de=[],S,P;for(S=0;S<Z.length;S++){var k=Z[S]._index||S;if(P=L.slice(),P.push(k),r(X[k])&&r(Z[S])){de.push(k);var z=X[k],Y=Z[S];r(z)&&z.visible!==!1&&Y.visible===!1?b.push(m("invisible",w,P)):n(z,Y,ce,b,w,P)}}for(S=0;S<X.length;S++)P=L.slice(),P.push(S),r(X[S])?de.indexOf(S)===-1&&b.push(m("unused",w,P)):b.push(m("object",w,P,X[S]))}else!r(X)&&r(Z)?b.push(m("object",w,L,X)):!s(X)&&s(Z)&&!ae&&!N?b.push(m("array",w,L,X)):O in c?o.validate(X,te)?te.valType==="enumerated"&&(te.coerceNumber&&X!==+Z||X!==Z)&&b.push(m("dynamic",w,L,X,Z)):b.push(m("value",w,L,X)):b.push(m("unused",w,L,X))}}return b}function t(v,c){for(var u=v.layout.layoutAttributes,b=0;b<c.length;b++){var w=c[b],B=v.traces[w.type],C=B.layoutAttributes;C&&(w.subplot?o.extendFlat(u[B.attributes.subplot.dflt],C):o.extendFlat(u,C))}return u}var d={object:function(v,c){var u;return v==="layout"&&c===""?u="The layout argument":v[0]==="data"&&c===""?u="Trace "+v[1]+" in the data argument":u=p(v)+"key "+c,u+" must be linked to an object container"},array:function(v,c){var u;return v==="data"?u="The data argument":u=p(v)+"key "+c,u+" must be linked to an array container"},schema:function(v,c){return p(v)+"key "+c+" is not part of the schema"},unused:function(v,c,u){var b=r(u)?"container":"key";return p(v)+b+" "+c+" did not get coerced"},dynamic:function(v,c,u,b){return[p(v)+"key",c,"(set to '"+u+"')","got reset to","'"+b+"'","during defaults."].join(" ")},invisible:function(v,c){return(c?p(v)+"item "+c:"Trace "+v[1])+" got defaulted to be not visible"},value:function(v,c,u){return[p(v)+"key "+c,"is set to an invalid value ("+u+")"].join(" ")}};function p(v){return f(v)?"In data trace "+v[1]+", ":"In "+v+", "}function m(v,c,u,b,w){u=u||"";var B,C;f(c)?(B=c[0],C=c[1]):(B=c,C=null);var I=M(u),O=d[v](c,I,b,w);return o.log(O),{code:v,container:B,trace:C,path:u,astr:I,msg:O}}function y(v,c){var u=g(c),b=u.keyMinusId,w=u.id;return b in v&&v[b]._isSubplotObj&&w?!0:c in v}function h(v,c){if(c in v)return v[c];var u=g(c);return v[u.keyMinusId]}var T=o.counterRegex("([a-z]+)");function g(v){var c=v.match(T);return{keyMinusId:c&&c[1],id:c&&c[2]}}function M(v){if(!f(v))return String(v);for(var c="",u=0;u<v.length;u++){var b=v[u];typeof b=="number"?c=c.substr(0,c.length-1)+"["+b+"]":c+=b,u<v.length-1&&(c+=".")}return c}},5594:function(re){re.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},5501:function(re,H,e){var o=e(1828),x=e(4467);re.exports=function(i,r,f){var s=f.name,n=f.inclusionAttr||"visible",t=r[s],d=o.isArrayOrTypedArray(i[s])?i[s]:[],p=r[s]=[],m=x.arrayTemplater(r,s,n),y,h;for(y=0;y<d.length;y++){var T=d[y];o.isPlainObject(T)?h=m.newItem(T):(h=m.newItem({}),h[n]=!1),h._index=y,h[n]!==!1&&f.handleItemDefaults(T,h,r,f),p.push(h)}var g=m.defaultItems();for(y=0;y<g.length;y++)h=g[y],h._index=p.length,f.handleItemDefaults({},h,r,f,{}),p.push(h);if(o.isArrayOrTypedArray(t)){var M=Math.min(t.length,p.length);for(y=0;y<M;y++)o.relinkPrivateKeys(p[y],t[y])}return p}},9012:function(re,H,e){var o=e(1940),x=e(7914);re.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:o({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:x.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},2973:function(re,H,e){var o=e(2770),x=e(1828),l=x.dateTime2ms,i=x.incrementMonth,r=e(606),f=r.ONEAVGMONTH;re.exports=function(n,t,d,p){if(t.type!=="date")return{vals:p};var m=n[d+"periodalignment"];if(!m)return{vals:p};var y=n[d+"period"],h;if(o(y)){if(y=+y,y<=0)return{vals:p}}else if(typeof y=="string"&&y.charAt(0)==="M"){var T=+y.substring(1);if(T>0&&Math.round(T)===T)h=T;else return{vals:p}}for(var g=t.calendar,M=m==="start",v=m==="end",c=n[d+"period0"],u=l(c,g)||0,b=[],w=[],B=[],C=p.length,I=0;I<C;I++){var O=p[I],L,X,Z;if(h){for(L=Math.round((O-u)/(h*f)),Z=i(u,h*L,g);Z>O;)Z=i(Z,-h,g);for(;Z<=O;)Z=i(Z,h,g);X=i(Z,-h,g)}else{for(L=Math.round((O-u)/y),Z=u+L*y;Z>O;)Z-=y;for(;Z<=O;)Z+=y;X=Z-y}b[I]=M?X:v?Z:(X+Z)/2,w[I]=X,B[I]=Z}return{vals:b,starts:w,ends:B}}},9502:function(re){re.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},1739:function(re,H,e){var o=e(9898),x=e(2770),l=e(1828),i=e(606).FP_SAFE,r=e(3972),f=e(1424),s=e(1675),n=s.getFromId,t=s.isLinked;re.exports={getAutoRange:d,makePadFn:m,doAutoRange:g,findExtremes:M,concatExtremes:T};function d(C,I){var O,L,X=[],Z=C._fullLayout,te=m(Z,I,0),q=m(Z,I,1),ae=T(C,I),N=ae.min,D=ae.max;if(N.length===0||D.length===0)return l.simpleMap(I.range,I.r2l);var _=N[0].val,V=D[0].val;for(O=1;O<N.length&&_===V;O++)_=Math.min(_,N[O].val);for(O=1;O<D.length&&_===V;O++)V=Math.max(V,D[O].val);var G=!1;if(I.range){var Q=l.simpleMap(I.range,I.r2l);G=Q[1]<Q[0]}I.autorange==="reversed"&&(G=!0,I.autorange=!0);var ue=I.rangemode,le=ue==="tozero",ye=ue==="nonnegative",Se=I._length,ce=Se/10,de=0,S,P,k,z,Y,F;for(O=0;O<N.length;O++)for(S=N[O],L=0;L<D.length;L++)P=D[L],F=P.val-S.val-p(I,S.val,P.val),F>0&&(Y=Se-te(S)-q(P),Y>ce?F/Y>de&&(k=S,z=P,de=F/Y):F/Se>de&&(k={val:S.val,nopad:1},z={val:P.val,nopad:1},de=F/Se));function J(he,Le){return Math.max(he,q(Le))}if(_===V){var E=_-1,K=_+1;if(le)if(_===0)X=[0,1];else{var ie=(_>0?D:N).reduce(J,0),ve=_/(1-Math.min(.5,ie/Se));X=_>0?[0,ve]:[ve,0]}else ye?X=[Math.max(0,E),Math.max(1,K)]:X=[E,K]}else le?(k.val>=0&&(k={val:0,nopad:1}),z.val<=0&&(z={val:0,nopad:1})):ye&&(k.val-de*te(k)<0&&(k={val:0,nopad:1}),z.val<=0&&(z={val:1,nopad:1})),de=(z.val-k.val-p(I,S.val,P.val))/(Se-te(k)-q(z)),X=[k.val-de*te(k),z.val+de*q(z)];return G&&X.reverse(),l.simpleMap(X,I.l2r||Number)}function p(C,I,O){var L=0;if(C.rangebreaks)for(var X=C.locateBreaks(I,O),Z=0;Z<X.length;Z++){var te=X[Z];L+=te.max-te.min}return L}function m(C,I,O){var L=.05*I._length,X=I._anchorAxis||{};if((I.ticklabelposition||"").indexOf("inside")!==-1||(X.ticklabelposition||"").indexOf("inside")!==-1){var Z=I.autorange==="reversed";if(!Z){var te=l.simpleMap(I.range,I.r2l);Z=te[1]<te[0]}Z&&(O=!O)}var q=0;return t(C,I._id)||(q=h(C,I,O)),L=Math.max(q,L),I.constrain==="domain"&&I._inputDomain&&(L*=(I._inputDomain[1]-I._inputDomain[0])/(I.domain[1]-I.domain[0])),function(N){return N.nopad?0:N.pad+(N.extrapad?L:q)}}var y=3;function h(C,I,O){var L=0,X=I._id.charAt(0)==="x";for(var Z in C._plots){var te=C._plots[Z];if(!(I._id!==te.xaxis._id&&I._id!==te.yaxis._id)){var q=(X?te.yaxis:te.xaxis)||{};if((q.ticklabelposition||"").indexOf("inside")!==-1&&(!O&&(q.side==="left"||q.side==="bottom")||O&&(q.side==="top"||q.side==="right"))){if(q._vals){var ae=l.deg2rad(q._tickAngles[q._id+"tick"]||0),N=Math.abs(Math.cos(ae)),D=Math.abs(Math.sin(ae));if(!q._vals[0].bb){var _=q._id+"tick",V=q._selections[_];V.each(function(Se){var ce=o.select(this),de=ce.select(".text-math-group");de.empty()&&(Se.bb=f.bBox(ce.node()))})}for(var G=0;G<q._vals.length;G++){var Q=q._vals[G],ue=Q.bb;if(ue){var le=2*y+ue.width,ye=2*y+ue.height;L=Math.max(L,X?Math.max(le*N,ye*D):Math.max(ye*N,le*D))}}}q.ticks==="inside"&&q.ticklabelposition==="inside"&&(L+=q.ticklen||0)}}}return L}function T(C,I,O){var L=I._id,X=C._fullData,Z=C._fullLayout,te=[],q=[],ae,N,D;function _(le,ye){for(ae=0;ae<ye.length;ae++){var Se=le[ye[ae]],ce=(Se._extremes||{})[L];if(Se.visible===!0&&ce){for(N=0;N<ce.min.length;N++)D=ce.min[N],v(te,D.val,D.pad,{extrapad:D.extrapad});for(N=0;N<ce.max.length;N++)D=ce.max[N],c(q,D.val,D.pad,{extrapad:D.extrapad})}}}if(_(X,I._traceIndices),_(Z.annotations||[],I._annIndices||[]),_(Z.shapes||[],I._shapeIndices||[]),I._matchGroup&&!O){for(var V in I._matchGroup)if(V!==I._id){var G=n(C,V),Q=T(C,G,!0),ue=I._length/G._length;for(N=0;N<Q.min.length;N++)D=Q.min[N],v(te,D.val,D.pad*ue,{extrapad:D.extrapad});for(N=0;N<Q.max.length;N++)D=Q.max[N],c(q,D.val,D.pad*ue,{extrapad:D.extrapad})}}return{min:te,max:q}}function g(C,I,O){if(I.setScale(),I.autorange){I.range=O?O.slice():d(C,I),I._r=I.range.slice(),I._rl=l.simpleMap(I._r,I.r2l);var L=I._input,X={};X[I._attr+".range"]=I.range,X[I._attr+".autorange"]=I.autorange,r.call("_storeDirectGUIEdit",C.layout,C._fullLayout._preGUI,X),L.range=I.range.slice(),L.autorange=I.autorange}var Z=I._anchorAxis;if(Z&&Z.rangeslider){var te=Z.rangeslider[I._name];te&&te.rangemode==="auto"&&(te.range=d(C,I)),Z._input.rangeslider[I._name]=l.extendFlat({},te)}}function M(C,I,O){O||(O={}),C._m||C.setScale();var L=[],X=[],Z=I.length,te=O.padded||!1,q=O.tozero&&(C.type==="linear"||C.type==="-"),ae=C.type==="log",N=!1,D=O.vpadLinearized||!1,_,V,G,Q,ue,le,ye,Se,ce;function de(E){if(Array.isArray(E))return N=!0,function(ie){return Math.max(Number(E[ie]||0),0)};var K=Math.max(Number(E||0),0);return function(){return K}}var S=de((C._m>0?O.ppadplus:O.ppadminus)||O.ppad||0),P=de((C._m>0?O.ppadminus:O.ppadplus)||O.ppad||0),k=de(O.vpadplus||O.vpad),z=de(O.vpadminus||O.vpad);if(!N){if(Se=1/0,ce=-1/0,ae)for(_=0;_<Z;_++)V=I[_],V<Se&&V>0&&(Se=V),V>ce&&V<i&&(ce=V);else for(_=0;_<Z;_++)V=I[_],V<Se&&V>-i&&(Se=V),V>ce&&V<i&&(ce=V);I=[Se,ce],Z=2}var Y={tozero:q,extrapad:te};function F(E){G=I[E],x(G)&&(le=S(E),ye=P(E),D?(Q=C.c2l(G)-z(E),ue=C.c2l(G)+k(E)):(Se=G-z(E),ce=G+k(E),ae&&Se<ce/10&&(Se=ce/10),Q=C.c2l(Se),ue=C.c2l(ce)),q&&(Q=Math.min(0,Q),ue=Math.max(0,ue)),b(Q)&&v(L,Q,ye,Y),b(ue)&&c(X,ue,le,Y))}var J=Math.min(6,Z);for(_=0;_<J;_++)F(_);for(_=Z-1;_>=J;_--)F(_);return{min:L,max:X,opts:O}}function v(C,I,O,L){u(C,I,O,L,w)}function c(C,I,O,L){u(C,I,O,L,B)}function u(C,I,O,L,X){for(var Z=L.tozero,te=L.extrapad,q=!0,ae=0;ae<C.length&&q;ae++){var N=C[ae];if(X(N.val,I)&&N.pad>=O&&(N.extrapad||!te)){q=!1;break}else X(I,N.val)&&N.pad<=O&&(te||!N.extrapad)&&(C.splice(ae,1),ae--)}if(q){var D=Z&&I===0;C.push({val:I,pad:D?0:O,extrapad:D?!1:te})}}function b(C){return x(C)&&Math.abs(C)<i}function w(C,I){return C<=I}function B(C,I){return C>=I}},9298:function(re,H,e){var o=e(9898),x=e(2770),l=e(4875),i=e(3972),r=e(1828),f=r.strTranslate,s=e(3893),n=e(2998),t=e(7901),d=e(1424),p=e(3838),m=e(6287),y=e(606),h=y.ONEMAXYEAR,T=y.ONEAVGYEAR,g=y.ONEMINYEAR,M=y.ONEMAXQUARTER,v=y.ONEAVGQUARTER,c=y.ONEMINQUARTER,u=y.ONEMAXMONTH,b=y.ONEAVGMONTH,w=y.ONEMINMONTH,B=y.ONEWEEK,C=y.ONEDAY,I=C/2,O=y.ONEHOUR,L=y.ONEMIN,X=y.ONESEC,Z=y.MINUS_SIGN,te=y.BADNUM,q={K:"zeroline"},ae={K:"gridline",L:"path"},N={K:"minor-gridline",L:"path"},D={K:"tick",L:"path"},_={K:"tick",L:"text"},V={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},G=e(8783),Q=G.MID_SHIFT,ue=G.CAP_SHIFT,le=G.LINE_SPACING,ye=G.OPPOSITE_SIDE,Se=3,ce=re.exports={};ce.setConvert=e(1994);var de=e(4322),S=e(1675),P=S.idSort,k=S.isLinked;ce.id2name=S.id2name,ce.name2id=S.name2id,ce.cleanId=S.cleanId,ce.list=S.list,ce.listIds=S.listIds,ce.getFromId=S.getFromId,ce.getFromTrace=S.getFromTrace;var z=e(1739);ce.getAutoRange=z.getAutoRange,ce.findExtremes=z.findExtremes;var Y=1e-4;function F(ne){var ee=(ne[1]-ne[0])*Y;return[ne[0]-ee,ne[1]+ee]}ce.coerceRef=function(ne,ee,ze,Fe,Ue,Ze){var Xe=Fe.charAt(Fe.length-1),Be=ze._fullLayout._subplots[Xe+"axis"],Ye=Fe+"ref",qe={};return Ue||(Ue=Be[0]||(typeof Ze=="string"?Ze:Ze[0])),Ze||(Ze=Ue),Be=Be.concat(Be.map(function(tt){return tt+" domain"})),qe[Ye]={valType:"enumerated",values:Be.concat(Ze?typeof Ze=="string"?[Ze]:Ze:[]),dflt:Ue},r.coerce(ne,ee,qe,Ye)},ce.getRefType=function(ne){return ne===void 0?ne:ne==="paper"?"paper":ne==="pixel"?"pixel":/( domain)$/.test(ne)?"domain":"range"},ce.coercePosition=function(ne,ee,ze,Fe,Ue,Ze){var Xe,Be,Ye=ce.getRefType(Fe);if(Ye!=="range")Xe=r.ensureNumber,Be=ze(Ue,Ze);else{var qe=ce.getFromId(ee,Fe);Ze=qe.fraction2r(Ze),Be=ze(Ue,Ze),Xe=qe.cleanPos}ne[Ue]=Xe(Be)},ce.cleanPosition=function(ne,ee,ze){var Fe=ze==="paper"||ze==="pixel"?r.ensureNumber:ce.getFromId(ee,ze).cleanPos;return Fe(ne)},ce.redrawComponents=function(ne,ee){ee=ee||ce.listIds(ne);var ze=ne._fullLayout;function Fe(Ue,Ze,Xe,Be){for(var Ye=i.getComponentMethod(Ue,Ze),qe={},tt=0;tt<ee.length;tt++)for(var ut=ze[ce.id2name(ee[tt])],rt=ut[Xe],Tt=0;Tt<rt.length;Tt++){var mt=rt[Tt];if(!qe[mt]&&(Ye(ne,mt),qe[mt]=1,Be))return}}Fe("annotations","drawOne","_annIndices"),Fe("shapes","drawOne","_shapeIndices"),Fe("images","draw","_imgIndices",!0),Fe("selections","drawOne","_selectionIndices")};var J=ce.getDataConversions=function(ne,ee,ze,Fe){var Ue,Ze=ze==="x"||ze==="y"||ze==="z"?ze:Fe;if(Array.isArray(Ze)){if(Ue={type:de(Fe,void 0,{autotypenumbers:ne._fullLayout.autotypenumbers}),_categories:[]},ce.setConvert(Ue),Ue.type==="category")for(var Xe=0;Xe<Fe.length;Xe++)Ue.d2c(Fe[Xe])}else Ue=ce.getFromTrace(ne,ee,Ze);return Ue?{d2c:Ue.d2c,c2d:Ue.c2d}:Ze==="ids"?{d2c:K,c2d:K}:{d2c:E,c2d:E}};function E(ne){return+ne}function K(ne){return String(ne)}ce.getDataToCoordFunc=function(ne,ee,ze,Fe){return J(ne,ee,ze,Fe).d2c},ce.counterLetter=function(ne){var ee=ne.charAt(0);if(ee==="x")return"y";if(ee==="y")return"x"},ce.minDtick=function(ne,ee,ze,Fe){["log","category","multicategory"].indexOf(ne.type)!==-1||!Fe?ne._minDtick=0:ne._minDtick===void 0?(ne._minDtick=ee,ne._forceTick0=ze):ne._minDtick&&((ne._minDtick/ee+1e-6)%1<2e-6&&((ze-ne._forceTick0)/ee%1+1.000001)%1<2e-6?(ne._minDtick=ee,ne._forceTick0=ze):((ee/ne._minDtick+1e-6)%1>2e-6||((ze-ne._forceTick0)/ne._minDtick%1+1.000001)%1>2e-6)&&(ne._minDtick=0))},ce.saveRangeInitial=function(ne,ee){for(var ze=ce.list(ne,"",!0),Fe=!1,Ue=0;Ue<ze.length;Ue++){var Ze=ze[Ue],Xe=Ze._rangeInitial===void 0,Be=Xe||!(Ze.range[0]===Ze._rangeInitial[0]&&Ze.range[1]===Ze._rangeInitial[1]);(Xe&&Ze.autorange===!1||ee&&Be)&&(Ze._rangeInitial=Ze.range.slice(),Fe=!0)}return Fe},ce.saveShowSpikeInitial=function(ne,ee){for(var ze=ce.list(ne,"",!0),Fe=!1,Ue="on",Ze=0;Ze<ze.length;Ze++){var Xe=ze[Ze],Be=Xe._showSpikeInitial===void 0,Ye=Be||Xe.showspikes!==Xe._showspikes;(Be||ee&&Ye)&&(Xe._showSpikeInitial=Xe.showspikes,Fe=!0),Ue==="on"&&!Xe.showspikes&&(Ue="off")}return ne._fullLayout._cartesianSpikesEnabled=Ue,Fe},ce.autoBin=function(ne,ee,ze,Fe,Ue,Ze){var Xe=r.aggNums(Math.min,null,ne),Be=r.aggNums(Math.max,null,ne);if(ee.type==="category"||ee.type==="multicategory")return{start:Xe-.5,end:Be+.5,size:Math.max(1,Math.round(Ze)||1),_dataSpan:Be-Xe};Ue||(Ue=ee.calendar);var Ye;if(ee.type==="log"?Ye={type:"linear",range:[Xe,Be]}:Ye={type:ee.type,range:r.simpleMap([Xe,Be],ee.c2r,0,Ue),calendar:Ue},ce.setConvert(Ye),Ze=Ze&&m.dtick(Ze,Ye.type),Ze)Ye.dtick=Ze,Ye.tick0=m.tick0(void 0,Ye.type,Ue);else{var qe;if(ze)qe=(Be-Xe)/ze;else{var tt=r.distinctVals(ne),ut=Math.pow(10,Math.floor(Math.log(tt.minDiff)/Math.LN10)),rt=ut*r.roundUp(tt.minDiff/ut,[.9,1.9,4.9,9.9],!0);qe=Math.max(rt,2*r.stdev(ne)/Math.pow(ne.length,Fe?.25:.4)),x(qe)||(qe=1)}ce.autoTicks(Ye,qe)}var Tt=Ye.dtick,mt=ce.tickIncrement(ce.tickFirst(Ye),Tt,"reverse",Ue),ct,Rt;if(typeof Tt=="number")mt=ie(mt,ne,Ye,Xe,Be),Rt=1+Math.floor((Be-mt)/Tt),ct=mt+Rt*Tt;else for(Ye.dtick.charAt(0)==="M"&&(mt=ve(mt,ne,Tt,Xe,Ue)),ct=mt,Rt=0;ct<=Be;)ct=ce.tickIncrement(ct,Tt,!1,Ue),Rt++;return{start:ee.c2r(mt,0,Ue),end:ee.c2r(ct,0,Ue),size:Tt,_dataSpan:Be-Xe}};function ie(ne,ee,ze,Fe,Ue){var Ze=0,Xe=0,Be=0,Ye=0;function qe(Tt){return(1+(Tt-ne)*100/ze.dtick)%100<2}for(var tt=0;tt<ee.length;tt++)ee[tt]%1===0?Be++:x(ee[tt])||Ye++,qe(ee[tt])&&Ze++,qe(ee[tt]+ze.dtick/2)&&Xe++;var ut=ee.length-Ye;if(Be===ut&&ze.type!=="date")ze.dtick<1?ne=Fe-.5*ze.dtick:(ne-=.5,ne+ze.dtick<Fe&&(ne+=ze.dtick));else if(Xe<ut*.1&&(Ze>ut*.3||qe(Fe)||qe(Ue))){var rt=ze.dtick/2;ne+=ne+rt<Fe?rt:-rt}return ne}function ve(ne,ee,ze,Fe,Ue){var Ze=r.findExactDates(ee,Ue),Xe=.8;if(Ze.exactDays>Xe){var Be=Number(ze.substr(1));Ze.exactYears>Xe&&Be%12===0?ne=ce.tickIncrement(ne,"M6","reverse")+C*1.5:Ze.exactMonths>Xe?ne=ce.tickIncrement(ne,"M1","reverse")+C*15.5:ne-=I;var Ye=ce.tickIncrement(ne,ze);if(Ye<=Fe)return Ye}return ne}ce.prepMinorTicks=function(ne,ee,ze){if(!ee.minor.dtick){delete ne.dtick;var Fe=ee.dtick&&x(ee._tmin),Ue;if(Fe){var Ze=ce.tickIncrement(ee._tmin,ee.dtick,!0);Ue=[ee._tmin,Ze*.99+ee._tmin*.01]}else{var Xe=r.simpleMap(ee.range,ee.r2l);Ue=[Xe[0],.8*Xe[0]+.2*Xe[1]]}if(ne.range=r.simpleMap(Ue,ee.l2r),ne._isMinor=!0,ce.prepTicks(ne,ze),Fe){var Be=x(ee.dtick),Ye=x(ne.dtick),qe=Be?ee.dtick:+ee.dtick.substring(1),tt=Ye?ne.dtick:+ne.dtick.substring(1);Be&&Ye?he(qe,tt)?qe===2*B&&tt===2*C&&(ne.dtick=B):qe===2*B&&tt===3*C?ne.dtick=B:qe===B&&!(ee._input.minor||{}).nticks?ne.dtick=C:Le(qe/tt,2.5)?ne.dtick=qe/2:ne.dtick=qe:String(ee.dtick).charAt(0)==="M"?Ye?ne.dtick="M1":he(qe,tt)?qe>=12&&tt===2&&(ne.dtick="M3"):ne.dtick=ee.dtick:String(ne.dtick).charAt(0)==="L"?String(ee.dtick).charAt(0)==="L"?he(qe,tt)||(ne.dtick=Le(qe/tt,2.5)?ee.dtick/2:ee.dtick):ne.dtick="D1":ne.dtick==="D2"&&+ee.dtick>1&&(ne.dtick=1)}ne.range=ee.range}ee.minor._tick0Init===void 0&&(ne.tick0=ee.tick0)};function he(ne,ee){return Math.abs((ne/ee+.5)%1-.5)<.001}function Le(ne,ee){return Math.abs(ne/ee-1)<.001}ce.prepTicks=function(ne,ee){var ze=r.simpleMap(ne.range,ne.r2l,void 0,void 0,ee);if(ne.tickmode==="auto"||!ne.dtick){var Fe=ne.nticks,Ue;Fe||(ne.type==="category"||ne.type==="multicategory"?(Ue=ne.tickfont?r.bigFont(ne.tickfont.size||12):15,Fe=ne._length/Ue):(Ue=ne._id.charAt(0)==="y"?40:80,Fe=r.constrain(ne._length/Ue,4,9)+1),ne._name==="radialaxis"&&(Fe*=2)),ne.minor&&ne.minor.tickmode!=="array"||ne.tickmode==="array"&&(Fe*=100),ne._roughDTick=Math.abs(ze[1]-ze[0])/Fe,ce.autoTicks(ne,ne._roughDTick),ne._minDtick>0&&ne.dtick<ne._minDtick*2&&(ne.dtick=ne._minDtick,ne.tick0=ne.l2r(ne._forceTick0))}ne.ticklabelmode==="period"&&se(ne),ne.tick0||(ne.tick0=ne.type==="date"?"2000-01-01":0),ne.type==="date"&&ne.dtick<.1&&(ne.dtick=.1),ht(ne)};function ke(ne){return+ne.substring(1)}function se(ne){var ee;function ze(){return!(x(ne.dtick)||ne.dtick.charAt(0)!=="M")}var Fe=ze(),Ue=ce.getTickFormat(ne);if(Ue){var Ze=ne._dtickInit!==ne.dtick;/%[fLQsSMX]/.test(Ue)||(/%[HI]/.test(Ue)?(ee=O,Ze&&!Fe&&ne.dtick<O&&(ne.dtick=O)):/%p/.test(Ue)?(ee=I,Ze&&!Fe&&ne.dtick<I&&(ne.dtick=I)):/%[Aadejuwx]/.test(Ue)?(ee=C,Ze&&!Fe&&ne.dtick<C&&(ne.dtick=C)):/%[UVW]/.test(Ue)?(ee=B,Ze&&!Fe&&ne.dtick<B&&(ne.dtick=B)):/%[Bbm]/.test(Ue)?(ee=b,Ze&&(Fe?ke(ne.dtick)<1:ne.dtick<w)&&(ne.dtick="M1")):/%[q]/.test(Ue)?(ee=v,Ze&&(Fe?ke(ne.dtick)<3:ne.dtick<c)&&(ne.dtick="M3")):/%[Yy]/.test(Ue)&&(ee=T,Ze&&(Fe?ke(ne.dtick)<12:ne.dtick<g)&&(ne.dtick="M12")))}Fe=ze(),Fe&&ne.tick0===ne._dowTick0&&(ne.tick0=ne._rawTick0),ne._definedDelta=ee}function ge(ne,ee,ze){for(var Fe=0;Fe<ne.length;Fe++){var Ue=ne[Fe].value,Ze=Fe,Xe=Fe+1;Fe<ne.length-1?(Ze=Fe,Xe=Fe+1):Fe>0?(Ze=Fe-1,Xe=Fe):(Ze=Fe,Xe=Fe);var Be=ne[Ze].value,Ye=ne[Xe].value,qe=Math.abs(Ye-Be),tt=ze||qe,ut=0;tt>=g?qe>=g&&qe<=h?ut=qe:ut=T:ze===v&&tt>=c?qe>=c&&qe<=M?ut=qe:ut=v:tt>=w?qe>=w&&qe<=u?ut=qe:ut=b:ze===B&&tt>=B?ut=B:tt>=C?ut=C:ze===I&&tt>=I?ut=I:ze===O&&tt>=O&&(ut=O);var rt;ut>=qe&&(ut=qe,rt=!0);var Tt=Ue+ut;if(ee.rangebreaks&&ut>0){for(var mt=84,ct=0,Rt=0;Rt<mt;Rt++){var Mt=(Rt+.5)/mt;ee.maskBreaks(Ue*(1-Mt)+Mt*Tt)!==te&&ct++}ut*=ct/mt,ut||(ne[Fe].drop=!0),rt&&qe>B&&(ut=qe)}(ut>0||Fe===0)&&(ne[Fe].periodX=Ue+ut/2)}}ce.calcTicks=function(ee,ze){for(var Fe=ee.type,Ue=ee.calendar,Ze=ee.ticklabelstep,Xe=ee.ticklabelmode==="period",Be=r.simpleMap(ee.range,ee.r2l,void 0,void 0,ze),Ye=Be[1]<Be[0],qe=Math.min(Be[0],Be[1]),tt=Math.max(Be[0],Be[1]),ut=Math.max(1e3,ee._length||0),rt=[],Tt=[],mt=[],ct=[],Rt=ee.minor&&(ee.minor.ticks||ee.minor.showgrid),Mt=1;Mt>=(Rt?0:1);Mt--){var Yt=!Mt;Mt?(ee._dtickInit=ee.dtick,ee._tick0Init=ee.tick0):(ee.minor._dtickInit=ee.minor.dtick,ee.minor._tick0Init=ee.minor.tick0);var Jt=Mt?ee:r.extendFlat({},ee,ee.minor);if(Yt?ce.prepMinorTicks(Jt,ee,ze):ce.prepTicks(Jt,ze),Jt.tickmode==="array"){Mt?(mt=[],rt=we(ee)):(ct=[],Tt=we(ee));continue}if(Jt.tickmode==="sync"){mt=[],rt=Ee(ee);continue}var Qt=F(Be),St=Qt[0],Ft=Qt[1],lr=x(Jt.dtick),rr=Fe==="log"&&!(lr||Jt.dtick.charAt(0)==="L"),vr=ce.tickFirst(Jt,ze);if(Mt){if(ee._tmin=vr,vr<St!==Ye)break;(Fe==="category"||Fe==="multicategory")&&(Ft=Ye?Math.max(-.5,Ft):Math.min(ee._categories.length-.5,Ft))}var mr=null,ir=vr,fr;if(Mt){var hr;lr?hr=ee.dtick:Fe==="date"?typeof ee.dtick=="string"&&ee.dtick.charAt(0)==="M"&&(hr=b*ee.dtick.substring(1)):hr=ee._roughDTick,fr=Math.round((ee.r2l(ir)-ee.r2l(ee.tick0))/hr)-1}var yr=Jt.dtick;for(Jt.rangebreaks&&Jt._tick0Init!==Jt.tick0&&(ir=Xt(ir,ee),Ye||(ir=ce.tickIncrement(ir,yr,!Ye,Ue))),Mt&&Xe&&(ir=ce.tickIncrement(ir,yr,!Ye,Ue),fr--);Ye?ir>=Ft:ir<=Ft;ir=ce.tickIncrement(ir,yr,Ye,Ue)){if(Mt&&fr++,Jt.rangebreaks&&!Ye){if(ir<St)continue;if(Jt.maskBreaks(ir)===te&&Xt(ir,Jt)>=tt)break}if(mt.length>ut||ir===mr)break;mr=ir;var br={value:ir};Mt?(rr&&ir!==(ir|0)&&(br.simpleLabel=!0),Ze>1&&fr%Ze&&(br.skipLabel=!0),mt.push(br)):(br.minor=!0,ct.push(br))}}if(Rt){var wr=ee.minor.ticks==="inside"&&ee.ticks==="outside"||ee.minor.ticks==="outside"&&ee.ticks==="inside";if(!wr){for(var Mr=mt.map(function(ma){return ma.value}),Ur=[],_r=0;_r<ct.length;_r++){var Gr=ct[_r],Ar=Gr.value;if(Mr.indexOf(Ar)===-1){for(var Er=!1,Fr=0;!Er&&Fr<mt.length;Fr++)1e7+mt[Fr].value===1e7+Ar&&(Er=!0);Er||Ur.push(Gr)}}ct=Ur}}Xe&&ge(mt,ee,ee._definedDelta);var Tr;if(ee.rangebreaks){var Xr=ee._id.charAt(0)==="y",oa=1;ee.tickmode==="auto"&&(oa=ee.tickfont?ee.tickfont.size:12);var qr=NaN;for(Tr=mt.length-1;Tr>-1;Tr--){if(mt[Tr].drop){mt.splice(Tr,1);continue}mt[Tr].value=Xt(mt[Tr].value,ee);var Jr=ee.c2p(mt[Tr].value);(Xr?qr>Jr-oa:qr<Jr+oa)?mt.splice(Ye?Tr+1:Tr,1):qr=Jr}}Ot(ee)&&Math.abs(Be[1]-Be[0])===360&&mt.pop(),ee._tmax=(mt[mt.length-1]||{}).value,ee._prevDateHead="",ee._inCalcTicks=!0;var ha,Ta=function(ma){ma.text="",ee._prevDateHead=ha};mt=mt.concat(ct);var Vr,Kr;for(Tr=0;Tr<mt.length;Tr++){var Na=mt[Tr].minor,ua=mt[Tr].value;Na?Tt.push({x:ua,minor:!0}):(ha=ee._prevDateHead,Vr=ce.tickText(ee,ua,!1,mt[Tr].simpleLabel),Kr=mt[Tr].periodX,Kr!==void 0&&(Vr.periodX=Kr,(Kr>tt||Kr<qe)&&(Kr>tt&&(Vr.periodX=tt),Kr<qe&&(Vr.periodX=qe),Ta(Vr))),mt[Tr].skipLabel&&Ta(Vr),rt.push(Vr))}return rt=rt.concat(Tt),ee._inCalcTicks=!1,Xe&&rt.length&&(rt[0].noTick=!0),rt};function be(ne,ee){return ne.rangebreaks&&(ee=ee.filter(function(ze){return ne.maskBreaks(ze.x)!==te})),ee}function Ee(ne){var ee=ne._mainAxis,ze=[];if(ee._vals){for(var Fe=0;Fe<ee._vals.length;Fe++)if(!ee._vals[Fe].noTick){var Ue=ee.l2p(ee._vals[Fe].x),Ze=ne.p2l(Ue),Xe=ce.tickText(ne,Ze);ee._vals[Fe].minor&&(Xe.minor=!0,Xe.text=""),ze.push(Xe)}}return ze=be(ne,ze),ze}function we(ne){var ee=r.simpleMap(ne.range,ne.r2l),ze=F(ee),Fe=Math.min(ze[0],ze[1]),Ue=Math.max(ze[0],ze[1]),Ze=ne.type==="category"?ne.d2l_noadd:ne.d2l;ne.type==="log"&&String(ne.dtick).charAt(0)!=="L"&&(ne.dtick="L"+Math.pow(10,Math.floor(Math.min(ne.range[0],ne.range[1]))-1));for(var Xe=[],Be=0;Be<=1;Be++)if(!(Be&&!ne.minor)){var Ye=Be?ne.minor.tickvals:ne.tickvals,qe=Be?[]:ne.ticktext;if(Ye){Array.isArray(qe)||(qe=[]);for(var tt=0;tt<Ye.length;tt++){var ut=Ze(Ye[tt]);if(ut>Fe&&ut<Ue){var rt=qe[tt]===void 0?ce.tickText(ne,ut):Pt(ne,ut,String(qe[tt]));Be&&(rt.minor=!0,rt.text=""),Xe.push(rt)}}}}return Xe=be(ne,Xe),Xe}var Te=[2,5,10],Ne=[1,2,3,6,12],$e=[1,2,5,10,15,30],je=[1,2,3,7,14],He=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],st=[-.301,0,.301,.699,1],nt=[15,30,45,90,180];function dt(ne,ee,ze){return ee*r.roundUp(ne/ee,ze)}ce.autoTicks=function(ne,ee,ze){var Fe;function Ue(ut){return Math.pow(ut,Math.floor(Math.log(ee)/Math.LN10))}if(ne.type==="date"){ne.tick0=r.dateTick0(ne.calendar,0);var Ze=2*ee;if(Ze>T)ee/=T,Fe=Ue(10),ne.dtick="M"+12*dt(ee,Fe,Te);else if(Ze>b)ee/=b,ne.dtick="M"+dt(ee,1,Ne);else if(Ze>C){if(ne.dtick=dt(ee,C,ne._hasDayOfWeekBreaks?[1,2,7,14]:je),!ze){var Xe=ce.getTickFormat(ne),Be=ne.ticklabelmode==="period";Be&&(ne._rawTick0=ne.tick0),/%[uVW]/.test(Xe)?ne.tick0=r.dateTick0(ne.calendar,2):ne.tick0=r.dateTick0(ne.calendar,1),Be&&(ne._dowTick0=ne.tick0)}}else Ze>O?ne.dtick=dt(ee,O,Ne):Ze>L?ne.dtick=dt(ee,L,$e):Ze>X?ne.dtick=dt(ee,X,$e):(Fe=Ue(10),ne.dtick=dt(ee,Fe,Te))}else if(ne.type==="log"){ne.tick0=0;var Ye=r.simpleMap(ne.range,ne.r2l);if(ne._isMinor&&(ee*=1.5),ee>.7)ne.dtick=Math.ceil(ee);else if(Math.abs(Ye[1]-Ye[0])<1){var qe=1.5*Math.abs((Ye[1]-Ye[0])/ee);ee=Math.abs(Math.pow(10,Ye[1])-Math.pow(10,Ye[0]))/qe,Fe=Ue(10),ne.dtick="L"+dt(ee,Fe,Te)}else ne.dtick=ee>.3?"D2":"D1"}else ne.type==="category"||ne.type==="multicategory"?(ne.tick0=0,ne.dtick=Math.ceil(Math.max(ee,1))):Ot(ne)?(ne.tick0=0,Fe=1,ne.dtick=dt(ee,Fe,nt)):(ne.tick0=0,Fe=Ue(10),ne.dtick=dt(ee,Fe,Te));if(ne.dtick===0&&(ne.dtick=1),!x(ne.dtick)&&typeof ne.dtick!="string"){var tt=ne.dtick;throw ne.dtick=1,"ax.dtick error: "+String(tt)}};function ht(ne){var ee=ne.dtick;if(ne._tickexponent=0,!x(ee)&&typeof ee!="string"&&(ee=1),(ne.type==="category"||ne.type==="multicategory")&&(ne._tickround=null),ne.type==="date"){var ze=ne.r2l(ne.tick0),Fe=ne.l2r(ze).replace(/(^-|i)/g,""),Ue=Fe.length;if(String(ee).charAt(0)==="M")Ue>10||Fe.substr(5)!=="01-01"?ne._tickround="d":ne._tickround=+ee.substr(1)%12===0?"y":"m";else if(ee>=C&&Ue<=10||ee>=C*15)ne._tickround="d";else if(ee>=L&&Ue<=16||ee>=O)ne._tickround="M";else if(ee>=X&&Ue<=19||ee>=L)ne._tickround="S";else{var Ze=ne.l2r(ze+ee).replace(/^-/,"").length;ne._tickround=Math.max(Ue,Ze)-20,ne._tickround<0&&(ne._tickround=4)}}else if(x(ee)||ee.charAt(0)==="L"){var Xe=ne.range.map(ne.r2d||Number);x(ee)||(ee=Number(ee.substr(1))),ne._tickround=2-Math.floor(Math.log(ee)/Math.LN10+.01);var Be=Math.max(Math.abs(Xe[0]),Math.abs(Xe[1])),Ye=Math.floor(Math.log(Be)/Math.LN10+.01),qe=ne.minexponent===void 0?3:ne.minexponent;Math.abs(Ye)>qe&&($(ne.exponentformat)&&!fe(Ye)?ne._tickexponent=3*Math.round((Ye-1)/3):ne._tickexponent=Ye)}else ne._tickround=null}ce.tickIncrement=function(ne,ee,ze,Fe){var Ue=ze?-1:1;if(x(ee))return r.increment(ne,Ue*ee);var Ze=ee.charAt(0),Xe=Ue*Number(ee.substr(1));if(Ze==="M")return r.incrementMonth(ne,Xe,Fe);if(Ze==="L")return Math.log(Math.pow(10,ne)+Xe)/Math.LN10;if(Ze==="D"){var Be=ee==="D2"?st:He,Ye=ne+Ue*.01,qe=r.roundUp(r.mod(Ye,1),Be,ze);return Math.floor(Ye)+Math.log(o.round(Math.pow(10,qe),1))/Math.LN10}throw"unrecognized dtick "+String(ee)},ce.tickFirst=function(ne,ee){var ze=ne.r2l||Number,Fe=r.simpleMap(ne.range,ze,void 0,void 0,ee),Ue=Fe[1]<Fe[0],Ze=Ue?Math.floor:Math.ceil,Xe=F(Fe)[0],Be=ne.dtick,Ye=ze(ne.tick0);if(x(Be)){var qe=Ze((Xe-Ye)/Be)*Be+Ye;return(ne.type==="category"||ne.type==="multicategory")&&(qe=r.constrain(qe,0,ne._categories.length-1)),qe}var tt=Be.charAt(0),ut=Number(Be.substr(1));if(tt==="M"){for(var rt=0,Tt=Ye,mt,ct,Rt;rt<10;){if(mt=ce.tickIncrement(Tt,Be,Ue,ne.calendar),(mt-Xe)*(Tt-Xe)<=0)return Ue?Math.min(Tt,mt):Math.max(Tt,mt);ct=(Xe-(Tt+mt)/2)/(mt-Tt),Rt=tt+(Math.abs(Math.round(ct))||1)*ut,Tt=ce.tickIncrement(Tt,Rt,ct<0?!Ue:Ue,ne.calendar),rt++}return r.error("tickFirst did not converge",ne),Tt}else{if(tt==="L")return Math.log(Ze((Math.pow(10,Xe)-Ye)/ut)*ut+Ye)/Math.LN10;if(tt==="D"){var Mt=Be==="D2"?st:He,Yt=r.roundUp(r.mod(Xe,1),Mt,Ue);return Math.floor(Xe)+Math.log(o.round(Math.pow(10,Yt),1))/Math.LN10}else throw"unrecognized dtick "+String(Be)}},ce.tickText=function(ne,ee,ze,Fe){var Ue=Pt(ne,ee),Ze=ne.tickmode==="array",Xe=ze||Ze,Be=ne.type,Ye=Be==="category"?ne.d2l_noadd:ne.d2l,qe;if(Ze&&Array.isArray(ne.ticktext)){var tt=r.simpleMap(ne.range,ne.r2l),ut=(Math.abs(tt[1]-tt[0])-(ne._lBreaks||0))/1e4;for(qe=0;qe<ne.ticktext.length&&!(Math.abs(ee-Ye(ne.tickvals[qe]))<ut);qe++);if(qe<ne.ticktext.length)return Ue.text=String(ne.ticktext[qe]),Ue}function rt(Rt){if(Rt===void 0)return!0;if(ze)return Rt==="none";var Mt={first:ne._tmin,last:ne._tmax}[Rt];return Rt!=="all"&&ee!==Mt}var Tt=ze?"never":ne.exponentformat!=="none"&&rt(ne.showexponent)?"hide":"";if(Be==="date"?bt(ne,Ue,ze,Xe):Be==="log"?At(ne,Ue,ze,Xe,Tt):Be==="category"?wt(ne,Ue):Be==="multicategory"?Lt(ne,Ue,ze):Ot(ne)?Ce(ne,Ue,ze,Xe,Tt):kt(ne,Ue,ze,Xe,Tt),Fe||(ne.tickprefix&&!rt(ne.showtickprefix)&&(Ue.text=ne.tickprefix+Ue.text),ne.ticksuffix&&!rt(ne.showticksuffix)&&(Ue.text+=ne.ticksuffix)),ne.labelalias&&ne.labelalias.hasOwnProperty(Ue.text)){var mt=ne.labelalias[Ue.text];typeof mt=="string"&&(Ue.text=mt)}if(ne.tickson==="boundaries"||ne.showdividers){var ct=function(Rt){var Mt=ne.l2p(Rt);return Mt>=0&&Mt<=ne._length?Rt:null};Ue.xbnd=[ct(Ue.x-.5),ct(Ue.x+ne.dtick-.5)]}return Ue},ce.hoverLabelText=function(ne,ee,ze){ze&&(ne=r.extendFlat({},ne,{hoverformat:ze}));var Fe=Array.isArray(ee)?ee[0]:ee,Ue=Array.isArray(ee)?ee[1]:void 0;if(Ue!==void 0&&Ue!==Fe)return ce.hoverLabelText(ne,Fe,ze)+" - "+ce.hoverLabelText(ne,Ue,ze);var Ze=ne.type==="log"&&Fe<=0,Xe=ce.tickText(ne,ne.c2l(Ze?-Fe:Fe),"hover").text;return Ze?Fe===0?"0":Z+Xe:Xe};function Pt(ne,ee,ze){var Fe=ne.tickfont||{};return{x:ee,dx:0,dy:0,text:ze||"",fontSize:Fe.size,font:Fe.family,fontColor:Fe.color}}function bt(ne,ee,ze,Fe){var Ue=ne._tickround,Ze=ze&&ne.hoverformat||ce.getTickFormat(ne);Fe&&(x(Ue)?Ue=4:Ue={y:"m",m:"d",d:"M",M:"S",S:4}[Ue]);var Xe=r.formatDate(ee.x,Ze,Ue,ne._dateFormat,ne.calendar,ne._extraFormat),Be,Ye=Xe.indexOf(`
`);if(Ye!==-1&&(Be=Xe.substr(Ye+1),Xe=Xe.substr(0,Ye)),Fe&&(Xe==="00:00:00"||Xe==="00:00"?(Xe=Be,Be=""):Xe.length===8&&(Xe=Xe.replace(/:00$/,""))),Be)if(ze)Ue==="d"?Xe+=", "+Be:Xe=Be+(Xe?", "+Xe:"");else if(!ne._inCalcTicks||ne._prevDateHead!==Be)ne._prevDateHead=Be,Xe+="<br>"+Be;else{var qe=nr(ne),tt=ne._trueSide||ne.side;(!qe&&tt==="top"||qe&&tt==="bottom")&&(Xe+="<br> ")}ee.text=Xe}function At(ne,ee,ze,Fe,Ue){var Ze=ne.dtick,Xe=ee.x,Be=ne.tickformat,Ye=typeof Ze=="string"&&Ze.charAt(0);if(Ue==="never"&&(Ue=""),Fe&&Ye!=="L"&&(Ze="L3",Ye="L"),Be||Ye==="L")ee.text=pe(Math.pow(10,Xe),ne,Ue,Fe);else if(x(Ze)||Ye==="D"&&r.mod(Xe+.01,1)<.1){var qe=Math.round(Xe),tt=Math.abs(qe),ut=ne.exponentformat;ut==="power"||$(ut)&&fe(qe)?(qe===0?ee.text=1:qe===1?ee.text="10":ee.text="10<sup>"+(qe>1?"":Z)+tt+"</sup>",ee.fontSize*=1.25):(ut==="e"||ut==="E")&&tt>2?ee.text="1"+ut+(qe>0?"+":Z)+tt:(ee.text=pe(Math.pow(10,Xe),ne,"","fakehover"),Ze==="D1"&&ne._id.charAt(0)==="y"&&(ee.dy-=ee.fontSize/6))}else if(Ye==="D")ee.text=String(Math.round(Math.pow(10,r.mod(Xe,1)))),ee.fontSize*=.75;else throw"unrecognized dtick "+String(Ze);if(ne.dtick==="D1"){var rt=String(ee.text).charAt(0);(rt==="0"||rt==="1")&&(ne._id.charAt(0)==="y"?ee.dx-=ee.fontSize/4:(ee.dy+=ee.fontSize/2,ee.dx+=(ne.range[1]>ne.range[0]?1:-1)*ee.fontSize*(Xe<0?.5:.25)))}}function wt(ne,ee){var ze=ne._categories[Math.round(ee.x)];ze===void 0&&(ze=""),ee.text=String(ze)}function Lt(ne,ee,ze){var Fe=Math.round(ee.x),Ue=ne._categories[Fe]||[],Ze=Ue[1]===void 0?"":String(Ue[1]),Xe=Ue[0]===void 0?"":String(Ue[0]);ze?ee.text=Xe+" - "+Ze:(ee.text=Ze,ee.text2=Xe)}function kt(ne,ee,ze,Fe,Ue){Ue==="never"?Ue="":ne.showexponent==="all"&&Math.abs(ee.x/ne.dtick)<1e-6&&(Ue="hide"),ee.text=pe(ee.x,ne,Ue,Fe)}function Ce(ne,ee,ze,Fe,Ue){if(ne.thetaunit==="radians"&&!ze){var Ze=ee.x/180;if(Ze===0)ee.text="0";else{var Xe=Ae(Ze);if(Xe[1]>=100)ee.text=pe(r.deg2rad(ee.x),ne,Ue,Fe);else{var Be=ee.x<0;Xe[1]===1?Xe[0]===1?ee.text="":ee.text=Xe[0]+"":ee.text=["<sup>",Xe[0],"</sup>","","<sub>",Xe[1],"</sub>",""].join(""),Be&&(ee.text=Z+ee.text)}}}else ee.text=pe(ee.x,ne,Ue,Fe)}function Ae(ne){function ee(Be,Ye){return Math.abs(Be-Ye)<=1e-6}function ze(Be,Ye){return ee(Ye,0)?Be:ze(Ye,Be%Ye)}function Fe(Be){for(var Ye=1;!ee(Math.round(Be*Ye)/Ye,Be);)Ye*=10;return Ye}var Ue=Fe(ne),Ze=ne*Ue,Xe=Math.abs(ze(Ze,Ue));return[Math.round(Ze/Xe),Math.round(Ue/Xe)]}var Pe=["f","p","n","","m","","k","M","G","T"];function $(ne){return ne==="SI"||ne==="B"}function fe(ne){return ne>14||ne<-15}function pe(ne,ee,ze,Fe){var Ue=ne<0,Ze=ee._tickround,Xe=ze||ee.exponentformat||"B",Be=ee._tickexponent,Ye=ce.getTickFormat(ee),qe=ee.separatethousands;if(Fe){var tt={exponentformat:Xe,minexponent:ee.minexponent,dtick:ee.showexponent==="none"?ee.dtick:x(ne)&&Math.abs(ne)||1,range:ee.showexponent==="none"?ee.range.map(ee.r2d):[0,ne||1]};ht(tt),Ze=(Number(tt._tickround)||0)+4,Be=tt._tickexponent,ee.hoverformat&&(Ye=ee.hoverformat)}if(Ye)return ee._numFormat(Ye)(ne).replace(/-/g,Z);var ut=Math.pow(10,-Ze)/2;if(Xe==="none"&&(Be=0),ne=Math.abs(ne),ne<ut)ne="0",Ue=!1;else{if(ne+=ut,Be&&(ne*=Math.pow(10,-Be),Ze+=Be),Ze===0)ne=String(Math.floor(ne));else if(Ze<0){ne=String(Math.round(ne)),ne=ne.substr(0,ne.length+Ze);for(var rt=Ze;rt<0;rt++)ne+="0"}else{ne=String(ne);var Tt=ne.indexOf(".")+1;Tt&&(ne=ne.substr(0,Tt+Ze).replace(/\.?0+$/,""))}ne=r.numSeparate(ne,ee._separators,qe)}if(Be&&Xe!=="hide"){$(Xe)&&fe(Be)&&(Xe="power");var mt;Be<0?mt=Z+-Be:Xe!=="power"?mt="+"+Be:mt=String(Be),Xe==="e"||Xe==="E"?ne+=Xe+mt:Xe==="power"?ne+="10<sup>"+mt+"</sup>":Xe==="B"&&Be===9?ne+="B":$(Xe)&&(ne+=Pe[Be/3+5])}return Ue?Z+ne:ne}ce.getTickFormat=function(ne){var ee;function ze(Ye){return typeof Ye!="string"?Ye:Number(Ye.replace("M",""))*b}function Fe(Ye,qe){var tt=["L","D"];if(typeof Ye==typeof qe){if(typeof Ye=="number")return Ye-qe;var ut=tt.indexOf(Ye.charAt(0)),rt=tt.indexOf(qe.charAt(0));return ut===rt?Number(Ye.replace(/(L|D)/g,""))-Number(qe.replace(/(L|D)/g,"")):ut-rt}else return typeof Ye=="number"?1:-1}function Ue(Ye,qe,tt){var ut=tt||function(mt){return mt},rt=qe[0],Tt=qe[1];return(!rt&&typeof rt!="number"||ut(rt)<=ut(Ye))&&(!Tt&&typeof Tt!="number"||ut(Tt)>=ut(Ye))}function Ze(Ye,qe){var tt=qe[0]===null,ut=qe[1]===null,rt=Fe(Ye,qe[0])>=0,Tt=Fe(Ye,qe[1])<=0;return(tt||rt)&&(ut||Tt)}var Xe,Be;if(ne.tickformatstops&&ne.tickformatstops.length>0)switch(ne.type){case"date":case"linear":{for(ee=0;ee<ne.tickformatstops.length;ee++)if(Be=ne.tickformatstops[ee],Be.enabled&&Ue(ne.dtick,Be.dtickrange,ze)){Xe=Be;break}break}case"log":{for(ee=0;ee<ne.tickformatstops.length;ee++)if(Be=ne.tickformatstops[ee],Be.enabled&&Ze(ne.dtick,Be.dtickrange)){Xe=Be;break}break}}return Xe?Xe.value:ne.tickformat},ce.getSubplots=function(ne,ee){var ze=ne._fullLayout._subplots,Fe=ze.cartesian.concat(ze.gl2d||[]),Ue=ee?ce.findSubplotsWithAxis(Fe,ee):Fe;return Ue.sort(function(Ze,Xe){var Be=Ze.substr(1).split("y"),Ye=Xe.substr(1).split("y");return Be[0]===Ye[0]?+Be[1]-+Ye[1]:+Be[0]-+Ye[0]}),Ue},ce.findSubplotsWithAxis=function(ne,ee){for(var ze=new RegExp(ee._id.charAt(0)==="x"?"^"+ee._id+"y":ee._id+"$"),Fe=[],Ue=0;Ue<ne.length;Ue++){var Ze=ne[Ue];ze.test(Ze)&&Fe.push(Ze)}return Fe},ce.makeClipPaths=function(ne){var ee=ne._fullLayout;if(!ee._hasOnlyLargeSploms){var ze={_offset:0,_length:ee.width,_id:""},Fe={_offset:0,_length:ee.height,_id:""},Ue=ce.list(ne,"x",!0),Ze=ce.list(ne,"y",!0),Xe=[],Be,Ye;for(Be=0;Be<Ue.length;Be++)for(Xe.push({x:Ue[Be],y:Fe}),Ye=0;Ye<Ze.length;Ye++)Be===0&&Xe.push({x:ze,y:Ze[Ye]}),Xe.push({x:Ue[Be],y:Ze[Ye]});var qe=ee._clips.selectAll(".axesclip").data(Xe,function(tt){return tt.x._id+tt.y._id});qe.enter().append("clipPath").classed("axesclip",!0).attr("id",function(tt){return"clip"+ee._uid+tt.x._id+tt.y._id}).append("rect"),qe.exit().remove(),qe.each(function(tt){o.select(this).select("rect").attr({x:tt.x._offset||0,y:tt.y._offset||0,width:tt.x._length||1,height:tt.y._length||1})})}},ce.draw=function(ne,ee,ze){var Fe=ne._fullLayout;ee==="redraw"&&Fe._paper.selectAll("g.subplot").each(function(Ye){var qe=Ye[0],tt=Fe._plots[qe];if(tt){var ut=tt.xaxis,rt=tt.yaxis;tt.xaxislayer.selectAll("."+ut._id+"tick").remove(),tt.yaxislayer.selectAll("."+rt._id+"tick").remove(),tt.xaxislayer.selectAll("."+ut._id+"tick2").remove(),tt.yaxislayer.selectAll("."+rt._id+"tick2").remove(),tt.xaxislayer.selectAll("."+ut._id+"divider").remove(),tt.yaxislayer.selectAll("."+rt._id+"divider").remove(),tt.minorGridlayer&&tt.minorGridlayer.selectAll("path").remove(),tt.gridlayer&&tt.gridlayer.selectAll("path").remove(),tt.zerolinelayer&&tt.zerolinelayer.selectAll("path").remove(),Fe._infolayer.select(".g-"+ut._id+"title").remove(),Fe._infolayer.select(".g-"+rt._id+"title").remove()}});var Ue=!ee||ee==="redraw"?ce.listIds(ne):ee,Ze=ce.list(ne),Xe=Ze.filter(function(Ye){return Ye.autoshift}).map(function(Ye){return Ye.overlaying});Ue.map(function(Ye){var qe=ce.getFromId(ne,Ye);if(qe.tickmode==="sync"&&qe.overlaying){var tt=Ue.findIndex(function(ut){return ut===qe.overlaying});tt>=0&&Ue.unshift(Ue.splice(tt,1).shift())}});var Be={false:{left:0,right:0}};return r.syncOrAsync(Ue.map(function(Ye){return function(){if(Ye){var qe=ce.getFromId(ne,Ye);ze||(ze={}),ze.axShifts=Be,ze.overlayingShiftedAx=Xe;var tt=ce.drawOne(ne,qe,ze);return qe._shiftPusher&&tr(qe,qe._fullDepth||0,Be,!0),qe._r=qe.range.slice(),qe._rl=r.simpleMap(qe._r,qe.r2l),tt}}}))},ce.drawOne=function(ne,ee,ze){ze=ze||{};var Fe=ze.axShifts||{},Ue=ze.overlayingShiftedAx||[],Ze,Xe,Be;ee.setScale();var Ye=ne._fullLayout,qe=ee._id,tt=qe.charAt(0),ut=ce.counterLetter(qe),rt=Ye._plots[ee._mainSubplot];if(!rt)return;if(ee._shiftPusher=ee.autoshift||Ue.indexOf(ee._id)!==-1||Ue.indexOf(ee.overlaying)!==-1,ee._shiftPusher&ee.anchor==="free"){var Tt=ee.linewidth/2||0;ee.ticks==="inside"&&(Tt+=ee.ticklen),tr(ee,Tt,Fe,!0),tr(ee,ee.shift||0,Fe,!1)}(ze.skipTitle!==!0||ee._shift===void 0)&&(ee._shift=or(ee,Fe));var mt=rt[tt+"axislayer"],ct=ee._mainLinePosition,Rt=ct+=ee._shift,Mt=ee._mainMirrorPosition,Yt=ee._vals=ce.calcTicks(ee),Jt=[ee.mirror,Rt,Mt].join("_");for(Ze=0;Ze<Yt.length;Ze++)Yt[Ze].axInfo=Jt;ee._selections={},ee._tickAngles&&(ee._prevTickAngles=ee._tickAngles),ee._tickAngles={},ee._depth=null;var Qt={};function St(kr){var aa=qe+(kr||"tick");return Qt[aa]||(Qt[aa]=Je(ee,aa)),Qt[aa]}if(ee.visible){var Ft=ce.makeTransTickFn(ee),lr=ce.makeTransTickLabelFn(ee),rr,vr,mr=ee.ticks==="inside",ir=ee.ticks==="outside";if(ee.tickson==="boundaries"){var fr=Ge(ee,Yt);vr=ce.clipEnds(ee,fr),rr=mr?vr:fr}else vr=ce.clipEnds(ee,Yt),rr=mr&&ee.ticklabelmode!=="period"?vr:Yt;var hr=ee._gridVals=vr,yr=_e(ee,Yt);if(!Ye._hasOnlyLargeSploms){var br=ee._subplotsWith,wr={};for(Ze=0;Ze<br.length;Ze++){Xe=br[Ze],Be=Ye._plots[Xe];var Mr=Be[ut+"axis"],Ur=Mr._mainAxis._id;if(!wr[Ur]){wr[Ur]=1;var _r=tt==="x"?"M0,"+Mr._offset+"v"+Mr._length:"M"+Mr._offset+",0h"+Mr._length;ce.drawGrid(ne,ee,{vals:hr,counterAxis:Mr,layer:Be.gridlayer.select("."+qe),minorLayer:Be.minorGridlayer.select("."+qe),path:_r,transFn:Ft}),ce.drawZeroLine(ne,ee,{counterAxis:Mr,layer:Be.zerolinelayer,path:_r,transFn:Ft})}}}var Gr,Ar=ce.getTickSigns(ee),Er=ce.getTickSigns(ee,"minor");if(ee.ticks||ee.minor&&ee.minor.ticks){var Fr=ce.makeTickPath(ee,Rt,Ar[2]),Tr=ce.makeTickPath(ee,Rt,Er[2],{minor:!0}),Xr,oa,qr,Jr;if(ee._anchorAxis&&ee.mirror&&ee.mirror!==!0?(Xr=ce.makeTickPath(ee,Mt,Ar[3]),oa=ce.makeTickPath(ee,Mt,Er[3],{minor:!0}),qr=Fr+Xr,Jr=Tr+oa):(Xr="",oa="",qr=Fr,Jr=Tr),ee.showdividers&&ir&&ee.tickson==="boundaries"){var ha={};for(Ze=0;Ze<yr.length;Ze++)ha[yr[Ze].x]=1;Gr=function(kr){return ha[kr.x]?Xr:qr}}else Gr=function(kr){return kr.minor?Jr:qr}}if(ce.drawTicks(ne,ee,{vals:rr,layer:mt,path:Gr,transFn:Ft}),ee.mirror==="allticks"){var Ta=Object.keys(ee._linepositions||{});for(Ze=0;Ze<Ta.length;Ze++){Xe=Ta[Ze],Be=Ye._plots[Xe];var Vr=ee._linepositions[Xe]||[],Kr=Vr[0],Na=Vr[1],ua=Vr[2],ma=ce.makeTickPath(ee,Kr,ua?Ar[0]:Er[0],{minor:ua})+ce.makeTickPath(ee,Na,ua?Ar[1]:Er[1],{minor:ua});ce.drawTicks(ne,ee,{vals:rr,layer:Be[tt+"axislayer"],path:ma,transFn:Ft})}}var ca=[];if(ca.push(function(){return ce.drawLabels(ne,ee,{vals:Yt,layer:mt,plotinfo:Be,transFn:lr,labelFns:ce.makeLabelFns(ee,Rt)})}),ee.type==="multicategory"){var Ga={x:2,y:10}[tt];ca.push(function(){var kr={x:"height",y:"width"}[tt],aa=St()[kr]+Ga+(ee._tickAngles[qe+"tick"]?ee.tickfont.size*le:0);return ce.drawLabels(ne,ee,{vals:Ie(ee,Yt),layer:mt,cls:qe+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Ft,labelFns:ce.makeLabelFns(ee,Rt+aa*Ar[4])})}),ca.push(function(){return ee._depth=Ar[4]*(St("tick2")[ee.side]-Rt),vt(ne,ee,{vals:yr,layer:mt,path:ce.makeTickPath(ee,Rt,Ar[4],{len:ee._depth}),transFn:Ft})})}else ee.title.hasOwnProperty("standoff")&&ca.push(function(){ee._depth=Ar[4]*(St()[ee.side]-Rt)});var Fa=i.getComponentMethod("rangeslider","isVisible")(ee);return!ze.skipTitle&&!(Fa&&ee.side==="bottom")&&ca.push(function(){return zt(ne,ee)}),ca.push(function(){var kr=ee.side.charAt(0),aa=ye[ee.side].charAt(0),Qr=ce.getPxPosition(ne,ee),$r=ir?ee.ticklen:0,Dr,Nr,va,za;(ee.automargin||Fa||ee._shiftPusher)&&(ee.type==="multicategory"?Dr=St("tick2"):(Dr=St(),tt==="x"&&kr==="b"&&(ee._depth=Math.max(Dr.width>0?Dr.bottom-Qr:0,$r))));var ya=0,Ia=0;if(ee._shiftPusher&&(ya=Math.max($r,Dr.height>0?kr==="l"?Qr-Dr.left:Dr.right-Qr:0),ee.title.text!==Ye._dfltTitle[tt]&&(Ia=(ee._titleStandoff||0)+(ee._titleScoot||0),kr==="l"&&(Ia+=xt(ee))),ee._fullDepth=Math.max(ya,Ia)),ee.automargin){Nr={x:0,y:0,r:0,l:0,t:0,b:0};var la=[0,1],Ma=typeof ee._shift=="number"?ee._shift:0;if(tt==="x"){if(kr==="b"?Nr[kr]=ee._depth:(Nr[kr]=ee._depth=Math.max(Dr.width>0?Qr-Dr.top:0,$r),la.reverse()),Dr.width>0){var ka=Dr.right-(ee._offset+ee._length);ka>0&&(Nr.xr=1,Nr.r=ka);var Aa=ee._offset-Dr.left;Aa>0&&(Nr.xl=0,Nr.l=Aa)}}else if(kr==="l"?(ee._depth=Math.max(Dr.height>0?Qr-Dr.left:0,$r),Nr[kr]=ee._depth-Ma):(ee._depth=Math.max(Dr.height>0?Dr.right-Qr:0,$r),Nr[kr]=ee._depth+Ma,la.reverse()),Dr.height>0){var pa=Dr.bottom-(ee._offset+ee._length);pa>0&&(Nr.yb=0,Nr.b=pa);var ga=ee._offset-Dr.top;ga>0&&(Nr.yt=1,Nr.t=ga)}Nr[ut]=ee.anchor==="free"?ee.position:ee._anchorAxis.domain[la[0]],ee.title.text!==Ye._dfltTitle[tt]&&(Nr[kr]+=xt(ee)+(ee.title.standoff||0)),ee.mirror&&ee.anchor!=="free"&&(va={x:0,y:0,r:0,l:0,t:0,b:0},va[aa]=ee.linewidth,ee.mirror&&ee.mirror!==!0&&(va[aa]+=$r),ee.mirror===!0||ee.mirror==="ticks"?va[ut]=ee._anchorAxis.domain[la[1]]:(ee.mirror==="all"||ee.mirror==="allticks")&&(va[ut]=[ee._counterDomainMin,ee._counterDomainMax][la[1]]))}Fa&&(za=i.getComponentMethod("rangeslider","autoMarginOpts")(ne,ee)),typeof ee.automargin=="string"&&(Me(Nr,ee.automargin),Me(va,ee.automargin)),l.autoMargin(ne,Ct(ee),Nr),l.autoMargin(ne,Dt(ee),va),l.autoMargin(ne,_t(ee),za)}),r.syncOrAsync(ca)}};function Me(ne,ee){if(ne){var ze=Object.keys(V).reduce(function(Fe,Ue){return ee.indexOf(Ue)!==-1&&V[Ue].forEach(function(Ze){Fe[Ze]=1}),Fe},{});Object.keys(ne).forEach(function(Fe){ze[Fe]||(Fe.length===1?ne[Fe]=0:delete ne[Fe])})}}function Ge(ne,ee){var ze=[],Fe,Ue=function(Ze,Xe){var Be=Ze.xbnd[Xe];Be!==null&&ze.push(r.extendFlat({},Ze,{x:Be}))};if(ee.length){for(Fe=0;Fe<ee.length;Fe++)Ue(ee[Fe],0);Ue(ee[Fe-1],1)}return ze}function Ie(ne,ee){for(var ze=[],Fe={},Ue=0;Ue<ee.length;Ue++){var Ze=ee[Ue];Fe[Ze.text2]?Fe[Ze.text2].push(Ze.x):Fe[Ze.text2]=[Ze.x]}for(var Xe in Fe)ze.push(Pt(ne,r.interp(Fe[Xe],.5),Xe));return ze}function _e(ne,ee){var ze=[],Fe,Ue,Ze=ee.length&&ee[ee.length-1].x<ee[0].x,Xe=function(Ye,qe){var tt=Ye.xbnd[qe];tt!==null&&ze.push(r.extendFlat({},Ye,{x:tt}))};if(ne.showdividers&&ee.length){for(Fe=0;Fe<ee.length;Fe++){var Be=ee[Fe];Be.text2!==Ue&&Xe(Be,Ze?1:0),Ue=Be.text2}Xe(ee[Fe-1],Ze?0:1)}return ze}function Je(ne,ee){var ze,Fe,Ue,Ze;return ne._selections[ee].size()?(ze=1/0,Fe=-1/0,Ue=1/0,Ze=-1/0,ne._selections[ee].each(function(){var Xe=Gt(this),Be=d.bBox(Xe.node().parentNode);ze=Math.min(ze,Be.top),Fe=Math.max(Fe,Be.bottom),Ue=Math.min(Ue,Be.left),Ze=Math.max(Ze,Be.right)})):(ze=0,Fe=0,Ue=0,Ze=0),{top:ze,bottom:Fe,left:Ue,right:Ze,height:Fe-ze,width:Ze-Ue}}ce.getTickSigns=function(ne,ee){var ze=ne._id.charAt(0),Fe={x:"top",y:"right"}[ze],Ue=ne.side===Fe?1:-1,Ze=[-1,1,Ue,-Ue],Xe=ee?(ne.minor||{}).ticks:ne.ticks;return Xe!=="inside"==(ze==="x")&&(Ze=Ze.map(function(Be){return-Be})),ne.side&&Ze.push({l:-1,t:-1,r:1,b:1}[ne.side.charAt(0)]),Ze},ce.makeTransTickFn=function(ne){return ne._id.charAt(0)==="x"?function(ee){return f(ne._offset+ne.l2p(ee.x),0)}:function(ee){return f(0,ne._offset+ne.l2p(ee.x))}},ce.makeTransTickLabelFn=function(ne){var ee=Oe(ne),ze=ee[0],Fe=ee[1];return ne._id.charAt(0)==="x"?function(Ue){return f(ze+ne._offset+ne.l2p(Qe(Ue)),Fe)}:function(Ue){return f(Fe,ze+ne._offset+ne.l2p(Qe(Ue)))}};function Qe(ne){return ne.periodX!==void 0?ne.periodX:ne.x}function Oe(ne){var ee=ne.ticklabelposition||"",ze=function(Tt){return ee.indexOf(Tt)!==-1},Fe=ze("top"),Ue=ze("left"),Ze=ze("right"),Xe=ze("bottom"),Be=ze("inside"),Ye=Xe||Ue||Fe||Ze;if(!Ye&&!Be)return[0,0];var qe=ne.side,tt=Ye?(ne.tickwidth||0)/2:0,ut=Se,rt=ne.tickfont?ne.tickfont.size:12;return(Xe||Fe)&&(tt+=rt*ue,ut+=(ne.linewidth||0)/2),(Ue||Ze)&&(tt+=(ne.linewidth||0)/2,ut+=Se),Be&&qe==="top"&&(ut-=rt*(1-ue)),(Ue||Fe)&&(tt=-tt),(qe==="bottom"||qe==="right")&&(ut=-ut),[Ye?tt:0,Be?ut:0]}ce.makeTickPath=function(ne,ee,ze,Fe){Fe||(Fe={});var Ue=Fe.minor;if(Ue&&!ne.minor)return"";var Ze=Fe.len!==void 0?Fe.len:Ue?ne.minor.ticklen:ne.ticklen,Xe=ne._id.charAt(0),Be=(ne.linewidth||1)/2;return Xe==="x"?"M0,"+(ee+Be*ze)+"v"+Ze*ze:"M"+(ee+Be*ze)+",0h"+Ze*ze},ce.makeLabelFns=function(ne,ee,ze){var Fe=ne.ticklabelposition||"",Ue=function(fr){return Fe.indexOf(fr)!==-1},Ze=Ue("top"),Xe=Ue("left"),Be=Ue("right"),Ye=Ue("bottom"),qe=Ye||Xe||Ze||Be,tt=Ue("inside"),ut=Fe==="inside"&&ne.ticks==="inside"||!tt&&ne.ticks==="outside"&&ne.tickson!=="boundaries",rt=0,Tt=0,mt=ut?ne.ticklen:0;if(tt?mt*=-1:qe&&(mt=0),ut&&(rt+=mt,ze)){var ct=r.deg2rad(ze);rt=mt*Math.cos(ct)+1,Tt=mt*Math.sin(ct)}ne.showticklabels&&(ut||ne.showline)&&(rt+=.2*ne.tickfont.size),rt+=(ne.linewidth||1)/2*(tt?-1:1);var Rt={labelStandoff:rt,labelShift:Tt},Mt,Yt,Jt,Qt,St=0,Ft=ne.side,lr=ne._id.charAt(0),rr=ne.tickangle,vr;if(lr==="x")vr=!tt&&Ft==="bottom"||tt&&Ft==="top",Qt=vr?1:-1,tt&&(Qt*=-1),Mt=Tt*Qt,Yt=ee+rt*Qt,Jt=vr?1:-.2,Math.abs(rr)===90&&(tt?Jt+=Q:rr===-90&&Ft==="bottom"?Jt=ue:rr===90&&Ft==="top"?Jt=Q:Jt=.5,St=Q/2*(rr/90)),Rt.xFn=function(fr){return fr.dx+Mt+St*fr.fontSize},Rt.yFn=function(fr){return fr.dy+Yt+fr.fontSize*Jt},Rt.anchorFn=function(fr,hr){if(qe){if(Xe)return"end";if(Be)return"start"}return!x(hr)||hr===0||hr===180?"middle":hr*Qt<0!==tt?"end":"start"},Rt.heightFn=function(fr,hr,yr){return hr<-60||hr>60?-.5*yr:ne.side==="top"!==tt?-yr:0};else if(lr==="y"){if(vr=!tt&&Ft==="left"||tt&&Ft==="right",Qt=vr?1:-1,tt&&(Qt*=-1),Mt=rt,Yt=Tt*Qt,Jt=0,!tt&&Math.abs(rr)===90&&(rr===-90&&Ft==="left"||rr===90&&Ft==="right"?Jt=ue:Jt=.5),tt){var mr=x(rr)?+rr:0;if(mr!==0){var ir=r.deg2rad(mr);St=Math.abs(Math.sin(ir))*ue*Qt,Jt=0}}Rt.xFn=function(fr){return fr.dx+ee-(Mt+fr.fontSize*Jt)*Qt+St*fr.fontSize},Rt.yFn=function(fr){return fr.dy+Yt+fr.fontSize*Q},Rt.anchorFn=function(fr,hr){return x(hr)&&Math.abs(hr)===90?"middle":vr?"end":"start"},Rt.heightFn=function(fr,hr,yr){return ne.side==="right"&&(hr*=-1),hr<-30?-yr:hr<30?-.5*yr:0}}return Rt};function ft(ne){return[ne.text,ne.x,ne.axInfo,ne.font,ne.fontSize,ne.fontColor].join("_")}ce.drawTicks=function(ne,ee,ze){ze=ze||{};var Fe=ee._id+"tick",Ue=[].concat(ee.minor&&ee.minor.ticks?ze.vals.filter(function(Xe){return Xe.minor&&!Xe.noTick}):[]).concat(ee.ticks?ze.vals.filter(function(Xe){return!Xe.minor&&!Xe.noTick}):[]),Ze=ze.layer.selectAll("path."+Fe).data(Ue,ft);Ze.exit().remove(),Ze.enter().append("path").classed(Fe,1).classed("ticks",1).classed("crisp",ze.crisp!==!1).each(function(Xe){return t.stroke(o.select(this),Xe.minor?ee.minor.tickcolor:ee.tickcolor)}).style("stroke-width",function(Xe){return d.crispRound(ne,Xe.minor?ee.minor.tickwidth:ee.tickwidth,1)+"px"}).attr("d",ze.path).style("display",null),Ht(ee,[D]),Ze.attr("transform",ze.transFn)},ce.drawGrid=function(ne,ee,ze){if(ze=ze||{},ee.tickmode!=="sync"){var Fe=ee._id+"grid",Ue=ee.minor&&ee.minor.showgrid,Ze=Ue?ze.vals.filter(function(Mt){return Mt.minor}):[],Xe=ee.showgrid?ze.vals.filter(function(Mt){return!Mt.minor}):[],Be=ze.counterAxis;if(Be&&ce.shouldShowZeroLine(ne,ee,Be))for(var Ye=ee.tickmode==="array",qe=0;qe<Xe.length;qe++){var tt=Xe[qe].x;if(Ye?!tt:Math.abs(tt)<ee.dtick/100)if(Xe=Xe.slice(0,qe).concat(Xe.slice(qe+1)),Ye)qe--;else break}ee._gw=d.crispRound(ne,ee.gridwidth,1);for(var ut=Ue?d.crispRound(ne,ee.minor.gridwidth,1):0,rt=ze.layer,Tt=ze.minorLayer,mt=1;mt>=0;mt--){var ct=mt?rt:Tt;if(ct){var Rt=ct.selectAll("path."+Fe).data(mt?Xe:Ze,ft);Rt.exit().remove(),Rt.enter().append("path").classed(Fe,1).classed("crisp",ze.crisp!==!1),Rt.attr("transform",ze.transFn).attr("d",ze.path).each(function(Mt){return t.stroke(o.select(this),Mt.minor?ee.minor.gridcolor:ee.gridcolor||"#ddd")}).style("stroke-dasharray",function(Mt){return d.dashStyle(Mt.minor?ee.minor.griddash:ee.griddash,Mt.minor?ee.minor.gridwidth:ee.gridwidth)}).style("stroke-width",function(Mt){return(Mt.minor?ut:ee._gw)+"px"}).style("display",null),typeof ze.path=="function"&&Rt.attr("d",ze.path)}}Ht(ee,[ae,N])}},ce.drawZeroLine=function(ne,ee,ze){ze=ze||ze;var Fe=ee._id+"zl",Ue=ce.shouldShowZeroLine(ne,ee,ze.counterAxis),Ze=ze.layer.selectAll("path."+Fe).data(Ue?[{x:0,id:ee._id}]:[]);Ze.exit().remove(),Ze.enter().append("path").classed(Fe,1).classed("zl",1).classed("crisp",ze.crisp!==!1).each(function(){ze.layer.selectAll("path").sort(function(Xe,Be){return P(Xe.id,Be.id)})}),Ze.attr("transform",ze.transFn).attr("d",ze.path).call(t.stroke,ee.zerolinecolor||t.defaultLine).style("stroke-width",d.crispRound(ne,ee.zerolinewidth,ee._gw||1)+"px").style("display",null),Ht(ee,[q])},ce.drawLabels=function(ne,ee,ze){ze=ze||{};var Fe=ne._fullLayout,Ue=ee._id,Ze=Ue.charAt(0),Xe=ze.cls||Ue+"tick",Be=ze.vals.filter(function(Qt){return Qt.text}),Ye=ze.labelFns,qe=ze.secondary?0:ee.tickangle,tt=(ee._prevTickAngles||{})[Xe],ut=ze.layer.selectAll("g."+Xe).data(ee.showticklabels?Be:[],ft),rt=[];ut.enter().append("g").classed(Xe,1).append("text").attr("text-anchor","middle").each(function(Qt){var St=o.select(this),Ft=ne._promises.length;St.call(s.positionText,Ye.xFn(Qt),Ye.yFn(Qt)).call(d.font,Qt.font,Qt.fontSize,Qt.fontColor).text(Qt.text).call(s.convertToTspans,ne),ne._promises[Ft]?rt.push(ne._promises.pop().then(function(){Tt(St,qe)})):Tt(St,qe)}),Ht(ee,[_]),ut.exit().remove(),ze.repositionOnUpdate&&ut.each(function(Qt){o.select(this).select("text").call(s.positionText,Ye.xFn(Qt),Ye.yFn(Qt))});function Tt(Qt,St){Qt.each(function(Ft){var lr=o.select(this),rr=lr.select(".text-math-group"),vr=Ye.anchorFn(Ft,St),mr=ze.transFn.call(lr.node(),Ft)+(x(St)&&+St!=0?" rotate("+St+","+Ye.xFn(Ft)+","+(Ye.yFn(Ft)-Ft.fontSize/2)+")":""),ir=s.lineCount(lr),fr=le*Ft.fontSize,hr=Ye.heightFn(Ft,x(St)?+St:0,(ir-1)*fr);if(hr&&(mr+=f(0,hr)),rr.empty()){var yr=lr.select("text");yr.attr({transform:mr,"text-anchor":vr}),yr.style("opacity",1),ee._adjustTickLabelsOverflow&&ee._adjustTickLabelsOverflow()}else{var br=d.bBox(rr.node()).width,wr=br*{end:-.5,start:.5}[vr];rr.attr("transform",mr+f(wr,0))}})}ee._adjustTickLabelsOverflow=function(){var Qt=ee.ticklabeloverflow;if(!(!Qt||Qt==="allow")){var St=Qt.indexOf("hide")!==-1,Ft=ee._id.charAt(0)==="x",lr=0,rr=Ft?ne._fullLayout.width:ne._fullLayout.height;if(Qt.indexOf("domain")!==-1){var vr=r.simpleMap(ee.range,ee.r2l);lr=ee.l2p(vr[0])+ee._offset,rr=ee.l2p(vr[1])+ee._offset}var mr=Math.min(lr,rr),ir=Math.max(lr,rr),fr=ee.side,hr=1/0,yr=-1/0;ut.each(function(Ur){var _r=o.select(this),Gr=_r.select(".text-math-group");if(Gr.empty()){var Ar=d.bBox(_r.node()),Er=0;Ft?(Ar.right>ir||Ar.left<mr)&&(Er=1):(Ar.bottom>ir||Ar.top+(ee.tickangle?0:Ur.fontSize/4)<mr)&&(Er=1);var Fr=_r.select("text");Er?St&&Fr.style("opacity",0):(Fr.style("opacity",1),fr==="bottom"||fr==="right"?hr=Math.min(hr,Ft?Ar.top:Ar.left):hr=-1/0,fr==="top"||fr==="left"?yr=Math.max(yr,Ft?Ar.bottom:Ar.right):yr=1/0)}});for(var br in Fe._plots){var wr=Fe._plots[br];if(!(ee._id!==wr.xaxis._id&&ee._id!==wr.yaxis._id)){var Mr=Ft?wr.yaxis:wr.xaxis;Mr&&(Mr["_visibleLabelMin_"+ee._id]=hr,Mr["_visibleLabelMax_"+ee._id]=yr)}}}},ee._hideCounterAxisInsideTickLabels=function(Qt){var St=ee._id.charAt(0)==="x",Ft=[];for(var lr in Fe._plots){var rr=Fe._plots[lr];ee._id!==rr.xaxis._id&&ee._id!==rr.yaxis._id||Ft.push(St?rr.yaxis:rr.xaxis)}Ft.forEach(function(vr,mr){vr&&nr(vr)&&(Qt||[q,N,ae,D,_]).forEach(function(ir){var fr=ir.K==="tick"&&ir.L==="text"&&ee.ticklabelmode==="period",hr=Fe._plots[ee._mainSubplot],yr;ir.K===q.K?yr=hr.zerolinelayer.selectAll("."+ee._id+"zl"):ir.K===N.K?yr=hr.minorGridlayer.selectAll("."+ee._id):ir.K===ae.K?yr=hr.gridlayer.selectAll("."+ee._id):yr=hr[ee._id.charAt(0)+"axislayer"],yr.each(function(){var br=o.select(this);ir.L&&(br=br.selectAll(ir.L)),br.each(function(wr){var Mr=ee.l2p(fr?Qe(wr):wr.x)+ee._offset,Ur=o.select(this);Mr<ee["_visibleLabelMax_"+vr._id]&&Mr>ee["_visibleLabelMin_"+vr._id]?Ur.style("display","none"):ir.K==="tick"&&!mr&&Ur.style("display",null)})})})})},Tt(ut,tt+1?tt:qe);function mt(){return rt.length&&Promise.all(rt)}var ct=null;function Rt(){if(Tt(ut,qe),Be.length&&Ze==="x"&&!x(qe)&&(ee.type!=="log"||String(ee.dtick).charAt(0)!=="D")){ct=0;var Qt=0,St=[],Ft;if(ut.each(function(Ar){Qt=Math.max(Qt,Ar.fontSize);var Er=ee.l2p(Ar.x),Fr=Gt(this),Tr=d.bBox(Fr.node());St.push({top:0,bottom:10,height:10,left:Er-Tr.width/2,right:Er+Tr.width/2+2,width:Tr.width+2})}),(ee.tickson==="boundaries"||ee.showdividers)&&!ze.secondary){var lr=2;for(ee.ticks&&(lr+=ee.tickwidth/2),Ft=0;Ft<St.length;Ft++){var rr=Be[Ft].xbnd,vr=St[Ft];if(rr[0]!==null&&vr.left-ee.l2p(rr[0])<lr||rr[1]!==null&&ee.l2p(rr[1])-vr.right<lr){ct=90;break}}}else{var mr=Be.length,ir=Math.abs((Be[mr-1].x-Be[0].x)*ee._m)/(mr-1),fr=ee.ticklabelposition||"",hr=function(Ar){return fr.indexOf(Ar)!==-1},yr=hr("top"),br=hr("left"),wr=hr("right"),Mr=hr("bottom"),Ur=Mr||br||yr||wr,_r=Ur?(ee.tickwidth||0)+2*Se:0,Gr=ir<Qt*2.5||ee.type==="multicategory"||ee._name==="realaxis";for(Ft=0;Ft<St.length-1;Ft++)if(r.bBoxIntersect(St[Ft],St[Ft+1],_r)){ct=Gr?90:30;break}}ct&&Tt(ut,ct)}}ee._selections&&(ee._selections[Xe]=ut);var Mt=[mt];ee.automargin&&Fe._redrawFromAutoMarginCount&&tt===90?(ct=90,Mt.push(function(){Tt(ut,tt)})):Mt.push(Rt),ee._tickAngles&&Mt.push(function(){ee._tickAngles[Xe]=ct===null?x(qe)?qe:0:ct});var Yt=ee._anchorAxis;Yt&&Yt.autorange&&nr(ee)&&!k(Fe,ee._id)&&(Fe._insideTickLabelsAutorange||(Fe._insideTickLabelsAutorange={}),Fe._insideTickLabelsAutorange[Yt._name+".autorange"]=Yt.autorange,Mt.push(function(){ut.each(function(St,Ft){var lr=Gt(this),rr=lr.select(".text-math-group");rr.empty()&&(ee._vals[Ft].bb=d.bBox(lr.node()))})}));var Jt=r.syncOrAsync(Mt);return Jt&&Jt.then&&ne._promises.push(Jt),Jt};function vt(ne,ee,ze){var Fe=ee._id+"divider",Ue=ze.vals,Ze=ze.layer.selectAll("path."+Fe).data(Ue,ft);Ze.exit().remove(),Ze.enter().insert("path",":first-child").classed(Fe,1).classed("crisp",1).call(t.stroke,ee.dividercolor).style("stroke-width",d.crispRound(ne,ee.dividerwidth,1)+"px"),Ze.attr("transform",ze.transFn).attr("d",ze.path)}ce.getPxPosition=function(ne,ee){var ze=ne._fullLayout._size,Fe=ee._id.charAt(0),Ue=ee.side,Ze;if(ee.anchor!=="free"?Ze=ee._anchorAxis:Fe==="x"?Ze={_offset:ze.t+(1-(ee.position||0))*ze.h,_length:0}:Fe==="y"&&(Ze={_offset:ze.l+(ee.position||0)*ze.w+ee._shift,_length:0}),Ue==="top"||Ue==="left")return Ze._offset;if(Ue==="bottom"||Ue==="right")return Ze._offset+Ze._length};function xt(ne){var ee=ne.title.font.size,ze=(ne.title.text.match(s.BR_TAG_ALL)||[]).length;return ne.title.hasOwnProperty("standoff")?ze?ee*(ue+ze*le):ee*ue:ze?ee*(ze+1)*le:ee}function zt(ne,ee){var ze=ne._fullLayout,Fe=ee._id,Ue=Fe.charAt(0),Ze=ee.title.font.size,Xe;if(ee.title.hasOwnProperty("standoff"))Xe=ee._depth+ee.title.standoff+xt(ee);else{var Be=nr(ee);if(ee.type==="multicategory")Xe=ee._depth;else{var Ye=1.5*Ze;Be&&(Ye=.5*Ze,ee.ticks==="outside"&&(Ye+=ee.ticklen)),Xe=10+Ye+(ee.linewidth?ee.linewidth-1:0)}Be||(Ue==="x"?Xe+=ee.side==="top"?Ze*(ee.showticklabels?1:0):Ze*(ee.showticklabels?1.5:.5):Xe+=ee.side==="right"?Ze*(ee.showticklabels?1:.5):Ze*(ee.showticklabels?.5:0))}var qe=ce.getPxPosition(ne,ee),tt,ut,rt;Ue==="x"?(ut=ee._offset+ee._length/2,rt=ee.side==="top"?qe-Xe:qe+Xe):(rt=ee._offset+ee._length/2,ut=ee.side==="right"?qe+Xe:qe-Xe,tt={rotate:"-90",offset:0});var Tt;if(ee.type!=="multicategory"){var mt=ee._selections[ee._id+"tick"];if(Tt={selection:mt,side:ee.side},mt&&mt.node()&&mt.node().parentNode){var ct=d.getTranslate(mt.node().parentNode);Tt.offsetLeft=ct.x,Tt.offsetTop=ct.y}ee.title.hasOwnProperty("standoff")&&(Tt.pad=0)}return ee._titleStandoff=Xe,n.draw(ne,Fe+"title",{propContainer:ee,propName:ee._name+".title.text",placeholder:ze._dfltTitle[Ue],avoid:Tt,transform:tt,attributes:{x:ut,y:rt,"text-anchor":"middle"}})}ce.shouldShowZeroLine=function(ne,ee,ze){var Fe=r.simpleMap(ee.range,ee.r2l);return Fe[0]*Fe[1]<=0&&ee.zeroline&&(ee.type==="linear"||ee.type==="-")&&!(ee.rangebreaks&&ee.maskBreaks(0)===te)&&(Vt(ee,0)||!Ut(ne,ee,ze,Fe)||Nt(ne,ee))},ce.clipEnds=function(ne,ee){return ee.filter(function(ze){return Vt(ne,ze.x)})};function Vt(ne,ee){var ze=ne.l2p(ee);return ze>1&&ze<ne._length-1}function Ut(ne,ee,ze,Fe){var Ue=ze._mainAxis;if(!Ue)return;var Ze=ne._fullLayout,Xe=ee._id.charAt(0),Be=ce.counterLetter(ee._id),Ye=ee._offset+(Math.abs(Fe[0])<Math.abs(Fe[1])==(Xe==="x")?0:ee._length);function qe(mt){if(!mt.showline||!mt.linewidth)return!1;var ct=Math.max((mt.linewidth+ee.zerolinewidth)/2,1);function Rt(Jt){return typeof Jt=="number"&&Math.abs(Jt-Ye)<ct}if(Rt(mt._mainLinePosition)||Rt(mt._mainMirrorPosition))return!0;var Mt=mt._linepositions||{};for(var Yt in Mt)if(Rt(Mt[Yt][0])||Rt(Mt[Yt][1]))return!0}var tt=Ze._plots[ze._mainSubplot];if(!(tt.mainplotinfo||tt).overlays.length)return qe(ze);for(var ut=ce.list(ne,Be),rt=0;rt<ut.length;rt++){var Tt=ut[rt];if(Tt._mainAxis===Ue&&qe(Tt))return!0}}function Nt(ne,ee){for(var ze=ne._fullData,Fe=ee._mainSubplot,Ue=ee._id.charAt(0),Ze=0;Ze<ze.length;Ze++){var Xe=ze[Ze];if(Xe.visible===!0&&Xe.xaxis+Xe.yaxis===Fe&&(i.traceIs(Xe,"bar-like")&&Xe.orientation==={x:"h",y:"v"}[Ue]||Xe.fill&&Xe.fill.charAt(Xe.fill.length-1)===Ue))return!0}return!1}function Gt(ne){var ee=o.select(ne),ze=ee.select(".text-math-group");return ze.empty()?ee.select("text"):ze}ce.allowAutoMargin=function(ne){for(var ee=ce.list(ne,"",!0),ze=0;ze<ee.length;ze++){var Fe=ee[ze];Fe.automargin&&(l.allowAutoMargin(ne,Ct(Fe)),Fe.mirror&&l.allowAutoMargin(ne,Dt(Fe))),i.getComponentMethod("rangeslider","isVisible")(Fe)&&l.allowAutoMargin(ne,_t(Fe))}};function Ct(ne){return ne._id+".automargin"}function Dt(ne){return Ct(ne)+".mirror"}function _t(ne){return ne._id+".rangeslider"}ce.swap=function(ne,ee){for(var ze=Wt(ne,ee),Fe=0;Fe<ze.length;Fe++)It(ne,ze[Fe].x,ze[Fe].y)};function Wt(ne,ee){var ze=[],Fe,Ue;for(Fe=0;Fe<ee.length;Fe++){var Ze=[],Xe=ne._fullData[ee[Fe]].xaxis,Be=ne._fullData[ee[Fe]].yaxis;if(!(!Xe||!Be)){for(Ue=0;Ue<ze.length;Ue++)(ze[Ue].x.indexOf(Xe)!==-1||ze[Ue].y.indexOf(Be)!==-1)&&Ze.push(Ue);if(!Ze.length){ze.push({x:[Xe],y:[Be]});continue}var Ye=ze[Ze[0]],qe;if(Ze.length>1)for(Ue=1;Ue<Ze.length;Ue++)qe=ze[Ze[Ue]],Bt(Ye.x,qe.x),Bt(Ye.y,qe.y);Bt(Ye.x,[Xe]),Bt(Ye.y,[Be])}}return ze}function Bt(ne,ee){for(var ze=0;ze<ee.length;ze++)ne.indexOf(ee[ze])===-1&&ne.push(ee[ze])}function It(ne,ee,ze){var Fe=[],Ue=[],Ze=ne.layout,Xe,Be;for(Xe=0;Xe<ee.length;Xe++)Fe.push(ce.getFromId(ne,ee[Xe]));for(Xe=0;Xe<ze.length;Xe++)Ue.push(ce.getFromId(ne,ze[Xe]));var Ye=Object.keys(p),qe=["anchor","domain","overlaying","position","side","tickangle","editType"],tt=["linear","log"];for(Xe=0;Xe<Ye.length;Xe++){var ut=Ye[Xe],rt=Fe[0][ut],Tt=Ue[0][ut],mt=!0,ct=!1,Rt=!1;if(!(ut.charAt(0)==="_"||typeof rt=="function"||qe.indexOf(ut)!==-1)){for(Be=1;Be<Fe.length&&mt;Be++){var Mt=Fe[Be][ut];ut==="type"&&tt.indexOf(rt)!==-1&&tt.indexOf(Mt)!==-1&&rt!==Mt?ct=!0:Mt!==rt&&(mt=!1)}for(Be=1;Be<Ue.length&&mt;Be++){var Yt=Ue[Be][ut];ut==="type"&&tt.indexOf(Tt)!==-1&&tt.indexOf(Yt)!==-1&&Tt!==Yt?Rt=!0:Ue[Be][ut]!==Tt&&(mt=!1)}mt&&(ct&&(Ze[Fe[0]._name].type="linear"),Rt&&(Ze[Ue[0]._name].type="linear"),it(Ze,ut,Fe,Ue,ne._fullLayout._dfltTitle))}}for(Xe=0;Xe<ne._fullLayout.annotations.length;Xe++){var Jt=ne._fullLayout.annotations[Xe];ee.indexOf(Jt.xref)!==-1&&ze.indexOf(Jt.yref)!==-1&&r.swapAttrs(Ze.annotations[Xe],["?"])}}function it(ne,ee,ze,Fe,Ue){var Ze=r.nestedProperty,Xe=Ze(ne[ze[0]._name],ee).get(),Be=Ze(ne[Fe[0]._name],ee).get(),Ye;for(ee==="title"&&(Xe&&Xe.text===Ue.x&&(Xe.text=Ue.y),Be&&Be.text===Ue.y&&(Be.text=Ue.x)),Ye=0;Ye<ze.length;Ye++)Ze(ne,ze[Ye]._name+"."+ee).set(Be);for(Ye=0;Ye<Fe.length;Ye++)Ze(ne,Fe[Ye]._name+"."+ee).set(Xe)}function Ot(ne){return ne._id==="angularaxis"}function Xt(ne,ee){for(var ze=ee._rangebreaks.length,Fe=0;Fe<ze;Fe++){var Ue=ee._rangebreaks[Fe];if(ne>=Ue.min&&ne<Ue.max)return Ue.max}return ne}function nr(ne){return(ne.ticklabelposition||"").indexOf("inside")!==-1}function Ht(ne,ee){nr(ne._anchorAxis||{})&&ne._hideCounterAxisInsideTickLabels&&ne._hideCounterAxisInsideTickLabels(ee)}function tr(ne,ee,ze,Fe){var Ue=ne.anchor!=="free"&&(ne.overlaying===void 0||ne.overlaying===!1)?ne._id:ne.overlaying,Ze;Fe?Ze=ne.side==="right"?ee:-ee:Ze=ee,Ue in ze||(ze[Ue]={}),ne.side in ze[Ue]||(ze[Ue][ne.side]=0),ze[Ue][ne.side]+=Ze}function or(ne,ee){return ne.autoshift?ee[ne.overlaying][ne.side]:ne.shift||0}},4322:function(re,H,e){var o=e(2770),x=e(1828),l=e(606).BADNUM,i=x.isArrayOrTypedArray,r=x.isDateTime,f=x.cleanNumber,s=Math.round;re.exports=function(T,g,M){var v=T,c=M.noMultiCategory;if(i(v)&&!v.length)return"-";if(!c&&y(v))return"multicategory";if(c&&Array.isArray(v[0])){for(var u=[],b=0;b<v.length;b++)if(i(v[b]))for(var w=0;w<v[b].length;w++)u.push(v[b][w]);v=u}if(d(v,g))return"date";var B=M.autotypenumbers!=="strict";return m(v,B)?"category":t(v,B)?"linear":"-"};function n(h,T){return T?o(h):typeof h=="number"}function t(h,T){for(var g=h.length,M=0;M<g;M++)if(n(h[M],T))return!0;return!1}function d(h,T){for(var g=h.length,M=p(g),v=0,c=0,u={},b=0;b<g;b+=M){var w=s(b),B=h[w],C=String(B);u[C]||(u[C]=1,r(B,T)&&v++,o(B)&&c++)}return v>c*2}function p(h){return Math.max(1,(h-1)/1e3)}function m(h,T){for(var g=h.length,M=p(g),v=0,c=0,u={},b=0;b<g;b+=M){var w=s(b),B=h[w],C=String(B);if(!u[C]){u[C]=1;var I=typeof B;I==="boolean"?c++:(T?f(B)!==l:I==="number")?v++:I==="string"&&c++}}return c>v*2}function y(h){return i(h[0])&&i(h[1])}},1453:function(re,H,e){var o=e(2770),x=e(3972),l=e(1828),i=e(4467),r=e(5501),f=e(3838),s=e(6218),n=e(8701),t=e(6115),d=e(9426),p=e(5258),m=e(2128),y=e(1994),h=e(5555).WEEKDAY_PATTERN,T=e(5555).HOUR_PATTERN;re.exports=function(u,b,w,B,C){var I=B.letter,O=B.font||{},L=B.splomStash||{},X=w("visible",!B.visibleDflt),Z=b._template||{},te=b.type||Z.type||"-",q;if(te==="date"){var ae=x.getComponentMethod("calendars","handleDefaults");ae(u,b,"calendar",B.calendar),B.noTicklabelmode||(q=w("ticklabelmode"))}var N="";(!B.noTicklabelposition||te==="multicategory")&&(N=l.coerce(u,b,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:q==="period"?["outside","inside"]:I==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),B.noTicklabeloverflow||w("ticklabeloverflow",N.indexOf("inside")!==-1?"hide past domain":te==="category"||te==="multicategory"?"allow":"hide past div"),y(b,C);var D=!b.isValidRange(u.range);D&&B.reverseDflt&&(D="reversed");var _=w("autorange",D);_&&(te==="linear"||te==="-")&&w("rangemode"),w("range"),b.cleanRange(),p(u,b,w,B),te!=="category"&&!B.noHover&&w("hoverformat");var V=w("color"),G=V!==f.color.dflt?V:O.color,Q=L.label||C._dfltTitle[I];if(d(u,b,w,te,B),!X)return b;w("title.text",Q),l.coerceFont(w,"title.font",{family:O.family,size:l.bigFont(O.size),color:G}),s(u,b,w,te);var ue=B.hasMinor;if(ue&&(i.newContainer(b,"minor"),s(u,b,w,te,{isMinor:!0})),t(u,b,w,te,B),n(u,b,w,B),ue){var le=B.isMinor;B.isMinor=!0,n(u,b,w,B),B.isMinor=le}m(u,b,w,{dfltColor:V,bgColor:B.bgColor,showGrid:B.showGrid,hasMinor:ue,attributes:f}),ue&&!b.minor.ticks&&!b.minor.showgrid&&delete b.minor,(b.showline||b.ticks)&&w("mirror");var ye=te==="multicategory";if(!B.noTickson&&(te==="category"||ye)&&(b.ticks||b.showgrid)){var Se;ye&&(Se="boundaries");var ce=w("tickson",Se);ce==="boundaries"&&delete b.ticklabelposition}if(ye){var de=w("showdividers");de&&(w("dividercolor"),w("dividerwidth"))}if(te==="date")if(r(u,b,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:g}),!b.rangebreaks.length)delete b.rangebreaks;else{for(var S=0;S<b.rangebreaks.length;S++)if(b.rangebreaks[S].pattern===h){b._hasDayOfWeekBreaks=!0;break}if(y(b,C),C._has("scattergl")||C._has("splom"))for(var P=0;P<B.data.length;P++){var k=B.data[P];(k.type==="scattergl"||k.type==="splom")&&(k.visible=!1,l.warn(k.type+" traces do not work on axes with rangebreaks. Setting trace "+k.index+" to `visible: false`."))}}return b};function g(c,u,b){function w(q,ae){return l.coerce(c,u,f.rangebreaks,q,ae)}var B=w("enabled");if(B){var C=w("bounds");if(C&&C.length>=2){var I="",O,L;if(C.length===2){for(O=0;O<2;O++)if(L=v(C[O]),L){I=h;break}}var X=w("pattern",I);if(X===h)for(O=0;O<2;O++)L=v(C[O]),L&&(u.bounds[O]=C[O]=L-1);if(X)for(O=0;O<2;O++)switch(L=C[O],X){case h:if(!o(L)){u.enabled=!1;return}if(L=+L,L!==Math.floor(L)||L<0||L>=7){u.enabled=!1;return}u.bounds[O]=C[O]=L;break;case T:if(!o(L)){u.enabled=!1;return}if(L=+L,L<0||L>24){u.enabled=!1;return}u.bounds[O]=C[O]=L;break}if(b.autorange===!1){var Z=b.range;if(Z[0]<Z[1]){if(C[0]<Z[0]&&C[1]>Z[1]){u.enabled=!1;return}}else if(C[0]>Z[0]&&C[1]<Z[1]){u.enabled=!1;return}}}else{var te=w("values");if(te&&te.length)w("dvalue");else{u.enabled=!1;return}}}}var M={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function v(c){if(typeof c=="string")return M[c.substr(0,3).toLowerCase()]}},2663:function(re,H,e){var o=e(1562),x=o.FORMAT_LINK,l=o.DATE_FORMAT_LINK;function i(s,n){return{valType:"string",dflt:"",editType:"none",description:(n?r:f)("hover text",s)+["By default the values are formatted using "+(n?"generic number format":"`"+s+"axis.hoverformat`")+"."].join(" ")}}function r(s,n){return["Sets the "+s+" formatting rule"+(n?"for `"+n+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+x+"."].join(" ")}function f(s,n){return r(s,n)+[" And for dates see: "+l+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}re.exports={axisHoverFormat:i,descriptionOnlyNumbers:r,descriptionWithDates:f}},1675:function(re,H,e){var o=e(3972),x=e(5555);H.id2name=function(r){if(!(typeof r!="string"||!r.match(x.AX_ID_PATTERN))){var f=r.split(" ")[0].substr(1);return f==="1"&&(f=""),r.charAt(0)+"axis"+f}},H.name2id=function(r){if(r.match(x.AX_NAME_PATTERN)){var f=r.substr(5);return f==="1"&&(f=""),r.charAt(0)+f}},H.cleanId=function(r,f,s){var n=/( domain)$/.test(r);if(!(typeof r!="string"||!r.match(x.AX_ID_PATTERN))&&!(f&&r.charAt(0)!==f)&&!(n&&!s)){var t=r.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),r.charAt(0)+t+(n&&s?" domain":"")}},H.list=function(i,r,f){var s=i._fullLayout;if(!s)return[];var n=H.listIds(i,r),t=new Array(n.length),d;for(d=0;d<n.length;d++){var p=n[d];t[d]=s[p.charAt(0)+"axis"+p.substr(1)]}if(!f){var m=s._subplots.gl3d||[];for(d=0;d<m.length;d++){var y=s[m[d]];r?t.push(y[r+"axis"]):t.push(y.xaxis,y.yaxis,y.zaxis)}}return t},H.listIds=function(i,r){var f=i._fullLayout;if(!f)return[];var s=f._subplots;return r?s[r+"axis"]:s.xaxis.concat(s.yaxis)},H.getFromId=function(i,r,f){var s=i._fullLayout;return r=r===void 0||typeof r!="string"?r:r.replace(" domain",""),f==="x"?r=r.replace(/y[0-9]*/,""):f==="y"&&(r=r.replace(/x[0-9]*/,"")),s[H.id2name(r)]},H.getFromTrace=function(i,r,f){var s=i._fullLayout,n=null;if(o.traceIs(r,"gl3d")){var t=r.scene;t.substr(0,5)==="scene"&&(n=s[t][f+"axis"])}else n=H.getFromId(i,r[f+"axis"]||f);return n},H.idSort=function(i,r){var f=i.charAt(0),s=r.charAt(0);return f!==s?f>s?1:-1:+(i.substr(1)||1)-+(r.substr(1)||1)},H.ref2id=function(i){return/^[xyz]/.test(i)?i.split(" ")[0]:!1};function l(i,r){if(r&&r.length){for(var f=0;f<r.length;f++)if(r[f][i])return!0}return!1}H.isLinked=function(i,r){return l(r,i._axisMatchGroups)||l(r,i._axisConstraintGroups)}},5258:function(re){function H(e,o){var x=o.dataAttr||e._id.charAt(0),l={},i,r,f;if(o.axData)i=o.axData;else for(i=[],r=0;r<o.data.length;r++){var s=o.data[r];s[x+"axis"]===e._id&&i.push(s)}for(r=0;r<i.length;r++){var n=i[r][x];for(f=0;f<n.length;f++){var t=n[f];t!=null&&(l[t]=1)}}return Object.keys(l)}re.exports=function(o,x,l,i){if(x.type==="category"){var r=o.categoryarray,f=Array.isArray(r)&&r.length>0,s;f&&(s="array");var n=l("categoryorder",s),t;n==="array"&&(t=l("categoryarray")),!f&&n==="array"&&(n=x.categoryorder="trace"),n==="trace"?x._initialCategories=[]:n==="array"?x._initialCategories=t.slice():(t=H(x,i).sort(),n==="category ascending"?x._initialCategories=t:n==="category descending"&&(x._initialCategories=t.reverse()))}}},6287:function(re,H,e){var o=e(2770),x=e(1828),l=e(606),i=l.ONEDAY,r=l.ONEWEEK;H.dtick=function(f,s){var n=s==="log",t=s==="date",d=s==="category",p=t?i:1;if(!f)return p;if(o(f))return f=Number(f),f<=0?p:d?Math.max(1,Math.round(f)):t?Math.max(.1,f):f;if(typeof f!="string"||!(t||n))return p;var m=f.charAt(0),y=f.substr(1);return y=o(y)?Number(y):0,y<=0||!(t&&m==="M"&&y===Math.round(y)||n&&m==="L"||n&&m==="D"&&(y===1||y===2))?p:f},H.tick0=function(f,s,n,t){if(s==="date")return x.cleanDate(f,x.dateTick0(n,t%r===0?1:0));if(!(t==="D1"||t==="D2"))return o(f)?Number(f):0}},5555:function(re,H,e){var o=e(587).counter;re.exports={idRegex:{x:o("x","( domain)?"),y:o("y","( domain)?")},attrRegex:o("[xy]axis"),xAxisMatch:o("xaxis"),yAxisMatch:o("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},9082:function(re,H,e){var o=e(1828),x=e(1739),l=e(1675).id2name,i=e(3838),r=e(2449),f=e(1994),s=e(606).ALMOST_EQUAL,n=e(8783).FROM_BL;H.handleDefaults=function(g,M,v){var c=v.axIds,u=v.axHasImage,b=M._axisConstraintGroups=[],w=M._axisMatchGroups=[],B,C,I,O,L,X,Z,te;for(B=0;B<c.length;B++)O=l(c[B]),L=g[O],X=M[O],t(L,X,{axIds:c,layoutOut:M,hasImage:u[O]});function q(le,ye){for(B=0;B<le.length;B++){C=le[B];for(I in C)M[l(I)][ye]=C}}for(q(w,"_matchGroup"),B=0;B<b.length;B++){C=b[B];for(I in C)if(X=M[l(I)],X.fixedrange){for(var ae in C){var N=l(ae);(g[N]||{}).fixedrange===!1&&o.warn("fixedrange was specified as false for axis "+N+" but was overridden because another axis in its constraint group has fixedrange true"),M[N].fixedrange=!0}break}}for(B=0;B<b.length;){C=b[B];for(I in C){X=M[l(I)],X._matchGroup&&Object.keys(X._matchGroup).length===Object.keys(C).length&&(b.splice(B,1),B--);break}B++}q(b,"_constraintGroup");var D=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],_=!1,V=!1;function G(){te=X[Z],Z==="rangebreaks"&&(V=X._hasDayOfWeekBreaks)}for(B=0;B<w.length;B++){C=w[B];for(var Q=0;Q<D.length;Q++){Z=D[Q],te=null;var ue;for(I in C)if(O=l(I),L=g[O],X=M[O],Z in X){if(!X.matches&&(ue=X,Z in L)){G();break}te===null&&Z in L&&G()}if(Z==="range"&&te&&(_=!0),Z==="autorange"&&te===null&&_&&(te=!1),te===null&&Z in ue&&(te=ue[Z]),te!==null)for(I in C)X=M[l(I)],X[Z]=Z==="range"?te.slice():te,Z==="rangebreaks"&&(X._hasDayOfWeekBreaks=V,f(X,M))}}};function t(g,M,v){var c=v.axIds,u=v.layoutOut,b=v.hasImage,w=u._axisConstraintGroups,B=u._axisMatchGroups,C=M._id,I=C.charAt(0),O=((u._splomAxes||{})[I]||{})[C]||{},L=M._id,X=L.charAt(0)==="x";M._matchGroup=null,M._constraintGroup=null;function Z(de,S){return o.coerce(g,M,i,de,S)}Z("constrain",b?"domain":"range"),o.coerce(g,M,{constraintoward:{valType:"enumerated",values:X?["left","center","right"]:["bottom","middle","top"],dflt:X?"center":"middle"}},"constraintoward");var te=M.type,q,ae,N=[];for(q=0;q<c.length;q++)if(ae=c[q],ae!==L){var D=u[l(ae)];D.type===te&&N.push(ae)}var _=p(w,L);if(_){var V=[];for(q=0;q<N.length;q++)ae=N[q],_[ae]||V.push(ae);N=V}var G=N.length,Q,ue;G&&(g.matches||O.matches)&&(Q=o.coerce(g,M,{matches:{valType:"enumerated",values:N,dflt:N.indexOf(O.matches)!==-1?O.matches:void 0}},"matches"));var le=b&&!X?M.anchor:void 0;if(G&&!Q&&(g.scaleanchor||le)&&(ue=o.coerce(g,M,{scaleanchor:{valType:"enumerated",values:N}},"scaleanchor",le)),Q){M._matchGroup=m(B,L,Q,1);var ye=u[l(Q)],Se=d(u,M)/d(u,ye);X!==(Q.charAt(0)==="x")&&(Se=(X?"x":"y")+Se),m(w,L,Q,Se)}else g.matches&&c.indexOf(g.matches)!==-1&&o.warn("ignored "+M._name+'.matches: "'+g.matches+'" to avoid an infinite loop');if(ue){var ce=Z("scaleratio");ce||(ce=M.scaleratio=1),m(w,L,ue,ce)}else g.scaleanchor&&c.indexOf(g.scaleanchor)!==-1&&o.warn("ignored "+M._name+'.scaleanchor: "'+g.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function d(g,M){var v=M.domain;return v||(v=g[l(M.overlaying)].domain),v[1]-v[0]}function p(g,M){for(var v=0;v<g.length;v++)if(g[v][M])return g[v];return null}function m(g,M,v,c){var u,b,w,B,C,I=p(g,M);I===null?(I={},I[M]=1,C=g.length,g.push(I)):C=g.indexOf(I);var O=Object.keys(I);for(u=0;u<g.length;u++)if(w=g[u],u!==C&&w[v]){var L=w[v];for(b=0;b<O.length;b++)B=O[b],w[B]=y(L,y(c,I[B]));g.splice(C,1);return}if(c!==1)for(b=0;b<O.length;b++){var X=O[b];I[X]=y(c,I[X])}I[v]=1}function y(g,M){var v="",c="",u,b;typeof g=="string"&&(v=g.match(/^[xy]*/)[0],u=v.length,g=+g.substr(u)),typeof M=="string"&&(c=M.match(/^[xy]*/)[0],b=c.length,M=+M.substr(b));var w=g*M;return!u&&!b?w:!u||!b||v.charAt(0)===c.charAt(0)?v+c+g*M:u===b?w:(u>b?v.substr(b):c.substr(u))+w}function h(g,M){for(var v=M._size,c=v.h/v.w,u={},b=Object.keys(g),w=0;w<b.length;w++){var B=b[w],C=g[B];if(typeof C=="string"){var I=C.match(/^[xy]*/)[0],O=I.length;C=+C.substr(O);for(var L=I.charAt(0)==="y"?c:1/c,X=0;X<O;X++)C*=L}u[B]=C}return u}H.enforce=function(M){var v=M._fullLayout,c=v._axisConstraintGroups||[],u,b,w,B,C,I,O,L;for(u=0;u<c.length;u++){w=h(c[u],v);var X=Object.keys(w),Z=1/0,te=0,q=1/0,ae={},N={},D=!1;for(b=0;b<X.length;b++)B=X[b],N[B]=C=v[l(B)],C._inputDomain?C.domain=C._inputDomain.slice():C._inputDomain=C.domain.slice(),C._inputRange||(C._inputRange=C.range.slice()),C.setScale(),ae[B]=I=Math.abs(C._m)/w[B],Z=Math.min(Z,I),(C.constrain==="domain"||!C._constraintShrinkable)&&(q=Math.min(q,I)),delete C._constraintShrinkable,te=Math.max(te,I),C.constrain==="domain"&&(D=!0);if(!(Z>s*te&&!D)){for(b=0;b<X.length;b++)if(B=X[b],I=ae[B],C=N[B],O=C.constrain,I!==q||O==="domain")if(L=I/q,O==="range")r(C,L);else{var _=C._inputDomain,V=(C.domain[1]-C.domain[0])/(_[1]-_[0]),G=(C.r2l(C.range[1])-C.r2l(C.range[0]))/(C.r2l(C._inputRange[1])-C.r2l(C._inputRange[0]));if(L/=V,L*G<1){C.domain=C._input.domain=_.slice(),r(C,L);continue}if(G<1&&(C.range=C._input.range=C._inputRange.slice(),L*=G),C.autorange){var Q=C.r2l(C.range[0]),ue=C.r2l(C.range[1]),le=(Q+ue)/2,ye=le,Se=le,ce=Math.abs(ue-le),de=le-ce*L*1.0001,S=le+ce*L*1.0001,P=x.makePadFn(v,C,0),k=x.makePadFn(v,C,1);T(C,L);var z=Math.abs(C._m),Y=x.concatExtremes(M,C),F=Y.min,J=Y.max,E,K;for(K=0;K<F.length;K++)E=F[K].val-P(F[K])/z,E>de&&E<ye&&(ye=E);for(K=0;K<J.length;K++)E=J[K].val+k(J[K])/z,E<S&&E>Se&&(Se=E);var ie=(Se-ye)/(2*ce);L/=ie,ye=C.l2r(ye),Se=C.l2r(Se),C.range=C._input.range=Q<ue?[ye,Se]:[Se,ye]}T(C,L)}}}},H.getAxisGroup=function(M,v){for(var c=M._axisMatchGroups,u=0;u<c.length;u++){var b=c[u];if(b[v])return"g"+u}return v},H.clean=function(M,v){if(v._inputDomain){for(var c=!1,u=v._id,b=M._fullLayout._axisConstraintGroups,w=0;w<b.length;w++)if(b[w][u]){c=!0;break}(!c||v.constrain!=="domain")&&(v._input.domain=v.domain=v._inputDomain,delete v._inputDomain)}};function T(g,M){var v=g._inputDomain,c=n[g.constraintoward],u=v[0]+(v[1]-v[0])*c;g.domain=g._input.domain=[u+(v[0]-u)/M,u+(v[1]-u)/M],g.setScale()}},9323:function(re,H,e){var o=e(9898),x=e(1828),l=x.numberFormat,i=e(4267),r=e(8520),f=e(3972),s=x.strTranslate,n=e(3893),t=e(7901),d=e(1424),p=e(211),m=e(9298),y=e(6964),h=e(8569),T=e(4505),g=T.selectingOrDrawing,M=T.freeMode,v=e(8783).FROM_TL,c=e(3306),u=e(1549).redrawReglTraces,b=e(4875),w=e(1675).getFromId,B=e(7322).prepSelect,C=e(7322).clearOutline,I=e(7322).selectOnClick,O=e(2449),L=e(5555),X=L.MINDRAG,Z=L.MINZOOM,te=!0;function q(E,K,ie,ve,he,Le,ke,se){var ge=E._fullLayout._zoomlayer,be=ke+se==="nsew",Ee=(ke+se).length===1,we,Te,Ne,$e,je,He,st,nt,dt,ht,Pt,bt,At,wt,Lt,kt,Ce,Ae,Pe,$,fe,pe,Me;ie+=K.yaxis._shift;function Ge(){if(we=K.xaxis,Te=K.yaxis,dt=we._length,ht=Te._length,st=we._offset,nt=Te._offset,Ne={},Ne[we._id]=we,$e={},$e[Te._id]=Te,ke&&se)for(var Be=K.overlays,Ye=0;Ye<Be.length;Ye++){var qe=Be[Ye].xaxis;Ne[qe._id]=qe;var tt=Be[Ye].yaxis;$e[tt._id]=tt}je=J(Ne),He=J($e),At=D(je,se),wt=D(He,ke),Lt=!wt&&!At,bt=Y(E,E._fullLayout._axisMatchGroups,Ne,$e),Pt=Y(E,E._fullLayout._axisConstraintGroups,Ne,$e,bt);var ut=Pt.isSubplotConstrained||bt.isSubplotConstrained;kt=se||ut,Ce=ke||ut;var rt=E._fullLayout;Ae=rt._has("scattergl"),Pe=rt._has("splom"),$=rt._has("svg")}Ge();var Ie=ue(wt+At,E._fullLayout.dragmode,be),_e=N(K,ke+se+"drag",Ie,ie,ve,he,Le);if(Lt&&!be)return _e.onmousedown=null,_e.style.pointerEvents="none",_e;var Je={element:_e,gd:E,plotinfo:K};Je.prepFn=function(Be,Ye,qe){var tt=Je.dragmode,ut=E._fullLayout.dragmode;ut!==tt&&(Je.dragmode=ut),Ge(),pe=E._fullLayout._invScaleX,Me=E._fullLayout._invScaleY,Lt||(be?Be.shiftKey?ut==="pan"?ut="zoom":g(ut)||(ut="pan"):Be.ctrlKey&&(ut="pan"):ut="pan"),M(ut)?Je.minDrag=1:Je.minDrag=void 0,g(ut)?(Je.xaxes=je,Je.yaxes=He,B(Be,Ye,qe,Je,ut)):(Je.clickFn=Oe,g(tt)&&Qe(),Lt||(ut==="zoom"?(Je.moveFn=Wt,Je.doneFn=It,Je.minDrag=1,_t(Be,Ye,qe)):ut==="pan"&&(Je.moveFn=tr,Je.doneFn=ze))),E._fullLayout._redrag=function(){var rt=E._dragdata;if(rt&&rt.element===_e){var Tt=E._fullLayout.dragmode;g(Tt)||(Ge(),Fe([0,0,dt,ht]),Je.moveFn(rt.dx,rt.dy))}}};function Qe(){Je.plotinfo.selection=!1,C(E)}function Oe(Be,Ye){var qe=Je.gd;if(qe._fullLayout._activeShapeIndex>=0){qe._fullLayout._deactivateShape(qe);return}var tt=qe._fullLayout.clickmode;if(de(qe),Be===2&&!Ee&&ee(),be)tt.indexOf("select")>-1&&I(Ye,qe,je,He,K.id,Je),tt.indexOf("event")>-1&&p.click(qe,Ye,K.id);else if(Be===1&&Ee){var ut=ke?Te:we,rt=ke==="s"||se==="w"?0:1,Tt=ut._name+".range["+rt+"]",mt=_(ut,rt),ct="left",Rt="middle";if(ut.fixedrange)return;ke?(Rt=ke==="n"?"top":"bottom",ut.side==="right"&&(ct="right")):se==="e"&&(ct="right"),qe._context.showAxisRangeEntryBoxes&&o.select(_e).call(n.makeEditable,{gd:qe,immediate:!0,background:qe._fullLayout.paper_bgcolor,text:String(mt),fill:ut.tickfont?ut.tickfont.color:"#444",horizontalAlign:ct,verticalAlign:Rt}).on("edit",function(Mt){var Yt=ut.d2r(Mt);Yt!==void 0&&f.call("_guiRelayout",qe,Tt,Yt)})}}h.init(Je);var ft,vt,xt,zt,Vt,Ut,Nt,Gt,Ct,Dt;function _t(Be,Ye,qe){var tt=_e.getBoundingClientRect();ft=Ye-tt.left,vt=qe-tt.top,E._fullLayout._calcInverseTransform(E);var ut=x.apply3DTransform(E._fullLayout._invTransform)(ft,vt);ft=ut[0],vt=ut[1],xt={l:ft,r:ft,w:0,t:vt,b:vt,h:0},zt=E._hmpixcount?E._hmlumcount/E._hmpixcount:i(E._fullLayout.plot_bgcolor).getLuminance(),Vt="M0,0H"+dt+"V"+ht+"H0V0",Ut=!1,Nt="xy",Dt=!1,Gt=le(ge,zt,st,nt,Vt),Ct=ye(ge,st,nt)}function Wt(Be,Ye){if(E._transitioningWithDuration)return!1;var qe=Math.max(0,Math.min(dt,pe*Be+ft)),tt=Math.max(0,Math.min(ht,Me*Ye+vt)),ut=Math.abs(qe-ft),rt=Math.abs(tt-vt);xt.l=Math.min(ft,qe),xt.r=Math.max(ft,qe),xt.t=Math.min(vt,tt),xt.b=Math.max(vt,tt);function Tt(){Nt="",xt.r=xt.l,xt.t=xt.b,Ct.attr("d","M0,0Z")}if(Pt.isSubplotConstrained)ut>Z||rt>Z?(Nt="xy",ut/dt>rt/ht?(rt=ut*ht/dt,vt>tt?xt.t=vt-rt:xt.b=vt+rt):(ut=rt*dt/ht,ft>qe?xt.l=ft-ut:xt.r=ft+ut),Ct.attr("d",z(xt))):Tt();else if(bt.isSubplotConstrained)if(ut>Z||rt>Z){Nt="xy";var mt=Math.min(xt.l/dt,(ht-xt.b)/ht),ct=Math.max(xt.r/dt,(ht-xt.t)/ht);xt.l=mt*dt,xt.r=ct*dt,xt.b=(1-mt)*ht,xt.t=(1-ct)*ht,Ct.attr("d",z(xt))}else Tt();else!wt||rt<Math.min(Math.max(ut*.6,X),Z)?ut<X||!At?Tt():(xt.t=0,xt.b=ht,Nt="x",Ct.attr("d",P(xt,vt))):!At||ut<Math.min(rt*.6,Z)?(xt.l=0,xt.r=dt,Nt="y",Ct.attr("d",k(xt,ft))):(Nt="xy",Ct.attr("d",z(xt)));xt.w=xt.r-xt.l,xt.h=xt.b-xt.t,Nt&&(Dt=!0),E._dragged=Dt,Se(Gt,Ct,xt,Vt,Ut,zt),Bt(),E.emit("plotly_relayouting",fe),Ut=!0}function Bt(){fe={},(Nt==="xy"||Nt==="x")&&(V(je,xt.l/dt,xt.r/dt,fe,Pt.xaxes),or("x",fe)),(Nt==="xy"||Nt==="y")&&(V(He,(ht-xt.b)/ht,(ht-xt.t)/ht,fe,Pt.yaxes),or("y",fe))}function It(){Bt(),de(E),ze(),S(E)}var it=[0,0,dt,ht],Ot=null,Xt=L.REDRAWDELAY,nr=K.mainplot?E._fullLayout._plots[K.mainplot]:K;function Ht(Be){if(!E._context._scrollZoom.cartesian&&!E._fullLayout._enablescrollzoom)return;if(Qe(),E._transitioningWithDuration){Be.preventDefault(),Be.stopPropagation();return}Ge(),clearTimeout(Ot);var Ye=-Be.deltaY;if(isFinite(Ye)||(Ye=Be.wheelDelta/10),!isFinite(Ye)){x.log("Did not find wheel motion attributes: ",Be);return}var qe=Math.exp(-Math.min(Math.max(Ye,-20),20)/200),tt=nr.draglayer.select(".nsewdrag").node().getBoundingClientRect(),ut=(Be.clientX-tt.left)/tt.width,rt=(tt.bottom-Be.clientY)/tt.height,Tt;function mt(ct,Rt,Mt){if(ct.fixedrange)return;var Yt=x.simpleMap(ct.range,ct.r2l),Jt=Yt[0]+(Yt[1]-Yt[0])*Rt;function Qt(St){return ct.l2r(Jt+(St-Jt)*Mt)}ct.range=Yt.map(Qt)}if(kt){for(se||(ut=.5),Tt=0;Tt<je.length;Tt++)mt(je[Tt],ut,qe);or("x"),it[2]*=qe,it[0]+=it[2]*ut*(1/qe-1)}if(Ce){for(ke||(rt=.5),Tt=0;Tt<He.length;Tt++)mt(He[Tt],rt,qe);or("y"),it[3]*=qe,it[1]+=it[3]*(1-rt)*(1/qe-1)}Fe(it),ne(),E.emit("plotly_relayouting",fe),Ot=setTimeout(function(){E._fullLayout&&(it=[0,0,dt,ht],ze())},Xt),Be.preventDefault()}ke.length*se.length!==1&&F(_e,Ht);function tr(Be,Ye){if(Be=Be*pe,Ye=Ye*Me,E._transitioningWithDuration)return;if(E._fullLayout._replotting=!0,At==="ew"||wt==="ns"){var qe=At?-Be:0,tt=wt?-Ye:0;if(bt.isSubplotConstrained){if(At&&wt){var ut=(Be/dt-Ye/ht)/2;Be=ut*dt,Ye=-ut*ht,qe=-Be,tt=-Ye}wt?qe=-tt*dt/ht:tt=-qe*ht/dt}At&&(G(je,Be),or("x")),wt&&(G(He,Ye),or("y")),Fe([qe,tt,dt,ht]),ne(),E.emit("plotly_relayouting",fe);return}function rt(Qt,St,Ft){for(var lr=1-St,rr,vr,mr=0;mr<Qt.length;mr++){var ir=Qt[mr];if(!ir.fixedrange){rr=ir,vr=ir._rl[lr]+(ir._rl[St]-ir._rl[lr])/Q(Ft/ir._length);var fr=ir.l2r(vr);fr!==!1&&fr!==void 0&&(ir.range[St]=fr)}}return rr._length*(rr._rl[St]-vr)/(rr._rl[St]-rr._rl[lr])}var Tt=At==="w"==(wt==="n")?1:-1;if(At&&wt&&(Pt.isSubplotConstrained||bt.isSubplotConstrained)){var mt=(Be/dt+Tt*Ye/ht)/2;Be=mt*dt,Ye=Tt*mt*ht}var ct,Rt;if(At==="w"?Be=rt(je,0,Be):At==="e"?Be=rt(je,1,-Be):At||(Be=0),wt==="n"?Ye=rt(He,1,Ye):wt==="s"?Ye=rt(He,0,-Ye):wt||(Ye=0),ct=At==="w"?Be:0,Rt=wt==="n"?Ye:0,Pt.isSubplotConstrained&&!bt.isSubplotConstrained||bt.isSubplotConstrained&&At&&wt&&Tt>0){var Mt;if(bt.isSubplotConstrained||!At&&wt.length===1){for(Mt=0;Mt<je.length;Mt++)je[Mt].range=je[Mt]._r.slice(),O(je[Mt],1-Ye/ht);Be=Ye*dt/ht,ct=Be/2}if(bt.isSubplotConstrained||!wt&&At.length===1){for(Mt=0;Mt<He.length;Mt++)He[Mt].range=He[Mt]._r.slice(),O(He[Mt],1-Be/dt);Ye=Be*ht/dt,Rt=Ye/2}}(!bt.isSubplotConstrained||!wt)&&or("x"),(!bt.isSubplotConstrained||!At)&&or("y");var Yt=dt-Be,Jt=ht-Ye;bt.isSubplotConstrained&&!(At&&wt)&&(At?(Rt=ct?0:Be*ht/dt,Jt=Yt*ht/dt):(ct=Rt?0:Ye*dt/ht,Yt=Jt*dt/ht)),Fe([ct,Rt,Yt,Jt]),ne(),E.emit("plotly_relayouting",fe)}function or(Be,Ye){for(var qe=bt.isSubplotConstrained?{x:He,y:je}[Be]:bt[Be+"axes"],tt=bt.isSubplotConstrained?{x:je,y:He}[Be]:[],ut=0;ut<qe.length;ut++){var rt=qe[ut],Tt=rt._id,mt=bt.xLinks[Tt]||bt.yLinks[Tt],ct=tt[0]||Ne[mt]||$e[mt];ct&&(Ye?(Ye[rt._name+".range[0]"]=Ye[ct._name+".range[0]"],Ye[rt._name+".range[1]"]=Ye[ct._name+".range[1]"]):rt.range=ct.range.slice())}}function ne(){var Be=[],Ye;function qe(Tt){for(Ye=0;Ye<Tt.length;Ye++)Tt[Ye].fixedrange||Be.push(Tt[Ye]._id)}function tt(Tt,mt){for(Ye=0;Ye<Tt.length;Ye++){var ct=Tt[Ye],Rt=ct[mt];!ct.fixedrange&&Rt.tickmode==="sync"&&Be.push(Rt._id)}}for(kt&&(qe(je),qe(Pt.xaxes),qe(bt.xaxes),tt(K.overlays,"xaxis")),Ce&&(qe(He),qe(Pt.yaxes),qe(bt.yaxes),tt(K.overlays,"yaxis")),fe={},Ye=0;Ye<Be.length;Ye++){var ut=Be[Ye],rt=w(E,ut);m.drawOne(E,rt,{skipTitle:!0}),fe[rt._name+".range[0]"]=rt.range[0],fe[rt._name+".range[1]"]=rt.range[1]}m.redrawComponents(E,Be)}function ee(){if(!E._transitioningWithDuration){var Be=E._context.doubleClick,Ye=[];At&&(Ye=Ye.concat(je)),wt&&(Ye=Ye.concat(He)),bt.xaxes&&(Ye=Ye.concat(bt.xaxes)),bt.yaxes&&(Ye=Ye.concat(bt.yaxes));var qe={},tt,ut,rt;if(Be==="reset+autosize"){for(Be="autosize",ut=0;ut<Ye.length;ut++)if(tt=Ye[ut],tt._rangeInitial&&(tt.range[0]!==tt._rangeInitial[0]||tt.range[1]!==tt._rangeInitial[1])||!tt._rangeInitial&&!tt.autorange){Be="reset";break}}if(Be==="autosize")for(ut=0;ut<Ye.length;ut++)tt=Ye[ut],tt.fixedrange||(qe[tt._name+".autorange"]=!0);else if(Be==="reset")for((At||Pt.isSubplotConstrained)&&(Ye=Ye.concat(Pt.xaxes)),wt&&!Pt.isSubplotConstrained&&(Ye=Ye.concat(Pt.yaxes)),Pt.isSubplotConstrained&&(At?wt||(Ye=Ye.concat(He)):Ye=Ye.concat(je)),ut=0;ut<Ye.length;ut++)tt=Ye[ut],tt.fixedrange||(tt._rangeInitial?(rt=tt._rangeInitial,qe[tt._name+".range[0]"]=rt[0],qe[tt._name+".range[1]"]=rt[1]):qe[tt._name+".autorange"]=!0);E.emit("plotly_doubleclick",null),f.call("_guiRelayout",E,qe)}}function ze(){Fe([0,0,dt,ht]),x.syncOrAsync([b.previousPromises,function(){E._fullLayout._replotting=!1,f.call("_guiRelayout",E,fe)}],E)}function Fe(Be){var Ye=E._fullLayout,qe=Ye._plots,tt=Ye._subplots.cartesian,ut,rt,Tt,mt;if(Pe&&f.subplotsRegistry.splom.drag(E),Ae){for(ut=0;ut<tt.length;ut++)if(rt=qe[tt[ut]],Tt=rt.xaxis,mt=rt.yaxis,rt._scene){var ct=x.simpleMap(Tt.range,Tt.r2l),Rt=x.simpleMap(mt.range,mt.r2l);rt._scene.update({range:[ct[0],Rt[0],ct[1],Rt[1]]})}}if((Pe||Ae)&&(c(E),u(E)),$){var Mt=Be[2]/we._length,Yt=Be[3]/Te._length;for(ut=0;ut<tt.length;ut++){rt=qe[tt[ut]],Tt=rt.xaxis,mt=rt.yaxis;var Jt=(kt||bt.isSubplotConstrained)&&!Tt.fixedrange&&Ne[Tt._id],Qt=(Ce||bt.isSubplotConstrained)&&!mt.fixedrange&&$e[mt._id],St,Ft,lr,rr;if(Jt?(St=Mt,lr=se||bt.isSubplotConstrained?Be[0]:Xe(Tt,St)):bt.xaHash[Tt._id]?(St=Mt,lr=Be[0]*Tt._length/we._length):bt.yaHash[Tt._id]?(St=Yt,lr=wt==="ns"?-Be[1]*Tt._length/Te._length:Xe(Tt,St,{n:"top",s:"bottom"}[wt])):(St=Ue(Tt,Mt,Yt),lr=Ze(Tt,St)),Qt?(Ft=Yt,rr=ke||bt.isSubplotConstrained?Be[1]:Xe(mt,Ft)):bt.yaHash[mt._id]?(Ft=Yt,rr=Be[1]*mt._length/Te._length):bt.xaHash[mt._id]?(Ft=Mt,rr=At==="ew"?-Be[0]*mt._length/we._length:Xe(mt,Ft,{e:"right",w:"left"}[At])):(Ft=Ue(mt,Mt,Yt),rr=Ze(mt,Ft)),!(!St&&!Ft)){St||(St=1),Ft||(Ft=1);var vr=Tt._offset-lr/St,mr=mt._offset-rr/Ft;rt.clipRect.call(d.setTranslate,lr,rr).call(d.setScale,St,Ft),rt.plot.call(d.setTranslate,vr,mr).call(d.setScale,1/St,1/Ft),(St!==rt.xScaleFactor||Ft!==rt.yScaleFactor)&&(d.setPointGroupScale(rt.zoomScalePts,St,Ft),d.setTextPointsScale(rt.zoomScaleTxt,St,Ft)),d.hideOutsideRangePoints(rt.clipOnAxisFalseTraces,rt),rt.xScaleFactor=St,rt.yScaleFactor=Ft}}}}function Ue(Be,Ye,qe){return Be.fixedrange?0:kt&&Pt.xaHash[Be._id]?Ye:Ce&&(Pt.isSubplotConstrained?Pt.xaHash:Pt.yaHash)[Be._id]?qe:0}function Ze(Be,Ye){return Ye?(Be.range=Be._r.slice(),O(Be,Ye),Xe(Be,Ye)):0}function Xe(Be,Ye,qe){return Be._length*(1-Ye)*v[qe||Be.constraintoward||"middle"]}return _e}function ae(E,K,ie,ve){var he=x.ensureSingle(E.draglayer,K,ie,function(Le){Le.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",E.id)});return he.call(y,ve),he.node()}function N(E,K,ie,ve,he,Le,ke){var se=ae(E,"rect",K,ie);return o.select(se).call(d.setRect,ve,he,Le,ke),se}function D(E,K){for(var ie=0;ie<E.length;ie++)if(!E[ie].fixedrange)return K;return""}function _(E,K){var ie=E.range[K],ve=Math.abs(ie-E.range[1-K]),he;return E.type==="date"?ie:E.type==="log"?(he=Math.ceil(Math.max(0,-Math.log(ve)/Math.LN10))+3,l("."+he+"g")(Math.pow(10,ie))):(he=Math.floor(Math.log(Math.abs(ie))/Math.LN10)-Math.floor(Math.log(ve)/Math.LN10)+4,l("."+String(he)+"g")(ie))}function V(E,K,ie,ve,he){for(var Le=0;Le<E.length;Le++){var ke=E[Le];if(!ke.fixedrange)if(ke.rangebreaks){var se=ke._id.charAt(0)==="y",ge=se?1-K:K,be=se?1-ie:ie;ve[ke._name+".range[0]"]=ke.l2r(ke.p2l(ge*ke._length)),ve[ke._name+".range[1]"]=ke.l2r(ke.p2l(be*ke._length))}else{var Ee=ke._rl[0],we=ke._rl[1]-Ee;ve[ke._name+".range[0]"]=ke.l2r(Ee+we*K),ve[ke._name+".range[1]"]=ke.l2r(Ee+we*ie)}}if(he&&he.length){var Te=(K+(1-ie))/2;V(he,Te,1-Te,ve,[])}}function G(E,K){for(var ie=0;ie<E.length;ie++){var ve=E[ie];if(!ve.fixedrange)if(ve.rangebreaks){var he=0,Le=ve._length,ke=ve.p2l(he+K)-ve.p2l(he),se=ve.p2l(Le+K)-ve.p2l(Le),ge=(ke+se)/2;ve.range=[ve.l2r(ve._rl[0]-ge),ve.l2r(ve._rl[1]-ge)]}else ve.range=[ve.l2r(ve._rl[0]-K/ve._m),ve.l2r(ve._rl[1]-K/ve._m)]}}function Q(E){return 1-(E>=0?Math.min(E,.9):1/(1/Math.max(E,-.3)+3.222))}function ue(E,K,ie){return E?E==="nsew"?ie?"":K==="pan"?"move":"crosshair":E.toLowerCase()+"-resize":"pointer"}function le(E,K,ie,ve,he){return E.append("path").attr("class","zoombox").style({fill:K>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",s(ie,ve)).attr("d",he+"Z")}function ye(E,K,ie){return E.append("path").attr("class","zoombox-corners").style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,opacity:0}).attr("transform",s(K,ie)).attr("d","M0,0Z")}function Se(E,K,ie,ve,he,Le){E.attr("d",ve+"M"+ie.l+","+ie.t+"v"+ie.h+"h"+ie.w+"v-"+ie.h+"h-"+ie.w+"Z"),ce(E,K,he,Le)}function ce(E,K,ie,ve){ie||(E.transition().style("fill",ve>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),K.transition().style("opacity",1).duration(200))}function de(E){o.select(E).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function S(E){te&&E.data&&E._context.showTips&&(x.notifier(x._(E,"Double-click to zoom back out"),"long"),te=!1)}function P(E,K){return"M"+(E.l-.5)+","+(K-Z-.5)+"h-3v"+(2*Z+1)+"h3ZM"+(E.r+.5)+","+(K-Z-.5)+"h3v"+(2*Z+1)+"h-3Z"}function k(E,K){return"M"+(K-Z-.5)+","+(E.t-.5)+"v-3h"+(2*Z+1)+"v3ZM"+(K-Z-.5)+","+(E.b+.5)+"v3h"+(2*Z+1)+"v-3Z"}function z(E){var K=Math.floor(Math.min(E.b-E.t,E.r-E.l,Z)/2);return"M"+(E.l-3.5)+","+(E.t-.5+K)+"h3v"+-K+"h"+K+"v-3h-"+(K+3)+"ZM"+(E.r+3.5)+","+(E.t-.5+K)+"h-3v"+-K+"h"+-K+"v-3h"+(K+3)+"ZM"+(E.r+3.5)+","+(E.b+.5-K)+"h-3v"+K+"h"+-K+"v3h"+(K+3)+"ZM"+(E.l-3.5)+","+(E.b+.5-K)+"h3v"+K+"h"+K+"v3h-"+(K+3)+"Z"}function Y(E,K,ie,ve,he){for(var Le=!1,ke={},se={},ge,be,Ee,we,Te=(he||{}).xaHash,Ne=(he||{}).yaHash,$e=0;$e<K.length;$e++){var je=K[$e];for(ge in ie)if(je[ge]){for(Ee in je)!(he&&(Te[Ee]||Ne[Ee]))&&!(Ee.charAt(0)==="x"?ie:ve)[Ee]&&(ke[Ee]=ge);for(be in ve)!(he&&(Te[be]||Ne[be]))&&je[be]&&(Le=!0)}for(be in ve)if(je[be])for(we in je)!(he&&(Te[we]||Ne[we]))&&!(we.charAt(0)==="x"?ie:ve)[we]&&(se[we]=be)}Le&&(x.extendFlat(ke,se),se={});var He={},st=[];for(Ee in ke){var nt=w(E,Ee);st.push(nt),He[nt._id]=nt}var dt={},ht=[];for(we in se){var Pt=w(E,we);ht.push(Pt),dt[Pt._id]=Pt}return{xaHash:He,yaHash:dt,xaxes:st,yaxes:ht,xLinks:ke,yLinks:se,isSubplotConstrained:Le}}function F(E,K){if(!r)E.onwheel!==void 0?E.onwheel=K:E.onmousewheel!==void 0?E.onmousewheel=K:E.isAddedWheelEvent||(E.isAddedWheelEvent=!0,E.addEventListener("wheel",K,{passive:!1}));else{var ie=E.onwheel!==void 0?"wheel":"mousewheel";E._onwheel&&E.removeEventListener(ie,E._onwheel),E._onwheel=K,E.addEventListener(ie,K,{passive:!1})}}function J(E){var K=[];for(var ie in E)K.push(E[ie]);return K}re.exports={makeDragBox:q,makeDragger:ae,makeRectDragger:N,makeZoombox:le,makeCorners:ye,updateZoombox:Se,xyCorners:z,transitionZoombox:ce,removeZoombox:de,showDoubleClickNotifier:S,attachWheelEventHandler:F}},4305:function(re,H,e){var o=e(9898),x=e(211),l=e(8569),i=e(6964),r=e(9323).makeDragBox,f=e(5555).DRAGGERSIZE;H.initInteractions=function(n){var t=n._fullLayout;if(n._context.staticPlot){o.select(n).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var d=Object.keys(t._plots||{}).sort(function(m,y){if((t._plots[m].mainplot&&!0)===(t._plots[y].mainplot&&!0)){var h=m.split("y"),T=y.split("y");return h[0]===T[0]?Number(h[1]||1)-Number(T[1]||1):Number(h[0]||1)-Number(T[0]||1)}return t._plots[m].mainplot?1:-1});d.forEach(function(m){var y=t._plots[m],h=y.xaxis,T=y.yaxis;if(!y.mainplot){var g=r(n,y,h._offset,T._offset,h._length,T._length,"ns","ew");g.onmousemove=function(c){n._fullLayout._rehover=function(){n._fullLayout._hoversubplot===m&&n._fullLayout._plots[m]&&x.hover(n,c,m)},x.hover(n,c,m),n._fullLayout._lasthover=g,n._fullLayout._hoversubplot=m},g.onmouseout=function(c){n._dragging||(n._fullLayout._hoversubplot=null,l.unhover(n,c))},n._context.showAxisDragHandles&&(r(n,y,h._offset-f,T._offset-f,f,f,"n","w"),r(n,y,h._offset+h._length,T._offset-f,f,f,"n","e"),r(n,y,h._offset-f,T._offset+T._length,f,f,"s","w"),r(n,y,h._offset+h._length,T._offset+T._length,f,f,"s","e"))}if(n._context.showAxisDragHandles){if(m===h._mainSubplot){var M=h._mainLinePosition;h.side==="top"&&(M-=f),r(n,y,h._offset+h._length*.1,M,h._length*.8,f,"","ew"),r(n,y,h._offset,M,h._length*.1,f,"","w"),r(n,y,h._offset+h._length*.9,M,h._length*.1,f,"","e")}if(m===T._mainSubplot){var v=T._mainLinePosition;T.side!=="right"&&(v-=f),r(n,y,v,T._offset+T._length*.1,f,T._length*.8,"ns",""),r(n,y,v,T._offset+T._length*.9,f,T._length*.1,"s",""),r(n,y,v,T._offset,f,T._length*.1,"n","")}}});var p=t._hoverlayer.node();p.onmousemove=function(m){m.target=n._fullLayout._lasthover,x.hover(n,m,t._hoversubplot)},p.onclick=function(m){m.target=n._fullLayout._lasthover,x.click(n,m)},p.onmousedown=function(m){n._fullLayout._lasthover.onmousedown(m)},H.updateFx(n)}},H.updateFx=function(s){var n=s._fullLayout,t=n.dragmode==="pan"?"move":"crosshair";i(n._draggers,t)}},6325:function(re,H,e){var o=e(3972),x=e(1828),l=e(1675);re.exports=function(r){return function(s,n){var t=s[r];if(Array.isArray(t))for(var d=o.subplotsRegistry.cartesian,p=d.idRegex,m=n._subplots,y=m.xaxis,h=m.yaxis,T=m.cartesian,g=n._has("cartesian")||n._has("gl2d"),M=0;M<t.length;M++){var v=t[M];if(x.isPlainObject(v)){var c=l.cleanId(v.xref,"x",!1),u=l.cleanId(v.yref,"y",!1),b=p.x.test(c),w=p.y.test(u);if(b||w){g||x.pushUnique(n._basePlotModules,d);var B=!1;b&&y.indexOf(c)===-1&&(y.push(c),B=!0),w&&h.indexOf(u)===-1&&(h.push(u),B=!0),B&&b&&w&&T.push(c+u)}}}}}},3612:function(re,H,e){var o=e(9898),x=e(3972),l=e(1828),i=e(4875),r=e(1424),f=e(7659).a0,s=e(1675),n=e(5555),t=e(7922),d=l.ensureSingle;function p(M,v,c){return l.ensureSingle(M,v,c,function(u){u.datum(c)})}H.name="cartesian",H.attr=["xaxis","yaxis"],H.idRoot=["x","y"],H.idRegex=n.idRegex,H.attrRegex=n.attrRegex,H.attributes=e(9502),H.layoutAttributes=e(3838),H.supplyLayoutDefaults=e(6763),H.transitionAxes=e(6847),H.finalizeSubplots=function(M,v){var c=v._subplots,u=c.xaxis,b=c.yaxis,w=c.cartesian,B=w.concat(c.gl2d||[]),C={},I={},O,L,X;for(O=0;O<B.length;O++){var Z=B[O].split("y");C[Z[0]]=1,I["y"+Z[1]]=1}for(O=0;O<u.length;O++)L=u[O],C[L]||(X=(M[s.id2name(L)]||{}).anchor,n.idRegex.y.test(X)||(X="y"),w.push(L+X),B.push(L+X),I[X]||(I[X]=1,l.pushUnique(b,X)));for(O=0;O<b.length;O++)X=b[O],I[X]||(L=(M[s.id2name(X)]||{}).anchor,n.idRegex.x.test(L)||(L="x"),w.push(L+X),B.push(L+X),C[L]||(C[L]=1,l.pushUnique(u,L)));if(!B.length){L="",X="";for(var te in M)if(n.attrRegex.test(te)){var q=te.charAt(0);q==="x"?(!L||+te.substr(5)<+L.substr(5))&&(L=te):(!X||+te.substr(5)<+X.substr(5))&&(X=te)}L=L?s.name2id(L):"x",X=X?s.name2id(X):"y",u.push(L),b.push(X),w.push(L+X)}},H.plot=function(M,v,c,u){var b=M._fullLayout,w=b._subplots.cartesian,B=M.calcdata,C;if(!Array.isArray(v))for(v=[],C=0;C<B.length;C++)v.push(C);for(C=0;C<w.length;C++){for(var I=w[C],O=b._plots[I],L=[],X,Z=0;Z<B.length;Z++){var te=B[Z],q=te[0].trace;q.xaxis+q.yaxis===I&&((v.indexOf(q.index)!==-1||q.carpet)&&(X&&X[0].trace.xaxis+X[0].trace.yaxis===I&&["tonextx","tonexty","tonext"].indexOf(q.fill)!==-1&&L.indexOf(X)===-1&&L.push(X),L.push(te)),X=te)}m(M,O,L,c,u)}};function m(M,v,c,u,b){for(var w=n.traceLayerClasses,B=M._fullLayout,C=B._modules,I,O,L,X=[],Z=[],te=0;te<C.length;te++){I=C[te];var q=I.name,ae=x.modules[q].categories;if(ae.svg){var N=I.layerName||q+"layer",D=I.plot;O=f(c,D),L=O[0],c=O[1],L.length&&X.push({i:w.indexOf(N),className:N,plotMethod:D,cdModule:L}),ae.zoomScale&&Z.push("."+N)}}X.sort(function(G,Q){return G.i-Q.i});var _=v.plot.selectAll("g.mlayer").data(X,function(G){return G.className});if(_.enter().append("g").attr("class",function(G){return G.className}).classed("mlayer",!0).classed("rangeplot",v.isRangePlot),_.exit().remove(),_.order(),_.each(function(G){var Q=o.select(this),ue=G.className;G.plotMethod(M,v,G.cdModule,Q,u,b),n.clipOnAxisFalseQuery.indexOf("."+ue)===-1&&r.setClipUrl(Q,v.layerClipId,M)}),B._has("scattergl")&&(I=x.getModule("scattergl"),L=f(c,I)[0],I.plot(M,v,L)),!M._context.staticPlot&&(v._hasClipOnAxisFalse&&(v.clipOnAxisFalseTraces=v.plot.selectAll(n.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),Z.length)){var V=v.plot.selectAll(Z.join(",")).selectAll(".trace");v.zoomScalePts=V.selectAll("path.point"),v.zoomScaleTxt=V.selectAll(".textpoint")}}H.clean=function(M,v,c,u){var b=u._plots||{},w=v._plots||{},B=u._subplots||{},C,I,O;if(u._hasOnlyLargeSploms&&!v._hasOnlyLargeSploms)for(O in b)C=b[O],C.plotgroup&&C.plotgroup.remove();var L=u._has&&u._has("gl"),X=v._has&&v._has("gl");if(L&&!X)for(O in b)C=b[O],C._scene&&C._scene.destroy();if(B.xaxis&&B.yaxis){var Z=s.listIds({_fullLayout:u});for(I=0;I<Z.length;I++){var te=Z[I];v[s.id2name(te)]||u._infolayer.selectAll(".g-"+te+"title").remove()}}var q=u._has&&u._has("cartesian"),ae=v._has&&v._has("cartesian");if(q&&!ae)T(u._cartesianlayer.selectAll(".subplot"),u),u._defs.selectAll(".axesclip").remove(),delete u._axisConstraintGroups,delete u._axisMatchGroups;else if(B.cartesian)for(I=0;I<B.cartesian.length;I++){var N=B.cartesian[I];if(!w[N]){var D="."+N+",."+N+"-x,."+N+"-y";u._cartesianlayer.selectAll(D).remove(),g(N,u)}}},H.drawFramework=function(M){var v=M._fullLayout,c=y(M),u=v._cartesianlayer.selectAll(".subplot").data(c,String);u.enter().append("g").attr("class",function(b){return"subplot "+b[0]}),u.order(),u.exit().call(T,v),u.each(function(b){var w=b[0],B=v._plots[w];B.plotgroup=o.select(this),h(M,B),B.draglayer=d(v._draggers,"g",w)})},H.rangePlot=function(M,v,c){h(M,v),m(M,v,c),i.style(M)};function y(M){var v=M._fullLayout,c=v._subplots.cartesian,u=c.length,b,w,B,C,I,O,L=[],X=[];for(b=0;b<u;b++){B=c[b],C=v._plots[B],I=C.xaxis,O=C.yaxis;var Z=I._mainAxis,te=O._mainAxis,q=Z._id+te._id,ae=v._plots[q];C.overlays=[],q!==B&&ae?(C.mainplot=q,C.mainplotinfo=ae,X.push(B)):(C.mainplot=void 0,C.mainplotinfo=void 0,L.push(B))}for(b=0;b<X.length;b++)B=X[b],C=v._plots[B],C.mainplotinfo.overlays.push(C);var N=L.concat(X),D=new Array(u);for(b=0;b<u;b++){B=N[b],C=v._plots[B],I=C.xaxis,O=C.yaxis;var _=[B,I.layer,O.layer,I.overlaying||"",O.overlaying||""];for(w=0;w<C.overlays.length;w++)_.push(C.overlays[w].id);D[b]=_}return D}function h(M,v){var c=v.plotgroup,u=v.id,b=n.layerValue2layerClass[v.xaxis.layer],w=n.layerValue2layerClass[v.yaxis.layer],B=M._fullLayout._hasOnlyLargeSploms;if(v.mainplot){var I=v.mainplotinfo,O=I.plotgroup,L=u+"-x",X=u+"-y";v.minorGridlayer=I.minorGridlayer,v.gridlayer=I.gridlayer,v.zerolinelayer=I.zerolinelayer,d(I.overlinesBelow,"path",L),d(I.overlinesBelow,"path",X),d(I.overaxesBelow,"g",L),d(I.overaxesBelow,"g",X),v.plot=d(I.overplot,"g",u),d(I.overlinesAbove,"path",L),d(I.overlinesAbove,"path",X),d(I.overaxesAbove,"g",L),d(I.overaxesAbove,"g",X),v.xlines=O.select(".overlines-"+b).select("."+L),v.ylines=O.select(".overlines-"+w).select("."+X),v.xaxislayer=O.select(".overaxes-"+b).select("."+L),v.yaxislayer=O.select(".overaxes-"+w).select("."+X)}else if(B)v.xlines=d(c,"path","xlines-above"),v.ylines=d(c,"path","ylines-above"),v.xaxislayer=d(c,"g","xaxislayer-above"),v.yaxislayer=d(c,"g","yaxislayer-above");else{var C=d(c,"g","layer-subplot");v.shapelayer=d(C,"g","shapelayer"),v.imagelayer=d(C,"g","imagelayer"),v.minorGridlayer=d(c,"g","minor-gridlayer"),v.gridlayer=d(c,"g","gridlayer"),v.zerolinelayer=d(c,"g","zerolinelayer"),d(c,"path","xlines-below"),d(c,"path","ylines-below"),v.overlinesBelow=d(c,"g","overlines-below"),d(c,"g","xaxislayer-below"),d(c,"g","yaxislayer-below"),v.overaxesBelow=d(c,"g","overaxes-below"),v.plot=d(c,"g","plot"),v.overplot=d(c,"g","overplot"),v.xlines=d(c,"path","xlines-above"),v.ylines=d(c,"path","ylines-above"),v.overlinesAbove=d(c,"g","overlines-above"),d(c,"g","xaxislayer-above"),d(c,"g","yaxislayer-above"),v.overaxesAbove=d(c,"g","overaxes-above"),v.xlines=c.select(".xlines-"+b),v.ylines=c.select(".ylines-"+w),v.xaxislayer=c.select(".xaxislayer-"+b),v.yaxislayer=c.select(".yaxislayer-"+w)}B||(p(v.minorGridlayer,"g",v.xaxis._id),p(v.minorGridlayer,"g",v.yaxis._id),v.minorGridlayer.selectAll("g").map(function(Z){return Z[0]}).sort(s.idSort),p(v.gridlayer,"g",v.xaxis._id),p(v.gridlayer,"g",v.yaxis._id),v.gridlayer.selectAll("g").map(function(Z){return Z[0]}).sort(s.idSort)),v.xlines.style("fill","none").classed("crisp",!0),v.ylines.style("fill","none").classed("crisp",!0)}function T(M,v){if(M){var c={};M.each(function(I){var O=I[0],L=o.select(this);L.remove(),g(O,v),c[O]=!0});for(var u in v._plots)for(var b=v._plots[u],w=b.overlays||[],B=0;B<w.length;B++){var C=w[B];c[C.id]&&C.plot.selectAll(".trace").remove()}}}function g(M,v){v._draggers.selectAll("g."+M).remove(),v._defs.select("#clip"+v._uid+M+"plot").remove()}H.toSVG=function(M){var v=M._fullLayout._glimages,c=o.select(M).selectAll(".svg-container"),u=c.filter(function(w,B){return B===c.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function b(){var w=this,B=w.toDataURL("image/png"),C=v.append("svg:image");C.attr({xmlns:t.svg,"xlink:href":B,preserveAspectRatio:"none",x:0,y:0,width:w.style.width,height:w.style.height})}u.each(b)},H.updateFx=e(4305).updateFx},3838:function(re,H,e){var o=e(1940),x=e(2399),l=e(9952).P,i=e(1426).extendFlat,r=e(4467).templatedArray,f=e(2663).descriptionWithDates,s=e(606).ONEDAY,n=e(5555),t=n.HOUR_PATTERN,d=n.WEEKDAY_PATTERN,p={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},m=i({},p,{values:p.values.slice().concat(["sync"])});function y(I){return{valType:"integer",min:0,dflt:I?5:0,editType:"ticks"}}var h={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},T={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},g={valType:"data_array",editType:"ticks"},M={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function v(I){var O={valType:"number",min:0,editType:"ticks"};return I||(O.dflt=5),O}function c(I){var O={valType:"number",min:0,editType:"ticks"};return I||(O.dflt=1),O}var u={valType:"color",dflt:x.defaultLine,editType:"ticks"},b={valType:"color",dflt:x.lightLine,editType:"ticks"};function w(I){var O={valType:"number",min:0,editType:"ticks"};return I||(O.dflt=1),O}var B=i({},l,{editType:"ticks"}),C={valType:"boolean",editType:"ticks"};re.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:x.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:o({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[n.idRegex.x.toString(),n.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[n.idRegex.x.toString(),n.idRegex.y.toString()],editType:"calc"},rangebreaks:r("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[d,t,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:s},editType:"calc"}),tickmode:m,nticks:y(),tick0:h,dtick:T,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:g,ticktext:{valType:"data_array",editType:"ticks"},ticks:M,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:v(),tickwidth:c(),tickcolor:u,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:i({},l,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:o({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:f("tick label")},tickformatstops:r("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:f("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:x.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:C,gridcolor:b,gridwidth:w(),griddash:B,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:x.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:x.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",n.idRegex.x.toString(),n.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",n.idRegex.x.toString(),n.idRegex.y.toString()],editType:"plot"},minor:{tickmode:p,nticks:y("minor"),tick0:h,dtick:T,tickvals:g,ticks:M,ticklen:v("minor"),tickwidth:c("minor"),tickcolor:u,gridcolor:b,gridwidth:w("minor"),griddash:B,showgrid:C,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:o({editType:"ticks"})}}},6763:function(re,H,e){var o=e(1828),x=e(7901),l=e(3469).isUnifiedHover,i=e(8212),r=e(4467),f=e(820),s=e(3838),n=e(951),t=e(1453),d=e(9082),p=e(2830),m=e(1675),y=m.id2name,h=m.name2id,T=e(5555).AX_ID_PATTERN,g=e(3972),M=g.traceIs,v=g.getComponentMethod;function c(u,b,w){Array.isArray(u[b])?u[b].push(w):u[b]=[w]}re.exports=function(b,w,B){var C=w.autotypenumbers,I={},O={},L={},X={},Z={},te={},q={},ae={},N={},D={},_,V;for(_=0;_<B.length;_++){var G=B[_];if(!(!M(G,"cartesian")&&!M(G,"gl2d"))){var Q;if(G.xaxis)Q=y(G.xaxis),c(I,Q,G);else if(G.xaxes)for(V=0;V<G.xaxes.length;V++)c(I,y(G.xaxes[V]),G);var ue;if(G.yaxis)ue=y(G.yaxis),c(I,ue,G);else if(G.yaxes)for(V=0;V<G.yaxes.length;V++)c(I,y(G.yaxes[V]),G);if(G.type==="funnel"?G.orientation==="h"?(Q&&(O[Q]=!0),ue&&(q[ue]=!0)):ue&&(L[ue]=!0):G.type==="image"?(ue&&(ae[ue]=!0),Q&&(ae[Q]=!0)):(ue&&(Z[ue]=!0,te[ue]=!0),(!M(G,"carpet")||G.type==="carpet"&&!G._cheater)&&Q&&(X[Q]=!0)),G.type==="carpet"&&G._cheater&&Q&&(O[Q]=!0),M(G,"2dMap")&&(N[Q]=!0,N[ue]=!0),M(G,"oriented")){var le=G.orientation==="h"?ue:Q;D[le]=!0}}}var ye=w._subplots,Se=ye.xaxis,ce=ye.yaxis,de=o.simpleMap(Se,y),S=o.simpleMap(ce,y),P=de.concat(S),k=x.background;Se.length&&ce.length&&(k=o.coerce(b,w,f,"plot_bgcolor"));var z=x.combine(k,w.paper_bgcolor),Y,F,J,E,K;function ie(){var pe=I[Y]||[];K._traceIndices=pe.map(function(Me){return Me._expandedIndex}),K._annIndices=[],K._shapeIndices=[],K._selectionIndices=[],K._imgIndices=[],K._subplotsWith=[],K._counterAxes=[],K._name=K._attr=Y,K._id=F}function ve(pe,Me){return o.coerce(E,K,s,pe,Me)}function he(pe,Me){return o.coerce2(E,K,s,pe,Me)}function Le(pe){return pe==="x"?ce:Se}function ke(pe,Me){for(var Ge=pe==="x"?de:S,Ie=[],_e=0;_e<Ge.length;_e++){var Je=Ge[_e];Je!==Me&&!(b[Je]||{}).overlaying&&Ie.push(h(Je))}return Ie}var se={x:Le("x"),y:Le("y")},ge=se.x.concat(se.y),be={},Ee=[];function we(){var pe=E.matches;T.test(pe)&&ge.indexOf(pe)===-1&&(be[pe]=E.type,Ee=Object.keys(be))}var Te=i(b,w),Ne=l(Te);for(_=0;_<P.length;_++){Y=P[_],F=h(Y),J=Y.charAt(0),o.isPlainObject(b[Y])||(b[Y]={}),E=b[Y],K=r.newContainer(w,Y,J+"axis"),ie();var $e=J==="x"&&!X[Y]&&O[Y]||J==="y"&&!Z[Y]&&L[Y],je=J==="y"&&(!te[Y]&&q[Y]||ae[Y]),He={hasMinor:!0,letter:J,font:w.font,outerTicks:N[Y],showGrid:!D[Y],data:I[Y]||[],bgColor:z,calendar:w.calendar,automargin:!0,visibleDflt:$e,reverseDflt:je,autotypenumbersDflt:C,splomStash:((w._splomAxes||{})[J]||{})[F]};ve("uirevision",w.uirevision),n(E,K,ve,He),t(E,K,ve,He,w);var st=Ne&&J===Te.charAt(0),nt=he("spikecolor",Ne?K.color:void 0),dt=he("spikethickness",Ne?1.5:void 0),ht=he("spikedash",Ne?"dot":void 0),Pt=he("spikemode",Ne?"across":void 0),bt=he("spikesnap"),At=ve("showspikes",!!st||!!nt||!!dt||!!ht||!!Pt||!!bt);At||(delete K.spikecolor,delete K.spikethickness,delete K.spikedash,delete K.spikemode,delete K.spikesnap);var wt=y(E.overlaying),Lt=[0,1];if(w[wt]!==void 0){var kt=y(w[wt].anchor);w[kt]!==void 0&&(Lt=w[kt].domain)}p(E,K,ve,{letter:J,counterAxes:se[J],overlayableAxes:ke(J,Y),grid:w.grid,overlayingDomain:Lt}),ve("title.standoff"),we(),K._input=E}for(_=0;_<Ee.length;){F=Ee[_++],Y=y(F),J=Y.charAt(0),o.isPlainObject(b[Y])||(b[Y]={}),E=b[Y],K=r.newContainer(w,Y,J+"axis"),ie();var Ce={letter:J,font:w.font,outerTicks:N[Y],showGrid:!D[Y],data:[],bgColor:z,calendar:w.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:C,splomStash:((w._splomAxes||{})[J]||{})[F]};ve("uirevision",w.uirevision),K.type=be[F]||"linear",t(E,K,ve,Ce,w),p(E,K,ve,{letter:J,counterAxes:se[J],overlayableAxes:ke(J,Y),grid:w.grid}),ve("fixedrange"),we(),K._input=E}var Ae=v("rangeslider","handleDefaults"),Pe=v("rangeselector","handleDefaults");for(_=0;_<de.length;_++)Y=de[_],E=b[Y],K=w[Y],Ae(b,w,Y),K.type==="date"&&Pe(E,K,w,S,K.calendar),ve("fixedrange");for(_=0;_<S.length;_++){Y=S[_],E=b[Y],K=w[Y];var $=w[y(K.anchor)],fe=v("rangeslider","isVisible")($);ve("fixedrange",fe)}d.handleDefaults(b,w,{axIds:ge.concat(Ee).sort(m.idSort),axHasImage:ae})}},2128:function(re,H,e){var o=e(4267).mix,x=e(2399),l=e(1828);re.exports=function(r,f,s,n){n=n||{};var t=n.dfltColor;function d(L,X){return l.coerce2(r,f,n.attributes,L,X)}var p=d("linecolor",t),m=d("linewidth"),y=s("showline",n.showLine||!!p||!!m);y||(delete f.linecolor,delete f.linewidth);var h=o(t,n.bgColor,n.blend||x.lightFraction).toRgbString(),T=d("gridcolor",h),g=d("gridwidth"),M=d("griddash"),v=s("showgrid",n.showGrid||!!T||!!g||!!M);if(v||(delete f.gridcolor,delete f.gridwidth,delete f.griddash),n.hasMinor){var c=o(f.gridcolor,n.bgColor,67).toRgbString(),u=d("minor.gridcolor",c),b=d("minor.gridwidth",f.gridwidth||1),w=d("minor.griddash",f.griddash||"solid"),B=s("minor.showgrid",!!u||!!b||!!w);B||(delete f.minor.gridcolor,delete f.minor.gridwidth,delete f.minor.griddash)}if(!n.noZeroLine){var C=d("zerolinecolor",t),I=d("zerolinewidth"),O=s("zeroline",n.showGrid||!!C||!!I);O||(delete f.zerolinecolor,delete f.zerolinewidth)}}},2830:function(re,H,e){var o=e(2770),x=e(1828);re.exports=function(i,r,f,s){var n=s.counterAxes||[],t=s.overlayableAxes||[],d=s.letter,p=s.grid,m=s.overlayingDomain,y,h,T,g,M,v;p&&(h=p._domains[d][p._axisMap[r._id]],y=p._anchors[r._id],h&&(T=p[d+"side"].split(" ")[0],g=p.domain[d][T==="right"||T==="top"?1:0])),h=h||[0,1],y=y||(o(i.position)?"free":n[0]||"free"),T=T||(d==="x"?"bottom":"left"),g=g||0,M=0,v=!1;var c=x.coerce(i,r,{anchor:{valType:"enumerated",values:["free"].concat(n),dflt:y}},"anchor"),u=x.coerce(i,r,{side:{valType:"enumerated",values:d==="x"?["bottom","top"]:["left","right"],dflt:T}},"side");if(c==="free"){if(d==="y"){var b=f("autoshift");b&&(g=u==="left"?m[0]:m[1],v=r.automargin?r.automargin:!0,M=u==="left"?-3:3),f("shift",M)}f("position",g)}f("automargin",v);var w=!1;if(t.length&&(w=x.coerce(i,r,{overlaying:{valType:"enumerated",values:[!1].concat(t),dflt:!1}},"overlaying")),!w){var B=f("domain",h);B[0]>B[1]-.000244140625&&(r.domain=h),x.noneOrAll(i.domain,r.domain,h),r.tickmode==="sync"&&(r.tickmode="auto")}return f("layer"),r}},9426:function(re,H,e){var o=e(9652);re.exports=function(l,i,r,f,s){s||(s={});var n=s.tickSuffixDflt,t=o(l),d=r("tickprefix");d&&r("showtickprefix",t);var p=r("ticksuffix",n);p&&r("showticksuffix",t)}},2449:function(re,H,e){var o=e(8783).FROM_BL;re.exports=function(l,i,r){r===void 0&&(r=o[l.constraintoward||"center"]);var f=[l.r2l(l.range[0]),l.r2l(l.range[1])],s=f[0]+(f[1]-f[0])*r;l.range=l._input.range=[l.l2r(s+(f[0]-s)*i),l.l2r(s+(f[1]-s)*i)],l.setScale()}},1994:function(re,H,e){var o=e(9898),x=e(4096).g0,l=e(1828),i=l.numberFormat,r=e(2770),f=l.cleanNumber,s=l.ms2DateTime,n=l.dateTime2ms,t=l.ensureNumber,d=l.isArrayOrTypedArray,p=e(606),m=p.FP_SAFE,y=p.BADNUM,h=p.LOG_CLIP,T=p.ONEWEEK,g=p.ONEDAY,M=p.ONEHOUR,v=p.ONEMIN,c=p.ONESEC,u=e(1675),b=e(5555),w=b.HOUR_PATTERN,B=b.WEEKDAY_PATTERN;function C(O){return Math.pow(10,O)}function I(O){return O!=null}re.exports=function(L,X){X=X||{};var Z=L._id||"x",te=Z.charAt(0);function q(P,k){if(P>0)return Math.log(P)/Math.LN10;if(P<=0&&k&&L.range&&L.range.length===2){var z=L.range[0],Y=L.range[1];return .5*(z+Y-2*h*Math.abs(z-Y))}else return y}function ae(P,k,z,Y){if((Y||{}).msUTC&&r(P))return+P;var F=n(P,z||L.calendar);if(F===y)if(r(P)){P=+P;var J=Math.floor(l.mod(P+.05,1)*10),E=Math.round(P-J/10);F=n(new Date(E))+J/10}else return y;return F}function N(P,k,z){return s(P,k,z||L.calendar)}function D(P){return L._categories[Math.round(P)]}function _(P){if(I(P)){if(L._categoriesMap===void 0&&(L._categoriesMap={}),L._categoriesMap[P]!==void 0)return L._categoriesMap[P];L._categories.push(typeof P=="number"?String(P):P);var k=L._categories.length-1;return L._categoriesMap[P]=k,k}return y}function V(P,k){for(var z=new Array(k),Y=0;Y<k;Y++){var F=(P[0]||[])[Y],J=(P[1]||[])[Y];z[Y]=G([F,J])}return z}function G(P){if(L._categoriesMap)return L._categoriesMap[P]}function Q(P){var k=G(P);if(k!==void 0)return k;if(r(P))return+P}function ue(P){return r(P)?+P:G(P)}function le(P,k,z){return o.round(z+k*P,2)}function ye(P,k,z){return(P-z)/k}var Se=function(k){return r(k)?le(k,L._m,L._b):y},ce=function(P){return ye(P,L._m,L._b)};if(L.rangebreaks){var de=te==="y";Se=function(P){if(!r(P))return y;var k=L._rangebreaks.length;if(!k)return le(P,L._m,L._b);var z=de;L.range[0]>L.range[1]&&(z=!z);for(var Y=z?-1:1,F=Y*P,J=0,E=0;E<k;E++){var K=Y*L._rangebreaks[E].min,ie=Y*L._rangebreaks[E].max;if(F<K)break;if(F>ie)J=E+1;else{J=F<(K+ie)/2?E:E+1;break}}var ve=L._B[J]||0;return isFinite(ve)?le(P,L._m2,ve):0},ce=function(P){var k=L._rangebreaks.length;if(!k)return ye(P,L._m,L._b);for(var z=0,Y=0;Y<k&&!(P<L._rangebreaks[Y].pmin);Y++)P>L._rangebreaks[Y].pmax&&(z=Y+1);return ye(P,L._m2,L._B[z])}}L.c2l=L.type==="log"?q:t,L.l2c=L.type==="log"?C:t,L.l2p=Se,L.p2l=ce,L.c2p=L.type==="log"?function(P,k){return Se(q(P,k))}:Se,L.p2c=L.type==="log"?function(P){return C(ce(P))}:ce,["linear","-"].indexOf(L.type)!==-1?(L.d2r=L.r2d=L.d2c=L.r2c=L.d2l=L.r2l=f,L.c2d=L.c2r=L.l2d=L.l2r=t,L.d2p=L.r2p=function(P){return L.l2p(f(P))},L.p2d=L.p2r=ce,L.cleanPos=t):L.type==="log"?(L.d2r=L.d2l=function(P,k){return q(f(P),k)},L.r2d=L.r2c=function(P){return C(f(P))},L.d2c=L.r2l=f,L.c2d=L.l2r=t,L.c2r=q,L.l2d=C,L.d2p=function(P,k){return L.l2p(L.d2r(P,k))},L.p2d=function(P){return C(ce(P))},L.r2p=function(P){return L.l2p(f(P))},L.p2r=ce,L.cleanPos=t):L.type==="date"?(L.d2r=L.r2d=l.identity,L.d2c=L.r2c=L.d2l=L.r2l=ae,L.c2d=L.c2r=L.l2d=L.l2r=N,L.d2p=L.r2p=function(P,k,z){return L.l2p(ae(P,0,z))},L.p2d=L.p2r=function(P,k,z){return N(ce(P),k,z)},L.cleanPos=function(P){return l.cleanDate(P,y,L.calendar)}):L.type==="category"?(L.d2c=L.d2l=_,L.r2d=L.c2d=L.l2d=D,L.d2r=L.d2l_noadd=Q,L.r2c=function(P){var k=ue(P);return k!==void 0?k:L.fraction2r(.5)},L.l2r=L.c2r=t,L.r2l=ue,L.d2p=function(P){return L.l2p(L.r2c(P))},L.p2d=function(P){return D(ce(P))},L.r2p=L.d2p,L.p2r=ce,L.cleanPos=function(P){return typeof P=="string"&&P!==""?P:t(P)}):L.type==="multicategory"&&(L.r2d=L.c2d=L.l2d=D,L.d2r=L.d2l_noadd=Q,L.r2c=function(P){var k=Q(P);return k!==void 0?k:L.fraction2r(.5)},L.r2c_just_indices=G,L.l2r=L.c2r=t,L.r2l=Q,L.d2p=function(P){return L.l2p(L.r2c(P))},L.p2d=function(P){return D(ce(P))},L.r2p=L.d2p,L.p2r=ce,L.cleanPos=function(P){return Array.isArray(P)||typeof P=="string"&&P!==""?P:t(P)},L.setupMultiCategory=function(P){var k=L._traceIndices,z,Y,F=L._matchGroup;if(F&&L._categories.length===0){for(var J in F)if(J!==Z){var E=X[u.id2name(J)];k=k.concat(E._traceIndices)}}var K=[[0,{}],[0,{}]],ie=[];for(z=0;z<k.length;z++){var ve=P[k[z]];if(te in ve){var he=ve[te],Le=ve._length||l.minRowLength(he);if(d(he[0])&&d(he[1]))for(Y=0;Y<Le;Y++){var ke=he[0][Y],se=he[1][Y];I(ke)&&I(se)&&(ie.push([ke,se]),ke in K[0][1]||(K[0][1][ke]=K[0][0]++),se in K[1][1]||(K[1][1][se]=K[1][0]++))}}}for(ie.sort(function(ge,be){var Ee=K[0][1],we=Ee[ge[0]]-Ee[be[0]];if(we)return we;var Te=K[1][1];return Te[ge[1]]-Te[be[1]]}),z=0;z<ie.length;z++)_(ie[z])}),L.fraction2r=function(P){var k=L.r2l(L.range[0]),z=L.r2l(L.range[1]);return L.l2r(k+P*(z-k))},L.r2fraction=function(P){var k=L.r2l(L.range[0]),z=L.r2l(L.range[1]);return(L.r2l(P)-k)/(z-k)},L.cleanRange=function(P,k){k||(k={}),P||(P="range");var z=l.nestedProperty(L,P).get(),Y,F;if(L.type==="date"?F=l.dfltRange(L.calendar):te==="y"?F=b.DFLTRANGEY:L._name==="realaxis"?F=[0,1]:F=k.dfltRange||b.DFLTRANGEX,F=F.slice(),(L.rangemode==="tozero"||L.rangemode==="nonnegative")&&(F[0]=0),!z||z.length!==2){l.nestedProperty(L,P).set(F);return}for(L.type==="date"&&!L.autorange&&(z[0]=l.cleanDate(z[0],y,L.calendar),z[1]=l.cleanDate(z[1],y,L.calendar)),Y=0;Y<2;Y++)if(L.type==="date"){if(!l.isDateTime(z[Y],L.calendar)){L[P]=F;break}if(L.r2l(z[0])===L.r2l(z[1])){var J=l.constrain(L.r2l(z[0]),l.MIN_MS+1e3,l.MAX_MS-1e3);z[0]=L.l2r(J-1e3),z[1]=L.l2r(J+1e3);break}}else{if(!r(z[Y]))if(r(z[1-Y]))z[Y]=z[1-Y]*(Y?10:.1);else{L[P]=F;break}if(z[Y]<-m?z[Y]=-m:z[Y]>m&&(z[Y]=m),z[0]===z[1]){var E=Math.max(1,Math.abs(z[0]*1e-6));z[0]-=E,z[1]+=E}}},L.setScale=function(P){var k=X._size;if(L.overlaying){var z=u.getFromId({_fullLayout:X},L.overlaying);L.domain=z.domain}var Y=P&&L._r?"_r":"range",F=L.calendar;L.cleanRange(Y);var J=L.r2l(L[Y][0],F),E=L.r2l(L[Y][1],F),K=te==="y";if(K?(L._offset=k.t+(1-L.domain[1])*k.h,L._length=k.h*(L.domain[1]-L.domain[0]),L._m=L._length/(J-E),L._b=-L._m*E):(L._offset=k.l+L.domain[0]*k.w,L._length=k.w*(L.domain[1]-L.domain[0]),L._m=L._length/(E-J),L._b=-L._m*J),L._rangebreaks=[],L._lBreaks=0,L._m2=0,L._B=[],L.rangebreaks){var ie,ve;if(L._rangebreaks=L.locateBreaks(Math.min(J,E),Math.max(J,E)),L._rangebreaks.length){for(ie=0;ie<L._rangebreaks.length;ie++)ve=L._rangebreaks[ie],L._lBreaks+=Math.abs(ve.max-ve.min);var he=K;J>E&&(he=!he),he&&L._rangebreaks.reverse();var Le=he?-1:1;for(L._m2=Le*L._length/(Math.abs(E-J)-L._lBreaks),L._B.push(-L._m2*(K?E:J)),ie=0;ie<L._rangebreaks.length;ie++)ve=L._rangebreaks[ie],L._B.push(L._B[L._B.length-1]-Le*L._m2*(ve.max-ve.min));for(ie=0;ie<L._rangebreaks.length;ie++)ve=L._rangebreaks[ie],ve.pmin=Se(ve.min),ve.pmax=Se(ve.max)}}if(!isFinite(L._m)||!isFinite(L._b)||L._length<0)throw X._replotting=!1,new Error("Something went wrong with axis scaling")},L.maskBreaks=function(P){var k=L.rangebreaks||[],z,Y,F,J,E;k._cachedPatterns||(k._cachedPatterns=k.map(function(Ee){return Ee.enabled&&Ee.bounds?l.simpleMap(Ee.bounds,Ee.pattern?f:L.d2c):null})),k._cachedValues||(k._cachedValues=k.map(function(Ee){return Ee.enabled&&Ee.values?l.simpleMap(Ee.values,L.d2c).sort(l.sorterAsc):null}));for(var K=0;K<k.length;K++){var ie=k[K];if(ie.enabled){if(ie.bounds){var ve=ie.pattern;switch(z=k._cachedPatterns[K],Y=z[0],F=z[1],ve){case B:E=new Date(P),J=E.getUTCDay(),Y>F&&(F+=7,J<Y&&(J+=7));break;case w:E=new Date(P);var he=E.getUTCHours(),Le=E.getUTCMinutes(),ke=E.getUTCSeconds(),se=E.getUTCMilliseconds();J=he+(Le/60+ke/3600+se/36e5),Y>F&&(F+=24,J<Y&&(J+=24));break;case"":J=P;break}if(J>=Y&&J<F)return y}else for(var ge=k._cachedValues[K],be=0;be<ge.length;be++)if(Y=ge[be],F=Y+ie.dvalue,P>=Y&&P<F)return y}}return P},L.locateBreaks=function(P,k){var z,Y,F,J,E=[];if(!L.rangebreaks)return E;var K=L.rangebreaks.slice().sort(function(Te,Ne){return Te.pattern===B&&Ne.pattern===w?-1:Ne.pattern===B&&Te.pattern===w?1:0}),ie=function(Te,Ne){if(Te=l.constrain(Te,P,k),Ne=l.constrain(Ne,P,k),Te!==Ne){for(var $e=!0,je=0;je<E.length;je++){var He=E[je];Te<He.max&&Ne>=He.min&&(Te<He.min&&(He.min=Te),Ne>He.max&&(He.max=Ne),$e=!1)}$e&&E.push({min:Te,max:Ne})}};for(z=0;z<K.length;z++){var ve=K[z];if(ve.enabled)if(ve.bounds){var he=P,Le=k;ve.pattern&&(he=Math.floor(he)),Y=l.simpleMap(ve.bounds,ve.pattern?f:L.r2l),F=Y[0],J=Y[1];var ke=new Date(he),se,ge;switch(ve.pattern){case B:ge=T,se=((J<F?7:0)+(J-F))*g,he+=F*g-(ke.getUTCDay()*g+ke.getUTCHours()*M+ke.getUTCMinutes()*v+ke.getUTCSeconds()*c+ke.getUTCMilliseconds());break;case w:ge=g,se=((J<F?24:0)+(J-F))*M,he+=F*M-(ke.getUTCHours()*M+ke.getUTCMinutes()*v+ke.getUTCSeconds()*c+ke.getUTCMilliseconds());break;default:he=Math.min(Y[0],Y[1]),Le=Math.max(Y[0],Y[1]),ge=Le-he,se=ge}for(var be=he;be<Le;be+=ge)ie(be,be+se)}else for(var Ee=l.simpleMap(ve.values,L.d2c),we=0;we<Ee.length;we++)F=Ee[we],J=F+ve.dvalue,ie(F,J)}return E.sort(function(Te,Ne){return Te.min-Ne.min}),E},L.makeCalcdata=function(P,k,z){var Y,F,J,E,K=L.type,ie=K==="date"&&P[k+"calendar"];if(k in P){if(Y=P[k],E=P._length||l.minRowLength(Y),l.isTypedArray(Y)&&(K==="linear"||K==="log")){if(E===Y.length)return Y;if(Y.subarray)return Y.subarray(0,E)}if(K==="multicategory")return V(Y,E);for(F=new Array(E),J=0;J<E;J++)F[J]=L.d2c(Y[J],0,ie,z)}else{var ve=k+"0"in P?L.d2c(P[k+"0"],0,ie):0,he=P["d"+k]?Number(P["d"+k]):1;for(Y=P[{x:"y",y:"x"}[k]],E=P._length||Y.length,F=new Array(E),J=0;J<E;J++)F[J]=ve+J*he}if(L.rangebreaks)for(J=0;J<E;J++)F[J]=L.maskBreaks(F[J]);return F},L.isValidRange=function(P){return Array.isArray(P)&&P.length===2&&r(L.r2l(P[0]))&&r(L.r2l(P[1]))},L.isPtWithinRange=function(P,k){var z=L.c2l(P[te],null,k),Y=L.r2l(L.range[0]),F=L.r2l(L.range[1]);return Y<F?Y<=z&&z<=F:F<=z&&z<=Y},L._emptyCategories=function(){L._categories=[],L._categoriesMap={}},L.clearCalc=function(){var P=L._matchGroup;if(P){var k=null,z=null;for(var Y in P){var F=X[u.id2name(Y)];if(F._categories){k=F._categories,z=F._categoriesMap;break}}k&&z?(L._categories=k,L._categoriesMap=z):L._emptyCategories()}else L._emptyCategories();if(L._initialCategories)for(var J=0;J<L._initialCategories.length;J++)_(L._initialCategories[J])},L.sortByInitialCategories=function(){var P=[];if(L._emptyCategories(),L._initialCategories)for(var k=0;k<L._initialCategories.length;k++)_(L._initialCategories[k]);P=P.concat(L._traceIndices);var z=L._matchGroup;for(var Y in z)if(Z!==Y){var F=X[u.id2name(Y)];F._categories=L._categories,F._categoriesMap=L._categoriesMap,P=P.concat(F._traceIndices)}return P};var S=X._d3locale;L.type==="date"&&(L._dateFormat=S?S.timeFormat:x,L._extraFormat=X._extraFormat),L._separators=X.separators,L._numFormat=S?S.numberFormat:i,delete L._minDtick,delete L._forceTick0}},9652:function(re){re.exports=function(e){var o=["showexponent","showtickprefix","showticksuffix"],x=o.filter(function(i){return e[i]!==void 0}),l=function(i){return e[i]===e[x[0]]};if(x.every(l)||x.length===1)return e[x[0]]}},6115:function(re,H,e){var o=e(1828),x=e(7901).contrast,l=e(3838),i=e(9652),r=e(5501);re.exports=function(n,t,d,p,m){m||(m={});var y=d("labelalias");o.isPlainObject(y)||delete t.labelalias;var h=i(n),T=d("showticklabels");if(T){var g=m.font||{},M=t.color,v=t.ticklabelposition||"",c=v.indexOf("inside")!==-1?x(m.bgColor):M&&M!==l.color.dflt?M:g.color;if(o.coerceFont(d,"tickfont",{family:g.family,size:g.size,color:c}),!m.noTicklabelstep&&p!=="multicategory"&&p!=="log"&&d("ticklabelstep"),m.noAng||d("tickangle"),p!=="category"){var u=d("tickformat");r(n,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:f}),t.tickformatstops.length||delete t.tickformatstops,!m.noExp&&!u&&p!=="date"&&(d("showexponent",h),d("exponentformat"),d("minexponent"),d("separatethousands"))}}};function f(s,n){function t(p,m){return o.coerce(s,n,l.tickformatstops,p,m)}var d=t("enabled");d&&(t("dtickrange"),t("value"))}},8701:function(re,H,e){var o=e(1828),x=e(3838);re.exports=function(i,r,f,s){var n=s.isMinor,t=n?i.minor||{}:i,d=n?r.minor:r,p=n?x.minor:x,m=n?"minor.":"",y=o.coerce2(t,d,p,"ticklen",n?(r.ticklen||5)*.6:void 0),h=o.coerce2(t,d,p,"tickwidth",n?r.tickwidth||1:void 0),T=o.coerce2(t,d,p,"tickcolor",(n?r.tickcolor:void 0)||d.color),g=f(m+"ticks",!n&&s.outerTicks||y||h||T?"outside":"");g||(delete d.ticklen,delete d.tickwidth,delete d.tickcolor)}},6218:function(re,H,e){var o=e(6287),x=e(1828).isArrayOrTypedArray;re.exports=function(i,r,f,s,n){n||(n={});var t=n.isMinor,d=t?i.minor||{}:i,p=t?r.minor:r,m=t?"minor.":"";function y(b){var w=d[b];return w!==void 0?w:(p._template||{})[b]}var h=y("tick0"),T=y("dtick"),g=y("tickvals"),M=x(g)?"array":T?"linear":"auto",v=f(m+"tickmode",M);if(v==="auto"||v==="sync")f(m+"nticks");else if(v==="linear"){var c=p.dtick=o.dtick(T,s);p.tick0=o.tick0(h,s,r.calendar,c)}else if(s!=="multicategory"){var u=f(m+"tickvals");u===void 0?p.tickmode="auto":t||f("ticktext")}}},6847:function(re,H,e){var o=e(9898),x=e(3972),l=e(1828),i=e(1424),r=e(9298);re.exports=function(s,n,t,d){var p=s._fullLayout;if(n.length===0){r.redrawComponents(s);return}function m(w){var B=w.xaxis,C=w.yaxis;p._defs.select("#"+w.clipId+"> rect").call(i.setTranslate,0,0).call(i.setScale,1,1),w.plot.call(i.setTranslate,B._offset,C._offset).call(i.setScale,1,1);var I=w.plot.selectAll(".scatterlayer .trace");I.selectAll(".point").call(i.setPointGroupScale,1,1),I.selectAll(".textpoint").call(i.setTextPointsScale,1,1),I.call(i.hideOutsideRangePoints,w)}function y(w,B){var C=w.plotinfo,I=C.xaxis,O=C.yaxis,L=I._length,X=O._length,Z=!!w.xr1,te=!!w.yr1,q=[];if(Z){var ae=l.simpleMap(w.xr0,I.r2l),N=l.simpleMap(w.xr1,I.r2l),D=ae[1]-ae[0],_=N[1]-N[0];q[0]=(ae[0]*(1-B)+B*N[0]-ae[0])/(ae[1]-ae[0])*L,q[2]=L*(1-B+B*_/D),I.range[0]=I.l2r(ae[0]*(1-B)+B*N[0]),I.range[1]=I.l2r(ae[1]*(1-B)+B*N[1])}else q[0]=0,q[2]=L;if(te){var V=l.simpleMap(w.yr0,O.r2l),G=l.simpleMap(w.yr1,O.r2l),Q=V[1]-V[0],ue=G[1]-G[0];q[1]=(V[1]*(1-B)+B*G[1]-V[1])/(V[0]-V[1])*X,q[3]=X*(1-B+B*ue/Q),O.range[0]=I.l2r(V[0]*(1-B)+B*G[0]),O.range[1]=O.l2r(V[1]*(1-B)+B*G[1])}else q[1]=0,q[3]=X;r.drawOne(s,I,{skipTitle:!0}),r.drawOne(s,O,{skipTitle:!0}),r.redrawComponents(s,[I._id,O._id]);var le=Z?L/q[2]:1,ye=te?X/q[3]:1,Se=Z?q[0]:0,ce=te?q[1]:0,de=Z?q[0]/q[2]*L:0,S=te?q[1]/q[3]*X:0,P=I._offset-de,k=O._offset-S;C.clipRect.call(i.setTranslate,Se,ce).call(i.setScale,1/le,1/ye),C.plot.call(i.setTranslate,P,k).call(i.setScale,le,ye),i.setPointGroupScale(C.zoomScalePts,1/le,1/ye),i.setTextPointsScale(C.zoomScaleTxt,1/le,1/ye)}var h;d&&(h=d());function T(){for(var w={},B=0;B<n.length;B++){var C=n[B],I=C.plotinfo.xaxis,O=C.plotinfo.yaxis;C.xr1&&(w[I._name+".range"]=C.xr1.slice()),C.yr1&&(w[O._name+".range"]=C.yr1.slice())}return h&&h(),x.call("relayout",s,w).then(function(){for(var L=0;L<n.length;L++)m(n[L].plotinfo)})}function g(){for(var w={},B=0;B<n.length;B++){var C=n[B],I=C.plotinfo.xaxis,O=C.plotinfo.yaxis;C.xr0&&(w[I._name+".range"]=C.xr0.slice()),C.yr0&&(w[O._name+".range"]=C.yr0.slice())}return x.call("relayout",s,w).then(function(){for(var L=0;L<n.length;L++)m(n[L].plotinfo)})}var M,v,c,u=o.ease(t.easing);s._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(c),c=null,g()});function b(){v=Date.now();for(var w=Math.min(1,(v-M)/t.duration),B=u(w),C=0;C<n.length;C++)y(n[C],B);v-M>t.duration?(T(),c=window.cancelAnimationFrame(b)):c=window.requestAnimationFrame(b)}return M=Date.now(),c=window.requestAnimationFrame(b),Promise.resolve()}},951:function(re,H,e){var o=e(3972).traceIs,x=e(4322);re.exports=function(n,t,d,p){d("autotypenumbers",p.autotypenumbersDflt);var m=d("type",(p.splomStash||{}).type);m==="-"&&(l(t,p.data),t.type==="-"?t.type="linear":n.type=t.type)};function l(s,n){if(s.type==="-"){var t=s._id,d=t.charAt(0),p;t.indexOf("scene")!==-1&&(t=d);var m=i(n,t,d);if(m){if(m.type==="histogram"&&d==={v:"y",h:"x"}[m.orientation||"v"]){s.type="linear";return}var y=d+"calendar",h=m[y],T={noMultiCategory:!o(m,"cartesian")||o(m,"noMultiCategory")};if(m.type==="box"&&m._hasPreCompStats&&d==={h:"x",v:"y"}[m.orientation||"v"]&&(T.noMultiCategory=!0),T.autotypenumbers=s.autotypenumbers,f(m,d)){var g=r(m),M=[];for(p=0;p<n.length;p++){var v=n[p];!o(v,"box-violin")||(v[d+"axis"]||d)!==t||(v[g]!==void 0?M.push(v[g][0]):v.name!==void 0?M.push(v.name):M.push("text"),v[y]!==h&&(h=void 0))}s.type=x(M,h,T)}else if(m.type==="splom"){var c=m.dimensions,u=c[m._axesDim[t]];u.visible&&(s.type=x(u.values,h,T))}else s.type=x(m[d]||[m[d+"0"]],h,T)}}}function i(s,n,t){for(var d=0;d<s.length;d++){var p=s[d];if(p.type==="splom"&&p._length>0&&(p["_"+t+"axes"]||{})[n])return p;if((p[t+"axis"]||t)===n){if(f(p,t))return p;if((p[t]||[]).length||p[t+"0"])return p}}}function r(s){return{v:"x",h:"y"}[s.orientation||"v"]}function f(s,n){var t=r(s),d=o(s,"box-violin"),p=o(s._fullInput||{},"candlestick");return d&&!p&&n===t&&s[t]===void 0&&s[t+"0"]===void 0}},1137:function(re,H,e){var o=e(3972),x=e(1828);H.manageCommandObserver=function(n,t,d,p){var m={},y=!0;t&&t._commandObserver&&(m=t._commandObserver),m.cache||(m.cache={}),m.lookupTable={};var h=H.hasSimpleAPICommandBindings(n,d,m.lookupTable);if(t&&t._commandObserver){if(h)return m;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,m}if(h){l(n,h,m.cache),m.check=function(){if(y){var v=l(n,h,m.cache);return v.changed&&p&&m.lookupTable[v.value]!==void 0&&(m.disable(),Promise.resolve(p({value:v.value,type:h.type,prop:h.prop,traces:h.traces,index:m.lookupTable[v.value]})).then(m.enable,m.enable)),v.changed}};for(var T=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],g=0;g<T.length;g++)n._internalOn(T[g],m.check);m.remove=function(){for(var M=0;M<T.length;M++)n._removeInternalListener(T[M],m.check)}}else x.log("Unable to automatically bind plot updates to API command"),m.lookupTable={},m.remove=function(){};return m.disable=function(){y=!1},m.enable=function(){y=!0},t&&(t._commandObserver=m),m},H.hasSimpleAPICommandBindings=function(n,t,d){var p,m=t.length,y;for(p=0;p<m;p++){var h,T=t[p],g=T.method,M=T.args;if(Array.isArray(M)||(M=[]),!g)return!1;var v=H.computeAPICommandBindings(n,g,M);if(v.length!==1)return!1;if(!y)y=v[0],Array.isArray(y.traces)&&y.traces.sort();else{if(h=v[0],h.type!==y.type||h.prop!==y.prop)return!1;if(Array.isArray(y.traces))if(Array.isArray(h.traces)){h.traces.sort();for(var c=0;c<y.traces.length;c++)if(y.traces[c]!==h.traces[c])return!1}else return!1;else if(h.prop!==y.prop)return!1}h=v[0];var u=h.value;if(Array.isArray(u))if(u.length===1)u=u[0];else return!1;d&&(d[u]=p)}return y};function l(n,t,d){var p,m,y,h=!1;if(t.type==="data")p=n._fullData[t.traces!==null?t.traces[0]:0];else if(t.type==="layout")p=n._fullLayout;else return!1;return m=x.nestedProperty(p,t.prop).get(),y=d[t.type]=d[t.type]||{},y.hasOwnProperty(t.prop)&&y[t.prop]!==m&&(h=!0),y[t.prop]=m,{changed:h,value:m}}H.executeAPICommand=function(n,t,d){if(t==="skip")return Promise.resolve();var p=o.apiMethodRegistry[t],m=[n];Array.isArray(d)||(d=[]);for(var y=0;y<d.length;y++)m.push(d[y]);return p.apply(null,m).catch(function(h){return x.warn("API call to Plotly."+t+" rejected.",h),Promise.reject(h)})},H.computeAPICommandBindings=function(n,t,d){var p;switch(Array.isArray(d)||(d=[]),t){case"restyle":p=f(n,d);break;case"relayout":p=r(n,d);break;case"update":p=f(n,[d[0],d[2]]).concat(r(n,[d[1]]));break;case"animate":p=i(n,d);break;default:p=[]}return p};function i(n,t){return Array.isArray(t[0])&&t[0].length===1&&["string","number"].indexOf(typeof t[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function r(n,t){var d=[],p=t[0],m={};if(typeof p=="string")m[p]=t[1];else if(x.isPlainObject(p))m=p;else return d;return s(m,function(y,h,T){d.push({type:"layout",prop:y,value:T})},"",0),d}function f(n,t){var d,p,m,y,h=[];if(p=t[0],m=t[1],d=t[2],y={},typeof p=="string")y[p]=m;else if(x.isPlainObject(p))y=p,d===void 0&&(d=m);else return h;return d===void 0&&(d=null),s(y,function(T,g,M){var v,c;if(Array.isArray(M)){c=M.slice();var u=Math.min(c.length,n.data.length);d&&(u=Math.min(u,d.length)),v=[];for(var b=0;b<u;b++)v[b]=d?d[b]:b}else c=M,v=d?d.slice():null;if(v===null)Array.isArray(c)&&(c=c[0]);else if(Array.isArray(v)){if(!Array.isArray(c)){var w=c;c=[];for(var B=0;B<v.length;B++)c[B]=w}c.length=Math.min(v.length,c.length)}h.push({type:"data",prop:T,traces:v,value:c})},"",0),h}function s(n,t,d,p){Object.keys(n).forEach(function(m){var y=n[m];if(m[0]!=="_"){var h=d+(p>0?".":"")+m;x.isPlainObject(y)?s(y,t,h,p+1):t(h,m,y)}})}},7670:function(re,H,e){var o=e(1426).extendFlat;H.Y=function(x,l){x=x||{},l=l||{};var i={valType:"info_array",editType:x.editType,items:[{valType:"number",min:0,max:1,editType:x.editType},{valType:"number",min:0,max:1,editType:x.editType}],dflt:[0,1]};x.name&&x.name+"",x.trace,l.description&&""+l.description;var r={x:o({},i,{}),y:o({},i,{}),editType:x.editType};return x.noGridCell||(r.row={valType:"integer",min:0,dflt:0,editType:x.editType},r.column={valType:"integer",min:0,dflt:0,editType:x.editType}),r},H.c=function(x,l,i,r){var f=r&&r.x||[0,1],s=r&&r.y||[0,1],n=l.grid;if(n){var t=i("domain.column");t!==void 0&&(t<n.columns?f=n._domains.x[t]:delete x.domain.column);var d=i("domain.row");d!==void 0&&(d<n.rows?s=n._domains.y[d]:delete x.domain.row)}var p=i("domain.x",f),m=i("domain.y",s);p[0]<p[1]||(x.domain.x=f.slice()),m[0]<m[1]||(x.domain.y=s.slice())}},1940:function(re){re.exports=function(H){var e=H.editType,o=H.colorEditType;o===void 0&&(o=e);var x={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:o},editType:e};return H.autoSize&&(x.size.dflt="auto"),H.autoColor&&(x.color.dflt="auto"),H.arrayOk&&(x.family.arrayOk=!0,x.size.arrayOk=!0,x.color.arrayOk=!0),x}},1391:function(re){re.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},7659:function(re,H,e){var o=e(3972);e(5555).SUBPLOT_PATTERN,H.a0=function(x,l){var i=[],r=[],f;if(typeof l=="string"?f=o.getModule(l).plot:typeof l=="function"?f=l:f=l.plot,!f)return[i,x];for(var s=0;s<x.length;s++){var n=x[s],t=n[0].trace;t.visible!==!0||t._length===0||(t._module.plot===f?i.push(n):r.push(n))}return[i,r]}},3538:function(re){function H(o,x){var l=[0,0,0,0],i,r;for(i=0;i<4;++i)for(r=0;r<4;++r)l[r]+=o[4*i+r]*x[i];return l}function e(o,x){var l=H(o.projection,H(o.view,H(o.model,[x[0],x[1],x[2],1])));return l}re.exports=e},820:function(re,H,e){var o=e(1940),x=e(5594),l=e(2399),i=e(9241),r=e(3777),f=e(5025),s=e(1426).extendFlat,n=o({editType:"calc"});n.family.dflt='"Open Sans", verdana, arial, sans-serif',n.size.dflt=12,n.color.dflt=l.defaultLine,re.exports={font:n,title:{text:{valType:"string",editType:"layoutstyle"},font:o({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:s(f({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:l.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:l.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:l.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:i.newshape,activeshape:i.activeshape,newselection:r.newselection,activeselection:r.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:s({},x.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:o({editType:"layoutstyle"})}}},5025:function(re){re.exports=function(H){var e=H.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},4875:function(re,H,e){var o=e(9898),x=e(4096).Dq,l=e(721).FF,i=e(2770),r=e(3972),f=e(6281),s=e(4467),n=e(1828),t=e(7901),d=e(606).BADNUM,p=e(1675),m=e(1873).clearOutline,y=e(1479),h=e(5594),T=e(1391),g=e(7659).a0,M=n.relinkPrivateKeys,v=n._,c=re.exports={};n.extendFlat(c,r),c.attributes=e(9012),c.attributes.type.values=c.allTypes,c.fontAttrs=e(1940),c.layoutAttributes=e(820),c.fontWeight="normal";var u=c.transformsRegistry,b=e(1137);c.executeAPICommand=b.executeAPICommand,c.computeAPICommandBindings=b.computeAPICommandBindings,c.manageCommandObserver=b.manageCommandObserver,c.hasSimpleAPICommandBindings=b.hasSimpleAPICommandBindings,c.redrawText=function(S){return S=n.getGraphDiv(S),new Promise(function(P){setTimeout(function(){S._fullLayout&&(r.getComponentMethod("annotations","draw")(S),r.getComponentMethod("legend","draw")(S),r.getComponentMethod("colorbar","draw")(S),P(c.previousPromises(S)))},300)})},c.resize=function(S){S=n.getGraphDiv(S);var P,k=new Promise(function(z,Y){(!S||n.isHidden(S))&&Y(new Error("Resize must be passed a displayed plot div element.")),S._redrawTimer&&clearTimeout(S._redrawTimer),S._resolveResize&&(P=S._resolveResize),S._resolveResize=z,S._redrawTimer=setTimeout(function(){if(!S.layout||S.layout.width&&S.layout.height||n.isHidden(S)){z(S);return}delete S.layout.width,delete S.layout.height;var F=S.changed;S.autoplay=!0,r.call("relayout",S,{autosize:!0}).then(function(){S.changed=F,S._resolveResize===z&&(delete S._resolveResize,z(S))})},100)});return P&&P(k),k},c.previousPromises=function(S){if((S._promises||[]).length)return Promise.all(S._promises).then(function(){S._promises=[]})},c.addLinks=function(S){if(!(!S._context.showLink&&!S._context.showSources)){var P=S._fullLayout,k=n.ensureSingle(P._paper,"text","js-plot-link-container",function(K){K.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:t.defaultLine,"pointer-events":"all"}).each(function(){var ie=o.select(this);ie.append("tspan").classed("js-link-to-tool",!0),ie.append("tspan").classed("js-link-spacer",!0),ie.append("tspan").classed("js-sourcelinks",!0)})}),z=k.node(),Y={y:P._paper.attr("height")-9};document.body.contains(z)&&z.getComputedTextLength()>=P.width-20?(Y["text-anchor"]="start",Y.x=5):(Y["text-anchor"]="end",Y.x=P._paper.attr("width")-7),k.attr(Y);var F=k.select(".js-link-to-tool"),J=k.select(".js-link-spacer"),E=k.select(".js-sourcelinks");S._context.showSources&&S._context.showSources(S),S._context.showLink&&w(S,F),J.text(F.text()&&E.text()?" - ":"")}};function w(S,P){P.text("");var k=P.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(S._context.linkText+" "+String.fromCharCode(187));if(S._context.sendData)k.on("click",function(){c.sendDataToCloud(S)});else{var z=window.location.pathname.split("/"),Y=window.location.search;k.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+z[2].split(".")[0]+"/"+z[1]+Y})}}c.sendDataToCloud=function(S){var P=(window.PLOTLYENV||{}).BASE_URL||S._context.plotlyServerURL;if(P){S.emit("plotly_beforeexport");var k=o.select(S).append("div").attr("id","hiddenform").style("display","none"),z=k.append("form").attr({action:P+"/external",method:"post",target:"_blank"}),Y=z.append("input").attr({type:"text",name:"data"});return Y.node().value=c.graphJson(S,!1,"keepdata"),z.node().submit(),k.remove(),S.emit("plotly_afterexport"),!1}};var B=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],C=["year","month","dayMonth","dayMonthYear"];c.supplyDefaults=function(S,P){var k=P&&P.skipUpdateCalc,z=S._fullLayout||{};if(z._skipDefaults){delete z._skipDefaults;return}var Y=S._fullLayout={},F=S.layout||{},J=S._fullData||[],E=S._fullData=[],K=S.data||[],ie=S.calcdata||[],ve=S._context||{},he;S._transitionData||c.createTransitionData(S),Y._dfltTitle={plot:v(S,"Click to enter Plot title"),x:v(S,"Click to enter X axis title"),y:v(S,"Click to enter Y axis title"),colorbar:v(S,"Click to enter Colorscale title"),annotation:v(S,"new text")},Y._traceWord=v(S,"trace");var Le=L(S,B);if(Y._mapboxAccessToken=ve.mapboxAccessToken,z._initialAutoSizeIsDone){var ke=z.width,se=z.height;c.supplyLayoutGlobalDefaults(F,Y,Le),F.width||(Y.width=ke),F.height||(Y.height=se),c.sanitizeMargins(Y)}else{c.supplyLayoutGlobalDefaults(F,Y,Le);var ge=!F.width||!F.height,be=Y.autosize,Ee=ve.autosizable,we=ge&&(be||Ee);we?c.plotAutoSize(S,F,Y):ge&&c.sanitizeMargins(Y),!be&&ge&&(F.width=Y.width,F.height=Y.height)}Y._d3locale=X(Le,Y.separators),Y._extraFormat=L(S,C),Y._initialAutoSizeIsDone=!0,Y._dataLength=K.length,Y._modules=[],Y._visibleModules=[],Y._basePlotModules=[];var Te=Y._subplots=O(),Ne=Y._splomAxes={x:{},y:{}},$e=Y._splomSubplots={};Y._splomGridDflt={},Y._scatterStackOpts={},Y._firstScatter={},Y._alignmentOpts={},Y._colorAxes={},Y._requestRangeslider={},Y._traceUids=I(J,K),Y._globalTransforms=(S._context||{}).globalTransforms,c.supplyDataDefaults(K,E,F,Y);var je=Object.keys(Ne.x),He=Object.keys(Ne.y);if(je.length>1&&He.length>1){for(r.getComponentMethod("grid","sizeDefaults")(F,Y),he=0;he<je.length;he++)n.pushUnique(Te.xaxis,je[he]);for(he=0;he<He.length;he++)n.pushUnique(Te.yaxis,He[he]);for(var st in $e)n.pushUnique(Te.cartesian,st)}if(Y._has=c._hasPlotType.bind(Y),J.length===E.length)for(he=0;he<E.length;he++)M(E[he],J[he]);c.supplyLayoutModuleDefaults(F,Y,E,S._transitionData);var nt=Y._visibleModules,dt=[];for(he=0;he<nt.length;he++){var ht=nt[he].crossTraceDefaults;ht&&n.pushUnique(dt,ht)}for(he=0;he<dt.length;he++)dt[he](E,Y);Y._hasOnlyLargeSploms=Y._basePlotModules.length===1&&Y._basePlotModules[0].name==="splom"&&je.length>15&&He.length>15&&Y.shapes.length===0&&Y.images.length===0,c.linkSubplots(E,Y,J,z),c.cleanPlot(E,Y,J,z);var Pt=!!(z._has&&z._has("gl2d")),bt=!!(Y._has&&Y._has("gl2d")),At=!!(z._has&&z._has("cartesian")),wt=!!(Y._has&&Y._has("cartesian")),Lt=At||Pt,kt=wt||bt;Lt&&!kt?z._bgLayer.remove():kt&&!Lt&&(Y._shouldCreateBgLayer=!0),z._zoomlayer&&!S._dragging&&m({_fullLayout:z}),Z(E,Y),M(Y,z),r.getComponentMethod("colorscale","crossTraceDefaults")(E,Y),Y._preGUI||(Y._preGUI={}),Y._tracePreGUI||(Y._tracePreGUI={});var Ce=Y._tracePreGUI,Ae={},Pe;for(Pe in Ce)Ae[Pe]="old";for(he=0;he<E.length;he++)Pe=E[he]._fullInput.uid,Ae[Pe]||(Ce[Pe]={}),Ae[Pe]="new";for(Pe in Ae)Ae[Pe]==="old"&&delete Ce[Pe];D(Y),r.getComponentMethod("rangeslider","makeData")(Y),!k&&ie.length===E.length&&c.supplyDefaultsUpdateCalc(ie,E)},c.supplyDefaultsUpdateCalc=function(S,P){for(var k=0;k<P.length;k++){var z=P[k],Y=(S[k]||[])[0];if(Y&&Y.trace){var F=Y.trace;if(F._hasCalcTransform){var J=F._arrayAttrs,E,K,ie;for(E=0;E<J.length;E++)K=J[E],ie=n.nestedProperty(F,K).get().slice(),n.nestedProperty(z,K).set(ie)}Y.trace=z}}};function I(S,P){var k=P.length,z=[],Y,F;for(Y=0;Y<S.length;Y++){var J=S[Y]._fullInput;J!==F&&z.push(J),F=J}var E=z.length,K=new Array(k),ie={};function ve(ke,se){K[se]=ke,ie[ke]=1}function he(ke,se){if(ke&&typeof ke=="string"&&!ie[ke])return ve(ke,se),!0}for(Y=0;Y<k;Y++){var Le=P[Y].uid;typeof Le=="number"&&(Le=String(Le)),!he(Le,Y)&&(Y<E&&he(z[Y].uid,Y)||ve(n.randstr(ie),Y))}return K}function O(){var S=r.collectableSubplotTypes,P={},k,z;if(!S){S=[];var Y=r.subplotsRegistry;for(var F in Y){var J=Y[F],E=J.attr;if(E&&(S.push(F),Array.isArray(E)))for(z=0;z<E.length;z++)n.pushUnique(S,E[z])}}for(k=0;k<S.length;k++)P[S[k]]=[];return P}function L(S,P){var k=S._context.locale;k||(k="en-US");var z=!1,Y={};function F(he){for(var Le=!0,ke=0;ke<P.length;ke++){var se=P[ke];Y[se]||(he[se]?Y[se]=he[se]:Le=!1)}Le&&(z=!0)}for(var J=0;J<2;J++){for(var E=S._context.locales,K=0;K<2;K++){var ie=(E[k]||{}).format;if(ie&&(F(ie),z))break;E=r.localeRegistry}var ve=k.split("-")[0];if(z||ve===k)break;k=ve}return z||F(r.localeRegistry.en.format),Y}function X(S,P){return S.decimal=P.charAt(0),S.thousands=P.charAt(1),{numberFormat:function(k){try{k=l(S).format(n.adjustFormat(k))}catch{return n.warnBadFormat(k),n.noFormat}return k},timeFormat:x(S).utcFormat}}function Z(S,P){var k,z=[];P.meta&&(k=P._meta={meta:P.meta,layout:{meta:P.meta}});for(var Y=0;Y<S.length;Y++){var F=S[Y];F.meta?z[F.index]=F._meta={meta:F.meta}:P.meta&&(F._meta={meta:P.meta}),P.meta&&(F._meta.layout={meta:P.meta})}z.length&&(k||(k=P._meta={}),k.data=z)}c.createTransitionData=function(S){S._transitionData||(S._transitionData={}),S._transitionData._frames||(S._transitionData._frames=[]),S._transitionData._frameHash||(S._transitionData._frameHash={}),S._transitionData._counter||(S._transitionData._counter=0),S._transitionData._interruptCallbacks||(S._transitionData._interruptCallbacks=[])},c._hasPlotType=function(S){var P,k=this._basePlotModules||[];for(P=0;P<k.length;P++)if(k[P].name===S)return!0;var z=this._modules||[];for(P=0;P<z.length;P++){var Y=z[P].name;if(Y===S)return!0;var F=r.modules[Y];if(F&&F.categories[S])return!0}return!1},c.cleanPlot=function(S,P,k,z){var Y,F,J=z._basePlotModules||[];for(Y=0;Y<J.length;Y++){var E=J[Y];E.clean&&E.clean(S,P,k,z)}var K=z._has&&z._has("gl"),ie=P._has&&P._has("gl");K&&!ie&&z._glcontainer!==void 0&&(z._glcontainer.selectAll(".gl-canvas").remove(),z._glcontainer.selectAll(".no-webgl").remove(),z._glcanvas=null);var ve=!!z._infolayer;e:for(Y=0;Y<k.length;Y++){var he=k[Y],Le=he.uid;for(F=0;F<S.length;F++){var ke=S[F];if(Le===ke.uid)continue e}ve&&z._infolayer.select(".cb"+Le).remove()}},c.linkSubplots=function(S,P,k,z){var Y,F,J=z._plots||{},E=P._plots={},K=P._subplots,ie={_fullData:S,_fullLayout:P},ve=K.cartesian.concat(K.gl2d||[]);for(Y=0;Y<ve.length;Y++){var he=ve[Y],Le=J[he],ke=p.getFromId(ie,he,"x"),se=p.getFromId(ie,he,"y"),ge;for(Le?ge=E[he]=Le:(ge=E[he]={},ge.id=he),ke._counterAxes.push(se._id),se._counterAxes.push(ke._id),ke._subplotsWith.push(he),se._subplotsWith.push(he),ge.xaxis=ke,ge.yaxis=se,ge._hasClipOnAxisFalse=!1,F=0;F<S.length;F++){var be=S[F];if(be.xaxis===ge.xaxis._id&&be.yaxis===ge.yaxis._id&&be.cliponaxis===!1){ge._hasClipOnAxisFalse=!0;break}}}var Ee=p.list(ie,null,!0),we;for(Y=0;Y<Ee.length;Y++){we=Ee[Y];var Te=null;we.overlaying&&(Te=p.getFromId(ie,we.overlaying),Te&&Te.overlaying&&(we.overlaying=!1,Te=null)),we._mainAxis=Te||we,Te&&(we.domain=Te.domain.slice()),we._anchorAxis=we.anchor==="free"?null:p.getFromId(ie,we.anchor)}for(Y=0;Y<Ee.length;Y++)if(we=Ee[Y],we._counterAxes.sort(p.idSort),we._subplotsWith.sort(n.subplotSort),we._mainSubplot=te(we,P),we._counterAxes.length&&(we.spikemode&&we.spikemode.indexOf("across")!==-1||we.automargin&&we.mirror&&we.anchor!=="free"||r.getComponentMethod("rangeslider","isVisible")(we))){var Ne=1,$e=0;for(F=0;F<we._counterAxes.length;F++){var je=p.getFromId(ie,we._counterAxes[F]);Ne=Math.min(Ne,je.domain[0]),$e=Math.max($e,je.domain[1])}Ne<$e&&(we._counterDomainMin=Ne,we._counterDomainMax=$e)}};function te(S,P){var k={_fullLayout:P},z=S._id.charAt(0)==="x",Y=S._mainAxis._anchorAxis,F="",J="",E="";if(Y&&(E=Y._mainAxis._id,F=z?S._id+E:E+S._id),!F||!P._plots[F]){F="";for(var K=S._counterAxes,ie=0;ie<K.length;ie++){var ve=K[ie],he=z?S._id+ve:ve+S._id;J||(J=he);var Le=p.getFromId(k,ve);if(E&&Le.overlaying===E){F=he;break}}}return F||J}c.clearExpandedTraceDefaultColors=function(S){var P,k,z;function Y(J,E,K,ie){k[ie]=E,k.length=ie+1,J.valType==="color"&&J.dflt===void 0&&P.push(k.join("."))}for(k=[],P=S._module._colorAttrs,P||(S._module._colorAttrs=P=[],f.crawl(S._module.attributes,Y)),z=0;z<P.length;z++){var F=n.nestedProperty(S,"_input."+P[z]);F.get()||n.nestedProperty(S,P[z]).set(null)}},c.supplyDataDefaults=function(S,P,k,z){var Y=z._modules,F=z._visibleModules,J=z._basePlotModules,E=0,K=0,ie,ve,he;z._transformModules=[];function Le(He){P.push(He);var st=He._module;st&&(n.pushUnique(Y,st),He.visible===!0&&n.pushUnique(F,st),n.pushUnique(J,He._module.basePlotModule),E++,He._input.visible!==!1&&K++)}var ke={},se=[],ge=(k.template||{}).data||{},be=s.traceTemplater(ge);for(ie=0;ie<S.length;ie++){if(he=S[ie],ve=be.newTrace(he),ve.uid=z._traceUids[ie],c.supplyTraceDefaults(he,ve,K,z,ie),ve.index=ie,ve._input=he,ve._expandedIndex=E,ve.transforms&&ve.transforms.length)for(var Ee=he.visible!==!1&&ve.visible===!1,we=ae(ve,P,k,z),Te=0;Te<we.length;Te++){var Ne=we[Te],$e={_template:ve._template,type:ve.type,uid:ve.uid+Te};Ee&&Ne.visible===!1&&delete Ne.visible,c.supplyTraceDefaults(Ne,$e,E,z,ie),M($e,Ne),$e.index=ie,$e._input=he,$e._fullInput=ve,$e._expandedIndex=E,$e._expandedInput=Ne,Le($e)}else ve._fullInput=ve,ve._expandedInput=ve,Le(ve);r.traceIs(ve,"carpetAxis")&&(ke[ve.carpet]=ve),r.traceIs(ve,"carpetDependent")&&se.push(ie)}for(ie=0;ie<se.length;ie++)if(ve=P[se[ie]],!!ve.visible){var je=ke[ve.carpet];if(ve._carpet=je,!je||!je.visible){ve.visible=!1;continue}ve.xaxis=je.xaxis,ve.yaxis=je.yaxis}},c.supplyAnimationDefaults=function(S){S=S||{};var P,k={};function z(Y,F){return n.coerce(S||{},k,h,Y,F)}if(z("mode"),z("direction"),z("fromcurrent"),Array.isArray(S.frame))for(k.frame=[],P=0;P<S.frame.length;P++)k.frame[P]=c.supplyAnimationFrameDefaults(S.frame[P]||{});else k.frame=c.supplyAnimationFrameDefaults(S.frame||{});if(Array.isArray(S.transition))for(k.transition=[],P=0;P<S.transition.length;P++)k.transition[P]=c.supplyAnimationTransitionDefaults(S.transition[P]||{});else k.transition=c.supplyAnimationTransitionDefaults(S.transition||{});return k},c.supplyAnimationFrameDefaults=function(S){var P={};function k(z,Y){return n.coerce(S||{},P,h.frame,z,Y)}return k("duration"),k("redraw"),P},c.supplyAnimationTransitionDefaults=function(S){var P={};function k(z,Y){return n.coerce(S||{},P,h.transition,z,Y)}return k("duration"),k("easing"),P},c.supplyFrameDefaults=function(S){var P={};function k(z,Y){return n.coerce(S,P,T,z,Y)}return k("group"),k("name"),k("traces"),k("baseframe"),k("data"),k("layout"),P},c.supplyTraceDefaults=function(S,P,k,z,Y){var F=z.colorway||t.defaults,J=F[k%F.length],E;function K(we,Te){return n.coerce(S,P,c.attributes,we,Te)}var ie=K("visible");K("type"),K("name",z._traceWord+" "+Y),K("uirevision",z.uirevision);var ve=c.getModule(P);if(P._module=ve,ve){var he=ve.basePlotModule,Le=he.attr,ke=he.attributes;if(Le&&ke){var se=z._subplots,ge="";if(ie||he.name!=="gl2d"){if(Array.isArray(Le))for(E=0;E<Le.length;E++){var be=Le[E],Ee=n.coerce(S,P,ke,be);se[be]&&n.pushUnique(se[be],Ee),ge+=Ee}else ge=n.coerce(S,P,ke,Le);se[he.name]&&n.pushUnique(se[he.name],ge)}}}return ie&&(K("customdata"),K("ids"),K("meta"),r.traceIs(P,"showLegend")?(n.coerce(S,P,ve.attributes.showlegend?ve.attributes:c.attributes,"showlegend"),K("legend"),K("legendwidth"),K("legendgroup"),K("legendgrouptitle.text"),K("legendrank"),P._dfltShowLegend=!0):P._dfltShowLegend=!1,ve&&ve.supplyDefaults(S,P,J,z),r.traceIs(P,"noOpacity")||K("opacity"),r.traceIs(P,"notLegendIsolatable")&&(P.visible=!!P.visible),r.traceIs(P,"noHover")||(P.hovertemplate||n.coerceHoverinfo(S,P,z),P.type!=="parcats"&&r.getComponentMethod("fx","supplyDefaults")(S,P,J,z)),ve&&ve.selectPoints&&K("selectedpoints"),c.supplyTransformDefaults(S,P,z)),P};function q(S){var P=S.transforms;if(Array.isArray(P)&&P.length)for(var k=0;k<P.length;k++){var z=P[k],Y=z._module||u[z.type];if(Y&&Y.makesData)return!0}return!1}c.hasMakesDataTransform=q,c.supplyTransformDefaults=function(S,P,k){if(P._length||q(S)){var z=k._globalTransforms||[],Y=k._transformModules||[];if(!(!Array.isArray(S.transforms)&&z.length===0))for(var F=S.transforms||[],J=z.concat(F),E=P.transforms=[],K=0;K<J.length;K++){var ie=J[K],ve=ie.type,he=u[ve],Le,ke=!(ie._module&&ie._module===he),se=he&&typeof he.transform=="function";he||n.warn("Unrecognized transform type "+ve+"."),he&&he.supplyDefaults&&(ke||se)?(Le=he.supplyDefaults(ie,P,k,S),Le.type=ve,Le._module=he,n.pushUnique(Y,he)):Le=n.extendFlat({},ie),E.push(Le)}}};function ae(S,P,k,z){for(var Y=S.transforms,F=[S],J=0;J<Y.length;J++){var E=Y[J],K=u[E.type];K&&K.transform&&(F=K.transform(F,{transform:E,fullTrace:S,fullData:P,layout:k,fullLayout:z,transformIndex:J}))}return F}c.supplyLayoutGlobalDefaults=function(S,P,k){function z(he,Le){return n.coerce(S,P,c.layoutAttributes,he,Le)}var Y=S.template;n.isPlainObject(Y)&&(P.template=Y,P._template=Y.layout,P._dataTemplate=Y.data),z("autotypenumbers");var F=n.coerceFont(z,"font"),J=F.size;n.coerceFont(z,"title.font",n.extendFlat({},F,{size:Math.round(J*1.4)})),z("title.text",P._dfltTitle.plot),z("title.xref");var E=z("title.yref");z("title.pad.t"),z("title.pad.r"),z("title.pad.b"),z("title.pad.l");var K=z("title.automargin");z("title.x"),z("title.xanchor"),z("title.y"),z("title.yanchor"),K&&(E==="paper"&&(P.title.y!==0&&(P.title.y=1),P.title.yanchor==="auto"&&(P.title.yanchor=P.title.y===0?"top":"bottom")),E==="container"&&(P.title.y==="auto"&&(P.title.y=1),P.title.yanchor==="auto"&&(P.title.yanchor=P.title.y<.5?"bottom":"top")));var ie=z("uniformtext.mode");ie&&z("uniformtext.minsize"),z("autosize",!(S.width&&S.height)),z("width"),z("height"),z("minreducedwidth"),z("minreducedheight"),z("margin.l"),z("margin.r"),z("margin.t"),z("margin.b"),z("margin.pad"),z("margin.autoexpand"),S.width&&S.height&&c.sanitizeMargins(P),r.getComponentMethod("grid","sizeDefaults")(S,P),z("paper_bgcolor"),z("separators",k.decimal+k.thousands),z("hidesources"),z("colorway"),z("datarevision");var ve=z("uirevision");z("editrevision",ve),z("selectionrevision",ve),r.getComponentMethod("modebar","supplyLayoutDefaults")(S,P),r.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(S,P,z),r.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(S,P,z),z("meta"),n.isPlainObject(S.transition)&&(z("transition.duration"),z("transition.easing"),z("transition.ordering")),r.getComponentMethod("calendars","handleDefaults")(S,P,"calendar"),r.getComponentMethod("fx","supplyLayoutGlobalDefaults")(S,P,z),n.coerce(S,P,y,"scattermode")};function N(S){return typeof S=="string"&&S.substr(S.length-2)==="px"&&parseFloat(S)}c.plotAutoSize=function(P,k,z){var Y=P._context||{},F=Y.frameMargins,J,E,K=n.isPlotDiv(P);if(K&&P.emit("plotly_autosize"),Y.fillFrame)J=window.innerWidth,E=window.innerHeight,document.body.style.overflow="hidden";else{var ie=K?window.getComputedStyle(P):{};if(J=N(ie.width)||N(ie.maxWidth)||z.width,E=N(ie.height)||N(ie.maxHeight)||z.height,i(F)&&F>0){var ve=1-2*F;J=Math.round(ve*J),E=Math.round(ve*E)}}var he=c.layoutAttributes.width.min,Le=c.layoutAttributes.height.min;J<he&&(J=he),E<Le&&(E=Le);var ke=!k.width&&Math.abs(z.width-J)>1,se=!k.height&&Math.abs(z.height-E)>1;(se||ke)&&(ke&&(z.width=J),se&&(z.height=E)),P._initialAutoSize||(P._initialAutoSize={width:J,height:E}),c.sanitizeMargins(z)},c.supplyLayoutModuleDefaults=function(S,P,k,z){var Y=r.componentsRegistry,F=P._basePlotModules,J,E,K,ie=r.subplotsRegistry.cartesian;for(J in Y)K=Y[J],K.includeBasePlot&&K.includeBasePlot(S,P);F.length||F.push(ie),P._has("cartesian")&&(r.getComponentMethod("grid","contentDefaults")(S,P),ie.finalizeSubplots(S,P));for(var ve in P._subplots)P._subplots[ve].sort(n.subplotSort);for(E=0;E<F.length;E++)K=F[E],K.supplyLayoutDefaults&&K.supplyLayoutDefaults(S,P,k);var he=P._modules;for(E=0;E<he.length;E++)K=he[E],K.supplyLayoutDefaults&&K.supplyLayoutDefaults(S,P,k);var Le=P._transformModules;for(E=0;E<Le.length;E++)K=Le[E],K.supplyLayoutDefaults&&K.supplyLayoutDefaults(S,P,k,z);for(J in Y)K=Y[J],K.supplyLayoutDefaults&&K.supplyLayoutDefaults(S,P,k)},c.purge=function(S){var P=S._fullLayout||{};P._glcontainer!==void 0&&(P._glcontainer.selectAll(".gl-canvas").remove(),P._glcontainer.remove(),P._glcanvas=null),P._modeBar&&P._modeBar.destroy(),S._transitionData&&(S._transitionData._interruptCallbacks&&(S._transitionData._interruptCallbacks.length=0),S._transitionData._animationRaf&&window.cancelAnimationFrame(S._transitionData._animationRaf)),n.clearThrottle(),n.clearResponsive(S),delete S.data,delete S.layout,delete S._fullData,delete S._fullLayout,delete S.calcdata,delete S.empty,delete S.fid,delete S.undoqueue,delete S.undonum,delete S.autoplay,delete S.changed,delete S._promises,delete S._redrawTimer,delete S._hmlumcount,delete S._hmpixcount,delete S._transitionData,delete S._transitioning,delete S._initialAutoSize,delete S._transitioningWithDuration,delete S._dragging,delete S._dragged,delete S._dragdata,delete S._hoverdata,delete S._snapshotInProgress,delete S._editing,delete S._mouseDownTime,delete S._legendMouseDownTime,S.removeAllListeners&&S.removeAllListeners()},c.style=function(S){var P=S._fullLayout._visibleModules,k=[],z;for(z=0;z<P.length;z++){var Y=P[z];Y.style&&n.pushUnique(k,Y.style)}for(z=0;z<k.length;z++)k[z](S)},c.sanitizeMargins=function(S){if(!(!S||!S.margin)){var P=S.width,k=S.height,z=S.margin,Y=P-(z.l+z.r),F=k-(z.t+z.b),J;Y<0&&(J=(P-1)/(z.l+z.r),z.l=Math.floor(J*z.l),z.r=Math.floor(J*z.r)),F<0&&(J=(k-1)/(z.t+z.b),z.t=Math.floor(J*z.t),z.b=Math.floor(J*z.b))}},c.clearAutoMarginIds=function(S){S._fullLayout._pushmarginIds={}},c.allowAutoMargin=function(S,P){S._fullLayout._pushmarginIds[P]=1};function D(S){var P=S.margin;if(!S._size){var k=S._size={l:Math.round(P.l),r:Math.round(P.r),t:Math.round(P.t),b:Math.round(P.b),p:Math.round(P.pad)};k.w=Math.round(S.width)-k.l-k.r,k.h=Math.round(S.height)-k.t-k.b}S._pushmargin||(S._pushmargin={}),S._pushmarginIds||(S._pushmarginIds={}),S._reservedMargin||(S._reservedMargin={})}var _=2,V=2;c.autoMargin=function(S,P,k){var z=S._fullLayout,Y=z.width,F=z.height,J=z.margin,E=z.minreducedwidth,K=z.minreducedheight,ie=n.constrain(Y-J.l-J.r,_,E),ve=n.constrain(F-J.t-J.b,V,K),he=Math.max(0,Y-ie),Le=Math.max(0,F-ve),ke=z._pushmargin,se=z._pushmarginIds;if(J.autoexpand!==!1){if(!k)delete ke[P],delete se[P];else{var ge=k.pad;if(ge===void 0&&(ge=Math.min(12,J.l,J.r,J.t,J.b)),he){var be=(k.l+k.r)/he;be>1&&(k.l/=be,k.r/=be)}if(Le){var Ee=(k.t+k.b)/Le;Ee>1&&(k.t/=Ee,k.b/=Ee)}var we=k.xl!==void 0?k.xl:k.x,Te=k.xr!==void 0?k.xr:k.x,Ne=k.yt!==void 0?k.yt:k.y,$e=k.yb!==void 0?k.yb:k.y;ke[P]={l:{val:we,size:k.l+ge},r:{val:Te,size:k.r+ge},b:{val:$e,size:k.b+ge},t:{val:Ne,size:k.t+ge}},se[P]=1}if(!z._replotting)return c.doAutoMargin(S)}};function G(S){if("_redrawFromAutoMarginCount"in S._fullLayout)return!1;var P=p.list(S,"",!0);for(var k in P)if(P[k].autoshift||P[k].shift)return!0;return!1}c.doAutoMargin=function(S){var P=S._fullLayout,k=P.width,z=P.height;P._size||(P._size={}),D(P);var Y=P._size,F=P.margin,J={t:0,b:0,l:0,r:0},E=n.extendFlat({},Y),K=S._fullLayout._reservedMargin;for(var ie in K)for(var ve in K[ie]){var he=K[ie][ve];J[ve]=Math.max(J[ve],he)}var Le=F.l,ke=F.r,se=F.t,ge=F.b,be=P._pushmargin,Ee=P._pushmarginIds,we=P.minreducedwidth,Te=P.minreducedheight;if(P.margin.autoexpand!==!1){for(var Ne in be)Ee[Ne]||delete be[Ne];be.base={l:{val:0,size:Le},r:{val:1,size:ke},t:{val:1,size:se},b:{val:0,size:ge}};for(var $e in be){var je=be[$e].l||{},He=be[$e].b||{},st=je.val,nt=je.size,dt=He.val,ht=He.size,Pt=k-J.r-J.l,bt=z-J.t-J.b;for(var At in be){if(i(nt)&&be[At].r){var wt=be[At].r.val,Lt=be[At].r.size;if(wt>st){var kt=(nt*wt+(Lt-Pt)*st)/(wt-st),Ce=(Lt*(1-st)+(nt-Pt)*(1-wt))/(wt-st);kt+Ce>Le+ke&&(Le=kt,ke=Ce)}}if(i(ht)&&be[At].t){var Ae=be[At].t.val,Pe=be[At].t.size;if(Ae>dt){var $=(ht*Ae+(Pe-bt)*dt)/(Ae-dt),fe=(Pe*(1-dt)+(ht-bt)*(1-Ae))/(Ae-dt);$+fe>ge+se&&(ge=$,se=fe)}}}}}var pe=n.constrain(k-F.l-F.r,_,we),Me=n.constrain(z-F.t-F.b,V,Te),Ge=Math.max(0,k-pe),Ie=Math.max(0,z-Me);if(Ge){var _e=(Le+ke)/Ge;_e>1&&(Le/=_e,ke/=_e)}if(Ie){var Je=(ge+se)/Ie;Je>1&&(ge/=Je,se/=Je)}if(Y.l=Math.round(Le)+J.l,Y.r=Math.round(ke)+J.r,Y.t=Math.round(se)+J.t,Y.b=Math.round(ge)+J.b,Y.p=Math.round(F.pad),Y.w=Math.round(k)-Y.l-Y.r,Y.h=Math.round(z)-Y.t-Y.b,!P._replotting&&(c.didMarginChange(E,Y)||G(S))){"_redrawFromAutoMarginCount"in P?P._redrawFromAutoMarginCount++:P._redrawFromAutoMarginCount=1;var Qe=3*(1+Object.keys(Ee).length);if(P._redrawFromAutoMarginCount<Qe)return r.call("_doPlot",S);P._size=E,n.warn("Too many auto-margin redraws.")}Q(S)};function Q(S){var P=p.list(S,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(k){for(var z=0;z<P.length;z++){var Y=P[z][k];Y&&Y()}})}var ue=["l","r","t","b","p","w","h"];c.didMarginChange=function(S,P){for(var k=0;k<ue.length;k++){var z=ue[k],Y=S[z],F=P[z];if(!i(Y)||Math.abs(F-Y)>1)return!0}return!1},c.graphJson=function(S,P,k,z,Y,F){(Y&&P&&!S._fullData||Y&&!P&&!S._fullLayout)&&c.supplyDefaults(S);var J=Y?S._fullData:S.data,E=Y?S._fullLayout:S.layout,K=(S._transitionData||{})._frames;function ie(Le,ke){if(typeof Le=="function")return ke?"_function_":null;if(n.isPlainObject(Le)){var se={},ge;return Object.keys(Le).sort().forEach(function(be){if(["_","["].indexOf(be.charAt(0))===-1){if(typeof Le[be]=="function"){ke&&(se[be]="_function");return}if(k==="keepdata"){if(be.substr(be.length-3)==="src")return}else if(k==="keepstream"){if(ge=Le[be+"src"],typeof ge=="string"&&ge.indexOf(":")>0&&!n.isPlainObject(Le.stream))return}else if(k!=="keepall"&&(ge=Le[be+"src"],typeof ge=="string"&&ge.indexOf(":")>0))return;se[be]=ie(Le[be],ke)}}),se}return Array.isArray(Le)?Le.map(function(be){return ie(be,ke)}):n.isTypedArray(Le)?n.simpleMap(Le,n.identity):n.isJSDate(Le)?n.ms2DateTimeLocal(+Le):Le}var ve={data:(J||[]).map(function(Le){var ke=ie(Le);return P&&delete ke.fit,ke})};if(!P&&(ve.layout=ie(E),Y)){var he=E._size;ve.layout.computed={margin:{b:he.b,l:he.l,r:he.r,t:he.t}}}return K&&(ve.frames=ie(K)),F&&(ve.config=ie(S._context,!0)),z==="object"?ve:JSON.stringify(ve)},c.modifyFrames=function(S,P){var k,z,Y,F=S._transitionData._frames,J=S._transitionData._frameHash;for(k=0;k<P.length;k++)switch(z=P[k],z.type){case"replace":Y=z.value;var E=(F[z.index]||{}).name,K=Y.name;F[z.index]=J[K]=Y,K!==E&&(delete J[E],J[K]=Y);break;case"insert":Y=z.value,J[Y.name]=Y,F.splice(z.index,0,Y);break;case"delete":Y=F[z.index],delete J[Y.name],F.splice(z.index,1);break}return Promise.resolve()},c.computeFrame=function(S,P){var k=S._transitionData._frameHash,z,Y,F,J;if(!P)throw new Error("computeFrame must be given a string frame name");var E=k[P.toString()];if(!E)return!1;for(var K=[E],ie=[E.name];E.baseframe&&(E=k[E.baseframe.toString()])&&ie.indexOf(E.name)===-1;)K.push(E),ie.push(E.name);for(var ve={};E=K.pop();)if(E.layout&&(ve.layout=c.extendLayout(ve.layout,E.layout)),E.data){if(ve.data||(ve.data=[]),Y=E.traces,!Y)for(Y=[],z=0;z<E.data.length;z++)Y[z]=z;for(ve.traces||(ve.traces=[]),z=0;z<E.data.length;z++)F=Y[z],F!=null&&(J=ve.traces.indexOf(F),J===-1&&(J=ve.data.length,ve.traces[J]=F),ve.data[J]=c.extendTrace(ve.data[J],E.data[z]))}return ve},c.recomputeFrameHash=function(S){for(var P=S._transitionData._frameHash={},k=S._transitionData._frames,z=0;z<k.length;z++){var Y=k[z];Y&&Y.name&&(P[Y.name]=Y)}},c.extendObjectWithContainers=function(S,P,k){var z,Y,F,J,E,K,ie,ve,he=n.extendDeepNoArrays({},P||{}),Le=n.expandObjectPaths(he),ke={};if(k&&k.length)for(F=0;F<k.length;F++)z=n.nestedProperty(Le,k[F]),Y=z.get(),Y===void 0?n.nestedProperty(ke,k[F]).set(null):(z.set(null),n.nestedProperty(ke,k[F]).set(Y));if(S=n.extendDeepNoArrays(S||{},Le),k&&k.length){for(F=0;F<k.length;F++)if(E=n.nestedProperty(ke,k[F]),ie=E.get(),!!ie){for(K=n.nestedProperty(S,k[F]),ve=K.get(),Array.isArray(ve)||(ve=[],K.set(ve)),J=0;J<ie.length;J++){var se=ie[J];se===null?ve[J]=null:ve[J]=c.extendObjectWithContainers(ve[J],se)}K.set(ve)}}return S},c.dataArrayContainers=["transforms","dimensions"],c.layoutArrayContainers=r.layoutArrayContainers,c.extendTrace=function(S,P){return c.extendObjectWithContainers(S,P,c.dataArrayContainers)},c.extendLayout=function(S,P){return c.extendObjectWithContainers(S,P,c.layoutArrayContainers)},c.transition=function(S,P,k,z,Y,F){var J={redraw:Y.redraw},E={},K=[];return J.prepareFn=function(){for(var ie=Array.isArray(P)?P.length:0,ve=z.slice(0,ie),he=0;he<ve.length;he++){var Le=ve[he],ke=S._fullData[Le],se=ke._module;if(se){if(se.animatable){var ge=se.basePlotModule.name;E[ge]||(E[ge]=[]),E[ge].push(Le)}S.data[ve[he]]=c.extendTrace(S.data[ve[he]],P[he])}}var be=n.expandObjectPaths(n.extendDeepNoArrays({},k)),Ee=/^[xy]axis[0-9]*$/;for(var we in be)Ee.test(we)&&delete be[we].range;c.extendLayout(S.layout,be),delete S.calcdata,c.supplyDefaults(S),c.doCalcdata(S);var Te=n.expandObjectPaths(k);if(Te){var Ne=S._fullLayout._plots;for(var $e in Ne){var je=Ne[$e],He=je.xaxis,st=je.yaxis,nt=He.range.slice(),dt=st.range.slice(),ht=null,Pt=null,bt=null,At=null;Array.isArray(Te[He._name+".range"])?ht=Te[He._name+".range"].slice():Array.isArray((Te[He._name]||{}).range)&&(ht=Te[He._name].range.slice()),Array.isArray(Te[st._name+".range"])?Pt=Te[st._name+".range"].slice():Array.isArray((Te[st._name]||{}).range)&&(Pt=Te[st._name].range.slice()),nt&&ht&&(He.r2l(nt[0])!==He.r2l(ht[0])||He.r2l(nt[1])!==He.r2l(ht[1]))&&(bt={xr0:nt,xr1:ht}),dt&&Pt&&(st.r2l(dt[0])!==st.r2l(Pt[0])||st.r2l(dt[1])!==st.r2l(Pt[1]))&&(At={yr0:dt,yr1:Pt}),(bt||At)&&K.push(n.extendFlat({plotinfo:je},bt,At))}}return Promise.resolve()},J.runFn=function(ie){var ve,he=S._fullLayout._basePlotModules,Le=K.length,ke;if(k)for(ke=0;ke<he.length;ke++)he[ke].transitionAxes&&he[ke].transitionAxes(S,K,F,ie);Le?(ve=n.extendFlat({},F),ve.duration=0,delete E.cartesian):ve=F;for(var se in E){var ge=E[se],be=S._fullData[ge[0]]._module;be.basePlotModule.plot(S,ge,ve,ie)}},le(S,F,J)},c.transitionFromReact=function(S,P,k,z){var Y=S._fullLayout,F=Y.transition,J={},E=[];return J.prepareFn=function(){var K=Y._plots;J.redraw=!1,P.anim==="some"&&(J.redraw=!0),k.anim==="some"&&(J.redraw=!0);for(var ie in K){var ve=K[ie],he=ve.xaxis,Le=ve.yaxis,ke=z[he._name].range.slice(),se=z[Le._name].range.slice(),ge=he.range.slice(),be=Le.range.slice();he.setScale(),Le.setScale();var Ee=null,we=null;(he.r2l(ke[0])!==he.r2l(ge[0])||he.r2l(ke[1])!==he.r2l(ge[1]))&&(Ee={xr0:ke,xr1:ge}),(Le.r2l(se[0])!==Le.r2l(be[0])||Le.r2l(se[1])!==Le.r2l(be[1]))&&(we={yr0:se,yr1:be}),(Ee||we)&&E.push(n.extendFlat({plotinfo:ve},Ee,we))}return Promise.resolve()},J.runFn=function(K){for(var ie=S._fullData,ve=S._fullLayout,he=ve._basePlotModules,Le,ke,se,ge=[],be=0;be<ie.length;be++)ge.push(be);function Ee(){if(S._fullLayout)for(var Te=0;Te<he.length;Te++)he[Te].transitionAxes&&he[Te].transitionAxes(S,E,Le,K)}function we(){if(S._fullLayout)for(var Te=0;Te<he.length;Te++)he[Te].plot(S,se,ke,K)}E.length&&P.anim?F.ordering==="traces first"?(Le=n.extendFlat({},F,{duration:0}),se=ge,ke=F,setTimeout(Ee,F.duration),we()):(Le=F,se=null,ke=n.extendFlat({},F,{duration:0}),setTimeout(we,Le.duration),Ee()):E.length?(Le=F,Ee()):P.anim&&(se=ge,ke=F,we())},le(S,F,J)};function le(S,P,k){var z=!1;function Y(he){var Le=Promise.resolve();if(!he)return Le;for(;he.length;)Le=Le.then(he.shift());return Le}function F(he){if(he)for(;he.length;)he.shift()}function J(){return S.emit("plotly_transitioning",[]),new Promise(function(he){S._transitioning=!0,P.duration>0&&(S._transitioningWithDuration=!0),S._transitionData._interruptCallbacks.push(function(){z=!0}),k.redraw&&S._transitionData._interruptCallbacks.push(function(){return r.call("redraw",S)}),S._transitionData._interruptCallbacks.push(function(){S.emit("plotly_transitioninterrupted",[])});var Le=0,ke=0;function se(){return Le++,function(){ke++,!z&&ke===Le&&E(he)}}k.runFn(se),setTimeout(se())})}function E(he){if(S._transitionData)return F(S._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(k.redraw)return r.call("redraw",S)}).then(function(){S._transitioning=!1,S._transitioningWithDuration=!1,S.emit("plotly_transitioned",[])}).then(he)}function K(){if(S._transitionData)return S._transitioning=!1,Y(S._transitionData._interruptCallbacks)}var ie=[c.previousPromises,K,k.prepareFn,c.rehover,c.reselect,J],ve=n.syncOrAsync(ie,S);return(!ve||!ve.then)&&(ve=Promise.resolve()),ve.then(function(){return S})}c.doCalcdata=function(S,P){var k=p.list(S),z=S._fullData,Y=S._fullLayout,F,J,E,K,ie=new Array(z.length),ve=(S.calcdata||[]).slice();for(S.calcdata=ie,Y._numBoxes=0,Y._numViolins=0,Y._violinScaleGroupStats={},S._hmpixcount=0,S._hmlumcount=0,Y._piecolormap={},Y._sunburstcolormap={},Y._treemapcolormap={},Y._iciclecolormap={},Y._funnelareacolormap={},E=0;E<z.length;E++)if(Array.isArray(P)&&P.indexOf(E)===-1){ie[E]=ve[E];continue}for(E=0;E<z.length;E++)F=z[E],F._arrayAttrs=f.findArrayAttributes(F),F._extremes={};var he=Y._subplots.polar||[];for(E=0;E<he.length;E++)k.push(Y[he[E]].radialaxis,Y[he[E]].angularaxis);for(var Le in Y._colorAxes){var ke=Y[Le];ke.cauto!==!1&&(delete ke.cmin,delete ke.cmax)}var se=!1;function ge(we){if(F=z[we],J=F._module,F.visible===!0&&F.transforms){if(J&&J.calc){var Te=J.calc(S,F);Te[0]&&Te[0].t&&Te[0].t._scene&&delete Te[0].t._scene.dirty}for(K=0;K<F.transforms.length;K++){var Ne=F.transforms[K];J=u[Ne.type],J&&J.calcTransform&&(F._hasCalcTransform=!0,se=!0,J.calcTransform(S,F,Ne))}}}function be(we,Te){if(F=z[we],J=F._module,!!J.isContainer===Te){var Ne=[];if(F.visible===!0&&F._length!==0){delete F._indexToPoints;var $e=F.transforms||[];for(K=$e.length-1;K>=0;K--)if($e[K].enabled){F._indexToPoints=$e[K]._indexToPoints;break}J&&J.calc&&(Ne=J.calc(S,F))}(!Array.isArray(Ne)||!Ne[0])&&(Ne=[{x:d,y:d}]),Ne[0].t||(Ne[0].t={}),Ne[0].trace=F,ie[we]=Ne}}for(ce(k,z,Y),E=0;E<z.length;E++)be(E,!0);for(E=0;E<z.length;E++)ge(E);for(se&&ce(k,z,Y),E=0;E<z.length;E++)be(E,!0);for(E=0;E<z.length;E++)be(E,!1);de(S);var Ee=Se(k,S);if(Ee.length){for(Y._numBoxes=0,Y._numViolins=0,E=0;E<Ee.length;E++)be(Ee[E],!0);for(E=0;E<Ee.length;E++)be(Ee[E],!1);de(S)}r.getComponentMethod("fx","calc")(S),r.getComponentMethod("errorbars","calc")(S)};var ye=/(total|sum|min|max|mean|median) (ascending|descending)/;function Se(S,P){var k=[],z,Y,F,J,E;function K(Lt,kt,Ce){var Ae=kt._id.charAt(0);if(Lt==="histogram2dcontour"){var Pe=kt._counterAxes[0],$=p.getFromId(P,Pe),fe=Ae==="x"||Pe==="x"&&$.type==="category",pe=Ae==="y"||Pe==="y"&&$.type==="category";return function(Me,Ge){return Me===0||Ge===0||fe&&Me===Ce[Ge].length-1||pe&&Ge===Ce.length-1?-1:(Ae==="y"?Ge:Me)-1}}else return function(Me,Ge){return Ae==="y"?Ge:Me}}var ie={min:function(Lt){return n.aggNums(Math.min,null,Lt)},max:function(Lt){return n.aggNums(Math.max,null,Lt)},sum:function(Lt){return n.aggNums(function(kt,Ce){return kt+Ce},null,Lt)},total:function(Lt){return n.aggNums(function(kt,Ce){return kt+Ce},null,Lt)},mean:function(Lt){return n.mean(Lt)},median:function(Lt){return n.median(Lt)}};for(z=0;z<S.length;z++){var ve=S[z];if(ve.type==="category"){var he=ve.categoryorder.match(ye);if(he){var Le=he[1],ke=he[2],se=ve._id.charAt(0),ge=se==="x",be=[];for(Y=0;Y<ve._categories.length;Y++)be.push([ve._categories[Y],[]]);for(Y=0;Y<ve._traceIndices.length;Y++){var Ee=ve._traceIndices[Y],we=P._fullData[Ee];if(we.visible===!0){var Te=we.type;r.traceIs(we,"histogram")&&(delete we._xautoBinFinished,delete we._yautoBinFinished);var Ne=Te==="splom",$e=Te==="scattergl",je=P.calcdata[Ee];for(F=0;F<je.length;F++){var He=je[F],st,nt;if(Ne){var dt=we._axesDim[ve._id];if(!ge){var ht=we._diag[dt][0];ht&&(ve=P._fullLayout[p.id2name(ht)])}var Pt=He.trace.dimensions[dt].values;for(J=0;J<Pt.length;J++)for(st=ve._categoriesMap[Pt[J]],E=0;E<He.trace.dimensions.length;E++)if(E!==dt){var bt=He.trace.dimensions[E];be[st][1].push(bt.values[J])}}else if($e){for(J=0;J<He.t.x.length;J++)ge?(st=He.t.x[J],nt=He.t.y[J]):(st=He.t.y[J],nt=He.t.x[J]),be[st][1].push(nt);He.t&&He.t._scene&&delete He.t._scene.dirty}else if(He.hasOwnProperty("z")){nt=He.z;var At=K(we.type,ve,nt);for(J=0;J<nt.length;J++)for(E=0;E<nt[J].length;E++)st=At(E,J),st+1&&be[st][1].push(nt[J][E])}else for(st=He.p,st===void 0&&(st=He[se]),nt=He.s,nt===void 0&&(nt=He.v),nt===void 0&&(nt=ge?He.y:He.x),Array.isArray(nt)||(nt===void 0?nt=[]:nt=[nt]),J=0;J<nt.length;J++)be[st][1].push(nt[J])}}}ve._categoriesValue=be;var wt=[];for(Y=0;Y<be.length;Y++)wt.push([be[Y][0],ie[Le](be[Y][1])]);wt.sort(function(Lt,kt){return Lt[1]-kt[1]}),ve._categoriesAggregatedValue=wt,ve._initialCategories=wt.map(function(Lt){return Lt[0]}),ke==="descending"&&ve._initialCategories.reverse(),k=k.concat(ve.sortByInitialCategories())}}}return k}function ce(S,P,k){var z={};function Y(K){K.clearCalc(),K.type==="multicategory"&&K.setupMultiCategory(P),z[K._id]=1}n.simpleMap(S,Y);for(var F=k._axisMatchGroups||[],J=0;J<F.length;J++)for(var E in F[J])z[E]||Y(k[p.id2name(E)])}function de(S){var P=S._fullLayout,k=P._visibleModules,z={},Y,F,J;for(F=0;F<k.length;F++){var E=k[F],K=E.crossTraceCalc;if(K){var ie=E.basePlotModule.name;z[ie]?n.pushUnique(z[ie],K):z[ie]=[K]}}for(J in z){var ve=z[J],he=P._subplots[J];if(Array.isArray(he))for(Y=0;Y<he.length;Y++){var Le=he[Y],ke=J==="cartesian"?P._plots[Le]:P[Le];for(F=0;F<ve.length;F++)ve[F](S,ke,Le)}else for(F=0;F<ve.length;F++)ve[F](S)}}c.rehover=function(S){S._fullLayout._rehover&&S._fullLayout._rehover()},c.redrag=function(S){S._fullLayout._redrag&&S._fullLayout._redrag()},c.reselect=function(S){var P=S._fullLayout,k=(S.layout||{}).selections,z=P._previousSelections;P._previousSelections=k;var Y=P._reselect||JSON.stringify(k)!==JSON.stringify(z);r.getComponentMethod("selections","reselect")(S,Y)},c.generalUpdatePerTraceModule=function(S,P,k,z){var Y=P.traceHash,F={},J;for(J=0;J<k.length;J++){var E=k[J],K=E[0].trace;K.visible&&(F[K.type]=F[K.type]||[],F[K.type].push(E))}for(var ie in Y)if(!F[ie]){var ve=Y[ie][0],he=ve[0].trace;he.visible=!1,F[ie]=[ve]}for(var Le in F){var ke=F[Le],se=ke[0][0].trace._module;se.plot(S,P,n.filterVisible(ke),z)}P.traceHash=F},c.plotBasePlot=function(S,P,k,z,Y){var F=r.getModule(S),J=g(P.calcdata,F)[0];F.plot(P,J,z,Y)},c.cleanBasePlot=function(S,P,k,z,Y){var F=Y._has&&Y._has(S),J=k._has&&k._has(S);F&&!J&&Y["_"+S+"layer"].selectAll("g.trace").remove()}},5386:function(re,H,e){var o=e(1562);o.FORMAT_LINK,o.DATE_FORMAT_LINK;function x(l){var i=l.description?" "+l.description:"",r=l.keys||[];if(r.length>0){for(var f=[],s=0;s<r.length;s++)f[s]="`"+r[s]+"`";i=i+"Finally, the template string has access to ",r.length===1?i=i+"variable "+f[0]:i=i+"variables "+f.slice(0,-1).join(", ")+" and "+f.slice(-1)+"."}return i}H.fF=function(l,i){l=l||{},i=i||{},x(i);var r={valType:"string",dflt:"",editType:l.editType||"none"};return l.arrayOk!==!1&&(r.arrayOk=!0),r},H.si=function(l,i){l=l||{},i=i||{},x(i);var r={valType:"string",dflt:"",editType:l.editType||"calc"};return l.arrayOk!==!1&&(r.arrayOk=!0),r},H.R=function(l,i){l=l||{},i=i||{},l.newshape,x(i);var r={valType:"string",dflt:"",editType:l.editType||"arraydraw"};return r}},3972:function(re,H,e){var o=e(7769),x=e(4213),l=e(5138),i=e(1965),r=e(4401).addStyleRule,f=e(1426),s=e(9012),n=e(820),t=f.extendFlat,d=f.extendDeepAll;H.modules={},H.allCategories={},H.allTypes=[],H.subplotsRegistry={},H.transformsRegistry={},H.componentsRegistry={},H.layoutArrayContainers=[],H.layoutArrayRegexes=[],H.traceLayoutAttributes={},H.localeRegistry={},H.apiMethodRegistry={},H.collectableSubplotTypes=null,H.register=function(w){if(H.collectableSubplotTypes=null,w)w&&!Array.isArray(w)&&(w=[w]);else throw new Error("No argument passed to Plotly.register.");for(var B=0;B<w.length;B++){var C=w[B];if(!C)throw new Error("Invalid module was attempted to be registered!");switch(C.moduleType){case"trace":p(C);break;case"transform":h(C);break;case"component":y(C);break;case"locale":T(C);break;case"apiMethod":var I=C.name;H.apiMethodRegistry[I]=C.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},H.getModule=function(b){var w=H.modules[u(b)];return w?w._module:!1},H.traceIs=function(b,w){if(b=u(b),b==="various")return!1;var B=H.modules[b];return B||(b&&o.log("Unrecognized trace type "+b+"."),B=H.modules[s.type.dflt]),!!B.categories[w]},H.getTransformIndices=function(b,w){for(var B=[],C=b.transforms||[],I=0;I<C.length;I++)C[I].type===w&&B.push(I);return B},H.hasTransform=function(b,w){for(var B=b.transforms||[],C=0;C<B.length;C++)if(B[C].type===w)return!0;return!1},H.getComponentMethod=function(b,w){var B=H.componentsRegistry[b];return B&&B[w]||x},H.call=function(){var b=arguments[0],w=[].slice.call(arguments,1);return H.apiMethodRegistry[b].apply(null,w)};function p(b){var w=b.name,B=b.categories,C=b.meta;if(H.modules[w]){o.log("Type "+w+" already registered");return}H.subplotsRegistry[b.basePlotModule.name]||m(b.basePlotModule);for(var I={},O=0;O<B.length;O++)I[B[O]]=!0,H.allCategories[B[O]]=!0;H.modules[w]={_module:b,categories:I},C&&Object.keys(C).length&&(H.modules[w].meta=C),H.allTypes.push(w);for(var L in H.componentsRegistry)M(L,w);b.layoutAttributes&&t(H.traceLayoutAttributes,b.layoutAttributes);var X=b.basePlotModule,Z=X.name;if(Z==="mapbox"){var te=X.constants.styleRules;for(var q in te)r(".js-plotly-plot .plotly .mapboxgl-"+q,te[q])}(Z==="geo"||Z==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function m(b){var w=b.name;if(H.subplotsRegistry[w]){o.log("Plot type "+w+" already registered.");return}g(b),H.subplotsRegistry[w]=b;for(var B in H.componentsRegistry)c(B,b.name)}function y(b){if(typeof b.name!="string")throw new Error("Component module *name* must be a string.");var w=b.name;H.componentsRegistry[w]=b,b.layoutAttributes&&(b.layoutAttributes._isLinkedToArray&&l(H.layoutArrayContainers,w),g(b));for(var B in H.modules)M(w,B);for(var C in H.subplotsRegistry)c(w,C);for(var I in H.transformsRegistry)v(w,I);b.schema&&b.schema.layout&&d(n,b.schema.layout)}function h(b){if(typeof b.name!="string")throw new Error("Transform module *name* must be a string.");var w="Transform module "+b.name,B=typeof b.transform=="function",C=typeof b.calcTransform=="function";if(!B&&!C)throw new Error(w+" is missing a *transform* or *calcTransform* method.");B&&C&&o.log([w+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),i(b.attributes)||o.log(w+" registered without an *attributes* object."),typeof b.supplyDefaults!="function"&&o.log(w+" registered without a *supplyDefaults* method."),H.transformsRegistry[b.name]=b;for(var I in H.componentsRegistry)v(I,b.name)}function T(b){var w=b.name,B=w.split("-")[0],C=b.dictionary,I=b.format,O=C&&Object.keys(C).length,L=I&&Object.keys(I).length,X=H.localeRegistry,Z=X[w];if(Z||(X[w]=Z={}),B!==w){var te=X[B];te||(X[B]=te={}),O&&te.dictionary===Z.dictionary&&(te.dictionary=C),L&&te.format===Z.format&&(te.format=I)}O&&(Z.dictionary=C),L&&(Z.format=I)}function g(b){if(b.layoutAttributes){var w=b.layoutAttributes._arrayAttrRegexps;if(w)for(var B=0;B<w.length;B++)l(H.layoutArrayRegexes,w[B])}}function M(b,w){var B=H.componentsRegistry[b].schema;if(!(!B||!B.traces)){var C=B.traces[w];C&&d(H.modules[w]._module.attributes,C)}}function v(b,w){var B=H.componentsRegistry[b].schema;if(!(!B||!B.transforms)){var C=B.transforms[w];C&&d(H.transformsRegistry[w].attributes,C)}}function c(b,w){var B=H.componentsRegistry[b].schema;if(!(!B||!B.subplots)){var C=H.subplotsRegistry[w],I=C.layoutAttributes,O=C.attr==="subplot"?C.name:C.attr;Array.isArray(O)&&(O=O[0]);var L=B.subplots[O];I&&L&&d(I,L)}}function u(b){return typeof b=="object"&&(b=b.type),b}},1914:function(re,H,e){var o=e(3972),x=e(1828),l=x.extendFlat,i=x.extendDeep;function r(s){var n;switch(s){case"themes__thumb":n={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":n={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:n={}}return n}function f(s){var n=["xaxis","yaxis","zaxis"];return n.indexOf(s.slice(0,5))>-1}re.exports=function(n,t){var d,p=n.data,m=n.layout,y=i([],p),h=i({},m,r(t.tileClass)),T=n._context||{};if(t.width&&(h.width=t.width),t.height&&(h.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){h.annotations=[];var g=Object.keys(h);for(d=0;d<g.length;d++)f(g[d])&&(h[g[d]].title={text:""});for(d=0;d<y.length;d++){var M=y[d];M.showscale=!1,M.marker&&(M.marker.showscale=!1),o.traceIs(M,"pie-like")&&(M.textposition="none")}}if(Array.isArray(t.annotations))for(d=0;d<t.annotations.length;d++)h.annotations.push(t.annotations[d]);var v=Object.keys(h).filter(function(B){return B.match(/^scene\d*$/)});if(v.length){var c={};for(t.tileClass==="thumbnail"&&(c={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),d=0;d<v.length;d++){var u=h[v[d]];u.xaxis||(u.xaxis={}),u.yaxis||(u.yaxis={}),u.zaxis||(u.zaxis={}),l(u.xaxis,c),l(u.yaxis,c),l(u.zaxis,c),u._scene=null}}var b=document.createElement("div");t.tileClass&&(b.className=t.tileClass);var w={gd:b,td:b,layout:h,data:y,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:T.mapboxAccessToken}};return t.setBackground!=="transparent"&&(w.config.setBackground=t.setBackground||"opaque"),w.gd.defaultLayout=r(t.tileClass),w}},7239:function(re,H,e){var o=e(1828),x=e(403),l=e(2435),i=e(5095);function r(f,s){var n;return o.isPlainObject(f)||(n=o.getGraphDiv(f)),s=s||{},s.format=s.format||"png",s.width=s.width||null,s.height=s.height||null,s.imageDataOnly=!0,new Promise(function(t,d){n&&n._snapshotInProgress&&d(new Error("Snapshotting already in progress.")),o.isIE()&&s.format!=="svg"&&d(new Error(i.MSG_IE_BAD_FORMAT)),n&&(n._snapshotInProgress=!0);var p=x(f,s),m=s.filename||f.fn||"newplot";m+="."+s.format.replace("-","."),p.then(function(y){return n&&(n._snapshotInProgress=!1),l(y,m,s.format)}).then(function(y){t(y)}).catch(function(y){n&&(n._snapshotInProgress=!1),d(y)})})}re.exports=r},2435:function(re,H,e){var o=e(1828),x=e(5095);function l(i,r,f){var s=document.createElement("a"),n="download"in s,t=new Promise(function(d,p){var m,y;if(o.isIE())return m=x.createBlob(i,"svg"),window.navigator.msSaveBlob(m,r),m=null,d(r);if(n)return m=x.createBlob(i,f),y=x.createObjectURL(m),s.href=y,s.download=r,document.body.appendChild(s),s.click(),document.body.removeChild(s),x.revokeObjectURL(y),m=null,d(r);if(o.isSafari()){var h=f==="svg"?",":";base64,";return x.octetStream(h+encodeURIComponent(i)),d(r)}p(new Error("download error"))});return t}re.exports=l},5095:function(re,H,e){var o=e(3972);H.getDelay=function(i){return i._has&&(i._has("gl3d")||i._has("gl2d")||i._has("mapbox"))?500:0},H.getRedrawFunc=function(i){return function(){o.getComponentMethod("colorbar","draw")(i)}},H.encodeSVG=function(i){return"data:image/svg+xml,"+encodeURIComponent(i)},H.encodeJSON=function(i){return"data:application/json,"+encodeURIComponent(i)};var x=window.URL||window.webkitURL;H.createObjectURL=function(i){return x.createObjectURL(i)},H.revokeObjectURL=function(i){return x.revokeObjectURL(i)},H.createBlob=function(i,r){if(r==="svg")return new window.Blob([i],{type:"image/svg+xml;charset=utf-8"});if(r==="full-json")return new window.Blob([i],{type:"application/json;charset=utf-8"});var f=l(window.atob(i));return new window.Blob([f],{type:"image/"+r})},H.octetStream=function(i){document.location.href="data:application/octet-stream"+i};function l(i){for(var r=i.length,f=new ArrayBuffer(r),s=new Uint8Array(f),n=0;n<r;n++)s[n]=i.charCodeAt(n);return f}H.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,H.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},4511:function(re,H,e){var o=e(5095),x={getDelay:o.getDelay,getRedrawFunc:o.getRedrawFunc,clone:e(1914),toSVG:e(5900),svgToImg:e(942),toImage:e(6395),downloadImage:e(7239)};re.exports=x},942:function(re,H,e){var o=e(1828),x=e(5398).EventEmitter,l=e(5095);function i(r){var f=r.emitter||new x,s=new Promise(function(n,t){var d=window.Image,p=r.svg,m=r.format||"png";if(o.isIE()&&m!=="svg"){var y=new Error(l.MSG_IE_BAD_FORMAT);return t(y),r.promise?s:f.emit("error",y)}var h=r.canvas,T=r.scale||1,g=r.width||300,M=r.height||150,v=T*g,c=T*M,u=h.getContext("2d",{willReadFrequently:!0}),b=new d,w,B;m==="svg"||o.isSafari()?B=l.encodeSVG(p):(w=l.createBlob(p,"svg"),B=l.createObjectURL(w)),h.width=v,h.height=c,b.onload=function(){var C;switch(w=null,l.revokeObjectURL(B),m!=="svg"&&u.drawImage(b,0,0,v,c),m){case"jpeg":C=h.toDataURL("image/jpeg");break;case"png":C=h.toDataURL("image/png");break;case"webp":C=h.toDataURL("image/webp");break;case"svg":C=B;break;default:var I="Image format is not jpeg, png, svg or webp.";if(t(new Error(I)),!r.promise)return f.emit("error",I)}n(C),r.promise||f.emit("success",C)},b.onerror=function(C){if(w=null,l.revokeObjectURL(B),t(C),!r.promise)return f.emit("error",C)},b.src=B});return r.promise?s:f}re.exports=i},6395:function(re,H,e){var o=e(5398).EventEmitter,x=e(3972),l=e(1828),i=e(5095),r=e(1914),f=e(5900),s=e(942);function n(t,d){var p=new o,m=r(t,{format:"png"}),y=m.gd;y.style.position="absolute",y.style.left="-5000px",document.body.appendChild(y);function h(){var g=i.getDelay(y._fullLayout);setTimeout(function(){var M=f(y),v=document.createElement("canvas");v.id=l.randstr(),p=s({format:d.format,width:y._fullLayout.width,height:y._fullLayout.height,canvas:v,emitter:p,svg:M}),p.clean=function(){y&&document.body.removeChild(y)}},g)}var T=i.getRedrawFunc(y);return x.call("_doPlot",y,m.data,m.layout,m.config).then(T).then(h).catch(function(g){p.emit("error",g)}),p}re.exports=n},5900:function(re,H,e){var o=e(9898),x=e(1828),l=e(1424),i=e(7901),r=e(7922),f=/"/g,s="TOBESTRIPPED",n=new RegExp('("'+s+")|("+s+'")',"g");function t(p){var m=o.select("body").append("div").style({display:"none"}).html(""),y=p.replace(/(&[^;]*;)/gi,function(h){return h==="&lt;"?"&#60;":h==="&rt;"?"&#62;":h.indexOf("<")!==-1||h.indexOf(">")!==-1?"":m.html(h).text()});return m.remove(),y}function d(p){return p.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}re.exports=function(m,y,h){var T=m._fullLayout,g=T._paper,M=T._toppaper,v=T.width,c=T.height,u;g.insert("rect",":first-child").call(l.setRect,0,0,v,c).call(i.fill,T.paper_bgcolor);var b=T._basePlotModules||[];for(u=0;u<b.length;u++){var w=b[u];w.toSVG&&w.toSVG(m)}if(M){var B=M.node().childNodes,C=Array.prototype.slice.call(B);for(u=0;u<C.length;u++){var I=C[u];I.childNodes.length&&g.node().appendChild(I)}}T._draggers&&T._draggers.remove(),g.node().style.background="",g.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var L=o.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){L.remove();return}else L.style({visibility:null,display:null});var X=this.style.fontFamily;X&&X.indexOf('"')!==-1&&L.style("font-family",X.replace(f,s))}),g.selectAll(".gradient_filled,.pattern_filled").each(function(){var L=o.select(this),X=this.style.fill;X&&X.indexOf("url(")!==-1&&L.style("fill",X.replace(f,s));var Z=this.style.stroke;Z&&Z.indexOf("url(")!==-1&&L.style("stroke",Z.replace(f,s))}),(y==="pdf"||y==="eps")&&g.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),g.node().setAttributeNS(r.xmlns,"xmlns",r.svg),g.node().setAttributeNS(r.xmlns,"xmlns:xlink",r.xlink),y==="svg"&&h&&(g.attr("width",h*v),g.attr("height",h*c),g.attr("viewBox","0 0 "+v+" "+c));var O=new window.XMLSerializer().serializeToString(g.node());return O=t(O),O=d(O),O=O.replace(n,"'"),x.isIE()&&(O=O.replace(/"/gi,"'"),O=O.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),O=O.replace(/(\\')/gi,'"')),O}},5341:function(re,H,e){var o=e(1828);re.exports=function(l,i){for(var r=0;r<l.length;r++)l[r].i=r;o.mergeArray(i.text,l,"tx"),o.mergeArray(i.hovertext,l,"htx");var f=i.marker;if(f){o.mergeArray(f.opacity,l,"mo",!0),o.mergeArray(f.color,l,"mc");var s=f.line;s&&(o.mergeArray(s.color,l,"mlc"),o.mergeArrayCastPositive(s.width,l,"mlw"))}}},1486:function(re,H,e){var o=e(2196),x=e(2663).axisHoverFormat,l=e(5386).fF,i=e(5386).si,r=e(693),f=e(1940),s=e(7313),n=e(9952).u,t=e(1426).extendFlat,d=f({editType:"calc",arrayOk:!0,colorEditType:"style"}),p=o.marker,m=p.line,y=t({},m.width,{dflt:0}),h=t({width:y,editType:"calc"},r("marker.line")),T=t({line:h,editType:"calc"},r("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:n});re.exports={x:o.x,x0:o.x0,dx:o.dx,y:o.y,y0:o.y0,dy:o.dy,xperiod:o.xperiod,yperiod:o.yperiod,xperiod0:o.xperiod0,yperiod0:o.yperiod0,xperiodalignment:o.xperiodalignment,yperiodalignment:o.yperiodalignment,xhoverformat:x("x"),yhoverformat:x("y"),text:o.text,texttemplate:i({editType:"plot"},{keys:s.eventDataKeys}),hovertext:o.hovertext,hovertemplate:l({},{keys:s.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:t({},d,{}),insidetextfont:t({},d,{}),outsidetextfont:t({},d,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:t({},o.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:T,offsetgroup:o.offsetgroup,alignmentgroup:o.alignmentgroup,selected:{marker:{opacity:o.selected.marker.opacity,color:o.selected.marker.color,editType:"style"},textfont:o.selected.textfont,editType:"style"},unselected:{marker:{opacity:o.unselected.marker.opacity,color:o.unselected.marker.color,editType:"style"},textfont:o.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},2290:function(re,H,e){var o=e(9298),x=e(2973),l=e(2869).hasColorscale,i=e(8803),r=e(5341),f=e(6279);re.exports=function(n,t){var d=o.getFromId(n,t.xaxis||"x"),p=o.getFromId(n,t.yaxis||"y"),m,y,h,T,g,M,v={msUTC:!!(t.base||t.base===0)};t.orientation==="h"?(m=d.makeCalcdata(t,"x",v),h=p.makeCalcdata(t,"y"),T=x(t,p,"y",h),g=!!t.yperiodalignment,M="y"):(m=p.makeCalcdata(t,"y",v),h=d.makeCalcdata(t,"x"),T=x(t,d,"x",h),g=!!t.xperiodalignment,M="x"),y=T.vals;for(var c=Math.min(y.length,m.length),u=new Array(c),b=0;b<c;b++)u[b]={p:y[b],s:m[b]},g&&(u[b].orig_p=h[b],u[b][M+"End"]=T.ends[b],u[b][M+"Start"]=T.starts[b]),t.ids&&(u[b].id=String(t.ids[b]));return l(t,"marker")&&i(n,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),l(t,"marker.line")&&i(n,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),r(u,t),f(u,t),u}},7313:function(re){re.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},1661:function(re,H,e){var o=e(2770),x=e(1828).isArrayOrTypedArray,l=e(606).BADNUM,i=e(3972),r=e(9298),f=e(9082).getAxisGroup,s=e(1546);function n(O,L){for(var X=L.xaxis,Z=L.yaxis,te=O._fullLayout,q=O._fullData,ae=O.calcdata,N=[],D=[],_=0;_<q.length;_++){var V=q[_];if(V.visible===!0&&i.traceIs(V,"bar")&&V.xaxis===X._id&&V.yaxis===Z._id&&(V.orientation==="h"?N.push(ae[_]):D.push(ae[_]),V._computePh))for(var G=O.calcdata[_],Q=0;Q<G.length;Q++)typeof G[Q].ph0=="function"&&(G[Q].ph0=G[Q].ph0()),typeof G[Q].ph1=="function"&&(G[Q].ph1=G[Q].ph1())}var ue={xCat:X.type==="category"||X.type==="multicategory",yCat:Z.type==="category"||Z.type==="multicategory",mode:te.barmode,norm:te.barnorm,gap:te.bargap,groupgap:te.bargroupgap};t(O,X,Z,D,ue),t(O,Z,X,N,ue)}function t(O,L,X,Z,te){if(Z.length){var q,ae,N,D,_;switch(d(X,Z),te.mode){case"overlay":p(L,X,Z,te);break;case"group":for(q=[],ae=[],N=0;N<Z.length;N++)D=Z[N],_=D[0].trace,_.offset===void 0?ae.push(D):q.push(D);ae.length&&m(O,L,X,ae,te),q.length&&p(L,X,q,te);break;case"stack":case"relative":for(q=[],ae=[],N=0;N<Z.length;N++)D=Z[N],_=D[0].trace,_.base===void 0?ae.push(D):q.push(D);ae.length&&y(O,L,X,ae,te),q.length&&p(L,X,q,te);break}C(Z,L)}}function d(O,L){var X,Z;for(X=0;X<L.length;X++){var te=L[X],q=te[0].trace,ae=q.type==="funnel"?q._base:q.base,N,D=q.orientation==="h"?q.xcalendar:q.ycalendar,_=O.type==="category"||O.type==="multicategory"?function(){return null}:O.d2c;if(x(ae)){for(Z=0;Z<Math.min(ae.length,te.length);Z++)N=_(ae[Z],0,D),o(N)?(te[Z].b=+N,te[Z].hasB=1):te[Z].b=0;for(;Z<te.length;Z++)te[Z].b=0}else{N=_(ae,0,D);var V=o(N);for(N=V?N:0,Z=0;Z<te.length;Z++)te[Z].b=N,V&&(te[Z].hasB=1)}}}function p(O,L,X,Z){for(var te=0;te<X.length;te++){var q=X[te],ae=new s([q],{posAxis:O,sepNegVal:!1,overlapNoMerge:!Z.norm});h(O,ae,Z),Z.norm?(b(ae),B(L,ae,Z)):c(L,ae)}}function m(O,L,X,Z,te){var q=new s(Z,{posAxis:L,sepNegVal:!1,overlapNoMerge:!te.norm});T(O,L,q,te),w(q,L),te.norm?(b(q),B(X,q,te)):c(X,q)}function y(O,L,X,Z,te){var q=new s(Z,{posAxis:L,sepNegVal:te.mode==="relative",overlapNoMerge:!(te.norm||te.mode==="stack"||te.mode==="relative")});h(L,q,te),u(X,q,te);for(var ae=0;ae<Z.length;ae++)for(var N=Z[ae],D=0;D<N.length;D++){var _=N[D];if(_.s!==l){var V=_.b+_.s===q.get(_.p,_.s);V&&(_._outmost=!0)}}te.norm&&B(X,q,te)}function h(O,L,X){for(var Z=L.minDiff,te=L.traces,q=Z*(1-X.gap),ae=q,N=ae*(1-(X.groupgap||0)),D=-N/2,_=0;_<te.length;_++){var V=te[_],G=V[0].t;G.barwidth=N,G.poffset=D,G.bargroupwidth=q,G.bardelta=Z}L.binWidth=te[0][0].t.barwidth/100,g(L),M(O,L),v(O,L)}function T(O,L,X,Z){for(var te=O._fullLayout,q=X.positions,ae=X.distinctPositions,N=X.minDiff,D=X.traces,_=D.length,V=q.length!==ae.length,G=N*(1-Z.gap),Q=f(te,L._id)+D[0][0].trace.orientation,ue=te._alignmentOpts[Q]||{},le=0;le<_;le++){var ye=D[le],Se=ye[0].trace,ce=ue[Se.alignmentgroup]||{},de=Object.keys(ce.offsetGroups||{}).length,S;de?S=G/de:S=V?G/_:G;var P=S*(1-(Z.groupgap||0)),k;de?k=((2*Se._offsetIndex+1-de)*S-P)/2:k=V?((2*le+1-_)*S-P)/2:-P/2;var z=ye[0].t;z.barwidth=P,z.poffset=k,z.bargroupwidth=G,z.bardelta=N}X.binWidth=D[0][0].t.barwidth/100,g(X),M(L,X),v(L,X,V)}function g(O){var L=O.traces,X,Z;for(X=0;X<L.length;X++){var te=L[X],q=te[0],ae=q.trace,N=q.t,D=ae._offset||ae.offset,_=N.poffset,V;if(x(D)){for(V=Array.prototype.slice.call(D,0,te.length),Z=0;Z<V.length;Z++)o(V[Z])||(V[Z]=_);for(Z=V.length;Z<te.length;Z++)V.push(_);N.poffset=V}else D!==void 0&&(N.poffset=D);var G=ae._width||ae.width,Q=N.barwidth;if(x(G)){var ue=Array.prototype.slice.call(G,0,te.length);for(Z=0;Z<ue.length;Z++)o(ue[Z])||(ue[Z]=Q);for(Z=ue.length;Z<te.length;Z++)ue.push(Q);if(N.barwidth=ue,D===void 0){for(V=[],Z=0;Z<te.length;Z++)V.push(_+(Q-ue[Z])/2);N.poffset=V}}else G!==void 0&&(N.barwidth=G,D===void 0&&(N.poffset=_+(Q-G)/2))}}function M(O,L){for(var X=L.traces,Z=I(O),te=0;te<X.length;te++)for(var q=X[te],ae=q[0].t,N=ae.poffset,D=Array.isArray(N),_=ae.barwidth,V=Array.isArray(_),G=0;G<q.length;G++){var Q=q[G],ue=Q.w=V?_[G]:_;Q.p===void 0&&(Q.p=Q[Z],Q["orig_"+Z]=Q[Z]);var le=(D?N[G]:N)+ue/2;Q[Z]=Q.p+le}}function v(O,L,X){var Z=L.traces,te=L.minDiff,q=te/2;r.minDtick(O,L.minDiff,L.distinctPositions[0],X);for(var ae=0;ae<Z.length;ae++){var N=Z[ae],D=N[0],_=D.trace,V=[],G,Q,ue,le;for(le=0;le<N.length;le++)G=N[le],Q=G.p-q,ue=G.p+q,V.push(Q,ue);if(_.width||_.offset){var ye=D.t,Se=ye.poffset,ce=ye.barwidth,de=Array.isArray(Se),S=Array.isArray(ce);for(le=0;le<N.length;le++){G=N[le];var P=de?Se[le]:Se,k=S?ce[le]:ce;Q=G.p+P,ue=Q+k,V.push(Q,ue)}}_._extremes[O._id]=r.findExtremes(O,V,{padded:!1})}}function c(O,L){for(var X=L.traces,Z=I(O),te=0;te<X.length;te++){for(var q=X[te],ae=q[0].trace,N=ae.type==="scatter",D=ae.orientation==="v",_=[],V=!1,G=0;G<q.length;G++){var Q=q[G],ue=N?0:Q.b,le=N?D?Q.y:Q.x:ue+Q.s;Q[Z]=le,_.push(le),Q.hasB&&_.push(ue),(!Q.hasB||!Q.b)&&(V=!0)}ae._extremes[O._id]=r.findExtremes(O,_,{tozero:V,padded:!0})}}function u(O,L,X){var Z=I(O),te=L.traces,q,ae,N,D,_,V;for(D=0;D<te.length;D++)if(q=te[D],ae=q[0].trace,ae.type==="funnel")for(_=0;_<q.length;_++)V=q[_],V.s!==l&&L.put(V.p,-.5*V.s);for(D=0;D<te.length;D++){q=te[D],ae=q[0].trace,N=ae.type==="funnel";var G=[];for(_=0;_<q.length;_++)if(V=q[_],V.s!==l){var Q;N?Q=V.s:Q=V.s+V.b;var ue=L.put(V.p,Q),le=ue+Q;V.b=ue,V[Z]=le,X.norm||(G.push(le),V.hasB&&G.push(ue))}X.norm||(ae._extremes[O._id]=r.findExtremes(O,G,{tozero:!0,padded:!0}))}}function b(O){for(var L=O.traces,X=0;X<L.length;X++)for(var Z=L[X],te=0;te<Z.length;te++){var q=Z[te];q.s!==l&&O.put(q.p,q.b+q.s)}}function w(O,L){for(var X=O.traces,Z=0;Z<X.length;Z++){var te=X[Z],q=te[0].trace;if(q.base===void 0)for(var ae=new s([te],{posAxis:L,sepNegVal:!0,overlapNoMerge:!0}),N=0;N<te.length;N++){var D=te[N];if(D.p!==l){var _=ae.put(D.p,D.b+D.s);_&&(D.b=_)}}}}function B(O,L,X){var Z=L.traces,te=I(O),q=X.norm==="fraction"?1:100,ae=q/1e9,N=O.l2c(O.c2l(0)),D=X.mode==="stack"?q:N;function _(k){return o(O.c2l(k))&&(k<N-ae||k>D+ae||!o(N))}for(var V=0;V<Z.length;V++){for(var G=Z[V],Q=G[0].trace,ue=[],le=!1,ye=!1,Se=0;Se<G.length;Se++){var ce=G[Se];if(ce.s!==l){var de=Math.abs(q/L.get(ce.p,ce.s));ce.b*=de,ce.s*=de;var S=ce.b,P=S+ce.s;ce[te]=P,ue.push(P),ye=ye||_(P),ce.hasB&&(ue.push(S),ye=ye||_(S)),(!ce.hasB||!ce.b)&&(le=!0)}}Q._extremes[O._id]=r.findExtremes(O,ue,{tozero:le,padded:ye})}}function C(O,L){var X=I(L),Z={},te,q,ae,N=1/0,D=-1/0;for(te=0;te<O.length;te++)for(ae=O[te],q=0;q<ae.length;q++){var _=ae[q].p;o(_)&&(N=Math.min(N,_),D=Math.max(D,_))}var V=1e4/(D-N),G=Z.round=function(de){return String(Math.round(V*(de-N)))};for(te=0;te<O.length;te++){ae=O[te],ae[0].t.extents=Z;var Q=ae[0].t.poffset,ue=Array.isArray(Q);for(q=0;q<ae.length;q++){var le=ae[q],ye=le[X]-le.w/2;if(o(ye)){var Se=le[X]+le.w/2,ce=G(le.p);Z[ce]?Z[ce]=[Math.min(ye,Z[ce][0]),Math.max(Se,Z[ce][1])]:Z[ce]=[ye,Se]}le.p0=le.p+(ue?Q[q]:Q),le.p1=le.p0+le.w,le.s0=le.b,le.s1=le.s0+le.s}}}function I(O){return O._id.charAt(0)}re.exports={crossTraceCalc:n,setGroupPositions:t}},769:function(re,H,e){var o=e(1828),x=e(7901),l=e(3972),i=e(7513),r=e(3927),f=e(8340),s=e(6125),n=e(1486),t=o.coerceFont;function d(y,h,T,g){function M(w,B){return o.coerce(y,h,n,w,B)}var v=i(y,h,g,M);if(!v){h.visible=!1;return}r(y,h,g,M),M("xhoverformat"),M("yhoverformat"),M("orientation",h.x&&!h.y?"h":"v"),M("base"),M("offset"),M("width"),M("text"),M("hovertext"),M("hovertemplate");var c=M("textposition");m(y,h,g,M,c,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f(y,h,M,T,g);var u=(h.marker.line||{}).color,b=l.getComponentMethod("errorbars","supplyDefaults");b(y,h,u||x.defaultLine,{axis:"y"}),b(y,h,u||x.defaultLine,{axis:"x",inherit:"y"}),o.coerceSelectionMarkerOpacity(h,M)}function p(y,h){var T,g;function M(c){return o.coerce(g._input,g,n,c)}if(h.barmode==="group")for(var v=0;v<y.length;v++)g=y[v],g.type==="bar"&&(T=g._input,s(T,g,h,M))}function m(y,h,T,g,M,v){v=v||{};var c=v.moduleHasSelected!==!1,u=v.moduleHasUnselected!==!1,b=v.moduleHasConstrain!==!1,w=v.moduleHasCliponaxis!==!1,B=v.moduleHasTextangle!==!1,C=v.moduleHasInsideanchor!==!1,I=!!v.hasPathbar,O=Array.isArray(M)||M==="auto",L=O||M==="inside",X=O||M==="outside";if(L||X){var Z=t(g,"textfont",T.font),te=o.extendFlat({},Z),q=y.textfont&&y.textfont.color,ae=!q;if(ae&&delete te.color,t(g,"insidetextfont",te),I){var N=o.extendFlat({},Z);ae&&delete N.color,t(g,"pathbar.textfont",N)}X&&t(g,"outsidetextfont",Z),c&&g("selected.textfont.color"),u&&g("unselected.textfont.color"),b&&g("constraintext"),w&&g("cliponaxis"),B&&g("textangle"),g("texttemplate")}L&&C&&g("insidetextanchor")}re.exports={supplyDefaults:d,crossTraceDefaults:p,handleText:m}},8065:function(re){re.exports=function(e,o,x){return e.x="xVal"in o?o.xVal:o.x,e.y="yVal"in o?o.yVal:o.y,o.xa&&(e.xaxis=o.xa),o.ya&&(e.yaxis=o.ya),x.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},9383:function(re,H,e){var o=e(2770),x=e(4267),l=e(1828).isArrayOrTypedArray;H.coerceString=function(i,r,f){if(typeof r=="string"){if(r||!i.noBlank)return r}else if((typeof r=="number"||r===!0)&&!i.strict)return String(r);return f!==void 0?f:i.dflt},H.coerceNumber=function(i,r,f){if(o(r)){r=+r;var s=i.min,n=i.max,t=s!==void 0&&r<s||n!==void 0&&r>n;if(!t)return r}return f!==void 0?f:i.dflt},H.coerceColor=function(i,r,f){return x(r).isValid()?r:f!==void 0?f:i.dflt},H.coerceEnumerated=function(i,r,f){return i.coerceNumber&&(r=+r),i.values.indexOf(r)!==-1?r:f!==void 0?f:i.dflt},H.getValue=function(i,r){var f;return Array.isArray(i)?r<i.length&&(f=i[r]):f=i,f},H.getLineWidth=function(i,r){var f=0<r.mlw?r.mlw:l(i.marker.line.width)?0:i.marker.line.width;return f}},5423:function(re,H,e){var o=e(211),x=e(3972),l=e(7901),i=e(1828).fillText,r=e(9383).getLineWidth,f=e(9298).hoverLabelText,s=e(606).BADNUM;function n(p,m,y,h,T){var g=t(p,m,y,h,T);if(g){var M=g.cd,v=M[0].trace,c=M[g.index];return g.color=d(v,c),x.getComponentMethod("errorbars","hoverInfo")(c,v,g),[g]}}function t(p,m,y,h,T){var g=p.cd,M=g[0].trace,v=g[0].t,c=h==="closest",u=M.type==="waterfall",b=p.maxHoverDistance,w=p.maxSpikeDistance,B,C,I,O,L,X,Z;M.orientation==="h"?(B=y,C=m,I="y",O="x",L=Se,X=ue):(B=m,C=y,I="x",O="y",X=Se,L=ue);var te=M[I+"period"],q=c||te;function ae(K){return D(K,-1)}function N(K){return D(K,1)}function D(K,ie){var ve=K.w;return K[I]+ie*ve/2}function _(K){return K[I+"End"]-K[I+"Start"]}var V=c?ae:te?function(K){return K.p-_(K)/2}:function(K){return Math.min(ae(K),K.p-v.bardelta/2)},G=c?N:te?function(K){return K.p+_(K)/2}:function(K){return Math.max(N(K),K.p+v.bardelta/2)};function Q(K,ie,ve){return T.finiteRange&&(ve=0),o.inbox(K-B,ie-B,ve+Math.min(1,Math.abs(ie-K)/Z)-1)}function ue(K){return Q(V(K),G(K),b)}function le(K){return Q(ae(K),N(K),w)}function ye(K){var ie=K[O];if(u){var ve=Math.abs(K.rawS)||0;C>0?ie+=ve:C<0&&(ie-=ve)}return ie}function Se(K){var ie=C,ve=K.b,he=ye(K);return o.inbox(ve-ie,he-ie,b+(he-ie)/(he-ve)-1)}function ce(K){var ie=C,ve=K.b,he=ye(K);return o.inbox(ve-ie,he-ie,w+(he-ie)/(he-ve)-1)}var de=p[I+"a"],S=p[O+"a"];Z=Math.abs(de.r2c(de.range[1])-de.r2c(de.range[0]));function P(K){return(L(K)+X(K))/2}var k=o.getDistanceFunction(h,L,X,P);if(o.getClosest(g,k,p),p.index!==!1&&g[p.index].p!==s){q||(V=function(K){return Math.min(ae(K),K.p-v.bargroupwidth/2)},G=function(K){return Math.max(N(K),K.p+v.bargroupwidth/2)});var z=p.index,Y=g[z],F=M.base?Y.b+Y.s:Y.s;p[O+"0"]=p[O+"1"]=S.c2p(Y[O],!0),p[O+"LabelVal"]=F;var J=v.extents[v.extents.round(Y.p)];p[I+"0"]=de.c2p(c?V(Y):J[0],!0),p[I+"1"]=de.c2p(c?G(Y):J[1],!0);var E=Y.orig_p!==void 0;return p[I+"LabelVal"]=E?Y.orig_p:Y.p,p.labelLabel=f(de,p[I+"LabelVal"],M[I+"hoverformat"]),p.valueLabel=f(S,p[O+"LabelVal"],M[O+"hoverformat"]),p.baseLabel=f(S,Y.b,M[O+"hoverformat"]),p.spikeDistance=(ce(Y)+le(Y))/2,p[I+"Spike"]=de.c2p(Y.p,!0),i(Y,M,p),p.hovertemplate=M.hovertemplate,p}}function d(p,m){var y=m.mcc||p.marker.color,h=m.mlcc||p.marker.line.color,T=r(p,m);if(l.opacity(y))return y;if(l.opacity(h)&&T)return h}re.exports={hoverPoints:n,hoverOnBars:t,getTraceColor:d}},822:function(re,H,e){re.exports={attributes:e(1486),layoutAttributes:e(3641),supplyDefaults:e(769).supplyDefaults,crossTraceDefaults:e(769).crossTraceDefaults,supplyLayoutDefaults:e(3957),calc:e(2290),crossTraceCalc:e(1661).crossTraceCalc,colorbar:e(4898),arraysToCalcdata:e(5341),plot:e(7295).plot,style:e(6688).style,styleOnSelect:e(6688).styleOnSelect,hoverPoints:e(5423).hoverPoints,eventData:e(8065),selectPoints:e(1974),moduleType:"trace",name:"bar",basePlotModule:e(3612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},3641:function(re){re.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},3957:function(re,H,e){var o=e(3972),x=e(9298),l=e(1828),i=e(3641);re.exports=function(r,f,s){function n(v,c){return l.coerce(r,f,i,v,c)}for(var t=!1,d=!1,p=!1,m={},y=n("barmode"),h=0;h<s.length;h++){var T=s[h];if(o.traceIs(T,"bar")&&T.visible)t=!0;else continue;if(y==="group"){var g=T.xaxis+T.yaxis;m[g]&&(p=!0),m[g]=!0}if(T.visible&&T.type==="histogram"){var M=x.getFromId({_fullLayout:f},T[T.orientation==="v"?"xaxis":"yaxis"]);M.type!=="category"&&(d=!0)}}if(!t){delete f.barmode;return}y!=="overlay"&&n("barnorm"),n("bargap",d&&!p?0:.2),n("bargroupgap")}},7295:function(re,H,e){var o=e(9898),x=e(2770),l=e(1828),i=e(3893),r=e(7901),f=e(1424),s=e(3972),n=e(9298).tickText,t=e(2597),d=t.recordMinTextSize,p=t.clearMinTextSize,m=e(6688),y=e(9383),h=e(7313),T=e(1486),g=T.text,M=T.textposition,v=e(3469).appendArrayPointValue,c=h.TEXTPAD;function u(V){return V.id}function b(V){if(V.ids)return u}function w(V,G){return V<G?1:-1}function B(V,G,Q,ue){var le=[],ye=[],Se=ue?G:Q,ce=ue?Q:G;return le[0]=Se.c2p(V.s0,!0),ye[0]=ce.c2p(V.p0,!0),le[1]=Se.c2p(V.s1,!0),ye[1]=ce.c2p(V.p1,!0),ue?[le,ye]:[ye,le]}function C(V,G,Q,ue){if(!G.uniformtext.mode&&I(Q)){var le;return ue&&(le=ue()),V.transition().duration(Q.duration).ease(Q.easing).each("end",function(){le&&le()}).each("interrupt",function(){le&&le()})}else return V}function I(V){return V&&V.duration>0}function O(V,G,Q,ue,le,ye){var Se=G.xaxis,ce=G.yaxis,de=V._fullLayout,S=V._context.staticPlot;le||(le={mode:de.barmode,norm:de.barmode,gap:de.bargap,groupgap:de.bargroupgap},p("bar",de));var P=l.makeTraceGroups(ue,Q,"trace bars").each(function(k){var z=o.select(this),Y=k[0].trace,F=Y.type==="waterfall",J=Y.type==="funnel",E=Y.type==="bar",K=E||J,ie=0;F&&Y.connector.visible&&Y.connector.mode==="between"&&(ie=Y.connector.line.width/2);var ve=Y.orientation==="h",he=I(le),Le=l.ensureSingle(z,"g","points"),ke=b(Y),se=Le.selectAll("g.point").data(l.identity,ke);se.enter().append("g").classed("point",!0),se.exit().remove(),se.each(function(be,Ee){var we=o.select(this),Te=B(be,Se,ce,ve),Ne=Te[0][0],$e=Te[0][1],je=Te[1][0],He=Te[1][1],st=(ve?$e-Ne:He-je)===0;st&&K&&y.getLineWidth(Y,be)&&(st=!1),st||(st=!x(Ne)||!x($e)||!x(je)||!x(He)),be.isBlank=st,st&&(ve?$e=Ne:He=je),ie&&!st&&(ve?(Ne-=w(Ne,$e)*ie,$e+=w(Ne,$e)*ie):(je-=w(je,He)*ie,He+=w(je,He)*ie));var nt,dt;if(Y.type==="waterfall"){if(!st){var ht=Y[be.dir].marker;nt=ht.line.width,dt=ht.color}}else nt=y.getLineWidth(Y,be),dt=be.mc||Y.marker.color;function Pt(Ce){var Ae=o.round(nt/2%1,2);return le.gap===0&&le.groupgap===0?o.round(Math.round(Ce)-Ae,2):Ce}function bt(Ce,Ae,Pe){return Pe&&Ce===Ae?Ce:Math.abs(Ce-Ae)>=2?Pt(Ce):Ce>Ae?Math.ceil(Ce):Math.floor(Ce)}if(!V._context.staticPlot){var At=r.opacity(dt),wt=At<1||nt>.01?Pt:bt;Ne=wt(Ne,$e,ve),$e=wt($e,Ne,ve),je=wt(je,He,!ve),He=wt(He,je,!ve)}var Lt=C(l.ensureSingle(we,"path"),de,le,ye);if(Lt.style("vector-effect",S?"none":"non-scaling-stroke").attr("d",isNaN(($e-Ne)*(He-je))||st&&V._context.staticPlot?"M0,0Z":"M"+Ne+","+je+"V"+He+"H"+$e+"V"+je+"Z").call(f.setClipUrl,G.layerClipId,V),!de.uniformtext.mode&&he){var kt=f.makePointStyleFns(Y);f.singlePointStyle(be,Lt,Y,kt,V)}L(V,G,we,k,Ee,Ne,$e,je,He,le,ye),G.layerClipId&&f.hideOutsideRangePoint(be,we.select("text"),Se,ce,Y.xcalendar,Y.ycalendar)});var ge=Y.cliponaxis===!1;f.setClipUrl(z,ge?null:G.layerClipId,V)});s.getComponentMethod("errorbars","plot")(V,P,G,le)}function L(V,G,Q,ue,le,ye,Se,ce,de,S,P){var k=G.xaxis,z=G.yaxis,Y=V._fullLayout,F;function J(Ce,Ae,Pe){var $=l.ensureSingle(Ce,"text").text(Ae).attr({class:"bartext bartext-"+F,"text-anchor":"middle","data-notex":1}).call(f.font,Pe).call(i.convertToTspans,V);return $}var E=ue[0].trace,K=E.orientation==="h",ie=ae(Y,ue,le,k,z);F=N(E,le);var ve=S.mode==="stack"||S.mode==="relative",he=ue[le],Le=!ve||he._outmost;if(!ie||F==="none"||(he.isBlank||ye===Se||ce===de)&&(F==="auto"||F==="inside")){Q.select("text").remove();return}var ke=Y.font,se=m.getBarColor(ue[le],E),ge=m.getInsideTextFont(E,le,ke,se),be=m.getOutsideTextFont(E,le,ke),Ee=Q.datum();K?k.type==="log"&&Ee.s0<=0&&(k.range[0]<k.range[1]?ye=0:ye=k._length):z.type==="log"&&Ee.s0<=0&&(z.range[0]<z.range[1]?ce=z._length:ce=0);var we=Math.abs(Se-ye)-2*c,Te=Math.abs(de-ce)-2*c,Ne,$e,je,He,st;if(F==="outside"&&!Le&&!he.hasB&&(F="inside"),F==="auto")if(Le){F="inside",st=l.ensureUniformFontSize(V,ge),Ne=J(Q,ie,st),$e=f.bBox(Ne.node()),je=$e.width,He=$e.height;var nt=je>0&&He>0,dt=je<=we&&He<=Te,ht=je<=Te&&He<=we,Pt=K?we>=je*(Te/He):Te>=He*(we/je);nt&&(dt||ht||Pt)?F="inside":(F="outside",Ne.remove(),Ne=null)}else F="inside";if(!Ne){st=l.ensureUniformFontSize(V,F==="outside"?be:ge),Ne=J(Q,ie,st);var bt=Ne.attr("transform");if(Ne.attr("transform",""),$e=f.bBox(Ne.node()),je=$e.width,He=$e.height,Ne.attr("transform",bt),je<=0||He<=0){Ne.remove();return}}var At=E.textangle,wt,Lt;F==="outside"?(Lt=E.constraintext==="both"||E.constraintext==="outside",wt=q(ye,Se,ce,de,$e,{isHorizontal:K,constrained:Lt,angle:At})):(Lt=E.constraintext==="both"||E.constraintext==="inside",wt=te(ye,Se,ce,de,$e,{isHorizontal:K,constrained:Lt,angle:At,anchor:E.insidetextanchor})),wt.fontSize=st.size,d(E.type==="histogram"?"bar":E.type,wt,Y),he.transform=wt;var kt=C(Ne,Y,S,P);l.setTransormAndDisplay(kt,wt)}function X(V){return V==="auto"?0:V}function Z(V,G){var Q=Math.PI/180*G,ue=Math.abs(Math.sin(Q)),le=Math.abs(Math.cos(Q));return{x:V.width*le+V.height*ue,y:V.width*ue+V.height*le}}function te(V,G,Q,ue,le,ye){var Se=!!ye.isHorizontal,ce=!!ye.constrained,de=ye.angle||0,S=ye.anchor||"end",P=S==="end",k=S==="start",z=ye.leftToRight||0,Y=(z+1)/2,F=1-Y,J=le.width,E=le.height,K=Math.abs(G-V),ie=Math.abs(ue-Q),ve=K>2*c&&ie>2*c?c:0;K-=2*ve,ie-=2*ve;var he=X(de);de==="auto"&&!(J<=K&&E<=ie)&&(J>K||E>ie)&&(!(J>ie||E>K)||J<E!=K<ie)&&(he+=90);var Le=Z(le,he),ke=1;ce&&(ke=Math.min(1,K/Le.x,ie/Le.y));var se=le.left*F+le.right*Y,ge=(le.top+le.bottom)/2,be=(V+c)*F+(G-c)*Y,Ee=(Q+ue)/2,we=0,Te=0;if(k||P){var Ne=(Se?Le.x:Le.y)/2,$e=Se?w(V,G):w(Q,ue);Se?k?(be=V+$e*ve,we=-$e*Ne):(be=G-$e*ve,we=$e*Ne):k?(Ee=Q+$e*ve,Te=-$e*Ne):(Ee=ue-$e*ve,Te=$e*Ne)}return{textX:se,textY:ge,targetX:be,targetY:Ee,anchorX:we,anchorY:Te,scale:ke,rotate:he}}function q(V,G,Q,ue,le,ye){var Se=!!ye.isHorizontal,ce=!!ye.constrained,de=ye.angle||0,S=le.width,P=le.height,k=Math.abs(G-V),z=Math.abs(ue-Q),Y;Se?Y=z>2*c?c:0:Y=k>2*c?c:0;var F=1;ce&&(F=Se?Math.min(1,z/P):Math.min(1,k/S));var J=X(de),E=Z(le,J),K=(Se?E.x:E.y)/2,ie=(le.left+le.right)/2,ve=(le.top+le.bottom)/2,he=(V+G)/2,Le=(Q+ue)/2,ke=0,se=0,ge=Se?w(G,V):w(Q,ue);return Se?(he=G-ge*Y,ke=ge*K):(Le=ue+ge*Y,se=-ge*K),{textX:ie,textY:ve,targetX:he,targetY:Le,anchorX:ke,anchorY:se,scale:F,rotate:J}}function ae(V,G,Q,ue,le){var ye=G[0].trace,Se=ye.texttemplate,ce;return Se?ce=D(V,G,Q,ue,le):ye.textinfo?ce=_(G,Q,ue,le):ce=y.getValue(ye.text,Q),y.coerceString(g,ce)}function N(V,G){var Q=y.getValue(V.textposition,G);return y.coerceEnumerated(M,Q)}function D(V,G,Q,ue,le){var ye=G[0].trace,Se=l.castOption(ye,Q,"texttemplate");if(!Se)return"";var ce=ye.type==="histogram",de=ye.type==="waterfall",S=ye.type==="funnel",P=ye.orientation==="h",k,z,Y,F;P?(k="y",z=le,Y="x",F=ue):(k="x",z=ue,Y="y",F=le);function J(ke){return n(z,z.c2l(ke),!0).text}function E(ke){return n(F,F.c2l(ke),!0).text}var K=G[Q],ie={};ie.label=K.p,ie.labelLabel=ie[k+"Label"]=J(K.p);var ve=l.castOption(ye,K.i,"text");(ve===0||ve)&&(ie.text=ve),ie.value=K.s,ie.valueLabel=ie[Y+"Label"]=E(K.s);var he={};v(he,ye,K.i),(ce||he.x===void 0)&&(he.x=P?ie.value:ie.label),(ce||he.y===void 0)&&(he.y=P?ie.label:ie.value),(ce||he.xLabel===void 0)&&(he.xLabel=P?ie.valueLabel:ie.labelLabel),(ce||he.yLabel===void 0)&&(he.yLabel=P?ie.labelLabel:ie.valueLabel),de&&(ie.delta=+K.rawS||K.s,ie.deltaLabel=E(ie.delta),ie.final=K.v,ie.finalLabel=E(ie.final),ie.initial=ie.final-ie.delta,ie.initialLabel=E(ie.initial)),S&&(ie.value=K.s,ie.valueLabel=E(ie.value),ie.percentInitial=K.begR,ie.percentInitialLabel=l.formatPercent(K.begR),ie.percentPrevious=K.difR,ie.percentPreviousLabel=l.formatPercent(K.difR),ie.percentTotal=K.sumR,ie.percenTotalLabel=l.formatPercent(K.sumR));var Le=l.castOption(ye,K.i,"customdata");return Le&&(ie.customdata=Le),l.texttemplateString(Se,ie,V._d3locale,he,ie,ye._meta||{})}function _(V,G,Q,ue){var le=V[0].trace,ye=le.orientation==="h",Se=le.type==="waterfall",ce=le.type==="funnel";function de(Le){var ke=ye?ue:Q;return n(ke,Le,!0).text}function S(Le){var ke=ye?Q:ue;return n(ke,+Le,!0).text}var P=le.textinfo,k=V[G],z=P.split("+"),Y=[],F,J=function(Le){return z.indexOf(Le)!==-1};if(J("label")&&Y.push(de(V[G].p)),J("text")&&(F=l.castOption(le,k.i,"text"),(F===0||F)&&Y.push(F)),Se){var E=+k.rawS||k.s,K=k.v,ie=K-E;J("initial")&&Y.push(S(ie)),J("delta")&&Y.push(S(E)),J("final")&&Y.push(S(K))}if(ce){J("value")&&Y.push(S(k.s));var ve=0;J("percent initial")&&ve++,J("percent previous")&&ve++,J("percent total")&&ve++;var he=ve>1;J("percent initial")&&(F=l.formatPercent(k.begR),he&&(F+=" of initial"),Y.push(F)),J("percent previous")&&(F=l.formatPercent(k.difR),he&&(F+=" of previous"),Y.push(F)),J("percent total")&&(F=l.formatPercent(k.sumR),he&&(F+=" of total"),Y.push(F))}return Y.join("<br>")}re.exports={plot:O,toMoveInsideBar:te}},1974:function(re){re.exports=function(o,x){var l=o.cd,i=o.xaxis,r=o.yaxis,f=l[0].trace,s=f.type==="funnel",n=f.orientation==="h",t=[],d;if(x===!1)for(d=0;d<l.length;d++)l[d].selected=0;else for(d=0;d<l.length;d++){var p=l[d],m="ct"in p?p.ct:H(p,i,r,n,s);x.contains(m,!1,d,o)?(t.push({pointNumber:d,x:i.c2d(p.x),y:r.c2d(p.y)}),p.selected=1):p.selected=0}return t};function H(e,o,x,l,i){var r=o.c2p(l?e.s0:e.p0,!0),f=o.c2p(l?e.s1:e.p1,!0),s=x.c2p(l?e.p0:e.s0,!0),n=x.c2p(l?e.p1:e.s1,!0);return i?[(r+f)/2,(s+n)/2]:l?[f,(s+n)/2]:[(r+f)/2,n]}},1546:function(re,H,e){re.exports=x;var o=e(1828).distinctVals;function x(l,i){this.traces=l,this.sepNegVal=i.sepNegVal,this.overlapNoMerge=i.overlapNoMerge;for(var r=1/0,f=i.posAxis._id.charAt(0),s=[],n=0;n<l.length;n++){for(var t=l[n],d=0;d<t.length;d++){var p=t[d],m=p.p;m===void 0&&(m=p[f]),m!==void 0&&s.push(m)}t[0]&&t[0].width1&&(r=Math.min(t[0].width1,r))}this.positions=s;var y=o(s);this.distinctPositions=y.vals,y.vals.length===1&&r!==1/0?this.minDiff=r:this.minDiff=Math.min(y.minDiff,r);var h=(i.posAxis||{}).type;(h==="category"||h==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}x.prototype.put=function(i,r){var f=this.getLabel(i,r),s=this.bins[f]||0;return this.bins[f]=s+r,s},x.prototype.get=function(i,r){var f=this.getLabel(i,r);return this.bins[f]||0},x.prototype.getLabel=function(i,r){var f=r<0&&this.sepNegVal?"v":"^",s=this.overlapNoMerge?i:Math.round(i/this.binWidth);return f+s}},6688:function(re,H,e){var o=e(9898),x=e(7901),l=e(1424),i=e(1828),r=e(3972),f=e(2597).resizeText,s=e(1486),n=s.textfont,t=s.insidetextfont,d=s.outsidetextfont,p=e(9383);function m(C){var I=o.select(C).selectAll("g.barlayer").selectAll("g.trace");f(C,I,"bar");var O=I.size(),L=C._fullLayout;I.style("opacity",function(X){return X[0].trace.opacity}).each(function(X){(L.barmode==="stack"&&O>1||L.bargap===0&&L.bargroupgap===0&&!X[0].trace.marker.line.width)&&o.select(this).attr("shape-rendering","crispEdges")}),I.selectAll("g.points").each(function(X){var Z=o.select(this),te=X[0].trace;y(Z,te,C)}),r.getComponentMethod("errorbars","style")(I)}function y(C,I,O){l.pointStyle(C.selectAll("path"),I,O),h(C,I,O)}function h(C,I,O){C.selectAll("text").each(function(L){var X=o.select(this),Z=i.ensureUniformFontSize(O,v(X,L,I,O));l.font(X,Z)})}function T(C,I,O){var L=I[0].trace;L.selectedpoints?g(O,L,C):(y(O,L,C),r.getComponentMethod("errorbars","style")(O))}function g(C,I,O){l.selectedPointStyle(C.selectAll("path"),I),M(C.selectAll("text"),I,O)}function M(C,I,O){C.each(function(L){var X=o.select(this),Z;if(L.selected){Z=i.ensureUniformFontSize(O,v(X,L,I,O));var te=I.selected.textfont&&I.selected.textfont.color;te&&(Z.color=te),l.font(X,Z)}else l.selectedTextStyle(X,I)})}function v(C,I,O,L){var X=L._fullLayout.font,Z=O.textfont;if(C.classed("bartext-inside")){var te=B(I,O);Z=u(O,I.i,X,te)}else C.classed("bartext-outside")&&(Z=b(O,I.i,X));return Z}function c(C,I,O){return w(n,C.textfont,I,O)}function u(C,I,O,L){var X=c(C,I,O),Z=C._input.textfont===void 0||C._input.textfont.color===void 0||Array.isArray(C.textfont.color)&&C.textfont.color[I]===void 0;return Z&&(X={color:x.contrast(L),family:X.family,size:X.size}),w(t,C.insidetextfont,I,X)}function b(C,I,O){var L=c(C,I,O);return w(d,C.outsidetextfont,I,L)}function w(C,I,O,L){I=I||{};var X=p.getValue(I.family,O),Z=p.getValue(I.size,O),te=p.getValue(I.color,O);return{family:p.coerceString(C.family,X,L.family),size:p.coerceNumber(C.size,Z,L.size),color:p.coerceColor(C.color,te,L.color)}}function B(C,I){return I.type==="waterfall"?I[C.dir].marker.color:C.mcc||C.mc||I.marker.color}re.exports={style:m,styleTextPoints:h,styleOnSelect:T,getInsideTextFont:u,getOutsideTextFont:b,getBarColor:B,resizeText:f}},8340:function(re,H,e){var o=e(7901),x=e(2869).hasColorscale,l=e(1586),i=e(1828).coercePattern;re.exports=function(f,s,n,t,d){var p=n("marker.color",t),m=x(f,"marker");m&&l(f,s,d,n,{prefix:"marker.",cLetter:"c"}),n("marker.line.color",o.defaultLine),x(f,"marker.line")&&l(f,s,d,n,{prefix:"marker.line.",cLetter:"c"}),n("marker.line.width"),n("marker.opacity"),i(n,"marker.pattern",p,m),n("selected.marker.color"),n("unselected.marker.color")}},2597:function(re,H,e){var o=e(9898),x=e(1828);function l(s,n,t){var d=s._fullLayout,p=d["_"+t+"Text_minsize"];if(p){var m=d.uniformtext.mode==="hide",y;switch(t){case"funnelarea":case"pie":case"sunburst":y="g.slice";break;case"treemap":case"icicle":y="g.slice, g.pathbar";break;default:y="g.points > g.point"}n.selectAll(y).each(function(h){var T=h.transform;if(T){T.scale=m&&T.hide?0:p/T.fontSize;var g=o.select(this).select("text");x.setTransormAndDisplay(g,T)}})}}function i(s,n,t){if(t.uniformtext.mode){var d=f(s),p=t.uniformtext.minsize,m=n.scale*n.fontSize;n.hide=m<p,t[d]=t[d]||1/0,n.hide||(t[d]=Math.min(t[d],Math.max(m,p)))}}function r(s,n){var t=f(s);n[t]=void 0}function f(s){return"_"+s+"Text_minsize"}re.exports={recordMinTextSize:i,clearMinTextSize:r,resizeText:l}},4e3:function(re,H,e){var o=e(9012),x=e(7670).Y,l=e(1940),i=e(2399),r=e(5386).fF,f=e(5386).si,s=e(1426).extendFlat,n=l({editType:"plot",arrayOk:!0,colorEditType:"plot"});re.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:i.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:s({},o.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:r({},{keys:["label","color","value","percent","text"]}),texttemplate:f({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:s({},n,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:s({},n,{}),outsidetextfont:s({},n,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:s({},n,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:x({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:s({},n,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},3584:function(re,H,e){var o=e(4875);H.name="pie",H.plot=function(x,l,i,r){o.plotBasePlot(H.name,x,l,i,r)},H.clean=function(x,l,i,r){o.cleanBasePlot(H.name,x,l,i,r)}},2354:function(re,H,e){var o=e(2770),x=e(4267),l=e(7901),i={};function r(t,d){var p=[],m=t._fullLayout,y=m.hiddenlabels||[],h=d.labels,T=d.marker.colors||[],g=d.values,M=d._length,v=d._hasValues&&M,c,u;if(d.dlabel)for(h=new Array(M),c=0;c<M;c++)h[c]=String(d.label0+c*d.dlabel);var b={},w=f(m["_"+d.type+"colormap"]),B=0,C=!1;for(c=0;c<M;c++){var I,O,L;if(v){if(I=g[c],!o(I))continue;I=+I}else I=1;O=h[c],(O===void 0||O==="")&&(O=c),O=String(O);var X=b[O];X===void 0?(b[O]=p.length,L=y.indexOf(O)!==-1,L||(B+=I),p.push({v:I,label:O,color:w(T[c],O),i:c,pts:[c],hidden:L})):(C=!0,u=p[X],u.v+=I,u.pts.push(c),u.hidden||(B+=I),u.color===!1&&T[c]&&(u.color=w(T[c],O)))}p=p.filter(function(te){return te.v>=0});var Z=d.type==="funnelarea"?C:d.sort;return Z&&p.sort(function(te,q){return q.v-te.v}),p[0]&&(p[0].vTotal=B),p}function f(t){return function(p,m){return!p||(p=x(p),!p.isValid())?!1:(p=l.addOpacity(p,p.getAlpha()),t[m]||(t[m]=p),p)}}function s(t,d){var p=(d||{}).type;p||(p="pie");var m=t._fullLayout,y=t.calcdata,h=m[p+"colorway"],T=m["_"+p+"colormap"];m["extend"+p+"colors"]&&(h=n(h,i));for(var g=0,M=0;M<y.length;M++){var v=y[M],c=v[0].trace.type;if(c===p)for(var u=0;u<v.length;u++){var b=v[u];b.color===!1&&(T[b.label]?b.color=T[b.label]:(T[b.label]=b.color=h[g%h.length],g++))}}}function n(t,d){var p,m=JSON.stringify(t),y=d[m];if(!y){for(y=t.slice(),p=0;p<t.length;p++)y.push(x(t[p]).lighten(20).toHexString());for(p=0;p<t.length;p++)y.push(x(t[p]).darken(20).toHexString());d[m]=y}return y}re.exports={calc:r,crossTraceCalc:s,makePullColorFn:f,generateExtendedColors:n}},7434:function(re,H,e){var o=e(2770),x=e(1828),l=e(4e3),i=e(7670).c,r=e(769).handleText;function f(n,t){var d=Array.isArray(n),p=x.isArrayOrTypedArray(t),m=Math.min(d?n.length:1/0,p?t.length:1/0);if(isFinite(m)||(m=0),m&&p){for(var y,h=0;h<m;h++){var T=t[h];if(o(T)&&T>0){y=!0;break}}y||(m=0)}return{hasLabels:d,hasValues:p,len:m}}function s(n,t,d,p){function m(L,X){return x.coerce(n,t,l,L,X)}var y=m("labels"),h=m("values"),T=f(y,h),g=T.len;if(t._hasLabels=T.hasLabels,t._hasValues=T.hasValues,!t._hasLabels&&t._hasValues&&(m("label0"),m("dlabel")),!g){t.visible=!1;return}t._length=g;var M=m("marker.line.width");M&&m("marker.line.color"),m("marker.colors"),m("scalegroup");var v=m("text"),c=m("texttemplate"),u;if(c||(u=m("textinfo",Array.isArray(v)?"text+percent":"percent")),m("hovertext"),m("hovertemplate"),c||u&&u!=="none"){var b=m("textposition");r(n,t,p,m,b,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var w=Array.isArray(b)||b==="auto",B=w||b==="outside";B&&m("automargin"),(b==="inside"||b==="auto"||Array.isArray(b))&&m("insidetextorientation")}i(t,p,m);var C=m("hole"),I=m("title.text");if(I){var O=m("title.position",C?"middle center":"top center");!C&&O==="middle center"&&(t.title.position="top center"),x.coerceFont(m,"title.font",p.font)}m("sort"),m("direction"),m("rotation"),m("pull")}re.exports={handleLabelsAndValues:f,supplyDefaults:s}},7:function(re,H,e){var o=e(3469).appendArrayMultiPointValues;re.exports=function(l,i){var r={curveNumber:i.index,pointNumbers:l.pts,data:i._input,fullData:i,label:l.label,color:l.color,value:l.v,percent:l.percent,text:l.text,bbox:l.bbox,v:l.v};return l.pts.length===1&&(r.pointNumber=r.i=l.pts[0]),o(r,i,l.pts),i.type==="funnelarea"&&(delete r.v,delete r.i),r}},3581:function(re,H,e){var o=e(1828);function x(l){return l.indexOf("e")!==-1?l.replace(/[.]?0+e/,"e"):l.indexOf(".")!==-1?l.replace(/[.]?0+$/,""):l}H.formatPiePercent=function(i,r){var f=x((i*100).toPrecision(3));return o.numSeparate(f,r)+"%"},H.formatPieValue=function(i,r){var f=x(i.toPrecision(10));return o.numSeparate(f,r)},H.getFirstFilled=function(i,r){if(Array.isArray(i))for(var f=0;f<r.length;f++){var s=i[r[f]];if(s||s===0||s==="")return s}},H.castOption=function(i,r){if(Array.isArray(i))return H.getFirstFilled(i,r);if(i)return i},H.getRotationAngle=function(l){return(l==="auto"?0:l)*Math.PI/180}},8810:function(re,H,e){re.exports={attributes:e(4e3),supplyDefaults:e(7434).supplyDefaults,supplyLayoutDefaults:e(2097),layoutAttributes:e(7550),calc:e(2354).calc,crossTraceCalc:e(2354).crossTraceCalc,plot:e(4575).plot,style:e(8357),styleOne:e(3463),moduleType:"trace",name:"pie",basePlotModule:e(3584),categories:["pie-like","pie","showLegend"],meta:{}}},7550:function(re){re.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},2097:function(re,H,e){var o=e(1828),x=e(7550);re.exports=function(i,r){function f(s,n){return o.coerce(i,r,x,s,n)}f("hiddenlabels"),f("piecolorway",r.colorway),f("extendpiecolors")}},4575:function(re,H,e){var o=e(9898),x=e(4875),l=e(211),i=e(7901),r=e(1424),f=e(1828),s=f.strScale,n=f.strTranslate,t=e(3893),d=e(2597),p=d.recordMinTextSize,m=d.clearMinTextSize,y=e(7313).TEXTPAD,h=e(3581),T=e(7),g=e(1828).isValidTextValue;function M(de,S){var P=de._context.staticPlot,k=de._fullLayout,z=k._size;m("pie",k),w(S,de),Q(S,z);var Y=f.makeTraceGroups(k._pielayer,S,"trace").each(function(F){var J=o.select(this),E=F[0],K=E.trace;le(F),J.attr("stroke-linejoin","round"),J.each(function(){var ie=o.select(this).selectAll("g.slice").data(F);ie.enter().append("g").classed("slice",!0),ie.exit().remove();var ve=[[[],[]],[[],[]]],he=!1;ie.each(function(Te,Ne){if(Te.hidden){o.select(this).selectAll("path,g").remove();return}Te.pointNumber=Te.i,Te.curveNumber=K.index,ve[Te.pxmid[1]<0?0:1][Te.pxmid[0]<0?0:1].push(Te);var $e=E.cx,je=E.cy,He=o.select(this),st=He.selectAll("path.surface").data([Te]);if(st.enter().append("path").classed("surface",!0).style({"pointer-events":P?"none":"all"}),He.call(c,de,F),K.pull){var nt=+h.castOption(K.pull,Te.pts)||0;nt>0&&($e+=nt*Te.pxmid[0],je+=nt*Te.pxmid[1])}Te.cxFinal=$e,Te.cyFinal=je;function dt(kt,Ce,Ae,Pe){var $=Pe*(Ce[0]-kt[0]),fe=Pe*(Ce[1]-kt[1]);return"a"+Pe*E.r+","+Pe*E.r+" 0 "+Te.largeArc+(Ae?" 1 ":" 0 ")+$+","+fe}var ht=K.hole;if(Te.v===E.vTotal){var Pt="M"+($e+Te.px0[0])+","+(je+Te.px0[1])+dt(Te.px0,Te.pxmid,!0,1)+dt(Te.pxmid,Te.px0,!0,1)+"Z";ht?st.attr("d","M"+($e+ht*Te.px0[0])+","+(je+ht*Te.px0[1])+dt(Te.px0,Te.pxmid,!1,ht)+dt(Te.pxmid,Te.px0,!1,ht)+"Z"+Pt):st.attr("d",Pt)}else{var bt=dt(Te.px0,Te.px1,!0,1);if(ht){var At=1-ht;st.attr("d","M"+($e+ht*Te.px1[0])+","+(je+ht*Te.px1[1])+dt(Te.px1,Te.px0,!1,ht)+"l"+At*Te.px0[0]+","+At*Te.px0[1]+bt+"Z")}else st.attr("d","M"+$e+","+je+"l"+Te.px0[0]+","+Te.px0[1]+bt+"Z")}Se(de,Te,E);var wt=h.castOption(K.textposition,Te.pts),Lt=He.selectAll("g.slicetext").data(Te.text&&wt!=="none"?[0]:[]);Lt.enter().append("g").classed("slicetext",!0),Lt.exit().remove(),Lt.each(function(){var kt=f.ensureSingle(o.select(this),"text","",function(Ge){Ge.attr("data-notex",1)}),Ce=f.ensureUniformFontSize(de,wt==="outside"?u(K,Te,k.font):b(K,Te,k.font));kt.text(Te.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(r.font,Ce).call(t.convertToTspans,de);var Ae=r.bBox(kt.node()),Pe;if(wt==="outside")Pe=q(Ae,Te);else if(Pe=B(Ae,Te,E),wt==="auto"&&Pe.scale<1){var $=f.ensureUniformFontSize(de,K.outsidetextfont);kt.call(r.font,$),Ae=r.bBox(kt.node()),Pe=q(Ae,Te)}var fe=Pe.textPosAngle,pe=fe===void 0?Te.pxmid:ye(E.r,fe);if(Pe.targetX=$e+pe[0]*Pe.rCenter+(Pe.x||0),Pe.targetY=je+pe[1]*Pe.rCenter+(Pe.y||0),ce(Pe,Ae),Pe.outside){var Me=Pe.targetY;Te.yLabelMin=Me-Ae.height/2,Te.yLabelMid=Me,Te.yLabelMax=Me+Ae.height/2,Te.labelExtraX=0,Te.labelExtraY=0,he=!0}Pe.fontSize=Ce.size,p(K.type,Pe,k),F[Ne].transform=Pe,f.setTransormAndDisplay(kt,Pe)})});var Le=o.select(this).selectAll("g.titletext").data(K.title.text?[0]:[]);if(Le.enter().append("g").classed("titletext",!0),Le.exit().remove(),Le.each(function(){var Te=f.ensureSingle(o.select(this),"text","",function(je){je.attr("data-notex",1)}),Ne=K.title.text;K._meta&&(Ne=f.templateString(Ne,K._meta)),Te.text(Ne).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(r.font,K.title.font).call(t.convertToTspans,de);var $e;K.title.position==="middle center"?$e=ae(E):$e=N(E,z),Te.attr("transform",n($e.x,$e.y)+s(Math.min(1,$e.scale))+n($e.tx,$e.ty))}),he&&G(ve,K),v(ie,K),he&&K.automargin){var ke=r.bBox(J.node()),se=K.domain,ge=z.w*(se.x[1]-se.x[0]),be=z.h*(se.y[1]-se.y[0]),Ee=(.5*ge-E.r)/z.w,we=(.5*be-E.r)/z.h;x.autoMargin(de,"pie."+K.uid+".automargin",{xl:se.x[0]-Ee,xr:se.x[1]+Ee,yb:se.y[0]-we,yt:se.y[1]+we,l:Math.max(E.cx-E.r-ke.left,0),r:Math.max(ke.right-(E.cx+E.r),0),b:Math.max(ke.bottom-(E.cy+E.r),0),t:Math.max(E.cy-E.r-ke.top,0),pad:5})}})});setTimeout(function(){Y.selectAll("tspan").each(function(){var F=o.select(this);F.attr("dy")&&F.attr("dy",F.attr("dy"))})},0)}function v(de,S){de.each(function(P){var k=o.select(this);if(!P.labelExtraX&&!P.labelExtraY){k.select("path.textline").remove();return}var z=k.select("g.slicetext text");P.transform.targetX+=P.labelExtraX,P.transform.targetY+=P.labelExtraY,f.setTransormAndDisplay(z,P.transform);var Y=P.cxFinal+P.pxmid[0],F=P.cyFinal+P.pxmid[1],J="M"+Y+","+F,E=(P.yLabelMax-P.yLabelMin)*(P.pxmid[0]<0?-1:1)/4;if(P.labelExtraX){var K=P.labelExtraX*P.pxmid[1]/P.pxmid[0],ie=P.yLabelMid+P.labelExtraY-(P.cyFinal+P.pxmid[1]);Math.abs(K)>Math.abs(ie)?J+="l"+ie*P.pxmid[0]/P.pxmid[1]+","+ie+"H"+(Y+P.labelExtraX+E):J+="l"+P.labelExtraX+","+K+"v"+(ie-K)+"h"+E}else J+="V"+(P.yLabelMid+P.labelExtraY)+"h"+E;f.ensureSingle(k,"path","textline").call(i.stroke,S.outsidetextfont.color).attr({"stroke-width":Math.min(2,S.outsidetextfont.size/8),d:J,fill:"none"})})}function c(de,S,P){var k=P[0],z=k.cx,Y=k.cy,F=k.trace,J=F.type==="funnelarea";"_hasHoverLabel"in F||(F._hasHoverLabel=!1),"_hasHoverEvent"in F||(F._hasHoverEvent=!1),de.on("mouseover",function(E){var K=S._fullLayout,ie=S._fullData[F.index];if(!(S._dragging||K.hovermode===!1)){var ve=ie.hoverinfo;if(Array.isArray(ve)&&(ve=l.castHoverinfo({hoverinfo:[h.castOption(ve,E.pts)],_module:F._module},K,0)),ve==="all"&&(ve="label+text+value+percent+name"),ie.hovertemplate||ve!=="none"&&ve!=="skip"&&ve){var he=E.rInscribed||0,Le=z+E.pxmid[0]*(1-he),ke=Y+E.pxmid[1]*(1-he),se=K.separators,ge=[];if(ve&&ve.indexOf("label")!==-1&&ge.push(E.label),E.text=h.castOption(ie.hovertext||ie.text,E.pts),ve&&ve.indexOf("text")!==-1){var be=E.text;f.isValidTextValue(be)&&ge.push(be)}E.value=E.v,E.valueLabel=h.formatPieValue(E.v,se),ve&&ve.indexOf("value")!==-1&&ge.push(E.valueLabel),E.percent=E.v/k.vTotal,E.percentLabel=h.formatPiePercent(E.percent,se),ve&&ve.indexOf("percent")!==-1&&ge.push(E.percentLabel);var Ee=ie.hoverlabel,we=Ee.font,Te=[];l.loneHover({trace:F,x0:Le-he*k.r,x1:Le+he*k.r,y:ke,_x0:J?z+E.TL[0]:Le-he*k.r,_x1:J?z+E.TR[0]:Le+he*k.r,_y0:J?Y+E.TL[1]:ke-he*k.r,_y1:J?Y+E.BL[1]:ke+he*k.r,text:ge.join("<br>"),name:ie.hovertemplate||ve.indexOf("name")!==-1?ie.name:void 0,idealAlign:E.pxmid[0]<0?"left":"right",color:h.castOption(Ee.bgcolor,E.pts)||E.color,borderColor:h.castOption(Ee.bordercolor,E.pts),fontFamily:h.castOption(we.family,E.pts),fontSize:h.castOption(we.size,E.pts),fontColor:h.castOption(we.color,E.pts),nameLength:h.castOption(Ee.namelength,E.pts),textAlign:h.castOption(Ee.align,E.pts),hovertemplate:h.castOption(ie.hovertemplate,E.pts),hovertemplateLabels:E,eventData:[T(E,ie)]},{container:K._hoverlayer.node(),outerContainer:K._paper.node(),gd:S,inOut_bbox:Te}),E.bbox=Te[0],F._hasHoverLabel=!0}F._hasHoverEvent=!0,S.emit("plotly_hover",{points:[T(E,ie)],event:o.event})}}),de.on("mouseout",function(E){var K=S._fullLayout,ie=S._fullData[F.index],ve=o.select(this).datum();F._hasHoverEvent&&(E.originalEvent=o.event,S.emit("plotly_unhover",{points:[T(ve,ie)],event:o.event}),F._hasHoverEvent=!1),F._hasHoverLabel&&(l.loneUnhover(K._hoverlayer.node()),F._hasHoverLabel=!1)}),de.on("click",function(E){var K=S._fullLayout,ie=S._fullData[F.index];S._dragging||K.hovermode===!1||(S._hoverdata=[T(E,ie)],l.click(S,o.event))})}function u(de,S,P){var k=h.castOption(de.outsidetextfont.color,S.pts)||h.castOption(de.textfont.color,S.pts)||P.color,z=h.castOption(de.outsidetextfont.family,S.pts)||h.castOption(de.textfont.family,S.pts)||P.family,Y=h.castOption(de.outsidetextfont.size,S.pts)||h.castOption(de.textfont.size,S.pts)||P.size;return{color:k,family:z,size:Y}}function b(de,S,P){var k=h.castOption(de.insidetextfont.color,S.pts);!k&&de._input.textfont&&(k=h.castOption(de._input.textfont.color,S.pts));var z=h.castOption(de.insidetextfont.family,S.pts)||h.castOption(de.textfont.family,S.pts)||P.family,Y=h.castOption(de.insidetextfont.size,S.pts)||h.castOption(de.textfont.size,S.pts)||P.size;return{color:k||i.contrast(S.color),family:z,size:Y}}function w(de,S){for(var P,k,z=0;z<de.length;z++)if(P=de[z][0],k=P.trace,k.title.text){var Y=k.title.text;k._meta&&(Y=f.templateString(Y,k._meta));var F=r.tester.append("text").attr("data-notex",1).text(Y).call(r.font,k.title.font).call(t.convertToTspans,S),J=r.bBox(F.node(),!0);P.titleBox={width:J.width,height:J.height},F.remove()}}function B(de,S,P){var k=P.r||S.rpx1,z=S.rInscribed,Y=S.startangle===S.stopangle;if(Y)return{rCenter:1-z,scale:0,rotate:0,textPosAngle:0};var F=S.ring,J=F===1&&Math.abs(S.startangle-S.stopangle)===Math.PI*2,E=S.halfangle,K=S.midangle,ie=P.trace.insidetextorientation,ve=ie==="horizontal",he=ie==="tangential",Le=ie==="radial",ke=ie==="auto",se=[],ge;if(!ke){var be=function(He,st){if(C(S,He)){var nt=Math.abs(He-S.startangle),dt=Math.abs(He-S.stopangle),ht=nt<dt?nt:dt;st==="tan"?ge=O(de,k,F,ht,0):ge=I(de,k,F,ht,Math.PI/2),ge.textPosAngle=He,se.push(ge)}},Ee;if(ve||he){for(Ee=4;Ee>=-4;Ee-=2)be(Math.PI*Ee,"tan");for(Ee=4;Ee>=-4;Ee-=2)be(Math.PI*(Ee+1),"tan")}if(ve||Le){for(Ee=4;Ee>=-4;Ee-=2)be(Math.PI*(Ee+1.5),"rad");for(Ee=4;Ee>=-4;Ee-=2)be(Math.PI*(Ee+.5),"rad")}}if(J||ke||ve){var we=Math.sqrt(de.width*de.width+de.height*de.height);if(ge={scale:z*k*2/we,rCenter:1-z,rotate:0},ge.textPosAngle=(S.startangle+S.stopangle)/2,ge.scale>=1)return ge;se.push(ge)}(ke||Le)&&(ge=I(de,k,F,E,K),ge.textPosAngle=(S.startangle+S.stopangle)/2,se.push(ge)),(ke||he)&&(ge=O(de,k,F,E,K),ge.textPosAngle=(S.startangle+S.stopangle)/2,se.push(ge));for(var Te=0,Ne=0,$e=0;$e<se.length;$e++){var je=se[$e].scale;if(Ne<je&&(Ne=je,Te=$e),!ke&&Ne>=1)break}return se[Te]}function C(de,S){var P=de.startangle,k=de.stopangle;return P>S&&S>k||P<S&&S<k}function I(de,S,P,k,z){S=Math.max(0,S-2*y);var Y=de.width/de.height,F=Z(Y,k,S,P);return{scale:F*2/de.height,rCenter:L(Y,F/S),rotate:X(z)}}function O(de,S,P,k,z){S=Math.max(0,S-2*y);var Y=de.height/de.width,F=Z(Y,k,S,P);return{scale:F*2/de.width,rCenter:L(Y,F/S),rotate:X(z+Math.PI/2)}}function L(de,S){return Math.cos(S)-de*S}function X(de){return(180/Math.PI*de+720)%180-90}function Z(de,S,P,k){var z=de+1/(2*Math.tan(S));return P*Math.min(1/(Math.sqrt(z*z+.5)+z),k/(Math.sqrt(de*de+k/2)+de))}function te(de,S){return de.v===S.vTotal&&!S.trace.hole?1:Math.min(1/(1+1/Math.sin(de.halfangle)),de.ring/2)}function q(de,S){var P=S.pxmid[0],k=S.pxmid[1],z=de.width/2,Y=de.height/2;return P<0&&(z*=-1),k<0&&(Y*=-1),{scale:1,rCenter:1,rotate:0,x:z+Math.abs(Y)*(z>0?1:-1)/2,y:Y/(1+P*P/(k*k)),outside:!0}}function ae(de){var S=Math.sqrt(de.titleBox.width*de.titleBox.width+de.titleBox.height*de.titleBox.height);return{x:de.cx,y:de.cy,scale:de.trace.hole*de.r*2/S,tx:0,ty:-de.titleBox.height/2+de.trace.title.font.size}}function N(de,S){var P=1,k=1,z,Y=de.trace,F={x:de.cx,y:de.cy},J={tx:0,ty:0};J.ty+=Y.title.font.size,z=V(Y),Y.title.position.indexOf("top")!==-1?(F.y-=(1+z)*de.r,J.ty-=de.titleBox.height):Y.title.position.indexOf("bottom")!==-1&&(F.y+=(1+z)*de.r);var E=D(de.r,de.trace.aspectratio),K=S.w*(Y.domain.x[1]-Y.domain.x[0])/2;return Y.title.position.indexOf("left")!==-1?(K=K+E,F.x-=(1+z)*E,J.tx+=de.titleBox.width/2):Y.title.position.indexOf("center")!==-1?K*=2:Y.title.position.indexOf("right")!==-1&&(K=K+E,F.x+=(1+z)*E,J.tx-=de.titleBox.width/2),P=K/de.titleBox.width,k=_(de,S)/de.titleBox.height,{x:F.x,y:F.y,scale:Math.min(P,k),tx:J.tx,ty:J.ty}}function D(de,S){return de/(S===void 0?1:S)}function _(de,S){var P=de.trace,k=S.h*(P.domain.y[1]-P.domain.y[0]);return Math.min(de.titleBox.height,k/2)}function V(de){var S=de.pull;if(!S)return 0;var P;if(Array.isArray(S))for(S=0,P=0;P<de.pull.length;P++)de.pull[P]>S&&(S=de.pull[P]);return S}function G(de,S){var P,k,z,Y,F,J,E,K,ie,ve,he,Le,ke;function se(we,Te){return we.pxmid[1]-Te.pxmid[1]}function ge(we,Te){return Te.pxmid[1]-we.pxmid[1]}function be(we,Te){Te||(Te={});var Ne=Te.labelExtraY+(k?Te.yLabelMax:Te.yLabelMin),$e=k?we.yLabelMin:we.yLabelMax,je=k?we.yLabelMax:we.yLabelMin,He=we.cyFinal+F(we.px0[1],we.px1[1]),st=Ne-$e,nt,dt,ht,Pt,bt,At;if(st*E>0&&(we.labelExtraY=st),!!Array.isArray(S.pull))for(dt=0;dt<ve.length;dt++)ht=ve[dt],!(ht===we||(h.castOption(S.pull,we.pts)||0)>=(h.castOption(S.pull,ht.pts)||0))&&((we.pxmid[1]-ht.pxmid[1])*E>0?(Pt=ht.cyFinal+F(ht.px0[1],ht.px1[1]),st=Pt-$e-we.labelExtraY,st*E>0&&(we.labelExtraY+=st)):(je+we.labelExtraY-He)*E>0&&(nt=3*J*Math.abs(dt-ve.indexOf(we)),bt=ht.cxFinal+Y(ht.px0[0],ht.px1[0]),At=bt+nt-(we.cxFinal+we.pxmid[0])-we.labelExtraX,At*J>0&&(we.labelExtraX+=At)))}for(k=0;k<2;k++)for(z=k?se:ge,F=k?Math.max:Math.min,E=k?1:-1,P=0;P<2;P++){for(Y=P?Math.max:Math.min,J=P?1:-1,K=de[k][P],K.sort(z),ie=de[1-k][P],ve=ie.concat(K),Le=[],he=0;he<K.length;he++)K[he].yLabelMid!==void 0&&Le.push(K[he]);for(ke=!1,he=0;k&&he<ie.length;he++)if(ie[he].yLabelMid!==void 0){ke=ie[he];break}for(he=0;he<Le.length;he++){var Ee=he&&Le[he-1];ke&&!he&&(Ee=ke),be(Le[he],Ee)}}}function Q(de,S){for(var P=[],k=0;k<de.length;k++){var z=de[k][0],Y=z.trace,F=Y.domain,J=S.w*(F.x[1]-F.x[0]),E=S.h*(F.y[1]-F.y[0]);Y.title.text&&Y.title.position!=="middle center"&&(E-=_(z,S));var K=J/2,ie=E/2;Y.type==="funnelarea"&&!Y.scalegroup&&(ie/=Y.aspectratio),z.r=Math.min(K,ie)/(1+V(Y)),z.cx=S.l+S.w*(Y.domain.x[1]+Y.domain.x[0])/2,z.cy=S.t+S.h*(1-Y.domain.y[0])-E/2,Y.title.text&&Y.title.position.indexOf("bottom")!==-1&&(z.cy-=_(z,S)),Y.scalegroup&&P.indexOf(Y.scalegroup)===-1&&P.push(Y.scalegroup)}ue(de,P)}function ue(de,S){for(var P,k,z,Y=0;Y<S.length;Y++){var F=1/0,J=S[Y];for(k=0;k<de.length;k++)if(P=de[k][0],z=P.trace,z.scalegroup===J){var E;if(z.type==="pie")E=P.r*P.r;else if(z.type==="funnelarea"){var K,ie;z.aspectratio>1?(K=P.r,ie=K/z.aspectratio):(ie=P.r,K=ie*z.aspectratio),K*=(1+z.baseratio)/2,E=K*ie}F=Math.min(F,E/P.vTotal)}for(k=0;k<de.length;k++)if(P=de[k][0],z=P.trace,z.scalegroup===J){var ve=F*P.vTotal;z.type==="funnelarea"&&(ve/=(1+z.baseratio)/2,ve/=z.aspectratio),P.r=Math.sqrt(ve)}}}function le(de){var S=de[0],P=S.r,k=S.trace,z=h.getRotationAngle(k.rotation),Y=2*Math.PI/S.vTotal,F="px0",J="px1",E,K,ie;if(k.direction==="counterclockwise"){for(E=0;E<de.length&&de[E].hidden;E++);if(E===de.length)return;z+=Y*de[E].v,Y*=-1,F="px1",J="px0"}for(ie=ye(P,z),E=0;E<de.length;E++)K=de[E],!K.hidden&&(K[F]=ie,K.startangle=z,z+=Y*K.v/2,K.pxmid=ye(P,z),K.midangle=z,z+=Y*K.v/2,ie=ye(P,z),K.stopangle=z,K[J]=ie,K.largeArc=K.v>S.vTotal/2?1:0,K.halfangle=Math.PI*Math.min(K.v/S.vTotal,.5),K.ring=1-k.hole,K.rInscribed=te(K,S))}function ye(de,S){return[de*Math.sin(S),-de*Math.cos(S)]}function Se(de,S,P){var k=de._fullLayout,z=P.trace,Y=z.texttemplate,F=z.textinfo;if(!Y&&F&&F!=="none"){var J=F.split("+"),E=function(Te){return J.indexOf(Te)!==-1},K=E("label"),ie=E("text"),ve=E("value"),he=E("percent"),Le=k.separators,ke;if(ke=K?[S.label]:[],ie){var se=h.getFirstFilled(z.text,S.pts);g(se)&&ke.push(se)}ve&&ke.push(h.formatPieValue(S.v,Le)),he&&ke.push(h.formatPiePercent(S.v/P.vTotal,Le)),S.text=ke.join("<br>")}function ge(Te){return{label:Te.label,value:Te.v,valueLabel:h.formatPieValue(Te.v,k.separators),percent:Te.v/P.vTotal,percentLabel:h.formatPiePercent(Te.v/P.vTotal,k.separators),color:Te.color,text:Te.text,customdata:f.castOption(z,Te.i,"customdata")}}if(Y){var be=f.castOption(z,S.i,"texttemplate");if(!be)S.text="";else{var Ee=ge(S),we=h.getFirstFilled(z.text,S.pts);(g(we)||we==="")&&(Ee.text=we),S.text=f.texttemplateString(be,Ee,de._fullLayout._d3locale,Ee,z._meta||{})}}}function ce(de,S){var P=de.rotate*Math.PI/180,k=Math.cos(P),z=Math.sin(P),Y=(S.left+S.right)/2,F=(S.top+S.bottom)/2;de.textX=Y*k-F*z,de.textY=Y*z+F*k,de.noCenter=!0}re.exports={plot:M,formatSliceLabel:Se,transformInsideText:B,determineInsideTextFont:b,positionTitleOutside:N,prerenderTitles:w,layoutAreas:Q,attachFxHandlers:c,computeTransform:ce}},8357:function(re,H,e){var o=e(9898),x=e(3463),l=e(2597).resizeText;re.exports=function(r){var f=r._fullLayout._pielayer.selectAll(".trace");l(r,f,"pie"),f.each(function(s){var n=s[0],t=n.trace,d=o.select(this);d.style({opacity:t.opacity}),d.selectAll("path.surface").each(function(p){o.select(this).call(x,p,t)})})}},3463:function(re,H,e){var o=e(7901),x=e(3581).castOption;re.exports=function(i,r,f){var s=f.marker.line,n=x(s.color,r.pts)||o.defaultLine,t=x(s.width,r.pts)||0;i.style("stroke-width",t).call(o.fill,r.color).call(o.stroke,n)}},5225:function(re,H,e){var o=e(1828);re.exports=function(l,i){for(var r=0;r<l.length;r++)l[r].i=r;o.mergeArray(i.text,l,"tx"),o.mergeArray(i.texttemplate,l,"txt"),o.mergeArray(i.hovertext,l,"htx"),o.mergeArray(i.customdata,l,"data"),o.mergeArray(i.textposition,l,"tp"),i.textfont&&(o.mergeArrayCastPositive(i.textfont.size,l,"ts"),o.mergeArray(i.textfont.color,l,"tc"),o.mergeArray(i.textfont.family,l,"tf"));var f=i.marker;if(f){o.mergeArrayCastPositive(f.size,l,"ms"),o.mergeArrayCastPositive(f.opacity,l,"mo"),o.mergeArray(f.symbol,l,"mx"),o.mergeArray(f.angle,l,"ma"),o.mergeArray(f.standoff,l,"mf"),o.mergeArray(f.color,l,"mc");var s=f.line;f.line&&(o.mergeArray(s.color,l,"mlc"),o.mergeArrayCastPositive(s.width,l,"mlw"));var n=f.gradient;n&&n.type!=="none"&&(o.mergeArray(n.type,l,"mgt"),o.mergeArray(n.color,l,"mgc"))}}},2196:function(re,H,e){var o=e(2663).axisHoverFormat,x=e(5386).si,l=e(5386).fF,i=e(693),r=e(1940),f=e(9952).P,s=e(9952).u,n=e(1424),t=e(7581),d=e(1426).extendFlat;function p(h){return{valType:"any",dflt:0,editType:"calc"}}function m(h){return{valType:"any",editType:"calc"}}function y(h){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}re.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:p(),yperiod:p(),xperiod0:m(),yperiod0:m(),xperiodalignment:y(),yperiodalignment:y(),xhoverformat:o("x"),yhoverformat:o("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:x({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:l({},{keys:t.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:d({},f,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:s,marker:d({symbol:{valType:"enumerated",values:n.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:d({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},i("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},i("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:r({editType:"calc",colorEditType:"style",arrayOk:!0})}},7761:function(re,H,e){var o=e(2770),x=e(1828),l=e(9298),i=e(2973),r=e(606).BADNUM,f=e(4098),s=e(6922),n=e(5225),t=e(6279);function d(g,M){var v=g._fullLayout,c=M._xA=l.getFromId(g,M.xaxis||"x","x"),u=M._yA=l.getFromId(g,M.yaxis||"y","y"),b=c.makeCalcdata(M,"x"),w=u.makeCalcdata(M,"y"),B=i(M,c,"x",b),C=i(M,u,"y",w),I=B.vals,O=C.vals,L=M._length,X=new Array(L),Z=M.ids,te=T(M,v,c,u),q=!1,ae,N,D,_,V,G;y(v,M);var Q="x",ue="y",le;if(te)x.pushUnique(te.traceIndices,M._expandedIndex),ae=te.orientation==="v",ae?(ue="s",le="x"):(Q="s",le="y"),V=te.stackgaps==="interpolate";else{var ye=m(M,L);p(g,M,c,u,I,O,ye)}var Se=!!M.xperiodalignment,ce=!!M.yperiodalignment;for(N=0;N<L;N++){var de=X[N]={},S=o(I[N]),P=o(O[N]);S&&P?(de[Q]=I[N],de[ue]=O[N],Se&&(de.orig_x=b[N],de.xEnd=B.ends[N],de.xStart=B.starts[N]),ce&&(de.orig_y=w[N],de.yEnd=C.ends[N],de.yStart=C.starts[N])):te&&(ae?S:P)?(de[le]=ae?I[N]:O[N],de.gap=!0,V?(de.s=r,q=!0):de.s=0):de[Q]=de[ue]=r,Z&&(de.id=String(Z[N]))}if(n(X,M),s(g,M),t(X,M),te){for(N=0;N<X.length;)X[N][le]===r?X.splice(N,1):N++;if(x.sort(X,function(F,J){return F[le]-J[le]||F.i-J.i}),q){for(N=0;N<X.length-1&&X[N].gap;)N++;for(G=X[N].s,G||(G=X[N].s=0),D=0;D<N;D++)X[D].s=G;for(_=X.length-1;_>N&&X[_].gap;)_--;for(G=X[_].s,D=X.length-1;D>_;D--)X[D].s=G;for(;N<_;)if(N++,X[N].gap){for(D=N+1;X[D].gap;)D++;for(var k=X[N-1][le],z=X[N-1].s,Y=(X[D].s-z)/(X[D][le]-k);N<D;)X[N].s=z+(X[N][le]-k)*Y,N++}}}return X}function p(g,M,v,c,u,b,w){var B=M._length,C=g._fullLayout,I=v._id,O=c._id,L=C._firstScatter[h(M)]===M.uid,X=(T(M,C,v,c)||{}).orientation,Z=M.fill;v._minDtick=0,c._minDtick=0;var te={padded:!0},q={padded:!0};w&&(te.ppad=q.ppad=w);var ae=B<2||u[0]!==u[B-1]||b[0]!==b[B-1];ae&&(Z==="tozerox"||Z==="tonextx"&&(L||X==="h"))?te.tozero=!0:!(M.error_y||{}).visible&&(Z==="tonexty"||Z==="tozeroy"||!f.hasMarkers(M)&&!f.hasText(M))&&(te.padded=!1,te.ppad=0),ae&&(Z==="tozeroy"||Z==="tonexty"&&(L||X==="v"))?q.tozero=!0:(Z==="tonextx"||Z==="tozerox")&&(q.padded=!1),I&&(M._extremes[I]=l.findExtremes(v,u,te)),O&&(M._extremes[O]=l.findExtremes(c,b,q))}function m(g,M){if(f.hasMarkers(g)){var v=g.marker,c=1.6*(g.marker.sizeref||1),u;if(g.marker.sizemode==="area"?u=function(I){return Math.max(Math.sqrt((I||0)/c),3)}:u=function(I){return Math.max((I||0)/c,3)},x.isArrayOrTypedArray(v.size)){var b={type:"linear"};l.setConvert(b);for(var w=b.makeCalcdata(g.marker,"size"),B=new Array(M),C=0;C<M;C++)B[C]=u(w[C]);return B}else return u(v.size)}}function y(g,M){var v=h(M),c=g._firstScatter;c[v]||(c[v]=M.uid)}function h(g){var M=g.stackgroup;return g.xaxis+g.yaxis+g.type+(M?"-"+M:"")}function T(g,M,v,c){var u=g.stackgroup;if(u){var b=M._scatterStackOpts[v._id+c._id][u],w=b.orientation==="v"?c:v;if(w.type==="linear"||w.type==="log")return b}}re.exports={calc:d,calcMarkerSize:m,calcAxisExpansion:p,setFirstScatter:y,getStackOpts:T}},6279:function(re,H,e){var o=e(1828);re.exports=function(l,i){o.isArrayOrTypedArray(i.selectedpoints)&&o.tagSelected(l,i)}},6922:function(re,H,e){var o=e(2869).hasColorscale,x=e(8803),l=e(4098);re.exports=function(r,f){l.hasLines(f)&&o(f,"line")&&x(r,f,{vals:f.line.color,containerStr:"line",cLetter:"c"}),l.hasMarkers(f)&&(o(f,"marker")&&x(r,f,{vals:f.marker.color,containerStr:"marker",cLetter:"c"}),o(f,"marker.line")&&x(r,f,{vals:f.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},7581:function(re){re.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},2626:function(re,H,e){var o=e(7761),x=e(1661).setGroupPositions;function l(f,s){for(var n=s.xaxis,t=s.yaxis,d=f._fullLayout,p=f._fullData,m=f.calcdata,y=[],h=[],T=0;T<p.length;T++){var g=p[T];g.visible===!0&&g.type==="scatter"&&g.xaxis===n._id&&g.yaxis===t._id&&(g.orientation==="h"?y.push(m[T]):g.orientation==="v"&&h.push(m[T]))}var M={mode:d.scattermode,gap:d.scattergap};x(f,n,t,h,M),x(f,t,n,y,M)}re.exports=function(s,n){s._fullLayout.scattermode==="group"&&l(s,n);var t=n.xaxis,d=n.yaxis,p=t._id+d._id,m=s._fullLayout._scatterStackOpts[p];if(m){var y=s.calcdata,h,T,g,M,v,c,u,b,w,B,C,I,O,L,X;for(var Z in m){B=m[Z];var te=B.traceIndices;if(te.length){for(C=B.stackgaps==="interpolate",I=B.groupnorm,B.orientation==="v"?(O="x",L="y"):(O="y",L="x"),X=new Array(te.length),h=0;h<X.length;h++)X[h]=!1;c=y[te[0]];var q=new Array(c.length);for(h=0;h<c.length;h++)q[h]=c[h][O];for(h=1;h<te.length;h++){for(v=y[te[h]],T=g=0;T<v.length;T++){for(u=v[T][O];u>q[g]&&g<q.length;g++)i(v,T,q[g],h,X,C,O),T++;if(u!==q[g]){for(M=0;M<h;M++)i(y[te[M]],g,u,M,X,C,O);q.splice(g,0,u)}g++}for(;g<q.length;g++)i(v,T,q[g],h,X,C,O),T++}var ae=q.length;for(T=0;T<c.length;T++){for(b=c[T][L]=c[T].s,h=1;h<te.length;h++)v=y[te[h]],v[0].trace._rawLength=v[0].trace._length,v[0].trace._length=ae,b+=v[T].s,v[T][L]=b;if(I)for(w=(I==="fraction"?b:b/100)||1,h=0;h<te.length;h++){var N=y[te[h]][T];N[L]/=w,N.sNorm=N.s/w}}for(h=0;h<te.length;h++){v=y[te[h]];var D=v[0].trace,_=o.calcMarkerSize(D,D._rawLength),V=Array.isArray(_);if(_&&X[h]||V){var G=_;for(_=new Array(ae),T=0;T<ae;T++)_[T]=v[T].gap?0:V?G[v[T].i]:G}var Q=new Array(ae),ue=new Array(ae);for(T=0;T<ae;T++)Q[T]=v[T].x,ue[T]=v[T].y;o.calcAxisExpansion(s,D,t,d,Q,ue,_),v[0].t.orientation=B.orientation}}}}};function i(f,s,n,t,d,p,m){d[t]=!0;var y={i:null,gap:!0,s:0};if(y[m]=n,f.splice(s,0,y),s&&n===f[s-1][m]){var h=f[s-1];y.s=h.s,y.i=h.i,y.gap=h.gap}else p&&(y.s=r(f,s,n,m));s||(f[0].t=f[1].t,f[0].trace=f[1].trace,delete f[1].t,delete f[1].trace)}function r(f,s,n,t){var d=f[s-1],p=f[s+1];return p?d?d.s+(p.s-d.s)*(n-d[t])/(p[t]-d[t]):p.s:d.s}},462:function(re,H,e){var o=e(1828),x=e(6125),l=e(2196);re.exports=function(r,f){var s,n,t;function d(T){return o.coerce(n._input,n,l,T)}if(f.scattermode==="group")for(t=0;t<r.length;t++)n=r[t],n.type==="scatter"&&(s=n._input,x(s,n,f,d));for(t=0;t<r.length;t++){var p=r[t];if(p.type==="scatter"){var m=p.fill;if(!(m==="none"||m==="toself")&&(p.opacity=void 0,m==="tonexty"||m==="tonextx"))for(var y=t-1;y>=0;y--){var h=r[y];if(h.type==="scatter"&&h.xaxis===p.xaxis&&h.yaxis===p.yaxis){h.opacity=void 0;break}}}}}},7438:function(re,H,e){var o=e(1828),x=e(3972),l=e(2196),i=e(7581),r=e(4098),f=e(7513),s=e(3927),n=e(565),t=e(9508),d=e(1058),p=e(4039),m=e(2410),y=e(8908),h=e(1828).coercePattern;re.exports=function(g,M,v,c){function u(X,Z){return o.coerce(g,M,l,X,Z)}var b=f(g,M,c,u);if(b||(M.visible=!1),!!M.visible){s(g,M,c,u),u("xhoverformat"),u("yhoverformat");var w=n(g,M,c,u);c.scattermode==="group"&&M.orientation===void 0&&u("orientation","v");var B=!w&&b<i.PTS_LINESONLY?"lines+markers":"lines";u("text"),u("hovertext"),u("mode",B),r.hasLines(M)&&(d(g,M,v,c,u,{backoff:!0}),p(g,M,u),u("connectgaps"),u("line.simplify")),r.hasMarkers(M)&&t(g,M,v,c,u,{gradient:!0}),r.hasText(M)&&(u("texttemplate"),m(g,M,c,u));var C=[];(r.hasMarkers(M)||r.hasText(M))&&(u("cliponaxis"),u("marker.maxdisplayed"),C.push("points")),u("fill",w?w.fillDflt:"none"),M.fill!=="none"&&(y(g,M,v,u),r.hasLines(M)||p(g,M,u),h(u,"fillpattern",M.fillcolor,!1));var I=(M.line||{}).color,O=(M.marker||{}).color;(M.fill==="tonext"||M.fill==="toself")&&C.push("fills"),u("hoveron",C.join("+")||"points"),M.hoveron!=="fills"&&u("hovertemplate");var L=x.getComponentMethod("errorbars","supplyDefaults");L(g,M,I||O||v,{axis:"y"}),L(g,M,I||O||v,{axis:"x",inherit:"y"}),o.coerceSelectionMarkerOpacity(M,u)}}},8908:function(re,H,e){var o=e(7901),x=e(1828).isArrayOrTypedArray;re.exports=function(i,r,f,s){var n=!1;if(r.marker){var t=r.marker.color,d=(r.marker.line||{}).color;t&&!x(t)?n=t:d&&!x(d)&&(n=d)}s("fillcolor",o.addOpacity((r.line||{}).color||n||f,.5))}},8225:function(re,H,e){var o=e(9298);re.exports=function(l,i,r){var f={},s={_fullLayout:r},n=o.getFromTrace(s,i,"x"),t=o.getFromTrace(s,i,"y"),d=l.orig_x;d===void 0&&(d=l.x);var p=l.orig_y;return p===void 0&&(p=l.y),f.xLabel=o.tickText(n,n.c2l(d),!0).text,f.yLabel=o.tickText(t,t.c2l(p),!0).text,f}},4603:function(re,H,e){var o=e(7901),x=e(4098);re.exports=function(i,r){var f,s;if(i.mode==="lines")return f=i.line.color,f&&o.opacity(f)?f:i.fillcolor;if(i.mode==="none")return i.fill?i.fillcolor:"";var n=r.mcc||(i.marker||{}).color,t=r.mlcc||((i.marker||{}).line||{}).color;return s=n&&o.opacity(n)?n:t&&o.opacity(t)&&(r.mlw||((i.marker||{}).line||{}).width)?t:"",s?o.opacity(s)<.3?o.addOpacity(s,.3):s:(f=(i.line||{}).color,f&&o.opacity(f)&&x.hasLines(i)&&i.line.width?f:i.fillcolor)}},6125:function(re,H,e){var o=e(9082).getAxisGroup;re.exports=function(l,i,r,f){var s=i.orientation,n=i[{v:"x",h:"y"}[s]+"axis"],t=o(r,n)+s,d=r._alignmentOpts||{},p=f("alignmentgroup"),m=d[t];m||(m=d[t]={});var y=m[p];y?y.traces.push(i):y=m[p]={traces:[i],alignmentIndex:Object.keys(m).length,offsetGroups:{}};var h=f("offsetgroup"),T=y.offsetGroups,g=T[h];h&&(g||(g=T[h]={offsetIndex:Object.keys(T).length}),i._offsetIndex=g.offsetIndex)}},3720:function(re,H,e){var o=e(1828),x=e(211),l=e(3972),i=e(4603),r=e(7901),f=o.fillText;re.exports=function(n,t,d,p){var m=n.cd,y=m[0].trace,h=n.xa,T=n.ya,g=h.c2p(t),M=T.c2p(d),v=[g,M],c=y.hoveron||"",u=y.mode.indexOf("markers")!==-1?3:.5,b=!!y.xperiodalignment,w=!!y.yperiodalignment;if(c.indexOf("points")!==-1){var B=function(K){if(b){var ie=h.c2p(K.xStart),ve=h.c2p(K.xEnd);return g>=Math.min(ie,ve)&&g<=Math.max(ie,ve)?0:1/0}var he=Math.max(3,K.mrc||0),Le=1-1/he,ke=Math.abs(h.c2p(K.x)-g);return ke<he?Le*ke/he:ke-he+Le},C=function(K){if(w){var ie=T.c2p(K.yStart),ve=T.c2p(K.yEnd);return M>=Math.min(ie,ve)&&M<=Math.max(ie,ve)?0:1/0}var he=Math.max(3,K.mrc||0),Le=1-1/he,ke=Math.abs(T.c2p(K.y)-M);return ke<he?Le*ke/he:ke-he+Le},I=function(K){var ie=Math.max(u,K.mrc||0),ve=h.c2p(K.x)-g,he=T.c2p(K.y)-M;return Math.max(Math.sqrt(ve*ve+he*he)-ie,1-u/ie)},O=x.getDistanceFunction(p,B,C,I);if(x.getClosest(m,O,n),n.index!==!1){var L=m[n.index],X=h.c2p(L.x,!0),Z=T.c2p(L.y,!0),te=L.mrc||1;n.index=L.i;var q=m[0].t.orientation,ae=q&&(L.sNorm||L.s),N=q==="h"?ae:L.orig_x!==void 0?L.orig_x:L.x,D=q==="v"?ae:L.orig_y!==void 0?L.orig_y:L.y;return o.extendFlat(n,{color:i(y,L),x0:X-te,x1:X+te,xLabelVal:N,y0:Z-te,y1:Z+te,yLabelVal:D,spikeDistance:I(L),hovertemplate:y.hovertemplate}),f(L,y,n),l.getComponentMethod("errorbars","hoverInfo")(L,y,n),[n]}}if(c.indexOf("fills")!==-1&&y._polygons){var _=y._polygons,V=[],G=!1,Q=1/0,ue=-1/0,le=1/0,ye=-1/0,Se,ce,de,S,P,k,z,Y,F;for(Se=0;Se<_.length;Se++)de=_[Se],de.contains(v)&&(G=!G,V.push(de),le=Math.min(le,de.ymin),ye=Math.max(ye,de.ymax));if(G){le=Math.max(le,0),ye=Math.min(ye,T._length);var J=(le+ye)/2;for(Se=0;Se<V.length;Se++)for(S=V[Se].pts,ce=1;ce<S.length;ce++)Y=S[ce-1][1],F=S[ce][1],Y>J!=F>=J&&(k=S[ce-1][0],z=S[ce][0],F-Y&&(P=k+(z-k)*(J-Y)/(F-Y),Q=Math.min(Q,P),ue=Math.max(ue,P)));Q=Math.max(Q,0),ue=Math.min(ue,h._length);var E=r.defaultLine;return r.opacity(y.fillcolor)?E=y.fillcolor:r.opacity((y.line||{}).color)&&(E=y.line.color),o.extendFlat(n,{distance:n.maxHoverDistance,x0:Q,x1:ue,y0:J,y1:J,color:E,hovertemplate:!1}),delete n.index,y.text&&!Array.isArray(y.text)?n.text=String(y.text):n.text=y.name,[n]}}}},7368:function(re,H,e){var o=e(4098);re.exports={hasLines:o.hasLines,hasMarkers:o.hasMarkers,hasText:o.hasText,isBubble:o.isBubble,attributes:e(2196),layoutAttributes:e(1479),supplyDefaults:e(7438),crossTraceDefaults:e(462),supplyLayoutDefaults:e(9334),calc:e(7761).calc,crossTraceCalc:e(2626),arraysToCalcdata:e(5225),plot:e(7399),colorbar:e(4898),formatLabels:e(8225),style:e(6296).style,styleOnSelect:e(6296).styleOnSelect,hoverPoints:e(3720),selectPoints:e(8002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(3612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},1479:function(re){re.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},9334:function(re,H,e){var o=e(1828),x=e(1479);re.exports=function(l,i){function r(s,n){return o.coerce(l,i,x,s,n)}var f=i.barmode==="group";i.scattermode==="group"&&r("scattergap",f?i.bargap:.2)}},1058:function(re,H,e){var o=e(1828).isArrayOrTypedArray,x=e(2869).hasColorscale,l=e(1586);re.exports=function(r,f,s,n,t,d){d||(d={});var p=(r.marker||{}).color;if(t("line.color",s),x(r,"line"))l(r,f,n,t,{prefix:"line.",cLetter:"c"});else{var m=(o(p)?!1:p)||s;t("line.color",m)}t("line.width"),d.noDash||t("line.dash"),d.backoff&&t("line.backoff")}},4621:function(re,H,e){var o=e(1424),x=e(606),l=x.BADNUM,i=x.LOG_CLIP,r=i+.5,f=i-.5,s=e(1828),n=s.segmentsIntersect,t=s.constrain,d=e(7581);re.exports=function(m,y){var h=y.trace||{},T=y.xaxis,g=y.yaxis,M=T.type==="log",v=g.type==="log",c=T._length,u=g._length,b=y.backoff,w=h.marker,B=y.connectGaps,C=y.baseTolerance,I=y.shape,O=I==="linear",L=h.fill&&h.fill!=="none",X=[],Z=d.minTolerance,te=m.length,q=new Array(te),ae=0,N,D,_,V,G,Q,ue,le,ye,Se,ce,de,S,P,k,z;function Y(_e){var Je=m[_e];if(!Je)return!1;var Qe=y.linearized?T.l2p(Je.x):T.c2p(Je.x),Oe=y.linearized?g.l2p(Je.y):g.c2p(Je.y);if(Qe===l){if(M&&(Qe=T.c2p(Je.x,!0)),Qe===l)return!1;v&&Oe===l&&(Qe*=Math.abs(T._m*u*(T._m>0?r:f)/(g._m*c*(g._m>0?r:f)))),Qe*=1e3}if(Oe===l){if(v&&(Oe=g.c2p(Je.y,!0)),Oe===l)return!1;Oe*=1e3}return[Qe,Oe]}function F(_e,Je,Qe,Oe){var ft=Qe-_e,vt=Oe-Je,xt=.5-_e,zt=.5-Je,Vt=ft*ft+vt*vt,Ut=ft*xt+vt*zt;if(Ut>0&&Ut<Vt){var Nt=xt*vt-zt*ft;if(Nt*Nt<Vt)return!0}}var J,E;function K(_e,Je){var Qe=_e[0]/c,Oe=_e[1]/u,ft=Math.max(0,-Qe,Qe-1,-Oe,Oe-1);return ft&&J!==void 0&&F(Qe,Oe,J,E)&&(ft=0),ft&&Je&&F(Qe,Oe,Je[0]/c,Je[1]/u)&&(ft=0),(1+d.toleranceGrowth*ft)*C}function ie(_e,Je){var Qe=_e[0]-Je[0],Oe=_e[1]-Je[1];return Math.sqrt(Qe*Qe+Oe*Oe)}var ve=d.maxScreensAway,he=-c*ve,Le=c*(1+ve),ke=-u*ve,se=u*(1+ve),ge=[[he,ke,Le,ke],[Le,ke,Le,se],[Le,se,he,se],[he,se,he,ke]],be,Ee,we,Te,Ne,$e;function je(_e,Je){for(var Qe=[],Oe=0,ft=0;ft<4;ft++){var vt=ge[ft],xt=n(_e[0],_e[1],Je[0],Je[1],vt[0],vt[1],vt[2],vt[3]);xt&&(!Oe||Math.abs(xt.x-Qe[0][0])>1||Math.abs(xt.y-Qe[0][1])>1)&&(xt=[xt.x,xt.y],Oe&&ie(xt,_e)<ie(Qe[0],_e)?Qe.unshift(xt):Qe.push(xt),Oe++)}return Qe}function He(_e){if(_e[0]<he||_e[0]>Le||_e[1]<ke||_e[1]>se)return[t(_e[0],he,Le),t(_e[1],ke,se)]}function st(_e,Je){if(_e[0]===Je[0]&&(_e[0]===he||_e[0]===Le)||_e[1]===Je[1]&&(_e[1]===ke||_e[1]===se))return!0}function nt(_e,Je){var Qe=[],Oe=He(_e),ft=He(Je);return Oe&&ft&&st(Oe,ft)||(Oe&&Qe.push(Oe),ft&&Qe.push(ft)),Qe}function dt(_e,Je,Qe){return function(Oe,ft){var vt=He(Oe),xt=He(ft),zt=[];if(vt&&xt&&st(vt,xt))return zt;vt&&zt.push(vt),xt&&zt.push(xt);var Vt=2*s.constrain((Oe[_e]+ft[_e])/2,Je,Qe)-((vt||Oe)[_e]+(xt||ft)[_e]);if(Vt){var Ut;vt&&xt?Ut=Vt>0==vt[_e]>xt[_e]?vt:xt:Ut=vt||xt,Ut[_e]+=Vt}return zt}}var ht;I==="linear"||I==="spline"?ht=je:I==="hv"||I==="vh"?ht=nt:I==="hvh"?ht=dt(0,he,Le):I==="vhv"&&(ht=dt(1,ke,se));function Pt(_e,Je){var Qe=Je[0]-_e[0],Oe=(Je[1]-_e[1])/Qe,ft=(_e[1]*Je[0]-Je[1]*_e[0])/Qe;return ft>0?[Oe>0?he:Le,se]:[Oe>0?Le:he,ke]}function bt(_e){var Je=_e[0],Qe=_e[1],Oe=Je===q[ae-1][0],ft=Qe===q[ae-1][1];if(!(Oe&&ft))if(ae>1){var vt=Je===q[ae-2][0],xt=Qe===q[ae-2][1];Oe&&(Je===he||Je===Le)&&vt?xt?ae--:q[ae-1]=_e:ft&&(Qe===ke||Qe===se)&&xt?vt?ae--:q[ae-1]=_e:q[ae++]=_e}else q[ae++]=_e}function At(_e){q[ae-1][0]!==_e[0]&&q[ae-1][1]!==_e[1]&&bt([we,Te]),bt(_e),Ne=null,we=Te=0}var wt=s.isArrayOrTypedArray(w);function Lt(_e){if(_e&&b&&(_e.i=N,_e.d=m,_e.trace=h,_e.marker=wt?w[_e.i]:w,_e.backoff=b),J=_e[0]/c,E=_e[1]/u,be=_e[0]<he?he:_e[0]>Le?Le:0,Ee=_e[1]<ke?ke:_e[1]>se?se:0,be||Ee){if(!ae)q[ae++]=[be||_e[0],Ee||_e[1]];else if(Ne){var Je=ht(Ne,_e);Je.length>1&&(At(Je[0]),q[ae++]=Je[1])}else $e=ht(q[ae-1],_e)[0],q[ae++]=$e;var Qe=q[ae-1];be&&Ee&&(Qe[0]!==be||Qe[1]!==Ee)?(Ne&&(we!==be&&Te!==Ee?bt(we&&Te?Pt(Ne,_e):[we||be,Te||Ee]):we&&Te&&bt([we,Te])),bt([be,Ee])):we-be&&Te-Ee&&bt([be||we,Ee||Te]),Ne=_e,we=be,Te=Ee}else Ne&&At(ht(Ne,_e)[0]),q[ae++]=_e}for(N=0;N<te;N++)if(D=Y(N),!!D){for(ae=0,Ne=null,Lt(D),N++;N<te;N++){if(V=Y(N),!V){if(B)continue;break}if(!O||!y.simplify){Lt(V);continue}var kt=Y(N+1);if(Se=ie(V,D),!(!(L&&(ae===0||ae===te-1))&&Se<K(V,kt)*Z)){for(le=[(V[0]-D[0])/Se,(V[1]-D[1])/Se],G=D,ce=Se,de=P=k=0,ue=!1,_=V,N++;N<m.length;N++){if(Q=kt,kt=Y(N+1),!Q){if(B)continue;break}if(ye=[Q[0]-D[0],Q[1]-D[1]],z=ye[0]*le[1]-ye[1]*le[0],P=Math.min(P,z),k=Math.max(k,z),k-P>K(Q,kt))break;_=Q,S=ye[0]*le[0]+ye[1]*le[1],S>ce?(ce=S,V=Q,ue=!1):S<de&&(de=S,G=Q,ue=!0)}if(ue?(Lt(V),_!==G&&Lt(G)):(G!==D&&Lt(G),_!==V&&Lt(V)),Lt(_),N>=m.length||!Q)break;Lt(Q),D=Q}}Ne&&bt([we||Ne[0],Te||Ne[1]]),X.push(q.slice(0,ae))}var Ce=I.slice(I.length-1);if(b&&Ce!=="h"&&Ce!=="v"){for(var Ae=!1,Pe=-1,$=[],fe=0;fe<X.length;fe++)for(var pe=0;pe<X[fe].length-1;pe++){var Me=X[fe][pe],Ge=X[fe][pe+1],Ie=o.applyBackoff(Ge,Me);(Ie[0]!==Ge[0]||Ie[1]!==Ge[1])&&(Ae=!0),$[Pe+1]||(Pe++,$[Pe]=[Me,[Ie[0],Ie[1]]])}return Ae?$:X}return X}},4039:function(re){re.exports=function(e,o,x){var l=x("line.shape");l==="spline"&&x("line.smoothing")}},8687:function(re){var H={tonextx:1,tonexty:1,tonext:1};re.exports=function(o,x,l){var i,r,f,s,n,t={},d=!1,p=-1,m=0,y=-1;for(r=0;r<l.length;r++)i=l[r][0].trace,f=i.stackgroup||"",f?f in t?n=t[f]:(n=t[f]=m,m++):i.fill in H&&y>=0?n=y:(n=y=m,m++),n<p&&(d=!0),i._groupIndex=p=n;var h=l.slice();d&&h.sort(function(g,M){var v=g[0].trace,c=M[0].trace;return v._groupIndex-c._groupIndex||v.index-c.index});var T={};for(r=0;r<h.length;r++)i=h[r][0].trace,f=i.stackgroup||"",i.visible===!0?(i._nexttrace=null,i.fill in H&&(s=T[f],i._prevtrace=s||null,s&&(s._nexttrace=i)),i._ownfill=i.fill&&(i.fill.substr(0,6)==="tozero"||i.fill==="toself"||i.fill.substr(0,2)==="to"&&!i._prevtrace),T[f]=i):i._prevtrace=i._nexttrace=i._ownfill=null;return h}},9984:function(re,H,e){var o=e(2770);re.exports=function(l,i){i||(i=2);var r=l.marker,f=r.sizeref||1,s=r.sizemin||0,n=r.sizemode==="area"?function(t){return Math.sqrt(t/f)}:function(t){return t/f};return function(t){var d=n(t/i);return o(d)&&d>0?Math.max(d,s):0}}},4898:function(re){re.exports={container:"marker",min:"cmin",max:"cmax"}},9508:function(re,H,e){var o=e(7901),x=e(2869).hasColorscale,l=e(1586),i=e(4098);re.exports=function(f,s,n,t,d,p){var m=i.isBubble(f),y=(f.line||{}).color,h;if(p=p||{},y&&(n=y),d("marker.symbol"),d("marker.opacity",m?.7:1),d("marker.size"),p.noAngle||(d("marker.angle"),p.noAngleRef||d("marker.angleref"),p.noStandOff||d("marker.standoff")),d("marker.color",n),x(f,"marker")&&l(f,s,t,d,{prefix:"marker.",cLetter:"c"}),p.noSelect||(d("selected.marker.color"),d("unselected.marker.color"),d("selected.marker.size"),d("unselected.marker.size")),p.noLine||(y&&!Array.isArray(y)&&s.marker.color!==y?h=y:m?h=o.background:h=o.defaultLine,d("marker.line.color",h),x(f,"marker.line")&&l(f,s,t,d,{prefix:"marker.line.",cLetter:"c"}),d("marker.line.width",m?1:0)),m&&(d("marker.sizeref"),d("marker.sizemin"),d("marker.sizemode")),p.gradient){var T=d("marker.gradient.type");T!=="none"&&d("marker.gradient.color")}}},3927:function(re,H,e){var o=e(1828).dateTick0,x=e(606),l=x.ONEWEEK;function i(r,f){return r%l===0?o(f,1):o(f,0)}re.exports=function(f,s,n,t,d){if(d||(d={x:!0,y:!0}),d.x){var p=t("xperiod");p&&(t("xperiod0",i(p,s.xcalendar)),t("xperiodalignment"))}if(d.y){var m=t("yperiod");m&&(t("yperiod0",i(m,s.ycalendar)),t("yperiodalignment"))}}},7399:function(re,H,e){var o=e(9898),x=e(3972),l=e(1828),i=l.ensureSingle,r=l.identity,f=e(1424),s=e(4098),n=e(4621),t=e(8687),d=e(1082).tester;re.exports=function(T,g,M,v,c,u){var b,w,B=!c,C=!!c&&c.duration>0,I=t(T,g,M);if(b=v.selectAll("g.trace").data(I,function(L){return L[0].trace.uid}),b.enter().append("g").attr("class",function(L){return"trace scatter trace"+L[0].trace.uid}).style("stroke-miterlimit",2),b.order(),p(T,b,g),C){u&&(w=u());var O=o.transition().duration(c.duration).ease(c.easing).each("end",function(){w&&w()}).each("interrupt",function(){w&&w()});O.each(function(){v.selectAll("g.trace").each(function(L,X){m(T,X,g,L,I,this,c)})})}else b.each(function(L,X){m(T,X,g,L,I,this,c)});B&&b.exit().remove(),v.selectAll("path:not([d])").remove()};function p(h,T,g){T.each(function(M){var v=i(o.select(this),"g","fills");f.setClipUrl(v,g.layerClipId,h);var c=M[0].trace,u=[];c._ownfill&&u.push("_ownFill"),c._nexttrace&&u.push("_nextFill");var b=v.selectAll("g").data(u,r);b.enter().append("g"),b.exit().each(function(w){c[w]=null}).remove(),b.order().each(function(w){c[w]=i(o.select(this),"path","js-fill")})})}function m(h,T,g,M,v,c,u){var b=h._context.staticPlot,w;y(h,T,g,M,v);var B=!!u&&u.duration>0;function C(Te){return B?Te.transition():Te}var I=g.xaxis,O=g.yaxis,L=M[0].trace,X=L.line,Z=o.select(c),te=i(Z,"g","errorbars"),q=i(Z,"g","lines"),ae=i(Z,"g","points"),N=i(Z,"g","text");if(x.getComponentMethod("errorbars","plot")(h,te,g,u),L.visible!==!0)return;C(Z).style("opacity",L.opacity);var D,_,V=L.fill.charAt(L.fill.length-1);V!=="x"&&V!=="y"&&(V=""),M[0][g.isRangePlot?"nodeRangePlot3":"node3"]=Z;var G="",Q=[],ue=L._prevtrace;ue&&(G=ue._prevRevpath||"",_=ue._nextFill,Q=ue._polygons);var le,ye,Se="",ce="",de,S,P,k,z,Y,F,J=[],E=l.noop;if(D=L._ownFill,s.hasLines(L)||L.fill!=="none"){for(_&&_.datum(M),["hv","vh","hvh","vhv"].indexOf(X.shape)!==-1?(de=f.steps(X.shape),S=f.steps(X.shape.split("").reverse().join(""))):X.shape==="spline"?de=S=function(Te){var Ne=Te[Te.length-1];return Te.length>1&&Te[0][0]===Ne[0]&&Te[0][1]===Ne[1]?f.smoothclosed(Te.slice(1),X.smoothing):f.smoothopen(Te,X.smoothing)}:de=S=function(Te){return"M"+Te.join("L")},P=function(Te){return S(Te.reverse())},J=n(M,{xaxis:I,yaxis:O,trace:L,connectGaps:L.connectgaps,baseTolerance:Math.max(X.width||1,3)/4,shape:X.shape,backoff:X.backoff,simplify:X.simplify,fill:L.fill}),F=L._polygons=new Array(J.length),w=0;w<J.length;w++)L._polygons[w]=d(J[w]);J.length&&(k=J[0][0],z=J[J.length-1],Y=z[z.length-1]),E=function(Te){return function(Ne){if(le=de(Ne),ye=P(Ne),Se?V?(Se+="L"+le.substr(1),ce=ye+("L"+ce.substr(1))):(Se+="Z"+le,ce=ye+"Z"+ce):(Se=le,ce=ye),s.hasLines(L)){var $e=o.select(this);if($e.datum(M),Te)C($e.style("opacity",0).attr("d",le).call(f.lineGroupStyle)).style("opacity",1);else{var je=C($e);je.attr("d",le),f.singleLineStyle(M,je)}}}}}var K=q.selectAll(".js-line").data(J);C(K.exit()).style("opacity",0).remove(),K.each(E(!1)),K.enter().append("path").classed("js-line",!0).style("vector-effect",b?"none":"non-scaling-stroke").call(f.lineGroupStyle).each(E(!0)),f.setClipUrl(K,g.layerClipId,h);function ie(Te){C(Te).attr("d","M0,0Z")}J.length?(D?(D.datum(M),k&&Y&&(V?(V==="y"?k[1]=Y[1]=O.c2p(0,!0):V==="x"&&(k[0]=Y[0]=I.c2p(0,!0)),C(D).attr("d","M"+Y+"L"+k+"L"+Se.substr(1)).call(f.singleFillStyle,h)):C(D).attr("d",Se+"Z").call(f.singleFillStyle,h))):_&&(L.fill.substr(0,6)==="tonext"&&Se&&G?(L.fill==="tonext"?C(_).attr("d",Se+"Z"+G+"Z").call(f.singleFillStyle,h):C(_).attr("d",Se+"L"+G.substr(1)+"Z").call(f.singleFillStyle,h),L._polygons=L._polygons.concat(Q)):(ie(_),L._polygons=null)),L._prevRevpath=ce,L._prevPolygons=F):(D?ie(D):_&&ie(_),L._polygons=L._prevRevpath=L._prevPolygons=null);function ve(Te){return Te.filter(function(Ne){return!Ne.gap&&Ne.vis})}function he(Te){return Te.filter(function(Ne){return Ne.vis})}function Le(Te){return Te.filter(function(Ne){return!Ne.gap})}function ke(Te){return Te.id}function se(Te){if(Te.ids)return ke}function ge(){return!1}function be(Te,Ne,$e){var je,He,st,nt=$e[0].trace,dt=s.hasMarkers(nt),ht=s.hasText(nt),Pt=se(nt),bt=ge,At=ge;if(dt||ht){var wt=r,Lt=nt.stackgroup,kt=Lt&&h._fullLayout._scatterStackOpts[I._id+O._id][Lt].stackgaps==="infer zero";nt.marker.maxdisplayed||nt._needsCull?wt=kt?he:ve:Lt&&!kt&&(wt=Le),dt&&(bt=wt),ht&&(At=wt)}He=Te.selectAll("path.point"),je=He.data(bt,Pt);var Ce=je.enter().append("path").classed("point",!0);B&&Ce.call(f.pointStyle,nt,h).call(f.translatePoints,I,O).style("opacity",0).transition().style("opacity",1),je.order();var Ae;dt&&(Ae=f.makePointStyleFns(nt)),je.each(function(Pe){var $=o.select(this),fe=C($);st=f.translatePoint(Pe,fe,I,O),st?(f.singlePointStyle(Pe,fe,nt,Ae,h),g.layerClipId&&f.hideOutsideRangePoint(Pe,fe,I,O,nt.xcalendar,nt.ycalendar),nt.customdata&&$.classed("plotly-customdata",Pe.data!==null&&Pe.data!==void 0)):fe.remove()}),B?je.exit().transition().style("opacity",0).remove():je.exit().remove(),He=Ne.selectAll("g"),je=He.data(At,Pt),je.enter().append("g").classed("textpoint",!0).append("text"),je.order(),je.each(function(Pe){var $=o.select(this),fe=C($.select("text"));st=f.translatePoint(Pe,fe,I,O),st?g.layerClipId&&f.hideOutsideRangePoint(Pe,$,I,O,nt.xcalendar,nt.ycalendar):$.remove()}),je.selectAll("text").call(f.textPointStyle,nt,h).each(function(Pe){var $=I.c2p(Pe.x),fe=O.c2p(Pe.y);o.select(this).selectAll("tspan.line").each(function(){C(o.select(this)).attr({x:$,y:fe})})}),je.exit().remove()}ae.datum(M),N.datum(M),be(ae,N,M);var Ee=L.cliponaxis===!1,we=Ee?null:g.layerClipId;f.setClipUrl(ae,we,h),f.setClipUrl(N,we,h)}function y(h,T,g,M,v){var c=g.xaxis,u=g.yaxis,b=o.extent(l.simpleMap(c.range,c.r2c)),w=o.extent(l.simpleMap(u.range,u.r2c)),B=M[0].trace;if(s.hasMarkers(B)){var C=B.marker.maxdisplayed;if(C!==0){var I=M.filter(function(Z){return Z.x>=b[0]&&Z.x<=b[1]&&Z.y>=w[0]&&Z.y<=w[1]}),O=Math.ceil(I.length/C),L=0;v.forEach(function(Z,te){var q=Z[0].trace;s.hasMarkers(q)&&q.marker.maxdisplayed>0&&te<T&&L++});var X=Math.round(L*O/3+Math.floor(L/3)*O/7.1);M.forEach(function(Z){delete Z.vis}),I.forEach(function(Z,te){Math.round((te+X)%O)===0&&(Z.vis=!0)})}}}},8002:function(re,H,e){var o=e(4098);re.exports=function(l,i){var r=l.cd,f=l.xaxis,s=l.yaxis,n=[],t=r[0].trace,d,p,m,y,h=!o.hasMarkers(t)&&!o.hasText(t);if(h)return[];if(i===!1)for(d=0;d<r.length;d++)r[d].selected=0;else for(d=0;d<r.length;d++)p=r[d],m=f.c2p(p.x),y=s.c2p(p.y),p.i!==null&&i.contains([m,y],!1,d,l)?(n.push({pointNumber:p.i,x:f.c2d(p.x),y:s.c2d(p.y)}),p.selected=1):p.selected=0;return n}},565:function(re){var H=["orientation","groupnorm","stackgaps"];re.exports=function(o,x,l,i){var r=l._scatterStackOpts,f=i("stackgroup");if(f){var s=x.xaxis+x.yaxis,n=r[s];n||(n=r[s]={});var t=n[f],d=!1;t?t.traces.push(x):(t=n[f]={traceIndices:[],traces:[x]},d=!0);for(var p={orientation:x.x&&!x.y?"h":"v"},m=0;m<H.length;m++){var y=H[m],h=y+"Found";if(!t[h]){var T=o[y]!==void 0,g=y==="orientation";if((T||d)&&(t[y]=i(y,p[y]),g&&(t.fillDflt=t[y]==="h"?"tonextx":"tonexty"),T&&(t[h]=!0,!d&&(delete t.traces[0][y],g))))for(var M=0;M<t.traces.length-1;M++){var v=t.traces[M];v._input.fill!==v.fill&&(v.fill=t.fillDflt)}}}return t}}},6296:function(re,H,e){var o=e(9898),x=e(1424),l=e(3972);function i(n){var t=o.select(n).selectAll("g.trace.scatter");t.style("opacity",function(d){return d[0].trace.opacity}),t.selectAll("g.points").each(function(d){var p=o.select(this),m=d.trace||d[0].trace;r(p,m,n)}),t.selectAll("g.text").each(function(d){var p=o.select(this),m=d.trace||d[0].trace;f(p,m,n)}),t.selectAll("g.trace path.js-line").call(x.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(x.fillGroupStyle,n),l.getComponentMethod("errorbars","style")(t)}function r(n,t,d){x.pointStyle(n.selectAll("path.point"),t,d)}function f(n,t,d){x.textPointStyle(n.selectAll("text"),t,d)}function s(n,t,d){var p=t[0].trace;p.selectedpoints?(x.selectedPointStyle(d.selectAll("path.point"),p),x.selectedTextStyle(d.selectAll("text"),p)):(r(d,p,n),f(d,p,n))}re.exports={style:i,stylePoints:r,styleText:f,styleOnSelect:s}},4098:function(re,H,e){var o=e(1828);re.exports={hasLines:function(x){return x.visible&&x.mode&&x.mode.indexOf("lines")!==-1},hasMarkers:function(x){return x.visible&&(x.mode&&x.mode.indexOf("markers")!==-1||x.type==="splom")},hasText:function(x){return x.visible&&x.mode&&x.mode.indexOf("text")!==-1},isBubble:function(x){return o.isPlainObject(x.marker)&&o.isArrayOrTypedArray(x.marker.size)}}},2410:function(re,H,e){var o=e(1828);re.exports=function(x,l,i,r,f){f=f||{},r("textposition"),o.coerceFont(r,"textfont",i.font),f.noSelect||(r("selected.textfont.color"),r("unselected.textfont.color"))}},7513:function(re,H,e){var o=e(1828),x=e(3972);re.exports=function(i,r,f,s){var n=s("x"),t=s("y"),d,p=x.getComponentMethod("calendars","handleTraceDefaults");if(p(i,r,["x","y"],f),n){var m=o.minRowLength(n);t?d=Math.min(m,o.minRowLength(t)):(d=m,s("y0"),s("dy"))}else{if(!t)return 0;d=o.minRowLength(t),s("x0"),s("dx")}return r._length=d,d}},2887:function(re,H,e){var o=e(9298),x=e(1828),l=e(6281),i=e(9344).p,r=e(606).BADNUM;H.moduleType="transform",H.name="aggregate";var f=H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},s=f.aggregations;H.supplyDefaults=function(y,h){var T={},g;function M(Z,te){return x.coerce(y,T,f,Z,te)}var v=M("enabled");if(!v)return T;var c=l.findArrayAttributes(h),u={};for(g=0;g<c.length;g++)u[c[g]]=1;var b=M("groups");if(!Array.isArray(b)){if(!u[b])return T.enabled=!1,T;u[b]=0}var w=y.aggregations||[],B=T.aggregations=new Array(w.length),C;function I(Z,te){return x.coerce(w[g],C,s,Z,te)}for(g=0;g<w.length;g++){C={_index:g};var O=I("target"),L=I("func"),X=I("enabled");X&&O&&(u[O]||L==="count"&&u[O]===void 0)?(L==="stddev"&&I("funcmode"),u[O]=0,B[g]=C):B[g]={enabled:!1,_index:g}}for(g=0;g<c.length;g++)u[c[g]]&&B.push({target:c[g],func:s.func.dflt,enabled:!0,_index:-1});return T},H.calcTransform=function(y,h,T){if(T.enabled){var g=T.groups,M=x.getTargetArray(h,{target:g});if(M){var v,c,u,b,w={},B={},C=[],I=i(h.transforms,T),O=M.length;for(h._length&&(O=Math.min(O,h._length)),v=0;v<O;v++)c=M[v],u=w[c],u===void 0?(w[c]=C.length,b=[v],C.push(b),B[w[c]]=I(v)):(C[u].push(v),B[w[c]]=(B[w[c]]||[]).concat(I(v)));T._indexToPoints=B;var L=T.aggregations;for(v=0;v<L.length;v++)n(y,h,C,L[v]);typeof g=="string"&&n(y,h,C,{target:g,func:"first",enabled:!0}),h._length=C.length}}};function n(y,h,T,g){if(g.enabled){for(var M=g.target,v=x.nestedProperty(h,M),c=v.get(),u=o.getDataConversions(y,h,M,c),b=t(g,u),w=new Array(T.length),B=0;B<T.length;B++)w[B]=b(c,T[B]);v.set(w),g.func==="count"&&x.pushUnique(h._arrayAttrs,M)}}function t(y,h){var T=y.func,g=h.d2c,M=h.c2d;switch(T){case"count":return d;case"first":return p;case"last":return m;case"sum":return function(v,c){for(var u=0,b=0;b<c.length;b++){var w=g(v[c[b]]);w!==r&&(u+=w)}return M(u)};case"avg":return function(v,c){for(var u=0,b=0,w=0;w<c.length;w++){var B=g(v[c[w]]);B!==r&&(u+=B,b++)}return b?M(u/b):r};case"min":return function(v,c){for(var u=1/0,b=0;b<c.length;b++){var w=g(v[c[b]]);w!==r&&(u=Math.min(u,w))}return u===1/0?r:M(u)};case"max":return function(v,c){for(var u=-1/0,b=0;b<c.length;b++){var w=g(v[c[b]]);w!==r&&(u=Math.max(u,w))}return u===-1/0?r:M(u)};case"range":return function(v,c){for(var u=1/0,b=-1/0,w=0;w<c.length;w++){var B=g(v[c[w]]);B!==r&&(u=Math.min(u,B),b=Math.max(b,B))}return b===-1/0||u===1/0?r:M(b-u)};case"change":return function(v,c){var u=g(v[c[0]]),b=g(v[c[c.length-1]]);return u===r||b===r?r:M(b-u)};case"median":return function(v,c){for(var u=[],b=0;b<c.length;b++){var w=g(v[c[b]]);w!==r&&u.push(w)}if(!u.length)return r;u.sort(x.sorterAsc);var B=(u.length-1)/2;return M((u[Math.floor(B)]+u[Math.ceil(B)])/2)};case"mode":return function(v,c){for(var u={},b=0,w=r,B=0;B<c.length;B++){var C=g(v[c[B]]);if(C!==r){var I=u[C]=(u[C]||0)+1;I>b&&(b=I,w=C)}}return b?M(w):r};case"rms":return function(v,c){for(var u=0,b=0,w=0;w<c.length;w++){var B=g(v[c[w]]);B!==r&&(u+=B*B,b++)}return b?M(Math.sqrt(u/b)):r};case"stddev":return function(v,c){var u=0,b=0,w=1,B=r,C;for(C=0;C<c.length&&B===r;C++)B=g(v[c[C]]);if(B===r)return r;for(;C<c.length;C++){var I=g(v[c[C]]);if(I!==r){var O=I-B;u+=O,b+=O*O,w++}}var L=y.funcmode==="sample"?w-1:w;return L?Math.sqrt((b-u*u/w)/L):0}}}function d(y,h){return h.length}function p(y,h){return y[h[0]]}function m(y,h){return y[h[h.length-1]]}},4382:function(re,H,e){var o=e(1828),x=e(3972),l=e(9298),i=e(9344).p,r=e(4808),f=r.COMPARISON_OPS,s=r.INTERVAL_OPS,n=r.SET_OPS;H.moduleType="transform",H.name="filter",H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(f).concat(s).concat(n),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},H.supplyDefaults=function(d){var p={};function m(g,M){return o.coerce(d,p,H.attributes,g,M)}var y=m("enabled");if(y){var h=m("target");if(o.isArrayOrTypedArray(h)&&h.length===0)return p.enabled=!1,p;m("preservegaps"),m("operation"),m("value");var T=x.getComponentMethod("calendars","handleDefaults");T(d,p,"valuecalendar",null),T(d,p,"targetcalendar",null)}return p},H.calcTransform=function(d,p,m){if(!m.enabled)return;var y=o.getTargetArray(p,m);if(!y)return;var h=m.target,T=y.length;p._length&&(T=Math.min(T,p._length));var g=m.targetcalendar,M=p._arrayAttrs,v=m.preservegaps;if(typeof h=="string"){var c=o.nestedProperty(p,h+"calendar").get();c&&(g=c)}var u=l.getDataToCoordFunc(d,p,h,y),b=t(m,u,g),w={},B={},C=0;function I(q,ae){for(var N=0;N<M.length;N++){var D=o.nestedProperty(p,M[N]);q(D,ae)}}var O,L;v?(O=function(q){w[q.astr]=o.extendDeep([],q.get()),q.set(new Array(T))},L=function(q,ae){var N=w[q.astr][ae];q.get()[ae]=N}):(O=function(q){w[q.astr]=o.extendDeep([],q.get()),q.set([])},L=function(q,ae){var N=w[q.astr][ae];q.get().push(N)}),I(O);for(var X=i(p.transforms,m),Z=0;Z<T;Z++){var te=b(y[Z]);te?(I(L,Z),B[C++]=X(Z)):v&&C++}m._indexToPoints=B,p._length=C};function t(d,p,m){var y=d.operation,h=d.value,T=Array.isArray(h);function g(u){return u.indexOf(y)!==-1}var M=function(u){return p(u,0,d.valuecalendar)},v=function(u){return p(u,0,m)},c;switch(g(f)?c=M(T?h[0]:h):g(s)?c=T?[M(h[0]),M(h[1])]:[M(h),M(h)]:g(n)&&(c=T?h.map(M):[M(h)]),y){case"=":return function(u){return v(u)===c};case"!=":return function(u){return v(u)!==c};case"<":return function(u){return v(u)<c};case"<=":return function(u){return v(u)<=c};case">":return function(u){return v(u)>c};case">=":return function(u){return v(u)>=c};case"[]":return function(u){var b=v(u);return b>=c[0]&&b<=c[1]};case"()":return function(u){var b=v(u);return b>c[0]&&b<c[1]};case"[)":return function(u){var b=v(u);return b>=c[0]&&b<c[1]};case"(]":return function(u){var b=v(u);return b>c[0]&&b<=c[1]};case"][":return function(u){var b=v(u);return b<=c[0]||b>=c[1]};case")(":return function(u){var b=v(u);return b<c[0]||b>c[1]};case"](":return function(u){var b=v(u);return b<=c[0]||b>c[1]};case")[":return function(u){var b=v(u);return b<c[0]||b>=c[1]};case"{}":return function(u){return c.indexOf(v(u))!==-1};case"}{":return function(u){return c.indexOf(v(u))===-1}}}},3102:function(re,H,e){var o=e(1828),x=e(6281),l=e(4875),i=e(9344).p;H.moduleType="transform",H.name="groupby",H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},H.supplyDefaults=function(f,s,n){var t,d={};function p(M,v){return o.coerce(f,d,H.attributes,M,v)}var m=p("enabled");if(!m)return d;p("groups"),p("nameformat",n._dataLength>1?"%{group} (%{trace})":"%{group}");var y=f.styles,h=d.styles=[];if(y)for(t=0;t<y.length;t++){var T=h[t]={};o.coerce(y[t],h[t],H.attributes.styles,"target");var g=o.coerce(y[t],h[t],H.attributes.styles,"value");o.isPlainObject(g)?T.value=o.extendDeep({},g):g&&delete T.value}return d},H.transform=function(f,s){var n,t,d,p=[];for(t=0;t<f.length;t++)for(n=r(f[t],s),d=0;d<n.length;d++)p.push(n[d]);return p};function r(f,s){var n,t,d,p,m,y,h,T,g,M,v=s.transform,c=s.transformIndex,u=f.transforms[c].groups,b=i(f.transforms,v);if(!o.isArrayOrTypedArray(u)||u.length===0)return[f];var w=o.filterUnique(u),B=new Array(w.length),C=u.length,I=x.findArrayAttributes(f),O=v.styles||[],L={};for(n=0;n<O.length;n++)L[O[n].target]=O[n].value;v.styles&&(M=o.keyedContainer(v,"styles","target","value.name"));var X={},Z={};for(n=0;n<w.length;n++){y=w[n],X[y]=n,Z[y]=0,h=B[n]=o.extendDeepNoArrays({},f),h._group=y,h.transforms[c]._indexToPoints={};var te=null;for(M&&(te=M.get(y)),te||te===""?h.name=te:h.name=o.templateString(v.nameformat,{trace:f.name,group:y}),T=h.transforms,h.transforms=[],t=0;t<T.length;t++)h.transforms[t]=o.extendDeepNoArrays({},T[t]);for(t=0;t<I.length;t++)o.nestedProperty(h,I[t]).set([])}for(d=0;d<I.length;d++){for(p=I[d],t=0,g=[];t<w.length;t++)g[t]=o.nestedProperty(B[t],p).get();for(m=o.nestedProperty(f,p).get(),t=0;t<C;t++)g[X[u[t]]].push(m[t])}for(t=0;t<C;t++){h=B[X[u[t]]];var q=h.transforms[c]._indexToPoints;q[Z[u[t]]]=b(t),Z[u[t]]++}for(n=0;n<w.length;n++)y=w[n],h=B[n],l.clearExpandedTraceDefaultColors(h),h=o.extendDeepNoArrays(h,L[y]||{});return B}},9344:function(re,H){H.p=function(e,o){for(var x,l,i=0;i<e.length&&(x=e[i],x!==o);i++)!x._indexToPoints||x.enabled===!1||(l=x._indexToPoints);var r=l?function(f){return l[f]}:function(f){return[f]};return r}},2275:function(re,H,e){var o=e(1828),x=e(9298),l=e(9344).p,i=e(606).BADNUM;H.moduleType="transform",H.name="sort",H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},H.supplyDefaults=function(s){var n={};function t(p,m){return o.coerce(s,n,H.attributes,p,m)}var d=t("enabled");return d&&(t("target"),t("order")),n},H.calcTransform=function(s,n,t){if(t.enabled){var d=o.getTargetArray(n,t);if(d){var p=t.target,m=d.length;n._length&&(m=Math.min(m,n._length));var y=n._arrayAttrs,h=x.getDataToCoordFunc(s,n,p,d),T=r(t,d,h,m),g=l(n.transforms,t),M={},v,c;for(v=0;v<y.length;v++){var u=o.nestedProperty(n,y[v]),b=u.get(),w=new Array(m);for(c=0;c<m;c++)w[c]=b[T[c]];u.set(w)}for(c=0;c<m;c++)M[c]=g(T[c]);t._indexToPoints=M,n._length=m}}};function r(s,n,t,d){var p=new Array(d),m=new Array(d),y;for(y=0;y<d;y++)p[y]={v:n[y],i:y};for(p.sort(f(s,t)),y=0;y<d;y++)m[y]=p[y].i;return m}function f(s,n){switch(s.order){case"ascending":return function(t,d){var p=n(t.v),m=n(d.v);return p===i?1:m===i?-1:p-m};case"descending":return function(t,d){var p=n(t.v),m=n(d.v);return p===i?1:m===i?-1:m-p}}}},1506:function(re,H){H.version="2.22.0"},5791:function(re){re.exports=x,re.exports.isMobile=x,re.exports.default=x;var H=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,o=/android|ipad|playbook|silk/i;function x(l){l||(l={});var i=l.ua;if(!i&&typeof navigator<"u"&&(i=navigator.userAgent),i&&i.headers&&typeof i.headers["user-agent"]=="string"&&(i=i.headers["user-agent"]),typeof i!="string")return!1;var r=H.test(i)&&!e.test(i)||!!l.tablet&&o.test(i);return!r&&l.tablet&&l.featureDetect&&navigator&&navigator.maxTouchPoints>1&&i.indexOf("Macintosh")!==-1&&i.indexOf("Safari")!==-1&&(r=!0),r}},9898:function(re,H,e){var o,x;(function(){var l={version:"3.8.0"},i=[].slice,r=function(a){return i.call(a)},f=self.document;function s(a){return a&&(a.ownerDocument||a.document||a).documentElement}function n(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}if(f)try{r(f.documentElement.childNodes)[0].nodeType}catch{r=function(A){for(var R=A.length,U=new Array(R);R--;)U[R]=A[R];return U}}if(Date.now||(Date.now=function(){return+new Date}),f)try{f.createElement("DIV").style.setProperty("opacity",0,"")}catch{var t=this.Element.prototype,d=t.setAttribute,p=t.setAttributeNS,m=this.CSSStyleDeclaration.prototype,y=m.setProperty;t.setAttribute=function(A,R){d.call(this,A,R+"")},t.setAttributeNS=function(A,R,U){p.call(this,A,R,U+"")},m.setProperty=function(A,R,U){y.call(this,A,R+"",U)}}l.ascending=h;function h(a,A){return a<A?-1:a>A?1:a>=A?0:NaN}l.descending=function(a,A){return A<a?-1:A>a?1:A>=a?0:NaN},l.min=function(a,A){var R=-1,U=a.length,W,j;if(arguments.length===1){for(;++R<U;)if((j=a[R])!=null&&j>=j){W=j;break}for(;++R<U;)(j=a[R])!=null&&W>j&&(W=j)}else{for(;++R<U;)if((j=A.call(a,a[R],R))!=null&&j>=j){W=j;break}for(;++R<U;)(j=A.call(a,a[R],R))!=null&&W>j&&(W=j)}return W},l.max=function(a,A){var R=-1,U=a.length,W,j;if(arguments.length===1){for(;++R<U;)if((j=a[R])!=null&&j>=j){W=j;break}for(;++R<U;)(j=a[R])!=null&&j>W&&(W=j)}else{for(;++R<U;)if((j=A.call(a,a[R],R))!=null&&j>=j){W=j;break}for(;++R<U;)(j=A.call(a,a[R],R))!=null&&j>W&&(W=j)}return W},l.extent=function(a,A){var R=-1,U=a.length,W,j,me;if(arguments.length===1){for(;++R<U;)if((j=a[R])!=null&&j>=j){W=me=j;break}for(;++R<U;)(j=a[R])!=null&&(W>j&&(W=j),me<j&&(me=j))}else{for(;++R<U;)if((j=A.call(a,a[R],R))!=null&&j>=j){W=me=j;break}for(;++R<U;)(j=A.call(a,a[R],R))!=null&&(W>j&&(W=j),me<j&&(me=j))}return[W,me]};function T(a){return a===null?NaN:+a}function g(a){return!isNaN(a)}l.sum=function(a,A){var R=0,U=a.length,W,j=-1;if(arguments.length===1)for(;++j<U;)g(W=+a[j])&&(R+=W);else for(;++j<U;)g(W=+A.call(a,a[j],j))&&(R+=W);return R},l.mean=function(a,A){var R=0,U=a.length,W,j=-1,me=U;if(arguments.length===1)for(;++j<U;)g(W=T(a[j]))?R+=W:--me;else for(;++j<U;)g(W=T(A.call(a,a[j],j)))?R+=W:--me;if(me)return R/me},l.quantile=function(a,A){var R=(a.length-1)*A+1,U=Math.floor(R),W=+a[U-1],j=R-U;return j?W+j*(a[U]-W):W},l.median=function(a,A){var R=[],U=a.length,W,j=-1;if(arguments.length===1)for(;++j<U;)g(W=T(a[j]))&&R.push(W);else for(;++j<U;)g(W=T(A.call(a,a[j],j)))&&R.push(W);if(R.length)return l.quantile(R.sort(h),.5)},l.variance=function(a,A){var R=a.length,U=0,W,j,me=0,oe=-1,xe=0;if(arguments.length===1)for(;++oe<R;)g(W=T(a[oe]))&&(j=W-U,U+=j/++xe,me+=j*(W-U));else for(;++oe<R;)g(W=T(A.call(a,a[oe],oe)))&&(j=W-U,U+=j/++xe,me+=j*(W-U));if(xe>1)return me/(xe-1)},l.deviation=function(){var a=l.variance.apply(this,arguments);return a&&Math.sqrt(a)};function M(a){return{left:function(A,R,U,W){for(arguments.length<3&&(U=0),arguments.length<4&&(W=A.length);U<W;){var j=U+W>>>1;a(A[j],R)<0?U=j+1:W=j}return U},right:function(A,R,U,W){for(arguments.length<3&&(U=0),arguments.length<4&&(W=A.length);U<W;){var j=U+W>>>1;a(A[j],R)>0?W=j:U=j+1}return U}}}var v=M(h);l.bisectLeft=v.left,l.bisect=l.bisectRight=v.right,l.bisector=function(a){return M(a.length===1?function(A,R){return h(a(A),R)}:a)},l.shuffle=function(a,A,R){(U=arguments.length)<3&&(R=a.length,U<2&&(A=0));for(var U=R-A,W,j;U;)j=Math.random()*U--|0,W=a[U+A],a[U+A]=a[j+A],a[j+A]=W;return a},l.permute=function(a,A){for(var R=A.length,U=new Array(R);R--;)U[R]=a[A[R]];return U},l.pairs=function(a){for(var A=0,R=a.length-1,U=a[0],W=new Array(R<0?0:R);A<R;)W[A]=[U,U=a[++A]];return W},l.transpose=function(a){if(!(j=a.length))return[];for(var A=-1,R=l.min(a,c),U=new Array(R);++A<R;)for(var W=-1,j,me=U[A]=new Array(j);++W<j;)me[W]=a[W][A];return U};function c(a){return a.length}l.zip=function(){return l.transpose(arguments)},l.keys=function(a){var A=[];for(var R in a)A.push(R);return A},l.values=function(a){var A=[];for(var R in a)A.push(a[R]);return A},l.entries=function(a){var A=[];for(var R in a)A.push({key:R,value:a[R]});return A},l.merge=function(a){for(var A=a.length,R,U=-1,W=0,j,me;++U<A;)W+=a[U].length;for(j=new Array(W);--A>=0;)for(me=a[A],R=me.length;--R>=0;)j[--W]=me[R];return j};var u=Math.abs;l.range=function(a,A,R){if(arguments.length<3&&(R=1,arguments.length<2&&(A=a,a=0)),(A-a)/R===1/0)throw new Error("infinite range");var U=[],W=b(u(R)),j=-1,me;if(a*=W,A*=W,R*=W,R<0)for(;(me=a+R*++j)>A;)U.push(me/W);else for(;(me=a+R*++j)<A;)U.push(me/W);return U};function b(a){for(var A=1;a*A%1;)A*=10;return A}function w(a,A){for(var R in A)Object.defineProperty(a.prototype,R,{value:A[R],enumerable:!1})}l.map=function(a,A){var R=new B;if(a instanceof B)a.forEach(function(oe,xe){R.set(oe,xe)});else if(Array.isArray(a)){var U=-1,W=a.length,j;if(arguments.length===1)for(;++U<W;)R.set(U,a[U]);else for(;++U<W;)R.set(A.call(a,j=a[U],U),j)}else for(var me in a)R.set(me,a[me]);return R};function B(){this._=Object.create(null)}var C="__proto__",I="\0";w(B,{has:X,get:function(a){return this._[O(a)]},set:function(a,A){return this._[O(a)]=A},remove:Z,keys:te,values:function(){var a=[];for(var A in this._)a.push(this._[A]);return a},entries:function(){var a=[];for(var A in this._)a.push({key:L(A),value:this._[A]});return a},size:q,empty:ae,forEach:function(a){for(var A in this._)a.call(this,L(A),this._[A])}});function O(a){return(a+="")===C||a[0]===I?I+a:a}function L(a){return(a+="")[0]===I?a.slice(1):a}function X(a){return O(a)in this._}function Z(a){return(a=O(a))in this._&&delete this._[a]}function te(){var a=[];for(var A in this._)a.push(L(A));return a}function q(){var a=0;for(var A in this._)++a;return a}function ae(){for(var a in this._)return!1;return!0}l.nest=function(){var a={},A=[],R=[],U,W;function j(oe,xe,De){if(De>=A.length)return W?W.call(a,xe):U?xe.sort(U):xe;for(var Re=-1,Ve=xe.length,We=A[De++],lt,yt,Ke,et=new B,at;++Re<Ve;)(at=et.get(lt=We(yt=xe[Re])))?at.push(yt):et.set(lt,[yt]);return oe?(yt=oe(),Ke=function(pt,gt){yt.set(pt,j(oe,gt,De))}):(yt={},Ke=function(pt,gt){yt[pt]=j(oe,gt,De)}),et.forEach(Ke),yt}function me(oe,xe){if(xe>=A.length)return oe;var De=[],Re=R[xe++];return oe.forEach(function(Ve,We){De.push({key:Ve,values:me(We,xe)})}),Re?De.sort(function(Ve,We){return Re(Ve.key,We.key)}):De}return a.map=function(oe,xe){return j(xe,oe,0)},a.entries=function(oe){return me(j(l.map,oe,0),0)},a.key=function(oe){return A.push(oe),a},a.sortKeys=function(oe){return R[A.length-1]=oe,a},a.sortValues=function(oe){return U=oe,a},a.rollup=function(oe){return W=oe,a},a},l.set=function(a){var A=new N;if(a)for(var R=0,U=a.length;R<U;++R)A.add(a[R]);return A};function N(){this._=Object.create(null)}w(N,{has:X,add:function(a){return this._[O(a+="")]=!0,a},remove:Z,values:te,size:q,empty:ae,forEach:function(a){for(var A in this._)a.call(this,L(A))}}),l.behavior={};function D(a){return a}l.rebind=function(a,A){for(var R=1,U=arguments.length,W;++R<U;)a[W=arguments[R]]=_(a,A,A[W]);return a};function _(a,A,R){return function(){var U=R.apply(A,arguments);return U===A?a:U}}function V(a,A){if(A in a)return A;A=A.charAt(0).toUpperCase()+A.slice(1);for(var R=0,U=G.length;R<U;++R){var W=G[R]+A;if(W in a)return W}}var G=["webkit","ms","moz","Moz","o","O"];function Q(){}l.dispatch=function(){for(var a=new ue,A=-1,R=arguments.length;++A<R;)a[arguments[A]]=le(a);return a};function ue(){}ue.prototype.on=function(a,A){var R=a.indexOf("."),U="";if(R>=0&&(U=a.slice(R+1),a=a.slice(0,R)),a)return arguments.length<2?this[a].on(U):this[a].on(U,A);if(arguments.length===2){if(A==null)for(a in this)this.hasOwnProperty(a)&&this[a].on(U,null);return this}};function le(a){var A=[],R=new B;function U(){for(var W=A,j=-1,me=W.length,oe;++j<me;)(oe=W[j].on)&&oe.apply(this,arguments);return a}return U.on=function(W,j){var me=R.get(W),oe;return arguments.length<2?me&&me.on:(me&&(me.on=null,A=A.slice(0,oe=A.indexOf(me)).concat(A.slice(oe+1)),R.remove(W)),j&&A.push(R.set(W,{on:j})),a)},U}l.event=null;function ye(){l.event.preventDefault()}function Se(){for(var a=l.event,A;A=a.sourceEvent;)a=A;return a}function ce(a){for(var A=new ue,R=0,U=arguments.length;++R<U;)A[arguments[R]]=le(A);return A.of=function(W,j){return function(me){try{var oe=me.sourceEvent=l.event;me.target=a,l.event=me,A[me.type].apply(W,j)}finally{l.event=oe}}},A}l.requote=function(a){return a.replace(de,"\\$&")};var de=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,S={}.__proto__?function(a,A){a.__proto__=A}:function(a,A){for(var R in A)a[R]=A[R]};function P(a){return S(a,F),a}var k=function(a,A){return A.querySelector(a)},z=function(a,A){return A.querySelectorAll(a)},Y=function(a,A){var R=a.matches||a[V(a,"matchesSelector")];return Y=function(U,W){return R.call(U,W)},Y(a,A)};typeof Sizzle=="function"&&(k=function(a,A){return Sizzle(a,A)[0]||null},z=Sizzle,Y=Sizzle.matchesSelector),l.selection=function(){return l.select(f.documentElement)};var F=l.selection.prototype=[];F.select=function(a){var A=[],R,U,W,j;a=J(a);for(var me=-1,oe=this.length;++me<oe;){A.push(R=[]),R.parentNode=(W=this[me]).parentNode;for(var xe=-1,De=W.length;++xe<De;)(j=W[xe])?(R.push(U=a.call(j,j.__data__,xe,me)),U&&"__data__"in j&&(U.__data__=j.__data__)):R.push(null)}return P(A)};function J(a){return typeof a=="function"?a:function(){return k(a,this)}}F.selectAll=function(a){var A=[],R,U;a=E(a);for(var W=-1,j=this.length;++W<j;)for(var me=this[W],oe=-1,xe=me.length;++oe<xe;)(U=me[oe])&&(A.push(R=r(a.call(U,U.__data__,oe,W))),R.parentNode=U);return P(A)};function E(a){return typeof a=="function"?a:function(){return z(a,this)}}var K="http://www.w3.org/1999/xhtml",ie={svg:"http://www.w3.org/2000/svg",xhtml:K,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};l.ns={prefix:ie,qualify:function(a){var A=a.indexOf(":"),R=a;return A>=0&&(R=a.slice(0,A))!=="xmlns"&&(a=a.slice(A+1)),ie.hasOwnProperty(R)?{space:ie[R],local:a}:a}},F.attr=function(a,A){if(arguments.length<2){if(typeof a=="string"){var R=this.node();return a=l.ns.qualify(a),a.local?R.getAttributeNS(a.space,a.local):R.getAttribute(a)}for(A in a)this.each(ve(A,a[A]));return this}return this.each(ve(a,A))};function ve(a,A){a=l.ns.qualify(a);function R(){this.removeAttribute(a)}function U(){this.removeAttributeNS(a.space,a.local)}function W(){this.setAttribute(a,A)}function j(){this.setAttributeNS(a.space,a.local,A)}function me(){var xe=A.apply(this,arguments);xe==null?this.removeAttribute(a):this.setAttribute(a,xe)}function oe(){var xe=A.apply(this,arguments);xe==null?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,xe)}return A==null?a.local?U:R:typeof A=="function"?a.local?oe:me:a.local?j:W}function he(a){return a.trim().replace(/\s+/g," ")}F.classed=function(a,A){if(arguments.length<2){if(typeof a=="string"){var R=this.node(),U=(a=ke(a)).length,W=-1;if(A=R.classList){for(;++W<U;)if(!A.contains(a[W]))return!1}else for(A=R.getAttribute("class");++W<U;)if(!Le(a[W]).test(A))return!1;return!0}for(A in a)this.each(se(A,a[A]));return this}return this.each(se(a,A))};function Le(a){return new RegExp("(?:^|\\s+)"+l.requote(a)+"(?:\\s+|$)","g")}function ke(a){return(a+"").trim().split(/^|\s+/)}function se(a,A){a=ke(a).map(ge);var R=a.length;function U(){for(var j=-1;++j<R;)a[j](this,A)}function W(){for(var j=-1,me=A.apply(this,arguments);++j<R;)a[j](this,me)}return typeof A=="function"?W:U}function ge(a){var A=Le(a);return function(R,U){if(W=R.classList)return U?W.add(a):W.remove(a);var W=R.getAttribute("class")||"";U?(A.lastIndex=0,A.test(W)||R.setAttribute("class",he(W+" "+a))):R.setAttribute("class",he(W.replace(A," ")))}}F.style=function(a,A,R){var U=arguments.length;if(U<3){if(typeof a!="string"){U<2&&(A="");for(R in a)this.each(be(R,a[R],A));return this}if(U<2){var W=this.node();return n(W).getComputedStyle(W,null).getPropertyValue(a)}R=""}return this.each(be(a,A,R))};function be(a,A,R){function U(){this.style.removeProperty(a)}function W(){this.style.setProperty(a,A,R)}function j(){var me=A.apply(this,arguments);me==null?this.style.removeProperty(a):this.style.setProperty(a,me,R)}return A==null?U:typeof A=="function"?j:W}F.property=function(a,A){if(arguments.length<2){if(typeof a=="string")return this.node()[a];for(A in a)this.each(Ee(A,a[A]));return this}return this.each(Ee(a,A))};function Ee(a,A){function R(){delete this[a]}function U(){this[a]=A}function W(){var j=A.apply(this,arguments);j==null?delete this[a]:this[a]=j}return A==null?R:typeof A=="function"?W:U}F.text=function(a){return arguments.length?this.each(typeof a=="function"?function(){var A=a.apply(this,arguments);this.textContent=A??""}:a==null?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent},F.html=function(a){return arguments.length?this.each(typeof a=="function"?function(){var A=a.apply(this,arguments);this.innerHTML=A??""}:a==null?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML},F.append=function(a){return a=we(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})};function we(a){function A(){var U=this.ownerDocument,W=this.namespaceURI;return W===K&&U.documentElement.namespaceURI===K?U.createElement(a):U.createElementNS(W,a)}function R(){return this.ownerDocument.createElementNS(a.space,a.local)}return typeof a=="function"?a:(a=l.ns.qualify(a)).local?R:A}F.insert=function(a,A){return a=we(a),A=J(A),this.select(function(){return this.insertBefore(a.apply(this,arguments),A.apply(this,arguments)||null)})},F.remove=function(){return this.each(Te)};function Te(){var a=this.parentNode;a&&a.removeChild(this)}F.data=function(a,A){var R=-1,U=this.length,W,j;if(!arguments.length){for(a=new Array(U=(W=this[0]).length);++R<U;)(j=W[R])&&(a[R]=j.__data__);return a}function me(Re,Ve){var We,lt=Re.length,yt=Ve.length,Ke=Math.min(lt,yt),et=new Array(yt),at=new Array(yt),pt=new Array(lt),gt,ot;if(A){var Et=new B,Kt=new Array(lt),jt;for(We=-1;++We<lt;)(gt=Re[We])&&(Et.has(jt=A.call(gt,gt.__data__,We))?pt[We]=gt:Et.set(jt,gt),Kt[We]=jt);for(We=-1;++We<yt;)(gt=Et.get(jt=A.call(Ve,ot=Ve[We],We)))?gt!==!0&&(et[We]=gt,gt.__data__=ot):at[We]=Ne(ot),Et.set(jt,!0);for(We=-1;++We<lt;)We in Kt&&Et.get(Kt[We])!==!0&&(pt[We]=Re[We])}else{for(We=-1;++We<Ke;)gt=Re[We],ot=Ve[We],gt?(gt.__data__=ot,et[We]=gt):at[We]=Ne(ot);for(;We<yt;++We)at[We]=Ne(Ve[We]);for(;We<lt;++We)pt[We]=Re[We]}at.update=et,at.parentNode=et.parentNode=pt.parentNode=Re.parentNode,oe.push(at),xe.push(et),De.push(pt)}var oe=st([]),xe=P([]),De=P([]);if(typeof a=="function")for(;++R<U;)me(W=this[R],a.call(W,W.parentNode.__data__,R));else for(;++R<U;)me(W=this[R],a);return xe.enter=function(){return oe},xe.exit=function(){return De},xe};function Ne(a){return{__data__:a}}F.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")},F.filter=function(a){var A=[],R,U,W;typeof a!="function"&&(a=$e(a));for(var j=0,me=this.length;j<me;j++){A.push(R=[]),R.parentNode=(U=this[j]).parentNode;for(var oe=0,xe=U.length;oe<xe;oe++)(W=U[oe])&&a.call(W,W.__data__,oe,j)&&R.push(W)}return P(A)};function $e(a){return function(){return Y(this,a)}}F.order=function(){for(var a=-1,A=this.length;++a<A;)for(var R=this[a],U=R.length-1,W=R[U],j;--U>=0;)(j=R[U])&&(W&&W!==j.nextSibling&&W.parentNode.insertBefore(j,W),W=j);return this},F.sort=function(a){a=je.apply(this,arguments);for(var A=-1,R=this.length;++A<R;)this[A].sort(a);return this.order()};function je(a){return arguments.length||(a=h),function(A,R){return A&&R?a(A.__data__,R.__data__):!A-!R}}F.each=function(a){return He(this,function(A,R,U){a.call(A,A.__data__,R,U)})};function He(a,A){for(var R=0,U=a.length;R<U;R++)for(var W=a[R],j=0,me=W.length,oe;j<me;j++)(oe=W[j])&&A(oe,j,R);return a}F.call=function(a){var A=r(arguments);return a.apply(A[0]=this,A),this},F.empty=function(){return!this.node()},F.node=function(){for(var a=0,A=this.length;a<A;a++)for(var R=this[a],U=0,W=R.length;U<W;U++){var j=R[U];if(j)return j}return null},F.size=function(){var a=0;return He(this,function(){++a}),a};function st(a){return S(a,nt),a}var nt=[];l.selection.enter=st,l.selection.enter.prototype=nt,nt.append=F.append,nt.empty=F.empty,nt.node=F.node,nt.call=F.call,nt.size=F.size,nt.select=function(a){for(var A=[],R,U,W,j,me,oe=-1,xe=this.length;++oe<xe;){W=(j=this[oe]).update,A.push(R=[]),R.parentNode=j.parentNode;for(var De=-1,Re=j.length;++De<Re;)(me=j[De])?(R.push(W[De]=U=a.call(j.parentNode,me.__data__,De,oe)),U.__data__=me.__data__):R.push(null)}return P(A)},nt.insert=function(a,A){return arguments.length<2&&(A=dt(this)),F.insert.call(this,a,A)};function dt(a){var A,R;return function(U,W,j){var me=a[j].update,oe=me.length,xe;for(j!=R&&(R=j,A=0),W>=A&&(A=W+1);!(xe=me[A])&&++A<oe;);return xe}}l.select=function(a){var A;return typeof a=="string"?(A=[k(a,f)],A.parentNode=f.documentElement):(A=[a],A.parentNode=s(a)),P([A])},l.selectAll=function(a){var A;return typeof a=="string"?(A=r(z(a,f)),A.parentNode=f.documentElement):(A=r(a),A.parentNode=null),P([A])},F.on=function(a,A,R){var U=arguments.length;if(U<3){if(typeof a!="string"){U<2&&(A=!1);for(R in a)this.each(ht(R,a[R],A));return this}if(U<2)return(U=this.node()["__on"+a])&&U._;R=!1}return this.each(ht(a,A,R))};function ht(a,A,R){var U="__on"+a,W=a.indexOf("."),j=bt;W>0&&(a=a.slice(0,W));var me=Pt.get(a);me&&(a=me,j=At);function oe(){var Re=this[U];Re&&(this.removeEventListener(a,Re,Re.$),delete this[U])}function xe(){var Re=j(A,r(arguments));oe.call(this),this.addEventListener(a,this[U]=Re,Re.$=R),Re._=A}function De(){var Re=new RegExp("^__on([^.]+)"+l.requote(a)+"$"),Ve;for(var We in this)if(Ve=We.match(Re)){var lt=this[We];this.removeEventListener(Ve[1],lt,lt.$),delete this[We]}}return W?A?xe:oe:A?Q:De}var Pt=l.map({mouseenter:"mouseover",mouseleave:"mouseout"});f&&Pt.forEach(function(a){"on"+a in f&&Pt.remove(a)});function bt(a,A){return function(R){var U=l.event;l.event=R,A[0]=this.__data__;try{a.apply(this,A)}finally{l.event=U}}}function At(a,A){var R=bt(a,A);return function(U){var W=this,j=U.relatedTarget;(!j||j!==W&&!(j.compareDocumentPosition(W)&8))&&R.call(W,U)}}var wt,Lt=0;function kt(a){var A=".dragsuppress-"+ ++Lt,R="click"+A,U=l.select(n(a)).on("touchmove"+A,ye).on("dragstart"+A,ye).on("selectstart"+A,ye);if(wt==null&&(wt="onselectstart"in a?!1:V(a.style,"userSelect")),wt){var W=s(a).style,j=W[wt];W[wt]="none"}return function(me){if(U.on(A,null),wt&&(W[wt]=j),me){var oe=function(){U.on(R,null)};U.on(R,function(){ye(),oe()},!0),setTimeout(oe,0)}}}l.mouse=function(a){return Ae(a,Se())};var Ce=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Ae(a,A){A.changedTouches&&(A=A.changedTouches[0]);var R=a.ownerSVGElement||a;if(R.createSVGPoint){var U=R.createSVGPoint();if(Ce<0){var W=n(a);if(W.scrollX||W.scrollY){R=l.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var j=R[0][0].getScreenCTM();Ce=!(j.f||j.e),R.remove()}}return Ce?(U.x=A.pageX,U.y=A.pageY):(U.x=A.clientX,U.y=A.clientY),U=U.matrixTransform(a.getScreenCTM().inverse()),[U.x,U.y]}var me=a.getBoundingClientRect();return[A.clientX-me.left-a.clientLeft,A.clientY-me.top-a.clientTop]}l.touch=function(a,A,R){if(arguments.length<3&&(R=A,A=Se().changedTouches),A){for(var U=0,W=A.length,j;U<W;++U)if((j=A[U]).identifier===R)return Ae(a,j)}},l.behavior.drag=function(){var a=ce(W,"drag","dragstart","dragend"),A=null,R=j(Q,l.mouse,n,"mousemove","mouseup"),U=j(Pe,l.touch,D,"touchmove","touchend");function W(){this.on("mousedown.drag",R).on("touchstart.drag",U)}function j(me,oe,xe,De,Re){return function(){var Ve=this,We=l.event.target.correspondingElement||l.event.target,lt=Ve.parentNode,yt=a.of(Ve,arguments),Ke=0,et=me(),at=".drag"+(et==null?"":"-"+et),pt,gt=l.select(xe(We)).on(De+at,Kt).on(Re+at,jt),ot=kt(We),Et=oe(lt,et);A?(pt=A.apply(Ve,arguments),pt=[pt.x-Et[0],pt.y-Et[1]]):pt=[0,0],yt({type:"dragstart"});function Kt(){var $t=oe(lt,et),qt,er;$t&&(qt=$t[0]-Et[0],er=$t[1]-Et[1],Ke|=qt|er,Et=$t,yt({type:"drag",x:$t[0]+pt[0],y:$t[1]+pt[1],dx:qt,dy:er}))}function jt(){oe(lt,et)&&(gt.on(De+at,null).on(Re+at,null),ot(Ke),yt({type:"dragend"}))}}}return W.origin=function(me){return arguments.length?(A=me,W):A},l.rebind(W,a,"on")};function Pe(){return l.event.changedTouches[0].identifier}l.touches=function(a,A){return arguments.length<2&&(A=Se().touches),A?r(A).map(function(R){var U=Ae(a,R);return U.identifier=R.identifier,U}):[]};var $=1e-6,fe=$*$,pe=Math.PI,Me=2*pe,Ge=Me-$,Ie=pe/2,_e=pe/180,Je=180/pe;function Qe(a,A,R){return(A[0]-a[0])*(R[1]-a[1])-(A[1]-a[1])*(R[0]-a[0])}function Oe(a){return a>1?Ie:a<-1?-Ie:Math.asin(a)}function ft(a){return((a=Math.exp(a))-1/a)/2}function vt(a){return((a=Math.exp(a))+1/a)/2}function xt(a){return((a=Math.exp(2*a))-1)/(a+1)}var zt=Math.SQRT2,Vt=2,Ut=4;l.interpolateZoom=function(a,A){var R=a[0],U=a[1],W=a[2],j=A[0],me=A[1],oe=A[2],xe=j-R,De=me-U,Re=xe*xe+De*De,Ve,We;if(Re<fe)We=Math.log(oe/W)/zt,Ve=function(pt){return[R+pt*xe,U+pt*De,W*Math.exp(zt*pt*We)]};else{var lt=Math.sqrt(Re),yt=(oe*oe-W*W+Ut*Re)/(2*W*Vt*lt),Ke=(oe*oe-W*W-Ut*Re)/(2*oe*Vt*lt),et=Math.log(Math.sqrt(yt*yt+1)-yt),at=Math.log(Math.sqrt(Ke*Ke+1)-Ke);We=(at-et)/zt,Ve=function(pt){var gt=pt*We,ot=vt(et),Et=W/(Vt*lt)*(ot*xt(zt*gt+et)-ft(et));return[R+Et*xe,U+Et*De,W*ot/vt(zt*gt+et)]}}return Ve.duration=We*1e3,Ve},l.behavior.zoom=function(){var a={x:0,y:0,k:1},A,R,U,W=[960,500],j=Nt,me=250,oe=0,xe="mousedown.zoom",De="mousemove.zoom",Re="mouseup.zoom",Ve,We="touchstart.zoom",lt,yt=ce(gt,"zoomstart","zoom","zoomend"),Ke,et,at,pt;Ct||(Ct="onwheel"in f?(Gt=function(){return-l.event.deltaY*(l.event.deltaMode?120:1)},"wheel"):"onmousewheel"in f?(Gt=function(){return l.event.wheelDelta},"mousewheel"):(Gt=function(){return-l.event.detail},"MozMousePixelScroll"));function gt(Zt){Zt.on(xe,sr).on(Ct+".zoom",Sr).on("dblclick.zoom",xr).on(We,pr)}gt.event=function(Zt){Zt.each(function(){var cr=yt.of(this,arguments),dr=a;La?l.select(this).transition().each("start.zoom",function(){a=this.__chart__||{x:0,y:0,k:1},er(cr)}).tween("zoom:zoom",function(){var gr=W[0],Lr=W[1],Rr=R?R[0]:gr/2,zr=R?R[1]:Lr/2,Or=l.interpolateZoom([(Rr-a.x)/a.k,(zr-a.y)/a.k,gr/a.k],[(Rr-dr.x)/dr.k,(zr-dr.y)/dr.k,gr/dr.k]);return function(Yr){var Br=Or(Yr),Wr=gr/Br[2];this.__chart__=a={x:Rr-Br[0]*Wr,y:zr-Br[1]*Wr,k:Wr},ur(cr)}}).each("interrupt.zoom",function(){ar(cr)}).each("end.zoom",function(){ar(cr)}):(this.__chart__=a,er(cr),ur(cr),ar(cr))})},gt.translate=function(Zt){return arguments.length?(a={x:+Zt[0],y:+Zt[1],k:a.k},qt(),gt):[a.x,a.y]},gt.scale=function(Zt){return arguments.length?(a={x:a.x,y:a.y,k:null},Kt(+Zt),qt(),gt):a.k},gt.scaleExtent=function(Zt){return arguments.length?(j=Zt==null?Nt:[+Zt[0],+Zt[1]],gt):j},gt.center=function(Zt){return arguments.length?(U=Zt&&[+Zt[0],+Zt[1]],gt):U},gt.size=function(Zt){return arguments.length?(W=Zt&&[+Zt[0],+Zt[1]],gt):W},gt.duration=function(Zt){return arguments.length?(me=+Zt,gt):me},gt.x=function(Zt){return arguments.length?(et=Zt,Ke=Zt.copy(),a={x:0,y:0,k:1},gt):et},gt.y=function(Zt){return arguments.length?(pt=Zt,at=Zt.copy(),a={x:0,y:0,k:1},gt):pt};function ot(Zt){return[(Zt[0]-a.x)/a.k,(Zt[1]-a.y)/a.k]}function Et(Zt){return[Zt[0]*a.k+a.x,Zt[1]*a.k+a.y]}function Kt(Zt){a.k=Math.max(j[0],Math.min(j[1],Zt))}function jt(Zt,cr){cr=Et(cr),a.x+=Zt[0]-cr[0],a.y+=Zt[1]-cr[1]}function $t(Zt,cr,dr,gr){Zt.__chart__={x:a.x,y:a.y,k:a.k},Kt(Math.pow(2,gr)),jt(R=cr,dr),Zt=l.select(Zt),me>0&&(Zt=Zt.transition().duration(me)),Zt.call(gt.event)}function qt(){et&&et.domain(Ke.range().map(function(Zt){return(Zt-a.x)/a.k}).map(Ke.invert)),pt&&pt.domain(at.range().map(function(Zt){return(Zt-a.y)/a.k}).map(at.invert))}function er(Zt){oe++||Zt({type:"zoomstart"})}function ur(Zt){qt(),Zt({type:"zoom",scale:a.k,translate:[a.x,a.y]})}function ar(Zt){--oe||(Zt({type:"zoomend"}),R=null)}function sr(){var Zt=this,cr=yt.of(Zt,arguments),dr=0,gr=l.select(n(Zt)).on(De,zr).on(Re,Or),Lr=ot(l.mouse(Zt)),Rr=kt(Zt);en.call(Zt),er(cr);function zr(){dr=1,jt(l.mouse(Zt),Lr),ur(cr)}function Or(){gr.on(De,null).on(Re,null),Rr(dr),ar(cr)}}function pr(){var Zt=this,cr=yt.of(Zt,arguments),dr={},gr=0,Lr,Rr=".zoom-"+l.event.changedTouches[0].identifier,zr="touchmove"+Rr,Or="touchend"+Rr,Yr=[],Br=l.select(Zt),Wr=kt(Zt);Zr(),er(cr),Br.on(xe,null).on(We,Zr);function Hr(){var ia=l.touches(Zt);return Lr=a.k,ia.forEach(function(Ir){Ir.identifier in dr&&(dr[Ir.identifier]=ot(Ir))}),ia}function Zr(){var ia=l.event.target;l.select(ia).on(zr,Sa).on(Or,gl),Yr.push(ia);for(var Ir=l.event.changedTouches,ta=0,fa=Ir.length;ta<fa;++ta)dr[Ir[ta].identifier]=null;var ra=Hr(),Pa=Date.now();if(ra.length===1){if(Pa-lt<500){var Ca=ra[0];$t(Zt,Ca,dr[Ca.identifier],Math.floor(Math.log(a.k)/Math.LN2)+1),ye()}lt=Pa}else if(ra.length>1){var Ca=ra[0],ba=ra[1],an=Ca[0]-ba[0],ki=Ca[1]-ba[1];gr=an*an+ki*ki}}function Sa(){var ia=l.touches(Zt),Ir,ta,fa,ra;en.call(Zt);for(var Pa=0,Ca=ia.length;Pa<Ca;++Pa,ra=null)if(fa=ia[Pa],ra=dr[fa.identifier]){if(ta)break;Ir=fa,ta=ra}if(ra){var ba=(ba=fa[0]-Ir[0])*ba+(ba=fa[1]-Ir[1])*ba,an=gr&&Math.sqrt(ba/gr);Ir=[(Ir[0]+fa[0])/2,(Ir[1]+fa[1])/2],ta=[(ta[0]+ra[0])/2,(ta[1]+ra[1])/2],Kt(an*Lr)}lt=null,jt(Ir,ta),ur(cr)}function gl(){if(l.event.touches.length){for(var ia=l.event.changedTouches,Ir=0,ta=ia.length;Ir<ta;++Ir)delete dr[ia[Ir].identifier];for(var fa in dr)return void Hr()}l.selectAll(Yr).on(Rr,null),Br.on(xe,sr).on(We,pr),Wr(),ar(cr)}}function Sr(){var Zt=yt.of(this,arguments);Ve?clearTimeout(Ve):(en.call(this),A=ot(R=U||l.mouse(this)),er(Zt)),Ve=setTimeout(function(){Ve=null,ar(Zt)},50),ye(),Kt(Math.pow(2,Gt()*.002)*a.k),jt(R,A),ur(Zt)}function xr(){var Zt=l.mouse(this),cr=Math.log(a.k)/Math.LN2;$t(this,Zt,ot(Zt),l.event.shiftKey?Math.ceil(cr)-1:Math.floor(cr)+1)}return l.rebind(gt,yt,"on")};var Nt=[0,1/0],Gt,Ct;l.color=Dt;function Dt(){}Dt.prototype.toString=function(){return this.rgb()+""},l.hsl=_t;function _t(a,A,R){return this instanceof _t?(this.h=+a,this.s=+A,void(this.l=+R)):arguments.length<2?a instanceof _t?new _t(a.h,a.s,a.l):ut(""+a,rt,_t):new _t(a,A,R)}var Wt=_t.prototype=new Dt;Wt.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),new _t(this.h,this.s,this.l/a)},Wt.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new _t(this.h,this.s,a*this.l)},Wt.rgb=function(){return Bt(this.h,this.s,this.l)};function Bt(a,A,R){var U,W;a=isNaN(a)?0:(a%=360)<0?a+360:a,A=isNaN(A)||A<0?0:A>1?1:A,R=R<0?0:R>1?1:R,W=R<=.5?R*(1+A):R+A-R*A,U=2*R-W;function j(oe){return oe>360?oe-=360:oe<0&&(oe+=360),oe<60?U+(W-U)*oe/60:oe<180?W:oe<240?U+(W-U)*(240-oe)/60:U}function me(oe){return Math.round(j(oe)*255)}return new Xe(me(a+120),me(a),me(a-120))}l.hcl=It;function It(a,A,R){return this instanceof It?(this.h=+a,this.c=+A,void(this.l=+R)):arguments.length<2?a instanceof It?new It(a.h,a.c,a.l):a instanceof Xt?ze(a.l,a.a,a.b):ze((a=Tt((a=l.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new It(a,A,R)}var it=It.prototype=new Dt;it.brighter=function(a){return new It(this.h,this.c,Math.min(100,this.l+nr*(arguments.length?a:1)))},it.darker=function(a){return new It(this.h,this.c,Math.max(0,this.l-nr*(arguments.length?a:1)))},it.rgb=function(){return Ot(this.h,this.c,this.l).rgb()};function Ot(a,A,R){return isNaN(a)&&(a=0),isNaN(A)&&(A=0),new Xt(R,Math.cos(a*=_e)*A,Math.sin(a)*A)}l.lab=Xt;function Xt(a,A,R){return this instanceof Xt?(this.l=+a,this.a=+A,void(this.b=+R)):arguments.length<2?a instanceof Xt?new Xt(a.l,a.a,a.b):a instanceof It?Ot(a.h,a.c,a.l):Tt((a=Xe(a)).r,a.g,a.b):new Xt(a,A,R)}var nr=18,Ht=.95047,tr=1,or=1.08883,ne=Xt.prototype=new Dt;ne.brighter=function(a){return new Xt(Math.min(100,this.l+nr*(arguments.length?a:1)),this.a,this.b)},ne.darker=function(a){return new Xt(Math.max(0,this.l-nr*(arguments.length?a:1)),this.a,this.b)},ne.rgb=function(){return ee(this.l,this.a,this.b)};function ee(a,A,R){var U=(a+16)/116,W=U+A/500,j=U-R/200;return W=Fe(W)*Ht,U=Fe(U)*tr,j=Fe(j)*or,new Xe(Ze(3.2404542*W-1.5371385*U-.4985314*j),Ze(-.969266*W+1.8760108*U+.041556*j),Ze(.0556434*W-.2040259*U+1.0572252*j))}function ze(a,A,R){return a>0?new It(Math.atan2(R,A)*Je,Math.sqrt(A*A+R*R),a):new It(NaN,NaN,a)}function Fe(a){return a>.206893034?a*a*a:(a-.13793103448275862)/7.787037}function Ue(a){return a>.008856?Math.pow(a,.3333333333333333):7.787037*a+.13793103448275862}function Ze(a){return Math.round(255*(a<=.00304?12.92*a:1.055*Math.pow(a,.4166666666666667)-.055))}l.rgb=Xe;function Xe(a,A,R){return this instanceof Xe?(this.r=~~a,this.g=~~A,void(this.b=~~R)):arguments.length<2?a instanceof Xe?new Xe(a.r,a.g,a.b):ut(""+a,Xe,Bt):new Xe(a,A,R)}function Be(a){return new Xe(a>>16,a>>8&255,a&255)}function Ye(a){return Be(a)+""}var qe=Xe.prototype=new Dt;qe.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var A=this.r,R=this.g,U=this.b,W=30;return!A&&!R&&!U?new Xe(W,W,W):(A&&A<W&&(A=W),R&&R<W&&(R=W),U&&U<W&&(U=W),new Xe(Math.min(255,A/a),Math.min(255,R/a),Math.min(255,U/a)))},qe.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new Xe(a*this.r,a*this.g,a*this.b)},qe.hsl=function(){return rt(this.r,this.g,this.b)},qe.toString=function(){return"#"+tt(this.r)+tt(this.g)+tt(this.b)};function tt(a){return a<16?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function ut(a,A,R){var U=0,W=0,j=0,me,oe,xe;if(me=/([a-z]+)\((.*)\)/.exec(a=a.toLowerCase()),me)switch(oe=me[2].split(","),me[1]){case"hsl":return R(parseFloat(oe[0]),parseFloat(oe[1])/100,parseFloat(oe[2])/100);case"rgb":return A(ct(oe[0]),ct(oe[1]),ct(oe[2]))}return(xe=Rt.get(a))?A(xe.r,xe.g,xe.b):(a!=null&&a.charAt(0)==="#"&&!isNaN(xe=parseInt(a.slice(1),16))&&(a.length===4?(U=(xe&3840)>>4,U=U>>4|U,W=xe&240,W=W>>4|W,j=xe&15,j=j<<4|j):a.length===7&&(U=(xe&16711680)>>16,W=(xe&65280)>>8,j=xe&255)),A(U,W,j))}function rt(a,A,R){var U=Math.min(a/=255,A/=255,R/=255),W=Math.max(a,A,R),j=W-U,me,oe,xe=(W+U)/2;return j?(oe=xe<.5?j/(W+U):j/(2-W-U),a==W?me=(A-R)/j+(A<R?6:0):A==W?me=(R-a)/j+2:me=(a-A)/j+4,me*=60):(me=NaN,oe=xe>0&&xe<1?0:me),new _t(me,oe,xe)}function Tt(a,A,R){a=mt(a),A=mt(A),R=mt(R);var U=Ue((.4124564*a+.3575761*A+.1804375*R)/Ht),W=Ue((.2126729*a+.7151522*A+.072175*R)/tr),j=Ue((.0193339*a+.119192*A+.9503041*R)/or);return Xt(116*W-16,500*(U-W),200*(W-j))}function mt(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function ct(a){var A=parseFloat(a);return a.charAt(a.length-1)==="%"?Math.round(A*2.55):A}var Rt=l.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Rt.forEach(function(a,A){Rt.set(a,Be(A))});function Mt(a){return typeof a=="function"?a:function(){return a}}l.functor=Mt,l.xhr=Yt(D);function Yt(a){return function(A,R,U){return arguments.length===2&&typeof R=="function"&&(U=R,R=null),Jt(A,R,a,U)}}function Jt(a,A,R,U){var W={},j=l.dispatch("beforesend","progress","load","error"),me={},oe=new XMLHttpRequest,xe=null;self.XDomainRequest&&!("withCredentials"in oe)&&/^(http(s)?:)?\/\//.test(a)&&(oe=new XDomainRequest),"onload"in oe?oe.onload=oe.onerror=De:oe.onreadystatechange=function(){oe.readyState>3&&De()};function De(){var Re=oe.status,Ve;if(!Re&&St(oe)||Re>=200&&Re<300||Re===304){try{Ve=R.call(W,oe)}catch(We){j.error.call(W,We);return}j.load.call(W,Ve)}else j.error.call(W,oe)}return oe.onprogress=function(Re){var Ve=l.event;l.event=Re;try{j.progress.call(W,oe)}finally{l.event=Ve}},W.header=function(Re,Ve){return Re=(Re+"").toLowerCase(),arguments.length<2?me[Re]:(Ve==null?delete me[Re]:me[Re]=Ve+"",W)},W.mimeType=function(Re){return arguments.length?(A=Re==null?null:Re+"",W):A},W.responseType=function(Re){return arguments.length?(xe=Re,W):xe},W.response=function(Re){return R=Re,W},["get","post"].forEach(function(Re){W[Re]=function(){return W.send.apply(W,[Re].concat(r(arguments)))}}),W.send=function(Re,Ve,We){if(arguments.length===2&&typeof Ve=="function"&&(We=Ve,Ve=null),oe.open(Re,a,!0),A!=null&&!("accept"in me)&&(me.accept=A+",*/*"),oe.setRequestHeader)for(var lt in me)oe.setRequestHeader(lt,me[lt]);return A!=null&&oe.overrideMimeType&&oe.overrideMimeType(A),xe!=null&&(oe.responseType=xe),We!=null&&W.on("error",We).on("load",function(yt){We(null,yt)}),j.beforesend.call(W,oe),oe.send(Ve??null),W},W.abort=function(){return oe.abort(),W},l.rebind(W,j,"on"),U==null?W:W.get(Qt(U))}function Qt(a){return a.length===1?function(A,R){a(A==null?R:null)}:a}function St(a){var A=a.responseType;return A&&A!=="text"?a.response:a.responseText}l.dsv=function(a,A){var R=new RegExp('["'+a+`
]`),U=a.charCodeAt(0);function W(De,Re,Ve){arguments.length<3&&(Ve=Re,Re=null);var We=Jt(De,A,Re==null?j:me(Re),Ve);return We.row=function(lt){return arguments.length?We.response((Re=lt)==null?j:me(lt)):Re},We}function j(De){return W.parse(De.responseText)}function me(De){return function(Re){return W.parse(Re.responseText,De)}}W.parse=function(De,Re){var Ve;return W.parseRows(De,function(We,lt){if(Ve)return Ve(We,lt-1);var yt=function(Ke){for(var et={},at=We.length,pt=0;pt<at;++pt)et[We[pt]]=Ke[pt];return et};Ve=Re?function(Ke,et){return Re(yt(Ke),et)}:yt})},W.parseRows=function(De,Re){var Ve={},We={},lt=[],yt=De.length,Ke=0,et=0,at,pt;function gt(){if(Ke>=yt)return We;if(pt)return pt=!1,Ve;var Et=Ke;if(De.charCodeAt(Et)===34){for(var Kt=Et;Kt++<yt;)if(De.charCodeAt(Kt)===34){if(De.charCodeAt(Kt+1)!==34)break;++Kt}Ke=Kt+2;var jt=De.charCodeAt(Kt+1);return jt===13?(pt=!0,De.charCodeAt(Kt+2)===10&&++Ke):jt===10&&(pt=!0),De.slice(Et+1,Kt).replace(/""/g,'"')}for(;Ke<yt;){var jt=De.charCodeAt(Ke++),$t=1;if(jt===10)pt=!0;else if(jt===13)pt=!0,De.charCodeAt(Ke)===10&&(++Ke,++$t);else if(jt!==U)continue;return De.slice(Et,Ke-$t)}return De.slice(Et)}for(;(at=gt())!==We;){for(var ot=[];at!==Ve&&at!==We;)ot.push(at),at=gt();Re&&(ot=Re(ot,et++))==null||lt.push(ot)}return lt},W.format=function(De){if(Array.isArray(De[0]))return W.formatRows(De);var Re=new N,Ve=[];return De.forEach(function(We){for(var lt in We)Re.has(lt)||Ve.push(Re.add(lt))}),[Ve.map(xe).join(a)].concat(De.map(function(We){return Ve.map(function(lt){return xe(We[lt])}).join(a)})).join(`
`)},W.formatRows=function(De){return De.map(oe).join(`
`)};function oe(De){return De.map(xe).join(a)}function xe(De){return R.test(De)?'"'+De.replace(/\"/g,'""')+'"':De}return W},l.csv=l.dsv(",","text/csv"),l.tsv=l.dsv("	","text/tab-separated-values");var Ft,lr,rr,vr,mr=this[V(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};l.timer=function(){ir.apply(this,arguments)};function ir(a,A,R){var U=arguments.length;U<2&&(A=0),U<3&&(R=Date.now());var W=R+A,j={c:a,t:W,n:null};return lr?lr.n=j:Ft=j,lr=j,rr||(vr=clearTimeout(vr),rr=1,mr(fr)),j}function fr(){var a=hr(),A=yr()-a;A>24?(isFinite(A)&&(clearTimeout(vr),vr=setTimeout(fr,A)),rr=0):(rr=1,mr(fr))}l.timer.flush=function(){hr(),yr()};function hr(){for(var a=Date.now(),A=Ft;A;)a>=A.t&&A.c(a-A.t)&&(A.c=null),A=A.n;return a}function yr(){for(var a,A=Ft,R=1/0;A;)A.c?(A.t<R&&(R=A.t),A=(a=A).n):A=a?a.n=A.n:Ft=A.n;return lr=a,R}l.round=function(a,A){return A?Math.round(a*(A=Math.pow(10,A)))/A:Math.round(a)},l.geom={};function br(a){return a[0]}function wr(a){return a[1]}l.geom.hull=function(a){var A=br,R=wr;if(arguments.length)return U(a);function U(W){if(W.length<3)return[];var j=Mt(A),me=Mt(R),oe,xe=W.length,De=[],Re=[];for(oe=0;oe<xe;oe++)De.push([+j.call(this,W[oe],oe),+me.call(this,W[oe],oe),oe]);for(De.sort(Ur),oe=0;oe<xe;oe++)Re.push([De[oe][0],-De[oe][1]]);var Ve=Mr(De),We=Mr(Re),lt=We[0]===Ve[0],yt=We[We.length-1]===Ve[Ve.length-1],Ke=[];for(oe=Ve.length-1;oe>=0;--oe)Ke.push(W[De[Ve[oe]][2]]);for(oe=+lt;oe<We.length-yt;++oe)Ke.push(W[De[We[oe]][2]]);return Ke}return U.x=function(W){return arguments.length?(A=W,U):A},U.y=function(W){return arguments.length?(R=W,U):R},U};function Mr(a){for(var A=a.length,R=[0,1],U=2,W=2;W<A;W++){for(;U>1&&Qe(a[R[U-2]],a[R[U-1]],a[W])<=0;)--U;R[U++]=W}return R.slice(0,U)}function Ur(a,A){return a[0]-A[0]||a[1]-A[1]}l.geom.polygon=function(a){return S(a,_r),a};var _r=l.geom.polygon.prototype=[];_r.area=function(){for(var a=-1,A=this.length,R,U=this[A-1],W=0;++a<A;)R=U,U=this[a],W+=R[1]*U[0]-R[0]*U[1];return W*.5},_r.centroid=function(a){var A=-1,R=this.length,U=0,W=0,j,me=this[R-1],oe;for(arguments.length||(a=-1/(6*this.area()));++A<R;)j=me,me=this[A],oe=j[0]*me[1]-me[0]*j[1],U+=(j[0]+me[0])*oe,W+=(j[1]+me[1])*oe;return[U*a,W*a]},_r.clip=function(a){for(var A,R=Er(a),U=-1,W=this.length-Er(this),j,me,oe=this[W-1],xe,De,Re;++U<W;){for(A=a.slice(),a.length=0,xe=this[U],De=A[(me=A.length-R)-1],j=-1;++j<me;)Re=A[j],Gr(Re,oe,xe)?(Gr(De,oe,xe)||a.push(Ar(De,Re,oe,xe)),a.push(Re)):Gr(De,oe,xe)&&a.push(Ar(De,Re,oe,xe)),De=Re;R&&a.push(a[0]),oe=xe}return a};function Gr(a,A,R){return(R[0]-A[0])*(a[1]-A[1])<(R[1]-A[1])*(a[0]-A[0])}function Ar(a,A,R,U){var W=a[0],j=R[0],me=A[0]-W,oe=U[0]-j,xe=a[1],De=R[1],Re=A[1]-xe,Ve=U[1]-De,We=(oe*(xe-De)-Ve*(W-j))/(Ve*me-oe*Re);return[W+We*me,xe+We*Re]}function Er(a){var A=a[0],R=a[a.length-1];return!(A[0]-R[0]||A[1]-R[1])}var Fr,Tr,Xr,oa=[],qr,Jr,ha=[];function Ta(){Aa(this),this.edge=this.site=this.circle=null}function Vr(a){var A=oa.pop()||new Ta;return A.site=a,A}function Kr(a){$r(a),Xr.remove(a),oa.push(a),Aa(a)}function Na(a){var A=a.circle,R=A.x,U=A.cy,W={x:R,y:U},j=a.P,me=a.N,oe=[a];Kr(a);for(var xe=j;xe.circle&&u(R-xe.circle.x)<$&&u(U-xe.circle.cy)<$;)j=xe.P,oe.unshift(xe),Kr(xe),xe=j;oe.unshift(xe),$r(xe);for(var De=me;De.circle&&u(R-De.circle.x)<$&&u(U-De.circle.cy)<$;)me=De.N,oe.push(De),Kr(De),De=me;oe.push(De),$r(De);var Re=oe.length,Ve;for(Ve=1;Ve<Re;++Ve)De=oe[Ve],xe=oe[Ve-1],la(De.edge,xe.site,De.site,W);xe=oe[0],De=oe[Re-1],De.edge=ya(xe.site,De.site,null,W),Qr(xe),Qr(De)}function ua(a){for(var A=a.x,R=a.y,U,W,j,me,oe=Xr._;oe;)if(j=ma(oe,R)-A,j>$)oe=oe.L;else if(me=A-ca(oe,R),me>$){if(!oe.R){U=oe;break}oe=oe.R}else{j>-$?(U=oe.P,W=oe):me>-$?(U=oe,W=oe.N):U=W=oe;break}var xe=Vr(a);if(Xr.insert(U,xe),!(!U&&!W)){if(U===W){$r(U),W=Vr(U.site),Xr.insert(xe,W),xe.edge=W.edge=ya(U.site,xe.site),Qr(U),Qr(W);return}if(!W){xe.edge=ya(U.site,xe.site);return}$r(U),$r(W);var De=U.site,Re=De.x,Ve=De.y,We=a.x-Re,lt=a.y-Ve,yt=W.site,Ke=yt.x-Re,et=yt.y-Ve,at=2*(We*et-lt*Ke),pt=We*We+lt*lt,gt=Ke*Ke+et*et,ot={x:(et*pt-lt*gt)/at+Re,y:(We*gt-Ke*pt)/at+Ve};la(W.edge,De,yt,ot),xe.edge=ya(De,a,null,ot),W.edge=ya(a,yt,null,ot),Qr(U),Qr(W)}}function ma(a,A){var R=a.site,U=R.x,W=R.y,j=W-A;if(!j)return U;var me=a.P;if(!me)return-1/0;R=me.site;var oe=R.x,xe=R.y,De=xe-A;if(!De)return oe;var Re=oe-U,Ve=1/j-1/De,We=Re/De;return Ve?(-We+Math.sqrt(We*We-2*Ve*(Re*Re/(-2*De)-xe+De/2+W-j/2)))/Ve+U:(U+oe)/2}function ca(a,A){var R=a.N;if(R)return ma(R,A);var U=a.site;return U.y===A?U.x:1/0}function Ga(a){this.site=a,this.edges=[]}Ga.prototype.prepare=function(){for(var a=this.edges,A=a.length,R;A--;)R=a[A].edge,(!R.b||!R.a)&&a.splice(A,1);return a.sort(kr),a.length};function Fa(a){for(var A=a[0][0],R=a[1][0],U=a[0][1],W=a[1][1],j,me,oe,xe,De=Tr,Re=De.length,Ve,We,lt,yt,Ke,et;Re--;)if(Ve=De[Re],!(!Ve||!Ve.prepare()))for(lt=Ve.edges,yt=lt.length,We=0;We<yt;)et=lt[We].end(),oe=et.x,xe=et.y,Ke=lt[++We%yt].start(),j=Ke.x,me=Ke.y,(u(oe-j)>$||u(xe-me)>$)&&(lt.splice(We,0,new Ma(Ia(Ve.site,et,u(oe-A)<$&&W-xe>$?{x:A,y:u(j-A)<$?me:W}:u(xe-W)<$&&R-oe>$?{x:u(me-W)<$?j:R,y:W}:u(oe-R)<$&&xe-U>$?{x:R,y:u(j-R)<$?me:U}:u(xe-U)<$&&oe-A>$?{x:u(me-U)<$?j:A,y:U}:null),Ve.site,null)),++yt)}function kr(a,A){return A.angle-a.angle}function aa(){Aa(this),this.x=this.y=this.arc=this.site=this.cy=null}function Qr(a){var A=a.P,R=a.N;if(!(!A||!R)){var U=A.site,W=a.site,j=R.site;if(U!==j){var me=W.x,oe=W.y,xe=U.x-me,De=U.y-oe,Re=j.x-me,et=j.y-oe,Ve=2*(xe*et-De*Re);if(!(Ve>=-fe)){var We=xe*xe+De*De,lt=Re*Re+et*et,yt=(et*We-De*lt)/Ve,Ke=(xe*lt-Re*We)/Ve,et=Ke+oe,at=ha.pop()||new aa;at.arc=a,at.site=W,at.x=yt+me,at.y=et+Math.sqrt(yt*yt+Ke*Ke),at.cy=et,a.circle=at;for(var pt=null,gt=Jr._;gt;)if(at.y<gt.y||at.y===gt.y&&at.x<=gt.x)if(gt.L)gt=gt.L;else{pt=gt.P;break}else if(gt.R)gt=gt.R;else{pt=gt;break}Jr.insert(pt,at),pt||(qr=at)}}}}function $r(a){var A=a.circle;A&&(A.P||(qr=A.N),Jr.remove(A),ha.push(A),Aa(A),a.circle=null)}function Dr(a,A,R,U){return function(W){var j=W.a,me=W.b,oe=j.x,xe=j.y,De=me.x,Re=me.y,Ve=0,We=1,lt=De-oe,yt=Re-xe,Ke;if(Ke=a-oe,!(!lt&&Ke>0)){if(Ke/=lt,lt<0){if(Ke<Ve)return;Ke<We&&(We=Ke)}else if(lt>0){if(Ke>We)return;Ke>Ve&&(Ve=Ke)}if(Ke=R-oe,!(!lt&&Ke<0)){if(Ke/=lt,lt<0){if(Ke>We)return;Ke>Ve&&(Ve=Ke)}else if(lt>0){if(Ke<Ve)return;Ke<We&&(We=Ke)}if(Ke=A-xe,!(!yt&&Ke>0)){if(Ke/=yt,yt<0){if(Ke<Ve)return;Ke<We&&(We=Ke)}else if(yt>0){if(Ke>We)return;Ke>Ve&&(Ve=Ke)}if(Ke=U-xe,!(!yt&&Ke<0)){if(Ke/=yt,yt<0){if(Ke>We)return;Ke>Ve&&(Ve=Ke)}else if(yt>0){if(Ke<Ve)return;Ke<We&&(We=Ke)}return Ve>0&&(W.a={x:oe+Ve*lt,y:xe+Ve*yt}),We<1&&(W.b={x:oe+We*lt,y:xe+We*yt}),W}}}}}}function Nr(a){for(var A=Fr,R=Dr(a[0][0],a[0][1],a[1][0],a[1][1]),U=A.length,W;U--;)W=A[U],(!va(W,a)||!R(W)||u(W.a.x-W.b.x)<$&&u(W.a.y-W.b.y)<$)&&(W.a=W.b=null,A.splice(U,1))}function va(a,A){var R=a.b;if(R)return!0;var U=a.a,W=A[0][0],j=A[1][0],me=A[0][1],oe=A[1][1],xe=a.l,De=a.r,Re=xe.x,Ve=xe.y,We=De.x,lt=De.y,yt=(Re+We)/2,Ke=(Ve+lt)/2,et,at;if(lt===Ve){if(yt<W||yt>=j)return;if(Re>We){if(!U)U={x:yt,y:me};else if(U.y>=oe)return;R={x:yt,y:oe}}else{if(!U)U={x:yt,y:oe};else if(U.y<me)return;R={x:yt,y:me}}}else if(et=(Re-We)/(lt-Ve),at=Ke-et*yt,et<-1||et>1)if(Re>We){if(!U)U={x:(me-at)/et,y:me};else if(U.y>=oe)return;R={x:(oe-at)/et,y:oe}}else{if(!U)U={x:(oe-at)/et,y:oe};else if(U.y<me)return;R={x:(me-at)/et,y:me}}else if(Ve<lt){if(!U)U={x:W,y:et*W+at};else if(U.x>=j)return;R={x:j,y:et*j+at}}else{if(!U)U={x:j,y:et*j+at};else if(U.x<W)return;R={x:W,y:et*W+at}}return a.a=U,a.b=R,!0}function za(a,A){this.l=a,this.r=A,this.a=this.b=null}function ya(a,A,R,U){var W=new za(a,A);return Fr.push(W),R&&la(W,a,A,R),U&&la(W,A,a,U),Tr[a.i].edges.push(new Ma(W,a,A)),Tr[A.i].edges.push(new Ma(W,A,a)),W}function Ia(a,A,R){var U=new za(a,null);return U.a=A,U.b=R,Fr.push(U),U}function la(a,A,R,U){!a.a&&!a.b?(a.a=U,a.l=A,a.r=R):a.l===R?a.b=U:a.a=U}function Ma(a,A,R){var U=a.a,W=a.b;this.edge=a,this.site=A,this.angle=R?Math.atan2(R.y-A.y,R.x-A.x):a.l===A?Math.atan2(W.x-U.x,U.y-W.y):Math.atan2(U.x-W.x,W.y-U.y)}Ma.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function ka(){this._=null}function Aa(a){a.U=a.C=a.L=a.R=a.P=a.N=null}ka.prototype={insert:function(a,A){var R,U,W;if(a){if(A.P=a,A.N=a.N,a.N&&(a.N.P=A),a.N=A,a.R){for(a=a.R;a.L;)a=a.L;a.L=A}else a.R=A;R=a}else this._?(a=Cn(this._),A.P=null,A.N=a,a.P=a.L=A,R=a):(A.P=A.N=null,this._=A,R=null);for(A.L=A.R=null,A.U=R,A.C=!0,a=A;R&&R.C;)U=R.U,R===U.L?(W=U.R,W&&W.C?(R.C=W.C=!1,U.C=!0,a=U):(a===R.R&&(pa(this,R),a=R,R=a.U),R.C=!1,U.C=!0,ga(this,U))):(W=U.L,W&&W.C?(R.C=W.C=!1,U.C=!0,a=U):(a===R.L&&(ga(this,R),a=R,R=a.U),R.C=!1,U.C=!0,pa(this,U))),R=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P),a.P&&(a.P.N=a.N),a.N=a.P=null;var A=a.U,R,U=a.L,W=a.R,j,me;if(U?W?j=Cn(W):j=U:j=W,A?A.L===a?A.L=j:A.R=j:this._=j,U&&W?(me=j.C,j.C=a.C,j.L=U,U.U=j,j!==W?(A=j.U,j.U=a.U,a=j.R,A.L=a,j.R=W,W.U=j):(j.U=A,A=j,a=j.R)):(me=a.C,a=j),a&&(a.U=A),!me){if(a&&a.C){a.C=!1;return}do{if(a===this._)break;if(a===A.L){if(R=A.R,R.C&&(R.C=!1,A.C=!0,pa(this,A),R=A.R),R.L&&R.L.C||R.R&&R.R.C){(!R.R||!R.R.C)&&(R.L.C=!1,R.C=!0,ga(this,R),R=A.R),R.C=A.C,A.C=R.R.C=!1,pa(this,A),a=this._;break}}else if(R=A.L,R.C&&(R.C=!1,A.C=!0,ga(this,A),R=A.L),R.L&&R.L.C||R.R&&R.R.C){(!R.L||!R.L.C)&&(R.R.C=!1,R.C=!0,pa(this,R),R=A.L),R.C=A.C,A.C=R.L.C=!1,ga(this,A),a=this._;break}R.C=!0,a=A,A=A.U}while(!a.C);a&&(a.C=!1)}}};function pa(a,A){var R=A,U=A.R,W=R.U;W?W.L===R?W.L=U:W.R=U:a._=U,U.U=W,R.U=U,R.R=U.L,R.R&&(R.R.U=R),U.L=R}function ga(a,A){var R=A,U=A.L,W=R.U;W?W.L===R?W.L=U:W.R=U:a._=U,U.U=W,R.U=U,R.L=U.R,R.L&&(R.L.U=R),U.R=R}function Cn(a){for(;a.L;)a=a.L;return a}function nn(a,A){var R=a.sort(Ei).pop(),U,W,j;for(Fr=[],Tr=new Array(a.length),Xr=new ka,Jr=new ka;;)if(j=qr,R&&(!j||R.y<j.y||R.y===j.y&&R.x<j.x))(R.x!==U||R.y!==W)&&(Tr[R.i]=new Ga(R),ua(R),U=R.x,W=R.y),R=a.pop();else if(j)Na(j.arc);else break;A&&(Nr(A),Fa(A));var me={cells:Tr,edges:Fr};return Xr=Jr=Fr=Tr=null,me}function Ei(a,A){return A.y-a.y||A.x-a.x}l.geom.voronoi=function(a){var A=br,R=wr,U=A,W=R,j=Va;if(a)return me(a);function me(xe){var De=new Array(xe.length),Re=j[0][0],Ve=j[0][1],We=j[1][0],lt=j[1][1];return nn(oe(xe),j).cells.forEach(function(yt,Ke){var et=yt.edges,at=yt.site,pt=De[Ke]=et.length?et.map(function(gt){var ot=gt.start();return[ot.x,ot.y]}):at.x>=Re&&at.x<=We&&at.y>=Ve&&at.y<=lt?[[Re,lt],[We,lt],[We,Ve],[Re,Ve]]:[];pt.point=xe[Ke]}),De}function oe(xe){return xe.map(function(De,Re){return{x:Math.round(U(De,Re)/$)*$,y:Math.round(W(De,Re)/$)*$,i:Re}})}return me.links=function(xe){return nn(oe(xe)).edges.filter(function(De){return De.l&&De.r}).map(function(De){return{source:xe[De.l.i],target:xe[De.r.i]}})},me.triangles=function(xe){var De=[];return nn(oe(xe)).cells.forEach(function(Re,Ve){for(var We=Re.site,lt=Re.edges.sort(kr),yt=-1,Ke=lt.length,et,at=lt[Ke-1].edge,pt=at.l===We?at.r:at.l;++yt<Ke;)et=pt,at=lt[yt].edge,pt=at.l===We?at.r:at.l,Ve<et.i&&Ve<pt.i&&Ni(We,et,pt)<0&&De.push([xe[Ve],xe[et.i],xe[pt.i]])}),De},me.x=function(xe){return arguments.length?(U=Mt(A=xe),me):A},me.y=function(xe){return arguments.length?(W=Mt(R=xe),me):R},me.clipExtent=function(xe){return arguments.length?(j=xe??Va,me):j===Va?null:j},me.size=function(xe){return arguments.length?me.clipExtent(xe&&[[0,0],xe]):j===Va?null:j&&j[1]},me};var Va=[[-1e6,-1e6],[1e6,1e6]];function Ni(a,A,R){return(a.x-R.x)*(A.y-a.y)-(a.x-A.x)*(R.y-a.y)}l.geom.delaunay=function(a){return l.geom.voronoi().triangles(a)},l.geom.quadtree=function(a,A,R,U,W){var j=br,me=wr,oe;if(oe=arguments.length)return j=Fi,me=zi,oe===3&&(W=R,U=A,R=A=0),xe(a);function xe(De){var Re,Ve=Mt(j),We=Mt(me),lt,yt,Ke,et,at,pt,gt,ot;if(A!=null)at=A,pt=R,gt=U,ot=W;else if(gt=ot=-(at=pt=1/0),lt=[],yt=[],et=De.length,oe)for(Ke=0;Ke<et;++Ke)Re=De[Ke],Re.x<at&&(at=Re.x),Re.y<pt&&(pt=Re.y),Re.x>gt&&(gt=Re.x),Re.y>ot&&(ot=Re.y),lt.push(Re.x),yt.push(Re.y);else for(Ke=0;Ke<et;++Ke){var Et=+Ve(Re=De[Ke],Ke),Kt=+We(Re,Ke);Et<at&&(at=Et),Kt<pt&&(pt=Kt),Et>gt&&(gt=Et),Kt>ot&&(ot=Kt),lt.push(Et),yt.push(Kt)}var jt=gt-at,$t=ot-pt;jt>$t?ot=pt+jt:gt=at+$t;function qt(ar,sr,pr,Sr,xr,Zt,cr,dr){if(!(isNaN(pr)||isNaN(Sr)))if(ar.leaf){var gr=ar.x,Lr=ar.y;if(gr!=null)if(u(gr-pr)+u(Lr-Sr)<.01)er(ar,sr,pr,Sr,xr,Zt,cr,dr);else{var Rr=ar.point;ar.x=ar.y=ar.point=null,er(ar,Rr,gr,Lr,xr,Zt,cr,dr),er(ar,sr,pr,Sr,xr,Zt,cr,dr)}else ar.x=pr,ar.y=Sr,ar.point=sr}else er(ar,sr,pr,Sr,xr,Zt,cr,dr)}function er(ar,sr,pr,Sr,xr,Zt,cr,dr){var gr=(xr+cr)*.5,Lr=(Zt+dr)*.5,Rr=pr>=gr,zr=Sr>=Lr,Or=zr<<1|Rr;ar.leaf=!1,ar=ar.nodes[Or]||(ar.nodes[Or]=kn()),Rr?xr=gr:cr=gr,zr?Zt=Lr:dr=Lr,qt(ar,sr,pr,Sr,xr,Zt,cr,dr)}var ur=kn();if(ur.add=function(ar){qt(ur,ar,+Ve(ar,++Ke),+We(ar,Ke),at,pt,gt,ot)},ur.visit=function(ar){_a(ar,ur,at,pt,gt,ot)},ur.find=function(ar){return Ii(ur,ar[0],ar[1],at,pt,gt,ot)},Ke=-1,A==null){for(;++Ke<et;)qt(ur,De[Ke],lt[Ke],yt[Ke],at,pt,gt,ot);--Ke}else De.forEach(ur.add);return lt=yt=De=Re=null,ur}return xe.x=function(De){return arguments.length?(j=De,xe):j},xe.y=function(De){return arguments.length?(me=De,xe):me},xe.extent=function(De){return arguments.length?(De==null?A=R=U=W=null:(A=+De[0][0],R=+De[0][1],U=+De[1][0],W=+De[1][1]),xe):A==null?null:[[A,R],[U,W]]},xe.size=function(De){return arguments.length?(De==null?A=R=U=W=null:(A=R=0,U=+De[0],W=+De[1]),xe):A==null?null:[U-A,W-R]},xe};function Fi(a){return a.x}function zi(a){return a.y}function kn(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function _a(a,A,R,U,W,j){if(!a(A,R,U,W,j)){var me=(R+W)*.5,oe=(U+j)*.5,xe=A.nodes;xe[0]&&_a(a,xe[0],R,U,me,oe),xe[1]&&_a(a,xe[1],me,U,W,oe),xe[2]&&_a(a,xe[2],R,oe,me,j),xe[3]&&_a(a,xe[3],me,oe,W,j)}}function Ii(a,A,R,U,W,j,me){var oe=1/0,xe;return function De(Re,Ve,We,lt,yt){if(!(Ve>j||We>me||lt<U||yt<W)){if(Ke=Re.point){var Ke,et=A-Re.x,at=R-Re.y,pt=et*et+at*at;if(pt<oe){var gt=Math.sqrt(oe=pt);U=A-gt,W=R-gt,j=A+gt,me=R+gt,xe=Ke}}for(var ot=Re.nodes,Et=(Ve+lt)*.5,Kt=(We+yt)*.5,jt=A>=Et,$t=R>=Kt,qt=$t<<1|jt,er=qt+4;qt<er;++qt)if(Re=ot[qt&3])switch(qt&3){case 0:De(Re,Ve,We,Et,Kt);break;case 1:De(Re,Et,We,lt,Kt);break;case 2:De(Re,Ve,Kt,Et,yt);break;case 3:De(Re,Et,Kt,lt,yt);break}}}(a,U,W,j,me),xe}l.interpolateRgb=on;function on(a,A){a=l.rgb(a),A=l.rgb(A);var R=a.r,U=a.g,W=a.b,j=A.r-R,me=A.g-U,oe=A.b-W;return function(xe){return"#"+tt(Math.round(R+j*xe))+tt(Math.round(U+me*xe))+tt(Math.round(W+oe*xe))}}l.interpolateObject=Dn;function Dn(a,A){var R={},U={},W;for(W in a)W in A?R[W]=wa(a[W],A[W]):U[W]=a[W];for(W in A)W in a||(U[W]=A[W]);return function(j){for(W in R)U[W]=R[W](j);return U}}l.interpolateNumber=da;function da(a,A){return a=+a,A=+A,function(R){return a*(1-R)+A*R}}l.interpolateString=Pn;function Pn(a,A){var R=ln.lastIndex=sn.lastIndex=0,U,W,j,me=-1,oe=[],xe=[];for(a=a+"",A=A+"";(U=ln.exec(a))&&(W=sn.exec(A));)(j=W.index)>R&&(j=A.slice(R,j),oe[me]?oe[me]+=j:oe[++me]=j),(U=U[0])===(W=W[0])?oe[me]?oe[me]+=W:oe[++me]=W:(oe[++me]=null,xe.push({i:me,x:da(U,W)})),R=sn.lastIndex;return R<A.length&&(j=A.slice(R),oe[me]?oe[me]+=j:oe[++me]=j),oe.length<2?xe[0]?(A=xe[0].x,function(De){return A(De)+""}):function(){return A}:(A=xe.length,function(De){for(var Re=0,Ve;Re<A;++Re)oe[(Ve=xe[Re]).i]=Ve.x(De);return oe.join("")})}var ln=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sn=new RegExp(ln.source,"g");l.interpolate=wa;function wa(a,A){for(var R=l.interpolators.length,U;--R>=0&&!(U=l.interpolators[R](a,A)););return U}l.interpolators=[function(a,A){var R=typeof A;return(R==="string"?Rt.has(A.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(A)?on:Pn:A instanceof Dt?on:Array.isArray(A)?Wa:R==="object"&&isNaN(A)?Dn:da)(a,A)}],l.interpolateArray=Wa;function Wa(a,A){var R=[],U=[],W=a.length,j=A.length,me=Math.min(a.length,A.length),oe;for(oe=0;oe<me;++oe)R.push(wa(a[oe],A[oe]));for(;oe<W;++oe)U[oe]=a[oe];for(;oe<j;++oe)U[oe]=A[oe];return function(xe){for(oe=0;oe<me;++oe)U[oe]=R[oe](xe);return U}}var Rn=function(){return D},_i=l.map({linear:Rn,poly:Gi,quad:function(){return Bi},cubic:function(){return Yi},sin:function(){return Vi},exp:function(){return Wi},circle:function(){return Zi},elastic:Xi,back:Ji,bounce:function(){return Ki}}),Hi=l.map({in:D,out:En,"in-out":Nn,"out-in":function(a){return Nn(En(a))}});l.ease=function(a){var A=a.indexOf("-"),R=A>=0?a.slice(0,A):a,U=A>=0?a.slice(A+1):"in";return R=_i.get(R)||Rn,U=Hi.get(U)||D,Oi(U(R.apply(null,i.call(arguments,1))))};function Oi(a){return function(A){return A<=0?0:A>=1?1:a(A)}}function En(a){return function(A){return 1-a(1-A)}}function Nn(a){return function(A){return .5*(A<.5?a(2*A):2-a(2-2*A))}}function Bi(a){return a*a}function Yi(a){return a*a*a}function Ui(a){if(a<=0)return 0;if(a>=1)return 1;var A=a*a,R=A*a;return 4*(a<.5?R:3*(a-A)+R-.75)}function Gi(a){return function(A){return Math.pow(A,a)}}function Vi(a){return 1-Math.cos(a*Ie)}function Wi(a){return Math.pow(2,10*(a-1))}function Zi(a){return 1-Math.sqrt(1-a*a)}function Xi(a,A){var R;return arguments.length<2&&(A=.45),arguments.length?R=A/Me*Math.asin(1/a):(a=1,R=A/4),function(U){return 1+a*Math.pow(2,-10*U)*Math.sin((U-R)*Me/A)}}function Ji(a){return a||(a=1.70158),function(A){return A*A*((a+1)*A-a)}}function Ki(a){return a<.36363636363636365?7.5625*a*a:a<.7272727272727273?7.5625*(a-=.5454545454545454)*a+.75:a<.9090909090909091?7.5625*(a-=.8181818181818182)*a+.9375:7.5625*(a-=.9545454545454546)*a+.984375}l.interpolateHcl=Qi;function Qi(a,A){a=l.hcl(a),A=l.hcl(A);var R=a.h,U=a.c,W=a.l,j=A.h-R,me=A.c-U,oe=A.l-W;return isNaN(me)&&(me=0,U=isNaN(U)?A.c:U),isNaN(j)?(j=0,R=isNaN(R)?A.h:R):j>180?j-=360:j<-180&&(j+=360),function(xe){return Ot(R+j*xe,U+me*xe,W+oe*xe)+""}}l.interpolateHsl=$i;function $i(a,A){a=l.hsl(a),A=l.hsl(A);var R=a.h,U=a.s,W=a.l,j=A.h-R,me=A.s-U,oe=A.l-W;return isNaN(me)&&(me=0,U=isNaN(U)?A.s:U),isNaN(j)?(j=0,R=isNaN(R)?A.h:R):j>180?j-=360:j<-180&&(j+=360),function(xe){return Bt(R+j*xe,U+me*xe,W+oe*xe)+""}}l.interpolateLab=ji;function ji(a,A){a=l.lab(a),A=l.lab(A);var R=a.l,U=a.a,W=a.b,j=A.l-R,me=A.a-U,oe=A.b-W;return function(xe){return ee(R+j*xe,U+me*xe,W+oe*xe)+""}}l.interpolateRound=Fn;function Fn(a,A){return A-=a,function(R){return Math.round(a+A*R)}}l.transform=function(a){var A=f.createElementNS(l.ns.prefix.svg,"g");return(l.transform=function(R){if(R!=null){A.setAttribute("transform",R);var U=A.transform.baseVal.consolidate()}return new zn(U?U.matrix:eo)})(a)};function zn(a){var A=[a.a,a.b],R=[a.c,a.d],U=_n(A),W=In(A,R),j=_n(qi(R,A,-W))||0;A[0]*R[1]<R[0]*A[1]&&(A[0]*=-1,A[1]*=-1,U*=-1,W*=-1),this.rotate=(U?Math.atan2(A[1],A[0]):Math.atan2(-R[0],R[1]))*Je,this.translate=[a.e,a.f],this.scale=[U,j],this.skew=j?Math.atan2(W,j)*Je:0}zn.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function In(a,A){return a[0]*A[0]+a[1]*A[1]}function _n(a){var A=Math.sqrt(In(a,a));return A&&(a[0]/=A,a[1]/=A),A}function qi(a,A,R){return a[0]+=R*A[0],a[1]+=R*A[1],a}var eo={a:1,b:0,c:0,d:1,e:0,f:0};l.interpolateTransform=Hn;function Da(a){return a.length?a.pop()+",":""}function to(a,A,R,U){if(a[0]!==A[0]||a[1]!==A[1]){var W=R.push("translate(",null,",",null,")");U.push({i:W-4,x:da(a[0],A[0])},{i:W-2,x:da(a[1],A[1])})}else(A[0]||A[1])&&R.push("translate("+A+")")}function ro(a,A,R,U){a!==A?(a-A>180?A+=360:A-a>180&&(a+=360),U.push({i:R.push(Da(R)+"rotate(",null,")")-2,x:da(a,A)})):A&&R.push(Da(R)+"rotate("+A+")")}function ao(a,A,R,U){a!==A?U.push({i:R.push(Da(R)+"skewX(",null,")")-2,x:da(a,A)}):A&&R.push(Da(R)+"skewX("+A+")")}function no(a,A,R,U){if(a[0]!==A[0]||a[1]!==A[1]){var W=R.push(Da(R)+"scale(",null,",",null,")");U.push({i:W-4,x:da(a[0],A[0])},{i:W-2,x:da(a[1],A[1])})}else(A[0]!==1||A[1]!==1)&&R.push(Da(R)+"scale("+A+")")}function Hn(a,A){var R=[],U=[];return a=l.transform(a),A=l.transform(A),to(a.translate,A.translate,R,U),ro(a.rotate,A.rotate,R,U),ao(a.skew,A.skew,R,U),no(a.scale,A.scale,R,U),a=A=null,function(W){for(var j=-1,me=U.length,oe;++j<me;)R[(oe=U[j]).i]=oe.x(W);return R.join("")}}function io(a,A){return A=(A-=a=+a)||1/A,function(R){return(R-a)/A}}function oo(a,A){return A=(A-=a=+a)||1/A,function(R){return Math.max(0,Math.min(1,(R-a)/A))}}l.layout={},l.layout.bundle=function(){return function(a){for(var A=[],R=-1,U=a.length;++R<U;)A.push(lo(a[R]));return A}};function lo(a){for(var A=a.source,R=a.target,U=so(A,R),W=[A];A!==U;)A=A.parent,W.push(A);for(var j=W.length;R!==U;)W.splice(j,0,R),R=R.parent;return W}function On(a){for(var A=[],R=a.parent;R!=null;)A.push(a),a=R,R=R.parent;return A.push(a),A}function so(a,A){if(a===A)return a;for(var R=On(a),U=On(A),W=R.pop(),j=U.pop(),me=null;W===j;)me=W,W=R.pop(),j=U.pop();return me}l.layout.chord=function(){var a={},A,R,U,W,j=0,me,oe,xe;function De(){var Ve={},We=[],lt=l.range(W),yt=[],Ke,et,at,pt,gt;for(A=[],R=[],Ke=0,pt=-1;++pt<W;){for(et=0,gt=-1;++gt<W;)et+=U[pt][gt];We.push(et),yt.push(l.range(W)),Ke+=et}for(me&&lt.sort(function(ur,ar){return me(We[ur],We[ar])}),oe&&yt.forEach(function(ur,ar){ur.sort(function(sr,pr){return oe(U[ar][sr],U[ar][pr])})}),Ke=(Me-j*W)/Ke,et=0,pt=-1;++pt<W;){for(at=et,gt=-1;++gt<W;){var ot=lt[pt],Et=yt[ot][gt],Kt=U[ot][Et],jt=et,$t=et+=Kt*Ke;Ve[ot+"-"+Et]={index:ot,subindex:Et,startAngle:jt,endAngle:$t,value:Kt}}R[ot]={index:ot,startAngle:at,endAngle:et,value:We[ot]},et+=j}for(pt=-1;++pt<W;)for(gt=pt-1;++gt<W;){var qt=Ve[pt+"-"+gt],er=Ve[gt+"-"+pt];(qt.value||er.value)&&A.push(qt.value<er.value?{source:er,target:qt}:{source:qt,target:er})}xe&&Re()}function Re(){A.sort(function(Ve,We){return xe((Ve.source.value+Ve.target.value)/2,(We.source.value+We.target.value)/2)})}return a.matrix=function(Ve){return arguments.length?(W=(U=Ve)&&U.length,A=R=null,a):U},a.padding=function(Ve){return arguments.length?(j=Ve,A=R=null,a):j},a.sortGroups=function(Ve){return arguments.length?(me=Ve,A=R=null,a):me},a.sortSubgroups=function(Ve){return arguments.length?(oe=Ve,A=null,a):oe},a.sortChords=function(Ve){return arguments.length?(xe=Ve,A&&Re(),a):xe},a.chords=function(){return A||De(),A},a.groups=function(){return R||De(),R},a},l.layout.force=function(){var a={},A=l.dispatch("start","tick","end"),R,U=[1,1],W,j,me=.9,oe=ho,xe=mo,De=-30,Re=yo,Ve=.1,We=.64,lt=[],yt=[],Ke,et,at;function pt(ot){return function(Et,Kt,jt,$t){if(Et.point!==ot){var qt=Et.cx-ot.x,er=Et.cy-ot.y,ur=$t-Kt,ar=qt*qt+er*er;if(ur*ur/We<ar){if(ar<Re){var sr=Et.charge/ar;ot.px-=qt*sr,ot.py-=er*sr}return!0}if(Et.point&&ar&&ar<Re){var sr=Et.pointCharge/ar;ot.px-=qt*sr,ot.py-=er*sr}}return!Et.charge}}a.tick=function(){if((j*=.99)<.005)return R=null,A.end({type:"end",alpha:j=0}),!0;var ot=lt.length,Et=yt.length,Kt,jt,$t,qt,er,ur,ar,sr,pr;for(jt=0;jt<Et;++jt)$t=yt[jt],qt=$t.source,er=$t.target,sr=er.x-qt.x,pr=er.y-qt.y,(ur=sr*sr+pr*pr)&&(ur=j*et[jt]*((ur=Math.sqrt(ur))-Ke[jt])/ur,sr*=ur,pr*=ur,er.x-=sr*(ar=qt.weight+er.weight?qt.weight/(qt.weight+er.weight):.5),er.y-=pr*ar,qt.x+=sr*(ar=1-ar),qt.y+=pr*ar);if((ar=j*Ve)&&(sr=U[0]/2,pr=U[1]/2,jt=-1,ar))for(;++jt<ot;)$t=lt[jt],$t.x+=(sr-$t.x)*ar,$t.y+=(pr-$t.y)*ar;if(De)for(Bn(Kt=l.geom.quadtree(lt),j,at),jt=-1;++jt<ot;)($t=lt[jt]).fixed||Kt.visit(pt($t));for(jt=-1;++jt<ot;)$t=lt[jt],$t.fixed?($t.x=$t.px,$t.y=$t.py):($t.x-=($t.px-($t.px=$t.x))*me,$t.y-=($t.py-($t.py=$t.y))*me);A.tick({type:"tick",alpha:j})},a.nodes=function(ot){return arguments.length?(lt=ot,a):lt},a.links=function(ot){return arguments.length?(yt=ot,a):yt},a.size=function(ot){return arguments.length?(U=ot,a):U},a.linkDistance=function(ot){return arguments.length?(oe=typeof ot=="function"?ot:+ot,a):oe},a.distance=a.linkDistance,a.linkStrength=function(ot){return arguments.length?(xe=typeof ot=="function"?ot:+ot,a):xe},a.friction=function(ot){return arguments.length?(me=+ot,a):me},a.charge=function(ot){return arguments.length?(De=typeof ot=="function"?ot:+ot,a):De},a.chargeDistance=function(ot){return arguments.length?(Re=ot*ot,a):Math.sqrt(Re)},a.gravity=function(ot){return arguments.length?(Ve=+ot,a):Ve},a.theta=function(ot){return arguments.length?(We=ot*ot,a):Math.sqrt(We)},a.alpha=function(ot){return arguments.length?(ot=+ot,j?ot>0?j=ot:(R.c=null,R.t=NaN,R=null,A.end({type:"end",alpha:j=0})):ot>0&&(A.start({type:"start",alpha:j=ot}),R=ir(a.tick)),a):j},a.start=function(){var ot,Et=lt.length,Kt=yt.length,jt=U[0],$t=U[1],qt,er;for(ot=0;ot<Et;++ot)(er=lt[ot]).index=ot,er.weight=0;for(ot=0;ot<Kt;++ot)er=yt[ot],typeof er.source=="number"&&(er.source=lt[er.source]),typeof er.target=="number"&&(er.target=lt[er.target]),++er.source.weight,++er.target.weight;for(ot=0;ot<Et;++ot)er=lt[ot],isNaN(er.x)&&(er.x=ur("x",jt)),isNaN(er.y)&&(er.y=ur("y",$t)),isNaN(er.px)&&(er.px=er.x),isNaN(er.py)&&(er.py=er.y);if(Ke=[],typeof oe=="function")for(ot=0;ot<Kt;++ot)Ke[ot]=+oe.call(this,yt[ot],ot);else for(ot=0;ot<Kt;++ot)Ke[ot]=oe;if(et=[],typeof xe=="function")for(ot=0;ot<Kt;++ot)et[ot]=+xe.call(this,yt[ot],ot);else for(ot=0;ot<Kt;++ot)et[ot]=xe;if(at=[],typeof De=="function")for(ot=0;ot<Et;++ot)at[ot]=+De.call(this,lt[ot],ot);else for(ot=0;ot<Et;++ot)at[ot]=De;function ur(ar,sr){if(!qt){for(qt=new Array(Et),xr=0;xr<Et;++xr)qt[xr]=[];for(xr=0;xr<Kt;++xr){var pr=yt[xr];qt[pr.source.index].push(pr.target),qt[pr.target.index].push(pr.source)}}for(var Sr=qt[ot],xr=-1,Zt=Sr.length,cr;++xr<Zt;)if(!isNaN(cr=Sr[xr][ar]))return cr;return Math.random()*sr}return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){if(W||(W=l.behavior.drag().origin(D).on("dragstart.force",fo).on("drag.force",gt).on("dragend.force",uo)),!arguments.length)return W;this.on("mouseover.force",co).on("mouseout.force",vo).call(W)};function gt(ot){ot.px=l.event.x,ot.py=l.event.y,a.resume()}return l.rebind(a,A,"on")};function fo(a){a.fixed|=2}function uo(a){a.fixed&=-7}function co(a){a.fixed|=4,a.px=a.x,a.py=a.y}function vo(a){a.fixed&=-5}function Bn(a,A,R){var U=0,W=0;if(a.charge=0,!a.leaf)for(var j=a.nodes,me=j.length,oe=-1,xe;++oe<me;)xe=j[oe],xe!=null&&(Bn(xe,A,R),a.charge+=xe.charge,U+=xe.charge*xe.cx,W+=xe.charge*xe.cy);if(a.point){a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5);var De=A*R[a.point.index];a.charge+=a.pointCharge=De,U+=De*a.point.x,W+=De*a.point.y}a.cx=U/a.charge,a.cy=W/a.charge}var ho=20,mo=1,yo=1/0;l.layout.hierarchy=function(){var a=xo,A=po,R=go;function U(W){var j=[W],me=[],oe;for(W.depth=0;(oe=j.pop())!=null;)if(me.push(oe),(De=A.call(U,oe,oe.depth))&&(xe=De.length)){for(var xe,De,Re;--xe>=0;)j.push(Re=De[xe]),Re.parent=oe,Re.depth=oe.depth+1;R&&(oe.value=0),oe.children=De}else R&&(oe.value=+R.call(U,oe,oe.depth)||0),delete oe.children;return sa(W,function(Ve){var We,lt;a&&(We=Ve.children)&&We.sort(a),R&&(lt=Ve.parent)&&(lt.value+=Ve.value)}),me}return U.sort=function(W){return arguments.length?(a=W,U):a},U.children=function(W){return arguments.length?(A=W,U):A},U.value=function(W){return arguments.length?(R=W,U):R},U.revalue=function(W){return R&&(Oa(W,function(j){j.children&&(j.value=0)}),sa(W,function(j){var me;j.children||(j.value=+R.call(U,j,j.depth)||0),(me=j.parent)&&(me.value+=j.value)})),W},U};function Ha(a,A){return l.rebind(a,A,"sort","children","value"),a.nodes=a,a.links=bo,a}function Oa(a,A){for(var R=[a];(a=R.pop())!=null;)if(A(a),(W=a.children)&&(U=W.length))for(var U,W;--U>=0;)R.push(W[U])}function sa(a,A){for(var R=[a],U=[];(a=R.pop())!=null;)if(U.push(a),(me=a.children)&&(j=me.length))for(var W=-1,j,me;++W<j;)R.push(me[W]);for(;(a=U.pop())!=null;)A(a)}function po(a){return a.children}function go(a){return a.value}function xo(a,A){return A.value-a.value}function bo(a){return l.merge(a.map(function(A){return(A.children||[]).map(function(R){return{source:A,target:R}})}))}l.layout.partition=function(){var a=l.layout.hierarchy(),A=[1,1];function R(j,me,oe,xe){var De=j.children;if(j.x=me,j.y=j.depth*xe,j.dx=oe,j.dy=xe,De&&(Ve=De.length)){var Re=-1,Ve,We,lt;for(oe=j.value?oe/j.value:0;++Re<Ve;)R(We=De[Re],me,lt=We.value*oe,xe),me+=lt}}function U(j){var me=j.children,oe=0;if(me&&(De=me.length))for(var xe=-1,De;++xe<De;)oe=Math.max(oe,U(me[xe]));return 1+oe}function W(j,me){var oe=a.call(this,j,me);return R(oe[0],0,A[0],A[1]/U(oe[0])),oe}return W.size=function(j){return arguments.length?(A=j,W):A},Ha(W,a)},l.layout.pie=function(){var a=Number,A=Yn,R=0,U=Me,W=0;function j(me){var oe=me.length,xe=me.map(function(pt,gt){return+a.call(j,pt,gt)}),De=+(typeof R=="function"?R.apply(this,arguments):R),Re=(typeof U=="function"?U.apply(this,arguments):U)-De,Ve=Math.min(Math.abs(Re)/oe,+(typeof W=="function"?W.apply(this,arguments):W)),We=Ve*(Re<0?-1:1),lt=l.sum(xe),yt=lt?(Re-oe*We)/lt:0,Ke=l.range(oe),et=[],at;return A!=null&&Ke.sort(A===Yn?function(pt,gt){return xe[gt]-xe[pt]}:function(pt,gt){return A(me[pt],me[gt])}),Ke.forEach(function(pt){et[pt]={data:me[pt],value:at=xe[pt],startAngle:De,endAngle:De+=at*yt+We,padAngle:Ve}}),et}return j.value=function(me){return arguments.length?(a=me,j):a},j.sort=function(me){return arguments.length?(A=me,j):A},j.startAngle=function(me){return arguments.length?(R=me,j):R},j.endAngle=function(me){return arguments.length?(U=me,j):U},j.padAngle=function(me){return arguments.length?(W=me,j):W},j};var Yn={};l.layout.stack=function(){var a=D,A=fn,R=un,U=Ao,W=To,j=Mo;function me(oe,xe){if(!(yt=oe.length))return oe;var De=oe.map(function(pt,gt){return a.call(me,pt,gt)}),Re=De.map(function(pt){return pt.map(function(gt,ot){return[W.call(me,gt,ot),j.call(me,gt,ot)]})}),Ve=A.call(me,Re,xe);De=l.permute(De,Ve),Re=l.permute(Re,Ve);var We=R.call(me,Re,xe),lt=De[0].length,yt,Ke,et,at;for(et=0;et<lt;++et)for(U.call(me,De[0][et],at=We[et],Re[0][et][1]),Ke=1;Ke<yt;++Ke)U.call(me,De[Ke][et],at+=Re[Ke-1][et][1],Re[Ke][et][1]);return oe}return me.values=function(oe){return arguments.length?(a=oe,me):a},me.order=function(oe){return arguments.length?(A=typeof oe=="function"?oe:wo.get(oe)||fn,me):A},me.offset=function(oe){return arguments.length?(R=typeof oe=="function"?oe:Lo.get(oe)||un,me):R},me.x=function(oe){return arguments.length?(W=oe,me):W},me.y=function(oe){return arguments.length?(j=oe,me):j},me.out=function(oe){return arguments.length?(U=oe,me):U},me};function To(a){return a.x}function Mo(a){return a.y}function Ao(a,A,R){a.y0=A,a.y=R}var wo=l.map({"inside-out":function(a){var A=a.length,R,U,W=a.map(So),j=a.map(Co),me=l.range(A).sort(function(Ve,We){return W[Ve]-W[We]}),oe=0,xe=0,De=[],Re=[];for(R=0;R<A;++R)U=me[R],oe<xe?(oe+=j[U],De.push(U)):(xe+=j[U],Re.push(U));return Re.reverse().concat(De)},reverse:function(a){return l.range(a.length).reverse()},default:fn}),Lo=l.map({silhouette:function(a){var A=a.length,R=a[0].length,U=[],W=0,j,me,oe,xe=[];for(me=0;me<R;++me){for(j=0,oe=0;j<A;j++)oe+=a[j][me][1];oe>W&&(W=oe),U.push(oe)}for(me=0;me<R;++me)xe[me]=(W-U[me])/2;return xe},wiggle:function(a){var A=a.length,R=a[0],U=R.length,W,j,me,oe,xe,De,Re,Ve,We,lt=[];for(lt[0]=Ve=We=0,j=1;j<U;++j){for(W=0,oe=0;W<A;++W)oe+=a[W][j][1];for(W=0,xe=0,Re=R[j][0]-R[j-1][0];W<A;++W){for(me=0,De=(a[W][j][1]-a[W][j-1][1])/(2*Re);me<W;++me)De+=(a[me][j][1]-a[me][j-1][1])/Re;xe+=De*a[W][j][1]}lt[j]=Ve-=oe?xe/oe*Re:0,Ve<We&&(We=Ve)}for(j=0;j<U;++j)lt[j]-=We;return lt},expand:function(a){var A=a.length,R=a[0].length,U=1/A,W,j,me,oe=[];for(j=0;j<R;++j){for(W=0,me=0;W<A;W++)me+=a[W][j][1];if(me)for(W=0;W<A;W++)a[W][j][1]/=me;else for(W=0;W<A;W++)a[W][j][1]=U}for(j=0;j<R;++j)oe[j]=0;return oe},zero:un});function fn(a){return l.range(a.length)}function un(a){for(var A=-1,R=a[0].length,U=[];++A<R;)U[A]=0;return U}function So(a){for(var A=1,R=0,U=a[0][1],W,j=a.length;A<j;++A)(W=a[A][1])>U&&(R=A,U=W);return R}function Co(a){return a.reduce(ko,0)}function ko(a,A){return a+A[1]}l.layout.histogram=function(){var a=!0,A=Number,R=Po,U=Do;function W(j,We){for(var oe=[],xe=j.map(A,this),De=R.call(this,xe,We),Re=U.call(this,De,xe,We),Ve,We=-1,lt=xe.length,yt=Re.length-1,Ke=a?1:1/lt,et;++We<yt;)Ve=oe[We]=[],Ve.dx=Re[We+1]-(Ve.x=Re[We]),Ve.y=0;if(yt>0)for(We=-1;++We<lt;)et=xe[We],et>=De[0]&&et<=De[1]&&(Ve=oe[l.bisect(Re,et,1,yt)-1],Ve.y+=Ke,Ve.push(j[We]));return oe}return W.value=function(j){return arguments.length?(A=j,W):A},W.range=function(j){return arguments.length?(R=Mt(j),W):R},W.bins=function(j){return arguments.length?(U=typeof j=="number"?function(me){return Un(me,j)}:Mt(j),W):U},W.frequency=function(j){return arguments.length?(a=!!j,W):a},W};function Do(a,A){return Un(a,Math.ceil(Math.log(A.length)/Math.LN2+1))}function Un(a,A){for(var R=-1,U=+a[0],W=(a[1]-U)/A,j=[];++R<=A;)j[R]=W*R+U;return j}function Po(a){return[l.min(a),l.max(a)]}l.layout.pack=function(){var a=l.layout.hierarchy().sort(Ro),A=0,R=[1,1],U;function W(j,me){var oe=a.call(this,j,me),xe=oe[0],De=R[0],Re=R[1],Ve=U==null?Math.sqrt:typeof U=="function"?U:function(){return U};if(xe.x=xe.y=0,sa(xe,function(lt){lt.r=+Ve(lt.value)}),sa(xe,Wn),A){var We=A*(U?1:Math.max(2*xe.r/De,2*xe.r/Re))/2;sa(xe,function(lt){lt.r+=We}),sa(xe,Wn),sa(xe,function(lt){lt.r-=We})}return Zn(xe,De/2,Re/2,U?1:1/Math.max(2*xe.r/De,2*xe.r/Re)),oe}return W.size=function(j){return arguments.length?(R=j,W):R},W.radius=function(j){return arguments.length?(U=j==null||typeof j=="function"?j:+j,W):U},W.padding=function(j){return arguments.length?(A=+j,W):A},Ha(W,a)};function Ro(a,A){return a.value-A.value}function cn(a,A){var R=a._pack_next;a._pack_next=A,A._pack_prev=a,A._pack_next=R,R._pack_prev=A}function Gn(a,A){a._pack_next=A,A._pack_prev=a}function Vn(a,A){var R=A.x-a.x,U=A.y-a.y,W=a.r+A.r;return .999*W*W>R*R+U*U}function Wn(a){if(!(A=a.children)||!(We=A.length))return;var A,R=1/0,U=-1/0,W=1/0,j=-1/0,me,oe,xe,De,Re,Ve,We;function lt(ot){R=Math.min(ot.x-ot.r,R),U=Math.max(ot.x+ot.r,U),W=Math.min(ot.y-ot.r,W),j=Math.max(ot.y+ot.r,j)}if(A.forEach(Eo),me=A[0],me.x=-me.r,me.y=0,lt(me),We>1&&(oe=A[1],oe.x=oe.r,oe.y=0,lt(oe),We>2))for(xe=A[2],Xn(me,oe,xe),lt(xe),cn(me,xe),me._pack_prev=xe,cn(xe,oe),oe=me._pack_next,De=3;De<We;De++){Xn(me,oe,xe=A[De]);var yt=0,Ke=1,et=1;for(Re=oe._pack_next;Re!==oe;Re=Re._pack_next,Ke++)if(Vn(Re,xe)){yt=1;break}if(yt==1)for(Ve=me._pack_prev;Ve!==Re._pack_prev&&!Vn(Ve,xe);Ve=Ve._pack_prev,et++);yt?(Ke<et||Ke==et&&oe.r<me.r?Gn(me,oe=Re):Gn(me=Ve,oe),De--):(cn(me,xe),oe=xe,lt(xe))}var at=(R+U)/2,pt=(W+j)/2,gt=0;for(De=0;De<We;De++)xe=A[De],xe.x-=at,xe.y-=pt,gt=Math.max(gt,xe.r+Math.sqrt(xe.x*xe.x+xe.y*xe.y));a.r=gt,A.forEach(No)}function Eo(a){a._pack_next=a._pack_prev=a}function No(a){delete a._pack_next,delete a._pack_prev}function Zn(a,A,R,U){var W=a.children;if(a.x=A+=U*a.x,a.y=R+=U*a.y,a.r*=U,W)for(var j=-1,me=W.length;++j<me;)Zn(W[j],A,R,U)}function Xn(a,A,R){var U=a.r+R.r,W=A.x-a.x,j=A.y-a.y;if(U&&(W||j)){var me=A.r+R.r,oe=W*W+j*j;me*=me,U*=U;var xe=.5+(U-me)/(2*oe),De=Math.sqrt(Math.max(0,2*me*(U+oe)-(U-=oe)*U-me*me))/(2*oe);R.x=a.x+xe*W+De*j,R.y=a.y+xe*j-De*W}else R.x=a.x+U,R.y=a.y}l.layout.tree=function(){var a=l.layout.hierarchy().sort(null).value(null),A=Jn,R=[1,1],U=null;function W(Re,Ve){var We=a.call(this,Re,Ve),lt=We[0],yt=j(lt);if(sa(yt,me),yt.parent.m=-yt.z,Oa(yt,oe),U)Oa(lt,De);else{var Ke=lt,et=lt,at=lt;Oa(lt,function(Et){Et.x<Ke.x&&(Ke=Et),Et.x>et.x&&(et=Et),Et.depth>at.depth&&(at=Et)});var pt=A(Ke,et)/2-Ke.x,gt=R[0]/(et.x+A(et,Ke)/2+pt),ot=R[1]/(at.depth||1);Oa(lt,function(Et){Et.x=(Et.x+pt)*gt,Et.y=Et.depth*ot})}return We}function j(Re){for(var Ve={A:null,children:[Re]},We=[Ve],lt;(lt=We.pop())!=null;)for(var yt=lt.children,Ke,et=0,at=yt.length;et<at;++et)We.push((yt[et]=Ke={_:yt[et],parent:lt,children:(Ke=yt[et].children)&&Ke.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:et}).a=Ke);return Ve.children[0]}function me(Re){var Ve=Re.children,We=Re.parent.children,lt=Re.i?We[Re.i-1]:null;if(Ve.length){zo(Re);var yt=(Ve[0].z+Ve[Ve.length-1].z)/2;lt?(Re.z=lt.z+A(Re._,lt._),Re.m=Re.z-yt):Re.z=yt}else lt&&(Re.z=lt.z+A(Re._,lt._));Re.parent.A=xe(Re,lt,Re.parent.A||We[0])}function oe(Re){Re._.x=Re.z+Re.parent.m,Re.m+=Re.parent.m}function xe(Re,Ve,We){if(Ve){for(var lt=Re,yt=Re,Ke=Ve,et=lt.parent.children[0],at=lt.m,pt=yt.m,gt=Ke.m,ot=et.m,Et;Ke=dn(Ke),lt=vn(lt),Ke&&lt;)et=vn(et),yt=dn(yt),yt.a=Re,Et=Ke.z+gt-lt.z-at+A(Ke._,lt._),Et>0&&(Fo(Io(Ke,Re,We),Re,Et),at+=Et,pt+=Et),gt+=Ke.m,at+=lt.m,ot+=et.m,pt+=yt.m;Ke&&!dn(yt)&&(yt.t=Ke,yt.m+=gt-pt),lt&&!vn(et)&&(et.t=lt,et.m+=at-ot,We=Re)}return We}function De(Re){Re.x*=R[0],Re.y=Re.depth*R[1]}return W.separation=function(Re){return arguments.length?(A=Re,W):A},W.size=function(Re){return arguments.length?(U=(R=Re)==null?De:null,W):U?null:R},W.nodeSize=function(Re){return arguments.length?(U=(R=Re)==null?null:De,W):U?R:null},Ha(W,a)};function Jn(a,A){return a.parent==A.parent?1:2}function vn(a){var A=a.children;return A.length?A[0]:a.t}function dn(a){var A=a.children,R;return(R=A.length)?A[R-1]:a.t}function Fo(a,A,R){var U=R/(A.i-a.i);A.c-=U,A.s+=R,a.c+=U,A.z+=R,A.m+=R}function zo(a){for(var A=0,R=0,U=a.children,W=U.length,j;--W>=0;)j=U[W],j.z+=A,j.m+=A,A+=j.s+(R+=j.c)}function Io(a,A,R){return a.a.parent===A.parent?a.a:R}l.layout.cluster=function(){var a=l.layout.hierarchy().sort(null).value(null),A=Jn,R=[1,1],U=!1;function W(j,me){var oe=a.call(this,j,me),xe=oe[0],De,Re=0;sa(xe,function(Ke){var et=Ke.children;et&&et.length?(Ke.x=Ho(et),Ke.y=_o(et)):(Ke.x=De?Re+=A(Ke,De):0,Ke.y=0,De=Ke)});var Ve=Kn(xe),We=Qn(xe),lt=Ve.x-A(Ve,We)/2,yt=We.x+A(We,Ve)/2;return sa(xe,U?function(Ke){Ke.x=(Ke.x-xe.x)*R[0],Ke.y=(xe.y-Ke.y)*R[1]}:function(Ke){Ke.x=(Ke.x-lt)/(yt-lt)*R[0],Ke.y=(1-(xe.y?Ke.y/xe.y:1))*R[1]}),oe}return W.separation=function(j){return arguments.length?(A=j,W):A},W.size=function(j){return arguments.length?(U=(R=j)==null,W):U?null:R},W.nodeSize=function(j){return arguments.length?(U=(R=j)!=null,W):U?R:null},Ha(W,a)};function _o(a){return 1+l.max(a,function(A){return A.y})}function Ho(a){return a.reduce(function(A,R){return A+R.x},0)/a.length}function Kn(a){var A=a.children;return A&&A.length?Kn(A[0]):a}function Qn(a){var A=a.children,R;return A&&(R=A.length)?Qn(A[R-1]):a}l.layout.treemap=function(){var a=l.layout.hierarchy(),A=Math.round,R=[1,1],U=null,W=hn,j=!1,me,oe="squarify",xe=.5*(1+Math.sqrt(5));function De(Ke,et){for(var at=-1,pt=Ke.length,gt,ot;++at<pt;)ot=(gt=Ke[at]).value*(et<0?0:et),gt.area=isNaN(ot)||ot<=0?0:ot}function Re(Ke){var et=Ke.children;if(et&&et.length){var at=W(Ke),pt=[],gt=et.slice(),ot,Et=1/0,Kt,jt=oe==="slice"?at.dx:oe==="dice"?at.dy:oe==="slice-dice"?Ke.depth&1?at.dy:at.dx:Math.min(at.dx,at.dy),$t;for(De(gt,at.dx*at.dy/Ke.value),pt.area=0;($t=gt.length)>0;)pt.push(ot=gt[$t-1]),pt.area+=ot.area,oe!=="squarify"||(Kt=We(pt,jt))<=Et?(gt.pop(),Et=Kt):(pt.area-=pt.pop().area,lt(pt,jt,at,!1),jt=Math.min(at.dx,at.dy),pt.length=pt.area=0,Et=1/0);pt.length&&(lt(pt,jt,at,!0),pt.length=pt.area=0),et.forEach(Re)}}function Ve(Ke){var et=Ke.children;if(et&&et.length){var at=W(Ke),pt=et.slice(),gt,ot=[];for(De(pt,at.dx*at.dy/Ke.value),ot.area=0;gt=pt.pop();)ot.push(gt),ot.area+=gt.area,gt.z!=null&&(lt(ot,gt.z?at.dx:at.dy,at,!pt.length),ot.length=ot.area=0);et.forEach(Ve)}}function We(Ke,et){for(var at=Ke.area,pt,gt=0,ot=1/0,Et=-1,Kt=Ke.length;++Et<Kt;)(pt=Ke[Et].area)&&(pt<ot&&(ot=pt),pt>gt&&(gt=pt));return at*=at,et*=et,at?Math.max(et*gt*xe/at,at/(et*ot*xe)):1/0}function lt(Ke,et,at,pt){var gt=-1,ot=Ke.length,Et=at.x,Kt=at.y,jt=et?A(Ke.area/et):0,$t;if(et==at.dx){for((pt||jt>at.dy)&&(jt=at.dy);++gt<ot;)$t=Ke[gt],$t.x=Et,$t.y=Kt,$t.dy=jt,Et+=$t.dx=Math.min(at.x+at.dx-Et,jt?A($t.area/jt):0);$t.z=!0,$t.dx+=at.x+at.dx-Et,at.y+=jt,at.dy-=jt}else{for((pt||jt>at.dx)&&(jt=at.dx);++gt<ot;)$t=Ke[gt],$t.x=Et,$t.y=Kt,$t.dx=jt,Kt+=$t.dy=Math.min(at.y+at.dy-Kt,jt?A($t.area/jt):0);$t.z=!1,$t.dy+=at.y+at.dy-Kt,at.x+=jt,at.dx-=jt}}function yt(Ke){var et=me||a(Ke),at=et[0];return at.x=at.y=0,at.value?(at.dx=R[0],at.dy=R[1]):at.dx=at.dy=0,me&&a.revalue(at),De([at],at.dx*at.dy/at.value),(me?Ve:Re)(at),j&&(me=et),et}return yt.size=function(Ke){return arguments.length?(R=Ke,yt):R},yt.padding=function(Ke){if(!arguments.length)return U;function et(gt){var ot=Ke.call(yt,gt,gt.depth);return ot==null?hn(gt):$n(gt,typeof ot=="number"?[ot,ot,ot,ot]:ot)}function at(gt){return $n(gt,Ke)}var pt;return W=(U=Ke)==null?hn:(pt=typeof Ke)=="function"?et:(pt==="number"&&(Ke=[Ke,Ke,Ke,Ke]),at),yt},yt.round=function(Ke){return arguments.length?(A=Ke?Math.round:Number,yt):A!=Number},yt.sticky=function(Ke){return arguments.length?(j=Ke,me=null,yt):j},yt.ratio=function(Ke){return arguments.length?(xe=Ke,yt):xe},yt.mode=function(Ke){return arguments.length?(oe=Ke+"",yt):oe},Ha(yt,a)};function hn(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function $n(a,A){var R=a.x+A[3],U=a.y+A[0],W=a.dx-A[1]-A[3],j=a.dy-A[0]-A[2];return W<0&&(R+=W/2,W=0),j<0&&(U+=j/2,j=0),{x:R,y:U,dx:W,dy:j}}l.random={normal:function(a,A){var R=arguments.length;return R<2&&(A=1),R<1&&(a=0),function(){var U,W,j;do U=Math.random()*2-1,W=Math.random()*2-1,j=U*U+W*W;while(!j||j>1);return a+A*U*Math.sqrt(-2*Math.log(j)/j)}},logNormal:function(){var a=l.random.normal.apply(l,arguments);return function(){return Math.exp(a())}},bates:function(a){var A=l.random.irwinHall(a);return function(){return A()/a}},irwinHall:function(a){return function(){for(var A=0,R=0;R<a;R++)A+=Math.random();return A}}},l.scale={};function Za(a){var A=a[0],R=a[a.length-1];return A<R?[A,R]:[R,A]}function Xa(a){return a.rangeExtent?a.rangeExtent():Za(a.range())}function Oo(a,A,R,U){var W=R(a[0],a[1]),j=U(A[0],A[1]);return function(me){return j(W(me))}}function mn(a,A){var R=0,U=a.length-1,W=a[R],j=a[U],me;return j<W&&(me=R,R=U,U=me,me=W,W=j,j=me),a[R]=A.floor(W),a[U]=A.ceil(j),a}function jn(a){return a?{floor:function(A){return Math.floor(A/a)*a},ceil:function(A){return Math.ceil(A/a)*a}}:Bo}var Bo={floor:D,ceil:D};function Yo(a,A,R,U){var W=[],j=[],me=0,oe=Math.min(a.length,A.length)-1;for(a[oe]<a[0]&&(a=a.slice().reverse(),A=A.slice().reverse());++me<=oe;)W.push(R(a[me-1],a[me])),j.push(U(A[me-1],A[me]));return function(xe){var De=l.bisect(a,xe,1,oe)-1;return j[De](W[De](xe))}}l.scale.linear=function(){return qn([0,1],[0,1],wa,!1)};function qn(a,A,R,U){var W,j;function me(){var xe=Math.min(a.length,A.length)>2?Yo:Oo,De=U?oo:io;return W=xe(a,A,De,R),j=xe(A,a,De,wa),oe}function oe(xe){return W(xe)}return oe.invert=function(xe){return j(xe)},oe.domain=function(xe){return arguments.length?(a=xe.map(Number),me()):a},oe.range=function(xe){return arguments.length?(A=xe,me()):A},oe.rangeRound=function(xe){return oe.range(xe).interpolate(Fn)},oe.clamp=function(xe){return arguments.length?(U=xe,me()):U},oe.interpolate=function(xe){return arguments.length?(R=xe,me()):R},oe.ticks=function(xe){return pn(a,xe)},oe.tickFormat=function(xe,De){return d3_scale_linearTickFormat(a,xe,De)},oe.nice=function(xe){return ti(a,xe),me()},oe.copy=function(){return qn(a,A,R,U)},me()}function ei(a,A){return l.rebind(a,A,"range","rangeRound","interpolate","clamp")}function ti(a,A){return mn(a,jn(yn(a,A)[2])),mn(a,jn(yn(a,A)[2])),a}function yn(a,A){A==null&&(A=10);var R=Za(a),U=R[1]-R[0],W=Math.pow(10,Math.floor(Math.log(U/A)/Math.LN10)),j=A/U*W;return j<=.15?W*=10:j<=.35?W*=5:j<=.75&&(W*=2),R[0]=Math.ceil(R[0]/W)*W,R[1]=Math.floor(R[1]/W)*W+W*.5,R[2]=W,R}function pn(a,A){return l.range.apply(l,yn(a,A))}l.scale.log=function(){return ri(l.scale.linear().domain([0,1]),10,!0,[1,10])};function ri(a,A,R,U){function W(oe){return(R?Math.log(oe<0?0:oe):-Math.log(oe>0?0:-oe))/Math.log(A)}function j(oe){return R?Math.pow(A,oe):-Math.pow(A,-oe)}function me(oe){return a(W(oe))}return me.invert=function(oe){return j(a.invert(oe))},me.domain=function(oe){return arguments.length?(R=oe[0]>=0,a.domain((U=oe.map(Number)).map(W)),me):U},me.base=function(oe){return arguments.length?(A=+oe,a.domain(U.map(W)),me):A},me.nice=function(){var oe=mn(U.map(W),R?Math:Uo);return a.domain(oe),U=oe.map(j),me},me.ticks=function(){var oe=Za(U),xe=[],De=oe[0],Re=oe[1],Ve=Math.floor(W(De)),We=Math.ceil(W(Re)),lt=A%1?2:A;if(isFinite(We-Ve)){if(R){for(;Ve<We;Ve++)for(var yt=1;yt<lt;yt++)xe.push(j(Ve)*yt);xe.push(j(Ve))}else for(xe.push(j(Ve));Ve++<We;)for(var yt=lt-1;yt>0;yt--)xe.push(j(Ve)*yt);for(Ve=0;xe[Ve]<De;Ve++);for(We=xe.length;xe[We-1]>Re;We--);xe=xe.slice(Ve,We)}return xe},me.copy=function(){return ri(a.copy(),A,R,U)},ei(me,a)}var Uo={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};l.scale.pow=function(){return ai(l.scale.linear(),1,[0,1])};function ai(a,A,R){var U=Ja(A),W=Ja(1/A);function j(me){return a(U(me))}return j.invert=function(me){return W(a.invert(me))},j.domain=function(me){return arguments.length?(a.domain((R=me.map(Number)).map(U)),j):R},j.ticks=function(me){return pn(R,me)},j.tickFormat=function(me,oe){return d3_scale_linearTickFormat(R,me,oe)},j.nice=function(me){return j.domain(ti(R,me))},j.exponent=function(me){return arguments.length?(U=Ja(A=me),W=Ja(1/A),a.domain(R.map(U)),j):A},j.copy=function(){return ai(a.copy(),A,R)},ei(j,a)}function Ja(a){return function(A){return A<0?-Math.pow(-A,a):Math.pow(A,a)}}l.scale.sqrt=function(){return l.scale.pow().exponent(.5)},l.scale.ordinal=function(){return ni([],{t:"range",a:[[]]})};function ni(a,A){var R,U,W;function j(oe){return U[((R.get(oe)||(A.t==="range"?R.set(oe,a.push(oe)):NaN))-1)%U.length]}function me(oe,xe){return l.range(a.length).map(function(De){return oe+xe*De})}return j.domain=function(oe){if(!arguments.length)return a;a=[],R=new B;for(var xe=-1,De=oe.length,Re;++xe<De;)R.has(Re=oe[xe])||R.set(Re,a.push(Re));return j[A.t].apply(j,A.a)},j.range=function(oe){return arguments.length?(U=oe,W=0,A={t:"range",a:arguments},j):U},j.rangePoints=function(oe,xe){arguments.length<2&&(xe=0);var De=oe[0],Re=oe[1],Ve=a.length<2?(De=(De+Re)/2,0):(Re-De)/(a.length-1+xe);return U=me(De+Ve*xe/2,Ve),W=0,A={t:"rangePoints",a:arguments},j},j.rangeRoundPoints=function(oe,xe){arguments.length<2&&(xe=0);var De=oe[0],Re=oe[1],Ve=a.length<2?(De=Re=Math.round((De+Re)/2),0):(Re-De)/(a.length-1+xe)|0;return U=me(De+Math.round(Ve*xe/2+(Re-De-(a.length-1+xe)*Ve)/2),Ve),W=0,A={t:"rangeRoundPoints",a:arguments},j},j.rangeBands=function(oe,xe,De){arguments.length<2&&(xe=0),arguments.length<3&&(De=xe);var Re=oe[1]<oe[0],Ve=oe[Re-0],We=oe[1-Re],lt=(We-Ve)/(a.length-xe+2*De);return U=me(Ve+lt*De,lt),Re&&U.reverse(),W=lt*(1-xe),A={t:"rangeBands",a:arguments},j},j.rangeRoundBands=function(oe,xe,De){arguments.length<2&&(xe=0),arguments.length<3&&(De=xe);var Re=oe[1]<oe[0],Ve=oe[Re-0],We=oe[1-Re],lt=Math.floor((We-Ve)/(a.length-xe+2*De));return U=me(Ve+Math.round((We-Ve-(a.length-xe)*lt)/2),lt),Re&&U.reverse(),W=Math.round(lt*(1-xe)),A={t:"rangeRoundBands",a:arguments},j},j.rangeBand=function(){return W},j.rangeExtent=function(){return Za(A.a[0])},j.copy=function(){return ni(a,A)},j.domain(a)}l.scale.category10=function(){return l.scale.ordinal().range(Go)},l.scale.category20=function(){return l.scale.ordinal().range(Vo)},l.scale.category20b=function(){return l.scale.ordinal().range(Wo)},l.scale.category20c=function(){return l.scale.ordinal().range(Zo)};var Go=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Ye),Vo=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Ye),Wo=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Ye),Zo=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Ye);l.scale.quantile=function(){return ii([],[])};function ii(a,A){var R;function U(){var j=0,me=A.length;for(R=[];++j<me;)R[j-1]=l.quantile(a,j/me);return W}function W(j){if(!isNaN(j=+j))return A[l.bisect(R,j)]}return W.domain=function(j){return arguments.length?(a=j.map(T).filter(g).sort(h),U()):a},W.range=function(j){return arguments.length?(A=j,U()):A},W.quantiles=function(){return R},W.invertExtent=function(j){return j=A.indexOf(j),j<0?[NaN,NaN]:[j>0?R[j-1]:a[0],j<R.length?R[j]:a[a.length-1]]},W.copy=function(){return ii(a,A)},U()}l.scale.quantize=function(){return oi(0,1,[0,1])};function oi(a,A,R){var U,W;function j(oe){return R[Math.max(0,Math.min(W,Math.floor(U*(oe-a))))]}function me(){return U=R.length/(A-a),W=R.length-1,j}return j.domain=function(oe){return arguments.length?(a=+oe[0],A=+oe[oe.length-1],me()):[a,A]},j.range=function(oe){return arguments.length?(R=oe,me()):R},j.invertExtent=function(oe){return oe=R.indexOf(oe),oe=oe<0?NaN:oe/U+a,[oe,oe+1/U]},j.copy=function(){return oi(a,A,R)},me()}l.scale.threshold=function(){return li([.5],[0,1])};function li(a,A){function R(U){if(U<=U)return A[l.bisect(a,U)]}return R.domain=function(U){return arguments.length?(a=U,R):a},R.range=function(U){return arguments.length?(A=U,R):A},R.invertExtent=function(U){return U=A.indexOf(U),[a[U-1],a[U]]},R.copy=function(){return li(a,A)},R}l.scale.identity=function(){return si([0,1])};function si(a){function A(R){return+R}return A.invert=A,A.domain=A.range=function(R){return arguments.length?(a=R.map(A),A):a},A.ticks=function(R){return pn(a,R)},A.tickFormat=function(R,U){return d3_scale_linearTickFormat(a,R,U)},A.copy=function(){return si(a)},A}l.svg={};function Xo(){return 0}l.svg.arc=function(){var a=Jo,A=Ko,R=Xo,U=Ka,W=fi,j=ui,me=Qo;function oe(){var De=Math.max(0,+a.apply(this,arguments)),Re=Math.max(0,+A.apply(this,arguments)),Ve=W.apply(this,arguments)-Ie,We=j.apply(this,arguments)-Ie,lt=Math.abs(We-Ve),yt=Ve>We?0:1;if(Re<De&&(Ke=Re,Re=De,De=Ke),lt>=Ge)return xe(Re,yt)+(De?xe(De,1-yt):"")+"Z";var Ke,et,at,pt,gt=0,ot=0,Et,Kt,jt,$t,qt,er,ur,ar,sr=[];if((pt=(+me.apply(this,arguments)||0)/2)&&(at=U===Ka?Math.sqrt(De*De+Re*Re):+U.apply(this,arguments),yt||(ot*=-1),Re&&(ot=Oe(at/Re*Math.sin(pt))),De&&(gt=Oe(at/De*Math.sin(pt)))),Re){Et=Re*Math.cos(Ve+ot),Kt=Re*Math.sin(Ve+ot),jt=Re*Math.cos(We-ot),$t=Re*Math.sin(We-ot);var pr=Math.abs(We-Ve-2*ot)<=pe?0:1;if(ot&&Qa(Et,Kt,jt,$t)===yt^pr){var Sr=(Ve+We)/2;Et=Re*Math.cos(Sr),Kt=Re*Math.sin(Sr),jt=$t=null}}else Et=Kt=0;if(De){qt=De*Math.cos(We-gt),er=De*Math.sin(We-gt),ur=De*Math.cos(Ve+gt),ar=De*Math.sin(Ve+gt);var xr=Math.abs(Ve-We+2*gt)<=pe?0:1;if(gt&&Qa(qt,er,ur,ar)===1-yt^xr){var Zt=(Ve+We)/2;qt=De*Math.cos(Zt),er=De*Math.sin(Zt),ur=ar=null}}else qt=er=0;if(lt>$&&(Ke=Math.min(Math.abs(Re-De)/2,+R.apply(this,arguments)))>.001){et=De<Re^yt?0:1;var cr=Ke,dr=Ke;if(lt<pe){var gr=ur==null?[qt,er]:jt==null?[Et,Kt]:Ar([Et,Kt],[ur,ar],[jt,$t],[qt,er]),Lr=Et-gr[0],Rr=Kt-gr[1],zr=jt-gr[0],Or=$t-gr[1],Yr=1/Math.sin(Math.acos((Lr*zr+Rr*Or)/(Math.sqrt(Lr*Lr+Rr*Rr)*Math.sqrt(zr*zr+Or*Or)))/2),Br=Math.sqrt(gr[0]*gr[0]+gr[1]*gr[1]);dr=Math.min(Ke,(De-Br)/(Yr-1)),cr=Math.min(Ke,(Re-Br)/(Yr+1))}if(jt!=null){var Wr=$a(ur==null?[qt,er]:[ur,ar],[Et,Kt],Re,cr,yt),Hr=$a([jt,$t],[qt,er],Re,cr,yt);Ke===cr?sr.push("M",Wr[0],"A",cr,",",cr," 0 0,",et," ",Wr[1],"A",Re,",",Re," 0 ",1-yt^Qa(Wr[1][0],Wr[1][1],Hr[1][0],Hr[1][1]),",",yt," ",Hr[1],"A",cr,",",cr," 0 0,",et," ",Hr[0]):sr.push("M",Wr[0],"A",cr,",",cr," 0 1,",et," ",Hr[0])}else sr.push("M",Et,",",Kt);if(ur!=null){var Zr=$a([Et,Kt],[ur,ar],De,-dr,yt),Sa=$a([qt,er],jt==null?[Et,Kt]:[jt,$t],De,-dr,yt);Ke===dr?sr.push("L",Sa[0],"A",dr,",",dr," 0 0,",et," ",Sa[1],"A",De,",",De," 0 ",yt^Qa(Sa[1][0],Sa[1][1],Zr[1][0],Zr[1][1]),",",1-yt," ",Zr[1],"A",dr,",",dr," 0 0,",et," ",Zr[0]):sr.push("L",Sa[0],"A",dr,",",dr," 0 0,",et," ",Zr[0])}else sr.push("L",qt,",",er)}else sr.push("M",Et,",",Kt),jt!=null&&sr.push("A",Re,",",Re," 0 ",pr,",",yt," ",jt,",",$t),sr.push("L",qt,",",er),ur!=null&&sr.push("A",De,",",De," 0 ",xr,",",1-yt," ",ur,",",ar);return sr.push("Z"),sr.join("")}function xe(De,Re){return"M0,"+De+"A"+De+","+De+" 0 1,"+Re+" 0,"+-De+"A"+De+","+De+" 0 1,"+Re+" 0,"+De}return oe.innerRadius=function(De){return arguments.length?(a=Mt(De),oe):a},oe.outerRadius=function(De){return arguments.length?(A=Mt(De),oe):A},oe.cornerRadius=function(De){return arguments.length?(R=Mt(De),oe):R},oe.padRadius=function(De){return arguments.length?(U=De==Ka?Ka:Mt(De),oe):U},oe.startAngle=function(De){return arguments.length?(W=Mt(De),oe):W},oe.endAngle=function(De){return arguments.length?(j=Mt(De),oe):j},oe.padAngle=function(De){return arguments.length?(me=Mt(De),oe):me},oe.centroid=function(){var De=(+a.apply(this,arguments)+ +A.apply(this,arguments))/2,Re=(+W.apply(this,arguments)+ +j.apply(this,arguments))/2-Ie;return[Math.cos(Re)*De,Math.sin(Re)*De]},oe};var Ka="auto";function Jo(a){return a.innerRadius}function Ko(a){return a.outerRadius}function fi(a){return a.startAngle}function ui(a){return a.endAngle}function Qo(a){return a&&a.padAngle}function Qa(a,A,R,U){return(a-R)*A-(A-U)*a>0?0:1}function $a(a,A,R,U,W){var j=a[0]-A[0],me=a[1]-A[1],oe=(W?U:-U)/Math.sqrt(j*j+me*me),xe=oe*me,De=-oe*j,Re=a[0]+xe,Ve=a[1]+De,We=A[0]+xe,lt=A[1]+De,yt=(Re+We)/2,Ke=(Ve+lt)/2,et=We-Re,at=lt-Ve,pt=et*et+at*at,gt=R-U,ot=Re*lt-We*Ve,Et=(at<0?-1:1)*Math.sqrt(Math.max(0,gt*gt*pt-ot*ot)),Kt=(ot*at-et*Et)/pt,jt=(-ot*et-at*Et)/pt,$t=(ot*at+et*Et)/pt,qt=(-ot*et+at*Et)/pt,er=Kt-yt,ur=jt-Ke,ar=$t-yt,sr=qt-Ke;return er*er+ur*ur>ar*ar+sr*sr&&(Kt=$t,jt=qt),[[Kt-xe,jt-De],[Kt*R/gt,jt*R/gt]]}function ci(){return!0}function vi(a){var A=br,R=wr,U=ci,W=na,j=W.key,me=.7;function oe(xe){var De=[],Re=[],Ve=-1,We=xe.length,lt,yt=Mt(A),Ke=Mt(R);function et(){De.push("M",W(a(Re),me))}for(;++Ve<We;)U.call(this,lt=xe[Ve],Ve)?Re.push([+yt.call(this,lt,Ve),+Ke.call(this,lt,Ve)]):Re.length&&(et(),Re=[]);return Re.length&&et(),De.length?De.join(""):null}return oe.x=function(xe){return arguments.length?(A=xe,oe):A},oe.y=function(xe){return arguments.length?(R=xe,oe):R},oe.defined=function(xe){return arguments.length?(U=xe,oe):U},oe.interpolate=function(xe){return arguments.length?(typeof xe=="function"?j=W=xe:j=(W=gn.get(xe)||na).key,oe):j},oe.tension=function(xe){return arguments.length?(me=xe,oe):me},oe}l.svg.line=function(){return vi(D)};var gn=l.map({linear:na,"linear-closed":di,step:$o,"step-before":xn,"step-after":bn,basis:hi,"basis-open":tl,"basis-closed":rl,bundle:al,cardinal:el,"cardinal-open":jo,"cardinal-closed":qo,monotone:ol});gn.forEach(function(a,A){A.key=a,A.closed=/-closed$/.test(a)});function na(a){return a.length>1?a.join("L"):a+"Z"}function di(a){return a.join("L")+"Z"}function $o(a){for(var A=0,R=a.length,U=a[0],W=[U[0],",",U[1]];++A<R;)W.push("H",(U[0]+(U=a[A])[0])/2,"V",U[1]);return R>1&&W.push("H",U[0]),W.join("")}function xn(a){for(var A=0,R=a.length,U=a[0],W=[U[0],",",U[1]];++A<R;)W.push("V",(U=a[A])[1],"H",U[0]);return W.join("")}function bn(a){for(var A=0,R=a.length,U=a[0],W=[U[0],",",U[1]];++A<R;)W.push("H",(U=a[A])[0],"V",U[1]);return W.join("")}function jo(a,A){return a.length<4?na(a):a[1]+ja(a.slice(1,-1),Tn(a,A))}function qo(a,A){return a.length<3?di(a):a[0]+ja((a.push(a[0]),a),Tn([a[a.length-2]].concat(a,[a[1]]),A))}function el(a,A){return a.length<3?na(a):a[0]+ja(a,Tn(a,A))}function ja(a,A){if(A.length<1||a.length!=A.length&&a.length!=A.length+2)return na(a);var R=a.length!=A.length,U="",W=a[0],j=a[1],me=A[0],oe=me,xe=1;if(R&&(U+="Q"+(j[0]-me[0]*2/3)+","+(j[1]-me[1]*2/3)+","+j[0]+","+j[1],W=a[1],xe=2),A.length>1){oe=A[1],j=a[xe],xe++,U+="C"+(W[0]+me[0])+","+(W[1]+me[1])+","+(j[0]-oe[0])+","+(j[1]-oe[1])+","+j[0]+","+j[1];for(var De=2;De<A.length;De++,xe++)j=a[xe],oe=A[De],U+="S"+(j[0]-oe[0])+","+(j[1]-oe[1])+","+j[0]+","+j[1]}if(R){var Re=a[xe];U+="Q"+(j[0]+oe[0]*2/3)+","+(j[1]+oe[1]*2/3)+","+Re[0]+","+Re[1]}return U}function Tn(a,A){for(var R=[],U=(1-A)/2,W,j=a[0],me=a[1],oe=1,xe=a.length;++oe<xe;)W=j,j=me,me=a[oe],R.push([U*(me[0]-W[0]),U*(me[1]-W[1])]);return R}function hi(a){if(a.length<3)return na(a);var A=1,R=a.length,U=a[0],W=U[0],j=U[1],me=[W,W,W,(U=a[1])[0]],oe=[j,j,j,U[1]],xe=[W,",",j,"L",ea(xa,me),",",ea(xa,oe)];for(a.push(a[R-1]);++A<=R;)U=a[A],me.shift(),me.push(U[0]),oe.shift(),oe.push(U[1]),Mn(xe,me,oe);return a.pop(),xe.push("L",U),xe.join("")}function tl(a){if(a.length<4)return na(a);for(var A=[],R=-1,U=a.length,W,j=[0],me=[0];++R<3;)W=a[R],j.push(W[0]),me.push(W[1]);for(A.push(ea(xa,j)+","+ea(xa,me)),--R;++R<U;)W=a[R],j.shift(),j.push(W[0]),me.shift(),me.push(W[1]),Mn(A,j,me);return A.join("")}function rl(a){for(var A,R=-1,U=a.length,W=U+4,j,me=[],oe=[];++R<4;)j=a[R%U],me.push(j[0]),oe.push(j[1]);for(A=[ea(xa,me),",",ea(xa,oe)],--R;++R<W;)j=a[R%U],me.shift(),me.push(j[0]),oe.shift(),oe.push(j[1]),Mn(A,me,oe);return A.join("")}function al(a,A){var R=a.length-1;if(R)for(var U=a[0][0],W=a[0][1],j=a[R][0]-U,me=a[R][1]-W,oe=-1,xe,De;++oe<=R;)xe=a[oe],De=oe/R,xe[0]=A*xe[0]+(1-A)*(U+De*j),xe[1]=A*xe[1]+(1-A)*(W+De*me);return hi(a)}function ea(a,A){return a[0]*A[0]+a[1]*A[1]+a[2]*A[2]+a[3]*A[3]}var mi=[0,2/3,1/3,0],yi=[0,1/3,2/3,0],xa=[0,1/6,2/3,1/6];function Mn(a,A,R){a.push("C",ea(mi,A),",",ea(mi,R),",",ea(yi,A),",",ea(yi,R),",",ea(xa,A),",",ea(xa,R))}function An(a,A){return(A[1]-a[1])/(A[0]-a[0])}function nl(a){for(var A=0,R=a.length-1,U=[],W=a[0],j=a[1],me=U[0]=An(W,j);++A<R;)U[A]=(me+(me=An(W=j,j=a[A+1])))/2;return U[A]=me,U}function il(a){for(var A=[],R,U,W,j,me=nl(a),oe=-1,xe=a.length-1;++oe<xe;)R=An(a[oe],a[oe+1]),u(R)<$?me[oe]=me[oe+1]=0:(U=me[oe]/R,W=me[oe+1]/R,j=U*U+W*W,j>9&&(j=R*3/Math.sqrt(j),me[oe]=j*U,me[oe+1]=j*W));for(oe=-1;++oe<=xe;)j=(a[Math.min(xe,oe+1)][0]-a[Math.max(0,oe-1)][0])/(6*(1+me[oe]*me[oe])),A.push([j||0,me[oe]*j||0]);return A}function ol(a){return a.length<3?na(a):a[0]+ja(a,il(a))}l.svg.line.radial=function(){var a=vi(pi);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a};function pi(a){for(var A,R=-1,U=a.length,W,j;++R<U;)A=a[R],W=A[0],j=A[1]-Ie,A[0]=W*Math.cos(j),A[1]=W*Math.sin(j);return a}function gi(a){var A=br,R=br,U=0,W=wr,j=ci,me=na,oe=me.key,xe=me,De="L",Re=.7;function Ve(We){var lt=[],yt=[],Ke=[],et=-1,at=We.length,pt,gt=Mt(A),ot=Mt(U),Et=A===R?function(){return jt}:Mt(R),Kt=U===W?function(){return $t}:Mt(W),jt,$t;function qt(){lt.push("M",me(a(Ke),Re),De,xe(a(yt.reverse()),Re),"Z")}for(;++et<at;)j.call(this,pt=We[et],et)?(yt.push([jt=+gt.call(this,pt,et),$t=+ot.call(this,pt,et)]),Ke.push([+Et.call(this,pt,et),+Kt.call(this,pt,et)])):yt.length&&(qt(),yt=[],Ke=[]);return yt.length&&qt(),lt.length?lt.join(""):null}return Ve.x=function(We){return arguments.length?(A=R=We,Ve):R},Ve.x0=function(We){return arguments.length?(A=We,Ve):A},Ve.x1=function(We){return arguments.length?(R=We,Ve):R},Ve.y=function(We){return arguments.length?(U=W=We,Ve):W},Ve.y0=function(We){return arguments.length?(U=We,Ve):U},Ve.y1=function(We){return arguments.length?(W=We,Ve):W},Ve.defined=function(We){return arguments.length?(j=We,Ve):j},Ve.interpolate=function(We){return arguments.length?(typeof We=="function"?oe=me=We:oe=(me=gn.get(We)||na).key,xe=me.reverse||me,De=me.closed?"M":"L",Ve):oe},Ve.tension=function(We){return arguments.length?(Re=We,Ve):Re},Ve}xn.reverse=bn,bn.reverse=xn,l.svg.area=function(){return gi(D)},l.svg.area.radial=function(){var a=gi(pi);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a};function xi(a){return a.source}function bi(a){return a.target}l.svg.chord=function(){var a=xi,A=bi,R=ll,U=fi,W=ui;function j(Re,Ve){var We=me(this,a,Re,Ve),lt=me(this,A,Re,Ve);return"M"+We.p0+xe(We.r,We.p1,We.a1-We.a0)+(oe(We,lt)?De(We.r,We.p1,We.r,We.p0):De(We.r,We.p1,lt.r,lt.p0)+xe(lt.r,lt.p1,lt.a1-lt.a0)+De(lt.r,lt.p1,We.r,We.p0))+"Z"}function me(Re,Ve,We,lt){var yt=Ve.call(Re,We,lt),Ke=R.call(Re,yt,lt),et=U.call(Re,yt,lt)-Ie,at=W.call(Re,yt,lt)-Ie;return{r:Ke,a0:et,a1:at,p0:[Ke*Math.cos(et),Ke*Math.sin(et)],p1:[Ke*Math.cos(at),Ke*Math.sin(at)]}}function oe(Re,Ve){return Re.a0==Ve.a0&&Re.a1==Ve.a1}function xe(Re,Ve,We){return"A"+Re+","+Re+" 0 "+ +(We>pe)+",1 "+Ve}function De(Re,Ve,We,lt){return"Q 0,0 "+lt}return j.radius=function(Re){return arguments.length?(R=Mt(Re),j):R},j.source=function(Re){return arguments.length?(a=Mt(Re),j):a},j.target=function(Re){return arguments.length?(A=Mt(Re),j):A},j.startAngle=function(Re){return arguments.length?(U=Mt(Re),j):U},j.endAngle=function(Re){return arguments.length?(W=Mt(Re),j):W},j};function ll(a){return a.radius}l.svg.diagonal=function(){var a=xi,A=bi,R=Ti;function U(W,j){var me=a.call(this,W,j),oe=A.call(this,W,j),xe=(me.y+oe.y)/2,De=[me,{x:me.x,y:xe},{x:oe.x,y:xe},oe];return De=De.map(R),"M"+De[0]+"C"+De[1]+" "+De[2]+" "+De[3]}return U.source=function(W){return arguments.length?(a=Mt(W),U):a},U.target=function(W){return arguments.length?(A=Mt(W),U):A},U.projection=function(W){return arguments.length?(R=W,U):R},U};function Ti(a){return[a.x,a.y]}l.svg.diagonal.radial=function(){var a=l.svg.diagonal(),A=Ti,R=a.projection;return a.projection=function(U){return arguments.length?R(sl(A=U)):A},a};function sl(a){return function(){var A=a.apply(this,arguments),R=A[0],U=A[1]-Ie;return[R*Math.cos(U),R*Math.sin(U)]}}l.svg.symbol=function(){var a=ul,A=fl;function R(U,W){return(Ai.get(a.call(this,U,W))||Mi)(A.call(this,U,W))}return R.type=function(U){return arguments.length?(a=Mt(U),R):a},R.size=function(U){return arguments.length?(A=Mt(U),R):A},R};function fl(){return 64}function ul(){return"circle"}function Mi(a){var A=Math.sqrt(a/pe);return"M0,"+A+"A"+A+","+A+" 0 1,1 0,"+-A+"A"+A+","+A+" 0 1,1 0,"+A+"Z"}var Ai=l.map({circle:Mi,cross:function(a){var A=Math.sqrt(a/5)/2;return"M"+-3*A+","+-A+"H"+-A+"V"+-3*A+"H"+A+"V"+-A+"H"+3*A+"V"+A+"H"+A+"V"+3*A+"H"+-A+"V"+A+"H"+-3*A+"Z"},diamond:function(a){var A=Math.sqrt(a/(2*wi)),R=A*wi;return"M0,"+-A+"L"+R+",0 0,"+A+" "+-R+",0Z"},square:function(a){var A=Math.sqrt(a)/2;return"M"+-A+","+-A+"L"+A+","+-A+" "+A+","+A+" "+-A+","+A+"Z"},"triangle-down":function(a){var A=Math.sqrt(a/qa),R=A*qa/2;return"M0,"+R+"L"+A+","+-R+" "+-A+","+-R+"Z"},"triangle-up":function(a){var A=Math.sqrt(a/qa),R=A*qa/2;return"M0,"+-R+"L"+A+","+R+" "+-A+","+R+"Z"}});l.svg.symbolTypes=Ai.keys();var qa=Math.sqrt(3),wi=Math.tan(30*_e);F.transition=function(a){for(var A=La||++Si,R=Ln(a),U=[],W,j,me=tn||{time:Date.now(),ease:Ui,delay:0,duration:250},oe=-1,xe=this.length;++oe<xe;){U.push(W=[]);for(var De=this[oe],Re=-1,Ve=De.length;++Re<Ve;)(j=De[Re])&&rn(j,Re,R,A,me),W.push(j)}return Ba(U,R,A)},F.interrupt=function(a){return this.each(a==null?en:Li(Ln(a)))};var en=Li(Ln());function Li(a){return function(){var A,R,U;(A=this[a])&&(U=A[R=A.active])&&(U.timer.c=null,U.timer.t=NaN,--A.count?delete A[R]:delete this[a],A.active+=.5,U.event&&U.event.interrupt.call(this,this.__data__,U.index))}}function Ba(a,A,R){return S(a,Pr),a.namespace=A,a.id=R,a}var Pr=[],Si=0,La,tn;Pr.call=F.call,Pr.empty=F.empty,Pr.node=F.node,Pr.size=F.size,l.transition=function(a,A){return a&&a.transition?La?a.transition(A):a:l.selection().transition(a)},l.transition.prototype=Pr,Pr.select=function(a){var A=this.id,R=this.namespace,U=[],W,j,me;a=J(a);for(var oe=-1,xe=this.length;++oe<xe;){U.push(W=[]);for(var De=this[oe],Re=-1,Ve=De.length;++Re<Ve;)(me=De[Re])&&(j=a.call(me,me.__data__,Re,oe))?("__data__"in me&&(j.__data__=me.__data__),rn(j,Re,R,A,me[R][A]),W.push(j)):W.push(null)}return Ba(U,R,A)},Pr.selectAll=function(a){var A=this.id,R=this.namespace,U=[],W,j,me,oe,xe;a=E(a);for(var De=-1,Re=this.length;++De<Re;)for(var Ve=this[De],We=-1,lt=Ve.length;++We<lt;)if(me=Ve[We]){xe=me[R][A],j=a.call(me,me.__data__,We,De),U.push(W=[]);for(var yt=-1,Ke=j.length;++yt<Ke;)(oe=j[yt])&&rn(oe,yt,R,A,xe),W.push(oe)}return Ba(U,R,A)},Pr.filter=function(a){var A=[],R,U,W;typeof a!="function"&&(a=$e(a));for(var j=0,me=this.length;j<me;j++){A.push(R=[]);for(var U=this[j],oe=0,xe=U.length;oe<xe;oe++)(W=U[oe])&&a.call(W,W.__data__,oe,j)&&R.push(W)}return Ba(A,this.namespace,this.id)},Pr.tween=function(a,A){var R=this.id,U=this.namespace;return arguments.length<2?this.node()[U][R].tween.get(a):He(this,A==null?function(W){W[U][R].tween.remove(a)}:function(W){W[U][R].tween.set(a,A)})};function wn(a,A,R,U){var W=a.id,j=a.namespace;return He(a,typeof R=="function"?function(me,oe,xe){me[j][W].tween.set(A,U(R.call(me,me.__data__,oe,xe)))}:(R=U(R),function(me){me[j][W].tween.set(A,R)}))}Pr.attr=function(a,A){if(arguments.length<2){for(A in a)this.attr(A,a[A]);return this}var R=a=="transform"?Hn:wa,U=l.ns.qualify(a);function W(){this.removeAttribute(U)}function j(){this.removeAttributeNS(U.space,U.local)}function me(xe){return xe==null?W:(xe+="",function(){var De=this.getAttribute(U),Re;return De!==xe&&(Re=R(De,xe),function(Ve){this.setAttribute(U,Re(Ve))})})}function oe(xe){return xe==null?j:(xe+="",function(){var De=this.getAttributeNS(U.space,U.local),Re;return De!==xe&&(Re=R(De,xe),function(Ve){this.setAttributeNS(U.space,U.local,Re(Ve))})})}return wn(this,"attr."+a,A,U.local?oe:me)},Pr.attrTween=function(a,A){var R=l.ns.qualify(a);function U(j,me){var oe=A.call(this,j,me,this.getAttribute(R));return oe&&function(xe){this.setAttribute(R,oe(xe))}}function W(j,me){var oe=A.call(this,j,me,this.getAttributeNS(R.space,R.local));return oe&&function(xe){this.setAttributeNS(R.space,R.local,oe(xe))}}return this.tween("attr."+a,R.local?W:U)},Pr.style=function(a,A,R){var U=arguments.length;if(U<3){if(typeof a!="string"){U<2&&(A="");for(R in a)this.style(R,a[R],A);return this}R=""}function W(){this.style.removeProperty(a)}function j(me){return me==null?W:(me+="",function(){var oe=n(this).getComputedStyle(this,null).getPropertyValue(a),xe;return oe!==me&&(xe=wa(oe,me),function(De){this.style.setProperty(a,xe(De),R)})})}return wn(this,"style."+a,A,j)},Pr.styleTween=function(a,A,R){arguments.length<3&&(R="");function U(W,j){var me=A.call(this,W,j,n(this).getComputedStyle(this,null).getPropertyValue(a));return me&&function(oe){this.style.setProperty(a,me(oe),R)}}return this.tween("style."+a,U)},Pr.text=function(a){return wn(this,"text",a,cl)};function cl(a){return a==null&&(a=""),function(){this.textContent=a}}Pr.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var A;this[a].count<2&&(A=this.parentNode)&&A.removeChild(this)})},Pr.ease=function(a){var A=this.id,R=this.namespace;return arguments.length<1?this.node()[R][A].ease:(typeof a!="function"&&(a=l.ease.apply(l,arguments)),He(this,function(U){U[R][A].ease=a}))},Pr.delay=function(a){var A=this.id,R=this.namespace;return arguments.length<1?this.node()[R][A].delay:He(this,typeof a=="function"?function(U,W,j){U[R][A].delay=+a.call(U,U.__data__,W,j)}:(a=+a,function(U){U[R][A].delay=a}))},Pr.duration=function(a){var A=this.id,R=this.namespace;return arguments.length<1?this.node()[R][A].duration:He(this,typeof a=="function"?function(U,W,j){U[R][A].duration=Math.max(1,a.call(U,U.__data__,W,j))}:(a=Math.max(1,a),function(U){U[R][A].duration=a}))},Pr.each=function(a,A){var R=this.id,U=this.namespace;if(arguments.length<2){var W=tn,j=La;try{La=R,He(this,function(me,oe,xe){tn=me[U][R],a.call(me,me.__data__,oe,xe)})}finally{tn=W,La=j}}else He(this,function(me){var oe=me[U][R];(oe.event||(oe.event=l.dispatch("start","end","interrupt"))).on(a,A)});return this},Pr.transition=function(){for(var a=this.id,A=++Si,R=this.namespace,U=[],W,j,me,oe,xe=0,De=this.length;xe<De;xe++){U.push(W=[]);for(var j=this[xe],Re=0,Ve=j.length;Re<Ve;Re++)(me=j[Re])&&(oe=me[R][a],rn(me,Re,R,A,{time:oe.time,ease:oe.ease,delay:oe.delay+oe.duration,duration:oe.duration})),W.push(me)}return Ba(U,R,A)};function Ln(a){return a==null?"__transition__":"__transition_"+a+"__"}function rn(a,A,R,U,W){var j=a[R]||(a[R]={active:0,count:0}),me=j[U],oe,xe,De,Re,Ve;function We(Ke){var et=me.delay;if(xe.t=et+oe,et<=Ke)return lt(Ke-et);xe.c=lt}function lt(Ke){var et=j.active,at=j[et];at&&(at.timer.c=null,at.timer.t=NaN,--j.count,delete j[et],at.event&&at.event.interrupt.call(a,a.__data__,at.index));for(var pt in j)if(+pt<U){var gt=j[pt];gt.timer.c=null,gt.timer.t=NaN,--j.count,delete j[pt]}xe.c=yt,ir(function(){return xe.c&&yt(Ke||1)&&(xe.c=null,xe.t=NaN),1},0,oe),j.active=U,me.event&&me.event.start.call(a,a.__data__,A),Ve=[],me.tween.forEach(function(ot,Et){(Et=Et.call(a,a.__data__,A))&&Ve.push(Et)}),Re=me.ease,De=me.duration}function yt(Ke){for(var et=Ke/De,at=Re(et),pt=Ve.length;pt>0;)Ve[--pt].call(a,at);if(et>=1)return me.event&&me.event.end.call(a,a.__data__,A),--j.count?delete j[U]:delete a[R],1}me||(oe=W.time,xe=ir(We,0,oe),me=j[U]={tween:new B,time:oe,timer:xe,delay:W.delay,duration:W.duration,ease:W.ease,index:A},W=null,++j.count)}l.svg.axis=function(){var a=l.scale.linear(),A=Ci,R=6,U=6,W=3,j=[10],me=null,oe;function xe(De){De.each(function(){var Re=l.select(this),Ve=this.__chart__||a,We=this.__chart__=a.copy(),lt=me??(We.ticks?We.ticks.apply(We,j):We.domain()),yt=oe??(We.tickFormat?We.tickFormat.apply(We,j):D),Ke=Re.selectAll(".tick").data(lt,We),et=Ke.enter().insert("g",".domain").attr("class","tick").style("opacity",$),at=l.transition(Ke.exit()).style("opacity",$).remove(),pt=l.transition(Ke.order()).style("opacity",1),gt=Math.max(R,0)+W,ot,Et=Xa(We),Kt=Re.selectAll(".domain").data([0]),jt=(Kt.enter().append("path").attr("class","domain"),l.transition(Kt));et.append("line"),et.append("text");var $t=et.select("line"),qt=pt.select("line"),er=Ke.select("text").text(yt),ur=et.select("text"),ar=pt.select("text"),sr=A==="top"||A==="left"?-1:1,pr,Sr,xr,Zt;if(A==="bottom"||A==="top"?(ot=dl,pr="x",xr="y",Sr="x2",Zt="y2",er.attr("dy",sr<0?"0em":".71em").style("text-anchor","middle"),jt.attr("d","M"+Et[0]+","+sr*U+"V0H"+Et[1]+"V"+sr*U)):(ot=hl,pr="y",xr="x",Sr="y2",Zt="x2",er.attr("dy",".32em").style("text-anchor",sr<0?"end":"start"),jt.attr("d","M"+sr*U+","+Et[0]+"H0V"+Et[1]+"H"+sr*U)),$t.attr(Zt,sr*R),ur.attr(xr,sr*gt),qt.attr(Sr,0).attr(Zt,sr*R),ar.attr(pr,0).attr(xr,sr*gt),We.rangeBand){var cr=We,dr=cr.rangeBand()/2;Ve=We=function(gr){return cr(gr)+dr}}else Ve.rangeBand?Ve=We:at.call(ot,We,Ve);et.call(ot,Ve,We),pt.call(ot,We,We)})}return xe.scale=function(De){return arguments.length?(a=De,xe):a},xe.orient=function(De){return arguments.length?(A=De in vl?De+"":Ci,xe):A},xe.ticks=function(){return arguments.length?(j=r(arguments),xe):j},xe.tickValues=function(De){return arguments.length?(me=De,xe):me},xe.tickFormat=function(De){return arguments.length?(oe=De,xe):oe},xe.tickSize=function(De){var Re=arguments.length;return Re?(R=+De,U=+arguments[Re-1],xe):R},xe.innerTickSize=function(De){return arguments.length?(R=+De,xe):R},xe.outerTickSize=function(De){return arguments.length?(U=+De,xe):U},xe.tickPadding=function(De){return arguments.length?(W=+De,xe):W},xe.tickSubdivide=function(){return arguments.length&&xe},xe};var Ci="bottom",vl={top:1,right:1,bottom:1,left:1};function dl(a,A,R){a.attr("transform",function(U){var W=A(U);return"translate("+(isFinite(W)?W:R(U))+",0)"})}function hl(a,A,R){a.attr("transform",function(U){var W=A(U);return"translate(0,"+(isFinite(W)?W:R(U))+")"})}l.svg.brush=function(){var a=ce(Re,"brushstart","brush","brushend"),A=null,R=null,U=[0,0],W=[0,0],j,me,oe=!0,xe=!0,De=Sn[0];function Re(Ke){Ke.each(function(){var et=l.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",yt).on("touchstart.brush",yt),at=et.selectAll(".background").data([0]);at.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),et.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var pt=et.selectAll(".resize").data(De,D);pt.exit().remove(),pt.enter().append("g").attr("class",function(Kt){return"resize "+Kt}).style("cursor",function(Kt){return ml[Kt]}).append("rect").attr("x",function(Kt){return/[ew]$/.test(Kt)?-3:null}).attr("y",function(Kt){return/^[ns]/.test(Kt)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),pt.style("display",Re.empty()?"none":null);var gt=l.transition(et),ot=l.transition(at),Et;A&&(Et=Xa(A),ot.attr("x",Et[0]).attr("width",Et[1]-Et[0]),We(gt)),R&&(Et=Xa(R),ot.attr("y",Et[0]).attr("height",Et[1]-Et[0]),lt(gt)),Ve(gt)})}Re.event=function(Ke){Ke.each(function(){var et=a.of(this,arguments),at={x:U,y:W,i:j,j:me},pt=this.__chart__||at;this.__chart__=at,La?l.select(this).transition().each("start.brush",function(){j=pt.i,me=pt.j,U=pt.x,W=pt.y,et({type:"brushstart"})}).tween("brush:brush",function(){var gt=Wa(U,at.x),ot=Wa(W,at.y);return j=me=null,function(Et){U=at.x=gt(Et),W=at.y=ot(Et),et({type:"brush",mode:"resize"})}}).each("end.brush",function(){j=at.i,me=at.j,et({type:"brush",mode:"resize"}),et({type:"brushend"})}):(et({type:"brushstart"}),et({type:"brush",mode:"resize"}),et({type:"brushend"}))})};function Ve(Ke){Ke.selectAll(".resize").attr("transform",function(et){return"translate("+U[+/e$/.test(et)]+","+W[+/^s/.test(et)]+")"})}function We(Ke){Ke.select(".extent").attr("x",U[0]),Ke.selectAll(".extent,.n>rect,.s>rect").attr("width",U[1]-U[0])}function lt(Ke){Ke.select(".extent").attr("y",W[0]),Ke.selectAll(".extent,.e>rect,.w>rect").attr("height",W[1]-W[0])}function yt(){var Ke=this,et=l.select(l.event.target),at=a.of(Ke,arguments),pt=l.select(Ke),gt=et.datum(),ot=!/^(n|s)$/.test(gt)&&A,Et=!/^(e|w)$/.test(gt)&&R,Kt=et.classed("extent"),jt=kt(Ke),$t,qt=l.mouse(Ke),er,ur=l.select(n(Ke)).on("keydown.brush",pr).on("keyup.brush",Sr);if(l.event.changedTouches?ur.on("touchmove.brush",xr).on("touchend.brush",cr):ur.on("mousemove.brush",xr).on("mouseup.brush",cr),pt.interrupt().selectAll("*").interrupt(),Kt)qt[0]=U[0]-qt[0],qt[1]=W[0]-qt[1];else if(gt){var ar=+/w$/.test(gt),sr=+/^n/.test(gt);er=[U[1-ar]-qt[0],W[1-sr]-qt[1]],qt[0]=U[ar],qt[1]=W[sr]}else l.event.altKey&&($t=qt.slice());pt.style("pointer-events","none").selectAll(".resize").style("display",null),l.select("body").style("cursor",et.style("cursor")),at({type:"brushstart"}),xr();function pr(){l.event.keyCode==32&&(Kt||($t=null,qt[0]-=U[1],qt[1]-=W[1],Kt=2),ye())}function Sr(){l.event.keyCode==32&&Kt==2&&(qt[0]+=U[1],qt[1]+=W[1],Kt=0,ye())}function xr(){var dr=l.mouse(Ke),gr=!1;er&&(dr[0]+=er[0],dr[1]+=er[1]),Kt||(l.event.altKey?($t||($t=[(U[0]+U[1])/2,(W[0]+W[1])/2]),qt[0]=U[+(dr[0]<$t[0])],qt[1]=W[+(dr[1]<$t[1])]):$t=null),ot&&Zt(dr,A,0)&&(We(pt),gr=!0),Et&&Zt(dr,R,1)&&(lt(pt),gr=!0),gr&&(Ve(pt),at({type:"brush",mode:Kt?"move":"resize"}))}function Zt(dr,gr,Lr){var Rr=Xa(gr),zr=Rr[0],Or=Rr[1],Yr=qt[Lr],Br=Lr?W:U,Wr=Br[1]-Br[0],Hr,Zr;if(Kt&&(zr-=Yr,Or-=Wr+Yr),Hr=(Lr?xe:oe)?Math.max(zr,Math.min(Or,dr[Lr])):dr[Lr],Kt?Zr=(Hr+=Yr)+Wr:($t&&(Yr=Math.max(zr,Math.min(Or,2*$t[Lr]-Hr))),Yr<Hr?(Zr=Hr,Hr=Yr):Zr=Yr),Br[0]!=Hr||Br[1]!=Zr)return Lr?me=null:j=null,Br[0]=Hr,Br[1]=Zr,!0}function cr(){xr(),pt.style("pointer-events","all").selectAll(".resize").style("display",Re.empty()?"none":null),l.select("body").style("cursor",null),ur.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),jt(),at({type:"brushend"})}}return Re.x=function(Ke){return arguments.length?(A=Ke,De=Sn[!A<<1|!R],Re):A},Re.y=function(Ke){return arguments.length?(R=Ke,De=Sn[!A<<1|!R],Re):R},Re.clamp=function(Ke){return arguments.length?(A&&R?(oe=!!Ke[0],xe=!!Ke[1]):A?oe=!!Ke:R&&(xe=!!Ke),Re):A&&R?[oe,xe]:A?oe:R?xe:null},Re.extent=function(Ke){var et,at,pt,gt,ot;return arguments.length?(A&&(et=Ke[0],at=Ke[1],R&&(et=et[0],at=at[0]),j=[et,at],A.invert&&(et=A(et),at=A(at)),at<et&&(ot=et,et=at,at=ot),(et!=U[0]||at!=U[1])&&(U=[et,at])),R&&(pt=Ke[0],gt=Ke[1],A&&(pt=pt[1],gt=gt[1]),me=[pt,gt],R.invert&&(pt=R(pt),gt=R(gt)),gt<pt&&(ot=pt,pt=gt,gt=ot),(pt!=W[0]||gt!=W[1])&&(W=[pt,gt])),Re):(A&&(j?(et=j[0],at=j[1]):(et=U[0],at=U[1],A.invert&&(et=A.invert(et),at=A.invert(at)),at<et&&(ot=et,et=at,at=ot))),R&&(me?(pt=me[0],gt=me[1]):(pt=W[0],gt=W[1],R.invert&&(pt=R.invert(pt),gt=R.invert(gt)),gt<pt&&(ot=pt,pt=gt,gt=ot))),A&&R?[[et,pt],[at,gt]]:A?[et,at]:R&&[pt,gt])},Re.clear=function(){return Re.empty()||(U=[0,0],W=[0,0],j=me=null),Re},Re.empty=function(){return!!A&&U[0]==U[1]||!!R&&W[0]==W[1]},l.rebind(Re,a,"on")};var ml={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Sn=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];l.text=Yt(function(a){return a.responseText}),l.json=function(a,A){return Jt(a,"application/json",yl,A)};function yl(a){return JSON.parse(a.responseText)}l.html=function(a,A){return Jt(a,"text/html",pl,A)};function pl(a){var A=f.createRange();return A.selectNode(f.body),A.createContextualFragment(a.responseText)}l.xml=Yt(function(a){return a.responseXML}),o=l,x=typeof o=="function"?o.call(H,e,H,re):o,x!==void 0&&(re.exports=x)}).apply(self)},721:function(re,H,e){e.d(H,{WU:function(){return c},FF:function(){return M}});function o(b){return Math.abs(b=Math.round(b))>=1e21?b.toLocaleString("en").replace(/,/g,""):b.toString(10)}function x(b,w){if((B=(b=w?b.toExponential(w-1):b.toExponential()).indexOf("e"))<0)return null;var B,C=b.slice(0,B);return[C.length>1?C[0]+C.slice(2):C,+b.slice(B+1)]}function l(b){return b=x(Math.abs(b)),b?b[1]:NaN}function i(b,w){return function(B,C){for(var I=B.length,O=[],L=0,X=b[0],Z=0;I>0&&X>0&&(Z+X+1>C&&(X=Math.max(1,C-Z)),O.push(B.substring(I-=X,I+X)),!((Z+=X+1)>C));)X=b[L=(L+1)%b.length];return O.reverse().join(w)}}function r(b){return function(w){return w.replace(/[0-9]/g,function(B){return b[+B]})}}var f=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function s(b){if(!(w=f.exec(b)))throw new Error("invalid format: "+b);var w;return new n({fill:w[1],align:w[2],sign:w[3],symbol:w[4],zero:w[5],width:w[6],comma:w[7],precision:w[8]&&w[8].slice(1),trim:w[9],type:w[10]})}s.prototype=n.prototype;function n(b){this.fill=b.fill===void 0?" ":b.fill+"",this.align=b.align===void 0?">":b.align+"",this.sign=b.sign===void 0?"-":b.sign+"",this.symbol=b.symbol===void 0?"":b.symbol+"",this.zero=!!b.zero,this.width=b.width===void 0?void 0:+b.width,this.comma=!!b.comma,this.precision=b.precision===void 0?void 0:+b.precision,this.trim=!!b.trim,this.type=b.type===void 0?"":b.type+""}n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t(b){e:for(var w=b.length,B=1,C=-1,I;B<w;++B)switch(b[B]){case".":C=I=B;break;case"0":C===0&&(C=B),I=B;break;default:if(!+b[B])break e;C>0&&(C=0);break}return C>0?b.slice(0,C)+b.slice(I+1):b}var d;function p(b,w){var B=x(b,w);if(!B)return b+"";var C=B[0],I=B[1],O=I-(d=Math.max(-8,Math.min(8,Math.floor(I/3)))*3)+1,L=C.length;return O===L?C:O>L?C+new Array(O-L+1).join("0"):O>0?C.slice(0,O)+"."+C.slice(O):"0."+new Array(1-O).join("0")+x(b,Math.max(0,w+O-1))[0]}function m(b,w){var B=x(b,w);if(!B)return b+"";var C=B[0],I=B[1];return I<0?"0."+new Array(-I).join("0")+C:C.length>I+1?C.slice(0,I+1)+"."+C.slice(I+1):C+new Array(I-C.length+2).join("0")}var y={"%":function(b,w){return(b*100).toFixed(w)},b:function(b){return Math.round(b).toString(2)},c:function(b){return b+""},d:o,e:function(b,w){return b.toExponential(w)},f:function(b,w){return b.toFixed(w)},g:function(b,w){return b.toPrecision(w)},o:function(b){return Math.round(b).toString(8)},p:function(b,w){return m(b*100,w)},r:m,s:p,X:function(b){return Math.round(b).toString(16).toUpperCase()},x:function(b){return Math.round(b).toString(16)}};function h(b){return b}var T=Array.prototype.map,g=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function M(b){var w=b.grouping===void 0||b.thousands===void 0?h:i(T.call(b.grouping,Number),b.thousands+""),B=b.currency===void 0?"":b.currency[0]+"",C=b.currency===void 0?"":b.currency[1]+"",I=b.decimal===void 0?".":b.decimal+"",O=b.numerals===void 0?h:r(T.call(b.numerals,String)),L=b.percent===void 0?"%":b.percent+"",X=b.minus===void 0?"-":b.minus+"",Z=b.nan===void 0?"NaN":b.nan+"";function te(ae){ae=s(ae);var N=ae.fill,D=ae.align,_=ae.sign,V=ae.symbol,G=ae.zero,Q=ae.width,ue=ae.comma,le=ae.precision,ye=ae.trim,Se=ae.type;Se==="n"?(ue=!0,Se="g"):y[Se]||(le===void 0&&(le=12),ye=!0,Se="g"),(G||N==="0"&&D==="=")&&(G=!0,N="0",D="=");var ce=V==="$"?B:V==="#"&&/[boxX]/.test(Se)?"0"+Se.toLowerCase():"",de=V==="$"?C:/[%p]/.test(Se)?L:"",S=y[Se],P=/[defgprs%]/.test(Se);le=le===void 0?6:/[gprs]/.test(Se)?Math.max(1,Math.min(21,le)):Math.max(0,Math.min(20,le));function k(z){var Y=ce,F=de,J,E,K;if(Se==="c")F=S(z)+F,z="";else{z=+z;var ie=z<0||1/z<0;if(z=isNaN(z)?Z:S(Math.abs(z),le),ye&&(z=t(z)),ie&&+z==0&&_!=="+"&&(ie=!1),Y=(ie?_==="("?_:X:_==="-"||_==="("?"":_)+Y,F=(Se==="s"?g[8+d/3]:"")+F+(ie&&_==="("?")":""),P){for(J=-1,E=z.length;++J<E;)if(K=z.charCodeAt(J),48>K||K>57){F=(K===46?I+z.slice(J+1):z.slice(J))+F,z=z.slice(0,J);break}}}ue&&!G&&(z=w(z,1/0));var ve=Y.length+z.length+F.length,he=ve<Q?new Array(Q-ve+1).join(N):"";switch(ue&&G&&(z=w(he+z,he.length?Q-F.length:1/0),he=""),D){case"<":z=Y+z+F+he;break;case"=":z=Y+he+z+F;break;case"^":z=he.slice(0,ve=he.length>>1)+Y+z+F+he.slice(ve);break;default:z=he+Y+z+F;break}return O(z)}return k.toString=function(){return ae+""},k}function q(ae,N){var D=te((ae=s(ae),ae.type="f",ae)),_=Math.max(-8,Math.min(8,Math.floor(l(N)/3)))*3,V=Math.pow(10,-_),G=g[8+_/3];return function(Q){return D(V*Q)+G}}return{format:te,formatPrefix:q}}var v,c;u({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function u(b){return v=M(b),c=v.format,v.formatPrefix,v}},4096:function(re,H,e){e.d(H,{i$:function(){return Lt},Dq:function(){return d},g0:function(){return kt}});var o=e(8176),x=e(8480),l=e(9879),i=e(2301),r=e(4823),f=e(9791);function s(Ae){if(0<=Ae.y&&Ae.y<100){var Pe=new Date(-1,Ae.m,Ae.d,Ae.H,Ae.M,Ae.S,Ae.L);return Pe.setFullYear(Ae.y),Pe}return new Date(Ae.y,Ae.m,Ae.d,Ae.H,Ae.M,Ae.S,Ae.L)}function n(Ae){if(0<=Ae.y&&Ae.y<100){var Pe=new Date(Date.UTC(-1,Ae.m,Ae.d,Ae.H,Ae.M,Ae.S,Ae.L));return Pe.setUTCFullYear(Ae.y),Pe}return new Date(Date.UTC(Ae.y,Ae.m,Ae.d,Ae.H,Ae.M,Ae.S,Ae.L))}function t(Ae,Pe,$){return{y:Ae,m:Pe,d:$,H:0,M:0,S:0,L:0}}function d(Ae){var Pe=Ae.dateTime,$=Ae.date,fe=Ae.time,pe=Ae.periods,Me=Ae.days,Ge=Ae.shortDays,Ie=Ae.months,_e=Ae.shortMonths,Je=M(pe),Qe=v(pe),Oe=M(Me),ft=v(Me),vt=M(Ge),xt=v(Ge),zt=M(Ie),Vt=v(Ie),Ut=M(_e),Nt=v(_e),Gt={a:ne,A:ee,b:ze,B:Fe,c:null,d:ue,e:ue,f:de,H:le,I:ye,j:Se,L:ce,m:S,M:P,p:Ue,q:Ze,Q:bt,s:At,S:k,u:z,U:Y,V:F,w:J,W:E,x:null,X:null,y:K,Y:ie,Z:ve,"%":Pt},Ct={a:Xe,A:Be,b:Ye,B:qe,c:null,d:he,e:he,f:be,H:Le,I:ke,j:se,L:ge,m:Ee,M:we,p:tt,q:ut,Q:bt,s:At,S:Te,u:Ne,U:$e,V:je,w:He,W:st,x:null,X:null,y:nt,Y:dt,Z:ht,"%":Pt},Dt={a:it,A:Ot,b:Xt,B:nr,c:Ht,d:Z,e:Z,f:_,H:q,I:q,j:te,L:D,m:X,M:ae,p:It,q:L,Q:G,s:Q,S:N,u,U:b,V:w,w:c,W:B,x:tr,X:or,y:I,Y:C,Z:O,"%":V};Gt.x=_t($,Gt),Gt.X=_t(fe,Gt),Gt.c=_t(Pe,Gt),Ct.x=_t($,Ct),Ct.X=_t(fe,Ct),Ct.c=_t(Pe,Ct);function _t(rt,Tt){return function(mt){var ct=[],Rt=-1,Mt=0,Yt=rt.length,Jt,Qt,St;for(mt instanceof Date||(mt=new Date(+mt));++Rt<Yt;)rt.charCodeAt(Rt)===37&&(ct.push(rt.slice(Mt,Rt)),(Qt=p[Jt=rt.charAt(++Rt)])!=null?Jt=rt.charAt(++Rt):Qt=Jt==="e"?" ":"0",(St=Tt[Jt])&&(Jt=St(mt,Qt)),ct.push(Jt),Mt=Rt+1);return ct.push(rt.slice(Mt,Rt)),ct.join("")}}function Wt(rt,Tt){return function(mt){var ct=t(1900,void 0,1),Rt=Bt(ct,rt,mt+="",0),Mt,Yt;if(Rt!=mt.length)return null;if("Q"in ct)return new Date(ct.Q);if("s"in ct)return new Date(ct.s*1e3+("L"in ct?ct.L:0));if(Tt&&!("Z"in ct)&&(ct.Z=0),"p"in ct&&(ct.H=ct.H%12+ct.p*12),ct.m===void 0&&(ct.m="q"in ct?ct.q:0),"V"in ct){if(ct.V<1||ct.V>53)return null;"w"in ct||(ct.w=1),"Z"in ct?(Mt=n(t(ct.y,0,1)),Yt=Mt.getUTCDay(),Mt=Yt>4||Yt===0?o.l6.ceil(Mt):(0,o.l6)(Mt),Mt=x.Z.offset(Mt,(ct.V-1)*7),ct.y=Mt.getUTCFullYear(),ct.m=Mt.getUTCMonth(),ct.d=Mt.getUTCDate()+(ct.w+6)%7):(Mt=s(t(ct.y,0,1)),Yt=Mt.getDay(),Mt=Yt>4||Yt===0?l.wA.ceil(Mt):(0,l.wA)(Mt),Mt=i.Z.offset(Mt,(ct.V-1)*7),ct.y=Mt.getFullYear(),ct.m=Mt.getMonth(),ct.d=Mt.getDate()+(ct.w+6)%7)}else("W"in ct||"U"in ct)&&("w"in ct||(ct.w="u"in ct?ct.u%7:"W"in ct?1:0),Yt="Z"in ct?n(t(ct.y,0,1)).getUTCDay():s(t(ct.y,0,1)).getDay(),ct.m=0,ct.d="W"in ct?(ct.w+6)%7+ct.W*7-(Yt+5)%7:ct.w+ct.U*7-(Yt+6)%7);return"Z"in ct?(ct.H+=ct.Z/100|0,ct.M+=ct.Z%100,n(ct)):s(ct)}}function Bt(rt,Tt,mt,ct){for(var Rt=0,Mt=Tt.length,Yt=mt.length,Jt,Qt;Rt<Mt;){if(ct>=Yt)return-1;if(Jt=Tt.charCodeAt(Rt++),Jt===37){if(Jt=Tt.charAt(Rt++),Qt=Dt[Jt in p?Tt.charAt(Rt++):Jt],!Qt||(ct=Qt(rt,mt,ct))<0)return-1}else if(Jt!=mt.charCodeAt(ct++))return-1}return ct}function It(rt,Tt,mt){var ct=Je.exec(Tt.slice(mt));return ct?(rt.p=Qe[ct[0].toLowerCase()],mt+ct[0].length):-1}function it(rt,Tt,mt){var ct=vt.exec(Tt.slice(mt));return ct?(rt.w=xt[ct[0].toLowerCase()],mt+ct[0].length):-1}function Ot(rt,Tt,mt){var ct=Oe.exec(Tt.slice(mt));return ct?(rt.w=ft[ct[0].toLowerCase()],mt+ct[0].length):-1}function Xt(rt,Tt,mt){var ct=Ut.exec(Tt.slice(mt));return ct?(rt.m=Nt[ct[0].toLowerCase()],mt+ct[0].length):-1}function nr(rt,Tt,mt){var ct=zt.exec(Tt.slice(mt));return ct?(rt.m=Vt[ct[0].toLowerCase()],mt+ct[0].length):-1}function Ht(rt,Tt,mt){return Bt(rt,Pe,Tt,mt)}function tr(rt,Tt,mt){return Bt(rt,$,Tt,mt)}function or(rt,Tt,mt){return Bt(rt,fe,Tt,mt)}function ne(rt){return Ge[rt.getDay()]}function ee(rt){return Me[rt.getDay()]}function ze(rt){return _e[rt.getMonth()]}function Fe(rt){return Ie[rt.getMonth()]}function Ue(rt){return pe[+(rt.getHours()>=12)]}function Ze(rt){return 1+~~(rt.getMonth()/3)}function Xe(rt){return Ge[rt.getUTCDay()]}function Be(rt){return Me[rt.getUTCDay()]}function Ye(rt){return _e[rt.getUTCMonth()]}function qe(rt){return Ie[rt.getUTCMonth()]}function tt(rt){return pe[+(rt.getUTCHours()>=12)]}function ut(rt){return 1+~~(rt.getUTCMonth()/3)}return{format:function(rt){var Tt=_t(rt+="",Gt);return Tt.toString=function(){return rt},Tt},parse:function(rt){var Tt=Wt(rt+="",!1);return Tt.toString=function(){return rt},Tt},utcFormat:function(rt){var Tt=_t(rt+="",Ct);return Tt.toString=function(){return rt},Tt},utcParse:function(rt){var Tt=Wt(rt+="",!0);return Tt.toString=function(){return rt},Tt}}}var p={"-":"",_:" ",0:"0"},m=/^\s*\d+/,y=/^%/,h=/[\\^$*+?|[\]().{}]/g;function T(Ae,Pe,$){var fe=Ae<0?"-":"",pe=(fe?-Ae:Ae)+"",Me=pe.length;return fe+(Me<$?new Array($-Me+1).join(Pe)+pe:pe)}function g(Ae){return Ae.replace(h,"\\$&")}function M(Ae){return new RegExp("^(?:"+Ae.map(g).join("|")+")","i")}function v(Ae){for(var Pe={},$=-1,fe=Ae.length;++$<fe;)Pe[Ae[$].toLowerCase()]=$;return Pe}function c(Ae,Pe,$){var fe=m.exec(Pe.slice($,$+1));return fe?(Ae.w=+fe[0],$+fe[0].length):-1}function u(Ae,Pe,$){var fe=m.exec(Pe.slice($,$+1));return fe?(Ae.u=+fe[0],$+fe[0].length):-1}function b(Ae,Pe,$){var fe=m.exec(Pe.slice($,$+2));return fe?(Ae.U=+fe[0],$+fe[0].length):-1}function w(Ae,Pe,$){var fe=m.exec(Pe.slice($,$+2));return fe?(Ae.V=+fe[0],$+fe[0].length):-1}function B(Ae,Pe,$){var fe=m.exec(Pe.slice($,$+2));return fe?(Ae.W=+fe[0],$+fe[0].length):-1}function C(Ae,Pe,$){var fe=m.exec(Pe.slice($,$+4));return fe?(Ae.y=+fe[0],$+fe[0].length):-1}function I(Ae,Pe,$){var fe=m.exec(Pe.slice($,$+2));return fe?(Ae.y=+fe[0]+(+fe[0]>68?1900:2e3),$+fe[0].length):-1}function O(Ae,Pe,$){var fe=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Pe.slice($,$+6));return fe?(Ae.Z=fe[1]?0:-(fe[2]+(fe[3]||"00")),$+fe[0].length):-1}function L(Ae,Pe,$){var fe=m.exec(Pe.slice($,$+1));return fe?(Ae.q=fe[0]*3-3,$+fe[0].length):-1}function X(Ae,Pe,$){var fe=m.exec(Pe.slice($,$+2));return fe?(Ae.m=fe[0]-1,$+fe[0].length):-1}function Z(Ae,Pe,$){var fe=m.exec(Pe.slice($,$+2));return fe?(Ae.d=+fe[0],$+fe[0].length):-1}function te(Ae,Pe,$){var fe=m.exec(Pe.slice($,$+3));return fe?(Ae.m=0,Ae.d=+fe[0],$+fe[0].length):-1}function q(Ae,Pe,$){var fe=m.exec(Pe.slice($,$+2));return fe?(Ae.H=+fe[0],$+fe[0].length):-1}function ae(Ae,Pe,$){var fe=m.exec(Pe.slice($,$+2));return fe?(Ae.M=+fe[0],$+fe[0].length):-1}function N(Ae,Pe,$){var fe=m.exec(Pe.slice($,$+2));return fe?(Ae.S=+fe[0],$+fe[0].length):-1}function D(Ae,Pe,$){var fe=m.exec(Pe.slice($,$+3));return fe?(Ae.L=+fe[0],$+fe[0].length):-1}function _(Ae,Pe,$){var fe=m.exec(Pe.slice($,$+6));return fe?(Ae.L=Math.floor(fe[0]/1e3),$+fe[0].length):-1}function V(Ae,Pe,$){var fe=y.exec(Pe.slice($,$+1));return fe?$+fe[0].length:-1}function G(Ae,Pe,$){var fe=m.exec(Pe.slice($));return fe?(Ae.Q=+fe[0],$+fe[0].length):-1}function Q(Ae,Pe,$){var fe=m.exec(Pe.slice($));return fe?(Ae.s=+fe[0],$+fe[0].length):-1}function ue(Ae,Pe){return T(Ae.getDate(),Pe,2)}function le(Ae,Pe){return T(Ae.getHours(),Pe,2)}function ye(Ae,Pe){return T(Ae.getHours()%12||12,Pe,2)}function Se(Ae,Pe){return T(1+i.Z.count((0,r.Z)(Ae),Ae),Pe,3)}function ce(Ae,Pe){return T(Ae.getMilliseconds(),Pe,3)}function de(Ae,Pe){return ce(Ae,Pe)+"000"}function S(Ae,Pe){return T(Ae.getMonth()+1,Pe,2)}function P(Ae,Pe){return T(Ae.getMinutes(),Pe,2)}function k(Ae,Pe){return T(Ae.getSeconds(),Pe,2)}function z(Ae){var Pe=Ae.getDay();return Pe===0?7:Pe}function Y(Ae,Pe){return T(l.OM.count((0,r.Z)(Ae)-1,Ae),Pe,2)}function F(Ae,Pe){var $=Ae.getDay();return Ae=$>=4||$===0?(0,l.bL)(Ae):l.bL.ceil(Ae),T(l.bL.count((0,r.Z)(Ae),Ae)+((0,r.Z)(Ae).getDay()===4),Pe,2)}function J(Ae){return Ae.getDay()}function E(Ae,Pe){return T(l.wA.count((0,r.Z)(Ae)-1,Ae),Pe,2)}function K(Ae,Pe){return T(Ae.getFullYear()%100,Pe,2)}function ie(Ae,Pe){return T(Ae.getFullYear()%1e4,Pe,4)}function ve(Ae){var Pe=Ae.getTimezoneOffset();return(Pe>0?"-":(Pe*=-1,"+"))+T(Pe/60|0,"0",2)+T(Pe%60,"0",2)}function he(Ae,Pe){return T(Ae.getUTCDate(),Pe,2)}function Le(Ae,Pe){return T(Ae.getUTCHours(),Pe,2)}function ke(Ae,Pe){return T(Ae.getUTCHours()%12||12,Pe,2)}function se(Ae,Pe){return T(1+x.Z.count((0,f.Z)(Ae),Ae),Pe,3)}function ge(Ae,Pe){return T(Ae.getUTCMilliseconds(),Pe,3)}function be(Ae,Pe){return ge(Ae,Pe)+"000"}function Ee(Ae,Pe){return T(Ae.getUTCMonth()+1,Pe,2)}function we(Ae,Pe){return T(Ae.getUTCMinutes(),Pe,2)}function Te(Ae,Pe){return T(Ae.getUTCSeconds(),Pe,2)}function Ne(Ae){var Pe=Ae.getUTCDay();return Pe===0?7:Pe}function $e(Ae,Pe){return T(o.Ox.count((0,f.Z)(Ae)-1,Ae),Pe,2)}function je(Ae,Pe){var $=Ae.getUTCDay();return Ae=$>=4||$===0?(0,o.hB)(Ae):o.hB.ceil(Ae),T(o.hB.count((0,f.Z)(Ae),Ae)+((0,f.Z)(Ae).getUTCDay()===4),Pe,2)}function He(Ae){return Ae.getUTCDay()}function st(Ae,Pe){return T(o.l6.count((0,f.Z)(Ae)-1,Ae),Pe,2)}function nt(Ae,Pe){return T(Ae.getUTCFullYear()%100,Pe,2)}function dt(Ae,Pe){return T(Ae.getUTCFullYear()%1e4,Pe,4)}function ht(){return"+0000"}function Pt(){return"%"}function bt(Ae){return+Ae}function At(Ae){return Math.floor(+Ae/1e3)}var wt,Lt,kt;Ce({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ce(Ae){return wt=d(Ae),Lt=wt.format,wt.parse,kt=wt.utcFormat,wt.utcParse,wt}},2301:function(re,H,e){e.d(H,{a:function(){return i}});var o=e(52),x=e(4263),l=(0,o.Z)(function(r){r.setHours(0,0,0,0)},function(r,f){r.setDate(r.getDate()+f)},function(r,f){return(f-r-(f.getTimezoneOffset()-r.getTimezoneOffset())*x.yB)/x.UD},function(r){return r.getDate()-1});H.Z=l;var i=l.range},4263:function(re,H,e){e.d(H,{UD:function(){return i},Y2:function(){return l},Ym:function(){return o},iM:function(){return r},yB:function(){return x}});var o=1e3,x=6e4,l=36e5,i=864e5,r=6048e5},1041:function(re,H,e){e.r(H),e.d(H,{timeDay:function(){return T.Z},timeDays:function(){return T.a},timeFriday:function(){return g.mC},timeFridays:function(){return g.b$},timeHour:function(){return y},timeHours:function(){return h},timeInterval:function(){return o.Z},timeMillisecond:function(){return l},timeMilliseconds:function(){return i},timeMinute:function(){return d},timeMinutes:function(){return p},timeMonday:function(){return g.wA},timeMondays:function(){return g.bJ},timeMonth:function(){return v},timeMonths:function(){return c},timeSaturday:function(){return g.EY},timeSaturdays:function(){return g.Ff},timeSecond:function(){return s},timeSeconds:function(){return n},timeSunday:function(){return g.OM},timeSundays:function(){return g.vm},timeThursday:function(){return g.bL},timeThursdays:function(){return g.$t},timeTuesday:function(){return g.sy},timeTuesdays:function(){return g.aU},timeWednesday:function(){return g.zg},timeWednesdays:function(){return g.Ld},timeWeek:function(){return g.OM},timeWeeks:function(){return g.vm},timeYear:function(){return u.Z},timeYears:function(){return u.g},utcDay:function(){return L.Z},utcDays:function(){return L.y},utcFriday:function(){return X.QQ},utcFridays:function(){return X.fz},utcHour:function(){return I},utcHours:function(){return O},utcMillisecond:function(){return l},utcMilliseconds:function(){return i},utcMinute:function(){return w},utcMinutes:function(){return B},utcMonday:function(){return X.l6},utcMondays:function(){return X.$3},utcMonth:function(){return te},utcMonths:function(){return q},utcSaturday:function(){return X.g4},utcSaturdays:function(){return X.Q_},utcSecond:function(){return s},utcSeconds:function(){return n},utcSunday:function(){return X.Ox},utcSundays:function(){return X.SU},utcThursday:function(){return X.hB},utcThursdays:function(){return X.xj},utcTuesday:function(){return X.J1},utcTuesdays:function(){return X.DK},utcWednesday:function(){return X.b3},utcWednesdays:function(){return X.uy},utcWeek:function(){return X.Ox},utcWeeks:function(){return X.SU},utcYear:function(){return ae.Z},utcYears:function(){return ae.D}});var o=e(52),x=(0,o.Z)(function(){},function(N,D){N.setTime(+N+D)},function(N,D){return D-N});x.every=function(N){return N=Math.floor(N),!isFinite(N)||!(N>0)?null:N>1?(0,o.Z)(function(D){D.setTime(Math.floor(D/N)*N)},function(D,_){D.setTime(+D+_*N)},function(D,_){return(_-D)/N}):x};var l=x,i=x.range,r=e(4263),f=(0,o.Z)(function(N){N.setTime(N-N.getMilliseconds())},function(N,D){N.setTime(+N+D*r.Ym)},function(N,D){return(D-N)/r.Ym},function(N){return N.getUTCSeconds()}),s=f,n=f.range,t=(0,o.Z)(function(N){N.setTime(N-N.getMilliseconds()-N.getSeconds()*r.Ym)},function(N,D){N.setTime(+N+D*r.yB)},function(N,D){return(D-N)/r.yB},function(N){return N.getMinutes()}),d=t,p=t.range,m=(0,o.Z)(function(N){N.setTime(N-N.getMilliseconds()-N.getSeconds()*r.Ym-N.getMinutes()*r.yB)},function(N,D){N.setTime(+N+D*r.Y2)},function(N,D){return(D-N)/r.Y2},function(N){return N.getHours()}),y=m,h=m.range,T=e(2301),g=e(9879),M=(0,o.Z)(function(N){N.setDate(1),N.setHours(0,0,0,0)},function(N,D){N.setMonth(N.getMonth()+D)},function(N,D){return D.getMonth()-N.getMonth()+(D.getFullYear()-N.getFullYear())*12},function(N){return N.getMonth()}),v=M,c=M.range,u=e(4823),b=(0,o.Z)(function(N){N.setUTCSeconds(0,0)},function(N,D){N.setTime(+N+D*r.yB)},function(N,D){return(D-N)/r.yB},function(N){return N.getUTCMinutes()}),w=b,B=b.range,C=(0,o.Z)(function(N){N.setUTCMinutes(0,0,0)},function(N,D){N.setTime(+N+D*r.Y2)},function(N,D){return(D-N)/r.Y2},function(N){return N.getUTCHours()}),I=C,O=C.range,L=e(8480),X=e(8176),Z=(0,o.Z)(function(N){N.setUTCDate(1),N.setUTCHours(0,0,0,0)},function(N,D){N.setUTCMonth(N.getUTCMonth()+D)},function(N,D){return D.getUTCMonth()-N.getUTCMonth()+(D.getUTCFullYear()-N.getUTCFullYear())*12},function(N){return N.getUTCMonth()}),te=Z,q=Z.range,ae=e(9791)},52:function(re,H,e){e.d(H,{Z:function(){return l}});var o=new Date,x=new Date;function l(i,r,f,s){function n(t){return i(t=arguments.length===0?new Date:new Date(+t)),t}return n.floor=function(t){return i(t=new Date(+t)),t},n.ceil=function(t){return i(t=new Date(t-1)),r(t,1),i(t),t},n.round=function(t){var d=n(t),p=n.ceil(t);return t-d<p-t?d:p},n.offset=function(t,d){return r(t=new Date(+t),d==null?1:Math.floor(d)),t},n.range=function(t,d,p){var m=[],y;if(t=n.ceil(t),p=p==null?1:Math.floor(p),!(t<d)||!(p>0))return m;do m.push(y=new Date(+t)),r(t,p),i(t);while(y<t&&t<d);return m},n.filter=function(t){return l(function(d){if(d>=d)for(;i(d),!t(d);)d.setTime(d-1)},function(d,p){if(d>=d)if(p<0)for(;++p<=0;)for(;r(d,-1),!t(d););else for(;--p>=0;)for(;r(d,1),!t(d););})},f&&(n.count=function(t,d){return o.setTime(+t),x.setTime(+d),i(o),i(x),Math.floor(f(o,x))},n.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?n.filter(s?function(d){return s(d)%t===0}:function(d){return n.count(0,d)%t===0}):n}),n}},8480:function(re,H,e){e.d(H,{y:function(){return i}});var o=e(52),x=e(4263),l=(0,o.Z)(function(r){r.setUTCHours(0,0,0,0)},function(r,f){r.setUTCDate(r.getUTCDate()+f)},function(r,f){return(f-r)/x.UD},function(r){return r.getUTCDate()-1});H.Z=l;var i=l.range},8176:function(re,H,e){e.d(H,{$3:function(){return m},DK:function(){return y},J1:function(){return f},Ox:function(){return i},QQ:function(){return t},Q_:function(){return M},SU:function(){return p},b3:function(){return s},fz:function(){return g},g4:function(){return d},hB:function(){return n},l6:function(){return r},uy:function(){return h},xj:function(){return T}});var o=e(52),x=e(4263);function l(v){return(0,o.Z)(function(c){c.setUTCDate(c.getUTCDate()-(c.getUTCDay()+7-v)%7),c.setUTCHours(0,0,0,0)},function(c,u){c.setUTCDate(c.getUTCDate()+u*7)},function(c,u){return(u-c)/x.iM})}var i=l(0),r=l(1),f=l(2),s=l(3),n=l(4),t=l(5),d=l(6),p=i.range,m=r.range,y=f.range,h=s.range,T=n.range,g=t.range,M=d.range},9791:function(re,H,e){e.d(H,{D:function(){return l}});var o=e(52),x=(0,o.Z)(function(i){i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0)},function(i,r){i.setUTCFullYear(i.getUTCFullYear()+r)},function(i,r){return r.getUTCFullYear()-i.getUTCFullYear()},function(i){return i.getUTCFullYear()});x.every=function(i){return!isFinite(i=Math.floor(i))||!(i>0)?null:(0,o.Z)(function(r){r.setUTCFullYear(Math.floor(r.getUTCFullYear()/i)*i),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},function(r,f){r.setUTCFullYear(r.getUTCFullYear()+f*i)})},H.Z=x;var l=x.range},9879:function(re,H,e){e.d(H,{$t:function(){return T},EY:function(){return d},Ff:function(){return M},Ld:function(){return h},OM:function(){return i},aU:function(){return y},b$:function(){return g},bJ:function(){return m},bL:function(){return n},mC:function(){return t},sy:function(){return f},vm:function(){return p},wA:function(){return r},zg:function(){return s}});var o=e(52),x=e(4263);function l(v){return(0,o.Z)(function(c){c.setDate(c.getDate()-(c.getDay()+7-v)%7),c.setHours(0,0,0,0)},function(c,u){c.setDate(c.getDate()+u*7)},function(c,u){return(u-c-(u.getTimezoneOffset()-c.getTimezoneOffset())*x.yB)/x.iM})}var i=l(0),r=l(1),f=l(2),s=l(3),n=l(4),t=l(5),d=l(6),p=i.range,m=r.range,y=f.range,h=s.range,T=n.range,g=t.range,M=d.range},4823:function(re,H,e){e.d(H,{g:function(){return l}});var o=e(52),x=(0,o.Z)(function(i){i.setMonth(0,1),i.setHours(0,0,0,0)},function(i,r){i.setFullYear(i.getFullYear()+r)},function(i,r){return r.getFullYear()-i.getFullYear()},function(i){return i.getFullYear()});x.every=function(i){return!isFinite(i=Math.floor(i))||!(i>0)?null:(0,o.Z)(function(r){r.setFullYear(Math.floor(r.getFullYear()/i)*i),r.setMonth(0,1),r.setHours(0,0,0,0)},function(r,f){r.setFullYear(r.getFullYear()+f*i)})},H.Z=x;var l=x.range},5398:function(re){var H=typeof Reflect=="object"?Reflect:null,e=H&&typeof H.apply=="function"?H.apply:function(u,b,w){return Function.prototype.apply.call(u,b,w)},o;H&&typeof H.ownKeys=="function"?o=H.ownKeys:Object.getOwnPropertySymbols?o=function(u){return Object.getOwnPropertyNames(u).concat(Object.getOwnPropertySymbols(u))}:o=function(u){return Object.getOwnPropertyNames(u)};function x(c){console&&console.warn&&console.warn(c)}var l=Number.isNaN||function(u){return u!==u};function i(){i.init.call(this)}re.exports=i,re.exports.once=g,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var r=10;function f(c){if(typeof c!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof c)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return r},set:function(c){if(typeof c!="number"||c<0||l(c))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+c+".");r=c}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(u){if(typeof u!="number"||u<0||l(u))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+u+".");return this._maxListeners=u,this};function s(c){return c._maxListeners===void 0?i.defaultMaxListeners:c._maxListeners}i.prototype.getMaxListeners=function(){return s(this)},i.prototype.emit=function(u){for(var b=[],w=1;w<arguments.length;w++)b.push(arguments[w]);var B=u==="error",C=this._events;if(C!==void 0)B=B&&C.error===void 0;else if(!B)return!1;if(B){var I;if(b.length>0&&(I=b[0]),I instanceof Error)throw I;var O=new Error("Unhandled error."+(I?" ("+I.message+")":""));throw O.context=I,O}var L=C[u];if(L===void 0)return!1;if(typeof L=="function")e(L,this,b);else for(var X=L.length,Z=y(L,X),w=0;w<X;++w)e(Z[w],this,b);return!0};function n(c,u,b,w){var B,C,I;if(f(b),C=c._events,C===void 0?(C=c._events=Object.create(null),c._eventsCount=0):(C.newListener!==void 0&&(c.emit("newListener",u,b.listener?b.listener:b),C=c._events),I=C[u]),I===void 0)I=C[u]=b,++c._eventsCount;else if(typeof I=="function"?I=C[u]=w?[b,I]:[I,b]:w?I.unshift(b):I.push(b),B=s(c),B>0&&I.length>B&&!I.warned){I.warned=!0;var O=new Error("Possible EventEmitter memory leak detected. "+I.length+" "+String(u)+" listeners added. Use emitter.setMaxListeners() to increase limit");O.name="MaxListenersExceededWarning",O.emitter=c,O.type=u,O.count=I.length,x(O)}return c}i.prototype.addListener=function(u,b){return n(this,u,b,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(u,b){return n(this,u,b,!0)};function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(c,u,b){var w={fired:!1,wrapFn:void 0,target:c,type:u,listener:b},B=t.bind(w);return B.listener=b,w.wrapFn=B,B}i.prototype.once=function(u,b){return f(b),this.on(u,d(this,u,b)),this},i.prototype.prependOnceListener=function(u,b){return f(b),this.prependListener(u,d(this,u,b)),this},i.prototype.removeListener=function(u,b){var w,B,C,I,O;if(f(b),B=this._events,B===void 0)return this;if(w=B[u],w===void 0)return this;if(w===b||w.listener===b)--this._eventsCount===0?this._events=Object.create(null):(delete B[u],B.removeListener&&this.emit("removeListener",u,w.listener||b));else if(typeof w!="function"){for(C=-1,I=w.length-1;I>=0;I--)if(w[I]===b||w[I].listener===b){O=w[I].listener,C=I;break}if(C<0)return this;C===0?w.shift():h(w,C),w.length===1&&(B[u]=w[0]),B.removeListener!==void 0&&this.emit("removeListener",u,O||b)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(u){var b,w,B;if(w=this._events,w===void 0)return this;if(w.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):w[u]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete w[u]),this;if(arguments.length===0){var C=Object.keys(w),I;for(B=0;B<C.length;++B)I=C[B],I!=="removeListener"&&this.removeAllListeners(I);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(b=w[u],typeof b=="function")this.removeListener(u,b);else if(b!==void 0)for(B=b.length-1;B>=0;B--)this.removeListener(u,b[B]);return this};function p(c,u,b){var w=c._events;if(w===void 0)return[];var B=w[u];return B===void 0?[]:typeof B=="function"?b?[B.listener||B]:[B]:b?T(B):y(B,B.length)}i.prototype.listeners=function(u){return p(this,u,!0)},i.prototype.rawListeners=function(u){return p(this,u,!1)},i.listenerCount=function(c,u){return typeof c.listenerCount=="function"?c.listenerCount(u):m.call(c,u)},i.prototype.listenerCount=m;function m(c){var u=this._events;if(u!==void 0){var b=u[c];if(typeof b=="function")return 1;if(b!==void 0)return b.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]};function y(c,u){for(var b=new Array(u),w=0;w<u;++w)b[w]=c[w];return b}function h(c,u){for(;u+1<c.length;u++)c[u]=c[u+1];c.pop()}function T(c){for(var u=new Array(c.length),b=0;b<u.length;++b)u[b]=c[b].listener||c[b];return u}function g(c,u){return new Promise(function(b,w){function B(I){c.removeListener(u,C),w(I)}function C(){typeof c.removeListener=="function"&&c.removeListener("error",B),b([].slice.call(arguments))}v(c,u,C,{once:!0}),u!=="error"&&M(c,B,{once:!0})})}function M(c,u,b){typeof c.on=="function"&&v(c,"error",u,b)}function v(c,u,b,w){if(typeof c.on=="function")w.once?c.once(u,b):c.on(u,b);else if(typeof c.addEventListener=="function")c.addEventListener(u,function B(C){w.once&&c.removeEventListener(u,B),b(C)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof c)}},2770:function(re,H,e){var o=e(8546);re.exports=function(x){var l=typeof x;if(l==="string"){var i=x;if(x=+x,x===0&&o(i))return!1}else if(l!=="number")return!1;return x-x<1}},5400:function(re){re.exports=H;function H(e,o){var x=o[0],l=o[1],i=o[2],r=o[3],f=o[4],s=o[5],n=o[6],t=o[7],d=o[8],p=o[9],m=o[10],y=o[11],h=o[12],T=o[13],g=o[14],M=o[15];return e[0]=s*(m*M-y*g)-p*(n*M-t*g)+T*(n*y-t*m),e[1]=-(l*(m*M-y*g)-p*(i*M-r*g)+T*(i*y-r*m)),e[2]=l*(n*M-t*g)-s*(i*M-r*g)+T*(i*t-r*n),e[3]=-(l*(n*y-t*m)-s*(i*y-r*m)+p*(i*t-r*n)),e[4]=-(f*(m*M-y*g)-d*(n*M-t*g)+h*(n*y-t*m)),e[5]=x*(m*M-y*g)-d*(i*M-r*g)+h*(i*y-r*m),e[6]=-(x*(n*M-t*g)-f*(i*M-r*g)+h*(i*t-r*n)),e[7]=x*(n*y-t*m)-f*(i*y-r*m)+d*(i*t-r*n),e[8]=f*(p*M-y*T)-d*(s*M-t*T)+h*(s*y-t*p),e[9]=-(x*(p*M-y*T)-d*(l*M-r*T)+h*(l*y-r*p)),e[10]=x*(s*M-t*T)-f*(l*M-r*T)+h*(l*t-r*s),e[11]=-(x*(s*y-t*p)-f*(l*y-r*p)+d*(l*t-r*s)),e[12]=-(f*(p*g-m*T)-d*(s*g-n*T)+h*(s*m-n*p)),e[13]=x*(p*g-m*T)-d*(l*g-i*T)+h*(l*m-i*p),e[14]=-(x*(s*g-n*T)-f*(l*g-i*T)+h*(l*n-i*s)),e[15]=x*(s*m-n*p)-f*(l*m-i*p)+d*(l*n-i*s),e}},2331:function(re){re.exports=H;function H(e){var o=new Float32Array(16);return o[0]=e[0],o[1]=e[1],o[2]=e[2],o[3]=e[3],o[4]=e[4],o[5]=e[5],o[6]=e[6],o[7]=e[7],o[8]=e[8],o[9]=e[9],o[10]=e[10],o[11]=e[11],o[12]=e[12],o[13]=e[13],o[14]=e[14],o[15]=e[15],o}},1042:function(re){re.exports=H;function H(e,o){return e[0]=o[0],e[1]=o[1],e[2]=o[2],e[3]=o[3],e[4]=o[4],e[5]=o[5],e[6]=o[6],e[7]=o[7],e[8]=o[8],e[9]=o[9],e[10]=o[10],e[11]=o[11],e[12]=o[12],e[13]=o[13],e[14]=o[14],e[15]=o[15],e}},1902:function(re){re.exports=H;function H(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},9887:function(re){re.exports=H;function H(e){var o=e[0],x=e[1],l=e[2],i=e[3],r=e[4],f=e[5],s=e[6],n=e[7],t=e[8],d=e[9],p=e[10],m=e[11],y=e[12],h=e[13],T=e[14],g=e[15],M=o*f-x*r,v=o*s-l*r,c=o*n-i*r,u=x*s-l*f,b=x*n-i*f,w=l*n-i*s,B=t*h-d*y,C=t*T-p*y,I=t*g-m*y,O=d*T-p*h,L=d*g-m*h,X=p*g-m*T;return M*X-v*L+c*O+u*I-b*C+w*B}},7812:function(re){re.exports=H;function H(e,o){var x=o[0],l=o[1],i=o[2],r=o[3],f=x+x,s=l+l,n=i+i,t=x*f,d=l*f,p=l*s,m=i*f,y=i*s,h=i*n,T=r*f,g=r*s,M=r*n;return e[0]=1-p-h,e[1]=d+M,e[2]=m-g,e[3]=0,e[4]=d-M,e[5]=1-t-h,e[6]=y+T,e[7]=0,e[8]=m+g,e[9]=y-T,e[10]=1-t-p,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},4045:function(re){re.exports=H;function H(e,o,x){var l,i,r,f=x[0],s=x[1],n=x[2],t=Math.sqrt(f*f+s*s+n*n);return Math.abs(t)<1e-6?null:(t=1/t,f*=t,s*=t,n*=t,l=Math.sin(o),i=Math.cos(o),r=1-i,e[0]=f*f*r+i,e[1]=s*f*r+n*l,e[2]=n*f*r-s*l,e[3]=0,e[4]=f*s*r-n*l,e[5]=s*s*r+i,e[6]=n*s*r+f*l,e[7]=0,e[8]=f*n*r+s*l,e[9]=s*n*r-f*l,e[10]=n*n*r+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},5973:function(re){re.exports=H;function H(e,o,x){var l=o[0],i=o[1],r=o[2],f=o[3],s=l+l,n=i+i,t=r+r,d=l*s,p=l*n,m=l*t,y=i*n,h=i*t,T=r*t,g=f*s,M=f*n,v=f*t;return e[0]=1-(y+T),e[1]=p+v,e[2]=m-M,e[3]=0,e[4]=p-v,e[5]=1-(d+T),e[6]=h+g,e[7]=0,e[8]=m+M,e[9]=h-g,e[10]=1-(d+y),e[11]=0,e[12]=x[0],e[13]=x[1],e[14]=x[2],e[15]=1,e}},1472:function(re){re.exports=H;function H(e,o){return e[0]=o[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=o[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},4669:function(re){re.exports=H;function H(e,o){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=o[0],e[13]=o[1],e[14]=o[2],e[15]=1,e}},5262:function(re){re.exports=H;function H(e,o){var x=Math.sin(o),l=Math.cos(o);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=x,e[7]=0,e[8]=0,e[9]=-x,e[10]=l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},331:function(re){re.exports=H;function H(e,o){var x=Math.sin(o),l=Math.cos(o);return e[0]=l,e[1]=0,e[2]=-x,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=x,e[9]=0,e[10]=l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},1049:function(re){re.exports=H;function H(e,o){var x=Math.sin(o),l=Math.cos(o);return e[0]=l,e[1]=x,e[2]=0,e[3]=0,e[4]=-x,e[5]=l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},5195:function(re){re.exports=H;function H(e,o,x,l,i,r,f){var s=1/(x-o),n=1/(i-l),t=1/(r-f);return e[0]=r*2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r*2*n,e[6]=0,e[7]=0,e[8]=(x+o)*s,e[9]=(i+l)*n,e[10]=(f+r)*t,e[11]=-1,e[12]=0,e[13]=0,e[14]=f*r*2*t,e[15]=0,e}},1551:function(re){re.exports=H;function H(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},9576:function(re,H,e){re.exports={create:e(1902),clone:e(2331),copy:e(1042),identity:e(1551),transpose:e(8654),invert:e(5874),adjoint:e(5400),determinant:e(9887),multiply:e(1362),translate:e(1283),scale:e(789),rotate:e(5074),rotateX:e(5545),rotateY:e(4918),rotateZ:e(5692),fromRotation:e(4045),fromRotationTranslation:e(5973),fromScaling:e(1472),fromTranslation:e(4669),fromXRotation:e(5262),fromYRotation:e(331),fromZRotation:e(1049),fromQuat:e(7812),frustum:e(5195),perspective:e(7864),perspectiveFromFieldOfView:e(5279),ortho:e(378),lookAt:e(5551),str:e(6726)}},5874:function(re){re.exports=H;function H(e,o){var x=o[0],l=o[1],i=o[2],r=o[3],f=o[4],s=o[5],n=o[6],t=o[7],d=o[8],p=o[9],m=o[10],y=o[11],h=o[12],T=o[13],g=o[14],M=o[15],v=x*s-l*f,c=x*n-i*f,u=x*t-r*f,b=l*n-i*s,w=l*t-r*s,B=i*t-r*n,C=d*T-p*h,I=d*g-m*h,O=d*M-y*h,L=p*g-m*T,X=p*M-y*T,Z=m*M-y*g,te=v*Z-c*X+u*L+b*O-w*I+B*C;return te?(te=1/te,e[0]=(s*Z-n*X+t*L)*te,e[1]=(i*X-l*Z-r*L)*te,e[2]=(T*B-g*w+M*b)*te,e[3]=(m*w-p*B-y*b)*te,e[4]=(n*O-f*Z-t*I)*te,e[5]=(x*Z-i*O+r*I)*te,e[6]=(g*u-h*B-M*c)*te,e[7]=(d*B-m*u+y*c)*te,e[8]=(f*X-s*O+t*C)*te,e[9]=(l*O-x*X-r*C)*te,e[10]=(h*w-T*u+M*v)*te,e[11]=(p*u-d*w-y*v)*te,e[12]=(s*I-f*L-n*C)*te,e[13]=(x*L-l*I+i*C)*te,e[14]=(T*c-h*b-g*v)*te,e[15]=(d*b-p*c+m*v)*te,e):null}},5551:function(re,H,e){var o=e(1551);re.exports=x;function x(l,i,r,f){var s,n,t,d,p,m,y,h,T,g,M=i[0],v=i[1],c=i[2],u=f[0],b=f[1],w=f[2],B=r[0],C=r[1],I=r[2];return Math.abs(M-B)<1e-6&&Math.abs(v-C)<1e-6&&Math.abs(c-I)<1e-6?o(l):(y=M-B,h=v-C,T=c-I,g=1/Math.sqrt(y*y+h*h+T*T),y*=g,h*=g,T*=g,s=b*T-w*h,n=w*y-u*T,t=u*h-b*y,g=Math.sqrt(s*s+n*n+t*t),g?(g=1/g,s*=g,n*=g,t*=g):(s=0,n=0,t=0),d=h*t-T*n,p=T*s-y*t,m=y*n-h*s,g=Math.sqrt(d*d+p*p+m*m),g?(g=1/g,d*=g,p*=g,m*=g):(d=0,p=0,m=0),l[0]=s,l[1]=d,l[2]=y,l[3]=0,l[4]=n,l[5]=p,l[6]=h,l[7]=0,l[8]=t,l[9]=m,l[10]=T,l[11]=0,l[12]=-(s*M+n*v+t*c),l[13]=-(d*M+p*v+m*c),l[14]=-(y*M+h*v+T*c),l[15]=1,l)}},1362:function(re){re.exports=H;function H(e,o,x){var l=o[0],i=o[1],r=o[2],f=o[3],s=o[4],n=o[5],t=o[6],d=o[7],p=o[8],m=o[9],y=o[10],h=o[11],T=o[12],g=o[13],M=o[14],v=o[15],c=x[0],u=x[1],b=x[2],w=x[3];return e[0]=c*l+u*s+b*p+w*T,e[1]=c*i+u*n+b*m+w*g,e[2]=c*r+u*t+b*y+w*M,e[3]=c*f+u*d+b*h+w*v,c=x[4],u=x[5],b=x[6],w=x[7],e[4]=c*l+u*s+b*p+w*T,e[5]=c*i+u*n+b*m+w*g,e[6]=c*r+u*t+b*y+w*M,e[7]=c*f+u*d+b*h+w*v,c=x[8],u=x[9],b=x[10],w=x[11],e[8]=c*l+u*s+b*p+w*T,e[9]=c*i+u*n+b*m+w*g,e[10]=c*r+u*t+b*y+w*M,e[11]=c*f+u*d+b*h+w*v,c=x[12],u=x[13],b=x[14],w=x[15],e[12]=c*l+u*s+b*p+w*T,e[13]=c*i+u*n+b*m+w*g,e[14]=c*r+u*t+b*y+w*M,e[15]=c*f+u*d+b*h+w*v,e}},378:function(re){re.exports=H;function H(e,o,x,l,i,r,f){var s=1/(o-x),n=1/(l-i),t=1/(r-f);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*t,e[11]=0,e[12]=(o+x)*s,e[13]=(i+l)*n,e[14]=(f+r)*t,e[15]=1,e}},7864:function(re){re.exports=H;function H(e,o,x,l,i){var r=1/Math.tan(o/2),f=1/(l-i);return e[0]=r/x,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+l)*f,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*l*f,e[15]=0,e}},5279:function(re){re.exports=H;function H(e,o,x,l){var i=Math.tan(o.upDegrees*Math.PI/180),r=Math.tan(o.downDegrees*Math.PI/180),f=Math.tan(o.leftDegrees*Math.PI/180),s=Math.tan(o.rightDegrees*Math.PI/180),n=2/(f+s),t=2/(i+r);return e[0]=n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=-((f-s)*n*.5),e[9]=(i-r)*t*.5,e[10]=l/(x-l),e[11]=-1,e[12]=0,e[13]=0,e[14]=l*x/(x-l),e[15]=0,e}},5074:function(re){re.exports=H;function H(e,o,x,l){var i=l[0],r=l[1],f=l[2],s=Math.sqrt(i*i+r*r+f*f),n,t,d,p,m,y,h,T,g,M,v,c,u,b,w,B,C,I,O,L,X,Z,te,q;return Math.abs(s)<1e-6?null:(s=1/s,i*=s,r*=s,f*=s,n=Math.sin(x),t=Math.cos(x),d=1-t,p=o[0],m=o[1],y=o[2],h=o[3],T=o[4],g=o[5],M=o[6],v=o[7],c=o[8],u=o[9],b=o[10],w=o[11],B=i*i*d+t,C=r*i*d+f*n,I=f*i*d-r*n,O=i*r*d-f*n,L=r*r*d+t,X=f*r*d+i*n,Z=i*f*d+r*n,te=r*f*d-i*n,q=f*f*d+t,e[0]=p*B+T*C+c*I,e[1]=m*B+g*C+u*I,e[2]=y*B+M*C+b*I,e[3]=h*B+v*C+w*I,e[4]=p*O+T*L+c*X,e[5]=m*O+g*L+u*X,e[6]=y*O+M*L+b*X,e[7]=h*O+v*L+w*X,e[8]=p*Z+T*te+c*q,e[9]=m*Z+g*te+u*q,e[10]=y*Z+M*te+b*q,e[11]=h*Z+v*te+w*q,o!==e&&(e[12]=o[12],e[13]=o[13],e[14]=o[14],e[15]=o[15]),e)}},5545:function(re){re.exports=H;function H(e,o,x){var l=Math.sin(x),i=Math.cos(x),r=o[4],f=o[5],s=o[6],n=o[7],t=o[8],d=o[9],p=o[10],m=o[11];return o!==e&&(e[0]=o[0],e[1]=o[1],e[2]=o[2],e[3]=o[3],e[12]=o[12],e[13]=o[13],e[14]=o[14],e[15]=o[15]),e[4]=r*i+t*l,e[5]=f*i+d*l,e[6]=s*i+p*l,e[7]=n*i+m*l,e[8]=t*i-r*l,e[9]=d*i-f*l,e[10]=p*i-s*l,e[11]=m*i-n*l,e}},4918:function(re){re.exports=H;function H(e,o,x){var l=Math.sin(x),i=Math.cos(x),r=o[0],f=o[1],s=o[2],n=o[3],t=o[8],d=o[9],p=o[10],m=o[11];return o!==e&&(e[4]=o[4],e[5]=o[5],e[6]=o[6],e[7]=o[7],e[12]=o[12],e[13]=o[13],e[14]=o[14],e[15]=o[15]),e[0]=r*i-t*l,e[1]=f*i-d*l,e[2]=s*i-p*l,e[3]=n*i-m*l,e[8]=r*l+t*i,e[9]=f*l+d*i,e[10]=s*l+p*i,e[11]=n*l+m*i,e}},5692:function(re){re.exports=H;function H(e,o,x){var l=Math.sin(x),i=Math.cos(x),r=o[0],f=o[1],s=o[2],n=o[3],t=o[4],d=o[5],p=o[6],m=o[7];return o!==e&&(e[8]=o[8],e[9]=o[9],e[10]=o[10],e[11]=o[11],e[12]=o[12],e[13]=o[13],e[14]=o[14],e[15]=o[15]),e[0]=r*i+t*l,e[1]=f*i+d*l,e[2]=s*i+p*l,e[3]=n*i+m*l,e[4]=t*i-r*l,e[5]=d*i-f*l,e[6]=p*i-s*l,e[7]=m*i-n*l,e}},789:function(re){re.exports=H;function H(e,o,x){var l=x[0],i=x[1],r=x[2];return e[0]=o[0]*l,e[1]=o[1]*l,e[2]=o[2]*l,e[3]=o[3]*l,e[4]=o[4]*i,e[5]=o[5]*i,e[6]=o[6]*i,e[7]=o[7]*i,e[8]=o[8]*r,e[9]=o[9]*r,e[10]=o[10]*r,e[11]=o[11]*r,e[12]=o[12],e[13]=o[13],e[14]=o[14],e[15]=o[15],e}},6726:function(re){re.exports=H;function H(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},1283:function(re){re.exports=H;function H(e,o,x){var l=x[0],i=x[1],r=x[2],f,s,n,t,d,p,m,y,h,T,g,M;return o===e?(e[12]=o[0]*l+o[4]*i+o[8]*r+o[12],e[13]=o[1]*l+o[5]*i+o[9]*r+o[13],e[14]=o[2]*l+o[6]*i+o[10]*r+o[14],e[15]=o[3]*l+o[7]*i+o[11]*r+o[15]):(f=o[0],s=o[1],n=o[2],t=o[3],d=o[4],p=o[5],m=o[6],y=o[7],h=o[8],T=o[9],g=o[10],M=o[11],e[0]=f,e[1]=s,e[2]=n,e[3]=t,e[4]=d,e[5]=p,e[6]=m,e[7]=y,e[8]=h,e[9]=T,e[10]=g,e[11]=M,e[12]=f*l+d*i+h*r+o[12],e[13]=s*l+p*i+T*r+o[13],e[14]=n*l+m*i+g*r+o[14],e[15]=t*l+y*i+M*r+o[15]),e}},8654:function(re){re.exports=H;function H(e,o){if(e===o){var x=o[1],l=o[2],i=o[3],r=o[6],f=o[7],s=o[11];e[1]=o[4],e[2]=o[8],e[3]=o[12],e[4]=x,e[6]=o[9],e[7]=o[13],e[8]=l,e[9]=r,e[11]=o[14],e[12]=i,e[13]=f,e[14]=s}else e[0]=o[0],e[1]=o[4],e[2]=o[8],e[3]=o[12],e[4]=o[1],e[5]=o[5],e[6]=o[9],e[7]=o[13],e[8]=o[2],e[9]=o[6],e[10]=o[10],e[11]=o[14],e[12]=o[3],e[13]=o[7],e[14]=o[11],e[15]=o[15];return e}},7035:function(re,H,e){var o=e(4404),x;typeof e.g.matchMedia=="function"?x=!e.g.matchMedia("(hover: none)").matches:x=o,re.exports=x},8520:function(re,H,e){var o=e(4404);function x(){var l=!1;try{var i=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("test",null,i),window.removeEventListener("test",null,i)}catch{l=!1}return l}re.exports=o&&x()},4404:function(re){re.exports=!0},8546:function(re){re.exports=function(H){for(var e=H.length,o,x=0;x<e;x++)if(o=H.charCodeAt(x),(o<9||o>13)&&o!==32&&o!==133&&o!==160&&o!==5760&&o!==6158&&(o<8192||o>8205)&&o!==8232&&o!==8233&&o!==8239&&o!==8287&&o!==8288&&o!==12288&&o!==65279)return!1;return!0}},8956:function(re){var H={left:0,top:0};re.exports=e;function e(x,l,i){l=l||x.currentTarget||x.srcElement,Array.isArray(i)||(i=[0,0]);var r=x.clientX||0,f=x.clientY||0,s=o(l);return i[0]=r-s.left,i[1]=f-s.top,i}function o(x){return x===window||x===document||x===document.body?H:x.getBoundingClientRect()}},7417:function(re,H,e){var o;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(l,i,r){i[l]=i[l]||r(),re.exports?re.exports=i[l]:(o=function(){return i[l]}.call(H,e,H,re),o!==void 0&&(re.exports=o))})("Promise",typeof e.g<"u"?e.g:this,function(){var l,i,r,f=Object.prototype.toString,s=typeof setImmediate<"u"?function(u){return setImmediate(u)}:setTimeout;try{Object.defineProperty({},"x",{}),l=function(u,b,w,B){return Object.defineProperty(u,b,{value:w,writable:!0,configurable:B!==!1})}}catch{l=function(b,w,B){return b[w]=B,b}}r=function(){var u,b,w;function B(C,I){this.fn=C,this.self=I,this.next=void 0}return{add:function(I,O){w=new B(I,O),b?b.next=w:u=w,b=w,w=void 0},drain:function(){var I=u;for(u=b=i=void 0;I;)I.fn.call(I.self),I=I.next}}}();function n(c,u){r.add(c,u),i||(i=s(r.drain))}function t(c){var u,b=typeof c;return c!=null&&(b=="object"||b=="function")&&(u=c.then),typeof u=="function"?u:!1}function d(){for(var c=0;c<this.chain.length;c++)p(this,this.state===1?this.chain[c].success:this.chain[c].failure,this.chain[c]);this.chain.length=0}function p(c,u,b){var w,B;try{u===!1?b.reject(c.msg):(u===!0?w=c.msg:w=u.call(void 0,c.msg),w===b.promise?b.reject(TypeError("Promise-chain cycle")):(B=t(w))?B.call(w,b.resolve,b.reject):b.resolve(w))}catch(C){b.reject(C)}}function m(c){var u,b=this;if(!b.triggered){b.triggered=!0,b.def&&(b=b.def);try{(u=t(c))?n(function(){var w=new T(b);try{u.call(c,function(){m.apply(w,arguments)},function(){y.apply(w,arguments)})}catch(B){y.call(w,B)}}):(b.msg=c,b.state=1,b.chain.length>0&&n(d,b))}catch(w){y.call(new T(b),w)}}}function y(c){var u=this;u.triggered||(u.triggered=!0,u.def&&(u=u.def),u.msg=c,u.state=2,u.chain.length>0&&n(d,u))}function h(c,u,b,w){for(var B=0;B<u.length;B++)(function(I){c.resolve(u[I]).then(function(L){b(I,L)},w)})(B)}function T(c){this.def=c,this.triggered=!1}function g(c){this.promise=c,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function M(c){if(typeof c!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var u=new g(this);this.then=function(w,B){var C={success:typeof w=="function"?w:!0,failure:typeof B=="function"?B:!1};return C.promise=new this.constructor(function(O,L){if(typeof O!="function"||typeof L!="function")throw TypeError("Not a function");C.resolve=O,C.reject=L}),u.chain.push(C),u.state!==0&&n(d,u),C.promise},this.catch=function(w){return this.then(void 0,w)};try{c.call(void 0,function(w){m.call(u,w)},function(w){y.call(u,w)})}catch(b){y.call(u,b)}}var v=l({},"constructor",M,!1);return M.prototype=v,l(v,"__NPO__",0,!1),l(M,"resolve",function(u){var b=this;return u&&typeof u=="object"&&u.__NPO__===1?u:new b(function(B,C){if(typeof B!="function"||typeof C!="function")throw TypeError("Not a function");B(u)})}),l(M,"reject",function(u){return new this(function(w,B){if(typeof w!="function"||typeof B!="function")throw TypeError("Not a function");B(u)})}),l(M,"all",function(u){var b=this;return f.call(u)!="[object Array]"?b.reject(TypeError("Not an array")):u.length===0?b.resolve([]):new b(function(B,C){if(typeof B!="function"||typeof C!="function")throw TypeError("Not a function");var I=u.length,O=Array(I),L=0;h(b,u,function(Z,te){O[Z]=te,++L===I&&B(O)},C)})}),l(M,"race",function(u){var b=this;return f.call(u)!="[object Array]"?b.reject(TypeError("Not an array")):new b(function(B,C){if(typeof B!="function"||typeof C!="function")throw TypeError("Not a function");h(b,u,function(O,L){B(L)},C)})}),M})},6131:function(re){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var H=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function x(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function l(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var r={},f=0;f<10;f++)r["_"+String.fromCharCode(f)]=f;var s=Object.getOwnPropertyNames(r).map(function(t){return r[t]});if(s.join("")!=="0123456789")return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),Object.keys(Object.assign({},n)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}re.exports=l()?Object.assign:function(i,r){for(var f,s=x(i),n,t=1;t<arguments.length;t++){f=Object(arguments[t]);for(var d in f)e.call(f,d)&&(s[d]=f[d]);if(H){n=H(f);for(var p=0;p<n.length;p++)o.call(f,n[p])&&(s[n[p]]=f[n[p]])}}return s}},5616:function(re){re.exports=o;var H={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function o(i){var r=[];return i.replace(e,function(f,s,n){var t=s.toLowerCase();for(n=l(n),t=="m"&&n.length>2&&(r.push([s].concat(n.splice(0,2))),t="l",s=s=="m"?"l":"L");;){if(n.length==H[t])return n.unshift(s),r.push(n);if(n.length<H[t])throw new Error("malformed path data");r.push([s].concat(n.splice(0,H[t])))}}),r}var x=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function l(i){var r=i.match(x);return r?r.map(Number):[]}},8258:function(re){re.exports=function(e,o,x,l){var i=e[0],r=e[1],f=!1;x===void 0&&(x=0),l===void 0&&(l=o.length);for(var s=l-x,n=0,t=s-1;n<s;t=n++){var d=o[n+x][0],p=o[n+x][1],m=o[t+x][0],y=o[t+x][1],h=p>r!=y>r&&i<(m-d)*(r-p)/(y-p)+d;h&&(f=!f)}return f}},2142:function(re,H,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var o=e(9444),x=e(9023),l=e(7263),i=e(1328),r=e(5968),f=e(670),s=!1,n=x(),t;t={buildLog:function(p){return p===!0?s=o():p===!1&&(s=!1),s===!1?!1:s.list},epsilon:function(p){return n.epsilon(p)},segments:function(p){var m=l(!0,n,s);return p.regions.forEach(m.addRegion),{segments:m.calculate(p.inverted),inverted:p.inverted}},combine:function(p,m){var y=l(!1,n,s);return{combined:y.calculate(p.segments,p.inverted,m.segments,m.inverted),inverted1:p.inverted,inverted2:m.inverted}},selectUnion:function(p){return{segments:r.union(p.combined,s),inverted:p.inverted1||p.inverted2}},selectIntersect:function(p){return{segments:r.intersect(p.combined,s),inverted:p.inverted1&&p.inverted2}},selectDifference:function(p){return{segments:r.difference(p.combined,s),inverted:p.inverted1&&!p.inverted2}},selectDifferenceRev:function(p){return{segments:r.differenceRev(p.combined,s),inverted:!p.inverted1&&p.inverted2}},selectXor:function(p){return{segments:r.xor(p.combined,s),inverted:p.inverted1!==p.inverted2}},polygon:function(p){return{regions:i(p.segments,n,s),inverted:p.inverted}},polygonFromGeoJSON:function(p){return f.toPolygon(t,p)},polygonToGeoJSON:function(p){return f.fromPolygon(t,n,p)},union:function(p,m){return d(p,m,t.selectUnion)},intersect:function(p,m){return d(p,m,t.selectIntersect)},difference:function(p,m){return d(p,m,t.selectDifference)},differenceRev:function(p,m){return d(p,m,t.selectDifferenceRev)},xor:function(p,m){return d(p,m,t.selectXor)}};function d(p,m,y){var h=t.segments(p),T=t.segments(m),g=t.combine(h,T),M=y(g);return t.polygon(M)}typeof window=="object"&&(window.PolyBool=t),re.exports=t},9444:function(re){function H(){var e,o=0,x=!1;function l(i,r){return e.list.push({type:i,data:r?JSON.parse(JSON.stringify(r)):void 0}),e}return e={list:[],segmentId:function(){return o++},checkIntersection:function(i,r){return l("check",{seg1:i,seg2:r})},segmentChop:function(i,r){return l("div_seg",{seg:i,pt:r}),l("chop",{seg:i,pt:r})},statusRemove:function(i){return l("pop_seg",{seg:i})},segmentUpdate:function(i){return l("seg_update",{seg:i})},segmentNew:function(i,r){return l("new_seg",{seg:i,primary:r})},segmentRemove:function(i){return l("rem_seg",{seg:i})},tempStatus:function(i,r,f){return l("temp_status",{seg:i,above:r,below:f})},rewind:function(i){return l("rewind",{seg:i})},status:function(i,r,f){return l("status",{seg:i,above:r,below:f})},vert:function(i){return i===x?e:(x=i,l("vert",{x:i}))},log:function(i){return typeof i!="string"&&(i=JSON.stringify(i,!1,"  ")),l("log",{txt:i})},reset:function(){return l("reset")},selected:function(i){return l("selected",{segs:i})},chainStart:function(i){return l("chain_start",{seg:i})},chainRemoveHead:function(i,r){return l("chain_rem_head",{index:i,pt:r})},chainRemoveTail:function(i,r){return l("chain_rem_tail",{index:i,pt:r})},chainNew:function(i,r){return l("chain_new",{pt1:i,pt2:r})},chainMatch:function(i){return l("chain_match",{index:i})},chainClose:function(i){return l("chain_close",{index:i})},chainAddHead:function(i,r){return l("chain_add_head",{index:i,pt:r})},chainAddTail:function(i,r){return l("chain_add_tail",{index:i,pt:r})},chainConnect:function(i,r){return l("chain_con",{index1:i,index2:r})},chainReverse:function(i){return l("chain_rev",{index:i})},chainJoin:function(i,r){return l("chain_join",{index1:i,index2:r})},done:function(){return l("done")}},e}re.exports=H},9023:function(re){function H(e){typeof e!="number"&&(e=1e-10);var o={epsilon:function(x){return typeof x=="number"&&(e=x),e},pointAboveOrOnLine:function(x,l,i){var r=l[0],f=l[1],s=i[0],n=i[1],t=x[0],d=x[1];return(s-r)*(d-f)-(n-f)*(t-r)>=-e},pointBetween:function(x,l,i){var r=x[1]-l[1],f=i[0]-l[0],s=x[0]-l[0],n=i[1]-l[1],t=s*f+r*n;if(t<e)return!1;var d=f*f+n*n;return!(t-d>-e)},pointsSameX:function(x,l){return Math.abs(x[0]-l[0])<e},pointsSameY:function(x,l){return Math.abs(x[1]-l[1])<e},pointsSame:function(x,l){return o.pointsSameX(x,l)&&o.pointsSameY(x,l)},pointsCompare:function(x,l){return o.pointsSameX(x,l)?o.pointsSameY(x,l)?0:x[1]<l[1]?-1:1:x[0]<l[0]?-1:1},pointsCollinear:function(x,l,i){var r=x[0]-l[0],f=x[1]-l[1],s=l[0]-i[0],n=l[1]-i[1];return Math.abs(r*n-s*f)<e},linesIntersect:function(x,l,i,r){var f=l[0]-x[0],s=l[1]-x[1],n=r[0]-i[0],t=r[1]-i[1],d=f*t-s*n;if(Math.abs(d)<e)return!1;var p=x[0]-i[0],m=x[1]-i[1],y=(n*m-t*p)/d,h=(f*m-s*p)/d,T={alongA:0,alongB:0,pt:[x[0]+y*f,x[1]+y*s]};return y<=-e?T.alongA=-2:y<e?T.alongA=-1:y-1<=-e?T.alongA=0:y-1<e?T.alongA=1:T.alongA=2,h<=-e?T.alongB=-2:h<e?T.alongB=-1:h-1<=-e?T.alongB=0:h-1<e?T.alongB=1:T.alongB=2,T},pointInsideRegion:function(x,l){for(var i=x[0],r=x[1],f=l[l.length-1][0],s=l[l.length-1][1],n=!1,t=0;t<l.length;t++){var d=l[t][0],p=l[t][1];p-r>e!=s-r>e&&(f-d)*(r-p)/(s-p)+d-i>e&&(n=!n),f=d,s=p}return n}};return o}re.exports=H},670:function(re){var H={toPolygon:function(e,o){function x(r){if(r.length<=0)return e.segments({inverted:!1,regions:[]});function f(t){var d=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[d]})}for(var s=f(r[0]),n=1;n<r.length;n++)s=e.selectDifference(e.combine(s,f(r[n])));return s}if(o.type==="Polygon")return e.polygon(x(o.coordinates));if(o.type==="MultiPolygon"){for(var l=e.segments({inverted:!1,regions:[]}),i=0;i<o.coordinates.length;i++)l=e.selectUnion(e.combine(l,x(o.coordinates[i])));return e.polygon(l)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,o,x){x=e.polygon(e.segments(x));function l(y,h){return o.pointInsideRegion([(y[0][0]+y[1][0])*.5,(y[0][1]+y[1][1])*.5],h)}function i(y){return{region:y,children:[]}}var r=i(null);function f(y,h){for(var T=0;T<y.children.length;T++){var g=y.children[T];if(l(h,g.region)){f(g,h);return}}for(var M=i(h),T=0;T<y.children.length;T++){var g=y.children[T];l(g.region,h)&&(M.children.push(g),y.children.splice(T,1),T--)}y.children.push(M)}for(var s=0;s<x.regions.length;s++){var n=x.regions[s];n.length<3||f(r,n)}function t(y,h){for(var T=0,g=y[y.length-1][0],M=y[y.length-1][1],v=[],c=0;c<y.length;c++){var u=y[c][0],b=y[c][1];v.push([u,b]),T+=b*g-u*M,g=u,M=b}var w=T<0;return w!==h&&v.reverse(),v.push([v[0][0],v[0][1]]),v}var d=[];function p(y){var h=[t(y.region,!1)];d.push(h);for(var T=0;T<y.children.length;T++)h.push(m(y.children[T]))}function m(y){for(var h=0;h<y.children.length;h++)p(y.children[h]);return t(y.region,!0)}for(var s=0;s<r.children.length;s++)p(r.children[s]);return d.length<=0?{type:"Polygon",coordinates:[]}:d.length==1?{type:"Polygon",coordinates:d[0]}:{type:"MultiPolygon",coordinates:d}}};re.exports=H},7263:function(re,H,e){var o=e(6859);function x(l,i,r){function f(M,v){return{id:r?r.segmentId():-1,start:M,end:v,myFill:{above:null,below:null},otherFill:null}}function s(M,v,c){return{id:r?r.segmentId():-1,start:M,end:v,myFill:{above:c.myFill.above,below:c.myFill.below},otherFill:null}}var n=o.create();function t(M,v,c,u,b,w){var B=i.pointsCompare(v,b);return B!==0?B:i.pointsSame(c,w)?0:M!==u?M?1:-1:i.pointAboveOrOnLine(c,u?b:w,u?w:b)?1:-1}function d(M,v){n.insertBefore(M,function(c){var u=t(M.isStart,M.pt,v,c.isStart,c.pt,c.other.pt);return u<0})}function p(M,v){var c=o.node({isStart:!0,pt:M.start,seg:M,primary:v,other:null,status:null});return d(c,M.end),c}function m(M,v,c){var u=o.node({isStart:!1,pt:v.end,seg:v,primary:c,other:M,status:null});M.other=u,d(u,M.pt)}function y(M,v){var c=p(M,v);return m(c,M,v),c}function h(M,v){r&&r.segmentChop(M.seg,v),M.other.remove(),M.seg.end=v,M.other.pt=v,d(M.other,M.pt)}function T(M,v){var c=s(v,M.seg.end,M.seg);return h(M,v),y(c,M.primary)}function g(M,v){var c=o.create();function u(N,D){var _=N.seg.start,V=N.seg.end,G=D.seg.start,Q=D.seg.end;return i.pointsCollinear(_,G,Q)?i.pointsCollinear(V,G,Q)||i.pointAboveOrOnLine(V,G,Q)?1:-1:i.pointAboveOrOnLine(_,G,Q)?1:-1}function b(N){return c.findTransition(function(D){var _=u(N,D.ev);return _>0})}function w(N,D){var _=N.seg,V=D.seg,G=_.start,Q=_.end,ue=V.start,le=V.end;r&&r.checkIntersection(_,V);var ye=i.linesIntersect(G,Q,ue,le);if(ye===!1){if(!i.pointsCollinear(G,Q,ue)||i.pointsSame(G,le)||i.pointsSame(Q,ue))return!1;var Se=i.pointsSame(G,ue),ce=i.pointsSame(Q,le);if(Se&&ce)return D;var de=!Se&&i.pointBetween(G,ue,le),S=!ce&&i.pointBetween(Q,ue,le);if(Se)return S?T(D,Q):T(N,le),D;de&&(ce||(S?T(D,Q):T(N,le)),T(D,G))}else ye.alongA===0&&(ye.alongB===-1?T(N,ue):ye.alongB===0?T(N,ye.pt):ye.alongB===1&&T(N,le)),ye.alongB===0&&(ye.alongA===-1?T(D,G):ye.alongA===0?T(D,ye.pt):ye.alongA===1&&T(D,Q));return!1}for(var B=[];!n.isEmpty();){var C=n.getHead();if(r&&r.vert(C.pt[0]),C.isStart){let N=function(){if(O){var D=w(C,O);if(D)return D}return L?w(C,L):!1};r&&r.segmentNew(C.seg,C.primary);var I=b(C),O=I.before?I.before.ev:null,L=I.after?I.after.ev:null;r&&r.tempStatus(C.seg,O?O.seg:!1,L?L.seg:!1);var X=N();if(X){if(l){var Z;C.seg.myFill.below===null?Z=!0:Z=C.seg.myFill.above!==C.seg.myFill.below,Z&&(X.seg.myFill.above=!X.seg.myFill.above)}else X.seg.otherFill=C.seg.myFill;r&&r.segmentUpdate(X.seg),C.other.remove(),C.remove()}if(n.getHead()!==C){r&&r.rewind(C.seg);continue}if(l){var Z;C.seg.myFill.below===null?Z=!0:Z=C.seg.myFill.above!==C.seg.myFill.below,L?C.seg.myFill.below=L.seg.myFill.above:C.seg.myFill.below=M,Z?C.seg.myFill.above=!C.seg.myFill.below:C.seg.myFill.above=C.seg.myFill.below}else if(C.seg.otherFill===null){var te;L?C.primary===L.primary?te=L.seg.otherFill.above:te=L.seg.myFill.above:te=C.primary?v:M,C.seg.otherFill={above:te,below:te}}r&&r.status(C.seg,O?O.seg:!1,L?L.seg:!1),C.other.status=I.insert(o.node({ev:C}))}else{var q=C.status;if(q===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(c.exists(q.prev)&&c.exists(q.next)&&w(q.prev.ev,q.next.ev),r&&r.statusRemove(q.ev.seg),q.remove(),!C.primary){var ae=C.seg.myFill;C.seg.myFill=C.seg.otherFill,C.seg.otherFill=ae}B.push(C.seg)}n.getHead().remove()}return r&&r.done(),B}return l?{addRegion:function(M){for(var v,c=M[M.length-1],u=0;u<M.length;u++){v=c,c=M[u];var b=i.pointsCompare(v,c);b!==0&&y(f(b<0?v:c,b<0?c:v),!0)}},calculate:function(M){return g(M,!1)}}:{calculate:function(M,v,c,u){return M.forEach(function(b){y(s(b.start,b.end,b),!0)}),c.forEach(function(b){y(s(b.start,b.end,b),!1)}),g(v,u)}}}re.exports=x},6859:function(re){var H={create:function(){var e={root:{root:!0,next:null},exists:function(o){return!(o===null||o===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(o,x){for(var l=e.root,i=e.root.next;i!==null;){if(x(i)){o.prev=i.prev,o.next=i,i.prev.next=o,i.prev=o;return}l=i,i=i.next}l.next=o,o.prev=l,o.next=null},findTransition:function(o){for(var x=e.root,l=e.root.next;l!==null&&!o(l);)x=l,l=l.next;return{before:x===e.root?null:x,after:l,insert:function(i){return i.prev=x,i.next=l,x.next=i,l!==null&&(l.prev=i),i}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};re.exports=H},1328:function(re){function H(e,o,x){var l=[],i=[];return e.forEach(function(r){var f=r.start,s=r.end;if(o.pointsSame(f,s)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}x&&x.chainStart(r);var n={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},d=n;function p(X,Z,te){return d.index=X,d.matches_head=Z,d.matches_pt1=te,d===n?(d=t,!1):(d=null,!0)}for(var m=0;m<l.length;m++){var y=l[m],h=y[0];y[1];var T=y[y.length-1];if(y[y.length-2],o.pointsSame(h,f)){if(p(m,!0,!0))break}else if(o.pointsSame(h,s)){if(p(m,!0,!1))break}else if(o.pointsSame(T,f)){if(p(m,!1,!0))break}else if(o.pointsSame(T,s)&&p(m,!1,!1))break}if(d===n){l.push([f,s]),x&&x.chainNew(f,s);return}if(d===t){x&&x.chainMatch(n.index);var g=n.index,M=n.matches_pt1?s:f,v=n.matches_head,y=l[g],c=v?y[0]:y[y.length-1],u=v?y[1]:y[y.length-2],b=v?y[y.length-1]:y[0],w=v?y[y.length-2]:y[1];if(o.pointsCollinear(u,c,M)&&(v?(x&&x.chainRemoveHead(n.index,M),y.shift()):(x&&x.chainRemoveTail(n.index,M),y.pop()),c=u),o.pointsSame(b,M)){l.splice(g,1),o.pointsCollinear(w,b,c)&&(v?(x&&x.chainRemoveTail(n.index,c),y.pop()):(x&&x.chainRemoveHead(n.index,c),y.shift())),x&&x.chainClose(n.index),i.push(y);return}v?(x&&x.chainAddHead(n.index,M),y.unshift(M)):(x&&x.chainAddTail(n.index,M),y.push(M));return}function B(X){x&&x.chainReverse(X),l[X].reverse()}function C(X,Z){var te=l[X],q=l[Z],ae=te[te.length-1],N=te[te.length-2],D=q[0],_=q[1];o.pointsCollinear(N,ae,D)&&(x&&x.chainRemoveTail(X,ae),te.pop(),ae=N),o.pointsCollinear(ae,D,_)&&(x&&x.chainRemoveHead(Z,D),q.shift()),x&&x.chainJoin(X,Z),l[X]=te.concat(q),l.splice(Z,1)}var I=n.index,O=t.index;x&&x.chainConnect(I,O);var L=l[I].length<l[O].length;n.matches_head?t.matches_head?L?(B(I),C(I,O)):(B(O),C(O,I)):C(O,I):t.matches_head?C(I,O):L?(B(I),C(O,I)):(B(O),C(I,O))}),i}re.exports=H},5968:function(re){function H(o,x,l){var i=[];return o.forEach(function(r){var f=(r.myFill.above?8:0)+(r.myFill.below?4:0)+(r.otherFill&&r.otherFill.above?2:0)+(r.otherFill&&r.otherFill.below?1:0);x[f]!==0&&i.push({id:l?l.segmentId():-1,start:r.start,end:r.end,myFill:{above:x[f]===1,below:x[f]===2},otherFill:null})}),l&&l.selected(i),i}var e={union:function(o,x){return H(o,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],x)},intersect:function(o,x){return H(o,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],x)},difference:function(o,x){return H(o,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],x)},differenceRev:function(o,x){return H(o,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],x)},xor:function(o,x){return H(o,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],x)}};re.exports=e},4267:function(re,H,e){var o;(function(x){var l=/^\s+/,i=/\s+$/,r=0,f=x.round,s=x.min,n=x.max,t=x.random;function d(F,J){if(F=F||"",J=J||{},F instanceof d)return F;if(!(this instanceof d))return new d(F,J);var E=p(F);this._originalInput=F,this._r=E.r,this._g=E.g,this._b=E.b,this._a=E.a,this._roundA=f(100*this._a)/100,this._format=J.format||E.format,this._gradientType=J.gradientType,this._r<1&&(this._r=f(this._r)),this._g<1&&(this._g=f(this._g)),this._b<1&&(this._b=f(this._b)),this._ok=E.ok,this._tc_id=r++}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var F=this.toRgb();return(F.r*299+F.g*587+F.b*114)/1e3},getLuminance:function(){var F=this.toRgb(),J,E,K,ie,ve,he;return J=F.r/255,E=F.g/255,K=F.b/255,J<=.03928?ie=J/12.92:ie=x.pow((J+.055)/1.055,2.4),E<=.03928?ve=E/12.92:ve=x.pow((E+.055)/1.055,2.4),K<=.03928?he=K/12.92:he=x.pow((K+.055)/1.055,2.4),.2126*ie+.7152*ve+.0722*he},setAlpha:function(F){return this._a=V(F),this._roundA=f(100*this._a)/100,this},toHsv:function(){var F=T(this._r,this._g,this._b);return{h:F.h*360,s:F.s,v:F.v,a:this._a}},toHsvString:function(){var F=T(this._r,this._g,this._b),J=f(F.h*360),E=f(F.s*100),K=f(F.v*100);return this._a==1?"hsv("+J+", "+E+"%, "+K+"%)":"hsva("+J+", "+E+"%, "+K+"%, "+this._roundA+")"},toHsl:function(){var F=y(this._r,this._g,this._b);return{h:F.h*360,s:F.s,l:F.l,a:this._a}},toHslString:function(){var F=y(this._r,this._g,this._b),J=f(F.h*360),E=f(F.s*100),K=f(F.l*100);return this._a==1?"hsl("+J+", "+E+"%, "+K+"%)":"hsla("+J+", "+E+"%, "+K+"%, "+this._roundA+")"},toHex:function(F){return M(this._r,this._g,this._b,F)},toHexString:function(F){return"#"+this.toHex(F)},toHex8:function(F){return v(this._r,this._g,this._b,this._a,F)},toHex8String:function(F){return"#"+this.toHex8(F)},toRgb:function(){return{r:f(this._r),g:f(this._g),b:f(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+f(this._r)+", "+f(this._g)+", "+f(this._b)+")":"rgba("+f(this._r)+", "+f(this._g)+", "+f(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:f(G(this._r,255)*100)+"%",g:f(G(this._g,255)*100)+"%",b:f(G(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+f(G(this._r,255)*100)+"%, "+f(G(this._g,255)*100)+"%, "+f(G(this._b,255)*100)+"%)":"rgba("+f(G(this._r,255)*100)+"%, "+f(G(this._g,255)*100)+"%, "+f(G(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:D[M(this._r,this._g,this._b,!0)]||!1},toFilter:function(F){var J="#"+c(this._r,this._g,this._b,this._a),E=J,K=this._gradientType?"GradientType = 1, ":"";if(F){var ie=d(F);E="#"+c(ie._r,ie._g,ie._b,ie._a)}return"progid:DXImageTransform.Microsoft.gradient("+K+"startColorstr="+J+",endColorstr="+E+")"},toString:function(F){var J=!!F;F=F||this._format;var E=!1,K=this._a<1&&this._a>=0,ie=!J&&K&&(F==="hex"||F==="hex6"||F==="hex3"||F==="hex4"||F==="hex8"||F==="name");return ie?F==="name"&&this._a===0?this.toName():this.toRgbString():(F==="rgb"&&(E=this.toRgbString()),F==="prgb"&&(E=this.toPercentageRgbString()),(F==="hex"||F==="hex6")&&(E=this.toHexString()),F==="hex3"&&(E=this.toHexString(!0)),F==="hex4"&&(E=this.toHex8String(!0)),F==="hex8"&&(E=this.toHex8String()),F==="name"&&(E=this.toName()),F==="hsl"&&(E=this.toHslString()),F==="hsv"&&(E=this.toHsvString()),E||this.toHexString())},clone:function(){return d(this.toString())},_applyModification:function(F,J){var E=F.apply(null,[this].concat([].slice.call(J)));return this._r=E._r,this._g=E._g,this._b=E._b,this.setAlpha(E._a),this},lighten:function(){return this._applyModification(B,arguments)},brighten:function(){return this._applyModification(C,arguments)},darken:function(){return this._applyModification(I,arguments)},desaturate:function(){return this._applyModification(u,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(O,arguments)},_applyCombination:function(F,J){return F.apply(null,[this].concat([].slice.call(J)))},analogous:function(){return this._applyCombination(q,arguments)},complement:function(){return this._applyCombination(L,arguments)},monochromatic:function(){return this._applyCombination(ae,arguments)},splitcomplement:function(){return this._applyCombination(te,arguments)},triad:function(){return this._applyCombination(X,arguments)},tetrad:function(){return this._applyCombination(Z,arguments)}},d.fromRatio=function(F,J){if(typeof F=="object"){var E={};for(var K in F)F.hasOwnProperty(K)&&(K==="a"?E[K]=F[K]:E[K]=ce(F[K]));F=E}return d(F,J)};function p(F){var J={r:0,g:0,b:0},E=1,K=null,ie=null,ve=null,he=!1,Le=!1;return typeof F=="string"&&(F=z(F)),typeof F=="object"&&(k(F.r)&&k(F.g)&&k(F.b)?(J=m(F.r,F.g,F.b),he=!0,Le=String(F.r).substr(-1)==="%"?"prgb":"rgb"):k(F.h)&&k(F.s)&&k(F.v)?(K=ce(F.s),ie=ce(F.v),J=g(F.h,K,ie),he=!0,Le="hsv"):k(F.h)&&k(F.s)&&k(F.l)&&(K=ce(F.s),ve=ce(F.l),J=h(F.h,K,ve),he=!0,Le="hsl"),F.hasOwnProperty("a")&&(E=F.a)),E=V(E),{ok:he,format:F.format||Le,r:s(255,n(J.r,0)),g:s(255,n(J.g,0)),b:s(255,n(J.b,0)),a:E}}function m(F,J,E){return{r:G(F,255)*255,g:G(J,255)*255,b:G(E,255)*255}}function y(F,J,E){F=G(F,255),J=G(J,255),E=G(E,255);var K=n(F,J,E),ie=s(F,J,E),ve,he,Le=(K+ie)/2;if(K==ie)ve=he=0;else{var ke=K-ie;switch(he=Le>.5?ke/(2-K-ie):ke/(K+ie),K){case F:ve=(J-E)/ke+(J<E?6:0);break;case J:ve=(E-F)/ke+2;break;case E:ve=(F-J)/ke+4;break}ve/=6}return{h:ve,s:he,l:Le}}function h(F,J,E){var K,ie,ve;F=G(F,360),J=G(J,100),E=G(E,100);function he(se,ge,be){return be<0&&(be+=1),be>1&&(be-=1),be<.16666666666666666?se+(ge-se)*6*be:be<.5?ge:be<.6666666666666666?se+(ge-se)*(.6666666666666666-be)*6:se}if(J===0)K=ie=ve=E;else{var Le=E<.5?E*(1+J):E+J-E*J,ke=2*E-Le;K=he(ke,Le,F+.3333333333333333),ie=he(ke,Le,F),ve=he(ke,Le,F-.3333333333333333)}return{r:K*255,g:ie*255,b:ve*255}}function T(F,J,E){F=G(F,255),J=G(J,255),E=G(E,255);var K=n(F,J,E),ie=s(F,J,E),ve,he,Le=K,ke=K-ie;if(he=K===0?0:ke/K,K==ie)ve=0;else{switch(K){case F:ve=(J-E)/ke+(J<E?6:0);break;case J:ve=(E-F)/ke+2;break;case E:ve=(F-J)/ke+4;break}ve/=6}return{h:ve,s:he,v:Le}}function g(F,J,E){F=G(F,360)*6,J=G(J,100),E=G(E,100);var K=x.floor(F),ie=F-K,ve=E*(1-J),he=E*(1-ie*J),Le=E*(1-(1-ie)*J),ke=K%6,se=[E,he,ve,ve,Le,E][ke],ge=[Le,E,E,he,ve,ve][ke],be=[ve,ve,Le,E,E,he][ke];return{r:se*255,g:ge*255,b:be*255}}function M(F,J,E,K){var ie=[Se(f(F).toString(16)),Se(f(J).toString(16)),Se(f(E).toString(16))];return K&&ie[0].charAt(0)==ie[0].charAt(1)&&ie[1].charAt(0)==ie[1].charAt(1)&&ie[2].charAt(0)==ie[2].charAt(1)?ie[0].charAt(0)+ie[1].charAt(0)+ie[2].charAt(0):ie.join("")}function v(F,J,E,K,ie){var ve=[Se(f(F).toString(16)),Se(f(J).toString(16)),Se(f(E).toString(16)),Se(de(K))];return ie&&ve[0].charAt(0)==ve[0].charAt(1)&&ve[1].charAt(0)==ve[1].charAt(1)&&ve[2].charAt(0)==ve[2].charAt(1)&&ve[3].charAt(0)==ve[3].charAt(1)?ve[0].charAt(0)+ve[1].charAt(0)+ve[2].charAt(0)+ve[3].charAt(0):ve.join("")}function c(F,J,E,K){var ie=[Se(de(K)),Se(f(F).toString(16)),Se(f(J).toString(16)),Se(f(E).toString(16))];return ie.join("")}d.equals=function(F,J){return!F||!J?!1:d(F).toRgbString()==d(J).toRgbString()},d.random=function(){return d.fromRatio({r:t(),g:t(),b:t()})};function u(F,J){J=J===0?0:J||10;var E=d(F).toHsl();return E.s-=J/100,E.s=Q(E.s),d(E)}function b(F,J){J=J===0?0:J||10;var E=d(F).toHsl();return E.s+=J/100,E.s=Q(E.s),d(E)}function w(F){return d(F).desaturate(100)}function B(F,J){J=J===0?0:J||10;var E=d(F).toHsl();return E.l+=J/100,E.l=Q(E.l),d(E)}function C(F,J){J=J===0?0:J||10;var E=d(F).toRgb();return E.r=n(0,s(255,E.r-f(255*-(J/100)))),E.g=n(0,s(255,E.g-f(255*-(J/100)))),E.b=n(0,s(255,E.b-f(255*-(J/100)))),d(E)}function I(F,J){J=J===0?0:J||10;var E=d(F).toHsl();return E.l-=J/100,E.l=Q(E.l),d(E)}function O(F,J){var E=d(F).toHsl(),K=(E.h+J)%360;return E.h=K<0?360+K:K,d(E)}function L(F){var J=d(F).toHsl();return J.h=(J.h+180)%360,d(J)}function X(F){var J=d(F).toHsl(),E=J.h;return[d(F),d({h:(E+120)%360,s:J.s,l:J.l}),d({h:(E+240)%360,s:J.s,l:J.l})]}function Z(F){var J=d(F).toHsl(),E=J.h;return[d(F),d({h:(E+90)%360,s:J.s,l:J.l}),d({h:(E+180)%360,s:J.s,l:J.l}),d({h:(E+270)%360,s:J.s,l:J.l})]}function te(F){var J=d(F).toHsl(),E=J.h;return[d(F),d({h:(E+72)%360,s:J.s,l:J.l}),d({h:(E+216)%360,s:J.s,l:J.l})]}function q(F,J,E){J=J||6,E=E||30;var K=d(F).toHsl(),ie=360/E,ve=[d(F)];for(K.h=(K.h-(ie*J>>1)+720)%360;--J;)K.h=(K.h+ie)%360,ve.push(d(K));return ve}function ae(F,J){J=J||6;for(var E=d(F).toHsv(),K=E.h,ie=E.s,ve=E.v,he=[],Le=1/J;J--;)he.push(d({h:K,s:ie,v:ve})),ve=(ve+Le)%1;return he}d.mix=function(F,J,E){E=E===0?0:E||50;var K=d(F).toRgb(),ie=d(J).toRgb(),ve=E/100,he={r:(ie.r-K.r)*ve+K.r,g:(ie.g-K.g)*ve+K.g,b:(ie.b-K.b)*ve+K.b,a:(ie.a-K.a)*ve+K.a};return d(he)},d.readability=function(F,J){var E=d(F),K=d(J);return(x.max(E.getLuminance(),K.getLuminance())+.05)/(x.min(E.getLuminance(),K.getLuminance())+.05)},d.isReadable=function(F,J,E){var K=d.readability(F,J),ie,ve;switch(ve=!1,ie=Y(E),ie.level+ie.size){case"AAsmall":case"AAAlarge":ve=K>=4.5;break;case"AAlarge":ve=K>=3;break;case"AAAsmall":ve=K>=7;break}return ve},d.mostReadable=function(F,J,E){var K=null,ie=0,ve,he,Le,ke;E=E||{},he=E.includeFallbackColors,Le=E.level,ke=E.size;for(var se=0;se<J.length;se++)ve=d.readability(F,J[se]),ve>ie&&(ie=ve,K=d(J[se]));return d.isReadable(F,K,{level:Le,size:ke})||!he?K:(E.includeFallbackColors=!1,d.mostReadable(F,["#fff","#000"],E))};var N=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},D=d.hexNames=_(N);function _(F){var J={};for(var E in F)F.hasOwnProperty(E)&&(J[F[E]]=E);return J}function V(F){return F=parseFloat(F),(isNaN(F)||F<0||F>1)&&(F=1),F}function G(F,J){le(F)&&(F="100%");var E=ye(F);return F=s(J,n(0,parseFloat(F))),E&&(F=parseInt(F*J,10)/100),x.abs(F-J)<1e-6?1:F%J/parseFloat(J)}function Q(F){return s(1,n(0,F))}function ue(F){return parseInt(F,16)}function le(F){return typeof F=="string"&&F.indexOf(".")!=-1&&parseFloat(F)===1}function ye(F){return typeof F=="string"&&F.indexOf("%")!=-1}function Se(F){return F.length==1?"0"+F:""+F}function ce(F){return F<=1&&(F=F*100+"%"),F}function de(F){return x.round(parseFloat(F)*255).toString(16)}function S(F){return ue(F)/255}var P=function(){var F="[-\\+]?\\d+%?",J="[-\\+]?\\d*\\.\\d+%?",E="(?:"+J+")|(?:"+F+")",K="[\\s|\\(]+("+E+")[,|\\s]+("+E+")[,|\\s]+("+E+")\\s*\\)?",ie="[\\s|\\(]+("+E+")[,|\\s]+("+E+")[,|\\s]+("+E+")[,|\\s]+("+E+")\\s*\\)?";return{CSS_UNIT:new RegExp(E),rgb:new RegExp("rgb"+K),rgba:new RegExp("rgba"+ie),hsl:new RegExp("hsl"+K),hsla:new RegExp("hsla"+ie),hsv:new RegExp("hsv"+K),hsva:new RegExp("hsva"+ie),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function k(F){return!!P.CSS_UNIT.exec(F)}function z(F){F=F.replace(l,"").replace(i,"").toLowerCase();var J=!1;if(N[F])F=N[F],J=!0;else if(F=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var E;return(E=P.rgb.exec(F))?{r:E[1],g:E[2],b:E[3]}:(E=P.rgba.exec(F))?{r:E[1],g:E[2],b:E[3],a:E[4]}:(E=P.hsl.exec(F))?{h:E[1],s:E[2],l:E[3]}:(E=P.hsla.exec(F))?{h:E[1],s:E[2],l:E[3],a:E[4]}:(E=P.hsv.exec(F))?{h:E[1],s:E[2],v:E[3]}:(E=P.hsva.exec(F))?{h:E[1],s:E[2],v:E[3],a:E[4]}:(E=P.hex8.exec(F))?{r:ue(E[1]),g:ue(E[2]),b:ue(E[3]),a:S(E[4]),format:J?"name":"hex8"}:(E=P.hex6.exec(F))?{r:ue(E[1]),g:ue(E[2]),b:ue(E[3]),format:J?"name":"hex"}:(E=P.hex4.exec(F))?{r:ue(E[1]+""+E[1]),g:ue(E[2]+""+E[2]),b:ue(E[3]+""+E[3]),a:S(E[4]+""+E[4]),format:J?"name":"hex8"}:(E=P.hex3.exec(F))?{r:ue(E[1]+""+E[1]),g:ue(E[2]+""+E[2]),b:ue(E[3]+""+E[3]),format:J?"name":"hex"}:!1}function Y(F){var J,E;return F=F||{level:"AA",size:"small"},J=(F.level||"AA").toUpperCase(),E=(F.size||"small").toLowerCase(),J!=="AA"&&J!=="AAA"&&(J="AA"),E!=="small"&&E!=="large"&&(E="small"),{level:J,size:E}}re.exports?re.exports=d:(o=function(){return d}.call(H,e,H,re),o!==void 0&&(re.exports=o))})(Math)},3961:function(re,H,e){var o=e(3489),x=e(6131),l=o.instance();function i(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}i.prototype=new o.baseCalendar,x(i.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(y,h){if(typeof y=="string"){var T=y.match(f);return T?T[0]:""}var g=this._validateYear(y),M=y.month(),v=""+this.toChineseMonth(g,M);return h&&v.length<2&&(v="0"+v),this.isIntercalaryMonth(g,M)&&(v+="i"),v},monthNames:function(y){if(typeof y=="string"){var h=y.match(s);return h?h[0]:""}var T=this._validateYear(y),g=y.month(),M=this.toChineseMonth(T,g),v=["","","","","","","","","","","",""][M-1];return this.isIntercalaryMonth(T,g)&&(v=""+v),v},monthNamesShort:function(y){if(typeof y=="string"){var h=y.match(n);return h?h[0]:""}var T=this._validateYear(y),g=y.month(),M=this.toChineseMonth(T,g),v=["","","","","","","","","","","",""][M-1];return this.isIntercalaryMonth(T,g)&&(v=""+v),v},parseMonth:function(y,h){y=this._validateYear(y);var T=parseInt(h),g;if(isNaN(T))h[0]===""&&(g=!0,h=h.substring(1)),h[h.length-1]===""&&(h=h.substring(0,h.length-1)),T=1+["","","","","","","","","","","",""].indexOf(h);else{var M=h[h.length-1];g=M==="i"||M==="I"}var v=this.toMonthIndex(y,T,g);return v},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(y,h){if(y.year&&(y=y.year()),typeof y!="number"||y<1888||y>2111)throw h.replace(/\{0\}/,this.local.name);return y},toMonthIndex:function(y,h,T){var g=this.intercalaryMonth(y),M=T&&h!==g;if(M||h<1||h>12)throw o.local.invalidMonth.replace(/\{0\}/,this.local.name);var v;return g?!T&&h<=g?v=h-1:v=h:v=h-1,v},toChineseMonth:function(y,h){y.year&&(y=y.year(),h=y.month());var T=this.intercalaryMonth(y),g=T?12:11;if(h<0||h>g)throw o.local.invalidMonth.replace(/\{0\}/,this.local.name);var M;return T?h<T?M=h+1:M=h:M=h+1,M},intercalaryMonth:function(y){y=this._validateYear(y);var h=t[y-t[0]],T=h>>13;return T},isIntercalaryMonth:function(y,h){y.year&&(y=y.year(),h=y.month());var T=this.intercalaryMonth(y);return!!T&&T===h},leapYear:function(y){return this.intercalaryMonth(y)!==0},weekOfYear:function(y,h,T){var g=this._validateYear(y,o.local.invalidyear),M=d[g-d[0]],v=M>>9&4095,c=M>>5&15,u=M&31,b;b=l.newDate(v,c,u),b.add(4-(b.dayOfWeek()||7),"d");var w=this.toJD(y,h,T)-b.toJD();return 1+Math.floor(w/7)},monthsInYear:function(y){return this.leapYear(y)?13:12},daysInMonth:function(y,h){y.year&&(h=y.month(),y=y.year()),y=this._validateYear(y);var T=t[y-t[0]],g=T>>13,M=g?12:11;if(h>M)throw o.local.invalidMonth.replace(/\{0\}/,this.local.name);var v=T&1<<12-h?30:29;return v},weekDay:function(y,h,T){return(this.dayOfWeek(y,h,T)||7)<6},toJD:function(y,h,T){var g=this._validate(y,v,T,o.local.invalidDate);y=this._validateYear(g.year()),h=g.month(),T=g.day();var M=this.isIntercalaryMonth(y,h),v=this.toChineseMonth(y,h),c=m(y,v,T,M);return l.toJD(c.year,c.month,c.day)},fromJD:function(y){var h=l.fromJD(y),T=p(h.year(),h.month(),h.day()),g=this.toMonthIndex(T.year,T.month,T.isIntercalary);return this.newDate(T.year,g,T.day)},fromString:function(y){var h=y.match(r),T=this._validateYear(+h[1]),g=+h[2],M=!!h[3],v=this.toMonthIndex(T,g,M),c=+h[4];return this.newDate(T,v,c)},add:function(y,h,T){var g=y.year(),M=y.month(),v=this.isIntercalaryMonth(g,M),c=this.toChineseMonth(g,M),u=Object.getPrototypeOf(i.prototype).add.call(this,y,h,T);if(T==="y"){var b=u.year(),w=u.month(),B=this.isIntercalaryMonth(b,c),C=v&&B?this.toMonthIndex(b,c,!0):this.toMonthIndex(b,c,!1);C!==w&&u.month(C)}return u}});var r=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,f=/^\d?\d[iI]?/m,s=/^??[]?/m,n=/^??[]?/m;o.calendars.chinese=i;var t=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],d=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function p(y,h,T,g){var M,v;if(typeof y=="object")M=y,v=h||{};else{var c=typeof y=="number"&&y>=1888&&y<=2111;if(!c)throw new Error("Solar year outside range 1888-2111");var u=typeof h=="number"&&h>=1&&h<=12;if(!u)throw new Error("Solar month outside range 1 - 12");var b=typeof T=="number"&&T>=1&&T<=31;if(!b)throw new Error("Solar day outside range 1 - 31");M={year:y,month:h,day:T},v=g||{}}var w=d[M.year-d[0]],B=M.year<<9|M.month<<5|M.day;v.year=B>=w?M.year:M.year-1,w=d[v.year-d[0]];var C=w>>9&4095,I=w>>5&15,O=w&31,L,X=new Date(C,I-1,O),Z=new Date(M.year,M.month-1,M.day);L=Math.round((Z-X)/864e5);var te=t[v.year-t[0]],q;for(q=0;q<13;q++){var ae=te&1<<12-q?30:29;if(L<ae)break;L-=ae}var N=te>>13;return!N||q<N?(v.isIntercalary=!1,v.month=1+q):q===N?(v.isIntercalary=!0,v.month=q):(v.isIntercalary=!1,v.month=q),v.day=1+L,v}function m(y,h,T,g,M){var v,c;if(typeof y=="object")c=y,v=h||{};else{var u=typeof y=="number"&&y>=1888&&y<=2111;if(!u)throw new Error("Lunar year outside range 1888-2111");var b=typeof h=="number"&&h>=1&&h<=12;if(!b)throw new Error("Lunar month outside range 1 - 12");var w=typeof T=="number"&&T>=1&&T<=30;if(!w)throw new Error("Lunar day outside range 1 - 30");var B;typeof g=="object"?(B=!1,v=g):(B=!!g,v=M||{}),c={year:y,month:h,day:T,isIntercalary:B}}var C;C=c.day-1;var I=t[c.year-t[0]],O=I>>13,L;O&&(c.month>O||c.isIntercalary)?L=c.month:L=c.month-1;for(var X=0;X<L;X++){var Z=I&1<<12-X?30:29;C+=Z}var te=d[c.year-d[0]],q=te>>9&4095,ae=te>>5&15,N=te&31,D=new Date(q,ae-1,N+C);return v.year=D.getFullYear(),v.month=1+D.getMonth(),v.day=D.getDate(),v}},8751:function(re,H,e){var o=e(3489),x=e(6131);function l(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}l.prototype=new o.baseCalendar,x(l.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(f){var r=this._validate(f,this.minMonth,this.minDay,o.local.invalidYear),f=r.year()+(r.year()<0?1:0);return f%4===3||f%4===-1},monthsInYear:function(i){return this._validate(i,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear),13},weekOfYear:function(i,r,f){var s=this.newDate(i,r,f);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(i,r){var f=this._validate(i,r,this.minDay,o.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===13&&this.leapYear(f.year())?1:0)},weekDay:function(i,r,f){return(this.dayOfWeek(i,r,f)||7)<6},toJD:function(i,r,f){var s=this._validate(i,r,f,o.local.invalidDate);return i=s.year(),i<0&&i++,s.day()+(s.month()-1)*30+(i-1)*365+Math.floor(i/4)+this.jdEpoch-1},fromJD:function(i){var r=Math.floor(i)+.5-this.jdEpoch,f=Math.floor((r-Math.floor((r+366)/1461))/365)+1;f<=0&&f--,r=Math.floor(i)+.5-this.newDate(f,1,1).toJD();var s=Math.floor(r/30)+1,n=r-(s-1)*30+1;return this.newDate(f,s,n)}}),o.calendars.coptic=l},6825:function(re,H,e){var o=e(3489),x=e(6131);function l(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}l.prototype=new o.baseCalendar,x(l.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(r){return this._validate(r,this.minMonth,this.minDay,o.local.invalidYear),!1},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,o.local.invalidYear),13},daysInYear:function(r){return this._validate(r,this.minMonth,this.minDay,o.local.invalidYear),400},weekOfYear:function(r,f,s){var n=this.newDate(r,f,s);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/8)+1},daysInMonth:function(r,f){var s=this._validate(r,f,this.minDay,o.local.invalidMonth);return this.daysPerMonth[s.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(r,f,s){var n=this._validate(r,f,s,o.local.invalidDate);return(n.day()+1)%8},weekDay:function(r,f,s){var n=this.dayOfWeek(r,f,s);return n>=2&&n<=6},extraInfo:function(r,f,s){var n=this._validate(r,f,s,o.local.invalidDate);return{century:i[Math.floor((n.year()-1)/100)+1]||""}},toJD:function(r,f,s){var n=this._validate(r,f,s,o.local.invalidDate);return r=n.year()+(n.year()<0?1:0),f=n.month(),s=n.day(),s+(f>1?16:0)+(f>2?(f-2)*32:0)+(r-1)*400+this.jdEpoch-1},fromJD:function(r){r=Math.floor(r+.5)-Math.floor(this.jdEpoch)-1;var f=Math.floor(r/400)+1;r-=(f-1)*400,r+=r>15?16:0;var s=Math.floor(r/32)+1,n=r-(s-1)*32+1;return this.newDate(f<=0?f-1:f,s,n)}});var i={20:"Fruitbat",21:"Anchovy"};o.calendars.discworld=l},7715:function(re,H,e){var o=e(3489),x=e(6131);function l(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}l.prototype=new o.baseCalendar,x(l.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(f){var r=this._validate(f,this.minMonth,this.minDay,o.local.invalidYear),f=r.year()+(r.year()<0?1:0);return f%4===3||f%4===-1},monthsInYear:function(i){return this._validate(i,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear),13},weekOfYear:function(i,r,f){var s=this.newDate(i,r,f);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(i,r){var f=this._validate(i,r,this.minDay,o.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===13&&this.leapYear(f.year())?1:0)},weekDay:function(i,r,f){return(this.dayOfWeek(i,r,f)||7)<6},toJD:function(i,r,f){var s=this._validate(i,r,f,o.local.invalidDate);return i=s.year(),i<0&&i++,s.day()+(s.month()-1)*30+(i-1)*365+Math.floor(i/4)+this.jdEpoch-1},fromJD:function(i){var r=Math.floor(i)+.5-this.jdEpoch,f=Math.floor((r-Math.floor((r+366)/1461))/365)+1;f<=0&&f--,r=Math.floor(i)+.5-this.newDate(f,1,1).toJD();var s=Math.floor(r/30)+1,n=r-(s-1)*30+1;return this.newDate(f,s,n)}}),o.calendars.ethiopian=l},9384:function(re,H,e){var o=e(3489),x=e(6131);function l(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}l.prototype=new o.baseCalendar,x(l.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(r){var f=this._validate(r,this.minMonth,this.minDay,o.local.invalidYear);return this._leapYear(f.year())},_leapYear:function(r){return r=r<0?r+1:r,i(r*7+1,19)<7},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,o.local.invalidYear),this._leapYear(r.year?r.year():r)?13:12},weekOfYear:function(r,f,s){var n=this.newDate(r,f,s);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(r){var f=this._validate(r,this.minMonth,this.minDay,o.local.invalidYear);return r=f.year(),this.toJD(r===-1?1:r+1,7,1)-this.toJD(r,7,1)},daysInMonth:function(r,f){return r.year&&(f=r.month(),r=r.year()),this._validate(r,f,this.minDay,o.local.invalidMonth),f===12&&this.leapYear(r)||f===8&&i(this.daysInYear(r),10)===5?30:f===9&&i(this.daysInYear(r),10)===3?29:this.daysPerMonth[f-1]},weekDay:function(r,f,s){return this.dayOfWeek(r,f,s)!==6},extraInfo:function(r,f,s){var n=this._validate(r,f,s,o.local.invalidDate);return{yearType:(this.leapYear(n)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(n)%10-3]}},toJD:function(r,f,s){var n=this._validate(r,f,s,o.local.invalidDate);r=n.year(),f=n.month(),s=n.day();var t=r<=0?r+1:r,d=this.jdEpoch+this._delay1(t)+this._delay2(t)+s+1;if(f<7){for(var p=7;p<=this.monthsInYear(r);p++)d+=this.daysInMonth(r,p);for(var p=1;p<f;p++)d+=this.daysInMonth(r,p)}else for(var p=7;p<f;p++)d+=this.daysInMonth(r,p);return d},_delay1:function(r){var f=Math.floor((235*r-234)/19),s=12084+13753*f,n=f*29+Math.floor(s/25920);return i(3*(n+1),7)<3&&n++,n},_delay2:function(r){var f=this._delay1(r-1),s=this._delay1(r),n=this._delay1(r+1);return n-s===356?2:s-f===382?1:0},fromJD:function(r){r=Math.floor(r)+.5;for(var f=Math.floor((r-this.jdEpoch)*98496/35975351)-1;r>=this.toJD(f===-1?1:f+1,7,1);)f++;for(var s=r<this.toJD(f,1,1)?7:1;r>this.toJD(f,s,this.daysInMonth(f,s));)s++;var n=r-this.toJD(f,s,1)+1;return this.newDate(f,s,n)}});function i(r,f){return r-f*Math.floor(r/f)}o.calendars.hebrew=l},3805:function(re,H,e){var o=e(3489),x=e(6131);function l(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}l.prototype=new o.baseCalendar,x(l.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(i){var r=this._validate(i,this.minMonth,this.minDay,o.local.invalidYear);return(r.year()*11+14)%30<11},weekOfYear:function(i,r,f){var s=this.newDate(i,r,f);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInYear:function(i){return this.leapYear(i)?355:354},daysInMonth:function(i,r){var f=this._validate(i,r,this.minDay,o.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===12&&this.leapYear(f.year())?1:0)},weekDay:function(i,r,f){return this.dayOfWeek(i,r,f)!==5},toJD:function(i,r,f){var s=this._validate(i,r,f,o.local.invalidDate);return i=s.year(),r=s.month(),f=s.day(),i=i<=0?i+1:i,f+Math.ceil(29.5*(r-1))+(i-1)*354+Math.floor((3+11*i)/30)+this.jdEpoch-1},fromJD:function(i){i=Math.floor(i)+.5;var r=Math.floor((30*(i-this.jdEpoch)+10646)/10631);r=r<=0?r-1:r;var f=Math.min(12,Math.ceil((i-29-this.toJD(r,1,1))/29.5)+1),s=i-this.toJD(r,f,1)+1;return this.newDate(r,f,s)}}),o.calendars.islamic=l},8874:function(re,H,e){var o=e(3489),x=e(6131);function l(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}l.prototype=new o.baseCalendar,x(l.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(f){var r=this._validate(f,this.minMonth,this.minDay,o.local.invalidYear),f=r.year()<0?r.year()+1:r.year();return f%4===0},weekOfYear:function(i,r,f){var s=this.newDate(i,r,f);return s.add(4-(s.dayOfWeek()||7),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(i,r){var f=this._validate(i,r,this.minDay,o.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===2&&this.leapYear(f.year())?1:0)},weekDay:function(i,r,f){return(this.dayOfWeek(i,r,f)||7)<6},toJD:function(i,r,f){var s=this._validate(i,r,f,o.local.invalidDate);return i=s.year(),r=s.month(),f=s.day(),i<0&&i++,r<=2&&(i--,r+=12),Math.floor(365.25*(i+4716))+Math.floor(30.6001*(r+1))+f-1524.5},fromJD:function(i){var r=Math.floor(i+.5),f=r+1524,s=Math.floor((f-122.1)/365.25),n=Math.floor(365.25*s),t=Math.floor((f-n)/30.6001),d=t-Math.floor(t<14?1:13),p=s-Math.floor(d>2?4716:4715),m=f-n-Math.floor(30.6001*t);return p<=0&&p--,this.newDate(p,d,m)}}),o.calendars.julian=l},3290:function(re,H,e){var o=e(3489),x=e(6131);function l(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}l.prototype=new o.baseCalendar,x(l.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(f){return this._validate(f,this.minMonth,this.minDay,o.local.invalidYear),!1},formatYear:function(f){var s=this._validate(f,this.minMonth,this.minDay,o.local.invalidYear);f=s.year();var n=Math.floor(f/400);f=f%400,f+=f<0?400:0;var t=Math.floor(f/20);return n+"."+t+"."+f%20},forYear:function(f){if(f=f.split("."),f.length<3)throw"Invalid Mayan year";for(var s=0,n=0;n<f.length;n++){var t=parseInt(f[n],10);if(Math.abs(t)>19||n>0&&t<0)throw"Invalid Mayan year";s=s*20+t}return s},monthsInYear:function(f){return this._validate(f,this.minMonth,this.minDay,o.local.invalidYear),18},weekOfYear:function(f,s,n){return this._validate(f,s,n,o.local.invalidDate),0},daysInYear:function(f){return this._validate(f,this.minMonth,this.minDay,o.local.invalidYear),360},daysInMonth:function(f,s){return this._validate(f,s,this.minDay,o.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(f,s,n){var t=this._validate(f,s,n,o.local.invalidDate);return t.day()},weekDay:function(f,s,n){return this._validate(f,s,n,o.local.invalidDate),!0},extraInfo:function(f,s,n){var t=this._validate(f,s,n,o.local.invalidDate),d=t.toJD(),p=this._toHaab(d),m=this._toTzolkin(d);return{haabMonthName:this.local.haabMonths[p[0]-1],haabMonth:p[0],haabDay:p[1],tzolkinDayName:this.local.tzolkinMonths[m[0]-1],tzolkinDay:m[0],tzolkinTrecena:m[1]}},_toHaab:function(f){f-=this.jdEpoch;var s=i(f+8+(18-1)*20,365);return[Math.floor(s/20)+1,i(s,20)]},_toTzolkin:function(f){return f-=this.jdEpoch,[r(f+20,20),r(f+4,13)]},toJD:function(f,s,n){var t=this._validate(f,s,n,o.local.invalidDate);return t.day()+t.month()*20+t.year()*360+this.jdEpoch},fromJD:function(f){f=Math.floor(f)+.5-this.jdEpoch;var s=Math.floor(f/360);f=f%360,f+=f<0?360:0;var n=Math.floor(f/20),t=f%20;return this.newDate(s,n,t)}});function i(f,s){return f-s*Math.floor(f/s)}function r(f,s){return i(f-1,s)+1}o.calendars.mayan=l},9108:function(re,H,e){var o=e(3489),x=e(6131);function l(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}l.prototype=new o.baseCalendar;var i=o.instance("gregorian");x(l.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(r){var f=this._validate(r,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return i.leapYear(f.year()+(f.year()<1?1:0)+1469)},weekOfYear:function(r,f,s){var n=this.newDate(r,f,s);return n.add(1-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(r,f){var s=this._validate(r,f,this.minDay,o.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===12&&this.leapYear(s.year())?1:0)},weekDay:function(r,f,s){return(this.dayOfWeek(r,f,s)||7)<6},toJD:function(t,f,s){var n=this._validate(t,f,s,o.local.invalidMonth),t=n.year();t<0&&t++;for(var d=n.day(),p=1;p<n.month();p++)d+=this.daysPerMonth[p-1];return d+i.toJD(t+1468,3,13)},fromJD:function(r){r=Math.floor(r+.5);for(var f=Math.floor((r-(this.jdEpoch-1))/366);r>=this.toJD(f+1,1,1);)f++;for(var s=r-Math.floor(this.toJD(f,1,1)+.5)+1,n=1;s>this.daysInMonth(f,n);)s-=this.daysInMonth(f,n),n++;return this.newDate(f,n,s)}}),o.calendars.nanakshahi=l},5422:function(re,H,e){var o=e(3489),x=e(6131);function l(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}l.prototype=new o.baseCalendar,x(l.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(i){return this.daysInYear(i)!==this.daysPerYear},weekOfYear:function(i,r,f){var s=this.newDate(i,r,f);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInYear:function(i){var r=this._validate(i,this.minMonth,this.minDay,o.local.invalidYear);if(i=r.year(),typeof this.NEPALI_CALENDAR_DATA[i]>"u")return this.daysPerYear;for(var f=0,s=this.minMonth;s<=12;s++)f+=this.NEPALI_CALENDAR_DATA[i][s];return f},daysInMonth:function(i,r){return i.year&&(r=i.month(),i=i.year()),this._validate(i,r,this.minDay,o.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[i]>"u"?this.daysPerMonth[r-1]:this.NEPALI_CALENDAR_DATA[i][r]},weekDay:function(i,r,f){return this.dayOfWeek(i,r,f)!==6},toJD:function(i,r,f){var s=this._validate(i,r,f,o.local.invalidDate);i=s.year(),r=s.month(),f=s.day();var n=o.instance(),t=0,d=r,p=i;this._createMissingCalendarData(i);var m=i-(d>9||d===9&&f>=this.NEPALI_CALENDAR_DATA[p][0]?56:57);for(r!==9&&(t=f,d--);d!==9;)d<=0&&(d=12,p--),t+=this.NEPALI_CALENDAR_DATA[p][d],d--;return r===9?(t+=f-this.NEPALI_CALENDAR_DATA[p][0],t<0&&(t+=n.daysInYear(m))):t+=this.NEPALI_CALENDAR_DATA[p][9]-this.NEPALI_CALENDAR_DATA[p][0],n.newDate(m,1,1).add(t,"d").toJD()},fromJD:function(i){var r=o.instance(),f=r.fromJD(i),s=f.year(),n=f.dayOfYear(),t=s+56;this._createMissingCalendarData(t);for(var d=9,p=this.NEPALI_CALENDAR_DATA[t][0],m=this.NEPALI_CALENDAR_DATA[t][d]-p+1;n>m;)d++,d>12&&(d=1,t++),m+=this.NEPALI_CALENDAR_DATA[t][d];var y=this.NEPALI_CALENDAR_DATA[t][d]-(m-n);return this.newDate(t,d,y)},_createMissingCalendarData:function(i){var r=this.daysPerMonth.slice(0);r.unshift(17);for(var f=i-1;f<i+2;f++)typeof this.NEPALI_CALENDAR_DATA[f]>"u"&&(this.NEPALI_CALENDAR_DATA[f]=r)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),o.calendars.nepali=l},4320:function(re,H,e){var o=e(3489),x=e(6131);function l(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}l.prototype=new o.baseCalendar,x(l.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(r){var f=this._validate(r,this.minMonth,this.minDay,o.local.invalidYear);return((f.year()-(f.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(r,f,s){var n=this.newDate(r,f,s);return n.add(-((n.dayOfWeek()+1)%7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(r,f){var s=this._validate(r,f,this.minDay,o.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===12&&this.leapYear(s.year())?1:0)},weekDay:function(r,f,s){return this.dayOfWeek(r,f,s)!==5},toJD:function(r,f,s){var n=this._validate(r,f,s,o.local.invalidDate);r=n.year(),f=n.month(),s=n.day();var t=r-(r>=0?474:473),d=474+i(t,2820);return s+(f<=7?(f-1)*31:(f-1)*30+6)+Math.floor((d*682-110)/2816)+(d-1)*365+Math.floor(t/2820)*1029983+this.jdEpoch-1},fromJD:function(r){r=Math.floor(r)+.5;var f=r-this.toJD(475,1,1),s=Math.floor(f/1029983),n=i(f,1029983),t=2820;if(n!==1029982){var d=Math.floor(n/366),p=i(n,366);t=Math.floor((2134*d+2816*p+2815)/1028522)+d+1}var m=t+2820*s+474;m=m<=0?m-1:m;var y=r-this.toJD(m,1,1)+1,h=y<=186?Math.ceil(y/31):Math.ceil((y-6)/30),T=r-this.toJD(m,h,1)+1;return this.newDate(m,h,T)}});function i(r,f){return r-f*Math.floor(r/f)}o.calendars.persian=l,o.calendars.jalali=l},1320:function(re,H,e){var o=e(3489),x=e(6131),l=o.instance();function i(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}i.prototype=new o.baseCalendar,x(i.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(s){var f=this._validate(s,this.minMonth,this.minDay,o.local.invalidYear),s=this._t2gYear(f.year());return l.leapYear(s)},weekOfYear:function(t,f,s){var n=this._validate(t,this.minMonth,this.minDay,o.local.invalidYear),t=this._t2gYear(n.year());return l.weekOfYear(t,n.month(),n.day())},daysInMonth:function(r,f){var s=this._validate(r,f,this.minDay,o.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===2&&this.leapYear(s.year())?1:0)},weekDay:function(r,f,s){return(this.dayOfWeek(r,f,s)||7)<6},toJD:function(t,f,s){var n=this._validate(t,f,s,o.local.invalidDate),t=this._t2gYear(n.year());return l.toJD(t,n.month(),n.day())},fromJD:function(r){var f=l.fromJD(r),s=this._g2tYear(f.year());return this.newDate(s,f.month(),f.day())},_t2gYear:function(r){return r+this.yearsOffset+(r>=-this.yearsOffset&&r<=-1?1:0)},_g2tYear:function(r){return r-this.yearsOffset-(r>=1&&r<=this.yearsOffset?1:0)}}),o.calendars.taiwan=i},1367:function(re,H,e){var o=e(3489),x=e(6131),l=o.instance();function i(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}i.prototype=new o.baseCalendar,x(i.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(s){var f=this._validate(s,this.minMonth,this.minDay,o.local.invalidYear),s=this._t2gYear(f.year());return l.leapYear(s)},weekOfYear:function(t,f,s){var n=this._validate(t,this.minMonth,this.minDay,o.local.invalidYear),t=this._t2gYear(n.year());return l.weekOfYear(t,n.month(),n.day())},daysInMonth:function(r,f){var s=this._validate(r,f,this.minDay,o.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===2&&this.leapYear(s.year())?1:0)},weekDay:function(r,f,s){return(this.dayOfWeek(r,f,s)||7)<6},toJD:function(t,f,s){var n=this._validate(t,f,s,o.local.invalidDate),t=this._t2gYear(n.year());return l.toJD(t,n.month(),n.day())},fromJD:function(r){var f=l.fromJD(r),s=this._g2tYear(f.year());return this.newDate(s,f.month(),f.day())},_t2gYear:function(r){return r-this.yearsOffset-(r>=1&&r<=this.yearsOffset?1:0)},_g2tYear:function(r){return r+this.yearsOffset+(r>=-this.yearsOffset&&r<=-1?1:0)}}),o.calendars.thai=i},1457:function(re,H,e){var o=e(3489),x=e(6131);function l(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}l.prototype=new o.baseCalendar,x(l.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(r){var f=this._validate(r,this.minMonth,this.minDay,o.local.invalidYear);return this.daysInYear(f.year())===355},weekOfYear:function(r,f,s){var n=this.newDate(r,f,s);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(r){for(var f=0,s=1;s<=12;s++)f+=this.daysInMonth(r,s);return f},daysInMonth:function(r,f){for(var s=this._validate(r,f,this.minDay,o.local.invalidMonth),n=s.toJD()-24e5+.5,t=0,d=0;d<i.length;d++){if(i[d]>n)return i[t]-i[t-1];t++}return 30},weekDay:function(r,f,s){return this.dayOfWeek(r,f,s)!==5},toJD:function(r,f,s){var n=this._validate(r,f,s,o.local.invalidDate),t=12*(n.year()-1)+n.month()-15292,d=n.day()+i[t-1]-1;return d+24e5-.5},fromJD:function(r){for(var f=r-24e5+.5,s=0,n=0;n<i.length&&!(i[n]>f);n++)s++;var t=s+15292,d=Math.floor((t-1)/12),p=d+1,m=t-12*d,y=f-i[s-1]+1;return this.newDate(p,m,y)},isValid:function(r,f,s){var n=o.baseCalendar.prototype.isValid.apply(this,arguments);return n&&(r=r.year!=null?r.year:r,n=r>=1276&&r<=1500),n},_validate:function(r,f,s,n){var t=o.baseCalendar.prototype._validate.apply(this,arguments);if(t.year<1276||t.year>1500)throw n.replace(/\{0\}/,this.local.name);return t}}),o.calendars.ummalqura=l;var i=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},3489:function(re,H,e){var o=e(6131);function x(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}o(x.prototype,{instance:function(n,t){n=(n||"gregorian").toLowerCase(),t=t||"";var d=this._localCals[n+"-"+t];if(!d&&this.calendars[n]&&(d=new this.calendars[n](t),this._localCals[n+"-"+t]=d),!d)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,n);return d},newDate:function(n,t,d,p,m){return p=(n!=null&&n.year?n.calendar():typeof p=="string"?this.instance(p,m):p)||this.instance(),p.newDate(n,t,d)},substituteDigits:function(n){return function(t){return(t+"").replace(/[0-9]/g,function(d){return n[d]})}},substituteChineseDigits:function(n,t){return function(d){for(var p="",m=0;d>0;){var y=d%10;p=(y===0?"":n[y]+t[m])+p,m++,d=Math.floor(d/10)}return p.indexOf(n[1]+t[1])===0&&(p=p.substr(1)),p||n[0]}}});function l(n,t,d,p){if(this._calendar=n,this._year=t,this._month=d,this._day=p,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function i(n,t){return n=""+n,"000000".substring(0,t-n.length)+n}o(l.prototype,{newDate:function(n,t,d){return this._calendar.newDate(n??this,t,d)},year:function(n){return arguments.length===0?this._year:this.set(n,"y")},month:function(n){return arguments.length===0?this._month:this.set(n,"m")},day:function(n){return arguments.length===0?this._day:this.set(n,"d")},date:function(n,t,d){if(!this._calendar.isValid(n,t,d))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=n,this._month=t,this._day=d,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(n,t){return this._calendar.add(this,n,t)},set:function(n,t){return this._calendar.set(this,n,t)},compareTo:function(n){if(this._calendar.name!==n._calendar.name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,n._calendar.local.name);var t=this._year!==n._year?this._year-n._year:this._month!==n._month?this.monthOfYear()-n.monthOfYear():this._day-n._day;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(n){return this._calendar.fromJD(n)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(n){return this._calendar.fromJSDate(n)},toString:function(){return(this.year()<0?"-":"")+i(Math.abs(this.year()),4)+"-"+i(this.month(),2)+"-"+i(this.day(),2)}});function r(){this.shortYearCutoff="+10"}o(r.prototype,{_validateLevel:0,newDate:function(n,t,d){return n==null?this.today():(n.year&&(this._validate(n,t,d,s.local.invalidDate||s.regionalOptions[""].invalidDate),d=n.day(),t=n.month(),n=n.year()),new l(this,n,t,d))},today:function(){return this.fromJSDate(new Date)},epoch:function(n){var t=this._validate(n,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return t.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(n){var t=this._validate(n,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+i(Math.abs(t.year()),4)},monthsInYear:function(n){return this._validate(n,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear),12},monthOfYear:function(n,t){var d=this._validate(n,t,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return(d.month()+this.monthsInYear(d)-this.firstMonth)%this.monthsInYear(d)+this.minMonth},fromMonthOfYear:function(n,t){var d=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(n)+this.minMonth;return this._validate(n,d,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth),d},daysInYear:function(n){var t=this._validate(n,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(n,t,d){var p=this._validate(n,t,d,s.local.invalidDate||s.regionalOptions[""].invalidDate);return p.toJD()-this.newDate(p.year(),this.fromMonthOfYear(p.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(n,t,d){var p=this._validate(n,t,d,s.local.invalidDate||s.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(p))+2)%this.daysInWeek()},extraInfo:function(n,t,d){return this._validate(n,t,d,s.local.invalidDate||s.regionalOptions[""].invalidDate),{}},add:function(n,t,d){return this._validate(n,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate),this._correctAdd(n,this._add(n,t,d),t,d)},_add:function(n,t,d){if(this._validateLevel++,d==="d"||d==="w"){var p=n.toJD()+t*(d==="w"?this.daysInWeek():1),m=n.calendar().fromJD(p);return this._validateLevel--,[m.year(),m.month(),m.day()]}try{var y=n.year()+(d==="y"?t:0),h=n.monthOfYear()+(d==="m"?t:0),m=n.day(),T=function(v){for(;h<v.minMonth;)y--,h+=v.monthsInYear(y);for(var c=v.monthsInYear(y);h>c-1+v.minMonth;)y++,h-=c,c=v.monthsInYear(y)};d==="y"?(n.month()!==this.fromMonthOfYear(y,h)&&(h=this.newDate(y,n.month(),this.minDay).monthOfYear()),h=Math.min(h,this.monthsInYear(y)),m=Math.min(m,this.daysInMonth(y,this.fromMonthOfYear(y,h)))):d==="m"&&(T(this),m=Math.min(m,this.daysInMonth(y,this.fromMonthOfYear(y,h))));var g=[y,this.fromMonthOfYear(y,h),m];return this._validateLevel--,g}catch(M){throw this._validateLevel--,M}},_correctAdd:function(n,t,d,p){if(!this.hasYearZero&&(p==="y"||p==="m")&&(t[0]===0||n.year()>0!=t[0]>0)){var m={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[p],y=d<0?-1:1;t=this._add(n,d*m[0]+y*m[1],m[2])}return n.date(t[0],t[1],t[2])},set:function(n,t,d){this._validate(n,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate);var p=d==="y"?t:n.year(),m=d==="m"?t:n.month(),y=d==="d"?t:n.day();return(d==="y"||d==="m")&&(y=Math.min(y,this.daysInMonth(p,m))),n.date(p,m,y)},isValid:function(n,t,d){this._validateLevel++;var p=this.hasYearZero||n!==0;if(p){var m=this.newDate(n,t,this.minDay);p=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(m)&&d>=this.minDay&&d-this.minDay<this.daysInMonth(m)}return this._validateLevel--,p},toJSDate:function(n,t,d){var p=this._validate(n,t,d,s.local.invalidDate||s.regionalOptions[""].invalidDate);return s.instance().fromJD(this.toJD(p)).toJSDate()},fromJSDate:function(n){return this.fromJD(s.instance().fromJSDate(n).toJD())},_validate:function(n,t,d,p){if(n.year){if(this._validateLevel===0&&this.name!==n.calendar().name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,n.calendar().local.name);return n}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(n,t,d))throw p.replace(/\{0\}/,this.local.name);var m=this.newDate(n,t,d);return this._validateLevel--,m}catch(y){throw this._validateLevel--,y}}});function f(n){this.local=this.regionalOptions[n]||this.regionalOptions[""]}f.prototype=new r,o(f.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(d){var t=this._validate(d,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear),d=t.year()+(t.year()<0?1:0);return d%4===0&&(d%100!==0||d%400===0)},weekOfYear:function(n,t,d){var p=this.newDate(n,t,d);return p.add(4-(p.dayOfWeek()||7),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(n,t){var d=this._validate(n,t,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===2&&this.leapYear(d.year())?1:0)},weekDay:function(n,t,d){return(this.dayOfWeek(n,t,d)||7)<6},toJD:function(n,t,d){var p=this._validate(n,t,d,s.local.invalidDate||s.regionalOptions[""].invalidDate);n=p.year(),t=p.month(),d=p.day(),n<0&&n++,t<3&&(t+=12,n--);var m=Math.floor(n/100),y=2-m+Math.floor(m/4);return Math.floor(365.25*(n+4716))+Math.floor(30.6001*(t+1))+d+y-1524.5},fromJD:function(n){var t=Math.floor(n+.5),d=Math.floor((t-186721625e-2)/36524.25);d=t+1+d-Math.floor(d/4);var p=d+1524,m=Math.floor((p-122.1)/365.25),y=Math.floor(365.25*m),h=Math.floor((p-y)/30.6001),T=p-y-Math.floor(h*30.6001),g=h-(h>13.5?13:1),M=m-(g>2.5?4716:4715);return M<=0&&M--,this.newDate(M,g,T)},toJSDate:function(n,t,d){var p=this._validate(n,t,d,s.local.invalidDate||s.regionalOptions[""].invalidDate),m=new Date(p.year(),p.month()-1,p.day());return m.setHours(0),m.setMinutes(0),m.setSeconds(0),m.setMilliseconds(0),m.setHours(m.getHours()>12?m.getHours()+2:0),m},fromJSDate:function(n){return this.newDate(n.getFullYear(),n.getMonth()+1,n.getDate())}});var s=re.exports=new x;s.cdate=l,s.baseCalendar=r,s.calendars.gregorian=f},4338:function(re,H,e){var o=e(6131),x=e(3489);o(x.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),x.local=x.regionalOptions[""],o(x.cdate.prototype,{formatDate:function(l,i){return typeof l!="string"&&(i=l,l=""),this._calendar.formatDate(l||"",this,i)}}),o(x.baseCalendar.prototype,{UNIX_EPOCH:x.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:x.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(l,i,r){if(typeof l!="string"&&(r=i,i=l,l=""),!i)return"";if(i.calendar()!==this)throw x.local.invalidFormat||x.regionalOptions[""].invalidFormat;l=l||this.local.dateFormat,r=r||{};var f=r.dayNamesShort||this.local.dayNamesShort,s=r.dayNames||this.local.dayNames,n=r.monthNumbers||this.local.monthNumbers,t=r.monthNamesShort||this.local.monthNamesShort,d=r.monthNames||this.local.monthNames;r.calculateWeek||this.local.calculateWeek;for(var p=function(w,B){for(var C=1;b+C<l.length&&l.charAt(b+C)===w;)C++;return b+=C-1,Math.floor(C/(B||1))>1},m=function(w,B,C,I){var O=""+B;if(p(w,I))for(;O.length<C;)O="0"+O;return O},y=function(w,B,C,I){return p(w)?I[B]:C[B]},h=this,T=function(w){return typeof n=="function"?n.call(h,w,p("m")):v(m("m",w.month(),2))},g=function(w,B){return B?typeof d=="function"?d.call(h,w):d[w.month()-h.minMonth]:typeof t=="function"?t.call(h,w):t[w.month()-h.minMonth]},M=this.local.digits,v=function(w){return r.localNumbers&&M?M(w):w},c="",u=!1,b=0;b<l.length;b++)if(u)l.charAt(b)==="'"&&!p("'")?u=!1:c+=l.charAt(b);else switch(l.charAt(b)){case"d":c+=v(m("d",i.day(),2));break;case"D":c+=y("D",i.dayOfWeek(),f,s);break;case"o":c+=m("o",i.dayOfYear(),3);break;case"w":c+=m("w",i.weekOfYear(),2);break;case"m":c+=T(i);break;case"M":c+=g(i,p("M"));break;case"y":c+=p("y",2)?i.year():(i.year()%100<10?"0":"")+i.year()%100;break;case"Y":p("Y",2),c+=i.formatYear();break;case"J":c+=i.toJD();break;case"@":c+=(i.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":c+=(i.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":p("'")?c+="'":u=!0;break;default:c+=l.charAt(b)}return c},parseDate:function(l,i,r){if(i==null)throw x.local.invalidArguments||x.regionalOptions[""].invalidArguments;if(i=typeof i=="object"?i.toString():i+"",i==="")return null;l=l||this.local.dateFormat,r=r||{};var f=r.shortYearCutoff||this.shortYearCutoff;f=typeof f!="string"?f:this.today().year()%100+parseInt(f,10);for(var s=r.dayNamesShort||this.local.dayNamesShort,n=r.dayNames||this.local.dayNames,t=r.parseMonth||this.local.parseMonth,d=r.monthNumbers||this.local.monthNumbers,p=r.monthNamesShort||this.local.monthNamesShort,m=r.monthNames||this.local.monthNames,y=-1,h=-1,T=-1,g=-1,M=-1,v=!1,c=!1,u=function(q,ae){for(var N=1;X+N<l.length&&l.charAt(X+N)===q;)N++;return X+=N-1,Math.floor(N/(ae||1))>1},b=function(q,ae){var N=u(q,ae),D=[2,3,N?4:2,N?4:2,10,11,20]["oyYJ@!".indexOf(q)+1],_=new RegExp("^-?\\d{1,"+D+"}"),V=i.substring(L).match(_);if(!V)throw(x.local.missingNumberAt||x.regionalOptions[""].missingNumberAt).replace(/\{0\}/,L);return L+=V[0].length,parseInt(V[0],10)},w=this,B=function(){if(typeof d=="function"){u("m");var q=d.call(w,i.substring(L));return L+=q.length,q}return b("m")},C=function(q,ae,N,D){for(var _=u(q,D)?N:ae,V=0;V<_.length;V++)if(i.substr(L,_[V].length).toLowerCase()===_[V].toLowerCase())return L+=_[V].length,V+w.minMonth;throw(x.local.unknownNameAt||x.regionalOptions[""].unknownNameAt).replace(/\{0\}/,L)},I=function(){if(typeof m=="function"){var q=u("M")?m.call(w,i.substring(L)):p.call(w,i.substring(L));return L+=q.length,q}return C("M",p,m)},O=function(){if(i.charAt(L)!==l.charAt(X))throw(x.local.unexpectedLiteralAt||x.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,L);L++},L=0,X=0;X<l.length;X++)if(c)l.charAt(X)==="'"&&!u("'")?c=!1:O();else switch(l.charAt(X)){case"d":g=b("d");break;case"D":C("D",s,n);break;case"o":M=b("o");break;case"w":b("w");break;case"m":T=B();break;case"M":T=I();break;case"y":var Z=X;v=!u("y",2),X=Z,h=b("y",2);break;case"Y":h=b("Y",2);break;case"J":y=b("J")+.5,i.charAt(L)==="."&&(L++,b("J"));break;case"@":y=b("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":y=b("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":L=i.length;break;case"'":u("'")?O():c=!0;break;default:O()}if(L<i.length)throw x.local.unexpectedText||x.regionalOptions[""].unexpectedText;if(h===-1?h=this.today().year():h<100&&v&&(h+=f===-1?1900:this.today().year()-this.today().year()%100-(h<=f?0:100)),typeof T=="string"&&(T=t.call(this,h,T)),M>-1){T=1,g=M;for(var te=this.daysInMonth(h,T);g>te;te=this.daysInMonth(h,T))T++,g-=te}return y>-1?this.fromJD(y):this.newDate(h,T,g)},determineDate:function(l,i,r,f,s){r&&typeof r!="object"&&(s=f,f=r,r=null),typeof f!="string"&&(s=f,f="");var n=this,t=function(d){try{return n.parseDate(f,d,s)}catch{}d=d.toLowerCase();for(var p=(d.match(/^c/)&&r?r.newDate():null)||n.today(),m=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,y=m.exec(d);y;)p.add(parseInt(y[1],10),y[2]||"d"),y=m.exec(d);return p};return i=i?i.newDate():null,l=l==null?i:typeof l=="string"?t(l):typeof l=="number"?isNaN(l)||l===1/0||l===-1/0?i:n.today().add(l,"d"):n.newDate(l),l}})}},Cr={};function jr(re){var H=Cr[re];if(H!==void 0)return H.exports;var e=Cr[re]={exports:{}};return Ea[re].call(e.exports,e,e.exports,jr),e.exports}(function(){jr.d=function(re,H){for(var e in H)jr.o(H,e)&&!jr.o(re,e)&&Object.defineProperty(re,e,{enumerable:!0,get:H[e]})}})(),function(){jr.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){jr.o=function(re,H){return Object.prototype.hasOwnProperty.call(re,H)}}(),function(){jr.r=function(re){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(re,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(re,"__esModule",{value:!0})}}();var Ua=jr(2576);return Ua}()})})(Pi);var Tl=Pi.exports;const Ll=Di(Tl);var Ri={};(function(Ya){function Ra(y){return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},Ra(y)}Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.default=m;var Ea=re(xl),Cr=jr(bl);function jr(y){return y&&y.__esModule?y:{default:y}}function Ua(y){if(typeof WeakMap!="function")return null;var h=new WeakMap,T=new WeakMap;return(Ua=function(M){return M?T:h})(y)}function re(y,h){if(!h&&y&&y.__esModule)return y;if(y===null||Ra(y)!=="object"&&typeof y!="function")return{default:y};var T=Ua(h);if(T&&T.has(y))return T.get(y);var g={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in y)if(v!=="default"&&Object.prototype.hasOwnProperty.call(y,v)){var c=M?Object.getOwnPropertyDescriptor(y,v):null;c&&(c.get||c.set)?Object.defineProperty(g,v,c):g[v]=y[v]}return g.default=y,T&&T.set(y,g),g}function H(y,h){if(!(y instanceof h))throw new TypeError("Cannot call a class as a function")}function e(y,h){for(var T=0;T<h.length;T++){var g=h[T];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}function o(y,h,T){return h&&e(y.prototype,h),T&&e(y,T),Object.defineProperty(y,"prototype",{writable:!1}),y}function x(y,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(h&&h.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),h&&l(y,h)}function l(y,h){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,M){return g.__proto__=M,g},l(y,h)}function i(y){var h=s();return function(){var g=n(y),M;if(h){var v=n(this).constructor;M=Reflect.construct(g,arguments,v)}else M=g.apply(this,arguments);return r(this,M)}}function r(y,h){if(h&&(Ra(h)==="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(y)}function f(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function s(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function n(y){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)},n(y)}var t=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],d=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],p=typeof window<"u";function m(y){var h=function(T){x(M,T);var g=i(M);function M(v){var c;return H(this,M),c=g.call(this,v),c.p=Promise.resolve(),c.resizeHandler=null,c.handlers={},c.syncWindowResize=c.syncWindowResize.bind(f(c)),c.syncEventHandlers=c.syncEventHandlers.bind(f(c)),c.attachUpdateEvents=c.attachUpdateEvents.bind(f(c)),c.getRef=c.getRef.bind(f(c)),c.handleUpdate=c.handleUpdate.bind(f(c)),c.figureCallback=c.figureCallback.bind(f(c)),c.updatePlotly=c.updatePlotly.bind(f(c)),c}return o(M,[{key:"updatePlotly",value:function(c,u,b){var w=this;this.p=this.p.then(function(){if(!w.unmounting){if(!w.el)throw new Error("Missing element reference");return y.react(w.el,{data:w.props.data,layout:w.props.layout,config:w.props.config,frames:w.props.frames})}}).then(function(){w.unmounting||(w.syncWindowResize(c),w.syncEventHandlers(),w.figureCallback(u),b&&w.attachUpdateEvents())}).catch(function(B){w.props.onError&&w.props.onError(B)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(c){this.unmounting=!1;var u=c.frames&&c.frames.length?c.frames.length:0,b=this.props.frames&&this.props.frames.length?this.props.frames.length:0,w=!(c.layout===this.props.layout&&c.data===this.props.data&&c.config===this.props.config&&b===u),B=c.revision!==void 0,C=c.revision!==this.props.revision;!w&&(!B||B&&!C)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&p&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),y.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var c=this;!this.el||!this.el.removeListener||d.forEach(function(u){c.el.on(u,c.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var c=this;!this.el||!this.el.removeListener||d.forEach(function(u){c.el.removeListener(u,c.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(c){if(typeof c=="function"){var u=this.el,b=u.data,w=u.layout,B=this.el._transitionData?this.el._transitionData._frames:null,C={data:b,layout:w,frames:B};c(C,this.el)}}},{key:"syncWindowResize",value:function(c){var u=this;p&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return y.Plots.resize(u.el)},window.addEventListener("resize",this.resizeHandler),c&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(c){this.el=c,this.props.debug&&p&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var c=this;t.forEach(function(u){var b=c.props["on"+u],w=c.handlers[u],B=!!w;b&&!B?c.addEventHandler(u,b):!b&&B?c.removeEventHandler(u):b&&B&&b!==w&&(c.removeEventHandler(u),c.addEventHandler(u,b))})}},{key:"addEventHandler",value:function(c,u){this.handlers[c]=u,this.el.on(this.getPlotlyEventName(c),this.handlers[c])}},{key:"removeEventHandler",value:function(c){this.el.removeListener(this.getPlotlyEventName(c),this.handlers[c]),delete this.handlers[c]}},{key:"getPlotlyEventName",value:function(c){return"plotly_"+c.toLowerCase()}},{key:"render",value:function(){return Ea.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),M}(Ea.Component);return h.propTypes={data:Cr.default.arrayOf(Cr.default.object),config:Cr.default.object,layout:Cr.default.object,frames:Cr.default.arrayOf(Cr.default.object),revision:Cr.default.number,onInitialized:Cr.default.func,onPurge:Cr.default.func,onError:Cr.default.func,onUpdate:Cr.default.func,debug:Cr.default.bool,style:Cr.default.object,className:Cr.default.string,useResizeHandler:Cr.default.bool,divId:Cr.default.string},t.forEach(function(T){h.propTypes["on"+T]=Cr.default.func}),h.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},h}})(Ri);const Sl=Di(Ri);export{Ll as P,Sl as c};
//# sourceMappingURL=factory-837f2467.js.map
