import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{C as Q}from"./ConditionalWrapper-CpBCX7_r.js";import{bw as gt,aC as ft}from"./useFiles-DN5jeuBs.js";import{C as ht,z as xt,b as vt}from"./VerificationSubmission-BDh1zA9f.js";import{C as O,t as Tt,o as at,a as st,r as Et,f as Ct,E as _t,M as bt}from"./StringUtils-C95LMFI-.js";import"./OrientationBanner-C5rRxLOd.js";import{r as b}from"./index-DGv34HBD.js";import{u as P}from"./useEntityBundle-k4-Lhcbx.js";import{F as It}from"./FavoriteButton-BN55b2XN.js";import{I as lt,t as jt}from"./IconSvg-BruMzY-z.js";import{E as Dt}from"./EntityActionMenu-BB_RWZTq.js";import{B as v}from"./Box-6ErQd4eQ.js";import{T as U}from"./Tooltip-CuLP43i6.js";import{T}from"./Typography-DFWCAegs.js";import{L as C}from"./Link-aPqunS_C.js";import{u as At}from"./useGetFeatureFlag-HdeQBirN.js";import{A as St}from"./AddConditionsForUseButton-B3bGRIqc.js";import{u as Lt}from"./useGetEntityChildren-CHaGc6IB.js";import{u as kt,D as Nt}from"./useDOI-BPbcGkBc.js";import{c as Mt}from"./calculateFriendlyFileSize-FKoHcqwG.js";import{u as Vt}from"./useEntity-CXi_uFaX.js";import{g as wt,u as Ot,a as Pt,b as Ft,c as Ut}from"./FileHandleUtils-CWwVqem3.js";import{S as _}from"./Stack-Dr6m2zrE.js";import{H as Rt}from"./HasAccessV2-BOnc9slN.js";import{D as qt}from"./DialogBase-BQJxC3SF.js";import{B as Gt}from"./Button-CxRuB6Io.js";import{L as Bt}from"./List-Bt84pHdc.js";import{L as Yt}from"./ListItem-0P2wS-4u.js";import{u as pt}from"./useQuery-B5XD2W2D.js";import{s as ct}from"./QueryClientProvider-DgRSjt1E.js";import{d as Ht}from"./SynapseConstants-Dk9mSEK3.js";import{D as $t}from"./Divider-BQTn7m7J.js";import{S as z}from"./Skeleton-M7Xx-4bt.js";import{A as Wt}from"./Avatar-hQrTQi8-.js";import"./fetchWithExponentialTimeout-UV9FrpR8.js";import"./useTimeout-D9n6b9ga.js";import"./FullWidthAlert-7hlJBHTN.js";import"./spreadSx-CwcO6WA9.js";import"./Alert-DAG9Aucx.js";import"./createTheme-DGEGp_SD.js";import"./DefaultPropsProvider-DoDLwSqP.js";import"./useSlot-h-XFZ_xK.js";import"./useForkRef-DorXlh5L.js";import"./createSimplePaletteValueFilter-CEiraeEP.js";import"./createSvgIcon-BwKRHuRw.js";import"./Close-BoYD-Ye6.js";import"./IconButton-ByahMUeh.js";import"./ButtonBase-BwS93VGp.js";import"./isFocusVisible-B8k4qzLc.js";import"./CircularProgress-CxFD3KzI.js";import"./Paper-CH1kNGpI.js";import"./useTheme-DBhTySsI.js";import"./useTheme-D6P-YjrR.js";import"./AlertTitle-C391Qgh2.js";import"./ClickAwayListener-a0xZHR2I.js";import"./getReactElementRef-DFiSuhzk.js";import"./index-DDkg0FwF.js";import"./iframe-DfhwYfkN.js";import"./index-B11uVym8.js";import"./ownerDocument-DW-IO8s5.js";import"./Grow-CyTlzzNv.js";import"./Collapse-DFPiA3AQ.js";import"./_baseUniq-fLehImUc.js";import"./_Uint8Array-BAfJSe8d.js";import"./isArray-RjWnP_xj.js";import"./_getTag-UgO0rBGX.js";import"./isEqual-DucS0a4x.js";import"./noop-DX6rZLP_.js";import"./merge-DNvf83vX.js";import"./_initCloneObject-g_hm0NT-.js";import"./identity-DKeuBCMA.js";import"./tinycolor-Begke6kS.js";import"./Fade-DrTUWBA-.js";import"./inputBaseClasses-CHlIYh-9.js";import"./CheckCircleTwoTone-B7GhCg84.js";import"./InfoTwoTone-DrINNaoG.js";import"./index-BSM79-Da.js";import"./index-D2dQp3lw.js";import"./extendSxProp-CXOYizRA.js";import"./useMutation-C7G01Xnf.js";import"./dayjs.min-DwRsZaK6.js";import"./chunk-AYJ5UCUI-CVKajfNP.js";import"./cloneDeep-CV4bwBv0.js";import"./index-DJ2Mj2aK.js";import"./react-Dqq1nFIk.js";import"./useFavorites-BrNyFrns.js";import"./useInfiniteQuery-C2FHqF0p.js";import"./InfiniteQueryUtils-CKlRW-xB.js";import"./LayersTwoTone-Lp07d8Ma.js";import"./ContentCopyTwoTone-BHByt03R.js";import"./HelpOutlineTwoTone-I4F-Povp.js";import"./ErrorOutlined-C4vKh2Fr.js";import"./GetAppTwoTone-dtMio5BO.js";import"./InfoOutlined-DgskjMHv.js";import"./PhoneTwoTone-BwSJnrK0.js";import"./DeleteTwoTone-DV1I4MmW.js";import"./ComplexMenu-2uIl71Cn.js";import"./DropdownMenu-C0vso6mU.js";import"./Popper-CuO8c7be.js";import"./MenuList-Bs4oBWfs.js";import"./getScrollbarSize-CaCM53D3.js";import"./ownerWindow-HkKU3E4x.js";import"./MenuItem-nO_RC9NR.js";import"./dividerClasses-DBs4b1DB.js";import"./ListItemIcon-BCbmm-L_.js";import"./ListItemText-BLmq4aoS.js";import"./IconSvgButton-CxjgTPPI.js";import"./index-DJ7HabVp.js";import"./getThemeProps-DeX8Xk5f.js";import"./useControlled-DeakbIaX.js";import"./ImposeRestrictionDialog-9uC4Ylp8.js";import"./useAccessRequirements-BIYZrIFp.js";import"./_baseOrderBy-16xW72OH.js";import"./toString-W-CywYbt.js";import"./isSymbol-DJa5TpaM.js";import"./_baseGet-DqmBafAL.js";import"./_baseIteratee-qgSJKVZI.js";import"./hasIn-_NGdB6ZW.js";import"./_baseMap-BGLFsBsJ.js";import"./_baseEach-CSGwKXvp.js";import"./useQueries-BhcFYjhM.js";import"./ConfirmationDialog-Bz0NINix.js";import"./ToastMessage-Cw7Q9YFl.js";import"./uniqueId-Cigrvl8-.js";import"./CSSTransition-CHmfOFrq.js";import"./FormControl-Ci8mAnqZ.js";import"./useFormControl-C0YoeBul.js";import"./isMuiElement-CBbX7r7M.js";import"./FormLabel-Doz2xHkF.js";import"./formControlState-Dq1zat_P.js";import"./RadioGroup-DsrYy9YO.js";import"./Radio-DZv_4xKU.js";import"./SwitchBase-NeRDSwsb.js";import"./createChainedFunction-BO_9K8Jh.js";import"./FormGroup-Cmj8W7rl.js";import"./FormControlLabel-Bs2Q7r6a.js";import"./waitForAsyncResult-Cb_jNxh0.js";import"./pickBy-DaNQcCnf.js";import"./isString-D7HIRrps.js";import"./toInteger-BTHsAWLh.js";import"./pick-D8yXvj0l.js";import"./_baseSet-Ivrya48I.js";import"./omit-Bvjew-8A.js";import"./_baseSlice-F8doVSIJ.js";import"./queryOptions-C9woPjwX.js";import"./useThemeProps-ahUk6xR1.js";import"./AccessRequirementList-0NohasWx.js";import"./ACTAccessRequirement-WDpE4gfi.js";import"./SelfSignAccessRequirement-C_01XAIc.js";import"./groupBy-7FKZcXOb.js";import"./_createAggregator-vDoH-bBI.js";import"./EntityLink-CUC9XZJ1.js";import"./useGetEntityHeaders-CJAREMQ0.js";import"./EntityIcon-DzASyUg4.js";import"./ErrorChip-CiwYzNJ1.js";import"./Chip-CvGwiEwM.js";import"./UserOrTeamBadge-BVSWrynf.js";import"./UserBadge-CUB9AqO7.js";import"./Popover-ClGi9GSb.js";import"./isHostComponent-DVu5iVWx.js";import"./debounce-Be36O1Ab.js";import"./mergeSlotProps-D_gH7KIz.js";import"./Modal-DR8FpBhn.js";import"./Backdrop-CEuhl1vD.js";import"./SkeletonTable-C4JZiTbv.js";import"./times-hHBCvPy2.js";import"./Menu-CGIaAF76.js";import"./Card-BTx8JO9a.js";import"./TeamBadge-9_EfP9nf.js";import"./UnmanagedACTAccessRequirementItem-D-TrgSN_.js";import"./MarkdownSynapse-CmuTndSI.js";import"./SkeletonButton-BI5QuA9Z.js";import"./SkeletonInlineBlock-B0ifap68.js";import"./SkeletonParagraph-DGZWIttL.js";import"./RequirementItem-DsqxpMP8.js";import"./LockTwoTone-Bye7yySt.js";import"./UserSearchBoxV2-Dlikx2AK.js";import"./useDebouncedEffect-CFG83iQg.js";import"./use-deep-compare-effect.esm-D-wR5szY.js";import"./uniq-B0TLKb6-.js";import"./without-BSPAL8Oq.js";import"./Select-aab027f3.esm-DWvVwW2f.js";import"./defineProperty-CegpTSss.js";import"./ManagedACTAccessRequirementItemView-BDv2ejNi.js";import"./DateFormatter-B7EHxU7i.js";import"./localizedFormat-B73sehTk.js";import"./utc-Bv50W8pM.js";import"./SelfSignAccessRequirementItem-CPbN26RA.js";import"./DialogTitle-C3Q4PV2A.js";import"./DialogContent-kDdtBGGF.js";import"./DialogActions-8lKd8Gyw.js";import"./DataAccessRequestAccessorsFilesForm-C6wKB8PM.js";import"./enums-CR6c5J1w.js";import"./_arrayReduce-CrxnWFSq.js";import"./forEach-yABYeXWR.js";import"./useDataAccessSubmission-BjUR9a7v.js";import"./UploadDocumentField-DL20THo6.js";import"./FileUpload-h3cty6c2.js";import"./ManagedACTAccessRequirementFormWikiWrapper-DuOJeLe1.js";import"./GridLegacy-DYTQsv2w.js";import"./ResearchProjectForm-Dl9efFF1.js";import"./HelpPopover-D38Nembz.js";import"./MarkdownPopover-B5cZkhVZ.js";import"./LightTooltip-DJuHXQOV.js";import"./TextFieldWithWordLimit-CX5qlGvC.js";import"./Input-P1fwxmxM.js";import"./InputBase-CtRTFDBX.js";import"./FormHelperText-gqO5ckAy.js";import"./InputLabel-DYutquSV.js";import"./TextField-DjujraDS.js";import"./Select-D8IBVb1p.js";import"./AuthenticatedRequirement-O-YWthhe.js";import"./CertificationRequirement-BIiKCJXQ.js";import"./TwoFactorAuthEnabledRequirement-Dpypx9Bq.js";import"./TwoFactorEnrollmentForm-DPMR_Tzb.js";import"./LeftRightPanel-cY2Bdopu.js";import"./LoadingScreen-DQ8xOPc8.js";import"./LinearProgress-CvBWrjBz.js";import"./TextField-Dsp-G4XZ.js";import"./StyledFormControl-JxlZcxAp.js";import"./Dialog-BT0hX-HY.js";import"./ValidationRequirement-6zYrBkr7.js";import"./Close-DlJiaWrL.js";import"./listItemButtonClasses-CMIb1Wv_.js";const Kt=50;function Qt(e){return!O(e)||at(e)&&e.isLatestVersion?null:e.versionLabel??null}function zt(e){return O(e)?at(e)&&e.isLatestVersion?st(e)?"Draft Version":"Current Version":`V${e.versionNumber}${e.isLatestVersion?" (Current)":""}`:null}function R(e){const{entityId:a,versionNumber:i,toggleShowVersionHistory:s}=e,{data:o}=P(a,i),n=(o==null?void 0:o.entity)&&O(o.entity),r=(o==null?void 0:o.entity)&&Qt(o.entity),m=r?Tt(r,Kt):void 0,d=(o==null?void 0:o.entity)&&zt(o.entity);return n?t.jsxs(v,{sx:{marginTop:"3px"},children:[t.jsx(U,{title:r,placement:"bottom",children:t.jsx(T,{component:"span",variant:"smallText1",sx:{color:"grey.700",fontStyle:"italic"},children:m})}),r&&d&&t.jsx(T,{component:"span",variant:"smallText1",sx:{color:"grey.700",marginLeft:"5px",marginRight:"5px"},children:"/"}),t.jsx(U,{title:"Click to show version history",placement:"top",children:t.jsx(C,{onClick:s,variant:"smallText1",sx:{fontWeight:400},children:d})})]}):null}try{R.displayName="EntityTitleBarVersionInfo",R.__docgenInfo={description:"",displayName:"EntityTitleBarVersionInfo",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}},toggleShowVersionHistory:{defaultValue:null,description:"",name:"toggleShowVersionHistory",required:!0,type:{name:"(e: MouseEvent<Element, MouseEvent>) => void"}}}}}catch{}const Jt=(e,a)=>{var j;const{data:i,isLoading:s}=P(e,a),o=!!(i!=null&&i.entityType&&Et(i.entityType)),n=i&&wt(i),r=(j=i==null?void 0:i.entity)==null?void 0:j.parentId,m=n==null?void 0:n.storageLocationId,{data:d,isLoading:l}=Vt((i==null?void 0:i.path.path[1].id)??"",void 0,{enabled:!!i}),{data:c,isLoading:p}=Ot(r,m,{enabled:!o&&r!==void 0&&m!=null}),{data:u,isLoading:E}=Pt(e,{enabled:o}),I=s||p||E||l,y=u&&Ft(u),g=n&&Ut(n,c),f=(i==null?void 0:i.entity.name)!==(i==null?void 0:i.fileName)?i==null?void 0:i.fileName:void 0;return{entityBundle:i,fileHandle:n,isContainer:o,downloadAlias:f,fileHandleStorageInfo:g,storageLocationUploadDestination:c,uploadDestinationString:y,projectEntity:d,isLoading:I}};function M(e){const{value:a,typographyVariant:i="smallText1"}=e,[s,o]=b.useState("Copy to clipboard"),n=r=>{r.preventDefault(),Ct(a).then(()=>{o("Copied to clipboard")})};return t.jsxs(_,{direction:"row",spacing:.5,sx:{alignItems:"center",display:"inline-flex"},children:[t.jsx(T,{component:"span",variant:i,children:a}),t.jsx(U,{title:s,placement:"top",children:t.jsx("span",{role:"button",style:{cursor:"pointer"},onClick:n,children:t.jsx(lt,{icon:"contentCopy",wrap:!1,sx:{width:"16px"}})})})]})}try{M.displayName="CopyToClipboardString",M.__docgenInfo={description:'Displays a string and a "Copy to Clipboard" icon, that, when clicked, will copy the contents of the string to the clipboard.',displayName:"CopyToClipboardString",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},typographyVariant:{defaultValue:null,description:"",name:"typographyVariant",required:!1,type:{name:"enum",value:[{value:'"button"'},{value:'"caption"'},{value:'"h1"'},{value:'"h2"'},{value:'"h3"'},{value:'"h4"'},{value:'"h5"'},{value:'"h6"'},{value:'"inherit"'},{value:'"subtitle1"'},{value:'"subtitle2"'},{value:'"body1"'},{value:'"body2"'},{value:'"overline"'}]}}}}}catch{}const V=({open:e,onClose:a,citations:i,title:s="Cited by"})=>t.jsx(qt,{title:s,onCancel:()=>{a()},open:e,content:t.jsx(Bt,{children:i.map(o=>{const n=o.title??o.doi;return t.jsx(Yt,{alignItems:"flex-start",children:t.jsxs(T,{children:[t.jsx(C,{href:`https://doi.org/${o.doi}`,target:"_blank",rel:"noopener noreferrer",children:t.jsx("span",{dangerouslySetInnerHTML:{__html:gt(n)}})}),t.jsx("br",{}),o.containerTitle?`${o.containerTitle} · `:"",o.publisher?`${o.publisher} · `:"",o.publicationYear??""]})},o.id)})}),actions:t.jsx(t.Fragment,{children:t.jsx(Gt,{variant:"outlined",onClick:()=>a(),children:"Close"})})});try{V.displayName="CitationsDialog",V.__docgenInfo={description:"",displayName:"CitationsDialog",props:{open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},citations:{defaultValue:null,description:"",name:"citations",required:!0,type:{name:"CitingWork[]"}},title:{defaultValue:{value:"Cited by"},description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}const mt=500,Xt=e=>["datacite-usage",e];function Zt(e){return e.replace(/^https?:\/\/(dx\.)?doi\.org\//i,"")}async function te(e,a){var r,m,d;const i=JSON.stringify({query:`
      query($id: ID!) {
        work(id: $id) {
          citations(first: ${mt}) {
            nodes {
              id
              titles { title }
              publisher { name }
              publicationYear
              
              # publication (container) info
              container {
                title
              }
            }
          }
        }
      }
    `,variables:{id:`https://doi.org/${a}`}}),s=await fetch("https://api.datacite.org/graphql",{method:"POST",signal:e,headers:{"content-type":"application/json",accept:"application/json"},body:i});if(!s.ok)throw new Error(`DataCite GraphQL ${s.status}`);const o=await s.json();return(((d=(m=(r=o==null?void 0:o.data)==null?void 0:r.work)==null?void 0:m.citations)==null?void 0:d.nodes)??[]).map(l=>{var y,g,f;const c=Zt((l==null?void 0:l.id)??""),p=Array.isArray(l==null?void 0:l.titles)&&l.titles.length?(y=l.titles[0])==null?void 0:y.title.replaceAll("?",""):void 0,u=((g=l==null?void 0:l.publisher)==null?void 0:g.name)??void 0,E=(l==null?void 0:l.publicationYear)??void 0,I=((f=l==null?void 0:l.container)==null?void 0:f.title)??void 0;return{id:c,doi:c,title:p,publisher:u,publicationYear:E,containerTitle:I}})}async function ee(e,a){const i=await te(e,a);if(!i)throw new Error("No citations found");return{citationCount:i.length??0,citations:i}}function ie(e,a){const i=b.useMemo(()=>Xt(e),[e]);return pt({...a,queryKey:i,queryFn:e?({signal:s})=>ee(s,e):ct})}const oe="syn66047339",re=e=>["europepmc",e];async function ne(e,a){if(a.length===0)return[];const i=a.map(r=>`PMCID:${r}`).join(" OR "),s=new URL("https://www.ebi.ac.uk/europepmc/webservices/rest/search");s.searchParams.set("query",i),s.searchParams.set("format","json"),s.searchParams.set("pageSize",String(a.length));const o=await fetch(s.toString(),{headers:{Accept:"application/json"},signal:e});if(!o.ok)throw new Error(`Europe PMC error ${o.status}: ${await o.text()}`);const n=await o.json();return ae(n)}function ae(e){return e.resultList.result.map(a=>({id:a.pmcid,title:a.title??"(Untitled)",doi:a.doi,publisher:a.journalTitle,publicationYear:a.pubYear?Number(a.pubYear):void 0}))}function se(e,a){var m,d,l;const i={sql:`select pmcid from ${oe}`,additionalFilters:[{concreteType:xt,columnName:"synid",operator:ht.EQUAL,values:[e]}]},{data:s}=ft({entityId:e,query:i,partMask:Ht,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest"}),o=(l=(d=(m=s==null?void 0:s.responseBody)==null?void 0:m.queryResult)==null?void 0:d.queryResults)==null?void 0:l.rows,n=o==null?void 0:o.map(c=>{const p=c.values[0];return p==null?void 0:p.toString().replace(/^pmc:/i,"")}).filter(c=>c!=null),r=b.useMemo(()=>re(e),[e]);return pt({...a,queryKey:r,queryFn:n?({signal:c})=>ne(c,n):ct})}function q(e,a){const{entityBundle:i,fileHandle:s,downloadAlias:o,isContainer:n,fileHandleStorageInfo:r,uploadDestinationString:m}=Jt(e,a),[d,l]=b.useState(!1),[c,p]=b.useState(!1),{data:u}=Lt({parentId:e,includeTypes:Object.values(_t),includeTotalChildCount:!0},{enabled:n}),E=i&&!i.doiAssociation&&O(i.entity)&&i.entity.isLatestVersion,{data:I}=kt({id:e,version:void 0,type:Nt.ENTITY},{enabled:E}),y=(s==null?void 0:s.contentSize)&&Mt(s.contentSize),g=r&&"location"in r&&r.location,f=r&&"endpoint"in r&&r.endpoint,j=r&&"bucket"in r&&r.bucket,Y=r&&"fileKey"in r&&r.fileKey,H=r&&"url"in r&&r.url,$=s==null?void 0:s.contentMd5,h=E?I:i==null?void 0:i.doiAssociation,{data:D}=ie(h==null?void 0:h.doiUri),F=h&&`https://doi.org/${h==null?void 0:h.doiUri}`,dt=!!D&&D.citationCount>0,W=u==null?void 0:u.totalChildCount,K=i!=null&&i.entity&&st(i.entity)?((i==null?void 0:i.entity).items??[]).length:null,{data:A}=se(e),ut=!!A&&A.length>0;return[{key:"id",title:"SynID",value:t.jsx(M,{value:e})},{key:"access",title:"Access",value:t.jsx(Rt,{entityId:e})},y&&{key:"fileSize",title:"Size",value:y},W!=null&&{key:"containerItems",title:"Items",value:W.toLocaleString()},K!=null&&{key:"entityRefCollectionItems",title:"Items",value:K.toLocaleString()},F&&{key:"doi",title:"DOI",value:t.jsx(C,{href:F,rel:"noopener noreferrer",target:"_blank",children:F})},dt&&{key:"citations",title:"Citations",value:t.jsxs(t.Fragment,{children:[t.jsxs(C,{onClick:()=>l(!0),children:[D.citationCount.toLocaleString(),D.citationCount==mt&&"+"]}),t.jsx(V,{open:d,onClose:()=>l(!1),citations:D.citations})]})},ut&&{key:"mentions",title:"Mentions",value:t.jsxs(t.Fragment,{children:[t.jsx(C,{onClick:()=>p(!0),children:A.length.toLocaleString()}),t.jsx(V,{open:c,onClose:()=>p(!1),citations:A,title:"Mentioned in"})]})},$&&{key:"fileMd5",title:"MD5",value:t.jsx(M,{value:$})},!n&&g&&{key:"fileStorageLocation",title:"Storage Location",value:g},n&&m&&{key:"uploadDestination",title:"Upload Destination",value:m},f&&{key:"externalFileEndpoint",title:"Endpoint",value:f},H&&{key:"externalUrl",title:"URL",value:H},j&&{key:"externalFileBucket",title:"Bucket",value:j},Y&&{key:"externalFileKey",title:"File Key",value:Y},o&&{key:"fileAlias",title:"Alias",value:t.jsxs(t.Fragment,{children:["Name when downloaded will be: ",t.jsx(v,{sx:{display:"inline",fontFamily:"monospace"},children:o})]})}].filter(yt=>!!yt)}try{q.displayName="useGetEntityTitleBarProperties",q.__docgenInfo={description:`This hook fetches all the entity metadata shown on the Entity page, and transforms the data into an ordered list of
render-able key-value pairs.`,displayName:"useGetEntityTitleBarProperties",props:{}}}catch{}function S(e){const{title:a,value:i}=e;return t.jsxs("tr",{children:[t.jsx("td",{style:{paddingRight:"1em"},children:t.jsx(T,{component:"span",variant:"smallText1",sx:{fontWeight:700},children:a})}),t.jsx("td",{children:t.jsx(T,{component:"span",variant:"smallText1",children:i})})]})}function G(e){var l,c;const{entityId:a,versionNumber:i,onActMemberClickAddConditionsForUse:s}=e,{data:o}=P(a,i),n=At(vt.DESCRIPTION_FIELD),r=q(a,i),[m,d]=b.useState(!1);return t.jsxs(v,{sx:{padding:"20px 40px"},children:[t.jsxs(_,{direction:"row",sx:{justifyContent:"space-between",alignItems:"flex-start"},children:[t.jsxs(_,{direction:"row",divider:t.jsx($t,{orientation:"vertical",flexItem:!0}),spacing:2,sx:{alignItems:"flex-start"},children:[t.jsx("table",{children:t.jsx("tbody",{children:r.slice(0,2).map(p=>t.jsx(S,{title:p.title,value:p.value},p.key))})}),r.length>2&&t.jsx("table",{children:t.jsx("tbody",{children:r.slice(2,4).map(p=>t.jsx(S,{title:p.title,value:p.value},p.key))})}),(r.length===5||r.length===6)&&t.jsx("table",{children:t.jsx("tbody",{children:r.slice(4,6).map(p=>t.jsx(S,{title:p.title,value:p.value},p.key))})}),r.length>6&&t.jsx(C,{onClick:()=>d(p=>!p),children:m?"Hide properties":`${r.length-4} more properties`})]}),t.jsx(St,{entityId:a,onACTMemberClick:s})]}),m&&t.jsx(v,{sx:{pt:"20px"},children:t.jsx("table",{children:t.jsx("tbody",{children:r.slice(4,1/0).map(p=>t.jsx(S,{title:p.title,value:p.value},p.key))})})}),((l=o==null?void 0:o.entity)==null?void 0:l.description)&&n&&t.jsx(v,{sx:{marginTop:"10px",maxWidth:"720px"},children:(c=o==null?void 0:o.entity)==null?void 0:c.description})]})}try{G.displayName="TitleBarProperties",G.__docgenInfo={description:"The TitleBarProperties component displays a tabular view of the entity metadata on the Entity page.",displayName:"TitleBarProperties",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}},onActMemberClickAddConditionsForUse:{defaultValue:null,description:"",name:"onActMemberClickAddConditionsForUse",required:!0,type:{name:"() => void"}}}}}catch{}function w(e){var d,l,c;const{entityId:a,versionNumber:i,entityActionMenuProps:s}=e,o=(d=s==null?void 0:s.actionConfiguration.SHOW_VERSION_HISTORY)==null?void 0:d.onClick,{data:n,isLoading:r}=P(a,i),m=n!=null&&n.entity&&bt(n.entity)?n.entity.repositoryName:(l=n==null?void 0:n.entity)==null?void 0:l.name;return t.jsxs("div",{children:[t.jsx(v,{sx:{padding:"20px 40px",backgroundColor:"grey.100"},children:t.jsxs(_,{sx:{flexDirection:{xs:"column",sm:"row"}},children:[t.jsxs(_,{direction:"row",sx:{alignItems:"center",flexGrow:1},children:[t.jsx(Q,{condition:r,wrapper:z,wrapperProps:{variant:"circular"},children:t.jsx(Wt,{sx:{bgcolor:"grey.300",height:48,width:48},children:(n==null?void 0:n.entityType)&&t.jsx(lt,{icon:n!=null&&n.entityType?jt[n.entityType]:"file",wrap:!1,sx:{color:"grey.700"}})})}),t.jsxs(v,{sx:{marginLeft:"10px",flexGrow:1},children:[t.jsxs(_,{direction:"row",sx:{alignItems:"center",gap:"3px"},children:[t.jsx(Q,{condition:r,wrapper:z,children:t.jsx(T,{variant:"headline2",children:m??"Name not set"})}),((c=n==null?void 0:n.entity)==null?void 0:c.id)&&t.jsx(It,{entityId:n.entity.id})]}),t.jsx(R,{entityId:a,versionNumber:i,toggleShowVersionHistory:o})]})]}),s&&t.jsx(Dt,{...s})]})}),t.jsx(G,{...e})]})}try{w.displayName="EntityPageTitleBar",w.__docgenInfo={description:`The EntityPageTitleBar component is shown on every Entity page in Synapse, and shows an Entity's metadata and
provides controls to view and manipulate the Entity.`,displayName:"EntityPageTitleBar",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}},entityActionMenuProps:{defaultValue:null,description:"",name:"entityActionMenuProps",required:!1,type:{name:"EntityActionMenuProps"}},onActMemberClickAddConditionsForUse:{defaultValue:null,description:"",name:"onActMemberClickAddConditionsForUse",required:!0,type:{name:"() => void"}}}}}catch{}const xn={title:"Synapse/EntityPage/TitleBar",component:w,args:{entityId:"",onActMemberClickAddConditionsForUse:()=>{}},render:e=>t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsx("br",{}),t.jsx(w,{...e})]})},x=e=>()=>{console.log("Action clicked: "+e)},B={actionConfiguration:{ADD_TO_DOWNLOAD_CART:{text:"Add to Download Cart",onClick:x("ADD_TO_DOWNLOAD_CART"),disabled:!0,tooltipText:"You must have some permission to download this thing.",visible:!0},VIEW_SHARING_SETTINGS:{text:"View sharing settings",onClick:x("VIEW_SHARING_SETTINGS"),disabled:!1,visible:!0},MOVE_ENTITY:{text:"Move File",onClick:x("MOVE_ENTITY"),disabled:!1,visible:!0},DELETE_ENTITY:{text:"Delete File",onClick:x("DELETE_ENTITY"),disabled:!1,visible:!0},UPLOAD_FILE:{text:"Upload a file",onClick:x("UPLOAD_FILE"),disabled:!1,visible:!0},EDIT_FILE_METADATA:{text:"Edit some metadata",onClick:x("EDIT_FILE_METADATA"),disabled:!1,visible:!0},REPORT_VIOLATION:{text:"Report Violation",onClick:x("REPORT_VIOLATION"),disabled:!1,visible:!0}},menuConfiguration:{DOWNLOAD:{visible:!0},PRIMARY:{visible:!0}},layout:{buttonActions:[{action:"UPLOAD_FILE",icon:"upload"},{action:"EDIT_FILE_METADATA",icon:"edit"}],downloadMenuActions:[[{action:"ADD_TO_DOWNLOAD_CART"}]],primaryMenuActions:[[{action:"VIEW_SHARING_SETTINGS"}],[{action:"MOVE_ENTITY"},{action:"DELETE_ENTITY",textSx:{color:"error.main"}}],[{action:"REPORT_VIOLATION",icon:"flag",iconSx:{color:"error.main"}}]],primaryMenuText:"Tools Menu Text is Configurable",primaryMenuEndIcon:"verticalEllipsis"}},L={args:{entityId:"syn24610484",versionNumber:1,entityActionMenuProps:B}},k={args:{entityId:"syn26302617",entityActionMenuProps:B}},N={args:{entityId:"syn24610451",entityActionMenuProps:B}};var J,X,Z;L.parameters={...L.parameters,docs:{...(J=L.parameters)==null?void 0:J.docs,source:{originalSource:`{
  args: {
    entityId: 'syn24610484',
    versionNumber: 1,
    entityActionMenuProps: actionMenuProps
  }
}`,...(Z=(X=L.parameters)==null?void 0:X.docs)==null?void 0:Z.source}}};var tt,et,it;k.parameters={...k.parameters,docs:{...(tt=k.parameters)==null?void 0:tt.docs,source:{originalSource:`{
  args: {
    entityId: 'syn26302617',
    entityActionMenuProps: actionMenuProps
  }
}`,...(it=(et=k.parameters)==null?void 0:et.docs)==null?void 0:it.source}}};var ot,rt,nt;N.parameters={...N.parameters,docs:{...(ot=N.parameters)==null?void 0:ot.docs,source:{originalSource:`{
  args: {
    entityId: 'syn24610451',
    entityActionMenuProps: actionMenuProps
  }
}`,...(nt=(rt=N.parameters)==null?void 0:rt.docs)==null?void 0:nt.source}}};const vn=["File","Dataset","Folder"];export{k as Dataset,L as File,N as Folder,vn as __namedExportsOrder,xn as default};
