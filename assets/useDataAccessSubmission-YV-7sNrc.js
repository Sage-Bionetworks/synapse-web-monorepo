import{j as r,o as m,p as i,n as y}from"./SynapseClient-Dbc8tFdW.js";import{u as o}from"./useMutation-CmUrLdpa.js";import{u as S}from"./useInfiniteQuery-B9dT23yY.js";import"./OrientationBanner-x6ohh6pv.js";import"./EntityTypeUtils-BpOAC-k-.js";import"./getEndpoint-CjoHA800.js";import"./index-Dl6G-zuu.js";import"./jsx-runtime-Du8NFWEI.js";function K(s,t){const{accessToken:u,keyFactory:a}=r();return m({...t,queryKey:a.getDataAccessSubmissionQueryKey(String(s.toString())),queryFn:()=>i.getSubmissionById(s,u)})}function k(s,t){const{accessToken:u,keyFactory:a}=r();return S({...t,queryKey:a.searchDataAccessSubmissionQueryKey(s),queryFn:async e=>await i.searchAccessSubmission({...s,nextPageToken:e.pageParam},u),initialPageParam:void 0,getNextPageParam:e=>e.nextPageToken})}function D(s){const t=y(),{accessToken:u,keyFactory:a}=r();return o({...s,mutationFn:e=>i.updateSubmissionStatus(e,u),onSuccess:async(e,c,n)=>{await t.invalidateQueries({queryKey:a.searchDataAccessSubmissionQueryKey()}),t.setQueryData(a.getDataAccessSubmissionQueryKey(c.submissionId),e)}})}function q(s){const t=y(),{accessToken:u,keyFactory:a}=r();return o({...s,mutationFn:async({request:e,accessRequirementId:c})=>{if(e.subjectId==null||e.subjectType==null){const{subjects:n}=await i.getSubjects(u,c);e.subjectId=n[0].id,e.subjectType=n[0].type}return i.submitDataAccessRequest(e,u)},onSuccess:async(e,c,n)=>{await t.invalidateQueries({queryKey:a.getAccessRequirementStatusQueryKey(c.accessRequirementId)}),await t.invalidateQueries({queryKey:a.searchDataAccessSubmissionQueryKey()}),s!=null&&s.onSuccess&&await s.onSuccess(e,c,n)}})}export{K as a,k as b,q as c,D as u};
