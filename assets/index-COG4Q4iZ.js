import{as as g,r as i,j as e,V as d,dr as c,B as _,e3 as w,J as u}from"./iframe-DkJtXMGY.js";import{c as x}from"./useDownloadList-BqvEC_EH.js";import{u as f,D as n,E,V as I}from"./useEntitySelection-D5WeSzBR.js";function o({parentContainerId:r}){const{downloadCartPageUrl:p}=g(),C=!0,{selectedEntities:t,toggleSelection:D}=f(C),{mutate:l}=x({onSuccess:()=>{u("File(s) were successfully added to your Download Cart.","success",{primaryButtonConfig:{text:"View Download Cart",onClick:()=>window.location.href=p}})},onError:a=>{u(`Unable to add the file to your Download Cart. ${a.reason}`,"danger")}}),y=i.useCallback(a=>t.has(a.id),[t]),m=i.useCallback(()=>{const a=Array.from(t.values()).map(s=>({fileEntityId:s.targetId,versionNumber:s.targetVersionNumber}));l(a)},[t,l]),h={versionSelection:I.REQUIRED,selectColumnType:"checkbox",enableSelectAll:!0,visibleTypes:[c.file],selected:t,selectableTypes:[c.file],isIdSelected:y,isSelectable:()=>!0,toggleSelection:D,hiddenColumns:[n.BADGES,n.ADD_TO_DOWNLOAD_CART,n.CREATED_ON,n.VERSION,n.MODIFIED_BY]};return e.jsxs(e.Fragment,{children:[e.jsx(d,{children:e.jsx(E,{parentContainerId:r,...h})}),e.jsx(d,{sx:{mt:4},children:e.jsx(_,{endIcon:e.jsx(w,{}),variant:"outlined",sx:{alignSelf:"flex-end",height:"47px"},onClick:m,disabled:!t.toArray().length,children:"Add to Download Cart"})})]})}try{o.displayName="ChallengeDataDownload",o.__docgenInfo={description:"",displayName:"ChallengeDataDownload",props:{parentContainerId:{defaultValue:null,description:"",name:"parentContainerId",required:!0,type:{name:"string"}}}}}catch{}try{o.displayName="ChallengeDataDownload",o.__docgenInfo={description:"",displayName:"ChallengeDataDownload",props:{parentContainerId:{defaultValue:null,description:"",name:"parentContainerId",required:!0,type:{name:"string"}}}}}catch{}export{o as C};
