var HC=Object.defineProperty;var xf=e=>{throw TypeError(e)};var KC=(e,n,t)=>n in e?HC(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var te=(e,n,t)=>KC(e,typeof n!="symbol"?n+"":n,t),Sf=(e,n,t)=>n.has(e)||xf("Cannot "+t);var Tn=(e,n,t)=>(Sf(e,n,"read from private field"),t?t.call(e):n.get(e)),Di=(e,n,t)=>n.has(e)?xf("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,t),Xn=(e,n,t,s)=>(Sf(e,n,"write to private field"),s?s.call(e,t):n.set(e,t),t);var Bc=(e,n,t,s)=>({set _(r){Xn(e,n,r,t)},get _(){return Tn(e,n,s)}});import{r as Zn,j as Ne,P as GC,X as Zl,V as VC,ag as WC,e0 as XC,_ as ZC,cp as QC,cm as YC,jd as hs,ao as yy,aA as eu,je as JC,dO as e0,hS as t0,jf as n0}from"./iframe-Dc6hcGlJ.js";import{F as s0,a as r0}from"./FileUploadProgress-DRLkMeNx.js";import{p as pf}from"./pluralize-Dtp1DlEB.js";import{F as o0}from"./index.esm-Bte5_PdH.js";import{M as Ef}from"./MenuItem-CX3e5zAM.js";import{d as ti}from"./index-r8ZA1smB.js";import{r as i0}from"./events-DQ172AOg.js";import{k as a0}from"./index-DeHyV-bG.js";const tu=["PREPARING","UPLOADING","PAUSED"],c0=[...tu,"COMPLETE"];function l0(){const[e,n]=Zn.useState(new Map);function t(...w){w.forEach(p=>{const D=e.get(p.file);D&&D.status!=="CANCELED_BY_USER"&&c(p.file)});const C=new Map(e.entries());return w.forEach(p=>{C.set(p.file,{filePreparedForUpload:p,abortController:new AbortController,progress:{value:0,total:1},status:"PREPARING"})}),n(C),C}function s(w,C){n(p=>{const D=new Map(p.entries()),S=D.get(w);return S&&D.set(w,{...S,progress:{...S.progress,...C}}),D})}function r(w,C,p){n(D=>{const S=new Map(D.entries()),O=S.get(w);return O&&S.set(w,{...O,status:C,failureReason:p}),S})}function o(w,C){n(p=>{const D=new Map(p.entries()),S=D.get(w);return S&&D.set(w,{...S,fileHandleId:C}),D})}function i(w){r(w,"UPLOADING")}function a(w,C){r(w,"COMPLETE"),o(w,C)}function l(w,C){r(w,"FAILED",C)}function c(w){const C=e.get(w);C!=null&&C.abortController.abort(),r(w,"CANCELED_BY_USER")}function d(w){const C=e.get(w);C!=null&&C.abortController.abort("Paused by user"),r(w,"PAUSED")}function f(w){n(C=>{const p=new Map(C.entries()),D=p.get(w);return D==null||(D.status!="CANCELED_BY_USER"&&D.status!="FAILED"?console.warn("Attempted to remove tracked upload progress before it was canceled.",D):p.delete(w)),p})}const m=[...e].reduce((w,[C,p])=>c0.includes(p.status)?w+C.size:w,0),g=[...e].filter(([w,C])=>tu.includes(C.status)).length,k=g>0,v=[...e].some(([w,C])=>C.status==="COMPLETE")&&!k;return{trackedUploadProgress:e,setProgress:s,setIsUploading:i,trackNewFiles:t,bytesPendingUpload:m,pauseUpload:d,cancelUpload:c,removeUpload:f,setComplete:a,setFailed:l,isUploading:k,isUploadComplete:v,activeUploadCount:g}}function d0(e){return e.filter(n=>tu.includes(n)).length}const Ni=24;function wf(e){const{uploaderState:n,uploadProgress:t}=e;if(t.length===0)return null;const s=d0(t.map(o=>o.status)),r=t.filter(o=>o.status==="COMPLETE").length;return Ne.jsxs(GC,{sx:{px:`${Ni}px`,py:2,mt:3,width:"100%",height:"260px",background:"#FBFBFC"},children:[Ne.jsxs(Zl,{variant:"headline2",gutterBottom:!0,children:[n==="WAITING"&&Ne.jsx(Ne.Fragment,{children:"Uploads"}),n==="UPLOADING"&&Ne.jsxs(Ne.Fragment,{children:["Uploading ",s," ",pf("Item",s)]}),n==="COMPLETE"&&Ne.jsxs(Ne.Fragment,{children:["Uploaded ",r," ",pf("Item",r)]})]}),Ne.jsx(VC,{sx:{mx:`${Ni*-1}px`,"& > div > div > :not(:last-child)":{borderBottom:"solid 1px #EAECEE"}},children:Ne.jsx(o0,{itemSize:s0,height:205,itemCount:t.length,width:"100%",children:({index:o,style:i})=>{const a=t[o],l=a.file.webkitRelativePath||a.file.name,c=a.file.size,d=a.progress.value/a.progress.total,f=c*d;return Ne.jsx("div",{style:{...i,width:`calc(100% - ${Ni*2}px)`,margin:`0px ${Ni}px`},children:Ne.jsx(r0,{fileName:l,status:a.status,totalSizeInBytes:c,uploadedSizeInBytes:f,onCancel:a.cancel,onPause:a.pause,onResume:a.resume,onRemove:a.remove,errorMessage:a.failureReason})},l)}})})]})}try{wf.displayName="MultiFileUploadProgress",wf.__docgenInfo={description:"",displayName:"MultiFileUploadProgress",props:{uploaderState:{defaultValue:null,description:"The current state of the uploader.",name:"uploaderState",required:!0,type:{name:"EntityUploaderState"}},uploadProgress:{defaultValue:null,description:"The progress of each file being uploaded, including status and callbacks for user actions.",name:"uploadProgress",required:!0,type:{name:"UploadItem[]"}}}}}catch{}const u0={pointerEvents:"none",filter:"opacity(33%)"};function kf(e){const{onUploadFileList:n,allowMultipleFiles:t,isLoading:s=!1,loadingText:r="Loading...",disabled:o=!1,message:i,disableDragAndDrop:a=!1}=e,l=Zn.useRef(null),c=Zn.useRef(null),[d,f]=Zn.useState(null),m=!!d,g=v=>{t?f(v.currentTarget):l.current.click()},k=()=>{f(null)};return Ne.jsxs(WC,{sx:{py:3,gap:1,justifyContent:"center",alignItems:"center",width:"100%",border:"1px dashed #D9D9D9",backgroundColor:"grey.100",textAlign:"center",...o?u0:{}},children:[s&&Ne.jsxs(Ne.Fragment,{children:[Ne.jsx("div",{children:Ne.jsx(XC,{size:40})}),Ne.jsx(Zl,{variant:"smallText1",sx:{my:2},children:r})]}),!s&&Ne.jsxs(Ne.Fragment,{children:[Ne.jsx("img",{src:"https://s3.us-east-1.amazonaws.com/static.synapse.org/images/upload_illustration.svg"}),Ne.jsx("input",{type:"file",id:"filesToUpload",name:"file upload",style:{display:"none"},"aria-hidden":"true",multiple:t,ref:l,onChange:v=>{v.target.files!=null&&n(v.target.files)}}),Ne.jsx("input",{type:"file",id:"folderToUpload",name:"folder upload",style:{display:"none"},"aria-hidden":"true",ref:c,onChange:v=>{v.target.files!=null&&n(v.target.files)},webkitdirectory:"true"}),Ne.jsxs(Zl,{variant:"body1",sx:{my:2},children:[Ne.jsx(ZC,{onClick:g,children:"Click to upload"}),!a&&" or drag and drop"]}),Ne.jsxs(QC,{anchorEl:d,open:m,onClose:k,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},slots:{transition:YC},children:[Ne.jsx(Ef,{onClick:()=>{k(),l.current.click()},children:"Files"}),Ne.jsx(Ef,{onClick:()=>{k(),c.current.click()},children:"Folder"})]}),i]})]})}try{kf.displayName="UploadFilePanel",kf.__docgenInfo={description:"Provides a generic UI component to upload one or more files.",displayName:"UploadFilePanel",props:{message:{defaultValue:null,description:"An optional message that appears in the upload panel (e.g. to describe the upload destination).",name:"message",required:!1,type:{name:"ReactNode"}},onUploadFileList:{defaultValue:null,description:`Called when upload is invoked.
@param files`,name:"onUploadFileList",required:!0,type:{name:"(files: ArrayLike<File>) => void"}},allowMultipleFiles:{defaultValue:null,description:"If true, allow uploading multiple files. Otherwise, only one file may be uploaded.",name:"allowMultipleFiles",required:!0,type:{name:"boolean"}},isLoading:{defaultValue:{value:"false"},description:"Whether the component should show a loader.",name:"isLoading",required:!1,type:{name:"boolean"}},loadingText:{defaultValue:{value:"'Loading...'"},description:"Text to show when `isLoading` is true.",name:"loadingText",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"Whether to disable the upload panel (e.g. when the project storage is full).",name:"disabled",required:!1,type:{name:"boolean"}},disableDragAndDrop:{defaultValue:{value:"false"},description:"Whether to enable drag-and-drop to upload functionality.",name:"disableDragAndDrop",required:!1,type:{name:"boolean"}}}}}catch{}const f0=e=>({setHttpHandler(n){e.httpHandler=n},httpHandler(){return e.httpHandler},updateHttpClientConfig(n,t){var s;(s=e.httpHandler)==null||s.updateHttpClientConfig(n,t)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),m0=e=>({httpHandler:e.httpHandler()});var _f;(function(e){e.HEADER="header",e.QUERY="query"})(_f||(_f={}));var Bf;(function(e){e.HEADER="header",e.QUERY="query"})(Bf||(Bf={}));var di;(function(e){e.HTTP="http",e.HTTPS="https"})(di||(di={}));var Ia;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(Ia||(Ia={}));var Af;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Af||(Af={}));const Ql="__smithy_context";var vf;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(vf||(vf={}));var Pf;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(Pf||(Pf={}));class yt{constructor(n){this.method=n.method||"GET",this.hostname=n.hostname||"localhost",this.port=n.port,this.query=n.query||{},this.headers=n.headers||{},this.body=n.body,this.protocol=n.protocol?n.protocol.slice(-1)!==":"?`${n.protocol}:`:n.protocol:"https:",this.path=n.path?n.path.charAt(0)!=="/"?`/${n.path}`:n.path:"/",this.username=n.username,this.password=n.password,this.fragment=n.fragment}static clone(n){const t=new yt({...n,headers:{...n.headers}});return t.query&&(t.query=h0(t.query)),t}static isInstance(n){if(!n)return!1;const t=n;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&typeof t.query=="object"&&typeof t.headers=="object"}clone(){return yt.clone(this)}}function h0(e){return Object.keys(e).reduce((n,t)=>{const s=e[t];return{...n,[t]:Array.isArray(s)?[...s]:s}},{})}class xo{constructor(n){this.statusCode=n.statusCode,this.reason=n.reason,this.headers=n.headers||{},this.body=n.body}static isInstance(n){if(!n)return!1;const t=n;return typeof t.statusCode=="number"&&typeof t.headers=="object"}}function y0(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}function g0(e){return n=>async t=>{var r,o;const{request:s}=t;return yt.isInstance(s)&&s.body&&e.runtime==="node"&&((o=(r=e.requestHandler)==null?void 0:r.constructor)==null?void 0:o.name)!=="FetchHttpHandler"&&(s.headers={...s.headers,Expect:"100-continue"}),n({...t,request:s})}}const b0={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},C0=e=>({applyToStack:n=>{n.add(g0(e),b0)}}),So={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},x0=So.WHEN_SUPPORTED,Ac={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},S0=So.WHEN_SUPPORTED;var je;(function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.CRC64NVME="CRC64NVME",e.SHA1="SHA1",e.SHA256="SHA256"})(je||(je={}));var Rf;(function(e){e.HEADER="header",e.TRAILER="trailer"})(Rf||(Rf={}));const Yl=je.CRC32;var Tf;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Tf||(Tf={}));function p0(e,n,t){return e.$source||(e.$source={}),e.$source[n]=t,e}function mt(e,n,t){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[n]=t}const If=e=>{var n,t;return xo.isInstance(e)?((n=e.headers)==null?void 0:n.date)??((t=e.headers)==null?void 0:t.Date):void 0},nu=e=>new Date(Date.now()+e),E0=(e,n)=>Math.abs(nu(n).getTime()-e)>=3e5,Of=(e,n)=>{const t=Date.parse(e);return E0(t,n)?t-Date.now():n},ni=(e,n)=>{if(!n)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return n},gy=async e=>{var c,d,f;const n=ni("context",e.context),t=ni("config",e.config),s=(f=(d=(c=n.endpointV2)==null?void 0:c.properties)==null?void 0:d.authSchemes)==null?void 0:f[0],o=await ni("signer",t.signer)(s),i=e==null?void 0:e.signingRegion,a=e==null?void 0:e.signingRegionSet,l=e==null?void 0:e.signingName;return{config:t,signer:o,signingRegion:i,signingRegionSet:a,signingName:l}};class by{async sign(n,t,s){var f;if(!yt.isInstance(n))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const r=await gy(s),{config:o,signer:i}=r;let{signingRegion:a,signingName:l}=r;const c=s.context;if(((f=c==null?void 0:c.authSchemes)==null?void 0:f.length)??!1){const[m,g]=c.authSchemes;(m==null?void 0:m.name)==="sigv4a"&&(g==null?void 0:g.name)==="sigv4"&&(a=(g==null?void 0:g.signingRegion)??a,l=(g==null?void 0:g.signingName)??l)}return await i.sign(n,{signingDate:nu(o.systemClockOffset),signingRegion:a,signingService:l})}errorHandler(n){return t=>{const s=t.ServerTime??If(t.$response);if(s){const r=ni("config",n.config),o=r.systemClockOffset;r.systemClockOffset=Of(s,r.systemClockOffset),r.systemClockOffset!==o&&t.$metadata&&(t.$metadata.clockSkewCorrected=!0)}throw t}}successHandler(n,t){const s=If(n);if(s){const r=ni("config",t.config);r.systemClockOffset=Of(s,r.systemClockOffset)}}}class w0 extends by{async sign(n,t,s){var m;if(!yt.isInstance(n))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:r,signer:o,signingRegion:i,signingRegionSet:a,signingName:l}=await gy(s),d=(await((m=r.sigv4aSigningRegionSet)==null?void 0:m.call(r))??a??[i]).join(",");return await o.sign(n,{signingDate:nu(r.systemClockOffset),signingRegion:d,signingService:l})}}const Ro=e=>e[Ql]||(e[Ql]={}),On=e=>{if(typeof e=="function")return e;const n=Promise.resolve(e);return()=>n},k0=(e,n)=>{if(!n||n.length===0)return e;const t=[];for(const s of n)for(const r of e)r.schemeId.split("#")[1]===s&&t.push(r);for(const s of e)t.find(({schemeId:r})=>r===s.schemeId)||t.push(s);return t};function _0(e){const n=new Map;for(const t of e)n.set(t.schemeId,t);return n}const B0=(e,n)=>(t,s)=>async r=>{var f;const o=e.httpAuthSchemeProvider(await n.httpAuthSchemeParametersProvider(e,s,r.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=k0(o,i),l=_0(e.httpAuthSchemes),c=Ro(s),d=[];for(const m of a){const g=l.get(m.schemeId);if(!g){d.push(`HttpAuthScheme \`${m.schemeId}\` was not enabled for this service.`);continue}const k=g.identityProvider(await n.identityProviderConfigProvider(e));if(!k){d.push(`HttpAuthScheme \`${m.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:v={},signingProperties:w={}}=((f=m.propertiesExtractor)==null?void 0:f.call(m,e,s))||{};m.identityProperties=Object.assign(m.identityProperties||{},v),m.signingProperties=Object.assign(m.signingProperties||{},w),c.selectedHttpAuthScheme={httpAuthOption:m,identity:await k(m.identityProperties),signer:g.signer};break}if(!c.selectedHttpAuthScheme)throw new Error(d.join(`
`));return t(r)},A0={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},v0=(e,{httpAuthSchemeParametersProvider:n,identityProviderConfigProvider:t})=>({applyToStack:s=>{s.addRelativeTo(B0(e,{httpAuthSchemeParametersProvider:n,identityProviderConfigProvider:t}),A0)}}),P0=(e,n)=>(t,s)=>async r=>{var i,a,l,c;const{response:o}=await t(r);try{const d=await n(o,e);return{response:o,output:d}}catch(d){if(Object.defineProperty(d,"$response",{value:o}),!("$metadata"in d)){const f="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{d.message+=`
  `+f}catch{!s.logger||((a=(i=s.logger)==null?void 0:i.constructor)==null?void 0:a.name)==="NoOpLogger"?console.warn(f):(c=(l=s.logger)==null?void 0:l.warn)==null||c.call(l,f)}typeof d.$responseBodyText<"u"&&d.$response&&(d.$response.body=d.$responseBodyText)}throw d}},R0=(e,n)=>(t,s)=>async r=>{var a;const o=(a=s.endpointV2)!=null&&a.url&&e.urlParser?async()=>e.urlParser(s.endpointV2.url):e.endpoint;if(!o)throw new Error("No valid endpoint provider available.");const i=await n(r.input,{...e,endpoint:o});return t({...r,request:i})},T0={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},su={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function F(e,n,t){return{applyToStack:s=>{s.add(P0(e,t),T0),s.add(R0(e,n),su)}}}su.name;const I0=e=>n=>{throw n},O0=(e,n)=>{},M0=e=>(n,t)=>async s=>{if(!yt.isInstance(s.request))return n(s);const o=Ro(t).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:i={}},identity:a,signer:l}=o,c=await n({...s,request:await l.sign(s.request,a,i)}).catch((l.errorHandler||I0)(i));return(l.successHandler||O0)(c.response,i),c},Cy={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},D0=e=>({applyToStack:n=>{n.addRelativeTo(M0(),Cy)}}),Fr=e=>{if(typeof e=="function")return e;const n=Promise.resolve(e);return()=>n},ys={},To=new Array(64);for(let e=0,n=65,t=90;e+n<=t;e++){const s=String.fromCharCode(e+n);ys[s]=e,To[e]=s}for(let e=0,n=97,t=122;e+n<=t;e++){const s=String.fromCharCode(e+n),r=e+26;ys[s]=r,To[r]=s}for(let e=0;e<10;e++){ys[e.toString(10)]=e+52;const n=e.toString(10),t=e+52;ys[n]=t,To[t]=n}ys["+"]=62;To[62]="+";ys["/"]=63;To[63]="/";const Ur=6,si=8,N0=63,ru=e=>{let n=e.length/4*3;e.slice(-2)==="=="?n-=2:e.slice(-1)==="="&&n--;const t=new ArrayBuffer(n),s=new DataView(t);for(let r=0;r<e.length;r+=4){let o=0,i=0;for(let c=r,d=r+3;c<=d;c++)if(e[c]!=="="){if(!(e[c]in ys))throw new TypeError(`Invalid character ${e[c]} in base64 string.`);o|=ys[e[c]]<<(d-c)*Ur,i+=Ur}else o>>=Ur;const a=r/4*3;o>>=i%si;const l=Math.floor(i/si);for(let c=0;c<l;c++){const d=(l-c-1)*si;s.setUint8(a+c,(o&255<<d)>>d)}}return new Uint8Array(t)},hr=e=>new TextEncoder().encode(e),po=e=>typeof e=="string"?hr(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),ou=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)};function oc(e){let n;typeof e=="string"?n=hr(e):n=e;const t=typeof n=="object"&&typeof n.length=="number",s=typeof n=="object"&&typeof n.byteOffset=="number"&&typeof n.byteLength=="number";if(!t&&!s)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let r="";for(let o=0;o<n.length;o+=3){let i=0,a=0;for(let c=o,d=Math.min(o+3,n.length);c<d;c++)i|=n[c]<<(d-c-1)*si,a+=si;const l=Math.ceil(a/Ur);i<<=l*Ur-a;for(let c=1;c<=l;c++){const d=(l-c)*Ur;r+=To[(i&N0<<d)>>d]}r+="==".slice(0,4-l)}return r}function L0(e,n="utf-8"){return n==="base64"?oc(e):ou(e)}function F0(e,n){return n==="base64"?Fs.mutate(ru(e)):Fs.mutate(hr(e))}class Fs extends Uint8Array{static fromString(n,t="utf-8"){switch(typeof n){case"string":return F0(n,t);default:throw new Error(`Unsupported conversion from ${typeof n} to Uint8ArrayBlobAdapter.`)}}static mutate(n){return Object.setPrototypeOf(n,Fs.prototype),n}transformToString(n="utf-8"){return L0(this,n)}}const U0=typeof ReadableStream=="function"?ReadableStream:function(){};class z0 extends U0{}const Jl=e=>{var n;return typeof ReadableStream=="function"&&(((n=e==null?void 0:e.constructor)==null?void 0:n.name)===ReadableStream.name||e instanceof ReadableStream)},q0=({expectedChecksum:e,checksum:n,source:t,checksumSourceLocation:s,base64Encoder:r})=>{var l;if(!Jl(t))throw new Error(`@smithy/util-stream: unsupported source type ${((l=t==null?void 0:t.constructor)==null?void 0:l.name)??t} in ChecksumStream.`);const o=r??oc;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");const i=new TransformStream({start(){},async transform(c,d){n.update(c),d.enqueue(c)},async flush(c){const d=await n.digest(),f=o(d);if(e!==f){const m=new Error(`Checksum mismatch: expected "${e}" but received "${f}" in response header "${s}".`);c.error(m)}else c.terminate()}});t.pipeThrough(i);const a=i.readable;return Object.setPrototypeOf(a,z0.prototype),a};class $0{constructor(n){this.allocByteArray=n,this.byteLength=0,this.byteArrays=[]}push(n){this.byteArrays.push(n),this.byteLength+=n.byteLength}flush(){if(this.byteArrays.length===1){const s=this.byteArrays[0];return this.reset(),s}const n=this.allocByteArray(this.byteLength);let t=0;for(let s=0;s<this.byteArrays.length;++s){const r=this.byteArrays[s];n.set(r,t),t+=r.byteLength}return this.reset(),n}reset(){this.byteArrays=[],this.byteLength=0}}function j0(e,n,t){const s=e.getReader();let r=!1,o=0;const i=["",new $0(c=>new Uint8Array(c))];let a=-1;const l=async c=>{const{value:d,done:f}=await s.read(),m=d;if(f){if(a!==-1){const g=vc(i,a);ri(g)>0&&c.enqueue(g)}c.close()}else{const g=G0(m,!1);if(a!==g&&(a>=0&&c.enqueue(vc(i,a)),a=g),a===-1){c.enqueue(m);return}const k=ri(m);o+=k;const v=ri(i[a]);if(k>=n&&v===0)c.enqueue(m);else{const w=K0(i,a,m);!r&&o>n*2&&(r=!0,t==null||t.warn(`@smithy/util-stream - stream chunk size ${k} is below threshold of ${n}, automatically buffering.`)),w>=n?c.enqueue(vc(i,a)):await l(c)}}};return new ReadableStream({pull:l})}const H0=j0;function K0(e,n,t){switch(n){case 0:return e[0]+=t,ri(e[0]);case 1:case 2:return e[n].push(t),ri(e[n])}}function vc(e,n){switch(n){case 0:const t=e[0];return e[0]="",t;case 1:case 2:return e[n].flush()}throw new Error(`@smithy/util-stream - invalid index ${n} given to flush()`)}function ri(e){return(e==null?void 0:e.byteLength)??(e==null?void 0:e.length)??0}function G0(e,n=!0){return n&&typeof ti.Buffer<"u"&&e instanceof ti.Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}const V0=(e,n)=>{const{base64Encoder:t,bodyLengthChecker:s,checksumAlgorithmFn:r,checksumLocationName:o,streamHasher:i}=n,a=t!==void 0&&s!==void 0&&r!==void 0&&o!==void 0&&i!==void 0,l=a?i(r,e):void 0,c=e.getReader();return new ReadableStream({async pull(d){const{value:f,done:m}=await c.read();if(m){if(d.enqueue(`0\r
`),a){const g=t(await l);d.enqueue(`${o}:${g}\r
`),d.enqueue(`\r
`)}d.close()}else d.enqueue(`${(s(f)||0).toString(16)}\r
${f}\r
`)}})};async function W0(e,n){let t=0;const s=[],r=e.getReader();let o=!1;for(;!o;){const{done:l,value:c}=await r.read();if(c&&(s.push(c),t+=(c==null?void 0:c.byteLength)??0),t>=n)break;o=l}r.releaseLock();const i=new Uint8Array(Math.min(n,t));let a=0;for(const l of s){if(l.byteLength>i.byteLength-a){i.set(l.subarray(0,i.byteLength-a),a);break}else i.set(l,a);a+=l.length}return i}const Us=e=>encodeURIComponent(e).replace(/[!'()*]/g,X0),X0=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function Z0(e){const n=[];for(let t of Object.keys(e).sort()){const s=e[t];if(t=Us(t),Array.isArray(s))for(let r=0,o=s.length;r<o;r++)n.push(`${t}=${Us(s[r])}`);else{let r=t;(s||typeof s=="string")&&(r+=`=${Us(s)}`),n.push(r)}}return n.join("&")}function Mf(e,n){return new Request(e,n)}function Q0(e=0){return new Promise((n,t)=>{e&&setTimeout(()=>{const s=new Error(`Request did not complete within ${e} ms`);s.name="TimeoutError",t(s)},e)})}const Pc={supported:void 0};class iu{static create(n){return typeof(n==null?void 0:n.handle)=="function"?n:new iu(n)}constructor(n){typeof n=="function"?this.configProvider=n().then(t=>t||{}):(this.config=n??{},this.configProvider=Promise.resolve(this.config)),Pc.supported===void 0&&(Pc.supported=typeof Request<"u"&&"keepalive"in Mf("https://[::1]"))}destroy(){}async handle(n,{abortSignal:t}={}){var C;this.config||(this.config=await this.configProvider);const s=this.config.requestTimeout,r=this.config.keepAlive===!0,o=this.config.credentials;if(t!=null&&t.aborted){const p=new Error("Request aborted");return p.name="AbortError",Promise.reject(p)}let i=n.path;const a=Z0(n.query||{});a&&(i+=`?${a}`),n.fragment&&(i+=`#${n.fragment}`);let l="";if(n.username!=null||n.password!=null){const p=n.username??"",D=n.password??"";l=`${p}:${D}@`}const{port:c,method:d}=n,f=`${n.protocol}//${l}${n.hostname}${c?`:${c}`:""}${i}`,m=d==="GET"||d==="HEAD"?void 0:n.body,g={body:m,headers:new Headers(n.headers),method:d,credentials:o};(C=this.config)!=null&&C.cache&&(g.cache=this.config.cache),m&&(g.duplex="half"),typeof AbortController<"u"&&(g.signal=t),Pc.supported&&(g.keepalive=r),typeof this.config.requestInit=="function"&&Object.assign(g,this.config.requestInit(n));let k=()=>{};const v=Mf(f,g),w=[fetch(v).then(p=>{const D=p.headers,S={};for(const E of D.entries())S[E[0]]=E[1];return p.body!=null?{response:new xo({headers:S,reason:p.statusText,statusCode:p.status,body:p.body})}:p.blob().then(E=>({response:new xo({headers:S,reason:p.statusText,statusCode:p.status,body:E})}))}),Q0(s)];return t&&w.push(new Promise((p,D)=>{const S=()=>{const O=new Error("Request aborted");O.name="AbortError",D(O)};if(typeof t.addEventListener=="function"){const O=t;O.addEventListener("abort",S,{once:!0}),k=()=>O.removeEventListener("abort",S)}else t.onabort=S})),Promise.race(w).finally(k)}updateHttpClientConfig(n,t){this.config=void 0,this.configProvider=this.configProvider.then(s=>(s[n]=t,s))}httpHandlerConfigs(){return this.config??{}}}const xy=async e=>{var n;return typeof Blob=="function"&&e instanceof Blob||((n=e.constructor)==null?void 0:n.name)==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):Y0(e):J0(e)};async function Y0(e){const n=await ex(e),t=ru(n);return new Uint8Array(t)}async function J0(e){const n=[],t=e.getReader();let s=!1,r=0;for(;!s;){const{done:a,value:l}=await t.read();l&&(n.push(l),r+=l.length),s=a}const o=new Uint8Array(r);let i=0;for(const a of n)o.set(a,i),i+=a.length;return o}function ex(e){return new Promise((n,t)=>{const s=new FileReader;s.onloadend=()=>{if(s.readyState!==2)return t(new Error("Reader aborted too early"));const r=s.result??"",o=r.indexOf(","),i=o>-1?o+1:r.length;n(r.substring(i))},s.onabort=()=>t(new Error("Read aborted")),s.onerror=()=>t(s.error),s.readAsDataURL(e)})}const Sy={},ed={};for(let e=0;e<256;e++){let n=e.toString(16).toLowerCase();n.length===1&&(n=`0${n}`),Sy[e]=n,ed[n]=e}function py(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const n=new Uint8Array(e.length/2);for(let t=0;t<e.length;t+=2){const s=e.slice(t,t+2).toLowerCase();if(s in ed)n[t/2]=ed[s];else throw new Error(`Cannot decode unrecognized sequence ${s} as hexadecimal`)}return n}function tn(e){let n="";for(let t=0;t<e.byteLength;t++)n+=Sy[e[t]];return n}const Df="The stream has already been transformed.",tx=e=>{var r,o;if(!Nf(e)&&!Jl(e)){const i=((o=(r=e==null?void 0:e.__proto__)==null?void 0:r.constructor)==null?void 0:o.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let n=!1;const t=async()=>{if(n)throw new Error(Df);return n=!0,await xy(e)},s=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(e,{transformToByteArray:t,transformToString:async i=>{const a=await t();if(i==="base64")return oc(a);if(i==="hex")return tn(a);if(i===void 0||i==="utf8"||i==="utf-8")return ou(a);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(Df);if(n=!0,Nf(e))return s(e);if(Jl(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})},Nf=e=>typeof Blob=="function"&&e instanceof Blob;async function nx(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}const ce=async(e=new Uint8Array,n)=>{if(e instanceof Uint8Array)return Fs.mutate(e);if(!e)return Fs.mutate(new Uint8Array);const t=n.streamCollector(e);return Fs.mutate(await t)};function Oa(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})}const sx=(e,n,t,s,r,o)=>{if(n!=null&&n[t]!==void 0){const i=s();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+t+".");e=e.replace(r,o?i.split("/").map(a=>Oa(a)).join("/"):Oa(i))}else throw new Error("No value provided for input HTTP label: "+t+".");return e};function U(e,n){return new rx(e,n)}class rx{constructor(n,t){this.input=n,this.context=t,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:n,protocol:t="https",port:s,path:r}=await this.context.endpoint();this.path=r;for(const o of this.resolvePathStack)o(this.path);return new yt({protocol:t,hostname:this.hostname||n,port:s,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(n){return this.hostname=n,this}bp(n){return this.resolvePathStack.push(t=>{this.path=`${t!=null&&t.endsWith("/")?t.slice(0,-1):t||""}`+n}),this}p(n,t,s,r){return this.resolvePathStack.push(o=>{this.path=sx(o,this.input,n,t,s,r)}),this}h(n){return this.headers=n,this}q(n){return this.query=n,this}b(n){return this.body=n,this}m(n){return this.method=n,this}}function ox(e,n,t){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[n]=t}class ix{constructor(n){this.authSchemes=new Map;for(const[t,s]of Object.entries(n))s!==void 0&&this.authSchemes.set(t,s)}getIdentityProvider(n){return this.authSchemes.get(n)}}const ax=e=>n=>Ey(n)&&n.expiration.getTime()-Date.now()<e,cx=3e5,lx=ax(cx),Ey=e=>e.expiration!==void 0,dx=(e,n,t)=>{if(e===void 0)return;const s=typeof e!="function"?async()=>Promise.resolve(e):e;let r,o,i,a=!1;const l=async c=>{o||(o=s(c));try{r=await o,i=!0,a=!1}finally{o=void 0}return r};return n===void 0?async c=>((!i||c!=null&&c.forceRefresh)&&(r=await l(c)),r):async c=>((!i||c!=null&&c.forceRefresh)&&(r=await l(c)),a?r:t(r)?(n(r)&&await l(c),r):(a=!0,r))},ux=(e,n,t)=>{let s,r,o,i=!1;const a=async()=>{r||(r=e());try{s=await r,o=!0,i=!1}finally{r=void 0}return s};return async l=>((!o||l!=null&&l.forceRefresh)&&(s=await a()),s)},fx=e=>(e.sigv4aSigningRegionSet=Fr(e.sigv4aSigningRegionSet),e),mx="X-Amz-Algorithm",hx="X-Amz-Credential",wy="X-Amz-Date",yx="X-Amz-SignedHeaders",gx="X-Amz-Expires",ky="X-Amz-Signature",_y="X-Amz-Security-Token",By="authorization",Ay=wy.toLowerCase(),bx="date",Cx=[By,Ay,bx],xx=ky.toLowerCase(),td="x-amz-content-sha256",Sx=_y.toLowerCase(),px={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Ex=/^proxy-/,wx=/^sec-/,Rc="AWS4-HMAC-SHA256",kx="AWS4-HMAC-SHA256-PAYLOAD",_x="UNSIGNED-PAYLOAD",Bx=50,vy="aws4_request",Ax=60*60*24*7,Li={},Tc=[],Ic=(e,n,t)=>`${e}/${n}/${t}/${vy}`,vx=async(e,n,t,s,r)=>{const o=await Lf(e,n.secretAccessKey,n.accessKeyId),i=`${t}:${s}:${r}:${tn(o)}:${n.sessionToken}`;if(i in Li)return Li[i];for(Tc.push(i);Tc.length>Bx;)delete Li[Tc.shift()];let a=`AWS4${n.secretAccessKey}`;for(const l of[t,s,r,vy])a=await Lf(e,a,l);return Li[i]=a},Lf=(e,n,t)=>{const s=new e(n);return s.update(po(t)),s.digest()},Ff=({headers:e},n,t)=>{const s={};for(const r of Object.keys(e).sort()){if(e[r]==null)continue;const o=r.toLowerCase();(o in px||n!=null&&n.has(o)||Ex.test(o)||wx.test(o))&&(!t||t&&!t.has(o))||(s[o]=e[r].trim().replace(/\s+/g," "))}return s},Py=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]",Oc=async({headers:e,body:n},t)=>{for(const s of Object.keys(e))if(s.toLowerCase()===td)return e[s];if(n==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof n=="string"||ArrayBuffer.isView(n)||Py(n)){const s=new t;return s.update(po(n)),tn(await s.digest())}return _x};class Px{format(n){const t=[];for(const o of Object.keys(n)){const i=hr(o);t.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(n[o]))}const s=new Uint8Array(t.reduce((o,i)=>o+i.byteLength,0));let r=0;for(const o of t)s.set(o,r),r+=o.byteLength;return s}formatHeaderValue(n){switch(n.type){case"boolean":return Uint8Array.from([n.value?0:1]);case"byte":return Uint8Array.from([2,n.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,n.value,!1),new Uint8Array(t.buffer);case"integer":const s=new DataView(new ArrayBuffer(5));return s.setUint8(0,4),s.setInt32(1,n.value,!1),new Uint8Array(s.buffer);case"long":const r=new Uint8Array(9);return r[0]=5,r.set(n.value.bytes,1),r;case"binary":const o=new DataView(new ArrayBuffer(3+n.value.byteLength));o.setUint8(0,6),o.setUint16(1,n.value.byteLength,!1);const i=new Uint8Array(o.buffer);return i.set(n.value,3),i;case"string":const a=hr(n.value),l=new DataView(new ArrayBuffer(3+a.byteLength));l.setUint8(0,7),l.setUint16(1,a.byteLength,!1);const c=new Uint8Array(l.buffer);return c.set(a,3),c;case"timestamp":const d=new Uint8Array(9);return d[0]=8,d.set(Tx.fromNumber(n.value.valueOf()).bytes,1),d;case"uuid":if(!Rx.test(n.value))throw new Error(`Invalid UUID received: ${n.value}`);const f=new Uint8Array(17);return f[0]=9,f.set(py(n.value.replace(/\-/g,"")),1),f}}}var Uf;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(Uf||(Uf={}));const Rx=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;let Tx=class Ry{constructor(n){if(this.bytes=n,n.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(n){if(n>9223372036854776e3||n<-9223372036854776e3)throw new Error(`${n} is too large (or, if negative, too small) to represent as an Int64`);const t=new Uint8Array(8);for(let s=7,r=Math.abs(Math.round(n));s>-1&&r>0;s--,r/=256)t[s]=r;return n<0&&zf(t),new Ry(t)}valueOf(){const n=this.bytes.slice(0),t=n[0]&128;return t&&zf(n),parseInt(tn(n),16)*(t?-1:1)}toString(){return String(this.valueOf())}};function zf(e){for(let n=0;n<8;n++)e[n]^=255;for(let n=7;n>-1&&(e[n]++,e[n]===0);n--);}const Ix=(e,n)=>{e=e.toLowerCase();for(const t of Object.keys(n))if(e===t.toLowerCase())return!0;return!1},Ox=(e,n={})=>{var r,o;const{headers:t,query:s={}}=yt.clone(e);for(const i of Object.keys(t)){const a=i.toLowerCase();(a.slice(0,6)==="x-amz-"&&!((r=n.unhoistableHeaders)!=null&&r.has(a))||(o=n.hoistableHeaders)!=null&&o.has(a))&&(s[i]=t[i],delete t[i])}return{...e,headers:t,query:s}},qf=e=>{e=yt.clone(e);for(const n of Object.keys(e.headers))Cx.indexOf(n.toLowerCase())>-1&&delete e.headers[n];return e},Mx=({query:e={}})=>{const n=[],t={};for(const s of Object.keys(e)){if(s.toLowerCase()===xx)continue;const r=Us(s);n.push(r);const o=e[s];typeof o=="string"?t[r]=`${r}=${Us(o)}`:Array.isArray(o)&&(t[r]=o.slice(0).reduce((i,a)=>i.concat([`${r}=${Us(a)}`]),[]).sort().join("&"))}return n.sort().map(s=>t[s]).filter(s=>s).join("&")},Dx=e=>Nx(e).toISOString().replace(/\.\d{3}Z$/,"Z"),Nx=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;class Lx{constructor({applyChecksum:n,credentials:t,region:s,service:r,sha256:o,uriEscapePath:i=!0}){this.service=r,this.sha256=o,this.uriEscapePath=i,this.applyChecksum=typeof n=="boolean"?n:!0,this.regionProvider=On(s),this.credentialProvider=On(t)}createCanonicalRequest(n,t,s){const r=Object.keys(t).sort();return`${n.method}
${this.getCanonicalPath(n)}
${Mx(n)}
${r.map(o=>`${o}:${t[o]}`).join(`
`)}

${r.join(";")}
${s}`}async createStringToSign(n,t,s,r){const o=new this.sha256;o.update(po(s));const i=await o.digest();return`${r}
${n}
${t}
${tn(i)}`}getCanonicalPath({path:n}){if(this.uriEscapePath){const t=[];for(const o of n.split("/"))(o==null?void 0:o.length)!==0&&o!=="."&&(o===".."?t.pop():t.push(o));const s=`${n!=null&&n.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&(n!=null&&n.endsWith("/"))?"/":""}`;return Us(s).replace(/%2F/g,"/")}return n}validateResolvedCredentials(n){if(typeof n!="object"||typeof n.accessKeyId!="string"||typeof n.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(n){const t=Dx(n).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(n){return Object.keys(n).sort().join(";")}}class nd extends Lx{constructor({applyChecksum:n,credentials:t,region:s,service:r,sha256:o,uriEscapePath:i=!0}){super({applyChecksum:n,credentials:t,region:s,service:r,sha256:o,uriEscapePath:i}),this.headerFormatter=new Px}async presign(n,t={}){const{signingDate:s=new Date,expiresIn:r=3600,unsignableHeaders:o,unhoistableHeaders:i,signableHeaders:a,hoistableHeaders:l,signingRegion:c,signingService:d}=t,f=await this.credentialProvider();this.validateResolvedCredentials(f);const m=c??await this.regionProvider(),{longDate:g,shortDate:k}=this.formatDate(s);if(r>Ax)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const v=Ic(k,m,d??this.service),w=Ox(qf(n),{unhoistableHeaders:i,hoistableHeaders:l});f.sessionToken&&(w.query[_y]=f.sessionToken),w.query[mx]=Rc,w.query[hx]=`${f.accessKeyId}/${v}`,w.query[wy]=g,w.query[gx]=r.toString(10);const C=Ff(w,o,a);return w.query[yx]=this.getCanonicalHeaderList(C),w.query[ky]=await this.getSignature(g,v,this.getSigningKey(f,m,k,d),this.createCanonicalRequest(w,C,await Oc(n,this.sha256))),w}async sign(n,t){return typeof n=="string"?this.signString(n,t):n.headers&&n.payload?this.signEvent(n,t):n.message?this.signMessage(n,t):this.signRequest(n,t)}async signEvent({headers:n,payload:t},{signingDate:s=new Date,priorSignature:r,signingRegion:o,signingService:i}){const a=o??await this.regionProvider(),{shortDate:l,longDate:c}=this.formatDate(s),d=Ic(l,a,i??this.service),f=await Oc({headers:{},body:t},this.sha256),m=new this.sha256;m.update(n);const g=tn(await m.digest()),k=[kx,c,d,r,g,f].join(`
`);return this.signString(k,{signingDate:s,signingRegion:a,signingService:i})}async signMessage(n,{signingDate:t=new Date,signingRegion:s,signingService:r}){return this.signEvent({headers:this.headerFormatter.format(n.message.headers),payload:n.message.body},{signingDate:t,signingRegion:s,signingService:r,priorSignature:n.priorSignature}).then(i=>({message:n.message,signature:i}))}async signString(n,{signingDate:t=new Date,signingRegion:s,signingService:r}={}){const o=await this.credentialProvider();this.validateResolvedCredentials(o);const i=s??await this.regionProvider(),{shortDate:a}=this.formatDate(t),l=new this.sha256(await this.getSigningKey(o,i,a,r));return l.update(po(n)),tn(await l.digest())}async signRequest(n,{signingDate:t=new Date,signableHeaders:s,unsignableHeaders:r,signingRegion:o,signingService:i}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const l=o??await this.regionProvider(),c=qf(n),{longDate:d,shortDate:f}=this.formatDate(t),m=Ic(f,l,i??this.service);c.headers[Ay]=d,a.sessionToken&&(c.headers[Sx]=a.sessionToken);const g=await Oc(c,this.sha256);!Ix(td,c.headers)&&this.applyChecksum&&(c.headers[td]=g);const k=Ff(c,r,s),v=await this.getSignature(d,m,this.getSigningKey(a,l,f,i),this.createCanonicalRequest(c,k,g));return c.headers[By]=`${Rc} Credential=${a.accessKeyId}/${m}, SignedHeaders=${this.getCanonicalHeaderList(k)}, Signature=${v}`,c}async getSignature(n,t,s,r){const o=await this.createStringToSign(n,t,r,Rc),i=new this.sha256(await s);return i.update(po(o)),tn(await i.digest())}getSigningKey(n,t,s,r){return vx(this.sha256,n,s,t,r||this.service)}}const Fx=e=>{let n=e.credentials,t=!!e.credentials,s;Object.defineProperty(e,"credentials",{set(c){c&&c!==n&&c!==s&&(t=!0),n=c;const d=Ux(e,{credentials:n,credentialDefaultProvider:e.credentialDefaultProvider}),f=zx(e,d);t&&!f.attributed?(s=async m=>f(m).then(g=>p0(g,"CREDENTIALS_CODE","e")),s.memoized=f.memoized,s.configBound=f.configBound,s.attributed=!0):s=f},get(){return s},enumerable:!0,configurable:!0}),e.credentials=n;const{signingEscapePath:r=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:i}=e;let a;return e.signer?a=Fr(e.signer):e.regionInfoProvider?a=()=>Fr(e.region)().then(async c=>[await e.regionInfoProvider(c,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},c]).then(([c,d])=>{const{signingRegion:f,signingService:m}=c;e.signingRegion=e.signingRegion||f||d,e.signingName=e.signingName||m||e.serviceId;const g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:r},k=e.signerConstructor||nd;return new k(g)}):a=async c=>{c=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Fr(e.region)(),properties:{}},c);const d=c.signingRegion,f=c.signingName;e.signingRegion=e.signingRegion||d,e.signingName=e.signingName||f||e.serviceId;const m={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:r},g=e.signerConstructor||nd;return new g(m)},Object.assign(e,{systemClockOffset:o,signingEscapePath:r,signer:a})};function Ux(e,{credentials:n,credentialDefaultProvider:t}){let s;return n?n!=null&&n.memoized?s=n:s=dx(n,lx,Ey):t?s=Fr(t(Object.assign({},e,{parentClientConfig:e}))):s=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},s.memoized=!0,s}function zx(e,n){if(n.configBound)return n;const t=async s=>n({...s,callerClientConfig:e});return t.memoized=n.memoized,t.configBound=!0,t}const _s=(e,n)=>{const t=[];if(e&&t.push(e),n)for(const s of n)t.push(s);return t},ns=(e,n)=>`${e||"anonymous"}${n&&n.length>0?` (a.k.a. ${n.join(",")})`:""}`,Ma=()=>{let e=[],n=[],t=!1;const s=new Set,r=f=>f.sort((m,g)=>$f[g.step]-$f[m.step]||jf[g.priority||"normal"]-jf[m.priority||"normal"]),o=f=>{let m=!1;const g=k=>{const v=_s(k.name,k.aliases);if(v.includes(f)){m=!0;for(const w of v)s.delete(w);return!1}return!0};return e=e.filter(g),n=n.filter(g),m},i=f=>{let m=!1;const g=k=>{if(k.middleware===f){m=!0;for(const v of _s(k.name,k.aliases))s.delete(v);return!1}return!0};return e=e.filter(g),n=n.filter(g),m},a=f=>{var m;return e.forEach(g=>{f.add(g.middleware,{...g})}),n.forEach(g=>{f.addRelativeTo(g.middleware,{...g})}),(m=f.identifyOnResolve)==null||m.call(f,d.identifyOnResolve()),f},l=f=>{const m=[];return f.before.forEach(g=>{g.before.length===0&&g.after.length===0?m.push(g):m.push(...l(g))}),m.push(f),f.after.reverse().forEach(g=>{g.before.length===0&&g.after.length===0?m.push(g):m.push(...l(g))}),m},c=(f=!1)=>{const m=[],g=[],k={};return e.forEach(w=>{const C={...w,before:[],after:[]};for(const p of _s(C.name,C.aliases))k[p]=C;m.push(C)}),n.forEach(w=>{const C={...w,before:[],after:[]};for(const p of _s(C.name,C.aliases))k[p]=C;g.push(C)}),g.forEach(w=>{if(w.toMiddleware){const C=k[w.toMiddleware];if(C===void 0){if(f)return;throw new Error(`${w.toMiddleware} is not found when adding ${ns(w.name,w.aliases)} middleware ${w.relation} ${w.toMiddleware}`)}w.relation==="after"&&C.after.push(w),w.relation==="before"&&C.before.push(w)}}),r(m).map(l).reduce((w,C)=>(w.push(...C),w),[])},d={add:(f,m={})=>{const{name:g,override:k,aliases:v}=m,w={step:"initialize",priority:"normal",middleware:f,...m},C=_s(g,v);if(C.length>0){if(C.some(p=>s.has(p))){if(!k)throw new Error(`Duplicate middleware name '${ns(g,v)}'`);for(const p of C){const D=e.findIndex(O=>{var E;return O.name===p||((E=O.aliases)==null?void 0:E.some(W=>W===p))});if(D===-1)continue;const S=e[D];if(S.step!==w.step||w.priority!==S.priority)throw new Error(`"${ns(S.name,S.aliases)}" middleware with ${S.priority} priority in ${S.step} step cannot be overridden by "${ns(g,v)}" middleware with ${w.priority} priority in ${w.step} step.`);e.splice(D,1)}}for(const p of C)s.add(p)}e.push(w)},addRelativeTo:(f,m)=>{const{name:g,override:k,aliases:v}=m,w={middleware:f,...m},C=_s(g,v);if(C.length>0){if(C.some(p=>s.has(p))){if(!k)throw new Error(`Duplicate middleware name '${ns(g,v)}'`);for(const p of C){const D=n.findIndex(O=>{var E;return O.name===p||((E=O.aliases)==null?void 0:E.some(W=>W===p))});if(D===-1)continue;const S=n[D];if(S.toMiddleware!==w.toMiddleware||S.relation!==w.relation)throw new Error(`"${ns(S.name,S.aliases)}" middleware ${S.relation} "${S.toMiddleware}" middleware cannot be overridden by "${ns(g,v)}" middleware ${w.relation} "${w.toMiddleware}" middleware.`);n.splice(D,1)}}for(const p of C)s.add(p)}n.push(w)},clone:()=>a(Ma()),use:f=>{f.applyToStack(d)},remove:f=>typeof f=="string"?o(f):i(f),removeByTag:f=>{let m=!1;const g=k=>{const{tags:v,name:w,aliases:C}=k;if(v&&v.includes(f)){const p=_s(w,C);for(const D of p)s.delete(D);return m=!0,!1}return!0};return e=e.filter(g),n=n.filter(g),m},concat:f=>{var g;const m=a(Ma());return m.use(f),m.identifyOnResolve(t||m.identifyOnResolve()||(((g=f.identifyOnResolve)==null?void 0:g.call(f))??!1)),m},applyToStack:a,identify:()=>c(!0).map(f=>{const m=f.step??f.relation+" "+f.toMiddleware;return ns(f.name,f.aliases)+" - "+m}),identifyOnResolve(f){return typeof f=="boolean"&&(t=f),t},resolve:(f,m)=>{for(const g of c().map(k=>k.middleware).reverse())f=g(f,m);return t&&console.log(d.identify()),f}};return d},$f={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},jf={high:3,normal:2,low:1};class qx{constructor(n){this.config=n,this.middlewareStack=Ma()}send(n,t,s){const r=typeof t!="function"?t:void 0,o=typeof t=="function"?t:s,i=r===void 0&&this.config.cacheMiddleware===!0;let a;if(i){this.handlers||(this.handlers=new WeakMap);const l=this.handlers;l.has(n.constructor)?a=l.get(n.constructor):(a=n.resolveMiddleware(this.middlewareStack,this.config,r),l.set(n.constructor,a))}else delete this.handlers,a=n.resolveMiddleware(this.middlewareStack,this.config,r);if(o)a(n).then(l=>o(null,l.output),l=>o(l)).catch(()=>{});else return a(n).then(l=>l.output)}destroy(){var n,t,s;(s=(t=(n=this.config)==null?void 0:n.requestHandler)==null?void 0:t.destroy)==null||s.call(t),delete this.handlers}}class L{constructor(){this.middlewareStack=Ma()}static classBuilder(){return new $x}resolveMiddlewareWithContext(n,t,s,{middlewareFn:r,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:l,smithyContext:c,additionalContext:d,CommandCtor:f}){for(const w of r.bind(this)(f,n,t,s))this.middlewareStack.use(w);const m=n.concat(this.middlewareStack),{logger:g}=t,k={logger:g,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:l,[Ql]:{commandInstance:this,...c},...d},{requestHandler:v}=t;return m.resolve(w=>v.handle(w.request,s||{}),k)}}class $x{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=n=>n,this._outputFilterSensitiveLog=n=>n,this._serializer=null,this._deserializer=null}init(n){this._init=n}ep(n){return this._ep=n,this}m(n){return this._middlewareFn=n,this}s(n,t,s={}){return this._smithyContext={service:n,operation:t,...s},this}c(n={}){return this._additionalContext=n,this}n(n,t){return this._clientName=n,this._commandName=t,this}f(n=s=>s,t=s=>s){return this._inputFilterSensitiveLog=n,this._outputFilterSensitiveLog=t,this}ser(n){return this._serializer=n,this}de(n){return this._deserializer=n,this}build(){const n=this;let t;return t=class extends L{static getEndpointParameterInstructions(){return n._ep}constructor(...[s]){super(),this.serialize=n._serializer,this.deserialize=n._deserializer,this.input=s??{},n._init(this)}resolveMiddleware(s,r,o){return this.resolveMiddlewareWithContext(s,r,o,{CommandCtor:t,middlewareFn:n._middlewareFn,clientName:n._clientName,commandName:n._commandName,inputFilterSensitiveLog:n._inputFilterSensitiveLog,outputFilterSensitiveLog:n._outputFilterSensitiveLog,smithyContext:n._smithyContext,additionalContext:n._additionalContext})}}}}const Ce="***SensitiveInformation***",jx=(e,n)=>{for(const t of Object.keys(e)){const s=e[t],r=async function(i,a,l){const c=new s(i);if(typeof a=="function")this.send(c,a);else if(typeof l=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(c,a||{},l)}else return this.send(c,a)},o=(t[0].toLowerCase()+t.slice(1)).replace(/Command$/,"");n.prototype[o]=r}},_e=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},Hx=e=>{if(e!=null){if(typeof e=="string"){const n=parseFloat(e);if(!Number.isNaN(n))return String(n)!==String(e)&&Oy.warn(Iy(`Expected number but observed string: ${e}`)),n}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},Kx=Math.ceil(2**127*(2-2**-23)),Hf=e=>{const n=Hx(e);if(n!==void 0&&!Number.isNaN(n)&&n!==1/0&&n!==-1/0&&Math.abs(n)>Kx)throw new TypeError(`Expected 32-bit float, got ${e}`);return n},sd=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},Kf=e=>au(e,32),Gf=e=>au(e,16),Vf=e=>au(e,8),au=(e,n)=>{const t=sd(e);if(t!==void 0&&Gx(t,n)!==t)throw new TypeError(`Expected ${n}-bit integer, got ${e}`);return t},Gx=(e,n)=>{switch(n){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},ee=(e,n)=>{if(e==null)throw n?new TypeError(`Expected a non-null value for ${n}`):new TypeError("Expected a non-null value");return e},ue=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;const n=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${n}: ${e}`)},y=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Oy.warn(Iy(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},Ty=e=>{if(e==null)return;const n=ue(e),t=Object.entries(n).filter(([,s])=>s!=null).map(([s])=>s);if(t.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(t.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${t} were not null.`);return n},Vx=e=>Hf(typeof e=="string"?bi(e):e),Wx=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,bi=e=>{const n=e.match(Wx);if(n===null||n[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},vt=e=>sd(typeof e=="string"?bi(e):e),Le=e=>Kf(typeof e=="string"?bi(e):e),Da=e=>Gf(typeof e=="string"?bi(e):e),Xx=e=>Vf(typeof e=="string"?bi(e):e),Iy=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(n=>!n.includes("stackTraceWarning")).join(`
`),Oy={warn:console.warn},Zx=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],cu=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Pt(e){const n=e.getUTCFullYear(),t=e.getUTCMonth(),s=e.getUTCDay(),r=e.getUTCDate(),o=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),l=r<10?`0${r}`:`${r}`,c=o<10?`0${o}`:`${o}`,d=i<10?`0${i}`:`${i}`,f=a<10?`0${a}`:`${a}`;return`${Zx[s]}, ${l} ${cu[t]} ${n} ${c}:${d}:${f} GMT`}const Qx=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),en=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const n=Qx.exec(e);if(!n)throw new TypeError("Invalid RFC-3339 date-time value");const[t,s,r,o,i,a,l,c,d]=n,f=Da(ui(s)),m=cs(r,"month",1,12),g=cs(o,"day",1,31),k=Qi(f,m,g,{hours:i,minutes:a,seconds:l,fractionalMilliseconds:c});return d.toUpperCase()!="Z"&&k.setTime(k.getTime()-cS(d)),k},Yx=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Jx=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),eS=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),gs=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let n=Yx.exec(e);if(n){const[t,s,r,o,i,a,l,c]=n;return Qi(Da(ui(o)),Mc(r),cs(s,"day",1,31),{hours:i,minutes:a,seconds:l,fractionalMilliseconds:c})}if(n=Jx.exec(e),n){const[t,s,r,o,i,a,l,c]=n;return sS(Qi(tS(o),Mc(r),cs(s,"day",1,31),{hours:i,minutes:a,seconds:l,fractionalMilliseconds:c}))}if(n=eS.exec(e),n){const[t,s,r,o,i,a,l,c]=n;return Qi(Da(ui(c)),Mc(s),cs(r.trimLeft(),"day",1,31),{hours:o,minutes:i,seconds:a,fractionalMilliseconds:l})}throw new TypeError("Invalid RFC-7231 date-time value")},Qi=(e,n,t,s)=>{const r=n-1;return oS(e,r,t),new Date(Date.UTC(e,r,t,cs(s.hours,"hour",0,23),cs(s.minutes,"minute",0,59),cs(s.seconds,"seconds",0,60),aS(s.fractionalMilliseconds)))},tS=e=>{const n=new Date().getUTCFullYear(),t=Math.floor(n/100)*100+Da(ui(e));return t<n?t+100:t},nS=50*365*24*60*60*1e3,sS=e=>e.getTime()-new Date().getTime()>nS?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,Mc=e=>{const n=cu.indexOf(e);if(n<0)throw new TypeError(`Invalid month: ${e}`);return n+1},rS=[31,28,31,30,31,30,31,31,30,31,30,31],oS=(e,n,t)=>{let s=rS[n];if(n===1&&iS(e)&&(s=29),t>s)throw new TypeError(`Invalid day for ${cu[n]} in ${e}: ${t}`)},iS=e=>e%4===0&&(e%100!==0||e%400===0),cs=(e,n,t,s)=>{const r=Xx(ui(e));if(r<t||r>s)throw new TypeError(`${n} must be between ${t} and ${s}, inclusive`);return r},aS=e=>e==null?0:Vx("0."+e)*1e3,cS=e=>{const n=e[0];let t=1;if(n=="+")t=1;else if(n=="-")t=-1;else throw new TypeError(`Offset direction, ${n}, must be "+" or "-"`);const s=Number(e.substring(1,3)),r=Number(e.substring(4,6));return t*(s*60+r)*60*1e3},ui=e=>{let n=0;for(;n<e.length-1&&e.charAt(n)==="0";)n++;return n===0?e:e.slice(n)};class Nr extends Error{constructor(n){super(n.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=n.name,this.$fault=n.$fault,this.$metadata=n.$metadata}static isInstance(n){if(!n)return!1;const t=n;return Nr.prototype.isPrototypeOf(t)||!!t.$fault&&!!t.$metadata&&(t.$fault==="client"||t.$fault==="server")}static[Symbol.hasInstance](n){if(!n)return!1;const t=n;return this===Nr?Nr.isInstance(n):Nr.isInstance(n)?t.name&&this.name?this.prototype.isPrototypeOf(n)||t.name===this.name:this.prototype.isPrototypeOf(n):!1}}const cn=(e,n={})=>{Object.entries(n).filter(([,s])=>s!==void 0).forEach(([s,r])=>{(e[s]==null||e[s]==="")&&(e[s]=r)});const t=e.message||e.Message||"UnknownError";return e.message=t,delete e.Message,e},lS=({output:e,parsedBody:n,exceptionCtor:t,errorCode:s})=>{const r=uS(e),o=r.httpStatusCode?r.httpStatusCode+"":void 0,i=new t({name:(n==null?void 0:n.code)||(n==null?void 0:n.Code)||s||o||"UnknownError",$fault:"client",$metadata:r});throw cn(i,n)},dS=e=>({output:n,parsedBody:t,errorCode:s})=>{lS({output:n,parsedBody:t,exceptionCtor:e,errorCode:s})},uS=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),fS=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},mS=e=>{const n=[];for(const t in Ia){const s=Ia[t];e[s]!==void 0&&n.push({algorithmId:()=>s,checksumConstructor:()=>e[s]})}return{addChecksumAlgorithm(t){n.push(t)},checksumAlgorithms(){return n}}},hS=e=>{const n={};return e.checksumAlgorithms().forEach(t=>{n[t.algorithmId()]=t.checksumConstructor()}),n},yS=e=>({setRetryStrategy(n){e.retryStrategy=n},retryStrategy(){return e.retryStrategy}}),gS=e=>{const n={};return n.retryStrategy=e.retryStrategy(),n},bS=e=>Object.assign(mS(e),yS(e)),CS=e=>Object.assign(hS(e),gS(e)),ae=e=>Array.isArray(e)?e:[e],My=e=>{const n="#text";for(const t in e)e.hasOwnProperty(t)&&e[t][n]!==void 0?e[t]=e[t][n]:typeof e[t]=="object"&&e[t]!==null&&(e[t]=My(e[t]));return e},A=e=>e!=null;class lu{trace(){}debug(){}info(){}warn(){}error(){}}function u(e,n,t){let s,r,o;if(typeof n>"u"&&typeof t>"u")s={},o=e;else{if(s=e,typeof n=="function")return r=n,o=t,xS(s,r,o);o=n}for(const i of Object.keys(o)){if(!Array.isArray(o[i])){s[i]=o[i];continue}SS(s,null,o,i)}return s}const xS=(e,n,t)=>u(e,Object.entries(t).reduce((s,[r,o])=>(Array.isArray(o)?s[r]=o:typeof o=="function"?s[r]=[n,o()]:s[r]=[n,o],s),{})),SS=(e,n,t,s)=>{let[r,o]=t[s];if(typeof o=="function"){let i;const a=r===void 0&&(i=o())!=null,l=typeof r=="function"&&!!r(void 0)||typeof r!="function"&&!!r;a?e[s]=i:l&&(e[s]=o())}else{const i=r===void 0&&o!=null,a=typeof r=="function"&&!!r(o)||typeof r!="function"&&!!r;(i||a)&&(e[s]=o)}};function ic(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}const xr=e=>e.toISOString().replace(".000Z","Z"),pS=(e,n)=>ce(e,n).then(t=>n.utf8Encoder(t));var Dc={},Nc={},Wf;function du(){return Wf||(Wf=1,function(e){const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",t=n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",s="["+n+"]["+t+"]*",r=new RegExp("^"+s+"$"),o=function(a,l){const c=[];let d=l.exec(a);for(;d;){const f=[];f.startIndex=l.lastIndex-d[0].length;const m=d.length;for(let g=0;g<m;g++)f.push(d[g]);c.push(f),d=l.exec(a)}return c},i=function(a){const l=r.exec(a);return!(l===null||typeof l>"u")};e.isExist=function(a){return typeof a<"u"},e.isEmptyObject=function(a){return Object.keys(a).length===0},e.merge=function(a,l,c){if(l){const d=Object.keys(l),f=d.length;for(let m=0;m<f;m++)c==="strict"?a[d[m]]=[l[d[m]]]:a[d[m]]=l[d[m]]}},e.getValue=function(a){return e.isExist(a)?a:""},e.isName=i,e.getAllMatches=o,e.nameRegexp=s}(Nc)),Nc}var Xf;function Dy(){if(Xf)return Dc;Xf=1;const e=du(),n={allowBooleanAttributes:!1,unpairedTags:[]};Dc.validate=function(C,p){p=Object.assign({},n,p);const D=[];let S=!1,O=!1;C[0]==="\uFEFF"&&(C=C.substr(1));for(let E=0;E<C.length;E++)if(C[E]==="<"&&C[E+1]==="?"){if(E+=2,E=s(C,E),E.err)return E}else if(C[E]==="<"){let W=E;if(E++,C[E]==="!"){E=r(C,E);continue}else{let Z=!1;C[E]==="/"&&(Z=!0,E++);let j="";for(;E<C.length&&C[E]!==">"&&C[E]!==" "&&C[E]!=="	"&&C[E]!==`
`&&C[E]!=="\r";E++)j+=C[E];if(j=j.trim(),j[j.length-1]==="/"&&(j=j.substring(0,j.length-1),E--),!k(j)){let N;return j.trim().length===0?N="Invalid space after '<'.":N="Tag '"+j+"' is an invalid name.",m("InvalidTag",N,v(C,E))}const Be=a(C,E);if(Be===!1)return m("InvalidAttr","Attributes for '"+j+"' have open quote.",v(C,E));let ne=Be.value;if(E=Be.index,ne[ne.length-1]==="/"){const N=E-ne.length;ne=ne.substring(0,ne.length-1);const we=c(ne,p);if(we===!0)S=!0;else return m(we.err.code,we.err.msg,v(C,N+we.err.line))}else if(Z)if(Be.tagClosed){if(ne.trim().length>0)return m("InvalidTag","Closing tag '"+j+"' can't have attributes or invalid starting.",v(C,W));if(D.length===0)return m("InvalidTag","Closing tag '"+j+"' has not been opened.",v(C,W));{const N=D.pop();if(j!==N.tagName){let we=v(C,N.tagStartPos);return m("InvalidTag","Expected closing tag '"+N.tagName+"' (opened in line "+we.line+", col "+we.col+") instead of closing tag '"+j+"'.",v(C,W))}D.length==0&&(O=!0)}}else return m("InvalidTag","Closing tag '"+j+"' doesn't have proper closing.",v(C,E));else{const N=c(ne,p);if(N!==!0)return m(N.err.code,N.err.msg,v(C,E-ne.length+N.err.line));if(O===!0)return m("InvalidXml","Multiple possible root nodes found.",v(C,E));p.unpairedTags.indexOf(j)!==-1||D.push({tagName:j,tagStartPos:W}),S=!0}for(E++;E<C.length;E++)if(C[E]==="<")if(C[E+1]==="!"){E++,E=r(C,E);continue}else if(C[E+1]==="?"){if(E=s(C,++E),E.err)return E}else break;else if(C[E]==="&"){const N=f(C,E);if(N==-1)return m("InvalidChar","char '&' is not expected.",v(C,E));E=N}else if(O===!0&&!t(C[E]))return m("InvalidXml","Extra text at the end",v(C,E));C[E]==="<"&&E--}}else{if(t(C[E]))continue;return m("InvalidChar","char '"+C[E]+"' is not expected.",v(C,E))}if(S){if(D.length==1)return m("InvalidTag","Unclosed tag '"+D[0].tagName+"'.",v(C,D[0].tagStartPos));if(D.length>0)return m("InvalidXml","Invalid '"+JSON.stringify(D.map(E=>E.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return m("InvalidXml","Start tag expected.",1);return!0};function t(C){return C===" "||C==="	"||C===`
`||C==="\r"}function s(C,p){const D=p;for(;p<C.length;p++)if(C[p]=="?"||C[p]==" "){const S=C.substr(D,p-D);if(p>5&&S==="xml")return m("InvalidXml","XML declaration allowed only at the start of the document.",v(C,p));if(C[p]=="?"&&C[p+1]==">"){p++;break}else continue}return p}function r(C,p){if(C.length>p+5&&C[p+1]==="-"&&C[p+2]==="-"){for(p+=3;p<C.length;p++)if(C[p]==="-"&&C[p+1]==="-"&&C[p+2]===">"){p+=2;break}}else if(C.length>p+8&&C[p+1]==="D"&&C[p+2]==="O"&&C[p+3]==="C"&&C[p+4]==="T"&&C[p+5]==="Y"&&C[p+6]==="P"&&C[p+7]==="E"){let D=1;for(p+=8;p<C.length;p++)if(C[p]==="<")D++;else if(C[p]===">"&&(D--,D===0))break}else if(C.length>p+9&&C[p+1]==="["&&C[p+2]==="C"&&C[p+3]==="D"&&C[p+4]==="A"&&C[p+5]==="T"&&C[p+6]==="A"&&C[p+7]==="["){for(p+=8;p<C.length;p++)if(C[p]==="]"&&C[p+1]==="]"&&C[p+2]===">"){p+=2;break}}return p}const o='"',i="'";function a(C,p){let D="",S="",O=!1;for(;p<C.length;p++){if(C[p]===o||C[p]===i)S===""?S=C[p]:S!==C[p]||(S="");else if(C[p]===">"&&S===""){O=!0;break}D+=C[p]}return S!==""?!1:{value:D,index:p,tagClosed:O}}const l=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function c(C,p){const D=e.getAllMatches(C,l),S={};for(let O=0;O<D.length;O++){if(D[O][1].length===0)return m("InvalidAttr","Attribute '"+D[O][2]+"' has no space in starting.",w(D[O]));if(D[O][3]!==void 0&&D[O][4]===void 0)return m("InvalidAttr","Attribute '"+D[O][2]+"' is without value.",w(D[O]));if(D[O][3]===void 0&&!p.allowBooleanAttributes)return m("InvalidAttr","boolean attribute '"+D[O][2]+"' is not allowed.",w(D[O]));const E=D[O][2];if(!g(E))return m("InvalidAttr","Attribute '"+E+"' is an invalid name.",w(D[O]));if(!S.hasOwnProperty(E))S[E]=1;else return m("InvalidAttr","Attribute '"+E+"' is repeated.",w(D[O]))}return!0}function d(C,p){let D=/\d/;for(C[p]==="x"&&(p++,D=/[\da-fA-F]/);p<C.length;p++){if(C[p]===";")return p;if(!C[p].match(D))break}return-1}function f(C,p){if(p++,C[p]===";")return-1;if(C[p]==="#")return p++,d(C,p);let D=0;for(;p<C.length;p++,D++)if(!(C[p].match(/\w/)&&D<20)){if(C[p]===";")break;return-1}return p}function m(C,p,D){return{err:{code:C,msg:p,line:D.line||D,col:D.col}}}function g(C){return e.isName(C)}function k(C){return e.isName(C)}function v(C,p){const D=C.substring(0,p).split(/\r?\n/);return{line:D.length,col:D[D.length-1].length+1}}function w(C){return C.startIndex+C[1].length}return Dc}var Fi={},Zf;function ES(){if(Zf)return Fi;Zf=1;const e={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,s){return s},attributeValueProcessor:function(t,s){return s},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,s,r){return t}},n=function(t){return Object.assign({},e,t)};return Fi.buildOptions=n,Fi.defaultOptions=e,Fi}var Lc,Qf;function wS(){if(Qf)return Lc;Qf=1;class e{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,s){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:s})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}return Lc=e,Lc}var Fc,Yf;function kS(){if(Yf)return Fc;Yf=1;const e=du();function n(c,d){const f={};if(c[d+3]==="O"&&c[d+4]==="C"&&c[d+5]==="T"&&c[d+6]==="Y"&&c[d+7]==="P"&&c[d+8]==="E"){d=d+9;let m=1,g=!1,k=!1,v="";for(;d<c.length;d++)if(c[d]==="<"&&!k){if(g&&r(c,d))d+=7,[entityName,val,d]=t(c,d+1),val.indexOf("&")===-1&&(f[l(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(g&&o(c,d))d+=8;else if(g&&i(c,d))d+=8;else if(g&&a(c,d))d+=9;else if(s)k=!0;else throw new Error("Invalid DOCTYPE");m++,v=""}else if(c[d]===">"){if(k?c[d-1]==="-"&&c[d-2]==="-"&&(k=!1,m--):m--,m===0)break}else c[d]==="["?g=!0:v+=c[d];if(m!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:f,i:d}}function t(c,d){let f="";for(;d<c.length&&c[d]!=="'"&&c[d]!=='"';d++)f+=c[d];if(f=f.trim(),f.indexOf(" ")!==-1)throw new Error("External entites are not supported");const m=c[d++];let g="";for(;d<c.length&&c[d]!==m;d++)g+=c[d];return[f,g,d]}function s(c,d){return c[d+1]==="!"&&c[d+2]==="-"&&c[d+3]==="-"}function r(c,d){return c[d+1]==="!"&&c[d+2]==="E"&&c[d+3]==="N"&&c[d+4]==="T"&&c[d+5]==="I"&&c[d+6]==="T"&&c[d+7]==="Y"}function o(c,d){return c[d+1]==="!"&&c[d+2]==="E"&&c[d+3]==="L"&&c[d+4]==="E"&&c[d+5]==="M"&&c[d+6]==="E"&&c[d+7]==="N"&&c[d+8]==="T"}function i(c,d){return c[d+1]==="!"&&c[d+2]==="A"&&c[d+3]==="T"&&c[d+4]==="T"&&c[d+5]==="L"&&c[d+6]==="I"&&c[d+7]==="S"&&c[d+8]==="T"}function a(c,d){return c[d+1]==="!"&&c[d+2]==="N"&&c[d+3]==="O"&&c[d+4]==="T"&&c[d+5]==="A"&&c[d+6]==="T"&&c[d+7]==="I"&&c[d+8]==="O"&&c[d+9]==="N"}function l(c){if(e.isName(c))return c;throw new Error(`Invalid entity name ${c}`)}return Fc=n,Fc}var Uc,Jf;function _S(){if(Jf)return Uc;Jf=1;const e=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,t={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function s(i,a={}){if(a=Object.assign({},t,a),!i||typeof i!="string")return i;let l=i.trim();if(a.skipLike!==void 0&&a.skipLike.test(l))return i;if(i==="0")return 0;if(a.hex&&e.test(l))return o(l,16);if(l.search(/[eE]/)!==-1){const c=l.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(c){if(a.leadingZeros)l=(c[1]||"")+c[3];else if(!(c[2]==="0"&&c[3][0]==="."))return i;return a.eNotation?Number(l):i}else return i}else{const c=n.exec(l);if(c){const d=c[1],f=c[2];let m=r(c[3]);if(!a.leadingZeros&&f.length>0&&d&&l[2]!==".")return i;if(!a.leadingZeros&&f.length>0&&!d&&l[1]!==".")return i;if(a.leadingZeros&&f===i)return 0;{const g=Number(l),k=""+g;return k.search(/[eE]/)!==-1?a.eNotation?g:i:l.indexOf(".")!==-1?k==="0"&&m===""||k===m||d&&k==="-"+m?g:i:f?m===k||d+m===k?g:i:l===k||l===d+k?g:i}}else return i}}function r(i){return i&&i.indexOf(".")!==-1&&(i=i.replace(/0+$/,""),i==="."?i="0":i[0]==="."?i="0"+i:i[i.length-1]==="."&&(i=i.substr(0,i.length-1))),i}function o(i,a){if(parseInt)return parseInt(i,a);if(Number.parseInt)return Number.parseInt(i,a);if(window&&window.parseInt)return window.parseInt(i,a);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}return Uc=s,Uc}var zc,em;function BS(){if(em)return zc;em=1;const e=du(),n=wS(),t=kS(),s=_S();class r{constructor(O){this.options=O,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:(E,W)=>String.fromCharCode(Number.parseInt(W,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(E,W)=>String.fromCharCode(Number.parseInt(W,16))}},this.addExternalEntities=o,this.parseXml=d,this.parseTextData=i,this.resolveNameSpace=a,this.buildAttributesMap=c,this.isItStopNode=k,this.replaceEntitiesValue=m,this.readStopNodeData=p,this.saveTextToParentTag=g,this.addChild=f}}function o(S){const O=Object.keys(S);for(let E=0;E<O.length;E++){const W=O[E];this.lastEntities[W]={regex:new RegExp("&"+W+";","g"),val:S[W]}}}function i(S,O,E,W,Z,j,Be){if(S!==void 0&&(this.options.trimValues&&!W&&(S=S.trim()),S.length>0)){Be||(S=this.replaceEntitiesValue(S));const ne=this.options.tagValueProcessor(O,S,E,Z,j);return ne==null?S:typeof ne!=typeof S||ne!==S?ne:this.options.trimValues?D(S,this.options.parseTagValue,this.options.numberParseOptions):S.trim()===S?D(S,this.options.parseTagValue,this.options.numberParseOptions):S}}function a(S){if(this.options.removeNSPrefix){const O=S.split(":"),E=S.charAt(0)==="/"?"/":"";if(O[0]==="xmlns")return"";O.length===2&&(S=E+O[1])}return S}const l=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function c(S,O,E){if(!this.options.ignoreAttributes&&typeof S=="string"){const W=e.getAllMatches(S,l),Z=W.length,j={};for(let Be=0;Be<Z;Be++){const ne=this.resolveNameSpace(W[Be][1]);let N=W[Be][4],we=this.options.attributeNamePrefix+ne;if(ne.length)if(this.options.transformAttributeName&&(we=this.options.transformAttributeName(we)),we==="__proto__"&&(we="#__proto__"),N!==void 0){this.options.trimValues&&(N=N.trim()),N=this.replaceEntitiesValue(N);const Ae=this.options.attributeValueProcessor(ne,N,O);Ae==null?j[we]=N:typeof Ae!=typeof N||Ae!==N?j[we]=Ae:j[we]=D(N,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(j[we]=!0)}if(!Object.keys(j).length)return;if(this.options.attributesGroupName){const Be={};return Be[this.options.attributesGroupName]=j,Be}return j}}const d=function(S){S=S.replace(/\r\n?/g,`
`);const O=new n("!xml");let E=O,W="",Z="";for(let j=0;j<S.length;j++)if(S[j]==="<")if(S[j+1]==="/"){const ne=w(S,">",j,"Closing Tag is not closed.");let N=S.substring(j+2,ne).trim();if(this.options.removeNSPrefix){const Nt=N.indexOf(":");Nt!==-1&&(N=N.substr(Nt+1))}this.options.transformTagName&&(N=this.options.transformTagName(N)),E&&(W=this.saveTextToParentTag(W,E,Z));const we=Z.substring(Z.lastIndexOf(".")+1);if(N&&this.options.unpairedTags.indexOf(N)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${N}>`);let Ae=0;we&&this.options.unpairedTags.indexOf(we)!==-1?(Ae=Z.lastIndexOf(".",Z.lastIndexOf(".")-1),this.tagsNodeStack.pop()):Ae=Z.lastIndexOf("."),Z=Z.substring(0,Ae),E=this.tagsNodeStack.pop(),W="",j=ne}else if(S[j+1]==="?"){let ne=C(S,j,!1,"?>");if(!ne)throw new Error("Pi Tag is not closed.");if(W=this.saveTextToParentTag(W,E,Z),!(this.options.ignoreDeclaration&&ne.tagName==="?xml"||this.options.ignorePiTags)){const N=new n(ne.tagName);N.add(this.options.textNodeName,""),ne.tagName!==ne.tagExp&&ne.attrExpPresent&&(N[":@"]=this.buildAttributesMap(ne.tagExp,Z,ne.tagName)),this.addChild(E,N,Z)}j=ne.closeIndex+1}else if(S.substr(j+1,3)==="!--"){const ne=w(S,"-->",j+4,"Comment is not closed.");if(this.options.commentPropName){const N=S.substring(j+4,ne-2);W=this.saveTextToParentTag(W,E,Z),E.add(this.options.commentPropName,[{[this.options.textNodeName]:N}])}j=ne}else if(S.substr(j+1,2)==="!D"){const ne=t(S,j);this.docTypeEntities=ne.entities,j=ne.i}else if(S.substr(j+1,2)==="!["){const ne=w(S,"]]>",j,"CDATA is not closed.")-2,N=S.substring(j+9,ne);W=this.saveTextToParentTag(W,E,Z);let we=this.parseTextData(N,E.tagname,Z,!0,!1,!0,!0);we==null&&(we=""),this.options.cdataPropName?E.add(this.options.cdataPropName,[{[this.options.textNodeName]:N}]):E.add(this.options.textNodeName,we),j=ne+2}else{let ne=C(S,j,this.options.removeNSPrefix),N=ne.tagName;const we=ne.rawTagName;let Ae=ne.tagExp,Nt=ne.attrExpPresent,ks=ne.closeIndex;this.options.transformTagName&&(N=this.options.transformTagName(N)),E&&W&&E.tagname!=="!xml"&&(W=this.saveTextToParentTag(W,E,Z,!1));const Cf=E;if(Cf&&this.options.unpairedTags.indexOf(Cf.tagname)!==-1&&(E=this.tagsNodeStack.pop(),Z=Z.substring(0,Z.lastIndexOf("."))),N!==O.tagname&&(Z+=Z?"."+N:N),this.isItStopNode(this.options.stopNodes,Z,N)){let bn="";if(Ae.length>0&&Ae.lastIndexOf("/")===Ae.length-1)N[N.length-1]==="/"?(N=N.substr(0,N.length-1),Z=Z.substr(0,Z.length-1),Ae=N):Ae=Ae.substr(0,Ae.length-1),j=ne.closeIndex;else if(this.options.unpairedTags.indexOf(N)!==-1)j=ne.closeIndex;else{const _c=this.readStopNodeData(S,we,ks+1);if(!_c)throw new Error(`Unexpected end of ${we}`);j=_c.i,bn=_c.tagContent}const kc=new n(N);N!==Ae&&Nt&&(kc[":@"]=this.buildAttributesMap(Ae,Z,N)),bn&&(bn=this.parseTextData(bn,N,Z,!0,Nt,!0,!0)),Z=Z.substr(0,Z.lastIndexOf(".")),kc.add(this.options.textNodeName,bn),this.addChild(E,kc,Z)}else{if(Ae.length>0&&Ae.lastIndexOf("/")===Ae.length-1){N[N.length-1]==="/"?(N=N.substr(0,N.length-1),Z=Z.substr(0,Z.length-1),Ae=N):Ae=Ae.substr(0,Ae.length-1),this.options.transformTagName&&(N=this.options.transformTagName(N));const bn=new n(N);N!==Ae&&Nt&&(bn[":@"]=this.buildAttributesMap(Ae,Z,N)),this.addChild(E,bn,Z),Z=Z.substr(0,Z.lastIndexOf("."))}else{const bn=new n(N);this.tagsNodeStack.push(E),N!==Ae&&Nt&&(bn[":@"]=this.buildAttributesMap(Ae,Z,N)),this.addChild(E,bn,Z),E=bn}W="",j=ks}}else W+=S[j];return O.child};function f(S,O,E){const W=this.options.updateTag(O.tagname,E,O[":@"]);W===!1||(typeof W=="string"&&(O.tagname=W),S.addChild(O))}const m=function(S){if(this.options.processEntities){for(let O in this.docTypeEntities){const E=this.docTypeEntities[O];S=S.replace(E.regx,E.val)}for(let O in this.lastEntities){const E=this.lastEntities[O];S=S.replace(E.regex,E.val)}if(this.options.htmlEntities)for(let O in this.htmlEntities){const E=this.htmlEntities[O];S=S.replace(E.regex,E.val)}S=S.replace(this.ampEntity.regex,this.ampEntity.val)}return S};function g(S,O,E,W){return S&&(W===void 0&&(W=Object.keys(O.child).length===0),S=this.parseTextData(S,O.tagname,E,!1,O[":@"]?Object.keys(O[":@"]).length!==0:!1,W),S!==void 0&&S!==""&&O.add(this.options.textNodeName,S),S=""),S}function k(S,O,E){const W="*."+E;for(const Z in S){const j=S[Z];if(W===j||O===j)return!0}return!1}function v(S,O,E=">"){let W,Z="";for(let j=O;j<S.length;j++){let Be=S[j];if(W)Be===W&&(W="");else if(Be==='"'||Be==="'")W=Be;else if(Be===E[0])if(E[1]){if(S[j+1]===E[1])return{data:Z,index:j}}else return{data:Z,index:j};else Be==="	"&&(Be=" ");Z+=Be}}function w(S,O,E,W){const Z=S.indexOf(O,E);if(Z===-1)throw new Error(W);return Z+O.length-1}function C(S,O,E,W=">"){const Z=v(S,O+1,W);if(!Z)return;let j=Z.data;const Be=Z.index,ne=j.search(/\s/);let N=j,we=!0;ne!==-1&&(N=j.substring(0,ne),j=j.substring(ne+1).trimStart());const Ae=N;if(E){const Nt=N.indexOf(":");Nt!==-1&&(N=N.substr(Nt+1),we=N!==Z.data.substr(Nt+1))}return{tagName:N,tagExp:j,closeIndex:Be,attrExpPresent:we,rawTagName:Ae}}function p(S,O,E){const W=E;let Z=1;for(;E<S.length;E++)if(S[E]==="<")if(S[E+1]==="/"){const j=w(S,">",E,`${O} is not closed`);if(S.substring(E+2,j).trim()===O&&(Z--,Z===0))return{tagContent:S.substring(W,E),i:j};E=j}else if(S[E+1]==="?")E=w(S,"?>",E+1,"StopNode is not closed.");else if(S.substr(E+1,3)==="!--")E=w(S,"-->",E+3,"StopNode is not closed.");else if(S.substr(E+1,2)==="![")E=w(S,"]]>",E,"StopNode is not closed.")-2;else{const j=C(S,E,">");j&&((j&&j.tagName)===O&&j.tagExp[j.tagExp.length-1]!=="/"&&Z++,E=j.closeIndex)}}function D(S,O,E){if(O&&typeof S=="string"){const W=S.trim();return W==="true"?!0:W==="false"?!1:s(S,E)}else return e.isExist(S)?S:""}return zc=r,zc}var qc={},tm;function AS(){if(tm)return qc;tm=1;function e(o,i){return n(o,i)}function n(o,i,a){let l;const c={};for(let d=0;d<o.length;d++){const f=o[d],m=t(f);let g="";if(a===void 0?g=m:g=a+"."+m,m===i.textNodeName)l===void 0?l=f[m]:l+=""+f[m];else{if(m===void 0)continue;if(f[m]){let k=n(f[m],i,g);const v=r(k,i);f[":@"]?s(k,f[":@"],g,i):Object.keys(k).length===1&&k[i.textNodeName]!==void 0&&!i.alwaysCreateTextNode?k=k[i.textNodeName]:Object.keys(k).length===0&&(i.alwaysCreateTextNode?k[i.textNodeName]="":k=""),c[m]!==void 0&&c.hasOwnProperty(m)?(Array.isArray(c[m])||(c[m]=[c[m]]),c[m].push(k)):i.isArray(m,g,v)?c[m]=[k]:c[m]=k}}}return typeof l=="string"?l.length>0&&(c[i.textNodeName]=l):l!==void 0&&(c[i.textNodeName]=l),c}function t(o){const i=Object.keys(o);for(let a=0;a<i.length;a++){const l=i[a];if(l!==":@")return l}}function s(o,i,a,l){if(i){const c=Object.keys(i),d=c.length;for(let f=0;f<d;f++){const m=c[f];l.isArray(m,a+"."+m,!0,!0)?o[m]=[i[m]]:o[m]=i[m]}}}function r(o,i){const{textNodeName:a}=i,l=Object.keys(o).length;return!!(l===0||l===1&&(o[a]||typeof o[a]=="boolean"||o[a]===0))}return qc.prettify=e,qc}var $c,nm;function vS(){if(nm)return $c;nm=1;const{buildOptions:e}=ES(),n=BS(),{prettify:t}=AS(),s=Dy();class r{constructor(i){this.externalEntities={},this.options=e(i)}parse(i,a){if(typeof i!="string")if(i.toString)i=i.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(a){a===!0&&(a={});const d=s.validate(i,a);if(d!==!0)throw Error(`${d.err.msg}:${d.err.line}:${d.err.col}`)}const l=new n(this.options);l.addExternalEntities(this.externalEntities);const c=l.parseXml(i);return this.options.preserveOrder||c===void 0?c:t(c,this.options)}addEntity(i,a){if(a.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(i.indexOf("&")!==-1||i.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(a==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[i]=a}}return $c=r,$c}var jc,sm;function PS(){if(sm)return jc;sm=1;const e=`
`;function n(a,l){let c="";return l.format&&l.indentBy.length>0&&(c=e),t(a,l,"",c)}function t(a,l,c,d){let f="",m=!1;for(let g=0;g<a.length;g++){const k=a[g],v=s(k);if(v===void 0)continue;let w="";if(c.length===0?w=v:w=`${c}.${v}`,v===l.textNodeName){let O=k[v];o(w,l)||(O=l.tagValueProcessor(v,O),O=i(O,l)),m&&(f+=d),f+=O,m=!1;continue}else if(v===l.cdataPropName){m&&(f+=d),f+=`<![CDATA[${k[v][0][l.textNodeName]}]]>`,m=!1;continue}else if(v===l.commentPropName){f+=d+`<!--${k[v][0][l.textNodeName]}-->`,m=!0;continue}else if(v[0]==="?"){const O=r(k[":@"],l),E=v==="?xml"?"":d;let W=k[v][0][l.textNodeName];W=W.length!==0?" "+W:"",f+=E+`<${v}${W}${O}?>`,m=!0;continue}let C=d;C!==""&&(C+=l.indentBy);const p=r(k[":@"],l),D=d+`<${v}${p}`,S=t(k[v],l,w,C);l.unpairedTags.indexOf(v)!==-1?l.suppressUnpairedNode?f+=D+">":f+=D+"/>":(!S||S.length===0)&&l.suppressEmptyNode?f+=D+"/>":S&&S.endsWith(">")?f+=D+`>${S}${d}</${v}>`:(f+=D+">",S&&d!==""&&(S.includes("/>")||S.includes("</"))?f+=d+l.indentBy+S+d:f+=S,f+=`</${v}>`),m=!0}return f}function s(a){const l=Object.keys(a);for(let c=0;c<l.length;c++){const d=l[c];if(a.hasOwnProperty(d)&&d!==":@")return d}}function r(a,l){let c="";if(a&&!l.ignoreAttributes)for(let d in a){if(!a.hasOwnProperty(d))continue;let f=l.attributeValueProcessor(d,a[d]);f=i(f,l),f===!0&&l.suppressBooleanAttributes?c+=` ${d.substr(l.attributeNamePrefix.length)}`:c+=` ${d.substr(l.attributeNamePrefix.length)}="${f}"`}return c}function o(a,l){a=a.substr(0,a.length-l.textNodeName.length-1);let c=a.substr(a.lastIndexOf(".")+1);for(let d in l.stopNodes)if(l.stopNodes[d]===a||l.stopNodes[d]==="*."+c)return!0;return!1}function i(a,l){if(a&&a.length>0&&l.processEntities)for(let c=0;c<l.entities.length;c++){const d=l.entities[c];a=a.replace(d.regex,d.val)}return a}return jc=n,jc}var Hc,rm;function RS(){if(rm)return Hc;rm=1;const e=PS(),n={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(i,a){return a},attributeValueProcessor:function(i,a){return a},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function t(i){this.options=Object.assign({},n,i),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=o),this.processTextOrObjNode=s,this.options.format?(this.indentate=r,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}t.prototype.build=function(i){return this.options.preserveOrder?e(i,this.options):(Array.isArray(i)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(i={[this.options.arrayNodeName]:i}),this.j2x(i,0).val)},t.prototype.j2x=function(i,a){let l="",c="";for(let d in i)if(Object.prototype.hasOwnProperty.call(i,d))if(typeof i[d]>"u")this.isAttribute(d)&&(c+="");else if(i[d]===null)this.isAttribute(d)?c+="":d[0]==="?"?c+=this.indentate(a)+"<"+d+"?"+this.tagEndChar:c+=this.indentate(a)+"<"+d+"/"+this.tagEndChar;else if(i[d]instanceof Date)c+=this.buildTextValNode(i[d],d,"",a);else if(typeof i[d]!="object"){const f=this.isAttribute(d);if(f)l+=this.buildAttrPairStr(f,""+i[d]);else if(d===this.options.textNodeName){let m=this.options.tagValueProcessor(d,""+i[d]);c+=this.replaceEntitiesValue(m)}else c+=this.buildTextValNode(i[d],d,"",a)}else if(Array.isArray(i[d])){const f=i[d].length;let m="",g="";for(let k=0;k<f;k++){const v=i[d][k];if(!(typeof v>"u"))if(v===null)d[0]==="?"?c+=this.indentate(a)+"<"+d+"?"+this.tagEndChar:c+=this.indentate(a)+"<"+d+"/"+this.tagEndChar;else if(typeof v=="object")if(this.options.oneListGroup){const w=this.j2x(v,a+1);m+=w.val,this.options.attributesGroupName&&v.hasOwnProperty(this.options.attributesGroupName)&&(g+=w.attrStr)}else m+=this.processTextOrObjNode(v,d,a);else if(this.options.oneListGroup){let w=this.options.tagValueProcessor(d,v);w=this.replaceEntitiesValue(w),m+=w}else m+=this.buildTextValNode(v,d,"",a)}this.options.oneListGroup&&(m=this.buildObjectNode(m,d,g,a)),c+=m}else if(this.options.attributesGroupName&&d===this.options.attributesGroupName){const f=Object.keys(i[d]),m=f.length;for(let g=0;g<m;g++)l+=this.buildAttrPairStr(f[g],""+i[d][f[g]])}else c+=this.processTextOrObjNode(i[d],d,a);return{attrStr:l,val:c}},t.prototype.buildAttrPairStr=function(i,a){return a=this.options.attributeValueProcessor(i,""+a),a=this.replaceEntitiesValue(a),this.options.suppressBooleanAttributes&&a==="true"?" "+i:" "+i+'="'+a+'"'};function s(i,a,l){const c=this.j2x(i,l+1);return i[this.options.textNodeName]!==void 0&&Object.keys(i).length===1?this.buildTextValNode(i[this.options.textNodeName],a,c.attrStr,l):this.buildObjectNode(c.val,a,c.attrStr,l)}t.prototype.buildObjectNode=function(i,a,l,c){if(i==="")return a[0]==="?"?this.indentate(c)+"<"+a+l+"?"+this.tagEndChar:this.indentate(c)+"<"+a+l+this.closeTag(a)+this.tagEndChar;{let d="</"+a+this.tagEndChar,f="";return a[0]==="?"&&(f="?",d=""),(l||l==="")&&i.indexOf("<")===-1?this.indentate(c)+"<"+a+l+f+">"+i+d:this.options.commentPropName!==!1&&a===this.options.commentPropName&&f.length===0?this.indentate(c)+`<!--${i}-->`+this.newLine:this.indentate(c)+"<"+a+l+f+this.tagEndChar+i+this.indentate(c)+d}},t.prototype.closeTag=function(i){let a="";return this.options.unpairedTags.indexOf(i)!==-1?this.options.suppressUnpairedNode||(a="/"):this.options.suppressEmptyNode?a="/":a=`></${i}`,a},t.prototype.buildTextValNode=function(i,a,l,c){if(this.options.cdataPropName!==!1&&a===this.options.cdataPropName)return this.indentate(c)+`<![CDATA[${i}]]>`+this.newLine;if(this.options.commentPropName!==!1&&a===this.options.commentPropName)return this.indentate(c)+`<!--${i}-->`+this.newLine;if(a[0]==="?")return this.indentate(c)+"<"+a+l+"?"+this.tagEndChar;{let d=this.options.tagValueProcessor(a,i);return d=this.replaceEntitiesValue(d),d===""?this.indentate(c)+"<"+a+l+this.closeTag(a)+this.tagEndChar:this.indentate(c)+"<"+a+l+">"+d+"</"+a+this.tagEndChar}},t.prototype.replaceEntitiesValue=function(i){if(i&&i.length>0&&this.options.processEntities)for(let a=0;a<this.options.entities.length;a++){const l=this.options.entities[a];i=i.replace(l.regex,l.val)}return i};function r(i){return this.options.indentBy.repeat(i)}function o(i){return i.startsWith(this.options.attributeNamePrefix)&&i!==this.options.textNodeName?i.substr(this.attrPrefixLen):!1}return Hc=t,Hc}var Kc,om;function TS(){if(om)return Kc;om=1;const e=Dy(),n=vS(),t=RS();return Kc={XMLParser:n,XMLValidator:e,XMLBuilder:t},Kc}var IS=TS();const le=(e,n)=>pS(e,n).then(t=>{if(t.length){const s=new IS.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(l,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});s.addEntity("#xD","\r"),s.addEntity("#10",`
`);let r;try{r=s.parse(t,!0)}catch(l){throw l&&typeof l=="object"&&Object.defineProperty(l,"$responseBodyText",{value:t}),l}const o="#text",i=Object.keys(r)[0],a=r[i];return a[o]&&(a[i]=a[o],delete a[o]),My(a)}return{}}),OS=async(e,n)=>{const t=await le(e,n);return t.Error&&(t.Error.message=t.Error.message??t.Error.Message),t},MS=(e,n)=>{var t;if(((t=n==null?void 0:n.Error)==null?void 0:t.Code)!==void 0)return n.Error.Code;if((n==null?void 0:n.Code)!==void 0)return n.Code;if(e.statusCode==404)return"NotFound"},rd=[je.CRC32,je.CRC32C,je.CRC64NVME,je.SHA1,je.SHA256],DS=[je.SHA256,je.SHA1,je.CRC32,je.CRC32C,je.CRC64NVME],NS=(e,{requestChecksumRequired:n,requestAlgorithmMember:t,requestChecksumCalculation:s})=>{if(!t)return s===So.WHEN_SUPPORTED||n?Yl:void 0;if(!e[t])return;const r=e[t];if(!rd.includes(r))throw new Error(`The checksum algorithm "${r}" is not supported by the client. Select one of ${rd}.`);return r},uu=e=>e===je.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`,LS=(e,n)=>{const t=e.toLowerCase();for(const s of Object.keys(n))if(t===s.toLowerCase())return!0;return!1},FS=(e,n)=>{const t=e.toLowerCase();for(const s of Object.keys(n))if(s.toLowerCase().startsWith(t))return!0;return!1},Ny=e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!Py(e);var od=function(e,n){return od=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])},od(e,n)};function Ly(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");od(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var Na=function(){return Na=Object.assign||function(n){for(var t,s=1,r=arguments.length;s<r;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Na.apply(this,arguments)};function Fy(e,n){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.indexOf(s)<0&&(t[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)n.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(t[s[r]]=e[s[r]]);return t}function Uy(e,n,t,s){var r=arguments.length,o=r<3?n:s===null?s=Object.getOwnPropertyDescriptor(n,t):s,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,n,t,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(n,t,o):i(n,t))||o);return r>3&&o&&Object.defineProperty(n,t,o),o}function zy(e,n){return function(t,s){n(t,s,e)}}function qy(e,n,t,s,r,o){function i(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var a=s.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!n&&e?s.static?e:e.prototype:null,d=n||(c?Object.getOwnPropertyDescriptor(c,s.name):{}),f,m=!1,g=t.length-1;g>=0;g--){var k={};for(var v in s)k[v]=v==="access"?{}:s[v];for(var v in s.access)k.access[v]=s.access[v];k.addInitializer=function(C){if(m)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(C||null))};var w=(0,t[g])(a==="accessor"?{get:d.get,set:d.set}:d[l],k);if(a==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(f=i(w.get))&&(d.get=f),(f=i(w.set))&&(d.set=f),(f=i(w.init))&&r.unshift(f)}else(f=i(w))&&(a==="field"?r.unshift(f):d[l]=f)}c&&Object.defineProperty(c,s.name,d),m=!0}function $y(e,n,t){for(var s=arguments.length>2,r=0;r<n.length;r++)t=s?n[r].call(e,t):n[r].call(e);return s?t:void 0}function jy(e){return typeof e=="symbol"?e:"".concat(e)}function Hy(e,n,t){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:t?"".concat(t," ",n):n})}function Ky(e,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,n)}function Ci(e,n,t,s){function r(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function a(d){try{c(s.next(d))}catch(f){i(f)}}function l(d){try{c(s.throw(d))}catch(f){i(f)}}function c(d){d.done?o(d.value):r(d.value).then(a,l)}c((s=s.apply(e,n||[])).next())})}function xi(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,r,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(c){return function(d){return l([c,d])}}function l(c){if(s)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(t=0)),t;)try{if(s=1,r&&(o=c[0]&2?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,r=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=n.call(e,t)}catch(d){c=[6,d],r=0}finally{s=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var ac=Object.create?function(e,n,t,s){s===void 0&&(s=t);var r=Object.getOwnPropertyDescriptor(n,t);(!r||("get"in r?!n.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,s,r)}:function(e,n,t,s){s===void 0&&(s=t),e[s]=n[t]};function Gy(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&ac(n,e,t)}function Eo(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],s=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function fu(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var s=t.call(e),r,o=[],i;try{for(;(n===void 0||n-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(t=s.return)&&t.call(s)}finally{if(i)throw i.error}}return o}function Vy(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(fu(arguments[n]));return e}function Wy(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var s=Array(e),r=0,n=0;n<t;n++)for(var o=arguments[n],i=0,a=o.length;i<a;i++,r++)s[r]=o[i];return s}function Xy(e,n,t){if(t||arguments.length===2)for(var s=0,r=n.length,o;s<r;s++)(o||!(s in n))&&(o||(o=Array.prototype.slice.call(n,0,s)),o[s]=n[s]);return e.concat(o||Array.prototype.slice.call(n))}function wo(e){return this instanceof wo?(this.v=e,this):new wo(e)}function Zy(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=t.apply(e,n||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),r[Symbol.asyncIterator]=function(){return this},r;function i(g){return function(k){return Promise.resolve(k).then(g,f)}}function a(g,k){s[g]&&(r[g]=function(v){return new Promise(function(w,C){o.push([g,v,w,C])>1||l(g,v)})},k&&(r[g]=k(r[g])))}function l(g,k){try{c(s[g](k))}catch(v){m(o[0][3],v)}}function c(g){g.value instanceof wo?Promise.resolve(g.value.v).then(d,f):m(o[0][2],g)}function d(g){l("next",g)}function f(g){l("throw",g)}function m(g,k){g(k),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Qy(e){var n,t;return n={},s("next"),s("throw",function(r){throw r}),s("return"),n[Symbol.iterator]=function(){return this},n;function s(r,o){n[r]=e[r]?function(i){return(t=!t)?{value:wo(e[r](i)),done:!1}:o?o(i):i}:o}}function Yy(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof Eo=="function"?Eo(e):e[Symbol.iterator](),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(o){t[o]=e[o]&&function(i){return new Promise(function(a,l){i=e[o](i),r(a,l,i.done,i.value)})}}function r(o,i,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},i)}}function Jy(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}var US=Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n},id=function(e){return id=Object.getOwnPropertyNames||function(n){var t=[];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[t.length]=s);return t},id(e)};function eg(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t=id(e),s=0;s<t.length;s++)t[s]!=="default"&&ac(n,e,t[s]);return US(n,e),n}function tg(e){return e&&e.__esModule?e:{default:e}}function ng(e,n,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!s:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(e):s?s.value:n.get(e)}function sg(e,n,t,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?e!==n||!r:!n.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(e,t):r?r.value=t:n.set(e,t),t}function rg(e,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?n===e:e.has(n)}function og(e,n,t){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var s,r;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=n[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=n[Symbol.dispose],t&&(r=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");r&&(s=function(){try{r.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:n,dispose:s,async:t})}else t&&e.stack.push({async:!0});return n}var zS=typeof SuppressedError=="function"?SuppressedError:function(e,n,t){var s=new Error(t);return s.name="SuppressedError",s.error=e,s.suppressed=n,s};function ig(e){function n(o){e.error=e.hasError?new zS(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var t,s=0;function r(){for(;t=e.stack.pop();)try{if(!t.async&&s===1)return s=0,e.stack.push(t),Promise.resolve().then(r);if(t.dispose){var o=t.dispose.call(t.value);if(t.async)return s|=2,Promise.resolve(o).then(r,function(i){return n(i),r()})}else s|=1}catch(i){n(i)}if(s===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return r()}function ag(e,n){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,s,r,o,i){return s?n?".jsx":".js":r&&(!o||!i)?t:r+o+"."+i.toLowerCase()+"js"}):e}const qS={__extends:Ly,__assign:Na,__rest:Fy,__decorate:Uy,__param:zy,__esDecorate:qy,__runInitializers:$y,__propKey:jy,__setFunctionName:Hy,__metadata:Ky,__awaiter:Ci,__generator:xi,__createBinding:ac,__exportStar:Gy,__values:Eo,__read:fu,__spread:Vy,__spreadArrays:Wy,__spreadArray:Xy,__await:wo,__asyncGenerator:Zy,__asyncDelegator:Qy,__asyncValues:Yy,__makeTemplateObject:Jy,__importStar:eg,__importDefault:tg,__classPrivateFieldGet:ng,__classPrivateFieldSet:sg,__classPrivateFieldIn:rg,__addDisposableResource:og,__disposeResources:ig,__rewriteRelativeImportExtension:ag},rF=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:og,get __assign(){return Na},__asyncDelegator:Qy,__asyncGenerator:Zy,__asyncValues:Yy,__await:wo,__awaiter:Ci,__classPrivateFieldGet:ng,__classPrivateFieldIn:rg,__classPrivateFieldSet:sg,__createBinding:ac,__decorate:Uy,__disposeResources:ig,__esDecorate:qy,__exportStar:Gy,__extends:Ly,__generator:xi,__importDefault:tg,__importStar:eg,__makeTemplateObject:Jy,__metadata:Ky,__param:zy,__propKey:jy,__read:fu,__rest:Fy,__rewriteRelativeImportExtension:ag,__runInitializers:$y,__setFunctionName:Hy,__spread:Vy,__spreadArray:Xy,__spreadArrays:Wy,__values:Eo,default:qS},Symbol.toStringTag,{value:"Module"})),cg=e=>new TextEncoder().encode(e);var $S=typeof ti.Buffer<"u"&&ti.Buffer.from?function(e){return ti.Buffer.from(e,"utf8")}:cg;function bs(e){return e instanceof Uint8Array?e:typeof e=="string"?$S(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function fi(e){return typeof e=="string"?e.length===0:e.byteLength===0}function lg(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}function dg(e){if(!Uint32Array.from){for(var n=new Uint32Array(e.length),t=0;t<e.length;)n[t]=e[t],t+=1;return n}return Uint32Array.from(e)}var jS=function(){function e(){this.crc32c=new im}return e.prototype.update=function(n){fi(n)||this.crc32c.update(bs(n))},e.prototype.digest=function(){return Ci(this,void 0,void 0,function(){return xi(this,function(n){return[2,lg(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new im},e}(),im=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(n){var t,s;try{for(var r=Eo(n),o=r.next();!o.done;o=r.next()){var i=o.value;this.checksum=this.checksum>>>8^KS[(this.checksum^i)&255]}}catch(a){t={error:a}}finally{try{o&&!o.done&&(s=r.return)&&s.call(r)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}(),HS=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],KS=dg(HS),GS=function(){function e(){this.crc32=new La}return e.prototype.update=function(n){fi(n)||this.crc32.update(bs(n))},e.prototype.digest=function(){return Ci(this,void 0,void 0,function(){return xi(this,function(n){return[2,lg(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new La},e}(),La=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(n){var t,s;try{for(var r=Eo(n),o=r.next();!o.done;o=r.next()){var i=o.value;this.checksum=this.checksum>>>8^WS[(this.checksum^i)&255]}}catch(a){t={error:a}}finally{try{o&&!o.done&&(s=r.return)&&s.call(r)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}(),VS=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],WS=dg(VS);const XS=()=>GS,ug=(e,n)=>{switch(e){case je.MD5:return n.md5;case je.CRC32:return XS();case je.CRC32C:return jS;case je.CRC64NVME:throw new Error(`Please check whether you have installed the "@aws-sdk/crc64-nvme-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/crc64-nvme-crt");] or an ESM equivalent such as [import "@aws-sdk/crc64-nvme-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);case je.SHA1:return n.sha1;case je.SHA256:return n.sha256;default:throw new Error(`Unsupported checksum algorithm: ${e}`)}},fg=(e,n)=>{const t=new e;return t.update(po(n||"")),t.digest()},ZS={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},QS=(e,n)=>(t,s)=>async r=>{if(!yt.isInstance(r.request)||FS("x-amz-checksum-",r.request.headers))return t(r);const{request:o,input:i}=r,{body:a,headers:l}=o,{base64Encoder:c,streamHasher:d}=e,{requestChecksumRequired:f,requestAlgorithmMember:m}=n,g=await e.requestChecksumCalculation(),k=m==null?void 0:m.name,v=m==null?void 0:m.httpHeader;k&&!i[k]&&(g===So.WHEN_SUPPORTED||f)&&(i[k]=Yl,v&&(l[v]=Yl));const w=NS(i,{requestChecksumRequired:f,requestAlgorithmMember:m==null?void 0:m.name,requestChecksumCalculation:g});let C=a,p=l;if(w){switch(w){case je.CRC32:mt(s,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case je.CRC32C:mt(s,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case je.CRC64NVME:mt(s,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W");break;case je.SHA1:mt(s,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case je.SHA256:mt(s,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}const S=uu(w),O=ug(w,e);if(Ny(a)){const{getAwsChunkedEncodingStream:E,bodyLengthChecker:W}=e;C=E(typeof e.requestStreamBufferSize=="number"&&e.requestStreamBufferSize>=8*1024?H0(a,e.requestStreamBufferSize,s.logger):a,{base64Encoder:c,bodyLengthChecker:W,checksumLocationName:S,checksumAlgorithmFn:O,streamHasher:d}),p={...l,"content-encoding":l["content-encoding"]?`${l["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":l["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":S},delete p["content-length"]}else if(!LS(S,l)){const E=await fg(O,a);p={...l,[S]:c(E)}}}return await t({...r,request:{...o,headers:p,body:C}})},YS={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},JS=(e,n)=>(t,s)=>async r=>{const o=r.input,{requestValidationModeMember:i}=n,a=await e.requestChecksumCalculation(),l=await e.responseChecksumValidation();switch(a){case So.WHEN_REQUIRED:mt(s,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a");break;case So.WHEN_SUPPORTED:mt(s,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z");break}switch(l){case Ac.WHEN_REQUIRED:mt(s,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c");break;case Ac.WHEN_SUPPORTED:mt(s,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b");break}return i&&!o[i]&&l===Ac.WHEN_SUPPORTED&&(o[i]="ENABLED"),t(r)},mg=(e=[])=>{const n=[];for(const t of DS)!e.includes(t)||!rd.includes(t)||n.push(t);return n},ep=e=>{const n=e.lastIndexOf("-");if(n!==-1){const t=e.slice(n+1);if(!t.startsWith("0")){const s=parseInt(t,10);if(!isNaN(s)&&s>=1&&s<=1e4)return!0}}return!1},tp=async(e,{checksumAlgorithmFn:n,base64Encoder:t})=>t(await fg(n,e)),np=async(e,{config:n,responseAlgorithms:t,logger:s})=>{const r=mg(t),{body:o,headers:i}=e;for(const a of r){const l=uu(a),c=i[l];if(c){let d;try{d=ug(a,n)}catch(g){if(a===je.CRC64NVME){s==null||s.warn(`Skipping ${je.CRC64NVME} checksum validation: ${g.message}`);continue}throw g}const{base64Encoder:f}=n;if(Ny(o)){e.body=q0({expectedChecksum:c,checksumSourceLocation:l,checksum:new d,source:o,base64Encoder:f});return}const m=await tp(o,{checksumAlgorithmFn:d,base64Encoder:f});if(m===c)break;throw new Error(`Checksum mismatch: expected "${m}" but received "${c}" in response header "${l}".`)}}},sp={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},rp=(e,n)=>(t,s)=>async r=>{if(!yt.isInstance(r.request))return t(r);const o=r.input,i=await t(r),a=i.response,{requestValidationModeMember:l,responseAlgorithms:c}=n;if(l&&o[l]==="ENABLED"){const{clientName:d,commandName:f}=s;if(d==="S3Client"&&f==="GetObjectCommand"&&mg(c).every(g=>{const k=uu(g),v=a.headers[k];return!v||ep(v)}))return i;await np(a,{config:e,responseAlgorithms:c,logger:s.logger})}return i},et=(e,n)=>({applyToStack:t=>{t.add(QS(e,n),ZS),t.addRelativeTo(JS(e,n),YS),t.addRelativeTo(rp(e,n),sp)}}),op=e=>{const{requestChecksumCalculation:n,responseChecksumValidation:t,requestStreamBufferSize:s}=e;return Object.assign(e,{requestChecksumCalculation:On(n??x0),responseChecksumValidation:On(t??S0),requestStreamBufferSize:Number(s??0)})};const ip=e=>n=>async t=>{if(!yt.isInstance(t.request))return n(t);const{request:s}=t,{handlerProtocol:r=""}=e.requestHandler.metadata||{};if(r.indexOf("h2")>=0&&!s.headers[":authority"])delete s.headers.host,s.headers[":authority"]=s.hostname+(s.port?":"+s.port:"");else if(!s.headers.host){let o=s.hostname;s.port!=null&&(o+=`:${s.port}`),s.headers.host=o}return n(t)},ap={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},cp=e=>({applyToStack:n=>{n.add(ip(e),ap)}}),lp=()=>(e,n)=>async t=>{var s,r;try{const o=await e(t),{clientName:i,commandName:a,logger:l,dynamoDbDocumentClientOptions:c={}}=n,{overrideInputFilterSensitiveLog:d,overrideOutputFilterSensitiveLog:f}=c,m=d??n.inputFilterSensitiveLog,g=f??n.outputFilterSensitiveLog,{$metadata:k,...v}=o.output;return(s=l==null?void 0:l.info)==null||s.call(l,{clientName:i,commandName:a,input:m(t.input),output:g(v),metadata:k}),o}catch(o){const{clientName:i,commandName:a,logger:l,dynamoDbDocumentClientOptions:c={}}=n,{overrideInputFilterSensitiveLog:d}=c,f=d??n.inputFilterSensitiveLog;throw(r=l==null?void 0:l.error)==null||r.call(l,{clientName:i,commandName:a,input:f(t.input),error:o,metadata:o.$metadata}),o}},dp={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},up=e=>({applyToStack:n=>{n.add(lp(),dp)}});var am={};const Gc="X-Amzn-Trace-Id",fp="AWS_LAMBDA_FUNCTION_NAME",mp="_X_AMZN_TRACE_ID",hp=e=>n=>async t=>{const{request:s}=t;if(!yt.isInstance(s)||e.runtime!=="node")return n(t);const r=Object.keys(s.headers??{}).find(l=>l.toLowerCase()===Gc.toLowerCase())??Gc;if(s.headers.hasOwnProperty(r))return n(t);const o=am[fp],i=am[mp],a=l=>typeof l=="string"&&l.length>0;return a(o)&&a(i)&&(s.headers[Gc]=i),n({...t,request:s})},yp={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},gp=e=>({applyToStack:n=>{n.add(hp(e),yp)}}),bp="content-length",Cp="x-amz-decoded-content-length";function xp(){return(e,n)=>async t=>{var r;const{request:s}=t;if(yt.isInstance(s)&&!(bp in s.headers)&&!(Cp in s.headers)){const o="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof((r=n==null?void 0:n.logger)==null?void 0:r.warn)=="function"&&!(n.logger instanceof lu)?n.logger.warn(o):console.warn(o)}return e({...t})}}const Sp={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},pp=e=>({applyToStack:n=>{n.add(xp(),Sp)}}),Ep=e=>(n,t)=>async s=>{const r=await e.region(),o=e.region;let i=()=>{};t.__s3RegionRedirect&&(Object.defineProperty(e,"region",{writable:!1,value:async()=>t.__s3RegionRedirect}),i=()=>Object.defineProperty(e,"region",{writable:!0,value:o}));try{const a=await n(s);if(t.__s3RegionRedirect){i();const l=await e.region();if(r!==l)throw new Error("Region was not restored following S3 region redirect.")}return a}catch(a){throw i(),a}},wp={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function kp(e){return(n,t)=>async s=>{var r,o,i;try{return await n(s)}catch(a){if(e.followRegionRedirects&&(((r=a==null?void 0:a.$metadata)==null?void 0:r.httpStatusCode)===301||((o=a==null?void 0:a.$metadata)==null?void 0:o.httpStatusCode)===400&&(a==null?void 0:a.name)==="IllegalLocationConstraintException")){try{const l=a.$response.headers["x-amz-bucket-region"];(i=t.logger)==null||i.debug(`Redirecting from ${await e.region()} to ${l}`),t.__s3RegionRedirect=l}catch(l){throw new Error("Region redirect failed: "+l)}return n(s)}throw a}}}const _p={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},Bp=e=>({applyToStack:n=>{n.add(kp(e),_p),n.addRelativeTo(Ep(e),wp)}}),Ap=e=>(n,t)=>async s=>{var i;const r=await n(s),{response:o}=r;if(xo.isInstance(o)&&o.headers.expires){o.headers.expiresstring=o.headers.expires;try{gs(o.headers.expires)}catch(a){(i=t.logger)==null||i.warn(`AWS SDK Warning for ${t.clientName}::${t.commandName} response parsing (${o.headers.expires}): ${a}`),delete o.headers.expires}}return r},vp={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"},hg=e=>({applyToStack:n=>{n.addRelativeTo(Ap(),vp)}}),sc=class sc{constructor(n={}){te(this,"data");te(this,"lastPurgeTime",Date.now());this.data=n}get(n){const t=this.data[n];if(t)return t}set(n,t){return this.data[n]=t,t}delete(n){delete this.data[n]}async purgeExpired(){const n=Date.now();if(!(this.lastPurgeTime+sc.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>n))for(const t in this.data){const s=this.data[t];if(!s.isRefreshing){const r=await s.identity;r.expiration&&r.expiration.getTime()<n&&delete this.data[t]}}}};te(sc,"EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS",3e4);let ad=sc;class Vc{constructor(n,t=!1,s=Date.now()){te(this,"_identity");te(this,"isRefreshing");te(this,"accessed");this._identity=n,this.isRefreshing=t,this.accessed=s}get identity(){return this.accessed=Date.now(),this._identity}}const rc=class rc{constructor(n,t=new ad){te(this,"createSessionFn");te(this,"cache");this.createSessionFn=n,this.cache=t}async getS3ExpressIdentity(n,t){const s=t.Bucket,{cache:r}=this,o=r.get(s);return o?o.identity.then(i=>{var c,d;return(((c=i.expiration)==null?void 0:c.getTime())??0)<Date.now()?r.set(s,new Vc(this.getIdentity(s))).identity:((((d=i.expiration)==null?void 0:d.getTime())??0)<Date.now()+rc.REFRESH_WINDOW_MS&&!o.isRefreshing&&(o.isRefreshing=!0,this.getIdentity(s).then(f=>{r.set(s,new Vc(Promise.resolve(f)))})),i)}):r.set(s,new Vc(this.getIdentity(s))).identity}async getIdentity(n){var r,o;await this.cache.purgeExpired().catch(i=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+i)});const t=await this.createSessionFn(n);if(!((r=t.Credentials)!=null&&r.AccessKeyId)||!((o=t.Credentials)!=null&&o.SecretAccessKey))throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:t.Credentials.AccessKeyId,secretAccessKey:t.Credentials.SecretAccessKey,sessionToken:t.Credentials.SessionToken,expiration:t.Credentials.Expiration?new Date(t.Credentials.Expiration):void 0}}};te(rc,"REFRESH_WINDOW_MS",6e4);let cd=rc;var cm;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(cm||(cm={}));const Pp="Directory",Rp="S3Express",Tp="sigv4-s3express",ld="X-Amz-S3session-Token",dd=ld.toLowerCase();class Ip extends nd{async signWithCredentials(n,t,s){const r=lm(t);n.headers[dd]=t.sessionToken;const o=this;return dm(o,r),o.signRequest(n,s??{})}async presignWithCredentials(n,t,s){const r=lm(t);return delete n.headers[dd],n.headers[ld]=t.sessionToken,n.query=n.query??{},n.query[ld]=t.sessionToken,dm(this,r),this.presign(n,s)}}function lm(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}function dm(e,n){const t=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),s=e.credentialProvider,r=()=>(clearTimeout(t),e.credentialProvider=s,Promise.resolve(n));e.credentialProvider=r}const Op=e=>(n,t)=>async s=>{var r,o,i,a,l;if(t.endpointV2){const c=t.endpointV2,d=((i=(o=(r=c.properties)==null?void 0:r.authSchemes)==null?void 0:o[0])==null?void 0:i.name)===Tp;if((((a=c.properties)==null?void 0:a.backend)===Rp||((l=c.properties)==null?void 0:l.bucketType)===Pp)&&(mt(t,"S3_EXPRESS_BUCKET","J"),t.isS3ExpressBucket=!0),d){const m=s.input.Bucket;if(m){const g=await e.s3ExpressIdentityProvider.getS3ExpressIdentity(await e.credentials(),{Bucket:m});t.s3ExpressIdentity=g,yt.isInstance(s.request)&&g.sessionToken&&(s.request.headers[dd]=g.sessionToken)}}}return n(s)},Mp={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},Dp=e=>({applyToStack:n=>{n.add(Op(e),Mp)}}),Np=async(e,n,t,s)=>{const r=await s.signWithCredentials(t,e,{});if(r.headers["X-Amz-Security-Token"]||r.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return r},Lp=e=>n=>{throw n},Fp=(e,n)=>{},Up=e=>(n,t)=>async s=>{if(!yt.isInstance(s.request))return n(s);const o=Ro(t).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:i={}},identity:a,signer:l}=o;let c;t.s3ExpressIdentity?c=await Np(t.s3ExpressIdentity,i,s.request,await e.signer()):c=await l.sign(s.request,a,i);const d=await n({...s,request:c}).catch((l.errorHandler||Lp)(i));return(l.successHandler||Fp)(d.response,i),d},zp=e=>({applyToStack:n=>{n.addRelativeTo(Up(e),Cy)}}),qp=(e,{session:n})=>{const[t,s]=n,{forcePathStyle:r,useAccelerateEndpoint:o,disableMultiregionAccessPoints:i,followRegionRedirects:a,s3ExpressIdentityProvider:l,bucketEndpoint:c}=e;return Object.assign(e,{forcePathStyle:r??!1,useAccelerateEndpoint:o??!1,disableMultiregionAccessPoints:i??!1,followRegionRedirects:a??!1,s3ExpressIdentityProvider:l??new cd(async d=>t().send(new s({Bucket:d}))),bucketEndpoint:c??!1})},$p={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},jp=3e3,Hp=e=>(n,t)=>async s=>{const r=await n(s),{response:o}=r;if(!xo.isInstance(o))return r;const{statusCode:i,body:a}=o;if(i<200||i>=300||!(typeof(a==null?void 0:a.stream)=="function"||typeof(a==null?void 0:a.pipe)=="function"||typeof(a==null?void 0:a.tee)=="function"))return r;let c=a,d=a;a&&typeof a=="object"&&!(a instanceof Uint8Array)&&([c,d]=await nx(a)),o.body=d;const f=await Kp(c,{streamCollector:async g=>W0(g,jp)});typeof(c==null?void 0:c.destroy)=="function"&&c.destroy();const m=e.utf8Encoder(f.subarray(f.length-16));if(f.length===0&&$p[t.commandName]){const g=new Error("S3 aborted request");throw g.name="InternalError",g}return m&&m.endsWith("</Error>")&&(o.statusCode=400),r},Kp=(e=new Uint8Array,n)=>e instanceof Uint8Array?Promise.resolve(e):n.streamCollector(e)||Promise.resolve(new Uint8Array),Gp={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},re=e=>({applyToStack:n=>{n.addRelativeTo(Hp(e),Gp)}}),Vp=e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6;function Wp(e){return(n,t)=>async s=>{var r,o,i,a;if(e.bucketEndpoint){const l=t.endpointV2;if(l){const c=s.input.Bucket;if(typeof c=="string")try{const d=new URL(c);t.endpointV2={...l,url:d}}catch(d){const f=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${c} could not be parsed as URL.`;throw((o=(r=t.logger)==null?void 0:r.constructor)==null?void 0:o.name)==="NoOpLogger"?console.warn(f):(a=(i=t.logger)==null?void 0:i.warn)==null||a.call(i,f),d}}}return n(s)}}const Xp={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function Zp({bucketEndpoint:e}){return n=>async t=>{const{input:{Bucket:s}}=t;if(!e&&typeof s=="string"&&!Vp(s)&&s.indexOf("/")>=0){const r=new Error(`Bucket name shouldn't contain '/', received '${s}'`);throw r.name="InvalidBucketName",r}return n({...t})}}const Qp={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},Yp=e=>({applyToStack:n=>{n.add(Zp(e),Qp),n.addRelativeTo(Wp(e),Xp)}}),Jp=void 0;function eE(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function tE(e){const n=Fr(e.userAgentAppId??Jp),{customUserAgent:t}=e;return Object.assign(e,{customUserAgent:typeof t=="string"?[[t]]:t,userAgentAppId:async()=>{var r,o;const s=await n();if(!eE(s)){const i=((o=(r=e.logger)==null?void 0:r.constructor)==null?void 0:o.name)==="NoOpLogger"||!e.logger?console:e.logger;typeof s!="string"?i==null||i.warn("userAgentAppId must be a string or undefined."):s.length>50&&(i==null||i.warn("The provided userAgentAppId exceeds the maximum length of 50 characters."))}return s}})}class nE{constructor({size:n,params:t}){this.data=new Map,this.parameters=[],this.capacity=n??50,t&&(this.parameters=t)}get(n,t){const s=this.hash(n);if(s===!1)return t();if(!this.data.has(s)){if(this.data.size>this.capacity+10){const r=this.data.keys();let o=0;for(;;){const{value:i,done:a}=r.next();if(this.data.delete(i),a||++o>10)break}}this.data.set(s,t())}return this.data.get(s)}size(){return this.data.size}hash(n){let t="";const{parameters:s}=this;if(s.length===0)return!1;for(const r of s){const o=String(n[r]??"");if(o.includes("|;"))return!1;t+=o+"|;"}return t}}const sE=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),yg=e=>sE.test(e)||e.startsWith("[")&&e.endsWith("]"),rE=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),mu=(e,n=!1)=>{if(!n)return rE.test(e);const t=e.split(".");for(const s of t)if(!mu(s))return!1;return!0},Fa={},mi="endpoints";function Cs(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Cs(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Cs).join(", ")})`:JSON.stringify(e,null,2)}class hn extends Error{constructor(n){super(n),this.name="EndpointError"}}const oE=(e,n)=>e===n,iE=e=>{const n=e.split("."),t=[];for(const s of n){const r=s.indexOf("[");if(r!==-1){if(s.indexOf("]")!==s.length-1)throw new hn(`Path: '${e}' does not end with ']'`);const o=s.slice(r+1,-1);if(Number.isNaN(parseInt(o)))throw new hn(`Invalid array index: '${o}' in path: '${e}'`);r!==0&&t.push(s.slice(0,r)),t.push(o)}else t.push(s)}return t},gg=(e,n)=>iE(n).reduce((t,s)=>{if(typeof t!="object")throw new hn(`Index '${s}' in '${n}' not found in '${JSON.stringify(e)}'`);return Array.isArray(t)?t[parseInt(s)]:t[s]},e),aE=e=>e!=null,cE=e=>!e,Wc={[di.HTTP]:80,[di.HTTPS]:443},lE=e=>{const n=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){const{hostname:m,port:g,protocol:k="",path:v="",query:w={}}=e,C=new URL(`${k}//${m}${g?`:${g}`:""}${v}`);return C.search=Object.entries(w).map(([p,D])=>`${p}=${D}`).join("&"),C}return new URL(e)}catch{return null}})();if(!n)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const t=n.href,{host:s,hostname:r,pathname:o,protocol:i,search:a}=n;if(a)return null;const l=i.slice(0,-1);if(!Object.values(di).includes(l))return null;const c=yg(r),d=t.includes(`${s}:${Wc[l]}`)||typeof e=="string"&&e.includes(`${s}:${Wc[l]}`),f=`${s}${d?`:${Wc[l]}`:""}`;return{scheme:l,authority:f,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:c}},dE=(e,n)=>e===n,uE=(e,n,t,s)=>n>=t||e.length<t?null:s?e.substring(e.length-t,e.length-n):e.substring(n,t),fE=e=>encodeURIComponent(e).replace(/[!*'()]/g,n=>`%${n.charCodeAt(0).toString(16).toUpperCase()}`),mE={booleanEquals:oE,getAttr:gg,isSet:aE,isValidHostLabel:mu,not:cE,parseURL:lE,stringEquals:dE,substring:uE,uriEncode:fE},bg=(e,n)=>{const t=[],s={...n.endpointParams,...n.referenceRecord};let r=0;for(;r<e.length;){const o=e.indexOf("{",r);if(o===-1){t.push(e.slice(r));break}t.push(e.slice(r,o));const i=e.indexOf("}",o);if(i===-1){t.push(e.slice(o));break}e[o+1]==="{"&&e[i+1]==="}"&&(t.push(e.slice(o+1,i)),r=i+2);const a=e.substring(o+1,i);if(a.includes("#")){const[l,c]=a.split("#");t.push(gg(s[l],c))}else t.push(s[a]);r=i+1}return t.join("")},hE=({ref:e},n)=>({...n.endpointParams,...n.referenceRecord})[e],cc=(e,n,t)=>{if(typeof e=="string")return bg(e,t);if(e.fn)return Cg(e,t);if(e.ref)return hE(e,t);throw new hn(`'${n}': ${String(e)} is not a string, function or reference.`)},Cg=({fn:e,argv:n},t)=>{const s=n.map(o=>["boolean","number"].includes(typeof o)?o:cc(o,"arg",t)),r=e.split(".");return r[0]in Fa&&r[1]!=null?Fa[r[0]][r[1]](...s):mE[e](...s)},yE=({assign:e,...n},t)=>{var r,o;if(e&&e in t.referenceRecord)throw new hn(`'${e}' is already defined in Reference Record.`);const s=Cg(n,t);return(o=(r=t.logger)==null?void 0:r.debug)==null||o.call(r,`${mi} evaluateCondition: ${Cs(n)} = ${Cs(s)}`),{result:s===""?!0:!!s,...e!=null&&{toAssign:{name:e,value:s}}}},hu=(e=[],n)=>{var s,r;const t={};for(const o of e){const{result:i,toAssign:a}=yE(o,{...n,referenceRecord:{...n.referenceRecord,...t}});if(!i)return{result:i};a&&(t[a.name]=a.value,(r=(s=n.logger)==null?void 0:s.debug)==null||r.call(s,`${mi} assign: ${a.name} := ${Cs(a.value)}`))}return{result:!0,referenceRecord:t}},gE=(e,n)=>Object.entries(e).reduce((t,[s,r])=>({...t,[s]:r.map(o=>{const i=cc(o,"Header value entry",n);if(typeof i!="string")throw new hn(`Header '${s}' value '${i}' is not a string`);return i})}),{}),xg=(e,n)=>{if(Array.isArray(e))return e.map(t=>xg(t,n));switch(typeof e){case"string":return bg(e,n);case"object":if(e===null)throw new hn(`Unexpected endpoint property: ${e}`);return Sg(e,n);case"boolean":return e;default:throw new hn(`Unexpected endpoint property type: ${typeof e}`)}},Sg=(e,n)=>Object.entries(e).reduce((t,[s,r])=>({...t,[s]:xg(r,n)}),{}),bE=(e,n)=>{const t=cc(e,"Endpoint URL",n);if(typeof t=="string")try{return new URL(t)}catch(s){throw console.error(`Failed to construct URL with ${t}`,s),s}throw new hn(`Endpoint URL must be a string, got ${typeof t}`)},CE=(e,n)=>{var d,f;const{conditions:t,endpoint:s}=e,{result:r,referenceRecord:o}=hu(t,n);if(!r)return;const i={...n,referenceRecord:{...n.referenceRecord,...o}},{url:a,properties:l,headers:c}=s;return(f=(d=n.logger)==null?void 0:d.debug)==null||f.call(d,`${mi} Resolving endpoint from template: ${Cs(s)}`),{...c!=null&&{headers:gE(c,i)},...l!=null&&{properties:Sg(l,i)},url:bE(a,i)}},xE=(e,n)=>{const{conditions:t,error:s}=e,{result:r,referenceRecord:o}=hu(t,n);if(r)throw new hn(cc(s,"Error",{...n,referenceRecord:{...n.referenceRecord,...o}}))},SE=(e,n)=>{const{conditions:t,rules:s}=e,{result:r,referenceRecord:o}=hu(t,n);if(r)return pg(s,{...n,referenceRecord:{...n.referenceRecord,...o}})},pg=(e,n)=>{for(const t of e)if(t.type==="endpoint"){const s=CE(t,n);if(s)return s}else if(t.type==="error")xE(t,n);else if(t.type==="tree"){const s=SE(t,n);if(s)return s}else throw new hn(`Unknown endpoint rule: ${t}`);throw new hn("Rules evaluation failed")},pE=(e,n)=>{var c,d,f,m;const{endpointParams:t,logger:s}=n,{parameters:r,rules:o}=e;(d=(c=n.logger)==null?void 0:c.debug)==null||d.call(c,`${mi} Initial EndpointParams: ${Cs(t)}`);const i=Object.entries(r).filter(([,g])=>g.default!=null).map(([g,k])=>[g,k.default]);if(i.length>0)for(const[g,k]of i)t[g]=t[g]??k;const a=Object.entries(r).filter(([,g])=>g.required).map(([g])=>g);for(const g of a)if(t[g]==null)throw new hn(`Missing required parameter: '${g}'`);const l=pg(o,{endpointParams:t,logger:s,referenceRecord:{}});return(m=(f=n.logger)==null?void 0:f.debug)==null||m.call(f,`${mi} Resolved endpoint: ${Cs(l)}`),l},Eg=(e,n=!1)=>{if(n){for(const t of e.split("."))if(!Eg(t))return!1;return!0}return!(!mu(e)||e.length<3||e.length>63||e!==e.toLowerCase()||yg(e))},um=":",EE="/",wE=e=>{const n=e.split(um);if(n.length<6)return null;const[t,s,r,o,i,...a]=n;if(t!=="arn"||s===""||r===""||a.join(um)==="")return null;const l=a.map(c=>c.split(EE)).flat();return{partition:s,service:r,region:o,accountId:i,resourceId:l}},kE=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],_E={partitions:kE};let BE=_E;const AE=e=>{const{partitions:n}=BE;for(const s of n){const{regions:r,outputs:o}=s;for(const[i,a]of Object.entries(r))if(i===e)return{...o,...a}}for(const s of n){const{regionRegex:r,outputs:o}=s;if(new RegExp(r).test(e))return{...o}}const t=n.find(s=>s.id==="aws");if(!t)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...t.outputs}},wg={isVirtualHostableS3Bucket:Eg,parseArn:wE,partition:AE};Fa.aws=wg;const vE=/\d{12}\.ddb/;async function PE(e,n,t){var o,i,a,l,c,d,f;const s=t.request;if(((o=s==null?void 0:s.headers)==null?void 0:o["smithy-protocol"])==="rpc-v2-cbor"&&mt(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof n.retryStrategy=="function"){const m=await n.retryStrategy();typeof m.acquireInitialRetryToken=="function"?(a=(i=m.constructor)==null?void 0:i.name)!=null&&a.includes("Adaptive")?mt(e,"RETRY_MODE_ADAPTIVE","F"):mt(e,"RETRY_MODE_STANDARD","E"):mt(e,"RETRY_MODE_LEGACY","D")}if(typeof n.accountIdEndpointMode=="function"){const m=e.endpointV2;switch(String((l=m==null?void 0:m.url)==null?void 0:l.hostname).match(vE)&&mt(e,"ACCOUNT_ID_ENDPOINT","O"),await((c=n.accountIdEndpointMode)==null?void 0:c.call(n))){case"disabled":mt(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":mt(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":mt(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}const r=(f=(d=e.__smithy_context)==null?void 0:d.selectedHttpAuthScheme)==null?void 0:f.identity;if(r!=null&&r.$source){const m=r;m.accountId&&mt(e,"RESOLVED_ACCOUNT_ID","T");for(const[g,k]of Object.entries(m.$source??{}))mt(e,g,k)}}const fm="user-agent",Xc="x-amz-user-agent",mm=" ",Zc="/",RE=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,TE=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,hm="-",IE=1024;function OE(e){let n="";for(const t in e){const s=e[t];if(n.length+s.length+1<=IE){n.length?n+=","+s:n+=s;continue}break}return n}const ME=e=>(n,t)=>async s=>{var g,k,v,w;const{request:r}=s;if(!yt.isInstance(r))return n(s);const{headers:o}=r,i=((g=t==null?void 0:t.userAgent)==null?void 0:g.map(Ui))||[],a=(await e.defaultUserAgentProvider()).map(Ui);await PE(t,e,s);const l=t;a.push(`m/${OE(Object.assign({},(k=t.__smithy_context)==null?void 0:k.features,(v=l.__aws_sdk_context)==null?void 0:v.features))}`);const c=((w=e==null?void 0:e.customUserAgent)==null?void 0:w.map(Ui))||[],d=await e.userAgentAppId();d&&a.push(Ui([`app/${d}`]));const f=[].concat([...a,...i,...c]).join(mm),m=[...a.filter(C=>C.startsWith("aws-sdk-")),...c].join(mm);return e.runtime!=="browser"?(m&&(o[Xc]=o[Xc]?`${o[fm]} ${m}`:m),o[fm]=f):o[Xc]=f,n({...s,request:r})},Ui=e=>{var i;const n=e[0].split(Zc).map(a=>a.replace(RE,hm)).join(Zc),t=(i=e[1])==null?void 0:i.replace(TE,hm),s=n.indexOf(Zc),r=n.substring(0,s);let o=n.substring(s+1);return r==="api"&&(o=o.toLowerCase()),[r,o,t].filter(a=>a&&a.length>0).reduce((a,l,c)=>{switch(c){case 0:return l;case 1:return`${a}/${l}`;default:return`${a}#${l}`}},"")},DE={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},NE=e=>({applyToStack:n=>{n.add(ME(e),DE)}}),LE=!1,FE=!1,kg=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),ym=e=>kg(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,UE=e=>{const{region:n,useFipsEndpoint:t}=e;if(!n)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof n=="string")return ym(n);const s=await n();return ym(s)},useFipsEndpoint:async()=>{const s=typeof n=="string"?n:await n();return kg(s)?!0:typeof t!="function"?Promise.resolve(!!t):t()}})},zE=e=>Object.assign(e,{eventStreamMarshaller:e.eventStreamSerdeProvider(e)}),gm="content-length";function qE(e){return n=>async t=>{const s=t.request;if(yt.isInstance(s)){const{body:r,headers:o}=s;if(r&&Object.keys(o).map(i=>i.toLowerCase()).indexOf(gm)===-1)try{const i=e(r);s.headers={...s.headers,[gm]:String(i)}}catch{}}return n({...t,request:s})}}const $E={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},jE=e=>({applyToStack:n=>{n.add(qE(e.bodyLengthChecker),$E)}}),HE=async e=>{const n=(e==null?void 0:e.Bucket)||"";if(typeof e.Bucket=="string"&&(e.Bucket=n.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),XE(n)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!WE(n)||n.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||n.toLowerCase()!==n||n.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},KE=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,GE=/(\d+\.){3}\d+/,VE=/\.\./,WE=e=>KE.test(e)&&!GE.test(e)&&!VE.test(e),XE=e=>{const[n,t,s,,,r]=e.split(":"),o=n==="arn"&&e.split(":").length>=6,i=!!(o&&t&&s&&r);if(o&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},ZE=(e,n,t)=>{const s=async()=>{const r=t[e]??t[n];return typeof r=="function"?r():r};return e==="credentialScope"||n==="CredentialScope"?async()=>{const r=typeof t.credentials=="function"?await t.credentials():t.credentials;return(r==null?void 0:r.credentialScope)??(r==null?void 0:r.CredentialScope)}:e==="accountId"||n==="AccountId"?async()=>{const r=typeof t.credentials=="function"?await t.credentials():t.credentials;return(r==null?void 0:r.accountId)??(r==null?void 0:r.AccountId)}:e==="endpoint"||n==="endpoint"?async()=>{const r=await s();if(r&&typeof r=="object"){if("url"in r)return r.url.href;if("hostname"in r){const{protocol:o,hostname:i,port:a,path:l}=r;return`${o}//${i}${a?":"+a:""}${l}`}}return r}:s},_g=async e=>{};function QE(e){const n={};if(e=e.replace(/^\?/,""),e)for(const t of e.split("&")){let[s,r=null]=t.split("=");s=decodeURIComponent(s),r&&(r=decodeURIComponent(r)),s in n?Array.isArray(n[s])?n[s].push(r):n[s]=[n[s],r]:n[s]=r}return n}const Ua=e=>{if(typeof e=="string")return Ua(new URL(e));const{hostname:n,pathname:t,port:s,protocol:r,search:o}=e;let i;return o&&(i=QE(o)),{hostname:n,port:s?parseInt(s):void 0,protocol:r,path:t,query:i}},yu=e=>typeof e=="object"?"url"in e?Ua(e.url):e:Ua(e),Bg=async(e,n,t,s)=>{if(!t.endpoint){let i;t.serviceConfiguredEndpoint?i=await t.serviceConfiguredEndpoint():i=await _g(t.serviceId),i&&(t.endpoint=()=>Promise.resolve(yu(i)))}const r=await Ag(e,n,t);if(typeof t.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return t.endpointProvider(r,s)},Ag=async(e,n,t)=>{var o;const s={},r=((o=n==null?void 0:n.getEndpointParameterInstructions)==null?void 0:o.call(n))||{};for(const[i,a]of Object.entries(r))switch(a.type){case"staticContextParams":s[i]=a.value;break;case"contextParams":s[i]=e[a.name];break;case"clientContextParams":case"builtInParams":s[i]=await ZE(a.name,i,t)();break;case"operationContextParams":s[i]=a.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(r).length===0&&Object.assign(s,t),String(t.serviceId).toLowerCase()==="s3"&&await HE(s),s},YE=({config:e,instructions:n})=>(t,s)=>async r=>{var a,l,c;e.endpoint&&ox(s,"ENDPOINT_OVERRIDE","N");const o=await Bg(r.input,{getEndpointParameterInstructions(){return n}},{...e},s);s.endpointV2=o,s.authSchemes=(a=o.properties)==null?void 0:a.authSchemes;const i=(l=s.authSchemes)==null?void 0:l[0];if(i){s.signing_region=i.signingRegion,s.signing_service=i.signingName;const d=Ro(s),f=(c=d==null?void 0:d.selectedHttpAuthScheme)==null?void 0:c.httpAuthOption;f&&(f.signingProperties=Object.assign(f.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return t({...r})},JE={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:su.name},z=(e,n)=>({applyToStack:t=>{t.addRelativeTo(YE({config:e,instructions:n}),JE)}}),ew=e=>{const n=e.tls??!0,{endpoint:t,useDualstackEndpoint:s,useFipsEndpoint:r}=e,o=t!=null?async()=>yu(await On(t)()):void 0,a=Object.assign(e,{endpoint:o,tls:n,isCustomEndpoint:!!t,useDualstackEndpoint:On(s??!1),useFipsEndpoint:On(r??!1)});let l;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!l&&(l=_g(e.serviceId)),l),a};var ko;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(ko||(ko={}));const za=3,tw=ko.STANDARD,nw=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],sw=["TimeoutError","RequestTimeout","RequestTimeoutException"],rw=[500,502,503,504],ow=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],iw=e=>{var n;return(n=e.$metadata)==null?void 0:n.clockSkewCorrected},aw=e=>{const n=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?n.has(e.message):!1},vg=e=>{var n,t;return((n=e.$metadata)==null?void 0:n.httpStatusCode)===429||nw.includes(e.name)||((t=e.$retryable)==null?void 0:t.throttling)==!0},gu=(e,n=0)=>{var t;return iw(e)||sw.includes(e.name)||ow.includes((e==null?void 0:e.code)||"")||rw.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)||aw(e)||e.cause!==void 0&&n<=10&&gu(e.cause,n+1)},cw=e=>{var n;if(((n=e.$metadata)==null?void 0:n.httpStatusCode)!==void 0){const t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!gu(e)}return!1};class lc{constructor(n){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(n==null?void 0:n.beta)??.7,this.minCapacity=(n==null?void 0:n.minCapacity)??1,this.minFillRate=(n==null?void 0:n.minFillRate)??.5,this.scaleConstant=(n==null?void 0:n.scaleConstant)??.4,this.smooth=(n==null?void 0:n.smooth)??.8;const t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(n){if(this.enabled){if(this.refillTokenBucket(),n>this.currentCapacity){const t=(n-this.currentCapacity)/this.fillRate*1e3;await new Promise(s=>lc.setTimeoutFn(s,t))}this.currentCapacity=this.currentCapacity-n}}refillTokenBucket(){const n=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=n;return}const t=(n-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=n}updateClientSendingRate(n){let t;if(this.updateMeasuredRate(),vg(n)){const r=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=r,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(r),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());const s=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(s)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(n){return this.getPrecise(n*this.beta)}cubicSuccess(n){return this.getPrecise(this.scaleConstant*Math.pow(n-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(n){this.refillTokenBucket(),this.fillRate=Math.max(n,this.minFillRate),this.maxCapacity=Math.max(n,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const n=this.getCurrentTimeInSeconds(),t=Math.floor(n*2)/2;if(this.requestCount++,t>this.lastTxRateBucket){const s=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(s*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(n){return parseFloat(n.toFixed(8))}}lc.setTimeoutFn=setTimeout;const ud=100,Pg=20*1e3,lw=500,bm=500,dw=5,uw=10,fw=1,mw="amz-sdk-invocation-id",hw="amz-sdk-request",yw=()=>{let e=ud;return{computeNextBackoffDelay:s=>Math.floor(Math.min(Pg,Math.random()*2**s*e)),setDelayBase:s=>{e=s}}},Cm=({retryDelay:e,retryCount:n,retryCost:t})=>({getRetryCount:()=>n,getRetryDelay:()=>Math.min(Pg,e),getRetryCost:()=>t});class Rg{constructor(n){this.maxAttempts=n,this.mode=ko.STANDARD,this.capacity=bm,this.retryBackoffStrategy=yw(),this.maxAttemptsProvider=typeof n=="function"?n:async()=>n}async acquireInitialRetryToken(n){return Cm({retryDelay:ud,retryCount:0})}async refreshRetryTokenForRetry(n,t){const s=await this.getMaxAttempts();if(this.shouldRetry(n,t,s)){const r=t.errorType;this.retryBackoffStrategy.setDelayBase(r==="THROTTLING"?lw:ud);const o=this.retryBackoffStrategy.computeNextBackoffDelay(n.getRetryCount()),i=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,o):o,a=this.getCapacityCost(r);return this.capacity-=a,Cm({retryDelay:i,retryCount:n.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(n){this.capacity=Math.max(bm,this.capacity+(n.getRetryCost()??fw))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${za}`),za}}shouldRetry(n,t,s){return n.getRetryCount()+1<s&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(n){return n==="TRANSIENT"?uw:dw}isRetryableError(n){return n==="THROTTLING"||n==="TRANSIENT"}}class gw{constructor(n,t){this.maxAttemptsProvider=n,this.mode=ko.ADAPTIVE;const{rateLimiter:s}=t??{};this.rateLimiter=s??new lc,this.standardRetryStrategy=new Rg(n)}async acquireInitialRetryToken(n){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(n)}async refreshRetryTokenForRetry(n,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(n,t)}recordSuccess(n){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(n)}}let zi;const bw=new Uint8Array(16);function Cw(){if(!zi&&(zi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!zi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zi(bw)}const Ot=[];for(let e=0;e<256;++e)Ot.push((e+256).toString(16).slice(1));function xw(e,n=0){return Ot[e[n+0]]+Ot[e[n+1]]+Ot[e[n+2]]+Ot[e[n+3]]+"-"+Ot[e[n+4]]+Ot[e[n+5]]+"-"+Ot[e[n+6]]+Ot[e[n+7]]+"-"+Ot[e[n+8]]+Ot[e[n+9]]+"-"+Ot[e[n+10]]+Ot[e[n+11]]+Ot[e[n+12]]+Ot[e[n+13]]+Ot[e[n+14]]+Ot[e[n+15]]}const Sw=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),xm={randomUUID:Sw};function pw(e,n,t){if(xm.randomUUID&&!e)return xm.randomUUID();e=e||{};const s=e.random||(e.rng||Cw)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,xw(s)}const Ew=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),ww=e=>{const{retryStrategy:n,retryMode:t,maxAttempts:s}=e,r=On(s??za);return Object.assign(e,{maxAttempts:r,retryStrategy:async()=>n||(await On(t)()===ko.ADAPTIVE?new gw(r):new Rg(r))})},kw=e=>(e==null?void 0:e.body)instanceof ReadableStream,_w=e=>(n,t)=>async s=>{var i;let r=await e.retryStrategy();const o=await e.maxAttempts();if(Bw(r)){r=r;let a=await r.acquireInitialRetryToken(t.partition_id),l=new Error,c=0,d=0;const{request:f}=s,m=yt.isInstance(f);for(m&&(f.headers[mw]=pw());;)try{m&&(f.headers[hw]=`attempt=${c+1}; max=${o}`);const{response:g,output:k}=await n(s);return r.recordSuccess(a),k.$metadata.attempts=c+1,k.$metadata.totalRetryDelay=d,{response:g,output:k}}catch(g){const k=Aw(g);if(l=Ew(g),m&&kw(f))throw(i=t.logger instanceof lu?console:t.logger)==null||i.warn("An error was encountered in a non-retryable streaming request."),l;try{a=await r.refreshRetryTokenForRetry(a,k)}catch{throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=c+1,l.$metadata.totalRetryDelay=d,l}c=a.getRetryCount();const v=a.getRetryDelay();d+=v,await new Promise(w=>setTimeout(w,v))}}else return r=r,r!=null&&r.mode&&(t.userAgent=[...t.userAgent||[],["cfg/retry-mode",r.mode]]),r.retry(n,s)},Bw=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",Aw=e=>{const n={error:e,errorType:vw(e)},t=Tw(e.$response);return t&&(n.retryAfterHint=t),n},vw=e=>vg(e)?"THROTTLING":gu(e)?"TRANSIENT":cw(e)?"SERVER_ERROR":"CLIENT_ERROR",Pw={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Rw=e=>({applyToStack:n=>{n.add(_w(e),Pw)}}),Tw=e=>{if(!xo.isInstance(e))return;const n=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!n)return;const t=e.headers[n],s=Number(t);return Number.isNaN(s)?new Date(t):new Date(s*1e3)};class Iw{constructor(n){te(this,"sigv4aSigner");te(this,"sigv4Signer");te(this,"signerOptions");this.sigv4Signer=new Ip(n),this.signerOptions=n}async sign(n,t={}){return t.signingRegion==="*"?this.getSigv4aSigner().sign(n,t):this.sigv4Signer.sign(n,t)}async signWithCredentials(n,t,s={}){if(s.signingRegion==="*")throw this.getSigv4aSigner(),new Error(`signWithCredentials with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return this.sigv4Signer.signWithCredentials(n,t,s)}async presign(n,t={}){if(t.signingRegion==="*")throw this.getSigv4aSigner(),new Error(`presign with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return this.sigv4Signer.presign(n,t)}async presignWithCredentials(n,t,s={}){if(s.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(n,t,s)}getSigv4aSigner(){if(!this.sigv4aSigner)throw this.signerOptions.runtime==="node"?new Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt"):new Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");return this.sigv4aSigner}}const bu="required",h="type",P="rules",x="conditions",_="fn",B="argv",se="ref",he="assign",Q="url",Y="properties",vs="backend",qt="authSchemes",Bt="disableDoubleEncoding",At="signingName",Xt="signingRegion",J="headers",Cu="signingRegionSet",Ow=6,Mw=!1,Un=!0,un="isSet",ut="booleanEquals",X="error",qa="aws.partition",Pe="stringEquals",st="getAttr",dt="name",$e="substring",Sm="bucketSuffix",xu="parseURL",M="endpoint",R="tree",$a="aws.isVirtualHostableS3Bucket",ja="{url#scheme}://{Bucket}.{url#authority}{url#path}",jn="not",pm="accessPointSuffix",Yi="{url#scheme}://{url#authority}{url#path}",Tg="hardwareType",Ig="regionPrefix",Em="bucketAliasSuffix",fd="outpostId",Sr="isValidHostLabel",Su="sigv4a",hi="s3-outposts",_o="s3",Og="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",Mg="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",wm="https://{Bucket}.s3.{partitionResult#dnsSuffix}",Dg="aws.parseArn",Ng="bucketArn",Lg="arnType",Ha="",pu="s3-object-lambda",Fg="accesspoint",Eu="accessPointName",km="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",_m="mrapPartition",Bm="outpostType",Am="arnPrefix",Ug="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",vm="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",Pm="https://s3.{partitionResult#dnsSuffix}",Pr={[bu]:!1,[h]:"String"},Rr={[bu]:!0,default:!1,[h]:"Boolean"},Jo={[bu]:!1,[h]:"Boolean"},xn={[_]:ut,[B]:[{[se]:"Accelerate"},!0]},Ze={[_]:ut,[B]:[{[se]:"UseFIPS"},!0]},qe={[_]:ut,[B]:[{[se]:"UseDualStack"},!0]},lt={[_]:un,[B]:[{[se]:"Endpoint"}]},zg={[_]:qa,[B]:[{[se]:"Region"}],[he]:"partitionResult"},Rm={[_]:Pe,[B]:[{[_]:st,[B]:[{[se]:"partitionResult"},dt]},"aws-cn"]},oi={[_]:un,[B]:[{[se]:"Bucket"}]},ve={[se]:"Bucket"},Tm={[x]:[qe],[X]:"S3Express does not support Dual-stack.",[h]:X},Im={[x]:[xn],[X]:"S3Express does not support S3 Accelerate.",[h]:X},Om={[x]:[lt,{[_]:xu,[B]:[{[se]:"Endpoint"}],[he]:"url"}],[P]:[{[x]:[{[_]:un,[B]:[{[se]:"DisableS3ExpressSessionAuth"}]},{[_]:ut,[B]:[{[se]:"DisableS3ExpressSessionAuth"},!0]}],[P]:[{[x]:[{[_]:ut,[B]:[{[_]:st,[B]:[{[se]:"url"},"isIp"]},!0]}],[P]:[{[x]:[{[_]:"uriEncode",[B]:[ve],[he]:"uri_encoded_bucket"}],[P]:[{[M]:{[Q]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[Y]:{[vs]:"S3Express",[qt]:[{[Bt]:!0,[dt]:"sigv4",[At]:"s3express",[Xt]:"{Region}"}]},[J]:{}},[h]:M}],[h]:R}],[h]:R},{[x]:[{[_]:$a,[B]:[ve,!1]}],[P]:[{[M]:{[Q]:ja,[Y]:{[vs]:"S3Express",[qt]:[{[Bt]:!0,[dt]:"sigv4",[At]:"s3express",[Xt]:"{Region}"}]},[J]:{}},[h]:M}],[h]:R},{[X]:"S3Express bucket name is not a valid virtual hostable name.",[h]:X}],[h]:R},{[x]:[{[_]:ut,[B]:[{[_]:st,[B]:[{[se]:"url"},"isIp"]},!0]}],[P]:[{[x]:[{[_]:"uriEncode",[B]:[ve],[he]:"uri_encoded_bucket"}],[P]:[{[M]:{[Q]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[Y]:{[vs]:"S3Express",[qt]:[{[Bt]:!0,[dt]:"sigv4-s3express",[At]:"s3express",[Xt]:"{Region}"}]},[J]:{}},[h]:M}],[h]:R}],[h]:R},{[x]:[{[_]:$a,[B]:[ve,!1]}],[P]:[{[M]:{[Q]:ja,[Y]:{[vs]:"S3Express",[qt]:[{[Bt]:!0,[dt]:"sigv4-s3express",[At]:"s3express",[Xt]:"{Region}"}]},[J]:{}},[h]:M}],[h]:R},{[X]:"S3Express bucket name is not a valid virtual hostable name.",[h]:X}],[h]:R},Vt={[_]:xu,[B]:[{[se]:"Endpoint"}],[he]:"url"},Qc={[_]:ut,[B]:[{[_]:st,[B]:[{[se]:"url"},"isIp"]},!0]},qg={[se]:"url"},$g={[_]:"uriEncode",[B]:[ve],[he]:"uri_encoded_bucket"},As={[vs]:"S3Express",[qt]:[{[Bt]:!0,[dt]:"sigv4",[At]:"s3express",[Xt]:"{Region}"}]},fe={},jg={[_]:$a,[B]:[ve,!1]},Mm={[X]:"S3Express bucket name is not a valid virtual hostable name.",[h]:X},Dm={[_]:un,[B]:[{[se]:"UseS3ExpressControlEndpoint"}]},Nm={[_]:ut,[B]:[{[se]:"UseS3ExpressControlEndpoint"},!0]},me={[_]:jn,[B]:[lt]},qi={[X]:"Unrecognized S3Express bucket name format.",[h]:X},Lm={[_]:jn,[B]:[oi]},Fm={[se]:Tg},Um={[x]:[me],[X]:"Expected a endpoint to be specified but no endpoint was found",[h]:X},$i={[qt]:[{[Bt]:!0,[dt]:Su,[At]:hi,[Cu]:["*"]},{[Bt]:!0,[dt]:"sigv4",[At]:hi,[Xt]:"{Region}"}]},Yc={[_]:ut,[B]:[{[se]:"ForcePathStyle"},!1]},Dw={[se]:"ForcePathStyle"},ft={[_]:ut,[B]:[{[se]:"Accelerate"},!1]},Ct={[_]:Pe,[B]:[{[se]:"Region"},"aws-global"]},wt={[qt]:[{[Bt]:!0,[dt]:"sigv4",[At]:_o,[Xt]:"us-east-1"}]},ke={[_]:jn,[B]:[Ct]},kt={[_]:ut,[B]:[{[se]:"UseGlobalEndpoint"},!0]},zm={[Q]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[Y]:{[qt]:[{[Bt]:!0,[dt]:"sigv4",[At]:_o,[Xt]:"{Region}"}]},[J]:{}},ht={[qt]:[{[Bt]:!0,[dt]:"sigv4",[At]:_o,[Xt]:"{Region}"}]},_t={[_]:ut,[B]:[{[se]:"UseGlobalEndpoint"},!1]},pe={[_]:ut,[B]:[{[se]:"UseDualStack"},!1]},qm={[Q]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[Y]:ht,[J]:{}},be={[_]:ut,[B]:[{[se]:"UseFIPS"},!1]},$m={[Q]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[Y]:ht,[J]:{}},jm={[Q]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[Y]:ht,[J]:{}},Jc={[_]:ut,[B]:[{[_]:st,[B]:[qg,"isIp"]},!1]},el={[Q]:Og,[Y]:ht,[J]:{}},md={[Q]:ja,[Y]:ht,[J]:{}},Hm={[M]:md,[h]:M},tl={[Q]:Mg,[Y]:ht,[J]:{}},Km={[Q]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[Y]:ht,[J]:{}},ji={[X]:"Invalid region: region was not a valid DNS name.",[h]:X},nn={[se]:Ng},Hg={[se]:Lg},nl={[_]:st,[B]:[nn,"service"]},wu={[se]:Eu},Gm={[x]:[qe],[X]:"S3 Object Lambda does not support Dual-stack",[h]:X},Vm={[x]:[xn],[X]:"S3 Object Lambda does not support S3 Accelerate",[h]:X},Wm={[x]:[{[_]:un,[B]:[{[se]:"DisableAccessPoints"}]},{[_]:ut,[B]:[{[se]:"DisableAccessPoints"},!0]}],[X]:"Access points are not supported for this operation",[h]:X},sl={[x]:[{[_]:un,[B]:[{[se]:"UseArnRegion"}]},{[_]:ut,[B]:[{[se]:"UseArnRegion"},!1]},{[_]:jn,[B]:[{[_]:Pe,[B]:[{[_]:st,[B]:[nn,"region"]},"{Region}"]}]}],[X]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[h]:X},Kg={[_]:st,[B]:[{[se]:"bucketPartition"},dt]},Gg={[_]:st,[B]:[nn,"accountId"]},rl={[qt]:[{[Bt]:!0,[dt]:"sigv4",[At]:pu,[Xt]:"{bucketArn#region}"}]},Xm={[X]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[h]:X},ol={[X]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[h]:X},il={[X]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[h]:X},al={[X]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[h]:X},Zm={[X]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[h]:X},Qm={[X]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[h]:X},ei={[qt]:[{[Bt]:!0,[dt]:"sigv4",[At]:_o,[Xt]:"{bucketArn#region}"}]},Ym={[qt]:[{[Bt]:!0,[dt]:Su,[At]:hi,[Cu]:["*"]},{[Bt]:!0,[dt]:"sigv4",[At]:hi,[Xt]:"{bucketArn#region}"}]},Jm={[_]:Dg,[B]:[ve]},eh={[Q]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Y]:ht,[J]:{}},th={[Q]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Y]:ht,[J]:{}},nh={[Q]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Y]:ht,[J]:{}},cl={[Q]:Ug,[Y]:ht,[J]:{}},sh={[Q]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Y]:ht,[J]:{}},rh={[se]:"UseObjectLambdaEndpoint"},ll={[qt]:[{[Bt]:!0,[dt]:"sigv4",[At]:pu,[Xt]:"{Region}"}]},oh={[Q]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[Y]:ht,[J]:{}},ih={[Q]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[Y]:ht,[J]:{}},ah={[Q]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[Y]:ht,[J]:{}},dl={[Q]:Yi,[Y]:ht,[J]:{}},ch={[Q]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[Y]:ht,[J]:{}},ul=[{[se]:"Region"}],Nw=[{[se]:"Endpoint"}],Lw=[ve],lh=[qe],fl=[xn],Tr=[lt,Vt],dh=[{[_]:un,[B]:[{[se]:"DisableS3ExpressSessionAuth"}]},{[_]:ut,[B]:[{[se]:"DisableS3ExpressSessionAuth"},!0]}],Fw=[$g],uh=[jg],Cn=[zg],Ir=[Ze],fh=[{[_]:$e,[B]:[ve,6,14,!0],[he]:"s3expressAvailabilityZoneId"},{[_]:$e,[B]:[ve,14,16,!0],[he]:"s3expressAvailabilityZoneDelim"},{[_]:Pe,[B]:[{[se]:"s3expressAvailabilityZoneDelim"},"--"]}],zn=[{[x]:[Ze],[M]:{[Q]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Y]:As,[J]:{}},[h]:M},{[M]:{[Q]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Y]:As,[J]:{}},[h]:M}],mh=[{[_]:$e,[B]:[ve,6,15,!0],[he]:"s3expressAvailabilityZoneId"},{[_]:$e,[B]:[ve,15,17,!0],[he]:"s3expressAvailabilityZoneDelim"},{[_]:Pe,[B]:[{[se]:"s3expressAvailabilityZoneDelim"},"--"]}],hh=[{[_]:$e,[B]:[ve,6,19,!0],[he]:"s3expressAvailabilityZoneId"},{[_]:$e,[B]:[ve,19,21,!0],[he]:"s3expressAvailabilityZoneDelim"},{[_]:Pe,[B]:[{[se]:"s3expressAvailabilityZoneDelim"},"--"]}],yh=[{[_]:$e,[B]:[ve,6,20,!0],[he]:"s3expressAvailabilityZoneId"},{[_]:$e,[B]:[ve,20,22,!0],[he]:"s3expressAvailabilityZoneDelim"},{[_]:Pe,[B]:[{[se]:"s3expressAvailabilityZoneDelim"},"--"]}],gh=[{[_]:$e,[B]:[ve,6,26,!0],[he]:"s3expressAvailabilityZoneId"},{[_]:$e,[B]:[ve,26,28,!0],[he]:"s3expressAvailabilityZoneDelim"},{[_]:Pe,[B]:[{[se]:"s3expressAvailabilityZoneDelim"},"--"]}],qn=[{[x]:[Ze],[M]:{[Q]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Y]:{[vs]:"S3Express",[qt]:[{[Bt]:!0,[dt]:"sigv4-s3express",[At]:"s3express",[Xt]:"{Region}"}]},[J]:{}},[h]:M},{[M]:{[Q]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Y]:{[vs]:"S3Express",[qt]:[{[Bt]:!0,[dt]:"sigv4-s3express",[At]:"s3express",[Xt]:"{Region}"}]},[J]:{}},[h]:M}],bh=[ve,0,7,!0],Ch=[{[_]:$e,[B]:[ve,7,15,!0],[he]:"s3expressAvailabilityZoneId"},{[_]:$e,[B]:[ve,15,17,!0],[he]:"s3expressAvailabilityZoneDelim"},{[_]:Pe,[B]:[{[se]:"s3expressAvailabilityZoneDelim"},"--"]}],xh=[{[_]:$e,[B]:[ve,7,16,!0],[he]:"s3expressAvailabilityZoneId"},{[_]:$e,[B]:[ve,16,18,!0],[he]:"s3expressAvailabilityZoneDelim"},{[_]:Pe,[B]:[{[se]:"s3expressAvailabilityZoneDelim"},"--"]}],Sh=[{[_]:$e,[B]:[ve,7,20,!0],[he]:"s3expressAvailabilityZoneId"},{[_]:$e,[B]:[ve,20,22,!0],[he]:"s3expressAvailabilityZoneDelim"},{[_]:Pe,[B]:[{[se]:"s3expressAvailabilityZoneDelim"},"--"]}],ph=[{[_]:$e,[B]:[ve,7,21,!0],[he]:"s3expressAvailabilityZoneId"},{[_]:$e,[B]:[ve,21,23,!0],[he]:"s3expressAvailabilityZoneDelim"},{[_]:Pe,[B]:[{[se]:"s3expressAvailabilityZoneDelim"},"--"]}],Eh=[{[_]:$e,[B]:[ve,7,27,!0],[he]:"s3expressAvailabilityZoneId"},{[_]:$e,[B]:[ve,27,29,!0],[he]:"s3expressAvailabilityZoneDelim"},{[_]:Pe,[B]:[{[se]:"s3expressAvailabilityZoneDelim"},"--"]}],Uw=[oi],wh=[{[_]:Sr,[B]:[{[se]:fd},!1]}],kh=[{[_]:Pe,[B]:[{[se]:Ig},"beta"]}],zw=["*"],_h=[{[_]:Sr,[B]:[{[se]:"Region"},!1]}],ss=[{[_]:Pe,[B]:[{[se]:"Region"},"us-east-1"]}],ml=[{[_]:Pe,[B]:[Hg,Fg]}],Bh=[{[_]:st,[B]:[nn,"resourceId[1]"],[he]:Eu},{[_]:jn,[B]:[{[_]:Pe,[B]:[wu,Ha]}]}],qw=[nn,"resourceId[1]"],hl=[{[_]:jn,[B]:[{[_]:Pe,[B]:[{[_]:st,[B]:[nn,"region"]},Ha]}]}],Ah=[{[_]:jn,[B]:[{[_]:un,[B]:[{[_]:st,[B]:[nn,"resourceId[2]"]}]}]}],$w=[nn,"resourceId[2]"],yl=[{[_]:qa,[B]:[{[_]:st,[B]:[nn,"region"]}],[he]:"bucketPartition"}],vh=[{[_]:Pe,[B]:[Kg,{[_]:st,[B]:[{[se]:"partitionResult"},dt]}]}],gl=[{[_]:Sr,[B]:[{[_]:st,[B]:[nn,"region"]},!0]}],bl=[{[_]:Sr,[B]:[Gg,!1]}],Ph=[{[_]:Sr,[B]:[wu,!1]}],Rh=[{[_]:Sr,[B]:[{[se]:"Region"},!0]}],jw={parameters:{Bucket:Pr,Region:Pr,UseFIPS:Rr,UseDualStack:Rr,Endpoint:Pr,ForcePathStyle:Rr,Accelerate:Rr,UseGlobalEndpoint:Rr,UseObjectLambdaEndpoint:Jo,Key:Pr,Prefix:Pr,CopySource:Pr,DisableAccessPoints:Jo,DisableMultiRegionAccessPoints:Rr,UseArnRegion:Jo,UseS3ExpressControlEndpoint:Jo,DisableS3ExpressSessionAuth:Jo},[P]:[{[x]:[{[_]:un,[B]:ul}],[P]:[{[x]:[xn,Ze],error:"Accelerate cannot be used with FIPS",[h]:X},{[x]:[qe,lt],error:"Cannot set dual-stack in combination with a custom endpoint.",[h]:X},{[x]:[lt,Ze],error:"A custom endpoint cannot be combined with FIPS",[h]:X},{[x]:[lt,xn],error:"A custom endpoint cannot be combined with S3 Accelerate",[h]:X},{[x]:[Ze,zg,Rm],error:"Partition does not support FIPS",[h]:X},{[x]:[oi,{[_]:$e,[B]:[ve,0,Ow,Un],[he]:Sm},{[_]:Pe,[B]:[{[se]:Sm},"--x-s3"]}],[P]:[Tm,Im,Om,{[x]:[Dm,Nm],[P]:[{[x]:Cn,[P]:[{[x]:[$g,me],[P]:[{[x]:Ir,endpoint:{[Q]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Y]:As,[J]:fe},[h]:M},{endpoint:{[Q]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Y]:As,[J]:fe},[h]:M}],[h]:R}],[h]:R}],[h]:R},{[x]:uh,[P]:[{[x]:Cn,[P]:[{[x]:dh,[P]:[{[x]:fh,[P]:zn,[h]:R},{[x]:mh,[P]:zn,[h]:R},{[x]:hh,[P]:zn,[h]:R},{[x]:yh,[P]:zn,[h]:R},{[x]:gh,[P]:zn,[h]:R},qi],[h]:R},{[x]:fh,[P]:qn,[h]:R},{[x]:mh,[P]:qn,[h]:R},{[x]:hh,[P]:qn,[h]:R},{[x]:yh,[P]:qn,[h]:R},{[x]:gh,[P]:qn,[h]:R},qi],[h]:R}],[h]:R},Mm],[h]:R},{[x]:[oi,{[_]:$e,[B]:bh,[he]:pm},{[_]:Pe,[B]:[{[se]:pm},"--xa-s3"]}],[P]:[Tm,Im,Om,{[x]:uh,[P]:[{[x]:Cn,[P]:[{[x]:dh,[P]:[{[x]:Ch,[P]:zn,[h]:R},{[x]:xh,[P]:zn,[h]:R},{[x]:Sh,[P]:zn,[h]:R},{[x]:ph,[P]:zn,[h]:R},{[x]:Eh,[P]:zn,[h]:R},qi],[h]:R},{[x]:Ch,[P]:qn,[h]:R},{[x]:xh,[P]:qn,[h]:R},{[x]:Sh,[P]:qn,[h]:R},{[x]:ph,[P]:qn,[h]:R},{[x]:Eh,[P]:qn,[h]:R},qi],[h]:R}],[h]:R},Mm],[h]:R},{[x]:[Lm,Dm,Nm],[P]:[{[x]:Cn,[P]:[{[x]:Tr,endpoint:{[Q]:Yi,[Y]:As,[J]:fe},[h]:M},{[x]:Ir,endpoint:{[Q]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}",[Y]:As,[J]:fe},[h]:M},{endpoint:{[Q]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}",[Y]:As,[J]:fe},[h]:M}],[h]:R}],[h]:R},{[x]:[oi,{[_]:$e,[B]:[ve,49,50,Un],[he]:Tg},{[_]:$e,[B]:[ve,8,12,Un],[he]:Ig},{[_]:$e,[B]:bh,[he]:Em},{[_]:$e,[B]:[ve,32,49,Un],[he]:fd},{[_]:qa,[B]:ul,[he]:"regionPartition"},{[_]:Pe,[B]:[{[se]:Em},"--op-s3"]}],[P]:[{[x]:wh,[P]:[{[x]:[{[_]:Pe,[B]:[Fm,"e"]}],[P]:[{[x]:kh,[P]:[Um,{[x]:Tr,endpoint:{[Q]:"https://{Bucket}.ec2.{url#authority}",[Y]:$i,[J]:fe},[h]:M}],[h]:R},{endpoint:{[Q]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[Y]:$i,[J]:fe},[h]:M}],[h]:R},{[x]:[{[_]:Pe,[B]:[Fm,"o"]}],[P]:[{[x]:kh,[P]:[Um,{[x]:Tr,endpoint:{[Q]:"https://{Bucket}.op-{outpostId}.{url#authority}",[Y]:$i,[J]:fe},[h]:M}],[h]:R},{endpoint:{[Q]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[Y]:$i,[J]:fe},[h]:M}],[h]:R},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[h]:X}],[h]:R},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[h]:X}],[h]:R},{[x]:Uw,[P]:[{[x]:[lt,{[_]:jn,[B]:[{[_]:un,[B]:[{[_]:xu,[B]:Nw}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[h]:X},{[x]:[Yc,jg],[P]:[{[x]:Cn,[P]:[{[x]:_h,[P]:[{[x]:[xn,Rm],error:"S3 Accelerate cannot be used in this region",[h]:X},{[x]:[qe,Ze,ft,me,Ct],endpoint:{[Q]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Y]:wt,[J]:fe},[h]:M},{[x]:[qe,Ze,ft,me,ke,kt],[P]:[{endpoint:zm,[h]:M}],[h]:R},{[x]:[qe,Ze,ft,me,ke,_t],endpoint:zm,[h]:M},{[x]:[pe,Ze,ft,me,Ct],endpoint:{[Q]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[Y]:wt,[J]:fe},[h]:M},{[x]:[pe,Ze,ft,me,ke,kt],[P]:[{endpoint:qm,[h]:M}],[h]:R},{[x]:[pe,Ze,ft,me,ke,_t],endpoint:qm,[h]:M},{[x]:[qe,be,xn,me,Ct],endpoint:{[Q]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Y]:wt,[J]:fe},[h]:M},{[x]:[qe,be,xn,me,ke,kt],[P]:[{endpoint:$m,[h]:M}],[h]:R},{[x]:[qe,be,xn,me,ke,_t],endpoint:$m,[h]:M},{[x]:[qe,be,ft,me,Ct],endpoint:{[Q]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Y]:wt,[J]:fe},[h]:M},{[x]:[qe,be,ft,me,ke,kt],[P]:[{endpoint:jm,[h]:M}],[h]:R},{[x]:[qe,be,ft,me,ke,_t],endpoint:jm,[h]:M},{[x]:[pe,be,ft,lt,Vt,Qc,Ct],endpoint:{[Q]:Og,[Y]:wt,[J]:fe},[h]:M},{[x]:[pe,be,ft,lt,Vt,Jc,Ct],endpoint:{[Q]:ja,[Y]:wt,[J]:fe},[h]:M},{[x]:[pe,be,ft,lt,Vt,Qc,ke,kt],[P]:[{[x]:ss,endpoint:el,[h]:M},{endpoint:el,[h]:M}],[h]:R},{[x]:[pe,be,ft,lt,Vt,Jc,ke,kt],[P]:[{[x]:ss,endpoint:md,[h]:M},Hm],[h]:R},{[x]:[pe,be,ft,lt,Vt,Qc,ke,_t],endpoint:el,[h]:M},{[x]:[pe,be,ft,lt,Vt,Jc,ke,_t],endpoint:md,[h]:M},{[x]:[pe,be,xn,me,Ct],endpoint:{[Q]:Mg,[Y]:wt,[J]:fe},[h]:M},{[x]:[pe,be,xn,me,ke,kt],[P]:[{[x]:ss,endpoint:tl,[h]:M},{endpoint:tl,[h]:M}],[h]:R},{[x]:[pe,be,xn,me,ke,_t],endpoint:tl,[h]:M},{[x]:[pe,be,ft,me,Ct],endpoint:{[Q]:wm,[Y]:wt,[J]:fe},[h]:M},{[x]:[pe,be,ft,me,ke,kt],[P]:[{[x]:ss,endpoint:{[Q]:wm,[Y]:ht,[J]:fe},[h]:M},{endpoint:Km,[h]:M}],[h]:R},{[x]:[pe,be,ft,me,ke,_t],endpoint:Km,[h]:M}],[h]:R},ji],[h]:R}],[h]:R},{[x]:[lt,Vt,{[_]:Pe,[B]:[{[_]:st,[B]:[qg,"scheme"]},"http"]},{[_]:$a,[B]:[ve,Un]},Yc,be,pe,ft],[P]:[{[x]:Cn,[P]:[{[x]:_h,[P]:[Hm],[h]:R},ji],[h]:R}],[h]:R},{[x]:[Yc,{[_]:Dg,[B]:Lw,[he]:Ng}],[P]:[{[x]:[{[_]:st,[B]:[nn,"resourceId[0]"],[he]:Lg},{[_]:jn,[B]:[{[_]:Pe,[B]:[Hg,Ha]}]}],[P]:[{[x]:[{[_]:Pe,[B]:[nl,pu]}],[P]:[{[x]:ml,[P]:[{[x]:Bh,[P]:[Gm,Vm,{[x]:hl,[P]:[Wm,{[x]:Ah,[P]:[sl,{[x]:yl,[P]:[{[x]:Cn,[P]:[{[x]:vh,[P]:[{[x]:gl,[P]:[{[x]:[{[_]:Pe,[B]:[Gg,Ha]}],error:"Invalid ARN: Missing account id",[h]:X},{[x]:bl,[P]:[{[x]:Ph,[P]:[{[x]:Tr,endpoint:{[Q]:km,[Y]:rl,[J]:fe},[h]:M},{[x]:Ir,endpoint:{[Q]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Y]:rl,[J]:fe},[h]:M},{endpoint:{[Q]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Y]:rl,[J]:fe},[h]:M}],[h]:R},Xm],[h]:R},ol],[h]:R},il],[h]:R},al],[h]:R}],[h]:R}],[h]:R},Zm],[h]:R},{error:"Invalid ARN: bucket ARN is missing a region",[h]:X}],[h]:R},Qm],[h]:R},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[h]:X}],[h]:R},{[x]:ml,[P]:[{[x]:Bh,[P]:[{[x]:hl,[P]:[{[x]:ml,[P]:[{[x]:hl,[P]:[Wm,{[x]:Ah,[P]:[sl,{[x]:yl,[P]:[{[x]:Cn,[P]:[{[x]:[{[_]:Pe,[B]:[Kg,"{partitionResult#name}"]}],[P]:[{[x]:gl,[P]:[{[x]:[{[_]:Pe,[B]:[nl,_o]}],[P]:[{[x]:bl,[P]:[{[x]:Ph,[P]:[{[x]:fl,error:"Access Points do not support S3 Accelerate",[h]:X},{[x]:[Ze,qe],endpoint:{[Q]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Y]:ei,[J]:fe},[h]:M},{[x]:[Ze,pe],endpoint:{[Q]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Y]:ei,[J]:fe},[h]:M},{[x]:[be,qe],endpoint:{[Q]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Y]:ei,[J]:fe},[h]:M},{[x]:[be,pe,lt,Vt],endpoint:{[Q]:km,[Y]:ei,[J]:fe},[h]:M},{[x]:[be,pe],endpoint:{[Q]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Y]:ei,[J]:fe},[h]:M}],[h]:R},Xm],[h]:R},ol],[h]:R},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[h]:X}],[h]:R},il],[h]:R},al],[h]:R}],[h]:R}],[h]:R},Zm],[h]:R}],[h]:R}],[h]:R},{[x]:[{[_]:Sr,[B]:[wu,Un]}],[P]:[{[x]:lh,error:"S3 MRAP does not support dual-stack",[h]:X},{[x]:Ir,error:"S3 MRAP does not support FIPS",[h]:X},{[x]:fl,error:"S3 MRAP does not support S3 Accelerate",[h]:X},{[x]:[{[_]:ut,[B]:[{[se]:"DisableMultiRegionAccessPoints"},Un]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[h]:X},{[x]:[{[_]:qa,[B]:ul,[he]:_m}],[P]:[{[x]:[{[_]:Pe,[B]:[{[_]:st,[B]:[{[se]:_m},dt]},{[_]:st,[B]:[nn,"partition"]}]}],[P]:[{endpoint:{[Q]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[Y]:{[qt]:[{[Bt]:Un,name:Su,[At]:_o,[Cu]:zw}]},[J]:fe},[h]:M}],[h]:R},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[h]:X}],[h]:R}],[h]:R},{error:"Invalid Access Point Name",[h]:X}],[h]:R},Qm],[h]:R},{[x]:[{[_]:Pe,[B]:[nl,hi]}],[P]:[{[x]:lh,error:"S3 Outposts does not support Dual-stack",[h]:X},{[x]:Ir,error:"S3 Outposts does not support FIPS",[h]:X},{[x]:fl,error:"S3 Outposts does not support S3 Accelerate",[h]:X},{[x]:[{[_]:un,[B]:[{[_]:st,[B]:[nn,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[h]:X},{[x]:[{[_]:st,[B]:qw,[he]:fd}],[P]:[{[x]:wh,[P]:[sl,{[x]:yl,[P]:[{[x]:Cn,[P]:[{[x]:vh,[P]:[{[x]:gl,[P]:[{[x]:bl,[P]:[{[x]:[{[_]:st,[B]:$w,[he]:Bm}],[P]:[{[x]:[{[_]:st,[B]:[nn,"resourceId[3]"],[he]:Eu}],[P]:[{[x]:[{[_]:Pe,[B]:[{[se]:Bm},Fg]}],[P]:[{[x]:Tr,endpoint:{[Q]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[Y]:Ym,[J]:fe},[h]:M},{endpoint:{[Q]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Y]:Ym,[J]:fe},[h]:M}],[h]:R},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[h]:X}],[h]:R},{error:"Invalid ARN: expected an access point name",[h]:X}],[h]:R},{error:"Invalid ARN: Expected a 4-component resource",[h]:X}],[h]:R},ol],[h]:R},il],[h]:R},al],[h]:R}],[h]:R}],[h]:R},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[h]:X}],[h]:R},{error:"Invalid ARN: The Outpost Id was not set",[h]:X}],[h]:R},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[h]:X}],[h]:R},{error:"Invalid ARN: No ARN type specified",[h]:X}],[h]:R},{[x]:[{[_]:$e,[B]:[ve,0,4,Mw],[he]:Am},{[_]:Pe,[B]:[{[se]:Am},"arn:"]},{[_]:jn,[B]:[{[_]:un,[B]:[Jm]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[h]:X},{[x]:[{[_]:ut,[B]:[Dw,Un]},Jm],error:"Path-style addressing cannot be used with ARN buckets",[h]:X},{[x]:Fw,[P]:[{[x]:Cn,[P]:[{[x]:[ft],[P]:[{[x]:[qe,me,Ze,Ct],endpoint:{[Q]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Y]:wt,[J]:fe},[h]:M},{[x]:[qe,me,Ze,ke,kt],[P]:[{endpoint:eh,[h]:M}],[h]:R},{[x]:[qe,me,Ze,ke,_t],endpoint:eh,[h]:M},{[x]:[pe,me,Ze,Ct],endpoint:{[Q]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Y]:wt,[J]:fe},[h]:M},{[x]:[pe,me,Ze,ke,kt],[P]:[{endpoint:th,[h]:M}],[h]:R},{[x]:[pe,me,Ze,ke,_t],endpoint:th,[h]:M},{[x]:[qe,me,be,Ct],endpoint:{[Q]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Y]:wt,[J]:fe},[h]:M},{[x]:[qe,me,be,ke,kt],[P]:[{endpoint:nh,[h]:M}],[h]:R},{[x]:[qe,me,be,ke,_t],endpoint:nh,[h]:M},{[x]:[pe,lt,Vt,be,Ct],endpoint:{[Q]:Ug,[Y]:wt,[J]:fe},[h]:M},{[x]:[pe,lt,Vt,be,ke,kt],[P]:[{[x]:ss,endpoint:cl,[h]:M},{endpoint:cl,[h]:M}],[h]:R},{[x]:[pe,lt,Vt,be,ke,_t],endpoint:cl,[h]:M},{[x]:[pe,me,be,Ct],endpoint:{[Q]:vm,[Y]:wt,[J]:fe},[h]:M},{[x]:[pe,me,be,ke,kt],[P]:[{[x]:ss,endpoint:{[Q]:vm,[Y]:ht,[J]:fe},[h]:M},{endpoint:sh,[h]:M}],[h]:R},{[x]:[pe,me,be,ke,_t],endpoint:sh,[h]:M}],[h]:R},{error:"Path-style addressing cannot be used with S3 Accelerate",[h]:X}],[h]:R}],[h]:R}],[h]:R},{[x]:[{[_]:un,[B]:[rh]},{[_]:ut,[B]:[rh,Un]}],[P]:[{[x]:Cn,[P]:[{[x]:Rh,[P]:[Gm,Vm,{[x]:Tr,endpoint:{[Q]:Yi,[Y]:ll,[J]:fe},[h]:M},{[x]:Ir,endpoint:{[Q]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[Y]:ll,[J]:fe},[h]:M},{endpoint:{[Q]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[Y]:ll,[J]:fe},[h]:M}],[h]:R},ji],[h]:R}],[h]:R},{[x]:[Lm],[P]:[{[x]:Cn,[P]:[{[x]:Rh,[P]:[{[x]:[Ze,qe,me,Ct],endpoint:{[Q]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Y]:wt,[J]:fe},[h]:M},{[x]:[Ze,qe,me,ke,kt],[P]:[{endpoint:oh,[h]:M}],[h]:R},{[x]:[Ze,qe,me,ke,_t],endpoint:oh,[h]:M},{[x]:[Ze,pe,me,Ct],endpoint:{[Q]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[Y]:wt,[J]:fe},[h]:M},{[x]:[Ze,pe,me,ke,kt],[P]:[{endpoint:ih,[h]:M}],[h]:R},{[x]:[Ze,pe,me,ke,_t],endpoint:ih,[h]:M},{[x]:[be,qe,me,Ct],endpoint:{[Q]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Y]:wt,[J]:fe},[h]:M},{[x]:[be,qe,me,ke,kt],[P]:[{endpoint:ah,[h]:M}],[h]:R},{[x]:[be,qe,me,ke,_t],endpoint:ah,[h]:M},{[x]:[be,pe,lt,Vt,Ct],endpoint:{[Q]:Yi,[Y]:wt,[J]:fe},[h]:M},{[x]:[be,pe,lt,Vt,ke,kt],[P]:[{[x]:ss,endpoint:dl,[h]:M},{endpoint:dl,[h]:M}],[h]:R},{[x]:[be,pe,lt,Vt,ke,_t],endpoint:dl,[h]:M},{[x]:[be,pe,me,Ct],endpoint:{[Q]:Pm,[Y]:wt,[J]:fe},[h]:M},{[x]:[be,pe,me,ke,kt],[P]:[{[x]:ss,endpoint:{[Q]:Pm,[Y]:ht,[J]:fe},[h]:M},{endpoint:ch,[h]:M}],[h]:R},{[x]:[be,pe,me,ke,_t],endpoint:ch,[h]:M}],[h]:R},ji],[h]:R}],[h]:R}],[h]:R},{error:"A region must be set when sending requests to S3.",[h]:X}]},Hw=jw,Kw=new nE({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),Vg=(e,n={})=>Kw.get(e,()=>pE(Hw,{endpointParams:e,logger:n.logger}));Fa.aws=wg;const Gw=e=>async(n,t,s)=>{var a,l,c;if(!s)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");const r=await e(n,t,s),o=(c=(l=(a=Ro(t))==null?void 0:a.commandInstance)==null?void 0:l.constructor)==null?void 0:c.getEndpointParameterInstructions;if(!o)throw new Error(`getEndpointParameterInstructions() is not defined on \`${t.commandName}\``);const i=await Ag(s,{getEndpointParameterInstructions:o},n);return Object.assign(r,i)},Vw=async(e,n,t)=>({operation:Ro(n).operation,region:await On(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),Ww=Gw(Vw);function Wg(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(n,t)=>({signingProperties:{config:n,context:t}})}}function Xg(e){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(n,t)=>({signingProperties:{config:n,context:t}})}}const Xw=(e,n,t)=>r=>{var l;const i=(l=e(r).properties)==null?void 0:l.authSchemes;if(!i)return n(r);const a=[];for(const c of i){const{name:d,properties:f={},...m}=c,g=d.toLowerCase();d!==g&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${d}\` to \`${g}\``);let k;if(g==="sigv4a"){if(k="aws.auth#sigv4a",i.find(p=>{const D=p.name.toLowerCase();return D!=="sigv4a"&&D.startsWith("sigv4")}))continue}else if(g.startsWith("sigv4"))k="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${g}\``);const v=t[k];if(!v)throw new Error(`Could not find HttpAuthOption create function for \`${k}\``);const w=v(r);w.schemeId=k,w.signingProperties={...w.signingProperties||{},...m,...f},a.push(w)}return a},Zw=e=>{const n=[];switch(e.operation){default:n.push(Wg(e)),n.push(Xg(e))}return n},Qw=Xw(Vg,Zw,{"aws.auth#sigv4":Wg,"aws.auth#sigv4a":Xg}),Yw=e=>{const n=Fx(e),t=fx(n);return Object.assign(t,{authSchemePreference:On(e.authSchemePreference??[])})},Jw=e=>Object.assign(e,{useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),q={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class Kt extends Nr{constructor(n){super(n),Object.setPrototypeOf(this,Kt.prototype)}}class ku extends Kt{constructor(t){super({name:"NoSuchUpload",$fault:"client",...t});te(this,"name","NoSuchUpload");te(this,"$fault","client");Object.setPrototypeOf(this,ku.prototype)}}const ek={CRC32:"CRC32"};class _u extends Kt{constructor(t){super({name:"ObjectNotInActiveTierError",$fault:"client",...t});te(this,"name","ObjectNotInActiveTierError");te(this,"$fault","client");Object.setPrototypeOf(this,_u.prototype)}}class Bu extends Kt{constructor(t){super({name:"BucketAlreadyExists",$fault:"client",...t});te(this,"name","BucketAlreadyExists");te(this,"$fault","client");Object.setPrototypeOf(this,Bu.prototype)}}class Au extends Kt{constructor(t){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...t});te(this,"name","BucketAlreadyOwnedByYou");te(this,"$fault","client");Object.setPrototypeOf(this,Au.prototype)}}class vu extends Kt{constructor(t){super({name:"NoSuchBucket",$fault:"client",...t});te(this,"name","NoSuchBucket");te(this,"$fault","client");Object.setPrototypeOf(this,vu.prototype)}}var hd;(function(e){e.visit=(n,t)=>n.Prefix!==void 0?t.Prefix(n.Prefix):n.Tag!==void 0?t.Tag(n.Tag):n.And!==void 0?t.And(n.And):t._(n.$unknown[0],n.$unknown[1])})(hd||(hd={}));var yd;(function(e){e.visit=(n,t)=>n.Prefix!==void 0?t.Prefix(n.Prefix):n.Tag!==void 0?t.Tag(n.Tag):n.AccessPointArn!==void 0?t.AccessPointArn(n.AccessPointArn):n.And!==void 0?t.And(n.And):t._(n.$unknown[0],n.$unknown[1])})(yd||(yd={}));class Pu extends Kt{constructor(t){super({name:"InvalidObjectState",$fault:"client",...t});te(this,"name","InvalidObjectState");te(this,"$fault","client");te(this,"StorageClass");te(this,"AccessTier");Object.setPrototypeOf(this,Pu.prototype),this.StorageClass=t.StorageClass,this.AccessTier=t.AccessTier}}class Ru extends Kt{constructor(t){super({name:"NoSuchKey",$fault:"client",...t});te(this,"name","NoSuchKey");te(this,"$fault","client");Object.setPrototypeOf(this,Ru.prototype)}}class Tu extends Kt{constructor(t){super({name:"NotFound",$fault:"client",...t});te(this,"name","NotFound");te(this,"$fault","client");Object.setPrototypeOf(this,Tu.prototype)}}const tk=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Ce}}),nk=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Ce}}),sk=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Ce},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ce}}),rk=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Ce},...e.SSEKMSKeyId&&{SSEKMSKeyId:Ce},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ce},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:Ce}}),ok=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Ce},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ce}}),ik=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Ce},...e.SSEKMSKeyId&&{SSEKMSKeyId:Ce},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ce}}),ak=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Ce},...e.SessionToken&&{SessionToken:Ce}}),ck=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Ce},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ce},...e.Credentials&&{Credentials:ak(e.Credentials)}}),lk=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Ce},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ce}}),dk=e=>({...e,...e.KMSMasterKeyID&&{KMSMasterKeyID:Ce}}),uk=e=>({...e,...e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:dk(e.ApplyServerSideEncryptionByDefault)}}),Zg=e=>({...e,...e.Rules&&{Rules:e.Rules.map(n=>uk(n))}}),fk=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:Zg(e.ServerSideEncryptionConfiguration)}}),mk=e=>({...e,...e.KeyId&&{KeyId:Ce}}),hk=e=>({...e,...e.SSEKMS&&{SSEKMS:mk(e.SSEKMS)}}),yk=e=>({...e,...e.Encryption&&{Encryption:hk(e.Encryption)}}),gk=e=>({...e,...e.S3BucketDestination&&{S3BucketDestination:yk(e.S3BucketDestination)}}),Iu=e=>({...e,...e.Destination&&{Destination:gk(e.Destination)}}),bk=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:Iu(e.InventoryConfiguration)}}),Ck=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Ce}}),xk=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Ce}}),Sk=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Ce}}),pk=e=>({...e}),Ek=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Ce}}),wk=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Ce}}),kk=e=>({...e,...e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map(n=>Iu(n))}}),_k=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Ce}});function Bk(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function Ak(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}class Ou{constructor(n){te(this,"value");this.value=n}toString(){return Ak(""+this.value)}}class b{constructor(n,t=[]){te(this,"name");te(this,"children");te(this,"attributes",{});this.name=n,this.children=t}static of(n,t,s){const r=new b(n);return t!==void 0&&r.addChildNode(new Ou(t)),s!==void 0&&r.withName(s),r}withName(n){return this.name=n,this}addAttribute(n,t){return this.attributes[n]=t,this}addChildNode(n){return this.children.push(n),this}removeAttribute(n){return delete this.attributes[n],this}n(n){return this.name=n,this}c(n){return this.children.push(n),this}a(n,t){return t!=null&&(this.attributes[n]=t),this}cc(n,t,s=t){if(n[t]!=null){const r=b.of(t,n[t]).withName(s);this.c(r)}}l(n,t,s,r){n[t]!=null&&r().map(i=>{i.withName(s),this.c(i)})}lc(n,t,s,r){if(n[t]!=null){const o=r(),i=new b(s);o.map(a=>{i.c(a)}),this.c(i)}}toString(){const n=!!this.children.length;let t=`<${this.name}`;const s=this.attributes;for(const r of Object.keys(s)){const o=s[r];o!=null&&(t+=` ${r}="${Bk(""+o)}"`)}return t+=n?`>${this.children.map(r=>r.toString()).join("")}</${this.name}>`:"/>"}}class Mu extends Kt{constructor(t){super({name:"EncryptionTypeMismatch",$fault:"client",...t});te(this,"name","EncryptionTypeMismatch");te(this,"$fault","client");Object.setPrototypeOf(this,Mu.prototype)}}class Du extends Kt{constructor(t){super({name:"InvalidRequest",$fault:"client",...t});te(this,"name","InvalidRequest");te(this,"$fault","client");Object.setPrototypeOf(this,Du.prototype)}}class Nu extends Kt{constructor(t){super({name:"InvalidWriteOffset",$fault:"client",...t});te(this,"name","InvalidWriteOffset");te(this,"$fault","client");Object.setPrototypeOf(this,Nu.prototype)}}class Lu extends Kt{constructor(t){super({name:"TooManyParts",$fault:"client",...t});te(this,"name","TooManyParts");te(this,"$fault","client");Object.setPrototypeOf(this,Lu.prototype)}}class Fu extends Kt{constructor(t){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...t});te(this,"name","ObjectAlreadyInActiveTierError");te(this,"$fault","client");Object.setPrototypeOf(this,Fu.prototype)}}var Th;(function(e){e.visit=(n,t)=>n.Records!==void 0?t.Records(n.Records):n.Stats!==void 0?t.Stats(n.Stats):n.Progress!==void 0?t.Progress(n.Progress):n.Cont!==void 0?t.Cont(n.Cont):n.End!==void 0?t.End(n.End):t._(n.$unknown[0],n.$unknown[1])})(Th||(Th={}));const vk=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:Zg(e.ServerSideEncryptionConfiguration)}}),Pk=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:Iu(e.InventoryConfiguration)}}),Rk=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Ce},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ce}}),Tk=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Ce},...e.SSEKMSKeyId&&{SSEKMSKeyId:Ce},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ce}}),Ik=e=>({...e,...e.KMSKeyId&&{KMSKeyId:Ce}}),Ok=e=>({...e,...e.Encryption&&{Encryption:Ik(e.Encryption)}}),Mk=e=>({...e,...e.S3&&{S3:Ok(e.S3)}}),Dk=e=>({...e,...e.OutputLocation&&{OutputLocation:Mk(e.OutputLocation)}}),Nk=e=>({...e,...e.RestoreRequest&&{RestoreRequest:Dk(e.RestoreRequest)}}),Lk=e=>({...e,...e.Payload&&{Payload:"STREAMING_CONTENT"}}),Fk=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Ce}}),Uk=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Ce}}),zk=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Ce}}),qk=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Ce}}),$k=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Ce},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:Ce}}),jk=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Ce}}),Hk=async(e,n)=>{const t=U(e,n),s=u({},A,{[De]:e[Oe],[K]:e[H],[s2]:[()=>A(e[Fh]),()=>Pt(e[Fh]).toString()]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[It]:[,"AbortMultipartUpload"],[Pi]:[,ee(e[an],"UploadId")]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},Kk=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[kr]:e[He],[_r]:e[Ke],[Br]:e[Ge],[Ar]:e[Ve],[vr]:e[We],[Wo]:e[Xe],[a2]:[()=>A(e[jh]),()=>e[jh].toString()],[De]:e[Oe],[K]:e[H],[Ai]:e[Si],[xc]:e[fc],[Rt]:e[St],[Ln]:e[Nn],[Tt]:e[pt]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[Pi]:[,ee(e[an],"UploadId")]});let o,i;return e.MultipartUpload!==void 0&&(i=rP(e.MultipartUpload),i=i.n("CompleteMultipartUpload"),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("POST").h(s).q(r).b(o),t.build()},Gk=async(e,n)=>{const t=U(e,n),s=u({},A,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((i,a)=>(i[`x-amz-meta-${a.toLowerCase()}`]=e.Metadata[a],i),{}),[Vo]:e[Do],[Ei]:e[No],[ff]:e[xe],[wi]:e[Lo],[ki]:e[Fo],[_i]:e[Uo],[Bi]:e[zo],[xC]:e[Cb],[SC]:e[xb],[pC]:[()=>A(e[Ka]),()=>Pt(e[Ka]).toString()],[EC]:e[Sb],[wC]:[()=>A(e[Ga]),()=>Pt(e[Ga]).toString()],[br]:[()=>A(e[Gn]),()=>Pt(e[Gn]).toString()],[Xo]:e[qo],[Zo]:e[$o],[Qo]:e[jo],[Yo]:e[Ho],[i2]:e[HO],[g2]:e[z1],[yn]:e[Gt],[Oi]:e[ge],[Mi]:e[pi],[Rt]:e[St],[Ln]:e[Nn],[Tt]:e[pt],[gn]:e[Dt],[ws]:e[Es],[at]:[()=>A(e[Qe]),()=>e[Qe].toString()],[kC]:e[pb],[_C]:e[Eb],[BC]:e[wb],[De]:e[Oe],[gf]:e[fr],[Ii]:e[Ko],[Cr]:[()=>A(e[Vn]),()=>xr(e[Vn]).toString()],[Ti]:e[Er],[K]:e[H],[RC]:e[Bb]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[It]:[,"CopyObject"]});return t.m("PUT").h(s).q(r).b(void 0),t.build()},Vk=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[Vo]:e[Do],[Xo]:e[qo],[Zo]:e[$o],[Qo]:e[jo],[mf]:e[Gu],[Yo]:e[Ho],[gM]:[()=>A(e[Kh]),()=>e[Kh].toString()],[d2]:e[ci]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let r,o;return e.CreateBucketConfiguration!==void 0&&(o=uP(e.CreateBucketConfiguration),r=Me,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),r+=o.toString()),t.m("PUT").h(s).b(r),t.build()},Wk=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[bt]:e[gt],[it]:e[xe],[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[sf]:[,""]});let o,i;return e.MetadataTableConfiguration!==void 0&&(i=QP(e.MetadataTableConfiguration),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("POST").h(s).q(r).b(o),t.build()},Xk=async(e,n)=>{const t=U(e,n),s=u({},A,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((i,a)=>(i[`x-amz-meta-${a.toLowerCase()}`]=e.Metadata[a],i),{}),[Vo]:e[Do],[Ei]:e[No],[wi]:e[Lo],[ki]:e[Fo],[_i]:e[Uo],[Bi]:e[zo],[br]:[()=>A(e[Gn]),()=>Pt(e[Gn]).toString()],[Xo]:e[qo],[Zo]:e[$o],[Qo]:e[jo],[Yo]:e[Ho],[yn]:e[Gt],[Oi]:e[ge],[Mi]:e[pi],[Rt]:e[St],[Ln]:e[Nn],[Tt]:e[pt],[gn]:e[Dt],[ws]:e[Es],[at]:[()=>A(e[Qe]),()=>e[Qe].toString()],[De]:e[Oe],[gf]:e[fr],[Ii]:e[Ko],[Cr]:[()=>A(e[Vn]),()=>xr(e[Vn]).toString()],[Ti]:e[Er],[K]:e[H],[ff]:e[xe],[Wo]:e[Xe]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[hC]:[,""]});return t.m("POST").h(s).q(r).b(void 0),t.build()},Zk=async(e,n)=>{const t=U(e,n),s=u({},A,{[xM]:e[O1],[yn]:e[Gt],[gn]:e[Dt],[ws]:e[Es],[at]:[()=>A(e[Qe]),()=>e[Qe].toString()]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[oM]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},Qk=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});return t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.m("DELETE").h(s).b(void 0),t.build()},Yk=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[mc]:[,""],[Rn]:[,ee(e[ie],"Id")]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},Jk=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[ef]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},e_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[tf]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},t_=async(e,n)=>{const t=U(e,n),s={};t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Sc]:[,""],[Rn]:[,ee(e[ie],"Id")]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},n_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Cc]:[,""],[Rn]:[,ee(e[ie],"Id")]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},s_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[nf]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},r_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[sf]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},o_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[pc]:[,""],[Rn]:[,ee(e[ie],"Id")]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},i_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[of]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},a_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[af]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},c_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[lf]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},l_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Go]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},d_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[df]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},u_=async(e,n)=>{const t=U(e,n),s=u({},A,{[hf]:e[Vu],[De]:e[Oe],[uf]:[()=>A(e[Bo]),()=>e[Bo].toString()],[K]:e[H],[Ai]:e[Si],[r2]:[()=>A(e[Uh]),()=>Pt(e[Uh]).toString()],[o2]:[()=>A(e[zh]),()=>e[zh].toString()]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[It]:[,"DeleteObject"],[ln]:[,e[Se]]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},f_=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[hf]:e[Vu],[De]:e[Oe],[uf]:[()=>A(e[Bo]),()=>e[Bo].toString()],[K]:e[H],[it]:e[xe]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[W1]:[,""]});let o,i;return e.Delete!==void 0&&(i=yP(e.Delete),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("POST").h(s).q(r).b(o),t.build()},m_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[Go]:[,""],[ln]:[,e[Se]]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},h_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[cf]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},y_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H],[De]:e[Oe]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Vb]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},g_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[hc]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},b_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[mc]:[,""],[It]:[,"GetBucketAnalyticsConfiguration"],[Rn]:[,ee(e[ie],"Id")]});return t.m("GET").h(s).q(r).b(void 0),t.build()},C_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[ef]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},x_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[tf]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},S_=async(e,n)=>{const t=U(e,n),s={};t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Sc]:[,""],[It]:[,"GetBucketIntelligentTieringConfiguration"],[Rn]:[,ee(e[ie],"Id")]});return t.m("GET").h(s).q(r).b(void 0),t.build()},p_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Cc]:[,""],[It]:[,"GetBucketInventoryConfiguration"],[Rn]:[,ee(e[ie],"Id")]});return t.m("GET").h(s).q(r).b(void 0),t.build()},E_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[nf]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},w_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[tC]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},k_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[nC]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},__=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[sf]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},B_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[pc]:[,""],[It]:[,"GetBucketMetricsConfiguration"],[Rn]:[,ee(e[ie],"Id")]});return t.m("GET").h(s).q(r).b(void 0),t.build()},A_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[sC]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},v_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[of]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},P_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[af]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},R_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[nM]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},T_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[lf]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},I_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[oC]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},O_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Go]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},M_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[yC]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},D_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[df]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},N_=async(e,n)=>{const t=U(e,n),s=u({},A,{[Ai]:e[Si],[Qb]:[()=>A(e[Va]),()=>Pt(e[Va]).toString()],[xc]:e[fc],[Yb]:[()=>A(e[Wa]),()=>Pt(e[Wa]).toString()],[iC]:e[Nb],[Rt]:e[St],[Ln]:e[Nn],[Tt]:e[pt],[De]:e[Oe],[K]:e[H],[CC]:e[bb]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[It]:[,"GetObject"],[aC]:[,e[Lb]],[cC]:[,e[Fb]],[lC]:[,e[Ub]],[dC]:[,e[zb]],[uC]:[,e[qb]],[fC]:[()=>e.ResponseExpires!==void 0,()=>Pt(e[$b]).toString()],[ln]:[,e[Se]],[Ec]:[()=>e.PartNumber!==void 0,()=>e[sn].toString()]});return t.m("GET").h(s).q(r).b(void 0),t.build()},L_=async(e,n)=>{const t=U(e,n),s=u({},A,{[De]:e[Oe],[K]:e[H]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[hc]:[,""],[ln]:[,e[Se]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},F_=async(e,n)=>{const t=U(e,n),s=u({},A,{[c2]:[()=>A(e[Jn]),()=>e[Jn].toString()],[u2]:e[us],[Rt]:e[St],[Ln]:e[Nn],[Tt]:e[pt],[De]:e[Oe],[K]:e[H],[l2]:[()=>A(e[Hh]),()=>(e[Hh]||[]).map(ic).join(", ")]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[G1]:[,""],[ln]:[,e[Se]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},U_=async(e,n)=>{const t=U(e,n),s=u({},A,{[De]:e[Oe],[K]:e[H]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[eC]:[,""],[ln]:[,e[Se]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},z_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[rC]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},q_=async(e,n)=>{const t=U(e,n),s=u({},A,{[De]:e[Oe],[K]:e[H]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[mC]:[,""],[ln]:[,e[Se]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},$_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H],[De]:e[Oe]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[Go]:[,""],[ln]:[,e[Se]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},j_=async(e,n)=>{const t=U(e,n),s=u({},A,{[De]:e[Oe],[K]:e[H]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[lM]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},H_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[cf]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},K_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});return t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.m("HEAD").h(s).b(void 0),t.build()},G_=async(e,n)=>{const t=U(e,n),s=u({},A,{[Ai]:e[Si],[Qb]:[()=>A(e[Va]),()=>Pt(e[Va]).toString()],[xc]:e[fc],[Yb]:[()=>A(e[Wa]),()=>Pt(e[Wa]).toString()],[iC]:e[Nb],[Rt]:e[St],[Ln]:e[Nn],[Tt]:e[pt],[De]:e[Oe],[K]:e[H],[CC]:e[bb]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[aC]:[,e[Lb]],[cC]:[,e[Fb]],[lC]:[,e[Ub]],[dC]:[,e[zb]],[uC]:[,e[qb]],[fC]:[()=>e.ResponseExpires!==void 0,()=>Pt(e[$b]).toString()],[ln]:[,e[Se]],[Ec]:[()=>e.PartNumber!==void 0,()=>e[sn].toString()]});return t.m("HEAD").h(s).q(r).b(void 0),t.build()},V_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[mc]:[,""],[It]:[,"ListBucketAnalyticsConfigurations"],[wr]:[,e[Fe]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},W_=async(e,n)=>{const t=U(e,n),s={};t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Sc]:[,""],[It]:[,"ListBucketIntelligentTieringConfigurations"],[wr]:[,e[Fe]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},X_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Cc]:[,""],[It]:[,"ListBucketInventoryConfigurations"],[wr]:[,e[Fe]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},Z_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[pc]:[,""],[It]:[,"ListBucketMetricsConfigurations"],[wr]:[,e[Fe]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},Q_=async(e,n)=>{const t=U(e,n),s={};t.bp("/");const r=u({[It]:[,"ListBuckets"],[Y1]:[()=>e.MaxBuckets!==void 0,()=>e[jO].toString()],[wr]:[,e[Fe]],[vi]:[,e[G]],[V1]:[,e[ii]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},Y_=async(e,n)=>{const t=U(e,n),s={};t.bp("/");const r=u({[It]:[,"ListDirectoryBuckets"],[wr]:[,e[Fe]],[J1]:[()=>e.MaxDirectoryBuckets!==void 0,()=>e[KO].toString()]});return t.m("GET").h(s).q(r).b(void 0),t.build()},J_=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H],[De]:e[Oe]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[hC]:[,""],[yc]:[,e[jt]],[gc]:[,e[Ht]],[Jb]:[,e[ds]],[tM]:[()=>e.MaxUploads!==void 0,()=>e[la].toString()],[vi]:[,e[G]],[dM]:[,e[va]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},eB=async(e,n)=>{const t=U(e,n),s=u({},A,{[De]:e[Oe],[K]:e[H],[yf]:[()=>A(e[Ao]),()=>(e[Ao]||[]).map(ic).join(", ")]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[yc]:[,e[jt]],[gc]:[,e[Ht]],[Q1]:[,e[aa]],[rf]:[()=>e.MaxKeys!==void 0,()=>e[En].toString()],[vi]:[,e[G]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},tB=async(e,n)=>{const t=U(e,n),s=u({},A,{[De]:e[Oe],[K]:e[H],[yf]:[()=>A(e[Ao]),()=>(e[Ao]||[]).map(ic).join(", ")]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Z1]:[,"2"],[yc]:[,e[jt]],[gc]:[,e[Ht]],[rf]:[()=>e.MaxKeys!==void 0,()=>e[En].toString()],[vi]:[,e[G]],[wr]:[,e[Fe]],[X1]:[()=>e.FetchOwner!==void 0,()=>e[dO].toString()],[iM]:[,e[Sa]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},nB=async(e,n)=>{const t=U(e,n),s=u({},A,{[K]:e[H],[De]:e[Oe],[yf]:[()=>A(e[Ao]),()=>(e[Ao]||[]).map(ic).join(", ")]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[uM]:[,""],[yc]:[,e[jt]],[gc]:[,e[Ht]],[Jb]:[,e[ds]],[rf]:[()=>e.MaxKeys!==void 0,()=>e[En].toString()],[vi]:[,e[G]],[fM]:[,e[Ra]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},sB=async(e,n)=>{const t=U(e,n),s=u({},A,{[De]:e[Oe],[K]:e[H],[Rt]:e[St],[Ln]:e[Nn],[Tt]:e[pt]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[It]:[,"ListParts"],[eM]:[()=>e.MaxParts!==void 0,()=>e[Jn].toString()],[sM]:[,e[us]],[Pi]:[,ee(e[an],"UploadId")]});return t.m("GET").h(s).q(r).b(void 0),t.build()},rB=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[K]:e[H],[it]:e[xe]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Vb]:[,""]});let o,i;return e.AccelerateConfiguration!==void 0&&(i=Kv(e.AccelerateConfiguration),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},oB=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[Vo]:e[Do],[bt]:e[gt],[it]:e[xe],[Xo]:e[qo],[Zo]:e[$o],[Qo]:e[jo],[mf]:e[Gu],[Yo]:e[Ho],[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[hc]:[,""]});let o,i;return e.AccessControlPolicy!==void 0&&(i=Qg(e.AccessControlPolicy),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},iB=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[mc]:[,""],[Rn]:[,ee(e[ie],"Id")]});let o,i;return e.AnalyticsConfiguration!==void 0&&(i=Qv(e.AnalyticsConfiguration),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},aB=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[bt]:e[gt],[it]:e[xe],[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[ef]:[,""]});let o,i;return e.CORSConfiguration!==void 0&&(i=cP(e.CORSConfiguration),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},cB=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[bt]:e[gt],[it]:e[xe],[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[tf]:[,""]});let o,i;return e.ServerSideEncryptionConfiguration!==void 0&&(i=$R(e.ServerSideEncryptionConfiguration),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},lB=async(e,n)=>{const t=U(e,n),s={"content-type":"application/xml"};t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Sc]:[,""],[Rn]:[,ee(e[ie],"Id")]});let o,i;return e.IntelligentTieringConfiguration!==void 0&&(i=RP(e.IntelligentTieringConfiguration),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},dB=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Cc]:[,""],[Rn]:[,ee(e[ie],"Id")]});let o,i;return e.InventoryConfiguration!==void 0&&(i=IP(e.InventoryConfiguration),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},uB=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[it]:e[xe],[K]:e[H],[bf]:e[Ju]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[nf]:[,""]});let o,i;return e.LifecycleConfiguration!==void 0&&(i=nP(e.LifecycleConfiguration),i=i.n("LifecycleConfiguration"),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},fB=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[bt]:e[gt],[it]:e[xe],[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[nC]:[,""]});let o,i;return e.BucketLoggingStatus!==void 0&&(i=sP(e.BucketLoggingStatus),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},mB=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[pc]:[,""],[Rn]:[,ee(e[ie],"Id")]});let o,i;return e.MetricsConfiguration!==void 0&&(i=eR(e.MetricsConfiguration),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},hB=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[K]:e[H],[y2]:[()=>A(e[Vh]),()=>e[Vh].toString()]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[sC]:[,""]});let o,i;return e.NotificationConfiguration!==void 0&&(i=oR(e.NotificationConfiguration),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},yB=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[bt]:e[gt],[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[of]:[,""]});let o,i;return e.OwnershipControls!==void 0&&(i=hR(e.OwnershipControls),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},gB=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"text/plain",[bt]:e[gt],[it]:e[xe],[CM]:[()=>A(e[Mh]),()=>e[Mh].toString()],[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[af]:[,""]});let o,i;return e.Policy!==void 0&&(i=e.Policy,o=i),t.m("PUT").h(s).q(r).b(o),t.build()},bB=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[bt]:e[gt],[it]:e[xe],[bC]:e[Kb],[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[lf]:[,""]});let o,i;return e.ReplicationConfiguration!==void 0&&(i=_R(e.ReplicationConfiguration),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},CB=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[bt]:e[gt],[it]:e[xe],[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[oC]:[,""]});let o,i;return e.RequestPaymentConfiguration!==void 0&&(i=TR(e.RequestPaymentConfiguration),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},xB=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[bt]:e[gt],[it]:e[xe],[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Go]:[,""]});let o,i;return e.Tagging!==void 0&&(i=qu(e.Tagging),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},SB=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[bt]:e[gt],[it]:e[xe],[hf]:e[Vu],[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[yC]:[,""]});let o,i;return e.VersioningConfiguration!==void 0&&(i=c3(e.VersioningConfiguration),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},pB=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[bt]:e[gt],[it]:e[xe],[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[df]:[,""]});let o,i;return e.WebsiteConfiguration!==void 0&&(i=l3(e.WebsiteConfiguration),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},EB=async(e,n)=>{const t=U(e,n),s=u({},A,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((a,l)=>(a[`x-amz-meta-${l.toLowerCase()}`]=e.Metadata[l],a),{}),[Bi]:e[zo]||"application/octet-stream",[Vo]:e[Do],[Ei]:e[No],[wi]:e[Lo],[ki]:e[Fo],[_i]:e[Uo],[gr]:[()=>A(e[xs]),()=>e[xs].toString()],[bt]:e[gt],[it]:e[xe],[kr]:e[He],[_r]:e[Ke],[Br]:e[Ge],[Ar]:e[Ve],[vr]:e[We],[br]:[()=>A(e[Gn]),()=>Pt(e[Gn]).toString()],[Ai]:e[Si],[xc]:e[fc],[Xo]:e[qo],[Zo]:e[$o],[Qo]:e[jo],[Yo]:e[Ho],[b2]:[()=>A(e[Yh]),()=>e[Yh].toString()],[yn]:e[Gt],[Oi]:e[ge],[Mi]:e[pi],[Rt]:e[St],[Ln]:e[Nn],[Tt]:e[pt],[gn]:e[Dt],[ws]:e[Es],[at]:[()=>A(e[Qe]),()=>e[Qe].toString()],[De]:e[Oe],[gf]:e[fr],[Ii]:e[Ko],[Cr]:[()=>A(e[Vn]),()=>xr(e[Vn]).toString()],[Ti]:e[Er],[K]:e[H]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[It]:[,"PutObject"]});let o,i;return e.Body!==void 0&&(i=e.Body,o=i),t.m("PUT").h(s).q(r).b(o),t.build()},wB=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[Vo]:e[Do],[bt]:e[gt],[it]:e[xe],[Xo]:e[qo],[Zo]:e[$o],[Qo]:e[jo],[mf]:e[Gu],[Yo]:e[Ho],[De]:e[Oe],[K]:e[H]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[hc]:[,""],[ln]:[,e[Se]]});let o,i;return e.AccessControlPolicy!==void 0&&(i=Qg(e.AccessControlPolicy),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},kB=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[De]:e[Oe],[bt]:e[gt],[it]:e[xe],[K]:e[H]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[eC]:[,""],[ln]:[,e[Se]]});let o,i;return e.LegalHold!==void 0&&(i=lR(e.LegalHold),i=i.n("LegalHold"),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},_B=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[De]:e[Oe],[bC]:e[Kb],[bt]:e[gt],[it]:e[xe],[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[rC]:[,""]});let o,i;return e.ObjectLockConfiguration!==void 0&&(i=cR(e.ObjectLockConfiguration),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},BB=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[De]:e[Oe],[uf]:[()=>A(e[Bo]),()=>e[Bo].toString()],[bt]:e[gt],[it]:e[xe],[K]:e[H]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[mC]:[,""],[ln]:[,e[Se]]});let o,i;return e.Retention!==void 0&&(i=dR(e.Retention),i=i.n("Retention"),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},AB=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[bt]:e[gt],[it]:e[xe],[K]:e[H],[De]:e[Oe]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[Go]:[,""],[ln]:[,e[Se]]});let o,i;return e.Tagging!==void 0&&(i=qu(e.Tagging),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},vB=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[bt]:e[gt],[it]:e[xe],[K]:e[H]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[cf]:[,""]});let o,i;return e.PublicAccessBlockConfiguration!==void 0&&(i=xR(e.PublicAccessBlockConfiguration),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},PB=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[De]:e[Oe],[it]:e[xe],[K]:e[H]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[rM]:[,""],[ln]:[,e[Se]]});let o,i;return e.RestoreRequest!==void 0&&(i=OR(e.RestoreRequest),o=Me,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("POST").h(s).q(r).b(o),t.build()},RB=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/xml",[Rt]:e[St],[Ln]:e[Nn],[Tt]:e[pt],[K]:e[H]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[aM]:[,""],[cM]:[,"2"]});let o;o=Me;const i=new b(M1);return i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i.cc(e,vb),i.cc(e,Ab),e[Qs]!=null&&i.c(eb(e[Qs]).n(Qs)),e[nr]!=null&&i.c(tb(e[nr]).n(nr)),e[Ca]!=null&&i.c(IR(e[Ca]).n(Ca)),e[Ea]!=null&&i.c(UR(e[Ea]).n(Ea)),o+=i.toString(),t.m("POST").h(s).q(r).b(o),t.build()},TB=async(e,n)=>{const t=U(e,n),s=u({},A,{"content-type":"application/octet-stream",[gr]:[()=>A(e[xs]),()=>e[xs].toString()],[bt]:e[gt],[it]:e[xe],[kr]:e[He],[_r]:e[Ke],[Br]:e[Ge],[Ar]:e[Ve],[vr]:e[We],[Rt]:e[St],[Ln]:e[Nn],[Tt]:e[pt],[De]:e[Oe],[K]:e[H]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[It]:[,"UploadPart"],[Ec]:[ee(e.PartNumber,"PartNumber")!=null,()=>e[sn].toString()],[Pi]:[,ee(e[an],"UploadId")]});let o,i;return e.Body!==void 0&&(i=e.Body,o=i),t.m("PUT").h(s).q(r).b(o),t.build()},IB=async(e,n)=>{const t=U(e,n),s=u({},A,{[xC]:e[Cb],[SC]:e[xb],[pC]:[()=>A(e[Ka]),()=>Pt(e[Ka]).toString()],[EC]:e[Sb],[wC]:[()=>A(e[Ga]),()=>Pt(e[Ga]).toString()],[SM]:e[QI],[Rt]:e[St],[Ln]:e[Nn],[Tt]:e[pt],[kC]:e[pb],[_C]:e[Eb],[BC]:e[wb],[De]:e[Oe],[K]:e[H],[RC]:e[Bb]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[It]:[,"UploadPartCopy"],[Ec]:[ee(e.PartNumber,"PartNumber")!=null,()=>e[sn].toString()],[Pi]:[,ee(e[an],"UploadId")]});return t.m("PUT").h(s).q(r).b(void 0),t.build()},OB=async(e,n)=>{const t=U(e,n),s=u({},A,{"x-amz-content-sha256":"UNSIGNED-PAYLOAD",...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((a,l)=>(a[`x-amz-meta-${l.toLowerCase()}`]=e.Metadata[l],a),{}),"content-type":"application/octet-stream",[m2]:e[C1],[h2]:e[_1],[n2]:[()=>A(e[Gh]),()=>e[Gh].toString()],[pM]:e[ea],[EM]:e[ta],[wM]:e[Hu],[kM]:e[No],[_M]:e[Lo],[BM]:e[Fo],[AM]:e[Uo],[gr]:[()=>A(e[xs]),()=>e[xs].toString()],[vM]:e[Ku],[PM]:e[zo],[OM]:e[He],[MM]:e[Ke],[DM]:e[Ge],[NM]:e[Ve],[LM]:e[We],[FM]:[()=>A(e[Mn]),()=>e[Mn].toString()],[RM]:e[Ue],[TM]:[()=>A(e[Gn]),()=>Pt(e[Gn]).toString()],[UM]:e[Qt],[IM]:[()=>A(e[ot]),()=>Pt(e[ot]).toString()],[zM]:[()=>A(e[Xa]),()=>e[Xa].toString()],[jM]:e[Ko],[$M]:e[Er],[HM]:[()=>A(e[Vn]),()=>xr(e[Vn]).toString()],[qM]:[()=>A(e[vo]),()=>e[vo].toString()],[VM]:e[Qu],[GM]:e[Je],[KM]:e[Yu],[XM]:e[Gt],[YM]:e[St],[ZM]:e[Dt],[JM]:e[pt],[WM]:e[ge],[e2]:[()=>A(e[Hd]),()=>e[Hd].toString()],[t2]:e[Se],[QM]:[()=>A(e[Qe]),()=>e[Qe].toString()]});t.bp("/WriteGetObjectResponse");let r,o;e.Body!==void 0&&(o=e.Body,r=o);let{hostname:i}=await n.endpoint();if(n.disableHostPrefix!==!0){if(i="{RequestRoute}."+i,e.RequestRoute===void 0)throw new Error("Empty value provided for input host prefix: RequestRoute.");if(i=i.replace("{RequestRoute}",e.RequestRoute),!y0(i))throw new Error("ValidationError: prefixed hostname must be hostname compatible.")}return t.hn(i),t.m("POST").h(s).b(r),t.build()},MB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Je]:[,e.headers[tt]]});return await ce(e.body,n),t},DB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Qt]:[,e.headers[Ri]],[Gt]:[,e.headers[yn]],[Se]:[,e.headers[Wn]],[Dt]:[,e.headers[gn]],[Qe]:[()=>e.headers[at]!==void 0,()=>_e(e.headers[at])],[Je]:[,e.headers[tt]]}),s=ee(ue(await le(e.body,n)),"body");return s[Ee]!=null&&(t[Ee]=y(s[Ee])),s[He]!=null&&(t[He]=y(s[He])),s[Ke]!=null&&(t[Ke]=y(s[Ke])),s[Ge]!=null&&(t[Ge]=y(s[Ge])),s[Ve]!=null&&(t[Ve]=y(s[Ve])),s[We]!=null&&(t[We]=y(s[We])),s[Xe]!=null&&(t[Xe]=y(s[Xe])),s[Ue]!=null&&(t[Ue]=y(s[Ue])),s[de]!=null&&(t[de]=y(s[de])),s[Ys]!=null&&(t[Ys]=y(s[Ys])),t},NB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Qt]:[,e.headers[Ri]],[kb]:[,e.headers[AC]],[Se]:[,e.headers[Wn]],[Gt]:[,e.headers[yn]],[St]:[,e.headers[Rt]],[pt]:[,e.headers[Tt]],[Dt]:[,e.headers[gn]],[Es]:[,e.headers[ws]],[Qe]:[()=>e.headers[at]!==void 0,()=>_e(e.headers[at])],[Je]:[,e.headers[tt]]}),s=ue(await le(e.body,n));return t.CopyObjectResult=_3(s),t},LB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Ys]:[,e.headers[tC]]});return await ce(e.body,n),t},FB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},UB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[yb]:[()=>e.headers[ec]!==void 0,()=>ee(gs(e.headers[ec]))],[gb]:[,e.headers[gC]],[Gt]:[,e.headers[yn]],[St]:[,e.headers[Rt]],[pt]:[,e.headers[Tt]],[Dt]:[,e.headers[gn]],[Es]:[,e.headers[ws]],[Qe]:[()=>e.headers[at]!==void 0,()=>_e(e.headers[at])],[Je]:[,e.headers[tt]],[xe]:[,e.headers[ff]],[Xe]:[,e.headers[Wo]]}),s=ee(ue(await le(e.body,n)),"body");return s[Ee]!=null&&(t[Ee]=y(s[Ee])),s[de]!=null&&(t[de]=y(s[de])),s[an]!=null&&(t[an]=y(s[an])),t},zB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Gt]:[,e.headers[yn]],[Dt]:[,e.headers[gn]],[Es]:[,e.headers[ws]],[Qe]:[()=>e.headers[at]!==void 0,()=>_e(e.headers[at])]}),s=ee(ue(await le(e.body,n)),"body");return s[xl]!=null&&(t[xl]=cI(s[xl])),t},qB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},$B=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},jB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},HB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},KB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},GB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},VB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},WB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},XB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},ZB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},QB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},YB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},JB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},eA=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},tA=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Mn]:[()=>e.headers[Ss]!==void 0,()=>_e(e.headers[Ss])],[Se]:[,e.headers[Wn]],[Je]:[,e.headers[tt]]});return await ce(e.body,n),t},nA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Je]:[,e.headers[tt]]}),s=ee(ue(await le(e.body,n)),"body");return s.Deleted===""?t[Ki]=[]:s[Ki]!=null&&(t[Ki]=T3(ae(s[Ki]))),s.Error===""?t[Nh]=[]:s[ai]!=null&&(t[Nh]=q3(ae(s[ai]))),t},sA=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Se]:[,e.headers[Wn]]});return await ce(e.body,n),t},rA=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},oA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Je]:[,e.headers[tt]]}),s=ee(ue(await le(e.body,n)),"body");return s[V]!=null&&(t[V]=y(s[V])),t},iA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ee(ue(await le(e.body,n)),"body");return s.AccessControlList===""?t[yi]=[]:s[zs]!=null&&s[zs][ts]!=null&&(t[yi]=ab(ae(s[zs][ts]))),s[Re]!=null&&(t[Re]=ps(s[Re])),t},aA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ue(await le(e.body,n));return t.AnalyticsConfiguration=sb(s),t},cA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ee(ue(await le(e.body,n)),"body");return s.CORSRule===""?t[_d]=[]:s[kd]!=null&&(t[_d]=v3(ae(s[kd]))),t},lA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ue(await le(e.body,n));return t.ServerSideEncryptionConfiguration=oI(s),t},dA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ue(await le(e.body,n));return t.IntelligentTieringConfiguration=lb(s),t},uA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ue(await le(e.body,n));return t.InventoryConfiguration=db(s),t},fA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Ju]:[,e.headers[bf]]}),s=ee(ue(await le(e.body,n)),"body");return s.Rule===""?t[Pn]=[]:s[rn]!=null&&(t[Pn]=mT(ae(s[rn]))),t},mA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ee(ue(await le(e.body,n)),"body");return s[io]!=null&&(t[io]=y(s[io])),t},hA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ee(ue(await le(e.body,n)),"body");return s[Js]!=null&&(t[Js]=hT(s[Js])),t},yA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ue(await le(e.body,n));return t.GetBucketMetadataTableConfigurationResult=V3(s),t},gA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ue(await le(e.body,n));return t.MetricsConfiguration=ub(s),t},bA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ee(ue(await le(e.body,n)),"body");return s[Gs]!=null&&(t[Gs]=$3(s[Gs])),s.CloudFunctionConfiguration===""?t[Od]=[]:s[Oh]!=null&&(t[Od]=cT(ae(s[Oh]))),s.QueueConfiguration===""?t[Ud]=[]:s[Fd]!=null&&(t[Ud]=HT(ae(s[Fd]))),s.TopicConfiguration===""?t[Gd]=[]:s[Kd]!=null&&(t[Gd]=wI(ae(s[Kd]))),t},CA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ue(await le(e.body,n));return t.OwnershipControls=OT(s),t},xA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=await BI(e.body,n);return t.Policy=y(s),t},SA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ue(await le(e.body,n));return t.PolicyStatus=zT(s),t},pA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ue(await le(e.body,n));return t.ReplicationConfiguration=WT(s),t},EA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ee(ue(await le(e.body,n)),"body");return s[ma]!=null&&(t[ma]=y(s[ma])),t},wA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ee(ue(await le(e.body,n)),"body");return s.TagSet===""?t[In]=[]:s[In]!=null&&s[In][ye]!=null&&(t[In]=pr(ae(s[In][ye]))),t},kA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ee(ue(await le(e.body,n)),"body");return s[Dd]!=null&&(t[ca]=y(s[Dd])),s[V]!=null&&(t[V]=y(s[V])),t},_A=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ee(ue(await le(e.body,n)),"body");return s[Ws]!=null&&(t[Ws]=z3(s[Ws])),s[Zs]!=null&&(t[Zs]=Z3(s[Zs])),s[rr]!=null&&(t[rr]=GT(s[rr])),s.RoutingRules===""?t[Mr]=[]:s[Mr]!=null&&s[Mr][Qa]!=null&&(t[Mr]=tI(ae(s[Mr][Qa]))),t},BA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Mn]:[()=>e.headers[Ss]!==void 0,()=>_e(e.headers[Ss])],[Hu]:[,e.headers[Wb]],[Qt]:[,e.headers[Ri]],[Yu]:[,e.headers[vC]],[ot]:[()=>e.headers[Po]!==void 0,()=>ee(gs(e.headers[Po]))],[xs]:[()=>e.headers[gr]!==void 0,()=>vt(e.headers[gr])],[Ue]:[,e.headers[bc]],[He]:[,e.headers[kr]],[Ke]:[,e.headers[_r]],[Ge]:[,e.headers[Br]],[Ve]:[,e.headers[Ar]],[We]:[,e.headers[vr]],[Xe]:[,e.headers[Wo]],[Xa]:[()=>e.headers[tc]!==void 0,()=>Le(e.headers[tc])],[Se]:[,e.headers[Wn]],[No]:[,e.headers[Ei]],[Lo]:[,e.headers[wi]],[Fo]:[,e.headers[ki]],[Uo]:[,e.headers[_i]],[Ku]:[,e.headers[Xb]],[zo]:[,e.headers[Bi]],[Gn]:[()=>e.headers[br]!==void 0,()=>ee(gs(e.headers[br]))],[_b]:[,e.headers[Zb]],[pi]:[,e.headers[Mi]],[Gt]:[,e.headers[yn]],[St]:[,e.headers[Rt]],[pt]:[,e.headers[Tt]],[Dt]:[,e.headers[gn]],[Qe]:[()=>e.headers[at]!==void 0,()=>_e(e.headers[at])],[ge]:[,e.headers[Oi]],[Je]:[,e.headers[tt]],[Qu]:[,e.headers[PC]],[vo]:[()=>e.headers[nc]!==void 0,()=>Le(e.headers[nc])],[Hd]:[()=>e.headers[ny]!==void 0,()=>Le(e.headers[ny])],[Ko]:[,e.headers[Ii]],[Vn]:[()=>e.headers[Cr]!==void 0,()=>ee(en(e.headers[Cr]))],[Er]:[,e.headers[Ti]],Metadata:[,Object.keys(e.headers).filter(r=>r.startsWith("x-amz-meta-")).reduce((r,o)=>(r[o.substring(11)]=e.headers[o],r),{})]}),s=e.body;return n.sdkStreamMixin(s),t.Body=s,t},AA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Je]:[,e.headers[tt]]}),s=ee(ue(await le(e.body,n)),"body");return s.AccessControlList===""?t[yi]=[]:s[zs]!=null&&s[zs][ts]!=null&&(t[yi]=ab(ae(s[zs][ts]))),s[Re]!=null&&(t[Re]=ps(s[Re])),t},vA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Mn]:[()=>e.headers[Ss]!==void 0,()=>_e(e.headers[Ss])],[ot]:[()=>e.headers[Po]!==void 0,()=>ee(gs(e.headers[Po]))],[Se]:[,e.headers[Wn]],[Je]:[,e.headers[tt]]}),s=ee(ue(await le(e.body,n)),"body");return s[El]!=null&&(t[El]=p3(s[El])),s[Ue]!=null&&(t[Ue]=y(s[Ue])),s[Ll]!=null&&(t[Ll]=W3(s[Ll])),s[Fl]!=null&&(t[Fl]=vt(s[Fl])),s[ge]!=null&&(t[ge]=y(s[ge])),t},PA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ue(await le(e.body,n));return t.LegalHold=AT(s),t},RA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ue(await le(e.body,n));return t.ObjectLockConfiguration=BT(s),t},TA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ue(await le(e.body,n));return t.Retention=vT(s),t},IA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Se]:[,e.headers[Wn]]}),s=ee(ue(await le(e.body,n)),"body");return s.TagSet===""?t[In]=[]:s[In]!=null&&s[In][ye]!=null&&(t[In]=pr(ae(s[In][ye]))),t},OA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Je]:[,e.headers[tt]]}),s=e.body;return n.sdkStreamMixin(s),t.Body=s,t},MA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ue(await le(e.body,n));return t.PublicAccessBlockConfiguration=$T(s),t},DA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[HI]:[,e.headers[yM]],[qI]:[,e.headers[hM]],[ii]:[,e.headers[bM]],[OI]:[()=>e.headers[ey]!==void 0,()=>_e(e.headers[ey])]});return await ce(e.body,n),t},NA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Mn]:[()=>e.headers[Ss]!==void 0,()=>_e(e.headers[Ss])],[Hu]:[,e.headers[Wb]],[Qt]:[,e.headers[Ri]],[Yu]:[,e.headers[vC]],[MI]:[,e.headers[mM]],[ot]:[()=>e.headers[Po]!==void 0,()=>ee(gs(e.headers[Po]))],[xs]:[()=>e.headers[gr]!==void 0,()=>vt(e.headers[gr])],[He]:[,e.headers[kr]],[Ke]:[,e.headers[_r]],[Ge]:[,e.headers[Br]],[Ve]:[,e.headers[Ar]],[We]:[,e.headers[vr]],[Xe]:[,e.headers[Wo]],[Ue]:[,e.headers[bc]],[Xa]:[()=>e.headers[tc]!==void 0,()=>Le(e.headers[tc])],[Se]:[,e.headers[Wn]],[No]:[,e.headers[Ei]],[Lo]:[,e.headers[wi]],[Fo]:[,e.headers[ki]],[Uo]:[,e.headers[_i]],[zo]:[,e.headers[Bi]],[Ku]:[,e.headers[Xb]],[Gn]:[()=>e.headers[br]!==void 0,()=>ee(gs(e.headers[br]))],[_b]:[,e.headers[Zb]],[pi]:[,e.headers[Mi]],[Gt]:[,e.headers[yn]],[St]:[,e.headers[Rt]],[pt]:[,e.headers[Tt]],[Dt]:[,e.headers[gn]],[Qe]:[()=>e.headers[at]!==void 0,()=>_e(e.headers[at])],[ge]:[,e.headers[Oi]],[Je]:[,e.headers[tt]],[Qu]:[,e.headers[PC]],[vo]:[()=>e.headers[nc]!==void 0,()=>Le(e.headers[nc])],[Ko]:[,e.headers[Ii]],[Vn]:[()=>e.headers[Cr]!==void 0,()=>ee(en(e.headers[Cr]))],[Er]:[,e.headers[Ti]],Metadata:[,Object.keys(e.headers).filter(s=>s.startsWith("x-amz-meta-")).reduce((s,r)=>(s[r.substring(11)]=e.headers[r],s),{})]});return await ce(e.body,n),t},LA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ee(ue(await le(e.body,n)),"body");return s.AnalyticsConfiguration===""?t[Ih]=[]:s[gd]!=null&&(t[Ih]=g3(ae(s[gd]))),s[Fe]!=null&&(t[Fe]=y(s[Fe])),s[Ie]!=null&&(t[Ie]=_e(s[Ie])),s[Yt]!=null&&(t[Yt]=y(s[Yt])),t},FA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ee(ue(await le(e.body,n)),"body");return s[Fe]!=null&&(t[Fe]=y(s[Fe])),s.IntelligentTieringConfiguration===""?t[qh]=[]:s[Id]!=null&&(t[qh]=Y3(ae(s[Id]))),s[Ie]!=null&&(t[Ie]=_e(s[Ie])),s[Yt]!=null&&(t[Yt]=y(s[Yt])),t},UA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ee(ue(await le(e.body,n)),"body");return s[Fe]!=null&&(t[Fe]=y(s[Fe])),s.InventoryConfiguration===""?t[Lh]=[]:s[Td]!=null&&(t[Lh]=eT(ae(s[Td]))),s[Ie]!=null&&(t[Ie]=_e(s[Ie])),s[Yt]!=null&&(t[Yt]=y(s[Yt])),t},zA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ee(ue(await le(e.body,n)),"body");return s[Fe]!=null&&(t[Fe]=y(s[Fe])),s[Ie]!=null&&(t[Ie]=_e(s[Ie])),s.MetricsConfiguration===""?t[$h]=[]:s[Md]!=null&&(t[$h]=CT(ae(s[Md]))),s[Yt]!=null&&(t[Yt]=y(s[Yt])),t},qA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ee(ue(await le(e.body,n)),"body");return s.Buckets===""?t[$n]=[]:s[$n]!=null&&s[$n][Ee]!=null&&(t[$n]=rb(ae(s[$n][Ee]))),s[Fe]!=null&&(t[Fe]=y(s[Fe])),s[Re]!=null&&(t[Re]=ps(s[Re])),s[G]!=null&&(t[G]=y(s[G])),t},$A=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=ee(ue(await le(e.body,n)),"body");return s.Buckets===""?t[$n]=[]:s[$n]!=null&&s[$n][Ee]!=null&&(t[$n]=rb(ae(s[$n][Ee]))),s[Fe]!=null&&(t[Fe]=y(s[Fe])),t},jA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Je]:[,e.headers[tt]]}),s=ee(ue(await le(e.body,n)),"body");return s[Ee]!=null&&(t[Ee]=y(s[Ee])),s.CommonPrefixes===""?t[$t]=[]:s[$t]!=null&&(t[$t]=dc(ae(s[$t]))),s[jt]!=null&&(t[jt]=y(s[jt])),s[Ht]!=null&&(t[Ht]=y(s[Ht])),s[Ie]!=null&&(t[Ie]=_e(s[Ie])),s[ds]!=null&&(t[ds]=y(s[ds])),s[la]!=null&&(t[la]=Le(s[la])),s[ao]!=null&&(t[ao]=y(s[ao])),s[Dl]!=null&&(t[Dl]=y(s[Dl])),s[G]!=null&&(t[G]=y(s[G])),s[va]!=null&&(t[va]=y(s[va])),s.Upload===""?t[Xh]=[]:s[Wh]!=null&&(t[Xh]=pT(ae(s[Wh]))),t},HA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Je]:[,e.headers[tt]]}),s=ee(ue(await le(e.body,n)),"body");return s.CommonPrefixes===""?t[$t]=[]:s[$t]!=null&&(t[$t]=dc(ae(s[$t]))),s.Contents===""?t[as]=[]:s[as]!=null&&(t[as]=fb(ae(s[as]))),s[jt]!=null&&(t[jt]=y(s[jt])),s[Ht]!=null&&(t[Ht]=y(s[Ht])),s[Ie]!=null&&(t[Ie]=_e(s[Ie])),s[aa]!=null&&(t[aa]=y(s[aa])),s[En]!=null&&(t[En]=Le(s[En])),s[nt]!=null&&(t[nt]=y(s[nt])),s[Ml]!=null&&(t[Ml]=y(s[Ml])),s[G]!=null&&(t[G]=y(s[G])),t},KA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Je]:[,e.headers[tt]]}),s=ee(ue(await le(e.body,n)),"body");return s.CommonPrefixes===""?t[$t]=[]:s[$t]!=null&&(t[$t]=dc(ae(s[$t]))),s.Contents===""?t[as]=[]:s[as]!=null&&(t[as]=fb(ae(s[as]))),s[Fe]!=null&&(t[Fe]=y(s[Fe])),s[jt]!=null&&(t[jt]=y(s[jt])),s[Ht]!=null&&(t[Ht]=y(s[Ht])),s[Ie]!=null&&(t[Ie]=_e(s[Ie])),s[Rl]!=null&&(t[Rl]=Le(s[Rl])),s[En]!=null&&(t[En]=Le(s[En])),s[nt]!=null&&(t[nt]=y(s[nt])),s[Yt]!=null&&(t[Yt]=y(s[Yt])),s[G]!=null&&(t[G]=y(s[G])),s[Sa]!=null&&(t[Sa]=y(s[Sa])),t},GA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Je]:[,e.headers[tt]]}),s=ee(ue(await le(e.body,n)),"body");return s.CommonPrefixes===""?t[$t]=[]:s[$t]!=null&&(t[$t]=dc(ae(s[$t]))),s.DeleteMarker===""?t[Dh]=[]:s[Mn]!=null&&(t[Dh]=M3(ae(s[Mn]))),s[jt]!=null&&(t[jt]=y(s[jt])),s[Ht]!=null&&(t[Ht]=y(s[Ht])),s[Ie]!=null&&(t[Ie]=_e(s[Ie])),s[ds]!=null&&(t[ds]=y(s[ds])),s[En]!=null&&(t[En]=Le(s[En])),s[nt]!=null&&(t[nt]=y(s[nt])),s[ao]!=null&&(t[ao]=y(s[ao])),s[Nl]!=null&&(t[Nl]=y(s[Nl])),s[G]!=null&&(t[G]=y(s[G])),s[Ra]!=null&&(t[Ra]=y(s[Ra])),s.Version===""?t[Qh]=[]:s[Zh]!=null&&(t[Qh]=IT(ae(s[Zh]))),t},VA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[yb]:[()=>e.headers[ec]!==void 0,()=>ee(gs(e.headers[ec]))],[gb]:[,e.headers[gC]],[Je]:[,e.headers[tt]]}),s=ee(ue(await le(e.body,n)),"body");return s[Ee]!=null&&(t[Ee]=y(s[Ee])),s[xe]!=null&&(t[xe]=y(s[xe])),s[Xe]!=null&&(t[Xe]=y(s[Xe])),s[no]!=null&&(t[no]=cb(s[no])),s[Ie]!=null&&(t[Ie]=_e(s[Ie])),s[de]!=null&&(t[de]=y(s[de])),s[Jn]!=null&&(t[Jn]=Le(s[Jn])),s[co]!=null&&(t[co]=y(s[co])),s[Re]!=null&&(t[Re]=ps(s[Re])),s[us]!=null&&(t[us]=y(s[us])),s.Part===""?t[gi]=[]:s[Za]!=null&&(t[gi]=FT(ae(s[Za]))),s[ge]!=null&&(t[ge]=y(s[ge])),s[an]!=null&&(t[an]=y(s[an])),t},WA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},XA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},ZA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},QA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},YA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},JA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},ev=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},tv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Ju]:[,e.headers[bf]]});return await ce(e.body,n),t},nv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},sv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},rv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},ov=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},iv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},av=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},cv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},lv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},dv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},uv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},fv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Qt]:[,e.headers[Ri]],[Ue]:[,e.headers[bc]],[He]:[,e.headers[kr]],[Ke]:[,e.headers[_r]],[Ge]:[,e.headers[Br]],[Ve]:[,e.headers[Ar]],[We]:[,e.headers[vr]],[Xe]:[,e.headers[Wo]],[Gt]:[,e.headers[yn]],[Se]:[,e.headers[Wn]],[St]:[,e.headers[Rt]],[pt]:[,e.headers[Tt]],[Dt]:[,e.headers[gn]],[Es]:[,e.headers[ws]],[Qe]:[()=>e.headers[at]!==void 0,()=>_e(e.headers[at])],[Mt]:[()=>e.headers[ty]!==void 0,()=>vt(e.headers[ty])],[Je]:[,e.headers[tt]]});return await ce(e.body,n),t},mv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Je]:[,e.headers[tt]]});return await ce(e.body,n),t},hv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Je]:[,e.headers[tt]]});return await ce(e.body,n),t},yv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Je]:[,e.headers[tt]]});return await ce(e.body,n),t},gv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Je]:[,e.headers[tt]]});return await ce(e.body,n),t},bv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Se]:[,e.headers[Wn]]});return await ce(e.body,n),t},Cv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},xv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Je]:[,e.headers[tt]],[g1]:[,e.headers[f2]]});return await ce(e.body,n),t},Sv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)}),s=e.body;return t.Payload=Fv(s,n),t},pv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[Gt]:[,e.headers[yn]],[Ue]:[,e.headers[bc]],[He]:[,e.headers[kr]],[Ke]:[,e.headers[_r]],[Ge]:[,e.headers[Br]],[Ve]:[,e.headers[Ar]],[We]:[,e.headers[vr]],[St]:[,e.headers[Rt]],[pt]:[,e.headers[Tt]],[Dt]:[,e.headers[gn]],[Qe]:[()=>e.headers[at]!==void 0,()=>_e(e.headers[at])],[Je]:[,e.headers[tt]]});return await ce(e.body,n),t},Ev=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e),[kb]:[,e.headers[AC]],[Gt]:[,e.headers[yn]],[St]:[,e.headers[Rt]],[pt]:[,e.headers[Tt]],[Dt]:[,e.headers[gn]],[Qe]:[()=>e.headers[at]!==void 0,()=>_e(e.headers[at])],[Je]:[,e.headers[tt]]}),s=ue(await le(e.body,n));return t.CopyPartResult=B3(s),t},wv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return $(e,n);const t=u({$metadata:T(e)});return await ce(e.body,n),t},$=async(e,n)=>{const t={...e,body:await OS(e.body,n)},s=MS(e,t.body);switch(s){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await Ov(t);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await Nv(t);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await _v(t);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await Bv(t);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await Tv(t);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await vv(t);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await Iv(t);case"NotFound":case"com.amazonaws.s3#NotFound":throw await Mv(t);case"EncryptionTypeMismatch":case"com.amazonaws.s3#EncryptionTypeMismatch":throw await Av(t);case"InvalidRequest":case"com.amazonaws.s3#InvalidRequest":throw await Pv(t);case"InvalidWriteOffset":case"com.amazonaws.s3#InvalidWriteOffset":throw await Rv(t);case"TooManyParts":case"com.amazonaws.s3#TooManyParts":throw await Lv(t);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await Dv(t);default:const r=t.body;return kv({output:e,parsedBody:r,errorCode:s})}},kv=dS(Kt),_v=async(e,n)=>{const t=u({});e.body;const s=new Bu({$metadata:T(e),...t});return cn(s,e.body)},Bv=async(e,n)=>{const t=u({});e.body;const s=new Au({$metadata:T(e),...t});return cn(s,e.body)},Av=async(e,n)=>{const t=u({});e.body;const s=new Mu({$metadata:T(e),...t});return cn(s,e.body)},vv=async(e,n)=>{const t=u({}),s=e.body;s[Yn]!=null&&(t[Yn]=y(s[Yn])),s[ge]!=null&&(t[ge]=y(s[ge]));const r=new Pu({$metadata:T(e),...t});return cn(r,e.body)},Pv=async(e,n)=>{const t=u({});e.body;const s=new Du({$metadata:T(e),...t});return cn(s,e.body)},Rv=async(e,n)=>{const t=u({});e.body;const s=new Nu({$metadata:T(e),...t});return cn(s,e.body)},Tv=async(e,n)=>{const t=u({});e.body;const s=new vu({$metadata:T(e),...t});return cn(s,e.body)},Iv=async(e,n)=>{const t=u({});e.body;const s=new Ru({$metadata:T(e),...t});return cn(s,e.body)},Ov=async(e,n)=>{const t=u({});e.body;const s=new ku({$metadata:T(e),...t});return cn(s,e.body)},Mv=async(e,n)=>{const t=u({});e.body;const s=new Tu({$metadata:T(e),...t});return cn(s,e.body)},Dv=async(e,n)=>{const t=u({});e.body;const s=new Fu({$metadata:T(e),...t});return cn(s,e.body)},Nv=async(e,n)=>{const t=u({});e.body;const s=new _u({$metadata:T(e),...t});return cn(s,e.body)},Lv=async(e,n)=>{const t=u({});e.body;const s=new Lu({$metadata:T(e),...t});return cn(s,e.body)},Fv=(e,n)=>n.eventStreamMarshaller.deserialize(e,async t=>t.Records!=null?{Records:await $v(t.Records)}:t.Stats!=null?{Stats:await jv(t.Stats,n)}:t.Progress!=null?{Progress:await qv(t.Progress,n)}:t.Cont!=null?{Cont:await Uv(t.Cont,n)}:t.End!=null?{End:await zv(t.End,n)}:{$unknown:e}),Uv=async(e,n)=>{const t={};return await le(e.body,n),Object.assign(t,k3()),t},zv=async(e,n)=>{const t={};return await le(e.body,n),Object.assign(t,L3()),t},qv=async(e,n)=>{const t={},s=await le(e.body,n);return t.Details=qT(s),t},$v=async(e,n)=>{const t={};return t.Payload=e.body,t},jv=async(e,n)=>{const t={},s=await le(e.body,n);return t.Details=hI(s),t},Hv=(e,n)=>{const t=new b($s);return e[Ps]!=null&&t.c(b.of(Ps,String(e[Ps])).n(Ps)),t},Kv=(e,n)=>{const t=new b(PI);return e[V]!=null&&t.c(b.of(LI,e[V]).n(V)),t},Qg=(e,n)=>{const t=new b(vI);return t.lc(e,"Grants","AccessControlList",()=>Jg(e[yi])),e[Re]!=null&&t.c(mR(e[Re]).n(Re)),t},Gv=(e,n)=>{const t=new b(qs);return e[Re]!=null&&t.c(b.of(c1,e[Re]).n(Re)),t},Vv=(e,n)=>e.filter(t=>t!=null).map(t=>b.of(bd,t).n(Et)),Wv=(e,n)=>e.filter(t=>t!=null).map(t=>b.of(xd,t).n(Et)),Xv=(e,n)=>e.filter(t=>t!=null).map(t=>b.of(pd,t).n(Et)),Zv=(e,n)=>{const t=new b(AI);return t.cc(e,G),t.l(e,"Tags","Tag",()=>Oo(e[Jt])),t},Qv=(e,n)=>{const t=new b(gd);return e[ie]!=null&&t.c(b.of(II,e[ie]).n(ie)),e[oe]!=null&&t.c(Jv(e[oe]).n(oe)),e[cr]!=null&&t.c(ZR(e[cr]).n(cr)),t},Yv=(e,n)=>{const t=new b(RI);return e[vn]!=null&&t.c(eP(e[vn]).n(vn)),t},Jv=(e,n)=>{const t=new b(TI);return hd.visit(e,{Prefix:s=>{e[G]!=null&&t.c(b.of(G,s).n(G))},Tag:s=>{e[ye]!=null&&t.c(Io(s).n(ye))},And:s=>{e[Ye]!=null&&t.c(Zv(s).n(Ye))},_:(s,r)=>{if(!(r instanceof b||r instanceof Ou))throw new Error("Unable to serialize unknown union members in XML.");t.c(new b(s).c(r))}}),t},eP=(e,n)=>{const t=new b(DI);return e[pn]!=null&&t.c(b.of(NI,e[pn]).n(pn)),e[jr]!=null&&t.c(b.of(zr,e[jr]).n(jr)),e[Ee]!=null&&t.c(b.of(uc,e[Ee]).n(Ee)),t.cc(e,G),t},tP=(e,n)=>{const t=new b(FI);return t.cc(e,sO),e[on]!=null&&t.c(b.of(KI,e[on]).n(on)),t},nP=(e,n)=>{const t=new b(UI);return t.l(e,"Rules","Rule",()=>VP(e[Pn])),t},sP=(e,n)=>{const t=new b(jI);return e[Js]!=null&&t.c(XP(e[Js]).n(Js)),t},rP=(e,n)=>{const t=new b(WI);return t.l(e,"Parts","Part",()=>iP(e[gi])),t},oP=(e,n)=>{const t=new b(ZI);return t.cc(e,Ue),t.cc(e,He),t.cc(e,Ke),t.cc(e,Ge),t.cc(e,Ve),t.cc(e,We),e[sn]!=null&&t.c(b.of(sn,String(e[sn])).n(sn)),t},iP=(e,n)=>e.filter(t=>t!=null).map(t=>oP(t).n(Et)),aP=(e,n)=>{const t=new b(js);return t.cc(e,sa),t.cc(e,oa),t},cP=(e,n)=>{const t=new b(XI);return t.l(e,"CORSRules","CORSRule",()=>dP(e[_d])),t},lP=(e,n)=>{const t=new b(kd);return t.cc(e,rt),t.l(e,"AllowedHeaders","AllowedHeader",()=>Vv(e[Cd])),t.l(e,"AllowedMethods","AllowedMethod",()=>Wv(e[Sd])),t.l(e,"AllowedOrigins","AllowedOrigin",()=>Xv(e[Ed])),t.l(e,"ExposeHeaders","ExposeHeader",()=>wP(e[Bd])),e[Is]!=null&&t.c(b.of(Is,String(e[Is])).n(Is)),t},dP=(e,n)=>e.filter(t=>t!=null).map(t=>lP(t).n(Et)),uP=(e,n)=>{const t=new b(VI);return e[io]!=null&&t.c(b.of(zI,e[io]).n(io)),e[Ys]!=null&&t.c(WP(e[Ys]).n(Ys)),e[Ee]!=null&&t.c(tP(e[Ee]).n(Ee)),t},fP=(e,n)=>{const t=new b(YI);return t.cc(e,lO),t.cc(e,tO),t.cc(e,Db),t.cc(e,Zu),t.cc(e,Pb),t.cc(e,Mb),e[Hi]!=null&&t.c(b.of(Hi,String(e[Hi])).n(Hi)),t},mP=(e,n)=>{const t=new b(JI);return t.cc(e,m1),t.cc(e,Db),t.cc(e,Zu),t.cc(e,Pb),t.cc(e,Mb),t},hP=(e,n)=>{const t=new b(Ks);return e[wn]!=null&&t.c(b.of(Tb,e[wn]).n(wn)),e[Te]!=null&&t.c(b.of(Te,String(e[Te])).n(Te)),e[Ds]!=null&&t.c(b.of(Ds,String(e[Ds])).n(Ds)),t},yP=(e,n)=>{const t=new b(rO);return t.l(e,"Objects","Object",()=>aR(e[d1])),e[Wi]!=null&&t.c(b.of(Wi,String(e[Wi])).n(Wi)),t},gP=(e,n)=>{const t=new b(Hs);return e[V]!=null&&t.c(b.of(nO,e[V]).n(V)),t},bP=(e,n)=>{const t=new b(xt);return e[Ee]!=null&&t.c(b.of(uc,e[Ee]).n(Ee)),e[$r]!=null&&t.c(b.of(zr,e[$r]).n($r)),t.cc(e,ge),e[qs]!=null&&t.c(Gv(e[qs]).n(qs)),e[Vs]!=null&&t.c(xP(e[Vs]).n(Vs)),e[ir]!=null&&t.c(RR(e[ir]).n(ir)),e[er]!=null&&t.c(YP(e[er]).n(er)),t},CP=(e,n)=>{const t=new b(Hn);return e[_l]!=null&&t.c(b.of(Gt,e[_l]).n(_l)),e[Tl]!=null&&t.c(b.of(Dt,e[Tl]).n(Tl)),t.cc(e,IO),t},xP=(e,n)=>{const t=new b(Vs);return t.cc(e,ya),t},SP=(e,n)=>{const t=new b(Ws);return e[de]!=null&&t.c(b.of(Xu,e[de]).n(de)),t},pP=(e,n)=>new b(Gs),Uu=(e,n)=>e.filter(t=>t!=null).map(t=>b.of(yr,t).n(Et)),EP=(e,n)=>{const t=new b(Xs);return e[V]!=null&&t.c(b.of(iO,e[V]).n(V)),t},wP=(e,n)=>e.filter(t=>t!=null).map(t=>b.of(Ad,t).n(Et)),kP=(e,n)=>{const t=new b(vd);return e[nt]!=null&&t.c(b.of(uO,e[nt]).n(nt)),e[mn]!=null&&t.c(b.of(fO,e[mn]).n(mn)),t},_P=(e,n)=>e.filter(t=>t!=null).map(t=>kP(t).n(Et)),BP=(e,n)=>{const t=new b(na);return t.cc(e,Hb),t},AP=(e,n)=>{const t=new b(ts);if(e[fn]!=null){const s=Yg(e[fn]).n(fn);s.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),t.c(s)}return t.cc(e,Kn),t},Yg=(e,n)=>{const t=new b(fn);return t.cc(e,Dn),t.cc(e,Ji),t.cc(e,rt),t.cc(e,Pa),t.a("xsi:type",e[on]),t},Jg=(e,n)=>e.filter(t=>t!=null).map(t=>AP(t).n(ts)),vP=(e,n)=>{const t=new b(Zs);return t.cc(e,ka),t},eb=(e,n)=>{const t=new b(Qs);return e[Xr]!=null&&t.c(fP(e[Xr]).n(Xr)),t.cc(e,eO),e[so]!=null&&t.c(UP(e[so]).n(so)),e[Ul]!=null&&t.c(bR(e[Ul]).n(Ul)),t},PP=(e,n)=>{const t=new b(wO);return t.cc(e,G),t.l(e,"Tags","Tag",()=>Oo(e[Jt])),t},RP=(e,n)=>{const t=new b(Id);return e[ie]!=null&&t.c(b.of(AO,e[ie]).n(ie)),e[oe]!=null&&t.c(TP(e[oe]).n(oe)),e[V]!=null&&t.c(b.of(vO,e[V]).n(V)),t.l(e,"Tierings","Tiering",()=>n3(e[Vd])),t},TP=(e,n)=>{const t=new b(BO);return t.cc(e,G),e[ye]!=null&&t.c(Io(e[ye]).n(ye)),e[Ye]!=null&&t.c(PP(e[Ye]).n(Ye)),t},IP=(e,n)=>{const t=new b(Td);return e[xt]!=null&&t.c(OP(e[xt]).n(xt)),e[Ts]!=null&&t.c(b.of(Ts,String(e[Ts])).n(Ts)),e[oe]!=null&&t.c(DP(e[oe]).n(oe)),e[ie]!=null&&t.c(b.of(CO,e[ie]).n(ie)),e[eo]!=null&&t.c(b.of(xO,e[eo]).n(eo)),t.lc(e,"OptionalFields","OptionalFields",()=>NP(e[Or])),e[yo]!=null&&t.c(FP(e[yo]).n(yo)),t},OP=(e,n)=>{const t=new b(mO);return e[vn]!=null&&t.c(LP(e[vn]).n(vn)),t},MP=(e,n)=>{const t=new b(hO);return e[jd]!=null&&t.c(XR(e[jd]).n(Ja)),e[$d]!=null&&t.c(VR(e[$d]).n(Ya)),t},DP=(e,n)=>{const t=new b(yO);return t.cc(e,G),t},NP=(e,n)=>e.filter(t=>t!=null).map(t=>b.of(SO,t).n(Rd)),LP=(e,n)=>{const t=new b(pO);return t.cc(e,zr),e[Ee]!=null&&t.c(b.of(uc,e[Ee]).n(Ee)),e[pn]!=null&&t.c(b.of(gO,e[pn]).n(pn)),t.cc(e,G),e[Hn]!=null&&t.c(MP(e[Hn]).n(Hn)),t},FP=(e,n)=>{const t=new b(EO);return e[Yr]!=null&&t.c(b.of(bO,e[Yr]).n(Yr)),t},UP=(e,n)=>{const t=new b(PO);return e[on]!=null&&t.c(b.of(TO,e[on]).n(on)),t},zP=(e,n)=>{const t=new b(RO);return t.cc(e,Zu),t},qP=(e,n)=>{const t=new b(MO);return e[ie]!=null&&t.c(b.of(Wu,e[ie]).n(ie)),e[ia]!=null&&t.c(b.of(ia,e[ia]).n(wd)),t.l(e,"Events","Event",()=>Uu(e[es])),e[oe]!=null&&t.c(zu(e[oe]).n(oe)),t},$P=(e,n)=>e.filter(t=>t!=null).map(t=>qP(t).n(Et)),jP=(e,n)=>{const t=new b(OO);return e[Zt]!=null&&t.c(b.of(Zt,xr(e[Zt]).toString()).n(Zt)),e[Te]!=null&&t.c(b.of(Te,String(e[Te])).n(Te)),e[Rs]!=null&&t.c(b.of(Rs,String(e[Rs])).n(Rs)),t},HP=(e,n)=>{const t=new b(FO);return e[Qt]!=null&&t.c(jP(e[Qt]).n(Qt)),t.cc(e,rt),t.cc(e,G),e[oe]!=null&&t.c(GP(e[oe]).n(oe)),e[V]!=null&&t.c(b.of(cO,e[V]).n(V)),t.l(e,"Transitions","Transition",()=>i3(e[Zd])),t.l(e,"NoncurrentVersionTransitions","NoncurrentVersionTransition",()=>rR(e[Nd])),e[tr]!=null&&t.c(nR(e[tr]).n(tr)),e[$s]!=null&&t.c(Hv(e[$s]).n($s)),t},KP=(e,n)=>{const t=new b(UO);return t.cc(e,G),t.l(e,"Tags","Tag",()=>Oo(e[Jt])),e[Bn]!=null&&t.c(b.of(Ib,String(e[Bn])).n(Bn)),e[An]!=null&&t.c(b.of(Ob,String(e[An])).n(An)),t},GP=(e,n)=>{const t=new b(zO);return t.cc(e,G),e[ye]!=null&&t.c(Io(e[ye]).n(ye)),e[Bn]!=null&&t.c(b.of(Ib,String(e[Bn])).n(Bn)),e[An]!=null&&t.c(b.of(Ob,String(e[An])).n(An)),e[Ye]!=null&&t.c(KP(e[Ye]).n(Ye)),t},VP=(e,n)=>e.filter(t=>t!=null).map(t=>HP(t).n(Et)),WP=(e,n)=>{const t=new b(DO);return e[on]!=null&&t.c(b.of(qO,e[on]).n(on)),e[nt]!=null&&t.c(b.of(NO,e[nt]).n(nt)),t},XP=(e,n)=>{const t=new b(Js);return t.cc(e,Ba),t.lc(e,"TargetGrants","TargetGrants",()=>JR(e[Dr])),t.cc(e,Aa),e[mr]!=null&&t.c(e3(e[mr]).n(mr)),t},ZP=(e,n)=>{const t=new b(Rb);return e[nt]!=null&&t.c(b.of(WO,e[nt]).n(nt)),e[mn]!=null&&t.c(b.of(QO,e[mn]).n(mn)),t},QP=(e,n)=>{const t=new b(ZO);return e[wa]!=null&&t.c(FR(e[wa]).n(wa)),t},YP=(e,n)=>{const t=new b(er);return e[V]!=null&&t.c(b.of(XO,e[V]).n(V)),e[Qr]!=null&&t.c(nb(e[Qr]).n(Qr)),t},JP=(e,n)=>{const t=new b($O);return t.cc(e,G),t.l(e,"Tags","Tag",()=>Oo(e[Jt])),t.cc(e,Qn),t},eR=(e,n)=>{const t=new b(Md);return e[ie]!=null&&t.c(b.of(VO,e[ie]).n(ie)),e[oe]!=null&&t.c(tR(e[oe]).n(oe)),t},tR=(e,n)=>{const t=new b(GO);return yd.visit(e,{Prefix:s=>{e[G]!=null&&t.c(b.of(G,s).n(G))},Tag:s=>{e[ye]!=null&&t.c(Io(s).n(ye))},AccessPointArn:s=>{e[Qn]!=null&&t.c(b.of(Qn,s).n(Qn))},And:s=>{e[Ye]!=null&&t.c(JP(s).n(Ye))},_:(s,r)=>{if(!(r instanceof b||r instanceof Ou))throw new Error("Unable to serialize unknown union members in XML.");t.c(new b(s).c(r))}}),t},nR=(e,n)=>{const t=new b(tr);return e[kn]!=null&&t.c(b.of(Te,String(e[kn])).n(kn)),e[_n]!=null&&t.c(b.of(Gb,String(e[_n])).n(_n)),t},sR=(e,n)=>{const t=new b(Ld);return e[kn]!=null&&t.c(b.of(Te,String(e[kn])).n(kn)),e[ge]!=null&&t.c(b.of(jb,e[ge]).n(ge)),e[_n]!=null&&t.c(b.of(Gb,String(e[_n])).n(_n)),t},rR=(e,n)=>e.filter(t=>t!=null).map(t=>sR(t).n(Et)),oR=(e,n)=>{const t=new b(YO);return t.l(e,"TopicConfigurations","TopicConfiguration",()=>r3(e[Gd])),t.l(e,"QueueConfigurations","QueueConfiguration",()=>pR(e[Ud])),t.l(e,"LambdaFunctionConfigurations","CloudFunctionConfiguration",()=>$P(e[Od])),e[Gs]!=null&&t.c(pP(e[Gs]).n(Gs)),t},zu=(e,n)=>{const t=new b(JO);return e[de]!=null&&t.c(NR(e[de]).n(qd)),t},iR=(e,n)=>{const t=new b(s1);return e[de]!=null&&t.c(b.of(Xu,e[de]).n(de)),e[Se]!=null&&t.c(b.of(l1,e[Se]).n(Se)),t.cc(e,Ue),e[Vi]!=null&&t.c(b.of(Vi,Pt(e[Vi]).toString()).n(Vi)),e[Mt]!=null&&t.c(b.of(Mt,String(e[Mt])).n(Mt)),t},aR=(e,n)=>e.filter(t=>t!=null).map(t=>iR(t).n(Et)),cR=(e,n)=>{const t=new b(r1);return t.cc(e,ua),e[rn]!=null&&t.c(uR(e[rn]).n(rn)),t},lR=(e,n)=>{const t=new b(o1);return e[V]!=null&&t.c(b.of(Er,e[V]).n(V)),t},dR=(e,n)=>{const t=new b(i1);return e[wn]!=null&&t.c(b.of(Tb,e[wn]).n(wn)),e[mo]!=null&&t.c(b.of(Zt,xr(e[mo]).toString()).n(mo)),t},uR=(e,n)=>{const t=new b(a1);return e[Ks]!=null&&t.c(hP(e[Ks]).n(Ks)),t},fR=(e,n)=>{const t=new b(da);return e[Hl]!=null&&t.c(LR(e[Hl]).n(Hl)),t},tb=(e,n)=>{const t=new b(nr);return e[Xr]!=null&&t.c(mP(e[Xr]).n(Xr)),e[so]!=null&&t.c(zP(e[so]).n(so)),t},mR=(e,n)=>{const t=new b(Re);return t.cc(e,Dn),t.cc(e,rt),t},hR=(e,n)=>{const t=new b(e1);return t.l(e,"Rules","Rule",()=>gR(e[Pn])),t},yR=(e,n)=>{const t=new b(n1);return t.cc(e,ci),t},gR=(e,n)=>e.filter(t=>t!=null).map(t=>yR(t).n(Et)),bR=(e,n)=>new b(f1),CR=(e,n)=>{const t=new b(sr);return t.cc(e,fa),t},xR=(e,n)=>{const t=new b(u1);return e[Kr]!=null&&t.c(b.of(Xi,String(e[Kr])).n(Kr)),e[to]!=null&&t.c(b.of(Xi,String(e[to])).n(to)),e[Gr]!=null&&t.c(b.of(Xi,String(e[Gr])).n(Gr)),e[uo]!=null&&t.c(b.of(Xi,String(e[uo])).n(uo)),t},SR=(e,n)=>{const t=new b(Fd);return e[ie]!=null&&t.c(b.of(Wu,e[ie]).n(ie)),e[ha]!=null&&t.c(b.of(ha,e[ha]).n(zd)),t.l(e,"Events","Event",()=>Uu(e[es])),e[oe]!=null&&t.c(zu(e[oe]).n(oe)),t},pR=(e,n)=>e.filter(t=>t!=null).map(t=>SR(t).n(Et)),ER=(e,n)=>{const t=new b(ar);return t.cc(e,ls),t.cc(e,ra),t.cc(e,fs),t.cc(e,ga),t.cc(e,ba),t},wR=(e,n)=>{const t=new b(rr);return t.cc(e,ls),t.cc(e,fs),t},kR=(e,n)=>{const t=new b(or);return e[V]!=null&&t.c(b.of(y1,e[V]).n(V)),t},_R=(e,n)=>{const t=new b(h1);return t.cc(e,xa),t.l(e,"Rules","Rule",()=>PR(e[Pn])),t},BR=(e,n)=>{const t=new b(w1);return t.cc(e,rt),e[Ms]!=null&&t.c(b.of(Ms,String(e[Ms])).n(Ms)),t.cc(e,G),e[oe]!=null&&t.c(vR(e[oe]).n(oe)),e[V]!=null&&t.c(b.of(p1,e[V]).n(V)),e[ur]!=null&&t.c(GR(e[ur]).n(ur)),e[Xs]!=null&&t.c(EP(e[Xs]).n(Xs)),e[xt]!=null&&t.c(bP(e[xt]).n(xt)),e[Hs]!=null&&t.c(gP(e[Hs]).n(Hs)),t},AR=(e,n)=>{const t=new b(x1);return t.cc(e,G),t.l(e,"Tags","Tag",()=>Oo(e[Jt])),t},vR=(e,n)=>{const t=new b(S1);return t.cc(e,G),e[ye]!=null&&t.c(Io(e[ye]).n(ye)),e[Ye]!=null&&t.c(AR(e[Ye]).n(Ye)),t},PR=(e,n)=>e.filter(t=>t!=null).map(t=>BR(t).n(Et)),RR=(e,n)=>{const t=new b(ir);return e[V]!=null&&t.c(b.of(B1,e[V]).n(V)),e[Co]!=null&&t.c(nb(e[Co]).n(Co)),t},nb=(e,n)=>{const t=new b(A1);return e[Os]!=null&&t.c(b.of(Os,String(e[Os])).n(Os)),t},TR=(e,n)=>{const t=new b(b1);return t.cc(e,ma),t},IR=(e,n)=>{const t=new b(Ca);return e[Bl]!=null&&t.c(b.of(aO,String(e[Bl])).n(Bl)),t},OR=(e,n)=>{const t=new b(k1);return e[Te]!=null&&t.c(b.of(Te,String(e[Te])).n(Te)),e[na]!=null&&t.c(BP(e[na]).n(na)),e[on]!=null&&t.c(b.of(E1,e[on]).n(on)),t.cc(e,Hb),t.cc(e,oO),e[pa]!=null&&t.c(zR(e[pa]).n(pa)),e[da]!=null&&t.c(fR(e[da]).n(da)),t},MR=(e,n)=>{const t=new b(Qa);return e[js]!=null&&t.c(aP(e[js]).n(js)),e[ar]!=null&&t.c(ER(e[ar]).n(ar)),t},DR=(e,n)=>e.filter(t=>t!=null).map(t=>MR(t).n(Qa)),NR=(e,n)=>{const t=new b(T1);return t.l(e,"FilterRules","FilterRule",()=>_P(e[Pd])),t},LR=(e,n)=>{const t=new b(I1);return t.cc(e,uc),e[G]!=null&&t.c(b.of(LO,e[G]).n(G)),e[Hn]!=null&&t.c(CP(e[Hn]).n(Hn)),e[Sl]!=null&&t.c(b.of(t1,e[Sl]).n(Sl)),t.lc(e,"AccessControlList","AccessControlList",()=>Jg(e[zs])),e[fr]!=null&&t.c(qu(e[fr]).n(fr)),t.lc(e,"UserMetadata","UserMetadata",()=>a3(e[j1])),t.cc(e,ge),t},FR=(e,n)=>{const t=new b(wa);return e[go]!=null&&t.c(b.of(F1,e[go]).n(go)),e[bo]!=null&&t.c(b.of(U1,e[bo]).n(bo)),t},UR=(e,n)=>{const t=new b(Ea);return e[Zi]!=null&&t.c(b.of(Zi,String(e[Zi])).n(Zi)),e[Gi]!=null&&t.c(b.of(Gi,String(e[Gi])).n(Gi)),t},zR=(e,n)=>{const t=new b(pa);return e[Qs]!=null&&t.c(eb(e[Qs]).n(Qs)),t.cc(e,Ab),t.cc(e,vb),e[nr]!=null&&t.c(tb(e[nr]).n(nr)),t},qR=(e,n)=>{const t=new b(D1);return e[ho]!=null&&t.c(b.of(Gt,e[ho]).n(ho)),e[oo]!=null&&t.c(b.of(Dt,e[oo]).n(oo)),t},$R=(e,n)=>{const t=new b(N1);return t.l(e,"Rules","Rule",()=>HR(e[Pn])),t},jR=(e,n)=>{const t=new b(L1);return e[qr]!=null&&t.c(qR(e[qr]).n(qr)),e[Qe]!=null&&t.c(b.of(Qe,String(e[Qe])).n(Qe)),t},HR=(e,n)=>e.filter(t=>t!=null).map(t=>jR(t).n(Et)),KR=(e,n)=>new b(dr),GR=(e,n)=>{const t=new b(ur);return e[lr]!=null&&t.c(WR(e[lr]).n(lr)),e[or]!=null&&t.c(kR(e[or]).n(or)),t},VR=(e,n)=>{const t=new b(Ya);return e[ro]!=null&&t.c(b.of(Dt,e[ro]).n(ro)),t},WR=(e,n)=>{const t=new b(lr);return e[V]!=null&&t.c(b.of(R1,e[V]).n(V)),t},XR=(e,n)=>new b(Ja),ZR=(e,n)=>{const t=new b(cr);return e[Zr]!=null&&t.c(QR(e[Zr]).n(Zr)),t},QR=(e,n)=>{const t=new b(v1);return e[lo]!=null&&t.c(b.of(P1,e[lo]).n(lo)),e[xt]!=null&&t.c(Yv(e[xt]).n(xt)),t},Io=(e,n)=>{const t=new b(ye);return e[de]!=null&&t.c(b.of(Xu,e[de]).n(de)),t.cc(e,mn),t},qu=(e,n)=>{const t=new b(fr);return t.lc(e,"TagSet","TagSet",()=>Oo(e[In])),t},Oo=(e,n)=>e.filter(t=>t!=null).map(t=>Io(t).n(ye)),YR=(e,n)=>{const t=new b(q1);if(e[fn]!=null){const s=Yg(e[fn]).n(fn);s.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),t.c(s)}return e[Kn]!=null&&t.c(b.of($I,e[Kn]).n(Kn)),t},JR=(e,n)=>e.filter(t=>t!=null).map(t=>YR(t).n(ts)),e3=(e,n)=>{const t=new b(mr);return e[dr]!=null&&t.c(KR(e[dr]).n(dr)),e[sr]!=null&&t.c(CR(e[sr]).n(sr)),t},t3=(e,n)=>{const t=new b(Wd);return e[Te]!=null&&t.c(b.of(_O,String(e[Te])).n(Te)),e[Yn]!=null&&t.c(b.of(kO,e[Yn]).n(Yn)),t},n3=(e,n)=>e.filter(t=>t!=null).map(t=>t3(t).n(Et)),s3=(e,n)=>{const t=new b(Kd);return e[ie]!=null&&t.c(b.of(Wu,e[ie]).n(ie)),e[_a]!=null&&t.c(b.of(_a,e[_a]).n(Xd)),t.l(e,"Events","Event",()=>Uu(e[es])),e[oe]!=null&&t.c(zu(e[oe]).n(oe)),t},r3=(e,n)=>e.filter(t=>t!=null).map(t=>s3(t).n(Et)),o3=(e,n)=>{const t=new b(Qd);return e[Zt]!=null&&t.c(b.of(Zt,xr(e[Zt]).toString()).n(Zt)),e[Te]!=null&&t.c(b.of(Te,String(e[Te])).n(Te)),e[ge]!=null&&t.c(b.of(jb,e[ge]).n(ge)),t},i3=(e,n)=>e.filter(t=>t!=null).map(t=>o3(t).n(Et)),a3=(e,n)=>e.filter(t=>t!=null).map(t=>ZP(t).n(Rb)),c3=(e,n)=>{const t=new b(H1);return e[ca]!=null&&t.c(b.of(ca,e[ca]).n(Dd)),e[V]!=null&&t.c(b.of(GI,e[V]).n(V)),t},l3=(e,n)=>{const t=new b(K1);return e[Ws]!=null&&t.c(SP(e[Ws]).n(Ws)),e[Zs]!=null&&t.c(vP(e[Zs]).n(Zs)),e[rr]!=null&&t.c(wR(e[rr]).n(rr)),t.lc(e,"RoutingRules","RoutingRules",()=>DR(e[Mr])),t},d3=(e,n)=>{const t={};return e[Ps]!=null&&(t[Ps]=Le(e[Ps])),t},u3=(e,n)=>{const t={};return e[Re]!=null&&(t[Re]=y(e[Re])),t},f3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>y(t)),m3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>y(t)),h3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>y(t)),y3=(e,n)=>{const t={};return e[G]!=null&&(t[G]=y(e[G])),e.Tag===""?t[Jt]=[]:e[ye]!=null&&(t[Jt]=pr(ae(e[ye]))),t},sb=(e,n)=>{const t={};return e[ie]!=null&&(t[ie]=y(e[ie])),e.Filter===""||e[oe]!=null&&(t[oe]=C3(Ty(e[oe]))),e[cr]!=null&&(t[cr]=yI(e[cr])),t},g3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>sb(t)),b3=(e,n)=>{const t={};return e[vn]!=null&&(t[vn]=x3(e[vn])),t},C3=(e,n)=>e[G]!=null?{Prefix:y(e[G])}:e[ye]!=null?{Tag:Mo(e[ye])}:e[Ye]!=null?{And:y3(e[Ye])}:{$unknown:Object.entries(e)[0]},x3=(e,n)=>{const t={};return e[pn]!=null&&(t[pn]=y(e[pn])),e[jr]!=null&&(t[jr]=y(e[jr])),e[Ee]!=null&&(t[Ee]=y(e[Ee])),e[G]!=null&&(t[G]=y(e[G])),t},S3=(e,n)=>{const t={};return e[nt]!=null&&(t[nt]=y(e[nt])),e[pl]!=null&&(t[pl]=ee(en(e[pl]))),e[ii]!=null&&(t[ii]=y(e[ii])),t},rb=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>S3(t)),p3=(e,n)=>{const t={};return e[He]!=null&&(t[He]=y(e[He])),e[Ke]!=null&&(t[Ke]=y(e[Ke])),e[Ge]!=null&&(t[Ge]=y(e[Ge])),e[Ve]!=null&&(t[Ve]=y(e[Ve])),e[We]!=null&&(t[We]=y(e[We])),e[Xe]!=null&&(t[Xe]=y(e[Xe])),t},ob=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>y(t)),E3=(e,n)=>{const t={};return e[G]!=null&&(t[G]=y(e[G])),t},dc=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>E3(t)),w3=(e,n)=>{const t={};return e[sa]!=null&&(t[sa]=y(e[sa])),e[oa]!=null&&(t[oa]=y(e[oa])),t},k3=(e,n)=>({}),_3=(e,n)=>{const t={};return e[Ue]!=null&&(t[Ue]=y(e[Ue])),e[ot]!=null&&(t[ot]=ee(en(e[ot]))),e[Xe]!=null&&(t[Xe]=y(e[Xe])),e[He]!=null&&(t[He]=y(e[He])),e[Ke]!=null&&(t[Ke]=y(e[Ke])),e[Ge]!=null&&(t[Ge]=y(e[Ge])),e[Ve]!=null&&(t[Ve]=y(e[Ve])),e[We]!=null&&(t[We]=y(e[We])),t},B3=(e,n)=>{const t={};return e[Ue]!=null&&(t[Ue]=y(e[Ue])),e[ot]!=null&&(t[ot]=ee(en(e[ot]))),e[He]!=null&&(t[He]=y(e[He])),e[Ke]!=null&&(t[Ke]=y(e[Ke])),e[Ge]!=null&&(t[Ge]=y(e[Ge])),e[Ve]!=null&&(t[Ve]=y(e[Ve])),e[We]!=null&&(t[We]=y(e[We])),t},A3=(e,n)=>{const t={};return e[rt]!=null&&(t[rt]=y(e[rt])),e.AllowedHeader===""?t[Cd]=[]:e[bd]!=null&&(t[Cd]=f3(ae(e[bd]))),e.AllowedMethod===""?t[Sd]=[]:e[xd]!=null&&(t[Sd]=m3(ae(e[xd]))),e.AllowedOrigin===""?t[Ed]=[]:e[pd]!=null&&(t[Ed]=h3(ae(e[pd]))),e.ExposeHeader===""?t[Bd]=[]:e[Ad]!=null&&(t[Bd]=H3(ae(e[Ad]))),e[Is]!=null&&(t[Is]=Le(e[Is])),t},v3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>A3(t)),P3=(e,n)=>{const t={};return e[wn]!=null&&(t[wn]=y(e[wn])),e[Te]!=null&&(t[Te]=Le(e[Te])),e[Ds]!=null&&(t[Ds]=Le(e[Ds])),t},R3=(e,n)=>{const t={};return e[de]!=null&&(t[de]=y(e[de])),e[Se]!=null&&(t[Se]=y(e[Se])),e[Mn]!=null&&(t[Mn]=_e(e[Mn])),e[kl]!=null&&(t[kl]=y(e[kl])),t},T3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>R3(t)),I3=(e,n)=>{const t={};return e[Re]!=null&&(t[Re]=ps(e[Re])),e[de]!=null&&(t[de]=y(e[de])),e[Se]!=null&&(t[Se]=y(e[Se])),e[Jr]!=null&&(t[Jr]=_e(e[Jr])),e[ot]!=null&&(t[ot]=ee(en(e[ot]))),t},O3=(e,n)=>{const t={};return e[V]!=null&&(t[V]=y(e[V])),t},M3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>I3(t)),D3=(e,n)=>{const t={};return e[Ee]!=null&&(t[Ee]=y(e[Ee])),e[$r]!=null&&(t[$r]=y(e[$r])),e[ge]!=null&&(t[ge]=y(e[ge])),e[qs]!=null&&(t[qs]=u3(e[qs])),e[Vs]!=null&&(t[Vs]=N3(e[Vs])),e[ir]!=null&&(t[ir]=JT(e[ir])),e[er]!=null&&(t[er]=gT(e[er])),t},N3=(e,n)=>{const t={};return e[ya]!=null&&(t[ya]=y(e[ya])),t},L3=(e,n)=>({}),F3=(e,n)=>{const t={};return e[de]!=null&&(t[de]=y(e[de])),e[Se]!=null&&(t[Se]=y(e[Se])),e[wl]!=null&&(t[wl]=y(e[wl])),e[Ol]!=null&&(t[Ol]=y(e[Ol])),t},U3=(e,n)=>{const t={};return e[ea]!=null&&(t[ea]=y(e[ea])),e[ta]!=null&&(t[ta]=y(e[ta])),t},z3=(e,n)=>{const t={};return e[de]!=null&&(t[de]=y(e[de])),t},q3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>F3(t)),$3=(e,n)=>({}),$u=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>y(t)),j3=(e,n)=>{const t={};return e[V]!=null&&(t[V]=y(e[V])),t},H3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>y(t)),K3=(e,n)=>{const t={};return e[nt]!=null&&(t[nt]=y(e[nt])),e[mn]!=null&&(t[mn]=y(e[mn])),t},G3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>K3(t)),V3=(e,n)=>{const t={};return e[Il]!=null&&(t[Il]=yT(e[Il])),e[V]!=null&&(t[V]=y(e[V])),e[ai]!=null&&(t[ai]=U3(e[ai])),t},W3=(e,n)=>{const t={};return e[vo]!=null&&(t[$1]=Le(e[vo])),e[us]!=null&&(t[us]=y(e[us])),e[co]!=null&&(t[co]=y(e[co])),e[Jn]!=null&&(t[Jn]=Le(e[Jn])),e[Ie]!=null&&(t[Ie]=_e(e[Ie])),e.Part===""?t[gi]=[]:e[Za]!=null&&(t[gi]=UT(ae(e[Za]))),t},X3=(e,n)=>{const t={};return e[fn]!=null&&(t[fn]=ib(e[fn])),e[Kn]!=null&&(t[Kn]=y(e[Kn])),t},ib=(e,n)=>{const t={};return e[Dn]!=null&&(t[Dn]=y(e[Dn])),e[Ji]!=null&&(t[Ji]=y(e[Ji])),e[rt]!=null&&(t[rt]=y(e[rt])),e[Pa]!=null&&(t[Pa]=y(e[Pa])),e[Jh]!=null&&(t[on]=y(e[Jh])),t},ab=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>X3(t)),Z3=(e,n)=>{const t={};return e[ka]!=null&&(t[ka]=y(e[ka])),t},cb=(e,n)=>{const t={};return e[rt]!=null&&(t[rt]=y(e[rt])),e[Dn]!=null&&(t[Dn]=y(e[Dn])),t},Q3=(e,n)=>{const t={};return e[G]!=null&&(t[G]=y(e[G])),e.Tag===""?t[Jt]=[]:e[ye]!=null&&(t[Jt]=pr(ae(e[ye]))),t},lb=(e,n)=>{const t={};return e[ie]!=null&&(t[ie]=y(e[ie])),e[oe]!=null&&(t[oe]=J3(e[oe])),e[V]!=null&&(t[V]=y(e[V])),e.Tiering===""?t[Vd]=[]:e[Wd]!=null&&(t[Vd]=pI(ae(e[Wd]))),t},Y3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>lb(t)),J3=(e,n)=>{const t={};return e[G]!=null&&(t[G]=y(e[G])),e[ye]!=null&&(t[ye]=Mo(e[ye])),e[Ye]!=null&&(t[Ye]=Q3(e[Ye])),t},db=(e,n)=>{const t={};return e[xt]!=null&&(t[xt]=tT(e[xt])),e[Ts]!=null&&(t[Ts]=_e(e[Ts])),e[oe]!=null&&(t[oe]=sT(e[oe])),e[ie]!=null&&(t[ie]=y(e[ie])),e[eo]!=null&&(t[eo]=y(e[eo])),e.OptionalFields===""?t[Or]=[]:e[Or]!=null&&e[Or][Rd]!=null&&(t[Or]=rT(ae(e[Or][Rd]))),e[yo]!=null&&(t[yo]=iT(e[yo])),t},eT=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>db(t)),tT=(e,n)=>{const t={};return e[vn]!=null&&(t[vn]=oT(e[vn])),t},nT=(e,n)=>{const t={};return e[Ja]!=null&&(t[jd]=mI(e[Ja])),e[Ya]!=null&&(t[$d]=uI(e[Ya])),t},sT=(e,n)=>{const t={};return e[G]!=null&&(t[G]=y(e[G])),t},rT=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>y(t)),oT=(e,n)=>{const t={};return e[zr]!=null&&(t[zr]=y(e[zr])),e[Ee]!=null&&(t[Ee]=y(e[Ee])),e[pn]!=null&&(t[pn]=y(e[pn])),e[G]!=null&&(t[G]=y(e[G])),e[Hn]!=null&&(t[Hn]=nT(e[Hn])),t},iT=(e,n)=>{const t={};return e[Yr]!=null&&(t[Yr]=y(e[Yr])),t},aT=(e,n)=>{const t={};return e[ie]!=null&&(t[ie]=y(e[ie])),e[wd]!=null&&(t[ia]=y(e[wd])),e.Event===""?t[es]=[]:e[yr]!=null&&(t[es]=$u(ae(e[yr]))),e[oe]!=null&&(t[oe]=ju(e[oe])),t},cT=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>aT(t)),lT=(e,n)=>{const t={};return e[Zt]!=null&&(t[Zt]=ee(en(e[Zt]))),e[Te]!=null&&(t[Te]=Le(e[Te])),e[Rs]!=null&&(t[Rs]=_e(e[Rs])),t},dT=(e,n)=>{const t={};return e[Qt]!=null&&(t[Qt]=lT(e[Qt])),e[rt]!=null&&(t[rt]=y(e[rt])),e[G]!=null&&(t[G]=y(e[G])),e[oe]!=null&&(t[oe]=fT(e[oe])),e[V]!=null&&(t[V]=y(e[V])),e.Transition===""?t[Zd]=[]:e[Qd]!=null&&(t[Zd]=_I(ae(e[Qd]))),e.NoncurrentVersionTransition===""?t[Nd]=[]:e[Ld]!=null&&(t[Nd]=kT(ae(e[Ld]))),e[tr]!=null&&(t[tr]=ET(e[tr])),e[$s]!=null&&(t[$s]=d3(e[$s])),t},uT=(e,n)=>{const t={};return e[G]!=null&&(t[G]=y(e[G])),e.Tag===""?t[Jt]=[]:e[ye]!=null&&(t[Jt]=pr(ae(e[ye]))),e[Bn]!=null&&(t[Bn]=vt(e[Bn])),e[An]!=null&&(t[An]=vt(e[An])),t},fT=(e,n)=>{const t={};return e[G]!=null&&(t[G]=y(e[G])),e[ye]!=null&&(t[ye]=Mo(e[ye])),e[Bn]!=null&&(t[Bn]=vt(e[Bn])),e[An]!=null&&(t[An]=vt(e[An])),e[Ye]!=null&&(t[Ye]=uT(e[Ye])),t},mT=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>dT(t)),hT=(e,n)=>{const t={};return e[Ba]!=null&&(t[Ba]=y(e[Ba])),e.TargetGrants===""?t[Dr]=[]:e[Dr]!=null&&e[Dr][ts]!=null&&(t[Dr]=CI(ae(e[Dr][ts]))),e[Aa]!=null&&(t[Aa]=y(e[Aa])),e[mr]!=null&&(t[mr]=xI(e[mr])),t},yT=(e,n)=>{const t={};return e[jl]!=null&&(t[jl]=sI(e[jl])),t},gT=(e,n)=>{const t={};return e[V]!=null&&(t[V]=y(e[V])),e[Qr]!=null&&(t[Qr]=mb(e[Qr])),t},bT=(e,n)=>{const t={};return e[G]!=null&&(t[G]=y(e[G])),e.Tag===""?t[Jt]=[]:e[ye]!=null&&(t[Jt]=pr(ae(e[ye]))),e[Qn]!=null&&(t[Qn]=y(e[Qn])),t},ub=(e,n)=>{const t={};return e[ie]!=null&&(t[ie]=y(e[ie])),e.Filter===""||e[oe]!=null&&(t[oe]=xT(Ty(e[oe]))),t},CT=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>ub(t)),xT=(e,n)=>e[G]!=null?{Prefix:y(e[G])}:e[ye]!=null?{Tag:Mo(e[ye])}:e[Qn]!=null?{AccessPointArn:y(e[Qn])}:e[Ye]!=null?{And:bT(e[Ye])}:{$unknown:Object.entries(e)[0]},ST=(e,n)=>{const t={};return e[an]!=null&&(t[an]=y(e[an])),e[de]!=null&&(t[de]=y(e[de])),e[Pl]!=null&&(t[Pl]=ee(en(e[Pl]))),e[ge]!=null&&(t[ge]=y(e[ge])),e[Re]!=null&&(t[Re]=ps(e[Re])),e[no]!=null&&(t[no]=cb(e[no])),e[xe]!=null&&(t[xe]=y(e[xe])),e[Xe]!=null&&(t[Xe]=y(e[Xe])),t},pT=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>ST(t)),ET=(e,n)=>{const t={};return e[kn]!=null&&(t[kn]=Le(e[kn])),e[_n]!=null&&(t[_n]=Le(e[_n])),t},wT=(e,n)=>{const t={};return e[kn]!=null&&(t[kn]=Le(e[kn])),e[ge]!=null&&(t[ge]=y(e[ge])),e[_n]!=null&&(t[_n]=Le(e[_n])),t},kT=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>wT(t)),ju=(e,n)=>{const t={};return e[qd]!=null&&(t[de]=nI(e[qd])),t},_T=(e,n)=>{const t={};return e[de]!=null&&(t[de]=y(e[de])),e[ot]!=null&&(t[ot]=ee(en(e[ot]))),e[Ue]!=null&&(t[Ue]=y(e[Ue])),e.ChecksumAlgorithm===""?t[xe]=[]:e[xe]!=null&&(t[xe]=ob(ae(e[xe]))),e[Xe]!=null&&(t[Xe]=y(e[Xe])),e[Mt]!=null&&(t[Mt]=vt(e[Mt])),e[ge]!=null&&(t[ge]=y(e[ge])),e[Re]!=null&&(t[Re]=ps(e[Re])),e[fo]!=null&&(t[fo]=hb(e[fo])),t},fb=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>_T(t)),BT=(e,n)=>{const t={};return e[ua]!=null&&(t[ua]=y(e[ua])),e[rn]!=null&&(t[rn]=PT(e[rn])),t},AT=(e,n)=>{const t={};return e[V]!=null&&(t[V]=y(e[V])),t},vT=(e,n)=>{const t={};return e[wn]!=null&&(t[wn]=y(e[wn])),e[mo]!=null&&(t[mo]=ee(en(e[mo]))),t},PT=(e,n)=>{const t={};return e[Ks]!=null&&(t[Ks]=P3(e[Ks])),t},RT=(e,n)=>{const t={};return e[sn]!=null&&(t[sn]=Le(e[sn])),e[Mt]!=null&&(t[Mt]=vt(e[Mt])),e[He]!=null&&(t[He]=y(e[He])),e[Ke]!=null&&(t[Ke]=y(e[Ke])),e[Ge]!=null&&(t[Ge]=y(e[Ge])),e[Ve]!=null&&(t[Ve]=y(e[Ve])),e[We]!=null&&(t[We]=y(e[We])),t},TT=(e,n)=>{const t={};return e[Ue]!=null&&(t[Ue]=y(e[Ue])),e.ChecksumAlgorithm===""?t[xe]=[]:e[xe]!=null&&(t[xe]=ob(ae(e[xe]))),e[Xe]!=null&&(t[Xe]=y(e[Xe])),e[Mt]!=null&&(t[Mt]=vt(e[Mt])),e[ge]!=null&&(t[ge]=y(e[ge])),e[de]!=null&&(t[de]=y(e[de])),e[Se]!=null&&(t[Se]=y(e[Se])),e[Jr]!=null&&(t[Jr]=_e(e[Jr])),e[ot]!=null&&(t[ot]=ee(en(e[ot]))),e[Re]!=null&&(t[Re]=ps(e[Re])),e[fo]!=null&&(t[fo]=hb(e[fo])),t},IT=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>TT(t)),ps=(e,n)=>{const t={};return e[Dn]!=null&&(t[Dn]=y(e[Dn])),e[rt]!=null&&(t[rt]=y(e[rt])),t},OT=(e,n)=>{const t={};return e.Rule===""?t[Pn]=[]:e[rn]!=null&&(t[Pn]=DT(ae(e[rn]))),t},MT=(e,n)=>{const t={};return e[ci]!=null&&(t[ci]=y(e[ci])),t},DT=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>MT(t)),NT=(e,n)=>{const t={};return e[sn]!=null&&(t[sn]=Le(e[sn])),e[ot]!=null&&(t[ot]=ee(en(e[ot]))),e[Ue]!=null&&(t[Ue]=y(e[Ue])),e[Mt]!=null&&(t[Mt]=vt(e[Mt])),e[He]!=null&&(t[He]=y(e[He])),e[Ke]!=null&&(t[Ke]=y(e[Ke])),e[Ge]!=null&&(t[Ge]=y(e[Ge])),e[Ve]!=null&&(t[Ve]=y(e[Ve])),e[We]!=null&&(t[We]=y(e[We])),t},LT=(e,n)=>{const t={};return e[fa]!=null&&(t[fa]=y(e[fa])),t},FT=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>NT(t)),UT=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>RT(t)),zT=(e,n)=>{const t={};return e[Al]!=null&&(t[Al]=_e(e[Al])),t},qT=(e,n)=>{const t={};return e[Wr]!=null&&(t[Wr]=vt(e[Wr])),e[Hr]!=null&&(t[Hr]=vt(e[Hr])),e[Vr]!=null&&(t[Vr]=vt(e[Vr])),t},$T=(e,n)=>{const t={};return e[Kr]!=null&&(t[Kr]=_e(e[Kr])),e[to]!=null&&(t[to]=_e(e[to])),e[Gr]!=null&&(t[Gr]=_e(e[Gr])),e[uo]!=null&&(t[uo]=_e(e[uo])),t},jT=(e,n)=>{const t={};return e[ie]!=null&&(t[ie]=y(e[ie])),e[zd]!=null&&(t[ha]=y(e[zd])),e.Event===""?t[es]=[]:e[yr]!=null&&(t[es]=$u(ae(e[yr]))),e[oe]!=null&&(t[oe]=ju(e[oe])),t},HT=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>jT(t)),KT=(e,n)=>{const t={};return e[ls]!=null&&(t[ls]=y(e[ls])),e[ra]!=null&&(t[ra]=y(e[ra])),e[fs]!=null&&(t[fs]=y(e[fs])),e[ga]!=null&&(t[ga]=y(e[ga])),e[ba]!=null&&(t[ba]=y(e[ba])),t},GT=(e,n)=>{const t={};return e[ls]!=null&&(t[ls]=y(e[ls])),e[fs]!=null&&(t[fs]=y(e[fs])),t},VT=(e,n)=>{const t={};return e[V]!=null&&(t[V]=y(e[V])),t},WT=(e,n)=>{const t={};return e[xa]!=null&&(t[xa]=y(e[xa])),e.Rule===""?t[Pn]=[]:e[rn]!=null&&(t[Pn]=YT(ae(e[rn]))),t},XT=(e,n)=>{const t={};return e[rt]!=null&&(t[rt]=y(e[rt])),e[Ms]!=null&&(t[Ms]=Le(e[Ms])),e[G]!=null&&(t[G]=y(e[G])),e[oe]!=null&&(t[oe]=QT(e[oe])),e[V]!=null&&(t[V]=y(e[V])),e[ur]!=null&&(t[ur]=dI(e[ur])),e[Xs]!=null&&(t[Xs]=j3(e[Xs])),e[xt]!=null&&(t[xt]=D3(e[xt])),e[Hs]!=null&&(t[Hs]=O3(e[Hs])),t},ZT=(e,n)=>{const t={};return e[G]!=null&&(t[G]=y(e[G])),e.Tag===""?t[Jt]=[]:e[ye]!=null&&(t[Jt]=pr(ae(e[ye]))),t},QT=(e,n)=>{const t={};return e[G]!=null&&(t[G]=y(e[G])),e[ye]!=null&&(t[ye]=Mo(e[ye])),e[Ye]!=null&&(t[Ye]=ZT(e[Ye])),t},YT=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>XT(t)),JT=(e,n)=>{const t={};return e[V]!=null&&(t[V]=y(e[V])),e[Co]!=null&&(t[Co]=mb(e[Co])),t},mb=(e,n)=>{const t={};return e[Os]!=null&&(t[Os]=Le(e[Os])),t},hb=(e,n)=>{const t={};return e[vl]!=null&&(t[vl]=_e(e[vl])),e[zl]!=null&&(t[zl]=ee(en(e[zl]))),t},eI=(e,n)=>{const t={};return e[js]!=null&&(t[js]=w3(e[js])),e[ar]!=null&&(t[ar]=KT(e[ar])),t},tI=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>eI(t)),nI=(e,n)=>{const t={};return e.FilterRule===""?t[Pd]=[]:e[vd]!=null&&(t[Pd]=G3(ae(e[vd]))),t},sI=(e,n)=>{const t={};return e[go]!=null&&(t[go]=y(e[go])),e[bo]!=null&&(t[bo]=y(e[bo])),e[Kl]!=null&&(t[Kl]=y(e[Kl])),e[Gl]!=null&&(t[Gl]=y(e[Gl])),t},rI=(e,n)=>{const t={};return e[ho]!=null&&(t[ho]=y(e[ho])),e[oo]!=null&&(t[oo]=y(e[oo])),t},oI=(e,n)=>{const t={};return e.Rule===""?t[Pn]=[]:e[rn]!=null&&(t[Pn]=aI(ae(e[rn]))),t},iI=(e,n)=>{const t={};return e[qr]!=null&&(t[qr]=rI(e[qr])),e[Qe]!=null&&(t[Qe]=_e(e[Qe])),t},aI=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>iI(t)),cI=(e,n)=>{const t={};return e[Cl]!=null&&(t[Cl]=y(e[Cl])),e[ql]!=null&&(t[ql]=y(e[ql])),e[$l]!=null&&(t[$l]=y(e[$l])),e[Qt]!=null&&(t[Qt]=ee(en(e[Qt]))),t},lI=(e,n)=>({}),dI=(e,n)=>{const t={};return e[lr]!=null&&(t[lr]=fI(e[lr])),e[or]!=null&&(t[or]=VT(e[or])),t},uI=(e,n)=>{const t={};return e[ro]!=null&&(t[ro]=y(e[ro])),t},fI=(e,n)=>{const t={};return e[V]!=null&&(t[V]=y(e[V])),t},mI=(e,n)=>({}),hI=(e,n)=>{const t={};return e[Wr]!=null&&(t[Wr]=vt(e[Wr])),e[Hr]!=null&&(t[Hr]=vt(e[Hr])),e[Vr]!=null&&(t[Vr]=vt(e[Vr])),t},yI=(e,n)=>{const t={};return e[Zr]!=null&&(t[Zr]=gI(e[Zr])),t},gI=(e,n)=>{const t={};return e[lo]!=null&&(t[lo]=y(e[lo])),e[xt]!=null&&(t[xt]=b3(e[xt])),t},Mo=(e,n)=>{const t={};return e[de]!=null&&(t[de]=y(e[de])),e[mn]!=null&&(t[mn]=y(e[mn])),t},pr=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>Mo(t)),bI=(e,n)=>{const t={};return e[fn]!=null&&(t[fn]=ib(e[fn])),e[Kn]!=null&&(t[Kn]=y(e[Kn])),t},CI=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>bI(t)),xI=(e,n)=>{const t={};return e[dr]!=null&&(t[dr]=lI(e[dr])),e[sr]!=null&&(t[sr]=LT(e[sr])),t},SI=(e,n)=>{const t={};return e[Te]!=null&&(t[Te]=Le(e[Te])),e[Yn]!=null&&(t[Yn]=y(e[Yn])),t},pI=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>SI(t)),EI=(e,n)=>{const t={};return e[ie]!=null&&(t[ie]=y(e[ie])),e[Xd]!=null&&(t[_a]=y(e[Xd])),e.Event===""?t[es]=[]:e[yr]!=null&&(t[es]=$u(ae(e[yr]))),e[oe]!=null&&(t[oe]=ju(e[oe])),t},wI=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>EI(t)),kI=(e,n)=>{const t={};return e[Zt]!=null&&(t[Zt]=ee(en(e[Zt]))),e[Te]!=null&&(t[Te]=Le(e[Te])),e[ge]!=null&&(t[ge]=y(e[ge])),t},_I=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>kI(t)),T=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),BI=(e,n)=>ce(e,n).then(t=>n.utf8Encoder(t)),Ye="And",AI="AnalyticsAndOperator",gd="AnalyticsConfiguration",Do="ACL",zs="AccessControlList",Ih="AnalyticsConfigurationList",vI="AccessControlPolicy",qs="AccessControlTranslation",PI="AccelerateConfiguration",yb="AbortDate",RI="AnalyticsExportDestination",TI="AnalyticsFilter",bd="AllowedHeader",Cd="AllowedHeaders",II="AnalyticsId",$s="AbortIncompleteMultipartUpload",zr="AccountId",Cl="AccessKeyId",xd="AllowedMethod",Sd="AllowedMethods",pd="AllowedOrigin",Ed="AllowedOrigins",OI="AccessPointAlias",Qn="AccessPointArn",Hi="AllowQuotedRecordDelimiter",Hu="AcceptRanges",gb="AbortRuleId",MI="ArchiveStatus",DI="AnalyticsS3BucketDestination",NI="AnalyticsS3ExportFileFormat",qr="ApplyServerSideEncryptionByDefault",Yn="AccessTier",$r="Account",Ee="Bucket",jr="BucketAccountId",LI="BucketAccelerateStatus",Bo="BypassGovernanceRetention",FI="BucketInfo",Qe="BucketKeyEnabled",UI="BucketLifecycleConfiguration",zI="BucketLocationConstraint",qI="BucketLocationName",$I="BucketLogsPermission",jI="BucketLoggingStatus",HI="BucketLocationType",uc="BucketName",Hr="BytesProcessed",Kr="BlockPublicAcls",Gr="BlockPublicPolicy",ii="BucketRegion",Vr="BytesReturned",Wr="BytesScanned",KI="BucketType",GI="BucketVersioningStatus",$n="Buckets",xl="Credentials",xe="ChecksumAlgorithm",Sl="CannedACL",VI="CreateBucketConfiguration",No="CacheControl",He="ChecksumCRC32",Ke="ChecksumCRC32C",Ge="ChecksumCRC64NVME",Lo="ContentDisposition",pl="CreationDate",Fo="ContentEncoding",wd="CloudFunction",Oh="CloudFunctionConfiguration",Uo="ContentLanguage",xs="ContentLength",bb="ChecksumMode",gt="ContentMD5",WI="CompletedMultipartUpload",XI="CORSConfiguration",kd="CORSRule",_d="CORSRules",$t="CommonPrefixes",ZI="CompletedPart",Ku="ContentRange",Mh="ConfirmRemoveSelfBucketAccess",Cb="CopySource",Ve="ChecksumSHA1",We="ChecksumSHA256",xb="CopySourceIfMatch",Ka="CopySourceIfModifiedSince",Sb="CopySourceIfNoneMatch",Ga="CopySourceIfUnmodifiedSince",QI="CopySourceRange",pb="CopySourceSSECustomerAlgorithm",Eb="CopySourceSSECustomerKey",wb="CopySourceSSECustomerKeyMD5",Xr="CSV",kb="CopySourceVersionId",YI="CSVInput",JI="CSVOutput",Xe="ChecksumType",zo="ContentType",eO="CompressionType",Fe="ContinuationToken",El="Checksum",as="Contents",wl="Code",tO="Comments",js="Condition",jt="Delimiter",Ps="DaysAfterInitiation",Zr="DataExport",Mn="DeleteMarker",Hs="DeleteMarkerReplication",nO="DeleteMarkerReplicationStatus",kl="DeleteMarkerVersionId",Dh="DeleteMarkers",Dn="DisplayName",sO="DataRedundancy",Ks="DefaultRetention",Te="Days",Zt="Date",Ki="Deleted",rO="Delete",xt="Destination",oO="Description",Gn="Expires",Ji="EmailAddress",Gs="EventBridgeConfiguration",H="ExpectedBucketOwner",ea="ErrorCode",Vs="EncryptionConfiguration",Ws="ErrorDocument",Bd="ExposeHeaders",Ad="ExposeHeader",ta="ErrorMessage",Rs="ExpiredObjectDeleteMarker",Xs="ExistingObjectReplication",iO="ExistingObjectReplicationStatus",aO="EnableRequestProgress",_b="ExpiresString",Bb="ExpectedSourceBucketOwner",cO="ExpirationStatus",Ht="EncodingType",Ue="ETag",_l="EncryptionType",Qr="EventThreshold",Ab="ExpressionType",Hn="Encryption",Bl="Enabled",Gi="End",ai="Error",Nh="Errors",yr="Event",es="Events",vb="Expression",Qt="Expiration",oe="Filter",Pb="FieldDelimiter",lO="FileHeaderInfo",dO="FetchOwner",vd="FilterRule",uO="FilterRuleName",fO="FilterRuleValue",Pd="FilterRules",Rd="Field",pn="Format",Yr="Frequency",ts="Grant",qo="GrantFullControl",na="GlacierJobParameters",$o="GrantRead",jo="GrantReadACP",Gu="GrantWrite",Ho="GrantWriteACP",yi="Grants",fn="Grantee",sa="HttpErrorCodeReturnedEquals",ls="HostName",ra="HttpRedirectCode",ie="Id",Td="InventoryConfiguration",Lh="InventoryConfigurationList",Zs="IndexDocument",rt="ID",mO="InventoryDestination",Ts="IsEnabled",hO="InventoryEncryption",yO="InventoryFilter",gO="InventoryFormat",bO="InventoryFrequency",CO="InventoryId",xO="InventoryIncludedObjectVersions",Jr="IsLatest",Si="IfMatch",Fh="IfMatchInitiatedTime",Uh="IfMatchLastModifiedTime",zh="IfMatchSize",Va="IfModifiedSince",fc="IfNoneMatch",SO="InventoryOptionalField",eo="IncludedObjectVersions",Al="IsPublic",to="IgnorePublicAcls",vl="IsRestoreInProgress",Qs="InputSerialization",pO="InventoryS3BucketDestination",EO="InventorySchedule",Ie="IsTruncated",wO="IntelligentTieringAndOperator",kO="IntelligentTieringAccessTier",Id="IntelligentTieringConfiguration",qh="IntelligentTieringConfigurationList",_O="IntelligentTieringDays",BO="IntelligentTieringFilter",AO="IntelligentTieringId",vO="IntelligentTieringStatus",Wa="IfUnmodifiedSince",no="Initiator",Pl="Initiated",so="JSON",PO="JSONInput",RO="JSONOutput",TO="JSONType",de="Key",Rl="KeyCount",ro="KeyId",ds="KeyMarker",IO="KMSContext",Tl="KMSKeyId",oo="KMSMasterKeyID",oa="KeyPrefixEquals",Ys="Location",io="LocationConstraint",Js="LoggingEnabled",OO="LifecycleExpiration",ia="LambdaFunctionArn",Od="LambdaFunctionConfigurations",MO="LambdaFunctionConfiguration",DO="LocationInfo",ot="LastModified",Vi="LastModifiedTime",NO="LocationNameAsString",LO="LocationPrefix",FO="LifecycleRule",UO="LifecycleRuleAndOperator",zO="LifecycleRuleFilter",qO="LocationType",aa="Marker",$O="MetricsAndOperator",Is="MaxAgeSeconds",jO="MaxBuckets",Md="MetricsConfiguration",$h="MetricsConfigurationList",HO="MetadataDirective",KO="MaxDirectoryBuckets",Dd="MfaDelete",Rb="MetadataEntry",GO="MetricsFilter",Vu="MFA",ca="MFADelete",VO="MetricsId",En="MaxKeys",WO="MetadataKey",Xa="MissingMeta",jh="MpuObjectSize",Jn="MaxParts",XO="MetricsStatus",ZO="MetadataTableConfiguration",Il="MetadataTableConfigurationResult",la="MaxUploads",QO="MetadataValue",er="Metrics",Ol="Message",Os="Minutes",wn="Mode",nt="Name",YO="NotificationConfiguration",JO="NotificationConfigurationFilter",Yt="NextContinuationToken",kn="NoncurrentDays",Wu="NotificationId",ao="NextKeyMarker",Ml="NextMarker",_n="NewerNoncurrentVersions",co="NextPartNumberMarker",Dl="NextUploadIdMarker",tr="NoncurrentVersionExpiration",Nl="NextVersionIdMarker",Nd="NoncurrentVersionTransitions",Ld="NoncurrentVersionTransition",Re="Owner",Hh="ObjectAttributes",e1="OwnershipControls",t1="ObjectCannedACL",n1="OwnershipControlsRule",Or="OptionalFields",s1="ObjectIdentifier",Xu="ObjectKey",da="OutputLocation",r1="ObjectLockConfiguration",ua="ObjectLockEnabled",Kh="ObjectLockEnabledForBucket",o1="ObjectLockLegalHold",Er="ObjectLockLegalHoldStatus",Ko="ObjectLockMode",i1="ObjectLockRetention",Tb="ObjectLockRetentionMode",Vn="ObjectLockRetainUntilDate",a1="ObjectLockRule",ci="ObjectOwnership",Ao="OptionalObjectAttributes",c1="OwnerOverride",Ll="ObjectParts",nr="OutputSerialization",Bn="ObjectSizeGreaterThan",Ib="ObjectSizeGreaterThanBytes",An="ObjectSizeLessThan",Ob="ObjectSizeLessThanBytes",lo="OutputSchemaVersion",Fl="ObjectSize",l1="ObjectVersionId",d1="Objects",G="Prefix",u1="PublicAccessBlockConfiguration",vo="PartsCount",fa="PartitionDateSource",f1="ParquetInput",sn="PartNumber",us="PartNumberMarker",sr="PartitionedPrefix",ma="Payer",Za="Part",Ul="Parquet",gi="Parts",Kn="Permission",fs="Protocol",Ms="Priority",Wi="Quiet",ha="QueueArn",Fd="QueueConfiguration",Ud="QueueConfigurations",Mb="QuoteCharacter",Db="QuoteEscapeCharacter",m1="QuoteFields",zd="Queue",Nb="Range",rr="RedirectAllRequestsTo",Je="RequestCharged",Lb="ResponseCacheControl",Fb="ResponseContentDisposition",Ub="ResponseContentEncoding",zb="ResponseContentLanguage",qb="ResponseContentType",h1="ReplicationConfiguration",Zu="RecordDelimiter",$b="ResponseExpires",zl="RestoreExpiryDate",ya="ReplicaKmsKeyID",ga="ReplaceKeyPrefixWith",ba="ReplaceKeyWith",or="ReplicaModifications",y1="ReplicaModificationsStatus",g1="RestoreOutputPath",Oe="RequestPayer",uo="RestrictPublicBuckets",b1="RequestPaymentConfiguration",Ca="RequestProgress",C1="RequestRoute",x1="ReplicationRuleAndOperator",S1="ReplicationRuleFilter",p1="ReplicationRuleStatus",E1="RestoreRequestType",w1="ReplicationRule",k1="RestoreRequest",Mr="RoutingRules",Qa="RoutingRule",Qu="ReplicationStatus",fo="RestoreStatus",_1="RequestToken",B1="ReplicationTimeStatus",A1="ReplicationTimeValue",ir="ReplicationTime",mo="RetainUntilDate",Yu="Restore",ar="Redirect",xa="Role",rn="Rule",Pn="Rules",V="Status",Sa="StartAfter",ql="SecretAccessKey",vn="S3BucketDestination",ge="StorageClass",cr="StorageClassAnalysis",v1="StorageClassAnalysisDataExport",P1="StorageClassAnalysisSchemaVersion",Gh="StatusCode",Vh="SkipDestinationValidation",Ya="SSE-KMS",lr="SseKmsEncryptedObjects",R1="SseKmsEncryptedObjectsStatus",T1="S3KeyFilter",qd="S3Key",I1="S3Location",O1="SessionMode",M1="SelectObjectContentRequest",pa="SelectParameters",dr="SimplePrefix",Ea="ScanRange",Ja="SSE-S3",ur="SourceSelectionCriteria",Gt="ServerSideEncryption",ho="SSEAlgorithm",D1="ServerSideEncryptionByDefault",N1="ServerSideEncryptionConfiguration",St="SSECustomerAlgorithm",Nn="SSECustomerKey",pt="SSECustomerKeyMD5",$d="SSEKMS",Es="SSEKMSEncryptionContext",Dt="SSEKMSKeyId",L1="ServerSideEncryptionRule",jd="SSES3",$l="SessionToken",F1="S3TablesBucketArn",wa="S3TablesDestination",jl="S3TablesDestinationResult",U1="S3TablesName",Hl="S3",yo="Schedule",Xi="Setting",Mt="Size",Zi="Start",ka="Suffix",fr="Tagging",_a="TopicArn",Kl="TableArn",Ba="TargetBucket",go="TableBucketArn",Hd="TagCount",Kd="TopicConfiguration",Gd="TopicConfigurations",z1="TaggingDirective",Ju="TransitionDefaultMinimumObjectSize",Dr="TargetGrants",q1="TargetGrant",bo="TableName",Gl="TableNamespace",mr="TargetObjectKeyFormat",Aa="TargetPrefix",$1="TotalPartsCount",In="TagSet",jb="TransitionStorageClass",ye="Tag",Jt="Tags",Hb="Tier",Vd="Tierings",Wd="Tiering",Co="Time",Kb="Token",Xd="Topic",Zd="Transitions",Qd="Transition",on="Type",Wh="Upload",an="UploadId",va="UploadIdMarker",j1="UserMetadata",Pa="URI",Xh="Uploads",Zh="Version",Gb="VersionCount",H1="VersioningConfiguration",Se="VersionId",Ra="VersionIdMarker",mn="Value",Qh="Versions",K1="WebsiteConfiguration",Yh="WriteOffsetBytes",pi="WebsiteRedirectLocation",Ds="Years",mc="analytics",Vb="accelerate",hc="acl",Wb="accept-ranges",G1="attributes",V1="bucket-region",ef="cors",Ei="cache-control",wi="content-disposition",ki="content-encoding",_i="content-language",gr="content-length",bt="content-md5",Xb="content-range",Bi="content-type",wr="continuation-token",W1="delete",yc="delimiter",br="expires",tf="encryption",gc="encoding-type",bc="etag",Zb="expiresstring",X1="fetch-owner",Rn="id",Ai="if-match",Qb="if-modified-since",Cc="inventory",xc="if-none-match",Sc="intelligent-tiering",Yb="if-unmodified-since",Jb="key-marker",nf="lifecycle",eC="legal-hold",Po="last-modified",tC="location",nC="logging",Z1="list-type",pc="metrics",sf="metadataTable",Q1="marker",Y1="max-buckets",J1="max-directory-buckets",Et="member",rf="max-keys",eM="max-parts",tM="max-uploads",sC="notification",of="ownershipControls",rC="object-lock",af="policy",cf="publicAccessBlock",Ec="partNumber",nM="policyStatus",sM="part-number-marker",vi="prefix",lf="replication",oC="requestPayment",iC="range",aC="response-cache-control",cC="response-content-disposition",lC="response-content-encoding",dC="response-content-language",uC="response-content-type",fC="response-expires",rM="restore",mC="retention",oM="session",iM="start-after",aM="select",cM="select-type",Go="tagging",lM="torrent",hC="uploads",Pi="uploadId",dM="upload-id-marker",yC="versioning",ln="versionId",Me='<?xml version="1.0" encoding="UTF-8"?>',uM="versions",fM="version-id-marker",df="website",Jh="xsi:type",Vo="x-amz-acl",ec="x-amz-abort-date",ey="x-amz-access-point-alias",gC="x-amz-abort-rule-id",mM="x-amz-archive-status",uf="x-amz-bypass-governance-retention",hM="x-amz-bucket-location-name",yM="x-amz-bucket-location-type",gM="x-amz-bucket-object-lock-enabled",bC="x-amz-bucket-object-lock-token",bM="x-amz-bucket-region",ff="x-amz-checksum-algorithm",kr="x-amz-checksum-crc32",_r="x-amz-checksum-crc32c",Br="x-amz-checksum-crc64nvme",CC="x-amz-checksum-mode",CM="x-amz-confirm-remove-self-bucket-access",Ar="x-amz-checksum-sha1",vr="x-amz-checksum-sha256",xC="x-amz-copy-source",SC="x-amz-copy-source-if-match",pC="x-amz-copy-source-if-modified-since",EC="x-amz-copy-source-if-none-match",wC="x-amz-copy-source-if-unmodified-since",xM="x-amz-create-session-mode",SM="x-amz-copy-source-range",kC="x-amz-copy-source-server-side-encryption-customer-algorithm",_C="x-amz-copy-source-server-side-encryption-customer-key",BC="x-amz-copy-source-server-side-encryption-customer-key-md5",AC="x-amz-copy-source-version-id",Wo="x-amz-checksum-type",Ss="x-amz-delete-marker",Ri="x-amz-expiration",K="x-amz-expected-bucket-owner",pM="x-amz-fwd-error-code",EM="x-amz-fwd-error-message",wM="x-amz-fwd-header-accept-ranges",kM="x-amz-fwd-header-cache-control",_M="x-amz-fwd-header-content-disposition",BM="x-amz-fwd-header-content-encoding",AM="x-amz-fwd-header-content-language",vM="x-amz-fwd-header-content-range",PM="x-amz-fwd-header-content-type",RM="x-amz-fwd-header-etag",TM="x-amz-fwd-header-expires",IM="x-amz-fwd-header-last-modified",OM="x-amz-fwd-header-x-amz-checksum-crc32",MM="x-amz-fwd-header-x-amz-checksum-crc32c",DM="x-amz-fwd-header-x-amz-checksum-crc64nvme",NM="x-amz-fwd-header-x-amz-checksum-sha1",LM="x-amz-fwd-header-x-amz-checksum-sha256",FM="x-amz-fwd-header-x-amz-delete-marker",UM="x-amz-fwd-header-x-amz-expiration",zM="x-amz-fwd-header-x-amz-missing-meta",qM="x-amz-fwd-header-x-amz-mp-parts-count",$M="x-amz-fwd-header-x-amz-object-lock-legal-hold",jM="x-amz-fwd-header-x-amz-object-lock-mode",HM="x-amz-fwd-header-x-amz-object-lock-retain-until-date",KM="x-amz-fwd-header-x-amz-restore",GM="x-amz-fwd-header-x-amz-request-charged",VM="x-amz-fwd-header-x-amz-replication-status",WM="x-amz-fwd-header-x-amz-storage-class",XM="x-amz-fwd-header-x-amz-server-side-encryption",ZM="x-amz-fwd-header-x-amz-server-side-encryption-aws-kms-key-id",QM="x-amz-fwd-header-x-amz-server-side-encryption-bucket-key-enabled",YM="x-amz-fwd-header-x-amz-server-side-encryption-customer-algorithm",JM="x-amz-fwd-header-x-amz-server-side-encryption-customer-key-md5",e2="x-amz-fwd-header-x-amz-tagging-count",t2="x-amz-fwd-header-x-amz-version-id",n2="x-amz-fwd-status",Xo="x-amz-grant-full-control",Zo="x-amz-grant-read",Qo="x-amz-grant-read-acp",mf="x-amz-grant-write",Yo="x-amz-grant-write-acp",s2="x-amz-if-match-initiated-time",r2="x-amz-if-match-last-modified-time",o2="x-amz-if-match-size",hf="x-amz-mfa",i2="x-amz-metadata-directive",tc="x-amz-missing-meta",a2="x-amz-mp-object-size",c2="x-amz-max-parts",nc="x-amz-mp-parts-count",l2="x-amz-object-attributes",Ti="x-amz-object-lock-legal-hold",Ii="x-amz-object-lock-mode",Cr="x-amz-object-lock-retain-until-date",d2="x-amz-object-ownership",yf="x-amz-optional-object-attributes",ty="x-amz-object-size",u2="x-amz-part-number-marker",vC="x-amz-restore",tt="x-amz-request-charged",f2="x-amz-restore-output-path",De="x-amz-request-payer",m2="x-amz-request-route",PC="x-amz-replication-status",h2="x-amz-request-token",Oi="x-amz-storage-class",it="x-amz-sdk-checksum-algorithm",y2="x-amz-skip-destination-validation",RC="x-amz-source-expected-bucket-owner",yn="x-amz-server-side-encryption",gn="x-amz-server-side-encryption-aws-kms-key-id",at="x-amz-server-side-encryption-bucket-key-enabled",ws="x-amz-server-side-encryption-context",Rt="x-amz-server-side-encryption-customer-algorithm",Ln="x-amz-server-side-encryption-customer-key",Tt="x-amz-server-side-encryption-customer-key-md5",gf="x-amz-tagging",ny="x-amz-tagging-count",g2="x-amz-tagging-directive",bf="x-amz-transition-default-minimum-object-size",Wn="x-amz-version-id",b2="x-amz-write-offset-bytes",Mi="x-amz-website-redirect-location",It="x-id";class TC extends L.classBuilder().ep({...q,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(lk,ck).ser(Zk).de(zB).build(){}const C2="3.803.0",x2={version:C2};function sy(e){return typeof e=="string"?e.length===0:e.byteLength===0}var IC={name:"SHA-1"},ry={name:"HMAC",hash:IC},S2=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]);const p2={};function ms(){return typeof window<"u"?window:typeof self<"u"?self:p2}var E2=function(){function e(n){this.toHash=new Uint8Array(0),n!==void 0&&(this.key=new Promise(function(t,s){ms().crypto.subtle.importKey("raw",oy(n),ry,!1,["sign"]).then(t,s)}),this.key.catch(function(){}))}return e.prototype.update=function(n){if(!sy(n)){var t=oy(n),s=new Uint8Array(this.toHash.byteLength+t.byteLength);s.set(this.toHash,0),s.set(t,this.toHash.byteLength),this.toHash=s}},e.prototype.digest=function(){var n=this;return this.key?this.key.then(function(t){return ms().crypto.subtle.sign(ry,t,n.toHash).then(function(s){return new Uint8Array(s)})}):sy(this.toHash)?Promise.resolve(S2):Promise.resolve().then(function(){return ms().crypto.subtle.digest(IC,n.toHash)}).then(function(t){return Promise.resolve(new Uint8Array(t))})},e.prototype.reset=function(){this.toHash=new Uint8Array(0)},e}();function oy(e){return typeof e=="string"?cg(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var w2=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function OC(e){if(k2(e)&&typeof e.crypto.subtle=="object"){var n=e.crypto.subtle;return _2(n)}return!1}function k2(e){if(typeof e=="object"&&typeof e.crypto=="object"){var n=e.crypto.getRandomValues;return typeof n=="function"}return!1}function _2(e){return e&&w2.every(function(n){return typeof e[n]=="function"})}var B2=function(){function e(n){if(OC(ms()))this.hash=new E2(n);else throw new Error("SHA1 not supported")}return e.prototype.update=function(n,t){this.hash.update(bs(n))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}(),MC={name:"SHA-256"},iy={name:"HMAC",hash:MC},A2=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]),v2=function(){function e(n){this.toHash=new Uint8Array(0),this.secret=n,this.reset()}return e.prototype.update=function(n){if(!fi(n)){var t=bs(n),s=new Uint8Array(this.toHash.byteLength+t.byteLength);s.set(this.toHash,0),s.set(t,this.toHash.byteLength),this.toHash=s}},e.prototype.digest=function(){var n=this;return this.key?this.key.then(function(t){return ms().crypto.subtle.sign(iy,t,n.toHash).then(function(s){return new Uint8Array(s)})}):fi(this.toHash)?Promise.resolve(A2):Promise.resolve().then(function(){return ms().crypto.subtle.digest(MC,n.toHash)}).then(function(t){return Promise.resolve(new Uint8Array(t))})},e.prototype.reset=function(){var n=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(t,s){ms().crypto.subtle.importKey("raw",bs(n.secret),iy,!1,["sign"]).then(t,s)}),this.key.catch(function(){}))},e}(),Sn=64,P2=32,R2=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),T2=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],I2=Math.pow(2,53)-1,Ta=function(){function e(){this.state=Int32Array.from(T2),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(n){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,s=n.byteLength;if(this.bytesHashed+=s,this.bytesHashed*8>I2)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;s>0;)this.buffer[this.bufferLength++]=n[t++],s--,this.bufferLength===Sn&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var n=this.bytesHashed*8,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),s=this.bufferLength;if(t.setUint8(this.bufferLength++,128),s%Sn>=Sn-8){for(var r=this.bufferLength;r<Sn;r++)t.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(var r=this.bufferLength;r<Sn-8;r++)t.setUint8(r,0);t.setUint32(Sn-8,Math.floor(n/4294967296),!0),t.setUint32(Sn-4,n),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(P2),r=0;r<8;r++)o[r*4]=this.state[r]>>>24&255,o[r*4+1]=this.state[r]>>>16&255,o[r*4+2]=this.state[r]>>>8&255,o[r*4+3]=this.state[r]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var n=this,t=n.buffer,s=n.state,r=s[0],o=s[1],i=s[2],a=s[3],l=s[4],c=s[5],d=s[6],f=s[7],m=0;m<Sn;m++){if(m<16)this.temp[m]=(t[m*4]&255)<<24|(t[m*4+1]&255)<<16|(t[m*4+2]&255)<<8|t[m*4+3]&255;else{var g=this.temp[m-2],k=(g>>>17|g<<15)^(g>>>19|g<<13)^g>>>10;g=this.temp[m-15];var v=(g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3;this.temp[m]=(k+this.temp[m-7]|0)+(v+this.temp[m-16]|0)}var w=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&c^~l&d)|0)+(f+(R2[m]+this.temp[m]|0)|0)|0,C=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&o^r&i^o&i)|0;f=d,d=c,c=l,l=a+w|0,a=i,i=o,o=r,r=w+C|0}s[0]+=r,s[1]+=o,s[2]+=i,s[3]+=a,s[4]+=l,s[5]+=c,s[6]+=d,s[7]+=f},e}(),O2=function(){function e(n){this.secret=n,this.hash=new Ta,this.reset()}return e.prototype.update=function(n){if(!(fi(n)||this.error))try{this.hash.update(bs(n))}catch(t){this.error=t}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return Ci(this,void 0,void 0,function(){return xi(this,function(n){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new Ta,this.secret){this.outer=new Ta;var n=M2(this.secret),t=new Uint8Array(Sn);t.set(n);for(var s=0;s<Sn;s++)n[s]^=54,t[s]^=92;this.hash.update(n),this.outer.update(t);for(var s=0;s<n.byteLength;s++)n[s]=0}},e}();function M2(e){var n=bs(e);if(n.byteLength>Sn){var t=new Ta;t.update(n),n=t.digest()}var s=new Uint8Array(Sn);return s.set(n),s}var D2=function(){function e(n){OC(ms())?this.hash=new v2(n):this.hash=new O2(n)}return e.prototype.update=function(n,t){this.hash.update(bs(n))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}();const N2={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},DC={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},ct={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Wt={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},os={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class I{static getFirstMatch(n,t){const s=t.match(n);return s&&s.length>0&&s[1]||""}static getSecondMatch(n,t){const s=t.match(n);return s&&s.length>1&&s[2]||""}static matchAndReturnConst(n,t,s){if(n.test(t))return s}static getWindowsVersionName(n){switch(n){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(n){const t=n.split(".").splice(0,2).map(s=>parseInt(s,10)||0);if(t.push(0),t[0]===10)switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(n){const t=n.split(".").splice(0,2).map(s=>parseInt(s,10)||0);if(t.push(0),!(t[0]===1&&t[1]<5)){if(t[0]===1&&t[1]<6)return"Cupcake";if(t[0]===1&&t[1]>=6)return"Donut";if(t[0]===2&&t[1]<2)return"Eclair";if(t[0]===2&&t[1]===2)return"Froyo";if(t[0]===2&&t[1]>2)return"Gingerbread";if(t[0]===3)return"Honeycomb";if(t[0]===4&&t[1]<1)return"Ice Cream Sandwich";if(t[0]===4&&t[1]<4)return"Jelly Bean";if(t[0]===4&&t[1]>=4)return"KitKat";if(t[0]===5)return"Lollipop";if(t[0]===6)return"Marshmallow";if(t[0]===7)return"Nougat";if(t[0]===8)return"Oreo";if(t[0]===9)return"Pie"}}static getVersionPrecision(n){return n.split(".").length}static compareVersions(n,t,s=!1){const r=I.getVersionPrecision(n),o=I.getVersionPrecision(t);let i=Math.max(r,o),a=0;const l=I.map([n,t],c=>{const d=i-I.getVersionPrecision(c),f=c+new Array(d+1).join(".0");return I.map(f.split("."),m=>new Array(20-m.length).join("0")+m).reverse()});for(s&&(a=i-Math.min(r,o)),i-=1;i>=a;){if(l[0][i]>l[1][i])return 1;if(l[0][i]===l[1][i]){if(i===a)return 0;i-=1}else if(l[0][i]<l[1][i])return-1}}static map(n,t){const s=[];let r;if(Array.prototype.map)return Array.prototype.map.call(n,t);for(r=0;r<n.length;r+=1)s.push(t(n[r]));return s}static find(n,t){let s,r;if(Array.prototype.find)return Array.prototype.find.call(n,t);for(s=0,r=n.length;s<r;s+=1){const o=n[s];if(t(o,s))return o}}static assign(n,...t){const s=n;let r,o;if(Object.assign)return Object.assign(n,...t);for(r=0,o=t.length;r<o;r+=1){const i=t[r];typeof i=="object"&&i!==null&&Object.keys(i).forEach(l=>{s[l]=i[l]})}return n}static getBrowserAlias(n){return N2[n]}static getBrowserTypeByAlias(n){return DC[n]||""}}const ze=/version\/(\d+(\.?_?\d+)+)/i,L2=[{test:[/googlebot/i],describe(e){const n={name:"Googlebot"},t=I.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||I.getFirstMatch(ze,e);return t&&(n.version=t),n}},{test:[/opera/i],describe(e){const n={name:"Opera"},t=I.getFirstMatch(ze,e)||I.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/opr\/|opios/i],describe(e){const n={name:"Opera"},t=I.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||I.getFirstMatch(ze,e);return t&&(n.version=t),n}},{test:[/SamsungBrowser/i],describe(e){const n={name:"Samsung Internet for Android"},t=I.getFirstMatch(ze,e)||I.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/Whale/i],describe(e){const n={name:"NAVER Whale Browser"},t=I.getFirstMatch(ze,e)||I.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/MZBrowser/i],describe(e){const n={name:"MZ Browser"},t=I.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||I.getFirstMatch(ze,e);return t&&(n.version=t),n}},{test:[/focus/i],describe(e){const n={name:"Focus"},t=I.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||I.getFirstMatch(ze,e);return t&&(n.version=t),n}},{test:[/swing/i],describe(e){const n={name:"Swing"},t=I.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||I.getFirstMatch(ze,e);return t&&(n.version=t),n}},{test:[/coast/i],describe(e){const n={name:"Opera Coast"},t=I.getFirstMatch(ze,e)||I.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const n={name:"Opera Touch"},t=I.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||I.getFirstMatch(ze,e);return t&&(n.version=t),n}},{test:[/yabrowser/i],describe(e){const n={name:"Yandex Browser"},t=I.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||I.getFirstMatch(ze,e);return t&&(n.version=t),n}},{test:[/ucbrowser/i],describe(e){const n={name:"UC Browser"},t=I.getFirstMatch(ze,e)||I.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/Maxthon|mxios/i],describe(e){const n={name:"Maxthon"},t=I.getFirstMatch(ze,e)||I.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/epiphany/i],describe(e){const n={name:"Epiphany"},t=I.getFirstMatch(ze,e)||I.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/puffin/i],describe(e){const n={name:"Puffin"},t=I.getFirstMatch(ze,e)||I.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/sleipnir/i],describe(e){const n={name:"Sleipnir"},t=I.getFirstMatch(ze,e)||I.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/k-meleon/i],describe(e){const n={name:"K-Meleon"},t=I.getFirstMatch(ze,e)||I.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/micromessenger/i],describe(e){const n={name:"WeChat"},t=I.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||I.getFirstMatch(ze,e);return t&&(n.version=t),n}},{test:[/qqbrowser/i],describe(e){const n={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},t=I.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||I.getFirstMatch(ze,e);return t&&(n.version=t),n}},{test:[/msie|trident/i],describe(e){const n={name:"Internet Explorer"},t=I.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/\sedg\//i],describe(e){const n={name:"Microsoft Edge"},t=I.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/edg([ea]|ios)/i],describe(e){const n={name:"Microsoft Edge"},t=I.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/vivaldi/i],describe(e){const n={name:"Vivaldi"},t=I.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/seamonkey/i],describe(e){const n={name:"SeaMonkey"},t=I.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/sailfish/i],describe(e){const n={name:"Sailfish"},t=I.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return t&&(n.version=t),n}},{test:[/silk/i],describe(e){const n={name:"Amazon Silk"},t=I.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/phantom/i],describe(e){const n={name:"PhantomJS"},t=I.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/slimerjs/i],describe(e){const n={name:"SlimerJS"},t=I.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const n={name:"BlackBerry"},t=I.getFirstMatch(ze,e)||I.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const n={name:"WebOS Browser"},t=I.getFirstMatch(ze,e)||I.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/bada/i],describe(e){const n={name:"Bada"},t=I.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/tizen/i],describe(e){const n={name:"Tizen"},t=I.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||I.getFirstMatch(ze,e);return t&&(n.version=t),n}},{test:[/qupzilla/i],describe(e){const n={name:"QupZilla"},t=I.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||I.getFirstMatch(ze,e);return t&&(n.version=t),n}},{test:[/firefox|iceweasel|fxios/i],describe(e){const n={name:"Firefox"},t=I.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/electron/i],describe(e){const n={name:"Electron"},t=I.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/MiuiBrowser/i],describe(e){const n={name:"Miui"},t=I.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/chromium/i],describe(e){const n={name:"Chromium"},t=I.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||I.getFirstMatch(ze,e);return t&&(n.version=t),n}},{test:[/chrome|crios|crmo/i],describe(e){const n={name:"Chrome"},t=I.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/GSA/i],describe(e){const n={name:"Google Search"},t=I.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test(e){const n=!e.test(/like android/i),t=e.test(/android/i);return n&&t},describe(e){const n={name:"Android Browser"},t=I.getFirstMatch(ze,e);return t&&(n.version=t),n}},{test:[/playstation 4/i],describe(e){const n={name:"PlayStation 4"},t=I.getFirstMatch(ze,e);return t&&(n.version=t),n}},{test:[/safari|applewebkit/i],describe(e){const n={name:"Safari"},t=I.getFirstMatch(ze,e);return t&&(n.version=t),n}},{test:[/.*/i],describe(e){const n=/^(.*)\/(.*) /,t=/^(.*)\/(.*)[ \t]\((.*)/,r=e.search("\\(")!==-1?t:n;return{name:I.getFirstMatch(r,e),version:I.getSecondMatch(r,e)}}}],F2=[{test:[/Roku\/DVP/],describe(e){const n=I.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:Wt.Roku,version:n}}},{test:[/windows phone/i],describe(e){const n=I.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:Wt.WindowsPhone,version:n}}},{test:[/windows /i],describe(e){const n=I.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),t=I.getWindowsVersionName(n);return{name:Wt.Windows,version:n,versionName:t}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const n={name:Wt.iOS},t=I.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return t&&(n.version=t),n}},{test:[/macintosh/i],describe(e){const n=I.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),t=I.getMacOSVersionName(n),s={name:Wt.MacOS,version:n};return t&&(s.versionName=t),s}},{test:[/(ipod|iphone|ipad)/i],describe(e){const n=I.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:Wt.iOS,version:n}}},{test(e){const n=!e.test(/like android/i),t=e.test(/android/i);return n&&t},describe(e){const n=I.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),t=I.getAndroidVersionName(n),s={name:Wt.Android,version:n};return t&&(s.versionName=t),s}},{test:[/(web|hpw)[o0]s/i],describe(e){const n=I.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),t={name:Wt.WebOS};return n&&n.length&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const n=I.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||I.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||I.getFirstMatch(/\bbb(\d+)/i,e);return{name:Wt.BlackBerry,version:n}}},{test:[/bada/i],describe(e){const n=I.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:Wt.Bada,version:n}}},{test:[/tizen/i],describe(e){const n=I.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:Wt.Tizen,version:n}}},{test:[/linux/i],describe(){return{name:Wt.Linux}}},{test:[/CrOS/],describe(){return{name:Wt.ChromeOS}}},{test:[/PlayStation 4/],describe(e){const n=I.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:Wt.PlayStation4,version:n}}}],U2=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(e){const n=I.getFirstMatch(/(can-l01)/i,e)&&"Nova",t={type:ct.mobile,vendor:"Huawei"};return n&&(t.model=n),t}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:ct.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:ct.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:ct.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:ct.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:ct.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:ct.tablet}}},{test(e){const n=e.test(/ipod|iphone/i),t=e.test(/like (ipod|iphone)/i);return n&&!t},describe(e){const n=I.getFirstMatch(/(ipod|iphone)/i,e);return{type:ct.mobile,vendor:"Apple",model:n}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:ct.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:ct.mobile}}},{test(e){return e.getBrowserName(!0)==="blackberry"},describe(){return{type:ct.mobile,vendor:"BlackBerry"}}},{test(e){return e.getBrowserName(!0)==="bada"},describe(){return{type:ct.mobile}}},{test(e){return e.getBrowserName()==="windows phone"},describe(){return{type:ct.mobile,vendor:"Microsoft"}}},{test(e){const n=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&n>=3},describe(){return{type:ct.tablet}}},{test(e){return e.getOSName(!0)==="android"},describe(){return{type:ct.mobile}}},{test(e){return e.getOSName(!0)==="macos"},describe(){return{type:ct.desktop,vendor:"Apple"}}},{test(e){return e.getOSName(!0)==="windows"},describe(){return{type:ct.desktop}}},{test(e){return e.getOSName(!0)==="linux"},describe(){return{type:ct.desktop}}},{test(e){return e.getOSName(!0)==="playstation 4"},describe(){return{type:ct.tv}}},{test(e){return e.getOSName(!0)==="roku"},describe(){return{type:ct.tv}}}],z2=[{test(e){return e.getBrowserName(!0)==="microsoft edge"},describe(e){if(/\sedg\//i.test(e))return{name:os.Blink};const t=I.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:os.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const n={name:os.Trident},t=I.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test(e){return e.test(/presto/i)},describe(e){const n={name:os.Presto},t=I.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test(e){const n=e.test(/gecko/i),t=e.test(/like gecko/i);return n&&!t},describe(e){const n={name:os.Gecko},t=I.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:os.Blink}}},{test:[/(apple)?webkit/i],describe(e){const n={name:os.WebKit},t=I.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}}];class ay{constructor(n,t=!1){if(n==null||n==="")throw new Error("UserAgent parameter can't be empty");this._ua=n,this.parsedResult={},t!==!0&&this.parse()}getUA(){return this._ua}test(n){return n.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const n=I.find(L2,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.browser=n.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(n){return n?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const n=I.find(F2,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.os=n.describe(this.getUA())),this.parsedResult.os}getOSName(n){const{name:t}=this.getOS();return n?String(t).toLowerCase()||"":t||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(n=!1){const{type:t}=this.getPlatform();return n?String(t).toLowerCase()||"":t||""}parsePlatform(){this.parsedResult.platform={};const n=I.find(U2,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.platform=n.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(n){return n?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const n=I.find(z2,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.engine=n.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return I.assign({},this.parsedResult)}satisfies(n){const t={};let s=0;const r={};let o=0;if(Object.keys(n).forEach(a=>{const l=n[a];typeof l=="string"?(r[a]=l,o+=1):typeof l=="object"&&(t[a]=l,s+=1)}),s>0){const a=Object.keys(t),l=I.find(a,d=>this.isOS(d));if(l){const d=this.satisfies(t[l]);if(d!==void 0)return d}const c=I.find(a,d=>this.isPlatform(d));if(c){const d=this.satisfies(t[c]);if(d!==void 0)return d}}if(o>0){const a=Object.keys(r),l=I.find(a,c=>this.isBrowser(c,!0));if(l!==void 0)return this.compareVersion(r[l])}}isBrowser(n,t=!1){const s=this.getBrowserName().toLowerCase();let r=n.toLowerCase();const o=I.getBrowserTypeByAlias(r);return t&&o&&(r=o.toLowerCase()),r===s}compareVersion(n){let t=[0],s=n,r=!1;const o=this.getBrowserVersion();if(typeof o=="string")return n[0]===">"||n[0]==="<"?(s=n.substr(1),n[1]==="="?(r=!0,s=n.substr(2)):t=[],n[0]===">"?t.push(1):t.push(-1)):n[0]==="="?s=n.substr(1):n[0]==="~"&&(r=!0,s=n.substr(1)),t.indexOf(I.compareVersions(o,s,r))>-1}isOS(n){return this.getOSName(!0)===String(n).toLowerCase()}isPlatform(n){return this.getPlatformType(!0)===String(n).toLowerCase()}isEngine(n){return this.getEngineName(!0)===String(n).toLowerCase()}is(n,t=!1){return this.isBrowser(n,t)||this.isOS(n)||this.isPlatform(n)}some(n=[]){return n.some(t=>this.is(t))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class NC{static getParser(n,t=!1){if(typeof n!="string")throw new Error("UserAgent should be a string");return new ay(n,t)}static parse(n){return new ay(n).getResult()}static get BROWSER_MAP(){return DC}static get ENGINE_MAP(){return os}static get OS_MAP(){return Wt}static get PLATFORMS_MAP(){return ct}}const q2=({serviceId:e,clientVersion:n})=>async t=>{var i,a,l,c,d,f;const s=typeof window<"u"&&((i=window==null?void 0:window.navigator)!=null&&i.userAgent)?NC.parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["ua","2.1"],[`os/${((a=s==null?void 0:s.os)==null?void 0:a.name)||"other"}`,(l=s==null?void 0:s.os)==null?void 0:l.version],["lang/js"],["md/browser",`${((c=s==null?void 0:s.browser)==null?void 0:c.name)??"unknown"}_${((d=s==null?void 0:s.browser)==null?void 0:d.version)??"unknown"}`]];e&&r.push([`api/${e}`,n]);const o=await((f=t==null?void 0:t.userAgentAppId)==null?void 0:f.call(t));return o&&r.push([`app/${o}`]),r};class li{constructor(n){if(this.bytes=n,n.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(n){if(n>9223372036854776e3||n<-9223372036854776e3)throw new Error(`${n} is too large (or, if negative, too small) to represent as an Int64`);const t=new Uint8Array(8);for(let s=7,r=Math.abs(Math.round(n));s>-1&&r>0;s--,r/=256)t[s]=r;return n<0&&cy(t),new li(t)}valueOf(){const n=this.bytes.slice(0),t=n[0]&128;return t&&cy(n),parseInt(tn(n),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function cy(e){for(let n=0;n<8;n++)e[n]^=255;for(let n=7;n>-1&&(e[n]++,e[n]===0);n--);}class $2{constructor(n,t){this.toUtf8=n,this.fromUtf8=t}format(n){const t=[];for(const o of Object.keys(n)){const i=this.fromUtf8(o);t.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(n[o]))}const s=new Uint8Array(t.reduce((o,i)=>o+i.byteLength,0));let r=0;for(const o of t)s.set(o,r),r+=o.byteLength;return s}formatHeaderValue(n){switch(n.type){case"boolean":return Uint8Array.from([n.value?0:1]);case"byte":return Uint8Array.from([2,n.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,n.value,!1),new Uint8Array(t.buffer);case"integer":const s=new DataView(new ArrayBuffer(5));return s.setUint8(0,4),s.setInt32(1,n.value,!1),new Uint8Array(s.buffer);case"long":const r=new Uint8Array(9);return r[0]=5,r.set(n.value.bytes,1),r;case"binary":const o=new DataView(new ArrayBuffer(3+n.value.byteLength));o.setUint8(0,6),o.setUint16(1,n.value.byteLength,!1);const i=new Uint8Array(o.buffer);return i.set(n.value,3),i;case"string":const a=this.fromUtf8(n.value),l=new DataView(new ArrayBuffer(3+a.byteLength));l.setUint8(0,7),l.setUint16(1,a.byteLength,!1);const c=new Uint8Array(l.buffer);return c.set(a,3),c;case"timestamp":const d=new Uint8Array(9);return d[0]=8,d.set(li.fromNumber(n.value.valueOf()).bytes,1),d;case"uuid":if(!Q2.test(n.value))throw new Error(`Invalid UUID received: ${n.value}`);const f=new Uint8Array(17);return f[0]=9,f.set(py(n.value.replace(/\-/g,"")),1),f}}parse(n){const t={};let s=0;for(;s<n.byteLength;){const r=n.getUint8(s++),o=this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+s,r));switch(s+=r,n.getUint8(s++)){case 0:t[o]={type:dy,value:!0};break;case 1:t[o]={type:dy,value:!1};break;case 2:t[o]={type:j2,value:n.getInt8(s++)};break;case 3:t[o]={type:H2,value:n.getInt16(s,!1)},s+=2;break;case 4:t[o]={type:K2,value:n.getInt32(s,!1)},s+=4;break;case 5:t[o]={type:G2,value:new li(new Uint8Array(n.buffer,n.byteOffset+s,8))},s+=8;break;case 6:const i=n.getUint16(s,!1);s+=2,t[o]={type:V2,value:new Uint8Array(n.buffer,n.byteOffset+s,i)},s+=i;break;case 7:const a=n.getUint16(s,!1);s+=2,t[o]={type:W2,value:this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+s,a))},s+=a;break;case 8:t[o]={type:X2,value:new Date(new li(new Uint8Array(n.buffer,n.byteOffset+s,8)).valueOf())},s+=8;break;case 9:const l=new Uint8Array(n.buffer,n.byteOffset+s,16);s+=16,t[o]={type:Z2,value:`${tn(l.subarray(0,4))}-${tn(l.subarray(4,6))}-${tn(l.subarray(6,8))}-${tn(l.subarray(8,10))}-${tn(l.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return t}}var ly;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(ly||(ly={}));const dy="boolean",j2="byte",H2="short",K2="integer",G2="long",V2="binary",W2="string",X2="timestamp",Z2="uuid",Q2=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,LC=4,is=LC*2,Bs=4,Y2=is+Bs*2;function J2({byteLength:e,byteOffset:n,buffer:t}){if(e<Y2)throw new Error("Provided message too short to accommodate event stream message overhead");const s=new DataView(t,n,e),r=s.getUint32(0,!1);if(e!==r)throw new Error("Reported message length does not match received message length");const o=s.getUint32(LC,!1),i=s.getUint32(is,!1),a=s.getUint32(e-Bs,!1),l=new La().update(new Uint8Array(t,n,is));if(i!==l.digest())throw new Error(`The prelude checksum specified in the message (${i}) does not match the calculated CRC32 checksum (${l.digest()})`);if(l.update(new Uint8Array(t,n+is,e-(is+Bs))),a!==l.digest())throw new Error(`The message checksum (${l.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(t,n+is+Bs,o),body:new Uint8Array(t,n+is+Bs+o,r-o-(is+Bs+Bs))}}class eD{constructor(n,t){this.headerMarshaller=new $2(n,t),this.messageBuffer=[],this.isEndOfStream=!1}feed(n){this.messageBuffer.push(this.decode(n))}endOfStream(){this.isEndOfStream=!0}getMessage(){const n=this.messageBuffer.pop(),t=this.isEndOfStream;return{getMessage(){return n},isEndOfStream(){return t}}}getAvailableMessages(){const n=this.messageBuffer;this.messageBuffer=[];const t=this.isEndOfStream;return{getMessages(){return n},isEndOfStream(){return t}}}encode({headers:n,body:t}){const s=this.headerMarshaller.format(n),r=s.byteLength+t.byteLength+16,o=new Uint8Array(r),i=new DataView(o.buffer,o.byteOffset,o.byteLength),a=new La;return i.setUint32(0,r,!1),i.setUint32(4,s.byteLength,!1),i.setUint32(8,a.update(o.subarray(0,8)).digest(),!1),o.set(s,12),o.set(t,s.byteLength+12),i.setUint32(r-4,a.update(o.subarray(8,r-4)).digest(),!1),o}decode(n){const{headers:t,body:s}=J2(n);return{headers:this.headerMarshaller.parse(t),body:s}}formatHeaders(n){return this.headerMarshaller.format(n)}}class tD{constructor(n){this.options=n}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const n of this.options.inputStream)yield this.options.decoder.decode(n)}}class nD{constructor(n){this.options=n}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const n of this.options.messageStream)yield this.options.encoder.encode(n);this.options.includeEndFrame&&(yield new Uint8Array(0))}}class sD{constructor(n){this.options=n}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const n of this.options.messageStream){const t=await this.options.deserializer(n);t!==void 0&&(yield t)}}}class rD{constructor(n){this.options=n}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const n of this.options.inputStream)yield this.options.serializer(n)}}function oD(e){let n=0,t=0,s=null,r=null;const o=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);n=a,t=4,s=new Uint8Array(a),new DataView(s.buffer).setUint32(0,a,!1)},i=async function*(){const a=e[Symbol.asyncIterator]();for(;;){const{value:l,done:c}=await a.next();if(c){if(n)if(n===t)yield s;else throw new Error("Truncated event message received.");else return;return}const d=l.length;let f=0;for(;f<d;){if(!s){const g=d-f;r||(r=new Uint8Array(4));const k=Math.min(4-t,g);if(r.set(l.slice(f,f+k),t),t+=k,f+=k,t<4)break;o(new DataView(r.buffer).getUint32(0,!1)),r=null}const m=Math.min(n-t,d-f);s.set(l.slice(f,f+m),t),t+=m,f+=m,n&&n===t&&(yield s,s=null,n=0,t=0)}}};return{[Symbol.asyncIterator]:i}}function iD(e,n){return async function(t){const{value:s}=t.headers[":message-type"];if(s==="error"){const r=new Error(t.headers[":error-message"].value||"UnknownError");throw r.name=t.headers[":error-code"].value,r}else if(s==="exception"){const r=t.headers[":exception-type"].value,o={[r]:t},i=await e(o);if(i.$unknown){const a=new Error(n(t.body));throw a.name=r,a}throw i[r]}else if(s==="event"){const r={[t.headers[":event-type"].value]:t},o=await e(r);return o.$unknown?void 0:o}else throw Error(`Unrecognizable event type: ${t.headers[":event-type"].value}`)}}let aD=class{constructor({utf8Encoder:n,utf8Decoder:t}){this.eventStreamCodec=new eD(n,t),this.utfEncoder=n}deserialize(n,t){const s=oD(n);return new sD({messageStream:new tD({inputStream:s,decoder:this.eventStreamCodec}),deserializer:iD(t,this.utfEncoder)})}serialize(n,t){return new nD({messageStream:new rD({inputStream:n,serializer:t}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};const cD=e=>({[Symbol.asyncIterator]:async function*(){const n=e.getReader();try{for(;;){const{done:t,value:s}=await n.read();if(t)return;yield s}}finally{n.releaseLock()}}}),lD=e=>{const n=e[Symbol.asyncIterator]();return new ReadableStream({async pull(t){const{done:s,value:r}=await n.next();if(s)return t.close();t.enqueue(r)}})};class dD{constructor({utf8Encoder:n,utf8Decoder:t}){this.universalMarshaller=new aD({utf8Decoder:t,utf8Encoder:n})}deserialize(n,t){const s=uD(n)?cD(n):n;return this.universalMarshaller.deserialize(s,t)}serialize(n,t){const s=this.universalMarshaller.serialize(n,t);return typeof ReadableStream=="function"?lD(s):s}}const uD=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,fD=e=>new dD(e);async function mD(e,n,t=1024*1024){const s=e.size;let r=0;for(;r<s;){const o=e.slice(r,Math.min(s,r+t));n(new Uint8Array(await o.arrayBuffer())),r+=o.size}}const hD=async function(n,t){const s=new n;return await mD(t,r=>{s.update(r)}),s.digest()},yD=e=>()=>Promise.reject(e),rs=64,gD=16,bD=[1732584193,4023233417,2562383102,271733878];class CD{constructor(){this.reset()}update(n){if(xD(n))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const t=SD(n);let s=0,{byteLength:r}=t;for(this.bytesHashed+=r;r>0;)this.buffer.setUint8(this.bufferLength++,t[s++]),r--,this.bufferLength===rs&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:t,bufferLength:s,bytesHashed:r}=this,o=r*8;if(t.setUint8(this.bufferLength++,128),s%rs>=rs-8){for(let i=this.bufferLength;i<rs;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(let i=this.bufferLength;i<rs-8;i++)t.setUint8(i,0);t.setUint32(rs-8,o>>>0,!0),t.setUint32(rs-4,Math.floor(o/4294967296),!0),this.hashBuffer(),this.finished=!0}const n=new DataView(new ArrayBuffer(gD));for(let t=0;t<4;t++)n.setUint32(t*4,this.state[t],!0);return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}hashBuffer(){const{buffer:n,state:t}=this;let s=t[0],r=t[1],o=t[2],i=t[3];s=Lt(s,r,o,i,n.getUint32(0,!0),7,3614090360),i=Lt(i,s,r,o,n.getUint32(4,!0),12,3905402710),o=Lt(o,i,s,r,n.getUint32(8,!0),17,606105819),r=Lt(r,o,i,s,n.getUint32(12,!0),22,3250441966),s=Lt(s,r,o,i,n.getUint32(16,!0),7,4118548399),i=Lt(i,s,r,o,n.getUint32(20,!0),12,1200080426),o=Lt(o,i,s,r,n.getUint32(24,!0),17,2821735955),r=Lt(r,o,i,s,n.getUint32(28,!0),22,4249261313),s=Lt(s,r,o,i,n.getUint32(32,!0),7,1770035416),i=Lt(i,s,r,o,n.getUint32(36,!0),12,2336552879),o=Lt(o,i,s,r,n.getUint32(40,!0),17,4294925233),r=Lt(r,o,i,s,n.getUint32(44,!0),22,2304563134),s=Lt(s,r,o,i,n.getUint32(48,!0),7,1804603682),i=Lt(i,s,r,o,n.getUint32(52,!0),12,4254626195),o=Lt(o,i,s,r,n.getUint32(56,!0),17,2792965006),r=Lt(r,o,i,s,n.getUint32(60,!0),22,1236535329),s=Ft(s,r,o,i,n.getUint32(4,!0),5,4129170786),i=Ft(i,s,r,o,n.getUint32(24,!0),9,3225465664),o=Ft(o,i,s,r,n.getUint32(44,!0),14,643717713),r=Ft(r,o,i,s,n.getUint32(0,!0),20,3921069994),s=Ft(s,r,o,i,n.getUint32(20,!0),5,3593408605),i=Ft(i,s,r,o,n.getUint32(40,!0),9,38016083),o=Ft(o,i,s,r,n.getUint32(60,!0),14,3634488961),r=Ft(r,o,i,s,n.getUint32(16,!0),20,3889429448),s=Ft(s,r,o,i,n.getUint32(36,!0),5,568446438),i=Ft(i,s,r,o,n.getUint32(56,!0),9,3275163606),o=Ft(o,i,s,r,n.getUint32(12,!0),14,4107603335),r=Ft(r,o,i,s,n.getUint32(32,!0),20,1163531501),s=Ft(s,r,o,i,n.getUint32(52,!0),5,2850285829),i=Ft(i,s,r,o,n.getUint32(8,!0),9,4243563512),o=Ft(o,i,s,r,n.getUint32(28,!0),14,1735328473),r=Ft(r,o,i,s,n.getUint32(48,!0),20,2368359562),s=Ut(s,r,o,i,n.getUint32(20,!0),4,4294588738),i=Ut(i,s,r,o,n.getUint32(32,!0),11,2272392833),o=Ut(o,i,s,r,n.getUint32(44,!0),16,1839030562),r=Ut(r,o,i,s,n.getUint32(56,!0),23,4259657740),s=Ut(s,r,o,i,n.getUint32(4,!0),4,2763975236),i=Ut(i,s,r,o,n.getUint32(16,!0),11,1272893353),o=Ut(o,i,s,r,n.getUint32(28,!0),16,4139469664),r=Ut(r,o,i,s,n.getUint32(40,!0),23,3200236656),s=Ut(s,r,o,i,n.getUint32(52,!0),4,681279174),i=Ut(i,s,r,o,n.getUint32(0,!0),11,3936430074),o=Ut(o,i,s,r,n.getUint32(12,!0),16,3572445317),r=Ut(r,o,i,s,n.getUint32(24,!0),23,76029189),s=Ut(s,r,o,i,n.getUint32(36,!0),4,3654602809),i=Ut(i,s,r,o,n.getUint32(48,!0),11,3873151461),o=Ut(o,i,s,r,n.getUint32(60,!0),16,530742520),r=Ut(r,o,i,s,n.getUint32(8,!0),23,3299628645),s=zt(s,r,o,i,n.getUint32(0,!0),6,4096336452),i=zt(i,s,r,o,n.getUint32(28,!0),10,1126891415),o=zt(o,i,s,r,n.getUint32(56,!0),15,2878612391),r=zt(r,o,i,s,n.getUint32(20,!0),21,4237533241),s=zt(s,r,o,i,n.getUint32(48,!0),6,1700485571),i=zt(i,s,r,o,n.getUint32(12,!0),10,2399980690),o=zt(o,i,s,r,n.getUint32(40,!0),15,4293915773),r=zt(r,o,i,s,n.getUint32(4,!0),21,2240044497),s=zt(s,r,o,i,n.getUint32(32,!0),6,1873313359),i=zt(i,s,r,o,n.getUint32(60,!0),10,4264355552),o=zt(o,i,s,r,n.getUint32(24,!0),15,2734768916),r=zt(r,o,i,s,n.getUint32(52,!0),21,1309151649),s=zt(s,r,o,i,n.getUint32(16,!0),6,4149444226),i=zt(i,s,r,o,n.getUint32(44,!0),10,3174756917),o=zt(o,i,s,r,n.getUint32(8,!0),15,718787259),r=zt(r,o,i,s,n.getUint32(36,!0),21,3951481745),t[0]=s+t[0]&4294967295,t[1]=r+t[1]&4294967295,t[2]=o+t[2]&4294967295,t[3]=i+t[3]&4294967295}reset(){this.state=Uint32Array.from(bD),this.buffer=new DataView(new ArrayBuffer(rs)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function wc(e,n,t,s,r,o){return n=(n+e&4294967295)+(s+o&4294967295)&4294967295,(n<<r|n>>>32-r)+t&4294967295}function Lt(e,n,t,s,r,o,i){return wc(n&t|~n&s,e,n,r,o,i)}function Ft(e,n,t,s,r,o,i){return wc(n&s|t&~s,e,n,r,o,i)}function Ut(e,n,t,s,r,o,i){return wc(n^t^s,e,n,r,o,i)}function zt(e,n,t,s,r,o,i){return wc(t^(n|~s),e,n,r,o,i)}function xD(e){return typeof e=="string"?e.length===0:e.byteLength===0}function SD(e){return typeof e=="string"?hr(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}const uy=typeof TextEncoder=="function"?new TextEncoder:null,pD=e=>{if(typeof e=="string"){if(uy)return uy.encode(e).byteLength;let n=e.length;for(let t=n-1;t>=0;t--){const s=e.charCodeAt(t);s>127&&s<=2047?n++:s>2047&&s<=65535&&(n+=2),s>=56320&&s<=57343&&t--}return n}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},ED=e=>({apiVersion:"2006-03-01",base64Decoder:(e==null?void 0:e.base64Decoder)??ru,base64Encoder:(e==null?void 0:e.base64Encoder)??oc,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??Vg,extensions:(e==null?void 0:e.extensions)??[],getAwsChunkedEncodingStream:(e==null?void 0:e.getAwsChunkedEncodingStream)??V0,httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??Qw,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4"),signer:new by},{schemeId:"aws.auth#sigv4a",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4a"),signer:new w0}],logger:(e==null?void 0:e.logger)??new lu,sdkStreamMixin:(e==null?void 0:e.sdkStreamMixin)??tx,serviceId:(e==null?void 0:e.serviceId)??"S3",signerConstructor:(e==null?void 0:e.signerConstructor)??Iw,signingEscapePath:(e==null?void 0:e.signingEscapePath)??!1,urlParser:(e==null?void 0:e.urlParser)??Ua,useArnRegion:(e==null?void 0:e.useArnRegion)??!1,utf8Decoder:(e==null?void 0:e.utf8Decoder)??hr,utf8Encoder:(e==null?void 0:e.utf8Encoder)??ou}),wD=["in-region","cross-region","mobile","standard","legacy"],kD=({defaultsMode:e}={})=>ux(async()=>{const n=typeof e=="function"?await e():e;switch(n==null?void 0:n.toLowerCase()){case"auto":return Promise.resolve(_D()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(n==null?void 0:n.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${wD.join(", ")}, got ${n}`)}}),_D=()=>{var t,s;const e=typeof window<"u"&&((t=window==null?void 0:window.navigator)!=null&&t.userAgent)?NC.parse(window.navigator.userAgent):void 0,n=(s=e==null?void 0:e.platform)==null?void 0:s.type;return n==="tablet"||n==="mobile"},BD=e=>{const n=kD(e),t=()=>n().then(fS),s=ED(e);return{...s,...e,runtime:"browser",defaultsMode:n,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??pD,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??(r=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??q2({serviceId:s.serviceId,clientVersion:x2.version}),eventStreamSerdeProvider:(e==null?void 0:e.eventStreamSerdeProvider)??fD,maxAttempts:(e==null?void 0:e.maxAttempts)??za,md5:(e==null?void 0:e.md5)??CD,region:(e==null?void 0:e.region)??yD("Region is missing"),requestHandler:iu.create((e==null?void 0:e.requestHandler)??t),retryMode:(e==null?void 0:e.retryMode)??(async()=>(await t()).retryMode||tw),sha1:(e==null?void 0:e.sha1)??B2,sha256:(e==null?void 0:e.sha256)??D2,streamCollector:(e==null?void 0:e.streamCollector)??xy,streamHasher:(e==null?void 0:e.streamHasher)??hD,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(()=>Promise.resolve(LE)),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(()=>Promise.resolve(FE))}},AD=e=>({setRegion(n){e.region=n},region(){return e.region}}),vD=e=>({region:e.region()}),PD=e=>{const n=e.httpAuthSchemes;let t=e.httpAuthSchemeProvider,s=e.credentials;return{setHttpAuthScheme(r){const o=n.findIndex(i=>i.schemeId===r.schemeId);o===-1?n.push(r):n.splice(o,1,r)},httpAuthSchemes(){return n},setHttpAuthSchemeProvider(r){t=r},httpAuthSchemeProvider(){return t},setCredentials(r){s=r},credentials(){return s}}},RD=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),TD=(e,n)=>{const t=Object.assign(AD(e),bS(e),f0(e),PD(e));return n.forEach(s=>s.configure(t)),Object.assign(e,vD(t),CS(t),m0(t),RD(t))};class ID extends qx{constructor(...[t]){const s=BD(t||{});super(s);te(this,"config");this.initConfig=s;const r=Jw(s),o=tE(r),i=op(o),a=ww(i),l=UE(a),c=l,d=ew(c),f=zE(d),m=Yw(f),g=qp(m,{session:[()=>this,TC]}),k=TD(g,(t==null?void 0:t.extensions)||[]);this.config=k,this.middlewareStack.use(NE(this.config)),this.middlewareStack.use(Rw(this.config)),this.middlewareStack.use(jE(this.config)),this.middlewareStack.use(cp(this.config)),this.middlewareStack.use(up(this.config)),this.middlewareStack.use(gp(this.config)),this.middlewareStack.use(v0(this.config,{httpAuthSchemeParametersProvider:Ww,identityProviderConfigProvider:async v=>new ix({"aws.auth#sigv4":v.credentials,"aws.auth#sigv4a":v.credentials})})),this.middlewareStack.use(D0(this.config)),this.middlewareStack.use(Yp(this.config)),this.middlewareStack.use(C0(this.config)),this.middlewareStack.use(Bp(this.config)),this.middlewareStack.use(Dp(this.config)),this.middlewareStack.use(zp(this.config))}destroy(){super.destroy()}}class FC extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","AbortMultipartUpload",{}).n("S3Client","AbortMultipartUploadCommand").f(void 0,void 0).ser(Hk).de(MB).build(){}function OD(e){return n=>async t=>{const s={...t.input},r=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(const o of r){const i=s[o.target];if(i){let a;typeof i=="string"?DD(i,e)?a=e.base64Decoder(i):(a=e.utf8Decoder(i),s[o.target]=e.base64Encoder(a)):(a=ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i),s[o.target]=e.base64Encoder(a));const l=new e.md5;l.update(a),s[o.hash]=e.base64Encoder(await l.digest())}}return n({...t,input:s})}}const MD={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},Fn=e=>({applyToStack:n=>{n.add(OD(e),MD)}});function DD(e,n){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))return!1;try{return n.base64Decoder(e).length===32}catch{return!1}}class UC extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s),Fn(s)]}).s("AmazonS3","CompleteMultipartUpload",{}).n("S3Client","CompleteMultipartUploadCommand").f(nk,tk).ser(Kk).de(DB).build(){}class ND extends L.classBuilder().ep({...q,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"},CopySource:{type:"contextParams",name:"CopySource"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s),Fn(s)]}).s("AmazonS3","CopyObject",{}).n("S3Client","CopyObjectCommand").f(rk,sk).ser(Gk).de(NB).build(){}function LD(e){return n=>async t=>{const{CreateBucketConfiguration:s}=t.input,r=await e.region();return!(s!=null&&s.LocationConstraint)&&!(s!=null&&s.Location)&&(t={...t,input:{...t.input,CreateBucketConfiguration:r==="us-east-1"?void 0:{LocationConstraint:r}}}),n(t)}}const FD={step:"initialize",tags:["LOCATION_CONSTRAINT","CREATE_BUCKET_CONFIGURATION"],name:"locationConstraintMiddleware",override:!0},UD=e=>({applyToStack:n=>{n.add(LD(e),FD)}});class zD extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},DisableAccessPoints:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s),UD(s)]}).s("AmazonS3","CreateBucket",{}).n("S3Client","CreateBucketCommand").f(void 0,void 0).ser(Vk).de(LB).build(){}class qD extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),et(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","CreateBucketMetadataTableConfiguration",{}).n("S3Client","CreateBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(Wk).de(FB).build(){}class zC extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s),Fn(s)]}).s("AmazonS3","CreateMultipartUpload",{}).n("S3Client","CreateMultipartUploadCommand").f(ik,ok).ser(Xk).de(UB).build(){}class $D extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketAnalyticsConfiguration",{}).n("S3Client","DeleteBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(Yk).de($B).build(){}class jD extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucket",{}).n("S3Client","DeleteBucketCommand").f(void 0,void 0).ser(Qk).de(qB).build(){}class HD extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketCors",{}).n("S3Client","DeleteBucketCorsCommand").f(void 0,void 0).ser(Jk).de(jB).build(){}class KD extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketEncryption",{}).n("S3Client","DeleteBucketEncryptionCommand").f(void 0,void 0).ser(e_).de(HB).build(){}class GD extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketIntelligentTieringConfiguration",{}).n("S3Client","DeleteBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(t_).de(KB).build(){}class VD extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketInventoryConfiguration",{}).n("S3Client","DeleteBucketInventoryConfigurationCommand").f(void 0,void 0).ser(n_).de(GB).build(){}class WD extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketLifecycle",{}).n("S3Client","DeleteBucketLifecycleCommand").f(void 0,void 0).ser(s_).de(VB).build(){}class XD extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetadataTableConfiguration",{}).n("S3Client","DeleteBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(r_).de(WB).build(){}class ZD extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetricsConfiguration",{}).n("S3Client","DeleteBucketMetricsConfigurationCommand").f(void 0,void 0).ser(o_).de(XB).build(){}class QD extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketOwnershipControls",{}).n("S3Client","DeleteBucketOwnershipControlsCommand").f(void 0,void 0).ser(i_).de(ZB).build(){}class YD extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketPolicy",{}).n("S3Client","DeleteBucketPolicyCommand").f(void 0,void 0).ser(a_).de(QB).build(){}class JD extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketReplication",{}).n("S3Client","DeleteBucketReplicationCommand").f(void 0,void 0).ser(c_).de(YB).build(){}class eN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketTagging",{}).n("S3Client","DeleteBucketTaggingCommand").f(void 0,void 0).ser(l_).de(JB).build(){}class tN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketWebsite",{}).n("S3Client","DeleteBucketWebsiteCommand").f(void 0,void 0).ser(d_).de(eA).build(){}class nN extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","DeleteObject",{}).n("S3Client","DeleteObjectCommand").f(void 0,void 0).ser(u_).de(tA).build(){}class sN extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),et(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),re(s)]}).s("AmazonS3","DeleteObjects",{}).n("S3Client","DeleteObjectsCommand").f(void 0,void 0).ser(f_).de(nA).build(){}class rN extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","DeleteObjectTagging",{}).n("S3Client","DeleteObjectTaggingCommand").f(void 0,void 0).ser(m_).de(sA).build(){}class oN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeletePublicAccessBlock",{}).n("S3Client","DeletePublicAccessBlockCommand").f(void 0,void 0).ser(h_).de(rA).build(){}class iN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketAccelerateConfiguration",{}).n("S3Client","GetBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(y_).de(oA).build(){}class aN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketAcl",{}).n("S3Client","GetBucketAclCommand").f(void 0,void 0).ser(g_).de(iA).build(){}class cN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketAnalyticsConfiguration",{}).n("S3Client","GetBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(b_).de(aA).build(){}class lN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketCors",{}).n("S3Client","GetBucketCorsCommand").f(void 0,void 0).ser(C_).de(cA).build(){}class dN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketEncryption",{}).n("S3Client","GetBucketEncryptionCommand").f(void 0,fk).ser(x_).de(lA).build(){}class uN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketIntelligentTieringConfiguration",{}).n("S3Client","GetBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(S_).de(dA).build(){}class fN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketInventoryConfiguration",{}).n("S3Client","GetBucketInventoryConfigurationCommand").f(void 0,bk).ser(p_).de(uA).build(){}class mN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketLifecycleConfiguration",{}).n("S3Client","GetBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(E_).de(fA).build(){}class hN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketLocation",{}).n("S3Client","GetBucketLocationCommand").f(void 0,void 0).ser(w_).de(mA).build(){}class yN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketLogging",{}).n("S3Client","GetBucketLoggingCommand").f(void 0,void 0).ser(k_).de(hA).build(){}class gN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketMetadataTableConfiguration",{}).n("S3Client","GetBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(__).de(yA).build(){}class bN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketMetricsConfiguration",{}).n("S3Client","GetBucketMetricsConfigurationCommand").f(void 0,void 0).ser(B_).de(gA).build(){}class CN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketNotificationConfiguration",{}).n("S3Client","GetBucketNotificationConfigurationCommand").f(void 0,void 0).ser(A_).de(bA).build(){}class xN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketOwnershipControls",{}).n("S3Client","GetBucketOwnershipControlsCommand").f(void 0,void 0).ser(v_).de(CA).build(){}class SN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketPolicy",{}).n("S3Client","GetBucketPolicyCommand").f(void 0,void 0).ser(P_).de(xA).build(){}class pN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketPolicyStatus",{}).n("S3Client","GetBucketPolicyStatusCommand").f(void 0,void 0).ser(R_).de(SA).build(){}class EN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketReplication",{}).n("S3Client","GetBucketReplicationCommand").f(void 0,void 0).ser(T_).de(pA).build(){}class wN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketRequestPayment",{}).n("S3Client","GetBucketRequestPaymentCommand").f(void 0,void 0).ser(I_).de(EA).build(){}class kN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketTagging",{}).n("S3Client","GetBucketTaggingCommand").f(void 0,void 0).ser(O_).de(wA).build(){}class _N extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketVersioning",{}).n("S3Client","GetBucketVersioningCommand").f(void 0,void 0).ser(M_).de(kA).build(){}class BN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketWebsite",{}).n("S3Client","GetBucketWebsiteCommand").f(void 0,void 0).ser(D_).de(_A).build(){}class AN extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetObjectAcl",{}).n("S3Client","GetObjectAclCommand").f(void 0,void 0).ser(L_).de(AA).build(){}class vN extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s),Fn(s)]}).s("AmazonS3","GetObjectAttributes",{}).n("S3Client","GetObjectAttributesCommand").f(Sk,void 0).ser(F_).de(vA).build(){}class PN extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),et(s,{requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC64NVME","CRC32","CRC32C","SHA256","SHA1"]}),Fn(s),hg()]}).s("AmazonS3","GetObject",{}).n("S3Client","GetObjectCommand").f(xk,Ck).ser(N_).de(BA).build(){}class RN extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetObjectLegalHold",{}).n("S3Client","GetObjectLegalHoldCommand").f(void 0,void 0).ser(U_).de(PA).build(){}class TN extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetObjectLockConfiguration",{}).n("S3Client","GetObjectLockConfigurationCommand").f(void 0,void 0).ser(z_).de(RA).build(){}class IN extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetObjectRetention",{}).n("S3Client","GetObjectRetentionCommand").f(void 0,void 0).ser(q_).de(TA).build(){}class ON extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetObjectTagging",{}).n("S3Client","GetObjectTaggingCommand").f(void 0,void 0).ser($_).de(IA).build(){}class MN extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","GetObjectTorrent",{}).n("S3Client","GetObjectTorrentCommand").f(void 0,pk).ser(j_).de(OA).build(){}class DN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetPublicAccessBlock",{}).n("S3Client","GetPublicAccessBlockCommand").f(void 0,void 0).ser(H_).de(MA).build(){}class NN extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","HeadBucket",{}).n("S3Client","HeadBucketCommand").f(void 0,void 0).ser(K_).de(DA).build(){}class LN extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s),Fn(s),hg()]}).s("AmazonS3","HeadObject",{}).n("S3Client","HeadObjectCommand").f(wk,Ek).ser(G_).de(NA).build(){}class FN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","ListBucketAnalyticsConfigurations",{}).n("S3Client","ListBucketAnalyticsConfigurationsCommand").f(void 0,void 0).ser(V_).de(LA).build(){}class UN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","ListBucketIntelligentTieringConfigurations",{}).n("S3Client","ListBucketIntelligentTieringConfigurationsCommand").f(void 0,void 0).ser(W_).de(FA).build(){}class zN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","ListBucketInventoryConfigurations",{}).n("S3Client","ListBucketInventoryConfigurationsCommand").f(void 0,kk).ser(X_).de(UA).build(){}class qN extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","ListBucketMetricsConfigurations",{}).n("S3Client","ListBucketMetricsConfigurationsCommand").f(void 0,void 0).ser(Z_).de(zA).build(){}class $N extends L.classBuilder().ep(q).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","ListBuckets",{}).n("S3Client","ListBucketsCommand").f(void 0,void 0).ser(Q_).de(qA).build(){}class jN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","ListDirectoryBuckets",{}).n("S3Client","ListDirectoryBucketsCommand").f(void 0,void 0).ser(Y_).de($A).build(){}class HN extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","ListMultipartUploads",{}).n("S3Client","ListMultipartUploadsCommand").f(void 0,void 0).ser(J_).de(jA).build(){}class KN extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","ListObjects",{}).n("S3Client","ListObjectsCommand").f(void 0,void 0).ser(eB).de(HA).build(){}class GN extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","ListObjectsV2",{}).n("S3Client","ListObjectsV2Command").f(void 0,void 0).ser(tB).de(KA).build(){}class VN extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","ListObjectVersions",{}).n("S3Client","ListObjectVersionsCommand").f(void 0,void 0).ser(nB).de(GA).build(){}class WN extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s),Fn(s)]}).s("AmazonS3","ListParts",{}).n("S3Client","ListPartsCommand").f(_k,void 0).ser(sB).de(VA).build(){}class XN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),et(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1})]}).s("AmazonS3","PutBucketAccelerateConfiguration",{}).n("S3Client","PutBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(rB).de(WA).build(){}class ZN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),et(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketAcl",{}).n("S3Client","PutBucketAclCommand").f(void 0,void 0).ser(oB).de(XA).build(){}class QN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketAnalyticsConfiguration",{}).n("S3Client","PutBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(iB).de(ZA).build(){}class YN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),et(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketCors",{}).n("S3Client","PutBucketCorsCommand").f(void 0,void 0).ser(aB).de(QA).build(){}class JN extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),et(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketEncryption",{}).n("S3Client","PutBucketEncryptionCommand").f(vk,void 0).ser(cB).de(YA).build(){}class eL extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketIntelligentTieringConfiguration",{}).n("S3Client","PutBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(lB).de(JA).build(){}class tL extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketInventoryConfiguration",{}).n("S3Client","PutBucketInventoryConfigurationCommand").f(Pk,void 0).ser(dB).de(ev).build(){}class nL extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),et(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),re(s)]}).s("AmazonS3","PutBucketLifecycleConfiguration",{}).n("S3Client","PutBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(uB).de(tv).build(){}class sL extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),et(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketLogging",{}).n("S3Client","PutBucketLoggingCommand").f(void 0,void 0).ser(fB).de(nv).build(){}class rL extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketMetricsConfiguration",{}).n("S3Client","PutBucketMetricsConfigurationCommand").f(void 0,void 0).ser(mB).de(sv).build(){}class oL extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketNotificationConfiguration",{}).n("S3Client","PutBucketNotificationConfigurationCommand").f(void 0,void 0).ser(hB).de(rv).build(){}class iL extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),et(s,{requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketOwnershipControls",{}).n("S3Client","PutBucketOwnershipControlsCommand").f(void 0,void 0).ser(yB).de(ov).build(){}class aL extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),et(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketPolicy",{}).n("S3Client","PutBucketPolicyCommand").f(void 0,void 0).ser(gB).de(iv).build(){}class cL extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),et(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketReplication",{}).n("S3Client","PutBucketReplicationCommand").f(void 0,void 0).ser(bB).de(av).build(){}class lL extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),et(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketRequestPayment",{}).n("S3Client","PutBucketRequestPaymentCommand").f(void 0,void 0).ser(CB).de(cv).build(){}class dL extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),et(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketTagging",{}).n("S3Client","PutBucketTaggingCommand").f(void 0,void 0).ser(xB).de(lv).build(){}class uL extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),et(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketVersioning",{}).n("S3Client","PutBucketVersioningCommand").f(void 0,void 0).ser(SB).de(dv).build(){}class fL extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),et(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketWebsite",{}).n("S3Client","PutBucketWebsiteCommand").f(void 0,void 0).ser(pB).de(uv).build(){}class mL extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),et(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),re(s)]}).s("AmazonS3","PutObjectAcl",{}).n("S3Client","PutObjectAclCommand").f(void 0,void 0).ser(wB).de(mv).build(){}class Yd extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),et(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),pp(),re(s),Fn(s)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(Tk,Rk).ser(EB).de(fv).build(){}class hL extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),et(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),re(s)]}).s("AmazonS3","PutObjectLegalHold",{}).n("S3Client","PutObjectLegalHoldCommand").f(void 0,void 0).ser(kB).de(hv).build(){}class yL extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),et(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),re(s)]}).s("AmazonS3","PutObjectLockConfiguration",{}).n("S3Client","PutObjectLockConfigurationCommand").f(void 0,void 0).ser(_B).de(yv).build(){}class gL extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),et(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),re(s)]}).s("AmazonS3","PutObjectRetention",{}).n("S3Client","PutObjectRetentionCommand").f(void 0,void 0).ser(BB).de(gv).build(){}class qC extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),et(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),re(s)]}).s("AmazonS3","PutObjectTagging",{}).n("S3Client","PutObjectTaggingCommand").f(void 0,void 0).ser(AB).de(bv).build(){}class bL extends L.classBuilder().ep({...q,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),et(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutPublicAccessBlock",{}).n("S3Client","PutPublicAccessBlockCommand").f(void 0,void 0).ser(vB).de(Cv).build(){}class CL extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),et(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),re(s)]}).s("AmazonS3","RestoreObject",{}).n("S3Client","RestoreObjectCommand").f(Nk,void 0).ser(PB).de(xv).build(){}class xL extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s),Fn(s)]}).s("AmazonS3","SelectObjectContent",{eventStream:{output:!0}}).n("S3Client","SelectObjectContentCommand").f(Fk,Lk).ser(RB).de(Sv).build(){}class $C extends L.classBuilder().ep({...q,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),et(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),re(s),Fn(s)]}).s("AmazonS3","UploadPart",{}).n("S3Client","UploadPartCommand").f(zk,Uk).ser(TB).de(pv).build(){}class SL extends L.classBuilder().ep({...q,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions()),re(s),Fn(s)]}).s("AmazonS3","UploadPartCopy",{}).n("S3Client","UploadPartCopyCommand").f($k,qk).ser(IB).de(Ev).build(){}class pL extends L.classBuilder().ep({...q,UseObjectLambdaEndpoint:{type:"staticContextParams",value:!0}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),z(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","WriteGetObjectResponse",{}).n("S3Client","WriteGetObjectResponseCommand").f(jk,void 0).ser(OB).de(wv).build(){}const EL={AbortMultipartUploadCommand:FC,CompleteMultipartUploadCommand:UC,CopyObjectCommand:ND,CreateBucketCommand:zD,CreateBucketMetadataTableConfigurationCommand:qD,CreateMultipartUploadCommand:zC,CreateSessionCommand:TC,DeleteBucketCommand:jD,DeleteBucketAnalyticsConfigurationCommand:$D,DeleteBucketCorsCommand:HD,DeleteBucketEncryptionCommand:KD,DeleteBucketIntelligentTieringConfigurationCommand:GD,DeleteBucketInventoryConfigurationCommand:VD,DeleteBucketLifecycleCommand:WD,DeleteBucketMetadataTableConfigurationCommand:XD,DeleteBucketMetricsConfigurationCommand:ZD,DeleteBucketOwnershipControlsCommand:QD,DeleteBucketPolicyCommand:YD,DeleteBucketReplicationCommand:JD,DeleteBucketTaggingCommand:eN,DeleteBucketWebsiteCommand:tN,DeleteObjectCommand:nN,DeleteObjectsCommand:sN,DeleteObjectTaggingCommand:rN,DeletePublicAccessBlockCommand:oN,GetBucketAccelerateConfigurationCommand:iN,GetBucketAclCommand:aN,GetBucketAnalyticsConfigurationCommand:cN,GetBucketCorsCommand:lN,GetBucketEncryptionCommand:dN,GetBucketIntelligentTieringConfigurationCommand:uN,GetBucketInventoryConfigurationCommand:fN,GetBucketLifecycleConfigurationCommand:mN,GetBucketLocationCommand:hN,GetBucketLoggingCommand:yN,GetBucketMetadataTableConfigurationCommand:gN,GetBucketMetricsConfigurationCommand:bN,GetBucketNotificationConfigurationCommand:CN,GetBucketOwnershipControlsCommand:xN,GetBucketPolicyCommand:SN,GetBucketPolicyStatusCommand:pN,GetBucketReplicationCommand:EN,GetBucketRequestPaymentCommand:wN,GetBucketTaggingCommand:kN,GetBucketVersioningCommand:_N,GetBucketWebsiteCommand:BN,GetObjectCommand:PN,GetObjectAclCommand:AN,GetObjectAttributesCommand:vN,GetObjectLegalHoldCommand:RN,GetObjectLockConfigurationCommand:TN,GetObjectRetentionCommand:IN,GetObjectTaggingCommand:ON,GetObjectTorrentCommand:MN,GetPublicAccessBlockCommand:DN,HeadBucketCommand:NN,HeadObjectCommand:LN,ListBucketAnalyticsConfigurationsCommand:FN,ListBucketIntelligentTieringConfigurationsCommand:UN,ListBucketInventoryConfigurationsCommand:zN,ListBucketMetricsConfigurationsCommand:qN,ListBucketsCommand:$N,ListDirectoryBucketsCommand:jN,ListMultipartUploadsCommand:HN,ListObjectsCommand:KN,ListObjectsV2Command:GN,ListObjectVersionsCommand:VN,ListPartsCommand:WN,PutBucketAccelerateConfigurationCommand:XN,PutBucketAclCommand:ZN,PutBucketAnalyticsConfigurationCommand:QN,PutBucketCorsCommand:YN,PutBucketEncryptionCommand:JN,PutBucketIntelligentTieringConfigurationCommand:eL,PutBucketInventoryConfigurationCommand:tL,PutBucketLifecycleConfigurationCommand:nL,PutBucketLoggingCommand:sL,PutBucketMetricsConfigurationCommand:rL,PutBucketNotificationConfigurationCommand:oL,PutBucketOwnershipControlsCommand:iL,PutBucketPolicyCommand:aL,PutBucketReplicationCommand:cL,PutBucketRequestPaymentCommand:lL,PutBucketTaggingCommand:dL,PutBucketVersioningCommand:uL,PutBucketWebsiteCommand:fL,PutObjectCommand:Yd,PutObjectAclCommand:mL,PutObjectLegalHoldCommand:hL,PutObjectLockConfigurationCommand:yL,PutObjectRetentionCommand:gL,PutObjectTaggingCommand:qC,PutPublicAccessBlockCommand:bL,RestoreObjectCommand:CL,SelectObjectContentCommand:xL,UploadPartCommand:$C,UploadPartCopyCommand:SL,WriteGetObjectResponseCommand:pL};class jC extends ID{}jx(EL,jC);class wL{constructor(){this.onabort=null,this._aborted=!1,Object.defineProperty(this,"_aborted",{value:!1,writable:!0})}get aborted(){return this._aborted}abort(){this._aborted=!0,this.onabort&&(this.onabort(this),this.onabort=null)}}let kL=class{constructor(){this.signal=new wL}abort(){this.signal.abort()}};var Vl=i0();const _L={lstatSync:()=>{}},BL={..._L,runtime:"browser"},Wl=e=>{if(e==null)return 0;if(typeof e=="string")return hs.Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size;if(typeof e.path=="string")try{return BL.lstatSync(e.path).size}catch{return}};var AL=a0();async function*Xl(e,n,t){let s=1;const r={chunks:[],length:0};for await(const o of t(e))for(r.chunks.push(o),r.length+=o.byteLength;r.length>n;){const i=r.chunks.length>1?hs.Buffer.concat(r.chunks):r.chunks[0];yield{partNumber:s,data:i.subarray(0,n)},r.chunks=[i.subarray(n)],r.length=r.chunks[0].byteLength,s+=1}yield{partNumber:s,data:r.chunks.length!==1?hs.Buffer.concat(r.chunks):r.chunks[0],lastPart:!0}}async function*fy(e,n){let t=1,s=0,r=n;for(;r<e.byteLength;)yield{partNumber:t,data:e.subarray(s,r)},t+=1,s=r,r=s+n;yield{partNumber:t,data:e.subarray(s),lastPart:!0}}async function*vL(e){for await(const n of e)hs.Buffer.isBuffer(n)||n instanceof Uint8Array?yield n:yield hs.Buffer.from(n)}async function*my(e){const n=e.getReader();try{for(;;){const{done:t,value:s}=await n.read();if(t)return;hs.Buffer.isBuffer(s)||s instanceof Uint8Array?yield s:yield hs.Buffer.from(s)}}catch(t){throw t}finally{n.releaseLock()}}const PL=(e,n)=>{if(e instanceof Uint8Array)return fy(e,n);if(e instanceof AL.Readable)return Xl(e,n,vL);if(e instanceof String||typeof e=="string")return fy(hs.Buffer.from(e),n);if(typeof e.stream=="function")return Xl(e.stream(),n,my);if(e instanceof ReadableStream)return Xl(e,n,my);throw new Error("Body Data is unsupported format, expected data to be one of: string | Uint8Array | Buffer | Readable | ReadableStream | Blob;.")},Lr=class Lr extends Vl.EventEmitter{constructor(t){super();te(this,"MAX_PARTS",1e4);te(this,"queueSize",4);te(this,"partSize",Lr.MIN_PART_SIZE);te(this,"leavePartsOnError",!1);te(this,"tags",[]);te(this,"client");te(this,"params");te(this,"totalBytes");te(this,"bytesUploadedSoFar");te(this,"abortController");te(this,"concurrentUploaders",[]);te(this,"createMultiPartPromise");te(this,"abortMultipartUploadCommand",null);te(this,"uploadedParts",[]);te(this,"uploadEnqueuedPartsCount",0);te(this,"uploadId");te(this,"uploadEvent");te(this,"isMultiPart",!0);te(this,"singleUploadResult");te(this,"sent",!1);this.queueSize=t.queueSize||this.queueSize,this.partSize=t.partSize||this.partSize,this.leavePartsOnError=t.leavePartsOnError||this.leavePartsOnError,this.tags=t.tags||this.tags,this.client=t.client,this.params=t.params,this.__validateInput(),this.totalBytes=Wl(this.params.Body),this.bytesUploadedSoFar=0,this.abortController=t.abortController??new kL}async abort(){this.abortController.abort()}async done(){if(this.sent)throw new Error("@aws-sdk/lib-storage: this instance of Upload has already executed .done(). Create a new instance.");return this.sent=!0,await Promise.race([this.__doMultipartUpload(),this.__abortTimeout(this.abortController.signal)])}on(t,s){return this.uploadEvent=t,super.on(t,s)}async __uploadUsingPut(t){var v;this.isMultiPart=!1;const s={...this.params,Body:t.data},r=this.client.config,o=r.requestHandler,i=o instanceof Vl.EventEmitter?o:null,a=w=>{this.bytesUploadedSoFar=w.loaded,this.totalBytes=w.total,this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:t.partNumber,Key:this.params.Key,Bucket:this.params.Bucket})};i!==null&&i.on("xhr.upload.progress",a);const l=await Promise.all([this.client.send(new Yd(s)),(v=r==null?void 0:r.endpoint)==null?void 0:v.call(r)]),c=l[0];let d=l[1];if(d||(d=yu(await Bg(s,Yd,{...r}))),!d)throw new Error('Could not resolve endpoint from S3 "client.config.endpoint()" nor EndpointsV2.');i!==null&&i.off("xhr.upload.progress",a);const f=this.params.Key.split("/").map(w=>Oa(w)).join("/"),m=Oa(this.params.Bucket),g=(()=>{const w=d.hostname.startsWith(`${m}.`),C=this.client.config.forcePathStyle,p=d.port?`:${d.port}`:"";return C?`${d.protocol}//${d.hostname}${p}/${m}/${f}`:w?`${d.protocol}//${d.hostname}${p}/${f}`:`${d.protocol}//${m}.${d.hostname}${p}/${f}`})();this.singleUploadResult={...c,Bucket:this.params.Bucket,Key:this.params.Key,Location:g};const k=Wl(t.data);this.__notifyProgress({loaded:k,total:k,part:1,Key:this.params.Key,Bucket:this.params.Bucket})}async __createMultipartUpload(){const t=await this.client.config.requestChecksumCalculation();if(!this.createMultiPartPromise){const s={...this.params,Body:void 0};t==="WHEN_SUPPORTED"&&(s.ChecksumAlgorithm=this.params.ChecksumAlgorithm||ek.CRC32),this.createMultiPartPromise=this.client.send(new zC(s)).then(r=>(this.abortMultipartUploadCommand=new FC({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:r.UploadId}),r))}return this.createMultiPartPromise}async __doConcurrentUpload(t){for await(const s of t){if(this.uploadEnqueuedPartsCount>this.MAX_PARTS)throw new Error(`Exceeded ${this.MAX_PARTS} parts in multipart upload to Bucket: ${this.params.Bucket} Key: ${this.params.Key}.`);if(this.abortController.signal.aborted)return;if(s.partNumber===1&&s.lastPart)return await this.__uploadUsingPut(s);if(!this.uploadId){const{UploadId:d}=await this.__createMultipartUpload();if(this.uploadId=d,this.abortController.signal.aborted)return}const r=Wl(s.data)||0,o=this.client.config.requestHandler,i=o instanceof Vl.EventEmitter?o:null;let a=0;const l=(d,f)=>{(Number(f.query.partNumber)||-1)===s.partNumber&&(d.total&&r&&(this.bytesUploadedSoFar+=d.loaded-a,a=d.loaded),this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:s.partNumber,Key:this.params.Key,Bucket:this.params.Bucket}))};i!==null&&i.on("xhr.upload.progress",l),this.uploadEnqueuedPartsCount+=1;const c=await this.client.send(new $C({...this.params,ContentLength:void 0,UploadId:this.uploadId,Body:s.data,PartNumber:s.partNumber}));if(i!==null&&i.off("xhr.upload.progress",l),this.abortController.signal.aborted)return;if(!c.ETag)throw new Error(`Part ${s.partNumber} is missing ETag in UploadPart response. Missing Bucket CORS configuration for ETag header?`);this.uploadedParts.push({PartNumber:s.partNumber,ETag:c.ETag,...c.ChecksumCRC32&&{ChecksumCRC32:c.ChecksumCRC32},...c.ChecksumCRC32C&&{ChecksumCRC32C:c.ChecksumCRC32C},...c.ChecksumSHA1&&{ChecksumSHA1:c.ChecksumSHA1},...c.ChecksumSHA256&&{ChecksumSHA256:c.ChecksumSHA256}}),i===null&&(this.bytesUploadedSoFar+=r),this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:s.partNumber,Key:this.params.Key,Bucket:this.params.Bucket})}}async __doMultipartUpload(){const t=PL(this.params.Body,this.partSize),s=[];for(let o=0;o<this.queueSize;o++){const i=this.__doConcurrentUpload(t).catch(a=>{s.push(a)});this.concurrentUploaders.push(i)}if(await Promise.all(this.concurrentUploaders),s.length>=1)throw await this.markUploadAsAborted(),s[0];if(this.abortController.signal.aborted)throw await this.markUploadAsAborted(),Object.assign(new Error("Upload aborted."),{name:"AbortError"});let r;if(this.isMultiPart){this.uploadedParts.sort((i,a)=>i.PartNumber-a.PartNumber);const o={...this.params,Body:void 0,UploadId:this.uploadId,MultipartUpload:{Parts:this.uploadedParts}};r=await this.client.send(new UC(o)),typeof(r==null?void 0:r.Location)=="string"&&r.Location.includes("%2F")&&(r.Location=r.Location.replace(/%2F/g,"/"))}else r=this.singleUploadResult;return this.abortMultipartUploadCommand=null,this.tags.length&&await this.client.send(new qC({...this.params,Tagging:{TagSet:this.tags}})),r}async markUploadAsAborted(){this.uploadId&&!this.leavePartsOnError&&this.abortMultipartUploadCommand!==null&&(await this.client.send(this.abortMultipartUploadCommand),this.abortMultipartUploadCommand=null)}__notifyProgress(t){this.uploadEvent&&this.emit(this.uploadEvent,t)}async __abortTimeout(t){return new Promise((s,r)=>{t.onabort=()=>{const o=new Error("Upload aborted.");o.name="AbortError",r(o)}})}__validateInput(){if(!this.params)throw new Error("InputError: Upload requires params to be passed to upload.");if(!this.client)throw new Error("InputError: Upload requires a AWS client to do uploads with.");if(this.partSize<Lr.MIN_PART_SIZE)throw new Error(`EntityTooSmall: Your proposed upload partsize [${this.partSize}] is smaller than the minimum allowed size [${Lr.MIN_PART_SIZE}] (5MB)`);if(this.queueSize<1)throw new Error("Queue size: Must have at least one uploading queue.")}};te(Lr,"MIN_PART_SIZE",1024*1024*5);let Jd=Lr;async function RL(e,n,t,s,r,o,i,a,l){const c=new jC({endpoint:t,region:"us-east-1",credentials:{accessKeyId:s,secretAccessKey:r},forcePathStyle:!0}),d=new Jd({client:c,params:{Bucket:o,Key:n,ContentType:i,Body:e},abortController:a,leavePartsOnError:!0});d.on("httpUploadProgress",f=>{l&&l({value:f.loaded||0,total:f.total||1})}),await d.done()}function TL(){const{synapseClient:e}=yy();return eu({mutationFn:n=>e.fileServicesClient.postFileV1ExternalFileHandle(n)})}function IL(e){const{mutateAsync:n}=TL();return eu({...e,mutationFn:async t=>{const{accessKey:s,secretKey:r,bucketName:o,endpoint:i,fileName:a,contentType:l,blob:c,progressCallback:d,keyPrefixUUID:f,storageLocationId:m,onMd5Computed:g,abortController:k}=t,v=await JC(c);g&&g();const w=`${f}/${a}`;return await RL(c,w,i,s,r,o,l,k,d),await n({externalFileHandleInterface:{concreteType:"org.sagebionetworks.repo.model.file.ExternalObjectStoreFileHandle",contentMd5:v,contentSize:c.size,contentType:l,fileKey:w,fileName:a,storageLocationId:m}})}})}function OL(e){const{accessToken:n}=yy();return eu({...e,mutationFn:t=>{const{blob:s,fileName:r,storageLocationId:o,contentType:i,progressCallback:a,abortController:l,onMd5Computed:c}=t;return e0(n,r,s,o,i,a,void 0,c,l)}})}class ML{constructor(n){te(this,"value");te(this,"next");this.value=n}}var dn,Ns,Ls;class DL{constructor(){Di(this,dn);Di(this,Ns);Di(this,Ls);this.clear()}enqueue(n){const t=new ML(n);Tn(this,dn)?(Tn(this,Ns).next=t,Xn(this,Ns,t)):(Xn(this,dn,t),Xn(this,Ns,t)),Bc(this,Ls)._++}dequeue(){const n=Tn(this,dn);if(n)return Xn(this,dn,Tn(this,dn).next),Bc(this,Ls)._--,n.value}peek(){if(Tn(this,dn))return Tn(this,dn).value}clear(){Xn(this,dn,void 0),Xn(this,Ns,void 0),Xn(this,Ls,0)}get size(){return Tn(this,Ls)}*[Symbol.iterator](){let n=Tn(this,dn);for(;n;)yield n.value,n=n.next}*drain(){for(;Tn(this,dn);)yield this.dequeue()}}dn=new WeakMap,Ns=new WeakMap,Ls=new WeakMap;function NL(e){hy(e);const n=new DL;let t=0;const s=()=>{t<e&&n.size>0&&(n.dequeue()(),t++)},r=()=>{t--,s()},o=async(l,c,d)=>{const f=(async()=>l(...d))();c(f);try{await f}catch{}r()},i=(l,c,d)=>{new Promise(f=>{n.enqueue(f)}).then(o.bind(void 0,l,c,d)),(async()=>(await Promise.resolve(),t<e&&s()))()},a=(l,...c)=>new Promise(d=>{i(l,d,c)});return Object.defineProperties(a,{activeCount:{get:()=>t},pendingCount:{get:()=>n.size},clearQueue:{value(){n.clear()}},concurrency:{get:()=>e,set(l){hy(l),e=l,queueMicrotask(()=>{for(;t<e&&n.size>0;)s()})}}}),a}function hy(e){if(!((Number.isInteger(e)||e===Number.POSITIVE_INFINITY)&&e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up")}const LL=[".awk",".bat",".btm",".c",".cmd",".cpp",".cxx",".def",".dlg",".dpc",".dpj",".dtd",".h",".hdl",".hpp",".hrc",".html",".hxx",".inc",".ini",".inl",".ins",".ipy",".java",".js",".jsp",".l",".lgt",".ll",".par",".pl",".py",".r",".rc",".rdb",".res",".s",".sbl",".scp",".sh",".sql",".src",".srs",".xml",".xrb",".y",".yaml",".yxx"],FL="text/plain",UL="text/csv",zL="text/tab-separated-values",qL="application/octet-stream",$L=[".cwl",".wdl",".json"];function jL(e){let n=!1;if(e!=null){const t=e.lastIndexOf(".");if(t>-1){const s=e.substring(t).toLowerCase();n=LL.includes(s)}}return n}function HL(e){if(e!=null){const n=e.lastIndexOf(".");if(n>-1)return e.substring(n+1).toLowerCase()}return null}function KL(e){let n=!1;const t=HL(e);return t!=null&&(n=$L.includes("."+t)),n}function GL(e,n){let t=e;const s=n.toLowerCase();return(e==null||e.trim().length==0)&&(jL(n)||KL(n)||s.endsWith(".txt")?t=FL:s.endsWith(".tsv")||s.endsWith(".tab")?t=zL:s.endsWith(".csv")?t=UL:t=qL),t}const VL={},WL=NL(8);function aF(e=VL){const{uploadDestination:n,accessKey:t="",secretKey:s="",onUploadComplete:r,onBeforeUpload:o}=e,i=(n==null?void 0:n.storageLocationId)??e.storageLocationId??t0,{trackedUploadProgress:a,setProgress:l,setIsUploading:c,trackNewFiles:d,cancelUpload:f,pauseUpload:m,removeUpload:g,setComplete:k,setFailed:v,isUploading:w,isUploadComplete:C,activeUploadCount:p,bytesPendingUpload:D}=l0(),S=Zn.useMemo(()=>w?"UPLOADING":C?"COMPLETE":"WAITING",[C,w]),{mutateAsync:O}=OL(),{mutateAsync:E}=IL(),W=Zn.useCallback(async function(ne,N){try{const we=ne.get(N.file),Ae={fileName:N.file.name,blob:N.file,storageLocationId:i,contentType:GL(N.file.type,N.file.name),progressCallback:ks=>{ks&&l(N.file,ks)},abortController:we.abortController,onMd5Computed:()=>{c(N.file)}};let Nt;n&&n0(n)&&n.endpointUrl!=null?Nt=(await E({...Ae,bucketName:n.bucket,endpoint:n.endpointUrl,keyPrefixUUID:n.keyPrefixUUID,accessKey:t,secretKey:s})).id:Nt=(await O(Ae)).fileHandleId,r&&await r(N,Nt),k(N.file,Nt)}catch(we){console.error("File upload failed: ",we),v(N.file,we.message)}},[i,n,r,k,l,c,E,t,s,O,v]),Z=Zn.useCallback(function(...ne){o&&o();const N=d(...ne);ne.map(we=>WL(()=>W(N,we)))},[o,d,W]),j=Zn.useMemo(()=>[...a].map(([Be,ne])=>({file:Be,fileHandleId:ne.fileHandleId,progress:ne.progress,status:ne.status,failureReason:ne.failureReason,cancel:()=>{f(Be)},pause:()=>{m(Be)},resume:()=>{Z(ne.filePreparedForUpload)},remove(){g(Be)}})),[f,m,g,Z,a]);return Zn.useMemo(()=>({state:S,activeUploadCount:p,startUpload:Z,uploadProgress:j,bytesPendingUpload:D}),[S,p,Z,j,D])}export{wf as M,kf as U,TL as a,rF as t,aF as u};
