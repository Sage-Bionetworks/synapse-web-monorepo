import{j as e}from"./jsx-runtime-CZmUC0kc.js";import{E as M}from"./EvenlyDistributedWrappedContainer-EK_dIPqQ.js";import{K as v,I as u,k as D}from"./useFiles-QsHV2q1R.js";import{i as V,h as R}from"./SynapseConstants-BtQ24Nut.js";import{r as w}from"./index-D48dKAGK.js";import"./VerificationSubmission-DHPhgAH7.js";import"./StringUtils-Bj0SG9ce.js";import{E as L,u as T}from"./ExpandableContent-BovuSckZ.js";import"./OrientationBanner-Bqf4PnT9.js";import{u as B}from"./useGetGoalData-BJGu02-L.js";import{Q as g}from"./QueryCount-DY8N2ND_.js";import{B as C}from"./Button-CYaahIbs.js";function y({asset:r,link:t,summary:n,countSql:l,title:s}){return e.jsxs("div",{className:"Goals__Card",style:{cursor:"pointer"},onClick:()=>window.open(t),children:[e.jsx("div",{className:"Goals__Card__header",style:{background:`url('${r}')`},children:e.jsxs("p",{children:[e.jsxs("span",{className:"Goals__Card__header__title",children:[" ",s," "]}),l&&e.jsx("span",{className:"Goals__Card__header__count",children:e.jsx(g,{parens:!1,query:{sql:l}})})]})}),e.jsxs("div",{className:"Goals__Card__summary",children:[e.jsxs("p",{children:[" ",n," "]}),e.jsx(C,{className:"Goals__Card__summary__link",variant:"contained",color:"secondary",href:t,children:"Explore"})]})]})}try{y.displayName="GoalsDesktop",y.__docgenInfo={description:"",displayName:"GoalsDesktop",props:{countSql:{defaultValue:null,description:"",name:"countSql",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}},asset:{defaultValue:null,description:"",name:"asset",required:!0,type:{name:"string"}}}}}catch{}function f({link:r,summary:t,countSql:n,title:l}){const s=e.jsxs("div",{className:"Goals__Mobile__Header",children:[n&&e.jsx("span",{className:"Goals__Mobile__Header__Count",children:e.jsx(g,{parens:!1,query:{sql:n}})}),e.jsxs("span",{className:"Goals__Mobile__Header__Title",children:[" ",l," "]})]}),o=e.jsxs("div",{className:"Goals__Mobile__Content",children:[e.jsx("p",{children:t}),e.jsx(C,{variant:"contained",color:"secondary",className:"Goals__Mobile__Content__Link",href:r,children:"Explore"})]});return e.jsx(L,{title:s,content:o})}try{f.displayName="GoalsMobile",f.__docgenInfo={description:"",displayName:"GoalsMobile",props:{countSql:{defaultValue:null,description:"",name:"countSql",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}},asset:{defaultValue:null,description:"",name:"asset",required:!0,type:{name:"string"}}}}}catch{}const O=1200;function N(r){const{entityId:t}=r,n=T(O),l={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:t,partMask:V|R,query:{sql:`select *
            from ${t}
            order by ItemOrder`}},{data:s}=v(l),{assets:o,error:x}=B(t,s),m=u("TableId",s),c=u("CountSql",s),h=u("Title",s),G=u("Summary",s),j=u("Link",s),_=w.useMemo(()=>s==null?void 0:s.queryResult.queryResults.rows.map((i,d)=>{const a=i.values;a.some(S=>S===null)&&console.warn("Row has null value(s) when no nulls expected");const q=m>-1?a[m]:void 0;let p;c>-1&&a[c]?p=a[c]:q&&(p=`SELECT * FROM ${q}`);const E=a[h],I=a[G],k=a[j],b=(o==null?void 0:o[d])??"";return{countSql:p,title:E,summary:I,link:k,asset:b}}),[c,o,j,s==null?void 0:s.queryResult,G,m,h]);return x?e.jsx(D,{error:x}):_?n?e.jsx("div",{className:"Goals",children:e.jsx(M,{children:_.map((i,d)=>e.jsx(y,{...i},d))})}):e.jsx("div",{className:"Goals",children:_.map((i,d)=>e.jsx(f,{...i},d))}):e.jsx(e.Fragment,{})}try{N.displayName="Goals",N.__docgenInfo={description:"",displayName:"Goals",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}}}}}catch{}export{N as G};
