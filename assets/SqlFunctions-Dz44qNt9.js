import{S as f}from"./RegularExpressions-D_Bl7pBr.js";import{f as a,g as u}from"./index-C-UbkUMQ.js";const p=3,g=r=>`${r}-temp-QueryFilter-array`;function m(r){return r.match(f)?r.substring(p):r}const E=(r,n,t=u.LIKE)=>{const i=r?sessionStorage.getItem(g(r)):void 0;let o=[];if(i&&(o=JSON.parse(i)),n){const l=e=>e.startsWith("QueryWrapper")||e.startsWith("__");o=o.concat(Object.keys(n||{}).filter(e=>!l(e)).map(e=>{switch(t){case u.EQUAL:return{concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter",columnName:e,operator:t,values:[n[e]]};case u.IN:return{concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter",columnName:e,operator:t,values:n[e].split(",")};case a.HAS:return{concreteType:"org.sagebionetworks.repo.model.table.ColumnMultiValueFunctionQueryFilter",columnName:e,function:t,values:n[e].split(",")};case u.LIKE:return{concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter",columnName:e,operator:t,values:[`%${m(n[e])}%`]};case a.HAS_LIKE:return{concreteType:"org.sagebionetworks.repo.model.table.ColumnMultiValueFunctionQueryFilter",columnName:e,function:t,values:n[e].split(",").map(c=>`%${m(c)}%`)}}}))}return o.length===0?void 0:o},F=r=>{const n=r.match(/(from)\s+(syn)\d+/gi);return n&&n[0]?n[0].substr(5).trim():""},I=r=>{const t=/from\s+(syn\d+)(?:\.(\d+))?/i.exec(r);return t?{entityId:t[1],versionNumber:t[2]?parseInt(t[2]):void 0}:null},b=(r,n)=>{const t=[],i=n.map(l=>l.values),o=r.map(l=>l.name);return i.forEach((l,e)=>{t[e]={},l.forEach((s,c)=>{t[e][o[c]]=s})}),t};export{g as Q,I as a,E as g,F as p,b as r};
