import{j as e}from"./jsx-runtime-Du8NFWEI.js";import{i as p,l as c,n as m}from"./SynapseClient-Dj7tMv3Y.js";import{l as u}from"./SynapseConstants-CmcZ9bEt.js";import"./EntityTypeUtils-BpOAC-k-.js";import"./getEndpoint-CjoHA800.js";import"./index-Dl6G-zuu.js";import"./OrientationBanner-D9RUUnWX.js";import{$ as y}from"./index-CIIvWsNs.js";import{A as w}from"./ActionRequiredCard-CzmDOMVW.js";import{A as f}from"./Alert-Aa0bm5Nm.js";import{T as g}from"./Typography-DgBbIcOX.js";import{B as _}from"./Button-CLkrjdQe.js";function E(n,o,t=y,r){const{accessToken:i,keyFactory:s}=p();return c({...r,queryKey:s.getEntityBundleQueryKey(n,o,t),queryFn:()=>m.getEntityBundleV2(n,t,o,i)})}const h=n=>window.open(`https://www.synapse.org/Synapse:${n}`,"_blank"),S="Download Permission Required",d=({entityId:n,count:o,onViewSharingSettingsClicked:t=h})=>{const{data:r,isLoading:i,isError:s,error:l}=E(n,void 0,{includeEntity:!0,includePermissions:!0}),a=!!(r!=null&&r.permissions.canDownload);return s?e.jsx(f,{severity:"error",children:l.reason}):e.jsx(w,{isLoading:i,title:S,description:e.jsxs(e.Fragment,{children:["You must be granted the download permission on"," ",e.jsx("strong",{children:r==null?void 0:r.entity.name})," in order to download this set of files."]}),iconType:u,count:o,actionNode:e.jsxs(e.Fragment,{children:[e.jsx(g,{variant:"smallText1",sx:{mb:1,color:"grey.700"},children:"Contact an administrator to request download permission"}),e.jsx(_,{variant:"outlined",onClick:()=>{t(n)},disabled:a,children:a?"Complete":"View Sharing Settings"})]})})};try{d.displayName="RequestDownloadCard",d.__docgenInfo={description:"",displayName:"RequestDownloadCard",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}},onViewSharingSettingsClicked:{defaultValue:{value:`benefactorEntityId =>
    window.open(
      \`https://www.synapse.org/Synapse:\${benefactorEntityId}\`,
      '_blank',
    )`},description:'Invoked when a user clicks "View Sharing Settings" for a set of files that require the Download permission',name:"onViewSharingSettingsClicked",required:!1,type:{name:"((benefactorId: string) => void)"}}}}}catch{}export{d as R,E as u};
