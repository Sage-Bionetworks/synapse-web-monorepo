import{j as e}from"./jsx-runtime-DoxjgJx5.js";import{r as c,a as U}from"./index-Cu9bd8lq.js";import{I as S}from"./IconSvg-DtudR477.js";import{I as y}from"./IconButton-CLlNv19f.js";import{B as V}from"./Box-BXEUN41W.js";import{F as $}from"./FormControlLabel-Ceo3GfFJ.js";import{C as W}from"./Checkbox-De6Bx9_m.js";import{R as ne}from"./Radio-BsbSlyDe.js";import{D as E}from"./Dropdown-DulLVQnB.js";import{T as C}from"./Tooltip-DkphrB3H.js";import{M as ae}from"./Menu-BfeeZSwk.js";import{F as re}from"./Fade-DsJosqMx.js";import{T as oe}from"./TextField-cHNg-UFf.js";import{C as ie}from"./cloneDeep-B67xjGGL.js";import{S as v}from"./Skeleton-Bkch6hEL.js";import{S as se}from"./Stack-ERnuki-b.js";const k=t=>e.jsxs("svg",{...t,className:`Icon-Plus ${t.className??""}`,width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.title&&e.jsx("title",{children:t.title}),e.jsx("path",{d:"M14.3887 8H8.38867V14H6.38867V8H0.388672V6H6.38867V0H8.38867V6H14.3887V8Z"})]});try{k.displayName="IconPlus",k.__docgenInfo={description:"",displayName:"IconPlus",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}const q=t=>e.jsxs("svg",{...t,className:`Icon-Minus ${t.className??""}`,width:"15",height:"2",viewBox:"0 0 15 2",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.title&&e.jsx("title",{children:t.title}),e.jsx("path",{d:"M14.3887 2H8.38867H6.38867H0.388672V0H6.38867H8.38867H14.3887V2Z"})]});try{q.displayName="IconMinus",q.__docgenInfo={description:"",displayName:"IconMinus",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}function A(t){const{label:n,isCollapsed:r,onClick:o,hideCollapsible:i=!1}=t;return e.jsxs("div",{className:"FacetFilterHeader",children:[e.jsx("label",{className:"FacetFilterHeader__label",children:n}),!i&&e.jsx(y,{size:"small",className:"FacetFilterHeader__collapseToggleBtn",onClick:()=>o(!r),children:r?e.jsx(k,{className:"icon-plus",title:"Expand Menu"}):e.jsx(q,{className:"icon-minus",title:"Collapse Menu"})})]})}try{A.displayName="FacetFilterHeader",A.__docgenInfo={description:"",displayName:"FacetFilterHeader",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},hideCollapsible:{defaultValue:null,description:"",name:"hideCollapsible",required:!1,type:{name:"boolean"}},isCollapsed:{defaultValue:null,description:"",name:"isCollapsed",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(newValue: boolean) => void"}}}}}catch{}function H(t){const{id:n,label:r,count:o,isDropdown:i,checked:a,onChange:u,onHover:m,inputType:s}=t;let p=s==="checkbox"?e.jsx(W,{}):e.jsx(ne,{});return e.jsxs(V,{display:"flex",justifyContent:"space-between",alignItems:"center",className:"EnumFacetFilter__checkboxContainer",onClick:()=>{i&&u(!a)},onMouseEnter:m,children:[e.jsx($,{control:p,className:"EnumFacetFilter__checkbox",onClick:g=>g.stopPropagation(),onChange:(g,b)=>{u(b)},checked:a,label:r},`${n}`),o!=null&&e.jsxs(e.Fragment,{children:[i&&e.jsxs("span",{className:"EnumFacetFilter__count",children:["(",o.toLocaleString(),")"]}),!i&&e.jsx("div",{className:"EnumFacetFilter__count",children:o.toLocaleString()})]})]})}try{H.displayName="EnumFacetFilterOption",H.__docgenInfo={description:"",displayName:"EnumFacetFilterOption",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}},isDropdown:{defaultValue:null,description:"",name:"isDropdown",required:!0,type:{name:"boolean"}},checked:{defaultValue:null,description:"",name:"checked",required:!0,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(selected: boolean) => void"}},onHover:{defaultValue:null,description:"",name:"onHover",required:!0,type:{name:"() => void"}},inputType:{defaultValue:null,description:"",name:"inputType",required:!0,type:{name:"enum",value:[{value:'"checkbox"'},{value:'"radio"'}]}}}}}catch{}function ce(t){const{menuText:n,children:r}=t,[o,i]=c.useState(!1),a=()=>i(!o);return e.jsxs(E,{className:"EnumFacetFilter EnumFacetFilterSelect",show:o,onToggle:a,children:[e.jsx(E.Toggle,{className:"secondary-caret",variant:"gray-select",children:n}),e.jsx(E.Menu,{children:r})]})}function ue(t){const{children:n,filterIsActive:r,facetTitle:o}=t,[i,a]=U.useState(null),u=p=>{a(p.currentTarget)},m=()=>{a(null)},s=!!i;return e.jsxs("div",{className:"EnumFacetFilter",children:[e.jsx(C,{title:`Filter by ${o}`,children:e.jsx(y,{onClick:u,size:"small",children:e.jsx(S,{icon:"filter",wrap:!1,sx:{color:r?"primary.main":"grey.700",fontSize:"20px"}})})}),e.jsx(ae,{anchorEl:i,open:s,onClose:m,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},TransitionComponent:re,children:n})]})}function M(t){const{dropdownType:n}=t;return n==="SelectBox"?e.jsx(ce,{...t}):e.jsx(ue,{...t})}try{M.displayName="EnumFacetFilterDropdown",M.__docgenInfo={description:"",displayName:"EnumFacetFilterDropdown",props:{facetTitle:{defaultValue:null,description:"",name:"facetTitle",required:!0,type:{name:"string"}},menuText:{defaultValue:null,description:"",name:"menuText",required:!0,type:{name:"string"}},filterIsActive:{defaultValue:null,description:"",name:"filterIsActive",required:!0,type:{name:"boolean"}},dropdownType:{defaultValue:null,description:"",name:"dropdownType",required:!1,type:{name:"enum",value:[{value:'"Icon"'},{value:'"SelectBox"'}]}}}}}catch{}const F=5;function O(t){return t.replace(/\s/g,"").toLowerCase()}function L(t){const{filterIsActive:n,containerAs:r="Collapsible",dropdownType:o="Icon",hideCollapsible:i=!1,facetValues:a,onAddValueToSelection:u,onRemoveValueFromSelection:m,facetTitle:s,onRemoveAllFacetSelections:p,onHoverOverValue:g,canMultiSelect:b=!0}=t,[Z,T]=c.useState(!1),[B,G]=c.useState(!1),[h,D]=c.useState(!1),[d,N]=c.useState(""),R=a.length>F&&a.slice(F).some(({isSelected:l})=>l),j=Z||h||R,f=c.useMemo(()=>h&&d.length>0?a.filter(({displayText:l})=>l.toLowerCase().indexOf(d.trim().toLowerCase())>-1):j?a:a.slice(0,F),[a,d,h,j]),I=U.createRef(),w=r==="Dropdown",X=!j&&a.length>F,J=j&&!d&&!R&&a.length>F,z=e.jsxs("div",{className:w?"EnumFacetFilter__dropdown_menu":"",children:[e.jsxs("div",{className:"EnumFacetFilter__checkboxContainer--forAll",children:[e.jsx(oe,{sx:{display:h?void 0:"none"},size:"small",fullWidth:!0,InputProps:{startAdornment:e.jsx(C,{title:"Close search",children:e.jsx(y,{size:"small",onClick:()=>{D(!1),T(!1)},children:e.jsx(S,{sx:{fontSize:"inherit"},wrap:!1,icon:"arrowBack"})})}),endAdornment:d.length>0&&e.jsx(C,{title:"Clear",children:e.jsx(y,{size:"small",onClick:()=>{var l;N(""),(l=I.current)==null||l.focus()},children:e.jsx(S,{sx:{fontSize:"inherit"},wrap:!1,icon:"close"})})})},type:"text",placeholder:"Find values",value:d,ref:I,onChange:l=>{N(l.target.value)}}),!h&&e.jsxs("div",{className:"EnumFacetFilter__checkAll",children:[e.jsx($,{control:e.jsx(W,{}),className:"EnumFacetFilter__checkbox",onChange:()=>{n&&p()},checked:!n,label:"All"},"select_all"),e.jsx(C,{title:"Search",children:e.jsx(y,{size:"small",sx:{aspectRatio:"1 / 1"},onClick:()=>{var l;N(""),D(!0),(l=I.current)==null||l.focus()},children:e.jsx(S,{sx:{fontSize:"inherit"},wrap:!1,icon:"search"})})})]})]}),e.jsxs("div",{children:[f.map((l,Q)=>{const{isSelected:Y,displayText:ee,value:x,count:te}=l;return e.jsx(H,{id:[O(s),O(String(x)),Q].join("-"),label:ee,count:te,isDropdown:w,checked:Y,onHover:()=>{g(x)},onChange:le=>{le?u(x):m(x)},inputType:b?"checkbox":"radio"},String(x))}),!w&&e.jsxs(e.Fragment,{children:[X&&e.jsx("button",{className:"EnumFacetFilter__showMoreFacetsBtn",onClick:()=>T(!0),children:e.jsx("div",{className:"EnumFacetFilter__checkboxContainer",children:e.jsxs("div",{className:"EnumFacetFilter__showMoreFacetsLabel",children:["Show all (",a.length,")"]})})}),J&&e.jsx("button",{className:"EnumFacetFilter__showMoreFacetsBtn",onClick:()=>T(!1),children:e.jsx("div",{className:"EnumFacetFilter__checkboxContainer",children:e.jsx("div",{className:"EnumFacetFilter__showMoreFacetsLabel",children:"Show less"})})})]}),f.length<=0&&e.jsx("div",{className:"EnumFacetFilter__noMatch",children:"No match found"})]})]}),K=c.useMemo(()=>n?n&&f.filter(l=>l.isSelected).length===1?f.filter(l=>l.isSelected)[0].displayText:"Multiple Values Selected":"All",[n,f]);return w?e.jsx(M,{facetTitle:s,dropdownType:o,menuText:K,filterIsActive:n,children:z}):e.jsxs(e.Fragment,{children:[e.jsx(A,{hideCollapsible:i,isCollapsed:B,label:s,onClick:l=>G(l)}),e.jsx(ie,{className:"EnumFacetFilter",in:!B,children:z})]})}try{L.displayName="EnumFacetFilterUI",L.__docgenInfo={description:"",displayName:"EnumFacetFilterUI",props:{facetTitle:{defaultValue:null,description:"",name:"facetTitle",required:!0,type:{name:"string"}},facetValues:{defaultValue:null,description:"",name:"facetValues",required:!0,type:{name:"RenderedFacetValue<TValue>[]"}},filterIsActive:{defaultValue:null,description:"",name:"filterIsActive",required:!0,type:{name:"boolean"}},containerAs:{defaultValue:null,description:"",name:"containerAs",required:!1,type:{name:"enum",value:[{value:'"Collapsible"'},{value:'"Dropdown"'}]}},dropdownType:{defaultValue:null,description:"",name:"dropdownType",required:!1,type:{name:"enum",value:[{value:'"Icon"'},{value:'"SelectBox"'}]}},hideCollapsible:{defaultValue:null,description:"",name:"hideCollapsible",required:!1,type:{name:"boolean"}},onAddValueToSelection:{defaultValue:null,description:"",name:"onAddValueToSelection",required:!0,type:{name:"(value: TValue) => void"}},onRemoveValueFromSelection:{defaultValue:null,description:"",name:"onRemoveValueFromSelection",required:!0,type:{name:"(value: TValue) => void"}},onRemoveAllFacetSelections:{defaultValue:null,description:"",name:"onRemoveAllFacetSelections",required:!0,type:{name:"() => void"}},onHoverOverValue:{defaultValue:null,description:"",name:"onHoverOverValue",required:!0,type:{name:"(value: TValue) => void"}},canMultiSelect:{defaultValue:null,description:"",name:"canMultiSelect",required:!0,type:{name:"boolean"}}}}}catch{}function _(){const t=e.jsxs(se,{direction:"row",gap:"10px",sx:{my:1},children:[e.jsx(v,{width:"15px"}),e.jsx(v,{width:"40%"})]});return e.jsxs(V,{className:"FacetFilterControls__facet",children:[e.jsx(V,{className:"FacetFilterHeader",children:e.jsx(v,{width:"100%"})}),e.jsxs(V,{children:[t,t,t]})]})}function be(){return e.jsxs("div",{className:"FacetFilterControls",children:[e.jsx(_,{}),e.jsx(_,{}),e.jsx(_,{}),e.jsx(_,{})]})}function P(t){const{containerAs:n="Collapsible",dropdownType:r="Icon"}=t;return n==="Collapsible"?e.jsx(_,{}):r==="Icon"?e.jsx(v,{variant:"rectangular",width:25,height:25}):e.jsx(v,{variant:"rectangular",width:100,height:25})}try{P.displayName="EnumFacetFilterSkeleton",P.__docgenInfo={description:"",displayName:"EnumFacetFilterSkeleton",props:{containerAs:{defaultValue:null,description:"",name:"containerAs",required:!1,type:{name:"enum",value:[{value:'"Collapsible"'},{value:'"Dropdown"'}]}},dropdownType:{defaultValue:null,description:"",name:"dropdownType",required:!1,type:{name:"enum",value:[{value:'"Icon"'},{value:'"SelectBox"'}]}}}}}catch{}export{L as E,A as F,P as a,be as b};
