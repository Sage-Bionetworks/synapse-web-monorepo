import{j as e}from"./jsx-runtime-jRxYWCwX.js";import"./useFiles-BvsKTpC9.js";import{a as f}from"./VerificationSubmission-DKyendrM.js";import"./StringUtils-BcSmk1fX.js";import{c as g}from"./SynapseConstants-CYbpNqdT.js";import{r as h}from"./index-2wQoqSko.js";import"./OrientationBanner-Br5nTvCd.js";import{u as w}from"./useEntityBundle-B2hQwDAN.js";import{u as E}from"./useGetFeatureFlag-Cmzb9HhT.js";import{E as S}from"./EntityAclEditorModal-dt-v47SB.js";import{A as _}from"./ActionRequiredCard-BpVqI0bS.js";import{A as y}from"./Alert-Bw5q--Vv.js";import{T as C}from"./Typography-DV3DT36E.js";import{B as I}from"./Button-Buu_9ObU.js";const D=o=>window.open(`https://www.synapse.org/Synapse:${o}`,"_blank"),R="Download Permission Required";function s(o){const{entityId:r,count:a,onViewSharingSettingsClicked:d=D}=o,{data:t,isLoading:l,isError:m,error:c}=w(r,void 0,{includeEntity:!0,includePermissions:!0}),[u,i]=h.useState(!1),n=!!(t!=null&&t.permissions.canDownload),p=E(f.REACT_ENTITY_ACL_EDITOR);return m?e.jsx(y,{severity:"error",children:c.reason}):e.jsx(_,{isLoading:l,title:R,description:e.jsxs(e.Fragment,{children:["You must be granted the download permission on"," ",e.jsx("strong",{children:t==null?void 0:t.entity.name})," in order to download this set of files."]}),iconType:g,count:a,actionNode:e.jsxs(e.Fragment,{children:[e.jsx(C,{variant:"smallText1",sx:{mb:1,color:"grey.700"},children:"Contact an administrator to request download permission"}),e.jsx(S,{entityId:r,open:u,onClose:()=>i(!1)}),e.jsx(I,{variant:"outlined",onClick:()=>{p?i(!0):d(r)},disabled:n,children:n?"Complete":"View Sharing Settings"})]})})}try{s.displayName="RequestDownloadCard",s.__docgenInfo={description:"",displayName:"RequestDownloadCard",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}},onViewSharingSettingsClicked:{defaultValue:null,description:'Invoked when a user clicks "View Sharing Settings" for a set of files that require the Download permission',name:"onViewSharingSettingsClicked",required:!1,type:{name:"(benefactorId: string) => void"}}}}}catch{}export{s as R};
