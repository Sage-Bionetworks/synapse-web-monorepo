import{aC as l,aD as A,aE as S,aF as F,aG as g,an as u,aH as o,aI as q,aa as y,aJ as R,am as m,aK as K,aL as f,aM as Q,aN as d,aO as C}from"./iframe-BMVoK9rQ.js";import{u as T}from"./index-Asaz_d4d.js";import{b as P}from"./_baseOrderBy-CuL3JrF5.js";import{u as p}from"./useQueries-DH3Kh0rD.js";import{u as h}from"./useInfiniteQuery-3kgmiq4J.js";var D=l(function(e,s){if(e==null)return[];var c=s.length;return c>1&&A(e,s[0],s[1])?s=[]:c>2&&A(s[0],s[1],s[2])&&(s=[s[0]]),P(e,S(s,1),[])});const v=async(e,s)=>{const c=s.map(t=>g(e,t)),n=await Promise.all(c);return D(s,t=>-1*Number(n.find(r=>t===r.accessRequirementId).isApproved))};function w(){const e=F();return T(e.breakpoints.up("md"))}function B(e,s){const{accessToken:c,keyFactory:n}=u();return m({...s,queryKey:n.getAccessRequirementQueryKey(String(e)),queryFn:()=>y.getAccessRequirementById(c,e)})}function x(e,s){const{accessToken:c,keyFactory:n}=u();return m({...s,queryKey:n.getEntityAccessRequirementsQueryKey(e),queryFn:()=>y.getAllAccessRequirements(c,e)})}function W(e,s){const{accessToken:c,keyFactory:n}=u();return m({...s,queryKey:n.getTeamAccessRequirementsQueryKey(e),queryFn:()=>y.getTeamAccessRequirements(c,e)})}function E(e,s){const{accessToken:c,keyFactory:n}=u();return m({...s,queryKey:n.getAccessRequirementWikiPageKey(e),queryFn:()=>y.getWikiPageKeyForAccessRequirement(c,e)})}function M(e){const s=o(),{accessToken:c,keyFactory:n}=u();return q({...e,mutationFn:t=>f(c,t),onSuccess:async(t,r,a)=>{const i=n.getAccessRequirementQueryKey(t.id.toString());if(s.setQueryData(i,t),e?.onSuccess)return await e.onSuccess(t,r,a)}})}function N(e){const s=o(),{accessToken:c,keyFactory:n}=u();return q({...e,mutationFn:t=>K(c,t),onSuccess:async(t,r,a)=>{const i=n.getAccessRequirementQueryKey(t.id.toString());if(s.setQueryData(i,t),e?.onSuccess)return await e.onSuccess(t,r,a)}})}function O(e,s){const{accessToken:c,keyFactory:n}=u();return m({...s,queryKey:n.getAccessRequirementAclQueryKey(e),queryFn:()=>y.getAccessRequirementAcl(c,e)})}function I(e){const s=o(),{accessToken:c,keyFactory:n}=u();return q({...e,mutationFn:t=>Q(c,t),onSuccess:async(t,r,a)=>{await s.invalidateQueries({queryKey:n.getAccessRequirementAclQueryKey(r)}),e?.onSuccess&&await e.onSuccess(t,r,a)}})}function z(e){const s=o(),{accessToken:c,keyFactory:n}=u();return q({...e,mutationFn:t=>d(c,t),onSuccess:async(t,r,a)=>{const i=n.getAccessRequirementAclQueryKey(t.id);if(s.setQueryData(i,t),e?.onSuccess)return await e.onSuccess(t,r,a)}})}function H(e){const s=o(),{accessToken:c,keyFactory:n}=u();return q({...e,mutationFn:t=>C(c,t),onSuccess:async(t,r,a)=>{const i=n.getAccessRequirementAclQueryKey(t.id);if(s.setQueryData(i,t),e?.onSuccess)return await e.onSuccess(t,r,a)}})}function J(e,s){const{accessToken:c,keyFactory:n}=u();return h({...s,queryKey:n.searchAccessRequirementsQueryKey(e),queryFn:async t=>await y.searchAccessRequirements(c,{...e,nextPageToken:t.pageParam}),initialPageParam:void 0,getNextPageParam:t=>t.nextPageToken})}function V(e){const{accessToken:s}=u(),c=o(),{keyFactory:n}=u();return q({...e,mutationFn:t=>y.createLockAccessRequirement(t,s),mutationKey:["createLockAccessRequirement"],onSuccess:async(t,r,a)=>{if(await Promise.all([c.invalidateQueries({queryKey:n.getAccessRequirementQueryKey()}),c.invalidateQueries({queryKey:n.getAllEntityDataQueryKey()}),...R(n).map(i=>c.invalidateQueries(i))]),e?.onSuccess)return e.onSuccess(t,r,a)}})}function k(e,s,c){return{queryKey:e.getAccessRequirementStatusQueryKey(c),queryFn:()=>y.getAccessRequirementStatus(s,c)}}function X(e,s){const{accessToken:c,keyFactory:n}=u();return m({...s,...k(n,c,e)})}function Y(e){const{accessToken:s,keyFactory:c}=u();return p({queries:e.map(n=>k(c,s,n))})}function Z(e,s){const{accessToken:c,keyFactory:n}=u();return m({...s,queryKey:n.getSortedAccessRequirementsAndStatusQueryKey(e),queryFn:()=>v(c,e)})}function _(e,s){const{accessToken:c,keyFactory:n}=u();return m({...s,queryKey:n.getAccessRequirementResearchProjectQueryKey(e),queryFn:()=>y.getResearchProject(e,c)})}function $(e){const{accessToken:s}=u(),c=o(),{keyFactory:n}=u();return q({...e,mutationFn:t=>y.updateResearchProject(t,s),onSuccess:async(t,r,a)=>{if(await c.invalidateQueries({queryKey:n.getAccessRequirementResearchProjectQueryKey(t.accessRequirementId)}),e?.onSuccess)return e.onSuccess(t,r,a)}})}function ee(e,s){const{accessToken:c,keyFactory:n}=u();return m({...s,queryKey:n.getDataAccessRequestForUpdateQueryKey(e),queryFn:()=>y.getDataAccessRequestForUpdate(e,c)})}function se(e){const{accessToken:s}=u(),c=o(),{keyFactory:n}=u();return q({...e,mutationFn:t=>y.updateDataAccessRequest(t,s),onSuccess:async(t,r,a)=>{if(await c.invalidateQueries({queryKey:n.getDataAccessRequestForUpdateQueryKey(t.accessRequirementId)}),e?.onSuccess)return e.onSuccess(t,r,a)}})}function te(e){const{accessToken:s}=u(),c=o(),{keyFactory:n}=u();return q({...e,mutationFn:t=>y.createAccessApproval(s,t),onSuccess:async(t,r,a)=>{if(await Promise.all([c.invalidateQueries({queryKey:n.getAccessRequirementStatusQueryKey(String(r.requirementId))}),...R(n).map(i=>c.invalidateQueries(i))]),e?.onSuccess)return e.onSuccess(t,r,a)}})}function ce(e){const{accessToken:s}=u(),c=o(),{keyFactory:n}=u();return q({...e,mutationFn:t=>y.cancelDataAccessRequest(t.submissionId,s),onSuccess:async(t,r,a)=>{if(await Promise.all([c.invalidateQueries({queryKey:n.getDataAccessSubmissionQueryKey()}),c.invalidateQueries({queryKey:n.getAccessRequirementStatusQueryKey(String(r.accessRequirementId))})]),e?.onSuccess)return e.onSuccess(t,r,a)}})}export{O as a,I as b,z as c,H as d,E as e,X as f,ce as g,se as h,w as i,W as j,x as k,Z as l,ee as m,_ as n,$ as o,te as p,J as q,B as r,D as s,Y as t,V as u,M as v,N as w};
