import{j as e}from"./jsx-runtime-DoxjgJx5.js";import{U}from"./UserOrTeamBadge-4o5bwAh4.js";import{br as E,ax as D,bs as f}from"./SynapseClient-CZkcD3lR.js";import{T as M}from"./TextField-CW8JUN8v.js";import{M as I}from"./MenuItem-HgtBOeWe.js";import{T as i}from"./Typography-Ctk8_6Bo.js";import{I as F}from"./IconSvgButton-DFCuNyEU.js";import{S as y}from"./Stack-BCUKu9qx.js";import{U as Y}from"./UserSearchBoxV2-BDgAPFnc.js";import{I as g,P as H,a as X}from"./SynapseConstants-aOjNjjyw.js";import{I as T}from"./IconSvg-NbK5fVNG.js";import"./SkeletonButton-qvhv91j_.js";import"./SkeletonInlineBlock-xinjJ1wr.js";import{S as W}from"./SkeletonTable-DQIx8-Dj.js";import{r as L,a as z}from"./index-Cu9bd8lq.js";import{t as G}from"./times-CNSOYeu0.js";import{S as v}from"./Skeleton-D3uxr_0h.js";import{B as u}from"./Box-tOdEuW_y.js";import{T as K}from"./ButtonBase-CwAnxZmp.js";import{C as J}from"./_getTag-DcaPZuA9.js";import{B as Q}from"./Button-BkvFhVsL.js";import{T as Z}from"./Tooltip-Cr4lETRB.js";import{F as $}from"./FormControlLabel-GzIHkHAg.js";import{C as ee}from"./Checkbox-x_qQJTR0.js";import{n as re}from"./noop-DX6rZLP_.js";const p=({numRows:r=5,rowHeight:s,className:c})=>{const[t,o]=L.useState([]);return L.useEffect(()=>{const l=[];G(r,n=>{l.push(e.jsx(z.Fragment,{children:e.jsx(v,{height:s,width:n===r-1?"35%":"100%"})},n))}),o(l)},[r,s]),e.jsx("div",{className:c,children:t})};try{p.displayName="SkeletonParagraph",p.__docgenInfo={description:"Skeleton component designed to mimic a paragraph.",displayName:"SkeletonParagraph",props:{numRows:{defaultValue:{value:"5"},description:"",name:"numRows",required:!1,type:{name:"number"}},rowHeight:{defaultValue:null,description:"",name:"rowHeight",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const h="CUSTOM",j="Custom",x=r=>{const{currentAccessType:s,availablePermissionLevels:c,onChange:t}=r,o=E(s),l=o==null;return e.jsxs(M,{value:l?h:o,onChange:n=>{const d=D(n.target.value);t(d||s)},fullWidth:!0,select:!0,SelectProps:{renderValue:n=>n==h?j:f[n]},size:"small",children:[Object.values(c).map(n=>e.jsx(I,{value:n,children:e.jsx(i,{variant:"smallText1",noWrap:!0,children:f[n]})},n)),l&&e.jsx(I,{value:h,children:e.jsx(i,{variant:"smallText1",noWrap:!0,children:j})})]})};try{x.displayName="PermissionLevelMenu",x.__docgenInfo={description:"",displayName:"PermissionLevelMenu",props:{currentAccessType:{defaultValue:null,description:"",name:"currentAccessType",required:!0,type:{name:"ACCESS_TYPE[]"}},availablePermissionLevels:{defaultValue:null,description:"",name:"availablePermissionLevels",required:!0,type:{name:"PermissionLevel[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(accessTypes: ACCESS_TYPE[]) => void"}}}}}catch{}function C(r){const{accessType:s}=r;return f[E(s)]||"Custom"}try{C.displayName="ReadOnlyPermissionLevel",C.__docgenInfo={description:"",displayName:"ReadOnlyPermissionLevel",props:{accessType:{defaultValue:null,description:"",name:"accessType",required:!0,type:{name:"ACCESS_TYPE[]"}}}}}catch{}const se="Remove from AR Permissions",P=r=>{const{resourceAccess:s,availablePermissionLevels:c,canChangePermission:t,showDeleteButton:o,onChange:l,onRemove:n,displayedPermissionLevelOverride:d}=r;return e.jsx(e.Fragment,{children:e.jsxs(y,{direction:"row",justifyContent:"space-between",alignItems:"center",gap:"10px",py:"6px",role:"row",children:[e.jsx(i,{fontSize:"16px",lineHeight:"20px",children:e.jsx(U,{principalId:s.principalId,openLinkInNewTab:!0})}),e.jsxs(y,{direction:"row",gap:"10px",alignItems:"center",width:"200px",flexShrink:0,children:[t?e.jsx(x,{currentAccessType:s.accessType,availablePermissionLevels:c,onChange:l}):e.jsx(i,{variant:"smallText1",flexGrow:1,children:d??e.jsx(C,{accessType:s.accessType})}),o&&e.jsx(F,{"aria-label":se,onClick:()=>n(),icon:"delete",sx:{"&:hover":{color:"error.main"}}})]})]})})};try{P.displayName="ResourceAccessItem",P.__docgenInfo={description:"",displayName:"ResourceAccessItem",props:{canChangePermission:{defaultValue:null,description:"",name:"canChangePermission",required:!0,type:{name:"boolean"}},showDeleteButton:{defaultValue:null,description:"",name:"showDeleteButton",required:!0,type:{name:"boolean"}},resourceAccess:{defaultValue:null,description:"",name:"resourceAccess",required:!0,type:{name:"ResourceAccess"}},availablePermissionLevels:{defaultValue:null,description:"",name:"availablePermissionLevels",required:!0,type:{name:"PermissionLevel[]"}},displayedPermissionLevelOverride:{defaultValue:null,description:"",name:"displayedPermissionLevelOverride",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(accessType: ACCESS_TYPE[]) => void"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"() => void"}}}}}catch{}function ne(){return e.jsxs(y,{gap:2,role:"progressbar",children:[e.jsx(v,{height:50,width:200}),e.jsx(p,{numRows:2}),e.jsx(W,{numCols:2,numRows:4,rowHeight:"30px"}),e.jsx(v,{height:50,width:100}),e.jsx(p,{numRows:2})]})}const ae="Add a user or team",te="Make Public",ie="Remove Public Access",oe="Notify people via email";function R(r){const{resourceAccessList:s,availablePermissionLevels:c,canEdit:t,canRemoveEntry:o=t,isLoading:l=!1,emptyText:n,onAddPrincipalToAcl:d,updateResourceAccessItem:w,removeResourceAccessItem:b,showAddRemovePublicButton:S,showNotifyCheckbox:V,notifyCheckboxValue:_,onNotifyCheckboxChange:N=re,displayedPermissionLevelOverride:A}=r;if(l)return e.jsx(ne,{});const B=!!s.find(a=>g.includes(a.principalId))?{startIcon:e.jsx(T,{icon:"close",wrap:!1}),children:ie,onClick:()=>{g.forEach(a=>{b(a)})}}:{startIcon:e.jsx(T,{icon:"public",wrap:!1}),children:te,onClick:()=>{d(H),d(X)}};return e.jsxs(u,{children:[e.jsxs(u,{mb:"30px",children:[e.jsx(i,{variant:"headline3",mb:"10px",children:"Users and Teams with Permissions"}),s.length===0?e.jsx(i,{variant:"body1Italic",children:n}):e.jsx(K,{children:s.map(a=>{const m=typeof t=="function"?t(a):t,k=typeof o=="function"?o(a):o,q=A?A(a):void 0;return e.jsx(J,{children:e.jsx(P,{resourceAccess:a,availablePermissionLevels:c,canChangePermission:m,displayedPermissionLevelOverride:q,showDeleteButton:k,onChange:O=>w(a.principalId,O),onRemove:()=>b(a.principalId)})},a.principalId)})})]}),t&&e.jsxs(u,{children:[e.jsx(i,{variant:"headline3",mb:"10px",children:"Add More"}),e.jsx(i,{sx:{variant:"body1",lineHeight:"20px",fontStyle:"italic",color:"text.secondary"},mb:"20px",children:"Search for a username or team to add. You can search by username, first or last names, or team name."}),e.jsxs(u,{children:[e.jsx(i,{component:"label",variant:"smallText2",htmlFor:"reviewer-search",children:ae}),e.jsx(Y,{value:null,inputId:"reviewer-search",placeholder:"Username, name (first and last) or team name.",onChange:a=>{const m=parseInt(a||"");m&&d(m)}})]}),e.jsxs(u,{display:"flex",justifyContent:"space-between",gap:2,children:[e.jsx(u,{children:S&&e.jsx(Q,{size:"small",variant:"outlined",...B})}),V&&e.jsx(Z,{title:"Select to notify newly added people that this item has been shared with them",children:e.jsx($,{sx:{mr:0},control:e.jsx(ee,{value:_,onChange:()=>N(!_)}),label:e.jsx(i,{variant:"smallText1",children:oe})})})]})]}),!t&&e.jsx(i,{variant:"body1",children:"You do not have sufficient privileges to modify the sharing settings."})]})}try{R.displayName="AclEditor",R.__docgenInfo={description:"",displayName:"AclEditor",props:{resourceAccessList:{defaultValue:null,description:"",name:"resourceAccessList",required:!0,type:{name:"ResourceAccess[]"}},availablePermissionLevels:{defaultValue:null,description:"",name:"availablePermissionLevels",required:!0,type:{name:"PermissionLevel[]"}},canEdit:{defaultValue:null,description:"If true, the user can edit the ACL. If a function, it will be called with the ResourceAccess to determine if the user can edit it.",name:"canEdit",required:!0,type:{name:"boolean | ((resourceAccess: ResourceAccess) => boolean)"}},canRemoveEntry:{defaultValue:null,description:"If true, the user can remove any entry from the ACL. a function, it will be called with the ResourceAccess to determine if the user can remove it.\nIf undefined, then the behavior will fall back to the value of `canEdit`",name:"canRemoveEntry",required:!1,type:{name:"boolean | ((resourceAccess: ResourceAccess) => boolean)"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},emptyText:{defaultValue:null,description:"",name:"emptyText",required:!0,type:{name:"ReactNode"}},onAddPrincipalToAcl:{defaultValue:null,description:"",name:"onAddPrincipalToAcl",required:!0,type:{name:"(id: number) => void"}},updateResourceAccessItem:{defaultValue:null,description:"",name:"updateResourceAccessItem",required:!0,type:{name:"(principalId: number, accessType: ACCESS_TYPE[]) => void"}},removeResourceAccessItem:{defaultValue:null,description:"",name:"removeResourceAccessItem",required:!0,type:{name:"(principalId: number) => void"}},showAddRemovePublicButton:{defaultValue:null,description:"If true, shows a button to add/remove AUTHENTICATED and PUBLIC groups when in edit mode",name:"showAddRemovePublicButton",required:!0,type:{name:"boolean"}},showNotifyCheckbox:{defaultValue:null,description:"If present, a checkbox to notify those added to the email will be shown.",name:"showNotifyCheckbox",required:!0,type:{name:"boolean"}},notifyCheckboxValue:{defaultValue:null,description:"",name:"notifyCheckboxValue",required:!1,type:{name:"boolean"}},onNotifyCheckboxChange:{defaultValue:null,description:"",name:"onNotifyCheckboxChange",required:!1,type:{name:"((checked: boolean) => void)"}},displayedPermissionLevelOverride:{defaultValue:null,description:`In special cases, can be used to display a permission level that is different from the typical permission levels.
For example, the PUBLIC group "Can download" an entity if they have READ access and the entity is marked as
"open data" (open data status is not captured in the ResourceAccess)`,name:"displayedPermissionLevelOverride",required:!1,type:{name:"((resourceAccess: ResourceAccess) => string)"}}}}}catch{}export{R as A,p as S,ne as a};
