import{j as l}from"./jsx-runtime-Du8NFWEI.js";import{F as re,t as se}from"./SynapseConstants-Ch8mxy-k.js";import{d as v}from"./dayjs.min-d18Up55D.js";import{r as D}from"./index-Dl6G-zuu.js";import{B as E}from"./Box-T6r2Z_yt.js";import{s as ie,u as ue,a as O,b as G,c as N,d as V,e as de,v as A,f as ce,P as pe,g as w,r as U,h as me,i as fe,j as R,C as be,k as z,l as ye,m as W,n as De,D as Te,L as Y,A as $}from"./useMobilePicker-UVfwo26S.js";import{b as u,_ as S,a as Pe,g as xe,d as ve}from"./createTheme-BoQYKx5k.js";import{u as F,s as K,c as ge}from"./styled-BMGIoXl7.js";import{u as he}from"./useMediaQuery-CX8t7Ed5.js";import{P as e}from"./index-BfyspvgH.js";import{T as Re}from"./Typography-D3xYwoES.js";import{T as L}from"./TextField-Bq2QJK2y.js";import{u as Ie}from"./Grow-BcJKh-mH.js";import{r as H}from"./mergeSlotProps-D_dLvIWz.js";import{B as _e}from"./Button-CgNBwHku.js";import{R as Ee}from"./RangeSlider-87S6ZcCd.js";import{F as Se}from"./FacetFilterHeader-B0RfsDBx.js";import{C as Oe}from"./Collapse-BRq1pUbz.js";import{R as Me}from"./RadioGroup-5dHmlVHk.js";import{F as Ne}from"./FormControlLabel-CFPzq4BM.js";import{R as ke}from"./Radio-CLY0a9Xn.js";const Fe=o=>{var r,d,n;const t=O(),i=G();return u({},o,{disablePast:(r=o.disablePast)!=null?r:!1,disableFuture:(d=o.disableFuture)!=null?d:!1,format:(n=o.format)!=null?n:t.formats.keyboardDate,minDate:N(t,o.minDate,i.minDate),maxDate:N(t,o.maxDate,i.maxDate)})},Ce=({props:o,inputRef:r})=>{const d=Fe(o),{forwardedProps:n,internalProps:t}=ie(d,"date");return ue({inputRef:r,forwardedProps:n,internalProps:t,valueManager:V,fieldValueManager:de,validator:A,valueType:"date"})},je=["components","componentsProps","slots","slotProps","InputProps","inputProps"],Le=["inputRef"],Ve=["ref","onPaste","onKeyDown","inputMode","readOnly","clearable","onClear"],Q=D.forwardRef(function(r,d){var n,t,i;const p=F({props:r,name:"MuiDateField"}),{components:m,componentsProps:a,slots:s,slotProps:c,InputProps:f,inputProps:y}=p,b=S(p,je),P=p,x=(n=(t=s==null?void 0:s.textField)!=null?t:m==null?void 0:m.TextField)!=null?n:L,g=Ie({elementType:x,externalSlotProps:(i=c==null?void 0:c.textField)!=null?i:a==null?void 0:a.textField,externalForwardedProps:b,ownerState:P}),{inputRef:M}=g,h=S(g,Le);h.inputProps=u({},y,h.inputProps),h.InputProps=u({},f,h.InputProps);const I=Ce({props:h,inputRef:M}),{ref:C,onPaste:T,onKeyDown:_,inputMode:ee,readOnly:ae,clearable:oe,onClear:te}=I,j=S(I,Ve),{InputProps:le,fieldProps:ne}=ce({onClear:te,clearable:oe,fieldProps:j,InputProps:j.InputProps,slots:s,slotProps:c,components:m,componentsProps:a});return l.jsx(x,u({ref:d},ne,{InputProps:u({},le,{readOnly:ae}),inputProps:u({},j.inputProps,{inputMode:ee,onPaste:T,onKeyDown:_,ref:C})}))});function Ae(o){return Pe("MuiDatePickerToolbar",o)}xe("MuiDatePickerToolbar",["root","title"]);const we=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className"],Ue=o=>{const{classes:r}=o;return ge({root:["root"],title:["title"]},Ae,r)},Ye=K(pe,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(o,r)=>r.root})({}),$e=K(Re,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(o,r)=>r.title})(({ownerState:o})=>u({},o.isLandscape&&{margin:"auto 16px auto auto"})),qe=D.forwardRef(function(r,d){const n=F({props:r,name:"MuiDatePickerToolbar"}),{value:t,isLandscape:i,toolbarFormat:p,toolbarPlaceholder:m="––",views:a,className:s}=n,c=S(n,we),f=O(),y=w(),b=Ue(n),P=D.useMemo(()=>{if(!t)return m;const g=U(f,{format:p,views:a},!0);return f.formatByString(t,g)},[t,p,m,f,a]),x=n;return l.jsx(Ye,u({ref:d,toolbarTitle:y.datePickerToolbarTitle,isLandscape:i,className:ve(b.root,s)},c,{children:l.jsx($e,{variant:"h4",align:i?"left":"center",ownerState:x,className:b.title,children:P})}))});function X(o,r){var d,n,t,i;const p=O(),m=G(),a=F({props:o,name:r}),s=D.useMemo(()=>{var f;return((f=a.localeText)==null?void 0:f.toolbarTitle)==null?a.localeText:u({},a.localeText,{datePickerToolbarTitle:a.localeText.toolbarTitle})},[a.localeText]),c=(d=a.slots)!=null?d:me(a.components);return u({},a,{localeText:s},fe({views:a.views,openTo:a.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:(n=a.disableFuture)!=null?n:!1,disablePast:(t=a.disablePast)!=null?t:!1,minDate:N(p,a.minDate,m.minDate),maxDate:N(p,a.maxDate,m.maxDate),slots:u({toolbar:qe},c),slotProps:(i=a.slotProps)!=null?i:a.componentsProps})}const J=D.forwardRef(function(r,d){var n,t,i,p;const m=w(),a=O(),s=X(r,"MuiDesktopDatePicker"),c=u({day:R,month:R,year:R},s.viewRenderers),f=u({},s,{viewRenderers:c,format:U(a,s,!1),yearsPerRow:(n=s.yearsPerRow)!=null?n:4,slots:u({openPickerIcon:be,field:Q},s.slots),slotProps:u({},s.slotProps,{field:b=>{var P;return u({},H((P=s.slotProps)==null?void 0:P.field,b),z(s),{ref:d})},toolbar:u({hidden:!0},(t=s.slotProps)==null?void 0:t.toolbar)})}),{renderPicker:y}=ye({props:f,valueManager:V,valueType:"date",getOpenDialogAriaText:(i=(p=f.localeText)==null?void 0:p.openDatePickerDialogue)!=null?i:m.openDatePickerDialogue,validator:A});return y()});J.propTypes={autoFocus:e.bool,className:e.string,closeOnSelect:e.bool,components:e.object,componentsProps:e.object,dayOfWeekFormatter:e.func,defaultCalendarMonth:e.any,defaultValue:e.any,disabled:e.bool,disableFuture:e.bool,disableHighlightToday:e.bool,disableOpenPicker:e.bool,disablePast:e.bool,displayWeekNumber:e.bool,fixedWeekNumber:e.number,format:e.string,formatDensity:e.oneOf(["dense","spacious"]),inputRef:W,label:e.node,loading:e.bool,localeText:e.object,maxDate:e.any,minDate:e.any,monthsPerRow:e.oneOf([3,4]),name:e.string,onAccept:e.func,onChange:e.func,onClose:e.func,onError:e.func,onMonthChange:e.func,onOpen:e.func,onSelectedSectionsChange:e.func,onViewChange:e.func,onYearChange:e.func,open:e.bool,openTo:e.oneOf(["day","month","year"]),orientation:e.oneOf(["landscape","portrait"]),readOnly:e.bool,reduceAnimations:e.bool,referenceDate:e.any,renderLoading:e.func,selectedSections:e.oneOfType([e.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),e.number,e.shape({endIndex:e.number.isRequired,startIndex:e.number.isRequired})]),shouldDisableDate:e.func,shouldDisableMonth:e.func,shouldDisableYear:e.func,showDaysOutsideCurrentMonth:e.bool,slotProps:e.object,slots:e.object,sx:e.oneOfType([e.arrayOf(e.oneOfType([e.func,e.object,e.bool])),e.func,e.object]),timezone:e.string,value:e.any,view:e.oneOf(["day","month","year"]),viewRenderers:e.shape({day:e.func,month:e.func,year:e.func}),views:e.arrayOf(e.oneOf(["day","month","year"]).isRequired),yearsPerRow:e.oneOf([3,4])};const Z=D.forwardRef(function(r,d){var n,t,i;const p=w(),m=O(),a=X(r,"MuiMobileDatePicker"),s=u({day:R,month:R,year:R},a.viewRenderers),c=u({},a,{viewRenderers:s,format:U(m,a,!1),slots:u({field:Q},a.slots),slotProps:u({},a.slotProps,{field:y=>{var b;return u({},H((b=a.slotProps)==null?void 0:b.field,y),z(a),{ref:d})},toolbar:u({hidden:!1},(n=a.slotProps)==null?void 0:n.toolbar)})}),{renderPicker:f}=De({props:c,valueManager:V,valueType:"date",getOpenDialogAriaText:(t=(i=c.localeText)==null?void 0:i.openDatePickerDialogue)!=null?t:p.openDatePickerDialogue,validator:A});return f()});Z.propTypes={autoFocus:e.bool,className:e.string,closeOnSelect:e.bool,components:e.object,componentsProps:e.object,dayOfWeekFormatter:e.func,defaultCalendarMonth:e.any,defaultValue:e.any,disabled:e.bool,disableFuture:e.bool,disableHighlightToday:e.bool,disableOpenPicker:e.bool,disablePast:e.bool,displayWeekNumber:e.bool,fixedWeekNumber:e.number,format:e.string,formatDensity:e.oneOf(["dense","spacious"]),inputRef:W,label:e.node,loading:e.bool,localeText:e.object,maxDate:e.any,minDate:e.any,monthsPerRow:e.oneOf([3,4]),name:e.string,onAccept:e.func,onChange:e.func,onClose:e.func,onError:e.func,onMonthChange:e.func,onOpen:e.func,onSelectedSectionsChange:e.func,onViewChange:e.func,onYearChange:e.func,open:e.bool,openTo:e.oneOf(["day","month","year"]),orientation:e.oneOf(["landscape","portrait"]),readOnly:e.bool,reduceAnimations:e.bool,referenceDate:e.any,renderLoading:e.func,selectedSections:e.oneOfType([e.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),e.number,e.shape({endIndex:e.number.isRequired,startIndex:e.number.isRequired})]),shouldDisableDate:e.func,shouldDisableMonth:e.func,shouldDisableYear:e.func,showDaysOutsideCurrentMonth:e.bool,slotProps:e.object,slots:e.object,sx:e.oneOfType([e.arrayOf(e.oneOfType([e.func,e.object,e.bool])),e.func,e.object]),timezone:e.string,value:e.any,view:e.oneOf(["day","month","year"]),viewRenderers:e.shape({day:e.func,month:e.func,year:e.func}),views:e.arrayOf(e.oneOf(["day","month","year"]).isRequired),yearsPerRow:e.oneOf([3,4])};const Be=["desktopModeMediaQuery"],q=D.forwardRef(function(r,d){const n=F({props:r,name:"MuiDatePicker"}),{desktopModeMediaQuery:t=Te}=n,i=S(n,Be);return he(t,{defaultMatches:!0})?l.jsx(J,u({ref:d},i)):l.jsx(Z,u({ref:d},i))});function k(o){const r="Min value should be less than max value",[d,n]=D.useState(!1),[t,i]=D.useState(()=>o.type==="number"&&o.initialValues?o.initialValues:o.initialValues&&{min:v(o.initialValues.min).format("YYYY-MM-DD"),max:v(o.initialValues.max).format("YYYY-MM-DD")}||{min:void 0,max:void 0}),p=({min:a,max:s},c="number")=>{if(a==null||s===null||s===void 0)return n(!1),!0;if(c==="number"){if(Number(a)>Number(s))return n(!0),!1}else if(Date.parse(a)>Date.parse(s))return n(!0),!1;return n(!1),!0},m=(a,s,c="number")=>{p(a,c)&&s(a)};return l.jsxs(E,{sx:{display:"flex",flexWrap:"wrap",flex:"1 0",marginRight:"10px",gap:"10px","& .MuiInputBase-root":{minWidth:"150px"},"& .MuiInputBase-root,.MuiButton-root":{height:"38px"},"& .MuiInputLabel-root":{color:"grey.700",fontWeight:400}},children:[o.type==="date"?l.jsxs(l.Fragment,{children:[l.jsx(E,{children:l.jsx(Y,{dateAdapter:$,children:l.jsx(q,{label:"From",slotProps:{textField:a=>({inputProps:{...a.inputProps,"aria-label":"min"}})},value:t.min?v(t.min):null,onChange:a=>i({min:a?v(a).format("YYYY-MM-DD"):void 0,max:t.max})})})},"range_min"),l.jsx(E,{children:l.jsx(Y,{dateAdapter:$,children:l.jsx(q,{label:"To",slotProps:{textField:a=>({inputProps:{...a.inputProps,"aria-label":"max"}})},value:t.max?v(t.max):null,onChange:a=>i({max:a?v(a).format("YYYY-MM-DD"):void 0,min:t.min})})})},"range_max")]}):l.jsxs(l.Fragment,{children:[l.jsx(E,{children:l.jsx(L,{label:"From",type:"number",value:t.min??"",onChange:a=>i({min:a.target.value,max:t.max}),inputProps:{"aria-label":"min"}})},"range_min"),l.jsx(E,{children:l.jsx(L,{label:"To",type:"number",value:t.max??"",onChange:a=>i({max:a.target.value,min:t.min}),inputProps:{"aria-label":"max"}})},"range_max")]}),l.jsx(_e,{size:"small",variant:"outlined",onClick:()=>m(t,o.onApplyClicked,o.type),sx:{alignSelf:"flex-end",fontSize:16},children:"Apply"}),d&&l.jsx("div",{className:"SRC-danger-color",children:o.errorText||r})]})}try{k.displayName="Range",k.__docgenInfo={description:"",displayName:"Range",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"number"'},{value:'"date"'}]}},initialValues:{defaultValue:null,description:"",name:"initialValues",required:!1,type:{name:"RangeValues<string | number>"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},errorText:{defaultValue:null,description:"",name:"errorText",required:!1,type:{name:"string"}},onApplyClicked:{defaultValue:null,description:"",name:"onApplyClicked",required:!0,type:{name:"(newValues: RangeValues<string | number>) => void"}}}}}catch{}const Ge=[{label:re,value:"org.sagebionetworks.UNDEFINED_NULL_NOTSET"},{label:"Any",value:""},{label:"Range",value:"RANGE"}],ze=(o,r)=>r?"":o===se?"org.sagebionetworks.UNDEFINED_NULL_NOTSET":"RANGE";function B(o){const{label:r,facetResult:d,hideCollapsible:n=!1,columnType:t,onAnySelected:i,onNotSetSelected:p,onRangeValueSelected:m}=o,[a,s]=D.useState(!1),{columnMin:c,columnMax:f,selectedMin:y,selectedMax:b}=d,P=!y&&!b,x=y||c,g=b||f,M=t==="DOUBLE"?"number":"date",h=T=>{switch(C(T),T){case"RANGE":break;case"org.sagebionetworks.UNDEFINED_NULL_NOTSET":p();break;case"":{i();break}}},[I,C]=D.useState(ze(x,P));return l.jsxs("div",{children:[l.jsx(Se,{isCollapsed:a,label:r,onClick:T=>s(T),hideCollapsible:n}),l.jsxs(Oe,{in:!a,children:[l.jsx(Me,{value:I,onChange:(T,_)=>h(_),children:Ge.map(({value:T,label:_})=>l.jsx(Ne,{control:l.jsx(ke,{}),label:_,value:T},T))}),I==="RANGE"&&(c===f?l.jsx("label",{children:f}):l.jsxs(l.Fragment,{children:[t==="INTEGER"&&l.jsx(Ee,{domain:[c,f],initialValues:{min:parseInt(x),max:parseInt(g)},step:1,onApplyClicked:m,children:">"},"RangeSlider"),t==="DATE"&&l.jsx(k,{initialValues:{min:y??v(parseInt(c)).toString(),max:b??v(parseInt(f)).toString()},type:M,onApplyClicked:m},"Range"),t==="DOUBLE"&&l.jsx(k,{initialValues:{min:parseFloat(x),max:parseFloat(g)},type:M,onApplyClicked:m},"Range")]}))]})]})}try{B.displayName="RangeFacetFilterUI",B.__docgenInfo={description:"",displayName:"RangeFacetFilterUI",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},facetResult:{defaultValue:null,description:"",name:"facetResult",required:!0,type:{name:'Pick<FacetColumnResultRange, "columnMin" | "columnMax" | "selectedMin" | "selectedMax">'}},columnType:{defaultValue:null,description:"",name:"columnType",required:!0,type:{name:"enum",value:[{value:'"STRING"'},{value:'"DOUBLE"'},{value:'"BOOLEAN"'},{value:'"INTEGER"'},{value:'"DATE"'},{value:'"FILEHANDLEID"'},{value:'"ENTITYID"'},{value:'"LINK"'},{value:'"MEDIUMTEXT"'},{value:'"LARGETEXT"'},{value:'"USERID"'},{value:'"STRING_LIST"'},{value:'"INTEGER_LIST"'},{value:'"BOOLEAN_LIST"'},{value:'"DATE_LIST"'},{value:'"USERID_LIST"'},{value:'"ENTITYID_LIST"'},{value:'"EVALUATIONID"'},{value:'"SUBMISSIONID"'},{value:'"JSON"'},{value:'"STRING"'},{value:'"DOUBLE"'},{value:'"BOOLEAN"'},{value:'"INTEGER"'},{value:'"DATE"'},{value:'"FILEHANDLEID"'},{value:'"ENTITYID"'},{value:'"LINK"'},{value:'"MEDIUMTEXT"'},{value:'"LARGETEXT"'},{value:'"USERID"'},{value:'"STRING_LIST"'},{value:'"INTEGER_LIST"'},{value:'"BOOLEAN_LIST"'},{value:'"DATE_LIST"'},{value:'"USERID_LIST"'},{value:'"ENTITYID_LIST"'},{value:'"EVALUATIONID"'},{value:'"SUBMISSIONID"'},{value:'"JSON"'}]}},hideCollapsible:{defaultValue:null,description:"",name:"hideCollapsible",required:!1,type:{name:"boolean"}},onRangeValueSelected:{defaultValue:null,description:"",name:"onRangeValueSelected",required:!0,type:{name:"(values: RangeValues) => void"}},onNotSetSelected:{defaultValue:null,description:"",name:"onNotSetSelected",required:!0,type:{name:"() => void"}},onAnySelected:{defaultValue:null,description:"",name:"onAnySelected",required:!0,type:{name:"() => void"}}}}}catch{}export{B as R};
