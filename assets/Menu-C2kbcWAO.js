import{a as mo,g as Po,_ as $,b as f,d as J}from"./createTheme-DFSTUSmt.js";import{r as i}from"./index-Dl6G-zuu.js";import{s as k,u as ho,c as vo,r as Eo}from"./styled-D9wW3ABP.js";import{u as So}from"./index-hJhP8EJR.js";import{j}from"./jsx-runtime-Du8NFWEI.js";import{M as Co}from"./Modal-aC3wK9dy.js";import{P as Oo}from"./Paper-6hBhi2Vr.js";import{u as Lo}from"./useForkRef-CEBgoE3Z.js";import{o as ao}from"./ownerDocument-DW-IO8s5.js";import{o as po,d as _o}from"./ownerWindow-BN2rbQ_G.js";import{a as V,G as zo}from"./Grow-lFU1cKdF.js";import{i as No}from"./isHostComponent-DVu5iVWx.js";import{M as Do}from"./MenuList-CWcqbzO9.js";function Fo(t){return mo("MuiPopover",t)}Po("MuiPopover",["root","paper"]);const Io=["onEntering"],$o=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],jo=["slotProps"];function co(t,o){let r=0;return typeof o=="number"?r=o:o==="center"?r=t.height/2:o==="bottom"&&(r=t.height),r}function uo(t,o){let r=0;return typeof o=="number"?r=o:o==="center"?r=t.width/2:o==="right"&&(r=t.width),r}function fo(t){return[t.horizontal,t.vertical].map(o=>typeof o=="number"?`${o}px`:o).join(" ")}function q(t){return typeof t=="function"?t():t}const ko=t=>{const{classes:o}=t;return vo({root:["root"],paper:["paper"]},Fo,o)},Wo=k(Co,{name:"MuiPopover",slot:"Root",overridesResolver:(t,o)=>o.root})({}),go=k(Oo,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,o)=>o.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Ao=i.forwardRef(function(o,r){var _,z,x;const v=ho({props:o,name:"MuiPopover"}),{action:W,anchorEl:c,anchorOrigin:d={vertical:"top",horizontal:"left"},anchorPosition:E,anchorReference:m="anchorEl",children:A,className:H,container:B,elevation:N=8,marginThreshold:s=16,open:p,PaperProps:D={},slots:y,slotProps:R,transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:T=zo,transitionDuration:g="auto",TransitionProps:{onEntering:S}={},disableScrollLock:F=!1}=v,C=$(v.TransitionProps,Io),X=$(v,$o),P=(_=R==null?void 0:R.paper)!=null?_:D,M=i.useRef(),U=Lo(M,P.ref),I=f({},v,{anchorOrigin:d,anchorReference:m,elevation:N,marginThreshold:s,externalPaperSlotProps:P,transformOrigin:w,TransitionComponent:T,transitionDuration:g,TransitionProps:C}),G=ko(I),K=i.useCallback(()=>{if(m==="anchorPosition")return E;const e=q(c),a=(e&&e.nodeType===1?e:ao(M.current).body).getBoundingClientRect();return{top:a.top+co(a,d.vertical),left:a.left+uo(a,d.horizontal)}},[c,d.horizontal,d.vertical,E,m]),l=i.useCallback(e=>({vertical:co(e,w.vertical),horizontal:uo(e,w.horizontal)}),[w.horizontal,w.vertical]),b=i.useCallback(e=>{const n={width:e.offsetWidth,height:e.offsetHeight},a=l(n);if(m==="none")return{top:null,left:null,transformOrigin:fo(a)};const eo=K();let O=eo.top-a.vertical,L=eo.left-a.horizontal;const ro=O+n.height,so=L+n.width,no=po(q(c)),io=no.innerHeight-s,lo=no.innerWidth-s;if(s!==null&&O<s){const u=O-s;O-=u,a.vertical+=u}else if(s!==null&&ro>io){const u=ro-io;O-=u,a.vertical+=u}if(s!==null&&L<s){const u=L-s;L-=u,a.horizontal+=u}else if(so>lo){const u=so-lo;L-=u,a.horizontal+=u}return{top:`${Math.round(O)}px`,left:`${Math.round(L)}px`,transformOrigin:fo(a)}},[c,m,K,l,s]),[Mo,Q]=i.useState(p),h=i.useCallback(()=>{const e=M.current;if(!e)return;const n=b(e);n.top!==null&&(e.style.top=n.top),n.left!==null&&(e.style.left=n.left),e.style.transformOrigin=n.transformOrigin,Q(!0)},[b]);i.useEffect(()=>(F&&window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)),[c,F,h]);const xo=(e,n)=>{S&&S(e,n),h()},yo=()=>{Q(!1)};i.useEffect(()=>{p&&h()}),i.useImperativeHandle(W,()=>p?{updatePosition:()=>{h()}}:null,[p,h]),i.useEffect(()=>{if(!p)return;const e=_o(()=>{h()}),n=po(c);return n.addEventListener("resize",e),()=>{e.clear(),n.removeEventListener("resize",e)}},[c,p,h]);let Z=g;g==="auto"&&!T.muiSupportAuto&&(Z=void 0);const Ro=B||(c?ao(q(c)).body:void 0),Y=(z=y==null?void 0:y.root)!=null?z:Wo,oo=(x=y==null?void 0:y.paper)!=null?x:go,wo=V({elementType:oo,externalSlotProps:f({},P,{style:Mo?P.style:f({},P.style,{opacity:0})}),additionalProps:{elevation:N,ref:U},ownerState:I,className:J(G.paper,P==null?void 0:P.className)}),to=V({elementType:Y,externalSlotProps:(R==null?void 0:R.root)||{},externalForwardedProps:X,additionalProps:{ref:r,slotProps:{backdrop:{invisible:!0}},container:Ro,open:p},ownerState:I,className:J(G.root,H)}),{slotProps:To}=to,bo=$(to,jo);return j.jsx(Y,f({},bo,!No(Y)&&{slotProps:To,disableScrollLock:F},{children:j.jsx(T,f({appear:!0,in:p,onEntering:xo,onExited:yo,timeout:Z},C,{children:j.jsx(oo,f({},wo,{children:A}))}))}))});function Ho(t){return mo("MuiMenu",t)}Po("MuiMenu",["root","paper","list"]);const Uo=["onEntering"],Go=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Ko={vertical:"top",horizontal:"right"},Vo={vertical:"top",horizontal:"left"},Bo=t=>{const{classes:o}=t;return vo({root:["root"],paper:["paper"],list:["list"]},Ho,o)},Xo=k(Ao,{shouldForwardProp:t=>Eo(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,o)=>o.root})({}),Yo=k(go,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,o)=>o.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),qo=k(Do,{name:"MuiMenu",slot:"List",overridesResolver:(t,o)=>o.list})({outline:0}),ct=i.forwardRef(function(o,r){var _,z;const x=ho({props:o,name:"MuiMenu"}),{autoFocus:v=!0,children:W,className:c,disableAutoFocusItem:d=!1,MenuListProps:E={},onClose:m,open:A,PaperProps:H={},PopoverClasses:B,transitionDuration:N="auto",TransitionProps:{onEntering:s}={},variant:p="selectedMenu",slots:D={},slotProps:y={}}=x,R=$(x.TransitionProps,Uo),w=$(x,Go),T=So(),g=f({},x,{autoFocus:v,disableAutoFocusItem:d,MenuListProps:E,onEntering:s,PaperProps:H,transitionDuration:N,TransitionProps:R,variant:p}),S=Bo(g),F=v&&!d&&A,C=i.useRef(null),X=(l,b)=>{C.current&&C.current.adjustStyleForScrollbar(l,{direction:T?"rtl":"ltr"}),s&&s(l,b)},P=l=>{l.key==="Tab"&&(l.preventDefault(),m&&m(l,"tabKeyDown"))};let M=-1;i.Children.map(W,(l,b)=>{i.isValidElement(l)&&(l.props.disabled||(p==="selectedMenu"&&l.props.selected||M===-1)&&(M=b))});const U=(_=D.paper)!=null?_:Yo,I=(z=y.paper)!=null?z:H,G=V({elementType:D.root,externalSlotProps:y.root,ownerState:g,className:[S.root,c]}),K=V({elementType:U,externalSlotProps:I,ownerState:g,className:S.paper});return j.jsx(Xo,f({onClose:m,anchorOrigin:{vertical:"bottom",horizontal:T?"right":"left"},transformOrigin:T?Ko:Vo,slots:{paper:U,root:D.root},slotProps:{root:G,paper:K},open:A,ref:r,transitionDuration:N,TransitionProps:f({onEntering:X},R),ownerState:g},w,{classes:B,children:j.jsx(qo,f({onKeyDown:P,actions:C,autoFocus:v&&(M===-1||d),autoFocusItem:F,variant:p},E,{className:J(S.list,E.className),children:W}))}))});export{ct as M,Ao as P};
