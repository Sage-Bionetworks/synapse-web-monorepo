import{j as e}from"./jsx-runtime-Du8NFWEI.js";import{d as h}from"./AddCircleTwoTone-DK_TEQnv.js";import{E as i}from"./VerificationSubmission-CjmU3lv6.js";import{r as d}from"./index-Dl6G-zuu.js";import{l as g}from"./useFiles-C_uTITWc.js";import"./RegularExpressions-jA8tWTUq.js";import"./OrientationBanner-xckBiTXb.js";import{a as _}from"./useDownloadList-C0Q8hy-n.js";import{V as E,D as a,E as w}from"./EntityChildrenDetails-DHKVK3i7.js";import{u as x}from"./useEntitySelection-DyQLpPXg.js";import{d as c}from"./ToastMessage-DXUykkkh.js";import{B as p}from"./Box-CaFleW7-.js";import{B as I}from"./Button-DtfaTZY_.js";function r({parentContainerId:n}){const{downloadCartPageUrl:m}=g(),u=!0,[t,C]=x(u),{mutate:l}=_({onSuccess:()=>{c("File(s) were successfully added to your Download Cart.","success",{primaryButtonConfig:{text:"View Download Cart",onClick:()=>window.location.href=m}})},onError:o=>{c(`Unable to add the file to your Download Cart. ${o.reason}`,"danger")}}),D=d.useCallback(o=>t.has(o.id),[t]),y=d.useCallback(()=>{const o=Array.from(t.values()).map(s=>({fileEntityId:s.targetId,versionNumber:s.targetVersionNumber}));l(o)},[t,l]),f={versionSelection:E.REQUIRED,selectColumnType:"checkbox",enableSelectAll:!0,visibleTypes:[i.FILE],selected:t,selectableTypes:[i.FILE],isIdSelected:D,isSelectable:()=>!0,toggleSelection:C,hiddenColumns:[a.BADGES,a.ADD_TO_DOWNLOAD_CART,a.CREATED_ON,a.VERSION,a.MODIFIED_BY]};return e.jsxs(e.Fragment,{children:[e.jsx(p,{children:e.jsx(w,{parentContainerId:n,...f})}),e.jsx(p,{mt:4,children:e.jsx(I,{endIcon:e.jsx(h,{}),variant:"outlined",sx:{alignSelf:"flex-end",height:"47px"},onClick:y,disabled:!t.toArray().length,children:"Add to Download Cart"})})]})}try{r.displayName="ChallengeDataDownload",r.__docgenInfo={description:"",displayName:"ChallengeDataDownload",props:{parentContainerId:{defaultValue:null,description:"",name:"parentContainerId",required:!0,type:{name:"string"}}}}}catch{}try{r.displayName="ChallengeDataDownload",r.__docgenInfo={description:"",displayName:"ChallengeDataDownload",props:{parentContainerId:{defaultValue:null,description:"",name:"parentContainerId",required:!0,type:{name:"string"}}}}}catch{}export{r as C};
