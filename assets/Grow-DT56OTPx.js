import{r as B,m as J,a as Q}from"./useSlot-C9QU161m.js";import{u as j,b as D}from"./useForkRef-CL-HmWE-.js";import{r as a}from"./index-CJTqbwg9.js";import{r as U}from"./index-DhqT-wZf.js";import{g as F,T as X,a as b,r as Y}from"./getReactElementRef-DefmUWlD.js";import{u as Z}from"./useTheme-J3HQsDMf.js";import{j as I}from"./jsx-runtime-D_zvdyIk.js";import{u as tt}from"./useTimeout-DDPxidDq.js";function H(n,u){typeof n=="function"?n(u):n&&(n.current=u)}function ft(n){var x;const{elementType:u,externalSlotProps:l,ownerState:o,skipResolvingSlotProps:d=!1,...r}=n,e=d?{}:B(l,o),{props:m,internalRef:p}=J({...r,externalSlotProps:e}),y=j(p,e==null?void 0:e.ref,(x=n.additionalProps)==null?void 0:x.ref);return Q(u,{...m,ref:y},o)}function nt(n){return typeof n=="function"?n():n}const dt=a.forwardRef(function(u,l){const{children:o,container:d,disablePortal:r=!1}=u,[e,m]=a.useState(null),p=j(a.isValidElement(o)?F(o):null,l);if(D(()=>{r||m(nt(d)||document.body)},[d,r]),D(()=>{if(e&&!r)return H(l,e),()=>{H(l,null)}},[l,e,r]),r){if(a.isValidElement(o)){const y={ref:p};return a.cloneElement(o,y)}return o}return e&&U.createPortal(o,e)});function w(n){return`scale(${n}, ${n**2})`}const et={entering:{opacity:1,transform:w(1)},entered:{opacity:1,transform:"none"}},v=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),C=a.forwardRef(function(u,l){const{addEndListener:o,appear:d=!0,children:r,easing:e,in:m,onEnter:p,onEntered:y,onEntering:A,onExit:x,onExited:G,onExiting:L,style:S,timeout:c="auto",TransitionComponent:N=X,...V}=u,$=tt(),T=a.useRef(),g=Z(),P=a.useRef(null),k=j(P,F(r),l),E=t=>f=>{if(t){const i=P.current;f===void 0?t(i):t(i,f)}},z=E(A),K=E((t,f)=>{Y(t);const{duration:i,delay:R,easing:s}=b({style:S,timeout:c,easing:e},{mode:"enter"});let h;c==="auto"?(h=g.transitions.getAutoHeightDuration(t.clientHeight),T.current=h):h=i,t.style.transition=[g.transitions.create("opacity",{duration:h,delay:R}),g.transitions.create("transform",{duration:v?h:h*.666,delay:R,easing:s})].join(","),p&&p(t,f)}),M=E(y),O=E(L),W=E(t=>{const{duration:f,delay:i,easing:R}=b({style:S,timeout:c,easing:e},{mode:"exit"});let s;c==="auto"?(s=g.transitions.getAutoHeightDuration(t.clientHeight),T.current=s):s=f,t.style.transition=[g.transitions.create("opacity",{duration:s,delay:i}),g.transitions.create("transform",{duration:v?s:s*.666,delay:v?i:i||s*.333,easing:R})].join(","),t.style.opacity=0,t.style.transform=w(.75),x&&x(t)}),_=E(G),q=t=>{c==="auto"&&$.start(T.current||0,t),o&&o(P.current,t)};return I.jsx(N,{appear:d,in:m,nodeRef:P,onEnter:K,onEntered:M,onEntering:z,onExit:W,onExited:_,onExiting:O,addEndListener:q,timeout:c==="auto"?null:c,...V,children:(t,{ownerState:f,...i})=>a.cloneElement(r,{style:{opacity:0,transform:w(.75),visibility:t==="exited"&&!m?"hidden":void 0,...et[t],...S,...r.props.style},ref:k,...i})})});C&&(C.muiSupportAuto=!0);export{C as G,dt as P,H as s,ft as u};
