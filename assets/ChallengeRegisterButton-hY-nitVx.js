import{ao as E,d2 as y,r as L,j as o,V as j}from"./iframe-DPJy_hbO.js";import{u as k}from"./useGetEntityChallenge-DHd1Q0X1.js";import{c as w}from"./useTeamMembers-pkxjTWEY.js";import{u as I}from"./useGetUserTeams-C39CgHIH.js";import{E as _}from"./ExitToApp-BvbYk9S3.js";import{S as a}from"./SpinnerButton-DYPIz067.js";const u=({projectId:s,onError:t,onJoinClick:d,onLeaveClick:l})=>{const{isAuthenticated:i,accessToken:p}=E(),{data:r}=y({enabled:i}),{data:e,isLoading:g,error:h}=k(s,{enabled:i}),{data:f,isLoading:b,error:C}=w(e==null?void 0:e.participantTeamId,r==null?void 0:r.ownerId,{enabled:!!e&&!!r}),x=!!f,{data:c,error:v,isLoading:T}=I(e==null?void 0:e.id,20,0,{enabled:!!e&&i}),S=c&&c.results.length>0,m=x&&S,n=h||C||v;return L.useEffect(()=>{n&&t&&t(n)},[n,t]),g||b||T?o.jsx(a,{showSpinner:!0,children:"Loading..."}):o.jsxs(j,{children:[!m&&o.jsx(a,{disableElevation:!0,variant:"contained",onClick:()=>p&&d?d():void 0,sx:{color:"white",backgroundColor:"#109488",fontSize:"1.12em",textTransform:"none",padding:"4px 18px",fontWeight:400,":hover":{color:"white",backgroundColor:"#109488"},":active":{color:"white",backgroundColor:"#109488"},":visited":{color:"white",backgroundColor:"#109488"}},children:"Register for this Challenge"}),m&&o.jsx(a,{disableElevation:!0,variant:"outlined",endIcon:o.jsx(_,{}),onClick:()=>l?l():void 0,sx:{borderColor:"white",color:"white",fontSize:"1.12em",textTransform:"none",padding:"4px 18px",fontWeight:400,":hover":{color:"#172430",borderColor:"#172430"}},children:"Leave Challenge"})]})};try{u.displayName="ChallengeRegisterButton",u.__docgenInfo={description:"",displayName:"ChallengeRegisterButton",props:{projectId:{defaultValue:null,description:"",name:"projectId",required:!0,type:{name:"string"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"(error: SynapseClientError) => void"}},onJoinClick:{defaultValue:null,description:"",name:"onJoinClick",required:!1,type:{name:"() => void"}},onLeaveClick:{defaultValue:null,description:"",name:"onLeaveClick",required:!1,type:{name:"() => void"}}}}}catch{}export{u as C};
