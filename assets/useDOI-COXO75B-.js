import{an as a,am as c,aH as u,aI as p,dd as y}from"./iframe-DOA--ypP.js";import{w as d}from"./waitForAsyncResult-CukCkTkm.js";const b={ENTITY:"ENTITY"};function D(e,t){const{synapseClient:s,keyFactory:n}=a();return c({...t,queryKey:n.getDOIAssociationQueryKey(e),queryFn:()=>y(()=>s.doiServicesClient.getRepoV1DoiAssociation(e))})}function C(e,t){const{synapseClient:s,keyFactory:n}=a();return c({...t,queryKey:n.getDOIQueryKey(e),queryFn:()=>y(()=>s.doiServicesClient.getRepoV1Doi(e))})}function O(e){const t=u(),{synapseClient:s,keyFactory:n}=a();return p({...e,mutationFn:async i=>{const o=await s.doiServicesClient.postRepoV1DoiAsyncStart({doiRequest:i});return(await d(()=>s.asynchronousJobServicesClient.getRepoV1AsynchronousJobJobId({jobId:o.token}))).responseBody},onSuccess(...i){e?.onSuccess&&e.onSuccess(...i);const o=i[1].doi;if(o){const r={id:o.objectId,type:o.objectType,portalId:o.portalId,version:o.objectVersion};t.invalidateQueries({queryKey:n.getDOIQueryKey(r)})}}})}export{b as D,C as a,O as b,D as u};
