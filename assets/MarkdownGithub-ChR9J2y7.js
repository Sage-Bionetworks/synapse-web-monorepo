import{j as d}from"./jsx-runtime-D_zvdyIk.js";import{l as _,b6 as M,b7 as T}from"./useFiles-BZkk-Nb_.js";import"./OrientationBanner-Dzbaa3iB.js";import{r as f}from"./index-CNOD_coP.js";import"./VerificationSubmission-CMrrYimb.js";import{D as N}from"./StringUtils-ZWLpjIdm.js";import{u as $}from"./useQuery-Kd0L9zxX.js";import"./SkeletonButton-CjmH9iz_.js";import"./SkeletonInlineBlock-BUyyAanT.js";import"./SkeletonTable-BxQqo2n_.js";import{S as j}from"./SkeletonParagraph-Bjc7acM9.js";import{M as L}from"./MarkdownSynapse-CHtWv9uM.js";import{c as R,s as q,u as D}from"./DefaultPropsProvider-0BNkwUkh.js";import{c as W,b as h,j as P,a as S}from"./createTheme-Dr8QaAop.js";import{s as V,u as B}from"./Stack-BaCFBVeB.js";import{B as x}from"./Box-j1U5tBug.js";import{B as O}from"./Button-D3Wh7UHU.js";const U=P(),E=V("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${h(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),I=e=>B({props:e,name:"MuiContainer",defaultTheme:U}),H=(e,t)=>{const n=l=>S(t,l),{classes:s,fixed:i,disableGutters:r,maxWidth:a}=e,o={root:["root",a&&`maxWidth${h(String(a))}`,i&&"fixed",r&&"disableGutters"]};return R(o,n,s)};function F(e={}){const{createStyledComponent:t=E,useThemeProps:n=I,componentName:s="MuiContainer"}=e,i=t(({theme:a,ownerState:o})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!o.disableGutters&&{paddingLeft:a.spacing(2),paddingRight:a.spacing(2),[a.breakpoints.up("sm")]:{paddingLeft:a.spacing(3),paddingRight:a.spacing(3)}}}),({theme:a,ownerState:o})=>o.fixed&&Object.keys(a.breakpoints.values).reduce((l,u)=>{const c=u,p=a.breakpoints.values[c];return p!==0&&(l[a.breakpoints.up(c)]={maxWidth:`${p}${a.breakpoints.unit}`}),l},{}),({theme:a,ownerState:o})=>({...o.maxWidth==="xs"&&{[a.breakpoints.up("xs")]:{maxWidth:Math.max(a.breakpoints.values.xs,444)}},...o.maxWidth&&o.maxWidth!=="xs"&&{[a.breakpoints.up(o.maxWidth)]:{maxWidth:`${a.breakpoints.values[o.maxWidth]}${a.breakpoints.unit}`}}}));return f.forwardRef(function(o,l){const u=n(o),{className:c,component:p="div",disableGutters:w=!1,fixed:k=!1,maxWidth:G="lg",classes:Y,...v}=u,g={...u,component:p,disableGutters:w,fixed:k,maxWidth:G},C=H(g,s);return d.jsx(i,{as:p,ownerState:g,className:W(C.root,c),ref:l,...v})})}const z=F({createStyledComponent:q("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${h(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>D({props:e,name:"MuiContainer"})}),A="https://api.github.com/repos";function K(e,t,n){const{keyFactory:s}=_(),i=async()=>{const r=await fetch(`${A}/${e}/${t}/tags`);if(!r.ok)throw new Error(`Error fetching tags: ${r.statusText}`);const a=await r.json();if(a.length===0)throw new Error("No tags found.");return a[0].name};return $({...n,queryKey:s.getGithubLatestTagKey(e,t),queryFn:i})}function b(e){const{data:t}=M(),n=t==null?void 0:t.latestTermsOfServiceVersion;return d.jsx(m,{...e,tagName:n})}function y(e){const{repoOwner:t,repoName:n}=e,{data:s}=K(t,n);return d.jsx(m,{...e,tagName:s})}const Q=(e,t)=>{if(!e)return;const n=`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8">
          <title>${t}</title>
        </head>
        <body style="margin: 0; padding: 20px; font-family: Arial, sans-serif; line-height: 24px;">
          ${e}
        </body>
      </html>
    `,s=new Blob([n],{type:"text/html"}),i=URL.createObjectURL(s),r=document.createElement("a");r.href=i,r.download=t,r.click(),URL.revokeObjectURL(i)};function m({repoOwner:e,repoName:t,filePath:n,tagName:s,showDownloadButton:i=!1}){const[r,a]=f.useState(null),o=f.useMemo(()=>N(n,"html"),[n]),{data:l}=T(`https://cdn.jsdelivr.net/gh/${e}/${t}@${s}/${n}`,{enabled:!!s}),u=d.jsx(x,{sx:{width:"100%"},children:d.jsx(j,{rowHeight:"30px",numRows:70})});return d.jsxs(z,{sx:{"> .markdown":{px:"10px"}},children:[i&&r&&d.jsx(x,{sx:{display:"flex",float:"right"},children:d.jsx(O,{variant:"outlined",color:"primary",sx:{mb:1},onClick:()=>Q(r,o),children:"Download"})}),l?d.jsx(L,{markdown:l,onMarkdownProcessingDone:a}):u]})}try{b.displayName="GovernanceMarkdownGithub",b.__docgenInfo={description:"Loads the version of the Governance Github Markdown file that the Synapse backend determines is the current version",displayName:"GovernanceMarkdownGithub",props:{repoOwner:{defaultValue:null,description:"",name:"repoOwner",required:!0,type:{name:"string"}},repoName:{defaultValue:null,description:"",name:"repoName",required:!0,type:{name:"string"}},filePath:{defaultValue:null,description:"",name:"filePath",required:!0,type:{name:"string"}},showDownloadButton:{defaultValue:null,description:"",name:"showDownloadButton",required:!1,type:{name:"boolean"}}}}}catch{}try{y.displayName="MarkdownGithubLatestTag",y.__docgenInfo={description:"Loads the latest tagged version of the (presumably MD) file from GitHub",displayName:"MarkdownGithubLatestTag",props:{repoOwner:{defaultValue:null,description:"",name:"repoOwner",required:!0,type:{name:"string"}},repoName:{defaultValue:null,description:"",name:"repoName",required:!0,type:{name:"string"}},filePath:{defaultValue:null,description:"",name:"filePath",required:!0,type:{name:"string"}},showDownloadButton:{defaultValue:null,description:"",name:"showDownloadButton",required:!1,type:{name:"boolean"}}}}}catch{}try{m.displayName="MarkdownGithub",m.__docgenInfo={description:"Load MD file content from GitHub (using the given tag)",displayName:"MarkdownGithub",props:{repoOwner:{defaultValue:null,description:"",name:"repoOwner",required:!0,type:{name:"string"}},repoName:{defaultValue:null,description:"",name:"repoName",required:!0,type:{name:"string"}},filePath:{defaultValue:null,description:"",name:"filePath",required:!0,type:{name:"string"}},showDownloadButton:{defaultValue:{value:"false"},description:"",name:"showDownloadButton",required:!1,type:{name:"boolean"}},tagName:{defaultValue:null,description:"",name:"tagName",required:!1,type:{name:"string"}}}}}catch{}export{b as G,y as M};
