import{ao as g,r as b,j as o,B as x,dO as C}from"./iframe-C2KiuWKW.js";function i(n){const{id:c,buttonProps:d={variant:"contained"},label:p="Browse...",onUploadStart:s,onComplete:l}=n,{accessToken:u}=g(),t=b.useRef(null),f=()=>{var e;t!=null&&t.current&&((e=t.current)==null||e.click())},m=async e=>{if(e.target.files&&e.target.files.length>0){s&&s();const r=e.target.files[0],y=a=>{console.log(`Progress: ${a.value} / ${a.total}`)};try{const a=await C(u,r.name,r,void 0,void 0,y);l&&l({success:!0,resp:a})}catch(a){console.log("FileUpload: fail to upload file",a),l&&l({success:!1,error:a})}}};return o.jsxs(o.Fragment,{children:[o.jsx("input",{"data-testid":"file-input",type:"file",ref:t,onChange:e=>{m(e)},style:{display:"none"}}),o.jsx(x,{id:c,onClick:f,...d,children:p})]})}try{i.displayName="FileUpload",i.__docgenInfo={description:"",displayName:"FileUpload",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},buttonProps:{defaultValue:null,description:"",name:"buttonProps",required:!1,type:{name:"ButtonProps"}},onUploadStart:{defaultValue:null,description:"",name:"onUploadStart",required:!1,type:{name:"() => void"}},onComplete:{defaultValue:null,description:"",name:"onComplete",required:!1,type:{name:"(response: UploadCallbackResp) => void"}}}}}catch{}export{i as F};
