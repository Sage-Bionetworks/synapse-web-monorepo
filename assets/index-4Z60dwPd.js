import{gw as d,r as l,gP as v}from"./iframe-BaLjRbxV.js";let o;function w(){if(!v)return;if(o)return o;const e=new Map,c=new ResizeObserver(n=>{for(const r of n){const s=e.get(r.target);if(!(s===void 0||s.size===0))for(const t of s)setTimeout(()=>{t(r)},0)}});return o={observer:c,subscribe(n,r){let s=e.get(n);s||(s=new Set,e.set(n,s),c.observe(n)),s.add(r)},unsubscribe(n,r){const s=e.get(n);s&&(s.delete(r),s.size===0&&(e.delete(n),c.unobserve(n)))}},o}function p(e,c,n=!0){const r=n&&w(),s=d(c),t=e&&"current"in e?e.current:e;l.useEffect(()=>{const u=e&&"current"in e?e.current:e;if(!r||!u)return;let i=!0;const b=(...f)=>{i&&s.current(...f)};return r.subscribe(u,b),()=>{i=!1,r.unsubscribe(u,b)}},[t,r])}export{p as u};
