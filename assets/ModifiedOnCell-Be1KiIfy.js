import{an as j,J as x,dj as u,j as t,V as N,b$ as b,br as w,al as D,dH as F,dG as I,c1 as s,aI as M,Z as B,e9 as S}from"./iframe-BhrR5Sll.js";import{u as l}from"./useEntityBundle-DoH_2kpH.js";import{c as T}from"./useDownloadList-Bn6eB3m7.js";import{d as L}from"./DownloadConfirmationUtils-DNBwP8O8.js";import{U as E}from"./UserBadge-B_-Td5kg.js";function _(e){const{row:n}=e,{entityId:i,versionNumber:o}=n.original,{data:a}=l(i,o),{downloadCartPageUrl:d}=j(),{mutate:r}=T({onSuccess:()=>{L(d)},onError:p=>{x(p.reason,"danger")}});return a?.entityType==u.file||a?.entityType==u.recordset?t.jsx(N,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:t.jsx(b,{title:"Add to Download Cart",placement:"right",children:t.jsx(w,{sx:{height:"35px",width:"35px"},onClick:p=>{r({entityId:i,entityVersionNumber:o}),p.stopPropagation()},children:t.jsx(D,{icon:"download"})})})}):t.jsx(t.Fragment,{})}try{_.displayName="AddFileToDownloadListCell",_.__docgenInfo={description:"",displayName:"AddFileToDownloadListCell",props:{}}}catch{}function c({cellData:e}){return t.jsx(t.Fragment,{children:(e&&F(I(e)))??t.jsx(t.Fragment,{})})}try{c.displayName="DateCell",c.__docgenInfo={description:"",displayName:"DateCell",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!1,type:{name:"string"}}}}}catch{}function m(e){const{row:n}=e,{data:i,isLoading:o}=l(n.original.entityId,n.original.versionNumber);return o?t.jsx(s,{width:100}):t.jsx(c,{...e,cellData:i?.entity?.createdOn})}try{m.displayName="CreatedOnCell",m.__docgenInfo={description:"Renders 'createdOn' from the entity bundle.",displayName:"CreatedOnCell",props:{}}}catch{}function f(e){const{row:n}=e,{data:i,isLoading:o}=l(n.original.entityId,n.original.versionNumber),{mutate:a}=M({mutationFn:r=>B(r),onSuccess:()=>x("MD5 copied to the clipboard","success")});if(o)return t.jsx(s,{width:100});const d=i?.fileHandles.find(r=>r.isPreview!==!0);return d?.contentMd5==null?t.jsx(t.Fragment,{}):t.jsx(b,{title:"Click to copy MD5 to your clipboard",placement:"right",children:t.jsx("button",{className:"md5Button","aria-label":"MD5",onClick:r=>{r.stopPropagation(),a(d?.contentMd5??"")},children:d?.contentMd5})})}try{f.displayName="FileEntityMD5Cell",f.__docgenInfo={description:"",displayName:"FileEntityMD5Cell",props:{}}}catch{}function g(e){const{row:n}=e,{data:i,isLoading:o}=l(n.original.entityId,n.original.versionNumber);if(o)return t.jsx(s,{width:100});const a=i?.fileHandles.find(r=>r.isPreview!==!0),d=a?.contentSize?S(a?.contentSize):"";return t.jsx("span",{children:d})}try{g.displayName="FileEntitySizeCell",g.__docgenInfo={description:"",displayName:"FileEntitySizeCell",props:{}}}catch{}function y({cellData:e}){return e?t.jsx(E,{userId:e,openLinkInNewTab:!0}):t.jsx(t.Fragment,{})}try{y.displayName="UserBadgeCell",y.__docgenInfo={description:"",displayName:"UserBadgeCell",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!1,type:{name:"string"}}}}}catch{}function C(e){const{row:n}=e,{data:i,isLoading:o}=l(n.original.entityId,n.original.versionNumber);return o?t.jsx(s,{width:100}):t.jsx(y,{...e,cellData:i?.entity.modifiedBy})}try{C.displayName="ModifiedByCell",C.__docgenInfo={description:"Renders 'modifiedBy' from the entity bundle.",displayName:"ModifiedByCell",props:{}}}catch{}function h(e){const{row:n}=e,{data:i,isLoading:o}=l(n.original.entityId,n.original.versionNumber);return o?t.jsx(s,{width:100}):t.jsx(c,{...e,cellData:i?.entity.modifiedOn})}try{h.displayName="ModifiedOnCell",h.__docgenInfo={description:"Renders 'modifiedOn' from the entity bundle.",displayName:"ModifiedOnCell",props:{}}}catch{}export{_ as A,m as C,g as F,h as M,C as a,f as b};
