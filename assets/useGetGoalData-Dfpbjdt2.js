import{l as g,t as p,K as A}from"./useFiles-w6-CIEB7.js";import{F as m}from"./VerificationSubmission-BDh1zA9f.js";import{r as n}from"./index-50V2EGz2.js";function u(r,t){const[f,a]=n.useState(),[S,i]=n.useState(),{accessToken:l}=g();let c;return(s=>{s.TABLEID="TableId",s.COUNT_SQL="CountSql",s.TITLE="Title",s.SUMMARY="Summary",s.LINK="Link",s.ASSET="Asset"})(c||(c={})),n.useEffect(()=>{(async()=>{try{const o=p("Asset",t),d=((t==null?void 0:t.queryResult.queryResults.rows.map(e=>e.values[o]))??[]).filter(e=>e!=null&&e!==void 0);if(d.length===0){a(void 0),i(void 0);return}const L={includeFileHandles:!1,includePreSignedURLs:!0,includePreviewPreSignedURLs:!1,requestedFiles:d.map(e=>({associateObjectId:r,associateObjectType:m.TableEntity,fileHandleId:e}))},T=await A(L,l);i(void 0);const F=T.requestedFiles.filter(e=>e.preSignedURL!==void 0).map(e=>e.preSignedURL);a(F)}catch(o){i(o),a(void 0)}})()},[r,t,l]),{assets:f,error:S}}export{u};
