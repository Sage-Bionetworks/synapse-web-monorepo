import{an as M,r as u,j as r,c4 as N,V as s,X as P,B as L,gM as C}from"./iframe-CJCPT_yY.js";import{u as v}from"./useInfiniteQuery-Cpo1uBE7.js";import{u as S}from"./index-CozH_m1k.js";import{P as A,C as T}from"./CreatePortalModal-D044PcJy.js";import{A as E}from"./Add-r_a8JhUy.js";import"./index-r8ZA1smB.js";import"./UserBadge-CPPowmDC.js";import"./useUserBundle-DV8uACsM.js";import"./useSuspenseQuery-CA-nz-xS.js";import"./SkeletonTable-DEcRya5M.js";import"./MenuItem-FQcUK81X.js";import"./Card-CC0cQVjk.js";import"./Chip-BjrahEkE.js";import"./usePortal-DtZJblgk.js";import"./AclEditor-BQUGr9Qo.js";import"./UserSearchBoxV2-C1gAbNl7.js";import"./useDebouncedEffect-BV0l7ju6.js";import"./use-deep-compare-effect.esm-D7KdGUWw.js";import"./uniq-Dpbrz5UI.js";import"./without-85dK_tqQ.js";import"./Select-aab027f3.esm-CqWGu6Ao.js";import"./defineProperty-Cp4flQ_6.js";import"./toPropertyKey-C9c9JG92.js";import"./UserOrTeamBadge-CqbjpjNp.js";import"./TeamBadge-E5anLuYV.js";import"./SkeletonButton-B0ZXgmWW.js";import"./SkeletonInlineBlock-DKm9jtot.js";import"./SkeletonParagraph-CRVUa_L6.js";import"./IconSvgButton-BMrU_2Cm.js";import"./FormControlLabel-BNnxMy1P.js";import"./Checkbox-FrSnOx71.js";import"./SwitchBase-Di4Jykwp.js";import"./useUpdateAcl-BOSQ_sZ4.js";import"./AccessControlListUtils-CJxeW6EI.js";import"./DialogBase-DD_PbrBf.js";import"./Close-BRTzwidq.js";import"./HelpPopover-C4PJJkqz.js";import"./MarkdownPopover-D-gx4RgI.js";import"./LightTooltip-BJLQph6o.js";import"./MarkdownSynapse-CTWmq3WF.js";import"./ConfirmationDialog-BD2HXlgs.js";import"./CardContent-DwAwQT7U.js";function k(l){const{synapseClient:i,keyFactory:p}=M();return v({...l,queryKey:p.getListPortalsQueryKey(),queryFn:async e=>{const o={nextPageToken:e.pageParam};return await i.portalsServicesClient.postRepoV1PortalList({listPortalsRequest:o})},initialPageParam:void 0,getNextPageParam:e=>e.nextPageToken})}const w="_portalListContainer_6n8dh_17",I="_header_6n8dh_23",O="_title_6n8dh_32",q="_loadingContainer_6n8dh_37",F="_portalGrid_6n8dh_44",G="_errorAlert_6n8dh_60",V="_loadMoreTrigger_6n8dh_64",B="_loadingMoreContainer_6n8dh_69",t={portalListContainer:w,header:I,title:O,loadingContainer:q,portalGrid:F,errorAlert:G,loadMoreTrigger:V,loadingMoreContainer:B};function R(){const{ref:l,inView:i}=S(),[p,e]=u.useState(!1),{data:o,status:h,error:x,isLoading:_,hasNextPage:m,isFetchingNextPage:c,fetchNextPage:d}=k({throwOnError:!1});u.useEffect(()=>{h==="success"&&!c&&m&&d&&i&&d()},[h,m,c,d,i]);const g=(o==null?void 0:o.pages.flatMap(a=>a.page??[]))??[];return x?r.jsxs(N,{severity:"error",className:t.errorAlert,children:["Error loading portals: ",x.message]}):r.jsxs(s,{className:t.portalListContainer,children:[r.jsxs(s,{className:t.header,children:[r.jsx(P,{variant:"h4",component:"h2",className:t.title,children:"Portals"}),r.jsx(L,{variant:"contained",color:"primary",startIcon:r.jsx(E,{}),onClick:()=>e(!0),children:"Create New Portal"})]}),_&&r.jsx(s,{className:t.loadingContainer,children:r.jsx(C,{})}),!_&&g.length===0&&r.jsx(P,{variant:"body1",color:"text.secondary",children:"No portals found."}),g.length>0&&r.jsx(s,{className:t.portalGrid,children:g.map(a=>r.jsx(u.Fragment,{children:r.jsx(A,{portal:a})},a.id??JSON.stringify(a)))}),m&&r.jsx("div",{ref:l,className:t.loadMoreTrigger}),c&&r.jsx(s,{className:t.loadingMoreContainer,children:r.jsx(C,{size:32})}),r.jsx(T,{open:p,onClose:()=>e(!1)})]})}const Tr={title:"Developer Utilities/SynapsePortalManager",component:R,parameters:{stack:"production"}},n={};var f,y,j;n.parameters={...n.parameters,docs:{...(f=n.parameters)==null?void 0:f.docs,source:{originalSource:"{}",...(j=(y=n.parameters)==null?void 0:y.docs)==null?void 0:j.source}}};const Er=["SynapsePortalManager"];export{n as SynapsePortalManager,Er as __namedExportsOrder,Tr as default};
