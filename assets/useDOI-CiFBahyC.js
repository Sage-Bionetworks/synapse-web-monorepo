import{l as i,aq as c}from"./useFiles-DKRZIanE.js";import{w as y}from"./waitForAsyncResult-P7HUkBTt.js";import{u}from"./useQuery-BFuwe7cX.js";import{u as p}from"./QueryClientProvider-DaEi_Twt.js";import{u as d}from"./useMutation-DWajAj7L.js";const C={ENTITY:"ENTITY"};function f(e,s){const{synapseClient:t,keyFactory:n}=i();return u({...s,queryKey:n.getDOIAssociationQueryKey(e),queryFn:()=>c(()=>t.doiServicesClient.getRepoV1DoiAssociation(e))})}function O(e,s){const{synapseClient:t,keyFactory:n}=i();return u({...s,queryKey:n.getDOIQueryKey(e),queryFn:()=>c(()=>t.doiServicesClient.getRepoV1Doi(e))})}function R(e){const s=p(),{synapseClient:t,keyFactory:n}=i();return d({...e,mutationFn:async r=>{const o=await t.doiServicesClient.postRepoV1DoiAsyncStart({doiRequest:r});return(await y(()=>t.asynchronousJobServicesClient.getRepoV1AsynchronousJobJobId({jobId:o.token}))).responseBody},onSuccess(...r){e!=null&&e.onSuccess&&e.onSuccess(...r);const o=r[1].doi;if(o){const a={id:o.objectId,type:o.objectType,portalId:o.portalId,version:o.objectVersion};s.invalidateQueries({queryKey:n.getDOIQueryKey(a)})}}})}export{C as D,O as a,R as b,f as u};
