{"version":3,"file":"SubmissionViewScopeEditor-578dda39.js","sources":["../../src/components/SubmissionViewScopeEditor/SubmissionViewScopeEditor.tsx"],"sourcesContent":["import React from 'react'\nimport { ACCESS_TYPE } from '@sage-bionetworks/synapse-types'\nimport EvaluationFinder from '../EvaluationFinder/EvaluationFinder'\nimport { useGetEvaluation } from '../../synapse-queries/evaluation/useEvaluation'\nimport { Box, IconButton, Skeleton, Typography } from '@mui/material'\nimport IconSvg from '../IconSvg'\n\ntype SubmissionViewScopeItemProps = {\n  evaluationId: string\n  onRemove: () => void\n}\n\nfunction SubmissionViewScopeItem(props: SubmissionViewScopeItemProps) {\n  const { evaluationId, onRemove } = props\n  const { data: evaluation, isLoading } = useGetEvaluation(evaluationId)\n  if (isLoading) {\n    return <Skeleton width={'100%'} />\n  }\n  return (\n    <Box\n      display={'flex'}\n      flexDirection={'row'}\n      gap={1}\n      alignItems={'center'}\n      justifyContent={'space-between'}\n    >\n      <Typography key={evaluation!.id} variant={'smallText1'}>\n        {evaluation!.name}\n      </Typography>\n      <IconButton\n        size={'small'}\n        aria-label={`Remove ${evaluation!.name!} from scope`}\n        onClick={() => {\n          onRemove()\n        }}\n        sx={{\n          '&:hover': {\n            color: 'error.main',\n          },\n        }}\n      >\n        <IconSvg icon={'delete'} fontSize={'inherit'} wrap={false} />\n      </IconButton>\n    </Box>\n  )\n}\n\nexport type SubmissionViewScopeEditorProps = {\n  evaluationIds: string[]\n  onChange: (evaluationIds: string[]) => void\n}\n\n/**\n * Component used to select evaluations to define a SubmissionView scope\n * @param props\n * @constructor\n */\nexport default function SubmissionViewScopeEditor(\n  props: SubmissionViewScopeEditorProps,\n) {\n  const { evaluationIds = [], onChange } = props\n\n  return (\n    <>\n      <Typography variant={'smallText1'} sx={{ fontWeight: 700 }} mb={1}>\n        Evaluations\n      </Typography>\n      <EvaluationFinder\n        activeOnly={false}\n        accessType={ACCESS_TYPE.READ_PRIVATE_SUBMISSION}\n        selectedIds={evaluationIds}\n        onChange={onChange}\n      />\n      <Box\n        sx={{ border: '1px solid', borderColor: 'grey.300' }}\n        p={2.5}\n        mb={2.5}\n      >\n        <Typography variant={'smallText1'} sx={{ fontWeight: 700 }} mb={1}>\n          Selected\n        </Typography>\n        <Box display={'flex'} flexDirection={'column'} gap={1}>\n          {evaluationIds.map(evaluationId => (\n            <SubmissionViewScopeItem\n              key={evaluationId}\n              evaluationId={evaluationId}\n              onRemove={() => {\n                onChange(evaluationIds.filter(id => id !== evaluationId))\n              }}\n            />\n          ))}\n        </Box>\n      </Box>\n    </>\n  )\n}\n"],"names":["SubmissionViewScopeItem","props","evaluationId","onRemove","evaluation","isLoading","useGetEvaluation","jsx","Skeleton","jsxs","Box","Typography","IconButton","IconSvg","SubmissionViewScopeEditor","evaluationIds","onChange","Fragment","EvaluationFinder","ACCESS_TYPE","id"],"mappings":"yWAYA,SAAAA,EAAAC,EAAA,CACE,KAAA,CAAA,aAAAC,EAAA,SAAAC,CAAA,EAAAF,EACA,CAAA,KAAAG,EAAA,UAAAC,CAAA,EAAAC,EAAAJ,CAAA,EACA,OAAAG,EACEE,EAAAC,EAAA,CAAA,MAAA,MAAA,CAAA,EAEFC,EACEC,EAAC,CAAA,QAAA,OACU,cAAA,MACM,IAAA,EACV,WAAA,SACO,eAAA,gBACI,SAAA,CAEhBH,EAAAI,EAAA,CAAA,QAAA,aAAA,SAAAP,EAAA,IAAA,EAAAA,EAAA,EAAA,EAEAG,EACAK,EAAC,CAAA,KAAA,QACO,aAAA,UAAAR,EAAA,IAAA,cACiC,QAAA,IAAA,CAErCD,GAAS,EACX,GAAA,CACI,UAAA,CACS,MAAA,YACF,CACT,EACF,SAAAI,EAAAM,EAAA,CAAA,KAAA,SAAA,SAAA,UAAA,KAAA,GAAA,CAE2D,CAAA,CAC7D,CAAA,CAAA,CAGN,CAYA,SAAAC,EAAAb,EAAA,CAGE,KAAA,CAAA,cAAAc,EAAA,CAAA,EAAA,SAAAC,CAAA,EAAAf,EAEA,OAAAQ,EAAAQ,EAAA,CAAA,SAAA,CAEIV,EAAAI,EAAA,CAAA,QAAA,aAAA,GAAA,CAAA,WAAA,GAAA,EAAA,GAAA,EAAA,SAAA,aAAA,CAAA,EAEAJ,EACAW,EAAC,CAAA,WAAA,GACa,WAAAC,EAAA,wBACY,YAAAJ,EACX,SAAAC,CACb,CAAA,EACFP,EACAC,EAAC,CAAA,GAAA,CAAA,OAAA,YAAA,YAAA,UAAA,EACoD,EAAA,IAChD,GAAA,IACC,SAAA,CAEJH,EAAAI,EAAA,CAAA,QAAA,aAAA,GAAA,CAAA,WAAA,GAAA,EAAA,GAAA,EAAA,SAAA,UAAA,CAAA,EAEAJ,EAAAG,EAAA,CAAA,QAAA,OAAA,cAAA,SAAA,IAAA,EAAA,SAAAK,EAAA,IAAAb,GAAAK,EAGIP,EAAC,CAAA,aAAAE,EAEC,SAAA,IAAA,CAEEc,EAAAD,EAAA,OAAAK,GAAAA,IAAAlB,CAAA,CAAA,CAAwD,CAC1D,EAAAA,CAJK,CAAA,EAAA,CAOX,CAAA,CAAA,CACF,CAAA,CAAA,CAGN"}