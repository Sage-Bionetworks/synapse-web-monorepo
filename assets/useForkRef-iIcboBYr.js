import{r}from"./index-RQ0VRfBe.js";const l=typeof window<"u"?r.useLayoutEffect:r.useEffect;function i(e){const u=r.useRef(e);return l(()=>{u.current=e}),r.useRef((...c)=>(0,u.current)(...c)).current}function d(...e){const u=r.useRef(void 0),c=r.useCallback(t=>{const s=e.map(n=>{if(n==null)return null;if(typeof n=="function"){const o=n,f=o(t);return typeof f=="function"?f:()=>{o(null)}}return n.current=t,()=>{n.current=null}});return()=>{s.forEach(n=>n==null?void 0:n())}},e);return r.useMemo(()=>e.every(t=>t==null)?null:t=>{u.current&&(u.current(),u.current=void 0),t!=null&&(u.current=c(t))},e)}export{i as a,l as b,d as u};
