import{S as p}from"./RegularExpressions-CgDTvkkI.js";import{h as c,i as u}from"./index-0sKCi0IA.js";const f=3,g=t=>`${t}-temp-QueryFilter-array`;function a(t){return t.match(p)?t.substring(f):t}const E=(t,r,n=u.LIKE)=>{const i=t?sessionStorage.getItem(g(t)):void 0;let o=[];if(i&&(o=JSON.parse(i)),r){const s=e=>e.startsWith("QueryWrapper")||e.startsWith("__");o=o.concat(Object.keys(r||{}).filter(e=>!s(e)).map(e=>{switch(n){case u.EQUAL:return{concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter",columnName:e,operator:n,values:[r[e]]};case u.IN:return{concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter",columnName:e,operator:n,values:r[e].split(",")};case c.HAS:return{concreteType:"org.sagebionetworks.repo.model.table.ColumnMultiValueFunctionQueryFilter",columnName:e,function:n,values:r[e].split(",")};case u.LIKE:return{concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter",columnName:e,operator:n,values:[`%${a(r[e])}%`]};case c.HAS_LIKE:return{concreteType:"org.sagebionetworks.repo.model.table.ColumnMultiValueFunctionQueryFilter",columnName:e,function:n,values:r[e].split(",").map(m=>`%${a(m)}%`)}}}))}return o.length===0?void 0:o},F=t=>{const r=t.match(/(from)\s+(syn)\d+/gi);return r&&r[0]?r[0].substr(5).trim():""},I=t=>{const n=/from\s+(syn\d+)(?:\.(\d+))?/i.exec(t);return n?{entityId:n[1],versionNumber:n[2]?parseInt(n[2]):void 0}:null},b=(t,r)=>{const n=r.map(o=>o.values),i=t.map(o=>o.name);return n.map(o=>{const s={};return o.forEach((e,l)=>{s[i[l]]=e}),s})};export{g as Q,I as a,E as g,F as p,b as r};
