import{j as t}from"./jsx-runtime-MnZ2317C.js";import{n as W,aS as fe,S as H,bH as he,aR as Re}from"./useFiles-DnUO1Api.js";import{q as se}from"./VerificationSubmission-CMrrYimb.js";import"./StringUtils-Bdqa-HwM.js";import{u as ae}from"./useMutation-DEtxxh-c.js";import{a6 as ie,a7 as ye,W as _e,X as Ee,L as Te,a8 as ue}from"./SynapseConstants-V1sQpU_s.js";import{r as F,R as L}from"./index-DBUZyXtq.js";import"./OrientationBanner-D2fotMsN.js";import{n as $}from"./useQuery-CiIdiLfh.js";import{I as Ae}from"./IconSvg-Dauk6bg_.js";import{I as we}from"./IconButton-D83ce9NZ.js";import{F as Fe}from"./FullWidthAlert-aDseP76t.js";import{L as X}from"./LoginMethodButton-CpPyP9JK.js";import{B as N}from"./Box-BH8rgvLb.js";import{T as re}from"./TextField-fpkmvtXQ.js";import{B as Y}from"./Button-BgtgpHEH.js";import{s as Oe}from"./DefaultPropsProvider-FBbxzESS.js";import{T as Ie}from"./TextField-xL71QFRN.js";import{L as B}from"./Link-DIPaPrKj.js";import{T as K}from"./Typography-By-qWDlQ.js";import{A as Ce}from"./Alert-7eVifPuv.js";const le=["VERIFICATION_CODE","RECOVERY_CODE","LOGGED_IN","DISABLE_2FA_PROMPT"];function Se(e){const{sessionCallback:o=$,twoFaErrorResponse:a,onTwoFactorAuthRequired:i=$}=e,[c,r]=F.useState("CHOOSE_AUTH_METHOD"),[m,u]=F.useState(),[l,p]=F.useState(),T=W("/changePassword");F.useEffect(()=>{a&&p(a)},[a]),F.useEffect(()=>{const d=new URL(window.location.href),{searchParams:y}=d;if(y){const C=y.get("userId"),G=y.get("twoFaToken");C&&G&&(p({errorCode:se.TWO_FA_REQUIRED,reason:"",userId:parseInt(C,10),twoFaToken:G,concreteType:"org.sagebionetworks.repo.model.auth.TwoFactorAuthErrorResponse"}),le.includes(c)||r("VERIFICATION_CODE"))}},[c]),F.useEffect(()=>{l&&(p(l),le.includes(c)||r("VERIFICATION_CODE"))},[l]),F.useEffect(()=>{l&&i(l)},[i,l]),F.useEffect(()=>{u(void 0)},[c]);async function f(d){await H.setAccessTokenCookie(d.accessToken),localStorage.setItem(ie,d.authenticationReceipt??""),r("LOGGED_IN"),o&&o()}const{mutate:O,isPending:I}=ae({mutationFn:({username:d,password:y,authenticationReceipt:C})=>H.login(d,y,C),onError:d=>{u(d.reason);const{errorResponse:y}=d;y&&"errorCode"in y&&y.errorCode==se.PASSWORD_RESET_VIA_EMAIL_REQUIRED&&window.location.assign(T.toString())},onSuccess:async d=>{d&&(he(d)?(r("VERIFICATION_CODE"),p(d)):await f(d))}}),{mutate:w,isPending:E}=ae({mutationFn:H.loginWith2fa,onError:d=>{u(d.reason),(d.reason.includes("The provided twoFaToken is invalid")||d.reason.includes("Token has expired"))&&(console.warn(d),u("Something went wrong. Refresh the page and try again."),window.location.href.includes("twoFaToken")&&window.history.replaceState({},document.title,window.location.href.replaceAll(/(twoFaToken|userId)=[^&]*&?/g,"")))},onSuccess:f}),{mutate:V,isSuccess:b,isPending:v}=fe({onError:d=>{u(d.reason)}}),D=(d,y)=>{u(void 0);const C=localStorage.getItem(ie);O({username:d,password:y,authenticationReceipt:C})};function h(d){return d==null?(u("You did not first log in with your password or a third-party identity provider."),!1):!0}return{step:c,onStepChange:r,submitUsernameAndPassword:D,submitOneTimePassword:(d,y=c==="RECOVERY_CODE"?"RECOVERY_CODE":"TOTP")=>{if(u(void 0),h(l)){const C={userId:l.userId,twoFaToken:l.twoFaToken,otpCode:d,otpType:y};w(C)}},errorMessage:m,loginIsPending:I||E,beginTwoFactorAuthReset:d=>{if(u(void 0),h(l)){const y={userId:l.userId,twoFaToken:l.twoFaToken,twoFaResetEndpoint:d};V(y)}},twoFactorAuthResetIsPending:v,twoFactorAuthResetIsSuccess:b}}const Pe="Enter the 6-digit, time-based verification code provided by your authenticator app.",Ue="Enter a one-time backup code. Your backup code is a 16 digit code, with groups of 4 letters or numbers separated by hyphens.";function xe(e){switch(e){case"CHOOSE_AUTH_METHOD":return"CHOOSE_AUTH_METHOD";case"USERNAME_PASSWORD":return"CHOOSE_AUTH_METHOD";case"VERIFICATION_CODE":return"CHOOSE_AUTH_METHOD";case"RECOVERY_CODE":return"VERIFICATION_CODE";case"DISABLE_2FA_PROMPT":return"VERIFICATION_CODE";case"LOGGED_IN":return"LOGGED_IN"}}function Q(e){const{step:o,onStepChange:a,sx:i}=e;return o==="USERNAME_PASSWORD"||o==="VERIFICATION_CODE"||o==="RECOVERY_CODE"?t.jsx(we,{className:ye,type:"button",onClick:()=>{a(xe(o))},sx:i,children:t.jsx(Ae,{icon:"arrowBack",wrap:!1,sx:{height:"24px",width:"24px"}})}):null}try{Q.displayName="LoginFlowBackButton",Q.__docgenInfo={description:"",displayName:"LoginFlowBackButton",props:{step:{defaultValue:null,description:"",name:"step",required:!0,type:{name:"UseLoginReturn"}},onStepChange:{defaultValue:null,description:"",name:"onStepChange",required:!0,type:{name:"(step: UseLoginReturn) => void"}},sx:{defaultValue:null,description:"",name:"sx",required:!1,type:{name:"SxProps"}}}}}catch{}function z(e){const{onBeginOAuthSignIn:o,ssoRedirectUrl:a,onSelectUsernameAndPassword:i,state:c}=e;function r(m,u){o&&o(),m.preventDefault();const l=a?`${a}${u}`:`${H.getRootURL()}?provider=${u}`;H.oAuthUrlRequest(u,l,c).then(p=>{window.location.href=p.authorizationUrl}).catch(p=>{console.log("Error on oAuth url ",p)})}return t.jsxs(N,{children:[t.jsx(X,{loginMethod:_e,iconName:"google24",onClick:m=>{r(m,ue.GOOGLE)}}),t.jsx(X,{loginMethod:Ee,iconName:"orcid",onClick:m=>{r(m,ue.ORCID)}}),t.jsx(X,{loginMethod:Te,iconName:"email",onClick:i})]})}try{z.displayName="AuthenticationMethodSelection",z.__docgenInfo={description:`To support Google SSO in your portal, you must add your domain to the Authorized Redirect URIs for Synapse authentication.
This can be done by visiting https://sagebionetworks.jira.com/servicedesk/customer/portal/9 to set up a collaboration.
Synapse engineers must add your redirect URL in the Google API console found at https://console.cloud.google.com/ for this functionality to work.`,displayName:"AuthenticationMethodSelection",props:{ssoRedirectUrl:{defaultValue:null,description:"",name:"ssoRedirectUrl",required:!1,type:{name:"string"}},onBeginOAuthSignIn:{defaultValue:null,description:"",name:"onBeginOAuthSignIn",required:!1,type:{name:"() => void"}},onSelectUsernameAndPassword:{defaultValue:null,description:"",name:"onSelectUsernameAndPassword",required:!0,type:{name:"() => void"}},state:{defaultValue:null,description:"",name:"state",required:!1,type:{name:"OAuth2State"}}}}}catch{}const Ve=19;function J(e){const{onSubmit:o,loginIsPending:a}=e,[i,c]=F.useState("");return t.jsxs(N,{children:[t.jsx(re,{placeholder:"Enter backup code",value:i,onChange:r=>{const m=r.target.value.toLowerCase().replace(/[^a-z0-9-]/gi,"");c(m)}}),t.jsx(Y,{fullWidth:!0,type:"submit",color:"primary",variant:"contained",sx:{height:"50px",mt:4,mb:2},disabled:i.length!==Ve||a,onClick:r=>{r.preventDefault(),o(i)},children:a?"Verifying...":"Submit"})]})}try{J.displayName="RecoveryCodeForm",J.__docgenInfo={description:"",displayName:"RecoveryCodeForm",props:{onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(value: string) => void"}},loginIsPending:{defaultValue:null,description:"",name:"loginIsPending",required:!0,type:{name:"UseLoginReturn"}}}}}catch{}const be=Oe(Ie)`
  input {
    text-align: center;
  }
`,ve={TextFieldStyled:be},De=e=>t.jsx(ve.TextFieldStyled,{...e}),j={left:"ArrowLeft",right:"ArrowRight",backspace:"Backspace",home:"Home",end:"End"};function ke(e,o){return e<=0?[]:Array.from({length:e},o)}function Le(e,o,a){return e.map((i,c)=>o===c?a:i)}function de(e){return e.join("")}function ce(e,o){return[...e,o]}function qe(e,o,a){return e.reduce((i,c,r)=>{const{characters:m,restArrayMerged:u}=i;if(r<a)return{restArrayMerged:u,characters:ce(m,c)};const[l,...p]=u;return{restArrayMerged:p,characters:ce(m,l||"")}},{restArrayMerged:o,characters:[]}).characters}function Be(e){return o=>{e.forEach(a=>{typeof a=="function"?a(o):a!=null&&(a.current=o)})}}function Ne(e){return e.split("")}function pe(e){const o=L.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return L.useInsertionEffect(()=>{o.current=e}),L.useCallback((...a)=>{var i;return(i=o.current)==null?void 0:i.call(o,...a)},[])}const Me=()=>!0,je=L.forwardRef((e,o)=>{const{value:a="",length:i=4,autoFocus:c=!1,onChange:r,TextFieldsProps:m,onComplete:u,validateChar:l=Me,className:p,onBlur:T,...f}=e,O=L.useRef(a),I=pe(u),w=pe(n=>{const s=n.slice(0,i);return{isCompleted:s.length===i,finalValue:s}});L.useEffect(()=>{const{isCompleted:n,finalValue:s}=w(O.current);n&&I(s)},[i,I,w]);const E=ke(i,(n,s)=>({character:a[s]||"",inputRef:L.createRef()})),V=n=>E.findIndex(({inputRef:s})=>s.current===n),b=()=>E.map(({character:n})=>n),v=(n,s)=>{const g=Le(b(),n,s);return de(g)},D=n=>{var s,g;(g=(s=E[n])==null?void 0:s.inputRef.current)==null||g.focus()},h=n=>{var s,g;(g=(s=E[n])==null?void 0:s.inputRef.current)==null||g.select()},P=n=>{n+1!==i&&(E[n+1].character?h(n+1):D(n+1))},k=(n,s)=>typeof l!="function"?!0:l(n,s),d=n=>{const s=V(n.target);if(s===0&&n.target.value.length>1){const{finalValue:x,isCompleted:M}=w(n.target.value);r==null||r(x),M&&(u==null||u(x)),h(x.length-1);return}const g=n.target.value[0]||"";let A=g;A&&!k(A,s)&&(A="");const R=v(s,A);r==null||r(R);const{isCompleted:U,finalValue:S}=w(R);U&&(u==null||u(S)),A!==""?R.length-1<s?h(R.length):P(s):g===""&&R.length<=s&&h(s-1)},y=n=>{const s=n.target,g=s.selectionStart,A=s.selectionEnd,R=V(s),U=g===0&&A===0;if(s.value===n.key)n.preventDefault(),P(R);else if(j.backspace===n.key){if(!s.value)n.preventDefault(),h(R-1);else if(U){n.preventDefault();const S=v(R,"");r==null||r(S),S.length<=R&&h(R-1)}}else j.left===n.key?(n.preventDefault(),h(R-1)):j.right===n.key?(n.preventDefault(),h(R+1)):j.home===n.key?(n.preventDefault(),h(0)):j.end===n.key&&(n.preventDefault(),h(E.length-1))},C=n=>{const s=n.clipboardData.getData("text/plain"),g=n.target,A=E.findIndex(({character:q,inputRef:_})=>q===""||_.current===g),R=b(),U=qe(R,Ne(s),A).map((q,_)=>k(q,_)?q:""),S=de(U);r==null||r(S);const{isCompleted:x,finalValue:M}=w(S);x?(u==null||u(M),h(i-1)):h(S.length)},G=n=>{if(!E.some(({inputRef:s})=>s.current===n.relatedTarget)){const{isCompleted:s,finalValue:g}=w(a);T==null||T(g,s)}};return t.jsx(N,{display:"flex",gap:"20px",alignItems:"center",ref:o,className:`MuiOtpInput-Box ${p||""}`,...f,children:E.map(({character:n,inputRef:s},g)=>{const{onPaste:A,onFocus:R,onKeyDown:U,className:S,onBlur:x,inputRef:M,...q}=typeof m=="function"?m(g)||{}:m||{};return t.jsx(De,{autoFocus:c?g===0:!1,autoComplete:"one-time-code",value:n,inputRef:Be([s,M]),className:`MuiOtpInput-TextField MuiOtpInput-TextField-${g+1} ${S||""}`,onPaste:_=>{_.preventDefault(),C(_),A==null||A(_)},onFocus:_=>{_.preventDefault(),_.target.select(),R==null||R(_)},onChange:d,onKeyDown:_=>{y(_),U==null||U(_)},onBlur:_=>{x==null||x(_),G(_)},...q},g)})})}),me=6,He=["0","1","2","3","4","5","6","7","8","9"];function Z(e){const{onSubmit:o,loginIsPending:a}=e,[i,c]=F.useState("");return t.jsxs(N,{children:[t.jsx(je,{autoFocus:!0,length:me,value:i,onChange:c,onComplete:o,validateChar:r=>He.includes(r)||r==="",gap:"2px",sx:{mx:"auto",maxWidth:"350px",".MuiInputBase-root":{paddingLeft:"5px",paddingRight:"5px"},".MuiFormControl-root:first-of-type > .MuiInputBase-root":{borderTopRightRadius:0,borderBottomRightRadius:0},".MuiFormControl-root:last-of-type > .MuiInputBase-root":{borderTopLeftRadius:0,borderBottomLeftRadius:0},".MuiFormControl-root:not(:first-of-type):not(:last-of-type) > .MuiInputBase-root":{borderRadius:0}}}),t.jsx(Y,{fullWidth:!0,type:"submit",color:"primary",variant:"contained",sx:{height:"50px",mt:4,mb:2},disabled:i.length!==me||a,onClick:r=>{r.preventDefault(),o(i)},children:a?"Verifying...":"Submit"})]})}try{Z.displayName="TOTPForm",Z.__docgenInfo={description:"",displayName:"TOTPForm",props:{onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(value: string) => void"}},loginIsPending:{defaultValue:null,description:"",name:"loginIsPending",required:!0,type:{name:"UseLoginReturn"}}}}}catch{}const Ge="Use a backup code instead",We="Use authenticator app instead",Ye="Lost access to your codes?",Xe="Send Instructions",$e="Instructions to reset two-factor authentication were sent to the primary email address associated with your account.";function ee(e){const{step:o,loginIsPending:a,onSubmit:i,onClickUseBackupCode:c,onClickUseTOTP:r,hideReset2FA:m,onClickPromptReset2FA:u,onClickReset2FA:l,twoFactorAuthResetIsSuccess:p,twoFactorAuthResetIsPending:T}=e;return t.jsxs(t.Fragment,{children:[o==="VERIFICATION_CODE"&&t.jsxs(t.Fragment,{children:[t.jsx(Z,{loginIsPending:a,onSubmit:f=>{i(f,"TOTP")}}),t.jsx(B,{align:"center",color:"grey.700",sx:{display:"block",mx:"auto",my:2},onClick:()=>{c()},children:Ge})]}),o==="RECOVERY_CODE"&&t.jsxs(t.Fragment,{children:[t.jsx(J,{loginIsPending:a,onSubmit:f=>{i(f,"RECOVERY_CODE")}}),t.jsx(B,{align:"center",color:"grey.700",sx:{display:"block",mx:"auto",my:2},onClick:()=>{r()},children:We})]}),!m&&u&&l&&o!=="DISABLE_2FA_PROMPT"&&t.jsx(B,{align:"center",color:"grey.700",sx:{display:"block",mx:"auto",my:2},onClick:()=>{u()},children:Ye}),o==="DISABLE_2FA_PROMPT"&&l&&t.jsxs(t.Fragment,{children:[t.jsx(K,{variant:"body1",align:"center",sx:{my:2},children:"To reset two-factor authentication on your account, an email containing instructions will be sent to the primary email address on your account."}),t.jsx(Y,{fullWidth:!0,variant:"contained",onClick:l,disabled:T||p,sx:{my:2},children:Xe}),p&&t.jsx(Ce,{severity:"success",sx:{my:1},children:$e}),t.jsx(B,{align:"center",color:"grey.700",sx:{display:"block",mx:"auto",my:2},onClick:()=>{r()},children:"Go back"})]})]})}try{ee.displayName="OneTimePasswordForm",ee.__docgenInfo={description:`Component that allows the user to enter a one-time password second authentication factor,
such as a timed one-time password (TOTP) generated using a shared secret, or a single-use recovery code.

The user may also use this UI to begin the process of disabling 2FA on their account.`,displayName:"OneTimePasswordForm",props:{step:{defaultValue:null,description:"",name:"step",required:!0,type:{name:"enum",value:[{value:'"VERIFICATION_CODE"'},{value:'"RECOVERY_CODE"'},{value:'"DISABLE_2FA_PROMPT"'}]}},loginIsPending:{defaultValue:null,description:"",name:"loginIsPending",required:!0,type:{name:"boolean"}},onClickUseTOTP:{defaultValue:null,description:"",name:"onClickUseTOTP",required:!0,type:{name:"() => void"}},onClickUseBackupCode:{defaultValue:null,description:"",name:"onClickUseBackupCode",required:!0,type:{name:"() => void"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(code: string, otpType: TwoFactorAuthOtpType) => void"}},hideReset2FA:{defaultValue:null,description:"",name:"hideReset2FA",required:!1,type:{name:"boolean"}},onClickPromptReset2FA:{defaultValue:null,description:"",name:"onClickPromptReset2FA",required:!1,type:{name:"() => void"}},onClickReset2FA:{defaultValue:null,description:"",name:"onClickReset2FA",required:!1,type:{name:"() => void"}},twoFactorAuthResetIsSuccess:{defaultValue:null,description:"",name:"twoFactorAuthResetIsSuccess",required:!0,type:{name:"UseLoginReturn"}},twoFactorAuthResetIsPending:{defaultValue:null,description:"",name:"twoFactorAuthResetIsPending",required:!0,type:{name:"UseLoginReturn"}}}}}catch{}function te(e){return t.jsx(re,{required:!0,fullWidth:!0,autoComplete:"current-password",label:"Password",id:"current-password",type:"password",...e})}try{te.displayName="PasswordField",te.__docgenInfo={description:"",displayName:"PasswordField",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLDivElement>"}},component:{defaultValue:null,description:"",name:"component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},slots:{defaultValue:{value:"{}"},description:"The components used for each slot inside.",name:"slots",required:!1,type:{name:"Partial<TextFieldSlots>"}},slotProps:{defaultValue:{value:"{}"},description:"The props used for each slot inside.",name:"slotProps",required:!1,type:{name:"{ root?: SlotProps<ElementType<FormControlProps, keyof IntrinsicElements>, {}, BaseTextFieldProps>; ... 4 more ...; select?: SlotProps<...>; } | { ...; } | { ...; }"}}}}}catch{}function ne(e){const o=W("/resetPassword"),{resetPasswordUrl:a=o.toString(),onSubmit:i,loginIsPending:c,hideForgotPasswordButton:r}=e,[m,u]=F.useState(""),[l,p]=F.useState("");function T(f){f.preventDefault(),i(m,l)}return t.jsxs("form",{onSubmit:f=>{T(f)},children:[t.jsx(re,{required:!0,fullWidth:!0,autoFocus:!0,autoComplete:"username",label:"Username or Email Address",id:"username",type:"text",value:m,onChange:f=>u(f.target.value)}),t.jsx(te,{value:l,onChange:f=>p(f.target.value)}),!r&&t.jsx(B,{href:a,target:a.startsWith("/")?void 0:"_blank",children:"Forgot password?"}),t.jsx(Y,{fullWidth:!0,type:"submit",color:"primary",variant:"contained",disabled:c,sx:{height:"50px",mt:4,mb:2},children:c?"Logging you in...":"Sign in"})]})}try{ne.displayName="UsernamePasswordForm",ne.__docgenInfo={description:"",displayName:"UsernamePasswordForm",props:{onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(username: string, password: string) => void"}},resetPasswordUrl:{defaultValue:null,description:"",name:"resetPasswordUrl",required:!1,type:{name:"string"}},loginIsPending:{defaultValue:null,description:"",name:"loginIsPending",required:!0,type:{name:"UseLoginReturn"}},hideForgotPasswordButton:{defaultValue:null,description:"",name:"hideForgotPasswordButton",required:!1,type:{name:"boolean"}}}}}catch{}function oe(e){const o=W("/register1"),a=W("/reset2FA"),{ssoRedirectUrl:i,ssoState:c,registerAccountUrl:r=o.toString(),resetPasswordUrl:m,onBeginOAuthSignIn:u,onStepChange:l,step:p,submitUsernameAndPassword:T,submitOneTimePassword:f,errorMessage:O,loginIsPending:I,beginTwoFactorAuthReset:w,hideRegisterButton:E,hideForgotPasswordButton:V,twoFactorAuthResetIsSuccess:b,twoFactorAuthResetIsPending:v,twoFactorAuthResetUri:D=Re(a,"twoFAResetToken"),onPasswordLoginSelected:h=$}=e;return t.jsxs(t.Fragment,{children:[p=="CHOOSE_AUTH_METHOD"&&t.jsx(z,{onSelectUsernameAndPassword:()=>{h(),l("USERNAME_PASSWORD")},onBeginOAuthSignIn:u,ssoRedirectUrl:i,state:c}),p==="USERNAME_PASSWORD"&&t.jsx(ne,{loginIsPending:I,resetPasswordUrl:m,onSubmit:(P,k)=>{T(P,k)},hideForgotPasswordButton:V}),(p==="VERIFICATION_CODE"||p==="RECOVERY_CODE"||p==="DISABLE_2FA_PROMPT")&&t.jsx(ee,{step:p,loginIsPending:I,onSubmit:(P,k)=>{f(P,k)},onClickUseTOTP:()=>{l("VERIFICATION_CODE")},onClickUseBackupCode:()=>{l("RECOVERY_CODE")},onClickPromptReset2FA:()=>{l("DISABLE_2FA_PROMPT")},onClickReset2FA:()=>{w(D)},twoFactorAuthResetIsPending:v,twoFactorAuthResetIsSuccess:b}),!E&&(p==="CHOOSE_AUTH_METHOD"||p==="USERNAME_PASSWORD")&&t.jsx(N,{sx:{display:"flex",justifyContent:"center",mt:"10px"},children:t.jsx(B,{href:r,align:"center",children:"Don't have an account? Create one now"})}),O&&t.jsx(Fe,{variant:"warning",isGlobal:!1,description:O})]})}try{oe.displayName="LoginForm",oe.__docgenInfo={description:"",displayName:"LoginForm",props:{ssoRedirectUrl:{defaultValue:null,description:"",name:"ssoRedirectUrl",required:!1,type:{name:"string"}},registerAccountUrl:{defaultValue:null,description:"",name:"registerAccountUrl",required:!1,type:{name:"string"}},resetPasswordUrl:{defaultValue:null,description:"",name:"resetPasswordUrl",required:!1,type:{name:"string"}},onBeginOAuthSignIn:{defaultValue:null,description:"",name:"onBeginOAuthSignIn",required:!1,type:{name:"() => void"}},step:{defaultValue:null,description:"",name:"step",required:!0,type:{name:"UseLoginReturn"}},onStepChange:{defaultValue:null,description:"",name:"onStepChange",required:!0,type:{name:"(step: UseLoginReturn) => void"}},twoFactorAuthenticationRequired:{defaultValue:null,description:"",name:"twoFactorAuthenticationRequired",required:!1,type:{name:"TwoFactorAuthErrorResponse"}},submitUsernameAndPassword:{defaultValue:null,description:"",name:"submitUsernameAndPassword",required:!0,type:{name:"UseLoginReturn"}},submitOneTimePassword:{defaultValue:null,description:"",name:"submitOneTimePassword",required:!0,type:{name:"UseLoginReturn"}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!0,type:{name:"UseLoginReturn"}},loginIsPending:{defaultValue:null,description:"",name:"loginIsPending",required:!0,type:{name:"UseLoginReturn"}},beginTwoFactorAuthReset:{defaultValue:null,description:"",name:"beginTwoFactorAuthReset",required:!0,type:{name:"UseLoginReturn"}},twoFactorAuthResetIsSuccess:{defaultValue:null,description:"",name:"twoFactorAuthResetIsSuccess",required:!0,type:{name:"UseLoginReturn"}},twoFactorAuthResetIsPending:{defaultValue:null,description:"",name:"twoFactorAuthResetIsPending",required:!0,type:{name:"UseLoginReturn"}},hideRegisterButton:{defaultValue:null,description:"",name:"hideRegisterButton",required:!1,type:{name:"boolean"}},hideForgotPasswordButton:{defaultValue:null,description:"",name:"hideForgotPasswordButton",required:!1,type:{name:"boolean"}},ssoState:{defaultValue:null,description:"",name:"ssoState",required:!1,type:{name:"OAuth2State"}},twoFactorAuthResetUri:{defaultValue:null,description:"",name:"twoFactorAuthResetUri",required:!1,type:{name:"string"}},onPasswordLoginSelected:{defaultValue:null,description:"",name:"onPasswordLoginSelected",required:!1,type:{name:"() => void"}}}}}catch{}function ge(e){const{ssoRedirectUrl:o,sessionCallback:a,registerAccountUrl:i,resetPasswordUrl:c,onBeginOAuthSignIn:r,onTwoFactorAuthRequired:m,hideRegisterButton:u,hideForgotPasswordButton:l,ssoState:p,twoFactorAuthResetUri:T,onPasswordLoginSelected:f}=e,{step:O,onStepChange:I,submitUsernameAndPassword:w,submitOneTimePassword:E,errorMessage:V,loginIsPending:b,beginTwoFactorAuthReset:v,twoFactorAuthResetIsPending:D,twoFactorAuthResetIsSuccess:h}=Se({sessionCallback:a,twoFaErrorResponse:e.twoFactorAuthenticationRequired,onTwoFactorAuthRequired:m});return t.jsxs(N,{sx:P=>({[P.breakpoints.up("sm")]:{width:"330px"},p:0,mx:"auto",bgColor:"transparent"}),children:[t.jsx(Q,{step:O,onStepChange:I,sx:{p:0,mb:1}}),O==="VERIFICATION_CODE"&&t.jsx(K,{variant:"body1",sx:{my:2},align:"center",children:Pe}),O==="RECOVERY_CODE"&&t.jsx(K,{variant:"body1",sx:{my:2},align:"center",children:Ue}),t.jsx(oe,{step:O,onStepChange:I,submitUsernameAndPassword:w,submitOneTimePassword:E,errorMessage:V,ssoRedirectUrl:o,registerAccountUrl:i,resetPasswordUrl:c,onBeginOAuthSignIn:r,loginIsPending:b,beginTwoFactorAuthReset:v,hideRegisterButton:u,hideForgotPasswordButton:l,twoFactorAuthResetIsPending:D,twoFactorAuthResetIsSuccess:h,ssoState:p,twoFactorAuthResetUri:T,onPasswordLoginSelected:f})]})}try{ge.displayName="StandaloneLoginForm",ge.__docgenInfo={description:"",displayName:"StandaloneLoginForm",props:{ssoRedirectUrl:{defaultValue:null,description:"",name:"ssoRedirectUrl",required:!1,type:{name:"string"}},sessionCallback:{defaultValue:null,description:"",name:"sessionCallback",required:!0,type:{name:"() => void"}},registerAccountUrl:{defaultValue:null,description:"",name:"registerAccountUrl",required:!1,type:{name:"string"}},resetPasswordUrl:{defaultValue:null,description:"",name:"resetPasswordUrl",required:!1,type:{name:"string"}},onBeginOAuthSignIn:{defaultValue:null,description:"",name:"onBeginOAuthSignIn",required:!1,type:{name:"() => void"}},twoFactorAuthenticationRequired:{defaultValue:null,description:"",name:"twoFactorAuthenticationRequired",required:!1,type:{name:"TwoFactorAuthErrorResponse"}},onTwoFactorAuthRequired:{defaultValue:null,description:"",name:"onTwoFactorAuthRequired",required:!1,type:{name:'(twoFaErrorResponse: Pick<TwoFactorAuthErrorResponse, "twoFaToken" | "userId">) => void'}},hideRegisterButton:{defaultValue:null,description:"",name:"hideRegisterButton",required:!1,type:{name:"boolean"}},hideForgotPasswordButton:{defaultValue:null,description:"",name:"hideForgotPasswordButton",required:!1,type:{name:"boolean"}},ssoState:{defaultValue:null,description:"",name:"ssoState",required:!1,type:{name:"OAuth2State"}},twoFactorAuthResetUri:{defaultValue:null,description:"",name:"twoFactorAuthResetUri",required:!1,type:{name:"string"}},onPasswordLoginSelected:{defaultValue:null,description:"",name:"onPasswordLoginSelected",required:!1,type:{name:"() => void"}}}}}catch{}export{ee as O,Ue as R,ge as S,Pe as T};
