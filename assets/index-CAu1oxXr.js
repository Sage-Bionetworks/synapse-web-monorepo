var bi=Object.defineProperty;var Si=(e,t,r)=>t in e?bi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ue=(e,t,r)=>Si(e,typeof t!="symbol"?t+"":t,r);import{j,r as Ct}from"./jsx-runtime-CcC0El_l.js";import{r as Z}from"./index-B68G30BL.js";import{i as bt,g as se,E as be,U as ba,r as Ue,a as Pt,b as Sa,c as wi,m as Je,h as Te,P as Se,R as Oe,D as wa,e as Ea,d as de,I as Xe,f as Be,N as _r,O as Ye,j as it,k as ja,l as ka,n as Fn,s as ye,o as pn,p as Ca,q as Ei,t as ji,v as ki,S as Er,w as Rn,x as Pa,T as oe,y as xn,z as jr,B as Ci,A as Tt,C as $r,F as Pi}from"./enums-D_p95k2y.js";import{i as Ti}from"./isString-CqbKZRmJ.js";import{i as Tr,e as Ta}from"./isNil-DMGNENX_.js";import{g as X}from"./_baseIteratee-CRv1983C.js";import{k as lt}from"./_getTag-DL_rFxlP.js";import{p as Oi}from"./pickBy-DBdcgDIF.js";import{b as Ii,i as An,d as wt}from"./merge-DWlXz-uv.js";import{b as Ni}from"./_baseDifference-FpFp7tsR.js";import{b as Fi}from"./_baseFlatten-DlFEnId_.js";import{a as Ri,c as Oa}from"./cloneDeep-B8r50GAX.js";import{b as xi}from"./_baseEach-oa8kIRb4.js";import{c as Ai}from"./times-BNou_5v_.js";import{i as Ia}from"./isArray-Dxzbedgu.js";import{p as Dn}from"./pick-BFBTBSGM.js";import{i as Ie}from"./_baseTimes-36S_kd0L.js";import{n as Di}from"./index.browser-CtiQQ-iP.js";import{b as qi,o as un}from"./omit-De_64dDr.js";import{g as Qe}from"./iframe-BhDmSVr3.js";import{r as Ot}from"./createTheme-uH0JWPXs.js";import{r as It}from"./createSvgIcon-DccPKeEG.js";import{I as Na}from"./IconButton-C8Z2107h.js";import{G as we}from"./Grid-C7j_xCD0.js";import{B as Ze}from"./Box-Dfy5DiVK.js";import{P as yn}from"./Paper-e82N6CUc.js";import{T as gn}from"./TextField-BKJcROFR.js";import{T as Or}from"./Typography-CexizsGO.js";import{L as Fa}from"./List-DlbzzelX.js";import{L as Ra}from"./ListItem-DrqDuL5Q.js";import{L as Mi}from"./ListItemIcon-C8rC_NqP.js";import{L as Vi}from"./ListItemText-8jnQ2Iza.js";import{C as Ui}from"./ContentCopy-8bGrndwh.js";import{F as xa}from"./Input-Bt-sWUxW.js";import{F as Bi}from"./FormControl-LhdDnzob.js";import{B as Li}from"./Button-CKTM6a-Q.js";import{D as zi}from"./Divider-CIwDJWPq.js";import{F as vn}from"./FormControlLabel-C21sp2Zh.js";import{C as Aa}from"./Checkbox-CTv9l-zY.js";import{F as _n}from"./FormLabel-B6JiGWAP.js";import{F as Ki}from"./FormGroup-BWD5Uru9.js";import{R as Wi}from"./RadioGroup-BUoSin5m.js";import{R as Hi}from"./Radio-DdqxVhVB.js";import{S as Gi}from"./Slider-UTFZFYzs.js";import{M as qn}from"./MenuItem-BO4IgyXW.js";import{a as Ji,t as Yi}from"./toString-D5B49XBW.js";import{h as Xi}from"./_initCloneObject-B86KfcnX.js";import{i as Zi}from"./isSymbol-7YZSFn5O.js";import{s as Qi,t as eo}from"./_baseGet-DtwRvb4S.js";import{b as to}from"./_baseSet-COB_7Scz.js";var ro=Ii(function(e,t){return An(e)?Ni(e,Fi(t,1,An,!0)):[]});function no(e,t){var r=Ia(e)?Ri:xi;return r(e,Ai(t))}function so(e,t,r,n){return n=typeof n=="function"?n:void 0,e==null?e:to(e,t,r,n)}function Da(e){return Ia(e)?Ji(e,eo):Zi(e)?[e]:Xi(Qi(Yi(e)))}function ao(e,t){return e==null?!0:qi(e,t)}function io(e){return e.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),bt(e.additionalItems)}function Mn(e){if(e==="")return;if(e===null)return null;if(/\.$/.test(e)||/\.0$/.test(e)||/\.\d*0$/.test(e))return e;const t=Number(e);return typeof t=="number"&&!Number.isNaN(t)?t:e}function qa(e,t={},r){if(!e.additionalProperties)return!1;const{expandable:n=!0}=se(t);return n===!1?n:e.maxProperties!==void 0&&r?Object.keys(r).length<e.maxProperties:!0}function kr(e){const t={[be]:[],addError(r){this[be].push(r)}};if(Array.isArray(e))return e.reduce((r,n,a)=>({...r,[a]:kr(n)}),t);if(wt(e)){const r=e;return Object.keys(r).reduce((n,a)=>({...n,[a]:kr(r[a])}),t)}return t}function Ma(e={}){return"widget"in se(e)&&se(e).widget!=="hidden"}function Va(e,t,r={},n,a){if(r[ba]==="files")return!0;if(t.items){const s=Ue(e,t.items,n,void 0,a);return s.type==="string"&&s.format==="data-url"}return!1}function oo(e,t,r={},n,a,s){const c=se(r,a),{label:o=!0}=c;let l=!!o;const h=Pt(t);return h==="array"&&(l=Sa(e,t,n,s)||Va(e,t,r,n,s)||Ma(r)),h==="object"&&(l=!1),h==="boolean"&&!r[ba]&&(l=!1),r[wi]&&(l=!1),l}function co(e,t,r){if(!r)return t;const{errors:n,errorSchema:a}=t;let s=e.toErrorList(r),c=r;return Tr(a)||(c=Je(a,r,!0),s=[...n].concat(s)),{errorSchema:c,errors:s}}const nt=Symbol("no Value");function dn(e,t,r,n,a={},s){let c;if(Te(r,Se)){const o={};if(Te(n,Se)){const f=X(n,Se,{});Object.keys(f).forEach(v=>{Te(a,v)&&(o[v]=void 0)})}const l=Object.keys(X(r,Se,{})),h={};l.forEach(f=>{const v=X(a,f);let u=X(n,[Se,f],{}),y=X(r,[Se,f],{});Te(u,Oe)&&(u=Ue(e,u,t,v,s)),Te(y,Oe)&&(y=Ue(e,y,t,v,s));const g=X(u,"type"),_=X(y,"type");if(!g||g===_)if(Te(o,f)&&delete o[f],_==="object"||_==="array"&&Array.isArray(v)){const d=dn(e,t,y,u,v,s);(d!==void 0||_==="array")&&(h[f]=d)}else{const d=X(y,"default",nt),m=X(u,"default",nt);d!==nt&&d!==v&&(m===v?o[f]=d:X(y,"readOnly")===!0&&(o[f]=void 0));const i=X(y,"const",nt),p=X(u,"const",nt);i!==nt&&i!==v&&(o[f]=p===v?i:void 0)}}),c={...typeof a=="string"||Array.isArray(a)?void 0:a,...o,...h}}else if(X(n,"type")==="array"&&X(r,"type")==="array"&&Array.isArray(a)){let o=X(n,"items"),l=X(r,"items");if(typeof o=="object"&&typeof l=="object"&&!Array.isArray(o)&&!Array.isArray(l)){Te(o,Oe)&&(o=Ue(e,o,t,a,s)),Te(l,Oe)&&(l=Ue(e,l,t,a,s));const h=X(o,"type"),f=X(l,"type");if(!h||h===f){const v=X(r,"maxItems",-1);f==="object"?c=a.reduce((u,y)=>{const g=dn(e,t,l,o,y,s);return g!==void 0&&(v<0||u.length<v)&&u.push(g),u},[]):c=v>0&&a.length>v?a.slice(0,v):a}}else typeof o=="boolean"&&typeof l=="boolean"&&o===l&&(c=a)}return c}function br(e,t,r,n,a,s,c,o=[],l){if(Oe in t||wa in t||Ea in t){const v=Ue(e,t,s,c,l);if(o.findIndex(y=>de(y,v))===-1)return br(e,v,r,n,a,s,c,o.concat(v),l)}if(Xe in t&&!X(t,[Xe,Oe]))return br(e,X(t,Xe),r,n,a,s,c,o,l);const f={$id:a||r};if(Pt(t)==="object"&&Se in t)for(const v in t.properties){const u=X(t,[Se,v]),y=f[Be]+n+v;f[v]=br(e,bt(u)?u:{},r,n,y,s,X(c,[v]),o,l)}return f}function lo(e,t,r,n,a,s="root",c="_",o){return br(e,t,s,c,r,n,a,void 0,o)}function He(e,t,r,n,a,s=[],c){if(Oe in t||wa in t||Ea in t){const l=Ue(e,t,n,a,c);if(s.findIndex(f=>de(f,l))===-1)return He(e,l,r,n,a,s.concat(l),c)}let o={[_r]:r.replace(/^\./,"")};if(Ye in t||it in t){const l=Ye in t?t.oneOf:t.anyOf,h=ja(t),f=ka(e,n,a,l,0,h,c),v=l[f];o={...o,...He(e,v,r,n,a,s,c)}}if(Fn in t&&t[Fn]!==!1&&ye(o,pn,!0),Xe in t&&Array.isArray(a)){const{items:l,additionalItems:h}=t;Array.isArray(l)?a.forEach((f,v)=>{l[v]?o[v]=He(e,l[v],`${r}.${v}`,n,f,s,c):h?o[v]=He(e,h,`${r}.${v}`,n,f,s,c):console.warn(`Unable to generate path schema for "${r}.${v}". No schema defined for it`)}):a.forEach((f,v)=>{o[v]=He(e,l,`${r}.${v}`,n,f,s,c)})}else if(Se in t)for(const l in t.properties){const h=X(t,[Se,l]);o[l]=He(e,h,`${r}.${l}`,n,X(a,[l]),s,c)}return o}function uo(e,t,r="",n,a,s){return He(e,t,r,n,a,void 0,s)}class fo{constructor(t,r,n,a){this.rootSchema=r,this.validator=t,this.experimental_defaultFormStateBehavior=n,this.experimental_customMergeAllOf=a}getValidator(){return this.validator}doesSchemaUtilsDiffer(t,r,n={},a){return!t||!r?!1:this.validator!==t||!de(this.rootSchema,r)||!de(this.experimental_defaultFormStateBehavior,n)||this.experimental_customMergeAllOf!==a}getDefaultFormState(t,r,n=!1){return Ca(this.validator,t,r,this.rootSchema,n,this.experimental_defaultFormStateBehavior,this.experimental_customMergeAllOf)}getDisplayLabel(t,r,n){return oo(this.validator,t,r,this.rootSchema,n,this.experimental_customMergeAllOf)}getClosestMatchingOption(t,r,n,a){return ka(this.validator,this.rootSchema,t,r,n,a,this.experimental_customMergeAllOf)}getFirstMatchingOption(t,r,n){return Ei(this.validator,t,r,this.rootSchema,n)}getMatchingOption(t,r,n){return ji(this.validator,t,r,this.rootSchema,n)}isFilesArray(t,r){return Va(this.validator,t,r,this.rootSchema,this.experimental_customMergeAllOf)}isMultiSelect(t){return Sa(this.validator,t,this.rootSchema,this.experimental_customMergeAllOf)}isSelect(t){return ki(this.validator,t,this.rootSchema,this.experimental_customMergeAllOf)}mergeValidationData(t,r){return co(this.validator,t,r)}retrieveSchema(t,r){return Ue(this.validator,t,this.rootSchema,r,this.experimental_customMergeAllOf)}sanitizeDataForNewSchema(t,r,n){return dn(this.validator,this.rootSchema,t,r,n,this.experimental_customMergeAllOf)}toIdSchema(t,r,n,a="root",s="_"){return lo(this.validator,t,r,this.rootSchema,n,a,s,this.experimental_customMergeAllOf)}toPathSchema(t,r,n){return uo(this.validator,t,r,this.rootSchema,n,this.experimental_customMergeAllOf)}}function mo(e,t,r={},n){return new fo(e,t,r,n)}function ho(e){var t;if(e.indexOf("data:")===-1)throw new Error("File is invalid: URI must be a dataURI");const n=e.slice(5).split(";base64,");if(n.length!==2)throw new Error("File is invalid: dataURI must be base64");const[a,s]=n,[c,...o]=a.split(";"),l=c||"",h=decodeURI(((t=o.map(f=>f.split("=")).find(([f])=>f==="name"))===null||t===void 0?void 0:t[1])||"unknown");try{const f=atob(s),v=new Array(f.length);for(let y=0;y<f.length;y++)v[y]=f.charCodeAt(y);return{blob:new window.Blob([new Uint8Array(v)],{type:l}),name:h}}catch(f){throw new Error("File is invalid: "+f.message)}}function Ve(e,t){let r=String(e);for(;r.length<t;)r="0"+r;return r}function Ua(e,t){if(e<=0&&t<=0)e=new Date().getFullYear()+e,t=new Date().getFullYear()+t;else if(e<0||t<0)throw new Error(`Both start (${e}) and stop (${t}) must both be <= 0 or > 0, got one of each`);if(e>t)return Ua(t,e).reverse();const r=[];for(let n=e;n<=t;n++)r.push({value:n,label:Ve(n,2)});return r}function po(e,t){let r=e;if(Array.isArray(t)){const n=r.split(/(%\d)/);t.forEach((a,s)=>{const c=n.findIndex(o=>o===`%${s+1}`);c>=0&&(n[c]=a)}),r=n.join("")}return r}function yo(e,t){return po(e,t)}function me(e,t=[],r){if(Array.isArray(e))return e.map(s=>me(s,t)).filter(s=>s!==r);const n=e===""||e===null?-1:Number(e),a=t[n];return a?a.value:r}function Ba(e,t,r=[]){const n=me(e,r);return Array.isArray(t)?t.filter(a=>!de(a,n)):de(n,t)?void 0:t}function Ir(e,t){return Array.isArray(t)?t.some(r=>de(r,e)):de(t,e)}function $n(e,t=[],r=!1){const n=t.map((a,s)=>Ir(a.value,e)?String(s):void 0).filter(a=>typeof a<"u");return r?n:n[0]}function La(e,t,r=[]){const n=me(e,r);if(!Ta(n)){const a=r.findIndex(o=>n===o.value),s=r.map(({value:o})=>o);return t.slice(0,a).concat(n,t.slice(a)).sort((o,l)=>+(s.indexOf(o)>s.indexOf(l)))}return t}class go{constructor(t){this.errorSchema={},this.resetAllErrors(t)}get ErrorSchema(){return this.errorSchema}getOrCreateErrorBlock(t){let n=Array.isArray(t)&&t.length>0||typeof t=="string"?X(this.errorSchema,t):this.errorSchema;return!n&&t&&(n={},so(this.errorSchema,t,n,Object)),n}resetAllErrors(t){return this.errorSchema=t?Oa(t):{},this}addErrors(t,r){const n=this.getOrCreateErrorBlock(r);let a=X(n,be);return Array.isArray(a)||(a=[],n[be]=a),Array.isArray(t)?ye(n,be,[...new Set([...a,...t])]):ye(n,be,[...new Set([...a,t])]),this}setErrors(t,r){const n=this.getOrCreateErrorBlock(r),a=Array.isArray(t)?[...new Set([...t])]:[t];return ye(n,be,a),this}clearErrors(t){const r=this.getOrCreateErrorBlock(t);return ye(r,be,[]),this}}function vo(e,t,r=[1900,new Date().getFullYear()+2],n="YMD"){const{day:a,month:s,year:c,hour:o,minute:l,second:h}=e,f={type:"day",range:[1,31],value:a},v={type:"month",range:[1,12],value:s},u={type:"year",range:r,value:c},y=[];switch(n){case"MDY":y.push(v,f,u);break;case"DMY":y.push(f,v,u);break;case"YMD":default:y.push(u,v,f)}return t&&y.push({type:"hour",range:[0,23],value:o},{type:"minute",range:[0,59],value:l},{type:"second",range:[0,59],value:h}),y}function za(e){const t={};return e.multipleOf&&(t.step=e.multipleOf),(e.minimum||e.minimum===0)&&(t.min=e.minimum),(e.maximum||e.maximum===0)&&(t.max=e.maximum),t}function Ka(e,t,r={},n=!0){const a={type:t||"text",...za(e)};return r.inputType?a.type=r.inputType:t||(e.type==="number"?(a.type="number",n&&a.step===void 0&&(a.step="any")):e.type==="integer"&&(a.type="number",a.step===void 0&&(a.step=1))),r.autocomplete&&(a.autoComplete=r.autocomplete),r.accept&&(a.accept=r.accept),a}const Vn={props:{disabled:!1},submitText:"Submit",norender:!1};function Wa(e={}){const t=se(e);if(t&&t[Er]){const r=t[Er];return{...Vn,...r}}return Vn}function re(e,t,r={}){const{templates:n}=t;return e==="ButtonTemplates"?n[e]:r[e]||n[e]}const Lr={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",time:"TimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function _o(e){let t=X(e,"MergedWidget");if(!t){const r=e.defaultProps&&e.defaultProps.options||{};t=({options:n,...a})=>j.jsx(e,{options:{...r,...n},...a}),ye(e,"MergedWidget",t)}return t}function Ae(e,t,r={}){const n=Pt(e);if(typeof t=="function"||t&&Rn.isForwardRef(Z.createElement(t))||Rn.isMemo(t))return _o(t);if(typeof t!="string")throw new Error(`Unsupported widget definition: ${typeof t}`);if(t in r){const a=r[t];return Ae(e,a,r)}if(typeof n=="string"){if(!(n in Lr))throw new Error(`No widget for type '${n}'`);if(t in Lr[n]){const a=r[Lr[n][t]];return Ae(e,a,r)}}throw new Error(`No widget '${t}' for type '${n}'`)}function $o(e){let t=0;for(let r=0;r<e.length;r+=1){const n=e.charCodeAt(r);t=(t<<5)-t+n,t=t&t}return t.toString(16)}function bo(e){const t=new Set;return JSON.stringify(e,(r,n)=>(t.add(r),n)),$o(JSON.stringify(e,Array.from(t).sort()))}function So(e,t,r={}){try{return Ae(e,t,r),!0}catch(n){const a=n;if(a.message&&(a.message.startsWith("No widget")||a.message.startsWith("Unsupported widget")))return!1;throw n}}function Nt(e,t){return`${Ti(e)?e:e[Be]}__${t}`}function et(e){return Nt(e,"description")}function bn(e){return Nt(e,"error")}function Et(e){return Nt(e,"examples")}function Sn(e){return Nt(e,"help")}function wn(e){return Nt(e,"title")}function Ee(e,t=!1){const r=t?` ${Et(e)}`:"";return`${bn(e)} ${et(e)} ${Sn(e)}${r}`}function Nr(e,t){return`${e}-${t}`}function tt(e,t,r){return t?r:e}function wo(e){return e?new Date(e).toJSON():void 0}function Eo(e,t){if(!Array.isArray(t))return e;const r=f=>f.reduce((v,u)=>(v[u]=!0,v),{}),n=f=>f.length>1?`properties '${f.join("', '")}'`:`property '${f[0]}'`,a=r(e),s=t.filter(f=>f==="*"||a[f]),c=r(s),o=e.filter(f=>!c[f]),l=s.indexOf("*");if(l===-1){if(o.length)throw new Error(`uiSchema order list does not contain ${n(o)}`);return s}if(l!==s.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");const h=[...s];return h.splice(l,1,...o),h}function zr(e,t=!0){if(!e)return{year:-1,month:-1,day:-1,hour:t?-1:0,minute:t?-1:0,second:t?-1:0};const r=new Date(e);if(Number.isNaN(r.getTime()))throw new Error("Unable to parse date "+e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:t?r.getUTCHours():0,minute:t?r.getUTCMinutes():0,second:t?r.getUTCSeconds():0}}function St(e){if(e.const||e.enum&&e.enum.length===1&&e.enum[0]===!0)return!0;if(e.anyOf&&e.anyOf.length===1)return St(e.anyOf[0]);if(e.oneOf&&e.oneOf.length===1)return St(e.oneOf[0]);if(e.allOf){const t=r=>St(r);return e.allOf.some(t)}return!1}function jo(e,t,r){const{props:n,state:a}=e;return!de(n,t)||!de(a,r)}function Un(e,t=!0){const{year:r,month:n,day:a,hour:s=0,minute:c=0,second:o=0}=e,l=Date.UTC(r,n-1,a,s,c,o),h=new Date(l).toJSON();return t?h:h.slice(0,10)}function jt(e,t=[]){if(!e)return[];let r=[];return be in e&&(r=r.concat(e[be].map(n=>{const a=`.${t.join(".")}`;return{property:a,message:n,stack:`${a} ${n}`}}))),Object.keys(e).reduce((n,a)=>{if(a!==be){const s=e[a];wt(s)&&(n=n.concat(jt(s,[...t,a])))}return n},r)}function ko(e){const t=new go;return e.length&&e.forEach(r=>{const{property:n,message:a}=r,s=n==="."?[]:Da(n);s.length>0&&s[0]===""&&s.splice(0,1),a&&t.addErrors(a,s)}),t.ErrorSchema}function En(e){return Object.keys(e).reduce((t,r)=>{if(r==="addError")return t;{const n=e[r];return wt(n)?{...t,[r]:En(n)}:{...t,[r]:n}}},{})}function Co(e){if(!e)return"";const t=new Date(e),r=Ve(t.getFullYear(),4),n=Ve(t.getMonth()+1,2),a=Ve(t.getDate(),2),s=Ve(t.getHours(),2),c=Ve(t.getMinutes(),2),o=Ve(t.getSeconds(),2),l=Ve(t.getMilliseconds(),3);return`${r}-${n}-${a}T${s}:${c}:${o}.${l}`}function Sr(e,t){if(!t)return e;const{errors:r,errorSchema:n}=e;let a=jt(t),s=t;return Tr(n)||(s=Je(n,t,!0),a=[...r].concat(a)),{errorSchema:s,errors:a}}function Po(e){for(const t in e){const r=e,n=r[t];t===Oe&&typeof n=="string"&&n.startsWith("#")?r[t]=Pa+n:r[t]=jn(n)}return e}function To(e){for(let t=0;t<e.length;t++)e[t]=jn(e[t]);return e}function jn(e){return Array.isArray(e)?To([...e]):Ie(e)?Po({...e}):e}function Oo(e,t){const r=wt(e),n=wt(t);if(e===t||!r&&!n)return[];if(r&&!n)return lt(e);if(!r&&n)return lt(t);{const a=lt(Oi(e,(c,o)=>!de(c,X(t,o)))),s=ro(lt(t),lt(e));return[...a,...s]}}function fn(){return Di()}function Bn(e){return Array.isArray(e)?e.map(t=>({key:fn(),item:t})):[]}function ut(e){return Array.isArray(e)?e.map(t=>t.item):[]}class Io extends Z.Component{constructor(r){super(r);ue(this,"_getNewFormDataRow",()=>{const{schema:r,registry:n}=this.props,{schemaUtils:a}=n;let s=r.items;return xn(r)&&io(r)&&(s=r.additionalItems),a.getDefaultFormState(s)});ue(this,"onAddClick",r=>{this._handleAddClick(r)});ue(this,"onAddIndexClick",r=>n=>{this._handleAddClick(n,r)});ue(this,"onCopyIndexClick",r=>n=>{n&&n.preventDefault();const{onChange:a,errorSchema:s}=this.props,{keyedFormData:c}=this.state;let o;if(s){o={};for(const f in s){const v=parseInt(f);v<=r?ye(o,[v],s[f]):v>r&&ye(o,[v+1],s[f])}}const l={key:fn(),item:Oa(c[r].item)},h=[...c];r!==void 0?h.splice(r+1,0,l):h.push(l),this.setState({keyedFormData:h,updatedKeyedFormData:!0},()=>a(ut(h),o))});ue(this,"onDropIndexClick",r=>n=>{n&&n.preventDefault();const{onChange:a,errorSchema:s}=this.props,{keyedFormData:c}=this.state;let o;if(s){o={};for(const h in s){const f=parseInt(h);f<r?ye(o,[f],s[h]):f>r&&ye(o,[f-1],s[h])}}const l=c.filter((h,f)=>f!==r);this.setState({keyedFormData:l,updatedKeyedFormData:!0},()=>a(ut(l),o))});ue(this,"onReorderClick",(r,n)=>a=>{a&&(a.preventDefault(),a.currentTarget.blur());const{onChange:s,errorSchema:c}=this.props;let o;if(c){o={};for(const v in c){const u=parseInt(v);u==r?ye(o,[n],c[r]):u==n?ye(o,[r],c[n]):ye(o,[v],c[u])}}const{keyedFormData:l}=this.state;function h(){const v=l.slice();return v.splice(r,1),v.splice(n,0,l[r]),v}const f=h();this.setState({keyedFormData:f},()=>s(ut(f),o))});ue(this,"onChangeForIndex",r=>(n,a,s)=>{const{formData:c,onChange:o,errorSchema:l}=this.props,f=(Array.isArray(c)?c:[]).map((v,u)=>r===u?typeof n>"u"?null:n:v);o(f,l&&l&&{...l,[r]:a},s)});ue(this,"onSelectChange",r=>{const{onChange:n,idSchema:a}=this.props;n(r,void 0,a&&a.$id)});const{formData:n=[]}=r,a=Bn(n);this.state={keyedFormData:a,updatedKeyedFormData:!1}}static getDerivedStateFromProps(r,n){if(n.updatedKeyedFormData)return{updatedKeyedFormData:!1};const a=Array.isArray(r.formData)?r.formData:[],s=n.keyedFormData||[];return{keyedFormData:a.length===s.length?s.map((o,l)=>({key:o.key,item:a[l]})):Bn(a)}}get itemTitle(){const{schema:r,registry:n}=this.props,{translateString:a}=n;return X(r,[Xe,"title"],X(r,[Xe,"description"],a(oe.ArrayItemTitle)))}isItemRequired(r){return Array.isArray(r.type)?!r.type.includes("null"):r.type!=="null"}canAddItem(r){const{schema:n,uiSchema:a,registry:s}=this.props;let{addable:c}=se(a,s.globalUiOptions);return c!==!1&&(n.maxItems!==void 0?c=r.length<n.maxItems:c=!0),c}_handleAddClick(r,n){r&&r.preventDefault();const{onChange:a,errorSchema:s}=this.props,{keyedFormData:c}=this.state;let o;if(s){o={};for(const f in s){const v=parseInt(f);n===void 0||v<n?ye(o,[v],s[f]):v>=n&&ye(o,[v+1],s[f])}}const l={key:fn(),item:this._getNewFormDataRow()},h=[...c];n!==void 0?h.splice(n,0,l):h.push(l),this.setState({keyedFormData:h,updatedKeyedFormData:!0},()=>a(ut(h),o))}render(){const{schema:r,uiSchema:n,idSchema:a,registry:s}=this.props,{schemaUtils:c,translateString:o}=s;if(!(Xe in r)){const l=se(n),h=re("UnsupportedFieldTemplate",s,l);return j.jsx(h,{schema:r,idSchema:a,reason:o(oe.MissingItems),registry:s})}return c.isMultiSelect(r)?this.renderMultiSelect():Ma(n)?this.renderCustomWidget():xn(r)?this.renderFixedArray():c.isFilesArray(r,n)?this.renderFiles():this.renderNormalArray()}renderNormalArray(){const{schema:r,uiSchema:n={},errorSchema:a,idSchema:s,name:c,title:o,disabled:l=!1,readonly:h=!1,autofocus:f=!1,required:v=!1,registry:u,onBlur:y,onFocus:g,idPrefix:_,idSeparator:d="_",rawErrors:m}=this.props,{keyedFormData:i}=this.state,p=r.title||o||c,{schemaUtils:$,formContext:b}=u,S=se(n),w=Ie(r.items)?r.items:{},C=$.retrieveSchema(w),T=ut(this.state.keyedFormData),F=this.canAddItem(T),R={canAdd:F,items:i.map((V,B)=>{const{key:z,item:L}=V,Y=L,H=$.retrieveSchema(w,Y),ae=a?a[B]:void 0,A=s.$id+d+B,P=$.toIdSchema(H,A,Y,_,d);return this.renderArrayFieldItem({key:z,index:B,name:c&&`${c}-${B}`,title:p?`${p}-${B+1}`:void 0,canAdd:F,canMoveUp:B>0,canMoveDown:B<T.length-1,itemSchema:H,itemIdSchema:P,itemErrorSchema:ae,itemData:Y,itemUiSchema:n.items,autofocus:f&&B===0,onBlur:y,onFocus:g,rawErrors:m,totalItems:i.length})}),className:`field field-array field-array-of-${C.type}`,disabled:l,idSchema:s,uiSchema:n,onAddClick:this.onAddClick,readonly:h,required:v,schema:r,title:p,formContext:b,formData:T,rawErrors:m,registry:u},M=re("ArrayFieldTemplate",u,S);return j.jsx(M,{...R})}renderCustomWidget(){const{schema:r,idSchema:n,uiSchema:a,disabled:s=!1,readonly:c=!1,autofocus:o=!1,required:l=!1,hideError:h,placeholder:f,onBlur:v,onFocus:u,formData:y=[],registry:g,rawErrors:_,name:d}=this.props,{widgets:m,formContext:i,globalUiOptions:p,schemaUtils:$}=g,{widget:b,title:S,...w}=se(a,p),C=Ae(r,b,m),T=S??r.title??d,F=$.getDisplayLabel(r,a,p);return j.jsx(C,{id:n.$id,name:d,multiple:!0,onChange:this.onSelectChange,onBlur:v,onFocus:u,options:w,schema:r,uiSchema:a,registry:g,value:y,disabled:s,readonly:c,hideError:h,required:l,label:T,hideLabel:!F,placeholder:f,formContext:i,autofocus:o,rawErrors:_})}renderMultiSelect(){const{schema:r,idSchema:n,uiSchema:a,formData:s=[],disabled:c=!1,readonly:o=!1,autofocus:l=!1,required:h=!1,placeholder:f,onBlur:v,onFocus:u,registry:y,rawErrors:g,name:_}=this.props,{widgets:d,schemaUtils:m,formContext:i,globalUiOptions:p}=y,$=m.retrieveSchema(r.items,s),b=jr($,a),{widget:S="select",title:w,...C}=se(a,p),T=Ae(r,S,d),F=w??r.title??_,R=m.getDisplayLabel(r,a,p);return j.jsx(T,{id:n.$id,name:_,multiple:!0,onChange:this.onSelectChange,onBlur:v,onFocus:u,options:{...C,enumOptions:b},schema:r,uiSchema:a,registry:y,value:s,disabled:c,readonly:o,required:h,label:F,hideLabel:!R,placeholder:f,formContext:i,autofocus:l,rawErrors:g})}renderFiles(){const{schema:r,uiSchema:n,idSchema:a,name:s,disabled:c=!1,readonly:o=!1,autofocus:l=!1,required:h=!1,onBlur:f,onFocus:v,registry:u,formData:y=[],rawErrors:g}=this.props,{widgets:_,formContext:d,globalUiOptions:m,schemaUtils:i}=u,{widget:p="files",title:$,...b}=se(n,m),S=Ae(r,p,_),w=$??r.title??s,C=i.getDisplayLabel(r,n,m);return j.jsx(S,{options:b,id:a.$id,name:s,multiple:!0,onChange:this.onSelectChange,onBlur:f,onFocus:v,schema:r,uiSchema:n,value:y,disabled:c,readonly:o,required:h,registry:u,formContext:d,autofocus:l,rawErrors:g,label:w,hideLabel:!C})}renderFixedArray(){const{schema:r,uiSchema:n={},formData:a=[],errorSchema:s,idPrefix:c,idSeparator:o="_",idSchema:l,name:h,title:f,disabled:v=!1,readonly:u=!1,autofocus:y=!1,required:g=!1,registry:_,onBlur:d,onFocus:m,rawErrors:i}=this.props,{keyedFormData:p}=this.state;let{formData:$=[]}=this.props;const b=r.title||f||h,S=se(n),{schemaUtils:w,formContext:C}=_,F=(Ie(r.items)?r.items:[]).map((z,L)=>w.retrieveSchema(z,a[L])),R=Ie(r.additionalItems)?w.retrieveSchema(r.additionalItems,a):null;(!$||$.length<F.length)&&($=$||[],$=$.concat(new Array(F.length-$.length)));const M=this.canAddItem($)&&!!R,V={canAdd:M,className:"field field-array field-array-fixed-items",disabled:v,idSchema:l,formData:a,items:p.map((z,L)=>{const{key:Y,item:H}=z,ae=H,A=L>=F.length,P=(A&&Ie(r.additionalItems)?w.retrieveSchema(r.additionalItems,ae):F[L])||{},D=l.$id+o+L,I=w.toIdSchema(P,D,ae,c,o),E=A?n.additionalItems||{}:Array.isArray(n.items)?n.items[L]:n.items||{},k=s?s[L]:void 0;return this.renderArrayFieldItem({key:Y,index:L,name:h&&`${h}-${L}`,title:b?`${b}-${L+1}`:void 0,canAdd:M,canRemove:A,canMoveUp:L>=F.length+1,canMoveDown:A&&L<$.length-1,itemSchema:P,itemData:ae,itemUiSchema:E,itemIdSchema:I,itemErrorSchema:k,autofocus:y&&L===0,onBlur:d,onFocus:m,rawErrors:i,totalItems:p.length})}),onAddClick:this.onAddClick,readonly:u,required:g,registry:_,schema:r,uiSchema:n,title:b,formContext:C,errorSchema:s,rawErrors:i},B=re("ArrayFieldTemplate",_,S);return j.jsx(B,{...V})}renderArrayFieldItem(r){const{key:n,index:a,name:s,canAdd:c,canRemove:o=!0,canMoveUp:l,canMoveDown:h,itemSchema:f,itemData:v,itemUiSchema:u,itemIdSchema:y,itemErrorSchema:g,autofocus:_,onBlur:d,onFocus:m,rawErrors:i,totalItems:p,title:$}=r,{disabled:b,hideError:S,idPrefix:w,idSeparator:C,readonly:T,uiSchema:F,registry:R,formContext:M}=this.props,{fields:{ArraySchemaField:V,SchemaField:B},globalUiOptions:z}=R,L=V||B,{orderable:Y=!0,removable:H=!0,copyable:ae=!1}=se(F,z),A={moveUp:Y&&l,moveDown:Y&&h,copy:ae&&c,remove:H&&o,toolbar:!1};return A.toolbar=Object.keys(A).some(P=>A[P]),{children:j.jsx(L,{name:s,title:$,index:a,schema:f,uiSchema:u,formData:v,formContext:M,errorSchema:g,idPrefix:w,idSeparator:C,idSchema:y,required:this.isItemRequired(f),onChange:this.onChangeForIndex(a),onBlur:d,onFocus:m,registry:R,disabled:b,readonly:T,hideError:S,autofocus:_,rawErrors:i}),className:"array-item",disabled:b,canAdd:c,hasCopy:A.copy,hasToolbar:A.toolbar,hasMoveUp:A.moveUp,hasMoveDown:A.moveDown,hasRemove:A.remove,index:a,totalItems:p,key:n,onAddIndexClick:this.onAddIndexClick,onCopyIndexClick:this.onCopyIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:T,registry:R,schema:f,uiSchema:u}}}function No(e){const{schema:t,name:r,uiSchema:n,idSchema:a,formData:s,registry:c,required:o,disabled:l,readonly:h,hideError:f,autofocus:v,title:u,onChange:y,onFocus:g,onBlur:_,rawErrors:d}=e,{title:m}=t,{widgets:i,formContext:p,translateString:$,globalUiOptions:b}=c,{widget:S="checkbox",title:w,label:C=!0,...T}=se(n,b),F=Ae(t,S,i),R=$(oe.YesLabel),M=$(oe.NoLabel);let V;const B=w??m??u??r;if(Array.isArray(t.oneOf))V=jr({oneOf:t.oneOf.map(z=>{if(Ie(z))return{...z,title:z.title||(z.const===!0?R:M)}}).filter(z=>z)},n);else{const z=t,L=t.enum??[!0,!1];!z.enumNames&&L.length===2&&L.every(Y=>typeof Y=="boolean")?V=[{value:L[0],label:L[0]?R:M},{value:L[1],label:L[1]?R:M}]:V=jr({enum:L,enumNames:z.enumNames},n)}return j.jsx(F,{options:{...T,enumOptions:V},schema:t,uiSchema:n,id:a.$id,name:r,onChange:y,onFocus:g,onBlur:_,label:B,hideLabel:!C,value:s,required:o,disabled:l,readonly:h,hideError:f,registry:c,formContext:p,autofocus:v,rawErrors:d})}class Ln extends Z.Component{constructor(r){super(r);ue(this,"onOptionChange",r=>{const{selectedOption:n,retrievedOptions:a}=this.state,{formData:s,onChange:c,registry:o}=this.props,{schemaUtils:l}=o,h=r!==void 0?parseInt(r,10):-1;if(h===n)return;const f=h>=0?a[h]:void 0,v=n>=0?a[n]:void 0;let u=l.sanitizeDataForNewSchema(f,v,s);f&&(u=l.getDefaultFormState(f,u,"excludeObjectChildren")),this.setState({selectedOption:h},()=>{c(u,void 0,this.getFieldId())})});const{formData:n,options:a,registry:{schemaUtils:s}}=this.props,c=a.map(o=>s.retrieveSchema(o,n));this.state={retrievedOptions:c,selectedOption:this.getMatchingOption(0,n,c)}}componentDidUpdate(r,n){const{formData:a,options:s,idSchema:c}=this.props,{selectedOption:o}=this.state;let l=this.state;if(!de(r.options,s)){const{registry:{schemaUtils:h}}=this.props,f=s.map(v=>h.retrieveSchema(v,a));l={selectedOption:o,retrievedOptions:f}}if(!de(a,r.formData)&&c.$id===r.idSchema.$id){const{retrievedOptions:h}=l,f=this.getMatchingOption(o,a,h);n&&f!==o&&(l={selectedOption:f,retrievedOptions:h})}l!==this.state&&this.setState(l)}getMatchingOption(r,n,a){const{schema:s,registry:{schemaUtils:c}}=this.props,o=ja(s);return c.getClosestMatchingOption(n,a,r,o)}getFieldId(){const{idSchema:r,schema:n}=this.props;return`${r.$id}${n.oneOf?"__oneof_select":"__anyof_select"}`}render(){const{name:r,disabled:n=!1,errorSchema:a={},formContext:s,onBlur:c,onFocus:o,readonly:l,registry:h,schema:f,uiSchema:v}=this.props,{widgets:u,fields:y,translateString:g,globalUiOptions:_,schemaUtils:d}=h,{SchemaField:m}=y,{selectedOption:i,retrievedOptions:p}=this.state,{widget:$="select",placeholder:b,autofocus:S,autocomplete:w,title:C=f.title,...T}=se(v,_),F=Ae({type:"number"},$,u),R=X(a,be,[]),M=un(a,[be]),V=d.getDisplayLabel(f,v,_),B=i>=0&&p[i]||null;let z;if(B){const{required:P}=f;z=P?Ci({required:P},B):B}let L=[];Ye in f&&v&&Ye in v?Array.isArray(v[Ye])?L=v[Ye]:console.warn(`uiSchema.oneOf is not an array for "${C||r}"`):it in f&&v&&it in v&&(Array.isArray(v[it])?L=v[it]:console.warn(`uiSchema.anyOf is not an array for "${C||r}"`));let Y=v;i>=0&&L.length>i&&(Y=L[i]);const H=C?oe.TitleOptionPrefix:oe.OptionPrefix,ae=C?[C]:[],A=p.map((P,D)=>{const{title:I=P.title}=se(L[D]);return{label:I||g(H,ae.concat(String(D+1))),value:D}});return j.jsxs("div",{className:"panel panel-default panel-body",children:[j.jsx("div",{className:"form-group",children:j.jsx(F,{id:this.getFieldId(),name:`${r}${f.oneOf?"__oneof_select":"__anyof_select"}`,schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:c,onFocus:o,disabled:n||Tr(A),multiple:!1,rawErrors:R,errorSchema:M,value:i>=0?i:void 0,options:{enumOptions:A,...T},registry:h,formContext:s,placeholder:b,autocomplete:w,autofocus:S,label:C??r,hideLabel:!V,readonly:l})}),z&&z.type!=="null"&&j.jsx(m,{...this.props,schema:z,uiSchema:Y})]})}}const Fo=/\.([0-9]*0)*$/,Ro=/[0.]0*$/;function xo(e){const{registry:t,onChange:r,formData:n,value:a}=e,[s,c]=Z.useState(a),{StringField:o}=t.fields;let l=n;const h=Z.useCallback((f,v,u)=>{c(f),`${f}`.charAt(0)==="."&&(f=`0${f}`);const y=typeof f=="string"&&f.match(Fo)?Mn(f.replace(Ro,"")):Mn(f);r(y,v,u)},[r]);if(typeof s=="string"&&typeof l=="number"){const f=new RegExp(`^(${String(l).replace(".","\\.")})?\\.?0*$`);s.match(f)&&(l=s)}return j.jsx(o,{...e,formData:l,onChange:h})}function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ge.apply(this,arguments)}const Ao=["children","options"],J={blockQuote:"0",breakLine:"1",breakThematic:"2",codeBlock:"3",codeFenced:"4",codeInline:"5",footnote:"6",footnoteReference:"7",gfmTask:"8",heading:"9",headingSetext:"10",htmlBlock:"11",htmlComment:"12",htmlSelfClosing:"13",image:"14",link:"15",linkAngleBraceStyleDetector:"16",linkBareUrlDetector:"17",linkMailtoDetector:"18",newlineCoalescer:"19",orderedList:"20",paragraph:"21",ref:"22",refImage:"23",refLink:"24",table:"25",text:"27",textBolded:"28",textEmphasized:"29",textEscaped:"30",textMarked:"31",textStrikethroughed:"32",unorderedList:"33"};var zn;(function(e){e[e.MAX=0]="MAX",e[e.HIGH=1]="HIGH",e[e.MED=2]="MED",e[e.LOW=3]="LOW",e[e.MIN=4]="MIN"})(zn||(zn={}));const Kn=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((e,t)=>(e[t.toLowerCase()]=t,e),{class:"className",for:"htmlFor"}),Wn={amp:"&",apos:"'",gt:">",lt:"<",nbsp:" ",quot:"“"},Do=["style","script"],qo=["src","href","data","formAction","srcDoc","action"],Mo=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,Vo=/mailto:/i,Uo=/\n{2,}$/,Ha=/^(\s*>[\s\S]*?)(?=\n\n|$)/,Bo=/^ *> ?/gm,Lo=/^(?:\[!([^\]]*)\]\n)?([\s\S]*)/,zo=/^ {2,}\n/,Ko=/^(?:( *[-*_])){3,} *(?:\n *)+\n/,Ga=/^(?: {1,3})?(`{3,}|~{3,}) *(\S+)? *([^\n]*?)?\n([\s\S]*?)(?:\1\n?|$)/,Ja=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,Wo=/^(`+)((?:\\`|(?!\1)`|[^`])+)\1/,Ho=/^(?:\n *)*\n/,Go=/\r\n?/g,Jo=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,Yo=/^\[\^([^\]]+)]/,Xo=/\f/g,Zo=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,Qo=/^\s*?\[(x|\s)\]/,Ya=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,Xa=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,Za=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,mn=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,ec=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,Qa=/^<!--[\s\S]*?(?:-->)/,tc=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,hn=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,rc=/^\{.*\}$/,nc=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,sc=/^<([^ >]+@[^ >]+)>/,ac=/^<([^ >]+:\/[^ >]+)>/,ic=/-([a-z])?/gi,ei=/^(\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,oc=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,cc=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,lc=/^\[([^\]]*)\] ?\[([^\]]*)\]/,uc=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,dc=/\t/g,fc=/(^ *\||\| *$)/g,mc=/^ *:-+: *$/,hc=/^ *:-+ *$/,pc=/^ *-+: *$/,Fr="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|\\\\\\1|[\\s\\S])+?)",yc=new RegExp(`^([*_])\\1${Fr}\\1\\1(?!\\1)`),gc=new RegExp(`^([*_])${Fr}\\1(?!\\1)`),vc=new RegExp(`^(==)${Fr}\\1`),_c=new RegExp(`^(~~)${Fr}\\1`),$c=/^\\([^0-9A-Za-z\s])/,Hn=/\\([^0-9A-Za-z\s])/g,bc=/^([\s\S](?:(?!  |[0-9]\.)[^=*_~\-\n<`\\\[!])*)/,Sc=/^\n+/,wc=/^([ \t]*)/,Ec=/\\([^\\])/g,jc=/(?:^|\n)( *)$/,kn="(?:\\d+\\.)",Cn="(?:[*+-])";function ti(e){return"( *)("+(e===1?kn:Cn)+") +"}const ri=ti(1),ni=ti(2);function si(e){return new RegExp("^"+(e===1?ri:ni))}const kc=si(1),Cc=si(2);function ai(e){return new RegExp("^"+(e===1?ri:ni)+"[^\\n]*(?:\\n(?!\\1"+(e===1?kn:Cn)+" )[^\\n]*)*(\\n|$)","gm")}const Pc=ai(1),Tc=ai(2);function ii(e){const t=e===1?kn:Cn;return new RegExp("^( *)("+t+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+t+" (?!"+t+" ))\\n*|\\s*\\n*$)")}const oi=ii(1),ci=ii(2);function Gn(e,t){const r=t===1,n=r?oi:ci,a=r?Pc:Tc,s=r?kc:Cc;return{match:ot(function(c,o){const l=jc.exec(o.prevCapture);return l&&(o.list||!o.inline&&!o.simple)?n.exec(c=l[1]+c):null}),order:1,parse(c,o,l){const h=r?+c[2]:void 0,f=c[0].replace(Uo,`
`).match(a);let v=!1;return{items:f.map(function(u,y){const g=s.exec(u)[0].length,_=new RegExp("^ {1,"+g+"}","gm"),d=u.replace(_,"").replace(s,""),m=y===f.length-1,i=d.indexOf(`

`)!==-1||m&&v;v=i;const p=l.inline,$=l.list;let b;l.list=!0,i?(l.inline=!1,b=kt(d)+`

`):(l.inline=!0,b=kt(d));const S=o(b,l);return l.inline=p,l.list=$,S}),ordered:r,start:h}},render:(c,o,l)=>e(c.ordered?"ol":"ul",{key:l.key,start:c.type===J.orderedList?c.start:void 0},c.items.map(function(h,f){return e("li",{key:f},o(h,l))}))}}const Oc=new RegExp(`^\\[((?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['"]([\\s\\S]*?)['"])?\\s*\\)`),Ic=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,li=[Ha,Ga,Ja,Ya,Za,Xa,ei,oi,ci],Nc=[...li,/^[^\n]+(?:  \n|\n{2,})/,mn,Qa,hn];function kt(e){let t=e.length;for(;t>0&&e[t-1]<=" ";)t--;return e.slice(0,t)}function dt(e){return e.replace(/[ÀÁÂÃÄÅàáâãäåæÆ]/g,"a").replace(/[çÇ]/g,"c").replace(/[ðÐ]/g,"d").replace(/[ÈÉÊËéèêë]/g,"e").replace(/[ÏïÎîÍíÌì]/g,"i").replace(/[Ññ]/g,"n").replace(/[øØœŒÕõÔôÓóÒò]/g,"o").replace(/[ÜüÛûÚúÙù]/g,"u").replace(/[ŸÿÝý]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function Fc(e){return pc.test(e)?"right":mc.test(e)?"center":hc.test(e)?"left":null}function Jn(e,t,r,n){const a=r.inTable;r.inTable=!0;let s=[[]],c="";function o(){if(!c)return;const l=s[s.length-1];l.push.apply(l,t(c,r)),c=""}return e.trim().split(/(`[^`]*`|\\\||\|)/).filter(Boolean).forEach((l,h,f)=>{l.trim()==="|"&&(o(),n)?h!==0&&h!==f.length-1&&s.push([]):c+=l}),o(),r.inTable=a,s}function Rc(e,t,r){r.inline=!0;const n=e[2]?e[2].replace(fc,"").split("|").map(Fc):[],a=e[3]?function(c,o,l){return c.trim().split(`
`).map(function(h){return Jn(h,o,l,!0)})}(e[3],t,r):[],s=Jn(e[1],t,r,!!a.length);return r.inline=!1,a.length?{align:n,cells:a,header:s,type:J.table}:{children:s,type:J.paragraph}}function Yn(e,t){return e.align[t]==null?{}:{textAlign:e.align[t]}}function ot(e){return e.inline=1,e}function De(e){return ot(function(t,r){return r.inline?e.exec(t):null})}function qe(e){return ot(function(t,r){return r.inline||r.simple?e.exec(t):null})}function Ne(e){return function(t,r){return r.inline||r.simple?null:e.exec(t)}}function ft(e){return ot(function(t){return e.exec(t)})}function xc(e,t){if(t.inline||t.simple)return null;let r="";e.split(`
`).every(a=>(a+=`
`,!li.some(s=>s.test(a))&&(r+=a,!!a.trim())));const n=kt(r);return n==""?null:[r,,n]}const Ac=/(javascript|vbscript|data(?!:image)):/i;function Dc(e){try{const t=decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"");if(Ac.test(t))return null}catch{return null}return e}function Xn(e){return e.replace(Ec,"$1")}function wr(e,t,r){const n=r.inline||!1,a=r.simple||!1;r.inline=!0,r.simple=!0;const s=e(t,r);return r.inline=n,r.simple=a,s}function qc(e,t,r){const n=r.inline||!1,a=r.simple||!1;r.inline=!1,r.simple=!0;const s=e(t,r);return r.inline=n,r.simple=a,s}function Mc(e,t,r){const n=r.inline||!1;r.inline=!1;const a=e(t,r);return r.inline=n,a}const Kr=(e,t,r)=>({children:wr(t,e[2],r)});function Wr(){return{}}function Hr(){return null}function Vc(...e){return e.filter(Boolean).join(" ")}function Gr(e,t,r){let n=e;const a=t.split(".");for(;a.length&&(n=n[a[0]],n!==void 0);)a.shift();return n||r}function Uc(e="",t={}){function r(u,y,...g){const _=Gr(t.overrides,`${u}.props`,{});return t.createElement(function(d,m){const i=Gr(m,d);return i?typeof i=="function"||typeof i=="object"&&"render"in i?i:Gr(m,`${d}.component`,d):d}(u,t.overrides),Ge({},y,_,{className:Vc(y==null?void 0:y.className,_.className)||void 0}),...g)}function n(u){u=u.replace(Zo,"");let y=!1;t.forceInline?y=!0:t.forceBlock||(y=uc.test(u)===!1);const g=h(l(y?u:`${kt(u).replace(Sc,"")}

`,{inline:y}));for(;typeof g[g.length-1]=="string"&&!g[g.length-1].trim();)g.pop();if(t.wrapper===null)return g;const _=t.wrapper||(y?"span":"div");let d;if(g.length>1||t.forceWrapper)d=g;else{if(g.length===1)return d=g[0],typeof d=="string"?r("span",{key:"outer"},d):d;d=null}return t.createElement(_,{key:"outer"},d)}function a(u,y){const g=y.match(Mo);return g?g.reduce(function(_,d){const m=d.indexOf("=");if(m!==-1){const i=function(S){return S.indexOf("-")!==-1&&S.match(tc)===null&&(S=S.replace(ic,function(w,C){return C.toUpperCase()})),S}(d.slice(0,m)).trim(),p=function(S){const w=S[0];return(w==='"'||w==="'")&&S.length>=2&&S[S.length-1]===w?S.slice(1,-1):S}(d.slice(m+1).trim()),$=Kn[i]||i;if($==="ref")return _;const b=_[$]=function(S,w,C,T){return w==="style"?function(F){const R=[];let M="",V=!1,B=!1,z="";if(!F)return R;for(let Y=0;Y<F.length;Y++){const H=F[Y];if(H!=='"'&&H!=="'"||V||(B?H===z&&(B=!1,z=""):(B=!0,z=H)),H==="("&&M.endsWith("url")?V=!0:H===")"&&V&&(V=!1),H!==";"||B||V)M+=H;else{const ae=M.trim();if(ae){const A=ae.indexOf(":");if(A>0){const P=ae.slice(0,A).trim(),D=ae.slice(A+1).trim();R.push([P,D])}}M=""}}const L=M.trim();if(L){const Y=L.indexOf(":");if(Y>0){const H=L.slice(0,Y).trim(),ae=L.slice(Y+1).trim();R.push([H,ae])}}return R}(C).reduce(function(F,[R,M]){return F[R.replace(/(-[a-z])/g,V=>V[1].toUpperCase())]=T(M,S,R),F},{}):qo.indexOf(w)!==-1?T(C,S,w):(C.match(rc)&&(C=C.slice(1,C.length-1)),C==="true"||C!=="false"&&C)}(u,i,p,t.sanitizer);typeof b=="string"&&(mn.test(b)||hn.test(b))&&(_[$]=n(b.trim()))}else d!=="style"&&(_[Kn[d]||d]=!0);return _},{}):null}t.overrides=t.overrides||{},t.sanitizer=t.sanitizer||Dc,t.slugify=t.slugify||dt,t.namedCodesToUnicode=t.namedCodesToUnicode?Ge({},Wn,t.namedCodesToUnicode):Wn,t.createElement=t.createElement||Z.createElement;const s=[],c={},o={[J.blockQuote]:{match:Ne(Ha),order:1,parse(u,y,g){const[,_,d]=u[0].replace(Bo,"").match(Lo);return{alert:_,children:y(d,g)}},render(u,y,g){const _={key:g.key};return u.alert&&(_.className="markdown-alert-"+t.slugify(u.alert.toLowerCase(),dt),u.children.unshift({attrs:{},children:[{type:J.text,text:u.alert}],noInnerParse:!0,type:J.htmlBlock,tag:"header"})),r("blockquote",_,y(u.children,g))}},[J.breakLine]:{match:ft(zo),order:1,parse:Wr,render:(u,y,g)=>r("br",{key:g.key})},[J.breakThematic]:{match:Ne(Ko),order:1,parse:Wr,render:(u,y,g)=>r("hr",{key:g.key})},[J.codeBlock]:{match:Ne(Ja),order:0,parse:u=>({lang:void 0,text:kt(u[0].replace(/^ {4}/gm,"")).replace(Hn,"$1")}),render:(u,y,g)=>r("pre",{key:g.key},r("code",Ge({},u.attrs,{className:u.lang?`lang-${u.lang}`:""}),u.text))},[J.codeFenced]:{match:Ne(Ga),order:0,parse:u=>({attrs:a("code",u[3]||""),lang:u[2]||void 0,text:u[4],type:J.codeBlock})},[J.codeInline]:{match:qe(Wo),order:3,parse:u=>({text:u[2].replace(Hn,"$1")}),render:(u,y,g)=>r("code",{key:g.key},u.text)},[J.footnote]:{match:Ne(Jo),order:0,parse:u=>(s.push({footnote:u[2],identifier:u[1]}),{}),render:Hr},[J.footnoteReference]:{match:De(Yo),order:1,parse:u=>({target:`#${t.slugify(u[1],dt)}`,text:u[1]}),render:(u,y,g)=>r("a",{key:g.key,href:t.sanitizer(u.target,"a","href")},r("sup",{key:g.key},u.text))},[J.gfmTask]:{match:De(Qo),order:1,parse:u=>({completed:u[1].toLowerCase()==="x"}),render:(u,y,g)=>r("input",{checked:u.completed,key:g.key,readOnly:!0,type:"checkbox"})},[J.heading]:{match:Ne(t.enforceAtxHeadings?Xa:Ya),order:1,parse:(u,y,g)=>({children:wr(y,u[2],g),id:t.slugify(u[2],dt),level:u[1].length}),render:(u,y,g)=>r(`h${u.level}`,{id:u.id,key:g.key},y(u.children,g))},[J.headingSetext]:{match:Ne(Za),order:0,parse:(u,y,g)=>({children:wr(y,u[1],g),level:u[2]==="="?1:2,type:J.heading})},[J.htmlBlock]:{match:ft(mn),order:1,parse(u,y,g){const[,_]=u[3].match(wc),d=new RegExp(`^${_}`,"gm"),m=u[3].replace(d,""),i=(p=m,Nc.some(C=>C.test(p))?Mc:wr);var p;const $=u[1].toLowerCase(),b=Do.indexOf($)!==-1,S=(b?$:u[1]).trim(),w={attrs:a(S,u[2]),noInnerParse:b,tag:S};return g.inAnchor=g.inAnchor||$==="a",b?w.text=u[3]:w.children=i(y,m,g),g.inAnchor=!1,w},render:(u,y,g)=>r(u.tag,Ge({key:g.key},u.attrs),u.text||(u.children?y(u.children,g):""))},[J.htmlSelfClosing]:{match:ft(hn),order:1,parse(u){const y=u[1].trim();return{attrs:a(y,u[2]||""),tag:y}},render:(u,y,g)=>r(u.tag,Ge({},u.attrs,{key:g.key}))},[J.htmlComment]:{match:ft(Qa),order:1,parse:()=>({}),render:Hr},[J.image]:{match:qe(Ic),order:1,parse:u=>({alt:u[1],target:Xn(u[2]),title:u[3]}),render:(u,y,g)=>r("img",{key:g.key,alt:u.alt||void 0,title:u.title||void 0,src:t.sanitizer(u.target,"img","src")})},[J.link]:{match:De(Oc),order:3,parse:(u,y,g)=>({children:qc(y,u[1],g),target:Xn(u[2]),title:u[3]}),render:(u,y,g)=>r("a",{key:g.key,href:t.sanitizer(u.target,"a","href"),title:u.title},y(u.children,g))},[J.linkAngleBraceStyleDetector]:{match:De(ac),order:0,parse:u=>({children:[{text:u[1],type:J.text}],target:u[1],type:J.link})},[J.linkBareUrlDetector]:{match:ot((u,y)=>y.inAnchor||t.disableAutoLink?null:De(nc)(u,y)),order:0,parse:u=>({children:[{text:u[1],type:J.text}],target:u[1],title:void 0,type:J.link})},[J.linkMailtoDetector]:{match:De(sc),order:0,parse(u){let y=u[1],g=u[1];return Vo.test(g)||(g="mailto:"+g),{children:[{text:y.replace("mailto:",""),type:J.text}],target:g,type:J.link}}},[J.orderedList]:Gn(r,1),[J.unorderedList]:Gn(r,2),[J.newlineCoalescer]:{match:Ne(Ho),order:3,parse:Wr,render:()=>`
`},[J.paragraph]:{match:ot(xc),order:3,parse:Kr,render:(u,y,g)=>r("p",{key:g.key},y(u.children,g))},[J.ref]:{match:De(oc),order:0,parse:u=>(c[u[1]]={target:u[2],title:u[4]},{}),render:Hr},[J.refImage]:{match:qe(cc),order:0,parse:u=>({alt:u[1]||void 0,ref:u[2]}),render:(u,y,g)=>c[u.ref]?r("img",{key:g.key,alt:u.alt,src:t.sanitizer(c[u.ref].target,"img","src"),title:c[u.ref].title}):null},[J.refLink]:{match:De(lc),order:0,parse:(u,y,g)=>({children:y(u[1],g),fallbackChildren:u[0],ref:u[2]}),render:(u,y,g)=>c[u.ref]?r("a",{key:g.key,href:t.sanitizer(c[u.ref].target,"a","href"),title:c[u.ref].title},y(u.children,g)):r("span",{key:g.key},u.fallbackChildren)},[J.table]:{match:Ne(ei),order:1,parse:Rc,render(u,y,g){const _=u;return r("table",{key:g.key},r("thead",null,r("tr",null,_.header.map(function(d,m){return r("th",{key:m,style:Yn(_,m)},y(d,g))}))),r("tbody",null,_.cells.map(function(d,m){return r("tr",{key:m},d.map(function(i,p){return r("td",{key:p,style:Yn(_,p)},y(i,g))}))})))}},[J.text]:{match:ft(bc),order:4,parse:u=>({text:u[0].replace(ec,(y,g)=>t.namedCodesToUnicode[g]?t.namedCodesToUnicode[g]:y)}),render:u=>u.text},[J.textBolded]:{match:qe(yc),order:2,parse:(u,y,g)=>({children:y(u[2],g)}),render:(u,y,g)=>r("strong",{key:g.key},y(u.children,g))},[J.textEmphasized]:{match:qe(gc),order:3,parse:(u,y,g)=>({children:y(u[2],g)}),render:(u,y,g)=>r("em",{key:g.key},y(u.children,g))},[J.textEscaped]:{match:qe($c),order:1,parse:u=>({text:u[1],type:J.text})},[J.textMarked]:{match:qe(vc),order:3,parse:Kr,render:(u,y,g)=>r("mark",{key:g.key},y(u.children,g))},[J.textStrikethroughed]:{match:qe(_c),order:3,parse:Kr,render:(u,y,g)=>r("del",{key:g.key},y(u.children,g))}};t.disableParsingRawHTML===!0&&(delete o[J.htmlBlock],delete o[J.htmlSelfClosing]);const l=function(u){let y=Object.keys(u);function g(_,d){let m,i,p=[],$="",b="";for(d.prevCapture=d.prevCapture||"";_;){let S=0;for(;S<y.length;){if($=y[S],m=u[$],d.inline&&!m.match.inline){S++;continue}const w=m.match(_,d);if(w){b=w[0],d.prevCapture+=b,_=_.substring(b.length),i=m.parse(w,g,d),i.type==null&&(i.type=$),p.push(i);break}S++}}return d.prevCapture="",p}return y.sort(function(_,d){let m=u[_].order,i=u[d].order;return m!==i?m-i:_<d?-1:1}),function(_,d){return g(function(m){return m.replace(Go,`
`).replace(Xo,"").replace(dc,"    ")}(_),d)}}(o),h=(f=function(u,y){return function(g,_,d){const m=u[g.type].render;return y?y(()=>m(g,_,d),g,_,d):m(g,_,d)}}(o,t.renderRule),function u(y,g={}){if(Array.isArray(y)){const _=g.key,d=[];let m=!1;for(let i=0;i<y.length;i++){g.key=i;const p=u(y[i],g),$=typeof p=="string";$&&m?d[d.length-1]+=p:p!==null&&d.push(p),m=$}return g.key=_,d}return f(y,u,g)});var f;const v=n(e);return s.length?r("div",null,v,r("footer",{key:"footer"},s.map(function(u){return r("div",{id:t.slugify(u.identifier,dt),key:u.identifier},u.identifier,h(l(u.footnote,{inline:!0})))}))):v}const Rr=e=>{let{children:t="",options:r}=e,n=function(a,s){if(a==null)return{};var c,o,l={},h=Object.keys(a);for(o=0;o<h.length;o++)s.indexOf(c=h[o])>=0||(l[c]=a[c]);return l}(e,Ao);return Z.cloneElement(Uc(t,r),n)};class Bc extends Z.Component{constructor(){super(...arguments);ue(this,"state",{wasPropertyKeyModified:!1,additionalProperties:{}});ue(this,"onPropertyChange",(r,n=!1)=>(a,s,c)=>{const{formData:o,onChange:l,errorSchema:h}=this.props;a===void 0&&n&&(a="");const f={...o,[r]:a};l(f,h&&h&&{...h,[r]:s},c)});ue(this,"onDropPropertyClick",r=>n=>{n.preventDefault();const{onChange:a,formData:s}=this.props,c={...s};ao(c,r),a(c)});ue(this,"getAvailableKey",(r,n)=>{const{uiSchema:a,registry:s}=this.props,{duplicateKeySuffixSeparator:c="-"}=se(a,s.globalUiOptions);let o=0,l=r;for(;Te(n,l);)l=`${r}${c}${++o}`;return l});ue(this,"onKeyChange",r=>(n,a)=>{if(r===n)return;const{formData:s,onChange:c,errorSchema:o}=this.props;n=this.getAvailableKey(n,s);const l={...s},h={[r]:n},f=Object.keys(l).map(u=>({[h[u]||u]:l[u]})),v=Object.assign({},...f);this.setState({wasPropertyKeyModified:!0}),c(v,o&&o&&{...o,[n]:a})});ue(this,"handleAddClick",r=>()=>{if(!r.additionalProperties)return;const{formData:n,onChange:a,registry:s}=this.props,c={...n};let o,l,h;if(Ie(r.additionalProperties)){o=r.additionalProperties.type,l=r.additionalProperties.const,h=r.additionalProperties.default;let u=r.additionalProperties;if(Oe in u){const{schemaUtils:y}=s;u=y.retrieveSchema({$ref:u[Oe]},n),o=u.type,l=u.const,h=u.default}!o&&(it in u||Ye in u)&&(o="object")}const f=this.getAvailableKey("newKey",c),v=l??h??this.getDefaultValue(o);ye(c,f,v),a(c)})}isRequired(r){const{schema:n}=this.props;return Array.isArray(n.required)&&n.required.indexOf(r)!==-1}getDefaultValue(r){const{registry:{translateString:n}}=this.props;switch(r){case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};case"string":default:return n(oe.NewStringDefault)}}render(){const{schema:r,uiSchema:n={},formData:a,errorSchema:s,idSchema:c,name:o,required:l=!1,disabled:h,readonly:f,hideError:v,idPrefix:u,idSeparator:y,onBlur:g,onFocus:_,registry:d,title:m}=this.props,{fields:i,formContext:p,schemaUtils:$,translateString:b,globalUiOptions:S}=d,{SchemaField:w}=i,C=$.retrieveSchema(r,a),T=se(n,S),{properties:F={}}=C,R=T.title??C.title??m??o,M=T.description??C.description;let V;try{const L=Object.keys(F);V=Eo(L,T.order)}catch(L){return j.jsxs("div",{children:[j.jsx("p",{className:"config-error",style:{color:"red"},children:j.jsx(Rr,{options:{disableParsingRawHTML:!0},children:b(oe.InvalidObjectField,[o||"root",L.message])})}),j.jsx("pre",{children:JSON.stringify(C)})]})}const B=re("ObjectFieldTemplate",d,T),z={title:T.label===!1?"":R,description:T.label===!1?void 0:M,properties:V.map(L=>{const Y=Te(C,[Se,L,Tt]),H=Y?n.additionalProperties:n[L],ae=se(H).widget==="hidden",A=X(c,[L],{});return{content:j.jsx(w,{name:L,required:this.isRequired(L),schema:X(C,[Se,L],{}),uiSchema:H,errorSchema:X(s,L),idSchema:A,idPrefix:u,idSeparator:y,formData:X(a,L),formContext:p,wasPropertyKeyModified:this.state.wasPropertyKeyModified,onKeyChange:this.onKeyChange(L),onChange:this.onPropertyChange(L,Y),onBlur:g,onFocus:_,registry:d,disabled:h,readonly:f,hideError:v,onDropPropertyClick:this.onDropPropertyClick},L),name:L,readonly:f,disabled:h,required:l,hidden:ae}}),readonly:f,disabled:h,required:l,idSchema:c,uiSchema:n,errorSchema:s,schema:C,formData:a,formContext:p,registry:d};return j.jsx(B,{...z,onAddClick:this.handleAddClick})}}const Lc={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function zc(e,t,r,n){const a=t.field,{fields:s,translateString:c}=n;if(typeof a=="function")return a;if(typeof a=="string"&&a in s)return s[a];const o=Pt(e),l=Array.isArray(o)?o[0]:o||"",h=e.$id;let f=Lc[l];return h&&h in s&&(f=h),!f&&(e.anyOf||e.oneOf)?()=>null:f in s?s[f]:()=>{const v=re("UnsupportedFieldTemplate",n,t);return j.jsx(v,{schema:e,idSchema:r,reason:c(oe.UnknownFieldType,[String(e.type)]),registry:n})}}function Kc(e){const{schema:t,idSchema:r,uiSchema:n,formData:a,errorSchema:s,idPrefix:c,idSeparator:o,name:l,onChange:h,onKeyChange:f,onDropPropertyClick:v,required:u,registry:y,wasPropertyKeyModified:g=!1}=e,{formContext:_,schemaUtils:d,globalUiOptions:m}=y,i=se(n,m),p=re("FieldTemplate",y,i),$=re("DescriptionFieldTemplate",y,i),b=re("FieldHelpTemplate",y,i),S=re("FieldErrorTemplate",y,i),w=d.retrieveSchema(t,a),C=r[Be],T=Je(d.toIdSchema(w,C,a,c,o),r),F=Z.useCallback((K,Q,fe)=>h(K,Q,fe||C),[C,h]),R=zc(w,i,T,y),M=!!(i.disabled??e.disabled),V=!!(i.readonly??(e.readonly||e.schema.readOnly||w.readOnly)),B=i.hideError,z=B===void 0?e.hideError:!!B,L=!!(i.autofocus??e.autofocus);if(Object.keys(w).length===0)return null;const Y=d.getDisplayLabel(w,n,m),{__errors:H,...ae}=s||{},A=un(n,["ui:classNames","classNames","ui:style"]);$r in A&&(A[$r]=un(A[$r],["classNames","style"]));const P=j.jsx(R,{...e,onChange:F,idSchema:T,schema:w,uiSchema:A,disabled:M,readonly:V,hideError:z,autofocus:L,errorSchema:ae,formContext:_,rawErrors:H}),D=T[Be];let I;g?I=l:I=Tt in w?l:i.title||e.schema.title||w.title||e.title||l;const E=i.description||e.schema.description||w.description||"",k=i.enableMarkdownInDescription?j.jsx(Rr,{options:{disableParsingRawHTML:!0},children:E}):E,x=i.help,W=i.widget==="hidden",G=["form-group","field",`field-${Pt(w)}`];!z&&H&&H.length>0&&G.push("field-error has-error has-danger"),n!=null&&n.classNames&&G.push(n.classNames),i.classNames&&G.push(i.classNames);const ie=j.jsx(b,{help:x,idSchema:T,schema:w,uiSchema:n,hasErrors:!z&&H&&H.length>0,registry:y}),ne=z||(w.anyOf||w.oneOf)&&!d.isSelect(w)?void 0:j.jsx(S,{errors:H,errorSchema:s,idSchema:T,schema:w,uiSchema:n,registry:y}),O={description:j.jsx($,{id:et(D),description:k,schema:w,uiSchema:n,registry:y}),rawDescription:E,help:ie,rawHelp:typeof x=="string"?x:void 0,errors:ne,rawErrors:z?void 0:H,id:D,label:I,hidden:W,onChange:h,onKeyChange:f,onDropPropertyClick:v,required:u,disabled:M,readonly:V,hideError:z,displayLabel:Y,classNames:G.join(" ").trim(),style:i.style,formContext:_,formData:a,schema:w,uiSchema:n,registry:y},N=y.fields.AnyOfField,q=y.fields.OneOfField,U=(n==null?void 0:n["ui:field"])&&(n==null?void 0:n["ui:fieldReplacesAnyOrOneOf"])===!0;return j.jsx(p,{...O,children:j.jsxs(j.Fragment,{children:[P,w.anyOf&&!U&&!d.isSelect(w)&&j.jsx(N,{name:l,disabled:M,readonly:V,hideError:z,errorSchema:s,formData:a,formContext:_,idPrefix:c,idSchema:T,idSeparator:o,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:w.anyOf.map(K=>d.retrieveSchema(Ie(K)?K:{},a)),registry:y,required:u,schema:w,uiSchema:n}),w.oneOf&&!U&&!d.isSelect(w)&&j.jsx(q,{name:l,disabled:M,readonly:V,hideError:z,errorSchema:s,formData:a,formContext:_,idPrefix:c,idSchema:T,idSeparator:o,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:w.oneOf.map(K=>d.retrieveSchema(Ie(K)?K:{},a)),registry:y,required:u,schema:w,uiSchema:n})]})})}class Wc extends Z.Component{shouldComponentUpdate(t){return!de(this.props,t)}render(){return j.jsx(Kc,{...this.props})}}function Hc(e){const{schema:t,name:r,uiSchema:n,idSchema:a,formData:s,required:c,disabled:o=!1,readonly:l=!1,autofocus:h=!1,onChange:f,onBlur:v,onFocus:u,registry:y,rawErrors:g,hideError:_}=e,{title:d,format:m}=t,{widgets:i,formContext:p,schemaUtils:$,globalUiOptions:b}=y,S=$.isSelect(t)?jr(t,n):void 0;let w=S?"select":"text";m&&So(t,m,i)&&(w=m);const{widget:C=w,placeholder:T="",title:F,...R}=se(n),M=$.getDisplayLabel(t,n,b),V=F??d??r,B=Ae(t,C,i);return j.jsx(B,{options:{...R,enumOptions:S},schema:t,uiSchema:n,id:a.$id,name:r,label:V,hideLabel:!M,hideError:_,value:s,onChange:f,onBlur:v,onFocus:u,required:c,disabled:o,readonly:l,formContext:p,autofocus:h,registry:y,placeholder:T,rawErrors:g})}function Gc(e){const{formData:t,onChange:r}=e;return Z.useEffect(()=>{t===void 0&&r(null)},[t,r]),null}function Jc(){return{AnyOfField:Ln,ArrayField:Io,BooleanField:No,NumberField:xo,ObjectField:Bc,OneOfField:Ln,SchemaField:Wc,StringField:Hc,NullField:Gc}}function Yc(e){const{idSchema:t,description:r,registry:n,schema:a,uiSchema:s}=e,c=se(s,n.globalUiOptions),{label:o=!0}=c;if(!r||!o)return null;const l=re("DescriptionFieldTemplate",n,c);return j.jsx(l,{id:et(t),description:r,schema:a,uiSchema:s,registry:n})}function Xc(e){const{children:t,className:r,disabled:n,hasToolbar:a,hasMoveDown:s,hasMoveUp:c,hasRemove:o,hasCopy:l,index:h,onCopyIndexClick:f,onDropIndexClick:v,onReorderClick:u,readonly:y,registry:g,uiSchema:_}=e,{CopyButton:d,MoveDownButton:m,MoveUpButton:i,RemoveButton:p}=g.templates.ButtonTemplates,$={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return j.jsxs("div",{className:r,children:[j.jsx("div",{className:a?"col-xs-9":"col-xs-12",children:t}),a&&j.jsx("div",{className:"col-xs-3 array-item-toolbox",children:j.jsxs("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"},children:[(c||s)&&j.jsx(i,{style:$,disabled:n||y||!c,onClick:u(h,h-1),uiSchema:_,registry:g}),(c||s)&&j.jsx(m,{style:$,disabled:n||y||!s,onClick:u(h,h+1),uiSchema:_,registry:g}),l&&j.jsx(d,{style:$,disabled:n||y,onClick:f(h),uiSchema:_,registry:g}),o&&j.jsx(p,{style:$,disabled:n||y,onClick:v(h),uiSchema:_,registry:g})]})})]})}function Zc(e){const{canAdd:t,className:r,disabled:n,idSchema:a,uiSchema:s,items:c,onAddClick:o,readonly:l,registry:h,required:f,schema:v,title:u}=e,y=se(s),g=re("ArrayFieldDescriptionTemplate",h,y),_=re("ArrayFieldItemTemplate",h,y),d=re("ArrayFieldTitleTemplate",h,y),{ButtonTemplates:{AddButton:m}}=h.templates;return j.jsxs("fieldset",{className:r,id:a.$id,children:[j.jsx(d,{idSchema:a,title:y.title||u,required:f,schema:v,uiSchema:s,registry:h}),j.jsx(g,{idSchema:a,description:y.description||v.description,schema:v,uiSchema:s,registry:h}),j.jsx("div",{className:"row array-item-list",children:c&&c.map(({key:i,...p})=>j.jsx(_,{...p},i))}),t&&j.jsx(m,{className:"array-item-add",onClick:o,disabled:n||l,uiSchema:s,registry:h})]})}function Qc(e){const{idSchema:t,title:r,schema:n,uiSchema:a,required:s,registry:c}=e,o=se(a,c.globalUiOptions),{label:l=!0}=o;if(!r||!l)return null;const h=re("TitleFieldTemplate",c,o);return j.jsx(h,{id:wn(t),title:r,required:s,schema:n,uiSchema:a,registry:c})}function el(e){const{id:t,name:r,value:n,readonly:a,disabled:s,autofocus:c,onBlur:o,onFocus:l,onChange:h,onChangeOverride:f,options:v,schema:u,uiSchema:y,formContext:g,registry:_,rawErrors:d,type:m,hideLabel:i,hideError:p,...$}=e;if(!t)throw console.log("No id for",e),new Error(`no id for props ${JSON.stringify(e)}`);const b={...$,...Ka(u,m,v)};let S;b.type==="number"||b.type==="integer"?S=n||n===0?n:"":S=n??"";const w=Z.useCallback(({target:{value:F}})=>h(F===""?v.emptyValue:F),[h,v]),C=Z.useCallback(({target:F})=>o(t,F&&F.value),[o,t]),T=Z.useCallback(({target:F})=>l(t,F&&F.value),[l,t]);return j.jsxs(j.Fragment,{children:[j.jsx("input",{id:t,name:t,className:"form-control",readOnly:a,disabled:s,autoFocus:c,value:S,...b,list:u.examples?Et(t):void 0,onChange:f||w,onBlur:C,onFocus:T,"aria-describedby":Ee(t,!!u.examples)}),Array.isArray(u.examples)&&j.jsx("datalist",{id:Et(t),children:u.examples.concat(u.default&&!u.examples.includes(u.default)?[u.default]:[]).map(F=>j.jsx("option",{value:F},F))},`datalist_${t}`)]})}function tl({uiSchema:e}){const{submitText:t,norender:r,props:n={}}=Wa(e);return r?null:j.jsx("div",{children:j.jsx("button",{type:"submit",...n,className:`btn btn-info ${n.className||""}`,children:t})})}function Ft(e){const{iconType:t="default",icon:r,className:n,uiSchema:a,registry:s,...c}=e;return j.jsx("button",{type:"button",className:`btn btn-${t} ${n}`,...c,children:j.jsx("i",{className:`glyphicon glyphicon-${r}`})})}function rl(e){const{registry:{translateString:t}}=e;return j.jsx(Ft,{title:t(oe.CopyButton),className:"array-item-copy",...e,icon:"copy"})}function nl(e){const{registry:{translateString:t}}=e;return j.jsx(Ft,{title:t(oe.MoveDownButton),className:"array-item-move-down",...e,icon:"arrow-down"})}function sl(e){const{registry:{translateString:t}}=e;return j.jsx(Ft,{title:t(oe.MoveUpButton),className:"array-item-move-up",...e,icon:"arrow-up"})}function al(e){const{registry:{translateString:t}}=e;return j.jsx(Ft,{title:t(oe.RemoveButton),className:"array-item-remove",...e,iconType:"danger",icon:"remove"})}function il({className:e,onClick:t,disabled:r,registry:n}){const{translateString:a}=n;return j.jsx("div",{className:"row",children:j.jsx("p",{className:`col-xs-3 col-xs-offset-9 text-right ${e}`,children:j.jsx(Ft,{iconType:"info",icon:"plus",className:"btn-add col-xs-12",title:a(oe.AddButton),onClick:t,disabled:r,registry:n})})})}function ol(){return{SubmitButton:tl,AddButton:il,CopyButton:rl,MoveDownButton:nl,MoveUpButton:sl,RemoveButton:al}}function cl(e){const{id:t,description:r}=e;return r?typeof r=="string"?j.jsx("p",{id:t,className:"field-description",children:r}):j.jsx("div",{id:t,className:"field-description",children:r}):null}function ll({errors:e,registry:t}){const{translateString:r}=t;return j.jsxs("div",{className:"panel panel-danger errors",children:[j.jsx("div",{className:"panel-heading",children:j.jsx("h3",{className:"panel-title",children:r(oe.ErrorsLabel)})}),j.jsx("ul",{className:"list-group",children:e.map((n,a)=>j.jsx("li",{className:"list-group-item text-danger",children:n.stack},a))})]})}const ul="*";function ui(e){const{label:t,required:r,id:n}=e;return t?j.jsxs("label",{className:"control-label",htmlFor:n,children:[t,r&&j.jsx("span",{className:"required",children:ul})]}):null}function dl(e){const{id:t,label:r,children:n,errors:a,help:s,description:c,hidden:o,required:l,displayLabel:h,registry:f,uiSchema:v}=e,u=se(v),y=re("WrapIfAdditionalTemplate",f,u);return o?j.jsx("div",{className:"hidden",children:n}):j.jsxs(y,{...e,children:[h&&j.jsx(ui,{label:r,required:l,id:t}),h&&c?c:null,n,a,s]})}function fl(e){const{errors:t=[],idSchema:r}=e;if(t.length===0)return null;const n=bn(r);return j.jsx("div",{children:j.jsx("ul",{id:n,className:"error-detail bs-callout bs-callout-info",children:t.filter(a=>!!a).map((a,s)=>j.jsx("li",{className:"text-danger",children:a},s))})})}function ml(e){const{idSchema:t,help:r}=e;if(!r)return null;const n=Sn(t);return typeof r=="string"?j.jsx("p",{id:n,className:"help-block",children:r}):j.jsx("div",{id:n,className:"help-block",children:r})}function hl(e){const{description:t,disabled:r,formData:n,idSchema:a,onAddClick:s,properties:c,readonly:o,registry:l,required:h,schema:f,title:v,uiSchema:u}=e,y=se(u),g=re("TitleFieldTemplate",l,y),_=re("DescriptionFieldTemplate",l,y),{ButtonTemplates:{AddButton:d}}=l.templates;return j.jsxs("fieldset",{id:a.$id,children:[v&&j.jsx(g,{id:wn(a),title:v,required:h,schema:f,uiSchema:u,registry:l}),t&&j.jsx(_,{id:et(a),description:t,schema:f,uiSchema:u,registry:l}),c.map(m=>m.content),qa(f,u,n)&&j.jsx(d,{className:"object-property-expand",onClick:s(f),disabled:r||o,uiSchema:u,registry:l})]})}const pl="*";function yl(e){const{id:t,title:r,required:n}=e;return j.jsxs("legend",{id:t,children:[r,n&&j.jsx("span",{className:"required",children:pl})]})}function gl(e){const{schema:t,idSchema:r,reason:n,registry:a}=e,{translateString:s}=a;let c=oe.UnsupportedField;const o=[];return r&&r.$id&&(c=oe.UnsupportedFieldWithId,o.push(r.$id)),n&&(c=c===oe.UnsupportedField?oe.UnsupportedFieldWithReason:oe.UnsupportedFieldWithIdAndReason,o.push(n)),j.jsxs("div",{className:"unsupported-field",children:[j.jsx("p",{children:j.jsx(Rr,{options:{disableParsingRawHTML:!0},children:s(c,o)})}),t&&j.jsx("pre",{children:JSON.stringify(t,null,2)})]})}function vl(e){const{id:t,classNames:r,style:n,disabled:a,label:s,onKeyChange:c,onDropPropertyClick:o,readonly:l,required:h,schema:f,children:v,uiSchema:u,registry:y}=e,{templates:g,translateString:_}=y,{RemoveButton:d}=g.ButtonTemplates,m=_(oe.KeyLabel,[s]);return Tt in f?j.jsx("div",{className:r,style:n,children:j.jsxs("div",{className:"row",children:[j.jsx("div",{className:"col-xs-5 form-additional",children:j.jsxs("div",{className:"form-group",children:[j.jsx(ui,{label:m,required:h,id:`${t}-key`}),j.jsx("input",{className:"form-control",type:"text",id:`${t}-key`,onBlur:({target:p})=>c(p&&p.value),defaultValue:s})]})}),j.jsx("div",{className:"form-additional form-group col-xs-5",children:v}),j.jsx("div",{className:"col-xs-2",children:j.jsx(d,{className:"array-item-remove btn-block",style:{border:"0"},disabled:a||l,onClick:o(s),uiSchema:u,registry:y})})]})}):j.jsx("div",{className:r,style:n,children:v})}function _l(){return{ArrayFieldDescriptionTemplate:Yc,ArrayFieldItemTemplate:Xc,ArrayFieldTemplate:Zc,ArrayFieldTitleTemplate:Qc,ButtonTemplates:ol(),BaseInputTemplate:el,DescriptionFieldTemplate:cl,ErrorListTemplate:ll,FieldTemplate:dl,FieldErrorTemplate:fl,FieldHelpTemplate:ml,ObjectFieldTemplate:hl,TitleFieldTemplate:yl,UnsupportedFieldTemplate:gl,WrapIfAdditionalTemplate:vl}}function $l(e){return Object.values(e).every(t=>t!==-1)}function bl({type:e,range:t,value:r,select:n,rootId:a,name:s,disabled:c,readonly:o,autofocus:l,registry:h,onBlur:f,onFocus:v}){const u=a+"_"+e,{SelectWidget:y}=h.widgets;return j.jsx(y,{schema:{type:"integer"},id:u,name:s,className:"form-control",options:{enumOptions:Ua(t[0],t[1])},placeholder:e,value:r,disabled:c,readonly:o,autofocus:l,onChange:g=>n(e,g),onBlur:f,onFocus:v,registry:h,label:"","aria-describedby":Ee(a)})}function Sl({time:e=!1,disabled:t=!1,readonly:r=!1,autofocus:n=!1,options:a,id:s,name:c,registry:o,onBlur:l,onFocus:h,onChange:f,value:v}){const{translateString:u}=o,[y,g]=Z.useState(v),[_,d]=Z.useReducer(($,b)=>({...$,...b}),zr(v,e));Z.useEffect(()=>{const $=Un(_,e);$l(_)&&$!==v?f($):y!==v&&(g(v),d(zr(v,e)))},[e,v,f,_,y]);const m=Z.useCallback(($,b)=>{d({[$]:b})},[]),i=Z.useCallback($=>{if($.preventDefault(),t||r)return;const b=zr(new Date().toJSON(),e);f(Un(b,e))},[t,r,e]),p=Z.useCallback($=>{$.preventDefault(),!(t||r)&&f(void 0)},[t,r,f]);return j.jsxs("ul",{className:"list-inline",children:[vo(_,e,a.yearsRange,a.format).map(($,b)=>j.jsx("li",{className:"list-inline-item",children:j.jsx(bl,{rootId:s,name:c,select:m,...$,disabled:t,readonly:r,registry:o,onBlur:l,onFocus:h,autofocus:n&&b===0})},b)),(a.hideNowButton!=="undefined"?!a.hideNowButton:!0)&&j.jsx("li",{className:"list-inline-item",children:j.jsx("a",{href:"#",className:"btn btn-info btn-now",onClick:i,children:u(oe.NowLabel)})}),(a.hideClearButton!=="undefined"?!a.hideClearButton:!0)&&j.jsx("li",{className:"list-inline-item",children:j.jsx("a",{href:"#",className:"btn btn-warning btn-clear",onClick:p,children:u(oe.ClearLabel)})})]})}function wl({time:e=!0,...t}){const{AltDateWidget:r}=t.registry.widgets;return j.jsx(r,{time:e,...t})}function El({schema:e,uiSchema:t,options:r,id:n,value:a,disabled:s,readonly:c,label:o,hideLabel:l,autofocus:h=!1,onBlur:f,onFocus:v,onChange:u,registry:y}){const g=re("DescriptionFieldTemplate",y,r),_=St(e),d=Z.useCallback($=>u($.target.checked),[u]),m=Z.useCallback($=>f(n,$.target.checked),[f,n]),i=Z.useCallback($=>v(n,$.target.checked),[v,n]),p=r.description??e.description;return j.jsxs("div",{className:`checkbox ${s||c?"disabled":""}`,children:[!l&&!!p&&j.jsx(g,{id:et(n),description:p,schema:e,uiSchema:t,registry:y}),j.jsxs("label",{children:[j.jsx("input",{type:"checkbox",id:n,name:n,checked:typeof a>"u"?!1:a,required:_,disabled:s||c,autoFocus:h,onChange:d,onBlur:m,onFocus:i,"aria-describedby":Ee(n)}),tt(j.jsx("span",{children:o}),l)]})]})}function jl({id:e,disabled:t,options:{inline:r=!1,enumOptions:n,enumDisabled:a,emptyValue:s},value:c,autofocus:o=!1,readonly:l,onChange:h,onBlur:f,onFocus:v}){const u=Array.isArray(c)?c:[c],y=Z.useCallback(({target:_})=>f(e,me(_&&_.value,n,s)),[f,e]),g=Z.useCallback(({target:_})=>v(e,me(_&&_.value,n,s)),[v,e]);return j.jsx("div",{className:"checkboxes",id:e,children:Array.isArray(n)&&n.map((_,d)=>{const m=Ir(_.value,u),i=Array.isArray(a)&&a.indexOf(_.value)!==-1,p=t||i||l?"disabled":"",$=S=>{S.target.checked?h(La(d,u,n)):h(Ba(d,u,n))},b=j.jsxs("span",{children:[j.jsx("input",{type:"checkbox",id:Nr(e,d),name:e,checked:m,value:String(d),disabled:t||i||l,autoFocus:o&&d===0,onChange:$,onBlur:y,onFocus:g,"aria-describedby":Ee(e)}),j.jsx("span",{children:_.label})]});return r?j.jsx("label",{className:`checkbox-inline ${p}`,children:b},d):j.jsx("div",{className:`checkbox ${p}`,children:j.jsx("label",{children:b})},d)})})}function kl(e){const{disabled:t,readonly:r,options:n,registry:a}=e,s=re("BaseInputTemplate",a,n);return j.jsx(s,{type:"color",...e,disabled:t||r})}function Cl(e){const{onChange:t,options:r,registry:n}=e,a=re("BaseInputTemplate",n,r),s=Z.useCallback(c=>t(c||void 0),[t]);return j.jsx(a,{type:"date",...e,onChange:s})}function Pl(e){const{onChange:t,value:r,options:n,registry:a}=e,s=re("BaseInputTemplate",a,n);return j.jsx(s,{type:"datetime-local",...e,value:Co(r),onChange:c=>t(wo(c))})}function Tl(e){const{options:t,registry:r}=e,n=re("BaseInputTemplate",r,t);return j.jsx(n,{type:"email",...e})}function Ol(e,t){return e===null?null:e.replace(";base64",`;name=${encodeURIComponent(t)};base64`)}function Il(e){const{name:t,size:r,type:n}=e;return new Promise((a,s)=>{const c=new window.FileReader;c.onerror=s,c.onload=o=>{var l;typeof((l=o.target)==null?void 0:l.result)=="string"?a({dataURL:Ol(o.target.result,t),name:t,size:r,type:n}):a({dataURL:null,name:t,size:r,type:n})},c.readAsDataURL(e)})}function Nl(e){return Promise.all(Array.from(e).map(Il))}function Fl({fileInfo:e,registry:t}){const{translateString:r}=t,{dataURL:n,type:a,name:s}=e;return n?["image/jpeg","image/png"].includes(a)?j.jsx("img",{src:n,style:{maxWidth:"100%"},className:"file-preview"}):j.jsxs(j.Fragment,{children:[" ",j.jsx("a",{download:`preview-${s}`,href:n,className:"file-download",children:r(oe.PreviewLabel)})]}):null}function Rl({filesInfo:e,registry:t,preview:r,onRemove:n,options:a}){if(e.length===0)return null;const{translateString:s}=t,{RemoveButton:c}=re("ButtonTemplates",t,a);return j.jsx("ul",{className:"file-info",children:e.map((o,l)=>{const{name:h,size:f,type:v}=o,u=()=>n(l);return j.jsxs("li",{children:[j.jsx(Rr,{children:s(oe.FilesInfo,[h,v,String(f)])}),r&&j.jsx(Fl,{fileInfo:o,registry:t}),j.jsx(c,{onClick:u,registry:t})]},l)})})}function xl(e){return e.reduce((t,r)=>{if(!r)return t;try{const{blob:n,name:a}=ho(r);return[...t,{dataURL:r,name:a,size:n.size,type:n.type}]}catch{return t}},[])}function Al(e){const{disabled:t,readonly:r,required:n,multiple:a,onChange:s,value:c,options:o,registry:l}=e,h=re("BaseInputTemplate",l,o),f=Z.useCallback(y=>{y.target.files&&Nl(y.target.files).then(g=>{const _=g.map(d=>d.dataURL);s(a?c.concat(_):_[0])})},[a,c,s]),v=Z.useMemo(()=>xl(Array.isArray(c)?c:[c]),[c]),u=Z.useCallback(y=>{if(a){const g=c.filter((_,d)=>d!==y);s(g)}else s(void 0)},[a,c,s]);return j.jsxs("div",{children:[j.jsx(h,{...e,disabled:t||r,type:"file",required:c?!1:n,onChangeOverride:f,value:"",accept:o.accept?String(o.accept):void 0}),j.jsx(Rl,{filesInfo:v,onRemove:u,registry:l,preview:o.filePreview,options:o})]})}function Dl({id:e,value:t}){return j.jsx("input",{type:"hidden",id:e,name:e,value:typeof t>"u"?"":t})}function ql(e){const{options:t,registry:r}=e,n=re("BaseInputTemplate",r,t);return j.jsx(n,{type:"password",...e})}function Ml({options:e,value:t,required:r,disabled:n,readonly:a,autofocus:s=!1,onBlur:c,onFocus:o,onChange:l,id:h}){const{enumOptions:f,enumDisabled:v,inline:u,emptyValue:y}=e,g=Z.useCallback(({target:d})=>c(h,me(d&&d.value,f,y)),[c,h]),_=Z.useCallback(({target:d})=>o(h,me(d&&d.value,f,y)),[o,h]);return j.jsx("div",{className:"field-radio-group",id:h,children:Array.isArray(f)&&f.map((d,m)=>{const i=Ir(d.value,t),p=Array.isArray(v)&&v.indexOf(d.value)!==-1,$=n||p||a?"disabled":"",b=()=>l(d.value),S=j.jsxs("span",{children:[j.jsx("input",{type:"radio",id:Nr(h,m),checked:i,name:h,required:r,value:String(m),disabled:n||p||a,autoFocus:s&&m===0,onChange:b,onBlur:g,onFocus:_,"aria-describedby":Ee(h)}),j.jsx("span",{children:d.label})]});return u?j.jsx("label",{className:`radio-inline ${$}`,children:S},m):j.jsx("div",{className:`radio ${$}`,children:j.jsx("label",{children:S})},m)})})}function Vl(e){const{value:t,registry:{templates:{BaseInputTemplate:r}}}=e;return j.jsxs("div",{className:"field-range-wrapper",children:[j.jsx(r,{type:"range",...e}),j.jsx("span",{className:"range-view",children:t})]})}function Jr(e,t){return t?Array.from(e.target.options).slice().filter(r=>r.selected).map(r=>r.value):e.target.value}function Ul({schema:e,id:t,options:r,value:n,required:a,disabled:s,readonly:c,multiple:o=!1,autofocus:l=!1,onChange:h,onBlur:f,onFocus:v,placeholder:u}){const{enumOptions:y,enumDisabled:g,emptyValue:_}=r,d=o?[]:"",m=Z.useCallback(S=>{const w=Jr(S,o);return v(t,me(w,y,_))},[v,t,e,o,y,_]),i=Z.useCallback(S=>{const w=Jr(S,o);return f(t,me(w,y,_))},[f,t,e,o,y,_]),p=Z.useCallback(S=>{const w=Jr(S,o);return h(me(w,y,_))},[h,e,o,y,_]),$=$n(n,y,o),b=!o&&e.default===void 0;return j.jsxs("select",{id:t,name:t,multiple:o,className:"form-control",value:typeof $>"u"?d:$,required:a,disabled:s||c,autoFocus:l,onBlur:i,onFocus:m,onChange:p,"aria-describedby":Ee(t),children:[b&&j.jsx("option",{value:"",children:u}),Array.isArray(y)&&y.map(({value:S,label:w},C)=>{const T=g&&g.indexOf(S)!==-1;return j.jsx("option",{value:String(C),disabled:T,children:w},C)})]})}function di({id:e,options:t={},placeholder:r,value:n,required:a,disabled:s,readonly:c,autofocus:o=!1,onChange:l,onBlur:h,onFocus:f}){const v=Z.useCallback(({target:{value:g}})=>l(g===""?t.emptyValue:g),[l,t.emptyValue]),u=Z.useCallback(({target:g})=>h(e,g&&g.value),[h,e]),y=Z.useCallback(({target:g})=>f(e,g&&g.value),[e,f]);return j.jsx("textarea",{id:e,name:e,className:"form-control",value:n||"",placeholder:r,required:a,disabled:s,readOnly:c,autoFocus:o,rows:t.rows,onBlur:u,onFocus:y,onChange:v,"aria-describedby":Ee(e)})}di.defaultProps={autofocus:!1,options:{}};function Bl(e){const{options:t,registry:r}=e,n=re("BaseInputTemplate",r,t);return j.jsx(n,{...e})}function Ll(e){const{onChange:t,options:r,registry:n}=e,a=re("BaseInputTemplate",n,r),s=Z.useCallback(c=>t(c?`${c}:00`:void 0),[t]);return j.jsx(a,{type:"time",...e,onChange:s})}function zl(e){const{options:t,registry:r}=e,n=re("BaseInputTemplate",r,t);return j.jsx(n,{type:"url",...e})}function Kl(e){const{options:t,registry:r}=e,n=re("BaseInputTemplate",r,t);return j.jsx(n,{type:"number",...e})}function Wl(){return{AltDateWidget:Sl,AltDateTimeWidget:wl,CheckboxWidget:El,CheckboxesWidget:jl,ColorWidget:kl,DateWidget:Cl,DateTimeWidget:Pl,EmailWidget:Tl,FileWidget:Al,HiddenWidget:Dl,PasswordWidget:ql,RadioWidget:Ml,RangeWidget:Vl,SelectWidget:Ul,TextWidget:Bl,TextareaWidget:di,TimeWidget:Ll,UpDownWidget:Kl,URLWidget:zl}}function Hl(){return{fields:Jc(),templates:_l(),widgets:Wl(),rootSchema:{},formContext:{},translateString:yo}}class Gl extends Z.Component{constructor(r){super(r);ue(this,"formElement");ue(this,"getUsedFormData",(r,n)=>{if(n.length===0&&typeof r!="object")return r;const a=Dn(r,n);return Array.isArray(r)?Object.keys(a).map(s=>a[s]):a});ue(this,"getFieldNames",(r,n)=>{const a=(s,c=[],o=[[]])=>(Object.keys(s).forEach(l=>{if(typeof s[l]=="object"){const h=o.map(f=>[...f,l]);s[l][pn]&&s[l][_r]!==""?c.push(s[l][_r]):a(s[l],c,h)}else l===_r&&s[l]!==""&&o.forEach(h=>{const f=X(n,h);(typeof f!="object"||Tr(f)||Array.isArray(f)&&f.every(v=>typeof v!="object"))&&c.push(h)})}),c);return a(r)});ue(this,"omitExtraData",r=>{const{schema:n,schemaUtils:a}=this.state,s=a.retrieveSchema(n,r),c=a.toPathSchema(s,"",r),o=this.getFieldNames(c,r);return this.getUsedFormData(r,o)});ue(this,"onChange",(r,n,a)=>{const{extraErrors:s,omitExtraData:c,liveOmit:o,noValidate:l,liveValidate:h,onChange:f}=this.props,{schemaUtils:v,schema:u}=this.state;let y=this.state.retrievedSchema;if(bt(r)||Array.isArray(r)){const m=this.getStateFromProps(this.props,r);r=m.formData,y=m.retrievedSchema}const g=!l&&h;let _={formData:r,schema:u},d=r;if(c===!0&&o===!0&&(d=this.omitExtraData(r),_={formData:d}),g){const m=this.validate(d,u,v,y);let i=m.errors,p=m.errorSchema;const $=i,b=p;if(s){const S=Sr(m,s);p=S.errorSchema,i=S.errors}if(n){const S=this.filterErrorsBasedOnSchema(n,y,d);p=Je(p,S,"preventDuplicates")}_={formData:d,errors:i,errorSchema:p,schemaValidationErrors:$,schemaValidationErrorSchema:b}}else if(!l&&n){const m=s?Je(n,s,"preventDuplicates"):n;_={formData:d,errorSchema:m,errors:jt(m)}}this.setState(_,()=>f&&f({...this.state,..._},a))});ue(this,"reset",()=>{const{onChange:r}=this.props,s={formData:this.getStateFromProps(this.props,void 0).formData,errorSchema:{},errors:[],schemaValidationErrors:[],schemaValidationErrorSchema:{}};this.setState(s,()=>r&&r({...this.state,...s}))});ue(this,"onBlur",(r,n)=>{const{onBlur:a}=this.props;a&&a(r,n)});ue(this,"onFocus",(r,n)=>{const{onFocus:a}=this.props;a&&a(r,n)});ue(this,"onSubmit",r=>{if(r.preventDefault(),r.target!==r.currentTarget)return;r.persist();const{omitExtraData:n,extraErrors:a,noValidate:s,onSubmit:c}=this.props;let{formData:o}=this.state;if(n===!0&&(o=this.omitExtraData(o)),s||this.validateFormWithFormData(o)){const l=a||{},h=a?jt(a):[];this.setState({formData:o,errors:h,errorSchema:l,schemaValidationErrors:[],schemaValidationErrorSchema:{}},()=>{c&&c({...this.state,formData:o,status:"submitted"},r)})}});ue(this,"submit",()=>{if(this.formElement.current){const r=new CustomEvent("submit",{cancelable:!0});r.preventDefault(),this.formElement.current.dispatchEvent(r),this.formElement.current.requestSubmit()}});ue(this,"validateFormWithFormData",r=>{const{extraErrors:n,extraErrorsBlockSubmit:a,focusOnFirstError:s,onError:c}=this.props,{errors:o}=this.state,l=this.validate(r);let h=l.errors,f=l.errorSchema;const v=h,u=f,y=h.length>0||n&&a;if(y){if(n){const g=Sr(l,n);f=g.errorSchema,h=g.errors}s&&(typeof s=="function"?s(h[0]):this.focusOnError(h[0])),this.setState({errors:h,errorSchema:f,schemaValidationErrors:v,schemaValidationErrorSchema:u},()=>{c?c(h):console.error("Form validation failed",h)})}else o.length>0&&this.setState({errors:[],errorSchema:{},schemaValidationErrors:[],schemaValidationErrorSchema:{}});return!y});if(!r.validator)throw new Error("A validator is required for Form functionality to work");this.state=this.getStateFromProps(r,r.formData),this.props.onChange&&!de(this.state.formData,this.props.formData)&&this.props.onChange(this.state),this.formElement=Z.createRef()}getSnapshotBeforeUpdate(r,n){if(!de(this.props,r)){const a=Oo(this.props.formData,r.formData),s=!de(r.schema,this.props.schema),c=a.length>0||!de(r.formData,this.props.formData),o=this.getStateFromProps(this.props,this.props.formData,s||c?void 0:this.state.retrievedSchema,s,a),l=!de(o,n);return{nextState:o,shouldUpdate:l}}return{shouldUpdate:!1}}componentDidUpdate(r,n,a){if(a.shouldUpdate){const{nextState:s}=a;!de(s.formData,this.props.formData)&&!de(s.formData,n.formData)&&this.props.onChange&&this.props.onChange(s),this.setState(s)}}getStateFromProps(r,n,a,s=!1,c=[]){var F;const o=this.state||{},l="schema"in r?r.schema:this.props.schema,h=("uiSchema"in r?r.uiSchema:this.props.uiSchema)||{},f=typeof n<"u",v="liveValidate"in r?r.liveValidate:this.props.liveValidate,u=f&&!r.noValidate&&v,y=l,g="experimental_defaultFormStateBehavior"in r?r.experimental_defaultFormStateBehavior:this.props.experimental_defaultFormStateBehavior,_="experimental_customMergeAllOf"in r?r.experimental_customMergeAllOf:this.props.experimental_customMergeAllOf;let d=o.schemaUtils;(!d||d.doesSchemaUtilsDiffer(r.validator,y,g,_))&&(d=mo(r.validator,y,g,_));const m=d.getDefaultFormState(l,n),i=this.updateRetrievedSchema(a??d.retrieveSchema(l,m)),p=()=>r.noValidate||s?{errors:[],errorSchema:{}}:r.liveValidate?{errors:o.errors||[],errorSchema:o.errorSchema||{}}:{errors:o.schemaValidationErrors||[],errorSchema:o.schemaValidationErrorSchema||{}};let $,b,S=o.schemaValidationErrors,w=o.schemaValidationErrorSchema;if(u){const R=this.validate(m,l,d,i);$=R.errors,a===void 0?b=R.errorSchema:b=Je((F=this.state)==null?void 0:F.errorSchema,R.errorSchema,"preventDuplicates"),S=$,w=b}else{const R=p();if($=R.errors,b=R.errorSchema,c.length>0){const M=c.reduce((V,B)=>(V[B]=void 0,V),{});b=w=Je(R.errorSchema,M,"preventDuplicates")}}if(r.extraErrors){const R=Sr({errorSchema:b,errors:$},r.extraErrors);b=R.errorSchema,$=R.errors}const C=d.toIdSchema(i,h["ui:rootFieldId"],m,r.idPrefix,r.idSeparator);return{schemaUtils:d,schema:l,uiSchema:h,idSchema:C,formData:m,edit:f,errors:$,errorSchema:b,schemaValidationErrors:S,schemaValidationErrorSchema:w,retrievedSchema:i}}shouldComponentUpdate(r,n){return jo(this,r,n)}getPreviousCustomValidateErrors(){const{customValidate:r,uiSchema:n}=this.props,a=this.state.formData;let s={};if(typeof r=="function"){const c=r(a,kr(a),n);s=En(c)}return s}validate(r,n=this.props.schema,a,s){const c=a||this.state.schemaUtils,{customValidate:o,transformErrors:l,uiSchema:h}=this.props,f=s??c.retrieveSchema(n,r);return c.getValidator().validateFormData(r,f,o,l,h)}renderErrors(r){const{errors:n,errorSchema:a,schema:s,uiSchema:c}=this.state,{formContext:o}=this.props,l=se(c),h=re("ErrorListTemplate",r,l);return n&&n.length?j.jsx(h,{errors:n,errorSchema:a||{},schema:s,uiSchema:c,formContext:o,registry:r}):null}filterErrorsBasedOnSchema(r,n,a){const{retrievedSchema:s,schemaUtils:c}=this.state,o=n??s,l=c.toPathSchema(o,"",a),h=this.getFieldNames(l,a),f=Dn(r,h);(n==null?void 0:n.type)!=="object"&&(n==null?void 0:n.type)!=="array"&&(f.__errors=r.__errors);const v=this.getPreviousCustomValidateErrors(),u=(g=[],_)=>g.length===0?g:g.filter(d=>!_.includes(d)),y=(g,_={})=>(no(g,(d,m)=>{const i=_[m];Ta(d)||Array.isArray(d)&&d.length===0?delete g[m]:bt(d)&&bt(i)&&Array.isArray(i==null?void 0:i.__errors)?g[m]=u(d.__errors,i.__errors):typeof d=="object"&&!Array.isArray(d.__errors)&&y(d,_[m])}),g);return y(f,v)}updateRetrievedSchema(r){var a;return de(r,(a=this.state)==null?void 0:a.retrievedSchema)?this.state.retrievedSchema:r}getRegistry(){var f;const{translateString:r,uiSchema:n={}}=this.props,{schemaUtils:a}=this.state,{fields:s,templates:c,widgets:o,formContext:l,translateString:h}=Hl();return{fields:{...s,...this.props.fields},templates:{...c,...this.props.templates,ButtonTemplates:{...c.ButtonTemplates,...(f=this.props.templates)==null?void 0:f.ButtonTemplates}},widgets:{...o,...this.props.widgets},rootSchema:this.props.schema,formContext:this.props.formContext||l,schemaUtils:a,translateString:r||h,globalUiOptions:n[Pi]}}focusOnError(r){const{idPrefix:n="root",idSeparator:a="_"}=this.props,{property:s}=r,c=Da(s);c[0]===""?c[0]=n:c.unshift(n);const o=c.join(a);let l=this.formElement.current.elements[o];l||(l=this.formElement.current.querySelector(`input[id^="${o}"`)),l&&l.length&&(l=l[0]),l&&l.focus()}validateForm(){const{omitExtraData:r}=this.props;let{formData:n}=this.state;return r===!0&&(n=this.omitExtraData(n)),this.validateFormWithFormData(n)}render(){const{children:r,id:n,idPrefix:a,idSeparator:s,className:c="",tagName:o,name:l,method:h,target:f,action:v,autoComplete:u,enctype:y,acceptcharset:g,acceptCharset:_,noHtml5Validate:d=!1,disabled:m,readonly:i,formContext:p,showErrorList:$="top",_internalFormWrapper:b}=this.props,{schema:S,uiSchema:w,formData:C,errorSchema:T,idSchema:F}=this.state,R=this.getRegistry(),{SchemaField:M}=R.fields,{SubmitButton:V}=R.templates.ButtonTemplates,B=b?o:void 0,z=b||o||"form";let{[Er]:L={}}=se(w);m&&(L={...L,props:{...L.props,disabled:!0}});const Y={[$r]:{[Er]:L}};return j.jsxs(z,{className:c||"rjsf",id:n,name:l,method:h,target:f,action:v,autoComplete:u,encType:y,acceptCharset:_||g,noValidate:d,onSubmit:this.onSubmit,as:B,ref:this.formElement,children:[$==="top"&&this.renderErrors(R),j.jsx(M,{name:"",schema:S,uiSchema:w,errorSchema:T,idSchema:F,idPrefix:a,idSeparator:s,formContext:p,formData:C,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:R,disabled:m,readonly:i}),r||j.jsx(V,{uiSchema:Y,registry:R}),$==="bottom"&&this.renderErrors(R)]})}}function Jl(e){return Z.forwardRef(({fields:t,widgets:r,templates:n,...a},s)=>{var c;return t={...e==null?void 0:e.fields,...t},r={...e==null?void 0:e.widgets,...r},n={...e==null?void 0:e.templates,...n,ButtonTemplates:{...(c=e==null?void 0:e.templates)==null?void 0:c.ButtonTemplates,...n==null?void 0:n.ButtonTemplates}},j.jsx(Gl,{...e,...a,fields:t,widgets:r,templates:n,ref:s})})}var mt={},Zn;function Yl(){if(Zn)return mt;Zn=1;var e=Ot();Object.defineProperty(mt,"__esModule",{value:!0}),mt.default=void 0;var t=e(It()),r=Ct();return mt.default=(0,t.default)((0,r.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),mt}var Xl=Yl();const Zl=Qe(Xl);function Ql({uiSchema:e,registry:t,...r}){const{translateString:n}=t;return j.jsx(Na,{title:n(oe.AddItemButton),...r,color:"primary",children:j.jsx(Zl,{})})}function eu(e){const{children:t,disabled:r,hasToolbar:n,hasCopy:a,hasMoveDown:s,hasMoveUp:c,hasRemove:o,index:l,onCopyIndexClick:h,onDropIndexClick:f,onReorderClick:v,readonly:u,uiSchema:y,registry:g}=e,{CopyButton:_,MoveDownButton:d,MoveUpButton:m,RemoveButton:i}=g.templates.ButtonTemplates,p={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold",minWidth:0};return j.jsxs(we,{container:!0,alignItems:"center",children:[j.jsx(we,{item:!0,xs:!0,style:{overflow:"auto"},children:j.jsx(Ze,{mb:2,children:j.jsx(yn,{elevation:2,children:j.jsx(Ze,{p:2,children:t})})})}),n&&j.jsxs(we,{item:!0,children:[(c||s)&&j.jsx(m,{style:p,disabled:r||u||!c,onClick:v(l,l-1),uiSchema:y,registry:g}),(c||s)&&j.jsx(d,{style:p,disabled:r||u||!s,onClick:v(l,l+1),uiSchema:y,registry:g}),a&&j.jsx(_,{style:p,disabled:r||u,onClick:h(l),uiSchema:y,registry:g}),o&&j.jsx(i,{style:p,disabled:r||u,onClick:f(l),uiSchema:y,registry:g})]})]})}function tu(e){const{canAdd:t,disabled:r,idSchema:n,uiSchema:a,items:s,onAddClick:c,readonly:o,registry:l,required:h,schema:f,title:v}=e,u=se(a),y=re("ArrayFieldDescriptionTemplate",l,u),g=re("ArrayFieldItemTemplate",l,u),_=re("ArrayFieldTitleTemplate",l,u),{ButtonTemplates:{AddButton:d}}=l.templates;return j.jsx(yn,{elevation:2,children:j.jsxs(Ze,{p:2,children:[j.jsx(_,{idSchema:n,title:u.title||v,schema:f,uiSchema:a,required:h,registry:l}),j.jsx(y,{idSchema:n,description:u.description||f.description,schema:f,uiSchema:a,registry:l}),s&&s.map(({key:m,...i})=>j.jsx(g,{...i},m)),t&&j.jsx(we,{container:!0,justifyContent:"flex-end",children:j.jsx(we,{item:!0,children:j.jsx(Ze,{mt:2,children:j.jsx(d,{className:"array-item-add",onClick:c,disabled:r||o,uiSchema:a,registry:l})})})})]})})}const ru=["date","datetime-local","file","time"];function nu(e){const{id:t,name:r,placeholder:n,required:a,readonly:s,disabled:c,type:o,label:l,hideLabel:h,hideError:f,value:v,onChange:u,onChangeOverride:y,onBlur:g,onFocus:_,autofocus:d,options:m,schema:i,uiSchema:p,rawErrors:$=[],errorSchema:b,formContext:S,registry:w,InputLabelProps:C,...T}=e,F=Ka(i,o,m),{step:R,min:M,max:V,accept:B,...z}=F,L={step:R,min:M,max:V,accept:B,...i.examples?{list:Et(t)}:void 0},Y=({target:{value:P}})=>u(P===""?m.emptyValue:P),H=({target:P})=>g(t,P&&P.value),ae=({target:P})=>_(t,P&&P.value),A=ru.includes(o)?{...C,shrink:!0}:C;return j.jsxs(j.Fragment,{children:[j.jsx(gn,{id:t,name:t,placeholder:n,label:tt(l||void 0,h,void 0),autoFocus:d,required:a,disabled:c||s,inputProps:L,...z,value:v||v===0?v:"",error:$.length>0,onChange:y||Y,onBlur:H,onFocus:ae,InputLabelProps:A,...T,"aria-describedby":Ee(t,!!i.examples)}),Array.isArray(i.examples)&&j.jsx("datalist",{id:Et(t),children:i.examples.concat(i.default&&!i.examples.includes(i.default)?[i.default]:[]).map(P=>j.jsx("option",{value:P},P))})]})}function su(e){const{id:t,description:r}=e;return r?j.jsx(Or,{id:t,variant:"subtitle2",style:{marginTop:"5px"},children:r}):null}var ht={},Qn;function au(){if(Qn)return ht;Qn=1;var e=Ot();Object.defineProperty(ht,"__esModule",{value:!0}),ht.default=void 0;var t=e(It()),r=Ct();return ht.default=(0,t.default)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),ht}var iu=au();const ou=Qe(iu);function cu({errors:e,registry:t}){const{translateString:r}=t;return j.jsx(yn,{elevation:2,children:j.jsxs(Ze,{mb:2,p:2,children:[j.jsx(Or,{variant:"h6",children:r(oe.ErrorsLabel)}),j.jsx(Fa,{dense:!0,children:e.map((n,a)=>j.jsxs(Ra,{children:[j.jsx(Mi,{children:j.jsx(ou,{color:"error"})}),j.jsx(Vi,{primary:n.stack})]},a))})]})})}var pt={},es;function lu(){if(es)return pt;es=1;var e=Ot();Object.defineProperty(pt,"__esModule",{value:!0}),pt.default=void 0;var t=e(It()),r=Ct();return pt.default=(0,t.default)((0,r.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward"),pt}var uu=lu();const du=Qe(uu);var yt={},ts;function fu(){if(ts)return yt;ts=1;var e=Ot();Object.defineProperty(yt,"__esModule",{value:!0}),yt.default=void 0;var t=e(It()),r=Ct();return yt.default=(0,t.default)((0,r.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),yt}var mu=fu();const hu=Qe(mu);var gt={},rs;function pu(){if(rs)return gt;rs=1;var e=Ot();Object.defineProperty(gt,"__esModule",{value:!0}),gt.default=void 0;var t=e(It()),r=Ct();return gt.default=(0,t.default)((0,r.jsx)("path",{d:"M19 13H5v-2h14z"}),"Remove"),gt}var yu=pu();const gu=Qe(yu);function xr(e){const{icon:t,color:r,uiSchema:n,registry:a,...s}=e;return j.jsx(Na,{...s,size:"small",color:r,children:t})}function vu(e){const{registry:{translateString:t}}=e;return j.jsx(xr,{title:t(oe.CopyButton),...e,icon:j.jsx(Ui,{fontSize:"small"})})}function _u(e){const{registry:{translateString:t}}=e;return j.jsx(xr,{title:t(oe.MoveDownButton),...e,icon:j.jsx(du,{fontSize:"small"})})}function $u(e){const{registry:{translateString:t}}=e;return j.jsx(xr,{title:t(oe.MoveUpButton),...e,icon:j.jsx(hu,{fontSize:"small"})})}function bu(e){const{iconType:t,...r}=e,{registry:{translateString:n}}=r;return j.jsx(xr,{title:n(oe.RemoveButton),...r,color:"error",icon:j.jsx(gu,{fontSize:t==="default"?void 0:"small"})})}function Su(e){const{errors:t=[],idSchema:r}=e;if(t.length===0)return null;const n=bn(r);return j.jsx(Fa,{id:n,dense:!0,disablePadding:!0,children:t.map((a,s)=>j.jsx(Ra,{disableGutters:!0,children:j.jsx(xa,{component:"div",id:`${n}-${s}`,children:a})},s))})}function wu(e){const{idSchema:t,help:r}=e;if(!r)return null;const n=Sn(t);return j.jsx(xa,{component:"div",id:n,children:r})}function Eu(e){const{id:t,children:r,classNames:n,style:a,disabled:s,displayLabel:c,hidden:o,label:l,onDropPropertyClick:h,onKeyChange:f,readonly:v,required:u,rawErrors:y=[],errors:g,help:_,description:d,rawDescription:m,schema:i,uiSchema:p,registry:$}=e,b=se(p),S=re("WrapIfAdditionalTemplate",$,b);return o?j.jsx("div",{style:{display:"none"},children:r}):j.jsx(S,{classNames:n,style:a,disabled:s,id:t,label:l,onDropPropertyClick:h,onKeyChange:f,readonly:v,required:u,schema:i,uiSchema:p,registry:$,children:j.jsxs(Bi,{fullWidth:!0,error:!!y.length,required:u,children:[r,c&&m?j.jsx(Or,{variant:"caption",color:"textSecondary",children:d}):null,g,_]})})}function ju(e){const{description:t,title:r,properties:n,required:a,disabled:s,readonly:c,uiSchema:o,idSchema:l,schema:h,formData:f,onAddClick:v,registry:u}=e,y=se(o),g=re("TitleFieldTemplate",u,y),_=re("DescriptionFieldTemplate",u,y),{ButtonTemplates:{AddButton:d}}=u.templates;return j.jsxs(j.Fragment,{children:[r&&j.jsx(g,{id:wn(l),title:r,required:a,schema:h,uiSchema:o,registry:u}),t&&j.jsx(_,{id:et(l),description:t,schema:h,uiSchema:o,registry:u}),j.jsxs(we,{container:!0,spacing:2,style:{marginTop:"10px"},children:[n.map((m,i)=>m.hidden?m.content:j.jsx(we,{item:!0,xs:12,style:{marginBottom:"10px"},children:m.content},i)),qa(h,o,f)&&j.jsx(we,{container:!0,justifyContent:"flex-end",children:j.jsx(we,{item:!0,children:j.jsx(d,{className:"object-property-expand",onClick:v(h),disabled:s||c,uiSchema:o,registry:u})})})]})]})}function ku({uiSchema:e}){const{submitText:t,norender:r,props:n={}}=Wa(e);return r?null:j.jsx(Ze,{marginTop:3,children:j.jsx(Li,{type:"submit",variant:"contained",color:"primary",...n,children:t})})}function Cu({id:e,title:t}){return j.jsxs(Ze,{id:e,mb:1,mt:1,children:[j.jsx(Or,{variant:"h5",children:t}),j.jsx(zi,{})]})}function Pu(e){const{children:t,classNames:r,style:n,disabled:a,id:s,label:c,onDropPropertyClick:o,onKeyChange:l,readonly:h,required:f,schema:v,uiSchema:u,registry:y}=e,{templates:g,translateString:_}=y,{RemoveButton:d}=g.ButtonTemplates,m=_(oe.KeyLabel,[c]),i=Tt in v,p={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};if(!i)return j.jsx("div",{className:r,style:n,children:t});const $=({target:b})=>l(b&&b.value);return j.jsxs(we,{container:!0,alignItems:"center",spacing:2,className:r,style:n,children:[j.jsx(we,{item:!0,xs:!0,children:j.jsx(gn,{fullWidth:!0,required:f,label:m,defaultValue:c,disabled:a||h,id:`${s}-key`,name:`${s}-key`,onBlur:h?void 0:$,type:"text"})}),j.jsx(we,{item:!0,xs:!0,children:t}),j.jsx(we,{item:!0,children:j.jsx(d,{iconType:"default",style:p,disabled:a||h,onClick:o(c),uiSchema:u,registry:y})})]},`${s}-key`)}function Tu(){return{ArrayFieldItemTemplate:eu,ArrayFieldTemplate:tu,BaseInputTemplate:nu,ButtonTemplates:{AddButton:Ql,CopyButton:vu,MoveDownButton:_u,MoveUpButton:$u,RemoveButton:bu,SubmitButton:ku},DescriptionFieldTemplate:su,ErrorListTemplate:cu,FieldErrorTemplate:Su,FieldHelpTemplate:wu,FieldTemplate:Eu,ObjectFieldTemplate:ju,TitleFieldTemplate:Cu,WrapIfAdditionalTemplate:Pu}}function Ou(e){var t;const{schema:r,id:n,value:a,disabled:s,readonly:c,label:o="",hideLabel:l,autofocus:h,onChange:f,onBlur:v,onFocus:u,registry:y,options:g,uiSchema:_}=e,d=re("DescriptionFieldTemplate",y,g),m=St(r),i=(S,w)=>f(w),p=({target:S})=>v(n,S&&S.value),$=({target:S})=>u(n,S&&S.value),b=(t=g.description)!==null&&t!==void 0?t:r.description;return j.jsxs(j.Fragment,{children:[!l&&!!b&&j.jsx(d,{id:et(n),description:b,schema:r,uiSchema:_,registry:y}),j.jsx(vn,{control:j.jsx(Aa,{id:n,name:n,checked:typeof a>"u"?!1:!!a,required:m,disabled:s||c,autoFocus:h,onChange:i,onBlur:p,onFocus:$,"aria-describedby":Ee(n)}),label:tt(o,l,!1)})]})}function Iu({label:e,hideLabel:t,id:r,disabled:n,options:a,value:s,autofocus:c,readonly:o,required:l,onChange:h,onBlur:f,onFocus:v}){const{enumOptions:u,enumDisabled:y,inline:g,emptyValue:_}=a,d=Array.isArray(s)?s:[s],m=$=>({target:{checked:b}})=>{h(b?La($,d,u):Ba($,d,u))},i=({target:$})=>f(r,me($&&$.value,u,_)),p=({target:$})=>v(r,me($&&$.value,u,_));return j.jsxs(j.Fragment,{children:[tt(j.jsx(_n,{required:l,htmlFor:r,children:e||void 0}),t),j.jsx(Ki,{id:r,row:!!g,children:Array.isArray(u)&&u.map(($,b)=>{const S=Ir($.value,d),w=Array.isArray(y)&&y.indexOf($.value)!==-1,C=j.jsx(Aa,{id:Nr(r,b),name:r,checked:S,disabled:n||w||o,autoFocus:c&&b===0,onChange:m(b),onBlur:i,onFocus:p,"aria-describedby":Ee(r)});return j.jsx(vn,{control:C,label:$.label},b)})})]})}function Nu({id:e,options:t,value:r,required:n,disabled:a,readonly:s,label:c,hideLabel:o,onChange:l,onBlur:h,onFocus:f}){var v;const{enumOptions:u,enumDisabled:y,emptyValue:g}=t,_=($,b)=>l(me(b,u,g)),d=({target:$})=>h(e,me($&&$.value,u,g)),m=({target:$})=>f(e,me($&&$.value,u,g)),i=t?t.inline:!1,p=(v=$n(r,u))!==null&&v!==void 0?v:null;return j.jsxs(j.Fragment,{children:[tt(j.jsx(_n,{required:n,htmlFor:e,children:c||void 0}),o),j.jsx(Wi,{id:e,name:e,value:p,row:i,onChange:_,onBlur:d,onFocus:m,"aria-describedby":Ee(e),children:Array.isArray(u)&&u.map(($,b)=>{const S=Array.isArray(y)&&y.indexOf($.value)!==-1;return j.jsx(vn,{control:j.jsx(Hi,{name:e,id:Nr(e,b),color:"primary"}),label:$.label,value:String(b),disabled:a||S||s},b)})})]})}function Fu(e){const{value:t,readonly:r,disabled:n,onBlur:a,onFocus:s,options:c,schema:o,onChange:l,required:h,label:f,hideLabel:v,id:u}=e,y={value:t,label:f,id:u,name:u,...za(o)},g=(m,i)=>{l(i??c.emptyValue)},_=({target:m})=>a(u,m&&m.value),d=({target:m})=>s(u,m&&m.value);return j.jsxs(j.Fragment,{children:[tt(j.jsx(_n,{required:h,htmlFor:u,children:f||void 0}),v),j.jsx(Gi,{disabled:n||r,onChange:g,onBlur:_,onFocus:d,valueLabelDisplay:"auto",...y,"aria-describedby":Ee(u)})]})}function Ru({schema:e,id:t,name:r,options:n,label:a,hideLabel:s,required:c,disabled:o,placeholder:l,readonly:h,value:f,multiple:v,autofocus:u,onChange:y,onBlur:g,onFocus:_,errorSchema:d,rawErrors:m=[],registry:i,uiSchema:p,hideError:$,formContext:b,...S}){const{enumOptions:w,enumDisabled:C,emptyValue:T}=n;v=typeof v>"u"?!1:!!v;const F=v?[]:"",R=typeof f>"u"||v&&f.length<1||!v&&f===F,M=({target:{value:P}})=>y(me(P,w,T)),V=({target:P})=>g(t,me(P&&P.value,w,T)),B=({target:P})=>_(t,me(P&&P.value,w,T)),z=$n(f,w,v),{InputLabelProps:L,SelectProps:Y,autocomplete:H,...ae}=S,A=!v&&e.default===void 0;return j.jsxs(gn,{id:t,name:t,label:tt(a||void 0,s,void 0),value:!R&&typeof z<"u"?z:F,required:c,disabled:o||h,autoFocus:u,autoComplete:H,placeholder:l,error:m.length>0,onChange:M,onBlur:V,onFocus:B,...ae,select:!0,InputLabelProps:{...L,shrink:!R},SelectProps:{...Y,multiple:v},"aria-describedby":Ee(t),children:[A&&j.jsx(qn,{value:"",children:l}),Array.isArray(w)&&w.map(({value:P,label:D},I)=>{const E=Array.isArray(C)&&C.indexOf(P)!==-1;return j.jsx(qn,{value:String(I),disabled:E,children:D},I)})]})}function xu(e){const{options:t,registry:r}=e,n=re("BaseInputTemplate",r,t);let a=5;return(typeof t.rows=="string"||typeof t.rows=="number")&&(a=t.rows),j.jsx(n,{...e,multiline:!0,rows:a})}function fi(){return{CheckboxWidget:Ou,CheckboxesWidget:Iu,RadioWidget:Nu,RangeWidget:Fu,SelectWidget:Ru,TextareaWidget:xu}}const rm=fi();function Au(){return{templates:Tu(),widgets:fi()}}function Du(){return Jl(Au())}const nm=Du();var Rt={exports:{}},Yr={},Fe={},ze={},Xr={},Zr={},Qr={},ns;function Cr(){return ns||(ns=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(i){if(super(),!e.IDENTIFIER.test(i))throw new Error("CodeGen: name must be a valid identifier");this.str=i}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(i){super(),this._items=typeof i=="string"?[i]:i}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const i=this._items[0];return i===""||i==='""'}get str(){var i;return(i=this._str)!==null&&i!==void 0?i:this._str=this._items.reduce((p,$)=>`${p}${$}`,"")}get names(){var i;return(i=this._names)!==null&&i!==void 0?i:this._names=this._items.reduce((p,$)=>($ instanceof r&&(p[$.str]=(p[$.str]||0)+1),p),{})}}e._Code=n,e.nil=new n("");function a(m,...i){const p=[m[0]];let $=0;for(;$<i.length;)o(p,i[$]),p.push(m[++$]);return new n(p)}e._=a;const s=new n("+");function c(m,...i){const p=[y(m[0])];let $=0;for(;$<i.length;)p.push(s),o(p,i[$]),p.push(s,y(m[++$]));return l(p),new n(p)}e.str=c;function o(m,i){i instanceof n?m.push(...i._items):i instanceof r?m.push(i):m.push(v(i))}e.addCodeArg=o;function l(m){let i=1;for(;i<m.length-1;){if(m[i]===s){const p=h(m[i-1],m[i+1]);if(p!==void 0){m.splice(i-1,3,p);continue}m[i++]="+"}i++}}function h(m,i){if(i==='""')return m;if(m==='""')return i;if(typeof m=="string")return i instanceof r||m[m.length-1]!=='"'?void 0:typeof i!="string"?`${m.slice(0,-1)}${i}"`:i[0]==='"'?m.slice(0,-1)+i.slice(1):void 0;if(typeof i=="string"&&i[0]==='"'&&!(m instanceof r))return`"${m}${i.slice(1)}`}function f(m,i){return i.emptyStr()?m:m.emptyStr()?i:c`${m}${i}`}e.strConcat=f;function v(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:y(Array.isArray(m)?m.join(","):m)}function u(m){return new n(y(m))}e.stringify=u;function y(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=y;function g(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new n(`.${m}`):a`[${m}]`}e.getProperty=g;function _(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new n(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=_;function d(m){return new n(m.toString())}e.regexpCode=d}(Qr)),Qr}var en={},ss;function as(){return ss||(ss=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Cr();class r extends Error{constructor(h){super(`CodeGen: "code" for ${h} not defined`),this.value=h.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class a{constructor({prefixes:h,parent:f}={}){this._names={},this._prefixes=h,this._parent=f}toName(h){return h instanceof t.Name?h:this.name(h)}name(h){return new t.Name(this._newName(h))}_newName(h){const f=this._names[h]||this._nameGroup(h);return`${h}${f.index++}`}_nameGroup(h){var f,v;if(!((v=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||v===void 0)&&v.has(h)||this._prefixes&&!this._prefixes.has(h))throw new Error(`CodeGen: prefix "${h}" is not allowed in this scope`);return this._names[h]={prefix:h,index:0}}}e.Scope=a;class s extends t.Name{constructor(h,f){super(f),this.prefix=h}setValue(h,{property:f,itemIndex:v}){this.value=h,this.scopePath=(0,t._)`.${new t.Name(f)}[${v}]`}}e.ValueScopeName=s;const c=(0,t._)`\n`;class o extends a{constructor(h){super(h),this._values={},this._scope=h.scope,this.opts={...h,_n:h.lines?c:t.nil}}get(){return this._scope}name(h){return new s(h,this._newName(h))}value(h,f){var v;if(f.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const u=this.toName(h),{prefix:y}=u,g=(v=f.key)!==null&&v!==void 0?v:f.ref;let _=this._values[y];if(_){const i=_.get(g);if(i)return i}else _=this._values[y]=new Map;_.set(g,u);const d=this._scope[y]||(this._scope[y]=[]),m=d.length;return d[m]=f.ref,u.setValue(f,{property:y,itemIndex:m}),u}getValue(h,f){const v=this._values[h];if(v)return v.get(f)}scopeRefs(h,f=this._values){return this._reduceValues(f,v=>{if(v.scopePath===void 0)throw new Error(`CodeGen: name "${v}" has no value`);return(0,t._)`${h}${v.scopePath}`})}scopeCode(h=this._values,f,v){return this._reduceValues(h,u=>{if(u.value===void 0)throw new Error(`CodeGen: name "${u}" has no value`);return u.value.code},f,v)}_reduceValues(h,f,v={},u){let y=t.nil;for(const g in h){const _=h[g];if(!_)continue;const d=v[g]=v[g]||new Map;_.forEach(m=>{if(d.has(m))return;d.set(m,n.Started);let i=f(m);if(i){const p=this.opts.es5?e.varKinds.var:e.varKinds.const;y=(0,t._)`${y}${p} ${m} = ${i};${this.opts._n}`}else if(i=u==null?void 0:u(m))y=(0,t._)`${y}${i}${this.opts._n}`;else throw new r(m);d.set(m,n.Completed)})}return y}}e.ValueScope=o}(en)),en}var is;function te(){return is||(is=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Cr(),r=as();var n=Cr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var a=as();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(E,k){return this}}class c extends s{constructor(E,k,x){super(),this.varKind=E,this.name=k,this.rhs=x}render({es5:E,_n:k}){const x=E?r.varKinds.var:this.varKind,W=this.rhs===void 0?"":` = ${this.rhs}`;return`${x} ${this.name}${W};`+k}optimizeNames(E,k){if(E[this.name.str])return this.rhs&&(this.rhs=B(this.rhs,E,k)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class o extends s{constructor(E,k,x){super(),this.lhs=E,this.rhs=k,this.sideEffects=x}render({_n:E}){return`${this.lhs} = ${this.rhs};`+E}optimizeNames(E,k){if(!(this.lhs instanceof t.Name&&!E[this.lhs.str]&&!this.sideEffects))return this.rhs=B(this.rhs,E,k),this}get names(){const E=this.lhs instanceof t.Name?{}:{...this.lhs.names};return V(E,this.rhs)}}class l extends o{constructor(E,k,x,W){super(E,x,W),this.op=k}render({_n:E}){return`${this.lhs} ${this.op}= ${this.rhs};`+E}}class h extends s{constructor(E){super(),this.label=E,this.names={}}render({_n:E}){return`${this.label}:`+E}}class f extends s{constructor(E){super(),this.label=E,this.names={}}render({_n:E}){return`break${this.label?` ${this.label}`:""};`+E}}class v extends s{constructor(E){super(),this.error=E}render({_n:E}){return`throw ${this.error};`+E}get names(){return this.error.names}}class u extends s{constructor(E){super(),this.code=E}render({_n:E}){return`${this.code};`+E}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(E,k){return this.code=B(this.code,E,k),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class y extends s{constructor(E=[]){super(),this.nodes=E}render(E){return this.nodes.reduce((k,x)=>k+x.render(E),"")}optimizeNodes(){const{nodes:E}=this;let k=E.length;for(;k--;){const x=E[k].optimizeNodes();Array.isArray(x)?E.splice(k,1,...x):x?E[k]=x:E.splice(k,1)}return E.length>0?this:void 0}optimizeNames(E,k){const{nodes:x}=this;let W=x.length;for(;W--;){const G=x[W];G.optimizeNames(E,k)||(z(E,G.names),x.splice(W,1))}return x.length>0?this:void 0}get names(){return this.nodes.reduce((E,k)=>M(E,k.names),{})}}class g extends y{render(E){return"{"+E._n+super.render(E)+"}"+E._n}}class _ extends y{}class d extends g{}d.kind="else";class m extends g{constructor(E,k){super(k),this.condition=E}render(E){let k=`if(${this.condition})`+super.render(E);return this.else&&(k+="else "+this.else.render(E)),k}optimizeNodes(){super.optimizeNodes();const E=this.condition;if(E===!0)return this.nodes;let k=this.else;if(k){const x=k.optimizeNodes();k=this.else=Array.isArray(x)?new d(x):x}if(k)return E===!1?k instanceof m?k:k.nodes:this.nodes.length?this:new m(L(E),k instanceof m?[k]:k.nodes);if(!(E===!1||!this.nodes.length))return this}optimizeNames(E,k){var x;if(this.else=(x=this.else)===null||x===void 0?void 0:x.optimizeNames(E,k),!!(super.optimizeNames(E,k)||this.else))return this.condition=B(this.condition,E,k),this}get names(){const E=super.names;return V(E,this.condition),this.else&&M(E,this.else.names),E}}m.kind="if";class i extends g{}i.kind="for";class p extends i{constructor(E){super(),this.iteration=E}render(E){return`for(${this.iteration})`+super.render(E)}optimizeNames(E,k){if(super.optimizeNames(E,k))return this.iteration=B(this.iteration,E,k),this}get names(){return M(super.names,this.iteration.names)}}class $ extends i{constructor(E,k,x,W){super(),this.varKind=E,this.name=k,this.from=x,this.to=W}render(E){const k=E.es5?r.varKinds.var:this.varKind,{name:x,from:W,to:G}=this;return`for(${k} ${x}=${W}; ${x}<${G}; ${x}++)`+super.render(E)}get names(){const E=V(super.names,this.from);return V(E,this.to)}}class b extends i{constructor(E,k,x,W){super(),this.loop=E,this.varKind=k,this.name=x,this.iterable=W}render(E){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(E)}optimizeNames(E,k){if(super.optimizeNames(E,k))return this.iterable=B(this.iterable,E,k),this}get names(){return M(super.names,this.iterable.names)}}class S extends g{constructor(E,k,x){super(),this.name=E,this.args=k,this.async=x}render(E){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(E)}}S.kind="func";class w extends y{render(E){return"return "+super.render(E)}}w.kind="return";class C extends g{render(E){let k="try"+super.render(E);return this.catch&&(k+=this.catch.render(E)),this.finally&&(k+=this.finally.render(E)),k}optimizeNodes(){var E,k;return super.optimizeNodes(),(E=this.catch)===null||E===void 0||E.optimizeNodes(),(k=this.finally)===null||k===void 0||k.optimizeNodes(),this}optimizeNames(E,k){var x,W;return super.optimizeNames(E,k),(x=this.catch)===null||x===void 0||x.optimizeNames(E,k),(W=this.finally)===null||W===void 0||W.optimizeNames(E,k),this}get names(){const E=super.names;return this.catch&&M(E,this.catch.names),this.finally&&M(E,this.finally.names),E}}class T extends g{constructor(E){super(),this.error=E}render(E){return`catch(${this.error})`+super.render(E)}}T.kind="catch";class F extends g{render(E){return"finally"+super.render(E)}}F.kind="finally";class R{constructor(E,k={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...k,_n:k.lines?`
`:""},this._extScope=E,this._scope=new r.Scope({parent:E}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(E){return this._scope.name(E)}scopeName(E){return this._extScope.name(E)}scopeValue(E,k){const x=this._extScope.value(E,k);return(this._values[x.prefix]||(this._values[x.prefix]=new Set)).add(x),x}getScopeValue(E,k){return this._extScope.getValue(E,k)}scopeRefs(E){return this._extScope.scopeRefs(E,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(E,k,x,W){const G=this._scope.toName(k);return x!==void 0&&W&&(this._constants[G.str]=x),this._leafNode(new c(E,G,x)),G}const(E,k,x){return this._def(r.varKinds.const,E,k,x)}let(E,k,x){return this._def(r.varKinds.let,E,k,x)}var(E,k,x){return this._def(r.varKinds.var,E,k,x)}assign(E,k,x){return this._leafNode(new o(E,k,x))}add(E,k){return this._leafNode(new l(E,e.operators.ADD,k))}code(E){return typeof E=="function"?E():E!==t.nil&&this._leafNode(new u(E)),this}object(...E){const k=["{"];for(const[x,W]of E)k.length>1&&k.push(","),k.push(x),(x!==W||this.opts.es5)&&(k.push(":"),(0,t.addCodeArg)(k,W));return k.push("}"),new t._Code(k)}if(E,k,x){if(this._blockNode(new m(E)),k&&x)this.code(k).else().code(x).endIf();else if(k)this.code(k).endIf();else if(x)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(E){return this._elseNode(new m(E))}else(){return this._elseNode(new d)}endIf(){return this._endBlockNode(m,d)}_for(E,k){return this._blockNode(E),k&&this.code(k).endFor(),this}for(E,k){return this._for(new p(E),k)}forRange(E,k,x,W,G=this.opts.es5?r.varKinds.var:r.varKinds.let){const ie=this._scope.toName(E);return this._for(new $(G,ie,k,x),()=>W(ie))}forOf(E,k,x,W=r.varKinds.const){const G=this._scope.toName(E);if(this.opts.es5){const ie=k instanceof t.Name?k:this.var("_arr",k);return this.forRange("_i",0,(0,t._)`${ie}.length`,ne=>{this.var(G,(0,t._)`${ie}[${ne}]`),x(G)})}return this._for(new b("of",W,G,k),()=>x(G))}forIn(E,k,x,W=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(E,(0,t._)`Object.keys(${k})`,x);const G=this._scope.toName(E);return this._for(new b("in",W,G,k),()=>x(G))}endFor(){return this._endBlockNode(i)}label(E){return this._leafNode(new h(E))}break(E){return this._leafNode(new f(E))}return(E){const k=new w;if(this._blockNode(k),this.code(E),k.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(w)}try(E,k,x){if(!k&&!x)throw new Error('CodeGen: "try" without "catch" and "finally"');const W=new C;if(this._blockNode(W),this.code(E),k){const G=this.name("e");this._currNode=W.catch=new T(G),k(G)}return x&&(this._currNode=W.finally=new F,this.code(x)),this._endBlockNode(T,F)}throw(E){return this._leafNode(new v(E))}block(E,k){return this._blockStarts.push(this._nodes.length),E&&this.code(E).endBlock(k),this}endBlock(E){const k=this._blockStarts.pop();if(k===void 0)throw new Error("CodeGen: not in self-balancing block");const x=this._nodes.length-k;if(x<0||E!==void 0&&x!==E)throw new Error(`CodeGen: wrong number of nodes: ${x} vs ${E} expected`);return this._nodes.length=k,this}func(E,k=t.nil,x,W){return this._blockNode(new S(E,k,x)),W&&this.code(W).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize(E=1){for(;E-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(E){return this._currNode.nodes.push(E),this}_blockNode(E){this._currNode.nodes.push(E),this._nodes.push(E)}_endBlockNode(E,k){const x=this._currNode;if(x instanceof E||k&&x instanceof k)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${k?`${E.kind}/${k.kind}`:E.kind}"`)}_elseNode(E){const k=this._currNode;if(!(k instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=k.else=E,this}get _root(){return this._nodes[0]}get _currNode(){const E=this._nodes;return E[E.length-1]}set _currNode(E){const k=this._nodes;k[k.length-1]=E}}e.CodeGen=R;function M(I,E){for(const k in E)I[k]=(I[k]||0)+(E[k]||0);return I}function V(I,E){return E instanceof t._CodeOrName?M(I,E.names):I}function B(I,E,k){if(I instanceof t.Name)return x(I);if(!W(I))return I;return new t._Code(I._items.reduce((G,ie)=>(ie instanceof t.Name&&(ie=x(ie)),ie instanceof t._Code?G.push(...ie._items):G.push(ie),G),[]));function x(G){const ie=k[G.str];return ie===void 0||E[G.str]!==1?G:(delete E[G.str],ie)}function W(G){return G instanceof t._Code&&G._items.some(ie=>ie instanceof t.Name&&E[ie.str]===1&&k[ie.str]!==void 0)}}function z(I,E){for(const k in E)I[k]=(I[k]||0)-(E[k]||0)}function L(I){return typeof I=="boolean"||typeof I=="number"||I===null?!I:(0,t._)`!${D(I)}`}e.not=L;const Y=P(e.operators.AND);function H(...I){return I.reduce(Y)}e.and=H;const ae=P(e.operators.OR);function A(...I){return I.reduce(ae)}e.or=A;function P(I){return(E,k)=>E===t.nil?k:k===t.nil?E:(0,t._)`${D(E)} ${I} ${D(k)}`}function D(I){return I instanceof t.Name?I:(0,t._)`(${I})`}}(Zr)),Zr}var ee={},os;function ce(){if(os)return ee;os=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.checkStrictMode=ee.getErrorPath=ee.Type=ee.useFunc=ee.setEvaluated=ee.evaluatedPropsToName=ee.mergeEvaluated=ee.eachItem=ee.unescapeJsonPointer=ee.escapeJsonPointer=ee.escapeFragment=ee.unescapeFragment=ee.schemaRefOrVal=ee.schemaHasRulesButRef=ee.schemaHasRules=ee.checkUnknownRules=ee.alwaysValidSchema=ee.toHash=void 0;const e=te(),t=Cr();function r(b){const S={};for(const w of b)S[w]=!0;return S}ee.toHash=r;function n(b,S){return typeof S=="boolean"?S:Object.keys(S).length===0?!0:(a(b,S),!s(S,b.self.RULES.all))}ee.alwaysValidSchema=n;function a(b,S=b.schema){const{opts:w,self:C}=b;if(!w.strictSchema||typeof S=="boolean")return;const T=C.RULES.keywords;for(const F in S)T[F]||$(b,`unknown keyword: "${F}"`)}ee.checkUnknownRules=a;function s(b,S){if(typeof b=="boolean")return!b;for(const w in b)if(S[w])return!0;return!1}ee.schemaHasRules=s;function c(b,S){if(typeof b=="boolean")return!b;for(const w in b)if(w!=="$ref"&&S.all[w])return!0;return!1}ee.schemaHasRulesButRef=c;function o({topSchemaRef:b,schemaPath:S},w,C,T){if(!T){if(typeof w=="number"||typeof w=="boolean")return w;if(typeof w=="string")return(0,e._)`${w}`}return(0,e._)`${b}${S}${(0,e.getProperty)(C)}`}ee.schemaRefOrVal=o;function l(b){return v(decodeURIComponent(b))}ee.unescapeFragment=l;function h(b){return encodeURIComponent(f(b))}ee.escapeFragment=h;function f(b){return typeof b=="number"?`${b}`:b.replace(/~/g,"~0").replace(/\//g,"~1")}ee.escapeJsonPointer=f;function v(b){return b.replace(/~1/g,"/").replace(/~0/g,"~")}ee.unescapeJsonPointer=v;function u(b,S){if(Array.isArray(b))for(const w of b)S(w);else S(b)}ee.eachItem=u;function y({mergeNames:b,mergeToName:S,mergeValues:w,resultToName:C}){return(T,F,R,M)=>{const V=R===void 0?F:R instanceof e.Name?(F instanceof e.Name?b(T,F,R):S(T,F,R),R):F instanceof e.Name?(S(T,R,F),F):w(F,R);return M===e.Name&&!(V instanceof e.Name)?C(T,V):V}}ee.mergeEvaluated={props:y({mergeNames:(b,S,w)=>b.if((0,e._)`${w} !== true && ${S} !== undefined`,()=>{b.if((0,e._)`${S} === true`,()=>b.assign(w,!0),()=>b.assign(w,(0,e._)`${w} || {}`).code((0,e._)`Object.assign(${w}, ${S})`))}),mergeToName:(b,S,w)=>b.if((0,e._)`${w} !== true`,()=>{S===!0?b.assign(w,!0):(b.assign(w,(0,e._)`${w} || {}`),_(b,w,S))}),mergeValues:(b,S)=>b===!0?!0:{...b,...S},resultToName:g}),items:y({mergeNames:(b,S,w)=>b.if((0,e._)`${w} !== true && ${S} !== undefined`,()=>b.assign(w,(0,e._)`${S} === true ? true : ${w} > ${S} ? ${w} : ${S}`)),mergeToName:(b,S,w)=>b.if((0,e._)`${w} !== true`,()=>b.assign(w,S===!0?!0:(0,e._)`${w} > ${S} ? ${w} : ${S}`)),mergeValues:(b,S)=>b===!0?!0:Math.max(b,S),resultToName:(b,S)=>b.var("items",S)})};function g(b,S){if(S===!0)return b.var("props",!0);const w=b.var("props",(0,e._)`{}`);return S!==void 0&&_(b,w,S),w}ee.evaluatedPropsToName=g;function _(b,S,w){Object.keys(w).forEach(C=>b.assign((0,e._)`${S}${(0,e.getProperty)(C)}`,!0))}ee.setEvaluated=_;const d={};function m(b,S){return b.scopeValue("func",{ref:S,code:d[S.code]||(d[S.code]=new t._Code(S.code))})}ee.useFunc=m;var i;(function(b){b[b.Num=0]="Num",b[b.Str=1]="Str"})(i||(ee.Type=i={}));function p(b,S,w){if(b instanceof e.Name){const C=S===i.Num;return w?C?(0,e._)`"[" + ${b} + "]"`:(0,e._)`"['" + ${b} + "']"`:C?(0,e._)`"/" + ${b}`:(0,e._)`"/" + ${b}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return w?(0,e.getProperty)(b).toString():"/"+f(b)}ee.getErrorPath=p;function $(b,S,w=b.opts.strictSchema){if(w){if(S=`strict mode: ${S}`,w===!0)throw new Error(S);b.self.logger.warn(S)}}return ee.checkStrictMode=$,ee}var xt={},cs;function Le(){if(cs)return xt;cs=1,Object.defineProperty(xt,"__esModule",{value:!0});const e=te(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return xt.default=t,xt}var ls;function Ar(){return ls||(ls=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=te(),r=ce(),n=Le();e.keywordError={message:({keyword:d})=>(0,t.str)`must pass "${d}" keyword validation`},e.keyword$DataError={message:({keyword:d,schemaType:m})=>m?(0,t.str)`"${d}" keyword must be ${m} ($data)`:(0,t.str)`"${d}" keyword is invalid ($data)`};function a(d,m=e.keywordError,i,p){const{it:$}=d,{gen:b,compositeRule:S,allErrors:w}=$,C=v(d,m,i);p??(S||w)?l(b,C):h($,(0,t._)`[${C}]`)}e.reportError=a;function s(d,m=e.keywordError,i){const{it:p}=d,{gen:$,compositeRule:b,allErrors:S}=p,w=v(d,m,i);l($,w),b||S||h(p,n.default.vErrors)}e.reportExtraError=s;function c(d,m){d.assign(n.default.errors,m),d.if((0,t._)`${n.default.vErrors} !== null`,()=>d.if(m,()=>d.assign((0,t._)`${n.default.vErrors}.length`,m),()=>d.assign(n.default.vErrors,null)))}e.resetErrorsCount=c;function o({gen:d,keyword:m,schemaValue:i,data:p,errsCount:$,it:b}){if($===void 0)throw new Error("ajv implementation error");const S=d.name("err");d.forRange("i",$,n.default.errors,w=>{d.const(S,(0,t._)`${n.default.vErrors}[${w}]`),d.if((0,t._)`${S}.instancePath === undefined`,()=>d.assign((0,t._)`${S}.instancePath`,(0,t.strConcat)(n.default.instancePath,b.errorPath))),d.assign((0,t._)`${S}.schemaPath`,(0,t.str)`${b.errSchemaPath}/${m}`),b.opts.verbose&&(d.assign((0,t._)`${S}.schema`,i),d.assign((0,t._)`${S}.data`,p))})}e.extendErrors=o;function l(d,m){const i=d.const("err",m);d.if((0,t._)`${n.default.vErrors} === null`,()=>d.assign(n.default.vErrors,(0,t._)`[${i}]`),(0,t._)`${n.default.vErrors}.push(${i})`),d.code((0,t._)`${n.default.errors}++`)}function h(d,m){const{gen:i,validateName:p,schemaEnv:$}=d;$.$async?i.throw((0,t._)`new ${d.ValidationError}(${m})`):(i.assign((0,t._)`${p}.errors`,m),i.return(!1))}const f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function v(d,m,i){const{createErrors:p}=d.it;return p===!1?(0,t._)`{}`:u(d,m,i)}function u(d,m,i={}){const{gen:p,it:$}=d,b=[y($,i),g(d,i)];return _(d,m,b),p.object(...b)}function y({errorPath:d},{instancePath:m}){const i=m?(0,t.str)`${d}${(0,r.getErrorPath)(m,r.Type.Str)}`:d;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,i)]}function g({keyword:d,it:{errSchemaPath:m}},{schemaPath:i,parentSchema:p}){let $=p?m:(0,t.str)`${m}/${d}`;return i&&($=(0,t.str)`${$}${(0,r.getErrorPath)(i,r.Type.Str)}`),[f.schemaPath,$]}function _(d,{params:m,message:i},p){const{keyword:$,data:b,schemaValue:S,it:w}=d,{opts:C,propertyName:T,topSchemaRef:F,schemaPath:R}=w;p.push([f.keyword,$],[f.params,typeof m=="function"?m(d):m||(0,t._)`{}`]),C.messages&&p.push([f.message,typeof i=="function"?i(d):i]),C.verbose&&p.push([f.schema,S],[f.parentSchema,(0,t._)`${F}${R}`],[n.default.data,b]),T&&p.push([f.propertyName,T])}}(Xr)),Xr}var us;function qu(){if(us)return ze;us=1,Object.defineProperty(ze,"__esModule",{value:!0}),ze.boolOrEmptySchema=ze.topBoolOrEmptySchema=void 0;const e=Ar(),t=te(),r=Le(),n={message:"boolean schema is false"};function a(o){const{gen:l,schema:h,validateName:f}=o;h===!1?c(o,!1):typeof h=="object"&&h.$async===!0?l.return(r.default.data):(l.assign((0,t._)`${f}.errors`,null),l.return(!0))}ze.topBoolOrEmptySchema=a;function s(o,l){const{gen:h,schema:f}=o;f===!1?(h.var(l,!1),c(o)):h.var(l,!0)}ze.boolOrEmptySchema=s;function c(o,l){const{gen:h,data:f}=o,v={gen:h,keyword:"false schema",data:f,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:o};(0,e.reportError)(v,n,void 0,l)}return ze}var pe={},Ke={},ds;function mi(){if(ds)return Ke;ds=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.getRules=Ke.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function r(a){return typeof a=="string"&&t.has(a)}Ke.isJSONType=r;function n(){const a={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...a,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},a.number,a.string,a.array,a.object],post:{rules:[]},all:{},keywords:{}}}return Ke.getRules=n,Ke}var Re={},fs;function hi(){if(fs)return Re;fs=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.shouldUseRule=Re.shouldUseGroup=Re.schemaHasRulesForType=void 0;function e({schema:n,self:a},s){const c=a.RULES.types[s];return c&&c!==!0&&t(n,c)}Re.schemaHasRulesForType=e;function t(n,a){return a.rules.some(s=>r(n,s))}Re.shouldUseGroup=t;function r(n,a){var s;return n[a.keyword]!==void 0||((s=a.definition.implements)===null||s===void 0?void 0:s.some(c=>n[c]!==void 0))}return Re.shouldUseRule=r,Re}var ms;function Pr(){if(ms)return pe;ms=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.reportTypeError=pe.checkDataTypes=pe.checkDataType=pe.coerceAndCheckDataType=pe.getJSONTypes=pe.getSchemaTypes=pe.DataType=void 0;const e=mi(),t=hi(),r=Ar(),n=te(),a=ce();var s;(function(i){i[i.Correct=0]="Correct",i[i.Wrong=1]="Wrong"})(s||(pe.DataType=s={}));function c(i){const p=o(i.type);if(p.includes("null")){if(i.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!p.length&&i.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');i.nullable===!0&&p.push("null")}return p}pe.getSchemaTypes=c;function o(i){const p=Array.isArray(i)?i:i?[i]:[];if(p.every(e.isJSONType))return p;throw new Error("type must be JSONType or JSONType[]: "+p.join(","))}pe.getJSONTypes=o;function l(i,p){const{gen:$,data:b,opts:S}=i,w=f(p,S.coerceTypes),C=p.length>0&&!(w.length===0&&p.length===1&&(0,t.schemaHasRulesForType)(i,p[0]));if(C){const T=g(p,b,S.strictNumbers,s.Wrong);$.if(T,()=>{w.length?v(i,p,w):d(i)})}return C}pe.coerceAndCheckDataType=l;const h=new Set(["string","number","integer","boolean","null"]);function f(i,p){return p?i.filter($=>h.has($)||p==="array"&&$==="array"):[]}function v(i,p,$){const{gen:b,data:S,opts:w}=i,C=b.let("dataType",(0,n._)`typeof ${S}`),T=b.let("coerced",(0,n._)`undefined`);w.coerceTypes==="array"&&b.if((0,n._)`${C} == 'object' && Array.isArray(${S}) && ${S}.length == 1`,()=>b.assign(S,(0,n._)`${S}[0]`).assign(C,(0,n._)`typeof ${S}`).if(g(p,S,w.strictNumbers),()=>b.assign(T,S))),b.if((0,n._)`${T} !== undefined`);for(const R of $)(h.has(R)||R==="array"&&w.coerceTypes==="array")&&F(R);b.else(),d(i),b.endIf(),b.if((0,n._)`${T} !== undefined`,()=>{b.assign(S,T),u(i,T)});function F(R){switch(R){case"string":b.elseIf((0,n._)`${C} == "number" || ${C} == "boolean"`).assign(T,(0,n._)`"" + ${S}`).elseIf((0,n._)`${S} === null`).assign(T,(0,n._)`""`);return;case"number":b.elseIf((0,n._)`${C} == "boolean" || ${S} === null
              || (${C} == "string" && ${S} && ${S} == +${S})`).assign(T,(0,n._)`+${S}`);return;case"integer":b.elseIf((0,n._)`${C} === "boolean" || ${S} === null
              || (${C} === "string" && ${S} && ${S} == +${S} && !(${S} % 1))`).assign(T,(0,n._)`+${S}`);return;case"boolean":b.elseIf((0,n._)`${S} === "false" || ${S} === 0 || ${S} === null`).assign(T,!1).elseIf((0,n._)`${S} === "true" || ${S} === 1`).assign(T,!0);return;case"null":b.elseIf((0,n._)`${S} === "" || ${S} === 0 || ${S} === false`),b.assign(T,null);return;case"array":b.elseIf((0,n._)`${C} === "string" || ${C} === "number"
              || ${C} === "boolean" || ${S} === null`).assign(T,(0,n._)`[${S}]`)}}}function u({gen:i,parentData:p,parentDataProperty:$},b){i.if((0,n._)`${p} !== undefined`,()=>i.assign((0,n._)`${p}[${$}]`,b))}function y(i,p,$,b=s.Correct){const S=b===s.Correct?n.operators.EQ:n.operators.NEQ;let w;switch(i){case"null":return(0,n._)`${p} ${S} null`;case"array":w=(0,n._)`Array.isArray(${p})`;break;case"object":w=(0,n._)`${p} && typeof ${p} == "object" && !Array.isArray(${p})`;break;case"integer":w=C((0,n._)`!(${p} % 1) && !isNaN(${p})`);break;case"number":w=C();break;default:return(0,n._)`typeof ${p} ${S} ${i}`}return b===s.Correct?w:(0,n.not)(w);function C(T=n.nil){return(0,n.and)((0,n._)`typeof ${p} == "number"`,T,$?(0,n._)`isFinite(${p})`:n.nil)}}pe.checkDataType=y;function g(i,p,$,b){if(i.length===1)return y(i[0],p,$,b);let S;const w=(0,a.toHash)(i);if(w.array&&w.object){const C=(0,n._)`typeof ${p} != "object"`;S=w.null?C:(0,n._)`!${p} || ${C}`,delete w.null,delete w.array,delete w.object}else S=n.nil;w.number&&delete w.integer;for(const C in w)S=(0,n.and)(S,y(C,p,$,b));return S}pe.checkDataTypes=g;const _={message:({schema:i})=>`must be ${i}`,params:({schema:i,schemaValue:p})=>typeof i=="string"?(0,n._)`{type: ${i}}`:(0,n._)`{type: ${p}}`};function d(i){const p=m(i);(0,r.reportError)(p,_)}pe.reportTypeError=d;function m(i){const{gen:p,data:$,schema:b}=i,S=(0,a.schemaRefOrVal)(i,b,"type");return{gen:p,keyword:"type",data:$,schema:b.type,schemaCode:S,schemaValue:S,parentSchema:b,params:{},it:i}}return pe}var vt={},hs;function Mu(){if(hs)return vt;hs=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.assignDefaults=void 0;const e=te(),t=ce();function r(a,s){const{properties:c,items:o}=a.schema;if(s==="object"&&c)for(const l in c)n(a,l,c[l].default);else s==="array"&&Array.isArray(o)&&o.forEach((l,h)=>n(a,h,l.default))}vt.assignDefaults=r;function n(a,s,c){const{gen:o,compositeRule:l,data:h,opts:f}=a;if(c===void 0)return;const v=(0,e._)`${h}${(0,e.getProperty)(s)}`;if(l){(0,t.checkStrictMode)(a,`default is ignored for: ${v}`);return}let u=(0,e._)`${v} === undefined`;f.useDefaults==="empty"&&(u=(0,e._)`${u} || ${v} === null || ${v} === ""`),o.if(u,(0,e._)`${v} = ${(0,e.stringify)(c)}`)}return vt}var Ce={},le={},ps;function Pe(){if(ps)return le;ps=1,Object.defineProperty(le,"__esModule",{value:!0}),le.validateUnion=le.validateArray=le.usePattern=le.callValidateCode=le.schemaProperties=le.allSchemaProperties=le.noPropertyInData=le.propertyInData=le.isOwnProperty=le.hasPropFunc=le.reportMissingProp=le.checkMissingProp=le.checkReportMissingProp=void 0;const e=te(),t=ce(),r=Le(),n=ce();function a(i,p){const{gen:$,data:b,it:S}=i;$.if(f($,b,p,S.opts.ownProperties),()=>{i.setParams({missingProperty:(0,e._)`${p}`},!0),i.error()})}le.checkReportMissingProp=a;function s({gen:i,data:p,it:{opts:$}},b,S){return(0,e.or)(...b.map(w=>(0,e.and)(f(i,p,w,$.ownProperties),(0,e._)`${S} = ${w}`)))}le.checkMissingProp=s;function c(i,p){i.setParams({missingProperty:p},!0),i.error()}le.reportMissingProp=c;function o(i){return i.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}le.hasPropFunc=o;function l(i,p,$){return(0,e._)`${o(i)}.call(${p}, ${$})`}le.isOwnProperty=l;function h(i,p,$,b){const S=(0,e._)`${p}${(0,e.getProperty)($)} !== undefined`;return b?(0,e._)`${S} && ${l(i,p,$)}`:S}le.propertyInData=h;function f(i,p,$,b){const S=(0,e._)`${p}${(0,e.getProperty)($)} === undefined`;return b?(0,e.or)(S,(0,e.not)(l(i,p,$))):S}le.noPropertyInData=f;function v(i){return i?Object.keys(i).filter(p=>p!=="__proto__"):[]}le.allSchemaProperties=v;function u(i,p){return v(p).filter($=>!(0,t.alwaysValidSchema)(i,p[$]))}le.schemaProperties=u;function y({schemaCode:i,data:p,it:{gen:$,topSchemaRef:b,schemaPath:S,errorPath:w},it:C},T,F,R){const M=R?(0,e._)`${i}, ${p}, ${b}${S}`:p,V=[[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,w)],[r.default.parentData,C.parentData],[r.default.parentDataProperty,C.parentDataProperty],[r.default.rootData,r.default.rootData]];C.opts.dynamicRef&&V.push([r.default.dynamicAnchors,r.default.dynamicAnchors]);const B=(0,e._)`${M}, ${$.object(...V)}`;return F!==e.nil?(0,e._)`${T}.call(${F}, ${B})`:(0,e._)`${T}(${B})`}le.callValidateCode=y;const g=(0,e._)`new RegExp`;function _({gen:i,it:{opts:p}},$){const b=p.unicodeRegExp?"u":"",{regExp:S}=p.code,w=S($,b);return i.scopeValue("pattern",{key:w.toString(),ref:w,code:(0,e._)`${S.code==="new RegExp"?g:(0,n.useFunc)(i,S)}(${$}, ${b})`})}le.usePattern=_;function d(i){const{gen:p,data:$,keyword:b,it:S}=i,w=p.name("valid");if(S.allErrors){const T=p.let("valid",!0);return C(()=>p.assign(T,!1)),T}return p.var(w,!0),C(()=>p.break()),w;function C(T){const F=p.const("len",(0,e._)`${$}.length`);p.forRange("i",0,F,R=>{i.subschema({keyword:b,dataProp:R,dataPropType:t.Type.Num},w),p.if((0,e.not)(w),T)})}}le.validateArray=d;function m(i){const{gen:p,schema:$,keyword:b,it:S}=i;if(!Array.isArray($))throw new Error("ajv implementation error");if($.some(F=>(0,t.alwaysValidSchema)(S,F))&&!S.opts.unevaluated)return;const C=p.let("valid",!1),T=p.name("_valid");p.block(()=>$.forEach((F,R)=>{const M=i.subschema({keyword:b,schemaProp:R,compositeRule:!0},T);p.assign(C,(0,e._)`${C} || ${T}`),i.mergeValidEvaluated(M,T)||p.if((0,e.not)(C))})),i.result(C,()=>i.reset(),()=>i.error(!0))}return le.validateUnion=m,le}var ys;function Vu(){if(ys)return Ce;ys=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.validateKeywordUsage=Ce.validSchemaType=Ce.funcKeywordCode=Ce.macroKeywordCode=void 0;const e=te(),t=Le(),r=Pe(),n=Ar();function a(u,y){const{gen:g,keyword:_,schema:d,parentSchema:m,it:i}=u,p=y.macro.call(i.self,d,m,i),$=h(g,_,p);i.opts.validateSchema!==!1&&i.self.validateSchema(p,!0);const b=g.name("valid");u.subschema({schema:p,schemaPath:e.nil,errSchemaPath:`${i.errSchemaPath}/${_}`,topSchemaRef:$,compositeRule:!0},b),u.pass(b,()=>u.error(!0))}Ce.macroKeywordCode=a;function s(u,y){var g;const{gen:_,keyword:d,schema:m,parentSchema:i,$data:p,it:$}=u;l($,y);const b=!p&&y.compile?y.compile.call($.self,m,i,$):y.validate,S=h(_,d,b),w=_.let("valid");u.block$data(w,C),u.ok((g=y.valid)!==null&&g!==void 0?g:w);function C(){if(y.errors===!1)R(),y.modifying&&c(u),M(()=>u.error());else{const V=y.async?T():F();y.modifying&&c(u),M(()=>o(u,V))}}function T(){const V=_.let("ruleErrs",null);return _.try(()=>R((0,e._)`await `),B=>_.assign(w,!1).if((0,e._)`${B} instanceof ${$.ValidationError}`,()=>_.assign(V,(0,e._)`${B}.errors`),()=>_.throw(B))),V}function F(){const V=(0,e._)`${S}.errors`;return _.assign(V,null),R(e.nil),V}function R(V=y.async?(0,e._)`await `:e.nil){const B=$.opts.passContext?t.default.this:t.default.self,z=!("compile"in y&&!p||y.schema===!1);_.assign(w,(0,e._)`${V}${(0,r.callValidateCode)(u,S,B,z)}`,y.modifying)}function M(V){var B;_.if((0,e.not)((B=y.valid)!==null&&B!==void 0?B:w),V)}}Ce.funcKeywordCode=s;function c(u){const{gen:y,data:g,it:_}=u;y.if(_.parentData,()=>y.assign(g,(0,e._)`${_.parentData}[${_.parentDataProperty}]`))}function o(u,y){const{gen:g}=u;g.if((0,e._)`Array.isArray(${y})`,()=>{g.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${y} : ${t.default.vErrors}.concat(${y})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,n.extendErrors)(u)},()=>u.error())}function l({schemaEnv:u},y){if(y.async&&!u.$async)throw new Error("async keyword in sync schema")}function h(u,y,g){if(g===void 0)throw new Error(`keyword "${y}" failed to compile`);return u.scopeValue("keyword",typeof g=="function"?{ref:g}:{ref:g,code:(0,e.stringify)(g)})}function f(u,y,g=!1){return!y.length||y.some(_=>_==="array"?Array.isArray(u):_==="object"?u&&typeof u=="object"&&!Array.isArray(u):typeof u==_||g&&typeof u>"u")}Ce.validSchemaType=f;function v({schema:u,opts:y,self:g,errSchemaPath:_},d,m){if(Array.isArray(d.keyword)?!d.keyword.includes(m):d.keyword!==m)throw new Error("ajv implementation error");const i=d.dependencies;if(i!=null&&i.some(p=>!Object.prototype.hasOwnProperty.call(u,p)))throw new Error(`parent schema must have dependencies of ${m}: ${i.join(",")}`);if(d.validateSchema&&!d.validateSchema(u[m])){const $=`keyword "${m}" value is invalid at path "${_}": `+g.errorsText(d.validateSchema.errors);if(y.validateSchema==="log")g.logger.error($);else throw new Error($)}}return Ce.validateKeywordUsage=v,Ce}var xe={},gs;function Uu(){if(gs)return xe;gs=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.extendSubschemaMode=xe.extendSubschemaData=xe.getSubschema=void 0;const e=te(),t=ce();function r(s,{keyword:c,schemaProp:o,schema:l,schemaPath:h,errSchemaPath:f,topSchemaRef:v}){if(c!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(c!==void 0){const u=s.schema[c];return o===void 0?{schema:u,schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(c)}`,errSchemaPath:`${s.errSchemaPath}/${c}`}:{schema:u[o],schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(c)}${(0,e.getProperty)(o)}`,errSchemaPath:`${s.errSchemaPath}/${c}/${(0,t.escapeFragment)(o)}`}}if(l!==void 0){if(h===void 0||f===void 0||v===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:h,topSchemaRef:v,errSchemaPath:f}}throw new Error('either "keyword" or "schema" must be passed')}xe.getSubschema=r;function n(s,c,{dataProp:o,dataPropType:l,data:h,dataTypes:f,propertyName:v}){if(h!==void 0&&o!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:u}=c;if(o!==void 0){const{errorPath:g,dataPathArr:_,opts:d}=c,m=u.let("data",(0,e._)`${c.data}${(0,e.getProperty)(o)}`,!0);y(m),s.errorPath=(0,e.str)`${g}${(0,t.getErrorPath)(o,l,d.jsPropertySyntax)}`,s.parentDataProperty=(0,e._)`${o}`,s.dataPathArr=[..._,s.parentDataProperty]}if(h!==void 0){const g=h instanceof e.Name?h:u.let("data",h,!0);y(g),v!==void 0&&(s.propertyName=v)}f&&(s.dataTypes=f);function y(g){s.data=g,s.dataLevel=c.dataLevel+1,s.dataTypes=[],c.definedProperties=new Set,s.parentData=c.data,s.dataNames=[...c.dataNames,g]}}xe.extendSubschemaData=n;function a(s,{jtdDiscriminator:c,jtdMetadata:o,compositeRule:l,createErrors:h,allErrors:f}){l!==void 0&&(s.compositeRule=l),h!==void 0&&(s.createErrors=h),f!==void 0&&(s.allErrors=f),s.jtdDiscriminator=c,s.jtdMetadata=o}return xe.extendSubschemaMode=a,xe}var ge={},tn,vs;function pi(){return vs||(vs=1,tn=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,a,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[a]))return!1;for(a=n;a--!==0;){var c=s[a];if(!e(t[c],r[c]))return!1}return!0}return t!==t&&r!==r}),tn}var rn={exports:{}},_s;function Bu(){if(_s)return rn.exports;_s=1;var e=rn.exports=function(n,a,s){typeof a=="function"&&(s=a,a={}),s=a.cb||s;var c=typeof s=="function"?s:s.pre||function(){},o=s.post||function(){};t(a,c,o,n,"",n)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(n,a,s,c,o,l,h,f,v,u){if(c&&typeof c=="object"&&!Array.isArray(c)){a(c,o,l,h,f,v,u);for(var y in c){var g=c[y];if(Array.isArray(g)){if(y in e.arrayKeywords)for(var _=0;_<g.length;_++)t(n,a,s,g[_],o+"/"+y+"/"+_,l,o,y,c,_)}else if(y in e.propsKeywords){if(g&&typeof g=="object")for(var d in g)t(n,a,s,g[d],o+"/"+y+"/"+r(d),l,o,y,c,d)}else(y in e.keywords||n.allKeys&&!(y in e.skipKeywords))&&t(n,a,s,g,o+"/"+y,l,o,y,c)}s(c,o,l,h,f,v,u)}}function r(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}return rn.exports}var $s;function Dr(){if($s)return ge;$s=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.getSchemaRefs=ge.resolveUrl=ge.normalizeId=ge._getFullPath=ge.getFullPath=ge.inlineRef=void 0;const e=ce(),t=pi(),r=Bu(),n=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function a(_,d=!0){return typeof _=="boolean"?!0:d===!0?!c(_):d?o(_)<=d:!1}ge.inlineRef=a;const s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function c(_){for(const d in _){if(s.has(d))return!0;const m=_[d];if(Array.isArray(m)&&m.some(c)||typeof m=="object"&&c(m))return!0}return!1}function o(_){let d=0;for(const m in _){if(m==="$ref")return 1/0;if(d++,!n.has(m)&&(typeof _[m]=="object"&&(0,e.eachItem)(_[m],i=>d+=o(i)),d===1/0))return 1/0}return d}function l(_,d="",m){m!==!1&&(d=v(d));const i=_.parse(d);return h(_,i)}ge.getFullPath=l;function h(_,d){return _.serialize(d).split("#")[0]+"#"}ge._getFullPath=h;const f=/#\/?$/;function v(_){return _?_.replace(f,""):""}ge.normalizeId=v;function u(_,d,m){return m=v(m),_.resolve(d,m)}ge.resolveUrl=u;const y=/^[a-z_][-a-z0-9._]*$/i;function g(_,d){if(typeof _=="boolean")return{};const{schemaId:m,uriResolver:i}=this.opts,p=v(_[m]||d),$={"":p},b=l(i,p,!1),S={},w=new Set;return r(_,{allKeys:!0},(F,R,M,V)=>{if(V===void 0)return;const B=b+R;let z=$[V];typeof F[m]=="string"&&(z=L.call(this,F[m])),Y.call(this,F.$anchor),Y.call(this,F.$dynamicAnchor),$[R]=z;function L(H){const ae=this.opts.uriResolver.resolve;if(H=v(z?ae(z,H):H),w.has(H))throw T(H);w.add(H);let A=this.refs[H];return typeof A=="string"&&(A=this.refs[A]),typeof A=="object"?C(F,A.schema,H):H!==v(B)&&(H[0]==="#"?(C(F,S[H],H),S[H]=F):this.refs[H]=B),H}function Y(H){if(typeof H=="string"){if(!y.test(H))throw new Error(`invalid anchor "${H}"`);L.call(this,`#${H}`)}}}),S;function C(F,R,M){if(R!==void 0&&!t(F,R))throw T(M)}function T(F){return new Error(`reference "${F}" resolves to more than one schema`)}}return ge.getSchemaRefs=g,ge}var bs;function qr(){if(bs)return Fe;bs=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.getData=Fe.KeywordCxt=Fe.validateFunctionCode=void 0;const e=qu(),t=Pr(),r=hi(),n=Pr(),a=Mu(),s=Vu(),c=Uu(),o=te(),l=Le(),h=Dr(),f=ce(),v=Ar();function u(O){if(b(O)&&(w(O),$(O))){d(O);return}y(O,()=>(0,e.topBoolOrEmptySchema)(O))}Fe.validateFunctionCode=u;function y({gen:O,validateName:N,schema:q,schemaEnv:U,opts:K},Q){K.code.es5?O.func(N,(0,o._)`${l.default.data}, ${l.default.valCxt}`,U.$async,()=>{O.code((0,o._)`"use strict"; ${i(q,K)}`),_(O,K),O.code(Q)}):O.func(N,(0,o._)`${l.default.data}, ${g(K)}`,U.$async,()=>O.code(i(q,K)).code(Q))}function g(O){return(0,o._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${O.dynamicRef?(0,o._)`, ${l.default.dynamicAnchors}={}`:o.nil}}={}`}function _(O,N){O.if(l.default.valCxt,()=>{O.var(l.default.instancePath,(0,o._)`${l.default.valCxt}.${l.default.instancePath}`),O.var(l.default.parentData,(0,o._)`${l.default.valCxt}.${l.default.parentData}`),O.var(l.default.parentDataProperty,(0,o._)`${l.default.valCxt}.${l.default.parentDataProperty}`),O.var(l.default.rootData,(0,o._)`${l.default.valCxt}.${l.default.rootData}`),N.dynamicRef&&O.var(l.default.dynamicAnchors,(0,o._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{O.var(l.default.instancePath,(0,o._)`""`),O.var(l.default.parentData,(0,o._)`undefined`),O.var(l.default.parentDataProperty,(0,o._)`undefined`),O.var(l.default.rootData,l.default.data),N.dynamicRef&&O.var(l.default.dynamicAnchors,(0,o._)`{}`)})}function d(O){const{schema:N,opts:q,gen:U}=O;y(O,()=>{q.$comment&&N.$comment&&V(O),F(O),U.let(l.default.vErrors,null),U.let(l.default.errors,0),q.unevaluated&&m(O),C(O),B(O)})}function m(O){const{gen:N,validateName:q}=O;O.evaluated=N.const("evaluated",(0,o._)`${q}.evaluated`),N.if((0,o._)`${O.evaluated}.dynamicProps`,()=>N.assign((0,o._)`${O.evaluated}.props`,(0,o._)`undefined`)),N.if((0,o._)`${O.evaluated}.dynamicItems`,()=>N.assign((0,o._)`${O.evaluated}.items`,(0,o._)`undefined`))}function i(O,N){const q=typeof O=="object"&&O[N.schemaId];return q&&(N.code.source||N.code.process)?(0,o._)`/*# sourceURL=${q} */`:o.nil}function p(O,N){if(b(O)&&(w(O),$(O))){S(O,N);return}(0,e.boolOrEmptySchema)(O,N)}function $({schema:O,self:N}){if(typeof O=="boolean")return!O;for(const q in O)if(N.RULES.all[q])return!0;return!1}function b(O){return typeof O.schema!="boolean"}function S(O,N){const{schema:q,gen:U,opts:K}=O;K.$comment&&q.$comment&&V(O),R(O),M(O);const Q=U.const("_errs",l.default.errors);C(O,Q),U.var(N,(0,o._)`${Q} === ${l.default.errors}`)}function w(O){(0,f.checkUnknownRules)(O),T(O)}function C(O,N){if(O.opts.jtd)return L(O,[],!1,N);const q=(0,t.getSchemaTypes)(O.schema),U=(0,t.coerceAndCheckDataType)(O,q);L(O,q,!U,N)}function T(O){const{schema:N,errSchemaPath:q,opts:U,self:K}=O;N.$ref&&U.ignoreKeywordsWithRef&&(0,f.schemaHasRulesButRef)(N,K.RULES)&&K.logger.warn(`$ref: keywords ignored in schema at path "${q}"`)}function F(O){const{schema:N,opts:q}=O;N.default!==void 0&&q.useDefaults&&q.strictSchema&&(0,f.checkStrictMode)(O,"default is ignored in the schema root")}function R(O){const N=O.schema[O.opts.schemaId];N&&(O.baseId=(0,h.resolveUrl)(O.opts.uriResolver,O.baseId,N))}function M(O){if(O.schema.$async&&!O.schemaEnv.$async)throw new Error("async schema in sync schema")}function V({gen:O,schemaEnv:N,schema:q,errSchemaPath:U,opts:K}){const Q=q.$comment;if(K.$comment===!0)O.code((0,o._)`${l.default.self}.logger.log(${Q})`);else if(typeof K.$comment=="function"){const fe=(0,o.str)`${U}/$comment`,je=O.scopeValue("root",{ref:N.root});O.code((0,o._)`${l.default.self}.opts.$comment(${Q}, ${fe}, ${je}.schema)`)}}function B(O){const{gen:N,schemaEnv:q,validateName:U,ValidationError:K,opts:Q}=O;q.$async?N.if((0,o._)`${l.default.errors} === 0`,()=>N.return(l.default.data),()=>N.throw((0,o._)`new ${K}(${l.default.vErrors})`)):(N.assign((0,o._)`${U}.errors`,l.default.vErrors),Q.unevaluated&&z(O),N.return((0,o._)`${l.default.errors} === 0`))}function z({gen:O,evaluated:N,props:q,items:U}){q instanceof o.Name&&O.assign((0,o._)`${N}.props`,q),U instanceof o.Name&&O.assign((0,o._)`${N}.items`,U)}function L(O,N,q,U){const{gen:K,schema:Q,data:fe,allErrors:je,opts:ve,self:_e}=O,{RULES:he}=_e;if(Q.$ref&&(ve.ignoreKeywordsWithRef||!(0,f.schemaHasRulesButRef)(Q,he))){K.block(()=>W(O,"$ref",he.all.$ref.definition));return}ve.jtd||H(O,N),K.block(()=>{for(const ke of he.rules)rt(ke);rt(he.post)});function rt(ke){(0,r.shouldUseGroup)(Q,ke)&&(ke.type?(K.if((0,n.checkDataType)(ke.type,fe,ve.strictNumbers)),Y(O,ke),N.length===1&&N[0]===ke.type&&q&&(K.else(),(0,n.reportTypeError)(O)),K.endIf()):Y(O,ke),je||K.if((0,o._)`${l.default.errors} === ${U||0}`))}}function Y(O,N){const{gen:q,schema:U,opts:{useDefaults:K}}=O;K&&(0,a.assignDefaults)(O,N.type),q.block(()=>{for(const Q of N.rules)(0,r.shouldUseRule)(U,Q)&&W(O,Q.keyword,Q.definition,N.type)})}function H(O,N){O.schemaEnv.meta||!O.opts.strictTypes||(ae(O,N),O.opts.allowUnionTypes||A(O,N),P(O,O.dataTypes))}function ae(O,N){if(N.length){if(!O.dataTypes.length){O.dataTypes=N;return}N.forEach(q=>{I(O.dataTypes,q)||k(O,`type "${q}" not allowed by context "${O.dataTypes.join(",")}"`)}),E(O,N)}}function A(O,N){N.length>1&&!(N.length===2&&N.includes("null"))&&k(O,"use allowUnionTypes to allow union type keyword")}function P(O,N){const q=O.self.RULES.all;for(const U in q){const K=q[U];if(typeof K=="object"&&(0,r.shouldUseRule)(O.schema,K)){const{type:Q}=K.definition;Q.length&&!Q.some(fe=>D(N,fe))&&k(O,`missing type "${Q.join(",")}" for keyword "${U}"`)}}}function D(O,N){return O.includes(N)||N==="number"&&O.includes("integer")}function I(O,N){return O.includes(N)||N==="integer"&&O.includes("number")}function E(O,N){const q=[];for(const U of O.dataTypes)I(N,U)?q.push(U):N.includes("integer")&&U==="number"&&q.push("integer");O.dataTypes=q}function k(O,N){const q=O.schemaEnv.baseId+O.errSchemaPath;N+=` at "${q}" (strictTypes)`,(0,f.checkStrictMode)(O,N,O.opts.strictTypes)}class x{constructor(N,q,U){if((0,s.validateKeywordUsage)(N,q,U),this.gen=N.gen,this.allErrors=N.allErrors,this.keyword=U,this.data=N.data,this.schema=N.schema[U],this.$data=q.$data&&N.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,f.schemaRefOrVal)(N,this.schema,U,this.$data),this.schemaType=q.schemaType,this.parentSchema=N.schema,this.params={},this.it=N,this.def=q,this.$data)this.schemaCode=N.gen.const("vSchema",ne(this.$data,N));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,q.schemaType,q.allowUndefined))throw new Error(`${U} value must be ${JSON.stringify(q.schemaType)}`);("code"in q?q.trackErrors:q.errors!==!1)&&(this.errsCount=N.gen.const("_errs",l.default.errors))}result(N,q,U){this.failResult((0,o.not)(N),q,U)}failResult(N,q,U){this.gen.if(N),U?U():this.error(),q?(this.gen.else(),q(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(N,q){this.failResult((0,o.not)(N),void 0,q)}fail(N){if(N===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(N),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(N){if(!this.$data)return this.fail(N);const{schemaCode:q}=this;this.fail((0,o._)`${q} !== undefined && (${(0,o.or)(this.invalid$data(),N)})`)}error(N,q,U){if(q){this.setParams(q),this._error(N,U),this.setParams({});return}this._error(N,U)}_error(N,q){(N?v.reportExtraError:v.reportError)(this,this.def.error,q)}$dataError(){(0,v.reportError)(this,this.def.$dataError||v.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,v.resetErrorsCount)(this.gen,this.errsCount)}ok(N){this.allErrors||this.gen.if(N)}setParams(N,q){q?Object.assign(this.params,N):this.params=N}block$data(N,q,U=o.nil){this.gen.block(()=>{this.check$data(N,U),q()})}check$data(N=o.nil,q=o.nil){if(!this.$data)return;const{gen:U,schemaCode:K,schemaType:Q,def:fe}=this;U.if((0,o.or)((0,o._)`${K} === undefined`,q)),N!==o.nil&&U.assign(N,!0),(Q.length||fe.validateSchema)&&(U.elseIf(this.invalid$data()),this.$dataError(),N!==o.nil&&U.assign(N,!1)),U.else()}invalid$data(){const{gen:N,schemaCode:q,schemaType:U,def:K,it:Q}=this;return(0,o.or)(fe(),je());function fe(){if(U.length){if(!(q instanceof o.Name))throw new Error("ajv implementation error");const ve=Array.isArray(U)?U:[U];return(0,o._)`${(0,n.checkDataTypes)(ve,q,Q.opts.strictNumbers,n.DataType.Wrong)}`}return o.nil}function je(){if(K.validateSchema){const ve=N.scopeValue("validate$data",{ref:K.validateSchema});return(0,o._)`!${ve}(${q})`}return o.nil}}subschema(N,q){const U=(0,c.getSubschema)(this.it,N);(0,c.extendSubschemaData)(U,this.it,N),(0,c.extendSubschemaMode)(U,N);const K={...this.it,...U,items:void 0,props:void 0};return p(K,q),K}mergeEvaluated(N,q){const{it:U,gen:K}=this;U.opts.unevaluated&&(U.props!==!0&&N.props!==void 0&&(U.props=f.mergeEvaluated.props(K,N.props,U.props,q)),U.items!==!0&&N.items!==void 0&&(U.items=f.mergeEvaluated.items(K,N.items,U.items,q)))}mergeValidEvaluated(N,q){const{it:U,gen:K}=this;if(U.opts.unevaluated&&(U.props!==!0||U.items!==!0))return K.if(q,()=>this.mergeEvaluated(N,o.Name)),!0}}Fe.KeywordCxt=x;function W(O,N,q,U){const K=new x(O,q,N);"code"in q?q.code(K,U):K.$data&&q.validate?(0,s.funcKeywordCode)(K,q):"macro"in q?(0,s.macroKeywordCode)(K,q):(q.compile||q.validate)&&(0,s.funcKeywordCode)(K,q)}const G=/^\/(?:[^~]|~0|~1)*$/,ie=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ne(O,{dataLevel:N,dataNames:q,dataPathArr:U}){let K,Q;if(O==="")return l.default.rootData;if(O[0]==="/"){if(!G.test(O))throw new Error(`Invalid JSON-pointer: ${O}`);K=O,Q=l.default.rootData}else{const _e=ie.exec(O);if(!_e)throw new Error(`Invalid JSON-pointer: ${O}`);const he=+_e[1];if(K=_e[2],K==="#"){if(he>=N)throw new Error(ve("property/index",he));return U[N-he]}if(he>N)throw new Error(ve("data",he));if(Q=q[N-he],!K)return Q}let fe=Q;const je=K.split("/");for(const _e of je)_e&&(Q=(0,o._)`${Q}${(0,o.getProperty)((0,f.unescapeJsonPointer)(_e))}`,fe=(0,o._)`${fe} && ${Q}`);return fe;function ve(_e,he){return`Cannot access ${_e} ${he} levels up, current level is ${N}`}}return Fe.getData=ne,Fe}var At={},Ss;function Pn(){if(Ss)return At;Ss=1,Object.defineProperty(At,"__esModule",{value:!0});class e extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return At.default=e,At}var Dt={},ws;function Mr(){if(ws)return Dt;ws=1,Object.defineProperty(Dt,"__esModule",{value:!0});const e=Dr();class t extends Error{constructor(n,a,s,c){super(c||`can't resolve reference ${s} from id ${a}`),this.missingRef=(0,e.resolveUrl)(n,a,s),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(n,this.missingRef))}}return Dt.default=t,Dt}var $e={},Es;function Tn(){if(Es)return $e;Es=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.resolveSchema=$e.getCompilingSchema=$e.resolveRef=$e.compileSchema=$e.SchemaEnv=void 0;const e=te(),t=Pn(),r=Le(),n=Dr(),a=ce(),s=qr();class c{constructor(m){var i;this.refs={},this.dynamicAnchors={};let p;typeof m.schema=="object"&&(p=m.schema),this.schema=m.schema,this.schemaId=m.schemaId,this.root=m.root||this,this.baseId=(i=m.baseId)!==null&&i!==void 0?i:(0,n.normalizeId)(p==null?void 0:p[m.schemaId||"$id"]),this.schemaPath=m.schemaPath,this.localRefs=m.localRefs,this.meta=m.meta,this.$async=p==null?void 0:p.$async,this.refs={}}}$e.SchemaEnv=c;function o(d){const m=f.call(this,d);if(m)return m;const i=(0,n.getFullPath)(this.opts.uriResolver,d.root.baseId),{es5:p,lines:$}=this.opts.code,{ownProperties:b}=this.opts,S=new e.CodeGen(this.scope,{es5:p,lines:$,ownProperties:b});let w;d.$async&&(w=S.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const C=S.scopeName("validate");d.validateName=C;const T={gen:S,allErrors:this.opts.allErrors,data:r.default.data,parentData:r.default.parentData,parentDataProperty:r.default.parentDataProperty,dataNames:[r.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:S.scopeValue("schema",this.opts.code.source===!0?{ref:d.schema,code:(0,e.stringify)(d.schema)}:{ref:d.schema}),validateName:C,ValidationError:w,schema:d.schema,schemaEnv:d,rootId:i,baseId:d.baseId||i,schemaPath:e.nil,errSchemaPath:d.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let F;try{this._compilations.add(d),(0,s.validateFunctionCode)(T),S.optimize(this.opts.code.optimize);const R=S.toString();F=`${S.scopeRefs(r.default.scope)}return ${R}`,this.opts.code.process&&(F=this.opts.code.process(F,d));const V=new Function(`${r.default.self}`,`${r.default.scope}`,F)(this,this.scope.get());if(this.scope.value(C,{ref:V}),V.errors=null,V.schema=d.schema,V.schemaEnv=d,d.$async&&(V.$async=!0),this.opts.code.source===!0&&(V.source={validateName:C,validateCode:R,scopeValues:S._values}),this.opts.unevaluated){const{props:B,items:z}=T;V.evaluated={props:B instanceof e.Name?void 0:B,items:z instanceof e.Name?void 0:z,dynamicProps:B instanceof e.Name,dynamicItems:z instanceof e.Name},V.source&&(V.source.evaluated=(0,e.stringify)(V.evaluated))}return d.validate=V,d}catch(R){throw delete d.validate,delete d.validateName,F&&this.logger.error("Error compiling schema, function code:",F),R}finally{this._compilations.delete(d)}}$e.compileSchema=o;function l(d,m,i){var p;i=(0,n.resolveUrl)(this.opts.uriResolver,m,i);const $=d.refs[i];if($)return $;let b=u.call(this,d,i);if(b===void 0){const S=(p=d.localRefs)===null||p===void 0?void 0:p[i],{schemaId:w}=this.opts;S&&(b=new c({schema:S,schemaId:w,root:d,baseId:m}))}if(b!==void 0)return d.refs[i]=h.call(this,b)}$e.resolveRef=l;function h(d){return(0,n.inlineRef)(d.schema,this.opts.inlineRefs)?d.schema:d.validate?d:o.call(this,d)}function f(d){for(const m of this._compilations)if(v(m,d))return m}$e.getCompilingSchema=f;function v(d,m){return d.schema===m.schema&&d.root===m.root&&d.baseId===m.baseId}function u(d,m){let i;for(;typeof(i=this.refs[m])=="string";)m=i;return i||this.schemas[m]||y.call(this,d,m)}function y(d,m){const i=this.opts.uriResolver.parse(m),p=(0,n._getFullPath)(this.opts.uriResolver,i);let $=(0,n.getFullPath)(this.opts.uriResolver,d.baseId,void 0);if(Object.keys(d.schema).length>0&&p===$)return _.call(this,i,d);const b=(0,n.normalizeId)(p),S=this.refs[b]||this.schemas[b];if(typeof S=="string"){const w=y.call(this,d,S);return typeof(w==null?void 0:w.schema)!="object"?void 0:_.call(this,i,w)}if(typeof(S==null?void 0:S.schema)=="object"){if(S.validate||o.call(this,S),b===(0,n.normalizeId)(m)){const{schema:w}=S,{schemaId:C}=this.opts,T=w[C];return T&&($=(0,n.resolveUrl)(this.opts.uriResolver,$,T)),new c({schema:w,schemaId:C,root:d,baseId:$})}return _.call(this,i,S)}}$e.resolveSchema=y;const g=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function _(d,{baseId:m,schema:i,root:p}){var $;if((($=d.fragment)===null||$===void 0?void 0:$[0])!=="/")return;for(const w of d.fragment.slice(1).split("/")){if(typeof i=="boolean")return;const C=i[(0,a.unescapeFragment)(w)];if(C===void 0)return;i=C;const T=typeof i=="object"&&i[this.opts.schemaId];!g.has(w)&&T&&(m=(0,n.resolveUrl)(this.opts.uriResolver,m,T))}let b;if(typeof i!="boolean"&&i.$ref&&!(0,a.schemaHasRulesButRef)(i,this.RULES)){const w=(0,n.resolveUrl)(this.opts.uriResolver,m,i.$ref);b=y.call(this,p,w)}const{schemaId:S}=this.opts;if(b=b||new c({schema:i,schemaId:S,root:p,baseId:m}),b.schema!==b.root.schema)return b}return $e}const Lu="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",zu="Meta-schema for $data reference (JSON AnySchema extension proposal)",Ku="object",Wu=["$data"],Hu={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Gu=!1,Ju={$id:Lu,description:zu,type:Ku,required:Wu,properties:Hu,additionalProperties:Gu};var qt={},_t={exports:{}},nn,js;function Yu(){return js||(js=1,nn={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}),nn}var sn,ks;function Xu(){if(ks)return sn;ks=1;const{HEX:e}=Yu(),t=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function r(_){if(o(_,".")<3)return{host:_,isIPV4:!1};const d=_.match(t)||[],[m]=d;return m?{host:c(m,"."),isIPV4:!0}:{host:_,isIPV4:!1}}function n(_,d=!1){let m="",i=!0;for(const p of _){if(e[p]===void 0)return;p!=="0"&&i===!0&&(i=!1),i||(m+=p)}return d&&m.length===0&&(m="0"),m}function a(_){let d=0;const m={error:!1,address:"",zone:""},i=[],p=[];let $=!1,b=!1,S=!1;function w(){if(p.length){if($===!1){const C=n(p);if(C!==void 0)i.push(C);else return m.error=!0,!1}p.length=0}return!0}for(let C=0;C<_.length;C++){const T=_[C];if(!(T==="["||T==="]"))if(T===":"){if(b===!0&&(S=!0),!w())break;if(d++,i.push(":"),d>7){m.error=!0;break}C-1>=0&&_[C-1]===":"&&(b=!0);continue}else if(T==="%"){if(!w())break;$=!0}else{p.push(T);continue}}return p.length&&($?m.zone=p.join(""):S?i.push(p.join("")):i.push(n(p))),m.address=i.join(""),m}function s(_){if(o(_,":")<2)return{host:_,isIPV6:!1};const d=a(_);if(d.error)return{host:_,isIPV6:!1};{let m=d.address,i=d.address;return d.zone&&(m+="%"+d.zone,i+="%25"+d.zone),{host:m,escapedHost:i,isIPV6:!0}}}function c(_,d){let m="",i=!0;const p=_.length;for(let $=0;$<p;$++){const b=_[$];b==="0"&&i?($+1<=p&&_[$+1]===d||$+1===p)&&(m+=b,i=!1):(b===d?i=!0:i=!1,m+=b)}return m}function o(_,d){let m=0;for(let i=0;i<_.length;i++)_[i]===d&&m++;return m}const l=/^\.\.?\//u,h=/^\/\.(?:\/|$)/u,f=/^\/\.\.(?:\/|$)/u,v=/^\/?(?:.|\n)*?(?=\/|$)/u;function u(_){const d=[];for(;_.length;)if(_.match(l))_=_.replace(l,"");else if(_.match(h))_=_.replace(h,"/");else if(_.match(f))_=_.replace(f,"/"),d.pop();else if(_==="."||_==="..")_="";else{const m=_.match(v);if(m){const i=m[0];_=_.slice(i.length),d.push(i)}else throw new Error("Unexpected dot segment condition")}return d.join("")}function y(_,d){const m=d!==!0?escape:unescape;return _.scheme!==void 0&&(_.scheme=m(_.scheme)),_.userinfo!==void 0&&(_.userinfo=m(_.userinfo)),_.host!==void 0&&(_.host=m(_.host)),_.path!==void 0&&(_.path=m(_.path)),_.query!==void 0&&(_.query=m(_.query)),_.fragment!==void 0&&(_.fragment=m(_.fragment)),_}function g(_){const d=[];if(_.userinfo!==void 0&&(d.push(_.userinfo),d.push("@")),_.host!==void 0){let m=unescape(_.host);const i=r(m);if(i.isIPV4)m=i.host;else{const p=s(i.host);p.isIPV6===!0?m=`[${p.escapedHost}]`:m=_.host}d.push(m)}return(typeof _.port=="number"||typeof _.port=="string")&&(d.push(":"),d.push(String(_.port))),d.length?d.join(""):void 0}return sn={recomposeAuthority:g,normalizeComponentEncoding:y,removeDotSegments:u,normalizeIPv4:r,normalizeIPv6:s,stringArrayToHexStripped:n},sn}var an,Cs;function Zu(){if(Cs)return an;Cs=1;const e=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,t=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function r(i){return typeof i.secure=="boolean"?i.secure:String(i.scheme).toLowerCase()==="wss"}function n(i){return i.host||(i.error=i.error||"HTTP URIs must have a host."),i}function a(i){const p=String(i.scheme).toLowerCase()==="https";return(i.port===(p?443:80)||i.port==="")&&(i.port=void 0),i.path||(i.path="/"),i}function s(i){return i.secure=r(i),i.resourceName=(i.path||"/")+(i.query?"?"+i.query:""),i.path=void 0,i.query=void 0,i}function c(i){if((i.port===(r(i)?443:80)||i.port==="")&&(i.port=void 0),typeof i.secure=="boolean"&&(i.scheme=i.secure?"wss":"ws",i.secure=void 0),i.resourceName){const[p,$]=i.resourceName.split("?");i.path=p&&p!=="/"?p:void 0,i.query=$,i.resourceName=void 0}return i.fragment=void 0,i}function o(i,p){if(!i.path)return i.error="URN can not be parsed",i;const $=i.path.match(t);if($){const b=p.scheme||i.scheme||"urn";i.nid=$[1].toLowerCase(),i.nss=$[2];const S=`${b}:${p.nid||i.nid}`,w=m[S];i.path=void 0,w&&(i=w.parse(i,p))}else i.error=i.error||"URN can not be parsed.";return i}function l(i,p){const $=p.scheme||i.scheme||"urn",b=i.nid.toLowerCase(),S=`${$}:${p.nid||b}`,w=m[S];w&&(i=w.serialize(i,p));const C=i,T=i.nss;return C.path=`${b||p.nid}:${T}`,p.skipEscape=!0,C}function h(i,p){const $=i;return $.uuid=$.nss,$.nss=void 0,!p.tolerant&&(!$.uuid||!e.test($.uuid))&&($.error=$.error||"UUID is not valid."),$}function f(i){const p=i;return p.nss=(i.uuid||"").toLowerCase(),p}const v={scheme:"http",domainHost:!0,parse:n,serialize:a},u={scheme:"https",domainHost:v.domainHost,parse:n,serialize:a},y={scheme:"ws",domainHost:!0,parse:s,serialize:c},g={scheme:"wss",domainHost:y.domainHost,parse:y.parse,serialize:y.serialize},m={http:v,https:u,ws:y,wss:g,urn:{scheme:"urn",parse:o,serialize:l,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:h,serialize:f,skipNormalize:!0}};return an=m,an}var Ps;function Qu(){if(Ps)return _t.exports;Ps=1;const{normalizeIPv6:e,normalizeIPv4:t,removeDotSegments:r,recomposeAuthority:n,normalizeComponentEncoding:a}=Xu(),s=Zu();function c(d,m){return typeof d=="string"?d=f(g(d,m),m):typeof d=="object"&&(d=g(f(d,m),m)),d}function o(d,m,i){const p=Object.assign({scheme:"null"},i),$=l(g(d,p),g(m,p),p,!0);return f($,{...p,skipEscape:!0})}function l(d,m,i,p){const $={};return p||(d=g(f(d,i),i),m=g(f(m,i),i)),i=i||{},!i.tolerant&&m.scheme?($.scheme=m.scheme,$.userinfo=m.userinfo,$.host=m.host,$.port=m.port,$.path=r(m.path||""),$.query=m.query):(m.userinfo!==void 0||m.host!==void 0||m.port!==void 0?($.userinfo=m.userinfo,$.host=m.host,$.port=m.port,$.path=r(m.path||""),$.query=m.query):(m.path?(m.path.charAt(0)==="/"?$.path=r(m.path):((d.userinfo!==void 0||d.host!==void 0||d.port!==void 0)&&!d.path?$.path="/"+m.path:d.path?$.path=d.path.slice(0,d.path.lastIndexOf("/")+1)+m.path:$.path=m.path,$.path=r($.path)),$.query=m.query):($.path=d.path,m.query!==void 0?$.query=m.query:$.query=d.query),$.userinfo=d.userinfo,$.host=d.host,$.port=d.port),$.scheme=d.scheme),$.fragment=m.fragment,$}function h(d,m,i){return typeof d=="string"?(d=unescape(d),d=f(a(g(d,i),!0),{...i,skipEscape:!0})):typeof d=="object"&&(d=f(a(d,!0),{...i,skipEscape:!0})),typeof m=="string"?(m=unescape(m),m=f(a(g(m,i),!0),{...i,skipEscape:!0})):typeof m=="object"&&(m=f(a(m,!0),{...i,skipEscape:!0})),d.toLowerCase()===m.toLowerCase()}function f(d,m){const i={host:d.host,scheme:d.scheme,userinfo:d.userinfo,port:d.port,path:d.path,query:d.query,nid:d.nid,nss:d.nss,uuid:d.uuid,fragment:d.fragment,reference:d.reference,resourceName:d.resourceName,secure:d.secure,error:""},p=Object.assign({},m),$=[],b=s[(p.scheme||i.scheme||"").toLowerCase()];b&&b.serialize&&b.serialize(i,p),i.path!==void 0&&(p.skipEscape?i.path=unescape(i.path):(i.path=escape(i.path),i.scheme!==void 0&&(i.path=i.path.split("%3A").join(":")))),p.reference!=="suffix"&&i.scheme&&$.push(i.scheme,":");const S=n(i);if(S!==void 0&&(p.reference!=="suffix"&&$.push("//"),$.push(S),i.path&&i.path.charAt(0)!=="/"&&$.push("/")),i.path!==void 0){let w=i.path;!p.absolutePath&&(!b||!b.absolutePath)&&(w=r(w)),S===void 0&&(w=w.replace(/^\/\//u,"/%2F")),$.push(w)}return i.query!==void 0&&$.push("?",i.query),i.fragment!==void 0&&$.push("#",i.fragment),$.join("")}const v=Array.from({length:127},(d,m)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(m)));function u(d){let m=0;for(let i=0,p=d.length;i<p;++i)if(m=d.charCodeAt(i),m>126||v[m])return!0;return!1}const y=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function g(d,m){const i=Object.assign({},m),p={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},$=d.indexOf("%")!==-1;let b=!1;i.reference==="suffix"&&(d=(i.scheme?i.scheme+":":"")+"//"+d);const S=d.match(y);if(S){if(p.scheme=S[1],p.userinfo=S[3],p.host=S[4],p.port=parseInt(S[5],10),p.path=S[6]||"",p.query=S[7],p.fragment=S[8],isNaN(p.port)&&(p.port=S[5]),p.host){const C=t(p.host);if(C.isIPV4===!1){const T=e(C.host);p.host=T.host.toLowerCase(),b=T.isIPV6}else p.host=C.host,b=!0}p.scheme===void 0&&p.userinfo===void 0&&p.host===void 0&&p.port===void 0&&p.query===void 0&&!p.path?p.reference="same-document":p.scheme===void 0?p.reference="relative":p.fragment===void 0?p.reference="absolute":p.reference="uri",i.reference&&i.reference!=="suffix"&&i.reference!==p.reference&&(p.error=p.error||"URI is not a "+i.reference+" reference.");const w=s[(i.scheme||p.scheme||"").toLowerCase()];if(!i.unicodeSupport&&(!w||!w.unicodeSupport)&&p.host&&(i.domainHost||w&&w.domainHost)&&b===!1&&u(p.host))try{p.host=URL.domainToASCII(p.host.toLowerCase())}catch(C){p.error=p.error||"Host's domain name can not be converted to ASCII: "+C}(!w||w&&!w.skipNormalize)&&($&&p.scheme!==void 0&&(p.scheme=unescape(p.scheme)),$&&p.host!==void 0&&(p.host=unescape(p.host)),p.path&&(p.path=escape(unescape(p.path))),p.fragment&&(p.fragment=encodeURI(decodeURIComponent(p.fragment)))),w&&w.parse&&w.parse(p,i)}else p.error=p.error||"URI can not be parsed.";return p}const _={SCHEMES:s,normalize:c,resolve:o,resolveComponents:l,equal:h,serialize:f,parse:g};return _t.exports=_,_t.exports.default=_,_t.exports.fastUri=_,_t.exports}var Ts;function ed(){if(Ts)return qt;Ts=1,Object.defineProperty(qt,"__esModule",{value:!0});const e=Qu();return e.code='require("ajv/dist/runtime/uri").default',qt.default=e,qt}var Os;function td(){return Os||(Os=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=qr();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=te();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Pn(),a=Mr(),s=mi(),c=Tn(),o=te(),l=Dr(),h=Pr(),f=ce(),v=Ju,u=ed(),y=(A,P)=>new RegExp(A,P);y.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),d={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},i=200;function p(A){var P,D,I,E,k,x,W,G,ie,ne,O,N,q,U,K,Q,fe,je,ve,_e,he,rt,ke,Vr,Ur;const ct=A.strict,Br=(P=A.code)===null||P===void 0?void 0:P.optimize,In=Br===!0||Br===void 0?1:Br||0,Nn=(I=(D=A.code)===null||D===void 0?void 0:D.regExp)!==null&&I!==void 0?I:y,$i=(E=A.uriResolver)!==null&&E!==void 0?E:u.default;return{strictSchema:(x=(k=A.strictSchema)!==null&&k!==void 0?k:ct)!==null&&x!==void 0?x:!0,strictNumbers:(G=(W=A.strictNumbers)!==null&&W!==void 0?W:ct)!==null&&G!==void 0?G:!0,strictTypes:(ne=(ie=A.strictTypes)!==null&&ie!==void 0?ie:ct)!==null&&ne!==void 0?ne:"log",strictTuples:(N=(O=A.strictTuples)!==null&&O!==void 0?O:ct)!==null&&N!==void 0?N:"log",strictRequired:(U=(q=A.strictRequired)!==null&&q!==void 0?q:ct)!==null&&U!==void 0?U:!1,code:A.code?{...A.code,optimize:In,regExp:Nn}:{optimize:In,regExp:Nn},loopRequired:(K=A.loopRequired)!==null&&K!==void 0?K:i,loopEnum:(Q=A.loopEnum)!==null&&Q!==void 0?Q:i,meta:(fe=A.meta)!==null&&fe!==void 0?fe:!0,messages:(je=A.messages)!==null&&je!==void 0?je:!0,inlineRefs:(ve=A.inlineRefs)!==null&&ve!==void 0?ve:!0,schemaId:(_e=A.schemaId)!==null&&_e!==void 0?_e:"$id",addUsedSchema:(he=A.addUsedSchema)!==null&&he!==void 0?he:!0,validateSchema:(rt=A.validateSchema)!==null&&rt!==void 0?rt:!0,validateFormats:(ke=A.validateFormats)!==null&&ke!==void 0?ke:!0,unicodeRegExp:(Vr=A.unicodeRegExp)!==null&&Vr!==void 0?Vr:!0,int32range:(Ur=A.int32range)!==null&&Ur!==void 0?Ur:!0,uriResolver:$i}}class ${constructor(P={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,P=this.opts={...P,...p(P)};const{es5:D,lines:I}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:_,es5:D,lines:I}),this.logger=M(P.logger);const E=P.validateFormats;P.validateFormats=!1,this.RULES=(0,s.getRules)(),b.call(this,d,P,"NOT SUPPORTED"),b.call(this,m,P,"DEPRECATED","warn"),this._metaOpts=F.call(this),P.formats&&C.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),P.keywords&&T.call(this,P.keywords),typeof P.meta=="object"&&this.addMetaSchema(P.meta),w.call(this),P.validateFormats=E}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:P,meta:D,schemaId:I}=this.opts;let E=v;I==="id"&&(E={...v},E.id=E.$id,delete E.$id),D&&P&&this.addMetaSchema(E,E[I],!1)}defaultMeta(){const{meta:P,schemaId:D}=this.opts;return this.opts.defaultMeta=typeof P=="object"?P[D]||P:void 0}validate(P,D){let I;if(typeof P=="string"){if(I=this.getSchema(P),!I)throw new Error(`no schema with key or ref "${P}"`)}else I=this.compile(P);const E=I(D);return"$async"in I||(this.errors=I.errors),E}compile(P,D){const I=this._addSchema(P,D);return I.validate||this._compileSchemaEnv(I)}compileAsync(P,D){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:I}=this.opts;return E.call(this,P,D);async function E(ne,O){await k.call(this,ne.$schema);const N=this._addSchema(ne,O);return N.validate||x.call(this,N)}async function k(ne){ne&&!this.getSchema(ne)&&await E.call(this,{$ref:ne},!0)}async function x(ne){try{return this._compileSchemaEnv(ne)}catch(O){if(!(O instanceof a.default))throw O;return W.call(this,O),await G.call(this,O.missingSchema),x.call(this,ne)}}function W({missingSchema:ne,missingRef:O}){if(this.refs[ne])throw new Error(`AnySchema ${ne} is loaded but ${O} cannot be resolved`)}async function G(ne){const O=await ie.call(this,ne);this.refs[ne]||await k.call(this,O.$schema),this.refs[ne]||this.addSchema(O,ne,D)}async function ie(ne){const O=this._loading[ne];if(O)return O;try{return await(this._loading[ne]=I(ne))}finally{delete this._loading[ne]}}}addSchema(P,D,I,E=this.opts.validateSchema){if(Array.isArray(P)){for(const x of P)this.addSchema(x,void 0,I,E);return this}let k;if(typeof P=="object"){const{schemaId:x}=this.opts;if(k=P[x],k!==void 0&&typeof k!="string")throw new Error(`schema ${x} must be string`)}return D=(0,l.normalizeId)(D||k),this._checkUnique(D),this.schemas[D]=this._addSchema(P,I,D,E,!0),this}addMetaSchema(P,D,I=this.opts.validateSchema){return this.addSchema(P,D,!0,I),this}validateSchema(P,D){if(typeof P=="boolean")return!0;let I;if(I=P.$schema,I!==void 0&&typeof I!="string")throw new Error("$schema must be a string");if(I=I||this.opts.defaultMeta||this.defaultMeta(),!I)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const E=this.validate(I,P);if(!E&&D){const k="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(k);else throw new Error(k)}return E}getSchema(P){let D;for(;typeof(D=S.call(this,P))=="string";)P=D;if(D===void 0){const{schemaId:I}=this.opts,E=new c.SchemaEnv({schema:{},schemaId:I});if(D=c.resolveSchema.call(this,E,P),!D)return;this.refs[P]=D}return D.validate||this._compileSchemaEnv(D)}removeSchema(P){if(P instanceof RegExp)return this._removeAllSchemas(this.schemas,P),this._removeAllSchemas(this.refs,P),this;switch(typeof P){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const D=S.call(this,P);return typeof D=="object"&&this._cache.delete(D.schema),delete this.schemas[P],delete this.refs[P],this}case"object":{const D=P;this._cache.delete(D);let I=P[this.opts.schemaId];return I&&(I=(0,l.normalizeId)(I),delete this.schemas[I],delete this.refs[I]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(P){for(const D of P)this.addKeyword(D);return this}addKeyword(P,D){let I;if(typeof P=="string")I=P,typeof D=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),D.keyword=I);else if(typeof P=="object"&&D===void 0){if(D=P,I=D.keyword,Array.isArray(I)&&!I.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(B.call(this,I,D),!D)return(0,f.eachItem)(I,k=>z.call(this,k)),this;Y.call(this,D);const E={...D,type:(0,h.getJSONTypes)(D.type),schemaType:(0,h.getJSONTypes)(D.schemaType)};return(0,f.eachItem)(I,E.type.length===0?k=>z.call(this,k,E):k=>E.type.forEach(x=>z.call(this,k,E,x))),this}getKeyword(P){const D=this.RULES.all[P];return typeof D=="object"?D.definition:!!D}removeKeyword(P){const{RULES:D}=this;delete D.keywords[P],delete D.all[P];for(const I of D.rules){const E=I.rules.findIndex(k=>k.keyword===P);E>=0&&I.rules.splice(E,1)}return this}addFormat(P,D){return typeof D=="string"&&(D=new RegExp(D)),this.formats[P]=D,this}errorsText(P=this.errors,{separator:D=", ",dataVar:I="data"}={}){return!P||P.length===0?"No errors":P.map(E=>`${I}${E.instancePath} ${E.message}`).reduce((E,k)=>E+D+k)}$dataMetaSchema(P,D){const I=this.RULES.all;P=JSON.parse(JSON.stringify(P));for(const E of D){const k=E.split("/").slice(1);let x=P;for(const W of k)x=x[W];for(const W in I){const G=I[W];if(typeof G!="object")continue;const{$data:ie}=G.definition,ne=x[W];ie&&ne&&(x[W]=ae(ne))}}return P}_removeAllSchemas(P,D){for(const I in P){const E=P[I];(!D||D.test(I))&&(typeof E=="string"?delete P[I]:E&&!E.meta&&(this._cache.delete(E.schema),delete P[I]))}}_addSchema(P,D,I,E=this.opts.validateSchema,k=this.opts.addUsedSchema){let x;const{schemaId:W}=this.opts;if(typeof P=="object")x=P[W];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof P!="boolean")throw new Error("schema must be object or boolean")}let G=this._cache.get(P);if(G!==void 0)return G;I=(0,l.normalizeId)(x||I);const ie=l.getSchemaRefs.call(this,P,I);return G=new c.SchemaEnv({schema:P,schemaId:W,meta:D,baseId:I,localRefs:ie}),this._cache.set(G.schema,G),k&&!I.startsWith("#")&&(I&&this._checkUnique(I),this.refs[I]=G),E&&this.validateSchema(P,!0),G}_checkUnique(P){if(this.schemas[P]||this.refs[P])throw new Error(`schema with key or id "${P}" already exists`)}_compileSchemaEnv(P){if(P.meta?this._compileMetaSchema(P):c.compileSchema.call(this,P),!P.validate)throw new Error("ajv implementation error");return P.validate}_compileMetaSchema(P){const D=this.opts;this.opts=this._metaOpts;try{c.compileSchema.call(this,P)}finally{this.opts=D}}}$.ValidationError=n.default,$.MissingRefError=a.default,e.default=$;function b(A,P,D,I="error"){for(const E in A){const k=E;k in P&&this.logger[I](`${D}: option ${E}. ${A[k]}`)}}function S(A){return A=(0,l.normalizeId)(A),this.schemas[A]||this.refs[A]}function w(){const A=this.opts.schemas;if(A)if(Array.isArray(A))this.addSchema(A);else for(const P in A)this.addSchema(A[P],P)}function C(){for(const A in this.opts.formats){const P=this.opts.formats[A];P&&this.addFormat(A,P)}}function T(A){if(Array.isArray(A)){this.addVocabulary(A);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const P in A){const D=A[P];D.keyword||(D.keyword=P),this.addKeyword(D)}}function F(){const A={...this.opts};for(const P of g)delete A[P];return A}const R={log(){},warn(){},error(){}};function M(A){if(A===!1)return R;if(A===void 0)return console;if(A.log&&A.warn&&A.error)return A;throw new Error("logger must implement log, warn and error methods")}const V=/^[a-z_$][a-z0-9_$:-]*$/i;function B(A,P){const{RULES:D}=this;if((0,f.eachItem)(A,I=>{if(D.keywords[I])throw new Error(`Keyword ${I} is already defined`);if(!V.test(I))throw new Error(`Keyword ${I} has invalid name`)}),!!P&&P.$data&&!("code"in P||"validate"in P))throw new Error('$data keyword must have "code" or "validate" function')}function z(A,P,D){var I;const E=P==null?void 0:P.post;if(D&&E)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:k}=this;let x=E?k.post:k.rules.find(({type:G})=>G===D);if(x||(x={type:D,rules:[]},k.rules.push(x)),k.keywords[A]=!0,!P)return;const W={keyword:A,definition:{...P,type:(0,h.getJSONTypes)(P.type),schemaType:(0,h.getJSONTypes)(P.schemaType)}};P.before?L.call(this,x,W,P.before):x.rules.push(W),k.all[A]=W,(I=P.implements)===null||I===void 0||I.forEach(G=>this.addKeyword(G))}function L(A,P,D){const I=A.rules.findIndex(E=>E.keyword===D);I>=0?A.rules.splice(I,0,P):(A.rules.push(P),this.logger.warn(`rule ${D} is not defined`))}function Y(A){let{metaSchema:P}=A;P!==void 0&&(A.$data&&this.opts.$data&&(P=ae(P)),A.validateSchema=this.compile(P,!0))}const H={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ae(A){return{anyOf:[A,H]}}}(Yr)),Yr}var Mt={},Vt={},Ut={},Is;function rd(){if(Is)return Ut;Is=1,Object.defineProperty(Ut,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Ut.default=e,Ut}var Me={},Ns;function nd(){if(Ns)return Me;Ns=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.callRef=Me.getValidate=void 0;const e=Mr(),t=Pe(),r=te(),n=Le(),a=Tn(),s=ce(),c={keyword:"$ref",schemaType:"string",code(h){const{gen:f,schema:v,it:u}=h,{baseId:y,schemaEnv:g,validateName:_,opts:d,self:m}=u,{root:i}=g;if((v==="#"||v==="#/")&&y===i.baseId)return $();const p=a.resolveRef.call(m,i,y,v);if(p===void 0)throw new e.default(u.opts.uriResolver,y,v);if(p instanceof a.SchemaEnv)return b(p);return S(p);function $(){if(g===i)return l(h,_,g,g.$async);const w=f.scopeValue("root",{ref:i});return l(h,(0,r._)`${w}.validate`,i,i.$async)}function b(w){const C=o(h,w);l(h,C,w,w.$async)}function S(w){const C=f.scopeValue("schema",d.code.source===!0?{ref:w,code:(0,r.stringify)(w)}:{ref:w}),T=f.name("valid"),F=h.subschema({schema:w,dataTypes:[],schemaPath:r.nil,topSchemaRef:C,errSchemaPath:v},T);h.mergeEvaluated(F),h.ok(T)}}};function o(h,f){const{gen:v}=h;return f.validate?v.scopeValue("validate",{ref:f.validate}):(0,r._)`${v.scopeValue("wrapper",{ref:f})}.validate`}Me.getValidate=o;function l(h,f,v,u){const{gen:y,it:g}=h,{allErrors:_,schemaEnv:d,opts:m}=g,i=m.passContext?n.default.this:r.nil;u?p():$();function p(){if(!d.$async)throw new Error("async schema referenced by sync schema");const w=y.let("valid");y.try(()=>{y.code((0,r._)`await ${(0,t.callValidateCode)(h,f,i)}`),S(f),_||y.assign(w,!0)},C=>{y.if((0,r._)`!(${C} instanceof ${g.ValidationError})`,()=>y.throw(C)),b(C),_||y.assign(w,!1)}),h.ok(w)}function $(){h.result((0,t.callValidateCode)(h,f,i),()=>S(f),()=>b(f))}function b(w){const C=(0,r._)`${w}.errors`;y.assign(n.default.vErrors,(0,r._)`${n.default.vErrors} === null ? ${C} : ${n.default.vErrors}.concat(${C})`),y.assign(n.default.errors,(0,r._)`${n.default.vErrors}.length`)}function S(w){var C;if(!g.opts.unevaluated)return;const T=(C=v==null?void 0:v.validate)===null||C===void 0?void 0:C.evaluated;if(g.props!==!0)if(T&&!T.dynamicProps)T.props!==void 0&&(g.props=s.mergeEvaluated.props(y,T.props,g.props));else{const F=y.var("props",(0,r._)`${w}.evaluated.props`);g.props=s.mergeEvaluated.props(y,F,g.props,r.Name)}if(g.items!==!0)if(T&&!T.dynamicItems)T.items!==void 0&&(g.items=s.mergeEvaluated.items(y,T.items,g.items));else{const F=y.var("items",(0,r._)`${w}.evaluated.items`);g.items=s.mergeEvaluated.items(y,F,g.items,r.Name)}}}return Me.callRef=l,Me.default=c,Me}var Fs;function sd(){if(Fs)return Vt;Fs=1,Object.defineProperty(Vt,"__esModule",{value:!0});const e=rd(),t=nd(),r=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return Vt.default=r,Vt}var Bt={},Lt={},Rs;function ad(){if(Rs)return Lt;Rs=1,Object.defineProperty(Lt,"__esModule",{value:!0});const e=te(),t=e.operators,r={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},n={message:({keyword:s,schemaCode:c})=>(0,e.str)`must be ${r[s].okStr} ${c}`,params:({keyword:s,schemaCode:c})=>(0,e._)`{comparison: ${r[s].okStr}, limit: ${c}}`},a={keyword:Object.keys(r),type:"number",schemaType:"number",$data:!0,error:n,code(s){const{keyword:c,data:o,schemaCode:l}=s;s.fail$data((0,e._)`${o} ${r[c].fail} ${l} || isNaN(${o})`)}};return Lt.default=a,Lt}var zt={},xs;function id(){if(xs)return zt;xs=1,Object.defineProperty(zt,"__esModule",{value:!0});const e=te(),r={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:n})=>(0,e.str)`must be multiple of ${n}`,params:({schemaCode:n})=>(0,e._)`{multipleOf: ${n}}`},code(n){const{gen:a,data:s,schemaCode:c,it:o}=n,l=o.opts.multipleOfPrecision,h=a.let("res"),f=l?(0,e._)`Math.abs(Math.round(${h}) - ${h}) > 1e-${l}`:(0,e._)`${h} !== parseInt(${h})`;n.fail$data((0,e._)`(${c} === 0 || (${h} = ${s}/${c}, ${f}))`)}};return zt.default=r,zt}var Kt={},Wt={},As;function od(){if(As)return Wt;As=1,Object.defineProperty(Wt,"__esModule",{value:!0});function e(t){const r=t.length;let n=0,a=0,s;for(;a<r;)n++,s=t.charCodeAt(a++),s>=55296&&s<=56319&&a<r&&(s=t.charCodeAt(a),(s&64512)===56320&&a++);return n}return Wt.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',Wt}var Ds;function cd(){if(Ds)return Kt;Ds=1,Object.defineProperty(Kt,"__esModule",{value:!0});const e=te(),t=ce(),r=od(),a={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:s,schemaCode:c}){const o=s==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${o} than ${c} characters`},params:({schemaCode:s})=>(0,e._)`{limit: ${s}}`},code(s){const{keyword:c,data:o,schemaCode:l,it:h}=s,f=c==="maxLength"?e.operators.GT:e.operators.LT,v=h.opts.unicode===!1?(0,e._)`${o}.length`:(0,e._)`${(0,t.useFunc)(s.gen,r.default)}(${o})`;s.fail$data((0,e._)`${v} ${f} ${l}`)}};return Kt.default=a,Kt}var Ht={},qs;function ld(){if(qs)return Ht;qs=1,Object.defineProperty(Ht,"__esModule",{value:!0});const e=Pe(),t=te(),n={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:a})=>(0,t.str)`must match pattern "${a}"`,params:({schemaCode:a})=>(0,t._)`{pattern: ${a}}`},code(a){const{data:s,$data:c,schema:o,schemaCode:l,it:h}=a,f=h.opts.unicodeRegExp?"u":"",v=c?(0,t._)`(new RegExp(${l}, ${f}))`:(0,e.usePattern)(a,o);a.fail$data((0,t._)`!${v}.test(${s})`)}};return Ht.default=n,Ht}var Gt={},Ms;function ud(){if(Ms)return Gt;Ms=1,Object.defineProperty(Gt,"__esModule",{value:!0});const e=te(),r={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:a}){const s=n==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${a} properties`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:a,data:s,schemaCode:c}=n,o=a==="maxProperties"?e.operators.GT:e.operators.LT;n.fail$data((0,e._)`Object.keys(${s}).length ${o} ${c}`)}};return Gt.default=r,Gt}var Jt={},Vs;function dd(){if(Vs)return Jt;Vs=1,Object.defineProperty(Jt,"__esModule",{value:!0});const e=Pe(),t=te(),r=ce(),a={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:s}})=>(0,t.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,t._)`{missingProperty: ${s}}`},code(s){const{gen:c,schema:o,schemaCode:l,data:h,$data:f,it:v}=s,{opts:u}=v;if(!f&&o.length===0)return;const y=o.length>=u.loopRequired;if(v.allErrors?g():_(),u.strictRequired){const i=s.parentSchema.properties,{definedProperties:p}=s.it;for(const $ of o)if((i==null?void 0:i[$])===void 0&&!p.has($)){const b=v.schemaEnv.baseId+v.errSchemaPath,S=`required property "${$}" is not defined at "${b}" (strictRequired)`;(0,r.checkStrictMode)(v,S,v.opts.strictRequired)}}function g(){if(y||f)s.block$data(t.nil,d);else for(const i of o)(0,e.checkReportMissingProp)(s,i)}function _(){const i=c.let("missing");if(y||f){const p=c.let("valid",!0);s.block$data(p,()=>m(i,p)),s.ok(p)}else c.if((0,e.checkMissingProp)(s,o,i)),(0,e.reportMissingProp)(s,i),c.else()}function d(){c.forOf("prop",l,i=>{s.setParams({missingProperty:i}),c.if((0,e.noPropertyInData)(c,h,i,u.ownProperties),()=>s.error())})}function m(i,p){s.setParams({missingProperty:i}),c.forOf(i,l,()=>{c.assign(p,(0,e.propertyInData)(c,h,i,u.ownProperties)),c.if((0,t.not)(p),()=>{s.error(),c.break()})},t.nil)}}};return Jt.default=a,Jt}var Yt={},Us;function fd(){if(Us)return Yt;Us=1,Object.defineProperty(Yt,"__esModule",{value:!0});const e=te(),r={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:a}){const s=n==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${a} items`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:a,data:s,schemaCode:c}=n,o=a==="maxItems"?e.operators.GT:e.operators.LT;n.fail$data((0,e._)`${s}.length ${o} ${c}`)}};return Yt.default=r,Yt}var Xt={},Zt={},Bs;function On(){if(Bs)return Zt;Bs=1,Object.defineProperty(Zt,"__esModule",{value:!0});const e=pi();return e.code='require("ajv/dist/runtime/equal").default',Zt.default=e,Zt}var Ls;function md(){if(Ls)return Xt;Ls=1,Object.defineProperty(Xt,"__esModule",{value:!0});const e=Pr(),t=te(),r=ce(),n=On(),s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:c,j:o}})=>(0,t.str)`must NOT have duplicate items (items ## ${o} and ${c} are identical)`,params:({params:{i:c,j:o}})=>(0,t._)`{i: ${c}, j: ${o}}`},code(c){const{gen:o,data:l,$data:h,schema:f,parentSchema:v,schemaCode:u,it:y}=c;if(!h&&!f)return;const g=o.let("valid"),_=v.items?(0,e.getSchemaTypes)(v.items):[];c.block$data(g,d,(0,t._)`${u} === false`),c.ok(g);function d(){const $=o.let("i",(0,t._)`${l}.length`),b=o.let("j");c.setParams({i:$,j:b}),o.assign(g,!0),o.if((0,t._)`${$} > 1`,()=>(m()?i:p)($,b))}function m(){return _.length>0&&!_.some($=>$==="object"||$==="array")}function i($,b){const S=o.name("item"),w=(0,e.checkDataTypes)(_,S,y.opts.strictNumbers,e.DataType.Wrong),C=o.const("indices",(0,t._)`{}`);o.for((0,t._)`;${$}--;`,()=>{o.let(S,(0,t._)`${l}[${$}]`),o.if(w,(0,t._)`continue`),_.length>1&&o.if((0,t._)`typeof ${S} == "string"`,(0,t._)`${S} += "_"`),o.if((0,t._)`typeof ${C}[${S}] == "number"`,()=>{o.assign(b,(0,t._)`${C}[${S}]`),c.error(),o.assign(g,!1).break()}).code((0,t._)`${C}[${S}] = ${$}`)})}function p($,b){const S=(0,r.useFunc)(o,n.default),w=o.name("outer");o.label(w).for((0,t._)`;${$}--;`,()=>o.for((0,t._)`${b} = ${$}; ${b}--;`,()=>o.if((0,t._)`${S}(${l}[${$}], ${l}[${b}])`,()=>{c.error(),o.assign(g,!1).break(w)})))}}};return Xt.default=s,Xt}var Qt={},zs;function hd(){if(zs)return Qt;zs=1,Object.defineProperty(Qt,"__esModule",{value:!0});const e=te(),t=ce(),r=On(),a={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:s})=>(0,e._)`{allowedValue: ${s}}`},code(s){const{gen:c,data:o,$data:l,schemaCode:h,schema:f}=s;l||f&&typeof f=="object"?s.fail$data((0,e._)`!${(0,t.useFunc)(c,r.default)}(${o}, ${h})`):s.fail((0,e._)`${f} !== ${o}`)}};return Qt.default=a,Qt}var er={},Ks;function pd(){if(Ks)return er;Ks=1,Object.defineProperty(er,"__esModule",{value:!0});const e=te(),t=ce(),r=On(),a={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,e._)`{allowedValues: ${s}}`},code(s){const{gen:c,data:o,$data:l,schema:h,schemaCode:f,it:v}=s;if(!l&&h.length===0)throw new Error("enum must have non-empty array");const u=h.length>=v.opts.loopEnum;let y;const g=()=>y??(y=(0,t.useFunc)(c,r.default));let _;if(u||l)_=c.let("valid"),s.block$data(_,d);else{if(!Array.isArray(h))throw new Error("ajv implementation error");const i=c.const("vSchema",f);_=(0,e.or)(...h.map((p,$)=>m(i,$)))}s.pass(_);function d(){c.assign(_,!1),c.forOf("v",f,i=>c.if((0,e._)`${g()}(${o}, ${i})`,()=>c.assign(_,!0).break()))}function m(i,p){const $=h[p];return typeof $=="object"&&$!==null?(0,e._)`${g()}(${o}, ${i}[${p}])`:(0,e._)`${o} === ${$}`}}};return er.default=a,er}var Ws;function yd(){if(Ws)return Bt;Ws=1,Object.defineProperty(Bt,"__esModule",{value:!0});const e=ad(),t=id(),r=cd(),n=ld(),a=ud(),s=dd(),c=fd(),o=md(),l=hd(),h=pd(),f=[e.default,t.default,r.default,n.default,a.default,s.default,c.default,o.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,h.default];return Bt.default=f,Bt}var tr={},st={},Hs;function yi(){if(Hs)return st;Hs=1,Object.defineProperty(st,"__esModule",{value:!0}),st.validateAdditionalItems=void 0;const e=te(),t=ce(),n={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,e.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,e._)`{limit: ${s}}`},code(s){const{parentSchema:c,it:o}=s,{items:l}=c;if(!Array.isArray(l)){(0,t.checkStrictMode)(o,'"additionalItems" is ignored when "items" is not an array of schemas');return}a(s,l)}};function a(s,c){const{gen:o,schema:l,data:h,keyword:f,it:v}=s;v.items=!0;const u=o.const("len",(0,e._)`${h}.length`);if(l===!1)s.setParams({len:c.length}),s.pass((0,e._)`${u} <= ${c.length}`);else if(typeof l=="object"&&!(0,t.alwaysValidSchema)(v,l)){const g=o.var("valid",(0,e._)`${u} <= ${c.length}`);o.if((0,e.not)(g),()=>y(g)),s.ok(g)}function y(g){o.forRange("i",c.length,u,_=>{s.subschema({keyword:f,dataProp:_,dataPropType:t.Type.Num},g),v.allErrors||o.if((0,e.not)(g),()=>o.break())})}}return st.validateAdditionalItems=a,st.default=n,st}var rr={},at={},Gs;function gi(){if(Gs)return at;Gs=1,Object.defineProperty(at,"__esModule",{value:!0}),at.validateTuple=void 0;const e=te(),t=ce(),r=Pe(),n={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:c,it:o}=s;if(Array.isArray(c))return a(s,"additionalItems",c);o.items=!0,!(0,t.alwaysValidSchema)(o,c)&&s.ok((0,r.validateArray)(s))}};function a(s,c,o=s.schema){const{gen:l,parentSchema:h,data:f,keyword:v,it:u}=s;_(h),u.opts.unevaluated&&o.length&&u.items!==!0&&(u.items=t.mergeEvaluated.items(l,o.length,u.items));const y=l.name("valid"),g=l.const("len",(0,e._)`${f}.length`);o.forEach((d,m)=>{(0,t.alwaysValidSchema)(u,d)||(l.if((0,e._)`${g} > ${m}`,()=>s.subschema({keyword:v,schemaProp:m,dataProp:m},y)),s.ok(y))});function _(d){const{opts:m,errSchemaPath:i}=u,p=o.length,$=p===d.minItems&&(p===d.maxItems||d[c]===!1);if(m.strictTuples&&!$){const b=`"${v}" is ${p}-tuple, but minItems or maxItems/${c} are not specified or different at path "${i}"`;(0,t.checkStrictMode)(u,b,m.strictTuples)}}}return at.validateTuple=a,at.default=n,at}var Js;function gd(){if(Js)return rr;Js=1,Object.defineProperty(rr,"__esModule",{value:!0});const e=gi(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,e.validateTuple)(r,"items")};return rr.default=t,rr}var nr={},Ys;function vd(){if(Ys)return nr;Ys=1,Object.defineProperty(nr,"__esModule",{value:!0});const e=te(),t=ce(),r=Pe(),n=yi(),s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:c}})=>(0,e.str)`must NOT have more than ${c} items`,params:({params:{len:c}})=>(0,e._)`{limit: ${c}}`},code(c){const{schema:o,parentSchema:l,it:h}=c,{prefixItems:f}=l;h.items=!0,!(0,t.alwaysValidSchema)(h,o)&&(f?(0,n.validateAdditionalItems)(c,f):c.ok((0,r.validateArray)(c)))}};return nr.default=s,nr}var sr={},Xs;function _d(){if(Xs)return sr;Xs=1,Object.defineProperty(sr,"__esModule",{value:!0});const e=te(),t=ce(),n={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:a,max:s}})=>s===void 0?(0,e.str)`must contain at least ${a} valid item(s)`:(0,e.str)`must contain at least ${a} and no more than ${s} valid item(s)`,params:({params:{min:a,max:s}})=>s===void 0?(0,e._)`{minContains: ${a}}`:(0,e._)`{minContains: ${a}, maxContains: ${s}}`},code(a){const{gen:s,schema:c,parentSchema:o,data:l,it:h}=a;let f,v;const{minContains:u,maxContains:y}=o;h.opts.next?(f=u===void 0?1:u,v=y):f=1;const g=s.const("len",(0,e._)`${l}.length`);if(a.setParams({min:f,max:v}),v===void 0&&f===0){(0,t.checkStrictMode)(h,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(v!==void 0&&f>v){(0,t.checkStrictMode)(h,'"minContains" > "maxContains" is always invalid'),a.fail();return}if((0,t.alwaysValidSchema)(h,c)){let p=(0,e._)`${g} >= ${f}`;v!==void 0&&(p=(0,e._)`${p} && ${g} <= ${v}`),a.pass(p);return}h.items=!0;const _=s.name("valid");v===void 0&&f===1?m(_,()=>s.if(_,()=>s.break())):f===0?(s.let(_,!0),v!==void 0&&s.if((0,e._)`${l}.length > 0`,d)):(s.let(_,!1),d()),a.result(_,()=>a.reset());function d(){const p=s.name("_valid"),$=s.let("count",0);m(p,()=>s.if(p,()=>i($)))}function m(p,$){s.forRange("i",0,g,b=>{a.subschema({keyword:"contains",dataProp:b,dataPropType:t.Type.Num,compositeRule:!0},p),$()})}function i(p){s.code((0,e._)`${p}++`),v===void 0?s.if((0,e._)`${p} >= ${f}`,()=>s.assign(_,!0).break()):(s.if((0,e._)`${p} > ${v}`,()=>s.assign(_,!1).break()),f===1?s.assign(_,!0):s.if((0,e._)`${p} >= ${f}`,()=>s.assign(_,!0)))}}};return sr.default=n,sr}var on={},Zs;function $d(){return Zs||(Zs=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=te(),r=ce(),n=Pe();e.error={message:({params:{property:l,depsCount:h,deps:f}})=>{const v=h===1?"property":"properties";return(0,t.str)`must have ${v} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:h,deps:f,missingProperty:v}})=>(0,t._)`{property: ${l},
    missingProperty: ${v},
    depsCount: ${h},
    deps: ${f}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[h,f]=s(l);c(l,h),o(l,f)}};function s({schema:l}){const h={},f={};for(const v in l){if(v==="__proto__")continue;const u=Array.isArray(l[v])?h:f;u[v]=l[v]}return[h,f]}function c(l,h=l.schema){const{gen:f,data:v,it:u}=l;if(Object.keys(h).length===0)return;const y=f.let("missing");for(const g in h){const _=h[g];if(_.length===0)continue;const d=(0,n.propertyInData)(f,v,g,u.opts.ownProperties);l.setParams({property:g,depsCount:_.length,deps:_.join(", ")}),u.allErrors?f.if(d,()=>{for(const m of _)(0,n.checkReportMissingProp)(l,m)}):(f.if((0,t._)`${d} && (${(0,n.checkMissingProp)(l,_,y)})`),(0,n.reportMissingProp)(l,y),f.else())}}e.validatePropertyDeps=c;function o(l,h=l.schema){const{gen:f,data:v,keyword:u,it:y}=l,g=f.name("valid");for(const _ in h)(0,r.alwaysValidSchema)(y,h[_])||(f.if((0,n.propertyInData)(f,v,_,y.opts.ownProperties),()=>{const d=l.subschema({keyword:u,schemaProp:_},g);l.mergeValidEvaluated(d,g)},()=>f.var(g,!0)),l.ok(g))}e.validateSchemaDeps=o,e.default=a}(on)),on}var ar={},Qs;function bd(){if(Qs)return ar;Qs=1,Object.defineProperty(ar,"__esModule",{value:!0});const e=te(),t=ce(),n={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:a})=>(0,e._)`{propertyName: ${a.propertyName}}`},code(a){const{gen:s,schema:c,data:o,it:l}=a;if((0,t.alwaysValidSchema)(l,c))return;const h=s.name("valid");s.forIn("key",o,f=>{a.setParams({propertyName:f}),a.subschema({keyword:"propertyNames",data:f,dataTypes:["string"],propertyName:f,compositeRule:!0},h),s.if((0,e.not)(h),()=>{a.error(!0),l.allErrors||s.break()})}),a.ok(h)}};return ar.default=n,ar}var ir={},ea;function vi(){if(ea)return ir;ea=1,Object.defineProperty(ir,"__esModule",{value:!0});const e=Pe(),t=te(),r=Le(),n=ce(),s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:c})=>(0,t._)`{additionalProperty: ${c.additionalProperty}}`},code(c){const{gen:o,schema:l,parentSchema:h,data:f,errsCount:v,it:u}=c;if(!v)throw new Error("ajv implementation error");const{allErrors:y,opts:g}=u;if(u.props=!0,g.removeAdditional!=="all"&&(0,n.alwaysValidSchema)(u,l))return;const _=(0,e.allSchemaProperties)(h.properties),d=(0,e.allSchemaProperties)(h.patternProperties);m(),c.ok((0,t._)`${v} === ${r.default.errors}`);function m(){o.forIn("key",f,S=>{!_.length&&!d.length?$(S):o.if(i(S),()=>$(S))})}function i(S){let w;if(_.length>8){const C=(0,n.schemaRefOrVal)(u,h.properties,"properties");w=(0,e.isOwnProperty)(o,C,S)}else _.length?w=(0,t.or)(..._.map(C=>(0,t._)`${S} === ${C}`)):w=t.nil;return d.length&&(w=(0,t.or)(w,...d.map(C=>(0,t._)`${(0,e.usePattern)(c,C)}.test(${S})`))),(0,t.not)(w)}function p(S){o.code((0,t._)`delete ${f}[${S}]`)}function $(S){if(g.removeAdditional==="all"||g.removeAdditional&&l===!1){p(S);return}if(l===!1){c.setParams({additionalProperty:S}),c.error(),y||o.break();return}if(typeof l=="object"&&!(0,n.alwaysValidSchema)(u,l)){const w=o.name("valid");g.removeAdditional==="failing"?(b(S,w,!1),o.if((0,t.not)(w),()=>{c.reset(),p(S)})):(b(S,w),y||o.if((0,t.not)(w),()=>o.break()))}}function b(S,w,C){const T={keyword:"additionalProperties",dataProp:S,dataPropType:n.Type.Str};C===!1&&Object.assign(T,{compositeRule:!0,createErrors:!1,allErrors:!1}),c.subschema(T,w)}}};return ir.default=s,ir}var or={},ta;function Sd(){if(ta)return or;ta=1,Object.defineProperty(or,"__esModule",{value:!0});const e=qr(),t=Pe(),r=ce(),n=vi(),a={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:c,schema:o,parentSchema:l,data:h,it:f}=s;f.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&n.default.code(new e.KeywordCxt(f,n.default,"additionalProperties"));const v=(0,t.allSchemaProperties)(o);for(const d of v)f.definedProperties.add(d);f.opts.unevaluated&&v.length&&f.props!==!0&&(f.props=r.mergeEvaluated.props(c,(0,r.toHash)(v),f.props));const u=v.filter(d=>!(0,r.alwaysValidSchema)(f,o[d]));if(u.length===0)return;const y=c.name("valid");for(const d of u)g(d)?_(d):(c.if((0,t.propertyInData)(c,h,d,f.opts.ownProperties)),_(d),f.allErrors||c.else().var(y,!0),c.endIf()),s.it.definedProperties.add(d),s.ok(y);function g(d){return f.opts.useDefaults&&!f.compositeRule&&o[d].default!==void 0}function _(d){s.subschema({keyword:"properties",schemaProp:d,dataProp:d},y)}}};return or.default=a,or}var cr={},ra;function wd(){if(ra)return cr;ra=1,Object.defineProperty(cr,"__esModule",{value:!0});const e=Pe(),t=te(),r=ce(),n=ce(),a={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:c,schema:o,data:l,parentSchema:h,it:f}=s,{opts:v}=f,u=(0,e.allSchemaProperties)(o),y=u.filter($=>(0,r.alwaysValidSchema)(f,o[$]));if(u.length===0||y.length===u.length&&(!f.opts.unevaluated||f.props===!0))return;const g=v.strictSchema&&!v.allowMatchingProperties&&h.properties,_=c.name("valid");f.props!==!0&&!(f.props instanceof t.Name)&&(f.props=(0,n.evaluatedPropsToName)(c,f.props));const{props:d}=f;m();function m(){for(const $ of u)g&&i($),f.allErrors?p($):(c.var(_,!0),p($),c.if(_))}function i($){for(const b in g)new RegExp($).test(b)&&(0,r.checkStrictMode)(f,`property ${b} matches pattern ${$} (use allowMatchingProperties)`)}function p($){c.forIn("key",l,b=>{c.if((0,t._)`${(0,e.usePattern)(s,$)}.test(${b})`,()=>{const S=y.includes($);S||s.subschema({keyword:"patternProperties",schemaProp:$,dataProp:b,dataPropType:n.Type.Str},_),f.opts.unevaluated&&d!==!0?c.assign((0,t._)`${d}[${b}]`,!0):!S&&!f.allErrors&&c.if((0,t.not)(_),()=>c.break())})})}}};return cr.default=a,cr}var lr={},na;function Ed(){if(na)return lr;na=1,Object.defineProperty(lr,"__esModule",{value:!0});const e=ce(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){const{gen:n,schema:a,it:s}=r;if((0,e.alwaysValidSchema)(s,a)){r.fail();return}const c=n.name("valid");r.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},c),r.failResult(c,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};return lr.default=t,lr}var ur={},sa;function jd(){if(sa)return ur;sa=1,Object.defineProperty(ur,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Pe().validateUnion,error:{message:"must match a schema in anyOf"}};return ur.default=t,ur}var dr={},aa;function kd(){if(aa)return dr;aa=1,Object.defineProperty(dr,"__esModule",{value:!0});const e=te(),t=ce(),n={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:a})=>(0,e._)`{passingSchemas: ${a.passing}}`},code(a){const{gen:s,schema:c,parentSchema:o,it:l}=a;if(!Array.isArray(c))throw new Error("ajv implementation error");if(l.opts.discriminator&&o.discriminator)return;const h=c,f=s.let("valid",!1),v=s.let("passing",null),u=s.name("_valid");a.setParams({passing:v}),s.block(y),a.result(f,()=>a.reset(),()=>a.error(!0));function y(){h.forEach((g,_)=>{let d;(0,t.alwaysValidSchema)(l,g)?s.var(u,!0):d=a.subschema({keyword:"oneOf",schemaProp:_,compositeRule:!0},u),_>0&&s.if((0,e._)`${u} && ${f}`).assign(f,!1).assign(v,(0,e._)`[${v}, ${_}]`).else(),s.if(u,()=>{s.assign(f,!0),s.assign(v,_),d&&a.mergeEvaluated(d,e.Name)})})}}};return dr.default=n,dr}var fr={},ia;function Cd(){if(ia)return fr;ia=1,Object.defineProperty(fr,"__esModule",{value:!0});const e=ce(),t={keyword:"allOf",schemaType:"array",code(r){const{gen:n,schema:a,it:s}=r;if(!Array.isArray(a))throw new Error("ajv implementation error");const c=n.name("valid");a.forEach((o,l)=>{if((0,e.alwaysValidSchema)(s,o))return;const h=r.subschema({keyword:"allOf",schemaProp:l},c);r.ok(c),r.mergeEvaluated(h)})}};return fr.default=t,fr}var mr={},oa;function Pd(){if(oa)return mr;oa=1,Object.defineProperty(mr,"__esModule",{value:!0});const e=te(),t=ce(),n={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:s})=>(0,e.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,e._)`{failingKeyword: ${s.ifClause}}`},code(s){const{gen:c,parentSchema:o,it:l}=s;o.then===void 0&&o.else===void 0&&(0,t.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const h=a(l,"then"),f=a(l,"else");if(!h&&!f)return;const v=c.let("valid",!0),u=c.name("_valid");if(y(),s.reset(),h&&f){const _=c.let("ifClause");s.setParams({ifClause:_}),c.if(u,g("then",_),g("else",_))}else h?c.if(u,g("then")):c.if((0,e.not)(u),g("else"));s.pass(v,()=>s.error(!0));function y(){const _=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);s.mergeEvaluated(_)}function g(_,d){return()=>{const m=s.subschema({keyword:_},u);c.assign(v,u),s.mergeValidEvaluated(m,v),d?c.assign(d,(0,e._)`${_}`):s.setParams({ifClause:_})}}}};function a(s,c){const o=s.schema[c];return o!==void 0&&!(0,t.alwaysValidSchema)(s,o)}return mr.default=n,mr}var hr={},ca;function Td(){if(ca)return hr;ca=1,Object.defineProperty(hr,"__esModule",{value:!0});const e=ce(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:n,it:a}){n.if===void 0&&(0,e.checkStrictMode)(a,`"${r}" without "if" is ignored`)}};return hr.default=t,hr}var la;function Od(){if(la)return tr;la=1,Object.defineProperty(tr,"__esModule",{value:!0});const e=yi(),t=gd(),r=gi(),n=vd(),a=_d(),s=$d(),c=bd(),o=vi(),l=Sd(),h=wd(),f=Ed(),v=jd(),u=kd(),y=Cd(),g=Pd(),_=Td();function d(m=!1){const i=[f.default,v.default,u.default,y.default,g.default,_.default,c.default,o.default,s.default,l.default,h.default];return m?i.push(t.default,n.default):i.push(e.default,r.default),i.push(a.default),i}return tr.default=d,tr}var pr={},yr={},ua;function Id(){if(ua)return yr;ua=1,Object.defineProperty(yr,"__esModule",{value:!0});const e=te(),r={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:n})=>(0,e.str)`must match format "${n}"`,params:({schemaCode:n})=>(0,e._)`{format: ${n}}`},code(n,a){const{gen:s,data:c,$data:o,schema:l,schemaCode:h,it:f}=n,{opts:v,errSchemaPath:u,schemaEnv:y,self:g}=f;if(!v.validateFormats)return;o?_():d();function _(){const m=s.scopeValue("formats",{ref:g.formats,code:v.code.formats}),i=s.const("fDef",(0,e._)`${m}[${h}]`),p=s.let("fType"),$=s.let("format");s.if((0,e._)`typeof ${i} == "object" && !(${i} instanceof RegExp)`,()=>s.assign(p,(0,e._)`${i}.type || "string"`).assign($,(0,e._)`${i}.validate`),()=>s.assign(p,(0,e._)`"string"`).assign($,i)),n.fail$data((0,e.or)(b(),S()));function b(){return v.strictSchema===!1?e.nil:(0,e._)`${h} && !${$}`}function S(){const w=y.$async?(0,e._)`(${i}.async ? await ${$}(${c}) : ${$}(${c}))`:(0,e._)`${$}(${c})`,C=(0,e._)`(typeof ${$} == "function" ? ${w} : ${$}.test(${c}))`;return(0,e._)`${$} && ${$} !== true && ${p} === ${a} && !${C}`}}function d(){const m=g.formats[l];if(!m){b();return}if(m===!0)return;const[i,p,$]=S(m);i===a&&n.pass(w());function b(){if(v.strictSchema===!1){g.logger.warn(C());return}throw new Error(C());function C(){return`unknown format "${l}" ignored in schema at path "${u}"`}}function S(C){const T=C instanceof RegExp?(0,e.regexpCode)(C):v.code.formats?(0,e._)`${v.code.formats}${(0,e.getProperty)(l)}`:void 0,F=s.scopeValue("formats",{key:l,ref:C,code:T});return typeof C=="object"&&!(C instanceof RegExp)?[C.type||"string",C.validate,(0,e._)`${F}.validate`]:["string",C,F]}function w(){if(typeof m=="object"&&!(m instanceof RegExp)&&m.async){if(!y.$async)throw new Error("async format in sync schema");return(0,e._)`await ${$}(${c})`}return typeof p=="function"?(0,e._)`${$}(${c})`:(0,e._)`${$}.test(${c})`}}}};return yr.default=r,yr}var da;function Nd(){if(da)return pr;da=1,Object.defineProperty(pr,"__esModule",{value:!0});const t=[Id().default];return pr.default=t,pr}var We={},fa;function Fd(){return fa||(fa=1,Object.defineProperty(We,"__esModule",{value:!0}),We.contentVocabulary=We.metadataVocabulary=void 0,We.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],We.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),We}var ma;function Rd(){if(ma)return Mt;ma=1,Object.defineProperty(Mt,"__esModule",{value:!0});const e=sd(),t=yd(),r=Od(),n=Nd(),a=Fd(),s=[e.default,t.default,(0,r.default)(),n.default,a.metadataVocabulary,a.contentVocabulary];return Mt.default=s,Mt}var gr={},$t={},ha;function xd(){if(ha)return $t;ha=1,Object.defineProperty($t,"__esModule",{value:!0}),$t.DiscrError=void 0;var e;return function(t){t.Tag="tag",t.Mapping="mapping"}(e||($t.DiscrError=e={})),$t}var pa;function Ad(){if(pa)return gr;pa=1,Object.defineProperty(gr,"__esModule",{value:!0});const e=te(),t=xd(),r=Tn(),n=Mr(),a=ce(),c={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:o,tagName:l}})=>o===t.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:o,tag:l,tagName:h}})=>(0,e._)`{error: ${o}, tag: ${h}, tagValue: ${l}}`},code(o){const{gen:l,data:h,schema:f,parentSchema:v,it:u}=o,{oneOf:y}=v;if(!u.opts.discriminator)throw new Error("discriminator: requires discriminator option");const g=f.propertyName;if(typeof g!="string")throw new Error("discriminator: requires propertyName");if(f.mapping)throw new Error("discriminator: mapping is not supported");if(!y)throw new Error("discriminator: requires oneOf keyword");const _=l.let("valid",!1),d=l.const("tag",(0,e._)`${h}${(0,e.getProperty)(g)}`);l.if((0,e._)`typeof ${d} == "string"`,()=>m(),()=>o.error(!1,{discrError:t.DiscrError.Tag,tag:d,tagName:g})),o.ok(_);function m(){const $=p();l.if(!1);for(const b in $)l.elseIf((0,e._)`${d} === ${b}`),l.assign(_,i($[b]));l.else(),o.error(!1,{discrError:t.DiscrError.Mapping,tag:d,tagName:g}),l.endIf()}function i($){const b=l.name("valid"),S=o.subschema({keyword:"oneOf",schemaProp:$},b);return o.mergeEvaluated(S,e.Name),b}function p(){var $;const b={},S=C(v);let w=!0;for(let R=0;R<y.length;R++){let M=y[R];if(M!=null&&M.$ref&&!(0,a.schemaHasRulesButRef)(M,u.self.RULES)){const B=M.$ref;if(M=r.resolveRef.call(u.self,u.schemaEnv.root,u.baseId,B),M instanceof r.SchemaEnv&&(M=M.schema),M===void 0)throw new n.default(u.opts.uriResolver,u.baseId,B)}const V=($=M==null?void 0:M.properties)===null||$===void 0?void 0:$[g];if(typeof V!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${g}"`);w=w&&(S||C(M)),T(V,R)}if(!w)throw new Error(`discriminator: "${g}" must be required`);return b;function C({required:R}){return Array.isArray(R)&&R.includes(g)}function T(R,M){if(R.const)F(R.const,M);else if(R.enum)for(const V of R.enum)F(V,M);else throw new Error(`discriminator: "properties/${g}" must have "const" or "enum"`)}function F(R,M){if(typeof R!="string"||R in b)throw new Error(`discriminator: "${g}" values must be unique strings`);b[R]=M}}}};return gr.default=c,gr}const Dd="http://json-schema.org/draft-07/schema#",qd="http://json-schema.org/draft-07/schema#",Md="Core schema meta-schema",Vd={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Ud=["object","boolean"],Bd={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Ld={$schema:Dd,$id:qd,title:Md,definitions:Vd,type:Ud,properties:Bd,default:!0};var ya;function _i(){return ya||(ya=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=td(),n=Rd(),a=Ad(),s=Ld,c=["/properties"],o="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(s,c):s;this.addMetaSchema(g,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var h=qr();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return h.KeywordCxt}});var f=te();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var v=Pn();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return v.default}});var u=Mr();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return u.default}})}(Rt,Rt.exports)),Rt.exports}var zd=_i();const Kd=Qe(zd);var vr={exports:{}},cn={},ga;function Wd(){return ga||(ga=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(T,F){return{validate:T,compare:F}}e.fullFormats={date:t(s,c),time:t(l,h),"date-time":t(v,u),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:_,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:C,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:m,int32:{type:"number",validate:$},int64:{type:"number",validate:b},float:{type:"number",validate:S},double:{type:"number",validate:S},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,c),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,h),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,u),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(T){return T%4===0&&(T%100!==0||T%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,a=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(T){const F=n.exec(T);if(!F)return!1;const R=+F[1],M=+F[2],V=+F[3];return M>=1&&M<=12&&V>=1&&V<=(M===2&&r(R)?29:a[M])}function c(T,F){if(T&&F)return T>F?1:T<F?-1:0}const o=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function l(T,F){const R=o.exec(T);if(!R)return!1;const M=+R[1],V=+R[2],B=+R[3],z=R[5];return(M<=23&&V<=59&&B<=59||M===23&&V===59&&B===60)&&(!F||z!=="")}function h(T,F){if(!(T&&F))return;const R=o.exec(T),M=o.exec(F);if(R&&M)return T=R[1]+R[2]+R[3]+(R[4]||""),F=M[1]+M[2]+M[3]+(M[4]||""),T>F?1:T<F?-1:0}const f=/t|\s/i;function v(T){const F=T.split(f);return F.length===2&&s(F[0])&&l(F[1],!0)}function u(T,F){if(!(T&&F))return;const[R,M]=T.split(f),[V,B]=F.split(f),z=c(R,V);if(z!==void 0)return z||h(M,B)}const y=/\/|:/,g=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function _(T){return y.test(T)&&g.test(T)}const d=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function m(T){return d.lastIndex=0,d.test(T)}const i=-2147483648,p=2**31-1;function $(T){return Number.isInteger(T)&&T<=p&&T>=i}function b(T){return Number.isInteger(T)}function S(){return!0}const w=/[^\\]\\Z/;function C(T){if(w.test(T))return!1;try{return new RegExp(T),!0}catch{return!1}}}(cn)),cn}var ln={},va;function Hd(){return va||(va=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=_i(),r=te(),n=r.operators,a={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},s={message:({keyword:o,schemaCode:l})=>r.str`should be ${a[o].okStr} ${l}`,params:({keyword:o,schemaCode:l})=>r._`{comparison: ${a[o].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(a),type:"string",schemaType:"string",$data:!0,error:s,code(o){const{gen:l,data:h,schemaCode:f,keyword:v,it:u}=o,{opts:y,self:g}=u;if(!y.validateFormats)return;const _=new t.KeywordCxt(u,g.RULES.all.format.definition,"format");_.$data?d():m();function d(){const p=l.scopeValue("formats",{ref:g.formats,code:y.code.formats}),$=l.const("fmt",r._`${p}[${_.schemaCode}]`);o.fail$data(r.or(r._`typeof ${$} != "object"`,r._`${$} instanceof RegExp`,r._`typeof ${$}.compare != "function"`,i($)))}function m(){const p=_.schema,$=g.formats[p];if(!$||$===!0)return;if(typeof $!="object"||$ instanceof RegExp||typeof $.compare!="function")throw new Error(`"${v}": format "${p}" does not define "compare" function`);const b=l.scopeValue("formats",{key:p,ref:$,code:y.code.formats?r._`${y.code.formats}${r.getProperty(p)}`:void 0});o.fail$data(i(b))}function i(p){return r._`${p}.compare(${h}, ${f}) ${a[v].fail} 0`}},dependencies:["format"]};const c=o=>(o.addKeyword(e.formatLimitDefinition),o);e.default=c}(ln)),ln}var _a;function Gd(){return _a||(_a=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Wd(),n=Hd(),a=te(),s=new a.Name("fullFormats"),c=new a.Name("fastFormats"),o=(h,f={keywords:!0})=>{if(Array.isArray(f))return l(h,f,r.fullFormats,s),h;const[v,u]=f.mode==="fast"?[r.fastFormats,c]:[r.fullFormats,s],y=f.formats||r.formatNames;return l(h,y,v,u),f.keywords&&n.default(h),h};o.get=(h,f="full")=>{const u=(f==="fast"?r.fastFormats:r.fullFormats)[h];if(!u)throw new Error(`Unknown format "${h}"`);return u};function l(h,f,v,u){var y,g;(y=(g=h.opts.code).formats)!==null&&y!==void 0||(g.formats=a._`require("ajv-formats/dist/formats").${u}`);for(const _ of f)h.addFormat(_,v[_])}e.exports=t=o,Object.defineProperty(t,"__esModule",{value:!0}),t.default=o}(vr,vr.exports)),vr.exports}var Jd=Gd();const $a=Qe(Jd),Yd={allErrors:!0,multipleOfPrecision:8,strict:!1,verbose:!0,discriminator:!1},Xd=/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,Zd=/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/;function Qd(e,t,r={},n,a=Kd){const s=new a({...Yd,...r});return n?$a(s,n):n!==!1&&$a(s),s.addFormat("data-url",Zd),s.addFormat("color",Xd),s.addKeyword(Tt),s.addKeyword(pn),Array.isArray(e)&&s.addMetaSchema(e),Ie(t)&&Object.keys(t).forEach(c=>{s.addFormat(c,t[c])}),s}function ef(e=[],t){return e.map(r=>{var n;const{instancePath:a,keyword:s,params:c,schemaPath:o,parentSchema:l,...h}=r;let{message:f=""}=h,v=a.replace(/\//g,"."),u=`${v} ${f}`.trim();const y=[...((n=c.deps)===null||n===void 0?void 0:n.split(", "))||[],c.missingProperty,c.property].filter(g=>g);if(y.length>0)y.forEach(g=>{const _=v?`${v}.${g}`:g;let d=se(X(t,`${_.replace(/^\./,"")}`)).title;if(d===void 0){const m=o.replace(/\/properties\//g,"/").split("/").slice(1,-1).concat([g]);d=se(X(t,m)).title}if(d)f=f.replace(`'${g}'`,`'${d}'`);else{const m=X(l,[Se,g,"title"]);m&&(f=f.replace(`'${g}'`,`'${m}'`))}}),u=f;else{const g=se(X(t,`${v.replace(/^\./,"")}`)).title;if(g)u=`'${g}' ${f}`.trim();else{const _=l==null?void 0:l.title;_&&(u=`'${_}' ${f}`.trim())}}return"missingProperty"in c&&(v=v?`${v}.${c.missingProperty}`:c.missingProperty),{name:s,property:v,message:f,params:c,stack:u,schemaPath:o}})}function tf(e,t,r,n,a,s,c){const{validationError:o}=t;let l=ef(t.errors,c);o&&(l=[...l,{stack:o.message}]),typeof s=="function"&&(l=s(l,c));let h=ko(l);if(o&&(h={...h,$schema:{__errors:[o.message]}}),typeof a!="function")return{errors:l,errorSchema:h};const f=Ca(e,n,r,n,!0),v=a(f,kr(f),c),u=En(v);return Sr({errors:l,errorSchema:h},u)}class rf{constructor(t,r){const{additionalMetaSchemas:n,customFormats:a,ajvOptionsOverrides:s,ajvFormatOptions:c,AjvClass:o}=t;this.ajv=Qd(n,a,s,c,o),this.localizer=r}reset(){this.ajv.removeSchema()}toErrorList(t,r=[]){return jt(t,r)}rawValidation(t,r){var n,a;let s,c;t[Be]&&(c=this.ajv.getSchema(t[Be]));try{c===void 0&&(c=this.ajv.compile(t)),c(r)}catch(l){s=l}let o;return c&&(typeof this.localizer=="function"&&(((n=c.errors)!==null&&n!==void 0?n:[]).forEach(l=>{var h;["missingProperty","property"].forEach(f=>{var v;!((v=l.params)===null||v===void 0)&&v[f]&&(l.params[f]=`'${l.params[f]}'`)}),!((h=l.params)===null||h===void 0)&&h.deps&&(l.params.deps=l.params.deps.split(", ").map(f=>`'${f}'`).join(", "))}),this.localizer(c.errors),((a=c.errors)!==null&&a!==void 0?a:[]).forEach(l=>{var h;["missingProperty","property"].forEach(f=>{var v;!((v=l.params)===null||v===void 0)&&v[f]&&(l.params[f]=l.params[f].slice(1,-1))}),!((h=l.params)===null||h===void 0)&&h.deps&&(l.params.deps=l.params.deps.split(", ").map(f=>f.slice(1,-1)).join(", "))})),o=c.errors||void 0,c.errors=null),{errors:o,validationError:s}}validateFormData(t,r,n,a,s){const c=this.rawValidation(r,t);return tf(this,c,t,r,n,a,s)}handleSchemaUpdate(t){var r,n;const a=(r=t[Be])!==null&&r!==void 0?r:Pa;this.ajv.getSchema(a)===void 0?this.ajv.addSchema(t,a):de(t,(n=this.ajv.getSchema(a))===null||n===void 0?void 0:n.schema)||(this.ajv.removeSchema(a),this.ajv.addSchema(t,a))}isValid(t,r,n){var a;try{this.handleSchemaUpdate(n);const s=jn(t),c=(a=s[Be])!==null&&a!==void 0?a:bo(s);let o;return o=this.ajv.getSchema(c),o===void 0&&(o=this.ajv.addSchema(s,c).getSchema(c)||this.ajv.compile(s)),o(r)}catch(s){return console.warn("Error encountered compiling schema:",s),!1}}}function nf(e={},t){return new rf(e,t)}const sm=nf();export{Gl as F,nm as M,rm as W,re as a,Ka as b,qa as c,Ee as d,Et as e,yo as f,Hl as g,bn as h,tt as l,sm as v};
