import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{s as w,t as a,k as R}from"./useFiles-C5DfrOX2.js";import{B as D,d as M}from"./SynapseConstants-BtfgJM_H.js";import"./index-Jc_eG4r1.js";import"./VerificationSubmission-BDh1zA9f.js";import"./StringUtils-C95LMFI-.js";import{E as T,u as A}from"./ExpandableContent-C2mS-kOq.js";import"./OrientationBanner-CESHpiba.js";import{u as B}from"./useGetGoalData-BzVYuYoE.js";import{Q as C}from"./QueryCount-BBWohJN5.js";import{u as F}from"./useTheme-DsqwfTCV.js";import{C as L}from"./Card-B8iPrQG2.js";import{C as K}from"./CardActionArea-ClOGdg7G.js";import{B as c}from"./Box-BopbBMQ6.js";import{S as O}from"./Stack-Bsxn6uz-.js";import{T as h}from"./Typography-CRJ_ISqb.js";import{B as Q}from"./Button-SLwSyWGH.js";function m({link:n,countSql:o,title:s,svgIconComponent:i}){const t=F(),l=i;return e.jsx(L,{sx:{maxWidth:"470px",display:"flex",flex:"1 0 0",borderRadius:"3px","&:hover":{border:`1px solid ${t.palette.primary.main}`}},children:e.jsxs(K,{onClick:()=>window.open(n,"_self"),sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"24px",gap:"12px"},children:[l&&e.jsx(c,{sx:{width:"42px",height:"42px",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",".MuiCardActionArea-root:hover &":{background:t.palette.primary.main,fill:"#FFF"}},children:e.jsx(c,{component:"span",sx:{width:24,height:24,svg:{color:"grey.700",".MuiCardActionArea-root:hover &":{color:"#FFF !important"}}},children:e.jsx(l,{width:24,height:24})})}),e.jsxs(O,{sx:{justifyContent:"center",alignItems:"center"},children:[e.jsx(h,{variant:"headline3",sx:{fontSize:"21px",lineHeight:"21px",fontWeight:700,letterSpacing:"0.2px"},children:o&&e.jsx(C,{parens:!1,query:{sql:o}})}),e.jsx(h,{variant:"headline3",sx:{fontWeight:400,lineHeight:"27px"},children:s})]})]})})}try{m.displayName="GoalsV3Desktop",m.__docgenInfo={description:"",displayName:"GoalsV3Desktop",props:{countSql:{defaultValue:null,description:"",name:"countSql",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}},svgIconComponent:{defaultValue:null,description:"",name:"svgIconComponent",required:!1,type:{name:"FC<SVGProps<SVGSVGElement>>"}}}}}catch{}function x({link:n,summary:o,countSql:s,title:i}){const t=e.jsxs("div",{className:"Goals__Mobile__Header",children:[s&&e.jsx("span",{className:"Goals__Mobile__Header__Count",children:e.jsx(C,{parens:!1,query:{sql:s}})}),e.jsxs("span",{className:"Goals__Mobile__Header__Title",children:[" ",i," "]})]}),l=e.jsxs("div",{children:[e.jsx("p",{children:o}),e.jsx(Q,{variant:"contained",color:"secondary",href:n,children:"Explore"})]});return e.jsx(T,{title:t,content:l})}try{x.displayName="GoalsV3Mobile",x.__docgenInfo={description:"",displayName:"GoalsV3Mobile",props:{countSql:{defaultValue:null,description:"",name:"countSql",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}},svgIconComponent:{defaultValue:null,description:"",name:"svgIconComponent",required:!1,type:{name:"FC<SVGProps<SVGSVGElement>>"}}}}}catch{}const U=1200,g=({entityId:n,svgComponentMap:o})=>{const s=A(U),i={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:n,partMask:D|M,query:{sql:`select *
                from ${n}
                order by ItemOrder`}},{data:t}=w(i),{error:l}=B(n,t),y=a("TableId",t),d=a("CountSql",t),V=a("Title",t),S=a("Summary",t),j=a("Link",t),q=a("iconKey",t),G=(t==null?void 0:t.queryResult.queryResults.rows.map(u=>{const r=u.values;r.some(N=>N===null)&&console.warn("Row has null value(s) when no nulls expected");const f=y>-1?r[y]:void 0;let p;d>-1&&r[d]!==null?p=r[d]:f&&(p=`SELECT * FROM ${f}`);const E=r[V],v=r[S],k=r[j],_=r[q],b=_?o==null?void 0:o[_.toLowerCase().replace(/\s+/g,"_")]:void 0;return{countSql:p,title:E,summary:v,link:k,svgIconComponent:b}}))??[],I=s?m:x;return e.jsxs(c,{children:[l&&e.jsx(R,{error:l}),e.jsx("div",{className:"Goals",children:e.jsx(c,{sx:{display:"flex",gap:s?"10px":"0",flexDirection:s?"row":"column",justifyContent:"center"},children:G.map((u,r)=>e.jsx(I,{...u},r))})})]})};try{g.displayName="GoalsV3",g.__docgenInfo={description:"",displayName:"GoalsV3",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},svgComponentMap:{defaultValue:null,description:"",name:"svgComponentMap",required:!0,type:{name:"Record<string, FC<SVGProps<SVGSVGElement>>>"}}}}}catch{}export{g as G};
