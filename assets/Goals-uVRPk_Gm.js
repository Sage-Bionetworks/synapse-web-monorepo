import{j as e}from"./jsx-runtime-Du8NFWEI.js";import{r as M}from"./index-Dl6G-zuu.js";import{o as v,Q as u,J as D}from"./useFiles-BoUVdlSA.js";import{i as V,g as R}from"./SynapseConstants-B1OhJYgL.js";import"./VerificationSubmission-DL9jxYsQ.js";import"./StringUtils-By8SXO8c.js";import{u as w}from"./useShowDesktop-CPh-208G.js";import"./OrientationBanner-D9CLn5zV.js";import{E as L}from"./EvenlyDistributedWrappedContainer-CFphswqG.js";import{E as T}from"./ExpandableContent-CyocgZyH.js";import{Q as N}from"./QueryCount-DI3Xm1yw.js";import{B as C}from"./Button-DtfaTZY_.js";import{u as Q}from"./useGetGoalData-DCR-2mev.js";function y({link:r,summary:t,countSql:n,title:l}){const s=e.jsxs("div",{className:"Goals__Mobile__Header",children:[n&&e.jsx("span",{className:"Goals__Mobile__Header__Count",children:e.jsx(N,{parens:!1,query:{sql:n}})}),e.jsxs("span",{className:"Goals__Mobile__Header__Title",children:[" ",l," "]})]}),o=e.jsxs("div",{className:"Goals__Mobile__Content",children:[e.jsx("p",{children:t}),e.jsx(C,{variant:"contained",color:"secondary",className:"Goals__Mobile__Content__Link",href:r,children:"Explore"})]});return e.jsx(T,{title:s,content:o})}try{y.displayName="GoalsMobile",y.__docgenInfo={description:"",displayName:"GoalsMobile",props:{countSql:{defaultValue:null,description:"",name:"countSql",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}},asset:{defaultValue:null,description:"",name:"asset",required:!0,type:{name:"string"}}}}}catch{}function f({asset:r,link:t,summary:n,countSql:l,title:s}){return e.jsxs("div",{className:"Goals__Card",style:{cursor:"pointer"},onClick:()=>window.open(t),children:[e.jsx("div",{className:"Goals__Card__header",style:{background:`url('${r}')`},children:e.jsxs("p",{children:[e.jsxs("span",{className:"Goals__Card__header__title",children:[" ",s," "]}),l&&e.jsx("span",{className:"Goals__Card__header__count",children:e.jsx(N,{parens:!1,query:{sql:l}})})]})}),e.jsxs("div",{className:"Goals__Card__summary",children:[e.jsxs("p",{children:[" ",n," "]}),e.jsx(C,{className:"Goals__Card__summary__link",variant:"contained",color:"secondary",href:t,children:"Explore"})]})]})}try{f.displayName="GoalsDesktop",f.__docgenInfo={description:"",displayName:"GoalsDesktop",props:{countSql:{defaultValue:null,description:"",name:"countSql",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}},asset:{defaultValue:null,description:"",name:"asset",required:!0,type:{name:"string"}}}}}catch{}const B=1200;function g(r){const{entityId:t}=r,n=w(B),l={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:t,partMask:V|R,query:{sql:`select *
            from ${t}
            order by ItemOrder`}},{data:s}=v(l),{assets:o,error:x}=Q(t,s),m=u("TableId",s),c=u("CountSql",s),h=u("Title",s),G=u("Summary",s),j=u("Link",s),p=M.useMemo(()=>s==null?void 0:s.queryResult.queryResults.rows.map((i,d)=>{const a=i.values;a.some(S=>S===null)&&console.warn("Row has null value(s) when no nulls expected");const q=m>-1?a[m]:void 0;let _;c>-1&&a[c]?_=a[c]:q&&(_=`SELECT * FROM ${q}`);const E=a[h],I=a[G],b=a[j],k=(o==null?void 0:o[d])??"";return{countSql:_,title:E,summary:I,link:b,asset:k}}),[c,o,j,s==null?void 0:s.queryResult,G,m,h]);return x?e.jsx(D,{error:x}):p?n?e.jsx("div",{className:"Goals",children:e.jsx(L,{children:p.map((i,d)=>e.jsx(f,{...i},d))})}):e.jsx("div",{className:"Goals",children:p.map((i,d)=>e.jsx(y,{...i},d))}):e.jsx(e.Fragment,{})}try{g.displayName="Goals",g.__docgenInfo={description:"",displayName:"Goals",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}}}}}catch{}export{g as G};
