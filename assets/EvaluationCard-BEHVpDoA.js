import{j as e}from"./jsx-runtime-Du8NFWEI.js";import{r as s}from"./index-Dl6G-zuu.js";import{l as x,I as C,J as E,K as j}from"./useFiles-DlHdYvDe.js";import{I as v}from"./IconSvg-KrLXYQAC.js";import{W as y}from"./WarningDialog-Cg8YfSCo.js";import{C as b}from"./CreatedOnByUserDiv-DNA1KVNm.js";import{C as w}from"./Card-J02zcsj3.js";import{C as D}from"./CardContent-rt9aUcV1.js";import{B as g}from"./Box-CaFleW7-.js";import{B as S}from"./Button-DtfaTZY_.js";import{I as k}from"./IconButton-BIc9jQ57.js";import{M as I}from"./Menu-BxlTrzRj.js";import{M as h}from"./MenuItem-BF-m1c73.js";import{D as A}from"./Divider-uKYf26yp.js";function f({evaluation:n,onEdit:l,onModifyAccess:c,onSubmit:d,onDeleteSuccess:u}){const{accessToken:t}=x(),[a,o]=s.useState(),[r,m]=s.useState();s.useEffect(()=>{o(void 0),C(n.id,t).then(i=>{m(i)}).catch(i=>o(i))},[n,t]);const p=()=>{o(void 0),j(n.id,t).then(u).catch(o)};return e.jsx("div",{className:"evaluation-card",children:e.jsx(w,{children:e.jsxs(D,{sx:{p:3},children:[a&&e.jsx(E,{error:a}),r&&e.jsxs(e.Fragment,{children:[e.jsxs(g,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx("label",{children:"EVALUATION QUEUE"}),e.jsx(B,{permissions:r,onDelete:p,onEdit:l,onModifyAccess:c})]}),e.jsxs("h4",{children:[n.name," (",n.id,")"]}),e.jsx("label",{children:"Description"}),e.jsx("p",{children:n.description}),e.jsx("label",{children:"Instructions"}),e.jsx("p",{children:n.submissionInstructionsMessage}),e.jsx(b,{userId:n.ownerId,date:new Date(n.createdOn)}),(r==null?void 0:r.canSubmit)&&e.jsx(S,{className:"submit-button",color:"primary",variant:"contained",onClick:d,children:"Submit"})]})]})})})}function B({permissions:n,onEdit:l,onModifyAccess:c,onDelete:d}){const[u,t]=s.useState(!1),[a,o]=s.useState(null),r=!!a,m=i=>{o(i.currentTarget)},p=()=>{o(null)};return n.canEdit||n.canChangePermissions||n.canDelete?e.jsxs(e.Fragment,{children:[(n==null?void 0:n.canDelete)&&e.jsx(y,{title:"Delete Evaluation Queue",content:"Are you sure you want to delete the Evaluation Queue?",open:u,confirmButtonText:"Delete",onConfirm:()=>{d(),t(!1)},onConfirmCallbackArgs:[],onCancel:()=>{t(!1)},confirmButtonColor:"error"}),e.jsx(k,{onClick:m,"aria-label":"Options",children:e.jsx(v,{icon:"verticalEllipsis",wrap:!1})}),e.jsxs(I,{anchorEl:a,open:r,onClose:p,slotProps:{paper:{sx:{minWidth:"120px"}}},children:[n.canEdit&&e.jsx(h,{role:"menuitem",onClick:l,children:"Edit"}),n.canChangePermissions&&e.jsx(h,{role:"menuitem",onClick:c,children:"Modify Access"}),n.canDelete&&e.jsx(A,{}),n.canDelete&&e.jsx(h,{role:"menuitem",onClick:()=>t(!0),children:"Delete"})]})]}):null}try{f.displayName="EvaluationCard",f.__docgenInfo={description:`This component is currently only intended to be used in Synapse.org.
For this reason, the dropdown menu items are unimplemented as no components
in this project implement their behavior. The dropdown options are also
not shown if the current user does not have permissions for the action

All Evaluation metadata must be provided to this component; it will not
retrieve an Evaluation via a REST API call`,displayName:"EvaluationCard",props:{evaluation:{defaultValue:null,description:"properties of the Evaluation to show",name:"evaluation",required:!0,type:{name:"ExistingEvaluation"}},onEdit:{defaultValue:null,description:"Callback when the Edit option in the dropdown is clicked",name:"onEdit",required:!0,type:{name:"() => void"}},onModifyAccess:{defaultValue:null,description:"Callback when the Modify Access option in the dropdown is clicked",name:"onModifyAccess",required:!0,type:{name:"() => void"}},onSubmit:{defaultValue:null,description:"Callback when the Submit button is clicked",name:"onSubmit",required:!0,type:{name:"() => void"}},onDeleteSuccess:{defaultValue:null,description:"Callback when the Delete option is successful",name:"onDeleteSuccess",required:!0,type:{name:"() => void"}}}}}catch{}export{f as E};
