import{j as e,Y as h,bs as v,B,fk as D,fl as i,W as _,b6 as L,bY as T,fa as M,a2 as A}from"./iframe-CKkRwo5v.js";import{E as O,u as Q}from"./ExpandableContent-Iy2DUcra.js";import{Q as C,u as U}from"./QueryCount-DtqPjRw9.js";import{P}from"./PortalSectionHeader-DQI8s8BF.js";import{N as K}from"./NavigateNext-CMlku77c.js";import{C as W}from"./Card-Dl_jNj30.js";import{C as Y}from"./CardActionArea-C00Aqa_R.js";import{C as F}from"./CardMedia-B9ylwYhM.js";import{C as H}from"./CardContent-98ZnsC-t.js";function m({asset:n,link:r,countSql:a,title:s}){return e.jsx(W,{sx:{width:"200px",maxWidth:"200px",height:"auto",backgroundColor:"transparent",borderColor:"transparent",boxShadow:"none"},children:e.jsxs(Y,{onClick:()=>window.open(r,"_self"),children:[e.jsx(F,{component:"img",sx:{height:150,width:"100%",paddingX:2,overflow:"visible"},image:n,alt:s}),e.jsxs(H,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[e.jsx(h,{variant:"h6",sx:{marginRight:1,fontSize:"16px",fontWeight:900},children:a&&e.jsx(C,{parens:!1,query:{sql:a}})}),e.jsx(h,{variant:"body1",children:s}),e.jsx(v,{sx:{color:"primary.main"},children:e.jsx(K,{})})]})]})})}try{m.displayName="GoalsV2Desktop",m.__docgenInfo={description:"",displayName:"GoalsV2Desktop",props:{countSql:{defaultValue:null,description:"",name:"countSql",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}},asset:{defaultValue:null,description:"",name:"asset",required:!0,type:{name:"string"}}}}}catch{}function x({link:n,summary:r,countSql:a,title:s}){const d=e.jsxs("div",{children:[a&&e.jsx("span",{children:e.jsx(C,{parens:!1,query:{sql:a}})}),e.jsxs("span",{children:[" ",s," "]})]}),t=e.jsxs("div",{children:[e.jsx("p",{children:r}),e.jsx(B,{variant:"contained",color:"secondary",href:n,children:"Explore"})]});return e.jsx(O,{title:d,content:t})}try{x.displayName="GoalsV2Mobile",x.__docgenInfo={description:"",displayName:"GoalsV2Mobile",props:{countSql:{defaultValue:null,description:"",name:"countSql",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}},asset:{defaultValue:null,description:"",name:"asset",required:!0,type:{name:"string"}}}}}catch{}const $=1200,q=n=>{const{entityId:r,dataLink:a}=n,s=Q($),d={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:r,partMask:M|A,query:{sql:`select * from ${r} order by ItemOrder`}},{data:t}=D(d),{assets:j,error:y}=U(r,t),f=i("TableId",t),u=i("CountSql",t),V=i("Title",t),b=i("Summary",t),k=i("Link",t),I=t?.queryResult.queryResults.rows.map((l,p)=>{const o=l.values;o.some(R=>R===null)&&console.warn("Row has null value(s) when no nulls expected");const g=f>-1?o[f]:void 0;let c;u>-1&&o[u]?c=o[u]:g&&(c=`SELECT * FROM ${g}`);const E=o[V],w=o[b],G=o[k],N=j?.[p]??"";return{countSql:c,title:E,summary:w,link:G,asset:N}})??[],S=s?m:x;return e.jsxs(_,{sx:{minHeight:"560px",padding:{xs:"40px",lg:"80px"}},children:[e.jsx(P,{centered:!0,title:"What's in the Portal?",buttonText:"Start Exploring Data",link:a,sx:l=>({h2:{borderColor:L(l.palette.primary.main,.2)},a:{marginTop:"24px",marginBottom:"30px"}})}),y&&e.jsx(T,{error:y}),e.jsx("div",{className:"Goals",children:e.jsx(_,{sx:{display:"flex",justifyContent:"space-between",flexDirection:s?"row":"column"},children:I.map((l,p)=>e.jsx(S,{...l},p))})})]})};try{q.displayName="GoalsV2",q.__docgenInfo={description:"",displayName:"GoalsV2",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},dataLink:{defaultValue:null,description:"",name:"dataLink",required:!0,type:{name:"string"}}}}}catch{}export{q as G};
