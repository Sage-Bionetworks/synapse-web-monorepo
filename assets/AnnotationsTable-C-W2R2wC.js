var Nt=e=>{throw TypeError(e)};var Dt=(e,t,n)=>t.has(e)||Nt("Cannot "+n);var qe=(e,t,n)=>(Dt(e,t,"read from private field"),n?n.call(e):t.get(e)),Ce=(e,t,n)=>t.has(e)?Nt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Me=(e,t,n,r)=>(Dt(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);import{j as k,bV as dr,V as mr,an as ur,r as Fe,dJ as Je,d5 as lr,dk as Ve,d0 as Le,cn as hr,co as fr,at as yr,dK as $r}from"./iframe-DPJy_hbO.js";import{k as gr}from"./useEntity-DmeNeo6M.js";import{u as wr,b as jr,a as br}from"./useSchema-DJ8cwnqY.js";import{g as rn}from"./index-r8ZA1smB.js";import"./SkeletonButton-BJjSHTYC.js";import"./SkeletonInlineBlock-By7Wj90y.js";import{S as kr}from"./SkeletonTable-BAFcpWV8.js";import"./SkeletonParagraph-Cdg0493c.js";function We(e){const{annotationKey:t,title:n,description:r}=e;return n==t&&!r?t:k.jsx(dr,{placement:"left",title:k.jsxs(k.Fragment,{children:[n!=t&&k.jsx("p",{children:k.jsxs("strong",{children:["Annotation Key: ",t]})}),k.jsx("p",{children:r})]}),children:k.jsx(mr,{component:"span",sx:o=>({textDecorationLine:"underline",textDecorationStyle:"dotted",textDecorationThickness:"15%",textDecorationColor:o.palette.secondary.main,textUnderlineOffset:"4px",cursor:"pointer"}),children:n})})}try{We.displayName="EntityAnnotationKey",We.__docgenInfo={description:"A component used to display an Entity annotation key.",displayName:"EntityAnnotationKey",props:{annotationKey:{defaultValue:null,description:"The key of the annotation",name:"annotationKey",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"An optional title of the annotation",name:"title",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"An optional",name:"description",required:!1,type:{name:"string"}}}}}catch{}function vr(e){if(!/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/.test(e))return!1;const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())&&t.toISOString()===e}const Re="[a-fA-F0-9]",ie="[a-zA-Z0-9-._~]",U="[!$&'()*+,;=]",X=`%${Re}${Re}`,ve="(?:\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])",ot=`${ve}\\.${ve}\\.${ve}\\.${ve}`,j=`${Re}{1,4}`,B=`(?:${j}:${j}|${ot})`,Ar=`(?:(?:${j}:){6}${B}|::(?:${j}:){5}${B}|(?:${j})?::(?:${j}:){4}${B}|(?:(?:${j}:){0,1}${j})?::(?:${j}:){3}${B}|(?:(?:${j}:){0,2}${j})?::(?:${j}:){2}${B}|(?:(?:${j}:){0,3}${j})?::(?:${j}:){1}${B}|(?:(?:${j}:){0,4}${j})?::${B}|(?:(?:${j}:){0,5}${j})?::${j}|(?:(?:${j}:){0,6}${j})?::)`,Er=`v${Re}+\\.(?:${ie}|${U}|:)+`,on=`\\[(?:${Ar}|${Er})\\]`,ae="(?<scheme>[a-zA-Z][a-zA-Z0-9-+.]*)",sn=":(?<port>\\d*)",Ir=`(?:${ie}|${X}|${U})*?`,xr=`(?<host>${on}|${ot}|${Ir})`,Fr=`(?<userinfo>(?:${ie}|${X}|${U}|:)*)`,st=`(?:${ie}|${X}|${U}|:|@)`,an=`${st}*?`,cn=`(?:/${an})*`,it=`(?<authority>(?:${Fr}@)?${xr}(?:${sn})?)`,at=`(?<path>${cn})`,ct=`(?<path2>${an}${cn})`,pt=`(?:\\?(?<query>(?:${st}|/|\\?)*))?`,pn=`(?:#(?<fragment>(?:${st}|/|\\?)*))?`,Rr=`^${ae}:(?://${it}${at}|${ct})${pt}${pn}$`,Sr=`^(?:${ae}:|)(?://${it}${at}|${ct})${pt}${pn}$`,Or=`^${ae}:(?://${it}${at}|${ct})${pt}$`,we="[a-zA-Z0-9-._~\\00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF\\u10000-\\u1FFFD\\u20000-\\u2FFFD\\u30000-\\u3FFFD\\u40000-\\u4FFFD\\u50000-\\u5FFFD\\u60000-\\u6FFFD\\u70000-\\u7FFFD\\u80000-\\u8FFFD\\u90000-\\u9FFFD\\uA0000-\\uAFFFD\\uB0000-\\uBFFFD\\uC0000-\\uCFFFD\\uD0000-\\uDFFFD\\uE1000-\\uEFFFD]",Pr="[\\uE000-\\uF8FF\\uF0000-\\uFFFFD\\u100000-\\u10FFFD]",_r=`(?:${we}|${X}|${U})*?`,Tr=`(?<host>${on}|${ot}|${_r})`,Nr=`(?<userinfo>(?:${we}|${X}|${U}|:)*)`,dt=`(?:${we}|${X}|${U}|:|@)`,dn=`${dt}*?`,mn=`(?:/${dn})*`,mt=`(?<authority>(?:${Nr}@)?${Tr}(?:${sn})?)`,ut=`(?<path>${mn})`,lt=`(?<path2>${dn}${mn})`,ht=`(?:\\?(?<query>(?:${dt}|${Pr}|/|\\?)*))?`,un=`(?:#(?<fragment>(?:${dt}|/|\\?)*))?`,ln=`^${ae}:(?://${mt}${ut}|${lt})${ht}${un}$`,hn=`^(?:${ae}:|)(?://${mt}${ut}|${lt})${ht}${un}$`,fn=`^${ae}:(?://${mt}${ut}|${lt})${ht}$`,Dr=e=>(t,n)=>{const r=e.parseReference(t);if(r.scheme===void 0){const o=e.parseAbsolute(n);r.scheme=o.scheme,r.authority===void 0&&(r.authority=o.authority,r.path===""?(r.path=o.path,r.query===void 0&&(r.query=o.query)):r.path.startsWith("/")||(r.path=Ur(r.path,o)))}return yn(e,r)},Ur=(e,t)=>{if(t.authority&&t.path==="")return"/"+e;{const n=t.path.lastIndexOf("/");return n===-1?e:t.path.slice(0,n+1)+e}},qr=/^\.?\.\/|^\.\.?$/,Cr=/^\/\.(?:\/|$)/,Mr=/^\/\.\.(?:\/|$)/,Vr=e=>{let t="";for(;e.length>0;)if(qr.test(e))e=Ut(e);else if(Cr.test(e))e=qt(e);else if(Mr.test(e))e=qt(e),t=Lr(t);else{const n=Kr(e);e=Ut(e),t+=n}return t},Ut=e=>{const t=e.indexOf("/",1);return t===-1?"":"/"+e.slice(t+1)},qt=e=>{const t=e.indexOf("/",1);return t===-1?"/":"/"+e.slice(t+1)},Lr=e=>{const t=e.lastIndexOf("/");return t===-1?e:e.slice(0,t)},Kr=e=>{const t=e.indexOf("/",1);return t===-1?e:e.slice(0,t)},yn=(e,t)=>{let n=t.scheme.toLowerCase()+":";return n+=t.authority===void 0?"":"//"+t.authority.toLowerCase(),n+=e.normalizePath(t.path),n+=t.query===void 0?"":"?"+e.normalizeQuery(t.query),n+=t.fragment===void 0?"":"#"+e.normalizeFragment(t.fragment),n},$n=new RegExp(X,"g"),gn=e=>t=>{const n=parseInt(t.slice(1),16),r=String.fromCharCode(n);return e(r)?r:t.toUpperCase()};RegExp.prototype.test.bind(new RegExp(`${ie}|${U}|[:@]`));const zr=RegExp.prototype.test.bind(new RegExp(`${we}|${U}|[:@]`)),Br=e=>t=>Vr(t).replaceAll($n,gn(e));RegExp.prototype.test.bind(new RegExp(`${ie}|${U}|[:@/?]`));const Ct=RegExp.prototype.test.bind(new RegExp(`${we}|${U}|[:@/?]`)),Mt=e=>t=>t.replaceAll($n,gn(e));RegExp.prototype.test.bind(new RegExp(Rr));RegExp.prototype.test.bind(new RegExp(Sr));RegExp.prototype.test.bind(new RegExp(Or));RegExp.prototype.test.bind(new RegExp(ln));RegExp.prototype.test.bind(new RegExp(hn));RegExp.prototype.test.bind(new RegExp(fn));const ft=(e,t)=>n=>{const r=e.exec(n);if(r===null)throw Error(`Invalid ${t}: ${n}`);const o=r.groups;return o.authority===void 0&&(o.path=o.path2),delete o.path2,o},Zr=ft(new RegExp(ln),"IRI"),wn=ft(new RegExp(hn),"IRI-reference"),Gr=ft(new RegExp(fn),"absolute-IRI"),jn={iri:{parseAbsolute:Gr,parseReference:wn,parse:Zr,normalizePath:Br(zr),normalizeQuery:Mt(Ct),normalizeFragment:Mt(Ct)}},Jr=e=>t=>{const n=e.parse(t);return delete n.fragment,yn(e,n)},W=Jr(jn.iri),Qe=Dr(jn.iri),Wr="",Se=function*(e){if(e.length>0&&!e.startsWith("/"))throw Error("Invalid JSON Pointer");let t=1,n=0;for(;n<e.length;){const r=e.indexOf("/",t);n=r===-1?e.length:r;const o=e.slice(t,n);t=n+1,yield Hr(o)}},Qr=(e,t=void 0)=>{if(t===void 0){const n=[...Se(e)];return r=>Vt(n,r)}else return Vt(Se(e),t)},Vt=(e,t)=>{let n=Wr;for(const r of e)t=eo(t,r,n),n=Q(r,n);return t},Q=(e,t)=>t+"/"+Xr(e),Xr=e=>e.toString().replace(/~/g,"~0").replace(/\//g,"~1"),Hr=e=>e.toString().replace(/~1/g,"/").replace(/~0/g,"~"),Yr=(e,t)=>Array.isArray(e)?t==="-"?e.length:parseInt(t,10):t,eo=(e,t,n="")=>{if(e===void 0)throw TypeError(`Value at '${n}' is undefined and does not have property '${t}'`);if(e===null)throw TypeError(`Value at '${n}' is null and does not have property '${t}'`);if(to(e))throw TypeError(`Value at '${n}' is a ${typeof e} and does not have property '${t}'`);{const r=Yr(e,t);if(Object.hasOwn(e,r))return e[r]}},to=e=>e===null||typeof e!="object",bn=e=>{const t=typeof e;switch(t){case"number":case"string":case"boolean":case"undefined":return t;case"object":if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)===Object.prototype)return"object";default:{const n=t==="object"?Object.getPrototypeOf(e).constructor.name||"anonymous":t;throw Error(`Not a JSON compatible type: ${n}`)}}},yt=e=>{const t=e.indexOf("#"),n=t===-1?e.length:t;return e.slice(0,n)},kn=e=>decodeURIComponent(wn(e).fragment||""),Oe={},vn=e=>{if(e.indexOf("#")!==-1){const t=yt(e);return{...Oe[t],id:e}}return Oe[e]},no=(e,t)=>{const n=An(e,t);if(!n)throw Error(`Encountered unknown keyword '${e}'`);const r=vn(n);if(!r)throw Error(`Encountered unsupported keyword ${e}. You can provide an implementation for the '${n}' keyword using the 'addKeyword' function.`);return r},p=e=>{Oe[e.id]=e},Ie={},V=(e,t)=>{Ie[e]=t},ne={},An=(e,t)=>{const n=En(t);return n.keywords[e]??(n.allowUnknownKeywords||e.startsWith("x-")?`https://json-schema.org/keyword/unknown#${e}`:void 0)},v=(e,t)=>{const n=En(e);for(const r in n.keywords)if(n.keywords[r]===t)return r},En=e=>{if(!(e in ne))throw Error(`Encountered unknown dialect '${e}'`);return ne[e]},$t=(e,t,n=!1,r=!0)=>{var o;ne[e]={keywords:{},allowUnknownKeywords:n,persistentDialects:((o=ne[e])==null?void 0:o.persistentDialects)||r};for(const s in t)if(s in Ie)for(const i in Ie[s]){let a=Ie[s][i];!(a in Oe)&&!t[s]&&(a=`https://json-schema.org/keyword/unknown#${i}`),ne[e].keywords[i]=a}else if(!n||t[s])throw delete ne[e],Error(`Unrecognized vocabulary: ${s}. You can define this vocabulary with the 'defineVocabulary' function.`)};var Ae={};/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var Lt;function ro(){if(Lt)return Ae;Lt=1;var e=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,t=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,n=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,r=/\\([\u000b\u0020-\u00ff])/g,o=/([\\"])/g,s=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;Ae.format=i,Ae.parse=a;function i(m){if(!m||typeof m!="object")throw new TypeError("argument obj is required");var y=m.parameters,g=m.type;if(!g||!s.test(g))throw new TypeError("invalid type");var f=g;if(y&&typeof y=="object")for(var E,D=Object.keys(y).sort(),I=0;I<D.length;I++){if(E=D[I],!n.test(E))throw new TypeError("invalid parameter name");f+="; "+E+"="+l(y[E])}return f}function a(m){if(!m)throw new TypeError("argument string is required");var y=typeof m=="object"?c(m):m;if(typeof y!="string")throw new TypeError("argument string is required to be a string");var g=y.indexOf(";"),f=g!==-1?y.slice(0,g).trim():y.trim();if(!s.test(f))throw new TypeError("invalid media type");var E=new h(f.toLowerCase());if(g!==-1){var D,I,R;for(e.lastIndex=g;I=e.exec(y);){if(I.index!==g)throw new TypeError("invalid parameter format");g+=I[0].length,D=I[1].toLowerCase(),R=I[2],R.charCodeAt(0)===34&&(R=R.slice(1,-1),R.indexOf("\\")!==-1&&(R=R.replace(r,"$1"))),E.parameters[D]=R}if(g!==y.length)throw new TypeError("invalid parameter format")}return E}function c(m){var y;if(typeof m.getHeader=="function"?y=m.getHeader("content-type"):typeof m.headers=="object"&&(y=m.headers&&m.headers["content-type"]),typeof y!="string")throw new TypeError("content-type header is missing from object");return y}function l(m){var y=String(m);if(n.test(y))return y;if(y.length>0&&!t.test(y))throw new TypeError("invalid parameter value");return'"'+y.replace(o,"\\$1")+'"'}function h(m){this.parameters=Object.create(null),this.type=m}return Ae}var In=ro();const oo=rn(In),he={},xn=(e,t)=>{he[e]=t},so=e=>{const t=e.headers.get("content-type");if(t===null)throw new uo("The media type of the response could not be determined. Make sure the response includes a 'Content-Type' header.",{cause:e});const n=In.parse(t);for(const r in he)if(co(r,n.type))return he[r].parse(e);throw new mo(n.type,`'${n.type}' is not supported. Use the 'addMediaTypePlugin' function to add support for this media type.`,{cause:e})},io="A-Za-z",Ke=`[!#$%&'*\\-_.^\`|~\\d${io}]+`,ao=`(?<type>${Ke})/(?<subType>${Ke}(?:\\+(?<suffix>${Ke}))?)`,Kt=new RegExp(ao),co=(e,t)=>{var o,s;if(e===t)return!0;const n=(o=Kt.exec(e))==null?void 0:o.groups;if(!n)throw Error(`Unable to parse media-range: ${e}`);const r=(s=Kt.exec(t))==null?void 0:s.groups;if(!r)throw Error(`Unable to parse media-type: ${t}`);return(n.type===r.type||n.type==="*")&&(n.subType===r.subType||n.subType==="*"||n.subType===r.suffix)},po=()=>{let e="";for(const t in he)e=zt(e,t,he[t].quality);return zt(e,"*/*","0.001")},zt=(e,t,n)=>(e.length>0&&(e+=", "),e+=t,n&&(e+=`; q=${n}`),e);class mo extends Error{constructor(t,n=void 0){super(n),this.name=this.constructor.name,this.mediaType=t}}class uo extends Error{constructor(t=void 0){super(t),this.name=this.constructor.name}}const lo=(e,t=void 0)=>JSON.parse(e,(n,r)=>{const o=r!==null&&typeof r.$ref=="string"?new J(r.$ref):r;return t?t(n,o):o});var $e,ge;class J{constructor(t,n=void 0){Ce(this,$e);Ce(this,ge);Me(this,$e,t),Me(this,ge,n??{$ref:t})}get href(){return qe(this,$e)}toJSON(){return qe(this,ge)}}$e=new WeakMap,ge=new WeakMap;const Fn=e=>{const t=typeof e;switch(t){case"bigint":return"number";case"number":case"string":case"boolean":case"undefined":return t;case"object":if(e instanceof J)return"reference";if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)return"object";default:{const n=t==="object"?Object.getPrototypeOf(e).constructor.name||"anonymous":t;throw Error(`Not a JRef compatible type: ${n}`)}}},ho={parse:async e=>({baseUri:e.url,root:lo(await e.text()),anchorLocation:fo}),fileMatcher:e=>/[^/]\.jref$/.test(e)},fo=e=>decodeURI(e||""),Pe="[a-fA-F0-9]",ce="[a-zA-Z0-9-._~]",q="[!$&'()*+,;=]",H=`%${Pe}${Pe}`,Ee="(?:\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])",gt=`${Ee}\\.${Ee}\\.${Ee}\\.${Ee}`,b=`${Pe}{1,4}`,Z=`(?:${b}:${b}|${gt})`,yo=`(?:(?:${b}:){6}${Z}|::(?:${b}:){5}${Z}|(?:${b})?::(?:${b}:){4}${Z}|(?:(?:${b}:){0,1}${b})?::(?:${b}:){3}${Z}|(?:(?:${b}:){0,2}${b})?::(?:${b}:){2}${Z}|(?:(?:${b}:){0,3}${b})?::(?:${b}:){1}${Z}|(?:(?:${b}:){0,4}${b})?::${Z}|(?:(?:${b}:){0,5}${b})?::${b}|(?:(?:${b}:){0,6}${b})?::)`,$o=`v${Pe}+\\.(?:${ce}|${q}|:)+`,Rn=`\\[(?:${yo}|${$o})\\]`,pe="(?<scheme>[a-zA-Z][a-zA-Z0-9-+.]*)",Sn=":(?<port>\\d*)",go=`(?:${ce}|${H}|${q})*?`,wo=`(?<host>${Rn}|${gt}|${go})`,jo=`(?<userinfo>(?:${ce}|${H}|${q}|:)*)`,wt=`(?:${ce}|${H}|${q}|:|@)`,On=`${wt}*?`,Pn=`(?:/${On})*`,jt=`(?<authority>(?:${jo}@)?${wo}(?:${Sn})?)`,bt=`(?<path>${Pn})`,kt=`(?<path2>(?!//)${On}${Pn})`,vt=`(?:\\?(?<query>(?:${wt}|/|\\?)*))?`,_n=`(?:#(?<fragment>(?:${wt}|/|\\?)*))?`,bo=`^${pe}:(?://${jt}${bt}|${kt})${vt}${_n}$`,ko=`^(?:${pe}:|)(?://${jt}${bt}|${kt})${vt}${_n}$`,vo=`^${pe}:(?://${jt}${bt}|${kt})${vt}$`,je="[a-zA-Z0-9\\-._~\\u{A0}-\\u{D7FF}\\u{F900}-\\u{FDCF}\\u{FDF0}-\\u{FFEF}\\u{10000}-\\u{1FFFD}\\u{20000}-\\u{2FFFD}\\u{30000}-\\u{3FFFD}\\u{40000}-\\u{4FFFD}\\u{50000}-\\u{5FFFD}\\u{60000}-\\u{6FFFD}\\u{70000}-\\u{7FFFD}\\u{80000}-\\u{8FFFD}\\u{90000}-\\u{9FFFD}\\u{A0000}-\\u{AFFFD}\\u{B0000}-\\u{BFFFD}\\u{C0000}-\\u{CFFFD}\\u{D0000}-\\u{DFFFD}\\u{E1000}-\\u{EFFFD}]",Ao="[\\u{E000}-\\u{F8FF}\\u{F0000}-\\u{FFFFD}\\u{100000}-\\u{10FFFD}]",Eo=`(?:${je}|${H}|${q})*?`,Io=`(?<host>${Rn}|${gt}|${Eo})`,xo=`(?<userinfo>(?:${je}|${H}|${q}|:)*)`,At=`(?:${je}|${H}|${q}|:|@)`,Tn=`${At}*?`,Nn=`(?:/${Tn})*`,Et=`(?<authority>(?:${xo}@)?${Io}(?:${Sn})?)`,It=`(?<path>${Nn})`,xt=`(?<path2>(?!//)${Tn}${Nn})`,Ft=`(?:\\?(?<query>(?:${At}|${Ao}|/|\\?)*))?`,Dn=`(?:#(?<fragment>(?:${At}|/|\\?)*))?`,Un=`^${pe}:(?://${Et}${It}|${xt})${Ft}${Dn}$`,qn=`^(?:${pe}:|)(?://${Et}${It}|${xt})${Ft}${Dn}$`,Cn=`^${pe}:(?://${Et}${It}|${xt})${Ft}$`,Fo=e=>(t,n)=>{const r=e.parseReference(t);if(r.scheme===void 0){const o=e.parseAbsolute(n);r.scheme=o.scheme,r.authority===void 0&&(r.authority=o.authority,r.path===""?(r.path=o.path,r.query??(r.query=o.query)):r.path.startsWith("/")||(r.path=Ro(r.path,o)))}return Mn(e,r)},Ro=(e,t)=>{if(t.authority&&t.path==="")return"/"+e;{const n=t.path.lastIndexOf("/");return n===-1?e:t.path.slice(0,n+1)+e}},So=/^\.?\.\/|^\.\.?$/,Oo=/^\/\.(?:\/|$)/,Po=/^\/\.\.(?:\/|$)/,_o=e=>{let t="";for(;e.length>0;)if(So.test(e))e=Bt(e);else if(Oo.test(e))e=Zt(e);else if(Po.test(e))e=Zt(e),t=To(t);else{const n=No(e);e=Bt(e),t+=n}return t},Bt=e=>{const t=e.indexOf("/",1);return t===-1?"":"/"+e.slice(t+1)},Zt=e=>{const t=e.indexOf("/",1);return t===-1?"/":"/"+e.slice(t+1)},To=e=>{const t=e.lastIndexOf("/");return t===-1?e:e.slice(0,t)},No=e=>{const t=e.indexOf("/",1);return t===-1?e:e.slice(0,t)},Mn=(e,t)=>{let n=t.scheme.toLowerCase()+":";return n+=t.authority===void 0?"":"//"+t.authority.toLowerCase(),n+=e.normalizePath(t.path),n+=t.query===void 0?"":"?"+e.normalizeQuery(t.query),n+=t.fragment===void 0?"":"#"+e.normalizeFragment(t.fragment),n},Vn=new RegExp(H,"g"),Ln=e=>t=>{const n=parseInt(t.slice(1),16),r=String.fromCharCode(n);return e(r)?r:t.toUpperCase()};RegExp.prototype.test.bind(new RegExp(`${ce}|${q}|[:@]`));const Do=RegExp.prototype.test.bind(new RegExp(`${je}|${q}|[:@]`,"u")),Uo=e=>t=>_o(t).replaceAll(Vn,Ln(e));RegExp.prototype.test.bind(new RegExp(`${ce}|${q}|[:@/?]`));const Gt=RegExp.prototype.test.bind(new RegExp(`${je}|${q}|[:@/?]`,"u")),Jt=e=>t=>t.replaceAll(Vn,Ln(e));RegExp.prototype.test.bind(new RegExp(bo));RegExp.prototype.test.bind(new RegExp(ko));RegExp.prototype.test.bind(new RegExp(vo));RegExp.prototype.test.bind(new RegExp(Un,"u"));RegExp.prototype.test.bind(new RegExp(qn,"u"));RegExp.prototype.test.bind(new RegExp(Cn,"u"));const Rt=(e,t)=>n=>{const r=e.exec(n);if(r===null)throw Error(`Invalid ${t}: ${n}`);const o=r.groups;return o.authority===void 0&&(o.path=o.path2),delete o.path2,o},St=Rt(new RegExp(Un,"u"),"IRI"),qo=Rt(new RegExp(qn,"u"),"IRI-reference"),Co=Rt(new RegExp(Cn,"u"),"absolute-IRI"),Kn={iri:{parseAbsolute:Co,parseReference:qo,parse:St,normalizePath:Uo(Do),normalizeQuery:Jt(Gt),normalizeFragment:Jt(Gt)}},Mo=e=>t=>{const n=e.parse(t);return delete n.fragment,Mn(e,n)},Vo=Mo(Kn.iri),zn=Fo(Kn.iri),Xe={},Bn=(e,t)=>{Xe[e]=t},Lo=(e,t)=>{e=zn(e,t);const{scheme:n}=St(e);if(!(n in Xe))throw new Ko(n,`The '${n}:' URI scheme is not supported. Use the 'addUriSchemePlugin' function to add support for '${n}:' URIs.`);return Xe[n].retrieve(e,t)};class Ko extends Error{constructor(t,n=void 0){super(n),this.name=this.constructor.name,this.scheme=t}}const zo=new Set([200,203]),Bo=async e=>{const t=await fetch(e,{headers:{Accept:po()}});if(t.status>=400)throw new Wt(t,`Failed to retrieve '${e}'`);if(!zo.has(t.status))throw new Wt(t,"Unsupported HTTP response status code");return t},Zn={retrieve:Bo};class Wt extends Error{constructor(t,n=void 0){super(`${t.status} ${t.statusText}${n?` -- ${n}`:""}`),this.name=this.constructor.name,this.response=t}}var Gn=Zo;function Zo(e,t){return function n(){t==null&&(t=e.length);var r=[].slice.call(arguments);return r.length>=t?e.apply(this,r):function(){return n.apply(this,r.concat([].slice.call(arguments)))}}}const Go=()=>{var e,t;return((t=(e=globalThis.document)==null?void 0:e.location)==null?void 0:t.toString())??""},Ot=async(e,t={_cache:{}})=>{var i,a,c;const n=((i=t.document)==null?void 0:i.baseUri)??Go();e=zn(e,n);const r=Vo(e),{fragment:o}=St(e),s=t._cache[r]??((c=(a=t.document)==null?void 0:a.embedded)==null?void 0:c[r]);if(s)t.document=s,t.uri=e,t.cursor=t.document.anchorLocation(o);else{try{const l=await Lo(e,n);t.document=await so(l),t.uri=l.url+(o===void 0?"":`#${o}`),t.cursor=t.document.anchorLocation(o)}catch(l){const h=t.uri?` Referenced from '${t.uri}'.`:"";throw new Wo(`Unable to load resource '${e}'.${h}`,l)}t._cache[r]=t.document}return t._value=Qr(t.cursor,t.document.root),Jn(t)},Jn=e=>Fn(u(e))==="reference"?Ot(u(e).href,e):e,u=e=>e._value,T=e=>Fn(e._value),Wn=(e,t)=>e in t._value,Pt=e=>e._value.length,P=Gn((e,t)=>Jn({...t,cursor:Q(`${e}`,t.cursor),_value:t._value[e]})),L=async function*(e){for(let t=0;t<u(e).length;t++)yield P(t,e)},He=function*(e){for(const t in u(e))yield t},Jo=async function*(e){for(const t in u(e))yield P(t,e)},K=async function*(e){for(const t in u(e))yield[t,await P(t,e)]};class Wo extends Error{constructor(t,n){super(t,{cause:n}),this.name=this.constructor.name}}xn("application/reference+json",ho);Bn("http",Zn);Bn("https",Zn);const Qo={parse:async e=>{const t=oo.parse(e.headers.get("content-type")??""),n=t.parameters.schema??t.parameters.profile;return _e(await e.json(),e.url,n)},fileMatcher:async e=>/(\.|\/)schema\.json$/.test(e)},fe={},Qn=async(e,t=void 0)=>{t||(t={_cache:{}});for(const r in fe)r in t._cache||(t._cache[r]=fe[r]);const n=await Ot(e,{...t});if(typeof n.document.dialectId!="string")throw Error(`The document at ${n.document.baseUri} is not a schema.`);return n},C=(e,t,n)=>{e=structuredClone(e);const r=_e(e,t,n);if(r.baseUri in fe)throw Error(`A schema has already been registered for '${r.baseUri}. You can use 'unregisterSchema' to remove the old schema before registering the new one.`);if(r.baseUri.startsWith("file:"))throw Error(`Registering a schema with a 'file:' URI scheme is not allowed: ${r.baseUri}`);fe[t?W(t):r.baseUri]=r},Xo=e=>e in fe,_e=(e,t,n,r={})=>{if(typeof e.$schema=="string"&&(n=e.$schema,delete e.$schema),!n)throw Error("Unable to determine a dialect for the schema. The dialect can be declared in a number of ways, but the recommended way is to use the '$schema' keyword in your schema.");n=W(n);const o=v(n,"https://json-schema.org/keyword/draft-04/id"),s=v(n,"https://json-schema.org/keyword/id")||o;if(!e[s]&&!t)throw Error(`Unable to determine an identifier for the schema. Use the '${s}' keyword or pass a retrievalUri when loading the schema.`);const i=Qe(e[s]??"",t??"");t=W(i),o&&i.length>t.length?e[s]="#"+kn(i):delete e[s];const a=v(n,"https://json-schema.org/keyword/vocabulary");if(bn(e[a])==="object"){const m=e[a]["https://json-schema.org/draft/2019-09/vocab/core"]||e[a]["https://json-schema.org/draft/2020-12/vocab/core"];$t(t,e[a],m,!1),delete e[a]}const c={"":""},l={},h=v(n,"https://json-schema.org/keyword/draft-2019-09/recursiveAnchor");return e[h]===!0&&(l[""]=`${t}#`),delete e[h],r[t]={baseUri:t,dialectId:n,root:Ye(e,t,n,"",r,c,l),anchorLocation:m=>{if(m===void 0)return"";if(m=decodeURI(m),m[0]==="/")return m;if(m in c)return c[m];throw Error(`No such anchor '${t}#${encodeURI(m)}'`)},anchors:c,dynamicAnchors:l,embedded:r},r[t]},Ye=(e,t,n,r,o,s,i)=>{if(bn(e)==="object"){const a=typeof e.$schema=="string"?W(e.$schema):n,c=v(a,"https://json-schema.org/keyword/id");if(typeof e[c]=="string"){const f=W(Qe(e[c],t));return e[c]=f,o[f]=_e(e,f,a,o),new J(f,{})}const l=v(a,"https://json-schema.org/keyword/draft-04/id");if(typeof e[l]=="string")if(e[l][0]==="#"){const f=decodeURIComponent(e[l].slice(1));s[f]=r,delete e[l]}else{const f=W(Qe(e[l],t));return e[l]=f,o[f]=_e(e,f,a,o),new J(f,{})}const h=v(n,"https://json-schema.org/keyword/draft-04/ref");if(typeof e[h]=="string")return new J(e[h],e);const m=v(n,"https://json-schema.org/keyword/anchor");typeof e[m]=="string"&&(s[e[m]]=r,delete e[m]);const y=v(n,"https://json-schema.org/keyword/dynamicAnchor");typeof e[y]=="string"&&(i[e[y]]=`${t}#${encodeURI(r)}`,delete e[y]);const g=v(n,"https://json-schema.org/keyword/draft-2020-12/dynamicAnchor");typeof e[g]=="string"&&(i[e[g]]=`${t}#${encodeURI(r)}`,s[e[g]]=r,delete e[g]);for(const f in e){const E=v(n,"https://json-schema.org/keyword/ref");f===E&&typeof e[f]=="string"?e[f]=new J(e[f],e[f]):e[f]=Ye(e[f],t,n,Q(f,r),o,s,i)}}else if(Array.isArray(e))for(let a=0;a<e.length;a++)e[a]=Ye(e[a],t,n,Q(a,r),o,s,i);return e},Te=e=>`${e.document.baseUri}#${encodeURI(e.cursor)}`,de=e=>(...t)=>{const n=e.length===1?e(t[0]):e(t[0],t[1]),r=t[e.length];return r===void 0?n:n(r)},Ho=de(e=>function*(t){for(const n of t)yield e(n)}),x=de(e=>async function*(t){for await(const n of t)yield e(n)}),Xn=de(e=>function*(t){let n=0;for(const r of t)n++>=e&&(yield r)}),Yo=e=>{const n=er(e).next();return n.done?void 0:n.value},Qt=function*(){},Hn=function*(e,t){const n=er(t);for(const r of e)yield[r,n.next().value]},es=function*(...e){for(const t of e)yield*t},Yn=de((e,t)=>n=>{for(const r of n)t=e(t,r);return t}),ts=de(e=>t=>{for(const n of t)if(e(n))return!0;return!1}),_=async e=>{const t=[];for await(const n of e)t.push(n);return t},et=async e=>{const t=Object.create(null);for await(const[n,r]of e)t[n]=r;return t},ns=de(e=>t=>{let n=Yo(t)??"";for(const r of t)n+=e+r;return n}),er=e=>{if(typeof(e==null?void 0:e[Symbol.iterator])=="function")return e[Symbol.iterator]();throw TypeError("`iter` is not iterable")},F=(e,...t)=>Yn((n,r)=>r(n),e,t),re=(e,t="",n="",r=void 0)=>{const o=typeof e;switch(o){case"number":case"string":case"boolean":return le(t,n,e,o,[],r);case"object":if(e===null)return le(t,n,e,"null",[],r);if(Array.isArray(e)){const s=le(t,n,e,"array",[],r);return s.children=e.map((i,a)=>re(i,t,Q(a,n),s)),s}else if(Object.getPrototypeOf(e)===Object.prototype){const s=le(t,n,e,"object",[],r);return s.children=Object.entries(e).map(i=>{const a=Q(i[0],n),c=le(t,a,void 0,"property",[],s);return c.children[0]=re(i[0],t,"*"+a,c),c.children[1]=re(i[1],t,a,c),c}),s}else if(e instanceof J)return re(e.toJSON(),t,n,r);default:{const s=o==="object"?Object.getPrototypeOf(e).constructor.name||"anonymous":o;throw Error(`Not a JSON compatible type: ${s}`)}}},le=(e,t,n,r,o,s)=>{const i={baseUri:e?W(e):"",pointer:t,value:n,type:r,children:o,parent:s,annotations:{}};return i.root=(s==null?void 0:s.root)??i,i},rs=(e,t)=>{const n=yt(e);if(n!==t.baseUri&&n!=="")throw Error(`Reference '${e}' is not local to '${t.baseUri}'`);let r=!1,o=kn(e);o.startsWith("*")&&(o=o.slice(1),r=!0);const s=Yn((i,a)=>(a=a==="-"&&$(i)==="array"?De(i):a,os(a,i)),t.root,Se(o));return r?s.parent.children[0]:s},ye=e=>`${e.baseUri}#${encodeURI(e.pointer)}`,A=e=>e.value,$=e=>e.type,se=(e,t)=>e in t.value,os=(e,t)=>{switch(t.type){case"object":{const n=t.children.find(r=>A(r.children[0])===e);return n==null?void 0:n.children[1]}case"array":{const n=parseInt(e,10);return t.children[n]}default:return}},M=function*(e){e.type==="array"&&(yield*e.children)},_t=function*(e){if(e.type==="object")for(const t of e.children)yield t.children[0]},be=function*(e){if(e.type==="object")for(const t of e.children)t.children.length===2&&(yield t.children)},De=e=>{if(e.type==="array")return e.children.length},oe={};let ss=0;const is=(e,t)=>{e in oe||(oe[e]={});const n=`pubsub_subscription_${ss++}`;return oe[e][n]=t,n},as=async(e,t)=>{const n=[];for(const r in oe)if(r===e||e.startsWith(`${r}.`))for(const o in oe[r])n.push(oe[e][o](e,t));await Promise.all(n)};let tr;const cs=()=>tr,ps=e=>{tr=e};class ds extends Error{constructor(t){super("Invalid Schema"),this.name=this.constructor.name,this.output=t}}const ms="https://json-schema.org/evaluation/validate",us=async(e,t)=>{await as("validate.metaValidate",e),e.document.baseUri in t.metaData||(t.metaData[e.document.baseUri]={dynamicAnchors:e.document.dynamicAnchors});const n=Te(e);if(!(n in t)){t[n]=!1;const r=u(e);if(!["object","boolean"].includes(typeof r))throw Error(`No schema found at '${n}'`);t[n]=typeof r=="boolean"?r:await F(K(e),x(async([o,s])=>{const i=no(o,e.document.dialectId);i.plugin&&t.plugins.add(i.plugin);const a=await i.compile(s,t,e);return[i.id,Q(o,Te(e)),a]}),_)}return n},ls=(e,t,n)=>{var o,s,i,a;let r=!0;for(const c of n.plugins)(o=c.beforeSchema)==null||o.call(c,e,t,n);if(typeof n.ast[e]=="boolean")r=n.ast[e];else for(const c of n.ast[e]){const[l,,h]=c,m=vn(l),y={ast:n.ast,plugins:n.plugins};for(const f of n.plugins)(s=f.beforeKeyword)==null||s.call(f,c,t,y,n,m);const g=m.interpret(h,t,y);g||(r=!1);for(const f of n.plugins)(i=f.afterKeyword)==null||i.call(f,c,t,y,g,n,m)}for(const c of n.plugins)(a=c.afterSchema)==null||a.call(c,e,t,n,r);return r},d={id:ms,compile:us,interpret:ls};class hs{beforeSchema(t,n,r){r.errors??(r.errors=[])}beforeKeyword(t,n,r){r.errors=[]}afterKeyword(t,n,r,o,s,i){if(!o){if(!i.simpleApplicator){const[a,c]=t;s.errors.push({keyword:a,absoluteKeywordLocation:c,instanceLocation:ye(n)})}s.errors.push(...r.errors)}}afterSchema(t,n,r,o){typeof r.ast[t]=="boolean"&&!o&&r.errors.push({keyword:d.id,absoluteKeywordLocation:t,instanceLocation:ye(n)}),this.errors=r.errors}}class fs{beforeSchema(t,n,r){r.errors??(r.errors=[])}beforeKeyword(t,n,r){r.errors=[]}afterKeyword(t,n,r,o,s){if(!o){const[i,a]=t,c={keyword:i,absoluteKeywordLocation:a,instanceLocation:ye(n)};s.errors.push(c),r.errors.length>0&&(c.errors=r.errors)}}afterSchema(t,n,r,o){typeof r.ast[t]=="boolean"&&!o&&r.errors.push({keyword:d.id,absoluteKeywordLocation:t,instanceLocation:ye(n)}),this.errors=r.errors}}const xe="FLAG",tt="BASIC",ys="DETAILED";ps(xe);const nr=async e=>{const t={metaData:{},plugins:new Set},n=await d.compile(e,t);return{ast:t,schemaUri:n}},rr=Gn(({ast:e,schemaUri:t},n,r=xe)=>{const o=typeof r=="string"?r:r.outputFormat??xe,s=r.plugins??[],i={ast:e,plugins:[...e.plugins,...s]};let a;switch(o){case xe:break;case tt:a=new hs,i.plugins.push(a);break;case ys:a=new fs,i.plugins.push(a);break;default:throw Error(`Unsupported output format '${o}'`)}const c=d.interpret(t,n,i);return!c&&a?{valid:c,errors:a.errors}:{valid:c}}),ze={};is("validate.metaValidate",async(e,t)=>{if(!t.document.validated){if(t.document.validated=!0,!(t.document.dialectId in ze)){const o=await Qn(t.document.dialectId,t),s=await nr(o);ze[t.document.dialectId]=rr(s)}const n=re(t.document.root,t.document.baseUri),r=ze[t.document.dialectId](n,cs());if(!r.valid)throw new ds(r)}});class $s{beforeSchema(t,n,r){r.annotations??(r.annotations=[]),r.schemaAnnotations=[]}beforeKeyword(t,n,r){r.annotations=[]}afterKeyword(t,n,r,o,s,i){var a;if(o){const[c,l,h]=t,m=(a=i.annotation)==null?void 0:a.call(i,h,n,r);m!==void 0&&s.schemaAnnotations.push({keyword:c,absoluteKeywordLocation:l,instanceLocation:ye(n),annotation:m}),s.schemaAnnotations.push(...r.annotations)}}afterSchema(t,n,r,o){o&&r.annotations.push(...r.schemaAnnotations),this.annotations=r.annotations}}const gs="https://json-schema.org/keyword/additionalProperties",ws=async(e,t,n)=>{const r=v(e.document.dialectId,"https://json-schema.org/keyword/properties"),o=await P(r,n),s=T(o)==="object"?Ho(h=>"^"+js(h)+"$",He(o)):Qt(),i=v(e.document.dialectId,"https://json-schema.org/keyword/patternProperties"),a=await P(i,n),c=T(a)==="object"?He(a):Qt(),l=F(es(s,c),ns("|"))||"(?!)";return[new RegExp(l,"u"),await d.compile(e,t)]},js=e=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),bs=([e,t],n,r)=>{var s;if($(n)!=="object")return!0;let o=!0;for(const[i,a]of be(n)){const c=A(i);e.test(c)||(d.interpret(t,a,r)||(o=!1),(s=r.evaluatedProperties)==null||s.add(c))}return o},ks=!0,vs={id:gs,compile:ws,interpret:bs,simpleApplicator:ks},As="https://json-schema.org/keyword/allOf",Es=(e,t)=>F(L(e),x(n=>d.compile(n,t)),_),Is=(e,t,n,r,o)=>{let s=!0;for(const i of e)d.interpret(i,t,n,r,o)||(s=!1);return s},xs=!0,Fs={id:As,compile:Es,interpret:Is,simpleApplicator:xs},Rs={id:"https://json-schema.org/keyword/anchor"},Ss="https://json-schema.org/keyword/anyOf",Os=(e,t)=>F(L(e),x(n=>d.compile(n,t)),_),Ps=(e,t,n,r,o)=>e.filter(i=>d.interpret(i,t,n,r,o)).length>0,_s={id:Ss,compile:Os,interpret:Ps},Ts="https://json-schema.org/keyword/conditional",Ns=(e,t)=>F(L(e),or,x(n=>d.compile(n,t)),_),Ds=(e,t,n)=>{for(let r=0;r<e.length;r+=2){const o=d.interpret(e[r],t,n);if(r+1===e.length)return o;if(o)return d.interpret(e[r+1],t,n)}return!0},or=async function*(e,t=1){for await(const n of e)t>0&&T(n)==="array"?yield*or(L(n),t-1):yield n},Us={id:Ts,compile:Ns,interpret:Ds};var Be,Xt;function qs(){return Xt||(Xt=1,Be={space:"",cycles:!1,replacer:(e,t)=>t,stringify:JSON.stringify}),Be}var Ze,Ht;function G(){return Ht||(Ht=1,Ze={isArray:Array.isArray,assign:Object.assign,isObject:e=>typeof e=="object",isFunction:e=>typeof e=="function",isBoolean:e=>typeof e=="boolean",isRegex:e=>e instanceof RegExp,keys:Object.keys}),Ze}var Ge,Yt;function Cs(){if(Yt)return Ge;Yt=1;const e=qs(),t=G().isFunction,n=G().isBoolean,r=G().isObject,o=G().isArray,s=G().isRegex,i=G().assign,a=G().keys;function c(h){return h==null?h:s(h)?h.toString():h.toJSON?h.toJSON():h}function l(h,m){m=m||i({},e),t(m)&&(m={compare:m});const y=m.space||e.space,g=n(m.cycles)?m.cycles:e.cycles,f=m.replacer||e.replacer,E=m.stringify||e.stringify,D=m.compare&&function(R){return function(Y){return function(ee,w){const O={key:ee,value:Y[ee]},te={key:w,value:Y[w]};return R(O,te)}}}(m.compare);g||E(h);const I=[];return function R(Y,ee,w,O){const te=y?`
`+new Array(O+1).join(y):"",cr=y?": ":":";if(w=c(w),w=f.call(Y,ee,w),w!==void 0){if(!r(w)||w===null)return E(w);if(o(w)){const me=[];for(let z=0;z<w.length;z++){const ue=R(w,z,w[z],O+1)||E(null);me.push(te+y+ue)}return"["+me.join(",")+te+"]"}else{if(g){if(I.indexOf(w)!==-1)return E("[Circular]");I.push(w)}const me=a(w).sort(D&&D(w)),z=[];for(let ue=0;ue<me.length;ue++){const Ue=me[ue],Tt=R(w,Ue,w[Ue],O+1);if(!Tt)continue;const pr=E(Ue)+cr+Tt;z.push(te+y+pr)}return I.splice(I.indexOf(w),1),"{"+z.join(",")+te+"}"}}}({"":h},"",h,0)}return Ge=l,Ge}var Ms=Cs();const ke=rn(Ms),Vs="https://json-schema.org/keyword/const",Ls=e=>ke(u(e)),Ks=(e,t)=>ke(A(t))===e,zs={id:Vs,compile:Ls,interpret:Ks},Bs="https://json-schema.org/keyword/contains",Zs=async(e,t,n)=>{const r=await d.compile(e,t),o=v(e.document.dialectId,"https://json-schema.org/keyword/minContains"),s=await P(o,n),i=T(s)==="number"?u(s):1,a=v(e.document.dialectId,"https://json-schema.org/keyword/maxContains"),c=await P(a,n),l=T(c)==="number"?u(c):Number.MAX_SAFE_INTEGER;return{contains:r,minContains:i,maxContains:l}},Gs=({contains:e,minContains:t,maxContains:n},r,o)=>{var a;if($(r)!=="array")return!0;let s=0,i=0;for(const c of M(r))d.interpret(e,c,o)&&(s++,(a=o.evaluatedItems)==null||a.add(i)),i++;return s>=t&&s<=n},Js={id:Bs,compile:Zs,interpret:Gs},Ws="https://json-schema.org/keyword/comment",Qs=()=>{},Xs=()=>!0,Hs={id:Ws,compile:Qs,interpret:Xs},Ys="https://json-schema.org/keyword/contentEncoding",ei=e=>u(e),ti=()=>!0,ni=(e,t)=>{if($(t)==="string")return e},ri={id:Ys,compile:ei,interpret:ti,annotation:ni},oi="https://json-schema.org/keyword/contentMediaType",si=e=>u(e),ii=()=>!0,ai=(e,t)=>{if($(t)==="string")return e},ci={id:oi,compile:si,interpret:ii,annotation:ai},pi="https://json-schema.org/keyword/contentSchema",di=async(e,t,n)=>{const r=v(e.document.dialectId,"https://json-schema.org/keyword/contentMediaType"),o=await P(r,n);if(u(o)!==void 0)return u(e)},mi=()=>!0,ui=(e,t)=>{if(!(!e||$(t)!=="string"))return e},li={id:pi,compile:di,interpret:mi,annotation:ui},hi="https://json-schema.org/keyword/default",fi=e=>u(e),yi=()=>!0,$i=e=>e,gi={id:hi,compile:fi,interpret:yi,annotation:$i},wi="https://json-schema.org/keyword/definitions",ji=(e,t)=>F(Jo(e),x(n=>d.compile(n,t)),_),bi=()=>!0,ki={id:wi,compile:ji,interpret:bi},vi="https://json-schema.org/keyword/dependentRequired",Ai=e=>F(K(e),x(([t,n])=>[t,u(n)]),_),Ei=(e,t)=>{if($(t)!=="object")return!0;let n=!0;for(const[r,o]of e)se(r,t)&&!o.every(s=>se(s,t))&&(n=!1);return n},Ii={id:vi,compile:Ai,interpret:Ei},xi="https://json-schema.org/keyword/dependentSchemas",Fi=(e,t)=>F(K(e),x(async([n,r])=>[n,await d.compile(r,t)]),_),Ri=(e,t,n)=>{if($(t)!=="object")return!0;let r=!0;for(const[o,s]of e)se(o,t)&&!d.interpret(s,t,n)&&(r=!1);return r},Si=!0,Oi={id:xi,compile:Fi,interpret:Ri,simpleApplicator:Si},Pi="https://json-schema.org/keyword/deprecated",_i=e=>u(e),Ti=()=>!0,Ni=e=>e,Di={id:Pi,compile:_i,interpret:Ti,annotation:Ni},Ui="https://json-schema.org/keyword/description",qi=e=>u(e),Ci=()=>!0,Mi=e=>e,Vi={id:Ui,compile:qi,interpret:Ci,annotation:Mi},Li={id:"https://json-schema.org/keyword/dynamicAnchor"},Ki="https://json-schema.org/keyword/dynamicRef",zi=async(e,t)=>{const n=u(e),r=await Ot(e.document.baseUri,e);return await d.compile(r,t),n},Bi=(e,t,n)=>{if(!(e in n.dynamicAnchors))throw Error(`No dynamic anchor found for "${e}"`);return d.interpret(n.dynamicAnchors[e],t,n)},Zi=!0,Gi={beforeSchema(e,t,n){n.dynamicAnchors={...n.ast.metaData[yt(e)].dynamicAnchors,...n.dynamicAnchors}},beforeKeyword(e,t,n,r){n.dynamicAnchors=r.dynamicAnchors}},Ji={id:Ki,compile:zi,interpret:Bi,simpleApplicator:Zi,plugin:Gi},Wi="https://json-schema.org/keyword/else",Qi=async(e,t,n)=>{const r=v(e.document.dialectId,"https://json-schema.org/keyword/if");if(Wn(r,n)){const o=await P(r,n);return[await d.compile(o,t),await d.compile(e,t)]}else return[]},Xi=([e,t],n,r)=>e===void 0||d.interpret(e,n,{...r,plugins:r.ast.plugins})||d.interpret(t,n,r),Hi=!0,Yi={id:Wi,compile:Qi,interpret:Xi,simpleApplicator:Hi},ea="https://json-schema.org/keyword/enum",ta=e=>F(L(e),x(u),x(ke),_),na=(e,t)=>{const n=ke(A(t));return e.some(r=>n===r)},ra={id:ea,compile:ta,interpret:na},oa="https://json-schema.org/keyword/examples",sa=e=>u(e),ia=()=>!0,aa=e=>e,ca={id:oa,compile:sa,interpret:ia,annotation:aa},pa="https://json-schema.org/keyword/exclusiveMaximum",da=e=>u(e),ma=(e,t)=>$(t)!=="number"||A(t)<e,ua={id:pa,compile:da,interpret:ma},la="https://json-schema.org/keyword/exclusiveMinimum",ha=e=>u(e),fa=(e,t)=>$(t)!=="number"||A(t)>e,ya={id:la,compile:ha,interpret:fa},$a="https://json-schema.org/keyword/format",ga=e=>u(e),wa=()=>!0,ja=e=>e,ba={id:$a,compile:ga,interpret:wa,annotation:ja},ka={id:"https://json-schema.org/keyword/id"},va="https://json-schema.org/keyword/if",Aa=(e,t)=>d.compile(e,t),Ea=(e,t,n)=>(d.interpret(e,t,n),!0),Ia=!0,xa={id:va,compile:Aa,interpret:Ea,simpleApplicator:Ia},Fa=()=>{const e=N(!1),t=N(!0);return S(e,t),{start:e,end:t}},Ra=e=>{const t=N(!1),n=N(!0);return Na(t,n,e),{start:t,end:n}},Sa=(e,t)=>e===void 0?t:(S(e.end,t.start),e.end.isEnd=!1,{start:e.start,end:t.end}),Oa=(e,t)=>{const n=N(!1);S(n,e.start),S(n,t.start);const r=N(!0);return S(e.end,r),e.end.isEnd=!1,S(t.end,r),t.end.isEnd=!1,{start:n,end:r}},Pa=e=>{const t=N(!1),n=N(!0);return S(t,n),S(t,e.start),S(e.end,n),S(e.end,e.start),e.end.isEnd=!1,{start:t,end:n}},_a=e=>{const t=N(!1),n=N(!0);return S(t,n),S(t,e.start),S(e.end,n),e.end.isEnd=!1,{start:t,end:n}},Ta=e=>{const t=N(!1),n=N(!0);return S(t,e.start),S(e.end,n),S(e.end,e.start),e.end.isEnd=!1,{start:t,end:n}},S=(e,t)=>{e.epsilonTransitions.push(t)},Na=(e,t,n)=>{e.transition[n]=t},N=e=>({isEnd:e,transition:{},epsilonTransitions:[]}),Da="https://json-schema.org/keyword/itemPattern",sr=async(e,t)=>{const n=[[]];let r=n[0];for await(const o of L(e))if(T(o)==="string"){const s=u(o);if(s==="*")r.push(Pa(r.pop()));else if(s==="?")r.push(_a(r.pop()));else if(s==="+")r.push(Ta(r.pop()));else if(s==="|")r=[],n.push(r);else throw Error(`Unsupported pattern syntax: ${s}`)}else{const s=T(o)==="array"?sr(o,t):Ra(await d.compile(o,t));r.push(await s)}return Pt(e)===0?Fa():n.map(o=>o.reduce(Sa)).reduce(Oa)},Ua=(e,t,n)=>{if($(t)!=="array")return!0;let r=[];nt(e.start,r,[]);for(const o of M(t)){const s=[];for(const i of r){const a=qa(i.transition,o,n);a&&nt(a,s,[])}r=s}return!!r.find(o=>o.isEnd)},nt=(e,t,n)=>{if(e.epsilonTransitions.length)for(const r of e.epsilonTransitions)n.find(o=>o===r)||(n.push(r),nt(r,t,n));else t.push(e)},qa=(e,t,n)=>{for(const r in e)if(d.interpret(r,t,n))return e[r]},Ca={id:Da,compile:sr,interpret:Ua},Ma="https://json-schema.org/keyword/items",Va=async(e,t,n)=>{const r=v(e.document.dialectId,"https://json-schema.org/keyword/prefixItems"),o=await P(r,n);return[T(o)==="array"?Pt(o):0,await d.compile(e,t)]},La=([e,t],n,r)=>{var i;if($(n)!=="array")return!0;let o=!0,s=e;for(const a of Xn(e,M(n)))d.interpret(t,a,r)||(o=!1),(i=r.evaluatedItems)==null||i.add(s),s++;return o},Ka=!0,za={id:Ma,compile:Va,interpret:La,simpleApplicator:Ka},Ba="https://json-schema.org/keyword/maxContains",Za=e=>u(e),Ga=()=>!0,Ja={id:Ba,compile:Za,interpret:Ga},Wa="https://json-schema.org/keyword/maxItems",Qa=e=>u(e),Xa=(e,t)=>$(t)!=="array"||De(t)<=e,Ha={id:Wa,compile:Qa,interpret:Xa},Ya="https://json-schema.org/keyword/maxLength",ec=e=>u(e),tc=(e,t)=>$(t)!=="string"||[...A(t)].length<=e,nc={id:Ya,compile:ec,interpret:tc},rc="https://json-schema.org/keyword/maxProperties",oc=e=>u(e),sc=(e,t)=>$(t)!=="object"||[..._t(t)].length<=e,ic={id:rc,compile:oc,interpret:sc},ac="https://json-schema.org/keyword/maximum",cc=e=>u(e),pc=(e,t)=>$(t)!=="number"||A(t)<=e,dc={id:ac,compile:cc,interpret:pc},mc="https://json-schema.org/keyword/minContains",uc=e=>u(e),lc=()=>!0,hc={id:mc,compile:uc,interpret:lc},fc="https://json-schema.org/keyword/minItems",yc=e=>u(e),$c=(e,t)=>$(t)!=="array"||De(t)>=e,gc={id:fc,compile:yc,interpret:$c},wc="https://json-schema.org/keyword/minLength",jc=e=>u(e),bc=(e,t)=>$(t)!=="string"||[...A(t)].length>=e,kc={id:wc,compile:jc,interpret:bc},vc="https://json-schema.org/keyword/minProperties",Ac=e=>u(e),Ec=(e,t)=>$(t)!=="object"||[..._t(t)].length>=e,Ic={id:vc,compile:Ac,interpret:Ec},xc="https://json-schema.org/keyword/minimum",Fc=e=>u(e),Rc=(e,t)=>$(t)!=="number"||A(t)>=e,Sc={id:xc,compile:Fc,interpret:Rc},Oc="https://json-schema.org/keyword/multipleOf",Pc=e=>u(e),_c=(e,t)=>{if($(t)!=="number")return!0;const n=A(t)%e;return en(0,n)||en(e,n)},en=(e,t)=>Math.abs(e-t)<11920929e-14,Tc={id:Oc,compile:Pc,interpret:_c},Nc="https://json-schema.org/keyword/not",Dc=(...e)=>d.compile(...e),Uc=(...e)=>!d.interpret(...e),qc={id:Nc,compile:Dc,interpret:Uc},Cc="https://json-schema.org/keyword/oneOf",Mc=(e,t)=>F(L(e),x(n=>d.compile(n,t)),_),Vc=(e,t,n)=>{let r=0;for(const o of e)d.interpret(o,t,n)&&r++;return r===1},Lc={id:Cc,compile:Mc,interpret:Vc},Kc="https://json-schema.org/keyword/pattern",zc=e=>new RegExp(u(e),"u"),Bc=(e,t)=>$(t)!=="string"||e.test(A(t)),Zc={id:Kc,compile:zc,interpret:Bc},Gc="https://json-schema.org/keyword/patternProperties",Jc=(e,t)=>F(K(e),x(async([n,r])=>[new RegExp(n,"u"),await d.compile(r,t)]),_),Wc=(e,t,n)=>{var o;if($(t)!=="object")return!0;let r=!0;for(const[s,i]of e)for(const[a,c]of be(t)){const l=A(a);s.test(l)&&(d.interpret(i,c,n)||(r=!1),(o=n.evaluatedProperties)==null||o.add(l))}return r},Qc=!0,Xc={id:Gc,compile:Jc,interpret:Wc,simpleApplicator:Qc},Hc="https://json-schema.org/keyword/prefixItems",Yc=(e,t)=>F(L(e),x(n=>d.compile(n,t)),_),ep=(e,t,n)=>{var i;if($(t)!=="array")return!0;let r=!0,o=0;const s=De(t);for(const[a,c]of Hn(e,M(t))){if(o>=s)break;d.interpret(a,c,n)||(r=!1),(i=n.evaluatedItems)==null||i.add(o),o++}return r},tp=!0,np={id:Hc,compile:Yc,interpret:ep,simpleApplicator:tp},rp="https://json-schema.org/keyword/properties",op=(e,t)=>F(K(e),x(async([n,r])=>[n,await d.compile(r,t)]),et),sp=(e,t,n)=>{var o;if($(t)!=="object")return!0;let r=!0;for(const[s,i]of be(t)){const a=A(s);a in e&&(d.interpret(e[a],i,n)||(r=!1),(o=n.evaluatedProperties)==null||o.add(a))}return r},ip=!0,ap={id:rp,compile:op,interpret:sp,simpleApplicator:ip},cp="https://json-schema.org/keyword/propertyDependencies",pp=(e,t)=>F(K(e),x(async([n,r])=>[n,await F(K(r),x(async([o,s])=>[o,await d.compile(s,t)]),et)]),et),dp=(e,t,n)=>{if($(t)!=="object")return!0;let r=!0;const o=A(t);for(const[s,i]of Object.entries(e)){const a=o[s];se(s,t)&&a in i&&!d.interpret(i[a],t,n)&&(r=!1)}return r},mp=!0,up={id:cp,compile:pp,interpret:dp,simpleApplicator:mp},lp="https://json-schema.org/keyword/propertyNames",hp=(e,t)=>d.compile(e,t),fp=(e,t,n)=>{if($(t)!=="object")return!0;let r=!0;for(const o of _t(t))d.interpret(e,o,n)||(r=!1);return r},yp=!0,$p={id:lp,compile:hp,interpret:fp,simpleApplicator:yp},gp="https://json-schema.org/keyword/readOnly",wp=e=>u(e),jp=()=>!0,bp=e=>e,kp={id:gp,compile:wp,interpret:jp,annotation:bp},vp="https://json-schema.org/keyword/ref",Ap=(...e)=>d.compile(...e),Ep=(...e)=>d.interpret(...e),Ip=!0,xp={id:vp,compile:Ap,interpret:Ep,simpleApplicator:Ip},Fp="https://json-schema.org/keyword/requireAllExcept",Rp=async(e,t,n)=>{const r=await u(e),o=v(e.document.dialectId,"https://json-schema.org/keyword/properties"),s=await P(o,n),i=T(s)==="object"?He(s):[],a=new Set(i);return r.forEach(c=>i.remove(c)),[...a]},Sp=(e,t)=>$(t)!=="object"||e.every(n=>Object.hasOwn(A(t),n)),Op={id:Fp,compile:Rp,interpret:Sp},Pp="https://json-schema.org/keyword/required",_p=e=>u(e),Tp=(e,t)=>$(t)!=="object"||e.every(n=>Object.hasOwn(A(t),n)),Np={id:Pp,compile:_p,interpret:Tp},Dp="https://json-schema.org/keyword/title",Up=e=>u(e),qp=()=>!0,Cp=e=>e,Mp={id:Dp,compile:Up,interpret:qp,annotation:Cp},Vp="https://json-schema.org/keyword/then",Lp=async(e,t,n)=>{const r=v(e.document.dialectId,"https://json-schema.org/keyword/if");if(Wn(r,n)){const o=await P(r,n);return[await d.compile(o,t),await d.compile(e,t)]}else return[]},Kp=([e,t],n,r)=>e===void 0||!d.interpret(e,n,{...r,plugins:r.ast.plugins})||d.interpret(t,n,r),zp=!0,Bp={id:Vp,compile:Lp,interpret:Kp,simpleApplicator:zp},Zp="https://json-schema.org/keyword/type",Gp=e=>u(e),Jp=(e,t)=>typeof e=="string"?tn(t)(e):e.some(tn(t)),tn=e=>t=>t==="integer"?$(e)==="number"&&Number.isInteger(A(e)):$(e)===t,Wp={id:Zp,compile:Gp,interpret:Jp},Qp="https://json-schema.org/keyword/unevaluatedItems",Xp=async(e,t,n)=>[Te(n),await d.compile(e,t)],Hp=([e,t],n,r)=>{var c;if($(n)!=="array"||r.rootSchema===e)return!0;const o=new ed(e);d.interpret(e,n,{...r,plugins:[...r.ast.plugins,o]});const s=o.evaluatedItems;let i=!0,a=0;for(const l of M(n))s.has(a)||(d.interpret(t,l,r)||(i=!1),(c=r.evaluatedItems)==null||c.add(a)),a++;return i},Yp=!0;class ed{constructor(t){this.rootSchema=t}beforeSchema(t,n,r){r.evaluatedItems??(r.evaluatedItems=new Set),r.schemaEvaluatedItems??(r.schemaEvaluatedItems=new Set)}beforeKeyword(t,n,r){r.rootSchema=this.rootSchema,r.evaluatedItems=new Set}afterKeyword(t,n,r,o,s){if(o)for(const i of r.evaluatedItems)s.schemaEvaluatedItems.add(i)}afterSchema(t,n,r,o){if(o)for(const s of r.schemaEvaluatedItems)r.evaluatedItems.add(s);this.evaluatedItems=r.evaluatedItems}}const td={id:Qp,compile:Xp,interpret:Hp,simpleApplicator:Yp},nd="https://json-schema.org/keyword/unevaluatedProperties",rd=async(e,t,n)=>[Te(n),await d.compile(e,t)],od=([e,t],n,r)=>{var a;if($(n)!=="object"||r.rootSchema===e)return!0;const o=new id(e);d.interpret(e,n,{...r,plugins:[...r.ast.plugins,o]});const s=o.evaluatedProperties;let i=!0;for(const[c,l]of be(n)){const h=A(c);s.has(h)||(d.interpret(t,l,r)||(i=!1),(a=r.evaluatedProperties)==null||a.add(h))}return i},sd=!0;class id{constructor(t){this.rootSchema=t}beforeSchema(t,n,r){r.evaluatedProperties??(r.evaluatedProperties=new Set),r.schemaEvaluatedProperties??(r.schemaEvaluatedProperties=new Set)}beforeKeyword(t,n,r){r.rootSchema=this.rootSchema,r.evaluatedProperties=new Set}afterKeyword(t,n,r,o,s){if(o)for(const i of r.evaluatedProperties)s.schemaEvaluatedProperties.add(i)}afterSchema(t,n,r,o){if(o)for(const s of r.schemaEvaluatedProperties)r.evaluatedProperties.add(s);this.evaluatedProperties=r.evaluatedProperties}}const ad={id:nd,compile:rd,interpret:od,simpleApplicator:sd},cd="https://json-schema.org/keyword/uniqueItems",pd=e=>u(e),dd=(e,t)=>{if($(t)!=="array"||e===!1)return!0;const n=A(t).map(ke);return new Set(n).size===n.length},md={id:cd,compile:pd,interpret:dd},ud="https://json-schema.org/keyword/unknown",ld=e=>[[...Se(e.cursor)].pop(),u(e)],hd=()=>!0,fd=([,e])=>e,yd={id:ud,compile:ld,interpret:hd,annotation:fd},$d={id:"https://json-schema.org/keyword/vocabulary"},gd="https://json-schema.org/keyword/writeOnly",wd=e=>u(e),jd=()=>!0,bd=e=>e,kd={id:gd,compile:wd,interpret:jd,annotation:bd};xn("application/schema+json",Qo);p(vs);p(Fs);p(Rs);p(_s);p(Us);p(zs);p(Js);p(Hs);p(ri);p(ci);p(li);p(gi);p(ki);p(Ii);p(Oi);p(Di);p(Vi);p(Li);p(Ji);p(Yi);p(ra);p(ca);p(ua);p(ya);p(ba);p(ka);p(xa);p(Ca);p(za);p(Ja);p(Ha);p(nc);p(ic);p(dc);p(hc);p(gc);p(kc);p(Ic);p(Sc);p(Tc);p(qc);p(Lc);p(Zc);p(Xc);p(np);p(ap);p(up);p($p);p(kp);p(xp);p(Op);p(Np);p(Mp);p(Bp);p(Wp);p(td);p(ad);p(md);p(yd);p($d);p(kd);const vd={$schema:"https://json-schema.org/validation",$vocabulary:{"https://json-schema.org/vocab/core":!0,"https://json-schema.org/vocab/applicator":!0,"https://json-schema.org/vocab/unevaluated":!0,"https://json-schema.org/vocab/validation":!0,"https://json-schema.org/vocab/meta-data":!0,"https://json-schema.org/vocab/format-annotation":!0,"https://json-schema.org/vocab/content":!0},title:"Core and Validation specifications meta-schema",$dynamicAnchor:"meta",allOf:[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format-annotation"},{$ref:"meta/content"}]},Ad={$schema:"https://json-schema.org/validation",title:"Core vocabulary meta-schema",$dynamicAnchor:"meta",type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{type:"string",format:"uri"},$anchor:{$ref:"#/$defs/anchor"},$ref:{type:"string",format:"uri-reference"},$dynamicRef:{$ref:"#/$defs/anchor"},$dynamicAnchor:{$ref:"#/$defs/anchor"},$vocabulary:{type:"object",propertyNames:{type:"string",format:"uri"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$dynamicRef:"meta"}}},$defs:{anchor:{type:"string",pattern:"^[A-Za-z_][-A-Za-z0-9._]*$"}}},Ed={$schema:"https://json-schema.org/validation",title:"Applicator vocabulary meta-schema",$dynamicAnchor:"meta",properties:{prefixItems:{$ref:"#/$defs/schemaArray"},items:{$dynamicRef:"meta"},contains:{$dynamicRef:"meta"},itemPattern:{$ref:"#/$defs/itemPattern"},additionalProperties:{$dynamicRef:"meta"},properties:{type:"object",additionalProperties:{$dynamicRef:"meta"}},patternProperties:{type:"object",additionalProperties:{$dynamicRef:"meta"},propertyNames:{format:"regex"}},dependentSchemas:{type:"object",additionalProperties:{$dynamicRef:"meta"}},propertyDependencies:{type:"object",additionalProperties:{type:"object",additionalProperties:{$dynamicRef:"meta"}}},propertyNames:{$dynamicRef:"meta"},if:{$dynamicRef:"meta"},then:{$dynamicRef:"meta"},else:{$dynamicRef:"meta"},conditional:{type:"array",items:{if:{type:"array"},then:{items:{$dynamicRef:"meta"}},else:{$dynamicRef:"meta"}}},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$dynamicRef:"meta"}},$defs:{schemaArray:{type:"array",minItems:1,items:{$dynamicRef:"meta"}},itemPattern:{type:"array",itemPattern:[[{if:{type:"array"},then:{$ref:"#/$defs/itemPattern"},else:{$dynamicRef:"meta"}},{enum:["?","*","+"]},"?","|",{const:"|"}],"*"]}}},Id={$schema:"https://json-schema.org/validation",title:"Validation vocabulary meta-schema",$dynamicAnchor:"meta",properties:{multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeInteger"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeInteger"},uniqueItems:{type:"boolean"},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger"},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeInteger"},required:{$ref:"#/$defs/stringArray"},optional:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}},const:!0,enum:{type:"array",items:!0},type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]}},$defs:{nonNegativeInteger:{type:"integer",minimum:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0}}},xd={$schema:"https://json-schema.org/validation",title:"Meta-data vocabulary meta-schema",$dynamicAnchor:"meta",properties:{title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean"},readOnly:{type:"boolean"},writeOnly:{type:"boolean"},examples:{type:"array"}}},Fd={$schema:"https://json-schema.org/validation",title:"Format vocabulary meta-schema for annotation results",$dynamicAnchor:"meta",properties:{format:{type:"string"}}},Rd={$schema:"https://json-schema.org/validation",title:"Format vocabulary meta-schema for assertion results",$dynamicAnchor:"meta",properties:{format:{type:"string"}}},Sd={$schema:"https://json-schema.org/validation",title:"Content vocabulary meta-schema",$dynamicAnchor:"meta",properties:{contentMediaType:{type:"string"},contentEncoding:{type:"string"},contentSchema:{$dynamicRef:"meta"}}},Od={$schema:"https://json-schema.org/validation",title:"Unevaluated applicator vocabulary meta-schema",$dynamicAnchor:"meta",properties:{unevaluatedItems:{$dynamicRef:"meta"},unevaluatedProperties:{$dynamicRef:"meta"}}};V("https://json-schema.org/vocab/core",{$anchor:"https://json-schema.org/keyword/anchor",$comment:"https://json-schema.org/keyword/comment",$defs:"https://json-schema.org/keyword/definitions",$dynamicAnchor:"https://json-schema.org/keyword/dynamicAnchor",$dynamicRef:"https://json-schema.org/keyword/dynamicRef",$id:"https://json-schema.org/keyword/id",$ref:"https://json-schema.org/keyword/ref",$vocabulary:"https://json-schema.org/keyword/vocabulary"});V("https://json-schema.org/vocab/applicator",{additionalProperties:"https://json-schema.org/keyword/additionalProperties",allOf:"https://json-schema.org/keyword/allOf",anyOf:"https://json-schema.org/keyword/anyOf",contains:"https://json-schema.org/keyword/contains",minContains:"https://json-schema.org/keyword/minContains",maxContains:"https://json-schema.org/keyword/maxContains",dependentSchemas:"https://json-schema.org/keyword/dependentSchemas",if:"https://json-schema.org/keyword/if",then:"https://json-schema.org/keyword/then",else:"https://json-schema.org/keyword/else",conditional:"https://json-schema.org/keyword/conditional",items:"https://json-schema.org/keyword/items",itemPattern:"https://json-schema.org/keyword/itemPattern",not:"https://json-schema.org/keyword/not",oneOf:"https://json-schema.org/keyword/oneOf",patternProperties:"https://json-schema.org/keyword/patternProperties",prefixItems:"https://json-schema.org/keyword/prefixItems",properties:"https://json-schema.org/keyword/properties",propertyDependencies:"https://json-schema.org/keyword/propertyDependencies",propertyNames:"https://json-schema.org/keyword/propertyNames"});V("https://json-schema.org/vocab/validation",{const:"https://json-schema.org/keyword/const",dependentRequired:"https://json-schema.org/keyword/dependentRequired",enum:"https://json-schema.org/keyword/enum",exclusiveMaximum:"https://json-schema.org/keyword/exclusiveMaximum",exclusiveMinimum:"https://json-schema.org/keyword/exclusiveMinimum",maxItems:"https://json-schema.org/keyword/maxItems",maxLength:"https://json-schema.org/keyword/maxLength",maxProperties:"https://json-schema.org/keyword/maxProperties",maximum:"https://json-schema.org/keyword/maximum",minItems:"https://json-schema.org/keyword/minItems",minLength:"https://json-schema.org/keyword/minLength",minProperties:"https://json-schema.org/keyword/minProperties",minimum:"https://json-schema.org/keyword/minimum",multipleOf:"https://json-schema.org/keyword/multipleOf",requireAllExcept:"https://json-schema.org/keyword/requireAllExcept",pattern:"https://json-schema.org/keyword/pattern",required:"https://json-schema.org/keyword/required",type:"https://json-schema.org/keyword/type",uniqueItems:"https://json-schema.org/keyword/uniqueItems"});V("https://json-schema.org/vocab/meta-data",{default:"https://json-schema.org/keyword/default",deprecated:"https://json-schema.org/keyword/deprecated",description:"https://json-schema.org/keyword/description",examples:"https://json-schema.org/keyword/examples",readOnly:"https://json-schema.org/keyword/readOnly",title:"https://json-schema.org/keyword/title",writeOnly:"https://json-schema.org/keyword/writeOnly"});V("https://json-schema.org/vocab/format-annotation",{format:"https://json-schema.org/keyword/format"});V("https://json-schema.org/vocab/format-assertion",{format:"https://json-schema.org/keyword/format-assertion"});V("https://json-schema.org/vocab/content",{contentEncoding:"https://json-schema.org/keyword/contentEncoding",contentMediaType:"https://json-schema.org/keyword/contentMediaType",contentSchema:"https://json-schema.org/keyword/contentSchema"});V("https://json-schema.org/vocab/unevaluated",{unevaluatedItems:"https://json-schema.org/keyword/unevaluatedItems",unevaluatedProperties:"https://json-schema.org/keyword/unevaluatedProperties"});const ir="https://json-schema.org/validation";$t(ir,{"https://json-schema.org/vocab/core":!0,"https://json-schema.org/vocab/applicator":!0,"https://json-schema.org/vocab/validation":!0,"https://json-schema.org/vocab/meta-data":!0,"https://json-schema.org/vocab/format-annotation":!0,"https://json-schema.org/vocab/content":!0,"https://json-schema.org/vocab/unevaluated":!0});C(vd,ir);C(Ad,"https://json-schema.org/meta/core");C(Ed,"https://json-schema.org/meta/applicator");C(Id,"https://json-schema.org/meta/validation");C(xd,"https://json-schema.org/meta/meta-data");C(Fd,"https://json-schema.org/meta/format-annotation");C(Rd,"https://json-schema.org/meta/format-assertion");C(Sd,"https://json-schema.org/meta/content");C(Od,"https://json-schema.org/meta/unevaluated");const Pd={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},_d="https://json-schema.org/keyword/draft-04/additionalItems",Td=async(e,t,n)=>{const r=v(e.document.dialectId,"https://json-schema.org/keyword/draft-04/items"),o=await P(r,n);return[T(o)==="array"?Pt(o):Number.MAX_SAFE_INTEGER,await d.compile(e,t)]},Nd=([e,t],n,r)=>{var i;if($(n)!=="array")return!0;let o=!0,s=e;for(const a of Xn(e,M(n)))d.interpret(t,a,r)||(o=!1),(i=r.evaluatedItems)==null||i.add(s),s++;return o},Dd=!0,Ud={id:_d,compile:Td,interpret:Nd,simpleApplicator:Dd},qd="https://json-schema.org/keyword/draft-06/contains",Cd=(e,t)=>d.compile(e,t),Md=(e,t,n)=>$(t)!=="array"||ts(r=>d.interpret(e,r,n),M(t)),Vd={id:qd,compile:Cd,interpret:Md},Ld="https://json-schema.org/keyword/draft-04/dependencies",Kd=(e,t)=>F(K(e),x(async([n,r])=>[n,T(r)==="array"?u(r):await d.compile(r,t)]),_),zd=(e,t,n)=>$(t)!=="object"?!0:e.every(([r,o])=>se(r,t)?Array.isArray(o)?o.every(s=>se(s,t)):d.interpret(o,t,n):!0),Bd={id:Ld,compile:Kd,interpret:zd},Zd="https://json-schema.org/keyword/draft-04/items",Gd=(e,t)=>T(e)==="array"?F(L(e),x(n=>d.compile(n,t)),_):d.compile(e,t),Jd=(e,t,n)=>{var s,i;if($(t)!=="array")return!0;let r=!0,o=0;if(typeof e=="string")for(const a of M(t))d.interpret(e,a,n)||(r=!1),(s=n.evaluatedItems)==null||s.add(o++);else for(const[a,c]of Hn(e,M(t))){if(!c)break;d.interpret(a,c,n)||(r=!1),(i=n.evaluatedItems)==null||i.add(o),o++}return r},Wd=!0,Qd={id:Zd,compile:Gd,interpret:Jd,simpleApplicator:Wd},Xd={id:"https://json-schema.org/keyword/draft-04/id"},Hd={id:"https://json-schema.org/keyword/draft-04/ref"};p(Ud);p(Vd);p(Bd);p(Xd);p(Qd);p(Hd);const rt="http://json-schema.org/draft-07/schema";V(rt,{$id:"https://json-schema.org/keyword/draft-04/id",$ref:"https://json-schema.org/keyword/draft-04/ref",$comment:"https://json-schema.org/keyword/comment",additionalItems:"https://json-schema.org/keyword/draft-04/additionalItems",additionalProperties:"https://json-schema.org/keyword/additionalProperties",allOf:"https://json-schema.org/keyword/allOf",anyOf:"https://json-schema.org/keyword/anyOf",const:"https://json-schema.org/keyword/const",contains:"https://json-schema.org/keyword/draft-06/contains",contentEncoding:"https://json-schema.org/keyword/contentEncoding",contentMediaType:"https://json-schema.org/keyword/contentMediaType",default:"https://json-schema.org/keyword/default",definitions:"https://json-schema.org/keyword/definitions",dependencies:"https://json-schema.org/keyword/draft-04/dependencies",description:"https://json-schema.org/keyword/description",enum:"https://json-schema.org/keyword/enum",examples:"https://json-schema.org/keyword/examples",exclusiveMaximum:"https://json-schema.org/keyword/exclusiveMaximum",exclusiveMinimum:"https://json-schema.org/keyword/exclusiveMinimum",format:"https://json-schema.org/keyword/format",if:"https://json-schema.org/keyword/if",then:"https://json-schema.org/keyword/then",else:"https://json-schema.org/keyword/else",items:"https://json-schema.org/keyword/draft-04/items",maxItems:"https://json-schema.org/keyword/maxItems",maxLength:"https://json-schema.org/keyword/maxLength",maxProperties:"https://json-schema.org/keyword/maxProperties",maximum:"https://json-schema.org/keyword/maximum",minItems:"https://json-schema.org/keyword/minItems",minLength:"https://json-schema.org/keyword/minLength",minProperties:"https://json-schema.org/keyword/minProperties",minimum:"https://json-schema.org/keyword/minimum",multipleOf:"https://json-schema.org/keyword/multipleOf",not:"https://json-schema.org/keyword/not",oneOf:"https://json-schema.org/keyword/oneOf",pattern:"https://json-schema.org/keyword/pattern",patternProperties:"https://json-schema.org/keyword/patternProperties",properties:"https://json-schema.org/keyword/properties",propertyNames:"https://json-schema.org/keyword/propertyNames",readOnly:"https://json-schema.org/keyword/readOnly",required:"https://json-schema.org/keyword/required",title:"https://json-schema.org/keyword/title",type:"https://json-schema.org/keyword/type",uniqueItems:"https://json-schema.org/keyword/uniqueItems",writeOnly:"https://json-schema.org/keyword/writeOnly"});$t(rt,{[rt]:!0},!0);C(Pd);const Yd="https://json-schema.org/validation",em=(e,t,n=Yd)=>{const r=An(t,n);return e.annotations[r]??[]};class tm extends Error{constructor(t){super("Validation Error"),this.name=this.constructor.name,this.output=t}}const nm=async(e,t=void 0,n=void 0)=>{const r=await Qn(e),o=await nr(r),s=(i,a)=>rm(o,re(i),a);return t===void 0?s:s(t,n)},rm=(e,t,n=tt)=>{const r=new $s,o=n.plugins??[],s=rr(e,t,{outputFormat:typeof n=="string"?n:n.outputFormat??tt,plugins:[r,...o]});if(!s.valid)throw new tm(s);for(const i of r.annotations){const a=rs(i.instanceLocation,t),c=i.keyword;a.annotations[c]||(a.annotations[c]=[]),a.annotations[c].unshift(i.annotation)}return t};function ar(e,t,n){if(t){for(const[r,o]of be(t))if(A(r)===e)return em(o,n)[0]}}function om(e,t){if(t){const n=ar(e,t,"title");if(n)return n}return e}function sm(e,t){if(t)return ar(e,t,"description")}function im(e){const[t,n]=Fe.useState(!1);return Fe.useEffect(()=>{if(e&&e.$id)if(Xo(e.$id))n(!0);else try{C(e),n(!0)}catch(r){console.error("Unable to register JSON Schema in @hyperjump/json-schema:",r)}},[e]),t}function am(e,t){const n=im(t);return ur({queryKey:["getAnnotatedInstance",{json:e,schema:t,schemaIsRegistered:n}],queryFn:()=>{if(e&&t&&n)try{return nm(t.$id,e)}catch(r){console.error("Could not create annotated schema instance:",r)}return null},enabled:!!(t&&e)})}function Ne(e){return typeof e=="number"||typeof e=="boolean"?e.toString():vr(e)?$r(Je(e)):e}function nn(e){const{entityId:t,versionNumber:n}=e,[r,o]=Fe.useState(!1),{data:s,isLoading:i,refetch:a}=gr(t,n,!0),c=s==null?void 0:s.entityMetadata,l=s==null?void 0:s.annotations,{data:h,isLoading:m}=wr(t),{data:y,isLoading:g}=jr(h==null?void 0:h.jsonSchemaVersionInfo.$id,{enabled:!!h}),{data:f,isLoading:E}=am(s==null?void 0:s.entity,y),{data:D,refetch:I}=br(t,{enabled:!!h}),R=!!h,Y=!!c&&!!D&&Je(c.modifiedOn).diff(Je(D.validatedOn))>0,ee=Fe.useCallback(async()=>{o(!0);const O=[void a(),void I()];await Promise.allSettled(O),o(!1)},[a,I]);return i||m||g||E||r?k.jsx(kr,{numRows:3,numCols:2}):k.jsxs(k.Fragment,{children:[c&&l&&lr(l)?k.jsxs("div",{className:"placeholder",children:["This"," ",Ve(Le(c.concreteType))," ","has no annotations."]}):null,k.jsx("table",{className:"AnnotationsTable",children:k.jsxs("tbody",{children:[l&&Object.keys(l).map(O=>k.jsxs("tr",{className:"AnnotationsTable__Row",children:[k.jsx("td",{className:"AnnotationsTable__Row__Key",children:k.jsx(We,{annotationKey:O,title:om(O,f),description:sm(O,f)})}),k.jsx("td",{className:"AnnotationsTable__Row__Value",children:Array.isArray(l[O])?l[O].map(Ne).join(", "):Ne(l[O])})]},O)),R?k.jsxs("tr",{className:"AnnotationsTable__Row",children:[k.jsx("td",{className:"AnnotationsTable__Row__Key Schema",children:"Validation Schema"}),k.jsx("td",{className:"AnnotationsTable__Row__Value",children:k.jsx("a",{href:`${hr(fr.REPO_ENDPOINT)}/repo/v1/schema/type/registered/${h.jsonSchemaVersionInfo.$id}`,target:"_blank",rel:"noopener noreferrer",children:h.jsonSchemaVersionInfo.schemaName})})]}):null]})}),c&&R&&Y&&k.jsx(yr,{variant:"warning",description:`This ${Ve(Le(c.concreteType))} has changed since it has been last validated. If this ${Ve(Le(c.concreteType))} is expected to have annotations derived from the Validation Schema, they may not yet be visible.`,primaryButtonConfig:{text:"Reload Annotations",onClick:()=>{ee()}},isGlobal:!1})]})}try{Ne.displayName="getDisplayedAnnotation",Ne.__docgenInfo={description:"",displayName:"getDisplayedAnnotation",props:{}}}catch{}try{nn.displayName="AnnotationsTable",nn.__docgenInfo={description:"",displayName:"AnnotationsTable",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}}}}}catch{}export{nn as A,Ne as g};
