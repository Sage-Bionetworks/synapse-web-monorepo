import{R as A,r as m,j as e,B as p,d6 as T,E as I,V as N}from"./iframe-nfXQhXwW.js";import{a as q}from"./AccessRequirementList-BSyl_np2.js";import{u as E,R}from"./useHasAccess-D09FQbhG.js";const f={p:"0px",minWidth:"unset"};function x(n){const{entityId:o,showButtonText:l=!0,showExternalAccessIcon:y=!1}=n,{restrictionUiType:t,accessText:b,icon:a,handleGetAccess:u,accessRequirementDialog:d}=E(o,!0,void 0,{showExternalAccessIcon:y}),{data:s}=q({restrictableObjectType:A.ENTITY,objectId:o}),h=m.useMemo(()=>t===R.AccessBlockedToAnonymous?e.jsx(p,{sx:f,className:T,onClick:c=>{if(c.isTrusted){const i=new MouseEvent("click",{bubbles:!0});c.currentTarget.dispatchEvent(i)}},children:a}):a,[t]),w=m.useMemo(()=>{if(!s||!t)return e.jsx(e.Fragment,{});const c=s==null?void 0:s.hasUnmetAccessRequirement,i=s==null?void 0:s.restrictionLevel;let r="";if(c)r="Request Access";else{if(I.OPEN===i)return h;r="View Terms"}return e.jsxs(e.Fragment,{children:[e.jsxs(p,{sx:f,className:n.className,onClick:u,children:[a,l&&e.jsx(N,{sx:{ml:"5px"},children:r})]}),d]})},[s,t,h,u,n.className,l,d,b,a]);return t?e.jsx("span",{style:{whiteSpace:"nowrap"},children:w}):e.jsx(e.Fragment,{})}try{x.displayName="HasAccessV2",x.__docgenInfo={description:`HasAccess shows if the user has access to the file or not. If the user doesn't have access due to a restriction,
then a link will be shown that opens a modal with steps to request access.`,displayName:"HasAccessV2",props:{onHide:{defaultValue:null,description:"",name:"onHide",required:!1,type:{name:"() => void"}},entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},showButtonText:{defaultValue:null,description:"",name:"showButtonText",required:!1,type:{name:"boolean"}},wrap:{defaultValue:null,description:"",name:"wrap",required:!1,type:{name:"boolean"}},showExternalAccessIcon:{defaultValue:{value:"false"},description:`If true, the component will show enhanced UI for the case where
- the entity is a FileEntity, AND
- the caller has permission to fetch the dataFileHandle, AND
- the dataFileHandle is an instance of ExternalFileHandleInterface (i.e. the file is not controlled by Synapse)
Note that this requires an additional API call that cannot be batched, so it should be avoided in bulk  contexts if possible.`,name:"showExternalAccessIcon",required:!1,type:{name:"boolean"}},sx:{defaultValue:null,description:"",name:"sx",required:!1,type:{name:"SxProps<Theme>"}}}}}catch{}export{x as H};
