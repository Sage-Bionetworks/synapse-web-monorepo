var Za=Object.defineProperty;var er=(e,n,a)=>n in e?Za(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a;var F=(e,n,a)=>er(e,typeof n!="symbol"?n+"":n,a);import{aO as aa,aP as ra,aQ as tr,U as je,j as t,r as x,aV as sa,en as nr,aY as Ae,aZ as be,aT as pt,a_ as fe,aU as oa,a$ as $t,bs as ar,b2 as ye,b3 as Nn,eE as rr,eF as ia,eG as sr,c6 as la,X as w,ek as or,B as W,eH as zt,eb as Me,dq as Tn,a1 as Z,dO as ir,c1 as E,b$ as he,_ as G,V as _,br as lr,eI as dr,aa as U,eJ as _n,at as Ht,eK as ur,eL as cr,F as da,eM as pr,a0 as Wt,eN as mr,eO as yr,er as xe,Y as Gt,ar as X,eP as ua,eQ as ca,eR as pa,eS as oe,eT as fr,aq as gr,eU as Xe,cv as hr,e6 as ma,bF as xr,eV as ya,eW as fa,eX as Rn,eY as br,eZ as ga,cx as Be,Z as Sr,e_ as vr,e$ as ha,f0 as Cr,f1 as Nr,f2 as Tr,ch as Vn,f3 as _r,bV as Yt,bq as H,f4 as Qe,f5 as Rr,f6 as Ze,f7 as xa,f8 as Pe,f9 as ba,fa as Kt,fb as Jt,fc as Sa,fd as Xt,as as mt,$ as de,dP as Se,bm as Vr,bn as Ir,aj as Ue,fe as wr,dN as qr,ed as va,ff as ae,fg as In,fh as jr,ea as Pr,fi as Ca,fj as re,cs as Lr,dQ as Zt,bX as Fr,J as Er,d6 as kr,ds as ie,ee as Dr,fk as Ar,fl as Mr,eh as Na,fm as Or,cA as $e,fn as yt,al as Ta,e3 as Br,cK as wn,am as _a,ai as Qr,ak as Ur,fo as $r,fp as zr}from"./iframe-Dz8P-dI2.js";import{u as k,Q as Hr}from"./QueryContext-nSJXNX_M.js";import{u as ue,a as B,b as ce,Q as en,c as tn,N as ze,d as Ra}from"./QueryWrapper-B-uWXkab.js";import{A as Wr}from"./Autocomplete-gWxe0YPJ.js";import{S as Gr,u as Yr}from"./UserSearchBoxV2-BtghZ0wZ.js";import{f as Kr}from"./JsonSchemaForm-EMR6CliR.js";import{P as Jr,u as Xr,g as Zr,F as es,Q as Va,S as Ia,a as ts}from"./FeaturedDataTabs-BbBLwG4R.js";import{g as Oe,a as qn,b as ns,T as as}from"./CardUtils-Cp7re87V.js";import{G as rs}from"./GenericCardIcon-BQW7twCn.js";import{C as ss}from"./CopyToClipboardIcon-PGh5NInp.js";import{u as wa,C as os}from"./CreateOrUpdateDoiModal-CfKCrjO-.js";import{u as qa}from"./useDOI-DrvApD8-.js";import{g as et,m as is}from"./SynapseTableUtils-DucKWgBq.js";import{u as pe}from"./useEntity-DvlLZK12.js";import{u as ja}from"./index-CHbf5N3P.js";import{F as ls,C as ds}from"./CitationPopoverContent-BFHLz7PU.js";import"./ErrorPage-BQZkTAy4.js";import"./AccessTokenPage-B2Qo2ZvW.js";import"./AccountLevelBadges-Bn1ChSyQ.js";import{C as jn}from"./CardGridWithLinks-CP3YHOmU.js";import"./RowDataTable-B7Mjfd8Y.js";import"./RowDataTableWithQuery--GIDPPuC.js";import{a as us,b as cs}from"./useDownloadList-S6dDdLkl.js";import"./MarkdownPopover-7Q79L-1x.js";import"./SkeletonButton-2qZCOB9B.js";import{S as ps}from"./SkeletonInlineBlock-DU5NVTXg.js";import{S as ms}from"./SkeletonTable-s01CyjIZ.js";import"./SkeletonParagraph-DjiISGk9.js";import"./CertificationAnswer-BodbJ2Fj.js";import"./ChallengeDetailPage-Bro5GMxu.js";import"./index-CQXBj82j.js";import"./AvailableEvaluationQueueList-CX2xmRe6.js";import"./ChallengeSubmission-CWliVgFO.js";import"./ChangePassword-CtB10ZNC.js";import"./ChangePasswordWithToken-CAGFIZ4P.js";import{C as ys}from"./ConfirmationDialog-DvlZtFFP.js";import"./CookiesNotification-Bdb8129m.js";import{C as Pn}from"./CTASectionWrapper-CO1d5XYb.js";import{P as fs,R as gs}from"./DownloadCartPage-BRxZVWqb.js";import"./ShowDownloadV2-DkmnE0Sh.js";import{D as hs}from"./DynamicForm-BSMg52aX.js";import{W as nn}from"./WideButton-ZbVy_lt1.js";import"./EntityBadgeIcons-BE0--ii7.js";import"./EntityFinder-Bxqh1WBw.js";import{F as xs,v as bs}from"./index-C5O6_Ex3.js";import"./enums-CT1ZGkLi.js";import"./index-r8ZA1smB.js";import"./EvaluationCard-BozOhuZe.js";import"./EvaluationEditorPage-D0ziaZok.js";import"./ExperimentalMode-CTxPo8WV.js";import"./FileUpload-DrZ2RfiS.js";import"./FeaturedToolsList-CpTxUvo1.js";import"./DiscussionThread-Dsg8Kkq_.js";import"./ForumPage-DZ_08CK5.js";import{S as Ss}from"./SynapseCardLabel-CeGG1qZU.js";import{G as vs}from"./GenericCard-C_7H36Qw.js";import"./HeaderCardV2-KrX7IKxJ.js";import"./Goals-CauBk46N.js";import"./GoalsV2-DNZnM0rt.js";import{G as Ln}from"./GoalsV3-DQ6U50Y-.js";import"./GoogleMap-BAsGHjyG.js";import"./HasAccessV2-DIqHR0e5.js";import{I as Pa}from"./Icon-CGwEzZO-.js";import"./MarkdownCollapse-D7dioNux.js";import"./MarkdownEditor-Zs1Avlm4.js";import"./MarkdownGithub-3CB23mNl.js";import{M as La}from"./ModalDownload-Be7roTQl.js";import"./InfiniteTableLayout-BF61QBhz.js";import"./CopyToClipboardInput-Bve3DbqT.js";import"./DialogBase-GK7w3r0y.js";import"./WarningDialog-C2r-6FNX.js";import"./ColumnHeader-BI0nJPND.js";import"./StyledTanStackTable-CdEDnIz0.js";import"./OAuthAclEditorModal-C2wLw6oA.js";import"./ThemesPlot-uXKaQEow.js";import"./UpsetPlot-DoPEB5fs.js";import{S as Cs}from"./SynapsePlot-CVE7zKVO.js";import"./Programs-DnizpeSS.js";import{P as Ns}from"./ProgrammaticInstructionsModal-UrS-dt2T.js";import"./ProvenanceGraph-CFjlKD1f.js";import"./ProjectDataAvailability-DnA_-rB-.js";import{Q as Ts}from"./QueryCount-D0sb9h62.js";import{u as an,a as rn,b as _s,s as Rs,i as Fa}from"./TableRowSelectionState-BqYJBpE7.js";import{g as Vs,a as Is,b as ws,c as qs,E as js}from"./ExportToAnalysisPlatformDialog-5_CkLBvU.js";import{H as Ea}from"./HelpPopover-CJRWDTvc.js";import{I as Ps}from"./IconSvgButton-D2E-Itiz.js";import{g as Ls}from"./TextFieldWithWordLimit-CjTTgu7o.js";import{C as Fs,a as Es}from"./index-C1IoFP27.js";import{T as ks}from"./SynapseTableConstants-2qH3fDlQ.js";import{R as Ds}from"./RowSelectionUI-CxDfhhsH.js";import{D as As}from"./DownloadLoginModal-DqIzzOgA.js";import{M as ge}from"./MenuItem-MnHW3c-e.js";import{p as sn}from"./pluralize-Dtp1DlEB.js";import{S as Ms}from"./SelectionCriteriaPill-rTNeYS1K.js";import"./RegisterPageLogoutPrompt-C_S27EQ1.js";import"./RenderIfInView-BZkDRw_t.js";import"./Resources-Puo79qgt.js";import"./AccessRequirementAclEditor-DT8nD4mp.js";import"./RssFeedCards-CdIFjhnT.js";import{S as Os}from"./ShowMore-DsezGR8p.js";import"./LightTooltip-DgOc2Xfz.js";import"./InputSizedButton-DnZHedB0.js";import"./DropdownSelect-fsn2QBYo.js";import"./SubscriptionItem-RyGUwTsG.js";import"./SubsectionRowRenderer-D7emuUhz.js";import"./SynapseFormWrapper-BXfhZjoL.js";import"./SynapseFormSubmissionGrid-D3eRCCd1.js";import{u as Bs,S as Qs}from"./SynapseTable-oLd0Irzo.js";import"./SynapseChat-DD5csBt7.js";import"./TableFeedCards-0DHNu638.js";import"./TermsAndConditions-h23Y0yPj.js";import{g as Fn}from"./ColorGradient-Zy7TAKxK.js";import{B as Y}from"./Box-BLqZ3hW2.js";import{P as Us}from"./Plot-C88s6Xrz.js";import{u as $s}from"./index-CayI3LLo.js";import{U as zs}from"./UserBadge-Bv1QVAAu.js";import{U as Hs}from"./UserCardListRotate-BBB6jkc0.js";import"./UserCardListGroups-DdzF2Ti1.js";import"./UserOrTeamBadge-8D3EJwIA.js";import"./UserProfileLinks-215lQyWu.js";import"./EntityHeaderTable-C7QtshhD.js";import"./AccessRequirementRelatedProjectsList-C1SWXeoC.js";import"./SageResourcesPopover-Di7YYJry.js";import"./RecentPublicationsGrid-YDl8HwQU.js";import"./ImageCardGridWithLinks-BjQg__NQ.js";import"./PortalFeatureHighlights-BhxMthar.js";import{P as ka}from"./PortalSectionHeader-CgKnRZaY.js";import{C as on}from"./CardMedia-Bz-c24GZ.js";import{D as Ws}from"./DownloadConfirmationUI-BXYKuMSu.js";import{d as Gs}from"./DownloadConfirmationUtils-Bw_iEXe4.js";import{I as Ys}from"./IconList-DcY3BngW.js";import{S as Ks}from"./ShareThisPage-D_CXGslt.js";import{a as Js}from"./use-deep-compare-effect.esm-Dnjq1VY6.js";import{F as Xs,L as Zs}from"./DataGrid-DKPo6mpO.js";import{u as En}from"./useInfiniteQuery-C8P6ajVv.js";function eo(e){return aa("MuiPagination",e)}ra("MuiPagination",["root","ul","outlined","text"]);function to(e={}){const{boundaryCount:n=1,componentName:a="usePagination",count:r=1,defaultPage:s=1,disabled:o=!1,hideNextButton:i=!1,hidePrevButton:l=!1,onChange:d,page:u,showFirstButton:c=!1,showLastButton:p=!1,siblingCount:m=1,...g}=e,[h,y]=tr({controlled:u,default:s,name:a,state:"page"}),v=(R,I)=>{u||y(I),d&&d(R,I)},f=(R,I)=>{const q=I-R+1;return Array.from({length:q},($,j)=>R+j)},b=f(1,Math.min(n,r)),N=f(Math.max(r-n+1,n+1),r),S=Math.max(Math.min(h-m,r-n-m*2-1),n+2),C=Math.min(Math.max(h+m,n+m*2+2),r-n-1),T=[...c?["first"]:[],...l?[]:["previous"],...b,...S>n+2?["start-ellipsis"]:n+1<r-n?[n+1]:[],...f(S,C),...C<r-n-1?["end-ellipsis"]:r-n>n?[r-n]:[],...N,...i?[]:["next"],...p?["last"]:[]],V=R=>{switch(R){case"first":return 1;case"previous":return h-1;case"next":return h+1;case"last":return r;default:return null}};return{items:T.map(R=>typeof R=="number"?{onClick:I=>{v(I,R)},type:"page",page:R,selected:R===h,disabled:o,"aria-current":R===h?"page":void 0}:{onClick:I=>{v(I,V(R))},type:R,page:V(R),selected:!1,disabled:o||!R.includes("ellipsis")&&(R==="next"||R==="last"?h>=r:h<=1)}),...g}}function no(e){return aa("MuiPaginationItem",e)}const O=ra("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),ao=je(t.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),ro=je(t.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),Da=(e,n)=>{const{ownerState:a}=e;return[n.root,n[a.variant],n[`size${fe(a.size)}`],a.variant==="text"&&n[`text${fe(a.color)}`],a.variant==="outlined"&&n[`outlined${fe(a.color)}`],a.shape==="rounded"&&n.rounded,a.type==="page"&&n.page,(a.type==="start-ellipsis"||a.type==="end-ellipsis")&&n.ellipsis,(a.type==="previous"||a.type==="next")&&n.previousNext,(a.type==="first"||a.type==="last")&&n.firstLast]},so=e=>{const{classes:n,color:a,disabled:r,selected:s,size:o,shape:i,type:l,variant:d}=e,u={root:["root",`size${fe(o)}`,d,i,a!=="standard"&&`color${fe(a)}`,a!=="standard"&&`${d}${fe(a)}`,r&&"disabled",s&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[l]],icon:["icon"]};return oa(u,no,n)},oo=be("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:Da})($t(({theme:e})=>({...e.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,height:"auto",[`&.${O.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},variants:[{props:{size:"small"},style:{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)}}]}))),io=be(ar,{name:"MuiPaginationItem",slot:"Root",overridesResolver:Da})($t(({theme:e})=>({...e.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,[`&.${O.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${O.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${O.selected}`]:{backgroundColor:(e.vars||e).palette.action.selected,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:ye(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${O.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ye(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},[`&.${O.disabled}`]:{opacity:1,color:(e.vars||e).palette.action.disabled,backgroundColor:(e.vars||e).palette.action.selected}},variants:[{props:{size:"small"},style:{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)}},{props:{shape:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"outlined"},style:{border:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${O.selected}`]:{[`&.${O.disabled}`]:{borderColor:(e.vars||e).palette.action.disabledBackground,color:(e.vars||e).palette.action.disabled}}}},{props:{variant:"text"},style:{[`&.${O.selected}`]:{[`&.${O.disabled}`]:{color:(e.vars||e).palette.action.disabled}}}},...Object.entries(e.palette).filter(Nn(["dark","contrastText"])).map(([n])=>({props:{variant:"text",color:n},style:{[`&.${O.selected}`]:{color:(e.vars||e).palette[n].contrastText,backgroundColor:(e.vars||e).palette[n].main,"&:hover":{backgroundColor:(e.vars||e).palette[n].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[n].main}},[`&.${O.focusVisible}`]:{backgroundColor:(e.vars||e).palette[n].dark},[`&.${O.disabled}`]:{color:(e.vars||e).palette.action.disabled}}}})),...Object.entries(e.palette).filter(Nn(["light"])).map(([n])=>({props:{variant:"outlined",color:n},style:{[`&.${O.selected}`]:{color:(e.vars||e).palette[n].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[n].mainChannel} / 0.5)`:ye(e.palette[n].main,.5)}`,backgroundColor:e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.activatedOpacity})`:ye(e.palette[n].main,e.palette.action.activatedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[n].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ye(e.palette[n].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${O.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[n].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ye(e.palette[n].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity)}}}}))]}))),lo=be("div",{name:"MuiPaginationItem",slot:"Icon"})($t(({theme:e})=>({fontSize:e.typography.pxToRem(20),margin:"0 -8px",variants:[{props:{size:"small"},style:{fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:e.typography.pxToRem(22)}}]}))),Aa=x.forwardRef(function(n,a){const r=sa({props:n,name:"MuiPaginationItem"}),{className:s,color:o="standard",component:i,components:l={},disabled:d=!1,page:u,selected:c=!1,shape:p="circular",size:m="medium",slots:g={},slotProps:h={},type:y="page",variant:v="text",...f}=r,b={...r,color:o,disabled:d,selected:c,shape:p,size:m,type:y,variant:v},N=nr(),S=so(b),C={slots:{previous:g.previous??l.previous,next:g.next??l.next,first:g.first??l.first,last:g.last??l.last},slotProps:h},[T,V]=Ae("previous",{elementType:ao,externalForwardedProps:C,ownerState:b}),[D,R]=Ae("next",{elementType:ro,externalForwardedProps:C,ownerState:b}),[I,q]=Ae("first",{elementType:Xs,externalForwardedProps:C,ownerState:b}),[$,j]=Ae("last",{elementType:Zs,externalForwardedProps:C,ownerState:b}),A=N?{previous:"next",next:"previous",first:"last",last:"first"}[y]:y,z={previous:T,next:D,first:I,last:$}[A],ee={previous:V,next:R,first:q,last:j}[A];return y==="start-ellipsis"||y==="end-ellipsis"?t.jsx(oo,{ref:a,ownerState:b,className:pt(S.root,s),children:"â€¦"}):t.jsxs(io,{ref:a,ownerState:b,component:i,disabled:d,className:pt(S.root,s),...f,children:[y==="page"&&u,z?t.jsx(lo,{...ee,className:S.icon,as:z}):null]})}),uo=e=>{const{classes:n,variant:a}=e;return oa({root:["root",a],ul:["ul"]},eo,n)},co=be("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:a}=e;return[n.root,n[a.variant]]}})({}),po=be("ul",{name:"MuiPagination",slot:"Ul"})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function mo(e,n,a){return e==="page"?`${a?"":"Go to "}page ${n}`:`Go to ${e} page`}const yo=x.forwardRef(function(n,a){const r=sa({props:n,name:"MuiPagination"}),{boundaryCount:s=1,className:o,color:i="standard",count:l=1,defaultPage:d=1,disabled:u=!1,getItemAriaLabel:c=mo,hideNextButton:p=!1,hidePrevButton:m=!1,onChange:g,page:h,renderItem:y=I=>t.jsx(Aa,{...I}),shape:v="circular",showFirstButton:f=!1,showLastButton:b=!1,siblingCount:N=1,size:S="medium",variant:C="text",...T}=r,{items:V}=to({...r,componentName:"Pagination"}),D={...r,boundaryCount:s,color:i,count:l,defaultPage:d,disabled:u,getItemAriaLabel:c,hideNextButton:p,hidePrevButton:m,renderItem:y,shape:v,showFirstButton:f,showLastButton:b,siblingCount:N,size:S,variant:C},R=uo(D);return t.jsx(co,{"aria-label":"pagination navigation",className:pt(R.root,o),ownerState:D,ref:a,...T,children:t.jsx(po,{className:R.ul,ownerState:D,children:V.map((I,q)=>t.jsx("li",{children:y({...I,color:i,"aria-label":c(I.type,I.page,I.selected),shape:v,size:S,variant:C})},q))})})});let dt=!1;const fo=(e="GTM-KPW4KS62")=>{const[n]=rr();return x.useEffect(()=>{var a;if(n.analyticsAllowed&&!dt){window.dataLayer=window.dataLayer||[],window.dataLayer.push({"gtm.start":new Date().getTime(),event:"gtm.js"});const r=document.getElementsByTagName("script")[0],s=document.createElement("script"),o="&l=dataLayer";s.async=!0,s.src="https://www.googletagmanager.com/gtm.js?id="+e+o,(a=r.parentNode)==null||a.insertBefore(s,r),dt=!0}},[n,e]),dt},go=je([t.jsx("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 2v3H4V5zM4 21V10h16v11z"},"0"),t.jsx("path",{d:"M4 5.01h16V8H4z",opacity:".3"},"1")]),ho=je([t.jsx("path",{d:"M5 18.08V19h.92l9.06-9.06-.92-.92z",opacity:".3"},"0"),t.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM5.92 19H5v-.92l9.06-9.06.92.92zM20.71 5.63l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41"},"1")]),xo=je(t.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}));function ft(e){const n=k(),{getCurrentQueryRequest:a,addValueToSelectedFacet:r,removeSelectedFacet:s}=n,{data:o}=ue(),{topLevelEnumeratedFacetToFilter:i}=e,l=a(),d=((o==null?void 0:o.facets)??[]).find(g=>ia(g,i)),u=(d==null?void 0:d.facetValues.map(({value:g})=>g))??[],c=sr(i,l.query.selectedFacets),p=(c==null?void 0:c.facetValues)||[],m=(g,h)=>{s(i),h.forEach(y=>r(i,y))};return t.jsx("div",{children:u.length>0&&t.jsx(Wr,{multiple:!0,options:u,value:p,onChange:m,renderInput:g=>t.jsx(la,{...g,placeholder:"Select Filter(s)"})})})}try{ft.displayName="ColumnFilter",ft.__docgenInfo={description:"",displayName:"ColumnFilter",props:{topLevelEnumeratedFacetToFilter:{defaultValue:null,description:"",name:"topLevelEnumeratedFacetToFilter",required:!0,type:{name:"UniqueFacetIdentifier"}}}}}catch{}function gt({sortConfig:e}){const{defaultColumn:n,defaultDirection:a,sortableColumns:r}=e,{executeQueryRequest:s}=k(),{getColumnDisplayName:o}=B(),[i,l]=x.useState(n),[d,u]=x.useState(a),c=r.map(m=>({value:m,label:o(m)})),p=m=>{s(g=>{let h="ASC";return m===i&&(h=d==="ASC"?"DESC":"ASC"),g.query.sort=m?[{column:m,direction:h}]:void 0,l(m),u(h),g})};return t.jsxs("div",{className:"QuerySortSelector",children:[t.jsx(w,{variant:"label",className:"sort-by-label SRC-inlineBlock",children:"Sort by"}),t.jsx(Gr,{className:"react-select-container SRC-inlineBlock",value:Kr(i,c),options:c,onChange:m=>p(m==null?void 0:m.value),styles:{control:m=>({...m,marginLeft:"15px"})}})]})}try{gt.displayName="QuerySortSelector",gt.__docgenInfo={description:"",displayName:"QuerySortSelector",props:{sortConfig:{defaultValue:null,description:"",name:"sortConfig",required:!0,type:{name:"SortConfiguration"}}}}}catch{}const bo=e=>e.map(n=>({concreteType:"org.sagebionetworks.repo.model.table.FacetColumnValuesRequest",columnName:n.facet,facetValues:[n.facetValue]})),So=(e,n)=>{const a={sql:e,selectedFacets:bo(n)};return encodeURIComponent(JSON.stringify(a))},vo=(e,n,a)=>{const r=So(n,a);return`${e}?QueryWrapper0=${r}`},ln=or(W)({height:"20px",padding:"2px 8px",borderColor:"grey.400",fontWeight:700,lineHeight:"20px","& .MuiButton-startIcon":{marginRight:"4px",marginLeft:0}}),kn="syn65903895";function Co(e,n){return zt({entityId:kn,query:{sql:`SELECT * FROM ${kn}`},partMask:Z,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest"},{staleTime:1/0,select:a=>{var d,u,c,p;const r=Me("dataset",(d=a.queryResult)==null?void 0:d.queryResults.headers),s=Me("dataset_version",(u=a.queryResult)==null?void 0:u.queryResults.headers),o=Me("croissant_file_s3_object",(c=a.queryResult)==null?void 0:c.queryResults.headers);if(r===void 0||s===void 0||o===void 0)return null;const i=Tn(e),l=(p=a.queryResult)==null?void 0:p.queryResults.rows.find(m=>{const g=m.values[r];return typeof g!="string"?!1:Tn(g)===i&&String(m.values[s])===String(n)});return(l==null?void 0:l.values[o])??null}})}function ht(e){const{datasetId:n,datasetVersionNumber:a}=e,{data:r,isLoading:s}=Co(n,a);return!r&&!s?null:t.jsx(ir,{condition:s,wrapper:E,wrapperProps:{role:"progressbar"},children:t.jsx(he,{placement:"top",title:t.jsxs(w,{children:["Croissant is a metadata standard designed for AI-ready datasets. Learn more"," ",t.jsx(G,{href:"https://mlcommons.org/working-groups/data/croissant/",target:"_blank",rel:"noopener noreferrer",children:"here"}),"."]}),children:t.jsx(ln,{href:r||"#",target:"_blank",variant:"outlined",startIcon:"ðŸ¥",children:"Croissant"})})})}try{ht.displayName="CroissantButton",ht.__docgenInfo={description:`Given a Synapse ID and version number of a dataset, this component will render a button that links to the Croissant
metadata for that dataset.`,displayName:"CroissantButton",props:{datasetId:{defaultValue:null,description:"The synID of the dataset",name:"datasetId",required:!0,type:{name:"string"}},datasetVersionNumber:{defaultValue:null,description:"The version number of the dataset",name:"datasetVersionNumber",required:!0,type:{name:"number"}}}}}catch{}function xt(e){const[n,a]=x.useState(!1),{portalId:r,resourceId:s}=e,{data:o}=wa(r,{select:u=>u.canMintDoi}),{data:i,isLoading:l}=qa({id:s,portalId:r,type:"PORTAL_RESOURCE"});if(l)return t.jsx(E,{role:"progressbar",width:150});const d=i?`https://doi.org/${i.doiUri}`:void 0;return t.jsxs(t.Fragment,{children:[t.jsx(os,{open:n,onClose:()=>a(!1),objectType:"PORTAL_RESOURCE",objectId:s,portalId:r}),t.jsxs(_,{sx:{display:"flex",alignItems:"center",gap:.5,height:0},children:[i&&t.jsxs(t.Fragment,{children:[t.jsx(G,{href:d,target:"_blank",children:d}),t.jsx(ss,{size:"small",value:i.doiUrl,sx:{color:"inherit"}}),o&&t.jsx(he,{title:"Edit DOI",children:t.jsx(lr,{onClick:()=>a(!0),size:"small",sx:{color:"inherit"},children:t.jsx(ho,{fontSize:"inherit"})})})]}),!i&&o&&t.jsx(G,{role:"button",onClick:()=>a(!0),children:"Click to Create a DOI"})]})]})}try{xt.displayName="PortalDOI",xt.__docgenInfo={description:"Component used to view/create/edit a DOI for a portal resource.",displayName:"PortalDOI",props:{portalId:{defaultValue:null,description:"The ID of the portal created with https://rest-docs.synapse.org/rest/POST/portal.html",name:"portalId",required:!0,type:{name:"string"}},resourceId:{defaultValue:null,description:`The ID of the resource. For Portals, this is a string that serializes the resourceType and all key information for
the resource`,name:"resourceId",required:!0,type:{name:"string"}}}}}catch{}function No(e){const{portalId:n,resourceId:a}=e,{data:r}=qa({id:a,portalId:n,type:"PORTAL_RESOURCE"},{enabled:!!(n&&a)}),{data:s}=wa(n,{enabled:!!n,select:o=>o.canMintDoi});return!!(r||s)}function To(e){const{portalDoiConfiguration:n,data:a}=e;if(!n)return;const{resourceType:r,resourceIdKeyColumns:s,serializeDoiString:o}=n,i=s==null?void 0:s.reduce((l,d)=>{const u=a[d];return u!=null&&(l[d]=u),l},{});if(!(!i||Object.keys(i).length===0))return o(r,i)}function bt(e){const[n,a]=x.useState(null),r=l=>{a(l.currentTarget)},s=()=>{a(null)},o=!!n,i=o?"cite-as-popover":void 0;return t.jsxs(t.Fragment,{children:[e.doi&&t.jsx(ln,{onClick:r,variant:"outlined",startIcon:t.jsx(ls,{}),sx:e.buttonSx,children:t.jsx(w,{variant:"label",sx:{lineHeight:"20px"},children:"Cite As"})}),t.jsx(ds,{...e,anchorEl:n,open:o,id:i,onClose:s})]})}try{bt.displayName="CitationPopover",bt.__docgenInfo={description:"",displayName:"CitationPopover",props:{doi:{defaultValue:null,description:"",name:"doi",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},boilerplateText:{defaultValue:null,description:"",name:"boilerplateText",required:!1,type:{name:"string"}},defaultCitationFormat:{defaultValue:null,description:"",name:"defaultCitationFormat",required:!1,type:{name:"enum",value:[{value:'"bibtex"'},{value:'"apa"'},{value:'"ieee"'},{value:'"nature"'},{value:'"science"'}]}},selectSx:{defaultValue:null,description:"",name:"selectSx",required:!1,type:{name:"SxProps"}},buttonSx:{defaultValue:null,description:"",name:"buttonSx",required:!1,type:{name:"SxProps"}}}}}catch{}try{jn.displayName="CardGridWithLinks",jn.__docgenInfo={description:"",displayName:"CardGridWithLinks",props:{linkText:{defaultValue:null,description:"",name:"linkText",required:!0,type:{name:"string"}},cards:{defaultValue:null,description:"",name:"cards",required:!0,type:{name:"CardGridWithLinksConfig[]"}}}}}catch{}try{Pn.displayName="CTASectionWrapper",Pn.__docgenInfo={description:"",displayName:"CTASectionWrapper",props:{themeMode:{defaultValue:null,description:"",name:"themeMode",required:!0,type:{name:"enum",value:[{value:'"dark"'},{value:'"light"'}]}},showBlobs:{defaultValue:{value:"true"},description:"",name:"showBlobs",required:!1,type:{name:"boolean"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"ReactNode"}},sx:{defaultValue:null,description:"",name:"sx",required:!1,type:{name:"SxProps"}}}}}catch{}const Dn=({schemaUrl:e,uiSchemaUrl:n,postUrl:a,submitButtonText:r})=>{const[s,o]=x.useState(!1),i=()=>{o(!0)},l=()=>{o(!1)},d=t.jsx(hs,{schemaUrl:e,uiSchemaUrl:n,postUrl:a,onSubmit:()=>{l()}});return t.jsx("div",{className:"browse-tools-page",children:t.jsxs(_,{sx:{margin:"10px 0px 50px 0px"},children:[t.jsx(nn,{className:"highlightSubmitToolButton",variant:"contained",onClick:i,children:r}),t.jsx(ys,{open:s,title:"",content:d,onCancel:l,onConfirm:()=>{},confirmButtonProps:{sx:{display:"none"}},cancelButtonProps:{children:"cancel"}})]})})};try{Dn.displayName="DynamicFormModal",Dn.__docgenInfo={description:"",displayName:"DynamicFormModal",props:{schemaUrl:{defaultValue:null,description:"",name:"schemaUrl",required:!0,type:{name:"string"}},uiSchemaUrl:{defaultValue:null,description:"",name:"uiSchemaUrl",required:!0,type:{name:"string"}},postUrl:{defaultValue:null,description:"",name:"postUrl",required:!0,type:{name:"string"}},mutateFormDataBeforePost:{defaultValue:null,description:"",name:"mutateFormDataBeforePost",required:!1,type:{name:"(formData: any) => any"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!1,type:{name:"() => void"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"() => void"}},submitButtonText:{defaultValue:null,description:"",name:"submitButtonText",required:!1,type:{name:"string"}}}}}catch{}class Re extends x.Component{constructor(a){super(a);F(this,"formRef");F(this,"submitForm",()=>{this.formRef.current.submit()});F(this,"refresh",()=>{if(this.context.accessToken){const a=[U.getUserProfile(this.context.accessToken),U.getEntity(this.context.accessToken,this.props.formSchemaEntityId),U.getEntity(this.context.accessToken,this.props.formUiSchemaEntityId)];Promise.all(a).then(r=>{const s=r[0];this.getTargetContainer(s,this.context.accessToken).then(o=>{const i=r[1],l=r[2];this.getSchemaFileContent(o,i,l)})}).catch(r=>{this.onError(r)})}});F(this,"getSchemaFileContent",(a,r,s)=>{const o=[U.getFileResult(r,this.context.accessToken,!0,!0),U.getFileResult(s,this.context.accessToken,!0,!0)];Promise.all(o).then(i=>{try{const l=i.map(d=>_n(d.fileHandle,d.preSignedURL));Promise.all(l).then(d=>{const u=JSON.parse(d[0]),c=JSON.parse(d[1]);this.getExistingFileData(a,u,c)}).catch(d=>{console.log("getSchemaFileContent: Error getting form content",d)})}catch(l){console.log("getSchemaFileContent: Error getting schema content",l)}}).catch(i=>{this.onError(i)})});F(this,"getExistingFileData",(a,r,s)=>{const i={entityName:`${r.title}.json`,parentId:a};let l,d;U.lookupChildEntity(i,this.context.accessToken).then(u=>U.getEntity(this.context.accessToken,u.id).then(c=>(d=c,this.props.initFormData?U.getFileResult(d,this.context.accessToken,!0,!0).then(async p=>{try{const m=await _n(p.fileHandle,p.preSignedURL);l=JSON.parse(m)}catch(m){console.log("getExistingFileData: Error setting form data",m)}}):Promise.resolve()))).finally(()=>{this.setState({formData:l,currentFileEntity:d,formSchema:r,formUiSchema:s})})});F(this,"getTargetContainer",async(a,r)=>{const s={entityName:a.ownerId,parentId:this.props.parentContainerId};try{const o=await U.lookupChildEntity(s,r);return console.log(`EntityForm uploading to https://www.synapse.org/Synapse:${o.id}`),this.setState({userprofile:a,containerId:o.id,isLoading:!1}),o.id}catch(o){return o.status===404?this.onError(new Error("Your folder has not yet been set up, please retry in a few minutes.")):this.onError(o)}});F(this,"finishedProcessing",()=>{this.setState({isLoading:!1,successfullyUploaded:!0})});F(this,"onError",a=>{this.setState({error:a,isLoading:!1,successfullyUploaded:!1})});F(this,"onSubmit",({formData:a})=>{this.setState({isLoading:!0,successfullyUploaded:!1});const r=new Blob([JSON.stringify(a)],{type:"text/json"});this.createEntityFile(r)});F(this,"createEntityFile",a=>{const r=`${this.state.formSchema.title}.json`;U.uploadFile(this.context.accessToken,r,a).then(s=>{const o=s.fileHandleId;if(this.state.currentFileEntity){const l={...this.state.currentFileEntity,dataFileHandleId:o};return this.setState({currentFileEntity:l}),U.updateEntity(l,this.context.accessToken)}const i={parentId:this.state.containerId,name:r,concreteType:"org.sagebionetworks.repo.model.FileEntity",dataFileHandleId:o};return U.createEntity(i,this.context.accessToken)}).then(s=>{this.finishedProcessing(),this.props.synIdCallback&&this.props.synIdCallback(s.id)}).catch(s=>{this.onError(s)})});this.formRef=x.createRef(),this.state={isLoading:!0,successfullyUploaded:!1}}componentDidMount(){this.refresh()}render(){return t.jsxs("div",{children:[this.state.error&&t.jsxs("div",{className:"panel panel-danger errors",children:[t.jsx("div",{className:"panel-heading",children:t.jsx("h3",{className:"panel-title",children:"Error"})}),t.jsx("ul",{className:"list-group",children:t.jsxs("li",{className:"list-group-item text-danger",children:[this.state.error.name," ",this.state.error.reason,this.state.error.message]})})]}),this.context.accessToken&&!this.state.isLoading&&!this.state.successfullyUploaded&&this.state.formSchema&&this.state.formUiSchema&&!this.state.error&&t.jsx(xs,{validator:bs,formData:this.state.formData,schema:this.state.formSchema,uiSchema:this.state.formUiSchema,onSubmit:this.onSubmit,ref:this.formRef,children:t.jsx("div",{style:{display:"none"},children:t.jsx("button",{type:"submit",className:"btn btn-info",children:"Submit"})})}),!this.state.error&&this.context.accessToken&&this.state.isLoading&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"Savingâ€¦"}),t.jsx("span",{style:{marginLeft:"2px"},className:"spinner"})]})]})}}F(Re,"contextType",dr);try{Re.displayName="EntityForm",Re.__docgenInfo={description:"",displayName:"EntityForm",props:{parentContainerId:{defaultValue:null,description:"",name:"parentContainerId",required:!0,type:{name:"string"}},formSchemaEntityId:{defaultValue:null,description:"",name:"formSchemaEntityId",required:!0,type:{name:"string"}},formUiSchemaEntityId:{defaultValue:null,description:"",name:"formUiSchemaEntityId",required:!0,type:{name:"string"}},initFormData:{defaultValue:null,description:"",name:"initFormData",required:!0,type:{name:"boolean"}},synIdCallback:{defaultValue:null,description:"",name:"synIdCallback",required:!0,type:{name:"(synId: string) => void"}}}}}catch{}try{Re.contextType.displayName="EntityForm.contextType",Re.contextType.__docgenInfo={description:"If set, `this.context` will be set at runtime to the current value of the given Context.",displayName:"EntityForm.contextType",props:{}}}catch{}const An=e=>{const{accessToken:n}=Ht(),{synId:a,className:r}=e,[s,o]=x.useState(void 0);x.useEffect(()=>{(async()=>{try{const u=await U.getEntity(n,a);if(!cr(u))throw new Error(`File Entity expected but found ${u}`);const c={requestedFiles:[{associateObjectId:a,associateObjectType:da.FileEntity,fileHandleId:u.dataFileHandleId}],includeFileHandles:!0,includePreSignedURLs:!1,includePreviewPreSignedURLs:!1},m=(await U.getFiles(c,n)).requestedFiles[0].fileHandle;if(m&&pr(m))o({externalFileHandle:m,fileEntity:u});else throw new Error(`Not an external file handle: ${m==null?void 0:m.id}`)}catch(u){console.error("Error on getting external file handle = ",u)}})()},[a,n]);const i=s==null?void 0:s.externalFileHandle,l=s==null?void 0:s.fileEntity;return i?t.jsx("a",{href:i.externalURL,className:r,target:"_blank",rel:"noopener noreferrer",children:t.jsxs("span",{children:[l==null?void 0:l.name,t.jsx(ur,{style:{marginLeft:5}})]})}):t.jsx(t.Fragment,{})};try{An.displayName="ExternalFileHandleLink",An.__docgenInfo={description:"",displayName:"ExternalFileHandleLink",props:{synId:{defaultValue:null,description:"",name:"synId",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}try{Ln.displayName="GoalsV3",Ln.__docgenInfo={description:"",displayName:"GoalsV3",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},svgComponentMap:{defaultValue:null,description:"",name:"svgComponentMap",required:!0,type:{name:"Record<string, FC<SVGProps<SVGSVGElement>>>"}}}}}catch{}function Mn(e){const{measurementId:n}=e;return fo(n),t.jsx(t.Fragment,{})}try{Mn.displayName="GoogleAnalytics",Mn.__docgenInfo={description:`GoogleAnalytics is a component wrapper for the useGoogleAnalytics() hook.
This is exported for use in the Synapse.org GWT codebase.`,displayName:"GoogleAnalytics",props:{measurementId:{defaultValue:null,description:"",name:"measurementId",required:!1,type:{name:"string"}}}}}catch{}function St({queryBundleRequest:e,onHide:n}){var p;const[a,r]=x.useState("..."),{data:s,isLoading:o,isPlaceholderData:i}=Wt({...e,partMask:mr},{placeholderData:m=>m,throwOnError:!0}),l=(p=s==null?void 0:s.responseBody)==null?void 0:p.combinedSql,d=o||i;x.useEffect(()=>{if(l&&!d){const m=l.toUpperCase().indexOf("FROM SYN"),g=`SELECT * ${l.substring(m)}`;r(g)}},[l,d]);const u=x.useMemo(()=>a.replace(/(["`])/g,"\\$1"),[a]),c=x.useMemo(()=>a.replace(/"/g,'\\"'),[a]);return t.jsx(Ns,{show:!0,onClose:n,title:"Download Programmatically",cliNotes:t.jsx(t.Fragment,{children:"This command line code will download Synapse files AND file annotations to your working directory."}),cliCode:`synapse get -q "${u}"`,rNotes:t.jsxs(t.Fragment,{children:["This R code will download file annotations only. Use"," ",t.jsxs(G,{target:"_blank",rel:"noopener noreferrer",href:"https://help.synapse.org/docs/Get-Started-with-Downloading-Data.2004254837.html#GetStartedwithDownloadingData-DownloadingFiles",children:["synGet","()"]})," ","to loop over the list of Synapse IDs from the file annotations to download files."]}),rCode:`${gs}
query <- synTableQuery("${c}")
read.table(query$filepath, sep = ",")`,pythonNotes:t.jsxs(t.Fragment,{children:["This Python code will download file annotations only. Use"," ",t.jsx(G,{target:"_blank",rel:"noopener noreferrer",href:"https://help.synapse.org/docs/Get-Started-with-Downloading-Data.2004254837.html#GetStartedwithDownloadingData-DownloadingFiles",children:"syn.get"})," ","to loop over the list of Synapse IDs from the file annotations to download files."]}),pythonCode:`${fs}
query = syn.tableQuery("${c}")
query.asDataFrame()`})}try{St.displayName="ProgrammaticTableDownload",St.__docgenInfo={description:"",displayName:"ProgrammaticTableDownload",props:{queryBundleRequest:{defaultValue:null,description:"",name:"queryBundleRequest",required:!0,type:{name:"QueryBundleRequest"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}function Ma(){const{getCurrentQueryRequest:e,fileIdColumnName:n,fileVersionColumnName:a}=k(),{data:r}=ce(),s=an(),o=rn(),i=_s();return x.useMemo(()=>{var d,u;const l=e().query;if(n&&a){const c=(d=r.columnModels)==null?void 0:d.find(m=>m.name==n),p=(u=r.columnModels)==null?void 0:u.find(m=>m.name==a);l.selectFileColumn=c?Number(c.id):void 0,l.selectFileVersionColumn=p?Number(p.id):void 0}else{const c=et(r.columnModels);c&&(l.selectFileColumn=Number(c))}if(s&&i&&r.selectColumns){const c=Vs(i,o,r.selectColumns);l.additionalFilters=[...l.additionalFilters||[],c]}return{concreteType:"org.sagebionetworks.repo.model.download.AddToDownloadListRequest",query:l}},[r.columnModels,r.selectColumns,e,s,i,o,n,a])}function _o(e){const n=e.match(/^"(.+?)"\s*@\d+$/);return n?n[1]:""}function Ro(e,n={textMatchesMode:"NATURAL_LANGUAGE"}){const{textMatchesMode:a,distance:r=0}=n;let s=e;if(a=="BOOLEAN"){const i=Ls(e),l=Math.max(r,i);s=`"${e.replaceAll('"',"")}" @${l}`}return{concreteType:"org.sagebionetworks.repo.model.table.TextMatchesQueryFilter",searchExpression:s,searchMode:n.textMatchesMode}}function Vo(e,n,a,r,s){const{additionalFilters:o=[]}=e.query,i=et(n);if(a.match(yr)&&i){const u={concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter",columnName:(n==null?void 0:n.filter(p=>p.id===i))[0].name,operator:xe.IN,values:[a]},c=o.find(p=>p.concreteType==u.concreteType&&p.columnName==u.columnName);if(c)return c.values.includes(a)||c.values.push(a),e;o.push(u)}else{const d=Ro(a,s);if(o.find(c=>c.concreteType==d.concreteType&&c.searchExpression==d.searchExpression))return e;o.push(d)}return e.query.additionalFilters=o,r(""),e}const ut=3;function He({ftsConfig:e}){const{executeQueryRequest:n}=k(),{showSearchBar:a}=B(),[r,s]=x.useState(""),o=x.useRef(null),{data:i}=ue(),l=i==null?void 0:i.columnModels,d=c=>{var p;c.preventDefault(),r.trim().length<ut?(p=o.current)==null||p.setCustomValidity(`Search term must have a minimum of ${ut} characters`):n(m=>Vo(m,l,r,s,e))},u=c=>{var p;(p=o.current)==null||p.setCustomValidity(""),s(c.currentTarget.value)};return t.jsx("div",{className:"QueryWrapperFullTextSearchInput",children:t.jsx(Gt,{in:a,timeout:{enter:300,exit:300},children:t.jsx("form",{onSubmit:d,children:t.jsx(la,{sx:{width:"100%"},onChange:u,placeholder:"Enter Search Terms",value:r,type:"text",slotProps:{input:{startAdornment:t.jsx(X,{icon:"search",wrap:!1,sx:{mr:1,color:"grey.600"}}),endAdornment:t.jsxs(t.Fragment,{children:[r.length>0&&t.jsx(Ps,{icon:"close",size:"small",onClick:()=>{s("")}}),t.jsx(Ea,{markdownText:"This search bar is powered by MySQL Full Text Search.",helpUrl:e==null?void 0:e.searchHelpURL,placement:"left"})]})},htmlInput:{minLength:ut,ref:o}}})})})})}try{He.displayName="FullTextSearch",He.__docgenInfo={description:"",displayName:"FullTextSearch",props:{ftsConfig:{defaultValue:null,description:"",name:"ftsConfig",required:!1,type:{name:"FTSConfig"}}}}}catch{}class Io extends x.Component{constructor(a){super(a);F(this,"searchFormRef");F(this,"radioFormRef");F(this,"handleClickOutsideForm",a=>{var r,s;!((r=this.searchFormRef.current)!=null&&r.contains(a==null?void 0:a.target))&&!((s=this.radioFormRef.current)!=null&&s.contains(a==null?void 0:a.target))&&(this.state.didUpdateRanLast?this.setState({didUpdateRanLast:!1}):this.setState({show:!1}))});F(this,"search",a=>{var m,g;a.preventDefault();const{searchText:r}=this.state;let{columnName:s}=this.state;const{searchable:o,lockedColumn:i}=this.props;if(s==="")if(o)s=o.filter(h=>h!==(i==null?void 0:i.columnName))[0];else{const h=(m=this.props.columnModels)==null?void 0:m.filter(y=>y.name!==(i==null?void 0:i.columnName)).filter(y=>this.isSupportedColumn(y));s=(h==null?void 0:h[0].name)??""}this.setState({show:!1});const{executeQueryRequest:l,getCurrentQueryRequest:d}=this.props.queryContext,u=d(),{additionalFilters:c=[]}=u.query,p=c.findIndex(h=>!!(ua(h)||ca(h)&&h.columnName===s));if(p===-1){const h=(g=this.props.columnModels)==null?void 0:g.filter(y=>y.name===s)[0];if(h!=null&&h.columnType.endsWith("_LIST")){const y={columnName:s,function:pa.HAS_LIKE,values:[`%${r}%`],concreteType:"org.sagebionetworks.repo.model.table.ColumnMultiValueFunctionQueryFilter"};c.push(y)}else if((h==null?void 0:h.columnType)==oe.ENTITYID){const y={columnName:s,operator:xe.EQUAL,values:[`${r.toLowerCase().replace("syn","")}`],concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter"};c.push(y)}else{const y={columnName:s,operator:xe.LIKE,values:[`%${r}%`],concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter"};c.push(y)}}else c[p].values.push(`%${r}%`);u.query.additionalFilters=c,l(u)});F(this,"handleChange",a=>{this.setState({searchText:a.currentTarget.value})});F(this,"isSupportedColumn",a=>{switch(a==null?void 0:a.columnType){case oe.FILEHANDLEID:case oe.DATE:case oe.DATE_LIST:case oe.USERID:return!1;default:return!0}});F(this,"isSupportedColumnAndInProps",a=>{if(this.isSupportedColumn(a)){const{searchable:r}=this.props;return r==null?void 0:r.some(s=>s===(a==null?void 0:a.name))}return!1});this.state={show:!1,didUpdateRanLast:!1,searchText:"",columnName:this.props.defaultColumn??""},this.searchFormRef=x.createRef(),this.radioFormRef=x.createRef()}componentDidMount(){document.addEventListener("click",this.handleClickOutsideForm)}componentDidUpdate(a){var r,s,o,i,l;!((r=a.queryVisualizationContext)!=null&&r.showSearchBar)&&((s=this.props.queryVisualizationContext)!=null&&s.showSearchBar)&&(this.setState({show:!0,didUpdateRanLast:!0}),(l=(i=(o=this.searchFormRef)==null?void 0:o.current)==null?void 0:i.querySelector("input"))==null||l.focus())}componentWillUnmount(){document.removeEventListener("click",this.handleClickOutsideForm)}render(){const{searchable:a,lockedColumn:r,columnModels:s,queryVisualizationContext:{showSearchBar:o,getColumnDisplayName:i}}=this.props,{searchText:l,show:d,columnName:u}=this.state;let c=[];return a?c=a.map(p=>s==null?void 0:s.find(m=>m.name===p)).filter(this.isSupportedColumnAndInProps).map(p=>p.name):s&&(c=s==null?void 0:s.filter(this.isSupportedColumn).map(p=>p.name)),c.length&&(r!=null&&r.columnName)&&(c=c.filter(p=>p!==(r==null?void 0:r.columnName))),t.jsxs("div",{className:"QueryWrapperSearchInput",children:[t.jsx(Gt,{in:o,children:t.jsxs("form",{className:"QueryWrapperSearchInput__searchbar",onSubmit:this.search,onClick:()=>{this.setState({show:!0})},ref:this.searchFormRef,children:[t.jsx("span",{className:"QueryWrapperSearchInput__searchbar__searchicon",children:t.jsx(X,{icon:"search"})}),t.jsx("input",{onChange:this.handleChange,onClick:()=>{this.setState({show:!0})},placeholder:"Enter Search Terms",value:l,type:"text"}),this.state.searchText.length>0&&t.jsx("button",{className:"QueryWrapperSearchInput__searchbar__clearbutton",type:"button",onClick:()=>{this.setState({searchText:""})},children:t.jsx(X,{icon:"close"})})]})}),t.jsx("div",{className:"QueryWrapperSearchInput__dropdown_pos",children:t.jsx(fr,{nodeRef:this.radioFormRef,in:d,classNames:"QueryWrapperSearchInput__animate_dropdown",timeout:{enter:0,exit:300},children:t.jsxs("form",{ref:this.radioFormRef,className:"QueryWrapperSearchInput__column-select QueryWrapperSearchInput__animate_height",children:[t.jsx("p",{className:"deemphasized",children:t.jsx("i",{children:" Search In Field: "})}),c.map((p,m)=>{const g=i(p),h=u===""&&m===0||u===p;return t.jsx("div",{className:"radio",children:t.jsx("label",{children:t.jsxs("span",{children:[t.jsx("input",{id:p,type:"radio",value:p,checked:h,onClick:()=>{var y,v,f;(f=(v=(y=this.searchFormRef)==null?void 0:y.current)==null?void 0:v.querySelector("input"))==null||f.focus(),this.setState({columnName:p})}}),t.jsx("span",{children:g})]})})},`search-field-${p}-${m}`)})]})})})]})}}function Oa(e){const{data:n}=ue();return t.jsx(Io,{...e,columnModels:n==null?void 0:n.columnModels})}try{SearchV2.displayName="SearchV2",SearchV2.__docgenInfo={description:"",displayName:"SearchV2",props:{queryContext:{defaultValue:null,description:"",name:"queryContext",required:!0,type:{name:"QueryContextType"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}},isQueryWrapperMenuChild:{defaultValue:null,description:"",name:"isQueryWrapperMenuChild",required:!1,type:{name:"boolean"}},defaultColumn:{defaultValue:null,description:"",name:"defaultColumn",required:!1,type:{name:"string"}},searchable:{defaultValue:null,description:"",name:"searchable",required:!1,type:{name:"SearchableColumnsV2"}},lockedColumn:{defaultValue:null,description:"",name:"lockedColumn",required:!1,type:{name:"LockedColumn"}},ftsConfig:{defaultValue:null,description:`PLFM-8897, PORTALS-3534: Full-Text Search configuration.
For Tables that have FTS enabled...
If specified, use the specified mode and distance (if BOOLEAN mode). Otherwise default to NATURAL_LANGUAGE mode.`,name:"ftsConfig",required:!1,type:{name:"ReadonlyObjectDeep<FTSConfig>"}}}}}catch{}const wo="Files may be unavailable because you do not have permission to see them, they have been deleted, or the Dataset has been misconfigured.",qo="Files may be unavailable because you do not have permission to see them or the Dataset was misconfigured.";function vt({entity:e}){var s;const n=e&&gr(e),a={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",query:{sql:`SELECT * FROM ${e.id}${!e.isLatestVersion&&e.versionNumber?`.${e.versionNumber}`:""}`},entityId:e.id,partMask:Xe},{data:r}=Wt(a,{enabled:n});if(n&&r&&e){const o=r.responseBody.queryCount,i=((s=e.items)==null?void 0:s.length)??0;if(o>=i)return t.jsx(t.Fragment,{});const l=i-o;let d="";return e.isLatestVersion?d=wo:d=qo,t.jsxs(w,{className:"SRC-centerContent",style:{marginLeft:10},variant:"smallText1",color:"textSecondary",children:[t.jsx(xo,{className:"SRC-color-warning",style:{fontSize:"16px"}}),l.toLocaleString()+" Unavailable",t.jsx(Ea,{className:"SRC-margin-left-5",markdownText:d,placement:"right"})]})}else return t.jsx(t.Fragment,{})}try{vt.displayName="MissingQueryResultsWarning",vt.__docgenInfo={description:`If possible, this component will render a warning message if results may be missing from the query due to user permissions or
entities being deleted. If not possible, it will render an empty fragment.`,displayName:"MissingQueryResultsWarning",props:{entity:{defaultValue:null,description:"",name:"entity",required:!0,type:{name:"Table"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}}}}}catch{}const jo={place:"top"};function Po(e,n,a){return"svgImg"in e?e.svgImg:t.jsx(X,{...e,sx:{color:n,width:a}})}const se=({image:e,callbackFn:n,tooltipText:a,className:r="",imageColor:s,tooltipVisualProps:o=jo,children:i,darkTheme:l,size:d,icon:u,menuItems:c})=>{const{place:p}=o,m=u?typeof u=="string"?t.jsx(Pa,{type:u}):u:void 0,g=m||(e?Po(e,s,d):i||t.jsx(t.Fragment,{})),[h,y]=x.useState(null),v=!!h,f=S=>{y(S.currentTarget)},b=()=>{y(null)};let N;return i?N=t.jsx("div",{className:"SRC-hand-cursor",children:i}):N=t.jsx("button",{tabIndex:0,className:`ElementWithTooltip SRC-hand-cursor SRC-grey-background-hover ${r} ${l?"dark-theme":""} `,onClick:S=>{n?n():f(S)},"aria-label":a,children:g}),t.jsxs(t.Fragment,{children:[t.jsx(he,{title:a,enterNextDelay:ks,placement:p,"data-testid":"ElementTooltip",children:N}),c&&t.jsx(hr,{anchorEl:h,open:v,onClose:b,children:c})]})};try{se.displayName="ElementWithTooltip",se.__docgenInfo={description:"",displayName:"ElementWithTooltip",props:{image:{defaultValue:null,description:"",name:"image",required:!1,type:{name:"IconSvgProps | CustomImageProps"}},imageColor:{defaultValue:null,description:"",name:"imageColor",required:!1,type:{name:"string"}},tooltipText:{defaultValue:null,description:"",name:"tooltipText",required:!0,type:{name:"string"}},callbackFn:{defaultValue:null,description:"",name:"callbackFn",required:!1,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},tooltipVisualProps:{defaultValue:{value:`{
  place: 'top',
}`},description:"",name:"tooltipVisualProps",required:!1,type:{name:"Partial<TooltipVisualProps>"}},darkTheme:{defaultValue:null,description:"",name:"darkTheme",required:!1,type:{name:"boolean"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"ReactNode"}},menuItems:{defaultValue:null,description:`The items to show in the menu -- NOTE: this cannot be a Fragment!
@see https://stackoverflow.com/questions/75083605/mui-the-menu-component-doesnt-accept-a-fragment-as-a-child-consider-providing`,name:"menuItems",required:!1,type:{name:"ReactNode"}}}}}catch{}function We(e){const{control:n,callbackData:a,disabled:r}=e,{onClick:s,buttonText:o,buttonID:i}=n,[l,d]=x.useState(!1),u=r||l;return t.jsxs(W,{...e,disabled:u,onClick:()=>{d(!0),s({...a,refresh:()=>{d(!1),a.refresh()}})},id:i,children:[l&&t.jsx(ma,{size:30}),o]})}try{We.displayName="CustomControlButton",We.__docgenInfo={description:"",displayName:"CustomControlButton",props:{control:{defaultValue:null,description:"",name:"control",required:!0,type:{name:"CustomControl"}},callbackData:{defaultValue:null,description:"",name:"callbackData",required:!0,type:{name:"CustomControlCallbackData"}},component:{defaultValue:null,description:"",name:"component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}}}}}catch{}const Lo="SendToAnalysisPlatformRowSelectionControlButton";function Ct(e){const{customControls:n=[],remount:a}=e,{entityId:r,versionNumber:s,getCurrentQueryRequest:o}=k(),{data:i}=pe(r,s),{data:l}=ue(),[d,u]=xr(Rs),c=Ma(),{setIsShowingExportToAnalysisPlatformModal:p,enabledExternalAnalysisPlatforms:m}=B(),g=m.length>0,h=()=>{u([]),a&&a()},y=et(l==null?void 0:l.columnModels),v=ya(i,y);return t.jsx(Ds,{show:d.length>0,selectedRowCount:d.length,onClearSelection:()=>u([]),customControls:t.jsxs(t.Fragment,{children:[n.map(f=>t.jsx(We,{variant:"contained",callbackData:{tableId:r,queryMetadata:l,selectedRows:d,refresh:h,request:o()},control:f,startIcon:f.icon},f.buttonText)),g&&t.jsx(W,{variant:"outlined",onClick:()=>{p(!0)},id:Lo,children:"Send to Analysis Platform"}),v&&t.jsx(W,{variant:"contained",onClick:()=>{const f=Rn.custom(t.jsx(_,{sx:{width:"100%"},children:t.jsx(Ve,{addToDownloadListRequest:c,onClose:()=>{Rn.dismiss(f)}})}),{duration:1/0})},startIcon:t.jsx(fa,{}),children:"Add to Download Cart"})]})})}try{Ct.displayName="RowSelectionControls",Ct.__docgenInfo={description:`This component is responsible for rendering the RowSelectionUI and the custom controls. Must be wrapped in a
QueryContext and a QueryVisualizationContext.`,displayName:"RowSelectionControls",props:{customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"CustomControl[]"}},remount:{defaultValue:null,description:"",name:"remount",required:!1,type:{name:"() => void"}}}}}catch{}function Nt(e){const{accessToken:n}=Ht(),{entityId:a,versionNumber:r,getCurrentQueryRequest:s,hasResettableFilters:o}=k(),{data:i}=pe(a,r),{data:l}=ue(),d=rn(),u=an(),c=x.useMemo(()=>s(),[s]),[p,m]=x.useState(!1),[g,h]=x.useState(!1),[y,v]=x.useState(!1),{onDownloadFiles:f,darkTheme:b=!0}=e,N=et(l==null?void 0:l.columnModels),S=ya(i,N),C=i&&br(i)&&i.isLatestVersion,T=x.useMemo(()=>{const V=[];return S&&V.push(t.jsx(he,{title:C?"A draft version of a dataset cannot be added to the Download Cart":null,placement:"left",enterNextDelay:300,describeChild:!0,children:t.jsx(ge,{className:C?"ignoreLink":void 0,disabled:C,style:C?{pointerEvents:"auto"}:{},onClick:()=>n?f():m(!0),children:Is(o,u,d,l==null?void 0:l.queryCount,"file")})},"add-to-download-list")),V.push(t.jsx(ge,{onClick:()=>{h(!0)},children:"Export Table"},"export-table")),V.push(t.jsx(he,{title:C?"A draft version of a dataset cannot be downloaded programmatically":null,placement:"left",enterNextDelay:300,describeChild:!0,children:t.jsx(ge,{className:C?"ignoreLink":void 0,disabled:C,style:C?{pointerEvents:"auto"}:{},onClick:()=>v(!0),children:"Programmatic Options"})},"programmatic-options")),V},[n,C,o,u,f,l==null?void 0:l.queryCount,d,S]);return t.jsxs(t.Fragment,{children:[t.jsx(se,{tooltipText:"Download Options",size:"lg",darkTheme:b,icon:"download",menuItems:T}),p&&t.jsx(As,{showModal:p,onHide:()=>m(!1)}),g&&t.jsx(La,{onClose:()=>h(!1),queryBundleRequest:c}),y&&l&&t.jsx(St,{onHide:()=>v(!1),queryBundleRequest:c})]})}try{Nt.displayName="DownloadOptions",Nt.__docgenInfo={description:"",displayName:"DownloadOptions",props:{onDownloadFiles:{defaultValue:null,description:"",name:"onDownloadFiles",required:!0,type:{name:"() => void"}},darkTheme:{defaultValue:null,description:"",name:"darkTheme",required:!1,type:{name:"boolean"}}}}}catch{}function Tt(e){const{headers:n,isColumnSelected:a,toggleColumnSelection:r,darkTheme:s}=e,{getColumnDisplayName:o}=B();return t.jsx(se,{tooltipText:"Show/Hide Columns",icon:s?"columnsdark":"columns",darkTheme:s,menuItems:n==null?void 0:n.map(i=>{const{name:l}=i,d=a.includes(l),u={width:"11px",marginRight:"10px",visibility:d?void 0:"hidden"},c=d?"SRC-primary-text-color":"";return t.jsxs(ge,{onClick:()=>r(l),children:[t.jsx("span",{className:c,style:u,children:t.jsx(X,{icon:"check",sx:{width:"14px"}})}),o(l)]},l)})})}try{Tt.displayName="ColumnSelection",Tt.__docgenInfo={description:"",displayName:"ColumnSelection",props:{headers:{defaultValue:null,description:"",name:"headers",required:!1,type:{name:"SelectColumn[]"}},isColumnSelected:{defaultValue:null,description:"",name:"isColumnSelected",required:!0,type:{name:"string[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"() => void"}},toggleColumnSelection:{defaultValue:null,description:"",name:"toggleColumnSelection",required:!0,type:{name:"(name: string) => void"}},darkTheme:{defaultValue:null,description:"",name:"darkTheme",required:!1,type:{name:"boolean"}}}}}catch{}const Fo="SendToAnalysisPlatformTopLevelControlButton",Ge=e=>{const{name:n,showColumnSelection:a=!1,hideDownload:r=!1,hideVisualizationsControl:s=!1,hideFacetFilterControl:o=!1,hideQueryCount:i=!1,hideSqlEditorControl:l=!0,customControls:d,cavaticaConnectAccountURL:u,remount:c}=e,{entityId:p,versionNumber:m,getInitQueryRequest:g,hasResettableFilters:h,getCurrentQueryRequest:y}=k(),{data:v}=pe(p,m),{data:f}=ue(),{lockedColumn:b}=k(),N=ga(Fa),S=rn(),C=an(),{setShowSearchBar:T,columnsToShowInTable:V,setColumnsToShowInTable:D,enabledExternalAnalysisPlatforms:R,setIsShowingExportToAnalysisPlatformModal:I,unitDescription:q,setShowDownloadConfirmation:$,showCopyToClipboard:j,hideSearchBarControl:A,setShowPlots:z,setShowSqlEditor:ee,showFacetFilter:te,setShowFacetFilter:ve}=B(),tt=R.length>0,[Le,K]=x.useState(!1),Fe=x.useMemo(()=>{const L=g();return{sql:L.query.sql,selectedFacets:(L.query.selectedFacets??[]).filter(M=>M.columnName===(b==null?void 0:b.columnName)),additionalFilters:(L.query.additionalFilters??[]).filter(M=>"columnName"in M?M.columnName===(b==null?void 0:b.columnName):!0)}},[g,b==null?void 0:b.columnName]),Ce=L=>{let M=ha(V);M.includes(L)?M=M.filter(at=>at!==L):M.push(L),D(M)},Ee=ws(C,S,f==null?void 0:f.queryCount),nt=qs(h,C,S,f==null?void 0:f.queryCount,q),me=()=>{c&&c()};return t.jsx("div",{className:"TopLevelControls","data-testid":"TopLevelControls",children:t.jsxs("div",{children:[t.jsxs("div",{className:"TopLevelControls__querycount",children:[n&&t.jsxs(t.Fragment,{children:[t.jsxs(w,{variant:"sectionTitle",role:"heading",children:[n," ",!i&&t.jsx(Ts,{query:Fe,parens:!0})]}),!i&&v&&t.jsx(vt,{entity:v})]}),!o&&t.jsxs(W,{variant:"text",onClick:()=>ve(L=>!L),startIcon:t.jsx(X,{icon:te?"close":"filter",wrap:!1}),sx:{ml:2,fontWeight:400,fontSize:"14px",textDecoration:"none !important"},children:[te?"Hide":"Show"," filters"]})]}),t.jsxs("div",{className:"TopLevelControls__actions",children:[d&&d.map((L,M)=>t.jsxs(x.Fragment,{children:[t.jsx(We,{variant:"text",disabled:!Ee,control:L,callbackData:{tableId:p,queryMetadata:f,selectedRows:S,refresh:me,request:y()},startIcon:L.icon}),t.jsx(Be,{orientation:"vertical",variant:"middle",flexItem:!0})]},M)),tt&&t.jsxs(t.Fragment,{children:[t.jsx(he,{title:t.jsxs(t.Fragment,{children:["This action will send a reference to"," ",C?"each selected file":"every file in the current table"," ","to a chosen external analysis platform."," ",!C&&te&&t.jsx(t.Fragment,{children:"You can change what is sent by applying filters using the controls in the sidebar."}),C&&t.jsx(t.Fragment,{children:"You can change what is sent by selecting a different set of files."})]}),children:t.jsxs(W,{variant:"text",disabled:!Ee,onClick:()=>{I(!0)},id:Fo,children:["Send ",nt," to Analysis Platform"]})}),t.jsx(Be,{orientation:"vertical",variant:"middle",flexItem:!0})]}),!A&&t.jsx(se,{tooltipText:"Show / Hide Search Bar",callbackFn:()=>T(L=>!L),darkTheme:!0,icon:"search"}),j&&t.jsx(se,{tooltipText:Le?"Copied to clipboard":"Copy this search to the clipboard",callbackFn:()=>{Sr(window.location.href).then(()=>{K(!0),setTimeout(()=>{K(!1)},3e3)})},darkTheme:!0,icon:"clipboard"}),!s&&t.jsx(se,{tooltipText:"Show / Hide Visualizations",callbackFn:()=>z(L=>!L),darkTheme:!0,icon:"chart"}),!r&&t.jsx(Nt,{darkTheme:!0,onDownloadFiles:()=>$(!0)}),!l&&t.jsx(se,{tooltipText:"Show / Hide the Advanced Query Editor",callbackFn:()=>ee(L=>!L),darkTheme:!0,icon:vr}),N&&t.jsx(Ct,{customControls:d,remount:c}),a&&t.jsx(Tt,{headers:f==null?void 0:f.selectColumns,isColumnSelected:V,toggleColumnSelection:Ce,darkTheme:!0}),t.jsx(js,{platformInstructionProps:{cavaticaConnectAccountURL:u}})]})]})})};try{Ge.displayName="TopLevelControls",Ge.__docgenInfo={description:"",displayName:"TopLevelControls",props:{name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}},hideVisualizationsControl:{defaultValue:null,description:"",name:"hideVisualizationsControl",required:!1,type:{name:"boolean"}},hideFacetFilterControl:{defaultValue:null,description:"",name:"hideFacetFilterControl",required:!1,type:{name:"boolean"}},hideQueryCount:{defaultValue:null,description:"",name:"hideQueryCount",required:!1,type:{name:"boolean"}},hideSqlEditorControl:{defaultValue:null,description:"",name:"hideSqlEditorControl",required:!1,type:{name:"boolean"}},showColumnSelection:{defaultValue:null,description:"",name:"showColumnSelection",required:!1,type:{name:"boolean"}},customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"CustomControl[]"}},cavaticaConnectAccountURL:{defaultValue:null,description:"",name:"cavaticaConnectAccountURL",required:!1,type:{name:"string"}},remount:{defaultValue:null,description:"",name:"remount",required:!1,type:{name:"() => void"}}}}}catch{}const Ba=4;function Eo(e,n,a,r){const{getColumnDisplayName:s}=r;if(e.values.length>Ba||!a){const o=`${sn(s(e.columnName))} (${e.values.length.toLocaleString()})`;return[{key:`queryFilter-${e.concreteType}-${e.columnName}`,innerText:o,tooltipText:o,onRemoveFilter:()=>{n.removeQueryFilter(e)}}]}return e.values.map(o=>{let i=o;o!=null&&o.startsWith("%")&&(o!=null&&o.endsWith("%"))&&(i=i.substring(1,i.length-1)),i=r.getDisplayValue(i,a.columnType);const l=`${s(e.columnName)}: ${i}`;return{key:`queryFilter-${e.concreteType}-${e.columnName}-${o}`,innerText:l,tooltipText:l,onRemoveFilter:()=>{n.removeValueFromQueryFilter(e,o)}}})}function ko(e,n){let a=e.searchExpression;return e.searchMode=="BOOLEAN"&&(a=_o(e.searchExpression)),{key:`queryFilter-${e.concreteType}-${e.searchExpression}`,innerText:a,tooltipText:`Text matches: "${a}"`,onRemoveFilter:()=>{n.removeQueryFilter(e)}}}function Do(e,n,a,r,s){return e.flatMap(o=>{var i;if(ua(o)||ca(o)){const l=a.find(d=>d.name===o.columnName);return o.columnName.toLowerCase()===((i=s==null?void 0:s.columnName)==null?void 0:i.toLowerCase())?[]:Eo(o,n,l,r)}else return Cr(o)?[ko(o,n)]:(console.log("Unknown query filter type",o),[])})}function On(e,n){return e==null&&n==null?"Any value":e==null?`Up to ${n}`:n==null?`${e} or greater`:e===Vn&&n===Vn?_r:`${e} - ${n}`}function Ao(e,n,a,r,s){return e.flatMap(o=>{var u;if(o.columnName.toLowerCase()===((u=s==null?void 0:s.columnName)==null?void 0:u.toLowerCase()))return[];const i=a.find(c=>c.name===o.columnName),{getColumnDisplayName:l,getDisplayValue:d}=r;if(Nr(o)){if(o.facetValues.length>Ba||!i){const c=`${sn(l(o.columnName,o.jsonPath))} (${o.facetValues.length.toLocaleString()})`;return[{key:`facet-${o.concreteType}-${o.columnName}`,innerText:c,tooltipText:c,onRemoveFilter:()=>{n.removeSelectedFacet(o)}}]}return o.facetValues.map(c=>{const p=d(c,i.columnType);return{key:`facet-${o.concreteType}-${o.columnName}-${c}`,innerText:p,tooltipText:`${l(o.columnName,o.jsonPath)}: ${p}`,onRemoveFilter:()=>{n.removeValueFromSelectedFacet(o,c)}}})}else if(Tr(o)){const{combineRangeFacetConfig:c}=n;if(c&&(o.columnName==c.minFacetColumn||o.columnName==c.maxFacetColumn)){if(o.columnName==c.minFacetColumn)return[];{const m=o,g=e.find(y=>y.columnName==c.minFacetColumn),h=On(m.min,g.max);return[{key:`facet-${o.concreteType}-${o.columnName}-${h}`,innerText:h,tooltipText:`${c.label}: ${h}`,onRemoveFilter:()=>{n.removeSelectedFacet([g,m])}}]}}const p=On(o.min,o.max);return[{key:`facet-${o.concreteType}-${o.columnName}-${o.min}-${o.max}`,innerText:p,tooltipText:`${l(o.columnName,o.jsonPath)}: ${p}`,onRemoveFilter:()=>{n.removeSelectedFacet(o)}}]}else return console.log("Unknown facet type",o.concreteType),[]})}function Mo(){var d;const e=k(),n=e.lockedColumn,a=B(),{currentQueryRequest:r}=e,{data:s}=ue(),o=Do(((d=r.query)==null?void 0:d.additionalFilters)??[],e,(s==null?void 0:s.columnModels)||[],a,n),i=Ao(r.query.selectedFacets??[],e,(s==null?void 0:s.columnModels)||[],a,n),l=[...o,...i];return t.jsx(t.Fragment,{children:l.map(u=>{const c=encodeURIComponent(u.key);return x.createElement(Ms,{...u,key:c})})})}function _t(e){const{style:n,frontText:a,endText:r="",hideIfUnfiltered:s=!1}=e,{resetQuery:o,hasResettableFilters:i}=k(),{data:l}=ce(),{unitDescription:d}=B(),u=l==null?void 0:l.queryCount,c=i;return t.jsxs("div",{className:`TotalQueryResults ${i?"hasFilters":""}`,style:n,children:[(i||!s)&&t.jsxs("div",{className:"TotalQueryResults__topbar",children:[t.jsxs("span",{className:"SRC-boldText",children:[a," ",u==null?void 0:u.toLocaleString()," ",sn(d,u)," ",r]}),c&&t.jsxs("a",{onClick:o,className:"TotalQueryResults__topbar__clearall",children:[t.jsx(X,{icon:"deleteSweep"}),"Clear all filters"]})]}),t.jsx("div",{className:"TotalQueryResults__selections",children:t.jsx(Mo,{})})]})}function dn(e){return t.jsx(Yt,{children:t.jsx(x.Suspense,{fallback:t.jsx(ps,{width:100}),children:t.jsx(_t,{...e})})})}try{_t.displayName="TotalQueryResults",_t.__docgenInfo={description:"",displayName:"TotalQueryResults",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},frontText:{defaultValue:null,description:"",name:"frontText",required:!0,type:{name:"string"}},endText:{defaultValue:null,description:"",name:"endText",required:!1,type:{name:"string"}},applyChanges:{defaultValue:null,description:"",name:"applyChanges",required:!1,type:{name:"(newFacets: FacetColumnRequest[]) => void"}},hideIfUnfiltered:{defaultValue:null,description:"",name:"hideIfUnfiltered",required:!1,type:{name:"boolean"}}}}}catch{}function Rt(e){const n=k(),{currentQueryRequest:a}=n,{title:r,onCustomPlotClick:s,onHide:o}=e,{showPlots:i}=B(),l=x.useMemo(()=>({...e,title:void 0,showlegend:!1,displayModebar:!1}),[e]),d=x.useMemo(()=>{const{selectedFacets:u,additionalFilters:c}=a.query;return{selectedFacets:u,additionalFilters:c,onCustomPlotClick:s,queryContext:n}},[a.query,s,n]);return t.jsx("div",{role:"figure",className:"SynapsePlot",children:i&&t.jsxs(t.Fragment,{children:[r&&t.jsx(Jr,{title:r,onHide:o}),t.jsx(Cs,{synapsePlotWidgetParams:l,customPlotParams:d})]})})}try{Rt.displayName="QueryWrapperSynapsePlot",Rt.__docgenInfo={description:`This component wraps a SynapsePlot.  It passes in the current query context, and has a custom
"title" style so that it looks like it belongs in the QueryWrapperPlotNav plots.`,displayName:"QueryWrapperSynapsePlot",props:{onCustomPlotClick:{defaultValue:null,description:"",name:"onCustomPlotClick",required:!1,type:{name:"(event: QueryWrapperSynapsePlotRowClickEvent) => void"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"table"'},{value:'"image"'},{value:'"box"'},{value:'"volume"'},{value:'"bar"'},{value:'"barpolar"'},{value:'"candlestick"'},{value:'"carpet"'},{value:'"choropleth"'},{value:'"choroplethmapbox"'},{value:'"cone"'},{value:'"contour"'},{value:'"contourcarpet"'},{value:'"densitymapbox"'},{value:'"funnel"'},{value:'"funnelarea"'},{value:'"heatmap"'},{value:'"heatmapgl"'},{value:'"histogram"'},{value:'"histogram2d"'},{value:'"histogram2dcontour"'},{value:'"indicator"'},{value:'"isosurface"'},{value:'"mesh3d"'},{value:'"ohlc"'},{value:'"parcats"'},{value:'"parcoords"'},{value:'"pie"'},{value:'"pointcloud"'},{value:'"sankey"'},{value:'"scatter"'},{value:'"scatter3d"'},{value:'"scattercarpet"'},{value:'"scattergeo"'},{value:'"scattergl"'},{value:'"scattermapbox"'},{value:'"scatterpolar"'},{value:'"scatterpolargl"'},{value:'"scatterternary"'},{value:'"splom"'},{value:'"streamtube"'},{value:'"sunburst"'},{value:'"surface"'},{value:'"treemap"'},{value:'"violin"'},{value:'"waterfall"'}]}},horizontal:{defaultValue:null,description:"",name:"horizontal",required:!1,type:{name:"boolean"}},query:{defaultValue:null,description:"",name:"query",required:!0,type:{name:"string"}},xtitle:{defaultValue:null,description:"",name:"xtitle",required:!1,type:{name:"Plotly.LayoutAxis"}},ytitle:{defaultValue:null,description:"",name:"ytitle",required:!1,type:{name:"Plotly.LayoutAxis"}},xaxistype:{defaultValue:null,description:"",name:"xaxistype",required:!1,type:{name:"enum",value:[{value:'"log"'},{value:'"date"'},{value:'"linear"'},{value:'"-"'},{value:'"category"'},{value:'"multicategory"'}]}},showlegend:{defaultValue:null,description:"",name:"showlegend",required:!1,type:{name:"Plotly.Layout"}},barmode:{defaultValue:null,description:"",name:"barmode",required:!1,type:{name:"Plotly.Layout"}},displayModeBar:{defaultValue:null,description:"",name:"displayModeBar",required:!1,type:{name:"Plotly.Config"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}function Bn(){return t.jsxs(_,{className:"FacetNavPanel",sx:{flexGrow:1},children:[t.jsxs(_,{className:"FacetNavPanel__title",children:[t.jsx(E,{variant:"rectangular",height:20,width:170}),t.jsx("div",{style:{margin:"auto"}}),t.jsx(E,{variant:"rectangular",height:20,width:20}),t.jsx(E,{variant:"rectangular",height:20,width:20,sx:{ml:1}})]}),t.jsxs(_,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",height:200,px:2,minWidth:"435px",flexGrow:1},children:[t.jsx(E,{variant:"circular",width:140,height:140}),t.jsxs(H,{sx:{gap:1},children:[t.jsx(E,{variant:"rectangular",height:15,width:220}),t.jsx(E,{variant:"rectangular",height:15,width:220}),t.jsx(E,{variant:"rectangular",height:15,width:220}),t.jsx(E,{variant:"rectangular",height:15,width:220})]})]})]})}function Oo(){return t.jsxs(_,{className:"PlotsContainer",sx:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",gap:4},children:[t.jsx(Bn,{}),t.jsx(Bn,{})]})}const Ye=2,J=(e,n)=>"__custom"in n&&"__custom"in e?e.title==n.title:!("__custom"in n)&&!("__custom"in e)?ia(e,n):!1;function Bo(e){return e==="bar"?"BAR":"PIE"}const Qo=e=>"__custom"in e.plotId?`custom-${e.plotId.title}`:`facet-${e.plotId.columnName}-${e.plotId.jsonPath}`,Uo=(e,n)=>!!n.find(a=>J(a.plotId,e)),un=e=>({__custom:!0,title:e.title??""}),$o=(e=[],n=[],a=Vt)=>[...e.map((r,s)=>({plotId:un(r),isHidden:s>=Ye,plotType:Bo(r.type)})),...n.map((r,s)=>({plotId:r.facetToPlot,isHidden:s+e.length>=Ye,plotType:a}))],zo=(e,n,a)=>n.some(r=>J(un(r),e.plotId))||a.some(r=>J(r.facetToPlot,e.plotId)),Vt="PIE",Ho=[],Wo=[];function It(e){const{facetsToPlot:n=Ho,customPlots:a=Wo,initialPlotType:r=Vt}=e,{data:s}=ce(),{showPlots:o}=B(),[i,l]=x.useState([]),d=Xr(n),u=f=>{var N;return((N=i.find(S=>J(f,S.plotId)))==null?void 0:N.plotType)??Vt};x.useEffect(()=>{const f=$o(a,d,r);l(b=>{const N=f.filter(T=>!Uo(T.plotId,b));return[...b.filter(T=>zo(T,a,d)),...N]})},[a,d]);const c=f=>{l(b=>b.map((N,S)=>f?{...N,isHidden:!1}:{...N,isHidden:S>=Ye}))},p=f=>i.find(S=>J(f,S.plotId)&&S.isHidden===!0)!==void 0,m=x.useMemo(()=>i.find(f=>f.isHidden===!0)?"MORE":i.length<=Ye?"NONE":"LESS",[i]),g=f=>{y(f,"isHidden",!0)},h=(f,b)=>{y(f,"plotType",b)},y=(f,b,N)=>{l(S=>S.map(C=>J(f,C.plotId)?{...C,[b]:N}:C))},v=Zr(s,n).map((f,b)=>({facet:{columnName:f.columnName,jsonPath:f.jsonPath},colorIndex:b}));return t.jsx(t.Fragment,{children:i.length>0&&t.jsxs("div",{className:`PlotsContainer ${o?"":"hidden"} ${m==="LESS"?"less":""}`,children:[t.jsx("div",{className:"PlotsContainer__row",role:"list",children:i.map(f=>{var C;const b="__custom"in f.plotId,N=a.find(T=>J(un(T),f.plotId)),S=d.find(T=>J(T.facetToPlot,f.plotId));return t.jsxs("div",{style:{minWidth:"435px",display:p(f.plotId)?"none":"block"},children:[b&&N&&t.jsx(Rt,{...N,onHide:()=>g(f.plotId)}),!b&&S&&t.jsx(es,{index:(C=v.find(T=>J(T.facet,f.plotId)))==null?void 0:C.colorIndex,onHide:()=>g(f.plotId),plotType:u(f.plotId),onSetPlotType:T=>h(f.plotId,T),isModalView:!1,...S})]},Qo(f))})}),m!=="NONE"&&t.jsx(_,{sx:{display:"flex",justifyContent:"center",backgroundColor:"grey.100",p:2,mt:2},children:t.jsx(W,{variant:"contained",color:"secondary",onClick:()=>c(m==="MORE"),sx:{width:"150px"},children:m==="LESS"?"Hide Charts":"View All Charts"})})]})})}function Go(e){const{showPlots:n}=B();return t.jsx(x.Suspense,{fallback:n?t.jsx(Oo,{}):null,children:t.jsx(It,{...e})})}try{It.displayName="PlotsContainer",It.__docgenInfo={description:"",displayName:"PlotsContainer",props:{facetsToPlot:{defaultValue:null,description:"",name:"facetsToPlot",required:!1,type:{name:"string[]"}},customPlots:{defaultValue:null,description:"",name:"customPlots",required:!1,type:{name:"QueryWrapperSynapsePlotProps[]"}},initialPlotType:{defaultValue:null,description:"",name:"initialPlotType",required:!1,type:{name:"enum",value:[{value:'"PIE"'},{value:'"BAR"'},{value:'"STACKED_HORIZONTAL_BAR"'}]}}}}}catch{}const Yo="isShowingFacetFilters",Ko="isHidingFacetFilters",Jo="hasSelectedRows";function Xo(e){const{tableConfiguration:n,name:a,cardConfiguration:r,facetsToPlot:s,availableFacets:o,facetValueSortConfigs:i,initialExpandedFacetControls:l,hideDownload:d,hideQueryCount:u,hideSqlEditorControl:c,hideVisualizationsControl:p,searchConfiguration:m,cavaticaConnectAccountURL:g,customControls:h,remount:y,isFullTextSearchEnabled:v,customPlots:f,initialLimit:b,initialPlotType:N}=e,S=k(),[C,T]=x.useState(!1),{hasFacetedSelectColumn:V,queryMetadataQueryOptions:D}=S,{isLoading:R}=mt(D),I=ga(Fa),q=S.currentQueryRequest,$=(q==null?void 0:q.query.selectedFacets)!==void 0&&q.query.selectedFacets.length>0||(q==null?void 0:q.query.additionalFilters)!==void 0&&(q==null?void 0:q.query.additionalFilters.length)>0,j=Ma();return t.jsx(Ra,{children:A=>{if(A===void 0)throw new Error("No queryVisualizationContext found when using QueryVisualizationContextConsumer");return t.jsx(_,{className:`QueryWrapperPlotNav ${A.showFacetFilter?Yo:Ko} ${I?Jo:""}`,sx:{"*":{cursor:R?"wait":void 0}},children:t.jsxs(Va,{children:[v?t.jsx(He,{ftsConfig:m==null?void 0:m.ftsConfig}):t.jsx(Oa,{...m,queryContext:S,queryVisualizationContext:A}),t.jsx(Ia,{}),A.showDownloadConfirmation&&t.jsx(Ve,{addToDownloadListRequest:j,onClose:()=>A.setShowDownloadConfirmation(!1)}),t.jsx(Yt,{children:t.jsx(Ge,{showColumnSelection:n!==void 0,name:a,hideDownload:d,hideQueryCount:u,hideFacetFilterControl:!V,hideVisualizationsControl:!V||p,hideSqlEditorControl:c,cavaticaConnectAccountURL:g,customControls:h,remount:y})}),V&&t.jsx(t.Fragment,{children:t.jsx(ts,{availableFacets:o,facetValueSortConfigs:i,initialExpandedFacetControls:l})}),t.jsx(dn,{frontText:"",endText:$?"filtered by":"",hideIfUnfiltered:!0}),t.jsx(Go,{facetsToPlot:s,customPlots:f,initialPlotType:N}),t.jsx(qe,{tableConfiguration:n,hideDownload:d,cardConfiguration:r,initialLimit:b}),C&&t.jsx(La,{getLastQueryRequest:S==null?void 0:S.getCurrentQueryRequest,onClose:()=>T(!1)})]})})}})}function Qn(e){var T;const{sql:n,tableConfiguration:a,isInfinite:r=!a,limit:s=Qe,showLastUpdatedOn:o,unitDescription:i,additionalFiltersSessionStorageKey:l,helpConfiguration:d,customPlots:u,enabledExternalAnalysisPlatforms:c}=e,p=((T=e.query)==null?void 0:T.sql)??n??"",{entityId:m,versionNumber:g}=Rr(p),h=x.useMemo(()=>{if(e.query)return e.query;if(e.initQueryJson)return JSON.parse(e.initQueryJson);{const V=Ze(e.searchParams,e.sqlOperator,l);return{sql:n,additionalFilters:V,limit:s,offset:0}}},[e.query,e.initQueryJson,e.searchParams,e.sqlOperator,l,n,s]),[y,v]=x.useState(1),f=()=>{v(y+1)},{data:b}=pe(m,g),N={entityId:m??"",concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",partMask:Z|Xe|Pe|ba|Kt|Jt|Sa|Xt,query:h},S=(b&&xa(b)&&b.isSearchEnabled)??!1,C=`${JSON.stringify(N)}-${y}`;return x.createElement(en,{...e,initQueryRequest:N,key:C,isInfinite:r},t.jsx(tn,{unitDescription:i,rgbIndex:e.rgbIndex,columnAliases:e.columnAliases,helpConfiguration:d,visibleColumnCount:e.visibleColumnCount,defaultShowPlots:e.defaultShowPlots,hideCopyToClipboard:e.hideCopyToClipboard,defaultShowSearchBar:(e.defaultShowSearchBox||S)&&!e.hideSearchBarControl,hideSearchBarControl:e.hideSearchBarControl,showLastUpdatedOn:o,noContentPlaceholderType:ze.INTERACTIVE,hasCustomPlots:Array.isArray(u)&&u.length>0,enabledExternalAnalysisPlatforms:c,children:t.jsx(Xo,{...e,isFullTextSearchEnabled:S,remount:f})}))}try{Qn.displayName="QueryWrapperPlotNav",Qn.__docgenInfo={description:"",displayName:"QueryWrapperPlotNav",props:{}}}catch{}const wt=e=>({partMask:Jt|Xe|Pe|Kt|Z|Xt,entityId:de(e.sql),concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",query:{limit:Qe,offset:0,...e}});function qt(e){if(e.query)return e.query;{const n=Ze(e.searchParams,e.sqlOperator,e.additionalFiltersSessionStorageKey);return{sql:e.sql,additionalFilters:n,offset:0}}}function Un(e){var I;const{hideDownload:n}=e,{showAccessColumn:a,sql:r,hideAddToDownloadListColumn:s=n,hideQueryCount:o,name:i,showTopLevelControls:l=!1,searchConfiguration:d,unitDescription:u="Results",rgbIndex:c,showLastUpdatedOn:p,noContentPlaceholderType:m=l?ze.INTERACTIVE:ze.STATIC,cardConfiguration:g,tableConfiguration:h,shouldDeepLink:y,...v}=e,[f,b]=x.useState(1),N=()=>{b(f+1)},S=((I=e.query)==null?void 0:I.sql)??r??"",C=qt(e),T=wt(C),V=de(S),{data:D}=pe(V),R=JSON.stringify(T)+f;return x.createElement(en,{...v,initQueryRequest:T,shouldDeepLink:y,key:R},t.jsx(tn,{rgbIndex:c,unitDescription:u,showLastUpdatedOn:p,noContentPlaceholderType:m,...v,children:t.jsx(Hr,{children:q=>{if(q===void 0)throw new Error("No queryContext found when calling QueryContextConsumer");return t.jsx(Ra,{children:$=>{if($===void 0)throw new Error("No queryVisualizationContext found when calling QueryVisualizationContextConsumer");return t.jsxs(t.Fragment,{children:[l&&t.jsx(Ge,{showColumnSelection:!0,name:i,hideDownload:s,hideQueryCount:o,hideFacetFilterControl:!0,hideVisualizationsControl:!0,remount:N}),D&&xa(D)&&D.isSearchEnabled?t.jsx(He,{ftsConfig:d==null?void 0:d.ftsConfig}):t.jsx(Oa,{...d,queryContext:q,queryVisualizationContext:$}),t.jsx(Ia,{}),l&&t.jsx(dn,{frontText:""}),t.jsx(qe,{tableConfiguration:g?void 0:{...h,showAccessColumn:a,hideAddToDownloadListColumn:s,...v},cardConfiguration:g})]})}})}})}))}try{qt.displayName="getQueryFromProps",qt.__docgenInfo={description:"",displayName:"getQueryFromProps",props:{}}}catch{}try{wt.displayName="generateInitQueryRequest",wt.__docgenInfo={description:"",displayName:"generateInitQueryRequest",props:{sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},selectedFacets:{defaultValue:null,description:"",name:"selectedFacets",required:!1,type:{name:"FacetColumnRequest[]"}},includeEntityEtag:{defaultValue:null,description:"",name:"includeEntityEtag",required:!1,type:{name:"boolean"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"number"}},limit:{defaultValue:null,description:"",name:"limit",required:!1,type:{name:"number"}},sort:{defaultValue:null,description:"",name:"sort",required:!1,type:{name:"SortItem[]"}},additionalFilters:{defaultValue:null,description:"",name:"additionalFilters",required:!1,type:{name:"QueryFilter[]"}},selectFileColumn:{defaultValue:null,description:"",name:"selectFileColumn",required:!1,type:{name:"number"}},selectFileVersionColumn:{defaultValue:null,description:"",name:"selectFileVersionColumn",required:!1,type:{name:"number"}}}}}catch{}try{Un.displayName="StandaloneQueryWrapper",Un.__docgenInfo={description:`This component was initially implemented on the portal side. It renders a SynapseTable if a title is provided.
If showTopLevelControls is set to true, then the SynapseTable will also include the TopLevelControls (search, export table, column selection).`,displayName:"StandaloneQueryWrapper",props:{}}}catch{}function $n(){return t.jsxs(_,{sx:{color:"grey.700",maxHeight:{xs:"170px",md:"110px"},overflow:"auto",margin:"20px 0px"},children:[t.jsx(w,{variant:"smallText1",sx:{fontWeight:700,marginBottom:"5px"},children:"System Use Notice"}),t.jsx(w,{variant:"smallText1",sx:{lineHeight:"21px"},children:"Sage Bionetworks actively monitors this system and activity to maintain system security and availability and to ensure appropriate and legitimate usage. Any individual who intentionally accesses a computer or system without authorization, and who alters, damages, makes unauthorized modifications to, or destroys information, or exceeds authorized access, is in violation of applicable federal laws, Executive Orders, directives, policies, regulations, standards, and guidance. Any evidence of possible violations of proper use or applicable laws found as a result of this monitoring may be turned over to law enforcement. Any individual found to be in violation of the system's proper use rules or law could be punished with loss of system access, fines, and/or imprisonment. By proceeding, you hereby acknowledge your agreement with these terms and the system's rules of behavior and consent to such monitoring and information retrieval for law enforcement and other official purposes."})]})}try{$n.displayName="SystemUseNotification",$n.__docgenInfo={description:"FISMA SAR V1-AC-8 System Use Notification, see https://sagebionetworks.jira.com/browse/SWC-6430",displayName:"SystemUseNotification",props:{}}}catch{}const Zo="species",ei="observationphase",cn={queryResult:{queryResults:{headers:[{name:"species",columnType:"STRING",id:"152514"},{name:"observationPhase",columnType:"STRING",id:"197976"},{name:"observationPhaseOrder",columnType:"INTEGER",id:"198102"},{name:"observationTimeMax",columnType:"INTEGER",id:"198103"},{name:"observationTimeUnits",columnType:"STRING",id:"198101"}],rows:[{rowId:9,versionNumber:4,values:["Danio rerio","embryo","1","7","days"]},{rowId:10,versionNumber:4,values:["Danio rerio","larval","2","3","months"]},{rowId:11,versionNumber:4,values:["Danio rerio","juvenile","3","6","months"]},{rowId:12,versionNumber:4,values:["Danio rerio","adult","4","12","months"]},{rowId:16,versionNumber:4,values:["Drosophila","embryo","1","24","hours"]},{rowId:17,versionNumber:4,values:["Drosophila","larval","2","5","days"]},{rowId:18,versionNumber:4,values:["Drosophila","pupal","3","12","days"]},{rowId:19,versionNumber:4,values:["Drosophila","adult","4","5","weeks"]},{rowId:1,versionNumber:4,values:["Mus musculus","prenatal","1","21","days"]},{rowId:2,versionNumber:4,values:["Mus musculus","postnatal","2","6","months"]},{rowId:20,versionNumber:4,values:["Rattus norvegicus","prenatal","1","23","days"]},{rowId:21,versionNumber:4,values:["Rattus norvegicus","neonatal","2","4","weeks"]},{rowId:22,versionNumber:4,values:["Rattus norvegicus","weanling","3","2","months"]},{rowId:23,versionNumber:4,values:["Rattus norvegicus","juvenile","4","3","months"]},{rowId:24,versionNumber:4,values:["Rattus norvegicus","adolescent","5","6","months"]},{rowId:25,versionNumber:4,values:["Rattus norvegicus","adult","6","12","months"]},{rowId:13,versionNumber:4,values:["Saccharomyces","log phase","1","7","days"]},{rowId:14,versionNumber:4,values:["Saccharomyces","stationary phase","2","2","weeks"]},{rowId:15,versionNumber:4,values:["Saccharomyces","death phase","3","3","weeks"]},{rowId:3,versionNumber:4,values:["Sus scrofa","prenatal","1","115","days"]},{rowId:4,versionNumber:4,values:["Sus scrofa","neonatal","2","3","months"]},{rowId:5,versionNumber:4,values:["Sus scrofa","weanling","3","6","months"]},{rowId:6,versionNumber:4,values:["Sus scrofa","juvenile","4","12","months"]},{rowId:7,versionNumber:4,values:["Sus scrofa","adolescent","5","2","years"]},{rowId:8,versionNumber:4,values:["Sus scrofa","adult","6","3","years"]}]}}};var ta;const ti=(ta=cn.queryResult)==null?void 0:ta.queryResults.headers.findIndex(e=>e.name.toLowerCase()===Zo);var na;const ct=(na=cn.queryResult)==null?void 0:na.queryResults.headers.findIndex(e=>e.name.toLowerCase()===ei),jt=({color:e,phaseName:n})=>t.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:"7px"},children:[t.jsx(Y,{sx:{backgroundColor:e,width:"20px",height:"20px"}}),t.jsx(w,{variant:"body1",children:n==null?void 0:n.toUpperCase()})]});try{jt.displayName="TimelineLegendItem",jt.__docgenInfo={description:"",displayName:"TimelineLegendItem",props:{color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}},phaseName:{defaultValue:null,description:"",name:"phaseName",required:!0,type:{name:"string"}}}}}catch{}const ni=(e,n,a,r)=>{let s=-1;return{timepoints:n.map((i,l)=>{const d=parseFloat(i.values[a.observationTime]),u=i.values[a.observationTimeUnits];return i.rowId==r&&(s=l),e.add(d,u)}),hoverOverIndex:s}},Pt=e=>e.length==0?Se().add(1,"days"):e.reduce((n,a)=>!n||a.isAfter(n)?a:n),ai=(e,n)=>{if(e.timepoints==null||e.timepoints.length==0)return[{x:[Se().format()],y:[.5],mode:"lines",line:{color:"blue",width:2},customdata:[],hoverinfo:"none"}];const a=e.timepoints.reduce((s,o,i)=>{const l=s;return l[o.format()]||(l[o.format()]=[]),l[o.format()].push(n[i]),s},{});return e.timepoints.map((s,o)=>{const i=s.format(),l=o==e.hoverOverIndex,u=a[i].map(c=>c.rowId);return{x:[i,i,i],y:[0,.5,1],mode:"lines",line:{color:l?"black":"gray",width:l?2:1},customdata:[u,u,u],hoverinfo:"none"}})},ri=(e,n,a,r,s,o)=>{const i=r.map(d=>d.x[0]),l=r.map(d=>{const u=d.customdata[0];if(u&&u.length>0){const c=u.length,p=s==null?void 0:s.filter(m=>u[0]==m.rowId);if(p&&p.length>0){const m=p[0],g=parseFloat(m.values[o.observationTime]),h=m.values[o.observationTimeUnits],y=c>1?`(${c})`:"";return`${g} ${h} ${y}`}}return""});return{hovermode:"closest",dragmode:!1,showlegend:!1,xaxis:{showgrid:!1,showticklabels:!0,showline:!1,zeroline:!1,tickvals:i,ticktext:l,tickangle:-45},yaxis:{range:[0,1.25],showgrid:!1,zeroline:!1,showline:!1,showticklabels:!1},shapes:[{type:"rect",x0:e.subtract(n.diff(e)/10).format(),x1:n.add(n.diff(e)/3).format(),y0:.25,y1:.75,fillcolor:a,opacity:.8,line:{width:0}}],margin:{l:0,r:0,t:60,b:60}}},Lt=({color:e,rowData:n,schema:a,widthPx:r,sql:s})=>{const[o,i]=x.useState(),[l,d]=x.useState(),[u,c]=x.useState(1),p=Se(),m=x.useRef(null),g=o==null?void 0:o.points[0].customdata,h=n==null?void 0:n.filter(S=>g==null?void 0:g.includes(S.rowId)),y=l==null?void 0:l.points[0].customdata,v=x.useMemo(()=>ni(p,n,a,(y==null?void 0:y.length)>0?y[0]:void 0),[y,n,a,p]),f=Pt(v.timepoints),b=x.useMemo(()=>ai(v,n),[v,n]),N=h.map(S=>S.rowId);return t.jsxs("div",{ref:m,style:{width:r},children:[t.jsx(Us,{style:{width:r,height:"220px"},data:b,layout:ri(p,f,e,b,n,a),config:{displayModeBar:!1},useResizeHandler:!0,onClick:S=>{i(S),d(void 0)},onDoubleClick:()=>{c(u+1)},onHover:S=>{d(S)},onUnhover:()=>{d(void 0)}},`Plot-${e}-${u}`),t.jsx(Vr,{onClose:()=>i(void 0),open:h&&h.length>0,children:t.jsx(Ir,{children:t.jsx(Ut,{topLevelEnumeratedFacetToFilter:{columnName:"observationType"},sql:s,searchParams:{ROW_ID:N.map(String).join(",")},sqlOperator:xe.IN,lockedColumn:{columnName:"ROW_ID"},cardConfiguration:{type:Ue},initialLimit:3})})})]})};try{Pt.displayName="getMaxDate",Pt.__docgenInfo={description:"",displayName:"getMaxDate",props:{}}}catch{}try{Lt.displayName="TimelinePhase",Lt.__docgenInfo={description:"",displayName:"TimelinePhase",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"Row[]"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ObservationCardSchema"}},widthPx:{defaultValue:null,description:"",name:"widthPx",required:!0,type:{name:"number"}},sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}}}}}catch{}const Ft=({sql:e,additionalFilters:n,species:a,setSpecies:r})=>{var c,p;const s=de(e),o=zt({entityId:s,query:{sql:`SELECT distinct unnest(species) FROM ${s} WHERE species IS NOT NULL AND observationTime IS NOT NULL GROUP BY species`,additionalFilters:n},partMask:Z,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest"}),{data:i,isLoading:l}=o,d=(p=(c=i==null?void 0:i.queryResult)==null?void 0:c.queryResults)==null?void 0:p.rows,u=d&&d.length>0?d[0].values[0]:void 0;return a==null&&u!=null&&r(u),l||!d||d.length<2?t.jsx(t.Fragment,{}):t.jsx(Y,{children:t.jsxs(wr,{children:[t.jsx(qr,{children:"Species"}),t.jsx(va,{sx:{marginLeft:"2px",marginBottom:"2px"},value:a,label:"Species",onChange:m=>{r(m.target.value)},children:d==null?void 0:d.map(m=>{const g=m.values[0];return t.jsx(ge,{value:g,children:g},g)})})]})})};try{Ft.displayName="TimelinePlotSpeciesSelector",Ft.__docgenInfo={description:"",displayName:"TimelinePlotSpeciesSelector",props:{sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},additionalFilters:{defaultValue:null,description:"",name:"additionalFilters",required:!1,type:{name:"QueryFilter[]"}},species:{defaultValue:null,description:"",name:"species",required:!1,type:{name:"string"}},setSpecies:{defaultValue:null,description:"",name:"setSpecies",required:!0,type:{name:"Dispatch<SetStateAction<string>>"}}}}}catch{}const si="observationphase",oi="observationtime",ii="observationtimeunits",li="observationsubmittername",di="observationtext",ui="observationtype",ci="synapseid",pi="doi",zn=({sql:e,searchParams:n,sqlOperator:a,defaultSpecies:r,title:s,subTitle:o})=>{const i=de(e),[l,d]=x.useState(r),[u,c]=$s(),p=Ze(n,a)??[],m=l?{columnName:"species",concreteType:"org.sagebionetworks.repo.model.table.ColumnMultiValueFunctionQueryFilter",values:[l],function:pa.HAS}:void 0,g=[...p];m&&g.push(m);const h=zt({entityId:i,query:{sql:`${e} WHERE observationTime IS NOT NULL`,sort:[{column:"observationTime",direction:"ASC"}],additionalFilters:g},partMask:Z,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest"},{enabled:!!l}),{data:y,isLoading:v}=h,f=x.useMemo(()=>{var j;if(l)return(j=cn.queryResult)==null?void 0:j.queryResults.rows.filter(z=>z.values[ti]==l)},[l]);if(v)return t.jsx(mi,{});const b=ae(si,y),N=ae(oi,y),S=ae(ii,y),C=ae(li,y),T=ae(di,y),V=ae(pi,y),D=ae(ui,y),R=ae(ci,y),I={observationSubmitterName:C,synapseId:R,observationType:D,observationText:T,observationTime:N,observationTimeUnits:S,doi:V},q=u!=null&&u.width&&f?(u==null?void 0:u.width)/f.length:0,$=f==null?void 0:f.map(()=>"auto").join(" ");return t.jsxs(t.Fragment,{children:[l&&t.jsxs(t.Fragment,{children:[s&&t.jsx(w,{variant:"h2",children:s}),o&&t.jsx(w,{variant:"body1Italic",sx:{margin:"10px 0px"},children:o})]}),t.jsxs(Y,{children:[t.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(Y,{children:!r&&t.jsx(Ft,{setSpecies:d,species:l,sql:e,additionalFilters:p})}),f&&t.jsx(Y,{sx:{display:"flex",justifyContent:"flex-end",gap:"25px"},children:f.map((j,A)=>{const{colorPalette:z}=Fn(A,1);return t.jsx(jt,{color:z[0],phaseName:j.values[ct]},j.rowId)})})]}),l&&f&&t.jsx("div",{ref:c,children:t.jsx(Y,{sx:{display:"inline-grid",gridTemplateColumns:$,minWidth:u==null?void 0:u.width,maxWidth:u==null?void 0:u.width},className:"forcePlotlyDefaultCursor",children:f.map((j,A)=>{var te;const{colorPalette:z}=Fn(A,1),ee=(te=y==null?void 0:y.queryResult)==null?void 0:te.queryResults.rows.filter(ve=>ve.values[b]==j.values[ct]);return ee?t.jsx(Lt,{name:j.values[ct],color:z[0],rowData:ee,schema:I,widthPx:q,sql:e},j.rowId):t.jsx(t.Fragment,{})})})})]})]})},mi=()=>t.jsxs(Y,{children:[t.jsxs(Y,{sx:{display:"flex",justifyContent:"flex-end",gap:"10px"},children:[t.jsx(E,{height:"45px",width:"80px"}),t.jsx(E,{height:"45px",width:"80px"})]}),t.jsx(Y,{sx:{display:"flex"},children:t.jsx(E,{height:"150px",width:"100%"})})]});try{zn.displayName="TimelinePlot",zn.__docgenInfo={description:"",displayName:"TimelinePlot",props:{sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},searchParams:{defaultValue:null,description:"",name:"searchParams",required:!1,type:{name:"Record<string, string>"}},sqlOperator:{defaultValue:null,description:"",name:"sqlOperator",required:!1,type:{name:"SQLOperator"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},subTitle:{defaultValue:null,description:"",name:"subTitle",required:!1,type:{name:"string"}},defaultSpecies:{defaultValue:null,description:"",name:"defaultSpecies",required:!1,type:{name:"string"}}}}}catch{}const Hn=be(_,{label:"MuiContainer"})(({theme:e})=>({paddingRight:15,paddingLeft:15,marginRight:"auto",marginLeft:"auto",[e.breakpoints.up("md")]:{width:920},[e.breakpoints.up("lg")]:{width:1170},[e.breakpoints.up("xl")]:{width:1366}}));try{Hn.displayName="MuiContainer",Hn.__docgenInfo={description:"Drop in MUI substitute class for Bootstrap Container component",displayName:"MuiContainer",props:{zIndex:{defaultValue:null,description:"",name:"zIndex",required:!1,type:{name:"ResponsiveStyleValue<string | (string & {}) | (number & {})> | ((theme: Theme) => ResponsiveStyleValue<string | (string & {}) | (number & {})>)"}},typography:{defaultValue:null,description:"",name:"typography",required:!1,type:{name:"ResponsiveStyleValue<string> | ((theme: Theme) => ResponsiveStyleValue<string>)"}},fontFamily:{defaultValue:null,description:"",name:"fontFamily",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | FontFamily> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | FontFamily>)"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!1,type:{name:"ResponsiveStyleValue<FontSize<string | number> | readonly NonNullable<FontSize<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},border:{defaultValue:null,description:"",name:"border",required:!1,type:{name:'ResponsiveStyleValue<number | "none" | (string & {}) | "inset" | "hidden" | "inherit" | "medium" | "initial" | "-moz-initial" | "revert" | "unset" | "revert-layer" | "thick" | "thin" | "dashed" | ... 183 more ... | "currentcolor"> | ((theme: Theme) => ResponsiveStyleValue<...>)'}},boxShadow:{defaultValue:null,description:"",name:"boxShadow",required:!1,type:{name:"ResponsiveStyleValue<number | BoxShadow> | ((theme: Theme) => ResponsiveStyleValue<number | BoxShadow>)"}},fontWeight:{defaultValue:null,description:"",name:"fontWeight",required:!1,type:{name:"ResponsiveStyleValue<string | (string & {}) | (number & {})> | ((theme: Theme) => ResponsiveStyleValue<string | (string & {}) | (number & {})>)"}},alignContent:{defaultValue:null,description:"",name:"alignContent",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | AlignContent> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | AlignContent>)"}},alignItems:{defaultValue:null,description:"",name:"alignItems",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | AlignItems> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | AlignItems>)"}},alignSelf:{defaultValue:null,description:"",name:"alignSelf",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | AlignSelf> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | AlignSelf>)"}},bottom:{defaultValue:null,description:"",name:"bottom",required:!1,type:{name:"ResponsiveStyleValue<Bottom<string | number> | readonly NonNullable<Bottom<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},boxSizing:{defaultValue:null,description:"",name:"boxSizing",required:!1,type:{name:"ResponsiveStyleValue<BoxSizing | readonly NonNullable<BoxSizing>[]> | ((theme: Theme) => ResponsiveStyleValue<BoxSizing | readonly NonNullable<...>[]>)"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | Color> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | Color>)"}},columnGap:{defaultValue:null,description:"",name:"columnGap",required:!1,type:{name:"ResponsiveStyleValue<ColumnGap<string | number> | readonly NonNullable<ColumnGap<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},display:{defaultValue:null,description:"",name:"display",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | Display> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | Display>)"}},flexBasis:{defaultValue:null,description:"",name:"flexBasis",required:!1,type:{name:"ResponsiveStyleValue<FlexBasis<string | number> | readonly NonNullable<FlexBasis<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},flexDirection:{defaultValue:null,description:"",name:"flexDirection",required:!1,type:{name:"ResponsiveStyleValue<FlexDirection | readonly NonNullable<FlexDirection>[]> | ((theme: Theme) => ResponsiveStyleValue<FlexDirection | readonly NonNullable<...>[]>)"}},flexGrow:{defaultValue:null,description:"",name:"flexGrow",required:!1,type:{name:"ResponsiveStyleValue<FlexGrow | readonly NonNullable<FlexGrow>[]> | ((theme: Theme) => ResponsiveStyleValue<FlexGrow | readonly NonNullable<...>[]>)"}},flexShrink:{defaultValue:null,description:"",name:"flexShrink",required:!1,type:{name:"ResponsiveStyleValue<FlexShrink | readonly NonNullable<FlexShrink>[]> | ((theme: Theme) => ResponsiveStyleValue<FlexShrink | readonly NonNullable<...>[]>)"}},flexWrap:{defaultValue:null,description:"",name:"flexWrap",required:!1,type:{name:"ResponsiveStyleValue<FlexWrap | readonly NonNullable<FlexWrap>[]> | ((theme: Theme) => ResponsiveStyleValue<FlexWrap | readonly NonNullable<...>[]>)"}},fontStyle:{defaultValue:null,description:"",name:"fontStyle",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | FontStyle> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | FontStyle>)"}},gridAutoColumns:{defaultValue:null,description:"",name:"gridAutoColumns",required:!1,type:{name:"ResponsiveStyleValue<GridAutoColumns<string | number> | readonly NonNullable<GridAutoColumns<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},gridAutoFlow:{defaultValue:null,description:"",name:"gridAutoFlow",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | GridAutoFlow> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | GridAutoFlow>)"}},gridAutoRows:{defaultValue:null,description:"",name:"gridAutoRows",required:!1,type:{name:"ResponsiveStyleValue<GridAutoRows<string | number> | readonly NonNullable<GridAutoRows<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},gridTemplateAreas:{defaultValue:null,description:"",name:"gridTemplateAreas",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | GridTemplateAreas> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | GridTemplateAreas>)"}},gridTemplateColumns:{defaultValue:null,description:"",name:"gridTemplateColumns",required:!1,type:{name:"ResponsiveStyleValue<GridTemplateColumns<string | number> | readonly NonNullable<GridTemplateColumns<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},gridTemplateRows:{defaultValue:null,description:"",name:"gridTemplateRows",required:!1,type:{name:"ResponsiveStyleValue<GridTemplateRows<string | number> | readonly NonNullable<GridTemplateRows<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"ResponsiveStyleValue<Height<string | number> | readonly NonNullable<Height<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},justifyContent:{defaultValue:null,description:"",name:"justifyContent",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | JustifyContent> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | JustifyContent>)"}},justifyItems:{defaultValue:null,description:"",name:"justifyItems",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | JustifyItems> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | JustifyItems>)"}},justifySelf:{defaultValue:null,description:"",name:"justifySelf",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | JustifySelf> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | JustifySelf>)"}},left:{defaultValue:null,description:"",name:"left",required:!1,type:{name:"ResponsiveStyleValue<Left<string | number> | readonly NonNullable<Left<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<Left<...> | readonly NonNullable<...>[]>)"}},letterSpacing:{defaultValue:null,description:"",name:"letterSpacing",required:!1,type:{name:"ResponsiveStyleValue<LetterSpacing<string | number> | readonly NonNullable<LetterSpacing<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},lineHeight:{defaultValue:null,description:"",name:"lineHeight",required:!1,type:{name:"ResponsiveStyleValue<LineHeight<string | number> | readonly NonNullable<LineHeight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginBlockEnd:{defaultValue:null,description:"",name:"marginBlockEnd",required:!1,type:{name:"ResponsiveStyleValue<MarginBlockEnd<string | number> | readonly NonNullable<MarginBlockEnd<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginBlockStart:{defaultValue:null,description:"",name:"marginBlockStart",required:!1,type:{name:"ResponsiveStyleValue<MarginBlockStart<string | number> | readonly NonNullable<MarginBlockStart<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginBottom:{defaultValue:null,description:"",name:"marginBottom",required:!1,type:{name:"ResponsiveStyleValue<MarginBottom<string | number> | readonly NonNullable<MarginBottom<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginInlineEnd:{defaultValue:null,description:"",name:"marginInlineEnd",required:!1,type:{name:"ResponsiveStyleValue<MarginInlineEnd<string | number> | readonly NonNullable<MarginInlineEnd<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginInlineStart:{defaultValue:null,description:"",name:"marginInlineStart",required:!1,type:{name:"ResponsiveStyleValue<MarginInlineStart<string | number> | readonly NonNullable<MarginInlineStart<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginLeft:{defaultValue:null,description:"",name:"marginLeft",required:!1,type:{name:"ResponsiveStyleValue<MarginLeft<string | number> | readonly NonNullable<MarginLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginRight:{defaultValue:null,description:"",name:"marginRight",required:!1,type:{name:"ResponsiveStyleValue<MarginRight<string | number> | readonly NonNullable<MarginRight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginTop:{defaultValue:null,description:"",name:"marginTop",required:!1,type:{name:"ResponsiveStyleValue<MarginTop<string | number> | readonly NonNullable<MarginTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},maxHeight:{defaultValue:null,description:"",name:"maxHeight",required:!1,type:{name:"ResponsiveStyleValue<MaxHeight<string | number> | readonly NonNullable<MaxHeight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},maxWidth:{defaultValue:null,description:"",name:"maxWidth",required:!1,type:{name:"ResponsiveStyleValue<MaxWidth<string | number> | readonly NonNullable<MaxWidth<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},minHeight:{defaultValue:null,description:"",name:"minHeight",required:!1,type:{name:"ResponsiveStyleValue<MinHeight<string | number> | readonly NonNullable<MinHeight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},minWidth:{defaultValue:null,description:"",name:"minWidth",required:!1,type:{name:"ResponsiveStyleValue<MinWidth<string | number> | readonly NonNullable<MinWidth<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},order:{defaultValue:null,description:"",name:"order",required:!1,type:{name:"ResponsiveStyleValue<Order | readonly NonNullable<Order>[]> | ((theme: Theme) => ResponsiveStyleValue<Order | readonly NonNullable<Order>[]>)"}},paddingBlockEnd:{defaultValue:null,description:"",name:"paddingBlockEnd",required:!1,type:{name:"ResponsiveStyleValue<PaddingBlockEnd<string | number> | readonly NonNullable<PaddingBlockEnd<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingBlockStart:{defaultValue:null,description:"",name:"paddingBlockStart",required:!1,type:{name:"ResponsiveStyleValue<PaddingBlockStart<string | number> | readonly NonNullable<PaddingBlockStart<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingBottom:{defaultValue:null,description:"",name:"paddingBottom",required:!1,type:{name:"ResponsiveStyleValue<PaddingBottom<string | number> | readonly NonNullable<PaddingBottom<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingInlineEnd:{defaultValue:null,description:"",name:"paddingInlineEnd",required:!1,type:{name:"ResponsiveStyleValue<PaddingInlineEnd<string | number> | readonly NonNullable<PaddingInlineEnd<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingInlineStart:{defaultValue:null,description:"",name:"paddingInlineStart",required:!1,type:{name:"ResponsiveStyleValue<PaddingInlineStart<string | number> | readonly NonNullable<PaddingInlineStart<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingLeft:{defaultValue:null,description:"",name:"paddingLeft",required:!1,type:{name:"ResponsiveStyleValue<PaddingLeft<string | number> | readonly NonNullable<PaddingLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingRight:{defaultValue:null,description:"",name:"paddingRight",required:!1,type:{name:"ResponsiveStyleValue<PaddingRight<string | number> | readonly NonNullable<PaddingRight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingTop:{defaultValue:null,description:"",name:"paddingTop",required:!1,type:{name:"ResponsiveStyleValue<PaddingTop<string | number> | readonly NonNullable<PaddingTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"ResponsiveStyleValue<Position | readonly NonNullable<Position>[]> | ((theme: Theme) => ResponsiveStyleValue<Position | readonly NonNullable<...>[]>)"}},right:{defaultValue:null,description:"",name:"right",required:!1,type:{name:"ResponsiveStyleValue<Right<string | number> | readonly NonNullable<Right<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},rowGap:{defaultValue:null,description:"",name:"rowGap",required:!1,type:{name:"ResponsiveStyleValue<RowGap<string | number> | readonly NonNullable<RowGap<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},textAlign:{defaultValue:null,description:"",name:"textAlign",required:!1,type:{name:"ResponsiveStyleValue<TextAlign | readonly NonNullable<TextAlign>[]> | ((theme: Theme) => ResponsiveStyleValue<TextAlign | readonly NonNullable<...>[]>)"}},textOverflow:{defaultValue:null,description:"",name:"textOverflow",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | TextOverflow> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | TextOverflow>)"}},textTransform:{defaultValue:null,description:"",name:"textTransform",required:!1,type:{name:"ResponsiveStyleValue<TextTransform | readonly NonNullable<TextTransform>[]> | ((theme: Theme) => ResponsiveStyleValue<TextTransform | readonly NonNullable<...>[]>)"}},top:{defaultValue:null,description:"",name:"top",required:!1,type:{name:"ResponsiveStyleValue<Top<string | number> | readonly NonNullable<Top<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<Top<string | number> | readonly NonNullable<...>[]>)"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!1,type:{name:"ResponsiveStyleValue<Visibility | readonly NonNullable<Visibility>[]> | ((theme: Theme) => ResponsiveStyleValue<Visibility | readonly NonNullable<...>[]>)"}},whiteSpace:{defaultValue:null,description:"",name:"whiteSpace",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | WhiteSpace> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | WhiteSpace>)"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"ResponsiveStyleValue<Width<string | number> | readonly NonNullable<Width<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},borderBottom:{defaultValue:null,description:"",name:"borderBottom",required:!1,type:{name:"ResponsiveStyleValue<BorderBottom<string | number> | readonly NonNullable<BorderBottom<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},borderColor:{defaultValue:null,description:"",name:"borderColor",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | BorderColor> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | BorderColor>)"}},borderLeft:{defaultValue:null,description:"",name:"borderLeft",required:!1,type:{name:"ResponsiveStyleValue<BorderLeft<string | number> | readonly NonNullable<BorderLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},borderRadius:{defaultValue:null,description:"",name:"borderRadius",required:!1,type:{name:"ResponsiveStyleValue<BorderRadius<string | number> | readonly NonNullable<BorderRadius<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},borderRight:{defaultValue:null,description:"",name:"borderRight",required:!1,type:{name:"ResponsiveStyleValue<BorderRight<string | number> | readonly NonNullable<BorderRight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},borderTop:{defaultValue:null,description:"",name:"borderTop",required:!1,type:{name:"ResponsiveStyleValue<BorderTop<string | number> | readonly NonNullable<BorderTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},flex:{defaultValue:null,description:"",name:"flex",required:!1,type:{name:"ResponsiveStyleValue<Flex<string | number> | readonly NonNullable<Flex<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<Flex<...> | readonly NonNullable<...>[]>)"}},gap:{defaultValue:null,description:"",name:"gap",required:!1,type:{name:"ResponsiveStyleValue<Gap<string | number> | readonly NonNullable<Gap<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<Gap<string | number> | readonly NonNullable<...>[]>)"}},gridArea:{defaultValue:null,description:"",name:"gridArea",required:!1,type:{name:"ResponsiveStyleValue<GridArea | readonly NonNullable<GridArea>[]> | ((theme: Theme) => ResponsiveStyleValue<GridArea | readonly NonNullable<...>[]>)"}},gridColumn:{defaultValue:null,description:"",name:"gridColumn",required:!1,type:{name:"ResponsiveStyleValue<GridColumn | readonly NonNullable<GridColumn>[]> | ((theme: Theme) => ResponsiveStyleValue<GridColumn | readonly NonNullable<...>[]>)"}},gridRow:{defaultValue:null,description:"",name:"gridRow",required:!1,type:{name:"ResponsiveStyleValue<GridRow | readonly NonNullable<GridRow>[]> | ((theme: Theme) => ResponsiveStyleValue<GridRow | readonly NonNullable<GridRow>[]>)"}},margin:{defaultValue:null,description:"",name:"margin",required:!1,type:{name:"ResponsiveStyleValue<Margin<string | number> | readonly NonNullable<Margin<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginBlock:{defaultValue:null,description:"",name:"marginBlock",required:!1,type:{name:"ResponsiveStyleValue<MarginBlock<string | number> | readonly NonNullable<MarginBlock<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginInline:{defaultValue:null,description:"",name:"marginInline",required:!1,type:{name:"ResponsiveStyleValue<MarginInline<string | number> | readonly NonNullable<MarginInline<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},overflow:{defaultValue:null,description:"",name:"overflow",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | Overflow> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | Overflow>)"}},padding:{defaultValue:null,description:"",name:"padding",required:!1,type:{name:"ResponsiveStyleValue<Padding<string | number> | readonly NonNullable<Padding<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingBlock:{defaultValue:null,description:"",name:"paddingBlock",required:!1,type:{name:"ResponsiveStyleValue<PaddingBlock<string | number> | readonly NonNullable<PaddingBlock<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingInline:{defaultValue:null,description:"",name:"paddingInline",required:!1,type:{name:"ResponsiveStyleValue<PaddingInline<string | number> | readonly NonNullable<PaddingInline<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},bgcolor:{defaultValue:null,description:"",name:"bgcolor",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | BackgroundColor> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | BackgroundColor>)"}},m:{defaultValue:null,description:"",name:"m",required:!1,type:{name:"ResponsiveStyleValue<Margin<string | number> | readonly NonNullable<Margin<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},mt:{defaultValue:null,description:"",name:"mt",required:!1,type:{name:"ResponsiveStyleValue<MarginTop<string | number> | readonly NonNullable<MarginTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},mr:{defaultValue:null,description:"",name:"mr",required:!1,type:{name:"ResponsiveStyleValue<MarginRight<string | number> | readonly NonNullable<MarginRight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},mb:{defaultValue:null,description:"",name:"mb",required:!1,type:{name:"ResponsiveStyleValue<MarginBottom<string | number> | readonly NonNullable<MarginBottom<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},ml:{defaultValue:null,description:"",name:"ml",required:!1,type:{name:"ResponsiveStyleValue<MarginLeft<string | number> | readonly NonNullable<MarginLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},mx:{defaultValue:null,description:"",name:"mx",required:!1,type:{name:"ResponsiveStyleValue<MarginLeft<string | number> | readonly NonNullable<MarginLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginX:{defaultValue:null,description:"",name:"marginX",required:!1,type:{name:"ResponsiveStyleValue<MarginLeft<string | number> | readonly NonNullable<MarginLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},my:{defaultValue:null,description:"",name:"my",required:!1,type:{name:"ResponsiveStyleValue<MarginTop<string | number> | readonly NonNullable<MarginTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginY:{defaultValue:null,description:"",name:"marginY",required:!1,type:{name:"ResponsiveStyleValue<MarginTop<string | number> | readonly NonNullable<MarginTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},p:{defaultValue:null,description:"",name:"p",required:!1,type:{name:"ResponsiveStyleValue<Padding<string | number> | readonly NonNullable<Padding<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},pt:{defaultValue:null,description:"",name:"pt",required:!1,type:{name:"ResponsiveStyleValue<PaddingTop<string | number> | readonly NonNullable<PaddingTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},pr:{defaultValue:null,description:"",name:"pr",required:!1,type:{name:"ResponsiveStyleValue<PaddingRight<string | number> | readonly NonNullable<PaddingRight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},pb:{defaultValue:null,description:"",name:"pb",required:!1,type:{name:"ResponsiveStyleValue<PaddingBottom<string | number> | readonly NonNullable<PaddingBottom<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},pl:{defaultValue:null,description:"",name:"pl",required:!1,type:{name:"ResponsiveStyleValue<PaddingLeft<string | number> | readonly NonNullable<PaddingLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},px:{defaultValue:null,description:"",name:"px",required:!1,type:{name:"ResponsiveStyleValue<PaddingLeft<string | number> | readonly NonNullable<PaddingLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingX:{defaultValue:null,description:"",name:"paddingX",required:!1,type:{name:"ResponsiveStyleValue<PaddingLeft<string | number> | readonly NonNullable<PaddingLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},py:{defaultValue:null,description:"",name:"py",required:!1,type:{name:"ResponsiveStyleValue<PaddingTop<string | number> | readonly NonNullable<PaddingTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingY:{defaultValue:null,description:"",name:"paddingY",required:!1,type:{name:"ResponsiveStyleValue<PaddingTop<string | number> | readonly NonNullable<PaddingTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},displayPrint:{defaultValue:null,description:"",name:"displayPrint",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | Display> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | Display>)"}},component:{defaultValue:null,description:"",name:"component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}}}}}catch{}const Qa=e=>{x.useEffect(()=>{if(e){const n=document.querySelector("head"),a=document.createElement("script");a.setAttribute("type","application/ld+json");const r=document.createTextNode(e);return a.appendChild(r),n==null||n.appendChild(a),()=>{n==null||n.removeChild(a)}}},[e])};function Wn({thing:e}){return Qa(JSON.stringify(e)),t.jsx(t.Fragment,{})}try{Wn.displayName="JsonLdScript",Wn.__docgenInfo={description:"This component will add a json ld script tag to the page when rendered.",displayName:"JsonLdScript",props:{thing:{defaultValue:null,description:"",name:"thing",required:!0,type:{name:"WithContext<Thing>"}}}}}catch{}function Gn({entityId:e,version:n,searchParams:a}){var p,m,g;let r,s;e?(r=e,s=n):a&&(r=a.id,a.version&&(s=parseInt(a.version)));const o={sql:"select croissant_file_s3_object from syn65903895",additionalFilters:[{concreteType:In,columnName:"dataset",operator:xe.EQUAL,values:[r]}]};s&&o.additionalFilters.push({concreteType:In,columnName:"dataset_version",operator:xe.EQUAL,values:[`${s}`]});const{data:i}=Wt({entityId:r,query:o,partMask:Z,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest"}),l=(g=(m=(p=i==null?void 0:i.responseBody)==null?void 0:p.queryResult)==null?void 0:m.queryResults)==null?void 0:g.rows,d=l&&l.length>0?l[0]:void 0,u=d==null?void 0:d.values[0],{data:c}=jr(u,{enabled:!!u});return Qa(c),t.jsx(t.Fragment,{})}try{Gn.displayName="DatasetJsonLdScript",Gn.__docgenInfo={description:"This component will add a Dataset json ld script tag to the page when rendered.",displayName:"DatasetJsonLdScript",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!1,type:{name:"string"}},version:{defaultValue:null,description:"",name:"version",required:!1,type:{name:"number"}},searchParams:{defaultValue:null,description:"",name:"searchParams",required:!1,type:{name:"{ [key: string]: string; }"}}}}}catch{}const pn=(e,n)=>{const a={associateObjectId:n,associateObjectType:da.TableEntity,fileHandleId:e||""},r=Pr(a,!1,{enabled:!!e});return r==null?void 0:r.dataUrl},yi=400,fi=({research:e,entityId:n,publicationDateColIndex:a,titleColIndex:r,linkColIndex:s,imageColIndex:o,isLoading:i})=>{const l=e.values[o]??"",d=pn(l??"",n);return i?t.jsx(E,{variant:"rectangular",height:142,width:"100%"}):t.jsxs(_,{sx:{display:"flex",gap:"30px",borderBottom:"1px solid",padding:"24px 0",borderColor:"grey.300",flexDirection:{xs:"column",sm:"row"}},children:[t.jsxs(H,{useFlexGap:!0,sx:{gap:"10px"},children:[t.jsx(w,{variant:"headline2",sx:{color:"gray.1000",fontSize:"21px"},children:t.jsx(G,{href:e.values[s]??"",target:"_blank",sx:{color:"grey.1000",textDecoration:"none","&:hover":{textDecoration:"none"}},children:e.values[r]})}),t.jsx(w,{sx:{lineHeight:"normal",color:"grey.600"},children:e.values[a]&&Zt(Se(Number(e.values[a])),"MMMM, YYYY")})]}),t.jsx(on,{component:"img",image:d,"aria-hidden":"true",sx:{flexShrink:0,width:"140px",height:"93.8px",borderRadius:"6px",objectFit:"cover",marginLeft:{xs:"initial",sm:"auto"}}})]})},gi=({research:e,entityId:n,titleColIndex:a,descriptionColIndex:r,linkColIndex:s,imageColIndex:o,isLoading:i})=>{const[l,d]=ja({threshold:.3,triggerOnce:!0}),u=e.values[o]??"",c=pn(u||"",n);return i?t.jsx(E,{variant:"rectangular",width:"100%",sx:{height:{xs:"250px",sm:"500px",md:"600px",lg:"800px"}}}):t.jsxs(_,{ref:l,children:[t.jsx(Lr,{in:d,timeout:yi,children:t.jsx(on,{component:"img",image:c,"aria-hidden":"true",sx:{objectFit:"cover",borderRadius:"10px",marginBottom:"30px"}})}),t.jsxs(H,{useFlexGap:!0,sx:{gap:"16px"},children:[t.jsx(w,{variant:"headline2",sx:{color:"grey.1000",fontSize:{xs:"24px",md:"36px"}},children:t.jsx(G,{href:e.values[s]??"",target:"_blank",sx:{color:"grey.1000",textDecoration:"none","&:hover":{textDecoration:"none"}},children:e.values[a]})}),t.jsx(w,{sx:{fontSize:"18px",lineHeight:"22.4px"},children:e.values[r]??""}),t.jsx(G,{href:e.values[s]??"",target:"_blank",children:"Read more"})]})]})};function Yn(e){const{sql:n}=e,a=de(n),r={partMask:Pe|Z,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:a,query:{sql:n}},{data:s,isLoading:o}=Ca(r),i=(s==null?void 0:s.queryResult.queryResults.rows)??[];let l;(v=>{v.TITLE="title",v.DESCRIPTION="description",v.PUBLICATION_DATE="publicationDate",v.IMAGE="image",v.LINK="link"})(l||(l={}));const d=re("title",s),u=re("description",s),c=re("publicationDate",s),p=re("image",s),m=re("link",s),g=i[0],h=i.slice(1),y=t.jsx(ka,{title:"Featured Research",sx:{h2:{fontSize:"24px",paddingBottom:0,width:"100%"}}});return t.jsxs(_,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"1fr 1fr"},gap:{xs:"30px",md:"40px"},padding:{xs:"40px",lg:"80px"}},children:[t.jsx(_,{sx:{display:{md:"none"}},children:y}),t.jsx(_,{children:g&&t.jsx(gi,{entityId:a,research:g,titleColIndex:d,isLoading:o,descriptionColIndex:u,publicationDateColIndex:c,imageColIndex:p,linkColIndex:m})}),t.jsxs(H,{children:[t.jsx(_,{sx:{display:{xs:"none",md:"block"}},children:y}),t.jsx(H,{sx:{gap:"16px"},children:h.map((v,f)=>t.jsx(fi,{entityId:a,research:v,isLoading:o,titleColIndex:d,descriptionColIndex:u,publicationDateColIndex:c,imageColIndex:p,linkColIndex:m},f))})]})]})}try{Yn.displayName="FeaturedResearch",Yn.__docgenInfo={description:"",displayName:"FeaturedResearch",props:{sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}}}}}catch{}const Ke=({backgroundCss:e,buttonLink:n,title:a,subTitle:r,description:s,backgroundMp4:o,backgroundMp4Css:i,textAreaWidth:l="746px"})=>t.jsxs(_,{"data-testid":"HeaderContainer",sx:{background:e,padding:{xs:0,md:"50px 80px"},position:"relative"},children:[o&&t.jsxs(_,{component:"video",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"fill",zIndex:-1,background:i},children:[t.jsx("source",{src:o,type:"video/mp4"}),"Your browser does not support the video tag."]}),t.jsxs(H,{sx:{alignItems:"flex-start",padding:{xs:"40px",md:"40px 0"},gap:"24px",width:{sm:"100%",md:l}},children:[t.jsx(w,{variant:"headline2",sx:{fontWeight:300,lineHeight:"130%",fontSize:{xs:"36px",md:"42px"},color:"grey.1000"},children:a}),t.jsx(w,{variant:"headline3",sx:{fontSize:"24px",fontWeight:"400",lineHeight:"160%",color:"grey.1000"},children:r}),t.jsx(w,{sx:{fontSize:"18px",lineHeight:"140%",color:"grey.900"},children:s}),n&&t.jsx(W,{href:n,target:"_blank",variant:"contained",role:"button",sx:d=>({whiteSpace:"nowrap",alignSelf:"flex-start",padding:"6px 24px",fontWeight:600,boxShadow:"0px 16px 16px 0px rgba(0, 0, 0, 0.10), 0px 4px 4px 0px rgba(0, 0, 0, 0.10), 0px 1px 1px 0px rgba(0, 0, 0, 0.10)","&:hover":{boxShadow:"0px 16px 16px 0px rgba(0, 0, 0, 0.10), 0px 4px 4px 0px rgba(0, 0, 0, 0.10), 0px 1px 1px 0px rgba(0, 0, 0, 0.10)"},[d.breakpoints.down("sm")]:{width:"100%"}}),children:"Learn more"})]})]});try{Ke.displayName="PortalHomePageHeader",Ke.__docgenInfo={description:"",displayName:"PortalHomePageHeader",props:{backgroundCss:{defaultValue:null,description:"",name:"backgroundCss",required:!0,type:{name:"string"}},buttonLink:{defaultValue:null,description:"",name:"buttonLink",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"ReactNode"}},subTitle:{defaultValue:null,description:"",name:"subTitle",required:!0,type:{name:"ReactNode"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"ReactNode"}},backgroundMp4:{defaultValue:null,description:"",name:"backgroundMp4",required:!1,type:{name:"string"}},backgroundMp4Css:{defaultValue:null,description:"",name:"backgroundMp4Css",required:!1,type:{name:"string"}},textAreaWidth:{defaultValue:{value:"746px"},description:"",name:"textAreaWidth",required:!1,type:{name:"string"}}}}}catch{}try{Ke.displayName="PortalHomePageHeader",Ke.__docgenInfo={description:"",displayName:"PortalHomePageHeader",props:{backgroundCss:{defaultValue:null,description:"",name:"backgroundCss",required:!0,type:{name:"string"}},buttonLink:{defaultValue:null,description:"",name:"buttonLink",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"ReactNode"}},subTitle:{defaultValue:null,description:"",name:"subTitle",required:!0,type:{name:"ReactNode"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"ReactNode"}},backgroundMp4:{defaultValue:null,description:"",name:"backgroundMp4",required:!1,type:{name:"string"}},backgroundMp4Css:{defaultValue:null,description:"",name:"backgroundMp4Css",required:!1,type:{name:"string"}},textAreaWidth:{defaultValue:{value:"746px"},description:"",name:"textAreaWidth",required:!1,type:{name:"string"}}}}}catch{}const Kn=101,Jn=156,hi=({website:e,children:n})=>{const a={display:"flex",alignItems:"center",justifyContent:"center"};return e?t.jsx(G,{href:e,target:"_blank",sx:{...a,textDecoration:"none !important"},children:n}):t.jsx(_,{sx:a,children:n})},xi=({partner:e,imageColIndex:n,organizationNameColIndex:a,websiteColIndex:r,entityId:s,isLoading:o})=>{const i=e.values[n]??"",l=e.values[a],d=e.values[r],u=pn(i,s);if(!u&&!l)return null;if(o)return t.jsx(E,{variant:"rectangular",height:Kn,width:Jn});const c=u?t.jsx(on,{component:"img",image:u,"aria-hidden":"true",sx:{width:`${Jn}px`,height:`${Kn}px`,objectFit:"contain",borderRadius:"10px"}}):t.jsx(_,{sx:{display:"flex",width:"165px",padding:"3px",flexDirection:"column",gap:"10px",border:"2px solid",borderColor:"grey.900",backgroundColor:"#FFF",textAlign:"center"},children:t.jsx(_,{sx:{display:"flex",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",border:"1px solid",borderColor:"grey.900"},children:t.jsx(w,{variant:"headline3",sx:{fontSize:"14px",fontWeight:400,lineHeight:"130%",color:"grey.900"},children:l})})});return t.jsx(hi,{website:d,children:c})},Xn=({sql:e,titleText:n="Our Partners",variation:a="default",sx:r})=>{const s=de(e),o={partMask:Pe|Z,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:s,query:{sql:e}},{data:i,isLoading:l}=Ca(o),d=(i==null?void 0:i.queryResult.queryResults.rows)??[];let u;(g=>{g.CARDLOGO="cardLogo",g.ORGANIZATION_NAME="organizationName",g.WEBSITE="website"})(u||(u={}));const c=re("cardLogo",i),p=re("organizationName",i),m=re("website",i);return t.jsxs(_,{sx:{display:"grid",padding:{xs:"40px",lg:"20px 80px"},gridTemplateColumns:a==="centered"?{xs:"1fr"}:{xs:"1fr",md:"1fr 3fr"},gap:"50px",textAlign:a==="centered"?"center":"left",...r},children:[a==="default"?t.jsx(ka,{title:n,sx:{h2:{fontSize:"24px",paddingTop:"26px",width:"100%"}}}):t.jsx(w,{variant:"headline1",sx:{fontSize:"48px",color:"grey.900"},children:n}),t.jsx(_,{sx:g=>({display:"flex",flexWrap:"wrap",gap:"64px",flex:"1 1 0",justifyContent:a==="centered"?"center":"flex-start",[g.breakpoints.down("sm")]:{justifyContent:"center"}}),children:d==null?void 0:d.map((g,h)=>t.jsx(xi,{partner:g,imageColIndex:c,organizationNameColIndex:p,websiteColIndex:m,entityId:s,isLoading:l},`partner-${h}`))})]})};try{Xn.displayName="PortalFeaturedPartners",Xn.__docgenInfo={description:"",displayName:"PortalFeaturedPartners",props:{variation:{defaultValue:{value:"default"},description:"",name:"variation",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"centered"'}]}},sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},titleText:{defaultValue:{value:"Our Partners"},description:"",name:"titleText",required:!1,type:{name:"string"}},sx:{defaultValue:null,description:"",name:"sx",required:!1,type:{name:"SxProps"}}}}}catch{}function Ve(e){const{addToDownloadListRequest:n,onClose:a}=e,{downloadCartPageUrl:r}=Ht(),{data:s,isLoading:o,error:i}=us({concreteType:"org.sagebionetworks.repo.model.download.AddToDownloadListStatsRequest",request:n}),{mutate:l,isPending:d}=cs({onSuccess:()=>{Gs(r),a()},onError:p=>{Er(p.reason,"danger"),a()}}),u=s==null?void 0:s.fileCount,c=s==null?void 0:s.fileSize;return i?t.jsx(Fr,{error:i}):t.jsx(Ws,{onAddToDownloadCart:()=>l(n),fileCount:u,fileSize:c,isAddingToDownloadCart:d,isLoadingStats:o,onCancel:a})}try{Ve.displayName="AddToDownloadListConfirmationAlert",Ve.__docgenInfo={description:`A component that displays a confirmation alert when adding multiple items to the download list though a container or
query.`,displayName:"AddToDownloadListConfirmationAlert",props:{addToDownloadListRequest:{defaultValue:null,description:'The "AddToDownloadListRequest" that would be used to add items to the download list.',name:"addToDownloadListRequest",required:!0,type:{name:"AddToDownloadListRequest"}},onClose:{defaultValue:null,description:"Invoked when the dialog is closed, either by cancelling or successfully adding to the download list.",name:"onClose",required:!0,type:{name:"() => void"}}}}}catch{}const bi=[ie.project,ie.folder,ie.dataset,ie.datasetcollection],Si=[ie.entityview],vi=[ie.dataset,ie.datasetcollection];function Et({entityId:e,versionNumber:n,handleClose:a,onIsLoadingChange:r}){const{data:s,isLoading:o}=pe(e),i=s!=null&&s.concreteType?kr(s.concreteType):void 0;x.useEffect(()=>{r(o)},[o,r]);const l=x.useMemo(()=>{if(!i)return null;if(Si.includes(i))return{concreteType:"org.sagebionetworks.repo.model.download.AddToDownloadListRequest",query:{sql:`select * from ${e}${n!=null?`.${n}`:""}`}};if(bi.includes(i)){const d=vi.includes(i);return{concreteType:"org.sagebionetworks.repo.model.download.AddToDownloadListRequest",parentId:e,useVersionNumber:d}}return null},[i,e,n]);return l?t.jsx("div",{children:t.jsx(Ve,{addToDownloadListRequest:l,onClose:a})}):null}try{Et.displayName="EntityDownloadConfirmation",Et.__docgenInfo={description:`A component that allows users to add an entity to the download cart. It displays a confirmation dialog that displays
statistics about the set of items that will be added to the download cart.`,displayName:"EntityDownloadConfirmation",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}},onIsLoadingChange:{defaultValue:null,description:"",name:"onIsLoadingChange",required:!0,type:{name:"(isLoading: boolean) => void"}},handleClose:{defaultValue:null,description:"",name:"handleClose",required:!0,type:{name:"() => void"}}}}}catch{}try{EntityDownloadConfirmation.displayName="EntityDownloadConfirmation",EntityDownloadConfirmation.__docgenInfo={description:`A component that allows users to add an entity to the download cart. It displays a confirmation dialog that displays
statistics about the set of items that will be added to the download cart.`,displayName:"EntityDownloadConfirmation",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}},onIsLoadingChange:{defaultValue:null,description:"",name:"onIsLoadingChange",required:!0,type:{name:"(isLoading: boolean) => void"}},handleClose:{defaultValue:null,description:"",name:"handleClose",required:!0,type:{name:"() => void"}}}}}catch{}function Ci({synapseEntityConfig:e,getColumnValue:n,rowId:a,rowVersionNumber:r}){return x.useMemo(()=>{var i,l,d,u;let s,o;if(((i=e==null?void 0:e.id)==null?void 0:i.source)==="rowId"?a!==void 0&&(s=`syn${a}`):((l=e==null?void 0:e.id)==null?void 0:l.source)==="column"&&(s=n(e.id.columnName)),((d=e==null?void 0:e.version)==null?void 0:d.source)==="rowVersionNumber")r!==void 0&&Number.isInteger(r)&&(o=r);else if(((u=e==null?void 0:e.version)==null?void 0:u.source)==="column"){const c=n(e.version.columnName);if(c!==void 0&&c!==""){const p=Number(c);!Number.isNaN(p)&&Number.isInteger(p)&&(o=p)}}return{entityId:s,entityVersionNumber:o}},[e,n,a,r])}function Ni(e){const{synapseId:n,version:a}=e;return t.jsxs("span",{children:[a,"Â Â ",t.jsx("a",{target:as.NEW_WINDOW,rel:"noopener noreferrer",href:`${$e.PORTAL}Synapse:${n}.${a}`,children:"(Show Version History on Synapse)"})]})}function kt(e){var Cn;const[n,a]=x.useState(!1),[r,s]=x.useState(!1),{entityId:o,versionNumber:i}=k(),{getColumnDisplayName:l}=B(),{ref:d,inView:u}=ja(),{data:c}=pe(o,i),{schema:p,data:m,rowId:g,versionNumber:h,genericCardSchema:y,secondaryLabelLimit:v,sharePageLinkButtonProps:f,selectColumns:b,columnModels:N,iconOptions:S,useTypeColumnForIcon:C=!1,isHeader:T=!1,sustainabilityScorecard:V,headerCardVariant:D,titleLinkConfig:R,ctaLinkConfig:I,labelLinkConfig:q,descriptionConfig:$,columnIconOptions:j}=e,{link:A="",type:z,includeCitation:ee,includeShareButton:te,defaultCitationFormat:ve,citationBoilerplateText:tt,downloadCartSynId:Le,portalDoiConfiguration:K}=y,Fe=m[p[y.title]];let Ce=y.subTitle&&m[p[y.subTitle]];Ce=y.subTitle&&Oe({value:Ce,columnName:y.subTitle,selectColumns:b,columnModels:N}).str;const Ee=m[p[y.description||""]],nt=m[p[y.icon||""]],me=m[p[y.dataTypeIconNames||""]],L=m[p[y.imageFileHandleColumnName||""]],M=N==null?void 0:N.find(P=>y.link===P.name),at=M==null?void 0:M.columnType,mn=m[p[A]]||"",{href:za,target:Ha}=qn(mn,R,m,p,g),Wa=y.synapseEntityConfig,yn=x.useCallback(P=>{if(!P)return;const Q=p[P];if(Q!==void 0)return m[Q]},[p,m]),{entityId:rt,entityVersionNumber:st}=Ci({synapseEntityConfig:Wa,getColumnValue:yn,rowId:g,rowVersionNumber:h});let Ne=rt,fn=st;if(Le){const P=Dr(yn(Le)??"");Ne=P==null?void 0:P.targetId,fn=P==null?void 0:P.targetVersionNumber}const Ga=x.useMemo(()=>is(m,p),[m,p]),ot=To({data:Ga,portalDoiConfiguration:K}),Ya=No({portalId:K==null?void 0:K.portalId,resourceId:ot}),Te=[],{secondaryLabels:gn=[]}=y,ke=y.customSecondaryLabelConfig;if(Ya&&K&&ot&&u&&Te.push({columnDisplayName:"DOI",value:t.jsx(xt,{portalId:K.portalId,resourceId:ot})}),ke!=null&&ke.isVisible(p,m)){const{key:P,value:Q}=ke;Ne?Te.push({columnDisplayName:"HOW TO DOWNLOAD",value:t.jsx(G,{onClick:()=>a(ne=>!ne),children:"Click here to add to Synapse download cart"})}):Te.push({columnDisplayName:P,value:Q})}const Ka=c&&!Ar(c);for(let P=0;P<gn.length;P+=1){const Q=gn[P],ne=m[p[Q]];let _e=ne,De;if(_e){if(Mr(c)&&Q==="datasetSizeInBytes")De="Size",_e=Na(parseInt(ne));else if(Ka&&Q==="currentVersion"){const lt=m[p.id];_e=t.jsx(Ni,{synapseId:lt,version:ne}),De="Version"}else{const lt=q==null?void 0:q.find(Xa=>Xa.matchColumnName===Q);_e=t.jsx(Ss,{value:ne,columnName:Q,labelLink:lt,isHeader:T,selectColumns:b,columnModels:N,rowData:m}),De=l(Q)}Te.push({columnDisplayName:De,value:_e,columnName:Q})}}const it=ns(c,L||mn,m[p.id]),Ja=l(y.description||""),hn=Me("doi",b,N),xn=hn!==void 0?m[hn]:void 0;let bn,Sn;if(I){const P=m[p[I.link]]||"",{href:Q,target:ne}=qn(P,void 0,m,p,g);bn=Q,Sn=ne}let vn=t.jsx(t.Fragment,{});return rt!=null&&st!=null&&(vn=t.jsx(ht,{datasetId:rt,datasetVersionNumber:st})),t.jsx(vs,{ref:d,icon:t.jsx(rs,{type:C?m[p.type]:y.type,useTypeForIcon:C,thumbnailRequiresPadding:y.thumbnailRequiresPadding,imageFileHandleId:L,fileHandleAssociation:it,iconOptions:S,iconValue:nt}),isHeader:T,sustainabilityScorecard:V,headerCardVariant:D,type:z,title:Fe,subtitle:Ce,titleLinkConfiguration:{target:Ha,href:za},titleAsFileHandleLinkConfiguration:!R&&at===oe.FILEHANDLEID&&it?{fileHandleAssociation:it,showDownloadIcon:z!==Or}:void 0,ctaLinkConfig:I?{text:I==null?void 0:I.text,href:bn,target:Sn}:void 0,description:Ee,descriptionSubTitle:Ja,descriptionConfig:$,labels:Te,secondaryLabelLimit:v,columnIconOptions:j,useStylesForDisplayedImage:!!L,cardTopContent:Ne&&t.jsx(Gt,{in:n,children:t.jsx(Et,{entityId:Ne,versionNumber:fn,handleClose:()=>a(!1),onIsLoadingChange:P=>{s(P)}})}),renderedIconList:((Cn=j==null?void 0:j.columns)==null?void 0:Cn.dataType)&&(me==null?void 0:me.length)&&t.jsx("div",{style:{marginTop:"20px"},children:t.jsx(Ys,{iconConfigs:j.columns.dataType,iconNames:JSON.parse(me),commonIconProps:{sx:{fontSize:"40px"}},useBackground:!0,useTheme:!0})}),cardTopButtons:t.jsxs(_,{sx:{display:"flex",gap:1},children:[vn,Ne&&t.jsx(ln,{onClick:()=>a(P=>!P),variant:"outlined",startIcon:t.jsx(fa,{sx:{height:"12px"}}),loading:r,children:"Download"}),ee&&xn&&t.jsx(bt,{title:Fe,doi:xn,boilerplateText:tt,defaultCitationFormat:ve}),te&&T&&t.jsx(Ks,{...f})]})})}try{kt.displayName="TableRowGenericCard",kt.__docgenInfo={description:"Maps a table row to a GenericCard.",displayName:"TableRowGenericCard",props:{}}}catch{}const Ua="Unknown",Ti=e=>e<1e6?e.toLocaleString():new Intl.NumberFormat([],{minimumFractionDigits:1,maximumFractionDigits:2,notation:"compact",localeMatcher:"best fit"}).format(e),le=(e,n,a)=>{const r=e[a];let s;return r===void 0?(console.error(`Could not find column named ${a}`),s=null):s=n[r],s},_i=(e,n,a)=>a.map(r=>{const{columnName:s,label:o}=r,i=le(e,n,s);return{label:o,value:i?Ti(Number(i)):Ua}}),Ri=(e,n,a)=>{const r=le(e,n,a);return{label:"Date of release",value:r?Zt(Se(Number(r)),"MM/DD/YYYY"):Ua}},$a=(e,n,a,r)=>({releaseName:le(e,n,a.releaseNameColumnName),releaseEntityId:le(e,n,a.releaseEntityIdColumnName),releaseDate:Ri(e,n,a.releaseDateColumnName),stats:_i(e,n,r)}),Vi=(e,n,a,r)=>{const s=r?[...r]:[];return a&&a.forEach(o=>{const i=o.sourceTableColumnName,l=i?le(e,n,i):null;l&&s.push({facet:o.destinationTableColumnName,facetValue:l})}),s},Zn=(e,n,a)=>{if(!a)return null;const r=le(e,n,a.sourceTablePathColumnName);if(!r)return console.warn(`Column not found in source table or cell did not have value in source table for ${a.sourceTablePathColumnName}`),null;const{sourceTableSqlColumnName:s,selectedFacetConfigs:o,staticSelectedFacets:i}=a,l=s?le(e,n,s):null,d=Vi(e,n,o,i);return l&&d.length>0?vo(r,l,d):r};function ea({value:e,label:n}){return t.jsxs(H,{direction:"column",sx:{alignItems:"center",padding:{xs:"20px 10px",md:"20px 40px"},gap:"10px",width:{xs:"unset",lg:"200px"}},children:[t.jsx(w,{variant:"headline1",children:e}),t.jsx(w,{variant:"body1",sx:{lineHeight:"20px",color:"grey.700"},children:n})]})}function Dt({data:e,schema:n,includePortalCardClass:a=!0,releaseCardConfig:r}){const{releaseName:s,releaseDate:o,stats:i}=$a(n,e,r.releaseMetadataConfig,r.statsConfig),{primaryBtnConfig:l,secondaryBtnConfig:d}=r,u=Zn(n,e,l),c=Zn(n,e,d);return s===null?t.jsx(t.Fragment,{}):t.jsx(_,{className:`ReleaseCard ${a?"SRC-portalCard":""}`,sx:{minWidth:"200px"},children:t.jsxs(H,{direction:{xs:"column",lg:"row"},sx:{justifyContent:"space-between",gap:"20px",padding:"20px"},children:[t.jsxs(H,{direction:"column",sx:{gap:"20px"},children:[t.jsxs(H,{direction:"row",sx:{alignItems:"center",gap:"10px"},children:[t.jsx(go,{sx:{color:"grey.700"}}),t.jsxs(w,{variant:"headline1",children:[r.prependRelease&&"Release ",s]})]}),t.jsxs(H,{direction:{xs:"column",sm:"row"},sx:{alignItems:{xs:"flex-start",sm:"center"},gap:"20px"},children:[l&&u&&t.jsx(W,{component:yt,variant:"contained",color:"primary",to:u,children:l.label}),d&&c&&t.jsx(W,{component:yt,to:c,children:d.label})]})]}),t.jsx(Be,{})," ",t.jsxs(H,{direction:"row",sx:{gap:{xs:0,lg:"10px"},alignItems:"center",justifyContent:{xs:"space-evenly",lg:"unset"},flexWrap:{xs:"wrap",lg:"nowrap"}},children:[t.jsx(ea,{...o}),i.map(p=>t.jsxs(x.Fragment,{children:[t.jsx(Be,{orientation:"vertical",flexItem:!0}),t.jsx(ea,{...p})]},p.label))]})]})})}try{Dt.displayName="ReleaseCardLarge",Dt.__docgenInfo={description:"",displayName:"ReleaseCardLarge",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string[]"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ReleaseCardSchema"}},includePortalCardClass:{defaultValue:{value:"true"},description:"",name:"includePortalCardClass",required:!1,type:{name:"boolean"}},releaseCardConfig:{defaultValue:null,description:"",name:"releaseCardConfig",required:!0,type:{name:"ReleaseCardLargeConfig"}}}}}catch{}function Ii({value:e,label:n}){return t.jsxs(t.Fragment,{children:[t.jsx(_,{sx:{gridColumn:"span 1",gridRow:"span 1",justifySelf:"flex-end"},children:t.jsx(w,{variant:"body1",sx:{lineHeight:"20px"},children:e})}),t.jsx(_,{sx:{gridColumn:"span 1",gridRow:"span 1",justifySelf:"flex-start"},children:t.jsx(w,{variant:"body1",sx:{lineHeight:"20px",color:"grey.700"},children:n})})]})}function At({data:e,schema:n,includePortalCardClass:a=!0,releaseCardConfig:r}){const{releaseName:s,releaseEntityId:o,releaseDate:i,stats:l}=$a(n,e,r.releaseMetadataConfig,r.statsConfig);if(s===null)return t.jsx(t.Fragment,{});const d=2,u=`span ${d}`,c=l.length+4;return t.jsxs(_,{className:`ReleaseCard ${a?"SRC-portalCard":""}`,sx:{display:"grid",gridTemplateColumns:`repeat(${d}, 1fr)`,columnGap:"10px",gridTemplateRows:"subgrid",gridRow:`span ${c}`,rowGap:"0px",alignItems:"center",justifyItems:"center",textAlign:"center",padding:"30px 40px 40px",my:0},children:[t.jsx(_,{sx:{gridColumn:u,gridRow:"span 1",alignSelf:"end"},children:t.jsx(w,{variant:"headline1",children:s})}),t.jsx(_,{sx:{gridColumn:u,gridRow:"span 1",mb:"30px"},children:t.jsx(w,{variant:"body1",sx:{lineHeight:"20px",fontStyle:"italic",color:"grey.800"},children:`Released ${i.value}`})}),l.map(p=>t.jsx(Ii,{...p},p.label)),t.jsx(_,{sx:{gridColumn:u,gridRow:"span 1",mt:"20px",mb:"5px"},children:t.jsx(W,{component:yt,to:r.requestAccessPath,sx:{fontSize:"14px"},children:"Request Access"})}),t.jsx(_,{sx:{gridColumn:u,gridRow:"span 1"},children:o&&t.jsx(G,{href:`${$e.PORTAL}Synapse:${o}`,target:"_blank",rel:"noreferrer",sx:{fontSize:"14px",textDecoration:"none"},children:"View on Synapse.org"})})]})}try{At.displayName="ReleaseCardMedium",At.__docgenInfo={description:"",displayName:"ReleaseCardMedium",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string[]"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ReleaseCardSchema"}},includePortalCardClass:{defaultValue:{value:"true"},description:"",name:"includePortalCardClass",required:!1,type:{name:"boolean"}},releaseCardConfig:{defaultValue:null,description:"",name:"releaseCardConfig",required:!0,type:{name:"ReleaseCardMediumConfig"}}}}}catch{}function Ie(e){const{releaseCardConfig:n,...a}=e;switch(n.cardSize){case"large":return t.jsx(Dt,{releaseCardConfig:n,...a});case"medium":return t.jsx(At,{releaseCardConfig:n,...a});default:return console.error("No size specified for ReleaseCard"),t.jsx("div",{})}}try{Ie.displayName="ReleaseCard",Ie.__docgenInfo={description:`Specialized Release Card, initially implemented for the GENIE portal.
Expects columns used to define release metadata (entity id, name, date)
as well as statistics columns and columns for defining a button to explore data
as defined in the releaseCardConfig`,displayName:"ReleaseCard",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ReleaseCardSchema"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string[]"}},includePortalCardClass:{defaultValue:null,description:"",name:"includePortalCardClass",required:!1,type:{name:"boolean"}},releaseCardConfig:{defaultValue:null,description:"",name:"releaseCardConfig",required:!0,type:{name:"ReleaseCardConfig"}}}}}catch{}try{Ie.displayName="ReleaseCard",Ie.__docgenInfo={description:`Specialized Release Card, initially implemented for the GENIE portal.
Expects columns used to define release metadata (entity id, name, date)
as well as statistics columns and columns for defining a button to explore data
as defined in the releaseCardConfig`,displayName:"ReleaseCard",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ReleaseCardSchema"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string[]"}},includePortalCardClass:{defaultValue:null,description:"",name:"includePortalCardClass",required:!1,type:{name:"boolean"}},releaseCardConfig:{defaultValue:null,description:"",name:"releaseCardConfig",required:!0,type:{name:"ReleaseCardConfig"}}}}}catch{}class we extends x.Component{constructor(a){super(a);F(this,"handleLinkClick",a=>r=>{r.preventDefault(),window.open(`${$e.PORTAL}Synapse:${a}`,"_blank")});this.handleLinkClick=this.handleLinkClick.bind(this)}render(){const{data:a,schema:r,selectColumns:s,columnModels:o,genericCardSchema:i,queryVisualizationContext:{getColumnDisplayName:l}}=this.props,d=a[r.datasetName],u=a[r.summary],c=Oe({columnName:"tumorType",value:a[r.tumorType],selectColumns:s,columnModels:o}).str,p=Oe({columnName:"diseaseFocus",value:a[r.diseaseFocus],selectColumns:s,columnModels:o}).str,m=a[r.id],g=a[r.fundingAgency],h=a[r.fileCount],y=Na(a[r.fileSize]),v=[{columnDisplayName:"FUNDER",value:Oe({columnName:"fundingAgency",value:g,selectColumns:s,columnModels:o}).str},{columnDisplayName:"SIZE",value:y},{columnDisplayName:"FILES",value:h}];if(i&&i.secondaryLabels){const{secondaryLabels:f}=i;for(let b=0;b<f.length;b++){const N=f[b],S=a[r[N]];let C;S&&(C=l(N),v.push({columnDisplayName:C,value:S,columnName:N}))}}return t.jsxs("div",{className:"SRC-portalCard SRC-typeDataset  ",children:[t.jsxs("div",{className:"SRC-cardThumbnail",children:[t.jsx(Pa,{type:Ta}),t.jsx("div",{children:y})]}),t.jsxs("div",{className:"SRC-cardContent SRC-dataset",children:[t.jsx("div",{className:"SRC-type",children:"Dataset "}),t.jsx("div",{children:t.jsx("h3",{children:t.jsx("a",{target:"_self",href:`${$e.PORTAL}Synapse:${m}`,children:d})})}),t.jsxs("div",{className:"SRC-description-dataset",children:[t.jsx("p",{className:"SRC-description-text",children:u}),t.jsx("div",{className:"SRC-cardAction",children:t.jsx(W,{className:"SRC-datasetButton",onClick:this.handleLinkClick(m),color:"secondary",variant:"contained",children:"Download Dataset"})})]}),t.jsx("div",{className:"SRC-cardAnnotations",children:t.jsx(Fs,{chips:[c,p]})})]}),t.jsx(Es,{isHeader:!1,secondaryLabelLimit:this.props.secondaryLabelLimit,values:v})]})}}try{we.displayName="Dataset",we.__docgenInfo={description:"",displayName:"Dataset",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"TableToGenericCardMapping"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}}}}}catch{}class Mt extends x.Component{constructor(a){super(a);F(this,"handleLinkClick",a=>r=>{r.preventDefault(),window.open(a,"_blank")});this.handleLinkClick=this.handleLinkClick.bind(this)}render(){const{data:a,schema:r}=this.props,s=a[r.organizationName],o=a[r.organizationPath],i=a[r.summary],l=a[r.website],d=a[r.logo];let u=l.replace("https://","");u=u.replace("http://",""),u.charAt(u.length-1)==="/"&&(u=u.substring(0,u.length-1));const c=window.location.hash.substring(1)===o,p={};let m;return c?p.paddingBottom="42px":m=t.jsx("div",{className:"SRC-marginAuto SRC-cardAction",children:t.jsx(nn,{href:o,variant:"contained",color:"secondary",children:"View Funded Research"})}),t.jsxs("div",{className:"SRC-portalCard SRC-typeFunder ",style:p,children:[t.jsxs("div",{className:"SRC-cardContent",children:[t.jsx("div",{className:"SRC-type",children:"Organization"}),d&&t.jsx("div",{className:"SRC-cardThumbnail",children:t.jsx("img",{alt:"funder logo",className:"SRC-logo",src:d})}),t.jsx("div",{children:t.jsxs("h3",{children:[c&&s,!c&&t.jsx("a",{href:o,children:s})]})}),t.jsx("div",{className:"SRC-website",children:t.jsx("a",{rel:"noopener noreferrer",target:"_blank",href:l,children:u})}),t.jsx("div",{className:"SRC-description",children:i})]}),m]})}}try{Mt.displayName="Funder",Mt.__docgenInfo={description:"",displayName:"Funder",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}}}}}catch{}try{we.displayName="Dataset",we.__docgenInfo={description:"",displayName:"Dataset",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"TableToGenericCardMapping"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}}}}}catch{}try{rowrenderers.displayName="rowrenderers",rowrenderers.__docgenInfo={description:"",displayName:"rowrenderers",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}}}}}catch{}function Ot({data:e,schema:n,includePortalCardClass:a=!0}){const r=e[n.observationSubmitterName],s=e[n.synapseId],o=e[n.observationTime],i=e[n.observationTimeUnits],l=e[n.observationText],d=e[n.observationType],u=JSON.parse(d??""),c=e[n.doi];return t.jsxs("div",{className:`ObservationCard ${a?"SRC-portalCard":""}`,children:[t.jsxs("div",{className:"ObservationCard__submitter",children:[!s&&t.jsx("div",{children:r}),s&&t.jsx(zs,{userId:s})]}),o&&t.jsxs("div",{className:"ObservationCard__time",children:[t.jsx(X,{icon:"time"}),t.jsx("span",{children:`${o} ${i}`})]}),l&&t.jsx("div",{className:"ObservationCard__text",children:t.jsx(Os,{summary:l})}),c&&t.jsx("div",{className:"ObservationCard__doi",children:t.jsx(G,{href:c,target:"_blank",children:"Reference"})}),t.jsx("div",{className:"ObservationCard__tags",children:d&&u.map((p,m)=>t.jsx("span",{className:"SRC-tag",style:{marginRight:"5px"},children:p},m))})]})}function wi(){return t.jsxs("div",{className:"SRC-portalCard ObservationCard",children:[t.jsx("div",{className:"ObservationCard__submitter",children:t.jsx("span",{children:t.jsx(E,{width:"100px"})})}),t.jsx("div",{className:"ObservationCard__time",children:t.jsx(X,{icon:"time"})}),t.jsx("div",{className:"ObservationCard__text",children:t.jsx(ms,{numCols:1,numRows:4})}),t.jsx("div",{className:"ObservationCard__tags",children:t.jsx(E,{width:"80px"})})]})}try{Ot.displayName="ObservationCard",Ot.__docgenInfo={description:`Specialized Observation Card, initially implemented for the NF portal.
Expects the following columns: submitterName, submitterUserId, time, timeUnits, text, and tag.`,displayName:"ObservationCard",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ObservationCardSchema"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string[]"}},includePortalCardClass:{defaultValue:{value:"true"},description:"",name:"includePortalCardClass",required:!1,type:{name:"boolean"}}}}}catch{}const qi={display:"block"},ji={display:"grid",gridTemplateColumns:"repeat(auto-fill, 272px)",gridAutoRows:"auto",gridAutoFlow:"row",gap:"10px",mb:"30px"},Pi={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gridColumnGap:"20px",marginBottom:"20px",marginTop:"20px","& .SRC-portalCard":{margin:"10px 0px"}};function Li(e){const{propsToPass:n,type:a}=e;switch(a){case Ta:return t.jsx(we,{...n});case Ur:return t.jsx(Mt,{...n});case Qr:return t.jsx(kt,{...n});case Ue:return t.jsx(Ot,{...n});case _a:return t.jsx(Ie,{...n});default:return t.jsx("div",{})}}function Fi(e){var S;const{unitDescription:n,type:a,secondaryLabelLimit:r=3,title:s,rowSet:o,multiCardList:i,...l}=e,{NoContentPlaceholder:d}=B(),u=k(),{data:c}=ce(),p=B(),m=o.rows,g=m.length>1,h=[o.tableId],y=Yr({ids:h,type:"ENTITY_HEADER"});if(m.length===0)return t.jsx(d,{});const v={};o.headers.forEach((C,T)=>{v[C.name]=T});let f;if(a===wn){const C=o.headers.findIndex(V=>V.columnType===oe.USERID);if(C===-1)throw Error("Type MEDIUM_USER_CARD specified but no columnType USERID found");const T=m.map(V=>V.values[C]);f=t.jsx(Hs,{rowSet:o,list:T,size:wn})}else f=m.length?m.map((C,T)=>{const V={type:a,schema:v,secondaryLabelLimit:r,rowId:C.rowId,versionNumber:C.versionNumber,data:C.values,selectColumns:o.headers,columnModels:c.columnModels,tableEntityConcreteType:y[0]&&y[0].type,tableId:o.tableId,queryContext:u,queryVisualizationContext:p,...l};return t.jsx(Li,{propsToPass:V,type:a},C.rowId??T)}):t.jsx(t.Fragment,{});const b=e.type===_a&&((S=e.releaseCardConfig)==null?void 0:S.cardSize)==="medium";let N=qi;return b?N=ji:i&&g&&(N=Pi),t.jsx(t.Fragment,{children:t.jsxs(_,{role:"list",sx:N,children:[s&&t.jsx("h2",{className:"SRC-card-overview-title",children:s}),!s&&n&&t.jsx(dn,{frontText:"Displaying"}),f]})})}function Bt(e){const n=t.jsxs("div",{children:[e.type===Ue&&t.jsx(wi,{}),e.type!==Ue&&Br]});return t.jsx(x.Suspense,{fallback:n,children:t.jsx(Fi,{...e})})}try{Bt.displayName="CardContainer",Bt.__docgenInfo={description:"",displayName:"CardContainer",props:{}}}catch{}function Ei(){const{showLastUpdatedOn:e}=B(),{data:n}=ce();return e&&n&&n.lastUpdatedOn?t.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:t.jsxs(w,{variant:"body1Italic",children:["Last updated on ",Zt(Se(n.lastUpdatedOn))]})}):t.jsx(t.Fragment,{})}function ki(){const{showLastUpdatedOn:e}=B();return e?t.jsx(x.Suspense,{fallback:t.jsx(E,{width:100}),children:t.jsx(Ei,{})}):t.jsx(t.Fragment,{})}function Je(e){const{progressMessage:n}=e;return t.jsxs(_,{sx:{my:7.5,mx:15},children:[t.jsx($r,{}),n&&t.jsx(w,{variant:"smallText1",sx:{color:"grey.600",fontSize:"10px",textAlign:"center",my:1},children:n})]})}try{Je.displayName="QueryWrapperLoadingScreen",Je.__docgenInfo={description:"",displayName:"QueryWrapperLoadingScreen",props:{progressMessage:{defaultValue:null,description:"",name:"progressMessage",required:!1,type:{name:"string"}}}}}catch{}const Di=()=>{const{goToPage:e,pageSize:n,setPageSize:a,currentPage:r,currentQueryRequest:s}=k(),o=Bs(),{data:{queryCount:i,maxRowsPerPage:l}}=ce(),d=s.query.limit,u=l??n,c=[10,25,100,500];d&&!c.includes(d)&&(c.push(d),c.sort((y,v)=>y-v));const p=c.filter(y=>y<u);p.length==0&&(p.push(u),l&&n>l&&a(l));const m=(y,v)=>{e(v)},g=y=>{const v=y.target.value;a(v)},h=x.useCallback(y=>{const v=x.forwardRef(function(b,N){return t.jsx("button",{ref:N,...b,onMouseOver:()=>{y.page&&o(y.page)}})});return t.jsx(Aa,{...y,component:v})},[o]);return r==1&&i==1&&n!=1||i==null?null:t.jsxs("div",{children:[t.jsx(yo,{page:r,count:Math.ceil(i/n),color:"secondary",onChange:m,shape:"rounded",sx:{display:"inline-block",float:"left",".MuiPaginationItem-root":{fontSize:"14px"}},renderItem:h}),t.jsx(w,{variant:"body1",style:{display:"inline-block"},children:`${i==null?void 0:i.toLocaleString()} total rows /`}),t.jsx(va,{name:"page size",value:n,size:"small",onChange:g,sx:{ml:.5},children:p.map(y=>t.jsxs(ge,{value:y,children:[y," per page"]},y))})]})};function Qt(e){const{hasNextPage:n,fetchNextPage:a,isFetchingNextPage:r,initialLimit:s,initialLimitIsApplied:o,onRemoveInitialLimit:i}=e,{data:{queryCount:l}}=ce();return x.useEffect(()=>{o&&s!=null&&l!=null&&i!=null&&s>=l&&i()},[o,s,l,i]),o||n?t.jsx(_,{sx:{display:"flex",justifyContent:"flex-start"},children:t.jsx(nn,{variant:"contained",color:"secondary",size:"large",onClick:()=>{o&&i!=null?i():a()},disabled:r,children:r?t.jsx(ma,{size:24}):"View More"})}):null}try{Qt.displayName="ViewMoreQueryResultsButton",Qt.__docgenInfo={description:"",displayName:"ViewMoreQueryResultsButton",props:{hasNextPage:{defaultValue:null,description:"",name:"hasNextPage",required:!0,type:{name:"boolean"}},fetchNextPage:{defaultValue:null,description:"",name:"fetchNextPage",required:!0,type:{name:"() => void"}},isFetchingNextPage:{defaultValue:null,description:"",name:"isFetchingNextPage",required:!0,type:{name:"boolean"}},initialLimit:{defaultValue:null,description:"",name:"initialLimit",required:!1,type:{name:"number"}},initialLimitIsApplied:{defaultValue:null,description:"",name:"initialLimitIsApplied",required:!1,type:{name:"boolean"}},onRemoveInitialLimit:{defaultValue:null,description:"",name:"onRemoveInitialLimit",required:!1,type:{name:"() => void"}}}}}catch{}function Ai(){var o;const{isInfinite:e,rowDataInfiniteQueryOptions:n}=k(),a=En({...n,enabled:e}),r=En({...n,select:i=>i.pages[0].progressMessage,enabled:e}),s=x.useMemo(()=>{var l,d,u,c,p;const i=ha((c=(u=(d=(l=a.data)==null?void 0:l.pages[0])==null?void 0:d.responseBody)==null?void 0:u.queryResult)==null?void 0:c.queryResults);return i&&(i.rows=((p=a.data)==null?void 0:p.pages.flatMap(m=>{var g,h;return((h=(g=m.responseBody)==null?void 0:g.queryResult)==null?void 0:h.queryResults.rows)||[]}))||[]),i},[(o=a.data)==null?void 0:o.pages]);return{infiniteQuery:a,infiniteQueryRowSet:s,infiniteQueryProgressMessage:r}}function Mi(){const{isInfinite:e,rowDataQueryOptions:n,getCurrentQueryRequest:a}=k(),r=mt({...n,enabled:!e,placeholderData:o=>{if(o&&zr(o.requestBody.query,a().query))return o}}),s=mt({...n,select:o=>o.progressMessage,enabled:!e,placeholderData:o=>o});return{paginatedQuery:r,paginatedQueryProgressMessage:s}}function Oi(e){const{isInfinite:n}=k(),{paginatedQuery:a,paginatedQueryProgressMessage:r}=Mi(),{infiniteQuery:s,infiniteQueryRowSet:o,infiniteQueryProgressMessage:i}=Ai(),l=x.useMemo(()=>{let p;return n?p=o:p=a.data,p&&e!=null&&(p={...p,rows:p.rows.slice(0,e)}),p},[o,e,n,a.data]),d=n?i.data:r.data,u=n?s.isLoading:a.isLoading,c=n?s.isFetchingNextPage:a.isPlaceholderData;return{rowSet:l,progressMessage:d,isLoading:u,isLoadingNewPage:c,fetchNextPageOfInfiniteData:s.fetchNextPage,hasNextPageOfInfiniteData:s.hasNextPage}}function qe(e){const{cardConfiguration:n,hideDownload:a,initialLimit:r,multiCardList:s}=e,[o,i]=x.useState(r!=null),{isInfinite:l}=k(),d=Js(e.tableConfiguration?{...e.tableConfiguration,hideDownload:a}:void 0),{rowSet:u,progressMessage:c,isLoading:p,isLoadingNewPage:m,fetchNextPageOfInfiniteData:g,hasNextPageOfInfiniteData:h}=Oi(o?r:void 0);return t.jsx(Yt,{children:t.jsxs("div",{className:"RowSetView",children:[p&&t.jsx(Je,{progressMessage:c}),!p&&u&&t.jsxs(x.Suspense,{fallback:t.jsx(Je,{progressMessage:c}),children:[d&&t.jsx(Qs,{...d,rowSet:u,isLoadingNewPage:m}),n&&t.jsx(Bt,{...n,rowSet:u,multiCardList:s})]}),t.jsxs(x.Suspense,{fallback:t.jsx(t.Fragment,{}),children:[!l&&t.jsx(_,{sx:{mt:2,textAlign:"right"},children:t.jsx(Di,{})}),l&&t.jsx(Qt,{initialLimit:r,initialLimitIsApplied:o,onRemoveInitialLimit:()=>{i(!1)},fetchNextPage:()=>{g()},hasNextPage:h,isFetchingNextPage:m})]}),t.jsx(ki,{})]})})}try{qe.displayName="RowSetView",qe.__docgenInfo={description:`Renders a table or cards representing the RowSet. Also displays appropriate pagination controls
depending on the value of QueryContext.isInfinite.`,displayName:"RowSetView",props:{tableConfiguration:{defaultValue:null,description:"",name:"tableConfiguration",required:!1,type:{name:"SynapseTableConfiguration"}},cardConfiguration:{defaultValue:null,description:"",name:"cardConfiguration",required:!1,type:{name:"CardConfiguration"}},initialLimit:{defaultValue:null,description:"",name:"initialLimit",required:!1,type:{name:"number"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}},multiCardList:{defaultValue:null,description:"",name:"multiCardList",required:!1,type:{name:"boolean"}}}}}catch{}function Ut(e){var c;const{sql:n}=e,a=((c=e.query)==null?void 0:c.sql)??n??"",r=de(a),{sortConfig:s,columnAliases:o,topLevelEnumeratedFacetToFilter:i}=e,l=x.useMemo(()=>s?[{column:s.defaultColumn,direction:s.defaultDirection}]:void 0,[s]),d=x.useMemo(()=>{let p;if(e.query)p={sort:l,limit:Qe,...e.query};else{const m=Ze(e.searchParams,e.sqlOperator,e.additionalFiltersSessionStorageKey);p={sql:e.sql,limit:e.limit??Qe,sort:l,additionalFilters:m}}return{concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:r,query:p,partMask:Z|Xe|Pe|ba|Kt|Jt|Sa|Xt}},[l,r,e.additionalFiltersSessionStorageKey,e.limit,e.query,e.searchParams,e.sql,e.sqlOperator]),u=JSON.stringify(d);return x.createElement(en,{...e,initQueryRequest:d,isInfinite:!0,key:u},t.jsx(tn,{rgbIndex:e.rgbIndex,unitDescription:e.unitDescription,columnAliases:o,noContentPlaceholderType:e.noContentPlaceholderType??ze.STATIC,children:t.jsxs(Va,{children:[s&&t.jsx(gt,{sortConfig:s}),i&&t.jsx(ft,{topLevelEnumeratedFacetToFilter:i}),t.jsx(qe,{cardConfiguration:e.cardConfiguration,initialLimit:e.initialLimit,multiCardList:e.multiCardList})]})}))}try{Ut.displayName="CardContainerLogic",Ut.__docgenInfo={description:"Class wraps around CardContainer and serves as a standalone logic container for rendering cards.",displayName:"CardContainerLogic",props:{query:{defaultValue:null,description:"The initial SQL query which will be used to populate the data in the component",name:"query",required:!1,type:{name:"Query"}},sql:{defaultValue:null,description:"@deprecated use `query`",name:"sql",required:!1,type:{name:"string"}},limit:{defaultValue:null,description:"Optional limit for the number of cards shown per page\n@deprecated use `query",name:"limit",required:!1,type:{name:"number"}},searchParams:{defaultValue:null,description:"Applies filters to the query where the key is the column name and the value is the value to filter on.\nThe filter function is controlled by sqlOperator.\n@deprecated use `query`",name:"searchParams",required:!1,type:{name:"Record<string, string>"}},sqlOperator:{defaultValue:null,description:"Operator used in the filter created using the searchParams prop\n@deprecated use `query`",name:"sqlOperator",required:!1,type:{name:"SQLOperator"}},title:{defaultValue:null,description:"Optional title to display above the component",name:"title",required:!1,type:{name:"string"}},isAlignToLeftNav:{defaultValue:null,description:"",name:"isAlignToLeftNav",required:!1,type:{name:"boolean"}},sortConfig:{defaultValue:null,description:"Provide a `SortConfiguration` that can be used to render UI to toggle the sorting of the cards.",name:"sortConfig",required:!1,type:{name:"SortConfiguration"}},topLevelEnumeratedFacetToFilter:{defaultValue:null,description:"Configuration used to render UI that can be used to alter a filter against a column with enumerated facets.",name:"topLevelEnumeratedFacetToFilter",required:!1,type:{name:"UniqueFacetIdentifier"}},lockedColumn:{defaultValue:null,description:"Optional column to 'lock'; Values and filter controls for a locked column will not be displayed in the UI.",name:"lockedColumn",required:!1,type:{name:"LockedColumn"}},initialLimit:{defaultValue:null,description:"Optionally limit the initial number of cards shown on the first page",name:"initialLimit",required:!1,type:{name:"number"}},multiCardList:{defaultValue:null,description:"",name:"multiCardList",required:!1,type:{name:"boolean"}},cardConfiguration:{defaultValue:null,description:"",name:"cardConfiguration",required:!0,type:{name:"CardConfiguration"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},columnAliases:{defaultValue:null,description:"Mapping from column name to the name that should be shown for the column",name:"columnAliases",required:!1,type:{name:"Record<string, string>"}},noContentPlaceholderType:{defaultValue:null,description:"Default is INTERACTIVE",name:"noContentPlaceholderType",required:!1,type:{name:"enum",value:[{value:'"INTERACTIVE"'},{value:'"STATIC"'},{value:'"HIDDEN"'}]}},unitDescription:{defaultValue:null,description:'The singular word to use to describe a what a row represents (e.g. "file"). Defaults to "result"',name:"unitDescription",required:!1,type:{name:"string"}},additionalFiltersSessionStorageKey:{defaultValue:null,description:`Look for additional filters using the given key.  If not provided, the entity ID will be used.
@deprecated - configure the filter before passing a query`,name:"additionalFiltersSessionStorageKey",required:!1,type:{name:"string"}}}}}catch{}export{Ut as C,Et as E,Qn as Q,Un as S,zn as T};
