import{i as r,n as m,S as i,l as y}from"./SynapseClient-CZkcD3lR.js";import{u as o}from"./useMutation-BNmtMIak.js";import{u as S}from"./useInfiniteQuery-DKviEAGD.js";import"./RegularExpressions-RV1YxBM7.js";import"./OrientationBanner-BKoSQ39U.js";import"./index-Cu9bd8lq.js";import"./jsx-runtime-DoxjgJx5.js";function K(s,t){const{accessToken:u,keyFactory:a}=r();return m({...t,queryKey:a.getDataAccessSubmissionQueryKey(String(s.toString())),queryFn:()=>i.getSubmissionById(s,u)})}function k(s,t){const{accessToken:u,keyFactory:a}=r();return S({...t,queryKey:a.searchDataAccessSubmissionQueryKey(s),queryFn:async e=>await i.searchAccessSubmission({...s,nextPageToken:e.pageParam},u),initialPageParam:void 0,getNextPageParam:e=>e.nextPageToken})}function D(s){const t=y(),{accessToken:u,keyFactory:a}=r();return o({...s,mutationFn:e=>i.updateSubmissionStatus(e,u),onSuccess:async(e,c,n)=>{await t.invalidateQueries({queryKey:a.searchDataAccessSubmissionQueryKey()}),t.setQueryData(a.getDataAccessSubmissionQueryKey(c.submissionId),e)}})}function p(s){const t=y(),{accessToken:u,keyFactory:a}=r();return o({...s,mutationFn:async({request:e,accessRequirementId:c})=>{if(e.subjectId==null||e.subjectType==null){const{subjects:n}=await i.getSubjects(u,c);e.subjectId=n[0].id,e.subjectType=n[0].type}return i.submitDataAccessRequest(e,u)},onSuccess:async(e,c,n)=>{await t.invalidateQueries({queryKey:a.getAccessRequirementStatusQueryKey(c.accessRequirementId)}),await t.invalidateQueries({queryKey:a.searchDataAccessSubmissionQueryKey()}),s!=null&&s.onSuccess&&await s.onSuccess(e,c,n)}})}export{K as a,k as b,p as c,D as u};
