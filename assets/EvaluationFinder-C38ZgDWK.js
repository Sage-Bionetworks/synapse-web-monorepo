import{j as r}from"./jsx-runtime-CmUBiTSS.js";import{l as E,S as y}from"./useFiles-CvqXu3qP.js";import"./VerificationSubmission-B0kBNeMy.js";import"./StringUtils-CzgJJW-6.js";import"./OrientationBanner-2QI37Wfz.js";import{r as h}from"./index-B2mmVxOD.js";import{u as v}from"./useQuery-Bx5eY2jj.js";import{u as T}from"./utils-DKTCckgQ.js";import{u as N}from"./useInfiniteQuery-B4bJWy3s.js";import{g as A}from"./InfiniteQueryUtils-CKlRW-xB.js";import{H as C}from"./HelpPopover-DImnpYDn.js";import{L as _}from"./LinearProgress-BuIr2c9G.js";import{A as M}from"./Alert-B-cn8V0o.js";import{F}from"./FormControl-Abq2e-PT.js";import{F as j}from"./FormGroup-Dbdq7ZxL.js";import{F as O}from"./FormControlLabel-Bu0CfH4v.js";import{B as m}from"./Box-B5_L4GWb.js";import{C as D}from"./Checkbox-DxS6AUFb.js";import{B as p}from"./Button-MnbgKpIJ.js";function re(t,o){const{accessToken:u,keyFactory:s}=E();return v({...o,queryKey:s.getEvaluationByIdQueryKey(t),queryFn:()=>y.getEvaluation(t,u)})}function B(t={},o){const{accessToken:s,keyFactory:i}=E(),n=T();return N({...o,queryKey:i.getEvaluationsQueryKey(t),queryFn:async l=>{const a=await y.getEvaluations({...t,limit:20,offset:l.pageParam},s);return a.results.forEach(c=>{n.setQueryData(i.getEvaluationByIdQueryKey(c.id),c)}),a},initialPageParam:void 0,getNextPageParam:A})}function g(t){var d;const{accessType:o,activeOnly:u,selectedIds:s=[],onChange:i}=t,[n,l]=h.useState(0),{data:a,isLoading:c,hasNextPage:f,fetchNextPage:I,isFetchingNextPage:x}=B({accessType:o,activeOnly:u},{placeholderData:e=>e,throwOnError:!0});if(c)return r.jsx(_,{});if(!(a!=null&&a.pages))return r.jsx(M,{severity:"error",children:"An unexpected error occurred and evaluations could not be loaded"});const P=a.pages.length-1>n||f&&!x;return r.jsxs(r.Fragment,{children:[r.jsx(F,{children:r.jsx(j,{sx:{gap:1},children:(d=a.pages[n])==null?void 0:d.results.map(e=>r.jsx(O,{control:r.jsx(D,{inputProps:{"aria-label":e.name}}),label:r.jsxs(m,{display:"flex",alignItems:"center",gap:1,children:[e.name,e.submissionInstructionsMessage&&e.submissionInstructionsMessage.length>0&&r.jsx(m,{fontSize:"10px",children:r.jsx(C,{markdownText:e.submissionInstructionsMessage,placement:"right"})})]}),checked:s.includes(e.id),onChange:()=>{s.includes(e.id)?i(s.filter(S=>S!==e.id)):i([...s,e.id])}},e.id))})}),r.jsxs(m,{display:"flex",my:2,gap:1,children:[n>0&&r.jsx(p,{variant:"outlined",onClick:()=>l(e=>e-1),children:"Previous Page"}),r.jsx(p,{variant:"outlined",disabled:!P,onClick:()=>{a.pages[n+1]?l(e=>e+1):I().then(()=>l(e=>e+1)).catch(()=>{console.error("Error fetching next page of evaluations")})},children:"Next Page"})]})]})}try{g.displayName="EvaluationFinder",g.__docgenInfo={description:"",displayName:"EvaluationFinder",props:{accessType:{defaultValue:null,description:"",name:"accessType",required:!1,type:{name:"enum",value:[{value:'"CREATE"'},{value:'"READ"'},{value:'"UPDATE"'},{value:'"DELETE"'},{value:'"CHANGE_PERMISSIONS"'},{value:'"DOWNLOAD"'},{value:'"UPLOAD"'},{value:'"PARTICIPATE"'},{value:'"SUBMIT"'},{value:'"READ_PRIVATE_SUBMISSION"'},{value:'"UPDATE_SUBMISSION"'},{value:'"DELETE_SUBMISSION"'},{value:'"TEAM_MEMBERSHIP_UPDATE"'},{value:'"SEND_MESSAGE"'},{value:'"CHANGE_SETTINGS"'},{value:'"MODERATE"'},{value:'"REVIEW_SUBMISSIONS"'},{value:'"EXEMPTION_ELIGIBLE"'}]}},activeOnly:{defaultValue:null,description:"",name:"activeOnly",required:!1,type:{name:"boolean"}},selectedIds:{defaultValue:null,description:"",name:"selectedIds",required:!0,type:{name:"string[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(newSelectedIds: string[]) => void"}}}}}catch{}export{g as E,re as u};
