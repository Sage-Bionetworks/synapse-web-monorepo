import{u as y}from"./useQuery-BEUP4ZKU.js";import{u as i}from"./utils-BECe8vEQ.js";import{u as n}from"./useMutation-BUHlmdy0.js";import{l as c,S as a}from"./useFiles-jZdkZjGe.js";import"./RegularExpressions-B4RNwTAQ.js";import{g as l}from"./QueryFilterUtils-BX7oYQMd.js";function f(e){const{accessToken:t}=c();return n({...e,mutationFn:()=>a.start2FAEnrollment(t)})}function w(e){const{accessToken:t,keyFactory:r}=c(),u=i();return n({...e,onSuccess:async(...s)=>{e!=null&&e.onSuccess&&e.onSuccess(...s),await Promise.all([u.invalidateQueries({queryKey:r.getTwoFactorAuthStatusQueryKey()}),u.invalidateQueries({queryKey:r.getAllAccessRequirementStatusesQueryKey()}),...l(r).map(o=>u.invalidateQueries(o))])},mutationFn:s=>a.complete2FAEnrollment(s,t)})}function q(e){const{accessToken:t,keyFactory:r}=c(),u=i();return n({...e,onSuccess:async(...s)=>(e!=null&&e.onSuccess&&e.onSuccess(...s),Promise.all([u.invalidateQueries({queryKey:r.getTwoFactorAuthStatusQueryKey()}),u.invalidateQueries({queryKey:r.getAllAccessRequirementStatusesQueryKey()}),...l(r).map(o=>u.invalidateQueries(o))])),mutationFn:()=>a.disableTwoFactorAuthForCurrentUser(t)})}function K(e){const{accessToken:t,keyFactory:r}=c();return y({queryKey:r.getTwoFactorAuthStatusQueryKey(),queryFn:()=>a.getCurrentUserTwoFactorEnrollmentStatus(t),...e})}function d(e){return n({...e,mutationFn:t=>a.resetTwoFactorAuth(t)})}export{q as a,d as b,f as c,w as d,K as u};
