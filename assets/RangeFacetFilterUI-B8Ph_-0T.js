import{r as f,cJ as M,j as o,aJ as X,aK as K,aU as L,ci as c,aO as $,aP as Z,X as ee,is as w,dJ as T,V as v,c0 as O,B as ae,Y as oe,f5 as te,cb as le}from"./iframe-eAL3LCN3.js";import{a2 as ne,f as se,g as S,h as re,P as ie,C as ue,u as k,j as ce,e as de,m as pe,t as j,p as me,a3 as fe,y as be,O as h,Q as U,R as ye,v as Y,s as B,U as G,Y as Te,$ as De,a0 as _,a1 as V}from"./useMobilePicker-Ds7fm33O.js";import{u as he}from"./index-Dfyq_HAj.js";import{P as e}from"./index-C-_p9hnQ.js";import{R as xe}from"./RangeSlider-jqgqqvvJ.js";import{F as ge}from"./FacetFilterHeader-DyaOxnPG.js";import{R as ve}from"./RadioGroup-BuGo_EUf.js";import{F as Pe}from"./FormControlLabel-CMRXKWRo.js";import{R as Re}from"./Radio-BZhrVxO-.js";const Oe=t=>{const i=ne(t);return se({manager:i,props:t})},Ie=["slots","slotProps"],q=f.forwardRef(function(i,n){const r=S({props:i,name:"MuiDateField"}),{slots:a,slotProps:s}=r,m=M(r,Ie),p=re({slotProps:s,ref:n,externalForwardedProps:m}),l=Oe(p);return o.jsx(ie,{slots:a,slotProps:s,fieldResponse:l,defaultOpenPickerIcon:ue})});function Se(t){return X("MuiDatePickerToolbar",t)}K("MuiDatePickerToolbar",["root","title"]);const Ee=["toolbarFormat","toolbarPlaceholder","className","classes"],Ne=t=>Z({root:["root"],title:["title"]},Se,t),Me=L(me,{name:"MuiDatePickerToolbar",slot:"Root"})({}),ke=L(ee,{name:"MuiDatePickerToolbar",slot:"Title"})({variants:[{props:{pickerOrientation:"landscape"},style:{margin:"auto 16px auto auto"}}]}),je=f.forwardRef(function(i,n){const r=S({props:i,name:"MuiDatePickerToolbar"}),{toolbarFormat:a,toolbarPlaceholder:s="––",className:m,classes:p}=r,l=M(r,Ee),d=k(),{value:u,views:b,orientation:x}=ce(),g=de(),E=pe(),D=Ne(p),P=f.useMemo(()=>{if(!d.isValid(u))return s;const R=j(d,{format:a,views:b},!0);return d.formatByString(u,R)},[u,a,s,d,b]);return o.jsx(Me,c({ref:n,toolbarTitle:g.datePickerToolbarTitle,className:$(D.root,m)},l,{children:o.jsx(ke,{variant:"h4",align:x==="landscape"?"left":"center",ownerState:E,className:D.title,children:P})}))});function W(t,i){const n=S({props:t,name:i}),r=fe(n),a=f.useMemo(()=>{var s;return((s=n.localeText)==null?void 0:s.toolbarTitle)==null?n.localeText:c({},n.localeText,{datePickerToolbarTitle:n.localeText.toolbarTitle})},[n.localeText]);return c({},n,r,{localeText:a},be({views:n.views,openTo:n.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{slots:c({toolbar:je},n.slots)})}const z=f.forwardRef(function(i,n){var l;const r=k(),a=W(i,"MuiDesktopDatePicker"),s=c({day:h,month:h,year:h},a.viewRenderers),m=c({},a,{closeOnSelect:a.closeOnSelect??!0,viewRenderers:s,format:j(r,a,!1),yearsPerRow:a.yearsPerRow??4,slots:c({field:q},a.slots),slotProps:c({},a.slotProps,{field:d=>{var u;return c({},w((u=a.slotProps)==null?void 0:u.field,d),U(a))},toolbar:c({hidden:!0},(l=a.slotProps)==null?void 0:l.toolbar)})}),{renderPicker:p}=ye({ref:n,props:m,valueManager:B,valueType:"date",validator:Y,steps:null});return p()});z.propTypes={autoFocus:e.bool,className:e.string,closeOnSelect:e.bool,dayOfWeekFormatter:e.func,defaultValue:e.object,disabled:e.bool,disableFuture:e.bool,disableHighlightToday:e.bool,disableOpenPicker:e.bool,disablePast:e.bool,displayWeekNumber:e.bool,enableAccessibleFieldDOMStructure:e.any,fixedWeekNumber:e.number,format:e.string,formatDensity:e.oneOf(["dense","spacious"]),inputRef:G,label:e.node,loading:e.bool,localeText:e.object,maxDate:e.object,minDate:e.object,monthsPerRow:e.oneOf([3,4]),name:e.string,onAccept:e.func,onChange:e.func,onClose:e.func,onError:e.func,onMonthChange:e.func,onOpen:e.func,onSelectedSectionsChange:e.func,onViewChange:e.func,onYearChange:e.func,open:e.bool,openTo:e.oneOf(["day","month","year"]),orientation:e.oneOf(["landscape","portrait"]),readOnly:e.bool,reduceAnimations:e.bool,referenceDate:e.object,renderLoading:e.func,selectedSections:e.oneOfType([e.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),e.number]),shouldDisableDate:e.func,shouldDisableMonth:e.func,shouldDisableYear:e.func,showDaysOutsideCurrentMonth:e.bool,slotProps:e.object,slots:e.object,sx:e.oneOfType([e.arrayOf(e.oneOfType([e.func,e.object,e.bool])),e.func,e.object]),timezone:e.string,value:e.object,view:e.oneOf(["day","month","year"]),viewRenderers:e.shape({day:e.func,month:e.func,year:e.func}),views:e.arrayOf(e.oneOf(["day","month","year"]).isRequired),yearsOrder:e.oneOf(["asc","desc"]),yearsPerRow:e.oneOf([3,4])};const H=f.forwardRef(function(i,n){var l;const r=k(),a=W(i,"MuiMobileDatePicker"),s=c({day:h,month:h,year:h},a.viewRenderers),m=c({},a,{viewRenderers:s,format:j(r,a,!1),slots:c({field:q},a.slots),slotProps:c({},a.slotProps,{field:d=>{var u;return c({},w((u=a.slotProps)==null?void 0:u.field,d),U(a))},toolbar:c({hidden:!1},(l=a.slotProps)==null?void 0:l.toolbar)})}),{renderPicker:p}=Te({ref:n,props:m,valueManager:B,valueType:"date",validator:Y,steps:null});return p()});H.propTypes={autoFocus:e.bool,className:e.string,closeOnSelect:e.bool,dayOfWeekFormatter:e.func,defaultValue:e.object,disabled:e.bool,disableFuture:e.bool,disableHighlightToday:e.bool,disableOpenPicker:e.bool,disablePast:e.bool,displayWeekNumber:e.bool,enableAccessibleFieldDOMStructure:e.any,fixedWeekNumber:e.number,format:e.string,formatDensity:e.oneOf(["dense","spacious"]),inputRef:G,label:e.node,loading:e.bool,localeText:e.object,maxDate:e.object,minDate:e.object,monthsPerRow:e.oneOf([3,4]),name:e.string,onAccept:e.func,onChange:e.func,onClose:e.func,onError:e.func,onMonthChange:e.func,onOpen:e.func,onSelectedSectionsChange:e.func,onViewChange:e.func,onYearChange:e.func,open:e.bool,openTo:e.oneOf(["day","month","year"]),orientation:e.oneOf(["landscape","portrait"]),readOnly:e.bool,reduceAnimations:e.bool,referenceDate:e.object,renderLoading:e.func,selectedSections:e.oneOfType([e.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),e.number]),shouldDisableDate:e.func,shouldDisableMonth:e.func,shouldDisableYear:e.func,showDaysOutsideCurrentMonth:e.bool,slotProps:e.object,slots:e.object,sx:e.oneOfType([e.arrayOf(e.oneOfType([e.func,e.object,e.bool])),e.func,e.object]),timezone:e.string,value:e.object,view:e.oneOf(["day","month","year"]),viewRenderers:e.shape({day:e.func,month:e.func,year:e.func}),views:e.arrayOf(e.oneOf(["day","month","year"]).isRequired),yearsOrder:e.oneOf(["asc","desc"]),yearsPerRow:e.oneOf([3,4])};const Fe=["desktopModeMediaQuery"],A=f.forwardRef(function(i,n){const r=S({props:i,name:"MuiDatePicker"}),{desktopModeMediaQuery:a=De}=r,s=M(r,Fe);return he(a,{defaultMatches:!0})?o.jsx(z,c({ref:n},s)):o.jsx(H,c({ref:n},s))});function I(t){const i="Min value should be less than max value",[n,r]=f.useState(!1),[a,s]=f.useState(()=>t.type==="number"&&t.initialValues?t.initialValues:t.initialValues&&{min:T(t.initialValues.min).format("YYYY-MM-DD"),max:T(t.initialValues.max).format("YYYY-MM-DD")}||{min:void 0,max:void 0}),m=({min:l,max:d},u="number")=>{if(l==null||d===null||d===void 0)return r(!1),!0;if(u==="number"){if(Number(l)>Number(d))return r(!0),!1}else if(Date.parse(l)>Date.parse(d))return r(!0),!1;return r(!1),!0},p=(l,d,u="number")=>{m(l,u)&&d(l)};return o.jsxs(v,{sx:{display:"flex",flexWrap:"wrap",flex:"1 0",marginRight:"10px",gap:"10px","& .MuiInputBase-root":{minWidth:"150px"},"& .MuiInputBase-root,.MuiButton-root":{height:"38px"},"& .MuiInputLabel-root":{color:"grey.700",fontWeight:400}},children:[t.type==="date"?o.jsxs(o.Fragment,{children:[o.jsx(v,{children:o.jsx(_,{dateAdapter:V,children:o.jsx(A,{enableAccessibleFieldDOMStructure:!1,label:"From",slots:{textField:O},slotProps:{textField:{inputProps:{"aria-label":"min"}}},value:a.min?T(a.min):null,onChange:l=>s({min:l?T(l).format("YYYY-MM-DD"):void 0,max:a.max})})})},"range_min"),o.jsx(v,{children:o.jsx(_,{dateAdapter:V,children:o.jsx(A,{enableAccessibleFieldDOMStructure:!1,label:"To",slots:{textField:O},slotProps:{textField:{inputProps:{"aria-label":"max"}}},value:a.max?T(a.max):null,onChange:l=>s({max:l?T(l).format("YYYY-MM-DD"):void 0,min:a.min})})})},"range_max")]}):o.jsxs(o.Fragment,{children:[o.jsx(v,{children:o.jsx(O,{label:"From",type:"number",value:a.min??"",onChange:l=>s({min:l.target.value,max:a.max}),slotProps:{htmlInput:{"aria-label":"min"}}})},"range_min"),o.jsx(v,{children:o.jsx(O,{label:"To",type:"number",value:a.max??"",onChange:l=>s({max:l.target.value,min:a.min}),slotProps:{htmlInput:{"aria-label":"max"}}})},"range_max")]}),o.jsx(ae,{size:"small",variant:"outlined",onClick:()=>p(a,t.onApplyClicked,t.type),sx:{alignSelf:"flex-end",fontSize:16},children:"Apply"}),n&&o.jsx("div",{className:"SRC-danger-color",children:t.errorText||i})]})}try{I.displayName="Range",I.__docgenInfo={description:"",displayName:"Range",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"number"'},{value:'"date"'}]}},initialValues:{defaultValue:null,description:"",name:"initialValues",required:!1,type:{name:"RangeValues<string | number>"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},errorText:{defaultValue:null,description:"",name:"errorText",required:!1,type:{name:"string"}},onApplyClicked:{defaultValue:null,description:"",name:"onApplyClicked",required:!0,type:{name:"(newValues: RangeValues<string | number>) => void"}}}}}catch{}const _e=[{label:te,value:"org.sagebionetworks.UNDEFINED_NULL_NOTSET"},{label:"Any",value:""},{label:"Range",value:"RANGE"}],Ve=(t,i)=>i?"":t===le?"org.sagebionetworks.UNDEFINED_NULL_NOTSET":"RANGE";function C(t){const{label:i,facetResult:n,hideCollapsible:r=!1,columnType:a,onAnySelected:s,onNotSetSelected:m,onRangeValueSelected:p}=t,[l,d]=f.useState(!1),{columnMin:u,columnMax:b,selectedMin:x,selectedMax:g}=n,E=!x&&!g,D=x||u,P=g||b,R=a==="DOUBLE"?"number":"date",J=y=>{switch(Q(y),y){case"RANGE":break;case"org.sagebionetworks.UNDEFINED_NULL_NOTSET":m();break;case"":{s();break}}},[F,Q]=f.useState(Ve(D,E));return o.jsxs("div",{children:[o.jsx(ge,{isCollapsed:l,label:i,onClick:y=>d(y),hideCollapsible:r}),o.jsxs(oe,{in:!l,children:[o.jsx(ve,{value:F,onChange:(y,N)=>J(N),children:_e.map(({value:y,label:N})=>o.jsx(Pe,{control:o.jsx(Re,{}),label:N,value:y},y))}),F==="RANGE"&&(u===b?o.jsx("label",{children:b}):o.jsxs(o.Fragment,{children:[a==="INTEGER"&&o.jsx(xe,{domain:[u,b],initialValues:{min:parseInt(D),max:parseInt(P)},step:1,onApplyClicked:p,children:">"},"RangeSlider"),a==="DATE"&&o.jsx(I,{initialValues:{min:x??T(parseInt(u)).toString(),max:g??T(parseInt(b)).toString()},type:R,onApplyClicked:p},"Range"),a==="DOUBLE"&&o.jsx(I,{initialValues:{min:parseFloat(D),max:parseFloat(P)},type:R,onApplyClicked:p},"Range")]}))]})]})}try{C.displayName="RangeFacetFilterUI",C.__docgenInfo={description:"",displayName:"RangeFacetFilterUI",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},facetResult:{defaultValue:null,description:"",name:"facetResult",required:!0,type:{name:'Pick<FacetColumnResultRange, "columnMin" | "columnMax" | "selectedMin" | "selectedMax">'}},columnType:{defaultValue:null,description:"",name:"columnType",required:!0,type:{name:"enum",value:[{value:'"STRING"'},{value:'"DOUBLE"'},{value:'"BOOLEAN"'},{value:'"INTEGER"'},{value:'"DATE"'},{value:'"FILEHANDLEID"'},{value:'"ENTITYID"'},{value:'"LINK"'},{value:'"MEDIUMTEXT"'},{value:'"LARGETEXT"'},{value:'"USERID"'},{value:'"STRING_LIST"'},{value:'"INTEGER_LIST"'},{value:'"BOOLEAN_LIST"'},{value:'"DATE_LIST"'},{value:'"USERID_LIST"'},{value:'"ENTITYID_LIST"'},{value:'"EVALUATIONID"'},{value:'"SUBMISSIONID"'},{value:'"JSON"'},{value:'"STRING"'},{value:'"DOUBLE"'},{value:'"BOOLEAN"'},{value:'"INTEGER"'},{value:'"DATE"'},{value:'"FILEHANDLEID"'},{value:'"ENTITYID"'},{value:'"LINK"'},{value:'"MEDIUMTEXT"'},{value:'"LARGETEXT"'},{value:'"USERID"'},{value:'"STRING_LIST"'},{value:'"INTEGER_LIST"'},{value:'"BOOLEAN_LIST"'},{value:'"DATE_LIST"'},{value:'"USERID_LIST"'},{value:'"ENTITYID_LIST"'},{value:'"EVALUATIONID"'},{value:'"SUBMISSIONID"'},{value:'"JSON"'}]}},hideCollapsible:{defaultValue:null,description:"",name:"hideCollapsible",required:!1,type:{name:"boolean"}},onRangeValueSelected:{defaultValue:null,description:"",name:"onRangeValueSelected",required:!0,type:{name:"(values: RangeValues) => void"}},onNotSetSelected:{defaultValue:null,description:"",name:"onNotSetSelected",required:!0,type:{name:"() => void"}},onAnySelected:{defaultValue:null,description:"",name:"onAnySelected",required:!0,type:{name:"() => void"}}}}}catch{}export{C as R};
