import{_ as v}from"./extends-98964cd2.js";import{_ as B}from"./objectWithoutPropertiesLoose-4f48578a.js";import{r as a}from"./index-8db94870.js";import{g as so,e as ao,s as q,f as lo,i as G,j as co}from"./styled-8ebe2b7d.js";import{j as b}from"./jsx-runtime-095bf462.js";import{M as fo}from"./Modal-b5857980.js";import{P as po}from"./Paper-ca64eb44.js";import{G as uo}from"./Tooltip-fcb4b0de.js";import{u as ho}from"./useForkRef-2674f3de.js";import{o as I}from"./ownerDocument-613eb639.js";import{o as F,d as mo}from"./ownerWindow-698471fc.js";function go(t){return so("MuiPopover",t)}ao("MuiPopover",["root","paper"]);const Po=["onEntering"],vo=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function V(t,o){let i=0;return typeof o=="number"?i=o:o==="center"?i=t.height/2:o==="bottom"&&(i=t.height),i}function X(t,o){let i=0;return typeof o=="number"?i=o:o==="center"?i=t.width/2:o==="right"&&(i=t.width),i}function Y(t){return[t.horizontal,t.vertical].map(o=>typeof o=="number"?`${o}px`:o).join(" ")}function O(t){return typeof t=="function"?t():t}const yo=t=>{const{classes:o}=t;return co({root:["root"],paper:["paper"]},go,o)},wo=q(fo,{name:"MuiPopover",slot:"Root",overridesResolver:(t,o)=>o.root})({}),xo=q(po,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,o)=>o.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Eo=a.forwardRef(function(o,i){const y=lo({props:o,name:"MuiPopover"}),{action:J,anchorEl:l,anchorOrigin:d={vertical:"top",horizontal:"left"},anchorPosition:R,anchorReference:m="anchorEl",children:K,className:Q,container:Z,elevation:C=8,marginThreshold:c=16,open:f,PaperProps:g={},transformOrigin:P={vertical:"top",horizontal:"left"},TransitionComponent:w=uo,transitionDuration:x="auto",TransitionProps:{onEntering:z}={}}=y,M=B(y.TransitionProps,Po),oo=B(y,vo),E=a.useRef(),eo=ho(E,g.ref),T=v({},y,{anchorOrigin:d,anchorReference:m,elevation:C,marginThreshold:c,PaperProps:g,transformOrigin:P,TransitionComponent:w,transitionDuration:x,TransitionProps:M}),W=yo(T),S=a.useCallback(()=>{if(m==="anchorPosition")return R;const e=O(l),r=(e&&e.nodeType===1?e:I(E.current).body).getBoundingClientRect();return{top:r.top+V(r,d.vertical),left:r.left+X(r,d.horizontal)}},[l,d.horizontal,d.vertical,R,m]),k=a.useCallback(e=>({vertical:V(e,P.vertical),horizontal:X(e,P.horizontal)}),[P.horizontal,P.vertical]),D=a.useCallback(e=>{const n={width:e.offsetWidth,height:e.offsetHeight},r=k(n);if(m==="none")return{top:null,left:null,transformOrigin:Y(r)};const H=S();let u=H.top-r.vertical,h=H.left-r.horizontal;const N=u+n.height,A=h+n.width,L=F(O(l)),U=L.innerHeight-c,$=L.innerWidth-c;if(u<c){const s=u-c;u-=s,r.vertical+=s}else if(N>U){const s=N-U;u-=s,r.vertical+=s}if(h<c){const s=h-c;h-=s,r.horizontal+=s}else if(A>$){const s=A-$;h-=s,r.horizontal+=s}return{top:`${Math.round(u)}px`,left:`${Math.round(h)}px`,transformOrigin:Y(r)}},[l,m,S,k,c]),[to,_]=a.useState(f),p=a.useCallback(()=>{const e=E.current;if(!e)return;const n=D(e);n.top!==null&&(e.style.top=n.top),n.left!==null&&(e.style.left=n.left),e.style.transformOrigin=n.transformOrigin,_(!0)},[D]),no=(e,n)=>{z&&z(e,n),p()},ro=()=>{_(!1)};a.useEffect(()=>{f&&p()}),a.useImperativeHandle(J,()=>f?{updatePosition:()=>{p()}}:null,[f,p]),a.useEffect(()=>{if(!f)return;const e=mo(()=>{p()}),n=F(l);return n.addEventListener("resize",e),()=>{e.clear(),n.removeEventListener("resize",e)}},[l,f,p]);let j=x;x==="auto"&&!w.muiSupportAuto&&(j=void 0);const io=Z||(l?I(O(l)).body:void 0);return b(wo,v({BackdropProps:{invisible:!0},className:G(W.root,Q),container:io,open:f,ref:i,ownerState:T},oo,{children:b(w,v({appear:!0,in:f,onEntering:no,onExited:ro,timeout:j},M,{children:b(xo,v({elevation:C},g,{ref:eo,className:G(W.paper,g.className)},to?void 0:{style:v({},g.style,{opacity:0})},{ownerState:T,children:K}))}))}))}),_o=Eo;export{_o as P};
//# sourceMappingURL=Popover-2e5533ef.js.map
