import{l as d}from"./index-3e3ec4b8.js";import{aG as R,aH as p,aI as T,aJ as P,aK as M,aL as O,aM as D,aN as y,aO as U}from"./ApplicationSessionManager-cde90ea0.js";import{g as k,B as q}from"./getEndpoint-ac94413e.js";import{T as I}from"./index-41d58426.js";import{b as C}from"./mockEntity-3b348bcf.js";import{M as u,b as c,e as B,f as v,g as $,m,h as l,c as L}from"./mock_user_profile-cefba5e4.js";import{n as N,l as g,m as h}from"./SynapseConstants-47358250.js";import{u as j}from"./uniqueId-4d05949d.js";const H=987654,G=987655,w=987656,Z=987657,J=987658,K=987659,E={id:String(H),name:"Mock Team",description:"A team that already has super cool fake users",icon:"",canPublicJoin:!0,canRequestMembership:!0,etag:"f29b79d6-5b63-4641-93c7-30d954b4328c",createdOn:"2013-11-02T01:01:18.373Z",modifiedOn:"2019-01-31T20:34:40.057Z",createdBy:String(u),modifiedBy:String(c)},b={id:String(G),name:"Mock team public can join",description:"A team for fake users to join",icon:"",canPublicJoin:!0,canRequestMembership:!1,etag:"f29b79d6-5b63-4641-93c7-30d954b4328c",createdOn:"2013-11-02T01:01:18.373Z",modifiedOn:"2019-01-31T20:34:40.057Z",createdBy:String(u),modifiedBy:String(c)},_={id:String(w),name:"Mock team public can request to join",description:"A team for fake users to request to join",icon:"",canPublicJoin:!1,canRequestMembership:!0,etag:"f29b79d6-5b63-4641-93c7-30d954b4328c",createdOn:"2013-11-02T01:01:18.373Z",modifiedOn:"2019-01-31T20:34:40.057Z",createdBy:String(u),modifiedBy:String(c)},f={id:String(Z),name:"Mock team with open invitation",description:"A team that fake users have been invited to join",icon:"",canPublicJoin:!1,canRequestMembership:!1,etag:"f29b79d6-5b63-4641-93c7-30d954b4328c",createdOn:"2013-11-02T01:01:18.373Z",modifiedOn:"2019-01-31T20:34:40.057Z",createdBy:String(u),modifiedBy:String(c)},A={id:String(J),name:"Mock team with open request",description:"A team that fake users have already requested to join",icon:"",canPublicJoin:!1,canRequestMembership:!0,etag:"f29b79d6-5b63-4641-93c7-30d954b4328c",createdOn:"2013-11-02T01:01:18.373Z",modifiedOn:"2019-01-31T20:34:40.057Z",createdBy:String(u),modifiedBy:String(c)},F={id:String(K),name:"Mock team with open invitation",description:"A team that users must join to participate in the challenge",icon:"",canPublicJoin:!0,etag:"f29b79d6-5b63-4641-93c7-30d954b4328c",createdOn:"2013-11-02T01:01:18.373Z",modifiedOn:"2019-01-31T20:34:40.057Z",createdBy:String(u),modifiedBy:String(c)},W={id:String(N),name:"Mock Synapse ACT",description:"Same hard-coded ID as the ACT, but this is a mocked version",icon:"",canPublicJoin:!1,etag:"f29b79d6-5b63-4641-93c7-30d954b4328c",createdOn:"2013-11-02T01:01:18.373Z",modifiedOn:"2019-01-31T20:34:40.057Z",createdBy:String(u),modifiedBy:String(c)},V=[E,b,_,f,A,F,W],Y=V.map(i=>({id:parseInt(i.id),userProfile:null,userBundle:null,userGroupHeader:{ownerId:String(i.id),userName:i.name,isIndividual:!1}})),ie=[{teamId:E.id,userId:String(u),isMember:!0,hasOpenInvitation:!1,hasOpenRequest:!1,canJoin:!0,membershipApprovalRequired:!0,hasUnmetAccessRequirement:!1,canSendEmail:!0},{teamId:b.id,userId:String(u),isMember:!1,hasOpenInvitation:!1,hasOpenRequest:!1,canJoin:!0,membershipApprovalRequired:!1,hasUnmetAccessRequirement:!1,canSendEmail:!1},{teamId:_.id,userId:String(u),isMember:!1,hasOpenInvitation:!1,hasOpenRequest:!1,canJoin:!1,membershipApprovalRequired:!0,hasUnmetAccessRequirement:!1,canSendEmail:!1},{teamId:f.id,userId:String(u),isMember:!1,hasOpenInvitation:!0,hasOpenRequest:!1,canJoin:!1,membershipApprovalRequired:!0,hasUnmetAccessRequirement:!1,canSendEmail:!1},{teamId:A.id,userId:String(u),isMember:!1,hasOpenInvitation:!1,hasOpenRequest:!0,canJoin:!1,membershipApprovalRequired:!0,hasUnmetAccessRequirement:!1,canSendEmail:!1}],oe=[{id:j(),createdOn:new Date().toISOString(),createdBy:String(c),teamId:f.id,inviteeId:String(u),message:"Come join my cool team so we can submit to the challenge together!"}],z={id:g,userProfile:null,userBundle:null,userGroupHeader:{ownerId:g.toString(),userName:"PUBLIC",isIndividual:!1}},Q={id:h,userProfile:null,userBundle:null,userGroupHeader:{ownerId:h.toString(),userName:"AUTHENTICATED_USERS",isIndividual:!1}},S=[B,v,$,...Y,Q,z],ue=i=>[d.rest.get(`${i}${R(":id")}`,async(a,t,e)=>{let s=404,n={reason:`Mock Service worker could not find a user profile with ID ${a.params.id}`};const r=m.find(o=>o.id.toString()===a.params.id);return r&&r.userProfile&&(n=r.userProfile,s=200),t(e.status(s),e.json(n))}),d.rest.get(`${i}${p}`,async(a,t,e)=>{const s=L,n=200;return t(e.status(n),e.json(s))}),d.rest.get(`${k(q.REPO_ENDPOINT)}${T}`,async(a,t,e)=>{const s=l;return t(e.status(200),e.json(s))}),d.rest.get(`${i}${P(":id")}`,async(a,t,e)=>{let s=404,n={reason:`Mock Service worker could not find a user bundle with ID ${a.params.id}`};const r=m.find(o=>o.id.toString()===a.params.id);return r&&r.userBundle&&(n=r.userBundle,s=200),t(e.status(s),e.json(n))}),d.rest.get(`${i}${M}`,async(a,t,e)=>t(e.status(200),e.json(C))),d.rest.get(`${i}${O}`,async(a,t,e)=>{const s=a.url.searchParams.get("ids").split(","),n={children:S.filter(r=>s.includes(r.id.toString())).map(r=>r.userGroupHeader)};return t(e.status(200),e.json(n))}),d.rest.post(`${i}${p}`,async(a,t,e)=>{const s=(await a.json()).list,n={list:m.filter(r=>s.includes(r.id.toString())).map(r=>r.userProfile).filter(r=>r!=null)};return t(e.status(200),e.json(n))}),d.rest.get(`${i}${D}`,async(a,t,e)=>{const s=(a.url.searchParams.get("prefix")??"").toLowerCase(),n=a.url.searchParams.get("typeFilter"),r={children:S.filter(o=>!n||n===I.ALL?!0:n===I.USERS_ONLY?o.userGroupHeader.isIndividual:!o.userGroupHeader.isIndividual).filter(o=>o.userGroupHeader.userName.toLowerCase().startsWith(s)||(o.userGroupHeader.firstName||"").toLowerCase().startsWith(s)||(o.userGroupHeader.displayName||"").toLowerCase().startsWith(s)||(o.userGroupHeader.lastName||"").toLowerCase().startsWith(s)).map(o=>o.userGroupHeader)};return t(e.status(200),e.json(r))}),d.rest.get(`${i}${y(":userId")}`,async(a,t,e)=>t(e.status(404),e.json({reason:"user has no profile image"}))),d.rest.get(`${i}${U}`,async(a,t,e)=>{var s;return t(e.status(200),e.json({email:(s=l.userProfile)==null?void 0:s.email}))}),d.rest.get(`${i}/auth/v1/2fa`,async(a,t,e)=>{const s={status:"ENABLED"};return t(e.status(200),e.json(s))})];function de(i,a,t){return d.rest.get(`${i}${T}`,async(e,s,n)=>{const o={...l,isCertified:a,isVerified:t};return s(n.status(200),n.json(o))})}export{G as M,ue as a,w as b,Z as c,J as d,K as e,V as f,de as g,ie as h,oe as m};
