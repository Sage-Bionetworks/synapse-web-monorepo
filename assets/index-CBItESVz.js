import{aC as $a,cR as Ni,cS as un,aE as Fi,dx as Ii,gy as xi,bB as wa,gz as Ai,gA as Dn,gB as Di,bA as Ea,dr as Ri,gC as Mi,bz as qi,gD as Ui,gE as Vi,bM as Bi,gF as Li,U as gn,j,gG as ut,c3 as ja,d4 as Ae,dA as Ca,e_ as wr,r as Y,da as Pe,b_ as pt,gH as Rn,dv as zi,dg as Er,c9 as Ki,de as Mn,br as Ta,V as st,P as vn,c6 as _n,X as kr,dR as Oa,dD as Pa,aw as Wi,B as Hi,cx as Gi,ax as bn}from"./iframe-Bvh78Lip.js";import{i as yr,g as ee,E as $e,a as Tt,r as De,P as he,C as ka,D as Na,h as le,R as Fe,O as pe,b as ge,c as Ji,U as Fa,e as Ot,f as Ia,j as Yi,k as xa,l as Aa,d as me,I as rt,m as Re,N as gr,n as Da,o as qn,s as fe,p as Sn,q as Ra,t as Xi,v as Qi,S as jr,w as Un,L as Zi,F as Vn,x as et,y as Ma,T as oe,z as Bn,B as Et,G as fn,H as nt,J as zr,K as eo,A as Pt,M as to}from"./enums-BY52EMN4.js";import{d as Ln,g as qa}from"./index-Chi_LkuB.js";import{g as z}from"./_baseIteratee-CMAOpFF8.js";import{i as vr}from"./isString-DcoLED5O.js";import{b as ro}from"./_baseEach-BEegoy1c.js";import{p as no,i as so}from"./pickBy-DHB3DoRP.js";import{A as ao}from"./Add-BHlT50pm.js";import{G as je}from"./Grid-eXtr296u.js";import{L as Ua}from"./ListItem-B-yciqvL.js";import{L as io}from"./ListItemIcon-Bl7yLp5t.js";import{L as oo}from"./ListItemText-Bu7ISaWo.js";import{A as co}from"./ArrowUpward-B4ehOcYc.js";import{C as lo}from"./ContentCopy-BN_DtQ_G.js";import{F as $n}from"./FormControlLabel-Clz1cXB5.js";import{C as Va}from"./Checkbox-pmNlMftZ.js";import{F as uo}from"./FormGroup-BB1v2Ic7.js";import{R as fo}from"./RadioGroup-ClpaRU5c.js";import{R as mo}from"./Radio-DFv6aSF6.js";import{S as ho}from"./Slider-qp6h2bOl.js";import{M as zn}from"./MenuItem-CDGWVe-G.js";import{r as Ba}from"./index-C148XJoK.js";var po=$a(function(t,e){return un(t)?Ni(t,Fi(e,1,un,!0)):[]});function La(t,e){var r=wa(t)?Ii:ro;return r(t,xi(e))}var yo=Math.min;function go(t,e,r){for(var n=Di,a=t[0].length,s=t.length,o=s,i=Array(s),c=1/0,u=[];o--;){var d=t[o];c=yo(d.length,c),i[o]=a>=120&&d.length>=120?new Ai(o&&d):void 0}d=t[0];var f=-1,l=i[0];e:for(;++f<a&&u.length<c;){var h=d[f],y=h;if(h=h!==0?h:0,!(l?Dn(l,y):n(u,y))){for(o=s;--o;){var v=i[o];if(!(v?Dn(v,y):n(t[o],y)))continue e}l&&l.push(y),u.push(h)}}return u}function vo(t){return un(t)?t:[]}var Kn=$a(function(t){var e=Ea(t,vo);return e.length&&e[0]===t[0]?go(e):[]});function Wn(t){return t===void 0}function _o(t,e,r,n){return n=typeof n=="function"?n:void 0,t==null?t:Ri(t,e,r,n)}function za(t){return wa(t)?Ea(t,Bi):qi(t)?[t]:Mi(Ui(Vi(t)))}function bo(t,e){return t==null?!0:Li(t,e)}const So=gn(j.jsx("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"})),$o=gn(j.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"})),wo=gn(j.jsx("path",{d:"M19 13H5v-2h14z"}));function Eo(t){return t.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),yr(t.additionalItems)}function Hn(t){if(t==="")return;if(t===null)return null;if(/\.$/.test(t)||/\.0$/.test(t)||/\.\d*0$/.test(t))return t;const e=Number(t);return typeof e=="number"&&!Number.isNaN(e)?e:t}function Ka(t,e={},r){if(!(t.additionalProperties||t.patternProperties))return!1;const{expandable:n=!0}=ee(e);return n===!1?n:t.maxProperties!==void 0&&r?Object.keys(r).length<t.maxProperties:!0}function Cr(t){const e={[$e]:[],addError(r){this[$e].push(r)}};if(Array.isArray(t))return t.reduce((r,n,a)=>({...r,[a]:Cr(n)}),e);if(ut(t)){const r=t;return Object.keys(r).reduce((n,a)=>({...n,[a]:Cr(r[a])}),e)}return e}function St(t,e,r,n,a,s={},o){if(Array.isArray(r[a])){const c=Tt(r)||n,u=r[a].map(f=>De(t,f,e,s,o)),d=z(s,c);if(d!==void 0)return u.find(f=>ja(z(f,[he,c,Na],z(f,[he,c,ka])),d))}}function Wa(t,e,r,n,a){let s=r;if(le(r,Fe)&&(s=De(t,r,e,void 0,a)),Ae(n))return s;const o=Array.isArray(n)?n:n.split("."),[i,...c]=o;if(i&&le(s,i))return s=z(s,i),Wa(t,e,s,c,a)}function _r(t,e,r,n,a,s){const o=Wa(t,e,r,n,s);return o===void 0?a:o}const Gn={title:"!@#$_UNKNOWN_$#@!"};function jo(t,e,r,n,a={},s){const o=Array.isArray(n)?[...n]:n.split(".");let i=r;const c=o.pop();o.length&&o.forEach(l=>{i=_r(t,e,i,[he,l],{},s),le(i,pe)?i=St(t,e,i,c,pe,z(a,l),s):le(i,ge)&&(i=St(t,e,i,c,ge,z(a,l),s))}),le(i,pe)?i=St(t,e,i,c,pe,a,s):le(i,ge)&&(i=St(t,e,i,c,ge,a,s));let u=_r(t,e,i,[he,c],Gn,s);u===Gn&&(u=void 0);const d=_r(t,e,i,Ji,[],s);let f;return u&&Array.isArray(d)&&(f=d.includes(c)),{field:u,isRequired:f}}function Ha(t={}){return"widget"in ee(t)&&ee(t).widget!=="hidden"}function Ga(t,e,r={},n,a){if(r[Fa]==="files")return!0;if(e.items){const s=De(t,e.items,n,void 0,a);return s.type==="string"&&s.format==="data-url"}return!1}function Co(t,e,r={},n,a,s){const o=ee(r,a),{label:i=!0}=o;let c=!!i;const u=Ot(e);return u==="array"&&(c=Ia(t,e,n,s)||Ga(t,e,r,n,s)||Ha(r)),u==="object"&&(c=!1),u==="boolean"&&!r[Fa]&&(c=!1),r[Yi]&&(c=!1),c}const ct=Symbol("no Value");function mn(t,e,r,n,a={},s){let o;if(le(r,he)){const i={};if(le(n,he)){const d=z(n,he,{});Object.keys(d).forEach(f=>{le(a,f)&&(i[f]=void 0)})}const c=Object.keys(z(r,he,{})),u={};c.forEach(d=>{const f=z(a,d);let l=z(n,[he,d],{}),h=z(r,[he,d],{});le(l,Fe)&&(l=De(t,l,e,f,s)),le(h,Fe)&&(h=De(t,h,e,f,s));const y=z(l,"type"),v=z(h,"type");if(!y||y===v)if(le(i,d)&&delete i[d],v==="object"||v==="array"&&Array.isArray(f)){const p=mn(t,e,h,l,f,s);(p!==void 0||v==="array")&&(u[d]=p)}else{const p=z(h,"default",ct),g=z(l,"default",ct);p!==ct&&p!==f&&(g===f?i[d]=p:z(h,"readOnly")===!0&&(i[d]=void 0));const m=z(h,"const",ct),_=z(l,"const",ct);m!==ct&&m!==f&&(i[d]=_===f?m:void 0)}}),o={...typeof a=="string"||Array.isArray(a)?void 0:a,...i,...u}}else if(z(n,"type")==="array"&&z(r,"type")==="array"&&Array.isArray(a)){let i=z(n,"items"),c=z(r,"items");if(typeof i=="object"&&typeof c=="object"&&!Array.isArray(i)&&!Array.isArray(c)){le(i,Fe)&&(i=De(t,i,e,a,s)),le(c,Fe)&&(c=De(t,c,e,a,s));const u=z(i,"type"),d=z(c,"type");if(!u||u===d){const f=z(r,"maxItems",-1);d==="object"?o=a.reduce((l,h)=>{const y=mn(t,e,c,i,h,s);return y!==void 0&&(f<0||l.length<f)&&l.push(y),l},[]):o=f>0&&a.length>f?a.slice(0,f):a}}else typeof i=="boolean"&&typeof c=="boolean"&&i===c&&(o=a)}return o}function br(t,e,r,n,a,s,o,i=[],c){const d={$id:a||r};if(typeof e=="object"){if(Fe in e||xa in e||Aa in e){const f=De(t,e,s,o,c);if(i.findIndex(h=>me(h,f))===-1)return br(t,f,r,n,a,s,o,i.concat(f),c)}if(rt in e&&!z(e,[rt,Fe]))return br(t,z(e,rt),r,n,a,s,o,i,c);if(Ot(e)==="object"&&he in e)for(const f in e.properties){const l=e[he][f],h=d[Re]+n+f;d[f]=br(t,l,r,n,h,s,z(o,[f]),i,c)}}return d}function To(t,e,r,n,a,s="root",o="_",i){return br(t,e,s,o,r,n,a,void 0,i)}function Qe(t,e,r,n,a,s=[],o){if(Fe in e||xa in e||Aa in e){const c=De(t,e,n,a,o);if(s.findIndex(d=>me(d,c))===-1)return Qe(t,c,r,n,a,s.concat(c),o)}let i={[gr]:r.replace(/^\./,"")};if(pe in e||ge in e){const c=pe in e?e.oneOf:e.anyOf,u=Tt(e),d=Da(t,n,a,c,0,u,o),f=c[d];i={...i,...Qe(t,f,r,n,a,s,o)}}if(qn in e&&e[qn]!==!1&&fe(i,Sn,!0),rt in e&&Array.isArray(a)){const{items:c,additionalItems:u}=e;Array.isArray(c)?a.forEach((d,f)=>{c[f]?i[f]=Qe(t,c[f],`${r}.${f}`,n,d,s,o):u?i[f]=Qe(t,u,`${r}.${f}`,n,d,s,o):console.warn(`Unable to generate path schema for "${r}.${f}". No schema defined for it`)}):a.forEach((d,f)=>{i[f]=Qe(t,c,`${r}.${f}`,n,d,s,o)})}else if(he in e)for(const c in e.properties){const u=z(e,[he,c],{});i[c]=Qe(t,u,`${r}.${c}`,n,z(a,[c]),s,o)}return i}function Oo(t,e,r="",n,a,s){return Qe(t,e,r,n,a,void 0,s)}class Po{constructor(e,r,n,a){this.rootSchema=r,this.validator=e,this.experimental_defaultFormStateBehavior=n,this.experimental_customMergeAllOf=a}getValidator(){return this.validator}doesSchemaUtilsDiffer(e,r,n={},a){return!e||!r?!1:this.validator!==e||!me(this.rootSchema,r)||!me(this.experimental_defaultFormStateBehavior,n)||this.experimental_customMergeAllOf!==a}findFieldInSchema(e,r,n){return jo(this.validator,this.rootSchema,e,r,n,this.experimental_customMergeAllOf)}findSelectedOptionInXxxOf(e,r,n,a){return St(this.validator,this.rootSchema,e,r,n,a,this.experimental_customMergeAllOf)}getDefaultFormState(e,r,n=!1){return Ra(this.validator,e,r,this.rootSchema,n,this.experimental_defaultFormStateBehavior,this.experimental_customMergeAllOf)}getDisplayLabel(e,r,n){return Co(this.validator,e,r,this.rootSchema,n,this.experimental_customMergeAllOf)}getClosestMatchingOption(e,r,n,a){return Da(this.validator,this.rootSchema,e,r,n,a,this.experimental_customMergeAllOf)}getFirstMatchingOption(e,r,n){return Xi(this.validator,e,r,this.rootSchema,n)}getFromSchema(e,r,n){return _r(this.validator,this.rootSchema,e,r,n,this.experimental_customMergeAllOf)}isFilesArray(e,r){return Ga(this.validator,e,r,this.rootSchema,this.experimental_customMergeAllOf)}isMultiSelect(e){return Ia(this.validator,e,this.rootSchema,this.experimental_customMergeAllOf)}isSelect(e){return Qi(this.validator,e,this.rootSchema,this.experimental_customMergeAllOf)}retrieveSchema(e,r){return De(this.validator,e,this.rootSchema,r,this.experimental_customMergeAllOf)}sanitizeDataForNewSchema(e,r,n){return mn(this.validator,this.rootSchema,e,r,n,this.experimental_customMergeAllOf)}toIdSchema(e,r,n,a="root",s="_"){return To(this.validator,e,r,this.rootSchema,n,a,s,this.experimental_customMergeAllOf)}toPathSchema(e,r,n){return Oo(this.validator,e,r,this.rootSchema,n,this.experimental_customMergeAllOf)}}function ko(t,e,r={},n){return new Po(t,e,r,n)}function No(t){var e;if(t.indexOf("data:")===-1)throw new Error("File is invalid: URI must be a dataURI");const n=t.slice(5).split(";base64,");if(n.length!==2)throw new Error("File is invalid: dataURI must be base64");const[a,s]=n,[o,...i]=a.split(";"),c=o||"",u=decodeURI(((e=i.map(d=>d.split("=")).find(([d])=>d==="name"))===null||e===void 0?void 0:e[1])||"unknown");try{const d=atob(s),f=new Array(d.length);for(let h=0;h<d.length;h++)f[h]=d.charCodeAt(h);return{blob:new window.Blob([new Uint8Array(f)],{type:c}),name:u}}catch(d){throw new Error("File is invalid: "+d.message)}}function He(t,e){let r=String(t);for(;r.length<e;)r="0"+r;return r}function Ja(t,e){if(t<=0&&e<=0)t=new Date().getFullYear()+t,e=new Date().getFullYear()+e;else if(t<0||e<0)throw new Error(`Both start (${t}) and stop (${e}) must both be <= 0 or > 0, got one of each`);if(t>e)return Ja(e,t).reverse();const r=[];for(let n=t;n<=e;n++)r.push({value:n,label:He(n,2)});return r}function Fo(t,e){let r=t;if(Array.isArray(e)){const n=r.split(/(%\d)/);e.forEach((a,s)=>{const o=n.findIndex(i=>i===`%${s+1}`);o>=0&&(n[o]=a)}),r=n.join("")}return r}function Io(t,e){return Fo(t,e)}function ve(t,e=[],r){if(Array.isArray(t))return t.map(s=>ve(s,e)).filter(s=>s!==r);const n=t===""||t===null?-1:Number(t),a=e[n];return a?a.value:r}function Ya(t,e,r=[]){const n=ve(t,r);return Array.isArray(e)?e.filter(a=>!me(a,n)):me(n,e)?void 0:e}function Nr(t,e){return Array.isArray(e)?e.some(r=>me(r,t)):me(e,t)}function wn(t,e=[],r=!1){const n=e.map((a,s)=>Nr(a.value,t)?String(s):void 0).filter(a=>typeof a<"u");return r?n:n[0]}function Xa(t,e,r=[]){const n=ve(t,r);if(!Ca(n)){const a=r.findIndex(i=>n===i.value),s=r.map(({value:i})=>i);return e.slice(0,a).concat(n,e.slice(a)).sort((i,c)=>+(s.indexOf(i)>s.indexOf(c)))}return e}class xo{constructor(e){this.errorSchema={},this.resetAllErrors(e)}get ErrorSchema(){return this.errorSchema}getOrCreateErrorBlock(e){let n=Array.isArray(e)&&e.length>0||typeof e=="string"?z(this.errorSchema,e):this.errorSchema;return!n&&e&&(n={},_o(this.errorSchema,e,n,Object)),n}resetAllErrors(e){return this.errorSchema=e?wr(e):{},this}addErrors(e,r){const n=this.getOrCreateErrorBlock(r);let a=z(n,$e);return Array.isArray(a)||(a=[],n[$e]=a),Array.isArray(e)?fe(n,$e,[...new Set([...a,...e])]):fe(n,$e,[...new Set([...a,e])]),this}setErrors(e,r){const n=this.getOrCreateErrorBlock(r),a=Array.isArray(e)?[...new Set([...e])]:[e];return fe(n,$e,a),this}clearErrors(e){const r=this.getOrCreateErrorBlock(e);return fe(r,$e,[]),this}}function Ao(t,e,r=[1900,new Date().getFullYear()+2],n="YMD"){const{day:a,month:s,year:o,hour:i,minute:c,second:u}=t,d={type:"day",range:[1,31],value:a},f={type:"month",range:[1,12],value:s},l={type:"year",range:r,value:o},h=[];switch(n){case"MDY":h.push(f,d,l);break;case"DMY":h.push(d,f,l);break;default:h.push(l,f,d)}return e&&h.push({type:"hour",range:[0,23],value:i},{type:"minute",range:[0,59],value:c},{type:"second",range:[0,59],value:u}),h}function Qa(t){const e={};return t.multipleOf&&(e.step=t.multipleOf),(t.minimum||t.minimum===0)&&(e.min=t.minimum),(t.maximum||t.maximum===0)&&(e.max=t.maximum),e}function Za(t,e,r={},n=!0){const a={type:e||"text",...Qa(t)};return r.inputType?a.type=r.inputType:e||(t.type==="number"?(a.type="number",n&&a.step===void 0&&(a.step="any")):t.type==="integer"&&(a.type="number",a.step===void 0&&(a.step=1))),r.autocomplete&&(a.autoComplete=r.autocomplete),r.accept&&(a.accept=r.accept),a}const Jn={props:{disabled:!1},submitText:"Submit",norender:!1};function ei(t={}){const e=ee(t);if(e&&e[jr]){const r=e[jr];return{...Jn,...r}}return Jn}function Z(t,e,r={}){const{templates:n}=e;if(t==="ButtonTemplates")return n[t];if(Object.hasOwn(r,t)&&typeof r[t]=="string"&&Object.hasOwn(n,r[t])){const a=r[t];return n[a]}return r[t]||n[t]}const Do="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let ti=(t=21)=>{let e="",r=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)e+=Do[r[t]&63];return e};function ri(){if(typeof Ln.process>"u"||z(Ln.process,"env.NODE_ENV")!=="test")return{};const t=new Map;return new Proxy({},{get(e,r){return t.has(r)||t.set(r,ti()),t.get(r)}})}const Kr={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",time:"TimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function Ro(t){let e=z(t,"MergedWidget");if(!e){const r=t.defaultProps&&t.defaultProps.options||{};e=({options:n,...a})=>j.jsx(t,{options:{...r,...n},...a}),fe(t,"MergedWidget",e)}return e}function qe(t,e,r={}){const n=Ot(t);if(typeof e=="function"||e&&Un.isForwardRef(Y.createElement(e))||Un.isMemo(e))return Ro(e);if(typeof e!="string")throw new Error(`Unsupported widget definition: ${typeof e}`);if(e in r){const a=r[e];return qe(t,a,r)}if(typeof n=="string"){if(!(n in Kr))throw new Error(`No widget for type '${n}'`);if(e in Kr[n]){const a=r[Kr[n][e]];return qe(t,a,r)}}throw new Error(`No widget '${e}' for type '${n}'`)}function Mo(t){let e=0;for(let r=0;r<t.length;r+=1){const n=t.charCodeAt(r);e=(e<<5)-e+n,e=e&e}return e.toString(16)}function qo(t){const e=new Set;return JSON.stringify(t,(r,n)=>(e.add(r),n)),JSON.stringify(t,Array.from(e).sort())}function tt(t){return Mo(qo(t))}function Uo(t){return tt(t)}function Vo(t,e,r={}){try{return qe(t,e,r),!0}catch(n){const a=n;if(a.message&&(a.message.startsWith("No widget")||a.message.startsWith("Unsupported widget")))return!1;throw n}}function mt(t,e){return`${vr(t)?t:t[Re]}__${e}`}function at(t){return mt(t,"description")}function En(t){return mt(t,"error")}function jt(t){return mt(t,"examples")}function jn(t){return mt(t,"help")}function Fr(t){return mt(t,"title")}function Te(t,e=!1){const r=e?` ${jt(t)}`:"";return`${En(t)} ${at(t)} ${jn(t)}${r}`}function Ir(t,e){return`${t}-${e}`}function Me(t,e){return mt(t,e)}function it(t,e,r){return e?r:t}function Bo(t){return t?new Date(t).toJSON():void 0}function Wr(t,e,r){const n=[Zi];return le(t,Vn)&&n.unshift(Vn),z(t,[...n,e],r)}function Lo(t,e){if(!Array.isArray(e))return t;const r=d=>d.reduce((f,l)=>(f[l]=!0,f),{}),n=d=>d.length>1?`properties '${d.join("', '")}'`:`property '${d[0]}'`,a=r(t),s=e.filter(d=>d==="*"||a[d]),o=r(s),i=t.filter(d=>!o[d]),c=s.indexOf("*");if(c===-1){if(i.length)throw new Error(`uiSchema order list does not contain ${n(i)}`);return s}if(c!==s.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");const u=[...s];return u.splice(c,1,...i),u}function Hr(t,e=!0){if(!t)return{year:-1,month:-1,day:-1,hour:e?-1:0,minute:e?-1:0,second:e?-1:0};const r=new Date(t);if(Number.isNaN(r.getTime()))throw new Error("Unable to parse date "+t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:e?r.getUTCHours():0,minute:e?r.getUTCMinutes():0,second:e?r.getUTCSeconds():0}}function $t(t){if(t.const||t.enum&&t.enum.length===1&&t.enum[0]===!0)return!0;if(t.anyOf&&t.anyOf.length===1)return $t(t.anyOf[0]);if(t.oneOf&&t.oneOf.length===1)return $t(t.oneOf[0]);if(t.allOf){const e=r=>$t(r);return t.allOf.some(e)}return!1}function zo(t,e,r){const{props:n,state:a}=t;return!me(n,e)||!me(a,r)}function Yn(t,e=!0){const{year:r,month:n,day:a,hour:s=0,minute:o=0,second:i=0}=t,c=Date.UTC(r,n-1,a,s,o,i),u=new Date(c).toJSON();return e?u:u.slice(0,10)}function Tr(t,e=[]){if(!t)return[];let r=[];return $e in t&&(r=r.concat(t[$e].map(n=>{const a=`.${e.join(".")}`;return{property:a,message:n,stack:`${a} ${n}`}}))),Object.keys(t).reduce((n,a)=>{if(a!==$e){const s=t[a];ut(s)&&(n=n.concat(Tr(s,[...e,a])))}return n},r)}function Ko(t){const e=new xo;return t.length&&t.forEach(r=>{const{property:n,message:a}=r,s=n==="."?[]:za(n);s.length>0&&s[0]===""&&s.splice(0,1),a&&e.addErrors(a,s)}),e.ErrorSchema}function Cn(t){return Object.keys(t).reduce((e,r)=>{if(r==="addError")return e;{const n=t[r];return ut(n)?{...e,[r]:Cn(n)}:{...e,[r]:n}}},{})}function Wo(t){if(!t)return"";const e=new Date(t),r=He(e.getFullYear(),4),n=He(e.getMonth()+1,2),a=He(e.getDate(),2),s=He(e.getHours(),2),o=He(e.getMinutes(),2),i=He(e.getSeconds(),2),c=He(e.getMilliseconds(),3);return`${r}-${n}-${a}T${s}:${o}:${i}.${c}`}function Sr(t,e){if(!e)return t;const{errors:r,errorSchema:n}=t;let a=Tr(e),s=e;return Ae(n)||(s=et(n,e,!0),a=[...r].concat(a)),{errorSchema:s,errors:a}}function Ho(t){for(const e in t){const r=t,n=r[e];e===Fe&&typeof n=="string"&&n.startsWith("#")?r[e]=Ma+n:r[e]=Tn(n)}return t}function Go(t){for(let e=0;e<t.length;e++)t[e]=Tn(t[e]);return t}function Tn(t){return Array.isArray(t)?Go([...t]):Pe(t)?Ho({...t}):t}function Jo(t,e){const r=ut(t),n=ut(e);if(t===e||!r&&!n)return[];if(r&&!n)return pt(t);if(!r&&n)return pt(e);{const a=pt(no(t,(o,i)=>!me(o,z(e,i)))),s=po(pt(e),pt(t));return[...a,...s]}}function hn(){return ti()}function Xn(t){return Array.isArray(t)?t.map(e=>({key:hn(),item:e})):[]}function yt(t){return Array.isArray(t)?t.map(e=>e.item):[]}class Yo extends Y.Component{constructor(e){super(e);const{formData:r=[]}=e,n=Xn(r);this.state={keyedFormData:n,updatedKeyedFormData:!1}}static getDerivedStateFromProps(e,r){if(r.updatedKeyedFormData)return{updatedKeyedFormData:!1};const n=Array.isArray(e.formData)?e.formData:[],a=r.keyedFormData||[];return{keyedFormData:n.length===a.length?a.map((o,i)=>({key:o.key,item:n[i]})):Xn(n)}}get itemTitle(){const{schema:e,registry:r}=this.props,{translateString:n}=r;return z(e,[rt,"title"],z(e,[rt,"description"],n(oe.ArrayItemTitle)))}isItemRequired(e){return Array.isArray(e.type)?!e.type.includes("null"):e.type!=="null"}canAddItem(e){const{schema:r,uiSchema:n,registry:a}=this.props;let{addable:s}=ee(n,a.globalUiOptions);return s!==!1&&(r.maxItems!==void 0?s=e.length<r.maxItems:s=!0),s}_getNewFormDataRow=()=>{const{schema:e,registry:r}=this.props,{schemaUtils:n}=r;let a=e.items;return Bn(e)&&Eo(e)&&(a=e.additionalItems),n.getDefaultFormState(a)};_handleAddClick(e,r){e&&e.preventDefault();const{onChange:n,errorSchema:a}=this.props,{keyedFormData:s}=this.state;let o;if(a){o={};for(const u in a){const d=parseInt(u);r===void 0||d<r?fe(o,[d],a[u]):d>=r&&fe(o,[d+1],a[u])}}const i={key:hn(),item:this._getNewFormDataRow()},c=[...s];r!==void 0?c.splice(r,0,i):c.push(i),this.setState({keyedFormData:c,updatedKeyedFormData:!0},()=>n(yt(c),o))}onAddClick=e=>{this._handleAddClick(e)};onAddIndexClick=e=>r=>{this._handleAddClick(r,e)};onCopyIndexClick=e=>r=>{r&&r.preventDefault();const{onChange:n,errorSchema:a}=this.props,{keyedFormData:s}=this.state;let o;if(a){o={};for(const u in a){const d=parseInt(u);d<=e?fe(o,[d],a[u]):d>e&&fe(o,[d+1],a[u])}}const i={key:hn(),item:wr(s[e].item)},c=[...s];e!==void 0?c.splice(e+1,0,i):c.push(i),this.setState({keyedFormData:c,updatedKeyedFormData:!0},()=>n(yt(c),o))};onDropIndexClick=e=>r=>{r&&r.preventDefault();const{onChange:n,errorSchema:a}=this.props,{keyedFormData:s}=this.state;let o;if(a){o={};for(const c in a){const u=parseInt(c);u<e?fe(o,[u],a[c]):u>e&&fe(o,[u-1],a[c])}}const i=s.filter((c,u)=>u!==e);this.setState({keyedFormData:i,updatedKeyedFormData:!0},()=>n(yt(i),o))};onReorderClick=(e,r)=>n=>{n&&(n.preventDefault(),n.currentTarget.blur());const{onChange:a,errorSchema:s}=this.props;let o;if(s){o={};for(const d in s){const f=parseInt(d);f==e?fe(o,[r],s[e]):f==r?fe(o,[e],s[r]):fe(o,[d],s[f])}}const{keyedFormData:i}=this.state;function c(){const d=i.slice();return d.splice(e,1),d.splice(r,0,i[e]),d}const u=c();this.setState({keyedFormData:u},()=>a(yt(u),o))};onChangeForIndex=e=>(r,n,a)=>{const{formData:s,onChange:o,errorSchema:i}=this.props,u=(Array.isArray(s)?s:[]).map((d,f)=>e===f?typeof r>"u"?null:r:d);o(u,i&&i&&{...i,[e]:n},a)};onSelectChange=e=>{const{onChange:r,idSchema:n}=this.props;r(e,void 0,n&&n.$id)};render(){const{schema:e,uiSchema:r,idSchema:n,registry:a}=this.props,{schemaUtils:s,translateString:o}=a;if(!(rt in e)){const i=ee(r),c=Z("UnsupportedFieldTemplate",a,i);return j.jsx(c,{schema:e,idSchema:n,reason:o(oe.MissingItems),registry:a})}return s.isMultiSelect(e)?this.renderMultiSelect():Ha(r)?this.renderCustomWidget():Bn(e)?this.renderFixedArray():s.isFilesArray(e,r)?this.renderFiles():this.renderNormalArray()}renderNormalArray(){const{schema:e,uiSchema:r={},errorSchema:n,idSchema:a,name:s,title:o,disabled:i=!1,readonly:c=!1,autofocus:u=!1,required:d=!1,registry:f,onBlur:l,onFocus:h,idPrefix:y,idSeparator:v="_",rawErrors:p}=this.props,{keyedFormData:g}=this.state,m=e.title||o||s,{schemaUtils:_,formContext:S}=f,$=ee(r),b=Pe(e.items)?e.items:{},w=_.retrieveSchema(b),O=yt(this.state.keyedFormData),T=this.canAddItem(O),I={canAdd:T,items:g.map((U,q)=>{const{key:L,item:B}=U,J=B,re=_.retrieveSchema(b,J),W=n?n[q]:void 0,X=a.$id+v+q,R=_.toIdSchema(re,X,J,y,v);return this.renderArrayFieldItem({key:L,index:q,name:s&&`${s}-${q}`,title:m?`${m}-${q+1}`:void 0,canAdd:T,canMoveUp:q>0,canMoveDown:q<O.length-1,itemSchema:re,itemIdSchema:R,itemErrorSchema:W,itemData:J,itemUiSchema:r.items,autofocus:u&&q===0,onBlur:l,onFocus:h,rawErrors:p,totalItems:g.length})}),className:`rjsf-field rjsf-field-array rjsf-field-array-of-${w.type}`,disabled:i,idSchema:a,uiSchema:r,onAddClick:this.onAddClick,readonly:c,required:d,schema:e,title:m,formContext:S,formData:O,rawErrors:p,registry:f},A=Z("ArrayFieldTemplate",f,$);return j.jsx(A,{...I})}renderCustomWidget(){const{schema:e,idSchema:r,uiSchema:n,disabled:a=!1,readonly:s=!1,autofocus:o=!1,required:i=!1,hideError:c,placeholder:u,onBlur:d,onFocus:f,formData:l=[],registry:h,rawErrors:y,name:v}=this.props,{widgets:p,formContext:g,globalUiOptions:m,schemaUtils:_}=h,{widget:S,title:$,...b}=ee(n,m),w=qe(e,S,p),O=$??e.title??v,T=_.getDisplayLabel(e,n,m);return j.jsx(w,{id:r.$id,name:v,multiple:!0,onChange:this.onSelectChange,onBlur:d,onFocus:f,options:b,schema:e,uiSchema:n,registry:h,value:l,disabled:a,readonly:s,hideError:c,required:i,label:O,hideLabel:!T,placeholder:u,formContext:g,autofocus:o,rawErrors:y})}renderMultiSelect(){const{schema:e,idSchema:r,uiSchema:n,formData:a=[],disabled:s=!1,readonly:o=!1,autofocus:i=!1,required:c=!1,placeholder:u,onBlur:d,onFocus:f,registry:l,rawErrors:h,name:y}=this.props,{widgets:v,schemaUtils:p,formContext:g,globalUiOptions:m}=l,_=p.retrieveSchema(e.items,a),S=Et(_,n),{widget:$="select",title:b,...w}=ee(n,m),O=qe(e,$,v),T=b??e.title??y,I=p.getDisplayLabel(e,n,m);return j.jsx(O,{id:r.$id,name:y,multiple:!0,onChange:this.onSelectChange,onBlur:d,onFocus:f,options:{...w,enumOptions:S},schema:e,uiSchema:n,registry:l,value:a,disabled:s,readonly:o,required:c,label:T,hideLabel:!I,placeholder:u,formContext:g,autofocus:i,rawErrors:h})}renderFiles(){const{schema:e,uiSchema:r,idSchema:n,name:a,disabled:s=!1,readonly:o=!1,autofocus:i=!1,required:c=!1,onBlur:u,onFocus:d,registry:f,formData:l=[],rawErrors:h}=this.props,{widgets:y,formContext:v,globalUiOptions:p,schemaUtils:g}=f,{widget:m="files",title:_,...S}=ee(r,p),$=qe(e,m,y),b=_??e.title??a,w=g.getDisplayLabel(e,r,p);return j.jsx($,{options:S,id:n.$id,name:a,multiple:!0,onChange:this.onSelectChange,onBlur:u,onFocus:d,schema:e,uiSchema:r,value:l,disabled:s,readonly:o,required:c,registry:f,formContext:v,autofocus:i,rawErrors:h,label:b,hideLabel:!w})}renderFixedArray(){const{schema:e,uiSchema:r={},formData:n=[],errorSchema:a,idPrefix:s,idSeparator:o="_",idSchema:i,name:c,title:u,disabled:d=!1,readonly:f=!1,autofocus:l=!1,required:h=!1,registry:y,onBlur:v,onFocus:p,rawErrors:g}=this.props,{keyedFormData:m}=this.state;let{formData:_=[]}=this.props;const S=e.title||u||c,$=ee(r),{schemaUtils:b,formContext:w}=y,T=(Pe(e.items)?e.items:[]).map((L,B)=>b.retrieveSchema(L,n[B])),I=Pe(e.additionalItems)?b.retrieveSchema(e.additionalItems,n):null;(!_||_.length<T.length)&&(_=_||[],_=_.concat(new Array(T.length-_.length)));const A=this.canAddItem(_)&&!!I,U={canAdd:A,className:"rjsf-field rjsf-field-array rjsf-field-array-fixed-items",disabled:d,idSchema:i,formData:n,items:m.map((L,B)=>{const{key:J,item:re}=L,W=re,X=B>=T.length,R=(X&&Pe(e.additionalItems)?b.retrieveSchema(e.additionalItems,W):T[B])||{},P=i.$id+o+B,D=b.toIdSchema(R,P,W,s,o),N=X?r.additionalItems||{}:Array.isArray(r.items)?r.items[B]:r.items||{},E=a?a[B]:void 0;return this.renderArrayFieldItem({key:J,index:B,name:c&&`${c}-${B}`,title:S?`${S}-${B+1}`:void 0,canAdd:A,canRemove:X,canMoveUp:B>=T.length+1,canMoveDown:X&&B<_.length-1,itemSchema:R,itemData:W,itemUiSchema:N,itemIdSchema:D,itemErrorSchema:E,autofocus:l&&B===0,onBlur:v,onFocus:p,rawErrors:g,totalItems:m.length})}),onAddClick:this.onAddClick,readonly:f,required:h,registry:y,schema:e,uiSchema:r,title:S,formContext:w,errorSchema:a,rawErrors:g},q=Z("ArrayFieldTemplate",y,$);return j.jsx(q,{...U})}renderArrayFieldItem(e){const{key:r,index:n,name:a,canAdd:s,canRemove:o=!0,canMoveUp:i,canMoveDown:c,itemSchema:u,itemData:d,itemUiSchema:f,itemIdSchema:l,itemErrorSchema:h,autofocus:y,onBlur:v,onFocus:p,rawErrors:g,totalItems:m,title:_}=e,{disabled:S,hideError:$,idPrefix:b,idSeparator:w,readonly:O,uiSchema:T,registry:I,formContext:A}=this.props,{fields:{ArraySchemaField:U,SchemaField:q},globalUiOptions:L}=I,B=U||q,{orderable:J=!0,removable:re=!0,copyable:W=!1}=ee(T,L),X={moveUp:J&&i,moveDown:J&&c,copy:W&&s,remove:re&&o,toolbar:!1};return X.toolbar=Object.keys(X).some(R=>X[R]),{children:j.jsx(B,{name:a,title:_,index:n,schema:u,uiSchema:f,formData:d,formContext:A,errorSchema:h,idPrefix:b,idSeparator:w,idSchema:l,required:this.isItemRequired(u),onChange:this.onChangeForIndex(n),onBlur:v,onFocus:p,registry:I,disabled:S,readonly:O,hideError:$,autofocus:y,rawErrors:g}),buttonsProps:{idSchema:l,disabled:S,readonly:O,canAdd:s,hasCopy:X.copy,hasMoveUp:X.moveUp,hasMoveDown:X.moveDown,hasRemove:X.remove,index:n,totalItems:m,onAddIndexClick:this.onAddIndexClick,onCopyIndexClick:this.onCopyIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,registry:I,schema:u,uiSchema:f},className:"rjsf-array-item",disabled:S,hasToolbar:X.toolbar,index:n,totalItems:m,key:r,readonly:O,registry:I,schema:u,uiSchema:f}}}function Xo(t){const{schema:e,name:r,uiSchema:n,idSchema:a,formData:s,registry:o,required:i,disabled:c,readonly:u,hideError:d,autofocus:f,title:l,onChange:h,onFocus:y,onBlur:v,rawErrors:p}=t,{title:g}=e,{widgets:m,formContext:_,translateString:S,globalUiOptions:$}=o,{widget:b="checkbox",title:w,label:O=!0,enumNames:T,...I}=ee(n,$),A=qe(e,b,m),U=S(oe.YesLabel),q=S(oe.NoLabel);let L;const B=w??g??l??r;if(Array.isArray(e.oneOf))L=Et({oneOf:e.oneOf.map(J=>{if(Pe(J))return{...J,title:J.title||(J.const===!0?U:q)}}).filter(J=>J)},n);else{const J=e.enum??[!0,!1];!T&&J.length===2&&J.every(re=>typeof re=="boolean")?L=[{value:J[0],label:J[0]?U:q},{value:J[1],label:J[1]?U:q}]:L=Et({enum:J},n)}return j.jsx(A,{options:{...I,enumOptions:L},schema:e,uiSchema:n,id:a.$id,name:r,onChange:h,onFocus:y,onBlur:v,label:B,hideLabel:!O,value:s,required:i,disabled:c,readonly:u,hideError:d,registry:o,formContext:_,autofocus:f,rawErrors:p})}var xe;(function(t){t.ROW="ui:row",t.COLUMN="ui:col",t.COLUMNS="ui:columns",t.CONDITION="ui:condition"})(xe||(xe={}));var wt;(function(t){t.ALL="all",t.SOME="some",t.NONE="none"})(wt||(wt={}));const Qo=/^\$lookup=(.+)/,Gr="layoutGrid";function Qn(t,e){return t??e}class ye extends Y.PureComponent{static defaultProps={layoutGridSchema:void 0};static TEST_IDS=ri();static computeFieldUiSchema(e,r,n,a,s){const o=z(n,[fn],{}),i=z(n,e),c={...z(i,[nt],{}),...r,...o},u={...i};Ae(c)||fe(u,[nt],c),Ae(o)||fe(u,[fn],o);let{readonly:d}=ee(u);return(s===!0||Wn(d)&&a===!0)&&(d=!0,le(c,zr)?fe(u,[nt,zr],!0):fe(u,`ui:${zr}`,!0)),{fieldUiSchema:u,uiReadonly:d}}static conditionMatches(e,r,n="$0m3tH1nG Un3xP3cT3d"){const a=Rn([r]).sort(),s=Rn([n]).sort();switch(e){case wt.ALL:return ja(a,s);case wt.SOME:return Kn(a,s).length>0;case wt.NONE:return Kn(a,s).length===0;default:return!1}}static findChildrenAndProps(e,r,n){let a={},s=e[r];if(ut(s)){const{children:o,className:i,...c}=s;if(s=o,i){const d=i.split(" ").map(f=>Wr(n,f,f)).join(" ");a={...c,className:d}}else a=c}if(!Array.isArray(s))throw new TypeError(`Expected array for "${r}" in ${JSON.stringify(e)}`);return{children:s,gridProps:a}}static getIdSchema(e,r,n,a={},s){const o=z(r,Re);return e.toIdSchema(a,o,n,o,s)}static getSchemaDetailsForField(e,r,n,a,s,o){let i=n,c=s;const u=r.split("."),d=u.pop();let f=e.retrieveSchema(i,a),l=a,h=f.readOnly;u.forEach(p=>{if(le(f,he))i=z(f,[he,p],{}),c=z(c,p,{});else if(f&&(le(f,pe)||le(f,ge))){const g=le(f,pe)?pe:ge,m=e.findSelectedOptionInXxxOf(f,p,g,l),_=ye.getIdSchema(e,c,a,m,o);i=z(m,[he,p],{}),c=z(_,p,{})}else i={};l=z(l,p,{}),f=e.retrieveSchema(i,l),h=Qn(f.readOnly,h)});let y,v=!1;if(Ae(f)&&(f=void 0),f&&d){if(f&&(le(f,pe)||le(f,ge))){const p=le(f,pe)?pe:ge;f=e.findSelectedOptionInXxxOf(f,d,p,l);const g=ye.getIdSchema(e,c,a,f,o);c=et(g,c)}if(v=f!==void 0&&Array.isArray(f.required)&&so(f.required,d),f=z(f,[he,d]),f=f&&e.retrieveSchema(f),c=z(c,d,{}),h=Qn(f?.readOnly,h),f&&(le(f,pe)||le(f,ge))){const p=le(f,pe)?pe:ge,g=Tt(f);y={options:f[p],hasDiscriminator:!!g}}}return{schema:f,isRequired:v,isReadonly:h,optionsInfo:y,idSchema:c}}static getCustomRenderComponent(e,r){let n=e;return vr(n)&&(n=Wr(r,n)),zi(n)?n:null}static computeUIComponentPropsFromGridSchema(e,r){let n,a=null,s={},o;if(vr(r)||Wn(r))n=r??"";else{const{name:i="",render:c,...u}=r;n=i,s=u,Ae(s)||La(s,(d,f)=>{if(vr(d)){const l=Qo.exec(d);if(Array.isArray(l)&&l.length>1){const h=l[1];s[f]=Wr(e,h,h)}}}),a=ye.getCustomRenderComponent(c,e),!i&&a&&(o=j.jsx(a,{...u,"data-testid":ye.TEST_IDS.uiComponent}))}return{name:n,UIComponent:a,uiProps:s,rendered:o}}constructor(e){super(e)}onFieldChange=e=>(r,n,a)=>{const{onChange:s,errorSchema:o,formData:i}=this.props,c=wr(i||{});let u=o;n&&o&&(u=wr(o),fe(u,e,n)),fe(c,e,r),s(c,u,a)};renderCondition(e){const{formData:r,registry:n}=this.props,{children:a,gridProps:s}=ye.findChildrenAndProps(e,xe.CONDITION,n),{operator:o,field:i="",value:c}=s,u=z(r,i,null);return ye.conditionMatches(o,u,c)?this.renderChildren(a):null}renderCol(e){const{registry:r,uiSchema:n}=this.props,{children:a,gridProps:s}=ye.findChildrenAndProps(e,xe.COLUMN,r),o=ee(n),i=Z("GridTemplate",r,o);return j.jsx(i,{column:!0,"data-testid":ye.TEST_IDS.col,...s,children:this.renderChildren(a)})}renderColumns(e){const{registry:r,uiSchema:n}=this.props,{children:a,gridProps:s}=ye.findChildrenAndProps(e,xe.COLUMNS,r),o=ee(n),i=Z("GridTemplate",r,o);return a.map(c=>j.jsx(i,{column:!0,"data-testid":ye.TEST_IDS.col,...s,children:this.renderChildren([c])},`column-${tt(c)}`))}renderRow(e){const{registry:r,uiSchema:n}=this.props,{children:a,gridProps:s}=ye.findChildrenAndProps(e,xe.ROW,r),o=ee(n),i=Z("GridTemplate",r,o);return j.jsx(i,{...s,"data-testid":ye.TEST_IDS.row,children:this.renderChildren(a)})}renderChildren(e){const{registry:r,schema:n,formData:a}=this.props,{schemaUtils:s}=r,o=s.retrieveSchema(n,a);return e.map(i=>Y.createElement(ye,{...this.props,key:`layoutGrid-${tt(i)}`,schema:o,layoutGridSchema:i}))}renderField(e){const{schema:r,uiSchema:n,errorSchema:a,idSchema:s,onBlur:o,onFocus:i,formData:c,readonly:u,registry:d,idSeparator:f,layoutGridSchema:l,...h}=this.props,{fields:y,schemaUtils:v}=d,{SchemaField:p,LayoutMultiSchemaField:g}=y,m=ye.computeUIComponentPropsFromGridSchema(d,e);if(m.rendered)return m.rendered;const{name:_,UIComponent:S,uiProps:$}=m,{schema:b,isRequired:w,isReadonly:O,optionsInfo:T,idSchema:I}=ye.getSchemaDetailsForField(v,_,r,c,s,f);if(b){const A=T?.hasDiscriminator?g:p,{fieldUiSchema:U,uiReadonly:q}=ye.computeFieldUiSchema(_,$,n,O,u);return j.jsx(A,{"data-testid":T?.hasDiscriminator?ye.TEST_IDS.layoutMultiSchemaField:ye.TEST_IDS.field,...h,name:_,required:w,readonly:q,schema:b,uiSchema:U,errorSchema:z(a,_),idSchema:I,idSeparator:f,formData:z(c,_),onChange:this.onFieldChange(_),onBlur:o,onFocus:i,options:T?.options,registry:d})}return S?j.jsx(S,{"data-testid":ye.TEST_IDS.uiComponent,...h,name:_,required:w,formData:c,readOnly:!!O||u,errorSchema:a,uiSchema:n,schema:r,idSchema:s,idSeparator:f,onBlur:o,onFocus:i,registry:d,...$}):null}render(){const{uiSchema:e}=this.props;let{layoutGridSchema:r}=this.props;const n=ee(e);if(!r&&Gr in n&&Pe(n[Gr])&&(r=n[Gr]),Pe(r)){if(xe.ROW in r)return this.renderRow(r);if(xe.COLUMN in r)return this.renderCol(r);if(xe.COLUMNS in r)return this.renderColumns(r);if(xe.CONDITION in r)return this.renderCondition(r)}return this.renderField(r)}}function Zo(t){const{idSchema:e,title:r,schema:n,uiSchema:a,required:s,registry:o,name:i}=t,c=ee(a,o.globalUiOptions),{title:u}=c,{title:d}=n,f=u||r||d||i;if(!f)return null;const l=Z("TitleFieldTemplate",o,c);return j.jsx(l,{id:Fr(e),title:f,required:s,schema:n,uiSchema:a,registry:o})}function Jr(t,e,r){const n="!@#!@$@#$!@$#";return t.map(({schema:s})=>s).find(s=>{const o=z(s,[he,e]);return z(o,Na,z(o,ka,n))===r})}function Zn(t,e,r,n,a){const s=e.map(c=>r.retrieveSchema(c,a));let o=t;le(t,pe)?o={...t,[pe]:s}:le(t,ge)&&(o={...t,[ge]:s});const i=Et(o,n);if(!i)throw new Error(`No enumOptions were computed from the schema ${JSON.stringify(o)}`);return i}function ec(t){const{name:e,baseType:r,disabled:n=!1,formData:a,idSchema:s,onBlur:o,onChange:i,options:c,onFocus:u,registry:d,uiSchema:f,schema:l,formContext:h,autofocus:y,readonly:v,required:p,errorSchema:g,hideError:m=!1}=t,{widgets:_,schemaUtils:S,globalUiOptions:$}=d,[b,w]=Y.useState(Zn(l,c,S,f,a)),O=z(s,Re),T=Tt(l),I=Z("FieldErrorTemplate",d,c),A=Z("FieldTemplate",d,c),U=tt(l),q=tt(c),L=f?tt(f):"",B=a?tt(a):"";Y.useEffect(()=>{w(Zn(l,c,S,f,a))},[U,q,S,L,B]);const{widget:J=T?"radio":"select",title:re="",placeholder:W="",optionsSchemaSelector:X=T,hideError:R,...P}=ee(f);if(!X)throw new Error("No selector field provided for the LayoutMultiSchemaField");const D=z(a,X);let N=z(b[0]?.schema,[he,X],{});const E=Jr(b,X,D);N=N?.type?N:{...N,type:E?.type||r};const C=qe(N,J,_),x=R===void 0?m:!!R,K=z(g,[$e],[]),G=Er(g,[$e]),ie=S.getDisplayLabel(l,f,$),ae=V=>{const H=Jr(b,X,V),te=Jr(b,X,D);let ue=S.sanitizeDataForNewSchema(H,te,a);ue&&H&&(ue=S.getDefaultFormState(H,ue,"excludeObjectChildren")),ue&&fe(ue,X,V),i(ue,void 0,O)},k={enumOptions:b,...P},F=!x&&K.length>0?j.jsx(I,{idSchema:s,schema:l,errors:K,registry:d}):void 0,M=V=>Ki;return j.jsx(A,{id:O,schema:l,label:(re||l.title)??"",disabled:n||Array.isArray(b)&&Ae(b),uiSchema:f,formContext:h,required:p,readonly:!!v,registry:d,displayLabel:ie,errors:F,onChange:i,onDropPropertyClick:M,onKeyChange:M,children:j.jsx(C,{id:O,name:e,schema:l,label:(re||l.title)??"",disabled:n||Array.isArray(b)&&Ae(b),uiSchema:f,formContext:h,autofocus:y,readonly:v,required:p,registry:d,multiple:!1,rawErrors:K,hideError:x,hideLabel:!ie,errorSchema:G,placeholder:W,onChange:ae,onBlur:o,onFocus:u,value:D,options:k})})}class es extends Y.Component{constructor(e){super(e);const{formData:r,options:n,registry:{schemaUtils:a}}=this.props,s=n.map(o=>a.retrieveSchema(o,r));this.state={retrievedOptions:s,selectedOption:this.getMatchingOption(0,r,s)}}componentDidUpdate(e,r){const{formData:n,options:a,idSchema:s}=this.props,{selectedOption:o}=this.state;let i=this.state;if(!me(e.options,a)){const{registry:{schemaUtils:c}}=this.props,u=a.map(d=>c.retrieveSchema(d,n));i={selectedOption:o,retrievedOptions:u}}if(!me(n,e.formData)&&s.$id===e.idSchema.$id){const{retrievedOptions:c}=i,u=this.getMatchingOption(o,n,c);r&&u!==o&&(i={selectedOption:u,retrievedOptions:c})}i!==this.state&&this.setState(i)}getMatchingOption(e,r,n){const{schema:a,registry:{schemaUtils:s}}=this.props,o=Tt(a);return s.getClosestMatchingOption(r,n,e,o)}onOptionChange=e=>{const{selectedOption:r,retrievedOptions:n}=this.state,{formData:a,onChange:s,registry:o}=this.props,{schemaUtils:i}=o,c=e!==void 0?parseInt(e,10):-1;if(c===r)return;const u=c>=0?n[c]:void 0,d=r>=0?n[r]:void 0;let f=i.sanitizeDataForNewSchema(u,d,a);u&&(f=i.getDefaultFormState(u,f,"excludeObjectChildren")),this.setState({selectedOption:c},()=>{s(f,void 0,this.getFieldId())})};getFieldId(){const{idSchema:e,schema:r}=this.props;return`${e.$id}${r.oneOf?"__oneof_select":"__anyof_select"}`}render(){const{name:e,disabled:r=!1,errorSchema:n={},formContext:a,onBlur:s,onFocus:o,readonly:i,registry:c,schema:u,uiSchema:d}=this.props,{widgets:f,fields:l,translateString:h,globalUiOptions:y,schemaUtils:v}=c,{SchemaField:p}=l,{selectedOption:g,retrievedOptions:m}=this.state,{widget:_="select",placeholder:S,autofocus:$,autocomplete:b,title:w=u.title,...O}=ee(d,y),T=qe({type:"number"},_,f),I=z(n,$e,[]),A=Er(n,[$e]),U=v.getDisplayLabel(u,d,y),q=g>=0&&m[g]||null;let L;if(q){const{required:R}=u;L=R?eo({required:R},q):q}let B=[];pe in u&&d&&pe in d?Array.isArray(d[pe])?B=d[pe]:console.warn(`uiSchema.oneOf is not an array for "${w||e}"`):ge in u&&d&&ge in d&&(Array.isArray(d[ge])?B=d[ge]:console.warn(`uiSchema.anyOf is not an array for "${w||e}"`));let J=d;g>=0&&B.length>g&&(J=B[g]);const re=w?oe.TitleOptionPrefix:oe.OptionPrefix,W=w?[w]:[],X=m.map((R,P)=>{const{title:D=R.title}=ee(B[P]);return{label:D||h(re,W.concat(String(P+1))),value:P}});return j.jsxs("div",{className:"panel panel-default panel-body",children:[j.jsx("div",{className:"form-group",children:j.jsx(T,{id:this.getFieldId(),name:`${e}${u.oneOf?"__oneof_select":"__anyof_select"}`,schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:s,onFocus:o,disabled:r||Ae(X),multiple:!1,rawErrors:I,errorSchema:A,value:g>=0?g:void 0,options:{enumOptions:X,...O},registry:c,formContext:a,placeholder:S,autocomplete:b,autofocus:$,label:w??e,hideLabel:!U,readonly:i})}),L&&L.type!=="null"&&j.jsx(p,{...this.props,schema:L,uiSchema:J})]})}}const tc=/\.([0-9]*0)*$/,rc=/[0.]0*$/;function nc(t){const{registry:e,onChange:r,formData:n,value:a}=t,[s,o]=Y.useState(a),{StringField:i}=e.fields;let c=n;const u=Y.useCallback((d,f,l)=>{o(d),`${d}`.charAt(0)==="."&&(d=`0${d}`);const h=typeof d=="string"&&d.match(tc)?Hn(d.replace(rc,"")):Hn(d);r(h,f,l)},[r]);if(typeof s=="string"&&typeof c=="number"){const d=new RegExp(`^(${String(c).replace(".","\\.")})?\\.?0*$`);s.match(d)&&(c=s)}return j.jsx(i,{...t,formData:c,onChange:u})}function Ze(){return Ze=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ze.apply(this,arguments)}const sc=["children","options"],Q={blockQuote:"0",breakLine:"1",breakThematic:"2",codeBlock:"3",codeFenced:"4",codeInline:"5",footnote:"6",footnoteReference:"7",gfmTask:"8",heading:"9",headingSetext:"10",htmlBlock:"11",htmlComment:"12",htmlSelfClosing:"13",image:"14",link:"15",linkAngleBraceStyleDetector:"16",linkBareUrlDetector:"17",linkMailtoDetector:"18",newlineCoalescer:"19",orderedList:"20",paragraph:"21",ref:"22",refImage:"23",refLink:"24",table:"25",text:"27",textBolded:"28",textEmphasized:"29",textEscaped:"30",textMarked:"31",textStrikethroughed:"32",unorderedList:"33"};var ts;(function(t){t[t.MAX=0]="MAX",t[t.HIGH=1]="HIGH",t[t.MED=2]="MED",t[t.LOW=3]="LOW",t[t.MIN=4]="MIN"})(ts||(ts={}));const rs=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((t,e)=>(t[e.toLowerCase()]=e,t),{class:"className",for:"htmlFor"}),ns={amp:"&",apos:"'",gt:">",lt:"<",nbsp:" ",quot:"“"},ac=["style","script"],ic=["src","href","data","formAction","srcDoc","action"],oc=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,cc=/mailto:/i,lc=/\n{2,}$/,ni=/^(\s*>[\s\S]*?)(?=\n\n|$)/,dc=/^ *> ?/gm,uc=/^(?:\[!([^\]]*)\]\n)?([\s\S]*)/,fc=/^ {2,}\n/,mc=/^(?:( *[-*_])){3,} *(?:\n *)+\n/,si=/^(?: {1,3})?(`{3,}|~{3,}) *(\S+)? *([^\n]*?)?\n([\s\S]*?)(?:\1\n?|$)/,ai=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,hc=/^(`+)((?:\\`|(?!\1)`|[^`])+)\1/,pc=/^(?:\n *)*\n/,yc=/\r\n?/g,gc=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,vc=/^\[\^([^\]]+)]/,_c=/\f/g,bc=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,Sc=/^\s*?\[(x|\s)\]/,ii=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,oi=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,ci=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,pn=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,$c=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,li=/^<!--[\s\S]*?(?:-->)/,wc=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,yn=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,Ec=/^\{.*\}$/,jc=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,Cc=/^<([^ >]+@[^ >]+)>/,Tc=/^<([^ >]+:\/[^ >]+)>/,Oc=/-([a-z])?/gi,di=/^(\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,Pc=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,kc=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,Nc=/^\[([^\]]*)\] ?\[([^\]]*)\]/,Fc=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,Ic=/\t/g,xc=/(^ *\||\| *$)/g,Ac=/^ *:-+: *$/,Dc=/^ *:-+ *$/,Rc=/^ *-+: *$/,xr="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|\\\\\\1|[\\s\\S])+?)",Mc=new RegExp(`^([*_])\\1${xr}\\1\\1(?!\\1)`),qc=new RegExp(`^([*_])${xr}\\1(?!\\1)`),Uc=new RegExp(`^(==)${xr}\\1`),Vc=new RegExp(`^(~~)${xr}\\1`),Bc=/^\\([^0-9A-Za-z\s])/,ss=/\\([^0-9A-Za-z\s])/g,Lc=/^([\s\S](?:(?!  |[0-9]\.)[^=*_~\-\n<`\\\[!])*)/,zc=/^\n+/,Kc=/^([ \t]*)/,Wc=/\\([^\\])/g,Hc=/(?:^|\n)( *)$/,On="(?:\\d+\\.)",Pn="(?:[*+-])";function ui(t){return"( *)("+(t===1?On:Pn)+") +"}const fi=ui(1),mi=ui(2);function hi(t){return new RegExp("^"+(t===1?fi:mi))}const Gc=hi(1),Jc=hi(2);function pi(t){return new RegExp("^"+(t===1?fi:mi)+"[^\\n]*(?:\\n(?!\\1"+(t===1?On:Pn)+" )[^\\n]*)*(\\n|$)","gm")}const Yc=pi(1),Xc=pi(2);function yi(t){const e=t===1?On:Pn;return new RegExp("^( *)("+e+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+e+" (?!"+e+" ))\\n*|\\s*\\n*$)")}const gi=yi(1),vi=yi(2);function as(t,e){const r=e===1,n=r?gi:vi,a=r?Yc:Xc,s=r?Gc:Jc;return{match:ft(function(o,i){const c=Hc.exec(i.prevCapture);return c&&(i.list||!i.inline&&!i.simple)?n.exec(o=c[1]+o):null}),order:1,parse(o,i,c){const u=r?+o[2]:void 0,d=o[0].replace(lc,`
`).match(a);let f=!1;return{items:d.map(function(l,h){const y=s.exec(l)[0].length,v=new RegExp("^ {1,"+y+"}","gm"),p=l.replace(v,"").replace(s,""),g=h===d.length-1,m=p.indexOf(`

`)!==-1||g&&f;f=m;const _=c.inline,S=c.list;let $;c.list=!0,m?(c.inline=!1,$=Ct(p)+`

`):(c.inline=!0,$=Ct(p));const b=i($,c);return c.inline=_,c.list=S,b}),ordered:r,start:u}},render:(o,i,c)=>t(o.ordered?"ol":"ul",{key:c.key,start:o.type===Q.orderedList?o.start:void 0},o.items.map(function(u,d){return t("li",{key:d},i(u,c))}))}}const Qc=new RegExp(`^\\[((?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['"]([\\s\\S]*?)['"])?\\s*\\)`),Zc=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,_i=[ni,si,ai,ii,ci,oi,di,gi,vi],el=[..._i,/^[^\n]+(?:  \n|\n{2,})/,pn,li,yn];function Ct(t){let e=t.length;for(;e>0&&t[e-1]<=" ";)e--;return t.slice(0,e)}function gt(t){return t.replace(/[ÀÁÂÃÄÅàáâãäåæÆ]/g,"a").replace(/[çÇ]/g,"c").replace(/[ðÐ]/g,"d").replace(/[ÈÉÊËéèêë]/g,"e").replace(/[ÏïÎîÍíÌì]/g,"i").replace(/[Ññ]/g,"n").replace(/[øØœŒÕõÔôÓóÒò]/g,"o").replace(/[ÜüÛûÚúÙù]/g,"u").replace(/[ŸÿÝý]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function tl(t){return Rc.test(t)?"right":Ac.test(t)?"center":Dc.test(t)?"left":null}function is(t,e,r,n){const a=r.inTable;r.inTable=!0;let s=[[]],o="";function i(){if(!o)return;const c=s[s.length-1];c.push.apply(c,e(o,r)),o=""}return t.trim().split(/(`[^`]*`|\\\||\|)/).filter(Boolean).forEach((c,u,d)=>{c.trim()==="|"&&(i(),n)?u!==0&&u!==d.length-1&&s.push([]):o+=c}),i(),r.inTable=a,s}function rl(t,e,r){r.inline=!0;const n=t[2]?t[2].replace(xc,"").split("|").map(tl):[],a=t[3]?(function(o,i,c){return o.trim().split(`
`).map(function(u){return is(u,i,c,!0)})})(t[3],e,r):[],s=is(t[1],e,r,!!a.length);return r.inline=!1,a.length?{align:n,cells:a,header:s,type:Q.table}:{children:s,type:Q.paragraph}}function os(t,e){return t.align[e]==null?{}:{textAlign:t.align[e]}}function ft(t){return t.inline=1,t}function ze(t){return ft(function(e,r){return r.inline?t.exec(e):null})}function Ke(t){return ft(function(e,r){return r.inline||r.simple?t.exec(e):null})}function Ue(t){return function(e,r){return r.inline||r.simple?null:t.exec(e)}}function vt(t){return ft(function(e){return t.exec(e)})}function nl(t,e){if(e.inline||e.simple)return null;let r="";t.split(`
`).every(a=>(a+=`
`,!_i.some(s=>s.test(a))&&(r+=a,!!a.trim())));const n=Ct(r);return n==""?null:[r,,n]}const sl=/(javascript|vbscript|data(?!:image)):/i;function al(t){try{const e=decodeURIComponent(t).replace(/[^A-Za-z0-9/:]/g,"");if(sl.test(e))return null}catch{return null}return t}function cs(t){return t.replace(Wc,"$1")}function $r(t,e,r){const n=r.inline||!1,a=r.simple||!1;r.inline=!0,r.simple=!0;const s=t(e,r);return r.inline=n,r.simple=a,s}function il(t,e,r){const n=r.inline||!1,a=r.simple||!1;r.inline=!1,r.simple=!0;const s=t(e,r);return r.inline=n,r.simple=a,s}function ol(t,e,r){const n=r.inline||!1;r.inline=!1;const a=t(e,r);return r.inline=n,a}const Yr=(t,e,r)=>({children:$r(e,t[2],r)});function Xr(){return{}}function Qr(){return null}function cl(...t){return t.filter(Boolean).join(" ")}function Zr(t,e,r){let n=t;const a=e.split(".");for(;a.length&&(n=n[a[0]],n!==void 0);)a.shift();return n||r}function ll(t="",e={}){function r(l,h,...y){const v=Zr(e.overrides,`${l}.props`,{});return e.createElement((function(p,g){const m=Zr(g,p);return m?typeof m=="function"||typeof m=="object"&&"render"in m?m:Zr(g,`${p}.component`,p):p})(l,e.overrides),Ze({},h,v,{className:cl(h?.className,v.className)||void 0}),...y)}function n(l){l=l.replace(bc,"");let h=!1;e.forceInline?h=!0:e.forceBlock||(h=Fc.test(l)===!1);const y=u(c(h?l:`${Ct(l).replace(zc,"")}

`,{inline:h}));for(;typeof y[y.length-1]=="string"&&!y[y.length-1].trim();)y.pop();if(e.wrapper===null)return y;const v=e.wrapper||(h?"span":"div");let p;if(y.length>1||e.forceWrapper)p=y;else{if(y.length===1)return p=y[0],typeof p=="string"?r("span",{key:"outer"},p):p;p=null}return e.createElement(v,{key:"outer"},p)}function a(l,h){const y=h.match(oc);return y?y.reduce(function(v,p){const g=p.indexOf("=");if(g!==-1){const m=(function(b){return b.indexOf("-")!==-1&&b.match(wc)===null&&(b=b.replace(Oc,function(w,O){return O.toUpperCase()})),b})(p.slice(0,g)).trim(),_=(function(b){const w=b[0];return(w==='"'||w==="'")&&b.length>=2&&b[b.length-1]===w?b.slice(1,-1):b})(p.slice(g+1).trim()),S=rs[m]||m;if(S==="ref")return v;const $=v[S]=(function(b,w,O,T){return w==="style"?(function(I){const A=[];let U="",q=!1,L=!1,B="";if(!I)return A;for(let re=0;re<I.length;re++){const W=I[re];if(W!=='"'&&W!=="'"||q||(L?W===B&&(L=!1,B=""):(L=!0,B=W)),W==="("&&U.endsWith("url")?q=!0:W===")"&&q&&(q=!1),W!==";"||L||q)U+=W;else{const X=U.trim();if(X){const R=X.indexOf(":");if(R>0){const P=X.slice(0,R).trim(),D=X.slice(R+1).trim();A.push([P,D])}}U=""}}const J=U.trim();if(J){const re=J.indexOf(":");if(re>0){const W=J.slice(0,re).trim(),X=J.slice(re+1).trim();A.push([W,X])}}return A})(O).reduce(function(I,[A,U]){return I[A.replace(/(-[a-z])/g,q=>q[1].toUpperCase())]=T(U,b,A),I},{}):ic.indexOf(w)!==-1?T(O,b,w):(O.match(Ec)&&(O=O.slice(1,O.length-1)),O==="true"||O!=="false"&&O)})(l,m,_,e.sanitizer);typeof $=="string"&&(pn.test($)||yn.test($))&&(v[S]=n($.trim()))}else p!=="style"&&(v[rs[p]||p]=!0);return v},{}):null}e.overrides=e.overrides||{},e.sanitizer=e.sanitizer||al,e.slugify=e.slugify||gt,e.namedCodesToUnicode=e.namedCodesToUnicode?Ze({},ns,e.namedCodesToUnicode):ns,e.createElement=e.createElement||Y.createElement;const s=[],o={},i={[Q.blockQuote]:{match:Ue(ni),order:1,parse(l,h,y){const[,v,p]=l[0].replace(dc,"").match(uc);return{alert:v,children:h(p,y)}},render(l,h,y){const v={key:y.key};return l.alert&&(v.className="markdown-alert-"+e.slugify(l.alert.toLowerCase(),gt),l.children.unshift({attrs:{},children:[{type:Q.text,text:l.alert}],noInnerParse:!0,type:Q.htmlBlock,tag:"header"})),r("blockquote",v,h(l.children,y))}},[Q.breakLine]:{match:vt(fc),order:1,parse:Xr,render:(l,h,y)=>r("br",{key:y.key})},[Q.breakThematic]:{match:Ue(mc),order:1,parse:Xr,render:(l,h,y)=>r("hr",{key:y.key})},[Q.codeBlock]:{match:Ue(ai),order:0,parse:l=>({lang:void 0,text:Ct(l[0].replace(/^ {4}/gm,"")).replace(ss,"$1")}),render:(l,h,y)=>r("pre",{key:y.key},r("code",Ze({},l.attrs,{className:l.lang?`lang-${l.lang}`:""}),l.text))},[Q.codeFenced]:{match:Ue(si),order:0,parse:l=>({attrs:a("code",l[3]||""),lang:l[2]||void 0,text:l[4],type:Q.codeBlock})},[Q.codeInline]:{match:Ke(hc),order:3,parse:l=>({text:l[2].replace(ss,"$1")}),render:(l,h,y)=>r("code",{key:y.key},l.text)},[Q.footnote]:{match:Ue(gc),order:0,parse:l=>(s.push({footnote:l[2],identifier:l[1]}),{}),render:Qr},[Q.footnoteReference]:{match:ze(vc),order:1,parse:l=>({target:`#${e.slugify(l[1],gt)}`,text:l[1]}),render:(l,h,y)=>r("a",{key:y.key,href:e.sanitizer(l.target,"a","href")},r("sup",{key:y.key},l.text))},[Q.gfmTask]:{match:ze(Sc),order:1,parse:l=>({completed:l[1].toLowerCase()==="x"}),render:(l,h,y)=>r("input",{checked:l.completed,key:y.key,readOnly:!0,type:"checkbox"})},[Q.heading]:{match:Ue(e.enforceAtxHeadings?oi:ii),order:1,parse:(l,h,y)=>({children:$r(h,l[2],y),id:e.slugify(l[2],gt),level:l[1].length}),render:(l,h,y)=>r(`h${l.level}`,{id:l.id,key:y.key},h(l.children,y))},[Q.headingSetext]:{match:Ue(ci),order:0,parse:(l,h,y)=>({children:$r(h,l[1],y),level:l[2]==="="?1:2,type:Q.heading})},[Q.htmlBlock]:{match:vt(pn),order:1,parse(l,h,y){const[,v]=l[3].match(Kc),p=new RegExp(`^${v}`,"gm"),g=l[3].replace(p,""),m=(_=g,el.some(O=>O.test(_))?ol:$r);var _;const S=l[1].toLowerCase(),$=ac.indexOf(S)!==-1,b=($?S:l[1]).trim(),w={attrs:a(b,l[2]),noInnerParse:$,tag:b};return y.inAnchor=y.inAnchor||S==="a",$?w.text=l[3]:w.children=m(h,g,y),y.inAnchor=!1,w},render:(l,h,y)=>r(l.tag,Ze({key:y.key},l.attrs),l.text||(l.children?h(l.children,y):""))},[Q.htmlSelfClosing]:{match:vt(yn),order:1,parse(l){const h=l[1].trim();return{attrs:a(h,l[2]||""),tag:h}},render:(l,h,y)=>r(l.tag,Ze({},l.attrs,{key:y.key}))},[Q.htmlComment]:{match:vt(li),order:1,parse:()=>({}),render:Qr},[Q.image]:{match:Ke(Zc),order:1,parse:l=>({alt:l[1],target:cs(l[2]),title:l[3]}),render:(l,h,y)=>r("img",{key:y.key,alt:l.alt||void 0,title:l.title||void 0,src:e.sanitizer(l.target,"img","src")})},[Q.link]:{match:ze(Qc),order:3,parse:(l,h,y)=>({children:il(h,l[1],y),target:cs(l[2]),title:l[3]}),render:(l,h,y)=>r("a",{key:y.key,href:e.sanitizer(l.target,"a","href"),title:l.title},h(l.children,y))},[Q.linkAngleBraceStyleDetector]:{match:ze(Tc),order:0,parse:l=>({children:[{text:l[1],type:Q.text}],target:l[1],type:Q.link})},[Q.linkBareUrlDetector]:{match:ft((l,h)=>h.inAnchor||e.disableAutoLink?null:ze(jc)(l,h)),order:0,parse:l=>({children:[{text:l[1],type:Q.text}],target:l[1],title:void 0,type:Q.link})},[Q.linkMailtoDetector]:{match:ze(Cc),order:0,parse(l){let h=l[1],y=l[1];return cc.test(y)||(y="mailto:"+y),{children:[{text:h.replace("mailto:",""),type:Q.text}],target:y,type:Q.link}}},[Q.orderedList]:as(r,1),[Q.unorderedList]:as(r,2),[Q.newlineCoalescer]:{match:Ue(pc),order:3,parse:Xr,render:()=>`
`},[Q.paragraph]:{match:ft(nl),order:3,parse:Yr,render:(l,h,y)=>r("p",{key:y.key},h(l.children,y))},[Q.ref]:{match:ze(Pc),order:0,parse:l=>(o[l[1]]={target:l[2],title:l[4]},{}),render:Qr},[Q.refImage]:{match:Ke(kc),order:0,parse:l=>({alt:l[1]||void 0,ref:l[2]}),render:(l,h,y)=>o[l.ref]?r("img",{key:y.key,alt:l.alt,src:e.sanitizer(o[l.ref].target,"img","src"),title:o[l.ref].title}):null},[Q.refLink]:{match:ze(Nc),order:0,parse:(l,h,y)=>({children:h(l[1],y),fallbackChildren:l[0],ref:l[2]}),render:(l,h,y)=>o[l.ref]?r("a",{key:y.key,href:e.sanitizer(o[l.ref].target,"a","href"),title:o[l.ref].title},h(l.children,y)):r("span",{key:y.key},l.fallbackChildren)},[Q.table]:{match:Ue(di),order:1,parse:rl,render(l,h,y){const v=l;return r("table",{key:y.key},r("thead",null,r("tr",null,v.header.map(function(p,g){return r("th",{key:g,style:os(v,g)},h(p,y))}))),r("tbody",null,v.cells.map(function(p,g){return r("tr",{key:g},p.map(function(m,_){return r("td",{key:_,style:os(v,_)},h(m,y))}))})))}},[Q.text]:{match:vt(Lc),order:4,parse:l=>({text:l[0].replace($c,(h,y)=>e.namedCodesToUnicode[y]?e.namedCodesToUnicode[y]:h)}),render:l=>l.text},[Q.textBolded]:{match:Ke(Mc),order:2,parse:(l,h,y)=>({children:h(l[2],y)}),render:(l,h,y)=>r("strong",{key:y.key},h(l.children,y))},[Q.textEmphasized]:{match:Ke(qc),order:3,parse:(l,h,y)=>({children:h(l[2],y)}),render:(l,h,y)=>r("em",{key:y.key},h(l.children,y))},[Q.textEscaped]:{match:Ke(Bc),order:1,parse:l=>({text:l[1],type:Q.text})},[Q.textMarked]:{match:Ke(Uc),order:3,parse:Yr,render:(l,h,y)=>r("mark",{key:y.key},h(l.children,y))},[Q.textStrikethroughed]:{match:Ke(Vc),order:3,parse:Yr,render:(l,h,y)=>r("del",{key:y.key},h(l.children,y))}};e.disableParsingRawHTML===!0&&(delete i[Q.htmlBlock],delete i[Q.htmlSelfClosing]);const c=(function(l){let h=Object.keys(l);function y(v,p){let g,m,_=[],S="",$="";for(p.prevCapture=p.prevCapture||"";v;){let b=0;for(;b<h.length;){if(S=h[b],g=l[S],p.inline&&!g.match.inline){b++;continue}const w=g.match(v,p);if(w){$=w[0],p.prevCapture+=$,v=v.substring($.length),m=g.parse(w,y,p),m.type==null&&(m.type=S),_.push(m);break}b++}}return p.prevCapture="",_}return h.sort(function(v,p){let g=l[v].order,m=l[p].order;return g!==m?g-m:v<p?-1:1}),function(v,p){return y((function(g){return g.replace(yc,`
`).replace(_c,"").replace(Ic,"    ")})(v),p)}})(i),u=(d=(function(l,h){return function(y,v,p){const g=l[y.type].render;return h?h(()=>g(y,v,p),y,v,p):g(y,v,p)}})(i,e.renderRule),function l(h,y={}){if(Array.isArray(h)){const v=y.key,p=[];let g=!1;for(let m=0;m<h.length;m++){y.key=m;const _=l(h[m],y),S=typeof _=="string";S&&g?p[p.length-1]+=_:_!==null&&p.push(_),g=S}return y.key=v,p}return d(h,l,y)});var d;const f=n(t);return s.length?r("div",null,f,r("footer",{key:"footer"},s.map(function(l){return r("div",{id:e.slugify(l.identifier,gt),key:l.identifier},l.identifier,u(c(l.footnote,{inline:!0})))}))):f}const Ar=t=>{let{children:e="",options:r}=t,n=(function(a,s){if(a==null)return{};var o,i,c={},u=Object.keys(a);for(i=0;i<u.length;i++)s.indexOf(o=u[i])>=0||(c[o]=a[o]);return c})(t,sc);return Y.cloneElement(ll(e,r),n)};class dl extends Y.Component{state={wasPropertyKeyModified:!1,additionalProperties:{}};isRequired(e){const{schema:r}=this.props;return Array.isArray(r.required)&&r.required.indexOf(e)!==-1}onPropertyChange=(e,r=!1)=>(n,a,s)=>{const{formData:o,onChange:i,errorSchema:c}=this.props;n===void 0&&r&&(n="");const u={...o,[e]:n};i(u,c&&c&&{...c,[e]:a},s)};onDropPropertyClick=e=>r=>{r.preventDefault();const{onChange:n,formData:a}=this.props,s={...a};bo(s,e),n(s)};getAvailableKey=(e,r)=>{const{uiSchema:n,registry:a}=this.props,{duplicateKeySuffixSeparator:s="-"}=ee(n,a.globalUiOptions);let o=0,i=e;for(;le(r,i);)i=`${e}${s}${++o}`;return i};onKeyChange=e=>(r,n)=>{if(e===r)return;const{formData:a,onChange:s,errorSchema:o}=this.props;r=this.getAvailableKey(r,a);const i={...a},c={[e]:r},u=Object.keys(i).map(f=>({[c[f]||f]:i[f]})),d=Object.assign({},...u);this.setState({wasPropertyKeyModified:!0}),s(d,o&&o&&{...o,[r]:n})};getDefaultValue(e){const{registry:{translateString:r}}=this.props;switch(e){case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};default:return r(oe.NewStringDefault)}}handleAddClick=e=>()=>{if(!(e.additionalProperties||e.patternProperties))return;const{formData:r,onChange:n,registry:a}=this.props,s={...r},o=this.getAvailableKey("newKey",s);if(e.patternProperties)fe(s,o,null);else{let i,c,u;if(Pe(e.additionalProperties)){i=e.additionalProperties.type,c=e.additionalProperties.const,u=e.additionalProperties.default;let f=e.additionalProperties;if(Fe in f){const{schemaUtils:l}=a;f=l.retrieveSchema({$ref:f[Fe]},r),i=f.type,c=f.const,u=f.default}!i&&(ge in f||pe in f)&&(i="object")}const d=c??u??this.getDefaultValue(i);fe(s,o,d)}n(s)};render(){const{schema:e,uiSchema:r={},formData:n,errorSchema:a,idSchema:s,name:o,required:i=!1,disabled:c,readonly:u,hideError:d,idPrefix:f,idSeparator:l,onBlur:h,onFocus:y,registry:v,title:p}=this.props,{fields:g,formContext:m,schemaUtils:_,translateString:S,globalUiOptions:$}=v,{SchemaField:b}=g,w=_.retrieveSchema(e,n),O=ee(r,$),{properties:T={}}=w,I=O.title??w.title??p??o,A=O.description??w.description;let U;try{const B=Object.keys(T);U=Lo(B,O.order)}catch(B){return j.jsxs("div",{children:[j.jsx("p",{className:"rjsf-config-error",style:{color:"red"},children:j.jsx(Ar,{options:{disableParsingRawHTML:!0},children:S(oe.InvalidObjectField,[o||"root",B.message])})}),j.jsx("pre",{children:JSON.stringify(w)})]})}const q=Z("ObjectFieldTemplate",v,O),L={title:O.label===!1?"":I,description:O.label===!1?void 0:A,properties:U.map(B=>{const J=le(w,[he,B,Pt]),re=J?r.additionalProperties:r[B],W=ee(re).widget==="hidden",X=z(s,[B],{});return{content:j.jsx(b,{name:B,required:this.isRequired(B),schema:z(w,[he,B],{}),uiSchema:re,errorSchema:z(a,B),idSchema:X,idPrefix:f,idSeparator:l,formData:z(n,B),formContext:m,wasPropertyKeyModified:this.state.wasPropertyKeyModified,onKeyChange:this.onKeyChange(B),onChange:this.onPropertyChange(B,J),onBlur:h,onFocus:y,registry:v,disabled:c,readonly:u,hideError:d,onDropPropertyClick:this.onDropPropertyClick},B),name:B,readonly:u,disabled:c,required:i,hidden:W}}),readonly:u,disabled:c,required:i,idSchema:s,uiSchema:r,errorSchema:a,schema:w,formData:n,formContext:m,registry:v};return j.jsx(q,{...L,onAddClick:this.handleAddClick})}}const ul={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function fl(t,e,r,n){const a=e.field,{fields:s,translateString:o}=n;if(typeof a=="function")return a;if(typeof a=="string"&&a in s)return s[a];const i=Ot(t),c=Array.isArray(i)?i[0]:i||"",u=t.$id;let d=ul[c];return u&&u in s&&(d=u),!d&&(t.anyOf||t.oneOf)?()=>null:d in s?s[d]:()=>{const f=Z("UnsupportedFieldTemplate",n,e);return j.jsx(f,{schema:t,idSchema:r,reason:o(oe.UnknownFieldType,[String(t.type)]),registry:n})}}function ml(t){const{schema:e,idSchema:r,uiSchema:n,formData:a,errorSchema:s,idPrefix:o,idSeparator:i,name:c,onChange:u,onKeyChange:d,onDropPropertyClick:f,required:l,registry:h,wasPropertyKeyModified:y=!1}=t,{formContext:v,schemaUtils:p,globalUiOptions:g}=h,m=ee(n,g),_=Z("FieldTemplate",h,m),S=Z("DescriptionFieldTemplate",h,m),$=Z("FieldHelpTemplate",h,m),b=Z("FieldErrorTemplate",h,m),w=p.retrieveSchema(e,a),O=r[Re],T=et(p.toIdSchema(w,O,a,o,i),r),I=Y.useCallback((V,H,te)=>u(V,H,te||O),[O,u]),A=fl(w,m,T,h),U=!!(m.disabled??t.disabled),q=!!(m.readonly??(t.readonly||t.schema.readOnly||w.readOnly)),L=m.hideError,B=L===void 0?t.hideError:!!L,J=!!(m.autofocus??t.autofocus);if(Object.keys(w).length===0)return null;const re=p.getDisplayLabel(w,n,g),{__errors:W,...X}=s||{},R=Er(n,["ui:classNames","classNames","ui:style"]);nt in R&&(R[nt]=Er(R[nt],["classNames","style"]));const P=j.jsx(A,{...t,onChange:I,idSchema:T,schema:w,uiSchema:R,disabled:U,readonly:q,hideError:B,autofocus:J,errorSchema:X,formContext:v,rawErrors:W}),D=T[Re];let N;y?N=c:N=Pt in w?c:m.title||t.schema.title||w.title||t.title||c;const E=m.description||t.schema.description||w.description||"",C=m.help,x=m.widget==="hidden",K=["rjsf-field",`rjsf-field-${Ot(w)}`];!B&&W&&W.length>0&&K.push("rjsf-field-error"),m.classNames&&K.push(m.classNames);const G=j.jsx($,{help:C,idSchema:T,schema:w,uiSchema:n,hasErrors:!B&&W&&W.length>0,registry:h}),ie=B||(w.anyOf||w.oneOf)&&!p.isSelect(w)?void 0:j.jsx(b,{errors:W,errorSchema:s,idSchema:T,schema:w,uiSchema:n,registry:h}),ae={description:j.jsx(S,{id:at(D),description:E,schema:w,uiSchema:n,registry:h}),rawDescription:E,help:G,rawHelp:typeof C=="string"?C:void 0,errors:ie,rawErrors:B?void 0:W,id:D,label:N,hidden:x,onChange:u,onKeyChange:d,onDropPropertyClick:f,required:l,disabled:U,readonly:q,hideError:B,displayLabel:re,classNames:K.join(" ").trim(),style:m.style,formContext:v,formData:a,schema:w,uiSchema:n,registry:h},k=h.fields.AnyOfField,F=h.fields.OneOfField,M=n?.["ui:field"]&&n?.["ui:fieldReplacesAnyOrOneOf"]===!0;return j.jsx(_,{...ae,children:j.jsxs(j.Fragment,{children:[P,w.anyOf&&!M&&!p.isSelect(w)&&j.jsx(k,{name:c,disabled:U,readonly:q,hideError:B,errorSchema:s,formData:a,formContext:v,idPrefix:o,idSchema:T,idSeparator:i,onBlur:t.onBlur,onChange:t.onChange,onFocus:t.onFocus,options:w.anyOf.map(V=>p.retrieveSchema(Pe(V)?V:{},a)),registry:h,required:l,schema:w,uiSchema:n}),w.oneOf&&!M&&!p.isSelect(w)&&j.jsx(F,{name:c,disabled:U,readonly:q,hideError:B,errorSchema:s,formData:a,formContext:v,idPrefix:o,idSchema:T,idSeparator:i,onBlur:t.onBlur,onChange:t.onChange,onFocus:t.onFocus,options:w.oneOf.map(V=>p.retrieveSchema(Pe(V)?V:{},a)),registry:h,required:l,schema:w,uiSchema:n})]})})}class hl extends Y.Component{shouldComponentUpdate(e){return!me(this.props,e)}render(){return j.jsx(ml,{...this.props})}}function pl(t){const{schema:e,name:r,uiSchema:n,idSchema:a,formData:s,required:o,disabled:i=!1,readonly:c=!1,autofocus:u=!1,onChange:d,onBlur:f,onFocus:l,registry:h,rawErrors:y,hideError:v}=t,{title:p,format:g}=e,{widgets:m,formContext:_,schemaUtils:S,globalUiOptions:$}=h,b=S.isSelect(e)?Et(e,n):void 0;let w=b?"select":"text";g&&Vo(e,g,m)&&(w=g);const{widget:O=w,placeholder:T="",title:I,...A}=ee(n),U=S.getDisplayLabel(e,n,$),q=I??p??r,L=qe(e,O,m);return j.jsx(L,{options:{...A,enumOptions:b},schema:e,uiSchema:n,id:a.$id,name:r,label:q,hideLabel:!U,hideError:v,value:s,onChange:d,onBlur:f,onFocus:l,required:o,disabled:i,readonly:c,formContext:_,autofocus:u,registry:h,placeholder:T,rawErrors:y})}function yl(t){const{formData:e,onChange:r}=t;return Y.useEffect(()=>{e===void 0&&r(null)},[e,r]),null}function gl(){return{AnyOfField:es,ArrayField:Yo,BooleanField:Xo,LayoutGridField:ye,LayoutHeaderField:Zo,LayoutMultiSchemaField:ec,NumberField:nc,ObjectField:dl,OneOfField:es,SchemaField:hl,StringField:pl,NullField:yl}}function vl(t){const{idSchema:e,description:r,registry:n,schema:a,uiSchema:s}=t,o=ee(s,n.globalUiOptions),{label:i=!0}=o;if(!r||!i)return null;const c=Z("DescriptionFieldTemplate",n,o);return j.jsx(c,{id:at(e),description:r,schema:a,uiSchema:s,registry:n})}function _l(t){const{children:e,className:r,buttonsProps:n,hasToolbar:a,registry:s,uiSchema:o}=t,i=ee(o),c=Z("ArrayFieldItemButtonsTemplate",s,i),u={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return j.jsxs("div",{className:r,children:[j.jsx("div",{className:a?"col-xs-9":"col-xs-12",children:e}),a&&j.jsx("div",{className:"col-xs-3 array-item-toolbox",children:j.jsx("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"},children:j.jsx(c,{...n,style:u})})})]})}function bl(t){const{disabled:e,hasCopy:r,hasMoveDown:n,hasMoveUp:a,hasRemove:s,idSchema:o,index:i,onCopyIndexClick:c,onDropIndexClick:u,onReorderClick:d,readonly:f,registry:l,uiSchema:h}=t,{CopyButton:y,MoveDownButton:v,MoveUpButton:p,RemoveButton:g}=l.templates.ButtonTemplates,m=Y.useMemo(()=>c(i),[i,c]),_=Y.useMemo(()=>u(i),[i,u]),S=Y.useMemo(()=>d(i,i-1),[i,d]),$=Y.useMemo(()=>d(i,i+1),[i,d]);return j.jsxs(j.Fragment,{children:[(a||n)&&j.jsx(p,{id:Me(o,"moveUp"),className:"rjsf-array-item-move-up",disabled:e||f||!a,onClick:S,uiSchema:h,registry:l}),(a||n)&&j.jsx(v,{id:Me(o,"moveDown"),className:"rjsf-array-item-move-down",disabled:e||f||!n,onClick:$,uiSchema:h,registry:l}),r&&j.jsx(y,{id:Me(o,"copy"),className:"rjsf-array-item-copy",disabled:e||f,onClick:m,uiSchema:h,registry:l}),s&&j.jsx(g,{id:Me(o,"remove"),className:"rjsf-array-item-remove",disabled:e||f,onClick:_,uiSchema:h,registry:l})]})}function Sl(t){const{canAdd:e,className:r,disabled:n,idSchema:a,uiSchema:s,items:o,onAddClick:i,readonly:c,registry:u,required:d,schema:f,title:l}=t,h=ee(s),y=Z("ArrayFieldDescriptionTemplate",u,h),v=Z("ArrayFieldItemTemplate",u,h),p=Z("ArrayFieldTitleTemplate",u,h),{ButtonTemplates:{AddButton:g}}=u.templates;return j.jsxs("fieldset",{className:r,id:a.$id,children:[j.jsx(p,{idSchema:a,title:h.title||l,required:d,schema:f,uiSchema:s,registry:u}),j.jsx(y,{idSchema:a,description:h.description||f.description,schema:f,uiSchema:s,registry:u}),j.jsx("div",{className:"row array-item-list",children:o&&o.map(({key:m,..._})=>j.jsx(v,{..._},m))}),e&&j.jsx(g,{id:Me(a,"add"),className:"rjsf-array-item-add",onClick:i,disabled:n||c,uiSchema:s,registry:u})]})}function $l(t){const{idSchema:e,title:r,schema:n,uiSchema:a,required:s,registry:o}=t,i=ee(a,o.globalUiOptions),{label:c=!0}=i;if(!r||!c)return null;const u=Z("TitleFieldTemplate",o,i);return j.jsx(u,{id:Fr(e),title:r,required:s,schema:n,uiSchema:a,registry:o})}function wl(t){const{id:e,name:r,value:n,readonly:a,disabled:s,autofocus:o,onBlur:i,onFocus:c,onChange:u,onChangeOverride:d,options:f,schema:l,uiSchema:h,formContext:y,registry:v,rawErrors:p,type:g,hideLabel:m,hideError:_,...S}=t;if(!e)throw console.log("No id for",t),new Error(`no id for props ${JSON.stringify(t)}`);const $={...S,...Za(l,g,f)};let b;$.type==="number"||$.type==="integer"?b=n||n===0?n:"":b=n??"";const w=Y.useCallback(({target:{value:I}})=>u(I===""?f.emptyValue:I),[u,f]),O=Y.useCallback(({target:I})=>i(e,I&&I.value),[i,e]),T=Y.useCallback(({target:I})=>c(e,I&&I.value),[c,e]);return j.jsxs(j.Fragment,{children:[j.jsx("input",{id:e,name:e,className:"form-control",readOnly:a,disabled:s,autoFocus:o,value:b,...$,list:l.examples?jt(e):void 0,onChange:d||w,onBlur:O,onFocus:T,"aria-describedby":Te(e,!!l.examples)}),Array.isArray(l.examples)&&j.jsx("datalist",{id:jt(e),children:l.examples.concat(l.default&&!l.examples.includes(l.default)?[l.default]:[]).map(I=>j.jsx("option",{value:I},I))},`datalist_${e}`)]})}function El({uiSchema:t}){const{submitText:e,norender:r,props:n={}}=ei(t);return r?null:j.jsx("div",{children:j.jsx("button",{type:"submit",...n,className:`btn btn-info ${n.className||""}`,children:e})})}function kt(t){const{iconType:e="default",icon:r,className:n,uiSchema:a,registry:s,...o}=t;return j.jsx("button",{type:"button",className:`btn btn-${e} ${n}`,...o,children:j.jsx("i",{className:`glyphicon glyphicon-${r}`})})}function jl(t){const{registry:{translateString:e}}=t;return j.jsx(kt,{title:e(oe.CopyButton),...t,icon:"copy"})}function Cl(t){const{registry:{translateString:e}}=t;return j.jsx(kt,{title:e(oe.MoveDownButton),...t,icon:"arrow-down"})}function Tl(t){const{registry:{translateString:e}}=t;return j.jsx(kt,{title:e(oe.MoveUpButton),...t,icon:"arrow-up"})}function Ol(t){const{registry:{translateString:e}}=t;return j.jsx(kt,{title:e(oe.RemoveButton),...t,iconType:"danger",icon:"remove"})}function Pl({className:t,onClick:e,disabled:r,registry:n}){const{translateString:a}=n;return j.jsx("div",{className:"row",children:j.jsx("p",{className:`col-xs-3 col-xs-offset-9 text-right ${t}`,children:j.jsx(kt,{iconType:"info",icon:"plus",className:"btn-add col-xs-12",title:a(oe.AddButton),onClick:e,disabled:r,registry:n})})})}function kl(){return{SubmitButton:El,AddButton:Pl,CopyButton:jl,MoveDownButton:Cl,MoveUpButton:Tl,RemoveButton:Ol}}const bi=ri();function kn({description:t,registry:e,uiSchema:r={}}){const{globalUiOptions:n}=e;return ee(r,n).enableMarkdownInDescription&&typeof t=="string"?j.jsx(Ar,{options:{disableParsingRawHTML:!0},"data-testid":bi.markdown,children:t}):t}kn.TEST_IDS=bi;function Nl(t){const{id:e,description:r,registry:n,uiSchema:a}=t;return r?j.jsx("div",{id:e,className:"field-description",children:j.jsx(kn,{description:r,registry:n,uiSchema:a})}):null}function Fl({errors:t,registry:e}){const{translateString:r}=e;return j.jsxs("div",{className:"panel panel-danger errors",children:[j.jsx("div",{className:"panel-heading",children:j.jsx("h3",{className:"panel-title",children:r(oe.ErrorsLabel)})}),j.jsx("ul",{className:"list-group",children:t.map((n,a)=>j.jsx("li",{className:"list-group-item text-danger",children:n.stack},a))})]})}const Il="*";function Si(t){const{label:e,required:r,id:n}=t;return e?j.jsxs("label",{className:"control-label",htmlFor:n,children:[e,r&&j.jsx("span",{className:"required",children:Il})]}):null}function xl(t){const{id:e,label:r,children:n,errors:a,help:s,description:o,hidden:i,required:c,displayLabel:u,registry:d,uiSchema:f}=t,l=ee(f),h=Z("WrapIfAdditionalTemplate",d,l);return i?j.jsx("div",{className:"hidden",children:n}):j.jsxs(h,{...t,children:[u&&j.jsx(Si,{label:r,required:c,id:e}),u&&o?o:null,n,a,s]})}function Al(t){const{errors:e=[],idSchema:r}=t;if(e.length===0)return null;const n=En(r);return j.jsx("div",{children:j.jsx("ul",{id:n,className:"error-detail bs-callout bs-callout-info",children:e.filter(a=>!!a).map((a,s)=>j.jsx("li",{className:"text-danger",children:a},s))})})}function Dl(t){const{idSchema:e,help:r}=t;if(!r)return null;const n=jn(e);return typeof r=="string"?j.jsx("p",{id:n,className:"help-block",children:r}):j.jsx("div",{id:n,className:"help-block",children:r})}function Rl(t){const{children:e,column:r,className:n,...a}=t;return j.jsx("div",{className:n,...a,children:e})}function Ml(t){const{description:e,disabled:r,formData:n,idSchema:a,onAddClick:s,properties:o,readonly:i,registry:c,required:u,schema:d,title:f,uiSchema:l}=t,h=ee(l),y=Z("TitleFieldTemplate",c,h),v=Z("DescriptionFieldTemplate",c,h),{ButtonTemplates:{AddButton:p}}=c.templates;return j.jsxs("fieldset",{id:a.$id,children:[f&&j.jsx(y,{id:Fr(a),title:f,required:u,schema:d,uiSchema:l,registry:c}),e&&j.jsx(v,{id:at(a),description:e,schema:d,uiSchema:l,registry:c}),o.map(g=>g.content),Ka(d,l,n)&&j.jsx(p,{id:Me(a,"add"),className:"rjsf-object-property-expand",onClick:s(d),disabled:r||i,uiSchema:l,registry:c})]})}const ql="*";function Ul(t){const{id:e,title:r,required:n}=t;return j.jsxs("legend",{id:e,children:[r,n&&j.jsx("span",{className:"required",children:ql})]})}function Vl(t){const{schema:e,idSchema:r,reason:n,registry:a}=t,{translateString:s}=a;let o=oe.UnsupportedField;const i=[];return r&&r.$id&&(o=oe.UnsupportedFieldWithId,i.push(r.$id)),n&&(o=o===oe.UnsupportedField?oe.UnsupportedFieldWithReason:oe.UnsupportedFieldWithIdAndReason,i.push(n)),j.jsxs("div",{className:"unsupported-field",children:[j.jsx("p",{children:j.jsx(Ar,{options:{disableParsingRawHTML:!0},children:s(o,i)})}),e&&j.jsx("pre",{children:JSON.stringify(e,null,2)})]})}function Bl(t){const{id:e,classNames:r,style:n,disabled:a,label:s,onKeyChange:o,onDropPropertyClick:i,readonly:c,required:u,schema:d,hideError:f,rawErrors:l,children:h,uiSchema:y,registry:v}=t,{templates:p,translateString:g}=v,{RemoveButton:m}=p.ButtonTemplates,_=g(oe.KeyLabel,[s]),S=Pt in d,$=["form-group",r];!f&&l&&l.length>0&&$.push("has-error has-danger");const b=$.join(" ").trim();return S?j.jsx("div",{className:b,style:n,children:j.jsxs("div",{className:"row",children:[j.jsx("div",{className:"col-xs-5 form-additional",children:j.jsxs("div",{className:"form-group",children:[j.jsx(Si,{label:_,required:u,id:`${e}-key`}),j.jsx("input",{className:"form-control",type:"text",id:`${e}-key`,onBlur:({target:w})=>o(w&&w.value),defaultValue:s})]})}),j.jsx("div",{className:"form-additional form-group col-xs-5",children:h}),j.jsx("div",{className:"col-xs-2",children:j.jsx(m,{id:Me(e,"remove"),className:"rjsf-object-property-remove btn-block",style:{border:"0"},disabled:a||c,onClick:i(s),uiSchema:y,registry:v})})]})}):j.jsx("div",{className:b,style:n,children:h})}function Ll(){return{ArrayFieldDescriptionTemplate:vl,ArrayFieldItemTemplate:_l,ArrayFieldItemButtonsTemplate:bl,ArrayFieldTemplate:Sl,ArrayFieldTitleTemplate:$l,ButtonTemplates:kl(),BaseInputTemplate:wl,DescriptionFieldTemplate:Nl,ErrorListTemplate:Fl,FieldTemplate:xl,FieldErrorTemplate:Al,FieldHelpTemplate:Dl,GridTemplate:Rl,ObjectFieldTemplate:Ml,TitleFieldTemplate:Ul,UnsupportedFieldTemplate:Vl,WrapIfAdditionalTemplate:Bl}}function zl(t){return Object.values(t).every(e=>e!==-1)}function Kl({type:t,range:e,value:r,select:n,rootId:a,name:s,disabled:o,readonly:i,autofocus:c,registry:u,onBlur:d,onFocus:f}){const l=a+"_"+t,{SelectWidget:h}=u.widgets;return j.jsx(h,{schema:{type:"integer"},id:l,name:s,className:"form-control",options:{enumOptions:Ja(e[0],e[1])},placeholder:t,value:r,disabled:o,readonly:i,autofocus:c,onChange:y=>n(t,y),onBlur:d,onFocus:f,registry:u,label:"","aria-describedby":Te(a)})}function Wl({time:t=!1,disabled:e=!1,readonly:r=!1,autofocus:n=!1,options:a,id:s,name:o,registry:i,onBlur:c,onFocus:u,onChange:d,value:f}){const{translateString:l}=i,[h,y]=Y.useState(f),[v,p]=Y.useReducer((S,$)=>({...S,...$}),Hr(f,t));Y.useEffect(()=>{const S=Yn(v,t);zl(v)&&S!==f?d(S):h!==f&&(y(f),p(Hr(f,t)))},[t,f,d,v,h]);const g=Y.useCallback((S,$)=>{p({[S]:$})},[]),m=Y.useCallback(S=>{if(S.preventDefault(),e||r)return;const $=Hr(new Date().toJSON(),t);d(Yn($,t))},[e,r,t]),_=Y.useCallback(S=>{S.preventDefault(),!(e||r)&&d(void 0)},[e,r,d]);return j.jsxs("ul",{className:"list-inline",children:[Ao(v,t,a.yearsRange,a.format).map((S,$)=>j.jsx("li",{className:"list-inline-item",children:j.jsx(Kl,{rootId:s,name:o,select:g,...S,disabled:e,readonly:r,registry:i,onBlur:c,onFocus:u,autofocus:n&&$===0})},$)),(a.hideNowButton!=="undefined"?!a.hideNowButton:!0)&&j.jsx("li",{className:"list-inline-item",children:j.jsx("a",{href:"#",className:"btn btn-info btn-now",onClick:m,children:l(oe.NowLabel)})}),(a.hideClearButton!=="undefined"?!a.hideClearButton:!0)&&j.jsx("li",{className:"list-inline-item",children:j.jsx("a",{href:"#",className:"btn btn-warning btn-clear",onClick:_,children:l(oe.ClearLabel)})})]})}function Hl({time:t=!0,...e}){const{AltDateWidget:r}=e.registry.widgets;return j.jsx(r,{time:t,...e})}function Gl({schema:t,uiSchema:e,options:r,id:n,value:a,disabled:s,readonly:o,label:i,hideLabel:c,autofocus:u=!1,onBlur:d,onFocus:f,onChange:l,registry:h}){const y=Z("DescriptionFieldTemplate",h,r),v=$t(t),p=Y.useCallback(S=>l(S.target.checked),[l]),g=Y.useCallback(S=>d(n,S.target.checked),[d,n]),m=Y.useCallback(S=>f(n,S.target.checked),[f,n]),_=r.description??t.description;return j.jsxs("div",{className:`checkbox ${s||o?"disabled":""}`,children:[!c&&_&&j.jsx(y,{id:at(n),description:_,schema:t,uiSchema:e,registry:h}),j.jsxs("label",{children:[j.jsx("input",{type:"checkbox",id:n,name:n,checked:typeof a>"u"?!1:a,required:v,disabled:s||o,autoFocus:u,onChange:p,onBlur:g,onFocus:m,"aria-describedby":Te(n)}),it(j.jsx("span",{children:i}),c)]})]})}function Jl({id:t,disabled:e,options:{inline:r=!1,enumOptions:n,enumDisabled:a,emptyValue:s},value:o,autofocus:i=!1,readonly:c,onChange:u,onBlur:d,onFocus:f}){const l=Array.isArray(o)?o:[o],h=Y.useCallback(({target:v})=>d(t,ve(v&&v.value,n,s)),[d,t]),y=Y.useCallback(({target:v})=>f(t,ve(v&&v.value,n,s)),[f,t]);return j.jsx("div",{className:"checkboxes",id:t,children:Array.isArray(n)&&n.map((v,p)=>{const g=Nr(v.value,l),m=Array.isArray(a)&&a.indexOf(v.value)!==-1,_=e||m||c?"disabled":"",S=b=>{b.target.checked?u(Xa(p,l,n)):u(Ya(p,l,n))},$=j.jsxs("span",{children:[j.jsx("input",{type:"checkbox",id:Ir(t,p),name:t,checked:g,value:String(p),disabled:e||m||c,autoFocus:i&&p===0,onChange:S,onBlur:h,onFocus:y,"aria-describedby":Te(t)}),j.jsx("span",{children:v.label})]});return r?j.jsx("label",{className:`checkbox-inline ${_}`,children:$},p):j.jsx("div",{className:`checkbox ${_}`,children:j.jsx("label",{children:$})},p)})})}function Yl(t){const{disabled:e,readonly:r,options:n,registry:a}=t,s=Z("BaseInputTemplate",a,n);return j.jsx(s,{type:"color",...t,disabled:e||r})}function Xl(t){const{onChange:e,options:r,registry:n}=t,a=Z("BaseInputTemplate",n,r),s=Y.useCallback(o=>e(o||void 0),[e]);return j.jsx(a,{type:"date",...t,onChange:s})}function Ql(t){const{onChange:e,value:r,options:n,registry:a}=t,s=Z("BaseInputTemplate",a,n);return j.jsx(s,{type:"datetime-local",...t,value:Wo(r),onChange:o=>e(Bo(o))})}function Zl(t){const{options:e,registry:r}=t,n=Z("BaseInputTemplate",r,e);return j.jsx(n,{type:"email",...t})}function ed(t,e){return t===null?null:t.replace(";base64",`;name=${encodeURIComponent(e)};base64`)}function td(t){const{name:e,size:r,type:n}=t;return new Promise((a,s)=>{const o=new window.FileReader;o.onerror=s,o.onload=i=>{typeof i.target?.result=="string"?a({dataURL:ed(i.target.result,e),name:e,size:r,type:n}):a({dataURL:null,name:e,size:r,type:n})},o.readAsDataURL(t)})}function rd(t){return Promise.all(Array.from(t).map(td))}function nd({fileInfo:t,registry:e}){const{translateString:r}=e,{dataURL:n,type:a,name:s}=t;return n?["image/jpeg","image/png"].includes(a)?j.jsx("img",{src:n,style:{maxWidth:"100%"},className:"file-preview"}):j.jsxs(j.Fragment,{children:[" ",j.jsx("a",{download:`preview-${s}`,href:n,className:"file-download",children:r(oe.PreviewLabel)})]}):null}function sd({filesInfo:t,registry:e,preview:r,onRemove:n,options:a}){if(t.length===0)return null;const{translateString:s}=e,{RemoveButton:o}=Z("ButtonTemplates",e,a);return j.jsx("ul",{className:"file-info",children:t.map((i,c)=>{const{name:u,size:d,type:f}=i,l=()=>n(c);return j.jsxs("li",{children:[j.jsx(Ar,{children:s(oe.FilesInfo,[u,f,String(d)])}),r&&j.jsx(nd,{fileInfo:i,registry:e}),j.jsx(o,{onClick:l,registry:e})]},c)})})}function ad(t){return t.reduce((e,r)=>{if(!r)return e;try{const{blob:n,name:a}=No(r);return[...e,{dataURL:r,name:a,size:n.size,type:n.type}]}catch{return e}},[])}function id(t){const{disabled:e,readonly:r,required:n,multiple:a,onChange:s,value:o,options:i,registry:c}=t,u=Z("BaseInputTemplate",c,i),d=Y.useCallback(h=>{h.target.files&&rd(h.target.files).then(y=>{const v=y.map(p=>p.dataURL);s(a?o.concat(v):v[0])})},[a,o,s]),f=Y.useMemo(()=>ad(Array.isArray(o)?o:[o]),[o]),l=Y.useCallback(h=>{if(a){const y=o.filter((v,p)=>p!==h);s(y)}else s(void 0)},[a,o,s]);return j.jsxs("div",{children:[j.jsx(u,{...t,disabled:e||r,type:"file",required:o?!1:n,onChangeOverride:d,value:"",accept:i.accept?String(i.accept):void 0}),j.jsx(sd,{filesInfo:f,onRemove:l,registry:c,preview:i.filePreview,options:i})]})}function od({id:t,value:e}){return j.jsx("input",{type:"hidden",id:t,name:t,value:typeof e>"u"?"":e})}function cd(t){const{options:e,registry:r}=t,n=Z("BaseInputTemplate",r,e);return j.jsx(n,{type:"password",...t})}function ld({options:t,value:e,required:r,disabled:n,readonly:a,autofocus:s=!1,onBlur:o,onFocus:i,onChange:c,id:u}){const{enumOptions:d,enumDisabled:f,inline:l,emptyValue:h}=t,y=Y.useCallback(({target:p})=>o(u,ve(p&&p.value,d,h)),[o,d,h,u]),v=Y.useCallback(({target:p})=>i(u,ve(p&&p.value,d,h)),[i,d,h,u]);return j.jsx("div",{className:"field-radio-group",id:u,role:"radiogroup",children:Array.isArray(d)&&d.map((p,g)=>{const m=Nr(p.value,e),_=Array.isArray(f)&&f.indexOf(p.value)!==-1,S=n||_||a?"disabled":"",$=()=>c(p.value),b=j.jsxs("span",{children:[j.jsx("input",{type:"radio",id:Ir(u,g),checked:m,name:u,required:r,value:String(g),disabled:n||_||a,autoFocus:s&&g===0,onChange:$,onBlur:y,onFocus:v,"aria-describedby":Te(u)}),j.jsx("span",{children:p.label})]});return l?j.jsx("label",{className:`radio-inline ${S}`,children:b},g):j.jsx("div",{className:`radio ${S}`,children:j.jsx("label",{children:b})},g)})})}function dd(t){const{value:e,registry:{templates:{BaseInputTemplate:r}}}=t;return j.jsxs("div",{className:"field-range-wrapper",children:[j.jsx(r,{type:"range",...t}),j.jsx("span",{className:"range-view",children:e})]})}function ud({id:t,value:e,required:r,disabled:n,readonly:a,autofocus:s,onChange:o,onFocus:i,onBlur:c,schema:u,options:d}){const{stars:f=5,shape:l="star"}=d,h=u.maximum?Math.min(u.maximum,5):Math.min(Math.max(f,1),5),y=u.minimum||0,v=Y.useCallback(_=>{!n&&!a&&o(_)},[o,n,a]),p=Y.useCallback(_=>{if(i){const S=Number(_.target.dataset.value);i(t,S)}},[i,t]),g=Y.useCallback(_=>{if(c){const S=Number(_.target.dataset.value);c(t,S)}},[c,t]),m=_=>l==="heart"?_?"♥":"♡":_?"★":"☆";return j.jsx(j.Fragment,{children:j.jsxs("div",{className:"rating-widget",style:{display:"inline-flex",fontSize:"1.5rem",cursor:n||a?"default":"pointer"},children:[[...Array(h)].map((_,S)=>{const $=y+S,b=$<=e;return j.jsx("span",{onClick:()=>v($),onFocus:p,onBlur:g,"data-value":$,tabIndex:n||a?-1:0,role:"radio","aria-checked":$===e,"aria-label":`${$} ${l==="heart"?"heart":"star"}${$===1?"":"s"}`,style:{color:b?"#FFD700":"#ccc",padding:"0 0.2rem",transition:"color 0.2s",userSelect:"none"},children:m(b)},S)}),j.jsx("input",{type:"hidden",id:t,name:t,value:e||"",required:r,disabled:n||a,"aria-hidden":"true"})]})})}function en(t,e){return e?Array.from(t.target.options).slice().filter(r=>r.selected).map(r=>r.value):t.target.value}function fd({schema:t,id:e,options:r,value:n,required:a,disabled:s,readonly:o,multiple:i=!1,autofocus:c=!1,onChange:u,onBlur:d,onFocus:f,placeholder:l}){const{enumOptions:h,enumDisabled:y,emptyValue:v}=r,p=i?[]:"",g=Y.useCallback(b=>{const w=en(b,i);return f(e,ve(w,h,v))},[f,e,i,h,v]),m=Y.useCallback(b=>{const w=en(b,i);return d(e,ve(w,h,v))},[d,e,i,h,v]),_=Y.useCallback(b=>{const w=en(b,i);return u(ve(w,h,v))},[u,i,h,v]),S=wn(n,h,i),$=!i&&t.default===void 0;return j.jsxs("select",{id:e,name:e,multiple:i,role:"combobox",className:"form-control",value:typeof S>"u"?p:S,required:a,disabled:s||o,autoFocus:c,onBlur:m,onFocus:g,onChange:_,"aria-describedby":Te(e),children:[$&&j.jsx("option",{value:"",children:l}),Array.isArray(h)&&h.map(({value:b,label:w},O)=>{const T=y&&y.indexOf(b)!==-1;return j.jsx("option",{value:String(O),disabled:T,children:w},O)})]})}function $i({id:t,options:e={},placeholder:r,value:n,required:a,disabled:s,readonly:o,autofocus:i=!1,onChange:c,onBlur:u,onFocus:d}){const f=Y.useCallback(({target:{value:y}})=>c(y===""?e.emptyValue:y),[c,e.emptyValue]),l=Y.useCallback(({target:y})=>u(t,y&&y.value),[u,t]),h=Y.useCallback(({target:y})=>d(t,y&&y.value),[t,d]);return j.jsx("textarea",{id:t,name:t,className:"form-control",value:n||"",placeholder:r,required:a,disabled:s,readOnly:o,autoFocus:i,rows:e.rows,onBlur:l,onFocus:h,onChange:f,"aria-describedby":Te(t)})}$i.defaultProps={autofocus:!1,options:{}};function md(t){const{options:e,registry:r}=t,n=Z("BaseInputTemplate",r,e);return j.jsx(n,{...t})}function hd(t){const{onChange:e,options:r,registry:n}=t,a=Z("BaseInputTemplate",n,r),s=Y.useCallback(o=>e(o?`${o}:00`:void 0),[e]);return j.jsx(a,{type:"time",...t,onChange:s})}function pd(t){const{options:e,registry:r}=t,n=Z("BaseInputTemplate",r,e);return j.jsx(n,{type:"url",...t})}function yd(t){const{options:e,registry:r}=t,n=Z("BaseInputTemplate",r,e);return j.jsx(n,{type:"number",...t})}function gd(){return{AltDateWidget:Wl,AltDateTimeWidget:Hl,CheckboxWidget:Gl,CheckboxesWidget:Jl,ColorWidget:Yl,DateWidget:Xl,DateTimeWidget:Ql,EmailWidget:Zl,FileWidget:id,HiddenWidget:od,PasswordWidget:cd,RadioWidget:ld,RangeWidget:dd,RatingWidget:ud,SelectWidget:fd,TextWidget:md,TextareaWidget:$i,TimeWidget:hd,UpDownWidget:yd,URLWidget:pd}}function vd(){return{fields:gl(),templates:Ll(),widgets:gd(),rootSchema:{},formContext:{},translateString:Io}}class _d extends Y.Component{formElement;constructor(e){if(super(e),!e.validator)throw new Error("A validator is required for Form functionality to work");this.state=this.getStateFromProps(e,e.formData),this.props.onChange&&!me(this.state.formData,this.props.formData)&&this.props.onChange(this.state),this.formElement=Y.createRef()}getSnapshotBeforeUpdate(e,r){if(!me(this.props,e)){const n=Jo(this.props.formData,e.formData),a=!me(e.schema,this.props.schema),s=n.length>0||!me(e.formData,this.props.formData),o=this.getStateFromProps(this.props,this.props.formData,a||s?void 0:this.state.retrievedSchema,a,n),i=!me(o,r);return{nextState:o,shouldUpdate:i}}return{shouldUpdate:!1}}componentDidUpdate(e,r,n){if(n.shouldUpdate){const{nextState:a}=n;!me(a.formData,this.props.formData)&&!me(a.formData,r.formData)&&this.props.onChange&&this.props.onChange(a),this.setState(a)}}getStateFromProps(e,r,n,a=!1,s=[]){const o=this.state||{},i="schema"in e?e.schema:this.props.schema,c=("uiSchema"in e?e.uiSchema:this.props.uiSchema)||{},u=typeof r<"u",d="liveValidate"in e?e.liveValidate:this.props.liveValidate,f=u&&!e.noValidate&&d,l=i,h="experimental_defaultFormStateBehavior"in e?e.experimental_defaultFormStateBehavior:this.props.experimental_defaultFormStateBehavior,y="experimental_customMergeAllOf"in e?e.experimental_customMergeAllOf:this.props.experimental_customMergeAllOf;let v=o.schemaUtils;(!v||v.doesSchemaUtilsDiffer(e.validator,l,h,y))&&(v=ko(e.validator,l,h,y));const p=v.getDefaultFormState(i,r),g=this.updateRetrievedSchema(n??v.retrieveSchema(i,p)),m=()=>e.noValidate||a?{errors:[],errorSchema:{}}:e.liveValidate?{errors:o.errors||[],errorSchema:o.errorSchema||{}}:{errors:o.schemaValidationErrors||[],errorSchema:o.schemaValidationErrorSchema||{}};let _,S,$=o.schemaValidationErrors,b=o.schemaValidationErrorSchema;if(f){const T=this.validate(p,i,v,g);_=T.errors,n===void 0?S=T.errorSchema:S=et(this.state?.errorSchema,T.errorSchema,"preventDuplicates"),$=_,b=S}else{const T=m();if(_=T.errors,S=T.errorSchema,s.length>0){const I=s.reduce((A,U)=>(A[U]=void 0,A),{});S=b=et(T.errorSchema,I,"preventDuplicates")}}if(e.extraErrors){const T=Sr({errorSchema:S,errors:_},e.extraErrors);S=T.errorSchema,_=T.errors}const w=v.toIdSchema(g,c["ui:rootFieldId"],p,e.idPrefix,e.idSeparator);return{schemaUtils:v,schema:i,uiSchema:c,idSchema:w,formData:p,edit:u,errors:_,errorSchema:S,schemaValidationErrors:$,schemaValidationErrorSchema:b,retrievedSchema:g}}shouldComponentUpdate(e,r){return zo(this,e,r)}getPreviousCustomValidateErrors(){const{customValidate:e,uiSchema:r}=this.props,n=this.state.formData;let a={};if(typeof e=="function"){const s=e(n,Cr(n),r);a=Cn(s)}return a}validate(e,r=this.props.schema,n,a){const s=n||this.state.schemaUtils,{customValidate:o,transformErrors:i,uiSchema:c}=this.props,u=a??s.retrieveSchema(r,e);return s.getValidator().validateFormData(e,u,o,i,c)}renderErrors(e){const{errors:r,errorSchema:n,schema:a,uiSchema:s}=this.state,{formContext:o}=this.props,i=ee(s),c=Z("ErrorListTemplate",e,i);return r&&r.length?j.jsx(c,{errors:r,errorSchema:n||{},schema:a,uiSchema:s,formContext:o,registry:e}):null}getUsedFormData=(e,r)=>{if(r.length===0&&typeof e!="object")return e;const n=Mn(e,r);return Array.isArray(e)?Object.keys(n).map(a=>n[a]):n};getFieldNames=(e,r)=>{const n=(a,s=[],o=[[]])=>(Object.keys(a).forEach(i=>{if(typeof a[i]=="object"){const c=o.map(u=>[...u,i]);a[i][Sn]&&a[i][gr]!==""?s.push(a[i][gr]):n(a[i],s,c)}else i===gr&&a[i]!==""&&o.forEach(c=>{const u=z(r,c);(typeof u!="object"||Ae(u)||Array.isArray(u)&&u.every(d=>typeof d!="object"))&&s.push(c)})}),s);return n(e)};omitExtraData=e=>{const{schema:r,schemaUtils:n}=this.state,a=n.retrieveSchema(r,e),s=n.toPathSchema(a,"",e),o=this.getFieldNames(s,e);return this.getUsedFormData(e,o)};filterErrorsBasedOnSchema(e,r,n){const{retrievedSchema:a,schemaUtils:s}=this.state,o=r??a,i=s.toPathSchema(o,"",n),c=this.getFieldNames(i,n),u=Mn(e,c);r?.type!=="object"&&r?.type!=="array"&&(u.__errors=e.__errors);const d=this.getPreviousCustomValidateErrors(),f=(h=[],y)=>h.length===0?h:h.filter(v=>!y.includes(v)),l=(h,y={})=>(La(h,(v,p)=>{const g=y[p];Ca(v)||Array.isArray(v)&&v.length===0?delete h[p]:yr(v)&&yr(g)&&Array.isArray(g?.__errors)?h[p]=f(v.__errors,g.__errors):typeof v=="object"&&!Array.isArray(v.__errors)&&l(v,y[p])}),h);return l(u,d)}onChange=(e,r,n)=>{const{extraErrors:a,omitExtraData:s,liveOmit:o,noValidate:i,liveValidate:c,onChange:u}=this.props,{schemaUtils:d,schema:f}=this.state;let l=this.state.retrievedSchema;if(yr(e)||Array.isArray(e)){const p=this.getStateFromProps(this.props,e);e=p.formData,l=p.retrievedSchema}const h=!i&&c;let y={formData:e,schema:f},v=e;if(s===!0&&o===!0&&(v=this.omitExtraData(e),y={formData:v}),h){const p=this.validate(v,f,d,l);let g=p.errors,m=p.errorSchema;const _=g,S=m;if(a){const $=Sr(p,a);m=$.errorSchema,g=$.errors}if(r){const $=this.filterErrorsBasedOnSchema(r,l,v);m=et(m,$,"preventDuplicates")}y={formData:v,errors:g,errorSchema:m,schemaValidationErrors:_,schemaValidationErrorSchema:S}}else if(!i&&r){const p=a?et(r,a,"preventDuplicates"):r;y={formData:v,errorSchema:p,errors:Tr(p)}}this.setState(y,()=>u&&u({...this.state,...y},n))};updateRetrievedSchema(e){return me(e,this.state?.retrievedSchema)?this.state.retrievedSchema:e}reset=()=>{const{onChange:e}=this.props,a={formData:this.getStateFromProps(this.props,void 0).formData,errorSchema:{},errors:[],schemaValidationErrors:[],schemaValidationErrorSchema:{}};this.setState(a,()=>e&&e({...this.state,...a}))};onBlur=(e,r)=>{const{onBlur:n}=this.props;n&&n(e,r)};onFocus=(e,r)=>{const{onFocus:n}=this.props;n&&n(e,r)};onSubmit=e=>{if(e.preventDefault(),e.target!==e.currentTarget)return;e.persist();const{omitExtraData:r,extraErrors:n,noValidate:a,onSubmit:s}=this.props;let{formData:o}=this.state;if(r===!0&&(o=this.omitExtraData(o)),a||this.validateFormWithFormData(o)){const i=n||{},c=n?Tr(n):[];this.setState({formData:o,errors:c,errorSchema:i,schemaValidationErrors:[],schemaValidationErrorSchema:{}},()=>{s&&s({...this.state,formData:o,status:"submitted"},e)})}};getRegistry(){const{translateString:e,uiSchema:r={}}=this.props,{schemaUtils:n}=this.state,{fields:a,templates:s,widgets:o,formContext:i,translateString:c}=vd();return{fields:{...a,...this.props.fields},templates:{...s,...this.props.templates,ButtonTemplates:{...s.ButtonTemplates,...this.props.templates?.ButtonTemplates}},widgets:{...o,...this.props.widgets},rootSchema:this.props.schema,formContext:this.props.formContext||i,schemaUtils:n,translateString:e||c,globalUiOptions:r[fn]}}submit=()=>{if(this.formElement.current){const e=new CustomEvent("submit",{cancelable:!0});e.preventDefault(),this.formElement.current.dispatchEvent(e),this.formElement.current.requestSubmit()}};focusOnError(e){const{idPrefix:r="root",idSeparator:n="_"}=this.props,{property:a}=e,s=za(a);s[0]===""?s[0]=r:s.unshift(r);const o=s.join(n);let i=this.formElement.current.elements[o];i||(i=this.formElement.current.querySelector(`input[id^="${o}"`)),i&&i.length&&(i=i[0]),i&&i.focus()}validateFormWithFormData=e=>{const{extraErrors:r,extraErrorsBlockSubmit:n,focusOnFirstError:a,onError:s}=this.props,{errors:o}=this.state,i=this.validate(e);let c=i.errors,u=i.errorSchema;const d=c,f=u,l=c.length>0||r&&n;if(l){if(r){const h=Sr(i,r);u=h.errorSchema,c=h.errors}a&&(typeof a=="function"?a(c[0]):this.focusOnError(c[0])),this.setState({errors:c,errorSchema:u,schemaValidationErrors:d,schemaValidationErrorSchema:f},()=>{s?s(c):console.error("Form validation failed",c)})}else o.length>0&&this.setState({errors:[],errorSchema:{},schemaValidationErrors:[],schemaValidationErrorSchema:{}});return!l};validateForm(){const{omitExtraData:e}=this.props;let{formData:r}=this.state;return e===!0&&(r=this.omitExtraData(r)),this.validateFormWithFormData(r)}render(){const{children:e,id:r,idPrefix:n,idSeparator:a,className:s="",tagName:o,name:i,method:c,target:u,action:d,autoComplete:f,enctype:l,acceptCharset:h,noHtml5Validate:y=!1,disabled:v,readonly:p,formContext:g,showErrorList:m="top",_internalFormWrapper:_}=this.props,{schema:S,uiSchema:$,formData:b,errorSchema:w,idSchema:O}=this.state,T=this.getRegistry(),{SchemaField:I}=T.fields,{SubmitButton:A}=T.templates.ButtonTemplates,U=_?o:void 0,q=_||o||"form";let{[jr]:L={}}=ee($);v&&(L={...L,props:{...L.props,disabled:!0}});const B={[nt]:{[jr]:L}};return j.jsxs(q,{className:s||"rjsf",id:r,name:i,method:c,target:u,action:d,autoComplete:f,encType:l,acceptCharset:h,noValidate:y,onSubmit:this.onSubmit,as:U,ref:this.formElement,children:[m==="top"&&this.renderErrors(T),j.jsx(I,{name:"",schema:S,uiSchema:$,errorSchema:w,idSchema:O,idPrefix:n,idSeparator:a,formContext:g,formData:b,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:T,disabled:v,readonly:p}),e||j.jsx(A,{uiSchema:B,registry:T}),m==="bottom"&&this.renderErrors(T)]})}}function bd(t){return Y.forwardRef(({fields:e,widgets:r,templates:n,...a},s)=>(e={...t?.fields,...e},r={...t?.widgets,...r},n={...t?.templates,...n,ButtonTemplates:{...t?.templates?.ButtonTemplates,...n?.ButtonTemplates}},j.jsx(_d,{...t,...a,fields:e,widgets:r,templates:n,ref:s})))}function Sd({uiSchema:t,registry:e,...r}){const{translateString:n}=e;return j.jsx(Ta,{title:n(oe.AddItemButton),...r,color:"primary",children:j.jsx(ao,{})})}function $d(t){const{children:e,buttonsProps:r,hasToolbar:n,uiSchema:a,registry:s}=t,o=ee(a),i=Z("ArrayFieldItemButtonsTemplate",s,o),c={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold",minWidth:0};return j.jsxs(je,{container:!0,alignItems:"center",children:[j.jsx(je,{size:"auto",style:{overflow:"auto"},children:j.jsx(st,{mb:2,children:j.jsx(vn,{elevation:2,children:j.jsx(st,{p:2,children:e})})})}),n&&j.jsx(je,{children:j.jsx(i,{...r,style:c})})]})}function wd(t){const{canAdd:e,disabled:r,idSchema:n,uiSchema:a,items:s,onAddClick:o,readonly:i,registry:c,required:u,schema:d,title:f}=t,l=ee(a),h=Z("ArrayFieldDescriptionTemplate",c,l),y=Z("ArrayFieldItemTemplate",c,l),v=Z("ArrayFieldTitleTemplate",c,l),{ButtonTemplates:{AddButton:p}}=c.templates;return j.jsx(vn,{elevation:2,children:j.jsxs(st,{p:2,children:[j.jsx(v,{idSchema:n,title:l.title||f,schema:d,uiSchema:a,required:u,registry:c}),j.jsx(h,{idSchema:n,description:l.description||d.description,schema:d,uiSchema:a,registry:c}),s&&s.map(({key:g,...m})=>j.jsx(y,{...m},g)),e&&j.jsx(je,{container:!0,justifyContent:"flex-end",children:j.jsx(je,{children:j.jsx(st,{mt:2,children:j.jsx(p,{id:Me(n,"add"),className:"rjsf-array-item-add",onClick:o,disabled:r||i,uiSchema:a,registry:c})})})})]})})}const Ed=["date","datetime-local","file","time"];function jd(t){const{id:e,name:r,placeholder:n,required:a,readonly:s,disabled:o,type:i,label:c,hideLabel:u,hideError:d,value:f,onChange:l,onChangeOverride:h,onBlur:y,onFocus:v,autofocus:p,options:g,schema:m,uiSchema:_,rawErrors:S=[],errorSchema:$,formContext:b,registry:w,InputLabelProps:O,...T}=t,I=Za(m,i,g),{step:A,min:U,max:q,accept:L,...B}=I,J={step:A,min:U,max:q,accept:L,...m.examples?{list:jt(e)}:void 0},re=({target:{value:P}})=>l(P===""?g.emptyValue:P),W=({target:P})=>y(e,P&&P.value),X=({target:P})=>v(e,P&&P.value),R=Ed.includes(i)?{...O,shrink:!0}:O;return j.jsxs(j.Fragment,{children:[j.jsx(_n,{id:e,name:e,placeholder:n,label:it(c||void 0,u,void 0),autoFocus:p,required:a,disabled:o||s,slotProps:{htmlInput:J,inputLabel:R},...B,value:f||f===0?f:"",error:S.length>0,onChange:h||re,onBlur:W,onFocus:X,...T,"aria-describedby":Te(e,!!m.examples)}),Array.isArray(m.examples)&&j.jsx("datalist",{id:jt(e),children:m.examples.concat(m.default&&!m.examples.includes(m.default)?[m.default]:[]).map(P=>j.jsx("option",{value:P},P))})]})}function Cd(t){const{id:e,description:r,registry:n,uiSchema:a}=t;return r?j.jsx(kr,{id:e,variant:"subtitle2",style:{marginTop:"5px"},children:j.jsx(kn,{description:r,registry:n,uiSchema:a})}):null}function Td({errors:t,registry:e}){const{translateString:r}=e;return j.jsx(vn,{elevation:2,children:j.jsxs(st,{mb:2,p:2,children:[j.jsx(kr,{variant:"h6",children:r(oe.ErrorsLabel)}),j.jsx(Oa,{dense:!0,children:t.map((n,a)=>j.jsxs(Ua,{children:[j.jsx(io,{children:j.jsx($o,{color:"error"})}),j.jsx(oo,{primary:n.stack})]},a))})]})})}function Dr(t){const{icon:e,color:r,uiSchema:n,registry:a,...s}=t;return j.jsx(Ta,{...s,size:"small",color:r,children:e})}function Od(t){const{registry:{translateString:e}}=t;return j.jsx(Dr,{title:e(oe.CopyButton),...t,icon:j.jsx(lo,{fontSize:"small"})})}function Pd(t){const{registry:{translateString:e}}=t;return j.jsx(Dr,{title:e(oe.MoveDownButton),...t,icon:j.jsx(So,{fontSize:"small"})})}function kd(t){const{registry:{translateString:e}}=t;return j.jsx(Dr,{title:e(oe.MoveUpButton),...t,icon:j.jsx(co,{fontSize:"small"})})}function Nd(t){const{iconType:e,...r}=t,{registry:{translateString:n}}=r;return j.jsx(Dr,{title:n(oe.RemoveButton),...r,color:"error",icon:j.jsx(wo,{fontSize:e==="default"?void 0:"small"})})}function Fd(t){const{errors:e=[],idSchema:r}=t;if(e.length===0)return null;const n=En(r);return j.jsx(Oa,{id:n,dense:!0,disablePadding:!0,children:e.map((a,s)=>j.jsx(Ua,{disableGutters:!0,children:j.jsx(Pa,{component:"div",id:`${n}-${s}`,children:a})},s))})}function Id(t){const{idSchema:e,help:r}=t;if(!r)return null;const n=jn(e);return j.jsx(Pa,{component:"div",id:n,children:r})}function xd(t){const{id:e,children:r,classNames:n,style:a,disabled:s,displayLabel:o,hidden:i,label:c,onDropPropertyClick:u,onKeyChange:d,readonly:f,required:l,rawErrors:h=[],errors:y,help:v,description:p,rawDescription:g,schema:m,uiSchema:_,registry:S}=t,$=ee(_),b=Z("WrapIfAdditionalTemplate",S,$);return i?j.jsx("div",{style:{display:"none"},children:r}):j.jsx(b,{classNames:n,style:a,disabled:s,id:e,label:c,onDropPropertyClick:u,onKeyChange:d,readonly:f,required:l,schema:m,uiSchema:_,registry:S,children:j.jsxs(Wi,{fullWidth:!0,error:!!h.length,required:l,children:[r,o&&g?j.jsx(kr,{variant:"caption",color:"textSecondary",children:p}):null,y,v]})})}function Ad(t){const{children:e,column:r,...n}=t;return j.jsx(je,{container:!r,...n,children:e})}function Dd(t){const{description:e,title:r,properties:n,required:a,disabled:s,readonly:o,uiSchema:i,idSchema:c,schema:u,formData:d,onAddClick:f,registry:l}=t,h=ee(i),y=Z("TitleFieldTemplate",l,h),v=Z("DescriptionFieldTemplate",l,h),{ButtonTemplates:{AddButton:p}}=l.templates;return j.jsxs(j.Fragment,{children:[r&&j.jsx(y,{id:Fr(c),title:r,required:a,schema:u,uiSchema:i,registry:l}),e&&j.jsx(v,{id:at(c),description:e,schema:u,uiSchema:i,registry:l}),j.jsxs(je,{container:!0,spacing:2,style:{marginTop:"10px"},children:[n.map((g,m)=>g.hidden?g.content:j.jsx(je,{size:{xs:12},style:{marginBottom:"10px"},children:g.content},m)),Ka(u,i,d)&&j.jsx(je,{container:!0,justifyContent:"flex-end",children:j.jsx(je,{children:j.jsx(p,{id:Me(c,"add"),className:"rjsf-object-property-expand",onClick:f(u),disabled:s||o,uiSchema:i,registry:l})})})]})]})}function Rd({uiSchema:t}){const{submitText:e,norender:r,props:n={}}=ei(t);return r?null:j.jsx(st,{marginTop:3,children:j.jsx(Hi,{type:"submit",variant:"contained",color:"primary",...n,children:e})})}function Md({id:t,title:e}){return j.jsxs(st,{id:t,mb:1,mt:1,children:[j.jsx(kr,{variant:"h5",children:e}),j.jsx(Gi,{})]})}function qd(t){const{children:e,classNames:r,style:n,disabled:a,id:s,label:o,onDropPropertyClick:i,onKeyChange:c,readonly:u,required:d,schema:f,uiSchema:l,registry:h}=t,{templates:y,translateString:v}=h,{RemoveButton:p}=y.ButtonTemplates,g=v(oe.KeyLabel,[o]),m=Pt in f,_={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};if(!m)return j.jsx("div",{className:r,style:n,children:e});const S=({target:$})=>c($&&$.value);return j.jsxs(je,{container:!0,alignItems:"center",spacing:2,className:r,style:n,children:[j.jsx(je,{size:"auto",children:j.jsx(_n,{fullWidth:!0,required:d,label:g,defaultValue:o,disabled:a||u,id:`${s}-key`,name:`${s}-key`,onBlur:u?void 0:S,type:"text"})}),j.jsx(je,{size:"auto",children:e}),j.jsx(je,{children:j.jsx(p,{id:Me(s,"remove"),className:"rjsf-object-property-remove",iconType:"default",style:_,disabled:a||u,onClick:i(o),uiSchema:l,registry:h})})]},`${s}-key`)}function Ud(){return{ArrayFieldItemTemplate:$d,ArrayFieldTemplate:wd,BaseInputTemplate:jd,ButtonTemplates:{AddButton:Sd,CopyButton:Od,MoveDownButton:Pd,MoveUpButton:kd,RemoveButton:Nd,SubmitButton:Rd},DescriptionFieldTemplate:Cd,ErrorListTemplate:Td,FieldErrorTemplate:Fd,FieldHelpTemplate:Id,FieldTemplate:xd,GridTemplate:Ad,ObjectFieldTemplate:Dd,TitleFieldTemplate:Md,WrapIfAdditionalTemplate:qd}}function Vd(t){var e;const{schema:r,id:n,value:a,disabled:s,readonly:o,label:i="",hideLabel:c,autofocus:u,onChange:d,onBlur:f,onFocus:l,registry:h,options:y,uiSchema:v}=t,p=Z("DescriptionFieldTemplate",h,y),g=$t(r),m=(b,w)=>d(w),_=({target:b})=>f(n,b&&b.value),S=({target:b})=>l(n,b&&b.value),$=(e=y.description)!==null&&e!==void 0?e:r.description;return j.jsxs(j.Fragment,{children:[!c&&$&&j.jsx(p,{id:at(n),description:$,schema:r,uiSchema:v,registry:h}),j.jsx($n,{control:j.jsx(Va,{id:n,name:n,checked:typeof a>"u"?!1:!!a,required:g,disabled:s||o,autoFocus:u,onChange:m,onBlur:_,onFocus:S,"aria-describedby":Te(n)}),label:it(i,c,!1)})]})}function Bd({label:t,hideLabel:e,id:r,disabled:n,options:a,value:s,autofocus:o,readonly:i,required:c,onChange:u,onBlur:d,onFocus:f}){const{enumOptions:l,enumDisabled:h,inline:y,emptyValue:v}=a,p=Array.isArray(s)?s:[s],g=S=>({target:{checked:$}})=>{u($?Xa(S,p,l):Ya(S,p,l))},m=({target:S})=>d(r,ve(S&&S.value,l,v)),_=({target:S})=>f(r,ve(S&&S.value,l,v));return j.jsxs(j.Fragment,{children:[it(j.jsx(bn,{required:c,htmlFor:r,children:t||void 0}),e),j.jsx(uo,{id:r,row:!!y,children:Array.isArray(l)&&l.map((S,$)=>{const b=Nr(S.value,p),w=Array.isArray(h)&&h.indexOf(S.value)!==-1,O=j.jsx(Va,{id:Ir(r,$),name:r,checked:b,disabled:n||w||i,autoFocus:o&&$===0,onChange:g($),onBlur:m,onFocus:_,"aria-describedby":Te(r)});return j.jsx($n,{control:O,label:S.label},$)})})]})}function Ld({id:t,options:e,value:r,required:n,disabled:a,readonly:s,label:o,hideLabel:i,onChange:c,onBlur:u,onFocus:d}){var f;const{enumOptions:l,enumDisabled:h,emptyValue:y}=e,v=(S,$)=>c(ve($,l,y)),p=({target:S})=>u(t,ve(S&&S.value,l,y)),g=({target:S})=>d(t,ve(S&&S.value,l,y)),m=e?e.inline:!1,_=(f=wn(r,l))!==null&&f!==void 0?f:null;return j.jsxs(j.Fragment,{children:[it(j.jsx(bn,{required:n,htmlFor:t,children:o||void 0}),i),j.jsx(fo,{id:t,name:t,value:_,row:m,onChange:v,onBlur:p,onFocus:g,"aria-describedby":Te(t),children:Array.isArray(l)&&l.map((S,$)=>{const b=Array.isArray(h)&&h.indexOf(S.value)!==-1;return j.jsx($n,{control:j.jsx(mo,{name:t,id:Ir(t,$),color:"primary"}),label:S.label,value:String($),disabled:a||b||s},$)})})]})}function zd(t){const{value:e,readonly:r,disabled:n,onBlur:a,onFocus:s,options:o,schema:i,onChange:c,required:u,label:d,hideLabel:f,id:l}=t,h={value:e,label:d,id:l,name:l,...Qa(i)},y=(g,m)=>{c(m??o.emptyValue)},v=({target:g})=>a(l,g&&g.value),p=({target:g})=>s(l,g&&g.value);return j.jsxs(j.Fragment,{children:[it(j.jsx(bn,{required:u,htmlFor:l,children:d||void 0}),f),j.jsx(ho,{disabled:n||r,onChange:y,onBlur:v,onFocus:p,valueLabelDisplay:"auto",...h,"aria-describedby":Te(l)})]})}function Kd({schema:t,id:e,name:r,options:n,label:a,hideLabel:s,required:o,disabled:i,placeholder:c,readonly:u,value:d,multiple:f,autofocus:l,onChange:h,onBlur:y,onFocus:v,errorSchema:p,rawErrors:g=[],registry:m,uiSchema:_,hideError:S,formContext:$,...b}){const{enumOptions:w,enumDisabled:O,emptyValue:T}=n;f=typeof f>"u"?!1:!!f;const I=f?[]:"",A=typeof d>"u"||f&&d.length<1||!f&&d===I,U=({target:{value:P}})=>h(ve(P,w,T)),q=({target:P})=>y(e,ve(P&&P.value,w,T)),L=({target:P})=>v(e,ve(P&&P.value,w,T)),B=wn(d,w,f),{InputLabelProps:J,SelectProps:re,autocomplete:W,...X}=b,R=!f&&t.default===void 0;return j.jsxs(_n,{id:e,name:e,label:it(a||void 0,s,void 0),value:!A&&typeof B<"u"?B:I,required:o,disabled:i||u,autoFocus:l,autoComplete:W,placeholder:c,error:g.length>0,onChange:U,onBlur:q,onFocus:L,...X,select:!0,InputLabelProps:{...J,shrink:!A},SelectProps:{...re,multiple:f},"aria-describedby":Te(e),children:[R&&j.jsx(zn,{value:"",children:c}),Array.isArray(w)&&w.map(({value:P,label:D},N)=>{const E=Array.isArray(O)&&O.indexOf(P)!==-1;return j.jsx(zn,{value:String(N),disabled:E,children:D},N)})]})}function Wd(t){const{options:e,registry:r}=t,n=Z("BaseInputTemplate",r,e);let a=5;return(typeof e.rows=="string"||typeof e.rows=="number")&&(a=e.rows),j.jsx(n,{...t,multiline:!0,rows:a})}function wi(){return{CheckboxWidget:Vd,CheckboxesWidget:Bd,RadioWidget:Ld,RangeWidget:zd,SelectWidget:Kd,TextareaWidget:Wd}}const xf=wi();function Hd(){return{templates:Ud(),widgets:wi()}}function Gd(){return bd(Hd())}const Af=Gd();var Nt={exports:{}},tn={},Ve={},Je={},rn={},nn={},sn={},ls;function Or(){return ls||(ls=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(m){if(super(),!t.IDENTIFIER.test(m))throw new Error("CodeGen: name must be a valid identifier");this.str=m}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class n extends e{constructor(m){super(),this._items=typeof m=="string"?[m]:m}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const m=this._items[0];return m===""||m==='""'}get str(){var m;return(m=this._str)!==null&&m!==void 0?m:this._str=this._items.reduce((_,S)=>`${_}${S}`,"")}get names(){var m;return(m=this._names)!==null&&m!==void 0?m:this._names=this._items.reduce((_,S)=>(S instanceof r&&(_[S.str]=(_[S.str]||0)+1),_),{})}}t._Code=n,t.nil=new n("");function a(g,...m){const _=[g[0]];let S=0;for(;S<m.length;)i(_,m[S]),_.push(g[++S]);return new n(_)}t._=a;const s=new n("+");function o(g,...m){const _=[h(g[0])];let S=0;for(;S<m.length;)_.push(s),i(_,m[S]),_.push(s,h(g[++S]));return c(_),new n(_)}t.str=o;function i(g,m){m instanceof n?g.push(...m._items):m instanceof r?g.push(m):g.push(f(m))}t.addCodeArg=i;function c(g){let m=1;for(;m<g.length-1;){if(g[m]===s){const _=u(g[m-1],g[m+1]);if(_!==void 0){g.splice(m-1,3,_);continue}g[m++]="+"}m++}}function u(g,m){if(m==='""')return g;if(g==='""')return m;if(typeof g=="string")return m instanceof r||g[g.length-1]!=='"'?void 0:typeof m!="string"?`${g.slice(0,-1)}${m}"`:m[0]==='"'?g.slice(0,-1)+m.slice(1):void 0;if(typeof m=="string"&&m[0]==='"'&&!(g instanceof r))return`"${g}${m.slice(1)}`}function d(g,m){return m.emptyStr()?g:g.emptyStr()?m:o`${g}${m}`}t.strConcat=d;function f(g){return typeof g=="number"||typeof g=="boolean"||g===null?g:h(Array.isArray(g)?g.join(","):g)}function l(g){return new n(h(g))}t.stringify=l;function h(g){return JSON.stringify(g).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=h;function y(g){return typeof g=="string"&&t.IDENTIFIER.test(g)?new n(`.${g}`):a`[${g}]`}t.getProperty=y;function v(g){if(typeof g=="string"&&t.IDENTIFIER.test(g))return new n(`${g}`);throw new Error(`CodeGen: invalid export name: ${g}, use explicit $id name mapping`)}t.getEsmExportName=v;function p(g){return new n(g.toString())}t.regexpCode=p})(sn)),sn}var an={},ds;function us(){return ds||(ds=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=Or();class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(t.UsedValueState=n={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class a{constructor({prefixes:u,parent:d}={}){this._names={},this._prefixes=u,this._parent=d}toName(u){return u instanceof e.Name?u:this.name(u)}name(u){return new e.Name(this._newName(u))}_newName(u){const d=this._names[u]||this._nameGroup(u);return`${u}${d.index++}`}_nameGroup(u){var d,f;if(!((f=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||f===void 0)&&f.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}t.Scope=a;class s extends e.Name{constructor(u,d){super(d),this.prefix=u}setValue(u,{property:d,itemIndex:f}){this.value=u,this.scopePath=(0,e._)`.${new e.Name(d)}[${f}]`}}t.ValueScopeName=s;const o=(0,e._)`\n`;class i extends a{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?o:e.nil}}get(){return this._scope}name(u){return new s(u,this._newName(u))}value(u,d){var f;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const l=this.toName(u),{prefix:h}=l,y=(f=d.key)!==null&&f!==void 0?f:d.ref;let v=this._values[h];if(v){const m=v.get(y);if(m)return m}else v=this._values[h]=new Map;v.set(y,l);const p=this._scope[h]||(this._scope[h]=[]),g=p.length;return p[g]=d.ref,l.setValue(d,{property:h,itemIndex:g}),l}getValue(u,d){const f=this._values[u];if(f)return f.get(d)}scopeRefs(u,d=this._values){return this._reduceValues(d,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,e._)`${u}${f.scopePath}`})}scopeCode(u=this._values,d,f){return this._reduceValues(u,l=>{if(l.value===void 0)throw new Error(`CodeGen: name "${l}" has no value`);return l.value.code},d,f)}_reduceValues(u,d,f={},l){let h=e.nil;for(const y in u){const v=u[y];if(!v)continue;const p=f[y]=f[y]||new Map;v.forEach(g=>{if(p.has(g))return;p.set(g,n.Started);let m=d(g);if(m){const _=this.opts.es5?t.varKinds.var:t.varKinds.const;h=(0,e._)`${h}${_} ${g} = ${m};${this.opts._n}`}else if(m=l?.(g))h=(0,e._)`${h}${m}${this.opts._n}`;else throw new r(g);p.set(g,n.Completed)})}return h}}t.ValueScope=i})(an)),an}var fs;function se(){return fs||(fs=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=Or(),r=us();var n=Or();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}});var a=us();Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class s{optimizeNodes(){return this}optimizeNames(E,C){return this}}class o extends s{constructor(E,C,x){super(),this.varKind=E,this.name=C,this.rhs=x}render({es5:E,_n:C}){const x=E?r.varKinds.var:this.varKind,K=this.rhs===void 0?"":` = ${this.rhs}`;return`${x} ${this.name}${K};`+C}optimizeNames(E,C){if(E[this.name.str])return this.rhs&&(this.rhs=L(this.rhs,E,C)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class i extends s{constructor(E,C,x){super(),this.lhs=E,this.rhs=C,this.sideEffects=x}render({_n:E}){return`${this.lhs} = ${this.rhs};`+E}optimizeNames(E,C){if(!(this.lhs instanceof e.Name&&!E[this.lhs.str]&&!this.sideEffects))return this.rhs=L(this.rhs,E,C),this}get names(){const E=this.lhs instanceof e.Name?{}:{...this.lhs.names};return q(E,this.rhs)}}class c extends i{constructor(E,C,x,K){super(E,x,K),this.op=C}render({_n:E}){return`${this.lhs} ${this.op}= ${this.rhs};`+E}}class u extends s{constructor(E){super(),this.label=E,this.names={}}render({_n:E}){return`${this.label}:`+E}}class d extends s{constructor(E){super(),this.label=E,this.names={}}render({_n:E}){return`break${this.label?` ${this.label}`:""};`+E}}class f extends s{constructor(E){super(),this.error=E}render({_n:E}){return`throw ${this.error};`+E}get names(){return this.error.names}}class l extends s{constructor(E){super(),this.code=E}render({_n:E}){return`${this.code};`+E}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(E,C){return this.code=L(this.code,E,C),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class h extends s{constructor(E=[]){super(),this.nodes=E}render(E){return this.nodes.reduce((C,x)=>C+x.render(E),"")}optimizeNodes(){const{nodes:E}=this;let C=E.length;for(;C--;){const x=E[C].optimizeNodes();Array.isArray(x)?E.splice(C,1,...x):x?E[C]=x:E.splice(C,1)}return E.length>0?this:void 0}optimizeNames(E,C){const{nodes:x}=this;let K=x.length;for(;K--;){const G=x[K];G.optimizeNames(E,C)||(B(E,G.names),x.splice(K,1))}return x.length>0?this:void 0}get names(){return this.nodes.reduce((E,C)=>U(E,C.names),{})}}class y extends h{render(E){return"{"+E._n+super.render(E)+"}"+E._n}}class v extends h{}class p extends y{}p.kind="else";class g extends y{constructor(E,C){super(C),this.condition=E}render(E){let C=`if(${this.condition})`+super.render(E);return this.else&&(C+="else "+this.else.render(E)),C}optimizeNodes(){super.optimizeNodes();const E=this.condition;if(E===!0)return this.nodes;let C=this.else;if(C){const x=C.optimizeNodes();C=this.else=Array.isArray(x)?new p(x):x}if(C)return E===!1?C instanceof g?C:C.nodes:this.nodes.length?this:new g(J(E),C instanceof g?[C]:C.nodes);if(!(E===!1||!this.nodes.length))return this}optimizeNames(E,C){var x;if(this.else=(x=this.else)===null||x===void 0?void 0:x.optimizeNames(E,C),!!(super.optimizeNames(E,C)||this.else))return this.condition=L(this.condition,E,C),this}get names(){const E=super.names;return q(E,this.condition),this.else&&U(E,this.else.names),E}}g.kind="if";class m extends y{}m.kind="for";class _ extends m{constructor(E){super(),this.iteration=E}render(E){return`for(${this.iteration})`+super.render(E)}optimizeNames(E,C){if(super.optimizeNames(E,C))return this.iteration=L(this.iteration,E,C),this}get names(){return U(super.names,this.iteration.names)}}class S extends m{constructor(E,C,x,K){super(),this.varKind=E,this.name=C,this.from=x,this.to=K}render(E){const C=E.es5?r.varKinds.var:this.varKind,{name:x,from:K,to:G}=this;return`for(${C} ${x}=${K}; ${x}<${G}; ${x}++)`+super.render(E)}get names(){const E=q(super.names,this.from);return q(E,this.to)}}class $ extends m{constructor(E,C,x,K){super(),this.loop=E,this.varKind=C,this.name=x,this.iterable=K}render(E){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(E)}optimizeNames(E,C){if(super.optimizeNames(E,C))return this.iterable=L(this.iterable,E,C),this}get names(){return U(super.names,this.iterable.names)}}class b extends y{constructor(E,C,x){super(),this.name=E,this.args=C,this.async=x}render(E){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(E)}}b.kind="func";class w extends h{render(E){return"return "+super.render(E)}}w.kind="return";class O extends y{render(E){let C="try"+super.render(E);return this.catch&&(C+=this.catch.render(E)),this.finally&&(C+=this.finally.render(E)),C}optimizeNodes(){var E,C;return super.optimizeNodes(),(E=this.catch)===null||E===void 0||E.optimizeNodes(),(C=this.finally)===null||C===void 0||C.optimizeNodes(),this}optimizeNames(E,C){var x,K;return super.optimizeNames(E,C),(x=this.catch)===null||x===void 0||x.optimizeNames(E,C),(K=this.finally)===null||K===void 0||K.optimizeNames(E,C),this}get names(){const E=super.names;return this.catch&&U(E,this.catch.names),this.finally&&U(E,this.finally.names),E}}class T extends y{constructor(E){super(),this.error=E}render(E){return`catch(${this.error})`+super.render(E)}}T.kind="catch";class I extends y{render(E){return"finally"+super.render(E)}}I.kind="finally";class A{constructor(E,C={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...C,_n:C.lines?`
`:""},this._extScope=E,this._scope=new r.Scope({parent:E}),this._nodes=[new v]}toString(){return this._root.render(this.opts)}name(E){return this._scope.name(E)}scopeName(E){return this._extScope.name(E)}scopeValue(E,C){const x=this._extScope.value(E,C);return(this._values[x.prefix]||(this._values[x.prefix]=new Set)).add(x),x}getScopeValue(E,C){return this._extScope.getValue(E,C)}scopeRefs(E){return this._extScope.scopeRefs(E,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(E,C,x,K){const G=this._scope.toName(C);return x!==void 0&&K&&(this._constants[G.str]=x),this._leafNode(new o(E,G,x)),G}const(E,C,x){return this._def(r.varKinds.const,E,C,x)}let(E,C,x){return this._def(r.varKinds.let,E,C,x)}var(E,C,x){return this._def(r.varKinds.var,E,C,x)}assign(E,C,x){return this._leafNode(new i(E,C,x))}add(E,C){return this._leafNode(new c(E,t.operators.ADD,C))}code(E){return typeof E=="function"?E():E!==e.nil&&this._leafNode(new l(E)),this}object(...E){const C=["{"];for(const[x,K]of E)C.length>1&&C.push(","),C.push(x),(x!==K||this.opts.es5)&&(C.push(":"),(0,e.addCodeArg)(C,K));return C.push("}"),new e._Code(C)}if(E,C,x){if(this._blockNode(new g(E)),C&&x)this.code(C).else().code(x).endIf();else if(C)this.code(C).endIf();else if(x)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(E){return this._elseNode(new g(E))}else(){return this._elseNode(new p)}endIf(){return this._endBlockNode(g,p)}_for(E,C){return this._blockNode(E),C&&this.code(C).endFor(),this}for(E,C){return this._for(new _(E),C)}forRange(E,C,x,K,G=this.opts.es5?r.varKinds.var:r.varKinds.let){const ie=this._scope.toName(E);return this._for(new S(G,ie,C,x),()=>K(ie))}forOf(E,C,x,K=r.varKinds.const){const G=this._scope.toName(E);if(this.opts.es5){const ie=C instanceof e.Name?C:this.var("_arr",C);return this.forRange("_i",0,(0,e._)`${ie}.length`,ae=>{this.var(G,(0,e._)`${ie}[${ae}]`),x(G)})}return this._for(new $("of",K,G,C),()=>x(G))}forIn(E,C,x,K=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(E,(0,e._)`Object.keys(${C})`,x);const G=this._scope.toName(E);return this._for(new $("in",K,G,C),()=>x(G))}endFor(){return this._endBlockNode(m)}label(E){return this._leafNode(new u(E))}break(E){return this._leafNode(new d(E))}return(E){const C=new w;if(this._blockNode(C),this.code(E),C.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(w)}try(E,C,x){if(!C&&!x)throw new Error('CodeGen: "try" without "catch" and "finally"');const K=new O;if(this._blockNode(K),this.code(E),C){const G=this.name("e");this._currNode=K.catch=new T(G),C(G)}return x&&(this._currNode=K.finally=new I,this.code(x)),this._endBlockNode(T,I)}throw(E){return this._leafNode(new f(E))}block(E,C){return this._blockStarts.push(this._nodes.length),E&&this.code(E).endBlock(C),this}endBlock(E){const C=this._blockStarts.pop();if(C===void 0)throw new Error("CodeGen: not in self-balancing block");const x=this._nodes.length-C;if(x<0||E!==void 0&&x!==E)throw new Error(`CodeGen: wrong number of nodes: ${x} vs ${E} expected`);return this._nodes.length=C,this}func(E,C=e.nil,x,K){return this._blockNode(new b(E,C,x)),K&&this.code(K).endFunc(),this}endFunc(){return this._endBlockNode(b)}optimize(E=1){for(;E-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(E){return this._currNode.nodes.push(E),this}_blockNode(E){this._currNode.nodes.push(E),this._nodes.push(E)}_endBlockNode(E,C){const x=this._currNode;if(x instanceof E||C&&x instanceof C)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${C?`${E.kind}/${C.kind}`:E.kind}"`)}_elseNode(E){const C=this._currNode;if(!(C instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=C.else=E,this}get _root(){return this._nodes[0]}get _currNode(){const E=this._nodes;return E[E.length-1]}set _currNode(E){const C=this._nodes;C[C.length-1]=E}}t.CodeGen=A;function U(N,E){for(const C in E)N[C]=(N[C]||0)+(E[C]||0);return N}function q(N,E){return E instanceof e._CodeOrName?U(N,E.names):N}function L(N,E,C){if(N instanceof e.Name)return x(N);if(!K(N))return N;return new e._Code(N._items.reduce((G,ie)=>(ie instanceof e.Name&&(ie=x(ie)),ie instanceof e._Code?G.push(...ie._items):G.push(ie),G),[]));function x(G){const ie=C[G.str];return ie===void 0||E[G.str]!==1?G:(delete E[G.str],ie)}function K(G){return G instanceof e._Code&&G._items.some(ie=>ie instanceof e.Name&&E[ie.str]===1&&C[ie.str]!==void 0)}}function B(N,E){for(const C in E)N[C]=(N[C]||0)-(E[C]||0)}function J(N){return typeof N=="boolean"||typeof N=="number"||N===null?!N:(0,e._)`!${D(N)}`}t.not=J;const re=P(t.operators.AND);function W(...N){return N.reduce(re)}t.and=W;const X=P(t.operators.OR);function R(...N){return N.reduce(X)}t.or=R;function P(N){return(E,C)=>E===e.nil?C:C===e.nil?E:(0,e._)`${D(E)} ${N} ${D(C)}`}function D(N){return N instanceof e.Name?N:(0,e._)`(${N})`}})(nn)),nn}var ne={},ms;function ce(){if(ms)return ne;ms=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.checkStrictMode=ne.getErrorPath=ne.Type=ne.useFunc=ne.setEvaluated=ne.evaluatedPropsToName=ne.mergeEvaluated=ne.eachItem=ne.unescapeJsonPointer=ne.escapeJsonPointer=ne.escapeFragment=ne.unescapeFragment=ne.schemaRefOrVal=ne.schemaHasRulesButRef=ne.schemaHasRules=ne.checkUnknownRules=ne.alwaysValidSchema=ne.toHash=void 0;const t=se(),e=Or();function r($){const b={};for(const w of $)b[w]=!0;return b}ne.toHash=r;function n($,b){return typeof b=="boolean"?b:Object.keys(b).length===0?!0:(a($,b),!s(b,$.self.RULES.all))}ne.alwaysValidSchema=n;function a($,b=$.schema){const{opts:w,self:O}=$;if(!w.strictSchema||typeof b=="boolean")return;const T=O.RULES.keywords;for(const I in b)T[I]||S($,`unknown keyword: "${I}"`)}ne.checkUnknownRules=a;function s($,b){if(typeof $=="boolean")return!$;for(const w in $)if(b[w])return!0;return!1}ne.schemaHasRules=s;function o($,b){if(typeof $=="boolean")return!$;for(const w in $)if(w!=="$ref"&&b.all[w])return!0;return!1}ne.schemaHasRulesButRef=o;function i({topSchemaRef:$,schemaPath:b},w,O,T){if(!T){if(typeof w=="number"||typeof w=="boolean")return w;if(typeof w=="string")return(0,t._)`${w}`}return(0,t._)`${$}${b}${(0,t.getProperty)(O)}`}ne.schemaRefOrVal=i;function c($){return f(decodeURIComponent($))}ne.unescapeFragment=c;function u($){return encodeURIComponent(d($))}ne.escapeFragment=u;function d($){return typeof $=="number"?`${$}`:$.replace(/~/g,"~0").replace(/\//g,"~1")}ne.escapeJsonPointer=d;function f($){return $.replace(/~1/g,"/").replace(/~0/g,"~")}ne.unescapeJsonPointer=f;function l($,b){if(Array.isArray($))for(const w of $)b(w);else b($)}ne.eachItem=l;function h({mergeNames:$,mergeToName:b,mergeValues:w,resultToName:O}){return(T,I,A,U)=>{const q=A===void 0?I:A instanceof t.Name?(I instanceof t.Name?$(T,I,A):b(T,I,A),A):I instanceof t.Name?(b(T,A,I),I):w(I,A);return U===t.Name&&!(q instanceof t.Name)?O(T,q):q}}ne.mergeEvaluated={props:h({mergeNames:($,b,w)=>$.if((0,t._)`${w} !== true && ${b} !== undefined`,()=>{$.if((0,t._)`${b} === true`,()=>$.assign(w,!0),()=>$.assign(w,(0,t._)`${w} || {}`).code((0,t._)`Object.assign(${w}, ${b})`))}),mergeToName:($,b,w)=>$.if((0,t._)`${w} !== true`,()=>{b===!0?$.assign(w,!0):($.assign(w,(0,t._)`${w} || {}`),v($,w,b))}),mergeValues:($,b)=>$===!0?!0:{...$,...b},resultToName:y}),items:h({mergeNames:($,b,w)=>$.if((0,t._)`${w} !== true && ${b} !== undefined`,()=>$.assign(w,(0,t._)`${b} === true ? true : ${w} > ${b} ? ${w} : ${b}`)),mergeToName:($,b,w)=>$.if((0,t._)`${w} !== true`,()=>$.assign(w,b===!0?!0:(0,t._)`${w} > ${b} ? ${w} : ${b}`)),mergeValues:($,b)=>$===!0?!0:Math.max($,b),resultToName:($,b)=>$.var("items",b)})};function y($,b){if(b===!0)return $.var("props",!0);const w=$.var("props",(0,t._)`{}`);return b!==void 0&&v($,w,b),w}ne.evaluatedPropsToName=y;function v($,b,w){Object.keys(w).forEach(O=>$.assign((0,t._)`${b}${(0,t.getProperty)(O)}`,!0))}ne.setEvaluated=v;const p={};function g($,b){return $.scopeValue("func",{ref:b,code:p[b.code]||(p[b.code]=new e._Code(b.code))})}ne.useFunc=g;var m;(function($){$[$.Num=0]="Num",$[$.Str=1]="Str"})(m||(ne.Type=m={}));function _($,b,w){if($ instanceof t.Name){const O=b===m.Num;return w?O?(0,t._)`"[" + ${$} + "]"`:(0,t._)`"['" + ${$} + "']"`:O?(0,t._)`"/" + ${$}`:(0,t._)`"/" + ${$}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return w?(0,t.getProperty)($).toString():"/"+d($)}ne.getErrorPath=_;function S($,b,w=$.opts.strictSchema){if(w){if(b=`strict mode: ${b}`,w===!0)throw new Error(b);$.self.logger.warn(b)}}return ne.checkStrictMode=S,ne}var Ft={},hs;function Ge(){if(hs)return Ft;hs=1,Object.defineProperty(Ft,"__esModule",{value:!0});const t=se(),e={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};return Ft.default=e,Ft}var ps;function Rr(){return ps||(ps=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=se(),r=ce(),n=Ge();t.keywordError={message:({keyword:p})=>(0,e.str)`must pass "${p}" keyword validation`},t.keyword$DataError={message:({keyword:p,schemaType:g})=>g?(0,e.str)`"${p}" keyword must be ${g} ($data)`:(0,e.str)`"${p}" keyword is invalid ($data)`};function a(p,g=t.keywordError,m,_){const{it:S}=p,{gen:$,compositeRule:b,allErrors:w}=S,O=f(p,g,m);_??(b||w)?c($,O):u(S,(0,e._)`[${O}]`)}t.reportError=a;function s(p,g=t.keywordError,m){const{it:_}=p,{gen:S,compositeRule:$,allErrors:b}=_,w=f(p,g,m);c(S,w),$||b||u(_,n.default.vErrors)}t.reportExtraError=s;function o(p,g){p.assign(n.default.errors,g),p.if((0,e._)`${n.default.vErrors} !== null`,()=>p.if(g,()=>p.assign((0,e._)`${n.default.vErrors}.length`,g),()=>p.assign(n.default.vErrors,null)))}t.resetErrorsCount=o;function i({gen:p,keyword:g,schemaValue:m,data:_,errsCount:S,it:$}){if(S===void 0)throw new Error("ajv implementation error");const b=p.name("err");p.forRange("i",S,n.default.errors,w=>{p.const(b,(0,e._)`${n.default.vErrors}[${w}]`),p.if((0,e._)`${b}.instancePath === undefined`,()=>p.assign((0,e._)`${b}.instancePath`,(0,e.strConcat)(n.default.instancePath,$.errorPath))),p.assign((0,e._)`${b}.schemaPath`,(0,e.str)`${$.errSchemaPath}/${g}`),$.opts.verbose&&(p.assign((0,e._)`${b}.schema`,m),p.assign((0,e._)`${b}.data`,_))})}t.extendErrors=i;function c(p,g){const m=p.const("err",g);p.if((0,e._)`${n.default.vErrors} === null`,()=>p.assign(n.default.vErrors,(0,e._)`[${m}]`),(0,e._)`${n.default.vErrors}.push(${m})`),p.code((0,e._)`${n.default.errors}++`)}function u(p,g){const{gen:m,validateName:_,schemaEnv:S}=p;S.$async?m.throw((0,e._)`new ${p.ValidationError}(${g})`):(m.assign((0,e._)`${_}.errors`,g),m.return(!1))}const d={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function f(p,g,m){const{createErrors:_}=p.it;return _===!1?(0,e._)`{}`:l(p,g,m)}function l(p,g,m={}){const{gen:_,it:S}=p,$=[h(S,m),y(p,m)];return v(p,g,$),_.object(...$)}function h({errorPath:p},{instancePath:g}){const m=g?(0,e.str)`${p}${(0,r.getErrorPath)(g,r.Type.Str)}`:p;return[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,m)]}function y({keyword:p,it:{errSchemaPath:g}},{schemaPath:m,parentSchema:_}){let S=_?g:(0,e.str)`${g}/${p}`;return m&&(S=(0,e.str)`${S}${(0,r.getErrorPath)(m,r.Type.Str)}`),[d.schemaPath,S]}function v(p,{params:g,message:m},_){const{keyword:S,data:$,schemaValue:b,it:w}=p,{opts:O,propertyName:T,topSchemaRef:I,schemaPath:A}=w;_.push([d.keyword,S],[d.params,typeof g=="function"?g(p):g||(0,e._)`{}`]),O.messages&&_.push([d.message,typeof m=="function"?m(p):m]),O.verbose&&_.push([d.schema,b],[d.parentSchema,(0,e._)`${I}${A}`],[n.default.data,$]),T&&_.push([d.propertyName,T])}})(rn)),rn}var ys;function Jd(){if(ys)return Je;ys=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.boolOrEmptySchema=Je.topBoolOrEmptySchema=void 0;const t=Rr(),e=se(),r=Ge(),n={message:"boolean schema is false"};function a(i){const{gen:c,schema:u,validateName:d}=i;u===!1?o(i,!1):typeof u=="object"&&u.$async===!0?c.return(r.default.data):(c.assign((0,e._)`${d}.errors`,null),c.return(!0))}Je.topBoolOrEmptySchema=a;function s(i,c){const{gen:u,schema:d}=i;d===!1?(u.var(c,!1),o(i)):u.var(c,!0)}Je.boolOrEmptySchema=s;function o(i,c){const{gen:u,data:d}=i,f={gen:u,keyword:"false schema",data:d,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:i};(0,t.reportError)(f,n,void 0,c)}return Je}var be={},Ye={},gs;function Ei(){if(gs)return Ye;gs=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.getRules=Ye.isJSONType=void 0;const t=["string","number","integer","boolean","null","object","array"],e=new Set(t);function r(a){return typeof a=="string"&&e.has(a)}Ye.isJSONType=r;function n(){const a={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...a,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},a.number,a.string,a.array,a.object],post:{rules:[]},all:{},keywords:{}}}return Ye.getRules=n,Ye}var Be={},vs;function ji(){if(vs)return Be;vs=1,Object.defineProperty(Be,"__esModule",{value:!0}),Be.shouldUseRule=Be.shouldUseGroup=Be.schemaHasRulesForType=void 0;function t({schema:n,self:a},s){const o=a.RULES.types[s];return o&&o!==!0&&e(n,o)}Be.schemaHasRulesForType=t;function e(n,a){return a.rules.some(s=>r(n,s))}Be.shouldUseGroup=e;function r(n,a){var s;return n[a.keyword]!==void 0||((s=a.definition.implements)===null||s===void 0?void 0:s.some(o=>n[o]!==void 0))}return Be.shouldUseRule=r,Be}var _s;function Pr(){if(_s)return be;_s=1,Object.defineProperty(be,"__esModule",{value:!0}),be.reportTypeError=be.checkDataTypes=be.checkDataType=be.coerceAndCheckDataType=be.getJSONTypes=be.getSchemaTypes=be.DataType=void 0;const t=Ei(),e=ji(),r=Rr(),n=se(),a=ce();var s;(function(m){m[m.Correct=0]="Correct",m[m.Wrong=1]="Wrong"})(s||(be.DataType=s={}));function o(m){const _=i(m.type);if(_.includes("null")){if(m.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!_.length&&m.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');m.nullable===!0&&_.push("null")}return _}be.getSchemaTypes=o;function i(m){const _=Array.isArray(m)?m:m?[m]:[];if(_.every(t.isJSONType))return _;throw new Error("type must be JSONType or JSONType[]: "+_.join(","))}be.getJSONTypes=i;function c(m,_){const{gen:S,data:$,opts:b}=m,w=d(_,b.coerceTypes),O=_.length>0&&!(w.length===0&&_.length===1&&(0,e.schemaHasRulesForType)(m,_[0]));if(O){const T=y(_,$,b.strictNumbers,s.Wrong);S.if(T,()=>{w.length?f(m,_,w):p(m)})}return O}be.coerceAndCheckDataType=c;const u=new Set(["string","number","integer","boolean","null"]);function d(m,_){return _?m.filter(S=>u.has(S)||_==="array"&&S==="array"):[]}function f(m,_,S){const{gen:$,data:b,opts:w}=m,O=$.let("dataType",(0,n._)`typeof ${b}`),T=$.let("coerced",(0,n._)`undefined`);w.coerceTypes==="array"&&$.if((0,n._)`${O} == 'object' && Array.isArray(${b}) && ${b}.length == 1`,()=>$.assign(b,(0,n._)`${b}[0]`).assign(O,(0,n._)`typeof ${b}`).if(y(_,b,w.strictNumbers),()=>$.assign(T,b))),$.if((0,n._)`${T} !== undefined`);for(const A of S)(u.has(A)||A==="array"&&w.coerceTypes==="array")&&I(A);$.else(),p(m),$.endIf(),$.if((0,n._)`${T} !== undefined`,()=>{$.assign(b,T),l(m,T)});function I(A){switch(A){case"string":$.elseIf((0,n._)`${O} == "number" || ${O} == "boolean"`).assign(T,(0,n._)`"" + ${b}`).elseIf((0,n._)`${b} === null`).assign(T,(0,n._)`""`);return;case"number":$.elseIf((0,n._)`${O} == "boolean" || ${b} === null
              || (${O} == "string" && ${b} && ${b} == +${b})`).assign(T,(0,n._)`+${b}`);return;case"integer":$.elseIf((0,n._)`${O} === "boolean" || ${b} === null
              || (${O} === "string" && ${b} && ${b} == +${b} && !(${b} % 1))`).assign(T,(0,n._)`+${b}`);return;case"boolean":$.elseIf((0,n._)`${b} === "false" || ${b} === 0 || ${b} === null`).assign(T,!1).elseIf((0,n._)`${b} === "true" || ${b} === 1`).assign(T,!0);return;case"null":$.elseIf((0,n._)`${b} === "" || ${b} === 0 || ${b} === false`),$.assign(T,null);return;case"array":$.elseIf((0,n._)`${O} === "string" || ${O} === "number"
              || ${O} === "boolean" || ${b} === null`).assign(T,(0,n._)`[${b}]`)}}}function l({gen:m,parentData:_,parentDataProperty:S},$){m.if((0,n._)`${_} !== undefined`,()=>m.assign((0,n._)`${_}[${S}]`,$))}function h(m,_,S,$=s.Correct){const b=$===s.Correct?n.operators.EQ:n.operators.NEQ;let w;switch(m){case"null":return(0,n._)`${_} ${b} null`;case"array":w=(0,n._)`Array.isArray(${_})`;break;case"object":w=(0,n._)`${_} && typeof ${_} == "object" && !Array.isArray(${_})`;break;case"integer":w=O((0,n._)`!(${_} % 1) && !isNaN(${_})`);break;case"number":w=O();break;default:return(0,n._)`typeof ${_} ${b} ${m}`}return $===s.Correct?w:(0,n.not)(w);function O(T=n.nil){return(0,n.and)((0,n._)`typeof ${_} == "number"`,T,S?(0,n._)`isFinite(${_})`:n.nil)}}be.checkDataType=h;function y(m,_,S,$){if(m.length===1)return h(m[0],_,S,$);let b;const w=(0,a.toHash)(m);if(w.array&&w.object){const O=(0,n._)`typeof ${_} != "object"`;b=w.null?O:(0,n._)`!${_} || ${O}`,delete w.null,delete w.array,delete w.object}else b=n.nil;w.number&&delete w.integer;for(const O in w)b=(0,n.and)(b,h(O,_,S,$));return b}be.checkDataTypes=y;const v={message:({schema:m})=>`must be ${m}`,params:({schema:m,schemaValue:_})=>typeof m=="string"?(0,n._)`{type: ${m}}`:(0,n._)`{type: ${_}}`};function p(m){const _=g(m);(0,r.reportError)(_,v)}be.reportTypeError=p;function g(m){const{gen:_,data:S,schema:$}=m,b=(0,a.schemaRefOrVal)(m,$,"type");return{gen:_,keyword:"type",data:S,schema:$.type,schemaCode:b,schemaValue:b,parentSchema:$,params:{},it:m}}return be}var _t={},bs;function Yd(){if(bs)return _t;bs=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.assignDefaults=void 0;const t=se(),e=ce();function r(a,s){const{properties:o,items:i}=a.schema;if(s==="object"&&o)for(const c in o)n(a,c,o[c].default);else s==="array"&&Array.isArray(i)&&i.forEach((c,u)=>n(a,u,c.default))}_t.assignDefaults=r;function n(a,s,o){const{gen:i,compositeRule:c,data:u,opts:d}=a;if(o===void 0)return;const f=(0,t._)`${u}${(0,t.getProperty)(s)}`;if(c){(0,e.checkStrictMode)(a,`default is ignored for: ${f}`);return}let l=(0,t._)`${f} === undefined`;d.useDefaults==="empty"&&(l=(0,t._)`${l} || ${f} === null || ${f} === ""`),i.if(l,(0,t._)`${f} = ${(0,t.stringify)(o)}`)}return _t}var Ne={},de={},Ss;function Ie(){if(Ss)return de;Ss=1,Object.defineProperty(de,"__esModule",{value:!0}),de.validateUnion=de.validateArray=de.usePattern=de.callValidateCode=de.schemaProperties=de.allSchemaProperties=de.noPropertyInData=de.propertyInData=de.isOwnProperty=de.hasPropFunc=de.reportMissingProp=de.checkMissingProp=de.checkReportMissingProp=void 0;const t=se(),e=ce(),r=Ge(),n=ce();function a(m,_){const{gen:S,data:$,it:b}=m;S.if(d(S,$,_,b.opts.ownProperties),()=>{m.setParams({missingProperty:(0,t._)`${_}`},!0),m.error()})}de.checkReportMissingProp=a;function s({gen:m,data:_,it:{opts:S}},$,b){return(0,t.or)(...$.map(w=>(0,t.and)(d(m,_,w,S.ownProperties),(0,t._)`${b} = ${w}`)))}de.checkMissingProp=s;function o(m,_){m.setParams({missingProperty:_},!0),m.error()}de.reportMissingProp=o;function i(m){return m.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}de.hasPropFunc=i;function c(m,_,S){return(0,t._)`${i(m)}.call(${_}, ${S})`}de.isOwnProperty=c;function u(m,_,S,$){const b=(0,t._)`${_}${(0,t.getProperty)(S)} !== undefined`;return $?(0,t._)`${b} && ${c(m,_,S)}`:b}de.propertyInData=u;function d(m,_,S,$){const b=(0,t._)`${_}${(0,t.getProperty)(S)} === undefined`;return $?(0,t.or)(b,(0,t.not)(c(m,_,S))):b}de.noPropertyInData=d;function f(m){return m?Object.keys(m).filter(_=>_!=="__proto__"):[]}de.allSchemaProperties=f;function l(m,_){return f(_).filter(S=>!(0,e.alwaysValidSchema)(m,_[S]))}de.schemaProperties=l;function h({schemaCode:m,data:_,it:{gen:S,topSchemaRef:$,schemaPath:b,errorPath:w},it:O},T,I,A){const U=A?(0,t._)`${m}, ${_}, ${$}${b}`:_,q=[[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,w)],[r.default.parentData,O.parentData],[r.default.parentDataProperty,O.parentDataProperty],[r.default.rootData,r.default.rootData]];O.opts.dynamicRef&&q.push([r.default.dynamicAnchors,r.default.dynamicAnchors]);const L=(0,t._)`${U}, ${S.object(...q)}`;return I!==t.nil?(0,t._)`${T}.call(${I}, ${L})`:(0,t._)`${T}(${L})`}de.callValidateCode=h;const y=(0,t._)`new RegExp`;function v({gen:m,it:{opts:_}},S){const $=_.unicodeRegExp?"u":"",{regExp:b}=_.code,w=b(S,$);return m.scopeValue("pattern",{key:w.toString(),ref:w,code:(0,t._)`${b.code==="new RegExp"?y:(0,n.useFunc)(m,b)}(${S}, ${$})`})}de.usePattern=v;function p(m){const{gen:_,data:S,keyword:$,it:b}=m,w=_.name("valid");if(b.allErrors){const T=_.let("valid",!0);return O(()=>_.assign(T,!1)),T}return _.var(w,!0),O(()=>_.break()),w;function O(T){const I=_.const("len",(0,t._)`${S}.length`);_.forRange("i",0,I,A=>{m.subschema({keyword:$,dataProp:A,dataPropType:e.Type.Num},w),_.if((0,t.not)(w),T)})}}de.validateArray=p;function g(m){const{gen:_,schema:S,keyword:$,it:b}=m;if(!Array.isArray(S))throw new Error("ajv implementation error");if(S.some(I=>(0,e.alwaysValidSchema)(b,I))&&!b.opts.unevaluated)return;const O=_.let("valid",!1),T=_.name("_valid");_.block(()=>S.forEach((I,A)=>{const U=m.subschema({keyword:$,schemaProp:A,compositeRule:!0},T);_.assign(O,(0,t._)`${O} || ${T}`),m.mergeValidEvaluated(U,T)||_.if((0,t.not)(O))})),m.result(O,()=>m.reset(),()=>m.error(!0))}return de.validateUnion=g,de}var $s;function Xd(){if($s)return Ne;$s=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.validateKeywordUsage=Ne.validSchemaType=Ne.funcKeywordCode=Ne.macroKeywordCode=void 0;const t=se(),e=Ge(),r=Ie(),n=Rr();function a(l,h){const{gen:y,keyword:v,schema:p,parentSchema:g,it:m}=l,_=h.macro.call(m.self,p,g,m),S=u(y,v,_);m.opts.validateSchema!==!1&&m.self.validateSchema(_,!0);const $=y.name("valid");l.subschema({schema:_,schemaPath:t.nil,errSchemaPath:`${m.errSchemaPath}/${v}`,topSchemaRef:S,compositeRule:!0},$),l.pass($,()=>l.error(!0))}Ne.macroKeywordCode=a;function s(l,h){var y;const{gen:v,keyword:p,schema:g,parentSchema:m,$data:_,it:S}=l;c(S,h);const $=!_&&h.compile?h.compile.call(S.self,g,m,S):h.validate,b=u(v,p,$),w=v.let("valid");l.block$data(w,O),l.ok((y=h.valid)!==null&&y!==void 0?y:w);function O(){if(h.errors===!1)A(),h.modifying&&o(l),U(()=>l.error());else{const q=h.async?T():I();h.modifying&&o(l),U(()=>i(l,q))}}function T(){const q=v.let("ruleErrs",null);return v.try(()=>A((0,t._)`await `),L=>v.assign(w,!1).if((0,t._)`${L} instanceof ${S.ValidationError}`,()=>v.assign(q,(0,t._)`${L}.errors`),()=>v.throw(L))),q}function I(){const q=(0,t._)`${b}.errors`;return v.assign(q,null),A(t.nil),q}function A(q=h.async?(0,t._)`await `:t.nil){const L=S.opts.passContext?e.default.this:e.default.self,B=!("compile"in h&&!_||h.schema===!1);v.assign(w,(0,t._)`${q}${(0,r.callValidateCode)(l,b,L,B)}`,h.modifying)}function U(q){var L;v.if((0,t.not)((L=h.valid)!==null&&L!==void 0?L:w),q)}}Ne.funcKeywordCode=s;function o(l){const{gen:h,data:y,it:v}=l;h.if(v.parentData,()=>h.assign(y,(0,t._)`${v.parentData}[${v.parentDataProperty}]`))}function i(l,h){const{gen:y}=l;y.if((0,t._)`Array.isArray(${h})`,()=>{y.assign(e.default.vErrors,(0,t._)`${e.default.vErrors} === null ? ${h} : ${e.default.vErrors}.concat(${h})`).assign(e.default.errors,(0,t._)`${e.default.vErrors}.length`),(0,n.extendErrors)(l)},()=>l.error())}function c({schemaEnv:l},h){if(h.async&&!l.$async)throw new Error("async keyword in sync schema")}function u(l,h,y){if(y===void 0)throw new Error(`keyword "${h}" failed to compile`);return l.scopeValue("keyword",typeof y=="function"?{ref:y}:{ref:y,code:(0,t.stringify)(y)})}function d(l,h,y=!1){return!h.length||h.some(v=>v==="array"?Array.isArray(l):v==="object"?l&&typeof l=="object"&&!Array.isArray(l):typeof l==v||y&&typeof l>"u")}Ne.validSchemaType=d;function f({schema:l,opts:h,self:y,errSchemaPath:v},p,g){if(Array.isArray(p.keyword)?!p.keyword.includes(g):p.keyword!==g)throw new Error("ajv implementation error");const m=p.dependencies;if(m?.some(_=>!Object.prototype.hasOwnProperty.call(l,_)))throw new Error(`parent schema must have dependencies of ${g}: ${m.join(",")}`);if(p.validateSchema&&!p.validateSchema(l[g])){const S=`keyword "${g}" value is invalid at path "${v}": `+y.errorsText(p.validateSchema.errors);if(h.validateSchema==="log")y.logger.error(S);else throw new Error(S)}}return Ne.validateKeywordUsage=f,Ne}var Le={},ws;function Qd(){if(ws)return Le;ws=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.extendSubschemaMode=Le.extendSubschemaData=Le.getSubschema=void 0;const t=se(),e=ce();function r(s,{keyword:o,schemaProp:i,schema:c,schemaPath:u,errSchemaPath:d,topSchemaRef:f}){if(o!==void 0&&c!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const l=s.schema[o];return i===void 0?{schema:l,schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(o)}`,errSchemaPath:`${s.errSchemaPath}/${o}`}:{schema:l[i],schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(o)}${(0,t.getProperty)(i)}`,errSchemaPath:`${s.errSchemaPath}/${o}/${(0,e.escapeFragment)(i)}`}}if(c!==void 0){if(u===void 0||d===void 0||f===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:c,schemaPath:u,topSchemaRef:f,errSchemaPath:d}}throw new Error('either "keyword" or "schema" must be passed')}Le.getSubschema=r;function n(s,o,{dataProp:i,dataPropType:c,data:u,dataTypes:d,propertyName:f}){if(u!==void 0&&i!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:l}=o;if(i!==void 0){const{errorPath:y,dataPathArr:v,opts:p}=o,g=l.let("data",(0,t._)`${o.data}${(0,t.getProperty)(i)}`,!0);h(g),s.errorPath=(0,t.str)`${y}${(0,e.getErrorPath)(i,c,p.jsPropertySyntax)}`,s.parentDataProperty=(0,t._)`${i}`,s.dataPathArr=[...v,s.parentDataProperty]}if(u!==void 0){const y=u instanceof t.Name?u:l.let("data",u,!0);h(y),f!==void 0&&(s.propertyName=f)}d&&(s.dataTypes=d);function h(y){s.data=y,s.dataLevel=o.dataLevel+1,s.dataTypes=[],o.definedProperties=new Set,s.parentData=o.data,s.dataNames=[...o.dataNames,y]}}Le.extendSubschemaData=n;function a(s,{jtdDiscriminator:o,jtdMetadata:i,compositeRule:c,createErrors:u,allErrors:d}){c!==void 0&&(s.compositeRule=c),u!==void 0&&(s.createErrors=u),d!==void 0&&(s.allErrors=d),s.jtdDiscriminator=o,s.jtdMetadata=i}return Le.extendSubschemaMode=a,Le}var Se={},on={exports:{}},Es;function Zd(){if(Es)return on.exports;Es=1;var t=on.exports=function(n,a,s){typeof a=="function"&&(s=a,a={}),s=a.cb||s;var o=typeof s=="function"?s:s.pre||function(){},i=s.post||function(){};e(a,o,i,n,"",n)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function e(n,a,s,o,i,c,u,d,f,l){if(o&&typeof o=="object"&&!Array.isArray(o)){a(o,i,c,u,d,f,l);for(var h in o){var y=o[h];if(Array.isArray(y)){if(h in t.arrayKeywords)for(var v=0;v<y.length;v++)e(n,a,s,y[v],i+"/"+h+"/"+v,c,i,h,o,v)}else if(h in t.propsKeywords){if(y&&typeof y=="object")for(var p in y)e(n,a,s,y[p],i+"/"+h+"/"+r(p),c,i,h,o,p)}else(h in t.keywords||n.allKeys&&!(h in t.skipKeywords))&&e(n,a,s,y,i+"/"+h,c,i,h,o)}s(o,i,c,u,d,f,l)}}function r(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}return on.exports}var js;function Mr(){if(js)return Se;js=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.getSchemaRefs=Se.resolveUrl=Se.normalizeId=Se._getFullPath=Se.getFullPath=Se.inlineRef=void 0;const t=ce(),e=Ba(),r=Zd(),n=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function a(v,p=!0){return typeof v=="boolean"?!0:p===!0?!o(v):p?i(v)<=p:!1}Se.inlineRef=a;const s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function o(v){for(const p in v){if(s.has(p))return!0;const g=v[p];if(Array.isArray(g)&&g.some(o)||typeof g=="object"&&o(g))return!0}return!1}function i(v){let p=0;for(const g in v){if(g==="$ref")return 1/0;if(p++,!n.has(g)&&(typeof v[g]=="object"&&(0,t.eachItem)(v[g],m=>p+=i(m)),p===1/0))return 1/0}return p}function c(v,p="",g){g!==!1&&(p=f(p));const m=v.parse(p);return u(v,m)}Se.getFullPath=c;function u(v,p){return v.serialize(p).split("#")[0]+"#"}Se._getFullPath=u;const d=/#\/?$/;function f(v){return v?v.replace(d,""):""}Se.normalizeId=f;function l(v,p,g){return g=f(g),v.resolve(p,g)}Se.resolveUrl=l;const h=/^[a-z_][-a-z0-9._]*$/i;function y(v,p){if(typeof v=="boolean")return{};const{schemaId:g,uriResolver:m}=this.opts,_=f(v[g]||p),S={"":_},$=c(m,_,!1),b={},w=new Set;return r(v,{allKeys:!0},(I,A,U,q)=>{if(q===void 0)return;const L=$+A;let B=S[q];typeof I[g]=="string"&&(B=J.call(this,I[g])),re.call(this,I.$anchor),re.call(this,I.$dynamicAnchor),S[A]=B;function J(W){const X=this.opts.uriResolver.resolve;if(W=f(B?X(B,W):W),w.has(W))throw T(W);w.add(W);let R=this.refs[W];return typeof R=="string"&&(R=this.refs[R]),typeof R=="object"?O(I,R.schema,W):W!==f(L)&&(W[0]==="#"?(O(I,b[W],W),b[W]=I):this.refs[W]=L),W}function re(W){if(typeof W=="string"){if(!h.test(W))throw new Error(`invalid anchor "${W}"`);J.call(this,`#${W}`)}}}),b;function O(I,A,U){if(A!==void 0&&!e(I,A))throw T(U)}function T(I){return new Error(`reference "${I}" resolves to more than one schema`)}}return Se.getSchemaRefs=y,Se}var Cs;function qr(){if(Cs)return Ve;Cs=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.getData=Ve.KeywordCxt=Ve.validateFunctionCode=void 0;const t=Jd(),e=Pr(),r=ji(),n=Pr(),a=Yd(),s=Xd(),o=Qd(),i=se(),c=Ge(),u=Mr(),d=ce(),f=Rr();function l(k){if($(k)&&(w(k),S(k))){p(k);return}h(k,()=>(0,t.topBoolOrEmptySchema)(k))}Ve.validateFunctionCode=l;function h({gen:k,validateName:F,schema:M,schemaEnv:V,opts:H},te){H.code.es5?k.func(F,(0,i._)`${c.default.data}, ${c.default.valCxt}`,V.$async,()=>{k.code((0,i._)`"use strict"; ${m(M,H)}`),v(k,H),k.code(te)}):k.func(F,(0,i._)`${c.default.data}, ${y(H)}`,V.$async,()=>k.code(m(M,H)).code(te))}function y(k){return(0,i._)`{${c.default.instancePath}="", ${c.default.parentData}, ${c.default.parentDataProperty}, ${c.default.rootData}=${c.default.data}${k.dynamicRef?(0,i._)`, ${c.default.dynamicAnchors}={}`:i.nil}}={}`}function v(k,F){k.if(c.default.valCxt,()=>{k.var(c.default.instancePath,(0,i._)`${c.default.valCxt}.${c.default.instancePath}`),k.var(c.default.parentData,(0,i._)`${c.default.valCxt}.${c.default.parentData}`),k.var(c.default.parentDataProperty,(0,i._)`${c.default.valCxt}.${c.default.parentDataProperty}`),k.var(c.default.rootData,(0,i._)`${c.default.valCxt}.${c.default.rootData}`),F.dynamicRef&&k.var(c.default.dynamicAnchors,(0,i._)`${c.default.valCxt}.${c.default.dynamicAnchors}`)},()=>{k.var(c.default.instancePath,(0,i._)`""`),k.var(c.default.parentData,(0,i._)`undefined`),k.var(c.default.parentDataProperty,(0,i._)`undefined`),k.var(c.default.rootData,c.default.data),F.dynamicRef&&k.var(c.default.dynamicAnchors,(0,i._)`{}`)})}function p(k){const{schema:F,opts:M,gen:V}=k;h(k,()=>{M.$comment&&F.$comment&&q(k),I(k),V.let(c.default.vErrors,null),V.let(c.default.errors,0),M.unevaluated&&g(k),O(k),L(k)})}function g(k){const{gen:F,validateName:M}=k;k.evaluated=F.const("evaluated",(0,i._)`${M}.evaluated`),F.if((0,i._)`${k.evaluated}.dynamicProps`,()=>F.assign((0,i._)`${k.evaluated}.props`,(0,i._)`undefined`)),F.if((0,i._)`${k.evaluated}.dynamicItems`,()=>F.assign((0,i._)`${k.evaluated}.items`,(0,i._)`undefined`))}function m(k,F){const M=typeof k=="object"&&k[F.schemaId];return M&&(F.code.source||F.code.process)?(0,i._)`/*# sourceURL=${M} */`:i.nil}function _(k,F){if($(k)&&(w(k),S(k))){b(k,F);return}(0,t.boolOrEmptySchema)(k,F)}function S({schema:k,self:F}){if(typeof k=="boolean")return!k;for(const M in k)if(F.RULES.all[M])return!0;return!1}function $(k){return typeof k.schema!="boolean"}function b(k,F){const{schema:M,gen:V,opts:H}=k;H.$comment&&M.$comment&&q(k),A(k),U(k);const te=V.const("_errs",c.default.errors);O(k,te),V.var(F,(0,i._)`${te} === ${c.default.errors}`)}function w(k){(0,d.checkUnknownRules)(k),T(k)}function O(k,F){if(k.opts.jtd)return J(k,[],!1,F);const M=(0,e.getSchemaTypes)(k.schema),V=(0,e.coerceAndCheckDataType)(k,M);J(k,M,!V,F)}function T(k){const{schema:F,errSchemaPath:M,opts:V,self:H}=k;F.$ref&&V.ignoreKeywordsWithRef&&(0,d.schemaHasRulesButRef)(F,H.RULES)&&H.logger.warn(`$ref: keywords ignored in schema at path "${M}"`)}function I(k){const{schema:F,opts:M}=k;F.default!==void 0&&M.useDefaults&&M.strictSchema&&(0,d.checkStrictMode)(k,"default is ignored in the schema root")}function A(k){const F=k.schema[k.opts.schemaId];F&&(k.baseId=(0,u.resolveUrl)(k.opts.uriResolver,k.baseId,F))}function U(k){if(k.schema.$async&&!k.schemaEnv.$async)throw new Error("async schema in sync schema")}function q({gen:k,schemaEnv:F,schema:M,errSchemaPath:V,opts:H}){const te=M.$comment;if(H.$comment===!0)k.code((0,i._)`${c.default.self}.logger.log(${te})`);else if(typeof H.$comment=="function"){const ue=(0,i.str)`${V}/$comment`,ke=k.scopeValue("root",{ref:F.root});k.code((0,i._)`${c.default.self}.opts.$comment(${te}, ${ue}, ${ke}.schema)`)}}function L(k){const{gen:F,schemaEnv:M,validateName:V,ValidationError:H,opts:te}=k;M.$async?F.if((0,i._)`${c.default.errors} === 0`,()=>F.return(c.default.data),()=>F.throw((0,i._)`new ${H}(${c.default.vErrors})`)):(F.assign((0,i._)`${V}.errors`,c.default.vErrors),te.unevaluated&&B(k),F.return((0,i._)`${c.default.errors} === 0`))}function B({gen:k,evaluated:F,props:M,items:V}){M instanceof i.Name&&k.assign((0,i._)`${F}.props`,M),V instanceof i.Name&&k.assign((0,i._)`${F}.items`,V)}function J(k,F,M,V){const{gen:H,schema:te,data:ue,allErrors:ke,opts:we,self:Ee}=k,{RULES:_e}=Ee;if(te.$ref&&(we.ignoreKeywordsWithRef||!(0,d.schemaHasRulesButRef)(te,_e))){H.block(()=>K(k,"$ref",_e.all.$ref.definition));return}we.jtd||W(k,F),H.block(()=>{for(const Oe of _e.rules)ot(Oe);ot(_e.post)});function ot(Oe){(0,r.shouldUseGroup)(te,Oe)&&(Oe.type?(H.if((0,n.checkDataType)(Oe.type,ue,we.strictNumbers)),re(k,Oe),F.length===1&&F[0]===Oe.type&&M&&(H.else(),(0,n.reportTypeError)(k)),H.endIf()):re(k,Oe),ke||H.if((0,i._)`${c.default.errors} === ${V||0}`))}}function re(k,F){const{gen:M,schema:V,opts:{useDefaults:H}}=k;H&&(0,a.assignDefaults)(k,F.type),M.block(()=>{for(const te of F.rules)(0,r.shouldUseRule)(V,te)&&K(k,te.keyword,te.definition,F.type)})}function W(k,F){k.schemaEnv.meta||!k.opts.strictTypes||(X(k,F),k.opts.allowUnionTypes||R(k,F),P(k,k.dataTypes))}function X(k,F){if(F.length){if(!k.dataTypes.length){k.dataTypes=F;return}F.forEach(M=>{N(k.dataTypes,M)||C(k,`type "${M}" not allowed by context "${k.dataTypes.join(",")}"`)}),E(k,F)}}function R(k,F){F.length>1&&!(F.length===2&&F.includes("null"))&&C(k,"use allowUnionTypes to allow union type keyword")}function P(k,F){const M=k.self.RULES.all;for(const V in M){const H=M[V];if(typeof H=="object"&&(0,r.shouldUseRule)(k.schema,H)){const{type:te}=H.definition;te.length&&!te.some(ue=>D(F,ue))&&C(k,`missing type "${te.join(",")}" for keyword "${V}"`)}}}function D(k,F){return k.includes(F)||F==="number"&&k.includes("integer")}function N(k,F){return k.includes(F)||F==="integer"&&k.includes("number")}function E(k,F){const M=[];for(const V of k.dataTypes)N(F,V)?M.push(V):F.includes("integer")&&V==="number"&&M.push("integer");k.dataTypes=M}function C(k,F){const M=k.schemaEnv.baseId+k.errSchemaPath;F+=` at "${M}" (strictTypes)`,(0,d.checkStrictMode)(k,F,k.opts.strictTypes)}class x{constructor(F,M,V){if((0,s.validateKeywordUsage)(F,M,V),this.gen=F.gen,this.allErrors=F.allErrors,this.keyword=V,this.data=F.data,this.schema=F.schema[V],this.$data=M.$data&&F.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,d.schemaRefOrVal)(F,this.schema,V,this.$data),this.schemaType=M.schemaType,this.parentSchema=F.schema,this.params={},this.it=F,this.def=M,this.$data)this.schemaCode=F.gen.const("vSchema",ae(this.$data,F));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,M.schemaType,M.allowUndefined))throw new Error(`${V} value must be ${JSON.stringify(M.schemaType)}`);("code"in M?M.trackErrors:M.errors!==!1)&&(this.errsCount=F.gen.const("_errs",c.default.errors))}result(F,M,V){this.failResult((0,i.not)(F),M,V)}failResult(F,M,V){this.gen.if(F),V?V():this.error(),M?(this.gen.else(),M(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(F,M){this.failResult((0,i.not)(F),void 0,M)}fail(F){if(F===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(F),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(F){if(!this.$data)return this.fail(F);const{schemaCode:M}=this;this.fail((0,i._)`${M} !== undefined && (${(0,i.or)(this.invalid$data(),F)})`)}error(F,M,V){if(M){this.setParams(M),this._error(F,V),this.setParams({});return}this._error(F,V)}_error(F,M){(F?f.reportExtraError:f.reportError)(this,this.def.error,M)}$dataError(){(0,f.reportError)(this,this.def.$dataError||f.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,f.resetErrorsCount)(this.gen,this.errsCount)}ok(F){this.allErrors||this.gen.if(F)}setParams(F,M){M?Object.assign(this.params,F):this.params=F}block$data(F,M,V=i.nil){this.gen.block(()=>{this.check$data(F,V),M()})}check$data(F=i.nil,M=i.nil){if(!this.$data)return;const{gen:V,schemaCode:H,schemaType:te,def:ue}=this;V.if((0,i.or)((0,i._)`${H} === undefined`,M)),F!==i.nil&&V.assign(F,!0),(te.length||ue.validateSchema)&&(V.elseIf(this.invalid$data()),this.$dataError(),F!==i.nil&&V.assign(F,!1)),V.else()}invalid$data(){const{gen:F,schemaCode:M,schemaType:V,def:H,it:te}=this;return(0,i.or)(ue(),ke());function ue(){if(V.length){if(!(M instanceof i.Name))throw new Error("ajv implementation error");const we=Array.isArray(V)?V:[V];return(0,i._)`${(0,n.checkDataTypes)(we,M,te.opts.strictNumbers,n.DataType.Wrong)}`}return i.nil}function ke(){if(H.validateSchema){const we=F.scopeValue("validate$data",{ref:H.validateSchema});return(0,i._)`!${we}(${M})`}return i.nil}}subschema(F,M){const V=(0,o.getSubschema)(this.it,F);(0,o.extendSubschemaData)(V,this.it,F),(0,o.extendSubschemaMode)(V,F);const H={...this.it,...V,items:void 0,props:void 0};return _(H,M),H}mergeEvaluated(F,M){const{it:V,gen:H}=this;V.opts.unevaluated&&(V.props!==!0&&F.props!==void 0&&(V.props=d.mergeEvaluated.props(H,F.props,V.props,M)),V.items!==!0&&F.items!==void 0&&(V.items=d.mergeEvaluated.items(H,F.items,V.items,M)))}mergeValidEvaluated(F,M){const{it:V,gen:H}=this;if(V.opts.unevaluated&&(V.props!==!0||V.items!==!0))return H.if(M,()=>this.mergeEvaluated(F,i.Name)),!0}}Ve.KeywordCxt=x;function K(k,F,M,V){const H=new x(k,M,F);"code"in M?M.code(H,V):H.$data&&M.validate?(0,s.funcKeywordCode)(H,M):"macro"in M?(0,s.macroKeywordCode)(H,M):(M.compile||M.validate)&&(0,s.funcKeywordCode)(H,M)}const G=/^\/(?:[^~]|~0|~1)*$/,ie=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ae(k,{dataLevel:F,dataNames:M,dataPathArr:V}){let H,te;if(k==="")return c.default.rootData;if(k[0]==="/"){if(!G.test(k))throw new Error(`Invalid JSON-pointer: ${k}`);H=k,te=c.default.rootData}else{const Ee=ie.exec(k);if(!Ee)throw new Error(`Invalid JSON-pointer: ${k}`);const _e=+Ee[1];if(H=Ee[2],H==="#"){if(_e>=F)throw new Error(we("property/index",_e));return V[F-_e]}if(_e>F)throw new Error(we("data",_e));if(te=M[F-_e],!H)return te}let ue=te;const ke=H.split("/");for(const Ee of ke)Ee&&(te=(0,i._)`${te}${(0,i.getProperty)((0,d.unescapeJsonPointer)(Ee))}`,ue=(0,i._)`${ue} && ${te}`);return ue;function we(Ee,_e){return`Cannot access ${Ee} ${_e} levels up, current level is ${F}`}}return Ve.getData=ae,Ve}var It={},Ts;function Nn(){if(Ts)return It;Ts=1,Object.defineProperty(It,"__esModule",{value:!0});class t extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return It.default=t,It}var xt={},Os;function Ur(){if(Os)return xt;Os=1,Object.defineProperty(xt,"__esModule",{value:!0});const t=Mr();class e extends Error{constructor(n,a,s,o){super(o||`can't resolve reference ${s} from id ${a}`),this.missingRef=(0,t.resolveUrl)(n,a,s),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}}return xt.default=e,xt}var Ce={},Ps;function Fn(){if(Ps)return Ce;Ps=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.resolveSchema=Ce.getCompilingSchema=Ce.resolveRef=Ce.compileSchema=Ce.SchemaEnv=void 0;const t=se(),e=Nn(),r=Ge(),n=Mr(),a=ce(),s=qr();class o{constructor(g){var m;this.refs={},this.dynamicAnchors={};let _;typeof g.schema=="object"&&(_=g.schema),this.schema=g.schema,this.schemaId=g.schemaId,this.root=g.root||this,this.baseId=(m=g.baseId)!==null&&m!==void 0?m:(0,n.normalizeId)(_?.[g.schemaId||"$id"]),this.schemaPath=g.schemaPath,this.localRefs=g.localRefs,this.meta=g.meta,this.$async=_?.$async,this.refs={}}}Ce.SchemaEnv=o;function i(p){const g=d.call(this,p);if(g)return g;const m=(0,n.getFullPath)(this.opts.uriResolver,p.root.baseId),{es5:_,lines:S}=this.opts.code,{ownProperties:$}=this.opts,b=new t.CodeGen(this.scope,{es5:_,lines:S,ownProperties:$});let w;p.$async&&(w=b.scopeValue("Error",{ref:e.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const O=b.scopeName("validate");p.validateName=O;const T={gen:b,allErrors:this.opts.allErrors,data:r.default.data,parentData:r.default.parentData,parentDataProperty:r.default.parentDataProperty,dataNames:[r.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:b.scopeValue("schema",this.opts.code.source===!0?{ref:p.schema,code:(0,t.stringify)(p.schema)}:{ref:p.schema}),validateName:O,ValidationError:w,schema:p.schema,schemaEnv:p,rootId:m,baseId:p.baseId||m,schemaPath:t.nil,errSchemaPath:p.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let I;try{this._compilations.add(p),(0,s.validateFunctionCode)(T),b.optimize(this.opts.code.optimize);const A=b.toString();I=`${b.scopeRefs(r.default.scope)}return ${A}`,this.opts.code.process&&(I=this.opts.code.process(I,p));const q=new Function(`${r.default.self}`,`${r.default.scope}`,I)(this,this.scope.get());if(this.scope.value(O,{ref:q}),q.errors=null,q.schema=p.schema,q.schemaEnv=p,p.$async&&(q.$async=!0),this.opts.code.source===!0&&(q.source={validateName:O,validateCode:A,scopeValues:b._values}),this.opts.unevaluated){const{props:L,items:B}=T;q.evaluated={props:L instanceof t.Name?void 0:L,items:B instanceof t.Name?void 0:B,dynamicProps:L instanceof t.Name,dynamicItems:B instanceof t.Name},q.source&&(q.source.evaluated=(0,t.stringify)(q.evaluated))}return p.validate=q,p}catch(A){throw delete p.validate,delete p.validateName,I&&this.logger.error("Error compiling schema, function code:",I),A}finally{this._compilations.delete(p)}}Ce.compileSchema=i;function c(p,g,m){var _;m=(0,n.resolveUrl)(this.opts.uriResolver,g,m);const S=p.refs[m];if(S)return S;let $=l.call(this,p,m);if($===void 0){const b=(_=p.localRefs)===null||_===void 0?void 0:_[m],{schemaId:w}=this.opts;b&&($=new o({schema:b,schemaId:w,root:p,baseId:g}))}if($!==void 0)return p.refs[m]=u.call(this,$)}Ce.resolveRef=c;function u(p){return(0,n.inlineRef)(p.schema,this.opts.inlineRefs)?p.schema:p.validate?p:i.call(this,p)}function d(p){for(const g of this._compilations)if(f(g,p))return g}Ce.getCompilingSchema=d;function f(p,g){return p.schema===g.schema&&p.root===g.root&&p.baseId===g.baseId}function l(p,g){let m;for(;typeof(m=this.refs[g])=="string";)g=m;return m||this.schemas[g]||h.call(this,p,g)}function h(p,g){const m=this.opts.uriResolver.parse(g),_=(0,n._getFullPath)(this.opts.uriResolver,m);let S=(0,n.getFullPath)(this.opts.uriResolver,p.baseId,void 0);if(Object.keys(p.schema).length>0&&_===S)return v.call(this,m,p);const $=(0,n.normalizeId)(_),b=this.refs[$]||this.schemas[$];if(typeof b=="string"){const w=h.call(this,p,b);return typeof w?.schema!="object"?void 0:v.call(this,m,w)}if(typeof b?.schema=="object"){if(b.validate||i.call(this,b),$===(0,n.normalizeId)(g)){const{schema:w}=b,{schemaId:O}=this.opts,T=w[O];return T&&(S=(0,n.resolveUrl)(this.opts.uriResolver,S,T)),new o({schema:w,schemaId:O,root:p,baseId:S})}return v.call(this,m,b)}}Ce.resolveSchema=h;const y=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(p,{baseId:g,schema:m,root:_}){var S;if(((S=p.fragment)===null||S===void 0?void 0:S[0])!=="/")return;for(const w of p.fragment.slice(1).split("/")){if(typeof m=="boolean")return;const O=m[(0,a.unescapeFragment)(w)];if(O===void 0)return;m=O;const T=typeof m=="object"&&m[this.opts.schemaId];!y.has(w)&&T&&(g=(0,n.resolveUrl)(this.opts.uriResolver,g,T))}let $;if(typeof m!="boolean"&&m.$ref&&!(0,a.schemaHasRulesButRef)(m,this.RULES)){const w=(0,n.resolveUrl)(this.opts.uriResolver,g,m.$ref);$=h.call(this,_,w)}const{schemaId:b}=this.opts;if($=$||new o({schema:m,schemaId:b,root:_,baseId:g}),$.schema!==$.root.schema)return $}return Ce}const eu="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",tu="Meta-schema for $data reference (JSON AnySchema extension proposal)",ru="object",nu=["$data"],su={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},au=!1,iu={$id:eu,description:tu,type:ru,required:nu,properties:su,additionalProperties:au};var At={},ks;function ou(){if(ks)return At;ks=1,Object.defineProperty(At,"__esModule",{value:!0});const t=to();return t.code='require("ajv/dist/runtime/uri").default',At.default=t,At}var Ns;function cu(){return Ns||(Ns=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=qr();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=se();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Nn(),a=Ur(),s=Ei(),o=Fn(),i=se(),c=Mr(),u=Pr(),d=ce(),f=iu,l=ou(),h=(R,P)=>new RegExp(R,P);h.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],v=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),p={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},m=200;function _(R){var P,D,N,E,C,x,K,G,ie,ae,k,F,M,V,H,te,ue,ke,we,Ee,_e,ot,Oe,Vr,Br;const ht=R.strict,Lr=(P=R.code)===null||P===void 0?void 0:P.optimize,xn=Lr===!0||Lr===void 0?1:Lr||0,An=(N=(D=R.code)===null||D===void 0?void 0:D.regExp)!==null&&N!==void 0?N:h,ki=(E=R.uriResolver)!==null&&E!==void 0?E:l.default;return{strictSchema:(x=(C=R.strictSchema)!==null&&C!==void 0?C:ht)!==null&&x!==void 0?x:!0,strictNumbers:(G=(K=R.strictNumbers)!==null&&K!==void 0?K:ht)!==null&&G!==void 0?G:!0,strictTypes:(ae=(ie=R.strictTypes)!==null&&ie!==void 0?ie:ht)!==null&&ae!==void 0?ae:"log",strictTuples:(F=(k=R.strictTuples)!==null&&k!==void 0?k:ht)!==null&&F!==void 0?F:"log",strictRequired:(V=(M=R.strictRequired)!==null&&M!==void 0?M:ht)!==null&&V!==void 0?V:!1,code:R.code?{...R.code,optimize:xn,regExp:An}:{optimize:xn,regExp:An},loopRequired:(H=R.loopRequired)!==null&&H!==void 0?H:m,loopEnum:(te=R.loopEnum)!==null&&te!==void 0?te:m,meta:(ue=R.meta)!==null&&ue!==void 0?ue:!0,messages:(ke=R.messages)!==null&&ke!==void 0?ke:!0,inlineRefs:(we=R.inlineRefs)!==null&&we!==void 0?we:!0,schemaId:(Ee=R.schemaId)!==null&&Ee!==void 0?Ee:"$id",addUsedSchema:(_e=R.addUsedSchema)!==null&&_e!==void 0?_e:!0,validateSchema:(ot=R.validateSchema)!==null&&ot!==void 0?ot:!0,validateFormats:(Oe=R.validateFormats)!==null&&Oe!==void 0?Oe:!0,unicodeRegExp:(Vr=R.unicodeRegExp)!==null&&Vr!==void 0?Vr:!0,int32range:(Br=R.int32range)!==null&&Br!==void 0?Br:!0,uriResolver:ki}}class S{constructor(P={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,P=this.opts={...P,..._(P)};const{es5:D,lines:N}=this.opts.code;this.scope=new i.ValueScope({scope:{},prefixes:v,es5:D,lines:N}),this.logger=U(P.logger);const E=P.validateFormats;P.validateFormats=!1,this.RULES=(0,s.getRules)(),$.call(this,p,P,"NOT SUPPORTED"),$.call(this,g,P,"DEPRECATED","warn"),this._metaOpts=I.call(this),P.formats&&O.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),P.keywords&&T.call(this,P.keywords),typeof P.meta=="object"&&this.addMetaSchema(P.meta),w.call(this),P.validateFormats=E}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:P,meta:D,schemaId:N}=this.opts;let E=f;N==="id"&&(E={...f},E.id=E.$id,delete E.$id),D&&P&&this.addMetaSchema(E,E[N],!1)}defaultMeta(){const{meta:P,schemaId:D}=this.opts;return this.opts.defaultMeta=typeof P=="object"?P[D]||P:void 0}validate(P,D){let N;if(typeof P=="string"){if(N=this.getSchema(P),!N)throw new Error(`no schema with key or ref "${P}"`)}else N=this.compile(P);const E=N(D);return"$async"in N||(this.errors=N.errors),E}compile(P,D){const N=this._addSchema(P,D);return N.validate||this._compileSchemaEnv(N)}compileAsync(P,D){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:N}=this.opts;return E.call(this,P,D);async function E(ae,k){await C.call(this,ae.$schema);const F=this._addSchema(ae,k);return F.validate||x.call(this,F)}async function C(ae){ae&&!this.getSchema(ae)&&await E.call(this,{$ref:ae},!0)}async function x(ae){try{return this._compileSchemaEnv(ae)}catch(k){if(!(k instanceof a.default))throw k;return K.call(this,k),await G.call(this,k.missingSchema),x.call(this,ae)}}function K({missingSchema:ae,missingRef:k}){if(this.refs[ae])throw new Error(`AnySchema ${ae} is loaded but ${k} cannot be resolved`)}async function G(ae){const k=await ie.call(this,ae);this.refs[ae]||await C.call(this,k.$schema),this.refs[ae]||this.addSchema(k,ae,D)}async function ie(ae){const k=this._loading[ae];if(k)return k;try{return await(this._loading[ae]=N(ae))}finally{delete this._loading[ae]}}}addSchema(P,D,N,E=this.opts.validateSchema){if(Array.isArray(P)){for(const x of P)this.addSchema(x,void 0,N,E);return this}let C;if(typeof P=="object"){const{schemaId:x}=this.opts;if(C=P[x],C!==void 0&&typeof C!="string")throw new Error(`schema ${x} must be string`)}return D=(0,c.normalizeId)(D||C),this._checkUnique(D),this.schemas[D]=this._addSchema(P,N,D,E,!0),this}addMetaSchema(P,D,N=this.opts.validateSchema){return this.addSchema(P,D,!0,N),this}validateSchema(P,D){if(typeof P=="boolean")return!0;let N;if(N=P.$schema,N!==void 0&&typeof N!="string")throw new Error("$schema must be a string");if(N=N||this.opts.defaultMeta||this.defaultMeta(),!N)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const E=this.validate(N,P);if(!E&&D){const C="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(C);else throw new Error(C)}return E}getSchema(P){let D;for(;typeof(D=b.call(this,P))=="string";)P=D;if(D===void 0){const{schemaId:N}=this.opts,E=new o.SchemaEnv({schema:{},schemaId:N});if(D=o.resolveSchema.call(this,E,P),!D)return;this.refs[P]=D}return D.validate||this._compileSchemaEnv(D)}removeSchema(P){if(P instanceof RegExp)return this._removeAllSchemas(this.schemas,P),this._removeAllSchemas(this.refs,P),this;switch(typeof P){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const D=b.call(this,P);return typeof D=="object"&&this._cache.delete(D.schema),delete this.schemas[P],delete this.refs[P],this}case"object":{const D=P;this._cache.delete(D);let N=P[this.opts.schemaId];return N&&(N=(0,c.normalizeId)(N),delete this.schemas[N],delete this.refs[N]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(P){for(const D of P)this.addKeyword(D);return this}addKeyword(P,D){let N;if(typeof P=="string")N=P,typeof D=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),D.keyword=N);else if(typeof P=="object"&&D===void 0){if(D=P,N=D.keyword,Array.isArray(N)&&!N.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(L.call(this,N,D),!D)return(0,d.eachItem)(N,C=>B.call(this,C)),this;re.call(this,D);const E={...D,type:(0,u.getJSONTypes)(D.type),schemaType:(0,u.getJSONTypes)(D.schemaType)};return(0,d.eachItem)(N,E.type.length===0?C=>B.call(this,C,E):C=>E.type.forEach(x=>B.call(this,C,E,x))),this}getKeyword(P){const D=this.RULES.all[P];return typeof D=="object"?D.definition:!!D}removeKeyword(P){const{RULES:D}=this;delete D.keywords[P],delete D.all[P];for(const N of D.rules){const E=N.rules.findIndex(C=>C.keyword===P);E>=0&&N.rules.splice(E,1)}return this}addFormat(P,D){return typeof D=="string"&&(D=new RegExp(D)),this.formats[P]=D,this}errorsText(P=this.errors,{separator:D=", ",dataVar:N="data"}={}){return!P||P.length===0?"No errors":P.map(E=>`${N}${E.instancePath} ${E.message}`).reduce((E,C)=>E+D+C)}$dataMetaSchema(P,D){const N=this.RULES.all;P=JSON.parse(JSON.stringify(P));for(const E of D){const C=E.split("/").slice(1);let x=P;for(const K of C)x=x[K];for(const K in N){const G=N[K];if(typeof G!="object")continue;const{$data:ie}=G.definition,ae=x[K];ie&&ae&&(x[K]=X(ae))}}return P}_removeAllSchemas(P,D){for(const N in P){const E=P[N];(!D||D.test(N))&&(typeof E=="string"?delete P[N]:E&&!E.meta&&(this._cache.delete(E.schema),delete P[N]))}}_addSchema(P,D,N,E=this.opts.validateSchema,C=this.opts.addUsedSchema){let x;const{schemaId:K}=this.opts;if(typeof P=="object")x=P[K];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof P!="boolean")throw new Error("schema must be object or boolean")}let G=this._cache.get(P);if(G!==void 0)return G;N=(0,c.normalizeId)(x||N);const ie=c.getSchemaRefs.call(this,P,N);return G=new o.SchemaEnv({schema:P,schemaId:K,meta:D,baseId:N,localRefs:ie}),this._cache.set(G.schema,G),C&&!N.startsWith("#")&&(N&&this._checkUnique(N),this.refs[N]=G),E&&this.validateSchema(P,!0),G}_checkUnique(P){if(this.schemas[P]||this.refs[P])throw new Error(`schema with key or id "${P}" already exists`)}_compileSchemaEnv(P){if(P.meta?this._compileMetaSchema(P):o.compileSchema.call(this,P),!P.validate)throw new Error("ajv implementation error");return P.validate}_compileMetaSchema(P){const D=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,P)}finally{this.opts=D}}}S.ValidationError=n.default,S.MissingRefError=a.default,t.default=S;function $(R,P,D,N="error"){for(const E in R){const C=E;C in P&&this.logger[N](`${D}: option ${E}. ${R[C]}`)}}function b(R){return R=(0,c.normalizeId)(R),this.schemas[R]||this.refs[R]}function w(){const R=this.opts.schemas;if(R)if(Array.isArray(R))this.addSchema(R);else for(const P in R)this.addSchema(R[P],P)}function O(){for(const R in this.opts.formats){const P=this.opts.formats[R];P&&this.addFormat(R,P)}}function T(R){if(Array.isArray(R)){this.addVocabulary(R);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const P in R){const D=R[P];D.keyword||(D.keyword=P),this.addKeyword(D)}}function I(){const R={...this.opts};for(const P of y)delete R[P];return R}const A={log(){},warn(){},error(){}};function U(R){if(R===!1)return A;if(R===void 0)return console;if(R.log&&R.warn&&R.error)return R;throw new Error("logger must implement log, warn and error methods")}const q=/^[a-z_$][a-z0-9_$:-]*$/i;function L(R,P){const{RULES:D}=this;if((0,d.eachItem)(R,N=>{if(D.keywords[N])throw new Error(`Keyword ${N} is already defined`);if(!q.test(N))throw new Error(`Keyword ${N} has invalid name`)}),!!P&&P.$data&&!("code"in P||"validate"in P))throw new Error('$data keyword must have "code" or "validate" function')}function B(R,P,D){var N;const E=P?.post;if(D&&E)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:C}=this;let x=E?C.post:C.rules.find(({type:G})=>G===D);if(x||(x={type:D,rules:[]},C.rules.push(x)),C.keywords[R]=!0,!P)return;const K={keyword:R,definition:{...P,type:(0,u.getJSONTypes)(P.type),schemaType:(0,u.getJSONTypes)(P.schemaType)}};P.before?J.call(this,x,K,P.before):x.rules.push(K),C.all[R]=K,(N=P.implements)===null||N===void 0||N.forEach(G=>this.addKeyword(G))}function J(R,P,D){const N=R.rules.findIndex(E=>E.keyword===D);N>=0?R.rules.splice(N,0,P):(R.rules.push(P),this.logger.warn(`rule ${D} is not defined`))}function re(R){let{metaSchema:P}=R;P!==void 0&&(R.$data&&this.opts.$data&&(P=X(P)),R.validateSchema=this.compile(P,!0))}const W={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function X(R){return{anyOf:[R,W]}}})(tn)),tn}var Dt={},Rt={},Mt={},Fs;function lu(){if(Fs)return Mt;Fs=1,Object.defineProperty(Mt,"__esModule",{value:!0});const t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Mt.default=t,Mt}var We={},Is;function du(){if(Is)return We;Is=1,Object.defineProperty(We,"__esModule",{value:!0}),We.callRef=We.getValidate=void 0;const t=Ur(),e=Ie(),r=se(),n=Ge(),a=Fn(),s=ce(),o={keyword:"$ref",schemaType:"string",code(u){const{gen:d,schema:f,it:l}=u,{baseId:h,schemaEnv:y,validateName:v,opts:p,self:g}=l,{root:m}=y;if((f==="#"||f==="#/")&&h===m.baseId)return S();const _=a.resolveRef.call(g,m,h,f);if(_===void 0)throw new t.default(l.opts.uriResolver,h,f);if(_ instanceof a.SchemaEnv)return $(_);return b(_);function S(){if(y===m)return c(u,v,y,y.$async);const w=d.scopeValue("root",{ref:m});return c(u,(0,r._)`${w}.validate`,m,m.$async)}function $(w){const O=i(u,w);c(u,O,w,w.$async)}function b(w){const O=d.scopeValue("schema",p.code.source===!0?{ref:w,code:(0,r.stringify)(w)}:{ref:w}),T=d.name("valid"),I=u.subschema({schema:w,dataTypes:[],schemaPath:r.nil,topSchemaRef:O,errSchemaPath:f},T);u.mergeEvaluated(I),u.ok(T)}}};function i(u,d){const{gen:f}=u;return d.validate?f.scopeValue("validate",{ref:d.validate}):(0,r._)`${f.scopeValue("wrapper",{ref:d})}.validate`}We.getValidate=i;function c(u,d,f,l){const{gen:h,it:y}=u,{allErrors:v,schemaEnv:p,opts:g}=y,m=g.passContext?n.default.this:r.nil;l?_():S();function _(){if(!p.$async)throw new Error("async schema referenced by sync schema");const w=h.let("valid");h.try(()=>{h.code((0,r._)`await ${(0,e.callValidateCode)(u,d,m)}`),b(d),v||h.assign(w,!0)},O=>{h.if((0,r._)`!(${O} instanceof ${y.ValidationError})`,()=>h.throw(O)),$(O),v||h.assign(w,!1)}),u.ok(w)}function S(){u.result((0,e.callValidateCode)(u,d,m),()=>b(d),()=>$(d))}function $(w){const O=(0,r._)`${w}.errors`;h.assign(n.default.vErrors,(0,r._)`${n.default.vErrors} === null ? ${O} : ${n.default.vErrors}.concat(${O})`),h.assign(n.default.errors,(0,r._)`${n.default.vErrors}.length`)}function b(w){var O;if(!y.opts.unevaluated)return;const T=(O=f?.validate)===null||O===void 0?void 0:O.evaluated;if(y.props!==!0)if(T&&!T.dynamicProps)T.props!==void 0&&(y.props=s.mergeEvaluated.props(h,T.props,y.props));else{const I=h.var("props",(0,r._)`${w}.evaluated.props`);y.props=s.mergeEvaluated.props(h,I,y.props,r.Name)}if(y.items!==!0)if(T&&!T.dynamicItems)T.items!==void 0&&(y.items=s.mergeEvaluated.items(h,T.items,y.items));else{const I=h.var("items",(0,r._)`${w}.evaluated.items`);y.items=s.mergeEvaluated.items(h,I,y.items,r.Name)}}}return We.callRef=c,We.default=o,We}var xs;function uu(){if(xs)return Rt;xs=1,Object.defineProperty(Rt,"__esModule",{value:!0});const t=lu(),e=du(),r=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,e.default];return Rt.default=r,Rt}var qt={},Ut={},As;function fu(){if(As)return Ut;As=1,Object.defineProperty(Ut,"__esModule",{value:!0});const t=se(),e=t.operators,r={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}},n={message:({keyword:s,schemaCode:o})=>(0,t.str)`must be ${r[s].okStr} ${o}`,params:({keyword:s,schemaCode:o})=>(0,t._)`{comparison: ${r[s].okStr}, limit: ${o}}`},a={keyword:Object.keys(r),type:"number",schemaType:"number",$data:!0,error:n,code(s){const{keyword:o,data:i,schemaCode:c}=s;s.fail$data((0,t._)`${i} ${r[o].fail} ${c} || isNaN(${i})`)}};return Ut.default=a,Ut}var Vt={},Ds;function mu(){if(Ds)return Vt;Ds=1,Object.defineProperty(Vt,"__esModule",{value:!0});const t=se(),r={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:n})=>(0,t.str)`must be multiple of ${n}`,params:({schemaCode:n})=>(0,t._)`{multipleOf: ${n}}`},code(n){const{gen:a,data:s,schemaCode:o,it:i}=n,c=i.opts.multipleOfPrecision,u=a.let("res"),d=c?(0,t._)`Math.abs(Math.round(${u}) - ${u}) > 1e-${c}`:(0,t._)`${u} !== parseInt(${u})`;n.fail$data((0,t._)`(${o} === 0 || (${u} = ${s}/${o}, ${d}))`)}};return Vt.default=r,Vt}var Bt={},Lt={},Rs;function hu(){if(Rs)return Lt;Rs=1,Object.defineProperty(Lt,"__esModule",{value:!0});function t(e){const r=e.length;let n=0,a=0,s;for(;a<r;)n++,s=e.charCodeAt(a++),s>=55296&&s<=56319&&a<r&&(s=e.charCodeAt(a),(s&64512)===56320&&a++);return n}return Lt.default=t,t.code='require("ajv/dist/runtime/ucs2length").default',Lt}var Ms;function pu(){if(Ms)return Bt;Ms=1,Object.defineProperty(Bt,"__esModule",{value:!0});const t=se(),e=ce(),r=hu(),a={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:s,schemaCode:o}){const i=s==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${i} than ${o} characters`},params:({schemaCode:s})=>(0,t._)`{limit: ${s}}`},code(s){const{keyword:o,data:i,schemaCode:c,it:u}=s,d=o==="maxLength"?t.operators.GT:t.operators.LT,f=u.opts.unicode===!1?(0,t._)`${i}.length`:(0,t._)`${(0,e.useFunc)(s.gen,r.default)}(${i})`;s.fail$data((0,t._)`${f} ${d} ${c}`)}};return Bt.default=a,Bt}var zt={},qs;function yu(){if(qs)return zt;qs=1,Object.defineProperty(zt,"__esModule",{value:!0});const t=Ie(),e=se(),n={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:a})=>(0,e.str)`must match pattern "${a}"`,params:({schemaCode:a})=>(0,e._)`{pattern: ${a}}`},code(a){const{data:s,$data:o,schema:i,schemaCode:c,it:u}=a,d=u.opts.unicodeRegExp?"u":"",f=o?(0,e._)`(new RegExp(${c}, ${d}))`:(0,t.usePattern)(a,i);a.fail$data((0,e._)`!${f}.test(${s})`)}};return zt.default=n,zt}var Kt={},Us;function gu(){if(Us)return Kt;Us=1,Object.defineProperty(Kt,"__esModule",{value:!0});const t=se(),r={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:a}){const s=n==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${a} properties`},params:({schemaCode:n})=>(0,t._)`{limit: ${n}}`},code(n){const{keyword:a,data:s,schemaCode:o}=n,i=a==="maxProperties"?t.operators.GT:t.operators.LT;n.fail$data((0,t._)`Object.keys(${s}).length ${i} ${o}`)}};return Kt.default=r,Kt}var Wt={},Vs;function vu(){if(Vs)return Wt;Vs=1,Object.defineProperty(Wt,"__esModule",{value:!0});const t=Ie(),e=se(),r=ce(),a={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:s}})=>(0,e.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,e._)`{missingProperty: ${s}}`},code(s){const{gen:o,schema:i,schemaCode:c,data:u,$data:d,it:f}=s,{opts:l}=f;if(!d&&i.length===0)return;const h=i.length>=l.loopRequired;if(f.allErrors?y():v(),l.strictRequired){const m=s.parentSchema.properties,{definedProperties:_}=s.it;for(const S of i)if(m?.[S]===void 0&&!_.has(S)){const $=f.schemaEnv.baseId+f.errSchemaPath,b=`required property "${S}" is not defined at "${$}" (strictRequired)`;(0,r.checkStrictMode)(f,b,f.opts.strictRequired)}}function y(){if(h||d)s.block$data(e.nil,p);else for(const m of i)(0,t.checkReportMissingProp)(s,m)}function v(){const m=o.let("missing");if(h||d){const _=o.let("valid",!0);s.block$data(_,()=>g(m,_)),s.ok(_)}else o.if((0,t.checkMissingProp)(s,i,m)),(0,t.reportMissingProp)(s,m),o.else()}function p(){o.forOf("prop",c,m=>{s.setParams({missingProperty:m}),o.if((0,t.noPropertyInData)(o,u,m,l.ownProperties),()=>s.error())})}function g(m,_){s.setParams({missingProperty:m}),o.forOf(m,c,()=>{o.assign(_,(0,t.propertyInData)(o,u,m,l.ownProperties)),o.if((0,e.not)(_),()=>{s.error(),o.break()})},e.nil)}}};return Wt.default=a,Wt}var Ht={},Bs;function _u(){if(Bs)return Ht;Bs=1,Object.defineProperty(Ht,"__esModule",{value:!0});const t=se(),r={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:a}){const s=n==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${a} items`},params:({schemaCode:n})=>(0,t._)`{limit: ${n}}`},code(n){const{keyword:a,data:s,schemaCode:o}=n,i=a==="maxItems"?t.operators.GT:t.operators.LT;n.fail$data((0,t._)`${s}.length ${i} ${o}`)}};return Ht.default=r,Ht}var Gt={},Jt={},Ls;function In(){if(Ls)return Jt;Ls=1,Object.defineProperty(Jt,"__esModule",{value:!0});const t=Ba();return t.code='require("ajv/dist/runtime/equal").default',Jt.default=t,Jt}var zs;function bu(){if(zs)return Gt;zs=1,Object.defineProperty(Gt,"__esModule",{value:!0});const t=Pr(),e=se(),r=ce(),n=In(),s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:o,j:i}})=>(0,e.str)`must NOT have duplicate items (items ## ${i} and ${o} are identical)`,params:({params:{i:o,j:i}})=>(0,e._)`{i: ${o}, j: ${i}}`},code(o){const{gen:i,data:c,$data:u,schema:d,parentSchema:f,schemaCode:l,it:h}=o;if(!u&&!d)return;const y=i.let("valid"),v=f.items?(0,t.getSchemaTypes)(f.items):[];o.block$data(y,p,(0,e._)`${l} === false`),o.ok(y);function p(){const S=i.let("i",(0,e._)`${c}.length`),$=i.let("j");o.setParams({i:S,j:$}),i.assign(y,!0),i.if((0,e._)`${S} > 1`,()=>(g()?m:_)(S,$))}function g(){return v.length>0&&!v.some(S=>S==="object"||S==="array")}function m(S,$){const b=i.name("item"),w=(0,t.checkDataTypes)(v,b,h.opts.strictNumbers,t.DataType.Wrong),O=i.const("indices",(0,e._)`{}`);i.for((0,e._)`;${S}--;`,()=>{i.let(b,(0,e._)`${c}[${S}]`),i.if(w,(0,e._)`continue`),v.length>1&&i.if((0,e._)`typeof ${b} == "string"`,(0,e._)`${b} += "_"`),i.if((0,e._)`typeof ${O}[${b}] == "number"`,()=>{i.assign($,(0,e._)`${O}[${b}]`),o.error(),i.assign(y,!1).break()}).code((0,e._)`${O}[${b}] = ${S}`)})}function _(S,$){const b=(0,r.useFunc)(i,n.default),w=i.name("outer");i.label(w).for((0,e._)`;${S}--;`,()=>i.for((0,e._)`${$} = ${S}; ${$}--;`,()=>i.if((0,e._)`${b}(${c}[${S}], ${c}[${$}])`,()=>{o.error(),i.assign(y,!1).break(w)})))}}};return Gt.default=s,Gt}var Yt={},Ks;function Su(){if(Ks)return Yt;Ks=1,Object.defineProperty(Yt,"__esModule",{value:!0});const t=se(),e=ce(),r=In(),a={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:s})=>(0,t._)`{allowedValue: ${s}}`},code(s){const{gen:o,data:i,$data:c,schemaCode:u,schema:d}=s;c||d&&typeof d=="object"?s.fail$data((0,t._)`!${(0,e.useFunc)(o,r.default)}(${i}, ${u})`):s.fail((0,t._)`${d} !== ${i}`)}};return Yt.default=a,Yt}var Xt={},Ws;function $u(){if(Ws)return Xt;Ws=1,Object.defineProperty(Xt,"__esModule",{value:!0});const t=se(),e=ce(),r=In(),a={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,t._)`{allowedValues: ${s}}`},code(s){const{gen:o,data:i,$data:c,schema:u,schemaCode:d,it:f}=s;if(!c&&u.length===0)throw new Error("enum must have non-empty array");const l=u.length>=f.opts.loopEnum;let h;const y=()=>h??(h=(0,e.useFunc)(o,r.default));let v;if(l||c)v=o.let("valid"),s.block$data(v,p);else{if(!Array.isArray(u))throw new Error("ajv implementation error");const m=o.const("vSchema",d);v=(0,t.or)(...u.map((_,S)=>g(m,S)))}s.pass(v);function p(){o.assign(v,!1),o.forOf("v",d,m=>o.if((0,t._)`${y()}(${i}, ${m})`,()=>o.assign(v,!0).break()))}function g(m,_){const S=u[_];return typeof S=="object"&&S!==null?(0,t._)`${y()}(${i}, ${m}[${_}])`:(0,t._)`${i} === ${S}`}}};return Xt.default=a,Xt}var Hs;function wu(){if(Hs)return qt;Hs=1,Object.defineProperty(qt,"__esModule",{value:!0});const t=fu(),e=mu(),r=pu(),n=yu(),a=gu(),s=vu(),o=_u(),i=bu(),c=Su(),u=$u(),d=[t.default,e.default,r.default,n.default,a.default,s.default,o.default,i.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},c.default,u.default];return qt.default=d,qt}var Qt={},lt={},Gs;function Ci(){if(Gs)return lt;Gs=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt.validateAdditionalItems=void 0;const t=se(),e=ce(),n={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},code(s){const{parentSchema:o,it:i}=s,{items:c}=o;if(!Array.isArray(c)){(0,e.checkStrictMode)(i,'"additionalItems" is ignored when "items" is not an array of schemas');return}a(s,c)}};function a(s,o){const{gen:i,schema:c,data:u,keyword:d,it:f}=s;f.items=!0;const l=i.const("len",(0,t._)`${u}.length`);if(c===!1)s.setParams({len:o.length}),s.pass((0,t._)`${l} <= ${o.length}`);else if(typeof c=="object"&&!(0,e.alwaysValidSchema)(f,c)){const y=i.var("valid",(0,t._)`${l} <= ${o.length}`);i.if((0,t.not)(y),()=>h(y)),s.ok(y)}function h(y){i.forRange("i",o.length,l,v=>{s.subschema({keyword:d,dataProp:v,dataPropType:e.Type.Num},y),f.allErrors||i.if((0,t.not)(y),()=>i.break())})}}return lt.validateAdditionalItems=a,lt.default=n,lt}var Zt={},dt={},Js;function Ti(){if(Js)return dt;Js=1,Object.defineProperty(dt,"__esModule",{value:!0}),dt.validateTuple=void 0;const t=se(),e=ce(),r=Ie(),n={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:o,it:i}=s;if(Array.isArray(o))return a(s,"additionalItems",o);i.items=!0,!(0,e.alwaysValidSchema)(i,o)&&s.ok((0,r.validateArray)(s))}};function a(s,o,i=s.schema){const{gen:c,parentSchema:u,data:d,keyword:f,it:l}=s;v(u),l.opts.unevaluated&&i.length&&l.items!==!0&&(l.items=e.mergeEvaluated.items(c,i.length,l.items));const h=c.name("valid"),y=c.const("len",(0,t._)`${d}.length`);i.forEach((p,g)=>{(0,e.alwaysValidSchema)(l,p)||(c.if((0,t._)`${y} > ${g}`,()=>s.subschema({keyword:f,schemaProp:g,dataProp:g},h)),s.ok(h))});function v(p){const{opts:g,errSchemaPath:m}=l,_=i.length,S=_===p.minItems&&(_===p.maxItems||p[o]===!1);if(g.strictTuples&&!S){const $=`"${f}" is ${_}-tuple, but minItems or maxItems/${o} are not specified or different at path "${m}"`;(0,e.checkStrictMode)(l,$,g.strictTuples)}}}return dt.validateTuple=a,dt.default=n,dt}var Ys;function Eu(){if(Ys)return Zt;Ys=1,Object.defineProperty(Zt,"__esModule",{value:!0});const t=Ti(),e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,t.validateTuple)(r,"items")};return Zt.default=e,Zt}var er={},Xs;function ju(){if(Xs)return er;Xs=1,Object.defineProperty(er,"__esModule",{value:!0});const t=se(),e=ce(),r=Ie(),n=Ci(),s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,t.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,t._)`{limit: ${o}}`},code(o){const{schema:i,parentSchema:c,it:u}=o,{prefixItems:d}=c;u.items=!0,!(0,e.alwaysValidSchema)(u,i)&&(d?(0,n.validateAdditionalItems)(o,d):o.ok((0,r.validateArray)(o)))}};return er.default=s,er}var tr={},Qs;function Cu(){if(Qs)return tr;Qs=1,Object.defineProperty(tr,"__esModule",{value:!0});const t=se(),e=ce(),n={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:a,max:s}})=>s===void 0?(0,t.str)`must contain at least ${a} valid item(s)`:(0,t.str)`must contain at least ${a} and no more than ${s} valid item(s)`,params:({params:{min:a,max:s}})=>s===void 0?(0,t._)`{minContains: ${a}}`:(0,t._)`{minContains: ${a}, maxContains: ${s}}`},code(a){const{gen:s,schema:o,parentSchema:i,data:c,it:u}=a;let d,f;const{minContains:l,maxContains:h}=i;u.opts.next?(d=l===void 0?1:l,f=h):d=1;const y=s.const("len",(0,t._)`${c}.length`);if(a.setParams({min:d,max:f}),f===void 0&&d===0){(0,e.checkStrictMode)(u,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(f!==void 0&&d>f){(0,e.checkStrictMode)(u,'"minContains" > "maxContains" is always invalid'),a.fail();return}if((0,e.alwaysValidSchema)(u,o)){let _=(0,t._)`${y} >= ${d}`;f!==void 0&&(_=(0,t._)`${_} && ${y} <= ${f}`),a.pass(_);return}u.items=!0;const v=s.name("valid");f===void 0&&d===1?g(v,()=>s.if(v,()=>s.break())):d===0?(s.let(v,!0),f!==void 0&&s.if((0,t._)`${c}.length > 0`,p)):(s.let(v,!1),p()),a.result(v,()=>a.reset());function p(){const _=s.name("_valid"),S=s.let("count",0);g(_,()=>s.if(_,()=>m(S)))}function g(_,S){s.forRange("i",0,y,$=>{a.subschema({keyword:"contains",dataProp:$,dataPropType:e.Type.Num,compositeRule:!0},_),S()})}function m(_){s.code((0,t._)`${_}++`),f===void 0?s.if((0,t._)`${_} >= ${d}`,()=>s.assign(v,!0).break()):(s.if((0,t._)`${_} > ${f}`,()=>s.assign(v,!1).break()),d===1?s.assign(v,!0):s.if((0,t._)`${_} >= ${d}`,()=>s.assign(v,!0)))}}};return tr.default=n,tr}var cn={},Zs;function Tu(){return Zs||(Zs=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=se(),r=ce(),n=Ie();t.error={message:({params:{property:c,depsCount:u,deps:d}})=>{const f=u===1?"property":"properties";return(0,e.str)`must have ${f} ${d} when property ${c} is present`},params:({params:{property:c,depsCount:u,deps:d,missingProperty:f}})=>(0,e._)`{property: ${c},
    missingProperty: ${f},
    depsCount: ${u},
    deps: ${d}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(c){const[u,d]=s(c);o(c,u),i(c,d)}};function s({schema:c}){const u={},d={};for(const f in c){if(f==="__proto__")continue;const l=Array.isArray(c[f])?u:d;l[f]=c[f]}return[u,d]}function o(c,u=c.schema){const{gen:d,data:f,it:l}=c;if(Object.keys(u).length===0)return;const h=d.let("missing");for(const y in u){const v=u[y];if(v.length===0)continue;const p=(0,n.propertyInData)(d,f,y,l.opts.ownProperties);c.setParams({property:y,depsCount:v.length,deps:v.join(", ")}),l.allErrors?d.if(p,()=>{for(const g of v)(0,n.checkReportMissingProp)(c,g)}):(d.if((0,e._)`${p} && (${(0,n.checkMissingProp)(c,v,h)})`),(0,n.reportMissingProp)(c,h),d.else())}}t.validatePropertyDeps=o;function i(c,u=c.schema){const{gen:d,data:f,keyword:l,it:h}=c,y=d.name("valid");for(const v in u)(0,r.alwaysValidSchema)(h,u[v])||(d.if((0,n.propertyInData)(d,f,v,h.opts.ownProperties),()=>{const p=c.subschema({keyword:l,schemaProp:v},y);c.mergeValidEvaluated(p,y)},()=>d.var(y,!0)),c.ok(y))}t.validateSchemaDeps=i,t.default=a})(cn)),cn}var rr={},ea;function Ou(){if(ea)return rr;ea=1,Object.defineProperty(rr,"__esModule",{value:!0});const t=se(),e=ce(),n={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:a})=>(0,t._)`{propertyName: ${a.propertyName}}`},code(a){const{gen:s,schema:o,data:i,it:c}=a;if((0,e.alwaysValidSchema)(c,o))return;const u=s.name("valid");s.forIn("key",i,d=>{a.setParams({propertyName:d}),a.subschema({keyword:"propertyNames",data:d,dataTypes:["string"],propertyName:d,compositeRule:!0},u),s.if((0,t.not)(u),()=>{a.error(!0),c.allErrors||s.break()})}),a.ok(u)}};return rr.default=n,rr}var nr={},ta;function Oi(){if(ta)return nr;ta=1,Object.defineProperty(nr,"__esModule",{value:!0});const t=Ie(),e=se(),r=Ge(),n=ce(),s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:o})=>(0,e._)`{additionalProperty: ${o.additionalProperty}}`},code(o){const{gen:i,schema:c,parentSchema:u,data:d,errsCount:f,it:l}=o;if(!f)throw new Error("ajv implementation error");const{allErrors:h,opts:y}=l;if(l.props=!0,y.removeAdditional!=="all"&&(0,n.alwaysValidSchema)(l,c))return;const v=(0,t.allSchemaProperties)(u.properties),p=(0,t.allSchemaProperties)(u.patternProperties);g(),o.ok((0,e._)`${f} === ${r.default.errors}`);function g(){i.forIn("key",d,b=>{!v.length&&!p.length?S(b):i.if(m(b),()=>S(b))})}function m(b){let w;if(v.length>8){const O=(0,n.schemaRefOrVal)(l,u.properties,"properties");w=(0,t.isOwnProperty)(i,O,b)}else v.length?w=(0,e.or)(...v.map(O=>(0,e._)`${b} === ${O}`)):w=e.nil;return p.length&&(w=(0,e.or)(w,...p.map(O=>(0,e._)`${(0,t.usePattern)(o,O)}.test(${b})`))),(0,e.not)(w)}function _(b){i.code((0,e._)`delete ${d}[${b}]`)}function S(b){if(y.removeAdditional==="all"||y.removeAdditional&&c===!1){_(b);return}if(c===!1){o.setParams({additionalProperty:b}),o.error(),h||i.break();return}if(typeof c=="object"&&!(0,n.alwaysValidSchema)(l,c)){const w=i.name("valid");y.removeAdditional==="failing"?($(b,w,!1),i.if((0,e.not)(w),()=>{o.reset(),_(b)})):($(b,w),h||i.if((0,e.not)(w),()=>i.break()))}}function $(b,w,O){const T={keyword:"additionalProperties",dataProp:b,dataPropType:n.Type.Str};O===!1&&Object.assign(T,{compositeRule:!0,createErrors:!1,allErrors:!1}),o.subschema(T,w)}}};return nr.default=s,nr}var sr={},ra;function Pu(){if(ra)return sr;ra=1,Object.defineProperty(sr,"__esModule",{value:!0});const t=qr(),e=Ie(),r=ce(),n=Oi(),a={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:o,schema:i,parentSchema:c,data:u,it:d}=s;d.opts.removeAdditional==="all"&&c.additionalProperties===void 0&&n.default.code(new t.KeywordCxt(d,n.default,"additionalProperties"));const f=(0,e.allSchemaProperties)(i);for(const p of f)d.definedProperties.add(p);d.opts.unevaluated&&f.length&&d.props!==!0&&(d.props=r.mergeEvaluated.props(o,(0,r.toHash)(f),d.props));const l=f.filter(p=>!(0,r.alwaysValidSchema)(d,i[p]));if(l.length===0)return;const h=o.name("valid");for(const p of l)y(p)?v(p):(o.if((0,e.propertyInData)(o,u,p,d.opts.ownProperties)),v(p),d.allErrors||o.else().var(h,!0),o.endIf()),s.it.definedProperties.add(p),s.ok(h);function y(p){return d.opts.useDefaults&&!d.compositeRule&&i[p].default!==void 0}function v(p){s.subschema({keyword:"properties",schemaProp:p,dataProp:p},h)}}};return sr.default=a,sr}var ar={},na;function ku(){if(na)return ar;na=1,Object.defineProperty(ar,"__esModule",{value:!0});const t=Ie(),e=se(),r=ce(),n=ce(),a={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:o,schema:i,data:c,parentSchema:u,it:d}=s,{opts:f}=d,l=(0,t.allSchemaProperties)(i),h=l.filter(S=>(0,r.alwaysValidSchema)(d,i[S]));if(l.length===0||h.length===l.length&&(!d.opts.unevaluated||d.props===!0))return;const y=f.strictSchema&&!f.allowMatchingProperties&&u.properties,v=o.name("valid");d.props!==!0&&!(d.props instanceof e.Name)&&(d.props=(0,n.evaluatedPropsToName)(o,d.props));const{props:p}=d;g();function g(){for(const S of l)y&&m(S),d.allErrors?_(S):(o.var(v,!0),_(S),o.if(v))}function m(S){for(const $ in y)new RegExp(S).test($)&&(0,r.checkStrictMode)(d,`property ${$} matches pattern ${S} (use allowMatchingProperties)`)}function _(S){o.forIn("key",c,$=>{o.if((0,e._)`${(0,t.usePattern)(s,S)}.test(${$})`,()=>{const b=h.includes(S);b||s.subschema({keyword:"patternProperties",schemaProp:S,dataProp:$,dataPropType:n.Type.Str},v),d.opts.unevaluated&&p!==!0?o.assign((0,e._)`${p}[${$}]`,!0):!b&&!d.allErrors&&o.if((0,e.not)(v),()=>o.break())})})}}};return ar.default=a,ar}var ir={},sa;function Nu(){if(sa)return ir;sa=1,Object.defineProperty(ir,"__esModule",{value:!0});const t=ce(),e={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){const{gen:n,schema:a,it:s}=r;if((0,t.alwaysValidSchema)(s,a)){r.fail();return}const o=n.name("valid");r.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),r.failResult(o,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};return ir.default=e,ir}var or={},aa;function Fu(){if(aa)return or;aa=1,Object.defineProperty(or,"__esModule",{value:!0});const e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Ie().validateUnion,error:{message:"must match a schema in anyOf"}};return or.default=e,or}var cr={},ia;function Iu(){if(ia)return cr;ia=1,Object.defineProperty(cr,"__esModule",{value:!0});const t=se(),e=ce(),n={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:a})=>(0,t._)`{passingSchemas: ${a.passing}}`},code(a){const{gen:s,schema:o,parentSchema:i,it:c}=a;if(!Array.isArray(o))throw new Error("ajv implementation error");if(c.opts.discriminator&&i.discriminator)return;const u=o,d=s.let("valid",!1),f=s.let("passing",null),l=s.name("_valid");a.setParams({passing:f}),s.block(h),a.result(d,()=>a.reset(),()=>a.error(!0));function h(){u.forEach((y,v)=>{let p;(0,e.alwaysValidSchema)(c,y)?s.var(l,!0):p=a.subschema({keyword:"oneOf",schemaProp:v,compositeRule:!0},l),v>0&&s.if((0,t._)`${l} && ${d}`).assign(d,!1).assign(f,(0,t._)`[${f}, ${v}]`).else(),s.if(l,()=>{s.assign(d,!0),s.assign(f,v),p&&a.mergeEvaluated(p,t.Name)})})}}};return cr.default=n,cr}var lr={},oa;function xu(){if(oa)return lr;oa=1,Object.defineProperty(lr,"__esModule",{value:!0});const t=ce(),e={keyword:"allOf",schemaType:"array",code(r){const{gen:n,schema:a,it:s}=r;if(!Array.isArray(a))throw new Error("ajv implementation error");const o=n.name("valid");a.forEach((i,c)=>{if((0,t.alwaysValidSchema)(s,i))return;const u=r.subschema({keyword:"allOf",schemaProp:c},o);r.ok(o),r.mergeEvaluated(u)})}};return lr.default=e,lr}var dr={},ca;function Au(){if(ca)return dr;ca=1,Object.defineProperty(dr,"__esModule",{value:!0});const t=se(),e=ce(),n={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:s})=>(0,t.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,t._)`{failingKeyword: ${s.ifClause}}`},code(s){const{gen:o,parentSchema:i,it:c}=s;i.then===void 0&&i.else===void 0&&(0,e.checkStrictMode)(c,'"if" without "then" and "else" is ignored');const u=a(c,"then"),d=a(c,"else");if(!u&&!d)return;const f=o.let("valid",!0),l=o.name("_valid");if(h(),s.reset(),u&&d){const v=o.let("ifClause");s.setParams({ifClause:v}),o.if(l,y("then",v),y("else",v))}else u?o.if(l,y("then")):o.if((0,t.not)(l),y("else"));s.pass(f,()=>s.error(!0));function h(){const v=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},l);s.mergeEvaluated(v)}function y(v,p){return()=>{const g=s.subschema({keyword:v},l);o.assign(f,l),s.mergeValidEvaluated(g,f),p?o.assign(p,(0,t._)`${v}`):s.setParams({ifClause:v})}}}};function a(s,o){const i=s.schema[o];return i!==void 0&&!(0,e.alwaysValidSchema)(s,i)}return dr.default=n,dr}var ur={},la;function Du(){if(la)return ur;la=1,Object.defineProperty(ur,"__esModule",{value:!0});const t=ce(),e={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:n,it:a}){n.if===void 0&&(0,t.checkStrictMode)(a,`"${r}" without "if" is ignored`)}};return ur.default=e,ur}var da;function Ru(){if(da)return Qt;da=1,Object.defineProperty(Qt,"__esModule",{value:!0});const t=Ci(),e=Eu(),r=Ti(),n=ju(),a=Cu(),s=Tu(),o=Ou(),i=Oi(),c=Pu(),u=ku(),d=Nu(),f=Fu(),l=Iu(),h=xu(),y=Au(),v=Du();function p(g=!1){const m=[d.default,f.default,l.default,h.default,y.default,v.default,o.default,i.default,s.default,c.default,u.default];return g?m.push(e.default,n.default):m.push(t.default,r.default),m.push(a.default),m}return Qt.default=p,Qt}var fr={},mr={},ua;function Mu(){if(ua)return mr;ua=1,Object.defineProperty(mr,"__esModule",{value:!0});const t=se(),r={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:n})=>(0,t.str)`must match format "${n}"`,params:({schemaCode:n})=>(0,t._)`{format: ${n}}`},code(n,a){const{gen:s,data:o,$data:i,schema:c,schemaCode:u,it:d}=n,{opts:f,errSchemaPath:l,schemaEnv:h,self:y}=d;if(!f.validateFormats)return;i?v():p();function v(){const g=s.scopeValue("formats",{ref:y.formats,code:f.code.formats}),m=s.const("fDef",(0,t._)`${g}[${u}]`),_=s.let("fType"),S=s.let("format");s.if((0,t._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>s.assign(_,(0,t._)`${m}.type || "string"`).assign(S,(0,t._)`${m}.validate`),()=>s.assign(_,(0,t._)`"string"`).assign(S,m)),n.fail$data((0,t.or)($(),b()));function $(){return f.strictSchema===!1?t.nil:(0,t._)`${u} && !${S}`}function b(){const w=h.$async?(0,t._)`(${m}.async ? await ${S}(${o}) : ${S}(${o}))`:(0,t._)`${S}(${o})`,O=(0,t._)`(typeof ${S} == "function" ? ${w} : ${S}.test(${o}))`;return(0,t._)`${S} && ${S} !== true && ${_} === ${a} && !${O}`}}function p(){const g=y.formats[c];if(!g){$();return}if(g===!0)return;const[m,_,S]=b(g);m===a&&n.pass(w());function $(){if(f.strictSchema===!1){y.logger.warn(O());return}throw new Error(O());function O(){return`unknown format "${c}" ignored in schema at path "${l}"`}}function b(O){const T=O instanceof RegExp?(0,t.regexpCode)(O):f.code.formats?(0,t._)`${f.code.formats}${(0,t.getProperty)(c)}`:void 0,I=s.scopeValue("formats",{key:c,ref:O,code:T});return typeof O=="object"&&!(O instanceof RegExp)?[O.type||"string",O.validate,(0,t._)`${I}.validate`]:["string",O,I]}function w(){if(typeof g=="object"&&!(g instanceof RegExp)&&g.async){if(!h.$async)throw new Error("async format in sync schema");return(0,t._)`await ${S}(${o})`}return typeof _=="function"?(0,t._)`${S}(${o})`:(0,t._)`${S}.test(${o})`}}}};return mr.default=r,mr}var fa;function qu(){if(fa)return fr;fa=1,Object.defineProperty(fr,"__esModule",{value:!0});const e=[Mu().default];return fr.default=e,fr}var Xe={},ma;function Uu(){return ma||(ma=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.contentVocabulary=Xe.metadataVocabulary=void 0,Xe.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Xe.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Xe}var ha;function Vu(){if(ha)return Dt;ha=1,Object.defineProperty(Dt,"__esModule",{value:!0});const t=uu(),e=wu(),r=Ru(),n=qu(),a=Uu(),s=[t.default,e.default,(0,r.default)(),n.default,a.metadataVocabulary,a.contentVocabulary];return Dt.default=s,Dt}var hr={},bt={},pa;function Bu(){if(pa)return bt;pa=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.DiscrError=void 0;var t;return(function(e){e.Tag="tag",e.Mapping="mapping"})(t||(bt.DiscrError=t={})),bt}var ya;function Lu(){if(ya)return hr;ya=1,Object.defineProperty(hr,"__esModule",{value:!0});const t=se(),e=Bu(),r=Fn(),n=Ur(),a=ce(),o={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:i,tagName:c}})=>i===e.DiscrError.Tag?`tag "${c}" must be string`:`value of tag "${c}" must be in oneOf`,params:({params:{discrError:i,tag:c,tagName:u}})=>(0,t._)`{error: ${i}, tag: ${u}, tagValue: ${c}}`},code(i){const{gen:c,data:u,schema:d,parentSchema:f,it:l}=i,{oneOf:h}=f;if(!l.opts.discriminator)throw new Error("discriminator: requires discriminator option");const y=d.propertyName;if(typeof y!="string")throw new Error("discriminator: requires propertyName");if(d.mapping)throw new Error("discriminator: mapping is not supported");if(!h)throw new Error("discriminator: requires oneOf keyword");const v=c.let("valid",!1),p=c.const("tag",(0,t._)`${u}${(0,t.getProperty)(y)}`);c.if((0,t._)`typeof ${p} == "string"`,()=>g(),()=>i.error(!1,{discrError:e.DiscrError.Tag,tag:p,tagName:y})),i.ok(v);function g(){const S=_();c.if(!1);for(const $ in S)c.elseIf((0,t._)`${p} === ${$}`),c.assign(v,m(S[$]));c.else(),i.error(!1,{discrError:e.DiscrError.Mapping,tag:p,tagName:y}),c.endIf()}function m(S){const $=c.name("valid"),b=i.subschema({keyword:"oneOf",schemaProp:S},$);return i.mergeEvaluated(b,t.Name),$}function _(){var S;const $={},b=O(f);let w=!0;for(let A=0;A<h.length;A++){let U=h[A];if(U?.$ref&&!(0,a.schemaHasRulesButRef)(U,l.self.RULES)){const L=U.$ref;if(U=r.resolveRef.call(l.self,l.schemaEnv.root,l.baseId,L),U instanceof r.SchemaEnv&&(U=U.schema),U===void 0)throw new n.default(l.opts.uriResolver,l.baseId,L)}const q=(S=U?.properties)===null||S===void 0?void 0:S[y];if(typeof q!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${y}"`);w=w&&(b||O(U)),T(q,A)}if(!w)throw new Error(`discriminator: "${y}" must be required`);return $;function O({required:A}){return Array.isArray(A)&&A.includes(y)}function T(A,U){if(A.const)I(A.const,U);else if(A.enum)for(const q of A.enum)I(q,U);else throw new Error(`discriminator: "properties/${y}" must have "const" or "enum"`)}function I(A,U){if(typeof A!="string"||A in $)throw new Error(`discriminator: "${y}" values must be unique strings`);$[A]=U}}}};return hr.default=o,hr}const zu="http://json-schema.org/draft-07/schema#",Ku="http://json-schema.org/draft-07/schema#",Wu="Core schema meta-schema",Hu={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Gu=["object","boolean"],Ju={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Yu={$schema:zu,$id:Ku,title:Wu,definitions:Hu,type:Gu,properties:Ju,default:!0};var ga;function Pi(){return ga||(ga=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const r=cu(),n=Vu(),a=Lu(),s=Yu,o=["/properties"],i="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(y=>this.addVocabulary(y)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const y=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(y,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}e.Ajv=c,t.exports=e=c,t.exports.Ajv=c,Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var u=qr();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var d=se();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var f=Nn();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return f.default}});var l=Ur();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return l.default}})})(Nt,Nt.exports)),Nt.exports}var Xu=Pi();const Qu=qa(Xu);var pr={exports:{}},ln={},va;function Zu(){return va||(va=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0;function e(T,I){return{validate:T,compare:I}}t.fullFormats={date:e(s,o),time:e(c,u),"date-time":e(f,l),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:v,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:O,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:g,int32:{type:"number",validate:S},int64:{type:"number",validate:$},float:{type:"number",validate:b},double:{type:"number",validate:b},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:e(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,l),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);function r(T){return T%4===0&&(T%100!==0||T%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,a=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(T){const I=n.exec(T);if(!I)return!1;const A=+I[1],U=+I[2],q=+I[3];return U>=1&&U<=12&&q>=1&&q<=(U===2&&r(A)?29:a[U])}function o(T,I){if(T&&I)return T>I?1:T<I?-1:0}const i=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function c(T,I){const A=i.exec(T);if(!A)return!1;const U=+A[1],q=+A[2],L=+A[3],B=A[5];return(U<=23&&q<=59&&L<=59||U===23&&q===59&&L===60)&&(!I||B!=="")}function u(T,I){if(!(T&&I))return;const A=i.exec(T),U=i.exec(I);if(A&&U)return T=A[1]+A[2]+A[3]+(A[4]||""),I=U[1]+U[2]+U[3]+(U[4]||""),T>I?1:T<I?-1:0}const d=/t|\s/i;function f(T){const I=T.split(d);return I.length===2&&s(I[0])&&c(I[1],!0)}function l(T,I){if(!(T&&I))return;const[A,U]=T.split(d),[q,L]=I.split(d),B=o(A,q);if(B!==void 0)return B||u(U,L)}const h=/\/|:/,y=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function v(T){return h.test(T)&&y.test(T)}const p=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function g(T){return p.lastIndex=0,p.test(T)}const m=-2147483648,_=2**31-1;function S(T){return Number.isInteger(T)&&T<=_&&T>=m}function $(T){return Number.isInteger(T)}function b(){return!0}const w=/[^\\]\\Z/;function O(T){if(w.test(T))return!1;try{return new RegExp(T),!0}catch{return!1}}})(ln)),ln}var dn={},_a;function ef(){return _a||(_a=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const e=Pi(),r=se(),n=r.operators,a={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},s={message:({keyword:i,schemaCode:c})=>r.str`should be ${a[i].okStr} ${c}`,params:({keyword:i,schemaCode:c})=>r._`{comparison: ${a[i].okStr}, limit: ${c}}`};t.formatLimitDefinition={keyword:Object.keys(a),type:"string",schemaType:"string",$data:!0,error:s,code(i){const{gen:c,data:u,schemaCode:d,keyword:f,it:l}=i,{opts:h,self:y}=l;if(!h.validateFormats)return;const v=new e.KeywordCxt(l,y.RULES.all.format.definition,"format");v.$data?p():g();function p(){const _=c.scopeValue("formats",{ref:y.formats,code:h.code.formats}),S=c.const("fmt",r._`${_}[${v.schemaCode}]`);i.fail$data(r.or(r._`typeof ${S} != "object"`,r._`${S} instanceof RegExp`,r._`typeof ${S}.compare != "function"`,m(S)))}function g(){const _=v.schema,S=y.formats[_];if(!S||S===!0)return;if(typeof S!="object"||S instanceof RegExp||typeof S.compare!="function")throw new Error(`"${f}": format "${_}" does not define "compare" function`);const $=c.scopeValue("formats",{key:_,ref:S,code:h.code.formats?r._`${h.code.formats}${r.getProperty(_)}`:void 0});i.fail$data(m($))}function m(_){return r._`${_}.compare(${u}, ${d}) ${a[f].fail} 0`}},dependencies:["format"]};const o=i=>(i.addKeyword(t.formatLimitDefinition),i);t.default=o})(dn)),dn}var ba;function tf(){return ba||(ba=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const r=Zu(),n=ef(),a=se(),s=new a.Name("fullFormats"),o=new a.Name("fastFormats"),i=(u,d={keywords:!0})=>{if(Array.isArray(d))return c(u,d,r.fullFormats,s),u;const[f,l]=d.mode==="fast"?[r.fastFormats,o]:[r.fullFormats,s],h=d.formats||r.formatNames;return c(u,h,f,l),d.keywords&&n.default(u),u};i.get=(u,d="full")=>{const l=(d==="fast"?r.fastFormats:r.fullFormats)[u];if(!l)throw new Error(`Unknown format "${u}"`);return l};function c(u,d,f,l){var h,y;(h=(y=u.opts.code).formats)!==null&&h!==void 0||(y.formats=a._`require("ajv-formats/dist/formats").${l}`);for(const v of d)u.addFormat(v,f[v])}t.exports=e=i,Object.defineProperty(e,"__esModule",{value:!0}),e.default=i})(pr,pr.exports)),pr.exports}var rf=tf();const Sa=qa(rf),nf={allErrors:!0,multipleOfPrecision:8,strict:!1,verbose:!0,discriminator:!1},sf=/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,af=/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/;function of(t,e,r={},n,a=Qu){const s=new a({...nf,...r});return n?Sa(s,n):n!==!1&&Sa(s),s.addFormat("data-url",af),s.addFormat("color",sf),s.addKeyword(Pt),s.addKeyword(Sn),Array.isArray(t)&&s.addMetaSchema(t),Pe(e)&&Object.keys(e).forEach(o=>{s.addFormat(o,e[o])}),s}function cf(t=[],e){return t.map(r=>{var n;const{instancePath:a,keyword:s,params:o,schemaPath:i,parentSchema:c,...u}=r;let{message:d=""}=u,f=a.replace(/\//g,"."),l=`${f} ${d}`.trim();const h=[...((n=o.deps)===null||n===void 0?void 0:n.split(", "))||[],o.missingProperty,o.property].filter(y=>y);if(h.length>0)h.forEach(y=>{const v=f?`${f}.${y}`:y;let p=ee(z(e,`${v.replace(/^\./,"")}`)).title;if(p===void 0){const g=i.replace(/\/properties\//g,"/").split("/").slice(1,-1).concat([y]);p=ee(z(e,g)).title}if(p)d=d.replace(`'${y}'`,`'${p}'`);else{const g=z(c,[he,y,"title"]);g&&(d=d.replace(`'${y}'`,`'${g}'`))}}),l=d;else{const y=ee(z(e,`${f.replace(/^\./,"")}`)).title;if(y)l=`'${y}' ${d}`.trim();else{const v=c?.title;v&&(l=`'${v}' ${d}`.trim())}}return"missingProperty"in o&&(f=f?`${f}.${o.missingProperty}`:o.missingProperty),{name:s,property:f,message:d,params:o,stack:l,schemaPath:i}})}function lf(t,e,r,n,a,s,o){const{validationError:i}=e;let c=cf(e.errors,o);i&&(c=[...c,{stack:i.message}]),typeof s=="function"&&(c=s(c,o));let u=Ko(c);if(i&&(u={...u,$schema:{__errors:[i.message]}}),typeof a!="function")return{errors:c,errorSchema:u};const d=Ra(t,n,r,n,!0),f=a(d,Cr(d),o),l=Cn(f);return Sr({errors:c,errorSchema:u},l)}class df{constructor(e,r){const{additionalMetaSchemas:n,customFormats:a,ajvOptionsOverrides:s,ajvFormatOptions:o,AjvClass:i}=e;this.ajv=of(n,a,s,o,i),this.localizer=r}reset(){this.ajv.removeSchema()}rawValidation(e,r){var n,a;let s,o;e[Re]&&(o=this.ajv.getSchema(e[Re]));try{o===void 0&&(o=this.ajv.compile(e)),o(r)}catch(c){s=c}let i;return o&&(typeof this.localizer=="function"&&(((n=o.errors)!==null&&n!==void 0?n:[]).forEach(c=>{var u;["missingProperty","property"].forEach(d=>{var f;!((f=c.params)===null||f===void 0)&&f[d]&&(c.params[d]=`'${c.params[d]}'`)}),!((u=c.params)===null||u===void 0)&&u.deps&&(c.params.deps=c.params.deps.split(", ").map(d=>`'${d}'`).join(", "))}),this.localizer(o.errors),((a=o.errors)!==null&&a!==void 0?a:[]).forEach(c=>{var u;["missingProperty","property"].forEach(d=>{var f;!((f=c.params)===null||f===void 0)&&f[d]&&(c.params[d]=c.params[d].slice(1,-1))}),!((u=c.params)===null||u===void 0)&&u.deps&&(c.params.deps=c.params.deps.split(", ").map(d=>d.slice(1,-1)).join(", "))})),i=o.errors||void 0,o.errors=null),{errors:i,validationError:s}}validateFormData(e,r,n,a,s){const o=this.rawValidation(r,e);return lf(this,o,e,r,n,a,s)}handleSchemaUpdate(e){var r,n;const a=(r=e[Re])!==null&&r!==void 0?r:Ma;this.ajv.getSchema(a)===void 0?this.ajv.addSchema(e,a):me(e,(n=this.ajv.getSchema(a))===null||n===void 0?void 0:n.schema)||(this.ajv.removeSchema(a),this.ajv.addSchema(e,a))}isValid(e,r,n){var a;try{this.handleSchemaUpdate(n);const s=Tn(e),o=(a=s[Re])!==null&&a!==void 0?a:Uo(s);let i;return i=this.ajv.getSchema(o),i===void 0&&(i=this.ajv.addSchema(s,o).getSchema(o)||this.ajv.compile(s)),i(r)}catch(s){return console.warn("Error encountered compiling schema:",s),!1}}}function uf(t={},e){return new df(t,e)}const Df=uf();export{So as A,_d as F,Af as M,xf as W,Za as a,Me as b,Te as c,Io as d,jt as e,En as f,Z as g,vd as h,Wn as i,Ka as j,it as l,Df as v};
