import{r as s,j as n,c9 as x,c3 as V,d4 as C,V as m,b$ as p,br as f,al as h}from"./iframe-BE9PbKHz.js";import{E as S}from"./EnumFacetFilterUI-CdH-4P29.js";import{H as b}from"./HelpTwoTone-CyZwlOa9.js";function _(l,e){l.columnDef.meta?.enableMultipleSelect?l.setFilterValue(t=>t?[...t,e]:[e]):l.setFilterValue([e])}function j(l,e){l.setFilterValue(t=>{if(t){const a=[...t.filter(o=>!V(o,e))];if(!C(a))return a}return null})}function v(l){if(l.getFacetedUniqueValues()){const e=Array.from(l.getFacetedUniqueValues().values()).some(t=>t!=0);return Array.from(l.getFacetedUniqueValues().entries()).map(t=>({value:t[0],count:e?t[1]:void 0}))}return[]}function u(l){const{column:e,title:t}=l,a=e.columnDef.meta?.enableMultipleSelect||!1,o=e.getFilterValue(),i=s.useMemo(()=>o||[],[o]),c=s.useMemo(()=>v(e).map(r=>{let d=r.value;e.columnDef?.meta?.getDisplayText&&(d=e.columnDef.meta.getDisplayText(r.value));const F=!!(i||[]).find(y=>y===r.value);return{...r,displayText:d,isSelected:F}}),[e,i]);return n.jsx(S,{facetTitle:t,facetValues:c,filterIsActive:e.getIsFiltered(),containerAs:"Dropdown",dropdownType:"Icon",defaultShowAllValues:!0,onAddValueToSelection:r=>{_(e,r)},onRemoveValueFromSelection:r=>{j(e,r)},onRemoveAllFacetSelections:()=>{e.setFilterValue(null)},onHoverOverValue:x,canMultiSelect:a})}try{u.displayName="ColumnHeaderEnumFilter",u.__docgenInfo={description:`Used to create {@link EnumFacetFilterUIProps} that can be used to create a control to filter column values based on
the provided`,displayName:"ColumnHeaderEnumFilter",props:{column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"Column<TData, TValue>"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}}}}}catch{}function g(l){const{column:e,title:t=l.column.id,helpText:a,filterControl:o,additionalButtons:i}=l,r=s.useCallback(()=>{if(o)return o;if(e.getCanFilter()){if(e.columnDef.meta?.filterVariant==="enumeration")return n.jsx(u,{column:e,title:t});console.warn(`column.getCanFilter() was true for column ID: ${e.id} but no filterControlFromProps was passed and component for filterVariant: ${e.columnDef.meta?.filterVariant} is not implemented`)}return n.jsx(n.Fragment,{})},[e,o,t])();return n.jsxs(m,{sx:{display:"flex",alignContent:"center",alignItems:"center",justifyContent:"space-between"},children:[n.jsx("span",{style:{whiteSpace:"nowrap"},children:t}),n.jsxs(m,{role:"menubar",sx:{display:"flex",alignItems:"center",height:"22px",ml:2,gap:.25},children:[a&&n.jsx(p,{title:a,placement:"top",children:n.jsx(f,{size:"small",children:n.jsx(b,{fontSize:"inherit"})})}),e.getCanFilter()&&r,e.getCanSort()&&n.jsx(p,{title:`Sort by ${t}`,placement:"top",children:n.jsx(f,{role:"button",size:"small","aria-label":`Sort by ${t}`,tabIndex:0,onKeyPress:()=>e.toggleSorting(),onClick:()=>e.toggleSorting(),children:n.jsx(h,{icon:e.getIsSorted()==="asc"?"sortUp":"sortDown",wrap:!1,sx:{color:e.getIsSorted()?"primary.main":"grey.700",backgroundColor:"none"}})})}),i]})]})}try{g.displayName="ColumnHeader",g.__docgenInfo={description:"Styled table column header component for use with",displayName:"ColumnHeader",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},helpText:{defaultValue:null,description:"",name:"helpText",required:!1,type:{name:"ReactNode"}},additionalButtons:{defaultValue:null,description:"",name:"additionalButtons",required:!1,type:{name:"ReactNode"}},filterControl:{defaultValue:null,description:"",name:"filterControl",required:!1,type:{name:"ReactNode"}}}}}catch{}export{g as C};
