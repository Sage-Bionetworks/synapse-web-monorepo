import{j as e}from"./jsx-runtime-3KUIpe_B.js";import{E as M}from"./EvenlyDistributedWrappedContainer-B5Ojf9G5.js";import{J as v,H as u,k as D}from"./useFiles-BUTSDjpp.js";import{j as V,i as R}from"./SynapseConstants-BKYSFUA4.js";import{r as w}from"./index-DKQmXyTg.js";import"./VerificationSubmission-dxY1kvC5.js";import"./StringUtils-lE31obNl.js";import{u as L}from"./useShowDesktop-mr6j9PKn.js";import"./OrientationBanner-hPZ43e6I.js";import{u as T}from"./useGetGoalData-C8V67US5.js";import{Q as g}from"./QueryCount-D53Lt7Vc.js";import{B as C}from"./Button-fGoJWvNB.js";import{E as B}from"./ExpandableContent-D7CdRWTi.js";function y({asset:r,link:t,summary:n,countSql:l,title:s}){return e.jsxs("div",{className:"Goals__Card",style:{cursor:"pointer"},onClick:()=>window.open(t),children:[e.jsx("div",{className:"Goals__Card__header",style:{background:`url('${r}')`},children:e.jsxs("p",{children:[e.jsxs("span",{className:"Goals__Card__header__title",children:[" ",s," "]}),l&&e.jsx("span",{className:"Goals__Card__header__count",children:e.jsx(g,{parens:!1,query:{sql:l}})})]})}),e.jsxs("div",{className:"Goals__Card__summary",children:[e.jsxs("p",{children:[" ",n," "]}),e.jsx(C,{className:"Goals__Card__summary__link",variant:"contained",color:"secondary",href:t,children:"Explore"})]})]})}try{y.displayName="GoalsDesktop",y.__docgenInfo={description:"",displayName:"GoalsDesktop",props:{countSql:{defaultValue:null,description:"",name:"countSql",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}},asset:{defaultValue:null,description:"",name:"asset",required:!0,type:{name:"string"}}}}}catch{}function f({link:r,summary:t,countSql:n,title:l}){const s=e.jsxs("div",{className:"Goals__Mobile__Header",children:[n&&e.jsx("span",{className:"Goals__Mobile__Header__Count",children:e.jsx(g,{parens:!1,query:{sql:n}})}),e.jsxs("span",{className:"Goals__Mobile__Header__Title",children:[" ",l," "]})]}),o=e.jsxs("div",{className:"Goals__Mobile__Content",children:[e.jsx("p",{children:t}),e.jsx(C,{variant:"contained",color:"secondary",className:"Goals__Mobile__Content__Link",href:r,children:"Explore"})]});return e.jsx(B,{title:s,content:o})}try{f.displayName="GoalsMobile",f.__docgenInfo={description:"",displayName:"GoalsMobile",props:{countSql:{defaultValue:null,description:"",name:"countSql",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}},asset:{defaultValue:null,description:"",name:"asset",required:!0,type:{name:"string"}}}}}catch{}const O=1200;function N(r){const{entityId:t}=r,n=L(O),l={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:t,partMask:V|R,query:{sql:`select *
            from ${t}
            order by ItemOrder`}},{data:s}=v(l),{assets:o,error:x}=T(t,s),m=u("TableId",s),c=u("CountSql",s),h=u("Title",s),j=u("Summary",s),G=u("Link",s),p=w.useMemo(()=>s==null?void 0:s.queryResult.queryResults.rows.map((i,d)=>{const a=i.values;a.some(S=>S===null)&&console.warn("Row has null value(s) when no nulls expected");const q=m>-1?a[m]:void 0;let _;c>-1&&a[c]?_=a[c]:q&&(_=`SELECT * FROM ${q}`);const E=a[h],k=a[j],I=a[G],b=(o==null?void 0:o[d])??"";return{countSql:_,title:E,summary:k,link:I,asset:b}}),[c,o,G,s==null?void 0:s.queryResult,j,m,h]);return x?e.jsx(D,{error:x}):p?n?e.jsx("div",{className:"Goals",children:e.jsx(M,{children:p.map((i,d)=>e.jsx(y,{...i},d))})}):e.jsx("div",{className:"Goals",children:p.map((i,d)=>e.jsx(f,{...i},d))}):e.jsx(e.Fragment,{})}try{N.displayName="Goals",N.__docgenInfo={description:"",displayName:"Goals",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}}}}}catch{}export{N as G};
