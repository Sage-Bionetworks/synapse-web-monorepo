import{as as f,ar as g,j as o,r as p,iO as w,it as y,V as c,B as x}from"./iframe-SFoYirDz.js";import"./SkeletonButton-Di0Yg_Uv.js";import"./SkeletonInlineBlock-DrZRW3Px.js";import"./SkeletonTable-Drqg7wxh.js";import{S as b}from"./SkeletonParagraph-D_k7-Stv.js";import{M as _}from"./MarkdownSynapse-CC4Dnhut.js";import{C as k}from"./Container-DeHx9jRh.js";const j="https://api.github.com/repos";function M(e,a,n){const{keyFactory:r}=f(),s=async()=>{const t=await fetch(`${j}/${e}/${a}/tags`);if(!t.ok)throw new Error(`Error fetching tags: ${t.statusText}`);const i=await t.json();if(i.length===0)throw new Error("No tags found.");return i[0].name};return g({...n,queryKey:r.getGithubLatestTagKey(e,a),queryFn:s})}function m(e){const{repoOwner:a,repoName:n}=e,{data:r}=M(a,n);return o.jsx(l,{...e,tagName:r})}const L=(e,a)=>{if(!e)return;const n=`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8">
          <title>${a}</title>
        </head>
        <body style="margin: 0; padding: 20px; font-family: Arial, sans-serif; line-height: 24px;">
          ${e}
        </body>
      </html>
    `,r=new Blob([n],{type:"text/html"}),s=URL.createObjectURL(r),t=document.createElement("a");t.href=s,t.download=a,t.click(),URL.revokeObjectURL(s)};function l({repoOwner:e,repoName:a,filePath:n,tagName:r,showDownloadButton:s=!1}){const[t,i]=p.useState(null),u=p.useMemo(()=>w(n,"html"),[n]),{data:d}=y(`https://cdn.jsdelivr.net/gh/${e}/${a}@${r}/${n}`,{enabled:!!r}),h=o.jsx(c,{sx:{width:"100%"},children:o.jsx(b,{rowHeight:"30px",numRows:70})});return o.jsxs(k,{sx:{"> .markdown":{px:"10px"}},children:[s&&t&&o.jsx(c,{sx:{display:"flex",float:"right",mt:"15px"},children:o.jsx(x,{variant:"outlined",color:"primary",sx:{mb:1},onClick:()=>L(t,u),children:"Download"})}),d?o.jsx(_,{markdown:d,onMarkdownProcessingDone:i}):h]})}try{m.displayName="MarkdownGithubLatestTag",m.__docgenInfo={description:"Loads the latest tagged version of the (presumably MD) file from GitHub",displayName:"MarkdownGithubLatestTag",props:{repoOwner:{defaultValue:null,description:"",name:"repoOwner",required:!0,type:{name:"string"}},repoName:{defaultValue:null,description:"",name:"repoName",required:!0,type:{name:"string"}},filePath:{defaultValue:null,description:"",name:"filePath",required:!0,type:{name:"string"}},showDownloadButton:{defaultValue:null,description:"",name:"showDownloadButton",required:!1,type:{name:"boolean"}}}}}catch{}try{l.displayName="MarkdownGithub",l.__docgenInfo={description:"Load MD file content from GitHub (using the given tag)",displayName:"MarkdownGithub",props:{repoOwner:{defaultValue:null,description:"",name:"repoOwner",required:!0,type:{name:"string"}},repoName:{defaultValue:null,description:"",name:"repoName",required:!0,type:{name:"string"}},filePath:{defaultValue:null,description:"",name:"filePath",required:!0,type:{name:"string"}},showDownloadButton:{defaultValue:{value:"false"},description:"",name:"showDownloadButton",required:!1,type:{name:"boolean"}},tagName:{defaultValue:null,description:"",name:"tagName",required:!1,type:{name:"string"}}}}}catch{}export{l as M,m as a};
