import{r as g,fx as f,j as e,c3 as h,fy as w,X as E,B as S}from"./iframe-Ci1lmE8g.js";import{u as _}from"./useEntityBundle-DbW89d5B.js";import{u as y}from"./useGetFeatureFlag-DKqu7bYH.js";import{E as C}from"./EntityAclEditorModal-C7ABx79O.js";import{A as I}from"./ActionRequiredCard-07a6Krwn.js";const x=n=>window.open(`https://www.synapse.org/Synapse:${n}`,"_blank"),D="Download Permission Required";function i(n){const{entityId:o,count:a,onViewSharingSettingsClicked:d=x}=n,{data:t,isLoading:l,isError:c,error:u}=_(o,void 0,{includeEntity:!0,includePermissions:!0}),[m,r]=g.useState(!1),s=!!(t!=null&&t.permissions.canDownload),p=y(f.REACT_ENTITY_ACL_EDITOR);return c?e.jsx(h,{severity:"error",children:u.reason}):e.jsx(I,{isLoading:l,title:D,description:e.jsxs(e.Fragment,{children:["You must be granted the download permission on"," ",e.jsx("strong",{children:t==null?void 0:t.entity.name})," in order to download this set of files."]}),iconType:w,count:a,actionNode:e.jsxs(e.Fragment,{children:[e.jsx(E,{variant:"smallText1",sx:{mb:1,color:"grey.700"},children:"Contact an administrator to request download permission"}),e.jsx(C,{entityId:o,open:m,onClose:()=>r(!1)}),e.jsx(S,{variant:"outlined",onClick:()=>{p?r(!0):d(o)},disabled:s,children:s?"Complete":"View Sharing Settings"})]})})}try{i.displayName="RequestDownloadCard",i.__docgenInfo={description:"",displayName:"RequestDownloadCard",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}},onViewSharingSettingsClicked:{defaultValue:null,description:'Invoked when a user clicks "View Sharing Settings" for a set of files that require the Download permission',name:"onViewSharingSettingsClicked",required:!1,type:{name:"(benefactorId: string) => void"}}}}}catch{}export{i as R};
