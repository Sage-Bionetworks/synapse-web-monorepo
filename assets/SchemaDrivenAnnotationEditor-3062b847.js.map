{"version":3,"file":"SchemaDrivenAnnotationEditor-3062b847.js","sources":["../../../../node_modules/.pnpm/@mui+icons-material@5.11.16_@mui+material@5.11.16_@types+react@18.0.27_react@18.2.0/node_modules/@mui/icons-material/esm/Add.js","../../../../node_modules/.pnpm/@mui+icons-material@5.11.16_@mui+material@5.11.16_@types+react@18.0.27_react@18.2.0/node_modules/@mui/icons-material/esm/HelpOutline.js","../../src/synapse-queries/entity/useEntityBoundSchema.ts","../../src/synapse-queries/entity/useSchema.ts","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/ErrorList.js","../../../../node_modules/.pnpm/jsonpointer@4.1.0/node_modules/jsonpointer/jsonpointer.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/IconButton.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/AddButton.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/types.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/fields/ArrayField.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/fields/BooleanField.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/fields/DescriptionField.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/fields/MultiSchemaField.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/fields/NumberField.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/fields/ObjectField.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/fields/SchemaField.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/fields/StringField.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/fields/TitleField.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/fields/NullField.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/fields/UnsupportedField.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/fields/index.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/widgets/AltDateWidget.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/widgets/AltDateTimeWidget.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/widgets/BaseInput.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/widgets/CheckboxWidget.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/widgets/CheckboxesWidget.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/widgets/ColorWidget.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/widgets/DateWidget.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/widgets/DateTimeWidget.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/widgets/EmailWidget.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/widgets/FileWidget.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/widgets/HiddenWidget.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/widgets/PasswordWidget.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/widgets/RadioWidget.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/widgets/RangeWidget.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/widgets/SelectWidget.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/widgets/TextareaWidget.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/widgets/TextWidget.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/widgets/URLWidget.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/widgets/UpDownWidget.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/widgets/index.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toPath.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/validate.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/utils.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/components/Form.js","../../../../node_modules/.pnpm/@sage-bionetworks+rjsf-core@3.1.4_react@18.2.0/node_modules/@sage-bionetworks/rjsf-core/dist/es/withTheme.js","../../src/assets/icons/AddToList.tsx","../../src/components/entity/annotations/FieldDescriptionTable.tsx","../../src/components/entity/annotations/CustomArrayFieldTemplate.tsx","../../src/components/entity/annotations/AdditionalPropertiesSchemaField.tsx","../../src/components/entity/annotations/AnnotationEditorUtils.ts","../../src/components/entity/annotations/CustomAdditionalPropertiesFieldTemplate.tsx","../../src/components/entity/annotations/CustomBooleanWidget.tsx","../../src/components/entity/annotations/CustomDateTimeWidget.tsx","../../src/components/entity/annotations/CustomDefaultTemplate.tsx","../../src/components/entity/annotations/CustomObjectFieldTemplate.tsx","../../src/components/entity/annotations/CustomTextWidget.tsx","../../src/components/entity/annotations/SchemaDrivenAnnotationEditor.tsx"],"sourcesContent":["import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z\"\n}), 'HelpOutline');","import { UseQueryOptions, useQuery } from 'react-query'\nimport SynapseClient from '../../synapse-client'\nimport { SynapseClientError } from '../../utils/SynapseClientError'\nimport { useSynapseContext } from '../../utils/context/SynapseContext'\nimport { JsonSchemaObjectBinding } from '@sage-bionetworks/synapse-types'\nimport { ValidationResults } from '@sage-bionetworks/synapse-types'\n\nexport function useGetSchemaBinding(\n  entityId: string,\n  options?: UseQueryOptions<JsonSchemaObjectBinding | null, SynapseClientError>,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n  return useQuery<JsonSchemaObjectBinding | null, SynapseClientError>(\n    keyFactory.getEntityBoundJsonSchemaQueryKey(entityId),\n    () => SynapseClient.getSchemaBinding(entityId, accessToken),\n    options,\n  )\n}\n\nexport function useGetValidationResults(\n  entityId: string,\n  options?: UseQueryOptions<ValidationResults, SynapseClientError>,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n\n  return useQuery<ValidationResults, SynapseClientError>(\n    keyFactory.getEntitySchemaValidationResultsQueryKey(entityId),\n    () => SynapseClient.getSchemaValidationResults(entityId, accessToken),\n    options,\n  )\n}\n","/*\n * Hooks for accessing services related to JSON Schemas in the Synapse REST API\n */\n\nimport { JSONSchema7 } from 'json-schema'\nimport { useQuery, UseQueryOptions } from 'react-query'\nimport SynapseClient from '../../synapse-client'\nimport { SynapseClientError } from '../../utils/SynapseClientError'\nimport { useSynapseContext } from '../../utils/context/SynapseContext'\n\nexport function useGetSchema(\n  schema$id: string,\n  options?: UseQueryOptions<JSONSchema7, SynapseClientError>,\n) {\n  const { keyFactory } = useSynapseContext()\n  return useQuery<JSONSchema7, SynapseClientError>(\n    keyFactory.getValidationSchemaQueryKey(schema$id),\n    async () => {\n      const response = await SynapseClient.getValidationSchema(schema$id)\n      return response.validationSchema\n    },\n    options,\n  )\n}\n","import React from \"react\";\nexport default function ErrorList(props) {\n  var errors = props.errors;\n  return React.createElement(\"div\", {\n    className: \"panel panel-danger errors\"\n  }, React.createElement(\"div\", {\n    className: \"panel-heading\"\n  }, React.createElement(\"h3\", {\n    className: \"panel-title\"\n  }, \"Errors\")), React.createElement(\"ul\", {\n    className: \"list-group\"\n  }, errors.map(function (error, i) {\n    return React.createElement(\"li\", {\n      key: i,\n      className: \"list-group-item text-danger\"\n    }, error.stack);\n  })));\n}","var hasExcape = /~/\nvar escapeMatcher = /~[01]/g\nfunction escapeReplacer (m) {\n  switch (m) {\n    case '~1': return '/'\n    case '~0': return '~'\n  }\n  throw new Error('Invalid tilde escape: ' + m)\n}\n\nfunction untilde (str) {\n  if (!hasExcape.test(str)) return str\n  return str.replace(escapeMatcher, escapeReplacer)\n}\n\nfunction setter (obj, pointer, value) {\n  var part\n  var hasNextPart\n\n  if (pointer[1] === 'constructor' && pointer[2] === 'prototype') return obj\n  if (pointer[1] === '__proto__') return obj\n\n  for (var p = 1, len = pointer.length; p < len;) {\n    part = untilde(pointer[p++])\n    hasNextPart = len > p\n\n    if (typeof obj[part] === 'undefined') {\n      // support setting of /-\n      if (Array.isArray(obj) && part === '-') {\n        part = obj.length\n      }\n\n      // support nested objects/array when setting values\n      if (hasNextPart) {\n        if ((pointer[p] !== '' && pointer[p] < Infinity) || pointer[p] === '-') obj[part] = []\n        else obj[part] = {}\n      }\n    }\n\n    if (!hasNextPart) break\n    obj = obj[part]\n  }\n\n  var oldValue = obj[part]\n  if (value === undefined) delete obj[part]\n  else obj[part] = value\n  return oldValue\n}\n\nfunction compilePointer (pointer) {\n  if (typeof pointer === 'string') {\n    pointer = pointer.split('/')\n    if (pointer[0] === '') return pointer\n    throw new Error('Invalid JSON pointer.')\n  } else if (Array.isArray(pointer)) {\n    return pointer\n  }\n\n  throw new Error('Invalid JSON pointer.')\n}\n\nfunction get (obj, pointer) {\n  if (typeof obj !== 'object') throw new Error('Invalid input object.')\n  pointer = compilePointer(pointer)\n  var len = pointer.length\n  if (len === 1) return obj\n\n  for (var p = 1; p < len;) {\n    obj = obj[untilde(pointer[p++])]\n    if (len === p) return obj\n    if (typeof obj !== 'object') return undefined\n  }\n}\n\nfunction set (obj, pointer, value) {\n  if (typeof obj !== 'object') throw new Error('Invalid input object.')\n  pointer = compilePointer(pointer)\n  if (pointer.length === 0) throw new Error('Invalid JSON pointer for set.')\n  return setter(obj, pointer, value)\n}\n\nfunction compile (pointer) {\n  var compiled = compilePointer(pointer)\n  return {\n    get: function (object) {\n      return get(object, compiled)\n    },\n    set: function (object, value) {\n      return set(object, compiled, value)\n    }\n  }\n}\n\nexports.get = get\nexports.set = set\nexports.compile = compile\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\nexport default function IconButton(props) {\n  var _props$type = props.type,\n      type = _props$type === void 0 ? \"default\" : _props$type,\n      icon = props.icon,\n      className = props.className,\n      otherProps = _objectWithoutProperties(props, [\"type\", \"icon\", \"className\"]);\n\n  return React.createElement(\"button\", _extends({\n    type: \"button\",\n    className: \"btn btn-\".concat(type, \" \").concat(className)\n  }, otherProps), React.createElement(\"i\", {\n    className: \"glyphicon glyphicon-\".concat(icon)\n  }));\n}","import React from \"react\";\nimport IconButton from \"./IconButton\";\nexport default function AddButton(_ref) {\n  var className = _ref.className,\n      onClick = _ref.onClick,\n      disabled = _ref.disabled;\n  return React.createElement(\"div\", {\n    className: \"row\"\n  }, React.createElement(\"p\", {\n    className: \"col-xs-3 col-xs-offset-9 text-right \".concat(className)\n  }, React.createElement(IconButton, {\n    type: \"info\",\n    icon: \"plus\",\n    className: \"btn-add col-xs-12\",\n    \"aria-label\": \"Add\",\n    tabIndex: \"0\",\n    onClick: onClick,\n    disabled: disabled\n  })));\n}","import PropTypes from \"prop-types\";\nexport var registry = PropTypes.shape({\n  ArrayFieldTemplate: PropTypes.elementType,\n  FieldTemplate: PropTypes.elementType,\n  ObjectFieldTemplate: PropTypes.elementType,\n  definitions: PropTypes.object.isRequired,\n  rootSchema: PropTypes.object,\n  fields: PropTypes.objectOf(PropTypes.elementType).isRequired,\n  formContext: PropTypes.object.isRequired,\n  widgets: PropTypes.objectOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])).isRequired\n});\nexport var fieldProps = {\n  autofocus: PropTypes.bool,\n  disabled: PropTypes.bool,\n  errorSchema: PropTypes.object,\n  formData: PropTypes.any,\n  idSchema: PropTypes.object,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func.isRequired,\n  onFocus: PropTypes.func,\n  rawErrors: PropTypes.arrayOf(PropTypes.string),\n  readonly: PropTypes.bool,\n  registry: registry.isRequired,\n  required: PropTypes.bool,\n  schema: PropTypes.object.isRequired,\n  uiSchema: PropTypes.shape({\n    \"ui:options\": PropTypes.shape({\n      addable: PropTypes.bool,\n      orderable: PropTypes.bool,\n      removable: PropTypes.bool\n    })\n  })\n};","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport AddButton from \"../AddButton\";\nimport IconButton from \"../IconButton\";\nimport React, { Component } from \"react\";\nimport includes from \"core-js-pure/es/array/includes\";\nimport * as types from \"../../types\";\nimport { getWidget, getDefaultFormState, getUiOptions, isMultiSelect, isFilesArray, isFixedItems, allowAdditionalItems, optionsList, retrieveSchema, toIdSchema, getDefaultRegistry } from \"../../utils\";\nimport { nanoid } from \"nanoid\";\n\nfunction ArrayFieldTitle(_ref) {\n  var TitleField = _ref.TitleField,\n      idSchema = _ref.idSchema,\n      title = _ref.title,\n      required = _ref.required;\n\n  if (!title) {\n    return null;\n  }\n\n  var id = \"\".concat(idSchema.$id, \"__title\");\n  return React.createElement(TitleField, {\n    id: id,\n    title: title,\n    required: required\n  });\n}\n\nfunction ArrayFieldDescription(_ref2) {\n  var DescriptionField = _ref2.DescriptionField,\n      idSchema = _ref2.idSchema,\n      description = _ref2.description;\n\n  if (!description) {\n    return null;\n  }\n\n  var id = \"\".concat(idSchema.$id, \"__description\");\n  return React.createElement(DescriptionField, {\n    id: id,\n    description: description\n  });\n} // Used in the two templates\n\n\nfunction DefaultArrayItem(props) {\n  var btnStyle = {\n    flex: 1,\n    paddingLeft: 6,\n    paddingRight: 6,\n    fontWeight: \"bold\"\n  };\n  return React.createElement(\"div\", {\n    key: props.key,\n    className: props.className\n  }, React.createElement(\"div\", {\n    className: props.hasToolbar ? \"col-xs-9\" : \"col-xs-12\"\n  }, props.children), props.hasToolbar && React.createElement(\"div\", {\n    className: \"col-xs-3 array-item-toolbox\"\n  }, React.createElement(\"div\", {\n    className: \"btn-group\",\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-around\"\n    }\n  }, (props.hasMoveUp || props.hasMoveDown) && React.createElement(IconButton, {\n    icon: \"arrow-up\",\n    \"aria-label\": \"Move up\",\n    className: \"array-item-move-up\",\n    tabIndex: \"-1\",\n    style: btnStyle,\n    disabled: props.disabled || props.readonly || !props.hasMoveUp,\n    onClick: props.onReorderClick(props.index, props.index - 1)\n  }), (props.hasMoveUp || props.hasMoveDown) && React.createElement(IconButton, {\n    icon: \"arrow-down\",\n    className: \"array-item-move-down\",\n    \"aria-label\": \"Move down\",\n    tabIndex: \"-1\",\n    style: btnStyle,\n    disabled: props.disabled || props.readonly || !props.hasMoveDown,\n    onClick: props.onReorderClick(props.index, props.index + 1)\n  }), props.hasRemove && React.createElement(IconButton, {\n    type: \"danger\",\n    icon: \"remove\",\n    \"aria-label\": \"Remove\",\n    className: \"array-item-remove\",\n    tabIndex: \"-1\",\n    style: btnStyle,\n    disabled: props.disabled || props.readonly,\n    onClick: props.onDropIndexClick(props.index)\n  }))));\n}\n\nfunction DefaultFixedArrayFieldTemplate(props) {\n  return React.createElement(\"fieldset\", {\n    className: props.className,\n    id: props.idSchema.$id\n  }, React.createElement(ArrayFieldTitle, {\n    key: \"array-field-title-\".concat(props.idSchema.$id),\n    TitleField: props.TitleField,\n    idSchema: props.idSchema,\n    title: props.uiSchema[\"ui:title\"] || props.title,\n    required: props.required\n  }), (props.uiSchema[\"ui:description\"] || props.schema.description) && React.createElement(\"div\", {\n    className: \"field-description\",\n    key: \"field-description-\".concat(props.idSchema.$id)\n  }, props.uiSchema[\"ui:description\"] || props.schema.description), React.createElement(\"div\", {\n    className: \"row array-item-list\",\n    key: \"array-item-list-\".concat(props.idSchema.$id)\n  }, props.items && props.items.map(DefaultArrayItem)), props.canAdd && React.createElement(AddButton, {\n    className: \"array-item-add\",\n    onClick: props.onAddClick,\n    disabled: props.disabled || props.readonly\n  }));\n}\n\nfunction DefaultNormalArrayFieldTemplate(props) {\n  return React.createElement(\"fieldset\", {\n    className: props.className,\n    id: props.idSchema.$id\n  }, React.createElement(ArrayFieldTitle, {\n    key: \"array-field-title-\".concat(props.idSchema.$id),\n    TitleField: props.TitleField,\n    idSchema: props.idSchema,\n    title: props.uiSchema[\"ui:title\"] || props.title,\n    required: props.required\n  }), (props.uiSchema[\"ui:description\"] || props.schema.description) && React.createElement(ArrayFieldDescription, {\n    key: \"array-field-description-\".concat(props.idSchema.$id),\n    DescriptionField: props.DescriptionField,\n    idSchema: props.idSchema,\n    description: props.uiSchema[\"ui:description\"] || props.schema.description\n  }), React.createElement(\"div\", {\n    className: \"row array-item-list\",\n    key: \"array-item-list-\".concat(props.idSchema.$id)\n  }, props.items && props.items.map(function (p) {\n    return DefaultArrayItem(p);\n  })), props.canAdd && React.createElement(AddButton, {\n    className: \"array-item-add\",\n    onClick: props.onAddClick,\n    disabled: props.disabled || props.readonly\n  }));\n}\n\nfunction generateRowId() {\n  return nanoid();\n}\n\nfunction generateKeyedFormData(formData) {\n  return !Array.isArray(formData) ? [] : formData.map(function (item) {\n    return {\n      key: generateRowId(),\n      item: item\n    };\n  });\n}\n\nfunction keyedToPlainFormData(keyedFormData) {\n  return keyedFormData.map(function (keyedItem) {\n    return keyedItem.item;\n  });\n}\n\nvar ArrayField =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ArrayField, _Component);\n\n  function ArrayField(props) {\n    var _this;\n\n    _classCallCheck(this, ArrayField);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ArrayField).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"_getNewFormDataRow\", function () {\n      var _this$props = _this.props,\n          schema = _this$props.schema,\n          _this$props$registry = _this$props.registry,\n          registry = _this$props$registry === void 0 ? getDefaultRegistry() : _this$props$registry;\n      var rootSchema = registry.rootSchema;\n      var itemSchema = schema.items;\n\n      if (isFixedItems(schema) && allowAdditionalItems(schema)) {\n        itemSchema = schema.additionalItems;\n      }\n\n      return getDefaultFormState(itemSchema, undefined, rootSchema);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAddClick\", function (event) {\n      if (event) {\n        event.preventDefault();\n      }\n\n      var onChange = _this.props.onChange;\n      var newKeyedFormDataRow = {\n        key: generateRowId(),\n        item: _this._getNewFormDataRow()\n      };\n      var newKeyedFormData = [].concat(_toConsumableArray(_this.state.keyedFormData), [newKeyedFormDataRow]);\n\n      _this.setState({\n        keyedFormData: newKeyedFormData,\n        updatedKeyedFormData: true\n      }, function () {\n        return onChange(keyedToPlainFormData(newKeyedFormData));\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onAddIndexClick\", function (index) {\n      return function (event) {\n        if (event) {\n          event.preventDefault();\n        }\n\n        var onChange = _this.props.onChange;\n        var newKeyedFormDataRow = {\n          key: generateRowId(),\n          item: _this._getNewFormDataRow()\n        };\n\n        var newKeyedFormData = _toConsumableArray(_this.state.keyedFormData);\n\n        newKeyedFormData.splice(index, 0, newKeyedFormDataRow);\n\n        _this.setState({\n          keyedFormData: newKeyedFormData,\n          updatedKeyedFormData: true\n        }, function () {\n          return onChange(keyedToPlainFormData(newKeyedFormData));\n        });\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDropIndexClick\", function (index) {\n      return function (event) {\n        if (event) {\n          event.preventDefault();\n        }\n\n        var onChange = _this.props.onChange;\n        var keyedFormData = _this.state.keyedFormData; // refs #195: revalidate to ensure properly reindexing errors\n\n        var newErrorSchema;\n\n        if (_this.props.errorSchema) {\n          newErrorSchema = {};\n          var errorSchema = _this.props.errorSchema;\n\n          for (var i in errorSchema) {\n            i = parseInt(i);\n\n            if (i < index) {\n              newErrorSchema[i] = errorSchema[i];\n            } else if (i > index) {\n              newErrorSchema[i - 1] = errorSchema[i];\n            }\n          }\n        }\n\n        var newKeyedFormData = keyedFormData.filter(function (_, i) {\n          return i !== index;\n        });\n\n        _this.setState({\n          keyedFormData: newKeyedFormData,\n          updatedKeyedFormData: true\n        }, function () {\n          return onChange(keyedToPlainFormData(newKeyedFormData), newErrorSchema);\n        });\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onReorderClick\", function (index, newIndex) {\n      return function (event) {\n        if (event) {\n          event.preventDefault();\n          event.target.blur();\n        }\n\n        var onChange = _this.props.onChange;\n        var newErrorSchema;\n\n        if (_this.props.errorSchema) {\n          newErrorSchema = {};\n          var errorSchema = _this.props.errorSchema;\n\n          for (var i in errorSchema) {\n            if (i == index) {\n              newErrorSchema[newIndex] = errorSchema[index];\n            } else if (i == newIndex) {\n              newErrorSchema[index] = errorSchema[newIndex];\n            } else {\n              newErrorSchema[i] = errorSchema[i];\n            }\n          }\n        }\n\n        var keyedFormData = _this.state.keyedFormData;\n\n        function reOrderArray() {\n          // Copy item\n          var _newKeyedFormData = keyedFormData.slice(); // Moves item from index to newIndex\n\n\n          _newKeyedFormData.splice(index, 1);\n\n          _newKeyedFormData.splice(newIndex, 0, keyedFormData[index]);\n\n          return _newKeyedFormData;\n        }\n\n        var newKeyedFormData = reOrderArray();\n\n        _this.setState({\n          keyedFormData: newKeyedFormData\n        }, function () {\n          return onChange(keyedToPlainFormData(newKeyedFormData), newErrorSchema);\n        });\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChangeForIndex\", function (index) {\n      return function (value, errorSchema) {\n        var _this$props2 = _this.props,\n            formData = _this$props2.formData,\n            onChange = _this$props2.onChange;\n        var newFormData = formData.map(function (item, i) {\n          // We need to treat undefined items as nulls to have validation.\n          // See https://github.com/tdegrunt/jsonschema/issues/206\n          var jsonValue = typeof value === \"undefined\" ? null : value;\n          return index === i ? jsonValue : item;\n        });\n        onChange(newFormData, errorSchema && _this.props.errorSchema && _objectSpread({}, _this.props.errorSchema, _defineProperty({}, index, errorSchema)));\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSelectChange\", function (value) {\n      _this.props.onChange(value);\n    });\n\n    var _formData = props.formData;\n\n    var _keyedFormData = generateKeyedFormData(_formData);\n\n    _this.state = {\n      keyedFormData: _keyedFormData,\n      updatedKeyedFormData: false\n    };\n    return _this;\n  }\n\n  _createClass(ArrayField, [{\n    key: \"isItemRequired\",\n    value: function isItemRequired(itemSchema) {\n      if (Array.isArray(itemSchema.type)) {\n        // While we don't yet support composite/nullable jsonschema types, it's\n        // future-proof to check for requirement against these.\n        return !includes(itemSchema.type, \"null\");\n      } // All non-null array item types are inherently required by design\n\n\n      return itemSchema.type !== \"null\";\n    }\n  }, {\n    key: \"canAddItem\",\n    value: function canAddItem(formItems) {\n      var _this$props3 = this.props,\n          schema = _this$props3.schema,\n          uiSchema = _this$props3.uiSchema;\n\n      var _getUiOptions = getUiOptions(uiSchema),\n          addable = _getUiOptions.addable;\n\n      if (addable !== false) {\n        // if ui:options.addable was not explicitly set to false, we can add\n        // another item if we have not exceeded maxItems yet\n        if (schema.maxItems !== undefined) {\n          addable = formItems.length < schema.maxItems;\n        } else {\n          addable = true;\n        }\n      }\n\n      return addable;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          schema = _this$props4.schema,\n          uiSchema = _this$props4.uiSchema,\n          idSchema = _this$props4.idSchema,\n          _this$props4$registry = _this$props4.registry,\n          registry = _this$props4$registry === void 0 ? getDefaultRegistry() : _this$props4$registry;\n      var rootSchema = registry.rootSchema;\n\n      if (!schema.hasOwnProperty(\"items\")) {\n        var fields = registry.fields;\n        var UnsupportedField = fields.UnsupportedField;\n        return React.createElement(UnsupportedField, {\n          schema: schema,\n          idSchema: idSchema,\n          reason: \"Missing items definition\"\n        });\n      }\n\n      if (isFixedItems(schema)) {\n        return this.renderFixedArray();\n      }\n\n      if (isFilesArray(schema, uiSchema, rootSchema)) {\n        return this.renderFiles();\n      }\n\n      if (isMultiSelect(schema, rootSchema)) {\n        return this.renderMultiSelect();\n      }\n\n      return this.renderNormalArray();\n    }\n  }, {\n    key: \"renderNormalArray\",\n    value: function renderNormalArray() {\n      var _this2 = this;\n\n      var _this$props5 = this.props,\n          schema = _this$props5.schema,\n          uiSchema = _this$props5.uiSchema,\n          errorSchema = _this$props5.errorSchema,\n          idSchema = _this$props5.idSchema,\n          name = _this$props5.name,\n          required = _this$props5.required,\n          disabled = _this$props5.disabled,\n          readonly = _this$props5.readonly,\n          autofocus = _this$props5.autofocus,\n          _this$props5$registry = _this$props5.registry,\n          registry = _this$props5$registry === void 0 ? getDefaultRegistry() : _this$props5$registry,\n          onBlur = _this$props5.onBlur,\n          onFocus = _this$props5.onFocus,\n          idPrefix = _this$props5.idPrefix,\n          rawErrors = _this$props5.rawErrors;\n      var title = schema.title === undefined ? name : schema.title;\n      var ArrayFieldTemplate = registry.ArrayFieldTemplate,\n          rootSchema = registry.rootSchema,\n          fields = registry.fields,\n          formContext = registry.formContext;\n      var TitleField = fields.TitleField,\n          DescriptionField = fields.DescriptionField;\n      var itemsSchema = retrieveSchema(schema.items, rootSchema);\n      var formData = keyedToPlainFormData(this.state.keyedFormData);\n      var arrayProps = {\n        canAdd: this.canAddItem(formData),\n        items: this.state.keyedFormData.map(function (keyedItem, index) {\n          var key = keyedItem.key,\n              item = keyedItem.item;\n          var itemSchema = retrieveSchema(schema.items, rootSchema, item);\n          var itemErrorSchema = errorSchema ? errorSchema[index] : undefined;\n          var itemIdPrefix = idSchema.$id + \"_\" + index;\n          var itemIdSchema = toIdSchema(itemSchema, itemIdPrefix, rootSchema, item, idPrefix);\n          return _this2.renderArrayFieldItem({\n            key: key,\n            index: index,\n            canMoveUp: index > 0,\n            canMoveDown: index < formData.length - 1,\n            itemSchema: itemSchema,\n            itemIdSchema: itemIdSchema,\n            itemErrorSchema: itemErrorSchema,\n            itemData: item,\n            itemUiSchema: uiSchema.items,\n            autofocus: autofocus && index === 0,\n            onBlur: onBlur,\n            onFocus: onFocus\n          });\n        }),\n        className: \"field field-array field-array-of-\".concat(itemsSchema.type),\n        DescriptionField: DescriptionField,\n        disabled: disabled,\n        idSchema: idSchema,\n        uiSchema: uiSchema,\n        onAddClick: this.onAddClick,\n        readonly: readonly,\n        required: required,\n        schema: schema,\n        title: title,\n        TitleField: TitleField,\n        formContext: formContext,\n        formData: formData,\n        rawErrors: rawErrors,\n        registry: registry\n      }; // Check if a custom render function was passed in\n\n      var Component = uiSchema[\"ui:ArrayFieldTemplate\"] || ArrayFieldTemplate || DefaultNormalArrayFieldTemplate;\n      return React.createElement(Component, arrayProps);\n    }\n  }, {\n    key: \"renderMultiSelect\",\n    value: function renderMultiSelect() {\n      var _this$props6 = this.props,\n          schema = _this$props6.schema,\n          idSchema = _this$props6.idSchema,\n          uiSchema = _this$props6.uiSchema,\n          formData = _this$props6.formData,\n          disabled = _this$props6.disabled,\n          readonly = _this$props6.readonly,\n          required = _this$props6.required,\n          placeholder = _this$props6.placeholder,\n          autofocus = _this$props6.autofocus,\n          onBlur = _this$props6.onBlur,\n          onFocus = _this$props6.onFocus,\n          _this$props6$registry = _this$props6.registry,\n          registry = _this$props6$registry === void 0 ? getDefaultRegistry() : _this$props6$registry,\n          rawErrors = _this$props6.rawErrors,\n          name = _this$props6.name;\n      var items = this.props.formData;\n      var widgets = registry.widgets,\n          rootSchema = registry.rootSchema,\n          formContext = registry.formContext;\n      var itemsSchema = retrieveSchema(schema.items, rootSchema, formData);\n      var title = schema.title || name;\n      var enumOptions = optionsList(itemsSchema);\n\n      var _getUiOptions$enumOpt = _objectSpread({}, getUiOptions(uiSchema), {\n        enumOptions: enumOptions\n      }),\n          _getUiOptions$enumOpt2 = _getUiOptions$enumOpt.widget,\n          widget = _getUiOptions$enumOpt2 === void 0 ? \"select\" : _getUiOptions$enumOpt2,\n          options = _objectWithoutProperties(_getUiOptions$enumOpt, [\"widget\"]);\n\n      var Widget = getWidget(schema, widget, widgets);\n      return React.createElement(Widget, {\n        id: idSchema && idSchema.$id,\n        multiple: true,\n        onChange: this.onSelectChange,\n        onBlur: onBlur,\n        onFocus: onFocus,\n        options: options,\n        schema: schema,\n        registry: registry,\n        value: items,\n        disabled: disabled,\n        readonly: readonly,\n        required: required,\n        label: title,\n        placeholder: placeholder,\n        formContext: formContext,\n        autofocus: autofocus,\n        rawErrors: rawErrors\n      });\n    }\n  }, {\n    key: \"renderFiles\",\n    value: function renderFiles() {\n      var _this$props7 = this.props,\n          schema = _this$props7.schema,\n          uiSchema = _this$props7.uiSchema,\n          idSchema = _this$props7.idSchema,\n          name = _this$props7.name,\n          disabled = _this$props7.disabled,\n          readonly = _this$props7.readonly,\n          autofocus = _this$props7.autofocus,\n          onBlur = _this$props7.onBlur,\n          onFocus = _this$props7.onFocus,\n          _this$props7$registry = _this$props7.registry,\n          registry = _this$props7$registry === void 0 ? getDefaultRegistry() : _this$props7$registry,\n          rawErrors = _this$props7.rawErrors;\n      var title = schema.title || name;\n      var items = this.props.formData;\n      var widgets = registry.widgets,\n          formContext = registry.formContext;\n\n      var _getUiOptions2 = getUiOptions(uiSchema),\n          _getUiOptions2$widget = _getUiOptions2.widget,\n          widget = _getUiOptions2$widget === void 0 ? \"files\" : _getUiOptions2$widget,\n          options = _objectWithoutProperties(_getUiOptions2, [\"widget\"]);\n\n      var Widget = getWidget(schema, widget, widgets);\n      return React.createElement(Widget, {\n        options: options,\n        id: idSchema && idSchema.$id,\n        multiple: true,\n        onChange: this.onSelectChange,\n        onBlur: onBlur,\n        onFocus: onFocus,\n        schema: schema,\n        title: title,\n        value: items,\n        disabled: disabled,\n        readonly: readonly,\n        formContext: formContext,\n        autofocus: autofocus,\n        rawErrors: rawErrors\n      });\n    }\n  }, {\n    key: \"renderFixedArray\",\n    value: function renderFixedArray() {\n      var _this3 = this;\n\n      var _this$props8 = this.props,\n          schema = _this$props8.schema,\n          uiSchema = _this$props8.uiSchema,\n          formData = _this$props8.formData,\n          errorSchema = _this$props8.errorSchema,\n          idPrefix = _this$props8.idPrefix,\n          idSchema = _this$props8.idSchema,\n          name = _this$props8.name,\n          required = _this$props8.required,\n          disabled = _this$props8.disabled,\n          readonly = _this$props8.readonly,\n          autofocus = _this$props8.autofocus,\n          _this$props8$registry = _this$props8.registry,\n          registry = _this$props8$registry === void 0 ? getDefaultRegistry() : _this$props8$registry,\n          onBlur = _this$props8.onBlur,\n          onFocus = _this$props8.onFocus,\n          rawErrors = _this$props8.rawErrors;\n      var title = schema.title || name;\n      var items = this.props.formData;\n      var ArrayFieldTemplate = registry.ArrayFieldTemplate,\n          rootSchema = registry.rootSchema,\n          fields = registry.fields,\n          formContext = registry.formContext;\n      var TitleField = fields.TitleField;\n      var itemSchemas = schema.items.map(function (item, index) {\n        return retrieveSchema(item, rootSchema, formData[index]);\n      });\n      var additionalSchema = allowAdditionalItems(schema) ? retrieveSchema(schema.additionalItems, rootSchema, formData) : null;\n\n      if (!items || items.length < itemSchemas.length) {\n        // to make sure at least all fixed items are generated\n        items = items || [];\n        items = items.concat(new Array(itemSchemas.length - items.length));\n      } // These are the props passed into the render function\n\n\n      var arrayProps = {\n        canAdd: this.canAddItem(items) && additionalSchema,\n        className: \"field field-array field-array-fixed-items\",\n        disabled: disabled,\n        idSchema: idSchema,\n        formData: formData,\n        items: this.state.keyedFormData.map(function (keyedItem, index) {\n          var key = keyedItem.key,\n              item = keyedItem.item;\n          var additional = index >= itemSchemas.length;\n          var itemSchema = additional ? retrieveSchema(schema.additionalItems, rootSchema, item) : itemSchemas[index];\n          var itemIdPrefix = idSchema.$id + \"_\" + index;\n          var itemIdSchema = toIdSchema(itemSchema, itemIdPrefix, rootSchema, item, idPrefix);\n          var itemUiSchema = additional ? uiSchema.additionalItems || {} : Array.isArray(uiSchema.items) ? uiSchema.items[index] : uiSchema.items || {};\n          var itemErrorSchema = errorSchema ? errorSchema[index] : undefined;\n          return _this3.renderArrayFieldItem({\n            key: key,\n            index: index,\n            canRemove: additional,\n            canMoveUp: index >= itemSchemas.length + 1,\n            canMoveDown: additional && index < items.length - 1,\n            itemSchema: itemSchema,\n            itemData: item,\n            itemUiSchema: itemUiSchema,\n            itemIdSchema: itemIdSchema,\n            itemErrorSchema: itemErrorSchema,\n            autofocus: autofocus && index === 0,\n            onBlur: onBlur,\n            onFocus: onFocus\n          });\n        }),\n        onAddClick: this.onAddClick,\n        readonly: readonly,\n        required: required,\n        schema: schema,\n        uiSchema: uiSchema,\n        title: title,\n        TitleField: TitleField,\n        formContext: formContext,\n        rawErrors: rawErrors\n      }; // Check if a custom template template was passed in\n\n      var Template = uiSchema[\"ui:ArrayFieldTemplate\"] || ArrayFieldTemplate || DefaultFixedArrayFieldTemplate;\n      return React.createElement(Template, arrayProps);\n    }\n  }, {\n    key: \"renderArrayFieldItem\",\n    value: function renderArrayFieldItem(props) {\n      var key = props.key,\n          index = props.index,\n          _props$canRemove = props.canRemove,\n          canRemove = _props$canRemove === void 0 ? true : _props$canRemove,\n          _props$canMoveUp = props.canMoveUp,\n          canMoveUp = _props$canMoveUp === void 0 ? true : _props$canMoveUp,\n          _props$canMoveDown = props.canMoveDown,\n          canMoveDown = _props$canMoveDown === void 0 ? true : _props$canMoveDown,\n          itemSchema = props.itemSchema,\n          itemData = props.itemData,\n          itemUiSchema = props.itemUiSchema,\n          itemIdSchema = props.itemIdSchema,\n          itemErrorSchema = props.itemErrorSchema,\n          autofocus = props.autofocus,\n          onBlur = props.onBlur,\n          onFocus = props.onFocus,\n          rawErrors = props.rawErrors;\n      var _this$props9 = this.props,\n          disabled = _this$props9.disabled,\n          readonly = _this$props9.readonly,\n          uiSchema = _this$props9.uiSchema,\n          _this$props9$registry = _this$props9.registry,\n          registry = _this$props9$registry === void 0 ? getDefaultRegistry() : _this$props9$registry;\n      var SchemaField = registry.fields.SchemaField;\n\n      var _orderable$removable$ = _objectSpread({\n        orderable: true,\n        removable: true\n      }, uiSchema[\"ui:options\"]),\n          orderable = _orderable$removable$.orderable,\n          removable = _orderable$removable$.removable;\n\n      var has = {\n        moveUp: orderable && canMoveUp,\n        moveDown: orderable && canMoveDown,\n        remove: removable && canRemove\n      };\n      has.toolbar = Object.keys(has).some(function (key) {\n        return has[key];\n      });\n      return {\n        children: React.createElement(SchemaField, {\n          index: index,\n          schema: itemSchema,\n          uiSchema: itemUiSchema,\n          formData: itemData,\n          errorSchema: itemErrorSchema,\n          idSchema: itemIdSchema,\n          required: this.isItemRequired(itemSchema),\n          onChange: this.onChangeForIndex(index),\n          onBlur: onBlur,\n          onFocus: onFocus,\n          registry: this.props.registry,\n          disabled: this.props.disabled,\n          readonly: this.props.readonly,\n          autofocus: autofocus,\n          rawErrors: rawErrors\n        }),\n        className: \"array-item\",\n        disabled: disabled,\n        hasToolbar: has.toolbar,\n        hasMoveUp: has.moveUp,\n        hasMoveDown: has.moveDown,\n        hasRemove: has.remove,\n        index: index,\n        key: key,\n        onAddIndexClick: this.onAddIndexClick,\n        onDropIndexClick: this.onDropIndexClick,\n        onReorderClick: this.onReorderClick,\n        readonly: readonly\n      };\n    }\n  }, {\n    key: \"itemTitle\",\n    get: function get() {\n      var schema = this.props.schema;\n      return schema.items.title || schema.items.description || \"Item\";\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      // Don't call getDerivedStateFromProps if keyed formdata was just updated.\n      if (prevState.updatedKeyedFormData) {\n        return {\n          updatedKeyedFormData: false\n        };\n      }\n\n      var nextFormData = nextProps.formData || [];\n      var previousKeyedFormData = prevState.keyedFormData || [];\n      var newKeyedFormData = nextFormData.length === previousKeyedFormData.length ? previousKeyedFormData.map(function (previousKeyedFormDatum, index) {\n        return {\n          key: previousKeyedFormDatum.key,\n          item: nextFormData[index]\n        };\n      }) : generateKeyedFormData(nextFormData);\n      return {\n        keyedFormData: newKeyedFormData\n      };\n    }\n  }]);\n\n  return ArrayField;\n}(Component);\n\n_defineProperty(ArrayField, \"defaultProps\", {\n  uiSchema: {},\n  formData: [],\n  idSchema: {},\n  required: false,\n  disabled: false,\n  readonly: false,\n  autofocus: false\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  ArrayField.propTypes = types.fieldProps;\n}\n\nexport default ArrayField;","function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\nimport * as types from \"../../types\";\nimport { getWidget, getUiOptions, optionsList, getDefaultRegistry } from \"../../utils\";\n\nfunction BooleanField(props) {\n  var schema = props.schema,\n      name = props.name,\n      uiSchema = props.uiSchema,\n      idSchema = props.idSchema,\n      formData = props.formData,\n      _props$registry = props.registry,\n      registry = _props$registry === void 0 ? getDefaultRegistry() : _props$registry,\n      required = props.required,\n      disabled = props.disabled,\n      readonly = props.readonly,\n      autofocus = props.autofocus,\n      onChange = props.onChange,\n      onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      rawErrors = props.rawErrors;\n  var title = schema.title;\n  var widgets = registry.widgets,\n      formContext = registry.formContext,\n      fields = registry.fields;\n\n  var _getUiOptions = getUiOptions(uiSchema),\n      _getUiOptions$widget = _getUiOptions.widget,\n      widget = _getUiOptions$widget === void 0 ? \"checkbox\" : _getUiOptions$widget,\n      options = _objectWithoutProperties(_getUiOptions, [\"widget\"]);\n\n  var Widget = getWidget(schema, widget, widgets);\n  var enumOptions;\n\n  if (Array.isArray(schema.oneOf)) {\n    enumOptions = optionsList({\n      oneOf: schema.oneOf.map(function (option) {\n        return _objectSpread({}, option, {\n          title: option.title || (option[\"const\"] === true ? \"Yes\" : \"No\")\n        });\n      })\n    });\n  } else {\n    enumOptions = optionsList({\n      \"enum\": schema[\"enum\"] || [true, false],\n      enumNames: schema.enumNames || (schema[\"enum\"] && schema[\"enum\"][0] === false ? [\"No\", \"Yes\"] : [\"Yes\", \"No\"])\n    });\n  }\n\n  return React.createElement(Widget, {\n    options: _objectSpread({}, options, {\n      enumOptions: enumOptions\n    }),\n    schema: schema,\n    id: idSchema && idSchema.$id,\n    onChange: onChange,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    label: title === undefined ? name : title,\n    value: formData,\n    required: required,\n    disabled: disabled,\n    readonly: readonly,\n    registry: registry,\n    formContext: formContext,\n    autofocus: autofocus,\n    rawErrors: rawErrors,\n    DescriptionField: fields.DescriptionField\n  });\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  BooleanField.propTypes = types.fieldProps;\n}\n\nBooleanField.defaultProps = {\n  uiSchema: {},\n  disabled: false,\n  readonly: false,\n  autofocus: false\n};\nexport default BooleanField;","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction DescriptionField(props) {\n  var id = props.id,\n      description = props.description;\n\n  if (!description) {\n    return null;\n  }\n\n  if (typeof description === \"string\") {\n    return React.createElement(\"p\", {\n      id: id,\n      className: \"field-description\"\n    }, description);\n  } else {\n    return React.createElement(\"div\", {\n      id: id,\n      className: \"field-description\"\n    }, description);\n  }\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  DescriptionField.propTypes = {\n    id: PropTypes.string,\n    description: PropTypes.oneOfType([PropTypes.string, PropTypes.element])\n  };\n}\n\nexport default DescriptionField;","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport * as types from \"../../types\";\nimport { getUiOptions, getWidget, guessType, retrieveSchema, getDefaultFormState, getMatchingOption as _getMatchingOption, deepEquals } from \"../../utils\";\n\nvar AnyOfField =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AnyOfField, _Component);\n\n  function AnyOfField(props) {\n    var _this;\n\n    _classCallCheck(this, AnyOfField);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AnyOfField).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"onOptionChange\", function (option) {\n      var selectedOption = parseInt(option, 10);\n      var _this$props = _this.props,\n          formData = _this$props.formData,\n          onChange = _this$props.onChange,\n          options = _this$props.options,\n          registry = _this$props.registry;\n      var rootSchema = registry.rootSchema;\n      var newOption = retrieveSchema(options[selectedOption], rootSchema, formData); // If the new option is of type object and the current data is an object,\n      // discard properties added using the old option.\n\n      var newFormData = undefined;\n\n      if (guessType(formData) === \"object\" && (newOption.type === \"object\" || newOption.properties)) {\n        newFormData = Object.assign({}, formData);\n        var optionsToDiscard = options.slice();\n        optionsToDiscard.splice(selectedOption, 1); // Discard any data added using other options\n\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = optionsToDiscard[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var _option = _step.value;\n\n            if (_option.properties) {\n              for (var key in _option.properties) {\n                if (newFormData.hasOwnProperty(key)) {\n                  delete newFormData[key];\n                }\n              }\n            }\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n              _iterator[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      } // Call getDefaultFormState to make sure defaults are populated on change.\n\n\n      onChange(getDefaultFormState(options[selectedOption], newFormData, rootSchema));\n\n      _this.setState({\n        selectedOption: parseInt(option, 10)\n      });\n    });\n\n    var _this$props2 = _this.props,\n        _formData = _this$props2.formData,\n        _options = _this$props2.options;\n    _this.state = {\n      selectedOption: _this.getMatchingOption(_formData, _options)\n    };\n    return _this;\n  }\n\n  _createClass(AnyOfField, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (!deepEquals(this.props.formData, prevProps.formData) && this.props.idSchema.$id === prevProps.idSchema.$id) {\n        var matchingOption = this.getMatchingOption(this.props.formData, this.props.options);\n\n        if (!prevState || matchingOption === this.state.selectedOption) {\n          return;\n        }\n\n        this.setState({\n          selectedOption: matchingOption\n        });\n      }\n    }\n  }, {\n    key: \"getMatchingOption\",\n    value: function getMatchingOption(formData, options) {\n      var rootSchema = this.props.registry.rootSchema;\n\n      var option = _getMatchingOption(formData, options, rootSchema);\n\n      if (option !== 0) {\n        return option;\n      } // If the form data matches none of the options, use the currently selected\n      // option, assuming it's available; otherwise use the first option\n\n\n      return this && this.state ? this.state.selectedOption : 0;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          baseType = _this$props3.baseType,\n          disabled = _this$props3.disabled,\n          errorSchema = _this$props3.errorSchema,\n          formData = _this$props3.formData,\n          idPrefix = _this$props3.idPrefix,\n          idSchema = _this$props3.idSchema,\n          onBlur = _this$props3.onBlur,\n          onChange = _this$props3.onChange,\n          onFocus = _this$props3.onFocus,\n          options = _this$props3.options,\n          registry = _this$props3.registry,\n          uiSchema = _this$props3.uiSchema,\n          schema = _this$props3.schema;\n      var _SchemaField = registry.fields.SchemaField;\n      var widgets = registry.widgets;\n      var selectedOption = this.state.selectedOption;\n\n      var _getUiOptions = getUiOptions(uiSchema),\n          _getUiOptions$widget = _getUiOptions.widget,\n          widget = _getUiOptions$widget === void 0 ? \"select\" : _getUiOptions$widget,\n          uiOptions = _objectWithoutProperties(_getUiOptions, [\"widget\"]);\n\n      var Widget = getWidget({\n        type: \"number\"\n      }, widget, widgets);\n      var option = options[selectedOption] || null;\n      var optionSchema;\n\n      if (option) {\n        // If the subschema doesn't declare a type, infer the type from the\n        // parent schema\n        optionSchema = option.type ? option : Object.assign({}, option, {\n          type: baseType\n        });\n      }\n\n      var enumOptions = options.map(function (option, index) {\n        return {\n          label: option.title || \"Option \".concat(index + 1),\n          value: index\n        };\n      });\n      return React.createElement(\"div\", {\n        className: \"panel panel-default panel-body\"\n      }, React.createElement(\"div\", {\n        className: \"form-group\"\n      }, React.createElement(Widget, _extends({\n        id: \"\".concat(idSchema.$id).concat(schema.oneOf ? \"__oneof_select\" : \"__anyof_select\"),\n        schema: {\n          type: \"number\",\n          \"default\": 0\n        },\n        onChange: this.onOptionChange,\n        onBlur: onBlur,\n        onFocus: onFocus,\n        value: selectedOption,\n        options: {\n          enumOptions: enumOptions\n        }\n      }, uiOptions))), option !== null && React.createElement(_SchemaField, {\n        schema: optionSchema,\n        uiSchema: uiSchema,\n        errorSchema: errorSchema,\n        idSchema: idSchema,\n        idPrefix: idPrefix,\n        formData: formData,\n        onChange: onChange,\n        onBlur: onBlur,\n        onFocus: onFocus,\n        registry: registry,\n        disabled: disabled\n      }));\n    }\n  }]);\n\n  return AnyOfField;\n}(Component);\n\nAnyOfField.defaultProps = {\n  disabled: false,\n  errorSchema: {},\n  idSchema: {},\n  uiSchema: {}\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  AnyOfField.propTypes = {\n    options: PropTypes.arrayOf(PropTypes.object).isRequired,\n    baseType: PropTypes.string,\n    uiSchema: PropTypes.object,\n    idSchema: PropTypes.object,\n    formData: PropTypes.any,\n    errorSchema: PropTypes.object,\n    registry: types.registry.isRequired\n  };\n}\n\nexport default AnyOfField;","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from \"react\";\nimport * as types from \"../../types\";\nimport { asNumber } from \"../../utils\"; // Matches a string that ends in a . character, optionally followed by a sequence of\n// digits followed by any number of 0 characters up until the end of the line.\n// Ensuring that there is at least one prefixed character is important so that\n// you don't incorrectly match against \"0\".\n\nvar trailingCharMatcherWithPrefix = /\\.([0-9]*0)*$/; // This is used for trimming the trailing 0 and . characters without affecting\n// the rest of the string. Its possible to use one RegEx with groups for this\n// functionality, but it is fairly complex compared to simply defining two\n// different matchers.\n\nvar trailingCharMatcher = /[0.]0*$/;\n/**\n * The NumberField class has some special handling for dealing with trailing\n * decimal points and/or zeroes. This logic is designed to allow trailing values\n * to be visible in the input element, but not be represented in the\n * corresponding form data.\n *\n * The algorithm is as follows:\n *\n * 1. When the input value changes the value is cached in the component state\n *\n * 2. The value is then normalized, removing trailing decimal points and zeros,\n *    then passed to the \"onChange\" callback\n *\n * 3. When the component is rendered, the formData value is checked against the\n *    value cached in the state. If it matches the cached value, the cached\n *    value is passed to the input instead of the formData value\n */\n\nvar NumberField =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(NumberField, _React$Component);\n\n  function NumberField(props) {\n    var _this;\n\n    _classCallCheck(this, NumberField);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NumberField).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (value) {\n      // Cache the original value in component state\n      _this.setState({\n        lastValue: value\n      }); // Normalize decimals that don't start with a zero character in advance so\n      // that the rest of the normalization logic is simpler\n\n\n      if (\"\".concat(value).charAt(0) === \".\") {\n        value = \"0\".concat(value);\n      } // Check that the value is a string (this can happen if the widget used is a\n      // <select>, due to an enum declaration etc) then, if the value ends in a\n      // trailing decimal point or multiple zeroes, strip the trailing values\n\n\n      var processed = typeof value === \"string\" && value.match(trailingCharMatcherWithPrefix) ? asNumber(value.replace(trailingCharMatcher, \"\")) : asNumber(value);\n\n      _this.props.onChange(processed);\n    });\n\n    _this.state = {\n      lastValue: props.value\n    };\n    return _this;\n  }\n\n  _createClass(NumberField, [{\n    key: \"render\",\n    value: function render() {\n      var StringField = this.props.registry.fields.StringField;\n\n      var _this$props = this.props,\n          formData = _this$props.formData,\n          props = _objectWithoutProperties(_this$props, [\"formData\"]);\n\n      var lastValue = this.state.lastValue;\n      var value = formData;\n\n      if (typeof lastValue === \"string\" && typeof value === \"number\") {\n        // Construct a regular expression that checks for a string that consists\n        // of the formData value suffixed with zero or one '.' characters and zero\n        // or more '0' characters\n        var re = new RegExp(\"\".concat(value).replace(\".\", \"\\\\.\") + \"\\\\.?0*$\"); // If the cached \"lastValue\" is a match, use that instead of the formData\n        // value to prevent the input value from changing in the UI\n\n        if (lastValue.match(re)) {\n          value = lastValue;\n        }\n      }\n\n      return React.createElement(StringField, _extends({}, props, {\n        formData: value,\n        onChange: this.handleChange\n      }));\n    }\n  }]);\n\n  return NumberField;\n}(React.Component);\n\nif (process.env.NODE_ENV !== \"production\") {\n  NumberField.propTypes = types.fieldProps;\n}\n\nNumberField.defaultProps = {\n  uiSchema: {}\n};\nexport default NumberField;","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport AddButton from \"../AddButton\";\nimport React, { Component } from \"react\";\nimport * as types from \"../../types\";\nimport { orderProperties, retrieveSchema, getDefaultRegistry, canExpand, ADDITIONAL_PROPERTY_FLAG } from \"../../utils\";\n\nfunction DefaultObjectFieldTemplate(props) {\n  var TitleField = props.TitleField,\n      DescriptionField = props.DescriptionField;\n  return React.createElement(\"fieldset\", {\n    id: props.idSchema.$id\n  }, (props.uiSchema[\"ui:title\"] || props.title) && React.createElement(TitleField, {\n    id: \"\".concat(props.idSchema.$id, \"__title\"),\n    title: props.title || props.uiSchema[\"ui:title\"],\n    required: props.required,\n    formContext: props.formContext\n  }), props.description && React.createElement(DescriptionField, {\n    id: \"\".concat(props.idSchema.$id, \"__description\"),\n    description: props.description,\n    formContext: props.formContext\n  }), props.properties.map(function (prop) {\n    return prop.content;\n  }), canExpand(props.schema, props.uiSchema, props.formData) && React.createElement(AddButton, {\n    className: \"object-property-expand\",\n    onClick: props.onAddClick(props.schema),\n    disabled: props.disabled || props.readonly\n  }));\n}\n\nvar ObjectField =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ObjectField, _Component);\n\n  function ObjectField() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ObjectField);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ObjectField)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      wasPropertyKeyModified: false,\n      additionalProperties: {}\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPropertyChange\", function (name) {\n      var addedByAdditionalProperties = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      return function (value, errorSchema) {\n        if (!value && addedByAdditionalProperties) {\n          // Don't set value = undefined for fields added by\n          // additionalProperties. Doing so removes them from the\n          // formData, which causes them to completely disappear\n          // (including the input field for the property name). Unlike\n          // fields which are \"mandated\" by the schema, these fields can\n          // be set to undefined by clicking a \"delete field\" button, so\n          // set empty values to the empty string.\n          value = \"\";\n        }\n\n        var newFormData = _objectSpread({}, _this.props.formData, _defineProperty({}, name, value));\n\n        _this.props.onChange(newFormData, errorSchema && _this.props.errorSchema && _objectSpread({}, _this.props.errorSchema, _defineProperty({}, name, errorSchema)));\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDropPropertyClick\", function (key) {\n      return function (event) {\n        event.preventDefault();\n        var _this$props = _this.props,\n            onChange = _this$props.onChange,\n            formData = _this$props.formData;\n\n        var copiedFormData = _objectSpread({}, formData);\n\n        delete copiedFormData[key];\n        onChange(copiedFormData);\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getAvailableKey\", function (preferredKey, formData) {\n      var separator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"-\";\n      var index = 0;\n      var newKey = preferredKey;\n\n      while (formData.hasOwnProperty(newKey)) {\n        newKey = \"\".concat(preferredKey).concat(separator).concat(++index);\n      }\n\n      return newKey;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeyChange\", function (oldValue) {\n      return function (value, errorSchema) {\n        if (oldValue === value) {\n          return;\n        }\n\n        value = _this.getAvailableKey(value, _this.props.formData, _this.props.uiSchema[\"ui:DuplicateKeySuffixSeparator\"]);\n\n        var newFormData = _objectSpread({}, _this.props.formData);\n\n        var newKeys = _defineProperty({}, oldValue, value);\n\n        var keyValues = Object.keys(newFormData).map(function (key) {\n          var newKey = newKeys[key] || key;\n          return _defineProperty({}, newKey, newFormData[key]);\n        });\n        var renamedObj = Object.assign.apply(Object, [{}].concat(_toConsumableArray(keyValues)));\n\n        _this.setState({\n          wasPropertyKeyModified: true\n        });\n\n        _this.props.onChange(renamedObj, errorSchema && _this.props.errorSchema && _objectSpread({}, _this.props.errorSchema, _defineProperty({}, value, errorSchema)));\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleAddClick\", function (schema) {\n      return function () {\n        var type = schema.additionalProperties.type;\n\n        var newFormData = _objectSpread({}, _this.props.formData);\n\n        if (schema.additionalProperties.hasOwnProperty(\"$ref\")) {\n          var _this$props$registry = _this.props.registry,\n              registry = _this$props$registry === void 0 ? getDefaultRegistry() : _this$props$registry;\n          var refSchema = retrieveSchema({\n            $ref: schema.additionalProperties[\"$ref\"]\n          }, registry.rootSchema, _this.props.formData);\n          type = refSchema.type;\n        }\n\n        newFormData[_this.getAvailableKey(\"newKey\", newFormData, _this.props.uiSchema[\"ui:DuplicateKeySuffixSeparator\"])] = _this.getDefaultValue(type);\n\n        _this.props.onChange(newFormData);\n      };\n    });\n\n    return _this;\n  }\n\n  _createClass(ObjectField, [{\n    key: \"isRequired\",\n    value: function isRequired(name) {\n      var schema = this.props.schema;\n      return Array.isArray(schema.required) && schema.required.indexOf(name) !== -1;\n    }\n  }, {\n    key: \"getDefaultValue\",\n    value: function getDefaultValue(type) {\n      switch (type) {\n        case \"string\":\n          return \"New Value\";\n\n        case \"array\":\n          return [];\n\n        case \"boolean\":\n          return false;\n\n        case \"null\":\n          return null;\n\n        case \"number\":\n          return 0;\n\n        case \"object\":\n          return {};\n\n        default:\n          // We don't have a datatype for some reason (perhaps additionalProperties was true)\n          return \"New Value\";\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          uiSchema = _this$props2.uiSchema,\n          formData = _this$props2.formData,\n          errorSchema = _this$props2.errorSchema,\n          idSchema = _this$props2.idSchema,\n          name = _this$props2.name,\n          required = _this$props2.required,\n          disabled = _this$props2.disabled,\n          readonly = _this$props2.readonly,\n          idPrefix = _this$props2.idPrefix,\n          onBlur = _this$props2.onBlur,\n          onFocus = _this$props2.onFocus,\n          _this$props2$registry = _this$props2.registry,\n          registry = _this$props2$registry === void 0 ? getDefaultRegistry() : _this$props2$registry;\n      var rootSchema = registry.rootSchema,\n          fields = registry.fields,\n          formContext = registry.formContext;\n      var SchemaField = fields.SchemaField,\n          TitleField = fields.TitleField,\n          DescriptionField = fields.DescriptionField;\n      var schema = retrieveSchema(this.props.schema, rootSchema, formData);\n      var title = schema.title === undefined ? name : schema.title;\n      var description = uiSchema[\"ui:description\"] || schema.description;\n      var orderedProperties;\n\n      try {\n        var properties = Object.keys(schema.properties || {}); // Order properties so additional properties are always last\n        // There may be an issue that our conditional logic is causing that this fixes, so this may need to be rolled back\n        // const properties = [\n        //   ...Object.keys(schema.properties || {}).filter(\n        //     key => !schema.properties[key][ADDITIONAL_PROPERTY_FLAG]\n        //   ),\n        //   ...Object.keys(schema.properties || {}).filter(\n        //     key => schema.properties[key][ADDITIONAL_PROPERTY_FLAG]\n        //   ),\n        // ];\n\n        orderedProperties = orderProperties(properties, uiSchema[\"ui:order\"]);\n      } catch (err) {\n        return React.createElement(\"div\", null, React.createElement(\"p\", {\n          className: \"config-error\",\n          style: {\n            color: \"red\"\n          }\n        }, \"Invalid \", name || \"root\", \" object field configuration:\", React.createElement(\"em\", null, err.message), \".\"), React.createElement(\"pre\", null, JSON.stringify(schema)));\n      }\n\n      var Template = uiSchema[\"ui:ObjectFieldTemplate\"] || registry.ObjectFieldTemplate || DefaultObjectFieldTemplate;\n      var templateProps = {\n        title: uiSchema[\"ui:title\"] || title,\n        description: description,\n        TitleField: TitleField,\n        DescriptionField: DescriptionField,\n        properties: orderedProperties.map(function (name) {\n          var addedByAdditionalProperties = schema.properties[name].hasOwnProperty(ADDITIONAL_PROPERTY_FLAG);\n          var fieldUiSchema = addedByAdditionalProperties ? uiSchema.additionalProperties : uiSchema[name];\n          var hidden = fieldUiSchema && fieldUiSchema[\"ui:widget\"] === \"hidden\";\n          return {\n            content: React.createElement(SchemaField, {\n              key: name,\n              name: name,\n              required: _this2.isRequired(name),\n              schema: schema.properties[name],\n              uiSchema: fieldUiSchema,\n              errorSchema: errorSchema[name],\n              idSchema: idSchema[name],\n              idPrefix: idPrefix,\n              formData: (formData || {})[name],\n              wasPropertyKeyModified: _this2.state.wasPropertyKeyModified,\n              onKeyChange: _this2.onKeyChange(name),\n              onChange: _this2.onPropertyChange(name, addedByAdditionalProperties),\n              onBlur: onBlur,\n              onFocus: onFocus,\n              registry: registry,\n              disabled: disabled,\n              readonly: readonly,\n              onDropPropertyClick: _this2.onDropPropertyClick\n            }),\n            name: name,\n            readonly: readonly,\n            disabled: disabled,\n            required: required,\n            hidden: hidden\n          };\n        }),\n        readonly: readonly,\n        disabled: disabled,\n        required: required,\n        idSchema: idSchema,\n        uiSchema: uiSchema,\n        schema: schema,\n        formData: formData,\n        formContext: formContext,\n        registry: registry\n      };\n      return React.createElement(Template, _extends({}, templateProps, {\n        onAddClick: this.handleAddClick\n      }));\n    }\n  }]);\n\n  return ObjectField;\n}(Component);\n\n_defineProperty(ObjectField, \"defaultProps\", {\n  uiSchema: {},\n  formData: {},\n  errorSchema: {},\n  idSchema: {},\n  required: false,\n  disabled: false,\n  readonly: false\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  ObjectField.propTypes = types.fieldProps;\n}\n\nexport default ObjectField;","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport IconButton from \"../IconButton\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport * as types from \"../../types\";\nimport { ADDITIONAL_PROPERTY_FLAG, isSelect, retrieveSchema, toIdSchema, getDefaultRegistry, mergeObjects, deepEquals, getSchemaType, getDisplayLabel } from \"../../utils\";\nvar REQUIRED_FIELD_SYMBOL = \"*\";\nvar COMPONENT_TYPES = {\n  array: \"ArrayField\",\n  \"boolean\": \"BooleanField\",\n  integer: \"NumberField\",\n  number: \"NumberField\",\n  object: \"ObjectField\",\n  string: \"StringField\",\n  \"null\": \"NullField\"\n};\n\nfunction getFieldComponent(schema, uiSchema, idSchema, fields) {\n  var field = uiSchema[\"ui:field\"];\n\n  if (typeof field === \"function\") {\n    return field;\n  }\n\n  if (typeof field === \"string\" && field in fields) {\n    return fields[field];\n  }\n\n  var componentName = COMPONENT_TYPES[getSchemaType(schema)]; // If the type is not defined and the schema uses 'anyOf' or 'oneOf', don't\n  // render a field and let the MultiSchemaField component handle the form display\n\n  if (!componentName && (schema.anyOf || schema.oneOf)) {\n    return function () {\n      return null;\n    };\n  }\n\n  return componentName in fields ? fields[componentName] : function () {\n    var UnsupportedField = fields.UnsupportedField;\n    return React.createElement(UnsupportedField, {\n      schema: schema,\n      idSchema: idSchema,\n      reason: \"Unknown field type \".concat(schema.type)\n    });\n  };\n}\n\nfunction Label(props) {\n  var label = props.label,\n      required = props.required,\n      id = props.id;\n\n  if (!label) {\n    return null;\n  }\n\n  return React.createElement(\"label\", {\n    className: \"control-label\",\n    htmlFor: id\n  }, label, required && React.createElement(\"span\", {\n    className: \"required\"\n  }, REQUIRED_FIELD_SYMBOL));\n}\n\nfunction LabelInput(props) {\n  var id = props.id,\n      label = props.label,\n      onChange = props.onChange;\n  return React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    id: id,\n    onBlur: function onBlur(event) {\n      return onChange(event.target.value);\n    },\n    defaultValue: label\n  });\n}\n\nfunction Help(props) {\n  var id = props.id,\n      help = props.help;\n\n  if (!help) {\n    return null;\n  }\n\n  if (typeof help === \"string\") {\n    return React.createElement(\"p\", {\n      id: id,\n      className: \"help-block\"\n    }, help);\n  }\n\n  return React.createElement(\"div\", {\n    id: id,\n    className: \"help-block\"\n  }, help);\n}\n\nfunction ErrorList(props) {\n  var _props$errors = props.errors,\n      errors = _props$errors === void 0 ? [] : _props$errors;\n\n  if (errors.length === 0) {\n    return null;\n  }\n\n  return React.createElement(\"div\", null, React.createElement(\"ul\", {\n    className: \"error-detail bs-callout bs-callout-info\"\n  }, errors.filter(function (elem) {\n    return !!elem;\n  }).map(function (error, index) {\n    return React.createElement(\"li\", {\n      className: \"text-danger\",\n      key: index\n    }, error);\n  })));\n}\n\nfunction DefaultTemplate(props) {\n  var id = props.id,\n      label = props.label,\n      children = props.children,\n      errors = props.errors,\n      help = props.help,\n      description = props.description,\n      hidden = props.hidden,\n      required = props.required,\n      displayLabel = props.displayLabel;\n\n  if (hidden) {\n    return React.createElement(\"div\", {\n      className: \"hidden\"\n    }, children);\n  }\n\n  return React.createElement(WrapIfAdditional, props, displayLabel && React.createElement(Label, {\n    label: label,\n    required: required,\n    id: id\n  }), displayLabel && description ? description : null, children, errors, help);\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  DefaultTemplate.propTypes = {\n    id: PropTypes.string,\n    classNames: PropTypes.string,\n    label: PropTypes.string,\n    children: PropTypes.node.isRequired,\n    errors: PropTypes.element,\n    rawErrors: PropTypes.arrayOf(PropTypes.string),\n    help: PropTypes.element,\n    rawHelp: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n    description: PropTypes.element,\n    rawDescription: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n    hidden: PropTypes.bool,\n    required: PropTypes.bool,\n    readonly: PropTypes.bool,\n    displayLabel: PropTypes.bool,\n    fields: PropTypes.object,\n    formContext: PropTypes.object\n  };\n}\n\nDefaultTemplate.defaultProps = {\n  hidden: false,\n  readonly: false,\n  required: false,\n  displayLabel: true\n};\n\nfunction WrapIfAdditional(props) {\n  var id = props.id,\n      classNames = props.classNames,\n      disabled = props.disabled,\n      label = props.label,\n      onKeyChange = props.onKeyChange,\n      onDropPropertyClick = props.onDropPropertyClick,\n      readonly = props.readonly,\n      required = props.required,\n      schema = props.schema;\n  var keyLabel = \"\".concat(label, \" Key\"); // i18n ?\n\n  var additional = schema.hasOwnProperty(ADDITIONAL_PROPERTY_FLAG);\n\n  if (!additional) {\n    return React.createElement(\"div\", {\n      className: classNames\n    }, props.children);\n  }\n\n  return React.createElement(\"div\", {\n    className: classNames\n  }, React.createElement(\"div\", {\n    className: \"row\"\n  }, React.createElement(\"div\", {\n    className: \"col-xs-5 form-additional\"\n  }, React.createElement(\"div\", {\n    className: \"form-group\"\n  }, React.createElement(Label, {\n    label: keyLabel,\n    required: required,\n    id: \"\".concat(id, \"-key\")\n  }), React.createElement(LabelInput, {\n    label: label,\n    required: required,\n    id: \"\".concat(id, \"-key\"),\n    onChange: onKeyChange\n  }))), React.createElement(\"div\", {\n    className: \"form-additional form-group col-xs-5\"\n  }, props.children), React.createElement(\"div\", {\n    className: \"col-xs-2\"\n  }, React.createElement(IconButton, {\n    type: \"danger\",\n    icon: \"remove\",\n    className: \"array-item-remove btn-block\",\n    tabIndex: \"-1\",\n    style: {\n      border: \"0\"\n    },\n    disabled: disabled || readonly,\n    onClick: onDropPropertyClick(label)\n  }))));\n}\n\nfunction SchemaFieldRender(props) {\n  var uiSchema = props.uiSchema,\n      formData = props.formData,\n      errorSchema = props.errorSchema,\n      idPrefix = props.idPrefix,\n      name = props.name,\n      onChange = props.onChange,\n      onKeyChange = props.onKeyChange,\n      onDropPropertyClick = props.onDropPropertyClick,\n      required = props.required,\n      _props$registry = props.registry,\n      registry = _props$registry === void 0 ? getDefaultRegistry() : _props$registry,\n      _props$wasPropertyKey = props.wasPropertyKeyModified,\n      wasPropertyKeyModified = _props$wasPropertyKey === void 0 ? false : _props$wasPropertyKey;\n  var rootSchema = registry.rootSchema,\n      fields = registry.fields,\n      formContext = registry.formContext;\n  var FieldTemplate = uiSchema[\"ui:FieldTemplate\"] || registry.FieldTemplate || DefaultTemplate;\n  var idSchema = props.idSchema;\n  var schema = retrieveSchema(props.schema, rootSchema, formData);\n  idSchema = mergeObjects(toIdSchema(schema, null, rootSchema, formData, idPrefix), idSchema);\n  var FieldComponent = getFieldComponent(schema, uiSchema, idSchema, fields);\n  var DescriptionField = fields.DescriptionField;\n  var disabled = Boolean(props.disabled || uiSchema[\"ui:disabled\"]);\n  var readonly = Boolean(props.readonly || uiSchema[\"ui:readonly\"] || props.schema.readOnly || schema.readOnly);\n  var autofocus = Boolean(props.autofocus || uiSchema[\"ui:autofocus\"]);\n\n  if (Object.keys(schema).length === 0) {\n    return null;\n  }\n\n  var displayLabel = getDisplayLabel(schema, uiSchema, rootSchema);\n\n  var __errors = errorSchema.__errors,\n      fieldErrorSchema = _objectWithoutProperties(errorSchema, [\"__errors\"]); // See #439: uiSchema: Don't pass consumed class names to child components\n\n\n  var field = React.createElement(FieldComponent, _extends({}, props, {\n    idSchema: idSchema,\n    schema: schema,\n    uiSchema: _objectSpread({}, uiSchema, {\n      classNames: undefined\n    }),\n    disabled: disabled,\n    readonly: readonly,\n    autofocus: autofocus,\n    errorSchema: fieldErrorSchema,\n    formContext: formContext,\n    rawErrors: __errors\n  }));\n  var id = idSchema.$id; // If this schema has a title defined, but the user has set a new key/label, retain their input.\n\n  var label;\n\n  if (wasPropertyKeyModified) {\n    label = name;\n  } else {\n    label = uiSchema[\"ui:title\"] || props.schema.title || schema.title || name;\n  }\n\n  var description = uiSchema[\"ui:description\"] || props.schema.description || schema.description;\n  var errors = __errors;\n  var help = uiSchema[\"ui:help\"];\n  var hidden = uiSchema[\"ui:widget\"] === \"hidden\";\n  var classNames = [\"form-group\", \"field\", \"field-\".concat(schema.type), errors && errors.length > 0 ? \"field-error has-error has-danger\" : \"\", uiSchema.classNames].join(\" \").trim();\n  var fieldProps = {\n    description: React.createElement(DescriptionField, {\n      id: id + \"__description\",\n      description: description,\n      formContext: formContext\n    }),\n    rawDescription: description,\n    help: React.createElement(Help, {\n      id: id + \"__help\",\n      help: help\n    }),\n    rawHelp: typeof help === \"string\" ? help : undefined,\n    errors: React.createElement(ErrorList, {\n      errors: errors\n    }),\n    rawErrors: errors,\n    id: id,\n    label: label,\n    hidden: hidden,\n    onChange: onChange,\n    onKeyChange: onKeyChange,\n    onDropPropertyClick: onDropPropertyClick,\n    required: required,\n    disabled: disabled,\n    readonly: readonly,\n    displayLabel: displayLabel,\n    classNames: classNames,\n    formContext: formContext,\n    formData: formData,\n    fields: fields,\n    schema: schema,\n    uiSchema: uiSchema,\n    registry: registry\n  };\n  var _AnyOfField = registry.fields.AnyOfField;\n  var _OneOfField = registry.fields.OneOfField;\n  return React.createElement(FieldTemplate, fieldProps, React.createElement(React.Fragment, null, field, schema.anyOf && !isSelect(schema) && React.createElement(_AnyOfField, {\n    disabled: disabled,\n    errorSchema: errorSchema,\n    formData: formData,\n    idPrefix: idPrefix,\n    idSchema: idSchema,\n    onBlur: props.onBlur,\n    onChange: props.onChange,\n    onFocus: props.onFocus,\n    options: schema.anyOf.map(function (_schema) {\n      return retrieveSchema(_schema, rootSchema, formData);\n    }),\n    baseType: schema.type,\n    registry: registry,\n    schema: schema,\n    uiSchema: uiSchema\n  }), schema.oneOf && !isSelect(schema) && React.createElement(_OneOfField, {\n    disabled: disabled,\n    errorSchema: errorSchema,\n    formData: formData,\n    idPrefix: idPrefix,\n    idSchema: idSchema,\n    onBlur: props.onBlur,\n    onChange: props.onChange,\n    onFocus: props.onFocus,\n    options: schema.oneOf.map(function (_schema) {\n      return retrieveSchema(_schema, rootSchema, formData);\n    }),\n    baseType: schema.type,\n    registry: registry,\n    schema: schema,\n    uiSchema: uiSchema\n  })));\n}\n\nvar SchemaField =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SchemaField, _React$Component);\n\n  function SchemaField() {\n    _classCallCheck(this, SchemaField);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SchemaField).apply(this, arguments));\n  }\n\n  _createClass(SchemaField, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return !deepEquals(this.props, nextProps);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return SchemaFieldRender(this.props);\n    }\n  }]);\n\n  return SchemaField;\n}(React.Component);\n\nSchemaField.defaultProps = {\n  uiSchema: {},\n  errorSchema: {},\n  idSchema: {},\n  disabled: false,\n  readonly: false,\n  autofocus: false\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  SchemaField.propTypes = {\n    schema: PropTypes.object.isRequired,\n    uiSchema: PropTypes.object,\n    idSchema: PropTypes.object,\n    formData: PropTypes.any,\n    errorSchema: PropTypes.object,\n    registry: types.registry.isRequired\n  };\n}\n\nexport default SchemaField;","function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\nimport * as types from \"../../types\";\nimport { getWidget, getUiOptions, isSelect, optionsList, getDefaultRegistry, hasWidget } from \"../../utils\";\n\nfunction StringField(props) {\n  var schema = props.schema,\n      name = props.name,\n      uiSchema = props.uiSchema,\n      idSchema = props.idSchema,\n      formData = props.formData,\n      required = props.required,\n      disabled = props.disabled,\n      readonly = props.readonly,\n      autofocus = props.autofocus,\n      onChange = props.onChange,\n      onBlur = props.onBlur,\n      onFocus = props.onFocus,\n      _props$registry = props.registry,\n      registry = _props$registry === void 0 ? getDefaultRegistry() : _props$registry,\n      rawErrors = props.rawErrors;\n  var title = schema.title,\n      format = schema.format;\n  var widgets = registry.widgets,\n      formContext = registry.formContext;\n  var enumOptions = isSelect(schema) && optionsList(schema);\n  var defaultWidget = enumOptions ? \"select\" : \"text\";\n\n  if (format && hasWidget(schema, format, widgets)) {\n    defaultWidget = format;\n  }\n\n  var _getUiOptions = getUiOptions(uiSchema),\n      _getUiOptions$widget = _getUiOptions.widget,\n      widget = _getUiOptions$widget === void 0 ? defaultWidget : _getUiOptions$widget,\n      _getUiOptions$placeho = _getUiOptions.placeholder,\n      placeholder = _getUiOptions$placeho === void 0 ? \"\" : _getUiOptions$placeho,\n      options = _objectWithoutProperties(_getUiOptions, [\"widget\", \"placeholder\"]);\n\n  var Widget = getWidget(schema, widget, widgets);\n  return React.createElement(Widget, {\n    options: _objectSpread({}, options, {\n      enumOptions: enumOptions\n    }),\n    schema: schema,\n    uiSchema: uiSchema,\n    id: idSchema && idSchema.$id,\n    label: title === undefined ? name : title,\n    value: formData,\n    onChange: onChange,\n    onBlur: onBlur,\n    onFocus: onFocus,\n    required: required,\n    disabled: disabled,\n    readonly: readonly,\n    formContext: formContext,\n    autofocus: autofocus,\n    registry: registry,\n    placeholder: placeholder,\n    rawErrors: rawErrors\n  });\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  StringField.propTypes = types.fieldProps;\n}\n\nStringField.defaultProps = {\n  uiSchema: {},\n  disabled: false,\n  readonly: false,\n  autofocus: false\n};\nexport default StringField;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nvar REQUIRED_FIELD_SYMBOL = \"*\";\n\nfunction TitleField(props) {\n  var id = props.id,\n      title = props.title,\n      required = props.required;\n  return React.createElement(\"legend\", {\n    id: id\n  }, title, required && React.createElement(\"span\", {\n    className: \"required\"\n  }, REQUIRED_FIELD_SYMBOL));\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  TitleField.propTypes = {\n    id: PropTypes.string,\n    title: PropTypes.string,\n    required: PropTypes.bool\n  };\n}\n\nexport default TitleField;","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { Component } from \"react\";\nimport * as types from \"../../types\";\n\nvar NullField =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(NullField, _Component);\n\n  function NullField() {\n    _classCallCheck(this, NullField);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(NullField).apply(this, arguments));\n  }\n\n  _createClass(NullField, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.formData === undefined) {\n        this.props.onChange(null);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return NullField;\n}(Component);\n\nif (process.env.NODE_ENV !== \"production\") {\n  NullField.propTypes = types.fieldProps;\n}\n\nexport default NullField;","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction UnsupportedField(_ref) {\n  var schema = _ref.schema,\n      idSchema = _ref.idSchema,\n      reason = _ref.reason;\n  return React.createElement(\"div\", {\n    className: \"unsupported-field\"\n  }, React.createElement(\"p\", null, \"Unsupported field schema\", idSchema && idSchema.$id && React.createElement(\"span\", null, \" for\", \" field \", React.createElement(\"code\", null, idSchema.$id)), reason && React.createElement(\"em\", null, \": \", reason), \".\"), schema && React.createElement(\"pre\", null, JSON.stringify(schema, null, 2)));\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  UnsupportedField.propTypes = {\n    schema: PropTypes.object.isRequired,\n    idSchema: PropTypes.object,\n    reason: PropTypes.string\n  };\n}\n\nexport default UnsupportedField;","import ArrayField from \"./ArrayField\";\nimport BooleanField from \"./BooleanField\";\nimport DescriptionField from \"./DescriptionField\";\nimport MultiSchemaField from \"./MultiSchemaField\";\nimport NumberField from \"./NumberField\";\nimport ObjectField from \"./ObjectField\";\nimport SchemaField from \"./SchemaField\";\nimport StringField from \"./StringField\";\nimport TitleField from \"./TitleField\";\nimport NullField from \"./NullField\";\nimport UnsupportedField from \"./UnsupportedField\";\nexport default {\n  AnyOfField: MultiSchemaField,\n  ArrayField: ArrayField,\n  BooleanField: BooleanField,\n  DescriptionField: DescriptionField,\n  NumberField: NumberField,\n  ObjectField: ObjectField,\n  OneOfField: MultiSchemaField,\n  SchemaField: SchemaField,\n  StringField: StringField,\n  TitleField: TitleField,\n  NullField: NullField,\n  UnsupportedField: UnsupportedField\n};","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { shouldRender, parseDateString, toDateString, pad } from \"../../utils\";\n\nfunction rangeOptions(start, stop) {\n  var options = [];\n\n  for (var i = start; i <= stop; i++) {\n    options.push({\n      value: i,\n      label: pad(i, 2)\n    });\n  }\n\n  return options;\n}\n\nfunction readyForChange(state) {\n  return Object.keys(state).every(function (key) {\n    return state[key] !== -1;\n  });\n}\n\nfunction DateElement(props) {\n  var type = props.type,\n      range = props.range,\n      value = props.value,\n      select = props.select,\n      rootId = props.rootId,\n      disabled = props.disabled,\n      readonly = props.readonly,\n      autofocus = props.autofocus,\n      registry = props.registry,\n      onBlur = props.onBlur;\n  var id = rootId + \"_\" + type;\n  var SelectWidget = registry.widgets.SelectWidget;\n  return React.createElement(SelectWidget, {\n    schema: {\n      type: \"integer\"\n    },\n    id: id,\n    className: \"form-control\",\n    options: {\n      enumOptions: rangeOptions(range[0], range[1])\n    },\n    placeholder: type,\n    value: value,\n    disabled: disabled,\n    readonly: readonly,\n    autofocus: autofocus,\n    onChange: function onChange(value) {\n      return select(type, value);\n    },\n    onBlur: onBlur\n  });\n}\n\nvar AltDateWidget =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AltDateWidget, _Component);\n\n  function AltDateWidget(props) {\n    var _this;\n\n    _classCallCheck(this, AltDateWidget);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AltDateWidget).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (property, value) {\n      _this.setState(_defineProperty({}, property, typeof value === \"undefined\" ? -1 : value), function () {\n        // Only propagate to parent state if we have a complete date{time}\n        if (readyForChange(_this.state)) {\n          _this.props.onChange(toDateString(_this.state, _this.props.time));\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setNow\", function (event) {\n      event.preventDefault();\n      var _this$props = _this.props,\n          time = _this$props.time,\n          disabled = _this$props.disabled,\n          readonly = _this$props.readonly,\n          onChange = _this$props.onChange;\n\n      if (disabled || readonly) {\n        return;\n      }\n\n      var nowDateObj = parseDateString(new Date().toJSON(), time);\n\n      _this.setState(nowDateObj, function () {\n        return onChange(toDateString(_this.state, time));\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clear\", function (event) {\n      event.preventDefault();\n      var _this$props2 = _this.props,\n          time = _this$props2.time,\n          disabled = _this$props2.disabled,\n          readonly = _this$props2.readonly,\n          onChange = _this$props2.onChange;\n\n      if (disabled || readonly) {\n        return;\n      }\n\n      _this.setState(parseDateString(\"\", time), function () {\n        return onChange(undefined);\n      });\n    });\n\n    _this.state = parseDateString(props.value, props.time);\n    return _this;\n  }\n\n  _createClass(AltDateWidget, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (prevProps.value && prevProps.value !== parseDateString(this.props.value, this.props.time)) {\n        this.setState(parseDateString(this.props.value, this.props.time));\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return shouldRender(this, nextProps, nextState);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props3 = this.props,\n          id = _this$props3.id,\n          disabled = _this$props3.disabled,\n          readonly = _this$props3.readonly,\n          autofocus = _this$props3.autofocus,\n          registry = _this$props3.registry,\n          onBlur = _this$props3.onBlur,\n          options = _this$props3.options;\n      return React.createElement(\"ul\", {\n        className: \"list-inline\"\n      }, this.dateElementProps.map(function (elemProps, i) {\n        return React.createElement(\"li\", {\n          key: i\n        }, React.createElement(DateElement, _extends({\n          rootId: id,\n          select: _this2.onChange\n        }, elemProps, {\n          disabled: disabled,\n          readonly: readonly,\n          registry: registry,\n          onBlur: onBlur,\n          autofocus: autofocus && i === 0\n        })));\n      }), (options.hideNowButton !== \"undefined\" ? !options.hideNowButton : true) && React.createElement(\"li\", null, React.createElement(\"a\", {\n        href: \"#\",\n        className: \"btn btn-info btn-now\",\n        onClick: this.setNow\n      }, \"Now\")), (options.hideClearButton !== \"undefined\" ? !options.hideClearButton : true) && React.createElement(\"li\", null, React.createElement(\"a\", {\n        href: \"#\",\n        className: \"btn btn-warning btn-clear\",\n        onClick: this.clear\n      }, \"Clear\")));\n    }\n  }, {\n    key: \"dateElementProps\",\n    get: function get() {\n      var _this$props4 = this.props,\n          time = _this$props4.time,\n          options = _this$props4.options;\n      var _this$state = this.state,\n          year = _this$state.year,\n          month = _this$state.month,\n          day = _this$state.day,\n          hour = _this$state.hour,\n          minute = _this$state.minute,\n          second = _this$state.second;\n      var data = [{\n        type: \"year\",\n        range: options.yearsRange,\n        value: year\n      }, {\n        type: \"month\",\n        range: [1, 12],\n        value: month\n      }, {\n        type: \"day\",\n        range: [1, 31],\n        value: day\n      }];\n\n      if (time) {\n        data.push({\n          type: \"hour\",\n          range: [0, 23],\n          value: hour\n        }, {\n          type: \"minute\",\n          range: [0, 59],\n          value: minute\n        }, {\n          type: \"second\",\n          range: [0, 59],\n          value: second\n        });\n      }\n\n      return data;\n    }\n  }]);\n\n  return AltDateWidget;\n}(Component);\n\n_defineProperty(AltDateWidget, \"defaultProps\", {\n  time: false,\n  disabled: false,\n  readonly: false,\n  autofocus: false,\n  options: {\n    yearsRange: [1900, new Date().getFullYear() + 2]\n  }\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  AltDateWidget.propTypes = {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    value: PropTypes.string,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func,\n    onBlur: PropTypes.func,\n    time: PropTypes.bool,\n    options: PropTypes.object\n  };\n}\n\nexport default AltDateWidget;","function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport AltDateWidget from \"./AltDateWidget\";\n\nfunction AltDateTimeWidget(props) {\n  var AltDateWidget = props.registry.widgets.AltDateWidget;\n  return React.createElement(AltDateWidget, _extends({\n    time: true\n  }, props));\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  AltDateTimeWidget.propTypes = {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    value: PropTypes.string,\n    required: PropTypes.bool,\n    onChange: PropTypes.func,\n    options: PropTypes.object\n  };\n}\n\nAltDateTimeWidget.defaultProps = _objectSpread({}, AltDateWidget.defaultProps, {\n  time: true\n});\nexport default AltDateTimeWidget;","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction BaseInput(props) {\n  // Note: since React 15.2.0 we can't forward unknown element attributes, so we\n  // exclude the \"options\" and \"schema\" ones here.\n  if (!props.id) {\n    console.log(\"No id for\", props);\n    throw new Error(\"no id for props \".concat(JSON.stringify(props)));\n  }\n\n  var value = props.value,\n      readonly = props.readonly,\n      disabled = props.disabled,\n      autofocus = props.autofocus,\n      onBlur = props.onBlur,\n      onFocus = props.onFocus,\n      options = props.options,\n      schema = props.schema,\n      uiSchema = props.uiSchema,\n      formContext = props.formContext,\n      registry = props.registry,\n      rawErrors = props.rawErrors,\n      inputProps = _objectWithoutProperties(props, [\"value\", \"readonly\", \"disabled\", \"autofocus\", \"onBlur\", \"onFocus\", \"options\", \"schema\", \"uiSchema\", \"formContext\", \"registry\", \"rawErrors\"]); // If options.inputType is set use that as the input type\n\n\n  if (options.inputType) {\n    inputProps.type = options.inputType;\n  } else if (!inputProps.type) {\n    // If the schema is of type number or integer, set the input type to number\n    if (schema.type === \"number\") {\n      inputProps.type = \"number\"; // Setting step to 'any' fixes a bug in Safari where decimals are not\n      // allowed in number inputs\n\n      inputProps.step = \"any\";\n    } else if (schema.type === \"integer\") {\n      inputProps.type = \"number\"; // Since this is integer, you always want to step up or down in multiples\n      // of 1\n\n      inputProps.step = \"1\";\n    } else {\n      inputProps.type = \"text\";\n    }\n  }\n\n  if (options.autocomplete) {\n    inputProps.autoComplete = options.autocomplete;\n  } // If multipleOf is defined, use this as the step value. This mainly improves\n  // the experience for keyboard users (who can use the up/down KB arrows).\n\n\n  if (schema.multipleOf) {\n    inputProps.step = schema.multipleOf;\n  }\n\n  if (typeof schema.minimum !== \"undefined\") {\n    inputProps.min = schema.minimum;\n  }\n\n  if (typeof schema.maximum !== \"undefined\") {\n    inputProps.max = schema.maximum;\n  }\n\n  var _onChange = function _onChange(_ref) {\n    var value = _ref.target.value;\n    return props.onChange(value === \"\" ? options.emptyValue : value);\n  };\n\n  return [React.createElement(\"input\", _extends({\n    key: inputProps.id,\n    className: \"form-control\",\n    readOnly: readonly,\n    disabled: disabled,\n    autoFocus: autofocus,\n    value: value == null ? \"\" : value\n  }, inputProps, {\n    list: schema.examples ? \"examples_\".concat(inputProps.id) : null,\n    onChange: _onChange,\n    onBlur: onBlur && function (event) {\n      return onBlur(inputProps.id, event.target.value);\n    },\n    onFocus: onFocus && function (event) {\n      return onFocus(inputProps.id, event.target.value);\n    }\n  })), schema.examples ? React.createElement(\"datalist\", {\n    key: \"datalist_\".concat(inputProps.id),\n    id: \"examples_\".concat(inputProps.id)\n  }, _toConsumableArray(new Set(schema.examples.concat(schema[\"default\"] ? [schema[\"default\"]] : []))).map(function (example) {\n    return React.createElement(\"option\", {\n      key: example,\n      value: example\n    });\n  })) : null];\n}\n\nBaseInput.defaultProps = {\n  required: false,\n  disabled: false,\n  readonly: false,\n  autofocus: false\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  BaseInput.propTypes = {\n    id: PropTypes.string.isRequired,\n    placeholder: PropTypes.string,\n    value: PropTypes.any,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func,\n    onBlur: PropTypes.func,\n    onFocus: PropTypes.func\n  };\n}\n\nexport default BaseInput;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { schemaRequiresTrueValue } from \"../../utils\";\n\nfunction CheckboxWidget(props) {\n  var schema = props.schema,\n      id = props.id,\n      value = props.value,\n      disabled = props.disabled,\n      readonly = props.readonly,\n      label = props.label,\n      autofocus = props.autofocus,\n      onBlur = props.onBlur,\n      onFocus = props.onFocus,\n      _onChange = props.onChange,\n      DescriptionField = props.DescriptionField; // Because an unchecked checkbox will cause html5 validation to fail, only add\n  // the \"required\" attribute if the field value must be \"true\", due to the\n  // \"const\" or \"enum\" keywords\n\n  var required = schemaRequiresTrueValue(schema);\n  return React.createElement(\"div\", {\n    className: \"checkbox \".concat(disabled || readonly ? \"disabled\" : \"\")\n  }, schema.description && React.createElement(DescriptionField, {\n    description: schema.description\n  }), React.createElement(\"label\", null, React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: id,\n    checked: typeof value === \"undefined\" ? false : value,\n    required: required,\n    disabled: disabled || readonly,\n    autoFocus: autofocus,\n    onChange: function onChange(event) {\n      return _onChange(event.target.checked);\n    },\n    onBlur: onBlur && function (event) {\n      return onBlur(id, event.target.checked);\n    },\n    onFocus: onFocus && function (event) {\n      return onFocus(id, event.target.checked);\n    }\n  }), React.createElement(\"span\", null, label)));\n}\n\nCheckboxWidget.defaultProps = {\n  autofocus: false\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  CheckboxWidget.propTypes = {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    value: PropTypes.bool,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func\n  };\n}\n\nexport default CheckboxWidget;","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction selectValue(value, selected, all) {\n  var at = all.indexOf(value);\n  var updated = selected.slice(0, at).concat(value, selected.slice(at)); // As inserting values at predefined index positions doesn't work with empty\n  // arrays, we need to reorder the updated selection to match the initial order\n\n  return updated.sort(function (a, b) {\n    return all.indexOf(a) > all.indexOf(b);\n  });\n}\n\nfunction deselectValue(value, selected) {\n  return selected.filter(function (v) {\n    return v !== value;\n  });\n}\n\nfunction CheckboxesWidget(props) {\n  var id = props.id,\n      disabled = props.disabled,\n      options = props.options,\n      value = props.value,\n      autofocus = props.autofocus,\n      readonly = props.readonly,\n      _onChange = props.onChange;\n  var enumOptions = options.enumOptions,\n      enumDisabled = options.enumDisabled,\n      inline = options.inline;\n  return React.createElement(\"div\", {\n    className: \"checkboxes\",\n    id: id\n  }, enumOptions.map(function (option, index) {\n    var checked = value.indexOf(option.value) !== -1;\n    var itemDisabled = enumDisabled && enumDisabled.indexOf(option.value) != -1;\n    var disabledCls = disabled || itemDisabled || readonly ? \"disabled\" : \"\";\n    var checkbox = React.createElement(\"span\", null, React.createElement(\"input\", {\n      type: \"checkbox\",\n      id: \"\".concat(id, \"_\").concat(index),\n      checked: checked,\n      disabled: disabled || itemDisabled || readonly,\n      autoFocus: autofocus && index === 0,\n      onChange: function onChange(event) {\n        var all = enumOptions.map(function (_ref) {\n          var value = _ref.value;\n          return value;\n        });\n\n        if (event.target.checked) {\n          _onChange(selectValue(option.value, value, all));\n        } else {\n          _onChange(deselectValue(option.value, value));\n        }\n      }\n    }), React.createElement(\"span\", null, option.label));\n    return inline ? React.createElement(\"label\", {\n      key: index,\n      className: \"checkbox-inline \".concat(disabledCls)\n    }, checkbox) : React.createElement(\"div\", {\n      key: index,\n      className: \"checkbox \".concat(disabledCls)\n    }, React.createElement(\"label\", null, checkbox));\n  }));\n}\n\nCheckboxesWidget.defaultProps = {\n  autofocus: false,\n  options: {\n    inline: false\n  }\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  CheckboxesWidget.propTypes = {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    options: PropTypes.shape({\n      enumOptions: PropTypes.array,\n      inline: PropTypes.bool\n    }).isRequired,\n    value: PropTypes.any,\n    required: PropTypes.bool,\n    readonly: PropTypes.bool,\n    disabled: PropTypes.bool,\n    multiple: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func\n  };\n}\n\nexport default CheckboxesWidget;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction ColorWidget(props) {\n  var disabled = props.disabled,\n      readonly = props.readonly,\n      BaseInput = props.registry.widgets.BaseInput;\n  return React.createElement(BaseInput, _extends({\n    type: \"color\"\n  }, props, {\n    disabled: disabled || readonly\n  }));\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  ColorWidget.propTypes = {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    value: PropTypes.string,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func\n  };\n}\n\nexport default ColorWidget;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction DateWidget(props) {\n  var _onChange = props.onChange,\n      BaseInput = props.registry.widgets.BaseInput;\n  return React.createElement(BaseInput, _extends({\n    type: \"date\"\n  }, props, {\n    onChange: function onChange(value) {\n      return _onChange(value || undefined);\n    }\n  }));\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  DateWidget.propTypes = {\n    value: PropTypes.string\n  };\n}\n\nexport default DateWidget;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { utcToLocal, localToUTC } from \"../../utils\";\n\nfunction DateTimeWidget(props) {\n  var value = props.value,\n      _onChange = props.onChange,\n      BaseInput = props.registry.widgets.BaseInput;\n  return React.createElement(BaseInput, _extends({\n    type: \"datetime-local\"\n  }, props, {\n    value: utcToLocal(value),\n    onChange: function onChange(value) {\n      return _onChange(localToUTC(value));\n    }\n  }));\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  DateTimeWidget.propTypes = {\n    value: PropTypes.string\n  };\n}\n\nexport default DateTimeWidget;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction EmailWidget(props) {\n  var BaseInput = props.registry.widgets.BaseInput;\n  return React.createElement(BaseInput, _extends({\n    type: \"email\"\n  }, props));\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  EmailWidget.propTypes = {\n    value: PropTypes.string\n  };\n}\n\nexport default EmailWidget;","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { dataURItoBlob, shouldRender } from \"../../utils\";\n\nfunction addNameToDataURL(dataURL, name) {\n  return dataURL.replace(\";base64\", \";name=\".concat(encodeURIComponent(name), \";base64\"));\n}\n\nfunction processFile(file) {\n  var name = file.name,\n      size = file.size,\n      type = file.type;\n  return new Promise(function (resolve, reject) {\n    var reader = new window.FileReader();\n    reader.onerror = reject;\n\n    reader.onload = function (event) {\n      resolve({\n        dataURL: addNameToDataURL(event.target.result, name),\n        name: name,\n        size: size,\n        type: type\n      });\n    };\n\n    reader.readAsDataURL(file);\n  });\n}\n\nfunction processFiles(files) {\n  return Promise.all([].map.call(files, processFile));\n}\n\nfunction FilesInfo(props) {\n  var filesInfo = props.filesInfo;\n\n  if (filesInfo.length === 0) {\n    return null;\n  }\n\n  return React.createElement(\"ul\", {\n    className: \"file-info\"\n  }, filesInfo.map(function (fileInfo, key) {\n    var name = fileInfo.name,\n        size = fileInfo.size,\n        type = fileInfo.type;\n    return React.createElement(\"li\", {\n      key: key\n    }, React.createElement(\"strong\", null, name), \" (\", type, \", \", size, \" bytes)\");\n  }));\n}\n\nfunction extractFileInfo(dataURLs) {\n  return dataURLs.filter(function (dataURL) {\n    return typeof dataURL !== \"undefined\";\n  }).map(function (dataURL) {\n    var _dataURItoBlob = dataURItoBlob(dataURL),\n        blob = _dataURItoBlob.blob,\n        name = _dataURItoBlob.name;\n\n    return {\n      name: name,\n      size: blob.size,\n      type: blob.type\n    };\n  });\n}\n\nvar FileWidget =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FileWidget, _Component);\n\n  function FileWidget(props) {\n    var _this;\n\n    _classCallCheck(this, FileWidget);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FileWidget).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (event) {\n      var _this$props = _this.props,\n          multiple = _this$props.multiple,\n          onChange = _this$props.onChange;\n      processFiles(event.target.files).then(function (filesInfo) {\n        var state = {\n          values: filesInfo.map(function (fileInfo) {\n            return fileInfo.dataURL;\n          }),\n          filesInfo: filesInfo\n        };\n\n        _this.setState(state, function () {\n          if (multiple) {\n            onChange(state.values);\n          } else {\n            onChange(state.values[0]);\n          }\n        });\n      });\n    });\n\n    var value = props.value;\n    var values = Array.isArray(value) ? value : [value];\n    _this.state = {\n      values: values,\n      filesInfo: extractFileInfo(values)\n    };\n    return _this;\n  }\n\n  _createClass(FileWidget, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return shouldRender(this, nextProps, nextState);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          multiple = _this$props2.multiple,\n          id = _this$props2.id,\n          readonly = _this$props2.readonly,\n          disabled = _this$props2.disabled,\n          autofocus = _this$props2.autofocus,\n          options = _this$props2.options;\n      var filesInfo = this.state.filesInfo;\n      return React.createElement(\"div\", null, React.createElement(\"p\", null, React.createElement(\"input\", {\n        ref: function ref(_ref) {\n          return _this2.inputRef = _ref;\n        },\n        id: id,\n        type: \"file\",\n        disabled: readonly || disabled,\n        onChange: this.onChange,\n        defaultValue: \"\",\n        autoFocus: autofocus,\n        multiple: multiple,\n        accept: options.accept\n      })), React.createElement(FilesInfo, {\n        filesInfo: filesInfo\n      }));\n    }\n  }]);\n\n  return FileWidget;\n}(Component);\n\nFileWidget.defaultProps = {\n  autofocus: false\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  FileWidget.propTypes = {\n    multiple: PropTypes.bool,\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n    autofocus: PropTypes.bool\n  };\n}\n\nexport default FileWidget;","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction HiddenWidget(_ref) {\n  var id = _ref.id,\n      value = _ref.value;\n  return React.createElement(\"input\", {\n    type: \"hidden\",\n    id: id,\n    value: typeof value === \"undefined\" ? \"\" : value\n  });\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  HiddenWidget.propTypes = {\n    id: PropTypes.string.isRequired,\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.bool])\n  };\n}\n\nexport default HiddenWidget;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction PasswordWidget(props) {\n  var BaseInput = props.registry.widgets.BaseInput;\n  return React.createElement(BaseInput, _extends({\n    type: \"password\"\n  }, props));\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  PasswordWidget.propTypes = {\n    value: PropTypes.string\n  };\n}\n\nexport default PasswordWidget;","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction RadioWidget(props) {\n  var options = props.options,\n      value = props.value,\n      required = props.required,\n      disabled = props.disabled,\n      readonly = props.readonly,\n      autofocus = props.autofocus,\n      onBlur = props.onBlur,\n      onFocus = props.onFocus,\n      _onChange = props.onChange,\n      id = props.id; // Generating a unique field name to identify this set of radio buttons\n\n  var name = Math.random().toString();\n  var enumOptions = options.enumOptions,\n      enumDisabled = options.enumDisabled,\n      inline = options.inline; // checked={checked} has been moved above name={name}, As mentioned in #349;\n  // this is a temporary fix for radio button rendering bug in React, facebook/react#7630.\n\n  return React.createElement(\"div\", {\n    className: \"field-radio-group\",\n    id: id\n  }, enumOptions.map(function (option, i) {\n    var checked = option.value === value;\n    var itemDisabled = enumDisabled && enumDisabled.indexOf(option.value) != -1;\n    var disabledCls = disabled || itemDisabled || readonly ? \"disabled\" : \"\";\n    var radio = React.createElement(\"span\", null, React.createElement(\"input\", {\n      type: \"radio\",\n      checked: checked,\n      name: name,\n      required: required,\n      value: option.value,\n      disabled: disabled || itemDisabled || readonly,\n      autoFocus: autofocus && i === 0,\n      onChange: function onChange(_) {\n        return _onChange(option.value);\n      },\n      onBlur: onBlur && function (event) {\n        return onBlur(id, event.target.value);\n      },\n      onFocus: onFocus && function (event) {\n        return onFocus(id, event.target.value);\n      }\n    }), React.createElement(\"span\", null, option.label));\n    return inline ? React.createElement(\"label\", {\n      key: i,\n      className: \"radio-inline \".concat(disabledCls)\n    }, radio) : React.createElement(\"div\", {\n      key: i,\n      className: \"radio \".concat(disabledCls)\n    }, React.createElement(\"label\", null, radio));\n  }));\n}\n\nRadioWidget.defaultProps = {\n  autofocus: false\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  RadioWidget.propTypes = {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    options: PropTypes.shape({\n      enumOptions: PropTypes.array,\n      inline: PropTypes.bool\n    }).isRequired,\n    value: PropTypes.any,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func\n  };\n}\n\nexport default RadioWidget;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { rangeSpec } from \"../../utils\";\n\nfunction RangeWidget(props) {\n  var schema = props.schema,\n      value = props.value,\n      BaseInput = props.registry.widgets.BaseInput;\n  return React.createElement(\"div\", {\n    className: \"field-range-wrapper\"\n  }, React.createElement(BaseInput, _extends({\n    type: \"range\"\n  }, props, rangeSpec(schema))), React.createElement(\"span\", {\n    className: \"range-view\"\n  }, value));\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  RangeWidget.propTypes = {\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n  };\n}\n\nexport default RangeWidget;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { asNumber, guessType } from \"../../utils\";\nvar nums = new Set([\"number\", \"integer\"]);\n/**\n * This is a silly limitation in the DOM where option change event values are\n * always retrieved as strings.\n */\n\nfunction processValue(schema, value) {\n  // \"enum\" is a reserved word, so only \"type\" and \"items\" can be destructured\n  var type = schema.type,\n      items = schema.items;\n\n  if (value === \"\") {\n    return undefined;\n  } else if (type === \"array\" && items && nums.has(items.type)) {\n    return value.map(asNumber);\n  } else if (type === \"boolean\") {\n    return value === \"true\";\n  } else if (type === \"number\") {\n    return asNumber(value);\n  } // If type is undefined, but an enum is present, try and infer the type from\n  // the enum values\n\n\n  if (schema[\"enum\"]) {\n    if (schema[\"enum\"].every(function (x) {\n      return guessType(x) === \"number\";\n    })) {\n      return asNumber(value);\n    } else if (schema[\"enum\"].every(function (x) {\n      return guessType(x) === \"boolean\";\n    })) {\n      return value === \"true\";\n    }\n  }\n\n  return value;\n}\n\nfunction getValue(event, multiple) {\n  if (multiple) {\n    return [].slice.call(event.target.options).filter(function (o) {\n      return o.selected;\n    }).map(function (o) {\n      return o.value;\n    });\n  } else {\n    return event.target.value;\n  }\n}\n\nfunction SelectWidget(props) {\n  var schema = props.schema,\n      id = props.id,\n      options = props.options,\n      value = props.value,\n      required = props.required,\n      disabled = props.disabled,\n      readonly = props.readonly,\n      multiple = props.multiple,\n      autofocus = props.autofocus,\n      _onChange = props.onChange,\n      onBlur = props.onBlur,\n      onFocus = props.onFocus,\n      placeholder = props.placeholder;\n  var enumOptions = options.enumOptions,\n      enumDisabled = options.enumDisabled;\n  var emptyValue = multiple ? [] : \"\";\n  return React.createElement(\"select\", {\n    id: id,\n    multiple: multiple,\n    className: \"form-control\",\n    value: typeof value === \"undefined\" ? emptyValue : value,\n    required: required,\n    disabled: disabled || readonly,\n    autoFocus: autofocus,\n    onBlur: onBlur && function (event) {\n      var newValue = getValue(event, multiple);\n      onBlur(id, processValue(schema, newValue));\n    },\n    onFocus: onFocus && function (event) {\n      var newValue = getValue(event, multiple);\n      onFocus(id, processValue(schema, newValue));\n    },\n    onChange: function onChange(event) {\n      var newValue = getValue(event, multiple);\n\n      _onChange(processValue(schema, newValue));\n    }\n  }, !multiple && schema[\"default\"] === undefined && React.createElement(\"option\", {\n    value: \"\"\n  }, placeholder), enumOptions.map(function (_ref, i) {\n    var value = _ref.value,\n        label = _ref.label;\n    var disabled = enumDisabled && enumDisabled.indexOf(value) != -1;\n    return React.createElement(\"option\", {\n      key: i,\n      value: value,\n      disabled: disabled\n    }, label);\n  }));\n}\n\nSelectWidget.defaultProps = {\n  autofocus: false\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  SelectWidget.propTypes = {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    options: PropTypes.shape({\n      enumOptions: PropTypes.array\n    }).isRequired,\n    value: PropTypes.any,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    multiple: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func,\n    onBlur: PropTypes.func,\n    onFocus: PropTypes.func\n  };\n}\n\nexport default SelectWidget;","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction TextareaWidget(props) {\n  var id = props.id,\n      options = props.options,\n      placeholder = props.placeholder,\n      value = props.value,\n      required = props.required,\n      disabled = props.disabled,\n      readonly = props.readonly,\n      autofocus = props.autofocus,\n      onChange = props.onChange,\n      onBlur = props.onBlur,\n      onFocus = props.onFocus;\n\n  var _onChange = function _onChange(_ref) {\n    var value = _ref.target.value;\n    return onChange(value === \"\" ? options.emptyValue : value);\n  };\n\n  return React.createElement(\"textarea\", {\n    id: id,\n    className: \"form-control\",\n    value: value ? value : \"\",\n    placeholder: placeholder,\n    required: required,\n    disabled: disabled,\n    readOnly: readonly,\n    autoFocus: autofocus,\n    rows: options.rows,\n    onBlur: onBlur && function (event) {\n      return onBlur(id, event.target.value);\n    },\n    onFocus: onFocus && function (event) {\n      return onFocus(id, event.target.value);\n    },\n    onChange: _onChange\n  });\n}\n\nTextareaWidget.defaultProps = {\n  autofocus: false,\n  options: {}\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  TextareaWidget.propTypes = {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    placeholder: PropTypes.string,\n    options: PropTypes.shape({\n      rows: PropTypes.number\n    }),\n    value: PropTypes.string,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func,\n    onBlur: PropTypes.func,\n    onFocus: PropTypes.func\n  };\n}\n\nexport default TextareaWidget;","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction TextWidget(props) {\n  var BaseInput = props.registry.widgets.BaseInput;\n  return React.createElement(BaseInput, props);\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  TextWidget.propTypes = {\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    id: PropTypes.string\n  };\n}\n\nexport default TextWidget;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nfunction URLWidget(props) {\n  var BaseInput = props.registry.widgets.BaseInput;\n  return React.createElement(BaseInput, _extends({\n    type: \"url\"\n  }, props));\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  URLWidget.propTypes = {\n    value: PropTypes.string\n  };\n}\n\nexport default URLWidget;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { rangeSpec } from \"../../utils\";\n\nfunction UpDownWidget(props) {\n  var BaseInput = props.registry.widgets.BaseInput;\n  return React.createElement(BaseInput, _extends({\n    type: \"number\"\n  }, props, rangeSpec(props.schema)));\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  UpDownWidget.propTypes = {\n    value: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n  };\n}\n\nexport default UpDownWidget;","import AltDateWidget from \"./AltDateWidget\";\nimport AltDateTimeWidget from \"./AltDateTimeWidget\";\nimport BaseInput from \"./BaseInput\";\nimport CheckboxWidget from \"./CheckboxWidget\";\nimport CheckboxesWidget from \"./CheckboxesWidget\";\nimport ColorWidget from \"./ColorWidget\";\nimport DateWidget from \"./DateWidget\";\nimport DateTimeWidget from \"./DateTimeWidget\";\nimport EmailWidget from \"./EmailWidget\";\nimport FileWidget from \"./FileWidget\";\nimport HiddenWidget from \"./HiddenWidget\";\nimport PasswordWidget from \"./PasswordWidget\";\nimport RadioWidget from \"./RadioWidget\";\nimport RangeWidget from \"./RangeWidget\";\nimport SelectWidget from \"./SelectWidget\";\nimport TextareaWidget from \"./TextareaWidget\";\nimport TextWidget from \"./TextWidget\";\nimport URLWidget from \"./URLWidget\";\nimport UpDownWidget from \"./UpDownWidget\";\nexport default {\n  BaseInput: BaseInput,\n  PasswordWidget: PasswordWidget,\n  RadioWidget: RadioWidget,\n  UpDownWidget: UpDownWidget,\n  RangeWidget: RangeWidget,\n  SelectWidget: SelectWidget,\n  TextWidget: TextWidget,\n  DateWidget: DateWidget,\n  DateTimeWidget: DateTimeWidget,\n  AltDateWidget: AltDateWidget,\n  AltDateTimeWidget: AltDateTimeWidget,\n  EmailWidget: EmailWidget,\n  URLWidget: URLWidget,\n  TextareaWidget: TextareaWidget,\n  HiddenWidget: HiddenWidget,\n  ColorWidget: ColorWidget,\n  FileWidget: FileWidget,\n  CheckboxWidget: CheckboxWidget,\n  CheckboxesWidget: CheckboxesWidget\n};","var arrayMap = require('./_arrayMap'),\n    copyArray = require('./_copyArray'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol'),\n    stringToPath = require('./_stringToPath'),\n    toKey = require('./_toKey'),\n    toString = require('./toString');\n\n/**\n * Converts `value` to a property path array.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Util\n * @param {*} value The value to convert.\n * @returns {Array} Returns the new property path array.\n * @example\n *\n * _.toPath('a.b.c');\n * // => ['a', 'b', 'c']\n *\n * _.toPath('a[0].b.c');\n * // => ['a', '0', 'b', 'c']\n */\nfunction toPath(value) {\n  if (isArray(value)) {\n    return arrayMap(value, toKey);\n  }\n  return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n}\n\nmodule.exports = toPath;\n","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport toPath from \"lodash/toPath\";\nimport Ajv from \"ajv\";\nvar ajv;\nvar previousSchema;\nvar previousMetaSchemas;\nvar previousFormats;\nimport { deepEquals, getDefaultFormState } from \"./utils\";\nvar ROOT_SCHEMA_PREFIX = \"__rjsf_rootSchema\";\nimport { isObject, mergeObjects } from \"./utils\";\nimport memoize from \"lodash/memoize\";\n\nfunction createAjvInstance() {\n  var ajv = new Ajv({\n    errorDataPath: \"property\",\n    allErrors: true,\n    multipleOfPrecision: 8,\n    schemaId: \"auto\",\n    unknownFormats: \"ignore\",\n    useDefaults: true\n  }); // add custom formats\n\n  ajv.addFormat(\"data-url\", /^data:([a-z]+\\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/);\n  ajv.addFormat(\"color\", /^(#?([0-9A-Fa-f]{3}){1,2}\\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\\(\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*\\))|(rgb\\(\\s*(\\d?\\d%|100%)+\\s*,\\s*(\\d?\\d%|100%)+\\s*,\\s*(\\d?\\d%|100%)+\\s*\\)))$/);\n  return ajv;\n}\n\nfunction toErrorSchema(errors) {\n  // Transforms a ajv validation errors list:\n  // [\n  //   {property: \".level1.level2[2].level3\", message: \"err a\"},\n  //   {property: \".level1.level2[2].level3\", message: \"err b\"},\n  //   {property: \".level1.level2[4].level3\", message: \"err b\"},\n  // ]\n  // Into an error tree:\n  // {\n  //   level1: {\n  //     level2: {\n  //       2: {level3: {errors: [\"err a\", \"err b\"]}},\n  //       4: {level3: {errors: [\"err b\"]}},\n  //     }\n  //   }\n  // };\n  if (!errors.length) {\n    return {};\n  }\n\n  return errors.reduce(function (errorSchema, error) {\n    var property = error.property,\n        message = error.message;\n    var path = toPath(property);\n    var parent = errorSchema; // If the property is at the root (.level1) then toPath creates\n    // an empty array element at the first index. Remove it.\n\n    if (path.length > 0 && path[0] === \"\") {\n      path.splice(0, 1);\n    }\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = path.slice(0)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var segment = _step.value;\n\n        if (!(segment in parent)) {\n          parent[segment] = {};\n        }\n\n        parent = parent[segment];\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n          _iterator[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    if (Array.isArray(parent.__errors)) {\n      // We store the list of errors for this node in a property named __errors\n      // to avoid name collision with a possible sub schema field named\n      // \"errors\" (see `validate.createErrorHandler`).\n      parent.__errors = parent.__errors.concat(message);\n    } else {\n      if (message) {\n        parent.__errors = [message];\n      }\n    }\n\n    return errorSchema;\n  }, {});\n}\n\nexport function toErrorList(errorSchema) {\n  var fieldName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"root\";\n  // XXX: We should transform fieldName as a full field path string.\n  var errorList = [];\n\n  if (\"__errors\" in errorSchema) {\n    errorList = errorList.concat(errorSchema.__errors.map(function (stack) {\n      return {\n        stack: \"\".concat(fieldName, \": \").concat(stack)\n      };\n    }));\n  }\n\n  return Object.keys(errorSchema).reduce(function (acc, key) {\n    if (key !== \"__errors\") {\n      acc = acc.concat(toErrorList(errorSchema[key], key));\n    }\n\n    return acc;\n  }, errorList);\n}\n\nfunction createErrorHandler(formData) {\n  var handler = {\n    // We store the list of errors for this node in a property named __errors\n    // to avoid name collision with a possible sub schema field named\n    // \"errors\" (see `utils.toErrorSchema`).\n    __errors: [],\n    addError: function addError(message) {\n      this.__errors.push(message);\n    }\n  };\n\n  if (isObject(formData)) {\n    return Object.keys(formData).reduce(function (acc, key) {\n      return _objectSpread({}, acc, _defineProperty({}, key, createErrorHandler(formData[key])));\n    }, handler);\n  }\n\n  if (Array.isArray(formData)) {\n    return formData.reduce(function (acc, value, key) {\n      return _objectSpread({}, acc, _defineProperty({}, key, createErrorHandler(value)));\n    }, handler);\n  }\n\n  return handler;\n}\n\nfunction unwrapErrorHandler(errorHandler) {\n  return Object.keys(errorHandler).reduce(function (acc, key) {\n    if (key === \"addError\") {\n      return acc;\n    } else if (key === \"__errors\") {\n      return _objectSpread({}, acc, _defineProperty({}, key, errorHandler[key]));\n    }\n\n    return _objectSpread({}, acc, _defineProperty({}, key, unwrapErrorHandler(errorHandler[key])));\n  }, {});\n}\n/**\n * Transforming the error output from ajv to format used by jsonschema.\n * At some point, components should be updated to support ajv.\n */\n\n\nfunction transformAjvErrors() {\n  var errors = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  if (errors === null) {\n    return [];\n  }\n\n  return errors.map(function (e) {\n    var dataPath = e.dataPath,\n        keyword = e.keyword,\n        message = e.message,\n        params = e.params,\n        schemaPath = e.schemaPath;\n    var property = \"\".concat(dataPath); // put data in expected format\n\n    return {\n      name: keyword,\n      property: property,\n      message: message,\n      params: params,\n      // specific to ajv\n      stack: \"\".concat(property, \" \").concat(message).trim(),\n      schemaPath: schemaPath\n    };\n  });\n}\n\nvar validate;\nvar compileError;\n/**\n * This function processes the formData with a user `validate` contributed\n * function, which receives the form data and an `errorHandler` object that\n * will be used to add custom validation errors for each field.\n */\n\nexport default function validateFormData(formData, schema, customValidate, transformErrors) {\n  var additionalMetaSchemas = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];\n  var customFormats = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n  // Include form data with undefined values, which is required for validation.\n  var rootSchema = schema;\n  formData = getDefaultFormState(schema, formData, rootSchema, true);\n  var schemaChanged = !deepEquals(previousSchema, schema);\n  var metaSchemasChanged = !deepEquals(previousMetaSchemas, additionalMetaSchemas);\n  var formatsChanged = !deepEquals(previousFormats, customFormats);\n\n  if (validate == null || schemaChanged || metaSchemasChanged || formatsChanged) {\n    compileError = null;\n    previousSchema = schema;\n    previousMetaSchemas = additionalMetaSchemas;\n    previousFormats = customFormats;\n    ajv = createAjvInstance(); // add more schemas to validate against\n\n    if (additionalMetaSchemas && Array.isArray(additionalMetaSchemas)) {\n      ajv.addMetaSchema(additionalMetaSchemas);\n    } // add more custom formats to validate against\n\n\n    if (customFormats && isObject(customFormats)) {\n      Object.keys(customFormats).forEach(function (formatName) {\n        ajv.addFormat(formatName, customFormats[formatName]);\n      });\n    }\n\n    try {\n      validate = ajv.compile(schema);\n    } catch (e) {\n      compileError = e;\n    }\n  }\n\n  var errors;\n\n  if (!compileError) {\n    validate(formData);\n    errors = transformAjvErrors(validate.errors);\n  } else {\n    errors = transformAjvErrors(ajv.errors);\n  }\n\n  var noProperMetaSchema = compileError && compileError.message && typeof compileError.message === \"string\" && compileError.message.includes(\"no schema with key or ref \");\n\n  if (noProperMetaSchema) {\n    errors = [].concat(_toConsumableArray(errors), [{\n      stack: compileError.message\n    }]);\n  }\n\n  if (typeof transformErrors === \"function\") {\n    errors = transformErrors(errors);\n  }\n\n  var errorSchema = toErrorSchema(errors);\n\n  if (noProperMetaSchema) {\n    errorSchema = _objectSpread({}, errorSchema, {\n      $schema: {\n        __errors: [compileError.message]\n      }\n    });\n  }\n\n  if (typeof customValidate !== \"function\") {\n    return {\n      errors: errors,\n      errorSchema: errorSchema\n    };\n  }\n\n  var errorHandler = customValidate(formData, createErrorHandler(formData));\n  var userErrorSchema = unwrapErrorHandler(errorHandler);\n  var newErrorSchema = mergeObjects(errorSchema, userErrorSchema, true); // XXX: The errors list produced is not fully compliant with the format\n  // exposed by the jsonschema lib, which contains full field paths and other\n  // properties.\n\n  var newErrors = toErrorList(newErrorSchema);\n  return {\n    errors: newErrors,\n    errorSchema: newErrorSchema\n  };\n}\n/**\n * Recursively prefixes all $ref's in a schema with `ROOT_SCHEMA_PREFIX`\n * This is used in isValid to make references to the rootSchema\n */\n\nfunction _withIdRefPrefix(schemaNode) {\n  var obj = schemaNode;\n\n  if (schemaNode.constructor === Object) {\n    obj = _objectSpread({}, schemaNode);\n\n    for (var key in obj) {\n      var value = obj[key];\n\n      if (key === \"$ref\" && typeof value === \"string\" && value.startsWith(\"#\")) {\n        obj[key] = ROOT_SCHEMA_PREFIX + value;\n      } else {\n        obj[key] = withIdRefPrefix(value);\n      }\n    }\n  } else if (Array.isArray(schemaNode)) {\n    obj = _toConsumableArray(schemaNode);\n\n    for (var i = 0; i < obj.length; i++) {\n      obj[i] = withIdRefPrefix(obj[i]);\n    }\n  }\n\n  return obj;\n} // Convert all arguments to one long string. This can be expensive with multiple, large objects, so use sparingly\n\n\nvar cacheKeyFn = function cacheKeyFn() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return args.map(function (arg) {\n    return JSON.stringify(arg);\n  }).join(\"_\");\n};\n/**\n * _withIdRefPrefix creates a new schema object every time it runs, which prevents us from utilizing AJV's cache, triggering a compile every run\n * We can memoize the function to reuse schemas that we've already resolved, which lets us hit AJV's cache and avoid expensive recompiles\n */\n\n\nexport var withIdRefPrefix = memoize(_withIdRefPrefix, cacheKeyFn);\nvar compiledSubschemaMap = new WeakMap();\nvar withIdRefPrefixMap = new WeakMap();\n/**\n * Validates data against a schema, returning true if the data is valid, or\n * false otherwise. If the schema is invalid, then this function will return\n * false.\n */\n\nexport function isValid(schema, data, rootSchema) {\n  try {\n    var subschemaAjv;\n\n    if (compiledSubschemaMap.has(rootSchema)) {\n      subschemaAjv = compiledSubschemaMap.get(rootSchema);\n    } else {\n      // add the rootSchema, using the ROOT_SCHEMA_PREFIX as the cache key.\n      subschemaAjv = createAjvInstance();\n      subschemaAjv.addSchema(rootSchema, ROOT_SCHEMA_PREFIX);\n      compiledSubschemaMap.set(rootSchema, subschemaAjv);\n    } // rewrite the schema ref's to point to the rootSchema\n    // this accounts for the case where schema have references to models\n    // that lives in the rootSchema but not in the schema in question.\n\n\n    var prefixedSchema;\n\n    if (withIdRefPrefixMap.has(schema)) {\n      prefixedSchema = withIdRefPrefixMap.get(schema);\n    } else {\n      prefixedSchema = _withIdRefPrefix(schema);\n      withIdRefPrefixMap.set(schema, prefixedSchema);\n    }\n\n    return subschemaAjv.validate(prefixedSchema, data);\n  } catch (e) {\n    console.warn(\"Encountered error while validating schema\", e);\n    return false;\n  }\n}","function _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\nimport * as ReactIs from \"react-is\";\nimport fill from \"core-js-pure/features/array/fill\";\nimport union from \"lodash/union\";\nimport jsonpointer from \"jsonpointer\";\nimport fields from \"./components/fields\";\nimport widgets from \"./components/widgets\";\nimport validateFormData, { isValid } from \"./validate\";\nimport memoize from \"lodash/memoize\"; // Use the same default object to optimize memoized functions that rely on referential equality\n\nvar DEFAULT_ROOT_SCHEMA = {};\nvar DEFAULT_FORM_DATA = {};\nexport var ADDITIONAL_PROPERTY_FLAG = \"__additional_property\";\nvar widgetMap = {\n  \"boolean\": {\n    checkbox: \"CheckboxWidget\",\n    radio: \"RadioWidget\",\n    select: \"SelectWidget\",\n    hidden: \"HiddenWidget\"\n  },\n  string: {\n    text: \"TextWidget\",\n    password: \"PasswordWidget\",\n    email: \"EmailWidget\",\n    hostname: \"TextWidget\",\n    ipv4: \"TextWidget\",\n    ipv6: \"TextWidget\",\n    uri: \"URLWidget\",\n    \"data-url\": \"FileWidget\",\n    radio: \"RadioWidget\",\n    select: \"SelectWidget\",\n    textarea: \"TextareaWidget\",\n    hidden: \"HiddenWidget\",\n    date: \"DateWidget\",\n    datetime: \"DateTimeWidget\",\n    \"date-time\": \"DateTimeWidget\",\n    \"alt-date\": \"AltDateWidget\",\n    \"alt-datetime\": \"AltDateTimeWidget\",\n    color: \"ColorWidget\",\n    file: \"FileWidget\"\n  },\n  number: {\n    text: \"TextWidget\",\n    select: \"SelectWidget\",\n    updown: \"UpDownWidget\",\n    range: \"RangeWidget\",\n    radio: \"RadioWidget\",\n    hidden: \"HiddenWidget\"\n  },\n  integer: {\n    text: \"TextWidget\",\n    select: \"SelectWidget\",\n    updown: \"UpDownWidget\",\n    range: \"RangeWidget\",\n    radio: \"RadioWidget\",\n    hidden: \"HiddenWidget\"\n  },\n  array: {\n    select: \"SelectWidget\",\n    checkboxes: \"CheckboxesWidget\",\n    files: \"FileWidget\",\n    hidden: \"HiddenWidget\"\n  }\n};\nexport function canExpand(schema, uiSchema, formData) {\n  if (!schema.additionalProperties) {\n    return false;\n  }\n\n  var _getUiOptions = getUiOptions(uiSchema),\n      expandable = _getUiOptions.expandable;\n\n  if (expandable === false) {\n    return expandable;\n  } // if ui:options.expandable was not explicitly set to false, we can add\n  // another property if we have not exceeded maxProperties yet\n\n\n  if (schema.maxProperties !== undefined) {\n    return Object.keys(formData).length < schema.maxProperties;\n  }\n\n  return true;\n}\nexport function getDefaultRegistry() {\n  return {\n    fields: fields,\n    widgets: widgets,\n    definitions: {},\n    rootSchema: {},\n    formContext: {}\n  };\n}\n/* Gets the type of a given schema. */\n\nexport function getSchemaType(schema) {\n  var type = schema.type;\n\n  if (!type && schema[\"const\"]) {\n    return guessType(schema[\"const\"]);\n  }\n\n  if (!type && schema[\"enum\"]) {\n    return \"string\";\n  }\n\n  if (!type && (schema.properties || schema.additionalProperties)) {\n    return \"object\";\n  }\n\n  if (type instanceof Array && type.length === 2 && type.includes(\"null\")) {\n    return type.find(function (type) {\n      return type !== \"null\";\n    });\n  }\n\n  return type;\n}\nexport function getWidget(schema, widget) {\n  var registeredWidgets = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var type = getSchemaType(schema);\n\n  function mergeOptions(Widget) {\n    // cache return value as property of widget for proper react reconciliation\n    if (!Widget.MergedWidget) {\n      var defaultOptions = Widget.defaultProps && Widget.defaultProps.options || {};\n\n      Widget.MergedWidget = function (_ref) {\n        var _ref$options = _ref.options,\n            options = _ref$options === void 0 ? {} : _ref$options,\n            props = _objectWithoutProperties(_ref, [\"options\"]);\n\n        return React.createElement(Widget, _extends({\n          options: _objectSpread({}, defaultOptions, options)\n        }, props));\n      };\n    }\n\n    return Widget.MergedWidget;\n  }\n\n  if (typeof widget === \"function\" || ReactIs.isForwardRef(React.createElement(widget)) || ReactIs.isMemo(widget)) {\n    return mergeOptions(widget);\n  }\n\n  if (typeof widget !== \"string\") {\n    throw new Error(\"Unsupported widget definition: \".concat(_typeof(widget)));\n  }\n\n  if (registeredWidgets.hasOwnProperty(widget)) {\n    var registeredWidget = registeredWidgets[widget];\n    return getWidget(schema, registeredWidget, registeredWidgets);\n  }\n\n  if (!widgetMap.hasOwnProperty(type)) {\n    throw new Error(\"No widget for type \\\"\".concat(type, \"\\\"\"));\n  }\n\n  if (widgetMap[type].hasOwnProperty(widget)) {\n    var _registeredWidget = registeredWidgets[widgetMap[type][widget]];\n    return getWidget(schema, _registeredWidget, registeredWidgets);\n  }\n\n  throw new Error(\"No widget \\\"\".concat(widget, \"\\\" for type \\\"\").concat(type, \"\\\"\"));\n}\nexport function hasWidget(schema, widget) {\n  var registeredWidgets = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  try {\n    getWidget(schema, widget, registeredWidgets);\n    return true;\n  } catch (e) {\n    if (e.message && (e.message.startsWith(\"No widget\") || e.message.startsWith(\"Unsupported widget\"))) {\n      return false;\n    }\n\n    throw e;\n  }\n}\n\nvar cacheKeyFn = function cacheKeyFn() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return args.map(function (arg) {\n    return JSON.stringify(arg);\n  }).join(\"_\");\n};\n\nvar computeDefaults = memoize(_computeDefaults, cacheKeyFn);\n\nfunction _computeDefaults(_schema, parentDefaults, rootSchema) {\n  var rawFormData = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : DEFAULT_FORM_DATA;\n  var includeUndefinedValues = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n  var schema = isObject(_schema) ? _schema : {};\n  var formData = isObject(rawFormData) ? rawFormData : {}; // Compute the defaults recursively: give highest priority to deepest nodes.\n\n  var defaults = parentDefaults;\n\n  if (isObject(defaults) && isObject(schema[\"default\"])) {\n    // For object defaults, only override parent defaults that are defined in\n    // schema.default.\n    defaults = mergeObjects(defaults, schema[\"default\"]);\n  } else if (\"default\" in schema) {\n    // Use schema defaults for this node.\n    defaults = schema[\"default\"];\n  } else if (\"const\" in schema) {\n    defaults = schema[\"const\"];\n  } else if (\"$ref\" in schema) {\n    // Use referenced schema defaults for this node.\n    var refSchema = findSchemaDefinition(schema.$ref, rootSchema);\n    return computeDefaults(refSchema, defaults, rootSchema, formData, includeUndefinedValues);\n  } else if (\"dependencies\" in schema) {\n    var resolvedSchema = resolveDependencies(schema, rootSchema, formData);\n    return computeDefaults(resolvedSchema, defaults, rootSchema, formData, includeUndefinedValues);\n  } else if (isFixedItems(schema)) {\n    defaults = schema.items.map(function (itemSchema, idx) {\n      return computeDefaults(itemSchema, Array.isArray(parentDefaults) ? parentDefaults[idx] : undefined, rootSchema, formData, includeUndefinedValues);\n    });\n  } else if (\"oneOf\" in schema) {\n    schema = schema.oneOf[getMatchingOption(undefined, schema.oneOf, rootSchema)];\n  } else if (\"anyOf\" in schema) {\n    schema = schema.anyOf[getMatchingOption(undefined, schema.anyOf, rootSchema)];\n  } // Not defaults defined for this node, fallback to generic typed ones.\n\n\n  if (typeof defaults === \"undefined\") {\n    defaults = schema[\"default\"];\n  }\n\n  switch (getSchemaType(schema)) {\n    // We need to recur for object schema inner default values.\n    case \"object\":\n      return Object.keys(schema.properties || {}).reduce(function (acc, key) {\n        // Compute the defaults for this node, with the parent defaults we might\n        // have from a previous run: defaults[key].\n        var computedDefault = computeDefaults(schema.properties[key], (defaults || {})[key], rootSchema, (formData || {})[key], includeUndefinedValues);\n\n        if (includeUndefinedValues || computedDefault !== undefined) {\n          acc[key] = computedDefault;\n        }\n\n        return acc;\n      }, {});\n\n    case \"array\":\n      // Inject defaults into existing array defaults\n      if (Array.isArray(defaults)) {\n        defaults = defaults.map(function (item, idx) {\n          return computeDefaults(schema.items[idx] || schema.additionalItems || {}, item, rootSchema);\n        });\n      } // Deeply inject defaults into already existing form data\n\n\n      if (Array.isArray(rawFormData)) {\n        defaults = rawFormData.map(function (item, idx) {\n          return computeDefaults(schema.items, (defaults || {})[idx], rootSchema, item);\n        });\n      }\n\n      if (schema.minItems) {\n        if (!isMultiSelect(schema, rootSchema)) {\n          var defaultsLength = defaults ? defaults.length : 0;\n\n          if (schema.minItems > defaultsLength) {\n            var defaultEntries = defaults || []; // populate the array with the defaults\n\n            var fillerSchema = Array.isArray(schema.items) ? schema.additionalItems : schema.items;\n            var fillerEntries = fill(new Array(schema.minItems - defaultsLength), computeDefaults(fillerSchema, fillerSchema.defaults, rootSchema)); // then fill up the rest with either the item default or empty, up to minItems\n\n            return defaultEntries.concat(fillerEntries);\n          }\n        } else {\n          return defaults ? defaults : [];\n        }\n      }\n\n  }\n\n  return defaults;\n}\n\nexport function getDefaultFormState(_schema, formData) {\n  var rootSchema = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DEFAULT_ROOT_SCHEMA;\n  var includeUndefinedValues = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n  if (!isObject(_schema)) {\n    throw new Error(\"Invalid schema: \" + _schema);\n  }\n\n  var schema = retrieveSchema(_schema, rootSchema, formData);\n  var defaults = computeDefaults(schema, _schema[\"default\"], rootSchema, formData, includeUndefinedValues);\n\n  if (typeof formData === \"undefined\") {\n    // No form data? Use schema defaults.\n    return defaults;\n  }\n\n  if (isObject(formData) || Array.isArray(formData)) {\n    return mergeDefaultsWithFormData(defaults, formData);\n  }\n\n  if (formData === 0 || formData === false || formData === \"\") {\n    return formData;\n  }\n\n  return formData || defaults;\n}\n/**\n * When merging defaults and form data, we want to merge in this specific way:\n * - objects are deeply merged\n * - arrays are merged in such a way that:\n *   - when the array is set in form data, only array entries set in form data\n *     are deeply merged; additional entries from the defaults are ignored\n *   - when the array is not set in form data, the default is copied over\n * - scalars are overwritten/set by form data\n */\n\nexport function mergeDefaultsWithFormData(defaults, formData) {\n  if (Array.isArray(formData)) {\n    if (!Array.isArray(defaults)) {\n      defaults = [];\n    }\n\n    return formData.map(function (value, idx) {\n      if (defaults[idx]) {\n        return mergeDefaultsWithFormData(defaults[idx], value);\n      }\n\n      return value;\n    });\n  } else if (isObject(formData)) {\n    var acc = Object.assign({}, defaults); // Prevent mutation of source object.\n\n    return Object.keys(formData).reduce(function (acc, key) {\n      acc[key] = mergeDefaultsWithFormData(defaults ? defaults[key] : {}, formData[key]);\n      return acc;\n    }, acc);\n  } else {\n    return formData;\n  }\n}\nexport function getUiOptions(uiSchema) {\n  // get all passed options from ui:widget, ui:options, and ui:<optionName>\n  return Object.keys(uiSchema).filter(function (key) {\n    return key.indexOf(\"ui:\") === 0;\n  }).reduce(function (options, key) {\n    var value = uiSchema[key];\n\n    if (key === \"ui:widget\" && isObject(value)) {\n      console.warn(\"Setting options via ui:widget object is deprecated, use ui:options instead\");\n      return _objectSpread({}, options, value.options || {}, {\n        widget: value.component\n      });\n    }\n\n    if (key === \"ui:options\" && isObject(value)) {\n      return _objectSpread({}, options, value);\n    }\n\n    return _objectSpread({}, options, _defineProperty({}, key.substring(3), value));\n  }, {});\n}\nexport function getDisplayLabel(schema, uiSchema, rootSchema) {\n  var uiOptions = getUiOptions(uiSchema);\n  var _uiOptions$label = uiOptions.label,\n      displayLabel = _uiOptions$label === void 0 ? true : _uiOptions$label;\n  var schemaType = getSchemaType(schema);\n\n  if (schemaType === \"array\") {\n    displayLabel = isMultiSelect(schema, rootSchema) || isFilesArray(schema, uiSchema, rootSchema);\n  }\n\n  if (schemaType === \"object\") {\n    displayLabel = false;\n  }\n\n  if (schemaType === \"boolean\" && !uiSchema[\"ui:widget\"]) {\n    displayLabel = false;\n  }\n\n  if (uiSchema[\"ui:field\"]) {\n    displayLabel = false;\n  }\n\n  return displayLabel;\n}\nexport function isObject(thing) {\n  if (typeof File !== \"undefined\" && thing instanceof File) {\n    return false;\n  }\n\n  return _typeof(thing) === \"object\" && thing !== null && !Array.isArray(thing);\n}\nexport function mergeObjects(obj1, obj2) {\n  var concatArrays = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  // Recursively merge deeply nested objects.\n  var acc = Object.assign({}, obj1); // Prevent mutation of source object.\n\n  return Object.keys(obj2).reduce(function (acc, key) {\n    var left = obj1 ? obj1[key] : {},\n        right = obj2[key];\n\n    if (obj1 && obj1.hasOwnProperty(key) && isObject(right)) {\n      acc[key] = mergeObjects(left, right, concatArrays);\n    } else if (concatArrays && Array.isArray(left) && Array.isArray(right)) {\n      acc[key] = left.concat(right);\n    } else {\n      acc[key] = right;\n    }\n\n    return acc;\n  }, acc);\n}\nexport function asNumber(value) {\n  if (value === \"\") {\n    return undefined;\n  }\n\n  if (value === null) {\n    return null;\n  }\n\n  if (/\\.$/.test(value)) {\n    // \"3.\" can't really be considered a number even if it parses in js. The\n    // user is most likely entering a float.\n    return value;\n  }\n\n  if (/\\.0$/.test(value)) {\n    // we need to return this as a string here, to allow for input like 3.07\n    return value;\n  }\n\n  var n = Number(value);\n  var valid = typeof n === \"number\" && !Number.isNaN(n);\n\n  if (/\\.\\d*0$/.test(value)) {\n    // It's a number, that's cool - but we need it as a string so it doesn't screw\n    // with the user when entering dollar amounts or other values (such as those with\n    // specific precision or number of significant digits)\n    return value;\n  }\n\n  return valid ? n : value;\n}\nexport function orderProperties(properties, order) {\n  if (!Array.isArray(order)) {\n    return properties;\n  }\n\n  var arrayToHash = function arrayToHash(arr) {\n    return arr.reduce(function (prev, curr) {\n      prev[curr] = true;\n      return prev;\n    }, {});\n  };\n\n  var errorPropList = function errorPropList(arr) {\n    return arr.length > 1 ? \"properties '\".concat(arr.join(\"', '\"), \"'\") : \"property '\".concat(arr[0], \"'\");\n  };\n\n  var propertyHash = arrayToHash(properties);\n  var orderFiltered = order.filter(function (prop) {\n    return prop === \"*\" || propertyHash[prop];\n  });\n  var orderHash = arrayToHash(orderFiltered);\n  var rest = properties.filter(function (prop) {\n    return !orderHash[prop];\n  });\n  var restIndex = orderFiltered.indexOf(\"*\");\n\n  if (restIndex === -1) {\n    if (rest.length) {\n      throw new Error(\"uiSchema order list does not contain \".concat(errorPropList(rest)));\n    }\n\n    return orderFiltered;\n  }\n\n  if (restIndex !== orderFiltered.lastIndexOf(\"*\")) {\n    throw new Error(\"uiSchema order list contains more than one wildcard item\");\n  }\n\n  var complete = _toConsumableArray(orderFiltered);\n\n  complete.splice.apply(complete, [restIndex, 1].concat(_toConsumableArray(rest)));\n  return complete;\n}\n/**\n * This function checks if the given schema matches a single\n * constant value.\n */\n\nexport function isConstant(schema) {\n  return Array.isArray(schema[\"enum\"]) && schema[\"enum\"].length === 1 || schema.hasOwnProperty(\"const\");\n}\nexport function toConstant(schema) {\n  if (Array.isArray(schema[\"enum\"]) && schema[\"enum\"].length === 1) {\n    return schema[\"enum\"][0];\n  } else if (schema.hasOwnProperty(\"const\")) {\n    return schema[\"const\"];\n  } else {\n    throw new Error(\"schema cannot be inferred as a constant\");\n  }\n}\nexport function isSelect(_schema) {\n  var rootSchema = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_ROOT_SCHEMA;\n  var schema = retrieveSchema(_schema, rootSchema);\n  var altSchemas = schema.oneOf || schema.anyOf;\n\n  if (Array.isArray(schema[\"enum\"])) {\n    return true;\n  } else if (Array.isArray(altSchemas)) {\n    return altSchemas.every(function (altSchemas) {\n      return isConstant(altSchemas);\n    });\n  }\n\n  return false;\n}\nexport function isMultiSelect(schema) {\n  var rootSchema = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_ROOT_SCHEMA;\n\n  if (!schema.uniqueItems || !schema.items) {\n    return false;\n  }\n\n  return isSelect(schema.items, rootSchema);\n}\nexport function isFilesArray(schema, uiSchema) {\n  var rootSchema = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DEFAULT_ROOT_SCHEMA;\n\n  if (uiSchema[\"ui:widget\"] === \"files\") {\n    return true;\n  } else if (schema.items) {\n    var itemsSchema = retrieveSchema(schema.items, rootSchema);\n    return itemsSchema.type === \"string\" && itemsSchema.format === \"data-url\";\n  }\n\n  return false;\n}\nexport function isFixedItems(schema) {\n  return Array.isArray(schema.items) && schema.items.length > 0 && schema.items.every(function (item) {\n    return isObject(item);\n  });\n}\nexport function allowAdditionalItems(schema) {\n  if (schema.additionalItems === true) {\n    console.warn(\"additionalItems=true is currently not supported\");\n  }\n\n  return isObject(schema.additionalItems);\n}\nexport function optionsList(schema) {\n  if (schema[\"enum\"]) {\n    return schema[\"enum\"].map(function (value, i) {\n      var label = schema.enumNames && schema.enumNames[i] || String(value);\n      return {\n        label: label,\n        value: value\n      };\n    });\n  } else {\n    var altSchemas = schema.oneOf || schema.anyOf;\n    return altSchemas.map(function (schema, i) {\n      var value = toConstant(schema);\n      var label = schema.title || String(value);\n      return {\n        schema: schema,\n        label: label,\n        value: value\n      };\n    });\n  }\n}\nexport function findSchemaDefinition($ref) {\n  var rootSchema = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_ROOT_SCHEMA;\n  var origRef = $ref;\n\n  if ($ref.startsWith(\"#\")) {\n    // Decode URI fragment representation.\n    $ref = decodeURIComponent($ref.substring(1));\n  } else {\n    throw new Error(\"Could not find a definition for \".concat(origRef, \".\"));\n  }\n\n  var current = jsonpointer.get(rootSchema, $ref);\n\n  if (current === undefined) {\n    throw new Error(\"Could not find a definition for \".concat(origRef, \".\"));\n  }\n\n  if (current.hasOwnProperty(\"$ref\")) {\n    return findSchemaDefinition(current.$ref, rootSchema);\n  }\n\n  return current;\n} // In the case where we have to implicitly create a schema, it is useful to know what type to use\n//  based on the data we are defining\n\nexport var guessType = function guessType(value) {\n  if (Array.isArray(value)) {\n    return \"array\";\n  } else if (typeof value === \"string\") {\n    return \"string\";\n  } else if (value == null) {\n    return \"null\";\n  } else if (typeof value === \"boolean\") {\n    return \"boolean\";\n  } else if (!isNaN(value)) {\n    return \"number\";\n  } else if (_typeof(value) === \"object\") {\n    return \"object\";\n  } // Default to string if we can't figure it out\n\n\n  return \"string\";\n}; // This function will create new \"properties\" items for each key in our formData\n\nexport function stubExistingAdditionalProperties(schema) {\n  var rootSchema = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_ROOT_SCHEMA;\n  var formData = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DEFAULT_FORM_DATA;\n  // Clone the schema so we don't ruin the consumer's original\n  schema = _objectSpread({}, schema, {\n    properties: _objectSpread({}, schema.properties)\n  });\n  Object.keys(formData).forEach(function (key) {\n    if (schema.properties.hasOwnProperty(key)) {\n      // No need to stub, our schema already has the property\n      return;\n    }\n\n    var additionalProperties;\n\n    if (schema.additionalProperties.hasOwnProperty(\"$ref\")) {\n      additionalProperties = retrieveSchema({\n        $ref: schema.additionalProperties[\"$ref\"]\n      }, rootSchema, formData);\n    } else if (schema.additionalProperties.hasOwnProperty(\"type\")) {\n      additionalProperties = _objectSpread({}, schema.additionalProperties);\n    } else {\n      additionalProperties = {\n        type: guessType(formData[key])\n      };\n    } // The type of our new key should match the additionalProperties value;\n\n\n    schema.properties[key] = additionalProperties; // Set our additional property flag so we know it was dynamically added\n\n    schema.properties[key][ADDITIONAL_PROPERTY_FLAG] = true;\n  });\n  return schema;\n}\nexport var resolveSchema = memoize(_resolveSchema, cacheKeyFn);\nexport function _resolveSchema(schema) {\n  var rootSchema = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_ROOT_SCHEMA;\n  var formData = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DEFAULT_FORM_DATA;\n\n  if (schema.hasOwnProperty(\"$ref\")) {\n    return resolveReference(schema, rootSchema, formData);\n  } else if (schema.hasOwnProperty(\"dependencies\")) {\n    var resolvedSchema = resolveDependencies(schema, rootSchema, formData);\n    return retrieveSchema(resolvedSchema, rootSchema, formData);\n  } else if (schema.hasOwnProperty(\"allOf\")) {\n    return _objectSpread({}, schema, {\n      allOf: schema.allOf.map(function (allOfSubschema) {\n        return retrieveSchema(allOfSubschema, rootSchema, formData);\n      })\n    });\n  } else {\n    // No $ref, dependencies, or allOf attribute found, so there's nothing to resolve.\n    // Returning the original schema.\n    return schema;\n  }\n}\n\nfunction resolveReference(schema, rootSchema, formData) {\n  // Retrieve the referenced schema definition.\n  var $refSchema = findSchemaDefinition(schema.$ref, rootSchema); // Drop the $ref property of the source schema.\n\n  var $ref = schema.$ref,\n      localSchema = _objectWithoutProperties(schema, [\"$ref\"]); // Update referenced schema definition with local schema properties.\n\n\n  return retrieveSchema(_objectSpread({}, $refSchema, localSchema), rootSchema, formData);\n}\n\nexport function _retrieveSchema(schema) {\n  var rootSchema = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_ROOT_SCHEMA;\n  var formData = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DEFAULT_FORM_DATA;\n\n  if (!isObject(schema)) {\n    return DEFAULT_ROOT_SCHEMA;\n  }\n\n  var resolvedSchema = resolveSchema(schema, rootSchema, formData);\n\n  while (\"if\" in resolvedSchema) {\n    // Note that if and else are key words in javascript so extract to variable names which are allowed\n    var _resolvedSchema = resolvedSchema,\n        expression = _resolvedSchema[\"if\"],\n        then = _resolvedSchema.then,\n        otherwise = _resolvedSchema[\"else\"],\n        resolvedSchemaLessConditional = _objectWithoutProperties(_resolvedSchema, [\"if\", \"then\", \"else\"]);\n\n    var conditionalSchema = isValid(expression, formData, rootSchema) ? then : otherwise;\n\n    if (conditionalSchema) {\n      conditionalSchema = resolveSchema(conditionalSchema, rootSchema, formData);\n    }\n\n    resolvedSchema = mergeSchemas(resolvedSchemaLessConditional, conditionalSchema || {});\n  }\n\n  var allOf = resolvedSchema.allOf;\n\n  if (allOf) {\n    for (var i = 0; i < allOf.length; i++) {\n      var allOfSchema = allOf[i]; // if we see an if in our all of schema then evaluate the if schema and select the then / else, not sure if we should still merge without our if then else\n\n      if (\"if\" in allOfSchema) {\n        allOfSchema = isValid(allOfSchema[\"if\"], formData, rootSchema) ? allOfSchema.then : allOfSchema[\"else\"];\n      }\n\n      if (allOfSchema) {\n        allOfSchema = resolveSchema(allOfSchema, rootSchema, formData); // resolve references etc.\n\n        resolvedSchema = _objectSpread({}, mergeSchemas(resolvedSchema, allOfSchema));\n        delete resolvedSchema.allOf;\n      }\n    }\n  }\n\n  var hasAdditionalProperties = resolvedSchema.hasOwnProperty(\"additionalProperties\") && resolvedSchema.additionalProperties !== false;\n\n  if (hasAdditionalProperties) {\n    resolvedSchema = stubExistingAdditionalProperties(resolvedSchema, rootSchema, formData);\n  }\n\n  return resolvedSchema;\n}\nexport var retrieveSchema = memoize(_retrieveSchema, cacheKeyFn);\n\nfunction resolveDependencies(schema, rootSchema, formData) {\n  // Drop the dependencies from the source schema.\n  var _schema$dependencies = schema.dependencies,\n      dependencies = _schema$dependencies === void 0 ? {} : _schema$dependencies,\n      resolvedSchema = _objectWithoutProperties(schema, [\"dependencies\"]);\n\n  if (\"oneOf\" in resolvedSchema) {\n    resolvedSchema = resolvedSchema.oneOf[getMatchingOption(formData, resolvedSchema.oneOf, rootSchema)];\n  } else if (\"anyOf\" in resolvedSchema) {\n    resolvedSchema = resolvedSchema.anyOf[getMatchingOption(formData, resolvedSchema.anyOf, rootSchema)];\n  }\n\n  return processDependencies(dependencies, resolvedSchema, rootSchema, formData);\n}\n\nfunction processDependencies(dependencies, resolvedSchema, rootSchema, formData) {\n  // Process dependencies updating the local schema properties as appropriate.\n  for (var dependencyKey in dependencies) {\n    // Skip this dependency if its trigger property is not present.\n    if (formData[dependencyKey] === undefined) {\n      continue;\n    } // Skip this dependency if it is not included in the schema (such as when dependencyKey is itself a hidden dependency.)\n\n\n    if (resolvedSchema.properties && !(dependencyKey in resolvedSchema.properties)) {\n      continue;\n    }\n\n    var dependencyValue = dependencies[dependencyKey],\n        remainingDependencies = _objectWithoutProperties(dependencies, [dependencyKey].map(_toPropertyKey));\n\n    if (Array.isArray(dependencyValue)) {\n      resolvedSchema = withDependentProperties(resolvedSchema, dependencyValue);\n    } else if (isObject(dependencyValue)) {\n      resolvedSchema = withDependentSchema(resolvedSchema, rootSchema, formData, dependencyKey, dependencyValue);\n    }\n\n    return processDependencies(remainingDependencies, resolvedSchema, rootSchema, formData);\n  }\n\n  return resolvedSchema;\n}\n\nfunction withDependentProperties(schema, additionallyRequired) {\n  if (!additionallyRequired) {\n    return schema;\n  }\n\n  var required = Array.isArray(schema.required) ? Array.from(new Set([].concat(_toConsumableArray(schema.required), _toConsumableArray(additionallyRequired)))) : additionallyRequired;\n  return _objectSpread({}, schema, {\n    required: required\n  });\n}\n\nfunction withDependentSchema(schema, rootSchema, formData, dependencyKey, dependencyValue) {\n  var _retrieveSchema2 = retrieveSchema(dependencyValue, rootSchema, formData),\n      oneOf = _retrieveSchema2.oneOf,\n      dependentSchema = _objectWithoutProperties(_retrieveSchema2, [\"oneOf\"]);\n\n  schema = mergeSchemas(schema, dependentSchema); // Since it does not contain oneOf, we return the original schema.\n\n  if (oneOf === undefined) {\n    return schema;\n  } else if (!Array.isArray(oneOf)) {\n    throw new Error(\"invalid: it is some \".concat(_typeof(oneOf), \" instead of an array\"));\n  } // Resolve $refs inside oneOf.\n\n\n  var resolvedOneOf = oneOf.map(function (subschema) {\n    return subschema.hasOwnProperty(\"$ref\") ? resolveReference(subschema, rootSchema, formData) : subschema;\n  });\n  return withExactlyOneSubschema(schema, rootSchema, formData, dependencyKey, resolvedOneOf);\n}\n\nfunction withExactlyOneSubschema(schema, rootSchema, formData, dependencyKey, oneOf) {\n  var validSubschemas = oneOf.filter(function (subschema) {\n    if (!subschema.properties) {\n      return false;\n    }\n\n    var conditionPropertySchema = subschema.properties[dependencyKey];\n\n    if (conditionPropertySchema) {\n      var conditionSchema = {\n        type: \"object\",\n        properties: _defineProperty({}, dependencyKey, conditionPropertySchema)\n      };\n\n      var _validateFormData = validateFormData(formData, conditionSchema),\n          errors = _validateFormData.errors;\n\n      return errors.length === 0;\n    }\n  });\n\n  if (validSubschemas.length !== 1) {\n    console.warn(\"ignoring oneOf in dependencies because there isn't exactly one subschema that is valid\");\n    return schema;\n  }\n\n  var subschema = validSubschemas[0];\n\n  var _subschema$properties = subschema.properties,\n      conditionPropertySchema = _subschema$properties[dependencyKey],\n      dependentSubschema = _objectWithoutProperties(_subschema$properties, [dependencyKey].map(_toPropertyKey));\n\n  var dependentSchema = _objectSpread({}, subschema, {\n    properties: dependentSubschema\n  });\n\n  return mergeSchemas(schema, retrieveSchema(dependentSchema, rootSchema, formData));\n} // Recursively merge deeply nested schemas.\n// The difference between mergeSchemas and mergeObjects\n// is that mergeSchemas only concats arrays for\n// values under the \"required\" keyword, and when it does,\n// it doesn't include duplicate values.\n\n\nexport function mergeSchemas(obj1, obj2) {\n  var acc = Object.assign({}, obj1); // Prevent mutation of source object.\n\n  return Object.keys(obj2).reduce(function (acc, key) {\n    var left = obj1 ? obj1[key] : {},\n        right = obj2[key];\n\n    if (obj1 && obj1.hasOwnProperty(key) && isObject(right)) {\n      acc[key] = mergeSchemas(left, right);\n    } else if (obj1 && obj2 && (getSchemaType(obj1) === \"object\" || getSchemaType(obj2) === \"object\") && key === \"required\" && Array.isArray(left) && Array.isArray(right)) {\n      // Don't include duplicate values when merging\n      // \"required\" fields.\n      acc[key] = union(left, right);\n    } else {\n      acc[key] = right;\n    }\n\n    return acc;\n  }, acc);\n}\n\nfunction isArguments(object) {\n  return Object.prototype.toString.call(object) === \"[object Arguments]\";\n}\n\nexport function deepEquals(a, b) {\n  var ca = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var cb = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n\n  // Partially extracted from node-deeper and adapted to exclude comparison\n  // checks for functions.\n  // https://github.com/othiym23/node-deeper\n  if (a === b) {\n    return true;\n  } else if (typeof a === \"function\" || typeof b === \"function\") {\n    // Assume all functions are equivalent\n    // see https://github.com/rjsf-team/react-jsonschema-form/issues/255\n    return true;\n  } else if (_typeof(a) !== \"object\" || _typeof(b) !== \"object\") {\n    return false;\n  } else if (a === null || b === null) {\n    return false;\n  } else if (a instanceof Date && b instanceof Date) {\n    return a.getTime() === b.getTime();\n  } else if (a instanceof RegExp && b instanceof RegExp) {\n    return a.source === b.source && a.global === b.global && a.multiline === b.multiline && a.lastIndex === b.lastIndex && a.ignoreCase === b.ignoreCase;\n  } else if (isArguments(a) || isArguments(b)) {\n    if (!(isArguments(a) && isArguments(b))) {\n      return false;\n    }\n\n    var slice = Array.prototype.slice;\n    return deepEquals(slice.call(a), slice.call(b), ca, cb);\n  } else {\n    if (a.constructor !== b.constructor) {\n      return false;\n    }\n\n    var ka = Object.keys(a);\n    var kb = Object.keys(b); // don't bother with stack acrobatics if there's nothing there\n\n    if (ka.length === 0 && kb.length === 0) {\n      return true;\n    }\n\n    if (ka.length !== kb.length) {\n      return false;\n    }\n\n    var cal = ca.length;\n\n    while (cal--) {\n      if (ca[cal] === a) {\n        return cb[cal] === b;\n      }\n    }\n\n    ca.push(a);\n    cb.push(b);\n    ka.sort();\n    kb.sort();\n\n    for (var j = ka.length - 1; j >= 0; j--) {\n      if (ka[j] !== kb[j]) {\n        return false;\n      }\n    }\n\n    var _key2;\n\n    for (var k = ka.length - 1; k >= 0; k--) {\n      _key2 = ka[k];\n\n      if (!deepEquals(a[_key2], b[_key2], ca, cb)) {\n        return false;\n      }\n    }\n\n    ca.pop();\n    cb.pop();\n    return true;\n  }\n}\nexport function shouldRender(comp, nextProps, nextState) {\n  var props = comp.props,\n      state = comp.state;\n  return !deepEquals(props, nextProps) || !deepEquals(state, nextState);\n}\nexport function toIdSchema(schema, id, rootSchema) {\n  var formData = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : DEFAULT_FORM_DATA;\n  var idPrefix = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : \"root\";\n  var idSchema = {\n    $id: id || idPrefix\n  };\n\n  if (\"$ref\" in schema || \"dependencies\" in schema) {\n    var _schema = retrieveSchema(schema, rootSchema, formData);\n\n    return toIdSchema(_schema, id, rootSchema, formData, idPrefix);\n  }\n\n  if (\"items\" in schema && !schema.items.$ref) {\n    return toIdSchema(schema.items, id, rootSchema, formData, idPrefix);\n  }\n\n  if (schema.type !== \"object\") {\n    return idSchema;\n  }\n\n  for (var name in schema.properties || {}) {\n    var field = schema.properties[name];\n    var fieldId = idSchema.$id + \"_\" + name;\n    idSchema[name] = toIdSchema(isObject(field) ? field : {}, fieldId, rootSchema, // It's possible that formData is not an object -- this can happen if an\n    // array item has just been added, but not populated with data yet\n    (formData || {})[name], idPrefix);\n  }\n\n  return idSchema;\n}\nexport function toPathSchema(schema) {\n  var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n  var rootSchema = arguments.length > 2 ? arguments[2] : undefined;\n  var formData = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : DEFAULT_FORM_DATA;\n  var pathSchema = {\n    $name: name.replace(/^\\./, \"\")\n  };\n\n  if (\"$ref\" in schema || \"dependencies\" in schema || \"allOf\" in schema) {\n    var _schema = retrieveSchema(schema, rootSchema, formData);\n\n    return toPathSchema(_schema, name, rootSchema, formData);\n  }\n\n  if (schema.hasOwnProperty(\"additionalProperties\")) {\n    pathSchema.__rjsf_additionalProperties = true;\n  }\n\n  if (schema.hasOwnProperty(\"items\") && Array.isArray(formData)) {\n    formData.forEach(function (element, i) {\n      pathSchema[i] = toPathSchema(schema.items, \"\".concat(name, \".\").concat(i), rootSchema, element);\n    });\n  } else if (schema.hasOwnProperty(\"properties\")) {\n    for (var property in schema.properties) {\n      pathSchema[property] = toPathSchema(schema.properties[property], \"\".concat(name, \".\").concat(property), rootSchema, // It's possible that formData is not an object -- this can happen if an\n      // array item has just been added, but not populated with data yet\n      (formData || {})[property]);\n    }\n  }\n\n  return pathSchema;\n}\nexport function parseDateString(dateString) {\n  var includeTime = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  if (!dateString) {\n    return {\n      year: -1,\n      month: -1,\n      day: -1,\n      hour: includeTime ? -1 : 0,\n      minute: includeTime ? -1 : 0,\n      second: includeTime ? -1 : 0\n    };\n  }\n\n  var date = new Date(dateString);\n\n  if (Number.isNaN(date.getTime())) {\n    throw new Error(\"Unable to parse date \" + dateString);\n  }\n\n  return {\n    year: date.getUTCFullYear(),\n    month: date.getUTCMonth() + 1,\n    // oh you, javascript.\n    day: date.getUTCDate(),\n    hour: includeTime ? date.getUTCHours() : 0,\n    minute: includeTime ? date.getUTCMinutes() : 0,\n    second: includeTime ? date.getUTCSeconds() : 0\n  };\n}\nexport function toDateString(_ref2) {\n  var year = _ref2.year,\n      month = _ref2.month,\n      day = _ref2.day,\n      _ref2$hour = _ref2.hour,\n      hour = _ref2$hour === void 0 ? 0 : _ref2$hour,\n      _ref2$minute = _ref2.minute,\n      minute = _ref2$minute === void 0 ? 0 : _ref2$minute,\n      _ref2$second = _ref2.second,\n      second = _ref2$second === void 0 ? 0 : _ref2$second;\n  var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var utcTime = Date.UTC(year, month - 1, day, hour, minute, second);\n  var datetime = new Date(utcTime).toJSON();\n  return time ? datetime : datetime.slice(0, 10);\n}\nexport function utcToLocal(jsonDate) {\n  if (!jsonDate) {\n    return \"\";\n  } // required format of `\"yyyy-MM-ddThh:mm\" followed by optional \":ss\" or \":ss.SSS\"\n  // https://html.spec.whatwg.org/multipage/input.html#local-date-and-time-state-(type%3Ddatetime-local)\n  // > should be a _valid local date and time string_ (not GMT)\n  // Note - date constructor passed local ISO-8601 does not correctly\n  // change time to UTC in node pre-8\n\n\n  var date = new Date(jsonDate);\n  var yyyy = pad(date.getFullYear(), 4);\n  var MM = pad(date.getMonth() + 1, 2);\n  var dd = pad(date.getDate(), 2);\n  var hh = pad(date.getHours(), 2);\n  var mm = pad(date.getMinutes(), 2);\n  var ss = pad(date.getSeconds(), 2);\n  var SSS = pad(date.getMilliseconds(), 3);\n  return \"\".concat(yyyy, \"-\").concat(MM, \"-\").concat(dd, \"T\").concat(hh, \":\").concat(mm, \":\").concat(ss, \".\").concat(SSS);\n}\nexport function localToUTC(dateString) {\n  if (dateString) {\n    return new Date(dateString).toJSON();\n  }\n}\nexport function pad(num, size) {\n  var s = String(num);\n\n  while (s.length < size) {\n    s = \"0\" + s;\n  }\n\n  return s;\n}\nexport function dataURItoBlob(dataURI) {\n  // Split metadata from data\n  var splitted = dataURI.split(\",\"); // Split params\n\n  var params = splitted[0].split(\";\"); // Get mime-type from params\n\n  var type = params[0].replace(\"data:\", \"\"); // Filter the name property from params\n\n  var properties = params.filter(function (param) {\n    return param.split(\"=\")[0] === \"name\";\n  }); // Look for the name and use unknown if no name property.\n\n  var name;\n\n  if (properties.length !== 1) {\n    name = \"unknown\";\n  } else {\n    // Because we filtered out the other property,\n    // we only have the name case here.\n    name = properties[0].split(\"=\")[1];\n  } // Built the Uint8Array Blob parameter from the base64 string.\n\n\n  var binary = atob(splitted[1]);\n  var array = [];\n\n  for (var _i = 0; _i < binary.length; _i++) {\n    array.push(binary.charCodeAt(_i));\n  } // Create the blob object\n\n\n  var blob = new window.Blob([new Uint8Array(array)], {\n    type: type\n  });\n  return {\n    blob: blob,\n    name: name\n  };\n}\nexport function rangeSpec(schema) {\n  var spec = {};\n\n  if (schema.multipleOf) {\n    spec.step = schema.multipleOf;\n  }\n\n  if (schema.minimum || schema.minimum === 0) {\n    spec.min = schema.minimum;\n  }\n\n  if (schema.maximum || schema.maximum === 0) {\n    spec.max = schema.maximum;\n  }\n\n  return spec;\n}\nexport function getMatchingOption(formData, options, rootSchema) {\n  for (var _i2 = 0; _i2 < options.length; _i2++) {\n    var option = options[_i2]; // If the schema describes an object then we need to add slightly more\n    // strict matching to the schema, because unless the schema uses the\n    // \"requires\" keyword, an object will match the schema as long as it\n    // doesn't have matching keys with a conflicting type. To do this we use an\n    // \"anyOf\" with an array of requires. This augmentation expresses that the\n    // schema should match if any of the keys in the schema are present on the\n    // object and pass validation.\n\n    if (option.properties) {\n      // Create an \"anyOf\" schema that requires at least one of the keys in the\n      // \"properties\" object\n      var requiresAnyOf = {\n        anyOf: Object.keys(option.properties).map(function (key) {\n          return {\n            required: [key]\n          };\n        })\n      };\n      var augmentedSchema = void 0; // If the \"anyOf\" keyword already exists, wrap the augmentation in an \"allOf\"\n\n      if (option.anyOf) {\n        // Create a shallow clone of the option\n        var shallowClone = _extends({}, option);\n\n        if (!shallowClone.allOf) {\n          shallowClone.allOf = [];\n        } else {\n          // If \"allOf\" already exists, shallow clone the array\n          shallowClone.allOf = shallowClone.allOf.slice();\n        }\n\n        shallowClone.allOf.push(requiresAnyOf);\n        augmentedSchema = shallowClone;\n      } else {\n        augmentedSchema = Object.assign({}, option, requiresAnyOf);\n      } // Remove the \"required\" field as it's likely that not all fields have\n      // been filled in yet, which will mean that the schema is not valid\n\n\n      delete augmentedSchema.required;\n\n      if (isValid(augmentedSchema, formData, rootSchema)) {\n        return _i2;\n      }\n    } else if (isValid(option, formData, rootSchema)) {\n      return _i2;\n    }\n  }\n\n  return 0;\n} // Check to see if a schema specifies that a value must be true\n\nexport function schemaRequiresTrueValue(schema) {\n  // Check if const is a truthy value\n  if (schema[\"const\"]) {\n    return true;\n  } // Check if an enum has a single value of true\n\n\n  if (schema[\"enum\"] && schema[\"enum\"].length === 1 && schema[\"enum\"][0] === true) {\n    return true;\n  } // If anyOf has a single value, evaluate the subschema\n\n\n  if (schema.anyOf && schema.anyOf.length === 1) {\n    return schemaRequiresTrueValue(schema.anyOf[0]);\n  } // If oneOf has a single value, evaluate the subschema\n\n\n  if (schema.oneOf && schema.oneOf.length === 1) {\n    return schemaRequiresTrueValue(schema.oneOf[0]);\n  } // Evaluate each subschema in allOf, to see if one of them requires a true\n  // value\n\n\n  if (schema.allOf) {\n    return schema.allOf.some(schemaRequiresTrueValue);\n  }\n\n  return false;\n}","function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport _pick from \"lodash/pick\";\nimport _get from \"lodash/get\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport { default as DefaultErrorList } from \"./ErrorList\";\nimport { getDefaultFormState, retrieveSchema, shouldRender, toIdSchema, getDefaultRegistry, deepEquals, toPathSchema, isObject } from \"../utils\";\nimport validateFormData, { toErrorList } from \"../validate\";\nimport { mergeObjects } from \"../utils\";\n\nvar Form =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Form, _Component);\n\n  function Form(props) {\n    var _this;\n\n    _classCallCheck(this, Form);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Form).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"getUsedFormData\", function (formData, fields) {\n      //for the case of a single input form\n      if (fields.length === 0 && _typeof(formData) !== \"object\") {\n        return formData;\n      }\n\n      var data = _pick(formData, fields);\n\n      if (Array.isArray(formData)) {\n        return Object.keys(data).map(function (key) {\n          return data[key];\n        });\n      }\n\n      return data;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getFieldNames\", function (pathSchema, formData) {\n      var getAllPaths = function getAllPaths(_obj) {\n        var acc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n        var paths = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [\"\"];\n        Object.keys(_obj).forEach(function (key) {\n          if (_typeof(_obj[key]) === \"object\") {\n            var newPaths = paths.map(function (path) {\n              return \"\".concat(path, \".\").concat(key);\n            }); // If an object is marked with additionalProperties, all its keys are valid\n\n            if (_obj[key].__rjsf_additionalProperties && _obj[key].$name !== \"\") {\n              acc.push(_obj[key].$name);\n            } else {\n              getAllPaths(_obj[key], acc, newPaths);\n            }\n          } else if (key === \"$name\" && _obj[key] !== \"\") {\n            paths.forEach(function (path) {\n              path = path.replace(/^\\./, \"\");\n\n              var formValue = _get(formData, path); // adds path to fieldNames if it points to a value\n              // or an empty object/array\n\n\n              if (_typeof(formValue) !== \"object\" || _isEmpty(formValue)) {\n                acc.push(path);\n              }\n            });\n          }\n        });\n        return acc;\n      };\n\n      return getAllPaths(pathSchema);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (formData, newErrorSchema) {\n      if (isObject(formData) || Array.isArray(formData)) {\n        var newState = _this.getStateFromProps(_this.props, formData);\n\n        formData = newState.formData;\n      }\n\n      var mustValidate = !_this.props.noValidate && _this.props.liveValidate;\n      var state = {\n        formData: formData\n      };\n      var newFormData = formData;\n\n      if (_this.props.omitExtraData === true && _this.props.liveOmit === true) {\n        var retrievedSchema = retrieveSchema(_this.state.schema, _this.state.schema, formData);\n        var pathSchema = toPathSchema(retrievedSchema, \"\", _this.state.schema, formData);\n\n        var fieldNames = _this.getFieldNames(pathSchema, formData);\n\n        newFormData = _this.getUsedFormData(formData, fieldNames);\n        state = {\n          formData: newFormData\n        };\n      }\n\n      if (mustValidate) {\n        var schemaValidation = _this.validate(newFormData);\n\n        var errors = schemaValidation.errors;\n        var errorSchema = schemaValidation.errorSchema;\n        var schemaValidationErrors = errors;\n        var schemaValidationErrorSchema = errorSchema;\n\n        if (_this.props.extraErrors) {\n          errorSchema = mergeObjects(errorSchema, _this.props.extraErrors, !!\"concat arrays\");\n          errors = toErrorList(errorSchema);\n        }\n\n        state = {\n          formData: newFormData,\n          errors: errors,\n          errorSchema: errorSchema,\n          schemaValidationErrors: schemaValidationErrors,\n          schemaValidationErrorSchema: schemaValidationErrorSchema\n        };\n      } else if (!_this.props.noValidate && newErrorSchema) {\n        var _errorSchema = _this.props.extraErrors ? mergeObjects(newErrorSchema, _this.props.extraErrors, !!\"concat arrays\") : newErrorSchema;\n\n        state = {\n          formData: newFormData,\n          errorSchema: _errorSchema,\n          errors: toErrorList(_errorSchema)\n        };\n      }\n\n      _this.setState(state, function () {\n        return _this.props.onChange && _this.props.onChange(_this.state);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBlur\", function () {\n      if (_this.props.onBlur) {\n        var _this$props;\n\n        (_this$props = _this.props).onBlur.apply(_this$props, arguments);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFocus\", function () {\n      if (_this.props.onFocus) {\n        var _this$props2;\n\n        (_this$props2 = _this.props).onFocus.apply(_this$props2, arguments);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSubmit\", function (event) {\n      event.preventDefault();\n\n      if (event.target !== event.currentTarget) {\n        return;\n      }\n\n      event.persist();\n      var newFormData = _this.state.formData;\n\n      if (_this.props.omitExtraData === true) {\n        var retrievedSchema = retrieveSchema(_this.state.schema, _this.state.schema, newFormData);\n        var pathSchema = toPathSchema(retrievedSchema, \"\", _this.state.schema, newFormData);\n\n        var fieldNames = _this.getFieldNames(pathSchema, newFormData);\n\n        newFormData = _this.getUsedFormData(newFormData, fieldNames);\n      }\n\n      if (!_this.props.noValidate) {\n        var schemaValidation = _this.validate(newFormData);\n\n        var _errors = schemaValidation.errors;\n        var _errorSchema2 = schemaValidation.errorSchema;\n        var schemaValidationErrors = _errors;\n        var schemaValidationErrorSchema = _errorSchema2;\n\n        if (Object.keys(_errors).length > 0) {\n          if (_this.props.extraErrors) {\n            _errorSchema2 = mergeObjects(_errorSchema2, _this.props.extraErrors, !!\"concat arrays\");\n            _errors = toErrorList(_errorSchema2);\n          }\n\n          _this.setState({\n            errors: _errors,\n            errorSchema: _errorSchema2,\n            schemaValidationErrors: schemaValidationErrors,\n            schemaValidationErrorSchema: schemaValidationErrorSchema\n          }, function () {\n            if (_this.props.onError) {\n              _this.props.onError(_errors);\n            } else {\n              console.error(\"Form validation failed\", _errors);\n            }\n          });\n\n          return;\n        }\n      }\n\n      var errorSchema;\n      var errors;\n\n      if (_this.props.extraErrors) {\n        errorSchema = _this.props.extraErrors;\n        errors = toErrorList(errorSchema);\n      } else {\n        errorSchema = {};\n        errors = [];\n      }\n\n      _this.setState({\n        formData: newFormData,\n        errors: errors,\n        errorSchema: errorSchema\n      }, function () {\n        if (_this.props.onSubmit) {\n          _this.props.onSubmit(_objectSpread({}, _this.state, {\n            formData: newFormData,\n            status: \"submitted\"\n          }), event);\n        }\n      });\n    });\n\n    _this.state = _this.getStateFromProps(props, props.formData);\n\n    if (_this.props.onChange && !deepEquals(_this.state.formData, _this.props.formData)) {\n      _this.props.onChange(_this.state);\n    }\n\n    _this.formElement = null;\n    return _this;\n  }\n\n  _createClass(Form, [{\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var nextState = this.getStateFromProps(nextProps, nextProps.formData);\n\n      if (!deepEquals(nextState.formData, nextProps.formData) && !deepEquals(nextState.formData, this.state.formData) && this.props.onChange) {\n        this.props.onChange(nextState);\n      }\n\n      this.setState(nextState);\n    }\n  }, {\n    key: \"getStateFromProps\",\n    value: function getStateFromProps(props, inputFormData) {\n      var state = this.state || {};\n      var schema = \"schema\" in props ? props.schema : this.props.schema;\n      var uiSchema = \"uiSchema\" in props ? props.uiSchema : this.props.uiSchema;\n      var edit = typeof inputFormData !== \"undefined\";\n      var liveValidate = \"liveValidate\" in props ? props.liveValidate : this.props.liveValidate;\n      var mustValidate = edit && !props.noValidate && liveValidate;\n      var rootSchema = schema;\n      var formData = getDefaultFormState(schema, inputFormData, rootSchema);\n      var retrievedSchema = retrieveSchema(schema, rootSchema, formData);\n      var customFormats = props.customFormats;\n      var additionalMetaSchemas = props.additionalMetaSchemas;\n\n      var getCurrentErrors = function getCurrentErrors() {\n        if (props.noValidate) {\n          return {\n            errors: [],\n            errorSchema: {}\n          };\n        } else if (!props.liveValidate) {\n          return {\n            errors: state.schemaValidationErrors || [],\n            errorSchema: state.schemaValidationErrorSchema || {}\n          };\n        }\n\n        return {\n          errors: state.errors || [],\n          errorSchema: state.errorSchema || {}\n        };\n      };\n\n      var errors, errorSchema, schemaValidationErrors, schemaValidationErrorSchema;\n\n      if (mustValidate) {\n        var schemaValidation = this.validate(formData, schema, additionalMetaSchemas, customFormats);\n        errors = schemaValidation.errors;\n        errorSchema = schemaValidation.errorSchema;\n        schemaValidationErrors = errors;\n        schemaValidationErrorSchema = errorSchema;\n      } else {\n        var currentErrors = getCurrentErrors();\n        errors = currentErrors.errors;\n        errorSchema = currentErrors.errorSchema;\n        schemaValidationErrors = state.schemaValidationErrors;\n        schemaValidationErrorSchema = state.schemaValidationErrorSchema;\n      }\n\n      if (props.extraErrors) {\n        errorSchema = mergeObjects(errorSchema, props.extraErrors, !!\"concat arrays\");\n        errors = toErrorList(errorSchema);\n      }\n\n      var idSchema = toIdSchema(retrievedSchema, uiSchema[\"ui:rootFieldId\"], rootSchema, formData, props.idPrefix);\n      var nextState = {\n        schema: schema,\n        uiSchema: uiSchema,\n        idSchema: idSchema,\n        formData: formData,\n        edit: edit,\n        errors: errors,\n        errorSchema: errorSchema,\n        additionalMetaSchemas: additionalMetaSchemas\n      };\n\n      if (schemaValidationErrors) {\n        nextState.schemaValidationErrors = schemaValidationErrors;\n        nextState.schemaValidationErrorSchema = schemaValidationErrorSchema;\n      }\n\n      return nextState;\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return shouldRender(this, nextProps, nextState);\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(formData) {\n      var schema = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props.schema;\n      var additionalMetaSchemas = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.props.additionalMetaSchemas;\n      var customFormats = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : this.props.customFormats;\n      var _this$props3 = this.props,\n          validate = _this$props3.validate,\n          transformErrors = _this$props3.transformErrors;\n\n      var _this$getRegistry = this.getRegistry(),\n          rootSchema = _this$getRegistry.rootSchema;\n\n      var resolvedSchema = retrieveSchema(schema, rootSchema, formData);\n      return validateFormData(formData, resolvedSchema, validate, transformErrors, additionalMetaSchemas, customFormats);\n    }\n  }, {\n    key: \"renderErrors\",\n    value: function renderErrors() {\n      var _this$state = this.state,\n          errors = _this$state.errors,\n          errorSchema = _this$state.errorSchema,\n          schema = _this$state.schema,\n          uiSchema = _this$state.uiSchema;\n      var _this$props4 = this.props,\n          ErrorList = _this$props4.ErrorList,\n          showErrorList = _this$props4.showErrorList,\n          formContext = _this$props4.formContext;\n\n      if (errors.length && showErrorList != false) {\n        return React.createElement(ErrorList, {\n          errors: errors,\n          errorSchema: errorSchema,\n          schema: schema,\n          uiSchema: uiSchema,\n          formContext: formContext\n        });\n      }\n\n      return null;\n    }\n  }, {\n    key: \"getRegistry\",\n    value: function getRegistry() {\n      // For BC, accept passed SchemaField and TitleField props and pass them to\n      // the \"fields\" registry one.\n      var _getDefaultRegistry = getDefaultRegistry(),\n          fields = _getDefaultRegistry.fields,\n          widgets = _getDefaultRegistry.widgets;\n\n      return {\n        fields: _objectSpread({}, fields, this.props.fields),\n        widgets: _objectSpread({}, widgets, this.props.widgets),\n        ArrayFieldTemplate: this.props.ArrayFieldTemplate,\n        ObjectFieldTemplate: this.props.ObjectFieldTemplate,\n        FieldTemplate: this.props.FieldTemplate,\n        definitions: this.props.schema.definitions || {},\n        rootSchema: this.props.schema,\n        formContext: this.props.formContext || {}\n      };\n    }\n  }, {\n    key: \"submit\",\n    value: function submit() {\n      if (this.formElement) {\n        this.formElement.dispatchEvent(new CustomEvent(\"submit\", {\n          cancelable: true\n        }));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props5 = this.props,\n          children = _this$props5.children,\n          id = _this$props5.id,\n          idPrefix = _this$props5.idPrefix,\n          className = _this$props5.className,\n          tagName = _this$props5.tagName,\n          name = _this$props5.name,\n          method = _this$props5.method,\n          target = _this$props5.target,\n          action = _this$props5.action,\n          deprecatedAutocomplete = _this$props5.autocomplete,\n          currentAutoComplete = _this$props5.autoComplete,\n          enctype = _this$props5.enctype,\n          acceptcharset = _this$props5.acceptcharset,\n          noHtml5Validate = _this$props5.noHtml5Validate,\n          disabled = _this$props5.disabled,\n          formContext = _this$props5.formContext;\n      var _this$state2 = this.state,\n          schema = _this$state2.schema,\n          uiSchema = _this$state2.uiSchema,\n          formData = _this$state2.formData,\n          errorSchema = _this$state2.errorSchema,\n          idSchema = _this$state2.idSchema;\n      var registry = this.getRegistry();\n      var _SchemaField = registry.fields.SchemaField;\n      var FormTag = tagName ? tagName : \"form\";\n\n      if (deprecatedAutocomplete) {\n        console.warn(\"Using autocomplete property of Form is deprecated, use autoComplete instead.\");\n      }\n\n      var autoComplete = currentAutoComplete ? currentAutoComplete : deprecatedAutocomplete;\n      return React.createElement(FormTag, {\n        className: className ? className : \"rjsf\",\n        id: id,\n        name: name,\n        method: method,\n        target: target,\n        action: action,\n        autoComplete: autoComplete,\n        encType: enctype,\n        acceptCharset: acceptcharset,\n        noValidate: noHtml5Validate,\n        onSubmit: this.onSubmit,\n        ref: function ref(form) {\n          _this2.formElement = form;\n        }\n      }, this.renderErrors(), React.createElement(_SchemaField, {\n        schema: schema,\n        uiSchema: uiSchema,\n        errorSchema: errorSchema,\n        idSchema: idSchema,\n        idPrefix: idPrefix,\n        formContext: formContext,\n        formData: formData,\n        onChange: this.onChange,\n        onBlur: this.onBlur,\n        onFocus: this.onFocus,\n        registry: registry,\n        disabled: disabled\n      }), children ? children : React.createElement(\"div\", null, React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-info\"\n      }, \"Submit\")));\n    }\n  }]);\n\n  return Form;\n}(Component);\n\n_defineProperty(Form, \"defaultProps\", {\n  uiSchema: {},\n  noValidate: false,\n  liveValidate: false,\n  disabled: false,\n  noHtml5Validate: false,\n  ErrorList: DefaultErrorList,\n  omitExtraData: false\n});\n\nexport { Form as default };\n\nif (process.env.NODE_ENV !== \"production\") {\n  Form.propTypes = {\n    schema: PropTypes.object.isRequired,\n    uiSchema: PropTypes.object,\n    formData: PropTypes.any,\n    widgets: PropTypes.objectOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])),\n    fields: PropTypes.objectOf(PropTypes.elementType),\n    ArrayFieldTemplate: PropTypes.elementType,\n    ObjectFieldTemplate: PropTypes.elementType,\n    FieldTemplate: PropTypes.elementType,\n    ErrorList: PropTypes.func,\n    onChange: PropTypes.func,\n    onError: PropTypes.func,\n    showErrorList: PropTypes.bool,\n    onSubmit: PropTypes.func,\n    id: PropTypes.string,\n    className: PropTypes.string,\n    tagName: PropTypes.elementType,\n    name: PropTypes.string,\n    method: PropTypes.string,\n    target: PropTypes.string,\n    action: PropTypes.string,\n    autocomplete: PropTypes.string,\n    autoComplete: PropTypes.string,\n    enctype: PropTypes.string,\n    acceptcharset: PropTypes.string,\n    noValidate: PropTypes.bool,\n    noHtml5Validate: PropTypes.bool,\n    liveValidate: PropTypes.bool,\n    validate: PropTypes.func,\n    transformErrors: PropTypes.func,\n    formContext: PropTypes.object,\n    customFormats: PropTypes.object,\n    additionalMetaSchemas: PropTypes.arrayOf(PropTypes.object),\n    omitExtraData: PropTypes.bool,\n    extraErrors: PropTypes.object\n  };\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Form from \"./\";\n\nfunction withTheme(themeProps) {\n  return forwardRef(function (_ref, ref) {\n    var fields = _ref.fields,\n        widgets = _ref.widgets,\n        directProps = _objectWithoutProperties(_ref, [\"fields\", \"widgets\"]);\n\n    fields = _objectSpread({}, themeProps.fields, fields);\n    widgets = _objectSpread({}, themeProps.widgets, widgets);\n    return React.createElement(Form, _extends({}, themeProps, directProps, {\n      fields: fields,\n      widgets: widgets,\n      ref: ref\n    }));\n  });\n}\n\nwithTheme.propTypes = {\n  widgets: PropTypes.object,\n  fields: PropTypes.object\n};\nexport default withTheme;","import React from 'react'\n\nconst AddToList = (props: React.SVGProps<SVGSVGElement>) => {\n  return (\n    <svg\n      {...props}\n      className={`SRC-add-to-list-icon ${props.className ?? ''}`}\n      style={{\n        ...props.style,\n      }}\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M14 10H2V12H14V10ZM14 6H2V8H14V6ZM18 14V10H16V14H12V16H16V20H18V16H22V14H18ZM2 16H10V14H2V16Z\"\n        fill=\"#515359\"\n      />\n    </svg>\n  )\n}\n\nexport default AddToList\n","import { Collapse } from '@mui/material'\nimport React from 'react'\n\nexport type FieldDescriptionTableProps = {\n  type: string\n  required: boolean\n  description: React.ReactNode\n  show: boolean\n}\n\nexport default function FieldDescriptionTable(\n  props: FieldDescriptionTableProps,\n) {\n  const { description, required, type, show } = props\n\n  return (\n    <Collapse className=\"field-description\" in={show}>\n      <table className=\"FieldDescriptionTable\">\n        <tbody>\n          {description && (\n            <tr>\n              <th>Description</th>\n              <td>{description}</td>\n            </tr>\n          )}\n          <tr>\n            <th>Type</th>\n            <td>{type}</td>\n          </tr>\n          <tr>\n            <th>Required</th>\n            <td>{required ? 'Yes' : 'No'}</td>\n          </tr>\n        </tbody>\n      </table>\n    </Collapse>\n  )\n}\n","import { Add, Close, HelpOutline } from '@mui/icons-material'\nimport { ArrayFieldTemplateProps, utils } from '@sage-bionetworks/rjsf-core'\nimport React, { useEffect, useState } from 'react'\nimport { Button, FormGroup, FormLabel } from 'react-bootstrap'\nimport FieldDescriptionTable from './FieldDescriptionTable'\n\n/**\n * Custom field template for array properties in a react-jsonschema-form component.\n * Used just to apply custom styling.\n */\nexport function CustomArrayFieldTemplate<T>(props: ArrayFieldTemplateProps<T>) {\n  const { DescriptionField } = props\n\n  const isAdditionalProperty = props.schema[utils.ADDITIONAL_PROPERTY_FLAG]\n\n  useEffect(() => {\n    if (props.items.length === 0) {\n      props.onAddClick()\n    }\n  }, [props])\n\n  const [showDetails, setShowDetails] = useState(false)\n\n  return (\n    <FormGroup className={props.className}>\n      <div className=\"LabelContainer\">\n        <FormLabel>\n          {props.title}\n          {props.required && <span className=\"required\">*</span>}\n        </FormLabel>\n        {!isAdditionalProperty && (\n          <button\n            aria-label=\"More Info\"\n            aria-expanded={showDetails}\n            onClick={e => {\n              e.preventDefault()\n              setShowDetails(!showDetails)\n            }}\n          >\n            <HelpOutline className=\"HelpButton SRC-primary-text-color\" />\n          </button>\n        )}\n      </div>\n      {props.items && (\n        <>\n          {props.items.map((element, index) => (\n            <div key={element.key} className=\"array-item\">\n              {element.children}\n              {(isAdditionalProperty || props.items.length > 1) && (\n                <Button\n                  aria-label={`Remove ${props.title}[${index}]`}\n                  variant=\"transparent-primary-500\"\n                  className=\"RemoveButton\"\n                  disabled={props.disabled}\n                  onClick={element.onDropIndexClick(element.index)}\n                >\n                  <Close />\n                </Button>\n              )}\n              {props.canAdd && index === props.items.length - 1 && (\n                <Button\n                  aria-label={`Add new ${props.title}`}\n                  variant=\"primary-500\"\n                  className=\"AddButton\"\n                  onClick={props.onAddClick}\n                  type=\"button\"\n                  disabled={props.disabled}\n                >\n                  <Add />\n                </Button>\n              )}\n            </div>\n          ))}\n          {props.items.length === 0 && (\n            <div style={{ display: 'flex' }}>\n              <Button\n                variant=\"primary-500\"\n                onClick={props.onAddClick}\n                type=\"button\"\n                disabled={props.disabled}\n              >\n                Add Value\n              </Button>\n            </div>\n          )}\n        </>\n      )}\n      <FieldDescriptionTable\n        required={props.required}\n        type={props.schema.type as string}\n        description={\n          <DescriptionField\n            id={`${props.idSchema.$id}__description`}\n            description={props.schema.description ?? ''}\n          />\n        }\n        show={showDetails}\n      />\n    </FormGroup>\n  )\n}\n","import { FieldProps, utils as rjsfUtils } from '@sage-bionetworks/rjsf-core'\nimport { isEqual } from 'lodash-es'\nimport React, { useEffect, useState } from 'react'\nimport { FormControl, FormGroup, FormLabel } from 'react-bootstrap'\nimport { useListState } from '../../../utils/hooks/useListState'\nimport FullWidthAlert from '../../FullWidthAlert/FullWidthAlert'\nimport { CustomArrayFieldTemplate } from './CustomArrayFieldTemplate'\n\n// Matches ####-##-##T##:##:##.###Z, e.g. 1970-01-01T12:00:000Z\nconst ISO_TIMESTAMP_REGEX = /\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z/\n\n// Types that correspond to the different input fields that the annotation editor supports\nexport enum PropertyType {\n  STRING = 'String',\n  INTEGER = 'Integer',\n  FLOAT = 'Float',\n  BOOLEAN = 'Boolean',\n  DATETIME = 'Datetime',\n}\n\n// Selection of react-jsonschema-form Widget types that we can use for the supported property fields\nexport enum AdditionalPropertyWidget {\n  TextWidget = 'TextWidget',\n  DateTimeWidget = 'DateTimeWidget',\n  CheckboxWidget = 'CheckboxWidget',\n}\n\nexport function guessPropertyType(list: Array<any>): PropertyType {\n  if (\n    list.every(\n      item => typeof item === 'number' || item === 'NaN', // \"NaN\" is technically a float value\n    )\n  ) {\n    if (list.every(item => Number.isInteger(item))) {\n      return PropertyType.INTEGER\n    } else {\n      return PropertyType.FLOAT\n    }\n  } else if (list.every(item => typeof item === 'boolean')) {\n    return PropertyType.BOOLEAN\n  } else if (\n    list.every(item => typeof item === 'string') &&\n    list.every((item: string) => !!ISO_TIMESTAMP_REGEX.exec(item))\n  ) {\n    return PropertyType.DATETIME\n  }\n  // otherwise, default type is 'string'\n  return PropertyType.STRING\n}\n\nexport function transformDataFromPropertyType(\n  list: Array<any>,\n  propertyType: PropertyType,\n) {\n  switch (propertyType) {\n    case PropertyType.INTEGER:\n      return list.map(item =>\n        Number.isNaN(Number(item)) ? undefined : Math.floor(Number(item)),\n      )\n\n    case PropertyType.FLOAT:\n      return list.map(item => {\n        const asFloat = parseFloat(item)\n        if (Number.isNaN(asFloat)) {\n          return 'NaN'\n        } else if (Number.isInteger(asFloat)) {\n          return asFloat.toFixed(1)\n        } else {\n          return asFloat\n        }\n      })\n    case PropertyType.DATETIME:\n      return list.map(item => {\n        if (typeof item === 'string' && ISO_TIMESTAMP_REGEX.exec(item)) {\n          return item\n        } else {\n          return undefined\n        }\n      })\n    case PropertyType.BOOLEAN:\n      return list.map(item => !!item)\n    case PropertyType.STRING:\n    default:\n      return list.map(item => String(item))\n  }\n}\n\nexport function getWidgetFromPropertyType(\n  propertyType: PropertyType,\n): AdditionalPropertyWidget {\n  switch (propertyType) {\n    case PropertyType.DATETIME:\n      return AdditionalPropertyWidget.DateTimeWidget\n    case PropertyType.BOOLEAN:\n      return AdditionalPropertyWidget.CheckboxWidget\n    case PropertyType.STRING:\n    case PropertyType.INTEGER:\n    case PropertyType.FLOAT:\n    default:\n      return AdditionalPropertyWidget.TextWidget\n  }\n}\n\n/**\n * react-jsonschema-form SchemaField override for \"additionalProperties\" only.\n * Modifies the data to provide full compatibility with Synapse annotations features.\n *\n * This component provides these enhancements to the SchemaField:\n * - Supports selecting a type, and changing the input widget appropriately\n * - Identifying the type on mount\n * - Treat all field values as arrays\n * - When the last array value is removed, remove the entire key from the form.\n * @param props\n * @returns\n */\nexport function AdditionalPropertiesSchemaField<T>(\n  props: FieldProps<T> & {\n    onDropPropertyClick: (key: string) => (event: any) => void\n  },\n) {\n  /**\n   * Custom annotations in Synapse are always arrays. This function converts initial data to be an array type.\n   * If the initial data is an array, return the data itself.\n   * If the intitial data is a string, returns an array of substrings separated by commas.\n   * Otherwise, wrap the data in an array.\n   */\n  function convertToArray(value: T): Array<any> {\n    if (Array.isArray(value)) {\n      return value\n    } else if (typeof value === 'string') {\n      return value.split(',').map(s => s.trim()) // split a string of comma-separated values, then trim whitespace\n    } else {\n      return [value]\n    }\n  }\n\n  const {\n    id,\n    formData,\n    onChange,\n    registry,\n    schema,\n    name,\n    onDropPropertyClick,\n    uiSchema,\n  } = props\n\n  const { list, handleListChange, handleListRemove, appendToList, setList } =\n    useListState(convertToArray(formData))\n\n  // The type determines which widget we show.\n  const [propertyType, setPropertyType] = useState(guessPropertyType(list))\n\n  // If the property type is updated, store it in a new variable where we'll show a warning if data may be lost on coersion\n  const [nextPropertyType, setNextPropertyType] = useState(propertyType)\n\n  const [widget, setWidget] = useState<AdditionalPropertyWidget>(\n    AdditionalPropertyWidget.TextWidget,\n  )\n\n  useEffect(() => {\n    // The item may not be an array when we get it, and we need to convert it right away because the order of items is not stable, and seems to depend on if the item is an array or not.\n    // Otherwise, the order of the properties will change when the user modifies the data. We may be able to fix this by modifying react-jsonschema-form to stabilize the item order.\n\n    // FIXME: This doesn't work without a delay.\n    setTimeout(() => {\n      onChange(list)\n    }, 50)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  /**\n   * This effect is invoked whenever the user attempts to change the data type of a custom annotation.\n   */\n  useEffect(() => {\n    function onNextPropertyTypeUpdate() {\n      const dataIsEmpty =\n        list.length === 0 || list.every(item => item == null || item == '')\n      const coercedList = transformDataFromPropertyType(list, nextPropertyType)\n      // if the data is empty or identical after conversion, then just update the property type\n      if (dataIsEmpty || nextPropertyType !== propertyType) {\n        if (isEqual(list, coercedList)) {\n          setPropertyType(nextPropertyType)\n        }\n      }\n    }\n\n    onNextPropertyTypeUpdate()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [nextPropertyType])\n\n  /**\n   * This effect is invoked whenever the propertyType changes.\n   */\n  useEffect(() => {\n    function coerceDataAndUpdateWidget() {\n      const coercedList = transformDataFromPropertyType(list, nextPropertyType)\n\n      // Data conversion is non-destructive or has been confirmed by the user\n      setPropertyType(nextPropertyType)\n      // When the selected type changes, switch to the appropriate widget for accepting input\n      setWidget(getWidgetFromPropertyType(nextPropertyType))\n      // Coerce the data to match the new type\n      setList(coercedList)\n    }\n\n    coerceDataAndUpdateWidget()\n    // Don't add other properties to dependency array because we don't want to automatically coerce input\n    // i.e. Only coerce data when the type changes, which should only be on mount or when the user explicitly chooses a new type.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [propertyType])\n\n  useEffect(() => {\n    onChange(list)\n  }, [onChange, list])\n\n  const Widget = rjsfUtils.getWidget(\n    schema,\n    AdditionalPropertyWidget[widget],\n    registry.widgets,\n  )\n\n  const items = list.map((item: unknown, index: number) => {\n    return {\n      children: (\n        <Widget\n          id={`${name}-${index}`}\n          aria-label={`${name}-${index}`}\n          schema={schema}\n          value={item}\n          onChange={(value: any) => {\n            handleListChange(index)(value)\n          }}\n          uiSchema={uiSchema}\n          required={props.required}\n          disabled={props.disabled}\n          readonly={props.readonly}\n          autofocus={props.autofocus}\n          placeholder={props.placeholder ?? ''}\n          options={{}}\n          formContext={props.formContext as T}\n          onFocus={props.onFocus}\n          onBlur={(id: string, value: any) => {\n            setList(transformDataFromPropertyType(list, propertyType))\n            props.onBlur(id, value)\n          }}\n          label={props.title ?? ''}\n          multiple={true}\n          rawErrors={[]}\n          // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n          // @ts-ignore - The Widget needs the registry prop even though it's not in the type signature\n          registry={registry}\n        />\n      ),\n      onDropIndexClick: () => {\n        if (list.length === 1) {\n          // If this is the only item, then remove the property from the field\n          return onDropPropertyClick(name)\n        } else {\n          // Otherwise, remove the item from the list\n          return handleListRemove(index)\n        }\n      },\n      className: props.className ?? '',\n      disabled: props.disabled,\n      hasMoveDown: false,\n      hasMoveUp: false,\n      hasRemove: false,\n      hasToolbar: false,\n      index: index,\n      onAddIndexClick: () => {\n        return () => {\n          // no-op\n        }\n      },\n      onReorderClick: () => {\n        return () => {\n          //no-op\n        }\n      },\n      readonly: props.readonly,\n      key: `${index}`,\n    }\n  })\n\n  return (\n    <>\n      <FormGroup className=\"col-xs-3\">\n        <FormLabel htmlFor={`${id}-type`}>Type</FormLabel>\n        <FormControl\n          as=\"select\"\n          role=\"listbox\"\n          disabled={props.disabled}\n          readOnly={props.readonly}\n          value={propertyType}\n          required={true}\n          id={`${id}-type`}\n          onChange={e => {\n            setNextPropertyType(e.target.value as PropertyType)\n          }}\n        >\n          {Object.keys(PropertyType).map(type => (\n            <option key={type} value={PropertyType[type] as string}>\n              {PropertyType[type]}\n            </option>\n          ))}\n        </FormControl>\n      </FormGroup>\n      <CustomArrayFieldTemplate\n        className=\"col-xs-6\"\n        onAddClick={() => appendToList(null)}\n        canAdd={true}\n        title={name}\n        schema={schema}\n        items={items}\n        registry={registry}\n        DescriptionField={() => null}\n        TitleField={() => null}\n        disabled={props.disabled}\n        idSchema={props.idSchema}\n        readonly={props.readonly}\n        required={props.required}\n        uiSchema={props.uiSchema}\n        formContext={props.formContext as unknown}\n        formData={props.formData}\n      />\n      {propertyType !== nextPropertyType && (\n        <FullWidthAlert\n          variant=\"warning\"\n          title=\"Data may be lost when converting types\"\n          description={`Are you sure you want to convert ${name} from ${propertyType} to ${nextPropertyType}? Current values may be lost on conversion.`}\n          primaryButtonConfig={{\n            text: 'Convert',\n            onClick: () => {\n              setPropertyType(nextPropertyType)\n            },\n          }}\n          secondaryButtonConfig={{\n            text: 'Cancel',\n            onClick: () => {\n              setNextPropertyType(propertyType)\n            },\n          }}\n          isGlobal={false}\n        />\n      )}\n    </>\n  )\n}\n","import { AjvError } from '@sage-bionetworks/rjsf-core'\nimport { flatMap, groupBy, isEmpty } from 'lodash-es'\nimport { ENTITY_CONCRETE_TYPE } from '@sage-bionetworks/synapse-types'\nimport { entityJsonKeys } from '../../../utils/functions/EntityTypeUtils'\n\n/**\n * Strips null values from arrays in the provided form data. If the array is empty after\n * removing null values, the key is removed from the form data.\n *\n * This allows users to submit forms with empty array fields (SWC-5762)\n */\nexport function dropNullishArrayValues(\n  formData: Record<string, unknown>,\n): Record<string, unknown> {\n  const newFormData: Record<string, unknown> = {}\n  Object.keys(formData).forEach(key => {\n    let value = formData[key]\n    if (Array.isArray(value)) {\n      value = value.filter((item: any) => item != null)\n      if (!isEmpty(value)) {\n        newFormData[key] = value\n      }\n    } else {\n      newFormData[key] = value\n    }\n  })\n  return newFormData\n}\n\n/**\n * Inspects the property of the AjvError and modifies it to be comparable to simple key strings, like entity property keys.\n * @param error\n * @returns\n */\nexport function getFriendlyPropertyName(error: AjvError) {\n  if (error.property.startsWith('[')) {\n    // Additional properties are surrounded by brackets and quotations, so let's remove them\n    return error.property.substring(2, error.property.length - 2)\n  } else if (error.property.startsWith('.')) {\n    return error.property.substring(1)\n  } else {\n    return error.property\n  }\n}\n\nexport function getTransformErrors(concreteType?: ENTITY_CONCRETE_TYPE) {\n  return (errors: AjvError[]): AjvError[] => {\n    // Transform the errors in the following ways:\n    // - Simplify the set of errors when failing to select an enumeration defined with an anyOf (SWC-5724)\n    // - Show a custom error message when using a property that collides with an internal entity property (SWC-5678)\n\n    // Fixing anyOf errors\n    // Group the errors by the property that the error applies to\n    const grouped = groupBy(errors, error => error.property)\n    Object.keys(grouped).map(property => {\n      const errorGroup = grouped[property]\n\n      // First, see if it is an anyOf error\n      const hasAnyOfError = errorGroup.some(\n        e => e.message === 'should match some schema in anyOf',\n      )\n\n      // We determine if it's an anyOf *enum* error if all error messages in the property match one of these three messages:\n      const isEnumError =\n        hasAnyOfError &&\n        errorGroup.every(error => {\n          if (error.message === 'should be string') {\n            return true\n          } else if (error.message === 'should be equal to constant') {\n            return true\n          } else if (error.message === 'should match some schema in anyOf') {\n            return true\n          } else {\n            return false\n          }\n        })\n\n      // If it's an anyOf enum error, we just modify the first message and drop the rest\n      if (isEnumError && errorGroup.length > 0) {\n        errorGroup[0].message = 'should be equal to one of the allowed values'\n        grouped[property] = [errorGroup[0]]\n      }\n    })\n\n    // Ungroup the errors after potentially modifying them\n    errors = flatMap(grouped)\n\n    // Custom error message if the custom annotation key collides with an internal entity property\n    if (concreteType) {\n      errors = errors.map(error => {\n        const propertyName = getFriendlyPropertyName(error)\n        if (entityJsonKeys[concreteType].includes(propertyName)) {\n          error.message = `\"${propertyName}\" is a reserved internal key and cannot be used.`\n        }\n        return error\n      })\n    }\n\n    // Return the transformed errors.\n    return errors\n  }\n}\n","import { FieldTemplateProps } from '@sage-bionetworks/rjsf-core'\nimport React from 'react'\nimport { FormControl, FormGroup, FormLabel } from 'react-bootstrap'\n\n/**\n * FieldTemplate override for \"additionalProperties\" fields to customize the form appearance.\n *\n * Adapted from 'WrapIfAdditional' in @rsjf/core.\n * @param props\n * @returns\n */\nexport const CustomAdditionalPropertiesFieldTemplate = (\n  props: FieldTemplateProps & {\n    onKeyChange: (newKey: string) => void\n  },\n) => {\n  const {\n    id,\n    label,\n    children,\n    errors,\n    help,\n    description,\n    hidden,\n    required,\n    displayLabel,\n    classNames,\n    disabled,\n    onKeyChange,\n    readonly,\n  } = props\n\n  const keyLabel = `Key` // i18n ?\n  if (hidden) {\n    return <div className=\"hidden\">{children}</div>\n  }\n  return (\n    <div className={`${classNames ?? ''} container-fluid`}>\n      <div className=\"row form-additional\">\n        <div className=\"col-xs-3\">\n          <FormGroup>\n            <FormLabel id={`${id}-key-label`} htmlFor={`${id}-key`}>\n              {keyLabel}\n            </FormLabel>\n            <FormControl\n              type=\"text\"\n              disabled={disabled}\n              readOnly={readonly}\n              defaultValue={label}\n              required={required}\n              id={`${id}-key`}\n              onBlur={(event: {\n                preventDefault: () => void\n                target: { value: string }\n              }) => {\n                event.preventDefault()\n                onKeyChange(event.target.value)\n              }}\n            />\n          </FormGroup>\n        </div>\n        {displayLabel && <FormLabel id={id}>{label}</FormLabel>}\n        {displayLabel && description ? description : null}\n        {children}\n        {errors}\n        {help}\n      </div>\n    </div>\n  )\n}\n","import { Widget, WidgetProps } from '@sage-bionetworks/rjsf-core'\nimport React from 'react'\nimport { FormControl } from 'react-bootstrap'\n\n/**\n * Select widget compatible with react-jsonschema-form booleans\n */\nexport const CustomBooleanWidget: Widget = ({\n  id,\n  disabled,\n  value,\n  onChange,\n}: WidgetProps) => {\n  return (\n    <FormControl\n      id={id}\n      as=\"select\"\n      disabled={disabled}\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n      value={value === undefined ? value : `${value}`}\n      onChange={event => {\n        const newValue = event.target.value\n        if (newValue === '') {\n          onChange(undefined)\n        } else if (newValue === 'true') {\n          onChange(true)\n        } else if (newValue === 'false') {\n          onChange(false)\n        }\n      }}\n    >\n      <option value=\"\"></option>\n      <option value={'true'}>true</option>\n      <option value={'false'}>false</option>\n    </FormControl>\n  )\n}\n","import { Widget, WidgetProps } from '@sage-bionetworks/rjsf-core'\nimport dayjs, { Dayjs } from 'dayjs'\nimport React from 'react'\nimport { CalendarWithIconFormGroup } from '../../Evaluation/CalendarWithIconFormGroup'\n\n/**\n * DateTime picker widget compatible with react-jsonschema-form and Synapse Datetime annotations.\n */\nexport const CustomDateTimeWidget: Widget = ({\n  disabled,\n  value,\n  onChange,\n}: WidgetProps) => {\n  return (\n    <CalendarWithIconFormGroup\n      disabled={disabled}\n      value={value ? dayjs(value) : ''}\n      setterCallback={(newValue: string | Dayjs | null) => {\n        if (newValue == null || typeof newValue === 'string') {\n          onChange(newValue)\n        } else {\n          onChange(newValue.toISOString())\n        }\n      }}\n    ></CalendarWithIconFormGroup>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { FormLabel } from 'react-bootstrap'\nimport { FieldTemplateProps } from '@sage-bionetworks/rjsf-core'\nimport { HelpOutline } from '@mui/icons-material'\nimport FieldDescriptionTable from './FieldDescriptionTable'\n\nexport function CustomDefaultTemplate<T>(\n  props: FieldTemplateProps<T> & {\n    onChange: (newValue: unknown) => void\n  },\n) {\n  const {\n    id,\n    label,\n    children,\n    errors,\n    help,\n    hidden,\n    required,\n    displayLabel,\n    formData,\n    onChange,\n    schema,\n  } = props\n\n  const description = props.description ?? props.schema.description\n  const [showDetails, setShowDetails] = useState(false)\n\n  // The formData that we get may be an array (for example, if it was an additionalProperty, but then the key was added to the schema)\n  // If the object passes through this template, then it should no longer be an array, so we coerce it to a string.\n  useEffect(() => {\n    if (schema.type !== 'array' && Array.isArray(formData)) {\n      const newValue = formData.map(v => `${v}`).join(', ')\n      // TODO: This only works when we have a short delay\n      setTimeout(() => {\n        onChange(newValue)\n      }, 50)\n    }\n  }, [])\n\n  if (hidden) {\n    return <div className=\"hidden\">{children}</div>\n  }\n\n  return (\n    <>\n      {/* RJSF hides labels for boolean checkboxes, but since we replaced checkboxes with a custom component, we want to show them */}\n      {label && (displayLabel || schema.type === 'boolean') && (\n        <div className=\"LabelContainer\">\n          <FormLabel htmlFor={id}>\n            {label}\n            {required && <span className=\"required\">*</span>}\n          </FormLabel>\n          <button\n            aria-label=\"More Info\"\n            aria-expanded={showDetails}\n            onClick={e => {\n              e.preventDefault()\n              setShowDetails(!showDetails)\n            }}\n          >\n            <HelpOutline className=\"HelpButton SRC-primary-text-color\" />\n          </button>\n        </div>\n      )}\n      {children}\n      <FieldDescriptionTable\n        required={required}\n        type={schema.type as string}\n        description={description}\n        show={showDetails}\n      />\n      {errors}\n      {help}\n    </>\n  )\n}\n","import { ObjectFieldTemplateProps, utils } from '@sage-bionetworks/rjsf-core'\nimport React, { useState } from 'react'\nimport { Button } from 'react-bootstrap'\nimport { useDeepCompareEffectNoCheck } from 'use-deep-compare-effect'\nimport AddToList from '../../../assets/icons/AddToList'\nimport { Tooltip } from '@mui/material'\nimport { displayToast } from '../../ToastMessage/ToastMessage'\n\n/**\n * Basically identical to the default object field template, with a custom button.\n *\n * See {@link node_modules/@rjsf/core/src/components/fields/ObjectField.js#DefaultObjectFieldTemplate}\n * @param props\n * @returns\n */\nexport function CustomObjectFieldTemplate(\n  props: ObjectFieldTemplateProps<Record<string, unknown>>,\n) {\n  const { TitleField, DescriptionField } = props\n\n  const [previousSchemaDefinedProperties, setPreviousSchemaDefinedProperties] =\n    useState<Set<string>>(new Set())\n\n  /**\n   * We track how the schema changes as the user enters data, causing conditional subschemas to be evaluated.\n   *\n   * If a property exists in the previous version of the schema and has user data, and then is dropped from the schema due to a data update, then\n   * we need to prompt the user whether they want to undo the change, or continue and keep/remove those fields\n   *\n   * In this component, we can identify when one or more fields with user data are dropped (the field gains the additional property flag in the schema prop).\n   * We then use a function provided by the context to report which fields were lost.\n   */\n  useDeepCompareEffectNoCheck(() => {\n    if (props.schema.properties) {\n      const propertyKeys = Object.keys(props.schema.properties)\n      // Schema-defined properties are those properties in the schema without the additional property flag.\n      const schemaDefinedProperties = new Set<string>(\n        propertyKeys.filter(key => {\n          const propertyObject = props.schema.properties![key]\n          return !propertyObject[utils.ADDITIONAL_PROPERTY_FLAG]\n        }),\n      )\n\n      if (previousSchemaDefinedProperties != null) {\n        // Compare the schema defined properties with the previous version to see if any were lost.\n\n        const lostProperties = Array.from(\n          previousSchemaDefinedProperties,\n        ).filter(\n          schemaDefinedProperty =>\n            !schemaDefinedProperties.has(schemaDefinedProperty) &&\n            props.formData[schemaDefinedProperty] != null, // if the data is null, then we don't need to worry about it; user data isn't lost\n        )\n        if (lostProperties.length > 0) {\n          // Report the converted fields in a toast message\n          displayToast(\n            `The following annotations are no longer specified by the schema and have been converted to Custom Fields: ${lostProperties.join(\n              ', ',\n            )}.`,\n            'warning',\n            {\n              title: 'Fields No Longer Specified By Schema',\n            },\n          )\n        }\n      }\n      setPreviousSchemaDefinedProperties(schemaDefinedProperties)\n    }\n  }, [props.schema.properties])\n\n  return (\n    <fieldset id={props.idSchema.$id}>\n      {(props.uiSchema['ui:title'] || props.title) && (\n        <TitleField\n          id={`${props.idSchema.$id}__title`}\n          title={props.title || (props.uiSchema['ui:title'] as string)}\n          required={props.required}\n        />\n      )}\n      {props.description && (\n        <DescriptionField\n          id={`${props.idSchema.$id}__description`}\n          description={props.description}\n        />\n      )}\n      {props.properties.map(prop => {\n        return <div key={prop.name}>{prop.content}</div>\n      })}\n      {utils.canExpand(props.schema, props.uiSchema, props.formData) && (\n        <div className=\"container-fluid\">\n          <Tooltip title=\"Add a new custom field\" placement=\"top\">\n            <Button\n              variant=\"gray\"\n              className=\"object-property-expand\"\n              onClick={props.onAddClick(props.schema)}\n              disabled={props.disabled || props.readonly}\n              aria-label={'Add Custom Field'}\n            >\n              <AddToList />\n            </Button>\n          </Tooltip>\n        </div>\n      )}\n    </fieldset>\n  )\n}\n","import { Widget, WidgetProps } from '@sage-bionetworks/rjsf-core'\nimport React from 'react'\n\n/**\n * This TextWidget is almost identical to the rjsf TextWidget, except we handle numbers like strings to prevent issues if\n * the actual annotation data is not a string.\n */\nexport const CustomTextWidget: Widget = (props: WidgetProps) => {\n  const { BaseInput } = props.registry.widgets\n\n  // options.inputType will override the input type determined via schema\n  let inputType: string | null = null\n  if (props.schema.type === 'number' || props.schema.type === 'integer') {\n    inputType = 'text'\n  }\n\n  return <BaseInput {...props} options={{ ...props.options, inputType }} />\n}\n\nexport default CustomTextWidget\n","import Form, { AjvError } from '@sage-bionetworks/rjsf-core'\nimport { JSONSchema7 } from 'json-schema'\nimport isEmpty from 'lodash-es/isEmpty'\nimport React, { useCallback, useEffect, useMemo, useRef } from 'react'\nimport { Alert, Box, Link } from '@mui/material'\nimport AddToList from '../../../assets/icons/AddToList'\nimport {\n  BackendDestinationEnum,\n  getEndpoint,\n} from '../../../utils/functions/getEndpoint'\nimport {\n  useGetJson,\n  useGetSchema,\n  useGetSchemaBinding,\n  useUpdateViaJson,\n} from '../../../synapse-queries'\nimport { SynapseClientError } from '../../../utils/SynapseClientError'\nimport {\n  ENTITY_CONCRETE_TYPE,\n  EntityJson,\n} from '@sage-bionetworks/synapse-types'\nimport { SynapseSpinner } from '../../LoadingScreen'\nimport { AdditionalPropertiesSchemaField } from './AdditionalPropertiesSchemaField'\nimport {\n  dropNullishArrayValues,\n  getFriendlyPropertyName,\n  getTransformErrors,\n} from './AnnotationEditorUtils'\nimport { CustomAdditionalPropertiesFieldTemplate } from './CustomAdditionalPropertiesFieldTemplate'\nimport { CustomArrayFieldTemplate } from './CustomArrayFieldTemplate'\nimport { CustomBooleanWidget } from './CustomBooleanWidget'\nimport { CustomDateTimeWidget } from './CustomDateTimeWidget'\nimport { CustomDefaultTemplate } from './CustomDefaultTemplate'\nimport { CustomObjectFieldTemplate } from './CustomObjectFieldTemplate'\nimport { CustomSelectWidget } from './CustomSelectWidget'\nimport CustomTextWidget from './CustomTextWidget'\nimport { entityJsonKeys } from '../../../utils/functions/EntityTypeUtils'\nimport {\n  ConfirmationButtons,\n  ConfirmationDialog,\n} from '../../ConfirmationDialog/ConfirmationDialog'\n\nexport type SchemaDrivenAnnotationEditorProps = {\n  /** The entity whose annotations should be edited with the form */\n  entityId?: string\n  /** If no entity ID is supplied, the schema to use for the form */\n  schemaId?: string\n  /** Optionally supply a ref to the form to handle submission externally with `formRef.current.submit()`. If provided, the editor will not render its own submit UI. */\n  formRef?: React.RefObject<Form<Record<string, unknown>>>\n  /** Provide live input validation. This can cause major performance degradation. */\n  liveValidate?: boolean\n  /** Invoked after a successful form submission */\n  onSuccess?: () => void\n  /** If defined and formRef is not supplied, shows a 'Cancel' button and runs this effect on click */\n  onCancel?: () => void\n}\n\n/**\n * patternProperties lets us define how to treat additionalProperties in a JSON schema by property name.\n * In all cases, let's ban properties that collide with entity properties by making their schema \"not: {}\"\n */\nfunction getPatternPropertiesBannedKeys(\n  concreteType?: ENTITY_CONCRETE_TYPE,\n): JSONSchema7 {\n  if (!concreteType) {\n    return {}\n  }\n  // for each property (e.g. id, name, etag, etc.)\n  //  Add to the JSON Schema `\"^id$\": { \"not\": {} }` to ban the property from being added as an additional property.\n  return entityJsonKeys[concreteType].reduce((current, item) => {\n    current[`^${item}$`] = { not: {} }\n    return current\n  }, {})\n}\n\n/**\n * Renders a form for editing an entity's annotations. The component also supports supplying just a schema ID,\n * but work to support annotation flows without an entity (i.e. before creating entities) is not yet complete.\n */\nexport const SchemaDrivenAnnotationEditor = (\n  props: SchemaDrivenAnnotationEditorProps,\n) => {\n  const {\n    entityId,\n    schemaId,\n    liveValidate = false,\n    onSuccess = () => {\n      /* no-op */\n    },\n    onCancel,\n    formRef: formRefFromParent,\n  } = props\n  const formRef = useRef<Form<Record<string, unknown>>>(null)\n\n  // Annotation fields fetched and modified via the form\n  const [formData, setFormData] = React.useState<\n    Record<string, unknown> | undefined\n  >(undefined)\n\n  // Client-side validation errors\n  const [validationError, setValidationError] = React.useState<\n    AjvError[] | undefined\n  >(undefined)\n\n  // Errors from the backend response\n  const [submissionError, setSubmissionError] = React.useState<\n    SynapseClientError | undefined\n  >(undefined)\n  const [showSubmissionError, setShowSubmissionError] = React.useState(false)\n\n  const [showConfirmation, setShowConfirmation] = React.useState(false)\n\n  const { entityMetadata: entityJson, annotations } = useGetJson(entityId!, {\n    enabled: !!entityId && !formData, // once we have data, don't refetch. it would overwrite the user's entries\n    useErrorBoundary: true,\n  })\n\n  /**\n   * patternProperties lets us define how to treat additionalProperties in a JSON schema by property name.\n   * In all cases, let's ban properties that collide with entity properties by making their schema \"not: {}\"\n   */\n  const patternPropertiesBannedKeys = useMemo(\n    () => getPatternPropertiesBannedKeys(entityJson?.concreteType),\n    [entityJson?.concreteType],\n  )\n\n  const transformErrors = useCallback(\n    getTransformErrors(entityJson?.concreteType),\n    [entityJson?.concreteType],\n  )\n\n  useEffect(() => {\n    if (annotations) {\n      // Put the annotations into a state variable so it can be modified by the form.\n      setFormData(annotations)\n    }\n  }, [annotations])\n\n  const { data: schema, isLoading: isLoadingBinding } = useGetSchemaBinding(\n    entityId!,\n    {\n      enabled: !!entityId,\n      refetchOnWindowFocus: false,\n      useErrorBoundary: true,\n    },\n  )\n\n  const { data: validationSchema, isLoading: isLoadingSchema } = useGetSchema(\n    schemaId ?? schema?.jsonSchemaVersionInfo.$id ?? '',\n    {\n      enabled: !!schemaId || !!schema,\n      select: schema => {\n        // Have to remove the ID because of a bug in RJSF\n        // https://github.com/rjsf-team/react-jsonschema-form/issues/2471\n        delete schema.$id\n        return schema\n      },\n      useErrorBoundary: true,\n    },\n  )\n\n  const isLoading = isLoadingBinding || isLoadingSchema\n\n  const mutation = useUpdateViaJson({\n    onSuccess: () => {\n      onSuccess()\n    },\n    onError: error => {\n      setSubmissionError(error)\n      setShowSubmissionError(true)\n    },\n  })\n\n  function submitChangedEntity() {\n    mutation.mutate({\n      ...dropNullishArrayValues(formData ?? {}),\n      ...entityJson,\n    } as EntityJson)\n  }\n\n  return (\n    <div className=\"bootstrap-4-backport AnnotationEditor\">\n      {isLoading ? (\n        <div className=\"LoadingPlaceholder\">\n          <SynapseSpinner size={30} />\n        </div>\n      ) : (\n        <>\n          {entityJson && schema && (\n            <Alert severity=\"info\" sx={{ mb: 2 }}>\n              <b>{entityJson.name}</b> requires scientific annotations specified\n              by <b>{schema.jsonSchemaVersionInfo.$id}</b>\n              {'. '}\n              <b>\n                <Link\n                  href={`${getEndpoint(\n                    BackendDestinationEnum.REPO_ENDPOINT,\n                  )}/repo/v1/schema/type/registered/${\n                    schema.jsonSchemaVersionInfo.$id\n                  }`}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  View required schema (JSON)\n                </Link>\n              </b>\n            </Alert>\n          )}\n          {entityJson &&\n            (!formData || isEmpty(formData)) &&\n            schema === null && (\n              <Alert severity=\"info\">\n                <b>{entityJson.name}</b> has no annotations. Click the{' '}\n                <AddToList /> button to annotate.\n              </Alert>\n            )}\n          <Form\n            className=\"AnnotationEditorForm\"\n            liveValidate={liveValidate}\n            noHtml5Validate={true}\n            ArrayFieldTemplate={CustomArrayFieldTemplate}\n            ObjectFieldTemplate={CustomObjectFieldTemplate}\n            FieldTemplate={CustomDefaultTemplate}\n            ref={formRefFromParent ?? formRef}\n            disabled={mutation.isLoading}\n            /* Errors are displayed by an Alert component below, so we don't show the builtin ErrorList */\n            ErrorList={() => null}\n            schema={\n              {\n                ...(validationSchema ?? {}),\n                patternProperties: {\n                  ...(validationSchema?.patternProperties ?? {}),\n                  ...patternPropertiesBannedKeys,\n                },\n                additionalProperties:\n                  validationSchema?.additionalProperties ?? true,\n              } as JSONSchema7\n            }\n            uiSchema={{\n              'ui:DuplicateKeySuffixSeparator': '_',\n              additionalProperties: {\n                'ui:field': AdditionalPropertiesSchemaField,\n                'ui:FieldTemplate': CustomAdditionalPropertiesFieldTemplate,\n              },\n            }}\n            transformErrors={transformErrors}\n            formData={formData}\n            onChange={({ formData }) => {\n              setFormData(formData)\n              setValidationError(undefined)\n            }}\n            onSubmit={({ formData, errors }) => {\n              if (errors && errors.length > 0) {\n                setValidationError(errors)\n              }\n              setShowSubmissionError(false)\n              setFormData(formData)\n              submitChangedEntity()\n            }}\n            onError={(errors: AjvError[]) => {\n              // invoked when submit is clicked and there are client-side validation errors\n              setValidationError(errors)\n              if (validationError && entityId) {\n                setShowConfirmation(true)\n              }\n            }}\n            widgets={{\n              TextWidget: CustomTextWidget,\n              DateTimeWidget: CustomDateTimeWidget,\n              SelectWidget: CustomSelectWidget,\n              CheckboxWidget: CustomBooleanWidget,\n            }}\n          >\n            {validationError && (\n              <Alert severity=\"error\" sx={{ mt: 2 }}>\n                <b>Validation errors found:</b>\n                <ul>\n                  {validationError.map((e: AjvError, index: number) => {\n                    return (\n                      <li key={index}>\n                        <b>{`${getFriendlyPropertyName(e)}: `}</b>{' '}\n                        {`${e.message}`}\n                      </li>\n                    )\n                  })}\n                </ul>\n              </Alert>\n            )}\n\n            {submissionError && showSubmissionError && (\n              <Alert severity=\"error\">\n                Annotations could not be updated: {submissionError.reason}\n              </Alert>\n            )}\n            {!formRefFromParent && (\n              <>\n                <hr />\n                <Box\n                  display=\"flex\"\n                  justifyContent=\"space-between\"\n                  sx={{ gridRowStart: 5 }}\n                >\n                  <ConfirmationButtons\n                    hasCancelButton={onCancel !== undefined}\n                    onCancel={() => {\n                      onCancel && onCancel()\n                    }}\n                    onConfirm={() => {\n                      formRef.current!.submit()\n                    }}\n                    confirmButtonText={entityId ? 'Save' : 'Validate'}\n                  />\n                </Box>\n              </>\n            )}\n          </Form>\n          {showConfirmation && (\n            <ConfirmationDialog\n              open={true}\n              onConfirm={() => {\n                submitChangedEntity()\n                setShowConfirmation(false)\n              }}\n              onCancel={() => {\n                setShowConfirmation(false)\n              }}\n              title=\"Update Annotations\"\n              content={\n                <>\n                  <div>\n                    The following errors exist with the annotations you entered:\n                  </div>\n                  <div>\n                    <ul>\n                      {(validationError ?? []).map(\n                        (e: AjvError, index: number) => (\n                          <li key={index}>\n                            <b>{`${getFriendlyPropertyName(e)}: `}</b>{' '}\n                            {`${e.message}`}\n                          </li>\n                        ),\n                      )}\n                    </ul>\n                  </div>\n                  <div>Are you sure you want to save them?</div>\n                </>\n              }\n              confirmButtonText=\"Save\"\n            />\n          )}\n        </>\n      )}\n    </div>\n  )\n}\n"],"names":["Add","createSvgIcon","_jsx","HelpOutline","useGetSchemaBinding","entityId","options","accessToken","keyFactory","useSynapseContext","useQuery","SynapseClient","useGetValidationResults","useGetSchema","schema$id","ErrorList","props","errors","React","error","i","hasExcape","escapeMatcher","escapeReplacer","m","untilde","str","setter","obj","pointer","value","part","hasNextPart","p","len","oldValue","compilePointer","get","set","compile","compiled","object","jsonpointer","_extends","target","source","key","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","sourceKeys","IconButton","_props$type","type","icon","className","otherProps","AddButton","_ref","onClick","disabled","registry","PropTypes","_typeof","_objectSpread","ownKeys","sym","_defineProperty","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","iter","arr2","_classCallCheck","instance","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","call","_assertThisInitialized","_getPrototypeOf","o","_inherits","subClass","superClass","_setPrototypeOf","ArrayFieldTitle","TitleField","idSchema","title","required","id","ArrayFieldDescription","_ref2","DescriptionField","description","DefaultArrayItem","btnStyle","DefaultFixedArrayFieldTemplate","DefaultNormalArrayFieldTemplate","generateRowId","nanoid","generateKeyedFormData","formData","item","keyedToPlainFormData","keyedFormData","keyedItem","ArrayField","_Component","_this","_this$props","schema","_this$props$registry","getDefaultRegistry","rootSchema","itemSchema","isFixedItems","allowAdditionalItems","getDefaultFormState","event","onChange","newKeyedFormDataRow","newKeyedFormData","index","newErrorSchema","errorSchema","_","newIndex","reOrderArray","_newKeyedFormData","_this$props2","newFormData","jsonValue","_formData","_keyedFormData","includes","formItems","_this$props3","uiSchema","_getUiOptions","getUiOptions","addable","_this$props4","_this$props4$registry","fields","UnsupportedField","isFilesArray","isMultiSelect","_this2","_this$props5","name","readonly","autofocus","_this$props5$registry","onBlur","onFocus","idPrefix","rawErrors","ArrayFieldTemplate","formContext","itemsSchema","retrieveSchema","arrayProps","itemErrorSchema","itemIdPrefix","itemIdSchema","toIdSchema","Component","_this$props6","placeholder","_this$props6$registry","items","widgets","enumOptions","optionsList","_getUiOptions$enumOpt","_getUiOptions$enumOpt2","widget","Widget","getWidget","_this$props7","_this$props7$registry","_getUiOptions2","_getUiOptions2$widget","_this3","_this$props8","_this$props8$registry","itemSchemas","additionalSchema","additional","itemUiSchema","Template","_props$canRemove","canRemove","_props$canMoveUp","canMoveUp","_props$canMoveDown","canMoveDown","itemData","_this$props9","_this$props9$registry","SchemaField","_orderable$removable$","orderable","removable","has","nextProps","prevState","nextFormData","previousKeyedFormData","previousKeyedFormDatum","BooleanField","_props$registry","_getUiOptions$widget","option","AnyOfField","selectedOption","newOption","guessType","optionsToDiscard","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_option","err","_options","prevProps","deepEquals","matchingOption","_getMatchingOption","baseType","_SchemaField","uiOptions","optionSchema","trailingCharMatcherWithPrefix","trailingCharMatcher","NumberField","_React$Component","processed","asNumber","StringField","lastValue","re","DefaultObjectFieldTemplate","prop","canExpand","ObjectField","_getPrototypeOf2","_len","args","_key","addedByAdditionalProperties","copiedFormData","preferredKey","separator","newKey","newKeys","keyValues","renamedObj","refSchema","_this$props2$registry","orderedProperties","properties","orderProperties","templateProps","ADDITIONAL_PROPERTY_FLAG","fieldUiSchema","hidden","REQUIRED_FIELD_SYMBOL","COMPONENT_TYPES","getFieldComponent","field","componentName","getSchemaType","Label","label","LabelInput","Help","help","_props$errors","elem","DefaultTemplate","children","displayLabel","WrapIfAdditional","classNames","onKeyChange","onDropPropertyClick","keyLabel","SchemaFieldRender","_props$wasPropertyKey","wasPropertyKeyModified","FieldTemplate","mergeObjects","FieldComponent","getDisplayLabel","__errors","fieldErrorSchema","fieldProps","_AnyOfField","_OneOfField","isSelect","_schema","nextState","format","defaultWidget","hasWidget","_getUiOptions$placeho","NullField","reason","MultiSchemaField","rangeOptions","start","stop","pad","readyForChange","state","DateElement","range","select","rootId","SelectWidget","AltDateWidget","property","toDateString","time","nowDateObj","parseDateString","shouldRender","elemProps","_this$state","year","month","day","hour","minute","second","data","AltDateTimeWidget","BaseInput","inputProps","_onChange","example","CheckboxWidget","schemaRequiresTrueValue","selectValue","selected","all","at","updated","a","b","deselectValue","v","CheckboxesWidget","enumDisabled","inline","checked","itemDisabled","disabledCls","checkbox","ColorWidget","DateWidget","DateTimeWidget","utcToLocal","localToUTC","EmailWidget","addNameToDataURL","dataURL","processFile","file","size","resolve","reject","reader","processFiles","files","FilesInfo","filesInfo","fileInfo","extractFileInfo","dataURLs","_dataURItoBlob","dataURItoBlob","blob","FileWidget","multiple","values","HiddenWidget","PasswordWidget","RadioWidget","radio","RangeWidget","rangeSpec","nums","processValue","x","getValue","emptyValue","newValue","TextareaWidget","TextWidget","URLWidget","UpDownWidget","arrayMap","require$$0","copyArray","require$$1","isArray","require$$2","isSymbol","require$$3","stringToPath","require$$4","toKey","require$$5","toString","require$$6","toPath","toPath_1","ajv","previousSchema","previousMetaSchemas","previousFormats","ROOT_SCHEMA_PREFIX","createAjvInstance","Ajv","toErrorSchema","message","path","parent","segment","toErrorList","fieldName","errorList","stack","acc","createErrorHandler","handler","isObject","unwrapErrorHandler","errorHandler","transformAjvErrors","e","dataPath","keyword","params","schemaPath","validate","compileError","validateFormData","customValidate","transformErrors","additionalMetaSchemas","customFormats","schemaChanged","metaSchemasChanged","formatsChanged","formatName","noProperMetaSchema","userErrorSchema","newErrors","_withIdRefPrefix","schemaNode","withIdRefPrefix","cacheKeyFn","arg","memoize","compiledSubschemaMap","withIdRefPrefixMap","isValid","subschemaAjv","prefixedSchema","_toPropertyKey","_toPrimitive","input","hint","prim","res","DEFAULT_ROOT_SCHEMA","DEFAULT_FORM_DATA","widgetMap","expandable","registeredWidgets","mergeOptions","defaultOptions","_ref$options","ReactIs.isForwardRef","ReactIs.isMemo","registeredWidget","_registeredWidget","computeDefaults","_computeDefaults","parentDefaults","rawFormData","includeUndefinedValues","defaults","findSchemaDefinition","resolvedSchema","resolveDependencies","idx","getMatchingOption","computedDefault","defaultsLength","defaultEntries","fillerSchema","fillerEntries","fill","mergeDefaultsWithFormData","_uiOptions$label","schemaType","thing","obj1","obj2","concatArrays","left","right","n","valid","order","arrayToHash","prev","curr","errorPropList","propertyHash","orderFiltered","orderHash","rest","restIndex","complete","isConstant","toConstant","altSchemas","$ref","origRef","current","stubExistingAdditionalProperties","additionalProperties","resolveSchema","_resolveSchema","resolveReference","allOfSubschema","$refSchema","localSchema","_retrieveSchema","_resolvedSchema","expression","then","otherwise","resolvedSchemaLessConditional","conditionalSchema","mergeSchemas","allOf","allOfSchema","hasAdditionalProperties","_schema$dependencies","dependencies","processDependencies","dependencyKey","dependencyValue","remainingDependencies","withDependentProperties","withDependentSchema","additionallyRequired","_retrieveSchema2","oneOf","dependentSchema","resolvedOneOf","subschema","withExactlyOneSubschema","validSubschemas","conditionPropertySchema","conditionSchema","_validateFormData","_subschema$properties","dependentSubschema","union","isArguments","ca","cb","slice","ka","kb","cal","j","_key2","k","comp","fieldId","toPathSchema","pathSchema","element","dateString","includeTime","date","_ref2$hour","_ref2$minute","_ref2$second","utcTime","datetime","jsonDate","yyyy","MM","dd","hh","mm","ss","SSS","num","s","dataURI","splitted","param","binary","array","_i","spec","_i2","requiresAnyOf","augmentedSchema","shallowClone","Form","_pick","getAllPaths","_obj","paths","newPaths","formValue","_get","_isEmpty","newState","mustValidate","retrievedSchema","fieldNames","schemaValidation","schemaValidationErrors","schemaValidationErrorSchema","_errorSchema","_errors","_errorSchema2","inputFormData","edit","liveValidate","getCurrentErrors","currentErrors","_this$getRegistry","showErrorList","_getDefaultRegistry","tagName","method","action","deprecatedAutocomplete","currentAutoComplete","enctype","acceptcharset","noHtml5Validate","_this$state2","FormTag","autoComplete","form","DefaultErrorList","AddToList","jsx","FieldDescriptionTable","show","Collapse","jsxs","CustomArrayFieldTemplate","isAdditionalProperty","utils.ADDITIONAL_PROPERTY_FLAG","useEffect","showDetails","setShowDetails","useState","FormGroup","FormLabel","Fragment","Button","Close","ISO_TIMESTAMP_REGEX","PropertyType","PropertyType2","AdditionalPropertyWidget","AdditionalPropertyWidget2","guessPropertyType","list","transformDataFromPropertyType","propertyType","asFloat","getWidgetFromPropertyType","AdditionalPropertiesSchemaField","convertToArray","handleListChange","handleListRemove","appendToList","setList","useListState","setPropertyType","nextPropertyType","setNextPropertyType","setWidget","onNextPropertyTypeUpdate","dataIsEmpty","coercedList","isEqual","coerceDataAndUpdateWidget","rjsfUtils.getWidget","id2","FormControl","FullWidthAlert","dropNullishArrayValues","isEmpty","getFriendlyPropertyName","getTransformErrors","concreteType","grouped","groupBy","errorGroup","flatMap","propertyName","entityJsonKeys","CustomAdditionalPropertiesFieldTemplate","CustomBooleanWidget","CustomDateTimeWidget","CalendarWithIconFormGroup","dayjs","CustomDefaultTemplate","CustomObjectFieldTemplate","previousSchemaDefinedProperties","setPreviousSchemaDefinedProperties","useDeepCompareEffectNoCheck","propertyKeys","schemaDefinedProperties","lostProperties","schemaDefinedProperty","displayToast","utils.canExpand","Tooltip","CustomTextWidget","inputType","getPatternPropertiesBannedKeys","SchemaDrivenAnnotationEditor","schemaId","onSuccess","onCancel","formRefFromParent","formRef","useRef","setFormData","validationError","setValidationError","submissionError","setSubmissionError","showSubmissionError","setShowSubmissionError","showConfirmation","setShowConfirmation","entityJson","annotations","useGetJson","patternPropertiesBannedKeys","useMemo","useCallback","isLoadingBinding","validationSchema","isLoadingSchema","schema2","isLoading","mutation","useUpdateViaJson","submitChangedEntity","SynapseSpinner","Alert","Link","getEndpoint","BackendDestinationEnum","formData2","CustomSelectWidget","Box","ConfirmationButtons","ConfirmationDialog"],"mappings":"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","x_google_ignoreList":[0,1,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45]}