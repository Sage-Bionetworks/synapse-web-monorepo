import{au as l,av as A,aw as S,ax as F,ay as g,ao as r,az as q,aA as m,aa as y,aB as R,an as o,aC as K,aD as f,aE as Q,aF as d,aG as C}from"./iframe-BWoxTCTX.js";import{u as T}from"./index-5LTwdmKr.js";import{b as P}from"./_baseOrderBy-0yWC6QnQ.js";import{u as h}from"./useQueries-B7bat4DS.js";import{u as v}from"./useInfiniteQuery-BFw00c2J.js";var D=l(function(e,s){if(e==null)return[];var t=s.length;return t>1&&A(e,s[0],s[1])?s=[]:t>2&&A(s[0],s[1],s[2])&&(s=[s[0]]),P(e,S(s,1),[])});const G=async(e,s)=>{const t=s.map(c=>g(e,c)),u=await Promise.all(t);return D(s,c=>-1*Number(u.find(n=>c===n.accessRequirementId).isApproved))};function L(){const e=F();return T(e.breakpoints.up("md"))}function x(e,s){const{accessToken:t,keyFactory:u}=r();return o({...s,queryKey:u.getAccessRequirementQueryKey(String(e)),queryFn:()=>y.getAccessRequirementById(t,e)})}function W(e,s){const{accessToken:t,keyFactory:u}=r();return o({...s,queryKey:u.getEntityAccessRequirementsQueryKey(e),queryFn:()=>y.getAllAccessRequirements(t,e)})}function E(e,s){const{accessToken:t,keyFactory:u}=r();return o({...s,queryKey:u.getTeamAccessRequirementsQueryKey(e),queryFn:()=>y.getTeamAccessRequirements(t,e)})}function M(e,s){const{accessToken:t,keyFactory:u}=r();return o({...s,queryKey:u.getAccessRequirementWikiPageKey(e),queryFn:()=>y.getWikiPageKeyForAccessRequirement(t,e)})}function z(e){const s=q(),{accessToken:t,keyFactory:u}=r();return m({...e,mutationFn:c=>f(t,c),onSuccess:async(c,n,a)=>{const i=u.getAccessRequirementQueryKey(c.id.toString());if(s.setQueryData(i,c),e!=null&&e.onSuccess)return await e.onSuccess(c,n,a)}})}function N(e){const s=q(),{accessToken:t,keyFactory:u}=r();return m({...e,mutationFn:c=>K(t,c),onSuccess:async(c,n,a)=>{const i=u.getAccessRequirementQueryKey(c.id.toString());if(s.setQueryData(i,c),e!=null&&e.onSuccess)return await e.onSuccess(c,n,a)}})}function O(e,s){const{accessToken:t,keyFactory:u}=r();return o({...s,queryKey:u.getAccessRequirementAclQueryKey(e),queryFn:()=>y.getAccessRequirementAcl(t,e)})}function I(e){const s=q(),{accessToken:t,keyFactory:u}=r();return m({...e,mutationFn:c=>Q(t,c),onSuccess:async(c,n,a)=>{await s.invalidateQueries({queryKey:u.getAccessRequirementAclQueryKey(n)}),e!=null&&e.onSuccess&&await e.onSuccess(c,n,a)}})}function H(e){const s=q(),{accessToken:t,keyFactory:u}=r();return m({...e,mutationFn:c=>d(t,c),onSuccess:async(c,n,a)=>{const i=u.getAccessRequirementAclQueryKey(c.id);if(s.setQueryData(i,c),e!=null&&e.onSuccess)return await e.onSuccess(c,n,a)}})}function J(e){const s=q(),{accessToken:t,keyFactory:u}=r();return m({...e,mutationFn:c=>C(t,c),onSuccess:async(c,n,a)=>{const i=u.getAccessRequirementAclQueryKey(c.id);if(s.setQueryData(i,c),e!=null&&e.onSuccess)return await e.onSuccess(c,n,a)}})}function V(e,s){const{accessToken:t,keyFactory:u}=r();return v({...s,queryKey:u.searchAccessRequirementsQueryKey(e),queryFn:async c=>await y.searchAccessRequirements(t,{...e,nextPageToken:c.pageParam}),initialPageParam:void 0,getNextPageParam:c=>c.nextPageToken})}function X(e){const{accessToken:s}=r(),t=q(),{keyFactory:u}=r();return m({...e,mutationFn:c=>y.createLockAccessRequirement(c,s),mutationKey:["createLockAccessRequirement"],onSuccess:async(c,n,a)=>{if(await Promise.all([t.invalidateQueries({queryKey:u.getAccessRequirementQueryKey()}),t.invalidateQueries({queryKey:u.getAllEntityDataQueryKey()}),...R(u).map(i=>t.invalidateQueries(i))]),e!=null&&e.onSuccess)return e.onSuccess(c,n,a)}})}function k(e,s,t){return{queryKey:e.getAccessRequirementStatusQueryKey(t),queryFn:()=>y.getAccessRequirementStatus(s,t)}}function Y(e,s){const{accessToken:t,keyFactory:u}=r();return o({...s,...k(u,t,e)})}function Z(e){const{accessToken:s,keyFactory:t}=r();return h({queries:e.map(u=>k(t,s,u))})}function _(e,s){const{accessToken:t,keyFactory:u}=r();return o({...s,queryKey:u.getSortedAccessRequirementsAndStatusQueryKey(e),queryFn:()=>G(t,e)})}function $(e,s){const{accessToken:t,keyFactory:u}=r();return o({...s,queryKey:u.getAccessRequirementResearchProjectQueryKey(e),queryFn:()=>y.getResearchProject(e,t)})}function p(e){const{accessToken:s}=r(),t=q(),{keyFactory:u}=r();return m({...e,mutationFn:c=>y.updateResearchProject(c,s),onSuccess:async(c,n,a)=>{if(await t.invalidateQueries({queryKey:u.getAccessRequirementResearchProjectQueryKey(c.accessRequirementId)}),e!=null&&e.onSuccess)return e.onSuccess(c,n,a)}})}function ee(e,s){const{accessToken:t,keyFactory:u}=r();return o({...s,queryKey:u.getDataAccessRequestForUpdateQueryKey(e),queryFn:()=>y.getDataAccessRequestForUpdate(e,t)})}function se(e){const{accessToken:s}=r(),t=q(),{keyFactory:u}=r();return m({...e,mutationFn:c=>y.updateDataAccessRequest(c,s),onSuccess:async(c,n,a)=>{if(await t.invalidateQueries({queryKey:u.getDataAccessRequestForUpdateQueryKey(c.accessRequirementId)}),e!=null&&e.onSuccess)return e.onSuccess(c,n,a)}})}function ce(e){const{accessToken:s}=r(),t=q(),{keyFactory:u}=r();return m({...e,mutationFn:c=>y.createAccessApproval(s,c),onSuccess:async(c,n,a)=>{if(await Promise.all([t.invalidateQueries({queryKey:u.getAccessRequirementStatusQueryKey(String(n.requirementId))}),...R(u).map(i=>t.invalidateQueries(i))]),e!=null&&e.onSuccess)return e.onSuccess(c,n,a)}})}function te(e){const{accessToken:s}=r(),t=q(),{keyFactory:u}=r();return m({...e,mutationFn:c=>y.cancelDataAccessRequest(c.submissionId,s),onSuccess:async(c,n,a)=>{if(await Promise.all([t.invalidateQueries({queryKey:u.getDataAccessSubmissionQueryKey()}),t.invalidateQueries({queryKey:u.getAccessRequirementStatusQueryKey(String(n.accessRequirementId))})]),e!=null&&e.onSuccess)return e.onSuccess(c,n,a)}})}export{O as a,I as b,H as c,J as d,M as e,Y as f,te as g,se as h,L as i,E as j,W as k,_ as l,ee as m,$ as n,p as o,ce as p,V as q,x as r,D as s,Z as t,X as u,z as v,N as w};
