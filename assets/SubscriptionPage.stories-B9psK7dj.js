import{r as n,hD as i,id as f,j as t,V as O,ag as y,B as D,jj as I,b as T}from"./iframe-oNn-8uxy.js";import{b as v}from"./useSubscription-xMtiv3Dt.js";import{D as R}from"./DropdownSelect-hKAJsJXS.js";import{S as C}from"./SubscriptionItem-CMt9xWTC.js";import{T as E,a as d}from"./Tabs-CvgD4dKz.js";import"./index-r8ZA1smB.js";import"./useInfiniteQuery-BMvK8V8y.js";import"./getValidReactChildren-DU5Iy_M0.js";import"./MenuItem-2EGLr3CI.js";import"./useEntity-NQfLZli_.js";import"./pickBy-DgR1SMI4.js";import"./isString-DyjIcYAW.js";import"./_baseIteratee-BbGDd72L.js";import"./useQueries-CKE-hIT5.js";import"./useSuspenseQuery-yMS-8lGQ.js";import"./queryOptions-C9woPjwX.js";import"./InfiniteQueryUtils-CKlRW-xB.js";import"./useEntityBundle-EJdEQ_Jp.js";import"./useForum-CQ7cYLox.js";import"./Topic-BijW7tOP.js";import"./useThread-DAo6vvsy.js";import"./KeyboardArrowRight-Bm729pwP.js";const s=[{value:"ASC",label:"Date Posted"},{value:"DESC",label:"Most Recent"}];function F(){const[p,b]=n.useState(i.FORUM),[c,S]=n.useState(s[0]),j=n.useId(),m={objectType:p,sortBy:f.CREATED_ON,sortDirection:c.value},{data:a,hasNextPage:h,isFetchingNextPage:l,fetchNextPage:P}=v(m,{staleTime:1/0,select:e=>({pages:e.pages.flatMap(o=>o.results),pageParams:e.pageParams})},[`subscriptionPageFetch_${j}`,m]);return t.jsxs(t.Fragment,{children:[t.jsx(O,{sx:{float:"right"},children:t.jsx(R,{variant:"outlined",options:s.map(e=>e.label),selectedIndex:s.findIndex(e=>e.value===c.value),setSelectedIndex:e=>S(s[e])})}),t.jsxs(E,{sx:{mb:3},value:p,onChange:(e,o)=>{e.stopPropagation(),b(o)},textColor:"secondary",indicatorColor:"secondary",children:[t.jsx(d,{value:i.FORUM,label:"Project Forums"}),t.jsx(d,{value:i.THREAD,label:"Threads"})]}),t.jsx(y,{sx:{gap:.5},children:a==null?void 0:a.pages.map(e=>t.jsx(C,{subscription:e},e.subscriptionId))}),h&&t.jsx(D,{variant:"contained",onClick:()=>{P()},disabled:l,sx:{mt:6},children:l?"Loading...":"Load More"})]})}const ee={title:"Synapse/Following/SubscriptionPage",component:F,parameters:{stack:"mock"}},r={name:"SubscriptionPage",args:{},parameters:{msw:{handlers:{...I(T)}}}};var u,g,x;r.parameters={...r.parameters,docs:{...(u=r.parameters)==null?void 0:u.docs,source:{originalSource:`{
  name: 'SubscriptionPage',
  args: {},
  parameters: {
    msw: {
      handlers: {
        ...getHandlers(MOCK_REPO_ORIGIN)
      }
    }
  }
}`,...(x=(g=r.parameters)==null?void 0:g.docs)==null?void 0:x.source}}};const te=["Demo"];export{r as Demo,te as __namedExportsOrder,ee as default};
