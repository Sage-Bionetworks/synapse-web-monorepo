import{j as e}from"./jsx-runtime-Du8NFWEI.js";import{o as D,Q as p,J as L}from"./useFiles-DgS9yAar.js";import{i as T,g as H}from"./SynapseConstants-ByimdbyM.js";import{r as U}from"./index-Dl6G-zuu.js";import"./VerificationSubmission-DL9jxYsQ.js";import"./StringUtils-By8SXO8c.js";import{u as O}from"./useShowDesktop-CPh-208G.js";import"./OrientationBanner-D9CLn5zV.js";import{E as P}from"./ExpandableContent-8FNVqRvp.js";import{Q as V}from"./QueryCount-DFPkAeHO.js";import{B as Q}from"./Button-DtfaTZY_.js";import{g as $,a as F,_ as K,b as W,d as v,i as z}from"./createTheme-C4MKIpuQ.js";import{r as Y}from"./createSvgIcon-VNptiZ50.js";import{C as J}from"./Card-J02zcsj3.js";import{s as A,u as X,c as Z}from"./styled-BwKg_4wT.js";import{B as ee}from"./ButtonBase-6jsyScMO.js";import{C as te}from"./CardMedia-BuF7IbSb.js";import{C as re}from"./CardContent-rt9aUcV1.js";import{T as j}from"./Typography-DrqHmlDD.js";import{I as se}from"./IconButton-BIc9jQ57.js";import{u as oe}from"./useGetGoalData-BtiEZTj5.js";import{P as ae}from"./PortalSectionHeader-BFCpE_Og.js";import{B as b}from"./Box-CaFleW7-.js";import{a as ie}from"./Skeleton-CW6YXi1_.js";function ne(t){return F("MuiCardActionArea",t)}const g=$("MuiCardActionArea",["root","focusVisible","focusHighlight"]),le=["children","className","focusVisibleClassName"],ce=t=>{const{classes:r}=t;return Z({root:["root"],focusHighlight:["focusHighlight"]},ne,r)},ue=A(ee,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(t,r)=>r.root})(({theme:t})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${g.focusHighlight}`]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${g.focusVisible} .${g.focusHighlight}`]:{opacity:(t.vars||t).palette.action.focusOpacity}})),de=A("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(t,r)=>r.focusHighlight})(({theme:t})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})})),pe=U.forwardRef(function(r,a){const o=X({props:r,name:"MuiCardActionArea"}),{children:u,className:s,focusVisibleClassName:d}=o,m=K(o,le),l=o,i=ce(l);return e.jsxs(ue,W({className:v(i.root,s),focusVisibleClassName:v(d,i.focusVisible),ref:a,ownerState:l},m,{children:[u,e.jsx(de,{className:i.focusHighlight,ownerState:l})]}))});function x({link:t,summary:r,countSql:a,title:o}){const u=e.jsxs("div",{children:[a&&e.jsx("span",{children:e.jsx(V,{parens:!1,query:{sql:a}})}),e.jsxs("span",{children:[" ",o," "]})]}),s=e.jsxs("div",{children:[e.jsx("p",{children:r}),e.jsx(Q,{variant:"contained",color:"secondary",href:t,children:"Explore"})]});return e.jsx(P,{title:u,content:s})}try{x.displayName="GoalsV2Mobile",x.__docgenInfo={description:"",displayName:"GoalsV2Mobile",props:{countSql:{defaultValue:null,description:"",name:"countSql",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}},asset:{defaultValue:null,description:"",name:"asset",required:!0,type:{name:"string"}}}}}catch{}var _={},me=z;Object.defineProperty(_,"__esModule",{value:!0});var k=_.default=void 0,fe=me(Y()),he=e;k=_.default=(0,fe.default)((0,he.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");function y({asset:t,link:r,countSql:a,title:o}){return e.jsx(J,{sx:{width:200,height:"auto",backgroundColor:"transparent",borderColor:"transparent",boxShadow:"none"},children:e.jsxs(pe,{onClick:()=>window.open(r),children:[e.jsx(te,{component:"img",sx:{height:150,width:"100%",paddingX:2,overflow:"visible"},image:t,alt:o}),e.jsxs(re,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[e.jsx(j,{variant:"h6",sx:{marginRight:1,fontSize:"16px",fontWeight:900},children:a&&e.jsx(V,{parens:!1,query:{sql:a}})}),e.jsx(j,{variant:"body1",children:o}),e.jsx(se,{sx:{color:"primary.main"},children:e.jsx(k,{})})]})]})})}try{y.displayName="GoalsV2Desktop",y.__docgenInfo={description:"",displayName:"GoalsV2Desktop",props:{countSql:{defaultValue:null,description:"",name:"countSql",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}},asset:{defaultValue:null,description:"",name:"asset",required:!0,type:{name:"string"}}}}}catch{}const ge=1200,q=t=>{const{entityId:r,dataLink:a}=t,o=O(ge),u={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:r,partMask:T|H,query:{sql:`select * from ${r} order by ItemOrder`}},{data:s}=D(u),{assets:d,error:m}=oe(r,s),l=p("TableId",s),i=p("CountSql",s),I=p("Title",s),N=p("Summary",s),S=p("Link",s),E=(s==null?void 0:s.queryResult.queryResults.rows.map((c,f)=>{const n=c.values;n.some(G=>G===null)&&console.warn("Row has null value(s) when no nulls expected");const C=l>-1?n[l]:void 0;let h;i>-1&&n[i]?h=n[i]:C&&(h=`SELECT * FROM ${C}`);const R=n[I],M=n[N],w=n[S],B=(d==null?void 0:d[f])??"";return{countSql:h,title:R,summary:M,link:w,asset:B}}))??[];return e.jsxs(b,{sx:{height:"560px",padding:{xs:"40px",lg:"80px"}},children:[e.jsx(ae,{centered:!0,title:"What's in the Portal?",buttonText:"Start Exploring Data",link:a,sx:c=>({h2:{borderColor:ie(c.palette.primary.main,.2)},a:{marginTop:"24px",marginBottom:"30px"}})}),m&&e.jsx(L,{error:m}),e.jsx("div",{className:`Goals${o?"__Desktop":""}`,children:E.map((c,f)=>o?e.jsx("div",{children:e.jsx(y,{...c},f)}):e.jsx(b,{sx:{display:"grid"},children:e.jsx(x,{...c},f)}))})]})};try{q.displayName="GoalsV2",q.__docgenInfo={description:"",displayName:"GoalsV2",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},dataLink:{defaultValue:null,description:"",name:"dataLink",required:!0,type:{name:"string"}}}}}catch{}export{q as G};
