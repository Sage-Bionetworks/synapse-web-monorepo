import{r as g,j as r,B as X,fA as F,bl as G,bo as Y,bq as Z,bm as J,V as Q,X as S,dK as ee}from"./iframe-SFoYirDz.js";import{C as te}from"./Close-BJ49k-BP.js";import{C as ne}from"./CopyToClipboardIcon-CDh1nCTj.js";import{c as R}from"./index-Dy0fAFKr.js";import{j as v}from"./index-Bqgf_cuw.js";import{u as ie}from"./useCreateShortUrl-BJnjItLU.js";var oe=Object.defineProperty,re=Object.defineProperties,ae=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,z=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,K=(e,t,n)=>t in e?oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))z.call(t,n)&&K(e,n,t[n]);if(x)for(var n of x(t))A.call(t,n)&&K(e,n,t[n]);return e},I=(e,t)=>re(e,ae(t)),L=(e,t)=>{var n={};for(var i in e)z.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&x)for(var i of x(e))t.indexOf(i)<0&&A.call(e,i)&&(n[i]=e[i]);return n};function H(e){return n=>{var i=n,{bgStyle:o={},borderRadius:a=0,iconFillColor:u="white",round:h=!1,size:d=64}=i,p=L(i,["bgStyle","borderRadius","iconFillColor","round","size"]);return r.jsxs("svg",I(m({viewBox:"0 0 64 64",width:d,height:d},p),{children:[h?r.jsx("circle",{cx:"32",cy:"32",r:"32",fill:e.color,style:o}):r.jsx("rect",{width:"64",height:"64",rx:a,ry:a,fill:e.color,style:o}),r.jsx("path",{d:e.path,fill:u})]}))}}const se=H({color:"#1185FE",path:"M21.945 18.886C26.015 21.941 30.393 28.137 32 31.461 33.607 28.137 37.985 21.941 42.055 18.886 44.992 16.681 49.75 14.975 49.75 20.403 49.75 21.487 49.128 29.51 48.764 30.813 47.497 35.341 42.879 36.496 38.772 35.797 45.951 37.019 47.778 41.067 43.833 45.114 36.342 52.801 33.066 43.186 32.227 40.722 32.073 40.27 32.001 40.059 32 40.238 31.999 40.059 31.927 40.27 31.773 40.722 30.934 43.186 27.658 52.801 20.167 45.114 16.222 41.067 18.049 37.019 25.228 35.797 21.121 36.496 16.503 35.341 15.236 30.813 14.872 29.51 14.25 21.487 14.25 20.403 14.25 14.975 19.008 16.681 21.945 18.886Z"});class le extends Error{constructor(t){super(t),this.name="AssertionError"}}function l(e,t){if(!e)throw new le(t)}function s(e){const t=Object.entries(e).filter(([,n])=>n!=null).map(([n,i])=>`${encodeURIComponent(n)}=${encodeURIComponent(String(i))}`);return t.length>0?`?${t.join("&")}`:""}const ce=e=>!!e&&(typeof e=="object"||typeof e=="function")&&"then"in e&&typeof e.then=="function",de=(e,t)=>({left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-e/2,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-t/2}),ue=(e,t)=>({top:(window.screen.height-t)/2,left:(window.screen.width-e)/2});function he(e,t,n){var i=t,{height:o,width:a}=i,u=L(i,["height","width"]);const h=m({height:o,width:a,location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",chrome:"yes"},u),d=window.open(e,"",Object.keys(h).map(p=>`${p}=${h[p]}`).join(", "));if(n){const p=window.setInterval(()=>{try{(d===null||d.closed)&&(window.clearInterval(p),n(d))}catch(f){console.error(f)}},1e3)}return d}function we(e){var t=e,{beforeOnClick:n,children:i,className:o,disabled:a,disabledStyle:u={opacity:.6},forwardedRef:h,htmlTitle:d,networkLink:p,networkName:f,onClick:k,onShareWindowClose:b,openShareDialogOnClick:C=!0,opts:P,resetButtonStyle:y=!0,style:B,title:ht,url:E,windowHeight:O=400,windowPosition:$="windowCenter",windowWidth:N=550}=t,U=L(t,["beforeOnClick","children","className","disabled","disabledStyle","forwardedRef","htmlTitle","networkLink","networkName","onClick","onShareWindowClose","openShareDialogOnClick","opts","resetButtonStyle","style","title","url","windowHeight","windowPosition","windowWidth"]);const D=async W=>{const V=p(E,P);if(!a){if(W.preventDefault(),n){const j=n();ce(j)&&await j}if(C){const j=m({height:O,width:N},$==="windowCenter"?de(N,O):ue(N,O));he(V,j,b)}k&&k(W,V)}},M=R("react-share__ShareButton",{"react-share__ShareButton--disabled":!!a,disabled:!!a},o),q=m(m(y?{backgroundColor:"transparent",border:"none",padding:0,font:"inherit",color:"inherit",cursor:"pointer"}:{},B),a&&u);return r.jsx("button",I(m({},U),{className:M,onClick:D,ref:h,style:q,title:d,children:i}))}function c(e,t,n,i){const o=(a,u)=>{const h=n(a),d=m({},a);return Object.keys(h).forEach(f=>{delete d[f]}),r.jsx(we,I(m(m({},i),d),{forwardedRef:u,networkName:e,networkLink:t,opts:h}))};return o.displayName=`ShareButton-${e}`,g.forwardRef(o)}function pe(e,{title:t,separator:n}){return l(e,"bluesky.url"),"https://bsky.app/intent/compose"+s({text:t?t+n+e:e})}const me=c("bluesky",pe,e=>({title:e.title,separator:e.separator||" "}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function fe(e,{subject:t,body:n,separator:i}){return"mailto:"+s({subject:t,body:n?n+i+e:e})}c("email",fe,e=>({subject:e.subject,body:e.body,separator:e.separator||" "}),{openShareDialogOnClick:!1,onClick:(e,t)=>{window.location.href=t}});function ge(e,{appId:t,redirectUri:n,to:i}){return"https://www.facebook.com/dialog/send"+s({link:e,redirect_uri:n||e,app_id:t,to:i})}c("facebookmessenger",ge,e=>({appId:e.appId,redirectUri:e.redirectUri,to:e.to}),{windowWidth:1e3,windowHeight:820});function be(e,{hashtag:t}){return l(e,"facebook.url"),"https://www.facebook.com/sharer/sharer.php"+s({u:e,hashtag:t})}c("facebook",be,e=>({hashtag:e.hashtag}),{windowWidth:550,windowHeight:400});function ke(){const e=g.useRef(!1);return g.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),g.useCallback(()=>e.current,[])}function ve(e){var t=e,{children:n=b=>b,className:i,getCount:o,url:a}=t,u=L(t,["children","className","getCount","url"]);const h=ke(),[d,p]=g.useState(void 0),[f,k]=g.useState(!1);return g.useEffect(()=>{k(!0),o(a,b=>{h()&&(p(b),k(!1))})},[a]),r.jsx("span",I(m({className:R("react-share__ShareCount",i)},u),{children:!f&&d!==void 0&&n(d)}))}function _(e){const t=n=>r.jsx(ve,m({getCount:e},n));return t.displayName=`ShareCount(${e.name})`,t}function _e(e,t){const n=`https://graph.facebook.com/?id=${e}&fields=og_object{engagement}`;v(n,(i,o)=>{t(!i&&o&&o.og_object&&o.og_object.engagement?o.og_object.engagement.count:void 0)})}_(_e);function ye(e,{title:t}){return l(e,"hatena.url"),`http://b.hatena.ne.jp/add?mode=confirm&url=${e}&title=${t}`}c("hatena",ye,e=>({title:e.title}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function Ce(e,t){v("https://bookmark.hatenaapis.com/count/entry"+s({url:e}),(i,o)=>{t(o??void 0)})}_(Ce);function je(e,{title:t,description:n}){return l(e,"instapaper.url"),"http://www.instapaper.com/hello2"+s({url:e,title:t,description:n})}c("instapaper",je,e=>({title:e.title,description:e.description}),{windowWidth:500,windowHeight:500,windowPosition:"windowCenter"});function Se(e,{title:t}){return l(e,"line.url"),"https://social-plugins.line.me/lineit/share"+s({url:e,text:t})}c("line",Se,e=>({title:e.title}),{windowWidth:500,windowHeight:500});const xe=H({color:"#0077B5",path:"M20.4,44h5.4V26.6h-5.4V44z M23.1,18c-1.7,0-3.1,1.4-3.1,3.1c0,1.7,1.4,3.1,3.1,3.1 c1.7,0,3.1-1.4,3.1-3.1C26.2,19.4,24.8,18,23.1,18z M39.5,26.2c-2.6,0-4.4,1.4-5.1,2.8h-0.1v-2.4h-5.2V44h5.4v-8.6 c0-2.3,0.4-4.5,3.2-4.5c2.8,0,2.8,2.6,2.8,4.6V44H46v-9.5C46,29.8,45,26.2,39.5,26.2z"});function Ie(e,{title:t,summary:n,source:i}){return l(e,"linkedin.url"),"https://linkedin.com/shareArticle"+s({url:e,mini:"true",title:t,summary:n,source:i})}const Le=c("linkedin",Ie,({title:e,summary:t,source:n})=>({title:e,summary:t,source:n}),{windowWidth:750,windowHeight:600});function Pe(e,{title:t,description:n}){return l(e,"livejournal.url"),"https://www.livejournal.com/update.bml"+s({subject:t,event:n})}c("livejournal",Pe,e=>({title:e.title,description:e.description}),{windowWidth:660,windowHeight:460});function Oe(e,{title:t,description:n,imageUrl:i}){return l(e,"mailru.url"),"https://connect.mail.ru/share"+s({url:e,title:t,description:n,image_url:i})}c("mailru",Oe,e=>({title:e.title,description:e.description,imageUrl:e.imageUrl}),{windowWidth:660,windowHeight:460});function Ne(e,{title:t,description:n,image:i}){return l(e,"ok.url"),"https://connect.ok.ru/offer"+s({url:e,title:t,description:n,imageUrl:i})}c("ok",Ne,e=>({title:e.title,description:e.description,image:e.image}),{windowWidth:588,windowHeight:480,windowPosition:"screenCenter"});function He(e,t){window.OK||(window.OK={Share:{count:function(a,u){var h,d;(d=(h=window.OK.callbacks)[a])==null||d.call(h,u)}},callbacks:[]});const n="https://connect.ok.ru/dk",i=window.OK.callbacks.length;return window.ODKL={updateCount(o,a){var u,h;const d=o===""?0:parseInt(o.replace("react-share-",""),10);(h=(u=window.OK.callbacks)[d])==null||h.call(u,a===""?void 0:parseInt(a,10))}},window.OK.callbacks.push(t),v(n+s({"st.cmd":"extLike",uid:`react-share-${i}`,ref:e}))}_(He);function Be(e,{media:t,description:n,pinId:i}){return i?`https://pinterest.com/pin/${i}/repin/x/`:(l(e,"pinterest.url"),l(t,"pinterest.media"),"https://pinterest.com/pin/create/button/"+s({url:e,media:t,description:n}))}c("pinterest",Be,e=>({media:e.media,description:e.description,pinId:e.pinId}),{windowWidth:1e3,windowHeight:730});function We(e,t){v("https://api.pinterest.com/v1/urls/count.json"+s({url:e}),(i,o)=>{t(o?o.count:void 0)})}_(We);function Ve(e,{title:t}){return l(e,"pocket.url"),"https://getpocket.com/save"+s({url:e,title:t})}c("pocket",Ve,e=>({title:e.title}),{windowWidth:500,windowHeight:500});function Ke(e,{title:t}){return l(e,"reddit.url"),"https://www.reddit.com/web/submit"+s({url:e,title:t})}c("reddit",Ke,e=>({title:e.title}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function Te(e,{title:t}){return l(e,"gab.url"),"https://gab.com/compose"+s({url:e,text:t})}c("gab",Te,e=>({title:e.title}),{windowWidth:660,windowHeight:640,windowPosition:"windowCenter"});function Re(e,t){const n=`https://www.reddit.com/api/info.json?limit=1&url=${e}`;v(n,{param:"jsonp"},(i,o)=>{t(!i&&o&&o.data&&o.data.children.length>0&&o.data.children[0].data.score?o.data.children[0].data.score:void 0)})}_(Re);function ze(e,{title:t}){return l(e,"telegram.url"),"https://telegram.me/share/url"+s({url:e,text:t})}c("telegram",ze,e=>({title:e.title}),{windowWidth:550,windowHeight:400});function Ae(e,{title:t}){return l(e,"threads.url"),"https://threads.net/intent/post"+s({url:e,text:t})}c("threads",Ae,e=>({title:e.title}),{windowWidth:550,windowHeight:600});function Ee(e,{title:t,caption:n,tags:i,posttype:o}){return l(e,"tumblr.url"),"https://www.tumblr.com/widgets/share/tool"+s({canonicalUrl:e,title:t,caption:n,tags:i,posttype:o})}c("tumblr",Ee,e=>({title:e.title,tags:(e.tags||[]).join(","),caption:e.caption,posttype:e.posttype||"link"}),{windowWidth:660,windowHeight:460});function $e(e,t){return v("https://api.tumblr.com/v2/share/stats"+s({url:e}),(i,o)=>{t(!i&&o&&o.response?o.response.note_count:void 0)})}_($e);function Ue(e,{title:t,via:n,hashtags:i=[],related:o=[]}){return l(e,"twitter.url"),l(Array.isArray(i),"twitter.hashtags is not an array"),l(Array.isArray(o),"twitter.related is not an array"),"https://twitter.com/intent/tweet"+s({url:e,text:t,via:n,hashtags:i.length>0?i.join(","):void 0,related:o.length>0?o.join(","):void 0})}const De=c("twitter",Ue,e=>({hashtags:e.hashtags,title:e.title,via:e.via,related:e.related}),{windowWidth:550,windowHeight:400});function Me(e,{title:t,separator:n}){return l(e,"viber.url"),"viber://forward"+s({text:t?t+n+e:e})}c("viber",Me,e=>({title:e.title,separator:e.separator||" "}),{windowWidth:660,windowHeight:460});function qe(e,{title:t,image:n,noParse:i,noVkLinks:o}){return l(e,"vk.url"),"https://vk.com/share.php"+s({url:e,title:t,image:n,noparse:i?1:0,no_vk_links:o?1:0})}c("vk",qe,e=>({title:e.title,image:e.image,noParse:e.noParse,noVkLinks:e.noVkLinks}),{windowWidth:660,windowHeight:460});function Xe(e,t){window.VK||(window.VK={}),window.VK.Share={count:(o,a)=>{var u,h;return(h=(u=window.VK.callbacks)==null?void 0:u[o])==null?void 0:h.call(u,a)}},window.VK.callbacks=[];const n="https://vk.com/share.php",i=window.VK.callbacks.length;return window.VK.callbacks.push(t),v(n+s({act:"count",index:i,url:e}))}_(Xe);function Fe(e,{title:t,image:n}){return l(e,"weibo.url"),"http://service.weibo.com/share/share.php"+s({url:e,title:t,pic:n})}c("weibo",Fe,e=>({title:e.title,image:e.image}),{windowWidth:660,windowHeight:550,windowPosition:"screenCenter"});function Ge(){return/(android|iphone|ipad|mobile)/i.test(navigator.userAgent)}function Ye(e,{title:t,separator:n}){return l(e,"whatsapp.url"),"https://"+(Ge()?"api":"web")+".whatsapp.com/send"+s({text:t?t+n+e:e})}c("whatsapp",Ye,e=>({title:e.title,separator:e.separator||" "}),{windowWidth:550,windowHeight:400});function Ze(e,{quote:t,hashtag:n}){return l(e,"workplace.url"),"https://work.facebook.com/sharer.php"+s({u:e,quote:t,hashtag:n})}c("workplace",Ze,e=>({quote:e.quote,hashtag:e.hashtag}),{windowWidth:550,windowHeight:400});const Je=H({color:"#000000",path:"M 41.116 18.375 h 4.962 l -10.8405 12.39 l 12.753 16.86 H 38.005 l -7.821 -10.2255 L 21.235 47.625 H 16.27 l 11.595 -13.2525 L 15.631 18.375 H 25.87 l 7.0695 9.3465 z m -1.7415 26.28 h 2.7495 L 24.376 21.189 H 21.4255 z"}),Qe="_dialogPaper_tav95_17",et="_dialogTitle_tav95_24",tt="_dialogContent_tav95_30",nt="_copyButton_tav95_34",it="_closeIcon_tav95_41",ot="_contentStack_tav95_45",rt="_shareItem_tav95_51",at="_shareButtonsContainer_tav95_64",st="_shareItemLabel_tav95_74",lt="_shareIcon_tav95_78",ct="_copyLabel_tav95_82",dt="_copyRow_tav95_88",ut="_urlInput_tav95_94",w={dialogPaper:Qe,dialogTitle:et,dialogContent:tt,copyButton:nt,closeIcon:it,contentStack:ot,shareItem:rt,shareButtonsContainer:at,shareItemLabel:st,shareIcon:lt,copyLabel:ct,copyRow:dt,urlInput:ut},T=({shortIoPublicApiKey:e,domain:t="sageb.io",renderAs:n="button",open:i,onClose:o})=>{const[a,u]=g.useState(""),[h,d]=g.useState(!1),p=i===void 0,f=p?h:i,k=()=>{p&&d(!0)},b=()=>{p&&d(!1),o&&o()},{mutate:C,isPending:P}=ie({shortIoPublicApiKey:e,domain:t,onSuccess:y=>{u(y)},onError:y=>{console.error(y),u(window.location.href)}});return g.useEffect(()=>{f&&C()},[f,C]),r.jsxs("div",{children:[n==="button"&&r.jsx(X,{variant:"outlined",endIcon:r.jsx(F,{className:w.shareIcon}),onClick:k,children:"Share"}),r.jsxs(G,{open:f,onClose:b,maxWidth:"xs",className:w.dialogPaper,children:[r.jsxs(Y,{className:w.dialogTitle,children:["Share this page",r.jsx(Z,{onClick:b,size:"small",children:r.jsx(te,{className:w.closeIcon})})]}),r.jsx(J,{className:w.dialogContent,children:r.jsxs(Q,{className:w.contentStack,children:[r.jsxs("div",{className:w.shareButtonsContainer,children:[r.jsx(Le,{url:a,"aria-label":"Share on LinkedIn",children:r.jsxs("div",{className:w.shareItem,children:[r.jsx(xe,{size:48,round:!0}),r.jsx(S,{variant:"body1",className:w.shareItemLabel,children:"LinkedIn"})]})}),r.jsx(De,{url:a,"aria-label":"Share on X",children:r.jsxs("div",{className:w.shareItem,children:[r.jsx(Je,{size:48,round:!0}),r.jsx(S,{variant:"body1",className:w.shareItemLabel,children:"X"})]})}),r.jsx(me,{url:a,"aria-label":"Share on Bluesky",children:r.jsxs("div",{className:w.shareItem,children:[r.jsx(se,{size:48,round:!0}),r.jsx(S,{variant:"body1",className:w.shareItemLabel,children:"Bluesky"})]})})]}),r.jsxs("div",{className:w.copySection,children:[r.jsx(S,{className:w.copyLabel,children:"Page Link"}),r.jsxs("div",{className:w.copyRow,children:[r.jsx(ee,{className:w.urlInput,value:a,readOnly:!0,"aria-label":"Page URL",placeholder:P?"Generating link...":""}),r.jsx(ne,{value:a,sizePx:24,className:w.copyButton})]})]})]})})]})]})};try{T.displayName="ShareThisPage",T.__docgenInfo={description:"",displayName:"ShareThisPage",props:{shortIoPublicApiKey:{defaultValue:null,description:"",name:"shortIoPublicApiKey",required:!1,type:{name:"string"}},domain:{defaultValue:{value:"sageb.io"},description:"",name:"domain",required:!1,type:{name:"string"}},renderAs:{defaultValue:{value:"button"},description:"",name:"renderAs",required:!1,type:{name:"enum",value:[{value:'"button"'},{value:'"icon"'}]}},open:{defaultValue:null,description:"",name:"open",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"() => void"}}}}}catch{}export{T as S};
