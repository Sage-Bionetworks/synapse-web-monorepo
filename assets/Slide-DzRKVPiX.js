import{_ as O,a as x}from"./createTheme-Dr-FRt9h.js";import{r as E}from"./index-CiYMHn1W.js";import{u as q}from"./useTheme-nIT41qkF.js";import{T as A,g as D,a as L,r as G}from"./utils-GYwY21oY.js";import{j as J}from"./jsx-runtime-DHIV3NgZ.js";import{u as K}from"./useForkRef-C9IHRvmt.js";import{d as M}from"./debounce-Be36O1Ab.js";import{o as S}from"./ownerWindow-HkKU3E4x.js";const N=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Q(o,i,d){const e=i.getBoundingClientRect(),n=d&&d.getBoundingClientRect(),g=S(i);let f;if(i.fakeTransform)f=i.fakeTransform;else{const s=g.getComputedStyle(i);f=s.getPropertyValue("-webkit-transform")||s.getPropertyValue("transform")}let u=0,l=0;if(f&&f!=="none"&&typeof f=="string"){const s=f.split("(")[1].split(")")[0].split(",");u=parseInt(s[4],10),l=parseInt(s[5],10)}return o==="left"?n?`translateX(${n.right+u-e.left}px)`:`translateX(${g.innerWidth+u-e.left}px)`:o==="right"?n?`translateX(-${e.right-n.left-u}px)`:`translateX(-${e.left+e.width-u}px)`:o==="up"?n?`translateY(${n.bottom+l-e.top}px)`:`translateY(${g.innerHeight+l-e.top}px)`:n?`translateY(-${e.top-n.top+e.height-l}px)`:`translateY(-${e.top+e.height-l}px)`}function U(o){return typeof o=="function"?o():o}function h(o,i,d){const e=U(d),n=Q(o,i,e);n&&(i.style.webkitTransform=n,i.style.transform=n)}const at=E.forwardRef(function(i,d){const e=q(),n={enter:e.transitions.easing.easeOut,exit:e.transitions.easing.sharp},g={enter:e.transitions.duration.enteringScreen,exit:e.transitions.duration.leavingScreen},{addEndListener:f,appear:u=!0,children:l,container:s,direction:c="down",easing:T=n,in:m,onEnter:R,onEntered:P,onEntering:b,onExit:k,onExited:v,onExiting:V,style:y,timeout:w=g,TransitionComponent:W=A}=i,X=O(i,N),a=E.useRef(null),Y=K(D(l),a,d),p=t=>r=>{t&&(r===void 0?t(a.current):t(a.current,r))},j=p((t,r)=>{h(c,t,s),G(t),R&&R(t,r)}),z=p((t,r)=>{const $=L({timeout:w,style:y,easing:T},{mode:"enter"});t.style.webkitTransition=e.transitions.create("-webkit-transform",x({},$)),t.style.transition=e.transitions.create("transform",x({},$)),t.style.webkitTransform="none",t.style.transform="none",b&&b(t,r)}),_=p(P),B=p(V),I=p(t=>{const r=L({timeout:w,style:y,easing:T},{mode:"exit"});t.style.webkitTransition=e.transitions.create("-webkit-transform",r),t.style.transition=e.transitions.create("transform",r),h(c,t,s),k&&k(t)}),F=p(t=>{t.style.webkitTransition="",t.style.transition="",v&&v(t)}),H=t=>{f&&f(a.current,t)},C=E.useCallback(()=>{a.current&&h(c,a.current,s)},[c,s]);return E.useEffect(()=>{if(m||c==="down"||c==="right")return;const t=M(()=>{a.current&&h(c,a.current,s)}),r=S(a.current);return r.addEventListener("resize",t),()=>{t.clear(),r.removeEventListener("resize",t)}},[c,m,s]),E.useEffect(()=>{m||C()},[m,C]),J.jsx(W,x({nodeRef:a,onEnter:j,onEntered:_,onEntering:z,onExit:I,onExited:F,onExiting:B,addEndListener:H,appear:u,in:m,timeout:w},X,{children:(t,r)=>E.cloneElement(l,x({ref:Y,style:x({visibility:t==="exited"&&!m?"hidden":void 0},y,l.props.style)},r))}))});export{at as S};
