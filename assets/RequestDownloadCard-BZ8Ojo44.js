import{j as e}from"./jsx-runtime-Du8NFWEI.js";import{k as p,o as c,p as m}from"./SynapseClient-D4M9LQNp.js";import{l as u}from"./SynapseConstants-JYtSvawC.js";import"./getEndpoint-CjoHA800.js";import"./index-Dl6G-zuu.js";import{s as y}from"./index-Pxtlv3yl.js";import"./OrientationBanner-BV5RFxzC.js";import{A as w}from"./ActionRequiredCard-BYaMyRAL.js";import{M as f}from"./Alert-HJYNNEvY.js";import{T as g}from"./Typography-B88_J_TK.js";import{B as _}from"./Button-mb55Lwfk.js";function E(n,r,t=y,o){const{accessToken:i,keyFactory:s}=p();return c({...o,queryKey:s.getEntityBundleQueryKey(n,r,t),queryFn:()=>m.getEntityBundleV2(n,t,r,i)})}const h=n=>window.open(`https://www.synapse.org/Synapse:${n}`,"_blank"),S="Download Permission Required",d=({entityId:n,count:r,onViewSharingSettingsClicked:t=h})=>{const{data:o,isLoading:i,isError:s,error:l}=E(n,void 0,{includeEntity:!0,includePermissions:!0}),a=!!(o!=null&&o.permissions.canDownload);return s?e.jsx(f,{severity:"error",children:l.reason}):e.jsx(w,{isLoading:i,title:S,description:e.jsxs(e.Fragment,{children:["You must be granted the download permission on"," ",e.jsx("strong",{children:o==null?void 0:o.entity.name})," in order to download this set of files."]}),iconType:u,count:r,actionNode:e.jsxs(e.Fragment,{children:[e.jsx(g,{variant:"smallText1",sx:{mb:1,color:"grey.700"},children:"Contact an administrator to request download permission"}),e.jsx(_,{variant:"outlined",onClick:()=>{t(n)},disabled:a,children:a?"Complete":"View Sharing Settings"})]})})};try{d.displayName="RequestDownloadCard",d.__docgenInfo={description:"",displayName:"RequestDownloadCard",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}},onViewSharingSettingsClicked:{defaultValue:{value:`benefactorEntityId =>
    window.open(
      \`https://www.synapse.org/Synapse:\${benefactorEntityId}\`,
      '_blank',
    )`},description:'Invoked when a user clicks "View Sharing Settings" for a set of files that require the Download permission',name:"onViewSharingSettingsClicked",required:!1,type:{name:"((benefactorId: string) => void)"}}}}}catch{}export{d as R,E as u};
