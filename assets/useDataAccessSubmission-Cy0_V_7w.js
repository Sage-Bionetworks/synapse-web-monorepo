import{ao as r,an as m,aI as y,aJ as o,ab as i}from"./iframe-D1nGOIH-.js";import{u as S}from"./useInfiniteQuery-BoAhb982.js";function A(s,a){const{accessToken:n,keyFactory:t}=r();return m({...a,queryKey:t.getDataAccessSubmissionByIdQueryKey(String(s.toString())),queryFn:()=>i.getSubmissionById(s,n)})}function l(s,a){const{keyFactory:n,synapseClient:t}=r();return S({...a,queryKey:n.searchDataAccessSubmissionUserRequestsQueryKey(s),queryFn:e=>t.dataAccessServicesClient.postRepoV1DataAccessSubmissionUserRequests({userSubmissionSearchRequest:{...s,nextPageToken:e.pageParam}}),initialPageParam:void 0,getNextPageParam:e=>e.nextPageToken})}function q(s,a){const{accessToken:n,keyFactory:t}=r();return S({...a,queryKey:t.searchDataAccessSubmissionQueryKey(s),queryFn:async e=>await i.searchAccessSubmission({...s,nextPageToken:e.pageParam},n),initialPageParam:void 0,getNextPageParam:e=>e.nextPageToken})}function P(s){const a=y(),{accessToken:n,keyFactory:t}=r();return o({...s,mutationFn:e=>i.updateSubmissionStatus(e,n),onSuccess:async(e,c,u)=>{await a.invalidateQueries({queryKey:t.searchDataAccessSubmissionQueryKey()}),a.setQueryData(t.getDataAccessSubmissionByIdQueryKey(c.submissionId),e),s?.onSuccess&&await s.onSuccess(e,c,u)}})}function d(s){const a=y(),{accessToken:n,keyFactory:t}=r();return o({...s,mutationFn:async({request:e,accessRequirementId:c})=>{if(e.subjectId==null||e.subjectType==null){const{subjects:u}=await i.getSubjects(n,c);e.subjectId=u[0].id,e.subjectType=u[0].type}return i.submitDataAccessRequest(e,n)},onSuccess:async(e,c,u)=>{await Promise.all([a.invalidateQueries({queryKey:t.getAccessRequirementStatusQueryKey(c.accessRequirementId)}),a.invalidateQueries({queryKey:t.getDataAccessSubmissionQueryKey()})]),s?.onSuccess&&await s.onSuccess(e,c,u)}})}export{q as a,P as b,A as c,l as d,d as u};
