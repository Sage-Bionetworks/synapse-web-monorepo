import{ao as be,an as Re,V as oe,j as r,ei as ee,a1 as Fe,ej as Ae,W as g,Y as F,$ as je,a2 as Te,dG as $,B as v,di as ie,c0 as Ce,jQ as Ne,r as h,gX as Ie,eN as Me,c7 as Ee,Z as Qe,bs as ve,ai as we,jR as Pe,jS as Ve,jT as Ye,jU as qe,jV as ke,jW as q}from"./iframe-Cb9YNozx.js";import{S as De}from"./SynapseSearchResultsCard-Rgvp4dEV.js";import{S as te}from"./Search-DYQRoKYn.js";import{u as Be}from"./useSearch-Clpm8yIq.js";import{D as R}from"./searchDefaults-DeDUeq1b.js";import{C as re}from"./Close-CQaXLTm7.js";import{U as le}from"./UserBadge-Bh4Ksb1L.js";import{C as ae}from"./Chip-DkiZ-DGD.js";import{F as k}from"./FormControlLabel-DLrXg_In.js";import{C as ne}from"./Checkbox-nIJeGWWn.js";import{R as Le}from"./RadioGroup-Bb5it0eo.js";import{R as Ue}from"./Radio-CPckAT_J.js";import{I as Oe}from"./InputAdornment-CWXE8_bW.js";import{B as He}from"./Badge-rYdx7d9t.js";import"./index-Chi_LkuB.js";import"./EntityIcon-B8U_8kzl.js";import"./FavoriteButton-icG2KId9.js";import"./useFavorites-D-8x10V0.js";import"./useInfiniteQuery-CgLSPwL6.js";import"./InfiniteQueryUtils-CKlRW-xB.js";import"./DropdownMenu-DJC8hjHQ.js";import"./MenuItem-WtaSofOf.js";import"./ListItemIcon-Tqr0dXjX.js";import"./ListItemText-B57J_0xk.js";import"./ProgrammaticInstructionsModal-jxHrILmU.js";import"./ConfirmationDialog-Cy0nFlwJ.js";import"./DialogBase-CgXBzYW4.js";import"./HelpPopover-BQnaThHT.js";import"./MarkdownPopover-DhA9uHcY.js";import"./LightTooltip-CdqBbLFh.js";import"./MarkdownSynapse-DVECeIy7.js";import"./SkeletonButton-n18AgO8O.js";import"./SkeletonInlineBlock-Cy31Etok.js";import"./SkeletonTable-D9G853Nf.js";import"./SkeletonParagraph-C98TKSTr.js";import"./Tabs-B3of1-e9.js";import"./KeyboardArrowRight-BQ8BL_4P.js";import"./ModalDownload-D2ty_nH6.js";import"./index-CFB7FTvw.js";import"./enums-9EnIqiIL.js";import"./_baseIteratee-Crm1dtkV.js";import"./isString-T56SNEqc.js";import"./_arrayReduce-CrxnWFSq.js";import"./_baseEach-C8hjnQXk.js";import"./uniq-B_kjh9wh.js";import"./forEach-CWOCpBhE.js";import"./pickBy-Itep66an.js";import"./Add-DatHcS7X.js";import"./Grid-L5kZtU_P.js";import"./ListItem-DmdFXjd_.js";import"./listItemButtonClasses-BiDZNeUi.js";import"./ArrowUpward-BqOs2YUk.js";import"./ContentCopy-CU0mDjXq.js";import"./FormGroup-DLCtR279.js";import"./Slider-CzjXgNox.js";import"./visuallyHidden-Dan1xhjv.js";import"./SynapseFormRadioWidget-DhIbycZ7.js";import"./useDownloadList-DhgmMNcT.js";import"./waitForAsyncResult-B1wy4cLa.js";import"./useEntity-DyZqXoe_.js";import"./useQueries-Ba1QGbRl.js";import"./useSuspenseQuery-DijQnciR.js";import"./useEntityBundle-CG9M7-op.js";import"./DownloadConfirmationUtils-BMKGZn-7.js";import"./useHasAccess-pXCMHWZR.js";import"./AccessIcon-DagWrgPl.js";import"./AccessRequirementList-yhMWsazZ.js";import"./useAccessRequirements-BsGhfNJc.js";import"./index-_wJIgEa8.js";import"./_baseOrderBy-B50alGxt.js";import"./_baseMap-CaFbY6tk.js";import"./groupBy-b5pI-3ia.js";import"./_createAggregator-H-JN2VCX.js";import"./EntityLink-Bq5aA7eq.js";import"./useGetEntityHeaders-CEVXDtlt.js";import"./ErrorChip-By_w8XiF.js";import"./UserOrTeamBadge-GKGn8VBX.js";import"./TeamBadge-BDVNxB1t.js";import"./useRealmPrincipals-BOYcyrLO.js";import"./UnmanagedACTAccessRequirementItem-Clfn47-q.js";import"./RequirementItem-DusPSBTU.js";import"./LockTwoTone-K5OSONom.js";import"./UserSearchBoxV2-B2E5TQjc.js";import"./useDebouncedEffect-C_9kQbIo.js";import"./use-deep-compare-effect.esm-DRlUfThG.js";import"./without-Dc8QFibI.js";import"./Select-aab027f3.esm-CJ_oX53i.js";import"./defineProperty-Cp4flQ_6.js";import"./toPropertyKey-C9c9JG92.js";import"./ManagedACTAccessRequirementItemView-BLnP65nv.js";import"./SelfSignAccessRequirementItem-UVL-LPAf.js";import"./useUserBundle--HGZeLM6.js";import"./DataAccessRequestAccessorsFilesForm-BFZ28q7i.js";import"./useDataAccessSubmission-C9zNQz3d.js";import"./UploadDocumentField-DuU9T68O.js";import"./FileUpload-DuIK9E-8.js";import"./ManagedACTAccessRequirementFormWikiWrapper-Czpb_082.js";import"./GridLegacy-Dc0OtKIb.js";import"./ResearchProjectForm-CPrenJ-w.js";import"./TextFieldWithWordLimit-DArvxBqX.js";import"./AuthenticatedRequirement-Dwq9E9YH.js";import"./CertificationRequirement-CWoXPCDF.js";import"./TwoFactorAuthEnabledRequirement-nCGHJseD.js";import"./ValidationRequirement-oXEL8v8Z.js";import"./Card-CUlSPQ6A.js";import"./SwitchBase-Dg-qdkEc.js";import"./usePreviousProps-CuwqmkqL.js";function $e(e,n){const{synapseClient:t,keyFactory:a}=be();return Re({...n,queryKey:a.getSuggestionQueryKey(e),queryFn:()=>t.searchServicesClient.postRepoV1Suggestion({suggestionQuery:e})})}const ze=oe(r.jsx("path",{d:"M7 6h10l-5.01 6.3zm-2.75-.39C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"})),We=oe(r.jsx("path",{d:"M18 9v12h-2V9c0-2.21-1.79-4-4-4S8 6.79 8 9v4.17l1.59-1.59L11 13l-4 4-4-4 1.41-1.41L6 13.17V9c0-3.31 2.69-6 6-6s6 2.69 6 6"})),Ge="_didYouMeanContainer_1wx9h_1",Ke="_didYouMeanSuggestion_1wx9h_8",Xe="_searchIcon_1wx9h_14",Je="_suggestionText_1wx9h_18",Ze="_didYouMeanCurrentlyShowing_1wx9h_23",et="_didYouMeanArrowContainer_1wx9h_27",tt="_didYouMeanText_1wx9h_33",b={didYouMeanContainer:Ge,didYouMeanSuggestion:Ke,searchIcon:Xe,suggestionText:Je,didYouMeanCurrentlyShowing:Ze,didYouMeanArrowContainer:et,didYouMeanText:tt};function D({entityIds:e,dataCatalogEntityId:n="syn61609402",sourceAppConfigTableID:t="syn45291362"}){const a=e.length>0?[{concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter",columnName:"id",operator:ee.IN,values:e}]:[],{data:o}=Fe({entityId:n,query:{sql:`SELECT appId, link FROM ${n}`,additionalFilters:a},partMask:Te,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest"},{enabled:e.length>0}),l=o?.responseBody?.queryResult?.queryResults,s=!!l&&l?.rows.length>0,c=l?.rows.map(p=>p.values[0]),d=c&&c.length>0?[{concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter",columnName:"appId",operator:ee.IN,values:c}]:[],y=Ae(t,d),x=!!y&&y.length>0;return!s||!x?null:r.jsx(r.Fragment,{children:y.map((p,A)=>r.jsxs(g,{sx:{display:"flex",padding:"32px",backgroundColor:"secondary.100",borderRadius:"8px",transition:"background-color 0.3s",justifyContent:"space-between",alignItems:"center",gap:"50px",boxShadow:"0 4px 10px 0 rgba(0, 0, 0, 0.10), 0 1px 1px 0 rgba(0, 0, 0, 0.05)"},children:[r.jsx(g,{children:r.jsxs(F,{variant:"smallText1",sx:{color:"grey.900",mt:"4px",lineHeight:"20px"},children:["Looks like you’re searching for information about"," ",p.shortDescription," ",r.jsxs(je,{component:"a",href:p.appURL,target:"_blank",rel:"noopener noreferrer",sx:{color:f=>`${f.palette.grey[900]} !important`,textDecorationColor:f=>`${f.palette.grey[900]} !important`},children:["Visit the ",p.friendlyName]}),". ",p.description]})}),r.jsx(g,{sx:{"> *":{height:"48px",width:"auto"}},children:p?.logo})]},A))})}try{D.displayName="SearchPagePortalBanners",D.__docgenInfo={description:"Portal banner based on entities found in the first page of search results.",displayName:"SearchPagePortalBanners",props:{entityIds:{defaultValue:null,description:"",name:"entityIds",required:!0,type:{name:"string[]"}},dataCatalogEntityId:{defaultValue:{value:"syn61609402"},description:"",name:"dataCatalogEntityId",required:!1,type:{name:"string"}},sourceAppConfigTableID:{defaultValue:{value:"syn45291362"},description:"",name:"sourceAppConfigTableID",required:!1,type:{name:"string"}}}}}catch{}const rt="_chipStyles_vxz58_1",at="_resetFilterButton_vxz58_11",nt="_displayName_vxz58_24",st="_closeIcon_vxz58_31",C={chipStyles:rt,resetFilterButton:at,displayName:nt,closeIcon:st},se=10,ot=60,ce=ot*60,P=ce*24,it=P*7,lt=P*30,ct=P*365,w=[{id:"ANY_TIME",label:"Any Time",range:null},{id:"PAST_HOUR",label:"Past Hour",range:ce},{id:"PAST_DAY",label:"Past 24 Hours",range:P},{id:"PAST_WEEK",label:"Past Week",range:it},{id:"PAST_MONTH",label:"Past Month",range:lt},{id:"PAST_YEAR",label:"Past Year",range:ct}],ut={node_type:"Entity Type",modified_by:"Last Modified By"},dt=["node_type","consortium","disease","modified_on","modified_by","created_on","tissue","num_samples","created_by"],pt=["modified_by","created_by","ModifiedBy","CreatedBy"],mt={node_type:"Entity Types",consortium:"Consortiums",disease:"Diseases",tissue:"Tissues",num_samples:"Num Samples",modified_by:"Last Modified By",created_by:"Created By"};function gt(e){return`All ${mt[e]||de(e)}`}function z(e,n){if(!n||n.trim()==="")return!1;const t=(e==="node_type"||e==="EntityType")&&n==="link",a=n.includes(":");return!t&&!a}const ue=e=>{const n=e.toLowerCase().replace(/_/g,"");return pt.some(t=>t.toLowerCase().replace(/_/g,"")===n)};function de(e){return e.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase())}function yt(e){return ut[e]||de(e)}function ht(e){return!(!e.constraints||e.constraints.length===0)}function pe(e){const n=parseInt(e);if(!n)return"ANY_TIME";const t=$().unix()-n;return t<=0?"ANY_TIME":w.filter(l=>l.id!=="ANY_TIME").reduce((l,s)=>Math.abs(t-s.range)<Math.abs(t-l.range)?s:l).id}function ft(e){const n=parseInt(e);if(isNaN(n))return e;if(n===0)return"any time";const t=pe(e),a=w.find(o=>o.id===t);if(a&&a.id!=="ANY_TIME")return a.label;try{const o=n*1e3;return new Date(o).toLocaleDateString()}catch{return e}}function B({query:e,setQuery:n,facets:t,onAddFacet:a,onRemoveFacet:o,onSetRangeFacet:l,onRemoveRangeFacet:s,isFacetApplied:c,isRangeFacetApplied:d,getAppliedRangeFacet:y}){const x=e.booleanQuery&&e.booleanQuery.length>0||e.rangeQuery&&e.rangeQuery.length>0,p=()=>{n({...e,booleanQuery:[],rangeQuery:[],start:0})};return r.jsxs(g,{sx:{display:"flex",flexDirection:"column",gap:2},children:[x&&r.jsxs(v,{onClick:p,variant:"text",size:"small",className:C.resetFilterButton,children:[r.jsx(We,{sx:{transform:"rotate(90deg)"}}),r.jsx(F,{sx:{fontSize:"16px",fontWeight:700},children:"Reset Filters"})]}),r.jsx(g,{sx:{display:"flex",flexDirection:"row",gap:3,flexWrap:"wrap"},children:dt.map(A=>{const f=t.find(N=>N.name===A);return!f||!ht(f)?null:r.jsx(xt,{facet:f,query:e,onAddFacet:a,onRemoveFacet:o,onSetRangeFacet:l,onRemoveRangeFacet:s,isFacetApplied:c,isRangeFacetApplied:d,getAppliedRangeFacet:y},f.name)})})]})}function xt({facet:e,query:n,onAddFacet:t,onRemoveFacet:a,onSetRangeFacet:o,onRemoveRangeFacet:l,isFacetApplied:s,isRangeFacetApplied:c,getAppliedRangeFacet:d}){const y=yt(e.name);return r.jsxs(g,{sx:{display:"flex",flexDirection:"column",minWidth:"200px"},children:[r.jsx(F,{variant:"smallText2",className:C.displayName,children:y}),e.type===Ne.LITERAL?r.jsx(_t,{facet:e,query:n,onAddFacet:t,onRemoveFacet:a,isFacetApplied:s}):r.jsx(St,{facet:e,query:n,onSetRangeFacet:o,onRemoveRangeFacet:l,isRangeFacetApplied:c,getAppliedRangeFacet:d})]})}function _t({facet:e,query:n,onAddFacet:t,onRemoveFacet:a,isFacetApplied:o}){const[l,s]=h.useState(!1),c=n.booleanQuery?.filter(u=>u.key===e.name).map(u=>u.value)||[],d=c.length===0,y=e.constraints.map(u=>u.value),p=Array.from(new Set([...c,...y])).filter(u=>z(e.name,u)),A=l?p:p.slice(0,se),f=(u,S)=>{S?t(e.name,u):a(e.name,u)},N=u=>{u&&c.forEach(S=>a(e.name,S))};return r.jsxs(g,{sx:{display:"flex",flexDirection:"column"},children:[r.jsx(k,{sx:{mb:"8px"},control:r.jsx(ne,{checked:d,onChange:u=>N(u.target.checked),size:"small"}),label:r.jsx(F,{variant:"smallText1",sx:{lineHeight:"20px"},children:gt(e.name)})}),r.jsx(g,{sx:{display:"flex",flexDirection:"column",...l&&{maxHeight:"280px",overflowY:"auto"}},children:A.map(u=>{const S=o(e.name,u);return r.jsx(k,{sx:{mb:"8px"},control:r.jsx(ne,{checked:S,onChange:j=>f(u,j.target.checked),size:"small"}),label:ue(e.name)?r.jsx(le,{userId:u}):r.jsx(F,{variant:"smallText1",sx:{lineHeight:"20px"},children:e.name==="node_type"&&ie(u)||u})},u)})}),p.length>se&&!l&&r.jsxs(v,{onClick:()=>s(!0),variant:"text",size:"small",sx:{alignSelf:"flex-start"},children:["Show all ",p.length]})]})}function St({facet:e,onSetRangeFacet:n,onRemoveRangeFacet:t,getAppliedRangeFacet:a}){const o=a(e.name),l=o?.min?pe(o.min):"ANY_TIME",s=c=>{if(!w.find(p=>p.id===c)?.range){t(e.name);return}const y={PAST_HOUR:"hour",PAST_DAY:"day",PAST_WEEK:"week",PAST_MONTH:"month",PAST_YEAR:"year"},x=String($().subtract(1,y[c]).unix());n(e.name,x)};return r.jsx(Le,{name:`range-facet-${e.name}`,value:l,onChange:c=>s(c.target.value),children:w.map(c=>r.jsx(k,{value:c.id,control:r.jsx(Ue,{size:"small"}),label:c.label,sx:{mb:.5}},c.label))})}function L({query:e,onRemoveFacet:n,onRemoveRangeFacet:t}){const a=e.booleanQuery||[],o=e.rangeQuery||[];return a.length>0||o.length>0?r.jsxs(g,{sx:{display:"flex",flexWrap:"wrap",gap:1,alignItems:"center"},children:[a.map((s,c)=>z(s.key,s.value)?r.jsx(ae,{className:C.chipStyles,deleteIcon:r.jsx(re,{className:C.closeIcon}),onDelete:()=>n(s.key,s.value),label:ue(s.key)?r.jsx(g,{sx:{"& .MuiTypography-root":{color:"var(--synapse-white)"}},children:r.jsx(le,{userId:s.value})}):r.jsx(F,{variant:"smallText1",children:s.key==="node_type"&&ie(s.value)||s.value})},`${s.key}-${s.value}-${c}`):null),o.map((s,c)=>{const d=ft(s.min),y=$(parseInt(s.min)*1e3).format("MMMM D, YYYY");return r.jsx(Ce,{title:`Since ${y}`,arrow:!0,children:r.jsx(ae,{className:C.chipStyles,label:`${d}`,deleteIcon:r.jsx(re,{className:C.closeIcon}),onDelete:()=>t(s.key)})},`${s.key}-${s.min}-${c}`)})]}):null}try{B.displayName="SearchFacetPanel",B.__docgenInfo={description:"Main facet panel component that displays all available facets",displayName:"SearchFacetPanel",props:{query:{defaultValue:null,description:"",name:"query",required:!0,type:{name:"SearchQuery"}},setQuery:{defaultValue:null,description:"",name:"setQuery",required:!0,type:{name:"(newQuery: SearchQuery) => void"}},facets:{defaultValue:null,description:"",name:"facets",required:!0,type:{name:"Facet[]"}},onAddFacet:{defaultValue:null,description:"",name:"onAddFacet",required:!0,type:{name:"(facetName: string, facetValue: string) => void"}},onRemoveFacet:{defaultValue:null,description:"",name:"onRemoveFacet",required:!0,type:{name:"(facetName: string, facetValue: string) => void"}},onSetRangeFacet:{defaultValue:null,description:"",name:"onSetRangeFacet",required:!0,type:{name:"(facetName: string, minValue: string) => void"}},onRemoveRangeFacet:{defaultValue:null,description:"",name:"onRemoveRangeFacet",required:!0,type:{name:"(facetName: string) => void"}},isFacetApplied:{defaultValue:null,description:"",name:"isFacetApplied",required:!0,type:{name:"(facetName: string, facetValue: string) => boolean"}},isRangeFacetApplied:{defaultValue:null,description:"",name:"isRangeFacetApplied",required:!0,type:{name:"(facetName: string) => boolean"}},getAppliedRangeFacet:{defaultValue:null,description:"",name:"getAppliedRangeFacet",required:!0,type:{name:"(facetName: string) => { min: string; }"}}}}}catch{}try{L.displayName="AppliedFacetsChips",L.__docgenInfo={description:"Component that displays applied facets as chips with delete icons",displayName:"AppliedFacetsChips",props:{query:{defaultValue:null,description:"",name:"query",required:!0,type:{name:"SearchQuery"}},onRemoveFacet:{defaultValue:null,description:"",name:"onRemoveFacet",required:!0,type:{name:"(facetName: string, facetValue: string) => void"}},onRemoveRangeFacet:{defaultValue:null,description:"",name:"onRemoveRangeFacet",required:!0,type:{name:"(facetName: string) => void"}}}}}catch{}function bt(e,n,t){const a=e.booleanQuery||[];return a.some(l=>l.key===n&&l.value===t)?e:{...R,...e,booleanQuery:[...a,{key:n,value:t,not:!1}],start:0}}function Rt(e,n,t){const a=e.booleanQuery||[];return{...R,...e,booleanQuery:a.filter(o=>!(o.key===n&&o.value===t)),start:0}}function Ft(e,n,t){const o=(e.rangeQuery||[]).filter(s=>s.key!==n),l=String(Math.floor(Date.now()/1e3));return{...R,...e,rangeQuery:[...o,{key:n,min:t,max:l}],start:0}}function At(e,n){const t=e.rangeQuery||[];return{...R,...e,rangeQuery:t.filter(a=>a.key!==n),start:0}}function jt(e,n,t){return(e.booleanQuery||[]).some(o=>o.key===n&&o.value===t)}function Tt(e,n){return(e.rangeQuery||[]).some(a=>a.key===n)}function Ct(e,n){return(e.rangeQuery||[]).find(a=>a.key===n)}function U(e){const{query:t,setQuery:a}=e,[o,l]=h.useState(!1);Ie({title:`Search: ${t?.queryTerm?.join(" ")}`});const[s,c]=h.useState(t?.queryTerm?.join(" ")||"");h.useEffect(()=>{c(t?.queryTerm?.join(" ")||"")},[t]);const{data:d,isLoading:y,error:x,fetchNextPage:p,hasNextPage:A,isFetchingNextPage:f}=Be(t?{...R,...t,size:50,returnFields:["path"]}:{queryTerm:[],size:50,returnFields:["path"]},{enabled:!!t?.queryTerm?.[0]}),N=i=>{c(i.target.value)},u=()=>{if(a){const i={...R,...t,queryTerm:s?s.split(" ").map(m=>m.trim()).filter(Boolean):[],start:0};a(i)}},{data:S}=$e({searchTerm:t?.queryTerm},{enabled:!!t?.queryTerm?.[0]}),j=h.useMemo(()=>{const i=S?.suggestions,m=t?.queryTerm||[];if(!i)return null;const _=new Map;let T=!1;for(const I of i){const Z=I.key,Y=Array.from(I.values??[]).reduce((M,E)=>E.score===void 0||E.score<.75?M:!M||E.score>M.score?E:M,null);Y?.term&&Y.term!==Z&&(_.set(Z,Y.term),T=!0)}return T?m.map(I=>_.get(I)||I).join(" "):null},[S,t?.queryTerm]),me=h.useMemo(()=>{if(!d?.pages||d.pages.length===0)return[];const i=new Set,m=d.pages[0];if(m?.hits){for(const T of m.hits)if(T.id&&i.add(T.id),T.path?.path)for(const V of T.path.path.slice(1))V.id&&i.add(V.id)}return Array.from(i)},[d]),ge=()=>{if(a&&j){const i={...R,...t,queryTerm:j.split(" ").map(m=>m.trim()).filter(Boolean),start:0};a(i)}},W=d?.pages?.[0]?.hits?.length===0,ye=Me.test(t?.queryTerm?.[0]||""),G=d?.pages?.[0]?.facets||[],he=h.useCallback((i,m)=>{a&&t&&a(bt(t,i,m))},[t,a]),K=h.useCallback((i,m)=>{a&&t&&a(Rt(t,i,m))},[t,a]),fe=h.useCallback((i,m)=>{a&&t&&a(Ft(t,i,m))},[t,a]),X=h.useCallback(i=>{a&&t&&a(At(t,i))},[t,a]),xe=h.useCallback((i,m)=>t?jt(t,i,m):!1,[t]),_e=h.useCallback(i=>t?Tt(t,i):!1,[t]),Se=h.useCallback(i=>t?Ct(t,i):void 0,[t]),J=(t?.booleanQuery?.filter(i=>z(i.key,i.value)).length||0)+(t?.rangeQuery?.length||0);return r.jsxs(g,{sx:{display:"flex",flexDirection:"column",width:"100%",p:"30px",gap:"20px"},children:[r.jsxs(g,{sx:{display:"flex",flexDirection:"column",height:"auto",gap:"16px"},children:[r.jsxs(g,{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:"16px",width:"100%"},children:[r.jsx(Ee,{placeholder:"Search…",sx:{flex:1},value:s,onChange:N,onKeyDown:i=>{i.key==="Enter"&&u()},slotProps:{input:{sx:{borderRadius:"96px",boxShadow:"0px 1px 4px var(--synapse-gray-500)",backgroundColor:"var(--synapse-white)"},startAdornment:r.jsx(Oe,{position:"start",children:r.jsx(te,{sx:{color:"secondary.600"}})})}}}),r.jsx(v,{variant:"outlined",startIcon:r.jsx(ze,{}),onClick:()=>l(!o),"aria-expanded":o,"aria-controls":"filter-search-results-panel",sx:{py:"10px",px:"20px",height:"100%",borderRadius:0,width:"fit-content",color:i=>i.palette.primary.dark},children:r.jsxs(F,{sx:{fontWeight:700,lineHeight:"16px",display:"flex",gap:"8px"},children:[r.jsx("span",{id:"filter-results-button-label",children:"Filter Search Results"}),J>0&&r.jsx(He,{badgeContent:J,color:"primary",sx:{"& .MuiBadge-badge":{position:"static",transform:"none",height:"18px",minWidth:"18px"}}})]})})]}),r.jsx(g,{children:!y&&G.length>0&&r.jsx(Qe,{in:o,id:"filter-search-results-panel","aria-labelledby":"filter-results-button-label",children:r.jsx(g,{sx:{border:"1px solid",borderColor:"var(--synapse-gray-100)",backgroundColor:"var(--synapse-white)",padding:"25px",boxShadow:"0 4px 16px 0 rgba(0, 0, 0, 0.04)"},children:t&&a&&r.jsx(B,{query:t,setQuery:a,facets:G,onAddFacet:he,onRemoveFacet:K,onSetRangeFacet:fe,onRemoveRangeFacet:X,isFacetApplied:xe,isRangeFacetApplied:_e,getAppliedRangeFacet:Se})})})})]}),r.jsxs(r.Fragment,{children:[W&&r.jsxs("div",{className:b.didYouMeanCurrentlyShowing,children:[" ","No results found for ",r.jsx("b",{children:t?.queryTerm?.join(" ")}),"."]}),d&&!ye&&j&&!W&&r.jsxs("div",{className:b.didYouMeanContainer,children:[r.jsxs("div",{className:b.didYouMeanCurrentlyShowing,children:["Currently showing results for ",r.jsx("b",{children:t?.queryTerm?.join(" ")}),"."]}),r.jsxs("div",{className:b.didYouMeanSuggestion,children:[r.jsx(te,{sx:{color:"grey.600"},className:b.searchIcon}),r.jsxs(F,{variant:"body1",className:b.didYouMeanText,children:["Search for ",r.jsx("b",{className:b.suggestionText,children:j})," ","instead?"]}),r.jsx(ve,{className:b.didYouMeanArrowContainer,onClick:ge,"aria-label":`Search for ${j} instead`,sx:{borderColor:"primary.main",svg:{color:"primary.main"}},children:r.jsx(we,{})})]})]}),r.jsxs(g,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"20px"},children:[y&&r.jsx("div",{children:"Loading data..."}),x&&r.jsxs("div",{children:["Error: ",x.message]}),r.jsx(D,{entityIds:me}),t&&r.jsx(g,{sx:{alignSelf:"flex-start"},children:r.jsx(L,{query:t,onRemoveFacet:K,onRemoveRangeFacet:X})}),d&&d.pages&&d.pages.map((i,m)=>i.hits.map(_=>r.jsx(De,{entityId:_.id,name:_.name,entityType:_.node_type,modifiedOn:_.modified_on},_.id+"-"+m))),A&&r.jsx(v,{onClick:()=>{p()},loading:f,variant:"contained",sx:{mt:2},children:f?"Loading more...":"Load More"})]})]})]})}try{U.displayName="SynapseSearchPageResults",U.__docgenInfo={description:"",displayName:"SynapseSearchPageResults",props:{query:{defaultValue:null,description:"",name:"query",required:!1,type:{name:"SearchQuery"}},setQuery:{defaultValue:null,description:"",name:"setQuery",required:!1,type:{name:"(newQuery: SearchQuery) => void"}}}}}catch{}function O(e){const{children:n,routerBaseName:t="/SearchV2:default",useMemoryRouter:a=!1}=e,o=h.useMemo(()=>[{path:"/",element:r.jsx(r.Fragment,{children:n})}],[n,a]),l=h.useMemo(()=>a?Pe(o,{basename:t}):Ve(o,{basename:t}),[a,o,t]);return a?r.jsx(Ye,{router:l}):r.jsx(qe,{router:l})}try{O.displayName="SynapseSearchPageRouter",O.__docgenInfo={description:"",displayName:"SynapseSearchPageRouter",props:{routerBaseName:{defaultValue:null,description:"",name:"routerBaseName",required:!1,type:{name:"string"}},useMemoryRouter:{defaultValue:null,description:"",name:"useMemoryRouter",required:!1,type:{name:"boolean"}}}}}catch{}function Nt(){const[e,n]=ke(),t=e.get(q)||"";let a={};try{a=t?JSON.parse(t):{}}catch(s){console.error("Error parsing search query from URL:",s)}const o={...R,...a},l=s=>{n(c=>(s&&s.queryTerm&&s.queryTerm.length>0?c.set(q,JSON.stringify(s)):c.delete(q),c))};return r.jsx(U,{query:o,setQuery:l})}function H(e){return r.jsx(O,{...e,children:r.jsx(Nt,{})})}try{H.displayName="SynapseSearchPage",H.__docgenInfo={description:"",displayName:"SynapseSearchPage",props:{routerBaseName:{defaultValue:null,description:"",name:"routerBaseName",required:!1,type:{name:"string"}},useMemoryRouter:{defaultValue:null,description:"",name:"useMemoryRouter",required:!1,type:{name:"boolean"}}}}}catch{}const Ia={title:"Components/SynapseSearch/SynapseSearchPage",component:H,parameters:{stack:"production",requireLogin:!1},args:{useMemoryRouter:!0,routerBaseName:"/"}},Q={};Q.parameters={...Q.parameters,docs:{...Q.parameters?.docs,source:{originalSource:"{} satisfies Story",...Q.parameters?.docs?.source}}};const Ma=["Page"];export{Q as Page,Ma as __namedExportsOrder,Ia as default};
