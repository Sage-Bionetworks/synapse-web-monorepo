import{j as o}from"./jsx-runtime-D_zvdyIk.js";import{F as K,s as J}from"./SynapseConstants-BKOIVSJ4.js";import{d as T}from"./dayjs.min-Dy65Hx2l.js";import{r as f}from"./index-CzvTTXra.js";import{B as v}from"./Box-ti_b82sh.js";import{u as $,a as Z,b as S,c as ee,P as ae,C as oe,d as k,e as te,f as le,g as ne,r as M,h as re,i as se,j as ie,k as h,l as L,m as ue,v as w,s as U,n as Y,o as ce,D as de,L as _,A}from"./useMobilePicker-CIbwt21e.js";import{a as pe,g as me,_ as c,c as fe}from"./createTheme-BBcmnOvd.js";import{b as j}from"./useTimeout-D5G-CtgI.js";import{u as be}from"./index-BnwkCxrb.js";import{P as e}from"./index-BM1xPtnE.js";import{s as B,c as ye}from"./DefaultPropsProvider-MsJBWg3I.js";import{T as Te}from"./Typography-OgSpv5jV.js";import{r as G}from"./useSlot-BCyVFvGq.js";import{T as O}from"./TextField-DD8LXcfR.js";import{B as De}from"./Button-DHUU4YS0.js";import{R as he}from"./RangeSlider-oAOsHVRX.js";import{F as xe}from"./FacetFilterHeader-CgwnzQTR.js";import{C as ge}from"./Collapse-DWeFT-od.js";import{R as ve}from"./RadioGroup-Cbj8mflw.js";import{F as Pe}from"./FormControlLabel-DA_vUiLD.js";import{R as Re}from"./Radio-PQjKFGz9.js";const Oe=t=>{const i=$(t);return Z({manager:i,props:t})},Ie=["slots","slotProps"],q=f.forwardRef(function(i,n){const s=S({props:i,name:"MuiDateField"}),{slots:a,slotProps:r}=s,m=j(s,Ie),p=ee({slotProps:r,ref:n,externalForwardedProps:m}),l=Oe(p);return o.jsx(ae,{slots:a,slotProps:r,fieldResponse:l,defaultOpenPickerIcon:oe})});function Se(t){return pe("MuiDatePickerToolbar",t)}me("MuiDatePickerToolbar",["root","title"]);const Ee=["toolbarFormat","toolbarPlaceholder","className","classes"],Ne=t=>ye({root:["root"],title:["title"]},Se,t),ke=B(re,{name:"MuiDatePickerToolbar",slot:"Root"})({}),Me=B(Te,{name:"MuiDatePickerToolbar",slot:"Title"})({variants:[{props:{pickerOrientation:"landscape"},style:{margin:"auto 16px auto auto"}}]}),je=f.forwardRef(function(i,n){const s=S({props:i,name:"MuiDatePickerToolbar"}),{toolbarFormat:a,toolbarPlaceholder:r="––",className:m,classes:p}=s,l=j(s,Ee),d=k(),{value:u,views:b,orientation:x}=te(),g=le(),E=ne(),D=Ne(p),P=f.useMemo(()=>{if(!d.isValid(u))return r;const R=M(d,{format:a,views:b},!0);return d.formatByString(u,R)},[u,a,r,d,b]);return o.jsx(ke,c({ref:n,toolbarTitle:g.datePickerToolbarTitle,className:fe(D.root,m)},l,{children:o.jsx(Me,{variant:"h4",align:x==="landscape"?"left":"center",ownerState:E,className:D.title,children:P})}))});function W(t,i){const n=S({props:t,name:i}),s=se(n),a=f.useMemo(()=>{var r;return((r=n.localeText)==null?void 0:r.toolbarTitle)==null?n.localeText:c({},n.localeText,{datePickerToolbarTitle:n.localeText.toolbarTitle})},[n.localeText]);return c({},n,s,{localeText:a},ie({views:n.views,openTo:n.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{slots:c({toolbar:je},n.slots)})}const z=f.forwardRef(function(i,n){var l;const s=k(),a=W(i,"MuiDesktopDatePicker"),r=c({day:h,month:h,year:h},a.viewRenderers),m=c({},a,{closeOnSelect:a.closeOnSelect??!0,viewRenderers:r,format:M(s,a,!1),yearsPerRow:a.yearsPerRow??4,slots:c({field:q},a.slots),slotProps:c({},a.slotProps,{field:d=>{var u;return c({},G((u=a.slotProps)==null?void 0:u.field,d),L(a))},toolbar:c({hidden:!0},(l=a.slotProps)==null?void 0:l.toolbar)})}),{renderPicker:p}=ue({ref:n,props:m,valueManager:U,valueType:"date",validator:w,steps:null});return p()});z.propTypes={autoFocus:e.bool,className:e.string,closeOnSelect:e.bool,dayOfWeekFormatter:e.func,defaultValue:e.object,disabled:e.bool,disableFuture:e.bool,disableHighlightToday:e.bool,disableOpenPicker:e.bool,disablePast:e.bool,displayWeekNumber:e.bool,enableAccessibleFieldDOMStructure:e.any,fixedWeekNumber:e.number,format:e.string,formatDensity:e.oneOf(["dense","spacious"]),inputRef:Y,label:e.node,loading:e.bool,localeText:e.object,maxDate:e.object,minDate:e.object,monthsPerRow:e.oneOf([3,4]),name:e.string,onAccept:e.func,onChange:e.func,onClose:e.func,onError:e.func,onMonthChange:e.func,onOpen:e.func,onSelectedSectionsChange:e.func,onViewChange:e.func,onYearChange:e.func,open:e.bool,openTo:e.oneOf(["day","month","year"]),orientation:e.oneOf(["landscape","portrait"]),readOnly:e.bool,reduceAnimations:e.bool,referenceDate:e.object,renderLoading:e.func,selectedSections:e.oneOfType([e.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),e.number]),shouldDisableDate:e.func,shouldDisableMonth:e.func,shouldDisableYear:e.func,showDaysOutsideCurrentMonth:e.bool,slotProps:e.object,slots:e.object,sx:e.oneOfType([e.arrayOf(e.oneOfType([e.func,e.object,e.bool])),e.func,e.object]),timezone:e.string,value:e.object,view:e.oneOf(["day","month","year"]),viewRenderers:e.shape({day:e.func,month:e.func,year:e.func}),views:e.arrayOf(e.oneOf(["day","month","year"]).isRequired),yearsOrder:e.oneOf(["asc","desc"]),yearsPerRow:e.oneOf([3,4])};const H=f.forwardRef(function(i,n){var l;const s=k(),a=W(i,"MuiMobileDatePicker"),r=c({day:h,month:h,year:h},a.viewRenderers),m=c({},a,{viewRenderers:r,format:M(s,a,!1),slots:c({field:q},a.slots),slotProps:c({},a.slotProps,{field:d=>{var u;return c({},G((u=a.slotProps)==null?void 0:u.field,d),L(a))},toolbar:c({hidden:!1},(l=a.slotProps)==null?void 0:l.toolbar)})}),{renderPicker:p}=ce({ref:n,props:m,valueManager:U,valueType:"date",validator:w,steps:null});return p()});H.propTypes={autoFocus:e.bool,className:e.string,closeOnSelect:e.bool,dayOfWeekFormatter:e.func,defaultValue:e.object,disabled:e.bool,disableFuture:e.bool,disableHighlightToday:e.bool,disableOpenPicker:e.bool,disablePast:e.bool,displayWeekNumber:e.bool,enableAccessibleFieldDOMStructure:e.any,fixedWeekNumber:e.number,format:e.string,formatDensity:e.oneOf(["dense","spacious"]),inputRef:Y,label:e.node,loading:e.bool,localeText:e.object,maxDate:e.object,minDate:e.object,monthsPerRow:e.oneOf([3,4]),name:e.string,onAccept:e.func,onChange:e.func,onClose:e.func,onError:e.func,onMonthChange:e.func,onOpen:e.func,onSelectedSectionsChange:e.func,onViewChange:e.func,onYearChange:e.func,open:e.bool,openTo:e.oneOf(["day","month","year"]),orientation:e.oneOf(["landscape","portrait"]),readOnly:e.bool,reduceAnimations:e.bool,referenceDate:e.object,renderLoading:e.func,selectedSections:e.oneOfType([e.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),e.number]),shouldDisableDate:e.func,shouldDisableMonth:e.func,shouldDisableYear:e.func,showDaysOutsideCurrentMonth:e.bool,slotProps:e.object,slots:e.object,sx:e.oneOfType([e.arrayOf(e.oneOfType([e.func,e.object,e.bool])),e.func,e.object]),timezone:e.string,value:e.object,view:e.oneOf(["day","month","year"]),viewRenderers:e.shape({day:e.func,month:e.func,year:e.func}),views:e.arrayOf(e.oneOf(["day","month","year"]).isRequired),yearsOrder:e.oneOf(["asc","desc"]),yearsPerRow:e.oneOf([3,4])};const Fe=["desktopModeMediaQuery"],V=f.forwardRef(function(i,n){const s=S({props:i,name:"MuiDatePicker"}),{desktopModeMediaQuery:a=de}=s,r=j(s,Fe);return be(a,{defaultMatches:!0})?o.jsx(z,c({ref:n},r)):o.jsx(H,c({ref:n},r))});function I(t){const i="Min value should be less than max value",[n,s]=f.useState(!1),[a,r]=f.useState(()=>t.type==="number"&&t.initialValues?t.initialValues:t.initialValues&&{min:T(t.initialValues.min).format("YYYY-MM-DD"),max:T(t.initialValues.max).format("YYYY-MM-DD")}||{min:void 0,max:void 0}),m=({min:l,max:d},u="number")=>{if(l==null||d===null||d===void 0)return s(!1),!0;if(u==="number"){if(Number(l)>Number(d))return s(!0),!1}else if(Date.parse(l)>Date.parse(d))return s(!0),!1;return s(!1),!0},p=(l,d,u="number")=>{m(l,u)&&d(l)};return o.jsxs(v,{sx:{display:"flex",flexWrap:"wrap",flex:"1 0",marginRight:"10px",gap:"10px","& .MuiInputBase-root":{minWidth:"150px"},"& .MuiInputBase-root,.MuiButton-root":{height:"38px"},"& .MuiInputLabel-root":{color:"grey.700",fontWeight:400}},children:[t.type==="date"?o.jsxs(o.Fragment,{children:[o.jsx(v,{children:o.jsx(_,{dateAdapter:A,children:o.jsx(V,{enableAccessibleFieldDOMStructure:!1,label:"From",slots:{textField:O},slotProps:{textField:{inputProps:{"aria-label":"min"}}},value:a.min?T(a.min):null,onChange:l=>r({min:l?T(l).format("YYYY-MM-DD"):void 0,max:a.max})})})},"range_min"),o.jsx(v,{children:o.jsx(_,{dateAdapter:A,children:o.jsx(V,{enableAccessibleFieldDOMStructure:!1,label:"To",slots:{textField:O},slotProps:{textField:{inputProps:{"aria-label":"max"}}},value:a.max?T(a.max):null,onChange:l=>r({max:l?T(l).format("YYYY-MM-DD"):void 0,min:a.min})})})},"range_max")]}):o.jsxs(o.Fragment,{children:[o.jsx(v,{children:o.jsx(O,{label:"From",type:"number",value:a.min??"",onChange:l=>r({min:l.target.value,max:a.max}),slotProps:{htmlInput:{"aria-label":"min"}}})},"range_min"),o.jsx(v,{children:o.jsx(O,{label:"To",type:"number",value:a.max??"",onChange:l=>r({max:l.target.value,min:a.min}),slotProps:{htmlInput:{"aria-label":"max"}}})},"range_max")]}),o.jsx(De,{size:"small",variant:"outlined",onClick:()=>p(a,t.onApplyClicked,t.type),sx:{alignSelf:"flex-end",fontSize:16},children:"Apply"}),n&&o.jsx("div",{className:"SRC-danger-color",children:t.errorText||i})]})}try{I.displayName="Range",I.__docgenInfo={description:"",displayName:"Range",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"number"'},{value:'"date"'}]}},initialValues:{defaultValue:null,description:"",name:"initialValues",required:!1,type:{name:"RangeValues<string | number>"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},errorText:{defaultValue:null,description:"",name:"errorText",required:!1,type:{name:"string"}},onApplyClicked:{defaultValue:null,description:"",name:"onApplyClicked",required:!0,type:{name:"(newValues: RangeValues<string | number>) => void"}}}}}catch{}const _e=[{label:K,value:"org.sagebionetworks.UNDEFINED_NULL_NOTSET"},{label:"Any",value:""},{label:"Range",value:"RANGE"}],Ae=(t,i)=>i?"":t===J?"org.sagebionetworks.UNDEFINED_NULL_NOTSET":"RANGE";function C(t){const{label:i,facetResult:n,hideCollapsible:s=!1,columnType:a,onAnySelected:r,onNotSetSelected:m,onRangeValueSelected:p}=t,[l,d]=f.useState(!1),{columnMin:u,columnMax:b,selectedMin:x,selectedMax:g}=n,E=!x&&!g,D=x||u,P=g||b,R=a==="DOUBLE"?"number":"date",Q=y=>{switch(X(y),y){case"RANGE":break;case"org.sagebionetworks.UNDEFINED_NULL_NOTSET":m();break;case"":{r();break}}},[F,X]=f.useState(Ae(D,E));return o.jsxs("div",{children:[o.jsx(xe,{isCollapsed:l,label:i,onClick:y=>d(y),hideCollapsible:s}),o.jsxs(ge,{in:!l,children:[o.jsx(ve,{value:F,onChange:(y,N)=>Q(N),children:_e.map(({value:y,label:N})=>o.jsx(Pe,{control:o.jsx(Re,{}),label:N,value:y},y))}),F==="RANGE"&&(u===b?o.jsx("label",{children:b}):o.jsxs(o.Fragment,{children:[a==="INTEGER"&&o.jsx(he,{domain:[u,b],initialValues:{min:parseInt(D),max:parseInt(P)},step:1,onApplyClicked:p,children:">"},"RangeSlider"),a==="DATE"&&o.jsx(I,{initialValues:{min:x??T(parseInt(u)).toString(),max:g??T(parseInt(b)).toString()},type:R,onApplyClicked:p},"Range"),a==="DOUBLE"&&o.jsx(I,{initialValues:{min:parseFloat(D),max:parseFloat(P)},type:R,onApplyClicked:p},"Range")]}))]})]})}try{C.displayName="RangeFacetFilterUI",C.__docgenInfo={description:"",displayName:"RangeFacetFilterUI",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},facetResult:{defaultValue:null,description:"",name:"facetResult",required:!0,type:{name:'Pick<FacetColumnResultRange, "columnMin" | "columnMax" | "selectedMin" | "selectedMax">'}},columnType:{defaultValue:null,description:"",name:"columnType",required:!0,type:{name:"enum",value:[{value:'"STRING"'},{value:'"DOUBLE"'},{value:'"BOOLEAN"'},{value:'"INTEGER"'},{value:'"DATE"'},{value:'"FILEHANDLEID"'},{value:'"ENTITYID"'},{value:'"LINK"'},{value:'"MEDIUMTEXT"'},{value:'"LARGETEXT"'},{value:'"USERID"'},{value:'"STRING_LIST"'},{value:'"INTEGER_LIST"'},{value:'"BOOLEAN_LIST"'},{value:'"DATE_LIST"'},{value:'"USERID_LIST"'},{value:'"ENTITYID_LIST"'},{value:'"EVALUATIONID"'},{value:'"SUBMISSIONID"'},{value:'"JSON"'},{value:'"STRING"'},{value:'"DOUBLE"'},{value:'"BOOLEAN"'},{value:'"INTEGER"'},{value:'"DATE"'},{value:'"FILEHANDLEID"'},{value:'"ENTITYID"'},{value:'"LINK"'},{value:'"MEDIUMTEXT"'},{value:'"LARGETEXT"'},{value:'"USERID"'},{value:'"STRING_LIST"'},{value:'"INTEGER_LIST"'},{value:'"BOOLEAN_LIST"'},{value:'"DATE_LIST"'},{value:'"USERID_LIST"'},{value:'"ENTITYID_LIST"'},{value:'"EVALUATIONID"'},{value:'"SUBMISSIONID"'},{value:'"JSON"'}]}},hideCollapsible:{defaultValue:null,description:"",name:"hideCollapsible",required:!1,type:{name:"boolean"}},onRangeValueSelected:{defaultValue:null,description:"",name:"onRangeValueSelected",required:!0,type:{name:"(values: RangeValues) => void"}},onNotSetSelected:{defaultValue:null,description:"",name:"onNotSetSelected",required:!0,type:{name:"() => void"}},onAnySelected:{defaultValue:null,description:"",name:"onAnySelected",required:!0,type:{name:"() => void"}}}}}catch{}export{C as R};
