import{r as p}from"./index-DEXVlyEC.js";import{a as _,g as H,c as V}from"./createTheme-DSMh9aMK.js";import{u as W}from"./index-C1fK7QTW.js";import{u as q,s as S,c as B,b as J}from"./DefaultPropsProvider-tscWNgRV.js";import{u as I}from"./useSlot-5fSGsjd4.js";import{j as D}from"./jsx-runtime-D_zvdyIk.js";import{u as Q}from"./Grow-Dvv4NuhG.js";import{a as X,P as Y}from"./Popover-vpCd5l2Q.js";import{M as Z}from"./MenuList-Du0v3XBR.js";function $(s){return _("MuiMenu",s)}H("MuiMenu",["root","paper","list"]);const oo={vertical:"top",horizontal:"right"},to={vertical:"top",horizontal:"left"},so=s=>{const{classes:c}=s;return B({root:["root"],paper:["paper"],list:["list"]},$,c)},ro=S(Y,{shouldForwardProp:s=>J(s)||s==="classes",name:"MuiMenu",slot:"Root"})({}),eo=S(X,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),no=S(Z,{name:"MuiMenu",slot:"List"})({outline:0}),Mo=p.forwardRef(function(c,w){const R=q({props:c,name:"MuiMenu"}),{autoFocus:u=!0,children:h,className:E,disableAutoFocusItem:m=!1,MenuListProps:f={},onClose:P,open:x,PaperProps:C={},PopoverClasses:N,transitionDuration:F="auto",TransitionProps:{onEntering:M,...L}={},variant:d="selectedMenu",slots:e={},slotProps:a={},...j}=R,y=W(),r={...R,autoFocus:u,disableAutoFocusItem:m,MenuListProps:f,onEntering:M,PaperProps:C,transitionDuration:F,TransitionProps:L,variant:d},b=so(r),O=u&&!m&&x,g=p.useRef(null),T=(o,t)=>{g.current&&g.current.adjustStyleForScrollbar(o,{direction:y?"rtl":"ltr"}),M&&M(o,t)},v=o=>{o.key==="Tab"&&(o.preventDefault(),P&&P(o,"tabKeyDown"))};let l=-1;p.Children.map(h,(o,t)=>{p.isValidElement(o)&&(o.props.disabled||(d==="selectedMenu"&&o.props.selected||l===-1)&&(l=t))});const i={slots:e,slotProps:{list:f,transition:L,paper:C,...a}},K=Q({elementType:e.root,externalSlotProps:a.root,ownerState:r,className:[b.root,E]}),[U,z]=I("paper",{className:b.paper,elementType:eo,externalForwardedProps:i,shouldForwardComponentProp:!0,ownerState:r}),[A,G]=I("list",{className:V(b.list,f.className),elementType:no,shouldForwardComponentProp:!0,externalForwardedProps:i,getSlotProps:o=>({...o,onKeyDown:t=>{var k;v(t),(k=o.onKeyDown)==null||k.call(o,t)}}),ownerState:r}),n=typeof i.slotProps.transition=="function"?i.slotProps.transition(r):i.slotProps.transition;return D.jsx(ro,{onClose:P,anchorOrigin:{vertical:"bottom",horizontal:y?"right":"left"},transformOrigin:y?oo:to,slots:{root:e.root,paper:U,backdrop:e.backdrop,...e.transition&&{transition:e.transition}},slotProps:{root:K,paper:z,backdrop:typeof a.backdrop=="function"?a.backdrop(r):a.backdrop,transition:{...n,onEntering:(...o)=>{var t;T(...o),(t=n==null?void 0:n.onEntering)==null||t.call(n,...o)}}},open:x,ref:w,transitionDuration:F,ownerState:r,...j,classes:N,children:D.jsx(A,{actions:g,autoFocus:u&&(l===-1||m),autoFocusItem:O,variant:d,...G,children:h})})});export{Mo as M};
