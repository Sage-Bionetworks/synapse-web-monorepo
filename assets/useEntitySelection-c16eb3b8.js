import{r as z,R as I}from"./index-8db94870.js";import{M as Wr}from"./immutable.es-400ccb6d.js";import{j as g,a as W,F as U}from"./jsx-runtime-095bf462.js";import{p as jr}from"./ObservationCard-b3482054.js";import{r as $n,i as Gn,a as Qn}from"./jsx-runtime_commonjs-proxy-8160d2ba.js";import{d as sn}from"./Search-315e51bd.js";import{u as Oe,t as st,a3 as Te,b3 as Br,o as me,aq as Yn,cu as Xn,Q as Ur,H as ne,b6 as ln,bp as Jn,a0 as bt,bq as $e,br as Kr,cl as $r,ak as Zn,G as Gr,s as Qr,a1 as Yr}from"./SynapseClient-4e381e42.js";import{_ as ue}from"./emotion-use-insertion-effect-with-fallbacks.browser.esm-4abd396b.js";import{c as $,m as we}from"./Select-ce3716e1.esm-f23cf9f6.js";import{P as d}from"./index-58d3fd43.js";import{c as Be,g as Xr}from"./_commonjsHelpers-042e6b4d.js";import{c as er,_ as ie,b as J}from"./styled-708eb06f.js";import{_ as Fe}from"./inheritsLoose-c82a83d4.js";import{r as Jr}from"./react-sizeme-5bfc490a.js";import"./getEndpoint-ac94413e.js";import"./OrientationBanner-53051860.js";import{S as Zr,p as ei}from"./RegularExpressions-bc0adf55.js";import{a as ti}from"./use-deep-compare-effect.esm-7a830988.js";import{u as Se,H as ni,N as ri}from"./SynapseTableCell-0e8c65b9.js";import{c as ce}from"./ThemeProvider-c7f6a893.js";import{_ as pe}from"./assertThisInitialized-081f9914.js";import{S as Bt,B as ii}from"./LoadingScreen-7b803862.js";import{C as Ut}from"./EnumFacetFilterUI-41b79738.js";import{d as tr}from"./dayjs.min-59ef0ea6.js";import{S as ai}from"./Sort-827961a7.js";import{f as nr}from"./DateFormatter-0969a58c.js";import{m as oi,u as rr,n as ir,b as si}from"./useEntity-12d2ec8b.js";import{u as ar}from"./index-95cfb7c2.js";import{u as li,a as di}from"./SchemaDrivenAnnotationEditor-1d09c8a5.js";import{a as ui,P as ci,f as hi}from"./SynapseConstants-4f7926d8.js";import{E as pi}from"./EntityModal-2bef3cdc.js";import{W as fi}from"./WarningDialog-f058e019.js";import{T as de}from"./Tooltip-b7fc1fa3.js";import{P as mi,I as or,c as gi}from"./IconSvg-0823475b.js";import{L as vi}from"./RequirementItem-792514e9.js";import{C as yi}from"./CheckTwoTone-1f037d45.js";import{c as lt}from"./createSvgIcon-ad67928b.js";import{E as Kt}from"./EntityIcon-275ae5a1.js";import{E as sr}from"./EntityLink-7fed80d9.js";import{a as lr}from"./UserBadge-c244b996.js";import{S as xe}from"./Skeleton-a13486d8.js";import{F as dr}from"./Form-d176f007.js";import{d as bi,c as wi}from"./useFavorites-f4248da4.js";import{u as ur}from"./useInfiniteQuery-506e2bb1.js";import{T as _i}from"./SynapseTableConstants-5f56c39f.js";import{T as wt}from"./Typography-661a732d.js";import{u as Si}from"./useGetEntityHeaders-421efcad.js";import{c as Ri}from"./cloneDeep-ccda587a.js";import{d as Ci}from"./ToastMessage-b72dad00.js";import{D as Ue}from"./Dropdown-5dc5a7ec.js";import{B as Ti}from"./Box-9f4bb844.js";import{B as dn}from"./Button-8994ccb5.js";import{T as xi}from"./TextField-2c7ba887.js";import{I as un}from"./InputAdornment-f35c537d.js";import{I as Ii}from"./IconButton-c6432c64.js";function cr(i,t,n,r,e,a,o){if(i.length===0||t===0)return!1;{const s=i.every(l=>n(l)||!r(l));if(s&&e&&a&&!o)return a(),!1;{if(o)return!1;const l=i.some(u=>r(u));return s&&l}}}function $t(i,t,n,r,e,a,o){const[s,l]=z.useState(!1);return z.useEffect(()=>{l(cr(i,t,n,r,e,a,o))},[i,t,a,e,n,r,o]),s}const Ei=lt([g("path",{d:"m4 18 2-2h14V4H4z",opacity:".3"},"0"),g("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"},"1")],"ChatBubbleTwoTone"),zi=lt([g("path",{d:"M13 4H6v16h12V9h-5V4zm3 14H8v-2h8v2zm0-6v2H8v-2h8z",opacity:".3"},"0"),g("path",{d:"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"},"1")],"DescriptionTwoTone"),Di=lt(g("path",{d:"M14.39 11 16 12.61V11zM17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.27-.77 2.37-1.87 2.84l1.4 1.4C21.05 15.36 22 13.79 22 12c0-2.76-2.24-5-5-5zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4.01 1.41-1.41L3.41 2.86 2 4.27z"}),"LinkOffTwoTone"),Ni=lt([g("path",{d:"M11 4H4v7l9 9.01L20 13l-9-9zM6.5 8C5.67 8 5 7.33 5 6.5S5.67 5 6.5 5 8 5.67 8 6.5 7.33 8 6.5 8z",opacity:".3"},"0"),g("path",{d:"M12.41 2.58C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42l-9-9zM13 20.01 4 11V4h7v-.01l9 9-7 7.02z"},"1"),g("circle",{cx:"6.5",cy:"6.5",r:"1.5"},"2")],"LocalOfferTwoTone");function Oi(i,t){const{accessToken:n,keyFactory:r}=Oe();return ur(r.getSearchEntitiesQueryKey(i),async e=>st.searchEntities({...i,start:e.pageParam},n),{...t,getNextPageParam:e=>e.start+e.hits.length===e.found?null:e.start+e.hits.length})}function hr(i,t){const{accessToken:n,keyFactory:r}=Oe();return ur(r.getMyProjectsQueryKey(i),async e=>await st.getMyProjects(n,{...i,nextPageToken:e.pageParam}),{...t,getNextPageParam:e=>e.nextPageToken})}var Y=(i=>(i.DISALLOWED="DISALLOWED",i.REQUIRED="REQUIRED",i.TRACKED="TRACKED",i.UNTRACKED="UNTRACKED",i))(Y||{}),Gt={},Mi=Gn;Object.defineProperty(Gt,"__esModule",{value:!0});var pr=Gt.default=void 0,Hi=Mi($n()),Ai=Qn,Pi=(0,Hi.default)((0,Ai.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBackOutlined");pr=Gt.default=Pi;var Qt={},Vi=Gn;Object.defineProperty(Qt,"__esModule",{value:!0});var fr=Qt.default=void 0,Li=Vi($n()),qi=Qn,ki=(0,Li.default)((0,qi.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");fr=Qt.default=ki;function fe(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.forEach(function(e){$(i,e,n[e])})}return i}class B{static isBrowser(){return typeof window<"u"}static isOpera(){return B.isBrowser()&&(!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0)}static isFirefox(){return B.isBrowser()&&typeof InstallTrigger<"u"}static isSafari(){return B.isBrowser()?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}static isIE(){return B.isBrowser()&&!!document.documentMode}static isEdge(){return B.isBrowser()&&!B.isIE()&&!!window.StyleMedia}static isChrome(){return B.isBrowser()&&!!window.chrome&&!!window.chrome.webstore}static isBlink(){return B.isBrowser()&&(B.isChrome()||B.isOpera())&&!!window.CSS}static getUserAgent(){return typeof navigator>"u"?"":navigator.userAgent}static isAndroid(){return B.isBrowser()&&B.getUserAgent().match(/Android/i)}static isBlackBerry(){return B.isBrowser()&&B.getUserAgent().match(/BlackBerry/i)}static isIOS(){return B.isBrowser()&&B.getUserAgent().match(/iPhone|iPad|iPod/i)}static isOpera(){return B.isBrowser()&&B.getUserAgent().match(/Opera Mini/i)}static isWindows(){return B.isBrowser()&&B.isWindowsDesktop()||B.isWindowsMobile()}static isWindowsMobile(){return B.isBrowser()&&B.getUserAgent().match(/IEMobile/i)}static isWindowsDesktop(){return B.isBrowser()&&B.getUserAgent().match(/WPDesktop/i)}static isMobile(){return B.isBrowser()&&(B.isWindowsMobile()||B.isBlackBerry()||B.isAndroid()||B.isIOS())}}const dt=i=>Object.keys(i).reduce((t,n)=>n.substr(0,5)==="data-"?fe({},t,{[n]:i[n]}):t,{});class ee extends I.Component{static isA(t){return t?t.type===ee:!1}constructor(t){super(t),$(this,"ref",I.createRef()),$(this,"onMouseMove",n=>{if(this.state.active){const r=this.ref.current;this.props.events.emit("resize",{index:this.props.index,domElement:r,event:n}),this.props.onResize&&this.props.onResize({component:this,domElement:r}),n.stopPropagation(),n.preventDefault()}}),$(this,"onMouseDown",n=>{this.setState({active:!0}),!(this.props.onStartResize&&this.props.onStartResize({domElement:this.ref.current,component:this}))&&this.props.events.emit("startResize",{index:this.props.index,event:n})}),$(this,"onMouseUp",n=>{this.state.active&&(this.setState({active:!1}),this.props.onStopResize&&this.props.onStopResize({domElement:this.ref.current,component:this}),this.props.events.emit("stopResize",{index:this.props.index,event:n}))}),this.state={active:!1},this.document=t.document}componentDidMount(){this.document&&(this.document.addEventListener("touchend",this.onMouseUp),this.document.addEventListener("mouseup",this.onMouseUp),this.document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),this.document.addEventListener("touchmove",this.onMouseMove,{passive:!1}))}componentWillUnmount(){this.document&&(this.document.removeEventListener("mouseup",this.onMouseUp),this.document.removeEventListener("touchend",this.onMouseUp),this.document.removeEventListener("mousemove",this.onMouseMove),this.document.removeEventListener("touchmove",this.onMouseMove),this.state.active&&this.props.events.emit("stopResize",{index:this.props.index,event:null}))}render(){const t=[B.isMobile()?"reflex-thin":"",...this.props.className.split(" "),this.state.active?"active":"","reflex-splitter"].join(" ").trim();return I.createElement("div",ue({},dt(this.props),{onTouchStart:this.onMouseDown,onMouseDown:this.onMouseDown,style:this.props.style,className:t,id:this.props.id,ref:this.ref}),this.props.children)}}$(ee,"propTypes",{children:d.oneOfType([d.arrayOf(d.node),d.node]),onStartResize:d.func,onStopResize:d.func,className:d.string,propagate:d.bool,onResize:d.func,style:d.object});$(ee,"defaultProps",{document:typeof document<"u"?document:null,onStartResize:null,onStopResize:null,propagate:!1,onResize:null,className:"",style:{}});class Fi{constructor(){this._events={}}on(t,n){return t.split(" ").forEach(r=>{this._events[r]=this._events[r]||[],this._events[r].push(n)}),this}off(t,n){if(t==null){this._events={};return}return t.split(" ").forEach(r=>{r in this._events&&(n?this._events[r].splice(this._events[r].indexOf(n),1):this._events[r]=[])}),this}emit(t){if(this._events[t]!==void 0)for(var n=this._events[t].slice(),r=0;r<n.length;++r){var e=n[r].apply(this,Array.prototype.slice.call(arguments,1));if(e!==void 0)return e}}}Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(i,t){if(this==null)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(r===0)return!1;var e=t|0,a=Math.max(e>=0?e:r-Math.abs(e),0);function o(s,l){return s===l||typeof s=="number"&&typeof l=="number"&&isNaN(s)&&isNaN(l)}for(;a<r;){if(o(n[a],i))return!0;a++}return!1}});Math.sign||(Math.sign=function(i){return(i>0)-(i<0)||+i});class Yt extends I.Component{constructor(t){super(t),$(this,"onWindowResize",()=>{this.setState({flexData:this.computeFlexData()})}),$(this,"onStartResize",n=>{const r=n.event.changedTouches?n.event.changedTouches[0]:n.event;switch(this.props.orientation){case"horizontal":document.body.classList.add("reflex-row-resize"),this.previousPos=r.clientY;break;case"vertical":default:document.body.classList.add("reflex-col-resize"),this.previousPos=r.clientX;break}this.elements=[this.children[n.index-1],this.children[n.index+1]],this.emitElementsEvent(this.elements,"onStartResize")}),$(this,"onResize",n=>{const r=n.event.changedTouches?n.event.changedTouches[0]:n.event,e=this.getOffset(r,n.domElement);switch(this.props.orientation){case"horizontal":this.previousPos=r.clientY;break;case"vertical":default:this.previousPos=r.clientX;break}if(e){const a=this.computeAvailableOffset(n.index,e);a&&(this.elements=this.dispatchOffset(n.index,a),this.adjustFlex(this.elements),this.setState({resizing:!0},()=>{this.emitElementsEvent(this.elements,"onResize")}))}}),$(this,"onStopResize",n=>{document.body.classList.remove("reflex-row-resize"),document.body.classList.remove("reflex-col-resize");const r=this.elements?this.elements.map(a=>a.ref):[],e=this.children.filter(a=>!ee.isA(a)&&r.includes(a.ref));this.emitElementsEvent(e,"onStopResize"),this.setState({resizing:!1})}),$(this,"onElementSize",n=>new Promise(r=>{try{const e=n.index,a=this.getSize(this.children[e]),o=n.size-a,s=n.direction,l=e+s,u=this.computeAvailableOffset(l,s*o);this.elements=null,u&&(this.elements=this.dispatchOffset(l,u),this.adjustFlex(this.elements)),this.setState(this.state,()=>{this.emitElementsEvent(this.elements,"onResize"),r()})}catch(e){console.log(e)}})),this.events=new Fi,this.children=[],this.state={flexData:[]},this.ref=I.createRef()}componentDidMount(){const t=this.computeFlexData(),{windowResizeAware:n}=this.props;n&&window.addEventListener("resize",this.onWindowResize),this.setState({windowResizeAware:n,flexData:t}),this.events.on("element.size",this.onElementSize),this.events.on("startResize",this.onStartResize),this.events.on("stopResize",this.onStopResize),this.events.on("resize",this.onResize)}componentWillUnmount(){this.events.off(),window.removeEventListener("resize",this.onWindowResize)}getValidChildren(t=this.props){return this.toArray(t.children).filter(n=>!!n)}componentDidUpdate(t,n){const r=this.getValidChildren(this.props);if(r.length!==this.state.flexData.length||t.orientation!==this.props.orientation||this.flexHasChanged(t)){const e=this.computeFlexData(r,this.props);this.setState({flexData:e})}this.props.windowResizeAware!==this.state.windowResizeAware&&(this.props.windowResizeAware?window.addEventListener("resize",this.onWindowResize):window.removeEventListener("resize",this.onWindowResize),this.setState({windowResizeAware:this.props.windowResizeAware}))}flexHasChanged(t){const n=this.getValidChildren(t).map(e=>e.props.flex||0);return!this.getValidChildren().map(e=>e.props.flex||0).every((e,a)=>e===n[a])}getSize(t){var n,r;const e=t==null?void 0:t.ref.current;switch(this.props.orientation){case"horizontal":return(n=e==null?void 0:e.offsetHeight)!==null&&n!==void 0?n:0;case"vertical":default:return(r=e==null?void 0:e.offsetWidth)!==null&&r!==void 0?r:0}}getOffset(t,n){const{top:r,bottom:e,left:a,right:o}=n.getBoundingClientRect();switch(this.props.orientation){case"horizontal":{const s=t.clientY-this.previousPos;if(s>0){if(t.clientY>=r)return s}else if(t.clientY<=e)return s;break}case"vertical":default:{const s=t.clientX-this.previousPos;if(s>0){if(t.clientX>a)return s}else if(t.clientX<o)return s}break}return 0}adjustFlex(t){const n=t.reduce((r,e)=>{const a=e.props.index,o=e.props.flex,s=this.state.flexData[a].flex;return r+(o-s)/t.length},0);t.forEach(r=>{this.state.flexData[r.props.index].flex+=n})}computeAvailableOffset(t,n){const r=this.computeAvailableStretch(t,n),e=this.computeAvailableShrink(t,n);return Math.min(r,e)*Math.sign(n)}checkPropagate(t,n){if(n>0){if(t<this.children.length-2){const r=this.children[t+2];return ee.isA(r)&&r.props.propagate}}else if(t>2){const r=this.children[t-2];return ee.isA(r)&&r.props.propagate}return!1}computeAvailableStretch(t,n){var r;const e=n<0?t+1:t-1,a=this.children[e],o=this.getSize(a),l=((r=a==null?void 0:a.props.maxSize)!==null&&r!==void 0?r:0)-o;if(l<Math.abs(n)&&this.checkPropagate(t,-1*n)){const u=Math.sign(n)*(Math.abs(n)-l);return l+this.computeAvailableStretch(n<0?t+2:t-2,u)}return Math.min(l,Math.abs(n))}computeAvailableShrink(t,n){var r;const e=n>0?t+1:t-1,a=this.children[e],o=this.getSize(a),s=Math.max((r=a==null?void 0:a.props.minSize)!==null&&r!==void 0?r:0,0),l=o-s;if(l<Math.abs(n)&&this.checkPropagate(t,n)){const u=Math.sign(n)*(Math.abs(n)-l);return l+this.computeAvailableShrink(n>0?t+2:t-2,u)}return Math.min(l,Math.abs(n))}computePixelFlex(t=this.props.orientation){if(!this.ref.current)return console.warn("Unable to locate ReflexContainer dom node"),0;switch(t){case"horizontal":return this.ref.current.offsetHeight===0?(console.warn("Found ReflexContainer with height=0, this will cause invalid behavior..."),console.warn(this.ref.current),0):1/this.ref.current.offsetHeight;case"vertical":default:return this.ref.current.offsetWidth===0?(console.warn("Found ReflexContainer with width=0, this will cause invalid behavior..."),console.warn(this.ref.current),0):1/this.ref.current.offsetWidth}}addOffset(t,n){const r=this.getSize(t),e=t.props.index,a=Math.max(r+n,0),o=this.state.flexData[e].flex,s=o>0?o*a/r:this.computePixelFlex()*a;this.state.flexData[e].flex=!isFinite(s)||isNaN(s)?0:s}dispatchStretch(t,n){const r=n<0?t+1:t-1;if(r<0||r>this.children.length-1)return[];const e=this.children[r],a=this.getSize(e),s=Math.min(e.props.maxSize,a+Math.abs(n))-a;if(this.addOffset(e,s),s<Math.abs(n)){const l=t-Math.sign(n)*2,u=Math.sign(n)*(Math.abs(n)-s);return[e,...this.dispatchStretch(l,u)]}return[e]}dispatchShrink(t,n){const r=n>0?t+1:t-1;if(r<0||r>this.children.length-1)return[];const e=this.children[r],a=this.getSize(e),s=Math.max(e.props.minSize,a-Math.abs(n))-a;if(this.addOffset(e,s),Math.abs(s)<Math.abs(n)){const l=t+Math.sign(n)*2,u=Math.sign(n)*(Math.abs(n)+s);return[e,...this.dispatchShrink(l,u)]}return[e]}dispatchOffset(t,n){return[...this.dispatchStretch(t,n),...this.dispatchShrink(t,n)]}emitElementsEvent(t,n){this.toArray(t).forEach(r=>{r.props[n]&&r.props[n]({domElement:r.ref.current,component:r})})}computeFlexData(t=this.getValidChildren(),n=this.props){const r=this.computePixelFlex(n.orientation),e=u=>u.reduce((h,f)=>!ee.isA(f)&&f.constrained?h-f.flex:h,1),a=u=>u.reduce((h,f)=>!ee.isA(f)&&!f.constrained?h+1:h,0),o=t.map(u=>{const h=u.props;return{maxFlex:(h.maxSize||Number.MAX_VALUE)*r,sizeFlex:(h.size||Number.MAX_VALUE)*r,minFlex:(h.minSize||1)*r,constrained:h.flex!==void 0,flex:h.flex||0,type:u.type}}),s=(u,h=0)=>{let f=!1;const p=a(u),w=e(u),R=u.map(c=>{if(ee.isA(c))return c;const b=c.constrained?c.flex:w/p,v=Math.min(c.sizeFlex,Math.min(c.maxFlex,Math.max(c.minFlex,b))),C=c.constrained||v!==b;return f=f||C,fe({},c,{flex:v,constrained:C})});return f&&h<this.props.maxRecDepth?s(R,h+1):R};return s(o).map(u=>({flex:ee.isA(u)?0:u.flex,ref:I.createRef()}))}toArray(t){return t?Array.isArray(t)?t:[t]:[]}render(){const t=[this.state.resizing?"reflex-resizing":"",...this.props.className.split(" "),this.props.orientation,"reflex-container"].join(" ").trim();return this.children=I.Children.map(this.getValidChildren(),(n,r)=>{if(r>this.state.flexData.length-1)return I.createElement("div",null);const e=this.state.flexData[r],a=fe({},n.props,{maxSize:n.props.maxSize||Number.MAX_VALUE,orientation:this.props.orientation,minSize:n.props.minSize||1,events:this.events,flex:e.flex,ref:e.ref,index:r});return I.cloneElement(n,a)}),I.createElement("div",ue({},dt(this.props),{style:this.props.style,className:t,ref:this.ref}),this.children)}}$(Yt,"propTypes",{windowResizeAware:d.bool,orientation:d.oneOf(["horizontal","vertical"]),maxRecDepth:d.number,className:d.string,style:d.object});$(Yt,"defaultProps",{orientation:"horizontal",windowResizeAware:!1,maxRecDepth:100,className:"",style:{}});class Me extends I.Component{static isA(t){return t?t.type===Me:!1}constructor(t){super(t),$(this,"ref",I.createRef()),$(this,"onMouseMove",n=>{if(this.state.active){const r=this.ref.current;this.props.events.emit("resize",{index:this.props.index,domElement:r,event:n}),this.props.onResize&&this.props.onResize({component:this,domElement:r}),n.stopPropagation(),n.preventDefault()}}),$(this,"onMouseDown",n=>{this.setState({active:!0}),!(this.props.onStartResize&&this.props.onStartResize({domElement:this.ref.current,component:this}))&&this.props.events.emit("startResize",{index:this.props.index,event:n})}),$(this,"onMouseUp",n=>{this.state.active&&(this.setState({active:!1}),this.props.onStopResize&&this.props.onStopResize({domElement:this.ref.current,component:this}),this.props.events.emit("stopResize",{index:this.props.index,event:n}))}),this.state={active:!1},this.document=t.document}componentDidMount(){this.document&&(this.document.addEventListener("touchend",this.onMouseUp),this.document.addEventListener("mouseup",this.onMouseUp),this.document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),this.document.addEventListener("touchmove",this.onMouseMove,{passive:!1}))}componentWillUnmount(){this.document&&(this.document.removeEventListener("mouseup",this.onMouseUp),this.document.removeEventListener("touchend",this.onMouseUp),this.document.removeEventListener("mousemove",this.onMouseMove),this.document.removeEventListener("touchmove",this.onMouseMove),this.state.active&&this.props.events.emit("stopResize",{index:this.props.index,event:null}))}render(){const t=[...this.props.className.split(" "),this.state.active?"active":"","reflex-handle"].join(" ").trim();return I.createElement("div",ue({},dt(this.props),{onTouchStart:this.onMouseDown,onMouseDown:this.onMouseDown,style:this.props.style,className:t,id:this.props.id,ref:this.ref}),this.props.children)}}$(Me,"propTypes",{children:d.oneOfType([d.arrayOf(d.node),d.node]),onStartResize:d.func,onStopResize:d.func,className:d.string,propagate:d.bool,onResize:d.func,style:d.object});$(Me,"defaultProps",{document:typeof document>"u"?null:document,onStartResize:null,onStopResize:null,propagate:!1,onResize:null,className:"",style:{}});var mr="Expected a function",cn=0/0,Wi="[object Symbol]",ji=/^\s+|\s+$/g,Bi=/^[-+]0x[0-9a-f]+$/i,Ui=/^0b[01]+$/i,Ki=/^0o[0-7]+$/i,$i=parseInt,Gi=typeof Be=="object"&&Be&&Be.Object===Object&&Be,Qi=typeof self=="object"&&self&&self.Object===Object&&self,Yi=Gi||Qi||Function("return this")(),Xi=Object.prototype,Ji=Xi.toString,Zi=Math.max,ea=Math.min,ct=function(){return Yi.Date.now()};function ta(i,t,n){var r,e,a,o,s,l,u=0,h=!1,f=!1,p=!0;if(typeof i!="function")throw new TypeError(mr);t=hn(t)||0,Qe(n)&&(h=!!n.leading,f="maxWait"in n,a=f?Zi(hn(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p);function w(y){var _=r,x=e;return r=e=void 0,u=y,o=i.apply(x,_),o}function R(y){return u=y,s=setTimeout(v,t),h?w(y):o}function c(y){var _=y-l,x=y-u,D=t-_;return f?ea(D,a-x):D}function b(y){var _=y-l,x=y-u;return l===void 0||_>=t||_<0||f&&x>=a}function v(){var y=ct();if(b(y))return C(y);s=setTimeout(v,c(y))}function C(y){return s=void 0,p&&r?w(y):(r=e=void 0,o)}function S(){s!==void 0&&clearTimeout(s),u=0,r=l=e=s=void 0}function T(){return s===void 0?o:C(ct())}function m(){var y=ct(),_=b(y);if(r=arguments,e=this,l=y,_){if(s===void 0)return R(l);if(f)return s=setTimeout(v,t),w(l)}return s===void 0&&(s=setTimeout(v,t)),o}return m.cancel=S,m.flush=T,m}function na(i,t,n){var r=!0,e=!0;if(typeof i!="function")throw new TypeError(mr);return Qe(n)&&(r="leading"in n?!!n.leading:r,e="trailing"in n?!!n.trailing:e),ta(i,t,{leading:r,maxWait:t,trailing:e})}function Qe(i){var t=typeof i;return!!i&&(t=="object"||t=="function")}function ra(i){return!!i&&typeof i=="object"}function ia(i){return typeof i=="symbol"||ra(i)&&Ji.call(i)==Wi}function hn(i){if(typeof i=="number")return i;if(ia(i))return cn;if(Qe(i)){var t=typeof i.valueOf=="function"?i.valueOf():i;i=Qe(t)?t+"":t}if(typeof i!="string")return i===0?i:+i;i=i.replace(ji,"");var n=Ui.test(i);return n||Ki.test(i)?$i(i.slice(2),n?2:8):Bi.test(i)?cn:+i}var aa=na;const oa=Xr(aa);var gr=function(){if(typeof Map<"u")return Map;function i(t,n){var r=-1;return t.some(function(e,a){return e[0]===n?(r=a,!0):!1}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var r=i(this.__entries__,n),e=this.__entries__[r];return e&&e[1]},t.prototype.set=function(n,r){var e=i(this.__entries__,n);~e?this.__entries__[e][1]=r:this.__entries__.push([n,r])},t.prototype.delete=function(n){var r=this.__entries__,e=i(r,n);~e&&r.splice(e,1)},t.prototype.has=function(n){return!!~i(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var e=0,a=this.__entries__;e<a.length;e++){var o=a[e];n.call(r,o[1],o[0])}},t}()}(),_t=typeof window<"u"&&typeof document<"u"&&window.document===document,Ye=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),sa=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Ye):function(i){return setTimeout(function(){return i(Date.now())},1e3/60)}}(),la=2;function da(i,t){var n=!1,r=!1,e=0;function a(){n&&(n=!1,i()),r&&s()}function o(){sa(a)}function s(){var l=Date.now();if(n){if(l-e<la)return;r=!0}else n=!0,r=!1,setTimeout(o,t);e=l}return s}var ua=20,ca=["top","right","bottom","left","width","height","size","weight"],ha=typeof MutationObserver<"u",pa=function(){function i(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=da(this.refresh.bind(this),ua)}return i.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},i.prototype.removeObserver=function(t){var n=this.observers_,r=n.indexOf(t);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},i.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},i.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},i.prototype.connect_=function(){!_t||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ha?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},i.prototype.disconnect_=function(){!_t||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},i.prototype.onTransitionEnd_=function(t){var n=t.propertyName,r=n===void 0?"":n,e=ca.some(function(a){return!!~r.indexOf(a)});e&&this.refresh()},i.getInstance=function(){return this.instance_||(this.instance_=new i),this.instance_},i.instance_=null,i}(),vr=function(i,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var e=r[n];Object.defineProperty(i,e,{value:t[e],enumerable:!1,writable:!1,configurable:!0})}return i},Ne=function(i){var t=i&&i.ownerDocument&&i.ownerDocument.defaultView;return t||Ye},yr=ut(0,0,0,0);function Xe(i){return parseFloat(i)||0}function pn(i){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(r,e){var a=i["border-"+e+"-width"];return r+Xe(a)},0)}function fa(i){for(var t=["top","right","bottom","left"],n={},r=0,e=t;r<e.length;r++){var a=e[r],o=i["padding-"+a];n[a]=Xe(o)}return n}function ma(i){var t=i.getBBox();return ut(0,0,t.width,t.height)}function ga(i){var t=i.clientWidth,n=i.clientHeight;if(!t&&!n)return yr;var r=Ne(i).getComputedStyle(i),e=fa(r),a=e.left+e.right,o=e.top+e.bottom,s=Xe(r.width),l=Xe(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+a)!==t&&(s-=pn(r,"left","right")+a),Math.round(l+o)!==n&&(l-=pn(r,"top","bottom")+o)),!ya(i)){var u=Math.round(s+a)-t,h=Math.round(l+o)-n;Math.abs(u)!==1&&(s-=u),Math.abs(h)!==1&&(l-=h)}return ut(e.left,e.top,s,l)}var va=function(){return typeof SVGGraphicsElement<"u"?function(i){return i instanceof Ne(i).SVGGraphicsElement}:function(i){return i instanceof Ne(i).SVGElement&&typeof i.getBBox=="function"}}();function ya(i){return i===Ne(i).document.documentElement}function ba(i){return _t?va(i)?ma(i):ga(i):yr}function wa(i){var t=i.x,n=i.y,r=i.width,e=i.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(a.prototype);return vr(o,{x:t,y:n,width:r,height:e,top:n,right:t+r,bottom:e+n,left:t}),o}function ut(i,t,n,r){return{x:i,y:t,width:n,height:r}}var _a=function(){function i(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ut(0,0,0,0),this.target=t}return i.prototype.isActive=function(){var t=ba(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},i.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},i}(),Sa=function(){function i(t,n){var r=wa(n);vr(this,{target:t,contentRect:r})}return i}(),Ra=function(){function i(t,n,r){if(this.activeObservations_=[],this.observations_=new gr,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r}return i.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Ne(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new _a(t)),this.controller_.addObserver(this),this.controller_.refresh())}},i.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Ne(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},i.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},i.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},i.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new Sa(r.target,r.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},i.prototype.clearActive=function(){this.activeObservations_.splice(0)},i.prototype.hasActive=function(){return this.activeObservations_.length>0},i}(),br=typeof WeakMap<"u"?new WeakMap:new gr,wr=function(){function i(t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=pa.getInstance(),r=new Ra(t,n,this);br.set(this,r)}return i}();["observe","unobserve","disconnect"].forEach(function(i){wr.prototype[i]=function(){var t;return(t=br.get(this))[i].apply(t,arguments)}});var Ca=function(){return typeof Ye.ResizeObserver<"u"?Ye.ResizeObserver:wr}(),Ta=["client","offset","scroll","bounds","margin"];function fn(i){var t=[];return Ta.forEach(function(n){i[n]&&t.push(n)}),t}function mn(i,t){var n={};if(t.indexOf("client")>-1&&(n.client={top:i.clientTop,left:i.clientLeft,width:i.clientWidth,height:i.clientHeight}),t.indexOf("offset")>-1&&(n.offset={top:i.offsetTop,left:i.offsetLeft,width:i.offsetWidth,height:i.offsetHeight}),t.indexOf("scroll")>-1&&(n.scroll={top:i.scrollTop,left:i.scrollLeft,width:i.scrollWidth,height:i.scrollHeight}),t.indexOf("bounds")>-1){var r=i.getBoundingClientRect();n.bounds={top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height}}if(t.indexOf("margin")>-1){var e=getComputedStyle(i);n.margin={top:e?parseInt(e.marginTop):0,right:e?parseInt(e.marginRight):0,bottom:e?parseInt(e.marginBottom):0,left:e?parseInt(e.marginLeft):0}}return n}function xa(i){var t=i&&i.ownerDocument&&i.ownerDocument.defaultView;return t||window}function Ia(i){return function(t){var n,r;return r=n=function(e){Fe(a,e);function a(){for(var s,l=arguments.length,u=new Array(l),h=0;h<l;h++)u[h]=arguments[h];return s=e.call.apply(e,[this].concat(u))||this,s.state={contentRect:{entry:{},client:{},offset:{},scroll:{},bounds:{},margin:{}}},s._animationFrameID=null,s._resizeObserver=null,s._node=null,s._window=null,s.measure=function(f){var p=mn(s._node,i||fn(s.props));f&&(p.entry=f[0].contentRect),s._animationFrameID=s._window.requestAnimationFrame(function(){s._resizeObserver!==null&&(s.setState({contentRect:p}),typeof s.props.onResize=="function"&&s.props.onResize(p))})},s._handleRef=function(f){s._resizeObserver!==null&&s._node!==null&&s._resizeObserver.unobserve(s._node),s._node=f,s._window=xa(s._node);var p=s.props.innerRef;p&&(typeof p=="function"?p(s._node):p.current=s._node),s._resizeObserver!==null&&s._node!==null&&s._resizeObserver.observe(s._node)},s}var o=a.prototype;return o.componentDidMount=function(){this._resizeObserver=this._window!==null&&this._window.ResizeObserver?new this._window.ResizeObserver(this.measure):new Ca(this.measure),this._node!==null&&(this._resizeObserver.observe(this._node),typeof this.props.onResize=="function"&&this.props.onResize(mn(this._node,i||fn(this.props))))},o.componentWillUnmount=function(){this._window!==null&&this._window.cancelAnimationFrame(this._animationFrameID),this._resizeObserver!==null&&(this._resizeObserver.disconnect(),this._resizeObserver=null)},o.render=function(){var l=this.props;l.innerRef,l.onResize;var u=er(l,["innerRef","onResize"]);return z.createElement(t,ue({},u,{measureRef:this._handleRef,measure:this.measure,contentRect:this.state.contentRect}))},a}(z.Component),n.propTypes={client:d.bool,offset:d.bool,scroll:d.bool,bounds:d.bool,margin:d.bool,innerRef:d.oneOfType([d.object,d.func]),onResize:d.func},r}}var Xt=Ia()(function(i){var t=i.measure,n=i.measureRef,r=i.contentRect,e=i.children;return e({measure:t,measureRef:n,contentRect:r})});Xt.displayName="Measure";Xt.propTypes.children=d.func;const St=i=>i?Array.isArray(i)?i:[i]:[];class Ea extends I.Component{constructor(t){super(t),$(this,"onResize",n=>{const{resizeHeight:r,resizeWidth:e}=this.props,{height:a,width:o}=n.bounds;this.setDimensions(fe({},r&&{height:a},e&&{width:o}))}),this.setDimensions=oa(n=>{this.setState(n)},this.props.propagateDimensionsRate/1e3),this.state={height:"100%",width:"100%"}}renderChildren(){const{propagateDimensions:t}=this.props,n=St(this.props.children).filter(r=>!!r);return I.Children.map(n,r=>this.props.withHandle||Me.isA(r)?I.cloneElement(r,fe({dimensions:t&&this.state},r.props,{index:this.props.index-1,events:this.props.events})):t?I.cloneElement(r,fe({},r.props,{dimensions:this.state})):r)}render(){return I.createElement(Xt,{bounds:!0,onResize:this.onResize},({measureRef:t})=>I.createElement("div",{ref:t,className:"reflex-size-aware"},I.createElement("div",{style:this.state},this.renderChildren())))}}class Jt extends I.Component{constructor(t){super(t),this.state={size:t.size}}static getDerivedStateFromProps(t,n){return t.size!==n.size?fe({},n,{size:t.size}):null}async componentDidUpdate(t,n,r){if(n.size!==this.state.size){const e=St(this.props.direction);for(let a of e)await this.props.events.emit("element.size",{index:this.props.index,size:this.props.size,direction:a})}}renderChildren(){const t=St(this.props.children).filter(n=>!!n);return I.Children.map(t,n=>this.props.withHandle||Me.isA(n)?I.cloneElement(n,fe({},n.props,{index:this.props.index-1,events:this.props.events})):n)}render(){const t=[...this.props.className.split(" "),this.props.orientation,"reflex-element"].join(" ").trim(),n=fe({},this.props.style,{flexGrow:this.props.flex,flexShrink:1,flexBasis:"0%"});return I.createElement("div",ue({},dt(this.props),{ref:this.props.innerRef,className:t,style:n}),this.props.propagateDimensions?I.createElement(Ea,this.props):this.renderChildren())}}$(Jt,"propTypes",{propagateDimensions:d.bool,resizeHeight:d.bool,resizeWidth:d.bool,className:d.string,size:d.number});$(Jt,"defaultProps",{propagateDimensionsRate:100,propagateDimensions:!1,resizeHeight:!0,resizeWidth:!0,direction:[1],className:""});const gn=I.forwardRef((i,t)=>I.createElement(Jt,ue({innerRef:t},i)));const Rt=({items:i,maxItemCount:t=4})=>{const n=i.length>t;return n&&(i=i.slice(-t)),W("div",{className:"Breadcrumbs",children:[i.length>0&&g("span",{children:"You are in: "}),n&&W(U,{children:[g("button",{className:"BreadcrumbItem Current",children:"..."}),g("span",{children:">"})]}),i.map((r,e)=>W(U,{children:[g("button",{className:`BreadcrumbItem ${r.isCurrent?"Current":""}`,onClick:a=>{a.preventDefault(),r.action&&r.action()},children:r.name},e),e!==i.length-1&&g("span",{children:">"})]}))]})};try{Rt.displayName="Breadcrumbs",Rt.__docgenInfo={description:"",displayName:"Breadcrumbs",props:{items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"BreadcrumbItem[]"}},maxItemCount:{defaultValue:{value:"4"},description:"",name:"maxItemCount",required:!1,type:{name:"number"}}}}}catch{}function qe(i){"@babel/helpers - typeof";return qe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qe(i)}function za(i,t){if(qe(i)!=="object"||i===null)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,t||"default");if(qe(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function Da(i){var t=za(i,"string");return qe(t)==="symbol"?t:String(t)}function He(i,t,n){return t=Da(t),t in i?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n,i}function k(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}var vn=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Na(i,t){return!!(i===t||vn(i)&&vn(t))}function Oa(i,t){if(i.length!==t.length)return!1;for(var n=0;n<i.length;n++)if(!Na(i[n],t[n]))return!1;return!0}function De(i,t){t===void 0&&(t=Oa);var n,r=[],e,a=!1;function o(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return a&&n===this&&t(s,r)||(e=i.apply(this,s),a=!0,n=this,r=s),e}return o}var Ma=typeof performance=="object"&&typeof performance.now=="function",yn=Ma?function(){return performance.now()}:function(){return Date.now()};function Je(i){cancelAnimationFrame(i.id)}function _r(i,t){var n=yn();function r(){yn()-n>=t?i.call(null):e.id=requestAnimationFrame(r)}var e={id:requestAnimationFrame(r)};return e}var ht=-1;function Ct(i){if(i===void 0&&(i=!1),ht===-1||i){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),ht=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return ht}var Ee=null;function Ze(i){if(i===void 0&&(i=!1),Ee===null||i){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),e=r.style;return e.width="100px",e.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?Ee="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?Ee="negative":Ee="positive-ascending"),document.body.removeChild(t),Ee}return Ee}var Ha=150,Aa=function(t){var n=t.columnIndex;t.data;var r=t.rowIndex;return r+":"+n};function Sr(i){var t,n=i.getColumnOffset,r=i.getColumnStartIndexForOffset,e=i.getColumnStopIndexForStartIndex,a=i.getColumnWidth,o=i.getEstimatedTotalHeight,s=i.getEstimatedTotalWidth,l=i.getOffsetForColumnAndAlignment,u=i.getOffsetForRowAndAlignment,h=i.getRowHeight,f=i.getRowOffset,p=i.getRowStartIndexForOffset,w=i.getRowStopIndexForStartIndex,R=i.initInstanceProps,c=i.shouldResetStyleCacheOnItemSizeChange,b=i.validateProps;return t=function(v){Fe(C,v);function C(T){var m;return m=v.call(this,T)||this,m._instanceProps=R(m.props,pe(m)),m._resetIsScrollingTimeoutId=null,m._outerRef=void 0,m.state={instance:pe(m),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:typeof m.props.initialScrollLeft=="number"?m.props.initialScrollLeft:0,scrollTop:typeof m.props.initialScrollTop=="number"?m.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},m._callOnItemsRendered=void 0,m._callOnItemsRendered=De(function(y,_,x,D,N,M,P,F){return m.props.onItemsRendered({overscanColumnStartIndex:y,overscanColumnStopIndex:_,overscanRowStartIndex:x,overscanRowStopIndex:D,visibleColumnStartIndex:N,visibleColumnStopIndex:M,visibleRowStartIndex:P,visibleRowStopIndex:F})}),m._callOnScroll=void 0,m._callOnScroll=De(function(y,_,x,D,N){return m.props.onScroll({horizontalScrollDirection:x,scrollLeft:y,scrollTop:_,verticalScrollDirection:D,scrollUpdateWasRequested:N})}),m._getItemStyle=void 0,m._getItemStyle=function(y,_){var x=m.props,D=x.columnWidth,N=x.direction,M=x.rowHeight,P=m._getItemStyleCache(c&&D,c&&N,c&&M),F=y+":"+_,V;if(P.hasOwnProperty(F))V=P[F];else{var q=n(m.props,_,m._instanceProps),H=N==="rtl";P[F]=V={position:"absolute",left:H?void 0:q,right:H?q:void 0,top:f(m.props,y,m._instanceProps),height:h(m.props,y,m._instanceProps),width:a(m.props,_,m._instanceProps)}}return V},m._getItemStyleCache=void 0,m._getItemStyleCache=De(function(y,_,x){return{}}),m._onScroll=function(y){var _=y.currentTarget,x=_.clientHeight,D=_.clientWidth,N=_.scrollLeft,M=_.scrollTop,P=_.scrollHeight,F=_.scrollWidth;m.setState(function(V){if(V.scrollLeft===N&&V.scrollTop===M)return null;var q=m.props.direction,H=N;if(q==="rtl")switch(Ze()){case"negative":H=-N;break;case"positive-descending":H=F-D-N;break}H=Math.max(0,Math.min(H,F-D));var O=Math.max(0,Math.min(M,P-x));return{isScrolling:!0,horizontalScrollDirection:V.scrollLeft<N?"forward":"backward",scrollLeft:H,scrollTop:O,verticalScrollDirection:V.scrollTop<M?"forward":"backward",scrollUpdateWasRequested:!1}},m._resetIsScrollingDebounced)},m._outerRefSetter=function(y){var _=m.props.outerRef;m._outerRef=y,typeof _=="function"?_(y):_!=null&&typeof _=="object"&&_.hasOwnProperty("current")&&(_.current=y)},m._resetIsScrollingDebounced=function(){m._resetIsScrollingTimeoutId!==null&&Je(m._resetIsScrollingTimeoutId),m._resetIsScrollingTimeoutId=_r(m._resetIsScrolling,Ha)},m._resetIsScrolling=function(){m._resetIsScrollingTimeoutId=null,m.setState({isScrolling:!1},function(){m._getItemStyleCache(-1)})},m}C.getDerivedStateFromProps=function(m,y){return Pa(m,y),b(m),null};var S=C.prototype;return S.scrollTo=function(m){var y=m.scrollLeft,_=m.scrollTop;y!==void 0&&(y=Math.max(0,y)),_!==void 0&&(_=Math.max(0,_)),this.setState(function(x){return y===void 0&&(y=x.scrollLeft),_===void 0&&(_=x.scrollTop),x.scrollLeft===y&&x.scrollTop===_?null:{horizontalScrollDirection:x.scrollLeft<y?"forward":"backward",scrollLeft:y,scrollTop:_,scrollUpdateWasRequested:!0,verticalScrollDirection:x.scrollTop<_?"forward":"backward"}},this._resetIsScrollingDebounced)},S.scrollToItem=function(m){var y=m.align,_=y===void 0?"auto":y,x=m.columnIndex,D=m.rowIndex,N=this.props,M=N.columnCount,P=N.height,F=N.rowCount,V=N.width,q=this.state,H=q.scrollLeft,O=q.scrollTop,A=Ct();x!==void 0&&(x=Math.max(0,Math.min(x,M-1))),D!==void 0&&(D=Math.max(0,Math.min(D,F-1)));var E=o(this.props,this._instanceProps),L=s(this.props,this._instanceProps),K=L>V?A:0,j=E>P?A:0;this.scrollTo({scrollLeft:x!==void 0?l(this.props,x,_,H,this._instanceProps,j):H,scrollTop:D!==void 0?u(this.props,D,_,O,this._instanceProps,K):O})},S.componentDidMount=function(){var m=this.props,y=m.initialScrollLeft,_=m.initialScrollTop;if(this._outerRef!=null){var x=this._outerRef;typeof y=="number"&&(x.scrollLeft=y),typeof _=="number"&&(x.scrollTop=_)}this._callPropsCallbacks()},S.componentDidUpdate=function(){var m=this.props.direction,y=this.state,_=y.scrollLeft,x=y.scrollTop,D=y.scrollUpdateWasRequested;if(D&&this._outerRef!=null){var N=this._outerRef;if(m==="rtl")switch(Ze()){case"negative":N.scrollLeft=-_;break;case"positive-ascending":N.scrollLeft=_;break;default:var M=N.clientWidth,P=N.scrollWidth;N.scrollLeft=P-M-_;break}else N.scrollLeft=Math.max(0,_);N.scrollTop=Math.max(0,x)}this._callPropsCallbacks()},S.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Je(this._resetIsScrollingTimeoutId)},S.render=function(){var m=this.props,y=m.children,_=m.className,x=m.columnCount,D=m.direction,N=m.height,M=m.innerRef,P=m.innerElementType,F=m.innerTagName,V=m.itemData,q=m.itemKey,H=q===void 0?Aa:q,O=m.outerElementType,A=m.outerTagName,E=m.rowCount,L=m.style,K=m.useIsScrolling,j=m.width,Q=this.state.isScrolling,oe=this._getHorizontalRangeToRender(),Ie=oe[0],Vr=oe[1],an=this._getVerticalRangeToRender(),Lr=an[0],qr=an[1],on=[];if(x>0&&E)for(var Ae=Lr;Ae<=qr;Ae++)for(var Pe=Ie;Pe<=Vr;Pe++)on.push(z.createElement(y,{columnIndex:Pe,data:V,isScrolling:K?Q:void 0,key:H({columnIndex:Pe,data:V,rowIndex:Ae}),rowIndex:Ae,style:this._getItemStyle(Ae,Pe)}));var kr=o(this.props,this._instanceProps),Fr=s(this.props,this._instanceProps);return z.createElement(O||A||"div",{className:_,onScroll:this._onScroll,ref:this._outerRefSetter,style:ue({position:"relative",height:N,width:j,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:D},L)},z.createElement(P||F||"div",{children:on,ref:M,style:{height:kr,pointerEvents:Q?"none":void 0,width:Fr}}))},S._callPropsCallbacks=function(){var m=this.props,y=m.columnCount,_=m.onItemsRendered,x=m.onScroll,D=m.rowCount;if(typeof _=="function"&&y>0&&D>0){var N=this._getHorizontalRangeToRender(),M=N[0],P=N[1],F=N[2],V=N[3],q=this._getVerticalRangeToRender(),H=q[0],O=q[1],A=q[2],E=q[3];this._callOnItemsRendered(M,P,H,O,F,V,A,E)}if(typeof x=="function"){var L=this.state,K=L.horizontalScrollDirection,j=L.scrollLeft,Q=L.scrollTop,oe=L.scrollUpdateWasRequested,Ie=L.verticalScrollDirection;this._callOnScroll(j,Q,K,Ie,oe)}},S._getHorizontalRangeToRender=function(){var m=this.props,y=m.columnCount,_=m.overscanColumnCount,x=m.overscanColumnsCount,D=m.overscanCount,N=m.rowCount,M=this.state,P=M.horizontalScrollDirection,F=M.isScrolling,V=M.scrollLeft,q=_||x||D||1;if(y===0||N===0)return[0,0,0,0];var H=r(this.props,V,this._instanceProps),O=e(this.props,H,V,this._instanceProps),A=!F||P==="backward"?Math.max(1,q):1,E=!F||P==="forward"?Math.max(1,q):1;return[Math.max(0,H-A),Math.max(0,Math.min(y-1,O+E)),H,O]},S._getVerticalRangeToRender=function(){var m=this.props,y=m.columnCount,_=m.overscanCount,x=m.overscanRowCount,D=m.overscanRowsCount,N=m.rowCount,M=this.state,P=M.isScrolling,F=M.verticalScrollDirection,V=M.scrollTop,q=x||D||_||1;if(y===0||N===0)return[0,0,0,0];var H=p(this.props,V,this._instanceProps),O=w(this.props,H,V,this._instanceProps),A=!P||F==="backward"?Math.max(1,q):1,E=!P||F==="forward"?Math.max(1,q):1;return[Math.max(0,H-A),Math.max(0,Math.min(N-1,O+E)),H,O]},C}(z.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},t}var Pa=function(t,n){t.children,t.direction,t.height,t.innerTagName,t.outerTagName,t.overscanColumnsCount,t.overscanCount,t.overscanRowsCount,t.width,n.instance},bn=50,Rr=function(t,n){var r=t.rowCount,e=n.rowMetadataMap,a=n.estimatedRowHeight,o=n.lastMeasuredRowIndex,s=0;if(o>=r&&(o=r-1),o>=0){var l=e[o];s=l.offset+l.size}var u=r-o-1,h=u*a;return s+h},Cr=function(t,n){var r=t.columnCount,e=n.columnMetadataMap,a=n.estimatedColumnWidth,o=n.lastMeasuredColumnIndex,s=0;if(o>=r&&(o=r-1),o>=0){var l=e[o];s=l.offset+l.size}var u=r-o-1,h=u*a;return s+h},he=function(t,n,r,e){var a,o,s;if(t==="column"?(a=e.columnMetadataMap,o=n.columnWidth,s=e.lastMeasuredColumnIndex):(a=e.rowMetadataMap,o=n.rowHeight,s=e.lastMeasuredRowIndex),r>s){var l=0;if(s>=0){var u=a[s];l=u.offset+u.size}for(var h=s+1;h<=r;h++){var f=o(h);a[h]={offset:l,size:f},l+=f}t==="column"?e.lastMeasuredColumnIndex=r:e.lastMeasuredRowIndex=r}return a[r]},wn=function(t,n,r,e){var a,o;t==="column"?(a=r.columnMetadataMap,o=r.lastMeasuredColumnIndex):(a=r.rowMetadataMap,o=r.lastMeasuredRowIndex);var s=o>0?a[o].offset:0;return s>=e?Tr(t,n,r,o,0,e):Va(t,n,r,Math.max(0,o),e)},Tr=function(t,n,r,e,a,o){for(;a<=e;){var s=a+Math.floor((e-a)/2),l=he(t,n,s,r).offset;if(l===o)return s;l<o?a=s+1:l>o&&(e=s-1)}return a>0?a-1:0},Va=function(t,n,r,e,a){for(var o=t==="column"?n.columnCount:n.rowCount,s=1;e<o&&he(t,n,e,r).offset<a;)e+=s,s*=2;return Tr(t,n,r,Math.min(e,o-1),Math.floor(e/2),a)},_n=function(t,n,r,e,a,o,s){var l=t==="column"?n.width:n.height,u=he(t,n,r,o),h=t==="column"?Cr(n,o):Rr(n,o),f=Math.max(0,Math.min(h-l,u.offset)),p=Math.max(0,u.offset-l+s+u.size);switch(e==="smart"&&(a>=p-l&&a<=f+l?e="auto":e="center"),e){case"start":return f;case"end":return p;case"center":return Math.round(p+(f-p)/2);case"auto":default:return a>=p&&a<=f?a:p>f||a<p?p:f}},La=Sr({getColumnOffset:function(t,n,r){return he("column",t,n,r).offset},getColumnStartIndexForOffset:function(t,n,r){return wn("column",t,r,n)},getColumnStopIndexForStartIndex:function(t,n,r,e){for(var a=t.columnCount,o=t.width,s=he("column",t,n,e),l=r+o,u=s.offset+s.size,h=n;h<a-1&&u<l;)h++,u+=he("column",t,h,e).size;return h},getColumnWidth:function(t,n,r){return r.columnMetadataMap[n].size},getEstimatedTotalHeight:Rr,getEstimatedTotalWidth:Cr,getOffsetForColumnAndAlignment:function(t,n,r,e,a,o){return _n("column",t,n,r,e,a,o)},getOffsetForRowAndAlignment:function(t,n,r,e,a,o){return _n("row",t,n,r,e,a,o)},getRowOffset:function(t,n,r){return he("row",t,n,r).offset},getRowHeight:function(t,n,r){return r.rowMetadataMap[n].size},getRowStartIndexForOffset:function(t,n,r){return wn("row",t,r,n)},getRowStopIndexForStartIndex:function(t,n,r,e){for(var a=t.rowCount,o=t.height,s=he("row",t,n,e),l=r+o,u=s.offset+s.size,h=n;h<a-1&&u<l;)h++,u+=he("row",t,h,e).size;return h},initInstanceProps:function(t,n){var r=t,e=r.estimatedColumnWidth,a=r.estimatedRowHeight,o={columnMetadataMap:{},estimatedColumnWidth:e||bn,estimatedRowHeight:a||bn,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return n.resetAfterColumnIndex=function(s,l){l===void 0&&(l=!0),n.resetAfterIndices({columnIndex:s,shouldForceUpdate:l})},n.resetAfterRowIndex=function(s,l){l===void 0&&(l=!0),n.resetAfterIndices({rowIndex:s,shouldForceUpdate:l})},n.resetAfterIndices=function(s){var l=s.columnIndex,u=s.rowIndex,h=s.shouldForceUpdate,f=h===void 0?!0:h;typeof l=="number"&&(o.lastMeasuredColumnIndex=Math.min(o.lastMeasuredColumnIndex,l-1)),typeof u=="number"&&(o.lastMeasuredRowIndex=Math.min(o.lastMeasuredRowIndex,u-1)),n._getItemStyleCache(-1),f&&n.forceUpdate()},o},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(t){t.columnWidth,t.rowHeight}}),qa=150,ka=function(t,n){return t};function Fa(i){var t,n=i.getItemOffset,r=i.getEstimatedTotalSize,e=i.getItemSize,a=i.getOffsetForIndexAndAlignment,o=i.getStartIndexForOffset,s=i.getStopIndexForStartIndex,l=i.initInstanceProps,u=i.shouldResetStyleCacheOnItemSizeChange,h=i.validateProps;return t=function(f){Fe(p,f);function p(R){var c;return c=f.call(this,R)||this,c._instanceProps=l(c.props,pe(c)),c._outerRef=void 0,c._resetIsScrollingTimeoutId=null,c.state={instance:pe(c),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof c.props.initialScrollOffset=="number"?c.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},c._callOnItemsRendered=void 0,c._callOnItemsRendered=De(function(b,v,C,S){return c.props.onItemsRendered({overscanStartIndex:b,overscanStopIndex:v,visibleStartIndex:C,visibleStopIndex:S})}),c._callOnScroll=void 0,c._callOnScroll=De(function(b,v,C){return c.props.onScroll({scrollDirection:b,scrollOffset:v,scrollUpdateWasRequested:C})}),c._getItemStyle=void 0,c._getItemStyle=function(b){var v=c.props,C=v.direction,S=v.itemSize,T=v.layout,m=c._getItemStyleCache(u&&S,u&&T,u&&C),y;if(m.hasOwnProperty(b))y=m[b];else{var _=n(c.props,b,c._instanceProps),x=e(c.props,b,c._instanceProps),D=C==="horizontal"||T==="horizontal",N=C==="rtl",M=D?_:0;m[b]=y={position:"absolute",left:N?void 0:M,right:N?M:void 0,top:D?0:_,height:D?"100%":x,width:D?x:"100%"}}return y},c._getItemStyleCache=void 0,c._getItemStyleCache=De(function(b,v,C){return{}}),c._onScrollHorizontal=function(b){var v=b.currentTarget,C=v.clientWidth,S=v.scrollLeft,T=v.scrollWidth;c.setState(function(m){if(m.scrollOffset===S)return null;var y=c.props.direction,_=S;if(y==="rtl")switch(Ze()){case"negative":_=-S;break;case"positive-descending":_=T-C-S;break}return _=Math.max(0,Math.min(_,T-C)),{isScrolling:!0,scrollDirection:m.scrollOffset<S?"forward":"backward",scrollOffset:_,scrollUpdateWasRequested:!1}},c._resetIsScrollingDebounced)},c._onScrollVertical=function(b){var v=b.currentTarget,C=v.clientHeight,S=v.scrollHeight,T=v.scrollTop;c.setState(function(m){if(m.scrollOffset===T)return null;var y=Math.max(0,Math.min(T,S-C));return{isScrolling:!0,scrollDirection:m.scrollOffset<y?"forward":"backward",scrollOffset:y,scrollUpdateWasRequested:!1}},c._resetIsScrollingDebounced)},c._outerRefSetter=function(b){var v=c.props.outerRef;c._outerRef=b,typeof v=="function"?v(b):v!=null&&typeof v=="object"&&v.hasOwnProperty("current")&&(v.current=b)},c._resetIsScrollingDebounced=function(){c._resetIsScrollingTimeoutId!==null&&Je(c._resetIsScrollingTimeoutId),c._resetIsScrollingTimeoutId=_r(c._resetIsScrolling,qa)},c._resetIsScrolling=function(){c._resetIsScrollingTimeoutId=null,c.setState({isScrolling:!1},function(){c._getItemStyleCache(-1,null)})},c}p.getDerivedStateFromProps=function(c,b){return Wa(c,b),h(c),null};var w=p.prototype;return w.scrollTo=function(c){c=Math.max(0,c),this.setState(function(b){return b.scrollOffset===c?null:{scrollDirection:b.scrollOffset<c?"forward":"backward",scrollOffset:c,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},w.scrollToItem=function(c,b){b===void 0&&(b="auto");var v=this.props,C=v.itemCount,S=v.layout,T=this.state.scrollOffset;c=Math.max(0,Math.min(c,C-1));var m=0;if(this._outerRef){var y=this._outerRef;S==="vertical"?m=y.scrollWidth>y.clientWidth?Ct():0:m=y.scrollHeight>y.clientHeight?Ct():0}this.scrollTo(a(this.props,c,b,T,this._instanceProps,m))},w.componentDidMount=function(){var c=this.props,b=c.direction,v=c.initialScrollOffset,C=c.layout;if(typeof v=="number"&&this._outerRef!=null){var S=this._outerRef;b==="horizontal"||C==="horizontal"?S.scrollLeft=v:S.scrollTop=v}this._callPropsCallbacks()},w.componentDidUpdate=function(){var c=this.props,b=c.direction,v=c.layout,C=this.state,S=C.scrollOffset,T=C.scrollUpdateWasRequested;if(T&&this._outerRef!=null){var m=this._outerRef;if(b==="horizontal"||v==="horizontal")if(b==="rtl")switch(Ze()){case"negative":m.scrollLeft=-S;break;case"positive-ascending":m.scrollLeft=S;break;default:var y=m.clientWidth,_=m.scrollWidth;m.scrollLeft=_-y-S;break}else m.scrollLeft=S;else m.scrollTop=S}this._callPropsCallbacks()},w.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Je(this._resetIsScrollingTimeoutId)},w.render=function(){var c=this.props,b=c.children,v=c.className,C=c.direction,S=c.height,T=c.innerRef,m=c.innerElementType,y=c.innerTagName,_=c.itemCount,x=c.itemData,D=c.itemKey,N=D===void 0?ka:D,M=c.layout,P=c.outerElementType,F=c.outerTagName,V=c.style,q=c.useIsScrolling,H=c.width,O=this.state.isScrolling,A=C==="horizontal"||M==="horizontal",E=A?this._onScrollHorizontal:this._onScrollVertical,L=this._getRangeToRender(),K=L[0],j=L[1],Q=[];if(_>0)for(var oe=K;oe<=j;oe++)Q.push(z.createElement(b,{data:x,key:N(oe,x),index:oe,isScrolling:q?O:void 0,style:this._getItemStyle(oe)}));var Ie=r(this.props,this._instanceProps);return z.createElement(P||F||"div",{className:v,onScroll:E,ref:this._outerRefSetter,style:ue({position:"relative",height:S,width:H,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:C},V)},z.createElement(m||y||"div",{children:Q,ref:T,style:{height:A?"100%":Ie,pointerEvents:O?"none":void 0,width:A?Ie:"100%"}}))},w._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var c=this.props.itemCount;if(c>0){var b=this._getRangeToRender(),v=b[0],C=b[1],S=b[2],T=b[3];this._callOnItemsRendered(v,C,S,T)}}if(typeof this.props.onScroll=="function"){var m=this.state,y=m.scrollDirection,_=m.scrollOffset,x=m.scrollUpdateWasRequested;this._callOnScroll(y,_,x)}},w._getRangeToRender=function(){var c=this.props,b=c.itemCount,v=c.overscanCount,C=this.state,S=C.isScrolling,T=C.scrollDirection,m=C.scrollOffset;if(b===0)return[0,0,0,0];var y=o(this.props,m,this._instanceProps),_=s(this.props,y,m,this._instanceProps),x=!S||T==="backward"?Math.max(1,v):1,D=!S||T==="forward"?Math.max(1,v):1;return[Math.max(0,y-x),Math.max(0,Math.min(b-1,_+D)),y,_]},p}(z.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var Wa=function(t,n){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,n.instance},ja=50,ze=function(t,n,r){var e=t,a=e.itemSize,o=r.itemMetadataMap,s=r.lastMeasuredIndex;if(n>s){var l=0;if(s>=0){var u=o[s];l=u.offset+u.size}for(var h=s+1;h<=n;h++){var f=a(h);o[h]={offset:l,size:f},l+=f}r.lastMeasuredIndex=n}return o[n]},Ba=function(t,n,r){var e=n.itemMetadataMap,a=n.lastMeasuredIndex,o=a>0?e[a].offset:0;return o>=r?xr(t,n,a,0,r):Ua(t,n,Math.max(0,a),r)},xr=function(t,n,r,e,a){for(;e<=r;){var o=e+Math.floor((r-e)/2),s=ze(t,o,n).offset;if(s===a)return o;s<a?e=o+1:s>a&&(r=o-1)}return e>0?e-1:0},Ua=function(t,n,r,e){for(var a=t.itemCount,o=1;r<a&&ze(t,r,n).offset<e;)r+=o,o*=2;return xr(t,n,Math.min(r,a-1),Math.floor(r/2),e)},Sn=function(t,n){var r=t.itemCount,e=n.itemMetadataMap,a=n.estimatedItemSize,o=n.lastMeasuredIndex,s=0;if(o>=r&&(o=r-1),o>=0){var l=e[o];s=l.offset+l.size}var u=r-o-1,h=u*a;return s+h},Ka=Fa({getItemOffset:function(t,n,r){return ze(t,n,r).offset},getItemSize:function(t,n,r){return r.itemMetadataMap[n].size},getEstimatedTotalSize:Sn,getOffsetForIndexAndAlignment:function(t,n,r,e,a,o){var s=t.direction,l=t.height,u=t.layout,h=t.width,f=s==="horizontal"||u==="horizontal",p=f?h:l,w=ze(t,n,a),R=Sn(t,a),c=Math.max(0,Math.min(R-p,w.offset)),b=Math.max(0,w.offset-p+w.size+o);switch(r==="smart"&&(e>=b-p&&e<=c+p?r="auto":r="center"),r){case"start":return c;case"end":return b;case"center":return Math.round(b+(c-b)/2);case"auto":default:return e>=b&&e<=c?e:e<b?b:c}},getStartIndexForOffset:function(t,n,r){return Ba(t,r,n)},getStopIndexForStartIndex:function(t,n,r,e){for(var a=t.direction,o=t.height,s=t.itemCount,l=t.layout,u=t.width,h=a==="horizontal"||l==="horizontal",f=h?u:o,p=ze(t,n,e),w=r+f,R=p.offset+p.size,c=n;c<s-1&&R<w;)c++,R+=ze(t,c,e).size;return c},initInstanceProps:function(t,n){var r=t,e=r.estimatedItemSize,a={itemMetadataMap:{},estimatedItemSize:e||ja,lastMeasuredIndex:-1};return n.resetAfterIndex=function(o,s){s===void 0&&(s=!0),a.lastMeasuredIndex=Math.min(a.lastMeasuredIndex,o-1),n._getItemStyleCache(-1),s&&n.forceUpdate()},a},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(t){t.itemSize}}),$a=Sr({getColumnOffset:function(t,n){var r=t.columnWidth;return n*r},getColumnWidth:function(t,n){var r=t.columnWidth;return r},getRowOffset:function(t,n){var r=t.rowHeight;return n*r},getRowHeight:function(t,n){var r=t.rowHeight;return r},getEstimatedTotalHeight:function(t){var n=t.rowCount,r=t.rowHeight;return r*n},getEstimatedTotalWidth:function(t){var n=t.columnCount,r=t.columnWidth;return r*n},getOffsetForColumnAndAlignment:function(t,n,r,e,a,o){var s=t.columnCount,l=t.columnWidth,u=t.width,h=Math.max(0,s*l-u),f=Math.min(h,n*l),p=Math.max(0,n*l-u+o+l);switch(r==="smart"&&(e>=p-u&&e<=f+u?r="auto":r="center"),r){case"start":return f;case"end":return p;case"center":var w=Math.round(p+(f-p)/2);return w<Math.ceil(u/2)?0:w>h+Math.floor(u/2)?h:w;case"auto":default:return e>=p&&e<=f?e:p>f||e<p?p:f}},getOffsetForRowAndAlignment:function(t,n,r,e,a,o){var s=t.rowHeight,l=t.height,u=t.rowCount,h=Math.max(0,u*s-l),f=Math.min(h,n*s),p=Math.max(0,n*s-l+o+s);switch(r==="smart"&&(e>=p-l&&e<=f+l?r="auto":r="center"),r){case"start":return f;case"end":return p;case"center":var w=Math.round(p+(f-p)/2);return w<Math.ceil(l/2)?0:w>h+Math.floor(l/2)?h:w;case"auto":default:return e>=p&&e<=f?e:p>f||e<p?p:f}},getColumnStartIndexForOffset:function(t,n){var r=t.columnWidth,e=t.columnCount;return Math.max(0,Math.min(e-1,Math.floor(n/r)))},getColumnStopIndexForStartIndex:function(t,n,r){var e=t.columnWidth,a=t.columnCount,o=t.width,s=n*e,l=Math.ceil((o+r-s)/e);return Math.max(0,Math.min(a-1,n+l-1))},getRowStartIndexForOffset:function(t,n){var r=t.rowHeight,e=t.rowCount;return Math.max(0,Math.min(e-1,Math.floor(n/r)))},getRowStopIndexForStartIndex:function(t,n,r){var e=t.rowHeight,a=t.rowCount,o=t.height,s=n*e,l=Math.ceil((o+r-s)/e);return Math.max(0,Math.min(a-1,n+l-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.columnWidth,t.rowHeight}}),Ir=function(i){Te(t,i);function t(r){var e;return e=i.call(this,r)||this,e.renderHeaderRow=e.renderHeaderRow.bind(k(e)),e.renderFrozenRow=e.renderFrozenRow.bind(k(e)),e._setRef=e._setRef.bind(k(e)),e}var n=t.prototype;return n.scrollTo=function(e){var a=this;requestAnimationFrame(function(){a.headerRef&&(a.headerRef.scrollLeft=e)})},n.renderHeaderRow=function(e,a){var o=this.props,s=o.columns,l=o.headerRenderer;if(e<=0)return null;var u={width:"100%",height:e};return l({style:u,columns:s,headerIndex:a})},n.renderFrozenRow=function(e,a){var o=this.props,s=o.columns,l=o.rowHeight,u=o.rowRenderer,h={width:"100%",height:l},f=-a-1;return u({style:h,columns:s,rowData:e,rowIndex:f})},n.render=function(){var e=this.props,a=e.className,o=e.width,s=e.height,l=e.rowWidth,u=e.headerHeight,h=e.frozenData;if(s<=0)return null;var f={width:o,height:s,position:"relative",overflow:"hidden"},p={width:l,height:s},w=Array.isArray(u)?u:[u];return I.createElement("div",{role:"grid",ref:this._setRef,className:a,style:f},I.createElement("div",{role:"rowgroup",style:p},w.map(this.renderHeaderRow),h.map(this.renderFrozenRow)))},n._setRef=function(e){this.headerRef=e},t}(I.PureComponent);Ir.propTypes={className:d.string,width:d.number.isRequired,height:d.number.isRequired,headerHeight:d.oneOfType([d.number,d.arrayOf(d.number)]).isRequired,rowWidth:d.number.isRequired,rowHeight:d.number.isRequired,columns:d.arrayOf(d.object).isRequired,data:d.array.isRequired,frozenData:d.array,headerRenderer:d.func.isRequired,rowRenderer:d.func.isRequired};function Rn(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})),n.push.apply(n,r)}return n}function Cn(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rn(Object(n),!0).forEach(function(r){He(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}function Re(i,t){return I.isValidElement(i)?t?I.cloneElement(i,t):i:typeof i=="function"?I.createElement(i,t):null}function Ga(i){var t=[];return I.Children.forEach(i,function(n){if(I.isValidElement(n)&&n.key){var r=Cn(Cn({},n.props),{},{key:n.key});t.push(r)}}),t}function Er(i,t,n){if(n===void 0&&(n=!0),i===t||i===null&&t===null)return!0;if(i===null||t===null||typeof i!="object"||typeof t!="object")return!1;var r=Object.keys(i),e=Object.keys(t);if(r.length!==e.length)return!1;for(var a=0;a<r.length;a++){var o=r[a];if(!(o==="_owner"&&i.$$typeof)){var s=i[o],l=t[o],u=typeof s;if(u!==typeof l)return!1;if(!(u==="function"&&n)){if(u==="object"){if(Er(s,l,n))continue;return!1}if(s!==l)return!1}}}return!0}function se(i){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return typeof i=="function"?i.apply(void 0,n):i}function Qa(i){return Array.isArray(i.children)&&i.children.length>0}function Ya(i,t,n,r){if(n===void 0&&(n={}),r===void 0&&(r="id"),!t||!t.length)return i;var e=[],a=new Set;t.forEach(function(l){return a.add(l)});var o=[].concat(i);o.forEach(function(l){return n[l[r]]=0});for(var s=function(){var u=o.shift();e.push(u),a.has(u[r])&&Array.isArray(u.children)&&u.children.length>0&&(o=[].concat(u.children,o),u.children.forEach(function(h){return n[h[r]]=n[u[r]]+1}))};o.length>0;)s();return e}function pt(i){return Array.isArray(i)?[].concat(i):[]}function Z(){}function Xa(i){return typeof i=="string"?i:i==null?"":i.toString?i.toString():""}function Ja(i){for(var t=i.split("."),n=[],r=0;r<t.length;r++){for(var e=t[r];e[e.length-1]==="\\"&&t[r+1]!==void 0;)e=e.slice(0,-1)+".",e+=t[++r];n.push(e)}return n}function Za(i,t,n){if(i===null||typeof i!="object"||typeof t!="string")return n;for(var r=Ja(t),e=0;e<r.length;e++){if(!Object.prototype.propertyIsEnumerable.call(i,r[e]))return n;if(i=i[r[e]],i==null){if(e!==r.length-1)return n;break}}return i}var eo=function(t,n){n===void 0&&(n=0);var r;return function(){for(var e=this,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];clearTimeout(r),r=setTimeout(function(){return t.apply(e,o)},n)}},to=function(t,n){var r,e,a;return function(){var o=this,s=arguments;r?(clearTimeout(e),e=setTimeout(function(){Date.now()-a>=n&&(t.apply(o,s),a=Date.now())},Math.max(n-(Date.now()-a),0))):(t.apply(o,s),a=Date.now(),r=!0)}},Ke;function no(i){if((!Ke&&Ke!==0||i)&&typeof window<"u"&&window.document&&window.document.createElement){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Ke=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Ke}function ro(i,t){i.classList?i.classList.add(t):i.className.match(new RegExp("(?:^|\\s)"+t+"(?!\\S)"))||(i.className+=" "+t)}function io(i,t){i.classList?i.classList.remove(t):i.className=i.className.replace(new RegExp("(?:^|\\s)"+t+"(?!\\S)","g"),"")}function zr(i,t){return typeof t=="function"?i.reduce(function(n,r,e){return n+t({rowData:r,rowIndex:e})},0):i.length*t}var ao=["containerStyle","classPrefix","className","data","frozenData","width","height","rowHeight","estimatedRowHeight","getRowHeight","headerWidth","bodyWidth","useIsScrolling","onScroll","hoveredRowKey","overscanRowCount","style","onScrollbarPresenceChange"];function Tn(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})),n.push.apply(n,r)}return n}function xn(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tn(Object(n),!0).forEach(function(r){He(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):Tn(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var Ge=function(i){Te(t,i);function t(r){var e;return e=i.call(this,r)||this,e._setHeaderRef=e._setHeaderRef.bind(k(e)),e._setBodyRef=e._setBodyRef.bind(k(e)),e._setInnerRef=e._setInnerRef.bind(k(e)),e._itemKey=e._itemKey.bind(k(e)),e._getBodyWidth=e._getBodyWidth.bind(k(e)),e._handleItemsRendered=e._handleItemsRendered.bind(k(e)),e._resetColumnWidthCache=we(function(a){e.props.estimatedRowHeight&&e.bodyRef&&e.bodyRef.resetAfterColumnIndex(0,!1)}),e._getEstimatedTotalRowsHeight=we(zr),e.renderRow=e.renderRow.bind(k(e)),e}var n=t.prototype;return n.resetAfterRowIndex=function(e,a){e===void 0&&(e=0),this.props.estimatedRowHeight&&this.bodyRef&&this.bodyRef.resetAfterRowIndex(e,a)},n.forceUpdateTable=function(){this.headerRef&&this.headerRef.forceUpdate(),this.bodyRef&&this.bodyRef.forceUpdate()},n.scrollToPosition=function(e){this.headerRef&&this.headerRef.scrollTo(e.scrollLeft),this.bodyRef&&this.bodyRef.scrollTo(e)},n.scrollToTop=function(e){this.bodyRef&&this.bodyRef.scrollTo({scrollTop:e})},n.scrollToLeft=function(e){this.headerRef&&this.headerRef.scrollTo(e),this.bodyRef&&this.bodyRef.scrollToPosition({scrollLeft:e})},n.scrollToRow=function(e,a){e===void 0&&(e=0),a===void 0&&(a="auto"),this.bodyRef&&this.bodyRef.scrollToItem({rowIndex:e,align:a})},n.getTotalRowsHeight=function(){var e=this.props,a=e.data,o=e.rowHeight,s=e.estimatedRowHeight;return s?this.innerRef&&this.innerRef.clientHeight||this._getEstimatedTotalRowsHeight(a,s):a.length*o},n.renderRow=function(e){var a=this.props,o=a.data,s=a.columns,l=a.rowRenderer,u=o[e.rowIndex];return l(xn(xn({},e),{},{columns:s,rowData:u}))},n.render=function(){var e=this.props,a=e.containerStyle,o=e.classPrefix,s=e.className,l=e.data,u=e.frozenData,h=e.width,f=e.height,p=e.rowHeight,w=e.estimatedRowHeight,R=e.getRowHeight,c=e.headerWidth,b=e.bodyWidth,v=e.useIsScrolling,C=e.onScroll,S=e.hoveredRowKey,T=e.overscanRowCount;e.style,e.onScrollbarPresenceChange;var m=ie(e,ao),y=this._getHeaderHeight(),_=u.length,x=p*_,D=ce(o+"__table",s),N=a?{style:a}:null,M=w?La:$a;return this._resetColumnWidthCache(b),I.createElement("div",J({role:"table",className:D},N),I.createElement(M,J({},m,{className:o+"__body",ref:this._setBodyRef,innerRef:this._setInnerRef,itemKey:this._itemKey,data:l,frozenData:u,width:h,height:Math.max(f-y-x,0),rowHeight:w?R:p,estimatedRowHeight:typeof w=="function"?void 0:w,rowCount:l.length,overscanRowCount:T,columnWidth:w?this._getBodyWidth:b,columnCount:1,overscanColumnCount:0,useIsScrolling:v,hoveredRowKey:S,onScroll:C,onItemsRendered:this._handleItemsRendered}),this.renderRow),y+x>0&&I.createElement(Ir,J({},m,{className:o+"__header",ref:this._setHeaderRef,data:l,frozenData:u,width:h,height:Math.min(y+x,f),rowWidth:c,rowHeight:p,headerHeight:this.props.headerHeight,headerRenderer:this.props.headerRenderer,rowRenderer:this.props.rowRenderer,hoveredRowKey:_>0?S:null})))},n._setHeaderRef=function(e){this.headerRef=e},n._setBodyRef=function(e){this.bodyRef=e},n._setInnerRef=function(e){this.innerRef=e},n._itemKey=function(e){var a=e.rowIndex,o=this.props,s=o.data,l=o.rowKey;return s[a][l]},n._getHeaderHeight=function(){var e=this.props.headerHeight;return Array.isArray(e)?e.reduce(function(a,o){return a+o},0):e},n._getBodyWidth=function(){return this.props.bodyWidth},n._handleItemsRendered=function(e){var a=e.overscanRowStartIndex,o=e.overscanRowStopIndex,s=e.visibleRowStartIndex,l=e.visibleRowStopIndex;this.props.onRowsRendered({overscanStartIndex:a,overscanStopIndex:o,startIndex:s,stopIndex:l})},t}(I.PureComponent);Ge.propTypes={containerStyle:d.object,classPrefix:d.string,className:d.string,width:d.number.isRequired,height:d.number.isRequired,headerHeight:d.oneOfType([d.number,d.arrayOf(d.number)]).isRequired,headerWidth:d.number.isRequired,bodyWidth:d.number.isRequired,rowHeight:d.number.isRequired,estimatedRowHeight:d.oneOfType([d.func,d.number]),getRowHeight:d.func,columns:d.arrayOf(d.object).isRequired,data:d.array.isRequired,frozenData:d.array,rowKey:d.oneOfType([d.string,d.number]).isRequired,useIsScrolling:d.bool,overscanRowCount:d.number,hoveredRowKey:d.oneOfType([d.string,d.number]),style:d.object,onScrollbarPresenceChange:d.func,onScroll:d.func,onRowsRendered:d.func,headerRenderer:d.func.isRequired,rowRenderer:d.func.isRequired};var oo=["className","style","columns","headerIndex","cellRenderer","headerRenderer","expandColumnKey","expandIcon","tagName"],Zt=function(t){var n=t.className,r=t.style,e=t.columns,a=t.headerIndex,o=t.cellRenderer,s=t.headerRenderer,l=t.expandColumnKey,u=t.expandIcon,h=t.tagName,f=ie(t,oo),p=e.map(function(w,R){return o({columns:e,column:w,columnIndex:R,headerIndex:a,expandIcon:w.key===l&&I.createElement(u,null)})});return s&&(p=Re(s,{cells:p,columns:e,headerIndex:a})),I.createElement(h,J({},f,{className:n,style:r}),p)};Zt.defaultProps={tagName:"div"};Zt.propTypes={isScrolling:d.bool,className:d.string,style:d.object,columns:d.arrayOf(d.object).isRequired,headerIndex:d.number,cellRenderer:d.func,headerRenderer:d.oneOfType([d.func,d.element]),expandColumnKey:d.string,expandIcon:d.func,tagName:d.elementType};var so=["isScrolling","className","style","columns","rowIndex","rowData","expandColumnKey","depth","rowEventHandlers","estimatedRowHeight","rowRenderer","cellRenderer","expandIconRenderer","tagName","rowKey","getIsResetting","onRowHover","onRowExpand","onRowHeightChange"],lo=["height"],en=function(i){Te(t,i);function t(r){var e;return e=i.call(this,r)||this,e.state={measured:!1},e._setRef=e._setRef.bind(k(e)),e._handleExpand=e._handleExpand.bind(k(e)),e}var n=t.prototype;return n.componentDidMount=function(){this.props.estimatedRowHeight&&this.props.rowIndex>=0&&this._measureHeight(!0)},n.componentDidUpdate=function(e,a){var o=this;this.props.estimatedRowHeight&&this.props.rowIndex>=0&&!this.props.getIsResetting()&&this.state.measured&&a.measured&&this.setState({measured:!1},function(){return o._measureHeight()})},n.render=function(){var e=this.props,a=e.isScrolling,o=e.className,s=e.style,l=e.columns,u=e.rowIndex,h=e.rowData,f=e.expandColumnKey,p=e.depth,w=e.rowEventHandlers,R=e.estimatedRowHeight,c=e.rowRenderer,b=e.cellRenderer,v=e.expandIconRenderer,C=e.tagName;e.rowKey,e.getIsResetting,e.onRowHover,e.onRowExpand,e.onRowHeightChange;var S=ie(e,so),T=v({rowData:h,rowIndex:u,depth:p,onExpand:this._handleExpand}),m=l.map(function(x,D){return b({isScrolling:a,columns:l,column:x,columnIndex:D,rowData:h,rowIndex:u,expandIcon:x.key===f&&T})});c&&(m=Re(c,{isScrolling:a,cells:m,columns:l,rowData:h,rowIndex:u,depth:p}));var y=this._getEventHandlers(w);if(R&&u>=0){s.height;var _=ie(s,lo);return I.createElement(C,J({},S,{ref:this._setRef,className:o,style:this.state.measured?s:_},this.state.measured&&y),m)}return I.createElement(C,J({},S,{className:o,style:s},y),m)},n._setRef=function(e){this.ref=e},n._handleExpand=function(e){var a=this.props,o=a.onRowExpand,s=a.rowData,l=a.rowIndex,u=a.rowKey;o&&o({expanded:e,rowData:s,rowIndex:l,rowKey:u})},n._measureHeight=function(e){if(this.ref){var a=this.props,o=a.style,s=a.rowKey,l=a.onRowHeightChange,u=a.rowIndex,h=a.columns,f=this.ref.getBoundingClientRect().height;this.setState({measured:!0},function(){(e||f!==o.height)&&l(s,f,u,h[0]&&!h[0].__placeholder__&&h[0].frozen)})}},n._getEventHandlers=function(e){e===void 0&&(e={});var a=this.props,o=a.rowData,s=a.rowIndex,l=a.rowKey,u=a.onRowHover,h={};if(Object.keys(e).forEach(function(w){var R=e[w];typeof R=="function"&&(h[w]=function(c){R({rowData:o,rowIndex:s,rowKey:l,event:c})})}),u){var f=h.onMouseEnter;h.onMouseEnter=function(w){u({hovered:!0,rowData:o,rowIndex:s,rowKey:l,event:w}),f&&f(w)};var p=h.onMouseLeave;h.onMouseLeave=function(w){u({hovered:!1,rowData:o,rowIndex:s,rowKey:l,event:w}),p&&p(w)}}return h},t}(I.PureComponent);en.defaultProps={tagName:"div"};en.propTypes={isScrolling:d.bool,className:d.string,style:d.object,columns:d.arrayOf(d.object).isRequired,rowData:d.object.isRequired,rowIndex:d.number.isRequired,rowKey:d.oneOfType([d.string,d.number]),expandColumnKey:d.string,depth:d.number,rowEventHandlers:d.object,rowRenderer:d.oneOfType([d.func,d.element]),cellRenderer:d.func,expandIconRenderer:d.func,estimatedRowHeight:d.oneOfType([d.number,d.func]),getIsResetting:d.func,onRowHover:d.func,onRowExpand:d.func,onRowHeightChange:d.func,tagName:d.elementType};var Dr=function(t){var n=t.className,r=t.column;return t.columnIndex,I.createElement("div",{className:n},r.title)};Dr.propTypes={className:d.string,column:d.object,columnIndex:d.number};var Nr=function(t){var n=t.className,r=t.cellData;return t.column,t.columnIndex,t.rowData,t.rowIndex,I.createElement("div",{className:n},I.isValidElement(r)?r:Xa(r))};Nr.propTypes={className:d.string,cellData:d.any,column:d.object,columnIndex:d.number,rowData:d.object,rowIndex:d.number};var Ve={LEFT:"left",CENTER:"center",RIGHT:"right"},Ce={LEFT:"left",RIGHT:"right",DEFAULT:!0,NONE:!1},X=function(i){Te(t,i);function t(){return i.apply(this,arguments)||this}return t}(I.Component);X.propTypes={className:d.oneOfType([d.string,d.func]),headerClassName:d.oneOfType([d.string,d.func]),style:d.object,title:d.node,dataKey:d.string,dataGetter:d.func,align:d.oneOf(["left","center","right"]),flexGrow:d.number,flexShrink:d.number,width:d.number.isRequired,maxWidth:d.number,minWidth:d.number,frozen:d.oneOf(["left","right",!0,!1]),hidden:d.bool,resizable:d.bool,sortable:d.bool,cellRenderer:d.oneOfType([d.func,d.element]),headerRenderer:d.oneOfType([d.func,d.element])};X.Alignment=Ve;X.FrozenDirection=Ce;var G={ASC:"asc",DESC:"desc"},uo=["expandable","expanded","indentSize","depth","onExpand"],tn=function(i){Te(t,i);function t(r){var e;return e=i.call(this,r)||this,e._handleClick=e._handleClick.bind(k(e)),e}var n=t.prototype;return n.render=function(){var e=this.props,a=e.expandable,o=e.expanded,s=e.indentSize,l=e.depth,u=e.onExpand,h=ie(e,uo);if(!a&&s===0)return null;var f=ce("BaseTable__expand-icon",{"BaseTable__expand-icon--expanded":o});return I.createElement("div",J({},h,{className:f,onClick:a&&u?this._handleClick:null,style:{fontFamily:"initial",cursor:"pointer",userSelect:"none",width:"16px",minWidth:"16px",height:"16px",lineHeight:"16px",fontSize:"16px",textAlign:"center",transition:"transform 0.15s ease-out",transform:"rotate("+(a&&o?90:0)+"deg)",marginLeft:l*s}}),a&&"")},n._handleClick=function(e){e.stopPropagation(),e.preventDefault();var a=this.props,o=a.onExpand,s=a.expanded;o(!s)},t}(I.PureComponent);tn.defaultProps={depth:0,indentSize:16};tn.propTypes={expandable:d.bool,expanded:d.bool,indentSize:d.number,depth:d.number,onExpand:d.func};function In(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})),n.push.apply(n,r)}return n}function co(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?In(Object(n),!0).forEach(function(r){He(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var Or=function(t){var n=t.sortOrder,r=t.className,e=t.style,a=ce("BaseTable__sort-indicator",r,{"BaseTable__sort-indicator--descending":n===G.DESC});return I.createElement("div",{className:a,style:co({userSelect:"none",width:"16px",height:"16px",lineHeight:"16px",textAlign:"center"},e)},n===G.DESC?"":"")};Or.propTypes={sortOrder:d.oneOf([G.ASC,G.DESC]),className:d.string,style:d.object};var ho=["style","column","onResizeStart","onResize","onResizeStop","minWidth"];function En(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})),n.push.apply(n,r)}return n}function po(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?En(Object(n),!0).forEach(function(r){He(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var ft=null;function fo(i){if(i){var t=i.getElementById("react-draggable-style-el");t||(t=i.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,i.getElementsByTagName("head")[0].appendChild(t)),i.body&&ro(i.body,"react-draggable-transparent-selection")}}function zn(i){if(i)try{if(i.body&&io(i.body,"react-draggable-transparent-selection"),i.selection)i.selection.empty();else{var t=(i.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}var le={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},ve=le.mouse,nn=function(i){Te(t,i);function t(r){var e;return e=i.call(this,r)||this,e.isDragging=!1,e.lastX=ft,e.width=0,e._setHandleRef=e._setHandleRef.bind(k(e)),e._handleClick=e._handleClick.bind(k(e)),e._handleMouseDown=e._handleMouseDown.bind(k(e)),e._handleMouseUp=e._handleMouseUp.bind(k(e)),e._handleTouchStart=e._handleTouchStart.bind(k(e)),e._handleTouchEnd=e._handleTouchEnd.bind(k(e)),e._handleDragStart=e._handleDragStart.bind(k(e)),e._handleDragStop=e._handleDragStop.bind(k(e)),e._handleDrag=e._handleDrag.bind(k(e)),e}var n=t.prototype;return n.componentWillUnmount=function(){if(this.handleRef){var e=this.handleRef.ownerDocument;e.removeEventListener(le.mouse.move,this._handleDrag),e.removeEventListener(le.mouse.stop,this._handleDragStop),e.removeEventListener(le.touch.move,this._handleDrag),e.removeEventListener(le.touch.stop,this._handleDragStop),zn(e)}},n.render=function(){var e=this.props,a=e.style;e.column,e.onResizeStart,e.onResize,e.onResizeStop,e.minWidth;var o=ie(e,ho);return I.createElement("div",J({},o,{ref:this._setHandleRef,onClick:this._handleClick,onMouseDown:this._handleMouseDown,onMouseUp:this._handleMouseUp,onTouchStart:this._handleTouchStart,onTouchEnd:this._handleTouchEnd,style:po({userSelect:"none",touchAction:"none",position:"absolute",top:0,bottom:0,right:0,cursor:"col-resize"},a)}))},n._setHandleRef=function(e){this.handleRef=e},n._handleClick=function(e){e.stopPropagation()},n._handleMouseDown=function(e){ve=le.mouse,this._handleDragStart(e)},n._handleMouseUp=function(e){ve=le.mouse,this._handleDragStop(e)},n._handleTouchStart=function(e){ve=le.touch,this._handleDragStart(e)},n._handleTouchEnd=function(e){ve=le.touch,this._handleDragStop(e)},n._handleDragStart=function(e){if(!(typeof e.button=="number"&&e.button!==0)){this.isDragging=!0,this.lastX=ft,this.width=this.props.column.width,this.props.onResizeStart(this.props.column);var a=this.handleRef.ownerDocument;fo(a),a.addEventListener(ve.move,this._handleDrag),a.addEventListener(ve.stop,this._handleDragStop)}},n._handleDragStop=function(e){if(this.isDragging){this.isDragging=!1,this.props.onResizeStop(this.props.column);var a=this.handleRef.ownerDocument;zn(a),a.removeEventListener(ve.move,this._handleDrag),a.removeEventListener(ve.stop,this._handleDragStop)}},n._handleDrag=function(e){var a=e.clientX;e.type===le.touch.move&&(e.preventDefault(),e.targetTouches&&e.targetTouches[0]&&(a=e.targetTouches[0].clientX));var o=this.handleRef.offsetParent,s=o.getBoundingClientRect(),l=a+o.scrollLeft-s.left;if(this.lastX===ft){this.lastX=l;return}var u=this.props,h=u.column,f=u.minWidth,p=h.width,w=h.maxWidth,R=h.minWidth,c=R===void 0?f:R,b=l-this.lastX;if(b){this.width=this.width+b,this.lastX=l;var v=this.width;w&&v>w?v=w:v<c&&(v=c),v!==p&&this.props.onResize(h,v)}},t}(I.PureComponent);nn.defaultProps={onResizeStart:Z,onResize:Z,onResizeStop:Z,minWidth:30};nn.propTypes={style:d.object,column:d.object,onResizeStart:d.func,onResize:d.func,onResizeStop:d.func,minWidth:d.number};function Dn(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})),n.push.apply(n,r)}return n}function ye(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dn(Object(n),!0).forEach(function(r){He(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var Le=function(){function i(n,r){this._origColumns=[],this.reset(n,r)}var t=i.prototype;return t._cache=function(r,e){return r in this._cached?this._cached[r]:(this._cached[r]=e(),this._cached[r])},t.reset=function(r,e){var a=this;this._columns=r.map(function(o){var s=o.width;if(o.resizable){var l=a._origColumns.findIndex(function(u){return u.key===o.key});l>=0&&a._origColumns[l].width===o.width&&(s=a._columns[l].width)}return ye(ye({},o),{},{width:s})}),this._origColumns=r,this._fixed=e,this._cached={},this._columnStyles=this.recomputeColumnStyles()},t.resetCache=function(){this._cached={}},t.getOriginalColumns=function(){return this._origColumns},t.getColumns=function(){return this._columns},t.getVisibleColumns=function(){var r=this;return this._cache("visibleColumns",function(){return r._columns.filter(function(e){return!e.hidden})})},t.hasFrozenColumns=function(){var r=this;return this._cache("hasFrozenColumns",function(){return r._fixed&&r.getVisibleColumns().some(function(e){return!!e.frozen})})},t.hasLeftFrozenColumns=function(){var r=this;return this._cache("hasLeftFrozenColumns",function(){return r._fixed&&r.getVisibleColumns().some(function(e){return e.frozen===Ce.LEFT||e.frozen===!0})})},t.hasRightFrozenColumns=function(){var r=this;return this._cache("hasRightFrozenColumns",function(){return r._fixed&&r.getVisibleColumns().some(function(e){return e.frozen===Ce.RIGHT})})},t.getMainColumns=function(){var r=this;return this._cache("mainColumns",function(){var e=r.getVisibleColumns();if(!r.hasFrozenColumns())return e;var a=[];return r.getLeftFrozenColumns().forEach(function(o){var s;a.push(ye(ye({},o),{},(s={},s[i.PlaceholderKey]=!0,s)))}),r.getVisibleColumns().forEach(function(o){o.frozen||a.push(o)}),r.getRightFrozenColumns().forEach(function(o){var s;a.push(ye(ye({},o),{},(s={},s[i.PlaceholderKey]=!0,s)))}),a})},t.getLeftFrozenColumns=function(){var r=this;return this._cache("leftFrozenColumns",function(){return r._fixed?r.getVisibleColumns().filter(function(e){return e.frozen===Ce.LEFT||e.frozen===!0}):[]})},t.getRightFrozenColumns=function(){var r=this;return this._cache("rightFrozenColumns",function(){return r._fixed?r.getVisibleColumns().filter(function(e){return e.frozen===Ce.RIGHT}):[]})},t.getColumn=function(r){var e=this._columns.findIndex(function(a){return a.key===r});return this._columns[e]},t.getColumnsWidth=function(){var r=this;return this._cache("columnsWidth",function(){return r.recomputeColumnsWidth(r.getVisibleColumns())})},t.getLeftFrozenColumnsWidth=function(){var r=this;return this._cache("leftFrozenColumnsWidth",function(){return r.recomputeColumnsWidth(r.getLeftFrozenColumns())})},t.getRightFrozenColumnsWidth=function(){var r=this;return this._cache("rightFrozenColumnsWidth",function(){return r.recomputeColumnsWidth(r.getRightFrozenColumns())})},t.recomputeColumnsWidth=function(r){return r.reduce(function(e,a){return e+a.width},0)},t.setColumnWidth=function(r,e){var a=this.getColumn(r);a.width=e,this._cached={},this._columnStyles[a.key]=this.recomputeColumnStyle(a)},t.getColumnStyle=function(r){return this._columnStyles[r]},t.getColumnStyles=function(){return this._columnStyles},t.recomputeColumnStyle=function(r){var e=0,a=0;this._fixed||(e=typeof r.flexGrow=="number"?r.flexGrow:0,a=typeof r.flexShrink=="number"?r.flexShrink:1);var o=e+" "+a+" auto",s=ye(ye({},r.style),{},{flex:o,msFlex:o,WebkitFlex:o,width:r.width,overflow:"hidden"});return!this._fixed&&r.maxWidth&&(s.maxWidth=r.maxWidth),!this._fixed&&r.minWidth&&(s.minWidth=r.minWidth),s},t.recomputeColumnStyles=function(){var r=this;return this._columns.reduce(function(e,a){return e[a.key]=r.recomputeColumnStyle(a),e},{})},i}();Le.PlaceholderKey="__placeholder__";var mo=["tagName"],go=["tagName"],vo=["width","headerHeight","rowHeight","fixed","estimatedRowHeight"],yo=["width","headerHeight","rowHeight","estimatedRowHeight"],bo=["width","headerHeight","rowHeight","estimatedRowHeight"];function Nn(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})),n.push.apply(n,r)}return n}function be(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nn(Object(n),!0).forEach(function(r){He(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var On=we(function(i,t){return i||Ga(t)}),Mn=function(t,n,r){return{width:t,maxWidth:n,height:r,overflow:"hidden"}},wo={TableCell:Nr,TableHeaderCell:Dr,ExpandIcon:tn,SortIndicator:Or},_o=50,So=[],We=function(i){Te(t,i);function t(r){var e;e=i.call(this,r)||this;var a=r.columns,o=r.children,s=r.defaultExpandedRowKeys;return e.state={scrollbarSize:0,hoveredRowKey:null,resizingKey:null,resizingWidth:0,expandedRowKeys:pt(s)},e.columnManager=new Le(On(a,o),r.fixed),e._setContainerRef=e._setContainerRef.bind(k(e)),e._setMainTableRef=e._setMainTableRef.bind(k(e)),e._setLeftTableRef=e._setLeftTableRef.bind(k(e)),e._setRightTableRef=e._setRightTableRef.bind(k(e)),e.renderExpandIcon=e.renderExpandIcon.bind(k(e)),e.renderRow=e.renderRow.bind(k(e)),e.renderRowCell=e.renderRowCell.bind(k(e)),e.renderHeader=e.renderHeader.bind(k(e)),e.renderHeaderCell=e.renderHeaderCell.bind(k(e)),e._handleScroll=e._handleScroll.bind(k(e)),e._handleVerticalScroll=e._handleVerticalScroll.bind(k(e)),e._handleRowsRendered=e._handleRowsRendered.bind(k(e)),e._handleRowHover=e._handleRowHover.bind(k(e)),e._handleRowExpand=e._handleRowExpand.bind(k(e)),e._handleColumnResize=to(e._handleColumnResize.bind(k(e)),_o),e._handleColumnResizeStart=e._handleColumnResizeStart.bind(k(e)),e._handleColumnResizeStop=e._handleColumnResizeStop.bind(k(e)),e._handleColumnSort=e._handleColumnSort.bind(k(e)),e._handleFrozenRowHeightChange=e._handleFrozenRowHeightChange.bind(k(e)),e._handleRowHeightChange=e._handleRowHeightChange.bind(k(e)),e._getLeftTableContainerStyle=we(Mn),e._getRightTableContainerStyle=we(Mn),e._flattenOnKeys=we(function(l,u,h){return e._depthMap={},Ya(l,u,e._depthMap,h)}),e._resetColumnManager=we(function(l,u){e.columnManager.reset(l,u),e.props.estimatedRowHeight&&u&&(e.columnManager.hasLeftFrozenColumns()||(e._leftRowHeightMap={}),e.columnManager.hasRightFrozenColumns()||(e._rightRowHeightMap={}))},function(l,u){return Er(l,u,e.props.ignoreFunctionInColumnCompare)}),e._isResetting=!1,e._resetIndex=null,e._rowHeightMap={},e._rowHeightMapBuffer={},e._mainRowHeightMap={},e._leftRowHeightMap={},e._rightRowHeightMap={},e._getEstimatedTotalRowsHeight=we(zr),e._getRowHeight=e._getRowHeight.bind(k(e)),e._updateRowHeights=eo(function(){e._isResetting=!0,e._rowHeightMap=be(be({},e._rowHeightMap),e._rowHeightMapBuffer),e.resetAfterRowIndex(e._resetIndex,!1),e._rowHeightMapBuffer={},e._resetIndex=null,e.forceUpdateTable(),e.forceUpdate(),e._isResetting=!1},0),e._scroll={scrollLeft:0,scrollTop:0},e._scrollHeight=0,e._lastScannedRowIndex=-1,e._hasDataChangedSinceEndReached=!0,e._data=r.data,e._depthMap={},e._horizontalScrollbarSize=0,e._verticalScrollbarSize=0,e._scrollbarPresenceChanged=!1,e}var n=t.prototype;return n.getDOMNode=function(){return this.tableNode},n.getColumnManager=function(){return this.columnManager},n.getExpandedRowKeys=function(){var e=this.props.expandedRowKeys;return e!==void 0?e||So:this.state.expandedRowKeys},n.getExpandedState=function(){return{expandedData:this._data,expandedRowKeys:this.getExpandedRowKeys(),expandedDepthMap:this._depthMap}},n.getTotalRowsHeight=function(){var e=this.props,a=e.rowHeight,o=e.estimatedRowHeight;return o?this.table?this.table.getTotalRowsHeight():this._getEstimatedTotalRowsHeight(this._data,o):this._data.length*a},n.getTotalColumnsWidth=function(){return this.columnManager.getColumnsWidth()},n.forceUpdateTable=function(){this.table&&this.table.forceUpdateTable(),this.leftTable&&this.leftTable.forceUpdateTable(),this.rightTable&&this.rightTable.forceUpdateTable()},n.resetAfterRowIndex=function(e,a){e===void 0&&(e=0),a===void 0&&(a=!0),this.props.estimatedRowHeight&&(this.table&&this.table.resetAfterRowIndex(e,a),this.leftTable&&this.leftTable.resetAfterRowIndex(e,a),this.rightTable&&this.rightTable.resetAfterRowIndex(e,a))},n.resetRowHeightCache=function(){this.props.estimatedRowHeight&&(this._resetIndex=null,this._rowHeightMapBuffer={},this._rowHeightMap={},this._mainRowHeightMap={},this._leftRowHeightMap={},this._rightRowHeightMap={})},n.scrollToPosition=function(e){this._scroll=e,this.table&&this.table.scrollToPosition(e),this.leftTable&&this.leftTable.scrollToTop(e.scrollTop),this.rightTable&&this.rightTable.scrollToTop(e.scrollTop)},n.scrollToTop=function(e){this._scroll.scrollTop=e,this.table&&this.table.scrollToPosition(this._scroll),this.leftTable&&this.leftTable.scrollToTop(e),this.rightTable&&this.rightTable.scrollToTop(e)},n.scrollToLeft=function(e){this._scroll.scrollLeft=e,this.table&&this.table.scrollToPosition(this._scroll)},n.scrollToRow=function(e,a){e===void 0&&(e=0),a===void 0&&(a="auto"),this.table&&this.table.scrollToRow(e,a),this.leftTable&&this.leftTable.scrollToRow(e,a),this.rightTable&&this.rightTable.scrollToRow(e,a)},n.setExpandedRowKeys=function(e){this.props.expandedRowKeys===void 0&&this.setState({expandedRowKeys:pt(e)})},n.renderExpandIcon=function(e){var a=e.rowData,o=e.rowIndex,s=e.depth,l=e.onExpand,u=this.props,h=u.rowKey,f=u.expandColumnKey,p=u.expandIconProps;if(!f)return null;var w=o>=0&&Qa(a),R=o>=0&&this.getExpandedRowKeys().indexOf(a[h])>=0,c=se(p,{rowData:a,rowIndex:o,depth:s,expandable:w,expanded:R}),b=this._getComponent("ExpandIcon");return I.createElement(b,J({depth:s,expandable:w,expanded:R},c,{onExpand:l}))},n.renderRow=function(e){var a,o=e.isScrolling,s=e.columns,l=e.rowData,u=e.rowIndex,h=e.style,f=this.props,p=f.rowClassName,w=f.rowRenderer,R=f.rowEventHandlers,c=f.expandColumnKey,b=f.estimatedRowHeight,v=se(p,{columns:s,rowData:l,rowIndex:u}),C=se(this.props.rowProps,{columns:s,rowData:l,rowIndex:u}),S=l[this.props.rowKey],T=this._depthMap[S]||0,m=ce(this._prefixClass("row"),v,(a={},a[this._prefixClass("row--depth-"+T)]=!!c&&u>=0,a[this._prefixClass("row--expanded")]=!!c&&this.getExpandedRowKeys().indexOf(S)>=0,a[this._prefixClass("row--hovered")]=!o&&S===this.state.hoveredRowKey,a[this._prefixClass("row--frozen")]=T===0&&u<0,a[this._prefixClass("row--customized")]=w,a)),y=this.columnManager.hasFrozenColumns(),_=be(be({},C),{},{role:"row",key:"row-"+S,isScrolling:o,className:m,style:h,columns:s,rowIndex:u,rowData:l,rowKey:S,expandColumnKey:c,depth:T,rowEventHandlers:R,rowRenderer:w,estimatedRowHeight:u>=0?b:void 0,getIsResetting:this._getIsResetting,cellRenderer:this.renderRowCell,expandIconRenderer:this.renderExpandIcon,onRowExpand:this._handleRowExpand,onRowHover:y?this._handleRowHover:null,onRowHeightChange:y?this._handleFrozenRowHeightChange:this._handleRowHeightChange});return I.createElement(en,_)},n.renderRowCell=function(e){var a,o=e.isScrolling,s=e.columns,l=e.column,u=e.columnIndex,h=e.rowData,f=e.rowIndex,p=e.expandIcon;if(l[Le.PlaceholderKey])return I.createElement("div",{key:"row-"+h[this.props.rowKey]+"-cell-"+l.key+"-placeholder",className:this._prefixClass("row-cell-placeholder"),style:this.columnManager.getColumnStyle(l.key)});var w=l.className,R=l.dataKey,c=l.dataGetter,b=l.cellRenderer,v=this._getComponent("TableCell"),C=c?c({columns:s,column:l,columnIndex:u,rowData:h,rowIndex:f}):Za(h,R),S={isScrolling:o,cellData:C,columns:s,column:l,columnIndex:u,rowData:h,rowIndex:f,container:this},T=Re(b||I.createElement(v,{className:this._prefixClass("row-cell-text")}),S),m=se(w,{cellData:C,columns:s,column:l,columnIndex:u,rowData:h,rowIndex:f}),y=ce(this._prefixClass("row-cell"),m,(a={},a[this._prefixClass("row-cell--align-center")]=l.align===Ve.CENTER,a[this._prefixClass("row-cell--align-right")]=l.align===Ve.RIGHT,a)),_=se(this.props.cellProps,{columns:s,column:l,columnIndex:u,rowData:h,rowIndex:f}),x=_||{},D=x.tagName,N=ie(x,mo),M=D||"div";return I.createElement(M,J({role:"gridcell",key:"row-"+h[this.props.rowKey]+"-cell-"+l.key},N,{className:y,style:this.columnManager.getColumnStyle(l.key)}),p,T)},n.renderHeader=function(e){var a,o=e.columns,s=e.headerIndex,l=e.style,u=this.props,h=u.headerClassName,f=u.headerRenderer,p=se(h,{columns:o,headerIndex:s}),w=se(this.props.headerProps,{columns:o,headerIndex:s}),R=ce(this._prefixClass("header-row"),p,(a={},a[this._prefixClass("header-row--resizing")]=!!this.state.resizingKey,a[this._prefixClass("header-row--customized")]=f,a)),c=be(be({},w),{},{role:"row",key:"header-"+s,className:R,style:l,columns:o,headerIndex:s,headerRenderer:f,cellRenderer:this.renderHeaderCell,expandColumnKey:this.props.expandColumnKey,expandIcon:this._getComponent("ExpandIcon")});return I.createElement(Zt,c)},n.renderHeaderCell=function(e){var a,o,s=e.columns,l=e.column,u=e.columnIndex,h=e.headerIndex,f=e.expandIcon;if(l[Le.PlaceholderKey])return I.createElement("div",{key:"header-"+h+"-cell-"+l.key+"-placeholder",className:this._prefixClass("header-cell-placeholder"),style:this.columnManager.getColumnStyle(l.key)});var p=l.headerClassName,w=l.headerRenderer,R=this.props,c=R.sortBy,b=R.sortState,v=R.headerCellProps,C=this._getComponent("TableHeaderCell"),S=this._getComponent("SortIndicator"),T={columns:s,column:l,columnIndex:u,headerIndex:h,container:this},m=Re(w||I.createElement(C,{className:this._prefixClass("header-cell-text")}),T),y,_;if(b){var x=b[l.key];y=x===G.ASC||x===G.DESC,_=y?x:G.ASC}else y=l.key===c.key,_=y?c.order:G.ASC;var D=se(p,{columns:s,column:l,columnIndex:u,headerIndex:h}),N=ce(this._prefixClass("header-cell"),D,(a={},a[this._prefixClass("header-cell--align-center")]=l.align===Ve.CENTER,a[this._prefixClass("header-cell--align-right")]=l.align===Ve.RIGHT,a[this._prefixClass("header-cell--sortable")]=l.sortable,a[this._prefixClass("header-cell--sorting")]=y,a[this._prefixClass("header-cell--resizing")]=l.key===this.state.resizingKey,a)),M=se(v,{columns:s,column:l,columnIndex:u,headerIndex:h}),P=M||{},F=P.tagName,V=ie(P,go),q=F||"div";return I.createElement(q,J({role:"gridcell",key:"header-"+h+"-cell-"+l.key,onClick:l.sortable?this._handleColumnSort:null},V,{className:N,style:this.columnManager.getColumnStyle(l.key),"data-key":l.key}),f,m,l.sortable&&I.createElement(S,{sorting:y,sortOrder:_,className:ce(this._prefixClass("sort-indicator"),(o={},o[this._prefixClass("sort-indicator--descending")]=_===G.DESC,o))}),l.resizable&&I.createElement(nn,{className:this._prefixClass("column-resizer"),column:l,onResizeStart:this._handleColumnResizeStart,onResizeStop:this._handleColumnResizeStop,onResize:this._handleColumnResize}))},n.renderMainTable=function(){var e=this.props,a=e.width,o=e.headerHeight,s=e.rowHeight,l=e.fixed,u=e.estimatedRowHeight,h=ie(e,vo),f=this._getTableHeight(),p=a-this._verticalScrollbarSize;if(l){var w=this.columnManager.getColumnsWidth();p=Math.max(Math.round(w),p)}return I.createElement(Ge,J({},h,this.state,{className:this._prefixClass("table-main"),ref:this._setMainTableRef,data:this._data,columns:this.columnManager.getMainColumns(),width:a,height:f,headerHeight:o,rowHeight:s,estimatedRowHeight:u,getRowHeight:u?this._getRowHeight:void 0,headerWidth:p+(l?this._verticalScrollbarSize:0),bodyWidth:p,headerRenderer:this.renderHeader,rowRenderer:this.renderRow,onScroll:this._handleScroll,onRowsRendered:this._handleRowsRendered}))},n.renderLeftTable=function(){if(!this.columnManager.hasLeftFrozenColumns())return null;var e=this.props,a=e.width,o=e.headerHeight,s=e.rowHeight,l=e.estimatedRowHeight,u=ie(e,yo),h=this._getFrozenContainerHeight(),f=this._verticalScrollbarSize||20,p=this.columnManager.getLeftFrozenColumnsWidth();return I.createElement(Ge,J({},u,this.state,{containerStyle:this._getLeftTableContainerStyle(p,a,h),className:this._prefixClass("table-frozen-left"),ref:this._setLeftTableRef,data:this._data,columns:this.columnManager.getLeftFrozenColumns(),initialScrollTop:this._scroll.scrollTop,width:p+f,height:h,headerHeight:o,rowHeight:s,estimatedRowHeight:l,getRowHeight:l?this._getRowHeight:void 0,headerWidth:p+f,bodyWidth:p+f,headerRenderer:this.renderHeader,rowRenderer:this.renderRow,onScroll:this._handleVerticalScroll,onRowsRendered:Z}))},n.renderRightTable=function(){if(!this.columnManager.hasRightFrozenColumns())return null;var e=this.props,a=e.width,o=e.headerHeight,s=e.rowHeight,l=e.estimatedRowHeight,u=ie(e,bo),h=this._getFrozenContainerHeight(),f=this.columnManager.getRightFrozenColumnsWidth(),p=this._verticalScrollbarSize;return I.createElement(Ge,J({},u,this.state,{containerStyle:this._getLeftTableContainerStyle(f+p,a,h),className:this._prefixClass("table-frozen-right"),ref:this._setRightTableRef,data:this._data,columns:this.columnManager.getRightFrozenColumns(),initialScrollTop:this._scroll.scrollTop,width:f+p,height:h,headerHeight:o,rowHeight:s,estimatedRowHeight:l,getRowHeight:l?this._getRowHeight:void 0,headerWidth:f+p,bodyWidth:f,headerRenderer:this.renderHeader,rowRenderer:this.renderRow,onScroll:this._handleVerticalScroll,onRowsRendered:Z}))},n.renderResizingLine=function(){var e=this.props,a=e.width,o=e.fixed,s=this.state.resizingKey;if(!o||!s)return null;var l=this.columnManager.getMainColumns(),u=l.findIndex(function(v){return v.key===s}),h=l[u],f=h.width,p=h.frozen,w=this.columnManager.recomputeColumnsWidth(l.slice(0,u)),R=w+f;if(!p)R-=this._scroll.scrollLeft;else if(p===Ce.RIGHT){var c=this.columnManager.recomputeColumnsWidth(l.slice(u+1));c+f>a-this._verticalScrollbarSize?R=f:R=a-this._verticalScrollbarSize-c}var b={left:R,height:this._getTableHeight()-this._horizontalScrollbarSize};return I.createElement("div",{className:this._prefixClass("resizing-line"),style:b})},n.renderFooter=function(){var e=this.props,a=e.footerHeight,o=e.footerRenderer;return a===0?null:I.createElement("div",{className:this._prefixClass("footer"),style:{height:a}},Re(o))},n.renderEmptyLayer=function(){var e=this.props,a=e.data,o=e.frozenData,s=e.footerHeight,l=e.emptyRenderer;if(a&&a.length||o&&o.length)return null;var u=this._getHeaderHeight();return I.createElement("div",{className:this._prefixClass("empty-layer"),style:{top:u,bottom:s}},Re(l))},n.renderOverlay=function(){var e=this.props.overlayRenderer;return I.createElement("div",{className:this._prefixClass("overlay")},!!e&&Re(e))},n.render=function(){var e,a=this.props,o=a.columns,s=a.children,l=a.width,u=a.fixed,h=a.data,f=a.frozenData,p=a.expandColumnKey,w=a.disabled,R=a.className,c=a.style,b=a.footerHeight,v=a.classPrefix,C=a.estimatedRowHeight;this._resetColumnManager(On(o,s),u);var S=p?this._flattenOnKeys(h,this.getExpandedRowKeys(),this.props.rowKey):h;this._data!==S&&(this.resetAfterRowIndex(0,!1),this._data=S),this._calcScrollbarSizes(),this._totalRowsHeight=this.getTotalRowsHeight();var T=be(be({},c),{},{width:l,height:this._getTableHeight()+b,position:"relative"}),m=ce(v,R,(e={},e[v+"--fixed"]=u,e[v+"--expandable"]=!!p,e[v+"--empty"]=h.length===0,e[v+"--has-frozen-rows"]=f.length>0,e[v+"--has-frozen-columns"]=this.columnManager.hasFrozenColumns(),e[v+"--disabled"]=w,e[v+"--dynamic"]=!!C,e));return I.createElement("div",{ref:this._setContainerRef,className:m,style:T},this.renderFooter(),this.renderMainTable(),this.renderLeftTable(),this.renderRightTable(),this.renderResizingLine(),this.renderEmptyLayer(),this.renderOverlay())},n.componentDidMount=function(){var e=this.props.getScrollbarSize();e>0&&this.setState({scrollbarSize:e})},n.componentDidUpdate=function(e,a){var o=this.props,s=o.data,l=o.height,u=o.maxHeight,h=o.estimatedRowHeight;s!==e.data&&(this._lastScannedRowIndex=-1,this._hasDataChangedSinceEndReached=!0),(u!==e.maxHeight||l!==e.height)&&this._maybeCallOnEndReached(),this._maybeScrollbarPresenceChange(),h&&this.getTotalRowsHeight()!==this._totalRowsHeight&&this.forceUpdate()},n._prefixClass=function(e){return this.props.classPrefix+"__"+e},n._setContainerRef=function(e){this.tableNode=e},n._setMainTableRef=function(e){this.table=e},n._setLeftTableRef=function(e){this.leftTable=e},n._setRightTableRef=function(e){this.rightTable=e},n._getComponent=function(e){return this.props.components&&this.props.components[e]?this.props.components[e]:wo[e]},n._getRowHeight=function(e){var a=this.props,o=a.estimatedRowHeight,s=a.rowKey;return this._rowHeightMap[this._data[e][s]]||se(o,{rowData:this._data[e],rowIndex:e})},n._getIsResetting=function(){return this._isResetting},n._getHeaderHeight=function(){var e=this.props.headerHeight;return Array.isArray(e)?e.reduce(function(a,o){return a+o},0):e},n._getFrozenRowsHeight=function(){var e=this.props,a=e.frozenData,o=e.rowHeight;return a.length*o},n._getTableHeight=function(){var e=this.props,a=e.height,o=e.maxHeight,s=e.footerHeight,l=a-s;if(o>0){var u=this._getFrozenRowsHeight(),h=this.getTotalRowsHeight(),f=this._getHeaderHeight(),p=f+u+h+this._horizontalScrollbarSize;l=Math.min(p,o-s)}return l},n._getBodyHeight=function(){return this._getTableHeight()-this._getHeaderHeight()-this._getFrozenRowsHeight()},n._getFrozenContainerHeight=function(){var e=this.props.maxHeight,a=this._getTableHeight()-(this._data.length>0?this._horizontalScrollbarSize:0);if(e>0)return a;var o=this.getTotalRowsHeight()+this._getHeaderHeight()+this._getFrozenRowsHeight();return Math.min(a,o)},n._calcScrollbarSizes=function(){var e=this.props,a=e.fixed,o=e.width,s=this.state.scrollbarSize,l=this.getTotalRowsHeight(),u=this.getTotalColumnsWidth(),h=this._horizontalScrollbarSize,f=this._verticalScrollbarSize;s===0?(this._horizontalScrollbarSize=0,this._verticalScrollbarSize=0):!a||u<=o-s?(this._horizontalScrollbarSize=0,this._verticalScrollbarSize=l>this._getBodyHeight()?s:0):u>o?(this._horizontalScrollbarSize=s,this._verticalScrollbarSize=l>this._getBodyHeight()-this._horizontalScrollbarSize?s:0):(this._horizontalScrollbarSize=0,this._verticalScrollbarSize=0,l>this._getBodyHeight()&&(this._horizontalScrollbarSize=s,this._verticalScrollbarSize=s)),(h!==this._horizontalScrollbarSize||f!==this._verticalScrollbarSize)&&(this._scrollbarPresenceChanged=!0)},n._maybeScrollbarPresenceChange=function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({size:this.state.scrollbarSize,horizontal:this._horizontalScrollbarSize>0,vertical:this._verticalScrollbarSize>0})}},n._maybeCallOnEndReached=function(){var e=this.props,a=e.onEndReached,o=e.onEndReachedThreshold,s=this._scroll.scrollTop,l=this.getTotalRowsHeight(),u=this._getBodyHeight();if(!(!a||!u||!l)){var h=l-s-u+this._horizontalScrollbarSize;this._lastScannedRowIndex>=0&&h<=o&&(this._hasDataChangedSinceEndReached||l!==this._scrollHeight)&&(this._hasDataChangedSinceEndReached=!1,this._scrollHeight=l,a({distanceFromEnd:h}))}},n._handleScroll=function(e){var a=this._scroll.scrollTop;this.scrollToPosition(e),this.props.onScroll(e),e.scrollTop>a&&this._maybeCallOnEndReached()},n._handleVerticalScroll=function(e){var a=e.scrollTop,o=this._scroll.scrollTop;a!==o&&this.scrollToTop(a),a>o&&this._maybeCallOnEndReached()},n._handleRowsRendered=function(e){this.props.onRowsRendered(e),e.overscanStopIndex>this._lastScannedRowIndex&&(this._lastScannedRowIndex=e.overscanStopIndex,this._maybeCallOnEndReached())},n._handleRowHover=function(e){var a=e.hovered,o=e.rowKey;this.setState({hoveredRowKey:a?o:null})},n._handleRowExpand=function(e){var a=e.expanded,o=e.rowData,s=e.rowIndex,l=e.rowKey,u=pt(this.getExpandedRowKeys());if(a)!u.indexOf(l)>=0&&u.push(l);else{var h=u.indexOf(l);h>-1&&u.splice(h,1)}this.props.expandedRowKeys===void 0&&this.setState({expandedRowKeys:u}),this.props.onRowExpand({expanded:a,rowData:o,rowIndex:s,rowKey:l}),this.props.onExpandedRowsChange(u)},n._handleColumnResize=function(e,a){var o=e.key;this.columnManager.setColumnWidth(o,a),this.setState({resizingWidth:a});var s=this.columnManager.getColumn(o);this.props.onColumnResize({column:s,width:a})},n._handleColumnResizeStart=function(e){var a=e.key;this.setState({resizingKey:a})},n._handleColumnResizeStop=function(){var e=this.state,a=e.resizingKey,o=e.resizingWidth;if(this.setState({resizingKey:null,resizingWidth:0}),!(!a||!o)){var s=this.columnManager.getColumn(a);this.props.onColumnResizeEnd({column:s,width:o})}},n._handleColumnSort=function(e){var a=e.currentTarget.dataset.key,o=this.props,s=o.sortBy,l=o.sortState,u=o.onColumnSort,h=G.ASC;l?h=l[a]===G.ASC?G.DESC:G.ASC:a===s.key&&(h=s.order===G.ASC?G.DESC:G.ASC);var f=this.columnManager.getColumn(a);u({column:f,key:a,order:h})},n._handleFrozenRowHeightChange=function(e,a,o,s){s?s===Ce.RIGHT?this._rightRowHeightMap[e]=a:this._leftRowHeightMap[e]=a:this._mainRowHeightMap[e]=a;var l=Math.max(this._mainRowHeightMap[e]||0,this._leftRowHeightMap[e]||0,this._rightRowHeightMap[e]||0);this._rowHeightMap[e]!==l&&this._handleRowHeightChange(e,l,o)},n._handleRowHeightChange=function(e,a,o){this._resetIndex===null?this._resetIndex=o:this._resetIndex>o&&(this._resetIndex=o),this._rowHeightMapBuffer[e]=a,this._updateRowHeights()},t}(I.PureComponent);We.Column=X;We.PlaceholderKey=Le.PlaceholderKey;We.defaultProps={classPrefix:"BaseTable",rowKey:"id",data:[],frozenData:[],fixed:!1,headerHeight:50,rowHeight:50,footerHeight:0,defaultExpandedRowKeys:[],sortBy:{},useIsScrolling:!1,overscanRowCount:1,onEndReachedThreshold:500,getScrollbarSize:no,ignoreFunctionInColumnCompare:!0,onScroll:Z,onRowsRendered:Z,onScrollbarPresenceChange:Z,onRowExpand:Z,onExpandedRowsChange:Z,onColumnSort:Z,onColumnResize:Z,onColumnResizeEnd:Z};We.propTypes={classPrefix:d.string,className:d.string,style:d.object,children:d.node,columns:d.arrayOf(d.shape(X.propTypes)),data:d.array.isRequired,frozenData:d.array,rowKey:d.oneOfType([d.string,d.number]).isRequired,width:d.number.isRequired,height:d.number,maxHeight:d.number,rowHeight:d.number,estimatedRowHeight:d.oneOfType([d.number,d.func]),headerHeight:d.oneOfType([d.number,d.arrayOf(d.number)]).isRequired,footerHeight:d.number,fixed:d.bool,disabled:d.bool,overlayRenderer:d.oneOfType([d.func,d.element]),emptyRenderer:d.oneOfType([d.func,d.element]),footerRenderer:d.oneOfType([d.func,d.element]),headerRenderer:d.oneOfType([d.func,d.element]),rowRenderer:d.oneOfType([d.func,d.element]),headerClassName:d.oneOfType([d.string,d.func]),rowClassName:d.oneOfType([d.string,d.func]),headerProps:d.oneOfType([d.object,d.func]),headerCellProps:d.oneOfType([d.object,d.func]),rowProps:d.oneOfType([d.object,d.func]),cellProps:d.oneOfType([d.object,d.func]),expandIconProps:d.oneOfType([d.object,d.func]),expandColumnKey:d.string,defaultExpandedRowKeys:d.arrayOf(d.oneOfType([d.string,d.number])),expandedRowKeys:d.arrayOf(d.oneOfType([d.string,d.number])),onRowExpand:d.func,onExpandedRowsChange:d.func,sortBy:d.shape({key:d.string,order:d.oneOf([G.ASC,G.DESC])}),sortState:d.object,onColumnSort:d.func,onColumnResize:d.func,onColumnResizeEnd:d.func,useIsScrolling:d.bool,overscanRowCount:d.number,getScrollbarSize:d.func,onScroll:d.func,onEndReached:d.func,onEndReachedThreshold:d.number,onRowsRendered:d.func,onScrollbarPresenceChange:d.func,rowEventHandlers:d.object,ignoreFunctionInColumnCompare:d.bool,components:d.shape({TableCell:d.elementType,TableHeaderCell:d.elementType,ExpandIcon:d.elementType,SortIndicator:d.elementType})};let te;typeof window<"u"?te=window:typeof self<"u"?te=self:te=global;let Tt=null,xt=null;const Hn=20,mt=te.clearTimeout,An=te.setTimeout,gt=te.cancelAnimationFrame||te.mozCancelAnimationFrame||te.webkitCancelAnimationFrame,Pn=te.requestAnimationFrame||te.mozRequestAnimationFrame||te.webkitRequestAnimationFrame;gt==null||Pn==null?(Tt=mt,xt=function(t){return An(t,Hn)}):(Tt=function([t,n]){gt(t),mt(n)},xt=function(t){const n=Pn(function(){mt(r),t()}),r=An(function(){gt(n),t()},Hn);return[n,r]});function Ro(i){let t,n,r,e,a,o,s;const l=typeof document<"u"&&document.attachEvent;if(!l){o=function(v){const C=v.__resizeTriggers__,S=C.firstElementChild,T=C.lastElementChild,m=S.firstElementChild;T.scrollLeft=T.scrollWidth,T.scrollTop=T.scrollHeight,m.style.width=S.offsetWidth+1+"px",m.style.height=S.offsetHeight+1+"px",S.scrollLeft=S.scrollWidth,S.scrollTop=S.scrollHeight},a=function(v){return v.offsetWidth!==v.__resizeLast__.width||v.offsetHeight!==v.__resizeLast__.height},s=function(v){if(v.target.className&&typeof v.target.className.indexOf=="function"&&v.target.className.indexOf("contract-trigger")<0&&v.target.className.indexOf("expand-trigger")<0)return;const C=this;o(this),this.__resizeRAF__&&Tt(this.__resizeRAF__),this.__resizeRAF__=xt(function(){a(C)&&(C.__resizeLast__.width=C.offsetWidth,C.__resizeLast__.height=C.offsetHeight,C.__resizeListeners__.forEach(function(m){m.call(C,v)}))})};let p=!1,w="";r="animationstart";const R="Webkit Moz O ms".split(" ");let c="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),b="";{const v=document.createElement("fakeelement");if(v.style.animationName!==void 0&&(p=!0),p===!1){for(let C=0;C<R.length;C++)if(v.style[R[C]+"AnimationName"]!==void 0){b=R[C],w="-"+b.toLowerCase()+"-",r=c[C],p=!0;break}}}n="resizeanim",t="@"+w+"keyframes "+n+" { from { opacity: 0; } to { opacity: 0; } } ",e=w+"animation: 1ms "+n+"; "}const u=function(p){if(!p.getElementById("detectElementResize")){const w=(t||"")+".resize-triggers { "+(e||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',R=p.head||p.getElementsByTagName("head")[0],c=p.createElement("style");c.id="detectElementResize",c.type="text/css",i!=null&&c.setAttribute("nonce",i),c.styleSheet?c.styleSheet.cssText=w:c.appendChild(p.createTextNode(w)),R.appendChild(c)}};return{addResizeListener:function(p,w){if(l)p.attachEvent("onresize",w);else{if(!p.__resizeTriggers__){const R=p.ownerDocument,c=te.getComputedStyle(p);c&&c.position==="static"&&(p.style.position="relative"),u(R),p.__resizeLast__={},p.__resizeListeners__=[],(p.__resizeTriggers__=R.createElement("div")).className="resize-triggers";const b=R.createElement("div");b.className="expand-trigger",b.appendChild(R.createElement("div"));const v=R.createElement("div");v.className="contract-trigger",p.__resizeTriggers__.appendChild(b),p.__resizeTriggers__.appendChild(v),p.appendChild(p.__resizeTriggers__),o(p),p.addEventListener("scroll",s,!0),r&&(p.__resizeTriggers__.__animationListener__=function(S){S.animationName===n&&o(p)},p.__resizeTriggers__.addEventListener(r,p.__resizeTriggers__.__animationListener__))}p.__resizeListeners__.push(w)}},removeResizeListener:function(p,w){if(l)p.detachEvent("onresize",w);else if(p.__resizeListeners__.splice(p.__resizeListeners__.indexOf(w),1),!p.__resizeListeners__.length){p.removeEventListener("scroll",s,!0),p.__resizeTriggers__.__animationListener__&&(p.__resizeTriggers__.removeEventListener(r,p.__resizeTriggers__.__animationListener__),p.__resizeTriggers__.__animationListener__=null);try{p.__resizeTriggers__=!p.removeChild(p.__resizeTriggers__)}catch{}}}}}class Mr extends z.Component{constructor(...t){super(...t),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:n,disableWidth:r,onResize:e}=this.props;if(this._parentNode){var a,o,s,l;const u=window.getComputedStyle(this._parentNode)||{},h=parseFloat((a=u.paddingLeft)!==null&&a!==void 0?a:"0"),f=parseFloat((o=u.paddingRight)!==null&&o!==void 0?o:"0"),p=parseFloat((s=u.paddingTop)!==null&&s!==void 0?s:"0"),w=parseFloat((l=u.paddingBottom)!==null&&l!==void 0?l:"0"),R=this._parentNode.getBoundingClientRect(),c=R.height-p-w,b=R.width-h-f,v=this._parentNode.offsetHeight-p-w,C=this._parentNode.offsetWidth-h-f;(!n&&(this.state.height!==v||this.state.scaledHeight!==c)||!r&&(this.state.width!==C||this.state.scaledWidth!==b))&&(this.setState({height:v,width:C,scaledHeight:c,scaledWidth:b}),typeof e=="function"&&e({height:v,scaledHeight:c,scaledWidth:b,width:C}))}},this._setRef=n=>{this._autoSizer=n}}componentDidMount(){const{nonce:t}=this.props;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._parentNode!=null&&(typeof ResizeObserver<"u"?(this._resizeObserver=new ResizeObserver(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(this._parentNode)):(this._detectElementResize=Ro(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize)),this._onResize()))}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&(this._resizeObserver.observe(this._parentNode),this._resizeObserver.disconnect()))}render(){const{children:t,defaultHeight:n,defaultWidth:r,disableHeight:e=!1,disableWidth:a=!1,nonce:o,onResize:s,style:l={},tagName:u="div",...h}=this.props,{height:f,scaledHeight:p,scaledWidth:w,width:R}=this.state,c={overflow:"visible"},b={};let v=!1;return e||(f===0&&(v=!0),c.height=0,b.height=f,b.scaledHeight=p),a||(R===0&&(v=!0),c.width=0,b.width=R,b.scaledWidth=w),z.createElement(u,{ref:this._setRef,style:{...c,...l},...h},!v&&t(b))}}var Hr=function(t){var n=t.className,r=t.width,e=t.height,a=t.children,o=t.onResize,s=typeof r=="number",l=typeof e=="number";return s&&l?I.createElement("div",{className:n,style:{width:r,height:e,position:"relative"}},a({width:r,height:e})):I.createElement(Mr,{className:n,disableWidth:s,disableHeight:l,onResize:o},function(u){return a({width:s?r:u.width,height:l?e:u.height})})};Hr.propTypes={className:d.string,width:d.number,height:d.number,children:d.func.isRequired,onResize:d.func};function Vn(i){return i.benefactorAcl.resourceAccess.some(t=>t.principalId===ui||t.principalId===ci||t.principalId===hi)}const et=i=>{var O,A;const{entityId:t,versionNumber:n,flexWrap:r="nowrap",justifyContent:e="flex-start",showIsPublicPrivate:a=!0,showHasLocalSharingSettings:o=!0,showHasAnnotations:s=!0,showHasWiki:l=!0,showHasDiscussionThread:u=!0,showUnlink:h=!0,onUnlink:f=()=>{},onUnlinkError:p=()=>{},canOpenModal:w}=i;let R;(E=>{E.NO_SCHEMA="",E.VALID="Valid",E.INVALID="Invalid",E.ANNOTATIONS_MISSING="Missing"})(R||(R={}));const{ref:c,inView:b}=ar(),{data:v}=Se(t,n,Yn,{enabled:b,staleTime:60*1e3}),[C,S]=z.useState(!1),[T,m]=z.useState(!1),[y,_]=z.useState(""),{isInExperimentalMode:x}=Oe(),{data:D}=li(t,{enabled:x&&b,staleTime:60*1e3}),{data:N}=di(t,{enabled:x&&b&&!!D,staleTime:60*1e3}),M=10,P=v!=null&&v.annotations&&!Br(v.annotations.annotations)?Object.keys(v.annotations.annotations).length:0;z.useEffect(()=>{x&&N&&(N.isValid?_("Valid"):_(P?"Invalid":"Missing"))},[N,x,P,v,"Valid","Invalid","Missing"]);const{mutate:F}=oi({onSuccess:(E,L)=>{f(L)},onError:p}),V=g(U,{children:v?Object.entries(((O=v.annotations)==null?void 0:O.annotations)??[]).reduce((E,L,K)=>K<M||K===M&&M===P?W(U,{children:[E,W("tr",{children:[g("td",{children:g("b",{children:L[0]})}),g("td",{children:L[1].value.join(", ")})]})]}):E,g(U,{})):""}),q=g(U,{children:x&&D?W("tr",{children:[g("td",{children:g("b",{children:"Validation Schema"})}),g("td",{children:D.jsonSchemaVersionInfo.schemaName})]}):""}),H=W("div",{className:"EntityBadgeTooltip",children:[N?W("p",{children:[y," Annotations"]}):"",W("table",{children:[V||"",q]}),P>M?W("p",{children:["and ",P-M," more"]}):""]});return g("div",{className:"EntityBadge",ref:c,style:{flexWrap:r,justifyContent:e},children:v&&W(U,{children:[g("div",{onClick:E=>E.stopPropagation(),children:g(pi,{entityId:t,show:C,showTabs:!1,onClose:()=>S(!1),initialTab:"ANNOTATIONS"})}),a&&v.benefactorAcl&&Vn(v)?g(de,{title:"Public",enterNextDelay:100,placement:"right",children:g(mi,{"aria-hidden":!1,role:"img",className:"EntityBadge__Badge","data-testid":"is-public-icon"})}):null,a&&v.benefactorAcl&&!Vn(v)?g(de,{title:"Private",enterNextDelay:100,placement:"right",children:g(vi,{"aria-hidden":!1,role:"img",className:"EntityBadge__Badge","data-testid":"is-private-icon"})}):null,o&&v.benefactorAcl&&t===v.benefactorAcl.id?g(de,{title:"Sharing Settings have been set",enterNextDelay:100,placement:"right",children:g(yi,{"aria-hidden":!1,role:"img",className:"EntityBadge__Badge","data-testid":"sharing-settings-icon"})}):null,s&&!!(P||N)&&g(de,{title:H,enterNextDelay:100,placement:"right",children:g(Ni,{"aria-hidden":!1,role:w?"button":"img",className:`EntityBadge__Badge ${y}`,style:w?{cursor:"pointer"}:void 0,onClick:w?()=>S(!0):void 0,"data-html":!0,"data-testid":"annotations-icon"})}),l&&v.rootWikiId&&g(de,{title:"Has a wiki",enterNextDelay:100,placement:"right",children:g(zi,{"aria-hidden":!1,role:"img",className:"EntityBadge__Badge","data-testid":"wiki-icon"})}),u&&!!v.threadCount&&v.threadCount>0&&g(de,{title:"Has been mentioned in discussion",enterNextDelay:100,placement:"right",children:g(Ei,{"aria-hidden":!1,role:"img",className:"EntityBadge__Badge","data-testid":"discussion-icon"})}),h&&v.entityType===me.LINK&&((A=v.permissions)==null?void 0:A.canDelete)&&W(U,{children:[g(fi,{open:T,title:"Confirm Unlink",content:"Are you sure you want to remove this link? The original object will not be changed.",confirmButtonText:"Unlink",confirmButtonColor:"error",onConfirm:()=>{F(t),m(!1)},onCancel:()=>{m(!1)}}),g(de,{title:"Remove this link",enterNextDelay:100,placement:"right",children:g(Di,{"aria-hidden":!1,role:"button",onClick:()=>m(!0),className:"EntityBadge__Badge Unlink","data-testid":"unlink-icon"})})]})]})})};try{et.displayName="EntityBadgeIcons",et.__docgenInfo={description:`Stateless component used to show icons that show an entity's status.
Adapted from https://github.com/Sage-Bionetworks/SynapseWebClient/blob/46b9b717636cda2421926d96365244bbb72a05b6/src/main/java/org/sagebionetworks/web/client/widget/entity/EntityBadge.java`,displayName:"EntityBadgeIcons",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}},flexWrap:{defaultValue:null,description:"",name:"flexWrap",required:!1,type:{name:"enum",value:[{value:'"inherit"'},{value:'"wrap"'},{value:'"initial"'},{value:'"-moz-initial"'},{value:'"revert"'},{value:'"unset"'},{value:'"nowrap"'},{value:'"wrap-reverse"'}]}},justifyContent:{defaultValue:null,description:"",name:"justifyContent",required:!1,type:{name:"string"}},showIsPublicPrivate:{defaultValue:null,description:"Shows an icon indicating if the entity is 'public' or 'private'. Default true",name:"showIsPublicPrivate",required:!1,type:{name:"boolean"}},showHasLocalSharingSettings:{defaultValue:null,description:"Shows an icon if the entity has sharing settings set on itself. Default true",name:"showHasLocalSharingSettings",required:!1,type:{name:"boolean"}},showHasAnnotations:{defaultValue:null,description:"Shows an icon if the entity has annotations, or if it has a validation schema (in experimental mode only). Default true",name:"showHasAnnotations",required:!1,type:{name:"boolean"}},showHasWiki:{defaultValue:null,description:"Shows an icon if the entity a wiki. Default true",name:"showHasWiki",required:!1,type:{name:"boolean"}},showHasDiscussionThread:{defaultValue:null,description:"Shows an icon if the entity has been mentioned in discussion threads. Default true",name:"showHasDiscussionThread",required:!1,type:{name:"boolean"}},showUnlink:{defaultValue:null,description:"",name:"showUnlink",required:!1,type:{name:"boolean"}},onUnlink:{defaultValue:null,description:"",name:"onUnlink",required:!1,type:{name:"((entityId: string) => void)"}},onUnlinkError:{defaultValue:null,description:"",name:"onUnlinkError",required:!1,type:{name:"((error: unknown) => void)"}},canOpenModal:{defaultValue:null,description:"Whether or not the badges (e.g. Annotations) can trigger opening a modal on click",name:"canOpenModal",required:!0,type:{name:"boolean"}},renderTooltipComponent:{defaultValue:null,description:"Whether this component should render a ReactTooltip or if an external component is managing it",name:"renderTooltipComponent",required:!0,type:{name:"boolean"}}}}}catch{}const It=({className:i,sortOrder:t})=>g(ai,{className:i,active:!0,role:"button",style:{height:"20px",marginLeft:"auto"},direction:t});function Et(i){return g(et,{entityId:i.rowData.entityId,versionNumber:i.rowData.versionNumber,showHasDiscussionThread:!1,showHasWiki:!1,showUnlink:!1,canOpenModal:!1,renderTooltipComponent:!1})}function tt({cellData:i}){return g(U,{children:(i&&nr(tr(i)))??g(U,{})})}function zt(i){const{data:t,isLoading:n}=Se(i.rowData.entityId,i.rowData.versionNumber);return n?g(xe,{width:200}):g(tt,{...i,cellData:t==null?void 0:t.entity.modifiedOn})}function Dt(i){var r;const{data:t,isLoading:n}=Se(i.rowData.entityId,i.rowData.versionNumber);return n?g(xe,{width:200}):g(tt,{...i,cellData:(r=t==null?void 0:t.entity)==null?void 0:r.createdOn})}function Ln(i){const{data:t,isLoading:n}=Se(i.rowData.entityId,i.rowData.versionNumber);return n?g(xe,{width:200}):t?g(sr,{className:"EntityNameWithIconRenderer",entity:t.entity,link:!1}):g(U,{})}function qn(i){const{data:t,isLoading:n}=Se(i.rowData.entityId,i.rowData.versionNumber),{data:r,isLoading:e}=rr((t==null?void 0:t.path.path[1].id)??"",void 0,{enabled:!!t});return n||e?g(xe,{width:200}):r?g(sr,{entity:r}):g(U,{})}function Nt({cellData:i}){return i?g(lr,{userId:i,openLinkInNewTab:!0}):g(U,{})}function Ot(i){const{data:t,isLoading:n}=Se(i.rowData.entityId,i.rowData.versionNumber);return n?g(xe,{width:200}):g(Nt,{...i,cellData:t==null?void 0:t.entity.modifiedBy})}function Co(){return g("div",{className:"EntityFinderDetailsViewPlaceholder",children:g(Bt,{size:30})})}const To=i=>{const{rowData:t}=i,{isSelected:n,isDisabled:r}=t;return!r&&g(Ut,{label:`Select ${t.entityId}`,hideLabel:!0,className:"SRC-pointer-events-none",checked:n,onChange:()=>{}})},xo=i=>{const{cellData:t}=i;return g(Kt,{className:"EntityFinderTableCellEntityIcon",type:t})};function Mt({noResultsPlaceholder:i}){return g("div",{className:"EntityFinderDetailsViewPlaceholder",children:i||g("div",{children:"Empty"})})}const kn=({rowData:i,toggleSelection:t})=>{const{entityId:n,versionNumber:r}=i,{data:e,isError:a,fetchNextPage:o,isFetchingNextPage:s,hasNextPage:l}=ir(n,{staleTime:60*1e3}),u=(e==null?void 0:e.pages.flatMap(f=>f.results))??[],h=!!u.find(f=>f.versionNumber===r);return z.useEffect(()=>{!h&&l&&!s&&o()},[h,l,s,o]),a?g(U,{children:r}):g("div",{children:u&&u.length>0&&W(dr.Control,{role:"listbox",size:"sm",as:"select",value:r,onClick:f=>{f.stopPropagation()},onChange:f=>{f.stopPropagation();const p=parseInt(f.target.value);t({entityId:n,versionNumber:p})},children:[!h&&!l&&!s&&W("option",{disabled:!0,value:r,children:[r," (Not Found)"]},r),u.map(f=>W("option",{value:f.versionNumber,children:[f.versionNumber,f.isLatestVersion&&" (Latest)"]},f.versionNumber))]})})};function Io(i,t){let n="Latest",r="";return Xn(t)&&(t===me.DATASET?(n="Draft",r="Stable Version"):(n="Current",r="Snapshot")),i===Y.TRACKED?`Always ${n} Version`:i===Y.REQUIRED?W(U,{children:[n,g(or,{icon:"helpOutlineTwoTone",label:`No ${r} exists. The ${n} version will be referenced until a new ${r} is created.`,sx:{width:"12px",paddingLeft:"0.2rem"}})]}):`${n} Version`}const Ht=({rowData:i,versionSelection:t,toggleSelection:n})=>{const{id:r,entityType:e,isVersionableEntity:a,isSelected:o,currentSelectedVersion:s}=i,{data:l}=ir(r,{enabled:a,staleTime:60*1e3}),u=(l==null?void 0:l.pages.flatMap(p=>p.results))??[];z.useEffect(()=>{o&&t==Y.REQUIRED&&s===ae&&u.length>0&&n({targetId:r,targetVersionNumber:u[0].versionNumber})},[s,r,o,t,n,u]);const h=t===Y.TRACKED||t===Y.UNTRACKED&&Xn(e),f=Io(t,e);return!o||!a?g(U,{}):g("div",{children:u&&u.length>0?W(dr.Control,{role:"listbox",size:"sm",as:"select",value:s,onClick:p=>{p.stopPropagation()},onChange:p=>{p.stopPropagation();const w=parseInt(p.target.value);n({targetId:r,targetVersionNumber:w===ae?void 0:w})},children:[h&&g("option",{value:ae,children:f}),u.map(p=>W("option",{value:p.versionNumber,children:["Version ",p.versionNumber]},p.versionNumber))]}):f})};function Fn(i){const{isSelected:t,isDisabled:n,setSelected:r,entityId:e}=i.rowData;return!n&&g(Ut,{"data-testid":`dataset-editor-checkbox-${e}`,disabled:n,label:`Select ${e}`,hideLabel:!0,checked:t,onChange:a=>{r(a)}})}const Wn=i=>{const{entityId:t,versionNumber:n}=i.rowData,{error:r,isError:e}=rr(t,n);let a=r==null?void 0:r.reason;return(r==null?void 0:r.status)===403?a="You don't have permission to view this entity.":(r==null?void 0:r.status)===404&&(a="The entity or version does not exist. It may have been deleted."),e?g(de,{title:a??"",placement:"right",className:"EntityBadgeTooltip",children:g("div",{className:"EntityErrorRenderer",children:g(or,{icon:"warningOutlined"})})}):g(U,{})};try{Et.displayName="BadgeIconsRenderer",Et.__docgenInfo={description:"Renders Entity Badges using the entity bundle.",displayName:"BadgeIconsRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<T>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<T>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<T>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}}}catch{}try{tt.displayName="DateRenderer",tt.__docgenInfo={description:"",displayName:"DateRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!1,type:{name:"string"}}}}}catch{}try{zt.displayName="ModifiedOnRenderer",zt.__docgenInfo={description:"Renders 'modifiedOn' from the entity bundle.",displayName:"ModifiedOnRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<T>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<T>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<T>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}}}catch{}try{Dt.displayName="CreatedOnRenderer",Dt.__docgenInfo={description:"Renders 'createdOn' from the entity bundle.",displayName:"CreatedOnRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<T>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<T>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<T>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}}}catch{}try{Ln.displayName="EntityNameRenderer",Ln.__docgenInfo={description:"",displayName:"EntityNameRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<T>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<T>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<T>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}}}catch{}try{qn.displayName="ProjectRenderer",qn.__docgenInfo={description:"",displayName:"ProjectRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<T>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<T>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<T>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}}}catch{}try{Nt.displayName="UserBadgeRenderer",Nt.__docgenInfo={description:"",displayName:"UserBadgeRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!1,type:{name:"string"}}}}}catch{}try{Ot.displayName="ModifiedByRenderer",Ot.__docgenInfo={description:"Renders 'modifiedBy' from the entity bundle.",displayName:"ModifiedByRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<T>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<T>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<T>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}}}catch{}try{Mt.displayName="EmptyRenderer",Mt.__docgenInfo={description:"",displayName:"EmptyRenderer",props:{noResultsPlaceholder:{defaultValue:null,description:"",name:"noResultsPlaceholder",required:!0,type:{name:"ReactNode"}}}}}catch{}try{Fn.displayName="DatasetEditorCheckboxRenderer",Fn.__docgenInfo={description:"",displayName:"DatasetEditorCheckboxRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<T>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<T>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber & { isSelected: boolean; isDisabled?: boolean | undefined; setSelected: (newValue: boolean) => void; }"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<T>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}}}catch{}try{It.displayName="CustomSortIndicator",It.__docgenInfo={description:"",displayName:"CustomSortIndicator",props:{className:{defaultValue:null,description:"",name:"className",required:!0,type:{name:"string"}},sortOrder:{defaultValue:null,description:"",name:"sortOrder",required:!0,type:{name:"enum",value:[{value:'"desc"'},{value:'"asc"'}]}}}}}catch{}try{kn.displayName="DatasetEditorVersionRenderer",kn.__docgenInfo={description:"",displayName:"DatasetEditorVersionRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<DatasetItemsEditorTableData>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<DatasetItemsEditorTableData>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"DatasetItemsEditorTableData"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<DatasetItemsEditorTableData>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: EntityRef) => void"}}}}}catch{}try{Ht.displayName="DetailsViewVersionRenderer",Ht.__docgenInfo={description:"",displayName:"DetailsViewVersionRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<EntityFinderTableViewRowData>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<EntityFinderTableViewRowData>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityFinderTableViewRowData"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<EntityFinderTableViewRowData>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}},versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}}}}}catch{}try{Wn.displayName="EntityErrorRenderer",Wn.__docgenInfo={description:"",displayName:"EntityErrorRenderer",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!0,type:{name:"any"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnShape<T>[]"}},column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"ColumnShape<T>"}},columnIndex:{defaultValue:null,description:"",name:"columnIndex",required:!0,type:{name:"number"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"EntityIdAndVersionNumber"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},container:{defaultValue:null,description:"",name:"container",required:!0,type:{name:"BaseTable<T>"}},isScrolling:{defaultValue:null,description:"",name:"isScrolling",required:!1,type:{name:"boolean"}}}}}catch{}const jn="Choose which version of this item you would like to reference.",Eo="Choose which version of this item you would like to perform this action on.",zo='If you would like the selection to update as new versions are created, choose "Always Latest Version".';function At(i){const{versionSelection:t}=i;let n="";switch(t){case Y.REQUIRED:n=jn;break;case Y.TRACKED:n=jn+" "+zo;break;case Y.UNTRACKED:n=Eo;break;case Y.DISALLOWED:}return W(U,{children:["Version",g(ni,{className:"SRC-margin-left-5",markdownText:n,placement:"right"})]})}try{At.displayName="VersionColumnHeader",At.__docgenInfo={description:"",displayName:"VersionColumnHeader",props:{versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}}}}}catch{}const Bn=1200,Do=46,ge=({entities:i,isLoading:t,hasNextPage:n,fetchNextPage:r,isFetchingNextPage:e,versionSelection:a,selectColumnType:o,selected:s,visibleTypes:l,selectableTypes:u,toggleSelection:h,sort:f,setSort:p,noResultsPlaceholder:w,enableSelectAll:R,selectAllIsChecked:c=!1,getChildrenInfiniteRequestObject:b,totalEntities:v,setCurrentContainer:C})=>{const S=Ur(),{accessToken:T}=Oe(),m=o!=="none",[y,_]=z.useState(!1),[x,D]=z.useState(!1),N=()=>{S.cancelQueries(["entitychildren",b]),D(!1),_(!1)},M=H=>l.includes(ne(H))?u.includes(ne(H))?s.has(H.id)?"selected":"default":"disabled":"hidden";z.useEffect(()=>{async function H(){y&&(n&&r?(D(!0),e||r()):(h(c?i.filter(O=>s.has(O.id)).map(O=>{const A=s.get(O.id);return{targetId:O.id,targetVersionNumber:A===ae?void 0:A}}):await Promise.all(i.filter(O=>{const A=ne(O);return!s.has(O.id)&&u.includes(A)&&l.includes(A)}).map(async O=>{var E;let A;return a===Y.REQUIRED&&ln(ne(O))&&(Object.prototype.hasOwnProperty.call(O,"versionNumber")&&(A=O.versionNumber),A||(D(!0),A=(E=(await S.fetchQuery(["entity",O.id,"versions",{offset:0,limit:1}],()=>Kr(O.id,T,0,1))).results[0])==null?void 0:E.versionNumber)),{targetId:O.id,targetVersionNumber:A}}))),_(!1),D(!1)))}H()},[T,i,r,n,a,S,e,c,u,s,y,h,l]);const P=i.reduce((H,O)=>{const A=M(O);if(A!=="hidden"){const E=ne(O),L=s.get(O.id);let K;"versionNumber"in O&&(L!=null&&L!==ae?K=L:a===Y.REQUIRED&&(K=O.versionNumber)),H.push({...O,entityId:O.id,versionNumber:K,entityType:E,isSelected:A==="selected",isDisabled:A==="disabled",isVersionableEntity:ln(E),currentSelectedVersion:L})}return H},[]),F=z.useMemo(()=>{const H=n||i.filter(O=>u.includes(ne(O))&&l.includes(ne(O))).length>0;return R&&g("div",{"data-testid":"Select All",style:H?{cursor:"pointer"}:{cursor:"not-allowed"},onClick:()=>{H&&_(!0)},children:g(Ut,{label:"Select All",hideLabel:!0,className:"SRC-pointer-events-none",checked:c,disabled:!H,onChange:()=>{}})})},[R,i,n,c,u,l]),V=z.useCallback(H=>C&&Jn(H.rowData.entityType)?g("span",{role:"link",className:"EntityFinderTableCellContainerLink",onClick:O=>{O.stopPropagation(),C(H.rowData.id)},children:H.rowData.name}):H.rowData.name,[C]),q={};return f&&(q[f.sortBy]=f.sortDirection.toLowerCase()),W("div",{className:"EntityFinderDetailsView bootstrap-4-backport",children:[g(ii,{show:x,currentProgress:i.length,totalProgress:v,hintText:v?`${i.length.toLocaleString()} of ${v==null?void 0:v.toLocaleString()}`:`Fetching ${i.length.toLocaleString()}`,headlineText:"Fetching selected items",onCancel:N}),g(Hr,{className:"DetailsViewAutosizer",children:({height:H,width:O})=>W(We,{classPrefix:"DetailsViewTable",data:P,height:H,width:O>Bn?O:Bn,rowHeight:Do,overscanRowCount:5,rowClassName:({rowIndex:A})=>{let E="EntityFinderDetailsViewRow";return A%2===0&&(E+=" isEven"),E},rowProps:({rowData:A})=>({"aria-selected":A.isSelected,"aria-disabled":A.isDisabled}),headerCellProps:{role:"columnheader"},sortState:q,components:{SortIndicator:It},onColumnSort:({key:A,order:E})=>{f&&p&&p(A,E==="asc"?bt.ASC:bt.DESC)},rowEventHandlers:{onClick:({rowData:A})=>{const{id:E,isDisabled:L,isVersionableEntity:K}=A;let{currentSelectedVersion:j}=A;L||(K&&a===Y.REQUIRED&&j==null&&Object.prototype.hasOwnProperty.call(A,"versionNumber")&&(j=A.versionNumber),h({targetId:E,targetVersionNumber:j===ae?void 0:j}))}},onEndReached:()=>{n&&r&&!e&&r()},emptyRenderer:t?Co:()=>g(Mt,{noResultsPlaceholder:w}),children:[m&&g(X,{title:"",minWidth:50,maxWidth:50,width:50,dataKey:"isSelected",headerRenderer:F,cellRenderer:To},"isSelected"),g(X,{title:"",minWidth:45,maxWidth:45,width:45,dataKey:"entityType",align:"center",cellRenderer:xo},"type"),g(X,{title:"Name",width:800,sortable:f!=null,resizable:!0,cellRenderer:V},$e.NAME),g(X,{title:"",width:75,maxWidth:75,minWidth:75,cellRenderer:Et},"badge"),g(X,{width:130,dataKey:"id",title:"ID",minWidth:130},"id"),a!==Y.DISALLOWED&&g(X,{minWidth:150,width:500,title:"Version",cellRenderer:A=>g(Ht,{versionSelection:a,toggleSelection:h,...A}),headerRenderer:g(At,{versionSelection:a})},"version"),g(X,{sortable:f!=null,title:"Created On",width:220,minWidth:170,cellRenderer:Dt},$e.CREATED_ON),g(X,{title:"Modified On",width:220,minWidth:170,sortable:f!=null,cellRenderer:zt},$e.MODIFIED_ON),g(X,{title:"Modified By",width:500,resizable:!0,cellRenderer:Ot},"modifiedBy")]})})]})};try{ge.displayName="DetailsView",ge.__docgenInfo={description:'Displays a list of entities in a table.\n\nIf the list of entities is paginated, the `hasNextPage` prop can be set to indicate that there is more data to load.\nWhen the view is ready to load more data, the `fetchNextPage` callback will be invoked. The view is designed to handle\nan "infinite scroll" pattern, so entities should not be removed from the list when loading the next page.',displayName:"DetailsView",props:{versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},selectColumnType:{defaultValue:null,description:"",name:"selectColumnType",required:!0,type:{name:"enum",value:[{value:'"none"'},{value:'"checkbox"'}]}},enableSelectAll:{defaultValue:null,description:"",name:"enableSelectAll",required:!0,type:{name:"boolean"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},isIdSelected:{defaultValue:null,description:"",name:"isIdSelected",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},isSelectable:{defaultValue:null,description:"",name:"isSelectable",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!1,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}},entities:{defaultValue:null,description:"",name:"entities",required:!0,type:{name:"EntityFinderHeader[]"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},hasNextPage:{defaultValue:null,description:"",name:"hasNextPage",required:!1,type:{name:"boolean"}},fetchNextPage:{defaultValue:null,description:"",name:"fetchNextPage",required:!1,type:{name:"(() => Promise<any>)"}},isFetchingNextPage:{defaultValue:null,description:"",name:"isFetchingNextPage",required:!1,type:{name:"boolean"}},sort:{defaultValue:null,description:"The current sort of the view. If the view cannot be sorted, set this to `undefined`",name:"sort",required:!1,type:{name:"{ sortBy: SortBy; sortDirection: Direction; }"}},setSort:{defaultValue:null,description:"If sortable, `setSort` will be invoked when the user tries to change the sort",name:"setSort",required:!1,type:{name:"((soryBy: SortBy, sortDirection: Direction) => void)"}},noResultsPlaceholder:{defaultValue:null,description:"",name:"noResultsPlaceholder",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},selectAllIsChecked:{defaultValue:{value:"false"},description:"We defer to the configuration component to determine this",name:"selectAllIsChecked",required:!1,type:{name:"boolean"}},getChildrenInfiniteRequestObject:{defaultValue:null,description:"This request object is only used to tell react-query to cancel fetching all children at once.",name:"getChildrenInfiniteRequestObject",required:!1,type:{name:"EntityChildrenRequest"}},totalEntities:{defaultValue:null,description:"The total number of entities that can be retrieved",name:"totalEntities",required:!1,type:{name:"number"}}}}}catch{}const Pt=({parentContainerId:i,...t})=>{const[n,r]=z.useState($e.NAME),[e,a]=z.useState(bt.ASC),o={parentId:i,includeTotalChildCount:!0,includeTypes:t.visibleTypes,sortBy:n,sortDirection:e},{data:s,isLoading:l,isFetchingNextPage:u,hasNextPage:h,fetchNextPage:f}=ri(o,{useErrorBoundary:!0}),p=(s==null?void 0:s.pages.flatMap(c=>c.page))??[],w=s==null?void 0:s.pages[0].totalChildCount,R=$t(p,t.selected.size,t.isIdSelected,t.isSelectable,h,f,u);return g(ge,{entities:p,isLoading:l,hasNextPage:h,fetchNextPage:f,isFetchingNextPage:u,sort:{sortBy:n,sortDirection:e},setSort:(c,b)=>{r(c),a(b)},selectAllIsChecked:R,getChildrenInfiniteRequestObject:o,totalEntities:w,...t})};try{Pt.displayName="EntityChildrenDetails",Pt.__docgenInfo={description:"",displayName:"EntityChildrenDetails",props:{versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},selectColumnType:{defaultValue:null,description:"",name:"selectColumnType",required:!0,type:{name:"enum",value:[{value:'"none"'},{value:'"checkbox"'}]}},enableSelectAll:{defaultValue:null,description:"",name:"enableSelectAll",required:!0,type:{name:"boolean"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},isIdSelected:{defaultValue:null,description:"",name:"isIdSelected",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},isSelectable:{defaultValue:null,description:"",name:"isSelectable",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!1,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}},parentContainerId:{defaultValue:null,description:"",name:"parentContainerId",required:!0,type:{name:"string"}}}}}catch{}const Vt=({...i})=>{const{data:t,isLoading:n,hasNextPage:r,fetchNextPage:e,isFetchingNextPage:a}=bi("NAME","ASC",{useErrorBoundary:!0}),o=(t==null?void 0:t.pages.flatMap(l=>l.results))??[],s=$t(o,i.selected.size,i.isIdSelected,i.isSelectable,r,e,a);return g(ge,{entities:o,isLoading:n,hasNextPage:r,fetchNextPage:e,isFetchingNextPage:a,selectAllIsChecked:s,...i})};try{Vt.displayName="FavoritesDetails",Vt.__docgenInfo={description:"",displayName:"FavoritesDetails",props:{versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},selectColumnType:{defaultValue:null,description:"",name:"selectColumnType",required:!0,type:{name:"enum",value:[{value:'"none"'},{value:'"checkbox"'}]}},enableSelectAll:{defaultValue:null,description:"",name:"enableSelectAll",required:!0,type:{name:"boolean"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},isIdSelected:{defaultValue:null,description:"",name:"isIdSelected",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},isSelectable:{defaultValue:null,description:"",name:"isSelectable",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!1,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}}}}}catch{}function nt(i){return{...i,type:"org.sagebionetworks.repo.model.Project"}}const Lt=({projectsParams:i,...t})=>{const{data:n,isLoading:r,isFetchingNextPage:e,hasNextPage:a,fetchNextPage:o}=hr(i,{useErrorBoundary:!0}),s=(n==null?void 0:n.pages.flatMap(u=>u.results).map(nt))??[],l=$t(s,t.selected.size,t.isIdSelected,t.isSelectable,a,o,e);return g(ge,{entities:s,isLoading:r,hasNextPage:a,fetchNextPage:o,isFetchingNextPage:e,selectAllIsChecked:l,...t})};try{nt.displayName="toEntityHeader",nt.__docgenInfo={description:"",displayName:"toEntityHeader",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},lastActivity:{defaultValue:null,description:"",name:"lastActivity",required:!0,type:{name:"string"}},modifiedOn:{defaultValue:null,description:"",name:"modifiedOn",required:!0,type:{name:"string"}},modifiedBy:{defaultValue:null,description:"",name:"modifiedBy",required:!0,type:{name:"number"}}}}}catch{}try{Lt.displayName="ProjectListDetails",Lt.__docgenInfo={description:"",displayName:"ProjectListDetails",props:{versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},selectColumnType:{defaultValue:null,description:"",name:"selectColumnType",required:!0,type:{name:"enum",value:[{value:'"none"'},{value:'"checkbox"'}]}},enableSelectAll:{defaultValue:null,description:"",name:"enableSelectAll",required:!0,type:{name:"boolean"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},isIdSelected:{defaultValue:null,description:"",name:"isIdSelected",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},isSelectable:{defaultValue:null,description:"",name:"isSelectable",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!1,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}},projectsParams:{defaultValue:null,description:"",name:"projectsParams",required:!0,type:{name:"GetProjectsParameters"}}}}}catch{}function No(i){return{name:i.name,id:i.id,type:$r(i.node_type),createdOn:i.created_on.toString(),modifiedOn:i.modified_on.toString(),createdBy:i.created_by,modifiedBy:i.modified_by}}const qt=({searchQuery:i,...t})=>{const{data:n,isLoading:r,hasNextPage:e,fetchNextPage:a,isFetchingNextPage:o}=Oi(i,{enabled:!!i.queryTerm,useErrorBoundary:!0});return i.queryTerm?g(ge,{entities:(n==null?void 0:n.pages.flatMap(s=>s.hits).map(No))??[],isLoading:r,hasNextPage:e,fetchNextPage:a,isFetchingNextPage:o,noResultsPlaceholder:W(U,{children:[g("img",{className:"SearchPlaceholderImage",alt:"No results found",src:"https://s3.amazonaws.com/static.synapse.org/images/search-sad.svg"}),W("p",{children:["No results for ",i.queryTerm.join(" "),""]})]}),...t,enableSelectAll:!1}):g(ge,{entities:[],isLoading:!1,hasNextPage:!1,noResultsPlaceholder:W(U,{children:[g("img",{className:"SearchPlaceholderImage",alt:"Begin searching",src:"https://s3.amazonaws.com/static.synapse.org/images/search-happy.svg"}),g("p",{children:"Enter a term or Synapse ID to start searching"})]}),...t,enableSelectAll:!1})};try{qt.displayName="SearchDetails",qt.__docgenInfo={description:"",displayName:"SearchDetails",props:{versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},selectColumnType:{defaultValue:null,description:"",name:"selectColumnType",required:!0,type:{name:"enum",value:[{value:'"none"'},{value:'"checkbox"'}]}},enableSelectAll:{defaultValue:null,description:"",name:"enableSelectAll",required:!0,type:{name:"boolean"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},isIdSelected:{defaultValue:null,description:"",name:"isIdSelected",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},isSelectable:{defaultValue:null,description:"",name:"isSelectable",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!1,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}},searchQuery:{defaultValue:null,description:"",name:"searchQuery",required:!0,type:{name:"SearchQuery"}}}}}catch{}var re=(i=>(i[i.HEADER_LIST=0]="HEADER_LIST",i[i.PARENT_CONTAINER=1]="PARENT_CONTAINER",i[i.USER_PROJECTS=2]="USER_PROJECTS",i[i.USER_FAVORITES=3]="USER_FAVORITES",i[i.ENTITY_SEARCH=4]="ENTITY_SEARCH",i[i.PROMPT=5]="PROMPT",i))(re||{});const rt=({configuration:i,...t})=>{const[n,r]=z.useState(g(U,{}));return ti(()=>{r((a=>{switch(a.type){case 1:return g(Pt,{parentContainerId:a.parentContainerId,...t});case 0:return g(ge,{entities:a.headerList,isLoading:!1,hasNextPage:!1,...t,enableSelectAll:t.enableSelectAll,selectAllIsChecked:cr(a.headerList??[],t.selected.size,t.isIdSelected,t.isSelectable)});case 3:return g(Vt,{...t});case 4:return g(qt,{searchQuery:a.query,...t});case 2:return g(Lt,{projectsParams:a.getProjectParams,...t});case 5:return g(ge,{entities:[],isLoading:!1,noResultsPlaceholder:g("div",{children:"Use the left panel to browse Synapse, then make a selection in this panel"}),...t,enableSelectAll:!1});default:return console.warn("The configuration type does not map to a known view type. No Details view will be rendered. Invalid configuration: ",a),g(U,{})}})(i))},[i,t]),g(Zn,{children:n})};try{rt.displayName="EntityDetailsList",rt.__docgenInfo={description:"",displayName:"EntityDetailsList",props:{versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},selectColumnType:{defaultValue:null,description:"",name:"selectColumnType",required:!0,type:{name:"enum",value:[{value:'"none"'},{value:'"checkbox"'}]}},enableSelectAll:{defaultValue:null,description:"",name:"enableSelectAll",required:!0,type:{name:"boolean"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},isIdSelected:{defaultValue:null,description:"",name:"isIdSelected",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},isSelectable:{defaultValue:null,description:"",name:"isSelectable",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!1,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}},configuration:{defaultValue:null,description:"",name:"configuration",required:!0,type:{name:"EntityDetailsListDataConfiguration"}}}}}catch{}const kt=({title:i,selectedEntities:t,toggleSelection:n})=>(typeof i=="function"&&(i=i(t.size)),W("div",{className:"EntityFinderSelectionPane alert alert-warning",children:[g(wt,{variant:"headline3",display:"inline",children:i}),t.size<=200?g("div",{className:"EntityFinderSelectionPane__Items",children:Array.from(t.keys()).map(r=>{const e=t.get(r);return g("div",{children:g(Oo,{entity:{targetId:r,targetVersionNumber:e!==ae?e:void 0},toggleSelection:n})},`${r}${e!==ae?`.${e}`:""}`)})}):g(wt,{variant:"smallText1",children:"Too many items to show here"})]})),Oo=({entity:i,toggleSelection:t})=>{const{data:n}=Se(i.targetId,i.targetVersionNumber),[r,e]=z.useState(""),[a,o]=z.useState(""),[s,l]=z.useState("");return z.useEffect(()=>{var u;if((u=n==null?void 0:n.path)!=null&&u.path){const h=n.path.path[n.path.path.length-1];e(h.name??h.id);const f=n.path.path.slice(1,n.path.path.length-1);if(o(f.map(p=>p.name).join("/")),f.length<4)l(a);else{const p=f[0].name;l(p+"//"+f.slice(f.length-1).map(w=>w.name).join("/"))}}},[n,a]),W("div",{className:"EntityFinderSelectionPane__Row",children:[n&&g(Kt,{className:"EntityIcon",type:n.entityType}),g(de,{title:`${a}/${r}`,enterNextDelay:_i,placement:"top",children:g("span",{children:s?s+"/":""})}),r?g("span",{className:"EntityFinderSelectionPane__Row__EntityName",children:r}):g(xe,{width:500}),i.targetVersionNumber&&W("span",{children:[" (Version ",i.targetVersionNumber,")"]}),g(gi,{className:"EntityFinderSelectionPane__Row__DeselectButton",onClick:()=>{t(i)}})]})};try{kt.displayName="SelectionPane",kt.__docgenInfo={description:"",displayName:"SelectionPane",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string | ((count: number) => string)"}},selectedEntities:{defaultValue:null,description:"",name:"selectedEntities",required:!0,type:{name:"Map<string, number>"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference) => void"}}}}}catch{}function Mo(i){return function(t){i.forEach(function(n){typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var vt=function(){},Ho=function(t,n){return n===void 0&&(n=null),{child:null,isShown:n?n.public.isOpen&&n.isShown:!0,parent:n,public:t,sibling:null,visited:!1}},Ao=function(t,n){var r=n.getRecordData,e=r(t),a=e.data.id;return a},Po=function(t){var n=t.index,r=t.data,e=r.component,a=r.getRecordData,o=r.treeData,s=t.style,l=t.isScrolling,u=a(n);return I.createElement(e,Object.assign({isScrolling:l,style:s,treeData:o},u))},Vo=function(t,n,r){var e=t.createRecord,a=n.buildingTaskTimeout,o=n.placeholder,s=n.async,l=s===void 0?!1:s,u=n.treeWalker,h=l&&r.records!==void 0,f=r.records,p=[],w=new Map,R=a?{timeout:a}:void 0,c=new WeakMap,b=u(),v=b.next(),C=v.value,S=e(C.data,r,void 0,h?f.get(C.data.id):void 0);w.set(S.public.data.id,S),c.set(S,C);var T=S,m=!0,y=S,_=o!==void 0&&!(o===null&&!r.order),x=_?function(N){return N.timeRemaining()>0}:function(){return!0},D=function N(M){for(;T!==null;){if(!x(M)){requestIdleCallback(N,R);return}if(T.visited)T.visited=!1,T=T.sibling!==null?T.sibling:T.parent,y=T;else{var P=b.next(c.get(T)),F=P.value;if(F===void 0){m?m=!1:(T.isShown&&p.push(T.public.data.id),T.visited=T.child!==null,T=T.child!==null?T.child:T.sibling!==null?T.sibling:T.parent),y=T;continue}var V=e(F.data,r,m?void 0:T,h?f.get(F.data.id):void 0);w.set(V.public.data.id,V),c.set(V,F),!m&&y===T?y.child=V:y.sibling=V,y=V}}_&&r.setState({order:p,records:w,updateRequest:{}})};return _?requestIdleCallback(D,R):D(),o!==void 0&&l&&r.order?r:{order:p,records:w}},Un=32768,Lo=2,qo=function(t,n){var r=t.order,e=t.records,a=n.opennessState;if(typeof a!="object")return null;for(var o in a)if(e.has(o)){var s=a[o],l=e.get(o),u=typeof s=="boolean"?{open:s}:s,h=u.open,f=u.subtreeCallback,p=f===void 0?vt:f,w=vt,R=vt;l.isShown&&(h?function(){for(var b=r.indexOf(o),v=l;v!==null;){if(v.sibling!==null){v=v.sibling;break}v=v.parent}var C=v===null?r.length-1-b:r.indexOf(v.public.data.id)-1-b,S=[[b+1,C]];w=function(m){if(m.isShown=m.parent?m.parent.public.isOpen&&m.parent.isShown:!0,m.isShown){var y=S[S.length-1];y.push(m.public.data.id),y.length===Un+Lo&&S.push([b+1+Un*S.length,0])}},R=function(){for(var m=0;m<S.length;m++){var y;(y=r).splice.apply(y,S[m])}}}():l.public.isOpen&&function(){var b=r.indexOf(o),v=0;w=function(S){S.isShown&&(v+=1),S.isShown=S.parent?S.parent.public.isOpen&&S.parent.isShown:!0},R=function(){r.splice(b+1,v)}}());for(var c=l;c!==null;)c.visited?(c.visited=!1,c=c===l?null:c.sibling!==null?c.sibling:c.parent):(c.public.isOpen=c===l?h:c.public.isOpen,p(c.public,l.public),c!==l&&w(c),c.visited=c.child!==null,c=c.child!==null?c.child:c===l?null:c.sibling!==null?c.sibling:c.parent);R()}return{order:r,records:e,updateRequest:{}}},ko=function(t){return function(n,r,e){return e.refresh?Vo(t,n,r):qo(r,e)}},Ar=function(i){Fe(t,i),t.getDerivedStateFromProps=function(e,a){var o=e.listRef,s=o===void 0?null:o,l=e.treeWalker,u=a.computeTree,h=a.list,f=a.order,p=a.treeWalker;return ue({attachRefs:Mo([h,s])},l!==p||!f?u(e,a,{refresh:!0}):null,{treeWalker:l})};function t(r,e){var a;return a=i.call(this,r,e)||this,a.getRecordData=a.getRecordData.bind(pe(a)),a.state={list:z.createRef(),recomputeTree:a.recomputeTree.bind(pe(a)),setState:a.setState.bind(pe(a))},a}var n=t.prototype;return n.getItemData=function(){var e=this.props,a=e.children,o=e.itemData;return{component:a,getRecordData:this.getRecordData,treeData:o}},n.getRecordData=function(e){var a=this.state,o=a.order,s=a.records;return s.get(o[e]).public},n.recomputeTree=function(e){var a=this;return new Promise(function(o){a.setState(function(s){return s.computeTree(a.props,s,{opennessState:e})},o)})},n.scrollTo=function(e){var a;(a=this.state.list.current)==null||a.scrollTo(e)},n.scrollToItem=function(e,a){var o;(o=this.state.list.current)==null||o.scrollToItem(this.state.order.indexOf(e),a)},t}(z.PureComponent);Ar.defaultProps={rowComponent:Po};var Fo=ko({createRecord:function(t,n,r,e){var a=n.recomputeTree,o=n.resetAfterId,s=Ho({data:t,height:e?e.public.height:t.defaultHeight,isOpen:e?e.public.isOpen:t.isOpenByDefault,resize:function(u,h){s.public.height=u,o(s.public.data.id,h)},setOpen:function(u){var h;return a((h={},h[t.id]=u,h))}},r);return s}}),Wo=function(i){Fe(t,i);function t(r,e){var a;return a=i.call(this,r,e)||this,a.getItemSize=a.getItemSize.bind(pe(a)),a.state=ue({},a.state,{computeTree:Fo,resetAfterId:a.resetAfterId.bind(pe(a))}),a}var n=t.prototype;return n.resetAfterId=function(e,a){var o;a===void 0&&(a=!1);var s=this.state,l=s.list,u=s.order;(o=l.current)==null||o.resetAfterIndex(u.indexOf(e),a)},n.recomputeTree=function(e){var a=this;return i.prototype.recomputeTree.call(this,e).then(function(){var o;(o=a.state.list.current)==null||o.resetAfterIndex(0,!0)})},n.render=function(){var e=this.props;e.children;var a=e.placeholder,o=e.itemSize,s=e.rowComponent;e.treeWalker;var l=er(e,["children","placeholder","itemSize","rowComponent","treeWalker"]),u=this.state,h=u.attachRefs,f=u.order;return a&&f.length===0?a:I.createElement(Ka,Object.assign({},l,{itemCount:f.length,itemData:this.getItemData(),itemKey:Ao,itemSize:o??this.getItemSize,ref:h}),s)},n.getItemSize=function(e){return this.getRecordData(e).height},t}(Ar),_e=(i=>(i[i.SINGLE_PANE=0]="SINGLE_PANE",i[i.DUAL_PANE=1]="DUAL_PANE",i))(_e||{});function rn(i){return"__paginationNode"in i?"pagination":"id"in i?"entityHeader":"rootNodeConfiguration"}function je(i){return rn(i)==="pagination"}function yt(i){return rn(i)==="entityHeader"}function ke(i){return rn(i)==="rootNodeConfiguration"}function it(i){return je(i)?!0:ke(i)?i.hasNextPage:i.children==null||i.childrenNextPageToken!=null}function jo(i){return je(i)?!0:ke(i)?!1:!Jn(ne(i))||i.children!=null&&i.children.length===0}const at=i=>{const{node:t,nestingLevel:n,getNextPageOfChildren:r,setSelectedId:e,treeNodeType:a,selected:o,selectableTypes:s,autoExpand:l,defaultHeight:u,currentContainer:h}=i;if(je(t))throw new Error("Cannot create data for a pagination node");const f=ke(t)?"root":t.id,p=a===0?o.has(f):h===f,w=!ke(t)&&!s.includes(ne(t)),R=l(f);return R&&t.children==null&&it(t)&&r(),{data:{node:t,getNextPageOfChildren:r,id:f,isLeaf:jo(t),isOpenByDefault:R,nestingLevel:n,setSelectedId:e,treeNodeType:a,isSelected:p,isDisabled:w,defaultHeight:u},nestingLevel:n,node:t}};function Ft(i){const{data:{node:t,getNextPageOfChildren:n,isLeaf:r,id:e,nestingLevel:a,setSelectedId:o,treeNodeType:s,isSelected:l,isDisabled:u},isOpen:h,style:f,setOpen:p}=i,[w,R]=z.useState(!1),c=yt(t)?g("span",{children:t.name}):ke(t)?g("span",{children:t.nodeText}):g(xe,{width:100}),{ref:b,inView:v}=ar();z.useEffect(()=>{je(t)&&v&&n()},[t,v,n]);const C=z.useCallback(async()=>{it(t)?(R(!0),await n(),await p(!h),R(!1)):await p(!h)},[n,t,h,p]);if(z.useEffect(()=>{s===1&&l&&!h&&C()},[l]),"height"in f&&f.height===0)return g(U,{});let S="";return yt(t)&&(S=g("div",{style:{textAlign:"center"},children:W(wt,{display:"inline",component:"span",variant:"smallText1",children:[t.name,g("br",{}),g("b",{children:"ID: "}),t.id,"modifiedBy"in t&&W(U,{children:[g("br",{}),g("b",{children:"Modified By: "}),g(lr,{userId:t.modifiedBy.toString(),showFullName:!0,disableLink:!0,showCardOnHover:!1})]}),"modifiedOn"in t&&W(U,{children:[g("br",{}),g("b",{children:"Modified On: "}),nr(tr(t.modifiedOn))]})]})})),W("div",{className:`Node ${s===0?"SelectNode":"BrowseNode"}`,"aria-selected":l,"aria-disabled":u,onClick:T=>{T.stopPropagation(),u||o(e)},style:{...f,paddingLeft:`${20+a*20}px`},children:[!r&&g("button",{className:"ExpandButton",type:"button",onClick:T=>{T.stopPropagation(),C()},children:w?g(Bt,{size:10}):h?"":""}),s===0&&g("div",{className:"EntityIcon",children:yt(t)&&g(Kt,{type:ne(t)})}),g("div",{className:"EntityName",ref:b,children:g(de,{title:S,placement:"right",children:c})}),s===0&&g(et,{entityId:e,showHasDiscussionThread:!1,showHasWiki:!1,showUnlink:!1,canOpenModal:!1,renderTooltipComponent:!0})]})}function Wt(i,t,n,r,e,a,o,s,l){return function*(){for(yield at({node:i,nestingLevel:0,getNextPageOfChildren:i.fetchNextPage,setSelectedId:t,treeNodeType:n,selected:r,selectableTypes:e,autoExpand:a,defaultHeight:o(),currentContainer:s});;){const h=yield;if(!je(h.node)&&(h.node.children||it(h.node))){for(let f=0;f<(h.node.children??[]).length;f++){const p=h.node.children[f];yield at({node:p,nestingLevel:h.nestingLevel+1,getNextPageOfChildren:()=>l(p),setSelectedId:t,treeNodeType:n,selected:r,selectableTypes:e,autoExpand:a,defaultHeight:o(),currentContainer:s})}if(h.node.children!=null&&it(h.node)){const f={__paginationNode:!0};yield{data:{id:h.data.id+"-pagination",node:f,isOpenByDefault:!1,getNextPageOfChildren:h.data.getNextPageOfChildren,isLeaf:!0,isSelected:!1,defaultHeight:o(),isDisabled:!0,nestingLevel:h.nestingLevel+1,setSelectedId:()=>{},treeNodeType:n},nestingLevel:h.nestingLevel+1,node:{__paginationNode:!0}}}}}}}const jt=i=>{const{rootNodeConfiguration:t,setSelectedId:n,treeNodeType:r,selected:e,currentContainer:a,selectableTypes:o,visibleTypes:s,autoExpand:l}=i,{accessToken:u}=Oe(),[h,f]=z.useState(t);z.useEffect(()=>{f(t)},[t,t.children]);const p=z.useCallback(c=>c===0&&!t.show?0:r===1?30:60,[r,t.show]),w=z.useCallback(async c=>{const b=await st.getEntityChildren({parentId:c.id,nextPageToken:c.childrenNextPageToken,includeTypes:s},u);c.children?c.children.push(...b.page):c.children=b.page,c.childrenNextPageToken=b.nextPageToken,f(Ri(h))},[h,u,s]),R=z.useCallback(Wt(h,n,r,e,o,l,p,a,w),[h,n,r,e,o,l,a,w,p]);return g(Mr,{disableWidth:!0,children:({height:c})=>g(Wo,{treeWalker:R,itemSize:p,height:c,async:!0,width:"100%",children:Ft})})};try{Ft.displayName="Node",Ft.__docgenInfo={description:"Node component for the react-vtree virtualized tree. Exported only for testing purposes",displayName:"Node",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"TreeData"}},setOpen:{defaultValue:null,description:"",name:"setOpen",required:!0,type:{name:"(state: boolean) => Promise<void>"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},resize:{defaultValue:null,description:"",name:"resize",required:!0,type:{name:"(height: number, shouldForceUpdate?: boolean | undefined) => void"}},treeData:{defaultValue:null,description:"The data provided by user via `itemData` Tree component property.",name:"treeData",required:!1,type:{name:"any"}}}}}catch{}try{Wt.displayName="getTreeWalkerFunction",Wt.__docgenInfo={description:"Extracted from the React component for testing purposes",displayName:"getTreeWalkerFunction",props:{}}}catch{}try{_e.SINGLE_PANE.displayName="EntityTreeNodeType.SINGLE_PANE",_e.SINGLE_PANE.__docgenInfo={description:"The tree component's appearance and interactions will facilitate selection. Nodes will be larger and styles will indicate primary selection",displayName:"EntityTreeNodeType.SINGLE_PANE",props:{}}}catch{}try{_e.DUAL_PANE.displayName="EntityTreeNodeType.DUAL_PANE",_e.DUAL_PANE.__docgenInfo={description:"The tree component's appearance and interactions will facilitate browsing. Nodes will be smaller and styles will indicate secondary selection",displayName:"EntityTreeNodeType.DUAL_PANE",props:{}}}catch{}try{at.displayName="getNodeData",at.__docgenInfo={description:`Converts a TreeNode and related data into a TreeWalkerValue that react-vtree can use to render the tree.
Exported for testing purposes only.`,displayName:"getNodeData",props:{node:{defaultValue:null,description:"",name:"node",required:!0,type:{name:"TreeNode"}},nestingLevel:{defaultValue:null,description:"",name:"nestingLevel",required:!0,type:{name:"number"}},getNextPageOfChildren:{defaultValue:null,description:"",name:"getNextPageOfChildren",required:!0,type:{name:"() => Promise<void>"}},setSelectedId:{defaultValue:null,description:"",name:"setSelectedId",required:!0,type:{name:"(entityId: string) => void"}},treeNodeType:{defaultValue:null,description:"",name:"treeNodeType",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"}]}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},autoExpand:{defaultValue:null,description:"",name:"autoExpand",required:!0,type:{name:"(entityId: string) => boolean"}},defaultHeight:{defaultValue:null,description:"",name:"defaultHeight",required:!0,type:{name:"number"}},currentContainer:{defaultValue:null,description:"",name:"currentContainer",required:!1,type:{name:"string | null"}}}}}catch{}try{jt.displayName="VirtualizedTree",jt.__docgenInfo={description:`Component that utilizes react-vtree to efficiently display a tree of entities. react-vtree utilizes react-window
to only render visible nodes, which eliminates performance issues as seen in SWC-5978.`,displayName:"VirtualizedTree",props:{treeNodeType:{defaultValue:null,description:"",name:"treeNodeType",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"}]}},rootNodeConfiguration:{defaultValue:null,description:"",name:"rootNodeConfiguration",required:!0,type:{name:"RootNodeConfiguration"}},setSelectedId:{defaultValue:null,description:"",name:"setSelectedId",required:!0,type:{name:"(entityId: string) => void"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"Map<string, number>"}},currentContainer:{defaultValue:null,description:"",name:"currentContainer",required:!1,type:{name:"string | null"}},autoExpand:{defaultValue:null,description:"",name:"autoExpand",required:!0,type:{name:"(entityId: string) => boolean"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}}}}}catch{}const Bo=(i,t)=>{for(const n of t.path)if(i===n.id)return!0;return!1};var Pr=(i=>(i.CURRENT_PROJECT="Current Project",i.ALL_PROJECTS="All Projects",i.CREATED_BY_ME="Projects Created By Me",i.FAVORITES="My Favorites",i))(Pr||{});function Uo(i){switch(i){case"My Favorites":return"root";case"Current Project":case"All Projects":case"Projects Created By Me":return null}}function Ko(i){switch(i){case"Current Project":case"All Projects":case"Projects Created By Me":return"Projects";case"My Favorites":return"Favorites"}}function ot(i){var A;const{initialScope:t="Current Project",projectId:n,initialContainer:r=null,currentContainer:e,setCurrentContainer:a,visibleTypes:o=[me.PROJECT,me.FOLDER],toggleSelection:s,selectedEntities:l,setDetailsViewConfiguration:u,setBreadcrumbItems:h,showScopeAsRootNode:f=!0,treeNodeType:p,selectableTypes:w}=i,R={type:re.PROMPT},[c,b]=z.useState(t);z.useEffect(()=>{u&&u(R)},[]);const v=z.useCallback(E=>{s&&s({targetId:E}),a(E)},[a,s]),C=c==="All Projects"||c==="Projects Created By Me",{data:S,fetchNextPage:T,hasNextPage:m,isLoading:y}=hr(c==="Projects Created By Me"?{filter:"CREATED",sort:"PROJECT_NAME",sortDirection:"ASC"}:{sort:"PROJECT_NAME",sortDirection:"ASC"},{enabled:C,refetchInterval:1/0}),{data:_,isSuccess:x}=Se(e,void 0,Yn,{enabled:!!e&&e!=="root",useErrorBoundary:!0}),{data:D,isLoading:N}=wi("NAME","ASC",{select:E=>({...E,results:E.results.filter(L=>o.includes(Gr(L.type)))}),refetchInterval:1/0,useErrorBoundary:!0}),{data:M}=si(r,{enabled:!!(n&&r&&r.match(Zr)),refetchInterval:1/0,useErrorBoundary:!0}),{data:P,isLoading:F}=Si(n,void 0,{enabled:!!(n??((A=M==null?void 0:M.path[1])==null?void 0:A.id)),refetchInterval:1/0});c==="Current Project"&&n&&!F&&!P&&(Ci(`You don't have access to the current project (${n}).`,"warning"),b("Projects Created By Me"));const{topLevelEntities:V,isLoading:q}=z.useMemo(()=>{let E=[],L=!1;switch(c){case"All Projects":case"Projects Created By Me":S&&(E=S.pages.flatMap(K=>K.results).map(nt)),L=y;break;case"My Favorites":{E=(D==null?void 0:D.results)??[],L=N;break}case"Current Project":P&&(E=[P],L=F);break;default:throw new Error("No scope selected")}return{topLevelEntities:E,isLoading:L}},[D==null?void 0:D.results,N,F,y,S,P,c]);z.useEffect(()=>{if(u||h){let E,L=[];if(e===null)E={type:re.PROMPT},L=[];else if(e==="root"){switch(c){case"All Projects":E={type:re.USER_PROJECTS};break;case"Projects Created By Me":E={type:re.USER_PROJECTS,getProjectParams:{filter:"CREATED"}};break;case"Current Project":E={type:re.HEADER_LIST,headerList:V};break;case"My Favorites":E={type:re.USER_FAVORITES};break}L=[{name:c,isCurrent:!0,action:()=>{a("root")}}]}else E={type:re.PARENT_CONTAINER,parentContainerId:e},_&&(L=[{name:c,isCurrent:!1,action:()=>{a("root")}},..._.path.path.slice(1).map(K=>({name:K.name??K.id,isCurrent:K.id===e,action:()=>{a(K.id)}}))]);u&&u(E),h&&h(L)}},[c,e,V,u,h,_,x,a]);const H=z.useMemo(()=>({show:f,nodeText:Ko(c),children:V,fetchNextPage:async()=>{await T()},hasNextPage:C&&m&&!y}),[f,c,V,C,m,y,T]),O=z.useCallback(E=>E==="root"?!0:!!(c==="Current Project"&&M&&Bo(E,M)),[c,M]);return W("div",{className:`TreeView ${p===_e.SINGLE_PANE?"SelectTree":"BrowseTree"}`,children:[W("div",{className:"Header",children:[g("div",{className:"Browse",children:"Browse:"}),g("div",{onClick:E=>E.stopPropagation(),children:W(Ue,{children:[g(Ue.Toggle,{variant:"gray-primary-500",id:"dropdown-basic",children:c}),g(Ue.Menu,{role:"menu",children:Object.values(Pr).map(E=>E==="Current Project"&&n==null?g(I.Fragment,{},E):g(Ue.Item,{role:"menuitem",onClick:L=>{L.stopPropagation(),c!==E&&(b(E),a(Uo(E)))},children:E},E))})]})})]}),q?g("div",{className:"Placeholder",children:g(Bt,{size:30})}):g("div",{className:"Tree",role:"tree",children:g(jt,{selected:l,visibleTypes:o,autoExpand:O,rootNodeConfiguration:H,treeNodeType:p,selectableTypes:w,currentContainer:e,setSelectedId:v})})]})}try{ot.displayName="EntityTree",ot.__docgenInfo={description:"The TreeView displays a user's entities hierarchically, allowing a user to quickly dive into an entity tree.\n\nThe tree view currently can only be used to drive a DetailsView using the `setDetailsViewConfiguration` property.",displayName:"EntityTree",props:{initialScope:{defaultValue:null,description:"",name:"initialScope",required:!1,type:{name:"enum",value:[{value:'"Current Project"'},{value:'"All Projects"'},{value:'"Projects Created By Me"'},{value:'"My Favorites"'}]}},projectId:{defaultValue:null,description:"To show the current project, projectId must be defined",name:"projectId",required:!1,type:{name:"string"}},initialContainer:{defaultValue:null,description:"",name:"initialContainer",required:!0,type:{name:"EntityTreeContainer"}},currentContainer:{defaultValue:null,description:"",name:"currentContainer",required:!0,type:{name:"EntityTreeContainer"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!0,type:{name:"Dispatch<SetStateAction<EntityTreeContainer>>"}},showDropdown:{defaultValue:null,description:"",name:"showDropdown",required:!0,type:{name:"boolean"}},selectedEntities:{defaultValue:null,description:"",name:"selectedEntities",required:!0,type:{name:"Map<string, number>"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!1,type:{name:"EntityType[]"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!1,type:{name:"((entity: Reference) => void)"}},setDetailsViewConfiguration:{defaultValue:null,description:"",name:"setDetailsViewConfiguration",required:!1,type:{name:"((configuration: EntityDetailsListDataConfiguration) => void)"}},setBreadcrumbItems:{defaultValue:null,description:"",name:"setBreadcrumbItems",required:!1,type:{name:"((items: BreadcrumbItem[]) => void)"}},showScopeAsRootNode:{defaultValue:null,description:"Determines whether to show the root node corresponding to the selected scope",name:"showScopeAsRootNode",required:!1,type:{name:"boolean"}},treeNodeType:{defaultValue:null,description:"",name:"treeNodeType",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"}]}},selectableTypes:{defaultValue:null,description:"The entity types that may be selected.",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}}}}}catch{}const $o=Object.values(me),Go=Object.values(me),Qo=[me.PROJECT,me.FOLDER],ae=-1,Yo=i=>Object.values(me).filter(r=>!i.includes(r)).map(r=>({key:"node_type",value:r.toString(),not:!0})),Kn=({initialScope:i,projectId:t,initialContainer:n=null,selectMultiple:r,onSelectedChange:e,versionSelection:a=Y.TRACKED,selectableTypes:o=$o,visibleTypesInList:s=Go,visibleTypesInTree:l=Qo,selectedCopy:u=r?f=>`Selected (${f})`:"Selected",treeOnly:h=!1})=>{const{accessToken:f}=Oe(),[p,w]=z.useState(!1),[R,c]=z.useState(),[b,v]=z.useState(),[C,S]=z.useState({items:[]}),[T,m]=z.useState([]),[y,_]=z.useState({type:re.PROMPT}),x=z.useRef(null),D=z.useMemo(()=>[...l,...o],[l,o]),N=z.useMemo(()=>[...s,...o],[s,o]),[M,P]=z.useState(n),F=Qr(),V=z.useCallback(j=>{S({items:j})},[S]),[q,H]=Xo(r),O=z.useCallback(j=>q.has(j.id),[q]),A=z.useCallback(j=>{const Q=ne(j);return o.includes(Q)},[o]);z.useEffect(()=>{e(q.toArray().map(([j,Q])=>({targetId:j,targetVersionNumber:Q===ae?void 0:Q})))},[q,e]),z.useEffect(()=>{if((b==null?void 0:b.length)===1){const j=ei(b[0]);j&&st.getEntityHeaders([j],f).then(Q=>{m(Q.results)}).catch(Q=>F(Q))}else m([])},[f,b,F]);const E=p?"MainPanelSearch":h?"MainPanelSinglePane":"MainPanelDualPane";let L;const K=["table","entityview","materializedview","submissionview","dataset","datasetcollection"];return o.length===1?L=`Search for ${jr(Yr(o[0]))}`:o.every(j=>K.includes(j))?L="Search for Tables":L="Search all of Synapse",g(Zn,{children:W("div",{className:"EntityFinder",children:[g(Ti,{display:"flex",justifyContent:"flex-end",alignItems:"stretch",pb:1,children:W(U,{children:[p?g(dn,{variant:"outlined",color:"primary",onClick:()=>{w(!1),c(""),v(void 0)},startIcon:g(pr,{}),sx:{flexShrink:0,mr:1},children:"Back to Browse"}):g(dn,{variant:"contained",color:"primary",className:"EntityFinder__Search__SearchButton",onClick:()=>{w(!0),x.current.focus()},startIcon:g(sn,{}),sx:{flexShrink:0},children:L}),g(xi,{className:"EntityFinder__Search__Input","aria-hidden":!p,"data-active":p,inputRef:x,placeholder:"Search by name, Wiki contents, or Synapse ID",value:R,onChange:j=>{c(j.target.value)},onKeyDown:j=>{j.key==="Enter"&&(j.target.value===""?v(void 0):v(j.target.value.trim().split(" ")))},InputProps:{startAdornment:g(un,{position:"start",children:g(sn,{})}),endAdornment:g(un,{position:"end",children:g(Ii,{onClick:()=>{c(""),v(void 0)},"aria-label":"Clear Search",disabled:!R,children:g(fr,{})})})}})]})}),W("div",{className:`EntityFinder__MainPanel ${E}`,children:[p&&g(rt,{configuration:T&&T.length>0?{type:re.HEADER_LIST,headerList:T}:{type:re.ENTITY_SEARCH,query:{queryTerm:b,booleanQuery:Yo(o)}},versionSelection:a,selectColumnType:r?"checkbox":"none",selected:q,isIdSelected:O,isSelectable:A,visibleTypes:o,selectableTypes:o,toggleSelection:H,enableSelectAll:r,setCurrentContainer:void 0}),g("div",{style:p?{display:"none"}:{},children:h?g("div",{children:g(ot,{toggleSelection:H,showDropdown:!0,visibleTypes:D,initialScope:i,selectedEntities:q,projectId:t,initialContainer:n,currentContainer:M,setCurrentContainer:P,showScopeAsRootNode:!1,treeNodeType:_e.SINGLE_PANE,selectableTypes:o})}):g("div",{className:"EntityFinderReflexContainer",children:g(Jr.SizeMe,{children:({size:j})=>W(Yt,{orientation:"vertical",windowResizeAware:!0,children:[g(gn,{className:"TreeViewReflexElement",flex:.24,children:g(ot,{selectedEntities:q,setDetailsViewConfiguration:_,showDropdown:!0,visibleTypes:l,initialScope:i,projectId:t,initialContainer:n,currentContainer:M,setCurrentContainer:P,treeNodeType:_e.DUAL_PANE,setBreadcrumbItems:V,selectableTypes:l})}),g(ee,{}),W(gn,{className:"DetailsViewReflexElement",children:[g(rt,{configuration:y,versionSelection:a,selected:q,isIdSelected:O,isSelectable:A,visibleTypes:N,selectableTypes:o,selectColumnType:r?"checkbox":"none",toggleSelection:H,enableSelectAll:r,setCurrentContainer:P}),g(Rt,{...C})]})]},(!!j.width).toString())})})})]}),q.size>0&&g(kt,{title:u,selectedEntities:q,toggleSelection:H})]})})};try{Kn.displayName="EntityFinder",Kn.__docgenInfo={description:"",displayName:"EntityFinder",props:{selectMultiple:{defaultValue:null,description:"Whether or not it is possible to select multiple entities",name:"selectMultiple",required:!0,type:{name:"boolean"}},onSelectedChange:{defaultValue:null,description:"Callback invoked when the selection changes",name:"onSelectedChange",required:!0,type:{name:"(selected: Reference[]) => void"}},initialScope:{defaultValue:null,description:'The initial appearance of the entity finder. Possible values include "Current Project", "All Projects", "Projects Created By Me", "My Favorites"',name:"initialScope",required:!0,type:{name:"enum",value:[{value:'"Current Project"'},{value:'"All Projects"'},{value:'"Projects Created By Me"'},{value:'"My Favorites"'}]}},projectId:{defaultValue:null,description:`The SynID of the 'Current Project'. If this is not a defined, then the scope cannot be "Current Project"`,name:"projectId",required:!1,type:{name:"string"}},initialContainer:{defaultValue:{value:"null"},description:"The SynID of the entity that should open by default. If this is a Syn ID, then it must be in the project specified in `projectId`",name:"initialContainer",required:!1,type:{name:"string | null"}},versionSelection:{defaultValue:{value:"VersionSelectionType.TRACKED"},description:'Determines if versions are selectable, and if so, how they should be shown. Default is "TRACKED"',name:"versionSelection",required:!1,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},visibleTypesInList:{defaultValue:{value:"Object.values(EntityType)"},description:"The entity types to show in the details view (right pane). Any types specified in `selectableTypes` will automatically be included.",name:"visibleTypesInList",required:!1,type:{name:"EntityType[]"}},selectableTypes:{defaultValue:{value:"Object.values(EntityType)"},description:"The entity types that may be selected. Types in `visibleTypesInList` that are not in `selectableTypes` will appear as disabled options. Only the types in `selectableTypes` will appear in search",name:"selectableTypes",required:!1,type:{name:"EntityType[]"}},visibleTypesInTree:{defaultValue:{value:"[EntityType.PROJECT, EntityType.FOLDER]"},description:"The types to show in the tree used to navigate. If `treeOnly` is true, any types specified in `selectableTypes` will automatically be included.",name:"visibleTypesInTree",required:!1,type:{name:"EntityType[]"}},selectedCopy:{defaultValue:{value:"selectMultiple ? count => `Selected (${count})` : 'Selected'"},description:"The text to show before the list of selected entities",name:"selectedCopy",required:!1,type:{name:"string | ((count: number) => string)"}},treeOnly:{defaultValue:{value:"false"},description:"Whether to show only the tree. If `true`, the tree will be used to make selections",name:"treeOnly",required:!1,type:{name:"boolean"}}}}}catch{}function Xo(i){const t=z.useCallback((r,e)=>{const a=e.get(r.targetId);return a==null?!1:a===ae?r.targetVersionNumber===void 0:a===r.targetVersionNumber},[]),n=z.useCallback((r,e)=>r.withMutations(o=>{Array.isArray(e)||(e=[e]),e.forEach(s=>{t(s,r)?o.delete(s.targetId):(i||o.clear(),o.set(s.targetId,s.targetVersionNumber??ae))})}),[t,i]);return z.useReducer(n,Wr())}export{Hr as A,We as B,Dt as C,Fn as D,Kn as E,Pr as F,Co as L,zt as M,ae as N,qn as P,xo as T,Y as V,Wn as a,Ln as b,Et as c,Ot as d,kn as e,It as f,Mt as g,X as h,To as i,Xo as j,$t as u};
//# sourceMappingURL=useEntitySelection-c16eb3b8.js.map
