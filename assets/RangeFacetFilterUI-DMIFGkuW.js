import{r as f,cK as M,j as o,aS as K,aT as $,b1 as L,cp as u,aX as J,aY as Z,Y as ee,ir as w,dI as T,W as v,c7 as O,B as ae,Z as oe,f5 as te,ci as le}from"./iframe-BNuX63Gg.js";import{a2 as ne,f as se,g as S,h as re,P as ie,C as ue,u as k,j as ce,e as de,m as pe,t as j,p as me,a3 as fe,y as be,O as h,Q as U,R as ye,v as Y,s as B,U as G,Y as Te,$ as De,a0 as _,a1 as V}from"./useMobilePicker-lqY7_3tD.js";import{u as he}from"./index-CsZzG_M-.js";import{P as e}from"./index-CvmZKthN.js";import{R as xe}from"./RangeSlider-CUsR_30g.js";import{F as ge}from"./FacetFilterHeader-D-LJOLYp.js";import{R as ve}from"./RadioGroup-k7eUTwGZ.js";import{F as Pe}from"./FormControlLabel-CzBjWoYC.js";import{R as Re}from"./Radio-Bj8k1w4U.js";const Oe=t=>{const r=ne(t);return se({manager:r,props:t})},Ie=["slots","slotProps"],q=f.forwardRef(function(r,n){const s=S({props:r,name:"MuiDateField"}),{slots:a,slotProps:i}=s,p=M(s,Ie),c=re({slotProps:i,ref:n,externalForwardedProps:p}),l=Oe(c);return o.jsx(ie,{slots:a,slotProps:i,fieldResponse:l,defaultOpenPickerIcon:ue})});function Se(t){return K("MuiDatePickerToolbar",t)}$("MuiDatePickerToolbar",["root","title"]);const Ee=["toolbarFormat","toolbarPlaceholder","className","classes"],Ne=t=>Z({root:["root"],title:["title"]},Se,t),Me=L(me,{name:"MuiDatePickerToolbar",slot:"Root"})({}),ke=L(ee,{name:"MuiDatePickerToolbar",slot:"Title"})({variants:[{props:{pickerOrientation:"landscape"},style:{margin:"auto 16px auto auto"}}]}),je=f.forwardRef(function(r,n){const s=S({props:r,name:"MuiDatePickerToolbar"}),{toolbarFormat:a,toolbarPlaceholder:i="––",className:p,classes:c}=s,l=M(s,Ee),d=k(),{value:m,views:b,orientation:x}=ce(),g=de(),E=pe(),D=Ne(c),P=f.useMemo(()=>{if(!d.isValid(m))return i;const R=j(d,{format:a,views:b},!0);return d.formatByString(m,R)},[m,a,i,d,b]);return o.jsx(Me,u({ref:n,toolbarTitle:g.datePickerToolbarTitle,className:J(D.root,p)},l,{children:o.jsx(ke,{variant:"h4",align:x==="landscape"?"left":"center",ownerState:E,className:D.title,children:P})}))});function W(t,r){const n=S({props:t,name:r}),s=fe(n),a=f.useMemo(()=>n.localeText?.toolbarTitle==null?n.localeText:u({},n.localeText,{datePickerToolbarTitle:n.localeText.toolbarTitle}),[n.localeText]);return u({},n,s,{localeText:a},be({views:n.views,openTo:n.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{slots:u({toolbar:je},n.slots)})}const z=f.forwardRef(function(r,n){const s=k(),a=W(r,"MuiDesktopDatePicker"),i=u({day:h,month:h,year:h},a.viewRenderers),p=u({},a,{closeOnSelect:a.closeOnSelect??!0,viewRenderers:i,format:j(s,a,!1),yearsPerRow:a.yearsPerRow??4,slots:u({field:q},a.slots),slotProps:u({},a.slotProps,{field:l=>u({},w(a.slotProps?.field,l),U(a)),toolbar:u({hidden:!0},a.slotProps?.toolbar)})}),{renderPicker:c}=ye({ref:n,props:p,valueManager:B,valueType:"date",validator:Y,steps:null});return c()});z.propTypes={autoFocus:e.bool,className:e.string,closeOnSelect:e.bool,dayOfWeekFormatter:e.func,defaultValue:e.object,disabled:e.bool,disableFuture:e.bool,disableHighlightToday:e.bool,disableOpenPicker:e.bool,disablePast:e.bool,displayWeekNumber:e.bool,enableAccessibleFieldDOMStructure:e.any,fixedWeekNumber:e.number,format:e.string,formatDensity:e.oneOf(["dense","spacious"]),inputRef:G,label:e.node,loading:e.bool,localeText:e.object,maxDate:e.object,minDate:e.object,monthsPerRow:e.oneOf([3,4]),name:e.string,onAccept:e.func,onChange:e.func,onClose:e.func,onError:e.func,onMonthChange:e.func,onOpen:e.func,onSelectedSectionsChange:e.func,onViewChange:e.func,onYearChange:e.func,open:e.bool,openTo:e.oneOf(["day","month","year"]),orientation:e.oneOf(["landscape","portrait"]),readOnly:e.bool,reduceAnimations:e.bool,referenceDate:e.object,renderLoading:e.func,selectedSections:e.oneOfType([e.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),e.number]),shouldDisableDate:e.func,shouldDisableMonth:e.func,shouldDisableYear:e.func,showDaysOutsideCurrentMonth:e.bool,slotProps:e.object,slots:e.object,sx:e.oneOfType([e.arrayOf(e.oneOfType([e.func,e.object,e.bool])),e.func,e.object]),timezone:e.string,value:e.object,view:e.oneOf(["day","month","year"]),viewRenderers:e.shape({day:e.func,month:e.func,year:e.func}),views:e.arrayOf(e.oneOf(["day","month","year"]).isRequired),yearsOrder:e.oneOf(["asc","desc"]),yearsPerRow:e.oneOf([3,4])};const H=f.forwardRef(function(r,n){const s=k(),a=W(r,"MuiMobileDatePicker"),i=u({day:h,month:h,year:h},a.viewRenderers),p=u({},a,{viewRenderers:i,format:j(s,a,!1),slots:u({field:q},a.slots),slotProps:u({},a.slotProps,{field:l=>u({},w(a.slotProps?.field,l),U(a)),toolbar:u({hidden:!1},a.slotProps?.toolbar)})}),{renderPicker:c}=Te({ref:n,props:p,valueManager:B,valueType:"date",validator:Y,steps:null});return c()});H.propTypes={autoFocus:e.bool,className:e.string,closeOnSelect:e.bool,dayOfWeekFormatter:e.func,defaultValue:e.object,disabled:e.bool,disableFuture:e.bool,disableHighlightToday:e.bool,disableOpenPicker:e.bool,disablePast:e.bool,displayWeekNumber:e.bool,enableAccessibleFieldDOMStructure:e.any,fixedWeekNumber:e.number,format:e.string,formatDensity:e.oneOf(["dense","spacious"]),inputRef:G,label:e.node,loading:e.bool,localeText:e.object,maxDate:e.object,minDate:e.object,monthsPerRow:e.oneOf([3,4]),name:e.string,onAccept:e.func,onChange:e.func,onClose:e.func,onError:e.func,onMonthChange:e.func,onOpen:e.func,onSelectedSectionsChange:e.func,onViewChange:e.func,onYearChange:e.func,open:e.bool,openTo:e.oneOf(["day","month","year"]),orientation:e.oneOf(["landscape","portrait"]),readOnly:e.bool,reduceAnimations:e.bool,referenceDate:e.object,renderLoading:e.func,selectedSections:e.oneOfType([e.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),e.number]),shouldDisableDate:e.func,shouldDisableMonth:e.func,shouldDisableYear:e.func,showDaysOutsideCurrentMonth:e.bool,slotProps:e.object,slots:e.object,sx:e.oneOfType([e.arrayOf(e.oneOfType([e.func,e.object,e.bool])),e.func,e.object]),timezone:e.string,value:e.object,view:e.oneOf(["day","month","year"]),viewRenderers:e.shape({day:e.func,month:e.func,year:e.func}),views:e.arrayOf(e.oneOf(["day","month","year"]).isRequired),yearsOrder:e.oneOf(["asc","desc"]),yearsPerRow:e.oneOf([3,4])};const Fe=["desktopModeMediaQuery"],A=f.forwardRef(function(r,n){const s=S({props:r,name:"MuiDatePicker"}),{desktopModeMediaQuery:a=De}=s,i=M(s,Fe);return he(a,{defaultMatches:!0})?o.jsx(z,u({ref:n},i)):o.jsx(H,u({ref:n},i))});function I(t){const r="Min value should be less than max value",[n,s]=f.useState(!1),[a,i]=f.useState(()=>t.type==="number"&&t.initialValues?t.initialValues:t.initialValues&&{min:T(t.initialValues.min).format("YYYY-MM-DD"),max:T(t.initialValues.max).format("YYYY-MM-DD")}||{min:void 0,max:void 0}),p=({min:l,max:d},m="number")=>{if(l==null||d===null||d===void 0)return s(!1),!0;if(m==="number"){if(Number(l)>Number(d))return s(!0),!1}else if(Date.parse(l)>Date.parse(d))return s(!0),!1;return s(!1),!0},c=(l,d,m="number")=>{p(l,m)&&d(l)};return o.jsxs(v,{sx:{display:"flex",flexWrap:"wrap",flex:"1 0",marginRight:"10px",gap:"10px","& .MuiInputBase-root":{minWidth:"150px"},"& .MuiInputBase-root,.MuiButton-root":{height:"38px"},"& .MuiInputLabel-root":{color:"grey.700",fontWeight:400}},children:[t.type==="date"?o.jsxs(o.Fragment,{children:[o.jsx(v,{children:o.jsx(_,{dateAdapter:V,children:o.jsx(A,{enableAccessibleFieldDOMStructure:!1,label:"From",slots:{textField:O},slotProps:{textField:{inputProps:{"aria-label":"min"}}},value:a.min?T(a.min):null,onChange:l=>i({min:l?T(l).format("YYYY-MM-DD"):void 0,max:a.max})})})},"range_min"),o.jsx(v,{children:o.jsx(_,{dateAdapter:V,children:o.jsx(A,{enableAccessibleFieldDOMStructure:!1,label:"To",slots:{textField:O},slotProps:{textField:{inputProps:{"aria-label":"max"}}},value:a.max?T(a.max):null,onChange:l=>i({max:l?T(l).format("YYYY-MM-DD"):void 0,min:a.min})})})},"range_max")]}):o.jsxs(o.Fragment,{children:[o.jsx(v,{children:o.jsx(O,{label:"From",type:"number",value:a.min??"",onChange:l=>i({min:l.target.value,max:a.max}),slotProps:{htmlInput:{"aria-label":"min"}}})},"range_min"),o.jsx(v,{children:o.jsx(O,{label:"To",type:"number",value:a.max??"",onChange:l=>i({max:l.target.value,min:a.min}),slotProps:{htmlInput:{"aria-label":"max"}}})},"range_max")]}),o.jsx(ae,{size:"small",variant:"outlined",onClick:()=>c(a,t.onApplyClicked,t.type),sx:{alignSelf:"flex-end",fontSize:16},children:"Apply"}),n&&o.jsx("div",{className:"SRC-danger-color",children:t.errorText||r})]})}try{I.displayName="Range",I.__docgenInfo={description:"",displayName:"Range",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"number"'},{value:'"date"'}]}},initialValues:{defaultValue:null,description:"",name:"initialValues",required:!1,type:{name:"RangeValues<string | number>"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},errorText:{defaultValue:null,description:"",name:"errorText",required:!1,type:{name:"string"}},onApplyClicked:{defaultValue:null,description:"",name:"onApplyClicked",required:!0,type:{name:"(newValues: RangeValues<string | number>) => void"}}}}}catch{}const _e=[{label:te,value:"org.sagebionetworks.UNDEFINED_NULL_NOTSET"},{label:"Any",value:""},{label:"Range",value:"RANGE"}],Ve=(t,r)=>r?"":t===le?"org.sagebionetworks.UNDEFINED_NULL_NOTSET":"RANGE";function C(t){const{label:r,facetResult:n,hideCollapsible:s=!1,columnType:a,onAnySelected:i,onNotSetSelected:p,onRangeValueSelected:c}=t,[l,d]=f.useState(!1),{columnMin:m,columnMax:b,selectedMin:x,selectedMax:g}=n,E=!x&&!g,D=x||m,P=g||b,R=a==="DOUBLE"?"number":"date",Q=y=>{switch(X(y),y){case"RANGE":break;case"org.sagebionetworks.UNDEFINED_NULL_NOTSET":p();break;case"":{i();break}}},[F,X]=f.useState(Ve(D,E));return o.jsxs("div",{children:[o.jsx(ge,{isCollapsed:l,label:r,onClick:y=>d(y),hideCollapsible:s}),o.jsxs(oe,{in:!l,children:[o.jsx(ve,{value:F,onChange:(y,N)=>Q(N),children:_e.map(({value:y,label:N})=>o.jsx(Pe,{control:o.jsx(Re,{}),label:N,value:y},y))}),F==="RANGE"&&(m===b?o.jsx("label",{children:b}):o.jsxs(o.Fragment,{children:[a==="INTEGER"&&o.jsx(xe,{domain:[m,b],initialValues:{min:parseInt(D),max:parseInt(P)},step:1,onApplyClicked:c,children:">"},"RangeSlider"),a==="DATE"&&o.jsx(I,{initialValues:{min:x??T(parseInt(m)).toString(),max:g??T(parseInt(b)).toString()},type:R,onApplyClicked:c},"Range"),a==="DOUBLE"&&o.jsx(I,{initialValues:{min:parseFloat(D),max:parseFloat(P)},type:R,onApplyClicked:c},"Range")]}))]})]})}try{C.displayName="RangeFacetFilterUI",C.__docgenInfo={description:"",displayName:"RangeFacetFilterUI",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},facetResult:{defaultValue:null,description:"",name:"facetResult",required:!0,type:{name:'Pick<FacetColumnResultRange, "columnMin" | "columnMax" | "selectedMin" | "selectedMax">'}},columnType:{defaultValue:null,description:"",name:"columnType",required:!0,type:{name:"enum",value:[{value:'"STRING"'},{value:'"DOUBLE"'},{value:'"BOOLEAN"'},{value:'"INTEGER"'},{value:'"DATE"'},{value:'"FILEHANDLEID"'},{value:'"ENTITYID"'},{value:'"LINK"'},{value:'"MEDIUMTEXT"'},{value:'"LARGETEXT"'},{value:'"USERID"'},{value:'"STRING_LIST"'},{value:'"INTEGER_LIST"'},{value:'"BOOLEAN_LIST"'},{value:'"DATE_LIST"'},{value:'"USERID_LIST"'},{value:'"ENTITYID_LIST"'},{value:'"EVALUATIONID"'},{value:'"SUBMISSIONID"'},{value:'"JSON"'},{value:'"STRING"'},{value:'"DOUBLE"'},{value:'"BOOLEAN"'},{value:'"INTEGER"'},{value:'"DATE"'},{value:'"FILEHANDLEID"'},{value:'"ENTITYID"'},{value:'"LINK"'},{value:'"MEDIUMTEXT"'},{value:'"LARGETEXT"'},{value:'"USERID"'},{value:'"STRING_LIST"'},{value:'"INTEGER_LIST"'},{value:'"BOOLEAN_LIST"'},{value:'"DATE_LIST"'},{value:'"USERID_LIST"'},{value:'"ENTITYID_LIST"'},{value:'"EVALUATIONID"'},{value:'"SUBMISSIONID"'},{value:'"JSON"'}]}},hideCollapsible:{defaultValue:null,description:"",name:"hideCollapsible",required:!1,type:{name:"boolean"}},onRangeValueSelected:{defaultValue:null,description:"",name:"onRangeValueSelected",required:!0,type:{name:"(values: RangeValues) => void"}},onNotSetSelected:{defaultValue:null,description:"",name:"onNotSetSelected",required:!0,type:{name:"() => void"}},onAnySelected:{defaultValue:null,description:"",name:"onAnySelected",required:!0,type:{name:"() => void"}}}}}catch{}export{C as R};
