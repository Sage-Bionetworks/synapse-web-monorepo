import{e as C,r as O}from"./util-BwYjYPTz.js";import{r as P,a as q,b as j,_ as B,c as F,e as R,p as b}from"./index-CLScwntm.js";import{c as s}from"./index-Dl6G-zuu.js";import{d as A}from"./index-GEGPABih.js";var g,E;function N(){if(E)return g;E=1,g=o;var e=C.EventEmitter,u=O();u(o,e),o.Readable=P(),o.Writable=q(),o.Duplex=j(),o.Transform=B,o.PassThrough=F,o.finished=R,o.pipeline=b,o.Stream=o;function o(){e.call(this)}return o.prototype.pipe=function(i,p){var r=this;function m(h){i.writable&&i.write(h)===!1&&r.pause&&r.pause()}r.on("data",m);function I(){r.readable&&r.resume&&r.resume()}i.on("drain",I),!i._isStdio&&(!p||p.end!==!1)&&(r.on("end",_),r.on("close",c));var d=!1;function _(){d||(d=!0,i.end())}function c(){d||(d=!0,typeof i.destroy=="function"&&i.destroy())}function v(h){if(l(),e.listenerCount(this,"error")===0)throw h}r.on("error",v),i.on("error",v);function l(){r.removeListener("data",m),i.removeListener("drain",I),r.removeListener("end",_),r.removeListener("close",c),r.removeListener("error",v),i.removeListener("error",v),r.removeListener("end",l),r.removeListener("close",l),i.removeListener("close",l)}return r.on("end",l),r.on("close",l),i.on("close",l),i.emit("pipe",r),i},g}var f={};(function(e,u){if(e.setImmediate)return;var o=1,i={},p=!1,r=e.document,m;function I(t){typeof t!="function"&&(t=new Function(""+t));for(var a=new Array(arguments.length-1),n=0;n<a.length;n++)a[n]=arguments[n+1];var k={callback:t,args:a};return i[o]=k,m(o),o++}function d(t){delete i[t]}function _(t){var a=t.callback,n=t.args;switch(n.length){case 0:a();break;case 1:a(n[0]);break;case 2:a(n[0],n[1]);break;case 3:a(n[0],n[1],n[2]);break;default:a.apply(u,n);break}}function c(t){if(p)setTimeout(c,0,t);else{var a=i[t];if(a){p=!0;try{_(a)}finally{d(t),p=!1}}}}function v(){m=function(t){A.process.nextTick(function(){c(t)})}}function l(){if(e.postMessage&&!e.importScripts){var t=!0,a=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=a,t}}function h(){var t="setImmediate$"+Math.random()+"$",a=function(n){n.source===e&&typeof n.data=="string"&&n.data.indexOf(t)===0&&c(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),m=function(n){e.postMessage(t+n,"*")}}function M(){var t=new MessageChannel;t.port1.onmessage=function(a){var n=a.data;c(n)},m=function(a){t.port2.postMessage(a)}}function S(){var t=r.documentElement;m=function(a){var n=r.createElement("script");n.onreadystatechange=function(){c(a),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}function x(){m=function(t){setTimeout(c,0,t)}}var y=Object.getPrototypeOf&&Object.getPrototypeOf(e);y=y&&y.setTimeout?y:e,{}.toString.call(e.process)==="[object process]"?v():l()?h():e.MessageChannel?M():r&&"onreadystatechange"in r.createElement("script")?S():x(),y.setImmediate=I,y.clearImmediate=d})(typeof self>"u"?typeof s>"u"?s:s:self);var w=typeof s<"u"&&s||typeof self<"u"&&self||window,L=Function.prototype.apply,U=f.setTimeout=function(){return new T(L.call(setTimeout,w,arguments),clearTimeout)};f.setInterval=function(){return new T(L.call(setInterval,w,arguments),clearInterval)};f.clearTimeout=f.clearInterval=function(e){e&&e.close()};function T(e,u){this._id=e,this._clearFn=u}T.prototype.unref=T.prototype.ref=function(){};T.prototype.close=function(){this._clearFn.call(w,this._id)};f.enroll=function(e,u){clearTimeout(e._idleTimeoutId),e._idleTimeout=u};f.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1};f._unrefActive=f.active=function(e){clearTimeout(e._idleTimeoutId);var u=e._idleTimeout;u>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},u))};f.setImmediate=typeof self<"u"&&self.setImmediate||typeof s<"u"&&s.setImmediate||s&&s.setImmediate;f.clearImmediate=typeof self<"u"&&self.clearImmediate||typeof s<"u"&&s.clearImmediate||s&&s.clearImmediate;export{f as m,N as r,U as s};
