{"version":3,"file":"ObservationCard-1ff818b1.js","sources":["../../src/components/styled/LightTooltip.tsx","../../src/components/row_renderers/ObservationCard.tsx"],"sourcesContent":["import React from 'react'\nimport {\n  Tooltip,\n  TooltipProps,\n  tooltipClasses,\n  styled,\n  linkClasses,\n} from '@mui/material'\nimport { StyledComponent } from '@emotion/styled'\n\nexport const LightTooltip: StyledComponent<TooltipProps> = styled(\n  ({ className, ...props }: TooltipProps) => (\n    <Tooltip {...props} classes={{ popper: className }} />\n  ),\n)(({ theme }) => ({\n  [`& .${tooltipClasses.tooltip}`]: {\n    backgroundColor: theme.palette.background.paper,\n    color: theme.palette.grey[1000],\n    boxShadow: theme.shadows[1],\n    border: `1px solid ${theme.palette.grey[500]}`,\n  },\n  [`& .${tooltipClasses.arrow}`]: {\n    '&:before': {\n      boxShadow: theme.shadows[1],\n      border: `1px solid ${theme.palette.grey[500]}`,\n    },\n    color: theme.palette.background.paper,\n  },\n  [`& .${tooltipClasses.tooltip} .${linkClasses.root}`]: {\n    color: `${theme.palette.primary.main}`,\n  },\n}))\n\nexport default LightTooltip\n","import React from 'react'\nimport IconSvg from '../IconSvg/IconSvg'\nimport { ShowMore } from './utils'\nimport { UnitType } from 'dayjs'\nimport { Link, Skeleton } from '@mui/material'\nimport { SkeletonTable } from '../Skeleton/SkeletonTable'\nimport { UserBadge } from '../UserCard/UserBadge'\n\n/**\n * Column index values into the row values given provided in \"data\"\n */\nexport type ObservationCardSchema = {\n  observationSubmitterName: number\n  synapseId: number\n  observationTime: number\n  observationTimeUnits: number\n  observationText: number\n  observationType: number\n  doi: number\n}\n\nexport type ObservationCardProps = {\n  schema: ObservationCardSchema\n  data: (string | null)[]\n  includePortalCardClass?: boolean\n}\n\n/**\n * Specialized Observation Card, initially implemented for the NF portal.\n * Expects the following columns: submitterName, submitterUserId, time, timeUnits, text, and tag.\n */\nexport const ObservationCard: React.FunctionComponent<ObservationCardProps> = ({\n  data,\n  schema,\n  includePortalCardClass = true,\n}: ObservationCardProps) => {\n  const submitterName = data[schema.observationSubmitterName]\n  const submitterUserId = data[schema.synapseId]\n  const time = data[schema.observationTime]\n  const timeUnits = data[schema.observationTimeUnits] as UnitType\n  const text = data[schema.observationText]\n  const tag = data[schema.observationType]\n  const tags: string[] = JSON.parse(tag ?? '')\n  const doi = data[schema.doi]\n  return (\n    <div\n      className={`ObservationCard ${\n        includePortalCardClass ? 'SRC-portalCard' : ''\n      }`}\n    >\n      <div className=\"ObservationCard__submitter\">\n        {!submitterUserId && <div>{submitterName}</div>}\n        {submitterUserId && <UserBadge userId={submitterUserId} />}\n      </div>\n      {time && (\n        <div className=\"ObservationCard__time\">\n          <IconSvg icon=\"time\" />\n          <span>{`${time} ${timeUnits}`}</span>\n        </div>\n      )}\n      {text && (\n        <div className=\"ObservationCard__text\">\n          <ShowMore summary={text} />\n        </div>\n      )}\n      {doi && (\n        <div className=\"ObservationCard__doi\">\n          <Link href={doi} target=\"_blank\">\n            Reference\n          </Link>\n        </div>\n      )}\n      <div className=\"ObservationCard__tags\">\n        {tag &&\n          tags.map((tag, index) => {\n            return (\n              <span\n                key={index}\n                className=\"SRC-tag\"\n                style={{ marginRight: '5px' }}\n              >\n                {tag}\n              </span>\n            )\n          })}\n      </div>\n    </div>\n  )\n}\n\nexport const LoadingObservationCard: React.FunctionComponent = () => {\n  return (\n    <div className=\"SRC-portalCard ObservationCard\">\n      <div className=\"ObservationCard__submitter\">\n        <span>\n          <Skeleton width=\"100px\" />\n        </span>\n      </div>\n      <div className=\"ObservationCard__time\">\n        <IconSvg icon=\"time\" />\n      </div>\n      <div className=\"ObservationCard__text\">\n        <SkeletonTable numCols={1} numRows={4} />\n      </div>\n      <div className=\"ObservationCard__tags\">\n        <Skeleton width=\"80px\" />\n      </div>\n    </div>\n  )\n}\n"],"names":["LightTooltip","styled","className","props","jsx","Tooltip","theme","tooltipClasses","linkClasses","ObservationCard","data","schema","includePortalCardClass","submitterName","submitterUserId","time","timeUnits","text","tag","tags","doi","jsxs","UserBadge","IconSvg","ShowMore","Link","tag2","index","LoadingObservationCard","Skeleton","SkeletonTable"],"mappings":"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"}