import{j as o}from"./jsx-runtime-DoxjgJx5.js";import{a as p}from"./index-Cu9bd8lq.js";import{g as f,a as u}from"./UserBadge-DG4rw990.js";import{M as h}from"./SynapseConstants-xMHIvvjg.js";import{j as R}from"./index-BNbykmw2.js";import{w as x}from"./without-BqZUJPDz.js";class c extends p.Component{constructor(e){super(e),this.state={userProfileMap:{}},this.update=this.update.bind(this)}componentDidMount(){const{list:e}=this.props;this.update(e)}componentDidUpdate(e){const t=e.list,i=x(this.props.list.filter(a=>a),...t);i.length>0&&this.update(i)}update(e){f(e.filter(t=>!!t)).then(t=>{const i={};t.list.forEach(a=>{const{ownerId:n}=a;i[n]=a}),this.setState({userProfileMap:{...this.state.userProfileMap,...i}})}).catch(t=>{console.error("Error on batch call =",t)})}manuallyExtractData(e){const t=e.headers.findIndex(s=>s.name==="firstName"),i=e.headers.findIndex(s=>s.name==="lastName"),a=e.headers.findIndex(s=>s.name==="institution"),n=e.headers.findIndex(s=>s.columnType===R.USERID);return e.rows.filter(s=>!s.values[n]).map(s=>{const r=s.values;return{firstName:r[t]??"",lastName:r[i]??"",company:r[a]??void 0,ownerId:null,userName:r[t]?r[t][0]??"":""}})}render(){const{size:e=h,rowSet:t,list:i}=this.props,{userProfileMap:a={}}=this.state,n=t&&this.manuallyExtractData(t);let l=0;return o.jsx("div",{className:"SRC-card-grid-row",children:i.map(s=>{const r=s!=null?a[s]:null;if(r)return o.jsx("div",{className:"SRC-grid-item SRC-narrow-grid-item",children:o.jsx(u,{size:e,preSignedURL:r.clientPreSignedURL,userProfile:r})},JSON.stringify(r));const d=n&&n[l];return d?(l+=1,o.jsx("div",{className:"SRC-grid-item SRC-narrow-grid-item",children:o.jsx(u,{disableLink:!0,hideEmail:!0,size:e,userProfile:d})},JSON.stringify(d))):!1})})}}try{c.displayName="UserCardList",c.__docgenInfo={description:"",displayName:"UserCardList",props:{list:{defaultValue:null,description:"",name:"list",required:!0,type:{name:"(string | null)[]"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"AVATAR"'},{value:'"SMALL USER CARD"'},{value:'"MEDIUM USER CARD"'},{value:'"LARGE USER CARD"'}]}},rowSet:{defaultValue:null,description:"",name:"rowSet",required:!1,type:{name:"RowSet"}}}}}catch{}export{c as U};
