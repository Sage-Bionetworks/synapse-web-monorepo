import{ao as r,an as i,az as u,aA as d,df as y}from"./iframe-BywOI08r.js";import{w as l}from"./waitForAsyncResult-BcJVUCYM.js";const b={ENTITY:"ENTITY"};function D(e,t){const{synapseClient:s,keyFactory:n}=r();return i({...t,queryKey:n.getDOIAssociationQueryKey(e),queryFn:()=>y(()=>s.doiServicesClient.getRepoV1DoiAssociation(e))})}function C(e,t){const{synapseClient:s,keyFactory:n}=r();return i({...t,queryKey:n.getDOIQueryKey(e),queryFn:()=>y(()=>s.doiServicesClient.getRepoV1Doi(e))})}function O(e){const t=u(),{synapseClient:s,keyFactory:n}=r();return d({...e,mutationFn:async a=>{const o=await s.doiServicesClient.postRepoV1DoiAsyncStart({doiRequest:a});return(await l(()=>s.asynchronousJobServicesClient.getRepoV1AsynchronousJobJobId({jobId:o.token}))).responseBody},onSuccess(...a){e!=null&&e.onSuccess&&e.onSuccess(...a);const o=a[1].doi;if(o){const c={id:o.objectId,type:o.objectType,portalId:o.portalId,version:o.objectVersion};t.invalidateQueries({queryKey:n.getDOIQueryKey(c)})}}})}export{b as D,C as a,O as b,D as u};
