import{gx as b,fo as r,j as e,V as a,eG as I,a0 as L,c0 as R,X as p,_ as S,fz as k,dP as v,dO as C}from"./iframe-Ci1lmE8g.js";import{p as q}from"./SqlFunctions-DhkJEscO.js";import{P as D}from"./PortalSectionHeader-DUAZAKBB.js";import{G as w}from"./Grid-C8ZSRzfO.js";import{C as B}from"./Chip-7ZjY8iwO.js";const E=({pub:t,isLoading:s,categoryColIndex:u,titleColIndex:d,journalColIndex:o,publicationDateColIndex:l,doiColIndex:x})=>e.jsx(w,{sx:{height:{xs:"auto",sm:"initial"},minWidth:{xs:"280px",lg:"initial"},maxWidth:{xs:"450px",lg:"initial"}},children:e.jsx(a,{sx:{height:"100%"},children:s?e.jsx(R,{variant:"rectangular",height:275,width:"100%"}):e.jsxs("div",{children:[t.values[o]&&e.jsx(B,{label:e.jsx(p,{variant:"overline",sx:{fontSize:"14px",lineHeight:"initial"},children:t.values[o]}),sx:{borderRadius:"3px",height:"auto",padding:"4px 8px","& .MuiChip-label":{padding:"0",display:"block",whiteSpace:"normal"}}}),e.jsx(p,{variant:"headline2",sx:{color:"grey.1000",fontSize:"21px",padding:"20px 0px"},children:e.jsx(S,{href:k(t.values[x]||""),target:"_blank",sx:{color:"inherit",textDecoration:"none",fontWeight:"inherit","&:hover":{textDecoration:"none"}},children:t.values[d]})}),e.jsx(a,{sx:{display:"flex",gap:"8px",flexDirection:"column"},children:e.jsx(p,{variant:"body1",sx:{color:"grey.700",fontSize:"14px",lineHeight:1.35,paddingBottom:{xs:0,md:"35px"}},children:t.values[l]&&v(C(Number(t.values[l])),"MMMM, YYYY")})})]})})},t.rowId);function m(t){const{sql:s,buttonLink:u,buttonLinkText:d,summaryText:o}=t,l=q(s),x={partMask:I|L,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:l,query:{sql:s}},{data:n,isLoading:g}=b(x),h=(n==null?void 0:n.queryResult.queryResults.rows)??[];let c;(i=>{i.CATEGORY="Category",i.JOURNAL="Journal",i.TITLE="Title",i.PUBLICATION_DATE="publicationDate",i.DOI="DOI"})(c||(c={}));const f=r("Category",n),y=r("Journal",n),T=r("Title",n),j=r("publicationDate",n),_=r("DOI",n);return e.jsxs(a,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"3fr 1fr"},height:{xs:"auto",md:"initial"},gap:{xs:"24px",md:"80px"},padding:{xs:"40px",lg:"80px"}},children:[e.jsx(a,{sx:{order:{xs:1,md:0}},children:e.jsx(a,{sx:i=>({display:"grid",gap:"32px",gridTemplateColumns:{xs:"1fr",sm:"repeat(auto-fill, minmax(280px, 1fr))",lg:"repeat(auto-fill, minmax(255px, 1fr))",xl:"repeat(auto-fill, minmax(322px, 1fr))"},[i.breakpoints.down("sm")]:{"& > :nth-of-type(n+4)":{display:"none"}}}),children:h.map(i=>e.jsx(E,{pub:i,isLoading:g,categoryColIndex:f,titleColIndex:T,journalColIndex:y,publicationDateColIndex:j,doiColIndex:_},i.rowId))})}),e.jsx(a,{sx:{paddingBottom:"30px"},children:e.jsx(D,{title:"Recently Published",summaryText:o,buttonText:d,link:u,reverseButtonAndText:!0,sx:{h2:{fontSize:"24px",paddingTop:"30px",width:"100%"},"& p":{fontSize:"16px",lineHeight:"24px"}}})})]})}try{m.displayName="RecentPublicationsGrid",m.__docgenInfo={description:"",displayName:"RecentPublicationsGrid",props:{sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},buttonLink:{defaultValue:null,description:"",name:"buttonLink",required:!1,type:{name:"string"}},buttonLinkText:{defaultValue:null,description:"",name:"buttonLinkText",required:!1,type:{name:"string"}},summaryText:{defaultValue:null,description:"",name:"summaryText",required:!1,type:{name:"string"}}}}}catch{}export{m as R};
