import{r as l}from"./index-CF0uzcjZ.js";import{u as d}from"./index-Bw49UAc5.js";import{i as m}from"./const-Doag8klc.js";let u;function v(){if(!m)return;if(u)return u;const e=new Map,c=new ResizeObserver(r=>{r.forEach(n=>{var s;return(s=e.get(n.target))==null?void 0:s.forEach(i=>setTimeout(()=>{i(n)},0))})});return u={observer:c,subscribe(r,n){let s=e.get(r);s||(s=new Set,e.set(r,s),c.observe(r)),s.add(n)},unsubscribe(r,n){const s=e.get(r);s&&(s.delete(n),s.size||(e.delete(r),c.unobserve(r)))}},u}function E(e,c,r=!0){const n=r&&v(),s=d(c),i=e&&"current"in e?e.current:e;l.useEffect(()=>{const o=e&&"current"in e?e.current:e;if(!n||!o)return;let t=!0;const b=(...f)=>{t&&s.current(...f)};return n.subscribe(o,b),()=>{t=!1,n.unsubscribe(o,b)}},[i,n])}export{E as u};
