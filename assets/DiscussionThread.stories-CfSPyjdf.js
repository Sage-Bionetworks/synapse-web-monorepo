import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{m as rt,bB as Mt}from"./useFiles-DW966Sxu.js";import{O as it,p as X}from"./VerificationSubmission-NmfK1W18.js";import{u as st,A as kt}from"./useEntityBundle-DdeaXLST.js";import{f as It}from"./StringUtils-Dsx1COFf.js";import{S as Dt}from"./SynapseConstants-CkvAnyYS.js";import{r as a}from"./index-BnMe2I9X.js";import"./OrientationBanner-B_V_8P-O.js";import{u as Ot,a as Et,F as z,b as Nt}from"./ForumThreadEditor-Dyp4CGW2.js";import{c as _t,d as At,e as Lt}from"./useThread-AgyrpJZn.js";import{a as Gt}from"./useSubscription-DaXtWRwv.js";import{f as at}from"./DateFormatter-CsIKmkm_.js";import{d as nt}from"./dayjs.min-BEz-0kVO.js";import{C as Pt}from"./ConfirmationDialog-C24xbdfv.js";import{I as B}from"./IconSvg-DTn5O-Kt.js";import{M as lt}from"./MarkdownSynapse-BZeEk342.js";import{W as Y}from"./WarningDialog-DoutRnQs.js";import{d as A}from"./ToastMessage-D6GMcbQz.js";import{U as dt}from"./UserBadge-D7isOLtb.js";import{S as zt}from"./SkeletonTable-BDQFVOtM.js";import{B as O}from"./Box-CAzztnMs.js";import{S as Wt}from"./SubscribersModal--_Gy7UCX.js";import{a as Ft}from"./useForum-t4fuwihi.js";import{T as F}from"./Typography-YqtMErXG.js";import{g as pt,a as ct,c as ut,b as W,e as M}from"./createTheme-CRQ7I_dX.js";import{r as Yt,u as mt,s as ft,c as gt,m as xt}from"./DefaultPropsProvider-BjHJDCJr.js";import{g as Ut}from"./getValidReactChildren-CXyMSnrG.js";import{c as Vt}from"./createSimplePaletteValueFilter-cWNbIY60.js";import{B as Ht}from"./ButtonBase-C8vqs9WW.js";import{T as K}from"./TextField-DRxCHUsN.js";import{B as J}from"./Button-ZtEOC2FI.js";import"./fetchWithExponentialTimeout-CXmnpl-T.js";import"./useTimeout-CaCqnfzd.js";import"./FullWidthAlert-UbNPxrSF.js";import"./spreadSx-CwcO6WA9.js";import"./Alert-BjLLEYQE.js";import"./useSlot-DaAbZ6g5.js";import"./useForkRef-DX3Y6Sj8.js";import"./createSvgIcon-C2q1nMwu.js";import"./Close-C7SsaOD8.js";import"./IconButton-BpjBSXnW.js";import"./CircularProgress-By7awDiI.js";import"./Paper-Cm0ZKM3A.js";import"./useTheme-DGSOp33U.js";import"./useTheme-C0reHQDp.js";import"./Stack-C-HLu5NC.js";import"./extendSxProp-BKMPj3sl.js";import"./getThemeProps-DT-e-uqc.js";import"./AlertTitle-BHzRW8bN.js";import"./ClickAwayListener-Yo19yUA2.js";import"./getReactElementRef-ZqzxhBtP.js";import"./index-Dy1Bjgd_.js";import"./iframe-Dyk8IJ-S.js";import"./index-CYCi8QkA.js";import"./ownerDocument-DW-IO8s5.js";import"./Grow-DdJ2MXtp.js";import"./Tooltip-D0YpnBhP.js";import"./index-BvEgmguE.js";import"./useControlled-DNKL0F_F.js";import"./Popper-BdxdSPd9.js";import"./isFocusVisible-B8k4qzLc.js";import"./useQuery-D0ZIeSwo.js";import"./QueryClientProvider-B1B9bJpc.js";import"./Link-D5Q1X9eZ.js";import"./Collapse-BryfRUf4.js";import"./_baseUniq-C3xWzPcM.js";import"./_Uint8Array-WQu6sT7x.js";import"./isArray-_2Wn4RW0.js";import"./_getTag-BRueWzvo.js";import"./isEqual-CHx69R3G.js";import"./merge-Dz8auUWg.js";import"./_initCloneObject-T6ZxVYQi.js";import"./identity-DKeuBCMA.js";import"./tinycolor-Begke6kS.js";import"./Fade-BVHiNZZI.js";import"./inputBaseClasses-D5snuY8I.js";import"./calculateFriendlyFileSize-DGWeS3EQ.js";import"./CheckCircleTwoTone-O3B4OxHZ.js";import"./InfoTwoTone-ZATdcR--.js";import"./index-DkcUolcj.js";import"./useMutation-DYT2sKRm.js";import"./chunk-AYJ5UCUI-CifHNI74.js";import"./cloneDeep-D2swbxo-.js";import"./Skeleton-P1Q-QFo6.js";import"./index-CtHvokBV.js";import"./react-DtD5Y0AT.js";import"./useInfiniteQuery-BcfoE5Y1.js";import"./InfiniteQueryUtils-CKlRW-xB.js";import"./MarkdownEditor-CmSUxzoX.js";import"./DialogBase-4gOIhAss.js";import"./Close-C4ct42Zi.js";import"./HelpPopover-Brw1aOpe.js";import"./MarkdownPopover-C4zrleeU.js";import"./LightTooltip-BIPB0DRu.js";import"./HelpOutlineTwoTone-rRPxqcXB.js";import"./DialogTitle-_ulM7ewW.js";import"./DialogContent-DxEEXMat.js";import"./Dialog-ChpDtsOx.js";import"./Modal-D-RYgBti.js";import"./getScrollbarSize-CaCM53D3.js";import"./ownerWindow-HkKU3E4x.js";import"./createChainedFunction-BO_9K8Jh.js";import"./Backdrop-BJg5nsDI.js";import"./UserSearchBoxV2-CaJuM34b.js";import"./useDebouncedEffect-QC-tzNKL.js";import"./use-deep-compare-effect.esm-DoOngVIB.js";import"./uniq-D4O6lco-.js";import"./without-BXm5N33q.js";import"./_baseSlice-F8doVSIJ.js";import"./toInteger-Dz5QnYQ9.js";import"./toNumber-Dj6uHqmM.js";import"./isSymbol--G4KAMsC.js";import"./Select-aab027f3.esm-BUZir3pC.js";import"./defineProperty-CegpTSss.js";import"./UserOrTeamBadge-Bo1NGoMM.js";import"./TeamBadge-GOLiySYu.js";import"./Tabs-Bq5lKPB-.js";import"./debounce-Be36O1Ab.js";import"./KeyboardArrowRight-BLcjNz1W.js";import"./_arrayReduce-CrxnWFSq.js";import"./toString-D_Gw6gIC.js";import"./upperFirst-BkQ3we2J.js";import"./_stringToArray-N8cAV6t0.js";import"./localizedFormat-BcSbBd9Q.js";import"./utc-DkO6pUW2.js";import"./LayersTwoTone-BRT-bqrb.js";import"./ContentCopyTwoTone-BrXxhJ1S.js";import"./ErrorOutlined-DUJK4jOF.js";import"./GetAppTwoTone-DLz5NdcP.js";import"./InfoOutlined-D4cqi8PO.js";import"./PhoneTwoTone-CIKmbjf8.js";import"./DeleteTwoTone-DbaKbVnJ.js";import"./SkeletonButton-BeLS2JMV.js";import"./SkeletonInlineBlock-C7kIC6Jo.js";import"./SkeletonParagraph-cY1-XFwb.js";import"./times-BsHxc-DE.js";import"./uniqueId-DqfS3uIq.js";import"./CSSTransition-CyTj1q0I.js";import"./Popover-GbXGmdTQ.js";import"./isHostComponent-DVu5iVWx.js";import"./mergeSlotProps-CNChk6KG.js";import"./Menu-DGHc6cM2.js";import"./MenuList-BjFX3tS6.js";import"./List-1_o-z4un.js";import"./Divider-CcfksUxw.js";import"./dividerClasses-arBywPnp.js";import"./MenuItem-CBZOlTED.js";import"./Card-f_mWJtDf.js";import"./Avatar-WaWy2VXo.js";import"./Chip-B0IjyJ6e.js";import"./Select-DVh3mlk3.js";import"./FormControl-BSnXFwbr.js";import"./useFormControl-DjUmuMD2.js";import"./isMuiElement-CSSREJ-i.js";import"./formControlState-Dq1zat_P.js";import"./InputBase-BLYsr1Xb.js";import"./Input-h7xa0B4H.js";import"./InputLabel-xf98eyiK.js";import"./FormLabel-DsUNRDNu.js";import"./FormHelperText-yMINB6bu.js";function qt(t){return ct("MuiToggleButton",t)}const k=pt("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),ht=a.createContext({}),yt=a.createContext(void 0);function Xt(t,o){return o===void 0||t===void 0?!1:Array.isArray(o)?o.includes(t):t===o}const Kt=t=>{const{classes:o,fullWidth:n,selected:u,disabled:m,size:x,color:h}=t,c={root:["root",u&&"selected",m&&"disabled",n&&"fullWidth",`size${W(x)}`,h]};return gt(c,qt,o)},Jt=ft(Ht,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:n}=t;return[o.root,o[`size${W(n.size)}`]]}})(xt(({theme:t})=>({...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active,[`&.${k.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:M(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${k.selected}`]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:M(t.palette.text.primary,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:M(t.palette.text.primary,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:M(t.palette.text.primary,t.palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter(Vt()).map(([o])=>({props:{color:o},style:{[`&.${k.selected}`]:{color:(t.vars||t).palette[o].main,backgroundColor:t.vars?`rgba(${t.vars.palette[o].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:M(t.palette[o].main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[o].mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:M(t.palette[o].main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette[o].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:M(t.palette[o].main,t.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}))),Q=a.forwardRef(function(o,n){const{value:u,...m}=a.useContext(ht),x=a.useContext(yt),h=Yt({...m,selected:Xt(o.value,u)},o),c=mt({props:h,name:"MuiToggleButton"}),{children:v,className:y,color:b="standard",disabled:p=!1,disableFocusRipple:j=!1,fullWidth:d=!1,onChange:T,onClick:g,selected:f,size:R="medium",value:w,...E}=c,r={...c,color:b,disabled:p,disableFocusRipple:j,fullWidth:d,size:R},$=Kt(r),N=l=>{g&&(g(l,w),l.defaultPrevented)||T&&T(l,w)},s=x||"";return e.jsx(Jt,{className:ut(m.className,$.root,y,s),disabled:p,focusRipple:!j,ref:n,onClick:N,onChange:T,value:w,ownerState:r,"aria-pressed":f,...E,children:v})});function Qt(t){return ct("MuiToggleButtonGroup",t)}const i=pt("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),Zt=t=>{const{classes:o,orientation:n,fullWidth:u,disabled:m}=t,x={root:["root",n,u&&"fullWidth"],grouped:["grouped",`grouped${W(n)}`,m&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return gt(x,Qt,o)},te=ft("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:n}=t;return[{[`& .${i.grouped}`]:o.grouped},{[`& .${i.grouped}`]:o[`grouped${W(n.orientation)}`]},{[`& .${i.firstButton}`]:o.firstButton},{[`& .${i.lastButton}`]:o.lastButton},{[`& .${i.middleButton}`]:o.middleButton},o.root,n.orientation==="vertical"&&o.vertical,n.fullWidth&&o.fullWidth]}})(xt(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${i.grouped}`]:{[`&.${i.selected} + .${i.grouped}.${i.selected}`]:{borderTop:0,marginTop:0}},[`& .${i.firstButton},& .${i.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${i.lastButton},& .${i.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${i.lastButton}.${k.disabled},& .${i.middleButton}.${k.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${i.grouped}`]:{[`&.${i.selected} + .${i.grouped}.${i.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${i.firstButton},& .${i.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${i.lastButton},& .${i.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${i.lastButton}.${k.disabled},& .${i.middleButton}.${k.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),ee=a.forwardRef(function(o,n){const u=mt({props:o,name:"MuiToggleButtonGroup"}),{children:m,className:x,color:h="standard",disabled:c=!1,exclusive:v=!1,fullWidth:y=!1,onChange:b,orientation:p="horizontal",size:j="medium",value:d,...T}=u,g={...u,disabled:c,fullWidth:y,orientation:p,size:j},f=Zt(g),R=a.useCallback((s,l)=>{if(!b)return;const S=d&&d.indexOf(l);let I;d&&S>=0?(I=d.slice(),I.splice(S,1)):I=d?d.concat(l):[l],b(s,I)},[b,d]),w=a.useCallback((s,l)=>{b&&b(s,d===l?null:l)},[b,d]),E=a.useMemo(()=>({className:f.grouped,onChange:v?w:R,value:d,size:j,fullWidth:y,color:h,disabled:c}),[f.grouped,v,w,R,d,j,y,h,c]),r=Ut(m),$=r.length,N=s=>{const l=s===0,S=s===$-1;return l&&S?"":l?f.firstButton:S?f.lastButton:f.middleButton};return e.jsx(te,{role:"group",className:ut(f.root,x),ref:n,ownerState:g,...T,children:e.jsx(ht.Provider,{value:E,children:r.map((s,l)=>e.jsx(yt.Provider,{value:N(l),children:s},l))})})}),H="replyid",oe=t=>{const n=`${`${window.location.origin}${window.location.pathname}`}?${H}=${t}`;It(n).then(()=>A("Reply link copied to clipboard","info"))};function U(t){const{reply:o,isReplyAuthorModerator:n=!1}=t,[u,m]=a.useState(!1),[x,h]=a.useState(!1),{data:c}=rt(),{data:v}=st(o.projectId),{data:y,isLoading:b}=Ot(o),p=a.useRef(null),{mutate:j}=Et({onSuccess:()=>{h(!1),A("A reply has been deleted.","info")}}),d=o.createdBy==(c==null?void 0:c.ownerId);return a.useEffect(()=>{const g=new URLSearchParams(window.location.search).get(H);let f;return g===o.id&&p.current&&(p.current.style.transition="background-color 1s ease",p.current.style.backgroundColor="#fbf4e0",p.current.style.borderColor="#f4dda3",f=setTimeout(()=>{p.current&&(p.current.style.backgroundColor="#f9f9f9",p.current.style.borderColor="#ccc")},2e3)),()=>{f&&clearTimeout(f)}},[o.id]),e.jsx("div",{className:"reply-container",id:`reply._${o.id}`,ref:p,role:"article",children:b?e.jsx(zt,{numCols:1,numRows:4}):e.jsx(e.Fragment,{children:y&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(dt,{userId:o.createdBy,withAvatar:!0,avatarSize:"MEDIUM",showCardOnHover:!0,showModeratorBadge:n}),e.jsxs("div",{className:"message-body",children:[e.jsx(lt,{markdown:y,objectType:it.REPLY}),e.jsxs("span",{children:["posted ",at(nt(o.createdOn),"M/D/YYYY"),o.isEdited?e.jsx("i",{children:" (Edited)"}):null]}),e.jsxs(O,{sx:{display:"flex",justifyContent:"flex-end",marginTop:{xs:"8px",sm:0},float:{sm:"right"}},children:[e.jsx("button",{onClick:()=>oe(o.id),children:e.jsx(B,{icon:"link",label:"Copy link to this reply"})}),d&&e.jsx("button",{onClick:()=>m(!0),children:e.jsx(B,{icon:"edit",label:"Edit reply"})}),(v==null?void 0:v.permissions.canModerate)&&e.jsx("button",{onClick:()=>h(!0),children:e.jsx(B,{icon:"delete",label:"Delete reply"})})]})]})]}),e.jsx(z,{isReply:!0,initialText:y,onClose:()=>m(!1),id:o.id,isDialog:!0,openDialog:u}),e.jsx(Y,{open:x,title:"Confirm Deletion",content:"Are you sure you want to delete this reply?",onCancel:()=>{h(!1)},onConfirm:()=>j({forumId:o.forumId,threadId:o.threadId,replyId:o.id}),confirmButtonColor:"error",confirmButtonText:"Delete"})]})})})}try{U.displayName="DiscussionReply",U.__docgenInfo={description:"",displayName:"DiscussionReply",props:{reply:{defaultValue:null,description:"",name:"reply",required:!0,type:{name:"DiscussionReplyBundle"}},isReplyAuthorModerator:{defaultValue:null,description:"",name:"isReplyAuthorModerator",required:!1,type:{name:"boolean"}},onClickLink:{defaultValue:null,description:"",name:"onClickLink",required:!1,type:{name:"() => void"}}}}}catch{}const re="You are following this topic. Click to stop following.",ie="You are not following this topic. Click to follow.",se="You will need to sign in for access to that resource",Z="Write a reply...";function V(t){const{threadId:o,limit:n}=t,u="16px",[m,x]=a.useState(!0),[h,c]=a.useState(!1),[v,y]=a.useState(!1),[b,p]=a.useState(!1),[j,d]=a.useState(!1),[T,g]=a.useState(!1),[f,R]=a.useState(!1),[w,E]=a.useState(!1),{threadData:r,threadBody:$,togglePin:N}=_t(o),{data:s}=rt(),{data:l}=st((r==null?void 0:r.projectId)??"",void 0,kt,{enabled:!!r}),{subscription:S,toggleSubscribed:I,isLoading:bt}=Gt(o,X.THREAD),{mutate:Ct}=At({onSuccess:()=>{d(!1),A("A thread has been deleted.","info")}}),{mutate:Bt}=Lt({onSuccess:()=>{R(!1),A("A thread has been restored.","info")}}),vt=(r==null?void 0:r.createdBy)==(s==null?void 0:s.ownerId);function jt(){if((s==null?void 0:s.userName)=="anonymous")g(!0);else try{I()}catch(C){A(C.reason,"danger")}}const{data:L,hasNextPage:Tt,fetchNextPage:Rt}=Nt(o,m,n),{data:D}=Ft((r==null?void 0:r.forumId)??"",{enabled:!!(r!=null&&r.forumId)}),wt=D==null?void 0:D.includes((r==null?void 0:r.createdBy)??""),[G,St]=Mt(H),q=a.useMemo(()=>{const C=(L==null?void 0:L.pages.flatMap(_=>_.results))??[];return G?C.filter(_=>_.id===G):C},[L,G]),$t=()=>{St(null)};return e.jsxs("div",{className:"DiscussionThread",role:"article",children:[r&&$?e.jsxs(e.Fragment,{children:[e.jsxs(O,{sx:{mb:2,textAlign:"right"},children:[e.jsx(F,{component:"span",sx:{mr:1},children:"Sort:"}),e.jsxs(ee,{color:"primary",exclusive:!0,value:m?"datePosted":"mostRecent",children:[e.jsx(Q,{value:"datePosted",onClick:()=>x(!0),children:"Date Posted"}),e.jsx(Q,{value:"mostRecent",onClick:()=>x(!1),children:"Most Recent"})]})]}),e.jsx(dt,{userId:r.createdBy,withAvatar:!0,avatarSize:"MEDIUM",showCardOnHover:!0,showModeratorBadge:wt}),e.jsxs(O,{sx:C=>({[C.breakpoints.down("sm")]:{display:"flex",flexDirection:"column-reverse",marginBottom:u,marginTop:u,".SubscribersModal":{justifyContent:"flex-start",marginBottom:u}}}),children:[e.jsx(F,{sx:{marginTop:"4px"},variant:"headline2",children:r.title}),e.jsx(Wt,{id:o,objectType:X.THREAD,showModal:w,handleModal:E})]}),e.jsx("div",{children:e.jsx(lt,{markdown:$,objectType:it.THREAD})}),e.jsxs("span",{children:["posted ",at(nt(r.createdOn),"M/D/YYYY"),r.isEdited?e.jsx("i",{children:" (Edited)"}):null]}),e.jsx(z,{isReply:!1,initialText:$,onClose:()=>c(!1),initialTitle:r==null?void 0:r.title,id:o,isDialog:!0,openDialog:h})]}):e.jsx(e.Fragment,{}),e.jsx(O,{sx:{float:"right",margin:{xs:"8px 0",sm:"0 24px 0 0"}},children:r!=null&&r.isDeleted?e.jsx("button",{onClick:()=>R(!0),children:e.jsx(B,{icon:"restore",label:"Restore deleted thread"})}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:e.jsx("button",{className:"follow-button","aria-label":S?"Unfollow thread":"Follow thread",disabled:bt,onClick:()=>jt(),children:S?e.jsx(B,{icon:"visibility",label:re}):e.jsx(B,{icon:"visibilityOff",label:ie})})}),vt&&e.jsx("button",{onClick:()=>c(!0),children:e.jsx(B,{icon:"edit",label:"Edit thread"})}),l!=null&&l.permissions.canModerate?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>d(!0),children:e.jsx(B,{icon:"delete",label:"Delete thread"})}),e.jsx("button",{onClick:()=>N(),children:r!=null&&r.isPinned?e.jsx(B,{icon:"pushpin",sx:{color:"error.main"},label:"Unpin thread"}):e.jsx(B,{icon:"pushpin",label:"Pin thread"})})]}):null]})}),e.jsx(O,{sx:{mt:2,mb:3},children:v?e.jsx(z,{id:o,isReply:!0,onClose:()=>y(!1),isDialog:!1}):e.jsx(K,{fullWidth:!0,placeholder:Z,onClick:()=>{(s==null?void 0:s.userName)=="anonymous"?g(!0):y(!0)}})}),G&&e.jsxs(J,{variant:"outlined",onClick:$t,sx:{display:"flex",alignItems:"center",padding:"2px 8px",marginBottom:"12px",gap:"4px"},children:[e.jsx(B,{icon:"arrowBack",sx:{width:"16px"}}),e.jsx(F,{variant:"smallText2",children:"Show all replies"})]}),e.jsx("div",{children:q.map(C=>{const _=D==null?void 0:D.includes(C.createdBy);return e.jsx(U,{reply:C,isReplyAuthorModerator:_},C.id)})}),q.length>0&&e.jsx(O,{sx:C=>({mt:2,mb:3,[C.breakpoints.down("sm")]:{MarkdownEditor:{display:"block"}}}),children:b?e.jsx(z,{id:o,isReply:!0,onClose:()=>p(!1),isDialog:!1}):e.jsx(K,{fullWidth:!0,placeholder:Z,onClick:()=>{(s==null?void 0:s.userName)=="anonymous"?g(!0):p(!0)}})}),Tt?e.jsx(J,{variant:"outlined",onClick:()=>{Rt()},children:"Show more results"}):e.jsx(e.Fragment,{}),e.jsx(Y,{open:j,title:"Confirm Deletion",content:"Are you sure you want to delete this thread?",onCancel:()=>d(!1),onConfirm:()=>r&&Ct(r),confirmButtonColor:"error",confirmButtonText:"Delete"}),e.jsx(Y,{open:f,title:"Confirm Restoration",content:"Are you sure you want to restore this thread?",onCancel:()=>R(!1),onConfirm:()=>r&&Bt(r),confirmButtonColor:"info",confirmButtonText:"Restore"}),e.jsx(Pt,{open:T,title:"Sign In Required",content:se,onCancel:()=>g(!1),hasCancelButton:!1,onConfirm:()=>g(!1),confirmButtonProps:{children:"Sign In",className:Dt}})]})}try{V.displayName="DiscussionThread",V.__docgenInfo={description:"",displayName:"DiscussionThread",props:{threadId:{defaultValue:null,description:"",name:"threadId",required:!0,type:{name:"string"}},limit:{defaultValue:null,description:"",name:"limit",required:!0,type:{name:"number"}}}}}catch{}const si={title:"Synapse/DiscussionThread",component:V},P={args:{threadId:"1138",limit:30}};var tt,et,ot;P.parameters={...P.parameters,docs:{...(tt=P.parameters)==null?void 0:tt.docs,source:{originalSource:`{
  args: {
    threadId: '1138',
    limit: 30
  }
}`,...(ot=(et=P.parameters)==null?void 0:et.docs)==null?void 0:ot.source}}};const ai=["DiscussionThreadDemo"];export{P as DiscussionThreadDemo,ai as __namedExportsOrder,si as default};
