import{j as t}from"./jsx-runtime-Du8NFWEI.js";import{R as nt,r as m}from"./index-Dl6G-zuu.js";import{R as a,d as k,M as B,b as H}from"./index-Bm-ar3Hy.js";import{p as at}from"./pluralize-CVwSCrA2.js";import"./SynapseClient-DVyO1Vhq.js";import"./OrientationBanner-BV5RFxzC.js";import"./getEndpoint-CjoHA800.js";import{e as ct,f as ut,b as lt}from"./useAccessRequirements-Cd573zLx.js";import{E as dt}from"./EntitySubjectsSelector-BMHKTSl7.js";import{T as Et}from"./TeamSubjectsSelector-DebP0wxN.js";import{R as St}from"./RadioGroup-AMpK4AOs.js";import{S}from"./Skeleton-C2B0Utez.js";import{M as C}from"./TextField-BYBL0P0S.js";import{M as I}from"./Alert-HJYNNEvY.js";import{T as q}from"./Typography-B88_J_TK.js";import{S as Tt}from"./Stack-CkbmjR2j.js";import{M as ft}from"./Tooltip-CYVQ1vhC.js";import{H as Rt}from"./IconSvg-CivN4akd.js";import{B as ht}from"./Button-mb55Lwfk.js";import{P as xt}from"./Paper-BWoP1bRz.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./SynapseConstants-DcrAutld.js";import"./tinycolor-Begke6kS.js";import"./createSvgIcon-BYNyJbGL.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm-Bpxk95mn.js";import"./createTheme-CwlmBDro.js";import"./index-DMoHWj5j.js";import"./styled-OgyJf9MH.js";import"./InfoTwoTone-sybcF8uh.js";import"./CheckCircleTwoTone-h9GSy5KG.js";import"./colorManipulator-CXx1BTzE.js";import"./inputBaseClasses-DUreQxsm.js";import"./Fade-BNGotgqy.js";import"./utils-C1pLSGi5.js";import"./inheritsLoose-B7h9gheN.js";import"./index-D1_ZHIBm.js";import"./TransitionGroupContext-DGN18uA0.js";import"./useForkRef-CEBgoE3Z.js";import"./index-aEXBT5Ni.js";import"./dayjs.min-d18Up55D.js";import"./index-BfyspvgH.js";import"./tiny-invariant-CopsF_GD.js";import"./FullWidthAlert-xeBFwHL5.js";import"./Box-DRdN2jdb.js";import"./AlertTitle-DKiwjjrh.js";import"./mergeSlotProps-DHTQkAbv.js";import"./isHostComponent-DVu5iVWx.js";import"./Grow-DYov3NPi.js";import"./ClickAwayListener-BnMSRy2k.js";import"./ownerDocument-DW-IO8s5.js";import"./Link-EkQ0dGSu.js";import"./useIsFocusVisible-DHYsnH_Q.js";import"./_getTag-B6zWmB6G.js";import"./_Map-W_LbVzGG.js";import"./isArray-D3Xc0Edl.js";import"./StringUtils-D4kDWP8q.js";import"./useQueries-BHFREVji.js";import"./useMutation-Ce5D4BUb.js";import"./useInfiniteQuery-OS0R5hDG.js";import"./useMediaQuery-BVccMj50.js";import"./sortBy-DLfoUNR6.js";import"./_baseFlatten-By2xwZox.js";import"./_getAllKeys-CgFfSulb.js";import"./_Uint8Array-DkdoQoHp.js";import"./_baseTimes-DoMoQz2v.js";import"./toString-DMqudUWC.js";import"./isSymbol-BVHl_2sa.js";import"./_baseIteratee-CT3tCQqp.js";import"./_getMatchData-DyqFmP33.js";import"./_baseIsEqual-C_xb3_5M.js";import"./_cacheHas-BGExH0_3.js";import"./_setToArray-CSiN_fit.js";import"./identity-DKeuBCMA.js";import"./_baseFor-CpEDs2Sd.js";import"./_baseRest-D-Z3dxmq.js";import"./_overRest-CMiEPqX5.js";import"./_defineProperty-BehcNqME.js";import"./_isIterateeCall-Dz8ZmhG7.js";import"./QueryFilterUtils-C5NvFEqO.js";import"./isEqual-CzWE5dRj.js";import"./isNumber-IkxNlUCJ.js";import"./EntityHeaderTable-DmwcY7DP.js";import"./HelpPopover-CkcKm78z.js";import"./WideButton-D5-h12qa.js";import"./RequestDownloadCard-LoRP0z9U.js";import"./ActionRequiredCard-DGv7tl61.js";import"./Icon-Bqg5PDws.js";import"./LoadingScreen-Cp1NTgGu.js";import"./Backdrop-BtqnMcmK.js";import"./LinearProgress-CvefknrU.js";import"./useFiles-Bf3vEmyt.js";import"./cloneDeep-CwQXpD5Z.js";import"./_baseClone-BYZKebbX.js";import"./_initCloneObject-Cla6p12R.js";import"./useTeamMembers-BlXikzcK.js";import"./RegularExpressions-D_Bl7pBr.js";import"./index-C_6iVBSW.js";import"./DateFormatter-hKUBpzO3.js";import"./timezone-Cq1SAuLw.js";import"./SkeletonTable-CULGn8eZ.js";import"./times-Z7TOiV6C.js";import"./toInteger-wfy7oWZN.js";import"./UserBadge-xz0efVqz.js";import"./Menu-DJaUcmOF.js";import"./Modal-BRilODZK.js";import"./getScrollbarSize-Bqq2hMjQ.js";import"./ownerWindow-BN2rbQ_G.js";import"./createChainedFunction-BO_9K8Jh.js";import"./MenuList-zLHdZWCi.js";import"./List-DP5ytkvU.js";import"./ToastMessage-CyCjbTLE.js";import"./ButtonBase-5SeL_6IU.js";import"./assertThisInitialized-B9jnkVVz.js";import"./CSSTransition-Bd10BpAY.js";import"./hasClass-D5ZjVvBY.js";import"./uniqueId-DePWDRrE.js";import"./Divider-CvGeMHYm.js";import"./dividerClasses-Cc_Ns5us.js";import"./MenuItem-BC9pRpBm.js";import"./IconButton-CgTC7RgJ.js";import"./Card-u9vMfO39.js";import"./Avatar-CSnnTcUv.js";import"./EntityIcon-BqPJrdl_.js";import"./uniq-0oAaZ0Sl.js";import"./mapValues-BliEdlJP.js";import"./isPlainObject-Bs6xKDnB.js";import"./now-CxJjrZE1.js";import"./ThemesPlot-D5WkIb8f.js";import"./ElementWithTooltip-Bm1-_5Zp.js";import"./SynapseTableConstants-2qH3fDlQ.js";import"./index-B5jC3KLO.js";import"./ShowMore-DozljGbX.js";import"./Dropdown-Sqg-5xfw.js";import"./ThemeProvider-D_KqLH_M.js";import"./createWithBsPrefix-iE1sNqgb.js";import"./SqlFunctions-CDg12rgX.js";import"./factory-CIC3r464.js";import"./_baseUnset-DHJ0r3So.js";import"./_baseSlice-F8doVSIJ.js";import"./noop-DX6rZLP_.js";import"./without-CoE-JBMm.js";import"./_baseIndexOf-DlmoT9Yo.js";import"./isArrayLikeObject-T6z9DEb0.js";import"./pick-DYFiRTre.js";import"./isPlainObject-CMBmxe-k.js";import"./merge-DTQPuav3.js";import"./isEqualWith-F4NQhqfL.js";import"./isNil-CjCk50N6.js";import"./uniq-BXvca-Ib.js";import"./remove-D8tYNA8q.js";import"./EntityLink-CkIJP0qs.js";import"./useEntity-CkPnDEU7.js";import"./InfiniteQueryUtils-CKlRW-xB.js";import"./ErrorChip-BXPk2oID.js";import"./Chip-CYFbMuEw.js";import"./ErrorOutlined-BSUguZv8.js";import"./useGetQueryResultBundle-C1zarM_k.js";import"./useDownloadList-xJGmsFk7.js";import"./use-deep-compare-effect.esm-COSQ_O61.js";import"./createSvgIcon-Ci5IVFvF.js";import"./isMuiElement-DAcuSkv2.js";import"./DialogTitle-VmdyF1RY.js";import"./DialogContent-BtEBz09g.js";import"./Dialog--0zFVEET.js";import"./queryUtils-CdesRM2F.js";import"./LastLoginInfo-DwlCSP_1.js";import"./Checkbox-ByKpZRhl.js";import"./StandaloneLoginForm-LLz429wK.js";import"./Constants-DRIc8dKf.js";import"./TextField-BYZwcPau.js";import"./StyledFormControl-BNgdB6B_.js";import"./InputLabel-D0wmCbAz.js";import"./useFormControl-EHw8eS4L.js";import"./LoginMethodButton-C1I2EaN1.js";import"./Grid-BIUd9Pes.js";import"./useDataAccessSubmission-IHBSvD83.js";import"./UserSearchBoxV2-Bu3kAKXi.js";import"./Select-49a62830.esm-Cvip1TGN.js";import"./isNativeReflectConstruct-CnNQtDHK.js";import"./UserOrTeamBadge-DOtAzHsM.js";import"./TeamBadge-OI3SeBBM.js";import"./Form--9Y-bW00.js";import"./Col-DHoeYEWd.js";import"./UploadDocumentField-DQbGBK-H.js";import"./FileUpload-5lVOodjZ.js";import"./AuthenticatedRequirement-C6snTYXL.js";import"./RequirementItem-BfMJ_PnE.js";import"./ConditionalWrapper-Be926PbJ.js";import"./CertificationRequirement-BRKng1o8.js";import"./ValidationRequirement-DPi2K5-O.js";import"./TwoFactorAuthEnabledRequirement-BnYZzUYG.js";import"./TwoFactorEnrollmentForm-vJGXQh1A.js";import"./LeftRightPanel-DwKmO81x.js";import"./EnumFacetFilterUI-C-8-06hx.js";import"./IconList-rBJH0pyi.js";import"./react-router-dom-BDXuW6z5.js";import"./LightTooltip-BT8tM0wQ.js";import"./SelectionCriteriaPill-Bw1BB6MV.js";import"./UserCardList-SL2R3-bO.js";import"./Select-CDrLCvLS.js";import"./Box-DCOGDgwA.js";import"./NoSearchResults-CQvGXNRi.js";import"./NoData-C4f0rA4e.js";import"./Tabs-B0L3cMgf.js";import"./QueryCount-DQEZIC3g.js";import"./GetAppTwoTone-CE-akCN_.js";import"./SkeletonButton-2OUtbWJw.js";import"./RangeSlider-T3anBhfS.js";import"./react-sizeme-D2xKhURL.js";import"./ColorGradient-BJYx2bEb.js";import"./colorPalette-BALeOMsp.js";import"./InfoOutlined-C7x-yViA.js";import"./UpsetPlot-COFgvZyX.js";import"./lz-string-BoOPuQ6n.js";import"./LargeButton-DoFTO_gz.js";import"./SynapseVideo-FkiL4nSG.js";import"./papaparse.min-D3VSFJh2.js";import"./FormControlLabel-CoC9JpgE.js";import"./EntityFinderModal-z0MFPwCA.js";import"./WarningDialog-CoLQDJQQ.js";import"./useEntitySelection-nbyjW6Dy.js";import"./immutable.es-DHy1u56X.js";import"./Search-BOgKVdM1.js";import"./Sort-CA0FKbZu.js";import"./SchemaDrivenAnnotationEditor-CBqCI39-.js";import"./ErrorListTemplate-8hWpt4pB.js";import"./ListItem-CYgCPGXa.js";import"./listItemButtonClasses-CAT3t28y.js";import"./ListItemText-BPjTHYIV.js";import"./ContentCopy-aFMLUrKl.js";import"./FormGroup-Cukz5z2O.js";import"./DateTimePicker-DHMAzB8L.js";import"./InputAdornment-BrA2GMI5.js";import"./EntityModal-CVS6zJtC.js";import"./useUploadDestination-d5Y8D7QF.js";import"./useFavorites-NQZPk3I4.js";import"./DropdownSelect-C1PvDjiJ.js";import"./useTeam-Dhi6pmJ_.js";const gt="Please select at least one resource for this Access Requirement to be associated with.",M=s=>{const c=s===a.ENTITY?"Synapse":"Team",u=s[0].toUpperCase()+s.slice(1).toLowerCase();return`${c} IDs were specified but not added to the subjects list. Please either clear out the Add ${c} IDs textbox or click the Add ${at(u)} button.`},At="Enter access requirement name. This will also be used when sending notifications for expiring or revoked approval. For example, 'The approval for the name access requirement was revoked...'",v={variant:"body1",fontWeight:700};function $(s){switch(s.type){case a.ENTITY:return H.DOWNLOAD;case a.TEAM:return H.PARTICIPATE;default:throw new Error(`RestrictableObjectType ${s.type} does not have an access type specified.`)}}const j=nt.forwardRef(function(c,u){const{subject:r,accessRequirementId:l,onSave:T,onError:y}=c,d=!r,[p,N]=m.useState(r?[r]:[]),[_,mt]=m.useState(!1),[w,f]=m.useState(null),[R,U]=m.useState(""),[b,D]=m.useState((r==null?void 0:r.type)===a.TEAM?k:B),[O,F]=m.useState(null),P=e=>{F(null),T(e.id.toString(),e.concreteType)},L=e=>{F(e.reason),y()},{mutate:Y}=ct({onSuccess:e=>P(e),onError:e=>L(e)}),{mutate:G}=ut({onSuccess:e=>P(e),onError:e=>L(e)}),{data:i,isLoading:st,error:V}=lt(l,{enabled:!!l});m.useEffect(()=>{i&&(D(i.concreteType),U(i.name),N(i.subjectIds))},[i]);const n=m.useMemo(()=>{if(r)return r.type;if(i){const e=i.subjectIds;if(e.length>0)return e[0].type}return null},[r,i]),pt=m.useMemo(()=>{if(!n)return t.jsx(t.Fragment,{});function e(o){f(null),N(o)}function E(o){f(null),mt(o.trim()!=="")}switch(n){case a.TEAM:return t.jsx(Et,{subjects:p,onUpdate:o=>e(o),onUpdateTeamIDsTextbox:o=>E(o)});case a.ENTITY:return t.jsx(dt,{subjects:p,onUpdate:o=>e(o),onUpdateEntityIDsTextbox:o=>E(o)});default:return console.error(`RestrictableObjectType ${n} does not have a selector implemented.`),t.jsx(t.Fragment,{})}},[n,p]);return m.useImperativeHandle(u,()=>({save(){const e=d&&!i||!n,E=_||p.length===0;if(e||E){E&&!e&&(_?f(M(n)):p.length===0&&f(gt)),y();return}if(!d){const o={concreteType:b,subjectIds:p,name:R,accessType:$(p[0])};Y(o)}d&&i&&G({...i,subjectIds:p,name:R,accessType:$(p[0])})}}),[_,n,p,R,b,i,d,y,Y,G]),st||!n?t.jsxs(t.Fragment,{children:[t.jsx(S,{width:100,height:30}),t.jsx(S,{width:125,height:30}),t.jsx(S,{width:"100%",children:t.jsx(C,{})}),t.jsx(S,{width:100,height:30}),t.jsx(S,{width:"100%",children:t.jsx(C,{})})]}):V?t.jsx(I,{severity:"error",children:V.reason}):t.jsxs(t.Fragment,{children:[t.jsx(q,{...v,children:"Resources"}),pt,w&&t.jsx(I,{severity:"error",children:w}),t.jsxs(Tt,{direction:"row",gap:1,alignItems:"center",mb:1,mt:2,children:[t.jsx(q,{component:"label",htmlFor:"arName",...v,children:"Name"}),t.jsx(ft,{title:At,placement:"right",children:t.jsx(Rt,{sx:{color:"grey.600"}})})]}),t.jsx(C,{id:"arName",name:"arName",value:R,placeholder:"Access requirement name",fullWidth:!0,onChange:e=>U(e.target.value)}),!d&&n!==a.TEAM&&t.jsxs(t.Fragment,{children:[t.jsx(q,{...v,mt:2,children:"Access requirement type"}),t.jsx(St,{value:b,options:[{label:"Controlled - requests are in Synapse",value:B},{label:"Click wrap",value:k}],onChange:e=>D(e)})]}),O&&t.jsx(I,{severity:"error",sx:{marginTop:2},children:O})]})});try{M.displayName="UNSAVED_SUBJECTS_ERROR_MESSAGE",M.__docgenInfo={description:"",displayName:"UNSAVED_SUBJECTS_ERROR_MESSAGE",props:{}}}catch{}try{j.displayName="SetAccessRequirementCommonFields",j.__docgenInfo={description:"",displayName:"SetAccessRequirementCommonFields",props:{subject:{defaultValue:null,description:"",name:"subject",required:!1,type:{name:"RestrictableObjectDescriptor"}},accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!1,type:{name:"string"}},onSave:{defaultValue:null,description:"",name:"onSave",required:!0,type:{name:"(accessRequirementId: string, accessRequirementConreteType: ACCESS_REQUIREMENT_CONCRETE_TYPE) => void"}},onError:{defaultValue:null,description:"",name:"onError",required:!0,type:{name:"() => void"}}}}}catch{}const $i={title:"Governance/SetAccessRequirementCommonFields",component:j,parameters:{stack:"development"},render:function(c){const[u,r]=m.useState(!1),l=m.useRef(null);return t.jsxs(t.Fragment,{children:[t.jsx(ht,{onClick:()=>{var T;r(!0),(T=l.current)==null||T.save()},variant:"contained",disabled:u,children:"Save AR"}),t.jsx(xt,{sx:{mx:"auto",p:"44px",maxWidth:"750px"},children:t.jsx(j,{...c,ref:l,onSave:()=>r(!1),onError:()=>r(!1)})})]})}},h={args:{subject:{id:"3429759",type:a.TEAM}}},x={args:{accessRequirementId:"9602672"}},g={args:{subject:{id:"syn12714410",type:a.ENTITY}}},A={args:{accessRequirementId:"9602704"}};var J,W,Q;h.parameters={...h.parameters,docs:{...(J=h.parameters)==null?void 0:J.docs,source:{originalSource:`{
  args: {
    subject: {
      id: '3429759',
      type: RestrictableObjectType.TEAM
    }
  }
}`,...(Q=(W=h.parameters)==null?void 0:W.docs)==null?void 0:Q.source}}};var z,X,K;x.parameters={...x.parameters,docs:{...(z=x.parameters)==null?void 0:z.docs,source:{originalSource:`{
  args: {
    accessRequirementId: '9602672'
  }
}`,...(K=(X=x.parameters)==null?void 0:X.docs)==null?void 0:K.source}}};var Z,tt,et;g.parameters={...g.parameters,docs:{...(Z=g.parameters)==null?void 0:Z.docs,source:{originalSource:`{
  args: {
    subject: {
      id: 'syn12714410',
      type: RestrictableObjectType.ENTITY
    }
  }
}`,...(et=(tt=g.parameters)==null?void 0:tt.docs)==null?void 0:et.source}}};var rt,ot,it;A.parameters={...A.parameters,docs:{...(rt=A.parameters)==null?void 0:rt.docs,source:{originalSource:`{
  args: {
    accessRequirementId: '9602704'
  }
}`,...(it=(ot=A.parameters)==null?void 0:ot.docs)==null?void 0:it.source}}};const Ji=["DemoCreateTeamAr","DemoExistingTeamAr","DemoCreateEntityAr","DemoExistingEntityAr"];export{g as DemoCreateEntityAr,h as DemoCreateTeamAr,A as DemoExistingEntityAr,x as DemoExistingTeamAr,Ji as __namedExportsOrder,$i as default};
