import{an as r,am as m,aH as y,aI as o,aa as i}from"./iframe-CrIG5yS4.js";import{u as S}from"./useInfiniteQuery-C039Rys8.js";function A(e,a){const{accessToken:c,keyFactory:t}=r();return m({...a,queryKey:t.getDataAccessSubmissionByIdQueryKey(String(e.toString())),queryFn:()=>i.getSubmissionById(e,c)})}function l(e,a){const{keyFactory:c,synapseClient:t}=r();return S({...a,queryKey:c.searchDataAccessSubmissionUserRequestsQueryKey(e),queryFn:s=>t.dataAccessServicesClient.postRepoV1DataAccessSubmissionUserRequests({userSubmissionSearchRequest:{...e,nextPageToken:s.pageParam}}),initialPageParam:void 0,getNextPageParam:s=>s.nextPageToken})}function q(e,a){const{accessToken:c,keyFactory:t}=r();return S({...a,queryKey:t.searchDataAccessSubmissionQueryKey(e),queryFn:async s=>await i.searchAccessSubmission({...e,nextPageToken:s.pageParam},c),initialPageParam:void 0,getNextPageParam:s=>s.nextPageToken})}function P(e){const a=y(),{accessToken:c,keyFactory:t}=r();return o({...e,mutationFn:s=>i.updateSubmissionStatus(s,c),onSuccess:async(s,u,n)=>{await a.invalidateQueries({queryKey:t.searchDataAccessSubmissionQueryKey()}),a.setQueryData(t.getDataAccessSubmissionByIdQueryKey(u.submissionId),s),e!=null&&e.onSuccess&&await e.onSuccess(s,u,n)}})}function d(e){const a=y(),{accessToken:c,keyFactory:t}=r();return o({...e,mutationFn:async({request:s,accessRequirementId:u})=>{if(s.subjectId==null||s.subjectType==null){const{subjects:n}=await i.getSubjects(c,u);s.subjectId=n[0].id,s.subjectType=n[0].type}return i.submitDataAccessRequest(s,c)},onSuccess:async(s,u,n)=>{await Promise.all([a.invalidateQueries({queryKey:t.getAccessRequirementStatusQueryKey(u.accessRequirementId)}),a.invalidateQueries({queryKey:t.getDataAccessSubmissionQueryKey()})]),e!=null&&e.onSuccess&&await e.onSuccess(s,u,n)}})}export{q as a,P as b,A as c,l as d,d as u};
