import{C as c,f as u}from"./VerificationSubmission-CWAFIXEx.js";import{S as f}from"./StringUtils-DBSsSsIU.js";const d=3,p=e=>`${e}-temp-QueryFilter-array`;function a(e){return e.match(f)?e.substring(d):e}const g="FTS_SEARCH_TERM",I=(e,n=u.LIKE,o)=>{const i=o?sessionStorage.getItem(p(o)):void 0;let r=[];if(i&&(r=JSON.parse(i)),e){const l=t=>t.startsWith("QueryWrapper")||t.startsWith("__");r=r.concat(Object.keys(e||{}).filter(t=>!l(t)&&e[t]!=null&&e[t].trim()!="").map(t=>{if(t==g)return{concreteType:"org.sagebionetworks.repo.model.table.TextMatchesQueryFilter",searchExpression:e[t]};switch(n){case u.EQUAL:return{concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter",columnName:t,operator:n,values:[e[t]]};case u.IN:return{concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter",columnName:t,operator:n,values:e[t].split(",")};case c.HAS:return{concreteType:"org.sagebionetworks.repo.model.table.ColumnMultiValueFunctionQueryFilter",columnName:t,function:n,values:e[t].split(",")};case u.LIKE:return{concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter",columnName:t,operator:n,values:[`%${a(e[t])}%`]};case c.HAS_LIKE:return{concreteType:"org.sagebionetworks.repo.model.table.ColumnMultiValueFunctionQueryFilter",columnName:t,function:n,values:e[t].split(",").map(m=>`%${a(m)}%`)}}}))}return r.length===0?void 0:r},F=e=>{const n=e.match(/(from)\s+(syn)\d+/gi);return n&&n[0]?n[0].substr(5).trim():""},b=e=>{const o=/from\s+(syn\d+)(?:\.(\d+))?/i.exec(e);return o?{entityId:o[1],versionNumber:o[2]?parseInt(o[2]):void 0}:null},T=(e,n)=>{const o=n.map(r=>r.values),i=e.map(r=>r.name);return o.map(r=>{const l={};return r.forEach((t,s)=>{l[i[s]]=t}),l})},_=(e,n,o)=>{if(n){const i=n.findIndex(r=>r.name===e);if(i!=-1)return i}if(o){const i=o.findIndex(r=>r.name===e);if(i!=-1)return i}};export{p as Q,_ as a,b,I as g,F as p,T as r};
