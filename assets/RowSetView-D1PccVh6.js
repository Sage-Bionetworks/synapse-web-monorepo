var ta=Object.defineProperty;var aa=(e,a,n)=>a in e?ta(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n;var ye=(e,a,n)=>aa(e,typeof a!="symbol"?a+"":a,n);import{j as t}from"./jsx-runtime-DNP5ZHPF.js";import{r as b}from"./index-C9LqO53Z.js";import{g as se,a as Ze,b as na,T as oa}from"./CardUtils-CHxXfKty.js";import{s as ra,S as O}from"./Stack-C3Yli3Do.js";import{B as G}from"./Button-C1D6jijN.js";import{C as sa}from"./ConditionalWrapper-CdyME2LR.js";import{K as ia,l as ut,aI as la,P as le,r as pt,bP as da}from"./useFiles-DxEFRl-N.js";import{a as ie}from"./SqlFunctions-DnxC6kpb.js";import{q as ca,x as ua,S as pa,N as ma,O as fa,U as ga,z as ya,W as xa}from"./StringUtils-CzgJJW-6.js";import{i as mt,f as ha,y as Ca,k as ba,aG as va,g as ft,t as Je,F as _a,O as xe,M as Xe,w as gt,G as Na,v as Ia}from"./SynapseConstants-x7wBmLwm.js";import{E as ja,g as yt,C as Sa}from"./VerificationSubmission-B0kBNeMy.js";import"./OrientationBanner-lGnlzz1n.js";import{S as Z}from"./Skeleton-X6vAixA1.js";import{T as xt}from"./Tooltip--gcNUJrW.js";import{T as P}from"./Typography-BdVBJyiw.js";import{L as H}from"./Link-BP8bljuP.js";import{G as Ra}from"./GenericCardIcon-wcpV5WL5.js";import{C as ht}from"./CopyToClipboardIcon-BBLc7HXD.js";import{u as Ct,C as wa}from"./CreateOrUpdateDoiModal-BO2vVo2I.js";import{b as bt}from"./useDOI-Cyu82nUz.js";import{B as w}from"./Box-DhP9mjg7.js";import{I as Ta}from"./IconButton-HsPug_ob.js";import{c as ee}from"./createSvgIcon-BtT08fNl.js";import{u as vt}from"./useEntity-DqG3EDzd.js";import{c as _t}from"./calculateFriendlyFileSize-FpJgzzI_.js";import{u as La}from"./index-D0TM4b_V.js";import{d as Pa}from"./Close-CxYKehz7.js";import{u as he}from"./useQuery-Drm9MnN6.js";import{P as Va}from"./Popover-BgSor5FC.js";import{A as Da}from"./Alert-DBftbUxX.js";import{F as Ma}from"./FormControl-Cffw6pI4.js";import{S as Nt}from"./TextField-NRUXNsvd.js";import{M as U}from"./MenuItem-aQW3zzeO.js";import{f as It}from"./useDownloadList-Dc0wldCd.js";import{u as Ea}from"./useGetEntityChildren-M-eULErE.js";import{d as jt}from"./ToastMessage-C3sj4-_Q.js";import{D as St}from"./DownloadConfirmationUI-BJsRxWR7.js";import{d as Rt}from"./DownloadConfirmationUtils-C_jOyZuH.js";import{g as Fa}from"./QueryFilterUtils-BNuLho50.js";import{u as $}from"./QueryContext-DfvEq5GV.js";import{c as $a,u as ka,d as Oa}from"./TableRowSelectionState-DJuPbdhA.js";import{d as W,Q as Aa,u as A,c as qa}from"./QueryWrapper-DutBOCKd.js";import{g as wt}from"./SynapseTableUtils-DSUAM55b.js";import{Q as za}from"./QueryWrapperErrorBoundary-BUm3Tbxh.js";import{I as Ba}from"./IconList-DlhIyEWp.js";import{G as Ua}from"./GenericCard-4lHfKfPE.js";import{S as Qa}from"./SynapseCardLabel-BMvqNTrO.js";import{G as Ga}from"./GetAppTwoTone-CFy4yj9d.js";import{C as Ha}from"./Collapse-DAEF_CSM.js";import{u as Wa}from"./UserSearchBoxV2-wd0qOHzK.js";import{l as Ya,S as Ka}from"./LoadingScreen-60maNtYR.js";import{L as Ce}from"./chunk-AYJ5UCUI-BAVTTsGw.js";import{f as Tt}from"./DateFormatter-CZB-plYw.js";import{d as Lt}from"./dayjs.min-DYHBVdyC.js";import{D as et}from"./Divider-agOjyXuA.js";import{a as Za,C as Ja}from"./index-CUpalX01.js";import{I as Xa}from"./Icon-BnSlBR3D.js";import{W as Pt}from"./WideButton-9VcUbFDT.js";import{I as Ee}from"./IconSvg-DVy36fcc.js";import{S as en}from"./SkeletonTable-Bik19zmH.js";import{U as tn}from"./UserBadge-UtVQL_Wk.js";import{S as an}from"./ShowMore-DGu-Ldxl.js";import{p as Fe}from"./pluralize-DviCaDGO.js";import"./SkeletonButton-BK7YgQCa.js";import{S as nn}from"./SkeletonInlineBlock-D4jApRcZ.js";import"./SkeletonParagraph-DK8LxRG0.js";import{S as on}from"./SelectionCriteriaPill-NvOe3tEF.js";import{g as rn}from"./TextFieldWithWordLimit-lswCsnsX.js";import{U as sn}from"./UserCardList-B9RxRM-b.js";import{u as ln,S as dn}from"./SynapseTable-BeUht_9T.js";import{b as cn}from"./use-deep-compare-effect.esm-CGTFEkO2.js";import{L as un}from"./LinearProgress-WoOq-nai.js";import{b as Vt,g as Dt,_ as $e,a as L,c as be,h as Q,d as B}from"./createTheme-BG9REND8.js";import{u as pn}from"./index-DfJVQJTe.js";import{L as tt,F as at}from"./LastPage-BQIjEioa.js";import{u as Mt,s as te,c as Et}from"./DefaultPropsProvider-CBoC3p-_.js";import{B as mn}from"./ButtonBase-C0iYjrZq.js";import{u as fn}from"./useControlled-C6FPOIeJ.js";import{u as nt}from"./useInfiniteQuery-Bv25vp6V.js";import{c as gn}from"./cloneDeep-DGtsa-PL.js";function yn(e){return Vt("MuiPagination",e)}Dt("MuiPagination",["root","ul","outlined","text"]);const xn=["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"];function hn(e={}){const{boundaryCount:a=1,componentName:n="usePagination",count:r=1,defaultPage:s=1,disabled:o=!1,hideNextButton:i=!1,hidePrevButton:l=!1,onChange:u,page:c,showFirstButton:d=!1,showLastButton:p=!1,siblingCount:m=1}=e,g=$e(e,xn),[y,f]=fn({controlled:c,default:s,name:n,state:"page"}),v=(h,V)=>{c||f(V),u&&u(h,V)},x=(h,V)=>{const M=V-h+1;return Array.from({length:M},(Oe,ae)=>h+ae)},N=x(1,Math.min(a,r)),_=x(Math.max(r-a+1,a+1),r),S=Math.max(Math.min(y-m,r-a-m*2-1),a+2),C=Math.min(Math.max(y+m,a+m*2+2),_.length>0?_[0]-2:r-1),I=[...d?["first"]:[],...l?[]:["previous"],...N,...S>a+2?["start-ellipsis"]:a+1<r-a?[a+1]:[],...x(S,C),...C<r-a-1?["end-ellipsis"]:r-a>a?[r-a]:[],..._,...i?[]:["next"],...p?["last"]:[]],T=h=>{switch(h){case"first":return 1;case"previous":return y-1;case"next":return y+1;case"last":return r;default:return null}},j=I.map(h=>typeof h=="number"?{onClick:V=>{v(V,h)},type:"page",page:h,selected:h===y,disabled:o,"aria-current":h===y?"true":void 0}:{onClick:V=>{v(V,T(h))},type:h,page:T(h),selected:!1,disabled:o||h.indexOf("ellipsis")===-1&&(h==="next"||h==="last"?y>=r:y<=1)});return L({items:j},g)}function Cn(e){return Vt("MuiPaginationItem",e)}const D=Dt("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),ot=ee(t.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),rt=ee(t.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),bn=["className","color","component","components","disabled","page","selected","shape","size","slots","type","variant"],Ft=(e,a)=>{const{ownerState:n}=e;return[a.root,a[n.variant],a[`size${Q(n.size)}`],n.variant==="text"&&a[`text${Q(n.color)}`],n.variant==="outlined"&&a[`outlined${Q(n.color)}`],n.shape==="rounded"&&a.rounded,n.type==="page"&&a.page,(n.type==="start-ellipsis"||n.type==="end-ellipsis")&&a.ellipsis,(n.type==="previous"||n.type==="next")&&a.previousNext,(n.type==="first"||n.type==="last")&&a.firstLast]},vn=e=>{const{classes:a,color:n,disabled:r,selected:s,size:o,shape:i,type:l,variant:u}=e,c={root:["root",`size${Q(o)}`,u,i,n!=="standard"&&`color${Q(n)}`,n!=="standard"&&`${u}${Q(n)}`,r&&"disabled",s&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[l]],icon:["icon"]};return Et(c,Cn,a)},_n=te("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:Ft})(({theme:e,ownerState:a})=>L({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,height:"auto",[`&.${D.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},a.size==="small"&&{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},a.size==="large"&&{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)})),Nn=te(mn,{name:"MuiPaginationItem",slot:"Root",overridesResolver:Ft})(({theme:e,ownerState:a})=>L({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,[`&.${D.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${D.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${D.selected}`]:{backgroundColor:(e.vars||e).palette.action.selected,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:B(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${D.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:B(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},[`&.${D.disabled}`]:{opacity:1,color:(e.vars||e).palette.action.disabled,backgroundColor:(e.vars||e).palette.action.selected}}},a.size==="small"&&{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},a.size==="large"&&{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)},a.shape==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius}),({theme:e,ownerState:a})=>L({},a.variant==="text"&&{[`&.${D.selected}`]:L({},a.color!=="standard"&&{color:(e.vars||e).palette[a.color].contrastText,backgroundColor:(e.vars||e).palette[a.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[a.color].main}},[`&.${D.focusVisible}`]:{backgroundColor:(e.vars||e).palette[a.color].dark}},{[`&.${D.disabled}`]:{color:(e.vars||e).palette.action.disabled}})},a.variant==="outlined"&&{border:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${D.selected}`]:L({},a.color!=="standard"&&{color:(e.vars||e).palette[a.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[a.color].mainChannel} / 0.5)`:B(e.palette[a.color].main,.5)}`,backgroundColor:e.vars?`rgba(${e.vars.palette[a.color].mainChannel} / ${e.vars.palette.action.activatedOpacity})`:B(e.palette[a.color].main,e.palette.action.activatedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[a.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:B(e.palette[a.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${D.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[a.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:B(e.palette[a.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity)}},{[`&.${D.disabled}`]:{borderColor:(e.vars||e).palette.action.disabledBackground,color:(e.vars||e).palette.action.disabled}})})),In=te("div",{name:"MuiPaginationItem",slot:"Icon",overridesResolver:(e,a)=>a.icon})(({theme:e,ownerState:a})=>L({fontSize:e.typography.pxToRem(20),margin:"0 -8px"},a.size==="small"&&{fontSize:e.typography.pxToRem(18)},a.size==="large"&&{fontSize:e.typography.pxToRem(22)})),$t=b.forwardRef(function(a,n){const r=Mt({props:a,name:"MuiPaginationItem"}),{className:s,color:o="standard",component:i,components:l={},disabled:u=!1,page:c,selected:d=!1,shape:p="circular",size:m="medium",slots:g={},type:y="page",variant:f="text"}=r,v=$e(r,bn),x=L({},r,{color:o,disabled:u,selected:d,shape:p,size:m,type:y,variant:f}),N=pn(),_=vn(x),C=(N?{previous:g.next||l.next||rt,next:g.previous||l.previous||ot,last:g.first||l.first||at,first:g.last||l.last||tt}:{previous:g.previous||l.previous||ot,next:g.next||l.next||rt,first:g.first||l.first||at,last:g.last||l.last||tt})[y];return y==="start-ellipsis"||y==="end-ellipsis"?t.jsx(_n,{ref:n,ownerState:x,className:be(_.root,s),children:"…"}):t.jsxs(Nn,L({ref:n,ownerState:x,component:i,disabled:u,className:be(_.root,s)},v,{children:[y==="page"&&c,C?t.jsx(In,{as:C,ownerState:x,className:_.icon}):null]}))}),jn=["boundaryCount","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"],Sn=e=>{const{classes:a,variant:n}=e;return Et({root:["root",n],ul:["ul"]},yn,a)},Rn=te("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:n}=e;return[a.root,a[n.variant]]}})({}),wn=te("ul",{name:"MuiPagination",slot:"Ul",overridesResolver:(e,a)=>a.ul})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function Tn(e,a,n){return e==="page"?`${n?"":"Go to "}page ${a}`:`Go to ${e} page`}const Ln=b.forwardRef(function(a,n){const r=Mt({props:a,name:"MuiPagination"}),{boundaryCount:s=1,className:o,color:i="standard",count:l=1,defaultPage:u=1,disabled:c=!1,getItemAriaLabel:d=Tn,hideNextButton:p=!1,hidePrevButton:m=!1,renderItem:g=j=>t.jsx($t,L({},j)),shape:y="circular",showFirstButton:f=!1,showLastButton:v=!1,siblingCount:x=1,size:N="medium",variant:_="text"}=r,S=$e(r,jn),{items:C}=hn(L({},r,{componentName:"Pagination"})),I=L({},r,{boundaryCount:s,color:i,count:l,defaultPage:u,disabled:c,getItemAriaLabel:d,hideNextButton:p,hidePrevButton:m,renderItem:g,shape:y,showFirstButton:f,showLastButton:v,siblingCount:x,size:N,variant:_}),T=Sn(I);return t.jsx(Rn,L({"aria-label":"pagination navigation",className:be(T.root,o),ownerState:I,ref:n},S,{children:t.jsx(wn,{className:T.ul,ownerState:I,children:C.map((j,h)=>t.jsx("li",{children:g(L({},j,{color:i,"aria-label":d(j.type,j.page,j.selected),shape:y,size:N,variant:_}))},h))})}))}),Pn=ee([t.jsx("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 2v3H4V5zM4 21V10h16v11z"},"0"),t.jsx("path",{d:"M4 5.01h16V8H4z",opacity:".3"},"1")],"CalendarTodayTwoTone"),Vn=ee([t.jsx("path",{d:"M5 18.08V19h.92l9.06-9.06-.92-.92z",opacity:".3"},"0"),t.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM5.92 19H5v-.92l9.06-9.06.92.92zM20.71 5.63l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41"},"1")],"CreateTwoTone"),Dn=ee(t.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown"),Mn=e=>e.map(a=>({concreteType:"org.sagebionetworks.repo.model.table.FacetColumnValuesRequest",columnName:a.facet,facetValues:[a.facetValue]})),En=(e,a)=>{const n={sql:e,selectedFacets:Mn(a)};return encodeURIComponent(JSON.stringify(n))},Fn=(e,a,n)=>{const r=En(a,n);return`${e}?QueryWrapper0=${r}`},ke=ra(G)({height:"20px",padding:"2px 8px",borderColor:"grey.400",fontWeight:700,lineHeight:"20px","& .MuiButton-startIcon":{marginRight:"4px",marginLeft:0}}),st="syn65903895";function $n(e,a){return ia({entityId:st,query:{sql:`SELECT * FROM ${st}`},partMask:mt,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest"},{staleTime:1/0,select:n=>{var l,u,c,d;const r=ie("dataset",(l=n.queryResult)==null?void 0:l.queryResults.headers),s=ie("dataset_version",(u=n.queryResult)==null?void 0:u.queryResults.headers),o=ie("croissant_file_s3_object",(c=n.queryResult)==null?void 0:c.queryResults.headers);if(r===void 0||s===void 0||o===void 0)return null;const i=(d=n.queryResult)==null?void 0:d.queryResults.rows.find(p=>p.values[r]===`syn${e}`&&String(p.values[s])===String(a));return(i==null?void 0:i.values[o])??null}})}function ve(e){const{datasetId:a,datasetVersionNumber:n}=e,{data:r,isLoading:s}=$n(a,n);return!r&&!s?null:t.jsx(sa,{condition:s,wrapper:Z,wrapperProps:{role:"progressbar"},children:t.jsx(xt,{placement:"top",title:t.jsxs(P,{children:["Croissant is a metadata standard designed for AI-ready datasets. Learn more"," ",t.jsx(H,{href:"https://mlcommons.org/working-groups/data/croissant/",target:"_blank",rel:"noopener noreferrer",children:"here"}),"."]}),children:t.jsx(ke,{href:r||"#",target:"_blank",variant:"outlined",startIcon:"🥐",children:"Croissant"})})})}try{ve.displayName="CroissantButton",ve.__docgenInfo={description:`Given a Synapse ID and version number of a dataset, this component will render a button that links to the Croissant
metadata for that dataset.`,displayName:"CroissantButton",props:{datasetId:{defaultValue:null,description:"The synID of the dataset",name:"datasetId",required:!0,type:{name:"number"}},datasetVersionNumber:{defaultValue:null,description:"The version number of the dataset",name:"datasetVersionNumber",required:!0,type:{name:"number"}}}}}catch{}function _e(e){const[a,n]=b.useState(!1),{portalId:r,resourceId:s}=e,{data:o}=Ct(r,{select:u=>u.canMintDoi}),{data:i,isLoading:l}=bt({id:s,portalId:r,type:"PORTAL_RESOURCE"});return l?t.jsx(Z,{role:"progressbar",width:150}):t.jsxs(t.Fragment,{children:[t.jsx(wa,{open:a,onClose:()=>n(!1),objectType:"PORTAL_RESOURCE",objectId:s,portalId:r}),t.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:.5,height:0},children:[i&&t.jsxs(t.Fragment,{children:[t.jsx(H,{href:i.doiUrl,target:"_blank",children:i.doiUrl}),t.jsx(ht,{size:"small",value:i.doiUrl,sx:{color:"inherit"}}),o&&t.jsx(xt,{title:"Edit DOI",children:t.jsx(Ta,{onClick:()=>n(!0),size:"small",sx:{color:"inherit"},children:t.jsx(Vn,{fontSize:"inherit"})})})]}),!i&&o&&t.jsx(H,{role:"button",onClick:()=>n(!0),children:"Click to Create a DOI"})]})]})}try{_e.displayName="PortalDOI",_e.__docgenInfo={description:"Component used to view/create/edit a DOI for a portal resource.",displayName:"PortalDOI",props:{portalId:{defaultValue:null,description:"The ID of the portal created with https://rest-docs.synapse.org/rest/POST/portal.html",name:"portalId",required:!0,type:{name:"string"}},resourceId:{defaultValue:null,description:`The ID of the resource. For Portals, this is a string that serializes the resourceType and all key information for
the resource`,name:"resourceId",required:!0,type:{name:"string"}}}}}catch{}function kn(e){const{portalId:a,resourceId:n}=e,{data:r}=bt({id:n,portalId:a,type:"PORTAL_RESOURCE"},{enabled:!!(a&&n)}),{data:s}=Ct(a,{enabled:!!a,select:o=>o.canMintDoi});return!!(r||s)}function On(e){const{portalDoiConfiguration:a,schema:n,data:r}=e;if(!a)return;const{resourceType:s,resourceIdKeyColumns:o,serializeDoiString:i}=a,l=o==null?void 0:o.reduce((u,c)=>{const d=n[c];return d!==void 0&&(u[c]=r[d]),u},{});if(!(!l||Object.keys(l).length===0))return i(s,l)}const An=(e,a)=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:13,viewBox:"0 0 12 13",fill:"none",ref:a,...e},b.createElement("path",{d:"M1.2002 6.85162H3.497C3.497 7.82963 3.09981 8.71402 2.4614 9.35362C2.45901 9.356 2.45421 9.3608 2.45179 9.36322V10.3364C3.18859 10.2116 3.84859 9.85881 4.35379 9.35361C4.99457 8.71283 5.38939 7.82961 5.38939 6.85161L5.38943 2.66241H1.20022L1.2002 6.85162Z",fill:"#395979"}),b.createElement("path",{d:"M6.61035 2.66242V6.85162H8.90715C8.90715 7.82963 8.50996 8.71402 7.87155 9.35362C7.86917 9.356 7.86436 9.3608 7.86194 9.36322V10.3364C8.59874 10.2116 9.25874 9.85881 9.76394 9.35361C10.4048 8.714 10.7995 7.83081 10.7995 6.85161V2.66241L6.61035 2.66242Z",fill:"#395979"})),qn=b.forwardRef(An),zn=(e,a,n)=>{const r=`${e.replace(/\s+/g,"_")}`,s=document.createElement("a");s.href=n,s.setAttribute("download",`${r}.${a}`),document.body.appendChild(s),s.click(),document.body.removeChild(s)},Bn=async(e,a)=>{const n=e?e.replace("https://doi.org/",""):"",r=await fetch(`https://citation.doi.org/format?doi=${n}&style=${a}&lang=en-US`,{headers:{Accept:`text/x-${a}`}});if(!r.ok)throw new Error(`Failed to fetch citation: ${r.status}: ${r.statusText}`);return await r.text()},Un=(e,a,n)=>he({queryKey:["citation",e,a],queryFn:()=>Bn(e,a),enabled:!!e&&!!a&&n}),Qn={width:"100%",".MuiInputBase-root":{minHeight:"38px",borderRadius:0,"&:before, &:after":{borderBottom:"none !important"}},"& .MuiOutlinedInput-notchedOutline":{border:0},"&.MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"none"},".MuiSelect-select":{display:"flex",alignItems:"center"},".MuiInputBase-input":{padding:"7px 10px"}};function Ne({doi:e,title:a,boilerplateText:n,defaultCitationFormat:r}){const[s,o]=b.useState(null),[i,l]=b.useState(r||"bibtex"),u=x=>{l(x.target.value)},c=x=>{o(x.currentTarget)},d=()=>{o(null)},p=x=>{if(!x)return;const _={apa:"ris",bibtex:"bib",ieee:"ris",nature:"ris",science:"ris"}[i]||"txt",S=new Blob([x],{type:"text/plain"}),C=URL.createObjectURL(S);zn(a||"citation",_,C)},m=!!s,g=m?"cite-as-popover":void 0,{data:y,isLoading:f,error:v}=Un(e||"",i,m);return t.jsxs("div",{children:[e&&t.jsx(ke,{onClick:c,variant:"outlined",startIcon:t.jsx(qn,{}),children:t.jsx(P,{variant:"label",sx:{lineHeight:"20px"},children:"Cite As"})}),t.jsx(Va,{"aria-label":"Citation options",role:"dialog",id:g,elevation:9,open:m,anchorEl:s,onClose:d,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},slotProps:{paper:{sx:x=>({width:"500px",postion:"relative",borderRadius:0,[x.breakpoints.down("sm")]:{maxWidth:"100%",maxHeight:"100%",top:"0 !important",left:"0 !important",bottom:"0 !important"}})}},children:t.jsxs(O,{sx:{gap:"20px",padding:"20px"},children:[t.jsxs(w,{sx:{display:"flex",alignItems:"center"},children:[t.jsx(P,{sx:{fontSize:"20px",fontWeight:700,lineHeight:"normal"},children:"Cite As:"}),t.jsx(Pa,{onClick:d,sx:{display:{xs:"block",sm:"none"},marginLeft:"auto",color:"#878E95"}})]}),v&&t.jsx(Da,{severity:"error",sx:{my:2},icon:!1,children:v.message}),t.jsxs(P,{variant:"smallText1",sx:{lineHeight:"normal",maxHeight:"300px",overflowY:"scroll",wordWrap:"break-word"},children:[n&&t.jsxs(t.Fragment,{children:[n,t.jsx("br",{})]}),f?t.jsxs(w,{sx:{fontWeight:700},children:[t.jsx("br",{}),"Loading citation..."]}):y]}),t.jsxs(w,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:{xs:"10px",sm:"8px"},width:"100%",maxHeight:"38px"},children:[t.jsx(w,{sx:{flex:1},children:t.jsx(Ma,{sx:Qn,children:t.jsxs(Nt,{variant:"standard",sx:{svg:{color:"#878E95",width:"24px",height:"24px",right:"10px"}},value:i,onChange:u,IconComponent:Dn,children:[t.jsx(U,{value:"bibtex",children:"bibtex"}),t.jsx(U,{value:"apa",children:"apa"}),t.jsx(U,{value:"ieee",children:"ieee"}),t.jsx(U,{value:"nature",children:"nature"}),t.jsx(U,{value:"science",children:"science"})]})})}),t.jsx(G,{onClick:()=>p(y||""),variant:"contained",sx:{padding:"6px 16px",borderRadius:0},children:"Download Citation"}),t.jsx(ht,{value:y||"",sx:{borderRadius:0,padding:"6px 16px",border:"1px solid",borderColor:"primary.main"}})]})]})})]})}try{Ne.displayName="CitationPopover",Ne.__docgenInfo={description:"",displayName:"CitationPopover",props:{doi:{defaultValue:null,description:"",name:"doi",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},boilerplateText:{defaultValue:null,description:"",name:"boilerplateText",required:!1,type:{name:"string"}},defaultCitationFormat:{defaultValue:null,description:"",name:"defaultCitationFormat",required:!1,type:{name:"enum",value:[{value:'"bibtex"'},{value:'"apa"'},{value:'"ieee"'},{value:'"nature"'},{value:'"science"'}]}}}}}catch{}function Ie(e){const{folderId:a,fnClose:n}=e,{downloadCartPageUrl:r}=ut(),{data:s,isLoading:o}=Ea({parentId:a,includeSumFileSizes:!0,includeTotalChildCount:!0,includeTypes:[ja.FILE]}),i=(s==null?void 0:s.totalChildCount)??0,l=s==null?void 0:s.sumFileSizesBytes,{mutate:u,isPending:c}=It({onSuccess:()=>{Rt(r),n()},onError:d=>{jt(d.reason,"danger"),n()}});return t.jsx(St,{onAddToDownloadCart:()=>u({parentId:a,concreteType:"org.sagebionetworks.repo.model.download.AddToDownloadListRequest"}),fileCount:i,fileSize:l,isAddingToDownloadCart:c,isLoadingStats:o,onCancel:n})}try{Ie.displayName="FolderDownloadConfirmation",Ie.__docgenInfo={description:"",displayName:"FolderDownloadConfirmation",props:{folderId:{defaultValue:null,description:"",name:"folderId",required:!0,type:{name:"string"}},fnClose:{defaultValue:null,description:"",name:"fnClose",required:!0,type:{name:"() => void"}}}}}catch{}function je(e){var x,N,_,S,C;const{onClose:a}=e,{getCurrentQueryRequest:n,fileIdColumnName:r,fileVersionColumnName:s}=$(),{data:o}=W(),i=$a(),l=ka(),u=Oa(),c=b.useMemo(()=>{var T,j;const I=n();if(I.partMask=ha|Ca,r&&s){const h=(T=o.columnModels)==null?void 0:T.find(M=>M.name==r),V=(j=o.columnModels)==null?void 0:j.find(M=>M.name==s);I.query.selectFileColumn=h?Number(h.id):void 0,I.query.selectFileVersionColumn=V?Number(V.id):void 0}else{const h=wt(o.columnModels);h&&(I.query.selectFileColumn=Number(h))}if(i&&u&&o.selectColumns){const h=Fa(u,l,o.selectColumns);I.query.additionalFilters=[...I.query.additionalFilters||[],h]}return I},[o.columnModels,o.selectColumns,n,i,u,l,r,s]),{downloadCartPageUrl:d}=ut(),{mutate:p,isPending:m}=It({onSuccess:()=>{Rt(d),a()},onError:I=>{jt(I.reason,"danger"),a()}}),{data:g,isLoading:y}=la(c),f=((x=g==null?void 0:g.responseBody)==null?void 0:x.queryCount)??0,v=(_=(N=g==null?void 0:g.responseBody)==null?void 0:N.sumFileSizes)!=null&&_.greaterThan||(C=(S=g==null?void 0:g.responseBody)==null?void 0:S.sumFileSizes)==null?void 0:C.sumFileSizesBytes;return t.jsx(St,{onAddToDownloadCart:()=>{p({query:c==null?void 0:c.query,concreteType:"org.sagebionetworks.repo.model.download.AddToDownloadListRequest"})},fileCount:f,fileSize:v,isAddingToDownloadCart:m,isLoadingStats:y,onCancel:a})}try{je.displayName="TableQueryDownloadConfirmation",je.__docgenInfo={description:"",displayName:"TableQueryDownloadConfirmation",props:{onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}}}catch{}const Gn=({entityId:e,versionNumber:a,onHide:n})=>{const r={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:e,query:{sql:`select * from ${e}${a!=null?`.${a}`:""}`,limit:ba,sort:void 0,additionalFilters:void 0},partMask:mt};return t.jsx(b.Suspense,{fallback:t.jsx(t.Fragment,{}),children:t.jsx(Aa,{initQueryRequest:r,children:t.jsx(za,{children:t.jsx(je,{onClose:n})})})})};function Se({entityId:e,versionNumber:a,handleClose:n,onIsLoadingChange:r}){const{data:s,isLoading:o}=vt(e),i=s==null?void 0:s.concreteType;return b.useEffect(()=>{r(o)},[o,r]),o&&i&&i!=="org.sagebionetworks.repo.model.Folder"&&i!=="org.sagebionetworks.repo.model.table.TableEntity"&&i!=="org.sagebionetworks.repo.model.table.Dataset"?t.jsx(t.Fragment,{}):t.jsx("div",{children:i==="org.sagebionetworks.repo.model.Folder"?t.jsx(Ie,{folderId:e,fnClose:n}):t.jsx(Gn,{entityId:e,versionNumber:a,onHide:n})})}try{Se.displayName="EntityDownloadConfirmation",Se.__docgenInfo={description:`A component that allows users to add an entity to the download cart.
Depending on the type of entity, it displays a confirmation dialog for either
downloading a folder or downloading a table/query.`,displayName:"EntityDownloadConfirmation",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}},onIsLoadingChange:{defaultValue:null,description:"",name:"onIsLoadingChange",required:!0,type:{name:"(isLoading: boolean) => void"}},handleClose:{defaultValue:null,description:"",name:"handleClose",required:!0,type:{name:"() => void"}}}}}catch{}try{EntityDownloadConfirmation.displayName="EntityDownloadConfirmation",EntityDownloadConfirmation.__docgenInfo={description:`A component that allows users to add an entity to the download cart.
Depending on the type of entity, it displays a confirmation dialog for either
downloading a folder or downloading a table/query.`,displayName:"EntityDownloadConfirmation",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}},onIsLoadingChange:{defaultValue:null,description:"",name:"onIsLoadingChange",required:!0,type:{name:"(isLoading: boolean) => void"}},handleClose:{defaultValue:null,description:"",name:"handleClose",required:!0,type:{name:"() => void"}}}}}catch{}function Hn(e){const{synapseId:a,version:n}=e;return t.jsxs("span",{children:[n,"  ",t.jsx("a",{target:oa.NEW_WINDOW,rel:"noopener noreferrer",href:`${le.PORTAL}Synapse:${a}.${n}`,children:"(Show Version History on Synapse)"})]})}function Re(e){var Ye,Ke;const[a,n]=b.useState(!1),[r,s]=b.useState(!1),{entityId:o,versionNumber:i}=$(),{getColumnDisplayName:l}=A(),{ref:u,inView:c}=La(),{data:d}=vt(o,i),{schema:p,data:m,rowId:g,versionNumber:y,genericCardSchema:f,secondaryLabelLimit:v,selectColumns:x,columnModels:N,iconOptions:_,useTypeColumnForIcon:S=!1,isHeader:C=!1,headerCardVariant:I,titleLinkConfig:T,ctaLinkConfig:j,labelLinkConfig:h,descriptionConfig:V,columnIconOptions:M}=e,{link:Oe="",type:ae,includeCitation:qt,defaultCitationFormat:zt,citationBoilerplateText:Bt,downloadCartSynId:Ae,portalDoiConfiguration:z,useRowIdAndVersionForDownloadCart:Ut}=f,qe=m[p[f.title]];let ce=f.subTitle&&m[p[f.subTitle]];ce=f.subTitle&&se({value:ce,columnName:f.subTitle,selectColumns:x,columnModels:N}).str;const Qt=m[p[f.description||""]],Gt=m[p[f.icon||""]],ne=m[p[f.dataTypeIconNames||""]],ue=m[p[f.imageFileHandleColumnName||""]],pe=N==null?void 0:N.find(R=>f.link===R.name),Ht=pe==null?void 0:pe.columnType,ze=m[p[Oe]]||"",{href:Wt,target:Yt}=Ze(ze,T,m,p,g);let F,Be;if(Ut)F=`syn${g}`,Be=y;else{let R;Ae&&(R=p[Ae],F=R!==void 0?m[R]:void 0),F=(Ye=F==null?void 0:F.match(/syn\d+/i))==null?void 0:Ye[0]}const me=On({data:m,schema:p,portalDoiConfiguration:z}),Kt=kn({portalId:z==null?void 0:z.portalId,resourceId:me}),Y=[],{secondaryLabels:Ue=[]}=f,oe=f.customSecondaryLabelConfig;if(Kt&&z&&me&&c&&Y.push({columnDisplayName:"DOI",value:t.jsx(_e,{portalId:z.portalId,resourceId:me})}),oe!=null&&oe.isVisible(p,m)){const{key:R,value:E}=oe;F?Y.push({columnDisplayName:"HOW TO DOWNLOAD",value:t.jsx(H,{onClick:()=>n(k=>!k),children:"Click here to add to Synapse download cart"})}):Y.push({columnDisplayName:R,value:E})}const Zt=d&&!ca(d);for(let R=0;R<Ue.length;R+=1){const E=Ue[R],k=m[p[E]];let K=k,re;if(K){if(ua(d)&&E==="datasetSizeInBytes")re="Size",K=_t(parseInt(k));else if(Zt&&E==="currentVersion"){const ge=m[p.id];K=t.jsx(Hn,{synapseId:ge,version:k}),re="Version"}else{const ge=h==null?void 0:h.find(ea=>ea.matchColumnName===E);K=t.jsx(Qa,{value:k,columnName:E,labelLink:ge,isHeader:C,selectColumns:x,columnModels:N,rowData:m}),re=l(E)}Y.push({columnDisplayName:re,value:K,columnName:E})}}const fe=na(d,ue||ze,m[p.id]),Jt=l(f.description||""),Qe=ie("doi",x,N),Xt=Qe!==void 0?m[Qe]:void 0;let Ge,He;if(j){const R=m[p[j.link]]||"",{href:E,target:k}=Ze(R,void 0,m,p,g);Ge=E,He=k}let We=t.jsx(t.Fragment,{});return g&&y&&(We=t.jsx(ve,{datasetId:g,datasetVersionNumber:y})),t.jsx(Ua,{ref:u,icon:t.jsx(Ra,{type:S?m[p.type]:f.type,useTypeForIcon:S,thumbnailRequiresPadding:f.thumbnailRequiresPadding,imageFileHandleId:ue,fileHandleAssociation:fe,iconOptions:_,iconValue:Gt}),isHeader:C,headerCardVariant:I,type:ae,title:qe,subtitle:ce,titleLinkConfiguration:{target:Yt,href:Wt},titleAsFileHandleLinkConfiguration:!T&&Ht===yt.FILEHANDLEID&&fe?{fileHandleAssociation:fe,showDownloadIcon:ae!==va}:void 0,ctaLinkConfig:j?{text:j==null?void 0:j.text,href:Ge,target:He}:void 0,description:Qt,descriptionSubTitle:Jt,descriptionConfig:V,labels:Y,secondaryLabelLimit:v,columnIconOptions:M,useStylesForDisplayedImage:!!ue,cardTopContent:F&&t.jsx(Ha,{in:a,children:t.jsx(Se,{entityId:F,versionNumber:Be,handleClose:()=>n(!1),onIsLoadingChange:R=>{s(R)}})}),renderedIconList:((Ke=M==null?void 0:M.columns)==null?void 0:Ke.dataType)&&(ne==null?void 0:ne.length)&&t.jsx("div",{style:{marginTop:"20px"},children:t.jsx(Ba,{iconConfigs:M.columns.dataType,iconNames:JSON.parse(ne),commonIconProps:{sx:{fontSize:"40px"}},useBackground:!0,useTheme:!0})}),cardTopButtons:t.jsxs(t.Fragment,{children:[We,F&&t.jsx(t.Fragment,{children:t.jsx(ke,{onClick:()=>n(R=>!R),variant:"outlined",startIcon:t.jsx(Ga,{sx:{height:"12px"}}),disabled:r,children:"Download"})}),qt&&t.jsx(Ne,{title:qe,doi:Xt,boilerplateText:Bt,defaultCitationFormat:zt})]})})}try{Re.displayName="TableRowGenericCard",Re.__docgenInfo={description:"Maps a table row to a GenericCard.",displayName:"TableRowGenericCard",props:{}}}catch{}const kt="Unknown",Wn=e=>e<1e6?e.toLocaleString():new Intl.NumberFormat([],{minimumFractionDigits:1,maximumFractionDigits:2,notation:"compact",localeMatcher:"best fit"}).format(e),q=(e,a,n)=>{const r=e[n];let s;return r===void 0?(console.error(`Could not find column named ${n}`),s=null):s=a[r],s},Yn=(e,a,n)=>n.map(r=>{const{columnName:s,label:o}=r,i=q(e,a,s);return{label:o,value:i?Wn(Number(i)):kt}}),Kn=(e,a,n)=>{const r=q(e,a,n);return{label:"Date of release",value:r?Tt(Lt(Number(r)),"MM/DD/YYYY"):kt}},Ot=(e,a,n,r)=>({releaseName:q(e,a,n.releaseNameColumnName),releaseEntityId:q(e,a,n.releaseEntityIdColumnName),releaseDate:Kn(e,a,n.releaseDateColumnName),stats:Yn(e,a,r)}),Zn=(e,a,n,r)=>{const s=r?[...r]:[];return n&&n.forEach(o=>{const i=o.sourceTableColumnName,l=i?q(e,a,i):null;l&&s.push({facet:o.destinationTableColumnName,facetValue:l})}),s},it=(e,a,n)=>{if(!n)return null;const r=q(e,a,n.sourceTablePathColumnName);if(!r)return console.warn(`Column not found in source table or cell did not have value in source table for ${n.sourceTablePathColumnName}`),null;const{sourceTableSqlColumnName:s,selectedFacetConfigs:o,staticSelectedFacets:i}=n,l=s?q(e,a,s):null,u=Zn(e,a,o,i);return l&&u.length>0?Fn(r,l,u):r};function lt({value:e,label:a}){return t.jsxs(O,{direction:"column",alignItems:"center",padding:{xs:"20px 10px",md:"20px 40px"},gap:"10px",width:{xs:"unset",lg:"200px"},children:[t.jsx(P,{variant:"headline1",children:e}),t.jsx(P,{variant:"body1",lineHeight:"20px",color:"grey.700",children:a})]})}function we({data:e,schema:a,includePortalCardClass:n=!0,releaseCardConfig:r}){const{releaseName:s,releaseDate:o,stats:i}=Ot(a,e,r.releaseMetadataConfig,r.statsConfig),{primaryBtnConfig:l,secondaryBtnConfig:u}=r,c=it(a,e,l),d=it(a,e,u);return s===null?t.jsx(t.Fragment,{}):t.jsx(w,{className:`ReleaseCard ${n?"SRC-portalCard":""}`,minWidth:"200px",children:t.jsxs(O,{direction:{xs:"column",lg:"row"},justifyContent:"space-between",gap:"20px",padding:"20px",children:[t.jsxs(O,{direction:"column",gap:"20px",children:[t.jsxs(O,{direction:"row",alignItems:"center",gap:"10px",children:[t.jsx(Pn,{sx:{color:"grey.700"}}),t.jsxs(P,{variant:"headline1",children:[r.prependRelease&&"Release ",s]})]}),t.jsxs(O,{direction:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},gap:"20px",children:[l&&c&&t.jsx(G,{component:Ce,variant:"contained",color:"primary",to:c,children:l.label}),u&&d&&t.jsx(G,{component:Ce,to:d,children:u.label})]})]}),t.jsx(et,{})," ",t.jsxs(O,{direction:"row",gap:{xs:0,lg:"10px"},alignItems:"center",justifyContent:{xs:"space-evenly",lg:"unset"},flexWrap:{xs:"wrap",lg:"nowrap"},children:[t.jsx(lt,{...o}),i.map(p=>t.jsxs(b.Fragment,{children:[t.jsx(et,{orientation:"vertical",flexItem:!0}),t.jsx(lt,{...p})]},p.label))]})]})})}try{we.displayName="ReleaseCardLarge",we.__docgenInfo={description:"",displayName:"ReleaseCardLarge",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string[]"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ReleaseCardSchema"}},includePortalCardClass:{defaultValue:{value:"true"},description:"",name:"includePortalCardClass",required:!1,type:{name:"boolean"}},releaseCardConfig:{defaultValue:null,description:"",name:"releaseCardConfig",required:!0,type:{name:"ReleaseCardLargeConfig"}}}}}catch{}function Jn({value:e,label:a}){return t.jsxs(t.Fragment,{children:[t.jsx(w,{gridColumn:"span 1",gridRow:"span 1",justifySelf:"flex-end",children:t.jsx(P,{variant:"body1",lineHeight:"20px",children:e})}),t.jsx(w,{gridColumn:"span 1",gridRow:"span 1",justifySelf:"flex-start",children:t.jsx(P,{variant:"body1",lineHeight:"20px",color:"grey.700",children:a})})]})}function Te({data:e,schema:a,includePortalCardClass:n=!0,releaseCardConfig:r}){const{releaseName:s,releaseEntityId:o,releaseDate:i,stats:l}=Ot(a,e,r.releaseMetadataConfig,r.statsConfig);if(s===null)return t.jsx(t.Fragment,{});const u=2,c=`span ${u}`,d=l.length+4;return t.jsxs(w,{className:`ReleaseCard ${n?"SRC-portalCard":""}`,display:"grid",gridTemplateColumns:`repeat(${u}, 1fr)`,columnGap:"10px",gridTemplateRows:"subgrid",gridRow:`span ${d}`,rowGap:"0px",alignItems:"center",justifyItems:"center",textAlign:"center",padding:"30px 40px 40px",my:0,children:[t.jsx(w,{gridColumn:c,gridRow:"span 1",alignSelf:"end",children:t.jsx(P,{variant:"headline1",children:s})}),t.jsx(w,{gridColumn:c,gridRow:"span 1",mb:"30px",children:t.jsx(P,{variant:"body1",lineHeight:"20px",fontStyle:"italic",color:"grey.800",children:`Released ${i.value}`})}),l.map(p=>t.jsx(Jn,{...p},p.label)),t.jsx(w,{gridColumn:c,gridRow:"span 1",mt:"20px",mb:"5px",children:t.jsx(G,{component:Ce,to:r.requestAccessPath,sx:{fontSize:"14px"},children:"Request Access"})}),t.jsx(w,{gridColumn:c,gridRow:"span 1",children:o&&t.jsx(H,{href:`${le.PORTAL}Synapse:${o}`,target:"_blank",rel:"noreferrer",fontSize:"14px",sx:{textDecoration:"none"},children:"View on Synapse.org"})})]})}try{Te.displayName="ReleaseCardMedium",Te.__docgenInfo={description:"",displayName:"ReleaseCardMedium",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string[]"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ReleaseCardSchema"}},includePortalCardClass:{defaultValue:{value:"true"},description:"",name:"includePortalCardClass",required:!1,type:{name:"boolean"}},releaseCardConfig:{defaultValue:null,description:"",name:"releaseCardConfig",required:!0,type:{name:"ReleaseCardMediumConfig"}}}}}catch{}function J(e){const{releaseCardConfig:a,...n}=e;switch(a.cardSize){case"large":return t.jsx(we,{releaseCardConfig:a,...n});case"medium":return t.jsx(Te,{releaseCardConfig:a,...n});default:return console.error("No size specified for ReleaseCard"),t.jsx("div",{})}}try{J.displayName="ReleaseCard",J.__docgenInfo={description:`Specialized Release Card, initially implemented for the GENIE portal.
Expects columns used to define release metadata (entity id, name, date)
as well as statistics columns and columns for defining a button to explore data
as defined in the releaseCardConfig`,displayName:"ReleaseCard",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ReleaseCardSchema"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string[]"}},includePortalCardClass:{defaultValue:null,description:"",name:"includePortalCardClass",required:!1,type:{name:"boolean"}},releaseCardConfig:{defaultValue:null,description:"",name:"releaseCardConfig",required:!0,type:{name:"ReleaseCardConfig"}}}}}catch{}try{J.displayName="ReleaseCard",J.__docgenInfo={description:`Specialized Release Card, initially implemented for the GENIE portal.
Expects columns used to define release metadata (entity id, name, date)
as well as statistics columns and columns for defining a button to explore data
as defined in the releaseCardConfig`,displayName:"ReleaseCard",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ReleaseCardSchema"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string[]"}},includePortalCardClass:{defaultValue:null,description:"",name:"includePortalCardClass",required:!1,type:{name:"boolean"}},releaseCardConfig:{defaultValue:null,description:"",name:"releaseCardConfig",required:!0,type:{name:"ReleaseCardConfig"}}}}}catch{}class X extends b.Component{constructor(n){super(n);ye(this,"handleLinkClick",n=>r=>{r.preventDefault(),window.open(`${le.PORTAL}Synapse:${n}`,"_blank")});this.handleLinkClick=this.handleLinkClick.bind(this)}render(){const{data:n,schema:r,selectColumns:s,columnModels:o,genericCardSchema:i,queryVisualizationContext:{getColumnDisplayName:l}}=this.props,u=n[r.datasetName],c=n[r.summary],d=se({columnName:"tumorType",value:n[r.tumorType],selectColumns:s,columnModels:o}).str,p=se({columnName:"diseaseFocus",value:n[r.diseaseFocus],selectColumns:s,columnModels:o}).str,m=n[r.id],g=n[r.fundingAgency],y=n[r.fileCount],f=_t(n[r.fileSize]),v=[{columnDisplayName:"FUNDER",value:se({columnName:"fundingAgency",value:g,selectColumns:s,columnModels:o}).str},{columnDisplayName:"SIZE",value:f},{columnDisplayName:"FILES",value:y}];if(i&&i.secondaryLabels){const{secondaryLabels:x}=i;for(let N=0;N<x.length;N++){const _=x[N],S=n[r[_]];let C;S&&(C=l(_),v.push({columnDisplayName:C,value:S,columnName:_}))}}return t.jsxs("div",{className:"SRC-portalCard SRC-typeDataset  ",children:[t.jsxs("div",{className:"SRC-cardThumbnail",children:[t.jsx(Xa,{type:ft}),t.jsx("div",{children:f})]}),t.jsxs("div",{className:"SRC-cardContent SRC-dataset",children:[t.jsx("div",{className:"SRC-type",children:"Dataset "}),t.jsx("div",{children:t.jsx("h3",{children:t.jsx("a",{target:"_self",href:`${le.PORTAL}Synapse:${m}`,children:u})})}),t.jsxs("div",{className:"SRC-description-dataset",children:[t.jsx("p",{className:"SRC-description-text",children:c}),t.jsx("div",{className:"SRC-cardAction",children:t.jsx(G,{className:"SRC-datasetButton",onClick:this.handleLinkClick(m),color:"secondary",variant:"contained",children:"Download Dataset"})})]}),t.jsx("div",{className:"SRC-cardAnnotations",children:t.jsx(Za,{chips:[d,p]})})]}),t.jsx(Ja,{isHeader:!1,secondaryLabelLimit:this.props.secondaryLabelLimit,values:v})]})}}try{X.displayName="Dataset",X.__docgenInfo={description:"",displayName:"Dataset",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"TableToGenericCardMapping"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}}}}}catch{}class Le extends b.Component{constructor(n){super(n);ye(this,"handleLinkClick",n=>r=>{r.preventDefault(),window.open(n,"_blank")});this.handleLinkClick=this.handleLinkClick.bind(this)}render(){const{data:n,schema:r}=this.props,s=n[r.organizationName],o=n[r.organizationPath],i=n[r.summary],l=n[r.website],u=n[r.logo];let c=l.replace("https://","");c=c.replace("http://",""),c.charAt(c.length-1)==="/"&&(c=c.substring(0,c.length-1));const d=window.location.hash.substring(1)===o,p={};let m;return d?p.paddingBottom="42px":m=t.jsx("div",{className:"SRC-marginAuto SRC-cardAction",children:t.jsx(Pt,{href:o,variant:"contained",color:"secondary",children:"View Funded Research"})}),t.jsxs("div",{className:"SRC-portalCard SRC-typeFunder ",style:p,children:[t.jsxs("div",{className:"SRC-cardContent",children:[t.jsx("div",{className:"SRC-type",children:"Organization"}),u&&t.jsx("div",{className:"SRC-cardThumbnail",children:t.jsx("img",{alt:"funder logo",className:"SRC-logo",src:u})}),t.jsx("div",{children:t.jsxs("h3",{children:[d&&s,!d&&t.jsx("a",{href:o,children:s})]})}),t.jsx("div",{className:"SRC-website",children:t.jsx("a",{rel:"noopener noreferrer",target:"_blank",href:l,children:c})}),t.jsx("div",{className:"SRC-description",children:i})]}),m]})}}try{Le.displayName="Funder",Le.__docgenInfo={description:"",displayName:"Funder",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}}}}}catch{}try{X.displayName="Dataset",X.__docgenInfo={description:"",displayName:"Dataset",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"TableToGenericCardMapping"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}}}}}catch{}try{rowrenderers.displayName="rowrenderers",rowrenderers.__docgenInfo={description:"",displayName:"rowrenderers",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}}}}}catch{}function Pe({data:e,schema:a,includePortalCardClass:n=!0}){const r=e[a.observationSubmitterName],s=e[a.synapseId],o=e[a.observationTime],i=e[a.observationTimeUnits],l=e[a.observationText],u=e[a.observationType],c=JSON.parse(u??""),d=e[a.doi];return t.jsxs("div",{className:`ObservationCard ${n?"SRC-portalCard":""}`,children:[t.jsxs("div",{className:"ObservationCard__submitter",children:[!s&&t.jsx("div",{children:r}),s&&t.jsx(tn,{userId:s})]}),o&&t.jsxs("div",{className:"ObservationCard__time",children:[t.jsx(Ee,{icon:"time"}),t.jsx("span",{children:`${o} ${i}`})]}),l&&t.jsx("div",{className:"ObservationCard__text",children:t.jsx(an,{summary:l})}),d&&t.jsx("div",{className:"ObservationCard__doi",children:t.jsx(H,{href:d,target:"_blank",children:"Reference"})}),t.jsx("div",{className:"ObservationCard__tags",children:u&&c.map((p,m)=>t.jsx("span",{className:"SRC-tag",style:{marginRight:"5px"},children:p},m))})]})}function Xn(){return t.jsxs("div",{className:"SRC-portalCard ObservationCard",children:[t.jsx("div",{className:"ObservationCard__submitter",children:t.jsx("span",{children:t.jsx(Z,{width:"100px"})})}),t.jsx("div",{className:"ObservationCard__time",children:t.jsx(Ee,{icon:"time"})}),t.jsx("div",{className:"ObservationCard__text",children:t.jsx(en,{numCols:1,numRows:4})}),t.jsx("div",{className:"ObservationCard__tags",children:t.jsx(Z,{width:"80px"})})]})}try{Pe.displayName="ObservationCard",Pe.__docgenInfo={description:`Specialized Observation Card, initially implemented for the NF portal.
Expects the following columns: submitterName, submitterUserId, time, timeUnits, text, and tag.`,displayName:"ObservationCard",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ObservationCardSchema"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string[]"}},includePortalCardClass:{defaultValue:{value:"true"},description:"",name:"includePortalCardClass",required:!1,type:{name:"boolean"}}}}}catch{}function eo(e){const a=e.match(/^"(.+?)"\s*@\d+$/);return a?a[1]:""}function to(e,a={textMatchesMode:"NATURAL_LANGUAGE"}){const{textMatchesMode:n,distance:r=0}=a;let s=e;if(n=="BOOLEAN"){const i=rn(e),l=Math.max(r,i);s=`"${e.replaceAll('"',"")}" @${l}`}return{concreteType:"org.sagebionetworks.repo.model.table.TextMatchesQueryFilter",searchExpression:s,searchMode:a.textMatchesMode}}function Wr(e,a,n,r,s){const{additionalFilters:o=[]}=e.query,i=wt(a);if(n.match(pa)&&i){const c={concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter",columnName:(a==null?void 0:a.filter(p=>p.id===i))[0].name,operator:Sa.IN,values:[n]},d=o.find(p=>p.concreteType==c.concreteType&&p.columnName==c.columnName);if(d)return d.values.includes(n)||d.values.push(n),e;o.push(c)}else{const u=to(n,s);if(o.find(d=>d.concreteType==u.concreteType&&d.searchExpression==u.searchExpression))return e;o.push(u)}return e.query.additionalFilters=o,r(""),e}const At=4;function ao(e,a,n,r){const{getColumnDisplayName:s}=r;if(e.values.length>At||!n){const o=`${Fe(s(e.columnName))} (${e.values.length.toLocaleString()})`;return[{key:`queryFilter-${e.concreteType}-${e.columnName}`,innerText:o,tooltipText:o,onRemoveFilter:()=>{a.removeQueryFilter(e)}}]}return e.values.map(o=>{let i=o;o!=null&&o.startsWith("%")&&(o!=null&&o.endsWith("%"))&&(i=i.substring(1,i.length-1)),i=r.getDisplayValue(i,n.columnType);const l=`${s(e.columnName)}: ${i}`;return{key:`queryFilter-${e.concreteType}-${e.columnName}-${o}`,innerText:l,tooltipText:l,onRemoveFilter:()=>{a.removeValueFromQueryFilter(e,o)}}})}function no(e,a){let n=e.searchExpression;return e.searchMode=="BOOLEAN"&&(n=eo(e.searchExpression)),{key:`queryFilter-${e.concreteType}-${e.searchExpression}`,innerText:n,tooltipText:`Text matches: "${n}"`,onRemoveFilter:()=>{a.removeQueryFilter(e)}}}function oo(e,a,n,r,s){return e.flatMap(o=>{var i;if(ma(o)||fa(o)){const l=n.find(u=>u.name===o.columnName);return o.columnName.toLowerCase()===((i=s==null?void 0:s.columnName)==null?void 0:i.toLowerCase())?[]:ao(o,a,l,r)}else return ga(o)?[no(o,a)]:(console.log("Unknown query filter type",o),[])})}function dt(e,a){return e==null&&a==null?"Any value":e==null?`Up to ${a}`:a==null?`${e} or greater`:e===Je&&a===Je?_a:`${e} - ${a}`}function ro(e,a,n,r,s){return e.flatMap(o=>{var c;if(o.columnName.toLowerCase()===((c=s==null?void 0:s.columnName)==null?void 0:c.toLowerCase()))return[];const i=n.find(d=>d.name===o.columnName),{getColumnDisplayName:l,getDisplayValue:u}=r;if(ya(o)){if(o.facetValues.length>At||!i){const d=`${Fe(l(o.columnName,o.jsonPath))} (${o.facetValues.length.toLocaleString()})`;return[{key:`facet-${o.concreteType}-${o.columnName}`,innerText:d,tooltipText:d,onRemoveFilter:()=>{a.removeSelectedFacet(o)}}]}return o.facetValues.map(d=>{const p=u(d,i.columnType);return{key:`facet-${o.concreteType}-${o.columnName}-${d}`,innerText:p,tooltipText:`${l(o.columnName,o.jsonPath)}: ${p}`,onRemoveFilter:()=>{a.removeValueFromSelectedFacet(o,d)}}})}else if(xa(o)){const{combineRangeFacetConfig:d}=a;if(d&&(o.columnName==d.minFacetColumn||o.columnName==d.maxFacetColumn)){if(o.columnName==d.minFacetColumn)return[];{const m=o,g=e.find(f=>f.columnName==d.minFacetColumn),y=dt(m.min,g.max);return[{key:`facet-${o.concreteType}-${o.columnName}-${y}`,innerText:y,tooltipText:`${d.label}: ${y}`,onRemoveFilter:()=>{a.removeSelectedFacet([g,m])}}]}}const p=dt(o.min,o.max);return[{key:`facet-${o.concreteType}-${o.columnName}-${o.min}-${o.max}`,innerText:p,tooltipText:`${l(o.columnName,o.jsonPath)}: ${p}`,onRemoveFilter:()=>{a.removeSelectedFacet(o)}}]}else return console.log("Unknown facet type",o.concreteType),[]})}function so(){var u;const e=$(),a=e.lockedColumn,n=A(),{currentQueryRequest:r}=e,{data:s}=qa(),o=oo(((u=r.query)==null?void 0:u.additionalFilters)??[],e,(s==null?void 0:s.columnModels)||[],n,a),i=ro(r.query.selectedFacets??[],e,(s==null?void 0:s.columnModels)||[],n,a),l=[...o,...i];return t.jsx(t.Fragment,{children:l.map(c=>{const d=encodeURIComponent(c.key);return b.createElement(on,{...c,key:d})})})}function Ve(e){const{style:a,frontText:n,endText:r="",hideIfUnfiltered:s=!1}=e,{resetQuery:o,hasResettableFilters:i}=$(),{data:l}=W(),{unitDescription:u}=A(),c=l==null?void 0:l.queryCount,d=i;return t.jsxs("div",{className:`TotalQueryResults ${i?"hasFilters":""}`,style:a,children:[(i||!s)&&t.jsxs("div",{className:"TotalQueryResults__topbar",children:[t.jsxs("span",{className:"SRC-boldText",children:[n," ",c==null?void 0:c.toLocaleString()," ",Fe(u,c)," ",r]}),d&&t.jsxs("a",{onClick:o,className:"TotalQueryResults__topbar__clearall",children:[t.jsx(Ee,{icon:"deleteSweep"}),"Clear all filters"]})]}),t.jsx("div",{className:"TotalQueryResults__selections",children:t.jsx(so,{})})]})}function io(e){return t.jsx(pt,{children:t.jsx(b.Suspense,{fallback:t.jsx(nn,{width:100}),children:t.jsx(Ve,{...e})})})}try{Ve.displayName="TotalQueryResults",Ve.__docgenInfo={description:"",displayName:"TotalQueryResults",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},frontText:{defaultValue:null,description:"",name:"frontText",required:!0,type:{name:"string"}},endText:{defaultValue:null,description:"",name:"endText",required:!1,type:{name:"string"}},applyChanges:{defaultValue:null,description:"",name:"applyChanges",required:!1,type:{name:"(newFacets: FacetColumnRequest[]) => void"}},hideIfUnfiltered:{defaultValue:null,description:"",name:"hideIfUnfiltered",required:!1,type:{name:"boolean"}}}}}catch{}const lo={display:"block"},co={display:"grid",gridTemplateColumns:"repeat(auto-fill, 272px)",gridAutoRows:"auto",gridAutoFlow:"row",gap:"10px",mb:"30px"},uo={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gridColumnGap:"20px",marginBottom:"20px",marginTop:"20px","& .SRC-portalCard":{margin:"10px 0px"}};function po(e){const{propsToPass:a,type:n}=e;switch(n){case ft:return t.jsx(X,{...a});case Ia:return t.jsx(Le,{...a});case Na:return t.jsx(Re,{...a});case xe:return t.jsx(Pe,{...a});case gt:return t.jsx(J,{...a});default:return t.jsx("div",{})}}function mo(e){var S;const{unitDescription:a,type:n,secondaryLabelLimit:r=3,title:s,rowSet:o,multiCardList:i,...l}=e,{NoContentPlaceholder:u}=A(),c=$(),{data:d}=W(),p=A(),m=o.rows,g=m.length>1,y=[o.tableId],f=Wa({ids:y,type:"ENTITY_HEADER"});if(m.length===0)return t.jsx(u,{});const v={};o.headers.forEach((C,I)=>{v[C.name]=I});let x;if(n===Xe){const C=o.headers.findIndex(T=>T.columnType===yt.USERID);if(C===-1)throw Error("Type MEDIUM_USER_CARD specified but no columnType USERID found");const I=m.map(T=>T.values[C]);x=t.jsx(sn,{rowSet:o,list:I,size:Xe})}else x=m.length?m.map((C,I)=>{const j={key:JSON.stringify(C.values),type:n,schema:v,secondaryLabelLimit:r,rowId:C.rowId,versionNumber:C.versionNumber,data:C.values,selectColumns:o.headers,columnModels:d.columnModels,tableEntityConcreteType:f[0]&&f[0].type,tableId:o.tableId,queryContext:c,queryVisualizationContext:p,...l};return t.jsx(po,{propsToPass:j,type:n},C.rowId??I)}):t.jsx(t.Fragment,{});const N=e.type===gt&&((S=e.releaseCardConfig)==null?void 0:S.cardSize)==="medium";let _=lo;return N?_=co:i&&g&&(_=uo),t.jsx(t.Fragment,{children:t.jsxs(w,{role:"list",sx:_,children:[s&&t.jsx("h2",{className:"SRC-card-overview-title",children:s}),!s&&a&&t.jsx(io,{frontText:"Displaying"}),x]})})}function De(e){const a=t.jsxs("div",{children:[e.type===xe&&t.jsx(Xn,{}),e.type!==xe&&Ya]});return t.jsx(b.Suspense,{fallback:a,children:t.jsx(mo,{...e})})}try{De.displayName="CardContainer",De.__docgenInfo={description:"",displayName:"CardContainer",props:{}}}catch{}function fo(){const{showLastUpdatedOn:e}=A(),{data:a}=W();return e&&a&&a.lastUpdatedOn?t.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:t.jsxs(P,{variant:"body1Italic",children:["Last updated on ",Tt(Lt(a.lastUpdatedOn))]})}):t.jsx(t.Fragment,{})}function go(){const{showLastUpdatedOn:e}=A();return e?t.jsx(b.Suspense,{fallback:t.jsx(Z,{width:100}),children:t.jsx(fo,{})}):t.jsx(t.Fragment,{})}function de(e){const{progressMessage:a}=e;return t.jsxs(w,{sx:{my:7.5,mx:15},children:[t.jsx(un,{}),a&&t.jsx(P,{variant:"smallText1",sx:{color:"grey.600",fontSize:"10px",textAlign:"center",my:1},children:a})]})}try{de.displayName="QueryWrapperLoadingScreen",de.__docgenInfo={description:"",displayName:"QueryWrapperLoadingScreen",props:{progressMessage:{defaultValue:null,description:"",name:"progressMessage",required:!1,type:{name:"string"}}}}}catch{}const yo=()=>{const{goToPage:e,pageSize:a,setPageSize:n,currentPage:r,currentQueryRequest:s}=$(),o=ln(),{data:{queryCount:i,maxRowsPerPage:l}}=W(),u=s.query.limit,c=l??a,d=[10,25,100,500];u&&!d.includes(u)&&(d.push(u),d.sort((f,v)=>f-v));const p=d.filter(f=>f<c);p.length==0&&(p.push(c),l&&a>l&&n(l));const m=(f,v)=>{e(v)},g=f=>{const v=f.target.value;n(v)},y=b.useCallback(f=>{const v=b.forwardRef(function(N,_){return t.jsx("button",{ref:_,...N,onMouseOver:()=>{f.page&&o(f.page)}})});return t.jsx($t,{...f,component:v})},[o]);return r==1&&i==1&&a!=1||i==null?null:t.jsxs("div",{children:[t.jsx(Ln,{page:r,count:Math.ceil(i/a),color:"secondary",onChange:m,shape:"rounded",sx:{display:"inline-block",float:"left",".MuiPaginationItem-root":{fontSize:"14px"}},renderItem:y}),t.jsx(P,{variant:"body1",style:{display:"inline-block"},children:`${i==null?void 0:i.toLocaleString()} total rows /`}),t.jsx(Nt,{name:"page size",value:a,size:"small",onChange:g,sx:{ml:.5},children:p.map(f=>t.jsxs(U,{value:f,children:[f," per page"]},f))})]})};function Me(e){const{hasNextPage:a,fetchNextPage:n,isFetchingNextPage:r,initialLimit:s,initialLimitIsApplied:o,onRemoveInitialLimit:i}=e,{data:{queryCount:l}}=W();return b.useEffect(()=>{o&&s!=null&&l!=null&&i!=null&&s>=l&&i()},[o,s,l,i]),o||a?t.jsx(w,{display:"flex",justifyContent:"flex-start",children:t.jsx(Pt,{variant:"contained",color:"secondary",size:"large",onClick:()=>{o&&i!=null?i():n()},disabled:r,children:r?t.jsx(Ka,{size:24}):"View More"})}):null}try{Me.displayName="ViewMoreQueryResultsButton",Me.__docgenInfo={description:"",displayName:"ViewMoreQueryResultsButton",props:{hasNextPage:{defaultValue:null,description:"",name:"hasNextPage",required:!0,type:{name:"boolean"}},fetchNextPage:{defaultValue:null,description:"",name:"fetchNextPage",required:!0,type:{name:"() => void"}},isFetchingNextPage:{defaultValue:null,description:"",name:"isFetchingNextPage",required:!0,type:{name:"boolean"}},initialLimit:{defaultValue:null,description:"",name:"initialLimit",required:!1,type:{name:"number"}},initialLimitIsApplied:{defaultValue:null,description:"",name:"initialLimitIsApplied",required:!1,type:{name:"boolean"}},onRemoveInitialLimit:{defaultValue:null,description:"",name:"onRemoveInitialLimit",required:!1,type:{name:"() => void"}}}}}catch{}function xo(){var o;const{isInfinite:e,rowDataInfiniteQueryOptions:a}=$(),n=nt({...a,enabled:e}),r=nt({...a,select:i=>i.pages[0].progressMessage,enabled:e}),s=b.useMemo(()=>{var l,u,c,d,p;const i=gn((d=(c=(u=(l=n.data)==null?void 0:l.pages[0])==null?void 0:u.responseBody)==null?void 0:c.queryResult)==null?void 0:d.queryResults);return i&&(i.rows=((p=n.data)==null?void 0:p.pages.flatMap(m=>{var g,y;return((y=(g=m.responseBody)==null?void 0:g.queryResult)==null?void 0:y.queryResults.rows)||[]}))||[]),i},[(o=n.data)==null?void 0:o.pages]);return{infiniteQuery:n,infiniteQueryRowSet:s,infiniteQueryProgressMessage:r}}function ho(){const{isInfinite:e,rowDataQueryOptions:a,getCurrentQueryRequest:n}=$(),r=he({...a,enabled:!e,placeholderData:o=>{if(o&&da(o.requestBody.query,n().query))return o}}),s=he({...a,select:o=>o.progressMessage,enabled:!e,placeholderData:o=>o});return{paginatedQuery:r,paginatedQueryProgressMessage:s}}function Co(e){const{isInfinite:a}=$(),{paginatedQuery:n,paginatedQueryProgressMessage:r}=ho(),{infiniteQuery:s,infiniteQueryRowSet:o,infiniteQueryProgressMessage:i}=xo(),l=b.useMemo(()=>{let p;return a?p=o:p=n.data,p&&e!=null&&(p={...p,rows:p.rows.slice(0,e)}),p},[o,e,a,n.data]),u=a?i.data:r.data,c=a?s.isLoading:n.isLoading,d=a?s.isFetchingNextPage:n.isPlaceholderData;return{rowSet:l,progressMessage:u,isLoading:c,isLoadingNewPage:d,fetchNextPageOfInfiniteData:s.fetchNextPage,hasNextPageOfInfiniteData:s.hasNextPage}}function ct(e){const{cardConfiguration:a,hideDownload:n,initialLimit:r,multiCardList:s}=e,[o,i]=b.useState(r!=null),{isInfinite:l}=$(),u=cn(e.tableConfiguration?{...e.tableConfiguration,hideDownload:n}:void 0),{rowSet:c,progressMessage:d,isLoading:p,isLoadingNewPage:m,fetchNextPageOfInfiniteData:g,hasNextPageOfInfiniteData:y}=Co(o?r:void 0);return t.jsx(pt,{children:t.jsxs("div",{className:"RowSetView",children:[p&&t.jsx(de,{progressMessage:d}),!p&&c&&t.jsxs(b.Suspense,{fallback:t.jsx(de,{progressMessage:d}),children:[u&&t.jsx(dn,{...u,rowSet:c,isLoadingNewPage:m}),a&&t.jsx(De,{...a,rowSet:c,multiCardList:s})]}),t.jsxs(b.Suspense,{fallback:t.jsx(t.Fragment,{}),children:[!l&&t.jsx(w,{sx:{mt:2,textAlign:"right"},children:t.jsx(yo,{})}),l&&t.jsx(Me,{initialLimit:r,initialLimitIsApplied:o,onRemoveInitialLimit:()=>{i(!1)},fetchNextPage:()=>{g()},hasNextPage:y,isFetchingNextPage:m})]}),t.jsx(go,{})]})})}try{ct.displayName="RowSetView",ct.__docgenInfo={description:`Renders a table or cards representing the RowSet. Also displays appropriate pagination controls
depending on the value of QueryContext.isInfinite.`,displayName:"RowSetView",props:{tableConfiguration:{defaultValue:null,description:"",name:"tableConfiguration",required:!1,type:{name:"SynapseTableConfiguration"}},cardConfiguration:{defaultValue:null,description:"",name:"cardConfiguration",required:!1,type:{name:"CardConfiguration"}},initialLimit:{defaultValue:null,description:"",name:"initialLimit",required:!1,type:{name:"number"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}},multiCardList:{defaultValue:null,description:"",name:"multiCardList",required:!1,type:{name:"boolean"}}}}}catch{}export{ct as R,io as T,je as a,Wr as u};
