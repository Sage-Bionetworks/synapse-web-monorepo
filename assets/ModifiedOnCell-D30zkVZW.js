import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{u as d}from"./useEntityBundle-BiY0vzMi.js";import{l as j}from"./useFiles-BxcP6yly.js";import"./VerificationSubmission-BDh1zA9f.js";import{E as N,f as w}from"./StringUtils-C95LMFI-.js";import"./OrientationBanner-B2D9V7kc.js";import"./index-C5xsNgZG.js";import{b as D}from"./useDownloadList-BnBV7Pvk.js";import{d as I}from"./DownloadConfirmationUtils-CAMlJAZJ.js";import{I as F}from"./IconSvg-3vzQJqx7.js";import{d as h}from"./ToastMessage-CdGqDK2b.js";import{B as M}from"./Box-DfWINr92.js";import{T as x}from"./Tooltip-y1vasDyH.js";import{I as B}from"./IconButton-B4vCrkNM.js";import{S as l}from"./Skeleton-viu--MBo.js";import{u as S}from"./useMutation-YpbZurJl.js";import{c as T}from"./calculateFriendlyFileSize-BYGBdEDj.js";import{U as b}from"./UserBadge-6YVIl-8s.js";import{f as L}from"./DateFormatter-DXH7iL34.js";import{d as E}from"./dayjs.min-637-zvhS.js";function y(e){const{row:i}=e,{entityId:o,versionNumber:a}=i.original,{data:r}=d(o,a),{downloadCartPageUrl:n}=j(),{mutate:s}=D({onSuccess:()=>{I(n)},onError:p=>{h(p.reason,"danger")}});return(r==null?void 0:r.entityType)!==N.file?t.jsx(t.Fragment,{}):t.jsx(M,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:t.jsx(x,{title:"Add to Download Cart",placement:"right",children:t.jsx(B,{sx:{height:"35px",width:"35px"},onClick:p=>{s({entityId:o,entityVersionNumber:a}),p.stopPropagation()},children:t.jsx(F,{icon:"download"})})})})}try{y.displayName="AddFileToDownloadListCell",y.__docgenInfo={description:"",displayName:"AddFileToDownloadListCell",props:{}}}catch{}function c({cellData:e}){return t.jsx(t.Fragment,{children:(e&&L(E(e)))??t.jsx(t.Fragment,{})})}try{c.displayName="DateCell",c.__docgenInfo={description:"",displayName:"DateCell",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!1,type:{name:"string"}}}}}catch{}function _(e){var r;const{row:i}=e,{data:o,isLoading:a}=d(i.original.entityId,i.original.versionNumber);return a?t.jsx(l,{width:100}):t.jsx(c,{...e,cellData:(r=o==null?void 0:o.entity)==null?void 0:r.createdOn})}try{_.displayName="CreatedOnCell",_.__docgenInfo={description:"Renders 'createdOn' from the entity bundle.",displayName:"CreatedOnCell",props:{}}}catch{}function u(e){const{row:i}=e,{data:o,isLoading:a}=d(i.original.entityId,i.original.versionNumber),{mutate:r}=S({mutationFn:s=>w(s),onSuccess:()=>h("MD5 copied to the clipboard","success")});if(a)return t.jsx(l,{width:100});const n=o==null?void 0:o.fileHandles.find(s=>s.isPreview!==!0);return(n==null?void 0:n.contentMd5)==null?t.jsx(t.Fragment,{}):t.jsx(x,{title:"Click to copy MD5 to your clipboard",placement:"right",children:t.jsx("button",{className:"md5Button","aria-label":"MD5",onClick:s=>{s.stopPropagation(),r((n==null?void 0:n.contentMd5)??"")},children:n==null?void 0:n.contentMd5})})}try{u.displayName="FileEntityMD5Cell",u.__docgenInfo={description:"",displayName:"FileEntityMD5Cell",props:{}}}catch{}function f(e){const{row:i}=e,{data:o,isLoading:a}=d(i.original.entityId,i.original.versionNumber);if(a)return t.jsx(l,{width:100});const r=o==null?void 0:o.fileHandles.find(s=>s.isPreview!==!0),n=r!=null&&r.contentSize?T(r==null?void 0:r.contentSize):"";return t.jsx("span",{children:n})}try{f.displayName="FileEntitySizeCell",f.__docgenInfo={description:"",displayName:"FileEntitySizeCell",props:{}}}catch{}function m({cellData:e}){return e?t.jsx(b,{userId:e,openLinkInNewTab:!0}):t.jsx(t.Fragment,{})}try{m.displayName="UserBadgeCell",m.__docgenInfo={description:"",displayName:"UserBadgeCell",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!1,type:{name:"string"}}}}}catch{}function g(e){const{row:i}=e,{data:o,isLoading:a}=d(i.original.entityId,i.original.versionNumber);return a?t.jsx(l,{width:100}):t.jsx(m,{...e,cellData:o==null?void 0:o.entity.modifiedBy})}try{g.displayName="ModifiedByCell",g.__docgenInfo={description:"Renders 'modifiedBy' from the entity bundle.",displayName:"ModifiedByCell",props:{}}}catch{}function C(e){const{row:i}=e,{data:o,isLoading:a}=d(i.original.entityId,i.original.versionNumber);return a?t.jsx(l,{width:100}):t.jsx(c,{...e,cellData:o==null?void 0:o.entity.modifiedOn})}try{C.displayName="ModifiedOnCell",C.__docgenInfo={description:"Renders 'modifiedOn' from the entity bundle.",displayName:"ModifiedOnCell",props:{}}}catch{}export{y as A,_ as C,f as F,C as M,g as a,u as b};
