import{r as s}from"./index-KGN7nUgE.js";import{c as ce,e as X,h as Be}from"./createTheme-DO0GeJVN.js";import{i as de}from"./isHostComponent-DVu5iVWx.js";import{f as Ee}from"./formControlState-Dq1zat_P.js";import{u as He,F as Te}from"./useFormControl-DqpIKCfm.js";import{g as We}from"./index-BKxVS2q8.js";import{u as Le,s as be,c as Oe,m as ge}from"./DefaultPropsProvider-TigZOw0c.js";import{i as Me}from"./FormControl-BP0Q7a5I.js";import{g as Ne,i as Y}from"./inputBaseClasses-4MqSuc0L.js";import{j as v}from"./jsx-runtime-D_zvdyIk.js";import{u as ye,a as Pe,b as ee}from"./useForkRef--CXcjM6c.js";import{o as pe}from"./ownerWindow-HkKU3E4x.js";import{d as je}from"./debounce-Be36O1Ab.js";function P(t){return parseInt(t,10)||0}const $e={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function De(t){for(const e in t)return!1;return!0}function fe(t){return De(t)||t.outerHeightStyle===0&&!t.overflowing}const qe=s.forwardRef(function(e,n){const{onChange:c,maxRows:m,minRows:d=1,style:R,value:z,...W}=e,{current:S}=s.useRef(z!=null),p=s.useRef(null),k=ye(n,p),f=s.useRef(null),w=s.useRef(null),g=s.useCallback(()=>{const r=p.current,o=w.current;if(!r||!o)return;const l=pe(r).getComputedStyle(r);if(l.width==="0px")return{outerHeightStyle:0,overflowing:!1};o.style.width=l.width,o.value=r.value||e.placeholder||"x",o.value.slice(-1)===`
`&&(o.value+=" ");const E=l.boxSizing,L=P(l.paddingBottom)+P(l.paddingTop),$=P(l.borderBottomWidth)+P(l.borderTopWidth),x=o.scrollHeight;o.value="x";const I=o.scrollHeight;let h=x;d&&(h=Math.max(Number(d)*I,h)),m&&(h=Math.min(Number(m)*I,h)),h=Math.max(h,I);const O=h+(E==="border-box"?L+$:0),D=Math.abs(h-x)<=1;return{outerHeightStyle:O,overflowing:D}},[m,d,e.placeholder]),A=Pe(()=>{const r=p.current,o=g();if(!r||!o||fe(o))return!1;const u=o.outerHeightStyle;return f.current!=null&&f.current!==u}),C=s.useCallback(()=>{const r=p.current,o=g();if(!r||!o||fe(o))return;const u=o.outerHeightStyle;f.current!==u&&(f.current=u,r.style.height=`${u}px`),r.style.overflow=o.overflowing?"hidden":""},[g]),B=s.useRef(-1);ee(()=>{const r=je(C),o=p==null?void 0:p.current;if(!o)return;const u=pe(o);u.addEventListener("resize",r);let l;return typeof ResizeObserver<"u"&&(l=new ResizeObserver(()=>{A()&&(l.unobserve(o),cancelAnimationFrame(B.current),C(),B.current=requestAnimationFrame(()=>{l.observe(o)}))}),l.observe(o)),()=>{r.clear(),cancelAnimationFrame(B.current),u.removeEventListener("resize",r),l&&l.disconnect()}},[g,C,A]),ee(()=>{C()});const j=r=>{S||C();const o=r.target,u=o.value.length,l=o.value.endsWith(`
`),E=o.selectionStart===u;l&&E&&o.setSelectionRange(u,u),c&&c(r)};return v.jsxs(s.Fragment,{children:[v.jsx("textarea",{value:z,onChange:j,ref:k,rows:d,style:R,...W}),v.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:w,tabIndex:-1,style:{...$e.shadow,...R,paddingTop:0,paddingBottom:0}})]})});var me;const Ge=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${X(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Ue=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},Ve=t=>{const{classes:e,color:n,disabled:c,error:m,endAdornment:d,focused:R,formControl:z,fullWidth:W,hiddenLabel:S,multiline:p,readOnly:k,size:f,startAdornment:w,type:g}=t,A={root:["root",`color${X(n)}`,c&&"disabled",m&&"error",W&&"fullWidth",R&&"focused",z&&"formControl",f&&f!=="medium"&&`size${X(f)}`,p&&"multiline",w&&"adornedStart",d&&"adornedEnd",S&&"hiddenLabel",k&&"readOnly"],input:["input",c&&"disabled",g==="search"&&"inputTypeSearch",p&&"inputMultiline",f==="small"&&"inputSizeSmall",S&&"inputHiddenLabel",w&&"inputAdornedStart",d&&"inputAdornedEnd",k&&"readOnly"]};return Oe(A,Ne,e)},Ke=be("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Ge})(ge(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Y.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),_e=be("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Ue})(ge(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},c={opacity:"0 !important"},m=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Y.formControl} &`]:{"&::-webkit-input-placeholder":c,"&::-moz-placeholder":c,"&::-ms-input-placeholder":c,"&:focus::-webkit-input-placeholder":m,"&:focus::-moz-placeholder":m,"&:focus::-ms-input-placeholder":m},[`&.${Y.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:d})=>!d.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:d})=>d.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),he=We({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),ut=s.forwardRef(function(e,n){const c=Le({props:e,name:"MuiInputBase"}),{"aria-describedby":m,autoComplete:d,autoFocus:R,className:z,color:W,components:S={},componentsProps:p={},defaultValue:k,disabled:f,disableInjectingGlobalStyles:w,endAdornment:g,error:A,fullWidth:C=!1,id:B,inputComponent:j="input",inputProps:r={},inputRef:o,margin:u,maxRows:l,minRows:E,multiline:L=!1,name:$,onBlur:x,onChange:I,onClick:h,onFocus:O,onKeyDown:D,onKeyUp:xe,placeholder:ve,readOnly:q,renderSuffix:te,rows:M,size:Ze,slotProps:oe={},slots:ne={},startAdornment:H,type:re="text",value:Se,...we}=c,N=r.value!=null?r.value:Se,{current:G}=s.useRef(N!=null),F=s.useRef(),Ce=s.useCallback(i=>{},[]),Re=ye(F,o,r.ref,Ce),[U,V]=s.useState(!1),a=He(),b=Ee({props:c,muiFormControl:a,states:["color","disabled","error","hiddenLabel","size","required","filled"]});b.focused=a?a.focused:U,s.useEffect(()=>{!a&&f&&U&&(V(!1),x&&x())},[a,f,U,x]);const K=a&&a.onFilled,_=a&&a.onEmpty,T=s.useCallback(i=>{Me(i)?K&&K():_&&_()},[K,_]);ee(()=>{G&&T({value:N})},[N,T,G]);const ze=i=>{O&&O(i),r.onFocus&&r.onFocus(i),a&&a.onFocus?a.onFocus(i):V(!0)},ke=i=>{x&&x(i),r.onBlur&&r.onBlur(i),a&&a.onBlur?a.onBlur(i):V(!1)},Ie=(i,...le)=>{if(!G){const ue=i.target||F.current;if(ue==null)throw new Error(Be(1));T({value:ue.value})}r.onChange&&r.onChange(i,...le),I&&I(i,...le)};s.useEffect(()=>{T(F.current)},[]);const Fe=i=>{F.current&&i.currentTarget===i.target&&F.current.focus(),h&&h(i)};let Z=j,y=r;L&&Z==="input"&&(M?y={type:void 0,minRows:M,maxRows:M,...y}:y={type:void 0,maxRows:l,minRows:E,...y},Z=qe);const Ae=i=>{T(i.animationName==="mui-auto-fill-cancel"?F.current:{value:"x"})};s.useEffect(()=>{a&&a.setAdornedStart(!!H)},[a,H]);const J={...c,color:b.color||"primary",disabled:b.disabled,endAdornment:g,error:b.error,focused:b.focused,formControl:a,fullWidth:C,hiddenLabel:b.hiddenLabel,multiline:L,size:b.size,startAdornment:H,type:re},ie=Ve(J),ae=ne.root||S.Root||Ke,Q=oe.root||p.root||{},se=ne.input||S.Input||_e;return y={...y,...oe.input??p.input},v.jsxs(s.Fragment,{children:[!w&&typeof he=="function"&&(me||(me=v.jsx(he,{}))),v.jsxs(ae,{...Q,ref:n,onClick:Fe,...we,...!de(ae)&&{ownerState:{...J,...Q.ownerState}},className:ce(ie.root,Q.className,z,q&&"MuiInputBase-readOnly"),children:[H,v.jsx(Te.Provider,{value:null,children:v.jsx(se,{"aria-invalid":b.error,"aria-describedby":m,autoComplete:d,autoFocus:R,defaultValue:k,disabled:b.disabled,id:B,onAnimationStart:Ae,name:$,placeholder:ve,readOnly:q,required:b.required,rows:M,value:N,onKeyDown:D,onKeyUp:xe,type:re,...y,...!de(se)&&{as:Z,ownerState:{...J,...y.ownerState}},ref:Re,className:ce(ie.input,y.className,q&&"MuiInputBase-readOnly"),onBlur:ke,onChange:Ie,onFocus:ze})}),g,te?te({...b,startAdornment:H}):null]})]})});export{ut as I,Ke as a,_e as b,Ue as i,Ge as r};
