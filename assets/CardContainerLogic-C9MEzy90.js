var er=Object.defineProperty;var tr=(e,n,a)=>n in e?er(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a;var L=(e,n,a)=>tr(e,typeof n!="symbol"?n+"":n,a);import{aR as ra,aS as sa,aT as nr,U as Pe,j as t,r as x,aY as oa,ee as ar,a$ as Ae,b0 as be,aW as yt,b1 as fe,aX as ia,b2 as Ht,bs as rr,b5 as ye,b6 as Tn,eC as sr,eD as la,eE as or,c6 as da,X as I,eb as ir,B as W,eF as Wt,e2 as De,dh as _n,a1 as Z,dF as lr,c1 as F,b$ as he,_ as G,V as R,br as dr,eG as ur,aa as Q,eH as Rn,an as Gt,eI as cr,eJ as pr,F as mr,eK as yr,a0 as Yt,eL as fr,eM as gr,ei as xe,Y as Kt,al as X,eN as ua,eO as ca,eP as Oe,eQ as oe,eR as hr,ak as xr,eS as Xe,cv as br,dZ as pa,bF as Sr,eT as ma,eU as ya,eV as Vn,eW as vr,eX as fa,cx as Be,Z as Cr,eY as Nr,eZ as ga,e_ as Tr,e$ as _r,f0 as Rr,ch as wn,f1 as Vr,bV as Jt,ag as H,f2 as Qe,f3 as wr,f4 as Ze,f5 as ha,f6 as Le,f7 as xa,f8 as Xt,f9 as Zt,fa as ba,fb as en,am as ft,$ as de,dG as Se,bn as Ir,bo as qr,ey as Ue,fc as jr,dE as Pr,e4 as Sa,fd as ae,fe as In,ff as Lr,fg as va,fh as re,cs as Fr,dH as tn,bX as Er,J as kr,d0 as Ar,dj as ie,e5 as Dr,fi as Mr,fj as Or,e8 as Ca,fk as Br,cy as $e,fl as gt,eA as Na,dW as Qr,cG as qn,eB as Ta,ex as Ur,ez as $r,fm as zr,fn as Hr}from"./iframe-DGqgB8og.js";import{u as E,Q as Wr}from"./QueryContext-CxiHKXCP.js";import{u as ue,a as O,b as ce,Q as nn,c as an,N as ze,d as _a}from"./QueryWrapper-37b4HE91.js";import{A as Gr}from"./Autocomplete-CmXVVaam.js";import{S as Yr,u as Kr}from"./UserSearchBoxV2-CNlLBw9i.js";import{f as Jr}from"./JsonSchemaForm-ezzVjpk4.js";import{P as Xr,u as Zr,g as es,F as ts,Q as Ra,S as Va,a as ns}from"./FeaturedDataTabs-BEJN5ibG.js";import{g as Me,a as jn,b as as,T as rs}from"./CardUtils-vs9Adzsj.js";import{G as ss}from"./GenericCardIcon-YE1UH5As.js";import{C as os}from"./CopyToClipboardIcon-0yXcVEYo.js";import{C as is}from"./CreateOrUpdateDoiModal-DP0auSqX.js";import{u as wa}from"./useDOI-CMwyZXIL.js";import{u as Ia}from"./usePortal-Bt_Wo4CG.js";import{g as et,m as ls}from"./SynapseTableUtils-BbxYe3WD.js";import{u as pe}from"./useEntity-BVFUuXsO.js";import{u as qa}from"./index-CALZ-QiU.js";import{F as ds,C as us}from"./CitationPopoverContent-C7xZu_7u.js";import"./ErrorPage-BshVR-LA.js";import"./AccessTokenPage-D6ehxQzK.js";import"./AccountLevelBadges-LTV8AM08.js";import{C as Pn}from"./CardGridWithLinks-D-7Kp8dM.js";import"./RowDataTable-wpOT0M49.js";import"./RowDataTableWithQuery-9FSph4wC.js";import{a as cs,b as ps}from"./useDownloadList-BflgT4YQ.js";import"./MarkdownPopover-Baf-6UEB.js";import"./SkeletonButton-VHDypD6K.js";import{S as ms}from"./SkeletonInlineBlock-CDJCDGy_.js";import{S as ys}from"./SkeletonTable-B050jOXg.js";import"./SkeletonParagraph-_skZGHOU.js";import"./CertificationAnswer-BAq_1anl.js";import"./ChallengeDetailPage-LZ2vfIL5.js";import"./index-d3y93FPs.js";import"./AvailableEvaluationQueueList-DVDZsOsc.js";import"./ChallengeSubmission-DTp8uZOE.js";import"./ChangePassword-BcKUfUot.js";import"./ChangePasswordWithToken-C0Gi9FU1.js";import{C as fs}from"./ConfirmationDialog-DuodJ_BP.js";import"./CookiesNotification-Ddip4Zyr.js";import{C as Ln}from"./CTASectionWrapper-CBeuUryi.js";import{P as gs,R as hs}from"./DownloadCartPage-CCsDDlIz.js";import"./ShowDownloadV2-DiKcqcly.js";import{D as xs}from"./DynamicForm-D38enmYi.js";import{W as rn}from"./WideButton-Dyr58GMj.js";import"./EntityBadgeIcons-BUihoHSO.js";import"./EntityFinder-CUQJVMbD.js";import{F as bs,v as Ss}from"./index-CghNyeOI.js";import"./enums--X3e1hTy.js";import"./index-r8ZA1smB.js";import"./EvaluationCard-CxPw7qfR.js";import"./EvaluationEditorPage-DzKFoYmq.js";import"./ExperimentalMode-B__vEMyV.js";import"./FileUpload-BCsW72GR.js";import"./FeaturedToolsList-BRcwXHWG.js";import"./DiscussionThread-BBiqdHvg.js";import"./ForumPage-Cp2qQKj5.js";import{S as vs}from"./SynapseCardLabel-iXxvrwbO.js";import{G as Cs}from"./GenericCard-NPTinN7P.js";import"./HeaderCardV2-I5Ljq4kR.js";import"./Goals-zAahuDnc.js";import"./GoalsV2-DWwtRmgB.js";import{G as Fn}from"./GoalsV3-C0A4VfPL.js";import"./GoogleMap-BiZ4vqnF.js";import"./HasAccessV2-BXL5XQjT.js";import{I as ja}from"./Icon-CdnJSHUf.js";import"./MarkdownCollapse-CHXvTbZQ.js";import"./MarkdownEditor-DzJDq1so.js";import"./MarkdownGithub-tDyYZi8R.js";import{M as Pa}from"./ModalDownload-DGyvkpFy.js";import"./InfiniteTableLayout-CIfVmaJZ.js";import"./CopyToClipboardInput-mIpSBokx.js";import"./DialogBase-BdfEWFiQ.js";import"./WarningDialog-NngZFX3w.js";import"./ColumnHeader-CafXUnIV.js";import"./StyledTanStackTable-CkwRqA9a.js";import"./OAuthAclEditorModal-CyLAWQU8.js";import"./ThemesPlot-CaJGST7o.js";import"./UpsetPlot-CtW419TE.js";import{S as Ns}from"./SynapsePlot-CI3ii5CS.js";import"./Programs-D19foddY.js";import{P as Ts}from"./ProgrammaticInstructionsModal-BR9_kW57.js";import"./ProvenanceGraph-B3_LWax-.js";import"./ProjectDataAvailability-BNqPqvD4.js";import{Q as _s}from"./QueryCount-BCk7pwN4.js";import{u as sn,a as on,b as Rs,s as Vs,i as La}from"./TableRowSelectionState-DjQWaipr.js";import{g as ws,a as Is,b as qs,c as js,E as Ps}from"./ExportToAnalysisPlatformDialog-C_iTooc0.js";import{H as Fa}from"./HelpPopover-D7QaDdbI.js";import{I as Ls}from"./IconSvgButton-DvvUCScJ.js";import{g as Fs}from"./TextFieldWithWordLimit-DjqylJTZ.js";import{C as Es,a as ks}from"./index-BPWsM6-O.js";import{T as As}from"./SynapseTableConstants-2qH3fDlQ.js";import{R as Ds}from"./RowSelectionUI-D6HELkKZ.js";import{D as Ms}from"./DownloadLoginModal-aJYIgo8q.js";import{M as ge}from"./MenuItem-ClmHPDmJ.js";import{p as ln}from"./pluralize-CC--1ngb.js";import{S as Os}from"./SelectionCriteriaPill-DCCOqZiC.js";import"./RegisterPageLogoutPrompt-BMF_9-WW.js";import"./RenderIfInView-CNUZ1b_L.js";import"./Resources-BjlUdvB5.js";import"./AccessRequirementAclEditor-Dh51Jr1o.js";import"./RssFeedCards-BXgbIl5J.js";import{S as Bs}from"./ShowMore-CnsmszGZ.js";import"./LightTooltip-CD7bmaAv.js";import"./InputSizedButton-Doj6Ym0X.js";import"./DropdownSelect-Bx3pN1-F.js";import"./SubscriptionItem-MF3Epmwe.js";import"./SubsectionRowRenderer-BBtHF3gP.js";import"./SynapseFormWrapper-DRms6IXI.js";import"./SynapseFormSubmissionGrid-BY2Jmjv5.js";import{u as Qs,S as Us}from"./SynapseTable-DqxLJT3e.js";import"./SynapseChat-B4-NxiQD.js";import"./TableFeedCards-DDmhyH1V.js";import"./TermsAndConditions-DVFmBt36.js";import{g as En}from"./ColorGradient-Zy7TAKxK.js";import{B as Y}from"./Box-C48ErZpg.js";import{P as $s}from"./Plot-DtPcf8Ak.js";import{u as zs}from"./index-DtWwUIBm.js";import{U as Hs}from"./UserBadge-BsFNS6_M.js";import{U as Ws}from"./UserCardListRotate-DY87IKFB.js";import"./UserCardListGroups-CtmSvuXe.js";import"./UserOrTeamBadge-B7Gndvzh.js";import"./UserProfileLinks-D0Q5zK29.js";import"./EntityHeaderTable-Dul096Ew.js";import"./AccessRequirementRelatedProjectsList-Bi4RYZvK.js";import"./SageResourcesPopover-wp0X1YBo.js";import"./RecentPublicationsGrid-hiOtKyiX.js";import"./ImageCardGridWithLinks-DPmkDvh2.js";import"./PortalFeatureHighlights-CcNNUtDm.js";import{u as dn}from"./useImageUrlUtils-BbAbnZcP.js";import{P as Ea}from"./PortalSectionHeader-CAk9eR4m.js";import{C as un}from"./CardMedia-BOjbYYoL.js";import"./CreatePortalModal-Cs4k9esM.js";import{D as Gs}from"./DownloadConfirmationUI-BFH25ws6.js";import{d as Ys}from"./DownloadConfirmationUtils-CjoILg93.js";import{I as Ks}from"./IconList-v-uB_ouL.js";import{S as Js}from"./ShareThisPage-BiRPgnkt.js";import{a as Xs}from"./use-deep-compare-effect.esm-nKvRvxU0.js";import{F as Zs,L as eo}from"./DataGrid-BbiNeOYX.js";import{u as kn}from"./useInfiniteQuery-CvHOf2NU.js";function to(e){return ra("MuiPagination",e)}sa("MuiPagination",["root","ul","outlined","text"]);function no(e={}){const{boundaryCount:n=1,componentName:a="usePagination",count:s=1,defaultPage:r=1,disabled:o=!1,hideNextButton:l=!1,hidePrevButton:i=!1,onChange:d,page:u,showFirstButton:c=!1,showLastButton:p=!1,siblingCount:m=1,...g}=e,[h,y]=nr({controlled:u,default:r,name:a,state:"page"}),S=(V,_)=>{u||y(_),d&&d(V,_)},f=(V,_)=>{const A=_-V+1;return Array.from({length:A},(U,q)=>V+q)},b=f(1,Math.min(n,s)),v=f(Math.max(s-n+1,n+1),s),C=Math.max(Math.min(h-m,s-n-m*2-1),n+2),N=Math.min(Math.max(h+m,n+m*2+2),s-n-1),T=[...c?["first"]:[],...i?[]:["previous"],...b,...C>n+2?["start-ellipsis"]:n+1<s-n?[n+1]:[],...f(C,N),...N<s-n-1?["end-ellipsis"]:s-n>n?[s-n]:[],...v,...l?[]:["next"],...p?["last"]:[]],w=V=>{switch(V){case"first":return 1;case"previous":return h-1;case"next":return h+1;case"last":return s;default:return null}};return{items:T.map(V=>typeof V=="number"?{onClick:_=>{S(_,V)},type:"page",page:V,selected:V===h,disabled:o,"aria-current":V===h?"page":void 0}:{onClick:_=>{S(_,w(V))},type:V,page:w(V),selected:!1,disabled:o||!V.includes("ellipsis")&&(V==="next"||V==="last"?h>=s:h<=1)}),...g}}function ao(e){return ra("MuiPaginationItem",e)}const M=sa("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),ro=Pe(t.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),so=Pe(t.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),ka=(e,n)=>{const{ownerState:a}=e;return[n.root,n[a.variant],n[`size${fe(a.size)}`],a.variant==="text"&&n[`text${fe(a.color)}`],a.variant==="outlined"&&n[`outlined${fe(a.color)}`],a.shape==="rounded"&&n.rounded,a.type==="page"&&n.page,(a.type==="start-ellipsis"||a.type==="end-ellipsis")&&n.ellipsis,(a.type==="previous"||a.type==="next")&&n.previousNext,(a.type==="first"||a.type==="last")&&n.firstLast]},oo=e=>{const{classes:n,color:a,disabled:s,selected:r,size:o,shape:l,type:i,variant:d}=e,u={root:["root",`size${fe(o)}`,d,l,a!=="standard"&&`color${fe(a)}`,a!=="standard"&&`${d}${fe(a)}`,s&&"disabled",r&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[i]],icon:["icon"]};return ia(u,ao,n)},io=be("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:ka})(Ht(({theme:e})=>({...e.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,height:"auto",[`&.${M.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},variants:[{props:{size:"small"},style:{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)}}]}))),lo=be(rr,{name:"MuiPaginationItem",slot:"Root",overridesResolver:ka})(Ht(({theme:e})=>({...e.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,[`&.${M.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${M.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${M.selected}`]:{backgroundColor:(e.vars||e).palette.action.selected,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:ye(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${M.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ye(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},[`&.${M.disabled}`]:{opacity:1,color:(e.vars||e).palette.action.disabled,backgroundColor:(e.vars||e).palette.action.selected}},variants:[{props:{size:"small"},style:{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)}},{props:{shape:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"outlined"},style:{border:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${M.selected}`]:{[`&.${M.disabled}`]:{borderColor:(e.vars||e).palette.action.disabledBackground,color:(e.vars||e).palette.action.disabled}}}},{props:{variant:"text"},style:{[`&.${M.selected}`]:{[`&.${M.disabled}`]:{color:(e.vars||e).palette.action.disabled}}}},...Object.entries(e.palette).filter(Tn(["dark","contrastText"])).map(([n])=>({props:{variant:"text",color:n},style:{[`&.${M.selected}`]:{color:(e.vars||e).palette[n].contrastText,backgroundColor:(e.vars||e).palette[n].main,"&:hover":{backgroundColor:(e.vars||e).palette[n].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[n].main}},[`&.${M.focusVisible}`]:{backgroundColor:(e.vars||e).palette[n].dark},[`&.${M.disabled}`]:{color:(e.vars||e).palette.action.disabled}}}})),...Object.entries(e.palette).filter(Tn(["light"])).map(([n])=>({props:{variant:"outlined",color:n},style:{[`&.${M.selected}`]:{color:(e.vars||e).palette[n].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[n].mainChannel} / 0.5)`:ye(e.palette[n].main,.5)}`,backgroundColor:e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.activatedOpacity})`:ye(e.palette[n].main,e.palette.action.activatedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[n].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ye(e.palette[n].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${M.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[n].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ye(e.palette[n].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity)}}}}))]}))),uo=be("div",{name:"MuiPaginationItem",slot:"Icon"})(Ht(({theme:e})=>({fontSize:e.typography.pxToRem(20),margin:"0 -8px",variants:[{props:{size:"small"},style:{fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:e.typography.pxToRem(22)}}]}))),Aa=x.forwardRef(function(n,a){const s=oa({props:n,name:"MuiPaginationItem"}),{className:r,color:o="standard",component:l,components:i={},disabled:d=!1,page:u,selected:c=!1,shape:p="circular",size:m="medium",slots:g={},slotProps:h={},type:y="page",variant:S="text",...f}=s,b={...s,color:o,disabled:d,selected:c,shape:p,size:m,type:y,variant:S},v=ar(),C=oo(b),N={slots:{previous:g.previous??i.previous,next:g.next??i.next,first:g.first??i.first,last:g.last??i.last},slotProps:h},[T,w]=Ae("previous",{elementType:ro,externalForwardedProps:N,ownerState:b}),[k,V]=Ae("next",{elementType:so,externalForwardedProps:N,ownerState:b}),[_,A]=Ae("first",{elementType:Zs,externalForwardedProps:N,ownerState:b}),[U,q]=Ae("last",{elementType:eo,externalForwardedProps:N,ownerState:b}),$=v?{previous:"next",next:"previous",first:"last",last:"first"}[y]:y,z={previous:T,next:k,first:_,last:U}[$],K={previous:w,next:V,first:A,last:q}[$];return y==="start-ellipsis"||y==="end-ellipsis"?t.jsx(io,{ref:a,ownerState:b,className:yt(C.root,r),children:"â€¦"}):t.jsxs(lo,{ref:a,ownerState:b,component:l,disabled:d,className:yt(C.root,r),...f,children:[y==="page"&&u,z?t.jsx(uo,{...K,className:C.icon,as:z}):null]})}),co=e=>{const{classes:n,variant:a}=e;return ia({root:["root",a],ul:["ul"]},to,n)},po=be("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:a}=e;return[n.root,n[a.variant]]}})({}),mo=be("ul",{name:"MuiPagination",slot:"Ul"})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function yo(e,n,a){return e==="page"?`${a?"":"Go to "}page ${n}`:`Go to ${e} page`}const fo=x.forwardRef(function(n,a){const s=oa({props:n,name:"MuiPagination"}),{boundaryCount:r=1,className:o,color:l="standard",count:i=1,defaultPage:d=1,disabled:u=!1,getItemAriaLabel:c=yo,hideNextButton:p=!1,hidePrevButton:m=!1,onChange:g,page:h,renderItem:y=_=>t.jsx(Aa,{..._}),shape:S="circular",showFirstButton:f=!1,showLastButton:b=!1,siblingCount:v=1,size:C="medium",variant:N="text",...T}=s,{items:w}=no({...s,componentName:"Pagination"}),k={...s,boundaryCount:r,color:l,count:i,defaultPage:d,disabled:u,getItemAriaLabel:c,hideNextButton:p,hidePrevButton:m,renderItem:y,shape:S,showFirstButton:f,showLastButton:b,siblingCount:v,size:C,variant:N},V=co(k);return t.jsx(po,{"aria-label":"pagination navigation",className:yt(V.root,o),ownerState:k,ref:a,...T,children:t.jsx(mo,{className:V.ul,ownerState:k,children:w.map((_,A)=>t.jsx("li",{children:y({..._,color:l,"aria-label":c(_.type,_.page,_.selected),shape:S,size:C,variant:N})},A))})})});let ct=!1;const go=(e="GTM-KPW4KS62")=>{const[n]=sr();return x.useEffect(()=>{var a;if(n.analyticsAllowed&&!ct){window.dataLayer=window.dataLayer||[],window.dataLayer.push({"gtm.start":new Date().getTime(),event:"gtm.js"});const s=document.getElementsByTagName("script")[0],r=document.createElement("script"),o="&l=dataLayer";r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id="+e+o,(a=s.parentNode)==null||a.insertBefore(r,s),ct=!0}},[n,e]),ct},ho=Pe([t.jsx("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 2v3H4V5zM4 21V10h16v11z"},"0"),t.jsx("path",{d:"M4 5.01h16V8H4z",opacity:".3"},"1")]),xo=Pe([t.jsx("path",{d:"M5 18.08V19h.92l9.06-9.06-.92-.92z",opacity:".3"},"0"),t.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM5.92 19H5v-.92l9.06-9.06.92.92zM20.71 5.63l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41"},"1")]),bo=Pe(t.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}));function ht(e){const n=E(),{getCurrentQueryRequest:a,addValueToSelectedFacet:s,removeSelectedFacet:r}=n,{data:o}=ue(),{topLevelEnumeratedFacetToFilter:l}=e,i=a(),d=((o==null?void 0:o.facets)??[]).find(g=>la(g,l)),u=(d==null?void 0:d.facetValues.map(({value:g})=>g))??[],c=or(l,i.query.selectedFacets),p=(c==null?void 0:c.facetValues)||[],m=(g,h)=>{r(l),h.forEach(y=>s(l,y))};return t.jsx("div",{children:u.length>0&&t.jsx(Gr,{multiple:!0,options:u,value:p,onChange:m,renderInput:g=>t.jsx(da,{...g,placeholder:"Select Filter(s)"})})})}try{ht.displayName="ColumnFilter",ht.__docgenInfo={description:"",displayName:"ColumnFilter",props:{topLevelEnumeratedFacetToFilter:{defaultValue:null,description:"",name:"topLevelEnumeratedFacetToFilter",required:!0,type:{name:"UniqueFacetIdentifier"}}}}}catch{}function xt({sortConfig:e}){const{defaultColumn:n,defaultDirection:a,sortableColumns:s}=e,{executeQueryRequest:r}=E(),{getColumnDisplayName:o}=O(),[l,i]=x.useState(n),[d,u]=x.useState(a),c=s.map(m=>({value:m,label:o(m)})),p=m=>{r(g=>{let h="ASC";return m===l&&(h=d==="ASC"?"DESC":"ASC"),g.query.sort=m?[{column:m,direction:h}]:void 0,i(m),u(h),g})};return t.jsxs("div",{className:"QuerySortSelector",children:[t.jsx(I,{variant:"label",className:"sort-by-label SRC-inlineBlock",children:"Sort by"}),t.jsx(Yr,{className:"react-select-container SRC-inlineBlock",value:Jr(l,c),options:c,onChange:m=>p(m==null?void 0:m.value),styles:{control:m=>({...m,marginLeft:"15px"})}})]})}try{xt.displayName="QuerySortSelector",xt.__docgenInfo={description:"",displayName:"QuerySortSelector",props:{sortConfig:{defaultValue:null,description:"",name:"sortConfig",required:!0,type:{name:"SortConfiguration"}}}}}catch{}const So=e=>e.map(n=>({concreteType:"org.sagebionetworks.repo.model.table.FacetColumnValuesRequest",columnName:n.facet,facetValues:[n.facetValue]})),vo=(e,n)=>{const a={sql:e,selectedFacets:So(n)};return encodeURIComponent(JSON.stringify(a))},Co=(e,n,a)=>{const s=vo(n,a);return`${e}?QueryWrapper0=${s}`},cn=ir(W)({height:"20px",padding:"2px 8px",borderColor:"grey.400",fontWeight:700,lineHeight:"20px","& .MuiButton-startIcon":{marginRight:"4px",marginLeft:0}}),An="syn65903895";function No(e,n){return Wt({entityId:An,query:{sql:`SELECT * FROM ${An}`},partMask:Z,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest"},{staleTime:1/0,select:a=>{var d,u,c,p;const s=De("dataset",(d=a.queryResult)==null?void 0:d.queryResults.headers),r=De("dataset_version",(u=a.queryResult)==null?void 0:u.queryResults.headers),o=De("croissant_file_s3_object",(c=a.queryResult)==null?void 0:c.queryResults.headers);if(s===void 0||r===void 0||o===void 0)return null;const l=_n(e),i=(p=a.queryResult)==null?void 0:p.queryResults.rows.find(m=>{const g=m.values[s];return typeof g!="string"?!1:_n(g)===l&&String(m.values[r])===String(n)});return(i==null?void 0:i.values[o])??null}})}function bt(e){const{datasetId:n,datasetVersionNumber:a}=e,{data:s,isLoading:r}=No(n,a);return!s&&!r?null:t.jsx(lr,{condition:r,wrapper:F,wrapperProps:{role:"progressbar"},children:t.jsx(he,{placement:"top",title:t.jsxs(I,{children:["Croissant is a metadata standard designed for AI-ready datasets. Learn more"," ",t.jsx(G,{href:"https://mlcommons.org/working-groups/data/croissant/",target:"_blank",rel:"noopener noreferrer",children:"here"}),"."]}),children:t.jsx(cn,{href:s||"#",target:"_blank",variant:"outlined",startIcon:"ðŸ¥",children:"Croissant"})})})}try{bt.displayName="CroissantButton",bt.__docgenInfo={description:`Given a Synapse ID and version number of a dataset, this component will render a button that links to the Croissant
metadata for that dataset.`,displayName:"CroissantButton",props:{datasetId:{defaultValue:null,description:"The synID of the dataset",name:"datasetId",required:!0,type:{name:"string"}},datasetVersionNumber:{defaultValue:null,description:"The version number of the dataset",name:"datasetVersionNumber",required:!0,type:{name:"number"}}}}}catch{}function St(e){const[n,a]=x.useState(!1),{portalId:s,resourceId:r}=e,{data:o}=Ia(s,{select:u=>u.canMintDoi}),{data:l,isLoading:i}=wa({id:r,portalId:s,type:"PORTAL_RESOURCE"});if(i)return t.jsx(F,{role:"progressbar",width:150});const d=l?`https://doi.org/${l.doiUri}`:void 0;return t.jsxs(t.Fragment,{children:[t.jsx(is,{open:n,onClose:()=>a(!1),objectType:"PORTAL_RESOURCE",objectId:r,portalId:s}),t.jsxs(R,{sx:{display:"flex",alignItems:"center",gap:.5,height:0},children:[l&&t.jsxs(t.Fragment,{children:[t.jsx(G,{href:d,target:"_blank",children:d}),t.jsx(os,{size:"small",value:l.doiUrl,sx:{color:"inherit"}}),o&&t.jsx(he,{title:"Edit DOI",children:t.jsx(dr,{onClick:()=>a(!0),size:"small",sx:{color:"inherit"},children:t.jsx(xo,{fontSize:"inherit"})})})]}),!l&&o&&t.jsx(G,{role:"button",onClick:()=>a(!0),children:"Click to Create a DOI"})]})]})}try{St.displayName="PortalDOI",St.__docgenInfo={description:"Component used to view/create/edit a DOI for a portal resource.",displayName:"PortalDOI",props:{portalId:{defaultValue:null,description:"The ID of the portal created with https://rest-docs.synapse.org/rest/POST/portal.html",name:"portalId",required:!0,type:{name:"string"}},resourceId:{defaultValue:null,description:`The ID of the resource. For Portals, this is a string that serializes the resourceType and all key information for
the resource`,name:"resourceId",required:!0,type:{name:"string"}}}}}catch{}function To(e){const{portalId:n,resourceId:a}=e,{data:s}=wa({id:a,portalId:n,type:"PORTAL_RESOURCE"},{enabled:!!(n&&a)}),{data:r}=Ia(n,{enabled:!!n,select:o=>o.canMintDoi});return!!(s||r)}function _o(e){const{portalDoiConfiguration:n,data:a}=e;if(!n)return;const{resourceType:s,resourceIdKeyColumns:r,serializeDoiString:o}=n,l=r==null?void 0:r.reduce((i,d)=>{const u=a[d];return u!=null&&(i[d]=u),i},{});if(!(!l||Object.keys(l).length===0))return o(s,l)}function vt(e){const[n,a]=x.useState(null),s=i=>{a(i.currentTarget)},r=()=>{a(null)},o=!!n,l=o?"cite-as-popover":void 0;return t.jsxs(t.Fragment,{children:[e.doi&&t.jsx(cn,{onClick:s,variant:"outlined",startIcon:t.jsx(ds,{}),sx:e.buttonSx,children:t.jsx(I,{variant:"label",sx:{lineHeight:"20px"},children:"Cite As"})}),t.jsx(us,{...e,anchorEl:n,open:o,id:l,onClose:r})]})}try{vt.displayName="CitationPopover",vt.__docgenInfo={description:"",displayName:"CitationPopover",props:{doi:{defaultValue:null,description:"",name:"doi",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},boilerplateText:{defaultValue:null,description:"",name:"boilerplateText",required:!1,type:{name:"string"}},defaultCitationFormat:{defaultValue:null,description:"",name:"defaultCitationFormat",required:!1,type:{name:"enum",value:[{value:'"bibtex"'},{value:'"apa"'},{value:'"ieee"'},{value:'"nature"'},{value:'"science"'}]}},selectSx:{defaultValue:null,description:"",name:"selectSx",required:!1,type:{name:"SxProps"}},buttonSx:{defaultValue:null,description:"",name:"buttonSx",required:!1,type:{name:"SxProps"}}}}}catch{}try{Pn.displayName="CardGridWithLinks",Pn.__docgenInfo={description:"",displayName:"CardGridWithLinks",props:{linkText:{defaultValue:null,description:"",name:"linkText",required:!0,type:{name:"string"}},cards:{defaultValue:null,description:"",name:"cards",required:!0,type:{name:"CardGridWithLinksConfig[]"}}}}}catch{}try{Ln.displayName="CTASectionWrapper",Ln.__docgenInfo={description:"",displayName:"CTASectionWrapper",props:{themeMode:{defaultValue:null,description:"",name:"themeMode",required:!0,type:{name:"enum",value:[{value:'"dark"'},{value:'"light"'}]}},showBlobs:{defaultValue:{value:"true"},description:"",name:"showBlobs",required:!1,type:{name:"boolean"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"React.ReactNode"}},sx:{defaultValue:null,description:"",name:"sx",required:!1,type:{name:"SxProps"}}}}}catch{}const Dn=({schemaUrl:e,uiSchemaUrl:n,postUrl:a,submitButtonText:s})=>{const[r,o]=x.useState(!1),l=()=>{o(!0)},i=()=>{o(!1)},d=t.jsx(xs,{schemaUrl:e,uiSchemaUrl:n,postUrl:a,onSubmit:()=>{i()}});return t.jsx("div",{className:"browse-tools-page",children:t.jsxs(R,{sx:{margin:"10px 0px 50px 0px"},children:[t.jsx(rn,{className:"highlightSubmitToolButton",variant:"contained",onClick:l,children:s}),t.jsx(fs,{open:r,title:"",content:d,onCancel:i,onConfirm:()=>{},confirmButtonProps:{sx:{display:"none"}},cancelButtonProps:{children:"cancel"}})]})})};try{Dn.displayName="DynamicFormModal",Dn.__docgenInfo={description:"",displayName:"DynamicFormModal",props:{schemaUrl:{defaultValue:null,description:"",name:"schemaUrl",required:!0,type:{name:"string"}},uiSchemaUrl:{defaultValue:null,description:"",name:"uiSchemaUrl",required:!0,type:{name:"string"}},postUrl:{defaultValue:null,description:"",name:"postUrl",required:!0,type:{name:"string"}},mutateFormDataBeforePost:{defaultValue:null,description:"",name:"mutateFormDataBeforePost",required:!1,type:{name:"(formData: any) => any"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!1,type:{name:"() => void"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"() => void"}},submitButtonText:{defaultValue:null,description:"",name:"submitButtonText",required:!1,type:{name:"string"}}}}}catch{}class Ve extends x.Component{constructor(a){super(a);L(this,"formRef");L(this,"submitForm",()=>{this.formRef.current.submit()});L(this,"refresh",()=>{if(this.context.accessToken){const a=[Q.getUserProfile(this.context.accessToken),Q.getEntity(this.context.accessToken,this.props.formSchemaEntityId),Q.getEntity(this.context.accessToken,this.props.formUiSchemaEntityId)];Promise.all(a).then(s=>{const r=s[0];this.getTargetContainer(r,this.context.accessToken).then(o=>{const l=s[1],i=s[2];this.getSchemaFileContent(o,l,i)})}).catch(s=>{this.onError(s)})}});L(this,"getSchemaFileContent",(a,s,r)=>{const o=[Q.getFileResult(s,this.context.accessToken,!0,!0),Q.getFileResult(r,this.context.accessToken,!0,!0)];Promise.all(o).then(l=>{try{const i=l.map(d=>Rn(d.fileHandle,d.preSignedURL));Promise.all(i).then(d=>{const u=JSON.parse(d[0]),c=JSON.parse(d[1]);this.getExistingFileData(a,u,c)}).catch(d=>{console.log("getSchemaFileContent: Error getting form content",d)})}catch(i){console.log("getSchemaFileContent: Error getting schema content",i)}}).catch(l=>{this.onError(l)})});L(this,"getExistingFileData",(a,s,r)=>{const l={entityName:`${s.title}.json`,parentId:a};let i,d;Q.lookupChildEntity(l,this.context.accessToken).then(u=>Q.getEntity(this.context.accessToken,u.id).then(c=>(d=c,this.props.initFormData?Q.getFileResult(d,this.context.accessToken,!0,!0).then(async p=>{try{const m=await Rn(p.fileHandle,p.preSignedURL);i=JSON.parse(m)}catch(m){console.log("getExistingFileData: Error setting form data",m)}}):Promise.resolve()))).finally(()=>{this.setState({formData:i,currentFileEntity:d,formSchema:s,formUiSchema:r})})});L(this,"getTargetContainer",async(a,s)=>{const r={entityName:a.ownerId,parentId:this.props.parentContainerId};try{const o=await Q.lookupChildEntity(r,s);return console.log(`EntityForm uploading to https://www.synapse.org/Synapse:${o.id}`),this.setState({userprofile:a,containerId:o.id,isLoading:!1}),o.id}catch(o){return o.status===404?this.onError(new Error("Your folder has not yet been set up, please retry in a few minutes.")):this.onError(o)}});L(this,"finishedProcessing",()=>{this.setState({isLoading:!1,successfullyUploaded:!0})});L(this,"onError",a=>{this.setState({error:a,isLoading:!1,successfullyUploaded:!1})});L(this,"onSubmit",({formData:a})=>{this.setState({isLoading:!0,successfullyUploaded:!1});const s=new Blob([JSON.stringify(a)],{type:"text/json"});this.createEntityFile(s)});L(this,"createEntityFile",a=>{const s=`${this.state.formSchema.title}.json`;Q.uploadFile(this.context.accessToken,s,a).then(r=>{const o=r.fileHandleId;if(this.state.currentFileEntity){const i={...this.state.currentFileEntity,dataFileHandleId:o};return this.setState({currentFileEntity:i}),Q.updateEntity(i,this.context.accessToken)}const l={parentId:this.state.containerId,name:s,concreteType:"org.sagebionetworks.repo.model.FileEntity",dataFileHandleId:o};return Q.createEntity(l,this.context.accessToken)}).then(r=>{this.finishedProcessing(),this.props.synIdCallback&&this.props.synIdCallback(r.id)}).catch(r=>{this.onError(r)})});this.formRef=x.createRef(),this.state={isLoading:!0,successfullyUploaded:!1}}componentDidMount(){this.refresh()}render(){return t.jsxs("div",{children:[this.state.error&&t.jsxs("div",{className:"panel panel-danger errors",children:[t.jsx("div",{className:"panel-heading",children:t.jsx("h3",{className:"panel-title",children:"Error"})}),t.jsx("ul",{className:"list-group",children:t.jsxs("li",{className:"list-group-item text-danger",children:[this.state.error.name," ",this.state.error.reason,this.state.error.message]})})]}),this.context.accessToken&&!this.state.isLoading&&!this.state.successfullyUploaded&&this.state.formSchema&&this.state.formUiSchema&&!this.state.error&&t.jsx(bs,{validator:Ss,formData:this.state.formData,schema:this.state.formSchema,uiSchema:this.state.formUiSchema,onSubmit:this.onSubmit,ref:this.formRef,children:t.jsx("div",{style:{display:"none"},children:t.jsx("button",{type:"submit",className:"btn btn-info",children:"Submit"})})}),!this.state.error&&this.context.accessToken&&this.state.isLoading&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"Savingâ€¦"}),t.jsx("span",{style:{marginLeft:"2px"},className:"spinner"})]})]})}}L(Ve,"contextType",ur);try{Ve.displayName="EntityForm",Ve.__docgenInfo={description:"",displayName:"EntityForm",props:{parentContainerId:{defaultValue:null,description:"",name:"parentContainerId",required:!0,type:{name:"string"}},formSchemaEntityId:{defaultValue:null,description:"",name:"formSchemaEntityId",required:!0,type:{name:"string"}},formUiSchemaEntityId:{defaultValue:null,description:"",name:"formUiSchemaEntityId",required:!0,type:{name:"string"}},initFormData:{defaultValue:null,description:"",name:"initFormData",required:!0,type:{name:"boolean"}},synIdCallback:{defaultValue:null,description:"",name:"synIdCallback",required:!0,type:{name:"(synId: string) => void"}}}}}catch{}try{Ve.contextType.displayName="EntityForm.contextType",Ve.contextType.__docgenInfo={description:"If set, `this.context` will be set at runtime to the current value of the given Context.",displayName:"EntityForm.contextType",props:{}}}catch{}const Mn=e=>{const{accessToken:n}=Gt(),{synId:a,className:s}=e,[r,o]=x.useState(void 0);x.useEffect(()=>{(async()=>{try{const u=await Q.getEntity(n,a);if(!pr(u))throw new Error(`File Entity expected but found ${u}`);const c={requestedFiles:[{associateObjectId:a,associateObjectType:mr.FileEntity,fileHandleId:u.dataFileHandleId}],includeFileHandles:!0,includePreSignedURLs:!1,includePreviewPreSignedURLs:!1},m=(await Q.getFiles(c,n)).requestedFiles[0].fileHandle;if(m&&yr(m))o({externalFileHandle:m,fileEntity:u});else throw new Error(`Not an external file handle: ${m==null?void 0:m.id}`)}catch(u){console.error("Error on getting external file handle = ",u)}})()},[a,n]);const l=r==null?void 0:r.externalFileHandle,i=r==null?void 0:r.fileEntity;return l?t.jsx("a",{href:l.externalURL,className:s,target:"_blank",rel:"noopener noreferrer",children:t.jsxs("span",{children:[i==null?void 0:i.name,t.jsx(cr,{style:{marginLeft:5}})]})}):t.jsx(t.Fragment,{})};try{Mn.displayName="ExternalFileHandleLink",Mn.__docgenInfo={description:"",displayName:"ExternalFileHandleLink",props:{synId:{defaultValue:null,description:"",name:"synId",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}try{Fn.displayName="GoalsV3",Fn.__docgenInfo={description:"",displayName:"GoalsV3",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},svgComponentMap:{defaultValue:null,description:"",name:"svgComponentMap",required:!0,type:{name:"Record<string, React.FC<React.SVGProps<SVGSVGElement>>>"}}}}}catch{}function On(e){const{measurementId:n}=e;return go(n),t.jsx(t.Fragment,{})}try{On.displayName="GoogleAnalytics",On.__docgenInfo={description:`GoogleAnalytics is a component wrapper for the useGoogleAnalytics() hook.
This is exported for use in the Synapse.org GWT codebase.`,displayName:"GoogleAnalytics",props:{measurementId:{defaultValue:null,description:"",name:"measurementId",required:!1,type:{name:"string"}}}}}catch{}function Ct({queryBundleRequest:e,onHide:n}){var p;const[a,s]=x.useState("..."),{data:r,isLoading:o,isPlaceholderData:l}=Yt({...e,partMask:fr},{placeholderData:m=>m,throwOnError:!0}),i=(p=r==null?void 0:r.responseBody)==null?void 0:p.combinedSql,d=o||l;x.useEffect(()=>{if(i&&!d){const m=i.toUpperCase().indexOf("FROM SYN"),g=`SELECT * ${i.substring(m)}`;s(g)}},[i,d]);const u=x.useMemo(()=>a.replace(/(["`])/g,"\\$1"),[a]),c=x.useMemo(()=>a.replace(/"/g,'\\"'),[a]);return t.jsx(Ts,{show:!0,onClose:n,title:"Download Programmatically",cliNotes:t.jsx(t.Fragment,{children:"This command line code will download Synapse files AND file annotations to your working directory."}),cliCode:`synapse get -q "${u}"`,rNotes:t.jsxs(t.Fragment,{children:["This R code will download file annotations only. Use"," ",t.jsxs(G,{target:"_blank",rel:"noopener noreferrer",href:"https://help.synapse.org/docs/Get-Started-with-Downloading-Data.2004254837.html#GetStartedwithDownloadingData-DownloadingFiles",children:["synGet","()"]})," ","to loop over the list of Synapse IDs from the file annotations to download files."]}),rCode:`${hs}
query <- synTableQuery("${c}")
read.table(query$filepath, sep = ",")`,pythonNotes:t.jsxs(t.Fragment,{children:["This Python code will download file annotations only. Use"," ",t.jsx(G,{target:"_blank",rel:"noopener noreferrer",href:"https://help.synapse.org/docs/Get-Started-with-Downloading-Data.2004254837.html#GetStartedwithDownloadingData-DownloadingFiles",children:"syn.get"})," ","to loop over the list of Synapse IDs from the file annotations to download files."]}),pythonCode:`${gs}
query = syn.tableQuery("${c}")
query.asDataFrame()`})}try{Ct.displayName="ProgrammaticTableDownload",Ct.__docgenInfo={description:"",displayName:"ProgrammaticTableDownload",props:{queryBundleRequest:{defaultValue:null,description:"",name:"queryBundleRequest",required:!0,type:{name:"QueryBundleRequest"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}function Da(){const{getCurrentQueryRequest:e,fileIdColumnName:n,fileVersionColumnName:a}=E(),{data:s}=ce(),r=sn(),o=on(),l=Rs();return x.useMemo(()=>{var d,u;const i=e().query;if(n&&a){const c=(d=s.columnModels)==null?void 0:d.find(m=>m.name==n),p=(u=s.columnModels)==null?void 0:u.find(m=>m.name==a);i.selectFileColumn=c?Number(c.id):void 0,i.selectFileVersionColumn=p?Number(p.id):void 0}else{const c=et(s.columnModels);c&&(i.selectFileColumn=Number(c))}if(r&&l&&s.selectColumns){const c=ws(l,o,s.selectColumns);i.additionalFilters=[...i.additionalFilters||[],c]}return{concreteType:"org.sagebionetworks.repo.model.download.AddToDownloadListRequest",query:i}},[s.columnModels,s.selectColumns,e,r,l,o,n,a])}function Ro(e){const n=e.match(/^"(.+?)"\s*@\d+$/);return n?n[1]:""}function Vo(e,n={textMatchesMode:"NATURAL_LANGUAGE"}){const{textMatchesMode:a,distance:s=0}=n;let r=e;if(a=="BOOLEAN"){const l=Fs(e),i=Math.max(s,l);r=`"${e.replaceAll('"',"")}" @${i}`}return{concreteType:"org.sagebionetworks.repo.model.table.TextMatchesQueryFilter",searchExpression:r,searchMode:n.textMatchesMode}}function wo(e,n,a,s){const{additionalFilters:r=[]}=e.query,o=et(n);if(a.match(gr)&&o){const d={concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter",columnName:(n==null?void 0:n.filter(c=>c.id===o))[0].name,operator:xe.IN,values:[a]},u=r.find(c=>c.concreteType==d.concreteType&&c.columnName==d.columnName);if(u)return u.values.includes(a)||u.values.push(a),e;r.push(d)}else{const i=Vo(a,s);if(r.find(u=>u.concreteType==i.concreteType&&u.searchExpression==i.searchExpression))return e;r.push(i)}return e.query.additionalFilters=r,e}const pt=3;function He({ftsConfig:e}){const{executeQueryRequest:n}=E(),{showSearchBar:a}=O(),[s,r]=x.useState(""),o=x.useRef(null),{data:l}=ue(),i=l==null?void 0:l.columnModels,d=c=>{var p;c.preventDefault(),s.trim().length<pt?(p=o.current)==null||p.setCustomValidity(`Search term must have a minimum of ${pt} characters`):(n(m=>wo(m,i,s,e)),r(""))},u=c=>{var p;(p=o.current)==null||p.setCustomValidity(""),r(c.currentTarget.value)};return t.jsx("div",{className:"QueryWrapperFullTextSearchInput",children:t.jsx(Kt,{in:a,timeout:{enter:300,exit:300},children:t.jsx("form",{onSubmit:d,children:t.jsx(da,{sx:{width:"100%"},onChange:u,placeholder:"Enter Search Terms",value:s,type:"text",slotProps:{input:{startAdornment:t.jsx(X,{icon:"search",wrap:!1,sx:{mr:1,color:"grey.600"}}),endAdornment:t.jsxs(t.Fragment,{children:[s.length>0&&t.jsx(Ls,{icon:"close",size:"small",onClick:()=>{r("")}}),t.jsx(Fa,{markdownText:"This search bar is powered by MySQL Full Text Search.",helpUrl:e==null?void 0:e.searchHelpURL,placement:"left"})]})},htmlInput:{minLength:pt,ref:o}}})})})})}try{He.displayName="FullTextSearch",He.__docgenInfo={description:"",displayName:"FullTextSearch",props:{ftsConfig:{defaultValue:null,description:"",name:"ftsConfig",required:!1,type:{name:"FTSConfig"}}}}}catch{}class Io extends x.Component{constructor(a){super(a);L(this,"searchFormRef");L(this,"radioFormRef");L(this,"handleClickOutsideForm",a=>{var s,r;!((s=this.searchFormRef.current)!=null&&s.contains(a==null?void 0:a.target))&&!((r=this.radioFormRef.current)!=null&&r.contains(a==null?void 0:a.target))&&(this.state.didUpdateRanLast?this.setState({didUpdateRanLast:!1}):this.setState({show:!1}))});L(this,"search",a=>{var m,g;a.preventDefault();const{searchText:s}=this.state;let{columnName:r}=this.state;const{searchable:o,lockedColumn:l}=this.props;if(r==="")if(o)r=o.filter(h=>h!==(l==null?void 0:l.columnName))[0];else{const h=(m=this.props.columnModels)==null?void 0:m.filter(y=>y.name!==(l==null?void 0:l.columnName)).filter(y=>this.isSupportedColumn(y));r=(h==null?void 0:h[0].name)??""}this.setState({show:!1});const{executeQueryRequest:i,getCurrentQueryRequest:d}=this.props.queryContext,u=d(),{additionalFilters:c=[]}=u.query,p=c.findIndex(h=>!!(ua(h)||ca(h)&&h.columnName===r));if(p===-1){const h=(g=this.props.columnModels)==null?void 0:g.filter(y=>y.name===r)[0];if(h!=null&&h.columnType.endsWith("_LIST")){const y={columnName:r,function:Oe.HAS_LIKE,_function:Oe.HAS_LIKE,values:[`%${s}%`],concreteType:"org.sagebionetworks.repo.model.table.ColumnMultiValueFunctionQueryFilter"};c.push(y)}else if((h==null?void 0:h.columnType)==oe.ENTITYID){const y={columnName:r,operator:xe.EQUAL,values:[`${s.toLowerCase().replace("syn","")}`],concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter"};c.push(y)}else{const y={columnName:r,operator:xe.LIKE,values:[`%${s}%`],concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter"};c.push(y)}}else c[p].values.push(`%${s}%`);u.query.additionalFilters=c,i(u)});L(this,"handleChange",a=>{this.setState({searchText:a.currentTarget.value})});L(this,"isSupportedColumn",a=>{switch(a==null?void 0:a.columnType){case oe.FILEHANDLEID:case oe.DATE:case oe.DATE_LIST:case oe.USERID:return!1;default:return!0}});L(this,"isSupportedColumnAndInProps",a=>{if(this.isSupportedColumn(a)){const{searchable:s}=this.props;return s==null?void 0:s.some(r=>r===(a==null?void 0:a.name))}return!1});this.state={show:!1,didUpdateRanLast:!1,searchText:"",columnName:this.props.defaultColumn??""},this.searchFormRef=x.createRef(),this.radioFormRef=x.createRef()}componentDidMount(){document.addEventListener("click",this.handleClickOutsideForm)}componentDidUpdate(a){var s,r,o,l,i;!((s=a.queryVisualizationContext)!=null&&s.showSearchBar)&&((r=this.props.queryVisualizationContext)!=null&&r.showSearchBar)&&(this.setState({show:!0,didUpdateRanLast:!0}),(i=(l=(o=this.searchFormRef)==null?void 0:o.current)==null?void 0:l.querySelector("input"))==null||i.focus())}componentWillUnmount(){document.removeEventListener("click",this.handleClickOutsideForm)}render(){const{searchable:a,lockedColumn:s,columnModels:r,queryVisualizationContext:{showSearchBar:o,getColumnDisplayName:l}}=this.props,{searchText:i,show:d,columnName:u}=this.state;let c=[];return a?c=a.map(p=>r==null?void 0:r.find(m=>m.name===p)).filter(this.isSupportedColumnAndInProps).map(p=>p.name):r&&(c=r==null?void 0:r.filter(this.isSupportedColumn).map(p=>p.name)),c.length&&(s!=null&&s.columnName)&&(c=c.filter(p=>p!==(s==null?void 0:s.columnName))),t.jsxs("div",{className:"QueryWrapperSearchInput",children:[t.jsx(Kt,{in:o,children:t.jsxs("form",{className:"QueryWrapperSearchInput__searchbar",onSubmit:this.search,onClick:()=>{this.setState({show:!0})},ref:this.searchFormRef,children:[t.jsx("span",{className:"QueryWrapperSearchInput__searchbar__searchicon",children:t.jsx(X,{icon:"search"})}),t.jsx("input",{onChange:this.handleChange,onClick:()=>{this.setState({show:!0})},placeholder:"Enter Search Terms",value:i,type:"text"}),this.state.searchText.length>0&&t.jsx("button",{className:"QueryWrapperSearchInput__searchbar__clearbutton",type:"button",onClick:()=>{this.setState({searchText:""})},children:t.jsx(X,{icon:"close"})})]})}),t.jsx("div",{className:"QueryWrapperSearchInput__dropdown_pos",children:t.jsx(hr,{nodeRef:this.radioFormRef,in:d,classNames:"QueryWrapperSearchInput__animate_dropdown",timeout:{enter:0,exit:300},children:t.jsxs("form",{ref:this.radioFormRef,className:"QueryWrapperSearchInput__column-select QueryWrapperSearchInput__animate_height",children:[t.jsx("p",{className:"deemphasized",children:t.jsx("i",{children:" Search In Field: "})}),c.map((p,m)=>{const g=l(p),h=u===""&&m===0||u===p;return t.jsx("div",{className:"radio",children:t.jsx("label",{children:t.jsxs("span",{children:[t.jsx("input",{id:p,type:"radio",value:p,checked:h,onClick:()=>{var y,S,f;(f=(S=(y=this.searchFormRef)==null?void 0:y.current)==null?void 0:S.querySelector("input"))==null||f.focus(),this.setState({columnName:p})}}),t.jsx("span",{children:g})]})})},`search-field-${p}-${m}`)})]})})})]})}}function Ma(e){const{data:n}=ue();return t.jsx(Io,{...e,columnModels:n==null?void 0:n.columnModels})}try{SearchV2.displayName="SearchV2",SearchV2.__docgenInfo={description:"",displayName:"SearchV2",props:{queryContext:{defaultValue:null,description:"",name:"queryContext",required:!0,type:{name:"QueryContextType"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}},isQueryWrapperMenuChild:{defaultValue:null,description:"",name:"isQueryWrapperMenuChild",required:!1,type:{name:"boolean"}},defaultColumn:{defaultValue:null,description:"",name:"defaultColumn",required:!1,type:{name:"string"}},searchable:{defaultValue:null,description:"",name:"searchable",required:!1,type:{name:"SearchableColumnsV2"}},lockedColumn:{defaultValue:null,description:"",name:"lockedColumn",required:!1,type:{name:"LockedColumn"}},ftsConfig:{defaultValue:null,description:`PLFM-8897, PORTALS-3534: Full-Text Search configuration.
For Tables that have FTS enabled...
If specified, use the specified mode and distance (if BOOLEAN mode). Otherwise default to NATURAL_LANGUAGE mode.`,name:"ftsConfig",required:!1,type:{name:"ReadonlyObjectDeep<FTSConfig>"}}}}}catch{}const qo="Files may be unavailable because you do not have permission to see them, they have been deleted, or the Dataset has been misconfigured.",jo="Files may be unavailable because you do not have permission to see them or the Dataset was misconfigured.";function Nt({entity:e}){var r;const n=e&&xr(e),a={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",query:{sql:`SELECT * FROM ${e.id}${!e.isLatestVersion&&e.versionNumber?`.${e.versionNumber}`:""}`},entityId:e.id,partMask:Xe},{data:s}=Yt(a,{enabled:n});if(n&&s&&e){const o=s.responseBody.queryCount,l=((r=e.items)==null?void 0:r.length)??0;if(o>=l)return t.jsx(t.Fragment,{});const i=l-o;let d="";return e.isLatestVersion?d=qo:d=jo,t.jsxs(I,{className:"SRC-centerContent",style:{marginLeft:10},variant:"smallText1",color:"textSecondary",children:[t.jsx(bo,{className:"SRC-color-warning",style:{fontSize:"16px"}}),i.toLocaleString()+" Unavailable",t.jsx(Fa,{className:"SRC-margin-left-5",markdownText:d,placement:"right"})]})}else return t.jsx(t.Fragment,{})}try{Nt.displayName="MissingQueryResultsWarning",Nt.__docgenInfo={description:`If possible, this component will render a warning message if results may be missing from the query due to user permissions or
entities being deleted. If not possible, it will render an empty fragment.`,displayName:"MissingQueryResultsWarning",props:{entity:{defaultValue:null,description:"",name:"entity",required:!0,type:{name:"Table"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}}}}}catch{}const Po={place:"top"};function Lo(e,n,a){return"svgImg"in e?e.svgImg:t.jsx(X,{...e,sx:{color:n,width:a}})}const se=({image:e,callbackFn:n,tooltipText:a,className:s="",imageColor:r,tooltipVisualProps:o=Po,children:l,darkTheme:i,size:d,icon:u,menuItems:c})=>{const{place:p}=o,m=u?typeof u=="string"?t.jsx(ja,{type:u}):u:void 0,g=m||(e?Lo(e,r,d):l||t.jsx(t.Fragment,{})),[h,y]=x.useState(null),S=!!h,f=C=>{y(C.currentTarget)},b=()=>{y(null)};let v;return l?v=t.jsx("div",{className:"SRC-hand-cursor",children:l}):v=t.jsx("button",{tabIndex:0,className:`ElementWithTooltip SRC-hand-cursor SRC-grey-background-hover ${s} ${i?"dark-theme":""} `,onClick:C=>{n?n():f(C)},"aria-label":a,children:g}),t.jsxs(t.Fragment,{children:[t.jsx(he,{title:a,enterNextDelay:As,placement:p,"data-testid":"ElementTooltip",children:v}),c&&t.jsx(br,{anchorEl:h,open:S,onClose:b,children:c})]})};try{se.displayName="ElementWithTooltip",se.__docgenInfo={description:"",displayName:"ElementWithTooltip",props:{image:{defaultValue:null,description:"",name:"image",required:!1,type:{name:"IconSvgProps | CustomImageProps"}},imageColor:{defaultValue:null,description:"",name:"imageColor",required:!1,type:{name:"string"}},tooltipText:{defaultValue:null,description:"",name:"tooltipText",required:!0,type:{name:"string"}},callbackFn:{defaultValue:null,description:"",name:"callbackFn",required:!1,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},tooltipVisualProps:{defaultValue:{value:`{
  place: 'top',
}`},description:"",name:"tooltipVisualProps",required:!1,type:{name:"Partial<TooltipVisualProps>"}},darkTheme:{defaultValue:null,description:"",name:"darkTheme",required:!1,type:{name:"boolean"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"ReactNode"}},menuItems:{defaultValue:null,description:`The items to show in the menu -- NOTE: this cannot be a Fragment!
@see https://stackoverflow.com/questions/75083605/mui-the-menu-component-doesnt-accept-a-fragment-as-a-child-consider-providing`,name:"menuItems",required:!1,type:{name:"React.ReactNode"}}}}}catch{}function We(e){const{control:n,callbackData:a,disabled:s}=e,{onClick:r,buttonText:o,buttonID:l}=n,[i,d]=x.useState(!1),u=s||i;return t.jsxs(W,{...e,disabled:u,onClick:()=>{d(!0),r({...a,refresh:()=>{d(!1),a.refresh()}})},id:l,children:[i&&t.jsx(pa,{size:30}),o]})}try{We.displayName="CustomControlButton",We.__docgenInfo={description:"",displayName:"CustomControlButton",props:{control:{defaultValue:null,description:"",name:"control",required:!0,type:{name:"CustomControl"}},callbackData:{defaultValue:null,description:"",name:"callbackData",required:!0,type:{name:"CustomControlCallbackData"}},component:{defaultValue:null,description:"",name:"component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}}}}}catch{}const Fo="SendToAnalysisPlatformRowSelectionControlButton";function Tt(e){const{customControls:n=[],remount:a}=e,{entityId:s,versionNumber:r,getCurrentQueryRequest:o}=E(),{data:l}=pe(s,r),{data:i}=ue(),[d,u]=Sr(Vs),c=Da(),{setIsShowingExportToAnalysisPlatformModal:p,enabledExternalAnalysisPlatforms:m}=O(),g=m.length>0,h=()=>{u([]),a&&a()},y=et(i==null?void 0:i.columnModels),S=ma(l,y);return t.jsx(Ds,{show:d.length>0,selectedRowCount:d.length,onClearSelection:()=>u([]),customControls:t.jsxs(t.Fragment,{children:[n.map(f=>t.jsx(We,{variant:"contained",callbackData:{tableId:s,queryMetadata:i,selectedRows:d,refresh:h,request:o()},control:f,startIcon:f.icon},f.buttonText)),g&&t.jsx(W,{variant:"outlined",onClick:()=>{p(!0)},id:Fo,children:"Send to Analysis Platform"}),S&&t.jsx(W,{variant:"contained",onClick:()=>{const f=Vn.custom(t.jsx(R,{sx:{width:"100%"},children:t.jsx(we,{addToDownloadListRequest:c,onClose:()=>{Vn.dismiss(f)}})}),{duration:1/0})},startIcon:t.jsx(ya,{}),children:"Add to Download Cart"})]})})}try{Tt.displayName="RowSelectionControls",Tt.__docgenInfo={description:`This component is responsible for rendering the RowSelectionUI and the custom controls. Must be wrapped in a
QueryContext and a QueryVisualizationContext.`,displayName:"RowSelectionControls",props:{customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"CustomControl[]"}},remount:{defaultValue:null,description:"",name:"remount",required:!1,type:{name:"() => void"}}}}}catch{}function _t(e){const{accessToken:n}=Gt(),{entityId:a,versionNumber:s,getCurrentQueryRequest:r,hasResettableFilters:o}=E(),{data:l}=pe(a,s),{data:i}=ue(),d=on(),u=sn(),c=x.useMemo(()=>r(),[r]),[p,m]=x.useState(!1),[g,h]=x.useState(!1),[y,S]=x.useState(!1),{onDownloadFiles:f,darkTheme:b=!0}=e,v=et(i==null?void 0:i.columnModels),C=ma(l,v),N=l&&vr(l)&&l.isLatestVersion,T=x.useMemo(()=>{const w=[];return C&&w.push(t.jsx(he,{title:N?"A draft version of a dataset cannot be added to the Download Cart":null,placement:"left",enterNextDelay:300,describeChild:!0,children:t.jsx(ge,{className:N?"ignoreLink":void 0,disabled:N,style:N?{pointerEvents:"auto"}:{},onClick:()=>n?f():m(!0),children:Is(o,u,d,i==null?void 0:i.queryCount,"file")})},"add-to-download-list")),w.push(t.jsx(ge,{onClick:()=>{h(!0)},children:"Export Table"},"export-table")),w.push(t.jsx(he,{title:N?"A draft version of a dataset cannot be downloaded programmatically":null,placement:"left",enterNextDelay:300,describeChild:!0,children:t.jsx(ge,{className:N?"ignoreLink":void 0,disabled:N,style:N?{pointerEvents:"auto"}:{},onClick:()=>S(!0),children:"Programmatic Options"})},"programmatic-options")),w},[n,N,o,u,f,i==null?void 0:i.queryCount,d,C]);return t.jsxs(t.Fragment,{children:[t.jsx(se,{tooltipText:"Download Options",size:"lg",darkTheme:b,icon:"download",menuItems:T}),p&&t.jsx(Ms,{showModal:p,onHide:()=>m(!1)}),g&&t.jsx(Pa,{onClose:()=>h(!1),queryBundleRequest:c}),y&&i&&t.jsx(Ct,{onHide:()=>S(!1),queryBundleRequest:c})]})}try{_t.displayName="DownloadOptions",_t.__docgenInfo={description:"",displayName:"DownloadOptions",props:{onDownloadFiles:{defaultValue:null,description:"",name:"onDownloadFiles",required:!0,type:{name:"() => void"}},darkTheme:{defaultValue:null,description:"",name:"darkTheme",required:!1,type:{name:"boolean"}}}}}catch{}function Rt(e){const{headers:n,isColumnSelected:a,toggleColumnSelection:s,darkTheme:r}=e,{getColumnDisplayName:o}=O();return t.jsx(se,{tooltipText:"Show/Hide Columns",icon:r?"columnsdark":"columns",darkTheme:r,menuItems:n==null?void 0:n.map(l=>{const{name:i}=l,d=a.includes(i),u={width:"11px",marginRight:"10px",visibility:d?void 0:"hidden"},c=d?"SRC-primary-text-color":"";return t.jsxs(ge,{onClick:()=>s(i),children:[t.jsx("span",{className:c,style:u,children:t.jsx(X,{icon:"check",sx:{width:"14px"}})}),o(i)]},i)})})}try{Rt.displayName="ColumnSelection",Rt.__docgenInfo={description:"",displayName:"ColumnSelection",props:{headers:{defaultValue:null,description:"",name:"headers",required:!1,type:{name:"SelectColumn[]"}},isColumnSelected:{defaultValue:null,description:"",name:"isColumnSelected",required:!0,type:{name:"string[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"() => void"}},toggleColumnSelection:{defaultValue:null,description:"",name:"toggleColumnSelection",required:!0,type:{name:"(name: string) => void"}},darkTheme:{defaultValue:null,description:"",name:"darkTheme",required:!1,type:{name:"boolean"}}}}}catch{}const Eo="SendToAnalysisPlatformTopLevelControlButton",Ge=e=>{const{name:n,showColumnSelection:a=!1,hideDownload:s=!1,hideVisualizationsControl:r=!1,hideFacetFilterControl:o=!1,hideQueryCount:l=!1,hideSqlEditorControl:i=!0,customControls:d,cavaticaConnectAccountURL:u,remount:c}=e,{entityId:p,versionNumber:m,getInitQueryRequest:g,hasResettableFilters:h,getCurrentQueryRequest:y}=E(),{data:S}=pe(p,m),{data:f}=ue(),{lockedColumn:b}=E(),v=fa(La),C=on(),N=sn(),{setShowSearchBar:T,columnsToShowInTable:w,setColumnsToShowInTable:k,enabledExternalAnalysisPlatforms:V,setIsShowingExportToAnalysisPlatformModal:_,unitDescription:A,setShowDownloadConfirmation:U,showCopyToClipboard:q,hideSearchBarControl:$,setShowPlots:z,setShowSqlEditor:K,showFacetFilter:ee,setShowFacetFilter:ve}=O(),tt=V.length>0,[nt,Ce]=x.useState(!1),te=x.useMemo(()=>{const j=g();return{sql:j.query.sql,selectedFacets:(j.query.selectedFacets??[]).filter(D=>D.columnName===(b==null?void 0:b.columnName)),additionalFilters:(j.query.additionalFilters??[]).filter(D=>"columnName"in D?D.columnName===(b==null?void 0:b.columnName):!0)}},[g,b==null?void 0:b.columnName]),Fe=j=>{let D=ga(w);D.includes(j)?D=D.filter(Ne=>Ne!==j):D.push(j),k(D)},me=qs(N,C,f==null?void 0:f.queryCount),at=js(h,N,C,f==null?void 0:f.queryCount,A),rt=()=>{c&&c()};return t.jsx("div",{className:"TopLevelControls","data-testid":"TopLevelControls",children:t.jsxs("div",{children:[t.jsxs("div",{className:"TopLevelControls__querycount",children:[n&&t.jsxs(t.Fragment,{children:[t.jsxs(I,{variant:"sectionTitle",role:"heading",children:[n," ",!l&&t.jsx(_s,{query:te,parens:!0})]}),!l&&S&&t.jsx(Nt,{entity:S})]}),!o&&t.jsxs(W,{variant:"text",onClick:()=>ve(j=>!j),startIcon:t.jsx(X,{icon:ee?"close":"filter",wrap:!1}),sx:{ml:2,fontWeight:400,fontSize:"14px",textDecoration:"none !important"},children:[ee?"Hide":"Show"," filters"]})]}),t.jsxs("div",{className:"TopLevelControls__actions",children:[d&&d.map((j,D)=>t.jsxs(x.Fragment,{children:[t.jsx(We,{variant:"text",disabled:!me,control:j,callbackData:{tableId:p,queryMetadata:f,selectedRows:C,refresh:rt,request:y()},startIcon:j.icon}),t.jsx(Be,{orientation:"vertical",variant:"middle",flexItem:!0})]},D)),tt&&t.jsxs(t.Fragment,{children:[t.jsx(he,{title:t.jsxs(t.Fragment,{children:["This action will send a reference to"," ",N?"each selected file":"every file in the current table"," ","to a chosen external analysis platform."," ",!N&&ee&&t.jsx(t.Fragment,{children:"You can change what is sent by applying filters using the controls in the sidebar."}),N&&t.jsx(t.Fragment,{children:"You can change what is sent by selecting a different set of files."})]}),children:t.jsxs(W,{variant:"text",disabled:!me,onClick:()=>{_(!0)},id:Eo,children:["Send ",at," to Analysis Platform"]})}),t.jsx(Be,{orientation:"vertical",variant:"middle",flexItem:!0})]}),!$&&t.jsx(se,{tooltipText:"Show / Hide Search Bar",callbackFn:()=>T(j=>!j),darkTheme:!0,icon:"search"}),q&&t.jsx(se,{tooltipText:nt?"Copied to clipboard":"Copy this search to the clipboard",callbackFn:()=>{Cr(window.location.href).then(()=>{Ce(!0),setTimeout(()=>{Ce(!1)},3e3)})},darkTheme:!0,icon:"clipboard"}),!r&&t.jsx(se,{tooltipText:"Show / Hide Visualizations",callbackFn:()=>z(j=>!j),darkTheme:!0,icon:"chart"}),!s&&t.jsx(_t,{darkTheme:!0,onDownloadFiles:()=>U(!0)}),!i&&t.jsx(se,{tooltipText:"Show / Hide the Advanced Query Editor",callbackFn:()=>K(j=>!j),darkTheme:!0,icon:Nr}),v&&t.jsx(Tt,{customControls:d,remount:c}),a&&t.jsx(Rt,{headers:f==null?void 0:f.selectColumns,isColumnSelected:w,toggleColumnSelection:Fe,darkTheme:!0}),t.jsx(Ps,{platformInstructionProps:{cavaticaConnectAccountURL:u}})]})]})})};try{Ge.displayName="TopLevelControls",Ge.__docgenInfo={description:"",displayName:"TopLevelControls",props:{name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}},hideVisualizationsControl:{defaultValue:null,description:"",name:"hideVisualizationsControl",required:!1,type:{name:"boolean"}},hideFacetFilterControl:{defaultValue:null,description:"",name:"hideFacetFilterControl",required:!1,type:{name:"boolean"}},hideQueryCount:{defaultValue:null,description:"",name:"hideQueryCount",required:!1,type:{name:"boolean"}},hideSqlEditorControl:{defaultValue:null,description:"",name:"hideSqlEditorControl",required:!1,type:{name:"boolean"}},showColumnSelection:{defaultValue:null,description:"",name:"showColumnSelection",required:!1,type:{name:"boolean"}},customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"CustomControl[]"}},cavaticaConnectAccountURL:{defaultValue:null,description:"",name:"cavaticaConnectAccountURL",required:!1,type:{name:"string"}},remount:{defaultValue:null,description:"",name:"remount",required:!1,type:{name:"() => void"}}}}}catch{}const Oa=4;function ko(e,n,a,s){const{getColumnDisplayName:r}=s;if(e.values.length>Oa||!a){const o=`${ln(r(e.columnName))} (${e.values.length.toLocaleString()})`;return[{key:`queryFilter-${e.concreteType}-${e.columnName}`,innerText:o,tooltipText:o,onRemoveFilter:()=>{n.removeQueryFilter(e)}}]}return e.values.map(o=>{let l=o;o!=null&&o.startsWith("%")&&(o!=null&&o.endsWith("%"))&&(l=l.substring(1,l.length-1)),l=s.getDisplayValue(l,a.columnType);const i=`${r(e.columnName)}: ${l}`;return{key:`queryFilter-${e.concreteType}-${e.columnName}-${o}`,innerText:i,tooltipText:i,onRemoveFilter:()=>{n.removeValueFromQueryFilter(e,o)}}})}function Ao(e,n){let a=e.searchExpression;return e.searchMode=="BOOLEAN"&&(a=Ro(e.searchExpression)),{key:`queryFilter-${e.concreteType}-${e.searchExpression}`,innerText:a,tooltipText:`Text matches: "${a}"`,onRemoveFilter:()=>{n.removeQueryFilter(e)}}}function Do(e,n,a,s,r){return e.flatMap(o=>{var l;if(ua(o)||ca(o)){const i=a.find(d=>d.name===o.columnName);return o.columnName.toLowerCase()===((l=r==null?void 0:r.columnName)==null?void 0:l.toLowerCase())?[]:ko(o,n,i,s)}else return Tr(o)?[Ao(o,n)]:(console.log("Unknown query filter type",o),[])})}function Bn(e,n){return e==null&&n==null?"Any value":e==null?`Up to ${n}`:n==null?`${e} or greater`:e===wn&&n===wn?Vr:`${e} - ${n}`}function Mo(e,n,a,s,r){return e.flatMap(o=>{var u;if(o.columnName.toLowerCase()===((u=r==null?void 0:r.columnName)==null?void 0:u.toLowerCase()))return[];const l=a.find(c=>c.name===o.columnName),{getColumnDisplayName:i,getDisplayValue:d}=s;if(_r(o)){if(o.facetValues.length>Oa||!l){const c=`${ln(i(o.columnName,o.jsonPath))} (${o.facetValues.length.toLocaleString()})`;return[{key:`facet-${o.concreteType}-${o.columnName}`,innerText:c,tooltipText:c,onRemoveFilter:()=>{n.removeSelectedFacet(o)}}]}return o.facetValues.map(c=>{const p=d(c,l.columnType);return{key:`facet-${o.concreteType}-${o.columnName}-${c}`,innerText:p,tooltipText:`${i(o.columnName,o.jsonPath)}: ${p}`,onRemoveFilter:()=>{n.removeValueFromSelectedFacet(o,c)}}})}else if(Rr(o)){const{combineRangeFacetConfig:c}=n;if(c&&(o.columnName==c.minFacetColumn||o.columnName==c.maxFacetColumn)){if(o.columnName==c.minFacetColumn)return[];{const m=o,g=e.find(y=>y.columnName==c.minFacetColumn),h=Bn(m.min,g.max);return[{key:`facet-${o.concreteType}-${o.columnName}-${h}`,innerText:h,tooltipText:`${c.label}: ${h}`,onRemoveFilter:()=>{n.removeSelectedFacet([g,m])}}]}}const p=Bn(o.min,o.max);return[{key:`facet-${o.concreteType}-${o.columnName}-${o.min}-${o.max}`,innerText:p,tooltipText:`${i(o.columnName,o.jsonPath)}: ${p}`,onRemoveFilter:()=>{n.removeSelectedFacet(o)}}]}else return console.log("Unknown facet type",o.concreteType),[]})}function Oo(){var d;const e=E(),n=e.lockedColumn,a=O(),{currentQueryRequest:s}=e,{data:r}=ue(),o=Do(((d=s.query)==null?void 0:d.additionalFilters)??[],e,(r==null?void 0:r.columnModels)||[],a,n),l=Mo(s.query.selectedFacets??[],e,(r==null?void 0:r.columnModels)||[],a,n),i=[...o,...l];return t.jsx(t.Fragment,{children:i.map(u=>{const c=encodeURIComponent(u.key);return x.createElement(Os,{...u,key:c})})})}function Vt(e){const{style:n,frontText:a,endText:s="",hideIfUnfiltered:r=!1}=e,{resetQuery:o,hasResettableFilters:l}=E(),{data:i}=ce(),{unitDescription:d}=O(),u=i==null?void 0:i.queryCount,c=l;return t.jsxs("div",{className:`TotalQueryResults ${l?"hasFilters":""}`,style:n,children:[(l||!r)&&t.jsxs("div",{className:"TotalQueryResults__topbar",children:[t.jsxs("span",{className:"SRC-boldText",children:[a," ",u==null?void 0:u.toLocaleString()," ",ln(d,u)," ",s]}),c&&t.jsxs("a",{onClick:o,className:"TotalQueryResults__topbar__clearall",children:[t.jsx(X,{icon:"deleteSweep"}),"Clear all filters"]})]}),t.jsx("div",{className:"TotalQueryResults__selections",children:t.jsx(Oo,{})})]})}function pn(e){return t.jsx(Jt,{children:t.jsx(x.Suspense,{fallback:t.jsx(ms,{width:100}),children:t.jsx(Vt,{...e})})})}try{Vt.displayName="TotalQueryResults",Vt.__docgenInfo={description:"",displayName:"TotalQueryResults",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},frontText:{defaultValue:null,description:"",name:"frontText",required:!0,type:{name:"string"}},endText:{defaultValue:null,description:"",name:"endText",required:!1,type:{name:"string"}},applyChanges:{defaultValue:null,description:"",name:"applyChanges",required:!1,type:{name:"(newFacets: FacetColumnRequest[]) => void"}},hideIfUnfiltered:{defaultValue:null,description:"",name:"hideIfUnfiltered",required:!1,type:{name:"boolean"}}}}}catch{}function wt(e){const n=E(),{currentQueryRequest:a}=n,{title:s,onCustomPlotClick:r,onHide:o}=e,{showPlots:l}=O(),i=x.useMemo(()=>({...e,title:void 0,showlegend:!1,displayModebar:!1}),[e]),d=x.useMemo(()=>{const{selectedFacets:u,additionalFilters:c}=a.query;return{selectedFacets:u,additionalFilters:c,onCustomPlotClick:r,queryContext:n}},[a.query,r,n]);return t.jsx("div",{role:"figure",className:"SynapsePlot",children:l&&t.jsxs(t.Fragment,{children:[s&&t.jsx(Xr,{title:s,onHide:o}),t.jsx(Ns,{synapsePlotWidgetParams:i,customPlotParams:d})]})})}try{wt.displayName="QueryWrapperSynapsePlot",wt.__docgenInfo={description:`This component wraps a SynapsePlot.  It passes in the current query context, and has a custom
"title" style so that it looks like it belongs in the QueryWrapperPlotNav plots.`,displayName:"QueryWrapperSynapsePlot",props:{onCustomPlotClick:{defaultValue:null,description:"",name:"onCustomPlotClick",required:!1,type:{name:"(event: QueryWrapperSynapsePlotRowClickEvent) => void"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"table"'},{value:'"image"'},{value:'"box"'},{value:'"volume"'},{value:'"bar"'},{value:'"barpolar"'},{value:'"candlestick"'},{value:'"carpet"'},{value:'"choropleth"'},{value:'"choroplethmapbox"'},{value:'"cone"'},{value:'"contour"'},{value:'"contourcarpet"'},{value:'"densitymapbox"'},{value:'"funnel"'},{value:'"funnelarea"'},{value:'"heatmap"'},{value:'"heatmapgl"'},{value:'"histogram"'},{value:'"histogram2d"'},{value:'"histogram2dcontour"'},{value:'"indicator"'},{value:'"isosurface"'},{value:'"mesh3d"'},{value:'"ohlc"'},{value:'"parcats"'},{value:'"parcoords"'},{value:'"pie"'},{value:'"pointcloud"'},{value:'"sankey"'},{value:'"scatter"'},{value:'"scatter3d"'},{value:'"scattercarpet"'},{value:'"scattergeo"'},{value:'"scattergl"'},{value:'"scattermapbox"'},{value:'"scatterpolar"'},{value:'"scatterpolargl"'},{value:'"scatterternary"'},{value:'"splom"'},{value:'"streamtube"'},{value:'"sunburst"'},{value:'"surface"'},{value:'"treemap"'},{value:'"violin"'},{value:'"waterfall"'}]}},horizontal:{defaultValue:null,description:"",name:"horizontal",required:!1,type:{name:"boolean"}},query:{defaultValue:null,description:"",name:"query",required:!0,type:{name:"string"}},xtitle:{defaultValue:null,description:"",name:"xtitle",required:!1,type:{name:"Plotly.LayoutAxis"}},ytitle:{defaultValue:null,description:"",name:"ytitle",required:!1,type:{name:"Plotly.LayoutAxis"}},xaxistype:{defaultValue:null,description:"",name:"xaxistype",required:!1,type:{name:"enum",value:[{value:'"log"'},{value:'"date"'},{value:'"linear"'},{value:'"-"'},{value:'"category"'},{value:'"multicategory"'}]}},showlegend:{defaultValue:null,description:"",name:"showlegend",required:!1,type:{name:"Plotly.Layout"}},barmode:{defaultValue:null,description:"",name:"barmode",required:!1,type:{name:"Plotly.Layout"}},displayModeBar:{defaultValue:null,description:"",name:"displayModeBar",required:!1,type:{name:"Plotly.Config"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}function Qn(){return t.jsxs(R,{className:"FacetNavPanel",sx:{flexGrow:1},children:[t.jsxs(R,{className:"FacetNavPanel__title",children:[t.jsx(F,{variant:"rectangular",height:20,width:170}),t.jsx("div",{style:{margin:"auto"}}),t.jsx(F,{variant:"rectangular",height:20,width:20}),t.jsx(F,{variant:"rectangular",height:20,width:20,sx:{ml:1}})]}),t.jsxs(R,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",height:200,px:2,minWidth:"435px",flexGrow:1},children:[t.jsx(F,{variant:"circular",width:140,height:140}),t.jsxs(H,{sx:{gap:1},children:[t.jsx(F,{variant:"rectangular",height:15,width:220}),t.jsx(F,{variant:"rectangular",height:15,width:220}),t.jsx(F,{variant:"rectangular",height:15,width:220}),t.jsx(F,{variant:"rectangular",height:15,width:220})]})]})]})}function Bo(){return t.jsxs(R,{className:"PlotsContainer",sx:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",gap:4},children:[t.jsx(Qn,{}),t.jsx(Qn,{})]})}const Ye=2,J=(e,n)=>"__custom"in n&&"__custom"in e?e.title==n.title:!("__custom"in n)&&!("__custom"in e)?la(e,n):!1;function Qo(e){return e==="bar"?"BAR":"PIE"}const Uo=e=>"__custom"in e.plotId?`custom-${e.plotId.title}`:`facet-${e.plotId.columnName}-${e.plotId.jsonPath}`,$o=(e,n)=>!!n.find(a=>J(a.plotId,e)),mn=e=>({__custom:!0,title:e.title??""}),zo=(e=[],n=[],a=It)=>[...e.map((s,r)=>({plotId:mn(s),isHidden:r>=Ye,plotType:Qo(s.type)})),...n.map((s,r)=>({plotId:s.facetToPlot,isHidden:r+e.length>=Ye,plotType:a}))],Ho=(e,n,a)=>n.some(s=>J(mn(s),e.plotId))||a.some(s=>J(s.facetToPlot,e.plotId)),It="PIE",Wo=[],Go=[];function qt(e){const{facetsToPlot:n=Wo,customPlots:a=Go,initialPlotType:s=It}=e,{data:r}=ce(),{showPlots:o}=O(),[l,i]=x.useState([]),d=Zr(n),u=f=>{var v;return((v=l.find(C=>J(f,C.plotId)))==null?void 0:v.plotType)??It};x.useEffect(()=>{const f=zo(a,d,s);i(b=>{const v=f.filter(T=>!$o(T.plotId,b));return[...b.filter(T=>Ho(T,a,d)),...v]})},[a,d]);const c=f=>{i(b=>b.map((v,C)=>f?{...v,isHidden:!1}:{...v,isHidden:C>=Ye}))},p=f=>l.find(C=>J(f,C.plotId)&&C.isHidden===!0)!==void 0,m=x.useMemo(()=>l.find(f=>f.isHidden===!0)?"MORE":l.length<=Ye?"NONE":"LESS",[l]),g=f=>{y(f,"isHidden",!0)},h=(f,b)=>{y(f,"plotType",b)},y=(f,b,v)=>{i(C=>C.map(N=>J(f,N.plotId)?{...N,[b]:v}:N))},S=es(r,n).map((f,b)=>({facet:{columnName:f.columnName,jsonPath:f.jsonPath},colorIndex:b}));return t.jsx(t.Fragment,{children:l.length>0&&t.jsxs("div",{className:`PlotsContainer ${o?"":"hidden"} ${m==="LESS"?"less":""}`,children:[t.jsx("div",{className:"PlotsContainer__row",role:"list",children:l.map(f=>{var N;const b="__custom"in f.plotId,v=a.find(T=>J(mn(T),f.plotId)),C=d.find(T=>J(T.facetToPlot,f.plotId));return t.jsxs("div",{style:{minWidth:"435px",display:p(f.plotId)?"none":"block"},children:[b&&v&&t.jsx(wt,{...v,onHide:()=>g(f.plotId)}),!b&&C&&t.jsx(ts,{index:(N=S.find(T=>J(T.facet,f.plotId)))==null?void 0:N.colorIndex,onHide:()=>g(f.plotId),plotType:u(f.plotId),onSetPlotType:T=>h(f.plotId,T),isModalView:!1,...C})]},Uo(f))})}),m!=="NONE"&&t.jsx(R,{sx:{display:"flex",justifyContent:"center",backgroundColor:"grey.100",p:2,mt:2},children:t.jsx(W,{variant:"contained",color:"secondary",onClick:()=>c(m==="MORE"),sx:{width:"150px"},children:m==="LESS"?"Hide Charts":"View All Charts"})})]})})}function Yo(e){const{showPlots:n}=O();return t.jsx(x.Suspense,{fallback:n?t.jsx(Bo,{}):null,children:t.jsx(qt,{...e})})}try{qt.displayName="PlotsContainer",qt.__docgenInfo={description:"",displayName:"PlotsContainer",props:{facetsToPlot:{defaultValue:null,description:"",name:"facetsToPlot",required:!1,type:{name:"string[]"}},customPlots:{defaultValue:null,description:"",name:"customPlots",required:!1,type:{name:"QueryWrapperSynapsePlotProps[]"}},initialPlotType:{defaultValue:null,description:"",name:"initialPlotType",required:!1,type:{name:"enum",value:[{value:'"PIE"'},{value:'"BAR"'},{value:'"STACKED_HORIZONTAL_BAR"'}]}}}}}catch{}const Ko="isShowingFacetFilters",Jo="isHidingFacetFilters",Xo="hasSelectedRows";function Zo(e){const{tableConfiguration:n,name:a,cardConfiguration:s,facetsToPlot:r,availableFacets:o,initialExpandedFacetControls:l,hideDownload:i,hideQueryCount:d,hideSqlEditorControl:u,hideVisualizationsControl:c,searchConfiguration:p,cavaticaConnectAccountURL:m,customControls:g,remount:h,isFullTextSearchEnabled:y,customPlots:S,initialLimit:f,initialPlotType:b}=e,v=E(),[C,N]=x.useState(!1),{hasFacetedSelectColumn:T,queryMetadataQueryOptions:w}=v,{isLoading:k}=ft(w),V=fa(La),_=v.currentQueryRequest,A=(_==null?void 0:_.query.selectedFacets)!==void 0&&_.query.selectedFacets.length>0||(_==null?void 0:_.query.additionalFilters)!==void 0&&(_==null?void 0:_.query.additionalFilters.length)>0,U=Da();return t.jsx(_a,{children:q=>{if(q===void 0)throw new Error("No queryVisualizationContext found when using QueryVisualizationContextConsumer");return t.jsx(R,{className:`QueryWrapperPlotNav ${q.showFacetFilter?Ko:Jo} ${V?Xo:""}`,sx:{"*":{cursor:k?"wait":void 0}},children:t.jsxs(Ra,{children:[y?t.jsx(He,{ftsConfig:p==null?void 0:p.ftsConfig}):t.jsx(Ma,{...p,queryContext:v,queryVisualizationContext:q}),t.jsx(Va,{}),q.showDownloadConfirmation&&t.jsx(we,{addToDownloadListRequest:U,onClose:()=>q.setShowDownloadConfirmation(!1)}),t.jsx(Jt,{children:t.jsx(Ge,{showColumnSelection:n!==void 0,name:a,hideDownload:i,hideQueryCount:d,hideFacetFilterControl:!T,hideVisualizationsControl:!T||c,hideSqlEditorControl:u,cavaticaConnectAccountURL:m,customControls:g,remount:h})}),T&&t.jsx(t.Fragment,{children:t.jsx(ns,{availableFacets:o,initialExpandedFacetControls:l})}),t.jsx(pn,{frontText:"",endText:A?"filtered by":"",hideIfUnfiltered:!0}),t.jsx(Yo,{facetsToPlot:r,customPlots:S,initialPlotType:b}),t.jsx(je,{tableConfiguration:n,hideDownload:i,cardConfiguration:s,initialLimit:f}),C&&t.jsx(Pa,{getLastQueryRequest:v==null?void 0:v.getCurrentQueryRequest,onClose:()=>N(!1)})]})})}})}function Un(e){var T;const{sql:n,tableConfiguration:a,isInfinite:s=!a,limit:r=Qe,showLastUpdatedOn:o,unitDescription:l,additionalFiltersSessionStorageKey:i,helpConfiguration:d,customPlots:u,enabledExternalAnalysisPlatforms:c}=e,p=((T=e.query)==null?void 0:T.sql)??n??"",{entityId:m,versionNumber:g}=wr(p),h=x.useMemo(()=>{if(e.query)return e.query;if(e.initQueryJson)return JSON.parse(e.initQueryJson);{const w=Ze(e.searchParams,e.sqlOperator,i);return{sql:n,additionalFilters:w,limit:r,offset:0}}},[e.query,e.initQueryJson,e.searchParams,e.sqlOperator,i,n,r]),[y,S]=x.useState(1),f=()=>{S(y+1)},{data:b}=pe(m,g),v={entityId:m??"",concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",partMask:Z|Xe|Le|xa|Xt|Zt|ba|en,query:h},C=(b&&ha(b)&&b.isSearchEnabled)??!1,N=`${JSON.stringify(v)}-${y}`;return x.createElement(nn,{...e,initQueryRequest:v,key:N,isInfinite:s},t.jsx(an,{unitDescription:l,rgbIndex:e.rgbIndex,columnAliases:e.columnAliases,helpConfiguration:d,visibleColumnCount:e.visibleColumnCount,defaultShowPlots:e.defaultShowPlots,hideCopyToClipboard:e.hideCopyToClipboard,defaultShowSearchBar:(e.defaultShowSearchBox||C)&&!e.hideSearchBarControl,hideSearchBarControl:e.hideSearchBarControl,showLastUpdatedOn:o,noContentPlaceholderType:ze.INTERACTIVE,hasCustomPlots:Array.isArray(u)&&u.length>0,enabledExternalAnalysisPlatforms:c,children:t.jsx(Zo,{...e,isFullTextSearchEnabled:C,remount:f})}))}try{Un.displayName="QueryWrapperPlotNav",Un.__docgenInfo={description:"",displayName:"QueryWrapperPlotNav",props:{}}}catch{}const jt=e=>({partMask:Zt|Xe|Le|Xt|Z|en,entityId:de(e.sql),concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",query:{limit:Qe,offset:0,...e}});function Pt(e){if(e.query)return e.query;{const n=Ze(e.searchParams,e.sqlOperator,e.additionalFiltersSessionStorageKey);return{sql:e.sql,additionalFilters:n,offset:0}}}function $n(e){var _;const{hideDownload:n}=e,{showAccessColumn:a,sql:s,hideAddToDownloadListColumn:r=n,hideQueryCount:o,name:l,showTopLevelControls:i=!1,searchConfiguration:d,unitDescription:u="Results",rgbIndex:c,showLastUpdatedOn:p,noContentPlaceholderType:m=i?ze.INTERACTIVE:ze.STATIC,cardConfiguration:g,tableConfiguration:h,shouldDeepLink:y,...S}=e,[f,b]=x.useState(1),v=()=>{b(f+1)},C=((_=e.query)==null?void 0:_.sql)??s??"",N=Pt(e),T=jt(N),w=de(C),{data:k}=pe(w),V=JSON.stringify(T)+f;return x.createElement(nn,{...S,initQueryRequest:T,shouldDeepLink:y,key:V},t.jsx(an,{rgbIndex:c,unitDescription:u,showLastUpdatedOn:p,noContentPlaceholderType:m,...S,children:t.jsx(Wr,{children:A=>{if(A===void 0)throw new Error("No queryContext found when calling QueryContextConsumer");return t.jsx(_a,{children:U=>{if(U===void 0)throw new Error("No queryVisualizationContext found when calling QueryVisualizationContextConsumer");return t.jsxs(t.Fragment,{children:[i&&t.jsx(Ge,{showColumnSelection:!0,name:l,hideDownload:r,hideQueryCount:o,hideFacetFilterControl:!0,hideVisualizationsControl:!0,remount:v}),k&&ha(k)&&k.isSearchEnabled?t.jsx(He,{ftsConfig:d==null?void 0:d.ftsConfig}):t.jsx(Ma,{...d,queryContext:A,queryVisualizationContext:U}),t.jsx(Va,{}),i&&t.jsx(pn,{frontText:""}),t.jsx(je,{tableConfiguration:g?void 0:{...h,showAccessColumn:a,hideAddToDownloadListColumn:r,...S},cardConfiguration:g})]})}})}})}))}try{Pt.displayName="getQueryFromProps",Pt.__docgenInfo={description:"",displayName:"getQueryFromProps",props:{}}}catch{}try{jt.displayName="generateInitQueryRequest",jt.__docgenInfo={description:"",displayName:"generateInitQueryRequest",props:{sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},selectedFacets:{defaultValue:null,description:"",name:"selectedFacets",required:!1,type:{name:"FacetColumnRequest[]"}},includeEntityEtag:{defaultValue:null,description:"",name:"includeEntityEtag",required:!1,type:{name:"boolean"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"number"}},limit:{defaultValue:null,description:"",name:"limit",required:!1,type:{name:"number"}},sort:{defaultValue:null,description:"",name:"sort",required:!1,type:{name:"SortItem[]"}},additionalFilters:{defaultValue:null,description:"",name:"additionalFilters",required:!1,type:{name:"QueryFilter[]"}},selectFileColumn:{defaultValue:null,description:"",name:"selectFileColumn",required:!1,type:{name:"number"}},selectFileVersionColumn:{defaultValue:null,description:"",name:"selectFileVersionColumn",required:!1,type:{name:"number"}}}}}catch{}try{$n.displayName="StandaloneQueryWrapper",$n.__docgenInfo={description:`This component was initially implemented on the portal side. It renders a SynapseTable if a title is provided.
If showTopLevelControls is set to true, then the SynapseTable will also include the TopLevelControls (search, export table, column selection).`,displayName:"StandaloneQueryWrapper",props:{}}}catch{}function zn(){return t.jsxs(R,{sx:{color:"grey.700",maxHeight:{xs:"170px",md:"110px"},overflow:"auto",margin:"20px 0px"},children:[t.jsx(I,{variant:"smallText1",sx:{fontWeight:700,marginBottom:"5px"},children:"System Use Notice"}),t.jsx(I,{variant:"smallText1",sx:{lineHeight:"21px"},children:"Sage Bionetworks actively monitors this system and activity to maintain system security and availability and to ensure appropriate and legitimate usage. Any individual who intentionally accesses a computer or system without authorization, and who alters, damages, makes unauthorized modifications to, or destroys information, or exceeds authorized access, is in violation of applicable federal laws, Executive Orders, directives, policies, regulations, standards, and guidance. Any evidence of possible violations of proper use or applicable laws found as a result of this monitoring may be turned over to law enforcement. Any individual found to be in violation of the system's proper use rules or law could be punished with loss of system access, fines, and/or imprisonment. By proceeding, you hereby acknowledge your agreement with these terms and the system's rules of behavior and consent to such monitoring and information retrieval for law enforcement and other official purposes."})]})}try{zn.displayName="SystemUseNotification",zn.__docgenInfo={description:"FISMA SAR V1-AC-8 System Use Notification, see https://sagebionetworks.jira.com/browse/SWC-6430",displayName:"SystemUseNotification",props:{}}}catch{}const ei="species",ti="observationphase",yn={queryResult:{queryResults:{headers:[{name:"species",columnType:"STRING",id:"152514"},{name:"observationPhase",columnType:"STRING",id:"197976"},{name:"observationPhaseOrder",columnType:"INTEGER",id:"198102"},{name:"observationTimeMax",columnType:"INTEGER",id:"198103"},{name:"observationTimeUnits",columnType:"STRING",id:"198101"}],rows:[{rowId:9,versionNumber:4,values:["Danio rerio","embryo","1","7","days"]},{rowId:10,versionNumber:4,values:["Danio rerio","larval","2","3","months"]},{rowId:11,versionNumber:4,values:["Danio rerio","juvenile","3","6","months"]},{rowId:12,versionNumber:4,values:["Danio rerio","adult","4","12","months"]},{rowId:16,versionNumber:4,values:["Drosophila","embryo","1","24","hours"]},{rowId:17,versionNumber:4,values:["Drosophila","larval","2","5","days"]},{rowId:18,versionNumber:4,values:["Drosophila","pupal","3","12","days"]},{rowId:19,versionNumber:4,values:["Drosophila","adult","4","5","weeks"]},{rowId:1,versionNumber:4,values:["Mus musculus","prenatal","1","21","days"]},{rowId:2,versionNumber:4,values:["Mus musculus","postnatal","2","6","months"]},{rowId:20,versionNumber:4,values:["Rattus norvegicus","prenatal","1","23","days"]},{rowId:21,versionNumber:4,values:["Rattus norvegicus","neonatal","2","4","weeks"]},{rowId:22,versionNumber:4,values:["Rattus norvegicus","weanling","3","2","months"]},{rowId:23,versionNumber:4,values:["Rattus norvegicus","juvenile","4","3","months"]},{rowId:24,versionNumber:4,values:["Rattus norvegicus","adolescent","5","6","months"]},{rowId:25,versionNumber:4,values:["Rattus norvegicus","adult","6","12","months"]},{rowId:13,versionNumber:4,values:["Saccharomyces","log phase","1","7","days"]},{rowId:14,versionNumber:4,values:["Saccharomyces","stationary phase","2","2","weeks"]},{rowId:15,versionNumber:4,values:["Saccharomyces","death phase","3","3","weeks"]},{rowId:3,versionNumber:4,values:["Sus scrofa","prenatal","1","115","days"]},{rowId:4,versionNumber:4,values:["Sus scrofa","neonatal","2","3","months"]},{rowId:5,versionNumber:4,values:["Sus scrofa","weanling","3","6","months"]},{rowId:6,versionNumber:4,values:["Sus scrofa","juvenile","4","12","months"]},{rowId:7,versionNumber:4,values:["Sus scrofa","adolescent","5","2","years"]},{rowId:8,versionNumber:4,values:["Sus scrofa","adult","6","3","years"]}]}}};var na;const ni=(na=yn.queryResult)==null?void 0:na.queryResults.headers.findIndex(e=>e.name.toLowerCase()===ei);var aa;const mt=(aa=yn.queryResult)==null?void 0:aa.queryResults.headers.findIndex(e=>e.name.toLowerCase()===ti),Lt=({color:e,phaseName:n})=>t.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:"7px"},children:[t.jsx(Y,{sx:{backgroundColor:e,width:"20px",height:"20px"}}),t.jsx(I,{variant:"body1",children:n==null?void 0:n.toUpperCase()})]});try{Lt.displayName="TimelineLegendItem",Lt.__docgenInfo={description:"",displayName:"TimelineLegendItem",props:{color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}},phaseName:{defaultValue:null,description:"",name:"phaseName",required:!0,type:{name:"string"}}}}}catch{}const ai=(e,n,a,s)=>{let r=-1;return{timepoints:n.map((l,i)=>{const d=parseFloat(l.values[a.observationTime]),u=l.values[a.observationTimeUnits];return l.rowId==s&&(r=i),e.add(d,u)}),hoverOverIndex:r}},Ft=e=>e.length==0?Se().add(1,"days"):e.reduce((n,a)=>!n||a.isAfter(n)?a:n),ri=(e,n)=>{if(e.timepoints==null||e.timepoints.length==0)return[{x:[Se().format()],y:[.5],mode:"lines",line:{color:"blue",width:2},customdata:[],hoverinfo:"none"}];const a=e.timepoints.reduce((r,o,l)=>{const i=r;return i[o.format()]||(i[o.format()]=[]),i[o.format()].push(n[l]),r},{});return e.timepoints.map((r,o)=>{const l=r.format(),i=o==e.hoverOverIndex,u=a[l].map(c=>c.rowId);return{x:[l,l,l],y:[0,.5,1],mode:"lines",line:{color:i?"black":"gray",width:i?2:1},customdata:[u,u,u],hoverinfo:"none"}})},si=(e,n,a,s,r,o)=>{const l=s.map(d=>d.x[0]),i=s.map(d=>{const u=d.customdata[0];if(u&&u.length>0){const c=u.length,p=r==null?void 0:r.filter(m=>u[0]==m.rowId);if(p&&p.length>0){const m=p[0],g=parseFloat(m.values[o.observationTime]),h=m.values[o.observationTimeUnits],y=c>1?`(${c})`:"";return`${g} ${h} ${y}`}}return""});return{hovermode:"closest",dragmode:!1,showlegend:!1,xaxis:{showgrid:!1,showticklabels:!0,showline:!1,zeroline:!1,tickvals:l,ticktext:i,tickangle:-45},yaxis:{range:[0,1.25],showgrid:!1,zeroline:!1,showline:!1,showticklabels:!1},shapes:[{type:"rect",x0:e.subtract(n.diff(e)/10).format(),x1:n.add(n.diff(e)/3).format(),y0:.25,y1:.75,fillcolor:a,opacity:.8,line:{width:0}}],margin:{l:0,r:0,t:60,b:60}}},Et=({color:e,rowData:n,schema:a,widthPx:s,sql:r})=>{const[o,l]=x.useState(),[i,d]=x.useState(),[u,c]=x.useState(1),p=Se(),m=x.useRef(null),g=o==null?void 0:o.points[0].customdata,h=n==null?void 0:n.filter(C=>g==null?void 0:g.includes(C.rowId)),y=i==null?void 0:i.points[0].customdata,S=x.useMemo(()=>ai(p,n,a,(y==null?void 0:y.length)>0?y[0]:void 0),[y,n,a,p]),f=Ft(S.timepoints),b=x.useMemo(()=>ri(S,n),[S,n]),v=h.map(C=>C.rowId);return t.jsxs("div",{ref:m,style:{width:s},children:[t.jsx($s,{style:{width:s,height:"220px"},data:b,layout:si(p,f,e,b,n,a),config:{displayModeBar:!1},useResizeHandler:!0,onClick:C=>{l(C),d(void 0)},onDoubleClick:()=>{c(u+1)},onHover:C=>{d(C)},onUnhover:()=>{d(void 0)}},`Plot-${e}-${u}`),t.jsx(Ir,{onClose:()=>l(void 0),open:h&&h.length>0,children:t.jsx(qr,{children:t.jsx(zt,{topLevelEnumeratedFacetToFilter:{columnName:"observationType"},sql:r,searchParams:{ROW_ID:v.map(String).join(",")},sqlOperator:xe.IN,lockedColumn:{columnName:"ROW_ID"},cardConfiguration:{type:Ue},initialLimit:3})})})]})};try{Ft.displayName="getMaxDate",Ft.__docgenInfo={description:"",displayName:"getMaxDate",props:{}}}catch{}try{Et.displayName="TimelinePhase",Et.__docgenInfo={description:"",displayName:"TimelinePhase",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"Row[]"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ObservationCardSchema"}},widthPx:{defaultValue:null,description:"",name:"widthPx",required:!0,type:{name:"number"}},sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}}}}}catch{}const kt=({sql:e,additionalFilters:n,species:a,setSpecies:s})=>{var c,p;const r=de(e),o=Wt({entityId:r,query:{sql:`SELECT distinct unnest(species) FROM ${r} WHERE species IS NOT NULL AND observationTime IS NOT NULL GROUP BY species`,additionalFilters:n},partMask:Z,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest"}),{data:l,isLoading:i}=o,d=(p=(c=l==null?void 0:l.queryResult)==null?void 0:c.queryResults)==null?void 0:p.rows,u=d&&d.length>0?d[0].values[0]:void 0;return a==null&&u!=null&&s(u),i||!d||d.length<2?t.jsx(t.Fragment,{}):t.jsx(Y,{children:t.jsxs(jr,{children:[t.jsx(Pr,{children:"Species"}),t.jsx(Sa,{sx:{marginLeft:"2px",marginBottom:"2px"},value:a,label:"Species",onChange:m=>{s(m.target.value)},children:d==null?void 0:d.map(m=>{const g=m.values[0];return t.jsx(ge,{value:g,children:g},g)})})]})})};try{kt.displayName="TimelinePlotSpeciesSelector",kt.__docgenInfo={description:"",displayName:"TimelinePlotSpeciesSelector",props:{sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},additionalFilters:{defaultValue:null,description:"",name:"additionalFilters",required:!1,type:{name:"QueryFilter[]"}},species:{defaultValue:null,description:"",name:"species",required:!1,type:{name:"string"}},setSpecies:{defaultValue:null,description:"",name:"setSpecies",required:!0,type:{name:"Dispatch<SetStateAction<string>>"}}}}}catch{}const oi="observationphase",ii="observationtime",li="observationtimeunits",di="observationsubmittername",ui="observationtext",ci="observationtype",pi="synapseid",mi="doi",Hn=({sql:e,searchParams:n,sqlOperator:a,defaultSpecies:s,title:r,subTitle:o})=>{const l=de(e),[i,d]=x.useState(s),[u,c]=zs(),p=Ze(n,a)??[],m=i?{columnName:"species",concreteType:"org.sagebionetworks.repo.model.table.ColumnMultiValueFunctionQueryFilter",values:[i],function:Oe.HAS,_function:Oe.HAS}:void 0,g=[...p];m&&g.push(m);const h=Wt({entityId:l,query:{sql:`${e} WHERE observationTime IS NOT NULL`,sort:[{column:"observationTime",direction:"ASC"}],additionalFilters:g},partMask:Z,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest"},{enabled:!!i}),{data:y,isLoading:S}=h,f=x.useMemo(()=>{var q;if(i)return(q=yn.queryResult)==null?void 0:q.queryResults.rows.filter(z=>z.values[ni]==i)},[i]);if(S)return t.jsx(yi,{});const b=ae(oi,y),v=ae(ii,y),C=ae(li,y),N=ae(di,y),T=ae(ui,y),w=ae(mi,y),k=ae(ci,y),V=ae(pi,y),_={observationSubmitterName:N,synapseId:V,observationType:k,observationText:T,observationTime:v,observationTimeUnits:C,doi:w},A=u!=null&&u.width&&f?(u==null?void 0:u.width)/f.length:0,U=f==null?void 0:f.map(()=>"auto").join(" ");return t.jsxs(t.Fragment,{children:[i&&t.jsxs(t.Fragment,{children:[r&&t.jsx(I,{variant:"h2",children:r}),o&&t.jsx(I,{variant:"body1Italic",sx:{margin:"10px 0px"},children:o})]}),t.jsxs(Y,{children:[t.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(Y,{children:!s&&t.jsx(kt,{setSpecies:d,species:i,sql:e,additionalFilters:p})}),f&&t.jsx(Y,{sx:{display:"flex",justifyContent:"flex-end",gap:"25px"},children:f.map((q,$)=>{const{colorPalette:z}=En($,1);return t.jsx(Lt,{color:z[0],phaseName:q.values[mt]},q.rowId)})})]}),i&&f&&t.jsx("div",{ref:c,children:t.jsx(Y,{sx:{display:"inline-grid",gridTemplateColumns:U,minWidth:u==null?void 0:u.width,maxWidth:u==null?void 0:u.width},className:"forcePlotlyDefaultCursor",children:f.map((q,$)=>{var ee;const{colorPalette:z}=En($,1),K=(ee=y==null?void 0:y.queryResult)==null?void 0:ee.queryResults.rows.filter(ve=>ve.values[b]==q.values[mt]);return K?t.jsx(Et,{name:q.values[mt],color:z[0],rowData:K,schema:_,widthPx:A,sql:e},q.rowId):t.jsx(t.Fragment,{})})})})]})]})},yi=()=>t.jsxs(Y,{children:[t.jsxs(Y,{sx:{display:"flex",justifyContent:"flex-end",gap:"10px"},children:[t.jsx(F,{height:"45px",width:"80px"}),t.jsx(F,{height:"45px",width:"80px"})]}),t.jsx(Y,{sx:{display:"flex"},children:t.jsx(F,{height:"150px",width:"100%"})})]});try{Hn.displayName="TimelinePlot",Hn.__docgenInfo={description:"",displayName:"TimelinePlot",props:{sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},searchParams:{defaultValue:null,description:"",name:"searchParams",required:!1,type:{name:"Record<string, string>"}},sqlOperator:{defaultValue:null,description:"",name:"sqlOperator",required:!1,type:{name:"SQLOperator"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},subTitle:{defaultValue:null,description:"",name:"subTitle",required:!1,type:{name:"string"}},defaultSpecies:{defaultValue:null,description:"",name:"defaultSpecies",required:!1,type:{name:"string"}}}}}catch{}const Wn=be(R,{label:"MuiContainer"})(({theme:e})=>({paddingRight:15,paddingLeft:15,marginRight:"auto",marginLeft:"auto",[e.breakpoints.up("md")]:{width:920},[e.breakpoints.up("lg")]:{width:1170},[e.breakpoints.up("xl")]:{width:1366}}));try{Wn.displayName="MuiContainer",Wn.__docgenInfo={description:"Drop in MUI substitute class for Bootstrap Container component",displayName:"MuiContainer",props:{zIndex:{defaultValue:null,description:"",name:"zIndex",required:!1,type:{name:"ResponsiveStyleValue<string | (string & {}) | (number & {})> | ((theme: Theme) => ResponsiveStyleValue<string | (string & {}) | (number & {})>)"}},typography:{defaultValue:null,description:"",name:"typography",required:!1,type:{name:"ResponsiveStyleValue<string> | ((theme: Theme) => ResponsiveStyleValue<string>)"}},fontFamily:{defaultValue:null,description:"",name:"fontFamily",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | FontFamily> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | FontFamily>)"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!1,type:{name:"ResponsiveStyleValue<FontSize<string | number> | readonly NonNullable<FontSize<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},border:{defaultValue:null,description:"",name:"border",required:!1,type:{name:'ResponsiveStyleValue<number | "none" | (string & {}) | "inset" | "hidden" | "inherit" | "medium" | "initial" | "-moz-initial" | "revert" | "unset" | "revert-layer" | "thick" | "thin" | "dashed" | ... 183 more ... | "currentcolor"> | ((theme: Theme) => ResponsiveStyleValue<...>)'}},boxShadow:{defaultValue:null,description:"",name:"boxShadow",required:!1,type:{name:"ResponsiveStyleValue<number | BoxShadow> | ((theme: Theme) => ResponsiveStyleValue<number | BoxShadow>)"}},fontWeight:{defaultValue:null,description:"",name:"fontWeight",required:!1,type:{name:"ResponsiveStyleValue<string | (string & {}) | (number & {})> | ((theme: Theme) => ResponsiveStyleValue<string | (string & {}) | (number & {})>)"}},alignContent:{defaultValue:null,description:"",name:"alignContent",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | AlignContent> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | AlignContent>)"}},alignItems:{defaultValue:null,description:"",name:"alignItems",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | AlignItems> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | AlignItems>)"}},alignSelf:{defaultValue:null,description:"",name:"alignSelf",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | AlignSelf> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | AlignSelf>)"}},bottom:{defaultValue:null,description:"",name:"bottom",required:!1,type:{name:"ResponsiveStyleValue<Bottom<string | number> | readonly NonNullable<Bottom<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},boxSizing:{defaultValue:null,description:"",name:"boxSizing",required:!1,type:{name:"ResponsiveStyleValue<BoxSizing | readonly NonNullable<BoxSizing>[]> | ((theme: Theme) => ResponsiveStyleValue<BoxSizing | readonly NonNullable<...>[]>)"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | Color> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | Color>)"}},columnGap:{defaultValue:null,description:"",name:"columnGap",required:!1,type:{name:"ResponsiveStyleValue<ColumnGap<string | number> | readonly NonNullable<ColumnGap<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},display:{defaultValue:null,description:"",name:"display",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | Display> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | Display>)"}},flexBasis:{defaultValue:null,description:"",name:"flexBasis",required:!1,type:{name:"ResponsiveStyleValue<FlexBasis<string | number> | readonly NonNullable<FlexBasis<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},flexDirection:{defaultValue:null,description:"",name:"flexDirection",required:!1,type:{name:"ResponsiveStyleValue<FlexDirection | readonly NonNullable<FlexDirection>[]> | ((theme: Theme) => ResponsiveStyleValue<FlexDirection | readonly NonNullable<...>[]>)"}},flexGrow:{defaultValue:null,description:"",name:"flexGrow",required:!1,type:{name:"ResponsiveStyleValue<FlexGrow | readonly NonNullable<FlexGrow>[]> | ((theme: Theme) => ResponsiveStyleValue<FlexGrow | readonly NonNullable<...>[]>)"}},flexShrink:{defaultValue:null,description:"",name:"flexShrink",required:!1,type:{name:"ResponsiveStyleValue<FlexShrink | readonly NonNullable<FlexShrink>[]> | ((theme: Theme) => ResponsiveStyleValue<FlexShrink | readonly NonNullable<...>[]>)"}},flexWrap:{defaultValue:null,description:"",name:"flexWrap",required:!1,type:{name:"ResponsiveStyleValue<FlexWrap | readonly NonNullable<FlexWrap>[]> | ((theme: Theme) => ResponsiveStyleValue<FlexWrap | readonly NonNullable<...>[]>)"}},fontStyle:{defaultValue:null,description:"",name:"fontStyle",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | FontStyle> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | FontStyle>)"}},gridAutoColumns:{defaultValue:null,description:"",name:"gridAutoColumns",required:!1,type:{name:"ResponsiveStyleValue<GridAutoColumns<string | number> | readonly NonNullable<GridAutoColumns<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},gridAutoFlow:{defaultValue:null,description:"",name:"gridAutoFlow",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | GridAutoFlow> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | GridAutoFlow>)"}},gridAutoRows:{defaultValue:null,description:"",name:"gridAutoRows",required:!1,type:{name:"ResponsiveStyleValue<GridAutoRows<string | number> | readonly NonNullable<GridAutoRows<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},gridTemplateAreas:{defaultValue:null,description:"",name:"gridTemplateAreas",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | GridTemplateAreas> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | GridTemplateAreas>)"}},gridTemplateColumns:{defaultValue:null,description:"",name:"gridTemplateColumns",required:!1,type:{name:"ResponsiveStyleValue<GridTemplateColumns<string | number> | readonly NonNullable<GridTemplateColumns<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},gridTemplateRows:{defaultValue:null,description:"",name:"gridTemplateRows",required:!1,type:{name:"ResponsiveStyleValue<GridTemplateRows<string | number> | readonly NonNullable<GridTemplateRows<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"ResponsiveStyleValue<Height<string | number> | readonly NonNullable<Height<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},justifyContent:{defaultValue:null,description:"",name:"justifyContent",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | JustifyContent> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | JustifyContent>)"}},justifyItems:{defaultValue:null,description:"",name:"justifyItems",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | JustifyItems> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | JustifyItems>)"}},justifySelf:{defaultValue:null,description:"",name:"justifySelf",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | JustifySelf> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | JustifySelf>)"}},left:{defaultValue:null,description:"",name:"left",required:!1,type:{name:"ResponsiveStyleValue<Left<string | number> | readonly NonNullable<Left<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<Left<...> | readonly NonNullable<...>[]>)"}},letterSpacing:{defaultValue:null,description:"",name:"letterSpacing",required:!1,type:{name:"ResponsiveStyleValue<LetterSpacing<string | number> | readonly NonNullable<LetterSpacing<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},lineHeight:{defaultValue:null,description:"",name:"lineHeight",required:!1,type:{name:"ResponsiveStyleValue<LineHeight<string | number> | readonly NonNullable<LineHeight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginBlockEnd:{defaultValue:null,description:"",name:"marginBlockEnd",required:!1,type:{name:"ResponsiveStyleValue<MarginBlockEnd<string | number> | readonly NonNullable<MarginBlockEnd<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginBlockStart:{defaultValue:null,description:"",name:"marginBlockStart",required:!1,type:{name:"ResponsiveStyleValue<MarginBlockStart<string | number> | readonly NonNullable<MarginBlockStart<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginBottom:{defaultValue:null,description:"",name:"marginBottom",required:!1,type:{name:"ResponsiveStyleValue<MarginBottom<string | number> | readonly NonNullable<MarginBottom<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginInlineEnd:{defaultValue:null,description:"",name:"marginInlineEnd",required:!1,type:{name:"ResponsiveStyleValue<MarginInlineEnd<string | number> | readonly NonNullable<MarginInlineEnd<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginInlineStart:{defaultValue:null,description:"",name:"marginInlineStart",required:!1,type:{name:"ResponsiveStyleValue<MarginInlineStart<string | number> | readonly NonNullable<MarginInlineStart<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginLeft:{defaultValue:null,description:"",name:"marginLeft",required:!1,type:{name:"ResponsiveStyleValue<MarginLeft<string | number> | readonly NonNullable<MarginLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginRight:{defaultValue:null,description:"",name:"marginRight",required:!1,type:{name:"ResponsiveStyleValue<MarginRight<string | number> | readonly NonNullable<MarginRight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginTop:{defaultValue:null,description:"",name:"marginTop",required:!1,type:{name:"ResponsiveStyleValue<MarginTop<string | number> | readonly NonNullable<MarginTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},maxHeight:{defaultValue:null,description:"",name:"maxHeight",required:!1,type:{name:"ResponsiveStyleValue<MaxHeight<string | number> | readonly NonNullable<MaxHeight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},maxWidth:{defaultValue:null,description:"",name:"maxWidth",required:!1,type:{name:"ResponsiveStyleValue<MaxWidth<string | number> | readonly NonNullable<MaxWidth<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},minHeight:{defaultValue:null,description:"",name:"minHeight",required:!1,type:{name:"ResponsiveStyleValue<MinHeight<string | number> | readonly NonNullable<MinHeight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},minWidth:{defaultValue:null,description:"",name:"minWidth",required:!1,type:{name:"ResponsiveStyleValue<MinWidth<string | number> | readonly NonNullable<MinWidth<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},order:{defaultValue:null,description:"",name:"order",required:!1,type:{name:"ResponsiveStyleValue<Order | readonly NonNullable<Order>[]> | ((theme: Theme) => ResponsiveStyleValue<Order | readonly NonNullable<Order>[]>)"}},paddingBlockEnd:{defaultValue:null,description:"",name:"paddingBlockEnd",required:!1,type:{name:"ResponsiveStyleValue<PaddingBlockEnd<string | number> | readonly NonNullable<PaddingBlockEnd<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingBlockStart:{defaultValue:null,description:"",name:"paddingBlockStart",required:!1,type:{name:"ResponsiveStyleValue<PaddingBlockStart<string | number> | readonly NonNullable<PaddingBlockStart<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingBottom:{defaultValue:null,description:"",name:"paddingBottom",required:!1,type:{name:"ResponsiveStyleValue<PaddingBottom<string | number> | readonly NonNullable<PaddingBottom<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingInlineEnd:{defaultValue:null,description:"",name:"paddingInlineEnd",required:!1,type:{name:"ResponsiveStyleValue<PaddingInlineEnd<string | number> | readonly NonNullable<PaddingInlineEnd<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingInlineStart:{defaultValue:null,description:"",name:"paddingInlineStart",required:!1,type:{name:"ResponsiveStyleValue<PaddingInlineStart<string | number> | readonly NonNullable<PaddingInlineStart<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingLeft:{defaultValue:null,description:"",name:"paddingLeft",required:!1,type:{name:"ResponsiveStyleValue<PaddingLeft<string | number> | readonly NonNullable<PaddingLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingRight:{defaultValue:null,description:"",name:"paddingRight",required:!1,type:{name:"ResponsiveStyleValue<PaddingRight<string | number> | readonly NonNullable<PaddingRight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingTop:{defaultValue:null,description:"",name:"paddingTop",required:!1,type:{name:"ResponsiveStyleValue<PaddingTop<string | number> | readonly NonNullable<PaddingTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"ResponsiveStyleValue<Position | readonly NonNullable<Position>[]> | ((theme: Theme) => ResponsiveStyleValue<Position | readonly NonNullable<...>[]>)"}},right:{defaultValue:null,description:"",name:"right",required:!1,type:{name:"ResponsiveStyleValue<Right<string | number> | readonly NonNullable<Right<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},rowGap:{defaultValue:null,description:"",name:"rowGap",required:!1,type:{name:"ResponsiveStyleValue<RowGap<string | number> | readonly NonNullable<RowGap<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},textAlign:{defaultValue:null,description:"",name:"textAlign",required:!1,type:{name:"ResponsiveStyleValue<TextAlign | readonly NonNullable<TextAlign>[]> | ((theme: Theme) => ResponsiveStyleValue<TextAlign | readonly NonNullable<...>[]>)"}},textOverflow:{defaultValue:null,description:"",name:"textOverflow",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | TextOverflow> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | TextOverflow>)"}},textTransform:{defaultValue:null,description:"",name:"textTransform",required:!1,type:{name:"ResponsiveStyleValue<TextTransform | readonly NonNullable<TextTransform>[]> | ((theme: Theme) => ResponsiveStyleValue<TextTransform | readonly NonNullable<...>[]>)"}},top:{defaultValue:null,description:"",name:"top",required:!1,type:{name:"ResponsiveStyleValue<Top<string | number> | readonly NonNullable<Top<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<Top<string | number> | readonly NonNullable<...>[]>)"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!1,type:{name:"ResponsiveStyleValue<Visibility | readonly NonNullable<Visibility>[]> | ((theme: Theme) => ResponsiveStyleValue<Visibility | readonly NonNullable<...>[]>)"}},whiteSpace:{defaultValue:null,description:"",name:"whiteSpace",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | WhiteSpace> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | WhiteSpace>)"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"ResponsiveStyleValue<Width<string | number> | readonly NonNullable<Width<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},borderBottom:{defaultValue:null,description:"",name:"borderBottom",required:!1,type:{name:"ResponsiveStyleValue<BorderBottom<string | number> | readonly NonNullable<BorderBottom<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},borderColor:{defaultValue:null,description:"",name:"borderColor",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | BorderColor> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | BorderColor>)"}},borderLeft:{defaultValue:null,description:"",name:"borderLeft",required:!1,type:{name:"ResponsiveStyleValue<BorderLeft<string | number> | readonly NonNullable<BorderLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},borderRadius:{defaultValue:null,description:"",name:"borderRadius",required:!1,type:{name:"ResponsiveStyleValue<BorderRadius<string | number> | readonly NonNullable<BorderRadius<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},borderRight:{defaultValue:null,description:"",name:"borderRight",required:!1,type:{name:"ResponsiveStyleValue<BorderRight<string | number> | readonly NonNullable<BorderRight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},borderTop:{defaultValue:null,description:"",name:"borderTop",required:!1,type:{name:"ResponsiveStyleValue<BorderTop<string | number> | readonly NonNullable<BorderTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},flex:{defaultValue:null,description:"",name:"flex",required:!1,type:{name:"ResponsiveStyleValue<Flex<string | number> | readonly NonNullable<Flex<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<Flex<...> | readonly NonNullable<...>[]>)"}},gap:{defaultValue:null,description:"",name:"gap",required:!1,type:{name:"ResponsiveStyleValue<Gap<string | number> | readonly NonNullable<Gap<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<Gap<string | number> | readonly NonNullable<...>[]>)"}},gridArea:{defaultValue:null,description:"",name:"gridArea",required:!1,type:{name:"ResponsiveStyleValue<GridArea | readonly NonNullable<GridArea>[]> | ((theme: Theme) => ResponsiveStyleValue<GridArea | readonly NonNullable<...>[]>)"}},gridColumn:{defaultValue:null,description:"",name:"gridColumn",required:!1,type:{name:"ResponsiveStyleValue<GridColumn | readonly NonNullable<GridColumn>[]> | ((theme: Theme) => ResponsiveStyleValue<GridColumn | readonly NonNullable<...>[]>)"}},gridRow:{defaultValue:null,description:"",name:"gridRow",required:!1,type:{name:"ResponsiveStyleValue<GridRow | readonly NonNullable<GridRow>[]> | ((theme: Theme) => ResponsiveStyleValue<GridRow | readonly NonNullable<GridRow>[]>)"}},margin:{defaultValue:null,description:"",name:"margin",required:!1,type:{name:"ResponsiveStyleValue<Margin<string | number> | readonly NonNullable<Margin<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginBlock:{defaultValue:null,description:"",name:"marginBlock",required:!1,type:{name:"ResponsiveStyleValue<MarginBlock<string | number> | readonly NonNullable<MarginBlock<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginInline:{defaultValue:null,description:"",name:"marginInline",required:!1,type:{name:"ResponsiveStyleValue<MarginInline<string | number> | readonly NonNullable<MarginInline<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},overflow:{defaultValue:null,description:"",name:"overflow",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | Overflow> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | Overflow>)"}},padding:{defaultValue:null,description:"",name:"padding",required:!1,type:{name:"ResponsiveStyleValue<Padding<string | number> | readonly NonNullable<Padding<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingBlock:{defaultValue:null,description:"",name:"paddingBlock",required:!1,type:{name:"ResponsiveStyleValue<PaddingBlock<string | number> | readonly NonNullable<PaddingBlock<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingInline:{defaultValue:null,description:"",name:"paddingInline",required:!1,type:{name:"ResponsiveStyleValue<PaddingInline<string | number> | readonly NonNullable<PaddingInline<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},bgcolor:{defaultValue:null,description:"",name:"bgcolor",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | BackgroundColor> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | BackgroundColor>)"}},m:{defaultValue:null,description:"",name:"m",required:!1,type:{name:"ResponsiveStyleValue<Margin<string | number> | readonly NonNullable<Margin<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},mt:{defaultValue:null,description:"",name:"mt",required:!1,type:{name:"ResponsiveStyleValue<MarginTop<string | number> | readonly NonNullable<MarginTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},mr:{defaultValue:null,description:"",name:"mr",required:!1,type:{name:"ResponsiveStyleValue<MarginRight<string | number> | readonly NonNullable<MarginRight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},mb:{defaultValue:null,description:"",name:"mb",required:!1,type:{name:"ResponsiveStyleValue<MarginBottom<string | number> | readonly NonNullable<MarginBottom<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},ml:{defaultValue:null,description:"",name:"ml",required:!1,type:{name:"ResponsiveStyleValue<MarginLeft<string | number> | readonly NonNullable<MarginLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},mx:{defaultValue:null,description:"",name:"mx",required:!1,type:{name:"ResponsiveStyleValue<MarginLeft<string | number> | readonly NonNullable<MarginLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginX:{defaultValue:null,description:"",name:"marginX",required:!1,type:{name:"ResponsiveStyleValue<MarginLeft<string | number> | readonly NonNullable<MarginLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},my:{defaultValue:null,description:"",name:"my",required:!1,type:{name:"ResponsiveStyleValue<MarginTop<string | number> | readonly NonNullable<MarginTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginY:{defaultValue:null,description:"",name:"marginY",required:!1,type:{name:"ResponsiveStyleValue<MarginTop<string | number> | readonly NonNullable<MarginTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},p:{defaultValue:null,description:"",name:"p",required:!1,type:{name:"ResponsiveStyleValue<Padding<string | number> | readonly NonNullable<Padding<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},pt:{defaultValue:null,description:"",name:"pt",required:!1,type:{name:"ResponsiveStyleValue<PaddingTop<string | number> | readonly NonNullable<PaddingTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},pr:{defaultValue:null,description:"",name:"pr",required:!1,type:{name:"ResponsiveStyleValue<PaddingRight<string | number> | readonly NonNullable<PaddingRight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},pb:{defaultValue:null,description:"",name:"pb",required:!1,type:{name:"ResponsiveStyleValue<PaddingBottom<string | number> | readonly NonNullable<PaddingBottom<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},pl:{defaultValue:null,description:"",name:"pl",required:!1,type:{name:"ResponsiveStyleValue<PaddingLeft<string | number> | readonly NonNullable<PaddingLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},px:{defaultValue:null,description:"",name:"px",required:!1,type:{name:"ResponsiveStyleValue<PaddingLeft<string | number> | readonly NonNullable<PaddingLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingX:{defaultValue:null,description:"",name:"paddingX",required:!1,type:{name:"ResponsiveStyleValue<PaddingLeft<string | number> | readonly NonNullable<PaddingLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},py:{defaultValue:null,description:"",name:"py",required:!1,type:{name:"ResponsiveStyleValue<PaddingTop<string | number> | readonly NonNullable<PaddingTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingY:{defaultValue:null,description:"",name:"paddingY",required:!1,type:{name:"ResponsiveStyleValue<PaddingTop<string | number> | readonly NonNullable<PaddingTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},displayPrint:{defaultValue:null,description:"",name:"displayPrint",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | Display> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | Display>)"}},component:{defaultValue:null,description:"",name:"component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}}}}}catch{}const Ba=e=>{x.useEffect(()=>{if(e){const n=document.querySelector("head"),a=document.createElement("script");a.setAttribute("type","application/ld+json");const s=document.createTextNode(e);return a.appendChild(s),n==null||n.appendChild(a),()=>{n==null||n.removeChild(a)}}},[e])};function Gn({thing:e}){return Ba(JSON.stringify(e)),t.jsx(t.Fragment,{})}try{Gn.displayName="JsonLdScript",Gn.__docgenInfo={description:"This component will add a json ld script tag to the page when rendered.",displayName:"JsonLdScript",props:{thing:{defaultValue:null,description:"",name:"thing",required:!0,type:{name:"WithContext<Thing>"}}}}}catch{}function Yn({entityId:e,version:n,searchParams:a}){var p,m,g;let s,r;e?(s=e,r=n):a&&(s=a.id,a.version&&(r=parseInt(a.version)));const o={sql:"select croissant_file_s3_object from syn65903895",additionalFilters:[{concreteType:In,columnName:"dataset",operator:xe.EQUAL,values:[s]}]};r&&o.additionalFilters.push({concreteType:In,columnName:"dataset_version",operator:xe.EQUAL,values:[`${r}`]});const{data:l}=Yt({entityId:s,query:o,partMask:Z,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest"}),i=(g=(m=(p=l==null?void 0:l.responseBody)==null?void 0:p.queryResult)==null?void 0:m.queryResults)==null?void 0:g.rows,d=i&&i.length>0?i[0]:void 0,u=d==null?void 0:d.values[0],{data:c}=Lr(u,{enabled:!!u});return Ba(c),t.jsx(t.Fragment,{})}try{Yn.displayName="DatasetJsonLdScript",Yn.__docgenInfo={description:"This component will add a Dataset json ld script tag to the page when rendered.",displayName:"DatasetJsonLdScript",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!1,type:{name:"string"}},version:{defaultValue:null,description:"",name:"version",required:!1,type:{name:"number"}},searchParams:{defaultValue:null,description:"",name:"searchParams",required:!1,type:{name:"{ [key: string]: string; }"}}}}}catch{}const fi=400,gi=({research:e,entityId:n,publicationDateColIndex:a,titleColIndex:s,linkColIndex:r,imageColIndex:o,isLoading:l})=>{const i=e.values[o]??"",d=dn(i??"",n);return l?t.jsx(F,{variant:"rectangular",height:142,width:"100%"}):t.jsxs(R,{sx:{display:"flex",gap:"30px",borderBottom:"1px solid",padding:"24px 0",borderColor:"grey.300",flexDirection:{xs:"column",sm:"row"}},children:[t.jsxs(H,{useFlexGap:!0,sx:{gap:"10px"},children:[t.jsx(I,{variant:"headline2",sx:{color:"gray.1000",fontSize:"21px"},children:t.jsx(G,{href:e.values[r]??"",target:"_blank",sx:{color:"grey.1000",textDecoration:"none","&:hover":{textDecoration:"none"}},children:e.values[s]})}),t.jsx(I,{sx:{lineHeight:"normal",color:"grey.600"},children:e.values[a]&&tn(Se(Number(e.values[a])),"MMMM, YYYY")})]}),t.jsx(un,{component:"img",image:d,"aria-hidden":"true",sx:{flexShrink:0,width:"140px",height:"93.8px",borderRadius:"6px",objectFit:"cover",marginLeft:{xs:"initial",sm:"auto"}}})]})},hi=({research:e,entityId:n,titleColIndex:a,descriptionColIndex:s,linkColIndex:r,imageColIndex:o,isLoading:l})=>{const[i,d]=qa({threshold:.3,triggerOnce:!0}),u=e.values[o]??"",c=dn(u||"",n);return l?t.jsx(F,{variant:"rectangular",width:"100%",sx:{height:{xs:"250px",sm:"500px",md:"600px",lg:"800px"}}}):t.jsxs(R,{ref:i,children:[t.jsx(Fr,{in:d,timeout:fi,children:t.jsx(un,{component:"img",image:c,"aria-hidden":"true",sx:{objectFit:"cover",borderRadius:"10px",marginBottom:"30px"}})}),t.jsxs(H,{useFlexGap:!0,sx:{gap:"16px"},children:[t.jsx(I,{variant:"headline2",sx:{color:"grey.1000",fontSize:{xs:"24px",md:"36px"}},children:t.jsx(G,{href:e.values[r]??"",target:"_blank",sx:{color:"grey.1000",textDecoration:"none","&:hover":{textDecoration:"none"}},children:e.values[a]})}),t.jsx(I,{sx:{fontSize:"18px",lineHeight:"22.4px"},children:e.values[s]??""}),t.jsx(G,{href:e.values[r]??"",target:"_blank",children:"Read more"})]})]})};function Kn(e){const{sql:n}=e,a=de(n),s={partMask:Le|Z,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:a,query:{sql:n}},{data:r,isLoading:o}=va(s),l=(r==null?void 0:r.queryResult.queryResults.rows)??[];let i;(S=>{S.TITLE="title",S.DESCRIPTION="description",S.PUBLICATION_DATE="publicationDate",S.IMAGE="image",S.LINK="link"})(i||(i={}));const d=re("title",r),u=re("description",r),c=re("publicationDate",r),p=re("image",r),m=re("link",r),g=l[0],h=l.slice(1),y=t.jsx(Ea,{title:"Featured Research",sx:{h2:{fontSize:"24px",paddingBottom:0,width:"100%"}}});return t.jsxs(R,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"1fr 1fr"},gap:{xs:"30px",md:"40px"},padding:{xs:"40px",lg:"80px"}},children:[t.jsx(R,{sx:{display:{md:"none"}},children:y}),t.jsx(R,{children:g&&t.jsx(hi,{entityId:a,research:g,titleColIndex:d,isLoading:o,descriptionColIndex:u,publicationDateColIndex:c,imageColIndex:p,linkColIndex:m})}),t.jsxs(H,{children:[t.jsx(R,{sx:{display:{xs:"none",md:"block"}},children:y}),t.jsx(H,{sx:{gap:"16px"},children:h.map((S,f)=>t.jsx(gi,{entityId:a,research:S,isLoading:o,titleColIndex:d,descriptionColIndex:u,publicationDateColIndex:c,imageColIndex:p,linkColIndex:m},f))})]})]})}try{Kn.displayName="FeaturedResearch",Kn.__docgenInfo={description:"",displayName:"FeaturedResearch",props:{sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}}}}}catch{}const Ke=({backgroundCss:e,buttonLink:n,title:a,subTitle:s,description:r,backgroundMp4:o,backgroundMp4Css:l,textAreaWidth:i="746px"})=>t.jsxs(R,{"data-testid":"HeaderContainer",sx:{background:e,padding:{xs:0,md:"50px 80px"},position:"relative"},children:[o&&t.jsxs(R,{component:"video",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"fill",zIndex:-1,background:l},children:[t.jsx("source",{src:o,type:"video/mp4"}),"Your browser does not support the video tag."]}),t.jsxs(H,{sx:{alignItems:"flex-start",padding:{xs:"40px",md:"40px 0"},gap:"24px",width:{sm:"100%",md:i}},children:[t.jsx(I,{variant:"headline2",sx:{fontWeight:300,lineHeight:"130%",fontSize:{xs:"36px",md:"42px"},color:"grey.1000"},children:a}),t.jsx(I,{variant:"headline3",sx:{fontSize:"24px",fontWeight:"400",lineHeight:"160%",color:"grey.1000"},children:s}),t.jsx(I,{sx:{fontSize:"18px",lineHeight:"140%",color:"grey.900"},children:r}),n&&t.jsx(W,{href:n,target:"_blank",variant:"contained",role:"button",sx:d=>({whiteSpace:"nowrap",alignSelf:"flex-start",padding:"6px 24px",fontWeight:600,boxShadow:"0px 16px 16px 0px rgba(0, 0, 0, 0.10), 0px 4px 4px 0px rgba(0, 0, 0, 0.10), 0px 1px 1px 0px rgba(0, 0, 0, 0.10)","&:hover":{boxShadow:"0px 16px 16px 0px rgba(0, 0, 0, 0.10), 0px 4px 4px 0px rgba(0, 0, 0, 0.10), 0px 1px 1px 0px rgba(0, 0, 0, 0.10)"},[d.breakpoints.down("sm")]:{width:"100%"}}),children:"Learn more"})]})]});try{Ke.displayName="PortalHomePageHeader",Ke.__docgenInfo={description:"",displayName:"PortalHomePageHeader",props:{backgroundCss:{defaultValue:null,description:"",name:"backgroundCss",required:!0,type:{name:"string"}},buttonLink:{defaultValue:null,description:"",name:"buttonLink",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"React.ReactNode"}},subTitle:{defaultValue:null,description:"",name:"subTitle",required:!0,type:{name:"React.ReactNode"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"React.ReactNode"}},backgroundMp4:{defaultValue:null,description:"",name:"backgroundMp4",required:!1,type:{name:"string"}},backgroundMp4Css:{defaultValue:null,description:"",name:"backgroundMp4Css",required:!1,type:{name:"string"}},textAreaWidth:{defaultValue:{value:"746px"},description:"",name:"textAreaWidth",required:!1,type:{name:"string"}}}}}catch{}try{Ke.displayName="PortalHomePageHeader",Ke.__docgenInfo={description:"",displayName:"PortalHomePageHeader",props:{backgroundCss:{defaultValue:null,description:"",name:"backgroundCss",required:!0,type:{name:"string"}},buttonLink:{defaultValue:null,description:"",name:"buttonLink",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"React.ReactNode"}},subTitle:{defaultValue:null,description:"",name:"subTitle",required:!0,type:{name:"React.ReactNode"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"React.ReactNode"}},backgroundMp4:{defaultValue:null,description:"",name:"backgroundMp4",required:!1,type:{name:"string"}},backgroundMp4Css:{defaultValue:null,description:"",name:"backgroundMp4Css",required:!1,type:{name:"string"}},textAreaWidth:{defaultValue:{value:"746px"},description:"",name:"textAreaWidth",required:!1,type:{name:"string"}}}}}catch{}const Jn=101,Xn=156,xi=({website:e,children:n})=>{const a={display:"flex",alignItems:"center",justifyContent:"center"};return e?t.jsx(G,{href:e,target:"_blank",sx:{...a,textDecoration:"none !important"},children:n}):t.jsx(R,{sx:a,children:n})},bi=({partner:e,imageColIndex:n,organizationNameColIndex:a,websiteColIndex:s,entityId:r,isLoading:o})=>{const l=e.values[n]??"",i=e.values[a],d=e.values[s],u=dn(l,r);if(!u&&!i)return null;if(o)return t.jsx(F,{variant:"rectangular",height:Jn,width:Xn});const c=u?t.jsx(un,{component:"img",image:u,"aria-hidden":"true",sx:{width:`${Xn}px`,height:`${Jn}px`,objectFit:"contain",borderRadius:"10px"}}):t.jsx(R,{sx:{display:"flex",width:"165px",padding:"3px",flexDirection:"column",gap:"10px",border:"2px solid",borderColor:"grey.900",backgroundColor:"#FFF",textAlign:"center"},children:t.jsx(R,{sx:{display:"flex",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",border:"1px solid",borderColor:"grey.900"},children:t.jsx(I,{variant:"headline3",sx:{fontSize:"14px",fontWeight:400,lineHeight:"130%",color:"grey.900"},children:i})})});return t.jsx(xi,{website:d,children:c})},Zn=({sql:e,titleText:n="Our Partners",variation:a="default",sx:s})=>{const r=de(e),o={partMask:Le|Z,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:r,query:{sql:e}},{data:l,isLoading:i}=va(o),d=(l==null?void 0:l.queryResult.queryResults.rows)??[];let u;(g=>{g.CARDLOGO="cardLogo",g.ORGANIZATION_NAME="organizationName",g.WEBSITE="website"})(u||(u={}));const c=re("cardLogo",l),p=re("organizationName",l),m=re("website",l);return t.jsxs(R,{sx:{display:"grid",padding:{xs:"40px",lg:"20px 80px"},gridTemplateColumns:a==="centered"?{xs:"1fr"}:{xs:"1fr",md:"1fr 3fr"},gap:"50px",textAlign:a==="centered"?"center":"left",...s},children:[a==="default"?t.jsx(Ea,{title:n,sx:{h2:{fontSize:"24px",paddingTop:"26px",width:"100%"}}}):t.jsx(I,{variant:"headline1",sx:{fontSize:"48px",color:"grey.900"},children:n}),t.jsx(R,{sx:g=>({display:"flex",flexWrap:"wrap",gap:"64px",flex:"1 1 0",justifyContent:a==="centered"?"center":"flex-start",[g.breakpoints.down("sm")]:{justifyContent:"center"}}),children:d==null?void 0:d.map((g,h)=>t.jsx(bi,{partner:g,imageColIndex:c,organizationNameColIndex:p,websiteColIndex:m,entityId:r,isLoading:i},`partner-${h}`))})]})};try{Zn.displayName="PortalFeaturedPartners",Zn.__docgenInfo={description:"",displayName:"PortalFeaturedPartners",props:{variation:{defaultValue:{value:"default"},description:"",name:"variation",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"centered"'}]}},sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},titleText:{defaultValue:{value:"Our Partners"},description:"",name:"titleText",required:!1,type:{name:"string"}},sx:{defaultValue:null,description:"",name:"sx",required:!1,type:{name:"SxProps"}}}}}catch{}function we(e){const{addToDownloadListRequest:n,onClose:a}=e,{downloadCartPageUrl:s}=Gt(),{data:r,isLoading:o,error:l}=cs({concreteType:"org.sagebionetworks.repo.model.download.AddToDownloadListStatsRequest",request:n}),{mutate:i,isPending:d}=ps({onSuccess:()=>{Ys(s),a()},onError:p=>{kr(p.reason,"danger"),a()}}),u=r==null?void 0:r.fileCount,c=r==null?void 0:r.fileSize;return l?t.jsx(Er,{error:l}):t.jsx(Gs,{onAddToDownloadCart:()=>i(n),fileCount:u,fileSize:c,isAddingToDownloadCart:d,isLoadingStats:o,onCancel:a})}try{we.displayName="AddToDownloadListConfirmationAlert",we.__docgenInfo={description:`A component that displays a confirmation alert when adding multiple items to the download list though a container or
query.`,displayName:"AddToDownloadListConfirmationAlert",props:{addToDownloadListRequest:{defaultValue:null,description:'The "AddToDownloadListRequest" that would be used to add items to the download list.',name:"addToDownloadListRequest",required:!0,type:{name:"AddToDownloadListRequest"}},onClose:{defaultValue:null,description:"Invoked when the dialog is closed, either by cancelling or successfully adding to the download list.",name:"onClose",required:!0,type:{name:"() => void"}}}}}catch{}const Si=[ie.project,ie.folder,ie.dataset,ie.datasetcollection],vi=[ie.entityview],Ci=[ie.dataset,ie.datasetcollection];function At({entityId:e,versionNumber:n,handleClose:a,onIsLoadingChange:s}){const{data:r,isLoading:o}=pe(e),l=r!=null&&r.concreteType?Ar(r.concreteType):void 0;x.useEffect(()=>{s(o)},[o,s]);const i=x.useMemo(()=>{if(!l)return null;if(vi.includes(l))return{concreteType:"org.sagebionetworks.repo.model.download.AddToDownloadListRequest",query:{sql:`select * from ${e}${n!=null?`.${n}`:""}`}};if(Si.includes(l)){const d=Ci.includes(l);return{concreteType:"org.sagebionetworks.repo.model.download.AddToDownloadListRequest",parentId:e,useVersionNumber:d}}return null},[l,e,n]);return i?t.jsx("div",{children:t.jsx(we,{addToDownloadListRequest:i,onClose:a})}):null}try{At.displayName="EntityDownloadConfirmation",At.__docgenInfo={description:`A component that allows users to add an entity to the download cart. It displays a confirmation dialog that displays
statistics about the set of items that will be added to the download cart.`,displayName:"EntityDownloadConfirmation",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}},onIsLoadingChange:{defaultValue:null,description:"",name:"onIsLoadingChange",required:!0,type:{name:"(isLoading: boolean) => void"}},handleClose:{defaultValue:null,description:"",name:"handleClose",required:!0,type:{name:"() => void"}}}}}catch{}try{EntityDownloadConfirmation.displayName="EntityDownloadConfirmation",EntityDownloadConfirmation.__docgenInfo={description:`A component that allows users to add an entity to the download cart. It displays a confirmation dialog that displays
statistics about the set of items that will be added to the download cart.`,displayName:"EntityDownloadConfirmation",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}},onIsLoadingChange:{defaultValue:null,description:"",name:"onIsLoadingChange",required:!0,type:{name:"(isLoading: boolean) => void"}},handleClose:{defaultValue:null,description:"",name:"handleClose",required:!0,type:{name:"() => void"}}}}}catch{}function Ni({synapseEntityConfig:e,getColumnValue:n,rowId:a,rowVersionNumber:s}){return x.useMemo(()=>{var l,i,d,u;let r,o;if(((l=e==null?void 0:e.id)==null?void 0:l.source)==="rowId"?a!==void 0&&(r=`syn${a}`):((i=e==null?void 0:e.id)==null?void 0:i.source)==="column"&&(r=n(e.id.columnName)),((d=e==null?void 0:e.version)==null?void 0:d.source)==="rowVersionNumber")s!==void 0&&Number.isInteger(s)&&(o=s);else if(((u=e==null?void 0:e.version)==null?void 0:u.source)==="column"){const c=n(e.version.columnName);if(c!==void 0&&c!==""){const p=Number(c);!Number.isNaN(p)&&Number.isInteger(p)&&(o=p)}}return{entityId:r,entityVersionNumber:o}},[e,n,a,s])}function Ti(e){const{synapseId:n,version:a}=e;return t.jsxs("span",{children:[a,"Â Â ",t.jsx("a",{target:rs.NEW_WINDOW,rel:"noopener noreferrer",href:`${$e.PORTAL}Synapse:${n}.${a}`,children:"(Show Version History on Synapse)"})]})}function Dt(e){var Nn;const[n,a]=x.useState(!1),[s,r]=x.useState(!1),{entityId:o,versionNumber:l}=E(),{getColumnDisplayName:i}=O(),{ref:d,inView:u}=qa(),{data:c}=pe(o,l),{schema:p,data:m,rowId:g,versionNumber:h,genericCardSchema:y,secondaryLabelLimit:S,sharePageLinkButtonProps:f,selectColumns:b,columnModels:v,iconOptions:C,useTypeColumnForIcon:N=!1,isHeader:T=!1,sustainabilityScorecard:w,headerCardVariant:k,titleLinkConfig:V,ctaLinkConfig:_,labelLinkConfig:A,descriptionConfig:U,columnIconOptions:q,CardTypeAdornment:$}=e,{link:z="",type:K,includeCitation:ee,includeShareButton:ve,defaultCitationFormat:tt,citationBoilerplateText:nt,downloadCartSynId:Ce,portalDoiConfiguration:te}=y,Fe=m[p[y.title]];let me=y.subTitle&&m[p[y.subTitle]];me=y.subTitle&&Me({value:me,columnName:y.subTitle,selectColumns:b,columnModels:v}).str;const at=m[p[y.description||""]],rt=m[p[y.icon||""]],j=m[p[y.dataTypeIconNames||""]],D=m[p[y.imageFileHandleColumnName||""]],Ne=v==null?void 0:v.find(P=>y.link===P.name),$a=Ne==null?void 0:Ne.columnType,fn=m[p[z]]||"",{href:za,target:Ha}=jn(fn,V,m,p,g),Wa=y.synapseEntityConfig,gn=x.useCallback(P=>{if(!P)return;const B=p[P];if(B!==void 0)return m[B]},[p,m]),{entityId:st,entityVersionNumber:ot}=Ni({synapseEntityConfig:Wa,getColumnValue:gn,rowId:g,rowVersionNumber:h});let Te=st,hn=ot;if(Ce){const P=Dr(gn(Ce)??"");Te=P==null?void 0:P.targetId,hn=P==null?void 0:P.targetVersionNumber}const Ga=x.useMemo(()=>ls(m,p),[m,p]),it=_o({data:Ga,portalDoiConfiguration:te}),Ya=To({portalId:te==null?void 0:te.portalId,resourceId:it}),_e=[],{secondaryLabels:xn=[]}=y,Ee=y.customSecondaryLabelConfig;if(Ya&&te&&it&&u&&_e.push({columnDisplayName:"DOI",value:t.jsx(St,{portalId:te.portalId,resourceId:it})}),Ee!=null&&Ee.isVisible(p,m)){const{key:P,value:B}=Ee;Te?_e.push({columnDisplayName:"HOW TO DOWNLOAD",value:t.jsx(G,{onClick:()=>a(ne=>!ne),children:"Click here to add to Synapse download cart"})}):_e.push({columnDisplayName:P,value:B})}const Ka=c&&!Mr(c);for(let P=0;P<xn.length;P+=1){const B=xn[P],ne=m[p[B]];let Re=ne,ke;if(Re){if(Or(c)&&B==="datasetSizeInBytes")ke="Size",Re=Ca(parseInt(ne));else if(Ka&&B==="currentVersion"){const ut=m[p.id];Re=t.jsx(Ti,{synapseId:ut,version:ne}),ke="Version"}else{const ut=A==null?void 0:A.find(Za=>Za.matchColumnName===B);Re=t.jsx(vs,{value:ne,columnName:B,labelLink:ut,isHeader:T,selectColumns:b,columnModels:v,rowData:m}),ke=i(B)}_e.push({columnDisplayName:ke,value:Re,columnName:B})}}const lt=as(c,D||fn,m[p.id]),Ja=i(y.description||""),bn=De("doi",b,v),Sn=bn!==void 0?m[bn]:void 0;let dt,vn;if(_){const P=m[p[_.link]]||"",{href:B,target:ne}=jn(P,void 0,m,p,g);dt=B,vn=ne}let Cn=t.jsx(t.Fragment,{});st!=null&&ot!=null&&(Cn=t.jsx(bt,{datasetId:st,datasetVersionNumber:ot}));const Xa=$?t.jsx($,{schema:p,data:m}):null;return t.jsx(Cs,{ref:d,icon:t.jsx(ss,{type:N?m[p.type]:y.type,useTypeForIcon:N,thumbnailRequiresPadding:y.thumbnailRequiresPadding,imageFileHandleId:D,fileHandleAssociation:lt,iconOptions:C,iconValue:rt}),isHeader:T,sustainabilityScorecard:w,headerCardVariant:k,type:K,title:Fe,subtitle:me,titleLinkConfiguration:{target:Ha,href:za},cardTypeAdornment:Xa,titleAsFileHandleLinkConfiguration:!V&&$a===oe.FILEHANDLEID&&lt?{fileHandleAssociation:lt,showDownloadIcon:K!==Br}:void 0,ctaLinkConfig:_&&dt?{text:_==null?void 0:_.text,href:dt,target:vn}:void 0,description:at,descriptionSubTitle:Ja,descriptionConfig:U,labels:_e,secondaryLabelLimit:S,columnIconOptions:q,useStylesForDisplayedImage:!!D,cardTopContent:Te&&t.jsx(Kt,{in:n,children:t.jsx(At,{entityId:Te,versionNumber:hn,handleClose:()=>a(!1),onIsLoadingChange:P=>{r(P)}})}),renderedIconList:((Nn=q==null?void 0:q.columns)==null?void 0:Nn.dataType)&&(j==null?void 0:j.length)&&t.jsx("div",{style:{marginTop:"20px"},children:t.jsx(Ks,{iconConfigs:q.columns.dataType,iconNames:JSON.parse(j),commonIconProps:{sx:{fontSize:"40px"}},useBackground:!0,useTheme:!0})}),cardTopButtons:t.jsxs(R,{sx:{display:"flex",gap:1},children:[Cn,Te&&t.jsx(cn,{onClick:()=>a(P=>!P),variant:"outlined",startIcon:t.jsx(ya,{sx:{height:"12px"}}),loading:s,children:"Download"}),ee&&Sn&&t.jsx(vt,{title:Fe,doi:Sn,boilerplateText:nt,defaultCitationFormat:tt}),ve&&T&&t.jsx(Js,{...f})]})})}try{Dt.displayName="TableRowGenericCard",Dt.__docgenInfo={description:"Maps a table row to a GenericCard.",displayName:"TableRowGenericCard",props:{}}}catch{}const Qa="Unknown",_i=e=>e<1e6?e.toLocaleString():new Intl.NumberFormat([],{minimumFractionDigits:1,maximumFractionDigits:2,notation:"compact",localeMatcher:"best fit"}).format(e),le=(e,n,a)=>{const s=e[a];let r;return s===void 0?(console.error(`Could not find column named ${a}`),r=null):r=n[s],r},Ri=(e,n,a)=>a.map(s=>{const{columnName:r,label:o}=s,l=le(e,n,r);return{label:o,value:l?_i(Number(l)):Qa}}),Vi=(e,n,a)=>{const s=le(e,n,a);return{label:"Date of release",value:s?tn(Se(Number(s)),"MM/DD/YYYY"):Qa}},Ua=(e,n,a,s)=>({releaseName:le(e,n,a.releaseNameColumnName),releaseEntityId:le(e,n,a.releaseEntityIdColumnName),releaseDate:Vi(e,n,a.releaseDateColumnName),stats:Ri(e,n,s)}),wi=(e,n,a,s)=>{const r=s?[...s]:[];return a&&a.forEach(o=>{const l=o.sourceTableColumnName,i=l?le(e,n,l):null;i&&r.push({facet:o.destinationTableColumnName,facetValue:i})}),r},ea=(e,n,a)=>{if(!a)return null;const s=le(e,n,a.sourceTablePathColumnName);if(!s)return console.warn(`Column not found in source table or cell did not have value in source table for ${a.sourceTablePathColumnName}`),null;const{sourceTableSqlColumnName:r,selectedFacetConfigs:o,staticSelectedFacets:l}=a,i=r?le(e,n,r):null,d=wi(e,n,o,l);return i&&d.length>0?Co(s,i,d):s};function ta({value:e,label:n}){return t.jsxs(H,{direction:"column",sx:{alignItems:"center",padding:{xs:"20px 10px",md:"20px 40px"},gap:"10px",width:{xs:"unset",lg:"200px"}},children:[t.jsx(I,{variant:"headline1",children:e}),t.jsx(I,{variant:"body1",sx:{lineHeight:"20px",color:"grey.700"},children:n})]})}function Mt({data:e,schema:n,includePortalCardClass:a=!0,releaseCardConfig:s}){const{releaseName:r,releaseDate:o,stats:l}=Ua(n,e,s.releaseMetadataConfig,s.statsConfig),{primaryBtnConfig:i,secondaryBtnConfig:d}=s,u=ea(n,e,i),c=ea(n,e,d);return r===null?t.jsx(t.Fragment,{}):t.jsx(R,{className:`ReleaseCard ${a?"SRC-portalCard":""}`,sx:{minWidth:"200px"},children:t.jsxs(H,{direction:{xs:"column",lg:"row"},sx:{justifyContent:"space-between",gap:"20px",padding:"20px"},children:[t.jsxs(H,{direction:"column",sx:{gap:"20px"},children:[t.jsxs(H,{direction:"row",sx:{alignItems:"center",gap:"10px"},children:[t.jsx(ho,{sx:{color:"grey.700"}}),t.jsxs(I,{variant:"headline1",children:[s.prependRelease&&"Release ",r]})]}),t.jsxs(H,{direction:{xs:"column",sm:"row"},sx:{alignItems:{xs:"flex-start",sm:"center"},gap:"20px"},children:[i&&u&&t.jsx(W,{component:gt,variant:"contained",color:"primary",to:u,children:i.label}),d&&c&&t.jsx(W,{component:gt,to:c,children:d.label})]})]}),t.jsx(Be,{})," ",t.jsxs(H,{direction:"row",sx:{gap:{xs:0,lg:"10px"},alignItems:"center",justifyContent:{xs:"space-evenly",lg:"unset"},flexWrap:{xs:"wrap",lg:"nowrap"}},children:[t.jsx(ta,{...o}),l.map(p=>t.jsxs(x.Fragment,{children:[t.jsx(Be,{orientation:"vertical",flexItem:!0}),t.jsx(ta,{...p})]},p.label))]})]})})}try{Mt.displayName="ReleaseCardLarge",Mt.__docgenInfo={description:"",displayName:"ReleaseCardLarge",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string[]"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ReleaseCardSchema"}},includePortalCardClass:{defaultValue:{value:"true"},description:"",name:"includePortalCardClass",required:!1,type:{name:"boolean"}},releaseCardConfig:{defaultValue:null,description:"",name:"releaseCardConfig",required:!0,type:{name:"ReleaseCardLargeConfig"}}}}}catch{}function Ii({value:e,label:n}){return t.jsxs(t.Fragment,{children:[t.jsx(R,{sx:{gridColumn:"span 1",gridRow:"span 1",justifySelf:"flex-end"},children:t.jsx(I,{variant:"body1",sx:{lineHeight:"20px"},children:e})}),t.jsx(R,{sx:{gridColumn:"span 1",gridRow:"span 1",justifySelf:"flex-start"},children:t.jsx(I,{variant:"body1",sx:{lineHeight:"20px",color:"grey.700"},children:n})})]})}function Ot({data:e,schema:n,includePortalCardClass:a=!0,releaseCardConfig:s}){const{releaseName:r,releaseEntityId:o,releaseDate:l,stats:i}=Ua(n,e,s.releaseMetadataConfig,s.statsConfig);if(r===null)return t.jsx(t.Fragment,{});const d=2,u=`span ${d}`,c=i.length+4;return t.jsxs(R,{className:`ReleaseCard ${a?"SRC-portalCard":""}`,sx:{display:"grid",gridTemplateColumns:`repeat(${d}, 1fr)`,columnGap:"10px",gridTemplateRows:"subgrid",gridRow:`span ${c}`,rowGap:"0px",alignItems:"center",justifyItems:"center",textAlign:"center",padding:"30px 40px 40px",my:0},children:[t.jsx(R,{sx:{gridColumn:u,gridRow:"span 1",alignSelf:"end"},children:t.jsx(I,{variant:"headline1",children:r})}),t.jsx(R,{sx:{gridColumn:u,gridRow:"span 1",mb:"30px"},children:t.jsx(I,{variant:"body1",sx:{lineHeight:"20px",fontStyle:"italic",color:"grey.800"},children:`Released ${l.value}`})}),i.map(p=>t.jsx(Ii,{...p},p.label)),t.jsx(R,{sx:{gridColumn:u,gridRow:"span 1",mt:"20px",mb:"5px"},children:t.jsx(W,{component:gt,to:s.requestAccessPath,sx:{fontSize:"14px"},children:"Request Access"})}),t.jsx(R,{sx:{gridColumn:u,gridRow:"span 1"},children:o&&t.jsx(G,{href:`${$e.PORTAL}Synapse:${o}`,target:"_blank",rel:"noreferrer",sx:{fontSize:"14px",textDecoration:"none"},children:"View on Synapse.org"})})]})}try{Ot.displayName="ReleaseCardMedium",Ot.__docgenInfo={description:"",displayName:"ReleaseCardMedium",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string[]"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ReleaseCardSchema"}},includePortalCardClass:{defaultValue:{value:"true"},description:"",name:"includePortalCardClass",required:!1,type:{name:"boolean"}},releaseCardConfig:{defaultValue:null,description:"",name:"releaseCardConfig",required:!0,type:{name:"ReleaseCardMediumConfig"}}}}}catch{}function Ie(e){const{releaseCardConfig:n,...a}=e;switch(n.cardSize){case"large":return t.jsx(Mt,{releaseCardConfig:n,...a});case"medium":return t.jsx(Ot,{releaseCardConfig:n,...a});default:return console.error("No size specified for ReleaseCard"),t.jsx("div",{})}}try{Ie.displayName="ReleaseCard",Ie.__docgenInfo={description:`Specialized Release Card, initially implemented for the GENIE portal.
Expects columns used to define release metadata (entity id, name, date)
as well as statistics columns and columns for defining a button to explore data
as defined in the releaseCardConfig`,displayName:"ReleaseCard",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ReleaseCardSchema"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string[]"}},includePortalCardClass:{defaultValue:null,description:"",name:"includePortalCardClass",required:!1,type:{name:"boolean"}},releaseCardConfig:{defaultValue:null,description:"",name:"releaseCardConfig",required:!0,type:{name:"ReleaseCardConfig"}}}}}catch{}try{Ie.displayName="ReleaseCard",Ie.__docgenInfo={description:`Specialized Release Card, initially implemented for the GENIE portal.
Expects columns used to define release metadata (entity id, name, date)
as well as statistics columns and columns for defining a button to explore data
as defined in the releaseCardConfig`,displayName:"ReleaseCard",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ReleaseCardSchema"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string[]"}},includePortalCardClass:{defaultValue:null,description:"",name:"includePortalCardClass",required:!1,type:{name:"boolean"}},releaseCardConfig:{defaultValue:null,description:"",name:"releaseCardConfig",required:!0,type:{name:"ReleaseCardConfig"}}}}}catch{}class qe extends x.Component{constructor(a){super(a);L(this,"handleLinkClick",a=>s=>{s.preventDefault(),window.open(`${$e.PORTAL}Synapse:${a}`,"_blank")});this.handleLinkClick=this.handleLinkClick.bind(this)}render(){const{data:a,schema:s,selectColumns:r,columnModels:o,genericCardSchema:l,queryVisualizationContext:{getColumnDisplayName:i}}=this.props,d=a[s.datasetName],u=a[s.summary],c=Me({columnName:"tumorType",value:a[s.tumorType],selectColumns:r,columnModels:o}).str,p=Me({columnName:"diseaseFocus",value:a[s.diseaseFocus],selectColumns:r,columnModels:o}).str,m=a[s.id],g=a[s.fundingAgency],h=a[s.fileCount],y=Ca(a[s.fileSize]),S=[{columnDisplayName:"FUNDER",value:Me({columnName:"fundingAgency",value:g,selectColumns:r,columnModels:o}).str},{columnDisplayName:"SIZE",value:y},{columnDisplayName:"FILES",value:h}];if(l&&l.secondaryLabels){const{secondaryLabels:f}=l;for(let b=0;b<f.length;b++){const v=f[b],C=a[s[v]];let N;C&&(N=i(v),S.push({columnDisplayName:N,value:C,columnName:v}))}}return t.jsxs("div",{className:"SRC-portalCard SRC-typeDataset  ",children:[t.jsxs("div",{className:"SRC-cardThumbnail",children:[t.jsx(ja,{type:Na}),t.jsx("div",{children:y})]}),t.jsxs("div",{className:"SRC-cardContent SRC-dataset",children:[t.jsx("div",{className:"SRC-type",children:"Dataset "}),t.jsx("div",{children:t.jsx("h3",{children:t.jsx("a",{target:"_self",href:`${$e.PORTAL}Synapse:${m}`,children:d})})}),t.jsxs("div",{className:"SRC-description-dataset",children:[t.jsx("p",{className:"SRC-description-text",children:u}),t.jsx("div",{className:"SRC-cardAction",children:t.jsx(W,{className:"SRC-datasetButton",onClick:this.handleLinkClick(m),color:"secondary",variant:"contained",children:"Download Dataset"})})]}),t.jsx("div",{className:"SRC-cardAnnotations",children:t.jsx(Es,{chips:[c,p]})})]}),t.jsx(ks,{isHeader:!1,secondaryLabelLimit:this.props.secondaryLabelLimit,values:S})]})}}try{qe.displayName="Dataset",qe.__docgenInfo={description:"",displayName:"Dataset",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"TableToGenericCardMapping"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}}}}}catch{}class Bt extends x.Component{constructor(a){super(a);L(this,"handleLinkClick",a=>s=>{s.preventDefault(),window.open(a,"_blank")});this.handleLinkClick=this.handleLinkClick.bind(this)}render(){const{data:a,schema:s}=this.props,r=a[s.organizationName],o=a[s.organizationPath],l=a[s.summary],i=a[s.website],d=a[s.logo];let u=i.replace("https://","");u=u.replace("http://",""),u.charAt(u.length-1)==="/"&&(u=u.substring(0,u.length-1));const c=window.location.hash.substring(1)===o,p={};let m;return c?p.paddingBottom="42px":m=t.jsx("div",{className:"SRC-marginAuto SRC-cardAction",children:t.jsx(rn,{href:o,variant:"contained",color:"secondary",children:"View Funded Research"})}),t.jsxs("div",{className:"SRC-portalCard SRC-typeFunder ",style:p,children:[t.jsxs("div",{className:"SRC-cardContent",children:[t.jsx("div",{className:"SRC-type",children:"Organization"}),d&&t.jsx("div",{className:"SRC-cardThumbnail",children:t.jsx("img",{alt:"funder logo",className:"SRC-logo",src:d})}),t.jsx("div",{children:t.jsxs("h3",{children:[c&&r,!c&&t.jsx("a",{href:o,children:r})]})}),t.jsx("div",{className:"SRC-website",children:t.jsx("a",{rel:"noopener noreferrer",target:"_blank",href:i,children:u})}),t.jsx("div",{className:"SRC-description",children:l})]}),m]})}}try{Bt.displayName="Funder",Bt.__docgenInfo={description:"",displayName:"Funder",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}}}}}catch{}try{qe.displayName="Dataset",qe.__docgenInfo={description:"",displayName:"Dataset",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"TableToGenericCardMapping"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}}}}}catch{}try{rowrenderers.displayName="rowrenderers",rowrenderers.__docgenInfo={description:"",displayName:"rowrenderers",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}}}}}catch{}function Qt({data:e,schema:n,includePortalCardClass:a=!0}){const s=e[n.observationSubmitterName],r=e[n.synapseId],o=e[n.observationTime],l=e[n.observationTimeUnits],i=e[n.observationText],d=e[n.observationType],u=JSON.parse(d??""),c=e[n.doi];return t.jsxs("div",{className:`ObservationCard ${a?"SRC-portalCard":""}`,children:[t.jsxs("div",{className:"ObservationCard__submitter",children:[!r&&t.jsx("div",{children:s}),r&&t.jsx(Hs,{userId:r})]}),o&&t.jsxs("div",{className:"ObservationCard__time",children:[t.jsx(X,{icon:"time"}),t.jsx("span",{children:`${o} ${l}`})]}),i&&t.jsx("div",{className:"ObservationCard__text",children:t.jsx(Bs,{summary:i})}),c&&t.jsx("div",{className:"ObservationCard__doi",children:t.jsx(G,{href:c,target:"_blank",children:"Reference"})}),t.jsx("div",{className:"ObservationCard__tags",children:d&&u.map((p,m)=>t.jsx("span",{className:"SRC-tag",style:{marginRight:"5px"},children:p},m))})]})}function qi(){return t.jsxs("div",{className:"SRC-portalCard ObservationCard",children:[t.jsx("div",{className:"ObservationCard__submitter",children:t.jsx("span",{children:t.jsx(F,{width:"100px"})})}),t.jsx("div",{className:"ObservationCard__time",children:t.jsx(X,{icon:"time"})}),t.jsx("div",{className:"ObservationCard__text",children:t.jsx(ys,{numCols:1,numRows:4})}),t.jsx("div",{className:"ObservationCard__tags",children:t.jsx(F,{width:"80px"})})]})}try{Qt.displayName="ObservationCard",Qt.__docgenInfo={description:`Specialized Observation Card, initially implemented for the NF portal.
Expects the following columns: submitterName, submitterUserId, time, timeUnits, text, and tag.`,displayName:"ObservationCard",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ObservationCardSchema"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string[]"}},includePortalCardClass:{defaultValue:{value:"true"},description:"",name:"includePortalCardClass",required:!1,type:{name:"boolean"}}}}}catch{}const ji={display:"block"},Pi={display:"grid",gridTemplateColumns:"repeat(auto-fill, 272px)",gridAutoRows:"auto",gridAutoFlow:"row",gap:"10px",mb:"30px"},Li={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gridColumnGap:"20px",marginBottom:"20px",marginTop:"20px","& .SRC-portalCard":{margin:"10px 0px"}};function Fi(e){const{propsToPass:n,type:a}=e;switch(a){case Na:return t.jsx(qe,{...n});case $r:return t.jsx(Bt,{...n});case Ur:return t.jsx(Dt,{...n});case Ue:return t.jsx(Qt,{...n});case Ta:return t.jsx(Ie,{...n});default:return t.jsx("div",{})}}function Ei(e){var C;const{unitDescription:n,type:a,secondaryLabelLimit:s=3,title:r,rowSet:o,multiCardList:l,...i}=e,{NoContentPlaceholder:d}=O(),u=E(),{data:c}=ce(),p=O(),m=o.rows,g=m.length>1,h=[o.tableId],y=Kr({ids:h,type:"ENTITY_HEADER"});if(m.length===0)return t.jsx(d,{});const S={};o.headers.forEach((N,T)=>{S[N.name]=T});let f;if(a===qn){const N=o.headers.findIndex(w=>w.columnType===oe.USERID);if(N===-1)throw Error("Type MEDIUM_USER_CARD specified but no columnType USERID found");const T=m.map(w=>w.values[N]);f=t.jsx(Ws,{rowSet:o,list:T,size:qn})}else f=m.length?m.map((N,T)=>{const w={type:a,schema:S,secondaryLabelLimit:s,rowId:N.rowId,versionNumber:N.versionNumber,data:N.values,selectColumns:o.headers,columnModels:c.columnModels,tableEntityConcreteType:y[0]&&y[0].type,tableId:o.tableId,queryContext:u,queryVisualizationContext:p,...i};return t.jsx(Fi,{propsToPass:w,type:a},N.rowId??T)}):t.jsx(t.Fragment,{});const b=e.type===Ta&&((C=e.releaseCardConfig)==null?void 0:C.cardSize)==="medium";let v=ji;return b?v=Pi:l&&g&&(v=Li),t.jsx(t.Fragment,{children:t.jsxs(R,{role:"list",sx:v,children:[r&&t.jsx("h2",{className:"SRC-card-overview-title",children:r}),!r&&n&&t.jsx(pn,{frontText:"Displaying"}),f]})})}function Ut(e){const n=t.jsxs("div",{children:[e.type===Ue&&t.jsx(qi,{}),e.type!==Ue&&Qr]});return t.jsx(x.Suspense,{fallback:n,children:t.jsx(Ei,{...e})})}try{Ut.displayName="CardContainer",Ut.__docgenInfo={description:"",displayName:"CardContainer",props:{}}}catch{}function ki(){const{showLastUpdatedOn:e}=O(),{data:n}=ce();return e&&n&&n.lastUpdatedOn?t.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:t.jsxs(I,{variant:"body1Italic",children:["Last updated on ",tn(Se(n.lastUpdatedOn))]})}):t.jsx(t.Fragment,{})}function Ai(){const{showLastUpdatedOn:e}=O();return e?t.jsx(x.Suspense,{fallback:t.jsx(F,{width:100}),children:t.jsx(ki,{})}):t.jsx(t.Fragment,{})}function Je(e){const{progressMessage:n}=e;return t.jsxs(R,{sx:{my:7.5,mx:15},children:[t.jsx(zr,{}),n&&t.jsx(I,{variant:"smallText1",sx:{color:"grey.600",fontSize:"10px",textAlign:"center",my:1},children:n})]})}try{Je.displayName="QueryWrapperLoadingScreen",Je.__docgenInfo={description:"",displayName:"QueryWrapperLoadingScreen",props:{progressMessage:{defaultValue:null,description:"",name:"progressMessage",required:!1,type:{name:"string"}}}}}catch{}const Di=()=>{const{goToPage:e,pageSize:n,setPageSize:a,currentPage:s,currentQueryRequest:r}=E(),o=Qs(),{data:{queryCount:l,maxRowsPerPage:i}}=ce(),d=r.query.limit,u=i??n,c=[10,25,100,500];d&&!c.includes(d)&&(c.push(d),c.sort((y,S)=>y-S));const p=c.filter(y=>y<u);p.length==0&&(p.push(u),i&&n>i&&a(i));const m=(y,S)=>{e(S)},g=y=>{const S=y.target.value;a(S)},h=x.useCallback(y=>{const S=x.forwardRef(function(b,v){return t.jsx("button",{ref:v,...b,onMouseOver:()=>{y.page&&o(y.page)}})});return t.jsx(Aa,{...y,component:S})},[o]);return s==1&&l==1&&n!=1||l==null?null:t.jsxs("div",{children:[t.jsx(fo,{page:s,count:Math.ceil(l/n),color:"secondary",onChange:m,shape:"rounded",sx:{display:"inline-block",float:"left",".MuiPaginationItem-root":{fontSize:"14px"}},renderItem:h}),t.jsx(I,{variant:"body1",style:{display:"inline-block"},children:`${l==null?void 0:l.toLocaleString()} total rows /`}),t.jsx(Sa,{name:"page size",value:n,size:"small",onChange:g,sx:{ml:.5},children:p.map(y=>t.jsxs(ge,{value:y,children:[y," per page"]},y))})]})};function Mi(){return x.useMemo(()=>{if(typeof navigator>"u"||!navigator.userAgent)return!1;const e=navigator.userAgent.toLowerCase();return["bot","crawler","spider","crawling","google","bing","yahoo","baidu","yandex","duckduckbot","slurp","teoma","ia_archiver","bingpreview","facebookexternalhit","twitterbot","rogerbot","linkedinbot","embedly","quora link preview","showyoubot","outbrain","pinterest","slackbot","vkshare","w3c_validator","redditbot","applebot","whatsapp","flipboard","tumblr","bitlybot","skypeuripreview","nuzzel","discordbot","qwantify","pinterestbot","bitrix"].some(a=>e.includes(a))},[])}function $t(e){const{hasNextPage:n,fetchNextPage:a,isFetchingNextPage:s,initialLimit:r,initialLimitIsApplied:o,onRemoveInitialLimit:l}=e,{data:{queryCount:i}}=ce(),d=Mi();return x.useEffect(()=>{o&&r!=null&&i!=null&&l!=null&&r>=i&&l()},[o,r,i,l]),x.useEffect(()=>{d&&n&&!s&&a()},[d,n,s,a]),o||n?t.jsx(R,{sx:{display:"flex",justifyContent:"flex-start"},children:t.jsx(rn,{variant:"contained",color:"secondary",size:"large",onClick:()=>{o&&l!=null?l():a()},disabled:s,children:s?t.jsx(pa,{size:24}):"View More"})}):null}try{$t.displayName="ViewMoreQueryResultsButton",$t.__docgenInfo={description:"",displayName:"ViewMoreQueryResultsButton",props:{hasNextPage:{defaultValue:null,description:"",name:"hasNextPage",required:!0,type:{name:"boolean"}},fetchNextPage:{defaultValue:null,description:"",name:"fetchNextPage",required:!0,type:{name:"() => void"}},isFetchingNextPage:{defaultValue:null,description:"",name:"isFetchingNextPage",required:!0,type:{name:"boolean"}},initialLimit:{defaultValue:null,description:"",name:"initialLimit",required:!1,type:{name:"number"}},initialLimitIsApplied:{defaultValue:null,description:"",name:"initialLimitIsApplied",required:!1,type:{name:"boolean"}},onRemoveInitialLimit:{defaultValue:null,description:"",name:"onRemoveInitialLimit",required:!1,type:{name:"() => void"}}}}}catch{}function Oi(){var o;const{isInfinite:e,rowDataInfiniteQueryOptions:n}=E(),a=kn({...n,enabled:e}),s=kn({...n,select:l=>l.pages[0].progressMessage,enabled:e}),r=x.useMemo(()=>{var i,d,u,c,p;const l=ga((c=(u=(d=(i=a.data)==null?void 0:i.pages[0])==null?void 0:d.responseBody)==null?void 0:u.queryResult)==null?void 0:c.queryResults);return l&&(l.rows=((p=a.data)==null?void 0:p.pages.flatMap(m=>{var g,h;return((h=(g=m.responseBody)==null?void 0:g.queryResult)==null?void 0:h.queryResults.rows)||[]}))||[]),l},[(o=a.data)==null?void 0:o.pages]);return{infiniteQuery:a,infiniteQueryRowSet:r,infiniteQueryProgressMessage:s}}function Bi(){const{isInfinite:e,rowDataQueryOptions:n,getCurrentQueryRequest:a}=E(),s=ft({...n,enabled:!e,placeholderData:o=>{if(o&&Hr(o.requestBody.query,a().query))return o}}),r=ft({...n,select:o=>o.progressMessage,enabled:!e,placeholderData:o=>o});return{paginatedQuery:s,paginatedQueryProgressMessage:r}}function Qi(e){const{isInfinite:n}=E(),{paginatedQuery:a,paginatedQueryProgressMessage:s}=Bi(),{infiniteQuery:r,infiniteQueryRowSet:o,infiniteQueryProgressMessage:l}=Oi(),i=x.useMemo(()=>{let p;return n?p=o:p=a.data,p&&e!=null&&(p={...p,rows:p.rows.slice(0,e)}),p},[o,e,n,a.data]),d=n?l.data:s.data,u=n?r.isLoading:a.isLoading,c=n?r.isFetchingNextPage:a.isPlaceholderData;return{rowSet:i,progressMessage:d,isLoading:u,isLoadingNewPage:c,fetchNextPageOfInfiniteData:r.fetchNextPage,hasNextPageOfInfiniteData:r.hasNextPage}}function je(e){const{cardConfiguration:n,hideDownload:a,initialLimit:s,multiCardList:r}=e,[o,l]=x.useState(s!=null),{isInfinite:i}=E(),d=Xs(e.tableConfiguration?{...e.tableConfiguration,hideDownload:a}:void 0),{rowSet:u,progressMessage:c,isLoading:p,isLoadingNewPage:m,fetchNextPageOfInfiniteData:g,hasNextPageOfInfiniteData:h}=Qi(o?s:void 0);return t.jsx(Jt,{children:t.jsxs("div",{className:"RowSetView",children:[p&&t.jsx(Je,{progressMessage:c}),!p&&u&&t.jsxs(x.Suspense,{fallback:t.jsx(Je,{progressMessage:c}),children:[d&&t.jsx(Us,{...d,rowSet:u,isLoadingNewPage:m}),n&&t.jsx(Ut,{...n,rowSet:u,multiCardList:r})]}),t.jsxs(x.Suspense,{fallback:t.jsx(t.Fragment,{}),children:[!i&&t.jsx(R,{sx:{mt:2,textAlign:"right"},children:t.jsx(Di,{})}),i&&t.jsx($t,{initialLimit:s,initialLimitIsApplied:o,onRemoveInitialLimit:()=>{l(!1)},fetchNextPage:()=>{g()},hasNextPage:h,isFetchingNextPage:m})]}),t.jsx(Ai,{})]})})}try{je.displayName="RowSetView",je.__docgenInfo={description:`Renders a table or cards representing the RowSet. Also displays appropriate pagination controls
depending on the value of QueryContext.isInfinite.`,displayName:"RowSetView",props:{tableConfiguration:{defaultValue:null,description:"",name:"tableConfiguration",required:!1,type:{name:"SynapseTableConfiguration"}},cardConfiguration:{defaultValue:null,description:"",name:"cardConfiguration",required:!1,type:{name:"CardConfiguration"}},initialLimit:{defaultValue:null,description:"",name:"initialLimit",required:!1,type:{name:"number"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}},multiCardList:{defaultValue:null,description:"",name:"multiCardList",required:!1,type:{name:"boolean"}}}}}catch{}function zt(e){var c;const{sql:n}=e,a=((c=e.query)==null?void 0:c.sql)??n??"",s=de(a),{sortConfig:r,columnAliases:o,topLevelEnumeratedFacetToFilter:l}=e,i=x.useMemo(()=>r?[{column:r.defaultColumn,direction:r.defaultDirection}]:void 0,[r]),d=x.useMemo(()=>{let p;if(e.query)p={sort:i,limit:Qe,...e.query};else{const m=Ze(e.searchParams,e.sqlOperator,e.additionalFiltersSessionStorageKey);p={sql:e.sql,limit:e.limit??Qe,sort:i,additionalFilters:m}}return{concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:s,query:p,partMask:Z|Xe|Le|xa|Xt|Zt|ba|en}},[i,s,e.additionalFiltersSessionStorageKey,e.limit,e.query,e.searchParams,e.sql,e.sqlOperator]),u=JSON.stringify(d);return x.createElement(nn,{...e,initQueryRequest:d,isInfinite:!0,key:u},t.jsx(an,{rgbIndex:e.rgbIndex,unitDescription:e.unitDescription,columnAliases:o,noContentPlaceholderType:e.noContentPlaceholderType??ze.STATIC,children:t.jsxs(Ra,{children:[r&&t.jsx(xt,{sortConfig:r}),l&&t.jsx(ht,{topLevelEnumeratedFacetToFilter:l}),t.jsx(je,{cardConfiguration:e.cardConfiguration,initialLimit:e.initialLimit,multiCardList:e.multiCardList})]})}))}try{zt.displayName="CardContainerLogic",zt.__docgenInfo={description:"Class wraps around CardContainer and serves as a standalone logic container for rendering cards.",displayName:"CardContainerLogic",props:{query:{defaultValue:null,description:"The initial SQL query which will be used to populate the data in the component",name:"query",required:!1,type:{name:"Query"}},sql:{defaultValue:null,description:"@deprecated use `query`",name:"sql",required:!1,type:{name:"string"}},limit:{defaultValue:null,description:"Optional limit for the number of cards shown per page\n@deprecated use `query",name:"limit",required:!1,type:{name:"number"}},searchParams:{defaultValue:null,description:"Applies filters to the query where the key is the column name and the value is the value to filter on.\nThe filter function is controlled by sqlOperator.\n@deprecated use `query`",name:"searchParams",required:!1,type:{name:"Record<string, string>"}},sqlOperator:{defaultValue:null,description:"Operator used in the filter created using the searchParams prop\n@deprecated use `query`",name:"sqlOperator",required:!1,type:{name:"SQLOperator"}},title:{defaultValue:null,description:"Optional title to display above the component",name:"title",required:!1,type:{name:"string"}},isAlignToLeftNav:{defaultValue:null,description:"",name:"isAlignToLeftNav",required:!1,type:{name:"boolean"}},sortConfig:{defaultValue:null,description:"Provide a `SortConfiguration` that can be used to render UI to toggle the sorting of the cards.",name:"sortConfig",required:!1,type:{name:"SortConfiguration"}},topLevelEnumeratedFacetToFilter:{defaultValue:null,description:"Configuration used to render UI that can be used to alter a filter against a column with enumerated facets.",name:"topLevelEnumeratedFacetToFilter",required:!1,type:{name:"UniqueFacetIdentifier"}},lockedColumn:{defaultValue:null,description:"Optional column to 'lock'; Values and filter controls for a locked column will not be displayed in the UI.",name:"lockedColumn",required:!1,type:{name:"LockedColumn"}},initialLimit:{defaultValue:null,description:"Optionally limit the initial number of cards shown on the first page",name:"initialLimit",required:!1,type:{name:"number"}},multiCardList:{defaultValue:null,description:"",name:"multiCardList",required:!1,type:{name:"boolean"}},cardConfiguration:{defaultValue:null,description:"",name:"cardConfiguration",required:!0,type:{name:"CardConfiguration"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},columnAliases:{defaultValue:null,description:"Mapping from column name to the name that should be shown for the column",name:"columnAliases",required:!1,type:{name:"Record<string, string>"}},noContentPlaceholderType:{defaultValue:null,description:"Default is INTERACTIVE",name:"noContentPlaceholderType",required:!1,type:{name:"enum",value:[{value:'"INTERACTIVE"'},{value:'"STATIC"'},{value:'"HIDDEN"'}]}},unitDescription:{defaultValue:null,description:'The singular word to use to describe a what a row represents (e.g. "file"). Defaults to "result"',name:"unitDescription",required:!1,type:{name:"string"}},additionalFiltersSessionStorageKey:{defaultValue:null,description:`Look for additional filters using the given key.  If not provided, the entity ID will be used.
@deprecated - configure the filter before passing a query`,name:"additionalFiltersSessionStorageKey",required:!1,type:{name:"string"}}}}}catch{}export{zt as C,At as E,Un as Q,$n as S,Hn as T};
