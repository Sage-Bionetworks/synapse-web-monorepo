import{j as a}from"./jsx-runtime-DmKnoNQ-.js";import{a as Be}from"./useGetEntityChildren-CElurTeB.js";import{r as g,R as We}from"./index-BFCc_wv0.js";import{E as M,D as be,w as Q}from"./VerificationSubmission-B0kBNeMy.js";import{l as Ie,bX as Ue}from"./useFiles-Bmp6q2a5.js";import{Q as we,f as He,g as R,D as Se,p as Ke}from"./StringUtils-CzgJJW-6.js";import{u as Qe}from"./utils-DGVs3mxC.js";import{S as $e,m as Ge,u as Ye,g as Xe,c as Ze}from"./StyledTanStackTable-mFg0nTSu.js";import{r as Je}from"./index-HtDB6D_8.js";import{B as et,S as tt}from"./LoadingScreen-Dss2jdRB.js";import{C as N}from"./ColumnHeader-BmdopooI.js";import{n as nt}from"./noop-DX6rZLP_.js";import{u as F}from"./useEntityBundle-XRt2kLqf.js";import"./OrientationBanner-DLwSvgHC.js";import{b as it}from"./useDownloadList-b8PMw7Xg.js";import{d as st}from"./DownloadConfirmationUtils-IQ32REVf.js";import{I as De}from"./IconSvg-B9gKbZZL.js";import{d as Ne}from"./ToastMessage-DUxKDZ7T.js";import{T as q}from"./Tooltip-BESuS2go.js";import{I as lt}from"./IconButton-CtoYFknA.js";import{f as rt}from"./DateFormatter-CGSLLo7Z.js";import{d as ot}from"./dayjs.min-TSt401mi.js";import{S as j}from"./Skeleton-DlWq6871.js";import{E as at}from"./EntityBadgeIcons-9sDi4GT9.js";import{C as Re}from"./Checkbox-DMC-mLOV.js";import{r as dt}from"./useEntity-CPu8XF_g.js";import{S as ct}from"./TextField-By_yrC4v.js";import{E as ut}from"./EntityIcon-xech4xo-.js";import{F as ht}from"./FileEntityDirectDownload-5tAXog9V.js";import{u as mt}from"./useMutation-CGxyo7St.js";import{c as ft}from"./calculateFriendlyFileSize-BHEbv2lr.js";import{U as pt}from"./UserBadge-QnRVD905.js";import{H as gt}from"./HelpPopover-MZkTJiIu.js";import{S as yt}from"./Stack-CilMpvcP.js";function bt(i,l,e,n,t,s,r){if(i.length===0||l===0)return!1;{const o=i.every(d=>e(d)||!n(d));if(o&&t&&s&&!r)return s(),!1;{if(r)return!1;const d=i.some(c=>n(c));return o&&d}}}function St(i,l,e,n,t,s,r){const[o,d]=g.useState(!1);return g.useEffect(()=>{d(bt(i,l,e,n,t,s,r))},[i,l,s,t,e,n,r]),o}function z(i,l,e){let n=e.initialDeps??[],t;function s(){var r,o,d,c;let u;e.key&&((r=e.debug)!=null&&r.call(e))&&(u=Date.now());const f=i();if(!(f.length!==n.length||f.some((E,_)=>n[_]!==E)))return t;n=f;let v;if(e.key&&((o=e.debug)!=null&&o.call(e))&&(v=Date.now()),t=l(...f),e.key&&((d=e.debug)!=null&&d.call(e))){const E=Math.round((Date.now()-u)*100)/100,_=Math.round((Date.now()-v)*100)/100,y=_/16,x=(D,O)=>{for(D=String(D);D.length<O;)D=" "+D;return D};console.info(`%c⏱ ${x(_,5)} /${x(E,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*y,120))}deg 100% 31%);`,e==null?void 0:e.key)}return(c=e==null?void 0:e.onChange)==null||c.call(e,t),t}return s.updateDeps=r=>{n=r},s}function $(i,l){if(i===void 0)throw new Error("Unexpected undefined");return i}const Ct=(i,l)=>Math.abs(i-l)<=1,Et=(i,l,e)=>{let n;return function(...t){i.clearTimeout(n),n=i.setTimeout(()=>l.apply(this,t),e)}},Ce=i=>{const{offsetWidth:l,offsetHeight:e}=i;return{width:l,height:e}},vt=i=>i,_t=i=>{const l=Math.max(i.startIndex-i.overscan,0),e=Math.min(i.endIndex+i.overscan,i.count-1),n=[];for(let t=l;t<=e;t++)n.push(t);return n},Tt=(i,l)=>{const e=i.scrollElement;if(!e)return;const n=i.targetWindow;if(!n)return;const t=r=>{const{width:o,height:d}=r;l({width:Math.round(o),height:Math.round(d)})};if(t(Ce(e)),!n.ResizeObserver)return()=>{};const s=new n.ResizeObserver(r=>{const o=()=>{const d=r[0];if(d!=null&&d.borderBoxSize){const c=d.borderBoxSize[0];if(c){t({width:c.inlineSize,height:c.blockSize});return}}t(Ce(e))};i.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return s.observe(e,{box:"border-box"}),()=>{s.unobserve(e)}},Ee={passive:!0},ve=typeof window>"u"?!0:"onscrollend"in window,xt=(i,l)=>{const e=i.scrollElement;if(!e)return;const n=i.targetWindow;if(!n)return;let t=0;const s=i.options.useScrollendEvent&&ve?()=>{}:Et(n,()=>{l(t,!1)},i.options.isScrollingResetDelay),r=u=>()=>{const{horizontal:f,isRtl:p}=i.options;t=f?e.scrollLeft*(p&&-1||1):e.scrollTop,s(),l(t,u)},o=r(!0),d=r(!1);d(),e.addEventListener("scroll",o,Ee);const c=i.options.useScrollendEvent&&ve;return c&&e.addEventListener("scrollend",d,Ee),()=>{e.removeEventListener("scroll",o),c&&e.removeEventListener("scrollend",d)}},It=(i,l,e)=>{if(l!=null&&l.borderBoxSize){const n=l.borderBoxSize[0];if(n)return Math.round(n[e.options.horizontal?"inlineSize":"blockSize"])}return i[e.options.horizontal?"offsetWidth":"offsetHeight"]},wt=(i,{adjustments:l=0,behavior:e},n)=>{var t,s;const r=i+l;(s=(t=n.scrollElement)==null?void 0:t.scrollTo)==null||s.call(t,{[n.options.horizontal?"left":"top"]:r,behavior:e})};class Dt{constructor(l){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const n=()=>e||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:e=new this.targetWindow.ResizeObserver(t=>{t.forEach(s=>{const r=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(r):r()})}));return{disconnect:()=>{var t;(t=n())==null||t.disconnect(),e=null},observe:t=>{var s;return(s=n())==null?void 0:s.observe(t,{box:"border-box"})},unobserve:t=>{var s;return(s=n())==null?void 0:s.unobserve(t)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([n,t])=>{typeof t>"u"&&delete e[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:vt,rangeExtractor:_t,onChange:()=>{},measureElement:It,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...e}},this.notify=e=>{var n,t;(t=(n=this.options).onChange)==null||t.call(n,this,e)},this.maybeNotify=z(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((e=this.scrollElement)==null?void 0:e.window)??null,this.elementsCache.forEach(t=>{this.observer.observe(t)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,t=>{this.scrollRect=t,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(t,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<t?"forward":"backward":null,this.scrollOffset=t,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,n)=>{const t=new Map,s=new Map;for(let r=n-1;r>=0;r--){const o=e[r];if(t.has(o.lane))continue;const d=s.get(o.lane);if(d==null||o.end>d.end?s.set(o.lane,o):o.end<d.end&&t.set(o.lane,!0),t.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((r,o)=>r.end===o.end?r.index-o.index:r.end-o.end)[0]:void 0},this.getMeasurementOptions=z(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(e,n,t,s,r)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:n,scrollMargin:t,getItemKey:s,enabled:r}),{key:!1}),this.getMeasurements=z(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:n,scrollMargin:t,getItemKey:s,enabled:r},o)=>{if(!r)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(u=>{this.itemSizeCache.set(u.key,u.size)}));const d=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,d);for(let u=d;u<e;u++){const f=s(u),p=this.options.lanes===1?c[u-1]:this.getFurthestMeasurement(c,u),v=p?p.end+this.options.gap:n+t,E=o.get(f),_=typeof E=="number"?E:this.options.estimateSize(u),y=v+_,x=p?p.lane:u%this.options.lanes;c[u]={index:u,start:v,size:_,end:y,key:f,lane:x}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=z(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(e,n,t,s)=>this.range=e.length>0&&n>0?Nt({measurements:e,outerSize:n,scrollOffset:t,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=z(()=>{let e=null,n=null;const t=this.calculateRange();return t&&(e=t.startIndex,n=t.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,n]},(e,n,t,s,r)=>s===null||r===null?[]:e({startIndex:s,endIndex:r,overscan:n,count:t}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const n=this.options.indexAttribute,t=e.getAttribute(n);return t?parseInt(t,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(e,n)=>{const t=this.indexFromElement(e),s=this.measurementsCache[t];if(!s)return;const r=s.key,o=this.elementsCache.get(r);o!==e&&(o&&this.observer.unobserve(o),this.observer.observe(e),this.elementsCache.set(r,e)),e.isConnected&&this.resizeItem(t,this.options.measureElement(e,n,this))},this.resizeItem=(e,n)=>{const t=this.measurementsCache[e];if(!t)return;const s=this.itemSizeCache.get(t.key)??t.size,r=n-s;r!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(t,r,this):t.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(t.index),this.itemSizeCache=new Map(this.itemSizeCache.set(t.key,n)),this.notify(!1))},this.measureElement=e=>{if(!e){this.elementsCache.forEach((n,t)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(t))});return}this._measureElement(e,void 0)},this.getVirtualItems=z(()=>[this.getVirtualIndexes(),this.getMeasurements()],(e,n)=>{const t=[];for(let s=0,r=e.length;s<r;s++){const o=e[s],d=n[o];t.push(d)}return t},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const n=this.getMeasurements();if(n.length!==0)return $(n[Oe(0,n.length-1,t=>$(n[t]).start,e)])},this.getOffsetForAlignment=(e,n,t=0)=>{const s=this.getSize(),r=this.getScrollOffset();n==="auto"&&(n=e>=r+s?"end":"start"),n==="center"?e+=(t-s)/2:n==="end"&&(e-=s);const o=this.getTotalSize()-s;return Math.max(Math.min(o,e),0)},this.getOffsetForIndex=(e,n="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const t=this.measurementsCache[e];if(!t)return;const s=this.getSize(),r=this.getScrollOffset();if(n==="auto")if(t.end>=r+s-this.options.scrollPaddingEnd)n="end";else if(t.start<=r+this.options.scrollPaddingStart)n="start";else return[r,n];const o=n==="end"?t.end+this.options.scrollPaddingEnd:t.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,n,t.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(e,{align:n="start",behavior:t}={})=>{this.cancelScrollToIndex(),t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,n),{adjustments:void 0,behavior:t})},this.scrollToIndex=(e,{align:n="auto",behavior:t}={})=>{e=Math.max(0,Math.min(e,this.options.count-1)),this.cancelScrollToIndex(),t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const s=this.getOffsetForIndex(e,n);if(!s)return;const[r,o]=s;this._scrollToOffset(r,{adjustments:void 0,behavior:t}),t!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(e))){const[c]=$(this.getOffsetForIndex(e,o)),u=this.getScrollOffset();Ct(c,u)||this.scrollToIndex(e,{align:o,behavior:t})}else this.scrollToIndex(e,{align:o,behavior:t})}))},this.scrollBy=(e,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var e;const n=this.getMeasurements();let t;if(n.length===0)t=this.options.paddingStart;else if(this.options.lanes===1)t=((e=n[n.length-1])==null?void 0:e.end)??0;else{const s=Array(this.options.lanes).fill(null);let r=n.length-1;for(;r>=0&&s.some(o=>o===null);){const o=n[r];s[o.lane]===null&&(s[o.lane]=o.end),r--}t=Math.max(...s.filter(o=>o!==null))}return Math.max(t-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:n,behavior:t})=>{this.options.scrollToFn(e,{behavior:t,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(l)}}const Oe=(i,l,e,n)=>{for(;i<=l;){const t=(i+l)/2|0,s=e(t);if(s<n)i=t+1;else if(s>n)l=t-1;else return t}return i>0?i-1:0};function Nt({measurements:i,outerSize:l,scrollOffset:e,lanes:n}){const t=i.length-1,s=d=>i[d].start;if(i.length<=n)return{startIndex:0,endIndex:t};let r=Oe(0,t,s,e),o=r;if(n===1)for(;o<t&&i[o].end<e+l;)o++;else if(n>1){const d=Array(n).fill(0);for(;o<t&&d.some(u=>u<e+l);){const u=i[o];d[u.lane]=u.end,o++}const c=Array(n).fill(e+l);for(;r>=0&&c.some(u=>u>=e);){const u=i[r];c[u.lane]=u.start,r--}r=Math.max(0,r-r%n),o=Math.min(t,o+(n-1-o%n))}return{startIndex:r,endIndex:o}}const _e=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Rt(i){const l=g.useReducer(()=>({}),{})[1],e={...i,onChange:(t,s)=>{var r;s?Je.flushSync(l):l(),(r=i.onChange)==null||r.call(i,t,s)}},[n]=g.useState(()=>new Dt(e));return n.setOptions(e),_e(()=>n._didMount(),[]),_e(()=>n._willUpdate()),n}function Ot(i){return Rt({observeElementRect:Tt,observeElementOffset:xt,scrollToFn:wt,...i})}const Ve=We.createContext(void 0);function G(i){const{row:l,tableRow:e,...n}=i,t=g.useContext(Ve);return a.jsx("tr",{"data-index":l.index,ref:s=>t==null?void 0:t.measureElement(s),...n,style:{...n.style,display:"flex",position:"absolute",transform:`translateY(${l.start}px)`,width:"100%",alignItems:"center"}})}function Y(i){const{table:l,styledTableContainerProps:e,fullWidth:n=!0,rowVirtualizer:t,slotProps:s={},onTableContainerScroll:r=nt}=i,o=t.getVirtualItems();return a.jsx(Ve.Provider,{value:t,children:a.jsx($e,{table:l,rows:o,rowTransform:d=>l.getRowModel().rows[d.index],fullWidth:n,styledTableContainerProps:{noStripedRows:!0,...e,style:{overflow:"auto",position:"relative",...e==null?void 0:e.style},sx:{"thead > tr":{display:"flex",width:"100%"}},onScroll:d=>r(d.target)},...e,slots:{Tr:G},slotProps:Ge(s,{Table:{style:{display:"grid"}},Thead:{style:{display:"grid",position:"sticky",top:0,zIndex:1}},Th:{style:{display:"flex"}},Tbody:{style:{display:"grid",height:`${t.getTotalSize()}px`,position:"relative"}}})})})}try{G.displayName="VirtualizedTr",G.__docgenInfo={description:"A table row component modified to be used with",displayName:"VirtualizedTr",props:{row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"VirtualItem"}},tableRow:{defaultValue:null,description:`Data corresponding to the table row. This may be different from row. E.g., the row may be a pointer to virtualized data.
If TRowType is not a Tanstack Table Row, then the rowTransform prop passed to TableBody must convert a row to a tableRow.

Note: this may be undefined if the virtualized list has not been populated`,name:"tableRow",required:!1,type:{name:"Row<TData>"}}}}}catch{}try{Y.displayName="StyledVirtualTanStackTable",Y.__docgenInfo={description:"Stylized table component that is compatible with",displayName:"StyledVirtualTanStackTable",props:{fullWidth:{defaultValue:null,description:"",name:"fullWidth",required:!1,type:{name:"boolean"}},table:{defaultValue:null,description:"",name:"table",required:!0,type:{name:"Table<T>"}},slotProps:{defaultValue:null,description:"",name:"slotProps",required:!1,type:{name:"StyledTanStackTableSlotProps<T, VirtualItem>"}},styledTableContainerProps:{defaultValue:null,description:"",name:"styledTableContainerProps",required:!1,type:{name:"StyledTableContainerProps"}},rowVirtualizer:{defaultValue:null,description:"",name:"rowVirtualizer",required:!0,type:{name:"Virtualizer<any, any>"}},onTableContainerScroll:{defaultValue:null,description:"",name:"onTableContainerScroll",required:!1,type:{name:"(target: EventTarget) => void"}}}}}catch{}var S=(i=>(i.DISALLOWED="DISALLOWED",i.REQUIRED="REQUIRED",i.TRACKED="TRACKED",i.UNTRACKED="UNTRACKED",i))(S||{});function X(i){const{row:l}=i,{entityId:e,versionNumber:n}=l.original,{data:t}=F(e,n),{downloadCartPageUrl:s}=Ie(),{mutate:r}=it({onSuccess:()=>{st(s)},onError:o=>{Ne(o.reason,"danger")}});return(t==null?void 0:t.entityType)!==M.FILE?a.jsx(a.Fragment,{}):a.jsx(q,{title:"Add to Download Cart",placement:"right",children:a.jsx(lt,{sx:{height:"35px",width:"35px"},onClick:o=>{r({entityId:e,entityVersionNumber:n}),o.stopPropagation()},children:a.jsx(De,{icon:"download"})})})}try{X.displayName="AddFileToDownloadListCell",X.__docgenInfo={description:"",displayName:"AddFileToDownloadListCell",props:{}}}catch{}function P({cellData:i}){return a.jsx(a.Fragment,{children:(i&&rt(ot(i)))??a.jsx(a.Fragment,{})})}try{P.displayName="DateCell",P.__docgenInfo={description:"",displayName:"DateCell",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!1,type:{name:"string"}}}}}catch{}function Z(i){var t;const{row:l}=i,{data:e,isLoading:n}=F(l.original.entityId,l.original.versionNumber);return n?a.jsx(j,{width:200}):a.jsx(P,{...i,cellData:(t=e==null?void 0:e.entity)==null?void 0:t.createdOn})}try{Z.displayName="CreatedOnCell",Z.__docgenInfo={description:"Renders 'createdOn' from the entity bundle.",displayName:"CreatedOnCell",props:{}}}catch{}function J(i){const{row:l}=i;return a.jsx(at,{entityId:l.original.entityId,versionNumber:l.original.versionNumber,showHasDiscussionThread:!1,showHasWiki:!1,showUnlink:!1,canOpenModal:!1})}try{J.displayName="EntityBadgeIconsCell",J.__docgenInfo={description:"Renders Entity Badges using the entity bundle.",displayName:"EntityBadgeIconsCell",props:{}}}catch{}function ee(i){const{row:l}=i,{entityId:e,isSelected:n,isDisabled:t}=l.original;return t?null:a.jsx(Re,{inputProps:{"aria-label":`Select ${e}`},checked:n,onChange:()=>{}})}try{ee.displayName="EntityFinderCheckboxCell",ee.__docgenInfo={description:"",displayName:"EntityFinderCheckboxCell",props:{}}}catch{}function Vt(i,l){let e="Latest",n="";return we(l)&&(l===M.DATASET?(e="Draft",n="Stable Version"):(e="Current",n="Snapshot")),i===S.TRACKED?`Always ${e} Version`:i===S.REQUIRED?a.jsxs(a.Fragment,{children:[e,a.jsx(De,{icon:"helpOutlineTwoTone",label:`No ${n} exists. The ${e} version will be referenced until a new ${n} is created.`,sx:{width:"12px",paddingLeft:"0.2rem"}})]}):`${e} Version`}function te(i){const{context:l,toggleSelection:e,versionSelection:n}=i,{row:t}=l,{id:s,entityType:r,isVersionableEntity:o,isSelected:d,currentSelectedVersion:c}=t.original,u=-1,{data:f}=dt(s,{enabled:o,staleTime:60*1e3}),p=(f==null?void 0:f.pages.flatMap(y=>y.results))??[];g.useEffect(()=>{d&&n==S.REQUIRED&&c==null&&p.length>0&&e({targetId:s,targetVersionNumber:p[0].versionNumber})},[c,s,d,n,e,p]);const v=n===S.TRACKED||n===S.UNTRACKED&&we(r),E=Vt(n,r);if(!d||!o)return a.jsx(a.Fragment,{});const _=c??u;return a.jsx("div",{children:p&&p.length>0?a.jsxs(ct,{native:!0,fullWidth:!0,value:_,onClick:y=>{y.stopPropagation()},sx:{height:"30px"},onChange:y=>{y.stopPropagation();const x=parseInt(y.target.value);e({targetId:s,targetVersionNumber:x===u?void 0:x})},children:[v&&a.jsx("option",{value:u,children:E}),p.map(y=>a.jsxs("option",{value:y.versionNumber,children:["Version ",y.versionNumber]},y.versionNumber))]}):E})}try{te.displayName="EntityFinderVersionCell",te.__docgenInfo={description:"",displayName:"EntityFinderVersionCell",props:{context:{defaultValue:null,description:"",name:"context",required:!0,type:{name:"CellContext<EntityFinderTableViewRowData, any>"}},versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}}}}}catch{}function ne(i){const{getValue:l}=i;return a.jsx(ut,{className:"EntityFinderTableCellEntityIcon",type:l()})}try{ne.displayName="EntityTypeCell",ne.__docgenInfo={description:"",displayName:"EntityTypeCell",props:{}}}catch{}function ie(i){const{row:l}=i;return a.jsx(ht,{entityId:l.original.entityId,entityVersionNumber:l.original.versionNumber,stopPropagation:!0})}try{ie.displayName="FileEntityDirectDownloadCell",ie.__docgenInfo={description:"",displayName:"FileEntityDirectDownloadCell",props:{}}}catch{}function se(i){const{row:l}=i,{data:e,isLoading:n}=F(l.original.entityId,l.original.versionNumber),{mutate:t}=mt({mutationFn:r=>He(r),onSuccess:()=>Ne("MD5 copied to the clipboard","success")});if(n)return a.jsx(j,{width:200});const s=e==null?void 0:e.fileHandles.find(r=>r.isPreview!==!0);return(s==null?void 0:s.contentMd5)==null?a.jsx(a.Fragment,{}):a.jsx(q,{title:"Click to copy MD5 to your clipboard",placement:"right",children:a.jsx("button",{className:"md5Button","aria-label":"MD5",onClick:r=>{r.stopPropagation(),t((s==null?void 0:s.contentMd5)??"")},children:s==null?void 0:s.contentMd5})})}try{se.displayName="FileEntityMD5Cell",se.__docgenInfo={description:"",displayName:"FileEntityMD5Cell",props:{}}}catch{}function le(i){const{row:l}=i,{data:e,isLoading:n}=F(l.original.entityId,l.original.versionNumber);if(n)return a.jsx(j,{width:200});const t=e==null?void 0:e.fileHandles.find(r=>r.isPreview!==!0),s=t!=null&&t.contentSize?ft(t==null?void 0:t.contentSize):"";return a.jsx("span",{children:s})}try{le.displayName="FileEntitySizeCell",le.__docgenInfo={description:"",displayName:"FileEntitySizeCell",props:{}}}catch{}function re({cellData:i}){return i?a.jsx(pt,{userId:i,openLinkInNewTab:!0}):a.jsx(a.Fragment,{})}try{re.displayName="UserBadgeCell",re.__docgenInfo={description:"",displayName:"UserBadgeCell",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!1,type:{name:"string"}}}}}catch{}function oe(i){const{row:l}=i,{data:e,isLoading:n}=F(l.original.entityId,l.original.versionNumber);return n?a.jsx(j,{width:200}):a.jsx(re,{...i,cellData:e==null?void 0:e.entity.modifiedBy})}try{oe.displayName="ModifiedByCell",oe.__docgenInfo={description:"Renders 'modifiedBy' from the entity bundle.",displayName:"ModifiedByCell",props:{}}}catch{}function ae(i){const{row:l}=i,{data:e,isLoading:n}=F(l.original.entityId,l.original.versionNumber);return n?a.jsx(j,{width:200}):a.jsx(P,{...i,cellData:e==null?void 0:e.entity.modifiedOn})}try{ae.displayName="ModifiedOnCell",ae.__docgenInfo={description:"Renders 'modifiedOn' from the entity bundle.",displayName:"ModifiedOnCell",props:{}}}catch{}const Te="Choose which version of this item you would like to reference.",At="Choose which version of this item you would like to perform this action on.",zt='If you would like the selection to update as new versions are created, choose "Always Latest Version".';function de(i){const{versionSelection:l}=i;let e="";switch(l){case S.REQUIRED:e=Te;break;case S.TRACKED:e=Te+" "+zt;break;case S.UNTRACKED:e=At;break;case S.DISALLOWED:}return a.jsxs(yt,{direction:"row",alignItems:"center",children:[a.jsx("span",{children:"Version"}),a.jsx(gt,{className:"SRC-margin-left-5",markdownText:e,placement:"right"})]})}try{de.displayName="VersionColumnHeader",de.__docgenInfo={description:"",displayName:"VersionColumnHeader",props:{versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}}}}}catch{}var T=(i=>(i.NAME="name",i.ENTITY_TYPE="entityType",i.ID="id",i.CREATED_ON="createdOn",i.MODIFIED_ON="modifiedOn",i.MODIFIED_BY="modifiedBy",i.ADD_TO_DOWNLOAD_CART="addToDownloadCart",i.DIRECT_DOWNLOAD="directDownload",i.SELECTED="selected",i.VERSION="version",i.SIZE="size",i.MD5="md5",i.BADGES="badges",i))(T||{});const C=Ze();function Mt(i){const{context:l,setCurrentContainer:e}=i,{row:n,getValue:t}=l,s=t();return e&&Ke(n.original.entityType)?a.jsx("span",{role:"link",className:"EntityFinderTableCellContainerLink",onClick:r=>{r.stopPropagation(),e(n.original.id)},children:a.jsx(q,{title:s,children:a.jsx("span",{className:"nameColumnCell",children:s})})}):a.jsx(q,{title:s,children:a.jsx("span",{className:"nameColumnCell",children:s})})}function Ft(i){const{isVisible:l,disabled:e,checked:n,onSelectAll:t}=i;return l?a.jsx(Re,{inputProps:{"aria-label":"Select All"},checked:n,disabled:e,onChange:()=>{t()}}):null}function jt(i){const{setCurrentContainer:l,isSelectAllVisible:e,isSelectAllDisabled:n,isSelectAllChecked:t,onSelectAll:s,versionSelection:r,toggleSelection:o,sortableColumns:d=[]}=i;return[C.display({id:"selected",minSize:50,maxSize:50,size:50,header:()=>a.jsx(Ft,{isVisible:e,disabled:n,checked:t,onSelectAll:s}),cell:ee}),C.accessor("entityType",{minSize:45,maxSize:45,size:45,header:()=>null,enableResizing:!1,cell:ne,meta:{textAlign:"center"}}),C.accessor("name",{size:300,enableSorting:d.includes("name"),header:c=>a.jsx(N,{...c,title:"Name"}),cell:c=>a.jsx(Mt,{context:c,setCurrentContainer:l}),enableColumnFilter:!1}),C.display({id:"badges",minSize:75,maxSize:75,size:75,header:()=>null,cell:J}),C.accessor("id",{size:130,header:c=>a.jsx(N,{...c,title:"ID"}),minSize:130,enableColumnFilter:!1,enableSorting:d.includes("id")}),C.display({id:"version",minSize:150,size:200,header:()=>a.jsx(de,{versionSelection:r}),cell:c=>a.jsx(te,{versionSelection:r,toggleSelection:o,context:c})}),C.accessor("createdOn",{header:c=>a.jsx(N,{...c,title:"Created On"}),size:220,minSize:170,cell:Z,enableColumnFilter:!1,enableSorting:d.includes("createdOn")}),C.accessor("modifiedOn",{header:c=>a.jsx(N,{...c,title:"Modified On"}),size:220,minSize:170,enableColumnFilter:!1,cell:ae,enableSorting:d.includes("modifiedOn")}),C.accessor("modifiedBy",{header:c=>a.jsx(N,{...c,title:"Modified By"}),size:250,enableResizing:!0,cell:oe,enableColumnFilter:!1,enableSorting:d.includes("modifiedBy")}),C.display({id:"size",header:c=>a.jsx(N,{...c,title:"Size"}),size:120,minSize:85,enableSorting:!1,enableResizing:!0,cell:le}),C.display({id:"md5",header:c=>a.jsx(N,{...c,title:"MD5"}),size:200,enableSorting:!1,enableResizing:!0,cell:se}),C.display({id:"addToDownloadCart",header:()=>null,size:45,minSize:45,enableSorting:!1,enableResizing:!1,cell:X}),C.display({id:"directDownload",header:c=>a.jsx(N,{...c,title:"Actions"}),size:75,minSize:75,enableSorting:!1,enableResizing:!1,cell:ie})]}const kt=i=>{const{visibleTypes:l,selectableTypes:e,selected:n,entity:t}=i;return l.includes(R(t))?e.includes(R(t))?n.has(t.id)?"selected":"default":"disabled":"hidden"},Lt=["directDownload"];function ce(i){const{entities:l,isLoading:e,hasNextPage:n,fetchNextPage:t,isFetchingNextPage:s,versionSelection:r,selectColumnType:o,selected:d,visibleTypes:c,selectableTypes:u,toggleSelection:f,enableSorting:p,enableMultiSort:v,sortableColumns:E,sorting:_,onSortingChange:y,noResultsPlaceholder:x,enableSelectAll:D,selectAllIsChecked:O=!1,getChildrenInfiniteRequestObject:Ae,totalEntities:V,setCurrentContainer:ue,hiddenColumns:he=Lt}=i,B=Qe(),{accessToken:me,keyFactory:W}=Ie(),ze=o!=="none",[fe,U]=g.useState(!1),[Me,k]=g.useState(!1),Fe=()=>{B.cancelQueries({queryKey:W.getEntityChildrenQueryKey(Ae,!0)}),k(!1),U(!1)};g.useEffect(()=>{async function m(){fe&&(n&&t?(k(!0),s||t()):(f(O?l.filter(h=>d.has(h.id)).map(h=>d.get(h.id)):await Promise.all(l.filter(h=>{const b=R(h);return!d.has(h.id)&&u.includes(b)&&c.includes(b)}).map(async h=>{var I;let b;if(r===S.REQUIRED&&Se(R(h))&&(Object.prototype.hasOwnProperty.call(h,"versionNumber")&&(b=h.versionNumber),!b)){k(!0);const w=0,A=1;b=(I=(await B.fetchQuery({queryKey:W.getPaginatedEntityVersionsQueryKey(h.id,A,w),queryFn:()=>Ue(h.id,me,w,A)})).results[0])==null?void 0:I.versionNumber}return{targetId:h.id,targetVersionNumber:b}}))),U(!1),k(!1)))}m()},[me,l,t,n,r,B,s,O,u,d,fe,f,c,W]);const je=g.useMemo(()=>l.reduce((m,h)=>{var I;const b=kt({visibleTypes:c,selectableTypes:u,selected:d,entity:h});if(b!=="hidden"){const w=R(h),A=(I=d.get(h.id))==null?void 0:I.targetVersionNumber;let L;"versionNumber"in h&&(A!=null?L=A:r===S.REQUIRED&&(L=h.versionNumber)),m.push({...h,entityId:h.id,versionNumber:L,entityType:w,isSelected:b==="selected",isDisabled:b==="disabled",isVersionableEntity:Se(w),currentSelectedVersion:A})}return m},[]),[l,u,d,r,c]),pe=D,ge=!(n||l.filter(m=>u.includes(R(m))&&c.includes(R(m))).length>0),ke=g.useMemo(()=>jt({setCurrentContainer:ue,isSelectAllVisible:pe,isSelectAllDisabled:ge,isSelectAllChecked:O,onSelectAll:()=>{U(!0)},versionSelection:r,toggleSelection:f,sortableColumns:E}),[ge,pe,O,ue,E,f,r]),Le=g.useMemo(()=>he.reduce((m,h)=>(m[h]=!1,m),{}),[he]),ye=Ye({data:je,columns:ke,getCoreRowModel:Xe(),columnResizeMode:"onChange",manualSorting:!0,enableSorting:p,enableMultiSort:v,onSortingChange:y,state:{sorting:_,columnVisibility:{selected:ze,version:r!==S.DISALLOWED,size:c.includes(M.FILE),md5:c.includes(M.FILE),addToDownloadCart:c.includes(M.FILE),directDownload:c.includes(M.FILE),...Le}}}),H=g.useRef(null),qe=Ot({count:V??ye.getRowModel().rows.length,estimateSize:()=>40,getScrollElement:()=>H.current,measureElement:typeof window<"u"&&navigator.userAgent.indexOf("Firefox")===-1?m=>m==null?void 0:m.getBoundingClientRect().height:void 0,overscan:5});function Pe(m){const{id:h,isDisabled:b,isVersionableEntity:I}=m;let{currentSelectedVersion:w}=m;b||(I&&r===S.REQUIRED&&w==null&&Object.prototype.hasOwnProperty.call(m,"versionNumber")&&(w=m.versionNumber),f({targetId:h,targetVersionNumber:w}))}const K=g.useCallback(m=>{if(m){const{scrollHeight:h,scrollTop:b,clientHeight:I}=m;h-b-I<500&&!s&&n&&t&&t()}},[t,s,n]);return g.useEffect(()=>{K(H.current)},[l,K]),a.jsxs("div",{className:"EntityFinderDetailsView",children:[a.jsx(et,{show:Me,currentProgress:l.length,totalProgress:V,hintText:V?`${l.length.toLocaleString()} of ${V==null?void 0:V.toLocaleString()}`:`Fetching ${l.length.toLocaleString()}`,headlineText:"Fetching selected items",onCancel:Fe}),!e&&l.length>0&&a.jsx(Y,{styledTableContainerProps:{className:"DetailsViewTable",ref:H,height:"100%"},onTableContainerScroll:m=>K(m),table:ye,rowVirtualizer:qe,slotProps:{Tr:m=>{const{tableRow:h}=m;return{className:"EntityFinderDetailsViewRow","aria-selected":h==null?void 0:h.original.isSelected,"aria-disabled":h==null?void 0:h.original.isDisabled,onClick:()=>{h&&Pe(h.original)}}}}}),e&&a.jsx("div",{className:"EntityFinderDetailsViewPlaceholder",children:a.jsx(tt,{size:30})}),!e&&l.length===0&&a.jsx("div",{className:"EntityFinderDetailsViewPlaceholder",children:x||a.jsx("div",{children:"Empty"})})]})}try{ce.displayName="DetailsView",ce.__docgenInfo={description:'Displays a list of entities in a table.\n\nIf the list of entities is paginated, the `hasNextPage` prop can be set to indicate that there is more data to load.\nWhen the view is ready to load more data, the `fetchNextPage` callback will be invoked. The view is designed to handle\nan "infinite scroll" pattern, so entities should not be removed from the list when loading the next page.',displayName:"DetailsView",props:{versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},selectColumnType:{defaultValue:null,description:"",name:"selectColumnType",required:!0,type:{name:"enum",value:[{value:'"checkbox"'},{value:'"none"'}]}},enableSelectAll:{defaultValue:null,description:"",name:"enableSelectAll",required:!0,type:{name:"boolean"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"EntitySelectionMapType"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},isIdSelected:{defaultValue:null,description:"",name:"isIdSelected",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},isSelectable:{defaultValue:null,description:"",name:"isSelectable",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!1,type:{name:"Dispatch<SetStateAction<string>>"}},hiddenColumns:{defaultValue:null,description:"Chosen columns to hide. Defaults to just the DirectDownload column.",name:"hiddenColumns",required:!1,type:{name:"DetailsViewColumn[]"}},entities:{defaultValue:null,description:"",name:"entities",required:!0,type:{name:"EntityFinderHeader[]"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},hasNextPage:{defaultValue:null,description:"",name:"hasNextPage",required:!1,type:{name:"boolean"}},fetchNextPage:{defaultValue:null,description:"",name:"fetchNextPage",required:!1,type:{name:"() => Promise<unknown>"}},isFetchingNextPage:{defaultValue:null,description:"",name:"isFetchingNextPage",required:!1,type:{name:"boolean"}},enableSorting:{defaultValue:null,description:"",name:"enableSorting",required:!1,type:{name:"boolean"}},enableMultiSort:{defaultValue:null,description:"",name:"enableMultiSort",required:!1,type:{name:"boolean"}},sortableColumns:{defaultValue:null,description:"",name:"sortableColumns",required:!1,type:{name:"DetailsViewColumn[]"}},sorting:{defaultValue:null,description:"The current sort of the view.",name:"sorting",required:!1,type:{name:"SortingState"}},onSortingChange:{defaultValue:null,description:"If enableSorting is true, `setSort` will be invoked when the user tries to change the sort",name:"onSortingChange",required:!1,type:{name:"OnChangeFn<SortingState>"}},noResultsPlaceholder:{defaultValue:null,description:"",name:"noResultsPlaceholder",required:!1,type:{name:"ReactNode"}},selectAllIsChecked:{defaultValue:null,description:"We defer to the configuration component to determine this",name:"selectAllIsChecked",required:!1,type:{name:"boolean"}},getChildrenInfiniteRequestObject:{defaultValue:null,description:"This request object is only used to tell react-query to cancel fetching all children at once.",name:"getChildrenInfiniteRequestObject",required:!1,type:{name:"EntityChildrenRequest"}},totalEntities:{defaultValue:null,description:"The total number of entities that can be retrieved",name:"totalEntities",required:!1,type:{name:"number"}}}}}catch{}try{T.displayName="DetailsViewColumn",T.__docgenInfo={description:`Set of all columns that can be shown in the DetailsView
Note: Some of these values are used as accessors, so ensure that those columns match the accessor key in the row data`,displayName:"DetailsViewColumn",props:{}}}catch{}const qt=[T.NAME,T.CREATED_ON,T.MODIFIED_ON];function Pt(i){switch(i){case T.NAME:return Q.NAME;case T.CREATED_ON:return Q.CREATED_ON;case T.MODIFIED_ON:return Q.MODIFIED_ON}}function xe({parentContainerId:i,...l}){const[e,n]=g.useState([{id:T.NAME,desc:!1}]),t={parentId:i,includeTotalChildCount:!0,includeTypes:l.visibleTypes,sortBy:e[0]?Pt(e[0].id):void 0,sortDirection:e[0]?e[0].desc?be.DESC:be.ASC:void 0},{data:s,isLoading:r,isFetchingNextPage:o,hasNextPage:d,fetchNextPage:c}=Be(t,{throwOnError:!0}),u=(s==null?void 0:s.pages.flatMap(v=>v.page))??[],f=s==null?void 0:s.pages[0].totalChildCount,p=St(u,l.selected.size,l.isIdSelected,l.isSelectable,d,c,o);return a.jsx(ce,{entities:u,isLoading:r,hasNextPage:d,fetchNextPage:c,isFetchingNextPage:o,enableSorting:!0,enableMultiSort:!1,sortableColumns:qt,sorting:e,onSortingChange:n,selectAllIsChecked:p,getChildrenInfiniteRequestObject:t,totalEntities:f,...l})}try{xe.displayName="EntityChildrenDetails",xe.__docgenInfo={description:"",displayName:"EntityChildrenDetails",props:{versionSelection:{defaultValue:null,description:"",name:"versionSelection",required:!0,type:{name:"enum",value:[{value:'"DISALLOWED"'},{value:'"REQUIRED"'},{value:'"TRACKED"'},{value:'"UNTRACKED"'}]}},selectColumnType:{defaultValue:null,description:"",name:"selectColumnType",required:!0,type:{name:"enum",value:[{value:'"checkbox"'},{value:'"none"'}]}},enableSelectAll:{defaultValue:null,description:"",name:"enableSelectAll",required:!0,type:{name:"boolean"}},visibleTypes:{defaultValue:null,description:"",name:"visibleTypes",required:!0,type:{name:"EntityType[]"}},selected:{defaultValue:null,description:"",name:"selected",required:!0,type:{name:"EntitySelectionMapType"}},selectableTypes:{defaultValue:null,description:"",name:"selectableTypes",required:!0,type:{name:"EntityType[]"}},isIdSelected:{defaultValue:null,description:"",name:"isIdSelected",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},isSelectable:{defaultValue:null,description:"",name:"isSelectable",required:!0,type:{name:"(header: EntityFinderHeader) => boolean"}},toggleSelection:{defaultValue:null,description:"",name:"toggleSelection",required:!0,type:{name:"(entity: Reference | Reference[]) => void"}},setCurrentContainer:{defaultValue:null,description:"",name:"setCurrentContainer",required:!1,type:{name:"Dispatch<SetStateAction<string>>"}},hiddenColumns:{defaultValue:null,description:"Chosen columns to hide. Defaults to just the DirectDownload column.",name:"hiddenColumns",required:!1,type:{name:"DetailsViewColumn[]"}},parentContainerId:{defaultValue:null,description:"",name:"parentContainerId",required:!0,type:{name:"string"}}}}}catch{}export{Z as C,T as D,xe as E,ae as M,Y as S,S as V,J as a,oe as b,St as c,ce as d,bt as g,Ot as u};
