import{r as c,j as n,c8 as h,c2 as S,da as b,V as g,b_ as F,bq as y,aq as _}from"./iframe-SFoYirDz.js";import{E as j}from"./EnumFacetFilterUI-DDqwNBM1.js";import{H as v}from"./HelpTwoTone-D6G1UBLM.js";function I(l,e){var t;(t=l.columnDef.meta)!=null&&t.enableMultipleSelect?l.setFilterValue(o=>o?[...o,e]:[e]):l.setFilterValue([e])}function T(l,e){l.setFilterValue(t=>{if(t){const o=[...t.filter(a=>!S(a,e))];if(!b(o))return o}return null})}function q(l){if(l.getFacetedUniqueValues()){const e=Array.from(l.getFacetedUniqueValues().values()).some(t=>t!=0);return Array.from(l.getFacetedUniqueValues().entries()).map(t=>({value:t[0],count:e?t[1]:void 0}))}return[]}function d(l){var u;const{column:e,title:t}=l,o=((u=e.columnDef.meta)==null?void 0:u.enableMultipleSelect)||!1,a=e.getFilterValue(),s=c.useMemo(()=>a||[],[a]),m=c.useMemo(()=>q(e).map(r=>{var p,f;let i=r.value;(f=(p=e.columnDef)==null?void 0:p.meta)!=null&&f.getDisplayText&&(i=e.columnDef.meta.getDisplayText(r.value));const V=!!(s||[]).find(C=>C===r.value);return{...r,displayText:i,isSelected:V}}),[e,s]);return n.jsx(j,{facetTitle:t,facetValues:m,filterIsActive:e.getIsFiltered(),containerAs:"Dropdown",dropdownType:"Icon",defaultShowAllValues:!0,onAddValueToSelection:r=>{I(e,r)},onRemoveValueFromSelection:r=>{T(e,r)},onRemoveAllFacetSelections:()=>{e.setFilterValue(null)},onHoverOverValue:h,canMultiSelect:o})}try{d.displayName="ColumnHeaderEnumFilter",d.__docgenInfo={description:`Used to create {@link EnumFacetFilterUIProps} that can be used to create a control to filter column values based on
the provided`,displayName:"ColumnHeaderEnumFilter",props:{column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"Column<TData, TValue>"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}}}}}catch{}function x(l){const{column:e,title:t=l.column.id,helpText:o,filterControl:a,additionalButtons:s}=l,u=c.useCallback(()=>{var r,i;if(a)return a;if(e.getCanFilter()){if(((r=e.columnDef.meta)==null?void 0:r.filterVariant)==="enumeration")return n.jsx(d,{column:e,title:t});console.warn(`column.getCanFilter() was true for column ID: ${e.id} but no filterControlFromProps was passed and component for filterVariant: ${(i=e.columnDef.meta)==null?void 0:i.filterVariant} is not implemented`)}return n.jsx(n.Fragment,{})},[e,a,t])();return n.jsxs(g,{sx:{display:"flex",alignContent:"center",alignItems:"center",justifyContent:"space-between"},children:[n.jsx("span",{style:{whiteSpace:"nowrap"},children:t}),n.jsxs(g,{role:"menubar",sx:{display:"flex",alignItems:"center",height:"22px",ml:2,gap:.25},children:[o&&n.jsx(F,{title:o,placement:"top",children:n.jsx(y,{size:"small",children:n.jsx(v,{fontSize:"inherit"})})}),e.getCanFilter()&&u,e.getCanSort()&&n.jsx(F,{title:`Sort by ${t}`,placement:"top",children:n.jsx(y,{role:"button",size:"small","aria-label":`Sort by ${t}`,tabIndex:0,onKeyPress:()=>e.toggleSorting(),onClick:()=>e.toggleSorting(),children:n.jsx(_,{icon:e.getIsSorted()==="asc"?"sortUp":"sortDown",wrap:!1,sx:{color:e.getIsSorted()?"primary.main":"grey.700",backgroundColor:"none"}})})}),s]})]})}try{x.displayName="ColumnHeader",x.__docgenInfo={description:"Styled table column header component for use with",displayName:"ColumnHeader",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},helpText:{defaultValue:null,description:"",name:"helpText",required:!1,type:{name:"ReactNode"}},additionalButtons:{defaultValue:null,description:"",name:"additionalButtons",required:!1,type:{name:"ReactNode"}},filterControl:{defaultValue:null,description:"",name:"filterControl",required:!1,type:{name:"ReactNode"}}}}}catch{}export{x as C};
