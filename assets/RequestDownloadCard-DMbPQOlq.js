import{j as e}from"./jsx-runtime-CXqxCHrr.js";import"./useFiles-zmIgDHgj.js";import{a as f}from"./VerificationSubmission-DHPhgAH7.js";import"./StringUtils-Bj0SG9ce.js";import{c as g}from"./SynapseConstants-B7Xg8pkB.js";import{r as h}from"./index-chvr4nzo.js";import"./OrientationBanner-BM51AJT8.js";import{u as w}from"./useEntityBundle-gosGjGK1.js";import{u as E}from"./useGetFeatureFlag-CuUatZbu.js";import{E as S}from"./EntityAclEditorModal-zYc8Yfci.js";import{A as _}from"./ActionRequiredCard-BU92lbeA.js";import{A as y}from"./Alert-9xz83nqa.js";import{T as C}from"./Typography-TPoZq6Wq.js";import{B as I}from"./Button-BpvCZV0i.js";const D=o=>window.open(`https://www.synapse.org/Synapse:${o}`,"_blank"),R="Download Permission Required";function s(o){const{entityId:r,count:a,onViewSharingSettingsClicked:d=D}=o,{data:t,isLoading:l,isError:m,error:c}=w(r,void 0,{includeEntity:!0,includePermissions:!0}),[u,i]=h.useState(!1),n=!!(t!=null&&t.permissions.canDownload),p=E(f.REACT_ENTITY_ACL_EDITOR);return m?e.jsx(y,{severity:"error",children:c.reason}):e.jsx(_,{isLoading:l,title:R,description:e.jsxs(e.Fragment,{children:["You must be granted the download permission on"," ",e.jsx("strong",{children:t==null?void 0:t.entity.name})," in order to download this set of files."]}),iconType:g,count:a,actionNode:e.jsxs(e.Fragment,{children:[e.jsx(C,{variant:"smallText1",sx:{mb:1,color:"grey.700"},children:"Contact an administrator to request download permission"}),e.jsx(S,{entityId:r,open:u,onClose:()=>i(!1)}),e.jsx(I,{variant:"outlined",onClick:()=>{p?i(!0):d(r)},disabled:n,children:n?"Complete":"View Sharing Settings"})]})})}try{s.displayName="RequestDownloadCard",s.__docgenInfo={description:"",displayName:"RequestDownloadCard",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}},onViewSharingSettingsClicked:{defaultValue:null,description:'Invoked when a user clicks "View Sharing Settings" for a set of files that require the Download permission',name:"onViewSharingSettingsClicked",required:!1,type:{name:"(benefactorId: string) => void"}}}}}catch{}export{s as R};
