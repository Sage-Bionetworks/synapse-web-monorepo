import{r as l,j as n,B as p,X as f,al as m,b$ as x,fG as D,cs as L,P as B,gO as P,gL as S,cx as _}from"./iframe-nfXQhXwW.js";import{M as q}from"./MenuItem-DVxEnVQ-.js";import{L as V}from"./ListItemIcon-Dx0qhbVb.js";import{L as E}from"./ListItemText-D42sUrPn.js";function h(d){const{buttonTooltip:u,dropdownButtonText:y,items:a=[],convertSingleItemToButton:b=!0,renderMenuIfNoItems:I=!1,buttonProps:j={}}=d,r=l.useId(),[i,t]=l.useState(!1),s=l.useRef(null),c=a.flat().length;if(!I&&c===0)return null;if(b&&c===1){const e=a.flat()[0];return n.jsx(p,{component:"href"in e?"a":"button",title:e.tooltipText,variant:"outlined",href:"href"in e?e.href:void 0,rel:"href"in e?"noopener noreferrer":void 0,onClick:"onClick"in e?e.onClick:void 0,disabled:e.disabled,endIcon:e.icon&&n.jsx(m,{icon:e.icon,wrap:!1}),children:n.jsx(f,{variant:"buttonLink",children:e.text})})}const v=()=>{t(e=>!e)},g=e=>{s.current&&s.current.contains(e.target)||t(!1)};function w(e){e.key==="Tab"?(e.preventDefault(),t(!1)):e.key==="Escape"&&t(!1)}return n.jsxs(n.Fragment,{children:[n.jsx(x,{title:u?n.jsx("div",{style:{whiteSpace:"pre-line"},children:u}):void 0,placement:"top",children:n.jsx("span",{children:n.jsx(p,{variant:"outlined",ref:s,id:`composition-button-${r}`,"aria-controls":i?`composition-menu-${r}`:void 0,"aria-expanded":i?"true":void 0,"aria-haspopup":"true",onClick:v,...j,children:n.jsx(f,{variant:"buttonLink",children:y})})})}),n.jsx(D,{open:i,anchorEl:s.current,role:void 0,placement:"bottom-end",transition:!0,style:{zIndex:10},children:({TransitionProps:e})=>n.jsx(L,{...e,children:n.jsx(B,{children:n.jsx(P,{onClickAway:g,children:n.jsx(S,{autoFocusItem:i,id:`composition-menu-${r}`,"aria-labelledby":`composition-button-${r}`,onKeyDown:w,children:a.map((T,k,M)=>[T.map(o=>n.jsx(x,{title:o.tooltipText,placement:"left",children:n.jsxs(q,{component:"a",sx:{"&:hover":{color:"unset"},"&:focus":{color:"unset",textDecoration:"unset"}},disabled:o.disabled,href:"href"in o?o.href:void 0,rel:"href"in o?"noopener noreferrer":void 0,style:{pointerEvents:"auto"},onClick:C=>{!o.disabled&&"onClick"in o&&o.onClick&&(t(!1),o.onClick(C))},children:[n.jsx(V,{style:{minWidth:"30px"},children:o.icon&&n.jsx(m,{icon:o.icon,sx:{width:"17px",height:"17px",...o.iconSx},wrap:!1})}),n.jsx(E,{sx:{marginTop:0},slotProps:{primary:{variant:"smallText1",sx:o.textSx}},children:o.text})]})},o.text)),k<M.length-1&&n.jsx(_,{})])})})})})})]})}try{h.displayName="DropdownMenu",h.__docgenInfo={description:"The DropdownMenu component provides a generic way to compose a MUI dropdown menu.",displayName:"DropdownMenu",props:{items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"DropdownMenuItem[][]"}},dropdownButtonText:{defaultValue:null,description:"",name:"dropdownButtonText",required:!0,type:{name:"string"}},buttonTooltip:{defaultValue:null,description:"",name:"buttonTooltip",required:!1,type:{name:"string"}},buttonProps:{defaultValue:null,description:"",name:"buttonProps",required:!1,type:{name:"ButtonProps"}},convertSingleItemToButton:{defaultValue:null,description:"",name:"convertSingleItemToButton",required:!1,type:{name:"boolean"}},renderMenuIfNoItems:{defaultValue:null,description:"",name:"renderMenuIfNoItems",required:!1,type:{name:"boolean"}}}}}catch{}export{h as D};
