import{j as e,W as N,B as C,fk as R,fl as c,r as v,bY as w,fa as A,a2 as B}from"./iframe-CKkRwo5v.js";import{E as D,u as L}from"./ExpandableContent-Iy2DUcra.js";import{Q as E,u as O}from"./QueryCount-DtqPjRw9.js";function x({asset:a,link:t,summary:r,countSql:n,title:o,isAssetIcon:i,linkText:s="Explore"}){return e.jsxs(N,{className:"Goals__Card",sx:{cursor:"pointer",maxWidth:"335px",width:"335px"},onClick:()=>window.open(t,"_self"),children:[e.jsx("div",{className:"Goals__Card__header",style:{background:i?void 0:`url('${a}')`},children:e.jsxs("p",{children:[e.jsxs("span",{className:"Goals__Card__header__title",children:[i&&a&&e.jsx("img",{style:{marginRight:"10px"},className:"Goals__Card__header__icon",src:a,alt:`${o} icon`}),o]}),n&&e.jsx("span",{className:"Goals__Card__header__count",children:e.jsx(E,{parens:!1,query:{sql:n}})})]})}),e.jsxs("div",{className:"Goals__Card__summary",children:[e.jsxs("p",{children:[" ",r," "]}),e.jsx(C,{className:"Goals__Card__summary__link",variant:"outlined",color:"secondary",href:t,children:s})]})]})}try{x.displayName="GoalsDesktop",x.__docgenInfo={description:"",displayName:"GoalsDesktop",props:{countSql:{defaultValue:null,description:"",name:"countSql",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}},asset:{defaultValue:null,description:"",name:"asset",required:!0,type:{name:"string"}},isAssetIcon:{defaultValue:null,description:"",name:"isAssetIcon",required:!0,type:{name:"boolean"}},linkText:{defaultValue:{value:"Explore"},description:"",name:"linkText",required:!1,type:{name:"string"}}}}}catch{}function f({link:a,summary:t,countSql:r,title:n,linkText:o="Explore"}){const i=e.jsxs("div",{className:"Goals__Mobile__Header",children:[r&&e.jsx("span",{className:"Goals__Mobile__Header__Count",children:e.jsx(E,{parens:!1,query:{sql:r}})}),e.jsxs("span",{className:"Goals__Mobile__Header__Title",children:[" ",n," "]})]}),s=e.jsxs("div",{className:"Goals__Mobile__Content",children:[e.jsx("p",{children:t}),e.jsx(C,{variant:"outlined",color:"secondary",className:"Goals__Mobile__Content__Link",href:a,children:o})]});return e.jsx(D,{title:i,content:s})}try{f.displayName="GoalsMobile",f.__docgenInfo={description:"",displayName:"GoalsMobile",props:{countSql:{defaultValue:null,description:"",name:"countSql",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}},asset:{defaultValue:null,description:"",name:"asset",required:!0,type:{name:"string"}},isAssetIcon:{defaultValue:null,description:"",name:"isAssetIcon",required:!0,type:{name:"boolean"}},linkText:{defaultValue:{value:"Explore"},description:"",name:"linkText",required:!1,type:{name:"string"}}}}}catch{}const Q=1200;function I(a){const{entityId:t,isAssetIcon:r=!1,linkText:n}=a,o=L(Q),i={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:t,partMask:A|B,query:{sql:`select *
            from ${t}
            order by ItemOrder`}},{data:s}=R(i),{assets:q,error:g}=O(t,s),p=c("TableId",s),m=c("CountSql",s),h=c("Title",s),G=c("Summary",s),j=c("Link",s),_=v.useMemo(()=>s?.queryResult.queryResults.rows.map((u,d)=>{const l=u.values;l.some(M=>M===null)&&console.warn("Row has null value(s) when no nulls expected");const k=p>-1?l[p]:void 0;let y;m>-1&&l[m]?y=l[m]:k&&(y=`SELECT * FROM ${k}`);const b=l[h],V=l[G],S=l[j],T=q?.[d]??"";return{countSql:y,title:b,summary:V,link:S,asset:T,isAssetIcon:r}}),[m,q,j,s?.queryResult,G,p,h]);return g?e.jsx(w,{error:g}):_?o?e.jsx(N,{className:"Goals",sx:{display:"flex",flexWrap:"wrap",gap:"7px",alignItems:"stretch",justifyContent:"center"},children:_.map((u,d)=>e.jsx(x,{...u,linkText:n},d))}):e.jsx("div",{className:"Goals",children:_.map((u,d)=>e.jsx(f,{...u,linkText:n},d))}):e.jsx(e.Fragment,{})}try{I.displayName="Goals",I.__docgenInfo={description:"",displayName:"Goals",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},isAssetIcon:{defaultValue:null,description:"",name:"isAssetIcon",required:!1,type:{name:"boolean"}},linkText:{defaultValue:null,description:"",name:"linkText",required:!1,type:{name:"string"}}}}}catch{}export{I as G};
