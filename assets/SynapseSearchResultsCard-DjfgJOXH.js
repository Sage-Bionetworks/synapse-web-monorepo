import{j as a}from"./jsx-runtime-D_zvdyIk.js";import{f as b}from"./DateFormatter-DuKV0O4z.js";import{g as k,B as S}from"./useFiles-KjJsMF-p.js";import{d as j}from"./dayjs.min-BQpchTlf.js";import{E as R}from"./EntityIcon-XdUDlUBI.js";import{F as L}from"./FavoriteButton-DuXfFNTu.js";import{D as I}from"./DropdownMenu-C6B_bkcm.js";import{C as $,E as t}from"./StringUtils-C95LMFI-.js";import{r as m}from"./index-CgGWB-jV.js";import{P as M}from"./ProgrammaticInstructionsModal-DWaSGMkA.js";import{M as N}from"./ModalDownload--l50RXCv.js";import"./VerificationSubmission-BDh1zA9f.js";import"./OrientationBanner-Jb_O7Vhq.js";import{u as O,c as q}from"./useEntity-DA3nQLbL.js";import{c as v}from"./createSvgIcon-CJyY65Ao.js";import{s as A}from"./DefaultPropsProvider-ChnhiV7X.js";import{B as c}from"./Box-BZ1lOftb.js";import{T as f}from"./Typography-B9kkfmck.js";import{L as V}from"./Link-oef7RIge.js";import{C as F}from"./Chip-DBU7fuDc.js";import{P}from"./Paper-DDtB3wBD.js";const B=v(a.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7zm-8 2V5h2v6h1.17L12 13.17 9.83 11zm-6 7h14v2H5z"})),z=v(a.jsx("path",{d:"M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58s9.14-3.47 12.65 0L21 3zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8z"})),g=`import synapseclient
syn = synapseclient.Synapse()
syn.login(authToken="YOUR_TOKEN_HERE")`,x=`library(synapser)
synLogin(authToken="YOUR_TOKEN_HERE")`;function G(e,o,r){const n=e===t.dataset&&r?`${o}.${r}`:o;switch(e){case t.file:case t.folder:case t.project:return{cliCode:`synapse get -r ${o}`,rCode:`${x} 

# Download file
synGet('${o}')`,pythonCode:`${g} 

# Download file
syn.get('${o}')`};case t.dockerrepo:return{cliCode:`docker login -u <synapse username> -p <synapse password> docker.synapse.org 

docker pull docker.synapse.org/${o}/myrepo`,rCode:void 0,pythonCode:void 0};case t.dataset:case t.entityview:case t.datasetcollection:case t.table:case t.materializedview:case t.submissionview:case t.virtualtable:case t.recordset:return{cliCode:`synapse get -q "SELECT * FROM ${n}"`,rCode:`${x} 

query <- synTableQuery("SELECT * FROM ${n}")
read.table(query$filepath, sep=",")`,pythonCode:`${g} 

query = syn.tableQuery("SELECT * FROM ${n}")
query.asDataFrame()`};default:throw new Error(`Unhandled EntityType: ${e}`)}}function H(e,o,r,n,s){switch(r){case 0:return{text:"Download File",onClick:()=>{console.log("Download file:",e,o)},tooltipText:"Download this file directly"};case 1:return{text:"Add to Download Cart",onClick:()=>{console.log("Add file(s) to cart:",e)},tooltipText:"Add file(s) to your download cart"};case 2:return{text:"Programmatic Access",onClick:()=>{n(!0)},tooltipText:"View programmatic access options"};case 3:return{text:"Programmatic Access (Docker)",onClick:()=>{n(!0)},tooltipText:"View programmatic options to pull Docker image"};case 4:return{text:"Export Table",onClick:()=>{s(!0)},tooltipText:"Export table data"}}}function u(e){switch(e){case t.file:case t.recordset:return[[0],[1,2]];case t.project:case t.folder:return[[1,2]];case t.dockerrepo:return[[3]];case t.entityview:case t.dataset:case t.table:case t.datasetcollection:case t.materializedview:case t.submissionview:case t.virtualtable:return[[4,2]];case t.link:return[[2]];default:throw new Error(`Unhandled EntityType: ${e}`)}}function U(e,o){const{data:r,isLoading:n}=O(e),s=o===t.dataset,{data:i,isLoading:d}=q(e,0,1,{enabled:s});let l;return s?i!=null&&i.results&&i.results.length>0?l=i.results[0].versionNumber:l=void 0:l=r&&$(r)?r.versionNumber:void 0,{latestVersionNumber:l,isLoading:n||d}}function Y(e,o,r){let n;return r===t.dataset?n=o?`SELECT * FROM ${e}.${o}`:`SELECT * FROM ${e}`:n=`SELECT * FROM ${e}`,{concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:`${e}`,query:{sql:n},partMask:0}}function p(e){const{latestVersionNumber:o}=U(e.entityId,e.entityType),r=Y(e.entityId,o,e.entityType),[n,s]=m.useState(!1),i=()=>{s(!1)},[d,l]=m.useState(!1),y=()=>{l(!1)},w=u(e.entityType).map(D=>D.map(_=>H(e.entityId,e.name,_,s,l))),{cliCode:E,rCode:T,pythonCode:C}=G(e.entityType,e.entityId,o);return a.jsxs(a.Fragment,{children:[a.jsx(I,{items:w,dropdownButtonText:"Download",buttonTooltip:"Download options for this entity",buttonProps:{variant:"outlined",startIcon:a.jsx(B,{})}}),a.jsx(M,{show:n,title:`Programmatic Access: ${e.name}`,onClose:i,pythonCode:C,rCode:T,cliCode:E,helpUrl:"https://help.synapse.org/docs/Synapse-Docker-Registry.2011037752.html#SynapseDockerRegistry-UsingDockerImagesStoredintheSynapseDockerRegistry"}),d&&a.jsx(N,{queryBundleRequest:r,onClose:y})]})}try{u.displayName="getDownloadActionsForEntityType",u.__docgenInfo={description:"",displayName:"getDownloadActionsForEntityType",props:{}}}catch{}try{p.displayName="EntityDownloadButton",p.__docgenInfo={description:"",displayName:"EntityDownloadButton",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},entityType:{defaultValue:null,description:"",name:"entityType",required:!0,type:{name:"enum",value:[{value:'"link"'},{value:'"table"'},{value:'"file"'},{value:'"folder"'},{value:'"entityview"'},{value:'"submissionview"'},{value:'"dataset"'},{value:'"datasetcollection"'},{value:'"project"'},{value:'"dockerrepo"'},{value:'"materializedview"'},{value:'"virtualtable"'},{value:'"recordset"'}]}}}}}catch{}const Q=A(P,{label:"SynapseSearchResultsCardContainer"})(({theme:e})=>({display:"flex",flexDirection:"column",minHeight:"250px",width:"80%",borderRadius:"10px",padding:"32px",gap:"15px"}));function h(e){return a.jsxs(Q,{children:[a.jsxs(c,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[a.jsx(f,{variant:"headline3",children:a.jsx(V,{href:`${k(S.PORTAL_ENDPOINT)}Synapse:${e.entityId}`,children:e.name})}),a.jsxs(c,{sx:{display:"flex",gap:"16px",alignItems:"center"},children:[a.jsx(L,{entityId:e.entityId}),a.jsx(p,{entityId:e.entityId,name:e.name,entityType:e.entityType})]})]}),a.jsx(c,{children:a.jsx(F,{icon:a.jsx(R,{type:e.entityType,style:{color:"inherit"}}),label:e.entityType,sx:{backgroundColor:"#DAE9E7",color:"#265149",fontSize:"14px",textTransform:"capitalize"}})}),a.jsxs(c,{sx:{display:"flex",flexDirection:"row",gap:"8px"},children:[a.jsx(z,{}),a.jsxs(f,{sx:{fontSize:"14px"},children:["Last updated: ",b(j.unix(e.modifiedOn),"M/D/YYYY")]})]})]})}try{h.displayName="SynapseSearchResultsCard",h.__docgenInfo={description:"",displayName:"SynapseSearchResultsCard",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},entityType:{defaultValue:null,description:"",name:"entityType",required:!0,type:{name:"enum",value:[{value:'"link"'},{value:'"table"'},{value:'"file"'},{value:'"folder"'},{value:'"entityview"'},{value:'"submissionview"'},{value:'"dataset"'},{value:'"datasetcollection"'},{value:'"project"'},{value:'"dockerrepo"'},{value:'"materializedview"'},{value:'"virtualtable"'},{value:'"recordset"'}]}},modifiedOn:{defaultValue:null,description:"",name:"modifiedOn",required:!0,type:{name:"number"}}}}}catch{}export{h as S};
