import{r as h,a as _,b as q,c as L,d as b,e as w,f as y,g as E,h as S}from"./pipeline-BDlX-ssK.js";var u,v;function x(){if(v)return u;v=1,u=n;var t=h().EventEmitter,d=_();d(n,t),n.Readable=q(),n.Writable=L(),n.Duplex=b(),n.Transform=w(),n.PassThrough=y(),n.finished=E(),n.pipeline=S(),n.Stream=n;function n(){t.call(this)}return n.prototype.pipe=function(r,f){var e=this;function m(s){r.writable&&r.write(s)===!1&&e.pause&&e.pause()}e.on("data",m);function l(){e.readable&&e.resume&&e.resume()}r.on("drain",l),!r._isStdio&&(!f||f.end!==!1)&&(e.on("end",c),e.on("close",p));var o=!1;function c(){o||(o=!0,r.end())}function p(){o||(o=!0,typeof r.destroy=="function"&&r.destroy())}function a(s){if(i(),t.listenerCount(this,"error")===0)throw s}e.on("error",a),r.on("error",a);function i(){e.removeListener("data",m),r.removeListener("drain",l),e.removeListener("end",c),e.removeListener("close",p),e.removeListener("error",a),r.removeListener("error",a),e.removeListener("end",i),e.removeListener("close",i),r.removeListener("close",i)}return e.on("end",i),e.on("close",i),r.on("close",i),r.emit("pipe",e),r},u}export{x as r};
