import{j as e}from"./jsx-runtime-CsNpV52b.js";import"./useFiles-D_KC07Yn.js";import{a as f}from"./VerificationSubmission-dxY1kvC5.js";import"./StringUtils-lE31obNl.js";import{c as g}from"./SynapseConstants-fzgxL-Wk.js";import{r as h}from"./index-mFk7i4GH.js";import"./OrientationBanner-D4K1PXbS.js";import{u as w}from"./useEntityBundle-BqRW-6on.js";import{u as E}from"./useGetFeatureFlag-nj75KcRI.js";import{E as S}from"./EntityAclEditorModal-Cw-iaYfr.js";import{A as _}from"./ActionRequiredCard-CkZ_52fh.js";import{A as y}from"./Alert-BxOYpbq5.js";import{T as C}from"./Typography-BaVgdRVq.js";import{B as I}from"./Button-D1O-XNc3.js";const D=o=>window.open(`https://www.synapse.org/Synapse:${o}`,"_blank"),R="Download Permission Required";function s(o){const{entityId:r,count:a,onViewSharingSettingsClicked:d=D}=o,{data:t,isLoading:l,isError:m,error:c}=w(r,void 0,{includeEntity:!0,includePermissions:!0}),[u,i]=h.useState(!1),n=!!(t!=null&&t.permissions.canDownload),p=E(f.REACT_ENTITY_ACL_EDITOR);return m?e.jsx(y,{severity:"error",children:c.reason}):e.jsx(_,{isLoading:l,title:R,description:e.jsxs(e.Fragment,{children:["You must be granted the download permission on"," ",e.jsx("strong",{children:t==null?void 0:t.entity.name})," in order to download this set of files."]}),iconType:g,count:a,actionNode:e.jsxs(e.Fragment,{children:[e.jsx(C,{variant:"smallText1",sx:{mb:1,color:"grey.700"},children:"Contact an administrator to request download permission"}),e.jsx(S,{entityId:r,open:u,onClose:()=>i(!1)}),e.jsx(I,{variant:"outlined",onClick:()=>{p?i(!0):d(r)},disabled:n,children:n?"Complete":"View Sharing Settings"})]})})}try{s.displayName="RequestDownloadCard",s.__docgenInfo={description:"",displayName:"RequestDownloadCard",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}},onViewSharingSettingsClicked:{defaultValue:null,description:'Invoked when a user clicks "View Sharing Settings" for a set of files that require the Download permission',name:"onViewSharingSettingsClicked",required:!1,type:{name:"(benefactorId: string) => void"}}}}}catch{}export{s as R};
