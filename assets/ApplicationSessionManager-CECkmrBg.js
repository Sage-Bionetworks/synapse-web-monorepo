var Gi=Object.defineProperty;var Yi=(e,t,r)=>t in e?Gi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var nt=(e,t,r)=>(Yi(e,typeof t!="symbol"?t+"":t,r),r),vr=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var f=(e,t,r)=>(vr(e,t,"read from private field"),r?r.call(e):t.get(e)),b=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},S=(e,t,r,n)=>(vr(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var zt=(e,t,r,n)=>({set _(s){S(e,t,s,r)},get _(){return f(e,t,n)}}),M=(e,t,r)=>(vr(e,t,"access private method"),r);import{j as U}from"./jsx-runtime-Du8NFWEI.js";import{r as K,g as Es,R as V}from"./index-Dl6G-zuu.js";import{b as Jt,a1 as zi,G as Ji,u as Xi,v as ms,E as Zi,P as eo,a2 as vs,a3 as to,a4 as ro,a5 as no,K as zr,T as so,a6 as Ts,a7 as io,a8 as oo,e as _,a9 as Os,aa as Ps,ab as Jr,ac as Xr,ad as Zr,ae as en,af as ao,k as _s,ag as Rs,ah as uo,N as co,y as lo,O as dr,F as ho,ai as fo,t as Is,s as po,J as go,D as yo}from"./index-CrI3GNrK.js";import{aA as Eo,v as mo,E as vo,aB as Ir,aC as To,d as As,Z as Ss,aD as Ns,U as bs,c as Cs,aE as Ds,aF as ws,S as Oo,K as Xt,aG as Rn}from"./SynapseConstants-fRcr9RXt.js";import{g as Ot,B as u,P as Po}from"./getEndpoint-CjoHA800.js";import{t as fe}from"./tinycolor-Begke6kS.js";import{c as Us}from"./createSvgIcon-BYNyJbGL.js";import{I as _o}from"./InfoTwoTone-sybcF8uh.js";import{C as Ro}from"./CheckCircleTwoTone-h9GSy5KG.js";import{l as Zt,a as Io}from"./colorManipulator-CXx1BTzE.js";import{i as Ao}from"./inputBaseClasses-DUreQxsm.js";import{F as So}from"./Fade-BNGotgqy.js";import{u as No,N as bo,_ as Ls,T as In,z as Co,p as Do,S as wo}from"./createTheme-CwlmBDro.js";import{_ as ae}from"./emotion-use-insertion-effect-with-fallbacks.browser.esm-Bpxk95mn.js";import{R as Uo}from"./index-aEXBT5Ni.js";import{_ as De}from"./inheritsLoose-B7h9gheN.js";import"./OrientationBanner-CPsBxF8o.js";import{d as An}from"./dayjs.min-d18Up55D.js";import{d as Sn}from"./index-DMoHWj5j.js";import{P as Nn}from"./index-BfyspvgH.js";import{i as Pt}from"./tiny-invariant-CopsF_GD.js";import{F as Lo}from"./FullWidthAlert-DFaJ0Nkn.js";import{L as Fo}from"./Link-EkQ0dGSu.js";import{S as xo}from"./Stack-CkbmjR2j.js";import{B as bn}from"./Box-DRdN2jdb.js";import{B as $o}from"./Button-mb55Lwfk.js";import{g as Mo,b as Ko,C as Bo}from"./_getTag-B6zWmB6G.js";import{a as Qo,d as qo,e as ko,b as Vo,h as jo}from"./_Map-W_LbVzGG.js";import{a as Ho}from"./isArray-D3Xc0Edl.js";import{h as Wo}from"./StringUtils-D4kDWP8q.js";const oe=Object.freeze(Object.defineProperty({__proto__:null,get SYNAPSE_STORAGE_LOCATION_ID(){return gi},get acceptFormData(){return Rd},get addEmailAddressStep1(){return wh},get addEmailAddressStep2(){return Uh},get addFileBatchToDownloadListV2(){return Ni},get addFileToDownloadListV2(){return Ql},get addFilesToDownloadListV2(){return Vl},get addTeamMemberAsAuthenticatedUserOrAdmin(){return yl},get addTeamMemberWithToken(){return gl},get addUserFavorite(){return tl},get bindInvitationToAuthenticatedUser(){return Ol},get bindOAuthProviderToAccount(){return Di},get cancelDataAccessRequest(){return hh},get changePasswordWithCurrentPassword(){return bh},get changePasswordWithToken(){return Ch},get checkUploadComplete(){return fn},get clearDownloadListV2(){return rh},get complete2FAEnrollment(){return bc},get consentToOAuth2Request(){return pd},get createACL(){return jl},get createAccessApproval(){return Kd},get createAccessRequirementAcl(){return wd},get createColumnModels(){return Df},get createEntity(){return Ti},get createEvaluation(){return zl},get createEvaluationRound(){return ed},get createFormData(){return md},get createFormGroup(){return gd},get createLockAccessRequirement(){return $d},get createManifestFromDownloadListV2(){return kl},get createMembershipInvitation(){return ml},get createMembershipRequest(){return Rl},get createOAuthClient(){return ud},get createOAuthClientSecret(){return hd},get createPackageFromDownloadListV2(){return ql},get createPersonalAccessToken(){return jd},get createProfileVerificationSubmission(){return Nh},get createProject(){return Dc},get createRecoveryCodes(){return Cc},get createTeam(){return dl},get deleteAccessRequirementAcl(){return Dd},get deleteDownloadList(){return kd},get deleteDownloadListFiles(){return qd},get deleteEmail(){return Lh},get deleteEntity(){return Jc},get deleteEvaluation(){return Jl},get deleteEvaluationRound(){return rd},get deleteFormData(){return Td},get deleteMemberFromTeam(){return Il},get deleteOAuthClient(){return cd},get deletePersonalAccessToken(){return Wd},get deleteReply(){return Bh},get deleteSubscription(){return Pf},get deleteThread(){return zh},get disableTwoFactorAuthForCurrentUser(){return Sc},get forumSearch(){return ef},get getAccessApproval(){return Md},get getAccessRequirement(){return Nd},get getAccessRequirementAcl(){return Cd},get getAccessRequirementById(){return bd},get getAccessRequirementStatus(){return Fd},get getAccessTokenFromCookie(){return _i},get getActivityForEntity(){return of},get getActualFileHandleByIdURL(){return Tc},get getAllAccessRequirements(){return xd},get getAllChallengeTeams(){return ol},get getAllDownloadListActionsRequired(){return ih},get getAllEntityEvaluations(){return Jd},get getAllOfNextPageTokenPaginatedService(){return pn},get getAllOfPaginatedService(){return tt},get getAllOpenMembershipInvitationsForUser(){return El},get getAllSubscriptions(){return mf},get getAllSynapseUserGeoData(){return yf},get getAnnotationColumnModels(){return Uf},get getApprovedSubmissionInfo(){return sf},get getAsyncResultBodyFromJobId(){return _e},get getAsyncResultFromJobId(){return cn},get getAuthenticatedOn(){return fd},get getAvailableFilesToDownload(){return nh},get getBulkFiles(){return Vc},get getCertifyQuiz(){return df},get getChallengeTeams(){return il},get getCurrentUserTwoFactorEnrollmentStatus(){return Ac},get getDOIAssociation(){return Af},get getDataAccessRequestForUpdate(){return ch},get getDefaultColumnModels(){return wf},get getDefaultUploadDestination(){return Rf},get getDockerTag(){return bf},get getDownloadFromTableRequest(){return vc},get getDownloadList(){return Bd},get getDownloadListActionsRequired(){return bi},get getDownloadListStatistics(){return sh},get getDownloadOrder(){return Qd},get getEntity(){return jc},get getEntityACL(){return zd},get getEntityAlias(){return Wc},get getEntityBundleV2(){return Xc},get getEntityChallenge(){return ll},get getEntityChildren(){return qc},get getEntityDownloadActionsRequired(){return Nf},get getEntityHeader(){return Gc},get getEntityHeaders(){return ln},get getEntityHeadersByIds(){return Hc},get getEntityJson(){return Th},get getEntityPath(){return Zd},get getEntityPermissions(){return Xd},get getEntityVersions(){return eh},get getEntityWiki(){return Zc},get getEvaluation(){return Gl},get getEvaluationPermissions(){return Wl},get getEvaluationRound(){return Xl},get getEvaluationRoundsList(){return Zl},get getEvaluationSubmissions(){return nd},get getEvaluations(){return Bc},get getFileHandleById(){return Ei},get getFileHandleByIdURL(){return mi},get getFileHandleContent(){return Si},get getFileHandleContentFromID(){return Kl},get getFileResult(){return Bl},get getFiles(){return Oi},get getFormACL(){return yd},get getForum(){return xh},get getForumMetadata(){return Zh},get getForumThreads(){return tf},get getFullQueryTableResults(){return Pc},get getGoogleMapsApiKey(){return gf},get getGroupHeadersBatch(){return Kc},get getInviteeVerificationSignedToken(){return Tl},get getIsUserMemberOfTeam(){return Pl},get getItemsInTrashCan(){return uf},get getMembershipInvitation(){return vl},get getMembershipStatus(){return _l},get getModerators(){return Xh},get getMyProjects(){return Gd},get getMyUserBundle(){return Fc},get getNotificationEmail(){return Ph},get getOAuth2(){return ad},get getOAuth2Client(){return od},get getOAuth2RequestDescription(){return sd},get getOpenMembershipInvitationsForUser(){return Pi},get getPassingRecord(){return sl},get getPersonalAccessTokenRecords(){return Hd},get getPortalFileHandleServletUrl(){return Sf},get getPresignedUrlForWikiAttachment(){return wl},get getPrincipalAliasRequest(){return Fl},get getProfilePicPreviewPresignedUrl(){return af},get getProjectStatistics(){return Ad},get getQueryTableAsyncJobResults(){return Oc},get getQueryTableResults(){return Qr},get getReplies(){return Qh},get getReply(){return $h},get getReplyMessageUrl(){return qh},get getResearchProject(){return uh},get getRestrictionInformation(){return Sd},get getRootURL(){return yi},get getSchema(){return Eh},get getSchemaBinding(){return gh},get getSchemaValidationResults(){return yh},get getSubjects(){return Cf},get getSubmissionById(){return fh},get getSubmissionEligibility(){return ul},get getSubmissionTeams(){return al},get getSubscribers(){return Tf},get getSubscription(){return vf},get getSynapseTeamGeoData(){return Ef},get getTeam(){return Al},get getTeamAccessRequirements(){return fl},get getTeamList(){return Sl},get getTeamMembers(){return pl},get getThread(){return jh},get getThreadMessageUrl(){return Hh},get getUploadDestinationForStorageLocation(){return If},get getUseUtcTimeFromCookie(){return Ll},get getUserBundle(){return Lc},get getUserChallenges(){return nl},get getUserFavorites(){return el},get getUserGroupHeaders(){return $c},get getUserProfile(){return wc},get getUserProfileById(){return Uc},get getUserProfiles(){return Qc},get getUserProjects(){return Yd},get getUserTeamList(){return hl},get getValidationSchema(){return mh},get getVersion(){return Ec},get getWikiAttachmentsFromEntity(){return Cl},get getWikiAttachmentsFromEvaluation(){return Dl},get getWikiPageKeyForAccessRequirement(){return bl},get getWikiPageKeyForEntity(){return Nl},get hasAccessToEntity(){return vh},get hasUserAuthorizedOAuthClient(){return id},get isAliasAvailable(){return _h},get isInSynapseExperimentalMode(){return Ul},get isOAuthClientReverificationRequired(){return dd},get listFormData(){return Pd},get listFormDataAsFormAdmin(){return _d},get login(){return _c},get loginWith2fa(){return Rc},get lookupChildEntity(){return kc},get oAuthRegisterAccountStep2(){return Ci},get oAuthSessionRequest(){return vi},get oAuthUrlRequest(){return Ic},get pinThread(){return kh},get postCertifiedUserTestResponse(){return hf},get postReply(){return Mh},get postSubscription(){return Of},get postSubscriptionList(){return _f},get postThread(){return Wh},get postUserGroupHeadersWithAlias(){return Mc},get purgeFromTrashCan(){return lf},get putReply(){return Kh},get putThreadMessage(){return Yh},get putThreadTitle(){return Gh},get registerAccountStep1(){return Rh},get registerAccountStep2(){return Ih},get registerChallengeTeam(){return cl},get rejectFormData(){return Id},get removeItemFromDownloadListV2(){return oh},get removeUserFavorite(){return rl},get resetPassword(){return Dh},get restoreFromTrashCan(){return cf},get restoreThread(){return Jh},get searchAccessApprovals(){return rf},get searchAccessRequirements(){return Ld},get searchAccessSubmission(){return nf},get searchEntities(){return th},get setAccessTokenCookie(){return hn},get signOut(){return xl},get signSynapseTermsOfUse(){return Sh},get start2FAEnrollment(){return Nc},get startMultipartUpload(){return Ai},get submitDataAccessRequest(){return dh},get submitFormData(){return Od},get submitToEvaluation(){return Hl},get unPinThread(){return Vh},get unbindOAuthProviderToAccount(){return Ah},get updateAccessRequirementAcl(){return Ud},get updateDataAccessRequest(){return lh},get updateEntity(){return zc},get updateEntityACL(){return Yc},get updateEntityJson(){return Oh},get updateEvaluation(){return Yl},get updateEvaluationRound(){return td},get updateFormACL(){return Ed},get updateFormData(){return vd},get updateMyUserProfile(){return xc},get updateNotificationEmail(){return Fh},get updateOAuthClient(){return ld},get updateResearchProject(){return ah},get updateSubmissionStatus(){return ph},get updateTable(){return Vd},get uploadFile(){return $l},get validateDefiningSql(){return mc}},Symbol.toStringTag,{value:"Module"})),Go=K.createContext(null),Fs=Go;function xs(){return K.useContext(Fs)}const Yo=typeof Symbol=="function"&&Symbol.for,zo=Yo?Symbol.for("mui.nested"):"__THEME_NESTED__";function Jo(e,t){return typeof t=="function"?t(e):ae({},e,t)}function Xo(e){const{children:t,theme:r}=e,n=xs(),s=K.useMemo(()=>{const i=n===null?r:Jo(n,r);return i!=null&&(i[zo]=n!==null),i},[r,n]);return U.jsx(Fs.Provider,{value:s,children:t})}const Cn={};function Dn(e,t,r,n=!1){return K.useMemo(()=>{const s=e&&t[e]||t;if(typeof r=="function"){const i=r(s),c=e?ae({},t,{[e]:i}):i;return n?()=>c:c}return e?ae({},t,{[e]:r}):ae({},t,r)},[e,t,r,n])}function Zo(e){const{children:t,theme:r,themeId:n}=e,s=No(Cn),i=xs()||Cn,c=Dn(n,s,r),l=Dn(n,i,r,!0),m=c.direction==="rtl";return U.jsx(Xo,{theme:l,children:U.jsx(bo.Provider,{value:c,children:U.jsx(Uo,{value:m,children:t})})})}const ea=["theme"];function ta(e){let{theme:t}=e,r=Ls(e,ea);const n=t[In];return U.jsx(Zo,ae({},r,{themeId:n?In:void 0,theme:n||t}))}var ra="[object Map]",na="[object Set]",sa=Object.prototype,ia=sa.hasOwnProperty;function oa(e){if(e==null)return!0;if(Qo(e)&&(Ho(e)||typeof e=="string"||typeof e.splice=="function"||qo(e)||ko(e)||Vo(e)))return!e.length;var t=Mo(e);if(t==ra||t==na)return!e.size;if(jo(e))return!Ko(e).length;for(var r in e)if(ia.call(e,r))return!1;return!0}const aa=Us([U.jsx("path",{d:"M12 4c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8m1 13h-2v-2h2zm0-4h-2V7h2z",opacity:".3"},"0"),U.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m-1-5h2v2h-2zm0-8h2v6h-2z"},"1")],"ErrorTwoTone"),ua=Us([U.jsx("path",{d:"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8m4 10.59L14.59 16 12 13.41 9.41 16 8 14.59 10.59 12 8 9.41 9.41 8 12 10.59 14.59 8 16 9.41 13.41 12z",opacity:".3"},"0"),U.jsx("path",{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"},"1")],"HighlightOffTwoTone");var Gt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Tt=typeof window>"u"||"Deno"in window;function me(){}function ca(e,t){return typeof e=="function"?e(t):e}function Ar(e){return typeof e=="number"&&e>=0&&e!==1/0}function $s(e,t){return Math.max(e+(t||0)-Date.now(),0)}function wn(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:c,stale:l}=e;if(c){if(n){if(t.queryHash!==tn(c,t.options))return!1}else if(!Ut(t.queryKey,c))return!1}if(r!=="all"){const m=t.isActive();if(r==="active"&&!m||r==="inactive"&&m)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||typeof s<"u"&&s!==t.state.fetchStatus||i&&!i(t))}function Un(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(wt(t.options.mutationKey)!==wt(i))return!1}else if(!Ut(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function tn(e,t){return((t==null?void 0:t.queryKeyHashFn)||wt)(e)}function wt(e){return JSON.stringify(e,(t,r)=>Nr(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Ut(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Ut(e[r],t[r])):!1}function Ms(e,t){if(e===t)return e;const r=Ln(e)&&Ln(t);if(r||Nr(e)&&Nr(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),c=i.length,l=r?[]:{};let m=0;for(let g=0;g<c;g++){const y=r?g:i[g];!r&&e[y]===void 0&&t[y]===void 0&&n.includes(y)?(l[y]=void 0,m++):(l[y]=Ms(e[y],t[y]),l[y]===e[y]&&e[y]!==void 0&&m++)}return s===c&&m===s?e:l}return t}function Sr(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Ln(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Nr(e){if(!Fn(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const r=t.prototype;return!(!Fn(r)||!r.hasOwnProperty("isPrototypeOf"))}function Fn(e){return Object.prototype.toString.call(e)==="[object Object]"}function la(e){return new Promise(t=>{setTimeout(t,e)})}function br(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Ms(e,t):t}function da(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function ha(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var He,Fe,it,us,fa=(us=class extends Gt{constructor(){super();b(this,He,void 0);b(this,Fe,void 0);b(this,it,void 0);S(this,it,t=>{if(!Tt&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){f(this,Fe)||this.setEventListener(f(this,it))}onUnsubscribe(){var t;this.hasListeners()||((t=f(this,Fe))==null||t.call(this),S(this,Fe,void 0))}setEventListener(t){var r;S(this,it,t),(r=f(this,Fe))==null||r.call(this),S(this,Fe,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){f(this,He)!==t&&(S(this,He,t),this.onFocus())}onFocus(){this.listeners.forEach(t=>{t()})}isFocused(){var t;return typeof f(this,He)=="boolean"?f(this,He):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},He=new WeakMap,Fe=new WeakMap,it=new WeakMap,us),ir=new fa,ot,xe,at,cs,pa=(cs=class extends Gt{constructor(){super();b(this,ot,!0);b(this,xe,void 0);b(this,at,void 0);S(this,at,t=>{if(!Tt&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){f(this,xe)||this.setEventListener(f(this,at))}onUnsubscribe(){var t;this.hasListeners()||((t=f(this,xe))==null||t.call(this),S(this,xe,void 0))}setEventListener(t){var r;S(this,at,t),(r=f(this,xe))==null||r.call(this),S(this,xe,t(this.setOnline.bind(this)))}setOnline(t){f(this,ot)!==t&&(S(this,ot,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return f(this,ot)}},ot=new WeakMap,xe=new WeakMap,at=new WeakMap,cs),or=new pa;function ga(e){return Math.min(1e3*2**e,3e4)}function hr(e){return(e??"online")==="online"?or.isOnline():!0}var Ks=class{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Tr(e){return e instanceof Ks}function Bs(e){let t=!1,r=0,n=!1,s,i,c;const l=new Promise((P,p)=>{i=P,c=p}),m=P=>{var p;n||(O(new Ks(P)),(p=e.abort)==null||p.call(e))},g=()=>{t=!0},y=()=>{t=!1},v=()=>!ir.isFocused()||e.networkMode!=="always"&&!or.isOnline(),T=P=>{var p;n||(n=!0,(p=e.onSuccess)==null||p.call(e,P),s==null||s(),i(P))},O=P=>{var p;n||(n=!0,(p=e.onError)==null||p.call(e,P),s==null||s(),c(P))},A=()=>new Promise(P=>{var p;s=E=>{const a=n||!v();return a&&P(E),a},(p=e.onPause)==null||p.call(e)}).then(()=>{var P;s=void 0,n||(P=e.onContinue)==null||P.call(e)}),D=()=>{if(n)return;let P;try{P=e.fn()}catch(p){P=Promise.reject(p)}Promise.resolve(P).then(T).catch(p=>{var d;if(n)return;const E=e.retry??(Tt?0:3),a=e.retryDelay??ga,o=typeof a=="function"?a(r,p):a,h=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,p);if(t||!h){O(p);return}r++,(d=e.onFail)==null||d.call(e,r,p),la(o).then(()=>{if(v())return A()}).then(()=>{t?O(p):D()})})};return hr(e.networkMode)?D():A().then(D),{promise:l,cancel:m,continue:()=>(s==null?void 0:s())?l:Promise.resolve(),cancelRetry:g,continueRetry:y}}function ya(){let e=[],t=0,r=T=>{T()},n=T=>{T()},s=T=>setTimeout(T,0);const i=T=>{s=T},c=T=>{let O;t++;try{O=T()}finally{t--,t||g()}return O},l=T=>{t?e.push(T):s(()=>{r(T)})},m=T=>(...O)=>{l(()=>{T(...O)})},g=()=>{const T=e;e=[],T.length&&s(()=>{n(()=>{T.forEach(O=>{r(O)})})})};return{batch:c,batchCalls:m,schedule:l,setNotifyFunction:T=>{r=T},setBatchNotifyFunction:T=>{n=T},setScheduler:i}}var Z=ya(),We,ls,Qs=(ls=class{constructor(){b(this,We,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ar(this.gcTime)&&S(this,We,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Tt?1/0:5*60*1e3))}clearGcTimeout(){f(this,We)&&(clearTimeout(f(this,We)),S(this,We,void 0))}},We=new WeakMap,ls),ut,ct,ge,$e,ye,J,xt,Ge,lt,rr,Oe,Ce,ds,Ea=(ds=class extends Qs{constructor(t){super();b(this,lt);b(this,Oe);b(this,ut,void 0);b(this,ct,void 0);b(this,ge,void 0);b(this,$e,void 0);b(this,ye,void 0);b(this,J,void 0);b(this,xt,void 0);b(this,Ge,void 0);S(this,Ge,!1),S(this,xt,t.defaultOptions),M(this,lt,rr).call(this,t.options),S(this,J,[]),S(this,ge,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,S(this,ut,t.state||ma(this.options)),this.state=f(this,ut),this.scheduleGc()}get meta(){return this.options.meta}optionalRemove(){!f(this,J).length&&this.state.fetchStatus==="idle"&&f(this,ge).remove(this)}setData(t,r){const n=br(this.state.data,t,this.options);return M(this,Oe,Ce).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){M(this,Oe,Ce).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n;const r=f(this,$e);return(n=f(this,ye))==null||n.cancel(t),r?r.then(me).catch(me):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(f(this,ut))}isActive(){return f(this,J).some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||f(this,J).some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!$s(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=f(this,J).find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=f(this,ye))==null||r.continue()}onOnline(){var r;const t=f(this,J).find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=f(this,ye))==null||r.continue()}addObserver(t){f(this,J).includes(t)||(f(this,J).push(t),this.clearGcTimeout(),f(this,ge).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){f(this,J).includes(t)&&(S(this,J,f(this,J).filter(r=>r!==t)),f(this,J).length||(f(this,ye)&&(f(this,Ge)?f(this,ye).cancel({revert:!0}):f(this,ye).cancelRetry()),this.scheduleGc()),f(this,ge).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return f(this,J).length}invalidate(){this.state.isInvalidated||M(this,Oe,Ce).call(this,{type:"invalidate"})}fetch(t,r){var g,y,v,T;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(f(this,$e))return(g=f(this,ye))==null||g.continueRetry(),f(this,$e)}if(t&&M(this,lt,rr).call(this,t),!this.options.queryFn){const O=f(this,J).find(A=>A.options.queryFn);O&&M(this,lt,rr).call(this,O.options)}const n=new AbortController,s={queryKey:this.queryKey,meta:this.meta},i=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(S(this,Ge,!0),n.signal)})};i(s);const c=()=>this.options.queryFn?(S(this,Ge,!1),this.options.persister?this.options.persister(this.options.queryFn,s,this):this.options.queryFn(s)):Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)),l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:c};i(l),(y=this.options.behavior)==null||y.onFetch(l,this),S(this,ct,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((v=l.fetchOptions)==null?void 0:v.meta))&&M(this,Oe,Ce).call(this,{type:"fetch",meta:(T=l.fetchOptions)==null?void 0:T.meta});const m=O=>{var A,D,P,p;Tr(O)&&O.silent||M(this,Oe,Ce).call(this,{type:"error",error:O}),Tr(O)||((D=(A=f(this,ge).config).onError)==null||D.call(A,O,this),(p=(P=f(this,ge).config).onSettled)==null||p.call(P,this.state.data,O,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return S(this,ye,Bs({fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:O=>{var A,D,P,p;if(typeof O>"u"){m(new Error(`${this.queryHash} data is undefined`));return}this.setData(O),(D=(A=f(this,ge).config).onSuccess)==null||D.call(A,O,this),(p=(P=f(this,ge).config).onSettled)==null||p.call(P,O,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:m,onFail:(O,A)=>{M(this,Oe,Ce).call(this,{type:"failed",failureCount:O,error:A})},onPause:()=>{M(this,Oe,Ce).call(this,{type:"pause"})},onContinue:()=>{M(this,Oe,Ce).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode})),S(this,$e,f(this,ye).promise),f(this,$e)}},ut=new WeakMap,ct=new WeakMap,ge=new WeakMap,$e=new WeakMap,ye=new WeakMap,J=new WeakMap,xt=new WeakMap,Ge=new WeakMap,lt=new WeakSet,rr=function(t){this.options={...f(this,xt),...t},this.updateGcTime(this.options.gcTime)},Oe=new WeakSet,Ce=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:t.meta??null,fetchStatus:hr(this.options.networkMode)?"fetching":"paused",...!n.dataUpdatedAt&&{error:null,status:"pending"}};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Tr(s)&&s.revert&&f(this,ct)?{...f(this,ct),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Z.batch(()=>{f(this,J).forEach(n=>{n.onQueryUpdate()}),f(this,ge).notify({query:this,type:"updated",action:t})})},ds);function ma(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=typeof t<"u",n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ie,hs,va=(hs=class extends Gt{constructor(t={}){super();b(this,Ie,void 0);this.config=t,S(this,Ie,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??tn(s,r);let c=this.get(i);return c||(c=new Ea({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(c)),c}add(t){f(this,Ie).has(t.queryHash)||(f(this,Ie).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=f(this,Ie).get(t.queryHash);r&&(t.destroy(),r===t&&f(this,Ie).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Z.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return f(this,Ie).get(t)}getAll(){return[...f(this,Ie).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>wn(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>wn(t,n)):r}notify(t){Z.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Z.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Z.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ie=new WeakMap,hs),Ae,$t,le,dt,Se,Le,fs,Ta=(fs=class extends Qs{constructor(t){super();b(this,Se);b(this,Ae,void 0);b(this,$t,void 0);b(this,le,void 0);b(this,dt,void 0);this.mutationId=t.mutationId,S(this,$t,t.defaultOptions),S(this,le,t.mutationCache),S(this,Ae,[]),this.state=t.state||Oa(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...f(this,$t),...t},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){f(this,Ae).includes(t)||(f(this,Ae).push(t),this.clearGcTimeout(),f(this,le).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){S(this,Ae,f(this,Ae).filter(r=>r!==t)),this.scheduleGc(),f(this,le).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){f(this,Ae).length||(this.state.status==="pending"?this.scheduleGc():f(this,le).remove(this))}continue(){var t;return((t=f(this,dt))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,c,l,m,g,y,v,T,O,A,D,P,p,E,a,o,h,d,N;const r=()=>(S(this,dt,Bs({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,q)=>{M(this,Se,Le).call(this,{type:"failed",failureCount:C,error:q})},onPause:()=>{M(this,Se,Le).call(this,{type:"pause"})},onContinue:()=>{M(this,Se,Le).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),f(this,dt).promise),n=this.state.status==="pending";try{if(!n){M(this,Se,Le).call(this,{type:"pending",variables:t}),await((i=(s=f(this,le).config).onMutate)==null?void 0:i.call(s,t,this));const q=await((l=(c=this.options).onMutate)==null?void 0:l.call(c,t));q!==this.state.context&&M(this,Se,Le).call(this,{type:"pending",context:q,variables:t})}const C=await r();return await((g=(m=f(this,le).config).onSuccess)==null?void 0:g.call(m,C,t,this.state.context,this)),await((v=(y=this.options).onSuccess)==null?void 0:v.call(y,C,t,this.state.context)),await((O=(T=f(this,le).config).onSettled)==null?void 0:O.call(T,C,null,this.state.variables,this.state.context,this)),await((D=(A=this.options).onSettled)==null?void 0:D.call(A,C,null,t,this.state.context)),M(this,Se,Le).call(this,{type:"success",data:C}),C}catch(C){try{throw await((p=(P=f(this,le).config).onError)==null?void 0:p.call(P,C,t,this.state.context,this)),await((a=(E=this.options).onError)==null?void 0:a.call(E,C,t,this.state.context)),await((h=(o=f(this,le).config).onSettled)==null?void 0:h.call(o,void 0,C,this.state.variables,this.state.context,this)),await((N=(d=this.options).onSettled)==null?void 0:N.call(d,void 0,C,t,this.state.context)),C}finally{M(this,Se,Le).call(this,{type:"error",error:C})}}}},Ae=new WeakMap,$t=new WeakMap,le=new WeakMap,dt=new WeakMap,Se=new WeakSet,Le=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!hr(this.options.networkMode),status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Z.batch(()=>{f(this,Ae).forEach(n=>{n.onMutationUpdate(t)}),f(this,le).notify({mutation:this,type:"updated",action:t})})},fs);function Oa(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ee,Mt,Ye,ps,Pa=(ps=class extends Gt{constructor(t={}){super();b(this,Ee,void 0);b(this,Mt,void 0);b(this,Ye,void 0);this.config=t,S(this,Ee,[]),S(this,Mt,0)}build(t,r,n){const s=new Ta({mutationCache:this,mutationId:++zt(this,Mt)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){f(this,Ee).push(t),this.notify({type:"added",mutation:t})}remove(t){S(this,Ee,f(this,Ee).filter(r=>r!==t)),this.notify({type:"removed",mutation:t})}clear(){Z.batch(()=>{f(this,Ee).forEach(t=>{this.remove(t)})})}getAll(){return f(this,Ee)}find(t){const r={exact:!0,...t};return f(this,Ee).find(n=>Un(r,n))}findAll(t={}){return f(this,Ee).filter(r=>Un(t,r))}notify(t){Z.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){return S(this,Ye,(f(this,Ye)??Promise.resolve()).then(()=>{const t=f(this,Ee).filter(r=>r.state.isPaused);return Z.batch(()=>t.reduce((r,n)=>r.then(()=>n.continue().catch(me)),Promise.resolve()))}).then(()=>{S(this,Ye,void 0)})),f(this,Ye)}},Ee=new WeakMap,Mt=new WeakMap,Ye=new WeakMap,ps);function _a(e){return{onFetch:(t,r)=>{const n=async()=>{var A,D,P,p,E;const s=t.options,i=(P=(D=(A=t.fetchOptions)==null?void 0:A.meta)==null?void 0:D.fetchMore)==null?void 0:P.direction,c=((p=t.state.data)==null?void 0:p.pages)||[],l=((E=t.state.data)==null?void 0:E.pageParams)||[],m={pages:[],pageParams:[]};let g=!1;const y=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},v=t.options.queryFn||(()=>Promise.reject(new Error(`Missing queryFn: '${t.options.queryHash}'`))),T=async(a,o,h)=>{if(g)return Promise.reject();if(o==null&&a.pages.length)return Promise.resolve(a);const d={queryKey:t.queryKey,pageParam:o,direction:h?"backward":"forward",meta:t.options.meta};y(d);const N=await v(d),{maxPages:C}=t.options,q=h?ha:da;return{pages:q(a.pages,N,C),pageParams:q(a.pageParams,o,C)}};let O;if(i&&c.length){const a=i==="backward",o=a?qs:Cr,h={pages:c,pageParams:l},d=o(s,h);O=await T(h,d,a)}else{O=await T(m,l[0]??s.initialPageParam);const a=e??c.length;for(let o=1;o<a;o++){const h=Cr(s,O);O=await T(O,h)}}return O};t.options.persister?t.fetchFn=()=>{var s,i;return(i=(s=t.options).persister)==null?void 0:i.call(s,n,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=n}}}function Cr(e,{pages:t,pageParams:r}){const n=t.length-1;return e.getNextPageParam(t[n],t,r[n],r)}function qs(e,{pages:t,pageParams:r}){var n;return(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r)}function lg(e,t){return t?Cr(e,t)!=null:!1}function dg(e,t){return!t||!e.getPreviousPageParam?!1:qs(e,t)!=null}var W,Me,Ke,ht,ft,Be,pt,gt,gs,Ra=(gs=class{constructor(e={}){b(this,W,void 0);b(this,Me,void 0);b(this,Ke,void 0);b(this,ht,void 0);b(this,ft,void 0);b(this,Be,void 0);b(this,pt,void 0);b(this,gt,void 0);S(this,W,e.queryCache||new va),S(this,Me,e.mutationCache||new Pa),S(this,Ke,e.defaultOptions||{}),S(this,ht,new Map),S(this,ft,new Map),S(this,Be,0)}mount(){zt(this,Be)._++,f(this,Be)===1&&(S(this,pt,ir.subscribe(()=>{ir.isFocused()&&(this.resumePausedMutations(),f(this,W).onFocus())})),S(this,gt,or.subscribe(()=>{or.isOnline()&&(this.resumePausedMutations(),f(this,W).onOnline())})))}unmount(){var e,t;zt(this,Be)._--,f(this,Be)===0&&((e=f(this,pt))==null||e.call(this),S(this,pt,void 0),(t=f(this,gt))==null||t.call(this),S(this,gt,void 0))}isFetching(e){return f(this,W).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return f(this,Me).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=f(this,W).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);return t!==void 0?Promise.resolve(t):this.fetchQuery(e)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=f(this,W).get(n.queryHash),i=s==null?void 0:s.state.data,c=ca(t,i);if(!(typeof c>"u"))return f(this,W).build(this,n).setData(c,{...r,manual:!0})}setQueriesData(e,t,r){return Z.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=f(this,W).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=f(this,W);Z.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=f(this,W),n={type:"active",...e};return Z.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Z.batch(()=>f(this,W).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(me).catch(me)}invalidateQueries(e={},t={}){return Z.batch(()=>{if(f(this,W).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Z.batch(()=>f(this,W).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(me)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(me)}fetchQuery(e){const t=this.defaultQueryOptions(e);typeof t.retry>"u"&&(t.retry=!1);const r=f(this,W).build(this,t);return r.isStaleByTime(t.staleTime)?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(me).catch(me)}fetchInfiniteQuery(e){return e.behavior=_a(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(me).catch(me)}resumePausedMutations(){return f(this,Me).resumePausedMutations()}getQueryCache(){return f(this,W)}getMutationCache(){return f(this,Me)}getDefaultOptions(){return f(this,Ke)}setDefaultOptions(e){S(this,Ke,e)}setQueryDefaults(e,t){f(this,ht).set(wt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...f(this,ht).values()];let r={};return t.forEach(n=>{Ut(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){f(this,ft).set(wt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...f(this,ft).values()];let r={};return t.forEach(n=>{Ut(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...f(this,Ke).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=tn(t.queryKey,t)),typeof t.refetchOnReconnect>"u"&&(t.refetchOnReconnect=t.networkMode!=="always"),typeof t.throwOnError>"u"&&(t.throwOnError=!!t.suspense),typeof t.networkMode>"u"&&t.persister&&(t.networkMode="offlineFirst"),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...f(this,Ke).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){f(this,W).clear(),f(this,Me).clear()}},W=new WeakMap,Me=new WeakMap,Ke=new WeakMap,ht=new WeakMap,ft=new WeakMap,Be=new WeakMap,pt=new WeakMap,gt=new WeakMap,gs),ie,j,Kt,ne,ze,yt,Ne,Bt,Et,mt,Je,Xe,Qe,vt,Ze,bt,Qt,Dr,qt,wr,kt,Ur,Vt,Lr,jt,Fr,Ht,xr,Wt,$r,lr,ks,ys,Ia=(ys=class extends Gt{constructor(t,r){super();b(this,Ze);b(this,Qt);b(this,qt);b(this,kt);b(this,Vt);b(this,jt);b(this,Ht);b(this,Wt);b(this,lr);b(this,ie,void 0);b(this,j,void 0);b(this,Kt,void 0);b(this,ne,void 0);b(this,ze,void 0);b(this,yt,void 0);b(this,Ne,void 0);b(this,Bt,void 0);b(this,Et,void 0);b(this,mt,void 0);b(this,Je,void 0);b(this,Xe,void 0);b(this,Qe,void 0);b(this,vt,new Set);this.options=r,S(this,ie,t),S(this,Ne,null),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(f(this,j).addObserver(this),xn(f(this,j),this.options)?M(this,Ze,bt).call(this):this.updateResult(),M(this,Vt,Lr).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Mr(f(this,j),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Mr(f(this,j),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,M(this,jt,Fr).call(this),M(this,Ht,xr).call(this),f(this,j).removeObserver(this)}setOptions(t,r){const n=this.options,s=f(this,j);if(this.options=f(this,ie).defaultQueryOptions(t),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");M(this,Wt,$r).call(this),Sr(this.options,n)||f(this,ie).getQueryCache().notify({type:"observerOptionsUpdated",query:f(this,j),observer:this});const i=this.hasListeners();i&&$n(f(this,j),s,this.options,n)&&M(this,Ze,bt).call(this),this.updateResult(r),i&&(f(this,j)!==s||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&M(this,Qt,Dr).call(this);const c=M(this,qt,wr).call(this);i&&(f(this,j)!==s||this.options.enabled!==n.enabled||c!==f(this,Qe))&&M(this,kt,Ur).call(this,c)}getOptimisticResult(t){const r=f(this,ie).getQueryCache().build(f(this,ie),t),n=this.createResult(r,t);return Sa(this,n)&&(S(this,ne,n),S(this,yt,this.options),S(this,ze,f(this,j).state)),n}getCurrentResult(){return f(this,ne)}trackResult(t){const r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(f(this,vt).add(n),t[n])})}),r}getCurrentQuery(){return f(this,j)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=f(this,ie).defaultQueryOptions(t),n=f(this,ie).getQueryCache().build(f(this,ie),r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(t){return M(this,Ze,bt).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),f(this,ne)))}createResult(t,r){var d;const n=f(this,j),s=this.options,i=f(this,ne),c=f(this,ze),l=f(this,yt),g=t!==n?t.state:f(this,Kt),{state:y}=t;let{error:v,errorUpdatedAt:T,fetchStatus:O,status:A}=y,D=!1,P;if(r._optimisticResults){const N=this.hasListeners(),C=!N&&xn(t,r),q=N&&$n(t,n,r,s);(C||q)&&(O=hr(t.options.networkMode)?"fetching":"paused",y.dataUpdatedAt||(A="pending")),r._optimisticResults==="isRestoring"&&(O="idle")}if(r.select&&typeof y.data<"u")if(i&&y.data===(c==null?void 0:c.data)&&r.select===f(this,Bt))P=f(this,Et);else try{S(this,Bt,r.select),P=r.select(y.data),P=br(i==null?void 0:i.data,P,r),S(this,Et,P),S(this,Ne,null)}catch(N){S(this,Ne,N)}else P=y.data;if(typeof r.placeholderData<"u"&&typeof P>"u"&&A==="pending"){let N;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))N=i.data;else if(N=typeof r.placeholderData=="function"?r.placeholderData((d=f(this,mt))==null?void 0:d.state.data,f(this,mt)):r.placeholderData,r.select&&typeof N<"u")try{N=r.select(N),S(this,Ne,null)}catch(C){S(this,Ne,C)}typeof N<"u"&&(A="success",P=br(i==null?void 0:i.data,N,r),D=!0)}f(this,Ne)&&(v=f(this,Ne),P=f(this,Et),T=Date.now(),A="error");const p=O==="fetching",E=A==="pending",a=A==="error",o=E&&p;return{status:A,fetchStatus:O,isPending:E,isSuccess:A==="success",isError:a,isInitialLoading:o,isLoading:o,data:P,dataUpdatedAt:y.dataUpdatedAt,error:v,errorUpdatedAt:T,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>g.dataUpdateCount||y.errorUpdateCount>g.errorUpdateCount,isFetching:p,isRefetching:p&&!E,isLoadingError:a&&y.dataUpdatedAt===0,isPaused:O==="paused",isPlaceholderData:D,isRefetchError:a&&y.dataUpdatedAt!==0,isStale:rn(t,r),refetch:this.refetch}}updateResult(t){const r=f(this,ne),n=this.createResult(f(this,j),this.options);if(S(this,ze,f(this,j).state),S(this,yt,this.options),f(this,ze).data!==void 0&&S(this,mt,f(this,j)),Sr(n,r))return;S(this,ne,n);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:c}=this.options,l=typeof c=="function"?c():c;if(l==="all"||!l&&!f(this,vt).size)return!0;const m=new Set(l??f(this,vt));return this.options.throwOnError&&m.add("error"),Object.keys(f(this,ne)).some(g=>{const y=g;return f(this,ne)[y]!==r[y]&&m.has(y)})};(t==null?void 0:t.listeners)!==!1&&i()&&(s.listeners=!0),M(this,lr,ks).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&M(this,Vt,Lr).call(this)}},ie=new WeakMap,j=new WeakMap,Kt=new WeakMap,ne=new WeakMap,ze=new WeakMap,yt=new WeakMap,Ne=new WeakMap,Bt=new WeakMap,Et=new WeakMap,mt=new WeakMap,Je=new WeakMap,Xe=new WeakMap,Qe=new WeakMap,vt=new WeakMap,Ze=new WeakSet,bt=function(t){M(this,Wt,$r).call(this);let r=f(this,j).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(me)),r},Qt=new WeakSet,Dr=function(){if(M(this,jt,Fr).call(this),Tt||f(this,ne).isStale||!Ar(this.options.staleTime))return;const r=$s(f(this,ne).dataUpdatedAt,this.options.staleTime)+1;S(this,Je,setTimeout(()=>{f(this,ne).isStale||this.updateResult()},r))},qt=new WeakSet,wr=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(f(this,j)):this.options.refetchInterval)??!1},kt=new WeakSet,Ur=function(t){M(this,Ht,xr).call(this),S(this,Qe,t),!(Tt||this.options.enabled===!1||!Ar(f(this,Qe))||f(this,Qe)===0)&&S(this,Xe,setInterval(()=>{(this.options.refetchIntervalInBackground||ir.isFocused())&&M(this,Ze,bt).call(this)},f(this,Qe)))},Vt=new WeakSet,Lr=function(){M(this,Qt,Dr).call(this),M(this,kt,Ur).call(this,M(this,qt,wr).call(this))},jt=new WeakSet,Fr=function(){f(this,Je)&&(clearTimeout(f(this,Je)),S(this,Je,void 0))},Ht=new WeakSet,xr=function(){f(this,Xe)&&(clearInterval(f(this,Xe)),S(this,Xe,void 0))},Wt=new WeakSet,$r=function(){const t=f(this,ie).getQueryCache().build(f(this,ie),this.options);if(t===f(this,j))return;const r=f(this,j);S(this,j,t),S(this,Kt,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},lr=new WeakSet,ks=function(t){Z.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(f(this,ne))}),f(this,ie).getQueryCache().notify({query:f(this,j),type:"observerResultsUpdated"})})},ys);function Aa(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function xn(e,t){return Aa(e,t)||e.state.dataUpdatedAt>0&&Mr(e,t,t.refetchOnMount)}function Mr(e,t,r){if(t.enabled!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&rn(e,t)}return!1}function $n(e,t,r,n){return r.enabled!==!1&&(e!==t||n.enabled===!1)&&(!r.suspense||e.state.status!=="error")&&rn(e,r)}function rn(e,t){return e.isStaleByTime(t.staleTime)}function Sa(e,t){return!Sr(e.getCurrentResult(),t)}var Vs=K.createContext(void 0),Na=e=>{const t=K.useContext(Vs);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ba=({client:e,children:t})=>(K.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),U.jsx(Vs.Provider,{value:e,children:t})),js=K.createContext(!1),Ca=()=>K.useContext(js);js.Provider;function Da(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var wa=K.createContext(Da()),Ua=()=>K.useContext(wa);function La(e,t){return typeof e=="function"?e(...t):!!e}var Fa=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},xa=e=>{K.useEffect(()=>{e.clearReset()},[e])},$a=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&La(r,[e.error,n]),Ma=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},hg=(e,t)=>e.isLoading&&e.isFetching&&!t,Ka=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Ba=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Qa(e,t,r){const n=Na(r),s=Ca(),i=Ua(),c=n.defaultQueryOptions(e);c._optimisticResults=s?"isRestoring":"optimistic",Ma(c),Fa(c,i),xa(i);const[l]=K.useState(()=>new t(n,c)),m=l.getOptimisticResult(c);if(K.useSyncExternalStore(K.useCallback(g=>{const y=s?()=>{}:l.subscribe(Z.batchCalls(g));return l.updateResult(),y},[l,s]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),K.useEffect(()=>{l.setOptions(c,{listeners:!1})},[c,l]),Ka(c,m))throw Ba(c,l,i);if($a({result:m,errorResetBoundary:i,throwOnError:c.throwOnError,query:n.getQueryCache().get(c.queryHash)}))throw m.error;return c.notifyOnChangeProps?m:l.trackResult(m)}function _t(e,t){return Qa(e,Ia,t)}const Kr={CAN_REVIEW_SUBMISSIONS:[Jt.REVIEW_SUBMISSIONS],IS_EXEMPTION_ELIGIBLE:[Jt.EXEMPTION_ELIGIBLE],CAN_REVIEW_SUBMISSIONS_AND_IS_EXEMPTION_ELIGIBLE:[Jt.EXEMPTION_ELIGIBLE,Jt.REVIEW_SUBMISSIONS]},Mn=e=>JSON.stringify(e.sort()),fg=e=>{const t=Mn(e);return Object.keys(Kr).find(n=>t===Mn(Kr[n]))},pg=e=>Kr[e],gg={CAN_REVIEW_SUBMISSIONS:"Can Review",IS_EXEMPTION_ELIGIBLE:"Exempt Eligible",CAN_REVIEW_SUBMISSIONS_AND_IS_EXEMPTION_ELIGIBLE:"Can Review & Exempt Eligible"};var Hs={exports:{}};(function(e,t){(function(r){e.exports=r()})(function(r){var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function s(p,E){var a=p[0],o=p[1],h=p[2],d=p[3];a+=(o&h|~o&d)+E[0]-680876936|0,a=(a<<7|a>>>25)+o|0,d+=(a&o|~a&h)+E[1]-389564586|0,d=(d<<12|d>>>20)+a|0,h+=(d&a|~d&o)+E[2]+606105819|0,h=(h<<17|h>>>15)+d|0,o+=(h&d|~h&a)+E[3]-1044525330|0,o=(o<<22|o>>>10)+h|0,a+=(o&h|~o&d)+E[4]-176418897|0,a=(a<<7|a>>>25)+o|0,d+=(a&o|~a&h)+E[5]+1200080426|0,d=(d<<12|d>>>20)+a|0,h+=(d&a|~d&o)+E[6]-1473231341|0,h=(h<<17|h>>>15)+d|0,o+=(h&d|~h&a)+E[7]-45705983|0,o=(o<<22|o>>>10)+h|0,a+=(o&h|~o&d)+E[8]+1770035416|0,a=(a<<7|a>>>25)+o|0,d+=(a&o|~a&h)+E[9]-1958414417|0,d=(d<<12|d>>>20)+a|0,h+=(d&a|~d&o)+E[10]-42063|0,h=(h<<17|h>>>15)+d|0,o+=(h&d|~h&a)+E[11]-1990404162|0,o=(o<<22|o>>>10)+h|0,a+=(o&h|~o&d)+E[12]+1804603682|0,a=(a<<7|a>>>25)+o|0,d+=(a&o|~a&h)+E[13]-40341101|0,d=(d<<12|d>>>20)+a|0,h+=(d&a|~d&o)+E[14]-1502002290|0,h=(h<<17|h>>>15)+d|0,o+=(h&d|~h&a)+E[15]+1236535329|0,o=(o<<22|o>>>10)+h|0,a+=(o&d|h&~d)+E[1]-165796510|0,a=(a<<5|a>>>27)+o|0,d+=(a&h|o&~h)+E[6]-1069501632|0,d=(d<<9|d>>>23)+a|0,h+=(d&o|a&~o)+E[11]+643717713|0,h=(h<<14|h>>>18)+d|0,o+=(h&a|d&~a)+E[0]-373897302|0,o=(o<<20|o>>>12)+h|0,a+=(o&d|h&~d)+E[5]-701558691|0,a=(a<<5|a>>>27)+o|0,d+=(a&h|o&~h)+E[10]+38016083|0,d=(d<<9|d>>>23)+a|0,h+=(d&o|a&~o)+E[15]-660478335|0,h=(h<<14|h>>>18)+d|0,o+=(h&a|d&~a)+E[4]-405537848|0,o=(o<<20|o>>>12)+h|0,a+=(o&d|h&~d)+E[9]+568446438|0,a=(a<<5|a>>>27)+o|0,d+=(a&h|o&~h)+E[14]-1019803690|0,d=(d<<9|d>>>23)+a|0,h+=(d&o|a&~o)+E[3]-187363961|0,h=(h<<14|h>>>18)+d|0,o+=(h&a|d&~a)+E[8]+1163531501|0,o=(o<<20|o>>>12)+h|0,a+=(o&d|h&~d)+E[13]-1444681467|0,a=(a<<5|a>>>27)+o|0,d+=(a&h|o&~h)+E[2]-51403784|0,d=(d<<9|d>>>23)+a|0,h+=(d&o|a&~o)+E[7]+1735328473|0,h=(h<<14|h>>>18)+d|0,o+=(h&a|d&~a)+E[12]-1926607734|0,o=(o<<20|o>>>12)+h|0,a+=(o^h^d)+E[5]-378558|0,a=(a<<4|a>>>28)+o|0,d+=(a^o^h)+E[8]-2022574463|0,d=(d<<11|d>>>21)+a|0,h+=(d^a^o)+E[11]+1839030562|0,h=(h<<16|h>>>16)+d|0,o+=(h^d^a)+E[14]-35309556|0,o=(o<<23|o>>>9)+h|0,a+=(o^h^d)+E[1]-1530992060|0,a=(a<<4|a>>>28)+o|0,d+=(a^o^h)+E[4]+1272893353|0,d=(d<<11|d>>>21)+a|0,h+=(d^a^o)+E[7]-155497632|0,h=(h<<16|h>>>16)+d|0,o+=(h^d^a)+E[10]-1094730640|0,o=(o<<23|o>>>9)+h|0,a+=(o^h^d)+E[13]+681279174|0,a=(a<<4|a>>>28)+o|0,d+=(a^o^h)+E[0]-358537222|0,d=(d<<11|d>>>21)+a|0,h+=(d^a^o)+E[3]-722521979|0,h=(h<<16|h>>>16)+d|0,o+=(h^d^a)+E[6]+76029189|0,o=(o<<23|o>>>9)+h|0,a+=(o^h^d)+E[9]-640364487|0,a=(a<<4|a>>>28)+o|0,d+=(a^o^h)+E[12]-421815835|0,d=(d<<11|d>>>21)+a|0,h+=(d^a^o)+E[15]+530742520|0,h=(h<<16|h>>>16)+d|0,o+=(h^d^a)+E[2]-995338651|0,o=(o<<23|o>>>9)+h|0,a+=(h^(o|~d))+E[0]-198630844|0,a=(a<<6|a>>>26)+o|0,d+=(o^(a|~h))+E[7]+1126891415|0,d=(d<<10|d>>>22)+a|0,h+=(a^(d|~o))+E[14]-1416354905|0,h=(h<<15|h>>>17)+d|0,o+=(d^(h|~a))+E[5]-57434055|0,o=(o<<21|o>>>11)+h|0,a+=(h^(o|~d))+E[12]+1700485571|0,a=(a<<6|a>>>26)+o|0,d+=(o^(a|~h))+E[3]-1894986606|0,d=(d<<10|d>>>22)+a|0,h+=(a^(d|~o))+E[10]-1051523|0,h=(h<<15|h>>>17)+d|0,o+=(d^(h|~a))+E[1]-2054922799|0,o=(o<<21|o>>>11)+h|0,a+=(h^(o|~d))+E[8]+1873313359|0,a=(a<<6|a>>>26)+o|0,d+=(o^(a|~h))+E[15]-30611744|0,d=(d<<10|d>>>22)+a|0,h+=(a^(d|~o))+E[6]-1560198380|0,h=(h<<15|h>>>17)+d|0,o+=(d^(h|~a))+E[13]+1309151649|0,o=(o<<21|o>>>11)+h|0,a+=(h^(o|~d))+E[4]-145523070|0,a=(a<<6|a>>>26)+o|0,d+=(o^(a|~h))+E[11]-1120210379|0,d=(d<<10|d>>>22)+a|0,h+=(a^(d|~o))+E[2]+718787259|0,h=(h<<15|h>>>17)+d|0,o+=(d^(h|~a))+E[9]-343485551|0,o=(o<<21|o>>>11)+h|0,p[0]=a+p[0]|0,p[1]=o+p[1]|0,p[2]=h+p[2]|0,p[3]=d+p[3]|0}function i(p){var E=[],a;for(a=0;a<64;a+=4)E[a>>2]=p.charCodeAt(a)+(p.charCodeAt(a+1)<<8)+(p.charCodeAt(a+2)<<16)+(p.charCodeAt(a+3)<<24);return E}function c(p){var E=[],a;for(a=0;a<64;a+=4)E[a>>2]=p[a]+(p[a+1]<<8)+(p[a+2]<<16)+(p[a+3]<<24);return E}function l(p){var E=p.length,a=[1732584193,-271733879,-1732584194,271733878],o,h,d,N,C,q;for(o=64;o<=E;o+=64)s(a,i(p.substring(o-64,o)));for(p=p.substring(o-64),h=p.length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=0;o<h;o+=1)d[o>>2]|=p.charCodeAt(o)<<(o%4<<3);if(d[o>>2]|=128<<(o%4<<3),o>55)for(s(a,d),o=0;o<16;o+=1)d[o]=0;return N=E*8,N=N.toString(16).match(/(.*?)(.{0,8})$/),C=parseInt(N[2],16),q=parseInt(N[1],16)||0,d[14]=C,d[15]=q,s(a,d),a}function m(p){var E=p.length,a=[1732584193,-271733879,-1732584194,271733878],o,h,d,N,C,q;for(o=64;o<=E;o+=64)s(a,c(p.subarray(o-64,o)));for(p=o-64<E?p.subarray(o-64):new Uint8Array(0),h=p.length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=0;o<h;o+=1)d[o>>2]|=p[o]<<(o%4<<3);if(d[o>>2]|=128<<(o%4<<3),o>55)for(s(a,d),o=0;o<16;o+=1)d[o]=0;return N=E*8,N=N.toString(16).match(/(.*?)(.{0,8})$/),C=parseInt(N[2],16),q=parseInt(N[1],16)||0,d[14]=C,d[15]=q,s(a,d),a}function g(p){var E="",a;for(a=0;a<4;a+=1)E+=n[p>>a*8+4&15]+n[p>>a*8&15];return E}function y(p){var E;for(E=0;E<p.length;E+=1)p[E]=g(p[E]);return p.join("")}y(l("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function p(E,a){return E=E|0||0,E<0?Math.max(E+a,0):Math.min(E,a)}ArrayBuffer.prototype.slice=function(E,a){var o=this.byteLength,h=p(E,o),d=o,N,C,q,G;return a!==r&&(d=p(a,o)),h>d?new ArrayBuffer(0):(N=d-h,C=new ArrayBuffer(N),q=new Uint8Array(C),G=new Uint8Array(this,h,N),q.set(G),C)}}();function v(p){return/[\u0080-\uFFFF]/.test(p)&&(p=unescape(encodeURIComponent(p))),p}function T(p,E){var a=p.length,o=new ArrayBuffer(a),h=new Uint8Array(o),d;for(d=0;d<a;d+=1)h[d]=p.charCodeAt(d);return E?h:o}function O(p){return String.fromCharCode.apply(null,new Uint8Array(p))}function A(p,E,a){var o=new Uint8Array(p.byteLength+E.byteLength);return o.set(new Uint8Array(p)),o.set(new Uint8Array(E),p.byteLength),a?o:o.buffer}function D(p){var E=[],a=p.length,o;for(o=0;o<a-1;o+=2)E.push(parseInt(p.substr(o,2),16));return String.fromCharCode.apply(String,E)}function P(){this.reset()}return P.prototype.append=function(p){return this.appendBinary(v(p)),this},P.prototype.appendBinary=function(p){this._buff+=p,this._length+=p.length;var E=this._buff.length,a;for(a=64;a<=E;a+=64)s(this._hash,i(this._buff.substring(a-64,a)));return this._buff=this._buff.substring(a-64),this},P.prototype.end=function(p){var E=this._buff,a=E.length,o,h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d;for(o=0;o<a;o+=1)h[o>>2]|=E.charCodeAt(o)<<(o%4<<3);return this._finish(h,a),d=y(this._hash),p&&(d=D(d)),this.reset(),d},P.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},P.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},P.prototype.setState=function(p){return this._buff=p.buff,this._length=p.length,this._hash=p.hash,this},P.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},P.prototype._finish=function(p,E){var a=E,o,h,d;if(p[a>>2]|=128<<(a%4<<3),a>55)for(s(this._hash,p),a=0;a<16;a+=1)p[a]=0;o=this._length*8,o=o.toString(16).match(/(.*?)(.{0,8})$/),h=parseInt(o[2],16),d=parseInt(o[1],16)||0,p[14]=h,p[15]=d,s(this._hash,p)},P.hash=function(p,E){return P.hashBinary(v(p),E)},P.hashBinary=function(p,E){var a=l(p),o=y(a);return E?D(o):o},P.ArrayBuffer=function(){this.reset()},P.ArrayBuffer.prototype.append=function(p){var E=A(this._buff.buffer,p,!0),a=E.length,o;for(this._length+=p.byteLength,o=64;o<=a;o+=64)s(this._hash,c(E.subarray(o-64,o)));return this._buff=o-64<a?new Uint8Array(E.buffer.slice(o-64)):new Uint8Array(0),this},P.ArrayBuffer.prototype.end=function(p){var E=this._buff,a=E.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],h,d;for(h=0;h<a;h+=1)o[h>>2]|=E[h]<<(h%4<<3);return this._finish(o,a),d=y(this._hash),p&&(d=D(d)),this.reset(),d},P.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},P.ArrayBuffer.prototype.getState=function(){var p=P.prototype.getState.call(this);return p.buff=O(p.buff),p},P.ArrayBuffer.prototype.setState=function(p){return p.buff=T(p.buff,!0),P.prototype.setState.call(this,p)},P.ArrayBuffer.prototype.destroy=P.prototype.destroy,P.ArrayBuffer.prototype._finish=P.prototype._finish,P.ArrayBuffer.hash=function(p,E){var a=m(new Uint8Array(p)),o=y(a);return E?D(o):o},P})})(Hs);var qa=Hs.exports;const ka=Es(qa);var Ws={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var Gs=Ws.parse=Ha,Kn=Ws.serialize=Wa,Va=decodeURIComponent,ja=encodeURIComponent,er=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Ha(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var r={},n=t||{},s=e.split(";"),i=n.decode||Va,c=0;c<s.length;c++){var l=s[c],m=l.indexOf("=");if(!(m<0)){var g=l.substring(0,m).trim();if(r[g]==null){var y=l.substring(m+1,l.length).trim();y[0]==='"'&&(y=y.slice(1,-1)),r[g]=Ga(y,i)}}}return r}function Wa(e,t,r){var n=r||{},s=n.encode||ja;if(typeof s!="function")throw new TypeError("option encode is invalid");if(!er.test(e))throw new TypeError("argument name is invalid");var i=s(t);if(i&&!er.test(i))throw new TypeError("argument val is invalid");var c=e+"="+i;if(n.maxAge!=null){var l=n.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(l)}if(n.domain){if(!er.test(n.domain))throw new TypeError("option domain is invalid");c+="; Domain="+n.domain}if(n.path){if(!er.test(n.path))throw new TypeError("option path is invalid");c+="; Path="+n.path}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");c+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(c+="; HttpOnly"),n.secure&&(c+="; Secure"),n.sameSite){var m=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(m){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c}function Ga(e,t){try{return t(e)}catch{return e}}function Ya(){return typeof document=="object"&&typeof document.cookie=="string"}function za(e,t){return typeof e=="string"?Gs(e,t):typeof e=="object"&&e!==null?e:{}}function Ja(e,t){return typeof t>"u"&&(t=!e||e[0]!=="{"&&e[0]!=="["&&e[0]!=='"'),!t}function Bn(e,t){t===void 0&&(t={});var r=Xa(e);if(Ja(r,t.doNotParse))try{return JSON.parse(r)}catch{}return e}function Xa(e){return e&&e[0]==="j"&&e[1]===":"?e.substr(2):e}var je=function(){return je=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},je.apply(this,arguments)},Za=function(){function e(t,r){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=za(t,r),new Promise(function(){n.HAS_DOCUMENT_COOKIE=Ya()}).catch(function(){})}return e.prototype._updateBrowserValues=function(t){this.HAS_DOCUMENT_COOKIE&&(this.cookies=Gs(document.cookie,t))},e.prototype._emitChange=function(t){for(var r=0;r<this.changeListeners.length;++r)this.changeListeners[r](t)},e.prototype.get=function(t,r,n){return r===void 0&&(r={}),this._updateBrowserValues(n),Bn(this.cookies[t],r)},e.prototype.getAll=function(t,r){t===void 0&&(t={}),this._updateBrowserValues(r);var n={};for(var s in this.cookies)n[s]=Bn(this.cookies[s],t);return n},e.prototype.set=function(t,r,n){var s;typeof r=="object"&&(r=JSON.stringify(r)),this.cookies=je(je({},this.cookies),(s={},s[t]=r,s)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=Kn(t,r,n)),this._emitChange({name:t,value:r,options:n})},e.prototype.remove=function(t,r){var n=r=je(je({},r),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=je({},this.cookies),delete this.cookies[t],this.HAS_DOCUMENT_COOKIE&&(document.cookie=Kn(t,"",n)),this._emitChange({name:t,value:void 0,options:r})},e.prototype.addChangeListener=function(t){this.changeListeners.push(t)},e.prototype.removeChangeListener=function(t){var r=this.changeListeners.indexOf(t);r>=0&&this.changeListeners.splice(r,1)},e}();`${Ot(u.REPO_ENDPOINT)}`;const L="/repo/v1",eu="/auth/v1",tu="/file/v1",ru="/async/start",nu="/async/get",su=`${L}/entity`,iu=e=>`${L}/entity/alias/${e}`,qe=e=>`${L}/entity/${e}`,ou=(e,t)=>`${L}/entity/${e}${t?`/version/${t}`:""}`,yg=e=>`${L}/entity/${e}/version`,au=(e,t)=>`${ou(e,t)}/bundle2`,uu=e=>`${L}/entity/${e}/access`,Ys=e=>`${qe(e)}/acl`,cu=e=>`${qe(e)}/evaluation`,lu=e=>`${qe(e)}/path`,du=e=>`${qe(e)}/permissions`,hu=`${L}/entity/header`,zs=e=>`${L}/entity/${e}/json`,fu=(e,t)=>`${L}/entity/${e}/version/${t}/json`,Js=e=>`${L}/entity/${e}/schema`,pu=e=>`${Js(e)}/binding`,gu=e=>`${Js(e)}/validation`,yu=e=>`${qe(e)}/accessRequirement`,Eu=e=>`${qe(e)}/table/query/async/start`,mu=(e,t)=>`${qe(e)}/table/query/async/get/${t}`,Qn=e=>`${L}/asynchronous/job/${e}`,Xs=`${L}/schema`,vu=e=>`${L}/schema/type/registered/${e}`,Tu=`${Xs}/type/validation${ru}`,Ou=e=>`${Xs}/type/validation${nu}/${e}`,Zs=`${L}/user`,Pu=`${Zs}/bundle`,_u=e=>`${Zs}/${e}`,Ru=e=>`${_u(e)}/bundle`,nn=`${L}/userProfile`,Iu=e=>`${nn}/${e}`,Au=`${L}/notificationEmail`,Su=`${L}/principal/available`,Nu=e=>`${L}/account/emailValidation?portalEndpoint=${e}`,bu=`${L}/account2`,Cu=`${eu}/termsOfUse2`,Du=`${L}/verificationSubmission`,wu=`${L}/accessRequirement/search`,Uu=`${L}/dataAccessSubmission/search`,Rt=e=>`${L}/accessRequirement/${e}`,fr=e=>Rt(e)+"/acl",Lu=e=>Rt(e)+"/status",Fu=e=>`${L}/access_requirement/${e}/wikikey`,Eg=(e,t)=>`${L}/access_requirement/${e}/wiki/${t}`,sn=`${L}/favorite`,ei=`${L}/userGroupHeaders`,xu=`${L}/userGroupHeaders/batch`,ti=e=>`${L}/dataAccessSubmission/${e}`,$u=e=>`${L}/userProfile/${e}/image/preview`,Mu=e=>Rt(e)+"/approvedSubmissionInfo",on=`${L}/evaluation`,ri=e=>on+`/${e}`,Ku=(e,t)=>t?`${L}/entity/${e}/version/${t}/generatedBy`:`${L}/entity/${e}/generatedBy`,an=`${L}/trashcan`,Bu=`${an}/view`,Qu=e=>`${an}/restore/${e}`,qu=e=>`${an}/purge/${e}`,ni=e=>`${L}/team/${e}`,un=(e,t)=>ni(e)+`/member/${t}`,ku=e=>`${L}/teamMembers/${e}`,si="https://www.synapse.org/#!SignedToken:",ii="https://www.synapse.org/#!Team:",Vu=`${L}/teamMember/?teamEndpoint=${ii}&notificationUnsubscribeEndpoint=${si}`,ju=(e,t)=>un(e,t)+`?teamEndpoint=${ii}&notificationUnsubscribeEndpoint=${si}`,Hu=e=>`${L}/membershipInvitation/${e}`,Wu=e=>`${L}/membershipInvitation/${e}/inviteeVerificationSignedToken`,Gu=e=>`${L}/membershipInvitation/${e}/inviteeId`,pr=`${L}/forum`,Yu=e=>`${pr}/${e}/threads`,It=`${L}/thread`,Yt=e=>`${It}/${e}`,zu=`${L}/doi`,Ju=`${zu}/association`,oi=`${L}/accessApproval`,Xu=e=>`${oi}/${e}`,ai=`${L}/dataAccessRequest`,Zu=e=>`${ai}/${e}/submission`,ec=e=>`${Rt(e)}/dataAccessRequestForUpdate`,tc=`${L}/researchProject`,rc=e=>`${Rt(e)}/researchProjectForUpdate`,nc=`${tu}/fileHandle`,sc=`${nc}/batch`,ic=`${L}/projects`,oc=e=>`${L}/entity/${e}/actions/download`,ac="DOWNLOAD_LIST_UPDATED_EVENT",ui=e=>{const t=new CustomEvent(ac,{detail:e});document.dispatchEvent(t)};class st extends Error{constructor(r,n,s,i){super(n);nt(this,"status");nt(this,"reason");nt(this,"errorResponse");nt(this,"url");this.status=r,this.reason=n,this.url=s,this.errorResponse=i,Object.setPrototypeOf(this,new.target.prototype)}}function ci(){return!window.location.hostname.toLowerCase().endsWith(".synapse.org")}async function At(e){let t=null;try{t=await e()}catch(r){if(!(r instanceof st&&r.status===404))throw r}return t}async function li(e){let t=null;try{t=await e()}catch(r){if(r instanceof st&&r.status===401&&r.errorResponse&&"errorCode"in r.errorResponse&&r.errorResponse.errorCode===zi.TWO_FA_REQUIRED&&r.errorResponse.concreteType==="org.sagebionetworks.repo.model.auth.TwoFactorAuthErrorResponse")return r.errorResponse;throw r}return t}function gr(e){return new Promise(t=>{setTimeout(t.bind(null,{}),e)})}const uc=[0,429,502,503,504],cc=[502,503],lc=3,yr=async(e,t,r=1e3)=>{let n;try{n=await fetch(e,t)}catch(m){throw console.error(m),new st(0,Eo,e.toString())}let s=1;for(;n.status&&uc.includes(n.status)&&(await gr(r),r=r*2,n=await fetch(e,t),!(cc.includes(n.status)&&(s++,s==lc))););const i=n.headers.get("Content-Type"),c=await n.text();let l=c;try{i&&i.includes("application/json")&&(l=JSON.parse(c))}catch{console.warn("Failed to parse response as JSON",c)}if(n.ok)return l;throw l!==null&&typeof l=="object"&&"reason"in l?new st(n.status,l.reason,e.toString(),l):new st(n.status,JSON.stringify(l),e.toString())},I=(e,t,r,n,s={})=>{const i={body:JSON.stringify(t),headers:{Accept:"*/*","Access-Control-Request-Headers":"authorization","Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{}},method:"POST",mode:"cors",...s},c=Ot(n);return yr(c+e,i)},R=(e,t,r,n={})=>{const s={headers:{Accept:"*/*","Access-Control-Request-Headers":"authorization",...t?{Authorization:`Bearer ${t}`}:{}},method:"GET",mode:"cors",...n},i=Ot(r);return yr(i+e,s)},ee=(e,t,r,n={})=>{const s={headers:{Accept:"*/*","Access-Control-Request-Headers":"authorization",...t?{Authorization:`Bearer ${t}`}:{}},method:"DELETE",mode:"cors",...n},i=Ot(r);return yr(i+e,s)},k=(e,t,r,n,s={})=>{const i={body:JSON.stringify(t),headers:{Accept:"*/*","Access-Control-Request-Headers":"authorization","Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{}},method:"PUT",mode:"cors",...s},c=Ot(n);return yr(c+e,i)};function X(...e){return t=>!!(t&&typeof t=="object"&&"concreteType"in t&&e.includes(t.concreteType))}const mg=X(Xi,Ji),vg=X(ms),Tg=X(Ts),Og=X(eo,Zi,ms),Pg=X(vs),_g=X(to),Rg=X(io),Ig=X(oo),Ag=X(ro),Sg=X(no),Ng=X(zr),bg=X(so);function Cg(e){return e.node_type?e.node_type:e.type===void 0?_.PROJECT:di(e.type)}function Dg(e){switch(e){case _.PROJECT:case _.FOLDER:return!0;case _.LINK:case _.DOCKER_REPO:case _.FILE:case _.TABLE:case _.SUBMISSION_VIEW:case _.ENTITY_VIEW:case _.DATASET:case _.DATASET_COLLECTION:case _.MATERIALIZED_VIEW:case _.VIRTUAL_TABLE:return!1;default:throw new Error(`Unknown entity type: ${e}`)}}function wg(e){switch(e){case _.PROJECT:case _.FOLDER:case _.LINK:case _.DOCKER_REPO:case _.FILE:return!1;case _.TABLE:case _.SUBMISSION_VIEW:case _.ENTITY_VIEW:case _.DATASET:case _.DATASET_COLLECTION:case _.MATERIALIZED_VIEW:case _.VIRTUAL_TABLE:return!0;default:throw new Error(`Unknown entity type: ${e}`)}}function Ug(e){switch(e){case _.PROJECT:return"Project";case _.FOLDER:return"Folder";case _.FILE:return"File";case _.TABLE:return"Table";case _.LINK:return"Link";case _.ENTITY_VIEW:return"View";case _.DOCKER_REPO:return"Docker Repository";case _.SUBMISSION_VIEW:return"Submission View";case _.DATASET:return"Dataset";case _.DATASET_COLLECTION:return"Dataset Collection";case _.MATERIALIZED_VIEW:return"Materialized View";case _.VIRTUAL_TABLE:return"Virtual Table";default:return console.warn("Entity type could not be mapped to name:",e),""}}function di(e){switch(e){case _.PROJECT:case"org.sagebionetworks.repo.model.Project":return _.PROJECT;case _.FOLDER:case"org.sagebionetworks.repo.model.Folder":return _.FOLDER;case _.FILE:case zr:return _.FILE;case _.LINK:case"org.sagebionetworks.repo.model.Link":return _.LINK;case _.DOCKER_REPO:case"org.sagebionetworks.repo.model.docker.DockerRepository":return _.DOCKER_REPO;case _.TABLE:case en:return _.TABLE;case _.SUBMISSION_VIEW:case"org.sagebionetworks.repo.model.table.SubmissionView":return _.SUBMISSION_VIEW;case _.ENTITY_VIEW:case Zr:return _.ENTITY_VIEW;case _.DATASET:case Xr:return _.DATASET;case _.DATASET_COLLECTION:case Jr:return _.DATASET_COLLECTION;case _.MATERIALIZED_VIEW:case Ps:return _.MATERIALIZED_VIEW;case _.VIRTUAL_TABLE:case Os:return _.VIRTUAL_TABLE;default:throw new Error(`Unknown entity type: ${e}`)}}function Lg(e){switch(e){case _.PROJECT:return"org.sagebionetworks.repo.model.Project";case _.FOLDER:return"org.sagebionetworks.repo.model.Folder";case _.FILE:return"org.sagebionetworks.repo.model.FileEntity";case _.LINK:return"org.sagebionetworks.repo.model.Link";case _.DOCKER_REPO:return"org.sagebionetworks.repo.model.docker.DockerRepository";case _.TABLE:return"org.sagebionetworks.repo.model.table.TableEntity";case _.SUBMISSION_VIEW:return"org.sagebionetworks.repo.model.table.SubmissionView";case _.ENTITY_VIEW:return"org.sagebionetworks.repo.model.table.EntityView";case _.DATASET:return"org.sagebionetworks.repo.model.table.Dataset";case _.DATASET_COLLECTION:return"org.sagebionetworks.repo.model.table.DatasetCollection";case _.MATERIALIZED_VIEW:return"org.sagebionetworks.repo.model.table.MaterializedView";case _.VIRTUAL_TABLE:return"org.sagebionetworks.repo.model.table.VirtualTable";default:throw new Error(`Unknown entity type: ${e}`)}}function dc(e){switch(e){case _.PROJECT:case _.FOLDER:case _.LINK:case _.DOCKER_REPO:case _.SUBMISSION_VIEW:case _.MATERIALIZED_VIEW:case _.VIRTUAL_TABLE:return!1;case _.FILE:case _.TABLE:case _.ENTITY_VIEW:case _.DATASET:case _.DATASET_COLLECTION:return!0;default:throw new Error(`Unknown entity type: ${e}`)}}const hc=X(...ao),Fg=X(en),xg=X(Rs),hi=X(Xr),fc=X(Jr),$g=e=>hi(e)||fc(e),Mg=X(Zr);function Kg(e){return(e.viewTypeMask&_s)!=0}function Bg(e){return e.viewTypeMask===_s}function pc(e){return dc(di(e.concreteType))}function Qg(e){return pc(e)?e.isLatestVersion?hc(e)?hi(e)?"Draft":"Current":`${e.versionNumber.toString()} (Current)`:e.versionNumber.toString():(console.warn("Entity isn't versionable:",e),"")}function qg(e){return e.startsWith("syn")?e:`syn${e}`}const Ct=["name","description","id","etag","createdOn","modifiedOn","createdBy","modifiedBy","parentId","concreteType"],fi=[...Ct,"versionNumber","versionLabel","versionComment","isLatestVersion"],nr=[...fi,"columnIds","isSearchEnabled"],Br=[...nr],qn=[...Br,"items"],kg={[Ts]:[...Ct,"linksTo","linksToClassName"],[vs]:[...Ct,"repositoryName","isManaged"],[zr]:[...fi,"dataFileHandleId","fileNameOverride"],[Rs]:[...Br,"scopeIds"],[Xr]:[...qn,"size","checksum"],[Jr]:[...qn],[Zr]:[...Br,"scopeIds","viewTypeMask","type"],[en]:nr,[Ps]:[...nr,"definingSQL"],[Os]:[...nr,"definingSQL"],[uo]:Ct,[co]:[...Ct,"alias"]},Vg={ALL_TABLES:[_.TABLE,_.ENTITY_VIEW,_.SUBMISSION_VIEW,_.DATASET,_.DATASET_COLLECTION,_.MATERIALIZED_VIEW,_.VIRTUAL_TABLE],CONTAINER:[_.PROJECT,_.FOLDER]};function Er(e,t=!1){return t?(Object.keys(e).forEach(r=>e[r]===void 0?delete e[r]:{}),e):Object.keys(e).reduce((r,n)=>{const s=r;return e[n]!==void 0&&(s[n]=e[n]),s},{})}const gc=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];function kn(e){if(!e)return"";const t=Math.floor(Math.log(e)/Math.log(1024));return!e&&"0 Bytes"||(e/Math.pow(1024,t)).toFixed(2)+" "+gc[t]}const Lt=new Za,pi=5242880,yc=1e4,gi=1;function yi(){const e=window.location.port?`:${window.location.port}`:"";return`${window.location.protocol}//${window.location.hostname}${e}/`}const Ec=()=>R("/repo/v1/version",void 0,u.REPO_ENDPOINT);function mc(e,t,r){return I("/repo/v1/validateDefiningSql",{definingSql:e,entityType:t},r,u.REPO_ENDPOINT)}const vc=async(e,t=void 0)=>{const r=await I(`/repo/v1/entity/${e.entityId}/table/download/csv/async/start`,e,t,u.REPO_ENDPOINT);return _e(r.token,`/repo/v1/entity/${e.entityId}/table/download/csv/async/get/${r.token}`,t)},Ei=(e,t=void 0)=>R(`/file/v1/fileHandle/${e}`,t,u.REPO_ENDPOINT),Tc=(e,t=void 0,r,n,s=!0)=>R(`/file/v1/file/${e}?fileAssociateType=${r}&fileAssociateId=${n}&redirect=${s}`,t,u.REPO_ENDPOINT),mi=(e,t=void 0)=>R(`/file/v1/fileHandle/${e}/url?redirect=false`,t,u.REPO_ENDPOINT),cn=async(e,t,r,n)=>{let s=await R(Qn(e),r,u.REPO_ENDPOINT);for(n==null||n(s);s.jobState&&s.jobState==="PROCESSING";)await gr(500),s=await R(Qn(e),r,u.REPO_ENDPOINT),n==null||n(s);if(s.jobState==="FAILED"){const i=await R(t,r,u.REPO_ENDPOINT);console.warn("SynapseClient.getAsyncResultFromJobId should have thrown an error, but instead retrieved the following response:",i)}return s},_e=async(e,t,r)=>(await cn(e,t,r)).responseBody,Oc=async(e,t,r)=>{const n=await I(Eu(e.entityId),e,t,u.REPO_ENDPOINT);return cn(n.token,mu(e.entityId,n.token),t,r)},Qr=async(e,t,r)=>{const n=await I(`/repo/v1/entity/${e.entityId}/table/query/async/start`,e,t,u.REPO_ENDPOINT,{signal:r});return _e(n.token,`/repo/v1/entity/${e.entityId}/table/query/async/get/${n.token}`,t)},Pc=async(e,t=void 0,r)=>{let n=0;const{query:s,...i}=e,c={...i,query:{...s,offset:n,limit:void 0},partMask:e.partMask|mo},l=await Qr(c,t,r);let m=l.queryResult.queryResults.rows.length<l.maxRowsPerPage;for(n+=l.queryResult.queryResults.rows.length,c.query.limit=l.maxRowsPerPage;!m;){c.query.offset=n;const g=await Qr(c,t,r);l.queryResult.queryResults.rows.push(...g.queryResult.queryResults.rows),m=g.queryResult.queryResults.rows.length<c.query.limit,n+=g.queryResult.queryResults.rows.length}return l};async function _c(e,t,r,n=u.REPO_ENDPOINT){return li(()=>I("/auth/v1/login2",{username:e,password:t,authenticationReceipt:r},void 0,n))}function Rc(e,t=u.REPO_ENDPOINT){return I("/auth/v1/2fa/token",e,void 0,t)}const Ic=(e,t,r,n=u.REPO_ENDPOINT)=>I("/auth/v1/oauth2/authurl",{provider:e,redirectUrl:t,state:r},void 0,n),vi=(e,t,r,n=u.REPO_ENDPOINT)=>li(()=>I("/auth/v1/oauth2/session2",{provider:e,authenticationCode:t,redirectUrl:r},void 0,n));function Ac(e){return R("/auth/v1/2fa",e,u.REPO_ENDPOINT)}function Sc(e){return ee("/auth/v1/2fa",e,u.REPO_ENDPOINT)}function Nc(e){return I("/auth/v1/2fa/enroll",null,e,u.REPO_ENDPOINT)}function bc(e,t){return I("/auth/v1/2fa",e,t,u.REPO_ENDPOINT)}function Cc(e){return I("/auth/v1/2fa/recoveryCodes",null,e,u.REPO_ENDPOINT)}const Ti=(e,t)=>I(su,e,t,u.REPO_ENDPOINT),Dc=(e,t)=>Ti({name:e,concreteType:"org.sagebionetworks.repo.model.Project"},t),wc=e=>R(nn,e,u.REPO_ENDPOINT),Uc=(e,t)=>R(Iu(e),t,u.REPO_ENDPOINT),Lc=(e,t,r)=>R(`${Ru(e)}?mask=${t}`,r,u.REPO_ENDPOINT),Fc=(e,t)=>R(`${Pu}?mask=${e}`,t,u.REPO_ENDPOINT),xc=(e,t=void 0)=>k("/repo/v1/userProfile",e,t,u.REPO_ENDPOINT),$c=(e="",t=lo.ALL,r=0,n=20)=>R(ei+`?prefix=${e}&typeFilter=${t}&offset=${r}&limit=${n}`,void 0,u.REPO_ENDPOINT),Mc=e=>I(`${ei}/aliases`,{list:e},void 0,u.REPO_ENDPOINT),Kc=e=>R(xu+`?ids=${e.join(",")}`,void 0,u.REPO_ENDPOINT),Bc=async(e={},t)=>{const r=new URLSearchParams;e.accessType!=null&&r.set("accessType",e.accessType),e.activeOnly!=null&&r.set("activeOnly",e.activeOnly.toString()),e.evaluationIds!=null&&r.set("evaluationIds",e.evaluationIds.join(","));const n=(s,i)=>{r.set("limit",s.toString()),r.set("offset",i.toString());const c=`${on}?${r.toString()}`;return R(c,t,u.REPO_ENDPOINT)};if(e.evaluationIds){const s=await tt(n);return{totalNumberOfResults:s.length,results:s}}return n(e.limit??20,e.offset??0)},Qc=(e,t=void 0)=>I(nn,{list:e},t,u.REPO_ENDPOINT),qc=(e,t=void 0,r)=>I("/repo/v1/entity/children",e,t,u.REPO_ENDPOINT,{signal:r}),kc=(e,t=void 0)=>I("/repo/v1/entity/child",e,t,u.REPO_ENDPOINT),Oi=(e,t=void 0)=>I(sc,e,t,u.REPO_ENDPOINT),Vc=async(e,t=void 0)=>{const r=await I("/file/v1/file/bulk/async/start",e,t,u.REPO_ENDPOINT);return _e(r.token,`/file/v1/file/bulk/async/get/${r.token}`,t)},jc=(e=void 0,t,r)=>{if(t.indexOf(".")>-1){const s=t.split(".");t=s[0],r=s[1]}const n=r?`/repo/v1/entity/${t}/version/${r}`:`/repo/v1/entity/${t}`;return R(n,e,u.REPO_ENDPOINT)},Hc=(e,t)=>ln(e.map(r=>({targetId:r})),t),ln=(e,t)=>{const r=e.map(n=>{if(n.targetId.indexOf(".")>-1){const s=n.targetId.split(".");return{targetId:s[0],version:s[1]}}else return n});return I(hu,{references:r},t,u.REPO_ENDPOINT)},Wc=(e,t)=>At(()=>R(iu(e),t,u.REPO_ENDPOINT)),Gc=async(e,t,r)=>(await ln([{targetId:e,targetVersionNumber:t}],r)).results[0],Yc=(e,t=void 0)=>k(Ys(e.id),e,t,u.REPO_ENDPOINT),zc=(e,t=void 0,r)=>{let n=`/repo/v1/entity/${e.id}`;return r&&(n+="?newVersion=true"),k(n,e,t,u.REPO_ENDPOINT)},Jc=(e=void 0,t)=>ee(qe(t),e,u.REPO_ENDPOINT),Xc=(e,t,r,n)=>I(au(e,r),t,n,u.REPO_ENDPOINT);function dn(e){return dr[e]}const Zc=(e,t,r="",n=dr.ENTITY)=>{const s=dn(n),i=`/repo/v1/${s==null?void 0:s.toLocaleLowerCase()}/${t}/wiki/${r}`;return R(i,e,u.REPO_ENDPOINT)};function el(e,t=0,r=200,n="NAME",s="ASC"){const i=new URLSearchParams;i.set("offset",t.toString()),i.set("limit",r.toString()),i.set("sort",n),i.set("sortDirection",s);const c=`${sn}?${i.toString()}`;return R(c,e,u.REPO_ENDPOINT)}function tl(e,t){return I(`${sn}/${e}`,null,t,u.REPO_ENDPOINT)}const rl=(e,t)=>ee(`${sn}/${e}`,t,u.REPO_ENDPOINT),nl=(e,t,r=0,n=200)=>{const s=`/repo/v1/challenge?participantId=${t}&offset=${r}&limit=${n}`;return R(s,e,u.REPO_ENDPOINT)},sl=(e,t)=>{const r=`/repo/v1//user/${e}/certifiedUserPassingRecord`;return R(r,t,u.REPO_ENDPOINT)},il=(e,t,r=0,n=200)=>{const s=`/repo/v1/challenge/${t}/challengeTeam?&offset=${r}&limit=${n}`;return R(s,e,u.REPO_ENDPOINT)},ol=(e,t)=>tt((n,s)=>{const i=`/repo/v1/challenge/${t}/challengeTeam?&offset=${s}&limit=${n}`;return R(i,e,u.REPO_ENDPOINT)}),al=(e,t,r=0,n=50)=>{const s=`/repo/v1/challenge/${t}/submissionTeams?&offset=${r}&limit=${n}`;return R(s,e,u.REPO_ENDPOINT)},ul=(e,t,r)=>{const n=`/repo/v1/evaluation/${e}/team/${t}/submissionEligibility`;return R(n,r,u.REPO_ENDPOINT)},cl=(e,t)=>{const r=`/repo/v1/challenge/${String(e.challengeId)}/challengeTeam`;return I(r,e,t,u.REPO_ENDPOINT)},ll=(e,t)=>{const r=`/repo/v1/entity/${e}/challenge`;return R(r,t,u.REPO_ENDPOINT)};function dl(e,t){return I("/repo/v1/team",e,t,u.REPO_ENDPOINT)}const hl=(e,t,r=0,n=200)=>{const s=`/repo/v1/user/${t}/team?offset=${r}&limit=${n}`;return R(s,e,u.REPO_ENDPOINT)},fl=(e,t)=>tt((n,s)=>{const i=`/repo/v1/team/${t}/accessRequirement?offset=${s}&limit=${n}`;return R(i,e,u.REPO_ENDPOINT)}),pl=(e,t,r="",n=10,s=0)=>{const i=`${ku(t)}?limit=${n}&offset=${s}${r?`&fragment=${r}`:""}`;return R(i,e,u.REPO_ENDPOINT)},gl=e=>k(Vu,e,void 0,u.REPO_ENDPOINT),yl=(e,t,r)=>k(ju(e,t),void 0,r,u.REPO_ENDPOINT);function Pi(e,t){return R(`${L}/user/${e}/openInvitation`,t,u.REPO_ENDPOINT)}function El(e,t){return tt(()=>Pi(e,t))}function ml(e,t){return I(`${L}/membershipInvitation`,e,t,u.REPO_ENDPOINT)}const vl=e=>I(Hu(e.membershipInvitationId),e,void 0,u.REPO_ENDPOINT),Tl=(e,t)=>R(Wu(e),t,u.REPO_ENDPOINT),Ol=(e,t,r)=>k(Gu(t),e,r,u.REPO_ENDPOINT),Pl=(e,t,r)=>{const n=un(e,t);return At(()=>R(n,r,u.REPO_ENDPOINT))},_l=(e,t,r)=>{const n=`${un(e,t)}/membershipStatus`;return R(n,r,u.REPO_ENDPOINT)},Rl=(e,t)=>I("/repo/v1/membershipRequest",e,t,u.REPO_ENDPOINT),Il=(e,t,r)=>ee(`/repo/v1/team/${e}/member/${t}`,r,u.REPO_ENDPOINT),Al=(e,t)=>R(ni(e),t,u.REPO_ENDPOINT),Sl=(e,t)=>I("/repo/v1/teamList",{list:e},t,u.REPO_ENDPOINT),Nl=(e,t)=>{const r=`/repo/v1/entity/${t}/wikikey`;return R(r,e,u.REPO_ENDPOINT)},bl=(e,t)=>{const r=Fu(t);return R(r,e,u.REPO_ENDPOINT)},Cl=(e,t,r,n=dr.ENTITY)=>{const i=`/repo/v1/${dn(n).toLocaleLowerCase()}/${t}/wiki2/${r}/attachmenthandles`;return R(i,e,u.REPO_ENDPOINT)},Dl=(e,t,r)=>{const n=`/repo/v1/evaluation/${t}/wiki/${r}/attachmenthandles`;return R(n,e,u.REPO_ENDPOINT)},wl=(e,t,r,n,s=dr.ENTITY)=>{const c=`/repo/v1/${dn(s).toLocaleLowerCase()}/${t}/wiki2/${r}/attachment?fileName=${n}&redirect=false`;return R(c,e,u.REPO_ENDPOINT)},Ul=()=>!!Lt.get(vo),hn=async e=>{if(ci())e?Lt.set(Ir,e,{maxAge:60*60*24*10,path:"/"}):(Lt.remove(Ir,{path:"/"}),await gr(100));else return I("Portal/sessioncookie",{sessionToken:e},void 0,u.PORTAL_ENDPOINT,{credentials:"include"})},_i=async()=>ci()?Promise.resolve(Lt.get(Ir)):R("Portal/sessioncookie?validate=true",void 0,u.PORTAL_ENDPOINT,{credentials:"include"}),Ll=()=>Lt.get(To)==="true",Fl=(e,t)=>I("/repo/v1/principal/alias",t,e,u.REPO_ENDPOINT),xl=async()=>{await hn(void 0)},$l=(e,t,r,n=gi,s=r.type,i,c)=>new Promise((l,m)=>{const g=Math.max(pi,r.size/yc),y={contentType:s,fileName:t,fileSizeBytes:r.size,partSizeBytes:g,storageLocationId:n};Ri(r).then(v=>{y.contentMD5Hex=v,Ai(e,t,r,y,l,m,i,c)})}),Ri=e=>new Promise((t,r)=>{const n=File.prototype.slice,s=e,i=2097152,c=Math.ceil(s.size/i),l=new ka.ArrayBuffer,m=new FileReader;let g=0;m.onload=function(v){if(console.log("read chunk nr",g+1,"of",c),l.append(m.result),g++,g<c)y();else{console.log("finished loading");const T=l.end();console.info("computed hash",T),t(T)}},m.onerror=function(){console.warn("oops, something went wrong."),r(m.error)};const y=()=>{const v=g*i,T=v+i>=s.size?s.size:v+i;m.readAsArrayBuffer(n.call(s,v,T))};y()}),Ii=(e,t,r,n,s,i,c,l,m,g,y)=>{if(r[e-1]){g();return}const v=t.uploadId,T={uploadId:v,contentType:"application/octet-stream",partNumbers:[e]},O=`/file/v1/file/multipart/${v}/presigned/url/batch`;I(O,T,n,u.REPO_ENDPOINT).then(async A=>{const D=A.partPresignedUrls[0].uploadPresignedUrl,P=(e-1)*c.partSizeBytes;let p=e*c.partSizeBytes-1;p>=c.fileSizeBytes&&(p=c.fileSizeBytes-1);const E=i.slice(P,p+1,T.contentType);await Ml(D,E,T.contentType,y),Ri(E).then(a=>{const o=`/file/v1/file/multipart/${v}/add/${e}?partMD5Hex=${a}`;k(o,void 0,n,u.REPO_ENDPOINT).then(h=>{h.addPartState==="ADD_SUCCESS"?(r[e-1]=!0,g(),fn(t,r,s,n,l,m)):gr(1e3).then(()=>{Ii(e,t,r,n,s,i,c,l,m,g)})})})})},fn=(e,t,r,n,s,i)=>{if(t.every(c=>c)){const c=`/file/v1/file/multipart/${e.uploadId}/complete`;k(c,void 0,n,u.REPO_ENDPOINT).then(l=>{s({fileHandleId:l.resultFileHandleId,fileName:r})}).catch(l=>{i(l)})}},Ml=async(e,t,r,n)=>{const s=new AbortController,i=s.signal,l=setInterval(()=>{n&&n()&&s.abort()},1e3);try{await fetch(e,{method:"PUT",headers:{"Content-Type":r},body:t,signal:i})}finally{clearInterval(l)}},Ai=(e,t,r,n,s,i,c,l)=>{I("/file/v1/file/multipart",n,e,u.REPO_ENDPOINT).then(g=>{const y=g.partsState.split("").map(O=>O==="1");let v=0;const T=()=>{v++,c&&c({value:v,total:y.length})};for(let O=0;O<y.length;O=O+1)y[O]?T():Ii(O+1,g,y,e,t,r,n,s,i,T,l);fn(g,y,t,e,s,i)}).catch(g=>{i(g)})},Kl=(e,t)=>new Promise((r,n)=>{const s=Ei(e,t),i=mi(e,t);Promise.all([s,i]).then(c=>{const l=c[0],m=c[1];return Si(l,m).then(g=>{r(g)})}).catch(c=>{n(c)})}),Si=(e,t,r=pi)=>new Promise((n,s)=>{e.contentSize<r?fetch(t,{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":e.contentType}}).then(i=>{i.text().then(c=>{n(c)})}):s(`File size (${kn(e.contentSize)}) exceeds the maximum size that can be downloaded (${kn(r)})`)}),Bl=(e,t,r,n,s)=>new Promise((i,c)=>{const l=[{associateObjectId:e.id,associateObjectType:ho.FileEntity,fileHandleId:e.dataFileHandleId}];Oi({includeFileHandles:r||!1,includePreSignedURLs:n||!1,includePreviewPreSignedURLs:s||!1,requestedFiles:l},t).then(g=>{g.requestedFiles.length&&g.requestedFiles[0].fileHandleId!==void 0?i(g.requestedFiles[0]):c(g.requestedFiles[0].failureCode)}).catch(g=>{c(g)})}),Ni=(e,t)=>I("/repo/v1/download/list/add",{batchToAdd:e},t,u.REPO_ENDPOINT),Ql=(e,t,r)=>Ni([{fileEntityId:e,versionNumber:t}],r),ql=async(e,t)=>{const n=await I("/repo/v1/download/list/package/async/start",{zipFileName:e,includeManifest:!0,concreteType:"org.sagebionetworks.repo.model.download.DownloadListPackageRequest"},t,u.REPO_ENDPOINT);return _e(n.token,`/repo/v1/download/list/package/async/get/${n.token}`,t)},kl=async(e=void 0)=>{const r=await I("/repo/v1/download/list/manifest/async/start",{csvTableDescriptor:{},concreteType:"org.sagebionetworks.repo.model.download.DownloadListManifestRequest"},e,u.REPO_ENDPOINT);return _e(r.token,`/repo/v1/download/list/manifest/async/get/${r.token}`,e)},Vl=async(e,t=void 0)=>{const r=await I("/repo/v1/download/list/add/async/start",e,t,u.REPO_ENDPOINT);return _e(r.token,`/repo/v1/download/list/add/async/get/${r.token}`,t)},jl=(e,t,r)=>I(`/repo/v1/entity/${e}/acl`,t,r,u.REPO_ENDPOINT),Hl=(e,t,r,n)=>{let s=`/repo/v1/evaluation/submission?etag=${r}`;return n&&(s+=`&submissionEligibilityHash=${n}`),I(s,t,e,u.REPO_ENDPOINT)},Wl=(e,t)=>R(`/repo/v1/evaluation/${e}/permissions`,t,u.REPO_ENDPOINT),Gl=(e,t)=>e?R(ri(e),t,u.REPO_ENDPOINT):Promise.reject(new Error("evalId is empty")),Yl=(e,t)=>e.id?k(ri(e.id),e,t,u.REPO_ENDPOINT):Promise.reject(new Error("evaluation does not have an ID")),zl=(e,t)=>I(on,e,t,u.REPO_ENDPOINT),Jl=(e,t)=>ee(`/repo/v1/evaluation/${e}`,t,u.REPO_ENDPOINT),Xl=(e,t,r)=>R(`/repo/v1/evaluation/${e}/round/${t}`,r,u.REPO_ENDPOINT),Zl=(e,t,r)=>I(`/repo/v1/evaluation/${e}/round/list`,t??{},r,u.REPO_ENDPOINT),ed=(e,t)=>I(`/repo/v1/evaluation/${e.evaluationId}/round`,e,t,u.REPO_ENDPOINT),td=(e,t)=>k(`/repo/v1/evaluation/${e.evaluationId}/round/${e.id}`,e,t,u.REPO_ENDPOINT),rd=(e,t,r)=>ee(`/repo/v1/evaluation/${e}/round/${t}`,r,u.REPO_ENDPOINT),nd=(e,t)=>R(`/repo/v1/evaluation/submission/query?query=${encodeURI(e)}`,t,u.REPO_ENDPOINT),sd=e=>I("/auth/v1/oauth2/description",e,void 0,u.REPO_ENDPOINT),id=(e,t)=>I("/auth/v1/oauth2/consentcheck",e,t,u.REPO_ENDPOINT),od=e=>R(`/auth/v1/oauth2/client/${e}`,void 0,u.REPO_ENDPOINT),ad=(e,t)=>R(`/auth/v1/oauth2/client${t?"?nextPageToken="+t:""}`,e,u.REPO_ENDPOINT),ud=(e,t)=>I("/auth/v1/oauth2/client",e,t,u.REPO_ENDPOINT),cd=(e,t)=>ee(`/auth/v1/oauth2/client/${e}`,t,u.REPO_ENDPOINT),ld=(e,t)=>k(`/auth/v1/oauth2/client/${e.client_id}`,e,t,u.REPO_ENDPOINT),dd=(e,t)=>k(`/auth/v1/oauth2/client/${e.client_id}/verificationPrecheck`,e,t,u.REPO_ENDPOINT),hd=(e,t)=>I(`/auth/v1/oauth2/client/secret/${t}`,void 0,e,u.REPO_ENDPOINT),fd=async e=>R("/auth/v1/authenticatedOn",e,u.REPO_ENDPOINT),pd=(e,t)=>I("/auth/v1/oauth2/consent",e,t,u.REPO_ENDPOINT),gd=(e,t)=>I(`/repo/v1/form/group?name=${encodeURI(e)}`,void 0,t,u.REPO_ENDPOINT),yd=(e,t)=>R(`/repo/v1/form/group/${e}/acl`,t,u.REPO_ENDPOINT),Ed=(e,t,r)=>k(`/repo/v1/form/group/${e}/acl`,t,r,u.REPO_ENDPOINT),md=(e,t,r,n)=>{const s={name:t,fileHandleId:r};return I(`/repo/v1/form/data?groupId=${e}`,s,n,u.REPO_ENDPOINT)},vd=(e,t,r,n)=>{const s={name:t,fileHandleId:r};return k(`/repo/v1/form/data/${e}`,s,n,u.REPO_ENDPOINT)},Td=(e,t)=>ee(`/repo/v1/form/data/${e}`,t,u.REPO_ENDPOINT),Od=(e,t)=>I(`/repo/v1/form/data/${e}/submit`,void 0,t,u.REPO_ENDPOINT),Pd=(e,t)=>I("/repo/v1/form/data/list",e,t,u.REPO_ENDPOINT),_d=(e,t)=>I("/repo/v1/form/data/list/reviewer",e,t,u.REPO_ENDPOINT),Rd=(e,t)=>k(`/repo/v1/form/data/${e}/accept`,void 0,t,u.REPO_ENDPOINT),Id=(e,t,r)=>{const n={reason:t};return k(`/repo/v1/form/data/${e}/reject`,n,r,u.REPO_ENDPOINT)},Ad=(e,t)=>I("/repo/v1/statistics",e,t,u.REPO_ENDPOINT),Sd=(e,t)=>I("/repo/v1/restrictionInformation",e,t,u.REPO_ENDPOINT),Nd=(e,t,r=50,n=0)=>{const s=`${yu(t)}?limit=${r}&offset=${n}`;return R(s,e,u.REPO_ENDPOINT)},bd=(e,t)=>R(Rt(t),e,u.REPO_ENDPOINT),Cd=(e,t)=>At(()=>R(fr(t),e,u.REPO_ENDPOINT)),Dd=(e,t)=>ee(fr(t),e,u.REPO_ENDPOINT),wd=(e,t)=>I(fr(t.id),t,e,u.REPO_ENDPOINT),Ud=(e,t)=>k(fr(t.id),t,e,u.REPO_ENDPOINT),Ld=(e,t)=>I(wu,t,e,u.REPO_ENDPOINT);function Fd(e,t){return R(Lu(t),e,u.REPO_ENDPOINT)}const xd=(e,t)=>tt((n,s)=>{const i=`/repo/v1/entity/${t}/accessRequirement?limit=${n}&offset=${s}`;return R(i,e,u.REPO_ENDPOINT)});function $d(e,t){return I(`/repo/v1/entity/${e}/lockAccessRequirement`,null,t,u.REPO_ENDPOINT)}const Md=async(e,t)=>{const r=`${Xu(t)}`;return R(r,e,u.REPO_ENDPOINT)},Kd=async(e,t)=>I(oi,t,e,u.REPO_ENDPOINT),Bd=e=>R("/file/v1/download/list",e,u.REPO_ENDPOINT),Qd=(e,t)=>{const r="/file/v1/download/order",n=e?`${r}?zipFileName=${e}`:r;return I(n,void 0,t,u.REPO_ENDPOINT)},tt=async e=>{let r=0,n=!0;const s=[];for(;n;)try{const i=await e(50,r);s.push(...i.results),r+=i.results.length,i.results.length<50&&(n=!1)}catch(i){throw Error(`Error on getting paginated results ${i}`)}return s};async function pn(e){let t=!0,r;const n=[];for(;t;)try{const s=await e(r);"results"in s?n.push(...s.results):"page"in s&&n.push(...s.page),r=s.nextPageToken,r||(t=!1)}catch(s){throw Error(`Error on getting paginated results ${s}`)}return n}const qd=(e,t)=>I("/file/v1/download/list/remove",{list:e},t,u.REPO_ENDPOINT).then(r=>(ui(r),r)),kd=e=>ee("/file/v1/download/list",e,u.REPO_ENDPOINT).then(()=>{ui(void 0)}),Vd=async(e,t=void 0)=>{const r=await I(`/repo/v1/entity/${e.entityId}/table/transaction/async/start`,e,t,u.REPO_ENDPOINT);return _e(r.token,`/repo/v1/entity/${e.entityId}/table/transaction/async/get/${r.token}`,t)},jd=(e,t)=>I("/auth/v1/personalAccessToken",e,t,u.REPO_ENDPOINT),Hd=(e,t)=>R(`/auth/v1/personalAccessToken${t?"?nextPageToken="+t:""}`,e,u.REPO_ENDPOINT),Wd=(e,t)=>ee(`/auth/v1/personalAccessToken/${e}`,t,u.REPO_ENDPOINT),Gd=(e,t={})=>{const r=new URLSearchParams(Er(t));return R(`${ic}?${r.toString()}`,e,u.REPO_ENDPOINT)},Yd=(e,t={},r)=>{const n=new URLSearchParams(Er(t));return R(`/repo/v1/projects/user/${e}?${n.toString()}`,r,u.REPO_ENDPOINT)},zd=(e,t)=>R(Ys(e),t,u.REPO_ENDPOINT),Jd=(e,t={},r)=>{const n=new URLSearchParams(Er(t));return tt((i,c)=>{const l=`${cu(e)}?offset=${c}&limit=${i}&${n.toString()}`;return R(l,r,u.REPO_ENDPOINT)})},Xd=(e,t)=>R(du(e),t,u.REPO_ENDPOINT),Zd=(e,t)=>R(lu(e),t,u.REPO_ENDPOINT),eh=(e,t,r=0,n=200)=>R(`/repo/v1/entity/${e}/version?offset=${r}&limit=${n}`,t,u.REPO_ENDPOINT),th=(e,t)=>I("/repo/v1/search",e,t,u.REPO_ENDPOINT);async function gn(e,t){const n=await I("/repo/v1/download/list/query/async/start",{concreteType:"org.sagebionetworks.repo.model.download.DownloadListQueryRequest",requestDetails:t},e,u.REPO_ENDPOINT);return(await _e(n.token,`/repo/v1/download/list/query/async/get/${n.token}`,e)).responseDetails}const rh=e=>ee("/repo/v1/download/list",e,u.REPO_ENDPOINT),nh=(e,t=void 0)=>gn(t,e),sh=(e=void 0)=>gn(e,{concreteType:"org.sagebionetworks.repo.model.download.FilesStatisticsRequest"}),bi=(e,t=void 0)=>gn(t,e),ih=(e,t=void 0)=>pn(()=>bi(e,t)),oh=(e,t=void 0)=>I("/repo/v1/download/list/remove",{batchToRemove:[e]},t,u.REPO_ENDPOINT),ah=(e,t)=>I(tc,e,t,u.REPO_ENDPOINT),uh=(e,t)=>R(rc(e),t,u.REPO_ENDPOINT),ch=(e,t)=>R(ec(e),t,u.REPO_ENDPOINT);function lh(e,t){return I(ai,e,t,u.REPO_ENDPOINT)}const dh=(e,t)=>I(Zu(e.requestId),e,t,u.REPO_ENDPOINT),hh=(e,t)=>k(`/repo/v1/dataAccessSubmission/${e}/cancellation`,void 0,t,u.REPO_ENDPOINT),fh=(e,t)=>R(ti(e),t,u.REPO_ENDPOINT),ph=(e,t)=>k(ti(e.submissionId),e,t,u.REPO_ENDPOINT),gh=(e,t)=>At(()=>R(pu(e),t,u.REPO_ENDPOINT)),yh=(e,t)=>R(gu(e),t,u.REPO_ENDPOINT),Eh=e=>R(`${vu(e)}`,void 0,u.REPO_ENDPOINT),mh=async(e,t)=>{const r=await I(Tu,{concreteType:"org.sagebionetworks.repo.model.schema.GetValidationSchemaRequest",$id:e},t,u.REPO_ENDPOINT);return _e(r.token,Ou(r.token),t)},vh=(e,t,r)=>R(`${uu(e)}?accessType=${t}`,r,u.REPO_ENDPOINT),Th=(e,t,r,n)=>{const s=new URLSearchParams;s.set("includeDerivedAnnotations",String(r));const i=t?fu(e,t):zs(e);return R(`${i}?${s.toString()}`,n,u.REPO_ENDPOINT)},Oh=(e,t,r)=>k(zs(e),t,r,u.REPO_ENDPOINT),Ph=e=>R(Au,e,u.REPO_ENDPOINT),_h=(e,t)=>I(Su,e,t,u.REPO_ENDPOINT),Rh=(e,t)=>I(Nu(t),e,void 0,u.REPO_ENDPOINT),Ih=e=>I(bu,e,void 0,u.REPO_ENDPOINT),Ci=(e,t,r,n,s=u.REPO_ENDPOINT)=>I("/auth/v1/oauth2/account2",{provider:t,authenticationCode:r,redirectUrl:n,userName:e},void 0,s),Di=async(e,t,r,n=u.REPO_ENDPOINT)=>{const s=await _i();return I("/auth/v1/oauth2/alias",{provider:e,authenticationCode:t,redirectUrl:r},s,n)},Ah=async(e,t,r)=>{const n=`/auth/v1/oauth2/alias?provider=${e}&alias=${encodeURIComponent(r)}`;return ee(n,t,u.REPO_ENDPOINT)},Sh=e=>I(Cu,{accessToken:e},void 0,u.REPO_ENDPOINT),Nh=(e,t)=>I(Du,e,t,u.REPO_ENDPOINT),bh=(e,t)=>I("/auth/v1/user/changePassword",e,t,u.REPO_ENDPOINT),Ch=e=>I("/auth/v1/user/changePassword",e,void 0,u.REPO_ENDPOINT),Dh=e=>{const t=window.location.href+"?passwordResetToken=",r=`/auth/v1/user/password/reset?passwordResetEndpoint=${encodeURIComponent(t)}`;return I(r,{email:e},void 0,u.REPO_ENDPOINT)},wh=(e,t,r,n)=>I(`/repo/v1/account/${t}/emailValidation?portalEndpoint=${r}`,{email:e},n,u.REPO_ENDPOINT),Uh=(e,t)=>I("/repo/v1/email",e,t,u.REPO_ENDPOINT),Lh=(e,t)=>ee(`/repo/v1/email?email=${t}`,e,u.REPO_ENDPOINT),Fh=(e,t)=>k("/repo/v1/notificationEmail",{email:e},t,u.REPO_ENDPOINT),xh=(e,t)=>R(`/repo/v1/project/${e}/forum`,t,u.REPO_ENDPOINT),$h=(e,t)=>R(`/repo/v1/reply/${e}`,t,u.REPO_ENDPOINT),Mh=(e,t)=>I("/repo/v1/reply",e,t,u.REPO_ENDPOINT),Kh=(e,t)=>k(`/repo/v1/reply/${e.replyId}/message`,{messageMarkdown:e.messageMarkdown},t,u.REPO_ENDPOINT),Bh=(e,t)=>ee(`/repo/v1/reply/${t}`,e,u.REPO_ENDPOINT),Qh=(e,t,r=30,n=0,s=fo.CREATED_ON,i=!0,c=Is.EXCLUDE_DELETED)=>{const l=new URLSearchParams;l.set("offset",n.toString()),l.set("limit",r.toString()),l.set("sort",s),l.set("ascending",i.toString()),l.set("filter",c);const m=`${It}/${t}/replies?${l.toString()}`;return R(m,e,u.REPO_ENDPOINT)},qh=(e,t)=>R(`/repo/v1/reply/messageUrl?messageKey=${e}`,t,u.REPO_ENDPOINT),kh=(e,t)=>k(`${Yt(t)}/pin`,void 0,e,u.REPO_ENDPOINT),Vh=(e,t)=>k(`${Yt(t)}/unpin`,void 0,e,u.REPO_ENDPOINT),jh=(e,t)=>R(Yt(e),t,u.REPO_ENDPOINT),Hh=(e,t)=>R(`${It}/messageUrl?messageKey=${e}`,t,u.REPO_ENDPOINT),Wh=(e,t)=>I(It,t,e,u.REPO_ENDPOINT),Gh=(e,t)=>k(`${It}/${t.threadId}/title`,{title:t.title},e,u.REPO_ENDPOINT),Yh=(e,t)=>k(`${It}/${t.threadId}/message`,{messageMarkdown:t.messageMarkdown},e,u.REPO_ENDPOINT),zh=(e,t)=>ee(Yt(t),e,u.REPO_ENDPOINT),Jh=(e,t)=>k(`${Yt(t)}/restore`,void 0,e,u.REPO_ENDPOINT),Xh=(e,t,r=20,n=0)=>{const s=new URLSearchParams;return s.set("offset",n.toString()),s.set("limit",r.toString()),R(`${pr}/${t}/moderators?${s.toString()}`,e,u.REPO_ENDPOINT)},Zh=(e,t)=>R(`${pr}/${t}`,e,u.REPO_ENDPOINT),ef=(e,t,r)=>I(`${pr}/${t}/search`,e,r,u.REPO_ENDPOINT),tf=(e,t,r=0,n=20,s=po.PINNED_AND_LAST_ACTIVITY,i=!0,c=Is.EXCLUDE_DELETED)=>{const l=new URLSearchParams;l.set("offset",r.toString()),l.set("limit",n.toString()),l.set("sort",s),l.set("ascending",i.toString()),l.set("filter",c);const m=`${Yu(t)}?${l.toString()}`;return R(m,e,u.REPO_ENDPOINT)},rf=(e,t)=>I("/repo/v1/accessApproval/search",e,t,u.REPO_ENDPOINT),nf=(e,t)=>I(Uu,e,t,u.REPO_ENDPOINT),sf=(e,t)=>I(Mu(e.accessRequirementId),e,t,u.REPO_ENDPOINT),of=(e,t,r)=>{const n=Ku(e,t?`${t}`:void 0);return R(n,r,u.REPO_ENDPOINT)};function af(e){return At(()=>R($u(e)+"?redirect=false",void 0,u.REPO_ENDPOINT))}function uf(e,t=0,r=25){return R(Bu+`?offset=${t}&limit=${r}`,e,u.REPO_ENDPOINT)}function cf(e,t){return k(Qu(e),void 0,t,u.REPO_ENDPOINT)}function lf(e,t){return k(qu(e),void 0,t,u.REPO_ENDPOINT)}function df(e){return R("/repo/v1/certifiedUserTest",e,u.REPO_ENDPOINT)}function hf(e,t){return I("/repo/v1/certifiedUserTestResponse",t,e,u.REPO_ENDPOINT)}const yn="https://s3.amazonaws.com/geoloc.sagebase.org/",ff=yn+"allPoints.json",pf=yn+"googlemap.txt";async function gf(){return await(await fetch(pf)).text()}async function yf(){return await(await fetch(ff)).json()}async function Ef(e){const t=await fetch(`${yn}${e}.json`);return t.status==200?await t.json():[]}function mf(e,t=100,r=0,n){const s=new URLSearchParams;return s.set("limit",t.toString()),s.set("offset",r.toString()),s.set("objectType",n.objectType),n.sortBy&&s.set("sortBy",n.sortBy),n.sortDirection&&s.set("sortDirection",n.sortDirection),R(`/repo/v1/subscription/all?${s.toString()}`,e,u.REPO_ENDPOINT)}function vf(e,t){return R(`/repo/v1/subscription/${t}`,e,u.REPO_ENDPOINT)}function Tf(e,t){return I("/repo/v1/subscription/subscribers",t,e,u.REPO_ENDPOINT)}function Of(e,t){return I("/repo/v1/subscription",t,e,u.REPO_ENDPOINT)}function Pf(e,t){return ee(`/repo/v1/subscription/${t}`,e,u.REPO_ENDPOINT)}function _f(e,t){return I("/repo/v1/subscription/list",t,e,u.REPO_ENDPOINT)}function Rf(e,t){return R(`/file/v1/entity/${e}/uploadDestination`,t,u.REPO_ENDPOINT)}function If(e,t,r){return R(`/file/v1/entity/${e}/uploadDestination/${t}`,r,u.REPO_ENDPOINT)}function Af(e,t,r,n="ENTITY"){const s=new URLSearchParams;return s.set("type",n),s.set("id",t),r&&s.set("type",r.toString()),At(()=>R(`${Ju}?${s.toString()}`,e,u.REPO_ENDPOINT))}function Sf(e,t,r){const n=new URLSearchParams;return n.set("fileHandleId",e),t&&r&&(n.set("associatedObjectId",t),n.set("associatedObjectType",r.toString())),`${Ot(u.PORTAL_ENDPOINT)}/Portal/filehandleassociation?${n.toString()}`}const Nf=(e,t)=>R(oc(e),t,u.REPO_ENDPOINT),bf=(e,t,r=0,n=20,s=go.CREATED_ON,i=yo.DESC)=>{const c=new URLSearchParams;return c.set("offset",r.toString()),c.set("limit",n.toString()),c.set("sort",s),c.set("sortDirection",i),R(`/repo/v1/entity/${e}/dockerTag?${c.toString()}`,t,u.REPO_ENDPOINT)};function Cf(e,t,r){const n=new URLSearchParams;return r&&n.set("nextPageToken",r),R(`/repo/v1/accessRequirement/${t}/subjects?${n.toString()}`,e,u.REPO_ENDPOINT)}function Df(e,t){return I("/repo/v1/column/batch",{list:t.map(r=>({...r,concreteType:"org.sagebionetworks.repo.model.table.ColumnModel"})),concreteType:"org.sagebionetworks.repo.model.ListWrapper"},e,u.REPO_ENDPOINT)}function wf(e,t){const r=new URLSearchParams;return e!=null&&r.set("viewEntityType",e),t!=null&&r.set("viewTypeMask",t.toString()),R(`/repo/v1/column/tableview/defaults?${r.toString()}`,void 0,u.REPO_ENDPOINT)}async function Uf(e,t=void 0){return pn(async n=>{e.nextPageToken=n;const s=await I("/repo/v1/column/view/scope/async/start",e,t,u.REPO_ENDPOINT);return _e(s.token,`/repo/v1/column/view/scope/async/get/${s.token}`,t)})}const Lf=["DM Sans","sans-serif"].join(","),Ff=["Menlo","Courier New","Courier","monospace"].join(","),z={fontStyle:"normal",letterSpacing:"0px"},xf=e=>({fontFamily:Lf,headline1:{...z,fontSize:"24px",fontWeight:700,lineHeight:"28px"},headline2:{...z,fontSize:"20px",fontWeight:400,lineHeight:"24px"},headline3:{...z,fontSize:"18px",fontWeight:700,lineHeight:"20px"},body1:{...z,fontSize:"16px",fontWeight:400,lineHeight:"24px"},body1Italic:{...z,fontSize:"16px",fontWeight:400,lineHeight:"24px",fontStyle:"italic"},body2:{...z,fontSize:"12px",fontWeight:400,lineHeight:"24px"},breadcrumb1:{...z,fontSize:"14px",fontWeight:400,lineHeight:"16px"},breadcrumb2:{...z,fontSize:"14px",fontWeight:700,lineHeight:"16px"},smallText1:{...z,fontSize:"14px",fontWeight:400,lineHeight:"16px"},smallText2:{...z,fontSize:"14px",fontWeight:700,lineHeight:"16px"},smallLink:{...z,fontSize:"14px",fontWeight:900,lineHeight:"16px"},label:{...z,fontSize:"14px",fontWeight:700,lineHeight:"16px"},buttonLink:{...z,fontSize:"16px",fontWeight:900,lineHeight:"20px"},hintText:{...z,fontSize:"16px",fontWeight:400,lineHeight:"24px"},sectionTitle:{...z,fontSize:"21px",fontWeight:700,lineHeight:"25px",textTransform:"uppercase"},subsectionHeader:{...z,fontSize:"18px",fontWeight:700,lineHeight:"21px"},dataFieldKey:{...z,fontSize:"14px",fontWeight:400,lineHeight:"16px",color:e.grey[700],textTransform:"uppercase"},monospace:{...z,fontFamily:Ff,fontSize:"13px"}}),B=(e,t)=>({100:fe(e).desaturate(25).lighten(50).toString(),200:fe(e).desaturate(13).lighten(20).toString(),300:fe(e).desaturate(3).lighten(10).toString(),400:fe(e).desaturate(1).lighten(5).toString(),500:fe(e).toString(),600:fe(e).saturate(5).darken(4).toString(),700:fe(e).saturate(11).darken(8).toString(),800:fe(e).saturate(18).darken(10).toString(),900:fe(e).saturate(24).darken(18).toString(),light:t&&400 in t&&t[400]||fe(e).desaturate(1).lighten(5).toString(),main:fe(e).toString(),dark:t&&600 in t&&t[600]||fe(e).saturate(5).darken(4).toString(),contrastText:"#fff",...t}),se={primary:B("#395979",{100:"#d7dee4",200:"#b0bdc9",300:"#889baf",400:"#617a94",500:"#395979",600:"#2e4761",700:"#223549",800:"#172430",900:"#0b1218"}),secondary:B("#469285",{100:"#dae9e7",200:"#b5d3ce",300:"#90beb6",400:"#6ba89d",500:"#469285",600:"#38756a",700:"#2a6960",800:"#1c3a35",900:"#0e1d1b"}),tertiary:B("#EDC766",{100:"#fbf4e0",200:"#f8e9c2",300:"#f4dda3",400:"#f1d285",500:"#edc766",600:"#be9f52",700:"#8e773d",800:"#5f5029",900:"#2f2814"}),grey:{1e3:"#22252a",900:"#353a3f",800:"#4a5056",700:"#878e95",600:"#aeb5bc",500:"#d0d4d9",400:"#dfe2e6",300:"#eaecee",200:"#f1f3f5",100:"#fbfbfc"},neutral:B("#878e95"),darkPrimary:B("#164B6E"),lightPrimary:{...B("#f8f9fa"),contrastText:"#164B6E"},light:{...B("#f8f9fa"),contrastText:"#22252a"},success:{main:"#32a330"},info:{main:"#017fa5"},warning:{main:"#cc9f00"},error:{main:"#c13415"},text:{primary:"#353a3f",secondary:"#4a5056"},contrastThreshold:4.5},jg={...se,primary:B("#4F527D"),secondary:B("#9499C7")},Hg={...se,primary:B("#e79776"),secondary:B("#e79776")},Wg={...se,primary:B("#4d5491"),secondary:B("#2f8e94")},Gg={...se,primary:B("#39AC97"),secondary:B("#39AC97")},Yg={...se,primary:{...B("#125e81"),contrastText:"#fff"},secondary:{...B("#404b63"),contrastText:"#fff"}},zg={...se,primary:B("#00255c"),secondary:B("#2699a7")},Jg={...se,primary:B("#00565e"),secondary:B("#f7a700")},Xg={...se,primary:B("#4d5491"),secondary:B("#4d5491")},Zg={...se,primary:B("#3e7293"),secondary:B("#164767")},ey={...se,primary:B("#0085ff"),secondary:B("#0085ff")},ty={...se,primary:B("#38568e"),secondary:B("#47337d")},ry={...se,primary:B("#24AB9F"),secondary:B("#F5B33C")};({...se,primary:B("#407BA0"),secondary:B("#407BA0")});const ny={...se,primary:B("#26881F"),secondary:B("#26881F")},$f={defaultProps:{underline:"always"},styleOverrides:{root:({theme:e})=>({fontWeight:700,"&:hover":{color:e.palette.primary.main}}),underlineAlways:({theme:e})=>({textDecoration:"underline",textUnderlineOffset:"4px",textDecorationThickness:"1px",textDecorationColor:e.palette.grey[600],"&:hover":{textDecorationColor:e.palette.primary.main,textDecorationThickness:"2px"}}),underlineHover:{"&:hover":{textUnderlineOffset:"4px",textDecorationThickness:"2px"}}}},Ue="2px",Vn=So,wi={typography:xf,palette:se,components:{MuiAlert:{defaultProps:{square:!0,iconMapping:{error:U.jsx(ua,{}),info:U.jsx(_o,{}),success:U.jsx(Ro,{}),warning:U.jsx(aa,{})}},styleOverrides:{root:({ownerState:e,theme:t})=>({alignItems:"center",fontSize:"14px",borderLeft:`10px solid ${t.palette[e.severity||"success"].main}`,color:t.palette.text.primary}),icon:({theme:e})=>({marginRight:e.spacing(3)}),action:({ownerState:e,theme:t})=>({paddingRight:t.spacing(2),...e.onClose&&!e.action&&{color:t.palette.grey[700]}}),standardSuccess:({theme:e})=>({backgroundColor:Zt(e.palette.success.light,.8)}),standardError:({theme:e})=>({backgroundColor:Zt(e.palette.error.light,.8)}),standardWarning:({theme:e})=>({backgroundColor:Zt(e.palette.warning.light,.8)}),standardInfo:({theme:e})=>({backgroundColor:Zt(e.palette.info.light,.8)})}},MuiAlertTitle:{styleOverrides:{root:({theme:e})=>({color:e.palette.text.primary,fontSize:"14px",fontWeight:700})}},MuiLink:$f,MuiButtonBase:{defaultProps:{disableRipple:!0}},MuiButton:{styleOverrides:{root:{fontWeight:900,padding:"6px 12px",borderRadius:"3px",textTransform:"capitalize","&:hover":{transition:"0.2s"}},contained:({theme:e,ownerState:t})=>({"&:hover, &:visited":{color:t.color==="inherit"?t.color:e.palette[t.color||"primary"].contrastText}}),outlined:({theme:e,ownerState:t})=>({"&:hover, &:visited":{color:t.color==="inherit"?t.color:e.palette[t.color||"primary"].dark}}),text:({theme:e,ownerState:t})=>({"&:hover":{textDecoration:"underline",textUnderlineOffset:"4px",textDecorationColor:t.color==="inherit"?t.color:e.palette[t.color||"primary"].main,textDecorationThickness:"2px"},"&:hover, &:visited":{color:t.color==="inherit"?t.color:e.palette[t.color||"primary"].main}})}},MuiCard:{styleOverrides:{root:{border:"1px solid rgba(0, 0, 0, 0.05)",boxShadow:"0px 16px 16px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.05), 0px 1px 1px rgba(0, 0, 0, 0.05)"}},defaultProps:{square:!0}},MuiCheckbox:{defaultProps:{color:"secondary"}},MuiDialog:{defaultProps:{PaperProps:{sx:e=>({borderRadius:"0px",padding:e.spacing(5.5),alignSelf:"flex-start"})}}},MuiDialogTitle:{styleOverrides:{root:({theme:e})=>({fontSize:"24px",fontWeight:700,paddingLeft:"0px",paddingRight:"0px",paddingBottom:e.spacing(3)})}},MuiDialogContent:{defaultProps:{dividers:!0},styleOverrides:{root:({ownerState:e,theme:t})=>({color:t.palette.text.secondary,paddingTop:e.dividers?t.spacing(3):0,paddingBottom:e.dividers?t.spacing(3):0,paddingLeft:Ue,paddingRight:Ue,marginLeft:`-${Ue}`,marginRight:`-${Ue}`,borderImage:e.dividers?`linear-gradient(to right, transparent 0px, transparent ${Ue}, ${t.palette.grey[400]} ${Ue}, ${t.palette.grey[400]} calc(100% - ${Ue}), transparent calc(100% - ${Ue})) 1`:void 0})}},MuiDialogActions:{styleOverrides:{root:({theme:e})=>({paddingLeft:"0px",paddingRight:"0px",paddingTop:e.spacing(3),"& .MuiButton-root":{height:"36px",padding:"0px 16px"}})}},MuiFormHelperText:{styleOverrides:{root:({theme:e})=>({marginLeft:"0","&.Mui-error":{color:e.palette.error.main}})}},MuiInputBase:{styleOverrides:{root:({theme:e,ownerState:t})=>{const r=t.error||t.focused;let n="none";r&&(t.error?n=`1px solid ${e.palette.error.main}`:t.color&&(n=`1px solid ${e.palette[t.color].main}`));const s=t.color==="warning"?e.palette[t.color].main:void 0;return{borderRadius:"3px",fontSize:"14px",position:"relative",backgroundColor:e.palette.grey[200],outline:n,"&+.MuiFormHelperText-root":{color:s},"&.Mui-disabled":{backgroundColor:e.palette.grey[100]},"&.Mui-focused":{boxShadow:`${Io(e.palette.primary.main,.25)} 0 0 0 0.1rem`},"& fieldset":{border:"none"}}},input:({theme:e})=>({padding:"14px 12px"}),multiline:{padding:"0px"}}},MuiInputLabel:{defaultProps:{shrink:!0},styleOverrides:{root:({theme:e})=>({fontWeight:700,mb:"4px",fontSize:"14px",transform:"none"})}},MuiTextField:{styleOverrides:{root:({theme:e,ownerState:t})=>({[`& .${Ao.root}`]:{marginTop:t.label&&e.spacing(3)}})}},MuiMenu:{defaultProps:{TransitionComponent:Vn}},MuiMenuItem:{styleOverrides:{root:{height:"38px",paddingLeft:"12px",paddingRight:"12px"}}},MuiTab:{styleOverrides:{root:{fontWeight:900,textTransform:"capitalize"}}},MuiTooltip:{defaultProps:{arrow:!0,TransitionComponent:Vn},styleOverrides:{arrow:({theme:e})=>({color:e.palette.common.black}),tooltip:({theme:e})=>({fontSize:"14px",borderRadius:"2px",backgroundColor:e.palette.common.black,"& .MuiLink-root":{color:"#fff"}})}},MuiTypography:{defaultProps:{variantMapping:{headline1:"p",headline2:"p",headline3:"p",body1:"p",body1Italic:"p",body2:"p",breadcrumb1:"span",breadcrumb2:"span",smallText1:"p",smallText2:"p",smallLink:"span",label:"span",buttonLink:"span",hintText:"p",sectionTitle:"p",subsectionHeader:"p",dataFieldKey:"p"}}}},styledBackground:"url('https://s3.amazonaws.com/static.synapse.org/images/SynapseLoginPageBackground.svg')"};function Mf(e){return Co(wi,e)}const qr=({theme:e=wi,children:t})=>{const r=K.useMemo(()=>Mf(e),[e]),n=Do(r);return U.jsx(wo,{injectFirst:!0,children:U.jsx(ta,{theme:n,children:t})})};try{qr.displayName="ThemeProvider",qr.__docgenInfo={description:"",displayName:"ThemeProvider",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"ThemeOptions"}}}}}catch{}var Kf=function(t,r){return t===void 0&&(t=[]),r===void 0&&(r=[]),t.length!==r.length||t.some(function(n,s){return!Object.is(n,r[s])})},jn={error:null},Bf=function(e){De(t,e);function t(){for(var n,s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return n=e.call.apply(e,[this].concat(i))||this,n.state=jn,n.resetErrorBoundary=function(){for(var l,m=arguments.length,g=new Array(m),y=0;y<m;y++)g[y]=arguments[y];n.props.onReset==null||(l=n.props).onReset.apply(l,g),n.reset()},n}t.getDerivedStateFromError=function(s){return{error:s}};var r=t.prototype;return r.reset=function(){this.setState(jn)},r.componentDidCatch=function(s,i){var c,l;(c=(l=this.props).onError)==null||c.call(l,s,i)},r.componentDidUpdate=function(s,i){var c=this.state.error,l=this.props.resetKeys;if(c!==null&&i.error!==null&&Kf(s.resetKeys,l)){var m,g;(m=(g=this.props).onResetKeysChange)==null||m.call(g,s.resetKeys,l),this.reset()}},r.render=function(){var s=this.state.error,i=this.props,c=i.fallbackRender,l=i.FallbackComponent,m=i.fallback;if(s!==null){var g={error:s,resetErrorBoundary:this.resetErrorBoundary};if(K.isValidElement(m))return m;if(typeof c=="function")return c(g);if(l)return K.createElement(l,g);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(K.Component);function sy(e){var t=K.useState(null),r=t[0],n=t[1];if(e!=null)throw e;if(r!=null)throw r;return n}function Qf(e){const{accessToken:t,keyFactory:r}=we();return _t({...e,queryKey:r.getNotificationEmailQueryKey(),queryFn:()=>oe.getNotificationEmail(t)})}function qf(e){const{accessToken:t,keyFactory:r}=we(),n=r.getCurrentUserProfileQueryKey();return _t({...e,queryKey:n,queryFn:()=>oe.getUserProfile(t)})}const Ui=As|Ss|Ns|bs|Cs|Ds|ws;function iy(e,t=Ui,r){const{accessToken:n,keyFactory:s}=we(),i=s.getUserBundleQueryKey(e,t);return _t({...r,queryKey:i,queryFn:()=>oe.getUserBundle(e,t,n)})}function kf(e=Ui,t){const{accessToken:r,keyFactory:n}=we(),s=n.getUserBundleQueryKey("current",e);return _t({...t,queryKey:s,queryFn:()=>oe.getMyUserBundle(e,r)})}function oy(e,t){const{accessToken:r,keyFactory:n}=we(),s=n.getUserProfileQueryKey(e),i=`${e}_USER_PROFILE`,c=sessionStorage.getItem(i);return _t({...t,queryKey:s,queryFn:async()=>{const l=await oe.getUserProfileById(e,r);return sessionStorage.setItem(i,JSON.stringify(l)),l},placeholderData:c?JSON.parse(c):t==null?void 0:t.placeholderData})}function ay(e,t){const{accessToken:r,keyFactory:n}=we(),s=n.getPrincipalAliasQueryKey(e);return _t({...t,queryKey:s,queryFn:async()=>(await oe.getPrincipalAliasRequest(r,e)).principalId})}function uy(){return kf(void 0,{select:e=>e.isACTMember})}const Vf={SWC:"https://sagebionetworks.jira.com/s/d41d8cd98f00b204e9800998ecf8427e-T/-bhcm7i/b/6/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=ddc881b3","Flagged Content":"https://sagebionetworks.jira.com/s/d41d8cd98f00b204e9800998ecf8427e-T/g39zuk/b/41/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=d0abcfa9","Request Access":"https://sagebionetworks.jira.com/s/d41d8cd98f00b204e9800998ecf8427e-T/-2rg9hj/b/25/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=bd4dc1e5"};function kr(e){const{issueCollector:t,issueSummary:r,issueDescription:n,principalId:s,userDisplayName:i,userEmailAddress:c,synapseDataObjectId:l,componentId:m,accessRequirementId:g,issuePriority:y}=e;try{if(window.jQuery==null)throw new Error("jQuery is not present. Jira Issue Collector will not be shown.");window.jQuery.ajax({url:Vf[t],type:"get",cache:!0,dataType:"script"}),window.ATL_JQ_PAGE_PROPS={triggerFunction:function(v){v()},fieldValues:{summary:r,description:n,priority:y,customfield_10840:c,email:c,customfield_10841:g,customfield_10740:s,customfield_10741:i,customfield_10742:l,fullname:i,components:m}}}catch(v){console.error(v)}}function Vr(e){const{show:t,issueCollector:r,issueSummary:n,issueDescription:s,issuePriority:i,accessRequirementId:c,synapseDataObjectId:l,componentId:m}=e,{accessToken:g}=we(),{data:y,isLoading:v}=qf({enabled:!!g}),{data:T,isLoading:O}=Qf({enabled:!!g});K.useEffect(()=>{t&&g?y&&T?kr({issueCollector:r,issueSummary:n,issueDescription:s,synapseDataObjectId:l,componentId:m,accessRequirementId:c,issuePriority:i,principalId:y.ownerId,userDisplayName:y.displayName,userEmailAddress:T.email}):console.warn("Fetching profile data to display Jira popup"):t&&!g&&console.error("User not logged in, not showing Jira popup")},[t,g,v,O])}try{kr.displayName="showJiraIssueCollector",kr.__docgenInfo={description:"Shows the Jira issue collector when invoked.",displayName:"showJiraIssueCollector",props:{issueCollector:{defaultValue:null,description:"",name:"issueCollector",required:!0,type:{name:"enum",value:[{value:'"SWC"'},{value:'"Flagged Content"'},{value:'"Request Access"'}]}},issueSummary:{defaultValue:null,description:"",name:"issueSummary",required:!0,type:{name:"string"}},issueDescription:{defaultValue:null,description:"",name:"issueDescription",required:!0,type:{name:"string"}},issuePriority:{defaultValue:null,description:"",name:"issuePriority",required:!0,type:{name:"enum",value:[{value:'"1"'},{value:'"2"'},{value:'"3"'},{value:'"4"'},{value:'"5"'}]}},accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!1,type:{name:"string"}},synapseDataObjectId:{defaultValue:null,description:"",name:"synapseDataObjectId",required:!1,type:{name:"string"}},componentId:{defaultValue:null,description:"",name:"componentId",required:!1,type:{name:"string"}},principalId:{defaultValue:null,description:"",name:"principalId",required:!0,type:{name:"string"}},userDisplayName:{defaultValue:null,description:"",name:"userDisplayName",required:!1,type:{name:"string"}},userEmailAddress:{defaultValue:null,description:"",name:"userEmailAddress",required:!1,type:{name:"string"}}}}}catch{}try{Vr.displayName="useJiraIssueCollector",Vr.__docgenInfo={description:"Hook used to show the Jira issue collector within Synapse. The collector will only be shown if the user is logged in.",displayName:"useJiraIssueCollector",props:{accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!1,type:{name:"string"}},issueCollector:{defaultValue:null,description:"",name:"issueCollector",required:!0,type:{name:"enum",value:[{value:'"SWC"'},{value:'"Flagged Content"'},{value:'"Request Access"'}]}},issueSummary:{defaultValue:null,description:"",name:"issueSummary",required:!0,type:{name:"string"}},issueDescription:{defaultValue:null,description:"",name:"issueDescription",required:!0,type:{name:"string"}},issuePriority:{defaultValue:null,description:"",name:"issuePriority",required:!0,type:{name:"enum",value:[{value:'"1"'},{value:'"2"'},{value:'"3"'},{value:'"4"'},{value:'"5"'}]}},synapseDataObjectId:{defaultValue:null,description:"",name:"synapseDataObjectId",required:!1,type:{name:"string"}},componentId:{defaultValue:null,description:"",name:"componentId",required:!1,type:{name:"string"}},show:{defaultValue:null,description:"",name:"show",required:!0,type:{name:"boolean"}}}}}catch{}const jr=({className:e,style:t})=>U.jsx(Fo,{type:"button",style:t,className:`SignInButton ${Oo} ${e}`,children:"Sign In"});try{jr.displayName="SignInButton",jr.__docgenInfo={description:"",displayName:"SignInButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}}}catch{}const jf="You are not authorized to access this resource.",Hf=()=>U.jsxs(U.Fragment,{children:["Please ",U.jsx(jr,{})," to view this resource."]}),Hr=e=>{const[t,r]=K.useState(!1),{accessToken:n}=we(),{error:s}=e,i=(s.status===403||s.status===401)&&!n,c=s.status===403&&n;return Vr({show:s.status>=500,issueCollector:"SWC",issueSummary:"",issueDescription:s.reason,issuePriority:"3"}),i?U.jsx(Hf,{}):c?U.jsxs(U.Fragment,{children:[U.jsxs(xo,{direction:"row",spacing:2,children:[U.jsx(bn,{display:"flex",alignItems:"center",children:jf}),U.jsxs($o,{variant:"text",onClick:()=>r(l=>!l),children:[t?"Hide":"Show"," details"]})]}),U.jsx(Bo,{in:t,children:U.jsx(bn,{paddingTop:1,children:U.jsx("pre",{children:s.reason})})})]}):U.jsx(U.Fragment,{children:s.reason})},ar=e=>{const{error:t,reloadButtonFn:r}=e;if(!t)return U.jsx(U.Fragment,{});let n,s,i;return t instanceof st?n=t:t instanceof Error?s=t:typeof t=="string"&&(i=t),U.jsx(Lo,{variant:"danger",isGlobal:!1,description:U.jsxs(U.Fragment,{children:[n&&U.jsx(Hr,{error:n}),s&&s.message,i&&i]}),primaryButtonConfig:r&&{text:"Reload",onClick:r}})},Wr=({error:e,resetErrorBoundary:t})=>U.jsx("div",{className:"SRC-marginBottomTop",children:U.jsx(ar,{error:e,reloadButtonFn:t})}),Hn=({error:e,resetErrorBoundary:t})=>U.jsx("tr",{children:U.jsx("td",{colSpan:999,children:U.jsx(ar,{error:e,reloadButtonFn:t})})}),Gr=e=>U.jsx(Bf,{FallbackComponent:Wr,...e});try{Hr.displayName="ClientError",Hr.__docgenInfo={description:"",displayName:"ClientError",props:{error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"SynapseClientError"}}}}}catch{}try{ar.displayName="ErrorBanner",ar.__docgenInfo={description:"",displayName:"ErrorBanner",props:{error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string | Error | SynapseClientError | null"}},reloadButtonFn:{defaultValue:null,description:"",name:"reloadButtonFn",required:!1,type:{name:"(() => void)"}}}}}catch{}try{Wr.displayName="ErrorFallbackComponent",Wr.__docgenInfo={description:"",displayName:"ErrorFallbackComponent",props:{}}}catch{}try{Hn.displayName="TableRowFallbackComponent",Hn.__docgenInfo={description:"",displayName:"TableRowFallbackComponent",props:{}}}catch{}try{Gr.displayName="SynapseErrorBoundary",Gr.__docgenInfo={description:`ErrorBoundary component that uses the default error fallback component, unless overridden.
Internally uses \`react-error-boundary\`.

Use with {@link react-error-boundary#handleError handleError}`,displayName:"SynapseErrorBoundary",props:{}}}catch{}function Wf(e){const t=[...e];let r=t[t.length-1];for(;t.length>0&&(r===void 0||typeof r=="object"&&oa(Er(r)));)t.pop(),r=t[t.length-1];return t}const F={all:{objectType:"entity"},entity:(e,t)=>{const r={...F.all,id:e};return t&&(r.version=t),r},versions:e=>[F.entity(e),"versions"],versionsQuery:(e,t,r)=>[...F.versions(e),{limit:t,offset:r}],json:(e,t)=>[F.entity(e,t),"json"],allActionsRequired:()=>[F.all,"actionsRequired"],actionsRequired:e=>[F.entity(e),"actionsRequired"],entityForum:e=>[F.entity(e),"entityForum"],entityChallenge:e=>[F.entity(e),"entityChallenge"],activity:(e,t)=>[F.entity(e,t),"activity"],path:e=>[F.entity(e),"path"],bundle:(e,t,r)=>[F.entity(e,t),"entityBundle",r],children:(e,t)=>[F.entity(e.parentId??"root"),"children",{isInfinite:t,entityChildrenRequest:e}],tableQueryResult:(e,t)=>[F.entity(e.entityId),{type:"tableQueryResult"},{isInfinite:t,tableQueryBundleRequest:e}],tableQueryResultWithAsyncStatus:(e,t)=>[F.entity(e.entityId),{type:"tableQueryResult",withAsyncStatus:!0},{isInfinite:t,tableQueryBundleRequest:e}],fullTableQueryResult:(e,t)=>[F.entity(e.entityId),{type:"tableQueryResult",allResults:!0},{tableQueryBundleRequest:e,forceAnonymous:t}],boundJSONSchema:e=>[F.entity(e),"boundJSONSchema"],schemaValidationResults:e=>[F.entity(e),"schemaValidationResults"],header:(e,t)=>[F.entity(e,t),"entityHeaders"],headers:e=>[F.all,"entityHeaders",e],accessRequirements:e=>[F.entity(e),"accessRequirements"]},Pe={base:"downloadList",availableFiles:e=>[Pe.base,"availableFiles",e],availableFilesInfinite:e=>[Pe.availableFiles(e),"infinite"],getActionsRequired:()=>[Pe.base,"actionsRequired"],getActionsRequiredInfinite:()=>[...Pe.getActionsRequired(),"infinite"],getStatistics:()=>[Pe.base,"statistics"]},Re="accessRequirement";class Li{constructor(t){nt(this,"accessToken");this.accessToken=t}getKey(...t){return[this.accessToken==null?"anonymous":btoa(String(Wo(this.accessToken))),...Wf(t)]}getAllEntityDataQueryKey(){return this.getKey(F.all)}getEntityQueryKey(t){return this.getKey(F.entity(t))}getEntityActivityQueryKey(t,r){return this.getKey(...F.activity(t,r))}getAllEntityActionsRequiredQueryKey(){return this.getKey(...F.allActionsRequired())}getEntityActionsRequiredQueryKey(t){return this.getKey(...F.actionsRequired(t))}getEntityChallengeQueryKey(t){return this.getKey(...F.entityChallenge(t))}getForumQueryKey(t){return this.getKey(...F.entityForum(t))}getEntityVersionQueryKey(t,r){return this.getKey(F.entity(t,r))}getPaginatedEntityVersionsQueryKey(t,r,n){return this.getKey(...F.versionsQuery(t,r,n))}getEntityVersionsQueryKey(t){return this.getKey(...F.versions(t))}getEntityChildrenQueryKey(t,r){return this.getKey(...F.children(t,r))}getEntityJsonQueryKey(t,r,n){return this.getKey(...F.json(t,r),{includeDerivedAnnotations:n})}getEntityBundleQueryKey(t,r,n){return this.getKey(...F.bundle(t,r,n))}getEntityPathQueryKey(t){return this.getKey(...F.path(t))}getEntityACLQueryKey(t){return this.getKey(F.entity(t),"acl")}getEntityAliasQueryKey(t){return this.getKey(F.all,"alias",t)}getEntityEvaluationsQueryKey(t){return this.getKey(F.entity(t),"evaluations")}getEntityPermissionsQueryKey(t){return this.getKey(F.entity(t),"permissions")}getEntityBoundJsonSchemaQueryKey(t){return this.getKey(...F.boundJSONSchema(t))}getEntitySchemaValidationResultsQueryKey(t){return this.getKey(...F.schemaValidationResults(t))}getEntityHeaderQueryKey(t,r){return this.getKey(...F.header(t,r))}getEntityAccessRequirementsQueryKey(t){return this.getKey(...F.accessRequirements(t))}getEntityHeadersQueryKey(t){return this.getKey(...F.headers(t))}getAllTableQueryResultsKey(){return this.getKey(F.all,{type:"tableQueryResult"})}getEntityTableQueryResultQueryKey(t,r){return this.getKey(...F.tableQueryResult(t,r))}getEntityTableQueryResultWithAsyncStatusQueryKey(t,r){return this.getKey(...F.tableQueryResultWithAsyncStatus(t,r))}getFullTableQueryResultQueryKey(t,r){return this.getKey(...F.fullTableQueryResult(t,r))}getDownloadListBaseQueryKey(){return this.getKey(Pe.base)}getDownloadListAvailableFilesQueryKey(t){return this.getKey(...Pe.availableFiles(t))}getDownloadListAvailableFilesInfiniteQueryKey(t){return this.getKey(...Pe.availableFilesInfinite(t))}getDownloadListActionsRequiredQueryKey(){return this.getKey(...Pe.getActionsRequired())}getDownloadListActionsRequiredInfiniteQueryKey(){return this.getKey(...Pe.getActionsRequiredInfinite())}getDownloadListStatisticsQueryKey(){return this.getKey(...Pe.getStatistics())}searchAccessApprovalsQueryKey(t){return this.getKey("accessApprovalSearch",t)}getAccessRequirementQueryKey(t){return this.getKey(Re,t)}getAccessRequirementAclQueryKey(t){return this.getKey(Re,t,"acl")}searchAccessRequirementsQueryKey(t){return this.getKey(Re,"search",t)}getAccessRequirementWikiPageKey(t){return this.getKey(Re,t,"wikiPageKey")}getAccessRequirementRestrictionInformationQueryKey(t){return this.getKey(Re,"restrictionInformation",t)}getAllAccessRequirementStatusesQueryKey(){return this.getKey(Re,"status")}getAccessRequirementStatusQueryKey(t){return this.getKey(Re,"status",t)}getDataAccessRequestForUpdateQueryKey(t){return this.getKey(Re,t,"dataAccessRequestForUpdate")}getAccessRequirementResearchProjectQueryKey(t){return this.getKey(Re,t,"researchProject")}getSortedAccessRequirementsAndStatusQueryKey(t){return this.getKey(Re,"sortedByStatus",t)}getDataAccessSubmissionQueryKey(t){return this.getKey("dataAccessSubmission",t)}searchDataAccessSubmissionQueryKey(t){return this.getKey("accessSubmissionSearch",t)}getApprovedSubmissionInfoQueryKey(t){return this.getKey("approvedSubmissionInfo",t)}getValidationSchemaQueryKey(t){return this.getKey("validationSchema",t)}getPresignedUrlContentQueryKey(t,r,n){return this.getKey("presignedUrlContent",t,r,n)}getPresignedUrlFromFHAContentQueryKey(t,r){return this.getKey("presignedUrlContentFromFHA",t,r)}getProfileImageQueryKey(t){return this.getKey("profileImageData",t)}getDefaultUploadDestinationQueryKey(t){return this.getKey("uploadDestination","default",t)}getUploadDestinationForStorageLocationQueryKey(t,r){return this.getKey("uploadDestination",t,r)}getForumModeratorsQueryKey(t){return this.getKey("moderators",t)}getForumMetadataQueryKey(t){return this.getKey("forumThread",t,"metadata")}getAllForumThreadsQueryKey(t){return this.getKey("forumthread",t)}getForumThreadsQueryKey(t,r,n,s,i){return this.getKey("forumthread",t,{limit:r,filter:i,sort:n,ascending:s})}getAllRepliesQueryKey(t){return this.getKey("reply",t)}getRepliesQueryKey(t,r,n,s,i){return this.getKey("reply",t,{limit:n,filter:i,sort:s,ascending:r})}getReplyQueryKey(t,r,n){return this.getKey("reply",t,{replyId:r,messageKey:n})}getThreadQueryKey(t){return this.getKey("thread",t)}getThreadBodyQueryKey(t,r){return this.getKey("thread",t,r)}getMyOAuthClientsQueryKey(){return this.getKey("oauthClient")}getDOIAssociationQueryKey(t,r,n){return this.getKey(["doi","association",t,r,n])}getAllSubscribersQueryKey(){return this.getKey("subscribers")}getSubscribersQueryKey(t,r){return this.getKey("subscribers",t,r)}getBaseSubscriptionQueryKey(){return this.getKey("subscription")}getAllSubscriptionsQueryKey(t){return this.getKey("subscription","all",t)}getSubscriptionQueryKey(t,r){return this.getKey("subscription",t,r)}getSearchEntitiesQueryKey(t){return this.getKey("searchEntities",t)}getTeamQueryKey(t){return this.getKey("team",t)}getTeamListQueryKey(t){return this.getKey("team",t,"teamList")}getChallengeTeamListQueryKey(t){return this.getKey("challenge",t,"teamList")}getTeamMembersQueryKey(t){return this.getKey("team",t,"membersList")}getIsUserMemberOfTeamQueryKey(t,r){return this.getKey("team",t,"member",r)}getMembershipStatusQueryKey(t,r){return this.getKey("team",t,"membershipStatus",r)}getAllOpenMembershipInvitationsForUserQueryKey(t){return this.getKey("openMembershipInvitations",t)}getTeamAccessRequirementsQueryKey(t){return this.getKey("team",t,"accessRequirements")}getFavoritesQueryKey(){return this.getKey("favorites")}getUserFavoritesQueryKey(t,r){return this.getKey("favorites",t,r)}getUserFavoritesInfiniteQueryKey(t,r){return this.getKey("favorites","infinite",t,r)}getTrashCanItemsQueryKey(){return this.getKey("trashCan","list")}getUserChallengesQueryKey(t){return this.getKey("userChallenges",t)}getPassingRecordQueryKey(t){return this.getKey("passingRecord",t)}getAllSubmissionTeamsQueryKeys(){return this.getKey("submissionTeams")}getSubmissionTeamsQueryKey(t,r,n){return this.getKey("submissionTeams",t,{limit:r,offset:n})}getUserProjectsQueryKey(t,r){return this.getKey("userProjects",t,r)}getAllUserTeamsQueryKey(){return this.getKey("userTeams")}getUserTeamsQueryKey(t){return this.getKey("userTeams",t)}getPersonalAccessTokensQueryKey(){return this.getKey("personalAccessTokens")}getMyProjectsQueryKey(t){return this.getKey("myProjects",t)}getNotificationEmailQueryKey(){return this.getKey("notificationEmail")}getCurrentUserProfileQueryKey(){return this.getKey("user","current","profile")}getUserBundleQueryKey(t,r){const n={...r&As?{isUserProfile:!0}:void 0,...r&Ss?{isOrcId:!0}:void 0,...r&Ns?{isVerificationSubmission:!0}:void 0,...r&bs?{isCertified:!0}:void 0,...r&Cs?{isVerified:!0}:void 0,...r&Ds?{isACT:!0}:void 0,...r&ws?{isARReviewer:!0}:void 0};return this.getKey("user",t,"bundle",n)}getUserProfileQueryKey(t){return this.getKey("user",t,"profile")}getPrincipalAliasQueryKey(t){return this.getKey("principalAlias",t)}getUserGroupHeaderQueryKey(t){return this.getKey("userGroupHeader",t)}getUserGroupHeaderBatchQueryKey(t){return this.getKey("userGroupHeaderBatch",t)}getUserGroupHeaderWithAliasQueryKey(t){return this.getKey("userGroupHeader",t)}getUserGroupHeaderSearchQueryKey(t,r){return this.getKey("userGroupHeader","search",t,r)}getTwoFactorAuthStatusQueryKey(){return this.getKey("twoFactorAuthStatus")}getBatchOfFiles(t){return this.getKey("fileBatch",t)}getPaginatedDockerTagQueryKey(t,r,n,s,i){return this.getKey("dockerTag",t,r,n,s,i)}getDefaultColumnModelsQueryKey(t,r){return this.getKey("defaultColumnModels",t,r)}getAnnotationColumnModelsQueryKey(t){return this.getKey("annotationColumnModels",t)}getEvaluationByIdQueryKey(t){return this.getKey("evaluation",t)}getEvaluationsQueryKey(t){return this.getKey("evaluation","paginated",t)}}const Gf={accessToken:void 0,isInExperimentalMode:!1,utcTime:!1,withErrorBoundary:!1,keyFactory:new Li(void 0),downloadCartPageUrl:"/DownloadCart"},Ft=V.createContext(Gf);function ur(e){const{children:t,synapseContext:r}=e,n=K.useMemo(()=>new Li(r.accessToken),[r.accessToken]),s=K.useMemo(()=>({accessToken:r.accessToken,isInExperimentalMode:r.isInExperimentalMode??!1,utcTime:r.utcTime??!1,withErrorBoundary:r.withErrorBoundary??!1,downloadCartPageUrl:r.downloadCartPageUrl??"/DownloadCart",keyFactory:r.keyFactory??n}),[r.accessToken,r.downloadCartPageUrl,r.isInExperimentalMode,r.keyFactory,r.utcTime,r.withErrorBoundary,n]);return U.jsx(Ft.Provider,{value:s,children:s!=null&&s.withErrorBoundary?U.jsx(Gr,{children:t}):t})}const Wn=Ft.Consumer;function we(){const e=K.useContext(Ft);if(e===void 0)throw new Error("useSynapseContext must be used within a SynapseContextProvider");return e}try{ur.displayName="SynapseContextProvider",ur.__docgenInfo={description:`Provides context necessary for most components in SRC.

The SynapseContextProvider must be wrapped in a react-query QueryClientProvider.`,displayName:"SynapseContextProvider",props:{synapseContext:{defaultValue:null,description:"",name:"synapseContext",required:!0,type:{name:"Partial<SynapseContextType>"}}}}}catch{}try{Ft.displayName="SynapseContext",Ft.__docgenInfo={description:"This must be exported to use the context in class components.",displayName:"SynapseContext",props:{}}}catch{}try{Wn.displayName="SynapseContextConsumer",Wn.__docgenInfo={description:"",displayName:"SynapseContextConsumer",props:{}}}catch{}const Yf={defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*30,retry:!1,refetchOnWindowFocus:!1}}},zf=new Ra(Yf);function Gn(e){const{children:t,synapseContext:r,queryClient:n,theme:s}=e;return U.jsx(ba,{client:n??zf,children:U.jsx(qr,{theme:s,children:U.jsx(ur,{synapseContext:r,children:t})})})}try{Gn.displayName="FullContextProvider",Gn.__docgenInfo={description:`Provides all context necessary for components in SRC.
Contexts include
- SynapseContext
- QueryClientContext (react-query)
- ThemeContext (@mui)`,displayName:"FullContextProvider",props:{synapseContext:{defaultValue:null,description:"",name:"synapseContext",required:!0,type:{name:"Partial<SynapseContextType>"}},queryClient:{defaultValue:null,description:"",name:"queryClient",required:!1,type:{name:"QueryClient"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"ThemeOptions"}}}}}catch{}function Jf(e={}){const{onSignInComplete:t,registerAccountUrl:r=`${Po.PORTAL}#!RegisterAccount:0`,onError:n,onTwoFactorAuthRequired:s}=e,i=yi(),c=new URL(window.location.href),{searchParams:l}=c,m=l==null?void 0:l.get("code"),g=l==null?void 0:l.get("provider"),y=l==null?void 0:l.get("state"),{accessToken:v}=we(),[T,O]=K.useState(!!(m&&g));return K.useEffect(()=>{if(m&&g){const A=`${i}?provider=${g}`;if(Xt.ORCID==g&&v!==void 0){const D=P=>{console.error("Error binding ORCiD to account: ",P),n&&n(P.reason)};Di(g,m,A,u.REPO_ENDPOINT).then(t).catch(D).finally(()=>O(!1))}else if(Xt.GOOGLE==g||Xt.ORCID==g){const D=p=>{p&&("accessToken"in p?hn(p.accessToken).then(t):s&&s(p))},P=p=>{p.status===404&&window.location.replace(r),console.error("Error with account login: ",p),n&&n(p.reason)};Xt.GOOGLE==g&&y?Ci(y,g,m,A,u.REPO_ENDPOINT).then(D).catch(P).finally(()=>O(!1)):vi(g,m,A,u.REPO_ENDPOINT).then(D).catch(P).finally(()=>O(!1))}else console.warn("Unknown SSO Provider: ",g),O(!1)}},[]),{isLoading:T}}function Xf(e,t){const r=localStorage.getItem(Rn);localStorage.removeItem(Rn);const n=r??t;n&&(e?n.startsWith(window.location.origin)?e.replace(n.substring(window.location.origin.length)):e.replace(n):window.location.replace(n))}const Fi=V.createContext(void 0);function Yr(e){const{context:t,children:r}=e;return U.jsx(Fi.Provider,{value:t,children:r})}const Yn=Fi.Consumer;try{Yr.displayName="ApplicationSessionContextProvider",Yr.__docgenInfo={description:"",displayName:"ApplicationSessionContextProvider",props:{context:{defaultValue:null,description:"",name:"context",required:!0,type:{name:"ApplicationSessionContextType"}}}}}catch{}try{Yn.displayName="ApplicationSessionContextConsumer",Yn.__docgenInfo={description:"",displayName:"ApplicationSessionContextConsumer",props:{}}}catch{}function tr(e){return e.charAt(0)==="/"}function Or(e,t){for(var r=t,n=r+1,s=e.length;n<s;r+=1,n+=1)e[r]=e[n];e.pop()}function Zf(e,t){t===void 0&&(t="");var r=e&&e.split("/")||[],n=t&&t.split("/")||[],s=e&&tr(e),i=t&&tr(t),c=s||i;if(e&&tr(e)?n=r:r.length&&(n.pop(),n=n.concat(r)),!n.length)return"/";var l;if(n.length){var m=n[n.length-1];l=m==="."||m===".."||m===""}else l=!1;for(var g=0,y=n.length;y>=0;y--){var v=n[y];v==="."?Or(n,y):v===".."?(Or(n,y),g++):g&&(Or(n,y),g--)}if(!c)for(;g--;g)n.unshift("..");c&&n[0]!==""&&(!n[0]||!tr(n[0]))&&n.unshift("");var T=n.join("/");return l&&T.substr(-1)!=="/"&&(T+="/"),T}function Dt(e){return e.charAt(0)==="/"?e:"/"+e}function zn(e){return e.charAt(0)==="/"?e.substr(1):e}function ep(e,t){return e.toLowerCase().indexOf(t.toLowerCase())===0&&"/?#".indexOf(e.charAt(t.length))!==-1}function xi(e,t){return ep(e,t)?e.substr(t.length):e}function $i(e){return e.charAt(e.length-1)==="/"?e.slice(0,-1):e}function tp(e){var t=e||"/",r="",n="",s=t.indexOf("#");s!==-1&&(n=t.substr(s),t=t.substr(0,s));var i=t.indexOf("?");return i!==-1&&(r=t.substr(i),t=t.substr(0,i)),{pathname:t,search:r==="?"?"":r,hash:n==="#"?"":n}}function pe(e){var t=e.pathname,r=e.search,n=e.hash,s=t||"/";return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function ve(e,t,r,n){var s;typeof e=="string"?(s=tp(e),s.state=t):(s=ae({},e),s.pathname===void 0&&(s.pathname=""),s.search?s.search.charAt(0)!=="?"&&(s.search="?"+s.search):s.search="",s.hash?s.hash.charAt(0)!=="#"&&(s.hash="#"+s.hash):s.hash="",t!==void 0&&s.state===void 0&&(s.state=t));try{s.pathname=decodeURI(s.pathname)}catch(i){throw i instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):i}return r&&(s.key=r),n?s.pathname?s.pathname.charAt(0)!=="/"&&(s.pathname=Zf(s.pathname,n.pathname)):s.pathname=n.pathname:s.pathname||(s.pathname="/"),s}function En(){var e=null;function t(c){return e=c,function(){e===c&&(e=null)}}function r(c,l,m,g){if(e!=null){var y=typeof e=="function"?e(c,l):e;typeof y=="string"?typeof m=="function"?m(y,g):g(!0):g(y!==!1)}else g(!0)}var n=[];function s(c){var l=!0;function m(){l&&c.apply(void 0,arguments)}return n.push(m),function(){l=!1,n=n.filter(function(g){return g!==m})}}function i(){for(var c=arguments.length,l=new Array(c),m=0;m<c;m++)l[m]=arguments[m];n.forEach(function(g){return g.apply(void 0,l)})}return{setPrompt:t,confirmTransitionTo:r,appendListener:s,notifyListeners:i}}var Mi=!!(typeof window<"u"&&window.document&&window.document.createElement);function Ki(e,t){t(window.confirm(e))}function rp(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function np(){return window.navigator.userAgent.indexOf("Trident")===-1}function sp(){return window.navigator.userAgent.indexOf("Firefox")===-1}function ip(e){return e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var Jn="popstate",Xn="hashchange";function Zn(){try{return window.history.state||{}}catch{return{}}}function cy(e){e===void 0&&(e={}),Mi||Pt(!1);var t=window.history,r=rp(),n=!np(),s=e,i=s.forceRefresh,c=i===void 0?!1:i,l=s.getUserConfirmation,m=l===void 0?Ki:l,g=s.keyLength,y=g===void 0?6:g,v=e.basename?$i(Dt(e.basename)):"";function T(x){var w=x||{},Q=w.key,$=w.state,H=window.location,te=H.pathname,ce=H.search,Te=H.hash,he=te+ce+Te;return v&&(he=xi(he,v)),ve(he,$,Q)}function O(){return Math.random().toString(36).substr(2,y)}var A=En();function D(x){ae(de,x),de.length=t.length,A.notifyListeners(de.location,de.action)}function P(x){ip(x)||a(T(x.state))}function p(){a(T(Zn()))}var E=!1;function a(x){if(E)E=!1,D();else{var w="POP";A.confirmTransitionTo(x,w,m,function(Q){Q?D({action:w,location:x}):o(x)})}}function o(x){var w=de.location,Q=d.indexOf(w.key);Q===-1&&(Q=0);var $=d.indexOf(x.key);$===-1&&($=0);var H=Q-$;H&&(E=!0,G(H))}var h=T(Zn()),d=[h.key];function N(x){return v+pe(x)}function C(x,w){var Q="PUSH",$=ve(x,w,O(),de.location);A.confirmTransitionTo($,Q,m,function(H){if(H){var te=N($),ce=$.key,Te=$.state;if(r)if(t.pushState({key:ce,state:Te},null,te),c)window.location.href=te;else{var he=d.indexOf(de.location.key),Ve=d.slice(0,he+1);Ve.push($.key),d=Ve,D({action:Q,location:$})}else window.location.href=te}})}function q(x,w){var Q="REPLACE",$=ve(x,w,O(),de.location);A.confirmTransitionTo($,Q,m,function(H){if(H){var te=N($),ce=$.key,Te=$.state;if(r)if(t.replaceState({key:ce,state:Te},null,te),c)window.location.replace(te);else{var he=d.indexOf(de.location.key);he!==-1&&(d[he]=$.key),D({action:Q,location:$})}else window.location.replace(te)}})}function G(x){t.go(x)}function Y(){G(-1)}function be(){G(1)}var ke=0;function ue(x){ke+=x,ke===1&&x===1?(window.addEventListener(Jn,P),n&&window.addEventListener(Xn,p)):ke===0&&(window.removeEventListener(Jn,P),n&&window.removeEventListener(Xn,p))}var re=!1;function rt(x){x===void 0&&(x=!1);var w=A.setPrompt(x);return re||(ue(1),re=!0),function(){return re&&(re=!1,ue(-1)),w()}}function mr(x){var w=A.appendListener(x);return ue(1),function(){ue(-1),w()}}var de={length:t.length,action:"POP",location:h,createHref:N,push:C,replace:q,go:G,goBack:Y,goForward:be,block:rt,listen:mr};return de}var es="hashchange",op={hashbang:{encodePath:function(t){return t.charAt(0)==="!"?t:"!/"+zn(t)},decodePath:function(t){return t.charAt(0)==="!"?t.substr(1):t}},noslash:{encodePath:zn,decodePath:Dt},slash:{encodePath:Dt,decodePath:Dt}};function Bi(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)}function Nt(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)}function ap(e){window.location.hash=e}function Pr(e){window.location.replace(Bi(window.location.href)+"#"+e)}function ly(e){e===void 0&&(e={}),Mi||Pt(!1);var t=window.history;sp();var r=e,n=r.getUserConfirmation,s=n===void 0?Ki:n,i=r.hashType,c=i===void 0?"slash":i,l=e.basename?$i(Dt(e.basename)):"",m=op[c],g=m.encodePath,y=m.decodePath;function v(){var w=y(Nt());return l&&(w=xi(w,l)),ve(w)}var T=En();function O(w){ae(x,w),x.length=t.length,T.notifyListeners(x.location,x.action)}var A=!1,D=null;function P(w,Q){return w.pathname===Q.pathname&&w.search===Q.search&&w.hash===Q.hash}function p(){var w=Nt(),Q=g(w);if(w!==Q)Pr(Q);else{var $=v(),H=x.location;if(!A&&P(H,$)||D===pe($))return;D=null,E($)}}function E(w){if(A)A=!1,O();else{var Q="POP";T.confirmTransitionTo(w,Q,s,function($){$?O({action:Q,location:w}):a(w)})}}function a(w){var Q=x.location,$=N.lastIndexOf(pe(Q));$===-1&&($=0);var H=N.lastIndexOf(pe(w));H===-1&&(H=0);var te=$-H;te&&(A=!0,Y(te))}var o=Nt(),h=g(o);o!==h&&Pr(h);var d=v(),N=[pe(d)];function C(w){var Q=document.querySelector("base"),$="";return Q&&Q.getAttribute("href")&&($=Bi(window.location.href)),$+"#"+g(l+pe(w))}function q(w,Q){var $="PUSH",H=ve(w,void 0,void 0,x.location);T.confirmTransitionTo(H,$,s,function(te){if(te){var ce=pe(H),Te=g(l+ce),he=Nt()!==Te;if(he){D=ce,ap(Te);var Ve=N.lastIndexOf(pe(x.location)),_n=N.slice(0,Ve+1);_n.push(ce),N=_n,O({action:$,location:H})}else O()}})}function G(w,Q){var $="REPLACE",H=ve(w,void 0,void 0,x.location);T.confirmTransitionTo(H,$,s,function(te){if(te){var ce=pe(H),Te=g(l+ce),he=Nt()!==Te;he&&(D=ce,Pr(Te));var Ve=N.indexOf(pe(x.location));Ve!==-1&&(N[Ve]=ce),O({action:$,location:H})}})}function Y(w){t.go(w)}function be(){Y(-1)}function ke(){Y(1)}var ue=0;function re(w){ue+=w,ue===1&&w===1?window.addEventListener(es,p):ue===0&&window.removeEventListener(es,p)}var rt=!1;function mr(w){w===void 0&&(w=!1);var Q=T.setPrompt(w);return rt||(re(1),rt=!0),function(){return rt&&(rt=!1,re(-1)),Q()}}function de(w){var Q=T.appendListener(w);return re(1),function(){re(-1),Q()}}var x={length:t.length,action:"POP",location:d,createHref:C,push:q,replace:G,go:Y,goBack:be,goForward:ke,block:mr,listen:de};return x}function ts(e,t,r){return Math.min(Math.max(e,t),r)}function up(e){e===void 0&&(e={});var t=e,r=t.getUserConfirmation,n=t.initialEntries,s=n===void 0?["/"]:n,i=t.initialIndex,c=i===void 0?0:i,l=t.keyLength,m=l===void 0?6:l,g=En();function y(C){ae(N,C),N.length=N.entries.length,g.notifyListeners(N.location,N.action)}function v(){return Math.random().toString(36).substr(2,m)}var T=ts(c,0,s.length-1),O=s.map(function(C){return typeof C=="string"?ve(C,void 0,v()):ve(C,void 0,C.key||v())}),A=pe;function D(C,q){var G="PUSH",Y=ve(C,q,v(),N.location);g.confirmTransitionTo(Y,G,r,function(be){if(be){var ke=N.index,ue=ke+1,re=N.entries.slice(0);re.length>ue?re.splice(ue,re.length-ue,Y):re.push(Y),y({action:G,location:Y,index:ue,entries:re})}})}function P(C,q){var G="REPLACE",Y=ve(C,q,v(),N.location);g.confirmTransitionTo(Y,G,r,function(be){be&&(N.entries[N.index]=Y,y({action:G,location:Y}))})}function p(C){var q=ts(N.index+C,0,N.entries.length-1),G="POP",Y=N.entries[q];g.confirmTransitionTo(Y,G,r,function(be){be?y({action:G,location:Y,index:q}):y()})}function E(){p(-1)}function a(){p(1)}function o(C){var q=N.index+C;return q>=0&&q<N.entries.length}function h(C){return C===void 0&&(C=!1),g.setPrompt(C)}function d(C){return g.appendListener(C)}var N={length:O.length,action:"POP",location:O[T],index:T,entries:O,createHref:A,push:D,replace:P,go:p,goBack:E,goForward:a,canGo:o,block:h,listen:d};return N}var St={exports:{}},cp=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},cr=cp;St.exports=ki;St.exports.parse=mn;St.exports.compile=dp;St.exports.tokensToFunction=Qi;St.exports.tokensToRegExp=qi;var lp=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function mn(e,t){for(var r=[],n=0,s=0,i="",c=t&&t.delimiter||"/",l;(l=lp.exec(e))!=null;){var m=l[0],g=l[1],y=l.index;if(i+=e.slice(s,y),s=y+m.length,g){i+=g[1];continue}var v=e[s],T=l[2],O=l[3],A=l[4],D=l[5],P=l[6],p=l[7];i&&(r.push(i),i="");var E=T!=null&&v!=null&&v!==T,a=P==="+"||P==="*",o=P==="?"||P==="*",h=l[2]||c,d=A||D;r.push({name:O||n++,prefix:T||"",delimiter:h,optional:o,repeat:a,partial:E,asterisk:!!p,pattern:d?pp(d):p?".*":"[^"+sr(h)+"]+?"})}return s<e.length&&(i+=e.substr(s)),i&&r.push(i),r}function dp(e,t){return Qi(mn(e,t),t)}function hp(e){return encodeURI(e).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function fp(e){return encodeURI(e).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function Qi(e,t){for(var r=new Array(e.length),n=0;n<e.length;n++)typeof e[n]=="object"&&(r[n]=new RegExp("^(?:"+e[n].pattern+")$",Tn(t)));return function(s,i){for(var c="",l=s||{},m=i||{},g=m.pretty?hp:encodeURIComponent,y=0;y<e.length;y++){var v=e[y];if(typeof v=="string"){c+=v;continue}var T=l[v.name],O;if(T==null)if(v.optional){v.partial&&(c+=v.prefix);continue}else throw new TypeError('Expected "'+v.name+'" to be defined');if(cr(T)){if(!v.repeat)throw new TypeError('Expected "'+v.name+'" to not repeat, but received `'+JSON.stringify(T)+"`");if(T.length===0){if(v.optional)continue;throw new TypeError('Expected "'+v.name+'" to not be empty')}for(var A=0;A<T.length;A++){if(O=g(T[A]),!r[y].test(O))throw new TypeError('Expected all "'+v.name+'" to match "'+v.pattern+'", but received `'+JSON.stringify(O)+"`");c+=(A===0?v.prefix:v.delimiter)+O}continue}if(O=v.asterisk?fp(T):g(T),!r[y].test(O))throw new TypeError('Expected "'+v.name+'" to match "'+v.pattern+'", but received "'+O+'"');c+=v.prefix+O}return c}}function sr(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function pp(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function vn(e,t){return e.keys=t,e}function Tn(e){return e&&e.sensitive?"":"i"}function gp(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return vn(e,t)}function yp(e,t,r){for(var n=[],s=0;s<e.length;s++)n.push(ki(e[s],t,r).source);var i=new RegExp("(?:"+n.join("|")+")",Tn(r));return vn(i,t)}function Ep(e,t,r){return qi(mn(e,r),t,r)}function qi(e,t,r){cr(t)||(r=t||r,t=[]),r=r||{};for(var n=r.strict,s=r.end!==!1,i="",c=0;c<e.length;c++){var l=e[c];if(typeof l=="string")i+=sr(l);else{var m=sr(l.prefix),g="(?:"+l.pattern+")";t.push(l),l.repeat&&(g+="(?:"+m+g+")*"),l.optional?l.partial?g=m+"("+g+")?":g="(?:"+m+"("+g+"))?":g=m+"("+g+")",i+=g}}var y=sr(r.delimiter||"/"),v=i.slice(-y.length)===y;return n||(i=(v?i.slice(0,-y.length):i)+"(?:"+y+"(?=$))?"),s?i+="$":i+=n&&v?"":"(?="+y+"|$)",vn(new RegExp("^"+i,Tn(r)),t)}function ki(e,t,r){return cr(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?gp(e,t):cr(e)?yp(e,t,r):Ep(e,t,r)}var mp=St.exports;const vp=Es(mp);var _r=1073741823,rs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Sn.global<"u"?Sn.global:{};function Tp(){var e="__global_unique_id__";return rs[e]=(rs[e]||0)+1}function Op(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Pp(e){var t=[];return{on:function(n){t.push(n)},off:function(n){t=t.filter(function(s){return s!==n})},get:function(){return e},set:function(n,s){e=n,t.forEach(function(i){return i(e,s)})}}}function _p(e){return Array.isArray(e)?e[0]:e}function Rp(e,t){var r,n,s="__create-react-context-"+Tp()+"__",i=function(l){De(m,l);function m(){for(var y,v=arguments.length,T=new Array(v),O=0;O<v;O++)T[O]=arguments[O];return y=l.call.apply(l,[this].concat(T))||this,y.emitter=Pp(y.props.value),y}var g=m.prototype;return g.getChildContext=function(){var v;return v={},v[s]=this.emitter,v},g.componentWillReceiveProps=function(v){if(this.props.value!==v.value){var T=this.props.value,O=v.value,A;Op(T,O)?A=0:(A=typeof t=="function"?t(T,O):_r,A|=0,A!==0&&this.emitter.set(v.value,A))}},g.render=function(){return this.props.children},m}(V.Component);i.childContextTypes=(r={},r[s]=Nn.object.isRequired,r);var c=function(l){De(m,l);function m(){for(var y,v=arguments.length,T=new Array(v),O=0;O<v;O++)T[O]=arguments[O];return y=l.call.apply(l,[this].concat(T))||this,y.observedBits=void 0,y.state={value:y.getValue()},y.onUpdate=function(A,D){var P=y.observedBits|0;P&D&&y.setState({value:y.getValue()})},y}var g=m.prototype;return g.componentWillReceiveProps=function(v){var T=v.observedBits;this.observedBits=T??_r},g.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var v=this.props.observedBits;this.observedBits=v??_r},g.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},g.getValue=function(){return this.context[s]?this.context[s].get():e},g.render=function(){return _p(this.props.children)(this.state.value)},m}(V.Component);return c.contextTypes=(n={},n[s]=Nn.object,n),{Provider:i,Consumer:c}}var Ip=V.createContext||Rp,Vi=function(t){var r=Ip();return r.displayName=t,r},ji=Vi("Router-History"),et=Vi("Router"),Hi=function(e){De(t,e),t.computeRootMatch=function(s){return{path:"/",url:"/",params:{},isExact:s==="/"}};function t(n){var s;return s=e.call(this,n)||this,s.state={location:n.history.location},s._isMounted=!1,s._pendingLocation=null,n.staticContext||(s.unlisten=n.history.listen(function(i){s._pendingLocation=i})),s}var r=t.prototype;return r.componentDidMount=function(){var s=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(i){s._isMounted&&s.setState({location:i})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return V.createElement(et.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},V.createElement(ji.Provider,{children:this.props.children||null,value:this.props.history}))},t}(V.Component),dy=function(e){De(t,e);function t(){for(var n,s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return n=e.call.apply(e,[this].concat(i))||this,n.history=up(n.props),n}var r=t.prototype;return r.render=function(){return V.createElement(Hi,{history:this.history,children:this.props.children})},t}(V.Component),Ap=function(e){De(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},r.componentDidUpdate=function(s){this.props.onUpdate&&this.props.onUpdate.call(this,this,s)},r.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},r.render=function(){return null},t}(V.Component);function hy(e){var t=e.message,r=e.when,n=r===void 0?!0:r;return V.createElement(et.Consumer,null,function(s){if(s||Pt(!1),!n||s.staticContext)return null;var i=s.history.block;return V.createElement(Ap,{onMount:function(l){l.release=i(t)},onUpdate:function(l,m){m.message!==t&&(l.release(),l.release=i(t))},onUnmount:function(l){l.release()},message:t})})}var ns={},Sp=1e4,ss=0;function Np(e,t){var r=""+t.end+t.strict+t.sensitive,n=ns[r]||(ns[r]={});if(n[e])return n[e];var s=[],i=vp(e,s,t),c={regexp:i,keys:s};return ss<Sp&&(n[e]=c,ss++),c}function Wi(e,t){t===void 0&&(t={}),(typeof t=="string"||Array.isArray(t))&&(t={path:t});var r=t,n=r.path,s=r.exact,i=s===void 0?!1:s,c=r.strict,l=c===void 0?!1:c,m=r.sensitive,g=m===void 0?!1:m,y=[].concat(n);return y.reduce(function(v,T){if(!T&&T!=="")return null;if(v)return v;var O=Np(T,{end:i,strict:l,sensitive:g}),A=O.regexp,D=O.keys,P=A.exec(e);if(!P)return null;var p=P[0],E=P.slice(1),a=e===p;return i&&!a?null:{path:T,url:T==="/"&&p===""?"/":p,isExact:a,params:D.reduce(function(o,h,d){return o[h.name]=E[d],o},{})}},null)}function bp(e){return V.Children.count(e)===0}var fy=function(e){De(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var s=this;return V.createElement(et.Consumer,null,function(i){i||Pt(!1);var c=s.props.location||i.location,l=s.props.computedMatch?s.props.computedMatch:s.props.path?Wi(c.pathname,s.props):i.match,m=ae({},i,{location:c,match:l}),g=s.props,y=g.children,v=g.component,T=g.render;return Array.isArray(y)&&bp(y)&&(y=null),V.createElement(et.Provider,{value:m},m.match?y?typeof y=="function"?y(m):y:v?V.createElement(v,m):T?T(m):null:typeof y=="function"?y(m):null)})},t}(V.Component);function On(e){return e.charAt(0)==="/"?e:"/"+e}function Cp(e,t){return e?ae({},t,{pathname:On(e)+t.pathname}):t}function Dp(e,t){if(!e)return t;var r=On(e);return t.pathname.indexOf(r)!==0?t:ae({},t,{pathname:t.pathname.substr(r.length)})}function is(e){return typeof e=="string"?e:pe(e)}function Rr(e){return function(){Pt(!1)}}function os(){}V.Component;var py=function(e){De(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){var s=this;return V.createElement(et.Consumer,null,function(i){i||Pt(!1);var c=s.props.location||i.location,l,m;return V.Children.forEach(s.props.children,function(g){if(m==null&&V.isValidElement(g)){l=g;var y=g.props.path||g.props.from;m=y?Wi(c.pathname,ae({},g.props,{path:y})):i.match}}),m?V.cloneElement(l,{location:c,computedMatch:m}):null})},t}(V.Component),Pn=V.useContext;function wp(){return Pn(ji)}function gy(){return Pn(et).location}function yy(){var e=Pn(et).match;return e?e.params:{}}function as(e){const{children:t,downloadCartPageUrl:r,onResetSessionComplete:n,maxAge:s,onNoAccessTokenFound:i,forceRelogin:c}=e,l=wp(),[m,g]=K.useState(void 0),[y,v]=K.useState(void 0),[T,O]=K.useState(!1),[A,D]=K.useState(void 0),P=K.useCallback(()=>{i&&i(),oe.signOut().then(()=>{g(void 0),v(void 0),O(!0)})},[i]),p=K.useCallback(async()=>{D(void 0);let o;try{if(o=await oe.getAccessTokenFromCookie(),!o){P();return}}catch(h){console.error("Unable to get the access token: ",h),P();return}if(s){const h=await oe.getAuthenticatedOn(o),d=An.utc(h.authenticatedOn);if(An.utc().diff(d,"seconds")>s){O(!0);return}}g(o),O(!0);try{await oe.getUserProfile(o),v(!0)}catch(h){h&&h.reason=="Terms of use have not been signed."?v(!1):(console.error("Error on refreshSession: ",h),oe.signOut().then(()=>{window.location.reload()}))}},[P,s]),E=K.useCallback(async()=>{await oe.signOut(),await p(),n&&n()},[p,n]);K.useEffect(()=>{c?E():p()},[]);const{isLoading:a}=Jf({onSignInComplete:()=>{Xf(l),p()},onTwoFactorAuthRequired:o=>{D(o)}});return U.jsx(Yr,{context:{token:m,acceptsTermsOfUse:y,refreshSession:p,clearSession:E,isLoadingSSO:a,twoFactorAuthSSOErrorResponse:A,hasInitializedSession:T},children:U.jsx(ur,{synapseContext:{accessToken:m,isInExperimentalMode:oe.isInSynapseExperimentalMode(),utcTime:oe.getUseUtcTimeFromCookie(),downloadCartPageUrl:r},children:t})})}try{as.displayName="ApplicationSessionManager",as.__docgenInfo={description:`The ApplicationSessionManager will manage Synapse user session in an app. The goal is that any custom app should
just be able to add this component near the top of its component tree and have the full Synapse login lifecycle managed
while exposing minimal complexity to the app itself.

Custom per-app behavior should be customized with generalizable props to this component.

The session data can be accessed with useApplicationSessionContext.

This component must be called within a react-router Router. ApplicationSessionManager also wraps all of its children
in a SynapseContextProvider.`,displayName:"ApplicationSessionManager",props:{downloadCartPageUrl:{defaultValue:null,description:"",name:"downloadCartPageUrl",required:!1,type:{name:"string"}},maxAge:{defaultValue:null,description:"",name:"maxAge",required:!1,type:{name:"number"}},onResetSessionComplete:{defaultValue:null,description:"",name:"onResetSessionComplete",required:!1,type:{name:"(() => void)"}},onNoAccessTokenFound:{defaultValue:null,description:"",name:"onNoAccessTokenFound",required:!1,type:{name:"(() => void)"}},forceRelogin:{defaultValue:null,description:"",name:"forceRelogin",required:!1,type:{name:"boolean"}}}}}catch{}export{dy as $,oi as A,pe as B,Wi as C,ve as D,yu as E,Gn as F,qf as G,kf as H,$l as I,iy as J,ar as K,sy as L,Wl as M,Jl as N,Za as O,Ul as P,oa as Q,tc as R,Wn as S,Vg as T,Gr as U,ti as V,st as W,Ra as X,Yf as Y,Jf as Z,ba as _,ur as a,sc as a$,_i as a0,wc as a1,xl as a2,fd as a3,gi as a4,su as a5,qe as a6,yg as a7,ou as a8,pu as a9,La as aA,_a as aB,lg as aC,dg as aD,Qa as aE,di as aF,Cg as aG,Vr as aH,Hf as aI,jf as aJ,Rf as aK,If as aL,fc as aM,xg as aN,hc as aO,Iu as aP,nn as aQ,Pu as aR,Ru as aS,sn as aT,xu as aU,ei as aV,$u as aW,Au as aX,ec as aY,ai as aZ,Zu as a_,zs as aa,hu as ab,au as ac,qg as ad,Eg as ae,fr as af,Fd as ag,Dd as ah,wd as ai,Ud as aj,Gt as ak,Z as al,Ms as am,Ia as an,Ca as ao,Ua as ap,Ma as aq,Fa as ar,xa as as,Ka as at,Ba as au,hg as av,$a as aw,Sr as ax,wt as ay,Oa as az,Lu as b,ty as b$,Qn as b0,mu as b1,Eu as b2,gr as b3,Df as b4,kg as b5,fg as b6,pg as b7,gg as b8,gf as b9,ri as bA,on as bB,oy as bC,Ti as bD,ql as bE,mi as bF,Pg as bG,mc as bH,Lg as bI,gy as bJ,wp as bK,py as bL,fy as bM,yy as bN,ay as bO,Ws as bP,ta as bQ,wi as bR,ry as bS,jg as bT,Hg as bU,Yg as bV,zg as bW,Jg as bX,Xg as bY,Zg as bZ,ey as b_,Ef as ba,yf as bb,jh as bc,$h as bd,qh as be,Uc as bf,Hh as bg,ef as bh,ln as bi,Kc as bj,Bc as bk,Ft as bl,Si as bm,Ng as bn,vg as bo,pc as bp,Qg as bq,dc as br,Cc as bs,kn as bt,Dg as bu,eh as bv,$c as bw,pr as bx,It as by,Yu as bz,wu as c,Wg as c0,Gg as c1,ny as c2,td as c3,ed as c4,rd as c5,Zl as c6,Ff as c7,Qf as c8,wg as c9,qc as ca,hy as cb,Pc as cc,Tg as cd,mg as ce,jr as cf,Kg as cg,_g as ch,Og as ci,bg as cj,Gl as ck,Ig as cl,Rg as cm,Fg as cn,Rt as d,Fu as e,rc as f,$g as g,we as h,Mg as i,jc as j,Oi as k,_t as l,wn as m,oe as n,Na as o,Bg as p,hi as q,Ag as r,Sg as s,Il as t,uy as u,Ug as v,cy as w,Hi as x,ly as y,et as z};
