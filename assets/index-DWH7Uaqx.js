var Ii=Object.defineProperty;var xi=(e,t,r)=>t in e?Ii(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var le=(e,t,r)=>xi(e,typeof t!="symbol"?t+"":t,r);import{j}from"./jsx-runtime-D_zvdyIk.js";import{r as Y}from"./index-rtfIZOBz.js";import{i as gr,g as ee,E as Ee,a as Ot,r as De,P as pe,C as Ea,D as ja,h as de,R as Ie,O as ye,b as _e,c as Ai,U as Ca,e as kt,f as Ta,j as Di,k as Oa,l as ka,d as he,I as nt,m as Re,N as vr,n as Pa,o as Mn,s as fe,p as $n,q as Fa,t as Ri,v as Mi,S as Er,w as qn,L as qi,F as Un,x as tt,y as Na,T as oe,z as Vn,B as jt,G as mn,H as st,J as Wr,K as Ui,A as Pt,M as Vi}from"./enums-BdRY0TPs.js";import{d as Bn,g as Ia}from"./iframe-BSAdkskh.js";import{b as xa,i as hn,d as ft}from"./merge-DylbgP-k.js";import{g as z}from"./_baseIteratee-CIhzElfG.js";import{S as Bi,c as Ln,i as Aa}from"./isEqual-CCOT5IPQ.js";import{i as Fe,q as Li}from"./_Uint8Array-BAHg-G7z.js";import{a as zi,c as Ki,o as Wi,i as Me,k as Da}from"./_baseUniq-DGRBPPYl.js";import{i as _r}from"./isString-8YKf5B5h.js";import{a as Gi,c as jr}from"./cloneDeep-Cr3r1W7N.js";import{b as Hi}from"./_baseEach-fuQxswWB.js";import{c as Ji}from"./times-Dgn5tSib.js";import{a as Ra}from"./isArray-D_sXtQcP.js";import{b as Yi,a as zn,o as Cr}from"./omit-B_5zt3I-.js";import{p as Xi,i as Qi}from"./pickBy-C2tLoeVk.js";import{a as Ma,t as Zi}from"./toString-DqFUgGfb.js";import{k as yt}from"./_getTag-Cpfz1PLy.js";import{p as Kn}from"./pick-B_UpBn0l.js";import{n as eo}from"./useQuery-BWmFLtG_.js";import{c as Fr}from"./createSvgIcon-CwoUZhBh.js";import{I as qa}from"./IconButton-pezkiABd.js";import{G as Te}from"./Grid-D6feUdjx.js";import{B as at}from"./Box-CmPnTZT6.js";import{P as bn}from"./Paper-XVSaVcnR.js";import{T as Sn}from"./TextField-Dw1qg4WQ.js";import{T as Nr}from"./Typography-CVsqgwqE.js";import{L as Ua}from"./List-LQ9L4cdF.js";import{L as Va}from"./ListItem-CVCEvq1K.js";import{L as to}from"./ListItemIcon-DARfTIgy.js";import{L as ro}from"./ListItemText-DmJ6MvtW.js";import{A as no}from"./ArrowUpward-DAgF1nnb.js";import{C as so}from"./ContentCopy-Bwwjyboz.js";import{F as Ba}from"./FormHelperText-BE2INoTb.js";import{F as ao}from"./FormControl-C-8FlBc8.js";import{B as io}from"./Button-BIg6urlw.js";import{D as oo}from"./Divider-Br-CwSr2.js";import{F as wn}from"./FormControlLabel-B3CcGUlW.js";import{C as La}from"./Checkbox-Ds_be0ek.js";import{F as En}from"./FormLabel-4vVc9q4Q.js";import{F as co}from"./FormGroup-BT9ggNBZ.js";import{R as lo}from"./RadioGroup-Bf4DducT.js";import{R as uo}from"./Radio-Dx0vcA3j.js";import{S as fo}from"./Slider-GHdtM8N1.js";import{M as Wn}from"./MenuItem-CbhL5ncf.js";import{r as za}from"./index-C148XJoK.js";import{h as mo}from"./_initCloneObject-CoBPQnAp.js";import{i as ho}from"./isSymbol-HnCDEshc.js";import{s as po,t as yo}from"./_baseGet-wfAtQxlH.js";import{b as go}from"./_baseSet-DHKv3ZO4.js";var vo=xa(function(e,t){return hn(e)?zi(e,Ki(t,1,hn,!0)):[]});function Ka(e,t){var r=Ra(e)?Gi:Hi;return r(e,Ji(t))}var _o=Math.min;function $o(e,t,r){for(var n=Wi,a=e[0].length,s=e.length,o=s,i=Array(s),c=1/0,u=[];o--;){var d=e[o];c=_o(d.length,c),i[o]=a>=120&&d.length>=120?new Bi(o&&d):void 0}d=e[0];var m=-1,l=i[0];e:for(;++m<a&&u.length<c;){var h=d[m],y=h;if(h=h!==0?h:0,!(l?Ln(l,y):n(u,y))){for(o=s;--o;){var b=i[o];if(!(b?Ln(b,y):n(e[o],y)))continue e}l&&l.push(y),u.push(h)}}return u}function bo(e){return hn(e)?e:[]}var Gn=xa(function(e){var t=Ma(e,bo);return t.length&&t[0]===e[0]?$o(t):[]});function Hn(e){return e===void 0}function So(e,t,r,n){return n=typeof n=="function"?n:void 0,e==null?e:go(e,t,r,n)}function Wa(e){return Ra(e)?Ma(e,yo):ho(e)?[e]:mo(po(Zi(e)))}function wo(e,t){return e==null?!0:Yi(e,t)}const Eo=Fr(j.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),jo=Fr(j.jsx("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"})),Co=Fr(j.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"})),To=Fr(j.jsx("path",{d:"M19 13H5v-2h14z"}));function Oo(e){return e.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),gr(e.additionalItems)}function Jn(e){if(e==="")return;if(e===null)return null;if(/\.$/.test(e)||/\.0$/.test(e)||/\.\d*0$/.test(e))return e;const t=Number(e);return typeof t=="number"&&!Number.isNaN(t)?t:e}function Ga(e,t={},r){if(!(e.additionalProperties||e.patternProperties))return!1;const{expandable:n=!0}=ee(t);return n===!1?n:e.maxProperties!==void 0&&r?Object.keys(r).length<e.maxProperties:!0}function Tr(e){const t={[Ee]:[],addError(r){this[Ee].push(r)}};if(Array.isArray(e))return e.reduce((r,n,a)=>({...r,[a]:Tr(n)}),t);if(ft(e)){const r=e;return Object.keys(r).reduce((n,a)=>({...n,[a]:Tr(r[a])}),t)}return t}function St(e,t,r,n,a,s={},o){if(Array.isArray(r[a])){const c=Ot(r)||n,u=r[a].map(m=>De(e,m,t,s,o)),d=z(s,c);if(d!==void 0)return u.find(m=>Aa(z(m,[pe,c,ja],z(m,[pe,c,Ea])),d))}}function Ha(e,t,r,n,a){let s=r;if(de(r,Ie)&&(s=De(e,r,t,void 0,a)),Me(n))return s;const o=Array.isArray(n)?n:n.split("."),[i,...c]=o;if(i&&de(s,i))return s=z(s,i),Ha(e,t,s,c,a)}function $r(e,t,r,n,a,s){const o=Ha(e,t,r,n,s);return o===void 0?a:o}const Yn={title:"!@#$_UNKNOWN_$#@!"};function ko(e,t,r,n,a={},s){const o=Array.isArray(n)?[...n]:n.split(".");let i=r;const c=o.pop();o.length&&o.forEach(l=>{i=$r(e,t,i,[pe,l],{},s),de(i,ye)?i=St(e,t,i,c,ye,z(a,l),s):de(i,_e)&&(i=St(e,t,i,c,_e,z(a,l),s))}),de(i,ye)?i=St(e,t,i,c,ye,a,s):de(i,_e)&&(i=St(e,t,i,c,_e,a,s));let u=$r(e,t,i,[pe,c],Yn,s);u===Yn&&(u=void 0);const d=$r(e,t,i,Ai,[],s);let m;return u&&Array.isArray(d)&&(m=d.includes(c)),{field:u,isRequired:m}}function Ja(e={}){return"widget"in ee(e)&&ee(e).widget!=="hidden"}function Ya(e,t,r={},n,a){if(r[Ca]==="files")return!0;if(t.items){const s=De(e,t.items,n,void 0,a);return s.type==="string"&&s.format==="data-url"}return!1}function Po(e,t,r={},n,a,s){const o=ee(r,a),{label:i=!0}=o;let c=!!i;const u=kt(t);return u==="array"&&(c=Ta(e,t,n,s)||Ya(e,t,r,n,s)||Ja(r)),u==="object"&&(c=!1),u==="boolean"&&!r[Ca]&&(c=!1),r[Di]&&(c=!1),c}const lt=Symbol("no Value");function pn(e,t,r,n,a={},s){let o;if(de(r,pe)){const i={};if(de(n,pe)){const d=z(n,pe,{});Object.keys(d).forEach(m=>{de(a,m)&&(i[m]=void 0)})}const c=Object.keys(z(r,pe,{})),u={};c.forEach(d=>{const m=z(a,d);let l=z(n,[pe,d],{}),h=z(r,[pe,d],{});de(l,Ie)&&(l=De(e,l,t,m,s)),de(h,Ie)&&(h=De(e,h,t,m,s));const y=z(l,"type"),b=z(h,"type");if(!y||y===b)if(de(i,d)&&delete i[d],b==="object"||b==="array"&&Array.isArray(m)){const p=pn(e,t,h,l,m,s);(p!==void 0||b==="array")&&(u[d]=p)}else{const p=z(h,"default",lt),g=z(l,"default",lt);p!==lt&&p!==m&&(g===m?i[d]=p:z(h,"readOnly")===!0&&(i[d]=void 0));const f=z(h,"const",lt),_=z(l,"const",lt);f!==lt&&f!==m&&(i[d]=_===m?f:void 0)}}),o={...typeof a=="string"||Array.isArray(a)?void 0:a,...i,...u}}else if(z(n,"type")==="array"&&z(r,"type")==="array"&&Array.isArray(a)){let i=z(n,"items"),c=z(r,"items");if(typeof i=="object"&&typeof c=="object"&&!Array.isArray(i)&&!Array.isArray(c)){de(i,Ie)&&(i=De(e,i,t,a,s)),de(c,Ie)&&(c=De(e,c,t,a,s));const u=z(i,"type"),d=z(c,"type");if(!u||u===d){const m=z(r,"maxItems",-1);d==="object"?o=a.reduce((l,h)=>{const y=pn(e,t,c,i,h,s);return y!==void 0&&(m<0||l.length<m)&&l.push(y),l},[]):o=m>0&&a.length>m?a.slice(0,m):a}}else typeof i=="boolean"&&typeof c=="boolean"&&i===c&&(o=a)}return o}function br(e,t,r,n,a,s,o,i=[],c){const d={$id:a||r};if(typeof t=="object"){if(Ie in t||Oa in t||ka in t){const m=De(e,t,s,o,c);if(i.findIndex(h=>he(h,m))===-1)return br(e,m,r,n,a,s,o,i.concat(m),c)}if(nt in t&&!z(t,[nt,Ie]))return br(e,z(t,nt),r,n,a,s,o,i,c);if(kt(t)==="object"&&pe in t)for(const m in t.properties){const l=t[pe][m],h=d[Re]+n+m;d[m]=br(e,l,r,n,h,s,z(o,[m]),i,c)}}return d}function Fo(e,t,r,n,a,s="root",o="_",i){return br(e,t,s,o,r,n,a,void 0,i)}function Ze(e,t,r,n,a,s=[],o){if(Ie in t||Oa in t||ka in t){const c=De(e,t,n,a,o);if(s.findIndex(d=>he(d,c))===-1)return Ze(e,c,r,n,a,s.concat(c),o)}let i={[vr]:r.replace(/^\./,"")};if(ye in t||_e in t){const c=ye in t?t.oneOf:t.anyOf,u=Ot(t),d=Pa(e,n,a,c,0,u,o),m=c[d];i={...i,...Ze(e,m,r,n,a,s,o)}}if(Mn in t&&t[Mn]!==!1&&fe(i,$n,!0),nt in t&&Array.isArray(a)){const{items:c,additionalItems:u}=t;Array.isArray(c)?a.forEach((d,m)=>{c[m]?i[m]=Ze(e,c[m],`${r}.${m}`,n,d,s,o):u?i[m]=Ze(e,u,`${r}.${m}`,n,d,s,o):console.warn(`Unable to generate path schema for "${r}.${m}". No schema defined for it`)}):a.forEach((d,m)=>{i[m]=Ze(e,c,`${r}.${m}`,n,d,s,o)})}else if(pe in t)for(const c in t.properties){const u=z(t,[pe,c],{});i[c]=Ze(e,u,`${r}.${c}`,n,z(a,[c]),s,o)}return i}function No(e,t,r="",n,a,s){return Ze(e,t,r,n,a,void 0,s)}class Io{constructor(t,r,n,a){this.rootSchema=r,this.validator=t,this.experimental_defaultFormStateBehavior=n,this.experimental_customMergeAllOf=a}getValidator(){return this.validator}doesSchemaUtilsDiffer(t,r,n={},a){return!t||!r?!1:this.validator!==t||!he(this.rootSchema,r)||!he(this.experimental_defaultFormStateBehavior,n)||this.experimental_customMergeAllOf!==a}findFieldInSchema(t,r,n){return ko(this.validator,this.rootSchema,t,r,n,this.experimental_customMergeAllOf)}findSelectedOptionInXxxOf(t,r,n,a){return St(this.validator,this.rootSchema,t,r,n,a,this.experimental_customMergeAllOf)}getDefaultFormState(t,r,n=!1){return Fa(this.validator,t,r,this.rootSchema,n,this.experimental_defaultFormStateBehavior,this.experimental_customMergeAllOf)}getDisplayLabel(t,r,n){return Po(this.validator,t,r,this.rootSchema,n,this.experimental_customMergeAllOf)}getClosestMatchingOption(t,r,n,a){return Pa(this.validator,this.rootSchema,t,r,n,a,this.experimental_customMergeAllOf)}getFirstMatchingOption(t,r,n){return Ri(this.validator,t,r,this.rootSchema,n)}getFromSchema(t,r,n){return $r(this.validator,this.rootSchema,t,r,n,this.experimental_customMergeAllOf)}isFilesArray(t,r){return Ya(this.validator,t,r,this.rootSchema,this.experimental_customMergeAllOf)}isMultiSelect(t){return Ta(this.validator,t,this.rootSchema,this.experimental_customMergeAllOf)}isSelect(t){return Mi(this.validator,t,this.rootSchema,this.experimental_customMergeAllOf)}retrieveSchema(t,r){return De(this.validator,t,this.rootSchema,r,this.experimental_customMergeAllOf)}sanitizeDataForNewSchema(t,r,n){return pn(this.validator,this.rootSchema,t,r,n,this.experimental_customMergeAllOf)}toIdSchema(t,r,n,a="root",s="_"){return Fo(this.validator,t,r,this.rootSchema,n,a,s,this.experimental_customMergeAllOf)}toPathSchema(t,r,n){return No(this.validator,t,r,this.rootSchema,n,this.experimental_customMergeAllOf)}}function xo(e,t,r={},n){return new Io(e,t,r,n)}function Ao(e){var t;if(e.indexOf("data:")===-1)throw new Error("File is invalid: URI must be a dataURI");const n=e.slice(5).split(";base64,");if(n.length!==2)throw new Error("File is invalid: dataURI must be base64");const[a,s]=n,[o,...i]=a.split(";"),c=o||"",u=decodeURI(((t=i.map(d=>d.split("=")).find(([d])=>d==="name"))===null||t===void 0?void 0:t[1])||"unknown");try{const d=atob(s),m=new Array(d.length);for(let h=0;h<d.length;h++)m[h]=d.charCodeAt(h);return{blob:new window.Blob([new Uint8Array(m)],{type:c}),name:u}}catch(d){throw new Error("File is invalid: "+d.message)}}function He(e,t){let r=String(e);for(;r.length<t;)r="0"+r;return r}function Xa(e,t){if(e<=0&&t<=0)e=new Date().getFullYear()+e,t=new Date().getFullYear()+t;else if(e<0||t<0)throw new Error(`Both start (${e}) and stop (${t}) must both be <= 0 or > 0, got one of each`);if(e>t)return Xa(t,e).reverse();const r=[];for(let n=e;n<=t;n++)r.push({value:n,label:He(n,2)});return r}function Do(e,t){let r=e;if(Array.isArray(t)){const n=r.split(/(%\d)/);t.forEach((a,s)=>{const o=n.findIndex(i=>i===`%${s+1}`);o>=0&&(n[o]=a)}),r=n.join("")}return r}function Ro(e,t){return Do(e,t)}function $e(e,t=[],r){if(Array.isArray(e))return e.map(s=>$e(s,t)).filter(s=>s!==r);const n=e===""||e===null?-1:Number(e),a=t[n];return a?a.value:r}function Qa(e,t,r=[]){const n=$e(e,r);return Array.isArray(t)?t.filter(a=>!he(a,n)):he(n,t)?void 0:t}function Ir(e,t){return Array.isArray(t)?t.some(r=>he(r,e)):he(t,e)}function jn(e,t=[],r=!1){const n=t.map((a,s)=>Ir(a.value,e)?String(s):void 0).filter(a=>typeof a<"u");return r?n:n[0]}function Za(e,t,r=[]){const n=$e(e,r);if(!Da(n)){const a=r.findIndex(i=>n===i.value),s=r.map(({value:i})=>i);return t.slice(0,a).concat(n,t.slice(a)).sort((i,c)=>+(s.indexOf(i)>s.indexOf(c)))}return t}class Mo{constructor(t){this.errorSchema={},this.resetAllErrors(t)}get ErrorSchema(){return this.errorSchema}getOrCreateErrorBlock(t){let n=Array.isArray(t)&&t.length>0||typeof t=="string"?z(this.errorSchema,t):this.errorSchema;return!n&&t&&(n={},So(this.errorSchema,t,n,Object)),n}resetAllErrors(t){return this.errorSchema=t?jr(t):{},this}addErrors(t,r){const n=this.getOrCreateErrorBlock(r);let a=z(n,Ee);return Array.isArray(a)||(a=[],n[Ee]=a),Array.isArray(t)?fe(n,Ee,[...new Set([...a,...t])]):fe(n,Ee,[...new Set([...a,t])]),this}setErrors(t,r){const n=this.getOrCreateErrorBlock(r),a=Array.isArray(t)?[...new Set([...t])]:[t];return fe(n,Ee,a),this}clearErrors(t){const r=this.getOrCreateErrorBlock(t);return fe(r,Ee,[]),this}}function qo(e,t,r=[1900,new Date().getFullYear()+2],n="YMD"){const{day:a,month:s,year:o,hour:i,minute:c,second:u}=e,d={type:"day",range:[1,31],value:a},m={type:"month",range:[1,12],value:s},l={type:"year",range:r,value:o},h=[];switch(n){case"MDY":h.push(m,d,l);break;case"DMY":h.push(d,m,l);break;case"YMD":default:h.push(l,m,d)}return t&&h.push({type:"hour",range:[0,23],value:i},{type:"minute",range:[0,59],value:c},{type:"second",range:[0,59],value:u}),h}function ei(e){const t={};return e.multipleOf&&(t.step=e.multipleOf),(e.minimum||e.minimum===0)&&(t.min=e.minimum),(e.maximum||e.maximum===0)&&(t.max=e.maximum),t}function ti(e,t,r={},n=!0){const a={type:t||"text",...ei(e)};return r.inputType?a.type=r.inputType:t||(e.type==="number"?(a.type="number",n&&a.step===void 0&&(a.step="any")):e.type==="integer"&&(a.type="number",a.step===void 0&&(a.step=1))),r.autocomplete&&(a.autoComplete=r.autocomplete),r.accept&&(a.accept=r.accept),a}const Xn={props:{disabled:!1},submitText:"Submit",norender:!1};function ri(e={}){const t=ee(e);if(t&&t[Er]){const r=t[Er];return{...Xn,...r}}return Xn}function Q(e,t,r={}){const{templates:n}=t;if(e==="ButtonTemplates")return n[e];if(Object.hasOwn(r,e)&&typeof r[e]=="string"&&Object.hasOwn(n,r[e])){const a=r[e];return n[a]}return r[e]||n[e]}const Uo="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let ni=(e=21)=>{let t="",r=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=Uo[r[e]&63];return t};function si(){if(typeof Bn.process>"u"||z(Bn.process,"env.NODE_ENV")!=="test")return{};const e=new Map;return new Proxy({},{get(t,r){return e.has(r)||e.set(r,ni()),e.get(r)}})}const Gr={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",time:"TimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function Vo(e){let t=z(e,"MergedWidget");if(!t){const r=e.defaultProps&&e.defaultProps.options||{};t=({options:n,...a})=>j.jsx(e,{options:{...r,...n},...a}),fe(e,"MergedWidget",t)}return t}function Ue(e,t,r={}){const n=kt(e);if(typeof t=="function"||t&&qn.isForwardRef(Y.createElement(t))||qn.isMemo(t))return Vo(t);if(typeof t!="string")throw new Error(`Unsupported widget definition: ${typeof t}`);if(t in r){const a=r[t];return Ue(e,a,r)}if(typeof n=="string"){if(!(n in Gr))throw new Error(`No widget for type '${n}'`);if(t in Gr[n]){const a=r[Gr[n][t]];return Ue(e,a,r)}}throw new Error(`No widget '${t}' for type '${n}'`)}function Bo(e){let t=0;for(let r=0;r<e.length;r+=1){const n=e.charCodeAt(r);t=(t<<5)-t+n,t=t&t}return t.toString(16)}function Lo(e){const t=new Set;return JSON.stringify(e,(r,n)=>(t.add(r),n)),JSON.stringify(e,Array.from(t).sort())}function rt(e){return Bo(Lo(e))}function zo(e){return rt(e)}function Ko(e,t,r={}){try{return Ue(e,t,r),!0}catch(n){const a=n;if(a.message&&(a.message.startsWith("No widget")||a.message.startsWith("Unsupported widget")))return!1;throw n}}function ht(e,t){return`${_r(e)?e:e[Re]}__${t}`}function it(e){return ht(e,"description")}function Cn(e){return ht(e,"error")}function Ct(e){return ht(e,"examples")}function Tn(e){return ht(e,"help")}function xr(e){return ht(e,"title")}function ke(e,t=!1){const r=t?` ${Ct(e)}`:"";return`${Cn(e)} ${it(e)} ${Tn(e)}${r}`}function Ar(e,t){return`${e}-${t}`}function qe(e,t){return ht(e,t)}function ot(e,t,r){return t?r:e}function Wo(e){return e?new Date(e).toJSON():void 0}function Hr(e,t,r){const n=[qi];return de(e,Un)&&n.unshift(Un),z(e,[...n,t],r)}function Go(e,t){if(!Array.isArray(t))return e;const r=d=>d.reduce((m,l)=>(m[l]=!0,m),{}),n=d=>d.length>1?`properties '${d.join("', '")}'`:`property '${d[0]}'`,a=r(e),s=t.filter(d=>d==="*"||a[d]),o=r(s),i=e.filter(d=>!o[d]),c=s.indexOf("*");if(c===-1){if(i.length)throw new Error(`uiSchema order list does not contain ${n(i)}`);return s}if(c!==s.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");const u=[...s];return u.splice(c,1,...i),u}function Jr(e,t=!0){if(!e)return{year:-1,month:-1,day:-1,hour:t?-1:0,minute:t?-1:0,second:t?-1:0};const r=new Date(e);if(Number.isNaN(r.getTime()))throw new Error("Unable to parse date "+e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:t?r.getUTCHours():0,minute:t?r.getUTCMinutes():0,second:t?r.getUTCSeconds():0}}function wt(e){if(e.const||e.enum&&e.enum.length===1&&e.enum[0]===!0)return!0;if(e.anyOf&&e.anyOf.length===1)return wt(e.anyOf[0]);if(e.oneOf&&e.oneOf.length===1)return wt(e.oneOf[0]);if(e.allOf){const t=r=>wt(r);return e.allOf.some(t)}return!1}function Ho(e,t,r){const{props:n,state:a}=e;return!he(n,t)||!he(a,r)}function Qn(e,t=!0){const{year:r,month:n,day:a,hour:s=0,minute:o=0,second:i=0}=e,c=Date.UTC(r,n-1,a,s,o,i),u=new Date(c).toJSON();return t?u:u.slice(0,10)}function Or(e,t=[]){if(!e)return[];let r=[];return Ee in e&&(r=r.concat(e[Ee].map(n=>{const a=`.${t.join(".")}`;return{property:a,message:n,stack:`${a} ${n}`}}))),Object.keys(e).reduce((n,a)=>{if(a!==Ee){const s=e[a];ft(s)&&(n=n.concat(Or(s,[...t,a])))}return n},r)}function Jo(e){const t=new Mo;return e.length&&e.forEach(r=>{const{property:n,message:a}=r,s=n==="."?[]:Wa(n);s.length>0&&s[0]===""&&s.splice(0,1),a&&t.addErrors(a,s)}),t.ErrorSchema}function On(e){return Object.keys(e).reduce((t,r)=>{if(r==="addError")return t;{const n=e[r];return ft(n)?{...t,[r]:On(n)}:{...t,[r]:n}}},{})}function Yo(e){if(!e)return"";const t=new Date(e),r=He(t.getFullYear(),4),n=He(t.getMonth()+1,2),a=He(t.getDate(),2),s=He(t.getHours(),2),o=He(t.getMinutes(),2),i=He(t.getSeconds(),2),c=He(t.getMilliseconds(),3);return`${r}-${n}-${a}T${s}:${o}:${i}.${c}`}function Sr(e,t){if(!t)return e;const{errors:r,errorSchema:n}=e;let a=Or(t),s=t;return Me(n)||(s=tt(n,t,!0),a=[...r].concat(a)),{errorSchema:s,errors:a}}function Xo(e){for(const t in e){const r=e,n=r[t];t===Ie&&typeof n=="string"&&n.startsWith("#")?r[t]=Na+n:r[t]=kn(n)}return e}function Qo(e){for(let t=0;t<e.length;t++)e[t]=kn(e[t]);return e}function kn(e){return Array.isArray(e)?Qo([...e]):Fe(e)?Xo({...e}):e}function Zo(e,t){const r=ft(e),n=ft(t);if(e===t||!r&&!n)return[];if(r&&!n)return yt(e);if(!r&&n)return yt(t);{const a=yt(Xi(e,(o,i)=>!he(o,z(t,i)))),s=vo(yt(t),yt(e));return[...a,...s]}}function yn(){return ni()}function Zn(e){return Array.isArray(e)?e.map(t=>({key:yn(),item:t})):[]}function gt(e){return Array.isArray(e)?e.map(t=>t.item):[]}class ec extends Y.Component{constructor(r){super(r);le(this,"_getNewFormDataRow",()=>{const{schema:r,registry:n}=this.props,{schemaUtils:a}=n;let s=r.items;return Vn(r)&&Oo(r)&&(s=r.additionalItems),a.getDefaultFormState(s)});le(this,"onAddClick",r=>{this._handleAddClick(r)});le(this,"onAddIndexClick",r=>n=>{this._handleAddClick(n,r)});le(this,"onCopyIndexClick",r=>n=>{n&&n.preventDefault();const{onChange:a,errorSchema:s}=this.props,{keyedFormData:o}=this.state;let i;if(s){i={};for(const d in s){const m=parseInt(d);m<=r?fe(i,[m],s[d]):m>r&&fe(i,[m+1],s[d])}}const c={key:yn(),item:jr(o[r].item)},u=[...o];r!==void 0?u.splice(r+1,0,c):u.push(c),this.setState({keyedFormData:u,updatedKeyedFormData:!0},()=>a(gt(u),i))});le(this,"onDropIndexClick",r=>n=>{n&&n.preventDefault();const{onChange:a,errorSchema:s}=this.props,{keyedFormData:o}=this.state;let i;if(s){i={};for(const u in s){const d=parseInt(u);d<r?fe(i,[d],s[u]):d>r&&fe(i,[d-1],s[u])}}const c=o.filter((u,d)=>d!==r);this.setState({keyedFormData:c,updatedKeyedFormData:!0},()=>a(gt(c),i))});le(this,"onReorderClick",(r,n)=>a=>{a&&(a.preventDefault(),a.currentTarget.blur());const{onChange:s,errorSchema:o}=this.props;let i;if(o){i={};for(const m in o){const l=parseInt(m);l==r?fe(i,[n],o[r]):l==n?fe(i,[r],o[n]):fe(i,[m],o[l])}}const{keyedFormData:c}=this.state;function u(){const m=c.slice();return m.splice(r,1),m.splice(n,0,c[r]),m}const d=u();this.setState({keyedFormData:d},()=>s(gt(d),i))});le(this,"onChangeForIndex",r=>(n,a,s)=>{const{formData:o,onChange:i,errorSchema:c}=this.props,d=(Array.isArray(o)?o:[]).map((m,l)=>r===l?typeof n>"u"?null:n:m);i(d,c&&c&&{...c,[r]:a},s)});le(this,"onSelectChange",r=>{const{onChange:n,idSchema:a}=this.props;n(r,void 0,a&&a.$id)});const{formData:n=[]}=r,a=Zn(n);this.state={keyedFormData:a,updatedKeyedFormData:!1}}static getDerivedStateFromProps(r,n){if(n.updatedKeyedFormData)return{updatedKeyedFormData:!1};const a=Array.isArray(r.formData)?r.formData:[],s=n.keyedFormData||[];return{keyedFormData:a.length===s.length?s.map((i,c)=>({key:i.key,item:a[c]})):Zn(a)}}get itemTitle(){const{schema:r,registry:n}=this.props,{translateString:a}=n;return z(r,[nt,"title"],z(r,[nt,"description"],a(oe.ArrayItemTitle)))}isItemRequired(r){return Array.isArray(r.type)?!r.type.includes("null"):r.type!=="null"}canAddItem(r){const{schema:n,uiSchema:a,registry:s}=this.props;let{addable:o}=ee(a,s.globalUiOptions);return o!==!1&&(n.maxItems!==void 0?o=r.length<n.maxItems:o=!0),o}_handleAddClick(r,n){r&&r.preventDefault();const{onChange:a,errorSchema:s}=this.props,{keyedFormData:o}=this.state;let i;if(s){i={};for(const d in s){const m=parseInt(d);n===void 0||m<n?fe(i,[m],s[d]):m>=n&&fe(i,[m+1],s[d])}}const c={key:yn(),item:this._getNewFormDataRow()},u=[...o];n!==void 0?u.splice(n,0,c):u.push(c),this.setState({keyedFormData:u,updatedKeyedFormData:!0},()=>a(gt(u),i))}render(){const{schema:r,uiSchema:n,idSchema:a,registry:s}=this.props,{schemaUtils:o,translateString:i}=s;if(!(nt in r)){const c=ee(n),u=Q("UnsupportedFieldTemplate",s,c);return j.jsx(u,{schema:r,idSchema:a,reason:i(oe.MissingItems),registry:s})}return o.isMultiSelect(r)?this.renderMultiSelect():Ja(n)?this.renderCustomWidget():Vn(r)?this.renderFixedArray():o.isFilesArray(r,n)?this.renderFiles():this.renderNormalArray()}renderNormalArray(){const{schema:r,uiSchema:n={},errorSchema:a,idSchema:s,name:o,title:i,disabled:c=!1,readonly:u=!1,autofocus:d=!1,required:m=!1,registry:l,onBlur:h,onFocus:y,idPrefix:b,idSeparator:p="_",rawErrors:g}=this.props,{keyedFormData:f}=this.state,_=r.title||i||o,{schemaUtils:v,formContext:S}=l,$=ee(n),E=Fe(r.items)?r.items:{},T=v.retrieveSchema(E),k=gt(this.state.keyedFormData),F=this.canAddItem(k),x={canAdd:F,items:f.map((U,B)=>{const{key:W,item:L}=U,te=L,G=v.retrieveSchema(E,te),re=a?a[B]:void 0,D=s.$id+p+B,O=v.toIdSchema(G,D,te,b,p);return this.renderArrayFieldItem({key:W,index:B,name:o&&`${o}-${B}`,title:_?`${_}-${B+1}`:void 0,canAdd:F,canMoveUp:B>0,canMoveDown:B<k.length-1,itemSchema:G,itemIdSchema:O,itemErrorSchema:re,itemData:te,itemUiSchema:n.items,autofocus:d&&B===0,onBlur:h,onFocus:y,rawErrors:g,totalItems:f.length})}),className:`rjsf-field rjsf-field-array rjsf-field-array-of-${T.type}`,disabled:c,idSchema:s,uiSchema:n,onAddClick:this.onAddClick,readonly:u,required:m,schema:r,title:_,formContext:S,formData:k,rawErrors:g,registry:l},q=Q("ArrayFieldTemplate",l,$);return j.jsx(q,{...x})}renderCustomWidget(){const{schema:r,idSchema:n,uiSchema:a,disabled:s=!1,readonly:o=!1,autofocus:i=!1,required:c=!1,hideError:u,placeholder:d,onBlur:m,onFocus:l,formData:h=[],registry:y,rawErrors:b,name:p}=this.props,{widgets:g,formContext:f,globalUiOptions:_,schemaUtils:v}=y,{widget:S,title:$,...E}=ee(a,_),T=Ue(r,S,g),k=$??r.title??p,F=v.getDisplayLabel(r,a,_);return j.jsx(T,{id:n.$id,name:p,multiple:!0,onChange:this.onSelectChange,onBlur:m,onFocus:l,options:E,schema:r,uiSchema:a,registry:y,value:h,disabled:s,readonly:o,hideError:u,required:c,label:k,hideLabel:!F,placeholder:d,formContext:f,autofocus:i,rawErrors:b})}renderMultiSelect(){const{schema:r,idSchema:n,uiSchema:a,formData:s=[],disabled:o=!1,readonly:i=!1,autofocus:c=!1,required:u=!1,placeholder:d,onBlur:m,onFocus:l,registry:h,rawErrors:y,name:b}=this.props,{widgets:p,schemaUtils:g,formContext:f,globalUiOptions:_}=h,v=g.retrieveSchema(r.items,s),S=jt(v,a),{widget:$="select",title:E,...T}=ee(a,_),k=Ue(r,$,p),F=E??r.title??b,x=g.getDisplayLabel(r,a,_);return j.jsx(k,{id:n.$id,name:b,multiple:!0,onChange:this.onSelectChange,onBlur:m,onFocus:l,options:{...T,enumOptions:S},schema:r,uiSchema:a,registry:h,value:s,disabled:o,readonly:i,required:u,label:F,hideLabel:!x,placeholder:d,formContext:f,autofocus:c,rawErrors:y})}renderFiles(){const{schema:r,uiSchema:n,idSchema:a,name:s,disabled:o=!1,readonly:i=!1,autofocus:c=!1,required:u=!1,onBlur:d,onFocus:m,registry:l,formData:h=[],rawErrors:y}=this.props,{widgets:b,formContext:p,globalUiOptions:g,schemaUtils:f}=l,{widget:_="files",title:v,...S}=ee(n,g),$=Ue(r,_,b),E=v??r.title??s,T=f.getDisplayLabel(r,n,g);return j.jsx($,{options:S,id:a.$id,name:s,multiple:!0,onChange:this.onSelectChange,onBlur:d,onFocus:m,schema:r,uiSchema:n,value:h,disabled:o,readonly:i,required:u,registry:l,formContext:p,autofocus:c,rawErrors:y,label:E,hideLabel:!T})}renderFixedArray(){const{schema:r,uiSchema:n={},formData:a=[],errorSchema:s,idPrefix:o,idSeparator:i="_",idSchema:c,name:u,title:d,disabled:m=!1,readonly:l=!1,autofocus:h=!1,required:y=!1,registry:b,onBlur:p,onFocus:g,rawErrors:f}=this.props,{keyedFormData:_}=this.state;let{formData:v=[]}=this.props;const S=r.title||d||u,$=ee(n),{schemaUtils:E,formContext:T}=b,F=(Fe(r.items)?r.items:[]).map((W,L)=>E.retrieveSchema(W,a[L])),x=Fe(r.additionalItems)?E.retrieveSchema(r.additionalItems,a):null;(!v||v.length<F.length)&&(v=v||[],v=v.concat(new Array(F.length-v.length)));const q=this.canAddItem(v)&&!!x,U={canAdd:q,className:"rjsf-field rjsf-field-array rjsf-field-array-fixed-items",disabled:m,idSchema:c,formData:a,items:_.map((W,L)=>{const{key:te,item:G}=W,re=G,D=L>=F.length,O=(D&&Fe(r.additionalItems)?E.retrieveSchema(r.additionalItems,re):F[L])||{},R=c.$id+i+L,N=E.toIdSchema(O,R,re,o,i),w=D?n.additionalItems||{}:Array.isArray(n.items)?n.items[L]:n.items||{},C=s?s[L]:void 0;return this.renderArrayFieldItem({key:te,index:L,name:u&&`${u}-${L}`,title:S?`${S}-${L+1}`:void 0,canAdd:q,canRemove:D,canMoveUp:L>=F.length+1,canMoveDown:D&&L<v.length-1,itemSchema:O,itemData:re,itemUiSchema:w,itemIdSchema:N,itemErrorSchema:C,autofocus:h&&L===0,onBlur:p,onFocus:g,rawErrors:f,totalItems:_.length})}),onAddClick:this.onAddClick,readonly:l,required:y,registry:b,schema:r,uiSchema:n,title:S,formContext:T,errorSchema:s,rawErrors:f},B=Q("ArrayFieldTemplate",b,$);return j.jsx(B,{...U})}renderArrayFieldItem(r){const{key:n,index:a,name:s,canAdd:o,canRemove:i=!0,canMoveUp:c,canMoveDown:u,itemSchema:d,itemData:m,itemUiSchema:l,itemIdSchema:h,itemErrorSchema:y,autofocus:b,onBlur:p,onFocus:g,rawErrors:f,totalItems:_,title:v}=r,{disabled:S,hideError:$,idPrefix:E,idSeparator:T,readonly:k,uiSchema:F,registry:x,formContext:q}=this.props,{fields:{ArraySchemaField:U,SchemaField:B},globalUiOptions:W}=x,L=U||B,{orderable:te=!0,removable:G=!0,copyable:re=!1}=ee(F,W),D={moveUp:te&&c,moveDown:te&&u,copy:re&&o,remove:G&&i,toolbar:!1};return D.toolbar=Object.keys(D).some(O=>D[O]),{children:j.jsx(L,{name:s,title:v,index:a,schema:d,uiSchema:l,formData:m,formContext:q,errorSchema:y,idPrefix:E,idSeparator:T,idSchema:h,required:this.isItemRequired(d),onChange:this.onChangeForIndex(a),onBlur:p,onFocus:g,registry:x,disabled:S,readonly:k,hideError:$,autofocus:b,rawErrors:f}),buttonsProps:{idSchema:h,disabled:S,readonly:k,canAdd:o,hasCopy:D.copy,hasMoveUp:D.moveUp,hasMoveDown:D.moveDown,hasRemove:D.remove,index:a,totalItems:_,onAddIndexClick:this.onAddIndexClick,onCopyIndexClick:this.onCopyIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,registry:x,schema:d,uiSchema:l},className:"rjsf-array-item",disabled:S,hasToolbar:D.toolbar,index:a,totalItems:_,key:n,readonly:k,registry:x,schema:d,uiSchema:l}}}function tc(e){const{schema:t,name:r,uiSchema:n,idSchema:a,formData:s,registry:o,required:i,disabled:c,readonly:u,hideError:d,autofocus:m,title:l,onChange:h,onFocus:y,onBlur:b,rawErrors:p}=e,{title:g}=t,{widgets:f,formContext:_,translateString:v,globalUiOptions:S}=o,{widget:$="checkbox",title:E,label:T=!0,enumNames:k,...F}=ee(n,S),x=Ue(t,$,f),q=v(oe.YesLabel),U=v(oe.NoLabel);let B;const W=E??g??l??r;if(Array.isArray(t.oneOf))B=jt({oneOf:t.oneOf.map(L=>{if(Fe(L))return{...L,title:L.title||(L.const===!0?q:U)}}).filter(L=>L)},n);else{const L=t.enum??[!0,!1];!k&&L.length===2&&L.every(te=>typeof te=="boolean")?B=[{value:L[0],label:L[0]?q:U},{value:L[1],label:L[1]?q:U}]:B=jt({enum:L},n)}return j.jsx(x,{options:{...F,enumOptions:B},schema:t,uiSchema:n,id:a.$id,name:r,onChange:h,onFocus:y,onBlur:b,label:W,hideLabel:!T,value:s,required:i,disabled:c,readonly:u,hideError:d,registry:o,formContext:_,autofocus:m,rawErrors:p})}var Ae;(function(e){e.ROW="ui:row",e.COLUMN="ui:col",e.COLUMNS="ui:columns",e.CONDITION="ui:condition"})(Ae||(Ae={}));var Et;(function(e){e.ALL="all",e.SOME="some",e.NONE="none"})(Et||(Et={}));const rc=/^\$lookup=(.+)/,Yr="layoutGrid";function es(e,t){return e??t}const me=class me extends Y.PureComponent{constructor(r){super(r);le(this,"onFieldChange",r=>(n,a,s)=>{const{onChange:o,errorSchema:i,formData:c}=this.props,u=jr(c||{});let d=i;a&&i&&(d=jr(i),fe(d,r,a)),fe(u,r,n),o(u,d,s)})}static computeFieldUiSchema(r,n,a,s,o){const i=z(a,[mn],{}),c=z(a,r),u={...z(c,[st],{}),...n,...i},d={...c};Me(u)||fe(d,[st],u),Me(i)||fe(d,[mn],i);let{readonly:m}=ee(d);return(o===!0||Hn(m)&&s===!0)&&(m=!0,de(u,Wr)?fe(d,[st,Wr],!0):fe(d,`ui:${Wr}`,!0)),{fieldUiSchema:d,uiReadonly:m}}static conditionMatches(r,n,a="$0m3tH1nG Un3xP3cT3d"){const s=zn([n]).sort(),o=zn([a]).sort();switch(r){case Et.ALL:return Aa(s,o);case Et.SOME:return Gn(s,o).length>0;case Et.NONE:return Gn(s,o).length===0;default:return!1}}static findChildrenAndProps(r,n,a){let s={},o=r[n];if(ft(o)){const{children:i,className:c,...u}=o;if(o=i,c){const m=c.split(" ").map(l=>Hr(a,l,l)).join(" ");s={...u,className:m}}else s=u}if(!Array.isArray(o))throw new TypeError(`Expected array for "${n}" in ${JSON.stringify(r)}`);return{children:o,gridProps:s}}static getIdSchema(r,n,a,s={},o){const i=z(n,Re);return r.toIdSchema(s,i,a,i,o)}static getSchemaDetailsForField(r,n,a,s,o,i){let c=a,u=o;const d=n.split("."),m=d.pop();let l=r.retrieveSchema(c,s),h=s,y=l.readOnly;d.forEach(g=>{if(de(l,pe))c=z(l,[pe,g],{}),u=z(u,g,{});else if(l&&(de(l,ye)||de(l,_e))){const f=de(l,ye)?ye:_e,_=r.findSelectedOptionInXxxOf(l,g,f,h),v=me.getIdSchema(r,u,s,_,i);c=z(_,[pe,g],{}),u=z(v,g,{})}else c={};h=z(h,g,{}),l=r.retrieveSchema(c,h),y=es(l.readOnly,y)});let b,p=!1;if(Me(l)&&(l=void 0),l&&m){if(l&&(de(l,ye)||de(l,_e))){const g=de(l,ye)?ye:_e;l=r.findSelectedOptionInXxxOf(l,m,g,h);const f=me.getIdSchema(r,u,s,l,i);u=tt(f,u)}if(p=l!==void 0&&Array.isArray(l.required)&&Qi(l.required,m),l=z(l,[pe,m]),l=l&&r.retrieveSchema(l),u=z(u,m,{}),y=es(l==null?void 0:l.readOnly,y),l&&(de(l,ye)||de(l,_e))){const g=de(l,ye)?ye:_e,f=Ot(l);b={options:l[g],hasDiscriminator:!!f}}}return{schema:l,isRequired:p,isReadonly:y,optionsInfo:b,idSchema:u}}static getCustomRenderComponent(r,n){let a=r;return _r(a)&&(a=Hr(n,a)),Li(a)?a:null}static computeUIComponentPropsFromGridSchema(r,n){let a,s=null,o={},i;if(_r(n)||Hn(n))a=n??"";else{const{name:c="",render:u,...d}=n;a=c,o=d,Me(o)||Ka(o,(m,l)=>{if(_r(m)){const h=rc.exec(m);if(Array.isArray(h)&&h.length>1){const y=h[1];o[l]=Hr(r,y,y)}}}),s=me.getCustomRenderComponent(u,r),!c&&s&&(i=j.jsx(s,{...d,"data-testid":me.TEST_IDS.uiComponent}))}return{name:a,UIComponent:s,uiProps:o,rendered:i}}renderCondition(r){const{formData:n,registry:a}=this.props,{children:s,gridProps:o}=me.findChildrenAndProps(r,Ae.CONDITION,a),{operator:i,field:c="",value:u}=o,d=z(n,c,null);return me.conditionMatches(i,d,u)?this.renderChildren(s):null}renderCol(r){const{registry:n,uiSchema:a}=this.props,{children:s,gridProps:o}=me.findChildrenAndProps(r,Ae.COLUMN,n),i=ee(a),c=Q("GridTemplate",n,i);return j.jsx(c,{column:!0,"data-testid":me.TEST_IDS.col,...o,children:this.renderChildren(s)})}renderColumns(r){const{registry:n,uiSchema:a}=this.props,{children:s,gridProps:o}=me.findChildrenAndProps(r,Ae.COLUMNS,n),i=ee(a),c=Q("GridTemplate",n,i);return s.map(u=>j.jsx(c,{column:!0,"data-testid":me.TEST_IDS.col,...o,children:this.renderChildren([u])},`column-${rt(u)}`))}renderRow(r){const{registry:n,uiSchema:a}=this.props,{children:s,gridProps:o}=me.findChildrenAndProps(r,Ae.ROW,n),i=ee(a),c=Q("GridTemplate",n,i);return j.jsx(c,{...o,"data-testid":me.TEST_IDS.row,children:this.renderChildren(s)})}renderChildren(r){const{registry:n,schema:a,formData:s}=this.props,{schemaUtils:o}=n,i=o.retrieveSchema(a,s);return r.map(c=>Y.createElement(me,{...this.props,key:`layoutGrid-${rt(c)}`,schema:i,layoutGridSchema:c}))}renderField(r){const{schema:n,uiSchema:a,errorSchema:s,idSchema:o,onBlur:i,onFocus:c,formData:u,readonly:d,registry:m,idSeparator:l,layoutGridSchema:h,...y}=this.props,{fields:b,schemaUtils:p}=m,{SchemaField:g,LayoutMultiSchemaField:f}=b,_=me.computeUIComponentPropsFromGridSchema(m,r);if(_.rendered)return _.rendered;const{name:v,UIComponent:S,uiProps:$}=_,{schema:E,isRequired:T,isReadonly:k,optionsInfo:F,idSchema:x}=me.getSchemaDetailsForField(p,v,n,u,o,l);if(E){const q=F!=null&&F.hasDiscriminator?f:g,{fieldUiSchema:U,uiReadonly:B}=me.computeFieldUiSchema(v,$,a,k,d);return j.jsx(q,{"data-testid":F!=null&&F.hasDiscriminator?me.TEST_IDS.layoutMultiSchemaField:me.TEST_IDS.field,...y,name:v,required:T,readonly:B,schema:E,uiSchema:U,errorSchema:z(s,v),idSchema:x,idSeparator:l,formData:z(u,v),onChange:this.onFieldChange(v),onBlur:i,onFocus:c,options:F==null?void 0:F.options,registry:m})}return S?j.jsx(S,{"data-testid":me.TEST_IDS.uiComponent,...y,name:v,required:T,formData:u,readOnly:!!k||d,errorSchema:s,uiSchema:a,schema:n,idSchema:o,idSeparator:l,onBlur:i,onFocus:c,registry:m,...$}):null}render(){const{uiSchema:r}=this.props;let{layoutGridSchema:n}=this.props;const a=ee(r);if(!n&&Yr in a&&Fe(a[Yr])&&(n=a[Yr]),Fe(n)){if(Ae.ROW in n)return this.renderRow(n);if(Ae.COLUMN in n)return this.renderCol(n);if(Ae.COLUMNS in n)return this.renderColumns(n);if(Ae.CONDITION in n)return this.renderCondition(n)}return this.renderField(n)}};le(me,"defaultProps",{layoutGridSchema:void 0}),le(me,"TEST_IDS",si());let gn=me;function nc(e){const{idSchema:t,title:r,schema:n,uiSchema:a,required:s,registry:o,name:i}=e,c=ee(a,o.globalUiOptions),{title:u}=c,{title:d}=n,m=u||r||d||i;if(!m)return null;const l=Q("TitleFieldTemplate",o,c);return j.jsx(l,{id:xr(t),title:m,required:s,schema:n,uiSchema:a,registry:o})}function Xr(e,t,r){const n="!@#!@$@#$!@$#";return e.map(({schema:s})=>s).find(s=>{const o=z(s,[pe,t]);return z(o,ja,z(o,Ea,n))===r})}function ts(e,t,r,n,a){const s=t.map(c=>r.retrieveSchema(c,a));let o=e;de(e,ye)?o={...e,[ye]:s}:de(e,_e)&&(o={...e,[_e]:s});const i=jt(o,n);if(!i)throw new Error(`No enumOptions were computed from the schema ${JSON.stringify(o)}`);return i}function sc(e){var V;const{name:t,baseType:r,disabled:n=!1,formData:a,idSchema:s,onBlur:o,onChange:i,options:c,onFocus:u,registry:d,uiSchema:m,schema:l,formContext:h,autofocus:y,readonly:b,required:p,errorSchema:g,hideError:f=!1}=e,{widgets:_,schemaUtils:v,globalUiOptions:S}=d,[$,E]=Y.useState(ts(l,c,v,m,a)),T=z(s,Re),k=Ot(l),F=Q("FieldErrorTemplate",d,c),x=Q("FieldTemplate",d,c),q=rt(l),U=rt(c),B=m?rt(m):"",W=a?rt(a):"";Y.useEffect(()=>{E(ts(l,c,v,m,a))},[q,U,v,B,W]);const{widget:L=k?"radio":"select",title:te="",placeholder:G="",optionsSchemaSelector:re=k,hideError:D,...O}=ee(m);if(!re)throw new Error("No selector field provided for the LayoutMultiSchemaField");const R=z(a,re);let N=z((V=$[0])==null?void 0:V.schema,[pe,re],{});const w=Xr($,re,R);N=N!=null&&N.type?N:{...N,type:(w==null?void 0:w.type)||r};const C=Ue(N,L,_),A=D===void 0?f:!!D,K=z(g,[Ee],[]),J=Cr(g,[Ee]),ie=v.getDisplayLabel(l,m,S),ae=H=>{const Z=Xr($,re,H),ge=Xr($,re,R);let ve=v.sanitizeDataForNewSchema(Z,ge,a);ve&&Z&&(ve=v.getDefaultFormState(Z,ve,"excludeObjectChildren")),ve&&fe(ve,re,H),i(ve,void 0,T)},P={enumOptions:$,...O},I=!A&&K.length>0?j.jsx(F,{idSchema:s,schema:l,errors:K,registry:d}):void 0,M=H=>eo;return j.jsx(x,{id:T,schema:l,label:(te||l.title)??"",disabled:n||Array.isArray($)&&Me($),uiSchema:m,formContext:h,required:p,readonly:!!b,registry:d,displayLabel:ie,errors:I,onChange:i,onDropPropertyClick:M,onKeyChange:M,children:j.jsx(C,{id:T,name:t,schema:l,label:(te||l.title)??"",disabled:n||Array.isArray($)&&Me($),uiSchema:m,formContext:h,autofocus:y,readonly:b,required:p,registry:d,multiple:!1,rawErrors:K,hideError:A,hideLabel:!ie,errorSchema:J,placeholder:G,onChange:ae,onBlur:o,onFocus:u,value:R,options:P})})}class rs extends Y.Component{constructor(r){super(r);le(this,"onOptionChange",r=>{const{selectedOption:n,retrievedOptions:a}=this.state,{formData:s,onChange:o,registry:i}=this.props,{schemaUtils:c}=i,u=r!==void 0?parseInt(r,10):-1;if(u===n)return;const d=u>=0?a[u]:void 0,m=n>=0?a[n]:void 0;let l=c.sanitizeDataForNewSchema(d,m,s);d&&(l=c.getDefaultFormState(d,l,"excludeObjectChildren")),this.setState({selectedOption:u},()=>{o(l,void 0,this.getFieldId())})});const{formData:n,options:a,registry:{schemaUtils:s}}=this.props,o=a.map(i=>s.retrieveSchema(i,n));this.state={retrievedOptions:o,selectedOption:this.getMatchingOption(0,n,o)}}componentDidUpdate(r,n){const{formData:a,options:s,idSchema:o}=this.props,{selectedOption:i}=this.state;let c=this.state;if(!he(r.options,s)){const{registry:{schemaUtils:u}}=this.props,d=s.map(m=>u.retrieveSchema(m,a));c={selectedOption:i,retrievedOptions:d}}if(!he(a,r.formData)&&o.$id===r.idSchema.$id){const{retrievedOptions:u}=c,d=this.getMatchingOption(i,a,u);n&&d!==i&&(c={selectedOption:d,retrievedOptions:u})}c!==this.state&&this.setState(c)}getMatchingOption(r,n,a){const{schema:s,registry:{schemaUtils:o}}=this.props,i=Ot(s);return o.getClosestMatchingOption(n,a,r,i)}getFieldId(){const{idSchema:r,schema:n}=this.props;return`${r.$id}${n.oneOf?"__oneof_select":"__anyof_select"}`}render(){const{name:r,disabled:n=!1,errorSchema:a={},formContext:s,onBlur:o,onFocus:i,readonly:c,registry:u,schema:d,uiSchema:m}=this.props,{widgets:l,fields:h,translateString:y,globalUiOptions:b,schemaUtils:p}=u,{SchemaField:g}=h,{selectedOption:f,retrievedOptions:_}=this.state,{widget:v="select",placeholder:S,autofocus:$,autocomplete:E,title:T=d.title,...k}=ee(m,b),F=Ue({type:"number"},v,l),x=z(a,Ee,[]),q=Cr(a,[Ee]),U=p.getDisplayLabel(d,m,b),B=f>=0&&_[f]||null;let W;if(B){const{required:O}=d;W=O?Ui({required:O},B):B}let L=[];ye in d&&m&&ye in m?Array.isArray(m[ye])?L=m[ye]:console.warn(`uiSchema.oneOf is not an array for "${T||r}"`):_e in d&&m&&_e in m&&(Array.isArray(m[_e])?L=m[_e]:console.warn(`uiSchema.anyOf is not an array for "${T||r}"`));let te=m;f>=0&&L.length>f&&(te=L[f]);const G=T?oe.TitleOptionPrefix:oe.OptionPrefix,re=T?[T]:[],D=_.map((O,R)=>{const{title:N=O.title}=ee(L[R]);return{label:N||y(G,re.concat(String(R+1))),value:R}});return j.jsxs("div",{className:"panel panel-default panel-body",children:[j.jsx("div",{className:"form-group",children:j.jsx(F,{id:this.getFieldId(),name:`${r}${d.oneOf?"__oneof_select":"__anyof_select"}`,schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:o,onFocus:i,disabled:n||Me(D),multiple:!1,rawErrors:x,errorSchema:q,value:f>=0?f:void 0,options:{enumOptions:D,...k},registry:u,formContext:s,placeholder:S,autocomplete:E,autofocus:$,label:T??r,hideLabel:!U,readonly:c})}),W&&W.type!=="null"&&j.jsx(g,{...this.props,schema:W,uiSchema:te})]})}}const ac=/\.([0-9]*0)*$/,ic=/[0.]0*$/;function oc(e){const{registry:t,onChange:r,formData:n,value:a}=e,[s,o]=Y.useState(a),{StringField:i}=t.fields;let c=n;const u=Y.useCallback((d,m,l)=>{o(d),`${d}`.charAt(0)==="."&&(d=`0${d}`);const h=typeof d=="string"&&d.match(ac)?Jn(d.replace(ic,"")):Jn(d);r(h,m,l)},[r]);if(typeof s=="string"&&typeof c=="number"){const d=new RegExp(`^(${String(c).replace(".","\\.")})?\\.?0*$`);s.match(d)&&(c=s)}return j.jsx(i,{...e,formData:c,onChange:u})}function et(){return et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},et.apply(this,arguments)}const cc=["children","options"],X={blockQuote:"0",breakLine:"1",breakThematic:"2",codeBlock:"3",codeFenced:"4",codeInline:"5",footnote:"6",footnoteReference:"7",gfmTask:"8",heading:"9",headingSetext:"10",htmlBlock:"11",htmlComment:"12",htmlSelfClosing:"13",image:"14",link:"15",linkAngleBraceStyleDetector:"16",linkBareUrlDetector:"17",linkMailtoDetector:"18",newlineCoalescer:"19",orderedList:"20",paragraph:"21",ref:"22",refImage:"23",refLink:"24",table:"25",text:"27",textBolded:"28",textEmphasized:"29",textEscaped:"30",textMarked:"31",textStrikethroughed:"32",unorderedList:"33"};var ns;(function(e){e[e.MAX=0]="MAX",e[e.HIGH=1]="HIGH",e[e.MED=2]="MED",e[e.LOW=3]="LOW",e[e.MIN=4]="MIN"})(ns||(ns={}));const ss=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((e,t)=>(e[t.toLowerCase()]=t,e),{class:"className",for:"htmlFor"}),as={amp:"&",apos:"'",gt:">",lt:"<",nbsp:" ",quot:"“"},lc=["style","script"],dc=["src","href","data","formAction","srcDoc","action"],uc=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,fc=/mailto:/i,mc=/\n{2,}$/,ai=/^(\s*>[\s\S]*?)(?=\n\n|$)/,hc=/^ *> ?/gm,pc=/^(?:\[!([^\]]*)\]\n)?([\s\S]*)/,yc=/^ {2,}\n/,gc=/^(?:( *[-*_])){3,} *(?:\n *)+\n/,ii=/^(?: {1,3})?(`{3,}|~{3,}) *(\S+)? *([^\n]*?)?\n([\s\S]*?)(?:\1\n?|$)/,oi=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,vc=/^(`+)((?:\\`|(?!\1)`|[^`])+)\1/,_c=/^(?:\n *)*\n/,$c=/\r\n?/g,bc=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,Sc=/^\[\^([^\]]+)]/,wc=/\f/g,Ec=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,jc=/^\s*?\[(x|\s)\]/,ci=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,li=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,di=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,vn=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,Cc=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,ui=/^<!--[\s\S]*?(?:-->)/,Tc=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,_n=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,Oc=/^\{.*\}$/,kc=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,Pc=/^<([^ >]+@[^ >]+)>/,Fc=/^<([^ >]+:\/[^ >]+)>/,Nc=/-([a-z])?/gi,fi=/^(\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,Ic=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,xc=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,Ac=/^\[([^\]]*)\] ?\[([^\]]*)\]/,Dc=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,Rc=/\t/g,Mc=/(^ *\||\| *$)/g,qc=/^ *:-+: *$/,Uc=/^ *:-+ *$/,Vc=/^ *-+: *$/,Dr="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|\\\\\\1|[\\s\\S])+?)",Bc=new RegExp(`^([*_])\\1${Dr}\\1\\1(?!\\1)`),Lc=new RegExp(`^([*_])${Dr}\\1(?!\\1)`),zc=new RegExp(`^(==)${Dr}\\1`),Kc=new RegExp(`^(~~)${Dr}\\1`),Wc=/^\\([^0-9A-Za-z\s])/,is=/\\([^0-9A-Za-z\s])/g,Gc=/^([\s\S](?:(?!  |[0-9]\.)[^=*_~\-\n<`\\\[!])*)/,Hc=/^\n+/,Jc=/^([ \t]*)/,Yc=/\\([^\\])/g,Xc=/(?:^|\n)( *)$/,Pn="(?:\\d+\\.)",Fn="(?:[*+-])";function mi(e){return"( *)("+(e===1?Pn:Fn)+") +"}const hi=mi(1),pi=mi(2);function yi(e){return new RegExp("^"+(e===1?hi:pi))}const Qc=yi(1),Zc=yi(2);function gi(e){return new RegExp("^"+(e===1?hi:pi)+"[^\\n]*(?:\\n(?!\\1"+(e===1?Pn:Fn)+" )[^\\n]*)*(\\n|$)","gm")}const el=gi(1),tl=gi(2);function vi(e){const t=e===1?Pn:Fn;return new RegExp("^( *)("+t+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+t+" (?!"+t+" ))\\n*|\\s*\\n*$)")}const _i=vi(1),$i=vi(2);function os(e,t){const r=t===1,n=r?_i:$i,a=r?el:tl,s=r?Qc:Zc;return{match:mt(function(o,i){const c=Xc.exec(i.prevCapture);return c&&(i.list||!i.inline&&!i.simple)?n.exec(o=c[1]+o):null}),order:1,parse(o,i,c){const u=r?+o[2]:void 0,d=o[0].replace(mc,`
`).match(a);let m=!1;return{items:d.map(function(l,h){const y=s.exec(l)[0].length,b=new RegExp("^ {1,"+y+"}","gm"),p=l.replace(b,"").replace(s,""),g=h===d.length-1,f=p.indexOf(`

`)!==-1||g&&m;m=f;const _=c.inline,v=c.list;let S;c.list=!0,f?(c.inline=!1,S=Tt(p)+`

`):(c.inline=!0,S=Tt(p));const $=i(S,c);return c.inline=_,c.list=v,$}),ordered:r,start:u}},render:(o,i,c)=>e(o.ordered?"ol":"ul",{key:c.key,start:o.type===X.orderedList?o.start:void 0},o.items.map(function(u,d){return e("li",{key:d},i(u,c))}))}}const rl=new RegExp(`^\\[((?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['"]([\\s\\S]*?)['"])?\\s*\\)`),nl=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,bi=[ai,ii,oi,ci,di,li,fi,_i,$i],sl=[...bi,/^[^\n]+(?:  \n|\n{2,})/,vn,ui,_n];function Tt(e){let t=e.length;for(;t>0&&e[t-1]<=" ";)t--;return e.slice(0,t)}function vt(e){return e.replace(/[ÀÁÂÃÄÅàáâãäåæÆ]/g,"a").replace(/[çÇ]/g,"c").replace(/[ðÐ]/g,"d").replace(/[ÈÉÊËéèêë]/g,"e").replace(/[ÏïÎîÍíÌì]/g,"i").replace(/[Ññ]/g,"n").replace(/[øØœŒÕõÔôÓóÒò]/g,"o").replace(/[ÜüÛûÚúÙù]/g,"u").replace(/[ŸÿÝý]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function al(e){return Vc.test(e)?"right":qc.test(e)?"center":Uc.test(e)?"left":null}function cs(e,t,r,n){const a=r.inTable;r.inTable=!0;let s=[[]],o="";function i(){if(!o)return;const c=s[s.length-1];c.push.apply(c,t(o,r)),o=""}return e.trim().split(/(`[^`]*`|\\\||\|)/).filter(Boolean).forEach((c,u,d)=>{c.trim()==="|"&&(i(),n)?u!==0&&u!==d.length-1&&s.push([]):o+=c}),i(),r.inTable=a,s}function il(e,t,r){r.inline=!0;const n=e[2]?e[2].replace(Mc,"").split("|").map(al):[],a=e[3]?function(o,i,c){return o.trim().split(`
`).map(function(u){return cs(u,i,c,!0)})}(e[3],t,r):[],s=cs(e[1],t,r,!!a.length);return r.inline=!1,a.length?{align:n,cells:a,header:s,type:X.table}:{children:s,type:X.paragraph}}function ls(e,t){return e.align[t]==null?{}:{textAlign:e.align[t]}}function mt(e){return e.inline=1,e}function Ke(e){return mt(function(t,r){return r.inline?e.exec(t):null})}function We(e){return mt(function(t,r){return r.inline||r.simple?e.exec(t):null})}function Ve(e){return function(t,r){return r.inline||r.simple?null:e.exec(t)}}function _t(e){return mt(function(t){return e.exec(t)})}function ol(e,t){if(t.inline||t.simple)return null;let r="";e.split(`
`).every(a=>(a+=`
`,!bi.some(s=>s.test(a))&&(r+=a,!!a.trim())));const n=Tt(r);return n==""?null:[r,,n]}const cl=/(javascript|vbscript|data(?!:image)):/i;function ll(e){try{const t=decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"");if(cl.test(t))return null}catch{return null}return e}function ds(e){return e.replace(Yc,"$1")}function wr(e,t,r){const n=r.inline||!1,a=r.simple||!1;r.inline=!0,r.simple=!0;const s=e(t,r);return r.inline=n,r.simple=a,s}function dl(e,t,r){const n=r.inline||!1,a=r.simple||!1;r.inline=!1,r.simple=!0;const s=e(t,r);return r.inline=n,r.simple=a,s}function ul(e,t,r){const n=r.inline||!1;r.inline=!1;const a=e(t,r);return r.inline=n,a}const Qr=(e,t,r)=>({children:wr(t,e[2],r)});function Zr(){return{}}function en(){return null}function fl(...e){return e.filter(Boolean).join(" ")}function tn(e,t,r){let n=e;const a=t.split(".");for(;a.length&&(n=n[a[0]],n!==void 0);)a.shift();return n||r}function ml(e="",t={}){function r(l,h,...y){const b=tn(t.overrides,`${l}.props`,{});return t.createElement(function(p,g){const f=tn(g,p);return f?typeof f=="function"||typeof f=="object"&&"render"in f?f:tn(g,`${p}.component`,p):p}(l,t.overrides),et({},h,b,{className:fl(h==null?void 0:h.className,b.className)||void 0}),...y)}function n(l){l=l.replace(Ec,"");let h=!1;t.forceInline?h=!0:t.forceBlock||(h=Dc.test(l)===!1);const y=u(c(h?l:`${Tt(l).replace(Hc,"")}

`,{inline:h}));for(;typeof y[y.length-1]=="string"&&!y[y.length-1].trim();)y.pop();if(t.wrapper===null)return y;const b=t.wrapper||(h?"span":"div");let p;if(y.length>1||t.forceWrapper)p=y;else{if(y.length===1)return p=y[0],typeof p=="string"?r("span",{key:"outer"},p):p;p=null}return t.createElement(b,{key:"outer"},p)}function a(l,h){const y=h.match(uc);return y?y.reduce(function(b,p){const g=p.indexOf("=");if(g!==-1){const f=function($){return $.indexOf("-")!==-1&&$.match(Tc)===null&&($=$.replace(Nc,function(E,T){return T.toUpperCase()})),$}(p.slice(0,g)).trim(),_=function($){const E=$[0];return(E==='"'||E==="'")&&$.length>=2&&$[$.length-1]===E?$.slice(1,-1):$}(p.slice(g+1).trim()),v=ss[f]||f;if(v==="ref")return b;const S=b[v]=function($,E,T,k){return E==="style"?function(F){const x=[];let q="",U=!1,B=!1,W="";if(!F)return x;for(let te=0;te<F.length;te++){const G=F[te];if(G!=='"'&&G!=="'"||U||(B?G===W&&(B=!1,W=""):(B=!0,W=G)),G==="("&&q.endsWith("url")?U=!0:G===")"&&U&&(U=!1),G!==";"||B||U)q+=G;else{const re=q.trim();if(re){const D=re.indexOf(":");if(D>0){const O=re.slice(0,D).trim(),R=re.slice(D+1).trim();x.push([O,R])}}q=""}}const L=q.trim();if(L){const te=L.indexOf(":");if(te>0){const G=L.slice(0,te).trim(),re=L.slice(te+1).trim();x.push([G,re])}}return x}(T).reduce(function(F,[x,q]){return F[x.replace(/(-[a-z])/g,U=>U[1].toUpperCase())]=k(q,$,x),F},{}):dc.indexOf(E)!==-1?k(T,$,E):(T.match(Oc)&&(T=T.slice(1,T.length-1)),T==="true"||T!=="false"&&T)}(l,f,_,t.sanitizer);typeof S=="string"&&(vn.test(S)||_n.test(S))&&(b[v]=n(S.trim()))}else p!=="style"&&(b[ss[p]||p]=!0);return b},{}):null}t.overrides=t.overrides||{},t.sanitizer=t.sanitizer||ll,t.slugify=t.slugify||vt,t.namedCodesToUnicode=t.namedCodesToUnicode?et({},as,t.namedCodesToUnicode):as,t.createElement=t.createElement||Y.createElement;const s=[],o={},i={[X.blockQuote]:{match:Ve(ai),order:1,parse(l,h,y){const[,b,p]=l[0].replace(hc,"").match(pc);return{alert:b,children:h(p,y)}},render(l,h,y){const b={key:y.key};return l.alert&&(b.className="markdown-alert-"+t.slugify(l.alert.toLowerCase(),vt),l.children.unshift({attrs:{},children:[{type:X.text,text:l.alert}],noInnerParse:!0,type:X.htmlBlock,tag:"header"})),r("blockquote",b,h(l.children,y))}},[X.breakLine]:{match:_t(yc),order:1,parse:Zr,render:(l,h,y)=>r("br",{key:y.key})},[X.breakThematic]:{match:Ve(gc),order:1,parse:Zr,render:(l,h,y)=>r("hr",{key:y.key})},[X.codeBlock]:{match:Ve(oi),order:0,parse:l=>({lang:void 0,text:Tt(l[0].replace(/^ {4}/gm,"")).replace(is,"$1")}),render:(l,h,y)=>r("pre",{key:y.key},r("code",et({},l.attrs,{className:l.lang?`lang-${l.lang}`:""}),l.text))},[X.codeFenced]:{match:Ve(ii),order:0,parse:l=>({attrs:a("code",l[3]||""),lang:l[2]||void 0,text:l[4],type:X.codeBlock})},[X.codeInline]:{match:We(vc),order:3,parse:l=>({text:l[2].replace(is,"$1")}),render:(l,h,y)=>r("code",{key:y.key},l.text)},[X.footnote]:{match:Ve(bc),order:0,parse:l=>(s.push({footnote:l[2],identifier:l[1]}),{}),render:en},[X.footnoteReference]:{match:Ke(Sc),order:1,parse:l=>({target:`#${t.slugify(l[1],vt)}`,text:l[1]}),render:(l,h,y)=>r("a",{key:y.key,href:t.sanitizer(l.target,"a","href")},r("sup",{key:y.key},l.text))},[X.gfmTask]:{match:Ke(jc),order:1,parse:l=>({completed:l[1].toLowerCase()==="x"}),render:(l,h,y)=>r("input",{checked:l.completed,key:y.key,readOnly:!0,type:"checkbox"})},[X.heading]:{match:Ve(t.enforceAtxHeadings?li:ci),order:1,parse:(l,h,y)=>({children:wr(h,l[2],y),id:t.slugify(l[2],vt),level:l[1].length}),render:(l,h,y)=>r(`h${l.level}`,{id:l.id,key:y.key},h(l.children,y))},[X.headingSetext]:{match:Ve(di),order:0,parse:(l,h,y)=>({children:wr(h,l[1],y),level:l[2]==="="?1:2,type:X.heading})},[X.htmlBlock]:{match:_t(vn),order:1,parse(l,h,y){const[,b]=l[3].match(Jc),p=new RegExp(`^${b}`,"gm"),g=l[3].replace(p,""),f=(_=g,sl.some(T=>T.test(_))?ul:wr);var _;const v=l[1].toLowerCase(),S=lc.indexOf(v)!==-1,$=(S?v:l[1]).trim(),E={attrs:a($,l[2]),noInnerParse:S,tag:$};return y.inAnchor=y.inAnchor||v==="a",S?E.text=l[3]:E.children=f(h,g,y),y.inAnchor=!1,E},render:(l,h,y)=>r(l.tag,et({key:y.key},l.attrs),l.text||(l.children?h(l.children,y):""))},[X.htmlSelfClosing]:{match:_t(_n),order:1,parse(l){const h=l[1].trim();return{attrs:a(h,l[2]||""),tag:h}},render:(l,h,y)=>r(l.tag,et({},l.attrs,{key:y.key}))},[X.htmlComment]:{match:_t(ui),order:1,parse:()=>({}),render:en},[X.image]:{match:We(nl),order:1,parse:l=>({alt:l[1],target:ds(l[2]),title:l[3]}),render:(l,h,y)=>r("img",{key:y.key,alt:l.alt||void 0,title:l.title||void 0,src:t.sanitizer(l.target,"img","src")})},[X.link]:{match:Ke(rl),order:3,parse:(l,h,y)=>({children:dl(h,l[1],y),target:ds(l[2]),title:l[3]}),render:(l,h,y)=>r("a",{key:y.key,href:t.sanitizer(l.target,"a","href"),title:l.title},h(l.children,y))},[X.linkAngleBraceStyleDetector]:{match:Ke(Fc),order:0,parse:l=>({children:[{text:l[1],type:X.text}],target:l[1],type:X.link})},[X.linkBareUrlDetector]:{match:mt((l,h)=>h.inAnchor||t.disableAutoLink?null:Ke(kc)(l,h)),order:0,parse:l=>({children:[{text:l[1],type:X.text}],target:l[1],title:void 0,type:X.link})},[X.linkMailtoDetector]:{match:Ke(Pc),order:0,parse(l){let h=l[1],y=l[1];return fc.test(y)||(y="mailto:"+y),{children:[{text:h.replace("mailto:",""),type:X.text}],target:y,type:X.link}}},[X.orderedList]:os(r,1),[X.unorderedList]:os(r,2),[X.newlineCoalescer]:{match:Ve(_c),order:3,parse:Zr,render:()=>`
`},[X.paragraph]:{match:mt(ol),order:3,parse:Qr,render:(l,h,y)=>r("p",{key:y.key},h(l.children,y))},[X.ref]:{match:Ke(Ic),order:0,parse:l=>(o[l[1]]={target:l[2],title:l[4]},{}),render:en},[X.refImage]:{match:We(xc),order:0,parse:l=>({alt:l[1]||void 0,ref:l[2]}),render:(l,h,y)=>o[l.ref]?r("img",{key:y.key,alt:l.alt,src:t.sanitizer(o[l.ref].target,"img","src"),title:o[l.ref].title}):null},[X.refLink]:{match:Ke(Ac),order:0,parse:(l,h,y)=>({children:h(l[1],y),fallbackChildren:l[0],ref:l[2]}),render:(l,h,y)=>o[l.ref]?r("a",{key:y.key,href:t.sanitizer(o[l.ref].target,"a","href"),title:o[l.ref].title},h(l.children,y)):r("span",{key:y.key},l.fallbackChildren)},[X.table]:{match:Ve(fi),order:1,parse:il,render(l,h,y){const b=l;return r("table",{key:y.key},r("thead",null,r("tr",null,b.header.map(function(p,g){return r("th",{key:g,style:ls(b,g)},h(p,y))}))),r("tbody",null,b.cells.map(function(p,g){return r("tr",{key:g},p.map(function(f,_){return r("td",{key:_,style:ls(b,_)},h(f,y))}))})))}},[X.text]:{match:_t(Gc),order:4,parse:l=>({text:l[0].replace(Cc,(h,y)=>t.namedCodesToUnicode[y]?t.namedCodesToUnicode[y]:h)}),render:l=>l.text},[X.textBolded]:{match:We(Bc),order:2,parse:(l,h,y)=>({children:h(l[2],y)}),render:(l,h,y)=>r("strong",{key:y.key},h(l.children,y))},[X.textEmphasized]:{match:We(Lc),order:3,parse:(l,h,y)=>({children:h(l[2],y)}),render:(l,h,y)=>r("em",{key:y.key},h(l.children,y))},[X.textEscaped]:{match:We(Wc),order:1,parse:l=>({text:l[1],type:X.text})},[X.textMarked]:{match:We(zc),order:3,parse:Qr,render:(l,h,y)=>r("mark",{key:y.key},h(l.children,y))},[X.textStrikethroughed]:{match:We(Kc),order:3,parse:Qr,render:(l,h,y)=>r("del",{key:y.key},h(l.children,y))}};t.disableParsingRawHTML===!0&&(delete i[X.htmlBlock],delete i[X.htmlSelfClosing]);const c=function(l){let h=Object.keys(l);function y(b,p){let g,f,_=[],v="",S="";for(p.prevCapture=p.prevCapture||"";b;){let $=0;for(;$<h.length;){if(v=h[$],g=l[v],p.inline&&!g.match.inline){$++;continue}const E=g.match(b,p);if(E){S=E[0],p.prevCapture+=S,b=b.substring(S.length),f=g.parse(E,y,p),f.type==null&&(f.type=v),_.push(f);break}$++}}return p.prevCapture="",_}return h.sort(function(b,p){let g=l[b].order,f=l[p].order;return g!==f?g-f:b<p?-1:1}),function(b,p){return y(function(g){return g.replace($c,`
`).replace(wc,"").replace(Rc,"    ")}(b),p)}}(i),u=(d=function(l,h){return function(y,b,p){const g=l[y.type].render;return h?h(()=>g(y,b,p),y,b,p):g(y,b,p)}}(i,t.renderRule),function l(h,y={}){if(Array.isArray(h)){const b=y.key,p=[];let g=!1;for(let f=0;f<h.length;f++){y.key=f;const _=l(h[f],y),v=typeof _=="string";v&&g?p[p.length-1]+=_:_!==null&&p.push(_),g=v}return y.key=b,p}return d(h,l,y)});var d;const m=n(e);return s.length?r("div",null,m,r("footer",{key:"footer"},s.map(function(l){return r("div",{id:t.slugify(l.identifier,vt),key:l.identifier},l.identifier,u(c(l.footnote,{inline:!0})))}))):m}const Rr=e=>{let{children:t="",options:r}=e,n=function(a,s){if(a==null)return{};var o,i,c={},u=Object.keys(a);for(i=0;i<u.length;i++)s.indexOf(o=u[i])>=0||(c[o]=a[o]);return c}(e,cc);return Y.cloneElement(ml(t,r),n)};class hl extends Y.Component{constructor(){super(...arguments);le(this,"state",{wasPropertyKeyModified:!1,additionalProperties:{}});le(this,"onPropertyChange",(r,n=!1)=>(a,s,o)=>{const{formData:i,onChange:c,errorSchema:u}=this.props;a===void 0&&n&&(a="");const d={...i,[r]:a};c(d,u&&u&&{...u,[r]:s},o)});le(this,"onDropPropertyClick",r=>n=>{n.preventDefault();const{onChange:a,formData:s}=this.props,o={...s};wo(o,r),a(o)});le(this,"getAvailableKey",(r,n)=>{const{uiSchema:a,registry:s}=this.props,{duplicateKeySuffixSeparator:o="-"}=ee(a,s.globalUiOptions);let i=0,c=r;for(;de(n,c);)c=`${r}${o}${++i}`;return c});le(this,"onKeyChange",r=>(n,a)=>{if(r===n)return;const{formData:s,onChange:o,errorSchema:i}=this.props;n=this.getAvailableKey(n,s);const c={...s},u={[r]:n},d=Object.keys(c).map(l=>({[u[l]||l]:c[l]})),m=Object.assign({},...d);this.setState({wasPropertyKeyModified:!0}),o(m,i&&i&&{...i,[n]:a})});le(this,"handleAddClick",r=>()=>{if(!(r.additionalProperties||r.patternProperties))return;const{formData:n,onChange:a,registry:s}=this.props,o={...n},i=this.getAvailableKey("newKey",o);if(r.patternProperties)fe(o,i,null);else{let c,u,d;if(Fe(r.additionalProperties)){c=r.additionalProperties.type,u=r.additionalProperties.const,d=r.additionalProperties.default;let l=r.additionalProperties;if(Ie in l){const{schemaUtils:h}=s;l=h.retrieveSchema({$ref:l[Ie]},n),c=l.type,u=l.const,d=l.default}!c&&(_e in l||ye in l)&&(c="object")}const m=u??d??this.getDefaultValue(c);fe(o,i,m)}a(o)})}isRequired(r){const{schema:n}=this.props;return Array.isArray(n.required)&&n.required.indexOf(r)!==-1}getDefaultValue(r){const{registry:{translateString:n}}=this.props;switch(r){case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};case"string":default:return n(oe.NewStringDefault)}}render(){const{schema:r,uiSchema:n={},formData:a,errorSchema:s,idSchema:o,name:i,required:c=!1,disabled:u,readonly:d,hideError:m,idPrefix:l,idSeparator:h,onBlur:y,onFocus:b,registry:p,title:g}=this.props,{fields:f,formContext:_,schemaUtils:v,translateString:S,globalUiOptions:$}=p,{SchemaField:E}=f,T=v.retrieveSchema(r,a),k=ee(n,$),{properties:F={}}=T,x=k.title??T.title??g??i,q=k.description??T.description;let U;try{const L=Object.keys(F);U=Go(L,k.order)}catch(L){return j.jsxs("div",{children:[j.jsx("p",{className:"rjsf-config-error",style:{color:"red"},children:j.jsx(Rr,{options:{disableParsingRawHTML:!0},children:S(oe.InvalidObjectField,[i||"root",L.message])})}),j.jsx("pre",{children:JSON.stringify(T)})]})}const B=Q("ObjectFieldTemplate",p,k),W={title:k.label===!1?"":x,description:k.label===!1?void 0:q,properties:U.map(L=>{const te=de(T,[pe,L,Pt]),G=te?n.additionalProperties:n[L],re=ee(G).widget==="hidden",D=z(o,[L],{});return{content:j.jsx(E,{name:L,required:this.isRequired(L),schema:z(T,[pe,L],{}),uiSchema:G,errorSchema:z(s,L),idSchema:D,idPrefix:l,idSeparator:h,formData:z(a,L),formContext:_,wasPropertyKeyModified:this.state.wasPropertyKeyModified,onKeyChange:this.onKeyChange(L),onChange:this.onPropertyChange(L,te),onBlur:y,onFocus:b,registry:p,disabled:u,readonly:d,hideError:m,onDropPropertyClick:this.onDropPropertyClick},L),name:L,readonly:d,disabled:u,required:c,hidden:re}}),readonly:d,disabled:u,required:c,idSchema:o,uiSchema:n,errorSchema:s,schema:T,formData:a,formContext:_,registry:p};return j.jsx(B,{...W,onAddClick:this.handleAddClick})}}const pl={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function yl(e,t,r,n){const a=t.field,{fields:s,translateString:o}=n;if(typeof a=="function")return a;if(typeof a=="string"&&a in s)return s[a];const i=kt(e),c=Array.isArray(i)?i[0]:i||"",u=e.$id;let d=pl[c];return u&&u in s&&(d=u),!d&&(e.anyOf||e.oneOf)?()=>null:d in s?s[d]:()=>{const m=Q("UnsupportedFieldTemplate",n,t);return j.jsx(m,{schema:e,idSchema:r,reason:o(oe.UnknownFieldType,[String(e.type)]),registry:n})}}function gl(e){const{schema:t,idSchema:r,uiSchema:n,formData:a,errorSchema:s,idPrefix:o,idSeparator:i,name:c,onChange:u,onKeyChange:d,onDropPropertyClick:m,required:l,registry:h,wasPropertyKeyModified:y=!1}=e,{formContext:b,schemaUtils:p,globalUiOptions:g}=h,f=ee(n,g),_=Q("FieldTemplate",h,f),v=Q("DescriptionFieldTemplate",h,f),S=Q("FieldHelpTemplate",h,f),$=Q("FieldErrorTemplate",h,f),E=p.retrieveSchema(t,a),T=r[Re],k=tt(p.toIdSchema(E,T,a,o,i),r),F=Y.useCallback((V,H,Z)=>u(V,H,Z||T),[T,u]),x=yl(E,f,k,h),q=!!(f.disabled??e.disabled),U=!!(f.readonly??(e.readonly||e.schema.readOnly||E.readOnly)),B=f.hideError,W=B===void 0?e.hideError:!!B,L=!!(f.autofocus??e.autofocus);if(Object.keys(E).length===0)return null;const te=p.getDisplayLabel(E,n,g),{__errors:G,...re}=s||{},D=Cr(n,["ui:classNames","classNames","ui:style"]);st in D&&(D[st]=Cr(D[st],["classNames","style"]));const O=j.jsx(x,{...e,onChange:F,idSchema:k,schema:E,uiSchema:D,disabled:q,readonly:U,hideError:W,autofocus:L,errorSchema:re,formContext:b,rawErrors:G}),R=k[Re];let N;y?N=c:N=Pt in E?c:f.title||e.schema.title||E.title||e.title||c;const w=f.description||e.schema.description||E.description||"",C=f.help,A=f.widget==="hidden",K=["rjsf-field",`rjsf-field-${kt(E)}`];!W&&G&&G.length>0&&K.push("rjsf-field-error"),f.classNames&&K.push(f.classNames);const J=j.jsx(S,{help:C,idSchema:k,schema:E,uiSchema:n,hasErrors:!W&&G&&G.length>0,registry:h}),ie=W||(E.anyOf||E.oneOf)&&!p.isSelect(E)?void 0:j.jsx($,{errors:G,errorSchema:s,idSchema:k,schema:E,uiSchema:n,registry:h}),ae={description:j.jsx(v,{id:it(R),description:w,schema:E,uiSchema:n,registry:h}),rawDescription:w,help:J,rawHelp:typeof C=="string"?C:void 0,errors:ie,rawErrors:W?void 0:G,id:R,label:N,hidden:A,onChange:u,onKeyChange:d,onDropPropertyClick:m,required:l,disabled:q,readonly:U,hideError:W,displayLabel:te,classNames:K.join(" ").trim(),style:f.style,formContext:b,formData:a,schema:E,uiSchema:n,registry:h},P=h.fields.AnyOfField,I=h.fields.OneOfField,M=(n==null?void 0:n["ui:field"])&&(n==null?void 0:n["ui:fieldReplacesAnyOrOneOf"])===!0;return j.jsx(_,{...ae,children:j.jsxs(j.Fragment,{children:[O,E.anyOf&&!M&&!p.isSelect(E)&&j.jsx(P,{name:c,disabled:q,readonly:U,hideError:W,errorSchema:s,formData:a,formContext:b,idPrefix:o,idSchema:k,idSeparator:i,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:E.anyOf.map(V=>p.retrieveSchema(Fe(V)?V:{},a)),registry:h,required:l,schema:E,uiSchema:n}),E.oneOf&&!M&&!p.isSelect(E)&&j.jsx(I,{name:c,disabled:q,readonly:U,hideError:W,errorSchema:s,formData:a,formContext:b,idPrefix:o,idSchema:k,idSeparator:i,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:E.oneOf.map(V=>p.retrieveSchema(Fe(V)?V:{},a)),registry:h,required:l,schema:E,uiSchema:n})]})})}class vl extends Y.Component{shouldComponentUpdate(t){return!he(this.props,t)}render(){return j.jsx(gl,{...this.props})}}function _l(e){const{schema:t,name:r,uiSchema:n,idSchema:a,formData:s,required:o,disabled:i=!1,readonly:c=!1,autofocus:u=!1,onChange:d,onBlur:m,onFocus:l,registry:h,rawErrors:y,hideError:b}=e,{title:p,format:g}=t,{widgets:f,formContext:_,schemaUtils:v,globalUiOptions:S}=h,$=v.isSelect(t)?jt(t,n):void 0;let E=$?"select":"text";g&&Ko(t,g,f)&&(E=g);const{widget:T=E,placeholder:k="",title:F,...x}=ee(n),q=v.getDisplayLabel(t,n,S),U=F??p??r,B=Ue(t,T,f);return j.jsx(B,{options:{...x,enumOptions:$},schema:t,uiSchema:n,id:a.$id,name:r,label:U,hideLabel:!q,hideError:b,value:s,onChange:d,onBlur:m,onFocus:l,required:o,disabled:i,readonly:c,formContext:_,autofocus:u,registry:h,placeholder:k,rawErrors:y})}function $l(e){const{formData:t,onChange:r}=e;return Y.useEffect(()=>{t===void 0&&r(null)},[t,r]),null}function bl(){return{AnyOfField:rs,ArrayField:ec,BooleanField:tc,LayoutGridField:gn,LayoutHeaderField:nc,LayoutMultiSchemaField:sc,NumberField:oc,ObjectField:hl,OneOfField:rs,SchemaField:vl,StringField:_l,NullField:$l}}function Sl(e){const{idSchema:t,description:r,registry:n,schema:a,uiSchema:s}=e,o=ee(s,n.globalUiOptions),{label:i=!0}=o;if(!r||!i)return null;const c=Q("DescriptionFieldTemplate",n,o);return j.jsx(c,{id:it(t),description:r,schema:a,uiSchema:s,registry:n})}function wl(e){const{children:t,className:r,buttonsProps:n,hasToolbar:a,registry:s,uiSchema:o}=e,i=ee(o),c=Q("ArrayFieldItemButtonsTemplate",s,i),u={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return j.jsxs("div",{className:r,children:[j.jsx("div",{className:a?"col-xs-9":"col-xs-12",children:t}),a&&j.jsx("div",{className:"col-xs-3 array-item-toolbox",children:j.jsx("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"},children:j.jsx(c,{...n,style:u})})})]})}function El(e){const{disabled:t,hasCopy:r,hasMoveDown:n,hasMoveUp:a,hasRemove:s,idSchema:o,index:i,onCopyIndexClick:c,onDropIndexClick:u,onReorderClick:d,readonly:m,registry:l,uiSchema:h}=e,{CopyButton:y,MoveDownButton:b,MoveUpButton:p,RemoveButton:g}=l.templates.ButtonTemplates,f=Y.useMemo(()=>c(i),[i,c]),_=Y.useMemo(()=>u(i),[i,u]),v=Y.useMemo(()=>d(i,i-1),[i,d]),S=Y.useMemo(()=>d(i,i+1),[i,d]);return j.jsxs(j.Fragment,{children:[(a||n)&&j.jsx(p,{id:qe(o,"moveUp"),className:"rjsf-array-item-move-up",disabled:t||m||!a,onClick:v,uiSchema:h,registry:l}),(a||n)&&j.jsx(b,{id:qe(o,"moveDown"),className:"rjsf-array-item-move-down",disabled:t||m||!n,onClick:S,uiSchema:h,registry:l}),r&&j.jsx(y,{id:qe(o,"copy"),className:"rjsf-array-item-copy",disabled:t||m,onClick:f,uiSchema:h,registry:l}),s&&j.jsx(g,{id:qe(o,"remove"),className:"rjsf-array-item-remove",disabled:t||m,onClick:_,uiSchema:h,registry:l})]})}function jl(e){const{canAdd:t,className:r,disabled:n,idSchema:a,uiSchema:s,items:o,onAddClick:i,readonly:c,registry:u,required:d,schema:m,title:l}=e,h=ee(s),y=Q("ArrayFieldDescriptionTemplate",u,h),b=Q("ArrayFieldItemTemplate",u,h),p=Q("ArrayFieldTitleTemplate",u,h),{ButtonTemplates:{AddButton:g}}=u.templates;return j.jsxs("fieldset",{className:r,id:a.$id,children:[j.jsx(p,{idSchema:a,title:h.title||l,required:d,schema:m,uiSchema:s,registry:u}),j.jsx(y,{idSchema:a,description:h.description||m.description,schema:m,uiSchema:s,registry:u}),j.jsx("div",{className:"row array-item-list",children:o&&o.map(({key:f,..._})=>j.jsx(b,{..._},f))}),t&&j.jsx(g,{id:qe(a,"add"),className:"rjsf-array-item-add",onClick:i,disabled:n||c,uiSchema:s,registry:u})]})}function Cl(e){const{idSchema:t,title:r,schema:n,uiSchema:a,required:s,registry:o}=e,i=ee(a,o.globalUiOptions),{label:c=!0}=i;if(!r||!c)return null;const u=Q("TitleFieldTemplate",o,i);return j.jsx(u,{id:xr(t),title:r,required:s,schema:n,uiSchema:a,registry:o})}function Tl(e){const{id:t,name:r,value:n,readonly:a,disabled:s,autofocus:o,onBlur:i,onFocus:c,onChange:u,onChangeOverride:d,options:m,schema:l,uiSchema:h,formContext:y,registry:b,rawErrors:p,type:g,hideLabel:f,hideError:_,...v}=e;if(!t)throw console.log("No id for",e),new Error(`no id for props ${JSON.stringify(e)}`);const S={...v,...ti(l,g,m)};let $;S.type==="number"||S.type==="integer"?$=n||n===0?n:"":$=n??"";const E=Y.useCallback(({target:{value:F}})=>u(F===""?m.emptyValue:F),[u,m]),T=Y.useCallback(({target:F})=>i(t,F&&F.value),[i,t]),k=Y.useCallback(({target:F})=>c(t,F&&F.value),[c,t]);return j.jsxs(j.Fragment,{children:[j.jsx("input",{id:t,name:t,className:"form-control",readOnly:a,disabled:s,autoFocus:o,value:$,...S,list:l.examples?Ct(t):void 0,onChange:d||E,onBlur:T,onFocus:k,"aria-describedby":ke(t,!!l.examples)}),Array.isArray(l.examples)&&j.jsx("datalist",{id:Ct(t),children:l.examples.concat(l.default&&!l.examples.includes(l.default)?[l.default]:[]).map(F=>j.jsx("option",{value:F},F))},`datalist_${t}`)]})}function Ol({uiSchema:e}){const{submitText:t,norender:r,props:n={}}=ri(e);return r?null:j.jsx("div",{children:j.jsx("button",{type:"submit",...n,className:`btn btn-info ${n.className||""}`,children:t})})}function Ft(e){const{iconType:t="default",icon:r,className:n,uiSchema:a,registry:s,...o}=e;return j.jsx("button",{type:"button",className:`btn btn-${t} ${n}`,...o,children:j.jsx("i",{className:`glyphicon glyphicon-${r}`})})}function kl(e){const{registry:{translateString:t}}=e;return j.jsx(Ft,{title:t(oe.CopyButton),...e,icon:"copy"})}function Pl(e){const{registry:{translateString:t}}=e;return j.jsx(Ft,{title:t(oe.MoveDownButton),...e,icon:"arrow-down"})}function Fl(e){const{registry:{translateString:t}}=e;return j.jsx(Ft,{title:t(oe.MoveUpButton),...e,icon:"arrow-up"})}function Nl(e){const{registry:{translateString:t}}=e;return j.jsx(Ft,{title:t(oe.RemoveButton),...e,iconType:"danger",icon:"remove"})}function Il({className:e,onClick:t,disabled:r,registry:n}){const{translateString:a}=n;return j.jsx("div",{className:"row",children:j.jsx("p",{className:`col-xs-3 col-xs-offset-9 text-right ${e}`,children:j.jsx(Ft,{iconType:"info",icon:"plus",className:"btn-add col-xs-12",title:a(oe.AddButton),onClick:t,disabled:r,registry:n})})})}function xl(){return{SubmitButton:Ol,AddButton:Il,CopyButton:kl,MoveDownButton:Pl,MoveUpButton:Fl,RemoveButton:Nl}}const Si=si();function Nn({description:e,registry:t,uiSchema:r={}}){const{globalUiOptions:n}=t;return ee(r,n).enableMarkdownInDescription&&typeof e=="string"?j.jsx(Rr,{options:{disableParsingRawHTML:!0},"data-testid":Si.markdown,children:e}):e}Nn.TEST_IDS=Si;function Al(e){const{id:t,description:r,registry:n,uiSchema:a}=e;return r?j.jsx("div",{id:t,className:"field-description",children:j.jsx(Nn,{description:r,registry:n,uiSchema:a})}):null}function Dl({errors:e,registry:t}){const{translateString:r}=t;return j.jsxs("div",{className:"panel panel-danger errors",children:[j.jsx("div",{className:"panel-heading",children:j.jsx("h3",{className:"panel-title",children:r(oe.ErrorsLabel)})}),j.jsx("ul",{className:"list-group",children:e.map((n,a)=>j.jsx("li",{className:"list-group-item text-danger",children:n.stack},a))})]})}const Rl="*";function wi(e){const{label:t,required:r,id:n}=e;return t?j.jsxs("label",{className:"control-label",htmlFor:n,children:[t,r&&j.jsx("span",{className:"required",children:Rl})]}):null}function Ml(e){const{id:t,label:r,children:n,errors:a,help:s,description:o,hidden:i,required:c,displayLabel:u,registry:d,uiSchema:m}=e,l=ee(m),h=Q("WrapIfAdditionalTemplate",d,l);return i?j.jsx("div",{className:"hidden",children:n}):j.jsxs(h,{...e,children:[u&&j.jsx(wi,{label:r,required:c,id:t}),u&&o?o:null,n,a,s]})}function ql(e){const{errors:t=[],idSchema:r}=e;if(t.length===0)return null;const n=Cn(r);return j.jsx("div",{children:j.jsx("ul",{id:n,className:"error-detail bs-callout bs-callout-info",children:t.filter(a=>!!a).map((a,s)=>j.jsx("li",{className:"text-danger",children:a},s))})})}function Ul(e){const{idSchema:t,help:r}=e;if(!r)return null;const n=Tn(t);return typeof r=="string"?j.jsx("p",{id:n,className:"help-block",children:r}):j.jsx("div",{id:n,className:"help-block",children:r})}function Vl(e){const{children:t,column:r,className:n,...a}=e;return j.jsx("div",{className:n,...a,children:t})}function Bl(e){const{description:t,disabled:r,formData:n,idSchema:a,onAddClick:s,properties:o,readonly:i,registry:c,required:u,schema:d,title:m,uiSchema:l}=e,h=ee(l),y=Q("TitleFieldTemplate",c,h),b=Q("DescriptionFieldTemplate",c,h),{ButtonTemplates:{AddButton:p}}=c.templates;return j.jsxs("fieldset",{id:a.$id,children:[m&&j.jsx(y,{id:xr(a),title:m,required:u,schema:d,uiSchema:l,registry:c}),t&&j.jsx(b,{id:it(a),description:t,schema:d,uiSchema:l,registry:c}),o.map(g=>g.content),Ga(d,l,n)&&j.jsx(p,{id:qe(a,"add"),className:"rjsf-object-property-expand",onClick:s(d),disabled:r||i,uiSchema:l,registry:c})]})}const Ll="*";function zl(e){const{id:t,title:r,required:n}=e;return j.jsxs("legend",{id:t,children:[r,n&&j.jsx("span",{className:"required",children:Ll})]})}function Kl(e){const{schema:t,idSchema:r,reason:n,registry:a}=e,{translateString:s}=a;let o=oe.UnsupportedField;const i=[];return r&&r.$id&&(o=oe.UnsupportedFieldWithId,i.push(r.$id)),n&&(o=o===oe.UnsupportedField?oe.UnsupportedFieldWithReason:oe.UnsupportedFieldWithIdAndReason,i.push(n)),j.jsxs("div",{className:"unsupported-field",children:[j.jsx("p",{children:j.jsx(Rr,{options:{disableParsingRawHTML:!0},children:s(o,i)})}),t&&j.jsx("pre",{children:JSON.stringify(t,null,2)})]})}function Wl(e){const{id:t,classNames:r,style:n,disabled:a,label:s,onKeyChange:o,onDropPropertyClick:i,readonly:c,required:u,schema:d,hideError:m,rawErrors:l,children:h,uiSchema:y,registry:b}=e,{templates:p,translateString:g}=b,{RemoveButton:f}=p.ButtonTemplates,_=g(oe.KeyLabel,[s]),v=Pt in d,S=["form-group",r];!m&&l&&l.length>0&&S.push("has-error has-danger");const $=S.join(" ").trim();return v?j.jsx("div",{className:$,style:n,children:j.jsxs("div",{className:"row",children:[j.jsx("div",{className:"col-xs-5 form-additional",children:j.jsxs("div",{className:"form-group",children:[j.jsx(wi,{label:_,required:u,id:`${t}-key`}),j.jsx("input",{className:"form-control",type:"text",id:`${t}-key`,onBlur:({target:E})=>o(E&&E.value),defaultValue:s})]})}),j.jsx("div",{className:"form-additional form-group col-xs-5",children:h}),j.jsx("div",{className:"col-xs-2",children:j.jsx(f,{id:qe(t,"remove"),className:"rjsf-object-property-remove btn-block",style:{border:"0"},disabled:a||c,onClick:i(s),uiSchema:y,registry:b})})]})}):j.jsx("div",{className:$,style:n,children:h})}function Gl(){return{ArrayFieldDescriptionTemplate:Sl,ArrayFieldItemTemplate:wl,ArrayFieldItemButtonsTemplate:El,ArrayFieldTemplate:jl,ArrayFieldTitleTemplate:Cl,ButtonTemplates:xl(),BaseInputTemplate:Tl,DescriptionFieldTemplate:Al,ErrorListTemplate:Dl,FieldTemplate:Ml,FieldErrorTemplate:ql,FieldHelpTemplate:Ul,GridTemplate:Vl,ObjectFieldTemplate:Bl,TitleFieldTemplate:zl,UnsupportedFieldTemplate:Kl,WrapIfAdditionalTemplate:Wl}}function Hl(e){return Object.values(e).every(t=>t!==-1)}function Jl({type:e,range:t,value:r,select:n,rootId:a,name:s,disabled:o,readonly:i,autofocus:c,registry:u,onBlur:d,onFocus:m}){const l=a+"_"+e,{SelectWidget:h}=u.widgets;return j.jsx(h,{schema:{type:"integer"},id:l,name:s,className:"form-control",options:{enumOptions:Xa(t[0],t[1])},placeholder:e,value:r,disabled:o,readonly:i,autofocus:c,onChange:y=>n(e,y),onBlur:d,onFocus:m,registry:u,label:"","aria-describedby":ke(a)})}function Yl({time:e=!1,disabled:t=!1,readonly:r=!1,autofocus:n=!1,options:a,id:s,name:o,registry:i,onBlur:c,onFocus:u,onChange:d,value:m}){const{translateString:l}=i,[h,y]=Y.useState(m),[b,p]=Y.useReducer((v,S)=>({...v,...S}),Jr(m,e));Y.useEffect(()=>{const v=Qn(b,e);Hl(b)&&v!==m?d(v):h!==m&&(y(m),p(Jr(m,e)))},[e,m,d,b,h]);const g=Y.useCallback((v,S)=>{p({[v]:S})},[]),f=Y.useCallback(v=>{if(v.preventDefault(),t||r)return;const S=Jr(new Date().toJSON(),e);d(Qn(S,e))},[t,r,e]),_=Y.useCallback(v=>{v.preventDefault(),!(t||r)&&d(void 0)},[t,r,d]);return j.jsxs("ul",{className:"list-inline",children:[qo(b,e,a.yearsRange,a.format).map((v,S)=>j.jsx("li",{className:"list-inline-item",children:j.jsx(Jl,{rootId:s,name:o,select:g,...v,disabled:t,readonly:r,registry:i,onBlur:c,onFocus:u,autofocus:n&&S===0})},S)),(a.hideNowButton!=="undefined"?!a.hideNowButton:!0)&&j.jsx("li",{className:"list-inline-item",children:j.jsx("a",{href:"#",className:"btn btn-info btn-now",onClick:f,children:l(oe.NowLabel)})}),(a.hideClearButton!=="undefined"?!a.hideClearButton:!0)&&j.jsx("li",{className:"list-inline-item",children:j.jsx("a",{href:"#",className:"btn btn-warning btn-clear",onClick:_,children:l(oe.ClearLabel)})})]})}function Xl({time:e=!0,...t}){const{AltDateWidget:r}=t.registry.widgets;return j.jsx(r,{time:e,...t})}function Ql({schema:e,uiSchema:t,options:r,id:n,value:a,disabled:s,readonly:o,label:i,hideLabel:c,autofocus:u=!1,onBlur:d,onFocus:m,onChange:l,registry:h}){const y=Q("DescriptionFieldTemplate",h,r),b=wt(e),p=Y.useCallback(v=>l(v.target.checked),[l]),g=Y.useCallback(v=>d(n,v.target.checked),[d,n]),f=Y.useCallback(v=>m(n,v.target.checked),[m,n]),_=r.description??e.description;return j.jsxs("div",{className:`checkbox ${s||o?"disabled":""}`,children:[!c&&_&&j.jsx(y,{id:it(n),description:_,schema:e,uiSchema:t,registry:h}),j.jsxs("label",{children:[j.jsx("input",{type:"checkbox",id:n,name:n,checked:typeof a>"u"?!1:a,required:b,disabled:s||o,autoFocus:u,onChange:p,onBlur:g,onFocus:f,"aria-describedby":ke(n)}),ot(j.jsx("span",{children:i}),c)]})]})}function Zl({id:e,disabled:t,options:{inline:r=!1,enumOptions:n,enumDisabled:a,emptyValue:s},value:o,autofocus:i=!1,readonly:c,onChange:u,onBlur:d,onFocus:m}){const l=Array.isArray(o)?o:[o],h=Y.useCallback(({target:b})=>d(e,$e(b&&b.value,n,s)),[d,e]),y=Y.useCallback(({target:b})=>m(e,$e(b&&b.value,n,s)),[m,e]);return j.jsx("div",{className:"checkboxes",id:e,children:Array.isArray(n)&&n.map((b,p)=>{const g=Ir(b.value,l),f=Array.isArray(a)&&a.indexOf(b.value)!==-1,_=t||f||c?"disabled":"",v=$=>{$.target.checked?u(Za(p,l,n)):u(Qa(p,l,n))},S=j.jsxs("span",{children:[j.jsx("input",{type:"checkbox",id:Ar(e,p),name:e,checked:g,value:String(p),disabled:t||f||c,autoFocus:i&&p===0,onChange:v,onBlur:h,onFocus:y,"aria-describedby":ke(e)}),j.jsx("span",{children:b.label})]});return r?j.jsx("label",{className:`checkbox-inline ${_}`,children:S},p):j.jsx("div",{className:`checkbox ${_}`,children:j.jsx("label",{children:S})},p)})})}function ed(e){const{disabled:t,readonly:r,options:n,registry:a}=e,s=Q("BaseInputTemplate",a,n);return j.jsx(s,{type:"color",...e,disabled:t||r})}function td(e){const{onChange:t,options:r,registry:n}=e,a=Q("BaseInputTemplate",n,r),s=Y.useCallback(o=>t(o||void 0),[t]);return j.jsx(a,{type:"date",...e,onChange:s})}function rd(e){const{onChange:t,value:r,options:n,registry:a}=e,s=Q("BaseInputTemplate",a,n);return j.jsx(s,{type:"datetime-local",...e,value:Yo(r),onChange:o=>t(Wo(o))})}function nd(e){const{options:t,registry:r}=e,n=Q("BaseInputTemplate",r,t);return j.jsx(n,{type:"email",...e})}function sd(e,t){return e===null?null:e.replace(";base64",`;name=${encodeURIComponent(t)};base64`)}function ad(e){const{name:t,size:r,type:n}=e;return new Promise((a,s)=>{const o=new window.FileReader;o.onerror=s,o.onload=i=>{var c;typeof((c=i.target)==null?void 0:c.result)=="string"?a({dataURL:sd(i.target.result,t),name:t,size:r,type:n}):a({dataURL:null,name:t,size:r,type:n})},o.readAsDataURL(e)})}function id(e){return Promise.all(Array.from(e).map(ad))}function od({fileInfo:e,registry:t}){const{translateString:r}=t,{dataURL:n,type:a,name:s}=e;return n?["image/jpeg","image/png"].includes(a)?j.jsx("img",{src:n,style:{maxWidth:"100%"},className:"file-preview"}):j.jsxs(j.Fragment,{children:[" ",j.jsx("a",{download:`preview-${s}`,href:n,className:"file-download",children:r(oe.PreviewLabel)})]}):null}function cd({filesInfo:e,registry:t,preview:r,onRemove:n,options:a}){if(e.length===0)return null;const{translateString:s}=t,{RemoveButton:o}=Q("ButtonTemplates",t,a);return j.jsx("ul",{className:"file-info",children:e.map((i,c)=>{const{name:u,size:d,type:m}=i,l=()=>n(c);return j.jsxs("li",{children:[j.jsx(Rr,{children:s(oe.FilesInfo,[u,m,String(d)])}),r&&j.jsx(od,{fileInfo:i,registry:t}),j.jsx(o,{onClick:l,registry:t})]},c)})})}function ld(e){return e.reduce((t,r)=>{if(!r)return t;try{const{blob:n,name:a}=Ao(r);return[...t,{dataURL:r,name:a,size:n.size,type:n.type}]}catch{return t}},[])}function dd(e){const{disabled:t,readonly:r,required:n,multiple:a,onChange:s,value:o,options:i,registry:c}=e,u=Q("BaseInputTemplate",c,i),d=Y.useCallback(h=>{h.target.files&&id(h.target.files).then(y=>{const b=y.map(p=>p.dataURL);s(a?o.concat(b):b[0])})},[a,o,s]),m=Y.useMemo(()=>ld(Array.isArray(o)?o:[o]),[o]),l=Y.useCallback(h=>{if(a){const y=o.filter((b,p)=>p!==h);s(y)}else s(void 0)},[a,o,s]);return j.jsxs("div",{children:[j.jsx(u,{...e,disabled:t||r,type:"file",required:o?!1:n,onChangeOverride:d,value:"",accept:i.accept?String(i.accept):void 0}),j.jsx(cd,{filesInfo:m,onRemove:l,registry:c,preview:i.filePreview,options:i})]})}function ud({id:e,value:t}){return j.jsx("input",{type:"hidden",id:e,name:e,value:typeof t>"u"?"":t})}function fd(e){const{options:t,registry:r}=e,n=Q("BaseInputTemplate",r,t);return j.jsx(n,{type:"password",...e})}function md({options:e,value:t,required:r,disabled:n,readonly:a,autofocus:s=!1,onBlur:o,onFocus:i,onChange:c,id:u}){const{enumOptions:d,enumDisabled:m,inline:l,emptyValue:h}=e,y=Y.useCallback(({target:p})=>o(u,$e(p&&p.value,d,h)),[o,d,h,u]),b=Y.useCallback(({target:p})=>i(u,$e(p&&p.value,d,h)),[i,d,h,u]);return j.jsx("div",{className:"field-radio-group",id:u,role:"radiogroup",children:Array.isArray(d)&&d.map((p,g)=>{const f=Ir(p.value,t),_=Array.isArray(m)&&m.indexOf(p.value)!==-1,v=n||_||a?"disabled":"",S=()=>c(p.value),$=j.jsxs("span",{children:[j.jsx("input",{type:"radio",id:Ar(u,g),checked:f,name:u,required:r,value:String(g),disabled:n||_||a,autoFocus:s&&g===0,onChange:S,onBlur:y,onFocus:b,"aria-describedby":ke(u)}),j.jsx("span",{children:p.label})]});return l?j.jsx("label",{className:`radio-inline ${v}`,children:$},g):j.jsx("div",{className:`radio ${v}`,children:j.jsx("label",{children:$})},g)})})}function hd(e){const{value:t,registry:{templates:{BaseInputTemplate:r}}}=e;return j.jsxs("div",{className:"field-range-wrapper",children:[j.jsx(r,{type:"range",...e}),j.jsx("span",{className:"range-view",children:t})]})}function pd({id:e,value:t,required:r,disabled:n,readonly:a,autofocus:s,onChange:o,onFocus:i,onBlur:c,schema:u,options:d}){const{stars:m=5,shape:l="star"}=d,h=u.maximum?Math.min(u.maximum,5):Math.min(Math.max(m,1),5),y=u.minimum||0,b=Y.useCallback(_=>{!n&&!a&&o(_)},[o,n,a]),p=Y.useCallback(_=>{if(i){const v=Number(_.target.dataset.value);i(e,v)}},[i,e]),g=Y.useCallback(_=>{if(c){const v=Number(_.target.dataset.value);c(e,v)}},[c,e]),f=_=>l==="heart"?_?"♥":"♡":_?"★":"☆";return j.jsx(j.Fragment,{children:j.jsxs("div",{className:"rating-widget",style:{display:"inline-flex",fontSize:"1.5rem",cursor:n||a?"default":"pointer"},children:[[...Array(h)].map((_,v)=>{const S=y+v,$=S<=t;return j.jsx("span",{onClick:()=>b(S),onFocus:p,onBlur:g,"data-value":S,tabIndex:n||a?-1:0,role:"radio","aria-checked":S===t,"aria-label":`${S} ${l==="heart"?"heart":"star"}${S===1?"":"s"}`,style:{color:$?"#FFD700":"#ccc",padding:"0 0.2rem",transition:"color 0.2s",userSelect:"none"},children:f($)},v)}),j.jsx("input",{type:"hidden",id:e,name:e,value:t||"",required:r,disabled:n||a,"aria-hidden":"true"})]})})}function rn(e,t){return t?Array.from(e.target.options).slice().filter(r=>r.selected).map(r=>r.value):e.target.value}function yd({schema:e,id:t,options:r,value:n,required:a,disabled:s,readonly:o,multiple:i=!1,autofocus:c=!1,onChange:u,onBlur:d,onFocus:m,placeholder:l}){const{enumOptions:h,enumDisabled:y,emptyValue:b}=r,p=i?[]:"",g=Y.useCallback($=>{const E=rn($,i);return m(t,$e(E,h,b))},[m,t,i,h,b]),f=Y.useCallback($=>{const E=rn($,i);return d(t,$e(E,h,b))},[d,t,i,h,b]),_=Y.useCallback($=>{const E=rn($,i);return u($e(E,h,b))},[u,i,h,b]),v=jn(n,h,i),S=!i&&e.default===void 0;return j.jsxs("select",{id:t,name:t,multiple:i,role:"combobox",className:"form-control",value:typeof v>"u"?p:v,required:a,disabled:s||o,autoFocus:c,onBlur:f,onFocus:g,onChange:_,"aria-describedby":ke(t),children:[S&&j.jsx("option",{value:"",children:l}),Array.isArray(h)&&h.map(({value:$,label:E},T)=>{const k=y&&y.indexOf($)!==-1;return j.jsx("option",{value:String(T),disabled:k,children:E},T)})]})}function Ei({id:e,options:t={},placeholder:r,value:n,required:a,disabled:s,readonly:o,autofocus:i=!1,onChange:c,onBlur:u,onFocus:d}){const m=Y.useCallback(({target:{value:y}})=>c(y===""?t.emptyValue:y),[c,t.emptyValue]),l=Y.useCallback(({target:y})=>u(e,y&&y.value),[u,e]),h=Y.useCallback(({target:y})=>d(e,y&&y.value),[e,d]);return j.jsx("textarea",{id:e,name:e,className:"form-control",value:n||"",placeholder:r,required:a,disabled:s,readOnly:o,autoFocus:i,rows:t.rows,onBlur:l,onFocus:h,onChange:m,"aria-describedby":ke(e)})}Ei.defaultProps={autofocus:!1,options:{}};function gd(e){const{options:t,registry:r}=e,n=Q("BaseInputTemplate",r,t);return j.jsx(n,{...e})}function vd(e){const{onChange:t,options:r,registry:n}=e,a=Q("BaseInputTemplate",n,r),s=Y.useCallback(o=>t(o?`${o}:00`:void 0),[t]);return j.jsx(a,{type:"time",...e,onChange:s})}function _d(e){const{options:t,registry:r}=e,n=Q("BaseInputTemplate",r,t);return j.jsx(n,{type:"url",...e})}function $d(e){const{options:t,registry:r}=e,n=Q("BaseInputTemplate",r,t);return j.jsx(n,{type:"number",...e})}function bd(){return{AltDateWidget:Yl,AltDateTimeWidget:Xl,CheckboxWidget:Ql,CheckboxesWidget:Zl,ColorWidget:ed,DateWidget:td,DateTimeWidget:rd,EmailWidget:nd,FileWidget:dd,HiddenWidget:ud,PasswordWidget:fd,RadioWidget:md,RangeWidget:hd,RatingWidget:pd,SelectWidget:yd,TextWidget:gd,TextareaWidget:Ei,TimeWidget:vd,UpDownWidget:$d,URLWidget:_d}}function Sd(){return{fields:bl(),templates:Gl(),widgets:bd(),rootSchema:{},formContext:{},translateString:Ro}}class wd extends Y.Component{constructor(r){super(r);le(this,"formElement");le(this,"getUsedFormData",(r,n)=>{if(n.length===0&&typeof r!="object")return r;const a=Kn(r,n);return Array.isArray(r)?Object.keys(a).map(s=>a[s]):a});le(this,"getFieldNames",(r,n)=>{const a=(s,o=[],i=[[]])=>(Object.keys(s).forEach(c=>{if(typeof s[c]=="object"){const u=i.map(d=>[...d,c]);s[c][$n]&&s[c][vr]!==""?o.push(s[c][vr]):a(s[c],o,u)}else c===vr&&s[c]!==""&&i.forEach(u=>{const d=z(n,u);(typeof d!="object"||Me(d)||Array.isArray(d)&&d.every(m=>typeof m!="object"))&&o.push(u)})}),o);return a(r)});le(this,"omitExtraData",r=>{const{schema:n,schemaUtils:a}=this.state,s=a.retrieveSchema(n,r),o=a.toPathSchema(s,"",r),i=this.getFieldNames(o,r);return this.getUsedFormData(r,i)});le(this,"onChange",(r,n,a)=>{const{extraErrors:s,omitExtraData:o,liveOmit:i,noValidate:c,liveValidate:u,onChange:d}=this.props,{schemaUtils:m,schema:l}=this.state;let h=this.state.retrievedSchema;if(gr(r)||Array.isArray(r)){const g=this.getStateFromProps(this.props,r);r=g.formData,h=g.retrievedSchema}const y=!c&&u;let b={formData:r,schema:l},p=r;if(o===!0&&i===!0&&(p=this.omitExtraData(r),b={formData:p}),y){const g=this.validate(p,l,m,h);let f=g.errors,_=g.errorSchema;const v=f,S=_;if(s){const $=Sr(g,s);_=$.errorSchema,f=$.errors}if(n){const $=this.filterErrorsBasedOnSchema(n,h,p);_=tt(_,$,"preventDuplicates")}b={formData:p,errors:f,errorSchema:_,schemaValidationErrors:v,schemaValidationErrorSchema:S}}else if(!c&&n){const g=s?tt(n,s,"preventDuplicates"):n;b={formData:p,errorSchema:g,errors:Or(g)}}this.setState(b,()=>d&&d({...this.state,...b},a))});le(this,"reset",()=>{const{onChange:r}=this.props,s={formData:this.getStateFromProps(this.props,void 0).formData,errorSchema:{},errors:[],schemaValidationErrors:[],schemaValidationErrorSchema:{}};this.setState(s,()=>r&&r({...this.state,...s}))});le(this,"onBlur",(r,n)=>{const{onBlur:a}=this.props;a&&a(r,n)});le(this,"onFocus",(r,n)=>{const{onFocus:a}=this.props;a&&a(r,n)});le(this,"onSubmit",r=>{if(r.preventDefault(),r.target!==r.currentTarget)return;r.persist();const{omitExtraData:n,extraErrors:a,noValidate:s,onSubmit:o}=this.props;let{formData:i}=this.state;if(n===!0&&(i=this.omitExtraData(i)),s||this.validateFormWithFormData(i)){const c=a||{},u=a?Or(a):[];this.setState({formData:i,errors:u,errorSchema:c,schemaValidationErrors:[],schemaValidationErrorSchema:{}},()=>{o&&o({...this.state,formData:i,status:"submitted"},r)})}});le(this,"submit",()=>{if(this.formElement.current){const r=new CustomEvent("submit",{cancelable:!0});r.preventDefault(),this.formElement.current.dispatchEvent(r),this.formElement.current.requestSubmit()}});le(this,"validateFormWithFormData",r=>{const{extraErrors:n,extraErrorsBlockSubmit:a,focusOnFirstError:s,onError:o}=this.props,{errors:i}=this.state,c=this.validate(r);let u=c.errors,d=c.errorSchema;const m=u,l=d,h=u.length>0||n&&a;if(h){if(n){const y=Sr(c,n);d=y.errorSchema,u=y.errors}s&&(typeof s=="function"?s(u[0]):this.focusOnError(u[0])),this.setState({errors:u,errorSchema:d,schemaValidationErrors:m,schemaValidationErrorSchema:l},()=>{o?o(u):console.error("Form validation failed",u)})}else i.length>0&&this.setState({errors:[],errorSchema:{},schemaValidationErrors:[],schemaValidationErrorSchema:{}});return!h});if(!r.validator)throw new Error("A validator is required for Form functionality to work");this.state=this.getStateFromProps(r,r.formData),this.props.onChange&&!he(this.state.formData,this.props.formData)&&this.props.onChange(this.state),this.formElement=Y.createRef()}getSnapshotBeforeUpdate(r,n){if(!he(this.props,r)){const a=Zo(this.props.formData,r.formData),s=!he(r.schema,this.props.schema),o=a.length>0||!he(r.formData,this.props.formData),i=this.getStateFromProps(this.props,this.props.formData,s||o?void 0:this.state.retrievedSchema,s,a),c=!he(i,n);return{nextState:i,shouldUpdate:c}}return{shouldUpdate:!1}}componentDidUpdate(r,n,a){if(a.shouldUpdate){const{nextState:s}=a;!he(s.formData,this.props.formData)&&!he(s.formData,n.formData)&&this.props.onChange&&this.props.onChange(s),this.setState(s)}}getStateFromProps(r,n,a,s=!1,o=[]){var F;const i=this.state||{},c="schema"in r?r.schema:this.props.schema,u=("uiSchema"in r?r.uiSchema:this.props.uiSchema)||{},d=typeof n<"u",m="liveValidate"in r?r.liveValidate:this.props.liveValidate,l=d&&!r.noValidate&&m,h=c,y="experimental_defaultFormStateBehavior"in r?r.experimental_defaultFormStateBehavior:this.props.experimental_defaultFormStateBehavior,b="experimental_customMergeAllOf"in r?r.experimental_customMergeAllOf:this.props.experimental_customMergeAllOf;let p=i.schemaUtils;(!p||p.doesSchemaUtilsDiffer(r.validator,h,y,b))&&(p=xo(r.validator,h,y,b));const g=p.getDefaultFormState(c,n),f=this.updateRetrievedSchema(a??p.retrieveSchema(c,g)),_=()=>r.noValidate||s?{errors:[],errorSchema:{}}:r.liveValidate?{errors:i.errors||[],errorSchema:i.errorSchema||{}}:{errors:i.schemaValidationErrors||[],errorSchema:i.schemaValidationErrorSchema||{}};let v,S,$=i.schemaValidationErrors,E=i.schemaValidationErrorSchema;if(l){const x=this.validate(g,c,p,f);v=x.errors,a===void 0?S=x.errorSchema:S=tt((F=this.state)==null?void 0:F.errorSchema,x.errorSchema,"preventDuplicates"),$=v,E=S}else{const x=_();if(v=x.errors,S=x.errorSchema,o.length>0){const q=o.reduce((U,B)=>(U[B]=void 0,U),{});S=E=tt(x.errorSchema,q,"preventDuplicates")}}if(r.extraErrors){const x=Sr({errorSchema:S,errors:v},r.extraErrors);S=x.errorSchema,v=x.errors}const T=p.toIdSchema(f,u["ui:rootFieldId"],g,r.idPrefix,r.idSeparator);return{schemaUtils:p,schema:c,uiSchema:u,idSchema:T,formData:g,edit:d,errors:v,errorSchema:S,schemaValidationErrors:$,schemaValidationErrorSchema:E,retrievedSchema:f}}shouldComponentUpdate(r,n){return Ho(this,r,n)}getPreviousCustomValidateErrors(){const{customValidate:r,uiSchema:n}=this.props,a=this.state.formData;let s={};if(typeof r=="function"){const o=r(a,Tr(a),n);s=On(o)}return s}validate(r,n=this.props.schema,a,s){const o=a||this.state.schemaUtils,{customValidate:i,transformErrors:c,uiSchema:u}=this.props,d=s??o.retrieveSchema(n,r);return o.getValidator().validateFormData(r,d,i,c,u)}renderErrors(r){const{errors:n,errorSchema:a,schema:s,uiSchema:o}=this.state,{formContext:i}=this.props,c=ee(o),u=Q("ErrorListTemplate",r,c);return n&&n.length?j.jsx(u,{errors:n,errorSchema:a||{},schema:s,uiSchema:o,formContext:i,registry:r}):null}filterErrorsBasedOnSchema(r,n,a){const{retrievedSchema:s,schemaUtils:o}=this.state,i=n??s,c=o.toPathSchema(i,"",a),u=this.getFieldNames(c,a),d=Kn(r,u);(n==null?void 0:n.type)!=="object"&&(n==null?void 0:n.type)!=="array"&&(d.__errors=r.__errors);const m=this.getPreviousCustomValidateErrors(),l=(y=[],b)=>y.length===0?y:y.filter(p=>!b.includes(p)),h=(y,b={})=>(Ka(y,(p,g)=>{const f=b[g];Da(p)||Array.isArray(p)&&p.length===0?delete y[g]:gr(p)&&gr(f)&&Array.isArray(f==null?void 0:f.__errors)?y[g]=l(p.__errors,f.__errors):typeof p=="object"&&!Array.isArray(p.__errors)&&h(p,b[g])}),y);return h(d,m)}updateRetrievedSchema(r){var a;return he(r,(a=this.state)==null?void 0:a.retrievedSchema)?this.state.retrievedSchema:r}getRegistry(){var d;const{translateString:r,uiSchema:n={}}=this.props,{schemaUtils:a}=this.state,{fields:s,templates:o,widgets:i,formContext:c,translateString:u}=Sd();return{fields:{...s,...this.props.fields},templates:{...o,...this.props.templates,ButtonTemplates:{...o.ButtonTemplates,...(d=this.props.templates)==null?void 0:d.ButtonTemplates}},widgets:{...i,...this.props.widgets},rootSchema:this.props.schema,formContext:this.props.formContext||c,schemaUtils:a,translateString:r||u,globalUiOptions:n[mn]}}focusOnError(r){const{idPrefix:n="root",idSeparator:a="_"}=this.props,{property:s}=r,o=Wa(s);o[0]===""?o[0]=n:o.unshift(n);const i=o.join(a);let c=this.formElement.current.elements[i];c||(c=this.formElement.current.querySelector(`input[id^="${i}"`)),c&&c.length&&(c=c[0]),c&&c.focus()}validateForm(){const{omitExtraData:r}=this.props;let{formData:n}=this.state;return r===!0&&(n=this.omitExtraData(n)),this.validateFormWithFormData(n)}render(){const{children:r,id:n,idPrefix:a,idSeparator:s,className:o="",tagName:i,name:c,method:u,target:d,action:m,autoComplete:l,enctype:h,acceptCharset:y,noHtml5Validate:b=!1,disabled:p,readonly:g,formContext:f,showErrorList:_="top",_internalFormWrapper:v}=this.props,{schema:S,uiSchema:$,formData:E,errorSchema:T,idSchema:k}=this.state,F=this.getRegistry(),{SchemaField:x}=F.fields,{SubmitButton:q}=F.templates.ButtonTemplates,U=v?i:void 0,B=v||i||"form";let{[Er]:W={}}=ee($);p&&(W={...W,props:{...W.props,disabled:!0}});const L={[st]:{[Er]:W}};return j.jsxs(B,{className:o||"rjsf",id:n,name:c,method:u,target:d,action:m,autoComplete:l,encType:h,acceptCharset:y,noValidate:b,onSubmit:this.onSubmit,as:U,ref:this.formElement,children:[_==="top"&&this.renderErrors(F),j.jsx(x,{name:"",schema:S,uiSchema:$,errorSchema:T,idSchema:k,idPrefix:a,idSeparator:s,formContext:f,formData:E,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:F,disabled:p,readonly:g}),r||j.jsx(q,{uiSchema:L,registry:F}),_==="bottom"&&this.renderErrors(F)]})}}function Ed(e){return Y.forwardRef(({fields:t,widgets:r,templates:n,...a},s)=>{var o;return t={...e==null?void 0:e.fields,...t},r={...e==null?void 0:e.widgets,...r},n={...e==null?void 0:e.templates,...n,ButtonTemplates:{...(o=e==null?void 0:e.templates)==null?void 0:o.ButtonTemplates,...n==null?void 0:n.ButtonTemplates}},j.jsx(wd,{...e,...a,fields:t,widgets:r,templates:n,ref:s})})}function jd({uiSchema:e,registry:t,...r}){const{translateString:n}=t;return j.jsx(qa,{title:n(oe.AddItemButton),...r,color:"primary",children:j.jsx(Eo,{})})}function Cd(e){const{children:t,buttonsProps:r,hasToolbar:n,uiSchema:a,registry:s}=e,o=ee(a),i=Q("ArrayFieldItemButtonsTemplate",s,o),c={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold",minWidth:0};return j.jsxs(Te,{container:!0,alignItems:"center",children:[j.jsx(Te,{size:"auto",style:{overflow:"auto"},children:j.jsx(at,{mb:2,children:j.jsx(bn,{elevation:2,children:j.jsx(at,{p:2,children:t})})})}),n&&j.jsx(Te,{children:j.jsx(i,{...r,style:c})})]})}function Td(e){const{canAdd:t,disabled:r,idSchema:n,uiSchema:a,items:s,onAddClick:o,readonly:i,registry:c,required:u,schema:d,title:m}=e,l=ee(a),h=Q("ArrayFieldDescriptionTemplate",c,l),y=Q("ArrayFieldItemTemplate",c,l),b=Q("ArrayFieldTitleTemplate",c,l),{ButtonTemplates:{AddButton:p}}=c.templates;return j.jsx(bn,{elevation:2,children:j.jsxs(at,{p:2,children:[j.jsx(b,{idSchema:n,title:l.title||m,schema:d,uiSchema:a,required:u,registry:c}),j.jsx(h,{idSchema:n,description:l.description||d.description,schema:d,uiSchema:a,registry:c}),s&&s.map(({key:g,...f})=>j.jsx(y,{...f},g)),t&&j.jsx(Te,{container:!0,justifyContent:"flex-end",children:j.jsx(Te,{children:j.jsx(at,{mt:2,children:j.jsx(p,{id:qe(n,"add"),className:"rjsf-array-item-add",onClick:o,disabled:r||i,uiSchema:a,registry:c})})})})]})})}const Od=["date","datetime-local","file","time"];function kd(e){const{id:t,name:r,placeholder:n,required:a,readonly:s,disabled:o,type:i,label:c,hideLabel:u,hideError:d,value:m,onChange:l,onChangeOverride:h,onBlur:y,onFocus:b,autofocus:p,options:g,schema:f,uiSchema:_,rawErrors:v=[],errorSchema:S,formContext:$,registry:E,InputLabelProps:T,...k}=e,F=ti(f,i,g),{step:x,min:q,max:U,accept:B,...W}=F,L={step:x,min:q,max:U,accept:B,...f.examples?{list:Ct(t)}:void 0},te=({target:{value:O}})=>l(O===""?g.emptyValue:O),G=({target:O})=>y(t,O&&O.value),re=({target:O})=>b(t,O&&O.value),D=Od.includes(i)?{...T,shrink:!0}:T;return j.jsxs(j.Fragment,{children:[j.jsx(Sn,{id:t,name:t,placeholder:n,label:ot(c||void 0,u,void 0),autoFocus:p,required:a,disabled:o||s,slotProps:{htmlInput:L,inputLabel:D},...W,value:m||m===0?m:"",error:v.length>0,onChange:h||te,onBlur:G,onFocus:re,...k,"aria-describedby":ke(t,!!f.examples)}),Array.isArray(f.examples)&&j.jsx("datalist",{id:Ct(t),children:f.examples.concat(f.default&&!f.examples.includes(f.default)?[f.default]:[]).map(O=>j.jsx("option",{value:O},O))})]})}function Pd(e){const{id:t,description:r,registry:n,uiSchema:a}=e;return r?j.jsx(Nr,{id:t,variant:"subtitle2",style:{marginTop:"5px"},children:j.jsx(Nn,{description:r,registry:n,uiSchema:a})}):null}function Fd({errors:e,registry:t}){const{translateString:r}=t;return j.jsx(bn,{elevation:2,children:j.jsxs(at,{mb:2,p:2,children:[j.jsx(Nr,{variant:"h6",children:r(oe.ErrorsLabel)}),j.jsx(Ua,{dense:!0,children:e.map((n,a)=>j.jsxs(Va,{children:[j.jsx(to,{children:j.jsx(Co,{color:"error"})}),j.jsx(ro,{primary:n.stack})]},a))})]})})}function Mr(e){const{icon:t,color:r,uiSchema:n,registry:a,...s}=e;return j.jsx(qa,{...s,size:"small",color:r,children:t})}function Nd(e){const{registry:{translateString:t}}=e;return j.jsx(Mr,{title:t(oe.CopyButton),...e,icon:j.jsx(so,{fontSize:"small"})})}function Id(e){const{registry:{translateString:t}}=e;return j.jsx(Mr,{title:t(oe.MoveDownButton),...e,icon:j.jsx(jo,{fontSize:"small"})})}function xd(e){const{registry:{translateString:t}}=e;return j.jsx(Mr,{title:t(oe.MoveUpButton),...e,icon:j.jsx(no,{fontSize:"small"})})}function Ad(e){const{iconType:t,...r}=e,{registry:{translateString:n}}=r;return j.jsx(Mr,{title:n(oe.RemoveButton),...r,color:"error",icon:j.jsx(To,{fontSize:t==="default"?void 0:"small"})})}function Dd(e){const{errors:t=[],idSchema:r}=e;if(t.length===0)return null;const n=Cn(r);return j.jsx(Ua,{id:n,dense:!0,disablePadding:!0,children:t.map((a,s)=>j.jsx(Va,{disableGutters:!0,children:j.jsx(Ba,{component:"div",id:`${n}-${s}`,children:a})},s))})}function Rd(e){const{idSchema:t,help:r}=e;if(!r)return null;const n=Tn(t);return j.jsx(Ba,{component:"div",id:n,children:r})}function Md(e){const{id:t,children:r,classNames:n,style:a,disabled:s,displayLabel:o,hidden:i,label:c,onDropPropertyClick:u,onKeyChange:d,readonly:m,required:l,rawErrors:h=[],errors:y,help:b,description:p,rawDescription:g,schema:f,uiSchema:_,registry:v}=e,S=ee(_),$=Q("WrapIfAdditionalTemplate",v,S);return i?j.jsx("div",{style:{display:"none"},children:r}):j.jsx($,{classNames:n,style:a,disabled:s,id:t,label:c,onDropPropertyClick:u,onKeyChange:d,readonly:m,required:l,schema:f,uiSchema:_,registry:v,children:j.jsxs(ao,{fullWidth:!0,error:!!h.length,required:l,children:[r,o&&g?j.jsx(Nr,{variant:"caption",color:"textSecondary",children:p}):null,y,b]})})}function qd(e){const{children:t,column:r,...n}=e;return j.jsx(Te,{container:!r,...n,children:t})}function Ud(e){const{description:t,title:r,properties:n,required:a,disabled:s,readonly:o,uiSchema:i,idSchema:c,schema:u,formData:d,onAddClick:m,registry:l}=e,h=ee(i),y=Q("TitleFieldTemplate",l,h),b=Q("DescriptionFieldTemplate",l,h),{ButtonTemplates:{AddButton:p}}=l.templates;return j.jsxs(j.Fragment,{children:[r&&j.jsx(y,{id:xr(c),title:r,required:a,schema:u,uiSchema:i,registry:l}),t&&j.jsx(b,{id:it(c),description:t,schema:u,uiSchema:i,registry:l}),j.jsxs(Te,{container:!0,spacing:2,style:{marginTop:"10px"},children:[n.map((g,f)=>g.hidden?g.content:j.jsx(Te,{size:{xs:12},style:{marginBottom:"10px"},children:g.content},f)),Ga(u,i,d)&&j.jsx(Te,{container:!0,justifyContent:"flex-end",children:j.jsx(Te,{children:j.jsx(p,{id:qe(c,"add"),className:"rjsf-object-property-expand",onClick:m(u),disabled:s||o,uiSchema:i,registry:l})})})]})]})}function Vd({uiSchema:e}){const{submitText:t,norender:r,props:n={}}=ri(e);return r?null:j.jsx(at,{marginTop:3,children:j.jsx(io,{type:"submit",variant:"contained",color:"primary",...n,children:t})})}function Bd({id:e,title:t}){return j.jsxs(at,{id:e,mb:1,mt:1,children:[j.jsx(Nr,{variant:"h5",children:t}),j.jsx(oo,{})]})}function Ld(e){const{children:t,classNames:r,style:n,disabled:a,id:s,label:o,onDropPropertyClick:i,onKeyChange:c,readonly:u,required:d,schema:m,uiSchema:l,registry:h}=e,{templates:y,translateString:b}=h,{RemoveButton:p}=y.ButtonTemplates,g=b(oe.KeyLabel,[o]),f=Pt in m,_={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};if(!f)return j.jsx("div",{className:r,style:n,children:t});const v=({target:S})=>c(S&&S.value);return j.jsxs(Te,{container:!0,alignItems:"center",spacing:2,className:r,style:n,children:[j.jsx(Te,{size:"auto",children:j.jsx(Sn,{fullWidth:!0,required:d,label:g,defaultValue:o,disabled:a||u,id:`${s}-key`,name:`${s}-key`,onBlur:u?void 0:v,type:"text"})}),j.jsx(Te,{size:"auto",children:t}),j.jsx(Te,{children:j.jsx(p,{id:qe(s,"remove"),className:"rjsf-object-property-remove",iconType:"default",style:_,disabled:a||u,onClick:i(o),uiSchema:l,registry:h})})]},`${s}-key`)}function zd(){return{ArrayFieldItemTemplate:Cd,ArrayFieldTemplate:Td,BaseInputTemplate:kd,ButtonTemplates:{AddButton:jd,CopyButton:Nd,MoveDownButton:Id,MoveUpButton:xd,RemoveButton:Ad,SubmitButton:Vd},DescriptionFieldTemplate:Pd,ErrorListTemplate:Fd,FieldErrorTemplate:Dd,FieldHelpTemplate:Rd,FieldTemplate:Md,GridTemplate:qd,ObjectFieldTemplate:Ud,TitleFieldTemplate:Bd,WrapIfAdditionalTemplate:Ld}}function Kd(e){var t;const{schema:r,id:n,value:a,disabled:s,readonly:o,label:i="",hideLabel:c,autofocus:u,onChange:d,onBlur:m,onFocus:l,registry:h,options:y,uiSchema:b}=e,p=Q("DescriptionFieldTemplate",h,y),g=wt(r),f=($,E)=>d(E),_=({target:$})=>m(n,$&&$.value),v=({target:$})=>l(n,$&&$.value),S=(t=y.description)!==null&&t!==void 0?t:r.description;return j.jsxs(j.Fragment,{children:[!c&&S&&j.jsx(p,{id:it(n),description:S,schema:r,uiSchema:b,registry:h}),j.jsx(wn,{control:j.jsx(La,{id:n,name:n,checked:typeof a>"u"?!1:!!a,required:g,disabled:s||o,autoFocus:u,onChange:f,onBlur:_,onFocus:v,"aria-describedby":ke(n)}),label:ot(i,c,!1)})]})}function Wd({label:e,hideLabel:t,id:r,disabled:n,options:a,value:s,autofocus:o,readonly:i,required:c,onChange:u,onBlur:d,onFocus:m}){const{enumOptions:l,enumDisabled:h,inline:y,emptyValue:b}=a,p=Array.isArray(s)?s:[s],g=v=>({target:{checked:S}})=>{u(S?Za(v,p,l):Qa(v,p,l))},f=({target:v})=>d(r,$e(v&&v.value,l,b)),_=({target:v})=>m(r,$e(v&&v.value,l,b));return j.jsxs(j.Fragment,{children:[ot(j.jsx(En,{required:c,htmlFor:r,children:e||void 0}),t),j.jsx(co,{id:r,row:!!y,children:Array.isArray(l)&&l.map((v,S)=>{const $=Ir(v.value,p),E=Array.isArray(h)&&h.indexOf(v.value)!==-1,T=j.jsx(La,{id:Ar(r,S),name:r,checked:$,disabled:n||E||i,autoFocus:o&&S===0,onChange:g(S),onBlur:f,onFocus:_,"aria-describedby":ke(r)});return j.jsx(wn,{control:T,label:v.label},S)})})]})}function Gd({id:e,options:t,value:r,required:n,disabled:a,readonly:s,label:o,hideLabel:i,onChange:c,onBlur:u,onFocus:d}){var m;const{enumOptions:l,enumDisabled:h,emptyValue:y}=t,b=(v,S)=>c($e(S,l,y)),p=({target:v})=>u(e,$e(v&&v.value,l,y)),g=({target:v})=>d(e,$e(v&&v.value,l,y)),f=t?t.inline:!1,_=(m=jn(r,l))!==null&&m!==void 0?m:null;return j.jsxs(j.Fragment,{children:[ot(j.jsx(En,{required:n,htmlFor:e,children:o||void 0}),i),j.jsx(lo,{id:e,name:e,value:_,row:f,onChange:b,onBlur:p,onFocus:g,"aria-describedby":ke(e),children:Array.isArray(l)&&l.map((v,S)=>{const $=Array.isArray(h)&&h.indexOf(v.value)!==-1;return j.jsx(wn,{control:j.jsx(uo,{name:e,id:Ar(e,S),color:"primary"}),label:v.label,value:String(S),disabled:a||$||s},S)})})]})}function Hd(e){const{value:t,readonly:r,disabled:n,onBlur:a,onFocus:s,options:o,schema:i,onChange:c,required:u,label:d,hideLabel:m,id:l}=e,h={value:t,label:d,id:l,name:l,...ei(i)},y=(g,f)=>{c(f??o.emptyValue)},b=({target:g})=>a(l,g&&g.value),p=({target:g})=>s(l,g&&g.value);return j.jsxs(j.Fragment,{children:[ot(j.jsx(En,{required:u,htmlFor:l,children:d||void 0}),m),j.jsx(fo,{disabled:n||r,onChange:y,onBlur:b,onFocus:p,valueLabelDisplay:"auto",...h,"aria-describedby":ke(l)})]})}function Jd({schema:e,id:t,name:r,options:n,label:a,hideLabel:s,required:o,disabled:i,placeholder:c,readonly:u,value:d,multiple:m,autofocus:l,onChange:h,onBlur:y,onFocus:b,errorSchema:p,rawErrors:g=[],registry:f,uiSchema:_,hideError:v,formContext:S,...$}){const{enumOptions:E,enumDisabled:T,emptyValue:k}=n;m=typeof m>"u"?!1:!!m;const F=m?[]:"",x=typeof d>"u"||m&&d.length<1||!m&&d===F,q=({target:{value:O}})=>h($e(O,E,k)),U=({target:O})=>y(t,$e(O&&O.value,E,k)),B=({target:O})=>b(t,$e(O&&O.value,E,k)),W=jn(d,E,m),{InputLabelProps:L,SelectProps:te,autocomplete:G,...re}=$,D=!m&&e.default===void 0;return j.jsxs(Sn,{id:t,name:t,label:ot(a||void 0,s,void 0),value:!x&&typeof W<"u"?W:F,required:o,disabled:i||u,autoFocus:l,autoComplete:G,placeholder:c,error:g.length>0,onChange:q,onBlur:U,onFocus:B,...re,select:!0,InputLabelProps:{...L,shrink:!x},SelectProps:{...te,multiple:m},"aria-describedby":ke(t),children:[D&&j.jsx(Wn,{value:"",children:c}),Array.isArray(E)&&E.map(({value:O,label:R},N)=>{const w=Array.isArray(T)&&T.indexOf(O)!==-1;return j.jsx(Wn,{value:String(N),disabled:w,children:R},N)})]})}function Yd(e){const{options:t,registry:r}=e,n=Q("BaseInputTemplate",r,t);let a=5;return(typeof t.rows=="string"||typeof t.rows=="number")&&(a=t.rows),j.jsx(n,{...e,multiline:!0,rows:a})}function ji(){return{CheckboxWidget:Kd,CheckboxesWidget:Wd,RadioWidget:Gd,RangeWidget:Hd,SelectWidget:Jd,TextareaWidget:Yd}}const mm=ji();function Xd(){return{templates:zd(),widgets:ji()}}function Qd(){return Ed(Xd())}const hm=Qd();var Nt={exports:{}},nn={},Be={},Ye={},sn={},an={},on={},us;function kr(){return us||(us=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(f){if(super(),!e.IDENTIFIER.test(f))throw new Error("CodeGen: name must be a valid identifier");this.str=f}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(f){super(),this._items=typeof f=="string"?[f]:f}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const f=this._items[0];return f===""||f==='""'}get str(){var f;return(f=this._str)!==null&&f!==void 0?f:this._str=this._items.reduce((_,v)=>`${_}${v}`,"")}get names(){var f;return(f=this._names)!==null&&f!==void 0?f:this._names=this._items.reduce((_,v)=>(v instanceof r&&(_[v.str]=(_[v.str]||0)+1),_),{})}}e._Code=n,e.nil=new n("");function a(g,...f){const _=[g[0]];let v=0;for(;v<f.length;)i(_,f[v]),_.push(g[++v]);return new n(_)}e._=a;const s=new n("+");function o(g,...f){const _=[h(g[0])];let v=0;for(;v<f.length;)_.push(s),i(_,f[v]),_.push(s,h(g[++v]));return c(_),new n(_)}e.str=o;function i(g,f){f instanceof n?g.push(...f._items):f instanceof r?g.push(f):g.push(m(f))}e.addCodeArg=i;function c(g){let f=1;for(;f<g.length-1;){if(g[f]===s){const _=u(g[f-1],g[f+1]);if(_!==void 0){g.splice(f-1,3,_);continue}g[f++]="+"}f++}}function u(g,f){if(f==='""')return g;if(g==='""')return f;if(typeof g=="string")return f instanceof r||g[g.length-1]!=='"'?void 0:typeof f!="string"?`${g.slice(0,-1)}${f}"`:f[0]==='"'?g.slice(0,-1)+f.slice(1):void 0;if(typeof f=="string"&&f[0]==='"'&&!(g instanceof r))return`"${g}${f.slice(1)}`}function d(g,f){return f.emptyStr()?g:g.emptyStr()?f:o`${g}${f}`}e.strConcat=d;function m(g){return typeof g=="number"||typeof g=="boolean"||g===null?g:h(Array.isArray(g)?g.join(","):g)}function l(g){return new n(h(g))}e.stringify=l;function h(g){return JSON.stringify(g).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function y(g){return typeof g=="string"&&e.IDENTIFIER.test(g)?new n(`.${g}`):a`[${g}]`}e.getProperty=y;function b(g){if(typeof g=="string"&&e.IDENTIFIER.test(g))return new n(`${g}`);throw new Error(`CodeGen: invalid export name: ${g}, use explicit $id name mapping`)}e.getEsmExportName=b;function p(g){return new n(g.toString())}e.regexpCode=p}(on)),on}var cn={},fs;function ms(){return fs||(fs=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=kr();class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class a{constructor({prefixes:u,parent:d}={}){this._names={},this._prefixes=u,this._parent=d}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const d=this._names[u]||this._nameGroup(u);return`${u}${d.index++}`}_nameGroup(u){var d,m;if(!((m=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||m===void 0)&&m.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=a;class s extends t.Name{constructor(u,d){super(d),this.prefix=u}setValue(u,{property:d,itemIndex:m}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(d)}[${m}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class i extends a{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?o:t.nil}}get(){return this._scope}name(u){return new s(u,this._newName(u))}value(u,d){var m;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const l=this.toName(u),{prefix:h}=l,y=(m=d.key)!==null&&m!==void 0?m:d.ref;let b=this._values[h];if(b){const f=b.get(y);if(f)return f}else b=this._values[h]=new Map;b.set(y,l);const p=this._scope[h]||(this._scope[h]=[]),g=p.length;return p[g]=d.ref,l.setValue(d,{property:h,itemIndex:g}),l}getValue(u,d){const m=this._values[u];if(m)return m.get(d)}scopeRefs(u,d=this._values){return this._reduceValues(d,m=>{if(m.scopePath===void 0)throw new Error(`CodeGen: name "${m}" has no value`);return(0,t._)`${u}${m.scopePath}`})}scopeCode(u=this._values,d,m){return this._reduceValues(u,l=>{if(l.value===void 0)throw new Error(`CodeGen: name "${l}" has no value`);return l.value.code},d,m)}_reduceValues(u,d,m={},l){let h=t.nil;for(const y in u){const b=u[y];if(!b)continue;const p=m[y]=m[y]||new Map;b.forEach(g=>{if(p.has(g))return;p.set(g,n.Started);let f=d(g);if(f){const _=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${_} ${g} = ${f};${this.opts._n}`}else if(f=l==null?void 0:l(g))h=(0,t._)`${h}${f}${this.opts._n}`;else throw new r(g);p.set(g,n.Completed)})}return h}}e.ValueScope=i}(cn)),cn}var hs;function se(){return hs||(hs=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=kr(),r=ms();var n=kr();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var a=ms();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(w,C){return this}}class o extends s{constructor(w,C,A){super(),this.varKind=w,this.name=C,this.rhs=A}render({es5:w,_n:C}){const A=w?r.varKinds.var:this.varKind,K=this.rhs===void 0?"":` = ${this.rhs}`;return`${A} ${this.name}${K};`+C}optimizeNames(w,C){if(w[this.name.str])return this.rhs&&(this.rhs=B(this.rhs,w,C)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class i extends s{constructor(w,C,A){super(),this.lhs=w,this.rhs=C,this.sideEffects=A}render({_n:w}){return`${this.lhs} = ${this.rhs};`+w}optimizeNames(w,C){if(!(this.lhs instanceof t.Name&&!w[this.lhs.str]&&!this.sideEffects))return this.rhs=B(this.rhs,w,C),this}get names(){const w=this.lhs instanceof t.Name?{}:{...this.lhs.names};return U(w,this.rhs)}}class c extends i{constructor(w,C,A,K){super(w,A,K),this.op=C}render({_n:w}){return`${this.lhs} ${this.op}= ${this.rhs};`+w}}class u extends s{constructor(w){super(),this.label=w,this.names={}}render({_n:w}){return`${this.label}:`+w}}class d extends s{constructor(w){super(),this.label=w,this.names={}}render({_n:w}){return`break${this.label?` ${this.label}`:""};`+w}}class m extends s{constructor(w){super(),this.error=w}render({_n:w}){return`throw ${this.error};`+w}get names(){return this.error.names}}class l extends s{constructor(w){super(),this.code=w}render({_n:w}){return`${this.code};`+w}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(w,C){return this.code=B(this.code,w,C),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends s{constructor(w=[]){super(),this.nodes=w}render(w){return this.nodes.reduce((C,A)=>C+A.render(w),"")}optimizeNodes(){const{nodes:w}=this;let C=w.length;for(;C--;){const A=w[C].optimizeNodes();Array.isArray(A)?w.splice(C,1,...A):A?w[C]=A:w.splice(C,1)}return w.length>0?this:void 0}optimizeNames(w,C){const{nodes:A}=this;let K=A.length;for(;K--;){const J=A[K];J.optimizeNames(w,C)||(W(w,J.names),A.splice(K,1))}return A.length>0?this:void 0}get names(){return this.nodes.reduce((w,C)=>q(w,C.names),{})}}class y extends h{render(w){return"{"+w._n+super.render(w)+"}"+w._n}}class b extends h{}class p extends y{}p.kind="else";class g extends y{constructor(w,C){super(C),this.condition=w}render(w){let C=`if(${this.condition})`+super.render(w);return this.else&&(C+="else "+this.else.render(w)),C}optimizeNodes(){super.optimizeNodes();const w=this.condition;if(w===!0)return this.nodes;let C=this.else;if(C){const A=C.optimizeNodes();C=this.else=Array.isArray(A)?new p(A):A}if(C)return w===!1?C instanceof g?C:C.nodes:this.nodes.length?this:new g(L(w),C instanceof g?[C]:C.nodes);if(!(w===!1||!this.nodes.length))return this}optimizeNames(w,C){var A;if(this.else=(A=this.else)===null||A===void 0?void 0:A.optimizeNames(w,C),!!(super.optimizeNames(w,C)||this.else))return this.condition=B(this.condition,w,C),this}get names(){const w=super.names;return U(w,this.condition),this.else&&q(w,this.else.names),w}}g.kind="if";class f extends y{}f.kind="for";class _ extends f{constructor(w){super(),this.iteration=w}render(w){return`for(${this.iteration})`+super.render(w)}optimizeNames(w,C){if(super.optimizeNames(w,C))return this.iteration=B(this.iteration,w,C),this}get names(){return q(super.names,this.iteration.names)}}class v extends f{constructor(w,C,A,K){super(),this.varKind=w,this.name=C,this.from=A,this.to=K}render(w){const C=w.es5?r.varKinds.var:this.varKind,{name:A,from:K,to:J}=this;return`for(${C} ${A}=${K}; ${A}<${J}; ${A}++)`+super.render(w)}get names(){const w=U(super.names,this.from);return U(w,this.to)}}class S extends f{constructor(w,C,A,K){super(),this.loop=w,this.varKind=C,this.name=A,this.iterable=K}render(w){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(w)}optimizeNames(w,C){if(super.optimizeNames(w,C))return this.iterable=B(this.iterable,w,C),this}get names(){return q(super.names,this.iterable.names)}}class $ extends y{constructor(w,C,A){super(),this.name=w,this.args=C,this.async=A}render(w){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(w)}}$.kind="func";class E extends h{render(w){return"return "+super.render(w)}}E.kind="return";class T extends y{render(w){let C="try"+super.render(w);return this.catch&&(C+=this.catch.render(w)),this.finally&&(C+=this.finally.render(w)),C}optimizeNodes(){var w,C;return super.optimizeNodes(),(w=this.catch)===null||w===void 0||w.optimizeNodes(),(C=this.finally)===null||C===void 0||C.optimizeNodes(),this}optimizeNames(w,C){var A,K;return super.optimizeNames(w,C),(A=this.catch)===null||A===void 0||A.optimizeNames(w,C),(K=this.finally)===null||K===void 0||K.optimizeNames(w,C),this}get names(){const w=super.names;return this.catch&&q(w,this.catch.names),this.finally&&q(w,this.finally.names),w}}class k extends y{constructor(w){super(),this.error=w}render(w){return`catch(${this.error})`+super.render(w)}}k.kind="catch";class F extends y{render(w){return"finally"+super.render(w)}}F.kind="finally";class x{constructor(w,C={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...C,_n:C.lines?`
`:""},this._extScope=w,this._scope=new r.Scope({parent:w}),this._nodes=[new b]}toString(){return this._root.render(this.opts)}name(w){return this._scope.name(w)}scopeName(w){return this._extScope.name(w)}scopeValue(w,C){const A=this._extScope.value(w,C);return(this._values[A.prefix]||(this._values[A.prefix]=new Set)).add(A),A}getScopeValue(w,C){return this._extScope.getValue(w,C)}scopeRefs(w){return this._extScope.scopeRefs(w,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(w,C,A,K){const J=this._scope.toName(C);return A!==void 0&&K&&(this._constants[J.str]=A),this._leafNode(new o(w,J,A)),J}const(w,C,A){return this._def(r.varKinds.const,w,C,A)}let(w,C,A){return this._def(r.varKinds.let,w,C,A)}var(w,C,A){return this._def(r.varKinds.var,w,C,A)}assign(w,C,A){return this._leafNode(new i(w,C,A))}add(w,C){return this._leafNode(new c(w,e.operators.ADD,C))}code(w){return typeof w=="function"?w():w!==t.nil&&this._leafNode(new l(w)),this}object(...w){const C=["{"];for(const[A,K]of w)C.length>1&&C.push(","),C.push(A),(A!==K||this.opts.es5)&&(C.push(":"),(0,t.addCodeArg)(C,K));return C.push("}"),new t._Code(C)}if(w,C,A){if(this._blockNode(new g(w)),C&&A)this.code(C).else().code(A).endIf();else if(C)this.code(C).endIf();else if(A)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(w){return this._elseNode(new g(w))}else(){return this._elseNode(new p)}endIf(){return this._endBlockNode(g,p)}_for(w,C){return this._blockNode(w),C&&this.code(C).endFor(),this}for(w,C){return this._for(new _(w),C)}forRange(w,C,A,K,J=this.opts.es5?r.varKinds.var:r.varKinds.let){const ie=this._scope.toName(w);return this._for(new v(J,ie,C,A),()=>K(ie))}forOf(w,C,A,K=r.varKinds.const){const J=this._scope.toName(w);if(this.opts.es5){const ie=C instanceof t.Name?C:this.var("_arr",C);return this.forRange("_i",0,(0,t._)`${ie}.length`,ae=>{this.var(J,(0,t._)`${ie}[${ae}]`),A(J)})}return this._for(new S("of",K,J,C),()=>A(J))}forIn(w,C,A,K=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(w,(0,t._)`Object.keys(${C})`,A);const J=this._scope.toName(w);return this._for(new S("in",K,J,C),()=>A(J))}endFor(){return this._endBlockNode(f)}label(w){return this._leafNode(new u(w))}break(w){return this._leafNode(new d(w))}return(w){const C=new E;if(this._blockNode(C),this.code(w),C.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(E)}try(w,C,A){if(!C&&!A)throw new Error('CodeGen: "try" without "catch" and "finally"');const K=new T;if(this._blockNode(K),this.code(w),C){const J=this.name("e");this._currNode=K.catch=new k(J),C(J)}return A&&(this._currNode=K.finally=new F,this.code(A)),this._endBlockNode(k,F)}throw(w){return this._leafNode(new m(w))}block(w,C){return this._blockStarts.push(this._nodes.length),w&&this.code(w).endBlock(C),this}endBlock(w){const C=this._blockStarts.pop();if(C===void 0)throw new Error("CodeGen: not in self-balancing block");const A=this._nodes.length-C;if(A<0||w!==void 0&&A!==w)throw new Error(`CodeGen: wrong number of nodes: ${A} vs ${w} expected`);return this._nodes.length=C,this}func(w,C=t.nil,A,K){return this._blockNode(new $(w,C,A)),K&&this.code(K).endFunc(),this}endFunc(){return this._endBlockNode($)}optimize(w=1){for(;w-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(w){return this._currNode.nodes.push(w),this}_blockNode(w){this._currNode.nodes.push(w),this._nodes.push(w)}_endBlockNode(w,C){const A=this._currNode;if(A instanceof w||C&&A instanceof C)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${C?`${w.kind}/${C.kind}`:w.kind}"`)}_elseNode(w){const C=this._currNode;if(!(C instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=C.else=w,this}get _root(){return this._nodes[0]}get _currNode(){const w=this._nodes;return w[w.length-1]}set _currNode(w){const C=this._nodes;C[C.length-1]=w}}e.CodeGen=x;function q(N,w){for(const C in w)N[C]=(N[C]||0)+(w[C]||0);return N}function U(N,w){return w instanceof t._CodeOrName?q(N,w.names):N}function B(N,w,C){if(N instanceof t.Name)return A(N);if(!K(N))return N;return new t._Code(N._items.reduce((J,ie)=>(ie instanceof t.Name&&(ie=A(ie)),ie instanceof t._Code?J.push(...ie._items):J.push(ie),J),[]));function A(J){const ie=C[J.str];return ie===void 0||w[J.str]!==1?J:(delete w[J.str],ie)}function K(J){return J instanceof t._Code&&J._items.some(ie=>ie instanceof t.Name&&w[ie.str]===1&&C[ie.str]!==void 0)}}function W(N,w){for(const C in w)N[C]=(N[C]||0)-(w[C]||0)}function L(N){return typeof N=="boolean"||typeof N=="number"||N===null?!N:(0,t._)`!${R(N)}`}e.not=L;const te=O(e.operators.AND);function G(...N){return N.reduce(te)}e.and=G;const re=O(e.operators.OR);function D(...N){return N.reduce(re)}e.or=D;function O(N){return(w,C)=>w===t.nil?C:C===t.nil?w:(0,t._)`${R(w)} ${N} ${R(C)}`}function R(N){return N instanceof t.Name?N:(0,t._)`(${N})`}}(an)),an}var ne={},ps;function ce(){if(ps)return ne;ps=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.checkStrictMode=ne.getErrorPath=ne.Type=ne.useFunc=ne.setEvaluated=ne.evaluatedPropsToName=ne.mergeEvaluated=ne.eachItem=ne.unescapeJsonPointer=ne.escapeJsonPointer=ne.escapeFragment=ne.unescapeFragment=ne.schemaRefOrVal=ne.schemaHasRulesButRef=ne.schemaHasRules=ne.checkUnknownRules=ne.alwaysValidSchema=ne.toHash=void 0;const e=se(),t=kr();function r(S){const $={};for(const E of S)$[E]=!0;return $}ne.toHash=r;function n(S,$){return typeof $=="boolean"?$:Object.keys($).length===0?!0:(a(S,$),!s($,S.self.RULES.all))}ne.alwaysValidSchema=n;function a(S,$=S.schema){const{opts:E,self:T}=S;if(!E.strictSchema||typeof $=="boolean")return;const k=T.RULES.keywords;for(const F in $)k[F]||v(S,`unknown keyword: "${F}"`)}ne.checkUnknownRules=a;function s(S,$){if(typeof S=="boolean")return!S;for(const E in S)if($[E])return!0;return!1}ne.schemaHasRules=s;function o(S,$){if(typeof S=="boolean")return!S;for(const E in S)if(E!=="$ref"&&$.all[E])return!0;return!1}ne.schemaHasRulesButRef=o;function i({topSchemaRef:S,schemaPath:$},E,T,k){if(!k){if(typeof E=="number"||typeof E=="boolean")return E;if(typeof E=="string")return(0,e._)`${E}`}return(0,e._)`${S}${$}${(0,e.getProperty)(T)}`}ne.schemaRefOrVal=i;function c(S){return m(decodeURIComponent(S))}ne.unescapeFragment=c;function u(S){return encodeURIComponent(d(S))}ne.escapeFragment=u;function d(S){return typeof S=="number"?`${S}`:S.replace(/~/g,"~0").replace(/\//g,"~1")}ne.escapeJsonPointer=d;function m(S){return S.replace(/~1/g,"/").replace(/~0/g,"~")}ne.unescapeJsonPointer=m;function l(S,$){if(Array.isArray(S))for(const E of S)$(E);else $(S)}ne.eachItem=l;function h({mergeNames:S,mergeToName:$,mergeValues:E,resultToName:T}){return(k,F,x,q)=>{const U=x===void 0?F:x instanceof e.Name?(F instanceof e.Name?S(k,F,x):$(k,F,x),x):F instanceof e.Name?($(k,x,F),F):E(F,x);return q===e.Name&&!(U instanceof e.Name)?T(k,U):U}}ne.mergeEvaluated={props:h({mergeNames:(S,$,E)=>S.if((0,e._)`${E} !== true && ${$} !== undefined`,()=>{S.if((0,e._)`${$} === true`,()=>S.assign(E,!0),()=>S.assign(E,(0,e._)`${E} || {}`).code((0,e._)`Object.assign(${E}, ${$})`))}),mergeToName:(S,$,E)=>S.if((0,e._)`${E} !== true`,()=>{$===!0?S.assign(E,!0):(S.assign(E,(0,e._)`${E} || {}`),b(S,E,$))}),mergeValues:(S,$)=>S===!0?!0:{...S,...$},resultToName:y}),items:h({mergeNames:(S,$,E)=>S.if((0,e._)`${E} !== true && ${$} !== undefined`,()=>S.assign(E,(0,e._)`${$} === true ? true : ${E} > ${$} ? ${E} : ${$}`)),mergeToName:(S,$,E)=>S.if((0,e._)`${E} !== true`,()=>S.assign(E,$===!0?!0:(0,e._)`${E} > ${$} ? ${E} : ${$}`)),mergeValues:(S,$)=>S===!0?!0:Math.max(S,$),resultToName:(S,$)=>S.var("items",$)})};function y(S,$){if($===!0)return S.var("props",!0);const E=S.var("props",(0,e._)`{}`);return $!==void 0&&b(S,E,$),E}ne.evaluatedPropsToName=y;function b(S,$,E){Object.keys(E).forEach(T=>S.assign((0,e._)`${$}${(0,e.getProperty)(T)}`,!0))}ne.setEvaluated=b;const p={};function g(S,$){return S.scopeValue("func",{ref:$,code:p[$.code]||(p[$.code]=new t._Code($.code))})}ne.useFunc=g;var f;(function(S){S[S.Num=0]="Num",S[S.Str=1]="Str"})(f||(ne.Type=f={}));function _(S,$,E){if(S instanceof e.Name){const T=$===f.Num;return E?T?(0,e._)`"[" + ${S} + "]"`:(0,e._)`"['" + ${S} + "']"`:T?(0,e._)`"/" + ${S}`:(0,e._)`"/" + ${S}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return E?(0,e.getProperty)(S).toString():"/"+d(S)}ne.getErrorPath=_;function v(S,$,E=S.opts.strictSchema){if(E){if($=`strict mode: ${$}`,E===!0)throw new Error($);S.self.logger.warn($)}}return ne.checkStrictMode=v,ne}var It={},ys;function Je(){if(ys)return It;ys=1,Object.defineProperty(It,"__esModule",{value:!0});const e=se(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return It.default=t,It}var gs;function qr(){return gs||(gs=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=se(),r=ce(),n=Je();e.keywordError={message:({keyword:p})=>(0,t.str)`must pass "${p}" keyword validation`},e.keyword$DataError={message:({keyword:p,schemaType:g})=>g?(0,t.str)`"${p}" keyword must be ${g} ($data)`:(0,t.str)`"${p}" keyword is invalid ($data)`};function a(p,g=e.keywordError,f,_){const{it:v}=p,{gen:S,compositeRule:$,allErrors:E}=v,T=m(p,g,f);_??($||E)?c(S,T):u(v,(0,t._)`[${T}]`)}e.reportError=a;function s(p,g=e.keywordError,f){const{it:_}=p,{gen:v,compositeRule:S,allErrors:$}=_,E=m(p,g,f);c(v,E),S||$||u(_,n.default.vErrors)}e.reportExtraError=s;function o(p,g){p.assign(n.default.errors,g),p.if((0,t._)`${n.default.vErrors} !== null`,()=>p.if(g,()=>p.assign((0,t._)`${n.default.vErrors}.length`,g),()=>p.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function i({gen:p,keyword:g,schemaValue:f,data:_,errsCount:v,it:S}){if(v===void 0)throw new Error("ajv implementation error");const $=p.name("err");p.forRange("i",v,n.default.errors,E=>{p.const($,(0,t._)`${n.default.vErrors}[${E}]`),p.if((0,t._)`${$}.instancePath === undefined`,()=>p.assign((0,t._)`${$}.instancePath`,(0,t.strConcat)(n.default.instancePath,S.errorPath))),p.assign((0,t._)`${$}.schemaPath`,(0,t.str)`${S.errSchemaPath}/${g}`),S.opts.verbose&&(p.assign((0,t._)`${$}.schema`,f),p.assign((0,t._)`${$}.data`,_))})}e.extendErrors=i;function c(p,g){const f=p.const("err",g);p.if((0,t._)`${n.default.vErrors} === null`,()=>p.assign(n.default.vErrors,(0,t._)`[${f}]`),(0,t._)`${n.default.vErrors}.push(${f})`),p.code((0,t._)`${n.default.errors}++`)}function u(p,g){const{gen:f,validateName:_,schemaEnv:v}=p;v.$async?f.throw((0,t._)`new ${p.ValidationError}(${g})`):(f.assign((0,t._)`${_}.errors`,g),f.return(!1))}const d={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function m(p,g,f){const{createErrors:_}=p.it;return _===!1?(0,t._)`{}`:l(p,g,f)}function l(p,g,f={}){const{gen:_,it:v}=p,S=[h(v,f),y(p,f)];return b(p,g,S),_.object(...S)}function h({errorPath:p},{instancePath:g}){const f=g?(0,t.str)`${p}${(0,r.getErrorPath)(g,r.Type.Str)}`:p;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,f)]}function y({keyword:p,it:{errSchemaPath:g}},{schemaPath:f,parentSchema:_}){let v=_?g:(0,t.str)`${g}/${p}`;return f&&(v=(0,t.str)`${v}${(0,r.getErrorPath)(f,r.Type.Str)}`),[d.schemaPath,v]}function b(p,{params:g,message:f},_){const{keyword:v,data:S,schemaValue:$,it:E}=p,{opts:T,propertyName:k,topSchemaRef:F,schemaPath:x}=E;_.push([d.keyword,v],[d.params,typeof g=="function"?g(p):g||(0,t._)`{}`]),T.messages&&_.push([d.message,typeof f=="function"?f(p):f]),T.verbose&&_.push([d.schema,$],[d.parentSchema,(0,t._)`${F}${x}`],[n.default.data,S]),k&&_.push([d.propertyName,k])}}(sn)),sn}var vs;function Zd(){if(vs)return Ye;vs=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.boolOrEmptySchema=Ye.topBoolOrEmptySchema=void 0;const e=qr(),t=se(),r=Je(),n={message:"boolean schema is false"};function a(i){const{gen:c,schema:u,validateName:d}=i;u===!1?o(i,!1):typeof u=="object"&&u.$async===!0?c.return(r.default.data):(c.assign((0,t._)`${d}.errors`,null),c.return(!0))}Ye.topBoolOrEmptySchema=a;function s(i,c){const{gen:u,schema:d}=i;d===!1?(u.var(c,!1),o(i)):u.var(c,!0)}Ye.boolOrEmptySchema=s;function o(i,c){const{gen:u,data:d}=i,m={gen:u,keyword:"false schema",data:d,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:i};(0,e.reportError)(m,n,void 0,c)}return Ye}var Se={},Xe={},_s;function Ci(){if(_s)return Xe;_s=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.getRules=Xe.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function r(a){return typeof a=="string"&&t.has(a)}Xe.isJSONType=r;function n(){const a={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...a,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},a.number,a.string,a.array,a.object],post:{rules:[]},all:{},keywords:{}}}return Xe.getRules=n,Xe}var Le={},$s;function Ti(){if($s)return Le;$s=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.shouldUseRule=Le.shouldUseGroup=Le.schemaHasRulesForType=void 0;function e({schema:n,self:a},s){const o=a.RULES.types[s];return o&&o!==!0&&t(n,o)}Le.schemaHasRulesForType=e;function t(n,a){return a.rules.some(s=>r(n,s))}Le.shouldUseGroup=t;function r(n,a){var s;return n[a.keyword]!==void 0||((s=a.definition.implements)===null||s===void 0?void 0:s.some(o=>n[o]!==void 0))}return Le.shouldUseRule=r,Le}var bs;function Pr(){if(bs)return Se;bs=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.reportTypeError=Se.checkDataTypes=Se.checkDataType=Se.coerceAndCheckDataType=Se.getJSONTypes=Se.getSchemaTypes=Se.DataType=void 0;const e=Ci(),t=Ti(),r=qr(),n=se(),a=ce();var s;(function(f){f[f.Correct=0]="Correct",f[f.Wrong=1]="Wrong"})(s||(Se.DataType=s={}));function o(f){const _=i(f.type);if(_.includes("null")){if(f.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!_.length&&f.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');f.nullable===!0&&_.push("null")}return _}Se.getSchemaTypes=o;function i(f){const _=Array.isArray(f)?f:f?[f]:[];if(_.every(e.isJSONType))return _;throw new Error("type must be JSONType or JSONType[]: "+_.join(","))}Se.getJSONTypes=i;function c(f,_){const{gen:v,data:S,opts:$}=f,E=d(_,$.coerceTypes),T=_.length>0&&!(E.length===0&&_.length===1&&(0,t.schemaHasRulesForType)(f,_[0]));if(T){const k=y(_,S,$.strictNumbers,s.Wrong);v.if(k,()=>{E.length?m(f,_,E):p(f)})}return T}Se.coerceAndCheckDataType=c;const u=new Set(["string","number","integer","boolean","null"]);function d(f,_){return _?f.filter(v=>u.has(v)||_==="array"&&v==="array"):[]}function m(f,_,v){const{gen:S,data:$,opts:E}=f,T=S.let("dataType",(0,n._)`typeof ${$}`),k=S.let("coerced",(0,n._)`undefined`);E.coerceTypes==="array"&&S.if((0,n._)`${T} == 'object' && Array.isArray(${$}) && ${$}.length == 1`,()=>S.assign($,(0,n._)`${$}[0]`).assign(T,(0,n._)`typeof ${$}`).if(y(_,$,E.strictNumbers),()=>S.assign(k,$))),S.if((0,n._)`${k} !== undefined`);for(const x of v)(u.has(x)||x==="array"&&E.coerceTypes==="array")&&F(x);S.else(),p(f),S.endIf(),S.if((0,n._)`${k} !== undefined`,()=>{S.assign($,k),l(f,k)});function F(x){switch(x){case"string":S.elseIf((0,n._)`${T} == "number" || ${T} == "boolean"`).assign(k,(0,n._)`"" + ${$}`).elseIf((0,n._)`${$} === null`).assign(k,(0,n._)`""`);return;case"number":S.elseIf((0,n._)`${T} == "boolean" || ${$} === null
              || (${T} == "string" && ${$} && ${$} == +${$})`).assign(k,(0,n._)`+${$}`);return;case"integer":S.elseIf((0,n._)`${T} === "boolean" || ${$} === null
              || (${T} === "string" && ${$} && ${$} == +${$} && !(${$} % 1))`).assign(k,(0,n._)`+${$}`);return;case"boolean":S.elseIf((0,n._)`${$} === "false" || ${$} === 0 || ${$} === null`).assign(k,!1).elseIf((0,n._)`${$} === "true" || ${$} === 1`).assign(k,!0);return;case"null":S.elseIf((0,n._)`${$} === "" || ${$} === 0 || ${$} === false`),S.assign(k,null);return;case"array":S.elseIf((0,n._)`${T} === "string" || ${T} === "number"
              || ${T} === "boolean" || ${$} === null`).assign(k,(0,n._)`[${$}]`)}}}function l({gen:f,parentData:_,parentDataProperty:v},S){f.if((0,n._)`${_} !== undefined`,()=>f.assign((0,n._)`${_}[${v}]`,S))}function h(f,_,v,S=s.Correct){const $=S===s.Correct?n.operators.EQ:n.operators.NEQ;let E;switch(f){case"null":return(0,n._)`${_} ${$} null`;case"array":E=(0,n._)`Array.isArray(${_})`;break;case"object":E=(0,n._)`${_} && typeof ${_} == "object" && !Array.isArray(${_})`;break;case"integer":E=T((0,n._)`!(${_} % 1) && !isNaN(${_})`);break;case"number":E=T();break;default:return(0,n._)`typeof ${_} ${$} ${f}`}return S===s.Correct?E:(0,n.not)(E);function T(k=n.nil){return(0,n.and)((0,n._)`typeof ${_} == "number"`,k,v?(0,n._)`isFinite(${_})`:n.nil)}}Se.checkDataType=h;function y(f,_,v,S){if(f.length===1)return h(f[0],_,v,S);let $;const E=(0,a.toHash)(f);if(E.array&&E.object){const T=(0,n._)`typeof ${_} != "object"`;$=E.null?T:(0,n._)`!${_} || ${T}`,delete E.null,delete E.array,delete E.object}else $=n.nil;E.number&&delete E.integer;for(const T in E)$=(0,n.and)($,h(T,_,v,S));return $}Se.checkDataTypes=y;const b={message:({schema:f})=>`must be ${f}`,params:({schema:f,schemaValue:_})=>typeof f=="string"?(0,n._)`{type: ${f}}`:(0,n._)`{type: ${_}}`};function p(f){const _=g(f);(0,r.reportError)(_,b)}Se.reportTypeError=p;function g(f){const{gen:_,data:v,schema:S}=f,$=(0,a.schemaRefOrVal)(f,S,"type");return{gen:_,keyword:"type",data:v,schema:S.type,schemaCode:$,schemaValue:$,parentSchema:S,params:{},it:f}}return Se}var $t={},Ss;function eu(){if(Ss)return $t;Ss=1,Object.defineProperty($t,"__esModule",{value:!0}),$t.assignDefaults=void 0;const e=se(),t=ce();function r(a,s){const{properties:o,items:i}=a.schema;if(s==="object"&&o)for(const c in o)n(a,c,o[c].default);else s==="array"&&Array.isArray(i)&&i.forEach((c,u)=>n(a,u,c.default))}$t.assignDefaults=r;function n(a,s,o){const{gen:i,compositeRule:c,data:u,opts:d}=a;if(o===void 0)return;const m=(0,e._)`${u}${(0,e.getProperty)(s)}`;if(c){(0,t.checkStrictMode)(a,`default is ignored for: ${m}`);return}let l=(0,e._)`${m} === undefined`;d.useDefaults==="empty"&&(l=(0,e._)`${l} || ${m} === null || ${m} === ""`),i.if(l,(0,e._)`${m} = ${(0,e.stringify)(o)}`)}return $t}var Ne={},ue={},ws;function xe(){if(ws)return ue;ws=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.validateUnion=ue.validateArray=ue.usePattern=ue.callValidateCode=ue.schemaProperties=ue.allSchemaProperties=ue.noPropertyInData=ue.propertyInData=ue.isOwnProperty=ue.hasPropFunc=ue.reportMissingProp=ue.checkMissingProp=ue.checkReportMissingProp=void 0;const e=se(),t=ce(),r=Je(),n=ce();function a(f,_){const{gen:v,data:S,it:$}=f;v.if(d(v,S,_,$.opts.ownProperties),()=>{f.setParams({missingProperty:(0,e._)`${_}`},!0),f.error()})}ue.checkReportMissingProp=a;function s({gen:f,data:_,it:{opts:v}},S,$){return(0,e.or)(...S.map(E=>(0,e.and)(d(f,_,E,v.ownProperties),(0,e._)`${$} = ${E}`)))}ue.checkMissingProp=s;function o(f,_){f.setParams({missingProperty:_},!0),f.error()}ue.reportMissingProp=o;function i(f){return f.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}ue.hasPropFunc=i;function c(f,_,v){return(0,e._)`${i(f)}.call(${_}, ${v})`}ue.isOwnProperty=c;function u(f,_,v,S){const $=(0,e._)`${_}${(0,e.getProperty)(v)} !== undefined`;return S?(0,e._)`${$} && ${c(f,_,v)}`:$}ue.propertyInData=u;function d(f,_,v,S){const $=(0,e._)`${_}${(0,e.getProperty)(v)} === undefined`;return S?(0,e.or)($,(0,e.not)(c(f,_,v))):$}ue.noPropertyInData=d;function m(f){return f?Object.keys(f).filter(_=>_!=="__proto__"):[]}ue.allSchemaProperties=m;function l(f,_){return m(_).filter(v=>!(0,t.alwaysValidSchema)(f,_[v]))}ue.schemaProperties=l;function h({schemaCode:f,data:_,it:{gen:v,topSchemaRef:S,schemaPath:$,errorPath:E},it:T},k,F,x){const q=x?(0,e._)`${f}, ${_}, ${S}${$}`:_,U=[[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,E)],[r.default.parentData,T.parentData],[r.default.parentDataProperty,T.parentDataProperty],[r.default.rootData,r.default.rootData]];T.opts.dynamicRef&&U.push([r.default.dynamicAnchors,r.default.dynamicAnchors]);const B=(0,e._)`${q}, ${v.object(...U)}`;return F!==e.nil?(0,e._)`${k}.call(${F}, ${B})`:(0,e._)`${k}(${B})`}ue.callValidateCode=h;const y=(0,e._)`new RegExp`;function b({gen:f,it:{opts:_}},v){const S=_.unicodeRegExp?"u":"",{regExp:$}=_.code,E=$(v,S);return f.scopeValue("pattern",{key:E.toString(),ref:E,code:(0,e._)`${$.code==="new RegExp"?y:(0,n.useFunc)(f,$)}(${v}, ${S})`})}ue.usePattern=b;function p(f){const{gen:_,data:v,keyword:S,it:$}=f,E=_.name("valid");if($.allErrors){const k=_.let("valid",!0);return T(()=>_.assign(k,!1)),k}return _.var(E,!0),T(()=>_.break()),E;function T(k){const F=_.const("len",(0,e._)`${v}.length`);_.forRange("i",0,F,x=>{f.subschema({keyword:S,dataProp:x,dataPropType:t.Type.Num},E),_.if((0,e.not)(E),k)})}}ue.validateArray=p;function g(f){const{gen:_,schema:v,keyword:S,it:$}=f;if(!Array.isArray(v))throw new Error("ajv implementation error");if(v.some(F=>(0,t.alwaysValidSchema)($,F))&&!$.opts.unevaluated)return;const T=_.let("valid",!1),k=_.name("_valid");_.block(()=>v.forEach((F,x)=>{const q=f.subschema({keyword:S,schemaProp:x,compositeRule:!0},k);_.assign(T,(0,e._)`${T} || ${k}`),f.mergeValidEvaluated(q,k)||_.if((0,e.not)(T))})),f.result(T,()=>f.reset(),()=>f.error(!0))}return ue.validateUnion=g,ue}var Es;function tu(){if(Es)return Ne;Es=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.validateKeywordUsage=Ne.validSchemaType=Ne.funcKeywordCode=Ne.macroKeywordCode=void 0;const e=se(),t=Je(),r=xe(),n=qr();function a(l,h){const{gen:y,keyword:b,schema:p,parentSchema:g,it:f}=l,_=h.macro.call(f.self,p,g,f),v=u(y,b,_);f.opts.validateSchema!==!1&&f.self.validateSchema(_,!0);const S=y.name("valid");l.subschema({schema:_,schemaPath:e.nil,errSchemaPath:`${f.errSchemaPath}/${b}`,topSchemaRef:v,compositeRule:!0},S),l.pass(S,()=>l.error(!0))}Ne.macroKeywordCode=a;function s(l,h){var y;const{gen:b,keyword:p,schema:g,parentSchema:f,$data:_,it:v}=l;c(v,h);const S=!_&&h.compile?h.compile.call(v.self,g,f,v):h.validate,$=u(b,p,S),E=b.let("valid");l.block$data(E,T),l.ok((y=h.valid)!==null&&y!==void 0?y:E);function T(){if(h.errors===!1)x(),h.modifying&&o(l),q(()=>l.error());else{const U=h.async?k():F();h.modifying&&o(l),q(()=>i(l,U))}}function k(){const U=b.let("ruleErrs",null);return b.try(()=>x((0,e._)`await `),B=>b.assign(E,!1).if((0,e._)`${B} instanceof ${v.ValidationError}`,()=>b.assign(U,(0,e._)`${B}.errors`),()=>b.throw(B))),U}function F(){const U=(0,e._)`${$}.errors`;return b.assign(U,null),x(e.nil),U}function x(U=h.async?(0,e._)`await `:e.nil){const B=v.opts.passContext?t.default.this:t.default.self,W=!("compile"in h&&!_||h.schema===!1);b.assign(E,(0,e._)`${U}${(0,r.callValidateCode)(l,$,B,W)}`,h.modifying)}function q(U){var B;b.if((0,e.not)((B=h.valid)!==null&&B!==void 0?B:E),U)}}Ne.funcKeywordCode=s;function o(l){const{gen:h,data:y,it:b}=l;h.if(b.parentData,()=>h.assign(y,(0,e._)`${b.parentData}[${b.parentDataProperty}]`))}function i(l,h){const{gen:y}=l;y.if((0,e._)`Array.isArray(${h})`,()=>{y.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${h} : ${t.default.vErrors}.concat(${h})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,n.extendErrors)(l)},()=>l.error())}function c({schemaEnv:l},h){if(h.async&&!l.$async)throw new Error("async keyword in sync schema")}function u(l,h,y){if(y===void 0)throw new Error(`keyword "${h}" failed to compile`);return l.scopeValue("keyword",typeof y=="function"?{ref:y}:{ref:y,code:(0,e.stringify)(y)})}function d(l,h,y=!1){return!h.length||h.some(b=>b==="array"?Array.isArray(l):b==="object"?l&&typeof l=="object"&&!Array.isArray(l):typeof l==b||y&&typeof l>"u")}Ne.validSchemaType=d;function m({schema:l,opts:h,self:y,errSchemaPath:b},p,g){if(Array.isArray(p.keyword)?!p.keyword.includes(g):p.keyword!==g)throw new Error("ajv implementation error");const f=p.dependencies;if(f!=null&&f.some(_=>!Object.prototype.hasOwnProperty.call(l,_)))throw new Error(`parent schema must have dependencies of ${g}: ${f.join(",")}`);if(p.validateSchema&&!p.validateSchema(l[g])){const v=`keyword "${g}" value is invalid at path "${b}": `+y.errorsText(p.validateSchema.errors);if(h.validateSchema==="log")y.logger.error(v);else throw new Error(v)}}return Ne.validateKeywordUsage=m,Ne}var ze={},js;function ru(){if(js)return ze;js=1,Object.defineProperty(ze,"__esModule",{value:!0}),ze.extendSubschemaMode=ze.extendSubschemaData=ze.getSubschema=void 0;const e=se(),t=ce();function r(s,{keyword:o,schemaProp:i,schema:c,schemaPath:u,errSchemaPath:d,topSchemaRef:m}){if(o!==void 0&&c!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const l=s.schema[o];return i===void 0?{schema:l,schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(o)}`,errSchemaPath:`${s.errSchemaPath}/${o}`}:{schema:l[i],schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(o)}${(0,e.getProperty)(i)}`,errSchemaPath:`${s.errSchemaPath}/${o}/${(0,t.escapeFragment)(i)}`}}if(c!==void 0){if(u===void 0||d===void 0||m===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:c,schemaPath:u,topSchemaRef:m,errSchemaPath:d}}throw new Error('either "keyword" or "schema" must be passed')}ze.getSubschema=r;function n(s,o,{dataProp:i,dataPropType:c,data:u,dataTypes:d,propertyName:m}){if(u!==void 0&&i!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:l}=o;if(i!==void 0){const{errorPath:y,dataPathArr:b,opts:p}=o,g=l.let("data",(0,e._)`${o.data}${(0,e.getProperty)(i)}`,!0);h(g),s.errorPath=(0,e.str)`${y}${(0,t.getErrorPath)(i,c,p.jsPropertySyntax)}`,s.parentDataProperty=(0,e._)`${i}`,s.dataPathArr=[...b,s.parentDataProperty]}if(u!==void 0){const y=u instanceof e.Name?u:l.let("data",u,!0);h(y),m!==void 0&&(s.propertyName=m)}d&&(s.dataTypes=d);function h(y){s.data=y,s.dataLevel=o.dataLevel+1,s.dataTypes=[],o.definedProperties=new Set,s.parentData=o.data,s.dataNames=[...o.dataNames,y]}}ze.extendSubschemaData=n;function a(s,{jtdDiscriminator:o,jtdMetadata:i,compositeRule:c,createErrors:u,allErrors:d}){c!==void 0&&(s.compositeRule=c),u!==void 0&&(s.createErrors=u),d!==void 0&&(s.allErrors=d),s.jtdDiscriminator=o,s.jtdMetadata=i}return ze.extendSubschemaMode=a,ze}var we={},ln={exports:{}},Cs;function nu(){if(Cs)return ln.exports;Cs=1;var e=ln.exports=function(n,a,s){typeof a=="function"&&(s=a,a={}),s=a.cb||s;var o=typeof s=="function"?s:s.pre||function(){},i=s.post||function(){};t(a,o,i,n,"",n)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(n,a,s,o,i,c,u,d,m,l){if(o&&typeof o=="object"&&!Array.isArray(o)){a(o,i,c,u,d,m,l);for(var h in o){var y=o[h];if(Array.isArray(y)){if(h in e.arrayKeywords)for(var b=0;b<y.length;b++)t(n,a,s,y[b],i+"/"+h+"/"+b,c,i,h,o,b)}else if(h in e.propsKeywords){if(y&&typeof y=="object")for(var p in y)t(n,a,s,y[p],i+"/"+h+"/"+r(p),c,i,h,o,p)}else(h in e.keywords||n.allKeys&&!(h in e.skipKeywords))&&t(n,a,s,y,i+"/"+h,c,i,h,o)}s(o,i,c,u,d,m,l)}}function r(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}return ln.exports}var Ts;function Ur(){if(Ts)return we;Ts=1,Object.defineProperty(we,"__esModule",{value:!0}),we.getSchemaRefs=we.resolveUrl=we.normalizeId=we._getFullPath=we.getFullPath=we.inlineRef=void 0;const e=ce(),t=za(),r=nu(),n=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function a(b,p=!0){return typeof b=="boolean"?!0:p===!0?!o(b):p?i(b)<=p:!1}we.inlineRef=a;const s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function o(b){for(const p in b){if(s.has(p))return!0;const g=b[p];if(Array.isArray(g)&&g.some(o)||typeof g=="object"&&o(g))return!0}return!1}function i(b){let p=0;for(const g in b){if(g==="$ref")return 1/0;if(p++,!n.has(g)&&(typeof b[g]=="object"&&(0,e.eachItem)(b[g],f=>p+=i(f)),p===1/0))return 1/0}return p}function c(b,p="",g){g!==!1&&(p=m(p));const f=b.parse(p);return u(b,f)}we.getFullPath=c;function u(b,p){return b.serialize(p).split("#")[0]+"#"}we._getFullPath=u;const d=/#\/?$/;function m(b){return b?b.replace(d,""):""}we.normalizeId=m;function l(b,p,g){return g=m(g),b.resolve(p,g)}we.resolveUrl=l;const h=/^[a-z_][-a-z0-9._]*$/i;function y(b,p){if(typeof b=="boolean")return{};const{schemaId:g,uriResolver:f}=this.opts,_=m(b[g]||p),v={"":_},S=c(f,_,!1),$={},E=new Set;return r(b,{allKeys:!0},(F,x,q,U)=>{if(U===void 0)return;const B=S+x;let W=v[U];typeof F[g]=="string"&&(W=L.call(this,F[g])),te.call(this,F.$anchor),te.call(this,F.$dynamicAnchor),v[x]=W;function L(G){const re=this.opts.uriResolver.resolve;if(G=m(W?re(W,G):G),E.has(G))throw k(G);E.add(G);let D=this.refs[G];return typeof D=="string"&&(D=this.refs[D]),typeof D=="object"?T(F,D.schema,G):G!==m(B)&&(G[0]==="#"?(T(F,$[G],G),$[G]=F):this.refs[G]=B),G}function te(G){if(typeof G=="string"){if(!h.test(G))throw new Error(`invalid anchor "${G}"`);L.call(this,`#${G}`)}}}),$;function T(F,x,q){if(x!==void 0&&!t(F,x))throw k(q)}function k(F){return new Error(`reference "${F}" resolves to more than one schema`)}}return we.getSchemaRefs=y,we}var Os;function Vr(){if(Os)return Be;Os=1,Object.defineProperty(Be,"__esModule",{value:!0}),Be.getData=Be.KeywordCxt=Be.validateFunctionCode=void 0;const e=Zd(),t=Pr(),r=Ti(),n=Pr(),a=eu(),s=tu(),o=ru(),i=se(),c=Je(),u=Ur(),d=ce(),m=qr();function l(P){if(S(P)&&(E(P),v(P))){p(P);return}h(P,()=>(0,e.topBoolOrEmptySchema)(P))}Be.validateFunctionCode=l;function h({gen:P,validateName:I,schema:M,schemaEnv:V,opts:H},Z){H.code.es5?P.func(I,(0,i._)`${c.default.data}, ${c.default.valCxt}`,V.$async,()=>{P.code((0,i._)`"use strict"; ${f(M,H)}`),b(P,H),P.code(Z)}):P.func(I,(0,i._)`${c.default.data}, ${y(H)}`,V.$async,()=>P.code(f(M,H)).code(Z))}function y(P){return(0,i._)`{${c.default.instancePath}="", ${c.default.parentData}, ${c.default.parentDataProperty}, ${c.default.rootData}=${c.default.data}${P.dynamicRef?(0,i._)`, ${c.default.dynamicAnchors}={}`:i.nil}}={}`}function b(P,I){P.if(c.default.valCxt,()=>{P.var(c.default.instancePath,(0,i._)`${c.default.valCxt}.${c.default.instancePath}`),P.var(c.default.parentData,(0,i._)`${c.default.valCxt}.${c.default.parentData}`),P.var(c.default.parentDataProperty,(0,i._)`${c.default.valCxt}.${c.default.parentDataProperty}`),P.var(c.default.rootData,(0,i._)`${c.default.valCxt}.${c.default.rootData}`),I.dynamicRef&&P.var(c.default.dynamicAnchors,(0,i._)`${c.default.valCxt}.${c.default.dynamicAnchors}`)},()=>{P.var(c.default.instancePath,(0,i._)`""`),P.var(c.default.parentData,(0,i._)`undefined`),P.var(c.default.parentDataProperty,(0,i._)`undefined`),P.var(c.default.rootData,c.default.data),I.dynamicRef&&P.var(c.default.dynamicAnchors,(0,i._)`{}`)})}function p(P){const{schema:I,opts:M,gen:V}=P;h(P,()=>{M.$comment&&I.$comment&&U(P),F(P),V.let(c.default.vErrors,null),V.let(c.default.errors,0),M.unevaluated&&g(P),T(P),B(P)})}function g(P){const{gen:I,validateName:M}=P;P.evaluated=I.const("evaluated",(0,i._)`${M}.evaluated`),I.if((0,i._)`${P.evaluated}.dynamicProps`,()=>I.assign((0,i._)`${P.evaluated}.props`,(0,i._)`undefined`)),I.if((0,i._)`${P.evaluated}.dynamicItems`,()=>I.assign((0,i._)`${P.evaluated}.items`,(0,i._)`undefined`))}function f(P,I){const M=typeof P=="object"&&P[I.schemaId];return M&&(I.code.source||I.code.process)?(0,i._)`/*# sourceURL=${M} */`:i.nil}function _(P,I){if(S(P)&&(E(P),v(P))){$(P,I);return}(0,e.boolOrEmptySchema)(P,I)}function v({schema:P,self:I}){if(typeof P=="boolean")return!P;for(const M in P)if(I.RULES.all[M])return!0;return!1}function S(P){return typeof P.schema!="boolean"}function $(P,I){const{schema:M,gen:V,opts:H}=P;H.$comment&&M.$comment&&U(P),x(P),q(P);const Z=V.const("_errs",c.default.errors);T(P,Z),V.var(I,(0,i._)`${Z} === ${c.default.errors}`)}function E(P){(0,d.checkUnknownRules)(P),k(P)}function T(P,I){if(P.opts.jtd)return L(P,[],!1,I);const M=(0,t.getSchemaTypes)(P.schema),V=(0,t.coerceAndCheckDataType)(P,M);L(P,M,!V,I)}function k(P){const{schema:I,errSchemaPath:M,opts:V,self:H}=P;I.$ref&&V.ignoreKeywordsWithRef&&(0,d.schemaHasRulesButRef)(I,H.RULES)&&H.logger.warn(`$ref: keywords ignored in schema at path "${M}"`)}function F(P){const{schema:I,opts:M}=P;I.default!==void 0&&M.useDefaults&&M.strictSchema&&(0,d.checkStrictMode)(P,"default is ignored in the schema root")}function x(P){const I=P.schema[P.opts.schemaId];I&&(P.baseId=(0,u.resolveUrl)(P.opts.uriResolver,P.baseId,I))}function q(P){if(P.schema.$async&&!P.schemaEnv.$async)throw new Error("async schema in sync schema")}function U({gen:P,schemaEnv:I,schema:M,errSchemaPath:V,opts:H}){const Z=M.$comment;if(H.$comment===!0)P.code((0,i._)`${c.default.self}.logger.log(${Z})`);else if(typeof H.$comment=="function"){const ge=(0,i.str)`${V}/$comment`,ve=P.scopeValue("root",{ref:I.root});P.code((0,i._)`${c.default.self}.opts.$comment(${Z}, ${ge}, ${ve}.schema)`)}}function B(P){const{gen:I,schemaEnv:M,validateName:V,ValidationError:H,opts:Z}=P;M.$async?I.if((0,i._)`${c.default.errors} === 0`,()=>I.return(c.default.data),()=>I.throw((0,i._)`new ${H}(${c.default.vErrors})`)):(I.assign((0,i._)`${V}.errors`,c.default.vErrors),Z.unevaluated&&W(P),I.return((0,i._)`${c.default.errors} === 0`))}function W({gen:P,evaluated:I,props:M,items:V}){M instanceof i.Name&&P.assign((0,i._)`${I}.props`,M),V instanceof i.Name&&P.assign((0,i._)`${I}.items`,V)}function L(P,I,M,V){const{gen:H,schema:Z,data:ge,allErrors:ve,opts:je,self:Ce}=P,{RULES:be}=Ce;if(Z.$ref&&(je.ignoreKeywordsWithRef||!(0,d.schemaHasRulesButRef)(Z,be))){H.block(()=>K(P,"$ref",be.all.$ref.definition));return}je.jtd||G(P,I),H.block(()=>{for(const Pe of be.rules)ct(Pe);ct(be.post)});function ct(Pe){(0,r.shouldUseGroup)(Z,Pe)&&(Pe.type?(H.if((0,n.checkDataType)(Pe.type,ge,je.strictNumbers)),te(P,Pe),I.length===1&&I[0]===Pe.type&&M&&(H.else(),(0,n.reportTypeError)(P)),H.endIf()):te(P,Pe),ve||H.if((0,i._)`${c.default.errors} === ${V||0}`))}}function te(P,I){const{gen:M,schema:V,opts:{useDefaults:H}}=P;H&&(0,a.assignDefaults)(P,I.type),M.block(()=>{for(const Z of I.rules)(0,r.shouldUseRule)(V,Z)&&K(P,Z.keyword,Z.definition,I.type)})}function G(P,I){P.schemaEnv.meta||!P.opts.strictTypes||(re(P,I),P.opts.allowUnionTypes||D(P,I),O(P,P.dataTypes))}function re(P,I){if(I.length){if(!P.dataTypes.length){P.dataTypes=I;return}I.forEach(M=>{N(P.dataTypes,M)||C(P,`type "${M}" not allowed by context "${P.dataTypes.join(",")}"`)}),w(P,I)}}function D(P,I){I.length>1&&!(I.length===2&&I.includes("null"))&&C(P,"use allowUnionTypes to allow union type keyword")}function O(P,I){const M=P.self.RULES.all;for(const V in M){const H=M[V];if(typeof H=="object"&&(0,r.shouldUseRule)(P.schema,H)){const{type:Z}=H.definition;Z.length&&!Z.some(ge=>R(I,ge))&&C(P,`missing type "${Z.join(",")}" for keyword "${V}"`)}}}function R(P,I){return P.includes(I)||I==="number"&&P.includes("integer")}function N(P,I){return P.includes(I)||I==="integer"&&P.includes("number")}function w(P,I){const M=[];for(const V of P.dataTypes)N(I,V)?M.push(V):I.includes("integer")&&V==="number"&&M.push("integer");P.dataTypes=M}function C(P,I){const M=P.schemaEnv.baseId+P.errSchemaPath;I+=` at "${M}" (strictTypes)`,(0,d.checkStrictMode)(P,I,P.opts.strictTypes)}class A{constructor(I,M,V){if((0,s.validateKeywordUsage)(I,M,V),this.gen=I.gen,this.allErrors=I.allErrors,this.keyword=V,this.data=I.data,this.schema=I.schema[V],this.$data=M.$data&&I.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,d.schemaRefOrVal)(I,this.schema,V,this.$data),this.schemaType=M.schemaType,this.parentSchema=I.schema,this.params={},this.it=I,this.def=M,this.$data)this.schemaCode=I.gen.const("vSchema",ae(this.$data,I));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,M.schemaType,M.allowUndefined))throw new Error(`${V} value must be ${JSON.stringify(M.schemaType)}`);("code"in M?M.trackErrors:M.errors!==!1)&&(this.errsCount=I.gen.const("_errs",c.default.errors))}result(I,M,V){this.failResult((0,i.not)(I),M,V)}failResult(I,M,V){this.gen.if(I),V?V():this.error(),M?(this.gen.else(),M(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(I,M){this.failResult((0,i.not)(I),void 0,M)}fail(I){if(I===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(I),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(I){if(!this.$data)return this.fail(I);const{schemaCode:M}=this;this.fail((0,i._)`${M} !== undefined && (${(0,i.or)(this.invalid$data(),I)})`)}error(I,M,V){if(M){this.setParams(M),this._error(I,V),this.setParams({});return}this._error(I,V)}_error(I,M){(I?m.reportExtraError:m.reportError)(this,this.def.error,M)}$dataError(){(0,m.reportError)(this,this.def.$dataError||m.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,m.resetErrorsCount)(this.gen,this.errsCount)}ok(I){this.allErrors||this.gen.if(I)}setParams(I,M){M?Object.assign(this.params,I):this.params=I}block$data(I,M,V=i.nil){this.gen.block(()=>{this.check$data(I,V),M()})}check$data(I=i.nil,M=i.nil){if(!this.$data)return;const{gen:V,schemaCode:H,schemaType:Z,def:ge}=this;V.if((0,i.or)((0,i._)`${H} === undefined`,M)),I!==i.nil&&V.assign(I,!0),(Z.length||ge.validateSchema)&&(V.elseIf(this.invalid$data()),this.$dataError(),I!==i.nil&&V.assign(I,!1)),V.else()}invalid$data(){const{gen:I,schemaCode:M,schemaType:V,def:H,it:Z}=this;return(0,i.or)(ge(),ve());function ge(){if(V.length){if(!(M instanceof i.Name))throw new Error("ajv implementation error");const je=Array.isArray(V)?V:[V];return(0,i._)`${(0,n.checkDataTypes)(je,M,Z.opts.strictNumbers,n.DataType.Wrong)}`}return i.nil}function ve(){if(H.validateSchema){const je=I.scopeValue("validate$data",{ref:H.validateSchema});return(0,i._)`!${je}(${M})`}return i.nil}}subschema(I,M){const V=(0,o.getSubschema)(this.it,I);(0,o.extendSubschemaData)(V,this.it,I),(0,o.extendSubschemaMode)(V,I);const H={...this.it,...V,items:void 0,props:void 0};return _(H,M),H}mergeEvaluated(I,M){const{it:V,gen:H}=this;V.opts.unevaluated&&(V.props!==!0&&I.props!==void 0&&(V.props=d.mergeEvaluated.props(H,I.props,V.props,M)),V.items!==!0&&I.items!==void 0&&(V.items=d.mergeEvaluated.items(H,I.items,V.items,M)))}mergeValidEvaluated(I,M){const{it:V,gen:H}=this;if(V.opts.unevaluated&&(V.props!==!0||V.items!==!0))return H.if(M,()=>this.mergeEvaluated(I,i.Name)),!0}}Be.KeywordCxt=A;function K(P,I,M,V){const H=new A(P,M,I);"code"in M?M.code(H,V):H.$data&&M.validate?(0,s.funcKeywordCode)(H,M):"macro"in M?(0,s.macroKeywordCode)(H,M):(M.compile||M.validate)&&(0,s.funcKeywordCode)(H,M)}const J=/^\/(?:[^~]|~0|~1)*$/,ie=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ae(P,{dataLevel:I,dataNames:M,dataPathArr:V}){let H,Z;if(P==="")return c.default.rootData;if(P[0]==="/"){if(!J.test(P))throw new Error(`Invalid JSON-pointer: ${P}`);H=P,Z=c.default.rootData}else{const Ce=ie.exec(P);if(!Ce)throw new Error(`Invalid JSON-pointer: ${P}`);const be=+Ce[1];if(H=Ce[2],H==="#"){if(be>=I)throw new Error(je("property/index",be));return V[I-be]}if(be>I)throw new Error(je("data",be));if(Z=M[I-be],!H)return Z}let ge=Z;const ve=H.split("/");for(const Ce of ve)Ce&&(Z=(0,i._)`${Z}${(0,i.getProperty)((0,d.unescapeJsonPointer)(Ce))}`,ge=(0,i._)`${ge} && ${Z}`);return ge;function je(Ce,be){return`Cannot access ${Ce} ${be} levels up, current level is ${I}`}}return Be.getData=ae,Be}var xt={},ks;function In(){if(ks)return xt;ks=1,Object.defineProperty(xt,"__esModule",{value:!0});class e extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return xt.default=e,xt}var At={},Ps;function Br(){if(Ps)return At;Ps=1,Object.defineProperty(At,"__esModule",{value:!0});const e=Ur();class t extends Error{constructor(n,a,s,o){super(o||`can't resolve reference ${s} from id ${a}`),this.missingRef=(0,e.resolveUrl)(n,a,s),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(n,this.missingRef))}}return At.default=t,At}var Oe={},Fs;function xn(){if(Fs)return Oe;Fs=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.resolveSchema=Oe.getCompilingSchema=Oe.resolveRef=Oe.compileSchema=Oe.SchemaEnv=void 0;const e=se(),t=In(),r=Je(),n=Ur(),a=ce(),s=Vr();class o{constructor(g){var f;this.refs={},this.dynamicAnchors={};let _;typeof g.schema=="object"&&(_=g.schema),this.schema=g.schema,this.schemaId=g.schemaId,this.root=g.root||this,this.baseId=(f=g.baseId)!==null&&f!==void 0?f:(0,n.normalizeId)(_==null?void 0:_[g.schemaId||"$id"]),this.schemaPath=g.schemaPath,this.localRefs=g.localRefs,this.meta=g.meta,this.$async=_==null?void 0:_.$async,this.refs={}}}Oe.SchemaEnv=o;function i(p){const g=d.call(this,p);if(g)return g;const f=(0,n.getFullPath)(this.opts.uriResolver,p.root.baseId),{es5:_,lines:v}=this.opts.code,{ownProperties:S}=this.opts,$=new e.CodeGen(this.scope,{es5:_,lines:v,ownProperties:S});let E;p.$async&&(E=$.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const T=$.scopeName("validate");p.validateName=T;const k={gen:$,allErrors:this.opts.allErrors,data:r.default.data,parentData:r.default.parentData,parentDataProperty:r.default.parentDataProperty,dataNames:[r.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:$.scopeValue("schema",this.opts.code.source===!0?{ref:p.schema,code:(0,e.stringify)(p.schema)}:{ref:p.schema}),validateName:T,ValidationError:E,schema:p.schema,schemaEnv:p,rootId:f,baseId:p.baseId||f,schemaPath:e.nil,errSchemaPath:p.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let F;try{this._compilations.add(p),(0,s.validateFunctionCode)(k),$.optimize(this.opts.code.optimize);const x=$.toString();F=`${$.scopeRefs(r.default.scope)}return ${x}`,this.opts.code.process&&(F=this.opts.code.process(F,p));const U=new Function(`${r.default.self}`,`${r.default.scope}`,F)(this,this.scope.get());if(this.scope.value(T,{ref:U}),U.errors=null,U.schema=p.schema,U.schemaEnv=p,p.$async&&(U.$async=!0),this.opts.code.source===!0&&(U.source={validateName:T,validateCode:x,scopeValues:$._values}),this.opts.unevaluated){const{props:B,items:W}=k;U.evaluated={props:B instanceof e.Name?void 0:B,items:W instanceof e.Name?void 0:W,dynamicProps:B instanceof e.Name,dynamicItems:W instanceof e.Name},U.source&&(U.source.evaluated=(0,e.stringify)(U.evaluated))}return p.validate=U,p}catch(x){throw delete p.validate,delete p.validateName,F&&this.logger.error("Error compiling schema, function code:",F),x}finally{this._compilations.delete(p)}}Oe.compileSchema=i;function c(p,g,f){var _;f=(0,n.resolveUrl)(this.opts.uriResolver,g,f);const v=p.refs[f];if(v)return v;let S=l.call(this,p,f);if(S===void 0){const $=(_=p.localRefs)===null||_===void 0?void 0:_[f],{schemaId:E}=this.opts;$&&(S=new o({schema:$,schemaId:E,root:p,baseId:g}))}if(S!==void 0)return p.refs[f]=u.call(this,S)}Oe.resolveRef=c;function u(p){return(0,n.inlineRef)(p.schema,this.opts.inlineRefs)?p.schema:p.validate?p:i.call(this,p)}function d(p){for(const g of this._compilations)if(m(g,p))return g}Oe.getCompilingSchema=d;function m(p,g){return p.schema===g.schema&&p.root===g.root&&p.baseId===g.baseId}function l(p,g){let f;for(;typeof(f=this.refs[g])=="string";)g=f;return f||this.schemas[g]||h.call(this,p,g)}function h(p,g){const f=this.opts.uriResolver.parse(g),_=(0,n._getFullPath)(this.opts.uriResolver,f);let v=(0,n.getFullPath)(this.opts.uriResolver,p.baseId,void 0);if(Object.keys(p.schema).length>0&&_===v)return b.call(this,f,p);const S=(0,n.normalizeId)(_),$=this.refs[S]||this.schemas[S];if(typeof $=="string"){const E=h.call(this,p,$);return typeof(E==null?void 0:E.schema)!="object"?void 0:b.call(this,f,E)}if(typeof($==null?void 0:$.schema)=="object"){if($.validate||i.call(this,$),S===(0,n.normalizeId)(g)){const{schema:E}=$,{schemaId:T}=this.opts,k=E[T];return k&&(v=(0,n.resolveUrl)(this.opts.uriResolver,v,k)),new o({schema:E,schemaId:T,root:p,baseId:v})}return b.call(this,f,$)}}Oe.resolveSchema=h;const y=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function b(p,{baseId:g,schema:f,root:_}){var v;if(((v=p.fragment)===null||v===void 0?void 0:v[0])!=="/")return;for(const E of p.fragment.slice(1).split("/")){if(typeof f=="boolean")return;const T=f[(0,a.unescapeFragment)(E)];if(T===void 0)return;f=T;const k=typeof f=="object"&&f[this.opts.schemaId];!y.has(E)&&k&&(g=(0,n.resolveUrl)(this.opts.uriResolver,g,k))}let S;if(typeof f!="boolean"&&f.$ref&&!(0,a.schemaHasRulesButRef)(f,this.RULES)){const E=(0,n.resolveUrl)(this.opts.uriResolver,g,f.$ref);S=h.call(this,_,E)}const{schemaId:$}=this.opts;if(S=S||new o({schema:f,schemaId:$,root:_,baseId:g}),S.schema!==S.root.schema)return S}return Oe}const su="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",au="Meta-schema for $data reference (JSON AnySchema extension proposal)",iu="object",ou=["$data"],cu={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},lu=!1,du={$id:su,description:au,type:iu,required:ou,properties:cu,additionalProperties:lu};var Dt={},Ns;function uu(){if(Ns)return Dt;Ns=1,Object.defineProperty(Dt,"__esModule",{value:!0});const e=Vi();return e.code='require("ajv/dist/runtime/uri").default',Dt.default=e,Dt}var Is;function fu(){return Is||(Is=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Vr();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=se();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=In(),a=Br(),s=Ci(),o=xn(),i=se(),c=Ur(),u=Pr(),d=ce(),m=du,l=uu(),h=(D,O)=>new RegExp(D,O);h.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],b=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),p={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},f=200;function _(D){var O,R,N,w,C,A,K,J,ie,ae,P,I,M,V,H,Z,ge,ve,je,Ce,be,ct,Pe,Lr,zr;const pt=D.strict,Kr=(O=D.code)===null||O===void 0?void 0:O.optimize,Dn=Kr===!0||Kr===void 0?1:Kr||0,Rn=(N=(R=D.code)===null||R===void 0?void 0:R.regExp)!==null&&N!==void 0?N:h,Ni=(w=D.uriResolver)!==null&&w!==void 0?w:l.default;return{strictSchema:(A=(C=D.strictSchema)!==null&&C!==void 0?C:pt)!==null&&A!==void 0?A:!0,strictNumbers:(J=(K=D.strictNumbers)!==null&&K!==void 0?K:pt)!==null&&J!==void 0?J:!0,strictTypes:(ae=(ie=D.strictTypes)!==null&&ie!==void 0?ie:pt)!==null&&ae!==void 0?ae:"log",strictTuples:(I=(P=D.strictTuples)!==null&&P!==void 0?P:pt)!==null&&I!==void 0?I:"log",strictRequired:(V=(M=D.strictRequired)!==null&&M!==void 0?M:pt)!==null&&V!==void 0?V:!1,code:D.code?{...D.code,optimize:Dn,regExp:Rn}:{optimize:Dn,regExp:Rn},loopRequired:(H=D.loopRequired)!==null&&H!==void 0?H:f,loopEnum:(Z=D.loopEnum)!==null&&Z!==void 0?Z:f,meta:(ge=D.meta)!==null&&ge!==void 0?ge:!0,messages:(ve=D.messages)!==null&&ve!==void 0?ve:!0,inlineRefs:(je=D.inlineRefs)!==null&&je!==void 0?je:!0,schemaId:(Ce=D.schemaId)!==null&&Ce!==void 0?Ce:"$id",addUsedSchema:(be=D.addUsedSchema)!==null&&be!==void 0?be:!0,validateSchema:(ct=D.validateSchema)!==null&&ct!==void 0?ct:!0,validateFormats:(Pe=D.validateFormats)!==null&&Pe!==void 0?Pe:!0,unicodeRegExp:(Lr=D.unicodeRegExp)!==null&&Lr!==void 0?Lr:!0,int32range:(zr=D.int32range)!==null&&zr!==void 0?zr:!0,uriResolver:Ni}}class v{constructor(O={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,O=this.opts={...O,..._(O)};const{es5:R,lines:N}=this.opts.code;this.scope=new i.ValueScope({scope:{},prefixes:b,es5:R,lines:N}),this.logger=q(O.logger);const w=O.validateFormats;O.validateFormats=!1,this.RULES=(0,s.getRules)(),S.call(this,p,O,"NOT SUPPORTED"),S.call(this,g,O,"DEPRECATED","warn"),this._metaOpts=F.call(this),O.formats&&T.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),O.keywords&&k.call(this,O.keywords),typeof O.meta=="object"&&this.addMetaSchema(O.meta),E.call(this),O.validateFormats=w}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:O,meta:R,schemaId:N}=this.opts;let w=m;N==="id"&&(w={...m},w.id=w.$id,delete w.$id),R&&O&&this.addMetaSchema(w,w[N],!1)}defaultMeta(){const{meta:O,schemaId:R}=this.opts;return this.opts.defaultMeta=typeof O=="object"?O[R]||O:void 0}validate(O,R){let N;if(typeof O=="string"){if(N=this.getSchema(O),!N)throw new Error(`no schema with key or ref "${O}"`)}else N=this.compile(O);const w=N(R);return"$async"in N||(this.errors=N.errors),w}compile(O,R){const N=this._addSchema(O,R);return N.validate||this._compileSchemaEnv(N)}compileAsync(O,R){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:N}=this.opts;return w.call(this,O,R);async function w(ae,P){await C.call(this,ae.$schema);const I=this._addSchema(ae,P);return I.validate||A.call(this,I)}async function C(ae){ae&&!this.getSchema(ae)&&await w.call(this,{$ref:ae},!0)}async function A(ae){try{return this._compileSchemaEnv(ae)}catch(P){if(!(P instanceof a.default))throw P;return K.call(this,P),await J.call(this,P.missingSchema),A.call(this,ae)}}function K({missingSchema:ae,missingRef:P}){if(this.refs[ae])throw new Error(`AnySchema ${ae} is loaded but ${P} cannot be resolved`)}async function J(ae){const P=await ie.call(this,ae);this.refs[ae]||await C.call(this,P.$schema),this.refs[ae]||this.addSchema(P,ae,R)}async function ie(ae){const P=this._loading[ae];if(P)return P;try{return await(this._loading[ae]=N(ae))}finally{delete this._loading[ae]}}}addSchema(O,R,N,w=this.opts.validateSchema){if(Array.isArray(O)){for(const A of O)this.addSchema(A,void 0,N,w);return this}let C;if(typeof O=="object"){const{schemaId:A}=this.opts;if(C=O[A],C!==void 0&&typeof C!="string")throw new Error(`schema ${A} must be string`)}return R=(0,c.normalizeId)(R||C),this._checkUnique(R),this.schemas[R]=this._addSchema(O,N,R,w,!0),this}addMetaSchema(O,R,N=this.opts.validateSchema){return this.addSchema(O,R,!0,N),this}validateSchema(O,R){if(typeof O=="boolean")return!0;let N;if(N=O.$schema,N!==void 0&&typeof N!="string")throw new Error("$schema must be a string");if(N=N||this.opts.defaultMeta||this.defaultMeta(),!N)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const w=this.validate(N,O);if(!w&&R){const C="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(C);else throw new Error(C)}return w}getSchema(O){let R;for(;typeof(R=$.call(this,O))=="string";)O=R;if(R===void 0){const{schemaId:N}=this.opts,w=new o.SchemaEnv({schema:{},schemaId:N});if(R=o.resolveSchema.call(this,w,O),!R)return;this.refs[O]=R}return R.validate||this._compileSchemaEnv(R)}removeSchema(O){if(O instanceof RegExp)return this._removeAllSchemas(this.schemas,O),this._removeAllSchemas(this.refs,O),this;switch(typeof O){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const R=$.call(this,O);return typeof R=="object"&&this._cache.delete(R.schema),delete this.schemas[O],delete this.refs[O],this}case"object":{const R=O;this._cache.delete(R);let N=O[this.opts.schemaId];return N&&(N=(0,c.normalizeId)(N),delete this.schemas[N],delete this.refs[N]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(O){for(const R of O)this.addKeyword(R);return this}addKeyword(O,R){let N;if(typeof O=="string")N=O,typeof R=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),R.keyword=N);else if(typeof O=="object"&&R===void 0){if(R=O,N=R.keyword,Array.isArray(N)&&!N.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(B.call(this,N,R),!R)return(0,d.eachItem)(N,C=>W.call(this,C)),this;te.call(this,R);const w={...R,type:(0,u.getJSONTypes)(R.type),schemaType:(0,u.getJSONTypes)(R.schemaType)};return(0,d.eachItem)(N,w.type.length===0?C=>W.call(this,C,w):C=>w.type.forEach(A=>W.call(this,C,w,A))),this}getKeyword(O){const R=this.RULES.all[O];return typeof R=="object"?R.definition:!!R}removeKeyword(O){const{RULES:R}=this;delete R.keywords[O],delete R.all[O];for(const N of R.rules){const w=N.rules.findIndex(C=>C.keyword===O);w>=0&&N.rules.splice(w,1)}return this}addFormat(O,R){return typeof R=="string"&&(R=new RegExp(R)),this.formats[O]=R,this}errorsText(O=this.errors,{separator:R=", ",dataVar:N="data"}={}){return!O||O.length===0?"No errors":O.map(w=>`${N}${w.instancePath} ${w.message}`).reduce((w,C)=>w+R+C)}$dataMetaSchema(O,R){const N=this.RULES.all;O=JSON.parse(JSON.stringify(O));for(const w of R){const C=w.split("/").slice(1);let A=O;for(const K of C)A=A[K];for(const K in N){const J=N[K];if(typeof J!="object")continue;const{$data:ie}=J.definition,ae=A[K];ie&&ae&&(A[K]=re(ae))}}return O}_removeAllSchemas(O,R){for(const N in O){const w=O[N];(!R||R.test(N))&&(typeof w=="string"?delete O[N]:w&&!w.meta&&(this._cache.delete(w.schema),delete O[N]))}}_addSchema(O,R,N,w=this.opts.validateSchema,C=this.opts.addUsedSchema){let A;const{schemaId:K}=this.opts;if(typeof O=="object")A=O[K];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof O!="boolean")throw new Error("schema must be object or boolean")}let J=this._cache.get(O);if(J!==void 0)return J;N=(0,c.normalizeId)(A||N);const ie=c.getSchemaRefs.call(this,O,N);return J=new o.SchemaEnv({schema:O,schemaId:K,meta:R,baseId:N,localRefs:ie}),this._cache.set(J.schema,J),C&&!N.startsWith("#")&&(N&&this._checkUnique(N),this.refs[N]=J),w&&this.validateSchema(O,!0),J}_checkUnique(O){if(this.schemas[O]||this.refs[O])throw new Error(`schema with key or id "${O}" already exists`)}_compileSchemaEnv(O){if(O.meta?this._compileMetaSchema(O):o.compileSchema.call(this,O),!O.validate)throw new Error("ajv implementation error");return O.validate}_compileMetaSchema(O){const R=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,O)}finally{this.opts=R}}}v.ValidationError=n.default,v.MissingRefError=a.default,e.default=v;function S(D,O,R,N="error"){for(const w in D){const C=w;C in O&&this.logger[N](`${R}: option ${w}. ${D[C]}`)}}function $(D){return D=(0,c.normalizeId)(D),this.schemas[D]||this.refs[D]}function E(){const D=this.opts.schemas;if(D)if(Array.isArray(D))this.addSchema(D);else for(const O in D)this.addSchema(D[O],O)}function T(){for(const D in this.opts.formats){const O=this.opts.formats[D];O&&this.addFormat(D,O)}}function k(D){if(Array.isArray(D)){this.addVocabulary(D);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const O in D){const R=D[O];R.keyword||(R.keyword=O),this.addKeyword(R)}}function F(){const D={...this.opts};for(const O of y)delete D[O];return D}const x={log(){},warn(){},error(){}};function q(D){if(D===!1)return x;if(D===void 0)return console;if(D.log&&D.warn&&D.error)return D;throw new Error("logger must implement log, warn and error methods")}const U=/^[a-z_$][a-z0-9_$:-]*$/i;function B(D,O){const{RULES:R}=this;if((0,d.eachItem)(D,N=>{if(R.keywords[N])throw new Error(`Keyword ${N} is already defined`);if(!U.test(N))throw new Error(`Keyword ${N} has invalid name`)}),!!O&&O.$data&&!("code"in O||"validate"in O))throw new Error('$data keyword must have "code" or "validate" function')}function W(D,O,R){var N;const w=O==null?void 0:O.post;if(R&&w)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:C}=this;let A=w?C.post:C.rules.find(({type:J})=>J===R);if(A||(A={type:R,rules:[]},C.rules.push(A)),C.keywords[D]=!0,!O)return;const K={keyword:D,definition:{...O,type:(0,u.getJSONTypes)(O.type),schemaType:(0,u.getJSONTypes)(O.schemaType)}};O.before?L.call(this,A,K,O.before):A.rules.push(K),C.all[D]=K,(N=O.implements)===null||N===void 0||N.forEach(J=>this.addKeyword(J))}function L(D,O,R){const N=D.rules.findIndex(w=>w.keyword===R);N>=0?D.rules.splice(N,0,O):(D.rules.push(O),this.logger.warn(`rule ${R} is not defined`))}function te(D){let{metaSchema:O}=D;O!==void 0&&(D.$data&&this.opts.$data&&(O=re(O)),D.validateSchema=this.compile(O,!0))}const G={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function re(D){return{anyOf:[D,G]}}}(nn)),nn}var Rt={},Mt={},qt={},xs;function mu(){if(xs)return qt;xs=1,Object.defineProperty(qt,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return qt.default=e,qt}var Ge={},As;function hu(){if(As)return Ge;As=1,Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.callRef=Ge.getValidate=void 0;const e=Br(),t=xe(),r=se(),n=Je(),a=xn(),s=ce(),o={keyword:"$ref",schemaType:"string",code(u){const{gen:d,schema:m,it:l}=u,{baseId:h,schemaEnv:y,validateName:b,opts:p,self:g}=l,{root:f}=y;if((m==="#"||m==="#/")&&h===f.baseId)return v();const _=a.resolveRef.call(g,f,h,m);if(_===void 0)throw new e.default(l.opts.uriResolver,h,m);if(_ instanceof a.SchemaEnv)return S(_);return $(_);function v(){if(y===f)return c(u,b,y,y.$async);const E=d.scopeValue("root",{ref:f});return c(u,(0,r._)`${E}.validate`,f,f.$async)}function S(E){const T=i(u,E);c(u,T,E,E.$async)}function $(E){const T=d.scopeValue("schema",p.code.source===!0?{ref:E,code:(0,r.stringify)(E)}:{ref:E}),k=d.name("valid"),F=u.subschema({schema:E,dataTypes:[],schemaPath:r.nil,topSchemaRef:T,errSchemaPath:m},k);u.mergeEvaluated(F),u.ok(k)}}};function i(u,d){const{gen:m}=u;return d.validate?m.scopeValue("validate",{ref:d.validate}):(0,r._)`${m.scopeValue("wrapper",{ref:d})}.validate`}Ge.getValidate=i;function c(u,d,m,l){const{gen:h,it:y}=u,{allErrors:b,schemaEnv:p,opts:g}=y,f=g.passContext?n.default.this:r.nil;l?_():v();function _(){if(!p.$async)throw new Error("async schema referenced by sync schema");const E=h.let("valid");h.try(()=>{h.code((0,r._)`await ${(0,t.callValidateCode)(u,d,f)}`),$(d),b||h.assign(E,!0)},T=>{h.if((0,r._)`!(${T} instanceof ${y.ValidationError})`,()=>h.throw(T)),S(T),b||h.assign(E,!1)}),u.ok(E)}function v(){u.result((0,t.callValidateCode)(u,d,f),()=>$(d),()=>S(d))}function S(E){const T=(0,r._)`${E}.errors`;h.assign(n.default.vErrors,(0,r._)`${n.default.vErrors} === null ? ${T} : ${n.default.vErrors}.concat(${T})`),h.assign(n.default.errors,(0,r._)`${n.default.vErrors}.length`)}function $(E){var T;if(!y.opts.unevaluated)return;const k=(T=m==null?void 0:m.validate)===null||T===void 0?void 0:T.evaluated;if(y.props!==!0)if(k&&!k.dynamicProps)k.props!==void 0&&(y.props=s.mergeEvaluated.props(h,k.props,y.props));else{const F=h.var("props",(0,r._)`${E}.evaluated.props`);y.props=s.mergeEvaluated.props(h,F,y.props,r.Name)}if(y.items!==!0)if(k&&!k.dynamicItems)k.items!==void 0&&(y.items=s.mergeEvaluated.items(h,k.items,y.items));else{const F=h.var("items",(0,r._)`${E}.evaluated.items`);y.items=s.mergeEvaluated.items(h,F,y.items,r.Name)}}}return Ge.callRef=c,Ge.default=o,Ge}var Ds;function pu(){if(Ds)return Mt;Ds=1,Object.defineProperty(Mt,"__esModule",{value:!0});const e=mu(),t=hu(),r=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return Mt.default=r,Mt}var Ut={},Vt={},Rs;function yu(){if(Rs)return Vt;Rs=1,Object.defineProperty(Vt,"__esModule",{value:!0});const e=se(),t=e.operators,r={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},n={message:({keyword:s,schemaCode:o})=>(0,e.str)`must be ${r[s].okStr} ${o}`,params:({keyword:s,schemaCode:o})=>(0,e._)`{comparison: ${r[s].okStr}, limit: ${o}}`},a={keyword:Object.keys(r),type:"number",schemaType:"number",$data:!0,error:n,code(s){const{keyword:o,data:i,schemaCode:c}=s;s.fail$data((0,e._)`${i} ${r[o].fail} ${c} || isNaN(${i})`)}};return Vt.default=a,Vt}var Bt={},Ms;function gu(){if(Ms)return Bt;Ms=1,Object.defineProperty(Bt,"__esModule",{value:!0});const e=se(),r={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:n})=>(0,e.str)`must be multiple of ${n}`,params:({schemaCode:n})=>(0,e._)`{multipleOf: ${n}}`},code(n){const{gen:a,data:s,schemaCode:o,it:i}=n,c=i.opts.multipleOfPrecision,u=a.let("res"),d=c?(0,e._)`Math.abs(Math.round(${u}) - ${u}) > 1e-${c}`:(0,e._)`${u} !== parseInt(${u})`;n.fail$data((0,e._)`(${o} === 0 || (${u} = ${s}/${o}, ${d}))`)}};return Bt.default=r,Bt}var Lt={},zt={},qs;function vu(){if(qs)return zt;qs=1,Object.defineProperty(zt,"__esModule",{value:!0});function e(t){const r=t.length;let n=0,a=0,s;for(;a<r;)n++,s=t.charCodeAt(a++),s>=55296&&s<=56319&&a<r&&(s=t.charCodeAt(a),(s&64512)===56320&&a++);return n}return zt.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',zt}var Us;function _u(){if(Us)return Lt;Us=1,Object.defineProperty(Lt,"__esModule",{value:!0});const e=se(),t=ce(),r=vu(),a={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:s,schemaCode:o}){const i=s==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${i} than ${o} characters`},params:({schemaCode:s})=>(0,e._)`{limit: ${s}}`},code(s){const{keyword:o,data:i,schemaCode:c,it:u}=s,d=o==="maxLength"?e.operators.GT:e.operators.LT,m=u.opts.unicode===!1?(0,e._)`${i}.length`:(0,e._)`${(0,t.useFunc)(s.gen,r.default)}(${i})`;s.fail$data((0,e._)`${m} ${d} ${c}`)}};return Lt.default=a,Lt}var Kt={},Vs;function $u(){if(Vs)return Kt;Vs=1,Object.defineProperty(Kt,"__esModule",{value:!0});const e=xe(),t=se(),n={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:a})=>(0,t.str)`must match pattern "${a}"`,params:({schemaCode:a})=>(0,t._)`{pattern: ${a}}`},code(a){const{data:s,$data:o,schema:i,schemaCode:c,it:u}=a,d=u.opts.unicodeRegExp?"u":"",m=o?(0,t._)`(new RegExp(${c}, ${d}))`:(0,e.usePattern)(a,i);a.fail$data((0,t._)`!${m}.test(${s})`)}};return Kt.default=n,Kt}var Wt={},Bs;function bu(){if(Bs)return Wt;Bs=1,Object.defineProperty(Wt,"__esModule",{value:!0});const e=se(),r={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:a}){const s=n==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${a} properties`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:a,data:s,schemaCode:o}=n,i=a==="maxProperties"?e.operators.GT:e.operators.LT;n.fail$data((0,e._)`Object.keys(${s}).length ${i} ${o}`)}};return Wt.default=r,Wt}var Gt={},Ls;function Su(){if(Ls)return Gt;Ls=1,Object.defineProperty(Gt,"__esModule",{value:!0});const e=xe(),t=se(),r=ce(),a={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:s}})=>(0,t.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,t._)`{missingProperty: ${s}}`},code(s){const{gen:o,schema:i,schemaCode:c,data:u,$data:d,it:m}=s,{opts:l}=m;if(!d&&i.length===0)return;const h=i.length>=l.loopRequired;if(m.allErrors?y():b(),l.strictRequired){const f=s.parentSchema.properties,{definedProperties:_}=s.it;for(const v of i)if((f==null?void 0:f[v])===void 0&&!_.has(v)){const S=m.schemaEnv.baseId+m.errSchemaPath,$=`required property "${v}" is not defined at "${S}" (strictRequired)`;(0,r.checkStrictMode)(m,$,m.opts.strictRequired)}}function y(){if(h||d)s.block$data(t.nil,p);else for(const f of i)(0,e.checkReportMissingProp)(s,f)}function b(){const f=o.let("missing");if(h||d){const _=o.let("valid",!0);s.block$data(_,()=>g(f,_)),s.ok(_)}else o.if((0,e.checkMissingProp)(s,i,f)),(0,e.reportMissingProp)(s,f),o.else()}function p(){o.forOf("prop",c,f=>{s.setParams({missingProperty:f}),o.if((0,e.noPropertyInData)(o,u,f,l.ownProperties),()=>s.error())})}function g(f,_){s.setParams({missingProperty:f}),o.forOf(f,c,()=>{o.assign(_,(0,e.propertyInData)(o,u,f,l.ownProperties)),o.if((0,t.not)(_),()=>{s.error(),o.break()})},t.nil)}}};return Gt.default=a,Gt}var Ht={},zs;function wu(){if(zs)return Ht;zs=1,Object.defineProperty(Ht,"__esModule",{value:!0});const e=se(),r={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:a}){const s=n==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${a} items`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:a,data:s,schemaCode:o}=n,i=a==="maxItems"?e.operators.GT:e.operators.LT;n.fail$data((0,e._)`${s}.length ${i} ${o}`)}};return Ht.default=r,Ht}var Jt={},Yt={},Ks;function An(){if(Ks)return Yt;Ks=1,Object.defineProperty(Yt,"__esModule",{value:!0});const e=za();return e.code='require("ajv/dist/runtime/equal").default',Yt.default=e,Yt}var Ws;function Eu(){if(Ws)return Jt;Ws=1,Object.defineProperty(Jt,"__esModule",{value:!0});const e=Pr(),t=se(),r=ce(),n=An(),s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:o,j:i}})=>(0,t.str)`must NOT have duplicate items (items ## ${i} and ${o} are identical)`,params:({params:{i:o,j:i}})=>(0,t._)`{i: ${o}, j: ${i}}`},code(o){const{gen:i,data:c,$data:u,schema:d,parentSchema:m,schemaCode:l,it:h}=o;if(!u&&!d)return;const y=i.let("valid"),b=m.items?(0,e.getSchemaTypes)(m.items):[];o.block$data(y,p,(0,t._)`${l} === false`),o.ok(y);function p(){const v=i.let("i",(0,t._)`${c}.length`),S=i.let("j");o.setParams({i:v,j:S}),i.assign(y,!0),i.if((0,t._)`${v} > 1`,()=>(g()?f:_)(v,S))}function g(){return b.length>0&&!b.some(v=>v==="object"||v==="array")}function f(v,S){const $=i.name("item"),E=(0,e.checkDataTypes)(b,$,h.opts.strictNumbers,e.DataType.Wrong),T=i.const("indices",(0,t._)`{}`);i.for((0,t._)`;${v}--;`,()=>{i.let($,(0,t._)`${c}[${v}]`),i.if(E,(0,t._)`continue`),b.length>1&&i.if((0,t._)`typeof ${$} == "string"`,(0,t._)`${$} += "_"`),i.if((0,t._)`typeof ${T}[${$}] == "number"`,()=>{i.assign(S,(0,t._)`${T}[${$}]`),o.error(),i.assign(y,!1).break()}).code((0,t._)`${T}[${$}] = ${v}`)})}function _(v,S){const $=(0,r.useFunc)(i,n.default),E=i.name("outer");i.label(E).for((0,t._)`;${v}--;`,()=>i.for((0,t._)`${S} = ${v}; ${S}--;`,()=>i.if((0,t._)`${$}(${c}[${v}], ${c}[${S}])`,()=>{o.error(),i.assign(y,!1).break(E)})))}}};return Jt.default=s,Jt}var Xt={},Gs;function ju(){if(Gs)return Xt;Gs=1,Object.defineProperty(Xt,"__esModule",{value:!0});const e=se(),t=ce(),r=An(),a={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:s})=>(0,e._)`{allowedValue: ${s}}`},code(s){const{gen:o,data:i,$data:c,schemaCode:u,schema:d}=s;c||d&&typeof d=="object"?s.fail$data((0,e._)`!${(0,t.useFunc)(o,r.default)}(${i}, ${u})`):s.fail((0,e._)`${d} !== ${i}`)}};return Xt.default=a,Xt}var Qt={},Hs;function Cu(){if(Hs)return Qt;Hs=1,Object.defineProperty(Qt,"__esModule",{value:!0});const e=se(),t=ce(),r=An(),a={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,e._)`{allowedValues: ${s}}`},code(s){const{gen:o,data:i,$data:c,schema:u,schemaCode:d,it:m}=s;if(!c&&u.length===0)throw new Error("enum must have non-empty array");const l=u.length>=m.opts.loopEnum;let h;const y=()=>h??(h=(0,t.useFunc)(o,r.default));let b;if(l||c)b=o.let("valid"),s.block$data(b,p);else{if(!Array.isArray(u))throw new Error("ajv implementation error");const f=o.const("vSchema",d);b=(0,e.or)(...u.map((_,v)=>g(f,v)))}s.pass(b);function p(){o.assign(b,!1),o.forOf("v",d,f=>o.if((0,e._)`${y()}(${i}, ${f})`,()=>o.assign(b,!0).break()))}function g(f,_){const v=u[_];return typeof v=="object"&&v!==null?(0,e._)`${y()}(${i}, ${f}[${_}])`:(0,e._)`${i} === ${v}`}}};return Qt.default=a,Qt}var Js;function Tu(){if(Js)return Ut;Js=1,Object.defineProperty(Ut,"__esModule",{value:!0});const e=yu(),t=gu(),r=_u(),n=$u(),a=bu(),s=Su(),o=wu(),i=Eu(),c=ju(),u=Cu(),d=[e.default,t.default,r.default,n.default,a.default,s.default,o.default,i.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},c.default,u.default];return Ut.default=d,Ut}var Zt={},dt={},Ys;function Oi(){if(Ys)return dt;Ys=1,Object.defineProperty(dt,"__esModule",{value:!0}),dt.validateAdditionalItems=void 0;const e=se(),t=ce(),n={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,e.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,e._)`{limit: ${s}}`},code(s){const{parentSchema:o,it:i}=s,{items:c}=o;if(!Array.isArray(c)){(0,t.checkStrictMode)(i,'"additionalItems" is ignored when "items" is not an array of schemas');return}a(s,c)}};function a(s,o){const{gen:i,schema:c,data:u,keyword:d,it:m}=s;m.items=!0;const l=i.const("len",(0,e._)`${u}.length`);if(c===!1)s.setParams({len:o.length}),s.pass((0,e._)`${l} <= ${o.length}`);else if(typeof c=="object"&&!(0,t.alwaysValidSchema)(m,c)){const y=i.var("valid",(0,e._)`${l} <= ${o.length}`);i.if((0,e.not)(y),()=>h(y)),s.ok(y)}function h(y){i.forRange("i",o.length,l,b=>{s.subschema({keyword:d,dataProp:b,dataPropType:t.Type.Num},y),m.allErrors||i.if((0,e.not)(y),()=>i.break())})}}return dt.validateAdditionalItems=a,dt.default=n,dt}var er={},ut={},Xs;function ki(){if(Xs)return ut;Xs=1,Object.defineProperty(ut,"__esModule",{value:!0}),ut.validateTuple=void 0;const e=se(),t=ce(),r=xe(),n={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:o,it:i}=s;if(Array.isArray(o))return a(s,"additionalItems",o);i.items=!0,!(0,t.alwaysValidSchema)(i,o)&&s.ok((0,r.validateArray)(s))}};function a(s,o,i=s.schema){const{gen:c,parentSchema:u,data:d,keyword:m,it:l}=s;b(u),l.opts.unevaluated&&i.length&&l.items!==!0&&(l.items=t.mergeEvaluated.items(c,i.length,l.items));const h=c.name("valid"),y=c.const("len",(0,e._)`${d}.length`);i.forEach((p,g)=>{(0,t.alwaysValidSchema)(l,p)||(c.if((0,e._)`${y} > ${g}`,()=>s.subschema({keyword:m,schemaProp:g,dataProp:g},h)),s.ok(h))});function b(p){const{opts:g,errSchemaPath:f}=l,_=i.length,v=_===p.minItems&&(_===p.maxItems||p[o]===!1);if(g.strictTuples&&!v){const S=`"${m}" is ${_}-tuple, but minItems or maxItems/${o} are not specified or different at path "${f}"`;(0,t.checkStrictMode)(l,S,g.strictTuples)}}}return ut.validateTuple=a,ut.default=n,ut}var Qs;function Ou(){if(Qs)return er;Qs=1,Object.defineProperty(er,"__esModule",{value:!0});const e=ki(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,e.validateTuple)(r,"items")};return er.default=t,er}var tr={},Zs;function ku(){if(Zs)return tr;Zs=1,Object.defineProperty(tr,"__esModule",{value:!0});const e=se(),t=ce(),r=xe(),n=Oi(),s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,e.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,e._)`{limit: ${o}}`},code(o){const{schema:i,parentSchema:c,it:u}=o,{prefixItems:d}=c;u.items=!0,!(0,t.alwaysValidSchema)(u,i)&&(d?(0,n.validateAdditionalItems)(o,d):o.ok((0,r.validateArray)(o)))}};return tr.default=s,tr}var rr={},ea;function Pu(){if(ea)return rr;ea=1,Object.defineProperty(rr,"__esModule",{value:!0});const e=se(),t=ce(),n={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:a,max:s}})=>s===void 0?(0,e.str)`must contain at least ${a} valid item(s)`:(0,e.str)`must contain at least ${a} and no more than ${s} valid item(s)`,params:({params:{min:a,max:s}})=>s===void 0?(0,e._)`{minContains: ${a}}`:(0,e._)`{minContains: ${a}, maxContains: ${s}}`},code(a){const{gen:s,schema:o,parentSchema:i,data:c,it:u}=a;let d,m;const{minContains:l,maxContains:h}=i;u.opts.next?(d=l===void 0?1:l,m=h):d=1;const y=s.const("len",(0,e._)`${c}.length`);if(a.setParams({min:d,max:m}),m===void 0&&d===0){(0,t.checkStrictMode)(u,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(m!==void 0&&d>m){(0,t.checkStrictMode)(u,'"minContains" > "maxContains" is always invalid'),a.fail();return}if((0,t.alwaysValidSchema)(u,o)){let _=(0,e._)`${y} >= ${d}`;m!==void 0&&(_=(0,e._)`${_} && ${y} <= ${m}`),a.pass(_);return}u.items=!0;const b=s.name("valid");m===void 0&&d===1?g(b,()=>s.if(b,()=>s.break())):d===0?(s.let(b,!0),m!==void 0&&s.if((0,e._)`${c}.length > 0`,p)):(s.let(b,!1),p()),a.result(b,()=>a.reset());function p(){const _=s.name("_valid"),v=s.let("count",0);g(_,()=>s.if(_,()=>f(v)))}function g(_,v){s.forRange("i",0,y,S=>{a.subschema({keyword:"contains",dataProp:S,dataPropType:t.Type.Num,compositeRule:!0},_),v()})}function f(_){s.code((0,e._)`${_}++`),m===void 0?s.if((0,e._)`${_} >= ${d}`,()=>s.assign(b,!0).break()):(s.if((0,e._)`${_} > ${m}`,()=>s.assign(b,!1).break()),d===1?s.assign(b,!0):s.if((0,e._)`${_} >= ${d}`,()=>s.assign(b,!0)))}}};return rr.default=n,rr}var dn={},ta;function Fu(){return ta||(ta=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=se(),r=ce(),n=xe();e.error={message:({params:{property:c,depsCount:u,deps:d}})=>{const m=u===1?"property":"properties";return(0,t.str)`must have ${m} ${d} when property ${c} is present`},params:({params:{property:c,depsCount:u,deps:d,missingProperty:m}})=>(0,t._)`{property: ${c},
    missingProperty: ${m},
    depsCount: ${u},
    deps: ${d}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[u,d]=s(c);o(c,u),i(c,d)}};function s({schema:c}){const u={},d={};for(const m in c){if(m==="__proto__")continue;const l=Array.isArray(c[m])?u:d;l[m]=c[m]}return[u,d]}function o(c,u=c.schema){const{gen:d,data:m,it:l}=c;if(Object.keys(u).length===0)return;const h=d.let("missing");for(const y in u){const b=u[y];if(b.length===0)continue;const p=(0,n.propertyInData)(d,m,y,l.opts.ownProperties);c.setParams({property:y,depsCount:b.length,deps:b.join(", ")}),l.allErrors?d.if(p,()=>{for(const g of b)(0,n.checkReportMissingProp)(c,g)}):(d.if((0,t._)`${p} && (${(0,n.checkMissingProp)(c,b,h)})`),(0,n.reportMissingProp)(c,h),d.else())}}e.validatePropertyDeps=o;function i(c,u=c.schema){const{gen:d,data:m,keyword:l,it:h}=c,y=d.name("valid");for(const b in u)(0,r.alwaysValidSchema)(h,u[b])||(d.if((0,n.propertyInData)(d,m,b,h.opts.ownProperties),()=>{const p=c.subschema({keyword:l,schemaProp:b},y);c.mergeValidEvaluated(p,y)},()=>d.var(y,!0)),c.ok(y))}e.validateSchemaDeps=i,e.default=a}(dn)),dn}var nr={},ra;function Nu(){if(ra)return nr;ra=1,Object.defineProperty(nr,"__esModule",{value:!0});const e=se(),t=ce(),n={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:a})=>(0,e._)`{propertyName: ${a.propertyName}}`},code(a){const{gen:s,schema:o,data:i,it:c}=a;if((0,t.alwaysValidSchema)(c,o))return;const u=s.name("valid");s.forIn("key",i,d=>{a.setParams({propertyName:d}),a.subschema({keyword:"propertyNames",data:d,dataTypes:["string"],propertyName:d,compositeRule:!0},u),s.if((0,e.not)(u),()=>{a.error(!0),c.allErrors||s.break()})}),a.ok(u)}};return nr.default=n,nr}var sr={},na;function Pi(){if(na)return sr;na=1,Object.defineProperty(sr,"__esModule",{value:!0});const e=xe(),t=se(),r=Je(),n=ce(),s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:o})=>(0,t._)`{additionalProperty: ${o.additionalProperty}}`},code(o){const{gen:i,schema:c,parentSchema:u,data:d,errsCount:m,it:l}=o;if(!m)throw new Error("ajv implementation error");const{allErrors:h,opts:y}=l;if(l.props=!0,y.removeAdditional!=="all"&&(0,n.alwaysValidSchema)(l,c))return;const b=(0,e.allSchemaProperties)(u.properties),p=(0,e.allSchemaProperties)(u.patternProperties);g(),o.ok((0,t._)`${m} === ${r.default.errors}`);function g(){i.forIn("key",d,$=>{!b.length&&!p.length?v($):i.if(f($),()=>v($))})}function f($){let E;if(b.length>8){const T=(0,n.schemaRefOrVal)(l,u.properties,"properties");E=(0,e.isOwnProperty)(i,T,$)}else b.length?E=(0,t.or)(...b.map(T=>(0,t._)`${$} === ${T}`)):E=t.nil;return p.length&&(E=(0,t.or)(E,...p.map(T=>(0,t._)`${(0,e.usePattern)(o,T)}.test(${$})`))),(0,t.not)(E)}function _($){i.code((0,t._)`delete ${d}[${$}]`)}function v($){if(y.removeAdditional==="all"||y.removeAdditional&&c===!1){_($);return}if(c===!1){o.setParams({additionalProperty:$}),o.error(),h||i.break();return}if(typeof c=="object"&&!(0,n.alwaysValidSchema)(l,c)){const E=i.name("valid");y.removeAdditional==="failing"?(S($,E,!1),i.if((0,t.not)(E),()=>{o.reset(),_($)})):(S($,E),h||i.if((0,t.not)(E),()=>i.break()))}}function S($,E,T){const k={keyword:"additionalProperties",dataProp:$,dataPropType:n.Type.Str};T===!1&&Object.assign(k,{compositeRule:!0,createErrors:!1,allErrors:!1}),o.subschema(k,E)}}};return sr.default=s,sr}var ar={},sa;function Iu(){if(sa)return ar;sa=1,Object.defineProperty(ar,"__esModule",{value:!0});const e=Vr(),t=xe(),r=ce(),n=Pi(),a={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:o,schema:i,parentSchema:c,data:u,it:d}=s;d.opts.removeAdditional==="all"&&c.additionalProperties===void 0&&n.default.code(new e.KeywordCxt(d,n.default,"additionalProperties"));const m=(0,t.allSchemaProperties)(i);for(const p of m)d.definedProperties.add(p);d.opts.unevaluated&&m.length&&d.props!==!0&&(d.props=r.mergeEvaluated.props(o,(0,r.toHash)(m),d.props));const l=m.filter(p=>!(0,r.alwaysValidSchema)(d,i[p]));if(l.length===0)return;const h=o.name("valid");for(const p of l)y(p)?b(p):(o.if((0,t.propertyInData)(o,u,p,d.opts.ownProperties)),b(p),d.allErrors||o.else().var(h,!0),o.endIf()),s.it.definedProperties.add(p),s.ok(h);function y(p){return d.opts.useDefaults&&!d.compositeRule&&i[p].default!==void 0}function b(p){s.subschema({keyword:"properties",schemaProp:p,dataProp:p},h)}}};return ar.default=a,ar}var ir={},aa;function xu(){if(aa)return ir;aa=1,Object.defineProperty(ir,"__esModule",{value:!0});const e=xe(),t=se(),r=ce(),n=ce(),a={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:o,schema:i,data:c,parentSchema:u,it:d}=s,{opts:m}=d,l=(0,e.allSchemaProperties)(i),h=l.filter(v=>(0,r.alwaysValidSchema)(d,i[v]));if(l.length===0||h.length===l.length&&(!d.opts.unevaluated||d.props===!0))return;const y=m.strictSchema&&!m.allowMatchingProperties&&u.properties,b=o.name("valid");d.props!==!0&&!(d.props instanceof t.Name)&&(d.props=(0,n.evaluatedPropsToName)(o,d.props));const{props:p}=d;g();function g(){for(const v of l)y&&f(v),d.allErrors?_(v):(o.var(b,!0),_(v),o.if(b))}function f(v){for(const S in y)new RegExp(v).test(S)&&(0,r.checkStrictMode)(d,`property ${S} matches pattern ${v} (use allowMatchingProperties)`)}function _(v){o.forIn("key",c,S=>{o.if((0,t._)`${(0,e.usePattern)(s,v)}.test(${S})`,()=>{const $=h.includes(v);$||s.subschema({keyword:"patternProperties",schemaProp:v,dataProp:S,dataPropType:n.Type.Str},b),d.opts.unevaluated&&p!==!0?o.assign((0,t._)`${p}[${S}]`,!0):!$&&!d.allErrors&&o.if((0,t.not)(b),()=>o.break())})})}}};return ir.default=a,ir}var or={},ia;function Au(){if(ia)return or;ia=1,Object.defineProperty(or,"__esModule",{value:!0});const e=ce(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){const{gen:n,schema:a,it:s}=r;if((0,e.alwaysValidSchema)(s,a)){r.fail();return}const o=n.name("valid");r.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),r.failResult(o,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};return or.default=t,or}var cr={},oa;function Du(){if(oa)return cr;oa=1,Object.defineProperty(cr,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:xe().validateUnion,error:{message:"must match a schema in anyOf"}};return cr.default=t,cr}var lr={},ca;function Ru(){if(ca)return lr;ca=1,Object.defineProperty(lr,"__esModule",{value:!0});const e=se(),t=ce(),n={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:a})=>(0,e._)`{passingSchemas: ${a.passing}}`},code(a){const{gen:s,schema:o,parentSchema:i,it:c}=a;if(!Array.isArray(o))throw new Error("ajv implementation error");if(c.opts.discriminator&&i.discriminator)return;const u=o,d=s.let("valid",!1),m=s.let("passing",null),l=s.name("_valid");a.setParams({passing:m}),s.block(h),a.result(d,()=>a.reset(),()=>a.error(!0));function h(){u.forEach((y,b)=>{let p;(0,t.alwaysValidSchema)(c,y)?s.var(l,!0):p=a.subschema({keyword:"oneOf",schemaProp:b,compositeRule:!0},l),b>0&&s.if((0,e._)`${l} && ${d}`).assign(d,!1).assign(m,(0,e._)`[${m}, ${b}]`).else(),s.if(l,()=>{s.assign(d,!0),s.assign(m,b),p&&a.mergeEvaluated(p,e.Name)})})}}};return lr.default=n,lr}var dr={},la;function Mu(){if(la)return dr;la=1,Object.defineProperty(dr,"__esModule",{value:!0});const e=ce(),t={keyword:"allOf",schemaType:"array",code(r){const{gen:n,schema:a,it:s}=r;if(!Array.isArray(a))throw new Error("ajv implementation error");const o=n.name("valid");a.forEach((i,c)=>{if((0,e.alwaysValidSchema)(s,i))return;const u=r.subschema({keyword:"allOf",schemaProp:c},o);r.ok(o),r.mergeEvaluated(u)})}};return dr.default=t,dr}var ur={},da;function qu(){if(da)return ur;da=1,Object.defineProperty(ur,"__esModule",{value:!0});const e=se(),t=ce(),n={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:s})=>(0,e.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,e._)`{failingKeyword: ${s.ifClause}}`},code(s){const{gen:o,parentSchema:i,it:c}=s;i.then===void 0&&i.else===void 0&&(0,t.checkStrictMode)(c,'"if" without "then" and "else" is ignored');const u=a(c,"then"),d=a(c,"else");if(!u&&!d)return;const m=o.let("valid",!0),l=o.name("_valid");if(h(),s.reset(),u&&d){const b=o.let("ifClause");s.setParams({ifClause:b}),o.if(l,y("then",b),y("else",b))}else u?o.if(l,y("then")):o.if((0,e.not)(l),y("else"));s.pass(m,()=>s.error(!0));function h(){const b=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},l);s.mergeEvaluated(b)}function y(b,p){return()=>{const g=s.subschema({keyword:b},l);o.assign(m,l),s.mergeValidEvaluated(g,m),p?o.assign(p,(0,e._)`${b}`):s.setParams({ifClause:b})}}}};function a(s,o){const i=s.schema[o];return i!==void 0&&!(0,t.alwaysValidSchema)(s,i)}return ur.default=n,ur}var fr={},ua;function Uu(){if(ua)return fr;ua=1,Object.defineProperty(fr,"__esModule",{value:!0});const e=ce(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:n,it:a}){n.if===void 0&&(0,e.checkStrictMode)(a,`"${r}" without "if" is ignored`)}};return fr.default=t,fr}var fa;function Vu(){if(fa)return Zt;fa=1,Object.defineProperty(Zt,"__esModule",{value:!0});const e=Oi(),t=Ou(),r=ki(),n=ku(),a=Pu(),s=Fu(),o=Nu(),i=Pi(),c=Iu(),u=xu(),d=Au(),m=Du(),l=Ru(),h=Mu(),y=qu(),b=Uu();function p(g=!1){const f=[d.default,m.default,l.default,h.default,y.default,b.default,o.default,i.default,s.default,c.default,u.default];return g?f.push(t.default,n.default):f.push(e.default,r.default),f.push(a.default),f}return Zt.default=p,Zt}var mr={},hr={},ma;function Bu(){if(ma)return hr;ma=1,Object.defineProperty(hr,"__esModule",{value:!0});const e=se(),r={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:n})=>(0,e.str)`must match format "${n}"`,params:({schemaCode:n})=>(0,e._)`{format: ${n}}`},code(n,a){const{gen:s,data:o,$data:i,schema:c,schemaCode:u,it:d}=n,{opts:m,errSchemaPath:l,schemaEnv:h,self:y}=d;if(!m.validateFormats)return;i?b():p();function b(){const g=s.scopeValue("formats",{ref:y.formats,code:m.code.formats}),f=s.const("fDef",(0,e._)`${g}[${u}]`),_=s.let("fType"),v=s.let("format");s.if((0,e._)`typeof ${f} == "object" && !(${f} instanceof RegExp)`,()=>s.assign(_,(0,e._)`${f}.type || "string"`).assign(v,(0,e._)`${f}.validate`),()=>s.assign(_,(0,e._)`"string"`).assign(v,f)),n.fail$data((0,e.or)(S(),$()));function S(){return m.strictSchema===!1?e.nil:(0,e._)`${u} && !${v}`}function $(){const E=h.$async?(0,e._)`(${f}.async ? await ${v}(${o}) : ${v}(${o}))`:(0,e._)`${v}(${o})`,T=(0,e._)`(typeof ${v} == "function" ? ${E} : ${v}.test(${o}))`;return(0,e._)`${v} && ${v} !== true && ${_} === ${a} && !${T}`}}function p(){const g=y.formats[c];if(!g){S();return}if(g===!0)return;const[f,_,v]=$(g);f===a&&n.pass(E());function S(){if(m.strictSchema===!1){y.logger.warn(T());return}throw new Error(T());function T(){return`unknown format "${c}" ignored in schema at path "${l}"`}}function $(T){const k=T instanceof RegExp?(0,e.regexpCode)(T):m.code.formats?(0,e._)`${m.code.formats}${(0,e.getProperty)(c)}`:void 0,F=s.scopeValue("formats",{key:c,ref:T,code:k});return typeof T=="object"&&!(T instanceof RegExp)?[T.type||"string",T.validate,(0,e._)`${F}.validate`]:["string",T,F]}function E(){if(typeof g=="object"&&!(g instanceof RegExp)&&g.async){if(!h.$async)throw new Error("async format in sync schema");return(0,e._)`await ${v}(${o})`}return typeof _=="function"?(0,e._)`${v}(${o})`:(0,e._)`${v}.test(${o})`}}}};return hr.default=r,hr}var ha;function Lu(){if(ha)return mr;ha=1,Object.defineProperty(mr,"__esModule",{value:!0});const t=[Bu().default];return mr.default=t,mr}var Qe={},pa;function zu(){return pa||(pa=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.contentVocabulary=Qe.metadataVocabulary=void 0,Qe.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Qe.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Qe}var ya;function Ku(){if(ya)return Rt;ya=1,Object.defineProperty(Rt,"__esModule",{value:!0});const e=pu(),t=Tu(),r=Vu(),n=Lu(),a=zu(),s=[e.default,t.default,(0,r.default)(),n.default,a.metadataVocabulary,a.contentVocabulary];return Rt.default=s,Rt}var pr={},bt={},ga;function Wu(){if(ga)return bt;ga=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.DiscrError=void 0;var e;return function(t){t.Tag="tag",t.Mapping="mapping"}(e||(bt.DiscrError=e={})),bt}var va;function Gu(){if(va)return pr;va=1,Object.defineProperty(pr,"__esModule",{value:!0});const e=se(),t=Wu(),r=xn(),n=Br(),a=ce(),o={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:i,tagName:c}})=>i===t.DiscrError.Tag?`tag "${c}" must be string`:`value of tag "${c}" must be in oneOf`,params:({params:{discrError:i,tag:c,tagName:u}})=>(0,e._)`{error: ${i}, tag: ${u}, tagValue: ${c}}`},code(i){const{gen:c,data:u,schema:d,parentSchema:m,it:l}=i,{oneOf:h}=m;if(!l.opts.discriminator)throw new Error("discriminator: requires discriminator option");const y=d.propertyName;if(typeof y!="string")throw new Error("discriminator: requires propertyName");if(d.mapping)throw new Error("discriminator: mapping is not supported");if(!h)throw new Error("discriminator: requires oneOf keyword");const b=c.let("valid",!1),p=c.const("tag",(0,e._)`${u}${(0,e.getProperty)(y)}`);c.if((0,e._)`typeof ${p} == "string"`,()=>g(),()=>i.error(!1,{discrError:t.DiscrError.Tag,tag:p,tagName:y})),i.ok(b);function g(){const v=_();c.if(!1);for(const S in v)c.elseIf((0,e._)`${p} === ${S}`),c.assign(b,f(v[S]));c.else(),i.error(!1,{discrError:t.DiscrError.Mapping,tag:p,tagName:y}),c.endIf()}function f(v){const S=c.name("valid"),$=i.subschema({keyword:"oneOf",schemaProp:v},S);return i.mergeEvaluated($,e.Name),S}function _(){var v;const S={},$=T(m);let E=!0;for(let x=0;x<h.length;x++){let q=h[x];if(q!=null&&q.$ref&&!(0,a.schemaHasRulesButRef)(q,l.self.RULES)){const B=q.$ref;if(q=r.resolveRef.call(l.self,l.schemaEnv.root,l.baseId,B),q instanceof r.SchemaEnv&&(q=q.schema),q===void 0)throw new n.default(l.opts.uriResolver,l.baseId,B)}const U=(v=q==null?void 0:q.properties)===null||v===void 0?void 0:v[y];if(typeof U!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${y}"`);E=E&&($||T(q)),k(U,x)}if(!E)throw new Error(`discriminator: "${y}" must be required`);return S;function T({required:x}){return Array.isArray(x)&&x.includes(y)}function k(x,q){if(x.const)F(x.const,q);else if(x.enum)for(const U of x.enum)F(U,q);else throw new Error(`discriminator: "properties/${y}" must have "const" or "enum"`)}function F(x,q){if(typeof x!="string"||x in S)throw new Error(`discriminator: "${y}" values must be unique strings`);S[x]=q}}}};return pr.default=o,pr}const Hu="http://json-schema.org/draft-07/schema#",Ju="http://json-schema.org/draft-07/schema#",Yu="Core schema meta-schema",Xu={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Qu=["object","boolean"],Zu={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},ef={$schema:Hu,$id:Ju,title:Yu,definitions:Xu,type:Qu,properties:Zu,default:!0};var _a;function Fi(){return _a||(_a=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=fu(),n=Ku(),a=Gu(),s=ef,o=["/properties"],i="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(y=>this.addVocabulary(y)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const y=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(y,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}t.Ajv=c,e.exports=t=c,e.exports.Ajv=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var u=Vr();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var d=se();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var m=In();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return m.default}});var l=Br();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return l.default}})}(Nt,Nt.exports)),Nt.exports}var tf=Fi();const rf=Ia(tf);var yr={exports:{}},un={},$a;function nf(){return $a||($a=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(k,F){return{validate:k,compare:F}}e.fullFormats={date:t(s,o),time:t(c,u),"date-time":t(m,l),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:b,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:T,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:g,int32:{type:"number",validate:v},int64:{type:"number",validate:S},float:{type:"number",validate:$},double:{type:"number",validate:$},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,l),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(k){return k%4===0&&(k%100!==0||k%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,a=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(k){const F=n.exec(k);if(!F)return!1;const x=+F[1],q=+F[2],U=+F[3];return q>=1&&q<=12&&U>=1&&U<=(q===2&&r(x)?29:a[q])}function o(k,F){if(k&&F)return k>F?1:k<F?-1:0}const i=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function c(k,F){const x=i.exec(k);if(!x)return!1;const q=+x[1],U=+x[2],B=+x[3],W=x[5];return(q<=23&&U<=59&&B<=59||q===23&&U===59&&B===60)&&(!F||W!=="")}function u(k,F){if(!(k&&F))return;const x=i.exec(k),q=i.exec(F);if(x&&q)return k=x[1]+x[2]+x[3]+(x[4]||""),F=q[1]+q[2]+q[3]+(q[4]||""),k>F?1:k<F?-1:0}const d=/t|\s/i;function m(k){const F=k.split(d);return F.length===2&&s(F[0])&&c(F[1],!0)}function l(k,F){if(!(k&&F))return;const[x,q]=k.split(d),[U,B]=F.split(d),W=o(x,U);if(W!==void 0)return W||u(q,B)}const h=/\/|:/,y=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function b(k){return h.test(k)&&y.test(k)}const p=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function g(k){return p.lastIndex=0,p.test(k)}const f=-2147483648,_=2**31-1;function v(k){return Number.isInteger(k)&&k<=_&&k>=f}function S(k){return Number.isInteger(k)}function $(){return!0}const E=/[^\\]\\Z/;function T(k){if(E.test(k))return!1;try{return new RegExp(k),!0}catch{return!1}}}(un)),un}var fn={},ba;function sf(){return ba||(ba=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=Fi(),r=se(),n=r.operators,a={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},s={message:({keyword:i,schemaCode:c})=>r.str`should be ${a[i].okStr} ${c}`,params:({keyword:i,schemaCode:c})=>r._`{comparison: ${a[i].okStr}, limit: ${c}}`};e.formatLimitDefinition={keyword:Object.keys(a),type:"string",schemaType:"string",$data:!0,error:s,code(i){const{gen:c,data:u,schemaCode:d,keyword:m,it:l}=i,{opts:h,self:y}=l;if(!h.validateFormats)return;const b=new t.KeywordCxt(l,y.RULES.all.format.definition,"format");b.$data?p():g();function p(){const _=c.scopeValue("formats",{ref:y.formats,code:h.code.formats}),v=c.const("fmt",r._`${_}[${b.schemaCode}]`);i.fail$data(r.or(r._`typeof ${v} != "object"`,r._`${v} instanceof RegExp`,r._`typeof ${v}.compare != "function"`,f(v)))}function g(){const _=b.schema,v=y.formats[_];if(!v||v===!0)return;if(typeof v!="object"||v instanceof RegExp||typeof v.compare!="function")throw new Error(`"${m}": format "${_}" does not define "compare" function`);const S=c.scopeValue("formats",{key:_,ref:v,code:h.code.formats?r._`${h.code.formats}${r.getProperty(_)}`:void 0});i.fail$data(f(S))}function f(_){return r._`${_}.compare(${u}, ${d}) ${a[m].fail} 0`}},dependencies:["format"]};const o=i=>(i.addKeyword(e.formatLimitDefinition),i);e.default=o}(fn)),fn}var Sa;function af(){return Sa||(Sa=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=nf(),n=sf(),a=se(),s=new a.Name("fullFormats"),o=new a.Name("fastFormats"),i=(u,d={keywords:!0})=>{if(Array.isArray(d))return c(u,d,r.fullFormats,s),u;const[m,l]=d.mode==="fast"?[r.fastFormats,o]:[r.fullFormats,s],h=d.formats||r.formatNames;return c(u,h,m,l),d.keywords&&n.default(u),u};i.get=(u,d="full")=>{const l=(d==="fast"?r.fastFormats:r.fullFormats)[u];if(!l)throw new Error(`Unknown format "${u}"`);return l};function c(u,d,m,l){var h,y;(h=(y=u.opts.code).formats)!==null&&h!==void 0||(y.formats=a._`require("ajv-formats/dist/formats").${l}`);for(const b of d)u.addFormat(b,m[b])}e.exports=t=i,Object.defineProperty(t,"__esModule",{value:!0}),t.default=i}(yr,yr.exports)),yr.exports}var of=af();const wa=Ia(of),cf={allErrors:!0,multipleOfPrecision:8,strict:!1,verbose:!0,discriminator:!1},lf=/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,df=/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/;function uf(e,t,r={},n,a=rf){const s=new a({...cf,...r});return n?wa(s,n):n!==!1&&wa(s),s.addFormat("data-url",df),s.addFormat("color",lf),s.addKeyword(Pt),s.addKeyword($n),Array.isArray(e)&&s.addMetaSchema(e),Fe(t)&&Object.keys(t).forEach(o=>{s.addFormat(o,t[o])}),s}function ff(e=[],t){return e.map(r=>{var n;const{instancePath:a,keyword:s,params:o,schemaPath:i,parentSchema:c,...u}=r;let{message:d=""}=u,m=a.replace(/\//g,"."),l=`${m} ${d}`.trim();const h=[...((n=o.deps)===null||n===void 0?void 0:n.split(", "))||[],o.missingProperty,o.property].filter(y=>y);if(h.length>0)h.forEach(y=>{const b=m?`${m}.${y}`:y;let p=ee(z(t,`${b.replace(/^\./,"")}`)).title;if(p===void 0){const g=i.replace(/\/properties\//g,"/").split("/").slice(1,-1).concat([y]);p=ee(z(t,g)).title}if(p)d=d.replace(`'${y}'`,`'${p}'`);else{const g=z(c,[pe,y,"title"]);g&&(d=d.replace(`'${y}'`,`'${g}'`))}}),l=d;else{const y=ee(z(t,`${m.replace(/^\./,"")}`)).title;if(y)l=`'${y}' ${d}`.trim();else{const b=c==null?void 0:c.title;b&&(l=`'${b}' ${d}`.trim())}}return"missingProperty"in o&&(m=m?`${m}.${o.missingProperty}`:o.missingProperty),{name:s,property:m,message:d,params:o,stack:l,schemaPath:i}})}function mf(e,t,r,n,a,s,o){const{validationError:i}=t;let c=ff(t.errors,o);i&&(c=[...c,{stack:i.message}]),typeof s=="function"&&(c=s(c,o));let u=Jo(c);if(i&&(u={...u,$schema:{__errors:[i.message]}}),typeof a!="function")return{errors:c,errorSchema:u};const d=Fa(e,n,r,n,!0),m=a(d,Tr(d),o),l=On(m);return Sr({errors:c,errorSchema:u},l)}class hf{constructor(t,r){const{additionalMetaSchemas:n,customFormats:a,ajvOptionsOverrides:s,ajvFormatOptions:o,AjvClass:i}=t;this.ajv=uf(n,a,s,o,i),this.localizer=r}reset(){this.ajv.removeSchema()}rawValidation(t,r){var n,a;let s,o;t[Re]&&(o=this.ajv.getSchema(t[Re]));try{o===void 0&&(o=this.ajv.compile(t)),o(r)}catch(c){s=c}let i;return o&&(typeof this.localizer=="function"&&(((n=o.errors)!==null&&n!==void 0?n:[]).forEach(c=>{var u;["missingProperty","property"].forEach(d=>{var m;!((m=c.params)===null||m===void 0)&&m[d]&&(c.params[d]=`'${c.params[d]}'`)}),!((u=c.params)===null||u===void 0)&&u.deps&&(c.params.deps=c.params.deps.split(", ").map(d=>`'${d}'`).join(", "))}),this.localizer(o.errors),((a=o.errors)!==null&&a!==void 0?a:[]).forEach(c=>{var u;["missingProperty","property"].forEach(d=>{var m;!((m=c.params)===null||m===void 0)&&m[d]&&(c.params[d]=c.params[d].slice(1,-1))}),!((u=c.params)===null||u===void 0)&&u.deps&&(c.params.deps=c.params.deps.split(", ").map(d=>d.slice(1,-1)).join(", "))})),i=o.errors||void 0,o.errors=null),{errors:i,validationError:s}}validateFormData(t,r,n,a,s){const o=this.rawValidation(r,t);return mf(this,o,t,r,n,a,s)}handleSchemaUpdate(t){var r,n;const a=(r=t[Re])!==null&&r!==void 0?r:Na;this.ajv.getSchema(a)===void 0?this.ajv.addSchema(t,a):he(t,(n=this.ajv.getSchema(a))===null||n===void 0?void 0:n.schema)||(this.ajv.removeSchema(a),this.ajv.addSchema(t,a))}isValid(t,r,n){var a;try{this.handleSchemaUpdate(n);const s=kn(t),o=(a=s[Re])!==null&&a!==void 0?a:zo(s);let i;return i=this.ajv.getSchema(o),i===void 0&&(i=this.ajv.addSchema(s,o).getSchema(o)||this.ajv.compile(s)),i(r)}catch(s){return console.warn("Error encountered compiling schema:",s),!1}}}function pf(e={},t){return new hf(e,t)}const pm=pf();export{Eo as A,wd as F,hm as M,mm as W,Q as a,qe as b,Ga as c,ti as d,Ct as e,ke as f,Sd as g,jo as h,Hn as i,Ro as j,Cn as k,ot as l,pm as v};
