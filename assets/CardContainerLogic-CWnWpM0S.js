var tr=Object.defineProperty;var nr=(e,n,a)=>n in e?tr(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a;var P=(e,n,a)=>nr(e,typeof n!="symbol"?n+"":n,a);import{aR as sa,aS as oa,aT as ar,U as Pe,j as t,r as x,aY as ia,ee as rr,a$ as De,b0 as xe,aW as ft,b1 as ye,aX as la,b2 as Wt,bs as sr,b5 as me,b6 as _n,eC as or,eD as da,eE as ir,c6 as ua,X as I,eb as lr,B as W,eF as Gt,e2 as Me,dh as Rn,a1 as Z,dF as dr,c1 as F,b$ as ge,_ as G,V as R,br as ur,eG as cr,aa as Q,eH as Vn,an as Yt,eI as pr,eJ as mr,F as yr,eK as fr,a0 as Kt,eL as gr,eM as hr,ei as he,Y as Jt,al as X,eN as ca,eO as pa,eP as Be,eQ as oe,eR as xr,ak as br,eS as Ze,cv as Sr,dZ as ma,bF as vr,eT as ya,eU as fa,eV as wn,eW as Cr,eX as ga,cx as Qe,Z as Nr,eY as Tr,eZ as ha,e_ as _r,e$ as Rr,f0 as Vr,ch as In,f1 as wr,bV as Xt,ag as H,f2 as Ue,f3 as Ir,f4 as et,f5 as xa,f6 as Le,f7 as ba,f8 as Zt,f9 as en,fa as Sa,fb as tn,am as gt,$ as de,dG as be,bn as qr,bo as jr,ey as $e,fc as Pr,dE as Lr,e4 as va,fd as ae,fe as qn,ff as Fr,fg as Ca,fh as re,cs as Er,dH as nn,bX as kr,J as Ar,d0 as Dr,dj as ie,e5 as Mr,fi as Or,fj as Br,e8 as Na,fk as Qr,cy as ze,fl as ht,eA as Ta,dW as Ur,cG as jn,eB as _a,ex as $r,ez as zr,fm as Hr,fn as Wr}from"./iframe-CJCPT_yY.js";import{u as E,Q as Gr}from"./QueryContext-BXlD8Xq0.js";import{u as ue,a as O,b as ce,Q as an,c as rn,N as He,d as Ra}from"./QueryWrapper-i2UyNi6y.js";import{A as Yr}from"./Autocomplete-Nj1ACxqm.js";import{S as Kr,u as Jr}from"./UserSearchBoxV2-C1gAbNl7.js";import{f as Xr}from"./JsonSchemaForm-CRDG6Y4V.js";import{P as Zr,u as es,g as ts,F as ns,Q as Va,S as wa,a as as}from"./FeaturedDataTabs-CwZP0iRI.js";import{g as Oe,a as Pn,b as rs,T as ss}from"./CardUtils-B_j3JGE-.js";import{G as os}from"./GenericCardIcon-D5z3eXph.js";import{C as is}from"./CopyToClipboardIcon-DzbxchYu.js";import{C as ls}from"./CreateOrUpdateDoiModal-DHCmE-YK.js";import{u as Ia}from"./useDOI-D5o0wmXq.js";import{u as qa}from"./usePortal-DtZJblgk.js";import{g as tt,m as ds}from"./SynapseTableUtils-ixCcG6_x.js";import{u as pe}from"./useEntity-cRx-7M0H.js";import{u as ja}from"./index-CozH_m1k.js";import{F as us,C as cs}from"./CitationPopoverContent-CvdmGuD1.js";import"./ErrorPage-D2wMSYaB.js";import"./AccessTokenPage-BcOXeMFH.js";import"./AccountLevelBadges-mDvQgsxF.js";import{C as Ln}from"./CardGridWithLinks-B3uiuIak.js";import"./RowDataTable-DpOuU_RR.js";import"./RowDataTableWithQuery-Cl8n6nSf.js";import{a as ps,b as ms}from"./useDownloadList-DQUZjMOS.js";import"./MarkdownPopover-D-gx4RgI.js";import"./SkeletonButton-B0ZXgmWW.js";import{S as ys}from"./SkeletonInlineBlock-DKm9jtot.js";import{S as fs}from"./SkeletonTable-DEcRya5M.js";import"./SkeletonParagraph-CRVUa_L6.js";import"./CertificationAnswer-CTX8YcQl.js";import"./ChallengeDetailPage-BRkRlxyj.js";import"./index-KqflvV3D.js";import"./AvailableEvaluationQueueList-DOR7MzA0.js";import"./ChallengeSubmission-ajMvbaL5.js";import"./ChangePassword-BCPB3IdO.js";import"./ChangePasswordWithToken-dUN7d89y.js";import{C as gs}from"./ConfirmationDialog-BD2HXlgs.js";import"./CookiesNotification-DDfkdu1i.js";import{C as Fn}from"./CTASectionWrapper-BM2WzpL3.js";import{P as hs,R as xs}from"./DownloadCartPage-CZFxlfDS.js";import"./ShowDownloadV2-CMUUYwt-.js";import{D as bs}from"./DynamicForm-CBGU6-iL.js";import{W as sn}from"./WideButton-C_3d_W11.js";import"./EntityBadgeIcons-Cp-6XhCK.js";import"./EntityFinder-CRYCbvSX.js";import{F as Ss,v as vs}from"./index-BcUbJzoU.js";import"./enums-BOGERhLR.js";import"./index-r8ZA1smB.js";import"./EvaluationCard-CBOMFJNH.js";import"./EvaluationEditorPage-BoUogwZj.js";import"./ExperimentalMode-CAK8zz4p.js";import"./FileUpload-13Zf6Vq_.js";import"./FeaturedToolsList-DZ5NL-aV.js";import"./DiscussionThread-B944-EXj.js";import"./ForumPage-BblMSCu5.js";import{S as Cs}from"./SynapseCardLabel-Bo2s6XSn.js";import{G as Ns}from"./GenericCard-i0uXENJA.js";import"./HeaderCardV2-BC5UKHT-.js";import"./Goals-Od1ldkna.js";import"./GoalsV2-L3TZlmK_.js";import{G as En}from"./GoalsV3-L6zPd3Go.js";import"./GoogleMap-0-rLdma-.js";import"./HasAccessV2-ByWyKbV2.js";import{I as Pa}from"./Icon-6DrHZxTR.js";import"./MarkdownCollapse-BharHxk1.js";import"./MarkdownEditor-D3x-NNnQ.js";import"./MarkdownGithub-1XN_BDFf.js";import{M as La}from"./ModalDownload-CnGiqk2-.js";import"./InfiniteTableLayout-lpwNQflz.js";import"./CopyToClipboardInput-7dLvQWOf.js";import"./DialogBase-DD_PbrBf.js";import"./WarningDialog-BJjNwIbN.js";import"./ColumnHeader-CJj1fMUJ.js";import"./StyledTanStackTable-DFsJCrLs.js";import"./OAuthAclEditorModal-CM6YCss_.js";import"./ThemesPlot-O9juFDKw.js";import"./UpsetPlot-B_kCKWte.js";import{S as Ts}from"./SynapsePlot-CnQB0Pwo.js";import"./Programs-D5Hj3-BR.js";import{P as _s}from"./ProgrammaticInstructionsModal-D8zuyEiL.js";import"./ProvenanceGraph-DBvs11QL.js";import"./ProjectDataAvailability-DGjK8ZN2.js";import{Q as Rs}from"./QueryCount-DnCpsuZq.js";import{u as on,a as ln,b as Vs,s as ws,i as Fa}from"./TableRowSelectionState-Dg2Wya8k.js";import{g as Is,a as qs,b as js,c as Ps,E as Ls}from"./ExportToAnalysisPlatformDialog-BAqcs7nI.js";import{H as Ea}from"./HelpPopover-C4PJJkqz.js";import{I as Fs}from"./IconSvgButton-BMrU_2Cm.js";import{g as Es}from"./TextFieldWithWordLimit-BSskKefi.js";import{C as ks,a as As}from"./index-DYA02gkP.js";import{T as Ds}from"./SynapseTableConstants-2qH3fDlQ.js";import{R as Ms}from"./RowSelectionUI-ClxU4ZnO.js";import{D as Os}from"./DownloadLoginModal-3S4Y0EM1.js";import{M as fe}from"./MenuItem-FQcUK81X.js";import{p as dn}from"./pluralize-CC--1ngb.js";import{S as Bs}from"./SelectionCriteriaPill-BOCwQzMb.js";import"./RegisterPageLogoutPrompt-CBUlZedL.js";import"./RenderIfInView-DBdQFHqP.js";import"./Resources-D6Qa6jvv.js";import"./AccessRequirementAclEditor-dTnZToWJ.js";import"./RssFeedCards-DhArEP_r.js";import{S as Qs}from"./ShowMore-DhTYjz_z.js";import"./LightTooltip-BJLQph6o.js";import"./InputSizedButton-Dryo4hJq.js";import"./DropdownSelect-DOBuje3n.js";import"./SubscriptionItem-C-Y1VO-E.js";import"./SubsectionRowRenderer-BbnONll6.js";import"./SynapseFormWrapper-BKp-17h3.js";import"./SynapseFormSubmissionGrid-B90RdJgY.js";import{u as Us,S as $s}from"./SynapseTable-BD8nf3tc.js";import"./SynapseChat-DKHvyTfr.js";import"./TableFeedCards-CYoNCusH.js";import"./TermsAndConditions-Bh6A9geF.js";import{g as kn}from"./ColorGradient-Zy7TAKxK.js";import{B as Y}from"./Box-vy3t0olq.js";import{P as zs}from"./Plot-B_WZF2qo.js";import{u as Hs}from"./index-wZc1pVPl.js";import{U as Ws}from"./UserBadge-CPPowmDC.js";import{U as Gs}from"./UserCardListRotate-BBb5UOGI.js";import"./UserCardListGroups-Bq38X-aF.js";import"./UserOrTeamBadge-CqbjpjNp.js";import"./UserProfileLinks-B2b5ruVE.js";import"./EntityHeaderTable-C676RvFJ.js";import"./AccessRequirementRelatedProjectsList-BTsodPIy.js";import"./SageResourcesPopover-CYloUGXv.js";import"./RecentPublicationsGrid-BENJCao3.js";import"./ImageCardGridWithLinks-UpJKiSps.js";import"./PortalFeatureHighlights-BE2s0MJC.js";import{u as un}from"./useImageUrlUtils-BD3xwKz6.js";import{P as ka}from"./PortalSectionHeader-ESdReD8q.js";import{C as cn}from"./CardMedia-B0t8Xxl4.js";import"./CreatePortalModal-D044PcJy.js";import{D as Ys}from"./DownloadConfirmationUI-aR2_D24a.js";import{d as Ks}from"./DownloadConfirmationUtils-XTm5IiIL.js";import{I as Js}from"./IconList-BJcFxXLV.js";import{S as Xs}from"./ShareThisPage-Ch2dinfL.js";import{a as Zs}from"./use-deep-compare-effect.esm-D7KdGUWw.js";import{F as eo,L as to}from"./DataGrid-Cz0pEukb.js";import{u as An}from"./useInfiniteQuery-Cpo1uBE7.js";function no(e){return sa("MuiPagination",e)}oa("MuiPagination",["root","ul","outlined","text"]);function ao(e={}){const{boundaryCount:n=1,componentName:a="usePagination",count:s=1,defaultPage:r=1,disabled:o=!1,hideNextButton:l=!1,hidePrevButton:i=!1,onChange:d,page:u,showFirstButton:c=!1,showLastButton:p=!1,siblingCount:m=1,...g}=e,[h,y]=ar({controlled:u,default:r,name:a,state:"page"}),S=(V,_)=>{u||y(_),d&&d(V,_)},f=(V,_)=>{const A=_-V+1;return Array.from({length:A},(U,q)=>V+q)},b=f(1,Math.min(n,s)),v=f(Math.max(s-n+1,n+1),s),C=Math.max(Math.min(h-m,s-n-m*2-1),n+2),N=Math.min(Math.max(h+m,n+m*2+2),s-n-1),T=[...c?["first"]:[],...i?[]:["previous"],...b,...C>n+2?["start-ellipsis"]:n+1<s-n?[n+1]:[],...f(C,N),...N<s-n-1?["end-ellipsis"]:s-n>n?[s-n]:[],...v,...l?[]:["next"],...p?["last"]:[]],w=V=>{switch(V){case"first":return 1;case"previous":return h-1;case"next":return h+1;case"last":return s;default:return null}};return{items:T.map(V=>typeof V=="number"?{onClick:_=>{S(_,V)},type:"page",page:V,selected:V===h,disabled:o,"aria-current":V===h?"page":void 0}:{onClick:_=>{S(_,w(V))},type:V,page:w(V),selected:!1,disabled:o||!V.includes("ellipsis")&&(V==="next"||V==="last"?h>=s:h<=1)}),...g}}function ro(e){return sa("MuiPaginationItem",e)}const M=oa("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),so=Pe(t.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),oo=Pe(t.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),Aa=(e,n)=>{const{ownerState:a}=e;return[n.root,n[a.variant],n[`size${ye(a.size)}`],a.variant==="text"&&n[`text${ye(a.color)}`],a.variant==="outlined"&&n[`outlined${ye(a.color)}`],a.shape==="rounded"&&n.rounded,a.type==="page"&&n.page,(a.type==="start-ellipsis"||a.type==="end-ellipsis")&&n.ellipsis,(a.type==="previous"||a.type==="next")&&n.previousNext,(a.type==="first"||a.type==="last")&&n.firstLast]},io=e=>{const{classes:n,color:a,disabled:s,selected:r,size:o,shape:l,type:i,variant:d}=e,u={root:["root",`size${ye(o)}`,d,l,a!=="standard"&&`color${ye(a)}`,a!=="standard"&&`${d}${ye(a)}`,s&&"disabled",r&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[i]],icon:["icon"]};return la(u,ro,n)},lo=xe("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:Aa})(Wt(({theme:e})=>({...e.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,height:"auto",[`&.${M.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},variants:[{props:{size:"small"},style:{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)}}]}))),uo=xe(sr,{name:"MuiPaginationItem",slot:"Root",overridesResolver:Aa})(Wt(({theme:e})=>({...e.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,[`&.${M.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${M.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${M.selected}`]:{backgroundColor:(e.vars||e).palette.action.selected,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:me(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${M.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:me(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},[`&.${M.disabled}`]:{opacity:1,color:(e.vars||e).palette.action.disabled,backgroundColor:(e.vars||e).palette.action.selected}},variants:[{props:{size:"small"},style:{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)}},{props:{shape:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"outlined"},style:{border:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${M.selected}`]:{[`&.${M.disabled}`]:{borderColor:(e.vars||e).palette.action.disabledBackground,color:(e.vars||e).palette.action.disabled}}}},{props:{variant:"text"},style:{[`&.${M.selected}`]:{[`&.${M.disabled}`]:{color:(e.vars||e).palette.action.disabled}}}},...Object.entries(e.palette).filter(_n(["dark","contrastText"])).map(([n])=>({props:{variant:"text",color:n},style:{[`&.${M.selected}`]:{color:(e.vars||e).palette[n].contrastText,backgroundColor:(e.vars||e).palette[n].main,"&:hover":{backgroundColor:(e.vars||e).palette[n].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[n].main}},[`&.${M.focusVisible}`]:{backgroundColor:(e.vars||e).palette[n].dark},[`&.${M.disabled}`]:{color:(e.vars||e).palette.action.disabled}}}})),...Object.entries(e.palette).filter(_n(["light"])).map(([n])=>({props:{variant:"outlined",color:n},style:{[`&.${M.selected}`]:{color:(e.vars||e).palette[n].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[n].mainChannel} / 0.5)`:me(e.palette[n].main,.5)}`,backgroundColor:e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.activatedOpacity})`:me(e.palette[n].main,e.palette.action.activatedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[n].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:me(e.palette[n].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${M.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[n].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:me(e.palette[n].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity)}}}}))]}))),co=xe("div",{name:"MuiPaginationItem",slot:"Icon"})(Wt(({theme:e})=>({fontSize:e.typography.pxToRem(20),margin:"0 -8px",variants:[{props:{size:"small"},style:{fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:e.typography.pxToRem(22)}}]}))),Da=x.forwardRef(function(n,a){const s=ia({props:n,name:"MuiPaginationItem"}),{className:r,color:o="standard",component:l,components:i={},disabled:d=!1,page:u,selected:c=!1,shape:p="circular",size:m="medium",slots:g={},slotProps:h={},type:y="page",variant:S="text",...f}=s,b={...s,color:o,disabled:d,selected:c,shape:p,size:m,type:y,variant:S},v=rr(),C=io(b),N={slots:{previous:g.previous??i.previous,next:g.next??i.next,first:g.first??i.first,last:g.last??i.last},slotProps:h},[T,w]=De("previous",{elementType:so,externalForwardedProps:N,ownerState:b}),[k,V]=De("next",{elementType:oo,externalForwardedProps:N,ownerState:b}),[_,A]=De("first",{elementType:eo,externalForwardedProps:N,ownerState:b}),[U,q]=De("last",{elementType:to,externalForwardedProps:N,ownerState:b}),$=v?{previous:"next",next:"previous",first:"last",last:"first"}[y]:y,z={previous:T,next:k,first:_,last:U}[$],ee={previous:w,next:V,first:A,last:q}[$];return y==="start-ellipsis"||y==="end-ellipsis"?t.jsx(lo,{ref:a,ownerState:b,className:ft(C.root,r),children:"â€¦"}):t.jsxs(uo,{ref:a,ownerState:b,component:l,disabled:d,className:ft(C.root,r),...f,children:[y==="page"&&u,z?t.jsx(co,{...ee,className:C.icon,as:z}):null]})}),po=e=>{const{classes:n,variant:a}=e;return la({root:["root",a],ul:["ul"]},no,n)},mo=xe("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:a}=e;return[n.root,n[a.variant]]}})({}),yo=xe("ul",{name:"MuiPagination",slot:"Ul"})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function fo(e,n,a){return e==="page"?`${a?"":"Go to "}page ${n}`:`Go to ${e} page`}const go=x.forwardRef(function(n,a){const s=ia({props:n,name:"MuiPagination"}),{boundaryCount:r=1,className:o,color:l="standard",count:i=1,defaultPage:d=1,disabled:u=!1,getItemAriaLabel:c=fo,hideNextButton:p=!1,hidePrevButton:m=!1,onChange:g,page:h,renderItem:y=_=>t.jsx(Da,{..._}),shape:S="circular",showFirstButton:f=!1,showLastButton:b=!1,siblingCount:v=1,size:C="medium",variant:N="text",...T}=s,{items:w}=ao({...s,componentName:"Pagination"}),k={...s,boundaryCount:r,color:l,count:i,defaultPage:d,disabled:u,getItemAriaLabel:c,hideNextButton:p,hidePrevButton:m,renderItem:y,shape:S,showFirstButton:f,showLastButton:b,siblingCount:v,size:C,variant:N},V=po(k);return t.jsx(mo,{"aria-label":"pagination navigation",className:ft(V.root,o),ownerState:k,ref:a,...T,children:t.jsx(yo,{className:V.ul,ownerState:k,children:w.map((_,A)=>t.jsx("li",{children:y({..._,color:l,"aria-label":c(_.type,_.page,_.selected),shape:S,size:C,variant:N})},A))})})});let pt=!1;const ho=(e="GTM-KPW4KS62")=>{const[n]=or();return x.useEffect(()=>{var a;if(n.analyticsAllowed&&!pt){window.dataLayer=window.dataLayer||[],window.dataLayer.push({"gtm.start":new Date().getTime(),event:"gtm.js"});const s=document.getElementsByTagName("script")[0],r=document.createElement("script"),o="&l=dataLayer";r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id="+e+o,(a=s.parentNode)==null||a.insertBefore(r,s),pt=!0}},[n,e]),pt},xo=Pe([t.jsx("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 2v3H4V5zM4 21V10h16v11z"},"0"),t.jsx("path",{d:"M4 5.01h16V8H4z",opacity:".3"},"1")]),bo=Pe([t.jsx("path",{d:"M5 18.08V19h.92l9.06-9.06-.92-.92z",opacity:".3"},"0"),t.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM5.92 19H5v-.92l9.06-9.06.92.92zM20.71 5.63l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41"},"1")]),So=Pe(t.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}));function xt(e){const n=E(),{getCurrentQueryRequest:a,addValueToSelectedFacet:s,removeSelectedFacet:r}=n,{data:o}=ue(),{topLevelEnumeratedFacetToFilter:l}=e,i=a(),d=((o==null?void 0:o.facets)??[]).find(g=>da(g,l)),u=(d==null?void 0:d.facetValues.map(({value:g})=>g))??[],c=ir(l,i.query.selectedFacets),p=(c==null?void 0:c.facetValues)||[],m=(g,h)=>{r(l),h.forEach(y=>s(l,y))};return t.jsx("div",{children:u.length>0&&t.jsx(Yr,{multiple:!0,options:u,value:p,onChange:m,renderInput:g=>t.jsx(ua,{...g,placeholder:"Select Filter(s)"})})})}try{xt.displayName="ColumnFilter",xt.__docgenInfo={description:"",displayName:"ColumnFilter",props:{topLevelEnumeratedFacetToFilter:{defaultValue:null,description:"",name:"topLevelEnumeratedFacetToFilter",required:!0,type:{name:"UniqueFacetIdentifier"}}}}}catch{}function bt({sortConfig:e}){const{defaultColumn:n,defaultDirection:a,sortableColumns:s}=e,{executeQueryRequest:r}=E(),{getColumnDisplayName:o}=O(),[l,i]=x.useState(n),[d,u]=x.useState(a),c=s.map(m=>({value:m,label:o(m)})),p=m=>{r(g=>{let h="ASC";return m===l&&(h=d==="ASC"?"DESC":"ASC"),g.query.sort=m?[{column:m,direction:h}]:void 0,i(m),u(h),g})};return t.jsxs("div",{className:"QuerySortSelector",children:[t.jsx(I,{variant:"label",className:"sort-by-label SRC-inlineBlock",children:"Sort by"}),t.jsx(Kr,{className:"react-select-container SRC-inlineBlock",value:Xr(l,c),options:c,onChange:m=>p(m==null?void 0:m.value),styles:{control:m=>({...m,marginLeft:"15px"})}})]})}try{bt.displayName="QuerySortSelector",bt.__docgenInfo={description:"",displayName:"QuerySortSelector",props:{sortConfig:{defaultValue:null,description:"",name:"sortConfig",required:!0,type:{name:"SortConfiguration"}}}}}catch{}const vo=e=>e.map(n=>({concreteType:"org.sagebionetworks.repo.model.table.FacetColumnValuesRequest",columnName:n.facet,facetValues:[n.facetValue]})),Co=(e,n)=>{const a={sql:e,selectedFacets:vo(n)};return encodeURIComponent(JSON.stringify(a))},No=(e,n,a)=>{const s=Co(n,a);return`${e}?QueryWrapper0=${s}`},pn=lr(W)({height:"20px",padding:"2px 8px",borderColor:"grey.400",fontWeight:700,lineHeight:"20px","& .MuiButton-startIcon":{marginRight:"4px",marginLeft:0}}),Dn="syn65903895";function To(e,n){return Gt({entityId:Dn,query:{sql:`SELECT * FROM ${Dn}`},partMask:Z,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest"},{staleTime:1/0,select:a=>{var d,u,c,p;const s=Me("dataset",(d=a.queryResult)==null?void 0:d.queryResults.headers),r=Me("dataset_version",(u=a.queryResult)==null?void 0:u.queryResults.headers),o=Me("croissant_file_s3_object",(c=a.queryResult)==null?void 0:c.queryResults.headers);if(s===void 0||r===void 0||o===void 0)return null;const l=Rn(e),i=(p=a.queryResult)==null?void 0:p.queryResults.rows.find(m=>{const g=m.values[s];return typeof g!="string"?!1:Rn(g)===l&&String(m.values[r])===String(n)});return(i==null?void 0:i.values[o])??null}})}function St(e){const{datasetId:n,datasetVersionNumber:a}=e,{data:s,isLoading:r}=To(n,a);return!s&&!r?null:t.jsx(dr,{condition:r,wrapper:F,wrapperProps:{role:"progressbar"},children:t.jsx(ge,{placement:"top",title:t.jsxs(I,{children:["Croissant is a metadata standard designed for AI-ready datasets. Learn more"," ",t.jsx(G,{href:"https://mlcommons.org/working-groups/data/croissant/",target:"_blank",rel:"noopener noreferrer",children:"here"}),"."]}),children:t.jsx(pn,{href:s||"#",target:"_blank",variant:"outlined",startIcon:"ðŸ¥",children:"Croissant"})})})}try{St.displayName="CroissantButton",St.__docgenInfo={description:`Given a Synapse ID and version number of a dataset, this component will render a button that links to the Croissant
metadata for that dataset.`,displayName:"CroissantButton",props:{datasetId:{defaultValue:null,description:"The synID of the dataset",name:"datasetId",required:!0,type:{name:"string"}},datasetVersionNumber:{defaultValue:null,description:"The version number of the dataset",name:"datasetVersionNumber",required:!0,type:{name:"number"}}}}}catch{}function vt(e){const[n,a]=x.useState(!1),{portalId:s,resourceId:r}=e,{data:o}=qa(s,{select:u=>u.canMintDoi}),{data:l,isLoading:i}=Ia({id:r,portalId:s,type:"PORTAL_RESOURCE"});if(i)return t.jsx(F,{role:"progressbar",width:150});const d=l?`https://doi.org/${l.doiUri}`:void 0;return t.jsxs(t.Fragment,{children:[t.jsx(ls,{open:n,onClose:()=>a(!1),objectType:"PORTAL_RESOURCE",objectId:r,portalId:s}),t.jsxs(R,{sx:{display:"flex",alignItems:"center",gap:.5,height:0},children:[l&&t.jsxs(t.Fragment,{children:[t.jsx(G,{href:d,target:"_blank",children:d}),t.jsx(is,{size:"small",value:l.doiUrl,sx:{color:"inherit"}}),o&&t.jsx(ge,{title:"Edit DOI",children:t.jsx(ur,{onClick:()=>a(!0),size:"small",sx:{color:"inherit"},children:t.jsx(bo,{fontSize:"inherit"})})})]}),!l&&o&&t.jsx(G,{role:"button",onClick:()=>a(!0),children:"Click to Create a DOI"})]})]})}try{vt.displayName="PortalDOI",vt.__docgenInfo={description:"Component used to view/create/edit a DOI for a portal resource.",displayName:"PortalDOI",props:{portalId:{defaultValue:null,description:"The ID of the portal created with https://rest-docs.synapse.org/rest/POST/portal.html",name:"portalId",required:!0,type:{name:"string"}},resourceId:{defaultValue:null,description:`The ID of the resource. For Portals, this is a string that serializes the resourceType and all key information for
the resource`,name:"resourceId",required:!0,type:{name:"string"}}}}}catch{}function _o(e){const{portalId:n,resourceId:a}=e,{data:s}=Ia({id:a,portalId:n,type:"PORTAL_RESOURCE"},{enabled:!!(n&&a)}),{data:r}=qa(n,{enabled:!!n,select:o=>o.canMintDoi});return!!(s||r)}function Ro(e){const{portalDoiConfiguration:n,data:a}=e;if(!n)return;const{resourceType:s,resourceIdKeyColumns:r,serializeDoiString:o}=n,l=r==null?void 0:r.reduce((i,d)=>{const u=a[d];return u!=null&&(i[d]=u),i},{});if(!(!l||Object.keys(l).length===0))return o(s,l)}function Ct(e){const[n,a]=x.useState(null),s=i=>{a(i.currentTarget)},r=()=>{a(null)},o=!!n,l=o?"cite-as-popover":void 0;return t.jsxs(t.Fragment,{children:[e.doi&&t.jsx(pn,{onClick:s,variant:"outlined",startIcon:t.jsx(us,{}),sx:e.buttonSx,children:t.jsx(I,{variant:"label",sx:{lineHeight:"20px"},children:"Cite As"})}),t.jsx(cs,{...e,anchorEl:n,open:o,id:l,onClose:r})]})}try{Ct.displayName="CitationPopover",Ct.__docgenInfo={description:"",displayName:"CitationPopover",props:{doi:{defaultValue:null,description:"",name:"doi",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},boilerplateText:{defaultValue:null,description:"",name:"boilerplateText",required:!1,type:{name:"string"}},defaultCitationFormat:{defaultValue:null,description:"",name:"defaultCitationFormat",required:!1,type:{name:"enum",value:[{value:'"bibtex"'},{value:'"apa"'},{value:'"ieee"'},{value:'"nature"'},{value:'"science"'}]}},selectSx:{defaultValue:null,description:"",name:"selectSx",required:!1,type:{name:"SxProps"}},buttonSx:{defaultValue:null,description:"",name:"buttonSx",required:!1,type:{name:"SxProps"}}}}}catch{}try{Ln.displayName="CardGridWithLinks",Ln.__docgenInfo={description:"",displayName:"CardGridWithLinks",props:{linkText:{defaultValue:null,description:"",name:"linkText",required:!0,type:{name:"string"}},cards:{defaultValue:null,description:"",name:"cards",required:!0,type:{name:"CardGridWithLinksConfig[]"}}}}}catch{}try{Fn.displayName="CTASectionWrapper",Fn.__docgenInfo={description:"",displayName:"CTASectionWrapper",props:{themeMode:{defaultValue:null,description:"",name:"themeMode",required:!0,type:{name:"enum",value:[{value:'"dark"'},{value:'"light"'}]}},showBlobs:{defaultValue:{value:"true"},description:"",name:"showBlobs",required:!1,type:{name:"boolean"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"React.ReactNode"}},sx:{defaultValue:null,description:"",name:"sx",required:!1,type:{name:"SxProps"}}}}}catch{}const Mn=({schemaUrl:e,uiSchemaUrl:n,postUrl:a,submitButtonText:s})=>{const[r,o]=x.useState(!1),l=()=>{o(!0)},i=()=>{o(!1)},d=t.jsx(bs,{schemaUrl:e,uiSchemaUrl:n,postUrl:a,onSubmit:()=>{i()}});return t.jsx("div",{className:"browse-tools-page",children:t.jsxs(R,{sx:{margin:"10px 0px 50px 0px"},children:[t.jsx(sn,{className:"highlightSubmitToolButton",variant:"contained",onClick:l,children:s}),t.jsx(gs,{open:r,title:"",content:d,onCancel:i,onConfirm:()=>{},confirmButtonProps:{sx:{display:"none"}},cancelButtonProps:{children:"cancel"}})]})})};try{Mn.displayName="DynamicFormModal",Mn.__docgenInfo={description:"",displayName:"DynamicFormModal",props:{schemaUrl:{defaultValue:null,description:"",name:"schemaUrl",required:!0,type:{name:"string"}},uiSchemaUrl:{defaultValue:null,description:"",name:"uiSchemaUrl",required:!0,type:{name:"string"}},postUrl:{defaultValue:null,description:"",name:"postUrl",required:!0,type:{name:"string"}},mutateFormDataBeforePost:{defaultValue:null,description:"",name:"mutateFormDataBeforePost",required:!1,type:{name:"(formData: any) => any"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!1,type:{name:"() => void"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"() => void"}},submitButtonText:{defaultValue:null,description:"",name:"submitButtonText",required:!1,type:{name:"string"}}}}}catch{}class Ve extends x.Component{constructor(a){super(a);P(this,"formRef");P(this,"submitForm",()=>{this.formRef.current.submit()});P(this,"refresh",()=>{if(this.context.accessToken){const a=[Q.getUserProfile(this.context.accessToken),Q.getEntity(this.context.accessToken,this.props.formSchemaEntityId),Q.getEntity(this.context.accessToken,this.props.formUiSchemaEntityId)];Promise.all(a).then(s=>{const r=s[0];this.getTargetContainer(r,this.context.accessToken).then(o=>{const l=s[1],i=s[2];this.getSchemaFileContent(o,l,i)})}).catch(s=>{this.onError(s)})}});P(this,"getSchemaFileContent",(a,s,r)=>{const o=[Q.getFileResult(s,this.context.accessToken,!0,!0),Q.getFileResult(r,this.context.accessToken,!0,!0)];Promise.all(o).then(l=>{try{const i=l.map(d=>Vn(d.fileHandle,d.preSignedURL));Promise.all(i).then(d=>{const u=JSON.parse(d[0]),c=JSON.parse(d[1]);this.getExistingFileData(a,u,c)}).catch(d=>{console.log("getSchemaFileContent: Error getting form content",d)})}catch(i){console.log("getSchemaFileContent: Error getting schema content",i)}}).catch(l=>{this.onError(l)})});P(this,"getExistingFileData",(a,s,r)=>{const l={entityName:`${s.title}.json`,parentId:a};let i,d;Q.lookupChildEntity(l,this.context.accessToken).then(u=>Q.getEntity(this.context.accessToken,u.id).then(c=>(d=c,this.props.initFormData?Q.getFileResult(d,this.context.accessToken,!0,!0).then(async p=>{try{const m=await Vn(p.fileHandle,p.preSignedURL);i=JSON.parse(m)}catch(m){console.log("getExistingFileData: Error setting form data",m)}}):Promise.resolve()))).finally(()=>{this.setState({formData:i,currentFileEntity:d,formSchema:s,formUiSchema:r})})});P(this,"getTargetContainer",async(a,s)=>{const r={entityName:a.ownerId,parentId:this.props.parentContainerId};try{const o=await Q.lookupChildEntity(r,s);return console.log(`EntityForm uploading to https://www.synapse.org/Synapse:${o.id}`),this.setState({userprofile:a,containerId:o.id,isLoading:!1}),o.id}catch(o){return o.status===404?this.onError(new Error("Your folder has not yet been set up, please retry in a few minutes.")):this.onError(o)}});P(this,"finishedProcessing",()=>{this.setState({isLoading:!1,successfullyUploaded:!0})});P(this,"onError",a=>{this.setState({error:a,isLoading:!1,successfullyUploaded:!1})});P(this,"onSubmit",({formData:a})=>{this.setState({isLoading:!0,successfullyUploaded:!1});const s=new Blob([JSON.stringify(a)],{type:"text/json"});this.createEntityFile(s)});P(this,"createEntityFile",a=>{const s=`${this.state.formSchema.title}.json`;Q.uploadFile(this.context.accessToken,s,a).then(r=>{const o=r.fileHandleId;if(this.state.currentFileEntity){const i={...this.state.currentFileEntity,dataFileHandleId:o};return this.setState({currentFileEntity:i}),Q.updateEntity(i,this.context.accessToken)}const l={parentId:this.state.containerId,name:s,concreteType:"org.sagebionetworks.repo.model.FileEntity",dataFileHandleId:o};return Q.createEntity(l,this.context.accessToken)}).then(r=>{this.finishedProcessing(),this.props.synIdCallback&&this.props.synIdCallback(r.id)}).catch(r=>{this.onError(r)})});this.formRef=x.createRef(),this.state={isLoading:!0,successfullyUploaded:!1}}componentDidMount(){this.refresh()}render(){return t.jsxs("div",{children:[this.state.error&&t.jsxs("div",{className:"panel panel-danger errors",children:[t.jsx("div",{className:"panel-heading",children:t.jsx("h3",{className:"panel-title",children:"Error"})}),t.jsx("ul",{className:"list-group",children:t.jsxs("li",{className:"list-group-item text-danger",children:[this.state.error.name," ",this.state.error.reason,this.state.error.message]})})]}),this.context.accessToken&&!this.state.isLoading&&!this.state.successfullyUploaded&&this.state.formSchema&&this.state.formUiSchema&&!this.state.error&&t.jsx(Ss,{validator:vs,formData:this.state.formData,schema:this.state.formSchema,uiSchema:this.state.formUiSchema,onSubmit:this.onSubmit,ref:this.formRef,children:t.jsx("div",{style:{display:"none"},children:t.jsx("button",{type:"submit",className:"btn btn-info",children:"Submit"})})}),!this.state.error&&this.context.accessToken&&this.state.isLoading&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"Savingâ€¦"}),t.jsx("span",{style:{marginLeft:"2px"},className:"spinner"})]})]})}}P(Ve,"contextType",cr);try{Ve.displayName="EntityForm",Ve.__docgenInfo={description:"",displayName:"EntityForm",props:{parentContainerId:{defaultValue:null,description:"",name:"parentContainerId",required:!0,type:{name:"string"}},formSchemaEntityId:{defaultValue:null,description:"",name:"formSchemaEntityId",required:!0,type:{name:"string"}},formUiSchemaEntityId:{defaultValue:null,description:"",name:"formUiSchemaEntityId",required:!0,type:{name:"string"}},initFormData:{defaultValue:null,description:"",name:"initFormData",required:!0,type:{name:"boolean"}},synIdCallback:{defaultValue:null,description:"",name:"synIdCallback",required:!0,type:{name:"(synId: string) => void"}}}}}catch{}try{Ve.contextType.displayName="EntityForm.contextType",Ve.contextType.__docgenInfo={description:"If set, `this.context` will be set at runtime to the current value of the given Context.",displayName:"EntityForm.contextType",props:{}}}catch{}const On=e=>{const{accessToken:n}=Yt(),{synId:a,className:s}=e,[r,o]=x.useState(void 0);x.useEffect(()=>{(async()=>{try{const u=await Q.getEntity(n,a);if(!mr(u))throw new Error(`File Entity expected but found ${u}`);const c={requestedFiles:[{associateObjectId:a,associateObjectType:yr.FileEntity,fileHandleId:u.dataFileHandleId}],includeFileHandles:!0,includePreSignedURLs:!1,includePreviewPreSignedURLs:!1},m=(await Q.getFiles(c,n)).requestedFiles[0].fileHandle;if(m&&fr(m))o({externalFileHandle:m,fileEntity:u});else throw new Error(`Not an external file handle: ${m==null?void 0:m.id}`)}catch(u){console.error("Error on getting external file handle = ",u)}})()},[a,n]);const l=r==null?void 0:r.externalFileHandle,i=r==null?void 0:r.fileEntity;return l?t.jsx("a",{href:l.externalURL,className:s,target:"_blank",rel:"noopener noreferrer",children:t.jsxs("span",{children:[i==null?void 0:i.name,t.jsx(pr,{style:{marginLeft:5}})]})}):t.jsx(t.Fragment,{})};try{On.displayName="ExternalFileHandleLink",On.__docgenInfo={description:"",displayName:"ExternalFileHandleLink",props:{synId:{defaultValue:null,description:"",name:"synId",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}try{En.displayName="GoalsV3",En.__docgenInfo={description:"",displayName:"GoalsV3",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},svgComponentMap:{defaultValue:null,description:"",name:"svgComponentMap",required:!0,type:{name:"Record<string, React.FC<React.SVGProps<SVGSVGElement>>>"}}}}}catch{}function Bn(e){const{measurementId:n}=e;return ho(n),t.jsx(t.Fragment,{})}try{Bn.displayName="GoogleAnalytics",Bn.__docgenInfo={description:`GoogleAnalytics is a component wrapper for the useGoogleAnalytics() hook.
This is exported for use in the Synapse.org GWT codebase.`,displayName:"GoogleAnalytics",props:{measurementId:{defaultValue:null,description:"",name:"measurementId",required:!1,type:{name:"string"}}}}}catch{}function Nt({queryBundleRequest:e,onHide:n}){var p;const[a,s]=x.useState("..."),{data:r,isLoading:o,isPlaceholderData:l}=Kt({...e,partMask:gr},{placeholderData:m=>m,throwOnError:!0}),i=(p=r==null?void 0:r.responseBody)==null?void 0:p.combinedSql,d=o||l;x.useEffect(()=>{if(i&&!d){const m=i.toUpperCase().indexOf("FROM SYN"),g=`SELECT * ${i.substring(m)}`;s(g)}},[i,d]);const u=x.useMemo(()=>a.replace(/(["`])/g,"\\$1"),[a]),c=x.useMemo(()=>a.replace(/"/g,'\\"'),[a]);return t.jsx(_s,{show:!0,onClose:n,title:"Download Programmatically",cliNotes:t.jsx(t.Fragment,{children:"This command line code will download Synapse files AND file annotations to your working directory."}),cliCode:`synapse get -q "${u}"`,rNotes:t.jsxs(t.Fragment,{children:["This R code will download file annotations only. Use"," ",t.jsxs(G,{target:"_blank",rel:"noopener noreferrer",href:"https://help.synapse.org/docs/Get-Started-with-Downloading-Data.2004254837.html#GetStartedwithDownloadingData-DownloadingFiles",children:["synGet","()"]})," ","to loop over the list of Synapse IDs from the file annotations to download files."]}),rCode:`${xs}
query <- synTableQuery("${c}")
read.table(query$filepath, sep = ",")`,pythonNotes:t.jsxs(t.Fragment,{children:["This Python code will download file annotations only. Use"," ",t.jsx(G,{target:"_blank",rel:"noopener noreferrer",href:"https://help.synapse.org/docs/Get-Started-with-Downloading-Data.2004254837.html#GetStartedwithDownloadingData-DownloadingFiles",children:"syn.get"})," ","to loop over the list of Synapse IDs from the file annotations to download files."]}),pythonCode:`${hs}
query = syn.tableQuery("${c}")
query.asDataFrame()`})}try{Nt.displayName="ProgrammaticTableDownload",Nt.__docgenInfo={description:"",displayName:"ProgrammaticTableDownload",props:{queryBundleRequest:{defaultValue:null,description:"",name:"queryBundleRequest",required:!0,type:{name:"QueryBundleRequest"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}function Ma(){const{getCurrentQueryRequest:e,fileIdColumnName:n,fileVersionColumnName:a}=E(),{data:s}=ce(),r=on(),o=ln(),l=Vs();return x.useMemo(()=>{var d,u;const i=e().query;if(n&&a){const c=(d=s.columnModels)==null?void 0:d.find(m=>m.name==n),p=(u=s.columnModels)==null?void 0:u.find(m=>m.name==a);i.selectFileColumn=c?Number(c.id):void 0,i.selectFileVersionColumn=p?Number(p.id):void 0}else{const c=tt(s.columnModels);c&&(i.selectFileColumn=Number(c))}if(r&&l&&s.selectColumns){const c=Is(l,o,s.selectColumns);i.additionalFilters=[...i.additionalFilters||[],c]}return{concreteType:"org.sagebionetworks.repo.model.download.AddToDownloadListRequest",query:i}},[s.columnModels,s.selectColumns,e,r,l,o,n,a])}function Vo(e){const n=e.match(/^"(.+?)"\s*@\d+$/);return n?n[1]:""}function wo(e,n={textMatchesMode:"NATURAL_LANGUAGE"}){const{textMatchesMode:a,distance:s=0}=n;let r=e;if(a=="BOOLEAN"){const l=Es(e),i=Math.max(s,l);r=`"${e.replaceAll('"',"")}" @${i}`}return{concreteType:"org.sagebionetworks.repo.model.table.TextMatchesQueryFilter",searchExpression:r,searchMode:n.textMatchesMode}}function Io(e,n,a,s){const{additionalFilters:r=[]}=e.query,o=tt(n);if(a.match(hr)&&o){const d={concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter",columnName:(n==null?void 0:n.filter(c=>c.id===o))[0].name,operator:he.IN,values:[a]},u=r.find(c=>c.concreteType==d.concreteType&&c.columnName==d.columnName);if(u)return u.values.includes(a)||u.values.push(a),e;r.push(d)}else{const i=wo(a,s);if(r.find(u=>u.concreteType==i.concreteType&&u.searchExpression==i.searchExpression))return e;r.push(i)}return e.query.additionalFilters=r,e}const mt=3;function We({ftsConfig:e}){const{executeQueryRequest:n}=E(),{showSearchBar:a}=O(),[s,r]=x.useState(""),o=x.useRef(null),{data:l}=ue(),i=l==null?void 0:l.columnModels,d=c=>{var p;c.preventDefault(),s.trim().length<mt?(p=o.current)==null||p.setCustomValidity(`Search term must have a minimum of ${mt} characters`):(n(m=>Io(m,i,s,e)),r(""))},u=c=>{var p;(p=o.current)==null||p.setCustomValidity(""),r(c.currentTarget.value)};return t.jsx("div",{className:"QueryWrapperFullTextSearchInput",children:t.jsx(Jt,{in:a,timeout:{enter:300,exit:300},children:t.jsx("form",{onSubmit:d,children:t.jsx(ua,{sx:{width:"100%"},onChange:u,placeholder:"Enter Search Terms",value:s,type:"text",slotProps:{input:{startAdornment:t.jsx(X,{icon:"search",wrap:!1,sx:{mr:1,color:"grey.600"}}),endAdornment:t.jsxs(t.Fragment,{children:[s.length>0&&t.jsx(Fs,{icon:"close",size:"small",onClick:()=>{r("")}}),t.jsx(Ea,{markdownText:"This search bar is powered by MySQL Full Text Search.",helpUrl:e==null?void 0:e.searchHelpURL,placement:"left"})]})},htmlInput:{minLength:mt,ref:o}}})})})})}try{We.displayName="FullTextSearch",We.__docgenInfo={description:"",displayName:"FullTextSearch",props:{ftsConfig:{defaultValue:null,description:"",name:"ftsConfig",required:!1,type:{name:"FTSConfig"}}}}}catch{}class qo extends x.Component{constructor(a){super(a);P(this,"searchFormRef");P(this,"radioFormRef");P(this,"handleClickOutsideForm",a=>{var s,r;!((s=this.searchFormRef.current)!=null&&s.contains(a==null?void 0:a.target))&&!((r=this.radioFormRef.current)!=null&&r.contains(a==null?void 0:a.target))&&(this.state.didUpdateRanLast?this.setState({didUpdateRanLast:!1}):this.setState({show:!1}))});P(this,"search",a=>{var m,g;a.preventDefault();const{searchText:s}=this.state;let{columnName:r}=this.state;const{searchable:o,lockedColumn:l}=this.props;if(r==="")if(o)r=o.filter(h=>h!==(l==null?void 0:l.columnName))[0];else{const h=(m=this.props.columnModels)==null?void 0:m.filter(y=>y.name!==(l==null?void 0:l.columnName)).filter(y=>this.isSupportedColumn(y));r=(h==null?void 0:h[0].name)??""}this.setState({show:!1});const{executeQueryRequest:i,getCurrentQueryRequest:d}=this.props.queryContext,u=d(),{additionalFilters:c=[]}=u.query,p=c.findIndex(h=>!!(ca(h)||pa(h)&&h.columnName===r));if(p===-1){const h=(g=this.props.columnModels)==null?void 0:g.filter(y=>y.name===r)[0];if(h!=null&&h.columnType.endsWith("_LIST")){const y={columnName:r,function:Be.HAS_LIKE,_function:Be.HAS_LIKE,values:[`%${s}%`],concreteType:"org.sagebionetworks.repo.model.table.ColumnMultiValueFunctionQueryFilter"};c.push(y)}else if((h==null?void 0:h.columnType)==oe.ENTITYID){const y={columnName:r,operator:he.EQUAL,values:[`${s.toLowerCase().replace("syn","")}`],concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter"};c.push(y)}else{const y={columnName:r,operator:he.LIKE,values:[`%${s}%`],concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter"};c.push(y)}}else c[p].values.push(`%${s}%`);u.query.additionalFilters=c,i(u)});P(this,"handleChange",a=>{this.setState({searchText:a.currentTarget.value})});P(this,"isSupportedColumn",a=>{switch(a==null?void 0:a.columnType){case oe.FILEHANDLEID:case oe.DATE:case oe.DATE_LIST:case oe.USERID:return!1;default:return!0}});P(this,"isSupportedColumnAndInProps",a=>{if(this.isSupportedColumn(a)){const{searchable:s}=this.props;return s==null?void 0:s.some(r=>r===(a==null?void 0:a.name))}return!1});this.state={show:!1,didUpdateRanLast:!1,searchText:"",columnName:this.props.defaultColumn??""},this.searchFormRef=x.createRef(),this.radioFormRef=x.createRef()}componentDidMount(){document.addEventListener("click",this.handleClickOutsideForm)}componentDidUpdate(a){var s,r,o,l,i;!((s=a.queryVisualizationContext)!=null&&s.showSearchBar)&&((r=this.props.queryVisualizationContext)!=null&&r.showSearchBar)&&(this.setState({show:!0,didUpdateRanLast:!0}),(i=(l=(o=this.searchFormRef)==null?void 0:o.current)==null?void 0:l.querySelector("input"))==null||i.focus())}componentWillUnmount(){document.removeEventListener("click",this.handleClickOutsideForm)}render(){const{searchable:a,lockedColumn:s,columnModels:r,queryVisualizationContext:{showSearchBar:o,getColumnDisplayName:l}}=this.props,{searchText:i,show:d,columnName:u}=this.state;let c=[];return a?c=a.map(p=>r==null?void 0:r.find(m=>m.name===p)).filter(this.isSupportedColumnAndInProps).map(p=>p.name):r&&(c=r==null?void 0:r.filter(this.isSupportedColumn).map(p=>p.name)),c.length&&(s!=null&&s.columnName)&&(c=c.filter(p=>p!==(s==null?void 0:s.columnName))),t.jsxs("div",{className:"QueryWrapperSearchInput",children:[t.jsx(Jt,{in:o,children:t.jsxs("form",{className:"QueryWrapperSearchInput__searchbar",onSubmit:this.search,onClick:()=>{this.setState({show:!0})},ref:this.searchFormRef,children:[t.jsx("span",{className:"QueryWrapperSearchInput__searchbar__searchicon",children:t.jsx(X,{icon:"search"})}),t.jsx("input",{onChange:this.handleChange,onClick:()=>{this.setState({show:!0})},placeholder:"Enter Search Terms",value:i,type:"text"}),this.state.searchText.length>0&&t.jsx("button",{className:"QueryWrapperSearchInput__searchbar__clearbutton",type:"button",onClick:()=>{this.setState({searchText:""})},children:t.jsx(X,{icon:"close"})})]})}),t.jsx("div",{className:"QueryWrapperSearchInput__dropdown_pos",children:t.jsx(xr,{nodeRef:this.radioFormRef,in:d,classNames:"QueryWrapperSearchInput__animate_dropdown",timeout:{enter:0,exit:300},children:t.jsxs("form",{ref:this.radioFormRef,className:"QueryWrapperSearchInput__column-select QueryWrapperSearchInput__animate_height",children:[t.jsx("p",{className:"deemphasized",children:t.jsx("i",{children:" Search In Field: "})}),c.map((p,m)=>{const g=l(p),h=u===""&&m===0||u===p;return t.jsx("div",{className:"radio",children:t.jsx("label",{children:t.jsxs("span",{children:[t.jsx("input",{id:p,type:"radio",value:p,checked:h,onClick:()=>{var y,S,f;(f=(S=(y=this.searchFormRef)==null?void 0:y.current)==null?void 0:S.querySelector("input"))==null||f.focus(),this.setState({columnName:p})}}),t.jsx("span",{children:g})]})})},`search-field-${p}-${m}`)})]})})})]})}}function Oa(e){const{data:n}=ue();return t.jsx(qo,{...e,columnModels:n==null?void 0:n.columnModels})}try{SearchV2.displayName="SearchV2",SearchV2.__docgenInfo={description:"",displayName:"SearchV2",props:{queryContext:{defaultValue:null,description:"",name:"queryContext",required:!0,type:{name:"QueryContextType"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}},isQueryWrapperMenuChild:{defaultValue:null,description:"",name:"isQueryWrapperMenuChild",required:!1,type:{name:"boolean"}},defaultColumn:{defaultValue:null,description:"",name:"defaultColumn",required:!1,type:{name:"string"}},searchable:{defaultValue:null,description:"",name:"searchable",required:!1,type:{name:"SearchableColumnsV2"}},lockedColumn:{defaultValue:null,description:"",name:"lockedColumn",required:!1,type:{name:"LockedColumn"}},ftsConfig:{defaultValue:null,description:`PLFM-8897, PORTALS-3534: Full-Text Search configuration.
For Tables that have FTS enabled...
If specified, use the specified mode and distance (if BOOLEAN mode). Otherwise default to NATURAL_LANGUAGE mode.`,name:"ftsConfig",required:!1,type:{name:"ReadonlyObjectDeep<FTSConfig>"}}}}}catch{}const jo="Files may be unavailable because you do not have permission to see them, they have been deleted, or the Dataset has been misconfigured.",Po="Files may be unavailable because you do not have permission to see them or the Dataset was misconfigured.";function Tt({entity:e}){var r;const n=e&&br(e),a={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",query:{sql:`SELECT * FROM ${e.id}${!e.isLatestVersion&&e.versionNumber?`.${e.versionNumber}`:""}`},entityId:e.id,partMask:Ze},{data:s}=Kt(a,{enabled:n});if(n&&s&&e){const o=s.responseBody.queryCount,l=((r=e.items)==null?void 0:r.length)??0;if(o>=l)return t.jsx(t.Fragment,{});const i=l-o;let d="";return e.isLatestVersion?d=jo:d=Po,t.jsxs(I,{className:"SRC-centerContent",style:{marginLeft:10},variant:"smallText1",color:"textSecondary",children:[t.jsx(So,{className:"SRC-color-warning",style:{fontSize:"16px"}}),i.toLocaleString()+" Unavailable",t.jsx(Ea,{className:"SRC-margin-left-5",markdownText:d,placement:"right"})]})}else return t.jsx(t.Fragment,{})}try{Tt.displayName="MissingQueryResultsWarning",Tt.__docgenInfo={description:`If possible, this component will render a warning message if results may be missing from the query due to user permissions or
entities being deleted. If not possible, it will render an empty fragment.`,displayName:"MissingQueryResultsWarning",props:{entity:{defaultValue:null,description:"",name:"entity",required:!0,type:{name:"Table"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}}}}}catch{}const Lo={place:"top"};function Fo(e,n,a){return"svgImg"in e?e.svgImg:t.jsx(X,{...e,sx:{color:n,width:a}})}const se=({image:e,callbackFn:n,tooltipText:a,className:s="",imageColor:r,tooltipVisualProps:o=Lo,children:l,darkTheme:i,size:d,icon:u,menuItems:c})=>{const{place:p}=o,m=u?typeof u=="string"?t.jsx(Pa,{type:u}):u:void 0,g=m||(e?Fo(e,r,d):l||t.jsx(t.Fragment,{})),[h,y]=x.useState(null),S=!!h,f=C=>{y(C.currentTarget)},b=()=>{y(null)};let v;return l?v=t.jsx("div",{className:"SRC-hand-cursor",children:l}):v=t.jsx("button",{tabIndex:0,className:`ElementWithTooltip SRC-hand-cursor SRC-grey-background-hover ${s} ${i?"dark-theme":""} `,onClick:C=>{n?n():f(C)},"aria-label":a,children:g}),t.jsxs(t.Fragment,{children:[t.jsx(ge,{title:a,enterNextDelay:Ds,placement:p,"data-testid":"ElementTooltip",children:v}),c&&t.jsx(Sr,{anchorEl:h,open:S,onClose:b,children:c})]})};try{se.displayName="ElementWithTooltip",se.__docgenInfo={description:"",displayName:"ElementWithTooltip",props:{image:{defaultValue:null,description:"",name:"image",required:!1,type:{name:"IconSvgProps | CustomImageProps"}},imageColor:{defaultValue:null,description:"",name:"imageColor",required:!1,type:{name:"string"}},tooltipText:{defaultValue:null,description:"",name:"tooltipText",required:!0,type:{name:"string"}},callbackFn:{defaultValue:null,description:"",name:"callbackFn",required:!1,type:{name:"() => void"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},tooltipVisualProps:{defaultValue:{value:`{
  place: 'top',
}`},description:"",name:"tooltipVisualProps",required:!1,type:{name:"Partial<TooltipVisualProps>"}},darkTheme:{defaultValue:null,description:"",name:"darkTheme",required:!1,type:{name:"boolean"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"ReactNode"}},menuItems:{defaultValue:null,description:`The items to show in the menu -- NOTE: this cannot be a Fragment!
@see https://stackoverflow.com/questions/75083605/mui-the-menu-component-doesnt-accept-a-fragment-as-a-child-consider-providing`,name:"menuItems",required:!1,type:{name:"React.ReactNode"}}}}}catch{}function Ge(e){const{control:n,callbackData:a,disabled:s}=e,{onClick:r,buttonText:o,buttonID:l}=n,[i,d]=x.useState(!1),u=s||i;return t.jsxs(W,{...e,disabled:u,onClick:()=>{d(!0),r({...a,refresh:()=>{d(!1),a.refresh()}})},id:l,children:[i&&t.jsx(ma,{size:30}),o]})}try{Ge.displayName="CustomControlButton",Ge.__docgenInfo={description:"",displayName:"CustomControlButton",props:{control:{defaultValue:null,description:"",name:"control",required:!0,type:{name:"CustomControl"}},callbackData:{defaultValue:null,description:"",name:"callbackData",required:!0,type:{name:"CustomControlCallbackData"}},component:{defaultValue:null,description:"",name:"component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}}}}}catch{}const Eo="SendToAnalysisPlatformRowSelectionControlButton";function _t(e){const{customControls:n=[],remount:a}=e,{entityId:s,versionNumber:r,getCurrentQueryRequest:o}=E(),{data:l}=pe(s,r),{data:i}=ue(),[d,u]=vr(ws),c=Ma(),{setIsShowingExportToAnalysisPlatformModal:p,enabledExternalAnalysisPlatforms:m}=O(),g=m.length>0,h=()=>{u([]),a&&a()},y=tt(i==null?void 0:i.columnModels),S=ya(l,y);return t.jsx(Ms,{show:d.length>0,selectedRowCount:d.length,onClearSelection:()=>u([]),customControls:t.jsxs(t.Fragment,{children:[n.map(f=>t.jsx(Ge,{variant:"contained",callbackData:{tableId:s,queryMetadata:i,selectedRows:d,refresh:h,request:o()},control:f,startIcon:f.icon},f.buttonText)),g&&t.jsx(W,{variant:"outlined",onClick:()=>{p(!0)},id:Eo,children:"Send to Analysis Platform"}),S&&t.jsx(W,{variant:"contained",onClick:()=>{const f=wn.custom(t.jsx(R,{sx:{width:"100%"},children:t.jsx(we,{addToDownloadListRequest:c,onClose:()=>{wn.dismiss(f)}})}),{duration:1/0})},startIcon:t.jsx(fa,{}),children:"Add to Download Cart"})]})})}try{_t.displayName="RowSelectionControls",_t.__docgenInfo={description:`This component is responsible for rendering the RowSelectionUI and the custom controls. Must be wrapped in a
QueryContext and a QueryVisualizationContext.`,displayName:"RowSelectionControls",props:{customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"CustomControl[]"}},remount:{defaultValue:null,description:"",name:"remount",required:!1,type:{name:"() => void"}}}}}catch{}function Rt(e){const{accessToken:n}=Yt(),{entityId:a,versionNumber:s,getCurrentQueryRequest:r,hasResettableFilters:o}=E(),{data:l}=pe(a,s),{data:i}=ue(),d=ln(),u=on(),c=x.useMemo(()=>r(),[r]),[p,m]=x.useState(!1),[g,h]=x.useState(!1),[y,S]=x.useState(!1),{onDownloadFiles:f,darkTheme:b=!0}=e,v=tt(i==null?void 0:i.columnModels),C=ya(l,v),N=l&&Cr(l)&&l.isLatestVersion,T=x.useMemo(()=>{const w=[];return C&&w.push(t.jsx(ge,{title:N?"A draft version of a dataset cannot be added to the Download Cart":null,placement:"left",enterNextDelay:300,describeChild:!0,children:t.jsx(fe,{className:N?"ignoreLink":void 0,disabled:N,style:N?{pointerEvents:"auto"}:{},onClick:()=>n?f():m(!0),children:qs(o,u,d,i==null?void 0:i.queryCount,"file")})},"add-to-download-list")),w.push(t.jsx(fe,{onClick:()=>{h(!0)},children:"Export Table"},"export-table")),w.push(t.jsx(ge,{title:N?"A draft version of a dataset cannot be downloaded programmatically":null,placement:"left",enterNextDelay:300,describeChild:!0,children:t.jsx(fe,{className:N?"ignoreLink":void 0,disabled:N,style:N?{pointerEvents:"auto"}:{},onClick:()=>S(!0),children:"Programmatic Options"})},"programmatic-options")),w},[n,N,o,u,f,i==null?void 0:i.queryCount,d,C]);return t.jsxs(t.Fragment,{children:[t.jsx(se,{tooltipText:"Download Options",size:"lg",darkTheme:b,icon:"download",menuItems:T}),p&&t.jsx(Os,{showModal:p,onHide:()=>m(!1)}),g&&t.jsx(La,{onClose:()=>h(!1),queryBundleRequest:c}),y&&i&&t.jsx(Nt,{onHide:()=>S(!1),queryBundleRequest:c})]})}try{Rt.displayName="DownloadOptions",Rt.__docgenInfo={description:"",displayName:"DownloadOptions",props:{onDownloadFiles:{defaultValue:null,description:"",name:"onDownloadFiles",required:!0,type:{name:"() => void"}},darkTheme:{defaultValue:null,description:"",name:"darkTheme",required:!1,type:{name:"boolean"}}}}}catch{}function Vt(e){const{headers:n,isColumnSelected:a,toggleColumnSelection:s,darkTheme:r}=e,{getColumnDisplayName:o}=O();return t.jsx(se,{tooltipText:"Show/Hide Columns",icon:r?"columnsdark":"columns",darkTheme:r,menuItems:n==null?void 0:n.map(l=>{const{name:i}=l,d=a.includes(i),u={width:"11px",marginRight:"10px",visibility:d?void 0:"hidden"},c=d?"SRC-primary-text-color":"";return t.jsxs(fe,{onClick:()=>s(i),children:[t.jsx("span",{className:c,style:u,children:t.jsx(X,{icon:"check",sx:{width:"14px"}})}),o(i)]},i)})})}try{Vt.displayName="ColumnSelection",Vt.__docgenInfo={description:"",displayName:"ColumnSelection",props:{headers:{defaultValue:null,description:"",name:"headers",required:!1,type:{name:"SelectColumn[]"}},isColumnSelected:{defaultValue:null,description:"",name:"isColumnSelected",required:!0,type:{name:"string[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"() => void"}},toggleColumnSelection:{defaultValue:null,description:"",name:"toggleColumnSelection",required:!0,type:{name:"(name: string) => void"}},darkTheme:{defaultValue:null,description:"",name:"darkTheme",required:!1,type:{name:"boolean"}}}}}catch{}const ko="SendToAnalysisPlatformTopLevelControlButton",Ye=e=>{const{name:n,showColumnSelection:a=!1,hideDownload:s=!1,hideVisualizationsControl:r=!1,hideFacetFilterControl:o=!1,hideQueryCount:l=!1,hideSqlEditorControl:i=!0,customControls:d,cavaticaConnectAccountURL:u,remount:c}=e,{entityId:p,versionNumber:m,getInitQueryRequest:g,hasResettableFilters:h,getCurrentQueryRequest:y}=E(),{data:S}=pe(p,m),{data:f}=ue(),{lockedColumn:b}=E(),v=ga(Fa),C=ln(),N=on(),{setShowSearchBar:T,columnsToShowInTable:w,setColumnsToShowInTable:k,enabledExternalAnalysisPlatforms:V,setIsShowingExportToAnalysisPlatformModal:_,unitDescription:A,setShowDownloadConfirmation:U,showCopyToClipboard:q,hideSearchBarControl:$,setShowPlots:z,setShowSqlEditor:ee,showFacetFilter:K,setShowFacetFilter:Se}=O(),nt=V.length>0,[at,Fe]=x.useState(!1),Ee=x.useMemo(()=>{const L=g();return{sql:L.query.sql,selectedFacets:(L.query.selectedFacets??[]).filter(D=>D.columnName===(b==null?void 0:b.columnName)),additionalFilters:(L.query.additionalFilters??[]).filter(D=>"columnName"in D?D.columnName===(b==null?void 0:b.columnName):!0)}},[g,b==null?void 0:b.columnName]),te=L=>{let D=ha(w);D.includes(L)?D=D.filter(Ne=>Ne!==L):D.push(L),k(D)},ve=js(N,C,f==null?void 0:f.queryCount),Ce=Ps(h,N,C,f==null?void 0:f.queryCount,A),rt=()=>{c&&c()};return t.jsx("div",{className:"TopLevelControls","data-testid":"TopLevelControls",children:t.jsxs("div",{children:[t.jsxs("div",{className:"TopLevelControls__querycount",children:[n&&t.jsxs(t.Fragment,{children:[t.jsxs(I,{variant:"sectionTitle",role:"heading",children:[n," ",!l&&t.jsx(Rs,{query:Ee,parens:!0})]}),!l&&S&&t.jsx(Tt,{entity:S})]}),!o&&t.jsxs(W,{variant:"text",onClick:()=>Se(L=>!L),startIcon:t.jsx(X,{icon:K?"close":"filter",wrap:!1}),sx:{ml:2,fontWeight:400,fontSize:"14px",textDecoration:"none !important"},children:[K?"Hide":"Show"," filters"]})]}),t.jsxs("div",{className:"TopLevelControls__actions",children:[d&&d.map((L,D)=>t.jsxs(x.Fragment,{children:[t.jsx(Ge,{variant:"text",disabled:!ve,control:L,callbackData:{tableId:p,queryMetadata:f,selectedRows:C,refresh:rt,request:y()},startIcon:L.icon}),t.jsx(Qe,{orientation:"vertical",variant:"middle",flexItem:!0})]},D)),nt&&t.jsxs(t.Fragment,{children:[t.jsx(ge,{title:t.jsxs(t.Fragment,{children:["This action will send a reference to"," ",N?"each selected file":"every file in the current table"," ","to a chosen external analysis platform."," ",!N&&K&&t.jsx(t.Fragment,{children:"You can change what is sent by applying filters using the controls in the sidebar."}),N&&t.jsx(t.Fragment,{children:"You can change what is sent by selecting a different set of files."})]}),children:t.jsxs(W,{variant:"text",disabled:!ve,onClick:()=>{_(!0)},id:ko,children:["Send ",Ce," to Analysis Platform"]})}),t.jsx(Qe,{orientation:"vertical",variant:"middle",flexItem:!0})]}),!$&&t.jsx(se,{tooltipText:"Show / Hide Search Bar",callbackFn:()=>T(L=>!L),darkTheme:!0,icon:"search"}),q&&t.jsx(se,{tooltipText:at?"Copied to clipboard":"Copy this search to the clipboard",callbackFn:()=>{Nr(window.location.href).then(()=>{Fe(!0),setTimeout(()=>{Fe(!1)},3e3)})},darkTheme:!0,icon:"clipboard"}),!r&&t.jsx(se,{tooltipText:"Show / Hide Visualizations",callbackFn:()=>z(L=>!L),darkTheme:!0,icon:"chart"}),!s&&t.jsx(Rt,{darkTheme:!0,onDownloadFiles:()=>U(!0)}),!i&&t.jsx(se,{tooltipText:"Show / Hide the Advanced Query Editor",callbackFn:()=>ee(L=>!L),darkTheme:!0,icon:Tr}),v&&t.jsx(_t,{customControls:d,remount:c}),a&&t.jsx(Vt,{headers:f==null?void 0:f.selectColumns,isColumnSelected:w,toggleColumnSelection:te,darkTheme:!0}),t.jsx(Ls,{platformInstructionProps:{cavaticaConnectAccountURL:u}})]})]})})};try{Ye.displayName="TopLevelControls",Ye.__docgenInfo={description:"",displayName:"TopLevelControls",props:{name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}},hideVisualizationsControl:{defaultValue:null,description:"",name:"hideVisualizationsControl",required:!1,type:{name:"boolean"}},hideFacetFilterControl:{defaultValue:null,description:"",name:"hideFacetFilterControl",required:!1,type:{name:"boolean"}},hideQueryCount:{defaultValue:null,description:"",name:"hideQueryCount",required:!1,type:{name:"boolean"}},hideSqlEditorControl:{defaultValue:null,description:"",name:"hideSqlEditorControl",required:!1,type:{name:"boolean"}},showColumnSelection:{defaultValue:null,description:"",name:"showColumnSelection",required:!1,type:{name:"boolean"}},customControls:{defaultValue:null,description:"",name:"customControls",required:!1,type:{name:"CustomControl[]"}},cavaticaConnectAccountURL:{defaultValue:null,description:"",name:"cavaticaConnectAccountURL",required:!1,type:{name:"string"}},remount:{defaultValue:null,description:"",name:"remount",required:!1,type:{name:"() => void"}}}}}catch{}const Ba=4;function Ao(e,n,a,s){const{getColumnDisplayName:r}=s;if(e.values.length>Ba||!a){const o=`${dn(r(e.columnName))} (${e.values.length.toLocaleString()})`;return[{key:`queryFilter-${e.concreteType}-${e.columnName}`,innerText:o,tooltipText:o,onRemoveFilter:()=>{n.removeQueryFilter(e)}}]}return e.values.map(o=>{let l=o;o!=null&&o.startsWith("%")&&(o!=null&&o.endsWith("%"))&&(l=l.substring(1,l.length-1)),l=s.getDisplayValue(l,a.columnType);const i=`${r(e.columnName)}: ${l}`;return{key:`queryFilter-${e.concreteType}-${e.columnName}-${o}`,innerText:i,tooltipText:i,onRemoveFilter:()=>{n.removeValueFromQueryFilter(e,o)}}})}function Do(e,n){let a=e.searchExpression;return e.searchMode=="BOOLEAN"&&(a=Vo(e.searchExpression)),{key:`queryFilter-${e.concreteType}-${e.searchExpression}`,innerText:a,tooltipText:`Text matches: "${a}"`,onRemoveFilter:()=>{n.removeQueryFilter(e)}}}function Mo(e,n,a,s,r){return e.flatMap(o=>{var l;if(ca(o)||pa(o)){const i=a.find(d=>d.name===o.columnName);return o.columnName.toLowerCase()===((l=r==null?void 0:r.columnName)==null?void 0:l.toLowerCase())?[]:Ao(o,n,i,s)}else return _r(o)?[Do(o,n)]:(console.log("Unknown query filter type",o),[])})}function Qn(e,n){return e==null&&n==null?"Any value":e==null?`Up to ${n}`:n==null?`${e} or greater`:e===In&&n===In?wr:`${e} - ${n}`}function Oo(e,n,a,s,r){return e.flatMap(o=>{var u;if(o.columnName.toLowerCase()===((u=r==null?void 0:r.columnName)==null?void 0:u.toLowerCase()))return[];const l=a.find(c=>c.name===o.columnName),{getColumnDisplayName:i,getDisplayValue:d}=s;if(Rr(o)){if(o.facetValues.length>Ba||!l){const c=`${dn(i(o.columnName,o.jsonPath))} (${o.facetValues.length.toLocaleString()})`;return[{key:`facet-${o.concreteType}-${o.columnName}`,innerText:c,tooltipText:c,onRemoveFilter:()=>{n.removeSelectedFacet(o)}}]}return o.facetValues.map(c=>{const p=d(c,l.columnType);return{key:`facet-${o.concreteType}-${o.columnName}-${c}`,innerText:p,tooltipText:`${i(o.columnName,o.jsonPath)}: ${p}`,onRemoveFilter:()=>{n.removeValueFromSelectedFacet(o,c)}}})}else if(Vr(o)){const{combineRangeFacetConfig:c}=n;if(c&&(o.columnName==c.minFacetColumn||o.columnName==c.maxFacetColumn)){if(o.columnName==c.minFacetColumn)return[];{const m=o,g=e.find(y=>y.columnName==c.minFacetColumn),h=Qn(m.min,g.max);return[{key:`facet-${o.concreteType}-${o.columnName}-${h}`,innerText:h,tooltipText:`${c.label}: ${h}`,onRemoveFilter:()=>{n.removeSelectedFacet([g,m])}}]}}const p=Qn(o.min,o.max);return[{key:`facet-${o.concreteType}-${o.columnName}-${o.min}-${o.max}`,innerText:p,tooltipText:`${i(o.columnName,o.jsonPath)}: ${p}`,onRemoveFilter:()=>{n.removeSelectedFacet(o)}}]}else return console.log("Unknown facet type",o.concreteType),[]})}function Bo(){var d;const e=E(),n=e.lockedColumn,a=O(),{currentQueryRequest:s}=e,{data:r}=ue(),o=Mo(((d=s.query)==null?void 0:d.additionalFilters)??[],e,(r==null?void 0:r.columnModels)||[],a,n),l=Oo(s.query.selectedFacets??[],e,(r==null?void 0:r.columnModels)||[],a,n),i=[...o,...l];return t.jsx(t.Fragment,{children:i.map(u=>{const c=encodeURIComponent(u.key);return x.createElement(Bs,{...u,key:c})})})}function wt(e){const{style:n,frontText:a,endText:s="",hideIfUnfiltered:r=!1}=e,{resetQuery:o,hasResettableFilters:l}=E(),{data:i}=ce(),{unitDescription:d}=O(),u=i==null?void 0:i.queryCount,c=l;return t.jsxs("div",{className:`TotalQueryResults ${l?"hasFilters":""}`,style:n,children:[(l||!r)&&t.jsxs("div",{className:"TotalQueryResults__topbar",children:[t.jsxs("span",{className:"SRC-boldText",children:[a," ",u==null?void 0:u.toLocaleString()," ",dn(d,u)," ",s]}),c&&t.jsxs("a",{onClick:o,className:"TotalQueryResults__topbar__clearall",children:[t.jsx(X,{icon:"deleteSweep"}),"Clear all filters"]})]}),t.jsx("div",{className:"TotalQueryResults__selections",children:t.jsx(Bo,{})})]})}function mn(e){return t.jsx(Xt,{children:t.jsx(x.Suspense,{fallback:t.jsx(ys,{width:100}),children:t.jsx(wt,{...e})})})}try{wt.displayName="TotalQueryResults",wt.__docgenInfo={description:"",displayName:"TotalQueryResults",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},frontText:{defaultValue:null,description:"",name:"frontText",required:!0,type:{name:"string"}},endText:{defaultValue:null,description:"",name:"endText",required:!1,type:{name:"string"}},applyChanges:{defaultValue:null,description:"",name:"applyChanges",required:!1,type:{name:"(newFacets: FacetColumnRequest[]) => void"}},hideIfUnfiltered:{defaultValue:null,description:"",name:"hideIfUnfiltered",required:!1,type:{name:"boolean"}}}}}catch{}function It(e){const n=E(),{currentQueryRequest:a}=n,{title:s,onCustomPlotClick:r,onHide:o}=e,{showPlots:l}=O(),i=x.useMemo(()=>({...e,title:void 0,showlegend:!1,displayModebar:!1}),[e]),d=x.useMemo(()=>{const{selectedFacets:u,additionalFilters:c}=a.query;return{selectedFacets:u,additionalFilters:c,onCustomPlotClick:r,queryContext:n}},[a.query,r,n]);return t.jsx("div",{role:"figure",className:"SynapsePlot",children:l&&t.jsxs(t.Fragment,{children:[s&&t.jsx(Zr,{title:s,onHide:o}),t.jsx(Ts,{synapsePlotWidgetParams:i,customPlotParams:d})]})})}try{It.displayName="QueryWrapperSynapsePlot",It.__docgenInfo={description:`This component wraps a SynapsePlot.  It passes in the current query context, and has a custom
"title" style so that it looks like it belongs in the QueryWrapperPlotNav plots.`,displayName:"QueryWrapperSynapsePlot",props:{onCustomPlotClick:{defaultValue:null,description:"",name:"onCustomPlotClick",required:!1,type:{name:"(event: QueryWrapperSynapsePlotRowClickEvent) => void"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"table"'},{value:'"image"'},{value:'"box"'},{value:'"volume"'},{value:'"bar"'},{value:'"barpolar"'},{value:'"candlestick"'},{value:'"carpet"'},{value:'"choropleth"'},{value:'"choroplethmapbox"'},{value:'"cone"'},{value:'"contour"'},{value:'"contourcarpet"'},{value:'"densitymapbox"'},{value:'"funnel"'},{value:'"funnelarea"'},{value:'"heatmap"'},{value:'"heatmapgl"'},{value:'"histogram"'},{value:'"histogram2d"'},{value:'"histogram2dcontour"'},{value:'"indicator"'},{value:'"isosurface"'},{value:'"mesh3d"'},{value:'"ohlc"'},{value:'"parcats"'},{value:'"parcoords"'},{value:'"pie"'},{value:'"pointcloud"'},{value:'"sankey"'},{value:'"scatter"'},{value:'"scatter3d"'},{value:'"scattercarpet"'},{value:'"scattergeo"'},{value:'"scattergl"'},{value:'"scattermapbox"'},{value:'"scatterpolar"'},{value:'"scatterpolargl"'},{value:'"scatterternary"'},{value:'"splom"'},{value:'"streamtube"'},{value:'"sunburst"'},{value:'"surface"'},{value:'"treemap"'},{value:'"violin"'},{value:'"waterfall"'}]}},horizontal:{defaultValue:null,description:"",name:"horizontal",required:!1,type:{name:"boolean"}},query:{defaultValue:null,description:"",name:"query",required:!0,type:{name:"string"}},xtitle:{defaultValue:null,description:"",name:"xtitle",required:!1,type:{name:"Plotly.LayoutAxis"}},ytitle:{defaultValue:null,description:"",name:"ytitle",required:!1,type:{name:"Plotly.LayoutAxis"}},xaxistype:{defaultValue:null,description:"",name:"xaxistype",required:!1,type:{name:"enum",value:[{value:'"log"'},{value:'"date"'},{value:'"linear"'},{value:'"-"'},{value:'"category"'},{value:'"multicategory"'}]}},showlegend:{defaultValue:null,description:"",name:"showlegend",required:!1,type:{name:"Plotly.Layout"}},barmode:{defaultValue:null,description:"",name:"barmode",required:!1,type:{name:"Plotly.Layout"}},displayModeBar:{defaultValue:null,description:"",name:"displayModeBar",required:!1,type:{name:"Plotly.Config"}},onHide:{defaultValue:null,description:"",name:"onHide",required:!0,type:{name:"() => void"}}}}}catch{}function Un(){return t.jsxs(R,{className:"FacetNavPanel",sx:{flexGrow:1},children:[t.jsxs(R,{className:"FacetNavPanel__title",children:[t.jsx(F,{variant:"rectangular",height:20,width:170}),t.jsx("div",{style:{margin:"auto"}}),t.jsx(F,{variant:"rectangular",height:20,width:20}),t.jsx(F,{variant:"rectangular",height:20,width:20,sx:{ml:1}})]}),t.jsxs(R,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",height:200,px:2,minWidth:"435px",flexGrow:1},children:[t.jsx(F,{variant:"circular",width:140,height:140}),t.jsxs(H,{sx:{gap:1},children:[t.jsx(F,{variant:"rectangular",height:15,width:220}),t.jsx(F,{variant:"rectangular",height:15,width:220}),t.jsx(F,{variant:"rectangular",height:15,width:220}),t.jsx(F,{variant:"rectangular",height:15,width:220})]})]})]})}function Qo(){return t.jsxs(R,{className:"PlotsContainer",sx:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",gap:4},children:[t.jsx(Un,{}),t.jsx(Un,{})]})}const Ke=2,J=(e,n)=>"__custom"in n&&"__custom"in e?e.title==n.title:!("__custom"in n)&&!("__custom"in e)?da(e,n):!1;function Uo(e){return e==="bar"?"BAR":"PIE"}const $o=e=>"__custom"in e.plotId?`custom-${e.plotId.title}`:`facet-${e.plotId.columnName}-${e.plotId.jsonPath}`,zo=(e,n)=>!!n.find(a=>J(a.plotId,e)),yn=e=>({__custom:!0,title:e.title??""}),Ho=(e=[],n=[],a=qt)=>[...e.map((s,r)=>({plotId:yn(s),isHidden:r>=Ke,plotType:Uo(s.type)})),...n.map((s,r)=>({plotId:s.facetToPlot,isHidden:r+e.length>=Ke,plotType:a}))],Wo=(e,n,a)=>n.some(s=>J(yn(s),e.plotId))||a.some(s=>J(s.facetToPlot,e.plotId)),qt="PIE",Go=[],Yo=[];function jt(e){const{facetsToPlot:n=Go,customPlots:a=Yo,initialPlotType:s=qt}=e,{data:r}=ce(),{showPlots:o}=O(),[l,i]=x.useState([]),d=es(n),u=f=>{var v;return((v=l.find(C=>J(f,C.plotId)))==null?void 0:v.plotType)??qt};x.useEffect(()=>{const f=Ho(a,d,s);i(b=>{const v=f.filter(T=>!zo(T.plotId,b));return[...b.filter(T=>Wo(T,a,d)),...v]})},[a,d]);const c=f=>{i(b=>b.map((v,C)=>f?{...v,isHidden:!1}:{...v,isHidden:C>=Ke}))},p=f=>l.find(C=>J(f,C.plotId)&&C.isHidden===!0)!==void 0,m=x.useMemo(()=>l.find(f=>f.isHidden===!0)?"MORE":l.length<=Ke?"NONE":"LESS",[l]),g=f=>{y(f,"isHidden",!0)},h=(f,b)=>{y(f,"plotType",b)},y=(f,b,v)=>{i(C=>C.map(N=>J(f,N.plotId)?{...N,[b]:v}:N))},S=ts(r,n).map((f,b)=>({facet:{columnName:f.columnName,jsonPath:f.jsonPath},colorIndex:b}));return t.jsx(t.Fragment,{children:l.length>0&&t.jsxs("div",{className:`PlotsContainer ${o?"":"hidden"} ${m==="LESS"?"less":""}`,children:[t.jsx("div",{className:"PlotsContainer__row",role:"list",children:l.map(f=>{var N;const b="__custom"in f.plotId,v=a.find(T=>J(yn(T),f.plotId)),C=d.find(T=>J(T.facetToPlot,f.plotId));return t.jsxs("div",{style:{minWidth:"435px",display:p(f.plotId)?"none":"block"},children:[b&&v&&t.jsx(It,{...v,onHide:()=>g(f.plotId)}),!b&&C&&t.jsx(ns,{index:(N=S.find(T=>J(T.facet,f.plotId)))==null?void 0:N.colorIndex,onHide:()=>g(f.plotId),plotType:u(f.plotId),onSetPlotType:T=>h(f.plotId,T),isModalView:!1,...C})]},$o(f))})}),m!=="NONE"&&t.jsx(R,{sx:{display:"flex",justifyContent:"center",backgroundColor:"grey.100",p:2,mt:2},children:t.jsx(W,{variant:"contained",color:"secondary",onClick:()=>c(m==="MORE"),sx:{width:"150px"},children:m==="LESS"?"Hide Charts":"View All Charts"})})]})})}function Ko(e){const{showPlots:n}=O();return t.jsx(x.Suspense,{fallback:n?t.jsx(Qo,{}):null,children:t.jsx(jt,{...e})})}try{jt.displayName="PlotsContainer",jt.__docgenInfo={description:"",displayName:"PlotsContainer",props:{facetsToPlot:{defaultValue:null,description:"",name:"facetsToPlot",required:!1,type:{name:"string[]"}},customPlots:{defaultValue:null,description:"",name:"customPlots",required:!1,type:{name:"QueryWrapperSynapsePlotProps[]"}},initialPlotType:{defaultValue:null,description:"",name:"initialPlotType",required:!1,type:{name:"enum",value:[{value:'"PIE"'},{value:'"BAR"'},{value:'"STACKED_HORIZONTAL_BAR"'}]}}}}}catch{}const Jo="isShowingFacetFilters",Xo="isHidingFacetFilters",Zo="hasSelectedRows";function ei(e){const{tableConfiguration:n,name:a,cardConfiguration:s,facetsToPlot:r,availableFacets:o,initialExpandedFacetControls:l,hideDownload:i,hideQueryCount:d,hideSqlEditorControl:u,hideVisualizationsControl:c,searchConfiguration:p,cavaticaConnectAccountURL:m,customControls:g,remount:h,isFullTextSearchEnabled:y,customPlots:S,initialLimit:f,initialPlotType:b}=e,v=E(),[C,N]=x.useState(!1),{hasFacetedSelectColumn:T,queryMetadataQueryOptions:w}=v,{isLoading:k}=gt(w),V=ga(Fa),_=v.currentQueryRequest,A=(_==null?void 0:_.query.selectedFacets)!==void 0&&_.query.selectedFacets.length>0||(_==null?void 0:_.query.additionalFilters)!==void 0&&(_==null?void 0:_.query.additionalFilters.length)>0,U=Ma();return t.jsx(Ra,{children:q=>{if(q===void 0)throw new Error("No queryVisualizationContext found when using QueryVisualizationContextConsumer");return t.jsx(R,{className:`QueryWrapperPlotNav ${q.showFacetFilter?Jo:Xo} ${V?Zo:""}`,sx:{"*":{cursor:k?"wait":void 0}},children:t.jsxs(Va,{children:[y?t.jsx(We,{ftsConfig:p==null?void 0:p.ftsConfig}):t.jsx(Oa,{...p,queryContext:v,queryVisualizationContext:q}),t.jsx(wa,{}),q.showDownloadConfirmation&&t.jsx(we,{addToDownloadListRequest:U,onClose:()=>q.setShowDownloadConfirmation(!1)}),t.jsx(Xt,{children:t.jsx(Ye,{showColumnSelection:n!==void 0,name:a,hideDownload:i,hideQueryCount:d,hideFacetFilterControl:!T,hideVisualizationsControl:!T||c,hideSqlEditorControl:u,cavaticaConnectAccountURL:m,customControls:g,remount:h})}),T&&t.jsx(t.Fragment,{children:t.jsx(as,{availableFacets:o,initialExpandedFacetControls:l})}),t.jsx(mn,{frontText:"",endText:A?"filtered by":"",hideIfUnfiltered:!0}),t.jsx(Ko,{facetsToPlot:r,customPlots:S,initialPlotType:b}),t.jsx(je,{tableConfiguration:n,hideDownload:i,cardConfiguration:s,initialLimit:f}),C&&t.jsx(La,{getLastQueryRequest:v==null?void 0:v.getCurrentQueryRequest,onClose:()=>N(!1)})]})})}})}function $n(e){var T;const{sql:n,tableConfiguration:a,isInfinite:s=!a,limit:r=Ue,showLastUpdatedOn:o,unitDescription:l,additionalFiltersSessionStorageKey:i,helpConfiguration:d,customPlots:u,enabledExternalAnalysisPlatforms:c}=e,p=((T=e.query)==null?void 0:T.sql)??n??"",{entityId:m,versionNumber:g}=Ir(p),h=x.useMemo(()=>{if(e.query)return e.query;if(e.initQueryJson)return JSON.parse(e.initQueryJson);{const w=et(e.searchParams,e.sqlOperator,i);return{sql:n,additionalFilters:w,limit:r,offset:0}}},[e.query,e.initQueryJson,e.searchParams,e.sqlOperator,i,n,r]),[y,S]=x.useState(1),f=()=>{S(y+1)},{data:b}=pe(m,g),v={entityId:m??"",concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",partMask:Z|Ze|Le|ba|Zt|en|Sa|tn,query:h},C=(b&&xa(b)&&b.isSearchEnabled)??!1,N=`${JSON.stringify(v)}-${y}`;return x.createElement(an,{...e,initQueryRequest:v,key:N,isInfinite:s},t.jsx(rn,{unitDescription:l,rgbIndex:e.rgbIndex,columnAliases:e.columnAliases,helpConfiguration:d,visibleColumnCount:e.visibleColumnCount,defaultShowPlots:e.defaultShowPlots,hideCopyToClipboard:e.hideCopyToClipboard,defaultShowSearchBar:(e.defaultShowSearchBox||C)&&!e.hideSearchBarControl,hideSearchBarControl:e.hideSearchBarControl,showLastUpdatedOn:o,noContentPlaceholderType:He.INTERACTIVE,hasCustomPlots:Array.isArray(u)&&u.length>0,enabledExternalAnalysisPlatforms:c,children:t.jsx(ei,{...e,isFullTextSearchEnabled:C,remount:f})}))}try{$n.displayName="QueryWrapperPlotNav",$n.__docgenInfo={description:"",displayName:"QueryWrapperPlotNav",props:{}}}catch{}const Pt=e=>({partMask:en|Ze|Le|Zt|Z|tn,entityId:de(e.sql),concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",query:{limit:Ue,offset:0,...e}});function Lt(e){if(e.query)return e.query;{const n=et(e.searchParams,e.sqlOperator,e.additionalFiltersSessionStorageKey);return{sql:e.sql,additionalFilters:n,offset:0}}}function zn(e){var _;const{hideDownload:n}=e,{showAccessColumn:a,sql:s,hideAddToDownloadListColumn:r=n,hideQueryCount:o,name:l,showTopLevelControls:i=!1,searchConfiguration:d,unitDescription:u="Results",rgbIndex:c,showLastUpdatedOn:p,noContentPlaceholderType:m=i?He.INTERACTIVE:He.STATIC,cardConfiguration:g,tableConfiguration:h,shouldDeepLink:y,...S}=e,[f,b]=x.useState(1),v=()=>{b(f+1)},C=((_=e.query)==null?void 0:_.sql)??s??"",N=Lt(e),T=Pt(N),w=de(C),{data:k}=pe(w),V=JSON.stringify(T)+f;return x.createElement(an,{...S,initQueryRequest:T,shouldDeepLink:y,key:V},t.jsx(rn,{rgbIndex:c,unitDescription:u,showLastUpdatedOn:p,noContentPlaceholderType:m,...S,children:t.jsx(Gr,{children:A=>{if(A===void 0)throw new Error("No queryContext found when calling QueryContextConsumer");return t.jsx(Ra,{children:U=>{if(U===void 0)throw new Error("No queryVisualizationContext found when calling QueryVisualizationContextConsumer");return t.jsxs(t.Fragment,{children:[i&&t.jsx(Ye,{showColumnSelection:!0,name:l,hideDownload:r,hideQueryCount:o,hideFacetFilterControl:!0,hideVisualizationsControl:!0,remount:v}),k&&xa(k)&&k.isSearchEnabled?t.jsx(We,{ftsConfig:d==null?void 0:d.ftsConfig}):t.jsx(Oa,{...d,queryContext:A,queryVisualizationContext:U}),t.jsx(wa,{}),i&&t.jsx(mn,{frontText:""}),t.jsx(je,{tableConfiguration:g?void 0:{...h,showAccessColumn:a,hideAddToDownloadListColumn:r,...S},cardConfiguration:g})]})}})}})}))}try{Lt.displayName="getQueryFromProps",Lt.__docgenInfo={description:"",displayName:"getQueryFromProps",props:{}}}catch{}try{Pt.displayName="generateInitQueryRequest",Pt.__docgenInfo={description:"",displayName:"generateInitQueryRequest",props:{sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},selectedFacets:{defaultValue:null,description:"",name:"selectedFacets",required:!1,type:{name:"FacetColumnRequest[]"}},includeEntityEtag:{defaultValue:null,description:"",name:"includeEntityEtag",required:!1,type:{name:"boolean"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"number"}},limit:{defaultValue:null,description:"",name:"limit",required:!1,type:{name:"number"}},sort:{defaultValue:null,description:"",name:"sort",required:!1,type:{name:"SortItem[]"}},additionalFilters:{defaultValue:null,description:"",name:"additionalFilters",required:!1,type:{name:"QueryFilter[]"}},selectFileColumn:{defaultValue:null,description:"",name:"selectFileColumn",required:!1,type:{name:"number"}},selectFileVersionColumn:{defaultValue:null,description:"",name:"selectFileVersionColumn",required:!1,type:{name:"number"}}}}}catch{}try{zn.displayName="StandaloneQueryWrapper",zn.__docgenInfo={description:`This component was initially implemented on the portal side. It renders a SynapseTable if a title is provided.
If showTopLevelControls is set to true, then the SynapseTable will also include the TopLevelControls (search, export table, column selection).`,displayName:"StandaloneQueryWrapper",props:{}}}catch{}function Hn(){return t.jsxs(R,{sx:{color:"grey.700",maxHeight:{xs:"170px",md:"110px"},overflow:"auto",margin:"20px 0px"},children:[t.jsx(I,{variant:"smallText1",sx:{fontWeight:700,marginBottom:"5px"},children:"System Use Notice"}),t.jsx(I,{variant:"smallText1",sx:{lineHeight:"21px"},children:"Sage Bionetworks actively monitors this system and activity to maintain system security and availability and to ensure appropriate and legitimate usage. Any individual who intentionally accesses a computer or system without authorization, and who alters, damages, makes unauthorized modifications to, or destroys information, or exceeds authorized access, is in violation of applicable federal laws, Executive Orders, directives, policies, regulations, standards, and guidance. Any evidence of possible violations of proper use or applicable laws found as a result of this monitoring may be turned over to law enforcement. Any individual found to be in violation of the system's proper use rules or law could be punished with loss of system access, fines, and/or imprisonment. By proceeding, you hereby acknowledge your agreement with these terms and the system's rules of behavior and consent to such monitoring and information retrieval for law enforcement and other official purposes."})]})}try{Hn.displayName="SystemUseNotification",Hn.__docgenInfo={description:"FISMA SAR V1-AC-8 System Use Notification, see https://sagebionetworks.jira.com/browse/SWC-6430",displayName:"SystemUseNotification",props:{}}}catch{}const ti="species",ni="observationphase",fn={queryResult:{queryResults:{headers:[{name:"species",columnType:"STRING",id:"152514"},{name:"observationPhase",columnType:"STRING",id:"197976"},{name:"observationPhaseOrder",columnType:"INTEGER",id:"198102"},{name:"observationTimeMax",columnType:"INTEGER",id:"198103"},{name:"observationTimeUnits",columnType:"STRING",id:"198101"}],rows:[{rowId:9,versionNumber:4,values:["Danio rerio","embryo","1","7","days"]},{rowId:10,versionNumber:4,values:["Danio rerio","larval","2","3","months"]},{rowId:11,versionNumber:4,values:["Danio rerio","juvenile","3","6","months"]},{rowId:12,versionNumber:4,values:["Danio rerio","adult","4","12","months"]},{rowId:16,versionNumber:4,values:["Drosophila","embryo","1","24","hours"]},{rowId:17,versionNumber:4,values:["Drosophila","larval","2","5","days"]},{rowId:18,versionNumber:4,values:["Drosophila","pupal","3","12","days"]},{rowId:19,versionNumber:4,values:["Drosophila","adult","4","5","weeks"]},{rowId:1,versionNumber:4,values:["Mus musculus","prenatal","1","21","days"]},{rowId:2,versionNumber:4,values:["Mus musculus","postnatal","2","6","months"]},{rowId:20,versionNumber:4,values:["Rattus norvegicus","prenatal","1","23","days"]},{rowId:21,versionNumber:4,values:["Rattus norvegicus","neonatal","2","4","weeks"]},{rowId:22,versionNumber:4,values:["Rattus norvegicus","weanling","3","2","months"]},{rowId:23,versionNumber:4,values:["Rattus norvegicus","juvenile","4","3","months"]},{rowId:24,versionNumber:4,values:["Rattus norvegicus","adolescent","5","6","months"]},{rowId:25,versionNumber:4,values:["Rattus norvegicus","adult","6","12","months"]},{rowId:13,versionNumber:4,values:["Saccharomyces","log phase","1","7","days"]},{rowId:14,versionNumber:4,values:["Saccharomyces","stationary phase","2","2","weeks"]},{rowId:15,versionNumber:4,values:["Saccharomyces","death phase","3","3","weeks"]},{rowId:3,versionNumber:4,values:["Sus scrofa","prenatal","1","115","days"]},{rowId:4,versionNumber:4,values:["Sus scrofa","neonatal","2","3","months"]},{rowId:5,versionNumber:4,values:["Sus scrofa","weanling","3","6","months"]},{rowId:6,versionNumber:4,values:["Sus scrofa","juvenile","4","12","months"]},{rowId:7,versionNumber:4,values:["Sus scrofa","adolescent","5","2","years"]},{rowId:8,versionNumber:4,values:["Sus scrofa","adult","6","3","years"]}]}}};var aa;const ai=(aa=fn.queryResult)==null?void 0:aa.queryResults.headers.findIndex(e=>e.name.toLowerCase()===ti);var ra;const yt=(ra=fn.queryResult)==null?void 0:ra.queryResults.headers.findIndex(e=>e.name.toLowerCase()===ni),Ft=({color:e,phaseName:n})=>t.jsxs(Y,{sx:{display:"flex",alignItems:"center",gap:"7px"},children:[t.jsx(Y,{sx:{backgroundColor:e,width:"20px",height:"20px"}}),t.jsx(I,{variant:"body1",children:n==null?void 0:n.toUpperCase()})]});try{Ft.displayName="TimelineLegendItem",Ft.__docgenInfo={description:"",displayName:"TimelineLegendItem",props:{color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}},phaseName:{defaultValue:null,description:"",name:"phaseName",required:!0,type:{name:"string"}}}}}catch{}const ri=(e,n,a,s)=>{let r=-1;return{timepoints:n.map((l,i)=>{const d=parseFloat(l.values[a.observationTime]),u=l.values[a.observationTimeUnits];return l.rowId==s&&(r=i),e.add(d,u)}),hoverOverIndex:r}},Et=e=>e.length==0?be().add(1,"days"):e.reduce((n,a)=>!n||a.isAfter(n)?a:n),si=(e,n)=>{if(e.timepoints==null||e.timepoints.length==0)return[{x:[be().format()],y:[.5],mode:"lines",line:{color:"blue",width:2},customdata:[],hoverinfo:"none"}];const a=e.timepoints.reduce((r,o,l)=>{const i=r;return i[o.format()]||(i[o.format()]=[]),i[o.format()].push(n[l]),r},{});return e.timepoints.map((r,o)=>{const l=r.format(),i=o==e.hoverOverIndex,u=a[l].map(c=>c.rowId);return{x:[l,l,l],y:[0,.5,1],mode:"lines",line:{color:i?"black":"gray",width:i?2:1},customdata:[u,u,u],hoverinfo:"none"}})},oi=(e,n,a,s,r,o)=>{const l=s.map(d=>d.x[0]),i=s.map(d=>{const u=d.customdata[0];if(u&&u.length>0){const c=u.length,p=r==null?void 0:r.filter(m=>u[0]==m.rowId);if(p&&p.length>0){const m=p[0],g=parseFloat(m.values[o.observationTime]),h=m.values[o.observationTimeUnits],y=c>1?`(${c})`:"";return`${g} ${h} ${y}`}}return""});return{hovermode:"closest",dragmode:!1,showlegend:!1,xaxis:{showgrid:!1,showticklabels:!0,showline:!1,zeroline:!1,tickvals:l,ticktext:i,tickangle:-45},yaxis:{range:[0,1.25],showgrid:!1,zeroline:!1,showline:!1,showticklabels:!1},shapes:[{type:"rect",x0:e.subtract(n.diff(e)/10).format(),x1:n.add(n.diff(e)/3).format(),y0:.25,y1:.75,fillcolor:a,opacity:.8,line:{width:0}}],margin:{l:0,r:0,t:60,b:60}}},kt=({color:e,rowData:n,schema:a,widthPx:s,sql:r})=>{const[o,l]=x.useState(),[i,d]=x.useState(),[u,c]=x.useState(1),p=be(),m=x.useRef(null),g=o==null?void 0:o.points[0].customdata,h=n==null?void 0:n.filter(C=>g==null?void 0:g.includes(C.rowId)),y=i==null?void 0:i.points[0].customdata,S=x.useMemo(()=>ri(p,n,a,(y==null?void 0:y.length)>0?y[0]:void 0),[y,n,a,p]),f=Et(S.timepoints),b=x.useMemo(()=>si(S,n),[S,n]),v=h.map(C=>C.rowId);return t.jsxs("div",{ref:m,style:{width:s},children:[t.jsx(zs,{style:{width:s,height:"220px"},data:b,layout:oi(p,f,e,b,n,a),config:{displayModeBar:!1},useResizeHandler:!0,onClick:C=>{l(C),d(void 0)},onDoubleClick:()=>{c(u+1)},onHover:C=>{d(C)},onUnhover:()=>{d(void 0)}},`Plot-${e}-${u}`),t.jsx(qr,{onClose:()=>l(void 0),open:h&&h.length>0,children:t.jsx(jr,{children:t.jsx(Ht,{topLevelEnumeratedFacetToFilter:{columnName:"observationType"},sql:r,searchParams:{ROW_ID:v.map(String).join(",")},sqlOperator:he.IN,lockedColumn:{columnName:"ROW_ID"},cardConfiguration:{type:$e},initialLimit:3})})})]})};try{Et.displayName="getMaxDate",Et.__docgenInfo={description:"",displayName:"getMaxDate",props:{}}}catch{}try{kt.displayName="TimelinePhase",kt.__docgenInfo={description:"",displayName:"TimelinePhase",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}},rowData:{defaultValue:null,description:"",name:"rowData",required:!0,type:{name:"Row[]"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ObservationCardSchema"}},widthPx:{defaultValue:null,description:"",name:"widthPx",required:!0,type:{name:"number"}},sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}}}}}catch{}const At=({sql:e,additionalFilters:n,species:a,setSpecies:s})=>{var c,p;const r=de(e),o=Gt({entityId:r,query:{sql:`SELECT distinct unnest(species) FROM ${r} WHERE species IS NOT NULL AND observationTime IS NOT NULL GROUP BY species`,additionalFilters:n},partMask:Z,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest"}),{data:l,isLoading:i}=o,d=(p=(c=l==null?void 0:l.queryResult)==null?void 0:c.queryResults)==null?void 0:p.rows,u=d&&d.length>0?d[0].values[0]:void 0;return a==null&&u!=null&&s(u),i||!d||d.length<2?t.jsx(t.Fragment,{}):t.jsx(Y,{children:t.jsxs(Pr,{children:[t.jsx(Lr,{children:"Species"}),t.jsx(va,{sx:{marginLeft:"2px",marginBottom:"2px"},value:a,label:"Species",onChange:m=>{s(m.target.value)},children:d==null?void 0:d.map(m=>{const g=m.values[0];return t.jsx(fe,{value:g,children:g},g)})})]})})};try{At.displayName="TimelinePlotSpeciesSelector",At.__docgenInfo={description:"",displayName:"TimelinePlotSpeciesSelector",props:{sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},additionalFilters:{defaultValue:null,description:"",name:"additionalFilters",required:!1,type:{name:"QueryFilter[]"}},species:{defaultValue:null,description:"",name:"species",required:!1,type:{name:"string"}},setSpecies:{defaultValue:null,description:"",name:"setSpecies",required:!0,type:{name:"Dispatch<SetStateAction<string>>"}}}}}catch{}const ii="observationphase",li="observationtime",di="observationtimeunits",ui="observationsubmittername",ci="observationtext",pi="observationtype",mi="synapseid",yi="doi",Wn=({sql:e,searchParams:n,sqlOperator:a,defaultSpecies:s,title:r,subTitle:o})=>{const l=de(e),[i,d]=x.useState(s),[u,c]=Hs(),p=et(n,a)??[],m=i?{columnName:"species",concreteType:"org.sagebionetworks.repo.model.table.ColumnMultiValueFunctionQueryFilter",values:[i],function:Be.HAS,_function:Be.HAS}:void 0,g=[...p];m&&g.push(m);const h=Gt({entityId:l,query:{sql:`${e} WHERE observationTime IS NOT NULL`,sort:[{column:"observationTime",direction:"ASC"}],additionalFilters:g},partMask:Z,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest"},{enabled:!!i}),{data:y,isLoading:S}=h,f=x.useMemo(()=>{var q;if(i)return(q=fn.queryResult)==null?void 0:q.queryResults.rows.filter(z=>z.values[ai]==i)},[i]);if(S)return t.jsx(fi,{});const b=ae(ii,y),v=ae(li,y),C=ae(di,y),N=ae(ui,y),T=ae(ci,y),w=ae(yi,y),k=ae(pi,y),V=ae(mi,y),_={observationSubmitterName:N,synapseId:V,observationType:k,observationText:T,observationTime:v,observationTimeUnits:C,doi:w},A=u!=null&&u.width&&f?(u==null?void 0:u.width)/f.length:0,U=f==null?void 0:f.map(()=>"auto").join(" ");return t.jsxs(t.Fragment,{children:[i&&t.jsxs(t.Fragment,{children:[r&&t.jsx(I,{variant:"h2",children:r}),o&&t.jsx(I,{variant:"body1Italic",sx:{margin:"10px 0px"},children:o})]}),t.jsxs(Y,{children:[t.jsxs(Y,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(Y,{children:!s&&t.jsx(At,{setSpecies:d,species:i,sql:e,additionalFilters:p})}),f&&t.jsx(Y,{sx:{display:"flex",justifyContent:"flex-end",gap:"25px"},children:f.map((q,$)=>{const{colorPalette:z}=kn($,1);return t.jsx(Ft,{color:z[0],phaseName:q.values[yt]},q.rowId)})})]}),i&&f&&t.jsx("div",{ref:c,children:t.jsx(Y,{sx:{display:"inline-grid",gridTemplateColumns:U,minWidth:u==null?void 0:u.width,maxWidth:u==null?void 0:u.width},className:"forcePlotlyDefaultCursor",children:f.map((q,$)=>{var K;const{colorPalette:z}=kn($,1),ee=(K=y==null?void 0:y.queryResult)==null?void 0:K.queryResults.rows.filter(Se=>Se.values[b]==q.values[yt]);return ee?t.jsx(kt,{name:q.values[yt],color:z[0],rowData:ee,schema:_,widthPx:A,sql:e},q.rowId):t.jsx(t.Fragment,{})})})})]})]})},fi=()=>t.jsxs(Y,{children:[t.jsxs(Y,{sx:{display:"flex",justifyContent:"flex-end",gap:"10px"},children:[t.jsx(F,{height:"45px",width:"80px"}),t.jsx(F,{height:"45px",width:"80px"})]}),t.jsx(Y,{sx:{display:"flex"},children:t.jsx(F,{height:"150px",width:"100%"})})]});try{Wn.displayName="TimelinePlot",Wn.__docgenInfo={description:"",displayName:"TimelinePlot",props:{sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},searchParams:{defaultValue:null,description:"",name:"searchParams",required:!1,type:{name:"Record<string, string>"}},sqlOperator:{defaultValue:null,description:"",name:"sqlOperator",required:!1,type:{name:"SQLOperator"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},subTitle:{defaultValue:null,description:"",name:"subTitle",required:!1,type:{name:"string"}},defaultSpecies:{defaultValue:null,description:"",name:"defaultSpecies",required:!1,type:{name:"string"}}}}}catch{}const Gn=xe(R,{label:"MuiContainer"})(({theme:e})=>({paddingRight:15,paddingLeft:15,marginRight:"auto",marginLeft:"auto",[e.breakpoints.up("md")]:{width:920},[e.breakpoints.up("lg")]:{width:1170},[e.breakpoints.up("xl")]:{width:1366}}));try{Gn.displayName="MuiContainer",Gn.__docgenInfo={description:"Drop in MUI substitute class for Bootstrap Container component",displayName:"MuiContainer",props:{zIndex:{defaultValue:null,description:"",name:"zIndex",required:!1,type:{name:"ResponsiveStyleValue<string | (string & {}) | (number & {})> | ((theme: Theme) => ResponsiveStyleValue<string | (string & {}) | (number & {})>)"}},typography:{defaultValue:null,description:"",name:"typography",required:!1,type:{name:"ResponsiveStyleValue<string> | ((theme: Theme) => ResponsiveStyleValue<string>)"}},fontFamily:{defaultValue:null,description:"",name:"fontFamily",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | FontFamily> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | FontFamily>)"}},fontSize:{defaultValue:null,description:"",name:"fontSize",required:!1,type:{name:"ResponsiveStyleValue<FontSize<string | number> | readonly NonNullable<FontSize<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},border:{defaultValue:null,description:"",name:"border",required:!1,type:{name:'ResponsiveStyleValue<number | "none" | (string & {}) | "inset" | "hidden" | "inherit" | "medium" | "initial" | "-moz-initial" | "revert" | "unset" | "revert-layer" | "thick" | "thin" | "dashed" | ... 183 more ... | "currentcolor"> | ((theme: Theme) => ResponsiveStyleValue<...>)'}},boxShadow:{defaultValue:null,description:"",name:"boxShadow",required:!1,type:{name:"ResponsiveStyleValue<number | BoxShadow> | ((theme: Theme) => ResponsiveStyleValue<number | BoxShadow>)"}},fontWeight:{defaultValue:null,description:"",name:"fontWeight",required:!1,type:{name:"ResponsiveStyleValue<string | (string & {}) | (number & {})> | ((theme: Theme) => ResponsiveStyleValue<string | (string & {}) | (number & {})>)"}},alignContent:{defaultValue:null,description:"",name:"alignContent",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | AlignContent> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | AlignContent>)"}},alignItems:{defaultValue:null,description:"",name:"alignItems",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | AlignItems> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | AlignItems>)"}},alignSelf:{defaultValue:null,description:"",name:"alignSelf",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | AlignSelf> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | AlignSelf>)"}},bottom:{defaultValue:null,description:"",name:"bottom",required:!1,type:{name:"ResponsiveStyleValue<Bottom<string | number> | readonly NonNullable<Bottom<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},boxSizing:{defaultValue:null,description:"",name:"boxSizing",required:!1,type:{name:"ResponsiveStyleValue<BoxSizing | readonly NonNullable<BoxSizing>[]> | ((theme: Theme) => ResponsiveStyleValue<BoxSizing | readonly NonNullable<...>[]>)"}},color:{defaultValue:null,description:"",name:"color",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | Color> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | Color>)"}},columnGap:{defaultValue:null,description:"",name:"columnGap",required:!1,type:{name:"ResponsiveStyleValue<ColumnGap<string | number> | readonly NonNullable<ColumnGap<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},display:{defaultValue:null,description:"",name:"display",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | Display> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | Display>)"}},flexBasis:{defaultValue:null,description:"",name:"flexBasis",required:!1,type:{name:"ResponsiveStyleValue<FlexBasis<string | number> | readonly NonNullable<FlexBasis<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},flexDirection:{defaultValue:null,description:"",name:"flexDirection",required:!1,type:{name:"ResponsiveStyleValue<FlexDirection | readonly NonNullable<FlexDirection>[]> | ((theme: Theme) => ResponsiveStyleValue<FlexDirection | readonly NonNullable<...>[]>)"}},flexGrow:{defaultValue:null,description:"",name:"flexGrow",required:!1,type:{name:"ResponsiveStyleValue<FlexGrow | readonly NonNullable<FlexGrow>[]> | ((theme: Theme) => ResponsiveStyleValue<FlexGrow | readonly NonNullable<...>[]>)"}},flexShrink:{defaultValue:null,description:"",name:"flexShrink",required:!1,type:{name:"ResponsiveStyleValue<FlexShrink | readonly NonNullable<FlexShrink>[]> | ((theme: Theme) => ResponsiveStyleValue<FlexShrink | readonly NonNullable<...>[]>)"}},flexWrap:{defaultValue:null,description:"",name:"flexWrap",required:!1,type:{name:"ResponsiveStyleValue<FlexWrap | readonly NonNullable<FlexWrap>[]> | ((theme: Theme) => ResponsiveStyleValue<FlexWrap | readonly NonNullable<...>[]>)"}},fontStyle:{defaultValue:null,description:"",name:"fontStyle",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | FontStyle> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | FontStyle>)"}},gridAutoColumns:{defaultValue:null,description:"",name:"gridAutoColumns",required:!1,type:{name:"ResponsiveStyleValue<GridAutoColumns<string | number> | readonly NonNullable<GridAutoColumns<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},gridAutoFlow:{defaultValue:null,description:"",name:"gridAutoFlow",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | GridAutoFlow> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | GridAutoFlow>)"}},gridAutoRows:{defaultValue:null,description:"",name:"gridAutoRows",required:!1,type:{name:"ResponsiveStyleValue<GridAutoRows<string | number> | readonly NonNullable<GridAutoRows<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},gridTemplateAreas:{defaultValue:null,description:"",name:"gridTemplateAreas",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | GridTemplateAreas> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | GridTemplateAreas>)"}},gridTemplateColumns:{defaultValue:null,description:"",name:"gridTemplateColumns",required:!1,type:{name:"ResponsiveStyleValue<GridTemplateColumns<string | number> | readonly NonNullable<GridTemplateColumns<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},gridTemplateRows:{defaultValue:null,description:"",name:"gridTemplateRows",required:!1,type:{name:"ResponsiveStyleValue<GridTemplateRows<string | number> | readonly NonNullable<GridTemplateRows<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"ResponsiveStyleValue<Height<string | number> | readonly NonNullable<Height<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},justifyContent:{defaultValue:null,description:"",name:"justifyContent",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | JustifyContent> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | JustifyContent>)"}},justifyItems:{defaultValue:null,description:"",name:"justifyItems",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | JustifyItems> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | JustifyItems>)"}},justifySelf:{defaultValue:null,description:"",name:"justifySelf",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | JustifySelf> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | JustifySelf>)"}},left:{defaultValue:null,description:"",name:"left",required:!1,type:{name:"ResponsiveStyleValue<Left<string | number> | readonly NonNullable<Left<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<Left<...> | readonly NonNullable<...>[]>)"}},letterSpacing:{defaultValue:null,description:"",name:"letterSpacing",required:!1,type:{name:"ResponsiveStyleValue<LetterSpacing<string | number> | readonly NonNullable<LetterSpacing<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},lineHeight:{defaultValue:null,description:"",name:"lineHeight",required:!1,type:{name:"ResponsiveStyleValue<LineHeight<string | number> | readonly NonNullable<LineHeight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginBlockEnd:{defaultValue:null,description:"",name:"marginBlockEnd",required:!1,type:{name:"ResponsiveStyleValue<MarginBlockEnd<string | number> | readonly NonNullable<MarginBlockEnd<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginBlockStart:{defaultValue:null,description:"",name:"marginBlockStart",required:!1,type:{name:"ResponsiveStyleValue<MarginBlockStart<string | number> | readonly NonNullable<MarginBlockStart<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginBottom:{defaultValue:null,description:"",name:"marginBottom",required:!1,type:{name:"ResponsiveStyleValue<MarginBottom<string | number> | readonly NonNullable<MarginBottom<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginInlineEnd:{defaultValue:null,description:"",name:"marginInlineEnd",required:!1,type:{name:"ResponsiveStyleValue<MarginInlineEnd<string | number> | readonly NonNullable<MarginInlineEnd<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginInlineStart:{defaultValue:null,description:"",name:"marginInlineStart",required:!1,type:{name:"ResponsiveStyleValue<MarginInlineStart<string | number> | readonly NonNullable<MarginInlineStart<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginLeft:{defaultValue:null,description:"",name:"marginLeft",required:!1,type:{name:"ResponsiveStyleValue<MarginLeft<string | number> | readonly NonNullable<MarginLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginRight:{defaultValue:null,description:"",name:"marginRight",required:!1,type:{name:"ResponsiveStyleValue<MarginRight<string | number> | readonly NonNullable<MarginRight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginTop:{defaultValue:null,description:"",name:"marginTop",required:!1,type:{name:"ResponsiveStyleValue<MarginTop<string | number> | readonly NonNullable<MarginTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},maxHeight:{defaultValue:null,description:"",name:"maxHeight",required:!1,type:{name:"ResponsiveStyleValue<MaxHeight<string | number> | readonly NonNullable<MaxHeight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},maxWidth:{defaultValue:null,description:"",name:"maxWidth",required:!1,type:{name:"ResponsiveStyleValue<MaxWidth<string | number> | readonly NonNullable<MaxWidth<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},minHeight:{defaultValue:null,description:"",name:"minHeight",required:!1,type:{name:"ResponsiveStyleValue<MinHeight<string | number> | readonly NonNullable<MinHeight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},minWidth:{defaultValue:null,description:"",name:"minWidth",required:!1,type:{name:"ResponsiveStyleValue<MinWidth<string | number> | readonly NonNullable<MinWidth<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},order:{defaultValue:null,description:"",name:"order",required:!1,type:{name:"ResponsiveStyleValue<Order | readonly NonNullable<Order>[]> | ((theme: Theme) => ResponsiveStyleValue<Order | readonly NonNullable<Order>[]>)"}},paddingBlockEnd:{defaultValue:null,description:"",name:"paddingBlockEnd",required:!1,type:{name:"ResponsiveStyleValue<PaddingBlockEnd<string | number> | readonly NonNullable<PaddingBlockEnd<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingBlockStart:{defaultValue:null,description:"",name:"paddingBlockStart",required:!1,type:{name:"ResponsiveStyleValue<PaddingBlockStart<string | number> | readonly NonNullable<PaddingBlockStart<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingBottom:{defaultValue:null,description:"",name:"paddingBottom",required:!1,type:{name:"ResponsiveStyleValue<PaddingBottom<string | number> | readonly NonNullable<PaddingBottom<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingInlineEnd:{defaultValue:null,description:"",name:"paddingInlineEnd",required:!1,type:{name:"ResponsiveStyleValue<PaddingInlineEnd<string | number> | readonly NonNullable<PaddingInlineEnd<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingInlineStart:{defaultValue:null,description:"",name:"paddingInlineStart",required:!1,type:{name:"ResponsiveStyleValue<PaddingInlineStart<string | number> | readonly NonNullable<PaddingInlineStart<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingLeft:{defaultValue:null,description:"",name:"paddingLeft",required:!1,type:{name:"ResponsiveStyleValue<PaddingLeft<string | number> | readonly NonNullable<PaddingLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingRight:{defaultValue:null,description:"",name:"paddingRight",required:!1,type:{name:"ResponsiveStyleValue<PaddingRight<string | number> | readonly NonNullable<PaddingRight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingTop:{defaultValue:null,description:"",name:"paddingTop",required:!1,type:{name:"ResponsiveStyleValue<PaddingTop<string | number> | readonly NonNullable<PaddingTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"ResponsiveStyleValue<Position | readonly NonNullable<Position>[]> | ((theme: Theme) => ResponsiveStyleValue<Position | readonly NonNullable<...>[]>)"}},right:{defaultValue:null,description:"",name:"right",required:!1,type:{name:"ResponsiveStyleValue<Right<string | number> | readonly NonNullable<Right<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},rowGap:{defaultValue:null,description:"",name:"rowGap",required:!1,type:{name:"ResponsiveStyleValue<RowGap<string | number> | readonly NonNullable<RowGap<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},textAlign:{defaultValue:null,description:"",name:"textAlign",required:!1,type:{name:"ResponsiveStyleValue<TextAlign | readonly NonNullable<TextAlign>[]> | ((theme: Theme) => ResponsiveStyleValue<TextAlign | readonly NonNullable<...>[]>)"}},textOverflow:{defaultValue:null,description:"",name:"textOverflow",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | TextOverflow> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | TextOverflow>)"}},textTransform:{defaultValue:null,description:"",name:"textTransform",required:!1,type:{name:"ResponsiveStyleValue<TextTransform | readonly NonNullable<TextTransform>[]> | ((theme: Theme) => ResponsiveStyleValue<TextTransform | readonly NonNullable<...>[]>)"}},top:{defaultValue:null,description:"",name:"top",required:!1,type:{name:"ResponsiveStyleValue<Top<string | number> | readonly NonNullable<Top<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<Top<string | number> | readonly NonNullable<...>[]>)"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!1,type:{name:"ResponsiveStyleValue<Visibility | readonly NonNullable<Visibility>[]> | ((theme: Theme) => ResponsiveStyleValue<Visibility | readonly NonNullable<...>[]>)"}},whiteSpace:{defaultValue:null,description:"",name:"whiteSpace",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | WhiteSpace> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | WhiteSpace>)"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"ResponsiveStyleValue<Width<string | number> | readonly NonNullable<Width<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},borderBottom:{defaultValue:null,description:"",name:"borderBottom",required:!1,type:{name:"ResponsiveStyleValue<BorderBottom<string | number> | readonly NonNullable<BorderBottom<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},borderColor:{defaultValue:null,description:"",name:"borderColor",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | BorderColor> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | BorderColor>)"}},borderLeft:{defaultValue:null,description:"",name:"borderLeft",required:!1,type:{name:"ResponsiveStyleValue<BorderLeft<string | number> | readonly NonNullable<BorderLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},borderRadius:{defaultValue:null,description:"",name:"borderRadius",required:!1,type:{name:"ResponsiveStyleValue<BorderRadius<string | number> | readonly NonNullable<BorderRadius<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},borderRight:{defaultValue:null,description:"",name:"borderRight",required:!1,type:{name:"ResponsiveStyleValue<BorderRight<string | number> | readonly NonNullable<BorderRight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},borderTop:{defaultValue:null,description:"",name:"borderTop",required:!1,type:{name:"ResponsiveStyleValue<BorderTop<string | number> | readonly NonNullable<BorderTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},flex:{defaultValue:null,description:"",name:"flex",required:!1,type:{name:"ResponsiveStyleValue<Flex<string | number> | readonly NonNullable<Flex<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<Flex<...> | readonly NonNullable<...>[]>)"}},gap:{defaultValue:null,description:"",name:"gap",required:!1,type:{name:"ResponsiveStyleValue<Gap<string | number> | readonly NonNullable<Gap<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<Gap<string | number> | readonly NonNullable<...>[]>)"}},gridArea:{defaultValue:null,description:"",name:"gridArea",required:!1,type:{name:"ResponsiveStyleValue<GridArea | readonly NonNullable<GridArea>[]> | ((theme: Theme) => ResponsiveStyleValue<GridArea | readonly NonNullable<...>[]>)"}},gridColumn:{defaultValue:null,description:"",name:"gridColumn",required:!1,type:{name:"ResponsiveStyleValue<GridColumn | readonly NonNullable<GridColumn>[]> | ((theme: Theme) => ResponsiveStyleValue<GridColumn | readonly NonNullable<...>[]>)"}},gridRow:{defaultValue:null,description:"",name:"gridRow",required:!1,type:{name:"ResponsiveStyleValue<GridRow | readonly NonNullable<GridRow>[]> | ((theme: Theme) => ResponsiveStyleValue<GridRow | readonly NonNullable<GridRow>[]>)"}},margin:{defaultValue:null,description:"",name:"margin",required:!1,type:{name:"ResponsiveStyleValue<Margin<string | number> | readonly NonNullable<Margin<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginBlock:{defaultValue:null,description:"",name:"marginBlock",required:!1,type:{name:"ResponsiveStyleValue<MarginBlock<string | number> | readonly NonNullable<MarginBlock<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginInline:{defaultValue:null,description:"",name:"marginInline",required:!1,type:{name:"ResponsiveStyleValue<MarginInline<string | number> | readonly NonNullable<MarginInline<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},overflow:{defaultValue:null,description:"",name:"overflow",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | Overflow> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | Overflow>)"}},padding:{defaultValue:null,description:"",name:"padding",required:!1,type:{name:"ResponsiveStyleValue<Padding<string | number> | readonly NonNullable<Padding<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingBlock:{defaultValue:null,description:"",name:"paddingBlock",required:!1,type:{name:"ResponsiveStyleValue<PaddingBlock<string | number> | readonly NonNullable<PaddingBlock<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingInline:{defaultValue:null,description:"",name:"paddingInline",required:!1,type:{name:"ResponsiveStyleValue<PaddingInline<string | number> | readonly NonNullable<PaddingInline<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},bgcolor:{defaultValue:null,description:"",name:"bgcolor",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | BackgroundColor> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | BackgroundColor>)"}},m:{defaultValue:null,description:"",name:"m",required:!1,type:{name:"ResponsiveStyleValue<Margin<string | number> | readonly NonNullable<Margin<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},mt:{defaultValue:null,description:"",name:"mt",required:!1,type:{name:"ResponsiveStyleValue<MarginTop<string | number> | readonly NonNullable<MarginTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},mr:{defaultValue:null,description:"",name:"mr",required:!1,type:{name:"ResponsiveStyleValue<MarginRight<string | number> | readonly NonNullable<MarginRight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},mb:{defaultValue:null,description:"",name:"mb",required:!1,type:{name:"ResponsiveStyleValue<MarginBottom<string | number> | readonly NonNullable<MarginBottom<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},ml:{defaultValue:null,description:"",name:"ml",required:!1,type:{name:"ResponsiveStyleValue<MarginLeft<string | number> | readonly NonNullable<MarginLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},mx:{defaultValue:null,description:"",name:"mx",required:!1,type:{name:"ResponsiveStyleValue<MarginLeft<string | number> | readonly NonNullable<MarginLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginX:{defaultValue:null,description:"",name:"marginX",required:!1,type:{name:"ResponsiveStyleValue<MarginLeft<string | number> | readonly NonNullable<MarginLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},my:{defaultValue:null,description:"",name:"my",required:!1,type:{name:"ResponsiveStyleValue<MarginTop<string | number> | readonly NonNullable<MarginTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},marginY:{defaultValue:null,description:"",name:"marginY",required:!1,type:{name:"ResponsiveStyleValue<MarginTop<string | number> | readonly NonNullable<MarginTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},p:{defaultValue:null,description:"",name:"p",required:!1,type:{name:"ResponsiveStyleValue<Padding<string | number> | readonly NonNullable<Padding<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},pt:{defaultValue:null,description:"",name:"pt",required:!1,type:{name:"ResponsiveStyleValue<PaddingTop<string | number> | readonly NonNullable<PaddingTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},pr:{defaultValue:null,description:"",name:"pr",required:!1,type:{name:"ResponsiveStyleValue<PaddingRight<string | number> | readonly NonNullable<PaddingRight<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},pb:{defaultValue:null,description:"",name:"pb",required:!1,type:{name:"ResponsiveStyleValue<PaddingBottom<string | number> | readonly NonNullable<PaddingBottom<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},pl:{defaultValue:null,description:"",name:"pl",required:!1,type:{name:"ResponsiveStyleValue<PaddingLeft<string | number> | readonly NonNullable<PaddingLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},px:{defaultValue:null,description:"",name:"px",required:!1,type:{name:"ResponsiveStyleValue<PaddingLeft<string | number> | readonly NonNullable<PaddingLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingX:{defaultValue:null,description:"",name:"paddingX",required:!1,type:{name:"ResponsiveStyleValue<PaddingLeft<string | number> | readonly NonNullable<PaddingLeft<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},py:{defaultValue:null,description:"",name:"py",required:!1,type:{name:"ResponsiveStyleValue<PaddingTop<string | number> | readonly NonNullable<PaddingTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},paddingY:{defaultValue:null,description:"",name:"paddingY",required:!1,type:{name:"ResponsiveStyleValue<PaddingTop<string | number> | readonly NonNullable<PaddingTop<string | number>>[]> | ((theme: Theme) => ResponsiveStyleValue<...>)"}},displayPrint:{defaultValue:null,description:"",name:"displayPrint",required:!1,type:{name:"ResponsiveStyleValue<readonly string[] | Display> | ((theme: Theme) => ResponsiveStyleValue<readonly string[] | Display>)"}},component:{defaultValue:null,description:"",name:"component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}}}}}catch{}const Qa=e=>{x.useEffect(()=>{if(e){const n=document.querySelector("head"),a=document.createElement("script");a.setAttribute("type","application/ld+json");const s=document.createTextNode(e);return a.appendChild(s),n==null||n.appendChild(a),()=>{n==null||n.removeChild(a)}}},[e])};function Yn({thing:e}){return Qa(JSON.stringify(e)),t.jsx(t.Fragment,{})}try{Yn.displayName="JsonLdScript",Yn.__docgenInfo={description:"This component will add a json ld script tag to the page when rendered.",displayName:"JsonLdScript",props:{thing:{defaultValue:null,description:"",name:"thing",required:!0,type:{name:"WithContext<Thing>"}}}}}catch{}function Kn({entityId:e,version:n,searchParams:a}){var p,m,g;let s,r;e?(s=e,r=n):a&&(s=a.id,a.version&&(r=parseInt(a.version)));const o={sql:"select croissant_file_s3_object from syn65903895",additionalFilters:[{concreteType:qn,columnName:"dataset",operator:he.EQUAL,values:[s]}]};r&&o.additionalFilters.push({concreteType:qn,columnName:"dataset_version",operator:he.EQUAL,values:[`${r}`]});const{data:l}=Kt({entityId:s,query:o,partMask:Z,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest"}),i=(g=(m=(p=l==null?void 0:l.responseBody)==null?void 0:p.queryResult)==null?void 0:m.queryResults)==null?void 0:g.rows,d=i&&i.length>0?i[0]:void 0,u=d==null?void 0:d.values[0],{data:c}=Fr(u,{enabled:!!u});return Qa(c),t.jsx(t.Fragment,{})}try{Kn.displayName="DatasetJsonLdScript",Kn.__docgenInfo={description:"This component will add a Dataset json ld script tag to the page when rendered.",displayName:"DatasetJsonLdScript",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!1,type:{name:"string"}},version:{defaultValue:null,description:"",name:"version",required:!1,type:{name:"number"}},searchParams:{defaultValue:null,description:"",name:"searchParams",required:!1,type:{name:"{ [key: string]: string; }"}}}}}catch{}const gi=400,hi=({research:e,entityId:n,publicationDateColIndex:a,titleColIndex:s,linkColIndex:r,imageColIndex:o,isLoading:l})=>{const i=e.values[o]??"",d=un(i??"",n);return l?t.jsx(F,{variant:"rectangular",height:142,width:"100%"}):t.jsxs(R,{sx:{display:"flex",gap:"30px",borderBottom:"1px solid",padding:"24px 0",borderColor:"grey.300",flexDirection:{xs:"column",sm:"row"}},children:[t.jsxs(H,{useFlexGap:!0,sx:{gap:"10px"},children:[t.jsx(I,{variant:"headline2",sx:{color:"gray.1000",fontSize:"21px"},children:t.jsx(G,{href:e.values[r]??"",target:"_blank",sx:{color:"grey.1000",textDecoration:"none","&:hover":{textDecoration:"none"}},children:e.values[s]})}),t.jsx(I,{sx:{lineHeight:"normal",color:"grey.600"},children:e.values[a]&&nn(be(Number(e.values[a])),"MMMM, YYYY")})]}),t.jsx(cn,{component:"img",image:d,"aria-hidden":"true",sx:{flexShrink:0,width:"140px",height:"93.8px",borderRadius:"6px",objectFit:"cover",marginLeft:{xs:"initial",sm:"auto"}}})]})},xi=({research:e,entityId:n,titleColIndex:a,descriptionColIndex:s,linkColIndex:r,imageColIndex:o,isLoading:l})=>{const[i,d]=ja({threshold:.3,triggerOnce:!0}),u=e.values[o]??"",c=un(u||"",n);return l?t.jsx(F,{variant:"rectangular",width:"100%",sx:{height:{xs:"250px",sm:"500px",md:"600px",lg:"800px"}}}):t.jsxs(R,{ref:i,children:[t.jsx(Er,{in:d,timeout:gi,children:t.jsx(cn,{component:"img",image:c,"aria-hidden":"true",sx:{objectFit:"cover",borderRadius:"10px",marginBottom:"30px"}})}),t.jsxs(H,{useFlexGap:!0,sx:{gap:"16px"},children:[t.jsx(I,{variant:"headline2",sx:{color:"grey.1000",fontSize:{xs:"24px",md:"36px"}},children:t.jsx(G,{href:e.values[r]??"",target:"_blank",sx:{color:"grey.1000",textDecoration:"none","&:hover":{textDecoration:"none"}},children:e.values[a]})}),t.jsx(I,{sx:{fontSize:"18px",lineHeight:"22.4px"},children:e.values[s]??""}),t.jsx(G,{href:e.values[r]??"",target:"_blank",children:"Read more"})]})]})};function Jn(e){const{sql:n}=e,a=de(n),s={partMask:Le|Z,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:a,query:{sql:n}},{data:r,isLoading:o}=Ca(s),l=(r==null?void 0:r.queryResult.queryResults.rows)??[];let i;(S=>{S.TITLE="title",S.DESCRIPTION="description",S.PUBLICATION_DATE="publicationDate",S.IMAGE="image",S.LINK="link"})(i||(i={}));const d=re("title",r),u=re("description",r),c=re("publicationDate",r),p=re("image",r),m=re("link",r),g=l[0],h=l.slice(1),y=t.jsx(ka,{title:"Featured Research",sx:{h2:{fontSize:"24px",paddingBottom:0,width:"100%"}}});return t.jsxs(R,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"1fr 1fr"},gap:{xs:"30px",md:"40px"},padding:{xs:"40px",lg:"80px"}},children:[t.jsx(R,{sx:{display:{md:"none"}},children:y}),t.jsx(R,{children:g&&t.jsx(xi,{entityId:a,research:g,titleColIndex:d,isLoading:o,descriptionColIndex:u,publicationDateColIndex:c,imageColIndex:p,linkColIndex:m})}),t.jsxs(H,{children:[t.jsx(R,{sx:{display:{xs:"none",md:"block"}},children:y}),t.jsx(H,{sx:{gap:"16px"},children:h.map((S,f)=>t.jsx(hi,{entityId:a,research:S,isLoading:o,titleColIndex:d,descriptionColIndex:u,publicationDateColIndex:c,imageColIndex:p,linkColIndex:m},f))})]})]})}try{Jn.displayName="FeaturedResearch",Jn.__docgenInfo={description:"",displayName:"FeaturedResearch",props:{sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}}}}}catch{}const Je=({backgroundCss:e,buttonLink:n,title:a,subTitle:s,description:r,backgroundMp4:o,backgroundMp4Css:l,textAreaWidth:i="746px"})=>t.jsxs(R,{"data-testid":"HeaderContainer",sx:{background:e,padding:{xs:0,md:"50px 80px"},position:"relative"},children:[o&&t.jsxs(R,{component:"video",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"fill",zIndex:-1,background:l},children:[t.jsx("source",{src:o,type:"video/mp4"}),"Your browser does not support the video tag."]}),t.jsxs(H,{sx:{alignItems:"flex-start",padding:{xs:"40px",md:"40px 0"},gap:"24px",width:{sm:"100%",md:i}},children:[t.jsx(I,{variant:"headline2",sx:{fontWeight:300,lineHeight:"130%",fontSize:{xs:"36px",md:"42px"},color:"grey.1000"},children:a}),t.jsx(I,{variant:"headline3",sx:{fontSize:"24px",fontWeight:"400",lineHeight:"160%",color:"grey.1000"},children:s}),t.jsx(I,{sx:{fontSize:"18px",lineHeight:"140%",color:"grey.900"},children:r}),n&&t.jsx(W,{href:n,target:"_blank",variant:"contained",role:"button",sx:d=>({whiteSpace:"nowrap",alignSelf:"flex-start",padding:"6px 24px",fontWeight:600,boxShadow:"0px 16px 16px 0px rgba(0, 0, 0, 0.10), 0px 4px 4px 0px rgba(0, 0, 0, 0.10), 0px 1px 1px 0px rgba(0, 0, 0, 0.10)","&:hover":{boxShadow:"0px 16px 16px 0px rgba(0, 0, 0, 0.10), 0px 4px 4px 0px rgba(0, 0, 0, 0.10), 0px 1px 1px 0px rgba(0, 0, 0, 0.10)"},[d.breakpoints.down("sm")]:{width:"100%"}}),children:"Learn more"})]})]});try{Je.displayName="PortalHomePageHeader",Je.__docgenInfo={description:"",displayName:"PortalHomePageHeader",props:{backgroundCss:{defaultValue:null,description:"",name:"backgroundCss",required:!0,type:{name:"string"}},buttonLink:{defaultValue:null,description:"",name:"buttonLink",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"React.ReactNode"}},subTitle:{defaultValue:null,description:"",name:"subTitle",required:!0,type:{name:"React.ReactNode"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"React.ReactNode"}},backgroundMp4:{defaultValue:null,description:"",name:"backgroundMp4",required:!1,type:{name:"string"}},backgroundMp4Css:{defaultValue:null,description:"",name:"backgroundMp4Css",required:!1,type:{name:"string"}},textAreaWidth:{defaultValue:{value:"746px"},description:"",name:"textAreaWidth",required:!1,type:{name:"string"}}}}}catch{}try{Je.displayName="PortalHomePageHeader",Je.__docgenInfo={description:"",displayName:"PortalHomePageHeader",props:{backgroundCss:{defaultValue:null,description:"",name:"backgroundCss",required:!0,type:{name:"string"}},buttonLink:{defaultValue:null,description:"",name:"buttonLink",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"React.ReactNode"}},subTitle:{defaultValue:null,description:"",name:"subTitle",required:!0,type:{name:"React.ReactNode"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"React.ReactNode"}},backgroundMp4:{defaultValue:null,description:"",name:"backgroundMp4",required:!1,type:{name:"string"}},backgroundMp4Css:{defaultValue:null,description:"",name:"backgroundMp4Css",required:!1,type:{name:"string"}},textAreaWidth:{defaultValue:{value:"746px"},description:"",name:"textAreaWidth",required:!1,type:{name:"string"}}}}}catch{}const Xn=101,Zn=156,bi=({website:e,children:n})=>{const a={display:"flex",alignItems:"center",justifyContent:"center"};return e?t.jsx(G,{href:e,target:"_blank",sx:{...a,textDecoration:"none !important"},children:n}):t.jsx(R,{sx:a,children:n})},Si=({partner:e,imageColIndex:n,organizationNameColIndex:a,websiteColIndex:s,entityId:r,isLoading:o})=>{const l=e.values[n]??"",i=e.values[a],d=e.values[s],u=un(l,r);if(!u&&!i)return null;if(o)return t.jsx(F,{variant:"rectangular",height:Xn,width:Zn});const c=u?t.jsx(cn,{component:"img",image:u,"aria-hidden":"true",sx:{width:`${Zn}px`,height:`${Xn}px`,objectFit:"contain",borderRadius:"10px"}}):t.jsx(R,{sx:{display:"flex",width:"165px",padding:"3px",flexDirection:"column",gap:"10px",border:"2px solid",borderColor:"grey.900",backgroundColor:"#FFF",textAlign:"center"},children:t.jsx(R,{sx:{display:"flex",padding:"10px",justifyContent:"center",alignItems:"center",gap:"10px",border:"1px solid",borderColor:"grey.900"},children:t.jsx(I,{variant:"headline3",sx:{fontSize:"14px",fontWeight:400,lineHeight:"130%",color:"grey.900"},children:i})})});return t.jsx(bi,{website:d,children:c})},ea=({sql:e,titleText:n="Our Partners",variation:a="default",sx:s})=>{const r=de(e),o={partMask:Le|Z,concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:r,query:{sql:e}},{data:l,isLoading:i}=Ca(o),d=(l==null?void 0:l.queryResult.queryResults.rows)??[];let u;(g=>{g.CARDLOGO="cardLogo",g.ORGANIZATION_NAME="organizationName",g.WEBSITE="website"})(u||(u={}));const c=re("cardLogo",l),p=re("organizationName",l),m=re("website",l);return t.jsxs(R,{sx:{display:"grid",padding:{xs:"40px",lg:"20px 80px"},gridTemplateColumns:a==="centered"?{xs:"1fr"}:{xs:"1fr",md:"1fr 3fr"},gap:"50px",textAlign:a==="centered"?"center":"left",...s},children:[a==="default"?t.jsx(ka,{title:n,sx:{h2:{fontSize:"24px",paddingTop:"26px",width:"100%"}}}):t.jsx(I,{variant:"headline1",sx:{fontSize:"48px",color:"grey.900"},children:n}),t.jsx(R,{sx:g=>({display:"flex",flexWrap:"wrap",gap:"64px",flex:"1 1 0",justifyContent:a==="centered"?"center":"flex-start",[g.breakpoints.down("sm")]:{justifyContent:"center"}}),children:d==null?void 0:d.map((g,h)=>t.jsx(Si,{partner:g,imageColIndex:c,organizationNameColIndex:p,websiteColIndex:m,entityId:r,isLoading:i},`partner-${h}`))})]})};try{ea.displayName="PortalFeaturedPartners",ea.__docgenInfo={description:"",displayName:"PortalFeaturedPartners",props:{variation:{defaultValue:{value:"default"},description:"",name:"variation",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"centered"'}]}},sql:{defaultValue:null,description:"",name:"sql",required:!0,type:{name:"string"}},titleText:{defaultValue:{value:"Our Partners"},description:"",name:"titleText",required:!1,type:{name:"string"}},sx:{defaultValue:null,description:"",name:"sx",required:!1,type:{name:"SxProps"}}}}}catch{}function we(e){const{addToDownloadListRequest:n,onClose:a}=e,{downloadCartPageUrl:s}=Yt(),{data:r,isLoading:o,error:l}=ps({concreteType:"org.sagebionetworks.repo.model.download.AddToDownloadListStatsRequest",request:n}),{mutate:i,isPending:d}=ms({onSuccess:()=>{Ks(s),a()},onError:p=>{Ar(p.reason,"danger"),a()}}),u=r==null?void 0:r.fileCount,c=r==null?void 0:r.fileSize;return l?t.jsx(kr,{error:l}):t.jsx(Ys,{onAddToDownloadCart:()=>i(n),fileCount:u,fileSize:c,isAddingToDownloadCart:d,isLoadingStats:o,onCancel:a})}try{we.displayName="AddToDownloadListConfirmationAlert",we.__docgenInfo={description:`A component that displays a confirmation alert when adding multiple items to the download list though a container or
query.`,displayName:"AddToDownloadListConfirmationAlert",props:{addToDownloadListRequest:{defaultValue:null,description:'The "AddToDownloadListRequest" that would be used to add items to the download list.',name:"addToDownloadListRequest",required:!0,type:{name:"AddToDownloadListRequest"}},onClose:{defaultValue:null,description:"Invoked when the dialog is closed, either by cancelling or successfully adding to the download list.",name:"onClose",required:!0,type:{name:"() => void"}}}}}catch{}const vi=[ie.project,ie.folder,ie.dataset,ie.datasetcollection],Ci=[ie.entityview],Ni=[ie.dataset,ie.datasetcollection];function Dt({entityId:e,versionNumber:n,handleClose:a,onIsLoadingChange:s}){const{data:r,isLoading:o}=pe(e),l=r!=null&&r.concreteType?Dr(r.concreteType):void 0;x.useEffect(()=>{s(o)},[o,s]);const i=x.useMemo(()=>{if(!l)return null;if(Ci.includes(l))return{concreteType:"org.sagebionetworks.repo.model.download.AddToDownloadListRequest",query:{sql:`select * from ${e}${n!=null?`.${n}`:""}`}};if(vi.includes(l)){const d=Ni.includes(l);return{concreteType:"org.sagebionetworks.repo.model.download.AddToDownloadListRequest",parentId:e,useVersionNumber:d}}return null},[l,e,n]);return i?t.jsx("div",{children:t.jsx(we,{addToDownloadListRequest:i,onClose:a})}):null}try{Dt.displayName="EntityDownloadConfirmation",Dt.__docgenInfo={description:`A component that allows users to add an entity to the download cart. It displays a confirmation dialog that displays
statistics about the set of items that will be added to the download cart.`,displayName:"EntityDownloadConfirmation",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}},onIsLoadingChange:{defaultValue:null,description:"",name:"onIsLoadingChange",required:!0,type:{name:"(isLoading: boolean) => void"}},handleClose:{defaultValue:null,description:"",name:"handleClose",required:!0,type:{name:"() => void"}}}}}catch{}try{EntityDownloadConfirmation.displayName="EntityDownloadConfirmation",EntityDownloadConfirmation.__docgenInfo={description:`A component that allows users to add an entity to the download cart. It displays a confirmation dialog that displays
statistics about the set of items that will be added to the download cart.`,displayName:"EntityDownloadConfirmation",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},versionNumber:{defaultValue:null,description:"",name:"versionNumber",required:!1,type:{name:"number"}},onIsLoadingChange:{defaultValue:null,description:"",name:"onIsLoadingChange",required:!0,type:{name:"(isLoading: boolean) => void"}},handleClose:{defaultValue:null,description:"",name:"handleClose",required:!0,type:{name:"() => void"}}}}}catch{}function Ti({synapseEntityConfig:e,getColumnValue:n,rowId:a,rowVersionNumber:s}){return x.useMemo(()=>{var l,i,d,u;let r,o;if(((l=e==null?void 0:e.id)==null?void 0:l.source)==="rowId"?a!==void 0&&(r=`syn${a}`):((i=e==null?void 0:e.id)==null?void 0:i.source)==="column"&&(r=n(e.id.columnName)),((d=e==null?void 0:e.version)==null?void 0:d.source)==="rowVersionNumber")s!==void 0&&Number.isInteger(s)&&(o=s);else if(((u=e==null?void 0:e.version)==null?void 0:u.source)==="column"){const c=n(e.version.columnName);if(c!==void 0&&c!==""){const p=Number(c);!Number.isNaN(p)&&Number.isInteger(p)&&(o=p)}}return{entityId:r,entityVersionNumber:o}},[e,n,a,s])}function _i(e){const{synapseId:n,version:a}=e;return t.jsxs("span",{children:[a,"Â Â ",t.jsx("a",{target:ss.NEW_WINDOW,rel:"noopener noreferrer",href:`${ze.PORTAL}Synapse:${n}.${a}`,children:"(Show Version History on Synapse)"})]})}function Mt(e){var Tn;const[n,a]=x.useState(!1),[s,r]=x.useState(!1),{entityId:o,versionNumber:l}=E(),{getColumnDisplayName:i}=O(),{ref:d,inView:u}=ja(),{data:c}=pe(o,l),{schema:p,data:m,rowId:g,versionNumber:h,genericCardSchema:y,secondaryLabelLimit:S,sharePageLinkButtonProps:f,selectColumns:b,columnModels:v,iconOptions:C,useTypeColumnForIcon:N=!1,isHeader:T=!1,sustainabilityScorecard:w,headerCardVariant:k,titleLinkConfig:V,ctaLinkConfig:_,labelLinkConfig:A,descriptionConfig:U,columnIconOptions:q,CardTypeAdornment:$,charCountCutoff:z}=e,{link:ee="",type:K,includeCitation:Se,includeShareButton:nt,defaultCitationFormat:at,citationBoilerplateText:Fe,downloadCartSynId:Ee,portalDoiConfiguration:te}=y,ve=m[p[y.title]];let Ce=y.subTitle&&m[p[y.subTitle]];Ce=y.subTitle&&Oe({value:Ce,columnName:y.subTitle,selectColumns:b,columnModels:v}).str;const rt=m[p[y.description||""]],L=m[p[y.icon||""]],D=m[p[y.dataTypeIconNames||""]],Ne=m[p[y.imageFileHandleColumnName||""]],st=v==null?void 0:v.find(j=>y.link===j.name),za=st==null?void 0:st.columnType,gn=m[p[ee]]||"",{href:Ha,target:Wa}=Pn(gn,V,m,p,g),Ga=y.synapseEntityConfig,hn=x.useCallback(j=>{if(!j)return;const B=p[j];if(B!==void 0)return m[B]},[p,m]),{entityId:ot,entityVersionNumber:it}=Ti({synapseEntityConfig:Ga,getColumnValue:hn,rowId:g,rowVersionNumber:h});let Te=ot,xn=it;if(Ee){const j=Mr(hn(Ee)??"");Te=j==null?void 0:j.targetId,xn=j==null?void 0:j.targetVersionNumber}const Ya=x.useMemo(()=>ds(m,p),[m,p]),lt=Ro({data:Ya,portalDoiConfiguration:te}),Ka=_o({portalId:te==null?void 0:te.portalId,resourceId:lt}),_e=[],{secondaryLabels:bn=[]}=y,ke=y.customSecondaryLabelConfig;if(Ka&&te&&lt&&u&&_e.push({columnDisplayName:"DOI",value:t.jsx(vt,{portalId:te.portalId,resourceId:lt})}),ke!=null&&ke.isVisible(p,m)){const{key:j,value:B}=ke;Te?_e.push({columnDisplayName:"HOW TO DOWNLOAD",value:t.jsx(G,{onClick:()=>a(ne=>!ne),children:"Click here to add to Synapse download cart"})}):_e.push({columnDisplayName:j,value:B})}const Ja=c&&!Or(c);for(let j=0;j<bn.length;j+=1){const B=bn[j],ne=m[p[B]];let Re=ne,Ae;if(Re){if(Br(c)&&B==="datasetSizeInBytes")Ae="Size",Re=Na(parseInt(ne));else if(Ja&&B==="currentVersion"){const ct=m[p.id];Re=t.jsx(_i,{synapseId:ct,version:ne}),Ae="Version"}else{const ct=A==null?void 0:A.find(er=>er.matchColumnName===B);Re=t.jsx(Cs,{value:ne,columnName:B,labelLink:ct,isHeader:T,selectColumns:b,columnModels:v,rowData:m}),Ae=i(B)}_e.push({columnDisplayName:Ae,value:Re,columnName:B})}}const dt=rs(c,Ne||gn,m[p.id]),Xa=i(y.description||""),Sn=Me("doi",b,v),vn=Sn!==void 0?m[Sn]:void 0;let ut,Cn;if(_){const j=m[p[_.link]]||"",{href:B,target:ne}=Pn(j,void 0,m,p,g);ut=B,Cn=ne}let Nn=t.jsx(t.Fragment,{});ot!=null&&it!=null&&(Nn=t.jsx(St,{datasetId:ot,datasetVersionNumber:it}));const Za=$?t.jsx($,{schema:p,data:m}):null;return t.jsx(Ns,{ref:d,icon:t.jsx(os,{type:N?m[p.type]:y.type,useTypeForIcon:N,thumbnailRequiresPadding:y.thumbnailRequiresPadding,imageFileHandleId:Ne,fileHandleAssociation:dt,iconOptions:C,iconValue:L}),isHeader:T,sustainabilityScorecard:w,headerCardVariant:k,type:K,title:ve,subtitle:Ce,titleLinkConfiguration:{target:Wa,href:Ha},cardTypeAdornment:Za,titleAsFileHandleLinkConfiguration:!V&&za===oe.FILEHANDLEID&&dt?{fileHandleAssociation:dt,showDownloadIcon:K!==Qr}:void 0,ctaLinkConfig:_&&ut?{text:_==null?void 0:_.text,href:ut,target:Cn}:void 0,description:rt,descriptionSubTitle:Xa,descriptionConfig:U,charCountCutoff:z,labels:_e,secondaryLabelLimit:S,columnIconOptions:q,useStylesForDisplayedImage:!!Ne,cardTopContent:Te&&t.jsx(Jt,{in:n,children:t.jsx(Dt,{entityId:Te,versionNumber:xn,handleClose:()=>a(!1),onIsLoadingChange:j=>{r(j)}})}),renderedIconList:((Tn=q==null?void 0:q.columns)==null?void 0:Tn.dataType)&&(D==null?void 0:D.length)&&t.jsx("div",{style:{marginTop:"20px"},children:t.jsx(Js,{iconConfigs:q.columns.dataType,iconNames:JSON.parse(D),commonIconProps:{sx:{fontSize:"40px"}},useBackground:!0,useTheme:!0})}),cardTopButtons:t.jsxs(R,{sx:{display:"flex",gap:1},children:[Nn,Te&&t.jsx(pn,{onClick:()=>a(j=>!j),variant:"outlined",startIcon:t.jsx(fa,{sx:{height:"12px"}}),loading:s,children:"Download"}),Se&&vn&&t.jsx(Ct,{title:ve,doi:vn,boilerplateText:Fe,defaultCitationFormat:at}),nt&&T&&t.jsx(Xs,{...f})]})})}try{Mt.displayName="TableRowGenericCard",Mt.__docgenInfo={description:"Maps a table row to a GenericCard.",displayName:"TableRowGenericCard",props:{}}}catch{}const Ua="Unknown",Ri=e=>e<1e6?e.toLocaleString():new Intl.NumberFormat([],{minimumFractionDigits:1,maximumFractionDigits:2,notation:"compact",localeMatcher:"best fit"}).format(e),le=(e,n,a)=>{const s=e[a];let r;return s===void 0?(console.error(`Could not find column named ${a}`),r=null):r=n[s],r},Vi=(e,n,a)=>a.map(s=>{const{columnName:r,label:o}=s,l=le(e,n,r);return{label:o,value:l?Ri(Number(l)):Ua}}),wi=(e,n,a)=>{const s=le(e,n,a);return{label:"Date of release",value:s?nn(be(Number(s)),"MM/DD/YYYY"):Ua}},$a=(e,n,a,s)=>({releaseName:le(e,n,a.releaseNameColumnName),releaseEntityId:le(e,n,a.releaseEntityIdColumnName),releaseDate:wi(e,n,a.releaseDateColumnName),stats:Vi(e,n,s)}),Ii=(e,n,a,s)=>{const r=s?[...s]:[];return a&&a.forEach(o=>{const l=o.sourceTableColumnName,i=l?le(e,n,l):null;i&&r.push({facet:o.destinationTableColumnName,facetValue:i})}),r},ta=(e,n,a)=>{if(!a)return null;const s=le(e,n,a.sourceTablePathColumnName);if(!s)return console.warn(`Column not found in source table or cell did not have value in source table for ${a.sourceTablePathColumnName}`),null;const{sourceTableSqlColumnName:r,selectedFacetConfigs:o,staticSelectedFacets:l}=a,i=r?le(e,n,r):null,d=Ii(e,n,o,l);return i&&d.length>0?No(s,i,d):s};function na({value:e,label:n}){return t.jsxs(H,{direction:"column",sx:{alignItems:"center",padding:{xs:"20px 10px",md:"20px 40px"},gap:"10px",width:{xs:"unset",lg:"200px"}},children:[t.jsx(I,{variant:"headline1",children:e}),t.jsx(I,{variant:"body1",sx:{lineHeight:"20px",color:"grey.700"},children:n})]})}function Ot({data:e,schema:n,includePortalCardClass:a=!0,releaseCardConfig:s}){const{releaseName:r,releaseDate:o,stats:l}=$a(n,e,s.releaseMetadataConfig,s.statsConfig),{primaryBtnConfig:i,secondaryBtnConfig:d}=s,u=ta(n,e,i),c=ta(n,e,d);return r===null?t.jsx(t.Fragment,{}):t.jsx(R,{className:`ReleaseCard ${a?"SRC-portalCard":""}`,sx:{minWidth:"200px"},children:t.jsxs(H,{direction:{xs:"column",lg:"row"},sx:{justifyContent:"space-between",gap:"20px",padding:"20px"},children:[t.jsxs(H,{direction:"column",sx:{gap:"20px"},children:[t.jsxs(H,{direction:"row",sx:{alignItems:"center",gap:"10px"},children:[t.jsx(xo,{sx:{color:"grey.700"}}),t.jsxs(I,{variant:"headline1",children:[s.prependRelease&&"Release ",r]})]}),t.jsxs(H,{direction:{xs:"column",sm:"row"},sx:{alignItems:{xs:"flex-start",sm:"center"},gap:"20px"},children:[i&&u&&t.jsx(W,{component:ht,variant:"contained",color:"primary",to:u,children:i.label}),d&&c&&t.jsx(W,{component:ht,to:c,children:d.label})]})]}),t.jsx(Qe,{})," ",t.jsxs(H,{direction:"row",sx:{gap:{xs:0,lg:"10px"},alignItems:"center",justifyContent:{xs:"space-evenly",lg:"unset"},flexWrap:{xs:"wrap",lg:"nowrap"}},children:[t.jsx(na,{...o}),l.map(p=>t.jsxs(x.Fragment,{children:[t.jsx(Qe,{orientation:"vertical",flexItem:!0}),t.jsx(na,{...p})]},p.label))]})]})})}try{Ot.displayName="ReleaseCardLarge",Ot.__docgenInfo={description:"",displayName:"ReleaseCardLarge",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string[]"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ReleaseCardSchema"}},includePortalCardClass:{defaultValue:{value:"true"},description:"",name:"includePortalCardClass",required:!1,type:{name:"boolean"}},releaseCardConfig:{defaultValue:null,description:"",name:"releaseCardConfig",required:!0,type:{name:"ReleaseCardLargeConfig"}}}}}catch{}function qi({value:e,label:n}){return t.jsxs(t.Fragment,{children:[t.jsx(R,{sx:{gridColumn:"span 1",gridRow:"span 1",justifySelf:"flex-end"},children:t.jsx(I,{variant:"body1",sx:{lineHeight:"20px"},children:e})}),t.jsx(R,{sx:{gridColumn:"span 1",gridRow:"span 1",justifySelf:"flex-start"},children:t.jsx(I,{variant:"body1",sx:{lineHeight:"20px",color:"grey.700"},children:n})})]})}function Bt({data:e,schema:n,includePortalCardClass:a=!0,releaseCardConfig:s}){const{releaseName:r,releaseEntityId:o,releaseDate:l,stats:i}=$a(n,e,s.releaseMetadataConfig,s.statsConfig);if(r===null)return t.jsx(t.Fragment,{});const d=2,u=`span ${d}`,c=i.length+4;return t.jsxs(R,{className:`ReleaseCard ${a?"SRC-portalCard":""}`,sx:{display:"grid",gridTemplateColumns:`repeat(${d}, 1fr)`,columnGap:"10px",gridTemplateRows:"subgrid",gridRow:`span ${c}`,rowGap:"0px",alignItems:"center",justifyItems:"center",textAlign:"center",padding:"30px 40px 40px",my:0},children:[t.jsx(R,{sx:{gridColumn:u,gridRow:"span 1",alignSelf:"end"},children:t.jsx(I,{variant:"headline1",children:r})}),t.jsx(R,{sx:{gridColumn:u,gridRow:"span 1",mb:"30px"},children:t.jsx(I,{variant:"body1",sx:{lineHeight:"20px",fontStyle:"italic",color:"grey.800"},children:`Released ${l.value}`})}),i.map(p=>t.jsx(qi,{...p},p.label)),t.jsx(R,{sx:{gridColumn:u,gridRow:"span 1",mt:"20px",mb:"5px"},children:t.jsx(W,{component:ht,to:s.requestAccessPath,sx:{fontSize:"14px"},children:"Request Access"})}),t.jsx(R,{sx:{gridColumn:u,gridRow:"span 1"},children:o&&t.jsx(G,{href:`${ze.PORTAL}Synapse:${o}`,target:"_blank",rel:"noreferrer",sx:{fontSize:"14px",textDecoration:"none"},children:"View on Synapse.org"})})]})}try{Bt.displayName="ReleaseCardMedium",Bt.__docgenInfo={description:"",displayName:"ReleaseCardMedium",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string[]"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ReleaseCardSchema"}},includePortalCardClass:{defaultValue:{value:"true"},description:"",name:"includePortalCardClass",required:!1,type:{name:"boolean"}},releaseCardConfig:{defaultValue:null,description:"",name:"releaseCardConfig",required:!0,type:{name:"ReleaseCardMediumConfig"}}}}}catch{}function Ie(e){const{releaseCardConfig:n,...a}=e;switch(n.cardSize){case"large":return t.jsx(Ot,{releaseCardConfig:n,...a});case"medium":return t.jsx(Bt,{releaseCardConfig:n,...a});default:return console.error("No size specified for ReleaseCard"),t.jsx("div",{})}}try{Ie.displayName="ReleaseCard",Ie.__docgenInfo={description:`Specialized Release Card, initially implemented for the GENIE portal.
Expects columns used to define release metadata (entity id, name, date)
as well as statistics columns and columns for defining a button to explore data
as defined in the releaseCardConfig`,displayName:"ReleaseCard",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ReleaseCardSchema"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string[]"}},includePortalCardClass:{defaultValue:null,description:"",name:"includePortalCardClass",required:!1,type:{name:"boolean"}},releaseCardConfig:{defaultValue:null,description:"",name:"releaseCardConfig",required:!0,type:{name:"ReleaseCardConfig"}}}}}catch{}try{Ie.displayName="ReleaseCard",Ie.__docgenInfo={description:`Specialized Release Card, initially implemented for the GENIE portal.
Expects columns used to define release metadata (entity id, name, date)
as well as statistics columns and columns for defining a button to explore data
as defined in the releaseCardConfig`,displayName:"ReleaseCard",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ReleaseCardSchema"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string[]"}},includePortalCardClass:{defaultValue:null,description:"",name:"includePortalCardClass",required:!1,type:{name:"boolean"}},releaseCardConfig:{defaultValue:null,description:"",name:"releaseCardConfig",required:!0,type:{name:"ReleaseCardConfig"}}}}}catch{}class qe extends x.Component{constructor(a){super(a);P(this,"handleLinkClick",a=>s=>{s.preventDefault(),window.open(`${ze.PORTAL}Synapse:${a}`,"_blank")});this.handleLinkClick=this.handleLinkClick.bind(this)}render(){const{data:a,schema:s,selectColumns:r,columnModels:o,genericCardSchema:l,queryVisualizationContext:{getColumnDisplayName:i}}=this.props,d=a[s.datasetName],u=a[s.summary],c=Oe({columnName:"tumorType",value:a[s.tumorType],selectColumns:r,columnModels:o}).str,p=Oe({columnName:"diseaseFocus",value:a[s.diseaseFocus],selectColumns:r,columnModels:o}).str,m=a[s.id],g=a[s.fundingAgency],h=a[s.fileCount],y=Na(a[s.fileSize]),S=[{columnDisplayName:"FUNDER",value:Oe({columnName:"fundingAgency",value:g,selectColumns:r,columnModels:o}).str},{columnDisplayName:"SIZE",value:y},{columnDisplayName:"FILES",value:h}];if(l&&l.secondaryLabels){const{secondaryLabels:f}=l;for(let b=0;b<f.length;b++){const v=f[b],C=a[s[v]];let N;C&&(N=i(v),S.push({columnDisplayName:N,value:C,columnName:v}))}}return t.jsxs("div",{className:"SRC-portalCard SRC-typeDataset  ",children:[t.jsxs("div",{className:"SRC-cardThumbnail",children:[t.jsx(Pa,{type:Ta}),t.jsx("div",{children:y})]}),t.jsxs("div",{className:"SRC-cardContent SRC-dataset",children:[t.jsx("div",{className:"SRC-type",children:"Dataset "}),t.jsx("div",{children:t.jsx("h3",{children:t.jsx("a",{target:"_self",href:`${ze.PORTAL}Synapse:${m}`,children:d})})}),t.jsxs("div",{className:"SRC-description-dataset",children:[t.jsx("p",{className:"SRC-description-text",children:u}),t.jsx("div",{className:"SRC-cardAction",children:t.jsx(W,{className:"SRC-datasetButton",onClick:this.handleLinkClick(m),color:"secondary",variant:"contained",children:"Download Dataset"})})]}),t.jsx("div",{className:"SRC-cardAnnotations",children:t.jsx(ks,{chips:[c,p]})})]}),t.jsx(As,{isHeader:!1,secondaryLabelLimit:this.props.secondaryLabelLimit,values:S})]})}}try{qe.displayName="Dataset",qe.__docgenInfo={description:"",displayName:"Dataset",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"TableToGenericCardMapping"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}}}}}catch{}class Qt extends x.Component{constructor(a){super(a);P(this,"handleLinkClick",a=>s=>{s.preventDefault(),window.open(a,"_blank")});this.handleLinkClick=this.handleLinkClick.bind(this)}render(){const{data:a,schema:s}=this.props,r=a[s.organizationName],o=a[s.organizationPath],l=a[s.summary],i=a[s.website],d=a[s.logo];let u=i.replace("https://","");u=u.replace("http://",""),u.charAt(u.length-1)==="/"&&(u=u.substring(0,u.length-1));const c=window.location.hash.substring(1)===o,p={};let m;return c?p.paddingBottom="42px":m=t.jsx("div",{className:"SRC-marginAuto SRC-cardAction",children:t.jsx(sn,{href:o,variant:"contained",color:"secondary",children:"View Funded Research"})}),t.jsxs("div",{className:"SRC-portalCard SRC-typeFunder ",style:p,children:[t.jsxs("div",{className:"SRC-cardContent",children:[t.jsx("div",{className:"SRC-type",children:"Organization"}),d&&t.jsx("div",{className:"SRC-cardThumbnail",children:t.jsx("img",{alt:"funder logo",className:"SRC-logo",src:d})}),t.jsx("div",{children:t.jsxs("h3",{children:[c&&r,!c&&t.jsx("a",{href:o,children:r})]})}),t.jsx("div",{className:"SRC-website",children:t.jsx("a",{rel:"noopener noreferrer",target:"_blank",href:i,children:u})}),t.jsx("div",{className:"SRC-description",children:l})]}),m]})}}try{Qt.displayName="Funder",Qt.__docgenInfo={description:"",displayName:"Funder",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}}}}}catch{}try{qe.displayName="Dataset",qe.__docgenInfo={description:"",displayName:"Dataset",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"TableToGenericCardMapping"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}}}}}catch{}try{rowrenderers.displayName="rowrenderers",rowrenderers.__docgenInfo={description:"",displayName:"rowrenderers",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}}}}}catch{}function Ut({data:e,schema:n,includePortalCardClass:a=!0}){const s=e[n.observationSubmitterName],r=e[n.synapseId],o=e[n.observationTime],l=e[n.observationTimeUnits],i=e[n.observationText],d=e[n.observationType],u=JSON.parse(d??""),c=e[n.doi];return t.jsxs("div",{className:`ObservationCard ${a?"SRC-portalCard":""}`,children:[t.jsxs("div",{className:"ObservationCard__submitter",children:[!r&&t.jsx("div",{children:s}),r&&t.jsx(Ws,{userId:r})]}),o&&t.jsxs("div",{className:"ObservationCard__time",children:[t.jsx(X,{icon:"time"}),t.jsx("span",{children:`${o} ${l}`})]}),i&&t.jsx("div",{className:"ObservationCard__text",children:t.jsx(Qs,{summary:i})}),c&&t.jsx("div",{className:"ObservationCard__doi",children:t.jsx(G,{href:c,target:"_blank",children:"Reference"})}),t.jsx("div",{className:"ObservationCard__tags",children:d&&u.map((p,m)=>t.jsx("span",{className:"SRC-tag",style:{marginRight:"5px"},children:p},m))})]})}function ji(){return t.jsxs("div",{className:"SRC-portalCard ObservationCard",children:[t.jsx("div",{className:"ObservationCard__submitter",children:t.jsx("span",{children:t.jsx(F,{width:"100px"})})}),t.jsx("div",{className:"ObservationCard__time",children:t.jsx(X,{icon:"time"})}),t.jsx("div",{className:"ObservationCard__text",children:t.jsx(fs,{numCols:1,numRows:4})}),t.jsx("div",{className:"ObservationCard__tags",children:t.jsx(F,{width:"80px"})})]})}try{Ut.displayName="ObservationCard",Ut.__docgenInfo={description:`Specialized Observation Card, initially implemented for the NF portal.
Expects the following columns: submitterName, submitterUserId, time, timeUnits, text, and tag.`,displayName:"ObservationCard",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ObservationCardSchema"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string[]"}},includePortalCardClass:{defaultValue:{value:"true"},description:"",name:"includePortalCardClass",required:!1,type:{name:"boolean"}}}}}catch{}const Pi={display:"block"},Li={display:"grid",gridTemplateColumns:"repeat(auto-fill, 272px)",gridAutoRows:"auto",gridAutoFlow:"row",gap:"10px",mb:"30px"},Fi={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gridColumnGap:"20px",marginBottom:"20px",marginTop:"20px","& .SRC-portalCard":{margin:"10px 0px"}};function Ei(e){const{propsToPass:n,type:a}=e;switch(a){case Ta:return t.jsx(qe,{...n});case zr:return t.jsx(Qt,{...n});case $r:return t.jsx(Mt,{...n});case $e:return t.jsx(Ut,{...n});case _a:return t.jsx(Ie,{...n});default:return t.jsx("div",{})}}function ki(e){var C;const{unitDescription:n,type:a,secondaryLabelLimit:s=3,title:r,rowSet:o,multiCardList:l,...i}=e,{NoContentPlaceholder:d}=O(),u=E(),{data:c}=ce(),p=O(),m=o.rows,g=m.length>1,h=[o.tableId],y=Jr({ids:h,type:"ENTITY_HEADER"});if(m.length===0)return t.jsx(d,{});const S={};o.headers.forEach((N,T)=>{S[N.name]=T});let f;if(a===jn){const N=o.headers.findIndex(w=>w.columnType===oe.USERID);if(N===-1)throw Error("Type MEDIUM_USER_CARD specified but no columnType USERID found");const T=m.map(w=>w.values[N]);f=t.jsx(Gs,{rowSet:o,list:T,size:jn})}else f=m.length?m.map((N,T)=>{const w={type:a,schema:S,secondaryLabelLimit:s,rowId:N.rowId,versionNumber:N.versionNumber,data:N.values,selectColumns:o.headers,columnModels:c.columnModels,tableEntityConcreteType:y[0]&&y[0].type,tableId:o.tableId,queryContext:u,queryVisualizationContext:p,...i};return t.jsx(Ei,{propsToPass:w,type:a},N.rowId??T)}):t.jsx(t.Fragment,{});const b=e.type===_a&&((C=e.releaseCardConfig)==null?void 0:C.cardSize)==="medium";let v=Pi;return b?v=Li:l&&g&&(v=Fi),t.jsx(t.Fragment,{children:t.jsxs(R,{role:"list",sx:v,children:[r&&t.jsx("h2",{className:"SRC-card-overview-title",children:r}),!r&&n&&t.jsx(mn,{frontText:"Displaying"}),f]})})}function $t(e){const n=t.jsxs("div",{children:[e.type===$e&&t.jsx(ji,{}),e.type!==$e&&Ur]});return t.jsx(x.Suspense,{fallback:n,children:t.jsx(ki,{...e})})}try{$t.displayName="CardContainer",$t.__docgenInfo={description:"",displayName:"CardContainer",props:{}}}catch{}function Ai(){const{showLastUpdatedOn:e}=O(),{data:n}=ce();return e&&n&&n.lastUpdatedOn?t.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:t.jsxs(I,{variant:"body1Italic",children:["Last updated on ",nn(be(n.lastUpdatedOn))]})}):t.jsx(t.Fragment,{})}function Di(){const{showLastUpdatedOn:e}=O();return e?t.jsx(x.Suspense,{fallback:t.jsx(F,{width:100}),children:t.jsx(Ai,{})}):t.jsx(t.Fragment,{})}function Xe(e){const{progressMessage:n}=e;return t.jsxs(R,{sx:{my:7.5,mx:15},children:[t.jsx(Hr,{}),n&&t.jsx(I,{variant:"smallText1",sx:{color:"grey.600",fontSize:"10px",textAlign:"center",my:1},children:n})]})}try{Xe.displayName="QueryWrapperLoadingScreen",Xe.__docgenInfo={description:"",displayName:"QueryWrapperLoadingScreen",props:{progressMessage:{defaultValue:null,description:"",name:"progressMessage",required:!1,type:{name:"string"}}}}}catch{}const Mi=()=>{const{goToPage:e,pageSize:n,setPageSize:a,currentPage:s,currentQueryRequest:r}=E(),o=Us(),{data:{queryCount:l,maxRowsPerPage:i}}=ce(),d=r.query.limit,u=i??n,c=[10,25,100,500];d&&!c.includes(d)&&(c.push(d),c.sort((y,S)=>y-S));const p=c.filter(y=>y<u);p.length==0&&(p.push(u),i&&n>i&&a(i));const m=(y,S)=>{e(S)},g=y=>{const S=y.target.value;a(S)},h=x.useCallback(y=>{const S=x.forwardRef(function(b,v){return t.jsx("button",{ref:v,...b,onMouseOver:()=>{y.page&&o(y.page)}})});return t.jsx(Da,{...y,component:S})},[o]);return s==1&&l==1&&n!=1||l==null?null:t.jsxs("div",{children:[t.jsx(go,{page:s,count:Math.ceil(l/n),color:"secondary",onChange:m,shape:"rounded",sx:{display:"inline-block",float:"left",".MuiPaginationItem-root":{fontSize:"14px"}},renderItem:h}),t.jsx(I,{variant:"body1",style:{display:"inline-block"},children:`${l==null?void 0:l.toLocaleString()} total rows /`}),t.jsx(va,{name:"page size",value:n,size:"small",onChange:g,sx:{ml:.5},children:p.map(y=>t.jsxs(fe,{value:y,children:[y," per page"]},y))})]})};function Oi(){return x.useMemo(()=>{if(typeof navigator>"u"||!navigator.userAgent)return!1;const e=navigator.userAgent.toLowerCase();return["bot","crawler","spider","crawling","google","bing","yahoo","baidu","yandex","duckduckbot","slurp","teoma","ia_archiver","bingpreview","facebookexternalhit","twitterbot","rogerbot","linkedinbot","embedly","quora link preview","showyoubot","outbrain","pinterest","slackbot","vkshare","w3c_validator","redditbot","applebot","whatsapp","flipboard","tumblr","bitlybot","skypeuripreview","nuzzel","discordbot","qwantify","pinterestbot","bitrix"].some(a=>e.includes(a))},[])}function zt(e){const{hasNextPage:n,fetchNextPage:a,isFetchingNextPage:s,initialLimit:r,initialLimitIsApplied:o,onRemoveInitialLimit:l}=e,{data:{queryCount:i}}=ce(),d=Oi();return x.useEffect(()=>{o&&r!=null&&i!=null&&l!=null&&r>=i&&l()},[o,r,i,l]),x.useEffect(()=>{d&&n&&!s&&a()},[d,n,s,a]),o||n?t.jsx(R,{sx:{display:"flex",justifyContent:"flex-start"},children:t.jsx(sn,{variant:"contained",color:"secondary",size:"large",onClick:()=>{o&&l!=null?l():a()},disabled:s,children:s?t.jsx(ma,{size:24}):"View More"})}):null}try{zt.displayName="ViewMoreQueryResultsButton",zt.__docgenInfo={description:"",displayName:"ViewMoreQueryResultsButton",props:{hasNextPage:{defaultValue:null,description:"",name:"hasNextPage",required:!0,type:{name:"boolean"}},fetchNextPage:{defaultValue:null,description:"",name:"fetchNextPage",required:!0,type:{name:"() => void"}},isFetchingNextPage:{defaultValue:null,description:"",name:"isFetchingNextPage",required:!0,type:{name:"boolean"}},initialLimit:{defaultValue:null,description:"",name:"initialLimit",required:!1,type:{name:"number"}},initialLimitIsApplied:{defaultValue:null,description:"",name:"initialLimitIsApplied",required:!1,type:{name:"boolean"}},onRemoveInitialLimit:{defaultValue:null,description:"",name:"onRemoveInitialLimit",required:!1,type:{name:"() => void"}}}}}catch{}function Bi(){var o;const{isInfinite:e,rowDataInfiniteQueryOptions:n}=E(),a=An({...n,enabled:e}),s=An({...n,select:l=>l.pages[0].progressMessage,enabled:e}),r=x.useMemo(()=>{var i,d,u,c,p;const l=ha((c=(u=(d=(i=a.data)==null?void 0:i.pages[0])==null?void 0:d.responseBody)==null?void 0:u.queryResult)==null?void 0:c.queryResults);return l&&(l.rows=((p=a.data)==null?void 0:p.pages.flatMap(m=>{var g,h;return((h=(g=m.responseBody)==null?void 0:g.queryResult)==null?void 0:h.queryResults.rows)||[]}))||[]),l},[(o=a.data)==null?void 0:o.pages]);return{infiniteQuery:a,infiniteQueryRowSet:r,infiniteQueryProgressMessage:s}}function Qi(){const{isInfinite:e,rowDataQueryOptions:n,getCurrentQueryRequest:a}=E(),s=gt({...n,enabled:!e,placeholderData:o=>{if(o&&Wr(o.requestBody.query,a().query))return o}}),r=gt({...n,select:o=>o.progressMessage,enabled:!e,placeholderData:o=>o});return{paginatedQuery:s,paginatedQueryProgressMessage:r}}function Ui(e){const{isInfinite:n}=E(),{paginatedQuery:a,paginatedQueryProgressMessage:s}=Qi(),{infiniteQuery:r,infiniteQueryRowSet:o,infiniteQueryProgressMessage:l}=Bi(),i=x.useMemo(()=>{let p;return n?p=o:p=a.data,p&&e!=null&&(p={...p,rows:p.rows.slice(0,e)}),p},[o,e,n,a.data]),d=n?l.data:s.data,u=n?r.isLoading:a.isLoading,c=n?r.isFetchingNextPage:a.isPlaceholderData;return{rowSet:i,progressMessage:d,isLoading:u,isLoadingNewPage:c,fetchNextPageOfInfiniteData:r.fetchNextPage,hasNextPageOfInfiniteData:r.hasNextPage}}function je(e){const{cardConfiguration:n,hideDownload:a,initialLimit:s,multiCardList:r}=e,[o,l]=x.useState(s!=null),{isInfinite:i}=E(),d=Zs(e.tableConfiguration?{...e.tableConfiguration,hideDownload:a}:void 0),{rowSet:u,progressMessage:c,isLoading:p,isLoadingNewPage:m,fetchNextPageOfInfiniteData:g,hasNextPageOfInfiniteData:h}=Ui(o?s:void 0);return t.jsx(Xt,{children:t.jsxs("div",{className:"RowSetView",children:[p&&t.jsx(Xe,{progressMessage:c}),!p&&u&&t.jsxs(x.Suspense,{fallback:t.jsx(Xe,{progressMessage:c}),children:[d&&t.jsx($s,{...d,rowSet:u,isLoadingNewPage:m}),n&&t.jsx($t,{...n,rowSet:u,multiCardList:r})]}),t.jsxs(x.Suspense,{fallback:t.jsx(t.Fragment,{}),children:[!i&&t.jsx(R,{sx:{mt:2,textAlign:"right"},children:t.jsx(Mi,{})}),i&&t.jsx(zt,{initialLimit:s,initialLimitIsApplied:o,onRemoveInitialLimit:()=>{l(!1)},fetchNextPage:()=>{g()},hasNextPage:h,isFetchingNextPage:m})]}),t.jsx(Di,{})]})})}try{je.displayName="RowSetView",je.__docgenInfo={description:`Renders a table or cards representing the RowSet. Also displays appropriate pagination controls
depending on the value of QueryContext.isInfinite.`,displayName:"RowSetView",props:{tableConfiguration:{defaultValue:null,description:"",name:"tableConfiguration",required:!1,type:{name:"SynapseTableConfiguration"}},cardConfiguration:{defaultValue:null,description:"",name:"cardConfiguration",required:!1,type:{name:"CardConfiguration"}},initialLimit:{defaultValue:null,description:"",name:"initialLimit",required:!1,type:{name:"number"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}},multiCardList:{defaultValue:null,description:"",name:"multiCardList",required:!1,type:{name:"boolean"}}}}}catch{}function Ht(e){var c;const{sql:n}=e,a=((c=e.query)==null?void 0:c.sql)??n??"",s=de(a),{sortConfig:r,columnAliases:o,topLevelEnumeratedFacetToFilter:l}=e,i=x.useMemo(()=>r?[{column:r.defaultColumn,direction:r.defaultDirection}]:void 0,[r]),d=x.useMemo(()=>{let p;if(e.query)p={sort:i,limit:Ue,...e.query};else{const m=et(e.searchParams,e.sqlOperator,e.additionalFiltersSessionStorageKey);p={sql:e.sql,limit:e.limit??Ue,sort:i,additionalFilters:m}}return{concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:s,query:p,partMask:Z|Ze|Le|ba|Zt|en|Sa|tn}},[i,s,e.additionalFiltersSessionStorageKey,e.limit,e.query,e.searchParams,e.sql,e.sqlOperator]),u=JSON.stringify(d);return x.createElement(an,{...e,initQueryRequest:d,isInfinite:!0,key:u},t.jsx(rn,{rgbIndex:e.rgbIndex,unitDescription:e.unitDescription,columnAliases:o,noContentPlaceholderType:e.noContentPlaceholderType??He.STATIC,children:t.jsxs(Va,{children:[r&&t.jsx(bt,{sortConfig:r}),l&&t.jsx(xt,{topLevelEnumeratedFacetToFilter:l}),t.jsx(je,{cardConfiguration:e.cardConfiguration,initialLimit:e.initialLimit,multiCardList:e.multiCardList})]})}))}try{Ht.displayName="CardContainerLogic",Ht.__docgenInfo={description:"Class wraps around CardContainer and serves as a standalone logic container for rendering cards.",displayName:"CardContainerLogic",props:{query:{defaultValue:null,description:"The initial SQL query which will be used to populate the data in the component",name:"query",required:!1,type:{name:"Query"}},sql:{defaultValue:null,description:"@deprecated use `query`",name:"sql",required:!1,type:{name:"string"}},limit:{defaultValue:null,description:"Optional limit for the number of cards shown per page\n@deprecated use `query",name:"limit",required:!1,type:{name:"number"}},searchParams:{defaultValue:null,description:"Applies filters to the query where the key is the column name and the value is the value to filter on.\nThe filter function is controlled by sqlOperator.\n@deprecated use `query`",name:"searchParams",required:!1,type:{name:"Record<string, string>"}},sqlOperator:{defaultValue:null,description:"Operator used in the filter created using the searchParams prop\n@deprecated use `query`",name:"sqlOperator",required:!1,type:{name:"SQLOperator"}},title:{defaultValue:null,description:"Optional title to display above the component",name:"title",required:!1,type:{name:"string"}},isAlignToLeftNav:{defaultValue:null,description:"",name:"isAlignToLeftNav",required:!1,type:{name:"boolean"}},sortConfig:{defaultValue:null,description:"Provide a `SortConfiguration` that can be used to render UI to toggle the sorting of the cards.",name:"sortConfig",required:!1,type:{name:"SortConfiguration"}},topLevelEnumeratedFacetToFilter:{defaultValue:null,description:"Configuration used to render UI that can be used to alter a filter against a column with enumerated facets.",name:"topLevelEnumeratedFacetToFilter",required:!1,type:{name:"UniqueFacetIdentifier"}},lockedColumn:{defaultValue:null,description:"Optional column to 'lock'; Values and filter controls for a locked column will not be displayed in the UI.",name:"lockedColumn",required:!1,type:{name:"LockedColumn"}},initialLimit:{defaultValue:null,description:"Optionally limit the initial number of cards shown on the first page",name:"initialLimit",required:!1,type:{name:"number"}},multiCardList:{defaultValue:null,description:"",name:"multiCardList",required:!1,type:{name:"boolean"}},cardConfiguration:{defaultValue:null,description:"",name:"cardConfiguration",required:!0,type:{name:"CardConfiguration"}},rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},columnAliases:{defaultValue:null,description:"Mapping from column name to the name that should be shown for the column",name:"columnAliases",required:!1,type:{name:"Record<string, string>"}},noContentPlaceholderType:{defaultValue:null,description:"Default is INTERACTIVE",name:"noContentPlaceholderType",required:!1,type:{name:"enum",value:[{value:'"INTERACTIVE"'},{value:'"STATIC"'},{value:'"HIDDEN"'}]}},unitDescription:{defaultValue:null,description:'The singular word to use to describe a what a row represents (e.g. "file"). Defaults to "result"',name:"unitDescription",required:!1,type:{name:"string"}},additionalFiltersSessionStorageKey:{defaultValue:null,description:`Look for additional filters using the given key.  If not provided, the entity ID will be used.
@deprecated - configure the filter before passing a query`,name:"additionalFiltersSessionStorageKey",required:!1,type:{name:"string"}}}}}catch{}export{Ht as C,Dt as E,$n as Q,zn as S,Wn as T};
