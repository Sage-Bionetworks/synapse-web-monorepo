import{as as _,j as e,B as f,dJ as I,r as V,d9 as b,V as U,aq as s}from"./iframe-Ci1lmE8g.js";import{F as j}from"./FileUpload-D1d29Wem.js";function m(n){const{fileHandleAssociation:a,fileName:r,...i}=n,{accessToken:t}=_(),o=async()=>{if(!a.fileHandleId||!t)return;const d=(await I({requestedFiles:[a],includePreSignedURLs:!0,includeFileHandles:!1,includePreviewPreSignedURLs:!1},t)).requestedFiles[0].preSignedURL;d?window.open(d):console.log("Fail to get file download link")};return e.jsx(f,{...i,onClick:()=>{o()},children:r})}try{m.displayName="DirectDownloadButton",m.__docgenInfo={description:"",displayName:"DirectDownloadButton",props:{component:{defaultValue:null,description:"",name:"component",required:!1,type:{name:"ElementType<any, keyof IntrinsicElements>"}},fileHandleAssociation:{defaultValue:null,description:"",name:"fileHandleAssociation",required:!0,type:{name:"FileHandleAssociation"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!0,type:{name:"string"}}}}}catch{}function q(n){const{fileHandleAssociations:a=[],uploadCallback:r,id:i,documentName:t,isMultiFileUpload:o=!1,onClearAttachment:u,isLoading:g=!1,uploadBtnVariant:d="outlined"}=n,[w,x]=V.useState(!1),{data:c}=b({includeFileHandles:!0,includePreSignedURLs:!1,includePreviewPreSignedURLs:!1,requestedFiles:a},{enabled:a.length>0});return e.jsxs(U,{id:i,sx:{display:"flex",flexDirection:o?"column":"row",alignItems:o?"flex-start":"center",justifyContent:"flex-start",gap:2,my:2},children:[e.jsx(j,{id:`${i}-upload`,onUploadStart:()=>x(!0),onComplete:l=>{x(!1),r(l)},label:`Upload ${t}`,buttonProps:{disabled:g,variant:d,endIcon:e.jsx(s,{icon:"upload",wrap:!1})}}),a.map((l,y)=>{var F;const p=(F=c==null?void 0:c.requestedFiles.find(H=>H.fileHandleId===l.fileHandleId))==null?void 0:F.fileHandle;return e.jsxs(U,{children:[e.jsx(m,{id:`${i}-download-${y}`,variant:"text",endIcon:e.jsx(s,{icon:"download",wrap:!1}),color:"primary",fileHandleAssociation:l,fileName:p==null?void 0:p.fileName,sx:{textTransform:"none"}},y),u&&e.jsx(f,{className:"clear-x",variant:"text",onClick:()=>u(l.fileHandleId),children:e.jsx(s,{icon:"clear"})})]},l.fileHandleId)}),w&&e.jsx(f,{disabled:!0,variant:"text",endIcon:e.jsx(s,{icon:"download",wrap:!1}),children:"Uploading..."})]})}try{q.displayName="UploadDocumentField",q.__docgenInfo={description:"",displayName:"UploadDocumentField",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},documentName:{defaultValue:null,description:"",name:"documentName",required:!0,type:{name:"string"}},uploadCallback:{defaultValue:null,description:"",name:"uploadCallback",required:!0,type:{name:"(data: UploadCallbackResp) => void"}},fileHandleAssociations:{defaultValue:null,description:"",name:"fileHandleAssociations",required:!1,type:{name:"FileHandleAssociation[]"}},isMultiFileUpload:{defaultValue:null,description:"",name:"isMultiFileUpload",required:!1,type:{name:"boolean"}},onClearAttachment:{defaultValue:null,description:"",name:"onClearAttachment",required:!1,type:{name:"(fileHandleId: string) => void"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},uploadBtnVariant:{defaultValue:null,description:"",name:"uploadBtnVariant",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"outlined"'},{value:'"contained"'}]}}}}}catch{}export{m as D,q as U};
