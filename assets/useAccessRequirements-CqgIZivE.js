import{aN as k,l as u,S as y,aO as R,aP as S,aQ as f,aR as g,aS as F,aT as K}from"./useFiles-C5GiG6iR.js";import{u as Q}from"./useTheme-DCbcQagQ.js";import{u as d}from"./index-yyBVYnUR.js";import{c as T}from"./_baseUniq-BNFfhkx0.js";import{b as C}from"./_baseOrderBy-DK361Htf.js";import{b as P,a as A}from"./merge-DLdcbeqX.js";import"./VerificationSubmission-BDh1zA9f.js";import"./StringUtils-NPb0VexC.js";import"./OrientationBanner-DTwv04dt.js";import"./index-DhkrNZP9.js";import{u as h}from"./useQueries-6ISPb8Xn.js";import{u as q}from"./useQuery-IRTxbv8J.js";import{u as m}from"./QueryClientProvider-BvgHDx5W.js";import{u as o}from"./useMutation-Bd72eRV1.js";import{u as v}from"./useInfiniteQuery-lPkHMFlb.js";import"./jsx-runtime-D_zvdyIk.js";var D=P(function(e,s){if(e==null)return[];var t=s.length;return t>1&&A(e,s[0],s[1])?s=[]:t>2&&A(s[0],s[1],s[2])&&(s=[s[0]]),C(e,T(s,1),[])});const G=async(e,s)=>{const t=s.map(c=>k(e,c)),r=await Promise.all(t);return D(s,c=>-1*Number(r.find(n=>c===n.accessRequirementId).isApproved))};function V(){const e=Q();return d(e.breakpoints.up("md"))}function X(e,s){const{accessToken:t,keyFactory:r}=u();return q({...s,queryKey:r.getAccessRequirementQueryKey(String(e)),queryFn:()=>y.getAccessRequirementById(t,e)})}function Y(e,s){const{accessToken:t,keyFactory:r}=u();return q({...s,queryKey:r.getEntityAccessRequirementsQueryKey(e),queryFn:()=>y.getAllAccessRequirements(t,e)})}function Z(e,s){const{accessToken:t,keyFactory:r}=u();return q({...s,queryKey:r.getTeamAccessRequirementsQueryKey(e),queryFn:()=>y.getTeamAccessRequirements(t,e)})}function _(e,s){const{accessToken:t,keyFactory:r}=u();return q({...s,queryKey:r.getAccessRequirementWikiPageKey(e),queryFn:()=>y.getWikiPageKeyForAccessRequirement(t,e)})}function $(e){const s=m(),{accessToken:t,keyFactory:r}=u();return o({...e,mutationFn:c=>f(t,c),onSuccess:async(c,n,a)=>{const i=r.getAccessRequirementQueryKey(c.id.toString());if(s.setQueryData(i,c),e!=null&&e.onSuccess)return await e.onSuccess(c,n,a)}})}function p(e){const s=m(),{accessToken:t,keyFactory:r}=u();return o({...e,mutationFn:c=>S(t,c),onSuccess:async(c,n,a)=>{const i=r.getAccessRequirementQueryKey(c.id.toString());if(s.setQueryData(i,c),e!=null&&e.onSuccess)return await e.onSuccess(c,n,a)}})}function ee(e,s){const{accessToken:t,keyFactory:r}=u();return q({...s,queryKey:r.getAccessRequirementAclQueryKey(e),queryFn:()=>y.getAccessRequirementAcl(t,e)})}function se(e){const s=m(),{accessToken:t,keyFactory:r}=u();return o({...e,mutationFn:c=>g(t,c),onSuccess:async(c,n,a)=>{await s.invalidateQueries({queryKey:r.getAccessRequirementAclQueryKey(n)}),e!=null&&e.onSuccess&&await e.onSuccess(c,n,a)}})}function ce(e){const s=m(),{accessToken:t,keyFactory:r}=u();return o({...e,mutationFn:c=>F(t,c),onSuccess:async(c,n,a)=>{const i=r.getAccessRequirementAclQueryKey(c.id);if(s.setQueryData(i,c),e!=null&&e.onSuccess)return await e.onSuccess(c,n,a)}})}function te(e){const s=m(),{accessToken:t,keyFactory:r}=u();return o({...e,mutationFn:c=>K(t,c),onSuccess:async(c,n,a)=>{const i=r.getAccessRequirementAclQueryKey(c.id);if(s.setQueryData(i,c),e!=null&&e.onSuccess)return await e.onSuccess(c,n,a)}})}function re(e,s){const{accessToken:t,keyFactory:r}=u();return v({...s,queryKey:r.searchAccessRequirementsQueryKey(e),queryFn:async c=>await y.searchAccessRequirements(t,{...e,nextPageToken:c.pageParam}),initialPageParam:void 0,getNextPageParam:c=>c.nextPageToken})}function ue(e){const{accessToken:s}=u(),t=m(),{keyFactory:r}=u();return o({...e,mutationFn:c=>y.createLockAccessRequirement(c,s),mutationKey:["createLockAccessRequirement"],onSuccess:async(c,n,a)=>{if(await Promise.all([t.invalidateQueries({queryKey:r.getAccessRequirementQueryKey()}),t.invalidateQueries({queryKey:r.getAllEntityDataQueryKey()}),...R(r).map(i=>t.invalidateQueries(i))]),e!=null&&e.onSuccess)return e.onSuccess(c,n,a)}})}function l(e,s,t){return{queryKey:e.getAccessRequirementStatusQueryKey(t),queryFn:()=>y.getAccessRequirementStatus(s,t)}}function ne(e,s){const{accessToken:t,keyFactory:r}=u();return q({...s,...l(r,t,e)})}function ae(e){const{accessToken:s,keyFactory:t}=u();return h({queries:e.map(r=>l(t,s,r))})}function ye(e,s){const{accessToken:t,keyFactory:r}=u();return q({...s,queryKey:r.getSortedAccessRequirementsAndStatusQueryKey(e),queryFn:()=>G(t,e)})}function ie(e,s){const{accessToken:t,keyFactory:r}=u();return q({...s,queryKey:r.getAccessRequirementResearchProjectQueryKey(e),queryFn:()=>y.getResearchProject(e,t)})}function me(e){const{accessToken:s}=u(),t=m(),{keyFactory:r}=u();return o({...e,mutationFn:c=>y.updateResearchProject(c,s),onSuccess:async(c,n,a)=>{if(await t.invalidateQueries({queryKey:r.getAccessRequirementResearchProjectQueryKey(c.accessRequirementId)}),e!=null&&e.onSuccess)return e.onSuccess(c,n,a)}})}function oe(e,s){const{accessToken:t,keyFactory:r}=u();return q({...s,queryKey:r.getDataAccessRequestForUpdateQueryKey(e),queryFn:()=>y.getDataAccessRequestForUpdate(e,t)})}function qe(e){const{accessToken:s}=u(),t=m(),{keyFactory:r}=u();return o({...e,mutationFn:c=>y.updateDataAccessRequest(c,s),onSuccess:async(c,n,a)=>{if(await t.invalidateQueries({queryKey:r.getDataAccessRequestForUpdateQueryKey(c.accessRequirementId)}),e!=null&&e.onSuccess)return e.onSuccess(c,n,a)}})}function Ae(e){const{accessToken:s}=u(),t=m(),{keyFactory:r}=u();return o({...e,mutationFn:c=>y.createAccessApproval(s,c),onSuccess:async(c,n,a)=>{if(await Promise.all([t.invalidateQueries({queryKey:r.getAccessRequirementStatusQueryKey(String(n.requirementId))}),...R(r).map(i=>t.invalidateQueries(i))]),e!=null&&e.onSuccess)return e.onSuccess(c,n,a)}})}function Re(e){const{accessToken:s}=u(),t=m(),{keyFactory:r}=u();return o({...e,mutationFn:c=>y.cancelDataAccessRequest(c.submissionId,s),onSuccess:async(c,n,a)=>{if(await Promise.all([t.invalidateQueries({queryKey:r.getDataAccessSubmissionQueryKey()}),t.invalidateQueries({queryKey:r.getAccessRequirementStatusQueryKey(String(n.accessRequirementId))})]),e!=null&&e.onSuccess)return e.onSuccess(c,n,a)}})}export{ee as a,se as b,ce as c,te as d,ie as e,me as f,ne as g,_ as h,Ae as i,V as j,re as k,X as l,$ as m,p as n,Z as o,ae as p,oe as q,qe as r,D as s,Re as t,ue as u,Y as v,ye as w};
