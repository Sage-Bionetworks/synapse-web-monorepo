import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{s as v,t as c,k as w}from"./useFiles-DoM6saS5.js";import{B as R,d as D}from"./SynapseConstants-fjcaPar4.js";import{r as A}from"./index-C0wX4_D5.js";import"./VerificationSubmission-BDh1zA9f.js";import"./StringUtils-C95LMFI-.js";import{E as B,u as L}from"./ExpandableContent-wJNM49r8.js";import"./OrientationBanner-DXHS9Ok7.js";import{u as O}from"./useGetGoalData-BOXmFkmz.js";import{Q as N}from"./QueryCount-DGtHzwl9.js";import{B as C}from"./Box-BD_ma7_J.js";import{B as E}from"./Button-DYN6lvaS.js";function f({asset:t,link:a,summary:l,countSql:r,title:o,isAssetIcon:i,linkText:s="Explore"}){return e.jsxs(C,{className:"Goals__Card",sx:{cursor:"pointer",maxWidth:"335px",width:"335px"},onClick:()=>window.open(a,"_self"),children:[e.jsx("div",{className:"Goals__Card__header",style:{background:i?void 0:`url('${t}')`},children:e.jsxs("p",{children:[e.jsxs("span",{className:"Goals__Card__header__title",children:[i&&t&&e.jsx("img",{style:{marginRight:"10px"},className:"Goals__Card__header__icon",src:t,alt:`${o} icon`}),o]}),r&&e.jsx("span",{className:"Goals__Card__header__count",children:e.jsx(N,{parens:!1,query:{sql:r}})})]})}),e.jsxs("div",{className:"Goals__Card__summary",children:[e.jsxs("p",{children:[" ",l," "]}),e.jsx(E,{className:"Goals__Card__summary__link",variant:"outlined",color:"secondary",href:a,children:s})]})]})}try{f.displayName="GoalsDesktop",f.__docgenInfo={description:"",displayName:"GoalsDesktop",props:{countSql:{defaultValue:null,description:"",name:"countSql",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}},asset:{defaultValue:null,description:"",name:"asset",required:!0,type:{name:"string"}},isAssetIcon:{defaultValue:null,description:"",name:"isAssetIcon",required:!0,type:{name:"boolean"}},linkText:{defaultValue:{value:"Explore"},description:"",name:"linkText",required:!1,type:{name:"string"}}}}}catch{}function h({link:t,summary:a,countSql:l,title:r,linkText:o="Explore"}){const i=e.jsxs("div",{className:"Goals__Mobile__Header",children:[l&&e.jsx("span",{className:"Goals__Mobile__Header__Count",children:e.jsx(N,{parens:!1,query:{sql:l}})}),e.jsxs("span",{className:"Goals__Mobile__Header__Title",children:[" ",r," "]})]}),s=e.jsxs("div",{className:"Goals__Mobile__Content",children:[e.jsx("p",{children:a}),e.jsx(E,{variant:"outlined",color:"secondary",className:"Goals__Mobile__Content__Link",href:t,children:o})]});return e.jsx(B,{title:i,content:s})}try{h.displayName="GoalsMobile",h.__docgenInfo={description:"",displayName:"GoalsMobile",props:{countSql:{defaultValue:null,description:"",name:"countSql",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}},asset:{defaultValue:null,description:"",name:"asset",required:!0,type:{name:"string"}},isAssetIcon:{defaultValue:null,description:"",name:"isAssetIcon",required:!0,type:{name:"boolean"}},linkText:{defaultValue:{value:"Explore"},description:"",name:"linkText",required:!1,type:{name:"string"}}}}}catch{}const Q=1200;function I(t){const{entityId:a,isAssetIcon:l=!1,linkText:r}=t,o=L(Q),i={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:a,partMask:R|D,query:{sql:`select *
            from ${a}
            order by ItemOrder`}},{data:s}=v(i),{assets:m,error:g}=O(a,s),_=c("TableId",s),p=c("CountSql",s),q=c("Title",s),G=c("Summary",s),j=c("Link",s),x=A.useMemo(()=>s==null?void 0:s.queryResult.queryResults.rows.map((u,d)=>{const n=u.values;n.some(M=>M===null)&&console.warn("Row has null value(s) when no nulls expected");const k=_>-1?n[_]:void 0;let y;p>-1&&n[p]?y=n[p]:k&&(y=`SELECT * FROM ${k}`);const b=n[q],V=n[G],S=n[j],T=(m==null?void 0:m[d])??"";return{countSql:y,title:b,summary:V,link:S,asset:T,isAssetIcon:l}}),[p,m,j,s==null?void 0:s.queryResult,G,_,q]);return g?e.jsx(w,{error:g}):x?o?e.jsx(C,{className:"Goals",sx:{display:"flex",flexWrap:"wrap",gap:"7px",alignItems:"stretch",justifyContent:"center"},children:x.map((u,d)=>e.jsx(f,{...u,linkText:r},d))}):e.jsx("div",{className:"Goals",children:x.map((u,d)=>e.jsx(h,{...u,linkText:r},d))}):e.jsx(e.Fragment,{})}try{I.displayName="Goals",I.__docgenInfo={description:"",displayName:"Goals",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},isAssetIcon:{defaultValue:null,description:"",name:"isAssetIcon",required:!1,type:{name:"boolean"}},linkText:{defaultValue:null,description:"",name:"linkText",required:!1,type:{name:"string"}}}}}catch{}export{I as G};
