import{u as k}from"./useQueries-CXm_8CG9.js";import{u as q}from"./useQuery-BEUP4ZKU.js";import{u as m}from"./utils-BECe8vEQ.js";import{u as o}from"./useMutation-BUHlmdy0.js";import{u as S}from"./useInfiniteQuery-DFT8h5nZ.js";import{aJ as l,l as u,S as y,aK as F,aL as g,aM as f,aN as K,aO as Q}from"./useFiles-VFnS8GPd.js";import"./VerificationSubmission-DL9jxYsQ.js";import"./RegularExpressions-SKYrON-T.js";import"./OrientationBanner-6BqxDXOp.js";import"./index-Cu9bd8lq.js";import{g as A}from"./QueryFilterUtils-D-h0Mqm4.js";import{u as d}from"./utils-B6ltzQPV.js";import{u as T}from"./useMediaQuery-DetXi6Yl.js";import{s as C}from"./sortBy-CwH5QEHl.js";import"./jsx-runtime-DoxjgJx5.js";const P=async(e,t)=>{const c=t.map(s=>l(e,s)),r=await Promise.all(c);return C(t,s=>-1*Number(r.find(n=>s===n.accessRequirementId).isApproved))};function O(){const e=d();return T(e.breakpoints.up("md"))}function z(e,t){const{accessToken:c,keyFactory:r}=u();return q({...t,queryKey:r.getAccessRequirementQueryKey(String(e)),queryFn:()=>y.getAccessRequirementById(c,e)})}function J(e,t){const{accessToken:c,keyFactory:r}=u();return q({...t,queryKey:r.getEntityAccessRequirementsQueryKey(e),queryFn:()=>y.getAllAccessRequirements(c,e)})}function H(e,t){const{accessToken:c,keyFactory:r}=u();return q({...t,queryKey:r.getTeamAccessRequirementsQueryKey(e),queryFn:()=>y.getTeamAccessRequirements(c,e)})}function I(e,t){const{accessToken:c,keyFactory:r}=u();return q({...t,queryKey:r.getAccessRequirementWikiPageKey(e),queryFn:()=>y.getWikiPageKeyForAccessRequirement(c,e)})}function V(e){const t=m(),{accessToken:c,keyFactory:r}=u();return o({...e,mutationFn:s=>F(c,s),onSuccess:async(s,n,a)=>{const i=r.getAccessRequirementQueryKey(s.id.toString());if(t.setQueryData(i,s),e!=null&&e.onSuccess)return await e.onSuccess(s,n,a)}})}function X(e){const t=m(),{accessToken:c,keyFactory:r}=u();return o({...e,mutationFn:s=>g(c,s),onSuccess:async(s,n,a)=>{const i=r.getAccessRequirementQueryKey(s.id.toString());if(t.setQueryData(i,s),e!=null&&e.onSuccess)return await e.onSuccess(s,n,a)}})}function Y(e,t){const{accessToken:c,keyFactory:r}=u();return q({...t,queryKey:r.getAccessRequirementAclQueryKey(e),queryFn:()=>y.getAccessRequirementAcl(c,e)})}function Z(e){const t=m(),{accessToken:c,keyFactory:r}=u();return o({...e,mutationFn:s=>f(c,s),onSuccess:async(s,n,a)=>{await t.invalidateQueries({queryKey:r.getAccessRequirementAclQueryKey(n)}),e!=null&&e.onSuccess&&await e.onSuccess(s,n,a)}})}function _(e){const t=m(),{accessToken:c,keyFactory:r}=u();return o({...e,mutationFn:s=>K(c,s),onSuccess:async(s,n,a)=>{const i=r.getAccessRequirementAclQueryKey(s.id);if(t.setQueryData(i,s),e!=null&&e.onSuccess)return await e.onSuccess(s,n,a)}})}function $(e){const t=m(),{accessToken:c,keyFactory:r}=u();return o({...e,mutationFn:s=>Q(c,s),onSuccess:async(s,n,a)=>{const i=r.getAccessRequirementAclQueryKey(s.id);if(t.setQueryData(i,s),e!=null&&e.onSuccess)return await e.onSuccess(s,n,a)}})}function p(e,t){const{accessToken:c,keyFactory:r}=u();return S({...t,queryKey:r.searchAccessRequirementsQueryKey(e),queryFn:async s=>await y.searchAccessRequirements(c,{...e,nextPageToken:s.pageParam}),initialPageParam:void 0,getNextPageParam:s=>s.nextPageToken})}function ee(e){const{accessToken:t}=u(),c=m(),{keyFactory:r}=u();return o({...e,mutationFn:s=>y.createLockAccessRequirement(s,t),mutationKey:["createLockAccessRequirement"],onSuccess:async(s,n,a)=>{if(await Promise.all([c.invalidateQueries({queryKey:r.getAccessRequirementQueryKey()}),c.invalidateQueries({queryKey:r.getAllEntityDataQueryKey()}),...A(r).map(i=>c.invalidateQueries(i))]),e!=null&&e.onSuccess)return e.onSuccess(s,n,a)}})}function R(e,t,c){return{queryKey:e.getAccessRequirementStatusQueryKey(c),queryFn:()=>y.getAccessRequirementStatus(t,c)}}function se(e,t){const{accessToken:c,keyFactory:r}=u();return q({...t,...R(r,c,e)})}function ce(e){const{accessToken:t,keyFactory:c}=u();return k({queries:e.map(r=>R(c,t,r))})}function te(e,t){const{accessToken:c,keyFactory:r}=u();return q({...t,queryKey:r.getSortedAccessRequirementsAndStatusQueryKey(e),queryFn:()=>P(c,e)})}function re(e,t){const{accessToken:c,keyFactory:r}=u();return q({...t,queryKey:r.getAccessRequirementResearchProjectQueryKey(e),queryFn:()=>y.getResearchProject(e,c)})}function ue(e){const{accessToken:t}=u(),c=m(),{keyFactory:r}=u();return o({...e,mutationFn:s=>y.updateResearchProject(s,t),onSuccess:async(s,n,a)=>{if(await c.invalidateQueries({queryKey:r.getAccessRequirementResearchProjectQueryKey(s.accessRequirementId)}),e!=null&&e.onSuccess)return e.onSuccess(s,n,a)}})}function ne(e,t){const{accessToken:c,keyFactory:r}=u();return q({...t,queryKey:r.getDataAccessRequestForUpdateQueryKey(e),queryFn:()=>y.getDataAccessRequestForUpdate(e,c)})}function ae(e){const{accessToken:t}=u(),c=m(),{keyFactory:r}=u();return o({...e,mutationFn:s=>y.updateDataAccessRequest(s,t),onSuccess:async(s,n,a)=>{if(await c.invalidateQueries({queryKey:r.getDataAccessRequestForUpdateQueryKey(s.accessRequirementId)}),e!=null&&e.onSuccess)return e.onSuccess(s,n,a)}})}function ye(e){const{accessToken:t}=u(),c=m(),{keyFactory:r}=u();return o({...e,mutationFn:s=>y.createAccessApproval(t,s),onSuccess:async(s,n,a)=>{if(await Promise.all([c.invalidateQueries({queryKey:r.getAccessRequirementStatusQueryKey(String(n.requirementId))}),...A(r).map(i=>c.invalidateQueries(i))]),e!=null&&e.onSuccess)return e.onSuccess(s,n,a)}})}function ie(e){const{accessToken:t}=u(),c=m(),{keyFactory:r}=u();return o({...e,mutationFn:s=>y.cancelDataAccessRequest(s.submissionId,t),onSuccess:async(s,n,a)=>{if(await c.invalidateQueries({queryKey:r.getAccessRequirementStatusQueryKey(String(n.accessRequirementId))}),e!=null&&e.onSuccess)return e.onSuccess(s,n,a)}})}export{Y as a,Z as b,_ as c,$ as d,p as e,V as f,X as g,z as h,I as i,H as j,ce as k,ae as l,O as m,re as n,ue as o,ne as p,se as q,ie as r,ye as s,J as t,ee as u,te as v};
