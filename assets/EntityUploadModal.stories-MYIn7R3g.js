var WC=Object.defineProperty;var Lf=e=>{throw TypeError(e)};var XC=(e,n,t)=>n in e?WC(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var ne=(e,n,t)=>XC(e,typeof n!="symbol"?n+"":n,t),Uf=(e,n,t)=>n.has(e)||Lf("Cannot "+t);var Dn=(e,n,t)=>(Uf(e,n,"read from private field"),t?t.call(e):n.get(e)),Qi=(e,n,t)=>n.has(e)?Lf("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,t),ns=(e,n,t,s)=>(Uf(e,n,"write to private field"),s?s.call(e,t):n.set(e,t),t);var Lc=(e,n,t,s)=>({set _(r){ns(e,n,r,t)},get _(){return Dn(e,n,s)}});import{m as QC}from"./mockProject-U8D1WP2c.js";import{f as ZC}from"./index-2kyBmyZn.js";import{j as V}from"./jsx-runtime-D_zvdyIk.js";import{r as Ie}from"./index-CJWOyIck.js";import{D as My}from"./DialogBase-Vaqa1S22.js";import{d as Ny}from"./ToastMessage-BTjRpDc9.js";import{l as Pi,cp as YC,q as JC,aP as e0,w as ld,cq as Dy}from"./useFiles-DOr2eiI0.js";import"./VerificationSubmission-CMrrYimb.js";import{c as bu,e as Fy,q as t0}from"./StringUtils-ZWLpjIdm.js";import"./OrientationBanner-YlGcQ8oA.js";import{k as Cu,t as n0,v as s0,a as Ly,u as Uy}from"./useEntity-C1MLiSjW.js";import{b as zy,c as r0}from"./FileHandleUtils-CM3tYg1E.js";import{u as vr}from"./useMutation-CRVn1-QC.js";import{d as ui}from"./iframe-DoTUlnRU.js";import{r as o0}from"./pipeline-CJvk6Mkn.js";import{b as ks}from"./index-DCzSmvlg.js";import{r as i0}from"./index-DnveDbf7.js";import{v as a0}from"./v4-CtRu48qb.js";import{u as c0}from"./QueryClientProvider-oDqE1HUl.js";import{n as Po}from"./useQuery-CJ6zXZoE.js";import{p as dd}from"./pluralize-DsYBfIz2.js";import{F as l0}from"./index.esm-FnDka0tH.js";import{F as d0}from"./FullWidthAlert-CTCf0_0y.js";import{S as qy}from"./LoadingScreen-B-8xxWLv.js";import{B as fi}from"./Button-CxLdoTH8.js";import{B as Si}from"./Box-C-mmB_q5.js";import{T as gs}from"./Typography-B0Q9QmtT.js";import{F as u0}from"./FormControlLabel-CSHeeeRE.js";import{C as f0}from"./Checkbox-BWWaHsO4.js";import{S as pu}from"./Stack-DsuCYzOE.js";import{T as Va}from"./TextField-D4YII_9G.js";import{a as m0,F as h0}from"./FileUploadProgress-D1edBewx.js";import{P as y0}from"./ProjectStorageLimitAlert-6NxvRn9u.js";import{L as g0}from"./Link-B7EB4ta7.js";import{M as b0}from"./Menu-mgqRlD6P.js";import{F as C0}from"./Fade-kTrZyV86.js";import{M as zf}from"./MenuItem-Bjqxxq7M.js";import{P as p0}from"./Paper-CA1sfC9c.js";import{A as x0}from"./Alert-K5yXR8E3.js";import{T as S0,a as qf}from"./Tabs-lC9aMBcN.js";import"./mockTeam-CLx-9C8o.js";import"./SynapseConstants-SICaIPpp.js";import"./mock_user_profile-CCzWeUML.js";import"./uniqueId-B7zAGKpj.js";import"./toString-Rivtcnv9.js";import"./isObjectLike-G8zwPoD_.js";import"./isArray-Dxzbedgu.js";import"./isSymbol-fjr4LfIj.js";import"./times-DJ5xoCtI.js";import"./_baseTimes-36S_kd0L.js";import"./identity-DKeuBCMA.js";import"./toInteger-DGuYa0Wm.js";import"./spreadSx-CwcO6WA9.js";import"./Close-CK3HZbDA.js";import"./createSvgIcon-8zBnI0wH.js";import"./createTheme-joOF16y3.js";import"./DefaultPropsProvider-4-Nbo_PQ.js";import"./HelpPopover-BynNjEwM.js";import"./MarkdownPopover-DJy343LN.js";import"./LightTooltip-CzJD6dUK.js";import"./Tooltip-DJFZrf82.js";import"./index-B_VJ5W3d.js";import"./useTheme-CerIELR_.js";import"./useTheme-8KgRob2p.js";import"./useSlot-pK9Rx4f9.js";import"./useForkRef-BwBAI-XY.js";import"./useTimeout-DR3YPM4S.js";import"./useControlled-DXqZCC6Q.js";import"./getReactElementRef-AtSduVbi.js";import"./index-RFI4-CTC.js";import"./index-CLQ8OUAf.js";import"./Grow-C2WkGHMq.js";import"./Popper-CgY2t-Jy.js";import"./ownerDocument-DW-IO8s5.js";import"./isFocusVisible-B8k4qzLc.js";import"./react-CZondhIN.js";import"./MarkdownSynapse-B6rqjCYf.js";import"./SkeletonButton-Buxz3llm.js";import"./Skeleton-uaiLWYQK.js";import"./createSimplePaletteValueFilter-CriwX3Nq.js";import"./SkeletonInlineBlock-BMEIqAJx.js";import"./SkeletonTable-CKPU8PCc.js";import"./SkeletonParagraph-DICEepNR.js";import"./HelpOutlineTwoTone-QjhOnYXZ.js";import"./DialogTitle-BL-VdQVs.js";import"./DialogContent-BMLNGZ10.js";import"./Dialog-CvW35fHW.js";import"./Modal-UyV3NAxI.js";import"./getScrollbarSize-CaCM53D3.js";import"./ownerWindow-HkKU3E4x.js";import"./createChainedFunction-BO_9K8Jh.js";import"./Backdrop-DSrgvIlF.js";import"./IconButton-CMDHKdOn.js";import"./ButtonBase-Dp-i_ss-.js";import"./CircularProgress-bHi32ma4.js";import"./CSSTransition-DkmDSQPC.js";import"./fetchWithExponentialTimeout-CXmnpl-T.js";import"./Collapse-Dv1ewoJy.js";import"./_baseUniq-BubK3-dV.js";import"./_Uint8Array-Ce48In0X.js";import"./_getTag-n-EU0TN4.js";import"./isEqual-DRemrjEy.js";import"./merge-DQ6m7iup.js";import"./_initCloneObject-BAIB2BRc.js";import"./tinycolor-Begke6kS.js";import"./inputBaseClasses-BR-v_UEh.js";import"./calculateFriendlyFileSize-B8OS6tmQ.js";import"./CheckCircleTwoTone-Cqsu8gS4.js";import"./InfoTwoTone-CLmpUWXV.js";import"./index-9RqmjHB0.js";import"./extendSxProp-CK0LILTo.js";import"./dayjs.min-BZLa1BwX.js";import"./chunk-AYJ5UCUI-6pCYvLhm.js";import"./cloneDeep-BIkPzsIQ.js";import"./index-CeSfpRkX.js";import"./pickBy-BeAQPIJV.js";import"./isString-CNPSXfr3.js";import"./_baseIteratee-CPak1xSw.js";import"./_baseGet-ZT9UcOCp.js";import"./hasIn-DCRAry7V.js";import"./pick-Cwb_5K8c.js";import"./_baseSet-C3_tgWkh.js";import"./omit-CEGUIlG4.js";import"./_baseSlice-F8doVSIJ.js";import"./useQueries-CxhrWhme.js";import"./useInfiniteQuery-Br9u6tkB.js";import"./InfiniteQueryUtils-CKlRW-xB.js";import"./useEntityBundle-BafDdbeP.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./AlertTitle-DsIfsLeR.js";import"./ClickAwayListener-CkaBAZBz.js";import"./LinearProgress-DZ6J2GCh.js";import"./formControlState-Dq1zat_P.js";import"./useFormControl-DBQKtf41.js";import"./SwitchBase-DdSA_HjO.js";import"./mergeSlotProps-B-JPF0cd.js";import"./getThemeProps-ZNj3hCTU.js";import"./Select-BDA2kzkL.js";import"./FormControl-DBTB0WqM.js";import"./isMuiElement-iGaq-2VG.js";import"./InputBase-CZGGgmgK.js";import"./isHostComponent-DVu5iVWx.js";import"./debounce-Be36O1Ab.js";import"./Input-B16ZLJS8.js";import"./InputLabel-VSv9znRF.js";import"./FormLabel-DhJ_MKKs.js";import"./FormHelperText-B83-C7Rn.js";import"./DeleteTwoTone-DGZcDW0P.js";import"./Popover-BY8PI4Fv.js";import"./MenuList-DBfre0KV.js";import"./List-CnYz1P0h.js";import"./dividerClasses-D4qwfNjP.js";import"./Close-o_-k88i3.js";import"./KeyboardArrowRight-BCWCX55b.js";const E0=e=>({setHttpHandler(n){e.httpHandler=n},httpHandler(){return e.httpHandler},updateHttpClientConfig(n,t){var s;(s=e.httpHandler)==null||s.updateHttpClientConfig(n,t)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),w0=e=>({httpHandler:e.httpHandler()});var $f;(function(e){e.HEADER="header",e.QUERY="query"})($f||($f={}));var jf;(function(e){e.HEADER="header",e.QUERY="query"})(jf||(jf={}));var Ei;(function(e){e.HTTP="http",e.HTTPS="https"})(Ei||(Ei={}));var Wa;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(Wa||(Wa={}));var Kf;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Kf||(Kf={}));const ud="__smithy_context";var Hf;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(Hf||(Hf={}));var Gf;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(Gf||(Gf={}));class pt{constructor(n){this.method=n.method||"GET",this.hostname=n.hostname||"localhost",this.port=n.port,this.query=n.query||{},this.headers=n.headers||{},this.body=n.body,this.protocol=n.protocol?n.protocol.slice(-1)!==":"?`${n.protocol}:`:n.protocol:"https:",this.path=n.path?n.path.charAt(0)!=="/"?`/${n.path}`:n.path:"/",this.username=n.username,this.password=n.password,this.fragment=n.fragment}static clone(n){const t=new pt({...n,headers:{...n.headers}});return t.query&&(t.query=k0(t.query)),t}static isInstance(n){if(!n)return!1;const t=n;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&typeof t.query=="object"&&typeof t.headers=="object"}clone(){return pt.clone(this)}}function k0(e){return Object.keys(e).reduce((n,t)=>{const s=e[t];return{...n,[t]:Array.isArray(s)?[...s]:s}},{})}class Ro{constructor(n){this.statusCode=n.statusCode,this.reason=n.reason,this.headers=n.headers||{},this.body=n.body}static isInstance(n){if(!n)return!1;const t=n;return typeof t.statusCode=="number"&&typeof t.headers=="object"}}function _0(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}function A0(e){return n=>async t=>{var r,o;const{request:s}=t;return pt.isInstance(s)&&s.body&&e.runtime==="node"&&((o=(r=e.requestHandler)==null?void 0:r.constructor)==null?void 0:o.name)!=="FetchHttpHandler"&&(s.headers={...s.headers,Expect:"100-continue"}),n({...t,request:s})}}const B0={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},v0=e=>({applyToStack:n=>{n.add(A0(e),B0)}}),To={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},P0=To.WHEN_SUPPORTED,Uc={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},R0=To.WHEN_SUPPORTED;var He;(function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.CRC64NVME="CRC64NVME",e.SHA1="SHA1",e.SHA256="SHA256"})(He||(He={}));var Vf;(function(e){e.HEADER="header",e.TRAILER="trailer"})(Vf||(Vf={}));const fd=He.CRC32;var Wf;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Wf||(Wf={}));function T0(e,n,t){return e.$source||(e.$source={}),e.$source[n]=t,e}function bt(e,n,t){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[n]=t}const Xf=e=>{var n,t;return Ro.isInstance(e)?((n=e.headers)==null?void 0:n.date)??((t=e.headers)==null?void 0:t.Date):void 0},xu=e=>new Date(Date.now()+e),I0=(e,n)=>Math.abs(xu(n).getTime()-e)>=3e5,Qf=(e,n)=>{const t=Date.parse(e);return I0(t,n)?t-Date.now():n},mi=(e,n)=>{if(!n)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return n},$y=async e=>{var c,d,m;const n=mi("context",e.context),t=mi("config",e.config),s=(m=(d=(c=n.endpointV2)==null?void 0:c.properties)==null?void 0:d.authSchemes)==null?void 0:m[0],o=await mi("signer",t.signer)(s),i=e==null?void 0:e.signingRegion,a=e==null?void 0:e.signingRegionSet,l=e==null?void 0:e.signingName;return{config:t,signer:o,signingRegion:i,signingRegionSet:a,signingName:l}};class jy{async sign(n,t,s){var m;if(!pt.isInstance(n))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const r=await $y(s),{config:o,signer:i}=r;let{signingRegion:a,signingName:l}=r;const c=s.context;if(((m=c==null?void 0:c.authSchemes)==null?void 0:m.length)??!1){const[u,b]=c.authSchemes;(u==null?void 0:u.name)==="sigv4a"&&(b==null?void 0:b.name)==="sigv4"&&(a=(b==null?void 0:b.signingRegion)??a,l=(b==null?void 0:b.signingName)??l)}return await i.sign(n,{signingDate:xu(o.systemClockOffset),signingRegion:a,signingService:l})}errorHandler(n){return t=>{const s=t.ServerTime??Xf(t.$response);if(s){const r=mi("config",n.config),o=r.systemClockOffset;r.systemClockOffset=Qf(s,r.systemClockOffset),r.systemClockOffset!==o&&t.$metadata&&(t.$metadata.clockSkewCorrected=!0)}throw t}}successHandler(n,t){const s=Xf(n);if(s){const r=mi("config",t.config);r.systemClockOffset=Qf(s,r.systemClockOffset)}}}class O0 extends jy{async sign(n,t,s){var u;if(!pt.isInstance(n))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:r,signer:o,signingRegion:i,signingRegionSet:a,signingName:l}=await $y(s),d=(await((u=r.sigv4aSigningRegionSet)==null?void 0:u.call(r))??a??[i]).join(",");return await o.sign(n,{signingDate:xu(r.systemClockOffset),signingRegion:d,signingService:l})}}const Uo=e=>e[ud]||(e[ud]={}),Ln=e=>{if(typeof e=="function")return e;const n=Promise.resolve(e);return()=>n},M0=(e,n)=>{if(!n||n.length===0)return e;const t=[];for(const s of n)for(const r of e)r.schemeId.split("#")[1]===s&&t.push(r);for(const s of e)t.find(({schemeId:r})=>r===s.schemeId)||t.push(s);return t};function N0(e){const n=new Map;for(const t of e)n.set(t.schemeId,t);return n}const D0=(e,n)=>(t,s)=>async r=>{var m;const o=e.httpAuthSchemeProvider(await n.httpAuthSchemeParametersProvider(e,s,r.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=M0(o,i),l=N0(e.httpAuthSchemes),c=Uo(s),d=[];for(const u of a){const b=l.get(u.schemeId);if(!b){d.push(`HttpAuthScheme \`${u.schemeId}\` was not enabled for this service.`);continue}const w=b.identityProvider(await n.identityProviderConfigProvider(e));if(!w){d.push(`HttpAuthScheme \`${u.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:A={},signingProperties:B={}}=((m=u.propertiesExtractor)==null?void 0:m.call(u,e,s))||{};u.identityProperties=Object.assign(u.identityProperties||{},A),u.signingProperties=Object.assign(u.signingProperties||{},B),c.selectedHttpAuthScheme={httpAuthOption:u,identity:await w(u.identityProperties),signer:b.signer};break}if(!c.selectedHttpAuthScheme)throw new Error(d.join(`
`));return t(r)},F0={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},L0=(e,{httpAuthSchemeParametersProvider:n,identityProviderConfigProvider:t})=>({applyToStack:s=>{s.addRelativeTo(D0(e,{httpAuthSchemeParametersProvider:n,identityProviderConfigProvider:t}),F0)}}),U0=(e,n)=>(t,s)=>async r=>{var i,a,l,c;const{response:o}=await t(r);try{const d=await n(o,e);return{response:o,output:d}}catch(d){if(Object.defineProperty(d,"$response",{value:o}),!("$metadata"in d)){const m="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{d.message+=`
  `+m}catch{!s.logger||((a=(i=s.logger)==null?void 0:i.constructor)==null?void 0:a.name)==="NoOpLogger"?console.warn(m):(c=(l=s.logger)==null?void 0:l.warn)==null||c.call(l,m)}typeof d.$responseBodyText<"u"&&d.$response&&(d.$response.body=d.$responseBodyText)}throw d}},z0=(e,n)=>(t,s)=>async r=>{var a;const o=(a=s.endpointV2)!=null&&a.url&&e.urlParser?async()=>e.urlParser(s.endpointV2.url):e.endpoint;if(!o)throw new Error("No valid endpoint provider available.");const i=await n(r.input,{...e,endpoint:o});return t({...r,request:i})},q0={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Su={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function F(e,n,t){return{applyToStack:s=>{s.add(U0(e,t),q0),s.add(z0(e,n),Su)}}}Su.name;const $0=e=>n=>{throw n},j0=(e,n)=>{},K0=e=>(n,t)=>async s=>{if(!pt.isInstance(s.request))return n(s);const o=Uo(t).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:i={}},identity:a,signer:l}=o,c=await n({...s,request:await l.sign(s.request,a,i)}).catch((l.errorHandler||$0)(i));return(l.successHandler||j0)(c.response,i),c},Ky={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},H0=e=>({applyToStack:n=>{n.addRelativeTo(K0(),Ky)}}),Wr=e=>{if(typeof e=="function")return e;const n=Promise.resolve(e);return()=>n},_s={},zo=new Array(64);for(let e=0,n=65,t=90;e+n<=t;e++){const s=String.fromCharCode(e+n);_s[s]=e,zo[e]=s}for(let e=0,n=97,t=122;e+n<=t;e++){const s=String.fromCharCode(e+n),r=e+26;_s[s]=r,zo[r]=s}for(let e=0;e<10;e++){_s[e.toString(10)]=e+52;const n=e.toString(10),t=e+52;_s[n]=t,zo[t]=n}_s["+"]=62;zo[62]="+";_s["/"]=63;zo[63]="/";const Xr=6,hi=8,G0=63,Eu=e=>{let n=e.length/4*3;e.slice(-2)==="=="?n-=2:e.slice(-1)==="="&&n--;const t=new ArrayBuffer(n),s=new DataView(t);for(let r=0;r<e.length;r+=4){let o=0,i=0;for(let c=r,d=r+3;c<=d;c++)if(e[c]!=="="){if(!(e[c]in _s))throw new TypeError(`Invalid character ${e[c]} in base64 string.`);o|=_s[e[c]]<<(d-c)*Xr,i+=Xr}else o>>=Xr;const a=r/4*3;o>>=i%hi;const l=Math.floor(i/hi);for(let c=0;c<l;c++){const d=(l-c-1)*hi;s.setUint8(a+c,(o&255<<d)>>d)}}return new Uint8Array(t)},wr=e=>new TextEncoder().encode(e),Io=e=>typeof e=="string"?wr(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),wu=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)};function xc(e){let n;typeof e=="string"?n=wr(e):n=e;const t=typeof n=="object"&&typeof n.length=="number",s=typeof n=="object"&&typeof n.byteOffset=="number"&&typeof n.byteLength=="number";if(!t&&!s)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let r="";for(let o=0;o<n.length;o+=3){let i=0,a=0;for(let c=o,d=Math.min(o+3,n.length);c<d;c++)i|=n[c]<<(d-c-1)*hi,a+=hi;const l=Math.ceil(a/Xr);i<<=l*Xr-a;for(let c=1;c<=l;c++){const d=(l-c)*Xr;r+=zo[(i&G0<<d)>>d]}r+="==".slice(0,4-l)}return r}function V0(e,n="utf-8"){return n==="base64"?xc(e):wu(e)}function W0(e,n){return n==="base64"?Vs.mutate(Eu(e)):Vs.mutate(wr(e))}class Vs extends Uint8Array{static fromString(n,t="utf-8"){switch(typeof n){case"string":return W0(n,t);default:throw new Error(`Unsupported conversion from ${typeof n} to Uint8ArrayBlobAdapter.`)}}static mutate(n){return Object.setPrototypeOf(n,Vs.prototype),n}transformToString(n="utf-8"){return V0(this,n)}}const X0=typeof ReadableStream=="function"?ReadableStream:function(){};class Q0 extends X0{}const md=e=>{var n;return typeof ReadableStream=="function"&&(((n=e==null?void 0:e.constructor)==null?void 0:n.name)===ReadableStream.name||e instanceof ReadableStream)},Z0=({expectedChecksum:e,checksum:n,source:t,checksumSourceLocation:s,base64Encoder:r})=>{var l;if(!md(t))throw new Error(`@smithy/util-stream: unsupported source type ${((l=t==null?void 0:t.constructor)==null?void 0:l.name)??t} in ChecksumStream.`);const o=r??xc;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");const i=new TransformStream({start(){},async transform(c,d){n.update(c),d.enqueue(c)},async flush(c){const d=await n.digest(),m=o(d);if(e!==m){const u=new Error(`Checksum mismatch: expected "${e}" but received "${m}" in response header "${s}".`);c.error(u)}else c.terminate()}});t.pipeThrough(i);const a=i.readable;return Object.setPrototypeOf(a,Q0.prototype),a};class Y0{constructor(n){this.allocByteArray=n,this.byteLength=0,this.byteArrays=[]}push(n){this.byteArrays.push(n),this.byteLength+=n.byteLength}flush(){if(this.byteArrays.length===1){const s=this.byteArrays[0];return this.reset(),s}const n=this.allocByteArray(this.byteLength);let t=0;for(let s=0;s<this.byteArrays.length;++s){const r=this.byteArrays[s];n.set(r,t),t+=r.byteLength}return this.reset(),n}reset(){this.byteArrays=[],this.byteLength=0}}function J0(e,n,t){const s=e.getReader();let r=!1,o=0;const i=["",new Y0(c=>new Uint8Array(c))];let a=-1;const l=async c=>{const{value:d,done:m}=await s.read(),u=d;if(m){if(a!==-1){const b=zc(i,a);yi(b)>0&&c.enqueue(b)}c.close()}else{const b=np(u,!1);if(a!==b&&(a>=0&&c.enqueue(zc(i,a)),a=b),a===-1){c.enqueue(u);return}const w=yi(u);o+=w;const A=yi(i[a]);if(w>=n&&A===0)c.enqueue(u);else{const B=tp(i,a,u);!r&&o>n*2&&(r=!0,t==null||t.warn(`@smithy/util-stream - stream chunk size ${w} is below threshold of ${n}, automatically buffering.`)),B>=n?c.enqueue(zc(i,a)):await l(c)}}};return new ReadableStream({pull:l})}const ep=J0;function tp(e,n,t){switch(n){case 0:return e[0]+=t,yi(e[0]);case 1:case 2:return e[n].push(t),yi(e[n])}}function zc(e,n){switch(n){case 0:const t=e[0];return e[0]="",t;case 1:case 2:return e[n].flush()}throw new Error(`@smithy/util-stream - invalid index ${n} given to flush()`)}function yi(e){return(e==null?void 0:e.byteLength)??(e==null?void 0:e.length)??0}function np(e,n=!0){return n&&typeof ui.Buffer<"u"&&e instanceof ui.Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}const sp=(e,n)=>{const{base64Encoder:t,bodyLengthChecker:s,checksumAlgorithmFn:r,checksumLocationName:o,streamHasher:i}=n,a=t!==void 0&&s!==void 0&&r!==void 0&&o!==void 0&&i!==void 0,l=a?i(r,e):void 0,c=e.getReader();return new ReadableStream({async pull(d){const{value:m,done:u}=await c.read();if(u){if(d.enqueue(`0\r
`),a){const b=t(await l);d.enqueue(`${o}:${b}\r
`),d.enqueue(`\r
`)}d.close()}else d.enqueue(`${(s(m)||0).toString(16)}\r
${m}\r
`)}})};async function rp(e,n){let t=0;const s=[],r=e.getReader();let o=!1;for(;!o;){const{done:l,value:c}=await r.read();if(c&&(s.push(c),t+=(c==null?void 0:c.byteLength)??0),t>=n)break;o=l}r.releaseLock();const i=new Uint8Array(Math.min(n,t));let a=0;for(const l of s){if(l.byteLength>i.byteLength-a){i.set(l.subarray(0,i.byteLength-a),a);break}else i.set(l,a);a+=l.length}return i}const Ws=e=>encodeURIComponent(e).replace(/[!'()*]/g,op),op=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function ip(e){const n=[];for(let t of Object.keys(e).sort()){const s=e[t];if(t=Ws(t),Array.isArray(s))for(let r=0,o=s.length;r<o;r++)n.push(`${t}=${Ws(s[r])}`);else{let r=t;(s||typeof s=="string")&&(r+=`=${Ws(s)}`),n.push(r)}}return n.join("&")}function Zf(e,n){return new Request(e,n)}function ap(e=0){return new Promise((n,t)=>{e&&setTimeout(()=>{const s=new Error(`Request did not complete within ${e} ms`);s.name="TimeoutError",t(s)},e)})}const qc={supported:void 0};class ku{static create(n){return typeof(n==null?void 0:n.handle)=="function"?n:new ku(n)}constructor(n){typeof n=="function"?this.configProvider=n().then(t=>t||{}):(this.config=n??{},this.configProvider=Promise.resolve(this.config)),qc.supported===void 0&&(qc.supported=typeof Request<"u"&&"keepalive"in Zf("https://[::1]"))}destroy(){}async handle(n,{abortSignal:t}={}){var p;this.config||(this.config=await this.configProvider);const s=this.config.requestTimeout,r=this.config.keepAlive===!0,o=this.config.credentials;if(t!=null&&t.aborted){const E=new Error("Request aborted");return E.name="AbortError",Promise.reject(E)}let i=n.path;const a=ip(n.query||{});a&&(i+=`?${a}`),n.fragment&&(i+=`#${n.fragment}`);let l="";if(n.username!=null||n.password!=null){const E=n.username??"",O=n.password??"";l=`${E}:${O}@`}const{port:c,method:d}=n,m=`${n.protocol}//${l}${n.hostname}${c?`:${c}`:""}${i}`,u=d==="GET"||d==="HEAD"?void 0:n.body,b={body:u,headers:new Headers(n.headers),method:d,credentials:o};(p=this.config)!=null&&p.cache&&(b.cache=this.config.cache),u&&(b.duplex="half"),typeof AbortController<"u"&&(b.signal=t),qc.supported&&(b.keepalive=r),typeof this.config.requestInit=="function"&&Object.assign(b,this.config.requestInit(n));let w=()=>{};const A=Zf(m,b),B=[fetch(A).then(E=>{const O=E.headers,x={};for(const S of O.entries())x[S[0]]=S[1];return E.body!=null?{response:new Ro({headers:x,reason:E.statusText,statusCode:E.status,body:E.body})}:E.blob().then(S=>({response:new Ro({headers:x,reason:E.statusText,statusCode:E.status,body:S})}))}),ap(s)];return t&&B.push(new Promise((E,O)=>{const x=()=>{const N=new Error("Request aborted");N.name="AbortError",O(N)};if(typeof t.addEventListener=="function"){const N=t;N.addEventListener("abort",x,{once:!0}),w=()=>N.removeEventListener("abort",x)}else t.onabort=x})),Promise.race(B).finally(w)}updateHttpClientConfig(n,t){this.config=void 0,this.configProvider=this.configProvider.then(s=>(s[n]=t,s))}httpHandlerConfigs(){return this.config??{}}}const Hy=async e=>{var n;return typeof Blob=="function"&&e instanceof Blob||((n=e.constructor)==null?void 0:n.name)==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):cp(e):lp(e)};async function cp(e){const n=await dp(e),t=Eu(n);return new Uint8Array(t)}async function lp(e){const n=[],t=e.getReader();let s=!1,r=0;for(;!s;){const{done:a,value:l}=await t.read();l&&(n.push(l),r+=l.length),s=a}const o=new Uint8Array(r);let i=0;for(const a of n)o.set(a,i),i+=a.length;return o}function dp(e){return new Promise((n,t)=>{const s=new FileReader;s.onloadend=()=>{if(s.readyState!==2)return t(new Error("Reader aborted too early"));const r=s.result??"",o=r.indexOf(","),i=o>-1?o+1:r.length;n(r.substring(i))},s.onabort=()=>t(new Error("Read aborted")),s.onerror=()=>t(s.error),s.readAsDataURL(e)})}const Gy={},hd={};for(let e=0;e<256;e++){let n=e.toString(16).toLowerCase();n.length===1&&(n=`0${n}`),Gy[e]=n,hd[n]=e}function Vy(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const n=new Uint8Array(e.length/2);for(let t=0;t<e.length;t+=2){const s=e.slice(t,t+2).toLowerCase();if(s in hd)n[t/2]=hd[s];else throw new Error(`Cannot decode unrecognized sequence ${s} as hexadecimal`)}return n}function cn(e){let n="";for(let t=0;t<e.byteLength;t++)n+=Gy[e[t]];return n}const Yf="The stream has already been transformed.",up=e=>{var r,o;if(!Jf(e)&&!md(e)){const i=((o=(r=e==null?void 0:e.__proto__)==null?void 0:r.constructor)==null?void 0:o.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let n=!1;const t=async()=>{if(n)throw new Error(Yf);return n=!0,await Hy(e)},s=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(e,{transformToByteArray:t,transformToString:async i=>{const a=await t();if(i==="base64")return xc(a);if(i==="hex")return cn(a);if(i===void 0||i==="utf8"||i==="utf-8")return wu(a);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(Yf);if(n=!0,Jf(e))return s(e);if(md(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})},Jf=e=>typeof Blob=="function"&&e instanceof Blob;async function fp(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}const le=async(e=new Uint8Array,n)=>{if(e instanceof Uint8Array)return Vs.mutate(e);if(!e)return Vs.mutate(new Uint8Array);const t=n.streamCollector(e);return Vs.mutate(await t)};function Xa(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})}const mp=(e,n,t,s,r,o)=>{if(n!=null&&n[t]!==void 0){const i=s();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+t+".");e=e.replace(r,o?i.split("/").map(a=>Xa(a)).join("/"):Xa(i))}else throw new Error("No value provided for input HTTP label: "+t+".");return e};function L(e,n){return new hp(e,n)}class hp{constructor(n,t){this.input=n,this.context=t,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:n,protocol:t="https",port:s,path:r}=await this.context.endpoint();this.path=r;for(const o of this.resolvePathStack)o(this.path);return new pt({protocol:t,hostname:this.hostname||n,port:s,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(n){return this.hostname=n,this}bp(n){return this.resolvePathStack.push(t=>{this.path=`${t!=null&&t.endsWith("/")?t.slice(0,-1):t||""}`+n}),this}p(n,t,s,r){return this.resolvePathStack.push(o=>{this.path=mp(o,this.input,n,t,s,r)}),this}h(n){return this.headers=n,this}q(n){return this.query=n,this}b(n){return this.body=n,this}m(n){return this.method=n,this}}function yp(e,n,t){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[n]=t}class gp{constructor(n){this.authSchemes=new Map;for(const[t,s]of Object.entries(n))s!==void 0&&this.authSchemes.set(t,s)}getIdentityProvider(n){return this.authSchemes.get(n)}}const bp=e=>n=>Wy(n)&&n.expiration.getTime()-Date.now()<e,Cp=3e5,pp=bp(Cp),Wy=e=>e.expiration!==void 0,xp=(e,n,t)=>{if(e===void 0)return;const s=typeof e!="function"?async()=>Promise.resolve(e):e;let r,o,i,a=!1;const l=async c=>{o||(o=s(c));try{r=await o,i=!0,a=!1}finally{o=void 0}return r};return n===void 0?async c=>((!i||c!=null&&c.forceRefresh)&&(r=await l(c)),r):async c=>((!i||c!=null&&c.forceRefresh)&&(r=await l(c)),a?r:t(r)?(n(r)&&await l(c),r):(a=!0,r))},Sp=(e,n,t)=>{let s,r,o,i=!1;const a=async()=>{r||(r=e());try{s=await r,o=!0,i=!1}finally{r=void 0}return s};return async l=>((!o||l!=null&&l.forceRefresh)&&(s=await a()),s)},Ep=e=>(e.sigv4aSigningRegionSet=Wr(e.sigv4aSigningRegionSet),e),wp="X-Amz-Algorithm",kp="X-Amz-Credential",Xy="X-Amz-Date",_p="X-Amz-SignedHeaders",Ap="X-Amz-Expires",Qy="X-Amz-Signature",Zy="X-Amz-Security-Token",Yy="authorization",Jy=Xy.toLowerCase(),Bp="date",vp=[Yy,Jy,Bp],Pp=Qy.toLowerCase(),yd="x-amz-content-sha256",Rp=Zy.toLowerCase(),Tp={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Ip=/^proxy-/,Op=/^sec-/,$c="AWS4-HMAC-SHA256",Mp="AWS4-HMAC-SHA256-PAYLOAD",Np="UNSIGNED-PAYLOAD",Dp=50,eg="aws4_request",Fp=60*60*24*7,Zi={},jc=[],Kc=(e,n,t)=>`${e}/${n}/${t}/${eg}`,Lp=async(e,n,t,s,r)=>{const o=await em(e,n.secretAccessKey,n.accessKeyId),i=`${t}:${s}:${r}:${cn(o)}:${n.sessionToken}`;if(i in Zi)return Zi[i];for(jc.push(i);jc.length>Dp;)delete Zi[jc.shift()];let a=`AWS4${n.secretAccessKey}`;for(const l of[t,s,r,eg])a=await em(e,a,l);return Zi[i]=a},em=(e,n,t)=>{const s=new e(n);return s.update(Io(t)),s.digest()},tm=({headers:e},n,t)=>{const s={};for(const r of Object.keys(e).sort()){if(e[r]==null)continue;const o=r.toLowerCase();(o in Tp||n!=null&&n.has(o)||Ip.test(o)||Op.test(o))&&(!t||t&&!t.has(o))||(s[o]=e[r].trim().replace(/\s+/g," "))}return s},tg=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]",Hc=async({headers:e,body:n},t)=>{for(const s of Object.keys(e))if(s.toLowerCase()===yd)return e[s];if(n==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof n=="string"||ArrayBuffer.isView(n)||tg(n)){const s=new t;return s.update(Io(n)),cn(await s.digest())}return Np};class Up{format(n){const t=[];for(const o of Object.keys(n)){const i=wr(o);t.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(n[o]))}const s=new Uint8Array(t.reduce((o,i)=>o+i.byteLength,0));let r=0;for(const o of t)s.set(o,r),r+=o.byteLength;return s}formatHeaderValue(n){switch(n.type){case"boolean":return Uint8Array.from([n.value?0:1]);case"byte":return Uint8Array.from([2,n.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,n.value,!1),new Uint8Array(t.buffer);case"integer":const s=new DataView(new ArrayBuffer(5));return s.setUint8(0,4),s.setInt32(1,n.value,!1),new Uint8Array(s.buffer);case"long":const r=new Uint8Array(9);return r[0]=5,r.set(n.value.bytes,1),r;case"binary":const o=new DataView(new ArrayBuffer(3+n.value.byteLength));o.setUint8(0,6),o.setUint16(1,n.value.byteLength,!1);const i=new Uint8Array(o.buffer);return i.set(n.value,3),i;case"string":const a=wr(n.value),l=new DataView(new ArrayBuffer(3+a.byteLength));l.setUint8(0,7),l.setUint16(1,a.byteLength,!1);const c=new Uint8Array(l.buffer);return c.set(a,3),c;case"timestamp":const d=new Uint8Array(9);return d[0]=8,d.set(qp.fromNumber(n.value.valueOf()).bytes,1),d;case"uuid":if(!zp.test(n.value))throw new Error(`Invalid UUID received: ${n.value}`);const m=new Uint8Array(17);return m[0]=9,m.set(Vy(n.value.replace(/\-/g,"")),1),m}}}var nm;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(nm||(nm={}));const zp=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;let qp=class ng{constructor(n){if(this.bytes=n,n.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(n){if(n>9223372036854776e3||n<-9223372036854776e3)throw new Error(`${n} is too large (or, if negative, too small) to represent as an Int64`);const t=new Uint8Array(8);for(let s=7,r=Math.abs(Math.round(n));s>-1&&r>0;s--,r/=256)t[s]=r;return n<0&&sm(t),new ng(t)}valueOf(){const n=this.bytes.slice(0),t=n[0]&128;return t&&sm(n),parseInt(cn(n),16)*(t?-1:1)}toString(){return String(this.valueOf())}};function sm(e){for(let n=0;n<8;n++)e[n]^=255;for(let n=7;n>-1&&(e[n]++,e[n]===0);n--);}const $p=(e,n)=>{e=e.toLowerCase();for(const t of Object.keys(n))if(e===t.toLowerCase())return!0;return!1},jp=(e,n={})=>{var r,o;const{headers:t,query:s={}}=pt.clone(e);for(const i of Object.keys(t)){const a=i.toLowerCase();(a.slice(0,6)==="x-amz-"&&!((r=n.unhoistableHeaders)!=null&&r.has(a))||(o=n.hoistableHeaders)!=null&&o.has(a))&&(s[i]=t[i],delete t[i])}return{...e,headers:t,query:s}},rm=e=>{e=pt.clone(e);for(const n of Object.keys(e.headers))vp.indexOf(n.toLowerCase())>-1&&delete e.headers[n];return e},Kp=({query:e={}})=>{const n=[],t={};for(const s of Object.keys(e)){if(s.toLowerCase()===Pp)continue;const r=Ws(s);n.push(r);const o=e[s];typeof o=="string"?t[r]=`${r}=${Ws(o)}`:Array.isArray(o)&&(t[r]=o.slice(0).reduce((i,a)=>i.concat([`${r}=${Ws(a)}`]),[]).sort().join("&"))}return n.sort().map(s=>t[s]).filter(s=>s).join("&")},Hp=e=>Gp(e).toISOString().replace(/\.\d{3}Z$/,"Z"),Gp=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;class Vp{constructor({applyChecksum:n,credentials:t,region:s,service:r,sha256:o,uriEscapePath:i=!0}){this.service=r,this.sha256=o,this.uriEscapePath=i,this.applyChecksum=typeof n=="boolean"?n:!0,this.regionProvider=Ln(s),this.credentialProvider=Ln(t)}createCanonicalRequest(n,t,s){const r=Object.keys(t).sort();return`${n.method}
${this.getCanonicalPath(n)}
${Kp(n)}
${r.map(o=>`${o}:${t[o]}`).join(`
`)}

${r.join(";")}
${s}`}async createStringToSign(n,t,s,r){const o=new this.sha256;o.update(Io(s));const i=await o.digest();return`${r}
${n}
${t}
${cn(i)}`}getCanonicalPath({path:n}){if(this.uriEscapePath){const t=[];for(const o of n.split("/"))(o==null?void 0:o.length)!==0&&o!=="."&&(o===".."?t.pop():t.push(o));const s=`${n!=null&&n.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&(n!=null&&n.endsWith("/"))?"/":""}`;return Ws(s).replace(/%2F/g,"/")}return n}validateResolvedCredentials(n){if(typeof n!="object"||typeof n.accessKeyId!="string"||typeof n.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(n){const t=Hp(n).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(n){return Object.keys(n).sort().join(";")}}class gd extends Vp{constructor({applyChecksum:n,credentials:t,region:s,service:r,sha256:o,uriEscapePath:i=!0}){super({applyChecksum:n,credentials:t,region:s,service:r,sha256:o,uriEscapePath:i}),this.headerFormatter=new Up}async presign(n,t={}){const{signingDate:s=new Date,expiresIn:r=3600,unsignableHeaders:o,unhoistableHeaders:i,signableHeaders:a,hoistableHeaders:l,signingRegion:c,signingService:d}=t,m=await this.credentialProvider();this.validateResolvedCredentials(m);const u=c??await this.regionProvider(),{longDate:b,shortDate:w}=this.formatDate(s);if(r>Fp)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const A=Kc(w,u,d??this.service),B=jp(rm(n),{unhoistableHeaders:i,hoistableHeaders:l});m.sessionToken&&(B.query[Zy]=m.sessionToken),B.query[wp]=$c,B.query[kp]=`${m.accessKeyId}/${A}`,B.query[Xy]=b,B.query[Ap]=r.toString(10);const p=tm(B,o,a);return B.query[_p]=this.getCanonicalHeaderList(p),B.query[Qy]=await this.getSignature(b,A,this.getSigningKey(m,u,w,d),this.createCanonicalRequest(B,p,await Hc(n,this.sha256))),B}async sign(n,t){return typeof n=="string"?this.signString(n,t):n.headers&&n.payload?this.signEvent(n,t):n.message?this.signMessage(n,t):this.signRequest(n,t)}async signEvent({headers:n,payload:t},{signingDate:s=new Date,priorSignature:r,signingRegion:o,signingService:i}){const a=o??await this.regionProvider(),{shortDate:l,longDate:c}=this.formatDate(s),d=Kc(l,a,i??this.service),m=await Hc({headers:{},body:t},this.sha256),u=new this.sha256;u.update(n);const b=cn(await u.digest()),w=[Mp,c,d,r,b,m].join(`
`);return this.signString(w,{signingDate:s,signingRegion:a,signingService:i})}async signMessage(n,{signingDate:t=new Date,signingRegion:s,signingService:r}){return this.signEvent({headers:this.headerFormatter.format(n.message.headers),payload:n.message.body},{signingDate:t,signingRegion:s,signingService:r,priorSignature:n.priorSignature}).then(i=>({message:n.message,signature:i}))}async signString(n,{signingDate:t=new Date,signingRegion:s,signingService:r}={}){const o=await this.credentialProvider();this.validateResolvedCredentials(o);const i=s??await this.regionProvider(),{shortDate:a}=this.formatDate(t),l=new this.sha256(await this.getSigningKey(o,i,a,r));return l.update(Io(n)),cn(await l.digest())}async signRequest(n,{signingDate:t=new Date,signableHeaders:s,unsignableHeaders:r,signingRegion:o,signingService:i}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const l=o??await this.regionProvider(),c=rm(n),{longDate:d,shortDate:m}=this.formatDate(t),u=Kc(m,l,i??this.service);c.headers[Jy]=d,a.sessionToken&&(c.headers[Rp]=a.sessionToken);const b=await Hc(c,this.sha256);!$p(yd,c.headers)&&this.applyChecksum&&(c.headers[yd]=b);const w=tm(c,r,s),A=await this.getSignature(d,u,this.getSigningKey(a,l,m,i),this.createCanonicalRequest(c,w,b));return c.headers[Yy]=`${$c} Credential=${a.accessKeyId}/${u}, SignedHeaders=${this.getCanonicalHeaderList(w)}, Signature=${A}`,c}async getSignature(n,t,s,r){const o=await this.createStringToSign(n,t,r,$c),i=new this.sha256(await s);return i.update(Io(o)),cn(await i.digest())}getSigningKey(n,t,s,r){return Lp(this.sha256,n,s,t,r||this.service)}}const Wp=e=>{let n=e.credentials,t=!!e.credentials,s;Object.defineProperty(e,"credentials",{set(c){c&&c!==n&&c!==s&&(t=!0),n=c;const d=Xp(e,{credentials:n,credentialDefaultProvider:e.credentialDefaultProvider}),m=Qp(e,d);t&&!m.attributed?(s=async u=>m(u).then(b=>T0(b,"CREDENTIALS_CODE","e")),s.memoized=m.memoized,s.configBound=m.configBound,s.attributed=!0):s=m},get(){return s},enumerable:!0,configurable:!0}),e.credentials=n;const{signingEscapePath:r=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:i}=e;let a;return e.signer?a=Wr(e.signer):e.regionInfoProvider?a=()=>Wr(e.region)().then(async c=>[await e.regionInfoProvider(c,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},c]).then(([c,d])=>{const{signingRegion:m,signingService:u}=c;e.signingRegion=e.signingRegion||m||d,e.signingName=e.signingName||u||e.serviceId;const b={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:r},w=e.signerConstructor||gd;return new w(b)}):a=async c=>{c=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Wr(e.region)(),properties:{}},c);const d=c.signingRegion,m=c.signingName;e.signingRegion=e.signingRegion||d,e.signingName=e.signingName||m||e.serviceId;const u={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:r},b=e.signerConstructor||gd;return new b(u)},Object.assign(e,{systemClockOffset:o,signingEscapePath:r,signer:a})};function Xp(e,{credentials:n,credentialDefaultProvider:t}){let s;return n?n!=null&&n.memoized?s=n:s=xp(n,pp,Wy):t?s=Wr(t(Object.assign({},e,{parentClientConfig:e}))):s=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},s.memoized=!0,s}function Qp(e,n){if(n.configBound)return n;const t=async s=>n({...s,callerClientConfig:e});return t.memoized=n.memoized,t.configBound=!0,t}const Ms=(e,n)=>{const t=[];if(e&&t.push(e),n)for(const s of n)t.push(s);return t},us=(e,n)=>`${e||"anonymous"}${n&&n.length>0?` (a.k.a. ${n.join(",")})`:""}`,Qa=()=>{let e=[],n=[],t=!1;const s=new Set,r=m=>m.sort((u,b)=>om[b.step]-om[u.step]||im[b.priority||"normal"]-im[u.priority||"normal"]),o=m=>{let u=!1;const b=w=>{const A=Ms(w.name,w.aliases);if(A.includes(m)){u=!0;for(const B of A)s.delete(B);return!1}return!0};return e=e.filter(b),n=n.filter(b),u},i=m=>{let u=!1;const b=w=>{if(w.middleware===m){u=!0;for(const A of Ms(w.name,w.aliases))s.delete(A);return!1}return!0};return e=e.filter(b),n=n.filter(b),u},a=m=>{var u;return e.forEach(b=>{m.add(b.middleware,{...b})}),n.forEach(b=>{m.addRelativeTo(b.middleware,{...b})}),(u=m.identifyOnResolve)==null||u.call(m,d.identifyOnResolve()),m},l=m=>{const u=[];return m.before.forEach(b=>{b.before.length===0&&b.after.length===0?u.push(b):u.push(...l(b))}),u.push(m),m.after.reverse().forEach(b=>{b.before.length===0&&b.after.length===0?u.push(b):u.push(...l(b))}),u},c=(m=!1)=>{const u=[],b=[],w={};return e.forEach(B=>{const p={...B,before:[],after:[]};for(const E of Ms(p.name,p.aliases))w[E]=p;u.push(p)}),n.forEach(B=>{const p={...B,before:[],after:[]};for(const E of Ms(p.name,p.aliases))w[E]=p;b.push(p)}),b.forEach(B=>{if(B.toMiddleware){const p=w[B.toMiddleware];if(p===void 0){if(m)return;throw new Error(`${B.toMiddleware} is not found when adding ${us(B.name,B.aliases)} middleware ${B.relation} ${B.toMiddleware}`)}B.relation==="after"&&p.after.push(B),B.relation==="before"&&p.before.push(B)}}),r(u).map(l).reduce((B,p)=>(B.push(...p),B),[])},d={add:(m,u={})=>{const{name:b,override:w,aliases:A}=u,B={step:"initialize",priority:"normal",middleware:m,...u},p=Ms(b,A);if(p.length>0){if(p.some(E=>s.has(E))){if(!w)throw new Error(`Duplicate middleware name '${us(b,A)}'`);for(const E of p){const O=e.findIndex(N=>{var S;return N.name===E||((S=N.aliases)==null?void 0:S.some(W=>W===E))});if(O===-1)continue;const x=e[O];if(x.step!==B.step||B.priority!==x.priority)throw new Error(`"${us(x.name,x.aliases)}" middleware with ${x.priority} priority in ${x.step} step cannot be overridden by "${us(b,A)}" middleware with ${B.priority} priority in ${B.step} step.`);e.splice(O,1)}}for(const E of p)s.add(E)}e.push(B)},addRelativeTo:(m,u)=>{const{name:b,override:w,aliases:A}=u,B={middleware:m,...u},p=Ms(b,A);if(p.length>0){if(p.some(E=>s.has(E))){if(!w)throw new Error(`Duplicate middleware name '${us(b,A)}'`);for(const E of p){const O=n.findIndex(N=>{var S;return N.name===E||((S=N.aliases)==null?void 0:S.some(W=>W===E))});if(O===-1)continue;const x=n[O];if(x.toMiddleware!==B.toMiddleware||x.relation!==B.relation)throw new Error(`"${us(x.name,x.aliases)}" middleware ${x.relation} "${x.toMiddleware}" middleware cannot be overridden by "${us(b,A)}" middleware ${B.relation} "${B.toMiddleware}" middleware.`);n.splice(O,1)}}for(const E of p)s.add(E)}n.push(B)},clone:()=>a(Qa()),use:m=>{m.applyToStack(d)},remove:m=>typeof m=="string"?o(m):i(m),removeByTag:m=>{let u=!1;const b=w=>{const{tags:A,name:B,aliases:p}=w;if(A&&A.includes(m)){const E=Ms(B,p);for(const O of E)s.delete(O);return u=!0,!1}return!0};return e=e.filter(b),n=n.filter(b),u},concat:m=>{var b;const u=a(Qa());return u.use(m),u.identifyOnResolve(t||u.identifyOnResolve()||(((b=m.identifyOnResolve)==null?void 0:b.call(m))??!1)),u},applyToStack:a,identify:()=>c(!0).map(m=>{const u=m.step??m.relation+" "+m.toMiddleware;return us(m.name,m.aliases)+" - "+u}),identifyOnResolve(m){return typeof m=="boolean"&&(t=m),t},resolve:(m,u)=>{for(const b of c().map(w=>w.middleware).reverse())m=b(m,u);return t&&console.log(d.identify()),m}};return d},om={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},im={high:3,normal:2,low:1};class Zp{constructor(n){this.config=n,this.middlewareStack=Qa()}send(n,t,s){const r=typeof t!="function"?t:void 0,o=typeof t=="function"?t:s,i=r===void 0&&this.config.cacheMiddleware===!0;let a;if(i){this.handlers||(this.handlers=new WeakMap);const l=this.handlers;l.has(n.constructor)?a=l.get(n.constructor):(a=n.resolveMiddleware(this.middlewareStack,this.config,r),l.set(n.constructor,a))}else delete this.handlers,a=n.resolveMiddleware(this.middlewareStack,this.config,r);if(o)a(n).then(l=>o(null,l.output),l=>o(l)).catch(()=>{});else return a(n).then(l=>l.output)}destroy(){var n,t,s;(s=(t=(n=this.config)==null?void 0:n.requestHandler)==null?void 0:t.destroy)==null||s.call(t),delete this.handlers}}class D{constructor(){this.middlewareStack=Qa()}static classBuilder(){return new Yp}resolveMiddlewareWithContext(n,t,s,{middlewareFn:r,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:l,smithyContext:c,additionalContext:d,CommandCtor:m}){for(const B of r.bind(this)(m,n,t,s))this.middlewareStack.use(B);const u=n.concat(this.middlewareStack),{logger:b}=t,w={logger:b,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:l,[ud]:{commandInstance:this,...c},...d},{requestHandler:A}=t;return u.resolve(B=>A.handle(B.request,s||{}),w)}}class Yp{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=n=>n,this._outputFilterSensitiveLog=n=>n,this._serializer=null,this._deserializer=null}init(n){this._init=n}ep(n){return this._ep=n,this}m(n){return this._middlewareFn=n,this}s(n,t,s={}){return this._smithyContext={service:n,operation:t,...s},this}c(n={}){return this._additionalContext=n,this}n(n,t){return this._clientName=n,this._commandName=t,this}f(n=s=>s,t=s=>s){return this._inputFilterSensitiveLog=n,this._outputFilterSensitiveLog=t,this}ser(n){return this._serializer=n,this}de(n){return this._deserializer=n,this}build(){const n=this;let t;return t=class extends D{static getEndpointParameterInstructions(){return n._ep}constructor(...[s]){super(),this.serialize=n._serializer,this.deserialize=n._deserializer,this.input=s??{},n._init(this)}resolveMiddleware(s,r,o){return this.resolveMiddlewareWithContext(s,r,o,{CommandCtor:t,middlewareFn:n._middlewareFn,clientName:n._clientName,commandName:n._commandName,inputFilterSensitiveLog:n._inputFilterSensitiveLog,outputFilterSensitiveLog:n._outputFilterSensitiveLog,smithyContext:n._smithyContext,additionalContext:n._additionalContext})}}}}const pe="***SensitiveInformation***",Jp=(e,n)=>{for(const t of Object.keys(e)){const s=e[t],r=async function(i,a,l){const c=new s(i);if(typeof a=="function")this.send(c,a);else if(typeof l=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(c,a||{},l)}else return this.send(c,a)},o=(t[0].toLowerCase()+t.slice(1)).replace(/Command$/,"");n.prototype[o]=r}},Ae=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},ex=e=>{if(e!=null){if(typeof e=="string"){const n=parseFloat(e);if(!Number.isNaN(n))return String(n)!==String(e)&&og.warn(rg(`Expected number but observed string: ${e}`)),n}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},tx=Math.ceil(2**127*(2-2**-23)),am=e=>{const n=ex(e);if(n!==void 0&&!Number.isNaN(n)&&n!==1/0&&n!==-1/0&&Math.abs(n)>tx)throw new TypeError(`Expected 32-bit float, got ${e}`);return n},bd=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},cm=e=>_u(e,32),lm=e=>_u(e,16),dm=e=>_u(e,8),_u=(e,n)=>{const t=bd(e);if(t!==void 0&&nx(t,n)!==t)throw new TypeError(`Expected ${n}-bit integer, got ${e}`);return t},nx=(e,n)=>{switch(n){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},te=(e,n)=>{if(e==null)throw n?new TypeError(`Expected a non-null value for ${n}`):new TypeError("Expected a non-null value");return e},fe=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;const n=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${n}: ${e}`)},y=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return og.warn(rg(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},sg=e=>{if(e==null)return;const n=fe(e),t=Object.entries(n).filter(([,s])=>s!=null).map(([s])=>s);if(t.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(t.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${t} were not null.`);return n},sx=e=>am(typeof e=="string"?Ri(e):e),rx=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Ri=e=>{const n=e.match(rx);if(n===null||n[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Nt=e=>bd(typeof e=="string"?Ri(e):e),Le=e=>cm(typeof e=="string"?Ri(e):e),Za=e=>lm(typeof e=="string"?Ri(e):e),ox=e=>dm(typeof e=="string"?Ri(e):e),rg=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(n=>!n.includes("stackTraceWarning")).join(`
`),og={warn:console.warn},ix=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Au=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Dt(e){const n=e.getUTCFullYear(),t=e.getUTCMonth(),s=e.getUTCDay(),r=e.getUTCDate(),o=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),l=r<10?`0${r}`:`${r}`,c=o<10?`0${o}`:`${o}`,d=i<10?`0${i}`:`${i}`,m=a<10?`0${a}`:`${a}`;return`${ix[s]}, ${l} ${Au[t]} ${n} ${c}:${d}:${m} GMT`}const ax=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),an=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const n=ax.exec(e);if(!n)throw new TypeError("Invalid RFC-3339 date-time value");const[t,s,r,o,i,a,l,c,d]=n,m=Za(wi(s)),u=Cs(r,"month",1,12),b=Cs(o,"day",1,31),w=fa(m,u,b,{hours:i,minutes:a,seconds:l,fractionalMilliseconds:c});return d.toUpperCase()!="Z"&&w.setTime(w.getTime()-Cx(d)),w},cx=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),lx=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),dx=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),As=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let n=cx.exec(e);if(n){const[t,s,r,o,i,a,l,c]=n;return fa(Za(wi(o)),Gc(r),Cs(s,"day",1,31),{hours:i,minutes:a,seconds:l,fractionalMilliseconds:c})}if(n=lx.exec(e),n){const[t,s,r,o,i,a,l,c]=n;return mx(fa(ux(o),Gc(r),Cs(s,"day",1,31),{hours:i,minutes:a,seconds:l,fractionalMilliseconds:c}))}if(n=dx.exec(e),n){const[t,s,r,o,i,a,l,c]=n;return fa(Za(wi(c)),Gc(s),Cs(r.trimLeft(),"day",1,31),{hours:o,minutes:i,seconds:a,fractionalMilliseconds:l})}throw new TypeError("Invalid RFC-7231 date-time value")},fa=(e,n,t,s)=>{const r=n-1;return yx(e,r,t),new Date(Date.UTC(e,r,t,Cs(s.hours,"hour",0,23),Cs(s.minutes,"minute",0,59),Cs(s.seconds,"seconds",0,60),bx(s.fractionalMilliseconds)))},ux=e=>{const n=new Date().getUTCFullYear(),t=Math.floor(n/100)*100+Za(wi(e));return t<n?t+100:t},fx=50*365*24*60*60*1e3,mx=e=>e.getTime()-new Date().getTime()>fx?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,Gc=e=>{const n=Au.indexOf(e);if(n<0)throw new TypeError(`Invalid month: ${e}`);return n+1},hx=[31,28,31,30,31,30,31,31,30,31,30,31],yx=(e,n,t)=>{let s=hx[n];if(n===1&&gx(e)&&(s=29),t>s)throw new TypeError(`Invalid day for ${Au[n]} in ${e}: ${t}`)},gx=e=>e%4===0&&(e%100!==0||e%400===0),Cs=(e,n,t,s)=>{const r=ox(wi(e));if(r<t||r>s)throw new TypeError(`${n} must be between ${t} and ${s}, inclusive`);return r},bx=e=>e==null?0:sx("0."+e)*1e3,Cx=e=>{const n=e[0];let t=1;if(n=="+")t=1;else if(n=="-")t=-1;else throw new TypeError(`Offset direction, ${n}, must be "+" or "-"`);const s=Number(e.substring(1,3)),r=Number(e.substring(4,6));return t*(s*60+r)*60*1e3},wi=e=>{let n=0;for(;n<e.length-1&&e.charAt(n)==="0";)n++;return n===0?e:e.slice(n)};class Gr extends Error{constructor(n){super(n.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=n.name,this.$fault=n.$fault,this.$metadata=n.$metadata}static isInstance(n){if(!n)return!1;const t=n;return Gr.prototype.isPrototypeOf(t)||!!t.$fault&&!!t.$metadata&&(t.$fault==="client"||t.$fault==="server")}static[Symbol.hasInstance](n){if(!n)return!1;const t=n;return this===Gr?Gr.isInstance(n):Gr.isInstance(n)?t.name&&this.name?this.prototype.isPrototypeOf(n)||t.name===this.name:this.prototype.isPrototypeOf(n):!1}}const hn=(e,n={})=>{Object.entries(n).filter(([,s])=>s!==void 0).forEach(([s,r])=>{(e[s]==null||e[s]==="")&&(e[s]=r)});const t=e.message||e.Message||"UnknownError";return e.message=t,delete e.Message,e},px=({output:e,parsedBody:n,exceptionCtor:t,errorCode:s})=>{const r=Sx(e),o=r.httpStatusCode?r.httpStatusCode+"":void 0,i=new t({name:(n==null?void 0:n.code)||(n==null?void 0:n.Code)||s||o||"UnknownError",$fault:"client",$metadata:r});throw hn(i,n)},xx=e=>({output:n,parsedBody:t,errorCode:s})=>{px({output:n,parsedBody:t,exceptionCtor:e,errorCode:s})},Sx=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Ex=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},wx=e=>{const n=[];for(const t in Wa){const s=Wa[t];e[s]!==void 0&&n.push({algorithmId:()=>s,checksumConstructor:()=>e[s]})}return{addChecksumAlgorithm(t){n.push(t)},checksumAlgorithms(){return n}}},kx=e=>{const n={};return e.checksumAlgorithms().forEach(t=>{n[t.algorithmId()]=t.checksumConstructor()}),n},_x=e=>({setRetryStrategy(n){e.retryStrategy=n},retryStrategy(){return e.retryStrategy}}),Ax=e=>{const n={};return n.retryStrategy=e.retryStrategy(),n},Bx=e=>Object.assign(wx(e),_x(e)),vx=e=>Object.assign(kx(e),Ax(e)),ce=e=>Array.isArray(e)?e:[e],ig=e=>{const n="#text";for(const t in e)e.hasOwnProperty(t)&&e[t][n]!==void 0?e[t]=e[t][n]:typeof e[t]=="object"&&e[t]!==null&&(e[t]=ig(e[t]));return e},v=e=>e!=null;class Bu{trace(){}debug(){}info(){}warn(){}error(){}}function f(e,n,t){let s,r,o;if(typeof n>"u"&&typeof t>"u")s={},o=e;else{if(s=e,typeof n=="function")return r=n,o=t,Px(s,r,o);o=n}for(const i of Object.keys(o)){if(!Array.isArray(o[i])){s[i]=o[i];continue}Rx(s,null,o,i)}return s}const Px=(e,n,t)=>f(e,Object.entries(t).reduce((s,[r,o])=>(Array.isArray(o)?s[r]=o:typeof o=="function"?s[r]=[n,o()]:s[r]=[n,o],s),{})),Rx=(e,n,t,s)=>{let[r,o]=t[s];if(typeof o=="function"){let i;const a=r===void 0&&(i=o())!=null,l=typeof r=="function"&&!!r(void 0)||typeof r!="function"&&!!r;a?e[s]=i:l&&(e[s]=o())}else{const i=r===void 0&&o!=null,a=typeof r=="function"&&!!r(o)||typeof r!="function"&&!!r;(i||a)&&(e[s]=o)}};function Sc(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}const Pr=e=>e.toISOString().replace(".000Z","Z"),Tx=(e,n)=>le(e,n).then(t=>n.utf8Encoder(t));var Vc={},Wc={},um;function vu(){return um||(um=1,function(e){const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",t=n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",s="["+n+"]["+t+"]*",r=new RegExp("^"+s+"$"),o=function(a,l){const c=[];let d=l.exec(a);for(;d;){const m=[];m.startIndex=l.lastIndex-d[0].length;const u=d.length;for(let b=0;b<u;b++)m.push(d[b]);c.push(m),d=l.exec(a)}return c},i=function(a){const l=r.exec(a);return!(l===null||typeof l>"u")};e.isExist=function(a){return typeof a<"u"},e.isEmptyObject=function(a){return Object.keys(a).length===0},e.merge=function(a,l,c){if(l){const d=Object.keys(l),m=d.length;for(let u=0;u<m;u++)c==="strict"?a[d[u]]=[l[d[u]]]:a[d[u]]=l[d[u]]}},e.getValue=function(a){return e.isExist(a)?a:""},e.isName=i,e.getAllMatches=o,e.nameRegexp=s}(Wc)),Wc}var fm;function ag(){if(fm)return Vc;fm=1;const e=vu(),n={allowBooleanAttributes:!1,unpairedTags:[]};Vc.validate=function(p,E){E=Object.assign({},n,E);const O=[];let x=!1,N=!1;p[0]==="\uFEFF"&&(p=p.substr(1));for(let S=0;S<p.length;S++)if(p[S]==="<"&&p[S+1]==="?"){if(S+=2,S=s(p,S),S.err)return S}else if(p[S]==="<"){let W=S;if(S++,p[S]==="!"){S=r(p,S);continue}else{let Q=!1;p[S]==="/"&&(Q=!0,S++);let $="";for(;S<p.length&&p[S]!==">"&&p[S]!==" "&&p[S]!=="	"&&p[S]!==`
`&&p[S]!=="\r";S++)$+=p[S];if($=$.trim(),$[$.length-1]==="/"&&($=$.substring(0,$.length-1),S--),!w($)){let j;return $.trim().length===0?j="Invalid space after '<'.":j="Tag '"+$+"' is an invalid name.",u("InvalidTag",j,A(p,S))}const ve=a(p,S);if(ve===!1)return u("InvalidAttr","Attributes for '"+$+"' have open quote.",A(p,S));let oe=ve.value;if(S=ve.index,oe[oe.length-1]==="/"){const j=S-oe.length;oe=oe.substring(0,oe.length-1);const Pe=c(oe,E);if(Pe===!0)x=!0;else return u(Pe.err.code,Pe.err.msg,A(p,j+Pe.err.line))}else if(Q)if(ve.tagClosed){if(oe.trim().length>0)return u("InvalidTag","Closing tag '"+$+"' can't have attributes or invalid starting.",A(p,W));if(O.length===0)return u("InvalidTag","Closing tag '"+$+"' has not been opened.",A(p,W));{const j=O.pop();if($!==j.tagName){let Pe=A(p,j.tagStartPos);return u("InvalidTag","Expected closing tag '"+j.tagName+"' (opened in line "+Pe.line+", col "+Pe.col+") instead of closing tag '"+$+"'.",A(p,W))}O.length==0&&(N=!0)}}else return u("InvalidTag","Closing tag '"+$+"' doesn't have proper closing.",A(p,S));else{const j=c(oe,E);if(j!==!0)return u(j.err.code,j.err.msg,A(p,S-oe.length+j.err.line));if(N===!0)return u("InvalidXml","Multiple possible root nodes found.",A(p,S));E.unpairedTags.indexOf($)!==-1||O.push({tagName:$,tagStartPos:W}),x=!0}for(S++;S<p.length;S++)if(p[S]==="<")if(p[S+1]==="!"){S++,S=r(p,S);continue}else if(p[S+1]==="?"){if(S=s(p,++S),S.err)return S}else break;else if(p[S]==="&"){const j=m(p,S);if(j==-1)return u("InvalidChar","char '&' is not expected.",A(p,S));S=j}else if(N===!0&&!t(p[S]))return u("InvalidXml","Extra text at the end",A(p,S));p[S]==="<"&&S--}}else{if(t(p[S]))continue;return u("InvalidChar","char '"+p[S]+"' is not expected.",A(p,S))}if(x){if(O.length==1)return u("InvalidTag","Unclosed tag '"+O[0].tagName+"'.",A(p,O[0].tagStartPos));if(O.length>0)return u("InvalidXml","Invalid '"+JSON.stringify(O.map(S=>S.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return u("InvalidXml","Start tag expected.",1);return!0};function t(p){return p===" "||p==="	"||p===`
`||p==="\r"}function s(p,E){const O=E;for(;E<p.length;E++)if(p[E]=="?"||p[E]==" "){const x=p.substr(O,E-O);if(E>5&&x==="xml")return u("InvalidXml","XML declaration allowed only at the start of the document.",A(p,E));if(p[E]=="?"&&p[E+1]==">"){E++;break}else continue}return E}function r(p,E){if(p.length>E+5&&p[E+1]==="-"&&p[E+2]==="-"){for(E+=3;E<p.length;E++)if(p[E]==="-"&&p[E+1]==="-"&&p[E+2]===">"){E+=2;break}}else if(p.length>E+8&&p[E+1]==="D"&&p[E+2]==="O"&&p[E+3]==="C"&&p[E+4]==="T"&&p[E+5]==="Y"&&p[E+6]==="P"&&p[E+7]==="E"){let O=1;for(E+=8;E<p.length;E++)if(p[E]==="<")O++;else if(p[E]===">"&&(O--,O===0))break}else if(p.length>E+9&&p[E+1]==="["&&p[E+2]==="C"&&p[E+3]==="D"&&p[E+4]==="A"&&p[E+5]==="T"&&p[E+6]==="A"&&p[E+7]==="["){for(E+=8;E<p.length;E++)if(p[E]==="]"&&p[E+1]==="]"&&p[E+2]===">"){E+=2;break}}return E}const o='"',i="'";function a(p,E){let O="",x="",N=!1;for(;E<p.length;E++){if(p[E]===o||p[E]===i)x===""?x=p[E]:x!==p[E]||(x="");else if(p[E]===">"&&x===""){N=!0;break}O+=p[E]}return x!==""?!1:{value:O,index:E,tagClosed:N}}const l=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function c(p,E){const O=e.getAllMatches(p,l),x={};for(let N=0;N<O.length;N++){if(O[N][1].length===0)return u("InvalidAttr","Attribute '"+O[N][2]+"' has no space in starting.",B(O[N]));if(O[N][3]!==void 0&&O[N][4]===void 0)return u("InvalidAttr","Attribute '"+O[N][2]+"' is without value.",B(O[N]));if(O[N][3]===void 0&&!E.allowBooleanAttributes)return u("InvalidAttr","boolean attribute '"+O[N][2]+"' is not allowed.",B(O[N]));const S=O[N][2];if(!b(S))return u("InvalidAttr","Attribute '"+S+"' is an invalid name.",B(O[N]));if(!x.hasOwnProperty(S))x[S]=1;else return u("InvalidAttr","Attribute '"+S+"' is repeated.",B(O[N]))}return!0}function d(p,E){let O=/\d/;for(p[E]==="x"&&(E++,O=/[\da-fA-F]/);E<p.length;E++){if(p[E]===";")return E;if(!p[E].match(O))break}return-1}function m(p,E){if(E++,p[E]===";")return-1;if(p[E]==="#")return E++,d(p,E);let O=0;for(;E<p.length;E++,O++)if(!(p[E].match(/\w/)&&O<20)){if(p[E]===";")break;return-1}return E}function u(p,E,O){return{err:{code:p,msg:E,line:O.line||O,col:O.col}}}function b(p){return e.isName(p)}function w(p){return e.isName(p)}function A(p,E){const O=p.substring(0,E).split(/\r?\n/);return{line:O.length,col:O[O.length-1].length+1}}function B(p){return p.startIndex+p[1].length}return Vc}var Yi={},mm;function Ix(){if(mm)return Yi;mm=1;const e={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,s){return s},attributeValueProcessor:function(t,s){return s},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,s,r){return t}},n=function(t){return Object.assign({},e,t)};return Yi.buildOptions=n,Yi.defaultOptions=e,Yi}var Xc,hm;function Ox(){if(hm)return Xc;hm=1;class e{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,s){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:s})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}return Xc=e,Xc}var Qc,ym;function Mx(){if(ym)return Qc;ym=1;const e=vu();function n(c,d){const m={};if(c[d+3]==="O"&&c[d+4]==="C"&&c[d+5]==="T"&&c[d+6]==="Y"&&c[d+7]==="P"&&c[d+8]==="E"){d=d+9;let u=1,b=!1,w=!1,A="";for(;d<c.length;d++)if(c[d]==="<"&&!w){if(b&&r(c,d))d+=7,[entityName,val,d]=t(c,d+1),val.indexOf("&")===-1&&(m[l(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(b&&o(c,d))d+=8;else if(b&&i(c,d))d+=8;else if(b&&a(c,d))d+=9;else if(s)w=!0;else throw new Error("Invalid DOCTYPE");u++,A=""}else if(c[d]===">"){if(w?c[d-1]==="-"&&c[d-2]==="-"&&(w=!1,u--):u--,u===0)break}else c[d]==="["?b=!0:A+=c[d];if(u!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:m,i:d}}function t(c,d){let m="";for(;d<c.length&&c[d]!=="'"&&c[d]!=='"';d++)m+=c[d];if(m=m.trim(),m.indexOf(" ")!==-1)throw new Error("External entites are not supported");const u=c[d++];let b="";for(;d<c.length&&c[d]!==u;d++)b+=c[d];return[m,b,d]}function s(c,d){return c[d+1]==="!"&&c[d+2]==="-"&&c[d+3]==="-"}function r(c,d){return c[d+1]==="!"&&c[d+2]==="E"&&c[d+3]==="N"&&c[d+4]==="T"&&c[d+5]==="I"&&c[d+6]==="T"&&c[d+7]==="Y"}function o(c,d){return c[d+1]==="!"&&c[d+2]==="E"&&c[d+3]==="L"&&c[d+4]==="E"&&c[d+5]==="M"&&c[d+6]==="E"&&c[d+7]==="N"&&c[d+8]==="T"}function i(c,d){return c[d+1]==="!"&&c[d+2]==="A"&&c[d+3]==="T"&&c[d+4]==="T"&&c[d+5]==="L"&&c[d+6]==="I"&&c[d+7]==="S"&&c[d+8]==="T"}function a(c,d){return c[d+1]==="!"&&c[d+2]==="N"&&c[d+3]==="O"&&c[d+4]==="T"&&c[d+5]==="A"&&c[d+6]==="T"&&c[d+7]==="I"&&c[d+8]==="O"&&c[d+9]==="N"}function l(c){if(e.isName(c))return c;throw new Error(`Invalid entity name ${c}`)}return Qc=n,Qc}var Zc,gm;function Nx(){if(gm)return Zc;gm=1;const e=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,t={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function s(i,a={}){if(a=Object.assign({},t,a),!i||typeof i!="string")return i;let l=i.trim();if(a.skipLike!==void 0&&a.skipLike.test(l))return i;if(i==="0")return 0;if(a.hex&&e.test(l))return o(l,16);if(l.search(/[eE]/)!==-1){const c=l.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(c){if(a.leadingZeros)l=(c[1]||"")+c[3];else if(!(c[2]==="0"&&c[3][0]==="."))return i;return a.eNotation?Number(l):i}else return i}else{const c=n.exec(l);if(c){const d=c[1],m=c[2];let u=r(c[3]);if(!a.leadingZeros&&m.length>0&&d&&l[2]!==".")return i;if(!a.leadingZeros&&m.length>0&&!d&&l[1]!==".")return i;if(a.leadingZeros&&m===i)return 0;{const b=Number(l),w=""+b;return w.search(/[eE]/)!==-1?a.eNotation?b:i:l.indexOf(".")!==-1?w==="0"&&u===""||w===u||d&&w==="-"+u?b:i:m?u===w||d+u===w?b:i:l===w||l===d+w?b:i}}else return i}}function r(i){return i&&i.indexOf(".")!==-1&&(i=i.replace(/0+$/,""),i==="."?i="0":i[0]==="."?i="0"+i:i[i.length-1]==="."&&(i=i.substr(0,i.length-1))),i}function o(i,a){if(parseInt)return parseInt(i,a);if(Number.parseInt)return Number.parseInt(i,a);if(window&&window.parseInt)return window.parseInt(i,a);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}return Zc=s,Zc}var Yc,bm;function Dx(){if(bm)return Yc;bm=1;const e=vu(),n=Ox(),t=Mx(),s=Nx();class r{constructor(N){this.options=N,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(S,W)=>String.fromCharCode(Number.parseInt(W,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(S,W)=>String.fromCharCode(Number.parseInt(W,16))}},this.addExternalEntities=o,this.parseXml=d,this.parseTextData=i,this.resolveNameSpace=a,this.buildAttributesMap=c,this.isItStopNode=w,this.replaceEntitiesValue=u,this.readStopNodeData=E,this.saveTextToParentTag=b,this.addChild=m}}function o(x){const N=Object.keys(x);for(let S=0;S<N.length;S++){const W=N[S];this.lastEntities[W]={regex:new RegExp("&"+W+";","g"),val:x[W]}}}function i(x,N,S,W,Q,$,ve){if(x!==void 0&&(this.options.trimValues&&!W&&(x=x.trim()),x.length>0)){ve||(x=this.replaceEntitiesValue(x));const oe=this.options.tagValueProcessor(N,x,S,Q,$);return oe==null?x:typeof oe!=typeof x||oe!==x?oe:this.options.trimValues?O(x,this.options.parseTagValue,this.options.numberParseOptions):x.trim()===x?O(x,this.options.parseTagValue,this.options.numberParseOptions):x}}function a(x){if(this.options.removeNSPrefix){const N=x.split(":"),S=x.charAt(0)==="/"?"/":"";if(N[0]==="xmlns")return"";N.length===2&&(x=S+N[1])}return x}const l=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function c(x,N,S){if(!this.options.ignoreAttributes&&typeof x=="string"){const W=e.getAllMatches(x,l),Q=W.length,$={};for(let ve=0;ve<Q;ve++){const oe=this.resolveNameSpace(W[ve][1]);let j=W[ve][4],Pe=this.options.attributeNamePrefix+oe;if(oe.length)if(this.options.transformAttributeName&&(Pe=this.options.transformAttributeName(Pe)),Pe==="__proto__"&&(Pe="#__proto__"),j!==void 0){this.options.trimValues&&(j=j.trim()),j=this.replaceEntitiesValue(j);const Ee=this.options.attributeValueProcessor(oe,j,N);Ee==null?$[Pe]=j:typeof Ee!=typeof j||Ee!==j?$[Pe]=Ee:$[Pe]=O(j,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&($[Pe]=!0)}if(!Object.keys($).length)return;if(this.options.attributesGroupName){const ve={};return ve[this.options.attributesGroupName]=$,ve}return $}}const d=function(x){x=x.replace(/\r\n?/g,`
`);const N=new n("!xml");let S=N,W="",Q="";for(let $=0;$<x.length;$++)if(x[$]==="<")if(x[$+1]==="/"){const oe=B(x,">",$,"Closing Tag is not closed.");let j=x.substring($+2,oe).trim();if(this.options.removeNSPrefix){const Bt=j.indexOf(":");Bt!==-1&&(j=j.substr(Bt+1))}this.options.transformTagName&&(j=this.options.transformTagName(j)),S&&(W=this.saveTextToParentTag(W,S,Q));const Pe=Q.substring(Q.lastIndexOf(".")+1);if(j&&this.options.unpairedTags.indexOf(j)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${j}>`);let Ee=0;Pe&&this.options.unpairedTags.indexOf(Pe)!==-1?(Ee=Q.lastIndexOf(".",Q.lastIndexOf(".")-1),this.tagsNodeStack.pop()):Ee=Q.lastIndexOf("."),Q=Q.substring(0,Ee),S=this.tagsNodeStack.pop(),W="",$=oe}else if(x[$+1]==="?"){let oe=p(x,$,!1,"?>");if(!oe)throw new Error("Pi Tag is not closed.");if(W=this.saveTextToParentTag(W,S,Q),!(this.options.ignoreDeclaration&&oe.tagName==="?xml"||this.options.ignorePiTags)){const j=new n(oe.tagName);j.add(this.options.textNodeName,""),oe.tagName!==oe.tagExp&&oe.attrExpPresent&&(j[":@"]=this.buildAttributesMap(oe.tagExp,Q,oe.tagName)),this.addChild(S,j,Q)}$=oe.closeIndex+1}else if(x.substr($+1,3)==="!--"){const oe=B(x,"-->",$+4,"Comment is not closed.");if(this.options.commentPropName){const j=x.substring($+4,oe-2);W=this.saveTextToParentTag(W,S,Q),S.add(this.options.commentPropName,[{[this.options.textNodeName]:j}])}$=oe}else if(x.substr($+1,2)==="!D"){const oe=t(x,$);this.docTypeEntities=oe.entities,$=oe.i}else if(x.substr($+1,2)==="!["){const oe=B(x,"]]>",$,"CDATA is not closed.")-2,j=x.substring($+9,oe);W=this.saveTextToParentTag(W,S,Q);let Pe=this.parseTextData(j,S.tagname,Q,!0,!1,!0,!0);Pe==null&&(Pe=""),this.options.cdataPropName?S.add(this.options.cdataPropName,[{[this.options.textNodeName]:j}]):S.add(this.options.textNodeName,Pe),$=oe+2}else{let oe=p(x,$,this.options.removeNSPrefix),j=oe.tagName;const Pe=oe.rawTagName;let Ee=oe.tagExp,Bt=oe.attrExpPresent,cs=oe.closeIndex;this.options.transformTagName&&(j=this.options.transformTagName(j)),S&&W&&S.tagname!=="!xml"&&(W=this.saveTextToParentTag(W,S,Q,!1));const ts=S;if(ts&&this.options.unpairedTags.indexOf(ts.tagname)!==-1&&(S=this.tagsNodeStack.pop(),Q=Q.substring(0,Q.lastIndexOf("."))),j!==N.tagname&&(Q+=Q?"."+j:j),this.isItStopNode(this.options.stopNodes,Q,j)){let vt="";if(Ee.length>0&&Ee.lastIndexOf("/")===Ee.length-1)j[j.length-1]==="/"?(j=j.substr(0,j.length-1),Q=Q.substr(0,Q.length-1),Ee=j):Ee=Ee.substr(0,Ee.length-1),$=oe.closeIndex;else if(this.options.unpairedTags.indexOf(j)!==-1)$=oe.closeIndex;else{const Kn=this.readStopNodeData(x,Pe,cs+1);if(!Kn)throw new Error(`Unexpected end of ${Pe}`);$=Kn.i,vt=Kn.tagContent}const Ye=new n(j);j!==Ee&&Bt&&(Ye[":@"]=this.buildAttributesMap(Ee,Q,j)),vt&&(vt=this.parseTextData(vt,j,Q,!0,Bt,!0,!0)),Q=Q.substr(0,Q.lastIndexOf(".")),Ye.add(this.options.textNodeName,vt),this.addChild(S,Ye,Q)}else{if(Ee.length>0&&Ee.lastIndexOf("/")===Ee.length-1){j[j.length-1]==="/"?(j=j.substr(0,j.length-1),Q=Q.substr(0,Q.length-1),Ee=j):Ee=Ee.substr(0,Ee.length-1),this.options.transformTagName&&(j=this.options.transformTagName(j));const vt=new n(j);j!==Ee&&Bt&&(vt[":@"]=this.buildAttributesMap(Ee,Q,j)),this.addChild(S,vt,Q),Q=Q.substr(0,Q.lastIndexOf("."))}else{const vt=new n(j);this.tagsNodeStack.push(S),j!==Ee&&Bt&&(vt[":@"]=this.buildAttributesMap(Ee,Q,j)),this.addChild(S,vt,Q),S=vt}W="",$=cs}}else W+=x[$];return N.child};function m(x,N,S){const W=this.options.updateTag(N.tagname,S,N[":@"]);W===!1||(typeof W=="string"&&(N.tagname=W),x.addChild(N))}const u=function(x){if(this.options.processEntities){for(let N in this.docTypeEntities){const S=this.docTypeEntities[N];x=x.replace(S.regx,S.val)}for(let N in this.lastEntities){const S=this.lastEntities[N];x=x.replace(S.regex,S.val)}if(this.options.htmlEntities)for(let N in this.htmlEntities){const S=this.htmlEntities[N];x=x.replace(S.regex,S.val)}x=x.replace(this.ampEntity.regex,this.ampEntity.val)}return x};function b(x,N,S,W){return x&&(W===void 0&&(W=Object.keys(N.child).length===0),x=this.parseTextData(x,N.tagname,S,!1,N[":@"]?Object.keys(N[":@"]).length!==0:!1,W),x!==void 0&&x!==""&&N.add(this.options.textNodeName,x),x=""),x}function w(x,N,S){const W="*."+S;for(const Q in x){const $=x[Q];if(W===$||N===$)return!0}return!1}function A(x,N,S=">"){let W,Q="";for(let $=N;$<x.length;$++){let ve=x[$];if(W)ve===W&&(W="");else if(ve==='"'||ve==="'")W=ve;else if(ve===S[0])if(S[1]){if(x[$+1]===S[1])return{data:Q,index:$}}else return{data:Q,index:$};else ve==="	"&&(ve=" ");Q+=ve}}function B(x,N,S,W){const Q=x.indexOf(N,S);if(Q===-1)throw new Error(W);return Q+N.length-1}function p(x,N,S,W=">"){const Q=A(x,N+1,W);if(!Q)return;let $=Q.data;const ve=Q.index,oe=$.search(/\s/);let j=$,Pe=!0;oe!==-1&&(j=$.substring(0,oe),$=$.substring(oe+1).trimStart());const Ee=j;if(S){const Bt=j.indexOf(":");Bt!==-1&&(j=j.substr(Bt+1),Pe=j!==Q.data.substr(Bt+1))}return{tagName:j,tagExp:$,closeIndex:ve,attrExpPresent:Pe,rawTagName:Ee}}function E(x,N,S){const W=S;let Q=1;for(;S<x.length;S++)if(x[S]==="<")if(x[S+1]==="/"){const $=B(x,">",S,`${N} is not closed`);if(x.substring(S+2,$).trim()===N&&(Q--,Q===0))return{tagContent:x.substring(W,S),i:$};S=$}else if(x[S+1]==="?")S=B(x,"?>",S+1,"StopNode is not closed.");else if(x.substr(S+1,3)==="!--")S=B(x,"-->",S+3,"StopNode is not closed.");else if(x.substr(S+1,2)==="![")S=B(x,"]]>",S,"StopNode is not closed.")-2;else{const $=p(x,S,">");$&&(($&&$.tagName)===N&&$.tagExp[$.tagExp.length-1]!=="/"&&Q++,S=$.closeIndex)}}function O(x,N,S){if(N&&typeof x=="string"){const W=x.trim();return W==="true"?!0:W==="false"?!1:s(x,S)}else return e.isExist(x)?x:""}return Yc=r,Yc}var Jc={},Cm;function Fx(){if(Cm)return Jc;Cm=1;function e(o,i){return n(o,i)}function n(o,i,a){let l;const c={};for(let d=0;d<o.length;d++){const m=o[d],u=t(m);let b="";if(a===void 0?b=u:b=a+"."+u,u===i.textNodeName)l===void 0?l=m[u]:l+=""+m[u];else{if(u===void 0)continue;if(m[u]){let w=n(m[u],i,b);const A=r(w,i);m[":@"]?s(w,m[":@"],b,i):Object.keys(w).length===1&&w[i.textNodeName]!==void 0&&!i.alwaysCreateTextNode?w=w[i.textNodeName]:Object.keys(w).length===0&&(i.alwaysCreateTextNode?w[i.textNodeName]="":w=""),c[u]!==void 0&&c.hasOwnProperty(u)?(Array.isArray(c[u])||(c[u]=[c[u]]),c[u].push(w)):i.isArray(u,b,A)?c[u]=[w]:c[u]=w}}}return typeof l=="string"?l.length>0&&(c[i.textNodeName]=l):l!==void 0&&(c[i.textNodeName]=l),c}function t(o){const i=Object.keys(o);for(let a=0;a<i.length;a++){const l=i[a];if(l!==":@")return l}}function s(o,i,a,l){if(i){const c=Object.keys(i),d=c.length;for(let m=0;m<d;m++){const u=c[m];l.isArray(u,a+"."+u,!0,!0)?o[u]=[i[u]]:o[u]=i[u]}}}function r(o,i){const{textNodeName:a}=i,l=Object.keys(o).length;return!!(l===0||l===1&&(o[a]||typeof o[a]=="boolean"||o[a]===0))}return Jc.prettify=e,Jc}var el,pm;function Lx(){if(pm)return el;pm=1;const{buildOptions:e}=Ix(),n=Dx(),{prettify:t}=Fx(),s=ag();class r{constructor(i){this.externalEntities={},this.options=e(i)}parse(i,a){if(typeof i!="string")if(i.toString)i=i.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(a){a===!0&&(a={});const d=s.validate(i,a);if(d!==!0)throw Error(`${d.err.msg}:${d.err.line}:${d.err.col}`)}const l=new n(this.options);l.addExternalEntities(this.externalEntities);const c=l.parseXml(i);return this.options.preserveOrder||c===void 0?c:t(c,this.options)}addEntity(i,a){if(a.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(i.indexOf("&")!==-1||i.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(a==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[i]=a}}return el=r,el}var tl,xm;function Ux(){if(xm)return tl;xm=1;const e=`
`;function n(a,l){let c="";return l.format&&l.indentBy.length>0&&(c=e),t(a,l,"",c)}function t(a,l,c,d){let m="",u=!1;for(let b=0;b<a.length;b++){const w=a[b],A=s(w);if(A===void 0)continue;let B="";if(c.length===0?B=A:B=`${c}.${A}`,A===l.textNodeName){let N=w[A];o(B,l)||(N=l.tagValueProcessor(A,N),N=i(N,l)),u&&(m+=d),m+=N,u=!1;continue}else if(A===l.cdataPropName){u&&(m+=d),m+=`<![CDATA[${w[A][0][l.textNodeName]}]]>`,u=!1;continue}else if(A===l.commentPropName){m+=d+`<!--${w[A][0][l.textNodeName]}-->`,u=!0;continue}else if(A[0]==="?"){const N=r(w[":@"],l),S=A==="?xml"?"":d;let W=w[A][0][l.textNodeName];W=W.length!==0?" "+W:"",m+=S+`<${A}${W}${N}?>`,u=!0;continue}let p=d;p!==""&&(p+=l.indentBy);const E=r(w[":@"],l),O=d+`<${A}${E}`,x=t(w[A],l,B,p);l.unpairedTags.indexOf(A)!==-1?l.suppressUnpairedNode?m+=O+">":m+=O+"/>":(!x||x.length===0)&&l.suppressEmptyNode?m+=O+"/>":x&&x.endsWith(">")?m+=O+`>${x}${d}</${A}>`:(m+=O+">",x&&d!==""&&(x.includes("/>")||x.includes("</"))?m+=d+l.indentBy+x+d:m+=x,m+=`</${A}>`),u=!0}return m}function s(a){const l=Object.keys(a);for(let c=0;c<l.length;c++){const d=l[c];if(a.hasOwnProperty(d)&&d!==":@")return d}}function r(a,l){let c="";if(a&&!l.ignoreAttributes)for(let d in a){if(!a.hasOwnProperty(d))continue;let m=l.attributeValueProcessor(d,a[d]);m=i(m,l),m===!0&&l.suppressBooleanAttributes?c+=` ${d.substr(l.attributeNamePrefix.length)}`:c+=` ${d.substr(l.attributeNamePrefix.length)}="${m}"`}return c}function o(a,l){a=a.substr(0,a.length-l.textNodeName.length-1);let c=a.substr(a.lastIndexOf(".")+1);for(let d in l.stopNodes)if(l.stopNodes[d]===a||l.stopNodes[d]==="*."+c)return!0;return!1}function i(a,l){if(a&&a.length>0&&l.processEntities)for(let c=0;c<l.entities.length;c++){const d=l.entities[c];a=a.replace(d.regex,d.val)}return a}return tl=n,tl}var nl,Sm;function zx(){if(Sm)return nl;Sm=1;const e=Ux(),n={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(i,a){return a},attributeValueProcessor:function(i,a){return a},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function t(i){this.options=Object.assign({},n,i),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=o),this.processTextOrObjNode=s,this.options.format?(this.indentate=r,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}t.prototype.build=function(i){return this.options.preserveOrder?e(i,this.options):(Array.isArray(i)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(i={[this.options.arrayNodeName]:i}),this.j2x(i,0).val)},t.prototype.j2x=function(i,a){let l="",c="";for(let d in i)if(Object.prototype.hasOwnProperty.call(i,d))if(typeof i[d]>"u")this.isAttribute(d)&&(c+="");else if(i[d]===null)this.isAttribute(d)?c+="":d[0]==="?"?c+=this.indentate(a)+"<"+d+"?"+this.tagEndChar:c+=this.indentate(a)+"<"+d+"/"+this.tagEndChar;else if(i[d]instanceof Date)c+=this.buildTextValNode(i[d],d,"",a);else if(typeof i[d]!="object"){const m=this.isAttribute(d);if(m)l+=this.buildAttrPairStr(m,""+i[d]);else if(d===this.options.textNodeName){let u=this.options.tagValueProcessor(d,""+i[d]);c+=this.replaceEntitiesValue(u)}else c+=this.buildTextValNode(i[d],d,"",a)}else if(Array.isArray(i[d])){const m=i[d].length;let u="",b="";for(let w=0;w<m;w++){const A=i[d][w];if(!(typeof A>"u"))if(A===null)d[0]==="?"?c+=this.indentate(a)+"<"+d+"?"+this.tagEndChar:c+=this.indentate(a)+"<"+d+"/"+this.tagEndChar;else if(typeof A=="object")if(this.options.oneListGroup){const B=this.j2x(A,a+1);u+=B.val,this.options.attributesGroupName&&A.hasOwnProperty(this.options.attributesGroupName)&&(b+=B.attrStr)}else u+=this.processTextOrObjNode(A,d,a);else if(this.options.oneListGroup){let B=this.options.tagValueProcessor(d,A);B=this.replaceEntitiesValue(B),u+=B}else u+=this.buildTextValNode(A,d,"",a)}this.options.oneListGroup&&(u=this.buildObjectNode(u,d,b,a)),c+=u}else if(this.options.attributesGroupName&&d===this.options.attributesGroupName){const m=Object.keys(i[d]),u=m.length;for(let b=0;b<u;b++)l+=this.buildAttrPairStr(m[b],""+i[d][m[b]])}else c+=this.processTextOrObjNode(i[d],d,a);return{attrStr:l,val:c}},t.prototype.buildAttrPairStr=function(i,a){return a=this.options.attributeValueProcessor(i,""+a),a=this.replaceEntitiesValue(a),this.options.suppressBooleanAttributes&&a==="true"?" "+i:" "+i+'="'+a+'"'};function s(i,a,l){const c=this.j2x(i,l+1);return i[this.options.textNodeName]!==void 0&&Object.keys(i).length===1?this.buildTextValNode(i[this.options.textNodeName],a,c.attrStr,l):this.buildObjectNode(c.val,a,c.attrStr,l)}t.prototype.buildObjectNode=function(i,a,l,c){if(i==="")return a[0]==="?"?this.indentate(c)+"<"+a+l+"?"+this.tagEndChar:this.indentate(c)+"<"+a+l+this.closeTag(a)+this.tagEndChar;{let d="</"+a+this.tagEndChar,m="";return a[0]==="?"&&(m="?",d=""),(l||l==="")&&i.indexOf("<")===-1?this.indentate(c)+"<"+a+l+m+">"+i+d:this.options.commentPropName!==!1&&a===this.options.commentPropName&&m.length===0?this.indentate(c)+`<!--${i}-->`+this.newLine:this.indentate(c)+"<"+a+l+m+this.tagEndChar+i+this.indentate(c)+d}},t.prototype.closeTag=function(i){let a="";return this.options.unpairedTags.indexOf(i)!==-1?this.options.suppressUnpairedNode||(a="/"):this.options.suppressEmptyNode?a="/":a=`></${i}`,a},t.prototype.buildTextValNode=function(i,a,l,c){if(this.options.cdataPropName!==!1&&a===this.options.cdataPropName)return this.indentate(c)+`<![CDATA[${i}]]>`+this.newLine;if(this.options.commentPropName!==!1&&a===this.options.commentPropName)return this.indentate(c)+`<!--${i}-->`+this.newLine;if(a[0]==="?")return this.indentate(c)+"<"+a+l+"?"+this.tagEndChar;{let d=this.options.tagValueProcessor(a,i);return d=this.replaceEntitiesValue(d),d===""?this.indentate(c)+"<"+a+l+this.closeTag(a)+this.tagEndChar:this.indentate(c)+"<"+a+l+">"+d+"</"+a+this.tagEndChar}},t.prototype.replaceEntitiesValue=function(i){if(i&&i.length>0&&this.options.processEntities)for(let a=0;a<this.options.entities.length;a++){const l=this.options.entities[a];i=i.replace(l.regex,l.val)}return i};function r(i){return this.options.indentBy.repeat(i)}function o(i){return i.startsWith(this.options.attributeNamePrefix)&&i!==this.options.textNodeName?i.substr(this.attrPrefixLen):!1}return nl=t,nl}var sl,Em;function qx(){if(Em)return sl;Em=1;const e=ag(),n=Lx(),t=zx();return sl={XMLParser:n,XMLValidator:e,XMLBuilder:t},sl}var $x=qx();const de=(e,n)=>Tx(e,n).then(t=>{if(t.length){const s=new $x.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(l,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});s.addEntity("#xD","\r"),s.addEntity("#10",`
`);let r;try{r=s.parse(t,!0)}catch(l){throw l&&typeof l=="object"&&Object.defineProperty(l,"$responseBodyText",{value:t}),l}const o="#text",i=Object.keys(r)[0],a=r[i];return a[o]&&(a[i]=a[o],delete a[o]),ig(a)}return{}}),jx=async(e,n)=>{const t=await de(e,n);return t.Error&&(t.Error.message=t.Error.message??t.Error.Message),t},Kx=(e,n)=>{var t;if(((t=n==null?void 0:n.Error)==null?void 0:t.Code)!==void 0)return n.Error.Code;if((n==null?void 0:n.Code)!==void 0)return n.Code;if(e.statusCode==404)return"NotFound"},Cd=[He.CRC32,He.CRC32C,He.CRC64NVME,He.SHA1,He.SHA256],Hx=[He.SHA256,He.SHA1,He.CRC32,He.CRC32C,He.CRC64NVME],Gx=(e,{requestChecksumRequired:n,requestAlgorithmMember:t,requestChecksumCalculation:s})=>{if(!t)return s===To.WHEN_SUPPORTED||n?fd:void 0;if(!e[t])return;const r=e[t];if(!Cd.includes(r))throw new Error(`The checksum algorithm "${r}" is not supported by the client. Select one of ${Cd}.`);return r},Pu=e=>e===He.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`,Vx=(e,n)=>{const t=e.toLowerCase();for(const s of Object.keys(n))if(t===s.toLowerCase())return!0;return!1},Wx=(e,n)=>{const t=e.toLowerCase();for(const s of Object.keys(n))if(s.toLowerCase().startsWith(t))return!0;return!1},cg=e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!tg(e);function Ru(e,n,t,s){function r(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function a(d){try{c(s.next(d))}catch(m){i(m)}}function l(d){try{c(s.throw(d))}catch(m){i(m)}}function c(d){d.done?o(d.value):r(d.value).then(a,l)}c((s=s.apply(e,n||[])).next())})}function Tu(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,r,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(c){return function(d){return l([c,d])}}function l(c){if(s)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(t=0)),t;)try{if(s=1,r&&(o=c[0]&2?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,r=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=n.call(e,t)}catch(d){c=[6,d],r=0}finally{s=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function lg(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],s=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}const dg=e=>new TextEncoder().encode(e);var Xx=typeof ui.Buffer<"u"&&ui.Buffer.from?function(e){return ui.Buffer.from(e,"utf8")}:dg;function Bs(e){return e instanceof Uint8Array?e:typeof e=="string"?Xx(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function ki(e){return typeof e=="string"?e.length===0:e.byteLength===0}function ug(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}function fg(e){if(!Uint32Array.from){for(var n=new Uint32Array(e.length),t=0;t<e.length;)n[t]=e[t],t+=1;return n}return Uint32Array.from(e)}var Qx=function(){function e(){this.crc32c=new wm}return e.prototype.update=function(n){ki(n)||this.crc32c.update(Bs(n))},e.prototype.digest=function(){return Ru(this,void 0,void 0,function(){return Tu(this,function(n){return[2,ug(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new wm},e}(),wm=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(n){var t,s;try{for(var r=lg(n),o=r.next();!o.done;o=r.next()){var i=o.value;this.checksum=this.checksum>>>8^Yx[(this.checksum^i)&255]}}catch(a){t={error:a}}finally{try{o&&!o.done&&(s=r.return)&&s.call(r)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}(),Zx=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],Yx=fg(Zx),Jx=function(){function e(){this.crc32=new Ya}return e.prototype.update=function(n){ki(n)||this.crc32.update(Bs(n))},e.prototype.digest=function(){return Ru(this,void 0,void 0,function(){return Tu(this,function(n){return[2,ug(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new Ya},e}(),Ya=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(n){var t,s;try{for(var r=lg(n),o=r.next();!o.done;o=r.next()){var i=o.value;this.checksum=this.checksum>>>8^tS[(this.checksum^i)&255]}}catch(a){t={error:a}}finally{try{o&&!o.done&&(s=r.return)&&s.call(r)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}(),eS=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],tS=fg(eS);const nS=()=>Jx,mg=(e,n)=>{switch(e){case He.MD5:return n.md5;case He.CRC32:return nS();case He.CRC32C:return Qx;case He.CRC64NVME:throw new Error(`Please check whether you have installed the "@aws-sdk/crc64-nvme-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/crc64-nvme-crt");] or an ESM equivalent such as [import "@aws-sdk/crc64-nvme-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);case He.SHA1:return n.sha1;case He.SHA256:return n.sha256;default:throw new Error(`Unsupported checksum algorithm: ${e}`)}},hg=(e,n)=>{const t=new e;return t.update(Io(n||"")),t.digest()},sS={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},rS=(e,n)=>(t,s)=>async r=>{if(!pt.isInstance(r.request)||Wx("x-amz-checksum-",r.request.headers))return t(r);const{request:o,input:i}=r,{body:a,headers:l}=o,{base64Encoder:c,streamHasher:d}=e,{requestChecksumRequired:m,requestAlgorithmMember:u}=n,b=await e.requestChecksumCalculation(),w=u==null?void 0:u.name,A=u==null?void 0:u.httpHeader;w&&!i[w]&&(b===To.WHEN_SUPPORTED||m)&&(i[w]=fd,A&&(l[A]=fd));const B=Gx(i,{requestChecksumRequired:m,requestAlgorithmMember:u==null?void 0:u.name,requestChecksumCalculation:b});let p=a,E=l;if(B){switch(B){case He.CRC32:bt(s,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case He.CRC32C:bt(s,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case He.CRC64NVME:bt(s,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W");break;case He.SHA1:bt(s,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case He.SHA256:bt(s,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}const x=Pu(B),N=mg(B,e);if(cg(a)){const{getAwsChunkedEncodingStream:S,bodyLengthChecker:W}=e;p=S(typeof e.requestStreamBufferSize=="number"&&e.requestStreamBufferSize>=8*1024?ep(a,e.requestStreamBufferSize,s.logger):a,{base64Encoder:c,bodyLengthChecker:W,checksumLocationName:x,checksumAlgorithmFn:N,streamHasher:d}),E={...l,"content-encoding":l["content-encoding"]?`${l["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":l["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":x},delete E["content-length"]}else if(!Vx(x,l)){const S=await hg(N,a);E={...l,[x]:c(S)}}}return await t({...r,request:{...o,headers:E,body:p}})},oS={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},iS=(e,n)=>(t,s)=>async r=>{const o=r.input,{requestValidationModeMember:i}=n,a=await e.requestChecksumCalculation(),l=await e.responseChecksumValidation();switch(a){case To.WHEN_REQUIRED:bt(s,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a");break;case To.WHEN_SUPPORTED:bt(s,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z");break}switch(l){case Uc.WHEN_REQUIRED:bt(s,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c");break;case Uc.WHEN_SUPPORTED:bt(s,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b");break}return i&&!o[i]&&l===Uc.WHEN_SUPPORTED&&(o[i]="ENABLED"),t(r)},yg=(e=[])=>{const n=[];for(const t of Hx)!e.includes(t)||!Cd.includes(t)||n.push(t);return n},aS=e=>{const n=e.lastIndexOf("-");if(n!==-1){const t=e.slice(n+1);if(!t.startsWith("0")){const s=parseInt(t,10);if(!isNaN(s)&&s>=1&&s<=1e4)return!0}}return!1},cS=async(e,{checksumAlgorithmFn:n,base64Encoder:t})=>t(await hg(n,e)),lS=async(e,{config:n,responseAlgorithms:t,logger:s})=>{const r=yg(t),{body:o,headers:i}=e;for(const a of r){const l=Pu(a),c=i[l];if(c){let d;try{d=mg(a,n)}catch(b){if(a===He.CRC64NVME){s==null||s.warn(`Skipping ${He.CRC64NVME} checksum validation: ${b.message}`);continue}throw b}const{base64Encoder:m}=n;if(cg(o)){e.body=Z0({expectedChecksum:c,checksumSourceLocation:l,checksum:new d,source:o,base64Encoder:m});return}const u=await cS(o,{checksumAlgorithmFn:d,base64Encoder:m});if(u===c)break;throw new Error(`Checksum mismatch: expected "${u}" but received "${c}" in response header "${l}".`)}}},dS={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},uS=(e,n)=>(t,s)=>async r=>{if(!pt.isInstance(r.request))return t(r);const o=r.input,i=await t(r),a=i.response,{requestValidationModeMember:l,responseAlgorithms:c}=n;if(l&&o[l]==="ENABLED"){const{clientName:d,commandName:m}=s;if(d==="S3Client"&&m==="GetObjectCommand"&&yg(c).every(b=>{const w=Pu(b),A=a.headers[w];return!A||aS(A)}))return i;await lS(a,{config:e,responseAlgorithms:c,logger:s.logger})}return i},st=(e,n)=>({applyToStack:t=>{t.add(rS(e,n),sS),t.addRelativeTo(iS(e,n),oS),t.addRelativeTo(uS(e,n),dS)}}),fS=e=>{const{requestChecksumCalculation:n,responseChecksumValidation:t,requestStreamBufferSize:s}=e;return Object.assign(e,{requestChecksumCalculation:Ln(n??P0),responseChecksumValidation:Ln(t??R0),requestStreamBufferSize:Number(s??0)})};const mS=e=>n=>async t=>{if(!pt.isInstance(t.request))return n(t);const{request:s}=t,{handlerProtocol:r=""}=e.requestHandler.metadata||{};if(r.indexOf("h2")>=0&&!s.headers[":authority"])delete s.headers.host,s.headers[":authority"]=s.hostname+(s.port?":"+s.port:"");else if(!s.headers.host){let o=s.hostname;s.port!=null&&(o+=`:${s.port}`),s.headers.host=o}return n(t)},hS={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},yS=e=>({applyToStack:n=>{n.add(mS(e),hS)}}),gS=()=>(e,n)=>async t=>{var s,r;try{const o=await e(t),{clientName:i,commandName:a,logger:l,dynamoDbDocumentClientOptions:c={}}=n,{overrideInputFilterSensitiveLog:d,overrideOutputFilterSensitiveLog:m}=c,u=d??n.inputFilterSensitiveLog,b=m??n.outputFilterSensitiveLog,{$metadata:w,...A}=o.output;return(s=l==null?void 0:l.info)==null||s.call(l,{clientName:i,commandName:a,input:u(t.input),output:b(A),metadata:w}),o}catch(o){const{clientName:i,commandName:a,logger:l,dynamoDbDocumentClientOptions:c={}}=n,{overrideInputFilterSensitiveLog:d}=c,m=d??n.inputFilterSensitiveLog;throw(r=l==null?void 0:l.error)==null||r.call(l,{clientName:i,commandName:a,input:m(t.input),error:o,metadata:o.$metadata}),o}},bS={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},CS=e=>({applyToStack:n=>{n.add(gS(),bS)}});var km={};const rl="X-Amzn-Trace-Id",pS="AWS_LAMBDA_FUNCTION_NAME",xS="_X_AMZN_TRACE_ID",SS=e=>n=>async t=>{const{request:s}=t;if(!pt.isInstance(s)||e.runtime!=="node")return n(t);const r=Object.keys(s.headers??{}).find(l=>l.toLowerCase()===rl.toLowerCase())??rl;if(s.headers.hasOwnProperty(r))return n(t);const o=km[pS],i=km[xS],a=l=>typeof l=="string"&&l.length>0;return a(o)&&a(i)&&(s.headers[rl]=i),n({...t,request:s})},ES={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},wS=e=>({applyToStack:n=>{n.add(SS(e),ES)}}),kS="content-length",_S="x-amz-decoded-content-length";function AS(){return(e,n)=>async t=>{var r;const{request:s}=t;if(pt.isInstance(s)&&!(kS in s.headers)&&!(_S in s.headers)){const o="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof((r=n==null?void 0:n.logger)==null?void 0:r.warn)=="function"&&!(n.logger instanceof Bu)?n.logger.warn(o):console.warn(o)}return e({...t})}}const BS={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},vS=e=>({applyToStack:n=>{n.add(AS(),BS)}}),PS=e=>(n,t)=>async s=>{const r=await e.region(),o=e.region;let i=()=>{};t.__s3RegionRedirect&&(Object.defineProperty(e,"region",{writable:!1,value:async()=>t.__s3RegionRedirect}),i=()=>Object.defineProperty(e,"region",{writable:!0,value:o}));try{const a=await n(s);if(t.__s3RegionRedirect){i();const l=await e.region();if(r!==l)throw new Error("Region was not restored following S3 region redirect.")}return a}catch(a){throw i(),a}},RS={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function TS(e){return(n,t)=>async s=>{var r,o,i;try{return await n(s)}catch(a){if(e.followRegionRedirects&&(((r=a==null?void 0:a.$metadata)==null?void 0:r.httpStatusCode)===301||((o=a==null?void 0:a.$metadata)==null?void 0:o.httpStatusCode)===400&&(a==null?void 0:a.name)==="IllegalLocationConstraintException")){try{const l=a.$response.headers["x-amz-bucket-region"];(i=t.logger)==null||i.debug(`Redirecting from ${await e.region()} to ${l}`),t.__s3RegionRedirect=l}catch(l){throw new Error("Region redirect failed: "+l)}return n(s)}throw a}}}const IS={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},OS=e=>({applyToStack:n=>{n.add(TS(e),IS),n.addRelativeTo(PS(e),RS)}}),MS=e=>(n,t)=>async s=>{var i;const r=await n(s),{response:o}=r;if(Ro.isInstance(o)&&o.headers.expires){o.headers.expiresstring=o.headers.expires;try{As(o.headers.expires)}catch(a){(i=t.logger)==null||i.warn(`AWS SDK Warning for ${t.clientName}::${t.commandName} response parsing (${o.headers.expires}): ${a}`),delete o.headers.expires}}return r},NS={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"},gg=e=>({applyToStack:n=>{n.addRelativeTo(MS(),NS)}}),Cc=class Cc{constructor(n={}){ne(this,"data");ne(this,"lastPurgeTime",Date.now());this.data=n}get(n){const t=this.data[n];if(t)return t}set(n,t){return this.data[n]=t,t}delete(n){delete this.data[n]}async purgeExpired(){const n=Date.now();if(!(this.lastPurgeTime+Cc.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>n))for(const t in this.data){const s=this.data[t];if(!s.isRefreshing){const r=await s.identity;r.expiration&&r.expiration.getTime()<n&&delete this.data[t]}}}};ne(Cc,"EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS",3e4);let pd=Cc;class ol{constructor(n,t=!1,s=Date.now()){ne(this,"_identity");ne(this,"isRefreshing");ne(this,"accessed");this._identity=n,this.isRefreshing=t,this.accessed=s}get identity(){return this.accessed=Date.now(),this._identity}}const pc=class pc{constructor(n,t=new pd){ne(this,"createSessionFn");ne(this,"cache");this.createSessionFn=n,this.cache=t}async getS3ExpressIdentity(n,t){const s=t.Bucket,{cache:r}=this,o=r.get(s);return o?o.identity.then(i=>{var c,d;return(((c=i.expiration)==null?void 0:c.getTime())??0)<Date.now()?r.set(s,new ol(this.getIdentity(s))).identity:((((d=i.expiration)==null?void 0:d.getTime())??0)<Date.now()+pc.REFRESH_WINDOW_MS&&!o.isRefreshing&&(o.isRefreshing=!0,this.getIdentity(s).then(m=>{r.set(s,new ol(Promise.resolve(m)))})),i)}):r.set(s,new ol(this.getIdentity(s))).identity}async getIdentity(n){var r,o;await this.cache.purgeExpired().catch(i=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+i)});const t=await this.createSessionFn(n);if(!((r=t.Credentials)!=null&&r.AccessKeyId)||!((o=t.Credentials)!=null&&o.SecretAccessKey))throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:t.Credentials.AccessKeyId,secretAccessKey:t.Credentials.SecretAccessKey,sessionToken:t.Credentials.SessionToken,expiration:t.Credentials.Expiration?new Date(t.Credentials.Expiration):void 0}}};ne(pc,"REFRESH_WINDOW_MS",6e4);let xd=pc;var _m;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(_m||(_m={}));const DS="Directory",FS="S3Express",LS="sigv4-s3express",Sd="X-Amz-S3session-Token",Ed=Sd.toLowerCase();class US extends gd{async signWithCredentials(n,t,s){const r=Am(t);n.headers[Ed]=t.sessionToken;const o=this;return Bm(o,r),o.signRequest(n,s??{})}async presignWithCredentials(n,t,s){const r=Am(t);return delete n.headers[Ed],n.headers[Sd]=t.sessionToken,n.query=n.query??{},n.query[Sd]=t.sessionToken,Bm(this,r),this.presign(n,s)}}function Am(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}function Bm(e,n){const t=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),s=e.credentialProvider,r=()=>(clearTimeout(t),e.credentialProvider=s,Promise.resolve(n));e.credentialProvider=r}const zS=e=>(n,t)=>async s=>{var r,o,i,a,l;if(t.endpointV2){const c=t.endpointV2,d=((i=(o=(r=c.properties)==null?void 0:r.authSchemes)==null?void 0:o[0])==null?void 0:i.name)===LS;if((((a=c.properties)==null?void 0:a.backend)===FS||((l=c.properties)==null?void 0:l.bucketType)===DS)&&(bt(t,"S3_EXPRESS_BUCKET","J"),t.isS3ExpressBucket=!0),d){const u=s.input.Bucket;if(u){const b=await e.s3ExpressIdentityProvider.getS3ExpressIdentity(await e.credentials(),{Bucket:u});t.s3ExpressIdentity=b,pt.isInstance(s.request)&&b.sessionToken&&(s.request.headers[Ed]=b.sessionToken)}}}return n(s)},qS={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},$S=e=>({applyToStack:n=>{n.add(zS(e),qS)}}),jS=async(e,n,t,s)=>{const r=await s.signWithCredentials(t,e,{});if(r.headers["X-Amz-Security-Token"]||r.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return r},KS=e=>n=>{throw n},HS=(e,n)=>{},GS=e=>(n,t)=>async s=>{if(!pt.isInstance(s.request))return n(s);const o=Uo(t).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:i={}},identity:a,signer:l}=o;let c;t.s3ExpressIdentity?c=await jS(t.s3ExpressIdentity,i,s.request,await e.signer()):c=await l.sign(s.request,a,i);const d=await n({...s,request:c}).catch((l.errorHandler||KS)(i));return(l.successHandler||HS)(d.response,i),d},VS=e=>({applyToStack:n=>{n.addRelativeTo(GS(e),Ky)}}),WS=(e,{session:n})=>{const[t,s]=n,{forcePathStyle:r,useAccelerateEndpoint:o,disableMultiregionAccessPoints:i,followRegionRedirects:a,s3ExpressIdentityProvider:l,bucketEndpoint:c}=e;return Object.assign(e,{forcePathStyle:r??!1,useAccelerateEndpoint:o??!1,disableMultiregionAccessPoints:i??!1,followRegionRedirects:a??!1,s3ExpressIdentityProvider:l??new xd(async d=>t().send(new s({Bucket:d}))),bucketEndpoint:c??!1})},XS={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},QS=3e3,ZS=e=>(n,t)=>async s=>{const r=await n(s),{response:o}=r;if(!Ro.isInstance(o))return r;const{statusCode:i,body:a}=o;if(i<200||i>=300||!(typeof(a==null?void 0:a.stream)=="function"||typeof(a==null?void 0:a.pipe)=="function"||typeof(a==null?void 0:a.tee)=="function"))return r;let c=a,d=a;a&&typeof a=="object"&&!(a instanceof Uint8Array)&&([c,d]=await fp(a)),o.body=d;const m=await YS(c,{streamCollector:async b=>rp(b,QS)});typeof(c==null?void 0:c.destroy)=="function"&&c.destroy();const u=e.utf8Encoder(m.subarray(m.length-16));if(m.length===0&&XS[t.commandName]){const b=new Error("S3 aborted request");throw b.name="InternalError",b}return u&&u.endsWith("</Error>")&&(o.statusCode=400),r},YS=(e=new Uint8Array,n)=>e instanceof Uint8Array?Promise.resolve(e):n.streamCollector(e)||Promise.resolve(new Uint8Array),JS={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},re=e=>({applyToStack:n=>{n.addRelativeTo(ZS(e),JS)}}),eE=e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6;function tE(e){return(n,t)=>async s=>{var r,o,i,a;if(e.bucketEndpoint){const l=t.endpointV2;if(l){const c=s.input.Bucket;if(typeof c=="string")try{const d=new URL(c);t.endpointV2={...l,url:d}}catch(d){const m=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${c} could not be parsed as URL.`;throw((o=(r=t.logger)==null?void 0:r.constructor)==null?void 0:o.name)==="NoOpLogger"?console.warn(m):(a=(i=t.logger)==null?void 0:i.warn)==null||a.call(i,m),d}}}return n(s)}}const nE={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function sE({bucketEndpoint:e}){return n=>async t=>{const{input:{Bucket:s}}=t;if(!e&&typeof s=="string"&&!eE(s)&&s.indexOf("/")>=0){const r=new Error(`Bucket name shouldn't contain '/', received '${s}'`);throw r.name="InvalidBucketName",r}return n({...t})}}const rE={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},oE=e=>({applyToStack:n=>{n.add(sE(e),rE),n.addRelativeTo(tE(e),nE)}}),iE=void 0;function aE(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function cE(e){const n=Wr(e.userAgentAppId??iE),{customUserAgent:t}=e;return Object.assign(e,{customUserAgent:typeof t=="string"?[[t]]:t,userAgentAppId:async()=>{var r,o;const s=await n();if(!aE(s)){const i=((o=(r=e.logger)==null?void 0:r.constructor)==null?void 0:o.name)==="NoOpLogger"||!e.logger?console:e.logger;typeof s!="string"?i==null||i.warn("userAgentAppId must be a string or undefined."):s.length>50&&(i==null||i.warn("The provided userAgentAppId exceeds the maximum length of 50 characters."))}return s}})}class lE{constructor({size:n,params:t}){this.data=new Map,this.parameters=[],this.capacity=n??50,t&&(this.parameters=t)}get(n,t){const s=this.hash(n);if(s===!1)return t();if(!this.data.has(s)){if(this.data.size>this.capacity+10){const r=this.data.keys();let o=0;for(;;){const{value:i,done:a}=r.next();if(this.data.delete(i),a||++o>10)break}}this.data.set(s,t())}return this.data.get(s)}size(){return this.data.size}hash(n){let t="";const{parameters:s}=this;if(s.length===0)return!1;for(const r of s){const o=String(n[r]??"");if(o.includes("|;"))return!1;t+=o+"|;"}return t}}const dE=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),bg=e=>dE.test(e)||e.startsWith("[")&&e.endsWith("]"),uE=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Iu=(e,n=!1)=>{if(!n)return uE.test(e);const t=e.split(".");for(const s of t)if(!Iu(s))return!1;return!0},Ja={},_i="endpoints";function vs(e){return typeof e!="object"||e==null?e:"ref"in e?`$${vs(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(vs).join(", ")})`:JSON.stringify(e,null,2)}class xn extends Error{constructor(n){super(n),this.name="EndpointError"}}const fE=(e,n)=>e===n,mE=e=>{const n=e.split("."),t=[];for(const s of n){const r=s.indexOf("[");if(r!==-1){if(s.indexOf("]")!==s.length-1)throw new xn(`Path: '${e}' does not end with ']'`);const o=s.slice(r+1,-1);if(Number.isNaN(parseInt(o)))throw new xn(`Invalid array index: '${o}' in path: '${e}'`);r!==0&&t.push(s.slice(0,r)),t.push(o)}else t.push(s)}return t},Cg=(e,n)=>mE(n).reduce((t,s)=>{if(typeof t!="object")throw new xn(`Index '${s}' in '${n}' not found in '${JSON.stringify(e)}'`);return Array.isArray(t)?t[parseInt(s)]:t[s]},e),hE=e=>e!=null,yE=e=>!e,il={[Ei.HTTP]:80,[Ei.HTTPS]:443},gE=e=>{const n=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){const{hostname:u,port:b,protocol:w="",path:A="",query:B={}}=e,p=new URL(`${w}//${u}${b?`:${b}`:""}${A}`);return p.search=Object.entries(B).map(([E,O])=>`${E}=${O}`).join("&"),p}return new URL(e)}catch{return null}})();if(!n)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const t=n.href,{host:s,hostname:r,pathname:o,protocol:i,search:a}=n;if(a)return null;const l=i.slice(0,-1);if(!Object.values(Ei).includes(l))return null;const c=bg(r),d=t.includes(`${s}:${il[l]}`)||typeof e=="string"&&e.includes(`${s}:${il[l]}`),m=`${s}${d?`:${il[l]}`:""}`;return{scheme:l,authority:m,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:c}},bE=(e,n)=>e===n,CE=(e,n,t,s)=>n>=t||e.length<t?null:s?e.substring(e.length-t,e.length-n):e.substring(n,t),pE=e=>encodeURIComponent(e).replace(/[!*'()]/g,n=>`%${n.charCodeAt(0).toString(16).toUpperCase()}`),xE={booleanEquals:fE,getAttr:Cg,isSet:hE,isValidHostLabel:Iu,not:yE,parseURL:gE,stringEquals:bE,substring:CE,uriEncode:pE},pg=(e,n)=>{const t=[],s={...n.endpointParams,...n.referenceRecord};let r=0;for(;r<e.length;){const o=e.indexOf("{",r);if(o===-1){t.push(e.slice(r));break}t.push(e.slice(r,o));const i=e.indexOf("}",o);if(i===-1){t.push(e.slice(o));break}e[o+1]==="{"&&e[i+1]==="}"&&(t.push(e.slice(o+1,i)),r=i+2);const a=e.substring(o+1,i);if(a.includes("#")){const[l,c]=a.split("#");t.push(Cg(s[l],c))}else t.push(s[a]);r=i+1}return t.join("")},SE=({ref:e},n)=>({...n.endpointParams,...n.referenceRecord})[e],Ec=(e,n,t)=>{if(typeof e=="string")return pg(e,t);if(e.fn)return xg(e,t);if(e.ref)return SE(e,t);throw new xn(`'${n}': ${String(e)} is not a string, function or reference.`)},xg=({fn:e,argv:n},t)=>{const s=n.map(o=>["boolean","number"].includes(typeof o)?o:Ec(o,"arg",t)),r=e.split(".");return r[0]in Ja&&r[1]!=null?Ja[r[0]][r[1]](...s):xE[e](...s)},EE=({assign:e,...n},t)=>{var r,o;if(e&&e in t.referenceRecord)throw new xn(`'${e}' is already defined in Reference Record.`);const s=xg(n,t);return(o=(r=t.logger)==null?void 0:r.debug)==null||o.call(r,`${_i} evaluateCondition: ${vs(n)} = ${vs(s)}`),{result:s===""?!0:!!s,...e!=null&&{toAssign:{name:e,value:s}}}},Ou=(e=[],n)=>{var s,r;const t={};for(const o of e){const{result:i,toAssign:a}=EE(o,{...n,referenceRecord:{...n.referenceRecord,...t}});if(!i)return{result:i};a&&(t[a.name]=a.value,(r=(s=n.logger)==null?void 0:s.debug)==null||r.call(s,`${_i} assign: ${a.name} := ${vs(a.value)}`))}return{result:!0,referenceRecord:t}},wE=(e,n)=>Object.entries(e).reduce((t,[s,r])=>({...t,[s]:r.map(o=>{const i=Ec(o,"Header value entry",n);if(typeof i!="string")throw new xn(`Header '${s}' value '${i}' is not a string`);return i})}),{}),Sg=(e,n)=>{if(Array.isArray(e))return e.map(t=>Sg(t,n));switch(typeof e){case"string":return pg(e,n);case"object":if(e===null)throw new xn(`Unexpected endpoint property: ${e}`);return Eg(e,n);case"boolean":return e;default:throw new xn(`Unexpected endpoint property type: ${typeof e}`)}},Eg=(e,n)=>Object.entries(e).reduce((t,[s,r])=>({...t,[s]:Sg(r,n)}),{}),kE=(e,n)=>{const t=Ec(e,"Endpoint URL",n);if(typeof t=="string")try{return new URL(t)}catch(s){throw console.error(`Failed to construct URL with ${t}`,s),s}throw new xn(`Endpoint URL must be a string, got ${typeof t}`)},_E=(e,n)=>{var d,m;const{conditions:t,endpoint:s}=e,{result:r,referenceRecord:o}=Ou(t,n);if(!r)return;const i={...n,referenceRecord:{...n.referenceRecord,...o}},{url:a,properties:l,headers:c}=s;return(m=(d=n.logger)==null?void 0:d.debug)==null||m.call(d,`${_i} Resolving endpoint from template: ${vs(s)}`),{...c!=null&&{headers:wE(c,i)},...l!=null&&{properties:Eg(l,i)},url:kE(a,i)}},AE=(e,n)=>{const{conditions:t,error:s}=e,{result:r,referenceRecord:o}=Ou(t,n);if(r)throw new xn(Ec(s,"Error",{...n,referenceRecord:{...n.referenceRecord,...o}}))},BE=(e,n)=>{const{conditions:t,rules:s}=e,{result:r,referenceRecord:o}=Ou(t,n);if(r)return wg(s,{...n,referenceRecord:{...n.referenceRecord,...o}})},wg=(e,n)=>{for(const t of e)if(t.type==="endpoint"){const s=_E(t,n);if(s)return s}else if(t.type==="error")AE(t,n);else if(t.type==="tree"){const s=BE(t,n);if(s)return s}else throw new xn(`Unknown endpoint rule: ${t}`);throw new xn("Rules evaluation failed")},vE=(e,n)=>{var c,d,m,u;const{endpointParams:t,logger:s}=n,{parameters:r,rules:o}=e;(d=(c=n.logger)==null?void 0:c.debug)==null||d.call(c,`${_i} Initial EndpointParams: ${vs(t)}`);const i=Object.entries(r).filter(([,b])=>b.default!=null).map(([b,w])=>[b,w.default]);if(i.length>0)for(const[b,w]of i)t[b]=t[b]??w;const a=Object.entries(r).filter(([,b])=>b.required).map(([b])=>b);for(const b of a)if(t[b]==null)throw new xn(`Missing required parameter: '${b}'`);const l=wg(o,{endpointParams:t,logger:s,referenceRecord:{}});return(u=(m=n.logger)==null?void 0:m.debug)==null||u.call(m,`${_i} Resolved endpoint: ${vs(l)}`),l},kg=(e,n=!1)=>{if(n){for(const t of e.split("."))if(!kg(t))return!1;return!0}return!(!Iu(e)||e.length<3||e.length>63||e!==e.toLowerCase()||bg(e))},vm=":",PE="/",RE=e=>{const n=e.split(vm);if(n.length<6)return null;const[t,s,r,o,i,...a]=n;if(t!=="arn"||s===""||r===""||a.join(vm)==="")return null;const l=a.map(c=>c.split(PE)).flat();return{partition:s,service:r,region:o,accountId:i,resourceId:l}},TE=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],IE={partitions:TE};let OE=IE;const ME=e=>{const{partitions:n}=OE;for(const s of n){const{regions:r,outputs:o}=s;for(const[i,a]of Object.entries(r))if(i===e)return{...o,...a}}for(const s of n){const{regionRegex:r,outputs:o}=s;if(new RegExp(r).test(e))return{...o}}const t=n.find(s=>s.id==="aws");if(!t)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...t.outputs}},_g={isVirtualHostableS3Bucket:kg,parseArn:RE,partition:ME};Ja.aws=_g;const NE=/\d{12}\.ddb/;async function DE(e,n,t){var o,i,a,l,c,d,m;const s=t.request;if(((o=s==null?void 0:s.headers)==null?void 0:o["smithy-protocol"])==="rpc-v2-cbor"&&bt(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof n.retryStrategy=="function"){const u=await n.retryStrategy();typeof u.acquireInitialRetryToken=="function"?(a=(i=u.constructor)==null?void 0:i.name)!=null&&a.includes("Adaptive")?bt(e,"RETRY_MODE_ADAPTIVE","F"):bt(e,"RETRY_MODE_STANDARD","E"):bt(e,"RETRY_MODE_LEGACY","D")}if(typeof n.accountIdEndpointMode=="function"){const u=e.endpointV2;switch(String((l=u==null?void 0:u.url)==null?void 0:l.hostname).match(NE)&&bt(e,"ACCOUNT_ID_ENDPOINT","O"),await((c=n.accountIdEndpointMode)==null?void 0:c.call(n))){case"disabled":bt(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":bt(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":bt(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}const r=(m=(d=e.__smithy_context)==null?void 0:d.selectedHttpAuthScheme)==null?void 0:m.identity;if(r!=null&&r.$source){const u=r;u.accountId&&bt(e,"RESOLVED_ACCOUNT_ID","T");for(const[b,w]of Object.entries(u.$source??{}))bt(e,b,w)}}const Pm="user-agent",al="x-amz-user-agent",Rm=" ",cl="/",FE=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,LE=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Tm="-",UE=1024;function zE(e){let n="";for(const t in e){const s=e[t];if(n.length+s.length+1<=UE){n.length?n+=","+s:n+=s;continue}break}return n}const qE=e=>(n,t)=>async s=>{var b,w,A,B;const{request:r}=s;if(!pt.isInstance(r))return n(s);const{headers:o}=r,i=((b=t==null?void 0:t.userAgent)==null?void 0:b.map(Ji))||[],a=(await e.defaultUserAgentProvider()).map(Ji);await DE(t,e,s);const l=t;a.push(`m/${zE(Object.assign({},(w=t.__smithy_context)==null?void 0:w.features,(A=l.__aws_sdk_context)==null?void 0:A.features))}`);const c=((B=e==null?void 0:e.customUserAgent)==null?void 0:B.map(Ji))||[],d=await e.userAgentAppId();d&&a.push(Ji([`app/${d}`]));const m=[].concat([...a,...i,...c]).join(Rm),u=[...a.filter(p=>p.startsWith("aws-sdk-")),...c].join(Rm);return e.runtime!=="browser"?(u&&(o[al]=o[al]?`${o[Pm]} ${u}`:u),o[Pm]=m):o[al]=m,n({...s,request:r})},Ji=e=>{var i;const n=e[0].split(cl).map(a=>a.replace(FE,Tm)).join(cl),t=(i=e[1])==null?void 0:i.replace(LE,Tm),s=n.indexOf(cl),r=n.substring(0,s);let o=n.substring(s+1);return r==="api"&&(o=o.toLowerCase()),[r,o,t].filter(a=>a&&a.length>0).reduce((a,l,c)=>{switch(c){case 0:return l;case 1:return`${a}/${l}`;default:return`${a}#${l}`}},"")},$E={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},jE=e=>({applyToStack:n=>{n.add(qE(e),$E)}}),KE=!1,HE=!1,Ag=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),Im=e=>Ag(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,GE=e=>{const{region:n,useFipsEndpoint:t}=e;if(!n)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof n=="string")return Im(n);const s=await n();return Im(s)},useFipsEndpoint:async()=>{const s=typeof n=="string"?n:await n();return Ag(s)?!0:typeof t!="function"?Promise.resolve(!!t):t()}})},VE=e=>Object.assign(e,{eventStreamMarshaller:e.eventStreamSerdeProvider(e)}),Om="content-length";function WE(e){return n=>async t=>{const s=t.request;if(pt.isInstance(s)){const{body:r,headers:o}=s;if(r&&Object.keys(o).map(i=>i.toLowerCase()).indexOf(Om)===-1)try{const i=e(r);s.headers={...s.headers,[Om]:String(i)}}catch{}}return n({...t,request:s})}}const XE={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},QE=e=>({applyToStack:n=>{n.add(WE(e.bodyLengthChecker),XE)}}),ZE=async e=>{const n=(e==null?void 0:e.Bucket)||"";if(typeof e.Bucket=="string"&&(e.Bucket=n.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),nw(n)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!tw(n)||n.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||n.toLowerCase()!==n||n.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},YE=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,JE=/(\d+\.){3}\d+/,ew=/\.\./,tw=e=>YE.test(e)&&!JE.test(e)&&!ew.test(e),nw=e=>{const[n,t,s,,,r]=e.split(":"),o=n==="arn"&&e.split(":").length>=6,i=!!(o&&t&&s&&r);if(o&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},sw=(e,n,t)=>{const s=async()=>{const r=t[e]??t[n];return typeof r=="function"?r():r};return e==="credentialScope"||n==="CredentialScope"?async()=>{const r=typeof t.credentials=="function"?await t.credentials():t.credentials;return(r==null?void 0:r.credentialScope)??(r==null?void 0:r.CredentialScope)}:e==="accountId"||n==="AccountId"?async()=>{const r=typeof t.credentials=="function"?await t.credentials():t.credentials;return(r==null?void 0:r.accountId)??(r==null?void 0:r.AccountId)}:e==="endpoint"||n==="endpoint"?async()=>{const r=await s();if(r&&typeof r=="object"){if("url"in r)return r.url.href;if("hostname"in r){const{protocol:o,hostname:i,port:a,path:l}=r;return`${o}//${i}${a?":"+a:""}${l}`}}return r}:s},Bg=async e=>{};function rw(e){const n={};if(e=e.replace(/^\?/,""),e)for(const t of e.split("&")){let[s,r=null]=t.split("=");s=decodeURIComponent(s),r&&(r=decodeURIComponent(r)),s in n?Array.isArray(n[s])?n[s].push(r):n[s]=[n[s],r]:n[s]=r}return n}const ec=e=>{if(typeof e=="string")return ec(new URL(e));const{hostname:n,pathname:t,port:s,protocol:r,search:o}=e;let i;return o&&(i=rw(o)),{hostname:n,port:s?parseInt(s):void 0,protocol:r,path:t,query:i}},Mu=e=>typeof e=="object"?"url"in e?ec(e.url):e:ec(e),vg=async(e,n,t,s)=>{if(!t.endpoint){let i;t.serviceConfiguredEndpoint?i=await t.serviceConfiguredEndpoint():i=await Bg(t.serviceId),i&&(t.endpoint=()=>Promise.resolve(Mu(i)))}const r=await Pg(e,n,t);if(typeof t.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return t.endpointProvider(r,s)},Pg=async(e,n,t)=>{var o;const s={},r=((o=n==null?void 0:n.getEndpointParameterInstructions)==null?void 0:o.call(n))||{};for(const[i,a]of Object.entries(r))switch(a.type){case"staticContextParams":s[i]=a.value;break;case"contextParams":s[i]=e[a.name];break;case"clientContextParams":case"builtInParams":s[i]=await sw(a.name,i,t)();break;case"operationContextParams":s[i]=a.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(r).length===0&&Object.assign(s,t),String(t.serviceId).toLowerCase()==="s3"&&await ZE(s),s},ow=({config:e,instructions:n})=>(t,s)=>async r=>{var a,l,c;e.endpoint&&yp(s,"ENDPOINT_OVERRIDE","N");const o=await vg(r.input,{getEndpointParameterInstructions(){return n}},{...e},s);s.endpointV2=o,s.authSchemes=(a=o.properties)==null?void 0:a.authSchemes;const i=(l=s.authSchemes)==null?void 0:l[0];if(i){s.signing_region=i.signingRegion,s.signing_service=i.signingName;const d=Uo(s),m=(c=d==null?void 0:d.selectedHttpAuthScheme)==null?void 0:c.httpAuthOption;m&&(m.signingProperties=Object.assign(m.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return t({...r})},iw={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Su.name},U=(e,n)=>({applyToStack:t=>{t.addRelativeTo(ow({config:e,instructions:n}),iw)}}),aw=e=>{const n=e.tls??!0,{endpoint:t,useDualstackEndpoint:s,useFipsEndpoint:r}=e,o=t!=null?async()=>Mu(await Ln(t)()):void 0,a=Object.assign(e,{endpoint:o,tls:n,isCustomEndpoint:!!t,useDualstackEndpoint:Ln(s??!1),useFipsEndpoint:Ln(r??!1)});let l;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!l&&(l=Bg(e.serviceId)),l),a};var Oo;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Oo||(Oo={}));const tc=3,cw=Oo.STANDARD,lw=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],dw=["TimeoutError","RequestTimeout","RequestTimeoutException"],uw=[500,502,503,504],fw=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],mw=e=>{var n;return(n=e.$metadata)==null?void 0:n.clockSkewCorrected},hw=e=>{const n=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?n.has(e.message):!1},Rg=e=>{var n,t;return((n=e.$metadata)==null?void 0:n.httpStatusCode)===429||lw.includes(e.name)||((t=e.$retryable)==null?void 0:t.throttling)==!0},Nu=(e,n=0)=>{var t;return mw(e)||dw.includes(e.name)||fw.includes((e==null?void 0:e.code)||"")||uw.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)||hw(e)||e.cause!==void 0&&n<=10&&Nu(e.cause,n+1)},yw=e=>{var n;if(((n=e.$metadata)==null?void 0:n.httpStatusCode)!==void 0){const t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!Nu(e)}return!1};class wc{constructor(n){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(n==null?void 0:n.beta)??.7,this.minCapacity=(n==null?void 0:n.minCapacity)??1,this.minFillRate=(n==null?void 0:n.minFillRate)??.5,this.scaleConstant=(n==null?void 0:n.scaleConstant)??.4,this.smooth=(n==null?void 0:n.smooth)??.8;const t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(n){if(this.enabled){if(this.refillTokenBucket(),n>this.currentCapacity){const t=(n-this.currentCapacity)/this.fillRate*1e3;await new Promise(s=>wc.setTimeoutFn(s,t))}this.currentCapacity=this.currentCapacity-n}}refillTokenBucket(){const n=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=n;return}const t=(n-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=n}updateClientSendingRate(n){let t;if(this.updateMeasuredRate(),Rg(n)){const r=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=r,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(r),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());const s=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(s)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(n){return this.getPrecise(n*this.beta)}cubicSuccess(n){return this.getPrecise(this.scaleConstant*Math.pow(n-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(n){this.refillTokenBucket(),this.fillRate=Math.max(n,this.minFillRate),this.maxCapacity=Math.max(n,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const n=this.getCurrentTimeInSeconds(),t=Math.floor(n*2)/2;if(this.requestCount++,t>this.lastTxRateBucket){const s=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(s*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(n){return parseFloat(n.toFixed(8))}}wc.setTimeoutFn=setTimeout;const wd=100,Tg=20*1e3,gw=500,Mm=500,bw=5,Cw=10,pw=1,xw="amz-sdk-invocation-id",Sw="amz-sdk-request",Ew=()=>{let e=wd;return{computeNextBackoffDelay:s=>Math.floor(Math.min(Tg,Math.random()*2**s*e)),setDelayBase:s=>{e=s}}},Nm=({retryDelay:e,retryCount:n,retryCost:t})=>({getRetryCount:()=>n,getRetryDelay:()=>Math.min(Tg,e),getRetryCost:()=>t});class Ig{constructor(n){this.maxAttempts=n,this.mode=Oo.STANDARD,this.capacity=Mm,this.retryBackoffStrategy=Ew(),this.maxAttemptsProvider=typeof n=="function"?n:async()=>n}async acquireInitialRetryToken(n){return Nm({retryDelay:wd,retryCount:0})}async refreshRetryTokenForRetry(n,t){const s=await this.getMaxAttempts();if(this.shouldRetry(n,t,s)){const r=t.errorType;this.retryBackoffStrategy.setDelayBase(r==="THROTTLING"?gw:wd);const o=this.retryBackoffStrategy.computeNextBackoffDelay(n.getRetryCount()),i=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,o):o,a=this.getCapacityCost(r);return this.capacity-=a,Nm({retryDelay:i,retryCount:n.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(n){this.capacity=Math.max(Mm,this.capacity+(n.getRetryCost()??pw))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${tc}`),tc}}shouldRetry(n,t,s){return n.getRetryCount()+1<s&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(n){return n==="TRANSIENT"?Cw:bw}isRetryableError(n){return n==="THROTTLING"||n==="TRANSIENT"}}class ww{constructor(n,t){this.maxAttemptsProvider=n,this.mode=Oo.ADAPTIVE;const{rateLimiter:s}=t??{};this.rateLimiter=s??new wc,this.standardRetryStrategy=new Ig(n)}async acquireInitialRetryToken(n){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(n)}async refreshRetryTokenForRetry(n,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(n,t)}recordSuccess(n){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(n)}}const kw=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),_w=e=>{const{retryStrategy:n,retryMode:t,maxAttempts:s}=e,r=Ln(s??tc);return Object.assign(e,{maxAttempts:r,retryStrategy:async()=>n||(await Ln(t)()===Oo.ADAPTIVE?new ww(r):new Ig(r))})},Aw=e=>(e==null?void 0:e.body)instanceof ReadableStream,Bw=e=>(n,t)=>async s=>{var i;let r=await e.retryStrategy();const o=await e.maxAttempts();if(vw(r)){r=r;let a=await r.acquireInitialRetryToken(t.partition_id),l=new Error,c=0,d=0;const{request:m}=s,u=pt.isInstance(m);for(u&&(m.headers[xw]=a0());;)try{u&&(m.headers[Sw]=`attempt=${c+1}; max=${o}`);const{response:b,output:w}=await n(s);return r.recordSuccess(a),w.$metadata.attempts=c+1,w.$metadata.totalRetryDelay=d,{response:b,output:w}}catch(b){const w=Pw(b);if(l=kw(b),u&&Aw(m))throw(i=t.logger instanceof Bu?console:t.logger)==null||i.warn("An error was encountered in a non-retryable streaming request."),l;try{a=await r.refreshRetryTokenForRetry(a,w)}catch{throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=c+1,l.$metadata.totalRetryDelay=d,l}c=a.getRetryCount();const A=a.getRetryDelay();d+=A,await new Promise(B=>setTimeout(B,A))}}else return r=r,r!=null&&r.mode&&(t.userAgent=[...t.userAgent||[],["cfg/retry-mode",r.mode]]),r.retry(n,s)},vw=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",Pw=e=>{const n={error:e,errorType:Rw(e)},t=Ow(e.$response);return t&&(n.retryAfterHint=t),n},Rw=e=>Rg(e)?"THROTTLING":Nu(e)?"TRANSIENT":yw(e)?"SERVER_ERROR":"CLIENT_ERROR",Tw={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Iw=e=>({applyToStack:n=>{n.add(Bw(e),Tw)}}),Ow=e=>{if(!Ro.isInstance(e))return;const n=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!n)return;const t=e.headers[n],s=Number(t);return Number.isNaN(s)?new Date(t):new Date(s*1e3)};class Mw{constructor(n){ne(this,"sigv4aSigner");ne(this,"sigv4Signer");ne(this,"signerOptions");this.sigv4Signer=new US(n),this.signerOptions=n}async sign(n,t={}){return t.signingRegion==="*"?this.getSigv4aSigner().sign(n,t):this.sigv4Signer.sign(n,t)}async signWithCredentials(n,t,s={}){if(s.signingRegion==="*")throw this.getSigv4aSigner(),new Error(`signWithCredentials with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return this.sigv4Signer.signWithCredentials(n,t,s)}async presign(n,t={}){if(t.signingRegion==="*")throw this.getSigv4aSigner(),new Error(`presign with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return this.sigv4Signer.presign(n,t)}async presignWithCredentials(n,t,s={}){if(s.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(n,t,s)}getSigv4aSigner(){if(!this.sigv4aSigner)throw this.signerOptions.runtime==="node"?new Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt"):new Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");return this.sigv4aSigner}}const Du="required",h="type",P="rules",C="conditions",k="fn",_="argv",se="ref",ye="assign",Y="url",J="properties",Fs="backend",Vt="authSchemes",Ot="disableDoubleEncoding",Mt="signingName",tn="signingRegion",ee="headers",Fu="signingRegionSet",Nw=6,Dw=!1,Hn=!0,bn="isSet",yt="booleanEquals",Z="error",nc="aws.partition",Re="stringEquals",at="getAttr",ht="name",Ke="substring",Dm="bucketSuffix",Lu="parseURL",M="endpoint",R="tree",sc="aws.isVirtualHostableS3Bucket",rc="{url#scheme}://{Bucket}.{url#authority}{url#path}",Xn="not",Fm="accessPointSuffix",ma="{url#scheme}://{url#authority}{url#path}",Og="hardwareType",Mg="regionPrefix",Lm="bucketAliasSuffix",kd="outpostId",Rr="isValidHostLabel",Uu="sigv4a",Ai="s3-outposts",Mo="s3",Ng="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",Dg="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",Um="https://{Bucket}.s3.{partitionResult#dnsSuffix}",Fg="aws.parseArn",Lg="bucketArn",Ug="arnType",oc="",zu="s3-object-lambda",zg="accesspoint",qu="accessPointName",zm="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",qm="mrapPartition",$m="outpostType",jm="arnPrefix",qg="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",Km="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",Hm="https://s3.{partitionResult#dnsSuffix}",Ur={[Du]:!1,[h]:"String"},zr={[Du]:!0,default:!1,[h]:"Boolean"},li={[Du]:!1,[h]:"Boolean"},kn={[k]:yt,[_]:[{[se]:"Accelerate"},!0]},Je={[k]:yt,[_]:[{[se]:"UseFIPS"},!0]},je={[k]:yt,[_]:[{[se]:"UseDualStack"},!0]},mt={[k]:bn,[_]:[{[se]:"Endpoint"}]},$g={[k]:nc,[_]:[{[se]:"Region"}],[ye]:"partitionResult"},Gm={[k]:Re,[_]:[{[k]:at,[_]:[{[se]:"partitionResult"},ht]},"aws-cn"]},gi={[k]:bn,[_]:[{[se]:"Bucket"}]},Be={[se]:"Bucket"},Vm={[C]:[je],[Z]:"S3Express does not support Dual-stack.",[h]:Z},Wm={[C]:[kn],[Z]:"S3Express does not support S3 Accelerate.",[h]:Z},Xm={[C]:[mt,{[k]:Lu,[_]:[{[se]:"Endpoint"}],[ye]:"url"}],[P]:[{[C]:[{[k]:bn,[_]:[{[se]:"DisableS3ExpressSessionAuth"}]},{[k]:yt,[_]:[{[se]:"DisableS3ExpressSessionAuth"},!0]}],[P]:[{[C]:[{[k]:yt,[_]:[{[k]:at,[_]:[{[se]:"url"},"isIp"]},!0]}],[P]:[{[C]:[{[k]:"uriEncode",[_]:[Be],[ye]:"uri_encoded_bucket"}],[P]:[{[M]:{[Y]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[J]:{[Fs]:"S3Express",[Vt]:[{[Ot]:!0,[ht]:"sigv4",[Mt]:"s3express",[tn]:"{Region}"}]},[ee]:{}},[h]:M}],[h]:R}],[h]:R},{[C]:[{[k]:sc,[_]:[Be,!1]}],[P]:[{[M]:{[Y]:rc,[J]:{[Fs]:"S3Express",[Vt]:[{[Ot]:!0,[ht]:"sigv4",[Mt]:"s3express",[tn]:"{Region}"}]},[ee]:{}},[h]:M}],[h]:R},{[Z]:"S3Express bucket name is not a valid virtual hostable name.",[h]:Z}],[h]:R},{[C]:[{[k]:yt,[_]:[{[k]:at,[_]:[{[se]:"url"},"isIp"]},!0]}],[P]:[{[C]:[{[k]:"uriEncode",[_]:[Be],[ye]:"uri_encoded_bucket"}],[P]:[{[M]:{[Y]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[J]:{[Fs]:"S3Express",[Vt]:[{[Ot]:!0,[ht]:"sigv4-s3express",[Mt]:"s3express",[tn]:"{Region}"}]},[ee]:{}},[h]:M}],[h]:R}],[h]:R},{[C]:[{[k]:sc,[_]:[Be,!1]}],[P]:[{[M]:{[Y]:rc,[J]:{[Fs]:"S3Express",[Vt]:[{[Ot]:!0,[ht]:"sigv4-s3express",[Mt]:"s3express",[tn]:"{Region}"}]},[ee]:{}},[h]:M}],[h]:R},{[Z]:"S3Express bucket name is not a valid virtual hostable name.",[h]:Z}],[h]:R},Jt={[k]:Lu,[_]:[{[se]:"Endpoint"}],[ye]:"url"},ll={[k]:yt,[_]:[{[k]:at,[_]:[{[se]:"url"},"isIp"]},!0]},jg={[se]:"url"},Kg={[k]:"uriEncode",[_]:[Be],[ye]:"uri_encoded_bucket"},Ds={[Fs]:"S3Express",[Vt]:[{[Ot]:!0,[ht]:"sigv4",[Mt]:"s3express",[tn]:"{Region}"}]},me={},Hg={[k]:sc,[_]:[Be,!1]},Qm={[Z]:"S3Express bucket name is not a valid virtual hostable name.",[h]:Z},Zm={[k]:bn,[_]:[{[se]:"UseS3ExpressControlEndpoint"}]},Ym={[k]:yt,[_]:[{[se]:"UseS3ExpressControlEndpoint"},!0]},he={[k]:Xn,[_]:[mt]},ea={[Z]:"Unrecognized S3Express bucket name format.",[h]:Z},Jm={[k]:Xn,[_]:[gi]},eh={[se]:Og},th={[C]:[he],[Z]:"Expected a endpoint to be specified but no endpoint was found",[h]:Z},ta={[Vt]:[{[Ot]:!0,[ht]:Uu,[Mt]:Ai,[Fu]:["*"]},{[Ot]:!0,[ht]:"sigv4",[Mt]:Ai,[tn]:"{Region}"}]},dl={[k]:yt,[_]:[{[se]:"ForcePathStyle"},!1]},Fw={[se]:"ForcePathStyle"},gt={[k]:yt,[_]:[{[se]:"Accelerate"},!1]},Et={[k]:Re,[_]:[{[se]:"Region"},"aws-global"]},Rt={[Vt]:[{[Ot]:!0,[ht]:"sigv4",[Mt]:Mo,[tn]:"us-east-1"}]},_e={[k]:Xn,[_]:[Et]},Tt={[k]:yt,[_]:[{[se]:"UseGlobalEndpoint"},!0]},nh={[Y]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[J]:{[Vt]:[{[Ot]:!0,[ht]:"sigv4",[Mt]:Mo,[tn]:"{Region}"}]},[ee]:{}},Ct={[Vt]:[{[Ot]:!0,[ht]:"sigv4",[Mt]:Mo,[tn]:"{Region}"}]},It={[k]:yt,[_]:[{[se]:"UseGlobalEndpoint"},!1]},we={[k]:yt,[_]:[{[se]:"UseDualStack"},!1]},sh={[Y]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[J]:Ct,[ee]:{}},Ce={[k]:yt,[_]:[{[se]:"UseFIPS"},!1]},rh={[Y]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[J]:Ct,[ee]:{}},oh={[Y]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[J]:Ct,[ee]:{}},ul={[k]:yt,[_]:[{[k]:at,[_]:[jg,"isIp"]},!1]},fl={[Y]:Ng,[J]:Ct,[ee]:{}},_d={[Y]:rc,[J]:Ct,[ee]:{}},ih={[M]:_d,[h]:M},ml={[Y]:Dg,[J]:Ct,[ee]:{}},ah={[Y]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[J]:Ct,[ee]:{}},na={[Z]:"Invalid region: region was not a valid DNS name.",[h]:Z},ln={[se]:Lg},Gg={[se]:Ug},hl={[k]:at,[_]:[ln,"service"]},$u={[se]:qu},ch={[C]:[je],[Z]:"S3 Object Lambda does not support Dual-stack",[h]:Z},lh={[C]:[kn],[Z]:"S3 Object Lambda does not support S3 Accelerate",[h]:Z},dh={[C]:[{[k]:bn,[_]:[{[se]:"DisableAccessPoints"}]},{[k]:yt,[_]:[{[se]:"DisableAccessPoints"},!0]}],[Z]:"Access points are not supported for this operation",[h]:Z},yl={[C]:[{[k]:bn,[_]:[{[se]:"UseArnRegion"}]},{[k]:yt,[_]:[{[se]:"UseArnRegion"},!1]},{[k]:Xn,[_]:[{[k]:Re,[_]:[{[k]:at,[_]:[ln,"region"]},"{Region}"]}]}],[Z]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[h]:Z},Vg={[k]:at,[_]:[{[se]:"bucketPartition"},ht]},Wg={[k]:at,[_]:[ln,"accountId"]},gl={[Vt]:[{[Ot]:!0,[ht]:"sigv4",[Mt]:zu,[tn]:"{bucketArn#region}"}]},uh={[Z]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[h]:Z},bl={[Z]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[h]:Z},Cl={[Z]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[h]:Z},pl={[Z]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[h]:Z},fh={[Z]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[h]:Z},mh={[Z]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[h]:Z},di={[Vt]:[{[Ot]:!0,[ht]:"sigv4",[Mt]:Mo,[tn]:"{bucketArn#region}"}]},hh={[Vt]:[{[Ot]:!0,[ht]:Uu,[Mt]:Ai,[Fu]:["*"]},{[Ot]:!0,[ht]:"sigv4",[Mt]:Ai,[tn]:"{bucketArn#region}"}]},yh={[k]:Fg,[_]:[Be]},gh={[Y]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[J]:Ct,[ee]:{}},bh={[Y]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[J]:Ct,[ee]:{}},Ch={[Y]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[J]:Ct,[ee]:{}},xl={[Y]:qg,[J]:Ct,[ee]:{}},ph={[Y]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[J]:Ct,[ee]:{}},xh={[se]:"UseObjectLambdaEndpoint"},Sl={[Vt]:[{[Ot]:!0,[ht]:"sigv4",[Mt]:zu,[tn]:"{Region}"}]},Sh={[Y]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[J]:Ct,[ee]:{}},Eh={[Y]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[J]:Ct,[ee]:{}},wh={[Y]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[J]:Ct,[ee]:{}},El={[Y]:ma,[J]:Ct,[ee]:{}},kh={[Y]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[J]:Ct,[ee]:{}},wl=[{[se]:"Region"}],Lw=[{[se]:"Endpoint"}],Uw=[Be],_h=[je],kl=[kn],qr=[mt,Jt],Ah=[{[k]:bn,[_]:[{[se]:"DisableS3ExpressSessionAuth"}]},{[k]:yt,[_]:[{[se]:"DisableS3ExpressSessionAuth"},!0]}],zw=[Kg],Bh=[Hg],wn=[$g],$r=[Je],vh=[{[k]:Ke,[_]:[Be,6,14,!0],[ye]:"s3expressAvailabilityZoneId"},{[k]:Ke,[_]:[Be,14,16,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[k]:Re,[_]:[{[se]:"s3expressAvailabilityZoneDelim"},"--"]}],Gn=[{[C]:[Je],[M]:{[Y]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[J]:Ds,[ee]:{}},[h]:M},{[M]:{[Y]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[J]:Ds,[ee]:{}},[h]:M}],Ph=[{[k]:Ke,[_]:[Be,6,15,!0],[ye]:"s3expressAvailabilityZoneId"},{[k]:Ke,[_]:[Be,15,17,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[k]:Re,[_]:[{[se]:"s3expressAvailabilityZoneDelim"},"--"]}],Rh=[{[k]:Ke,[_]:[Be,6,19,!0],[ye]:"s3expressAvailabilityZoneId"},{[k]:Ke,[_]:[Be,19,21,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[k]:Re,[_]:[{[se]:"s3expressAvailabilityZoneDelim"},"--"]}],Th=[{[k]:Ke,[_]:[Be,6,20,!0],[ye]:"s3expressAvailabilityZoneId"},{[k]:Ke,[_]:[Be,20,22,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[k]:Re,[_]:[{[se]:"s3expressAvailabilityZoneDelim"},"--"]}],Ih=[{[k]:Ke,[_]:[Be,6,26,!0],[ye]:"s3expressAvailabilityZoneId"},{[k]:Ke,[_]:[Be,26,28,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[k]:Re,[_]:[{[se]:"s3expressAvailabilityZoneDelim"},"--"]}],Vn=[{[C]:[Je],[M]:{[Y]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[J]:{[Fs]:"S3Express",[Vt]:[{[Ot]:!0,[ht]:"sigv4-s3express",[Mt]:"s3express",[tn]:"{Region}"}]},[ee]:{}},[h]:M},{[M]:{[Y]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[J]:{[Fs]:"S3Express",[Vt]:[{[Ot]:!0,[ht]:"sigv4-s3express",[Mt]:"s3express",[tn]:"{Region}"}]},[ee]:{}},[h]:M}],Oh=[Be,0,7,!0],Mh=[{[k]:Ke,[_]:[Be,7,15,!0],[ye]:"s3expressAvailabilityZoneId"},{[k]:Ke,[_]:[Be,15,17,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[k]:Re,[_]:[{[se]:"s3expressAvailabilityZoneDelim"},"--"]}],Nh=[{[k]:Ke,[_]:[Be,7,16,!0],[ye]:"s3expressAvailabilityZoneId"},{[k]:Ke,[_]:[Be,16,18,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[k]:Re,[_]:[{[se]:"s3expressAvailabilityZoneDelim"},"--"]}],Dh=[{[k]:Ke,[_]:[Be,7,20,!0],[ye]:"s3expressAvailabilityZoneId"},{[k]:Ke,[_]:[Be,20,22,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[k]:Re,[_]:[{[se]:"s3expressAvailabilityZoneDelim"},"--"]}],Fh=[{[k]:Ke,[_]:[Be,7,21,!0],[ye]:"s3expressAvailabilityZoneId"},{[k]:Ke,[_]:[Be,21,23,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[k]:Re,[_]:[{[se]:"s3expressAvailabilityZoneDelim"},"--"]}],Lh=[{[k]:Ke,[_]:[Be,7,27,!0],[ye]:"s3expressAvailabilityZoneId"},{[k]:Ke,[_]:[Be,27,29,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[k]:Re,[_]:[{[se]:"s3expressAvailabilityZoneDelim"},"--"]}],qw=[gi],Uh=[{[k]:Rr,[_]:[{[se]:kd},!1]}],zh=[{[k]:Re,[_]:[{[se]:Mg},"beta"]}],$w=["*"],qh=[{[k]:Rr,[_]:[{[se]:"Region"},!1]}],fs=[{[k]:Re,[_]:[{[se]:"Region"},"us-east-1"]}],_l=[{[k]:Re,[_]:[Gg,zg]}],$h=[{[k]:at,[_]:[ln,"resourceId[1]"],[ye]:qu},{[k]:Xn,[_]:[{[k]:Re,[_]:[$u,oc]}]}],jw=[ln,"resourceId[1]"],Al=[{[k]:Xn,[_]:[{[k]:Re,[_]:[{[k]:at,[_]:[ln,"region"]},oc]}]}],jh=[{[k]:Xn,[_]:[{[k]:bn,[_]:[{[k]:at,[_]:[ln,"resourceId[2]"]}]}]}],Kw=[ln,"resourceId[2]"],Bl=[{[k]:nc,[_]:[{[k]:at,[_]:[ln,"region"]}],[ye]:"bucketPartition"}],Kh=[{[k]:Re,[_]:[Vg,{[k]:at,[_]:[{[se]:"partitionResult"},ht]}]}],vl=[{[k]:Rr,[_]:[{[k]:at,[_]:[ln,"region"]},!0]}],Pl=[{[k]:Rr,[_]:[Wg,!1]}],Hh=[{[k]:Rr,[_]:[$u,!1]}],Gh=[{[k]:Rr,[_]:[{[se]:"Region"},!0]}],Hw={parameters:{Bucket:Ur,Region:Ur,UseFIPS:zr,UseDualStack:zr,Endpoint:Ur,ForcePathStyle:zr,Accelerate:zr,UseGlobalEndpoint:zr,UseObjectLambdaEndpoint:li,Key:Ur,Prefix:Ur,CopySource:Ur,DisableAccessPoints:li,DisableMultiRegionAccessPoints:zr,UseArnRegion:li,UseS3ExpressControlEndpoint:li,DisableS3ExpressSessionAuth:li},[P]:[{[C]:[{[k]:bn,[_]:wl}],[P]:[{[C]:[kn,Je],error:"Accelerate cannot be used with FIPS",[h]:Z},{[C]:[je,mt],error:"Cannot set dual-stack in combination with a custom endpoint.",[h]:Z},{[C]:[mt,Je],error:"A custom endpoint cannot be combined with FIPS",[h]:Z},{[C]:[mt,kn],error:"A custom endpoint cannot be combined with S3 Accelerate",[h]:Z},{[C]:[Je,$g,Gm],error:"Partition does not support FIPS",[h]:Z},{[C]:[gi,{[k]:Ke,[_]:[Be,0,Nw,Hn],[ye]:Dm},{[k]:Re,[_]:[{[se]:Dm},"--x-s3"]}],[P]:[Vm,Wm,Xm,{[C]:[Zm,Ym],[P]:[{[C]:wn,[P]:[{[C]:[Kg,he],[P]:[{[C]:$r,endpoint:{[Y]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[J]:Ds,[ee]:me},[h]:M},{endpoint:{[Y]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[J]:Ds,[ee]:me},[h]:M}],[h]:R}],[h]:R}],[h]:R},{[C]:Bh,[P]:[{[C]:wn,[P]:[{[C]:Ah,[P]:[{[C]:vh,[P]:Gn,[h]:R},{[C]:Ph,[P]:Gn,[h]:R},{[C]:Rh,[P]:Gn,[h]:R},{[C]:Th,[P]:Gn,[h]:R},{[C]:Ih,[P]:Gn,[h]:R},ea],[h]:R},{[C]:vh,[P]:Vn,[h]:R},{[C]:Ph,[P]:Vn,[h]:R},{[C]:Rh,[P]:Vn,[h]:R},{[C]:Th,[P]:Vn,[h]:R},{[C]:Ih,[P]:Vn,[h]:R},ea],[h]:R}],[h]:R},Qm],[h]:R},{[C]:[gi,{[k]:Ke,[_]:Oh,[ye]:Fm},{[k]:Re,[_]:[{[se]:Fm},"--xa-s3"]}],[P]:[Vm,Wm,Xm,{[C]:Bh,[P]:[{[C]:wn,[P]:[{[C]:Ah,[P]:[{[C]:Mh,[P]:Gn,[h]:R},{[C]:Nh,[P]:Gn,[h]:R},{[C]:Dh,[P]:Gn,[h]:R},{[C]:Fh,[P]:Gn,[h]:R},{[C]:Lh,[P]:Gn,[h]:R},ea],[h]:R},{[C]:Mh,[P]:Vn,[h]:R},{[C]:Nh,[P]:Vn,[h]:R},{[C]:Dh,[P]:Vn,[h]:R},{[C]:Fh,[P]:Vn,[h]:R},{[C]:Lh,[P]:Vn,[h]:R},ea],[h]:R}],[h]:R},Qm],[h]:R},{[C]:[Jm,Zm,Ym],[P]:[{[C]:wn,[P]:[{[C]:qr,endpoint:{[Y]:ma,[J]:Ds,[ee]:me},[h]:M},{[C]:$r,endpoint:{[Y]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}",[J]:Ds,[ee]:me},[h]:M},{endpoint:{[Y]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}",[J]:Ds,[ee]:me},[h]:M}],[h]:R}],[h]:R},{[C]:[gi,{[k]:Ke,[_]:[Be,49,50,Hn],[ye]:Og},{[k]:Ke,[_]:[Be,8,12,Hn],[ye]:Mg},{[k]:Ke,[_]:Oh,[ye]:Lm},{[k]:Ke,[_]:[Be,32,49,Hn],[ye]:kd},{[k]:nc,[_]:wl,[ye]:"regionPartition"},{[k]:Re,[_]:[{[se]:Lm},"--op-s3"]}],[P]:[{[C]:Uh,[P]:[{[C]:[{[k]:Re,[_]:[eh,"e"]}],[P]:[{[C]:zh,[P]:[th,{[C]:qr,endpoint:{[Y]:"https://{Bucket}.ec2.{url#authority}",[J]:ta,[ee]:me},[h]:M}],[h]:R},{endpoint:{[Y]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[J]:ta,[ee]:me},[h]:M}],[h]:R},{[C]:[{[k]:Re,[_]:[eh,"o"]}],[P]:[{[C]:zh,[P]:[th,{[C]:qr,endpoint:{[Y]:"https://{Bucket}.op-{outpostId}.{url#authority}",[J]:ta,[ee]:me},[h]:M}],[h]:R},{endpoint:{[Y]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[J]:ta,[ee]:me},[h]:M}],[h]:R},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[h]:Z}],[h]:R},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[h]:Z}],[h]:R},{[C]:qw,[P]:[{[C]:[mt,{[k]:Xn,[_]:[{[k]:bn,[_]:[{[k]:Lu,[_]:Lw}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[h]:Z},{[C]:[dl,Hg],[P]:[{[C]:wn,[P]:[{[C]:qh,[P]:[{[C]:[kn,Gm],error:"S3 Accelerate cannot be used in this region",[h]:Z},{[C]:[je,Je,gt,he,Et],endpoint:{[Y]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[J]:Rt,[ee]:me},[h]:M},{[C]:[je,Je,gt,he,_e,Tt],[P]:[{endpoint:nh,[h]:M}],[h]:R},{[C]:[je,Je,gt,he,_e,It],endpoint:nh,[h]:M},{[C]:[we,Je,gt,he,Et],endpoint:{[Y]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[J]:Rt,[ee]:me},[h]:M},{[C]:[we,Je,gt,he,_e,Tt],[P]:[{endpoint:sh,[h]:M}],[h]:R},{[C]:[we,Je,gt,he,_e,It],endpoint:sh,[h]:M},{[C]:[je,Ce,kn,he,Et],endpoint:{[Y]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[J]:Rt,[ee]:me},[h]:M},{[C]:[je,Ce,kn,he,_e,Tt],[P]:[{endpoint:rh,[h]:M}],[h]:R},{[C]:[je,Ce,kn,he,_e,It],endpoint:rh,[h]:M},{[C]:[je,Ce,gt,he,Et],endpoint:{[Y]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[J]:Rt,[ee]:me},[h]:M},{[C]:[je,Ce,gt,he,_e,Tt],[P]:[{endpoint:oh,[h]:M}],[h]:R},{[C]:[je,Ce,gt,he,_e,It],endpoint:oh,[h]:M},{[C]:[we,Ce,gt,mt,Jt,ll,Et],endpoint:{[Y]:Ng,[J]:Rt,[ee]:me},[h]:M},{[C]:[we,Ce,gt,mt,Jt,ul,Et],endpoint:{[Y]:rc,[J]:Rt,[ee]:me},[h]:M},{[C]:[we,Ce,gt,mt,Jt,ll,_e,Tt],[P]:[{[C]:fs,endpoint:fl,[h]:M},{endpoint:fl,[h]:M}],[h]:R},{[C]:[we,Ce,gt,mt,Jt,ul,_e,Tt],[P]:[{[C]:fs,endpoint:_d,[h]:M},ih],[h]:R},{[C]:[we,Ce,gt,mt,Jt,ll,_e,It],endpoint:fl,[h]:M},{[C]:[we,Ce,gt,mt,Jt,ul,_e,It],endpoint:_d,[h]:M},{[C]:[we,Ce,kn,he,Et],endpoint:{[Y]:Dg,[J]:Rt,[ee]:me},[h]:M},{[C]:[we,Ce,kn,he,_e,Tt],[P]:[{[C]:fs,endpoint:ml,[h]:M},{endpoint:ml,[h]:M}],[h]:R},{[C]:[we,Ce,kn,he,_e,It],endpoint:ml,[h]:M},{[C]:[we,Ce,gt,he,Et],endpoint:{[Y]:Um,[J]:Rt,[ee]:me},[h]:M},{[C]:[we,Ce,gt,he,_e,Tt],[P]:[{[C]:fs,endpoint:{[Y]:Um,[J]:Ct,[ee]:me},[h]:M},{endpoint:ah,[h]:M}],[h]:R},{[C]:[we,Ce,gt,he,_e,It],endpoint:ah,[h]:M}],[h]:R},na],[h]:R}],[h]:R},{[C]:[mt,Jt,{[k]:Re,[_]:[{[k]:at,[_]:[jg,"scheme"]},"http"]},{[k]:sc,[_]:[Be,Hn]},dl,Ce,we,gt],[P]:[{[C]:wn,[P]:[{[C]:qh,[P]:[ih],[h]:R},na],[h]:R}],[h]:R},{[C]:[dl,{[k]:Fg,[_]:Uw,[ye]:Lg}],[P]:[{[C]:[{[k]:at,[_]:[ln,"resourceId[0]"],[ye]:Ug},{[k]:Xn,[_]:[{[k]:Re,[_]:[Gg,oc]}]}],[P]:[{[C]:[{[k]:Re,[_]:[hl,zu]}],[P]:[{[C]:_l,[P]:[{[C]:$h,[P]:[ch,lh,{[C]:Al,[P]:[dh,{[C]:jh,[P]:[yl,{[C]:Bl,[P]:[{[C]:wn,[P]:[{[C]:Kh,[P]:[{[C]:vl,[P]:[{[C]:[{[k]:Re,[_]:[Wg,oc]}],error:"Invalid ARN: Missing account id",[h]:Z},{[C]:Pl,[P]:[{[C]:Hh,[P]:[{[C]:qr,endpoint:{[Y]:zm,[J]:gl,[ee]:me},[h]:M},{[C]:$r,endpoint:{[Y]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[J]:gl,[ee]:me},[h]:M},{endpoint:{[Y]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[J]:gl,[ee]:me},[h]:M}],[h]:R},uh],[h]:R},bl],[h]:R},Cl],[h]:R},pl],[h]:R}],[h]:R}],[h]:R},fh],[h]:R},{error:"Invalid ARN: bucket ARN is missing a region",[h]:Z}],[h]:R},mh],[h]:R},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[h]:Z}],[h]:R},{[C]:_l,[P]:[{[C]:$h,[P]:[{[C]:Al,[P]:[{[C]:_l,[P]:[{[C]:Al,[P]:[dh,{[C]:jh,[P]:[yl,{[C]:Bl,[P]:[{[C]:wn,[P]:[{[C]:[{[k]:Re,[_]:[Vg,"{partitionResult#name}"]}],[P]:[{[C]:vl,[P]:[{[C]:[{[k]:Re,[_]:[hl,Mo]}],[P]:[{[C]:Pl,[P]:[{[C]:Hh,[P]:[{[C]:kl,error:"Access Points do not support S3 Accelerate",[h]:Z},{[C]:[Je,je],endpoint:{[Y]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[J]:di,[ee]:me},[h]:M},{[C]:[Je,we],endpoint:{[Y]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[J]:di,[ee]:me},[h]:M},{[C]:[Ce,je],endpoint:{[Y]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[J]:di,[ee]:me},[h]:M},{[C]:[Ce,we,mt,Jt],endpoint:{[Y]:zm,[J]:di,[ee]:me},[h]:M},{[C]:[Ce,we],endpoint:{[Y]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[J]:di,[ee]:me},[h]:M}],[h]:R},uh],[h]:R},bl],[h]:R},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[h]:Z}],[h]:R},Cl],[h]:R},pl],[h]:R}],[h]:R}],[h]:R},fh],[h]:R}],[h]:R}],[h]:R},{[C]:[{[k]:Rr,[_]:[$u,Hn]}],[P]:[{[C]:_h,error:"S3 MRAP does not support dual-stack",[h]:Z},{[C]:$r,error:"S3 MRAP does not support FIPS",[h]:Z},{[C]:kl,error:"S3 MRAP does not support S3 Accelerate",[h]:Z},{[C]:[{[k]:yt,[_]:[{[se]:"DisableMultiRegionAccessPoints"},Hn]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[h]:Z},{[C]:[{[k]:nc,[_]:wl,[ye]:qm}],[P]:[{[C]:[{[k]:Re,[_]:[{[k]:at,[_]:[{[se]:qm},ht]},{[k]:at,[_]:[ln,"partition"]}]}],[P]:[{endpoint:{[Y]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[J]:{[Vt]:[{[Ot]:Hn,name:Uu,[Mt]:Mo,[Fu]:$w}]},[ee]:me},[h]:M}],[h]:R},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[h]:Z}],[h]:R}],[h]:R},{error:"Invalid Access Point Name",[h]:Z}],[h]:R},mh],[h]:R},{[C]:[{[k]:Re,[_]:[hl,Ai]}],[P]:[{[C]:_h,error:"S3 Outposts does not support Dual-stack",[h]:Z},{[C]:$r,error:"S3 Outposts does not support FIPS",[h]:Z},{[C]:kl,error:"S3 Outposts does not support S3 Accelerate",[h]:Z},{[C]:[{[k]:bn,[_]:[{[k]:at,[_]:[ln,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[h]:Z},{[C]:[{[k]:at,[_]:jw,[ye]:kd}],[P]:[{[C]:Uh,[P]:[yl,{[C]:Bl,[P]:[{[C]:wn,[P]:[{[C]:Kh,[P]:[{[C]:vl,[P]:[{[C]:Pl,[P]:[{[C]:[{[k]:at,[_]:Kw,[ye]:$m}],[P]:[{[C]:[{[k]:at,[_]:[ln,"resourceId[3]"],[ye]:qu}],[P]:[{[C]:[{[k]:Re,[_]:[{[se]:$m},zg]}],[P]:[{[C]:qr,endpoint:{[Y]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[J]:hh,[ee]:me},[h]:M},{endpoint:{[Y]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[J]:hh,[ee]:me},[h]:M}],[h]:R},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[h]:Z}],[h]:R},{error:"Invalid ARN: expected an access point name",[h]:Z}],[h]:R},{error:"Invalid ARN: Expected a 4-component resource",[h]:Z}],[h]:R},bl],[h]:R},Cl],[h]:R},pl],[h]:R}],[h]:R}],[h]:R},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[h]:Z}],[h]:R},{error:"Invalid ARN: The Outpost Id was not set",[h]:Z}],[h]:R},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[h]:Z}],[h]:R},{error:"Invalid ARN: No ARN type specified",[h]:Z}],[h]:R},{[C]:[{[k]:Ke,[_]:[Be,0,4,Dw],[ye]:jm},{[k]:Re,[_]:[{[se]:jm},"arn:"]},{[k]:Xn,[_]:[{[k]:bn,[_]:[yh]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[h]:Z},{[C]:[{[k]:yt,[_]:[Fw,Hn]},yh],error:"Path-style addressing cannot be used with ARN buckets",[h]:Z},{[C]:zw,[P]:[{[C]:wn,[P]:[{[C]:[gt],[P]:[{[C]:[je,he,Je,Et],endpoint:{[Y]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[J]:Rt,[ee]:me},[h]:M},{[C]:[je,he,Je,_e,Tt],[P]:[{endpoint:gh,[h]:M}],[h]:R},{[C]:[je,he,Je,_e,It],endpoint:gh,[h]:M},{[C]:[we,he,Je,Et],endpoint:{[Y]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[J]:Rt,[ee]:me},[h]:M},{[C]:[we,he,Je,_e,Tt],[P]:[{endpoint:bh,[h]:M}],[h]:R},{[C]:[we,he,Je,_e,It],endpoint:bh,[h]:M},{[C]:[je,he,Ce,Et],endpoint:{[Y]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[J]:Rt,[ee]:me},[h]:M},{[C]:[je,he,Ce,_e,Tt],[P]:[{endpoint:Ch,[h]:M}],[h]:R},{[C]:[je,he,Ce,_e,It],endpoint:Ch,[h]:M},{[C]:[we,mt,Jt,Ce,Et],endpoint:{[Y]:qg,[J]:Rt,[ee]:me},[h]:M},{[C]:[we,mt,Jt,Ce,_e,Tt],[P]:[{[C]:fs,endpoint:xl,[h]:M},{endpoint:xl,[h]:M}],[h]:R},{[C]:[we,mt,Jt,Ce,_e,It],endpoint:xl,[h]:M},{[C]:[we,he,Ce,Et],endpoint:{[Y]:Km,[J]:Rt,[ee]:me},[h]:M},{[C]:[we,he,Ce,_e,Tt],[P]:[{[C]:fs,endpoint:{[Y]:Km,[J]:Ct,[ee]:me},[h]:M},{endpoint:ph,[h]:M}],[h]:R},{[C]:[we,he,Ce,_e,It],endpoint:ph,[h]:M}],[h]:R},{error:"Path-style addressing cannot be used with S3 Accelerate",[h]:Z}],[h]:R}],[h]:R}],[h]:R},{[C]:[{[k]:bn,[_]:[xh]},{[k]:yt,[_]:[xh,Hn]}],[P]:[{[C]:wn,[P]:[{[C]:Gh,[P]:[ch,lh,{[C]:qr,endpoint:{[Y]:ma,[J]:Sl,[ee]:me},[h]:M},{[C]:$r,endpoint:{[Y]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[J]:Sl,[ee]:me},[h]:M},{endpoint:{[Y]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[J]:Sl,[ee]:me},[h]:M}],[h]:R},na],[h]:R}],[h]:R},{[C]:[Jm],[P]:[{[C]:wn,[P]:[{[C]:Gh,[P]:[{[C]:[Je,je,he,Et],endpoint:{[Y]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[J]:Rt,[ee]:me},[h]:M},{[C]:[Je,je,he,_e,Tt],[P]:[{endpoint:Sh,[h]:M}],[h]:R},{[C]:[Je,je,he,_e,It],endpoint:Sh,[h]:M},{[C]:[Je,we,he,Et],endpoint:{[Y]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[J]:Rt,[ee]:me},[h]:M},{[C]:[Je,we,he,_e,Tt],[P]:[{endpoint:Eh,[h]:M}],[h]:R},{[C]:[Je,we,he,_e,It],endpoint:Eh,[h]:M},{[C]:[Ce,je,he,Et],endpoint:{[Y]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[J]:Rt,[ee]:me},[h]:M},{[C]:[Ce,je,he,_e,Tt],[P]:[{endpoint:wh,[h]:M}],[h]:R},{[C]:[Ce,je,he,_e,It],endpoint:wh,[h]:M},{[C]:[Ce,we,mt,Jt,Et],endpoint:{[Y]:ma,[J]:Rt,[ee]:me},[h]:M},{[C]:[Ce,we,mt,Jt,_e,Tt],[P]:[{[C]:fs,endpoint:El,[h]:M},{endpoint:El,[h]:M}],[h]:R},{[C]:[Ce,we,mt,Jt,_e,It],endpoint:El,[h]:M},{[C]:[Ce,we,he,Et],endpoint:{[Y]:Hm,[J]:Rt,[ee]:me},[h]:M},{[C]:[Ce,we,he,_e,Tt],[P]:[{[C]:fs,endpoint:{[Y]:Hm,[J]:Ct,[ee]:me},[h]:M},{endpoint:kh,[h]:M}],[h]:R},{[C]:[Ce,we,he,_e,It],endpoint:kh,[h]:M}],[h]:R},na],[h]:R}],[h]:R}],[h]:R},{error:"A region must be set when sending requests to S3.",[h]:Z}]},Gw=Hw,Vw=new lE({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),Xg=(e,n={})=>Vw.get(e,()=>vE(Gw,{endpointParams:e,logger:n.logger}));Ja.aws=_g;const Ww=e=>async(n,t,s)=>{var a,l,c;if(!s)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");const r=await e(n,t,s),o=(c=(l=(a=Uo(t))==null?void 0:a.commandInstance)==null?void 0:l.constructor)==null?void 0:c.getEndpointParameterInstructions;if(!o)throw new Error(`getEndpointParameterInstructions() is not defined on \`${t.commandName}\``);const i=await Pg(s,{getEndpointParameterInstructions:o},n);return Object.assign(r,i)},Xw=async(e,n,t)=>({operation:Uo(n).operation,region:await Ln(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),Qw=Ww(Xw);function Qg(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(n,t)=>({signingProperties:{config:n,context:t}})}}function Zg(e){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(n,t)=>({signingProperties:{config:n,context:t}})}}const Zw=(e,n,t)=>r=>{var l;const i=(l=e(r).properties)==null?void 0:l.authSchemes;if(!i)return n(r);const a=[];for(const c of i){const{name:d,properties:m={},...u}=c,b=d.toLowerCase();d!==b&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${d}\` to \`${b}\``);let w;if(b==="sigv4a"){if(w="aws.auth#sigv4a",i.find(E=>{const O=E.name.toLowerCase();return O!=="sigv4a"&&O.startsWith("sigv4")}))continue}else if(b.startsWith("sigv4"))w="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${b}\``);const A=t[w];if(!A)throw new Error(`Could not find HttpAuthOption create function for \`${w}\``);const B=A(r);B.schemeId=w,B.signingProperties={...B.signingProperties||{},...u,...m},a.push(B)}return a},Yw=e=>{const n=[];switch(e.operation){default:n.push(Qg(e)),n.push(Zg(e))}return n},Jw=Zw(Xg,Yw,{"aws.auth#sigv4":Qg,"aws.auth#sigv4a":Zg}),ek=e=>{const n=Wp(e),t=Ep(n);return Object.assign(t,{authSchemePreference:Ln(e.authSchemePreference??[])})},tk=e=>Object.assign(e,{useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),z={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class Zt extends Gr{constructor(n){super(n),Object.setPrototypeOf(this,Zt.prototype)}}class ju extends Zt{constructor(t){super({name:"NoSuchUpload",$fault:"client",...t});ne(this,"name","NoSuchUpload");ne(this,"$fault","client");Object.setPrototypeOf(this,ju.prototype)}}const nk={CRC32:"CRC32"};class Ku extends Zt{constructor(t){super({name:"ObjectNotInActiveTierError",$fault:"client",...t});ne(this,"name","ObjectNotInActiveTierError");ne(this,"$fault","client");Object.setPrototypeOf(this,Ku.prototype)}}class Hu extends Zt{constructor(t){super({name:"BucketAlreadyExists",$fault:"client",...t});ne(this,"name","BucketAlreadyExists");ne(this,"$fault","client");Object.setPrototypeOf(this,Hu.prototype)}}class Gu extends Zt{constructor(t){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...t});ne(this,"name","BucketAlreadyOwnedByYou");ne(this,"$fault","client");Object.setPrototypeOf(this,Gu.prototype)}}class Vu extends Zt{constructor(t){super({name:"NoSuchBucket",$fault:"client",...t});ne(this,"name","NoSuchBucket");ne(this,"$fault","client");Object.setPrototypeOf(this,Vu.prototype)}}var Ad;(function(e){e.visit=(n,t)=>n.Prefix!==void 0?t.Prefix(n.Prefix):n.Tag!==void 0?t.Tag(n.Tag):n.And!==void 0?t.And(n.And):t._(n.$unknown[0],n.$unknown[1])})(Ad||(Ad={}));var Bd;(function(e){e.visit=(n,t)=>n.Prefix!==void 0?t.Prefix(n.Prefix):n.Tag!==void 0?t.Tag(n.Tag):n.AccessPointArn!==void 0?t.AccessPointArn(n.AccessPointArn):n.And!==void 0?t.And(n.And):t._(n.$unknown[0],n.$unknown[1])})(Bd||(Bd={}));class Wu extends Zt{constructor(t){super({name:"InvalidObjectState",$fault:"client",...t});ne(this,"name","InvalidObjectState");ne(this,"$fault","client");ne(this,"StorageClass");ne(this,"AccessTier");Object.setPrototypeOf(this,Wu.prototype),this.StorageClass=t.StorageClass,this.AccessTier=t.AccessTier}}class Xu extends Zt{constructor(t){super({name:"NoSuchKey",$fault:"client",...t});ne(this,"name","NoSuchKey");ne(this,"$fault","client");Object.setPrototypeOf(this,Xu.prototype)}}class Qu extends Zt{constructor(t){super({name:"NotFound",$fault:"client",...t});ne(this,"name","NotFound");ne(this,"$fault","client");Object.setPrototypeOf(this,Qu.prototype)}}const sk=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:pe}}),rk=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:pe}}),ok=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:pe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:pe}}),ik=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:pe},...e.SSEKMSKeyId&&{SSEKMSKeyId:pe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:pe},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:pe}}),ak=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:pe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:pe}}),ck=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:pe},...e.SSEKMSKeyId&&{SSEKMSKeyId:pe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:pe}}),lk=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:pe},...e.SessionToken&&{SessionToken:pe}}),dk=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:pe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:pe},...e.Credentials&&{Credentials:lk(e.Credentials)}}),uk=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:pe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:pe}}),fk=e=>({...e,...e.KMSMasterKeyID&&{KMSMasterKeyID:pe}}),mk=e=>({...e,...e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:fk(e.ApplyServerSideEncryptionByDefault)}}),Yg=e=>({...e,...e.Rules&&{Rules:e.Rules.map(n=>mk(n))}}),hk=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:Yg(e.ServerSideEncryptionConfiguration)}}),yk=e=>({...e,...e.KeyId&&{KeyId:pe}}),gk=e=>({...e,...e.SSEKMS&&{SSEKMS:yk(e.SSEKMS)}}),bk=e=>({...e,...e.Encryption&&{Encryption:gk(e.Encryption)}}),Ck=e=>({...e,...e.S3BucketDestination&&{S3BucketDestination:bk(e.S3BucketDestination)}}),Zu=e=>({...e,...e.Destination&&{Destination:Ck(e.Destination)}}),pk=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:Zu(e.InventoryConfiguration)}}),xk=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:pe}}),Sk=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:pe}}),Ek=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:pe}}),wk=e=>({...e}),kk=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:pe}}),_k=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:pe}}),Ak=e=>({...e,...e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map(n=>Zu(n))}}),Bk=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:pe}});function vk(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function Pk(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}class Yu{constructor(n){ne(this,"value");this.value=n}toString(){return Pk(""+this.value)}}class g{constructor(n,t=[]){ne(this,"name");ne(this,"children");ne(this,"attributes",{});this.name=n,this.children=t}static of(n,t,s){const r=new g(n);return t!==void 0&&r.addChildNode(new Yu(t)),s!==void 0&&r.withName(s),r}withName(n){return this.name=n,this}addAttribute(n,t){return this.attributes[n]=t,this}addChildNode(n){return this.children.push(n),this}removeAttribute(n){return delete this.attributes[n],this}n(n){return this.name=n,this}c(n){return this.children.push(n),this}a(n,t){return t!=null&&(this.attributes[n]=t),this}cc(n,t,s=t){if(n[t]!=null){const r=g.of(t,n[t]).withName(s);this.c(r)}}l(n,t,s,r){n[t]!=null&&r().map(i=>{i.withName(s),this.c(i)})}lc(n,t,s,r){if(n[t]!=null){const o=r(),i=new g(s);o.map(a=>{i.c(a)}),this.c(i)}}toString(){const n=!!this.children.length;let t=`<${this.name}`;const s=this.attributes;for(const r of Object.keys(s)){const o=s[r];o!=null&&(t+=` ${r}="${vk(""+o)}"`)}return t+=n?`>${this.children.map(r=>r.toString()).join("")}</${this.name}>`:"/>"}}class Ju extends Zt{constructor(t){super({name:"EncryptionTypeMismatch",$fault:"client",...t});ne(this,"name","EncryptionTypeMismatch");ne(this,"$fault","client");Object.setPrototypeOf(this,Ju.prototype)}}class ef extends Zt{constructor(t){super({name:"InvalidRequest",$fault:"client",...t});ne(this,"name","InvalidRequest");ne(this,"$fault","client");Object.setPrototypeOf(this,ef.prototype)}}class tf extends Zt{constructor(t){super({name:"InvalidWriteOffset",$fault:"client",...t});ne(this,"name","InvalidWriteOffset");ne(this,"$fault","client");Object.setPrototypeOf(this,tf.prototype)}}class nf extends Zt{constructor(t){super({name:"TooManyParts",$fault:"client",...t});ne(this,"name","TooManyParts");ne(this,"$fault","client");Object.setPrototypeOf(this,nf.prototype)}}class sf extends Zt{constructor(t){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...t});ne(this,"name","ObjectAlreadyInActiveTierError");ne(this,"$fault","client");Object.setPrototypeOf(this,sf.prototype)}}var Vh;(function(e){e.visit=(n,t)=>n.Records!==void 0?t.Records(n.Records):n.Stats!==void 0?t.Stats(n.Stats):n.Progress!==void 0?t.Progress(n.Progress):n.Cont!==void 0?t.Cont(n.Cont):n.End!==void 0?t.End(n.End):t._(n.$unknown[0],n.$unknown[1])})(Vh||(Vh={}));const Rk=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:Yg(e.ServerSideEncryptionConfiguration)}}),Tk=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:Zu(e.InventoryConfiguration)}}),Ik=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:pe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:pe}}),Ok=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:pe},...e.SSEKMSKeyId&&{SSEKMSKeyId:pe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:pe}}),Mk=e=>({...e,...e.KMSKeyId&&{KMSKeyId:pe}}),Nk=e=>({...e,...e.Encryption&&{Encryption:Mk(e.Encryption)}}),Dk=e=>({...e,...e.S3&&{S3:Nk(e.S3)}}),Fk=e=>({...e,...e.OutputLocation&&{OutputLocation:Dk(e.OutputLocation)}}),Lk=e=>({...e,...e.RestoreRequest&&{RestoreRequest:Fk(e.RestoreRequest)}}),Uk=e=>({...e,...e.Payload&&{Payload:"STREAMING_CONTENT"}}),zk=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:pe}}),qk=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:pe}}),$k=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:pe}}),jk=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:pe}}),Kk=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:pe},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:pe}}),Hk=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:pe}}),Gk=async(e,n)=>{const t=L(e,n),s=f({},v,{[Fe]:e[Ne],[H]:e[K],[o2]:[()=>v(e[ey]),()=>Dt(e[ey]).toString()]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=f({[Ut]:[,"AbortMultipartUpload"],[zi]:[,te(e[mn],"UploadId")]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},Vk=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[Mr]:e[Ge],[Nr]:e[Ve],[Dr]:e[We],[Fr]:e[Xe],[Lr]:e[Qe],[si]:e[Ze],[l2]:[()=>v(e[oy]),()=>e[oy].toString()],[Fe]:e[Ne],[H]:e[K],[Li]:e[Ti],[Oc]:e[Ac],[Ft]:e[kt],[$n]:e[qn],[Lt]:e[_t]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=f({[zi]:[,te(e[mn],"UploadId")]});let o,i;return e.MultipartUpload!==void 0&&(i=iP(e.MultipartUpload),i=i.n("CompleteMultipartUpload"),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("POST").h(s).q(r).b(o),t.build()},Wk=async(e,n)=>{const t=L(e,n),s=f({},v,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((i,a)=>(i[`x-amz-meta-${a.toLowerCase()}`]=e.Metadata[a],i),{}),[ni]:e[Ko],[Oi]:e[Ho],[Tf]:e[xe],[Mi]:e[Go],[Ni]:e[Vo],[Di]:e[Wo],[Fi]:e[Xo],[SC]:e[xb],[EC]:e[Sb],[wC]:[()=>v(e[ic]),()=>Dt(e[ic]).toString()],[kC]:e[Eb],[_C]:[()=>v(e[ac]),()=>Dt(e[ac]).toString()],[Ar]:[()=>v(e[Yn]),()=>Dt(e[Yn]).toString()],[ri]:e[Qo],[oi]:e[Zo],[ii]:e[Yo],[ai]:e[Jo],[c2]:e[GO],[C2]:e[$1],[Sn]:e[Yt],[Ki]:e[be],[Hi]:e[Ii],[Ft]:e[kt],[$n]:e[qn],[Lt]:e[_t],[En]:e[$t],[Os]:e[Is],[ut]:[()=>v(e[et]),()=>e[et].toString()],[AC]:e[wb],[BC]:e[kb],[vC]:e[_b],[Fe]:e[Ne],[Nf]:e[Sr],[ji]:e[ei],[Br]:[()=>v(e[Jn]),()=>Pr(e[Jn]).toString()],[$i]:e[Ir],[H]:e[K],[IC]:e[vb]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=f({[Ut]:[,"CopyObject"]});return t.m("PUT").h(s).q(r).b(void 0),t.build()},Xk=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[ni]:e[Ko],[ri]:e[Qo],[oi]:e[Zo],[ii]:e[Yo],[If]:e[ff],[ai]:e[Jo],[CM]:[()=>v(e[ay]),()=>e[ay].toString()],[f2]:e[pi]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let r,o;return e.CreateBucketConfiguration!==void 0&&(o=mP(e.CreateBucketConfiguration),r=De,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),r+=o.toString()),t.m("PUT").h(s).b(r),t.build()},Qk=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[St]:e[xt],[dt]:e[xe],[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[wf]:[,""]});let o,i;return e.MetadataTableConfiguration!==void 0&&(i=JP(e.MetadataTableConfiguration),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("POST").h(s).q(r).b(o),t.build()},Zk=async(e,n)=>{const t=L(e,n),s=f({},v,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((i,a)=>(i[`x-amz-meta-${a.toLowerCase()}`]=e.Metadata[a],i),{}),[ni]:e[Ko],[Oi]:e[Ho],[Mi]:e[Go],[Ni]:e[Vo],[Di]:e[Wo],[Fi]:e[Xo],[Ar]:[()=>v(e[Yn]),()=>Dt(e[Yn]).toString()],[ri]:e[Qo],[oi]:e[Zo],[ii]:e[Yo],[ai]:e[Jo],[Sn]:e[Yt],[Ki]:e[be],[Hi]:e[Ii],[Ft]:e[kt],[$n]:e[qn],[Lt]:e[_t],[En]:e[$t],[Os]:e[Is],[ut]:[()=>v(e[et]),()=>e[et].toString()],[Fe]:e[Ne],[Nf]:e[Sr],[ji]:e[ei],[Br]:[()=>v(e[Jn]),()=>Pr(e[Jn]).toString()],[$i]:e[Ir],[H]:e[K],[Tf]:e[xe],[si]:e[Ze]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=f({[gC]:[,""]});return t.m("POST").h(s).q(r).b(void 0),t.build()},Yk=async(e,n)=>{const t=L(e,n),s=f({},v,{[SM]:e[N1],[Sn]:e[Yt],[En]:e[$t],[Os]:e[Is],[ut]:[()=>v(e[et]),()=>e[et].toString()]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[aM]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},Jk=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});return t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.m("DELETE").h(s).b(void 0),t.build()},e_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Bc]:[,""],[Nn]:[,te(e[ae],"Id")]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},t_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[xf]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},n_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Sf]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},s_=async(e,n)=>{const t=L(e,n),s={};t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Mc]:[,""],[Nn]:[,te(e[ae],"Id")]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},r_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Ic]:[,""],[Nn]:[,te(e[ae],"Id")]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},o_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Ef]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},i_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[wf]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},a_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Nc]:[,""],[Nn]:[,te(e[ae],"Id")]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},c_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[_f]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},l_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Af]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},d_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[vf]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},u_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[ti]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},f_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Pf]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},m_=async(e,n)=>{const t=L(e,n),s=f({},v,{[Of]:e[mf],[Fe]:e[Ne],[Rf]:[()=>v(e[No]),()=>e[No].toString()],[H]:e[K],[Li]:e[Ti],[i2]:[()=>v(e[ty]),()=>Dt(e[ty]).toString()],[a2]:[()=>v(e[ny]),()=>e[ny].toString()]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=f({[Ut]:[,"DeleteObject"],[yn]:[,e[Se]]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},h_=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[Of]:e[mf],[Fe]:e[Ne],[Rf]:[()=>v(e[No]),()=>e[No].toString()],[H]:e[K],[dt]:e[xe]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Q1]:[,""]});let o,i;return e.Delete!==void 0&&(i=bP(e.Delete),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("POST").h(s).q(r).b(o),t.build()},y_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=f({[ti]:[,""],[yn]:[,e[Se]]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},g_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Bf]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},b_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K],[Fe]:e[Ne]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Xb]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},C_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[vc]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},p_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Bc]:[,""],[Ut]:[,"GetBucketAnalyticsConfiguration"],[Nn]:[,te(e[ae],"Id")]});return t.m("GET").h(s).q(r).b(void 0),t.build()},x_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[xf]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},S_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Sf]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},E_=async(e,n)=>{const t=L(e,n),s={};t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Mc]:[,""],[Ut]:[,"GetBucketIntelligentTieringConfiguration"],[Nn]:[,te(e[ae],"Id")]});return t.m("GET").h(s).q(r).b(void 0),t.build()},w_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Ic]:[,""],[Ut]:[,"GetBucketInventoryConfiguration"],[Nn]:[,te(e[ae],"Id")]});return t.m("GET").h(s).q(r).b(void 0),t.build()},k_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Ef]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},__=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[sC]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},A_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[rC]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},B_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[wf]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},v_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Nc]:[,""],[Ut]:[,"GetBucketMetricsConfiguration"],[Nn]:[,te(e[ae],"Id")]});return t.m("GET").h(s).q(r).b(void 0),t.build()},P_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[oC]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},R_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[_f]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},T_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Af]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},I_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[rM]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},O_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[vf]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},M_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[aC]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},N_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[ti]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},D_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[bC]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},F_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Pf]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},L_=async(e,n)=>{const t=L(e,n),s=f({},v,{[Li]:e[Ti],[Jb]:[()=>v(e[cc]),()=>Dt(e[cc]).toString()],[Oc]:e[Ac],[eC]:[()=>v(e[lc]),()=>Dt(e[lc]).toString()],[cC]:e[Lb],[Ft]:e[kt],[$n]:e[qn],[Lt]:e[_t],[Fe]:e[Ne],[H]:e[K],[xC]:e[pb]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=f({[Ut]:[,"GetObject"],[lC]:[,e[Ub]],[dC]:[,e[zb]],[uC]:[,e[qb]],[fC]:[,e[$b]],[mC]:[,e[jb]],[hC]:[()=>e.ResponseExpires!==void 0,()=>Dt(e[Kb]).toString()],[yn]:[,e[Se]],[Dc]:[()=>e.PartNumber!==void 0,()=>e[dn].toString()]});return t.m("GET").h(s).q(r).b(void 0),t.build()},U_=async(e,n)=>{const t=L(e,n),s=f({},v,{[Fe]:e[Ne],[H]:e[K]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=f({[vc]:[,""],[yn]:[,e[Se]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},z_=async(e,n)=>{const t=L(e,n),s=f({},v,{[d2]:[()=>v(e[os]),()=>e[os].toString()],[m2]:e[Ss],[Ft]:e[kt],[$n]:e[qn],[Lt]:e[_t],[Fe]:e[Ne],[H]:e[K],[u2]:[()=>v(e[iy]),()=>(e[iy]||[]).map(Sc).join(", ")]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=f({[W1]:[,""],[yn]:[,e[Se]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},q_=async(e,n)=>{const t=L(e,n),s=f({},v,{[Fe]:e[Ne],[H]:e[K]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=f({[nC]:[,""],[yn]:[,e[Se]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},$_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[iC]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},j_=async(e,n)=>{const t=L(e,n),s=f({},v,{[Fe]:e[Ne],[H]:e[K]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=f({[yC]:[,""],[yn]:[,e[Se]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},K_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K],[Fe]:e[Ne]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=f({[ti]:[,""],[yn]:[,e[Se]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},H_=async(e,n)=>{const t=L(e,n),s=f({},v,{[Fe]:e[Ne],[H]:e[K]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=f({[uM]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},G_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Bf]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},V_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});return t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.m("HEAD").h(s).b(void 0),t.build()},W_=async(e,n)=>{const t=L(e,n),s=f({},v,{[Li]:e[Ti],[Jb]:[()=>v(e[cc]),()=>Dt(e[cc]).toString()],[Oc]:e[Ac],[eC]:[()=>v(e[lc]),()=>Dt(e[lc]).toString()],[cC]:e[Lb],[Ft]:e[kt],[$n]:e[qn],[Lt]:e[_t],[Fe]:e[Ne],[H]:e[K],[xC]:e[pb]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=f({[lC]:[,e[Ub]],[dC]:[,e[zb]],[uC]:[,e[qb]],[fC]:[,e[$b]],[mC]:[,e[jb]],[hC]:[()=>e.ResponseExpires!==void 0,()=>Dt(e[Kb]).toString()],[yn]:[,e[Se]],[Dc]:[()=>e.PartNumber!==void 0,()=>e[dn].toString()]});return t.m("HEAD").h(s).q(r).b(void 0),t.build()},X_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Bc]:[,""],[Ut]:[,"ListBucketAnalyticsConfigurations"],[Or]:[,e[Ue]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},Q_=async(e,n)=>{const t=L(e,n),s={};t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Mc]:[,""],[Ut]:[,"ListBucketIntelligentTieringConfigurations"],[Or]:[,e[Ue]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},Z_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Ic]:[,""],[Ut]:[,"ListBucketInventoryConfigurations"],[Or]:[,e[Ue]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},Y_=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Nc]:[,""],[Ut]:[,"ListBucketMetricsConfigurations"],[Or]:[,e[Ue]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},J_=async(e,n)=>{const t=L(e,n),s={};t.bp("/");const r=f({[Ut]:[,"ListBuckets"],[eM]:[()=>e.MaxBuckets!==void 0,()=>e[HO].toString()],[Or]:[,e[Ue]],[Ui]:[,e[G]],[X1]:[,e[bi]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},eA=async(e,n)=>{const t=L(e,n),s={};t.bp("/");const r=f({[Ut]:[,"ListDirectoryBuckets"],[Or]:[,e[Ue]],[tM]:[()=>e.MaxDirectoryBuckets!==void 0,()=>e[VO].toString()]});return t.m("GET").h(s).q(r).b(void 0),t.build()},tA=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K],[Fe]:e[Ne]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[gC]:[,""],[Pc]:[,e[Xt]],[Rc]:[,e[Qt]],[tC]:[,e[xs]],[sM]:[()=>e.MaxUploads!==void 0,()=>e[ka].toString()],[Ui]:[,e[G]],[fM]:[,e[ja]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},nA=async(e,n)=>{const t=L(e,n),s=f({},v,{[Fe]:e[Ne],[H]:e[K],[Mf]:[()=>v(e[Do]),()=>(e[Do]||[]).map(Sc).join(", ")]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Pc]:[,e[Xt]],[Rc]:[,e[Qt]],[J1]:[,e[Ea]],[kf]:[()=>e.MaxKeys!==void 0,()=>e[Bn].toString()],[Ui]:[,e[G]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},sA=async(e,n)=>{const t=L(e,n),s=f({},v,{[Fe]:e[Ne],[H]:e[K],[Mf]:[()=>v(e[Do]),()=>(e[Do]||[]).map(Sc).join(", ")]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Y1]:[,"2"],[Pc]:[,e[Xt]],[Rc]:[,e[Qt]],[kf]:[()=>e.MaxKeys!==void 0,()=>e[Bn].toString()],[Ui]:[,e[G]],[Or]:[,e[Ue]],[Z1]:[()=>e.FetchOwner!==void 0,()=>e[fO].toString()],[cM]:[,e[Na]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},rA=async(e,n)=>{const t=L(e,n),s=f({},v,{[H]:e[K],[Fe]:e[Ne],[Mf]:[()=>v(e[Do]),()=>(e[Do]||[]).map(Sc).join(", ")]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[mM]:[,""],[Pc]:[,e[Xt]],[Rc]:[,e[Qt]],[tC]:[,e[xs]],[kf]:[()=>e.MaxKeys!==void 0,()=>e[Bn].toString()],[Ui]:[,e[G]],[hM]:[,e[Ha]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},oA=async(e,n)=>{const t=L(e,n),s=f({},v,{[Fe]:e[Ne],[H]:e[K],[Ft]:e[kt],[$n]:e[qn],[Lt]:e[_t]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=f({[Ut]:[,"ListParts"],[nM]:[()=>e.MaxParts!==void 0,()=>e[os].toString()],[oM]:[,e[Ss]],[zi]:[,te(e[mn],"UploadId")]});return t.m("GET").h(s).q(r).b(void 0),t.build()},iA=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[H]:e[K],[dt]:e[xe]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Xb]:[,""]});let o,i;return e.AccelerateConfiguration!==void 0&&(i=Vv(e.AccelerateConfiguration),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},aA=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[ni]:e[Ko],[St]:e[xt],[dt]:e[xe],[ri]:e[Qo],[oi]:e[Zo],[ii]:e[Yo],[If]:e[ff],[ai]:e[Jo],[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[vc]:[,""]});let o,i;return e.AccessControlPolicy!==void 0&&(i=Jg(e.AccessControlPolicy),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},cA=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Bc]:[,""],[Nn]:[,te(e[ae],"Id")]});let o,i;return e.AnalyticsConfiguration!==void 0&&(i=Jv(e.AnalyticsConfiguration),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},lA=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[St]:e[xt],[dt]:e[xe],[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[xf]:[,""]});let o,i;return e.CORSConfiguration!==void 0&&(i=dP(e.CORSConfiguration),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},dA=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[St]:e[xt],[dt]:e[xe],[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Sf]:[,""]});let o,i;return e.ServerSideEncryptionConfiguration!==void 0&&(i=KR(e.ServerSideEncryptionConfiguration),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},uA=async(e,n)=>{const t=L(e,n),s={"content-type":"application/xml"};t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Mc]:[,""],[Nn]:[,te(e[ae],"Id")]});let o,i;return e.IntelligentTieringConfiguration!==void 0&&(i=IP(e.IntelligentTieringConfiguration),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},fA=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Ic]:[,""],[Nn]:[,te(e[ae],"Id")]});let o,i;return e.InventoryConfiguration!==void 0&&(i=MP(e.InventoryConfiguration),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},mA=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[dt]:e[xe],[H]:e[K],[Df]:e[pf]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Ef]:[,""]});let o,i;return e.LifecycleConfiguration!==void 0&&(i=rP(e.LifecycleConfiguration),i=i.n("LifecycleConfiguration"),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},hA=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[St]:e[xt],[dt]:e[xe],[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[rC]:[,""]});let o,i;return e.BucketLoggingStatus!==void 0&&(i=oP(e.BucketLoggingStatus),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},yA=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Nc]:[,""],[Nn]:[,te(e[ae],"Id")]});let o,i;return e.MetricsConfiguration!==void 0&&(i=nR(e.MetricsConfiguration),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},gA=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[H]:e[K],[b2]:[()=>v(e[ly]),()=>e[ly].toString()]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[oC]:[,""]});let o,i;return e.NotificationConfiguration!==void 0&&(i=aR(e.NotificationConfiguration),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},bA=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[St]:e[xt],[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[_f]:[,""]});let o,i;return e.OwnershipControls!==void 0&&(i=gR(e.OwnershipControls),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},CA=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"text/plain",[St]:e[xt],[dt]:e[xe],[xM]:[()=>v(e[Qh]),()=>e[Qh].toString()],[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Af]:[,""]});let o,i;return e.Policy!==void 0&&(i=e.Policy,o=i),t.m("PUT").h(s).q(r).b(o),t.build()},pA=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[St]:e[xt],[dt]:e[xe],[pC]:e[Vb],[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[vf]:[,""]});let o,i;return e.ReplicationConfiguration!==void 0&&(i=BR(e.ReplicationConfiguration),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},xA=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[St]:e[xt],[dt]:e[xe],[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[aC]:[,""]});let o,i;return e.RequestPaymentConfiguration!==void 0&&(i=OR(e.RequestPaymentConfiguration),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},SA=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[St]:e[xt],[dt]:e[xe],[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[ti]:[,""]});let o,i;return e.Tagging!==void 0&&(i=af(e.Tagging),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},EA=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[St]:e[xt],[dt]:e[xe],[Of]:e[mf],[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[bC]:[,""]});let o,i;return e.VersioningConfiguration!==void 0&&(i=dT(e.VersioningConfiguration),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},wA=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[St]:e[xt],[dt]:e[xe],[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Pf]:[,""]});let o,i;return e.WebsiteConfiguration!==void 0&&(i=uT(e.WebsiteConfiguration),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},kA=async(e,n)=>{const t=L(e,n),s=f({},v,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((a,l)=>(a[`x-amz-meta-${l.toLowerCase()}`]=e.Metadata[l],a),{}),[Fi]:e[Xo]||"application/octet-stream",[ni]:e[Ko],[Oi]:e[Ho],[Mi]:e[Go],[Ni]:e[Vo],[Di]:e[Wo],[_r]:[()=>v(e[Ps]),()=>e[Ps].toString()],[St]:e[xt],[dt]:e[xe],[Mr]:e[Ge],[Nr]:e[Ve],[Dr]:e[We],[Fr]:e[Xe],[Lr]:e[Qe],[Ar]:[()=>v(e[Yn]),()=>Dt(e[Yn]).toString()],[Li]:e[Ti],[Oc]:e[Ac],[ri]:e[Qo],[oi]:e[Zo],[ii]:e[Yo],[ai]:e[Jo],[p2]:[()=>v(e[hy]),()=>e[hy].toString()],[Sn]:e[Yt],[Ki]:e[be],[Hi]:e[Ii],[Ft]:e[kt],[$n]:e[qn],[Lt]:e[_t],[En]:e[$t],[Os]:e[Is],[ut]:[()=>v(e[et]),()=>e[et].toString()],[Fe]:e[Ne],[Nf]:e[Sr],[ji]:e[ei],[Br]:[()=>v(e[Jn]),()=>Pr(e[Jn]).toString()],[$i]:e[Ir],[H]:e[K]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=f({[Ut]:[,"PutObject"]});let o,i;return e.Body!==void 0&&(i=e.Body,o=i),t.m("PUT").h(s).q(r).b(o),t.build()},_A=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[ni]:e[Ko],[St]:e[xt],[dt]:e[xe],[ri]:e[Qo],[oi]:e[Zo],[ii]:e[Yo],[If]:e[ff],[ai]:e[Jo],[Fe]:e[Ne],[H]:e[K]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=f({[vc]:[,""],[yn]:[,e[Se]]});let o,i;return e.AccessControlPolicy!==void 0&&(i=Jg(e.AccessControlPolicy),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},AA=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[Fe]:e[Ne],[St]:e[xt],[dt]:e[xe],[H]:e[K]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=f({[nC]:[,""],[yn]:[,e[Se]]});let o,i;return e.LegalHold!==void 0&&(i=uR(e.LegalHold),i=i.n("LegalHold"),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},BA=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[Fe]:e[Ne],[pC]:e[Vb],[St]:e[xt],[dt]:e[xe],[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[iC]:[,""]});let o,i;return e.ObjectLockConfiguration!==void 0&&(i=dR(e.ObjectLockConfiguration),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},vA=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[Fe]:e[Ne],[Rf]:[()=>v(e[No]),()=>e[No].toString()],[St]:e[xt],[dt]:e[xe],[H]:e[K]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=f({[yC]:[,""],[yn]:[,e[Se]]});let o,i;return e.Retention!==void 0&&(i=fR(e.Retention),i=i.n("Retention"),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},PA=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[St]:e[xt],[dt]:e[xe],[H]:e[K],[Fe]:e[Ne]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=f({[ti]:[,""],[yn]:[,e[Se]]});let o,i;return e.Tagging!==void 0&&(i=af(e.Tagging),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},RA=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[St]:e[xt],[dt]:e[xe],[H]:e[K]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=f({[Bf]:[,""]});let o,i;return e.PublicAccessBlockConfiguration!==void 0&&(i=SR(e.PublicAccessBlockConfiguration),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},TA=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[Fe]:e[Ne],[dt]:e[xe],[H]:e[K]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=f({[iM]:[,""],[yn]:[,e[Se]]});let o,i;return e.RestoreRequest!==void 0&&(i=NR(e.RestoreRequest),o=De,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("POST").h(s).q(r).b(o),t.build()},IA=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/xml",[Ft]:e[kt],[$n]:e[qn],[Lt]:e[_t],[H]:e[K]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=f({[lM]:[,""],[dM]:[,"2"]});let o;o=De;const i=new g(D1);return i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i.cc(e,Rb),i.cc(e,Pb),e[ir]!=null&&i.c(nb(e[ir]).n(ir)),e[ur]!=null&&i.c(sb(e[ur]).n(ur)),e[Oa]!=null&&i.c(MR(e[Oa]).n(Oa)),e[Fa]!=null&&i.c(qR(e[Fa]).n(Fa)),o+=i.toString(),t.m("POST").h(s).q(r).b(o),t.build()},OA=async(e,n)=>{const t=L(e,n),s=f({},v,{"content-type":"application/octet-stream",[_r]:[()=>v(e[Ps]),()=>e[Ps].toString()],[St]:e[xt],[dt]:e[xe],[Mr]:e[Ge],[Nr]:e[Ve],[Dr]:e[We],[Fr]:e[Xe],[Lr]:e[Qe],[Ft]:e[kt],[$n]:e[qn],[Lt]:e[_t],[Fe]:e[Ne],[H]:e[K]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=f({[Ut]:[,"UploadPart"],[Dc]:[te(e.PartNumber,"PartNumber")!=null,()=>e[dn].toString()],[zi]:[,te(e[mn],"UploadId")]});let o,i;return e.Body!==void 0&&(i=e.Body,o=i),t.m("PUT").h(s).q(r).b(o),t.build()},MA=async(e,n)=>{const t=L(e,n),s=f({},v,{[SC]:e[xb],[EC]:e[Sb],[wC]:[()=>v(e[ic]),()=>Dt(e[ic]).toString()],[kC]:e[Eb],[_C]:[()=>v(e[ac]),()=>Dt(e[ac]).toString()],[EM]:e[JI],[Ft]:e[kt],[$n]:e[qn],[Lt]:e[_t],[AC]:e[wb],[BC]:e[kb],[vC]:e[_b],[Fe]:e[Ne],[H]:e[K],[IC]:e[vb]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=f({[Ut]:[,"UploadPartCopy"],[Dc]:[te(e.PartNumber,"PartNumber")!=null,()=>e[dn].toString()],[zi]:[,te(e[mn],"UploadId")]});return t.m("PUT").h(s).q(r).b(void 0),t.build()},NA=async(e,n)=>{const t=L(e,n),s=f({},v,{"x-amz-content-sha256":"UNSIGNED-PAYLOAD",...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((a,l)=>(a[`x-amz-meta-${l.toLowerCase()}`]=e.Metadata[l],a),{}),"content-type":"application/octet-stream",[y2]:e[x1],[g2]:e[B1],[r2]:[()=>v(e[cy]),()=>e[cy].toString()],[wM]:e[ya],[kM]:e[ga],[_M]:e[df],[AM]:e[Ho],[BM]:e[Go],[vM]:e[Vo],[PM]:e[Wo],[_r]:[()=>v(e[Ps]),()=>e[Ps].toString()],[RM]:e[uf],[TM]:e[Xo],[NM]:e[Ge],[DM]:e[Ve],[FM]:e[We],[LM]:e[Xe],[UM]:e[Qe],[zM]:[()=>v(e[Un]),()=>e[Un].toString()],[IM]:e[ze],[OM]:[()=>v(e[Yn]),()=>Dt(e[Yn]).toString()],[qM]:e[sn],[MM]:[()=>v(e[lt]),()=>Dt(e[lt]).toString()],[$M]:[()=>v(e[dc]),()=>e[dc].toString()],[HM]:e[ei],[KM]:e[Ir],[GM]:[()=>v(e[Jn]),()=>Pr(e[Jn]).toString()],[jM]:[()=>v(e[Fo]),()=>e[Fo].toString()],[XM]:e[bf],[WM]:e[nt],[VM]:e[Cf],[ZM]:e[Yt],[e2]:e[kt],[YM]:e[$t],[t2]:e[_t],[QM]:e[be],[n2]:[()=>v(e[nu]),()=>e[nu].toString()],[s2]:e[Se],[JM]:[()=>v(e[et]),()=>e[et].toString()]});t.bp("/WriteGetObjectResponse");let r,o;e.Body!==void 0&&(o=e.Body,r=o);let{hostname:i}=await n.endpoint();if(n.disableHostPrefix!==!0){if(i="{RequestRoute}."+i,e.RequestRoute===void 0)throw new Error("Empty value provided for input host prefix: RequestRoute.");if(i=i.replace("{RequestRoute}",e.RequestRoute),!_0(i))throw new Error("ValidationError: prefixed hostname must be hostname compatible.")}return t.hn(i),t.m("POST").h(s).b(r),t.build()},DA=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[nt]:[,e.headers[rt]]});return await le(e.body,n),t},FA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[sn]:[,e.headers[qi]],[Yt]:[,e.headers[Sn]],[Se]:[,e.headers[es]],[$t]:[,e.headers[En]],[et]:[()=>e.headers[ut]!==void 0,()=>Ae(e.headers[ut])],[nt]:[,e.headers[rt]]}),s=te(fe(await de(e.body,n)),"body");return s[ke]!=null&&(t[ke]=y(s[ke])),s[Ge]!=null&&(t[Ge]=y(s[Ge])),s[Ve]!=null&&(t[Ve]=y(s[Ve])),s[We]!=null&&(t[We]=y(s[We])),s[Xe]!=null&&(t[Xe]=y(s[Xe])),s[Qe]!=null&&(t[Qe]=y(s[Qe])),s[Ze]!=null&&(t[Ze]=y(s[Ze])),s[ze]!=null&&(t[ze]=y(s[ze])),s[ue]!=null&&(t[ue]=y(s[ue])),s[ar]!=null&&(t[ar]=y(s[ar])),t},LA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[sn]:[,e.headers[qi]],[Ab]:[,e.headers[PC]],[Se]:[,e.headers[es]],[Yt]:[,e.headers[Sn]],[kt]:[,e.headers[Ft]],[_t]:[,e.headers[Lt]],[$t]:[,e.headers[En]],[Is]:[,e.headers[Os]],[et]:[()=>e.headers[ut]!==void 0,()=>Ae(e.headers[ut])],[nt]:[,e.headers[rt]]}),s=fe(await de(e.body,n));return t.CopyObjectResult=BT(s),t},UA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[ar]:[,e.headers[sC]]});return await le(e.body,n),t},zA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},qA=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[bb]:[()=>e.headers[yc]!==void 0,()=>te(As(e.headers[yc]))],[Cb]:[,e.headers[CC]],[Yt]:[,e.headers[Sn]],[kt]:[,e.headers[Ft]],[_t]:[,e.headers[Lt]],[$t]:[,e.headers[En]],[Is]:[,e.headers[Os]],[et]:[()=>e.headers[ut]!==void 0,()=>Ae(e.headers[ut])],[nt]:[,e.headers[rt]],[xe]:[,e.headers[Tf]],[Ze]:[,e.headers[si]]}),s=te(fe(await de(e.body,n)),"body");return s[ke]!=null&&(t[ke]=y(s[ke])),s[ue]!=null&&(t[ue]=y(s[ue])),s[mn]!=null&&(t[mn]=y(s[mn])),t},$A=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[Yt]:[,e.headers[Sn]],[$t]:[,e.headers[En]],[Is]:[,e.headers[Os]],[et]:[()=>e.headers[ut]!==void 0,()=>Ae(e.headers[ut])]}),s=te(fe(await de(e.body,n)),"body");return s[Tl]!=null&&(t[Tl]=dI(s[Tl])),t},jA=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},KA=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},HA=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},GA=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},VA=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},WA=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},XA=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},QA=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},ZA=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},YA=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},JA=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},eB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},tB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},nB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},sB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[Un]:[()=>e.headers[Rs]!==void 0,()=>Ae(e.headers[Rs])],[Se]:[,e.headers[es]],[nt]:[,e.headers[rt]]});return await le(e.body,n),t},rB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[nt]:[,e.headers[rt]]}),s=te(fe(await de(e.body,n)),"body");return s.Deleted===""?t[ra]=[]:s[ra]!=null&&(t[ra]=OT(ce(s[ra]))),s.Error===""?t[Yh]=[]:s[Ci]!=null&&(t[Yh]=jT(ce(s[Ci]))),t},oB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[Se]:[,e.headers[es]]});return await le(e.body,n),t},iB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},aB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[nt]:[,e.headers[rt]]}),s=te(fe(await de(e.body,n)),"body");return s[X]!=null&&(t[X]=y(s[X])),t},cB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=te(fe(await de(e.body,n)),"body");return s.AccessControlList===""?t[Bi]=[]:s[Xs]!=null&&s[Xs][as]!=null&&(t[Bi]=lb(ce(s[Xs][as]))),s[Te]!=null&&(t[Te]=Ts(s[Te])),t},lB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=fe(await de(e.body,n));return t.AnalyticsConfiguration=ob(s),t},dB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=te(fe(await de(e.body,n)),"body");return s.CORSRule===""?t[Fd]=[]:s[Dd]!=null&&(t[Fd]=RT(ce(s[Dd]))),t},uB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=fe(await de(e.body,n));return t.ServerSideEncryptionConfiguration=aI(s),t},fB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=fe(await de(e.body,n));return t.IntelligentTieringConfiguration=ub(s),t},mB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=fe(await de(e.body,n));return t.InventoryConfiguration=fb(s),t},hB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[pf]:[,e.headers[Df]]}),s=te(fe(await de(e.body,n)),"body");return s.Rule===""?t[Mn]=[]:s[un]!=null&&(t[Mn]=y3(ce(s[un]))),t},yB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=te(fe(await de(e.body,n)),"body");return s[bo]!=null&&(t[bo]=y(s[bo])),t},gB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=te(fe(await de(e.body,n)),"body");return s[cr]!=null&&(t[cr]=g3(s[cr])),t},bB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=fe(await de(e.body,n));return t.GetBucketMetadataTableConfigurationResult=XT(s),t},CB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=fe(await de(e.body,n));return t.MetricsConfiguration=mb(s),t},pB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=te(fe(await de(e.body,n)),"body");return s[tr]!=null&&(t[tr]=KT(s[tr])),s.CloudFunctionConfiguration===""?t[Hd]=[]:s[Xh]!=null&&(t[Hd]=d3(ce(s[Xh]))),s.QueueConfiguration===""?t[Zd]=[]:s[Qd]!=null&&(t[Zd]=G3(ce(s[Qd]))),s.TopicConfiguration===""?t[ru]=[]:s[su]!=null&&(t[ru]=_I(ce(s[su]))),t},xB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=fe(await de(e.body,n));return t.OwnershipControls=N3(s),t},SB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=await vI(e.body,n);return t.Policy=y(s),t},EB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=fe(await de(e.body,n));return t.PolicyStatus=$3(s),t},wB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=fe(await de(e.body,n));return t.ReplicationConfiguration=Q3(s),t},kB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=te(fe(await de(e.body,n)),"body");return s[va]!=null&&(t[va]=y(s[va])),t},_B=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=te(fe(await de(e.body,n)),"body");return s.TagSet===""?t[Fn]=[]:s[Fn]!=null&&s[Fn][ge]!=null&&(t[Fn]=Tr(ce(s[Fn][ge]))),t},AB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=te(fe(await de(e.body,n)),"body");return s[Vd]!=null&&(t[wa]=y(s[Vd])),s[X]!=null&&(t[X]=y(s[X])),t},BB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=te(fe(await de(e.body,n)),"body");return s[sr]!=null&&(t[sr]=$T(s[sr])),s[or]!=null&&(t[or]=YT(s[or])),s[mr]!=null&&(t[mr]=W3(s[mr])),s.RoutingRules===""?t[Kr]=[]:s[Kr]!=null&&s[Kr][fc]!=null&&(t[Kr]=sI(ce(s[Kr][fc]))),t},vB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[Un]:[()=>e.headers[Rs]!==void 0,()=>Ae(e.headers[Rs])],[df]:[,e.headers[Qb]],[sn]:[,e.headers[qi]],[Cf]:[,e.headers[RC]],[lt]:[()=>e.headers[Lo]!==void 0,()=>te(As(e.headers[Lo]))],[Ps]:[()=>e.headers[_r]!==void 0,()=>Nt(e.headers[_r])],[ze]:[,e.headers[Tc]],[Ge]:[,e.headers[Mr]],[Ve]:[,e.headers[Nr]],[We]:[,e.headers[Dr]],[Xe]:[,e.headers[Fr]],[Qe]:[,e.headers[Lr]],[Ze]:[,e.headers[si]],[dc]:[()=>e.headers[gc]!==void 0,()=>Le(e.headers[gc])],[Se]:[,e.headers[es]],[Ho]:[,e.headers[Oi]],[Go]:[,e.headers[Mi]],[Vo]:[,e.headers[Ni]],[Wo]:[,e.headers[Di]],[uf]:[,e.headers[Zb]],[Xo]:[,e.headers[Fi]],[Yn]:[()=>e.headers[Ar]!==void 0,()=>te(As(e.headers[Ar]))],[Bb]:[,e.headers[Yb]],[Ii]:[,e.headers[Hi]],[Yt]:[,e.headers[Sn]],[kt]:[,e.headers[Ft]],[_t]:[,e.headers[Lt]],[$t]:[,e.headers[En]],[et]:[()=>e.headers[ut]!==void 0,()=>Ae(e.headers[ut])],[be]:[,e.headers[Ki]],[nt]:[,e.headers[rt]],[bf]:[,e.headers[TC]],[Fo]:[()=>e.headers[bc]!==void 0,()=>Le(e.headers[bc])],[nu]:[()=>e.headers[Cy]!==void 0,()=>Le(e.headers[Cy])],[ei]:[,e.headers[ji]],[Jn]:[()=>e.headers[Br]!==void 0,()=>te(an(e.headers[Br]))],[Ir]:[,e.headers[$i]],Metadata:[,Object.keys(e.headers).filter(r=>r.startsWith("x-amz-meta-")).reduce((r,o)=>(r[o.substring(11)]=e.headers[o],r),{})]}),s=e.body;return n.sdkStreamMixin(s),t.Body=s,t},PB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[nt]:[,e.headers[rt]]}),s=te(fe(await de(e.body,n)),"body");return s.AccessControlList===""?t[Bi]=[]:s[Xs]!=null&&s[Xs][as]!=null&&(t[Bi]=lb(ce(s[Xs][as]))),s[Te]!=null&&(t[Te]=Ts(s[Te])),t},RB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[Un]:[()=>e.headers[Rs]!==void 0,()=>Ae(e.headers[Rs])],[lt]:[()=>e.headers[Lo]!==void 0,()=>te(As(e.headers[Lo]))],[Se]:[,e.headers[es]],[nt]:[,e.headers[rt]]}),s=te(fe(await de(e.body,n)),"body");return s[Ml]!=null&&(t[Ml]=wT(s[Ml])),s[ze]!=null&&(t[ze]=y(s[ze])),s[Xl]!=null&&(t[Xl]=QT(s[Xl])),s[Ql]!=null&&(t[Ql]=Nt(s[Ql])),s[be]!=null&&(t[be]=y(s[be])),t},TB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=fe(await de(e.body,n));return t.LegalHold=P3(s),t},IB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=fe(await de(e.body,n));return t.ObjectLockConfiguration=v3(s),t},OB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=fe(await de(e.body,n));return t.Retention=R3(s),t},MB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[Se]:[,e.headers[es]]}),s=te(fe(await de(e.body,n)),"body");return s.TagSet===""?t[Fn]=[]:s[Fn]!=null&&s[Fn][ge]!=null&&(t[Fn]=Tr(ce(s[Fn][ge]))),t},NB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[nt]:[,e.headers[rt]]}),s=e.body;return n.sdkStreamMixin(s),t.Body=s,t},DB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=fe(await de(e.body,n));return t.PublicAccessBlockConfiguration=K3(s),t},FB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[GI]:[,e.headers[bM]],[jI]:[,e.headers[gM]],[bi]:[,e.headers[pM]],[NI]:[()=>e.headers[gy]!==void 0,()=>Ae(e.headers[gy])]});return await le(e.body,n),t},LB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[Un]:[()=>e.headers[Rs]!==void 0,()=>Ae(e.headers[Rs])],[df]:[,e.headers[Qb]],[sn]:[,e.headers[qi]],[Cf]:[,e.headers[RC]],[DI]:[,e.headers[yM]],[lt]:[()=>e.headers[Lo]!==void 0,()=>te(As(e.headers[Lo]))],[Ps]:[()=>e.headers[_r]!==void 0,()=>Nt(e.headers[_r])],[Ge]:[,e.headers[Mr]],[Ve]:[,e.headers[Nr]],[We]:[,e.headers[Dr]],[Xe]:[,e.headers[Fr]],[Qe]:[,e.headers[Lr]],[Ze]:[,e.headers[si]],[ze]:[,e.headers[Tc]],[dc]:[()=>e.headers[gc]!==void 0,()=>Le(e.headers[gc])],[Se]:[,e.headers[es]],[Ho]:[,e.headers[Oi]],[Go]:[,e.headers[Mi]],[Vo]:[,e.headers[Ni]],[Wo]:[,e.headers[Di]],[Xo]:[,e.headers[Fi]],[uf]:[,e.headers[Zb]],[Yn]:[()=>e.headers[Ar]!==void 0,()=>te(As(e.headers[Ar]))],[Bb]:[,e.headers[Yb]],[Ii]:[,e.headers[Hi]],[Yt]:[,e.headers[Sn]],[kt]:[,e.headers[Ft]],[_t]:[,e.headers[Lt]],[$t]:[,e.headers[En]],[et]:[()=>e.headers[ut]!==void 0,()=>Ae(e.headers[ut])],[be]:[,e.headers[Ki]],[nt]:[,e.headers[rt]],[bf]:[,e.headers[TC]],[Fo]:[()=>e.headers[bc]!==void 0,()=>Le(e.headers[bc])],[ei]:[,e.headers[ji]],[Jn]:[()=>e.headers[Br]!==void 0,()=>te(an(e.headers[Br]))],[Ir]:[,e.headers[$i]],Metadata:[,Object.keys(e.headers).filter(s=>s.startsWith("x-amz-meta-")).reduce((s,r)=>(s[r.substring(11)]=e.headers[r],s),{})]});return await le(e.body,n),t},UB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=te(fe(await de(e.body,n)),"body");return s.AnalyticsConfiguration===""?t[Wh]=[]:s[vd]!=null&&(t[Wh]=CT(ce(s[vd]))),s[Ue]!=null&&(t[Ue]=y(s[Ue])),s[Me]!=null&&(t[Me]=Ae(s[Me])),s[rn]!=null&&(t[rn]=y(s[rn])),t},zB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=te(fe(await de(e.body,n)),"body");return s[Ue]!=null&&(t[Ue]=y(s[Ue])),s.IntelligentTieringConfiguration===""?t[sy]=[]:s[Kd]!=null&&(t[sy]=e3(ce(s[Kd]))),s[Me]!=null&&(t[Me]=Ae(s[Me])),s[rn]!=null&&(t[rn]=y(s[rn])),t},qB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=te(fe(await de(e.body,n)),"body");return s[Ue]!=null&&(t[Ue]=y(s[Ue])),s.InventoryConfiguration===""?t[Jh]=[]:s[jd]!=null&&(t[Jh]=n3(ce(s[jd]))),s[Me]!=null&&(t[Me]=Ae(s[Me])),s[rn]!=null&&(t[rn]=y(s[rn])),t},$B=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=te(fe(await de(e.body,n)),"body");return s[Ue]!=null&&(t[Ue]=y(s[Ue])),s[Me]!=null&&(t[Me]=Ae(s[Me])),s.MetricsConfiguration===""?t[ry]=[]:s[Gd]!=null&&(t[ry]=x3(ce(s[Gd]))),s[rn]!=null&&(t[rn]=y(s[rn])),t},jB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=te(fe(await de(e.body,n)),"body");return s.Buckets===""?t[Wn]=[]:s[Wn]!=null&&s[Wn][ke]!=null&&(t[Wn]=ib(ce(s[Wn][ke]))),s[Ue]!=null&&(t[Ue]=y(s[Ue])),s[Te]!=null&&(t[Te]=Ts(s[Te])),s[G]!=null&&(t[G]=y(s[G])),t},KB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=te(fe(await de(e.body,n)),"body");return s.Buckets===""?t[Wn]=[]:s[Wn]!=null&&s[Wn][ke]!=null&&(t[Wn]=ib(ce(s[Wn][ke]))),s[Ue]!=null&&(t[Ue]=y(s[Ue])),t},HB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[nt]:[,e.headers[rt]]}),s=te(fe(await de(e.body,n)),"body");return s[ke]!=null&&(t[ke]=y(s[ke])),s.CommonPrefixes===""?t[Wt]=[]:s[Wt]!=null&&(t[Wt]=kc(ce(s[Wt]))),s[Xt]!=null&&(t[Xt]=y(s[Xt])),s[Qt]!=null&&(t[Qt]=y(s[Qt])),s[Me]!=null&&(t[Me]=Ae(s[Me])),s[xs]!=null&&(t[xs]=y(s[xs])),s[ka]!=null&&(t[ka]=Le(s[ka])),s[Co]!=null&&(t[Co]=y(s[Co])),s[Vl]!=null&&(t[Vl]=y(s[Vl])),s[G]!=null&&(t[G]=y(s[G])),s[ja]!=null&&(t[ja]=y(s[ja])),s.Upload===""?t[uy]=[]:s[dy]!=null&&(t[uy]=w3(ce(s[dy]))),t},GB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[nt]:[,e.headers[rt]]}),s=te(fe(await de(e.body,n)),"body");return s.CommonPrefixes===""?t[Wt]=[]:s[Wt]!=null&&(t[Wt]=kc(ce(s[Wt]))),s.Contents===""?t[bs]=[]:s[bs]!=null&&(t[bs]=hb(ce(s[bs]))),s[Xt]!=null&&(t[Xt]=y(s[Xt])),s[Qt]!=null&&(t[Qt]=y(s[Qt])),s[Me]!=null&&(t[Me]=Ae(s[Me])),s[Ea]!=null&&(t[Ea]=y(s[Ea])),s[Bn]!=null&&(t[Bn]=Le(s[Bn])),s[it]!=null&&(t[it]=y(s[it])),s[Gl]!=null&&(t[Gl]=y(s[Gl])),s[G]!=null&&(t[G]=y(s[G])),t},VB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[nt]:[,e.headers[rt]]}),s=te(fe(await de(e.body,n)),"body");return s.CommonPrefixes===""?t[Wt]=[]:s[Wt]!=null&&(t[Wt]=kc(ce(s[Wt]))),s.Contents===""?t[bs]=[]:s[bs]!=null&&(t[bs]=hb(ce(s[bs]))),s[Ue]!=null&&(t[Ue]=y(s[Ue])),s[Xt]!=null&&(t[Xt]=y(s[Xt])),s[Qt]!=null&&(t[Qt]=y(s[Qt])),s[Me]!=null&&(t[Me]=Ae(s[Me])),s[$l]!=null&&(t[$l]=Le(s[$l])),s[Bn]!=null&&(t[Bn]=Le(s[Bn])),s[it]!=null&&(t[it]=y(s[it])),s[rn]!=null&&(t[rn]=y(s[rn])),s[G]!=null&&(t[G]=y(s[G])),s[Na]!=null&&(t[Na]=y(s[Na])),t},WB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[nt]:[,e.headers[rt]]}),s=te(fe(await de(e.body,n)),"body");return s.CommonPrefixes===""?t[Wt]=[]:s[Wt]!=null&&(t[Wt]=kc(ce(s[Wt]))),s.DeleteMarker===""?t[Zh]=[]:s[Un]!=null&&(t[Zh]=DT(ce(s[Un]))),s[Xt]!=null&&(t[Xt]=y(s[Xt])),s[Qt]!=null&&(t[Qt]=y(s[Qt])),s[Me]!=null&&(t[Me]=Ae(s[Me])),s[xs]!=null&&(t[xs]=y(s[xs])),s[Bn]!=null&&(t[Bn]=Le(s[Bn])),s[it]!=null&&(t[it]=y(s[it])),s[Co]!=null&&(t[Co]=y(s[Co])),s[Wl]!=null&&(t[Wl]=y(s[Wl])),s[G]!=null&&(t[G]=y(s[G])),s[Ha]!=null&&(t[Ha]=y(s[Ha])),s.Version===""?t[my]=[]:s[fy]!=null&&(t[my]=M3(ce(s[fy]))),t},XB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[bb]:[()=>e.headers[yc]!==void 0,()=>te(As(e.headers[yc]))],[Cb]:[,e.headers[CC]],[nt]:[,e.headers[rt]]}),s=te(fe(await de(e.body,n)),"body");return s[ke]!=null&&(t[ke]=y(s[ke])),s[xe]!=null&&(t[xe]=y(s[xe])),s[Ze]!=null&&(t[Ze]=y(s[Ze])),s[mo]!=null&&(t[mo]=db(s[mo])),s[Me]!=null&&(t[Me]=Ae(s[Me])),s[ue]!=null&&(t[ue]=y(s[ue])),s[os]!=null&&(t[os]=Le(s[os])),s[po]!=null&&(t[po]=y(s[po])),s[Te]!=null&&(t[Te]=Ts(s[Te])),s[Ss]!=null&&(t[Ss]=y(s[Ss])),s.Part===""?t[vi]=[]:s[uc]!=null&&(t[vi]=z3(ce(s[uc]))),s[be]!=null&&(t[be]=y(s[be])),s[mn]!=null&&(t[mn]=y(s[mn])),t},QB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},ZB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},YB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},JB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},ev=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},tv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},nv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},sv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[pf]:[,e.headers[Df]]});return await le(e.body,n),t},rv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},ov=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},iv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},av=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},cv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},lv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},dv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},uv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},fv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},mv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},hv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[sn]:[,e.headers[qi]],[ze]:[,e.headers[Tc]],[Ge]:[,e.headers[Mr]],[Ve]:[,e.headers[Nr]],[We]:[,e.headers[Dr]],[Xe]:[,e.headers[Fr]],[Qe]:[,e.headers[Lr]],[Ze]:[,e.headers[si]],[Yt]:[,e.headers[Sn]],[Se]:[,e.headers[es]],[kt]:[,e.headers[Ft]],[_t]:[,e.headers[Lt]],[$t]:[,e.headers[En]],[Is]:[,e.headers[Os]],[et]:[()=>e.headers[ut]!==void 0,()=>Ae(e.headers[ut])],[qt]:[()=>e.headers[by]!==void 0,()=>Nt(e.headers[by])],[nt]:[,e.headers[rt]]});return await le(e.body,n),t},yv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[nt]:[,e.headers[rt]]});return await le(e.body,n),t},gv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[nt]:[,e.headers[rt]]});return await le(e.body,n),t},bv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[nt]:[,e.headers[rt]]});return await le(e.body,n),t},Cv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[nt]:[,e.headers[rt]]});return await le(e.body,n),t},pv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[Se]:[,e.headers[es]]});return await le(e.body,n),t},xv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},Sv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[nt]:[,e.headers[rt]],[C1]:[,e.headers[h2]]});return await le(e.body,n),t},Ev=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)}),s=e.body;return t.Payload=zv(s,n),t},wv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[Yt]:[,e.headers[Sn]],[ze]:[,e.headers[Tc]],[Ge]:[,e.headers[Mr]],[Ve]:[,e.headers[Nr]],[We]:[,e.headers[Dr]],[Xe]:[,e.headers[Fr]],[Qe]:[,e.headers[Lr]],[kt]:[,e.headers[Ft]],[_t]:[,e.headers[Lt]],[$t]:[,e.headers[En]],[et]:[()=>e.headers[ut]!==void 0,()=>Ae(e.headers[ut])],[nt]:[,e.headers[rt]]});return await le(e.body,n),t},kv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e),[Ab]:[,e.headers[PC]],[Yt]:[,e.headers[Sn]],[kt]:[,e.headers[Ft]],[_t]:[,e.headers[Lt]],[$t]:[,e.headers[En]],[et]:[()=>e.headers[ut]!==void 0,()=>Ae(e.headers[ut])],[nt]:[,e.headers[rt]]}),s=fe(await de(e.body,n));return t.CopyPartResult=vT(s),t},_v=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return q(e,n);const t=f({$metadata:T(e)});return await le(e.body,n),t},q=async(e,n)=>{const t={...e,body:await jx(e.body,n)},s=Kx(e,t.body);switch(s){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await Nv(t);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await Lv(t);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await Bv(t);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await vv(t);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await Ov(t);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await Rv(t);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await Mv(t);case"NotFound":case"com.amazonaws.s3#NotFound":throw await Dv(t);case"EncryptionTypeMismatch":case"com.amazonaws.s3#EncryptionTypeMismatch":throw await Pv(t);case"InvalidRequest":case"com.amazonaws.s3#InvalidRequest":throw await Tv(t);case"InvalidWriteOffset":case"com.amazonaws.s3#InvalidWriteOffset":throw await Iv(t);case"TooManyParts":case"com.amazonaws.s3#TooManyParts":throw await Uv(t);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await Fv(t);default:const r=t.body;return Av({output:e,parsedBody:r,errorCode:s})}},Av=xx(Zt),Bv=async(e,n)=>{const t=f({});e.body;const s=new Hu({$metadata:T(e),...t});return hn(s,e.body)},vv=async(e,n)=>{const t=f({});e.body;const s=new Gu({$metadata:T(e),...t});return hn(s,e.body)},Pv=async(e,n)=>{const t=f({});e.body;const s=new Ju({$metadata:T(e),...t});return hn(s,e.body)},Rv=async(e,n)=>{const t=f({}),s=e.body;s[rs]!=null&&(t[rs]=y(s[rs])),s[be]!=null&&(t[be]=y(s[be]));const r=new Wu({$metadata:T(e),...t});return hn(r,e.body)},Tv=async(e,n)=>{const t=f({});e.body;const s=new ef({$metadata:T(e),...t});return hn(s,e.body)},Iv=async(e,n)=>{const t=f({});e.body;const s=new tf({$metadata:T(e),...t});return hn(s,e.body)},Ov=async(e,n)=>{const t=f({});e.body;const s=new Vu({$metadata:T(e),...t});return hn(s,e.body)},Mv=async(e,n)=>{const t=f({});e.body;const s=new Xu({$metadata:T(e),...t});return hn(s,e.body)},Nv=async(e,n)=>{const t=f({});e.body;const s=new ju({$metadata:T(e),...t});return hn(s,e.body)},Dv=async(e,n)=>{const t=f({});e.body;const s=new Qu({$metadata:T(e),...t});return hn(s,e.body)},Fv=async(e,n)=>{const t=f({});e.body;const s=new sf({$metadata:T(e),...t});return hn(s,e.body)},Lv=async(e,n)=>{const t=f({});e.body;const s=new Ku({$metadata:T(e),...t});return hn(s,e.body)},Uv=async(e,n)=>{const t=f({});e.body;const s=new nf({$metadata:T(e),...t});return hn(s,e.body)},zv=(e,n)=>n.eventStreamMarshaller.deserialize(e,async t=>t.Records!=null?{Records:await Kv(t.Records)}:t.Stats!=null?{Stats:await Hv(t.Stats,n)}:t.Progress!=null?{Progress:await jv(t.Progress,n)}:t.Cont!=null?{Cont:await qv(t.Cont,n)}:t.End!=null?{End:await $v(t.End,n)}:{$unknown:e}),qv=async(e,n)=>{const t={};return await de(e.body,n),Object.assign(t,AT()),t},$v=async(e,n)=>{const t={};return await de(e.body,n),Object.assign(t,UT()),t},jv=async(e,n)=>{const t={},s=await de(e.body,n);return t.Details=j3(s),t},Kv=async(e,n)=>{const t={};return t.Payload=e.body,t},Hv=async(e,n)=>{const t={},s=await de(e.body,n);return t.Details=gI(s),t},Gv=(e,n)=>{const t=new g(Zs);return e[Ls]!=null&&t.c(g.of(Ls,String(e[Ls])).n(Ls)),t},Vv=(e,n)=>{const t=new g(TI);return e[X]!=null&&t.c(g.of(UI,e[X]).n(X)),t},Jg=(e,n)=>{const t=new g(RI);return t.lc(e,"Grants","AccessControlList",()=>tb(e[Bi])),e[Te]!=null&&t.c(yR(e[Te]).n(Te)),t},Wv=(e,n)=>{const t=new g(Qs);return e[Te]!=null&&t.c(g.of(d1,e[Te]).n(Te)),t},Xv=(e,n)=>e.filter(t=>t!=null).map(t=>g.of(Pd,t).n(At)),Qv=(e,n)=>e.filter(t=>t!=null).map(t=>g.of(Td,t).n(At)),Zv=(e,n)=>e.filter(t=>t!=null).map(t=>g.of(Od,t).n(At)),Yv=(e,n)=>{const t=new g(PI);return t.cc(e,G),t.l(e,"Tags","Tag",()=>$o(e[on])),t},Jv=(e,n)=>{const t=new g(vd);return e[ae]!=null&&t.c(g.of(MI,e[ae]).n(ae)),e[ie]!=null&&t.c(tP(e[ie]).n(ie)),e[br]!=null&&t.c(YR(e[br]).n(br)),t},eP=(e,n)=>{const t=new g(II);return e[On]!=null&&t.c(nP(e[On]).n(On)),t},tP=(e,n)=>{const t=new g(OI);return Ad.visit(e,{Prefix:s=>{e[G]!=null&&t.c(g.of(G,s).n(G))},Tag:s=>{e[ge]!=null&&t.c(qo(s).n(ge))},And:s=>{e[tt]!=null&&t.c(Yv(s).n(tt))},_:(s,r)=>{if(!(r instanceof g||r instanceof Yu))throw new Error("Unable to serialize unknown union members in XML.");t.c(new g(s).c(r))}}),t},nP=(e,n)=>{const t=new g(FI);return e[An]!=null&&t.c(g.of(LI,e[An]).n(An)),e[Jr]!=null&&t.c(g.of(Qr,e[Jr]).n(Jr)),e[ke]!=null&&t.c(g.of(_c,e[ke]).n(ke)),t.cc(e,G),t},sP=(e,n)=>{const t=new g(zI);return t.cc(e,oO),e[fn]!=null&&t.c(g.of(VI,e[fn]).n(fn)),t},rP=(e,n)=>{const t=new g(qI);return t.l(e,"Rules","Rule",()=>XP(e[Mn])),t},oP=(e,n)=>{const t=new g(HI);return e[cr]!=null&&t.c(ZP(e[cr]).n(cr)),t},iP=(e,n)=>{const t=new g(QI);return t.l(e,"Parts","Part",()=>cP(e[vi])),t},aP=(e,n)=>{const t=new g(YI);return t.cc(e,ze),t.cc(e,Ge),t.cc(e,Ve),t.cc(e,We),t.cc(e,Xe),t.cc(e,Qe),e[dn]!=null&&t.c(g.of(dn,String(e[dn])).n(dn)),t},cP=(e,n)=>e.filter(t=>t!=null).map(t=>aP(t).n(At)),lP=(e,n)=>{const t=new g(Ys);return t.cc(e,Ca),t.cc(e,xa),t},dP=(e,n)=>{const t=new g(ZI);return t.l(e,"CORSRules","CORSRule",()=>fP(e[Fd])),t},uP=(e,n)=>{const t=new g(Dd);return t.cc(e,ct),t.l(e,"AllowedHeaders","AllowedHeader",()=>Xv(e[Rd])),t.l(e,"AllowedMethods","AllowedMethod",()=>Qv(e[Id])),t.l(e,"AllowedOrigins","AllowedOrigin",()=>Zv(e[Md])),t.l(e,"ExposeHeaders","ExposeHeader",()=>_P(e[Ld])),e[qs]!=null&&t.c(g.of(qs,String(e[qs])).n(qs)),t},fP=(e,n)=>e.filter(t=>t!=null).map(t=>uP(t).n(At)),mP=(e,n)=>{const t=new g(XI);return e[bo]!=null&&t.c(g.of($I,e[bo]).n(bo)),e[ar]!=null&&t.c(QP(e[ar]).n(ar)),e[ke]!=null&&t.c(sP(e[ke]).n(ke)),t},hP=(e,n)=>{const t=new g(eO);return t.cc(e,uO),t.cc(e,sO),t.cc(e,Fb),t.cc(e,gf),t.cc(e,Tb),t.cc(e,Db),e[sa]!=null&&t.c(g.of(sa,String(e[sa])).n(sa)),t},yP=(e,n)=>{const t=new g(tO);return t.cc(e,y1),t.cc(e,Fb),t.cc(e,gf),t.cc(e,Tb),t.cc(e,Db),t},gP=(e,n)=>{const t=new g(er);return e[vn]!=null&&t.c(g.of(Ob,e[vn]).n(vn)),e[Oe]!=null&&t.c(g.of(Oe,String(e[Oe])).n(Oe)),e[Ks]!=null&&t.c(g.of(Ks,String(e[Ks])).n(Ks)),t},bP=(e,n)=>{const t=new g(iO);return t.l(e,"Objects","Object",()=>lR(e[f1])),e[aa]!=null&&t.c(g.of(aa,String(e[aa])).n(aa)),t},CP=(e,n)=>{const t=new g(Js);return e[X]!=null&&t.c(g.of(rO,e[X]).n(X)),t},pP=(e,n)=>{const t=new g(wt);return e[ke]!=null&&t.c(g.of(_c,e[ke]).n(ke)),e[Yr]!=null&&t.c(g.of(Qr,e[Yr]).n(Yr)),t.cc(e,be),e[Qs]!=null&&t.c(Wv(e[Qs]).n(Qs)),e[nr]!=null&&t.c(SP(e[nr]).n(nr)),e[yr]!=null&&t.c(IR(e[yr]).n(yr)),e[lr]!=null&&t.c(eR(e[lr]).n(lr)),t},xP=(e,n)=>{const t=new g(Qn);return e[Fl]!=null&&t.c(g.of(Yt,e[Fl]).n(Fl)),e[jl]!=null&&t.c(g.of($t,e[jl]).n(jl)),t.cc(e,MO),t},SP=(e,n)=>{const t=new g(nr);return t.cc(e,Ra),t},EP=(e,n)=>{const t=new g(sr);return e[ue]!=null&&t.c(g.of(yf,e[ue]).n(ue)),t},wP=(e,n)=>new g(tr),rf=(e,n)=>e.filter(t=>t!=null).map(t=>g.of(kr,t).n(At)),kP=(e,n)=>{const t=new g(rr);return e[X]!=null&&t.c(g.of(cO,e[X]).n(X)),t},_P=(e,n)=>e.filter(t=>t!=null).map(t=>g.of(Ud,t).n(At)),AP=(e,n)=>{const t=new g(zd);return e[it]!=null&&t.c(g.of(mO,e[it]).n(it)),e[pn]!=null&&t.c(g.of(hO,e[pn]).n(pn)),t},BP=(e,n)=>e.filter(t=>t!=null).map(t=>AP(t).n(At)),vP=(e,n)=>{const t=new g(ba);return t.cc(e,Gb),t},PP=(e,n)=>{const t=new g(as);if(e[Cn]!=null){const s=eb(e[Cn]).n(Cn);s.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),t.c(s)}return t.cc(e,Zn),t},eb=(e,n)=>{const t=new g(Cn);return t.cc(e,zn),t.cc(e,ha),t.cc(e,ct),t.cc(e,Ka),t.a("xsi:type",e[fn]),t},tb=(e,n)=>e.filter(t=>t!=null).map(t=>PP(t).n(as)),RP=(e,n)=>{const t=new g(or);return t.cc(e,Ua),t},nb=(e,n)=>{const t=new g(ir);return e[oo]!=null&&t.c(hP(e[oo]).n(oo)),t.cc(e,nO),e[ho]!=null&&t.c(qP(e[ho]).n(ho)),e[Zl]!=null&&t.c(pR(e[Zl]).n(Zl)),t},TP=(e,n)=>{const t=new g(_O);return t.cc(e,G),t.l(e,"Tags","Tag",()=>$o(e[on])),t},IP=(e,n)=>{const t=new g(Kd);return e[ae]!=null&&t.c(g.of(PO,e[ae]).n(ae)),e[ie]!=null&&t.c(OP(e[ie]).n(ie)),e[X]!=null&&t.c(g.of(RO,e[X]).n(X)),t.l(e,"Tierings","Tiering",()=>rT(e[ou])),t},OP=(e,n)=>{const t=new g(vO);return t.cc(e,G),e[ge]!=null&&t.c(qo(e[ge]).n(ge)),e[tt]!=null&&t.c(TP(e[tt]).n(tt)),t},MP=(e,n)=>{const t=new g(jd);return e[wt]!=null&&t.c(NP(e[wt]).n(wt)),e[zs]!=null&&t.c(g.of(zs,String(e[zs])).n(zs)),e[ie]!=null&&t.c(FP(e[ie]).n(ie)),e[ae]!=null&&t.c(g.of(xO,e[ae]).n(ae)),e[uo]!=null&&t.c(g.of(SO,e[uo]).n(uo)),t.lc(e,"OptionalFields","OptionalFields",()=>LP(e[jr])),e[_o]!=null&&t.c(zP(e[_o]).n(_o)),t},NP=(e,n)=>{const t=new g(yO);return e[On]!=null&&t.c(UP(e[On]).n(On)),t},DP=(e,n)=>{const t=new g(gO);return e[tu]!=null&&t.c(ZR(e[tu]).n(hc)),e[eu]!=null&&t.c(XR(e[eu]).n(mc)),t},FP=(e,n)=>{const t=new g(bO);return t.cc(e,G),t},LP=(e,n)=>e.filter(t=>t!=null).map(t=>g.of(EO,t).n($d)),UP=(e,n)=>{const t=new g(wO);return t.cc(e,Qr),e[ke]!=null&&t.c(g.of(_c,e[ke]).n(ke)),e[An]!=null&&t.c(g.of(CO,e[An]).n(An)),t.cc(e,G),e[Qn]!=null&&t.c(DP(e[Qn]).n(Qn)),t},zP=(e,n)=>{const t=new g(kO);return e[co]!=null&&t.c(g.of(pO,e[co]).n(co)),t},qP=(e,n)=>{const t=new g(TO);return e[fn]!=null&&t.c(g.of(OO,e[fn]).n(fn)),t},$P=(e,n)=>{const t=new g(IO);return t.cc(e,gf),t},jP=(e,n)=>{const t=new g(DO);return e[ae]!=null&&t.c(g.of(hf,e[ae]).n(ae)),e[Sa]!=null&&t.c(g.of(Sa,e[Sa]).n(Nd)),t.l(e,"Events","Event",()=>rf(e[is])),e[ie]!=null&&t.c(of(e[ie]).n(ie)),t},KP=(e,n)=>e.filter(t=>t!=null).map(t=>jP(t).n(At)),HP=(e,n)=>{const t=new g(NO);return e[nn]!=null&&t.c(g.of(nn,Pr(e[nn]).toString()).n(nn)),e[Oe]!=null&&t.c(g.of(Oe,String(e[Oe])).n(Oe)),e[Us]!=null&&t.c(g.of(Us,String(e[Us])).n(Us)),t},GP=(e,n)=>{const t=new g(zO);return e[sn]!=null&&t.c(HP(e[sn]).n(sn)),t.cc(e,ct),t.cc(e,G),e[ie]!=null&&t.c(WP(e[ie]).n(ie)),e[X]!=null&&t.c(g.of(dO,e[X]).n(X)),t.l(e,"Transitions","Transition",()=>cT(e[cu])),t.l(e,"NoncurrentVersionTransitions","NoncurrentVersionTransition",()=>iR(e[Wd])),e[dr]!=null&&t.c(rR(e[dr]).n(dr)),e[Zs]!=null&&t.c(Gv(e[Zs]).n(Zs)),t},VP=(e,n)=>{const t=new g(qO);return t.cc(e,G),t.l(e,"Tags","Tag",()=>$o(e[on])),e[Tn]!=null&&t.c(g.of(Mb,String(e[Tn])).n(Tn)),e[In]!=null&&t.c(g.of(Nb,String(e[In])).n(In)),t},WP=(e,n)=>{const t=new g($O);return t.cc(e,G),e[ge]!=null&&t.c(qo(e[ge]).n(ge)),e[Tn]!=null&&t.c(g.of(Mb,String(e[Tn])).n(Tn)),e[In]!=null&&t.c(g.of(Nb,String(e[In])).n(In)),e[tt]!=null&&t.c(VP(e[tt]).n(tt)),t},XP=(e,n)=>e.filter(t=>t!=null).map(t=>GP(t).n(At)),QP=(e,n)=>{const t=new g(FO);return e[fn]!=null&&t.c(g.of(jO,e[fn]).n(fn)),e[it]!=null&&t.c(g.of(LO,e[it]).n(it)),t},ZP=(e,n)=>{const t=new g(cr);return t.cc(e,qa),t.lc(e,"TargetGrants","TargetGrants",()=>tT(e[Hr])),t.cc(e,$a),e[Er]!=null&&t.c(nT(e[Er]).n(Er)),t},YP=(e,n)=>{const t=new g(Ib);return e[it]!=null&&t.c(g.of(QO,e[it]).n(it)),e[pn]!=null&&t.c(g.of(JO,e[pn]).n(pn)),t},JP=(e,n)=>{const t=new g(YO);return e[La]!=null&&t.c(zR(e[La]).n(La)),t},eR=(e,n)=>{const t=new g(lr);return e[X]!=null&&t.c(g.of(ZO,e[X]).n(X)),e[ao]!=null&&t.c(rb(e[ao]).n(ao)),t},tR=(e,n)=>{const t=new g(KO);return t.cc(e,G),t.l(e,"Tags","Tag",()=>$o(e[on])),t.cc(e,ss),t},nR=(e,n)=>{const t=new g(Gd);return e[ae]!=null&&t.c(g.of(XO,e[ae]).n(ae)),e[ie]!=null&&t.c(sR(e[ie]).n(ie)),t},sR=(e,n)=>{const t=new g(WO);return Bd.visit(e,{Prefix:s=>{e[G]!=null&&t.c(g.of(G,s).n(G))},Tag:s=>{e[ge]!=null&&t.c(qo(s).n(ge))},AccessPointArn:s=>{e[ss]!=null&&t.c(g.of(ss,s).n(ss))},And:s=>{e[tt]!=null&&t.c(tR(s).n(tt))},_:(s,r)=>{if(!(r instanceof g||r instanceof Yu))throw new Error("Unable to serialize unknown union members in XML.");t.c(new g(s).c(r))}}),t},rR=(e,n)=>{const t=new g(dr);return e[Pn]!=null&&t.c(g.of(Oe,String(e[Pn])).n(Pn)),e[Rn]!=null&&t.c(g.of(Wb,String(e[Rn])).n(Rn)),t},oR=(e,n)=>{const t=new g(Xd);return e[Pn]!=null&&t.c(g.of(Oe,String(e[Pn])).n(Pn)),e[be]!=null&&t.c(g.of(Hb,e[be]).n(be)),e[Rn]!=null&&t.c(g.of(Wb,String(e[Rn])).n(Rn)),t},iR=(e,n)=>e.filter(t=>t!=null).map(t=>oR(t).n(At)),aR=(e,n)=>{const t=new g(e1);return t.l(e,"TopicConfigurations","TopicConfiguration",()=>iT(e[ru])),t.l(e,"QueueConfigurations","QueueConfiguration",()=>wR(e[Zd])),t.l(e,"LambdaFunctionConfigurations","CloudFunctionConfiguration",()=>KP(e[Hd])),e[tr]!=null&&t.c(wP(e[tr]).n(tr)),t},of=(e,n)=>{const t=new g(t1);return e[ue]!=null&&t.c(LR(e[ue]).n(Jd)),t},cR=(e,n)=>{const t=new g(o1);return e[ue]!=null&&t.c(g.of(yf,e[ue]).n(ue)),e[Se]!=null&&t.c(g.of(u1,e[Se]).n(Se)),t.cc(e,ze),e[ia]!=null&&t.c(g.of(ia,Dt(e[ia]).toString()).n(ia)),e[qt]!=null&&t.c(g.of(qt,String(e[qt])).n(qt)),t},lR=(e,n)=>e.filter(t=>t!=null).map(t=>cR(t).n(At)),dR=(e,n)=>{const t=new g(i1);return t.cc(e,Aa),e[un]!=null&&t.c(mR(e[un]).n(un)),t},uR=(e,n)=>{const t=new g(a1);return e[X]!=null&&t.c(g.of(Ir,e[X]).n(X)),t},fR=(e,n)=>{const t=new g(c1);return e[vn]!=null&&t.c(g.of(Ob,e[vn]).n(vn)),e[wo]!=null&&t.c(g.of(nn,Pr(e[wo]).toString()).n(wo)),t},mR=(e,n)=>{const t=new g(l1);return e[er]!=null&&t.c(gP(e[er]).n(er)),t},hR=(e,n)=>{const t=new g(_a);return e[nd]!=null&&t.c(UR(e[nd]).n(nd)),t},sb=(e,n)=>{const t=new g(ur);return e[oo]!=null&&t.c(yP(e[oo]).n(oo)),e[ho]!=null&&t.c($P(e[ho]).n(ho)),t},yR=(e,n)=>{const t=new g(Te);return t.cc(e,zn),t.cc(e,ct),t},gR=(e,n)=>{const t=new g(n1);return t.l(e,"Rules","Rule",()=>CR(e[Mn])),t},bR=(e,n)=>{const t=new g(r1);return t.cc(e,pi),t},CR=(e,n)=>e.filter(t=>t!=null).map(t=>bR(t).n(At)),pR=(e,n)=>new g(h1),xR=(e,n)=>{const t=new g(fr);return t.cc(e,Ba),t},SR=(e,n)=>{const t=new g(m1);return e[to]!=null&&t.c(g.of(ca,String(e[to])).n(to)),e[fo]!=null&&t.c(g.of(ca,String(e[fo])).n(fo)),e[no]!=null&&t.c(g.of(ca,String(e[no])).n(no)),e[So]!=null&&t.c(g.of(ca,String(e[So])).n(So)),t},ER=(e,n)=>{const t=new g(Qd);return e[ae]!=null&&t.c(g.of(hf,e[ae]).n(ae)),e[Pa]!=null&&t.c(g.of(Pa,e[Pa]).n(Yd)),t.l(e,"Events","Event",()=>rf(e[is])),e[ie]!=null&&t.c(of(e[ie]).n(ie)),t},wR=(e,n)=>e.filter(t=>t!=null).map(t=>ER(t).n(At)),kR=(e,n)=>{const t=new g(gr);return t.cc(e,ps),t.cc(e,pa),t.cc(e,Es),t.cc(e,Ta),t.cc(e,Ia),t},_R=(e,n)=>{const t=new g(mr);return t.cc(e,ps),t.cc(e,Es),t},AR=(e,n)=>{const t=new g(hr);return e[X]!=null&&t.c(g.of(b1,e[X]).n(X)),t},BR=(e,n)=>{const t=new g(g1);return t.cc(e,Ma),t.l(e,"Rules","Rule",()=>TR(e[Mn])),t},vR=(e,n)=>{const t=new g(_1);return t.cc(e,ct),e[js]!=null&&t.c(g.of(js,String(e[js])).n(js)),t.cc(e,G),e[ie]!=null&&t.c(RR(e[ie]).n(ie)),e[X]!=null&&t.c(g.of(w1,e[X]).n(X)),e[xr]!=null&&t.c(WR(e[xr]).n(xr)),e[rr]!=null&&t.c(kP(e[rr]).n(rr)),e[wt]!=null&&t.c(pP(e[wt]).n(wt)),e[Js]!=null&&t.c(CP(e[Js]).n(Js)),t},PR=(e,n)=>{const t=new g(S1);return t.cc(e,G),t.l(e,"Tags","Tag",()=>$o(e[on])),t},RR=(e,n)=>{const t=new g(E1);return t.cc(e,G),e[ge]!=null&&t.c(qo(e[ge]).n(ge)),e[tt]!=null&&t.c(PR(e[tt]).n(tt)),t},TR=(e,n)=>e.filter(t=>t!=null).map(t=>vR(t).n(At)),IR=(e,n)=>{const t=new g(yr);return e[X]!=null&&t.c(g.of(v1,e[X]).n(X)),e[vo]!=null&&t.c(rb(e[vo]).n(vo)),t},rb=(e,n)=>{const t=new g(P1);return e[$s]!=null&&t.c(g.of($s,String(e[$s])).n($s)),t},OR=(e,n)=>{const t=new g(p1);return t.cc(e,va),t},MR=(e,n)=>{const t=new g(Oa);return e[Ll]!=null&&t.c(g.of(lO,String(e[Ll])).n(Ll)),t},NR=(e,n)=>{const t=new g(A1);return e[Oe]!=null&&t.c(g.of(Oe,String(e[Oe])).n(Oe)),e[ba]!=null&&t.c(vP(e[ba]).n(ba)),e[fn]!=null&&t.c(g.of(k1,e[fn]).n(fn)),t.cc(e,Gb),t.cc(e,aO),e[Da]!=null&&t.c($R(e[Da]).n(Da)),e[_a]!=null&&t.c(hR(e[_a]).n(_a)),t},DR=(e,n)=>{const t=new g(fc);return e[Ys]!=null&&t.c(lP(e[Ys]).n(Ys)),e[gr]!=null&&t.c(kR(e[gr]).n(gr)),t},FR=(e,n)=>e.filter(t=>t!=null).map(t=>DR(t).n(fc)),LR=(e,n)=>{const t=new g(O1);return t.l(e,"FilterRules","FilterRule",()=>BP(e[qd])),t},UR=(e,n)=>{const t=new g(M1);return t.cc(e,_c),e[G]!=null&&t.c(g.of(UO,e[G]).n(G)),e[Qn]!=null&&t.c(xP(e[Qn]).n(Qn)),e[Il]!=null&&t.c(g.of(s1,e[Il]).n(Il)),t.lc(e,"AccessControlList","AccessControlList",()=>tb(e[Xs])),e[Sr]!=null&&t.c(af(e[Sr]).n(Sr)),t.lc(e,"UserMetadata","UserMetadata",()=>lT(e[H1])),t.cc(e,be),t},zR=(e,n)=>{const t=new g(La);return e[Ao]!=null&&t.c(g.of(z1,e[Ao]).n(Ao)),e[Bo]!=null&&t.c(g.of(q1,e[Bo]).n(Bo)),t},qR=(e,n)=>{const t=new g(Fa);return e[la]!=null&&t.c(g.of(la,String(e[la])).n(la)),e[oa]!=null&&t.c(g.of(oa,String(e[oa])).n(oa)),t},$R=(e,n)=>{const t=new g(Da);return e[ir]!=null&&t.c(nb(e[ir]).n(ir)),t.cc(e,Pb),t.cc(e,Rb),e[ur]!=null&&t.c(sb(e[ur]).n(ur)),t},jR=(e,n)=>{const t=new g(F1);return e[ko]!=null&&t.c(g.of(Yt,e[ko]).n(ko)),e[go]!=null&&t.c(g.of($t,e[go]).n(go)),t},KR=(e,n)=>{const t=new g(L1);return t.l(e,"Rules","Rule",()=>GR(e[Mn])),t},HR=(e,n)=>{const t=new g(U1);return e[Zr]!=null&&t.c(jR(e[Zr]).n(Zr)),e[et]!=null&&t.c(g.of(et,String(e[et])).n(et)),t},GR=(e,n)=>e.filter(t=>t!=null).map(t=>HR(t).n(At)),VR=(e,n)=>new g(pr),WR=(e,n)=>{const t=new g(xr);return e[Cr]!=null&&t.c(QR(e[Cr]).n(Cr)),e[hr]!=null&&t.c(AR(e[hr]).n(hr)),t},XR=(e,n)=>{const t=new g(mc);return e[yo]!=null&&t.c(g.of($t,e[yo]).n(yo)),t},QR=(e,n)=>{const t=new g(Cr);return e[X]!=null&&t.c(g.of(I1,e[X]).n(X)),t},ZR=(e,n)=>new g(hc),YR=(e,n)=>{const t=new g(br);return e[io]!=null&&t.c(JR(e[io]).n(io)),t},JR=(e,n)=>{const t=new g(R1);return e[xo]!=null&&t.c(g.of(T1,e[xo]).n(xo)),e[wt]!=null&&t.c(eP(e[wt]).n(wt)),t},qo=(e,n)=>{const t=new g(ge);return e[ue]!=null&&t.c(g.of(yf,e[ue]).n(ue)),t.cc(e,pn),t},af=(e,n)=>{const t=new g(Sr);return t.lc(e,"TagSet","TagSet",()=>$o(e[Fn])),t},$o=(e,n)=>e.filter(t=>t!=null).map(t=>qo(t).n(ge)),eT=(e,n)=>{const t=new g(j1);if(e[Cn]!=null){const s=eb(e[Cn]).n(Cn);s.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),t.c(s)}return e[Zn]!=null&&t.c(g.of(KI,e[Zn]).n(Zn)),t},tT=(e,n)=>e.filter(t=>t!=null).map(t=>eT(t).n(as)),nT=(e,n)=>{const t=new g(Er);return e[pr]!=null&&t.c(VR(e[pr]).n(pr)),e[fr]!=null&&t.c(xR(e[fr]).n(fr)),t},sT=(e,n)=>{const t=new g(iu);return e[Oe]!=null&&t.c(g.of(BO,String(e[Oe])).n(Oe)),e[rs]!=null&&t.c(g.of(AO,e[rs]).n(rs)),t},rT=(e,n)=>e.filter(t=>t!=null).map(t=>sT(t).n(At)),oT=(e,n)=>{const t=new g(su);return e[ae]!=null&&t.c(g.of(hf,e[ae]).n(ae)),e[za]!=null&&t.c(g.of(za,e[za]).n(au)),t.l(e,"Events","Event",()=>rf(e[is])),e[ie]!=null&&t.c(of(e[ie]).n(ie)),t},iT=(e,n)=>e.filter(t=>t!=null).map(t=>oT(t).n(At)),aT=(e,n)=>{const t=new g(lu);return e[nn]!=null&&t.c(g.of(nn,Pr(e[nn]).toString()).n(nn)),e[Oe]!=null&&t.c(g.of(Oe,String(e[Oe])).n(Oe)),e[be]!=null&&t.c(g.of(Hb,e[be]).n(be)),t},cT=(e,n)=>e.filter(t=>t!=null).map(t=>aT(t).n(At)),lT=(e,n)=>e.filter(t=>t!=null).map(t=>YP(t).n(Ib)),dT=(e,n)=>{const t=new g(G1);return e[wa]!=null&&t.c(g.of(wa,e[wa]).n(Vd)),e[X]!=null&&t.c(g.of(WI,e[X]).n(X)),t},uT=(e,n)=>{const t=new g(V1);return e[sr]!=null&&t.c(EP(e[sr]).n(sr)),e[or]!=null&&t.c(RP(e[or]).n(or)),e[mr]!=null&&t.c(_R(e[mr]).n(mr)),t.lc(e,"RoutingRules","RoutingRules",()=>FR(e[Kr])),t},fT=(e,n)=>{const t={};return e[Ls]!=null&&(t[Ls]=Le(e[Ls])),t},mT=(e,n)=>{const t={};return e[Te]!=null&&(t[Te]=y(e[Te])),t},hT=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>y(t)),yT=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>y(t)),gT=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>y(t)),bT=(e,n)=>{const t={};return e[G]!=null&&(t[G]=y(e[G])),e.Tag===""?t[on]=[]:e[ge]!=null&&(t[on]=Tr(ce(e[ge]))),t},ob=(e,n)=>{const t={};return e[ae]!=null&&(t[ae]=y(e[ae])),e.Filter===""||e[ie]!=null&&(t[ie]=xT(sg(e[ie]))),e[br]!=null&&(t[br]=bI(e[br])),t},CT=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>ob(t)),pT=(e,n)=>{const t={};return e[On]!=null&&(t[On]=ST(e[On])),t},xT=(e,n)=>e[G]!=null?{Prefix:y(e[G])}:e[ge]!=null?{Tag:jo(e[ge])}:e[tt]!=null?{And:bT(e[tt])}:{$unknown:Object.entries(e)[0]},ST=(e,n)=>{const t={};return e[An]!=null&&(t[An]=y(e[An])),e[Jr]!=null&&(t[Jr]=y(e[Jr])),e[ke]!=null&&(t[ke]=y(e[ke])),e[G]!=null&&(t[G]=y(e[G])),t},ET=(e,n)=>{const t={};return e[it]!=null&&(t[it]=y(e[it])),e[Ol]!=null&&(t[Ol]=te(an(e[Ol]))),e[bi]!=null&&(t[bi]=y(e[bi])),t},ib=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>ET(t)),wT=(e,n)=>{const t={};return e[Ge]!=null&&(t[Ge]=y(e[Ge])),e[Ve]!=null&&(t[Ve]=y(e[Ve])),e[We]!=null&&(t[We]=y(e[We])),e[Xe]!=null&&(t[Xe]=y(e[Xe])),e[Qe]!=null&&(t[Qe]=y(e[Qe])),e[Ze]!=null&&(t[Ze]=y(e[Ze])),t},ab=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>y(t)),kT=(e,n)=>{const t={};return e[G]!=null&&(t[G]=y(e[G])),t},kc=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>kT(t)),_T=(e,n)=>{const t={};return e[Ca]!=null&&(t[Ca]=y(e[Ca])),e[xa]!=null&&(t[xa]=y(e[xa])),t},AT=(e,n)=>({}),BT=(e,n)=>{const t={};return e[ze]!=null&&(t[ze]=y(e[ze])),e[lt]!=null&&(t[lt]=te(an(e[lt]))),e[Ze]!=null&&(t[Ze]=y(e[Ze])),e[Ge]!=null&&(t[Ge]=y(e[Ge])),e[Ve]!=null&&(t[Ve]=y(e[Ve])),e[We]!=null&&(t[We]=y(e[We])),e[Xe]!=null&&(t[Xe]=y(e[Xe])),e[Qe]!=null&&(t[Qe]=y(e[Qe])),t},vT=(e,n)=>{const t={};return e[ze]!=null&&(t[ze]=y(e[ze])),e[lt]!=null&&(t[lt]=te(an(e[lt]))),e[Ge]!=null&&(t[Ge]=y(e[Ge])),e[Ve]!=null&&(t[Ve]=y(e[Ve])),e[We]!=null&&(t[We]=y(e[We])),e[Xe]!=null&&(t[Xe]=y(e[Xe])),e[Qe]!=null&&(t[Qe]=y(e[Qe])),t},PT=(e,n)=>{const t={};return e[ct]!=null&&(t[ct]=y(e[ct])),e.AllowedHeader===""?t[Rd]=[]:e[Pd]!=null&&(t[Rd]=hT(ce(e[Pd]))),e.AllowedMethod===""?t[Id]=[]:e[Td]!=null&&(t[Id]=yT(ce(e[Td]))),e.AllowedOrigin===""?t[Md]=[]:e[Od]!=null&&(t[Md]=gT(ce(e[Od]))),e.ExposeHeader===""?t[Ld]=[]:e[Ud]!=null&&(t[Ld]=GT(ce(e[Ud]))),e[qs]!=null&&(t[qs]=Le(e[qs])),t},RT=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>PT(t)),TT=(e,n)=>{const t={};return e[vn]!=null&&(t[vn]=y(e[vn])),e[Oe]!=null&&(t[Oe]=Le(e[Oe])),e[Ks]!=null&&(t[Ks]=Le(e[Ks])),t},IT=(e,n)=>{const t={};return e[ue]!=null&&(t[ue]=y(e[ue])),e[Se]!=null&&(t[Se]=y(e[Se])),e[Un]!=null&&(t[Un]=Ae(e[Un])),e[Dl]!=null&&(t[Dl]=y(e[Dl])),t},OT=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>IT(t)),MT=(e,n)=>{const t={};return e[Te]!=null&&(t[Te]=Ts(e[Te])),e[ue]!=null&&(t[ue]=y(e[ue])),e[Se]!=null&&(t[Se]=y(e[Se])),e[lo]!=null&&(t[lo]=Ae(e[lo])),e[lt]!=null&&(t[lt]=te(an(e[lt]))),t},NT=(e,n)=>{const t={};return e[X]!=null&&(t[X]=y(e[X])),t},DT=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>MT(t)),FT=(e,n)=>{const t={};return e[ke]!=null&&(t[ke]=y(e[ke])),e[Yr]!=null&&(t[Yr]=y(e[Yr])),e[be]!=null&&(t[be]=y(e[be])),e[Qs]!=null&&(t[Qs]=mT(e[Qs])),e[nr]!=null&&(t[nr]=LT(e[nr])),e[yr]!=null&&(t[yr]=tI(e[yr])),e[lr]!=null&&(t[lr]=C3(e[lr])),t},LT=(e,n)=>{const t={};return e[Ra]!=null&&(t[Ra]=y(e[Ra])),t},UT=(e,n)=>({}),zT=(e,n)=>{const t={};return e[ue]!=null&&(t[ue]=y(e[ue])),e[Se]!=null&&(t[Se]=y(e[Se])),e[Nl]!=null&&(t[Nl]=y(e[Nl])),e[Hl]!=null&&(t[Hl]=y(e[Hl])),t},qT=(e,n)=>{const t={};return e[ya]!=null&&(t[ya]=y(e[ya])),e[ga]!=null&&(t[ga]=y(e[ga])),t},$T=(e,n)=>{const t={};return e[ue]!=null&&(t[ue]=y(e[ue])),t},jT=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>zT(t)),KT=(e,n)=>({}),cf=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>y(t)),HT=(e,n)=>{const t={};return e[X]!=null&&(t[X]=y(e[X])),t},GT=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>y(t)),VT=(e,n)=>{const t={};return e[it]!=null&&(t[it]=y(e[it])),e[pn]!=null&&(t[pn]=y(e[pn])),t},WT=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>VT(t)),XT=(e,n)=>{const t={};return e[Kl]!=null&&(t[Kl]=b3(e[Kl])),e[X]!=null&&(t[X]=y(e[X])),e[Ci]!=null&&(t[Ci]=qT(e[Ci])),t},QT=(e,n)=>{const t={};return e[Fo]!=null&&(t[K1]=Le(e[Fo])),e[Ss]!=null&&(t[Ss]=y(e[Ss])),e[po]!=null&&(t[po]=y(e[po])),e[os]!=null&&(t[os]=Le(e[os])),e[Me]!=null&&(t[Me]=Ae(e[Me])),e.Part===""?t[vi]=[]:e[uc]!=null&&(t[vi]=q3(ce(e[uc]))),t},ZT=(e,n)=>{const t={};return e[Cn]!=null&&(t[Cn]=cb(e[Cn])),e[Zn]!=null&&(t[Zn]=y(e[Zn])),t},cb=(e,n)=>{const t={};return e[zn]!=null&&(t[zn]=y(e[zn])),e[ha]!=null&&(t[ha]=y(e[ha])),e[ct]!=null&&(t[ct]=y(e[ct])),e[Ka]!=null&&(t[Ka]=y(e[Ka])),e[yy]!=null&&(t[fn]=y(e[yy])),t},lb=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>ZT(t)),YT=(e,n)=>{const t={};return e[Ua]!=null&&(t[Ua]=y(e[Ua])),t},db=(e,n)=>{const t={};return e[ct]!=null&&(t[ct]=y(e[ct])),e[zn]!=null&&(t[zn]=y(e[zn])),t},JT=(e,n)=>{const t={};return e[G]!=null&&(t[G]=y(e[G])),e.Tag===""?t[on]=[]:e[ge]!=null&&(t[on]=Tr(ce(e[ge]))),t},ub=(e,n)=>{const t={};return e[ae]!=null&&(t[ae]=y(e[ae])),e[ie]!=null&&(t[ie]=t3(e[ie])),e[X]!=null&&(t[X]=y(e[X])),e.Tiering===""?t[ou]=[]:e[iu]!=null&&(t[ou]=wI(ce(e[iu]))),t},e3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>ub(t)),t3=(e,n)=>{const t={};return e[G]!=null&&(t[G]=y(e[G])),e[ge]!=null&&(t[ge]=jo(e[ge])),e[tt]!=null&&(t[tt]=JT(e[tt])),t},fb=(e,n)=>{const t={};return e[wt]!=null&&(t[wt]=s3(e[wt])),e[zs]!=null&&(t[zs]=Ae(e[zs])),e[ie]!=null&&(t[ie]=o3(e[ie])),e[ae]!=null&&(t[ae]=y(e[ae])),e[uo]!=null&&(t[uo]=y(e[uo])),e.OptionalFields===""?t[jr]=[]:e[jr]!=null&&e[jr][$d]!=null&&(t[jr]=i3(ce(e[jr][$d]))),e[_o]!=null&&(t[_o]=c3(e[_o])),t},n3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>fb(t)),s3=(e,n)=>{const t={};return e[On]!=null&&(t[On]=a3(e[On])),t},r3=(e,n)=>{const t={};return e[hc]!=null&&(t[tu]=yI(e[hc])),e[mc]!=null&&(t[eu]=mI(e[mc])),t},o3=(e,n)=>{const t={};return e[G]!=null&&(t[G]=y(e[G])),t},i3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>y(t)),a3=(e,n)=>{const t={};return e[Qr]!=null&&(t[Qr]=y(e[Qr])),e[ke]!=null&&(t[ke]=y(e[ke])),e[An]!=null&&(t[An]=y(e[An])),e[G]!=null&&(t[G]=y(e[G])),e[Qn]!=null&&(t[Qn]=r3(e[Qn])),t},c3=(e,n)=>{const t={};return e[co]!=null&&(t[co]=y(e[co])),t},l3=(e,n)=>{const t={};return e[ae]!=null&&(t[ae]=y(e[ae])),e[Nd]!=null&&(t[Sa]=y(e[Nd])),e.Event===""?t[is]=[]:e[kr]!=null&&(t[is]=cf(ce(e[kr]))),e[ie]!=null&&(t[ie]=lf(e[ie])),t},d3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>l3(t)),u3=(e,n)=>{const t={};return e[nn]!=null&&(t[nn]=te(an(e[nn]))),e[Oe]!=null&&(t[Oe]=Le(e[Oe])),e[Us]!=null&&(t[Us]=Ae(e[Us])),t},f3=(e,n)=>{const t={};return e[sn]!=null&&(t[sn]=u3(e[sn])),e[ct]!=null&&(t[ct]=y(e[ct])),e[G]!=null&&(t[G]=y(e[G])),e[ie]!=null&&(t[ie]=h3(e[ie])),e[X]!=null&&(t[X]=y(e[X])),e.Transition===""?t[cu]=[]:e[lu]!=null&&(t[cu]=BI(ce(e[lu]))),e.NoncurrentVersionTransition===""?t[Wd]=[]:e[Xd]!=null&&(t[Wd]=A3(ce(e[Xd]))),e[dr]!=null&&(t[dr]=k3(e[dr])),e[Zs]!=null&&(t[Zs]=fT(e[Zs])),t},m3=(e,n)=>{const t={};return e[G]!=null&&(t[G]=y(e[G])),e.Tag===""?t[on]=[]:e[ge]!=null&&(t[on]=Tr(ce(e[ge]))),e[Tn]!=null&&(t[Tn]=Nt(e[Tn])),e[In]!=null&&(t[In]=Nt(e[In])),t},h3=(e,n)=>{const t={};return e[G]!=null&&(t[G]=y(e[G])),e[ge]!=null&&(t[ge]=jo(e[ge])),e[Tn]!=null&&(t[Tn]=Nt(e[Tn])),e[In]!=null&&(t[In]=Nt(e[In])),e[tt]!=null&&(t[tt]=m3(e[tt])),t},y3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>f3(t)),g3=(e,n)=>{const t={};return e[qa]!=null&&(t[qa]=y(e[qa])),e.TargetGrants===""?t[Hr]=[]:e[Hr]!=null&&e[Hr][as]!=null&&(t[Hr]=xI(ce(e[Hr][as]))),e[$a]!=null&&(t[$a]=y(e[$a])),e[Er]!=null&&(t[Er]=SI(e[Er])),t},b3=(e,n)=>{const t={};return e[td]!=null&&(t[td]=oI(e[td])),t},C3=(e,n)=>{const t={};return e[X]!=null&&(t[X]=y(e[X])),e[ao]!=null&&(t[ao]=yb(e[ao])),t},p3=(e,n)=>{const t={};return e[G]!=null&&(t[G]=y(e[G])),e.Tag===""?t[on]=[]:e[ge]!=null&&(t[on]=Tr(ce(e[ge]))),e[ss]!=null&&(t[ss]=y(e[ss])),t},mb=(e,n)=>{const t={};return e[ae]!=null&&(t[ae]=y(e[ae])),e.Filter===""||e[ie]!=null&&(t[ie]=S3(sg(e[ie]))),t},x3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>mb(t)),S3=(e,n)=>e[G]!=null?{Prefix:y(e[G])}:e[ge]!=null?{Tag:jo(e[ge])}:e[ss]!=null?{AccessPointArn:y(e[ss])}:e[tt]!=null?{And:p3(e[tt])}:{$unknown:Object.entries(e)[0]},E3=(e,n)=>{const t={};return e[mn]!=null&&(t[mn]=y(e[mn])),e[ue]!=null&&(t[ue]=y(e[ue])),e[ql]!=null&&(t[ql]=te(an(e[ql]))),e[be]!=null&&(t[be]=y(e[be])),e[Te]!=null&&(t[Te]=Ts(e[Te])),e[mo]!=null&&(t[mo]=db(e[mo])),e[xe]!=null&&(t[xe]=y(e[xe])),e[Ze]!=null&&(t[Ze]=y(e[Ze])),t},w3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>E3(t)),k3=(e,n)=>{const t={};return e[Pn]!=null&&(t[Pn]=Le(e[Pn])),e[Rn]!=null&&(t[Rn]=Le(e[Rn])),t},_3=(e,n)=>{const t={};return e[Pn]!=null&&(t[Pn]=Le(e[Pn])),e[be]!=null&&(t[be]=y(e[be])),e[Rn]!=null&&(t[Rn]=Le(e[Rn])),t},A3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>_3(t)),lf=(e,n)=>{const t={};return e[Jd]!=null&&(t[ue]=rI(e[Jd])),t},B3=(e,n)=>{const t={};return e[ue]!=null&&(t[ue]=y(e[ue])),e[lt]!=null&&(t[lt]=te(an(e[lt]))),e[ze]!=null&&(t[ze]=y(e[ze])),e.ChecksumAlgorithm===""?t[xe]=[]:e[xe]!=null&&(t[xe]=ab(ce(e[xe]))),e[Ze]!=null&&(t[Ze]=y(e[Ze])),e[qt]!=null&&(t[qt]=Nt(e[qt])),e[be]!=null&&(t[be]=y(e[be])),e[Te]!=null&&(t[Te]=Ts(e[Te])),e[Eo]!=null&&(t[Eo]=gb(e[Eo])),t},hb=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>B3(t)),v3=(e,n)=>{const t={};return e[Aa]!=null&&(t[Aa]=y(e[Aa])),e[un]!=null&&(t[un]=T3(e[un])),t},P3=(e,n)=>{const t={};return e[X]!=null&&(t[X]=y(e[X])),t},R3=(e,n)=>{const t={};return e[vn]!=null&&(t[vn]=y(e[vn])),e[wo]!=null&&(t[wo]=te(an(e[wo]))),t},T3=(e,n)=>{const t={};return e[er]!=null&&(t[er]=TT(e[er])),t},I3=(e,n)=>{const t={};return e[dn]!=null&&(t[dn]=Le(e[dn])),e[qt]!=null&&(t[qt]=Nt(e[qt])),e[Ge]!=null&&(t[Ge]=y(e[Ge])),e[Ve]!=null&&(t[Ve]=y(e[Ve])),e[We]!=null&&(t[We]=y(e[We])),e[Xe]!=null&&(t[Xe]=y(e[Xe])),e[Qe]!=null&&(t[Qe]=y(e[Qe])),t},O3=(e,n)=>{const t={};return e[ze]!=null&&(t[ze]=y(e[ze])),e.ChecksumAlgorithm===""?t[xe]=[]:e[xe]!=null&&(t[xe]=ab(ce(e[xe]))),e[Ze]!=null&&(t[Ze]=y(e[Ze])),e[qt]!=null&&(t[qt]=Nt(e[qt])),e[be]!=null&&(t[be]=y(e[be])),e[ue]!=null&&(t[ue]=y(e[ue])),e[Se]!=null&&(t[Se]=y(e[Se])),e[lo]!=null&&(t[lo]=Ae(e[lo])),e[lt]!=null&&(t[lt]=te(an(e[lt]))),e[Te]!=null&&(t[Te]=Ts(e[Te])),e[Eo]!=null&&(t[Eo]=gb(e[Eo])),t},M3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>O3(t)),Ts=(e,n)=>{const t={};return e[zn]!=null&&(t[zn]=y(e[zn])),e[ct]!=null&&(t[ct]=y(e[ct])),t},N3=(e,n)=>{const t={};return e.Rule===""?t[Mn]=[]:e[un]!=null&&(t[Mn]=F3(ce(e[un]))),t},D3=(e,n)=>{const t={};return e[pi]!=null&&(t[pi]=y(e[pi])),t},F3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>D3(t)),L3=(e,n)=>{const t={};return e[dn]!=null&&(t[dn]=Le(e[dn])),e[lt]!=null&&(t[lt]=te(an(e[lt]))),e[ze]!=null&&(t[ze]=y(e[ze])),e[qt]!=null&&(t[qt]=Nt(e[qt])),e[Ge]!=null&&(t[Ge]=y(e[Ge])),e[Ve]!=null&&(t[Ve]=y(e[Ve])),e[We]!=null&&(t[We]=y(e[We])),e[Xe]!=null&&(t[Xe]=y(e[Xe])),e[Qe]!=null&&(t[Qe]=y(e[Qe])),t},U3=(e,n)=>{const t={};return e[Ba]!=null&&(t[Ba]=y(e[Ba])),t},z3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>L3(t)),q3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>I3(t)),$3=(e,n)=>{const t={};return e[Ul]!=null&&(t[Ul]=Ae(e[Ul])),t},j3=(e,n)=>{const t={};return e[ro]!=null&&(t[ro]=Nt(e[ro])),e[eo]!=null&&(t[eo]=Nt(e[eo])),e[so]!=null&&(t[so]=Nt(e[so])),t},K3=(e,n)=>{const t={};return e[to]!=null&&(t[to]=Ae(e[to])),e[fo]!=null&&(t[fo]=Ae(e[fo])),e[no]!=null&&(t[no]=Ae(e[no])),e[So]!=null&&(t[So]=Ae(e[So])),t},H3=(e,n)=>{const t={};return e[ae]!=null&&(t[ae]=y(e[ae])),e[Yd]!=null&&(t[Pa]=y(e[Yd])),e.Event===""?t[is]=[]:e[kr]!=null&&(t[is]=cf(ce(e[kr]))),e[ie]!=null&&(t[ie]=lf(e[ie])),t},G3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>H3(t)),V3=(e,n)=>{const t={};return e[ps]!=null&&(t[ps]=y(e[ps])),e[pa]!=null&&(t[pa]=y(e[pa])),e[Es]!=null&&(t[Es]=y(e[Es])),e[Ta]!=null&&(t[Ta]=y(e[Ta])),e[Ia]!=null&&(t[Ia]=y(e[Ia])),t},W3=(e,n)=>{const t={};return e[ps]!=null&&(t[ps]=y(e[ps])),e[Es]!=null&&(t[Es]=y(e[Es])),t},X3=(e,n)=>{const t={};return e[X]!=null&&(t[X]=y(e[X])),t},Q3=(e,n)=>{const t={};return e[Ma]!=null&&(t[Ma]=y(e[Ma])),e.Rule===""?t[Mn]=[]:e[un]!=null&&(t[Mn]=eI(ce(e[un]))),t},Z3=(e,n)=>{const t={};return e[ct]!=null&&(t[ct]=y(e[ct])),e[js]!=null&&(t[js]=Le(e[js])),e[G]!=null&&(t[G]=y(e[G])),e[ie]!=null&&(t[ie]=J3(e[ie])),e[X]!=null&&(t[X]=y(e[X])),e[xr]!=null&&(t[xr]=fI(e[xr])),e[rr]!=null&&(t[rr]=HT(e[rr])),e[wt]!=null&&(t[wt]=FT(e[wt])),e[Js]!=null&&(t[Js]=NT(e[Js])),t},Y3=(e,n)=>{const t={};return e[G]!=null&&(t[G]=y(e[G])),e.Tag===""?t[on]=[]:e[ge]!=null&&(t[on]=Tr(ce(e[ge]))),t},J3=(e,n)=>{const t={};return e[G]!=null&&(t[G]=y(e[G])),e[ge]!=null&&(t[ge]=jo(e[ge])),e[tt]!=null&&(t[tt]=Y3(e[tt])),t},eI=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>Z3(t)),tI=(e,n)=>{const t={};return e[X]!=null&&(t[X]=y(e[X])),e[vo]!=null&&(t[vo]=yb(e[vo])),t},yb=(e,n)=>{const t={};return e[$s]!=null&&(t[$s]=Le(e[$s])),t},gb=(e,n)=>{const t={};return e[zl]!=null&&(t[zl]=Ae(e[zl])),e[Yl]!=null&&(t[Yl]=te(an(e[Yl]))),t},nI=(e,n)=>{const t={};return e[Ys]!=null&&(t[Ys]=_T(e[Ys])),e[gr]!=null&&(t[gr]=V3(e[gr])),t},sI=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>nI(t)),rI=(e,n)=>{const t={};return e.FilterRule===""?t[qd]=[]:e[zd]!=null&&(t[qd]=WT(ce(e[zd]))),t},oI=(e,n)=>{const t={};return e[Ao]!=null&&(t[Ao]=y(e[Ao])),e[Bo]!=null&&(t[Bo]=y(e[Bo])),e[sd]!=null&&(t[sd]=y(e[sd])),e[rd]!=null&&(t[rd]=y(e[rd])),t},iI=(e,n)=>{const t={};return e[ko]!=null&&(t[ko]=y(e[ko])),e[go]!=null&&(t[go]=y(e[go])),t},aI=(e,n)=>{const t={};return e.Rule===""?t[Mn]=[]:e[un]!=null&&(t[Mn]=lI(ce(e[un]))),t},cI=(e,n)=>{const t={};return e[Zr]!=null&&(t[Zr]=iI(e[Zr])),e[et]!=null&&(t[et]=Ae(e[et])),t},lI=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>cI(t)),dI=(e,n)=>{const t={};return e[Rl]!=null&&(t[Rl]=y(e[Rl])),e[Jl]!=null&&(t[Jl]=y(e[Jl])),e[ed]!=null&&(t[ed]=y(e[ed])),e[sn]!=null&&(t[sn]=te(an(e[sn]))),t},uI=(e,n)=>({}),fI=(e,n)=>{const t={};return e[Cr]!=null&&(t[Cr]=hI(e[Cr])),e[hr]!=null&&(t[hr]=X3(e[hr])),t},mI=(e,n)=>{const t={};return e[yo]!=null&&(t[yo]=y(e[yo])),t},hI=(e,n)=>{const t={};return e[X]!=null&&(t[X]=y(e[X])),t},yI=(e,n)=>({}),gI=(e,n)=>{const t={};return e[ro]!=null&&(t[ro]=Nt(e[ro])),e[eo]!=null&&(t[eo]=Nt(e[eo])),e[so]!=null&&(t[so]=Nt(e[so])),t},bI=(e,n)=>{const t={};return e[io]!=null&&(t[io]=CI(e[io])),t},CI=(e,n)=>{const t={};return e[xo]!=null&&(t[xo]=y(e[xo])),e[wt]!=null&&(t[wt]=pT(e[wt])),t},jo=(e,n)=>{const t={};return e[ue]!=null&&(t[ue]=y(e[ue])),e[pn]!=null&&(t[pn]=y(e[pn])),t},Tr=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>jo(t)),pI=(e,n)=>{const t={};return e[Cn]!=null&&(t[Cn]=cb(e[Cn])),e[Zn]!=null&&(t[Zn]=y(e[Zn])),t},xI=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>pI(t)),SI=(e,n)=>{const t={};return e[pr]!=null&&(t[pr]=uI(e[pr])),e[fr]!=null&&(t[fr]=U3(e[fr])),t},EI=(e,n)=>{const t={};return e[Oe]!=null&&(t[Oe]=Le(e[Oe])),e[rs]!=null&&(t[rs]=y(e[rs])),t},wI=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>EI(t)),kI=(e,n)=>{const t={};return e[ae]!=null&&(t[ae]=y(e[ae])),e[au]!=null&&(t[za]=y(e[au])),e.Event===""?t[is]=[]:e[kr]!=null&&(t[is]=cf(ce(e[kr]))),e[ie]!=null&&(t[ie]=lf(e[ie])),t},_I=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>kI(t)),AI=(e,n)=>{const t={};return e[nn]!=null&&(t[nn]=te(an(e[nn]))),e[Oe]!=null&&(t[Oe]=Le(e[Oe])),e[be]!=null&&(t[be]=y(e[be])),t},BI=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>AI(t)),T=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),vI=(e,n)=>le(e,n).then(t=>n.utf8Encoder(t)),tt="And",PI="AnalyticsAndOperator",vd="AnalyticsConfiguration",Ko="ACL",Xs="AccessControlList",Wh="AnalyticsConfigurationList",RI="AccessControlPolicy",Qs="AccessControlTranslation",TI="AccelerateConfiguration",bb="AbortDate",II="AnalyticsExportDestination",OI="AnalyticsFilter",Pd="AllowedHeader",Rd="AllowedHeaders",MI="AnalyticsId",Zs="AbortIncompleteMultipartUpload",Qr="AccountId",Rl="AccessKeyId",Td="AllowedMethod",Id="AllowedMethods",Od="AllowedOrigin",Md="AllowedOrigins",NI="AccessPointAlias",ss="AccessPointArn",sa="AllowQuotedRecordDelimiter",df="AcceptRanges",Cb="AbortRuleId",DI="ArchiveStatus",FI="AnalyticsS3BucketDestination",LI="AnalyticsS3ExportFileFormat",Zr="ApplyServerSideEncryptionByDefault",rs="AccessTier",Yr="Account",ke="Bucket",Jr="BucketAccountId",UI="BucketAccelerateStatus",No="BypassGovernanceRetention",zI="BucketInfo",et="BucketKeyEnabled",qI="BucketLifecycleConfiguration",$I="BucketLocationConstraint",jI="BucketLocationName",KI="BucketLogsPermission",HI="BucketLoggingStatus",GI="BucketLocationType",_c="BucketName",eo="BytesProcessed",to="BlockPublicAcls",no="BlockPublicPolicy",bi="BucketRegion",so="BytesReturned",ro="BytesScanned",VI="BucketType",WI="BucketVersioningStatus",Wn="Buckets",Tl="Credentials",xe="ChecksumAlgorithm",Il="CannedACL",XI="CreateBucketConfiguration",Ho="CacheControl",Ge="ChecksumCRC32",Ve="ChecksumCRC32C",We="ChecksumCRC64NVME",Go="ContentDisposition",Ol="CreationDate",Vo="ContentEncoding",Nd="CloudFunction",Xh="CloudFunctionConfiguration",Wo="ContentLanguage",Ps="ContentLength",pb="ChecksumMode",xt="ContentMD5",QI="CompletedMultipartUpload",ZI="CORSConfiguration",Dd="CORSRule",Fd="CORSRules",Wt="CommonPrefixes",YI="CompletedPart",uf="ContentRange",Qh="ConfirmRemoveSelfBucketAccess",xb="CopySource",Xe="ChecksumSHA1",Qe="ChecksumSHA256",Sb="CopySourceIfMatch",ic="CopySourceIfModifiedSince",Eb="CopySourceIfNoneMatch",ac="CopySourceIfUnmodifiedSince",JI="CopySourceRange",wb="CopySourceSSECustomerAlgorithm",kb="CopySourceSSECustomerKey",_b="CopySourceSSECustomerKeyMD5",oo="CSV",Ab="CopySourceVersionId",eO="CSVInput",tO="CSVOutput",Ze="ChecksumType",Xo="ContentType",nO="CompressionType",Ue="ContinuationToken",Ml="Checksum",bs="Contents",Nl="Code",sO="Comments",Ys="Condition",Xt="Delimiter",Ls="DaysAfterInitiation",io="DataExport",Un="DeleteMarker",Js="DeleteMarkerReplication",rO="DeleteMarkerReplicationStatus",Dl="DeleteMarkerVersionId",Zh="DeleteMarkers",zn="DisplayName",oO="DataRedundancy",er="DefaultRetention",Oe="Days",nn="Date",ra="Deleted",iO="Delete",wt="Destination",aO="Description",Yn="Expires",ha="EmailAddress",tr="EventBridgeConfiguration",K="ExpectedBucketOwner",ya="ErrorCode",nr="EncryptionConfiguration",sr="ErrorDocument",Ld="ExposeHeaders",Ud="ExposeHeader",ga="ErrorMessage",Us="ExpiredObjectDeleteMarker",rr="ExistingObjectReplication",cO="ExistingObjectReplicationStatus",lO="EnableRequestProgress",Bb="ExpiresString",vb="ExpectedSourceBucketOwner",dO="ExpirationStatus",Qt="EncodingType",ze="ETag",Fl="EncryptionType",ao="EventThreshold",Pb="ExpressionType",Qn="Encryption",Ll="Enabled",oa="End",Ci="Error",Yh="Errors",kr="Event",is="Events",Rb="Expression",sn="Expiration",ie="Filter",Tb="FieldDelimiter",uO="FileHeaderInfo",fO="FetchOwner",zd="FilterRule",mO="FilterRuleName",hO="FilterRuleValue",qd="FilterRules",$d="Field",An="Format",co="Frequency",as="Grant",Qo="GrantFullControl",ba="GlacierJobParameters",Zo="GrantRead",Yo="GrantReadACP",ff="GrantWrite",Jo="GrantWriteACP",Bi="Grants",Cn="Grantee",Ca="HttpErrorCodeReturnedEquals",ps="HostName",pa="HttpRedirectCode",ae="Id",jd="InventoryConfiguration",Jh="InventoryConfigurationList",or="IndexDocument",ct="ID",yO="InventoryDestination",zs="IsEnabled",gO="InventoryEncryption",bO="InventoryFilter",CO="InventoryFormat",pO="InventoryFrequency",xO="InventoryId",SO="InventoryIncludedObjectVersions",lo="IsLatest",Ti="IfMatch",ey="IfMatchInitiatedTime",ty="IfMatchLastModifiedTime",ny="IfMatchSize",cc="IfModifiedSince",Ac="IfNoneMatch",EO="InventoryOptionalField",uo="IncludedObjectVersions",Ul="IsPublic",fo="IgnorePublicAcls",zl="IsRestoreInProgress",ir="InputSerialization",wO="InventoryS3BucketDestination",kO="InventorySchedule",Me="IsTruncated",_O="IntelligentTieringAndOperator",AO="IntelligentTieringAccessTier",Kd="IntelligentTieringConfiguration",sy="IntelligentTieringConfigurationList",BO="IntelligentTieringDays",vO="IntelligentTieringFilter",PO="IntelligentTieringId",RO="IntelligentTieringStatus",lc="IfUnmodifiedSince",mo="Initiator",ql="Initiated",ho="JSON",TO="JSONInput",IO="JSONOutput",OO="JSONType",ue="Key",$l="KeyCount",yo="KeyId",xs="KeyMarker",MO="KMSContext",jl="KMSKeyId",go="KMSMasterKeyID",xa="KeyPrefixEquals",ar="Location",bo="LocationConstraint",cr="LoggingEnabled",NO="LifecycleExpiration",Sa="LambdaFunctionArn",Hd="LambdaFunctionConfigurations",DO="LambdaFunctionConfiguration",FO="LocationInfo",lt="LastModified",ia="LastModifiedTime",LO="LocationNameAsString",UO="LocationPrefix",zO="LifecycleRule",qO="LifecycleRuleAndOperator",$O="LifecycleRuleFilter",jO="LocationType",Ea="Marker",KO="MetricsAndOperator",qs="MaxAgeSeconds",HO="MaxBuckets",Gd="MetricsConfiguration",ry="MetricsConfigurationList",GO="MetadataDirective",VO="MaxDirectoryBuckets",Vd="MfaDelete",Ib="MetadataEntry",WO="MetricsFilter",mf="MFA",wa="MFADelete",XO="MetricsId",Bn="MaxKeys",QO="MetadataKey",dc="MissingMeta",oy="MpuObjectSize",os="MaxParts",ZO="MetricsStatus",YO="MetadataTableConfiguration",Kl="MetadataTableConfigurationResult",ka="MaxUploads",JO="MetadataValue",lr="Metrics",Hl="Message",$s="Minutes",vn="Mode",it="Name",e1="NotificationConfiguration",t1="NotificationConfigurationFilter",rn="NextContinuationToken",Pn="NoncurrentDays",hf="NotificationId",Co="NextKeyMarker",Gl="NextMarker",Rn="NewerNoncurrentVersions",po="NextPartNumberMarker",Vl="NextUploadIdMarker",dr="NoncurrentVersionExpiration",Wl="NextVersionIdMarker",Wd="NoncurrentVersionTransitions",Xd="NoncurrentVersionTransition",Te="Owner",iy="ObjectAttributes",n1="OwnershipControls",s1="ObjectCannedACL",r1="OwnershipControlsRule",jr="OptionalFields",o1="ObjectIdentifier",yf="ObjectKey",_a="OutputLocation",i1="ObjectLockConfiguration",Aa="ObjectLockEnabled",ay="ObjectLockEnabledForBucket",a1="ObjectLockLegalHold",Ir="ObjectLockLegalHoldStatus",ei="ObjectLockMode",c1="ObjectLockRetention",Ob="ObjectLockRetentionMode",Jn="ObjectLockRetainUntilDate",l1="ObjectLockRule",pi="ObjectOwnership",Do="OptionalObjectAttributes",d1="OwnerOverride",Xl="ObjectParts",ur="OutputSerialization",Tn="ObjectSizeGreaterThan",Mb="ObjectSizeGreaterThanBytes",In="ObjectSizeLessThan",Nb="ObjectSizeLessThanBytes",xo="OutputSchemaVersion",Ql="ObjectSize",u1="ObjectVersionId",f1="Objects",G="Prefix",m1="PublicAccessBlockConfiguration",Fo="PartsCount",Ba="PartitionDateSource",h1="ParquetInput",dn="PartNumber",Ss="PartNumberMarker",fr="PartitionedPrefix",va="Payer",uc="Part",Zl="Parquet",vi="Parts",Zn="Permission",Es="Protocol",js="Priority",aa="Quiet",Pa="QueueArn",Qd="QueueConfiguration",Zd="QueueConfigurations",Db="QuoteCharacter",Fb="QuoteEscapeCharacter",y1="QuoteFields",Yd="Queue",Lb="Range",mr="RedirectAllRequestsTo",nt="RequestCharged",Ub="ResponseCacheControl",zb="ResponseContentDisposition",qb="ResponseContentEncoding",$b="ResponseContentLanguage",jb="ResponseContentType",g1="ReplicationConfiguration",gf="RecordDelimiter",Kb="ResponseExpires",Yl="RestoreExpiryDate",Ra="ReplicaKmsKeyID",Ta="ReplaceKeyPrefixWith",Ia="ReplaceKeyWith",hr="ReplicaModifications",b1="ReplicaModificationsStatus",C1="RestoreOutputPath",Ne="RequestPayer",So="RestrictPublicBuckets",p1="RequestPaymentConfiguration",Oa="RequestProgress",x1="RequestRoute",S1="ReplicationRuleAndOperator",E1="ReplicationRuleFilter",w1="ReplicationRuleStatus",k1="RestoreRequestType",_1="ReplicationRule",A1="RestoreRequest",Kr="RoutingRules",fc="RoutingRule",bf="ReplicationStatus",Eo="RestoreStatus",B1="RequestToken",v1="ReplicationTimeStatus",P1="ReplicationTimeValue",yr="ReplicationTime",wo="RetainUntilDate",Cf="Restore",gr="Redirect",Ma="Role",un="Rule",Mn="Rules",X="Status",Na="StartAfter",Jl="SecretAccessKey",On="S3BucketDestination",be="StorageClass",br="StorageClassAnalysis",R1="StorageClassAnalysisDataExport",T1="StorageClassAnalysisSchemaVersion",cy="StatusCode",ly="SkipDestinationValidation",mc="SSE-KMS",Cr="SseKmsEncryptedObjects",I1="SseKmsEncryptedObjectsStatus",O1="S3KeyFilter",Jd="S3Key",M1="S3Location",N1="SessionMode",D1="SelectObjectContentRequest",Da="SelectParameters",pr="SimplePrefix",Fa="ScanRange",hc="SSE-S3",xr="SourceSelectionCriteria",Yt="ServerSideEncryption",ko="SSEAlgorithm",F1="ServerSideEncryptionByDefault",L1="ServerSideEncryptionConfiguration",kt="SSECustomerAlgorithm",qn="SSECustomerKey",_t="SSECustomerKeyMD5",eu="SSEKMS",Is="SSEKMSEncryptionContext",$t="SSEKMSKeyId",U1="ServerSideEncryptionRule",tu="SSES3",ed="SessionToken",z1="S3TablesBucketArn",La="S3TablesDestination",td="S3TablesDestinationResult",q1="S3TablesName",nd="S3",_o="Schedule",ca="Setting",qt="Size",la="Start",Ua="Suffix",Sr="Tagging",za="TopicArn",sd="TableArn",qa="TargetBucket",Ao="TableBucketArn",nu="TagCount",su="TopicConfiguration",ru="TopicConfigurations",$1="TaggingDirective",pf="TransitionDefaultMinimumObjectSize",Hr="TargetGrants",j1="TargetGrant",Bo="TableName",rd="TableNamespace",Er="TargetObjectKeyFormat",$a="TargetPrefix",K1="TotalPartsCount",Fn="TagSet",Hb="TransitionStorageClass",ge="Tag",on="Tags",Gb="Tier",ou="Tierings",iu="Tiering",vo="Time",Vb="Token",au="Topic",cu="Transitions",lu="Transition",fn="Type",dy="Upload",mn="UploadId",ja="UploadIdMarker",H1="UserMetadata",Ka="URI",uy="Uploads",fy="Version",Wb="VersionCount",G1="VersioningConfiguration",Se="VersionId",Ha="VersionIdMarker",pn="Value",my="Versions",V1="WebsiteConfiguration",hy="WriteOffsetBytes",Ii="WebsiteRedirectLocation",Ks="Years",Bc="analytics",Xb="accelerate",vc="acl",Qb="accept-ranges",W1="attributes",X1="bucket-region",xf="cors",Oi="cache-control",Mi="content-disposition",Ni="content-encoding",Di="content-language",_r="content-length",St="content-md5",Zb="content-range",Fi="content-type",Or="continuation-token",Q1="delete",Pc="delimiter",Ar="expires",Sf="encryption",Rc="encoding-type",Tc="etag",Yb="expiresstring",Z1="fetch-owner",Nn="id",Li="if-match",Jb="if-modified-since",Ic="inventory",Oc="if-none-match",Mc="intelligent-tiering",eC="if-unmodified-since",tC="key-marker",Ef="lifecycle",nC="legal-hold",Lo="last-modified",sC="location",rC="logging",Y1="list-type",Nc="metrics",wf="metadataTable",J1="marker",eM="max-buckets",tM="max-directory-buckets",At="member",kf="max-keys",nM="max-parts",sM="max-uploads",oC="notification",_f="ownershipControls",iC="object-lock",Af="policy",Bf="publicAccessBlock",Dc="partNumber",rM="policyStatus",oM="part-number-marker",Ui="prefix",vf="replication",aC="requestPayment",cC="range",lC="response-cache-control",dC="response-content-disposition",uC="response-content-encoding",fC="response-content-language",mC="response-content-type",hC="response-expires",iM="restore",yC="retention",aM="session",cM="start-after",lM="select",dM="select-type",ti="tagging",uM="torrent",gC="uploads",zi="uploadId",fM="upload-id-marker",bC="versioning",yn="versionId",De='<?xml version="1.0" encoding="UTF-8"?>',mM="versions",hM="version-id-marker",Pf="website",yy="xsi:type",ni="x-amz-acl",yc="x-amz-abort-date",gy="x-amz-access-point-alias",CC="x-amz-abort-rule-id",yM="x-amz-archive-status",Rf="x-amz-bypass-governance-retention",gM="x-amz-bucket-location-name",bM="x-amz-bucket-location-type",CM="x-amz-bucket-object-lock-enabled",pC="x-amz-bucket-object-lock-token",pM="x-amz-bucket-region",Tf="x-amz-checksum-algorithm",Mr="x-amz-checksum-crc32",Nr="x-amz-checksum-crc32c",Dr="x-amz-checksum-crc64nvme",xC="x-amz-checksum-mode",xM="x-amz-confirm-remove-self-bucket-access",Fr="x-amz-checksum-sha1",Lr="x-amz-checksum-sha256",SC="x-amz-copy-source",EC="x-amz-copy-source-if-match",wC="x-amz-copy-source-if-modified-since",kC="x-amz-copy-source-if-none-match",_C="x-amz-copy-source-if-unmodified-since",SM="x-amz-create-session-mode",EM="x-amz-copy-source-range",AC="x-amz-copy-source-server-side-encryption-customer-algorithm",BC="x-amz-copy-source-server-side-encryption-customer-key",vC="x-amz-copy-source-server-side-encryption-customer-key-md5",PC="x-amz-copy-source-version-id",si="x-amz-checksum-type",Rs="x-amz-delete-marker",qi="x-amz-expiration",H="x-amz-expected-bucket-owner",wM="x-amz-fwd-error-code",kM="x-amz-fwd-error-message",_M="x-amz-fwd-header-accept-ranges",AM="x-amz-fwd-header-cache-control",BM="x-amz-fwd-header-content-disposition",vM="x-amz-fwd-header-content-encoding",PM="x-amz-fwd-header-content-language",RM="x-amz-fwd-header-content-range",TM="x-amz-fwd-header-content-type",IM="x-amz-fwd-header-etag",OM="x-amz-fwd-header-expires",MM="x-amz-fwd-header-last-modified",NM="x-amz-fwd-header-x-amz-checksum-crc32",DM="x-amz-fwd-header-x-amz-checksum-crc32c",FM="x-amz-fwd-header-x-amz-checksum-crc64nvme",LM="x-amz-fwd-header-x-amz-checksum-sha1",UM="x-amz-fwd-header-x-amz-checksum-sha256",zM="x-amz-fwd-header-x-amz-delete-marker",qM="x-amz-fwd-header-x-amz-expiration",$M="x-amz-fwd-header-x-amz-missing-meta",jM="x-amz-fwd-header-x-amz-mp-parts-count",KM="x-amz-fwd-header-x-amz-object-lock-legal-hold",HM="x-amz-fwd-header-x-amz-object-lock-mode",GM="x-amz-fwd-header-x-amz-object-lock-retain-until-date",VM="x-amz-fwd-header-x-amz-restore",WM="x-amz-fwd-header-x-amz-request-charged",XM="x-amz-fwd-header-x-amz-replication-status",QM="x-amz-fwd-header-x-amz-storage-class",ZM="x-amz-fwd-header-x-amz-server-side-encryption",YM="x-amz-fwd-header-x-amz-server-side-encryption-aws-kms-key-id",JM="x-amz-fwd-header-x-amz-server-side-encryption-bucket-key-enabled",e2="x-amz-fwd-header-x-amz-server-side-encryption-customer-algorithm",t2="x-amz-fwd-header-x-amz-server-side-encryption-customer-key-md5",n2="x-amz-fwd-header-x-amz-tagging-count",s2="x-amz-fwd-header-x-amz-version-id",r2="x-amz-fwd-status",ri="x-amz-grant-full-control",oi="x-amz-grant-read",ii="x-amz-grant-read-acp",If="x-amz-grant-write",ai="x-amz-grant-write-acp",o2="x-amz-if-match-initiated-time",i2="x-amz-if-match-last-modified-time",a2="x-amz-if-match-size",Of="x-amz-mfa",c2="x-amz-metadata-directive",gc="x-amz-missing-meta",l2="x-amz-mp-object-size",d2="x-amz-max-parts",bc="x-amz-mp-parts-count",u2="x-amz-object-attributes",$i="x-amz-object-lock-legal-hold",ji="x-amz-object-lock-mode",Br="x-amz-object-lock-retain-until-date",f2="x-amz-object-ownership",Mf="x-amz-optional-object-attributes",by="x-amz-object-size",m2="x-amz-part-number-marker",RC="x-amz-restore",rt="x-amz-request-charged",h2="x-amz-restore-output-path",Fe="x-amz-request-payer",y2="x-amz-request-route",TC="x-amz-replication-status",g2="x-amz-request-token",Ki="x-amz-storage-class",dt="x-amz-sdk-checksum-algorithm",b2="x-amz-skip-destination-validation",IC="x-amz-source-expected-bucket-owner",Sn="x-amz-server-side-encryption",En="x-amz-server-side-encryption-aws-kms-key-id",ut="x-amz-server-side-encryption-bucket-key-enabled",Os="x-amz-server-side-encryption-context",Ft="x-amz-server-side-encryption-customer-algorithm",$n="x-amz-server-side-encryption-customer-key",Lt="x-amz-server-side-encryption-customer-key-md5",Nf="x-amz-tagging",Cy="x-amz-tagging-count",C2="x-amz-tagging-directive",Df="x-amz-transition-default-minimum-object-size",es="x-amz-version-id",p2="x-amz-write-offset-bytes",Hi="x-amz-website-redirect-location",Ut="x-id";class OC extends D.classBuilder().ep({...z,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(uk,dk).ser(Yk).de($A).build(){}const x2="3.803.0",S2={version:x2};function py(e){return typeof e=="string"?e.length===0:e.byteLength===0}var MC={name:"SHA-1"},xy={name:"HMAC",hash:MC},E2=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]);const w2={};function ws(){return typeof window<"u"?window:typeof self<"u"?self:w2}var k2=function(){function e(n){this.toHash=new Uint8Array(0),n!==void 0&&(this.key=new Promise(function(t,s){ws().crypto.subtle.importKey("raw",Sy(n),xy,!1,["sign"]).then(t,s)}),this.key.catch(function(){}))}return e.prototype.update=function(n){if(!py(n)){var t=Sy(n),s=new Uint8Array(this.toHash.byteLength+t.byteLength);s.set(this.toHash,0),s.set(t,this.toHash.byteLength),this.toHash=s}},e.prototype.digest=function(){var n=this;return this.key?this.key.then(function(t){return ws().crypto.subtle.sign(xy,t,n.toHash).then(function(s){return new Uint8Array(s)})}):py(this.toHash)?Promise.resolve(E2):Promise.resolve().then(function(){return ws().crypto.subtle.digest(MC,n.toHash)}).then(function(t){return Promise.resolve(new Uint8Array(t))})},e.prototype.reset=function(){this.toHash=new Uint8Array(0)},e}();function Sy(e){return typeof e=="string"?dg(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var _2=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function NC(e){if(A2(e)&&typeof e.crypto.subtle=="object"){var n=e.crypto.subtle;return B2(n)}return!1}function A2(e){if(typeof e=="object"&&typeof e.crypto=="object"){var n=e.crypto.getRandomValues;return typeof n=="function"}return!1}function B2(e){return e&&_2.every(function(n){return typeof e[n]=="function"})}var v2=function(){function e(n){if(NC(ws()))this.hash=new k2(n);else throw new Error("SHA1 not supported")}return e.prototype.update=function(n,t){this.hash.update(Bs(n))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}(),DC={name:"SHA-256"},Ey={name:"HMAC",hash:DC},P2=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]),R2=function(){function e(n){this.toHash=new Uint8Array(0),this.secret=n,this.reset()}return e.prototype.update=function(n){if(!ki(n)){var t=Bs(n),s=new Uint8Array(this.toHash.byteLength+t.byteLength);s.set(this.toHash,0),s.set(t,this.toHash.byteLength),this.toHash=s}},e.prototype.digest=function(){var n=this;return this.key?this.key.then(function(t){return ws().crypto.subtle.sign(Ey,t,n.toHash).then(function(s){return new Uint8Array(s)})}):ki(this.toHash)?Promise.resolve(P2):Promise.resolve().then(function(){return ws().crypto.subtle.digest(DC,n.toHash)}).then(function(t){return Promise.resolve(new Uint8Array(t))})},e.prototype.reset=function(){var n=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(t,s){ws().crypto.subtle.importKey("raw",Bs(n.secret),Ey,!1,["sign"]).then(t,s)}),this.key.catch(function(){}))},e}(),_n=64,T2=32,I2=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),O2=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],M2=Math.pow(2,53)-1,Ga=function(){function e(){this.state=Int32Array.from(O2),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(n){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,s=n.byteLength;if(this.bytesHashed+=s,this.bytesHashed*8>M2)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;s>0;)this.buffer[this.bufferLength++]=n[t++],s--,this.bufferLength===_n&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var n=this.bytesHashed*8,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),s=this.bufferLength;if(t.setUint8(this.bufferLength++,128),s%_n>=_n-8){for(var r=this.bufferLength;r<_n;r++)t.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(var r=this.bufferLength;r<_n-8;r++)t.setUint8(r,0);t.setUint32(_n-8,Math.floor(n/4294967296),!0),t.setUint32(_n-4,n),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(T2),r=0;r<8;r++)o[r*4]=this.state[r]>>>24&255,o[r*4+1]=this.state[r]>>>16&255,o[r*4+2]=this.state[r]>>>8&255,o[r*4+3]=this.state[r]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var n=this,t=n.buffer,s=n.state,r=s[0],o=s[1],i=s[2],a=s[3],l=s[4],c=s[5],d=s[6],m=s[7],u=0;u<_n;u++){if(u<16)this.temp[u]=(t[u*4]&255)<<24|(t[u*4+1]&255)<<16|(t[u*4+2]&255)<<8|t[u*4+3]&255;else{var b=this.temp[u-2],w=(b>>>17|b<<15)^(b>>>19|b<<13)^b>>>10;b=this.temp[u-15];var A=(b>>>7|b<<25)^(b>>>18|b<<14)^b>>>3;this.temp[u]=(w+this.temp[u-7]|0)+(A+this.temp[u-16]|0)}var B=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&c^~l&d)|0)+(m+(I2[u]+this.temp[u]|0)|0)|0,p=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&o^r&i^o&i)|0;m=d,d=c,c=l,l=a+B|0,a=i,i=o,o=r,r=B+p|0}s[0]+=r,s[1]+=o,s[2]+=i,s[3]+=a,s[4]+=l,s[5]+=c,s[6]+=d,s[7]+=m},e}(),N2=function(){function e(n){this.secret=n,this.hash=new Ga,this.reset()}return e.prototype.update=function(n){if(!(ki(n)||this.error))try{this.hash.update(Bs(n))}catch(t){this.error=t}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return Ru(this,void 0,void 0,function(){return Tu(this,function(n){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new Ga,this.secret){this.outer=new Ga;var n=D2(this.secret),t=new Uint8Array(_n);t.set(n);for(var s=0;s<_n;s++)n[s]^=54,t[s]^=92;this.hash.update(n),this.outer.update(t);for(var s=0;s<n.byteLength;s++)n[s]=0}},e}();function D2(e){var n=Bs(e);if(n.byteLength>_n){var t=new Ga;t.update(n),n=t.digest()}var s=new Uint8Array(_n);return s.set(n),s}var F2=function(){function e(n){NC(ws())?this.hash=new R2(n):this.hash=new N2(n)}return e.prototype.update=function(n,t){this.hash.update(Bs(n))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}();const L2={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},FC={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},ft={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},en={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},hs={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class I{static getFirstMatch(n,t){const s=t.match(n);return s&&s.length>0&&s[1]||""}static getSecondMatch(n,t){const s=t.match(n);return s&&s.length>1&&s[2]||""}static matchAndReturnConst(n,t,s){if(n.test(t))return s}static getWindowsVersionName(n){switch(n){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(n){const t=n.split(".").splice(0,2).map(s=>parseInt(s,10)||0);if(t.push(0),t[0]===10)switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(n){const t=n.split(".").splice(0,2).map(s=>parseInt(s,10)||0);if(t.push(0),!(t[0]===1&&t[1]<5)){if(t[0]===1&&t[1]<6)return"Cupcake";if(t[0]===1&&t[1]>=6)return"Donut";if(t[0]===2&&t[1]<2)return"Eclair";if(t[0]===2&&t[1]===2)return"Froyo";if(t[0]===2&&t[1]>2)return"Gingerbread";if(t[0]===3)return"Honeycomb";if(t[0]===4&&t[1]<1)return"Ice Cream Sandwich";if(t[0]===4&&t[1]<4)return"Jelly Bean";if(t[0]===4&&t[1]>=4)return"KitKat";if(t[0]===5)return"Lollipop";if(t[0]===6)return"Marshmallow";if(t[0]===7)return"Nougat";if(t[0]===8)return"Oreo";if(t[0]===9)return"Pie"}}static getVersionPrecision(n){return n.split(".").length}static compareVersions(n,t,s=!1){const r=I.getVersionPrecision(n),o=I.getVersionPrecision(t);let i=Math.max(r,o),a=0;const l=I.map([n,t],c=>{const d=i-I.getVersionPrecision(c),m=c+new Array(d+1).join(".0");return I.map(m.split("."),u=>new Array(20-u.length).join("0")+u).reverse()});for(s&&(a=i-Math.min(r,o)),i-=1;i>=a;){if(l[0][i]>l[1][i])return 1;if(l[0][i]===l[1][i]){if(i===a)return 0;i-=1}else if(l[0][i]<l[1][i])return-1}}static map(n,t){const s=[];let r;if(Array.prototype.map)return Array.prototype.map.call(n,t);for(r=0;r<n.length;r+=1)s.push(t(n[r]));return s}static find(n,t){let s,r;if(Array.prototype.find)return Array.prototype.find.call(n,t);for(s=0,r=n.length;s<r;s+=1){const o=n[s];if(t(o,s))return o}}static assign(n,...t){const s=n;let r,o;if(Object.assign)return Object.assign(n,...t);for(r=0,o=t.length;r<o;r+=1){const i=t[r];typeof i=="object"&&i!==null&&Object.keys(i).forEach(l=>{s[l]=i[l]})}return n}static getBrowserAlias(n){return L2[n]}static getBrowserTypeByAlias(n){return FC[n]||""}}const $e=/version\/(\d+(\.?_?\d+)+)/i,U2=[{test:[/googlebot/i],describe(e){const n={name:"Googlebot"},t=I.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||I.getFirstMatch($e,e);return t&&(n.version=t),n}},{test:[/opera/i],describe(e){const n={name:"Opera"},t=I.getFirstMatch($e,e)||I.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/opr\/|opios/i],describe(e){const n={name:"Opera"},t=I.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||I.getFirstMatch($e,e);return t&&(n.version=t),n}},{test:[/SamsungBrowser/i],describe(e){const n={name:"Samsung Internet for Android"},t=I.getFirstMatch($e,e)||I.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/Whale/i],describe(e){const n={name:"NAVER Whale Browser"},t=I.getFirstMatch($e,e)||I.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/MZBrowser/i],describe(e){const n={name:"MZ Browser"},t=I.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||I.getFirstMatch($e,e);return t&&(n.version=t),n}},{test:[/focus/i],describe(e){const n={name:"Focus"},t=I.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||I.getFirstMatch($e,e);return t&&(n.version=t),n}},{test:[/swing/i],describe(e){const n={name:"Swing"},t=I.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||I.getFirstMatch($e,e);return t&&(n.version=t),n}},{test:[/coast/i],describe(e){const n={name:"Opera Coast"},t=I.getFirstMatch($e,e)||I.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const n={name:"Opera Touch"},t=I.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||I.getFirstMatch($e,e);return t&&(n.version=t),n}},{test:[/yabrowser/i],describe(e){const n={name:"Yandex Browser"},t=I.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||I.getFirstMatch($e,e);return t&&(n.version=t),n}},{test:[/ucbrowser/i],describe(e){const n={name:"UC Browser"},t=I.getFirstMatch($e,e)||I.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/Maxthon|mxios/i],describe(e){const n={name:"Maxthon"},t=I.getFirstMatch($e,e)||I.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/epiphany/i],describe(e){const n={name:"Epiphany"},t=I.getFirstMatch($e,e)||I.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/puffin/i],describe(e){const n={name:"Puffin"},t=I.getFirstMatch($e,e)||I.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/sleipnir/i],describe(e){const n={name:"Sleipnir"},t=I.getFirstMatch($e,e)||I.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/k-meleon/i],describe(e){const n={name:"K-Meleon"},t=I.getFirstMatch($e,e)||I.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/micromessenger/i],describe(e){const n={name:"WeChat"},t=I.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||I.getFirstMatch($e,e);return t&&(n.version=t),n}},{test:[/qqbrowser/i],describe(e){const n={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},t=I.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||I.getFirstMatch($e,e);return t&&(n.version=t),n}},{test:[/msie|trident/i],describe(e){const n={name:"Internet Explorer"},t=I.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/\sedg\//i],describe(e){const n={name:"Microsoft Edge"},t=I.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/edg([ea]|ios)/i],describe(e){const n={name:"Microsoft Edge"},t=I.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/vivaldi/i],describe(e){const n={name:"Vivaldi"},t=I.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/seamonkey/i],describe(e){const n={name:"SeaMonkey"},t=I.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/sailfish/i],describe(e){const n={name:"Sailfish"},t=I.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return t&&(n.version=t),n}},{test:[/silk/i],describe(e){const n={name:"Amazon Silk"},t=I.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/phantom/i],describe(e){const n={name:"PhantomJS"},t=I.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/slimerjs/i],describe(e){const n={name:"SlimerJS"},t=I.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const n={name:"BlackBerry"},t=I.getFirstMatch($e,e)||I.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const n={name:"WebOS Browser"},t=I.getFirstMatch($e,e)||I.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/bada/i],describe(e){const n={name:"Bada"},t=I.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/tizen/i],describe(e){const n={name:"Tizen"},t=I.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||I.getFirstMatch($e,e);return t&&(n.version=t),n}},{test:[/qupzilla/i],describe(e){const n={name:"QupZilla"},t=I.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||I.getFirstMatch($e,e);return t&&(n.version=t),n}},{test:[/firefox|iceweasel|fxios/i],describe(e){const n={name:"Firefox"},t=I.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/electron/i],describe(e){const n={name:"Electron"},t=I.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/MiuiBrowser/i],describe(e){const n={name:"Miui"},t=I.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/chromium/i],describe(e){const n={name:"Chromium"},t=I.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||I.getFirstMatch($e,e);return t&&(n.version=t),n}},{test:[/chrome|crios|crmo/i],describe(e){const n={name:"Chrome"},t=I.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/GSA/i],describe(e){const n={name:"Google Search"},t=I.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test(e){const n=!e.test(/like android/i),t=e.test(/android/i);return n&&t},describe(e){const n={name:"Android Browser"},t=I.getFirstMatch($e,e);return t&&(n.version=t),n}},{test:[/playstation 4/i],describe(e){const n={name:"PlayStation 4"},t=I.getFirstMatch($e,e);return t&&(n.version=t),n}},{test:[/safari|applewebkit/i],describe(e){const n={name:"Safari"},t=I.getFirstMatch($e,e);return t&&(n.version=t),n}},{test:[/.*/i],describe(e){const n=/^(.*)\/(.*) /,t=/^(.*)\/(.*)[ \t]\((.*)/,r=e.search("\\(")!==-1?t:n;return{name:I.getFirstMatch(r,e),version:I.getSecondMatch(r,e)}}}],z2=[{test:[/Roku\/DVP/],describe(e){const n=I.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:en.Roku,version:n}}},{test:[/windows phone/i],describe(e){const n=I.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:en.WindowsPhone,version:n}}},{test:[/windows /i],describe(e){const n=I.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),t=I.getWindowsVersionName(n);return{name:en.Windows,version:n,versionName:t}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const n={name:en.iOS},t=I.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return t&&(n.version=t),n}},{test:[/macintosh/i],describe(e){const n=I.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),t=I.getMacOSVersionName(n),s={name:en.MacOS,version:n};return t&&(s.versionName=t),s}},{test:[/(ipod|iphone|ipad)/i],describe(e){const n=I.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:en.iOS,version:n}}},{test(e){const n=!e.test(/like android/i),t=e.test(/android/i);return n&&t},describe(e){const n=I.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),t=I.getAndroidVersionName(n),s={name:en.Android,version:n};return t&&(s.versionName=t),s}},{test:[/(web|hpw)[o0]s/i],describe(e){const n=I.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),t={name:en.WebOS};return n&&n.length&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const n=I.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||I.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||I.getFirstMatch(/\bbb(\d+)/i,e);return{name:en.BlackBerry,version:n}}},{test:[/bada/i],describe(e){const n=I.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:en.Bada,version:n}}},{test:[/tizen/i],describe(e){const n=I.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:en.Tizen,version:n}}},{test:[/linux/i],describe(){return{name:en.Linux}}},{test:[/CrOS/],describe(){return{name:en.ChromeOS}}},{test:[/PlayStation 4/],describe(e){const n=I.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:en.PlayStation4,version:n}}}],q2=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(e){const n=I.getFirstMatch(/(can-l01)/i,e)&&"Nova",t={type:ft.mobile,vendor:"Huawei"};return n&&(t.model=n),t}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:ft.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:ft.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:ft.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:ft.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:ft.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:ft.tablet}}},{test(e){const n=e.test(/ipod|iphone/i),t=e.test(/like (ipod|iphone)/i);return n&&!t},describe(e){const n=I.getFirstMatch(/(ipod|iphone)/i,e);return{type:ft.mobile,vendor:"Apple",model:n}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:ft.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:ft.mobile}}},{test(e){return e.getBrowserName(!0)==="blackberry"},describe(){return{type:ft.mobile,vendor:"BlackBerry"}}},{test(e){return e.getBrowserName(!0)==="bada"},describe(){return{type:ft.mobile}}},{test(e){return e.getBrowserName()==="windows phone"},describe(){return{type:ft.mobile,vendor:"Microsoft"}}},{test(e){const n=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&n>=3},describe(){return{type:ft.tablet}}},{test(e){return e.getOSName(!0)==="android"},describe(){return{type:ft.mobile}}},{test(e){return e.getOSName(!0)==="macos"},describe(){return{type:ft.desktop,vendor:"Apple"}}},{test(e){return e.getOSName(!0)==="windows"},describe(){return{type:ft.desktop}}},{test(e){return e.getOSName(!0)==="linux"},describe(){return{type:ft.desktop}}},{test(e){return e.getOSName(!0)==="playstation 4"},describe(){return{type:ft.tv}}},{test(e){return e.getOSName(!0)==="roku"},describe(){return{type:ft.tv}}}],$2=[{test(e){return e.getBrowserName(!0)==="microsoft edge"},describe(e){if(/\sedg\//i.test(e))return{name:hs.Blink};const t=I.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:hs.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const n={name:hs.Trident},t=I.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test(e){return e.test(/presto/i)},describe(e){const n={name:hs.Presto},t=I.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test(e){const n=e.test(/gecko/i),t=e.test(/like gecko/i);return n&&!t},describe(e){const n={name:hs.Gecko},t=I.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:hs.Blink}}},{test:[/(apple)?webkit/i],describe(e){const n={name:hs.WebKit},t=I.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}}];class wy{constructor(n,t=!1){if(n==null||n==="")throw new Error("UserAgent parameter can't be empty");this._ua=n,this.parsedResult={},t!==!0&&this.parse()}getUA(){return this._ua}test(n){return n.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const n=I.find(U2,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.browser=n.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(n){return n?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const n=I.find(z2,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.os=n.describe(this.getUA())),this.parsedResult.os}getOSName(n){const{name:t}=this.getOS();return n?String(t).toLowerCase()||"":t||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(n=!1){const{type:t}=this.getPlatform();return n?String(t).toLowerCase()||"":t||""}parsePlatform(){this.parsedResult.platform={};const n=I.find(q2,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.platform=n.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(n){return n?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const n=I.find($2,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.engine=n.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return I.assign({},this.parsedResult)}satisfies(n){const t={};let s=0;const r={};let o=0;if(Object.keys(n).forEach(a=>{const l=n[a];typeof l=="string"?(r[a]=l,o+=1):typeof l=="object"&&(t[a]=l,s+=1)}),s>0){const a=Object.keys(t),l=I.find(a,d=>this.isOS(d));if(l){const d=this.satisfies(t[l]);if(d!==void 0)return d}const c=I.find(a,d=>this.isPlatform(d));if(c){const d=this.satisfies(t[c]);if(d!==void 0)return d}}if(o>0){const a=Object.keys(r),l=I.find(a,c=>this.isBrowser(c,!0));if(l!==void 0)return this.compareVersion(r[l])}}isBrowser(n,t=!1){const s=this.getBrowserName().toLowerCase();let r=n.toLowerCase();const o=I.getBrowserTypeByAlias(r);return t&&o&&(r=o.toLowerCase()),r===s}compareVersion(n){let t=[0],s=n,r=!1;const o=this.getBrowserVersion();if(typeof o=="string")return n[0]===">"||n[0]==="<"?(s=n.substr(1),n[1]==="="?(r=!0,s=n.substr(2)):t=[],n[0]===">"?t.push(1):t.push(-1)):n[0]==="="?s=n.substr(1):n[0]==="~"&&(r=!0,s=n.substr(1)),t.indexOf(I.compareVersions(o,s,r))>-1}isOS(n){return this.getOSName(!0)===String(n).toLowerCase()}isPlatform(n){return this.getPlatformType(!0)===String(n).toLowerCase()}isEngine(n){return this.getEngineName(!0)===String(n).toLowerCase()}is(n,t=!1){return this.isBrowser(n,t)||this.isOS(n)||this.isPlatform(n)}some(n=[]){return n.some(t=>this.is(t))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class LC{static getParser(n,t=!1){if(typeof n!="string")throw new Error("UserAgent should be a string");return new wy(n,t)}static parse(n){return new wy(n).getResult()}static get BROWSER_MAP(){return FC}static get ENGINE_MAP(){return hs}static get OS_MAP(){return en}static get PLATFORMS_MAP(){return ft}}const j2=({serviceId:e,clientVersion:n})=>async t=>{var i,a,l,c,d,m;const s=typeof window<"u"&&((i=window==null?void 0:window.navigator)!=null&&i.userAgent)?LC.parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["ua","2.1"],[`os/${((a=s==null?void 0:s.os)==null?void 0:a.name)||"other"}`,(l=s==null?void 0:s.os)==null?void 0:l.version],["lang/js"],["md/browser",`${((c=s==null?void 0:s.browser)==null?void 0:c.name)??"unknown"}_${((d=s==null?void 0:s.browser)==null?void 0:d.version)??"unknown"}`]];e&&r.push([`api/${e}`,n]);const o=await((m=t==null?void 0:t.userAgentAppId)==null?void 0:m.call(t));return o&&r.push([`app/${o}`]),r};class xi{constructor(n){if(this.bytes=n,n.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(n){if(n>9223372036854776e3||n<-9223372036854776e3)throw new Error(`${n} is too large (or, if negative, too small) to represent as an Int64`);const t=new Uint8Array(8);for(let s=7,r=Math.abs(Math.round(n));s>-1&&r>0;s--,r/=256)t[s]=r;return n<0&&ky(t),new xi(t)}valueOf(){const n=this.bytes.slice(0),t=n[0]&128;return t&&ky(n),parseInt(cn(n),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function ky(e){for(let n=0;n<8;n++)e[n]^=255;for(let n=7;n>-1&&(e[n]++,e[n]===0);n--);}class K2{constructor(n,t){this.toUtf8=n,this.fromUtf8=t}format(n){const t=[];for(const o of Object.keys(n)){const i=this.fromUtf8(o);t.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(n[o]))}const s=new Uint8Array(t.reduce((o,i)=>o+i.byteLength,0));let r=0;for(const o of t)s.set(o,r),r+=o.byteLength;return s}formatHeaderValue(n){switch(n.type){case"boolean":return Uint8Array.from([n.value?0:1]);case"byte":return Uint8Array.from([2,n.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,n.value,!1),new Uint8Array(t.buffer);case"integer":const s=new DataView(new ArrayBuffer(5));return s.setUint8(0,4),s.setInt32(1,n.value,!1),new Uint8Array(s.buffer);case"long":const r=new Uint8Array(9);return r[0]=5,r.set(n.value.bytes,1),r;case"binary":const o=new DataView(new ArrayBuffer(3+n.value.byteLength));o.setUint8(0,6),o.setUint16(1,n.value.byteLength,!1);const i=new Uint8Array(o.buffer);return i.set(n.value,3),i;case"string":const a=this.fromUtf8(n.value),l=new DataView(new ArrayBuffer(3+a.byteLength));l.setUint8(0,7),l.setUint16(1,a.byteLength,!1);const c=new Uint8Array(l.buffer);return c.set(a,3),c;case"timestamp":const d=new Uint8Array(9);return d[0]=8,d.set(xi.fromNumber(n.value.valueOf()).bytes,1),d;case"uuid":if(!J2.test(n.value))throw new Error(`Invalid UUID received: ${n.value}`);const m=new Uint8Array(17);return m[0]=9,m.set(Vy(n.value.replace(/\-/g,"")),1),m}}parse(n){const t={};let s=0;for(;s<n.byteLength;){const r=n.getUint8(s++),o=this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+s,r));switch(s+=r,n.getUint8(s++)){case 0:t[o]={type:Ay,value:!0};break;case 1:t[o]={type:Ay,value:!1};break;case 2:t[o]={type:H2,value:n.getInt8(s++)};break;case 3:t[o]={type:G2,value:n.getInt16(s,!1)},s+=2;break;case 4:t[o]={type:V2,value:n.getInt32(s,!1)},s+=4;break;case 5:t[o]={type:W2,value:new xi(new Uint8Array(n.buffer,n.byteOffset+s,8))},s+=8;break;case 6:const i=n.getUint16(s,!1);s+=2,t[o]={type:X2,value:new Uint8Array(n.buffer,n.byteOffset+s,i)},s+=i;break;case 7:const a=n.getUint16(s,!1);s+=2,t[o]={type:Q2,value:this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+s,a))},s+=a;break;case 8:t[o]={type:Z2,value:new Date(new xi(new Uint8Array(n.buffer,n.byteOffset+s,8)).valueOf())},s+=8;break;case 9:const l=new Uint8Array(n.buffer,n.byteOffset+s,16);s+=16,t[o]={type:Y2,value:`${cn(l.subarray(0,4))}-${cn(l.subarray(4,6))}-${cn(l.subarray(6,8))}-${cn(l.subarray(8,10))}-${cn(l.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return t}}var _y;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(_y||(_y={}));const Ay="boolean",H2="byte",G2="short",V2="integer",W2="long",X2="binary",Q2="string",Z2="timestamp",Y2="uuid",J2=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,UC=4,ys=UC*2,Ns=4,eN=ys+Ns*2;function tN({byteLength:e,byteOffset:n,buffer:t}){if(e<eN)throw new Error("Provided message too short to accommodate event stream message overhead");const s=new DataView(t,n,e),r=s.getUint32(0,!1);if(e!==r)throw new Error("Reported message length does not match received message length");const o=s.getUint32(UC,!1),i=s.getUint32(ys,!1),a=s.getUint32(e-Ns,!1),l=new Ya().update(new Uint8Array(t,n,ys));if(i!==l.digest())throw new Error(`The prelude checksum specified in the message (${i}) does not match the calculated CRC32 checksum (${l.digest()})`);if(l.update(new Uint8Array(t,n+ys,e-(ys+Ns))),a!==l.digest())throw new Error(`The message checksum (${l.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(t,n+ys+Ns,o),body:new Uint8Array(t,n+ys+Ns+o,r-o-(ys+Ns+Ns))}}class nN{constructor(n,t){this.headerMarshaller=new K2(n,t),this.messageBuffer=[],this.isEndOfStream=!1}feed(n){this.messageBuffer.push(this.decode(n))}endOfStream(){this.isEndOfStream=!0}getMessage(){const n=this.messageBuffer.pop(),t=this.isEndOfStream;return{getMessage(){return n},isEndOfStream(){return t}}}getAvailableMessages(){const n=this.messageBuffer;this.messageBuffer=[];const t=this.isEndOfStream;return{getMessages(){return n},isEndOfStream(){return t}}}encode({headers:n,body:t}){const s=this.headerMarshaller.format(n),r=s.byteLength+t.byteLength+16,o=new Uint8Array(r),i=new DataView(o.buffer,o.byteOffset,o.byteLength),a=new Ya;return i.setUint32(0,r,!1),i.setUint32(4,s.byteLength,!1),i.setUint32(8,a.update(o.subarray(0,8)).digest(),!1),o.set(s,12),o.set(t,s.byteLength+12),i.setUint32(r-4,a.update(o.subarray(8,r-4)).digest(),!1),o}decode(n){const{headers:t,body:s}=tN(n);return{headers:this.headerMarshaller.parse(t),body:s}}formatHeaders(n){return this.headerMarshaller.format(n)}}class sN{constructor(n){this.options=n}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const n of this.options.inputStream)yield this.options.decoder.decode(n)}}class rN{constructor(n){this.options=n}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const n of this.options.messageStream)yield this.options.encoder.encode(n);this.options.includeEndFrame&&(yield new Uint8Array(0))}}class oN{constructor(n){this.options=n}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const n of this.options.messageStream){const t=await this.options.deserializer(n);t!==void 0&&(yield t)}}}class iN{constructor(n){this.options=n}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const n of this.options.inputStream)yield this.options.serializer(n)}}function aN(e){let n=0,t=0,s=null,r=null;const o=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);n=a,t=4,s=new Uint8Array(a),new DataView(s.buffer).setUint32(0,a,!1)},i=async function*(){const a=e[Symbol.asyncIterator]();for(;;){const{value:l,done:c}=await a.next();if(c){if(n)if(n===t)yield s;else throw new Error("Truncated event message received.");else return;return}const d=l.length;let m=0;for(;m<d;){if(!s){const b=d-m;r||(r=new Uint8Array(4));const w=Math.min(4-t,b);if(r.set(l.slice(m,m+w),t),t+=w,m+=w,t<4)break;o(new DataView(r.buffer).getUint32(0,!1)),r=null}const u=Math.min(n-t,d-m);s.set(l.slice(m,m+u),t),t+=u,m+=u,n&&n===t&&(yield s,s=null,n=0,t=0)}}};return{[Symbol.asyncIterator]:i}}function cN(e,n){return async function(t){const{value:s}=t.headers[":message-type"];if(s==="error"){const r=new Error(t.headers[":error-message"].value||"UnknownError");throw r.name=t.headers[":error-code"].value,r}else if(s==="exception"){const r=t.headers[":exception-type"].value,o={[r]:t},i=await e(o);if(i.$unknown){const a=new Error(n(t.body));throw a.name=r,a}throw i[r]}else if(s==="event"){const r={[t.headers[":event-type"].value]:t},o=await e(r);return o.$unknown?void 0:o}else throw Error(`Unrecognizable event type: ${t.headers[":event-type"].value}`)}}let lN=class{constructor({utf8Encoder:n,utf8Decoder:t}){this.eventStreamCodec=new nN(n,t),this.utfEncoder=n}deserialize(n,t){const s=aN(n);return new oN({messageStream:new sN({inputStream:s,decoder:this.eventStreamCodec}),deserializer:cN(t,this.utfEncoder)})}serialize(n,t){return new rN({messageStream:new iN({inputStream:n,serializer:t}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};const dN=e=>({[Symbol.asyncIterator]:async function*(){const n=e.getReader();try{for(;;){const{done:t,value:s}=await n.read();if(t)return;yield s}}finally{n.releaseLock()}}}),uN=e=>{const n=e[Symbol.asyncIterator]();return new ReadableStream({async pull(t){const{done:s,value:r}=await n.next();if(s)return t.close();t.enqueue(r)}})};class fN{constructor({utf8Encoder:n,utf8Decoder:t}){this.universalMarshaller=new lN({utf8Decoder:t,utf8Encoder:n})}deserialize(n,t){const s=mN(n)?dN(n):n;return this.universalMarshaller.deserialize(s,t)}serialize(n,t){const s=this.universalMarshaller.serialize(n,t);return typeof ReadableStream=="function"?uN(s):s}}const mN=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,hN=e=>new fN(e);async function yN(e,n,t=1024*1024){const s=e.size;let r=0;for(;r<s;){const o=e.slice(r,Math.min(s,r+t));n(new Uint8Array(await o.arrayBuffer())),r+=o.size}}const gN=async function(n,t){const s=new n;return await yN(t,r=>{s.update(r)}),s.digest()},bN=e=>()=>Promise.reject(e),ms=64,CN=16,pN=[1732584193,4023233417,2562383102,271733878];class xN{constructor(){this.reset()}update(n){if(SN(n))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const t=EN(n);let s=0,{byteLength:r}=t;for(this.bytesHashed+=r;r>0;)this.buffer.setUint8(this.bufferLength++,t[s++]),r--,this.bufferLength===ms&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:t,bufferLength:s,bytesHashed:r}=this,o=r*8;if(t.setUint8(this.bufferLength++,128),s%ms>=ms-8){for(let i=this.bufferLength;i<ms;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(let i=this.bufferLength;i<ms-8;i++)t.setUint8(i,0);t.setUint32(ms-8,o>>>0,!0),t.setUint32(ms-4,Math.floor(o/4294967296),!0),this.hashBuffer(),this.finished=!0}const n=new DataView(new ArrayBuffer(CN));for(let t=0;t<4;t++)n.setUint32(t*4,this.state[t],!0);return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}hashBuffer(){const{buffer:n,state:t}=this;let s=t[0],r=t[1],o=t[2],i=t[3];s=jt(s,r,o,i,n.getUint32(0,!0),7,3614090360),i=jt(i,s,r,o,n.getUint32(4,!0),12,3905402710),o=jt(o,i,s,r,n.getUint32(8,!0),17,606105819),r=jt(r,o,i,s,n.getUint32(12,!0),22,3250441966),s=jt(s,r,o,i,n.getUint32(16,!0),7,4118548399),i=jt(i,s,r,o,n.getUint32(20,!0),12,1200080426),o=jt(o,i,s,r,n.getUint32(24,!0),17,2821735955),r=jt(r,o,i,s,n.getUint32(28,!0),22,4249261313),s=jt(s,r,o,i,n.getUint32(32,!0),7,1770035416),i=jt(i,s,r,o,n.getUint32(36,!0),12,2336552879),o=jt(o,i,s,r,n.getUint32(40,!0),17,4294925233),r=jt(r,o,i,s,n.getUint32(44,!0),22,2304563134),s=jt(s,r,o,i,n.getUint32(48,!0),7,1804603682),i=jt(i,s,r,o,n.getUint32(52,!0),12,4254626195),o=jt(o,i,s,r,n.getUint32(56,!0),17,2792965006),r=jt(r,o,i,s,n.getUint32(60,!0),22,1236535329),s=Kt(s,r,o,i,n.getUint32(4,!0),5,4129170786),i=Kt(i,s,r,o,n.getUint32(24,!0),9,3225465664),o=Kt(o,i,s,r,n.getUint32(44,!0),14,643717713),r=Kt(r,o,i,s,n.getUint32(0,!0),20,3921069994),s=Kt(s,r,o,i,n.getUint32(20,!0),5,3593408605),i=Kt(i,s,r,o,n.getUint32(40,!0),9,38016083),o=Kt(o,i,s,r,n.getUint32(60,!0),14,3634488961),r=Kt(r,o,i,s,n.getUint32(16,!0),20,3889429448),s=Kt(s,r,o,i,n.getUint32(36,!0),5,568446438),i=Kt(i,s,r,o,n.getUint32(56,!0),9,3275163606),o=Kt(o,i,s,r,n.getUint32(12,!0),14,4107603335),r=Kt(r,o,i,s,n.getUint32(32,!0),20,1163531501),s=Kt(s,r,o,i,n.getUint32(52,!0),5,2850285829),i=Kt(i,s,r,o,n.getUint32(8,!0),9,4243563512),o=Kt(o,i,s,r,n.getUint32(28,!0),14,1735328473),r=Kt(r,o,i,s,n.getUint32(48,!0),20,2368359562),s=Ht(s,r,o,i,n.getUint32(20,!0),4,4294588738),i=Ht(i,s,r,o,n.getUint32(32,!0),11,2272392833),o=Ht(o,i,s,r,n.getUint32(44,!0),16,1839030562),r=Ht(r,o,i,s,n.getUint32(56,!0),23,4259657740),s=Ht(s,r,o,i,n.getUint32(4,!0),4,2763975236),i=Ht(i,s,r,o,n.getUint32(16,!0),11,1272893353),o=Ht(o,i,s,r,n.getUint32(28,!0),16,4139469664),r=Ht(r,o,i,s,n.getUint32(40,!0),23,3200236656),s=Ht(s,r,o,i,n.getUint32(52,!0),4,681279174),i=Ht(i,s,r,o,n.getUint32(0,!0),11,3936430074),o=Ht(o,i,s,r,n.getUint32(12,!0),16,3572445317),r=Ht(r,o,i,s,n.getUint32(24,!0),23,76029189),s=Ht(s,r,o,i,n.getUint32(36,!0),4,3654602809),i=Ht(i,s,r,o,n.getUint32(48,!0),11,3873151461),o=Ht(o,i,s,r,n.getUint32(60,!0),16,530742520),r=Ht(r,o,i,s,n.getUint32(8,!0),23,3299628645),s=Gt(s,r,o,i,n.getUint32(0,!0),6,4096336452),i=Gt(i,s,r,o,n.getUint32(28,!0),10,1126891415),o=Gt(o,i,s,r,n.getUint32(56,!0),15,2878612391),r=Gt(r,o,i,s,n.getUint32(20,!0),21,4237533241),s=Gt(s,r,o,i,n.getUint32(48,!0),6,1700485571),i=Gt(i,s,r,o,n.getUint32(12,!0),10,2399980690),o=Gt(o,i,s,r,n.getUint32(40,!0),15,4293915773),r=Gt(r,o,i,s,n.getUint32(4,!0),21,2240044497),s=Gt(s,r,o,i,n.getUint32(32,!0),6,1873313359),i=Gt(i,s,r,o,n.getUint32(60,!0),10,4264355552),o=Gt(o,i,s,r,n.getUint32(24,!0),15,2734768916),r=Gt(r,o,i,s,n.getUint32(52,!0),21,1309151649),s=Gt(s,r,o,i,n.getUint32(16,!0),6,4149444226),i=Gt(i,s,r,o,n.getUint32(44,!0),10,3174756917),o=Gt(o,i,s,r,n.getUint32(8,!0),15,718787259),r=Gt(r,o,i,s,n.getUint32(36,!0),21,3951481745),t[0]=s+t[0]&4294967295,t[1]=r+t[1]&4294967295,t[2]=o+t[2]&4294967295,t[3]=i+t[3]&4294967295}reset(){this.state=Uint32Array.from(pN),this.buffer=new DataView(new ArrayBuffer(ms)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function Fc(e,n,t,s,r,o){return n=(n+e&4294967295)+(s+o&4294967295)&4294967295,(n<<r|n>>>32-r)+t&4294967295}function jt(e,n,t,s,r,o,i){return Fc(n&t|~n&s,e,n,r,o,i)}function Kt(e,n,t,s,r,o,i){return Fc(n&s|t&~s,e,n,r,o,i)}function Ht(e,n,t,s,r,o,i){return Fc(n^t^s,e,n,r,o,i)}function Gt(e,n,t,s,r,o,i){return Fc(t^(n|~s),e,n,r,o,i)}function SN(e){return typeof e=="string"?e.length===0:e.byteLength===0}function EN(e){return typeof e=="string"?wr(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}const By=typeof TextEncoder=="function"?new TextEncoder:null,wN=e=>{if(typeof e=="string"){if(By)return By.encode(e).byteLength;let n=e.length;for(let t=n-1;t>=0;t--){const s=e.charCodeAt(t);s>127&&s<=2047?n++:s>2047&&s<=65535&&(n+=2),s>=56320&&s<=57343&&t--}return n}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},kN=e=>({apiVersion:"2006-03-01",base64Decoder:(e==null?void 0:e.base64Decoder)??Eu,base64Encoder:(e==null?void 0:e.base64Encoder)??xc,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??Xg,extensions:(e==null?void 0:e.extensions)??[],getAwsChunkedEncodingStream:(e==null?void 0:e.getAwsChunkedEncodingStream)??sp,httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??Jw,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4"),signer:new jy},{schemeId:"aws.auth#sigv4a",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4a"),signer:new O0}],logger:(e==null?void 0:e.logger)??new Bu,sdkStreamMixin:(e==null?void 0:e.sdkStreamMixin)??up,serviceId:(e==null?void 0:e.serviceId)??"S3",signerConstructor:(e==null?void 0:e.signerConstructor)??Mw,signingEscapePath:(e==null?void 0:e.signingEscapePath)??!1,urlParser:(e==null?void 0:e.urlParser)??ec,useArnRegion:(e==null?void 0:e.useArnRegion)??!1,utf8Decoder:(e==null?void 0:e.utf8Decoder)??wr,utf8Encoder:(e==null?void 0:e.utf8Encoder)??wu}),_N=["in-region","cross-region","mobile","standard","legacy"],AN=({defaultsMode:e}={})=>Sp(async()=>{const n=typeof e=="function"?await e():e;switch(n==null?void 0:n.toLowerCase()){case"auto":return Promise.resolve(BN()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(n==null?void 0:n.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${_N.join(", ")}, got ${n}`)}}),BN=()=>{var t,s;const e=typeof window<"u"&&((t=window==null?void 0:window.navigator)!=null&&t.userAgent)?LC.parse(window.navigator.userAgent):void 0,n=(s=e==null?void 0:e.platform)==null?void 0:s.type;return n==="tablet"||n==="mobile"},vN=e=>{const n=AN(e),t=()=>n().then(Ex),s=kN(e);return{...s,...e,runtime:"browser",defaultsMode:n,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??wN,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??(r=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??j2({serviceId:s.serviceId,clientVersion:S2.version}),eventStreamSerdeProvider:(e==null?void 0:e.eventStreamSerdeProvider)??hN,maxAttempts:(e==null?void 0:e.maxAttempts)??tc,md5:(e==null?void 0:e.md5)??xN,region:(e==null?void 0:e.region)??bN("Region is missing"),requestHandler:ku.create((e==null?void 0:e.requestHandler)??t),retryMode:(e==null?void 0:e.retryMode)??(async()=>(await t()).retryMode||cw),sha1:(e==null?void 0:e.sha1)??v2,sha256:(e==null?void 0:e.sha256)??F2,streamCollector:(e==null?void 0:e.streamCollector)??Hy,streamHasher:(e==null?void 0:e.streamHasher)??gN,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(()=>Promise.resolve(KE)),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(()=>Promise.resolve(HE))}},PN=e=>({setRegion(n){e.region=n},region(){return e.region}}),RN=e=>({region:e.region()}),TN=e=>{const n=e.httpAuthSchemes;let t=e.httpAuthSchemeProvider,s=e.credentials;return{setHttpAuthScheme(r){const o=n.findIndex(i=>i.schemeId===r.schemeId);o===-1?n.push(r):n.splice(o,1,r)},httpAuthSchemes(){return n},setHttpAuthSchemeProvider(r){t=r},httpAuthSchemeProvider(){return t},setCredentials(r){s=r},credentials(){return s}}},IN=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),ON=(e,n)=>{const t=Object.assign(PN(e),Bx(e),E0(e),TN(e));return n.forEach(s=>s.configure(t)),Object.assign(e,RN(t),vx(t),w0(t),IN(t))};class MN extends Zp{constructor(...[t]){const s=vN(t||{});super(s);ne(this,"config");this.initConfig=s;const r=tk(s),o=cE(r),i=fS(o),a=_w(i),l=GE(a),c=l,d=aw(c),m=VE(d),u=ek(m),b=WS(u,{session:[()=>this,OC]}),w=ON(b,(t==null?void 0:t.extensions)||[]);this.config=w,this.middlewareStack.use(jE(this.config)),this.middlewareStack.use(Iw(this.config)),this.middlewareStack.use(QE(this.config)),this.middlewareStack.use(yS(this.config)),this.middlewareStack.use(CS(this.config)),this.middlewareStack.use(wS(this.config)),this.middlewareStack.use(L0(this.config,{httpAuthSchemeParametersProvider:Qw,identityProviderConfigProvider:async A=>new gp({"aws.auth#sigv4":A.credentials,"aws.auth#sigv4a":A.credentials})})),this.middlewareStack.use(H0(this.config)),this.middlewareStack.use(oE(this.config)),this.middlewareStack.use(v0(this.config)),this.middlewareStack.use(OS(this.config)),this.middlewareStack.use($S(this.config)),this.middlewareStack.use(VS(this.config))}destroy(){super.destroy()}}class zC extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","AbortMultipartUpload",{}).n("S3Client","AbortMultipartUploadCommand").f(void 0,void 0).ser(Gk).de(DA).build(){}function NN(e){return n=>async t=>{const s={...t.input},r=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(const o of r){const i=s[o.target];if(i){let a;typeof i=="string"?FN(i,e)?a=e.base64Decoder(i):(a=e.utf8Decoder(i),s[o.target]=e.base64Encoder(a)):(a=ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i),s[o.target]=e.base64Encoder(a));const l=new e.md5;l.update(a),s[o.hash]=e.base64Encoder(await l.digest())}}return n({...t,input:s})}}const DN={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},jn=e=>({applyToStack:n=>{n.add(NN(e),DN)}});function FN(e,n){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))return!1;try{return n.base64Decoder(e).length===32}catch{return!1}}class qC extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s),jn(s)]}).s("AmazonS3","CompleteMultipartUpload",{}).n("S3Client","CompleteMultipartUploadCommand").f(rk,sk).ser(Vk).de(FA).build(){}class LN extends D.classBuilder().ep({...z,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"},CopySource:{type:"contextParams",name:"CopySource"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s),jn(s)]}).s("AmazonS3","CopyObject",{}).n("S3Client","CopyObjectCommand").f(ik,ok).ser(Wk).de(LA).build(){}function UN(e){return n=>async t=>{const{CreateBucketConfiguration:s}=t.input,r=await e.region();return!(s!=null&&s.LocationConstraint)&&!(s!=null&&s.Location)&&(t={...t,input:{...t.input,CreateBucketConfiguration:r==="us-east-1"?void 0:{LocationConstraint:r}}}),n(t)}}const zN={step:"initialize",tags:["LOCATION_CONSTRAINT","CREATE_BUCKET_CONFIGURATION"],name:"locationConstraintMiddleware",override:!0},qN=e=>({applyToStack:n=>{n.add(UN(e),zN)}});class $N extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},DisableAccessPoints:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s),qN(s)]}).s("AmazonS3","CreateBucket",{}).n("S3Client","CreateBucketCommand").f(void 0,void 0).ser(Xk).de(UA).build(){}class jN extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),st(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","CreateBucketMetadataTableConfiguration",{}).n("S3Client","CreateBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(Qk).de(zA).build(){}class $C extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s),jn(s)]}).s("AmazonS3","CreateMultipartUpload",{}).n("S3Client","CreateMultipartUploadCommand").f(ck,ak).ser(Zk).de(qA).build(){}class KN extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketAnalyticsConfiguration",{}).n("S3Client","DeleteBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(e_).de(KA).build(){}class HN extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucket",{}).n("S3Client","DeleteBucketCommand").f(void 0,void 0).ser(Jk).de(jA).build(){}class GN extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketCors",{}).n("S3Client","DeleteBucketCorsCommand").f(void 0,void 0).ser(t_).de(HA).build(){}class VN extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketEncryption",{}).n("S3Client","DeleteBucketEncryptionCommand").f(void 0,void 0).ser(n_).de(GA).build(){}class WN extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketIntelligentTieringConfiguration",{}).n("S3Client","DeleteBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(s_).de(VA).build(){}class XN extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketInventoryConfiguration",{}).n("S3Client","DeleteBucketInventoryConfigurationCommand").f(void 0,void 0).ser(r_).de(WA).build(){}class QN extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketLifecycle",{}).n("S3Client","DeleteBucketLifecycleCommand").f(void 0,void 0).ser(o_).de(XA).build(){}class ZN extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetadataTableConfiguration",{}).n("S3Client","DeleteBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(i_).de(QA).build(){}class YN extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetricsConfiguration",{}).n("S3Client","DeleteBucketMetricsConfigurationCommand").f(void 0,void 0).ser(a_).de(ZA).build(){}class JN extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketOwnershipControls",{}).n("S3Client","DeleteBucketOwnershipControlsCommand").f(void 0,void 0).ser(c_).de(YA).build(){}class eD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketPolicy",{}).n("S3Client","DeleteBucketPolicyCommand").f(void 0,void 0).ser(l_).de(JA).build(){}class tD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketReplication",{}).n("S3Client","DeleteBucketReplicationCommand").f(void 0,void 0).ser(d_).de(eB).build(){}class nD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketTagging",{}).n("S3Client","DeleteBucketTaggingCommand").f(void 0,void 0).ser(u_).de(tB).build(){}class sD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketWebsite",{}).n("S3Client","DeleteBucketWebsiteCommand").f(void 0,void 0).ser(f_).de(nB).build(){}class rD extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","DeleteObject",{}).n("S3Client","DeleteObjectCommand").f(void 0,void 0).ser(m_).de(sB).build(){}class oD extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),st(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),re(s)]}).s("AmazonS3","DeleteObjects",{}).n("S3Client","DeleteObjectsCommand").f(void 0,void 0).ser(h_).de(rB).build(){}class iD extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","DeleteObjectTagging",{}).n("S3Client","DeleteObjectTaggingCommand").f(void 0,void 0).ser(y_).de(oB).build(){}class aD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeletePublicAccessBlock",{}).n("S3Client","DeletePublicAccessBlockCommand").f(void 0,void 0).ser(g_).de(iB).build(){}class cD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketAccelerateConfiguration",{}).n("S3Client","GetBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(b_).de(aB).build(){}class lD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketAcl",{}).n("S3Client","GetBucketAclCommand").f(void 0,void 0).ser(C_).de(cB).build(){}class dD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketAnalyticsConfiguration",{}).n("S3Client","GetBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(p_).de(lB).build(){}class uD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketCors",{}).n("S3Client","GetBucketCorsCommand").f(void 0,void 0).ser(x_).de(dB).build(){}class fD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketEncryption",{}).n("S3Client","GetBucketEncryptionCommand").f(void 0,hk).ser(S_).de(uB).build(){}class mD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketIntelligentTieringConfiguration",{}).n("S3Client","GetBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(E_).de(fB).build(){}class hD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketInventoryConfiguration",{}).n("S3Client","GetBucketInventoryConfigurationCommand").f(void 0,pk).ser(w_).de(mB).build(){}class yD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketLifecycleConfiguration",{}).n("S3Client","GetBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(k_).de(hB).build(){}class gD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketLocation",{}).n("S3Client","GetBucketLocationCommand").f(void 0,void 0).ser(__).de(yB).build(){}class bD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketLogging",{}).n("S3Client","GetBucketLoggingCommand").f(void 0,void 0).ser(A_).de(gB).build(){}class CD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketMetadataTableConfiguration",{}).n("S3Client","GetBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(B_).de(bB).build(){}class pD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketMetricsConfiguration",{}).n("S3Client","GetBucketMetricsConfigurationCommand").f(void 0,void 0).ser(v_).de(CB).build(){}class xD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketNotificationConfiguration",{}).n("S3Client","GetBucketNotificationConfigurationCommand").f(void 0,void 0).ser(P_).de(pB).build(){}class SD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketOwnershipControls",{}).n("S3Client","GetBucketOwnershipControlsCommand").f(void 0,void 0).ser(R_).de(xB).build(){}class ED extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketPolicy",{}).n("S3Client","GetBucketPolicyCommand").f(void 0,void 0).ser(T_).de(SB).build(){}class wD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketPolicyStatus",{}).n("S3Client","GetBucketPolicyStatusCommand").f(void 0,void 0).ser(I_).de(EB).build(){}class kD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketReplication",{}).n("S3Client","GetBucketReplicationCommand").f(void 0,void 0).ser(O_).de(wB).build(){}class _D extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketRequestPayment",{}).n("S3Client","GetBucketRequestPaymentCommand").f(void 0,void 0).ser(M_).de(kB).build(){}class AD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketTagging",{}).n("S3Client","GetBucketTaggingCommand").f(void 0,void 0).ser(N_).de(_B).build(){}class BD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketVersioning",{}).n("S3Client","GetBucketVersioningCommand").f(void 0,void 0).ser(D_).de(AB).build(){}class vD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetBucketWebsite",{}).n("S3Client","GetBucketWebsiteCommand").f(void 0,void 0).ser(F_).de(BB).build(){}class PD extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetObjectAcl",{}).n("S3Client","GetObjectAclCommand").f(void 0,void 0).ser(U_).de(PB).build(){}class RD extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s),jn(s)]}).s("AmazonS3","GetObjectAttributes",{}).n("S3Client","GetObjectAttributesCommand").f(Ek,void 0).ser(z_).de(RB).build(){}class TD extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),st(s,{requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC64NVME","CRC32","CRC32C","SHA256","SHA1"]}),jn(s),gg()]}).s("AmazonS3","GetObject",{}).n("S3Client","GetObjectCommand").f(Sk,xk).ser(L_).de(vB).build(){}class ID extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetObjectLegalHold",{}).n("S3Client","GetObjectLegalHoldCommand").f(void 0,void 0).ser(q_).de(TB).build(){}class OD extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetObjectLockConfiguration",{}).n("S3Client","GetObjectLockConfigurationCommand").f(void 0,void 0).ser($_).de(IB).build(){}class MD extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetObjectRetention",{}).n("S3Client","GetObjectRetentionCommand").f(void 0,void 0).ser(j_).de(OB).build(){}class ND extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetObjectTagging",{}).n("S3Client","GetObjectTaggingCommand").f(void 0,void 0).ser(K_).de(MB).build(){}class DD extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","GetObjectTorrent",{}).n("S3Client","GetObjectTorrentCommand").f(void 0,wk).ser(H_).de(NB).build(){}class FD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","GetPublicAccessBlock",{}).n("S3Client","GetPublicAccessBlockCommand").f(void 0,void 0).ser(G_).de(DB).build(){}class LD extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","HeadBucket",{}).n("S3Client","HeadBucketCommand").f(void 0,void 0).ser(V_).de(FB).build(){}class UD extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s),jn(s),gg()]}).s("AmazonS3","HeadObject",{}).n("S3Client","HeadObjectCommand").f(_k,kk).ser(W_).de(LB).build(){}class zD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","ListBucketAnalyticsConfigurations",{}).n("S3Client","ListBucketAnalyticsConfigurationsCommand").f(void 0,void 0).ser(X_).de(UB).build(){}class qD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","ListBucketIntelligentTieringConfigurations",{}).n("S3Client","ListBucketIntelligentTieringConfigurationsCommand").f(void 0,void 0).ser(Q_).de(zB).build(){}class $D extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","ListBucketInventoryConfigurations",{}).n("S3Client","ListBucketInventoryConfigurationsCommand").f(void 0,Ak).ser(Z_).de(qB).build(){}class jD extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","ListBucketMetricsConfigurations",{}).n("S3Client","ListBucketMetricsConfigurationsCommand").f(void 0,void 0).ser(Y_).de($B).build(){}class KD extends D.classBuilder().ep(z).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","ListBuckets",{}).n("S3Client","ListBucketsCommand").f(void 0,void 0).ser(J_).de(jB).build(){}class HD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","ListDirectoryBuckets",{}).n("S3Client","ListDirectoryBucketsCommand").f(void 0,void 0).ser(eA).de(KB).build(){}class GD extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","ListMultipartUploads",{}).n("S3Client","ListMultipartUploadsCommand").f(void 0,void 0).ser(tA).de(HB).build(){}class VD extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","ListObjects",{}).n("S3Client","ListObjectsCommand").f(void 0,void 0).ser(nA).de(GB).build(){}class WD extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","ListObjectsV2",{}).n("S3Client","ListObjectsV2Command").f(void 0,void 0).ser(sA).de(VB).build(){}class XD extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s)]}).s("AmazonS3","ListObjectVersions",{}).n("S3Client","ListObjectVersionsCommand").f(void 0,void 0).ser(rA).de(WB).build(){}class QD extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s),jn(s)]}).s("AmazonS3","ListParts",{}).n("S3Client","ListPartsCommand").f(Bk,void 0).ser(oA).de(XB).build(){}class ZD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),st(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1})]}).s("AmazonS3","PutBucketAccelerateConfiguration",{}).n("S3Client","PutBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(iA).de(QB).build(){}class YD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),st(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketAcl",{}).n("S3Client","PutBucketAclCommand").f(void 0,void 0).ser(aA).de(ZB).build(){}class JD extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketAnalyticsConfiguration",{}).n("S3Client","PutBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(cA).de(YB).build(){}class eF extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),st(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketCors",{}).n("S3Client","PutBucketCorsCommand").f(void 0,void 0).ser(lA).de(JB).build(){}class tF extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),st(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketEncryption",{}).n("S3Client","PutBucketEncryptionCommand").f(Rk,void 0).ser(dA).de(ev).build(){}class nF extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketIntelligentTieringConfiguration",{}).n("S3Client","PutBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(uA).de(tv).build(){}class sF extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketInventoryConfiguration",{}).n("S3Client","PutBucketInventoryConfigurationCommand").f(Tk,void 0).ser(fA).de(nv).build(){}class rF extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),st(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),re(s)]}).s("AmazonS3","PutBucketLifecycleConfiguration",{}).n("S3Client","PutBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(mA).de(sv).build(){}class oF extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),st(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketLogging",{}).n("S3Client","PutBucketLoggingCommand").f(void 0,void 0).ser(hA).de(rv).build(){}class iF extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketMetricsConfiguration",{}).n("S3Client","PutBucketMetricsConfigurationCommand").f(void 0,void 0).ser(yA).de(ov).build(){}class aF extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketNotificationConfiguration",{}).n("S3Client","PutBucketNotificationConfigurationCommand").f(void 0,void 0).ser(gA).de(iv).build(){}class cF extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),st(s,{requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketOwnershipControls",{}).n("S3Client","PutBucketOwnershipControlsCommand").f(void 0,void 0).ser(bA).de(av).build(){}class lF extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),st(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketPolicy",{}).n("S3Client","PutBucketPolicyCommand").f(void 0,void 0).ser(CA).de(cv).build(){}class dF extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),st(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketReplication",{}).n("S3Client","PutBucketReplicationCommand").f(void 0,void 0).ser(pA).de(lv).build(){}class uF extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),st(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketRequestPayment",{}).n("S3Client","PutBucketRequestPaymentCommand").f(void 0,void 0).ser(xA).de(dv).build(){}class fF extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),st(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketTagging",{}).n("S3Client","PutBucketTaggingCommand").f(void 0,void 0).ser(SA).de(uv).build(){}class mF extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),st(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketVersioning",{}).n("S3Client","PutBucketVersioningCommand").f(void 0,void 0).ser(EA).de(fv).build(){}class hF extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),st(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketWebsite",{}).n("S3Client","PutBucketWebsiteCommand").f(void 0,void 0).ser(wA).de(mv).build(){}class yF extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),st(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),re(s)]}).s("AmazonS3","PutObjectAcl",{}).n("S3Client","PutObjectAclCommand").f(void 0,void 0).ser(_A).de(yv).build(){}class du extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),st(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),vS(),re(s),jn(s)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(Ok,Ik).ser(kA).de(hv).build(){}class gF extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),st(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),re(s)]}).s("AmazonS3","PutObjectLegalHold",{}).n("S3Client","PutObjectLegalHoldCommand").f(void 0,void 0).ser(AA).de(gv).build(){}class bF extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),st(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),re(s)]}).s("AmazonS3","PutObjectLockConfiguration",{}).n("S3Client","PutObjectLockConfigurationCommand").f(void 0,void 0).ser(BA).de(bv).build(){}class CF extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),st(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),re(s)]}).s("AmazonS3","PutObjectRetention",{}).n("S3Client","PutObjectRetentionCommand").f(void 0,void 0).ser(vA).de(Cv).build(){}class jC extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),st(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),re(s)]}).s("AmazonS3","PutObjectTagging",{}).n("S3Client","PutObjectTaggingCommand").f(void 0,void 0).ser(PA).de(pv).build(){}class pF extends D.classBuilder().ep({...z,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),st(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutPublicAccessBlock",{}).n("S3Client","PutPublicAccessBlockCommand").f(void 0,void 0).ser(RA).de(xv).build(){}class xF extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),st(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),re(s)]}).s("AmazonS3","RestoreObject",{}).n("S3Client","RestoreObjectCommand").f(Lk,void 0).ser(TA).de(Sv).build(){}class SF extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s),jn(s)]}).s("AmazonS3","SelectObjectContent",{eventStream:{output:!0}}).n("S3Client","SelectObjectContentCommand").f(zk,Uk).ser(IA).de(Ev).build(){}class KC extends D.classBuilder().ep({...z,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),st(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),re(s),jn(s)]}).s("AmazonS3","UploadPart",{}).n("S3Client","UploadPartCommand").f($k,qk).ser(OA).de(wv).build(){}class EF extends D.classBuilder().ep({...z,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions()),re(s),jn(s)]}).s("AmazonS3","UploadPartCopy",{}).n("S3Client","UploadPartCopyCommand").f(Kk,jk).ser(MA).de(kv).build(){}class wF extends D.classBuilder().ep({...z,UseObjectLambdaEndpoint:{type:"staticContextParams",value:!0}}).m(function(n,t,s,r){return[F(s,this.serialize,this.deserialize),U(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","WriteGetObjectResponse",{}).n("S3Client","WriteGetObjectResponseCommand").f(Hk,void 0).ser(NA).de(_v).build(){}const kF={AbortMultipartUploadCommand:zC,CompleteMultipartUploadCommand:qC,CopyObjectCommand:LN,CreateBucketCommand:$N,CreateBucketMetadataTableConfigurationCommand:jN,CreateMultipartUploadCommand:$C,CreateSessionCommand:OC,DeleteBucketCommand:HN,DeleteBucketAnalyticsConfigurationCommand:KN,DeleteBucketCorsCommand:GN,DeleteBucketEncryptionCommand:VN,DeleteBucketIntelligentTieringConfigurationCommand:WN,DeleteBucketInventoryConfigurationCommand:XN,DeleteBucketLifecycleCommand:QN,DeleteBucketMetadataTableConfigurationCommand:ZN,DeleteBucketMetricsConfigurationCommand:YN,DeleteBucketOwnershipControlsCommand:JN,DeleteBucketPolicyCommand:eD,DeleteBucketReplicationCommand:tD,DeleteBucketTaggingCommand:nD,DeleteBucketWebsiteCommand:sD,DeleteObjectCommand:rD,DeleteObjectsCommand:oD,DeleteObjectTaggingCommand:iD,DeletePublicAccessBlockCommand:aD,GetBucketAccelerateConfigurationCommand:cD,GetBucketAclCommand:lD,GetBucketAnalyticsConfigurationCommand:dD,GetBucketCorsCommand:uD,GetBucketEncryptionCommand:fD,GetBucketIntelligentTieringConfigurationCommand:mD,GetBucketInventoryConfigurationCommand:hD,GetBucketLifecycleConfigurationCommand:yD,GetBucketLocationCommand:gD,GetBucketLoggingCommand:bD,GetBucketMetadataTableConfigurationCommand:CD,GetBucketMetricsConfigurationCommand:pD,GetBucketNotificationConfigurationCommand:xD,GetBucketOwnershipControlsCommand:SD,GetBucketPolicyCommand:ED,GetBucketPolicyStatusCommand:wD,GetBucketReplicationCommand:kD,GetBucketRequestPaymentCommand:_D,GetBucketTaggingCommand:AD,GetBucketVersioningCommand:BD,GetBucketWebsiteCommand:vD,GetObjectCommand:TD,GetObjectAclCommand:PD,GetObjectAttributesCommand:RD,GetObjectLegalHoldCommand:ID,GetObjectLockConfigurationCommand:OD,GetObjectRetentionCommand:MD,GetObjectTaggingCommand:ND,GetObjectTorrentCommand:DD,GetPublicAccessBlockCommand:FD,HeadBucketCommand:LD,HeadObjectCommand:UD,ListBucketAnalyticsConfigurationsCommand:zD,ListBucketIntelligentTieringConfigurationsCommand:qD,ListBucketInventoryConfigurationsCommand:$D,ListBucketMetricsConfigurationsCommand:jD,ListBucketsCommand:KD,ListDirectoryBucketsCommand:HD,ListMultipartUploadsCommand:GD,ListObjectsCommand:VD,ListObjectsV2Command:WD,ListObjectVersionsCommand:XD,ListPartsCommand:QD,PutBucketAccelerateConfigurationCommand:ZD,PutBucketAclCommand:YD,PutBucketAnalyticsConfigurationCommand:JD,PutBucketCorsCommand:eF,PutBucketEncryptionCommand:tF,PutBucketIntelligentTieringConfigurationCommand:nF,PutBucketInventoryConfigurationCommand:sF,PutBucketLifecycleConfigurationCommand:rF,PutBucketLoggingCommand:oF,PutBucketMetricsConfigurationCommand:iF,PutBucketNotificationConfigurationCommand:aF,PutBucketOwnershipControlsCommand:cF,PutBucketPolicyCommand:lF,PutBucketReplicationCommand:dF,PutBucketRequestPaymentCommand:uF,PutBucketTaggingCommand:fF,PutBucketVersioningCommand:mF,PutBucketWebsiteCommand:hF,PutObjectCommand:du,PutObjectAclCommand:yF,PutObjectLegalHoldCommand:gF,PutObjectLockConfigurationCommand:bF,PutObjectRetentionCommand:CF,PutObjectTaggingCommand:jC,PutPublicAccessBlockCommand:pF,RestoreObjectCommand:xF,SelectObjectContentCommand:SF,UploadPartCommand:KC,UploadPartCopyCommand:EF,WriteGetObjectResponseCommand:wF};class HC extends MN{}Jp(kF,HC);class _F{constructor(){this.onabort=null,this._aborted=!1,Object.defineProperty(this,"_aborted",{value:!1,writable:!0})}get aborted(){return this._aborted}abort(){this._aborted=!0,this.onabort&&(this.onabort(this),this.onabort=null)}}let AF=class{constructor(){this.signal=new _F}abort(){this.signal.abort()}};var od=o0();const BF={lstatSync:()=>{}},vF={...BF,runtime:"browser"},id=e=>{if(e==null)return 0;if(typeof e=="string")return ks.Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size;if(typeof e.path=="string")try{return vF.lstatSync(e.path).size}catch{return}};var PF=i0();async function*ad(e,n,t){let s=1;const r={chunks:[],length:0};for await(const o of t(e))for(r.chunks.push(o),r.length+=o.byteLength;r.length>n;){const i=r.chunks.length>1?ks.Buffer.concat(r.chunks):r.chunks[0];yield{partNumber:s,data:i.subarray(0,n)},r.chunks=[i.subarray(n)],r.length=r.chunks[0].byteLength,s+=1}yield{partNumber:s,data:r.chunks.length!==1?ks.Buffer.concat(r.chunks):r.chunks[0],lastPart:!0}}async function*vy(e,n){let t=1,s=0,r=n;for(;r<e.byteLength;)yield{partNumber:t,data:e.subarray(s,r)},t+=1,s=r,r=s+n;yield{partNumber:t,data:e.subarray(s),lastPart:!0}}async function*RF(e){for await(const n of e)ks.Buffer.isBuffer(n)||n instanceof Uint8Array?yield n:yield ks.Buffer.from(n)}async function*Py(e){const n=e.getReader();try{for(;;){const{done:t,value:s}=await n.read();if(t)return;ks.Buffer.isBuffer(s)||s instanceof Uint8Array?yield s:yield ks.Buffer.from(s)}}catch(t){throw t}finally{n.releaseLock()}}const TF=(e,n)=>{if(e instanceof Uint8Array)return vy(e,n);if(e instanceof PF.Readable)return ad(e,n,RF);if(e instanceof String||typeof e=="string")return vy(ks.Buffer.from(e),n);if(typeof e.stream=="function")return ad(e.stream(),n,Py);if(e instanceof ReadableStream)return ad(e,n,Py);throw new Error("Body Data is unsupported format, expected data to be one of: string | Uint8Array | Buffer | Readable | ReadableStream | Blob;.")},Vr=class Vr extends od.EventEmitter{constructor(t){super();ne(this,"MAX_PARTS",1e4);ne(this,"queueSize",4);ne(this,"partSize",Vr.MIN_PART_SIZE);ne(this,"leavePartsOnError",!1);ne(this,"tags",[]);ne(this,"client");ne(this,"params");ne(this,"totalBytes");ne(this,"bytesUploadedSoFar");ne(this,"abortController");ne(this,"concurrentUploaders",[]);ne(this,"createMultiPartPromise");ne(this,"abortMultipartUploadCommand",null);ne(this,"uploadedParts",[]);ne(this,"uploadEnqueuedPartsCount",0);ne(this,"uploadId");ne(this,"uploadEvent");ne(this,"isMultiPart",!0);ne(this,"singleUploadResult");ne(this,"sent",!1);this.queueSize=t.queueSize||this.queueSize,this.partSize=t.partSize||this.partSize,this.leavePartsOnError=t.leavePartsOnError||this.leavePartsOnError,this.tags=t.tags||this.tags,this.client=t.client,this.params=t.params,this.__validateInput(),this.totalBytes=id(this.params.Body),this.bytesUploadedSoFar=0,this.abortController=t.abortController??new AF}async abort(){this.abortController.abort()}async done(){if(this.sent)throw new Error("@aws-sdk/lib-storage: this instance of Upload has already executed .done(). Create a new instance.");return this.sent=!0,await Promise.race([this.__doMultipartUpload(),this.__abortTimeout(this.abortController.signal)])}on(t,s){return this.uploadEvent=t,super.on(t,s)}async __uploadUsingPut(t){var A;this.isMultiPart=!1;const s={...this.params,Body:t.data},r=this.client.config,o=r.requestHandler,i=o instanceof od.EventEmitter?o:null,a=B=>{this.bytesUploadedSoFar=B.loaded,this.totalBytes=B.total,this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:t.partNumber,Key:this.params.Key,Bucket:this.params.Bucket})};i!==null&&i.on("xhr.upload.progress",a);const l=await Promise.all([this.client.send(new du(s)),(A=r==null?void 0:r.endpoint)==null?void 0:A.call(r)]),c=l[0];let d=l[1];if(d||(d=Mu(await vg(s,du,{...r}))),!d)throw new Error('Could not resolve endpoint from S3 "client.config.endpoint()" nor EndpointsV2.');i!==null&&i.off("xhr.upload.progress",a);const m=this.params.Key.split("/").map(B=>Xa(B)).join("/"),u=Xa(this.params.Bucket),b=(()=>{const B=d.hostname.startsWith(`${u}.`),p=this.client.config.forcePathStyle,E=d.port?`:${d.port}`:"";return p?`${d.protocol}//${d.hostname}${E}/${u}/${m}`:B?`${d.protocol}//${d.hostname}${E}/${m}`:`${d.protocol}//${u}.${d.hostname}${E}/${m}`})();this.singleUploadResult={...c,Bucket:this.params.Bucket,Key:this.params.Key,Location:b};const w=id(t.data);this.__notifyProgress({loaded:w,total:w,part:1,Key:this.params.Key,Bucket:this.params.Bucket})}async __createMultipartUpload(){const t=await this.client.config.requestChecksumCalculation();if(!this.createMultiPartPromise){const s={...this.params,Body:void 0};t==="WHEN_SUPPORTED"&&(s.ChecksumAlgorithm=this.params.ChecksumAlgorithm||nk.CRC32),this.createMultiPartPromise=this.client.send(new $C(s)).then(r=>(this.abortMultipartUploadCommand=new zC({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:r.UploadId}),r))}return this.createMultiPartPromise}async __doConcurrentUpload(t){for await(const s of t){if(this.uploadEnqueuedPartsCount>this.MAX_PARTS)throw new Error(`Exceeded ${this.MAX_PARTS} parts in multipart upload to Bucket: ${this.params.Bucket} Key: ${this.params.Key}.`);if(this.abortController.signal.aborted)return;if(s.partNumber===1&&s.lastPart)return await this.__uploadUsingPut(s);if(!this.uploadId){const{UploadId:d}=await this.__createMultipartUpload();if(this.uploadId=d,this.abortController.signal.aborted)return}const r=id(s.data)||0,o=this.client.config.requestHandler,i=o instanceof od.EventEmitter?o:null;let a=0;const l=(d,m)=>{(Number(m.query.partNumber)||-1)===s.partNumber&&(d.total&&r&&(this.bytesUploadedSoFar+=d.loaded-a,a=d.loaded),this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:s.partNumber,Key:this.params.Key,Bucket:this.params.Bucket}))};i!==null&&i.on("xhr.upload.progress",l),this.uploadEnqueuedPartsCount+=1;const c=await this.client.send(new KC({...this.params,ContentLength:void 0,UploadId:this.uploadId,Body:s.data,PartNumber:s.partNumber}));if(i!==null&&i.off("xhr.upload.progress",l),this.abortController.signal.aborted)return;if(!c.ETag)throw new Error(`Part ${s.partNumber} is missing ETag in UploadPart response. Missing Bucket CORS configuration for ETag header?`);this.uploadedParts.push({PartNumber:s.partNumber,ETag:c.ETag,...c.ChecksumCRC32&&{ChecksumCRC32:c.ChecksumCRC32},...c.ChecksumCRC32C&&{ChecksumCRC32C:c.ChecksumCRC32C},...c.ChecksumSHA1&&{ChecksumSHA1:c.ChecksumSHA1},...c.ChecksumSHA256&&{ChecksumSHA256:c.ChecksumSHA256}}),i===null&&(this.bytesUploadedSoFar+=r),this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:s.partNumber,Key:this.params.Key,Bucket:this.params.Bucket})}}async __doMultipartUpload(){const t=TF(this.params.Body,this.partSize),s=[];for(let o=0;o<this.queueSize;o++){const i=this.__doConcurrentUpload(t).catch(a=>{s.push(a)});this.concurrentUploaders.push(i)}if(await Promise.all(this.concurrentUploaders),s.length>=1)throw await this.markUploadAsAborted(),s[0];if(this.abortController.signal.aborted)throw await this.markUploadAsAborted(),Object.assign(new Error("Upload aborted."),{name:"AbortError"});let r;if(this.isMultiPart){this.uploadedParts.sort((i,a)=>i.PartNumber-a.PartNumber);const o={...this.params,Body:void 0,UploadId:this.uploadId,MultipartUpload:{Parts:this.uploadedParts}};r=await this.client.send(new qC(o)),typeof(r==null?void 0:r.Location)=="string"&&r.Location.includes("%2F")&&(r.Location=r.Location.replace(/%2F/g,"/"))}else r=this.singleUploadResult;return this.abortMultipartUploadCommand=null,this.tags.length&&await this.client.send(new jC({...this.params,Tagging:{TagSet:this.tags}})),r}async markUploadAsAborted(){this.uploadId&&!this.leavePartsOnError&&this.abortMultipartUploadCommand!==null&&(await this.client.send(this.abortMultipartUploadCommand),this.abortMultipartUploadCommand=null)}__notifyProgress(t){this.uploadEvent&&this.emit(this.uploadEvent,t)}async __abortTimeout(t){return new Promise((s,r)=>{t.onabort=()=>{const o=new Error("Upload aborted.");o.name="AbortError",r(o)}})}__validateInput(){if(!this.params)throw new Error("InputError: Upload requires params to be passed to upload.");if(!this.client)throw new Error("InputError: Upload requires a AWS client to do uploads with.");if(this.partSize<Vr.MIN_PART_SIZE)throw new Error(`EntityTooSmall: Your proposed upload partsize [${this.partSize}] is smaller than the minimum allowed size [${Vr.MIN_PART_SIZE}] (5MB)`);if(this.queueSize<1)throw new Error("Queue size: Must have at least one uploading queue.")}};ne(Vr,"MIN_PART_SIZE",1024*1024*5);let uu=Vr;async function IF(e,n,t,s,r,o,i,a,l){const c=new HC({endpoint:t,region:"us-east-1",credentials:{accessKeyId:s,secretAccessKey:r},forcePathStyle:!0}),d=new uu({client:c,params:{Bucket:o,Key:n,ContentType:i,Body:e},abortController:a,leavePartsOnError:!0});d.on("httpUploadProgress",m=>{l&&l({value:m.loaded||0,total:m.total||1})}),await d.done()}function GC(){const{synapseClient:e}=Pi();return vr({mutationFn:n=>e.fileServicesClient.postFileV1ExternalFileHandle(n)})}function OF(e){const{mutateAsync:n}=GC();return vr({...e,mutationFn:async t=>{const{accessKey:s,secretKey:r,bucketName:o,endpoint:i,fileName:a,contentType:l,blob:c,progressCallback:d,keyPrefixUUID:m,storageLocationId:u,onMd5Computed:b,abortController:w}=t,A=await YC(c);b&&b();const B=`${m}/${a}`;return await IF(c,B,i,s,r,o,l,w,d),await n({externalFileHandleInterface:{concreteType:"org.sagebionetworks.repo.model.file.ExternalObjectStoreFileHandle",contentMd5:A,contentSize:c.size,contentType:l,fileKey:B,fileName:a,storageLocationId:u}})}})}function MF(e){const{accessToken:n}=Pi();return vr({...e,mutationFn:t=>{const{blob:s,fileName:r,storageLocationId:o,contentType:i,progressCallback:a,abortController:l,onMd5Computed:c}=t;return JC(n,r,s,o,i,a,void 0,c,l)}})}class NF{constructor(n){ne(this,"value");ne(this,"next");this.value=n}}var gn,Hs,Gs;class DF{constructor(){Qi(this,gn);Qi(this,Hs);Qi(this,Gs);this.clear()}enqueue(n){const t=new NF(n);Dn(this,gn)?(Dn(this,Hs).next=t,ns(this,Hs,t)):(ns(this,gn,t),ns(this,Hs,t)),Lc(this,Gs)._++}dequeue(){const n=Dn(this,gn);if(n)return ns(this,gn,Dn(this,gn).next),Lc(this,Gs)._--,n.value}peek(){if(Dn(this,gn))return Dn(this,gn).value}clear(){ns(this,gn,void 0),ns(this,Hs,void 0),ns(this,Gs,0)}get size(){return Dn(this,Gs)}*[Symbol.iterator](){let n=Dn(this,gn);for(;n;)yield n.value,n=n.next}*drain(){for(;Dn(this,gn);)yield this.dequeue()}}gn=new WeakMap,Hs=new WeakMap,Gs=new WeakMap;function FF(e){Ry(e);const n=new DF;let t=0;const s=()=>{t<e&&n.size>0&&(n.dequeue()(),t++)},r=()=>{t--,s()},o=async(l,c,d)=>{const m=(async()=>l(...d))();c(m);try{await m}catch{}r()},i=(l,c,d)=>{new Promise(m=>{n.enqueue(m)}).then(o.bind(void 0,l,c,d)),(async()=>(await Promise.resolve(),t<e&&s()))()},a=(l,...c)=>new Promise(d=>{i(l,d,c)});return Object.defineProperties(a,{activeCount:{get:()=>t},pendingCount:{get:()=>n.size},clearQueue:{value(){n.clear()}},concurrency:{get:()=>e,set(l){Ry(l),e=l,queueMicrotask(()=>{for(;t<e&&n.size>0;)s()})}}}),a}function Ry(e){if(!((Number.isInteger(e)||e===Number.POSITIVE_INFINITY)&&e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up")}const LF=[".awk",".bat",".btm",".c",".cmd",".cpp",".cxx",".def",".dlg",".dpc",".dpj",".dtd",".h",".hdl",".hpp",".hrc",".html",".hxx",".inc",".ini",".inl",".ins",".ipy",".java",".js",".jsp",".l",".lgt",".ll",".par",".pl",".py",".r",".rc",".rdb",".res",".s",".sbl",".scp",".sh",".sql",".src",".srs",".xml",".xrb",".y",".yaml",".yxx"],UF="text/plain",zF="text/csv",qF="text/tab-separated-values",$F="application/octet-stream",jF=[".cwl",".wdl",".json"];function KF(e){let n=!1;if(e!=null){const t=e.lastIndexOf(".");if(t>-1){const s=e.substring(t).toLowerCase();n=LF.includes(s)}}return n}function HF(e){if(e!=null){const n=e.lastIndexOf(".");if(n>-1)return e.substring(n+1).toLowerCase()}return null}function GF(e){let n=!1;const t=HF(e);return t!=null&&(n=jF.includes("."+t)),n}function VF(e,n){let t=e;const s=n.toLowerCase();return(e==null||e.trim().length==0)&&(KF(n)||GF(n)||s.endsWith(".txt")?t=UF:s.endsWith(".tsv")||s.endsWith(".tab")?t=qF:s.endsWith(".csv")?t=zF:t=$F),t}function cd(e,n){switch(n.type){case"addItemsPendingConfirmation":return{...e,pendingItems:[...e.pendingItems,...n.newItems]};case"confirmItem":{const t=[...e.confirmedItems,...n.itemsToConfirm],s=e.pendingItems.filter(r=>!n.itemsToConfirm.includes(r));return{confirmedItems:t,pendingItems:s}}case"removePendingItems":{const t=e.pendingItems.filter(s=>!n.itemsToRemove.includes(s));return{confirmedItems:e.confirmedItems,pendingItems:t}}case"clear":return{confirmedItems:[],pendingItems:[]};default:return e}}function WF(){const[e,n]=Ie.useReducer(cd,{pendingItems:[],confirmedItems:[]}),t=(...i)=>{n({type:"addItemsPendingConfirmation",newItems:i})},s=(...i)=>(n({type:"confirmItem",itemsToConfirm:i}),cd(e,{type:"confirmItem",itemsToConfirm:i})),r=(...i)=>(n({type:"removePendingItems",itemsToRemove:i}),cd(e,{type:"removePendingItems",itemsToRemove:i})),o=()=>{n({type:"clear"})};return{pendingItems:e.pendingItems,confirmedItems:e.confirmedItems,addItemsPendingConfirmation:t,confirmItem:s,removePendingItems:r,clear:o}}async function XF(e,n,t,s){var i;const r=((i=await e0(()=>t.entityServicesClient.postRepoV1EntityChild({entityLookupRequest:{parentId:n,entityName:e}})))==null?void 0:i.id)??null;if(r==null)return r;const o=await t.entityServicesClient.getRepoV1EntityId({id:r});if(o.concreteType!="org.sagebionetworks.repo.model.FileEntity"){const a=bu(o.concreteType);throw new Error(`A(n) ${Fy(a)} named "${e}" already exists in this location (${n}).${` ${s}`}`)}return o.id}function QF(){const{mutateAsync:e}=Cu(),n=c0(),t=n0(),s=s0();return vr({mutationFn:async r=>{const{rootContainerId:o,path:i}=r;let a=o;for(const l of i){const c=await n.fetchQuery(t({parentId:a,entityName:l}));if(c){const d=await n.fetchQuery(s(c));if(d.concreteType!="org.sagebionetworks.repo.model.Folder"){const m=bu(d.concreteType);throw new Error(`A(n) ${Fy(m)} named "${l}" already exists in this location (${a}). A folder could not be created.`)}a=c}else{const{id:d}=await e({concreteType:"org.sagebionetworks.repo.model.Folder",name:l,parentId:a});a=d}}return a}})}function ZF(){const{mutateAsync:e}=QF();return vr({mutationFn:n=>{const{file:t,rootContainerId:s}=n,r=t.webkitRelativePath;if(r){const o=r.split("/").slice(0,-1);return e({rootContainerId:s,path:o}).then(i=>({file:t,parentId:i}))}else return Promise.resolve({file:t,parentId:s})}})}function YF(e){const{synapseClient:n}=Pi(),{mutateAsync:t}=ZF();return vr({...e,mutationFn:async s=>{const r=s.filter(u=>"existingEntityId"in u),o=[];for(const u of s)try{if("rootContainerId"in u){const{file:b,rootContainerId:w}=u;o.push(await t({file:b,rootContainerId:w}))}}catch(b){throw new Error(`Unable to create target folder structure for file ${u.file.name}${Object.hasOwn(b,"message")?`: ${b.message}`:null}`,{cause:b})}const i=await Promise.allSettled(o.map(u=>XF(u.file.name,u.parentId,n,"The file could not be uploaded.").then(b=>({...u,existingEntityId:b})))),a=i.filter(u=>u.status==="rejected");if(a.length>0)throw new Error(`Files could not be uploaded:
	${a.map(u=>u.reason.message).join(`
	`)}`);const l=i.filter(u=>u.status==="fulfilled").map(u=>u.value),d=[...l.filter(u=>u.existingEntityId==null),...r],m=l.filter(u=>u.existingEntityId!=null);return{filesReadyForUpload:d,filesToPromptForNewVersion:m}}})}const VC=["PREPARING","UPLOADING","PAUSED"],JF=[...VC,"COMPLETE"];function eL(){const[e,n]=Ie.useState(new Map);function t(...A){A.forEach(p=>{const E=e.get(p.file);E&&E.status!=="CANCELED_BY_USER"&&l(p.file)});const B=new Map(e.entries());return A.forEach(p=>{B.set(p.file,{filePreparedForUpload:p,abortController:new AbortController,progress:{value:0,total:1},status:"PREPARING"})}),n(B),B}function s(A,B){n(p=>{const E=new Map(p.entries()),O=E.get(A);return O&&E.set(A,{...O,progress:{...O.progress,...B}}),E})}function r(A,B,p){n(E=>{const O=new Map(E.entries()),x=O.get(A);return x&&O.set(A,{...x,status:B,failureReason:p}),O})}function o(A){r(A,"UPLOADING")}function i(A){r(A,"COMPLETE")}function a(A,B){r(A,"FAILED",B)}function l(A){const B=e.get(A);B!=null&&B.abortController.abort(),r(A,"CANCELED_BY_USER")}function c(A){const B=e.get(A);B!=null&&B.abortController.abort("Paused by user"),r(A,"PAUSED")}function d(A){n(B=>{const p=new Map(B.entries()),E=p.get(A);return E==null||(E.status!="CANCELED_BY_USER"&&E.status!="FAILED"?console.warn("Attempted to remove tracked upload progress before it was canceled.",E):p.delete(A)),p})}const m=[...e].reduce((A,[B,p])=>JF.includes(p.status)?A+B.size:A,0),u=[...e].filter(([A,B])=>VC.includes(B.status)).length,b=u>0,w=[...e].some(([A,B])=>B.status==="COMPLETE")&&!b;return{trackedUploadProgress:e,setProgress:s,setIsUploading:o,trackNewFiles:t,bytesPendingUpload:m,pauseUpload:c,cancelUpload:l,removeUpload:d,setComplete:i,setFailed:a,isUploading:b,isUploadComplete:w,activeUploadCount:u}}function tL(e,n,t){if(n==null)return!1;if(n.isOverLimit)return!0;if(n.maxAllowedFileBytes==null)return!1;const s=n.sumFileBytes+t,r=Array.from(e).reduce((o,i)=>o+i.size,0);return s+r>n.maxAllowedFileBytes}const nL=FF(8);function sL(e,n="",t="",s=Po){const{synapseClient:r}=Pi(),{data:o,isLoading:i,error:a}=zy(e,{staleTime:1/0}),l=!!(e&&o),c=(o==null?void 0:o.storageLocationId)||ld,d=a==null?void 0:a.message,{pendingItems:m,confirmItem:u,addItemsPendingConfirmation:b,removePendingItems:w,clear:A}=WF(),{trackedUploadProgress:B,setProgress:p,setIsUploading:E,trackNewFiles:O,cancelUpload:x,pauseUpload:N,removeUpload:S,setComplete:W,setFailed:Q,isUploading:$,isUploadComplete:ve,activeUploadCount:oe,bytesPendingUpload:j}=eL(),Pe=Ie.useMemo(()=>a?"ERROR":i?"LOADING":m.length>0?"PROMPT_USER":$?"UPLOADING":ve?"COMPLETE":"WAITING",[m.length,a,i,ve,$]),{mutateAsync:Ee}=Cu(),{mutateAsync:Bt}=Ly(),{mutateAsync:cs}=MF(),{mutateAsync:ts}=OF(),vt=Ie.useCallback(async function(ot,qe){try{const Wi=ot.get(qe.file),Ff={fileName:qe.file.name,blob:qe.file,storageLocationId:c,contentType:VF(qe.file.type,qe.file.name),progressCallback:ds=>{ds&&p(qe.file,ds)},abortController:Wi.abortController,onMd5Computed:()=>{E(qe.file)}};let Xi;if(o&&Dy(o)&&o.endpointUrl!=null?Xi=(await ts({...Ff,bucketName:o.bucket,endpoint:o.endpointUrl,keyPrefixUUID:o.keyPrefixUUID,accessKey:n,secretKey:t})).id:Xi=(await cs(Ff)).fileHandleId,"existingEntityId"in qe&&qe.existingEntityId){const ds=await r.entityServicesClient.getRepoV1EntityId({id:qe.existingEntityId});await Bt({...ds,dataFileHandleId:Xi}),W(qe.file)}else if("parentId"in qe){const ds={parentId:qe.parentId,name:qe.file.name,concreteType:"org.sagebionetworks.repo.model.FileEntity",dataFileHandleId:Xi};await Ee(ds),W(qe.file)}else throw new Error(`Can't upload file without a parent ID or existing entity ID. File was: ${JSON.stringify(qe)}`)}catch(Wi){console.error("File upload failed: ",Wi),Q(qe.file,Wi.message)}},[c,o,p,E,ts,n,t,cs,r.entityServicesClient,Bt,W,Ee,Q]),Ye=Ie.useCallback((...Pt)=>{A();const ot=O(...Pt);Pt.map(qe=>nL(()=>vt(ot,qe)))},[A,O,vt]),Kn=Ie.useCallback(Pt=>{const{filesReadyForUpload:ot,filesToPromptForNewVersion:qe}=Pt;ot.length>0&&qe.length==0&&Ye(...ot),qe.length>0&&(u(...ot),b(...qe))},[b,u,Ye]),{mutate:zt,isPending:ls}=YF(),ci=Ie.useCallback(Pt=>{if(o==null){console.error("Upload destination was not loaded, or failed to load! Aborting upload.");return}tL(Pt.map(ot=>ot.file),o.projectStorageLocationUsage,j)?s():zt(Pt,{onSuccess:ot=>{Kn(ot)}})},[j,s,Kn,zt,o]),Gi=Ie.useMemo(()=>m.map(Pt=>({info:{type:"CONFIRM_NEW_VERSION",fileName:Pt.file.name,existingEntityId:Pt.existingEntityId},onConfirm:()=>{const{confirmedItems:ot,pendingItems:qe}=u(Pt);ot.length>0&&qe.length==0&&Ye(...ot)},onConfirmAll:()=>{const{confirmedItems:ot}=u(...m);Ye(...ot)},onSkip:()=>{const{confirmedItems:ot,pendingItems:qe}=w(Pt);ot.length>0&&qe.length==0&&Ye(...ot)},onCancelAll:()=>{A()}})),[A,u,m,w,Ye]),Vi=Ie.useMemo(()=>[...B].map(([Pt,ot])=>({file:Pt,progress:ot.progress,status:ot.status,failureReason:ot.failureReason,cancel:()=>{x(Pt)},pause:()=>{N(Pt)},resume:()=>{Ye(ot.filePreparedForUpload)},remove(){S(Pt)}})),[x,N,S,Ye,B]);return Ie.useMemo(()=>({state:Pe,errorMessage:d,isPrecheckingUpload:ls,activeUploadCount:oe,initiateUpload:ci,activePrompts:Gi,uploadProgress:Vi,isUploadReady:l}),[Pe,d,ls,oe,ci,Gi,Vi,l])}function rL(e){return e.type==="CONFIRM_NEW_VERSION"?"Update existing file?":""}function oL(e){return e.type==="CONFIRM_NEW_VERSION"?`A file named "${e.fileName}" (${e.existingEntityId}) already exists in this location. Do you want to update the existing file and create a new version?`:""}function fu(e){const{activePrompts:n}=e,[t,s]=Ie.useState(!1);if(n.length===0)return null;const r=n.filter(o=>o.info.type==="CONFIRM_NEW_VERSION").length-1;return V.jsx(My,{title:rL(n[0].info),open:!0,content:V.jsxs(V.Fragment,{children:[V.jsx(gs,{variant:"body1",gutterBottom:!0,children:oL(n[0].info)}),n[0].info.type=="CONFIRM_NEW_VERSION"&&r>0&&V.jsx(u0,{control:V.jsx(f0,{}),value:t,onChange:(o,i)=>s(i),label:`Also update ${r.toLocaleString()} other uploaded ${dd("file",r)} that already exist${r==1?"s":""}`})]}),onCancel:Po,hasCloseButton:!1,actions:V.jsxs(V.Fragment,{children:[n[0].onCancelAll&&V.jsx(fi,{variant:"text",color:"error",onClick:n[0].onCancelAll,children:"Cancel All Uploads"}),V.jsx(Si,{sx:{flexGrow:1}}),n[0].onSkip&&V.jsx(fi,{onClick:n[0].onSkip,children:"No"}),n[0].onConfirm&&V.jsx(fi,{variant:"contained",color:"primary",onClick:()=>{t?n[0].onConfirmAll():n[0].onConfirm()},children:"Yes"})]})})}try{fu.displayName="EntityUploadPromptDialog",fu.__docgenInfo={description:"",displayName:"EntityUploadPromptDialog",props:{activePrompts:{defaultValue:null,description:"",name:"activePrompts",required:!0,type:{name:"UseUploadFileEntitiesReturn"}}}}}catch{}function mu(e){const{uploadDestination:n,accessKey:t,setAccessKey:s,secretKey:r,setSecretKey:o}=e;return n==null||!Dy(n)||!n.endpointUrl?V.jsx(V.Fragment,{}):V.jsxs(pu,{sx:{gap:1.5,mb:3},children:[V.jsxs(gs,{children:["Authorization is required to access"," ",V.jsx("strong",{children:n.endpointUrl})]}),V.jsx(Va,{label:"Access Key",fullWidth:!0,value:t,onChange:i=>{s(i.target.value)}}),V.jsx(Va,{label:"Secret Key",type:"password",fullWidth:!0,value:r,onChange:i=>{o(i.target.value)}}),V.jsx(gs,{variant:"smallText1",sx:{fontStyle:"italic"},children:"Keys are used to locally sign a web request. They are not transmitted or stored by Synapse."})]})}try{mu.displayName="ExternalObjectStoreCredentialsForm",mu.__docgenInfo={description:"",displayName:"ExternalObjectStoreCredentialsForm",props:{uploadDestination:{defaultValue:null,description:"",name:"uploadDestination",required:!1,type:{name:"UploadDestination"}},accessKey:{defaultValue:null,description:"",name:"accessKey",required:!0,type:{name:"string"}},setAccessKey:{defaultValue:null,description:"",name:"setAccessKey",required:!0,type:{name:"Dispatch<SetStateAction<string>>"}},secretKey:{defaultValue:null,description:"",name:"secretKey",required:!0,type:{name:"string"}},setSecretKey:{defaultValue:null,description:"",name:"setSecretKey",required:!0,type:{name:"Dispatch<SetStateAction<string>>"}}}}}catch{}const da=24,iL={pointerEvents:"none",filter:"opacity(33%)"},hu=Ie.forwardRef(function(n,t){var vt;const{entityId:s,onStateChange:r=Po,onUploadReady:o=Po}=n,{data:i,isLoading:a}=Uy(s),l=(i==null?void 0:i.concreteType)==="org.sagebionetworks.repo.model.FileEntity",{data:c,isLoading:d}=zy(s),m=a||d,[u,b]=Ie.useState(""),[w,A]=Ie.useState(""),[B,p]=Ie.useState(!1),{initiateUpload:E,state:O,uploadProgress:x,activePrompts:N,activeUploadCount:S,isPrecheckingUpload:W,isUploadReady:Q}=sL(s,u,w,()=>p(!0));Ie.useEffect(()=>{r(O)},[O,r]),Ie.useEffect(()=>{Q&&o()},[Q,o]);const $=Ie.useRef(null),ve=Ie.useRef(null),[oe,j]=Ie.useState(null),Pe=!!oe,Ee=Ye=>{l?$.current.click():j(Ye.currentTarget)},Bt=()=>{j(null)},cs=x.filter(Ye=>Ye.status==="COMPLETE").length;function ts(Ye){var zt;if((zt=c==null?void 0:c.projectStorageLocationUsage)!=null&&zt.isOverLimit){Ny("Cannot upload files because the storage limit has been exceeded.","danger");return}const Kn=Array.from(Ye).map(ls=>l?{file:ls,existingEntityId:s}:{file:ls,rootContainerId:s});E(Kn)}return Ie.useImperativeHandle(t,()=>({handleUploads:ts})),V.jsxs("div",{children:[V.jsx(fu,{activePrompts:N}),(c==null?void 0:c.projectStorageLocationUsage)&&V.jsx(y0,{usage:c.projectStorageLocationUsage,didUploadsExceedLimit:B}),V.jsx(mu,{uploadDestination:c,accessKey:u,setAccessKey:b,secretKey:w,setSecretKey:A}),V.jsxs(pu,{sx:{py:3,gap:1,justifyContent:"center",alignItems:"center",width:"100%",border:"1px dashed #D9D9D9",backgroundColor:"grey.100",textAlign:"center",...(vt=c==null?void 0:c.projectStorageLocationUsage)!=null&&vt.isOverLimit?iL:{}},children:[(W||m)&&V.jsxs(V.Fragment,{children:[V.jsx("div",{children:V.jsx(qy,{size:40})}),V.jsx(gs,{variant:"smallText1",sx:{my:2},children:m?"Loading...":"Preparing files for upload..."})]}),!W&&!m&&V.jsxs(V.Fragment,{children:[V.jsx("img",{src:"https://s3.us-east-1.amazonaws.com/static.synapse.org/images/upload_illustration.svg"}),V.jsx("input",{type:"file",id:"filesToUpload",name:"file upload",style:{display:"none"},"aria-hidden":"true",multiple:!l,ref:$,onChange:Ye=>{Ye.target.files!=null&&ts(Ye.target.files)}}),V.jsx("input",{type:"file",id:"folderToUpload",name:"folder upload",style:{display:"none"},"aria-hidden":"true",ref:ve,onChange:Ye=>{Ye.target.files!=null&&ts(Ye.target.files)},webkitdirectory:"true"}),V.jsxs(gs,{variant:"body1",sx:{my:2},children:[V.jsx(g0,{onClick:Ee,children:"Click to upload"})," or drag and drop"]}),V.jsxs(b0,{anchorEl:oe,open:Pe,onClose:Bt,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},slots:{transition:C0},children:[V.jsx(zf,{onClick:()=>{Bt(),$.current.click()},children:"Files"}),V.jsx(zf,{onClick:()=>{Bt(),ve.current.click()},children:"Folder"})]}),V.jsxs(gs,{variant:"smallText1",children:["All uploaded files will be stored in",(c==null?void 0:c.storageLocationId)===ld&&" Synapse storage",c&&(c==null?void 0:c.storageLocationId)!==ld&&V.jsxs(V.Fragment,{children:[":",V.jsx("br",{}),r0(c)]})]}),c&&c.banner&&V.jsx(d0,{sx:{textAlign:"left"},isGlobal:!1,title:"Storage Location Message",description:c.banner,variant:"info"})]})]}),x.length>0&&V.jsxs(p0,{sx:{px:`${da}px`,py:2,mt:3,width:"100%",height:"260px",background:"#FBFBFC"},children:[V.jsxs(gs,{variant:"headline2",gutterBottom:!0,children:[O==="WAITING"&&V.jsx(V.Fragment,{children:"Uploads"}),O==="UPLOADING"&&V.jsxs(V.Fragment,{children:["Uploading ",S," ",dd("Item",S)]}),O==="COMPLETE"&&V.jsxs(V.Fragment,{children:["Uploaded ",cs," ",dd("Item",cs)]})]}),V.jsx(Si,{sx:{mx:`${da*-1}px`,"& > div > div > :not(:last-child)":{borderBottom:"solid 1px #EAECEE"}},children:V.jsx(l0,{itemSize:m0,height:205,itemCount:x.length,width:"100%",children:({index:Ye,style:Kn})=>{const zt=x[Ye],ls=zt.file.webkitRelativePath||zt.file.name,ci=zt.file.size,Gi=zt.progress.value/zt.progress.total,Vi=ci*Gi;return V.jsx("div",{style:{...Kn,width:`calc(100% - ${da*2}px)`,margin:`0px ${da}px`},children:V.jsx(h0,{fileName:ls,status:zt.status,totalSizeInBytes:ci,uploadedSizeInBytes:Vi,onCancel:zt.cancel,onPause:zt.pause,onResume:zt.resume,onRemove:zt.remove,errorMessage:zt.failureReason})},ls)}})})]})]})});try{hu.displayName="EntityUpload",hu.__docgenInfo={description:"",displayName:"EntityUpload",props:{entityId:{defaultValue:null,description:`The ID of the entity to upload to. If this is a container, file(s) will be added as children. If this is a
FileEntity, then a file may be uploaded as a new version`,name:"entityId",required:!0,type:{name:"string"}},onStateChange:{defaultValue:null,description:"Callback that is invoked when the state of the uploader changes",name:"onStateChange",required:!1,type:{name:"(state: UploaderState) => void"}},onUploadReady:{defaultValue:null,description:"Callback that is invoked when component is ready to upload",name:"onUploadReady",required:!1,type:{name:"() => void"}}}}}catch{}function aL(e){let n="";if(e!=null){const t=e.lastIndexOf("/");if(t>-1){const s=e.indexOf("?",t);s>-1?n=e.substring(t+1,s):n=e.substring(t+1)}}return n}function cL(e){const{synapseClient:n}=Pi(),{mutateAsync:t}=GC(),{mutateAsync:s}=Cu(),{mutateAsync:r}=Ly();return vr({...e,mutationFn:async o=>{const{url:i,entityId:a}=o;let l=o.name;(l==""||l==null)&&(l=aL(i));const c=await n.entityServicesClient.getRepoV1EntityId({id:a});let d;if(c.concreteType==="org.sagebionetworks.repo.model.FileEntity")d=!0;else if(t0(bu(c.concreteType)))d=!1;else throw new Error(`The ${a} is not a FileEntity or a container, got concreteType ${c.concreteType}`);const m=await t({externalFileHandleInterface:{concreteType:"org.sagebionetworks.repo.model.file.ExternalFileHandle",fileName:l,externalURL:i}});if(d){const u={...c,dataFileHandleId:m.id};return await r(u)}else{const u={name:l,concreteType:"org.sagebionetworks.repo.model.FileEntity",parentId:a,dataFileHandleId:m.id};return await s(u)}}})}const yu=Ie.forwardRef(function(n,t){const{entityId:s,onIsValidChanged:r=Po,onSuccess:o=Po}=n,[i,a]=Ie.useState(""),[l,c]=Ie.useState(""),{data:d}=Uy(s),m=(d==null?void 0:d.concreteType)==="org.sagebionetworks.repo.model.FileEntity",{mutate:u,error:b}=cL({onSuccess:o});return Ie.useEffect(()=>{const w=i.trim().length>0;r(w)},[i,r]),Ie.useImperativeHandle(t,()=>({submit:()=>{u({url:i.trim(),name:l.trim(),entityId:s})}})),d?V.jsxs(pu,{sx:{gap:2},children:[V.jsx(gs,{variant:"body1",children:"Provide a URL to create a link to a file that is located in external storage or hosted on the web. Metadata, provenance, and annotations related to the file can be stored in Synapse, but the file data itself can only be accessed using the link."}),V.jsx(Va,{label:"URL",required:!0,fullWidth:!0,value:i,onChange:w=>a(w.target.value)}),!m&&V.jsx(Va,{label:"Name",fullWidth:!0,value:l,onChange:w=>c(w.target.value)}),b&&V.jsx(x0,{severity:"error",sx:{my:2},children:(b==null?void 0:b.message)??"An error occurred while attempting to create the link."})]}):V.jsx(Si,{sx:{display:"flex",justifyContent:"center"},children:V.jsx(qy,{size:40})})});try{yu.displayName="LinkToURL",yu.__docgenInfo={description:"",displayName:"LinkToURL",props:{entityId:{defaultValue:null,description:"The ID of the FileEntity that should be updated, or container entity in which a new FileEntity should be created.",name:"entityId",required:!0,type:{name:"string"}},onIsValidChanged:{defaultValue:null,description:"Invoked when the validity of the form changes (e.g. to disable/activate a submit button)",name:"onIsValidChanged",required:!1,type:{name:"(isValid: boolean) => void"}},onSuccess:{defaultValue:null,description:"Invoked when the call to create or update the entity succeeds.",name:"onSuccess",required:!1,type:{name:"(newOrUpdatedEntity: FileEntity) => void"}}}}}catch{}const gu=Ie.forwardRef(function(n,t){const{entityId:s,open:r,onClose:o,onUploadReady:i}=n,[a,l]=Ie.useState(0),[c,d]=Ie.useState("LOADING"),[m,u]=Ie.useState(!1),b=Ie.useRef(null),w=Ie.useRef(null),A=c==="PROMPT_USER"||c==="UPLOADING",B=A||c==="COMPLETE",p=a===0?c!=="COMPLETE":!m;function E(){p||(a===0?o():b.current.submit())}return Ie.useImperativeHandle(t,()=>({handleUploads:O=>{var x;l(0),(x=w.current)==null||x.handleUploads(O)}})),V.jsx(My,{DialogProps:{onKeyUp:O=>{O.key==="Enter"&&E()},keepMounted:!0},title:"Upload or Link to File",open:r,maxWidth:"md",fullWidth:!0,content:V.jsxs(V.Fragment,{children:[V.jsxs(S0,{textColor:"secondary",indicatorColor:"secondary",value:a,onChange:(O,x)=>l(x),sx:{mb:2},children:[V.jsx(qf,{label:"Upload File",value:0}),V.jsx(qf,{label:"Link to URL",value:1})]}),V.jsx(Si,{sx:{display:a===0?"block":"none"},children:V.jsx(hu,{ref:w,entityId:s,onStateChange:d,onUploadReady:i})}),V.jsx(Si,{sx:{display:a===1?"block":"none"},children:V.jsx(yu,{ref:b,entityId:s,onIsValidChanged:u,onSuccess:O=>{Ny(`Successfully created "${O.name}"`,"success"),o()}})})]}),onCancel:()=>{A||o()},hasCloseButton:!A,actions:V.jsxs(V.Fragment,{children:[V.jsx(fi,{variant:"outlined",onClick:()=>{o()},disabled:B,children:"Cancel"}),V.jsx(fi,{variant:"contained",onClick:E,disabled:p,children:"Finish"})]})})});try{gu.displayName="EntityUploadModal",gu.__docgenInfo={description:"",displayName:"EntityUploadModal",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onUploadReady:{defaultValue:null,description:"Callback that is invoked when component is ready to upload",name:"onUploadReady",required:!1,type:{name:"() => void"}}}}}catch{}const r6={title:"Synapse/Upload/EntityUploadModal",component:gu,args:{open:!0,onClose:ZC()}},ua={args:{entityId:QC.entity.id},parameters:{stack:"mock"}};var Ty,Iy,Oy;ua.parameters={...ua.parameters,docs:{...(Ty=ua.parameters)==null?void 0:Ty.docs,source:{originalSource:`{
  args: {
    entityId: mockProjectEntityData.entity.id
  },
  parameters: {
    stack: 'mock'
  }
}`,...(Oy=(Iy=ua.parameters)==null?void 0:Iy.docs)==null?void 0:Oy.source}}};const o6=["Demo"];export{ua as Demo,o6 as __namedExportsOrder,r6 as default};
