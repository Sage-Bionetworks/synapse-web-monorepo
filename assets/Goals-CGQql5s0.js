import{j as e,V as k,B as C,gx as v,fo as c,r as w,bW as R,eG as D,a0 as A}from"./iframe-Ci1lmE8g.js";import{E as L,u as B}from"./ExpandableContent-CNzbgxOy.js";import{u as O}from"./useGetGoalData-D3FpN6ih.js";import{Q as E}from"./QueryCount-C3ILYj9w.js";function f({asset:a,link:n,summary:l,countSql:t,title:o,isAssetIcon:i,linkText:s="Explore"}){return e.jsxs(k,{className:"Goals__Card",sx:{cursor:"pointer",maxWidth:"335px",width:"335px"},onClick:()=>window.open(n,"_self"),children:[e.jsx("div",{className:"Goals__Card__header",style:{background:i?void 0:`url('${a}')`},children:e.jsxs("p",{children:[e.jsxs("span",{className:"Goals__Card__header__title",children:[i&&a&&e.jsx("img",{style:{marginRight:"10px"},className:"Goals__Card__header__icon",src:a,alt:`${o} icon`}),o]}),t&&e.jsx("span",{className:"Goals__Card__header__count",children:e.jsx(E,{parens:!1,query:{sql:t}})})]})}),e.jsxs("div",{className:"Goals__Card__summary",children:[e.jsxs("p",{children:[" ",l," "]}),e.jsx(C,{className:"Goals__Card__summary__link",variant:"outlined",color:"secondary",href:n,children:s})]})]})}try{f.displayName="GoalsDesktop",f.__docgenInfo={description:"",displayName:"GoalsDesktop",props:{countSql:{defaultValue:null,description:"",name:"countSql",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}},asset:{defaultValue:null,description:"",name:"asset",required:!0,type:{name:"string"}},isAssetIcon:{defaultValue:null,description:"",name:"isAssetIcon",required:!0,type:{name:"boolean"}},linkText:{defaultValue:{value:"Explore"},description:"",name:"linkText",required:!1,type:{name:"string"}}}}}catch{}function h({link:a,summary:n,countSql:l,title:t,linkText:o="Explore"}){const i=e.jsxs("div",{className:"Goals__Mobile__Header",children:[l&&e.jsx("span",{className:"Goals__Mobile__Header__Count",children:e.jsx(E,{parens:!1,query:{sql:l}})}),e.jsxs("span",{className:"Goals__Mobile__Header__Title",children:[" ",t," "]})]}),s=e.jsxs("div",{className:"Goals__Mobile__Content",children:[e.jsx("p",{children:n}),e.jsx(C,{variant:"outlined",color:"secondary",className:"Goals__Mobile__Content__Link",href:a,children:o})]});return e.jsx(L,{title:i,content:s})}try{h.displayName="GoalsMobile",h.__docgenInfo={description:"",displayName:"GoalsMobile",props:{countSql:{defaultValue:null,description:"",name:"countSql",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}},asset:{defaultValue:null,description:"",name:"asset",required:!0,type:{name:"string"}},isAssetIcon:{defaultValue:null,description:"",name:"isAssetIcon",required:!0,type:{name:"boolean"}},linkText:{defaultValue:{value:"Explore"},description:"",name:"linkText",required:!1,type:{name:"string"}}}}}catch{}const Q=1200;function N(a){const{entityId:n,isAssetIcon:l=!1,linkText:t}=a,o=B(Q),i={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:n,partMask:D|A,query:{sql:`select *
            from ${n}
            order by ItemOrder`}},{data:s}=v(i),{assets:m,error:g}=O(n,s),_=c("TableId",s),p=c("CountSql",s),q=c("Title",s),G=c("Summary",s),j=c("Link",s),x=w.useMemo(()=>s==null?void 0:s.queryResult.queryResults.rows.map((u,d)=>{const r=u.values;r.some(M=>M===null)&&console.warn("Row has null value(s) when no nulls expected");const I=_>-1?r[_]:void 0;let y;p>-1&&r[p]?y=r[p]:I&&(y=`SELECT * FROM ${I}`);const b=r[q],V=r[G],S=r[j],T=(m==null?void 0:m[d])??"";return{countSql:y,title:b,summary:V,link:S,asset:T,isAssetIcon:l}}),[p,m,j,s==null?void 0:s.queryResult,G,_,q]);return g?e.jsx(R,{error:g}):x?o?e.jsx(k,{className:"Goals",sx:{display:"flex",flexWrap:"wrap",gap:"7px",alignItems:"stretch",justifyContent:"center"},children:x.map((u,d)=>e.jsx(f,{...u,linkText:t},d))}):e.jsx("div",{className:"Goals",children:x.map((u,d)=>e.jsx(h,{...u,linkText:t},d))}):e.jsx(e.Fragment,{})}try{N.displayName="Goals",N.__docgenInfo={description:"",displayName:"Goals",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},isAssetIcon:{defaultValue:null,description:"",name:"isAssetIcon",required:!1,type:{name:"boolean"}},linkText:{defaultValue:null,description:"",name:"linkText",required:!1,type:{name:"string"}}}}}catch{}export{N as G};
