import{j as P}from"./jsx-runtime-Du8NFWEI.js";import{P as s}from"./index-BfyspvgH.js";import{r as Se}from"./index-Dl6G-zuu.js";import{bq as ht}from"./useFiles-DW9U7KZl.js";import{U as pt}from"./UserOrTeamBadge-doNC49J9.js";import"./useQuery-6SsvXKRa.js";import"./utils-Bx1BRerw.js";import"./OrientationBanner-xckBiTXb.js";import"./spreadSx-CwcO6WA9.js";import"./FullWidthAlert-RKqMk4_D.js";import"./Alert-CduaGk2B.js";import"./createTheme-C4MKIpuQ.js";import"./index-GEGPABih.js";import"./styled-BwKg_4wT.js";import"./mergeSlotProps-BB45Ai_O.js";import"./isHostComponent-DVu5iVWx.js";import"./useForkRef-CEBgoE3Z.js";import"./createSvgIcon-CLD93Ce9.js";import"./Paper-BrACm7G9.js";import"./IconButton-BIc9jQ57.js";import"./ButtonBase-6jsyScMO.js";import"./TransitionGroupContext-TdpM2qIg.js";import"./useIsFocusVisible-ByxglBfx.js";import"./Stack-DTWuWz9s.js";import"./Box-CaFleW7-.js";import"./AlertTitle-G3es5_Tb.js";import"./Typography-DrqHmlDD.js";import"./utils-BNvIpMjh.js";import"./index-DJkgPHwn.js";import"./Grow-oX21w_XJ.js";import"./ClickAwayListener-D7YV5tOA.js";import"./ownerDocument-DW-IO8s5.js";import"./Tooltip-BX9BRJvv.js";import"./index-CarQ_cRE.js";import"./useControlled-1Y2rT-1r.js";import"./useId-BkqTTtmk.js";import"./Button-DtfaTZY_.js";import"./VerificationSubmission-DL9jxYsQ.js";import"./SynapseConstants-BvEDI-PI.js";import"./RegularExpressions-DJ71COid.js";import"./tinycolor-Begke6kS.js";import"./InfoTwoTone-D-FIW5gs.js";import"./CheckCircleTwoTone-DTl0gYtq.js";import"./calculateFriendlyFileSize-B85TBsSb.js";import"./Skeleton-CW6YXi1_.js";import"./inputBaseClasses-u7jm9M-e.js";import"./Fade-Bx5Dq3o-.js";import"./Link-DxNs_73S.js";import"./cloneDeep-y9HxS-ZC.js";import"./_initCloneObject-CKp18hZk.js";import"./_baseTimes-36S_kd0L.js";import"./isArray-ggc3KxVp.js";import"./StringUtils-Be_D70k4.js";import"./dayjs.min-d18Up55D.js";import"./index-CwhkrBS5.js";import"./merge-DLQdEICg.js";import"./identity-DKeuBCMA.js";import"./UserBadge-CiXo3Swf.js";import"./Popover-Dpp8g4Iu.js";import"./Modal-DRBkIs4b.js";import"./Backdrop-Bb0X61JD.js";import"./getScrollbarSize-Bqq2hMjQ.js";import"./ownerWindow-BN2rbQ_G.js";import"./createChainedFunction-BO_9K8Jh.js";import"./IconSvg-DrZNoLhB.js";import"./LayersTwoTone-Be5uNxsz.js";import"./ErrorOutlined-qWluJVEZ.js";import"./GetAppTwoTone-BARpdX8y.js";import"./InfoOutlined-CgkZO6RQ.js";import"./DeleteTwoTone-DDTGJUFj.js";import"./SkeletonTable-DaoaRpY-.js";import"./times-Bw9geEsI.js";import"./toInteger-czOlq-ma.js";import"./isSymbol-BzKS7Qf1.js";import"./ToastMessage-DXUykkkh.js";import"./CSSTransition-DjYTukDI.js";import"./hasClass-D5ZjVvBY.js";import"./uniqueId-CSw6ftlJ.js";import"./toString-CYyvKWOl.js";import"./Menu-tKUPxfG6.js";import"./MenuList-CQMQk4tL.js";import"./List-nAK0nmZc.js";import"./Divider-uKYf26yp.js";import"./dividerClasses-CxO2LWOw.js";import"./MenuItem-BF-m1c73.js";import"./Card-J02zcsj3.js";import"./Avatar-BXRn3zVs.js";import"./TeamBadge-B90J1jOf.js";var I={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pe=60103,ce=60106,W=60107,k=60108,j=60114,_=60109,B=60110,F=60112,q=60113,xe=60120,z=60115,Y=60116,We=60121,ke=60122,je=60117,_e=60129,Be=60131;if(typeof Symbol=="function"&&Symbol.for){var b=Symbol.for;pe=b("react.element"),ce=b("react.portal"),W=b("react.fragment"),k=b("react.strict_mode"),j=b("react.profiler"),_=b("react.provider"),B=b("react.context"),F=b("react.forward_ref"),q=b("react.suspense"),xe=b("react.suspense_list"),z=b("react.memo"),Y=b("react.lazy"),We=b("react.block"),ke=b("react.server.block"),je=b("react.fundamental"),_e=b("react.debug_trace_mode"),Be=b("react.legacy_hidden")}function M(e){if(typeof e=="object"&&e!==null){var o=e.$$typeof;switch(o){case pe:switch(e=e.type,e){case W:case j:case k:case q:case xe:return e;default:switch(e=e&&e.$$typeof,e){case B:case F:case Y:case z:case _:return e;default:return o}}case ce:return o}}}var ct=_,gt=pe,mt=F,ft=W,It=Y,vt=z,yt=ce,St=j,wt=k,bt=q;I.ContextConsumer=B;I.ContextProvider=ct;I.Element=gt;I.ForwardRef=mt;I.Fragment=ft;I.Lazy=It;I.Memo=vt;I.Portal=yt;I.Profiler=St;I.StrictMode=wt;I.Suspense=bt;I.isAsyncMode=function(){return!1};I.isConcurrentMode=function(){return!1};I.isContextConsumer=function(e){return M(e)===B};I.isContextProvider=function(e){return M(e)===_};I.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===pe};I.isForwardRef=function(e){return M(e)===F};I.isFragment=function(e){return M(e)===W};I.isLazy=function(e){return M(e)===Y};I.isMemo=function(e){return M(e)===z};I.isPortal=function(e){return M(e)===ce};I.isProfiler=function(e){return M(e)===j};I.isStrictMode=function(e){return M(e)===k};I.isSuspense=function(e){return M(e)===q};I.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===W||e===j||e===_e||e===k||e===q||e===xe||e===Be||typeof e=="object"&&e!==null&&(e.$$typeof===Y||e.$$typeof===z||e.$$typeof===_||e.$$typeof===B||e.$$typeof===F||e.$$typeof===je||e.$$typeof===We||e[0]===ke)};I.typeOf=M;function Me(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function Ae(e,o){return(!o||e!=="hidden")&&e!=="visible"&&e!=="clip"}function ve(e,o){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return Ae(n.overflowY,o)||Ae(n.overflowX,o)||function(t){var u=function(d){if(!d.ownerDocument||!d.ownerDocument.defaultView)return null;try{return d.ownerDocument.defaultView.frameElement}catch{return null}}(t);return!!u&&(u.clientHeight<t.scrollHeight||u.clientWidth<t.scrollWidth)}(e)}return!1}function re(e,o,n,t,u,d,h,p){return d<e&&h>o||d>e&&h<o?0:d<=e&&p<=n||h>=o&&p>=n?d-e-t:h>o&&p<n||d<e&&p>n?h-o+u:0}var xt=function(e,o){var n=window,t=o.scrollMode,u=o.block,d=o.inline,h=o.boundary,p=o.skipOverflowHiddenElements,O=typeof h=="function"?h:function(dt){return dt!==h};if(!Me(e))throw new TypeError("Invalid target");for(var v,x,i=document.scrollingElement||document.documentElement,r=[],l=e;Me(l)&&O(l);){if((l=(x=(v=l).parentElement)==null?v.getRootNode().host||null:x)===i){r.push(l);break}l!=null&&l===document.body&&ve(l)&&!ve(document.documentElement)||l!=null&&ve(l,p)&&r.push(l)}for(var a=n.visualViewport?n.visualViewport.width:innerWidth,c=n.visualViewport?n.visualViewport.height:innerHeight,f=window.scrollX||pageXOffset,m=window.scrollY||pageYOffset,g=e.getBoundingClientRect(),w=g.height,y=g.width,E=g.top,D=g.right,R=g.bottom,T=g.left,H=u==="start"||u==="nearest"?E:u==="end"?R:E+w/2,C=d==="center"?T+y/2:d==="end"?D:T,ge=[],me=0;me<r.length;me++){var S=r[me],L=S.getBoundingClientRect(),X=L.height,Q=L.width,Z=L.top,fe=L.right,Ie=L.bottom,G=L.left;if(t==="if-needed"&&E>=0&&T>=0&&R<=c&&D<=a&&E>=Z&&R<=Ie&&T>=G&&D<=fe)return ge;var J=getComputedStyle(S),ee=parseInt(J.borderLeftWidth,10),te=parseInt(J.borderTopWidth,10),ne=parseInt(J.borderRightWidth,10),ie=parseInt(J.borderBottomWidth,10),$=0,V=0,oe="offsetWidth"in S?S.offsetWidth-S.clientWidth-ee-ne:0,se="offsetHeight"in S?S.offsetHeight-S.clientHeight-te-ie:0,Ce="offsetWidth"in S?S.offsetWidth===0?0:Q/S.offsetWidth:0,Ee="offsetHeight"in S?S.offsetHeight===0?0:X/S.offsetHeight:0;if(i===S)$=u==="start"?H:u==="end"?H-c:u==="nearest"?re(m,m+c,c,te,ie,m+H,m+H+w,w):H-c/2,V=d==="start"?C:d==="center"?C-a/2:d==="end"?C-a:re(f,f+a,a,ee,ne,f+C,f+C+y,y),$=Math.max(0,$+m),V=Math.max(0,V+f);else{$=u==="start"?H-Z-te:u==="end"?H-Ie+ie+se:u==="nearest"?re(Z,Ie,X,te,ie+se,H,H+w,w):H-(Z+X/2)+se/2,V=d==="start"?C-G-ee:d==="center"?C-(G+Q/2)+oe/2:d==="end"?C-fe+ne+oe:re(G,fe,Q,ee,ne+oe,C,C+y,y);var Oe=S.scrollLeft,De=S.scrollTop;H+=De-($=Math.max(0,Math.min(De+$/Ee,S.scrollHeight-X/Ee+se))),C+=Oe-(V=Math.max(0,Math.min(Oe+V/Ce,S.scrollWidth-Q/Ce+oe)))}ge.push({el:S,top:$,left:V})}return ge},he=function(){return he=Object.assign||function(o){for(var n,t=1,u=arguments.length;t<u;t++){n=arguments[t];for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(o[d]=n[d])}return o},he.apply(this,arguments)};let Ht=0;function Pe(e){return typeof e=="function"?e:N}function N(){}function Fe(e,o){if(!e)return;xt(e,{boundary:o,block:"nearest",scrollMode:"if-needed"}).forEach(t=>{let{el:u,top:d,left:h}=t;u.scrollTop=d,u.scrollLeft=h})}function Ne(e,o,n){return e===o||o instanceof n.Node&&e.contains&&e.contains(o)}function He(e,o){let n;function t(){n&&clearTimeout(n)}function u(){for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];t(),n=setTimeout(()=>{n=null,e(...h)},o)}return u.cancel=t,u}function A(){for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return function(t){for(var u=arguments.length,d=new Array(u>1?u-1:0),h=1;h<u;h++)d[h-1]=arguments[h];return o.some(p=>(p&&p(t,...d),t.preventDownshiftDefault||t.hasOwnProperty("nativeEvent")&&t.nativeEvent.preventDownshiftDefault))}}function Re(){for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=>{o.forEach(u=>{typeof u=="function"?u(t):u&&(u.current=t)})}}function Ct(){return String(Ht++)}function qe(e){let{isOpen:o,resultCount:n,previousResultCount:t}=e;return o?n?n!==t?`${n} result${n===1?" is":"s are"} available, use up and down arrow keys to navigate. Press Enter key to select.`:"":"No results are available.":""}function $e(e,o){return e=Array.isArray(e)?e[0]:e,!e&&o?o:e}function Et(e){return typeof e.type=="string"}function Ot(e){return e.props}const Dt=["highlightedIndex","inputValue","isOpen","selectedItem","type"];function le(e){e===void 0&&(e={});const o={};return Dt.forEach(n=>{e.hasOwnProperty(n)&&(o[n]=e[n])}),o}function Mt(e,o){return Object.keys(e).reduce((n,t)=>(n[t]=we(o,t)?o[t]:e[t],n),{})}function we(e,o){return e[o]!==void 0}function Ve(e){const{key:o,keyCode:n}=e;return n>=37&&n<=40&&o.indexOf("Arrow")!==0?`Arrow${o}`:o}function ye(e,o,n,t,u){if(u===void 0&&(u=!0),n===0)return-1;const d=n-1;(typeof o!="number"||o<0||o>=n)&&(o=e>0?-1:d+1);let h=o+e;h<0?h=u?d:0:h>d&&(h=u?0:d);const p=U(e,h,n,t,u);return p===-1?o>=n?-1:o:p}function U(e,o,n,t,u){const d=t(o);if(!d||!d.hasAttribute("disabled"))return o;if(e>0){for(let h=o+1;h<n;h++)if(!t(h).hasAttribute("disabled"))return h}else for(let h=o-1;h>=0;h--)if(!t(h).hasAttribute("disabled"))return h;return u?e>0?U(1,0,n,t,!1):U(-1,n-1,n,t,!1):-1}function Te(e,o,n,t){return t===void 0&&(t=!0),o.some(u=>u&&(Ne(u,e,n)||t&&Ne(u,n.document.activeElement,n)))}const At=He(e=>{Ye(e).textContent=""},500);function ze(e,o){const n=Ye(o);e&&(n.textContent=e,At(o))}function Ye(e){e===void 0&&(e=document);let o=e.getElementById("a11y-status-message");return o||(o=e.createElement("div"),o.setAttribute("id","a11y-status-message"),o.setAttribute("role","status"),o.setAttribute("aria-live","polite"),o.setAttribute("aria-relevant","additions text"),Object.assign(o.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(o),o)}const Xe=0,Qe=1,Ze=2,ae=3,de=4,Ge=5,Je=6,et=7,tt=8,nt=9,it=10,ot=11,st=12,rt=13,lt=14,ut=15,at=16;var Pt=Object.freeze({__proto__:null,unknown:Xe,mouseUp:Qe,itemMouseEnter:Ze,keyDownArrowUp:ae,keyDownArrowDown:de,keyDownEscape:Ge,keyDownEnter:Je,keyDownHome:et,keyDownEnd:tt,clickItem:nt,blurInput:it,changeInput:ot,keyDownSpaceButton:st,clickButton:rt,blurButton:lt,controlledPropUpdatedSelectedItem:ut,touchEnd:at});const Nt=(()=>{class e extends Se.Component{constructor(n){var t;super(n),t=this,this.id=this.props.id||`downshift-${Ct()}`,this.menuId=this.props.menuId||`${this.id}-menu`,this.labelId=this.props.labelId||`${this.id}-label`,this.inputId=this.props.inputId||`${this.id}-input`,this.getItemId=this.props.getItemId||(i=>`${this.id}-item-${i}`),this.input=null,this.items=[],this.itemCount=null,this.previousResultCount=0,this.timeoutIds=[],this.internalSetTimeout=(i,r)=>{const l=setTimeout(()=>{this.timeoutIds=this.timeoutIds.filter(a=>a!==l),i()},r);this.timeoutIds.push(l)},this.setItemCount=i=>{this.itemCount=i},this.unsetItemCount=()=>{this.itemCount=null},this.setHighlightedIndex=function(i,r){i===void 0&&(i=t.props.defaultHighlightedIndex),r===void 0&&(r={}),r=le(r),t.internalSetState({highlightedIndex:i,...r})},this.clearSelection=i=>{this.internalSetState({selectedItem:null,inputValue:"",highlightedIndex:this.props.defaultHighlightedIndex,isOpen:this.props.defaultIsOpen},i)},this.selectItem=(i,r,l)=>{r=le(r),this.internalSetState({isOpen:this.props.defaultIsOpen,highlightedIndex:this.props.defaultHighlightedIndex,selectedItem:i,inputValue:this.props.itemToString(i),...r},l)},this.selectItemAtIndex=(i,r,l)=>{const a=this.items[i];a!=null&&this.selectItem(a,r,l)},this.selectHighlightedItem=(i,r)=>this.selectItemAtIndex(this.getState().highlightedIndex,i,r),this.internalSetState=(i,r)=>{let l,a;const c={},f=typeof i=="function";return!f&&i.hasOwnProperty("inputValue")&&this.props.onInputValueChange(i.inputValue,{...this.getStateAndHelpers(),...i}),this.setState(m=>{m=this.getState(m);let g=f?i(m):i;g=this.props.stateReducer(m,g),l=g.hasOwnProperty("selectedItem");const w={};return l&&g.selectedItem!==m.selectedItem&&(a=g.selectedItem),g.type=g.type||Xe,Object.keys(g).forEach(y=>{m[y]!==g[y]&&(c[y]=g[y]),y!=="type"&&(g[y],we(this.props,y)||(w[y]=g[y]))}),f&&g.hasOwnProperty("inputValue")&&this.props.onInputValueChange(g.inputValue,{...this.getStateAndHelpers(),...g}),w},()=>{Pe(r)(),Object.keys(c).length>1&&this.props.onStateChange(c,this.getStateAndHelpers()),l&&this.props.onSelect(i.selectedItem,this.getStateAndHelpers()),a!==void 0&&this.props.onChange(a,this.getStateAndHelpers()),this.props.onUserAction(c,this.getStateAndHelpers())})},this.rootRef=i=>this._rootNode=i,this.getRootProps=function(i,r){let{refKey:l="ref",ref:a,...c}=i===void 0?{}:i,{suppressRefError:f=!1}=r===void 0?{}:r;t.getRootProps.called=!0,t.getRootProps.refKey=l,t.getRootProps.suppressRefError=f;const{isOpen:m}=t.getState();return{[l]:Re(a,t.rootRef),role:"combobox","aria-expanded":m,"aria-haspopup":"listbox","aria-owns":m?t.menuId:null,"aria-labelledby":t.labelId,...c}},this.keyDownHandlers={ArrowDown(i){if(i.preventDefault(),this.getState().isOpen){const r=i.shiftKey?5:1;this.moveHighlightedIndex(r,{type:de})}else this.internalSetState({isOpen:!0,type:de},()=>{const r=this.getItemCount();if(r>0){const{highlightedIndex:l}=this.getState(),a=ye(1,l,r,c=>this.getItemNodeFromIndex(c));this.setHighlightedIndex(a,{type:de})}})},ArrowUp(i){if(i.preventDefault(),this.getState().isOpen){const r=i.shiftKey?-5:-1;this.moveHighlightedIndex(r,{type:ae})}else this.internalSetState({isOpen:!0,type:ae},()=>{const r=this.getItemCount();if(r>0){const{highlightedIndex:l}=this.getState(),a=ye(-1,l,r,c=>this.getItemNodeFromIndex(c));this.setHighlightedIndex(a,{type:ae})}})},Enter(i){if(i.which===229)return;const{isOpen:r,highlightedIndex:l}=this.getState();if(r&&l!=null){i.preventDefault();const a=this.items[l],c=this.getItemNodeFromIndex(l);if(a==null||c&&c.hasAttribute("disabled"))return;this.selectHighlightedItem({type:Je})}},Escape(i){i.preventDefault(),this.reset({type:Ge,...!this.state.isOpen&&{selectedItem:null,inputValue:""}})}},this.buttonKeyDownHandlers={...this.keyDownHandlers," "(i){i.preventDefault(),this.toggleMenu({type:st})}},this.inputKeyDownHandlers={...this.keyDownHandlers,Home(i){const{isOpen:r}=this.getState();if(!r)return;i.preventDefault();const l=this.getItemCount();if(l<=0||!r)return;const a=U(1,0,l,c=>this.getItemNodeFromIndex(c),!1);this.setHighlightedIndex(a,{type:et})},End(i){const{isOpen:r}=this.getState();if(!r)return;i.preventDefault();const l=this.getItemCount();if(l<=0||!r)return;const a=U(-1,l-1,l,c=>this.getItemNodeFromIndex(c),!1);this.setHighlightedIndex(a,{type:tt})}},this.getToggleButtonProps=function(i){let{onClick:r,onPress:l,onKeyDown:a,onKeyUp:c,onBlur:f,...m}=i===void 0?{}:i;const{isOpen:g}=t.getState(),w={onClick:A(r,t.buttonHandleClick),onKeyDown:A(a,t.buttonHandleKeyDown),onKeyUp:A(c,t.buttonHandleKeyUp),onBlur:A(f,t.buttonHandleBlur)},y=m.disabled?{}:w;return{type:"button",role:"button","aria-label":g?"close menu":"open menu","aria-haspopup":!0,"data-toggle":!0,...y,...m}},this.buttonHandleKeyUp=i=>{i.preventDefault()},this.buttonHandleKeyDown=i=>{const r=Ve(i);this.buttonKeyDownHandlers[r]&&this.buttonKeyDownHandlers[r].call(this,i)},this.buttonHandleClick=i=>{i.preventDefault(),this.props.environment.document.activeElement===this.props.environment.document.body&&i.target.focus(),this.internalSetTimeout(()=>this.toggleMenu({type:rt}))},this.buttonHandleBlur=i=>{const r=i.target;this.internalSetTimeout(()=>{!this.isMouseDown&&(this.props.environment.document.activeElement==null||this.props.environment.document.activeElement.id!==this.inputId)&&this.props.environment.document.activeElement!==r&&this.reset({type:lt})})},this.getLabelProps=i=>({htmlFor:this.inputId,id:this.labelId,...i}),this.getInputProps=function(i){let{onKeyDown:r,onBlur:l,onChange:a,onInput:c,onChangeText:f,...m}=i===void 0?{}:i,g,w={};g="onChange";const{inputValue:y,isOpen:E,highlightedIndex:D}=t.getState();return m.disabled||(w={[g]:A(a,c,t.inputHandleChange),onKeyDown:A(r,t.inputHandleKeyDown),onBlur:A(l,t.inputHandleBlur)}),{"aria-autocomplete":"list","aria-activedescendant":E&&typeof D=="number"&&D>=0?t.getItemId(D):null,"aria-controls":E?t.menuId:null,"aria-labelledby":t.labelId,autoComplete:"off",value:y,id:t.inputId,...w,...m}},this.inputHandleKeyDown=i=>{const r=Ve(i);r&&this.inputKeyDownHandlers[r]&&this.inputKeyDownHandlers[r].call(this,i)},this.inputHandleChange=i=>{this.internalSetState({type:ot,isOpen:!0,inputValue:i.target.value,highlightedIndex:this.props.defaultHighlightedIndex})},this.inputHandleBlur=()=>{this.internalSetTimeout(()=>{const i=this.props.environment.document&&!!this.props.environment.document.activeElement&&!!this.props.environment.document.activeElement.dataset&&this.props.environment.document.activeElement.dataset.toggle&&this._rootNode&&this._rootNode.contains(this.props.environment.document.activeElement);!this.isMouseDown&&!i&&this.reset({type:it})})},this.menuRef=i=>{this._menuNode=i},this.getMenuProps=function(i,r){let{refKey:l="ref",ref:a,...c}=i===void 0?{}:i,{suppressRefError:f=!1}=r===void 0?{}:r;return t.getMenuProps.called=!0,t.getMenuProps.refKey=l,t.getMenuProps.suppressRefError=f,{[l]:Re(a,t.menuRef),role:"listbox","aria-labelledby":c&&c["aria-label"]?null:t.labelId,id:t.menuId,...c}},this.getItemProps=function(i){let{onMouseMove:r,onMouseDown:l,onClick:a,onPress:c,index:f,item:m=void 0,...g}=i===void 0?{}:i;f===void 0?(t.items.push(m),f=t.items.indexOf(m)):t.items[f]=m;const w="onClick",y=a,E={onMouseMove:A(r,()=>{f!==t.getState().highlightedIndex&&(t.setHighlightedIndex(f,{type:Ze}),t.avoidScrolling=!0,t.internalSetTimeout(()=>t.avoidScrolling=!1,250))}),onMouseDown:A(l,R=>{R.preventDefault()}),[w]:A(y,()=>{t.selectItemAtIndex(f,{type:nt})})},D=g.disabled?{onMouseDown:E.onMouseDown}:E;return{id:t.getItemId(f),role:"option","aria-selected":t.getState().highlightedIndex===f,...D,...g}},this.clearItems=()=>{this.items=[]},this.reset=function(i,r){i===void 0&&(i={}),i=le(i),t.internalSetState(l=>{let{selectedItem:a}=l;return{isOpen:t.props.defaultIsOpen,highlightedIndex:t.props.defaultHighlightedIndex,inputValue:t.props.itemToString(a),...i}},r)},this.toggleMenu=function(i,r){i===void 0&&(i={}),i=le(i),t.internalSetState(l=>{let{isOpen:a}=l;return{isOpen:!a,...a&&{highlightedIndex:t.props.defaultHighlightedIndex},...i}},()=>{const{isOpen:l,highlightedIndex:a}=t.getState();l&&t.getItemCount()>0&&typeof a=="number"&&t.setHighlightedIndex(a,i),Pe(r)()})},this.openMenu=i=>{this.internalSetState({isOpen:!0},i)},this.closeMenu=i=>{this.internalSetState({isOpen:!1},i)},this.updateStatus=He(()=>{const i=this.getState(),r=this.items[i.highlightedIndex],l=this.getItemCount(),a=this.props.getA11yStatusMessage({itemToString:this.props.itemToString,previousResultCount:this.previousResultCount,resultCount:l,highlightedItem:r,...i});this.previousResultCount=l,ze(a,this.props.environment.document)},200);const{defaultHighlightedIndex:u,initialHighlightedIndex:d=u,defaultIsOpen:h,initialIsOpen:p=h,initialInputValue:O="",initialSelectedItem:v=null}=this.props,x=this.getState({highlightedIndex:d,isOpen:p,inputValue:O,selectedItem:v});x.selectedItem!=null&&this.props.initialInputValue===void 0&&(x.inputValue=this.props.itemToString(x.selectedItem)),this.state=x}internalClearTimeouts(){this.timeoutIds.forEach(n=>{clearTimeout(n)}),this.timeoutIds=[]}getState(n){return n===void 0&&(n=this.state),Mt(n,this.props)}getItemCount(){let n=this.items.length;return this.itemCount!=null?n=this.itemCount:this.props.itemCount!==void 0&&(n=this.props.itemCount),n}getItemNodeFromIndex(n){return this.props.environment.document.getElementById(this.getItemId(n))}scrollHighlightedItemIntoView(){{const n=this.getItemNodeFromIndex(this.getState().highlightedIndex);this.props.scrollIntoView(n,this._menuNode)}}moveHighlightedIndex(n,t){const u=this.getItemCount(),{highlightedIndex:d}=this.getState();if(u>0){const h=ye(n,d,u,p=>this.getItemNodeFromIndex(p));this.setHighlightedIndex(h,t)}}getStateAndHelpers(){const{highlightedIndex:n,inputValue:t,selectedItem:u,isOpen:d}=this.getState(),{itemToString:h}=this.props,{id:p}=this,{getRootProps:O,getToggleButtonProps:v,getLabelProps:x,getMenuProps:i,getInputProps:r,getItemProps:l,openMenu:a,closeMenu:c,toggleMenu:f,selectItem:m,selectItemAtIndex:g,selectHighlightedItem:w,setHighlightedIndex:y,clearSelection:E,clearItems:D,reset:R,setItemCount:T,unsetItemCount:H,internalSetState:C}=this;return{getRootProps:O,getToggleButtonProps:v,getLabelProps:x,getMenuProps:i,getInputProps:r,getItemProps:l,reset:R,openMenu:a,closeMenu:c,toggleMenu:f,selectItem:m,selectItemAtIndex:g,selectHighlightedItem:w,setHighlightedIndex:y,clearSelection:E,clearItems:D,setItemCount:T,unsetItemCount:H,setState:C,itemToString:h,id:p,highlightedIndex:n,inputValue:t,isOpen:d,selectedItem:u}}componentDidMount(){{const n=()=>{this.isMouseDown=!0},t=O=>{this.isMouseDown=!1,!Te(O.target,[this._rootNode,this._menuNode],this.props.environment)&&this.getState().isOpen&&this.reset({type:Qe},()=>this.props.onOuterClick(this.getStateAndHelpers()))},u=()=>{this.isTouchMove=!1},d=()=>{this.isTouchMove=!0},h=O=>{const v=Te(O.target,[this._rootNode,this._menuNode],this.props.environment,!1);!this.isTouchMove&&!v&&this.getState().isOpen&&this.reset({type:at},()=>this.props.onOuterClick(this.getStateAndHelpers()))},{environment:p}=this.props;p.addEventListener("mousedown",n),p.addEventListener("mouseup",t),p.addEventListener("touchstart",u),p.addEventListener("touchmove",d),p.addEventListener("touchend",h),this.cleanup=()=>{this.internalClearTimeouts(),this.updateStatus.cancel(),p.removeEventListener("mousedown",n),p.removeEventListener("mouseup",t),p.removeEventListener("touchstart",u),p.removeEventListener("touchmove",d),p.removeEventListener("touchend",h)}}}shouldScroll(n,t){const{highlightedIndex:u}=this.props.highlightedIndex===void 0?this.getState():this.props,{highlightedIndex:d}=t.highlightedIndex===void 0?n:t;return u&&this.getState().isOpen&&!n.isOpen||u!==d}componentDidUpdate(n,t){we(this.props,"selectedItem")&&this.props.selectedItemChanged(n.selectedItem,this.props.selectedItem)&&this.internalSetState({type:ut,inputValue:this.props.itemToString(this.props.selectedItem)}),!this.avoidScrolling&&this.shouldScroll(t,n)&&this.scrollHighlightedItemIntoView(),this.updateStatus()}componentWillUnmount(){this.cleanup()}render(){const n=$e(this.props.children,N);this.clearItems(),this.getRootProps.called=!1,this.getRootProps.refKey=void 0,this.getRootProps.suppressRefError=void 0,this.getMenuProps.called=!1,this.getMenuProps.refKey=void 0,this.getMenuProps.suppressRefError=void 0,this.getLabelProps.called=!1,this.getInputProps.called=!1;const t=$e(n(this.getStateAndHelpers()));if(!t)return null;if(this.getRootProps.called||this.props.suppressRefError)return t;if(Et(t))return Se.cloneElement(t,this.getRootProps(Ot(t)))}}return e.defaultProps={defaultHighlightedIndex:null,defaultIsOpen:!1,getA11yStatusMessage:qe,itemToString:o=>o==null?"":String(o),onStateChange:N,onInputValueChange:N,onUserAction:N,onChange:N,onSelect:N,onOuterClick:N,selectedItemChanged:(o,n)=>o!==n,environment:typeof window>"u"?{}:window,stateReducer:(o,n)=>n,suppressRefError:!1,scrollIntoView:Fe},e.stateChangeTypes=Pt,e})();var Rt=Nt;function $t(e,o){return o.changes}function Vt(e){const{selectedItem:o,itemToString:n}=e;return o?`${n(o)} has been selected.`:""}He((e,o)=>{ze(e(),o)},200);function Tt(e){return e?String(e):""}const K={itemToString:Tt,stateReducer:$t,getA11ySelectionMessage:Vt,scrollIntoView:Fe,circularNavigation:!1,environment:typeof window>"u"?{}:window};s.array.isRequired,s.func,s.func,s.func,s.bool,s.number,s.number,s.number,s.bool,s.bool,s.bool,s.any,s.any,s.any,s.string,s.string,s.string,s.func,s.string,s.func,s.func,s.func,s.func,s.func,s.shape({addEventListener:s.func,removeEventListener:s.func,document:s.shape({getElementById:s.func,activeElement:s.any,body:s.any})});function Lt(e){var o=e.isOpen,n=e.resultCount,t=e.previousResultCount;return o?n?n!==t?"".concat(n," result").concat(n===1?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""}he(he({},K),{getA11yStatusMessage:Lt});s.array.isRequired,s.func,s.func,s.func,s.bool,s.number,s.number,s.number,s.bool,s.bool,s.bool,s.any,s.any,s.any,s.string,s.string,s.string,s.string,s.string,s.string,s.func,s.string,s.string,s.func,s.func,s.func,s.func,s.func,s.func,s.shape({addEventListener:s.func,removeEventListener:s.func,document:s.shape({getElementById:s.func,activeElement:s.any,body:s.any})});({...K});function Kt(e){const{removedSelectedItem:o,itemToString:n}=e;return`${n(o)} has been removed.`}s.array,s.array,s.array,s.func,s.func,s.func,s.number,s.number,s.number,s.func,s.func,s.string,s.string,s.shape({addEventListener:s.func,removeEventListener:s.func,document:s.shape({getElementById:s.func,activeElement:s.any,body:s.any})});K.itemToString,K.stateReducer,K.environment;function be(e){const{id:o,onSelectCallback:n,filterUserIds:t,typeFilter:u}=e,[d,h]=Se.useState([]),p=async v=>{try{const x=await ht(v,u),i=t!=null&&t.length?x.children.filter(r=>!t.includes(r.ownerId)):x.children;h(i)}catch(x){console.log("onInputValueChange",x)}},O=v=>{n&&n(v)};return P.jsx(P.Fragment,{children:P.jsx(Rt,{onInputValueChange:v=>{p(v)},onChange:v=>O(v),itemToString:v=>v!=null&&v.name?v.name:"",children:({getInputProps:v,getMenuProps:x,getItemProps:i,isOpen:r,inputValue:l})=>P.jsxs("div",{className:"user-search-box",children:[P.jsx("input",{...v({className:"form-control",id:o,type:"search",role:"searchbox",placeholder:"Enter the name..."}),style:{marginBottom:"0"}}),P.jsx("ul",{...x(),className:r?"users-visible":"",role:"list",children:r?d.filter(a=>!l||`${a.firstName} ${a.lastName}`.includes(l)||a.userName.includes(l)).map((a,c)=>P.jsx("li",{...i({key:a.ownerId,index:c,item:a}),children:P.jsx(pt,{userGroupHeader:a,disableHref:!0,showFullName:!0})},`userSearchBox-${c}`)):null})]})})})}try{be.displayName="UserSearchBox",be.__docgenInfo={description:"",displayName:"UserSearchBox",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},onSelectCallback:{defaultValue:null,description:"",name:"onSelectCallback",required:!1,type:{name:"((selected: UserGroupHeader) => void)"}},typeFilter:{defaultValue:null,description:"",name:"typeFilter",required:!1,type:{name:"enum",value:[{value:'"USERS_ONLY"'},{value:'"TEAMS_ONLY"'},{value:'"ALL"'}]}},filterUserIds:{defaultValue:null,description:"",name:"filterUserIds",required:!1,type:{name:"string[]"}}}}}catch{}const Si={title:"UI/UserSearchBox",component:be},ue={};var Le,Ke,Ue;ue.parameters={...ue.parameters,docs:{...(Le=ue.parameters)==null?void 0:Le.docs,source:{originalSource:"{}",...(Ue=(Ke=ue.parameters)==null?void 0:Ke.docs)==null?void 0:Ue.source}}};const wi=["Demo"];export{ue as Demo,wi as __namedExportsOrder,Si as default};
