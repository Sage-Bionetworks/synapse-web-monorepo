import{l as a,S as y,q as d}from"./useFiles-CvqXu3qP.js";import"./VerificationSubmission-B0kBNeMy.js";import"./StringUtils-CzgJJW-6.js";import"./OrientationBanner-2QI37Wfz.js";import"./index-B2mmVxOD.js";import{u as i}from"./useQuery-Bx5eY2jj.js";import{u as o}from"./utils-DKTCckgQ.js";import{u as m}from"./useMutation-D45mgCyw.js";import"./jsx-runtime-CmUBiTSS.js";function l(e,t,n){const{accessToken:u,keyFactory:s}=a();return i({...n,queryKey:s.getIsUserMemberOfTeamQueryKey(e,t),queryFn:()=>y.getIsUserMemberOfTeam(e,t,u)})}function g(e,t,n){const{accessToken:u,keyFactory:s}=a();return i({...n,queryKey:s.getMembershipStatusQueryKey(e,t),queryFn:()=>y.getMembershipStatus(e,t,u)})}function h(e,t){const{accessToken:n,keyFactory:u}=a();return i({...t,queryKey:u.getAllOpenMembershipInvitationsForUserQueryKey(e),queryFn:()=>y.getAllOpenMembershipInvitationsForUser(e,n)})}function k(e){const{accessToken:t}=a();return m({...e,mutationFn:n=>y.createMembershipInvitation(n,t)})}function p(e){const t=o(),{accessToken:n,keyFactory:u}=a();return m({...e,mutationFn:({teamId:s,userId:r})=>y.addTeamMemberAsAuthenticatedUserOrAdmin(s,r,n),onSuccess:async(s,r,c)=>{e!=null&&e.onSuccess&&e.onSuccess(s,r,c),await Promise.all([t.invalidateQueries({queryKey:u.getMembershipStatusQueryKey(r.teamId,r.userId)}),t.invalidateQueries({queryKey:u.getIsUserMemberOfTeamQueryKey(r.teamId,r.userId)}),t.invalidateQueries({queryKey:u.getTeamMembersQueryKey(r.teamId)}),t.invalidateQueries({queryKey:u.getAllSubmissionTeamsQueryKeys()})])}})}function b(e){const t=o(),{accessToken:n,keyFactory:u}=a();return m({...e,mutationFn:s=>y.createMembershipRequest(s,n),onSuccess:async(s,r,c)=>{if(await t.invalidateQueries({queryKey:u.getMembershipStatusQueryKey(r.teamId,r.userId)}),e.onSuccess)return e.onSuccess(s,r,c)}})}function O(e){const t=o(),{accessToken:n,keyFactory:u}=a();return m({...e,mutationFn:s=>d(s.teamId,s.userId,n),onSuccess:async(s,r,c)=>{await Promise.all([t.invalidateQueries({queryKey:u.getIsUserMemberOfTeamQueryKey(r.teamId,r.userId)}),t.invalidateQueries({queryKey:u.getMembershipStatusQueryKey(r.teamId,r.userId)})]),e!=null&&e.onSuccess&&await e.onSuccess(s,r,c)}})}export{g as a,p as b,O as c,k as d,b as e,h as f,l as u};
