import{r as l,cY as S,cX as I,j as c,cU as q,fR as n,cW as U,cV as L,fS as b,fT as p}from"./iframe-CKbLOTsP.js";import{W as N}from"./WideButton-DhzDQHDg.js";import{r as M,f as y}from"./useAccessRequirements-D9J1E6HT.js";import{A as F}from"./AccessRequirementList-DSiZCFz1.js";import{A as j}from"./ActionRequiredCard-DW3mC8qZ.js";const O="Requires Acceptance of Data-Specific Terms of Use",V="Requires Acceptance of Data-Specific Terms of Use",g="Requires Approval of Data-Specific Access Requirements",h="Access Restricted";function A({accessRequirementId:a,count:o}){const{data:e,isLoading:d}=M(a,{throwOnError:!0}),[R,u]=l.useState(!1);let t,s="",r="";const i=l.useMemo(()=>{if(e){if(e.name.match(/^\d+$/))return""}else return"";return e.name},[e]);if(!d&&e)switch(e.concreteType){case I:t=O,s=p,r=i;break;case S:{t=V;const _=e;_.isValidatedProfileRequired?s=n:_.isCertifiedUserRequired?s=b:s=p,r=i;break}case L:case U:t=g,s=n,r=i;break;case q:t=h,s=n,r="Access restricted pending review by Synapse Access and Compliance Team.";break}const{data:C}=y(String(a)),E=!!C?.isApproved,m=e?.subjectIds&&e?.subjectIds.length>0,T=m?e?.subjectIds[0].id:void 0,f=m?e?.subjectIds[0].type:void 0;return c.jsxs(c.Fragment,{children:[c.jsx(j,{isLoading:d,title:t,description:r,iconType:s,count:o,actionNode:c.jsx(N,{variant:"contained",onClick:()=>u(!0),disabled:E,children:E?"Complete":"Start"})}),R&&e&&c.jsx(F,{subjectId:T,subjectType:f,accessRequirementFromProps:[e],renderAsModal:!0,numberOfFilesAffected:o,onHide:()=>{u(!1)}})]})}try{A.displayName="MeetAccessRequirementCard",A.__docgenInfo={description:"",displayName:"MeetAccessRequirementCard",props:{accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!0,type:{name:"number"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}},isComplete:{defaultValue:null,description:"",name:"isComplete",required:!1,type:{name:"boolean"}}}}}catch{}export{A as M};
