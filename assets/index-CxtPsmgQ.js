import{g_ as d,r as l,ie as v}from"./iframe-BrkRRQUD.js";let i;function z(){if(!v)return;if(i)return i;const e=new Map,c=new ResizeObserver(n=>{for(const r of n){const s=e.get(r.target);if(!(s===void 0||s.size===0))for(const o of s)setTimeout(()=>{o(r)},0)}});return i={observer:c,subscribe(n,r){let s=e.get(n);s||(s=new Set,e.set(n,s),c.observe(n)),s.add(r)},unsubscribe(n,r){const s=e.get(n);s&&(s.delete(r),s.size===0&&(e.delete(n),c.unobserve(n)))}},i}function w(e,c,n=!0){const r=n&&z(),s=d(c),o=e&&"current"in e?e.current:e;l.useEffect(()=>{const t=e&&"current"in e?e.current:e;if(!r||!t)return;let u=!0;const b=(...f)=>{u&&s.current(...f)};return r.subscribe(t,b),()=>{u=!1,r.unsubscribe(t,b)}},[o,r])}export{w as u};
