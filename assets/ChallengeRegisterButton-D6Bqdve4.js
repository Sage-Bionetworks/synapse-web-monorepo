import{j as o}from"./jsx-runtime-DoxjgJx5.js";import{r as L}from"./index-Cu9bd8lq.js";import{d as y}from"./ExitToApp-KAs7G8N8.js";import{S as s}from"./SpinnerButton-C0C5v1AY.js";import{l as E,r as j}from"./useFiles-DEblaM3k.js";import"./VerificationSubmission-DL9jxYsQ.js";import"./RegularExpressions-kZf2njeX.js";import"./OrientationBanner-CW2K3-RQ.js";import{u as k}from"./useGetEntityChallenge-Bc_D0lj5.js";import{u as _}from"./useTeamMembers-DuOrwOUo.js";import{u as w}from"./useGetUserTeams-uILaRd85.js";import{B}from"./Box-Bma8Ps0t.js";const p=({projectId:a,onError:t,onJoinClick:d,onLeaveClick:l})=>{const{accessToken:m}=E(),i=!!m,{data:r}=j({enabled:i}),{data:e,isLoading:g,error:f}=k(a,{enabled:i}),{data:h,isLoading:b,error:C}=_(e==null?void 0:e.participantTeamId,r==null?void 0:r.ownerId,{enabled:!!e&&!!r}),x=!!h,{data:u,error:v,isLoading:S}=w(e==null?void 0:e.id,20,0,{enabled:!!e&&i}),T=u&&u.results.length>0,c=x&&T,n=f||C||v;return L.useEffect(()=>{n&&t&&t(n)},[n,t]),g||b||S?o.jsx(s,{showSpinner:!0,children:"Loading..."}):o.jsxs(B,{children:[!c&&o.jsx(s,{disableElevation:!0,variant:"contained",onClick:()=>m&&d?d():void 0,sx:{color:"white",backgroundColor:"#109488",fontSize:"1.12em",textTransform:"none",padding:"4px 18px",fontWeight:400,":hover":{color:"white",backgroundColor:"#109488"},":active":{color:"white",backgroundColor:"#109488"},":visited":{color:"white",backgroundColor:"#109488"}},children:"Register for this Challenge"}),c&&o.jsx(s,{disableElevation:!0,variant:"outlined",endIcon:o.jsx(y,{}),onClick:()=>l?l():void 0,sx:{borderColor:"white",color:"white",fontSize:"1.12em",textTransform:"none",padding:"4px 18px",fontWeight:400,":hover":{color:"#172430",borderColor:"#172430"}},children:"Leave Challenge"})]})};try{p.displayName="ChallengeRegisterButton",p.__docgenInfo={description:"",displayName:"ChallengeRegisterButton",props:{projectId:{defaultValue:null,description:"",name:"projectId",required:!0,type:{name:"string"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"((error: SynapseClientError) => void)"}},onJoinClick:{defaultValue:null,description:"",name:"onJoinClick",required:!1,type:{name:"(() => void)"}},onLeaveClick:{defaultValue:null,description:"",name:"onLeaveClick",required:!1,type:{name:"(() => void)"}}}}}catch{}export{p as C};
