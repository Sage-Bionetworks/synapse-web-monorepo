{"version":3,"file":"ConfirmationDialog-b7ee6dd2.js","sources":["../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/CircularProgress/circularProgressClasses.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/CircularProgress/CircularProgress.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Pagination/paginationClasses.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/usePagination/usePagination.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/PaginationItem/paginationItemClasses.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/internal/svg-icons/FirstPage.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/internal/svg-icons/LastPage.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/internal/svg-icons/NavigateBefore.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/internal/svg-icons/NavigateNext.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/PaginationItem/PaginationItem.js","../../../../node_modules/.pnpm/@mui+material@5.11.16_@emotion+react@11.10.6_@emotion+styled@11.10.6_@types+react@18.0.27_react-dom@18.2.0_react@18.2.0/node_modules/@mui/material/Pagination/Pagination.js","../../src/lib/utils/synapseTypes/AccessApproval.ts","../../src/lib/utils/synapseTypes/AccessRequirement/TermsOfUseAccessRequirement.ts","../../src/lib/utils/synapseTypes/File/GoogleCloudFileHandle.ts","../../src/lib/utils/synapseTypes/File/S3FileHandle.ts","../../src/lib/utils/synapseTypes/File/CloudProviderFileHandle.ts","../../src/lib/utils/synapseTypes/File/ExternalFileHandle.ts","../../src/lib/utils/synapseTypes/File/ExternalObjectStoreFileHandle.ts","../../src/lib/utils/synapseTypes/File/ProxyFileHandle.ts","../../src/lib/utils/synapseTypes/File/ExternalFileHandleInterface.ts","../../src/lib/utils/synapseTypes/Table/FacetColumnRequest.ts","../../../../node_modules/.pnpm/@mui+icons-material@5.11.16_@mui+material@5.11.16_@types+react@18.0.27_react@18.2.0/node_modules/@mui/icons-material/esm/WarningSharp.js","../../src/lib/utils/hooks/SynapseAPI/dataaccess/useGetApprovedSubmissionInfo.ts","../../src/lib/utils/hooks/SynapseAPI/entity/useEntityBundle.ts","../../src/lib/utils/hooks/SynapseAPI/entity/useGetEntityChildren.ts","../../src/lib/utils/hooks/SynapseAPI/entity/useGetEntityHeaders.ts","../../../../node_modules/.pnpm/@mui+icons-material@5.11.16_@mui+material@5.11.16_@types+react@18.0.27_react@18.2.0/node_modules/@mui/icons-material/Close.js","../../../../node_modules/.pnpm/react-popper@2.3.0_@popperjs+core@2.11.6_react-dom@18.2.0_react@18.2.0/node_modules/react-popper/lib/esm/utils.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/enums.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/dom-utils/getNodeName.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/dom-utils/getWindow.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/dom-utils/instanceOf.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/modifiers/applyStyles.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/utils/getBasePlacement.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/utils/math.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/utils/userAgent.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/dom-utils/contains.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/dom-utils/isTableElement.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/dom-utils/getParentNode.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/utils/within.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/utils/getFreshSideObject.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/utils/mergePaddingObject.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/utils/expandToHashMap.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/modifiers/arrow.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/utils/getVariation.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/modifiers/computeStyles.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/modifiers/eventListeners.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/utils/getOppositePlacement.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/utils/rectToClientRect.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/utils/computeOffsets.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/utils/detectOverflow.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/modifiers/flip.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/modifiers/hide.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/modifiers/offset.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/modifiers/popperOffsets.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/utils/getAltAxis.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/modifiers/preventOverflow.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/utils/orderModifiers.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/utils/debounce.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/utils/mergeByName.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/createPopper.js","../../../../node_modules/.pnpm/@popperjs+core@2.11.6/node_modules/@popperjs/core/lib/popper.js","../../../../node_modules/.pnpm/react-fast-compare@3.2.0/node_modules/react-fast-compare/index.js","../../../../node_modules/.pnpm/react-popper@2.3.0_@popperjs+core@2.11.6_react-dom@18.2.0_react@18.2.0/node_modules/react-popper/lib/esm/usePopper.js","../../../../node_modules/.pnpm/cssfilter@0.0.10/node_modules/cssfilter/lib/default.js","../../../../node_modules/.pnpm/cssfilter@0.0.10/node_modules/cssfilter/lib/util.js","../../../../node_modules/.pnpm/cssfilter@0.0.10/node_modules/cssfilter/lib/parser.js","../../../../node_modules/.pnpm/cssfilter@0.0.10/node_modules/cssfilter/lib/css.js","../../../../node_modules/.pnpm/cssfilter@0.0.10/node_modules/cssfilter/lib/index.js","../../../../node_modules/.pnpm/xss@1.0.14/node_modules/xss/lib/util.js","../../../../node_modules/.pnpm/xss@1.0.14/node_modules/xss/lib/default.js","../../../../node_modules/.pnpm/xss@1.0.14/node_modules/xss/lib/parser.js","../../../../node_modules/.pnpm/xss@1.0.14/node_modules/xss/lib/xss.js","../../../../node_modules/.pnpm/xss@1.0.14/node_modules/xss/lib/index.js","../../src/lib/utils/functions/SanitizeHtmlUtils.ts","../../src/lib/components/styled/WideButton.tsx","../../src/lib/containers/markdown/widget/MarkdownButton.tsx","../../src/lib/utils/functions/ResolveLinkEntity.ts","../../src/lib/utils/hooks/SynapseAPI/team/useTeamMembers.ts","../../src/lib/containers/FilePreview/HtmlPreview/HtmlPreview.tsx","../../src/lib/containers/FilePreview/PreviewRendererType.ts","../../src/lib/containers/FilePreview/FileHandleContentRenderer.tsx","../../src/lib/containers/FilePreview/PreviewUtils.ts","../../src/lib/containers/FilePreview/FileEntityPreview.tsx","../../src/lib/containers/FilePreview/EntityPreview.tsx","../../src/lib/containers/markdown/widget/MarkdownEntityPreview.tsx","../../src/lib/containers/IDUReportSubmissionInfo.tsx","../../src/lib/containers/IDUReport.tsx","../../src/lib/containers/markdown/widget/MarkdownIDUReport.tsx","../../../../node_modules/.pnpm/classcat@5.0.4/node_modules/classcat/index.js","../../../../node_modules/.pnpm/zustand@4.3.7_react@18.2.0/node_modules/zustand/esm/vanilla.mjs","../../../../node_modules/.pnpm/use-sync-external-store@1.2.0_react@18.2.0/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js","../../../../node_modules/.pnpm/use-sync-external-store@1.2.0_react@18.2.0/node_modules/use-sync-external-store/shim/index.js","../../../../node_modules/.pnpm/use-sync-external-store@1.2.0_react@18.2.0/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.min.js","../../../../node_modules/.pnpm/use-sync-external-store@1.2.0_react@18.2.0/node_modules/use-sync-external-store/shim/with-selector.js","../../../../node_modules/.pnpm/zustand@4.3.7_react@18.2.0/node_modules/zustand/esm/index.mjs","../../../../node_modules/.pnpm/zustand@4.3.7_react@18.2.0/node_modules/zustand/esm/shallow.mjs","../../../../node_modules/.pnpm/d3-dispatch@3.0.1/node_modules/d3-dispatch/src/dispatch.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/namespaces.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/namespace.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/creator.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selector.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/select.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/array.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selectorAll.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/selectAll.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/matcher.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/selectChild.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/selectChildren.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/filter.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/sparse.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/enter.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/constant.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/data.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/exit.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/join.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/merge.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/order.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/sort.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/call.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/nodes.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/node.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/size.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/empty.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/each.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/attr.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/window.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/style.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/property.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/classed.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/text.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/html.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/raise.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/lower.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/append.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/insert.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/remove.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/clone.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/datum.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/on.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/dispatch.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/iterator.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/selection/index.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/select.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/sourceEvent.js","../../../../node_modules/.pnpm/d3-selection@3.0.0/node_modules/d3-selection/src/pointer.js","../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/noevent.js","../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/nodrag.js","../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/constant.js","../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/event.js","../../../../node_modules/.pnpm/d3-drag@3.0.0/node_modules/d3-drag/src/drag.js","../../../../node_modules/.pnpm/d3-color@3.1.0/node_modules/d3-color/src/define.js","../../../../node_modules/.pnpm/d3-color@3.1.0/node_modules/d3-color/src/color.js","../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/constant.js","../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/color.js","../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/rgb.js","../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/number.js","../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/string.js","../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/transform/decompose.js","../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/transform/parse.js","../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/transform/index.js","../../../../node_modules/.pnpm/d3-interpolate@3.0.1/node_modules/d3-interpolate/src/zoom.js","../../../../node_modules/.pnpm/d3-timer@3.0.1/node_modules/d3-timer/src/timer.js","../../../../node_modules/.pnpm/d3-timer@3.0.1/node_modules/d3-timer/src/timeout.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/schedule.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/interrupt.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/selection/interrupt.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/tween.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/interpolate.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/attr.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/attrTween.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/delay.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/duration.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/ease.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/easeVarying.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/filter.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/merge.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/on.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/remove.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/select.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/selectAll.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/selection.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/style.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/styleTween.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/text.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/textTween.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/transition.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/end.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/transition/index.js","../../../../node_modules/.pnpm/d3-ease@3.0.1/node_modules/d3-ease/src/cubic.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/selection/transition.js","../../../../node_modules/.pnpm/d3-transition@3.0.1_d3-selection@3.0.0/node_modules/d3-transition/src/selection/index.js","../../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/constant.js","../../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/event.js","../../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/transform.js","../../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/noevent.js","../../../../node_modules/.pnpm/d3-zoom@3.0.0/node_modules/d3-zoom/src/zoom.js","../../../../node_modules/.pnpm/@reactflow+core@11.7.0_react-dom@18.2.0_react@18.2.0/node_modules/@reactflow/core/dist/esm/index.js","../../../../node_modules/.pnpm/@reactflow+controls@11.1.11_react-dom@18.2.0_react@18.2.0/node_modules/@reactflow/controls/dist/esm/index.js","../../src/lib/containers/provenance/ActivityNodeLabel.tsx","../../src/lib/containers/provenance/ProvenanceEntityIcon.tsx","../../src/lib/containers/provenance/EntityNodeLabel.tsx","../../../../node_modules/.pnpm/pluralize@8.0.0/node_modules/pluralize/pluralize.js","../../src/lib/containers/provenance/ExpandGraphNodeLabel.tsx","../../src/lib/containers/provenance/ProvenanceExternalIcon.tsx","../../src/lib/containers/provenance/ExternalGraphNodeLabel.tsx","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/clone.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_createBaseEach.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseEach.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_castFunction.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/forEach.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/each.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseFilter.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/filter.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseHas.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/has.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isUndefined.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseMap.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/map.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_arrayReduce.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseReduce.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/reduce.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_asciiSize.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_hasUnicode.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_unicodeSize.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_stringSize.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/size.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/transform.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseValues.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/values.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/lodash.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/graph.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/version.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/index.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/json.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/alg/components.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/data/priority-queue.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/alg/dijkstra.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/alg/dijkstra-all.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/alg/tarjan.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/alg/find-cycles.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/alg/floyd-warshall.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/alg/topsort.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/alg/is-acyclic.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/alg/dfs.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/alg/postorder.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/alg/preorder.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/alg/prim.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/lib/alg/index.js","../../../../node_modules/.pnpm/graphlib@2.1.8/node_modules/graphlib/index.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/graphlib.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_isIterateeCall.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/defaults.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_createFind.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toFinite.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toInteger.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/findIndex.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/find.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/forIn.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/last.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseExtremum.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGt.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/max.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_assignMergeValue.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_safeGet.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toPlainObject.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseMergeDeep.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseMerge.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_createAssigner.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/merge.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseLt.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/min.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/minBy.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseRange.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_createRange.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/range.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseSortBy.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_compareAscending.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_compareMultiple.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseOrderBy.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/sortBy.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/uniqueId.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseZipObject.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/zipObject.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/lodash.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/data/list.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/greedy-fas.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/acyclic.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/util.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/normalize.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/rank/util.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/rank/feasible-tree.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/rank/network-simplex.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/rank/index.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/parent-dummy-chains.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/nesting-graph.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/add-border-segments.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/coordinate-system.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/order/init-order.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/order/cross-count.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/order/barycenter.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/order/resolve-conflicts.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/order/sort.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/order/sort-subgraph.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/order/build-layer-graph.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/order/add-subgraph-constraints.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/order/index.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/position/bk.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/position/index.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/layout.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/debug.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/lib/version.js","../../../../node_modules/.pnpm/dagre@0.8.5/node_modules/dagre/index.js","../../src/lib/containers/provenance/UndefinedNodeLabel.tsx","../../src/lib/containers/provenance/EntityPlaceholderNodeLabel.tsx","../../src/lib/containers/provenance/ProvenanceUtils.tsx","../../src/lib/utils/synapseTypes/Provenance/Provenance.ts","../../src/lib/containers/provenance/ProvenanceGraphUtils.ts","../../src/lib/containers/provenance/ProvenanceGraph.tsx","../../src/lib/containers/markdown/widget/MarkdownProvenanceGraph.tsx","../../src/lib/containers/widgets/SynapseImage.tsx","../../src/lib/containers/markdown/SynapseWikiContext.tsx","../../src/lib/containers/markdown/widget/MarkdownSynapseImage.tsx","../../src/lib/containers/widgets/SynapsePlot.tsx","../../src/lib/containers/markdown/widget/MarkdownSynapsePlot.tsx","../../src/lib/utils/functions/testDownloadSpeed.ts","../../src/lib/assets/skeletons/SkeletonInlineBlock.tsx","../../../../node_modules/.pnpm/dayjs@1.11.7/node_modules/dayjs/plugin/duration.js","../../../../node_modules/.pnpm/dayjs@1.11.7/node_modules/dayjs/plugin/relativeTime.js","../../src/lib/containers/download_list/DownloadDetails.tsx","../../src/lib/containers/QueryContext.tsx","../../src/lib/utils/functions/deepLinkingUtils.ts","../../src/lib/containers/useImmutableTableQuery.ts","../../src/lib/containers/QueryWrapper.tsx","../../src/lib/containers/download_list/DownloadConfirmation.tsx","../../src/lib/containers/table/NoContentAvailable.tsx","../../src/lib/containers/table/NoContentPlaceholderType.ts","../../src/lib/containers/table/SearchResultsNotFound.tsx","../../src/lib/containers/table/TableIsEmpty.tsx","../../src/lib/utils/functions/getDataFromFromStorage.ts","../../src/lib/containers/QueryVisualizationWrapper.tsx","../../src/lib/containers/FullTextSearch.tsx","../../../../node_modules/.pnpm/react-is@16.9.0/node_modules/react-is/cjs/react-is.production.min.js","../../../../node_modules/.pnpm/react-is@16.9.0/node_modules/react-is/index.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isEqual.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/uniqWith.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIntersection.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_castArrayLikeObject.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/intersectionWith.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isBoolean.js","../../../../node_modules/.pnpm/json-schema-compare@0.2.2/node_modules/json-schema-compare/src/index.js","../../../../node_modules/.pnpm/validate.io-array@1.0.6/node_modules/validate.io-array/lib/index.js","../../../../node_modules/.pnpm/validate.io-number@1.0.3/node_modules/validate.io-number/lib/index.js","../../../../node_modules/.pnpm/validate.io-integer@1.0.5/node_modules/validate.io-integer/lib/index.js","../../../../node_modules/.pnpm/validate.io-integer-array@1.0.0/node_modules/validate.io-integer-array/lib/index.js","../../../../node_modules/.pnpm/validate.io-function@1.0.2/node_modules/validate.io-function/lib/index.js","../../../../node_modules/.pnpm/compute-gcd@1.2.1/node_modules/compute-gcd/lib/index.js","../../../../node_modules/.pnpm/compute-lcm@1.1.2/node_modules/compute-lcm/lib/index.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_customDefaultsMerge.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/mergeWith.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/defaultsDeep.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/flattenDeep.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/intersection.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseIndexOfWith.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_basePullAll.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/pullAll.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseDifference.js","../../../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/without.js","../../../../node_modules/.pnpm/json-schema-merge-allof@0.6.0/node_modules/json-schema-merge-allof/src/index.js","../../../../node_modules/.pnpm/jsonpointer@5.0.1/node_modules/jsonpointer/jsonpointer.js","../../../../node_modules/.pnpm/@rjsf+core@4.2.3_react@18.2.0/node_modules/@rjsf/core/dist/core.esm.js","../../src/lib/containers/ModalDownload.FormSchema.ts","../../src/lib/containers/ModalDownload.tsx","../../src/lib/containers/InfiniteQueryWrapper.tsx","../../src/lib/containers/QueryWrapperErrorBanner.tsx","../../src/lib/containers/SearchV2.tsx","../../src/lib/containers/SqlEditor.tsx","../../src/lib/containers/table/table-top/DownloadLoginModal.tsx","../../src/lib/containers/ProgrammaticInstructionsModal.tsx","../../src/lib/containers/table/table-top/ProgrammaticOptions.tsx","../../src/lib/containers/table/table-top/DownloadOptions.tsx","../../src/lib/containers/table/table-top/ColumnSelection.tsx","../../src/lib/containers/MissingQueryResultsWarning.tsx","../../src/lib/utils/hooks/SynapseAPI/entity/useExportToCavatica.ts","../../src/lib/assets/icons/Cavatica.tsx","../../src/lib/containers/table/TopLevelControls.tsx","../../src/lib/containers/widgets/Checkbox.tsx","../../src/lib/assets/icons/IconPlus.tsx","../../src/lib/assets/icons/IconMinus.tsx","../../src/lib/containers/widgets/query-filter/FacetFilterHeader.tsx","../../src/lib/containers/widgets/query-filter/EnumFacetFilter.tsx","../../src/lib/containers/widgets/query-filter/FacetChip.tsx","../../src/lib/containers/widgets/Range.tsx","../../src/lib/containers/widgets/query-filter/RangeFacetFilter.tsx","../../src/lib/containers/widgets/query-filter/FacetFilterControls.tsx","../../src/lib/containers/widgets/facet-nav/FacetNavPanel.tsx","../../src/lib/containers/widgets/facet-nav/SelectionCriteriaPills.tsx","../../src/lib/containers/TotalQueryResults.tsx","../../src/lib/containers/widgets/facet-nav/FacetNav.tsx","../../src/lib/containers/QuerySortSelector.tsx","../../src/lib/containers/CardContainerLogic.tsx","../../src/lib/containers/HeaderCard.tsx","../../src/lib/containers/widgets/FileHandleLink.tsx","../../src/lib/containers/widgets/ImageFileHandle.tsx","../../src/lib/containers/GenericCard.tsx","../../src/lib/containers/row_renderers/Dataset.tsx","../../src/lib/containers/row_renderers/Funder.tsx","../../src/lib/containers/row_renderers/ObservationCard.tsx","../../src/lib/containers/CardContainer.tsx","../../../../node_modules/.pnpm/column-resizer@1.4.0/node_modules/column-resizer/dist/column-resizer.js","../../src/lib/containers/AddToDownloadListV2.tsx","../../../../node_modules/.pnpm/ua-parser-js@1.0.33/node_modules/ua-parser-js/src/ua-parser.js","../../src/lib/containers/DirectDownload.tsx","../../src/lib/containers/AccessRequirementList/ManagedACTAccessRequirementRequestFlow/CancelRequestDataAccess.tsx","../../src/lib/containers/AccessRequirementList/ManagedACTAccessRequirementRequestFlow/RequestDataAccessSuccess.tsx","../../src/lib/containers/AccessRequirementList/RequirementItem/UnmanagedACTAccessRequirementItem.tsx","../../src/lib/containers/AccessRequirementList/ManagedACTAccessRequirementRequestFlow/ManagedACTAccessRequirementItem.tsx","../../src/lib/containers/AccessRequirementList/RequirementItem/SelfSignAccessRequirementItem.tsx","../../src/lib/containers/AccessRequirementList/AccessRequirementListItem.tsx","../../src/lib/containers/AccessRequirementList/AccessRequirementList.tsx","../../src/lib/containers/access_requirements/HasAccessV2.tsx","../../src/lib/containers/EntityIdList.tsx","../../src/lib/containers/EvaluationIdRenderer.tsx","../../src/lib/containers/UserIdList.tsx","../../src/lib/containers/synapse_table_functions/SynapseTableCell.tsx","../../src/lib/containers/table/SynapseTableUtils.ts","../../src/lib/containers/table/TablePagination.tsx","../../src/lib/containers/InteractiveCopyIdsIcon.tsx","../../src/lib/containers/table/EntityIDColumnCopyIcon.tsx","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/freeze.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/element.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/global.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/process.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/scheduler.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObservation.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverController.js","../../../../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserver.js","../../../../node_modules/.pnpm/@react-hook+passive-layout-effect@1.2.1_react@18.2.0/node_modules/@react-hook/passive-layout-effect/dist/module/index.js","../../../../node_modules/.pnpm/@react-hook+latest@1.0.3_react@18.2.0/node_modules/@react-hook/latest/dist/module/index.js","../../../../node_modules/.pnpm/@react-hook+resize-observer@1.2.6_react@18.2.0/node_modules/@react-hook/resize-observer/dist/module/index.js","../../src/lib/containers/table/ExpandableTableDataCell.tsx","../../src/lib/containers/table/SynapseTable.tsx","../../src/lib/containers/query_wrapper_plot_nav/LastUpdatedOn.tsx","../../src/lib/containers/query_wrapper_plot_nav/FilterAndView.tsx","../../src/lib/containers/query_wrapper_plot_nav/QueryWrapperPlotNav.tsx","../../src/lib/containers/table/StandaloneQueryWrapper.tsx","../../src/lib/containers/markdown/widget/MarkdownSynapseTable.tsx","../../src/lib/containers/markdown/widget/MarkdownTableOfContents.tsx","../../src/lib/containers/markdown/widget/MarkdownUserOrTeamBadge.tsx","../../src/lib/containers/markdown/widget/MarkdownVideo.tsx","../../src/lib/containers/markdown/MarkdownWidget.tsx","../../src/lib/containers/markdown/widget/Bookmarks.tsx","../../src/lib/containers/markdown/MarkdownSynapse.tsx","../../src/lib/containers/MarkdownPopover.tsx","../../src/lib/containers/HelpPopover.tsx","../../src/lib/containers/DialogBase.tsx","../../src/lib/containers/ConfirmationDialog.tsx"],"sourcesContent":["import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getCircularProgressUtilityClass(slot) {\n  return generateUtilityClass('MuiCircularProgress', slot);\n}\nconst circularProgressClasses = generateUtilityClasses('MuiCircularProgress', ['root', 'determinate', 'indeterminate', 'colorPrimary', 'colorSecondary', 'svg', 'circle', 'circleDeterminate', 'circleIndeterminate', 'circleDisableShrink']);\nexport default circularProgressClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"color\", \"disableShrink\", \"size\", \"style\", \"thickness\", \"value\", \"variant\"];\nlet _ = t => t,\n  _t,\n  _t2,\n  _t3,\n  _t4;\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { keyframes, css } from '@mui/system';\nimport capitalize from '../utils/capitalize';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport { getCircularProgressUtilityClass } from './circularProgressClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst SIZE = 44;\nconst circularRotateKeyframe = keyframes(_t || (_t = _`\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n`));\nconst circularDashKeyframe = keyframes(_t2 || (_t2 = _`\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n`));\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    variant,\n    color,\n    disableShrink\n  } = ownerState;\n  const slots = {\n    root: ['root', variant, `color${capitalize(color)}`],\n    svg: ['svg'],\n    circle: ['circle', `circle${capitalize(variant)}`, disableShrink && 'circleDisableShrink']\n  };\n  return composeClasses(slots, getCircularProgressUtilityClass, classes);\n};\nconst CircularProgressRoot = styled('span', {\n  name: 'MuiCircularProgress',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.variant], styles[`color${capitalize(ownerState.color)}`]];\n  }\n})(({\n  ownerState,\n  theme\n}) => _extends({\n  display: 'inline-block'\n}, ownerState.variant === 'determinate' && {\n  transition: theme.transitions.create('transform')\n}, ownerState.color !== 'inherit' && {\n  color: (theme.vars || theme).palette[ownerState.color].main\n}), ({\n  ownerState\n}) => ownerState.variant === 'indeterminate' && css(_t3 || (_t3 = _`\n      animation: ${0} 1.4s linear infinite;\n    `), circularRotateKeyframe));\nconst CircularProgressSVG = styled('svg', {\n  name: 'MuiCircularProgress',\n  slot: 'Svg',\n  overridesResolver: (props, styles) => styles.svg\n})({\n  display: 'block' // Keeps the progress centered\n});\n\nconst CircularProgressCircle = styled('circle', {\n  name: 'MuiCircularProgress',\n  slot: 'Circle',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.circle, styles[`circle${capitalize(ownerState.variant)}`], ownerState.disableShrink && styles.circleDisableShrink];\n  }\n})(({\n  ownerState,\n  theme\n}) => _extends({\n  stroke: 'currentColor'\n}, ownerState.variant === 'determinate' && {\n  transition: theme.transitions.create('stroke-dashoffset')\n}, ownerState.variant === 'indeterminate' && {\n  // Some default value that looks fine waiting for the animation to kicks in.\n  strokeDasharray: '80px, 200px',\n  strokeDashoffset: 0 // Add the unit to fix a Edge 16 and below bug.\n}), ({\n  ownerState\n}) => ownerState.variant === 'indeterminate' && !ownerState.disableShrink && css(_t4 || (_t4 = _`\n      animation: ${0} 1.4s ease-in-out infinite;\n    `), circularDashKeyframe));\n\n/**\n * ## ARIA\n *\n * If the progress bar is describing the loading progress of a particular region of a page,\n * you should use `aria-describedby` to point to the progress bar, and set the `aria-busy`\n * attribute to `true` on that region until it has finished loading.\n */\nconst CircularProgress = /*#__PURE__*/React.forwardRef(function CircularProgress(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCircularProgress'\n  });\n  const {\n      className,\n      color = 'primary',\n      disableShrink = false,\n      size = 40,\n      style,\n      thickness = 3.6,\n      value = 0,\n      variant = 'indeterminate'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    color,\n    disableShrink,\n    size,\n    thickness,\n    value,\n    variant\n  });\n  const classes = useUtilityClasses(ownerState);\n  const circleStyle = {};\n  const rootStyle = {};\n  const rootProps = {};\n  if (variant === 'determinate') {\n    const circumference = 2 * Math.PI * ((SIZE - thickness) / 2);\n    circleStyle.strokeDasharray = circumference.toFixed(3);\n    rootProps['aria-valuenow'] = Math.round(value);\n    circleStyle.strokeDashoffset = `${((100 - value) / 100 * circumference).toFixed(3)}px`;\n    rootStyle.transform = 'rotate(-90deg)';\n  }\n  return /*#__PURE__*/_jsx(CircularProgressRoot, _extends({\n    className: clsx(classes.root, className),\n    style: _extends({\n      width: size,\n      height: size\n    }, rootStyle, style),\n    ownerState: ownerState,\n    ref: ref,\n    role: \"progressbar\"\n  }, rootProps, other, {\n    children: /*#__PURE__*/_jsx(CircularProgressSVG, {\n      className: classes.svg,\n      ownerState: ownerState,\n      viewBox: `${SIZE / 2} ${SIZE / 2} ${SIZE} ${SIZE}`,\n      children: /*#__PURE__*/_jsx(CircularProgressCircle, {\n        className: classes.circle,\n        style: circleStyle,\n        ownerState: ownerState,\n        cx: SIZE,\n        cy: SIZE,\n        r: (SIZE - thickness) / 2,\n        fill: \"none\",\n        strokeWidth: thickness\n      })\n    })\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? CircularProgress.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The color of the component.\n   * It supports both default and custom theme colors, which can be added as shown in the\n   * [palette customization guide](https://mui.com/material-ui/customization/palette/#adding-new-colors).\n   * @default 'primary'\n   */\n  color: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['inherit', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n  /**\n   * If `true`, the shrink animation is disabled.\n   * This only works if variant is `indeterminate`.\n   * @default false\n   */\n  disableShrink: chainPropTypes(PropTypes.bool, props => {\n    if (props.disableShrink && props.variant && props.variant !== 'indeterminate') {\n      return new Error('MUI: You have provided the `disableShrink` prop ' + 'with a variant other than `indeterminate`. This will have no effect.');\n    }\n    return null;\n  }),\n  /**\n   * The size of the component.\n   * If using a number, the pixel unit is assumed.\n   * If using a string, you need to provide the CSS unit, e.g '3rem'.\n   * @default 40\n   */\n  size: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The thickness of the circle.\n   * @default 3.6\n   */\n  thickness: PropTypes.number,\n  /**\n   * The value of the progress indicator for the determinate variant.\n   * Value between 0 and 100.\n   * @default 0\n   */\n  value: PropTypes.number,\n  /**\n   * The variant to use.\n   * Use indeterminate when there is no progress value.\n   * @default 'indeterminate'\n   */\n  variant: PropTypes.oneOf(['determinate', 'indeterminate'])\n} : void 0;\nexport default CircularProgress;","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getPaginationUtilityClass(slot) {\n  return generateUtilityClass('MuiPagination', slot);\n}\nconst paginationClasses = generateUtilityClasses('MuiPagination', ['root', 'ul', 'outlined', 'text']);\nexport default paginationClasses;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"boundaryCount\", \"componentName\", \"count\", \"defaultPage\", \"disabled\", \"hideNextButton\", \"hidePrevButton\", \"onChange\", \"page\", \"showFirstButton\", \"showLastButton\", \"siblingCount\"];\nimport { unstable_useControlled as useControlled } from '@mui/utils';\nexport default function usePagination(props = {}) {\n  // keep default values in sync with @default tags in Pagination.propTypes\n  const {\n      boundaryCount = 1,\n      componentName = 'usePagination',\n      count = 1,\n      defaultPage = 1,\n      disabled = false,\n      hideNextButton = false,\n      hidePrevButton = false,\n      onChange: handleChange,\n      page: pageProp,\n      showFirstButton = false,\n      showLastButton = false,\n      siblingCount = 1\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const [page, setPageState] = useControlled({\n    controlled: pageProp,\n    default: defaultPage,\n    name: componentName,\n    state: 'page'\n  });\n  const handleClick = (event, value) => {\n    if (!pageProp) {\n      setPageState(value);\n    }\n    if (handleChange) {\n      handleChange(event, value);\n    }\n  };\n\n  // https://dev.to/namirsab/comment/2050\n  const range = (start, end) => {\n    const length = end - start + 1;\n    return Array.from({\n      length\n    }, (_, i) => start + i);\n  };\n  const startPages = range(1, Math.min(boundaryCount, count));\n  const endPages = range(Math.max(count - boundaryCount + 1, boundaryCount + 1), count);\n  const siblingsStart = Math.max(Math.min(\n  // Natural start\n  page - siblingCount,\n  // Lower boundary when page is high\n  count - boundaryCount - siblingCount * 2 - 1),\n  // Greater than startPages\n  boundaryCount + 2);\n  const siblingsEnd = Math.min(Math.max(\n  // Natural end\n  page + siblingCount,\n  // Upper boundary when page is low\n  boundaryCount + siblingCount * 2 + 2),\n  // Less than endPages\n  endPages.length > 0 ? endPages[0] - 2 : count - 1);\n\n  // Basic list of items to render\n  // e.g. itemList = ['first', 'previous', 1, 'ellipsis', 4, 5, 6, 'ellipsis', 10, 'next', 'last']\n  const itemList = [...(showFirstButton ? ['first'] : []), ...(hidePrevButton ? [] : ['previous']), ...startPages,\n  // Start ellipsis\n  // eslint-disable-next-line no-nested-ternary\n  ...(siblingsStart > boundaryCount + 2 ? ['start-ellipsis'] : boundaryCount + 1 < count - boundaryCount ? [boundaryCount + 1] : []),\n  // Sibling pages\n  ...range(siblingsStart, siblingsEnd),\n  // End ellipsis\n  // eslint-disable-next-line no-nested-ternary\n  ...(siblingsEnd < count - boundaryCount - 1 ? ['end-ellipsis'] : count - boundaryCount > boundaryCount ? [count - boundaryCount] : []), ...endPages, ...(hideNextButton ? [] : ['next']), ...(showLastButton ? ['last'] : [])];\n\n  // Map the button type to its page number\n  const buttonPage = type => {\n    switch (type) {\n      case 'first':\n        return 1;\n      case 'previous':\n        return page - 1;\n      case 'next':\n        return page + 1;\n      case 'last':\n        return count;\n      default:\n        return null;\n    }\n  };\n\n  // Convert the basic item list to PaginationItem props objects\n  const items = itemList.map(item => {\n    return typeof item === 'number' ? {\n      onClick: event => {\n        handleClick(event, item);\n      },\n      type: 'page',\n      page: item,\n      selected: item === page,\n      disabled,\n      'aria-current': item === page ? 'true' : undefined\n    } : {\n      onClick: event => {\n        handleClick(event, buttonPage(item));\n      },\n      type: item,\n      page: buttonPage(item),\n      selected: false,\n      disabled: disabled || item.indexOf('ellipsis') === -1 && (item === 'next' || item === 'last' ? page >= count : page <= 1)\n    };\n  });\n  return _extends({\n    items\n  }, other);\n}","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getPaginationItemUtilityClass(slot) {\n  return generateUtilityClass('MuiPaginationItem', slot);\n}\nconst paginationItemClasses = generateUtilityClasses('MuiPaginationItem', ['root', 'page', 'sizeSmall', 'sizeLarge', 'text', 'textPrimary', 'textSecondary', 'outlined', 'outlinedPrimary', 'outlinedSecondary', 'rounded', 'ellipsis', 'firstLast', 'previousNext', 'focusVisible', 'disabled', 'selected', 'icon']);\nexport default paginationItemClasses;","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z\"\n}), 'FirstPage');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z\"\n}), 'LastPage');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n}), 'NavigateBefore');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n\n/**\n * @ignore - internal component.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"\n}), 'NavigateNext');","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"color\", \"component\", \"components\", \"disabled\", \"page\", \"selected\", \"shape\", \"size\", \"slots\", \"type\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { alpha } from '@mui/system';\nimport useThemeProps from '../styles/useThemeProps';\nimport paginationItemClasses, { getPaginationItemUtilityClass } from './paginationItemClasses';\nimport useTheme from '../styles/useTheme';\nimport ButtonBase from '../ButtonBase';\nimport capitalize from '../utils/capitalize';\nimport FirstPageIcon from '../internal/svg-icons/FirstPage';\nimport LastPageIcon from '../internal/svg-icons/LastPage';\nimport NavigateBeforeIcon from '../internal/svg-icons/NavigateBefore';\nimport NavigateNextIcon from '../internal/svg-icons/NavigateNext';\nimport styled from '../styles/styled';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst overridesResolver = (props, styles) => {\n  const {\n    ownerState\n  } = props;\n  return [styles.root, styles[ownerState.variant], styles[`size${capitalize(ownerState.size)}`], ownerState.variant === 'text' && styles[`text${capitalize(ownerState.color)}`], ownerState.variant === 'outlined' && styles[`outlined${capitalize(ownerState.color)}`], ownerState.shape === 'rounded' && styles.rounded, ownerState.type === 'page' && styles.page, (ownerState.type === 'start-ellipsis' || ownerState.type === 'end-ellipsis') && styles.ellipsis, (ownerState.type === 'previous' || ownerState.type === 'next') && styles.previousNext, (ownerState.type === 'first' || ownerState.type === 'last') && styles.firstLast];\n};\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    color,\n    disabled,\n    selected,\n    size,\n    shape,\n    type,\n    variant\n  } = ownerState;\n  const slots = {\n    root: ['root', `size${capitalize(size)}`, variant, shape, color !== 'standard' && `${variant}${capitalize(color)}`, disabled && 'disabled', selected && 'selected', {\n      page: 'page',\n      first: 'firstLast',\n      last: 'firstLast',\n      'start-ellipsis': 'ellipsis',\n      'end-ellipsis': 'ellipsis',\n      previous: 'previousNext',\n      next: 'previousNext'\n    }[type]],\n    icon: ['icon']\n  };\n  return composeClasses(slots, getPaginationItemUtilityClass, classes);\n};\nconst PaginationItemEllipsis = styled('div', {\n  name: 'MuiPaginationItem',\n  slot: 'Root',\n  overridesResolver\n})(({\n  theme,\n  ownerState\n}) => _extends({}, theme.typography.body2, {\n  borderRadius: 32 / 2,\n  textAlign: 'center',\n  boxSizing: 'border-box',\n  minWidth: 32,\n  padding: '0 6px',\n  margin: '0 3px',\n  color: (theme.vars || theme).palette.text.primary,\n  height: 'auto',\n  [`&.${paginationItemClasses.disabled}`]: {\n    opacity: (theme.vars || theme).palette.action.disabledOpacity\n  }\n}, ownerState.size === 'small' && {\n  minWidth: 26,\n  borderRadius: 26 / 2,\n  margin: '0 1px',\n  padding: '0 4px'\n}, ownerState.size === 'large' && {\n  minWidth: 40,\n  borderRadius: 40 / 2,\n  padding: '0 10px',\n  fontSize: theme.typography.pxToRem(15)\n}));\nconst PaginationItemPage = styled(ButtonBase, {\n  name: 'MuiPaginationItem',\n  slot: 'Root',\n  overridesResolver\n})(({\n  theme,\n  ownerState\n}) => _extends({}, theme.typography.body2, {\n  borderRadius: 32 / 2,\n  textAlign: 'center',\n  boxSizing: 'border-box',\n  minWidth: 32,\n  height: 32,\n  padding: '0 6px',\n  margin: '0 3px',\n  color: (theme.vars || theme).palette.text.primary,\n  [`&.${paginationItemClasses.focusVisible}`]: {\n    backgroundColor: (theme.vars || theme).palette.action.focus\n  },\n  [`&.${paginationItemClasses.disabled}`]: {\n    opacity: (theme.vars || theme).palette.action.disabledOpacity\n  },\n  transition: theme.transitions.create(['color', 'background-color'], {\n    duration: theme.transitions.duration.short\n  }),\n  '&:hover': {\n    backgroundColor: (theme.vars || theme).palette.action.hover,\n    // Reset on touch devices, it doesn't add specificity\n    '@media (hover: none)': {\n      backgroundColor: 'transparent'\n    }\n  },\n  [`&.${paginationItemClasses.selected}`]: {\n    backgroundColor: (theme.vars || theme).palette.action.selected,\n    '&:hover': {\n      backgroundColor: theme.vars ? `rgba(${theme.vars.palette.action.selected} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.hoverOpacity}))` : alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.hoverOpacity),\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        backgroundColor: (theme.vars || theme).palette.action.selected\n      }\n    },\n    [`&.${paginationItemClasses.focusVisible}`]: {\n      backgroundColor: theme.vars ? `rgba(${theme.vars.palette.action.selected} / calc(${theme.vars.palette.action.selectedOpacity} + ${theme.vars.palette.action.focusOpacity}))` : alpha(theme.palette.action.selected, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n    },\n    [`&.${paginationItemClasses.disabled}`]: {\n      opacity: 1,\n      color: (theme.vars || theme).palette.action.disabled,\n      backgroundColor: (theme.vars || theme).palette.action.selected\n    }\n  }\n}, ownerState.size === 'small' && {\n  minWidth: 26,\n  height: 26,\n  borderRadius: 26 / 2,\n  margin: '0 1px',\n  padding: '0 4px'\n}, ownerState.size === 'large' && {\n  minWidth: 40,\n  height: 40,\n  borderRadius: 40 / 2,\n  padding: '0 10px',\n  fontSize: theme.typography.pxToRem(15)\n}, ownerState.shape === 'rounded' && {\n  borderRadius: (theme.vars || theme).shape.borderRadius\n}), ({\n  theme,\n  ownerState\n}) => _extends({}, ownerState.variant === 'text' && {\n  [`&.${paginationItemClasses.selected}`]: _extends({}, ownerState.color !== 'standard' && {\n    color: (theme.vars || theme).palette[ownerState.color].contrastText,\n    backgroundColor: (theme.vars || theme).palette[ownerState.color].main,\n    '&:hover': {\n      backgroundColor: (theme.vars || theme).palette[ownerState.color].dark,\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        backgroundColor: (theme.vars || theme).palette[ownerState.color].main\n      }\n    },\n    [`&.${paginationItemClasses.focusVisible}`]: {\n      backgroundColor: (theme.vars || theme).palette[ownerState.color].dark\n    }\n  }, {\n    [`&.${paginationItemClasses.disabled}`]: {\n      color: (theme.vars || theme).palette.action.disabled\n    }\n  })\n}, ownerState.variant === 'outlined' && {\n  border: theme.vars ? `1px solid rgba(${theme.vars.palette.common.onBackgroundChannel} / 0.23)` : `1px solid ${theme.palette.mode === 'light' ? 'rgba(0, 0, 0, 0.23)' : 'rgba(255, 255, 255, 0.23)'}`,\n  [`&.${paginationItemClasses.selected}`]: _extends({}, ownerState.color !== 'standard' && {\n    color: (theme.vars || theme).palette[ownerState.color].main,\n    border: `1px solid ${theme.vars ? `rgba(${theme.vars.palette[ownerState.color].mainChannel} / 0.5)` : alpha(theme.palette[ownerState.color].main, 0.5)}`,\n    backgroundColor: theme.vars ? `rgba(${theme.vars.palette[ownerState.color].mainChannel} / ${theme.vars.palette.action.activatedOpacity})` : alpha(theme.palette[ownerState.color].main, theme.palette.action.activatedOpacity),\n    '&:hover': {\n      backgroundColor: theme.vars ? `rgba(${theme.vars.palette[ownerState.color].mainChannel} / calc(${theme.vars.palette.action.activatedOpacity} + ${theme.vars.palette.action.focusOpacity}))` : alpha(theme.palette[ownerState.color].main, theme.palette.action.activatedOpacity + theme.palette.action.focusOpacity),\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        backgroundColor: 'transparent'\n      }\n    },\n    [`&.${paginationItemClasses.focusVisible}`]: {\n      backgroundColor: theme.vars ? `rgba(${theme.vars.palette[ownerState.color].mainChannel} / calc(${theme.vars.palette.action.activatedOpacity} + ${theme.vars.palette.action.focusOpacity}))` : alpha(theme.palette[ownerState.color].main, theme.palette.action.activatedOpacity + theme.palette.action.focusOpacity)\n    }\n  }, {\n    [`&.${paginationItemClasses.disabled}`]: {\n      borderColor: (theme.vars || theme).palette.action.disabledBackground,\n      color: (theme.vars || theme).palette.action.disabled\n    }\n  })\n}));\nconst PaginationItemPageIcon = styled('div', {\n  name: 'MuiPaginationItem',\n  slot: 'Icon',\n  overridesResolver: (props, styles) => styles.icon\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  fontSize: theme.typography.pxToRem(20),\n  margin: '0 -8px'\n}, ownerState.size === 'small' && {\n  fontSize: theme.typography.pxToRem(18)\n}, ownerState.size === 'large' && {\n  fontSize: theme.typography.pxToRem(22)\n}));\nconst PaginationItem = /*#__PURE__*/React.forwardRef(function PaginationItem(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiPaginationItem'\n  });\n  const {\n      className,\n      color = 'standard',\n      component,\n      components = {},\n      disabled = false,\n      page,\n      selected = false,\n      shape = 'circular',\n      size = 'medium',\n      slots = {},\n      type = 'page',\n      variant = 'text'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    color,\n    disabled,\n    selected,\n    shape,\n    size,\n    type,\n    variant\n  });\n  const theme = useTheme();\n  const classes = useUtilityClasses(ownerState);\n  const normalizedIcons = theme.direction === 'rtl' ? {\n    previous: slots.next || components.next || NavigateNextIcon,\n    next: slots.previous || components.previous || NavigateBeforeIcon,\n    last: slots.first || components.first || FirstPageIcon,\n    first: slots.last || components.last || LastPageIcon\n  } : {\n    previous: slots.previous || components.previous || NavigateBeforeIcon,\n    next: slots.next || components.next || NavigateNextIcon,\n    first: slots.first || components.first || FirstPageIcon,\n    last: slots.last || components.last || LastPageIcon\n  };\n  const Icon = normalizedIcons[type];\n  return type === 'start-ellipsis' || type === 'end-ellipsis' ? /*#__PURE__*/_jsx(PaginationItemEllipsis, {\n    ref: ref,\n    ownerState: ownerState,\n    className: clsx(classes.root, className),\n    children: \"\\u2026\"\n  }) : /*#__PURE__*/_jsxs(PaginationItemPage, _extends({\n    ref: ref,\n    ownerState: ownerState,\n    component: component,\n    disabled: disabled,\n    className: clsx(classes.root, className)\n  }, other, {\n    children: [type === 'page' && page, Icon ? /*#__PURE__*/_jsx(PaginationItemPageIcon, {\n      as: Icon,\n      ownerState: ownerState,\n      className: classes.icon\n    }) : null]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? PaginationItem.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * @ignore\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The active color.\n   * It supports both default and custom theme colors, which can be added as shown in the\n   * [palette customization guide](https://mui.com/material-ui/customization/palette/#adding-new-colors).\n   * @default 'standard'\n   */\n  color: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['primary', 'secondary', 'standard']), PropTypes.string]),\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n  /**\n   * The components used for each slot inside.\n   *\n   * This prop is an alias for the `slots` prop.\n   * It's recommended to use the `slots` prop instead.\n   *\n   * @default {}\n   */\n  components: PropTypes.shape({\n    first: PropTypes.elementType,\n    last: PropTypes.elementType,\n    next: PropTypes.elementType,\n    previous: PropTypes.elementType\n  }),\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * The current page number.\n   */\n  page: PropTypes.node,\n  /**\n   * If `true` the pagination item is selected.\n   * @default false\n   */\n  selected: PropTypes.bool,\n  /**\n   * The shape of the pagination item.\n   * @default 'circular'\n   */\n  shape: PropTypes.oneOf(['circular', 'rounded']),\n  /**\n   * The size of the component.\n   * @default 'medium'\n   */\n  size: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['small', 'medium', 'large']), PropTypes.string]),\n  /**\n   * The components used for each slot inside.\n   *\n   * This prop is an alias for the `components` prop, which will be deprecated in the future.\n   *\n   * @default {}\n   */\n  slots: PropTypes.shape({\n    first: PropTypes.elementType,\n    last: PropTypes.elementType,\n    next: PropTypes.elementType,\n    previous: PropTypes.elementType\n  }),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The type of pagination item.\n   * @default 'page'\n   */\n  type: PropTypes.oneOf(['end-ellipsis', 'first', 'last', 'next', 'page', 'previous', 'start-ellipsis']),\n  /**\n   * The variant to use.\n   * @default 'text'\n   */\n  variant: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['outlined', 'text']), PropTypes.string])\n} : void 0;\nexport default PaginationItem;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"boundaryCount\", \"className\", \"color\", \"count\", \"defaultPage\", \"disabled\", \"getItemAriaLabel\", \"hideNextButton\", \"hidePrevButton\", \"onChange\", \"page\", \"renderItem\", \"shape\", \"showFirstButton\", \"showLastButton\", \"siblingCount\", \"size\", \"variant\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { integerPropType } from '@mui/utils';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getPaginationUtilityClass } from './paginationClasses';\nimport usePagination from '../usePagination';\nimport PaginationItem from '../PaginationItem';\nimport styled from '../styles/styled';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    variant\n  } = ownerState;\n  const slots = {\n    root: ['root', variant],\n    ul: ['ul']\n  };\n  return composeClasses(slots, getPaginationUtilityClass, classes);\n};\nconst PaginationRoot = styled('nav', {\n  name: 'MuiPagination',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.variant]];\n  }\n})({});\nconst PaginationUl = styled('ul', {\n  name: 'MuiPagination',\n  slot: 'Ul',\n  overridesResolver: (props, styles) => styles.ul\n})({\n  display: 'flex',\n  flexWrap: 'wrap',\n  alignItems: 'center',\n  padding: 0,\n  margin: 0,\n  listStyle: 'none'\n});\nfunction defaultGetAriaLabel(type, page, selected) {\n  if (type === 'page') {\n    return `${selected ? '' : 'Go to '}page ${page}`;\n  }\n  return `Go to ${type} page`;\n}\nconst Pagination = /*#__PURE__*/React.forwardRef(function Pagination(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiPagination'\n  });\n  const {\n      boundaryCount = 1,\n      className,\n      color = 'standard',\n      count = 1,\n      defaultPage = 1,\n      disabled = false,\n      getItemAriaLabel = defaultGetAriaLabel,\n      hideNextButton = false,\n      hidePrevButton = false,\n      renderItem = item => /*#__PURE__*/_jsx(PaginationItem, _extends({}, item)),\n      shape = 'circular',\n      showFirstButton = false,\n      showLastButton = false,\n      siblingCount = 1,\n      size = 'medium',\n      variant = 'text'\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const {\n    items\n  } = usePagination(_extends({}, props, {\n    componentName: 'Pagination'\n  }));\n  const ownerState = _extends({}, props, {\n    boundaryCount,\n    color,\n    count,\n    defaultPage,\n    disabled,\n    getItemAriaLabel,\n    hideNextButton,\n    hidePrevButton,\n    renderItem,\n    shape,\n    showFirstButton,\n    showLastButton,\n    siblingCount,\n    size,\n    variant\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(PaginationRoot, _extends({\n    \"aria-label\": \"pagination navigation\",\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other, {\n    children: /*#__PURE__*/_jsx(PaginationUl, {\n      className: classes.ul,\n      ownerState: ownerState,\n      children: items.map((item, index) => /*#__PURE__*/_jsx(\"li\", {\n        children: renderItem(_extends({}, item, {\n          color,\n          'aria-label': getItemAriaLabel(item.type, item.page, item.selected),\n          shape,\n          size,\n          variant\n        }))\n      }, index))\n    })\n  }));\n});\n\n// @default tags synced with default values from usePagination\n\nprocess.env.NODE_ENV !== \"production\" ? Pagination.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * Number of always visible pages at the beginning and end.\n   * @default 1\n   */\n  boundaryCount: integerPropType,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The active color.\n   * It supports both default and custom theme colors, which can be added as shown in the\n   * [palette customization guide](https://mui.com/material-ui/customization/palette/#adding-new-colors).\n   * @default 'standard'\n   */\n  color: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['primary', 'secondary', 'standard']), PropTypes.string]),\n  /**\n   * The total number of pages.\n   * @default 1\n   */\n  count: integerPropType,\n  /**\n   * The page selected by default when the component is uncontrolled.\n   * @default 1\n   */\n  defaultPage: integerPropType,\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n  /**\n   * Accepts a function which returns a string value that provides a user-friendly name for the current page.\n   * This is important for screen reader users.\n   *\n   * For localization purposes, you can use the provided [translations](/material-ui/guides/localization/).\n   * @param {string} type The link or button type to format ('page' | 'first' | 'last' | 'next' | 'previous'). Defaults to 'page'.\n   * @param {number} page The page number to format.\n   * @param {bool} selected If true, the current page is selected.\n   * @returns {string}\n   */\n  getItemAriaLabel: PropTypes.func,\n  /**\n   * If `true`, hide the next-page button.\n   * @default false\n   */\n  hideNextButton: PropTypes.bool,\n  /**\n   * If `true`, hide the previous-page button.\n   * @default false\n   */\n  hidePrevButton: PropTypes.bool,\n  /**\n   * Callback fired when the page is changed.\n   *\n   * @param {React.ChangeEvent<unknown>} event The event source of the callback.\n   * @param {number} page The page selected.\n   */\n  onChange: PropTypes.func,\n  /**\n   * The current page.\n   */\n  page: integerPropType,\n  /**\n   * Render the item.\n   * @param {PaginationRenderItemParams} params The props to spread on a PaginationItem.\n   * @returns {ReactNode}\n   * @default (item) => <PaginationItem {...item} />\n   */\n  renderItem: PropTypes.func,\n  /**\n   * The shape of the pagination items.\n   * @default 'circular'\n   */\n  shape: PropTypes.oneOf(['circular', 'rounded']),\n  /**\n   * If `true`, show the first-page button.\n   * @default false\n   */\n  showFirstButton: PropTypes.bool,\n  /**\n   * If `true`, show the last-page button.\n   * @default false\n   */\n  showLastButton: PropTypes.bool,\n  /**\n   * Number of always visible pages before and after the current page.\n   * @default 1\n   */\n  siblingCount: integerPropType,\n  /**\n   * The size of the component.\n   * @default 'medium'\n   */\n  size: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['small', 'medium', 'large']), PropTypes.string]),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The variant to use.\n   * @default 'text'\n   */\n  variant: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['outlined', 'text']), PropTypes.string])\n} : void 0;\nexport default Pagination;","export type SortDirection = 'ASC' | 'DESC'\n\nexport enum ApprovalState {\n  APPROVED = 'APPROVED',\n  REVOKED = 'REVOKED',\n}\n\nexport enum AccessApprovalSortField {\n  MODIFIED_ON = 'MODIFIED_ON',\n  EXPIRED_ON = 'EXPIRED_ON',\n}\n\nexport interface AccessApprovalSearchSort {\n  field: AccessApprovalSortField\n  direction: SortDirection\n}\n\nexport interface AccessApprovalSearchResult {\n  id: string\n  accessRequirementId: string\n  accessRequirementVersion: string\n  accessRequirementName: string\n  submitterId: string\n  reviewerId: string\n  state: ApprovalState\n  modifiedOn: string\n  expiredOn: string\n}\n\nexport interface AccessApproval {\n  id?: number //\tThe unique immutable ID\n  etag?: string //\tSynapse employs an Optimistic Concurrency Control (OCC) scheme to handle concurrent updates. Since the E-Tag changes every time an entity is updated it is used to detect when a client's current representation of an object is out-of-date.\n  createdOn?: string //\tThe date this object was created.\n  modifiedOn?: string //\tThe date this object was last modified.\n  createdBy?: string //\tThe user that created this object.\n  modifiedBy?: string //\tThe user that last modified this object.\n  requirementId: number //\tThe ID of the Access Requirement that this object approves.\n  requirementVersion?: number //\tThe version of the Access Requirement that this object approves.\n  submitterId: string //\tThe user who performed the necessary action(s) to gain this approval.\n  accessorId: string //\tThe ID of the principal (user or group) approved for access\n  expiredOn?: string //\tThe date this object will be expired.\n  state: ApprovalState //\tJSON enum for the state of AccessApproval\n}\n\nexport interface AccessApprovalSearchRequest {\n  accessorId: string // \tFilter by the id of the principal that is an accessor in the approval. Note that the submitter is always part of the accessors. This field is required.\n  accessRequirementId?: string // Filter by the id of the access requirement of the approvals.\n  sort?: AccessApprovalSearchSort[] // Identifies both the field and direction for a single sort operation.\n  nextPageToken?: string // A token used to get the next page of a request.\n}\n\nexport interface AccessApprovalSearchResponse {\n  results: AccessApprovalSearchResult[] // The matching Access Approval information corresponding to the search parameters\n  nextPageToken?: string // A token used to get the next page of a particular search query.\n}\n","import { RestrictableObjectDescriptor } from './RestrictableObjectDescriptor'\nimport ACCESS_TYPE from '../ACCESS_TYPE'\nimport { isTypeViaConcreteTypeFactory } from '../../functions/TypeUtils'\n\nexport interface TermsOfUseAccessRequirement {\n  /* The version number issued to this version on the object. */\n  versionNumber: number\n  /* The unique immutable ID. Provided by the system, the user may not set this field. */\n  id: number\n  /* Depricated. Replaced by name. */\n  description: string\n  /* Name of the AR. Limited to 50 characters and must be unique. Required. */\n  name: string\n  /* Synapse employs an Optimistic Concurrency Control (OCC) scheme to handle concurrent updates. Since the E-Tag changes every time an entity is updated it is used to detect when a client's current representation of an object is out-of-date. */\n  etag: string\n  /* The date this object was created. Provided by the system, the user may not set this field. */\n  createdOn: string\n  /* The date this object was last modified. Provided by the system, the user may not set this field. */\n  modifiedOn: string\n  /* The user that created this object. Provided by the system, the user may not set this field. */\n  createdBy: string\n  /* The user that last modified this object. Provided by the system, the user may not set this field. */\n  modifiedBy: string\n  /* Defaults to 'false'. When 'true', the subjects controlled by this AR are defined by the the'_accessRequirementIds' annotations on individual entities. This property is mutually exclusive with 'subjectIds'. If this is set to 'true' then 'subjectIds' must be excluded or empty. */\n  subjectsDefinedByAnnotations: boolean\n  /* The IDs of the items controlled by this Access Requirement when 'subjectsDefinedByAnnotations=false'. This property is mutually exclusive with 'subjectsDefinedByAnnotations'. When 'subjectsDefinedByAnnotations=true' then this property must be empty or excluded. Required when creating or updating and 'subjectsDefinedByAnnotations=false' or 'subjectsDefinedByAnnotations' is excluded. */\n  subjectIds: Array<RestrictableObjectDescriptor>\n  /* The enumeration of possible permission. */\n  accessType: ACCESS_TYPE\n  /* Indicates which type of AccessRequirement this object represents. Provided by the system, the user may not set this field. */\n  concreteType: 'org.sagebionetworks.repo.model.TermsOfUseAccessRequirement'\n  /* Terms Of Use for Access, stored directly in the document (versus in a referenced Location) Required when creating or updating.*/\n  termsOfUse: string\n}\n\nexport const isTermsOfUseAccessRequirement =\n  isTypeViaConcreteTypeFactory<TermsOfUseAccessRequirement>(\n    'org.sagebionetworks.repo.model.TermsOfUseAccessRequirement',\n  )\n","import { CloudProviderFileHandleInterface } from './CloudProviderFileHandle'\n\nexport const GOOGLE_CLOUD_FILE_HANDLE_CONCRETE_TYPE_VALUE =\n  'org.sagebionetworks.repo.model.file.GoogleCloudFileHandle'\nexport type GOOGLE_CLOUD_FILE_HANDLE_CONCRETE_TYPE =\n  typeof GOOGLE_CLOUD_FILE_HANDLE_CONCRETE_TYPE_VALUE\n\nexport interface GoogleCloudFileHandle\n  extends CloudProviderFileHandleInterface {\n  readonly concreteType: GOOGLE_CLOUD_FILE_HANDLE_CONCRETE_TYPE\n}\n","import { isTypeViaConcreteTypeFactory } from '../../functions/TypeUtils'\nimport { CloudProviderFileHandleInterface } from './CloudProviderFileHandle'\n\nexport const S3_FILE_HANDLE_CONCRETE_TYPE_VALUE =\n  'org.sagebionetworks.repo.model.file.S3FileHandle'\nexport type S3_FILE_HANDLE_CONCRETE_TYPE =\n  typeof S3_FILE_HANDLE_CONCRETE_TYPE_VALUE\n\nexport interface S3FileHandle extends CloudProviderFileHandleInterface {\n  readonly concreteType: S3_FILE_HANDLE_CONCRETE_TYPE\n}\n\nexport const isS3FileHandle = isTypeViaConcreteTypeFactory<S3FileHandle>(\n  S3_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n)\n","import { isTypeViaConcreteTypeFactory } from '../../functions/TypeUtils'\nimport { FileHandle } from './FileHandle'\nimport {\n  GOOGLE_CLOUD_FILE_HANDLE_CONCRETE_TYPE,\n  GOOGLE_CLOUD_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n} from './GoogleCloudFileHandle'\nimport {\n  S3_FILE_HANDLE_CONCRETE_TYPE,\n  S3_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n} from './S3FileHandle'\n\n/*\n  https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/file/CloudProviderFileHandleInterface.html\n  Defines the common fields of FileHandles that are uploaded to cloud providers such as AWS S3 and Google Cloud Storage.\n */\nexport type CLOUD_PROVIDER_FILE_HANDLE_INTERFACE_CONCRETE_TYPE =\n  | S3_FILE_HANDLE_CONCRETE_TYPE\n  | GOOGLE_CLOUD_FILE_HANDLE_CONCRETE_TYPE\n\nexport interface CloudProviderFileHandleInterface extends FileHandle {\n  readonly concreteType: CLOUD_PROVIDER_FILE_HANDLE_INTERFACE_CONCRETE_TYPE\n  readonly bucketName: string\n  readonly key: string\n  readonly previewId?: string\n  readonly isPreview: boolean\n}\n\nexport const implementsCloudProviderFileHandleInterface =\n  isTypeViaConcreteTypeFactory<CloudProviderFileHandleInterface>(\n    S3_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n    GOOGLE_CLOUD_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n  )\n","import { isTypeViaConcreteTypeFactory } from '../../functions/TypeUtils'\nimport { ExternalFileHandleInterface } from './ExternalFileHandleInterface'\n\nexport const EXTERNAL_FILE_HANDLE_CONCRETE_TYPE_VALUE =\n  'org.sagebionetworks.repo.model.file.ExternalFileHandle'\nexport type EXTERNAL_FILE_HANDLE_CONCRETE_TYPE =\n  typeof EXTERNAL_FILE_HANDLE_CONCRETE_TYPE_VALUE\n\n/**\n * An ExternalFileHandle represents a file that is not stored in Synapse. Instead, ExternalFileHandles reside somewhere accessible via a URL. Synapse will attempt to generate a preview for any external URL that can be publicly read.\n *\n * https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/file/ExternalFileHandle.html\n */\nexport interface ExternalFileHandle extends ExternalFileHandleInterface {\n  /** The external URL of this file. */\n  readonly externalURL: string\n  readonly concreteType: EXTERNAL_FILE_HANDLE_CONCRETE_TYPE\n}\n\nexport const isExternalFileHandle =\n  isTypeViaConcreteTypeFactory<ExternalFileHandle>(\n    EXTERNAL_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n  )\n","import { ExternalFileHandleInterface } from './ExternalFileHandleInterface'\n\nexport const EXTERNAL_OBJECT_STORE_FILE_HANDLE_CONCRETE_TYPE_VALUE =\n  'org.sagebionetworks.repo.model.file.ExternalObjectStoreFileHandle'\nexport type EXTERNAL_OBJECT_STORE_FILE_HANDLE_CONCRETE_TYPE =\n  typeof EXTERNAL_OBJECT_STORE_FILE_HANDLE_CONCRETE_TYPE_VALUE\n\n/**\n * Represents a file stored in an S3 Bucket to which Synapse cannot access. Together with ExternalObjectStorageLocationSetting, this object provides the information the client requires to access the S3 file.\n *\n * https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/file/ExternalObjectStoreFileHandle.html\n */\nexport interface ExternalObjectStoreFileHandle\n  extends ExternalFileHandleInterface {\n  readonly concreteType: EXTERNAL_OBJECT_STORE_FILE_HANDLE_CONCRETE_TYPE\n  /** endpoint URL of the S3 service. Do NOT set this value when creating a ExternalObjectStoreFileHandle since it will be overwritten with the value defined in the ExternalObjectStorageLocationSetting it references. */\n  readonly endpointUrl: string\n  /** the bucket to use. Do NOT set this value when creating a ExternalObjectStoreFileHandle since it will be it will be overwritten with the value defined in the ExternalObjectStorageLocationSetting it references. */\n  readonly bucket: string\n  /** The unique S3 key for this object */\n  readonly fileKey: string\n}\n","import { ExternalFileHandleInterface } from './ExternalFileHandleInterface'\n\nexport const PROXY_FILE_HANDLE_CONCRETE_TYPE_VALUE =\n  'org.sagebionetworks.repo.model.file.ProxyFileHandle'\nexport type PROXY_FILE_HANDLE_CONCRETE_TYPE =\n  typeof PROXY_FILE_HANDLE_CONCRETE_TYPE_VALUE\n\n/**\n * Reference to a file that accessible via a proxy server. Each ProxyFileHandle must reference a ProxyStorageLocationSettings that defines how the files are accessed.\n *\n * https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/file/ProxyFileHandle.html\n */\nexport interface ProxyFileHandle extends ExternalFileHandleInterface {\n  /** The relative path of this file within the proxy. */\n  readonly filePath: string\n  readonly concreteType: PROXY_FILE_HANDLE_CONCRETE_TYPE\n}\n","import { isTypeViaConcreteTypeFactory } from '../../functions/TypeUtils'\nimport {\n  EXTERNAL_FILE_HANDLE_CONCRETE_TYPE,\n  EXTERNAL_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n} from './ExternalFileHandle'\nimport {\n  EXTERNAL_OBJECT_STORE_FILE_HANDLE_CONCRETE_TYPE,\n  EXTERNAL_OBJECT_STORE_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n} from './ExternalObjectStoreFileHandle'\nimport { FileHandle } from './FileHandle'\nimport {\n  PROXY_FILE_HANDLE_CONCRETE_TYPE,\n  PROXY_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n} from './ProxyFileHandle'\n\nexport type EXTERNAL_FILE_HANDLE_INTERFACE_CONCRETE_TYPE =\n  | PROXY_FILE_HANDLE_CONCRETE_TYPE\n  | EXTERNAL_OBJECT_STORE_FILE_HANDLE_CONCRETE_TYPE\n  | EXTERNAL_FILE_HANDLE_CONCRETE_TYPE\n\n/* \n  Defines FileHandles for files that are stored externally and can not be controlled by Synapse. \n  All file access authentication and download/upload/delete operations are delegated the client.\n*/\nexport interface ExternalFileHandleInterface extends FileHandle {\n  readonly concreteType: EXTERNAL_FILE_HANDLE_INTERFACE_CONCRETE_TYPE\n}\n\nexport const implementsExternalFileHandleInterface =\n  isTypeViaConcreteTypeFactory<ExternalFileHandleInterface>(\n    PROXY_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n    EXTERNAL_OBJECT_STORE_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n    EXTERNAL_FILE_HANDLE_CONCRETE_TYPE_VALUE,\n  )\n","import { isTypeViaConcreteTypeFactory } from '../../functions/TypeUtils'\n\nconst FACET_COLUMN_VALUES_REQUEST_CONCRETE_TYPE_VALUE =\n  'org.sagebionetworks.repo.model.table.FacetColumnValuesRequest'\ntype FACET_COLUMN_VALUES_REQUEST_CONCRETE_TYPE =\n  typeof FACET_COLUMN_VALUES_REQUEST_CONCRETE_TYPE_VALUE\n\n// https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/table/FacetColumnValuesRequest.html\nexport type FacetColumnValuesRequest = {\n  concreteType: FACET_COLUMN_VALUES_REQUEST_CONCRETE_TYPE\n  columnName: string // The name of the faceted column\n  facetValues: string[] // The set of facet values that were selected\n}\n\nconst FACET_COLUMN_RANGE_REQUEST_CONCRETE_TYPE_VALUE =\n  'org.sagebionetworks.repo.model.table.FacetColumnRangeRequest'\ntype FACET_COLUMN_RANGE_REQUEST_CONCRETE_TYPE =\n  typeof FACET_COLUMN_RANGE_REQUEST_CONCRETE_TYPE_VALUE\n\n// https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/table/FacetColumnRangeRequest.html\nexport type FacetColumnRangeRequest = {\n  concreteType: FACET_COLUMN_RANGE_REQUEST_CONCRETE_TYPE\n  columnName: string // The name of the faceted column\n  min?: string\n  max?: string\n}\n\n// https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/table/FacetColumnRequest.html\nexport type FacetColumnRequest =\n  | FacetColumnValuesRequest\n  | FacetColumnRangeRequest\n\nexport const isFacetColumnValuesRequest =\n  isTypeViaConcreteTypeFactory<FacetColumnValuesRequest>(\n    FACET_COLUMN_VALUES_REQUEST_CONCRETE_TYPE_VALUE,\n  )\n\nexport const isFacetColumnRangeRequest =\n  isTypeViaConcreteTypeFactory<FacetColumnRangeRequest>(\n    FACET_COLUMN_RANGE_REQUEST_CONCRETE_TYPE_VALUE,\n  )\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z\"\n}), 'WarningSharp');","import { useInfiniteQuery, UseInfiniteQueryOptions } from 'react-query'\nimport { SynapseClient } from '../../..'\nimport { SynapseClientError } from '../../../SynapseClientError'\nimport { useSynapseContext } from '../../../SynapseContext'\nimport {\n  SubmissionInfoPage,\n  SubmissionInfoPageRequest,\n} from '../../../synapseTypes/SubmissionInfo'\n\nexport function useGetApprovedSubmissionInfoInfinite(\n  accessRequirementId: string,\n  options?: UseInfiniteQueryOptions<\n    SubmissionInfoPage,\n    SynapseClientError,\n    SubmissionInfoPage\n  >,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n  const request: SubmissionInfoPageRequest = {\n    accessRequirementId,\n  }\n  return useInfiniteQuery<SubmissionInfoPage, SynapseClientError>(\n    keyFactory.getApprovedSubmissionInfoQueryKey(request),\n    async context => {\n      return await SynapseClient.getApprovedSubmissionInfo(\n        { ...request, nextPageToken: context.pageParam },\n        accessToken,\n      )\n    },\n    {\n      ...options,\n      getNextPageParam: page => page.nextPageToken,\n    },\n  )\n}\n","import { useQuery, UseQueryOptions } from 'react-query'\nimport { SynapseClient } from '../../..'\nimport { SynapseClientError } from '../../../SynapseClientError'\nimport { ALL_ENTITY_BUNDLE_FIELDS } from '../../../SynapseConstants'\nimport { useSynapseContext } from '../../../SynapseContext'\nimport { EntityBundle, EntityBundleRequest } from '../../../synapseTypes'\n\nexport function useGetEntityBundle<\n  T extends EntityBundleRequest = typeof ALL_ENTITY_BUNDLE_FIELDS,\n>(\n  entityId: string,\n  version?: number,\n  bundleRequest: T = ALL_ENTITY_BUNDLE_FIELDS as T,\n  options?: UseQueryOptions<EntityBundle<T>, SynapseClientError>,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n  return useQuery<EntityBundle<T>, SynapseClientError>(\n    keyFactory.getEntityBundleQueryKey(entityId, version, bundleRequest),\n    () =>\n      SynapseClient.getEntityBundleV2<T>(\n        entityId,\n        bundleRequest,\n        version,\n        accessToken,\n      ),\n    options,\n  )\n}\n\nexport default useGetEntityBundle\n","import {\n  QueryFunctionContext,\n  QueryKey,\n  useInfiniteQuery,\n  UseInfiniteQueryOptions,\n  useQuery,\n  UseQueryOptions,\n} from 'react-query'\nimport { SynapseClient } from '../../..'\nimport { SynapseClientError } from '../../../SynapseClientError'\nimport { useSynapseContext } from '../../../SynapseContext'\nimport {\n  EntityChildrenRequest,\n  EntityChildrenResponse,\n} from '../../../synapseTypes'\n\nexport function useGetEntityChildren(\n  request: EntityChildrenRequest,\n  options?: UseQueryOptions<\n    EntityChildrenResponse,\n    SynapseClientError,\n    EntityChildrenResponse\n  >,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n  return useQuery<EntityChildrenResponse, SynapseClientError>(\n    keyFactory.getEntityChildrenQueryKey(request, false),\n    () => SynapseClient.getEntityChildren(request, accessToken),\n    options,\n  )\n}\n\nexport function useGetEntityChildrenInfinite(\n  request: EntityChildrenRequest,\n  options?: UseInfiniteQueryOptions<\n    EntityChildrenResponse,\n    SynapseClientError,\n    EntityChildrenResponse\n  >,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n  return useInfiniteQuery<EntityChildrenResponse, SynapseClientError>(\n    keyFactory.getEntityChildrenQueryKey(request, true),\n    async (context: QueryFunctionContext<QueryKey, string>) => {\n      return await SynapseClient.getEntityChildren(\n        {\n          ...request,\n          includeTotalChildCount: context.pageParam\n            ? false\n            : request.includeTotalChildCount, // only ask for the count when requesting the first page\n          nextPageToken: context.pageParam,\n        },\n        accessToken,\n        context.signal,\n      )\n    },\n    {\n      ...options,\n      getNextPageParam: page => page.nextPageToken,\n    },\n  )\n}\n","import { useQuery, UseQueryOptions } from 'react-query'\nimport { SynapseClient } from '../../..'\nimport { SynapseClientError } from '../../../SynapseClientError'\nimport { useSynapseContext } from '../../../SynapseContext'\nimport {\n  EntityHeader,\n  PaginatedResults,\n  ReferenceList,\n} from '../../../synapseTypes'\n\nexport function useGetEntityHeaders(\n  references: ReferenceList,\n  options?: UseQueryOptions<PaginatedResults<EntityHeader>, SynapseClientError>,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n\n  return useQuery<PaginatedResults<EntityHeader>, SynapseClientError>(\n    keyFactory.getEntityHeadersQueryKey(references),\n    () => SynapseClient.getEntityHeaders(references, accessToken),\n    options,\n  )\n}\n\nexport function useGetEntityHeader(\n  entityId: string,\n  options?: UseQueryOptions<EntityHeader, SynapseClientError>,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n\n  return useQuery<EntityHeader, SynapseClientError>(\n    keyFactory.getEntityHeaderQueryKey(entityId),\n    () => SynapseClient.getEntityHeader(entityId, accessToken),\n    options,\n  )\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');\nexports.default = _default;","import * as React from 'react';\n\n/**\n * Takes an argument and if it's an array, returns the first item in the array,\n * otherwise returns the argument. Used for Preact compatibility.\n */\nexport var unwrapArray = function unwrapArray(arg) {\n  return Array.isArray(arg) ? arg[0] : arg;\n};\n/**\n * Takes a maybe-undefined function and arbitrary args and invokes the function\n * only if it is defined.\n */\n\nexport var safeInvoke = function safeInvoke(fn) {\n  if (typeof fn === 'function') {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return fn.apply(void 0, args);\n  }\n};\n/**\n * Sets a ref using either a ref callback or a ref object\n */\n\nexport var setRef = function setRef(ref, node) {\n  // if its a function call it\n  if (typeof ref === 'function') {\n    return safeInvoke(ref, node);\n  } // otherwise we should treat it as a ref object\n  else if (ref != null) {\n      ref.current = node;\n    }\n};\n/**\n * Simple ponyfill for Object.fromEntries\n */\n\nexport var fromEntries = function fromEntries(entries) {\n  return entries.reduce(function (acc, _ref) {\n    var key = _ref[0],\n        value = _ref[1];\n    acc[key] = value;\n    return acc;\n  }, {});\n};\n/**\n * Small wrapper around `useLayoutEffect` to get rid of the warning on SSR envs\n */\n\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' && window.document && window.document.createElement ? React.useLayoutEffect : React.useEffect;","export var top = 'top';\nexport var bottom = 'bottom';\nexport var right = 'right';\nexport var left = 'left';\nexport var auto = 'auto';\nexport var basePlacements = [top, bottom, right, left];\nexport var start = 'start';\nexport var end = 'end';\nexport var clippingParents = 'clippingParents';\nexport var viewport = 'viewport';\nexport var popper = 'popper';\nexport var reference = 'reference';\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nexport var beforeRead = 'beforeRead';\nexport var read = 'read';\nexport var afterRead = 'afterRead'; // pure-logic modifiers\n\nexport var beforeMain = 'beforeMain';\nexport var main = 'main';\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nexport var beforeWrite = 'beforeWrite';\nexport var write = 'write';\nexport var afterWrite = 'afterWrite';\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];","export default function getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}","export default function getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}","import getWindow from \"./getWindow.js\";\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nfunction isShadowRoot(node) {\n  // IE 11 has no ShadowRoot\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n\n  var OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\n\nexport { isElement, isHTMLElement, isShadowRoot };","import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe[cannot-write]\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n  state.styles = initialStyles;\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      }\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};","import { auto } from \"../enums.js\";\nexport default function getBasePlacement(placement) {\n  return placement.split('-')[0];\n}","export var max = Math.max;\nexport var min = Math.min;\nexport var round = Math.round;","export default function getUAString() {\n  var uaData = navigator.userAgentData;\n\n  if (uaData != null && uaData.brands) {\n    return uaData.brands.map(function (item) {\n      return item.brand + \"/\" + item.version;\n    }).join(' ');\n  }\n\n  return navigator.userAgent;\n}","import getUAString from \"../utils/userAgent.js\";\nexport default function isLayoutViewport() {\n  return !/^((?!chrome|android).)*safari/i.test(getUAString());\n}","import { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport { round } from \"../utils/math.js\";\nimport getWindow from \"./getWindow.js\";\nimport isLayoutViewport from \"./isLayoutViewport.js\";\nexport default function getBoundingClientRect(element, includeScale, isFixedStrategy) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n\n  var clientRect = element.getBoundingClientRect();\n  var scaleX = 1;\n  var scaleY = 1;\n\n  if (includeScale && isHTMLElement(element)) {\n    scaleX = element.offsetWidth > 0 ? round(clientRect.width) / element.offsetWidth || 1 : 1;\n    scaleY = element.offsetHeight > 0 ? round(clientRect.height) / element.offsetHeight || 1 : 1;\n  }\n\n  var _ref = isElement(element) ? getWindow(element) : window,\n      visualViewport = _ref.visualViewport;\n\n  var addVisualOffsets = !isLayoutViewport() && isFixedStrategy;\n  var x = (clientRect.left + (addVisualOffsets && visualViewport ? visualViewport.offsetLeft : 0)) / scaleX;\n  var y = (clientRect.top + (addVisualOffsets && visualViewport ? visualViewport.offsetTop : 0)) / scaleY;\n  var width = clientRect.width / scaleX;\n  var height = clientRect.height / scaleY;\n  return {\n    width: width,\n    height: height,\n    top: y,\n    right: x + width,\n    bottom: y + height,\n    left: x,\n    x: x,\n    y: y\n  };\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\"; // Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\n\nexport default function getLayoutRect(element) {\n  var clientRect = getBoundingClientRect(element); // Use the clientRect sizes if it's not been transformed.\n  // Fixes https://github.com/popperjs/popper-core/issues/1223\n\n  var width = element.offsetWidth;\n  var height = element.offsetHeight;\n\n  if (Math.abs(clientRect.width - width) <= 1) {\n    width = clientRect.width;\n  }\n\n  if (Math.abs(clientRect.height - height) <= 1) {\n    height = clientRect.height;\n  }\n\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: width,\n    height: height\n  };\n}","import { isShadowRoot } from \"./instanceOf.js\";\nexport default function contains(parent, child) {\n  var rootNode = child.getRootNode && child.getRootNode(); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && isShadowRoot(rootNode)) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe[prop-missing]: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}","import getWindow from \"./getWindow.js\";\nexport default function getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}","import getNodeName from \"./getNodeName.js\";\nexport default function isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}","import { isElement } from \"./instanceOf.js\";\nexport default function getDocumentElement(element) {\n  // $FlowFixMe[incompatible-return]: assume body is always available\n  return ((isElement(element) ? element.ownerDocument : // $FlowFixMe[prop-missing]\n  element.document) || window.document).documentElement;\n}","import getNodeName from \"./getNodeName.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport { isShadowRoot } from \"./instanceOf.js\";\nexport default function getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // $FlowFixMe[incompatible-return]\n    // $FlowFixMe[prop-missing]\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || ( // DOM Element detected\n    isShadowRoot(element) ? element.host : null) || // ShadowRoot detected\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}","import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement, isShadowRoot } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getUAString from \"../utils/userAgent.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var isFirefox = /firefox/i.test(getUAString());\n  var isIE = /Trident/i.test(getUAString());\n\n  if (isIE && isHTMLElement(element)) {\n    // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport\n    var elementCss = getComputedStyle(element);\n\n    if (elementCss.position === 'fixed') {\n      return null;\n    }\n  }\n\n  var currentNode = getParentNode(element);\n\n  if (isShadowRoot(currentNode)) {\n    currentNode = currentNode.host;\n  }\n\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static')) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}","export default function getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}","import { max as mathMax, min as mathMin } from \"./math.js\";\nexport function within(min, value, max) {\n  return mathMax(min, mathMin(value, max));\n}\nexport function withinMaxClamp(min, value, max) {\n  var v = within(min, value, max);\n  return v > max ? max : v;\n}","export default function getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}","import getFreshSideObject from \"./getFreshSideObject.js\";\nexport default function mergePaddingObject(paddingObject) {\n  return Object.assign({}, getFreshSideObject(), paddingObject);\n}","export default function expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport { within } from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar toPaddingObject = function toPaddingObject(padding, state) {\n  padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : padding;\n  return mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n};\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name,\n      options = _ref.options;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = toPaddingObject(options.padding, state);\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!isHTMLElement(arrowElement)) {\n      console.error(['Popper: \"arrow\" element must be an HTMLElement (not an SVGElement).', 'To use an SVG arrow, wrap it in an HTMLElement that will be used as', 'the arrow.'].join(' '));\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: \"arrow\" modifier\\'s `element` must be a child of the popper', 'element.'].join(' '));\n    }\n\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};","export default function getVariation(placement) {\n  return placement.split('-')[1];\n}","import { top, left, right, bottom, end } from \"../enums.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getWindow from \"../dom-utils/getWindow.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport { round } from \"../utils/math.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsetsByDPR(_ref) {\n  var x = _ref.x,\n      y = _ref.y;\n  var win = window;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: round(x * dpr) / dpr || 0,\n    y: round(y * dpr) / dpr || 0\n  };\n}\n\nexport function mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      variation = _ref2.variation,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive,\n      roundOffsets = _ref2.roundOffsets,\n      isFixed = _ref2.isFixed;\n  var _offsets$x = offsets.x,\n      x = _offsets$x === void 0 ? 0 : _offsets$x,\n      _offsets$y = offsets.y,\n      y = _offsets$y === void 0 ? 0 : _offsets$y;\n\n  var _ref3 = typeof roundOffsets === 'function' ? roundOffsets({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref3.x;\n  y = _ref3.y;\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n    var heightProp = 'clientHeight';\n    var widthProp = 'clientWidth';\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n\n      if (getComputedStyle(offsetParent).position !== 'static' && position === 'absolute') {\n        heightProp = 'scrollHeight';\n        widthProp = 'scrollWidth';\n      }\n    } // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n\n    offsetParent = offsetParent;\n\n    if (placement === top || (placement === left || placement === right) && variation === end) {\n      sideY = bottom;\n      var offsetY = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.height : // $FlowFixMe[prop-missing]\n      offsetParent[heightProp];\n      y -= offsetY - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left || (placement === top || placement === bottom) && variation === end) {\n      sideX = right;\n      var offsetX = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.width : // $FlowFixMe[prop-missing]\n      offsetParent[widthProp];\n      x -= offsetX - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  var _ref4 = roundOffsets === true ? roundOffsetsByDPR({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref4.x;\n  y = _ref4.y;\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref5) {\n  var state = _ref5.state,\n      options = _ref5.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive,\n      _options$roundOffsets = options.roundOffsets,\n      roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var transitionProperty = getComputedStyle(state.elements.popper).transitionProperty || '';\n\n    if (adaptive && ['transform', 'top', 'right', 'bottom', 'left'].some(function (property) {\n      return transitionProperty.indexOf(property) >= 0;\n    })) {\n      console.warn(['Popper: Detected CSS transitions on at least one of the following', 'CSS properties: \"transform\", \"top\", \"right\", \"bottom\", \"left\".', '\\n\\n', 'Disable the \"computeStyles\" modifier\\'s `adaptive` option to allow', 'for smooth transitions, or remove these properties from the CSS', 'transition declaration on the popper element if only transitioning', 'opacity or background-color for example.', '\\n\\n', 'We recommend using the popper element as a wrapper around an inner', 'element that can have any CSS property transitioned for animations.'].join(' '));\n    }\n  }\n\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    variation: getVariation(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration,\n    isFixed: state.options.strategy === 'fixed'\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};","import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};","var hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nexport default function getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}","var hash = {\n  start: 'end',\n  end: 'start'\n};\nexport default function getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}","import getWindow from \"./getWindow.js\";\nexport default function getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}","import getWindow from \"./getWindow.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport isLayoutViewport from \"./isLayoutViewport.js\";\nexport default function getViewportRect(element, strategy) {\n  var win = getWindow(element);\n  var html = getDocumentElement(element);\n  var visualViewport = win.visualViewport;\n  var width = html.clientWidth;\n  var height = html.clientHeight;\n  var x = 0;\n  var y = 0;\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    var layoutViewport = isLayoutViewport();\n\n    if (layoutViewport || !layoutViewport && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x + getWindowScrollBarX(element),\n    y: y\n  };\n}","import getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nimport { max } from \"../utils/math.js\"; // Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nexport default function getDocumentRect(element) {\n  var _element$ownerDocumen;\n\n  var html = getDocumentElement(element);\n  var winScroll = getWindowScroll(element);\n  var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  var y = -winScroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n}","import getComputedStyle from \"./getComputedStyle.js\";\nexport default function isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}","import getParentNode from \"./getParentNode.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nexport default function getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe[incompatible-return]: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}","import getScrollParent from \"./getScrollParent.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getWindow from \"./getWindow.js\";\nimport isScrollParent from \"./isScrollParent.js\";\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the\nreference element's position.\n*/\n\nexport default function listScrollParents(element, list) {\n  var _element$ownerDocumen;\n\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}","export default function rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}","import { viewport } from \"../enums.js\";\nimport getViewportRect from \"./getViewportRect.js\";\nimport getDocumentRect from \"./getDocumentRect.js\";\nimport listScrollParents from \"./listScrollParents.js\";\nimport getOffsetParent from \"./getOffsetParent.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport contains from \"./contains.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\nimport { max, min } from \"../utils/math.js\";\n\nfunction getInnerBoundingClientRect(element, strategy) {\n  var rect = getBoundingClientRect(element, false, strategy === 'fixed');\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\n\nfunction getClientRectFromMixedType(element, clippingParent, strategy) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element, strategy)) : isElement(clippingParent) ? getInnerBoundingClientRect(clippingParent, strategy) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(getParentNode(element));\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nexport default function getClippingRect(element, boundary, rootBoundary, strategy) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent, strategy));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}","import getBasePlacement from \"./getBasePlacement.js\";\nimport getVariation from \"./getVariation.js\";\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\nexport default function computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}","import getClippingRect from \"../dom-utils/getClippingRect.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\nimport computeOffsets from \"./computeOffsets.js\";\nimport rectToClientRect from \"./rectToClientRect.js\";\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\nimport { isElement } from \"../dom-utils/instanceOf.js\";\nimport mergePaddingObject from \"./mergePaddingObject.js\";\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport default function detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$strategy = _options.strategy,\n      strategy = _options$strategy === void 0 ? state.strategy : _options$strategy,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary, strategy);\n  var referenceClientRect = getBoundingClientRect(state.elements.reference);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}","import getVariation from \"./getVariation.js\";\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\nimport detectOverflow from \"./detectOverflow.js\";\nimport getBasePlacement from \"./getBasePlacement.js\";\nexport default function computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements;\n  var allowedPlacements = placements.filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  });\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: The `allowedAutoPlacements` option did not allow any', 'placements. Ensure the `placement` option matches the variation', 'of the allowed placements.', 'For example, \"auto\" cannot be used to allow \"bottom-start\".', 'Use \"auto-start\" instead.'].join(' '));\n    }\n  } // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...\n\n\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}","import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases  research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};","import { top, bottom, left, right } from \"../enums.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { top, left, right, placements } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};","import computeOffsets from \"../utils/computeOffsets.js\";\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};","export default function getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}","import { top, left, right, bottom, start } from \"../enums.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport getAltAxis from \"../utils/getAltAxis.js\";\nimport { within, withinMaxClamp } from \"../utils/within.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\nimport { min as mathMin, max as mathMax } from \"../utils/math.js\";\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var normalizedTetherOffsetValue = typeof tetherOffsetValue === 'number' ? {\n    mainAxis: tetherOffsetValue,\n    altAxis: tetherOffsetValue\n  } : Object.assign({\n    mainAxis: 0,\n    altAxis: 0\n  }, tetherOffsetValue);\n  var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    var _offsetModifierState$;\n\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = offset + overflow[mainSide];\n    var max = offset - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? void 0 : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0;\n    var tetherMin = offset + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = offset + maxOffset - offsetModifierValue;\n    var preventedOffset = within(tether ? mathMin(min, tetherMin) : min, offset, tether ? mathMax(max, tetherMax) : max);\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    var _offsetModifierState$2;\n\n    var _mainSide = mainAxis === 'x' ? top : left;\n\n    var _altSide = mainAxis === 'x' ? bottom : right;\n\n    var _offset = popperOffsets[altAxis];\n\n    var _len = altAxis === 'y' ? 'height' : 'width';\n\n    var _min = _offset + overflow[_mainSide];\n\n    var _max = _offset - overflow[_altSide];\n\n    var isOriginSide = [top, left].indexOf(basePlacement) !== -1;\n\n    var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? void 0 : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0;\n\n    var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;\n\n    var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;\n\n    var _preventedOffset = tether && isOriginSide ? withinMaxClamp(_tetherMin, _offset, _tetherMax) : within(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);\n\n    popperOffsets[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};","export default function getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}","import getWindowScroll from \"./getWindowScroll.js\";\nimport getWindow from \"./getWindow.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\nexport default function getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getNodeScroll from \"./getNodeScroll.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport { round } from \"../utils/math.js\";\n\nfunction isElementScaled(element) {\n  var rect = element.getBoundingClientRect();\n  var scaleX = round(rect.width) / element.offsetWidth || 1;\n  var scaleY = round(rect.height) / element.offsetHeight || 1;\n  return scaleX !== 1 || scaleY !== 1;\n} // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\n\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\n  var offsetParentIsScaled = isHTMLElement(offsetParent) && isElementScaled(offsetParent);\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement, offsetParentIsScaled, isFixed);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent, true);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}","import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}","export default function debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}","export default function mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign({}, existing, current, {\n      options: Object.assign({}, existing.options, current.options),\n      data: Object.assign({}, existing.data, current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}","import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\nimport getComputedStyle from \"./dom-utils/getComputedStyle.js\";\nimport orderModifiers from \"./utils/orderModifiers.js\";\nimport debounce from \"./utils/debounce.js\";\nimport validateModifiers from \"./utils/validateModifiers.js\";\nimport uniqueBy from \"./utils/uniqueBy.js\";\nimport getBasePlacement from \"./utils/getBasePlacement.js\";\nimport mergeByName from \"./utils/mergeByName.js\";\nimport detectOverflow from \"./utils/detectOverflow.js\";\nimport { isElement } from \"./dom-utils/instanceOf.js\";\nimport { auto } from \"./enums.js\";\nvar INVALID_ELEMENT_ERROR = 'Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.';\nvar INFINITE_LOOP_ERROR = 'Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.';\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nexport function popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(setOptionsAction) {\n        var options = typeof setOptionsAction === 'function' ? setOptionsAction(state.options) : setOptionsAction;\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, state.options, options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        }); // Validate the provided modifiers so that the consumer will get warned\n        // if one of the modifiers is invalid for any reason\n\n        if (process.env.NODE_ENV !== \"production\") {\n          var modifiers = uniqueBy([].concat(orderedModifiers, state.options.modifiers), function (_ref) {\n            var name = _ref.name;\n            return name;\n          });\n          validateModifiers(modifiers);\n\n          if (getBasePlacement(state.options.placement) === auto) {\n            var flipModifier = state.orderedModifiers.find(function (_ref2) {\n              var name = _ref2.name;\n              return name === 'flip';\n            });\n\n            if (!flipModifier) {\n              console.error(['Popper: \"auto\" placements require the \"flip\" modifier be', 'present and enabled to work.'].join(' '));\n            }\n          }\n\n          var _getComputedStyle = getComputedStyle(popper),\n              marginTop = _getComputedStyle.marginTop,\n              marginRight = _getComputedStyle.marginRight,\n              marginBottom = _getComputedStyle.marginBottom,\n              marginLeft = _getComputedStyle.marginLeft; // We no longer take into account `margins` on the popper, and it can\n          // cause bugs with positioning, so we'll warn the consumer\n\n\n          if ([marginTop, marginRight, marginBottom, marginLeft].some(function (margin) {\n            return parseFloat(margin);\n          })) {\n            console.warn(['Popper: CSS \"margin\" styles cannot be used to apply padding', 'between the popper and its reference element or boundary.', 'To replicate margin, use the `offset` modifier, as well as', 'the `padding` option in the `preventOverflow` and `flip`', 'modifiers.'].join(' '));\n          }\n        }\n\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update  it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            console.error(INVALID_ELEMENT_ERROR);\n          }\n\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n        var __debug_loops__ = 0;\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (process.env.NODE_ENV !== \"production\") {\n            __debug_loops__ += 1;\n\n            if (__debug_loops__ > 100) {\n              console.error(INFINITE_LOOP_ERROR);\n              break;\n            }\n          }\n\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update  it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(INVALID_ELEMENT_ERROR);\n      }\n\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref3) {\n        var name = _ref3.name,\n            _ref3$options = _ref3.options,\n            options = _ref3$options === void 0 ? {} : _ref3$options,\n            effect = _ref3.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nexport var createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules\n\nexport { detectOverflow };","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow }; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport * from \"./modifiers/index.js\";","/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\n\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function' && !!ArrayBuffer.isView;\n\n// Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n    var it;\n    if (hasMap && (a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      return true;\n    }\n\n    if (hasSet && (a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      return true;\n    }\n    // END: Modifications\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    // END: fast-deep-equal\n\n    // START: react-fast-compare\n    // custom handling for DOM elements\n    if (hasElementType && a instanceof Element) return false;\n\n    // custom handling for React/Preact\n    for (i = length; i-- !== 0;) {\n      if ((keys[i] === '_owner' || keys[i] === '__v' || keys[i] === '__o') && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner\n        // Preact-specific: avoid traversing Preact elements' __v and __o\n        //    __v = $_original / $_vnode\n        //    __o = $_owner\n        // These properties contain circular references and are not needed when\n        // comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of elements\n\n        continue;\n      }\n\n      // all other properties should be traversed as usual\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    }\n    // END: react-fast-compare\n\n    // START: fast-deep-equal\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n// end fast-deep-equal\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if (((error.message || '').match(/stack|recursion/i))) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { createPopper as defaultCreatePopper } from '@popperjs/core';\nimport isEqual from 'react-fast-compare';\nimport { fromEntries, useIsomorphicLayoutEffect } from './utils';\nvar EMPTY_MODIFIERS = [];\nexport var usePopper = function usePopper(referenceElement, popperElement, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var prevOptions = React.useRef(null);\n  var optionsWithDefaults = {\n    onFirstUpdate: options.onFirstUpdate,\n    placement: options.placement || 'bottom',\n    strategy: options.strategy || 'absolute',\n    modifiers: options.modifiers || EMPTY_MODIFIERS\n  };\n\n  var _React$useState = React.useState({\n    styles: {\n      popper: {\n        position: optionsWithDefaults.strategy,\n        left: '0',\n        top: '0'\n      },\n      arrow: {\n        position: 'absolute'\n      }\n    },\n    attributes: {}\n  }),\n      state = _React$useState[0],\n      setState = _React$useState[1];\n\n  var updateStateModifier = React.useMemo(function () {\n    return {\n      name: 'updateState',\n      enabled: true,\n      phase: 'write',\n      fn: function fn(_ref) {\n        var state = _ref.state;\n        var elements = Object.keys(state.elements);\n        ReactDOM.flushSync(function () {\n          setState({\n            styles: fromEntries(elements.map(function (element) {\n              return [element, state.styles[element] || {}];\n            })),\n            attributes: fromEntries(elements.map(function (element) {\n              return [element, state.attributes[element]];\n            }))\n          });\n        });\n      },\n      requires: ['computeStyles']\n    };\n  }, []);\n  var popperOptions = React.useMemo(function () {\n    var newOptions = {\n      onFirstUpdate: optionsWithDefaults.onFirstUpdate,\n      placement: optionsWithDefaults.placement,\n      strategy: optionsWithDefaults.strategy,\n      modifiers: [].concat(optionsWithDefaults.modifiers, [updateStateModifier, {\n        name: 'applyStyles',\n        enabled: false\n      }])\n    };\n\n    if (isEqual(prevOptions.current, newOptions)) {\n      return prevOptions.current || newOptions;\n    } else {\n      prevOptions.current = newOptions;\n      return newOptions;\n    }\n  }, [optionsWithDefaults.onFirstUpdate, optionsWithDefaults.placement, optionsWithDefaults.strategy, optionsWithDefaults.modifiers, updateStateModifier]);\n  var popperInstanceRef = React.useRef();\n  useIsomorphicLayoutEffect(function () {\n    if (popperInstanceRef.current) {\n      popperInstanceRef.current.setOptions(popperOptions);\n    }\n  }, [popperOptions]);\n  useIsomorphicLayoutEffect(function () {\n    if (referenceElement == null || popperElement == null) {\n      return;\n    }\n\n    var createPopper = options.createPopper || defaultCreatePopper;\n    var popperInstance = createPopper(referenceElement, popperElement, popperOptions);\n    popperInstanceRef.current = popperInstance;\n    return function () {\n      popperInstance.destroy();\n      popperInstanceRef.current = null;\n    };\n  }, [referenceElement, popperElement, options.createPopper]);\n  return {\n    state: popperInstanceRef.current ? popperInstanceRef.current.state : null,\n    styles: state.styles,\n    attributes: state.attributes,\n    update: popperInstanceRef.current ? popperInstanceRef.current.update : null,\n    forceUpdate: popperInstanceRef.current ? popperInstanceRef.current.forceUpdate : null\n  };\n};","/**\n * cssfilter\n *\n * @author <leizongmin@gmail.com>\n */\n\nfunction getDefaultWhiteList () {\n  // \n  // true: \n  // Function: function (val) { } true\n  // RegExp: regexp.test(val) true\n  // \n  var whiteList = {};\n\n  whiteList['align-content'] = false; // default: auto\n  whiteList['align-items'] = false; // default: auto\n  whiteList['align-self'] = false; // default: auto\n  whiteList['alignment-adjust'] = false; // default: auto\n  whiteList['alignment-baseline'] = false; // default: baseline\n  whiteList['all'] = false; // default: depending on individual properties\n  whiteList['anchor-point'] = false; // default: none\n  whiteList['animation'] = false; // default: depending on individual properties\n  whiteList['animation-delay'] = false; // default: 0\n  whiteList['animation-direction'] = false; // default: normal\n  whiteList['animation-duration'] = false; // default: 0\n  whiteList['animation-fill-mode'] = false; // default: none\n  whiteList['animation-iteration-count'] = false; // default: 1\n  whiteList['animation-name'] = false; // default: none\n  whiteList['animation-play-state'] = false; // default: running\n  whiteList['animation-timing-function'] = false; // default: ease\n  whiteList['azimuth'] = false; // default: center\n  whiteList['backface-visibility'] = false; // default: visible\n  whiteList['background'] = true; // default: depending on individual properties\n  whiteList['background-attachment'] = true; // default: scroll\n  whiteList['background-clip'] = true; // default: border-box\n  whiteList['background-color'] = true; // default: transparent\n  whiteList['background-image'] = true; // default: none\n  whiteList['background-origin'] = true; // default: padding-box\n  whiteList['background-position'] = true; // default: 0% 0%\n  whiteList['background-repeat'] = true; // default: repeat\n  whiteList['background-size'] = true; // default: auto\n  whiteList['baseline-shift'] = false; // default: baseline\n  whiteList['binding'] = false; // default: none\n  whiteList['bleed'] = false; // default: 6pt\n  whiteList['bookmark-label'] = false; // default: content()\n  whiteList['bookmark-level'] = false; // default: none\n  whiteList['bookmark-state'] = false; // default: open\n  whiteList['border'] = true; // default: depending on individual properties\n  whiteList['border-bottom'] = true; // default: depending on individual properties\n  whiteList['border-bottom-color'] = true; // default: current color\n  whiteList['border-bottom-left-radius'] = true; // default: 0\n  whiteList['border-bottom-right-radius'] = true; // default: 0\n  whiteList['border-bottom-style'] = true; // default: none\n  whiteList['border-bottom-width'] = true; // default: medium\n  whiteList['border-collapse'] = true; // default: separate\n  whiteList['border-color'] = true; // default: depending on individual properties\n  whiteList['border-image'] = true; // default: none\n  whiteList['border-image-outset'] = true; // default: 0\n  whiteList['border-image-repeat'] = true; // default: stretch\n  whiteList['border-image-slice'] = true; // default: 100%\n  whiteList['border-image-source'] = true; // default: none\n  whiteList['border-image-width'] = true; // default: 1\n  whiteList['border-left'] = true; // default: depending on individual properties\n  whiteList['border-left-color'] = true; // default: current color\n  whiteList['border-left-style'] = true; // default: none\n  whiteList['border-left-width'] = true; // default: medium\n  whiteList['border-radius'] = true; // default: 0\n  whiteList['border-right'] = true; // default: depending on individual properties\n  whiteList['border-right-color'] = true; // default: current color\n  whiteList['border-right-style'] = true; // default: none\n  whiteList['border-right-width'] = true; // default: medium\n  whiteList['border-spacing'] = true; // default: 0\n  whiteList['border-style'] = true; // default: depending on individual properties\n  whiteList['border-top'] = true; // default: depending on individual properties\n  whiteList['border-top-color'] = true; // default: current color\n  whiteList['border-top-left-radius'] = true; // default: 0\n  whiteList['border-top-right-radius'] = true; // default: 0\n  whiteList['border-top-style'] = true; // default: none\n  whiteList['border-top-width'] = true; // default: medium\n  whiteList['border-width'] = true; // default: depending on individual properties\n  whiteList['bottom'] = false; // default: auto\n  whiteList['box-decoration-break'] = true; // default: slice\n  whiteList['box-shadow'] = true; // default: none\n  whiteList['box-sizing'] = true; // default: content-box\n  whiteList['box-snap'] = true; // default: none\n  whiteList['box-suppress'] = true; // default: show\n  whiteList['break-after'] = true; // default: auto\n  whiteList['break-before'] = true; // default: auto\n  whiteList['break-inside'] = true; // default: auto\n  whiteList['caption-side'] = false; // default: top\n  whiteList['chains'] = false; // default: none\n  whiteList['clear'] = true; // default: none\n  whiteList['clip'] = false; // default: auto\n  whiteList['clip-path'] = false; // default: none\n  whiteList['clip-rule'] = false; // default: nonzero\n  whiteList['color'] = true; // default: implementation dependent\n  whiteList['color-interpolation-filters'] = true; // default: auto\n  whiteList['column-count'] = false; // default: auto\n  whiteList['column-fill'] = false; // default: balance\n  whiteList['column-gap'] = false; // default: normal\n  whiteList['column-rule'] = false; // default: depending on individual properties\n  whiteList['column-rule-color'] = false; // default: current color\n  whiteList['column-rule-style'] = false; // default: medium\n  whiteList['column-rule-width'] = false; // default: medium\n  whiteList['column-span'] = false; // default: none\n  whiteList['column-width'] = false; // default: auto\n  whiteList['columns'] = false; // default: depending on individual properties\n  whiteList['contain'] = false; // default: none\n  whiteList['content'] = false; // default: normal\n  whiteList['counter-increment'] = false; // default: none\n  whiteList['counter-reset'] = false; // default: none\n  whiteList['counter-set'] = false; // default: none\n  whiteList['crop'] = false; // default: auto\n  whiteList['cue'] = false; // default: depending on individual properties\n  whiteList['cue-after'] = false; // default: none\n  whiteList['cue-before'] = false; // default: none\n  whiteList['cursor'] = false; // default: auto\n  whiteList['direction'] = false; // default: ltr\n  whiteList['display'] = true; // default: depending on individual properties\n  whiteList['display-inside'] = true; // default: auto\n  whiteList['display-list'] = true; // default: none\n  whiteList['display-outside'] = true; // default: inline-level\n  whiteList['dominant-baseline'] = false; // default: auto\n  whiteList['elevation'] = false; // default: level\n  whiteList['empty-cells'] = false; // default: show\n  whiteList['filter'] = false; // default: none\n  whiteList['flex'] = false; // default: depending on individual properties\n  whiteList['flex-basis'] = false; // default: auto\n  whiteList['flex-direction'] = false; // default: row\n  whiteList['flex-flow'] = false; // default: depending on individual properties\n  whiteList['flex-grow'] = false; // default: 0\n  whiteList['flex-shrink'] = false; // default: 1\n  whiteList['flex-wrap'] = false; // default: nowrap\n  whiteList['float'] = false; // default: none\n  whiteList['float-offset'] = false; // default: 0 0\n  whiteList['flood-color'] = false; // default: black\n  whiteList['flood-opacity'] = false; // default: 1\n  whiteList['flow-from'] = false; // default: none\n  whiteList['flow-into'] = false; // default: none\n  whiteList['font'] = true; // default: depending on individual properties\n  whiteList['font-family'] = true; // default: implementation dependent\n  whiteList['font-feature-settings'] = true; // default: normal\n  whiteList['font-kerning'] = true; // default: auto\n  whiteList['font-language-override'] = true; // default: normal\n  whiteList['font-size'] = true; // default: medium\n  whiteList['font-size-adjust'] = true; // default: none\n  whiteList['font-stretch'] = true; // default: normal\n  whiteList['font-style'] = true; // default: normal\n  whiteList['font-synthesis'] = true; // default: weight style\n  whiteList['font-variant'] = true; // default: normal\n  whiteList['font-variant-alternates'] = true; // default: normal\n  whiteList['font-variant-caps'] = true; // default: normal\n  whiteList['font-variant-east-asian'] = true; // default: normal\n  whiteList['font-variant-ligatures'] = true; // default: normal\n  whiteList['font-variant-numeric'] = true; // default: normal\n  whiteList['font-variant-position'] = true; // default: normal\n  whiteList['font-weight'] = true; // default: normal\n  whiteList['grid'] = false; // default: depending on individual properties\n  whiteList['grid-area'] = false; // default: depending on individual properties\n  whiteList['grid-auto-columns'] = false; // default: auto\n  whiteList['grid-auto-flow'] = false; // default: none\n  whiteList['grid-auto-rows'] = false; // default: auto\n  whiteList['grid-column'] = false; // default: depending on individual properties\n  whiteList['grid-column-end'] = false; // default: auto\n  whiteList['grid-column-start'] = false; // default: auto\n  whiteList['grid-row'] = false; // default: depending on individual properties\n  whiteList['grid-row-end'] = false; // default: auto\n  whiteList['grid-row-start'] = false; // default: auto\n  whiteList['grid-template'] = false; // default: depending on individual properties\n  whiteList['grid-template-areas'] = false; // default: none\n  whiteList['grid-template-columns'] = false; // default: none\n  whiteList['grid-template-rows'] = false; // default: none\n  whiteList['hanging-punctuation'] = false; // default: none\n  whiteList['height'] = true; // default: auto\n  whiteList['hyphens'] = false; // default: manual\n  whiteList['icon'] = false; // default: auto\n  whiteList['image-orientation'] = false; // default: auto\n  whiteList['image-resolution'] = false; // default: normal\n  whiteList['ime-mode'] = false; // default: auto\n  whiteList['initial-letters'] = false; // default: normal\n  whiteList['inline-box-align'] = false; // default: last\n  whiteList['justify-content'] = false; // default: auto\n  whiteList['justify-items'] = false; // default: auto\n  whiteList['justify-self'] = false; // default: auto\n  whiteList['left'] = false; // default: auto\n  whiteList['letter-spacing'] = true; // default: normal\n  whiteList['lighting-color'] = true; // default: white\n  whiteList['line-box-contain'] = false; // default: block inline replaced\n  whiteList['line-break'] = false; // default: auto\n  whiteList['line-grid'] = false; // default: match-parent\n  whiteList['line-height'] = false; // default: normal\n  whiteList['line-snap'] = false; // default: none\n  whiteList['line-stacking'] = false; // default: depending on individual properties\n  whiteList['line-stacking-ruby'] = false; // default: exclude-ruby\n  whiteList['line-stacking-shift'] = false; // default: consider-shifts\n  whiteList['line-stacking-strategy'] = false; // default: inline-line-height\n  whiteList['list-style'] = true; // default: depending on individual properties\n  whiteList['list-style-image'] = true; // default: none\n  whiteList['list-style-position'] = true; // default: outside\n  whiteList['list-style-type'] = true; // default: disc\n  whiteList['margin'] = true; // default: depending on individual properties\n  whiteList['margin-bottom'] = true; // default: 0\n  whiteList['margin-left'] = true; // default: 0\n  whiteList['margin-right'] = true; // default: 0\n  whiteList['margin-top'] = true; // default: 0\n  whiteList['marker-offset'] = false; // default: auto\n  whiteList['marker-side'] = false; // default: list-item\n  whiteList['marks'] = false; // default: none\n  whiteList['mask'] = false; // default: border-box\n  whiteList['mask-box'] = false; // default: see individual properties\n  whiteList['mask-box-outset'] = false; // default: 0\n  whiteList['mask-box-repeat'] = false; // default: stretch\n  whiteList['mask-box-slice'] = false; // default: 0 fill\n  whiteList['mask-box-source'] = false; // default: none\n  whiteList['mask-box-width'] = false; // default: auto\n  whiteList['mask-clip'] = false; // default: border-box\n  whiteList['mask-image'] = false; // default: none\n  whiteList['mask-origin'] = false; // default: border-box\n  whiteList['mask-position'] = false; // default: center\n  whiteList['mask-repeat'] = false; // default: no-repeat\n  whiteList['mask-size'] = false; // default: border-box\n  whiteList['mask-source-type'] = false; // default: auto\n  whiteList['mask-type'] = false; // default: luminance\n  whiteList['max-height'] = true; // default: none\n  whiteList['max-lines'] = false; // default: none\n  whiteList['max-width'] = true; // default: none\n  whiteList['min-height'] = true; // default: 0\n  whiteList['min-width'] = true; // default: 0\n  whiteList['move-to'] = false; // default: normal\n  whiteList['nav-down'] = false; // default: auto\n  whiteList['nav-index'] = false; // default: auto\n  whiteList['nav-left'] = false; // default: auto\n  whiteList['nav-right'] = false; // default: auto\n  whiteList['nav-up'] = false; // default: auto\n  whiteList['object-fit'] = false; // default: fill\n  whiteList['object-position'] = false; // default: 50% 50%\n  whiteList['opacity'] = false; // default: 1\n  whiteList['order'] = false; // default: 0\n  whiteList['orphans'] = false; // default: 2\n  whiteList['outline'] = false; // default: depending on individual properties\n  whiteList['outline-color'] = false; // default: invert\n  whiteList['outline-offset'] = false; // default: 0\n  whiteList['outline-style'] = false; // default: none\n  whiteList['outline-width'] = false; // default: medium\n  whiteList['overflow'] = false; // default: depending on individual properties\n  whiteList['overflow-wrap'] = false; // default: normal\n  whiteList['overflow-x'] = false; // default: visible\n  whiteList['overflow-y'] = false; // default: visible\n  whiteList['padding'] = true; // default: depending on individual properties\n  whiteList['padding-bottom'] = true; // default: 0\n  whiteList['padding-left'] = true; // default: 0\n  whiteList['padding-right'] = true; // default: 0\n  whiteList['padding-top'] = true; // default: 0\n  whiteList['page'] = false; // default: auto\n  whiteList['page-break-after'] = false; // default: auto\n  whiteList['page-break-before'] = false; // default: auto\n  whiteList['page-break-inside'] = false; // default: auto\n  whiteList['page-policy'] = false; // default: start\n  whiteList['pause'] = false; // default: implementation dependent\n  whiteList['pause-after'] = false; // default: implementation dependent\n  whiteList['pause-before'] = false; // default: implementation dependent\n  whiteList['perspective'] = false; // default: none\n  whiteList['perspective-origin'] = false; // default: 50% 50%\n  whiteList['pitch'] = false; // default: medium\n  whiteList['pitch-range'] = false; // default: 50\n  whiteList['play-during'] = false; // default: auto\n  whiteList['position'] = false; // default: static\n  whiteList['presentation-level'] = false; // default: 0\n  whiteList['quotes'] = false; // default: text\n  whiteList['region-fragment'] = false; // default: auto\n  whiteList['resize'] = false; // default: none\n  whiteList['rest'] = false; // default: depending on individual properties\n  whiteList['rest-after'] = false; // default: none\n  whiteList['rest-before'] = false; // default: none\n  whiteList['richness'] = false; // default: 50\n  whiteList['right'] = false; // default: auto\n  whiteList['rotation'] = false; // default: 0\n  whiteList['rotation-point'] = false; // default: 50% 50%\n  whiteList['ruby-align'] = false; // default: auto\n  whiteList['ruby-merge'] = false; // default: separate\n  whiteList['ruby-position'] = false; // default: before\n  whiteList['shape-image-threshold'] = false; // default: 0.0\n  whiteList['shape-outside'] = false; // default: none\n  whiteList['shape-margin'] = false; // default: 0\n  whiteList['size'] = false; // default: auto\n  whiteList['speak'] = false; // default: auto\n  whiteList['speak-as'] = false; // default: normal\n  whiteList['speak-header'] = false; // default: once\n  whiteList['speak-numeral'] = false; // default: continuous\n  whiteList['speak-punctuation'] = false; // default: none\n  whiteList['speech-rate'] = false; // default: medium\n  whiteList['stress'] = false; // default: 50\n  whiteList['string-set'] = false; // default: none\n  whiteList['tab-size'] = false; // default: 8\n  whiteList['table-layout'] = false; // default: auto\n  whiteList['text-align'] = true; // default: start\n  whiteList['text-align-last'] = true; // default: auto\n  whiteList['text-combine-upright'] = true; // default: none\n  whiteList['text-decoration'] = true; // default: none\n  whiteList['text-decoration-color'] = true; // default: currentColor\n  whiteList['text-decoration-line'] = true; // default: none\n  whiteList['text-decoration-skip'] = true; // default: objects\n  whiteList['text-decoration-style'] = true; // default: solid\n  whiteList['text-emphasis'] = true; // default: depending on individual properties\n  whiteList['text-emphasis-color'] = true; // default: currentColor\n  whiteList['text-emphasis-position'] = true; // default: over right\n  whiteList['text-emphasis-style'] = true; // default: none\n  whiteList['text-height'] = true; // default: auto\n  whiteList['text-indent'] = true; // default: 0\n  whiteList['text-justify'] = true; // default: auto\n  whiteList['text-orientation'] = true; // default: mixed\n  whiteList['text-overflow'] = true; // default: clip\n  whiteList['text-shadow'] = true; // default: none\n  whiteList['text-space-collapse'] = true; // default: collapse\n  whiteList['text-transform'] = true; // default: none\n  whiteList['text-underline-position'] = true; // default: auto\n  whiteList['text-wrap'] = true; // default: normal\n  whiteList['top'] = false; // default: auto\n  whiteList['transform'] = false; // default: none\n  whiteList['transform-origin'] = false; // default: 50% 50% 0\n  whiteList['transform-style'] = false; // default: flat\n  whiteList['transition'] = false; // default: depending on individual properties\n  whiteList['transition-delay'] = false; // default: 0s\n  whiteList['transition-duration'] = false; // default: 0s\n  whiteList['transition-property'] = false; // default: all\n  whiteList['transition-timing-function'] = false; // default: ease\n  whiteList['unicode-bidi'] = false; // default: normal\n  whiteList['vertical-align'] = false; // default: baseline\n  whiteList['visibility'] = false; // default: visible\n  whiteList['voice-balance'] = false; // default: center\n  whiteList['voice-duration'] = false; // default: auto\n  whiteList['voice-family'] = false; // default: implementation dependent\n  whiteList['voice-pitch'] = false; // default: medium\n  whiteList['voice-range'] = false; // default: medium\n  whiteList['voice-rate'] = false; // default: normal\n  whiteList['voice-stress'] = false; // default: normal\n  whiteList['voice-volume'] = false; // default: medium\n  whiteList['volume'] = false; // default: medium\n  whiteList['white-space'] = false; // default: normal\n  whiteList['widows'] = false; // default: 2\n  whiteList['width'] = true; // default: auto\n  whiteList['will-change'] = false; // default: auto\n  whiteList['word-break'] = true; // default: normal\n  whiteList['word-spacing'] = true; // default: normal\n  whiteList['word-wrap'] = true; // default: normal\n  whiteList['wrap-flow'] = false; // default: auto\n  whiteList['wrap-through'] = false; // default: wrap\n  whiteList['writing-mode'] = false; // default: horizontal-tb\n  whiteList['z-index'] = false; // default: auto\n\n  return whiteList;\n}\n\n\n/**\n * \n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {String}\n */\nfunction onAttr (name, value, options) {\n  // do nothing\n}\n\n/**\n * \n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {String}\n */\nfunction onIgnoreAttr (name, value, options) {\n  // do nothing\n}\n\nvar REGEXP_URL_JAVASCRIPT = /javascript\\s*\\:/img;\n\n/**\n * \n *\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction safeAttrValue(name, value) {\n  if (REGEXP_URL_JAVASCRIPT.test(value)) return '';\n  return value;\n}\n\n\nexports.whiteList = getDefaultWhiteList();\nexports.getDefaultWhiteList = getDefaultWhiteList;\nexports.onAttr = onAttr;\nexports.onIgnoreAttr = onIgnoreAttr;\nexports.safeAttrValue = safeAttrValue;\n","module.exports = {\n  indexOf: function (arr, item) {\n    var i, j;\n    if (Array.prototype.indexOf) {\n      return arr.indexOf(item);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      if (arr[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  forEach: function (arr, fn, scope) {\n    var i, j;\n    if (Array.prototype.forEach) {\n      return arr.forEach(fn, scope);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      fn.call(scope, arr[i], i, arr);\n    }\n  },\n  trim: function (str) {\n    if (String.prototype.trim) {\n      return str.trim();\n    }\n    return str.replace(/(^\\s*)|(\\s*$)/g, '');\n  },\n  trimRight: function (str) {\n    if (String.prototype.trimRight) {\n      return str.trimRight();\n    }\n    return str.replace(/(\\s*$)/g, '');\n  }\n};\n","/**\n * cssfilter\n *\n * @author <leizongmin@gmail.com>\n */\n\nvar _ = require('./util');\n\n\n/**\n * style\n *\n * @param {String} css\n * @param {Function} onAttr \n *    function (sourcePosition, position, name, value, source)\n * @return {String}\n */\nfunction parseStyle (css, onAttr) {\n  css = _.trimRight(css);\n  if (css[css.length - 1] !== ';') css += ';';\n  var cssLength = css.length;\n  var isParenthesisOpen = false;\n  var lastPos = 0;\n  var i = 0;\n  var retCSS = '';\n\n  function addNewAttr () {\n    // \n    if (!isParenthesisOpen) {\n      var source = _.trim(css.slice(lastPos, i));\n      var j = source.indexOf(':');\n      if (j !== -1) {\n        var name = _.trim(source.slice(0, j));\n        var value = _.trim(source.slice(j + 1));\n        // \n        if (name) {\n          var ret = onAttr(lastPos, retCSS.length, name, value, source);\n          if (ret) retCSS += ret + '; ';\n        }\n      }\n    }\n    lastPos = i + 1;\n  }\n\n  for (; i < cssLength; i++) {\n    var c = css[i];\n    if (c === '/' && css[i + 1] === '*') {\n      // \n      var j = css.indexOf('*/', i + 2);\n      // \n      if (j === -1) break;\n      // \n      i = j + 1;\n      lastPos = i + 1;\n      isParenthesisOpen = false;\n    } else if (c === '(') {\n      isParenthesisOpen = true;\n    } else if (c === ')') {\n      isParenthesisOpen = false;\n    } else if (c === ';') {\n      if (isParenthesisOpen) {\n        // \n      } else {\n        addNewAttr();\n      }\n    } else if (c === '\\n') {\n      addNewAttr();\n    }\n  }\n\n  return _.trim(retCSS);\n}\n\nmodule.exports = parseStyle;\n","/**\n * cssfilter\n *\n * @author <leizongmin@gmail.com>\n */\n\nvar DEFAULT = require('./default');\nvar parseStyle = require('./parser');\nvar _ = require('./util');\n\n\n/**\n * \n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull (obj) {\n  return (obj === undefined || obj === null);\n}\n\n/**\n * \n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject (obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\n\n/**\n * CSS\n *\n * @param {Object} options\n *   - {Object} whiteList\n *   - {Function} onAttr\n *   - {Function} onIgnoreAttr\n *   - {Function} safeAttrValue\n */\nfunction FilterCSS (options) {\n  options = shallowCopyObject(options || {});\n  options.whiteList = options.whiteList || DEFAULT.whiteList;\n  options.onAttr = options.onAttr || DEFAULT.onAttr;\n  options.onIgnoreAttr = options.onIgnoreAttr || DEFAULT.onIgnoreAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT.safeAttrValue;\n  this.options = options;\n}\n\nFilterCSS.prototype.process = function (css) {\n  // \n  css = css || '';\n  css = css.toString();\n  if (!css) return '';\n\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onAttr = options.onAttr;\n  var onIgnoreAttr = options.onIgnoreAttr;\n  var safeAttrValue = options.safeAttrValue;\n\n  var retCSS = parseStyle(css, function (sourcePosition, position, name, value, source) {\n\n    var check = whiteList[name];\n    var isWhite = false;\n    if (check === true) isWhite = check;\n    else if (typeof check === 'function') isWhite = check(value);\n    else if (check instanceof RegExp) isWhite = check.test(value);\n    if (isWhite !== true) isWhite = false;\n\n    //  value \n    value = safeAttrValue(name, value);\n    if (!value) return;\n\n    var opts = {\n      position: position,\n      sourcePosition: sourcePosition,\n      source: source,\n      isWhite: isWhite\n    };\n\n    if (isWhite) {\n\n      var ret = onAttr(name, value, opts);\n      if (isNull(ret)) {\n        return name + ':' + value;\n      } else {\n        return ret;\n      }\n\n    } else {\n\n      var ret = onIgnoreAttr(name, value, opts);\n      if (!isNull(ret)) {\n        return ret;\n      }\n\n    }\n  });\n\n  return retCSS;\n};\n\n\nmodule.exports = FilterCSS;\n","/**\n * cssfilter\n *\n * @author <leizongmin@gmail.com>\n */\n\nvar DEFAULT = require('./default');\nvar FilterCSS = require('./css');\n\n\n/**\n * XSS\n *\n * @param {String} css CSS\n * @param {Object} options whiteList, onAttr, onIgnoreAttr\n * @return {String}\n */\nfunction filterCSS (html, options) {\n  var xss = new FilterCSS(options);\n  return xss.process(html);\n}\n\n\n// \nexports = module.exports = filterCSS;\nexports.FilterCSS = FilterCSS;\nfor (var i in DEFAULT) exports[i] = DEFAULT[i];\n\n// \nif (typeof window !== 'undefined') {\n  window.filterCSS = module.exports;\n}\n","module.exports = {\n  indexOf: function (arr, item) {\n    var i, j;\n    if (Array.prototype.indexOf) {\n      return arr.indexOf(item);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      if (arr[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  forEach: function (arr, fn, scope) {\n    var i, j;\n    if (Array.prototype.forEach) {\n      return arr.forEach(fn, scope);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      fn.call(scope, arr[i], i, arr);\n    }\n  },\n  trim: function (str) {\n    if (String.prototype.trim) {\n      return str.trim();\n    }\n    return str.replace(/(^\\s*)|(\\s*$)/g, \"\");\n  },\n  spaceIndex: function (str) {\n    var reg = /\\s|\\n|\\t/;\n    var match = reg.exec(str);\n    return match ? match.index : -1;\n  },\n};\n","/**\n * default settings\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS = require(\"cssfilter\").FilterCSS;\nvar getDefaultCSSWhiteList = require(\"cssfilter\").getDefaultWhiteList;\nvar _ = require(\"./util\");\n\nfunction getDefaultWhiteList() {\n  return {\n    a: [\"target\", \"href\", \"title\"],\n    abbr: [\"title\"],\n    address: [],\n    area: [\"shape\", \"coords\", \"href\", \"alt\"],\n    article: [],\n    aside: [],\n    audio: [\n      \"autoplay\",\n      \"controls\",\n      \"crossorigin\",\n      \"loop\",\n      \"muted\",\n      \"preload\",\n      \"src\",\n    ],\n    b: [],\n    bdi: [\"dir\"],\n    bdo: [\"dir\"],\n    big: [],\n    blockquote: [\"cite\"],\n    br: [],\n    caption: [],\n    center: [],\n    cite: [],\n    code: [],\n    col: [\"align\", \"valign\", \"span\", \"width\"],\n    colgroup: [\"align\", \"valign\", \"span\", \"width\"],\n    dd: [],\n    del: [\"datetime\"],\n    details: [\"open\"],\n    div: [],\n    dl: [],\n    dt: [],\n    em: [],\n    figcaption: [],\n    figure: [],\n    font: [\"color\", \"size\", \"face\"],\n    footer: [],\n    h1: [],\n    h2: [],\n    h3: [],\n    h4: [],\n    h5: [],\n    h6: [],\n    header: [],\n    hr: [],\n    i: [],\n    img: [\"src\", \"alt\", \"title\", \"width\", \"height\"],\n    ins: [\"datetime\"],\n    li: [],\n    mark: [],\n    nav: [],\n    ol: [],\n    p: [],\n    pre: [],\n    s: [],\n    section: [],\n    small: [],\n    span: [],\n    sub: [],\n    summary: [],\n    sup: [],\n    strong: [],\n    strike: [],\n    table: [\"width\", \"border\", \"align\", \"valign\"],\n    tbody: [\"align\", \"valign\"],\n    td: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    tfoot: [\"align\", \"valign\"],\n    th: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    thead: [\"align\", \"valign\"],\n    tr: [\"rowspan\", \"align\", \"valign\"],\n    tt: [],\n    u: [],\n    ul: [],\n    video: [\n      \"autoplay\",\n      \"controls\",\n      \"crossorigin\",\n      \"loop\",\n      \"muted\",\n      \"playsinline\",\n      \"poster\",\n      \"preload\",\n      \"src\",\n      \"height\",\n      \"width\",\n    ],\n  };\n}\n\nvar defaultCSSFilter = new FilterCSS();\n\n/**\n * default onTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onIgnoreTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onIgnoreTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default escapeHtml function\n *\n * @param {String} html\n */\nfunction escapeHtml(html) {\n  return html.replace(REGEXP_LT, \"&lt;\").replace(REGEXP_GT, \"&gt;\");\n}\n\n/**\n * default safeAttrValue function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @param {Object} cssFilter\n * @return {String}\n */\nfunction safeAttrValue(tag, name, value, cssFilter) {\n  // unescape attribute value firstly\n  value = friendlyAttrValue(value);\n\n  if (name === \"href\" || name === \"src\") {\n    // filter `href` and `src` attribute\n    // only allow the value that starts with `http://` | `https://` | `mailto:` | `/` | `#`\n    value = _.trim(value);\n    if (value === \"#\") return \"#\";\n    if (\n      !(\n        value.substr(0, 7) === \"http://\" ||\n        value.substr(0, 8) === \"https://\" ||\n        value.substr(0, 7) === \"mailto:\" ||\n        value.substr(0, 4) === \"tel:\" ||\n        value.substr(0, 11) === \"data:image/\" ||\n        value.substr(0, 6) === \"ftp://\" ||\n        value.substr(0, 2) === \"./\" ||\n        value.substr(0, 3) === \"../\" ||\n        value[0] === \"#\" ||\n        value[0] === \"/\"\n      )\n    ) {\n      return \"\";\n    }\n  } else if (name === \"background\") {\n    // filter `background` attribute (maybe no use)\n    // `javascript:`\n    REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n      return \"\";\n    }\n  } else if (name === \"style\") {\n    // `expression()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_7.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_7.test(value)) {\n      return \"\";\n    }\n    // `url()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_8.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_8.test(value)) {\n      REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n      if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n        return \"\";\n      }\n    }\n    if (cssFilter !== false) {\n      cssFilter = cssFilter || defaultCSSFilter;\n      value = cssFilter.process(value);\n    }\n  }\n\n  // escape `<>\"` before returns\n  value = escapeAttrValue(value);\n  return value;\n}\n\n// RegExp list\nvar REGEXP_LT = /</g;\nvar REGEXP_GT = />/g;\nvar REGEXP_QUOTE = /\"/g;\nvar REGEXP_QUOTE_2 = /&quot;/g;\nvar REGEXP_ATTR_VALUE_1 = /&#([a-zA-Z0-9]*);?/gim;\nvar REGEXP_ATTR_VALUE_COLON = /&colon;?/gim;\nvar REGEXP_ATTR_VALUE_NEWLINE = /&newline;?/gim;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_3 = /\\/\\*|\\*\\//gm;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_4 =\n  /((j\\s*a\\s*v\\s*a|v\\s*b|l\\s*i\\s*v\\s*e)\\s*s\\s*c\\s*r\\s*i\\s*p\\s*t\\s*|m\\s*o\\s*c\\s*h\\s*a):/gi;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_5 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:/gi;\n// var REGEXP_DEFAULT_ON_TAG_ATTR_6 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:\\s*image\\//gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_7 =\n  /e\\s*x\\s*p\\s*r\\s*e\\s*s\\s*s\\s*i\\s*o\\s*n\\s*\\(.*/gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_8 = /u\\s*r\\s*l\\s*\\(.*/gi;\n\n/**\n * escape double quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction escapeQuote(str) {\n  return str.replace(REGEXP_QUOTE, \"&quot;\");\n}\n\n/**\n * unescape double quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction unescapeQuote(str) {\n  return str.replace(REGEXP_QUOTE_2, '\"');\n}\n\n/**\n * escape html entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeHtmlEntities(str) {\n  return str.replace(REGEXP_ATTR_VALUE_1, function replaceUnicode(str, code) {\n    return code[0] === \"x\" || code[0] === \"X\"\n      ? String.fromCharCode(parseInt(code.substr(1), 16))\n      : String.fromCharCode(parseInt(code, 10));\n  });\n}\n\n/**\n * escape html5 new danger entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeDangerHtml5Entities(str) {\n  return str\n    .replace(REGEXP_ATTR_VALUE_COLON, \":\")\n    .replace(REGEXP_ATTR_VALUE_NEWLINE, \" \");\n}\n\n/**\n * clear nonprintable characters\n *\n * @param {String} str\n * @return {String}\n */\nfunction clearNonPrintableCharacter(str) {\n  var str2 = \"\";\n  for (var i = 0, len = str.length; i < len; i++) {\n    str2 += str.charCodeAt(i) < 32 ? \" \" : str.charAt(i);\n  }\n  return _.trim(str2);\n}\n\n/**\n * get friendly attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction friendlyAttrValue(str) {\n  str = unescapeQuote(str);\n  str = escapeHtmlEntities(str);\n  str = escapeDangerHtml5Entities(str);\n  str = clearNonPrintableCharacter(str);\n  return str;\n}\n\n/**\n * unescape attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeAttrValue(str) {\n  str = escapeQuote(str);\n  str = escapeHtml(str);\n  return str;\n}\n\n/**\n * `onIgnoreTag` function for removing all the tags that are not in whitelist\n */\nfunction onIgnoreTagStripAll() {\n  return \"\";\n}\n\n/**\n * remove tag body\n * specify a `tags` list, if the tag is not in the `tags` list then process by the specify function (optional)\n *\n * @param {array} tags\n * @param {function} next\n */\nfunction StripTagBody(tags, next) {\n  if (typeof next !== \"function\") {\n    next = function () {};\n  }\n\n  var isRemoveAllTag = !Array.isArray(tags);\n  function isRemoveTag(tag) {\n    if (isRemoveAllTag) return true;\n    return _.indexOf(tags, tag) !== -1;\n  }\n\n  var removeList = [];\n  var posStart = false;\n\n  return {\n    onIgnoreTag: function (tag, html, options) {\n      if (isRemoveTag(tag)) {\n        if (options.isClosing) {\n          var ret = \"[/removed]\";\n          var end = options.position + ret.length;\n          removeList.push([\n            posStart !== false ? posStart : options.position,\n            end,\n          ]);\n          posStart = false;\n          return ret;\n        } else {\n          if (!posStart) {\n            posStart = options.position;\n          }\n          return \"[removed]\";\n        }\n      } else {\n        return next(tag, html, options);\n      }\n    },\n    remove: function (html) {\n      var rethtml = \"\";\n      var lastPos = 0;\n      _.forEach(removeList, function (pos) {\n        rethtml += html.slice(lastPos, pos[0]);\n        lastPos = pos[1];\n      });\n      rethtml += html.slice(lastPos);\n      return rethtml;\n    },\n  };\n}\n\n/**\n * remove html comments\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripCommentTag(html) {\n  var retHtml = \"\";\n  var lastPos = 0;\n  while (lastPos < html.length) {\n    var i = html.indexOf(\"<!--\", lastPos);\n    if (i === -1) {\n      retHtml += html.slice(lastPos);\n      break;\n    }\n    retHtml += html.slice(lastPos, i);\n    var j = html.indexOf(\"-->\", i);\n    if (j === -1) {\n      break;\n    }\n    lastPos = j + 3;\n  }\n  return retHtml;\n}\n\n/**\n * remove invisible characters\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripBlankChar(html) {\n  var chars = html.split(\"\");\n  chars = chars.filter(function (char) {\n    var c = char.charCodeAt(0);\n    if (c === 127) return false;\n    if (c <= 31) {\n      if (c === 10 || c === 13) return true;\n      return false;\n    }\n    return true;\n  });\n  return chars.join(\"\");\n}\n\nexports.whiteList = getDefaultWhiteList();\nexports.getDefaultWhiteList = getDefaultWhiteList;\nexports.onTag = onTag;\nexports.onIgnoreTag = onIgnoreTag;\nexports.onTagAttr = onTagAttr;\nexports.onIgnoreTagAttr = onIgnoreTagAttr;\nexports.safeAttrValue = safeAttrValue;\nexports.escapeHtml = escapeHtml;\nexports.escapeQuote = escapeQuote;\nexports.unescapeQuote = unescapeQuote;\nexports.escapeHtmlEntities = escapeHtmlEntities;\nexports.escapeDangerHtml5Entities = escapeDangerHtml5Entities;\nexports.clearNonPrintableCharacter = clearNonPrintableCharacter;\nexports.friendlyAttrValue = friendlyAttrValue;\nexports.escapeAttrValue = escapeAttrValue;\nexports.onIgnoreTagStripAll = onIgnoreTagStripAll;\nexports.StripTagBody = StripTagBody;\nexports.stripCommentTag = stripCommentTag;\nexports.stripBlankChar = stripBlankChar;\nexports.cssFilter = defaultCSSFilter;\nexports.getDefaultCSSWhiteList = getDefaultCSSWhiteList;\n","/**\n * Simple HTML Parser\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar _ = require(\"./util\");\n\n/**\n * get tag name\n *\n * @param {String} html e.g. '<a hef=\"#\">'\n * @return {String}\n */\nfunction getTagName(html) {\n  var i = _.spaceIndex(html);\n  var tagName;\n  if (i === -1) {\n    tagName = html.slice(1, -1);\n  } else {\n    tagName = html.slice(1, i + 1);\n  }\n  tagName = _.trim(tagName).toLowerCase();\n  if (tagName.slice(0, 1) === \"/\") tagName = tagName.slice(1);\n  if (tagName.slice(-1) === \"/\") tagName = tagName.slice(0, -1);\n  return tagName;\n}\n\n/**\n * is close tag?\n *\n * @param {String} html '<a hef=\"#\">'\n * @return {Boolean}\n */\nfunction isClosing(html) {\n  return html.slice(0, 2) === \"</\";\n}\n\n/**\n * parse input html and returns processed html\n *\n * @param {String} html\n * @param {Function} onTag e.g. function (sourcePosition, position, tag, html, isClosing)\n * @param {Function} escapeHtml\n * @return {String}\n */\nfunction parseTag(html, onTag, escapeHtml) {\n  \"use strict\";\n\n  var rethtml = \"\";\n  var lastPos = 0;\n  var tagStart = false;\n  var quoteStart = false;\n  var currentPos = 0;\n  var len = html.length;\n  var currentTagName = \"\";\n  var currentHtml = \"\";\n\n  chariterator: for (currentPos = 0; currentPos < len; currentPos++) {\n    var c = html.charAt(currentPos);\n    if (tagStart === false) {\n      if (c === \"<\") {\n        tagStart = currentPos;\n        continue;\n      }\n    } else {\n      if (quoteStart === false) {\n        if (c === \"<\") {\n          rethtml += escapeHtml(html.slice(lastPos, currentPos));\n          tagStart = currentPos;\n          lastPos = currentPos;\n          continue;\n        }\n        if (c === \">\" || currentPos === len - 1) {\n          rethtml += escapeHtml(html.slice(lastPos, tagStart));\n          currentHtml = html.slice(tagStart, currentPos + 1);\n          currentTagName = getTagName(currentHtml);\n          rethtml += onTag(\n            tagStart,\n            rethtml.length,\n            currentTagName,\n            currentHtml,\n            isClosing(currentHtml)\n          );\n          lastPos = currentPos + 1;\n          tagStart = false;\n          continue;\n        }\n        if (c === '\"' || c === \"'\") {\n          var i = 1;\n          var ic = html.charAt(currentPos - i);\n\n          while (ic.trim() === \"\" || ic === \"=\") {\n            if (ic === \"=\") {\n              quoteStart = c;\n              continue chariterator;\n            }\n            ic = html.charAt(currentPos - ++i);\n          }\n        }\n      } else {\n        if (c === quoteStart) {\n          quoteStart = false;\n          continue;\n        }\n      }\n    }\n  }\n  if (lastPos < len) {\n    rethtml += escapeHtml(html.substr(lastPos));\n  }\n\n  return rethtml;\n}\n\nvar REGEXP_ILLEGAL_ATTR_NAME = /[^a-zA-Z0-9\\\\_:.-]/gim;\n\n/**\n * parse input attributes and returns processed attributes\n *\n * @param {String} html e.g. `href=\"#\" target=\"_blank\"`\n * @param {Function} onAttr e.g. `function (name, value)`\n * @return {String}\n */\nfunction parseAttr(html, onAttr) {\n  \"use strict\";\n\n  var lastPos = 0;\n  var lastMarkPos = 0;\n  var retAttrs = [];\n  var tmpName = false;\n  var len = html.length;\n\n  function addAttr(name, value) {\n    name = _.trim(name);\n    name = name.replace(REGEXP_ILLEGAL_ATTR_NAME, \"\").toLowerCase();\n    if (name.length < 1) return;\n    var ret = onAttr(name, value || \"\");\n    if (ret) retAttrs.push(ret);\n  }\n\n  // \n  for (var i = 0; i < len; i++) {\n    var c = html.charAt(i);\n    var v, j;\n    if (tmpName === false && c === \"=\") {\n      tmpName = html.slice(lastPos, i);\n      lastPos = i + 1;\n      lastMarkPos = html.charAt(lastPos) === '\"' || html.charAt(lastPos) === \"'\" ? lastPos : findNextQuotationMark(html, i + 1);\n      continue;\n    }\n    if (tmpName !== false) {\n      if (\n        i === lastMarkPos\n      ) {\n        j = html.indexOf(c, i + 1);\n        if (j === -1) {\n          break;\n        } else {\n          v = _.trim(html.slice(lastMarkPos + 1, j));\n          addAttr(tmpName, v);\n          tmpName = false;\n          i = j;\n          lastPos = i + 1;\n          continue;\n        }\n      }\n    }\n    if (/\\s|\\n|\\t/.test(c)) {\n      html = html.replace(/\\s|\\n|\\t/g, \" \");\n      if (tmpName === false) {\n        j = findNextEqual(html, i);\n        if (j === -1) {\n          v = _.trim(html.slice(lastPos, i));\n          addAttr(v);\n          tmpName = false;\n          lastPos = i + 1;\n          continue;\n        } else {\n          i = j - 1;\n          continue;\n        }\n      } else {\n        j = findBeforeEqual(html, i - 1);\n        if (j === -1) {\n          v = _.trim(html.slice(lastPos, i));\n          v = stripQuoteWrap(v);\n          addAttr(tmpName, v);\n          tmpName = false;\n          lastPos = i + 1;\n          continue;\n        } else {\n          continue;\n        }\n      }\n    }\n  }\n\n  if (lastPos < html.length) {\n    if (tmpName === false) {\n      addAttr(html.slice(lastPos));\n    } else {\n      addAttr(tmpName, stripQuoteWrap(_.trim(html.slice(lastPos))));\n    }\n  }\n\n  return _.trim(retAttrs.join(\" \"));\n}\n\nfunction findNextEqual(str, i) {\n  for (; i < str.length; i++) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"=\") return i;\n    return -1;\n  }\n}\n\nfunction findNextQuotationMark(str, i) {\n  for (; i < str.length; i++) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"'\" || c === '\"') return i;\n    return -1;\n  }\n}\n\nfunction findBeforeEqual(str, i) {\n  for (; i > 0; i--) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"=\") return i;\n    return -1;\n  }\n}\n\nfunction isQuoteWrapString(text) {\n  if (\n    (text[0] === '\"' && text[text.length - 1] === '\"') ||\n    (text[0] === \"'\" && text[text.length - 1] === \"'\")\n  ) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction stripQuoteWrap(text) {\n  if (isQuoteWrapString(text)) {\n    return text.substr(1, text.length - 2);\n  } else {\n    return text;\n  }\n}\n\nexports.parseTag = parseTag;\nexports.parseAttr = parseAttr;\n","/**\n * filter xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS = require(\"cssfilter\").FilterCSS;\nvar DEFAULT = require(\"./default\");\nvar parser = require(\"./parser\");\nvar parseTag = parser.parseTag;\nvar parseAttr = parser.parseAttr;\nvar _ = require(\"./util\");\n\n/**\n * returns `true` if the input value is `undefined` or `null`\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull(obj) {\n  return obj === undefined || obj === null;\n}\n\n/**\n * get attributes for a tag\n *\n * @param {String} html\n * @return {Object}\n *   - {String} html\n *   - {Boolean} closing\n */\nfunction getAttrs(html) {\n  var i = _.spaceIndex(html);\n  if (i === -1) {\n    return {\n      html: \"\",\n      closing: html[html.length - 2] === \"/\",\n    };\n  }\n  html = _.trim(html.slice(i + 1, -1));\n  var isClosing = html[html.length - 1] === \"/\";\n  if (isClosing) html = _.trim(html.slice(0, -1));\n  return {\n    html: html,\n    closing: isClosing,\n  };\n}\n\n/**\n * shallow copy\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject(obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\n\nfunction keysToLowerCase(obj) {\n  var ret = {};\n  for (var i in obj) {\n    if (Array.isArray(obj[i])) {\n      ret[i.toLowerCase()] = obj[i].map(function (item) {\n        return item.toLowerCase();\n      });\n    } else {\n      ret[i.toLowerCase()] = obj[i];\n    }\n  }\n  return ret;\n}\n\n/**\n * FilterXSS class\n *\n * @param {Object} options\n *        whiteList (or allowList), onTag, onTagAttr, onIgnoreTag,\n *        onIgnoreTagAttr, safeAttrValue, escapeHtml\n *        stripIgnoreTagBody, allowCommentTag, stripBlankChar\n *        css{whiteList, onAttr, onIgnoreAttr} `css=false` means don't use `cssfilter`\n */\nfunction FilterXSS(options) {\n  options = shallowCopyObject(options || {});\n\n  if (options.stripIgnoreTag) {\n    if (options.onIgnoreTag) {\n      console.error(\n        'Notes: cannot use these two options \"stripIgnoreTag\" and \"onIgnoreTag\" at the same time'\n      );\n    }\n    options.onIgnoreTag = DEFAULT.onIgnoreTagStripAll;\n  }\n  if (options.whiteList || options.allowList) {\n    options.whiteList = keysToLowerCase(options.whiteList || options.allowList);\n  } else {\n    options.whiteList = DEFAULT.whiteList;\n  }\n\n  options.onTag = options.onTag || DEFAULT.onTag;\n  options.onTagAttr = options.onTagAttr || DEFAULT.onTagAttr;\n  options.onIgnoreTag = options.onIgnoreTag || DEFAULT.onIgnoreTag;\n  options.onIgnoreTagAttr = options.onIgnoreTagAttr || DEFAULT.onIgnoreTagAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT.safeAttrValue;\n  options.escapeHtml = options.escapeHtml || DEFAULT.escapeHtml;\n  this.options = options;\n\n  if (options.css === false) {\n    this.cssFilter = false;\n  } else {\n    options.css = options.css || {};\n    this.cssFilter = new FilterCSS(options.css);\n  }\n}\n\n/**\n * start process and returns result\n *\n * @param {String} html\n * @return {String}\n */\nFilterXSS.prototype.process = function (html) {\n  // compatible with the input\n  html = html || \"\";\n  html = html.toString();\n  if (!html) return \"\";\n\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onTag = options.onTag;\n  var onIgnoreTag = options.onIgnoreTag;\n  var onTagAttr = options.onTagAttr;\n  var onIgnoreTagAttr = options.onIgnoreTagAttr;\n  var safeAttrValue = options.safeAttrValue;\n  var escapeHtml = options.escapeHtml;\n  var cssFilter = me.cssFilter;\n\n  // remove invisible characters\n  if (options.stripBlankChar) {\n    html = DEFAULT.stripBlankChar(html);\n  }\n\n  // remove html comments\n  if (!options.allowCommentTag) {\n    html = DEFAULT.stripCommentTag(html);\n  }\n\n  // if enable stripIgnoreTagBody\n  var stripIgnoreTagBody = false;\n  if (options.stripIgnoreTagBody) {\n    stripIgnoreTagBody = DEFAULT.StripTagBody(\n      options.stripIgnoreTagBody,\n      onIgnoreTag\n    );\n    onIgnoreTag = stripIgnoreTagBody.onIgnoreTag;\n  }\n\n  var retHtml = parseTag(\n    html,\n    function (sourcePosition, position, tag, html, isClosing) {\n      var info = {\n        sourcePosition: sourcePosition,\n        position: position,\n        isClosing: isClosing,\n        isWhite: Object.prototype.hasOwnProperty.call(whiteList, tag),\n      };\n\n      // call `onTag()`\n      var ret = onTag(tag, html, info);\n      if (!isNull(ret)) return ret;\n\n      if (info.isWhite) {\n        if (info.isClosing) {\n          return \"</\" + tag + \">\";\n        }\n\n        var attrs = getAttrs(html);\n        var whiteAttrList = whiteList[tag];\n        var attrsHtml = parseAttr(attrs.html, function (name, value) {\n          // call `onTagAttr()`\n          var isWhiteAttr = _.indexOf(whiteAttrList, name) !== -1;\n          var ret = onTagAttr(tag, name, value, isWhiteAttr);\n          if (!isNull(ret)) return ret;\n\n          if (isWhiteAttr) {\n            // call `safeAttrValue()`\n            value = safeAttrValue(tag, name, value, cssFilter);\n            if (value) {\n              return name + '=\"' + value + '\"';\n            } else {\n              return name;\n            }\n          } else {\n            // call `onIgnoreTagAttr()`\n            ret = onIgnoreTagAttr(tag, name, value, isWhiteAttr);\n            if (!isNull(ret)) return ret;\n            return;\n          }\n        });\n\n        // build new tag html\n        html = \"<\" + tag;\n        if (attrsHtml) html += \" \" + attrsHtml;\n        if (attrs.closing) html += \" /\";\n        html += \">\";\n        return html;\n      } else {\n        // call `onIgnoreTag()`\n        ret = onIgnoreTag(tag, html, info);\n        if (!isNull(ret)) return ret;\n        return escapeHtml(html);\n      }\n    },\n    escapeHtml\n  );\n\n  // if enable stripIgnoreTagBody\n  if (stripIgnoreTagBody) {\n    retHtml = stripIgnoreTagBody.remove(retHtml);\n  }\n\n  return retHtml;\n};\n\nmodule.exports = FilterXSS;\n","/**\n * xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar DEFAULT = require(\"./default\");\nvar parser = require(\"./parser\");\nvar FilterXSS = require(\"./xss\");\n\n/**\n * filter xss function\n *\n * @param {String} html\n * @param {Object} options { whiteList, onTag, onTagAttr, onIgnoreTag, onIgnoreTagAttr, safeAttrValue, escapeHtml }\n * @return {String}\n */\nfunction filterXSS(html, options) {\n  var xss = new FilterXSS(options);\n  return xss.process(html);\n}\n\nexports = module.exports = filterXSS;\nexports.filterXSS = filterXSS;\nexports.FilterXSS = FilterXSS;\n\n(function () {\n  for (var i in DEFAULT) {\n    exports[i] = DEFAULT[i];\n  }\n  for (var j in parser) {\n    exports[j] = parser[j];\n  }\n})();\n\n// using `xss` on the browser, output `filterXSS` to the globals\nif (typeof window !== \"undefined\") {\n  window.filterXSS = module.exports;\n}\n\n// using `xss` on the WebWorker, output `filterXSS` to the globals\nfunction isWorkerEnv() {\n  return (\n    typeof self !== \"undefined\" &&\n    typeof DedicatedWorkerGlobalScope !== \"undefined\" &&\n    self instanceof DedicatedWorkerGlobalScope\n  );\n}\nif (isWorkerEnv()) {\n  self.filterXSS = module.exports;\n}\n","import { IFilterXSSOptions } from 'xss'\n\n// PORTALS-1450: including 'style' in the allow-list will cause string values to come through, which crashes the app when used (because it uses jsx).\nexport const xssOptions: IFilterXSSOptions = {\n  whiteList: {\n    a: ['target', 'href', 'title', 'ref'],\n    abbr: ['title'],\n    address: [],\n    area: ['shape', 'coords', 'href', 'alt'],\n    article: [],\n    aside: [],\n    audio: ['autoplay', 'controls', 'loop', 'preload', 'src'],\n    b: [],\n    bdi: ['dir'],\n    bdo: ['dir'],\n    big: [],\n    blockquote: ['cite'],\n    body: [],\n    br: [],\n    button: ['class'],\n    caption: [],\n    center: [],\n    cite: [],\n    code: [],\n    col: ['align', 'valign', 'span', 'width'],\n    colgroup: ['align', 'valign', 'span', 'width'],\n    dd: [],\n    del: ['datetime'],\n    details: ['open'],\n    div: ['class'],\n    dl: [],\n    dt: [],\n    em: [],\n    font: ['color', 'size', 'face'],\n    footer: [],\n    g: [],\n    h1: ['toc'],\n    h2: ['toc'],\n    h3: ['toc'],\n    h4: ['toc'],\n    h5: ['toc'],\n    h6: ['toc'],\n    head: [],\n    header: [],\n    hr: [],\n    html: [],\n    i: [],\n    img: ['src', 'alt', 'title', 'width', 'height'],\n    ins: ['datetime'],\n    li: ['class'],\n    mark: [],\n    nav: [],\n    noscript: [],\n    ol: ['class'],\n    p: [],\n    pre: [],\n    s: [],\n    section: [],\n    small: [],\n    span: ['data-widgetparams', 'class', 'id'],\n    sub: [],\n    summary: [],\n    sup: [],\n    strong: [],\n    svg: [],\n    table: ['width', 'border', 'align', 'valign', 'class'],\n    tbody: ['align', 'valign'],\n    td: ['width', 'rowspan', 'colspan', 'align', 'valign'],\n    tfoot: ['align', 'valign'],\n    th: ['width', 'rowspan', 'colspan', 'align', 'valign', 'class'],\n    thead: ['class', 'align', 'valign'],\n    tr: ['rowspan', 'align', 'valign'],\n    tt: [],\n    u: [],\n    ul: ['class'],\n    video: [\n      'autoplay',\n      'controls',\n      'loop',\n      'preload',\n      'src',\n      'height',\n      'width',\n    ],\n  },\n  stripIgnoreTagBody: true, // filter out all tags not in the whitelist\n  allowCommentTag: false,\n  css: false,\n  onIgnoreTag: function (tag, html, options) {\n    if (tag === '!doctype') {\n      // do not filter doctype\n      return html\n    }\n    return undefined\n  },\n  safeAttrValue: function (tag, name, value) {\n    if (tag === 'img' && name === 'src') {\n      if (\n        value &&\n        (value.startsWith('data:image/') || value.startsWith('http'))\n      ) {\n        return value\n      } else {\n        return ''\n      }\n    } else {\n      return value\n    }\n  },\n}\n","import { Button, ButtonProps, styled } from '@mui/material'\nimport { StyledComponent } from '@emotion/styled'\n\nexport const WideButton: StyledComponent<ButtonProps> = styled(Button, {\n  label: 'WideButton',\n})(({ theme }) => ({\n  minWidth: '168px',\n  padding: '10px',\n  fontSize: '16px',\n}))\n\nexport default WideButton\n","import React from 'react'\nimport WideButton from '../../../components/styled/WideButton'\n\nexport type ButtonLinkWidgetParams = {\n  align?: string\n  highlight?: string\n  url?: string\n  text?: string\n}\n\nexport default function MarkdownButton(\n  widgetParamsMapped: ButtonLinkWidgetParams,\n) {\n  let buttonClasses = ''\n  const { align = '', highlight: _highlight = '' } = widgetParamsMapped\n  const highlight = _highlight === 'true'\n  const alignLowerCase = align.toLowerCase()\n  if (alignLowerCase === 'left') {\n    buttonClasses += 'floatleft '\n  }\n  if (alignLowerCase === 'right') {\n    buttonClasses += 'floatright '\n  }\n  const buttonIsCenterAligned = alignLowerCase === 'center'\n  const buttonColor = highlight ? 'secondary' : 'neutral'\n  const button = (\n    <WideButton\n      href={widgetParamsMapped.url}\n      className={buttonClasses}\n      variant=\"contained\"\n      color={buttonColor}\n      sx={{\n        '&:hover': {\n          backgroundColor: highlight ? undefined : 'secondary.main',\n          color: 'white',\n        },\n        ...(!buttonIsCenterAligned &&\n          widgetParamsMapped.url && {\n            margin: '20px 20px 20px 0px',\n          }),\n      }}\n    >\n      {widgetParamsMapped.text}\n    </WideButton>\n  )\n\n  return buttonIsCenterAligned ? (\n    <div style={{ textAlign: 'center' }}>{button}</div>\n  ) : (\n    <span>{button}</span>\n  )\n}\n","import { QueryOptions, useQuery } from 'react-query'\nimport { getEntity } from '../SynapseClient'\nimport { useSynapseContext } from '../SynapseContext'\nimport { Entity, isLink } from '../synapseTypes'\n\n/**\n * Follows a Synapse entity ID to the end of the chain of links\n * @param synId the ID of a Synapse entity that may be a link\n * @returns the ID of the entity at the end of the chain of links\n * @throws an error if a link is found that does not resolve, or if a cycle is found\n */\nexport async function resolveLinkEntity(\n  synId: string,\n  versionNumber?: number,\n  accessToken?: string,\n): Promise<Entity> {\n  // Track visited entities to prevent infinitely fetching a cycle of Links\n  const seen: Set<string> = new Set()\n  try {\n    let currentEntity = await getEntity(accessToken, synId, versionNumber)\n    while (isLink(currentEntity)) {\n      if (seen.has(currentEntity.id!)) {\n        throw new Error('Link forms a cycle.')\n      }\n      seen.add(currentEntity.id!)\n      currentEntity = await getEntity(\n        accessToken,\n        currentEntity.linksTo.targetId,\n        currentEntity.linksTo.targetVersionNumber,\n      )\n    }\n    return currentEntity\n  } catch (e) {\n    throw new Error(`${synId} could not be resolved.\\n${(e as Error).message}`)\n  }\n}\n\nexport function useResolveLinkEntity(\n  synId: string,\n  versionNumber?: number,\n  options?: QueryOptions<Entity>,\n) {\n  const { accessToken } = useSynapseContext()\n  return useQuery(\n    ['resolveLinkEntity', synId, versionNumber],\n    () => resolveLinkEntity(synId, versionNumber, accessToken),\n    options,\n  )\n}\n","import { useQuery, UseQueryOptions } from 'react-query'\nimport { SynapseClient } from '../../..'\nimport { SynapseClientError } from '../../../SynapseClientError'\nimport { useSynapseContext } from '../../../SynapseContext'\nimport { PaginatedResults } from '../../../synapseTypes'\nimport { TeamMember } from '../../../synapseTypes/TeamMember'\n\nexport function useGetTeamMembers(\n  teamId: string | number,\n  options?: UseQueryOptions<PaginatedResults<TeamMember>, SynapseClientError>,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n  return useQuery<PaginatedResults<TeamMember>, SynapseClientError>(\n    keyFactory.getTeamMembersQueryKey(String(teamId)),\n    () => SynapseClient.getTeamMembers(accessToken, teamId, '', 50, 0),\n    options,\n  )\n}\n\nexport function useGetIsUserMemberOfTeam(\n  teamId: string,\n  userId: string,\n  options?: UseQueryOptions<TeamMember | null, SynapseClientError>,\n) {\n  const { accessToken, keyFactory } = useSynapseContext()\n\n  return useQuery<TeamMember | null, SynapseClientError>(\n    keyFactory.getIsUserMemberOfTeamQueryKey(teamId, userId),\n    () => SynapseClient.getIsUserMemberOfTeam(teamId, userId, accessToken),\n    options,\n  )\n}\n","import React, { useMemo, useEffect, useState, useRef } from 'react'\nimport xss from 'xss'\nimport { xssOptions } from '../../../utils/functions/SanitizeHtmlUtils'\nimport { useGetIsUserMemberOfTeam } from '../../../utils/hooks/SynapseAPI/team/useTeamMembers'\nimport { TRUSTED_HTML_USERS_TEAM_ID } from '../../../utils/SynapseConstants'\nimport { SynapseSpinner } from '../../LoadingScreen'\nimport { Alert } from 'react-bootstrap'\n\n/**\n * @param options\n * @returns HTML that is cleaned if it is not trusted. undefined if `isLoading` is true.\n */\nfunction useCleanHtml(options: {\n  rawHtml: string\n  isLoading: boolean\n  isTrusted: boolean\n}): string | undefined {\n  const { rawHtml, isLoading, isTrusted } = options\n  return useMemo(() => {\n    if (isLoading) {\n      return undefined\n    }\n    if (isTrusted) {\n      return rawHtml\n    } else {\n      return xss(rawHtml, xssOptions)\n    }\n  }, [isLoading, isTrusted, rawHtml])\n}\n\nexport type HtmlPreviewProps = {\n  createdByUserId: string\n  rawHtml: string\n}\n\n/**\n * Renders raw HTML. Uses file handle data to determine if the content should be sanitized.\n * @param props\n * @returns\n */\nexport default function HtmlPreview(props: HtmlPreviewProps) {\n  const { createdByUserId, rawHtml } = props\n  const frameEl = useRef(null)\n  const [frameHeight, setFrameHeight] = useState(100)\n\n  const { data: teamMembership, isLoading } = useGetIsUserMemberOfTeam(\n    TRUSTED_HTML_USERS_TEAM_ID,\n    createdByUserId,\n  )\n  const updateHeight = () => {\n    if (frameEl?.current && frameEl?.current['contentWindow']) {\n      let newHeightPx: number =\n        frameEl.current['contentWindow']['document']['body']['scrollHeight']\n      if (newHeightPx < 450) {\n        newHeightPx = 450\n      }\n      if (!frameHeight || Math.abs(newHeightPx - frameHeight) > 70) {\n        setFrameHeight(newHeightPx + 50)\n      }\n    }\n  }\n  useEffect(() => {\n    setInterval(() => {\n      updateHeight()\n    }, 500)\n  }, [rawHtml])\n  const htmlIsCreatedByTrustedUser = !!teamMembership\n\n  const cleanHtml = useCleanHtml({\n    rawHtml,\n    isLoading,\n    isTrusted: htmlIsCreatedByTrustedUser,\n  })\n\n  if (isLoading) {\n    return <SynapseSpinner />\n  }\n\n  return (\n    <>\n      {rawHtml !== cleanHtml && (\n        <Alert\n          variant=\"info\"\n          dismissible={false}\n          show={true}\n          transition={false}\n        >\n          Limited rendering only.\n        </Alert>\n      )}\n      <iframe\n        ref={frameEl}\n        srcDoc={cleanHtml}\n        height={`${frameHeight}px`}\n        style={{ border: 0, width: '100%' }}\n      />\n    </>\n  )\n}\n\nexport const EXPORTED_FOR_UNIT_TESTING = {\n  useCleanHtml,\n}\n","// Note: The PreviewRendererType is copied from SWC's PreviewWidget.PreviewFileType\n// Not all of these are supported by SRC, but we do need to support all of them for preview widget feature parity\n\n/**\n * Types of files that can be previewed. The PreviewFileType of a file handle can be determined based on its MIME type.\n * Each value corresponds to a particular renderer.\n */\nexport enum PreviewRendererType {\n  PLAINTEXT = 'PLAINTEXT',\n  CODE = 'CODE',\n  ZIP = 'ZIP',\n  CSV = 'CSV',\n  IMAGE = 'IMAGE',\n  NONE = 'NONE',\n  TAB = 'TAB',\n  HTML = 'HTML',\n  PDF = 'PDF',\n  IPYNB = 'IPYNB',\n  VIDEO = 'VIDEO',\n  MARKDOWN = 'MARKDOWN',\n  TIFF = 'TIFF',\n}\n","import React from 'react'\nimport { useGetPresignedUrlContent } from '../../utils/hooks/SynapseAPI/file/useFiles'\nimport { MB } from '../../utils/SynapseConstants'\nimport {\n  FileHandle,\n  FileHandleAssociation,\n  BatchFileRequest,\n} from '../../utils/synapseTypes'\nimport { SynapseSpinner } from '../LoadingScreen'\nimport HtmlPreview from './HtmlPreview/HtmlPreview'\nimport { PreviewRendererType } from './PreviewRendererType'\n\nconst MAX_FILE_SIZE = 30 * MB\n\nexport type FileHandleContentRendererProps = {\n  /** The file handle whose contents should be downloaded and rendered */\n  fileHandle: FileHandle\n  /** The association between the file handle and an object which will give the user permission to access the file data */\n  fileHandleAssociation: FileHandleAssociation\n  /** Informs how to render the file data */\n  previewType: PreviewRendererType\n}\n\n/**\n * Fetches the content for and renders the contents of a file handle.\n * @param props\n * @returns\n */\nexport default function FileHandleContentRenderer(\n  props: FileHandleContentRendererProps,\n) {\n  const { fileHandle, fileHandleAssociation, previewType } = props\n\n  const batchFileRequest: BatchFileRequest = {\n    requestedFiles: [fileHandleAssociation],\n    includePreSignedURLs: true,\n    includeFileHandles: false,\n    includePreviewPreSignedURLs: false,\n  }\n\n  const { data: content, isLoading } = useGetPresignedUrlContent(\n    fileHandle,\n    batchFileRequest,\n    MAX_FILE_SIZE,\n    { useErrorBoundary: true },\n  )\n\n  if (isLoading) {\n    return <SynapseSpinner />\n  }\n  if (previewType === PreviewRendererType.HTML) {\n    return (\n      <HtmlPreview rawHtml={content!} createdByUserId={fileHandle.createdBy} />\n    )\n  } else {\n    if (previewType !== PreviewRendererType.NONE) {\n      console.warn(\n        `Rendering a preview of type ${previewType} is not supported in Portals`,\n      )\n    }\n    return <></>\n  }\n}\n","import {\n  FileHandle,\n  implementsCloudProviderFileHandleInterface,\n} from '../../utils/synapseTypes'\nimport { PreviewRendererType } from './PreviewRendererType'\n\nexport const IMAGE_CONTENT_TYPES = [\n  'image/bmp',\n  'image/pjpeg',\n  'image/jpeg',\n  'image/jpg',\n  'image/jpe',\n  'image/gif',\n  'image/png',\n  'image/svg+xml',\n]\nconst MP4_EXTENSIONS = ['.mp4', '.m4a', '.m4p', '.m4b', '.m4r', '.m4v']\nconst OGG_EXTENSIONS = ['.ogv', '.ogg']\nexport const VIDEO_EXTENSIONS = [...MP4_EXTENSIONS, ...OGG_EXTENSIONS, '.webm']\nexport const CODE_EXTENSIONS = [\n  '.cwl',\n  '.wdl',\n  '.json',\n  '.awk',\n  '.bat',\n  '.btm',\n  '.c',\n  '.cmd',\n  '.cpp',\n  '.cxx',\n  '.def',\n  '.dlg',\n  '.dpc',\n  '.dpj',\n  '.dtd',\n  '.h',\n  '.hdl',\n  '.hpp',\n  '.hrc',\n  '.html',\n  '.hxx',\n  '.inc',\n  '.ini',\n  '.inl',\n  '.ins',\n  '.ipy',\n  '.java',\n  '.js',\n  '.jsp',\n  '.l',\n  '.lgt',\n  '.ll',\n  '.par',\n  '.pl',\n  '.py',\n  '.r',\n  '.rc',\n  '.rdb',\n  '.res',\n  '.s',\n  '.sbl',\n  '.scp',\n  '.sh',\n  '.sql',\n  '.src',\n  '.srs',\n  '.xml',\n  '.xrb',\n  '.y',\n  '.yaml',\n  '.yxx',\n]\nexport const MARKDOWN_EXTENSIONS = ['.md', '.markdown', '.rmd']\n\nfunction getFileExtension(fileName: string): string | null {\n  const index = fileName.lastIndexOf('.')\n  if (index === -1) {\n    return null\n  }\n  return fileName.substring(index)\n}\n\n/**\n * Given a file handle that represents a link to original data, return the type of renderer that we could use to\n * display the file contents in the browser.\n *\n * @returns the PreviewRendererType that would be used to render the file contents, or NONE if the file cannot be rendered\n */\nexport function getOriginalFileHandleRenderer(\n  dataFileHandle: FileHandle,\n): PreviewRendererType {\n  if (!implementsCloudProviderFileHandleInterface(dataFileHandle)) {\n    return PreviewRendererType.NONE\n  }\n\n  const fileExtension = getFileExtension(dataFileHandle.fileName)\n\n  if (fileExtension && VIDEO_EXTENSIONS.includes(fileExtension)) {\n    return PreviewRendererType.VIDEO\n  }\n\n  if (fileExtension === '.ipynb') {\n    return PreviewRendererType.IPYNB\n  }\n\n  if (IMAGE_CONTENT_TYPES.includes(dataFileHandle.contentType)) {\n    return PreviewRendererType.IMAGE\n  }\n\n  if (dataFileHandle.contentType === 'text/html') {\n    return PreviewRendererType.HTML\n  }\n\n  if (dataFileHandle.contentType.toLowerCase().startsWith('application/pdf')) {\n    return PreviewRendererType.PDF\n  }\n\n  if (fileExtension && CODE_EXTENSIONS.includes(fileExtension)) {\n    return PreviewRendererType.CODE\n  }\n\n  if (fileExtension && MARKDOWN_EXTENSIONS.includes(fileExtension)) {\n    return PreviewRendererType.MARKDOWN\n  }\n\n  if (dataFileHandle.contentType === 'image/tiff') {\n    return PreviewRendererType.TIFF\n  }\n\n  return PreviewRendererType.NONE\n}\n\n/**\n * Given a file handle that represents a preview of original data (which is generated by Synapse), return the type of renderer that we could use to\n * display the preview file contents in the browser.\n *\n * @param previewFileHandle the file handle that represents a preview of original data\n * @param originalFileHandle the file handle that represents the original data that the preview captures.\n * @returns the PreviewRendererType that would be used to render the preview file contents, or NONE if the file cannot be rendered\n */\nexport function getPreviewFileHandleRenderer(\n  previewFileHandle: FileHandle,\n  originalFileHandle: FileHandle,\n): PreviewRendererType {\n  const contentType = previewFileHandle.contentType\n  if (!implementsCloudProviderFileHandleInterface(previewFileHandle)) {\n    return PreviewRendererType.NONE\n  }\n  if (IMAGE_CONTENT_TYPES.includes(previewFileHandle.contentType)) {\n    return PreviewRendererType.IMAGE\n  }\n\n  if (contentType.toLowerCase().startsWith('text/')) {\n    if (contentType.toLowerCase() === 'text/csv') {\n      if (originalFileHandle.contentType === 'application/zip') {\n        return PreviewRendererType.ZIP\n      } else {\n        return PreviewRendererType.CSV\n      }\n    } else if (contentType.toLowerCase() === 'text/tab-separated-values') {\n      return PreviewRendererType.TAB\n    } else {\n      return PreviewRendererType.PLAINTEXT\n    }\n  }\n\n  if (contentType.toLowerCase().startsWith('application/pdf')) {\n    return PreviewRendererType.PDF\n  }\n\n  return PreviewRendererType.NONE\n}\n","import React from 'react'\nimport {\n  EntityBundle,\n  isFileEntity,\n  FileHandleAssociateType,\n  implementsCloudProviderFileHandleInterface,\n} from '../../utils/synapseTypes'\nimport FileHandleContentRenderer from './FileHandleContentRenderer'\nimport { PreviewRendererType } from './PreviewRendererType'\nimport {\n  getOriginalFileHandleRenderer,\n  getPreviewFileHandleRenderer,\n} from './PreviewUtils'\nimport { useSynapseContext } from '../../utils/SynapseContext'\nimport { Alert } from 'react-bootstrap'\nimport { SignInPrompt } from '../error/ErrorBanner'\n\nexport type FileEntityPreviewProps = {\n  /** An entity bundle containing a FileEntity, and its fileHandles */\n  bundle: EntityBundle\n}\n\n/**\n * Given an entity bundle that contains a FileEntity, render a preview of the file. The rendered preview will be determined based on the\n * content type and file name of the file handle(s) associated with the FileEntity.\n * @param props\n */\nexport default function FileEntityPreview(props: FileEntityPreviewProps) {\n  const { bundle } = props\n  const { accessToken } = useSynapseContext()\n  const isLoggedIn = !!accessToken\n\n  if (!isFileEntity(bundle.entity)) {\n    throw new Error(`Entity ${bundle.entity.id!} is not a FileEntity`)\n  }\n\n  /**\n   * The dataFileHandle and the previewFileHandle may not have the same contentType.\n   *\n   * For example, ZIP files are assigned a CSV preview listing the ZIP file contents.\n   */\n  const dataFileHandleId = bundle.entity.dataFileHandleId\n  const dataFileHandle = bundle.fileHandles.find(\n    fh => fh.id === dataFileHandleId,\n  )\n\n  if (!dataFileHandle && !isLoggedIn) {\n    // We may be previewing a file handle that the anonymous user cannot see. Prompt the user to log in.\n    return (\n      <Alert\n        dismissible={false}\n        show={true}\n        variant={'danger'}\n        transition={false}\n      >\n        <SignInPrompt />\n      </Alert>\n    )\n  }\n\n  // If we can render the original file, do so:\n  if (dataFileHandle) {\n    const previewType = getOriginalFileHandleRenderer(dataFileHandle)\n    if (previewType !== PreviewRendererType.NONE) {\n      return (\n        <FileHandleContentRenderer\n          fileHandle={dataFileHandle}\n          fileHandleAssociation={{\n            fileHandleId: dataFileHandleId,\n            associateObjectId: bundle.entity.id!,\n            associateObjectType: FileHandleAssociateType.FileEntity,\n          }}\n          previewType={previewType}\n        />\n      )\n    }\n  }\n\n  // Otherwise, see if we can render the preview file handle that Synapse created\n  const previewFileHandle = bundle.fileHandles.find(\n    fh => implementsCloudProviderFileHandleInterface(fh) && fh.isPreview,\n  )\n\n  if (previewFileHandle && dataFileHandle) {\n    const previewType = getPreviewFileHandleRenderer(\n      previewFileHandle,\n      dataFileHandle,\n    )\n    if (previewType !== PreviewRendererType.NONE) {\n      return (\n        <FileHandleContentRenderer\n          fileHandle={previewFileHandle}\n          fileHandleAssociation={{\n            fileHandleId: previewFileHandle.id,\n            associateObjectId: bundle.entity.id!,\n            associateObjectType: FileHandleAssociateType.FileEntity,\n          }}\n          previewType={previewType}\n        />\n      )\n    }\n  }\n\n  // We can't render the file, so throw an Error so the ErrorBoundary will show an alert.\n  throw new Error(`Could not render a preview for entity: ${bundle.entity.id!}`)\n}\n","import React from 'react'\nimport { useResolveLinkEntity } from '../../utils/functions/ResolveLinkEntity'\nimport useGetEntityBundle from '../../utils/hooks/SynapseAPI/entity/useEntityBundle'\nimport { ALL_ENTITY_BUNDLE_FIELDS } from '../../utils/SynapseConstants'\nimport { FileEntity, isFileEntity } from '../../utils/synapseTypes'\nimport { SynapseSpinner } from '../LoadingScreen'\nimport FileEntityPreview from './FileEntityPreview'\n\nexport type EntityPreviewProps = {\n  entityId: string\n  versionNumber?: number\n}\n\n/**\n * Returns a preview of an entity. Currently only works for FileEntities, and Links that resolve to FileEntities.\n * @param props\n * @returns\n */\nexport default function EntityPreview(props: EntityPreviewProps) {\n  const { entityId, versionNumber } = props\n\n  // If the entity is a Link, follow it until we get a non-link\n  const { data: resolvedLink, isLoading: isLoadingLinkResolution } =\n    useResolveLinkEntity(entityId, versionNumber)\n  const isResolvedLinkFileEntity = resolvedLink && isFileEntity(resolvedLink)\n\n  const { data: bundle, isLoading: isLoadingBundle } = useGetEntityBundle(\n    resolvedLink?.id!,\n    (resolvedLink as FileEntity | undefined)?.versionNumber,\n    ALL_ENTITY_BUNDLE_FIELDS,\n    {\n      enabled: !!isResolvedLinkFileEntity,\n      useErrorBoundary: true,\n    },\n  )\n\n  const isLoading = isLoadingLinkResolution || isLoadingBundle\n\n  if (isLoading) {\n    return <SynapseSpinner />\n  }\n\n  // If the entity is NOT a FileEntity, throw an error\n  if (!isResolvedLinkFileEntity) {\n    throw new Error(`${entityId} is not a File and cannot be previewed.`)\n  } else {\n    return <FileEntityPreview bundle={bundle!} />\n  }\n}\n","import React from 'react'\nimport EntityPreview from '../../FilePreview/EntityPreview'\nimport { parseSynId } from '../../../utils/functions/RegularExpressions'\n\nexport type MarkdownEntityPreviewProps = {\n  /** A Synapse Entity ID that may optionally contain a \"dot\" version, e.g. syn123 or syn123.2 */\n  entityId: string\n  /** An optional Entity version number. */\n  versionNumber?: string\n}\n\nexport default function MarkdownEntityPreview(\n  props: MarkdownEntityPreviewProps,\n) {\n  const parsedReference = parseSynId(props.entityId)\n  if (parsedReference == null) {\n    throw new Error(`${props.entityId} is not a valid Synapse ID`)\n  }\n  const parsedVersionNumber = parseInt(props.versionNumber ?? '')\n\n  const entityId = parsedReference.targetId\n  const versionNumber = Number.isNaN(parsedVersionNumber)\n    ? parsedReference.targetVersionNumber\n    : parsedVersionNumber\n\n  return <EntityPreview entityId={entityId} versionNumber={versionNumber} />\n}\n","import React from 'react'\nimport { Skeleton } from '@mui/material'\nimport { SubmissionInfo } from '../utils/synapseTypes/SubmissionInfo'\nimport { SMALL_USER_CARD } from '../utils/SynapseConstants'\nimport UserCard from './UserCard'\nimport { formatDate } from '../utils/functions/DateFormatter'\nimport dayjs from 'dayjs'\nimport { SkeletonTable } from '../assets/skeletons/SkeletonTable'\nimport MarkdownSynapse from './markdown/MarkdownSynapse'\n\nexport type SubmissionInfoCardProps = {\n  info: SubmissionInfo\n}\n\nexport const SubmissionInfoCard: React.FunctionComponent<\n  SubmissionInfoCardProps\n> = ({ info }: SubmissionInfoCardProps) => {\n  return (\n    <>\n      {info && (\n        <p className=\"SubmissionInfoCard\">\n          <strong> Project Lead: </strong> <span>{info.projectLead}</span>{' '}\n          <br />\n          <strong> Institution: </strong> <span>{info.institution}</span> <br />\n          <strong> Data Access Request Submitted By: </strong>{' '}\n          <UserCard ownerId={info.submittedBy} size={SMALL_USER_CARD} /> <br />\n          <strong>\n            {' '}\n            Intended Data Use Statement &#40;accepted on{' '}\n            {formatDate(dayjs(info.modifiedOn), 'M/D/YYYY')}&#41;:\n          </strong>\n          <MarkdownSynapse markdown={info.intendedDataUseStatement} />\n          {info.accessorChanges &&\n            info.accessorChanges.map(accessorChange => (\n              <div key={`${accessorChange.userId}-${accessorChange.type}`}>\n                <UserCard\n                  ownerId={accessorChange.userId}\n                  size={SMALL_USER_CARD}\n                />{' '}\n                {accessorChange.type}\n              </div>\n            ))}\n        </p>\n      )}\n    </>\n  )\n}\n\nexport const LoadingSubmissionInfoCard: React.FunctionComponent = () => {\n  return (\n    <p className=\"SubmissionInfoCard\">\n      <SkeletonTable numCols={1} numRows={4} />\n      <Skeleton variant=\"rectangular\" width={'100%'} height={80} />\n    </p>\n  )\n}\n","import React, { useEffect } from 'react'\nimport { useInView } from 'react-intersection-observer'\nimport { useGetApprovedSubmissionInfoInfinite } from '../utils/hooks/SynapseAPI/dataaccess/useGetApprovedSubmissionInfo'\nimport { SubmissionInfo } from '../utils/synapseTypes/SubmissionInfo'\nimport {\n  LoadingSubmissionInfoCard,\n  SubmissionInfoCard,\n} from './IDUReportSubmissionInfo'\n\nexport type IDUReportProps = {\n  accessRequirementId: string\n}\n\nexport const IDUReport: React.FunctionComponent<IDUReportProps> = (\n  props: IDUReportProps,\n) => {\n  const { accessRequirementId } = props\n  // Load the next page when this ref comes into view.\n  const { ref, inView } = useInView()\n\n  const {\n    data,\n    status,\n    isLoading,\n    hasNextPage,\n    isFetchingNextPage,\n    fetchNextPage,\n  } = useGetApprovedSubmissionInfoInfinite(accessRequirementId, {\n    useErrorBoundary: true,\n  })\n  useEffect(() => {\n    if (\n      status === 'success' &&\n      !isFetchingNextPage &&\n      hasNextPage &&\n      fetchNextPage &&\n      inView\n    ) {\n      fetchNextPage()\n    }\n  }, [status, hasNextPage, isFetchingNextPage, fetchNextPage, inView])\n\n  const allRows = data?.pages.flatMap(page => page.results) ?? []\n\n  return (\n    <>\n      {allRows.length > 0 && (\n        <div className=\"IDUReport\">\n          {allRows.map((item: SubmissionInfo) => {\n            return (\n              <React.Fragment key={JSON.stringify(item)}>\n                <SubmissionInfoCard info={item} />\n                <hr />\n              </React.Fragment>\n            )\n          })}\n          {/* To trigger loading the next page */}\n          <div ref={ref} />\n        </div>\n      )}\n      {(isLoading || isFetchingNextPage) && (\n        <>\n          <LoadingSubmissionInfoCard />\n          <LoadingSubmissionInfoCard />\n        </>\n      )}\n    </>\n  )\n}\nexport default IDUReport\n","import React from 'react'\nimport IDUReport from '../../IDUReport'\n\nexport type MarkdownIDUReportProps = {\n  accessRestrictionId: string\n}\n\nexport default function MarkdownIDUReport(props: MarkdownIDUReportProps) {\n  const { accessRestrictionId } = props\n  return <IDUReport accessRequirementId={accessRestrictionId} />\n}\n","export default function cc(names) {\n  if (typeof names === \"string\" || typeof names === \"number\") return \"\" + names\n\n  let out = \"\"\n\n  if (Array.isArray(names)) {\n    for (let i = 0, tmp; i < names.length; i++) {\n      if ((tmp = cc(names[i])) !== \"\") {\n        out += (out && \" \") + tmp\n      }\n    }\n  } else {\n    for (let k in names) {\n      if (names[k]) out += (out && \" \") + k\n    }\n  }\n\n  return out\n}\n","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\") ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, subscribe, destroy };\n  state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n","/**\n * @license React\n * use-sync-external-store-shim.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var e=require(\"react\");function h(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var k=\"function\"===typeof Object.is?Object.is:h,l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p=e.useDebugValue;function q(a,b){var d=b(),f=l({inst:{value:d,getSnapshot:b}}),c=f[0].inst,g=f[1];n(function(){c.value=d;c.getSnapshot=b;r(c)&&g({inst:c})},[a,d,b]);m(function(){r(c)&&g({inst:c});return a(function(){r(c)&&g({inst:c})})},[a]);p(d);return d}\nfunction r(a){var b=a.getSnapshot;a=a.value;try{var d=b();return!k(a,d)}catch(f){return!0}}function t(a,b){return b()}var u=\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement?t:q;exports.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var h=require(\"react\"),n=require(\"use-sync-external-store/shim\");function p(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var q=\"function\"===typeof Object.is?Object.is:p,r=n.useSyncExternalStore,t=h.useRef,u=h.useEffect,v=h.useMemo,w=h.useDebugValue;\nexports.useSyncExternalStoreWithSelector=function(a,b,e,l,g){var c=t(null);if(null===c.current){var f={hasValue:!1,value:null};c.current=f}else f=c.current;c=v(function(){function a(a){if(!c){c=!0;d=a;a=l(a);if(void 0!==g&&f.hasValue){var b=f.value;if(g(b,a))return k=b}return k=a}b=k;if(q(d,a))return b;var e=l(a);if(void 0!==g&&g(b,e))return b;d=a;return k=e}var c=!1,d,k,m=void 0===e?null:e;return[function(){return a(b())},null===m?void 0:function(){return a(m())}]},[b,e,l,g]);var d=r(a,c[0],c[1]);\nu(function(){f.hasValue=!0;f.value=d},[d]);w(d);return d};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","import { createStore } from 'zustand/vanilla';\nexport * from 'zustand/vanilla';\nimport { useDebugValue } from 'react';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/with-selector.js';\n\nconst { useSyncExternalStoreWithSelector } = useSyncExternalStoreExports;\nfunction useStore(api, selector = api.getState, equalityFn) {\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  if ((import.meta.env && import.meta.env.MODE) !== \"production\" && typeof createState !== \"function\") {\n    console.warn(\n      \"[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.\"\n    );\n  }\n  const api = typeof createState === \"function\" ? createStore(createState) : createState;\n  const useBoundStore = (selector, equalityFn) => useStore(api, selector, equalityFn);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\nvar react = (createState) => {\n  if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`.\"\n    );\n  }\n  return create(createState);\n};\n\nexport { create, react as default, useStore };\n","function shallow(objA, objB) {\n  if (Object.is(objA, objB)) {\n    return true;\n  }\n  if (typeof objA !== \"object\" || objA === null || typeof objB !== \"object\" || objB === null) {\n    return false;\n  }\n  if (objA instanceof Map && objB instanceof Map) {\n    if (objA.size !== objB.size)\n      return false;\n    for (const [key, value] of objA) {\n      if (!Object.is(value, objB.get(key))) {\n        return false;\n      }\n    }\n    return true;\n  }\n  if (objA instanceof Set && objB instanceof Set) {\n    if (objA.size !== objB.size)\n      return false;\n    for (const value of objA) {\n      if (!objB.has(value)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  const keysA = Object.keys(objA);\n  if (keysA.length !== Object.keys(objB).length) {\n    return false;\n  }\n  for (let i = 0; i < keysA.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !Object.is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n  return true;\n}\nvar shallow$1 = (objA, objB) => {\n  if ((import.meta.env && import.meta.env.MODE) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { shallow } from 'zustand/shallow'`.\"\n    );\n  }\n  return shallow(objA, objB);\n};\n\nexport { shallow$1 as default, shallow };\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we dont ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isnt worried about live collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// dont; wed rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default x => () => x;\n","export default function DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {select, pointer} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nonpassive, nonpassivecapture, nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved, nonpassive)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view)\n      .on(\"mousemove.drag\", mousemoved, nonpassivecapture)\n      .on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // falls through\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0  u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event wont trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { createContext, useContext, useMemo, memo, useRef, useState, useEffect, forwardRef, useCallback } from 'react';\nimport cc from 'classcat';\nimport { useStore as useStore$1, createStore } from 'zustand';\nimport { shallow } from 'zustand/shallow';\nimport { drag } from 'd3-drag';\nimport { select, pointer } from 'd3-selection';\nimport { zoomIdentity, zoom } from 'd3-zoom';\nimport { createPortal } from 'react-dom';\n\nconst StoreContext = createContext(null);\nconst Provider$1 = StoreContext.Provider;\n\nconst errorMessages = {\n    error001: () => '[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001',\n    error002: () => \"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.\",\n    error003: (nodeType) => `Node type \"${nodeType}\" not found. Using fallback type \"default\".`,\n    error004: () => 'The React Flow parent container needs a width and a height to render the graph.',\n    error005: () => 'Only child nodes can use a parent extent.',\n    error006: () => \"Can't create edge. An edge needs a source and a target.\",\n    error007: (id) => `The old edge with id=${id} does not exist.`,\n    error009: (type) => `Marker type \"${type}\" doesn't exist.`,\n    error008: (sourceHandle, edge) => `Couldn't create edge for ${!sourceHandle ? 'source' : 'target'} handle id: \"${!sourceHandle ? edge.sourceHandle : edge.targetHandle}\", edge id: ${edge.id}.`,\n    error010: () => 'Handle: No node id found. Make sure to only use a Handle inside a custom Node.',\n    error011: (edgeType) => `Edge type \"${edgeType}\" not found. Using fallback type \"default\".`,\n};\n\nconst zustandErrorMessage = errorMessages['error001']();\nfunction useStore(selector, equalityFn) {\n    const store = useContext(StoreContext);\n    if (store === null) {\n        throw new Error(zustandErrorMessage);\n    }\n    return useStore$1(store, selector, equalityFn);\n}\nconst useStoreApi = () => {\n    const store = useContext(StoreContext);\n    if (store === null) {\n        throw new Error(zustandErrorMessage);\n    }\n    return useMemo(() => ({\n        getState: store.getState,\n        setState: store.setState,\n        subscribe: store.subscribe,\n        destroy: store.destroy,\n    }), [store]);\n};\n\nconst selector$g = (s) => (s.userSelectionActive ? 'none' : 'all');\nfunction Panel({ position, children, className, style, ...rest }) {\n    const pointerEvents = useStore(selector$g);\n    const positionClasses = `${position}`.split('-');\n    return (jsx(\"div\", { className: cc(['react-flow__panel', className, ...positionClasses]), style: { ...style, pointerEvents }, ...rest, children: children }));\n}\n\nfunction Attribution({ proOptions, position = 'bottom-right' }) {\n    if (proOptions?.hideAttribution) {\n        return null;\n    }\n    return (jsx(Panel, { position: position, className: \"react-flow__attribution\", \"data-message\": \"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev\", children: jsx(\"a\", { href: \"https://reactflow.dev\", target: \"_blank\", rel: \"noopener noreferrer\", \"aria-label\": \"React Flow attribution\", children: \"React Flow\" }) }));\n}\n\nconst EdgeText = ({ x, y, label, labelStyle = {}, labelShowBg = true, labelBgStyle = {}, labelBgPadding = [2, 4], labelBgBorderRadius = 2, children, className, ...rest }) => {\n    const edgeRef = useRef(null);\n    const [edgeTextBbox, setEdgeTextBbox] = useState({ x: 0, y: 0, width: 0, height: 0 });\n    const edgeTextClasses = cc(['react-flow__edge-textwrapper', className]);\n    useEffect(() => {\n        if (edgeRef.current) {\n            const textBbox = edgeRef.current.getBBox();\n            setEdgeTextBbox({\n                x: textBbox.x,\n                y: textBbox.y,\n                width: textBbox.width,\n                height: textBbox.height,\n            });\n        }\n    }, [label]);\n    if (typeof label === 'undefined' || !label) {\n        return null;\n    }\n    return (jsxs(\"g\", { transform: `translate(${x - edgeTextBbox.width / 2} ${y - edgeTextBbox.height / 2})`, className: edgeTextClasses, visibility: edgeTextBbox.width ? 'visible' : 'hidden', ...rest, children: [labelShowBg && (jsx(\"rect\", { width: edgeTextBbox.width + 2 * labelBgPadding[0], x: -labelBgPadding[0], y: -labelBgPadding[1], height: edgeTextBbox.height + 2 * labelBgPadding[1], className: \"react-flow__edge-textbg\", style: labelBgStyle, rx: labelBgBorderRadius, ry: labelBgBorderRadius })), jsx(\"text\", { className: \"react-flow__edge-text\", y: edgeTextBbox.height / 2, dy: \"0.3em\", ref: edgeRef, style: labelStyle, children: label }), children] }));\n};\nvar EdgeText$1 = memo(EdgeText);\n\nconst getDimensions = (node) => ({\n    width: node.offsetWidth,\n    height: node.offsetHeight,\n});\nconst clamp = (val, min = 0, max = 1) => Math.min(Math.max(val, min), max);\nconst clampPosition = (position = { x: 0, y: 0 }, extent) => ({\n    x: clamp(position.x, extent[0][0], extent[1][0]),\n    y: clamp(position.y, extent[0][1], extent[1][1]),\n});\n// returns a number between 0 and 1 that represents the velocity of the movement\n// when the mouse is close to the edge of the canvas\nconst calcAutoPanVelocity = (value, min, max) => {\n    if (value < min) {\n        return clamp(Math.abs(value - min), 1, 50) / 50;\n    }\n    else if (value > max) {\n        return -clamp(Math.abs(value - max), 1, 50) / 50;\n    }\n    return 0;\n};\nconst calcAutoPan = (pos, bounds) => {\n    const xMovement = calcAutoPanVelocity(pos.x, 35, bounds.width - 35) * 20;\n    const yMovement = calcAutoPanVelocity(pos.y, 35, bounds.height - 35) * 20;\n    return [xMovement, yMovement];\n};\nconst getHostForElement = (element) => element.getRootNode?.() || window?.document;\nconst getBoundsOfBoxes = (box1, box2) => ({\n    x: Math.min(box1.x, box2.x),\n    y: Math.min(box1.y, box2.y),\n    x2: Math.max(box1.x2, box2.x2),\n    y2: Math.max(box1.y2, box2.y2),\n});\nconst rectToBox = ({ x, y, width, height }) => ({\n    x,\n    y,\n    x2: x + width,\n    y2: y + height,\n});\nconst boxToRect = ({ x, y, x2, y2 }) => ({\n    x,\n    y,\n    width: x2 - x,\n    height: y2 - y,\n});\nconst nodeToRect = (node) => ({\n    ...(node.positionAbsolute || { x: 0, y: 0 }),\n    width: node.width || 0,\n    height: node.height || 0,\n});\nconst getBoundsOfRects = (rect1, rect2) => boxToRect(getBoundsOfBoxes(rectToBox(rect1), rectToBox(rect2)));\nconst getOverlappingArea = (rectA, rectB) => {\n    const xOverlap = Math.max(0, Math.min(rectA.x + rectA.width, rectB.x + rectB.width) - Math.max(rectA.x, rectB.x));\n    const yOverlap = Math.max(0, Math.min(rectA.y + rectA.height, rectB.y + rectB.height) - Math.max(rectA.y, rectB.y));\n    return Math.ceil(xOverlap * yOverlap);\n};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst isRectObject = (obj) => isNumeric(obj.width) && isNumeric(obj.height) && isNumeric(obj.x) && isNumeric(obj.y);\n/* eslint-disable-next-line @typescript-eslint/no-explicit-any */\nconst isNumeric = (n) => !isNaN(n) && isFinite(n);\nconst internalsSymbol = Symbol.for('internals');\n// used for a11y key board controls for nodes and edges\nconst elementSelectionKeys = ['Enter', ' ', 'Escape'];\nconst devWarn = (id, message) => {\n    if (process.env.NODE_ENV === 'development') {\n        console.warn(`[React Flow]: ${message} Help: https://reactflow.dev/error#${id}`);\n    }\n};\nconst isReactKeyboardEvent = (event) => 'nativeEvent' in event;\nfunction isInputDOMNode(event) {\n    const kbEvent = isReactKeyboardEvent(event) ? event.nativeEvent : event;\n    // using composed path for handling shadow dom\n    const target = (kbEvent.composedPath?.()?.[0] || event.target);\n    const isInput = ['INPUT', 'SELECT', 'TEXTAREA'].includes(target?.nodeName) || target?.hasAttribute('contenteditable');\n    // when an input field is focused we don't want to trigger deletion or movement of nodes\n    return isInput || !!target?.closest('.nokey');\n}\nconst isMouseEvent = (event) => 'clientX' in event;\nconst getEventPosition = (event, bounds) => {\n    const isMouseTriggered = isMouseEvent(event);\n    const evtX = isMouseTriggered ? event.clientX : event.touches?.[0].clientX;\n    const evtY = isMouseTriggered ? event.clientY : event.touches?.[0].clientY;\n    return {\n        x: evtX - (bounds?.left ?? 0),\n        y: evtY - (bounds?.top ?? 0),\n    };\n};\n\nconst BaseEdge = ({ path, labelX, labelY, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, markerEnd, markerStart, interactionWidth = 20, }) => {\n    return (jsxs(Fragment, { children: [jsx(\"path\", { style: style, d: path, fill: \"none\", className: \"react-flow__edge-path\", markerEnd: markerEnd, markerStart: markerStart }), interactionWidth && (jsx(\"path\", { d: path, fill: \"none\", strokeOpacity: 0, strokeWidth: interactionWidth, className: \"react-flow__edge-interaction\" })), label && isNumeric(labelX) && isNumeric(labelY) ? (jsx(EdgeText$1, { x: labelX, y: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius })) : null] }));\n};\nBaseEdge.displayName = 'BaseEdge';\n\nconst getMarkerEnd = (markerType, markerEndId) => {\n    if (typeof markerEndId !== 'undefined' && markerEndId) {\n        return `url(#${markerEndId})`;\n    }\n    return typeof markerType !== 'undefined' ? `url(#react-flow__${markerType})` : 'none';\n};\nfunction getMouseHandler$1(id, getState, handler) {\n    return handler === undefined\n        ? handler\n        : (event) => {\n            const edge = getState().edges.find((e) => e.id === id);\n            if (edge) {\n                handler(event, { ...edge });\n            }\n        };\n}\n// this is used for straight edges and simple smoothstep edges (LTR, RTL, BTT, TTB)\nfunction getEdgeCenter({ sourceX, sourceY, targetX, targetY, }) {\n    const xOffset = Math.abs(targetX - sourceX) / 2;\n    const centerX = targetX < sourceX ? targetX + xOffset : targetX - xOffset;\n    const yOffset = Math.abs(targetY - sourceY) / 2;\n    const centerY = targetY < sourceY ? targetY + yOffset : targetY - yOffset;\n    return [centerX, centerY, xOffset, yOffset];\n}\nfunction getBezierEdgeCenter({ sourceX, sourceY, targetX, targetY, sourceControlX, sourceControlY, targetControlX, targetControlY, }) {\n    // cubic bezier t=0.5 mid point, not the actual mid point, but easy to calculate\n    // https://stackoverflow.com/questions/67516101/how-to-find-distance-mid-point-of-bezier-curve\n    const centerX = sourceX * 0.125 + sourceControlX * 0.375 + targetControlX * 0.375 + targetX * 0.125;\n    const centerY = sourceY * 0.125 + sourceControlY * 0.375 + targetControlY * 0.375 + targetY * 0.125;\n    const offsetX = Math.abs(centerX - sourceX);\n    const offsetY = Math.abs(centerY - sourceY);\n    return [centerX, centerY, offsetX, offsetY];\n}\n\nvar ConnectionMode;\n(function (ConnectionMode) {\n    ConnectionMode[\"Strict\"] = \"strict\";\n    ConnectionMode[\"Loose\"] = \"loose\";\n})(ConnectionMode || (ConnectionMode = {}));\nvar PanOnScrollMode;\n(function (PanOnScrollMode) {\n    PanOnScrollMode[\"Free\"] = \"free\";\n    PanOnScrollMode[\"Vertical\"] = \"vertical\";\n    PanOnScrollMode[\"Horizontal\"] = \"horizontal\";\n})(PanOnScrollMode || (PanOnScrollMode = {}));\nvar SelectionMode;\n(function (SelectionMode) {\n    SelectionMode[\"Partial\"] = \"partial\";\n    SelectionMode[\"Full\"] = \"full\";\n})(SelectionMode || (SelectionMode = {}));\n\nvar ConnectionLineType;\n(function (ConnectionLineType) {\n    ConnectionLineType[\"Bezier\"] = \"default\";\n    ConnectionLineType[\"Straight\"] = \"straight\";\n    ConnectionLineType[\"Step\"] = \"step\";\n    ConnectionLineType[\"SmoothStep\"] = \"smoothstep\";\n    ConnectionLineType[\"SimpleBezier\"] = \"simplebezier\";\n})(ConnectionLineType || (ConnectionLineType = {}));\nvar MarkerType;\n(function (MarkerType) {\n    MarkerType[\"Arrow\"] = \"arrow\";\n    MarkerType[\"ArrowClosed\"] = \"arrowclosed\";\n})(MarkerType || (MarkerType = {}));\n\nvar Position;\n(function (Position) {\n    Position[\"Left\"] = \"left\";\n    Position[\"Top\"] = \"top\";\n    Position[\"Right\"] = \"right\";\n    Position[\"Bottom\"] = \"bottom\";\n})(Position || (Position = {}));\n\nfunction getControl({ pos, x1, y1, x2, y2 }) {\n    if (pos === Position.Left || pos === Position.Right) {\n        return [0.5 * (x1 + x2), y1];\n    }\n    return [x1, 0.5 * (y1 + y2)];\n}\nfunction getSimpleBezierPath({ sourceX, sourceY, sourcePosition = Position.Bottom, targetX, targetY, targetPosition = Position.Top, }) {\n    const [sourceControlX, sourceControlY] = getControl({\n        pos: sourcePosition,\n        x1: sourceX,\n        y1: sourceY,\n        x2: targetX,\n        y2: targetY,\n    });\n    const [targetControlX, targetControlY] = getControl({\n        pos: targetPosition,\n        x1: targetX,\n        y1: targetY,\n        x2: sourceX,\n        y2: sourceY,\n    });\n    const [labelX, labelY, offsetX, offsetY] = getBezierEdgeCenter({\n        sourceX,\n        sourceY,\n        targetX,\n        targetY,\n        sourceControlX,\n        sourceControlY,\n        targetControlX,\n        targetControlY,\n    });\n    return [\n        `M${sourceX},${sourceY} C${sourceControlX},${sourceControlY} ${targetControlX},${targetControlY} ${targetX},${targetY}`,\n        labelX,\n        labelY,\n        offsetX,\n        offsetY,\n    ];\n}\nconst SimpleBezierEdge = memo(({ sourceX, sourceY, targetX, targetY, sourcePosition = Position.Bottom, targetPosition = Position.Top, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, markerEnd, markerStart, interactionWidth, }) => {\n    const [path, labelX, labelY] = getSimpleBezierPath({\n        sourceX,\n        sourceY,\n        sourcePosition,\n        targetX,\n        targetY,\n        targetPosition,\n    });\n    return (jsx(BaseEdge, { path: path, labelX: labelX, labelY: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, style: style, markerEnd: markerEnd, markerStart: markerStart, interactionWidth: interactionWidth }));\n});\nSimpleBezierEdge.displayName = 'SimpleBezierEdge';\n\nconst handleDirections = {\n    [Position.Left]: { x: -1, y: 0 },\n    [Position.Right]: { x: 1, y: 0 },\n    [Position.Top]: { x: 0, y: -1 },\n    [Position.Bottom]: { x: 0, y: 1 },\n};\nconst getDirection = ({ source, sourcePosition = Position.Bottom, target, }) => {\n    if (sourcePosition === Position.Left || sourcePosition === Position.Right) {\n        return source.x < target.x ? { x: 1, y: 0 } : { x: -1, y: 0 };\n    }\n    return source.y < target.y ? { x: 0, y: 1 } : { x: 0, y: -1 };\n};\nconst distance = (a, b) => Math.sqrt(Math.pow(b.x - a.x, 2) + Math.pow(b.y - a.y, 2));\n// ith this function we try to mimic a orthogonal edge routing behaviour\n// It's not as good as a real orthogonal edge routing but it's faster and good enough as a default for step and smooth step edges\nfunction getPoints({ source, sourcePosition = Position.Bottom, target, targetPosition = Position.Top, center, offset, }) {\n    const sourceDir = handleDirections[sourcePosition];\n    const targetDir = handleDirections[targetPosition];\n    const sourceGapped = { x: source.x + sourceDir.x * offset, y: source.y + sourceDir.y * offset };\n    const targetGapped = { x: target.x + targetDir.x * offset, y: target.y + targetDir.y * offset };\n    const dir = getDirection({\n        source: sourceGapped,\n        sourcePosition,\n        target: targetGapped,\n    });\n    const dirAccessor = dir.x !== 0 ? 'x' : 'y';\n    const currDir = dir[dirAccessor];\n    let points = [];\n    let centerX, centerY;\n    const [defaultCenterX, defaultCenterY, defaultOffsetX, defaultOffsetY] = getEdgeCenter({\n        sourceX: source.x,\n        sourceY: source.y,\n        targetX: target.x,\n        targetY: target.y,\n    });\n    // opposite handle positions, default case\n    if (sourceDir[dirAccessor] * targetDir[dirAccessor] === -1) {\n        centerX = center.x || defaultCenterX;\n        centerY = center.y || defaultCenterY;\n        //    --->\n        //    |\n        // >---\n        const verticalSplit = [\n            { x: centerX, y: sourceGapped.y },\n            { x: centerX, y: targetGapped.y },\n        ];\n        //    |\n        //  ---\n        //  |\n        const horizontalSplit = [\n            { x: sourceGapped.x, y: centerY },\n            { x: targetGapped.x, y: centerY },\n        ];\n        if (sourceDir[dirAccessor] === currDir) {\n            points = dirAccessor === 'x' ? verticalSplit : horizontalSplit;\n        }\n        else {\n            points = dirAccessor === 'x' ? horizontalSplit : verticalSplit;\n        }\n    }\n    else {\n        // sourceTarget means we take x from source and y from target, targetSource is the opposite\n        const sourceTarget = [{ x: sourceGapped.x, y: targetGapped.y }];\n        const targetSource = [{ x: targetGapped.x, y: sourceGapped.y }];\n        // this handles edges with same handle positions\n        if (dirAccessor === 'x') {\n            points = sourceDir.x === currDir ? targetSource : sourceTarget;\n        }\n        else {\n            points = sourceDir.y === currDir ? sourceTarget : targetSource;\n        }\n        // these are conditions for handling mixed handle positions like Right -> Bottom for example\n        if (sourcePosition !== targetPosition) {\n            const dirAccessorOpposite = dirAccessor === 'x' ? 'y' : 'x';\n            const isSameDir = sourceDir[dirAccessor] === targetDir[dirAccessorOpposite];\n            const sourceGtTargetOppo = sourceGapped[dirAccessorOpposite] > targetGapped[dirAccessorOpposite];\n            const sourceLtTargetOppo = sourceGapped[dirAccessorOpposite] < targetGapped[dirAccessorOpposite];\n            const flipSourceTarget = (sourceDir[dirAccessor] === 1 && ((!isSameDir && sourceGtTargetOppo) || (isSameDir && sourceLtTargetOppo))) ||\n                (sourceDir[dirAccessor] !== 1 && ((!isSameDir && sourceLtTargetOppo) || (isSameDir && sourceGtTargetOppo)));\n            if (flipSourceTarget) {\n                points = dirAccessor === 'x' ? sourceTarget : targetSource;\n            }\n        }\n        centerX = points[0].x;\n        centerY = points[0].y;\n    }\n    const pathPoints = [source, sourceGapped, ...points, targetGapped, target];\n    return [pathPoints, centerX, centerY, defaultOffsetX, defaultOffsetY];\n}\nfunction getBend(a, b, c, size) {\n    const bendSize = Math.min(distance(a, b) / 2, distance(b, c) / 2, size);\n    const { x, y } = b;\n    // no bend\n    if ((a.x === x && x === c.x) || (a.y === y && y === c.y)) {\n        return `L${x} ${y}`;\n    }\n    // first segment is horizontal\n    if (a.y === y) {\n        const xDir = a.x < c.x ? -1 : 1;\n        const yDir = a.y < c.y ? 1 : -1;\n        return `L ${x + bendSize * xDir},${y}Q ${x},${y} ${x},${y + bendSize * yDir}`;\n    }\n    const xDir = a.x < c.x ? 1 : -1;\n    const yDir = a.y < c.y ? -1 : 1;\n    return `L ${x},${y + bendSize * yDir}Q ${x},${y} ${x + bendSize * xDir},${y}`;\n}\nfunction getSmoothStepPath({ sourceX, sourceY, sourcePosition = Position.Bottom, targetX, targetY, targetPosition = Position.Top, borderRadius = 5, centerX, centerY, offset = 20, }) {\n    const [points, labelX, labelY, offsetX, offsetY] = getPoints({\n        source: { x: sourceX, y: sourceY },\n        sourcePosition,\n        target: { x: targetX, y: targetY },\n        targetPosition,\n        center: { x: centerX, y: centerY },\n        offset,\n    });\n    const path = points.reduce((res, p, i) => {\n        let segment = '';\n        if (i > 0 && i < points.length - 1) {\n            segment = getBend(points[i - 1], p, points[i + 1], borderRadius);\n        }\n        else {\n            segment = `${i === 0 ? 'M' : 'L'}${p.x} ${p.y}`;\n        }\n        res += segment;\n        return res;\n    }, '');\n    return [path, labelX, labelY, offsetX, offsetY];\n}\nconst SmoothStepEdge = memo(({ sourceX, sourceY, targetX, targetY, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, sourcePosition = Position.Bottom, targetPosition = Position.Top, markerEnd, markerStart, pathOptions, interactionWidth, }) => {\n    const [path, labelX, labelY] = getSmoothStepPath({\n        sourceX,\n        sourceY,\n        sourcePosition,\n        targetX,\n        targetY,\n        targetPosition,\n        borderRadius: pathOptions?.borderRadius,\n        offset: pathOptions?.offset,\n    });\n    return (jsx(BaseEdge, { path: path, labelX: labelX, labelY: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, style: style, markerEnd: markerEnd, markerStart: markerStart, interactionWidth: interactionWidth }));\n});\nSmoothStepEdge.displayName = 'SmoothStepEdge';\n\nconst StepEdge = memo((props) => (jsx(SmoothStepEdge, { ...props, pathOptions: useMemo(() => ({ borderRadius: 0, offset: props.pathOptions?.offset }), [props.pathOptions?.offset]) })));\nStepEdge.displayName = 'StepEdge';\n\nfunction getStraightPath({ sourceX, sourceY, targetX, targetY, }) {\n    const [labelX, labelY, offsetX, offsetY] = getEdgeCenter({\n        sourceX,\n        sourceY,\n        targetX,\n        targetY,\n    });\n    return [`M ${sourceX},${sourceY}L ${targetX},${targetY}`, labelX, labelY, offsetX, offsetY];\n}\nconst StraightEdge = memo(({ sourceX, sourceY, targetX, targetY, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, markerEnd, markerStart, interactionWidth, }) => {\n    const [path, labelX, labelY] = getStraightPath({ sourceX, sourceY, targetX, targetY });\n    return (jsx(BaseEdge, { path: path, labelX: labelX, labelY: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, style: style, markerEnd: markerEnd, markerStart: markerStart, interactionWidth: interactionWidth }));\n});\nStraightEdge.displayName = 'StraightEdge';\n\nfunction calculateControlOffset(distance, curvature) {\n    if (distance >= 0) {\n        return 0.5 * distance;\n    }\n    return curvature * 25 * Math.sqrt(-distance);\n}\nfunction getControlWithCurvature({ pos, x1, y1, x2, y2, c }) {\n    switch (pos) {\n        case Position.Left:\n            return [x1 - calculateControlOffset(x1 - x2, c), y1];\n        case Position.Right:\n            return [x1 + calculateControlOffset(x2 - x1, c), y1];\n        case Position.Top:\n            return [x1, y1 - calculateControlOffset(y1 - y2, c)];\n        case Position.Bottom:\n            return [x1, y1 + calculateControlOffset(y2 - y1, c)];\n    }\n}\nfunction getBezierPath({ sourceX, sourceY, sourcePosition = Position.Bottom, targetX, targetY, targetPosition = Position.Top, curvature = 0.25, }) {\n    const [sourceControlX, sourceControlY] = getControlWithCurvature({\n        pos: sourcePosition,\n        x1: sourceX,\n        y1: sourceY,\n        x2: targetX,\n        y2: targetY,\n        c: curvature,\n    });\n    const [targetControlX, targetControlY] = getControlWithCurvature({\n        pos: targetPosition,\n        x1: targetX,\n        y1: targetY,\n        x2: sourceX,\n        y2: sourceY,\n        c: curvature,\n    });\n    const [labelX, labelY, offsetX, offsetY] = getBezierEdgeCenter({\n        sourceX,\n        sourceY,\n        targetX,\n        targetY,\n        sourceControlX,\n        sourceControlY,\n        targetControlX,\n        targetControlY,\n    });\n    return [\n        `M${sourceX},${sourceY} C${sourceControlX},${sourceControlY} ${targetControlX},${targetControlY} ${targetX},${targetY}`,\n        labelX,\n        labelY,\n        offsetX,\n        offsetY,\n    ];\n}\nconst BezierEdge = memo(({ sourceX, sourceY, targetX, targetY, sourcePosition = Position.Bottom, targetPosition = Position.Top, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, markerEnd, markerStart, pathOptions, interactionWidth, }) => {\n    const [path, labelX, labelY] = getBezierPath({\n        sourceX,\n        sourceY,\n        sourcePosition,\n        targetX,\n        targetY,\n        targetPosition,\n        curvature: pathOptions?.curvature,\n    });\n    return (jsx(BaseEdge, { path: path, labelX: labelX, labelY: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, style: style, markerEnd: markerEnd, markerStart: markerStart, interactionWidth: interactionWidth }));\n});\nBezierEdge.displayName = 'BezierEdge';\n\nconst NodeIdContext = createContext(null);\nconst Provider = NodeIdContext.Provider;\nNodeIdContext.Consumer;\nconst useNodeId = () => {\n    const nodeId = useContext(NodeIdContext);\n    return nodeId;\n};\n\nconst isEdge = (element) => 'id' in element && 'source' in element && 'target' in element;\nconst isNode = (element) => 'id' in element && !('source' in element) && !('target' in element);\nconst getOutgoers = (node, nodes, edges) => {\n    if (!isNode(node)) {\n        return [];\n    }\n    const outgoerIds = edges.filter((e) => e.source === node.id).map((e) => e.target);\n    return nodes.filter((n) => outgoerIds.includes(n.id));\n};\nconst getIncomers = (node, nodes, edges) => {\n    if (!isNode(node)) {\n        return [];\n    }\n    const incomersIds = edges.filter((e) => e.target === node.id).map((e) => e.source);\n    return nodes.filter((n) => incomersIds.includes(n.id));\n};\nconst getEdgeId = ({ source, sourceHandle, target, targetHandle }) => `reactflow__edge-${source}${sourceHandle || ''}-${target}${targetHandle || ''}`;\nconst getMarkerId = (marker, rfId) => {\n    if (typeof marker === 'undefined') {\n        return '';\n    }\n    if (typeof marker === 'string') {\n        return marker;\n    }\n    const idPrefix = rfId ? `${rfId}__` : '';\n    return `${idPrefix}${Object.keys(marker)\n        .sort()\n        .map((key) => `${key}=${marker[key]}`)\n        .join('&')}`;\n};\nconst connectionExists = (edge, edges) => {\n    return edges.some((el) => el.source === edge.source &&\n        el.target === edge.target &&\n        (el.sourceHandle === edge.sourceHandle || (!el.sourceHandle && !edge.sourceHandle)) &&\n        (el.targetHandle === edge.targetHandle || (!el.targetHandle && !edge.targetHandle)));\n};\nconst addEdge = (edgeParams, edges) => {\n    if (!edgeParams.source || !edgeParams.target) {\n        devWarn('006', errorMessages['error006']());\n        return edges;\n    }\n    let edge;\n    if (isEdge(edgeParams)) {\n        edge = { ...edgeParams };\n    }\n    else {\n        edge = {\n            ...edgeParams,\n            id: getEdgeId(edgeParams),\n        };\n    }\n    if (connectionExists(edge, edges)) {\n        return edges;\n    }\n    return edges.concat(edge);\n};\nconst updateEdge = (oldEdge, newConnection, edges, options = { shouldReplaceId: true }) => {\n    const { id: oldEdgeId, ...rest } = oldEdge;\n    if (!newConnection.source || !newConnection.target) {\n        devWarn('006', errorMessages['error006']());\n        return edges;\n    }\n    const foundEdge = edges.find((e) => e.id === oldEdgeId);\n    if (!foundEdge) {\n        devWarn('007', errorMessages['error007'](oldEdgeId));\n        return edges;\n    }\n    // Remove old edge and create the new edge with parameters of old edge.\n    const edge = {\n        ...rest,\n        id: options.shouldReplaceId ? getEdgeId(newConnection) : oldEdgeId,\n        source: newConnection.source,\n        target: newConnection.target,\n        sourceHandle: newConnection.sourceHandle,\n        targetHandle: newConnection.targetHandle,\n    };\n    return edges.filter((e) => e.id !== oldEdgeId).concat(edge);\n};\nconst pointToRendererPoint = ({ x, y }, [tx, ty, tScale], snapToGrid, [snapX, snapY]) => {\n    const position = {\n        x: (x - tx) / tScale,\n        y: (y - ty) / tScale,\n    };\n    if (snapToGrid) {\n        return {\n            x: snapX * Math.round(position.x / snapX),\n            y: snapY * Math.round(position.y / snapY),\n        };\n    }\n    return position;\n};\nconst rendererPointToPoint = ({ x, y }, [tx, ty, tScale]) => {\n    return {\n        x: x * tScale + tx,\n        y: y * tScale + ty,\n    };\n};\nconst getNodePositionWithOrigin = (node, nodeOrigin = [0, 0]) => {\n    if (!node) {\n        return {\n            x: 0,\n            y: 0,\n            positionAbsolute: {\n                x: 0,\n                y: 0,\n            },\n        };\n    }\n    const offsetX = (node.width ?? 0) * nodeOrigin[0];\n    const offsetY = (node.height ?? 0) * nodeOrigin[1];\n    const position = {\n        x: node.position.x - offsetX,\n        y: node.position.y - offsetY,\n    };\n    return {\n        ...position,\n        positionAbsolute: node.positionAbsolute\n            ? {\n                x: node.positionAbsolute.x - offsetX,\n                y: node.positionAbsolute.y - offsetY,\n            }\n            : position,\n    };\n};\nconst getRectOfNodes = (nodes, nodeOrigin = [0, 0]) => {\n    if (nodes.length === 0) {\n        return { x: 0, y: 0, width: 0, height: 0 };\n    }\n    const box = nodes.reduce((currBox, node) => {\n        const { x, y } = getNodePositionWithOrigin(node, nodeOrigin).positionAbsolute;\n        return getBoundsOfBoxes(currBox, rectToBox({\n            x,\n            y,\n            width: node.width || 0,\n            height: node.height || 0,\n        }));\n    }, { x: Infinity, y: Infinity, x2: -Infinity, y2: -Infinity });\n    return boxToRect(box);\n};\nconst getNodesInside = (nodeInternals, rect, [tx, ty, tScale] = [0, 0, 1], partially = false, \n// set excludeNonSelectableNodes if you want to pay attention to the nodes \"selectable\" attribute\nexcludeNonSelectableNodes = false, nodeOrigin = [0, 0]) => {\n    const paneRect = {\n        x: (rect.x - tx) / tScale,\n        y: (rect.y - ty) / tScale,\n        width: rect.width / tScale,\n        height: rect.height / tScale,\n    };\n    const visibleNodes = [];\n    nodeInternals.forEach((node) => {\n        const { width, height, selectable = true, hidden = false } = node;\n        if ((excludeNonSelectableNodes && !selectable) || hidden) {\n            return false;\n        }\n        const { positionAbsolute } = getNodePositionWithOrigin(node, nodeOrigin);\n        const nodeRect = {\n            x: positionAbsolute.x,\n            y: positionAbsolute.y,\n            width: width || 0,\n            height: height || 0,\n        };\n        const overlappingArea = getOverlappingArea(paneRect, nodeRect);\n        const notInitialized = typeof width === 'undefined' || typeof height === 'undefined' || width === null || height === null;\n        const partiallyVisible = partially && overlappingArea > 0;\n        const area = (width || 0) * (height || 0);\n        const isVisible = notInitialized || partiallyVisible || overlappingArea >= area;\n        if (isVisible || node.dragging) {\n            visibleNodes.push(node);\n        }\n    });\n    return visibleNodes;\n};\nconst getConnectedEdges = (nodes, edges) => {\n    const nodeIds = nodes.map((node) => node.id);\n    return edges.filter((edge) => nodeIds.includes(edge.source) || nodeIds.includes(edge.target));\n};\nconst getTransformForBounds = (bounds, width, height, minZoom, maxZoom, padding = 0.1) => {\n    const xZoom = width / (bounds.width * (1 + padding));\n    const yZoom = height / (bounds.height * (1 + padding));\n    const zoom = Math.min(xZoom, yZoom);\n    const clampedZoom = clamp(zoom, minZoom, maxZoom);\n    const boundsCenterX = bounds.x + bounds.width / 2;\n    const boundsCenterY = bounds.y + bounds.height / 2;\n    const x = width / 2 - boundsCenterX * clampedZoom;\n    const y = height / 2 - boundsCenterY * clampedZoom;\n    return [x, y, clampedZoom];\n};\nconst getD3Transition = (selection, duration = 0) => {\n    return selection.transition().duration(duration);\n};\n\n// this functions collects all handles and adds an absolute position\n// so that we can later find the closest handle to the mouse position\nfunction getHandles(node, handleBounds, type, currentHandle) {\n    return (handleBounds[type] || []).reduce((res, h) => {\n        if (`${node.id}-${h.id}-${type}` !== currentHandle) {\n            res.push({\n                id: h.id || null,\n                type,\n                nodeId: node.id,\n                x: (node.positionAbsolute?.x ?? 0) + h.x + h.width / 2,\n                y: (node.positionAbsolute?.y ?? 0) + h.y + h.height / 2,\n            });\n        }\n        return res;\n    }, []);\n}\nfunction getClosestHandle(pos, connectionRadius, handles) {\n    let closestHandle = null;\n    let minDistance = Infinity;\n    handles.forEach((handle) => {\n        const distance = Math.sqrt(Math.pow(handle.x - pos.x, 2) + Math.pow(handle.y - pos.y, 2));\n        if (distance <= connectionRadius && distance < minDistance) {\n            minDistance = distance;\n            closestHandle = handle;\n        }\n    });\n    return closestHandle;\n}\nconst nullConnection = { source: null, target: null, sourceHandle: null, targetHandle: null };\n// checks if  and returns connection in fom of an object { source: 123, target: 312 }\nfunction isValidHandle(event, handle, connectionMode, fromNodeId, fromHandleId, fromType, isValidConnection, doc) {\n    const isTarget = fromType === 'target';\n    const handleDomNode = doc.querySelector(`.react-flow__handle[data-id=\"${handle?.nodeId}-${handle?.id}-${handle?.type}\"]`);\n    const { x, y } = getEventPosition(event);\n    const handleBelow = doc.elementFromPoint(x, y);\n    const handleToCheck = handleBelow?.classList.contains('react-flow__handle') ? handleBelow : handleDomNode;\n    const result = {\n        handleDomNode: handleToCheck,\n        isValid: false,\n        connection: nullConnection,\n        endHandle: null,\n    };\n    if (handleToCheck) {\n        const handleType = getHandleType(undefined, handleToCheck);\n        const handleNodeId = handleToCheck.getAttribute('data-nodeid');\n        const handleId = handleToCheck.getAttribute('data-handleid');\n        const connectable = handleToCheck.classList.contains('connectable');\n        const connectableEnd = handleToCheck.classList.contains('connectableend');\n        const connection = {\n            source: isTarget ? handleNodeId : fromNodeId,\n            sourceHandle: isTarget ? handleId : fromHandleId,\n            target: isTarget ? fromNodeId : handleNodeId,\n            targetHandle: isTarget ? fromHandleId : handleId,\n        };\n        result.connection = connection;\n        const isConnectable = connectable && connectableEnd;\n        // in strict mode we don't allow target to target or source to source connections\n        const isValid = isConnectable &&\n            (connectionMode === ConnectionMode.Strict\n                ? (isTarget && handleType === 'source') || (!isTarget && handleType === 'target')\n                : handleNodeId !== fromNodeId || handleId !== fromHandleId);\n        if (isValid) {\n            result.endHandle = {\n                nodeId: handleNodeId,\n                handleId,\n                type: handleType,\n            };\n            result.isValid = isValidConnection(connection);\n        }\n    }\n    return result;\n}\nfunction getHandleLookup({ nodes, nodeId, handleId, handleType }) {\n    return nodes.reduce((res, node) => {\n        if (node[internalsSymbol]) {\n            const { handleBounds } = node[internalsSymbol];\n            let sourceHandles = [];\n            let targetHandles = [];\n            if (handleBounds) {\n                sourceHandles = getHandles(node, handleBounds, 'source', `${nodeId}-${handleId}-${handleType}`);\n                targetHandles = getHandles(node, handleBounds, 'target', `${nodeId}-${handleId}-${handleType}`);\n            }\n            res.push(...sourceHandles, ...targetHandles);\n        }\n        return res;\n    }, []);\n}\nfunction getHandleType(edgeUpdaterType, handleDomNode) {\n    if (edgeUpdaterType) {\n        return edgeUpdaterType;\n    }\n    else if (handleDomNode?.classList.contains('target')) {\n        return 'target';\n    }\n    else if (handleDomNode?.classList.contains('source')) {\n        return 'source';\n    }\n    return null;\n}\nfunction resetRecentHandle(handleDomNode) {\n    handleDomNode?.classList.remove('valid', 'connecting', 'react-flow__handle-valid', 'react-flow__handle-connecting');\n}\nfunction getConnectionStatus(isInsideConnectionRadius, isHandleValid) {\n    let connectionStatus = null;\n    if (isHandleValid) {\n        connectionStatus = 'valid';\n    }\n    else if (isInsideConnectionRadius && !isHandleValid) {\n        connectionStatus = 'invalid';\n    }\n    return connectionStatus;\n}\n\nfunction handlePointerDown({ event, handleId, nodeId, onConnect, isTarget, getState, setState, isValidConnection, edgeUpdaterType, onEdgeUpdateEnd, }) {\n    // when react-flow is used inside a shadow root we can't use document\n    const doc = getHostForElement(event.target);\n    const { connectionMode, domNode, autoPanOnConnect, connectionRadius, onConnectStart, panBy, getNodes, cancelConnection, } = getState();\n    let autoPanId = 0;\n    let prevClosestHandle;\n    const { x, y } = getEventPosition(event);\n    const clickedHandle = doc?.elementFromPoint(x, y);\n    const handleType = getHandleType(edgeUpdaterType, clickedHandle);\n    const containerBounds = domNode?.getBoundingClientRect();\n    if (!containerBounds || !handleType) {\n        return;\n    }\n    let prevActiveHandle;\n    let connectionPosition = getEventPosition(event, containerBounds);\n    let autoPanStarted = false;\n    let connection = null;\n    let isValid = false;\n    let handleDomNode = null;\n    const handleLookup = getHandleLookup({\n        nodes: getNodes(),\n        nodeId,\n        handleId,\n        handleType,\n    });\n    // when the user is moving the mouse close to the edge of the canvas while connecting we move the canvas\n    const autoPan = () => {\n        if (!autoPanOnConnect) {\n            return;\n        }\n        const [xMovement, yMovement] = calcAutoPan(connectionPosition, containerBounds);\n        panBy({ x: xMovement, y: yMovement });\n        autoPanId = requestAnimationFrame(autoPan);\n    };\n    setState({\n        connectionPosition,\n        connectionStatus: null,\n        // connectionNodeId etc will be removed in the next major in favor of connectionStartHandle\n        connectionNodeId: nodeId,\n        connectionHandleId: handleId,\n        connectionHandleType: handleType,\n        connectionStartHandle: {\n            nodeId,\n            handleId,\n            type: handleType,\n        },\n        connectionEndHandle: null,\n    });\n    onConnectStart?.(event, { nodeId, handleId, handleType });\n    function onPointerMove(event) {\n        const { transform } = getState();\n        connectionPosition = getEventPosition(event, containerBounds);\n        prevClosestHandle = getClosestHandle(pointToRendererPoint(connectionPosition, transform, false, [1, 1]), connectionRadius, handleLookup);\n        if (!autoPanStarted) {\n            autoPan();\n            autoPanStarted = true;\n        }\n        const result = isValidHandle(event, prevClosestHandle, connectionMode, nodeId, handleId, isTarget ? 'target' : 'source', isValidConnection, doc);\n        handleDomNode = result.handleDomNode;\n        connection = result.connection;\n        isValid = result.isValid;\n        setState({\n            connectionPosition: prevClosestHandle && isValid\n                ? rendererPointToPoint({\n                    x: prevClosestHandle.x,\n                    y: prevClosestHandle.y,\n                }, transform)\n                : connectionPosition,\n            connectionStatus: getConnectionStatus(!!prevClosestHandle, isValid),\n            connectionEndHandle: result.endHandle,\n        });\n        if (!prevClosestHandle && !isValid && !handleDomNode) {\n            return resetRecentHandle(prevActiveHandle);\n        }\n        if (connection.source !== connection.target && handleDomNode) {\n            resetRecentHandle(prevActiveHandle);\n            prevActiveHandle = handleDomNode;\n            // @todo: remove the old class names \"react-flow__handle-\" in the next major version\n            handleDomNode.classList.add('connecting', 'react-flow__handle-connecting');\n            handleDomNode.classList.toggle('valid', isValid);\n            handleDomNode.classList.toggle('react-flow__handle-valid', isValid);\n        }\n    }\n    function onPointerUp(event) {\n        if ((prevClosestHandle || handleDomNode) && connection && isValid) {\n            onConnect?.(connection);\n        }\n        // it's important to get a fresh reference from the store here\n        // in order to get the latest state of onConnectEnd\n        getState().onConnectEnd?.(event);\n        if (edgeUpdaterType) {\n            onEdgeUpdateEnd?.(event);\n        }\n        resetRecentHandle(prevActiveHandle);\n        cancelConnection();\n        cancelAnimationFrame(autoPanId);\n        autoPanStarted = false;\n        isValid = false;\n        connection = null;\n        handleDomNode = null;\n        doc.removeEventListener('mousemove', onPointerMove);\n        doc.removeEventListener('mouseup', onPointerUp);\n        doc.removeEventListener('touchmove', onPointerMove);\n        doc.removeEventListener('touchend', onPointerUp);\n    }\n    doc.addEventListener('mousemove', onPointerMove);\n    doc.addEventListener('mouseup', onPointerUp);\n    doc.addEventListener('touchmove', onPointerMove);\n    doc.addEventListener('touchend', onPointerUp);\n}\n\nconst alwaysValid = () => true;\nconst selector$f = (s) => ({\n    connectionStartHandle: s.connectionStartHandle,\n    connectOnClick: s.connectOnClick,\n    noPanClassName: s.noPanClassName,\n});\nconst connectingSelector = (nodeId, handleId, type) => (state) => {\n    const { connectionStartHandle: startHandle, connectionEndHandle: endHandle, connectionClickStartHandle: clickHandle, } = state;\n    return {\n        connecting: (startHandle?.nodeId === nodeId && startHandle?.handleId === handleId && startHandle?.type === type) ||\n            (endHandle?.nodeId === nodeId && endHandle?.handleId === handleId && endHandle?.type === type),\n        clickConnecting: clickHandle?.nodeId === nodeId && clickHandle?.handleId === handleId && clickHandle?.type === type,\n    };\n};\nconst Handle = forwardRef(({ type = 'source', position = Position.Top, isValidConnection, isConnectable = true, isConnectableStart = true, isConnectableEnd = true, id, onConnect, children, className, onMouseDown, onTouchStart, ...rest }, ref) => {\n    const handleId = id || null;\n    const isTarget = type === 'target';\n    const store = useStoreApi();\n    const nodeId = useNodeId();\n    const { connectOnClick, noPanClassName } = useStore(selector$f, shallow);\n    const { connecting, clickConnecting } = useStore(connectingSelector(nodeId, handleId, type));\n    if (!nodeId) {\n        store.getState().onError?.('010', errorMessages['error010']());\n    }\n    const onConnectExtended = (params) => {\n        const { defaultEdgeOptions, onConnect: onConnectAction, hasDefaultEdges } = store.getState();\n        const edgeParams = {\n            ...defaultEdgeOptions,\n            ...params,\n        };\n        if (hasDefaultEdges) {\n            const { edges, setEdges } = store.getState();\n            setEdges(addEdge(edgeParams, edges));\n        }\n        onConnectAction?.(edgeParams);\n        onConnect?.(edgeParams);\n    };\n    const onPointerDown = (event) => {\n        if (!nodeId) {\n            return;\n        }\n        const isMouseTriggered = isMouseEvent(event);\n        if (isConnectableStart && ((isMouseTriggered && event.button === 0) || !isMouseTriggered)) {\n            handlePointerDown({\n                event,\n                handleId,\n                nodeId,\n                onConnect: onConnectExtended,\n                isTarget,\n                getState: store.getState,\n                setState: store.setState,\n                isValidConnection: isValidConnection || store.getState().isValidConnection || alwaysValid,\n            });\n        }\n        if (isMouseTriggered) {\n            onMouseDown?.(event);\n        }\n        else {\n            onTouchStart?.(event);\n        }\n    };\n    const onClick = (event) => {\n        const { onClickConnectStart, onClickConnectEnd, connectionClickStartHandle, connectionMode, isValidConnection: isValidConnectionStore, } = store.getState();\n        if (!nodeId || (!connectionClickStartHandle && !isConnectableStart)) {\n            return;\n        }\n        if (!connectionClickStartHandle) {\n            onClickConnectStart?.(event, { nodeId, handleId, handleType: type });\n            store.setState({ connectionClickStartHandle: { nodeId, type, handleId } });\n            return;\n        }\n        const doc = getHostForElement(event.target);\n        const isValidConnectionHandler = isValidConnection || isValidConnectionStore || alwaysValid;\n        const { connection, isValid } = isValidHandle(event, {\n            nodeId,\n            id: handleId,\n            type,\n        }, connectionMode, connectionClickStartHandle.nodeId, connectionClickStartHandle.handleId || null, connectionClickStartHandle.type, isValidConnectionHandler, doc);\n        if (isValid) {\n            onConnectExtended(connection);\n        }\n        onClickConnectEnd?.(event);\n        store.setState({ connectionClickStartHandle: null });\n    };\n    return (jsx(\"div\", { \"data-handleid\": handleId, \"data-nodeid\": nodeId, \"data-handlepos\": position, \"data-id\": `${nodeId}-${handleId}-${type}`, className: cc([\n            'react-flow__handle',\n            `react-flow__handle-${position}`,\n            'nodrag',\n            noPanClassName,\n            className,\n            {\n                source: !isTarget,\n                target: isTarget,\n                connectable: isConnectable,\n                connectablestart: isConnectableStart,\n                connectableend: isConnectableEnd,\n                connecting: clickConnecting,\n                // this class is used to style the handle when the user is connecting\n                connectionindicator: isConnectable && ((isConnectableStart && !connecting) || (isConnectableEnd && connecting)),\n            },\n        ]), onMouseDown: onPointerDown, onTouchStart: onPointerDown, onClick: connectOnClick ? onClick : undefined, ref: ref, ...rest, children: children }));\n});\nHandle.displayName = 'Handle';\nvar Handle$1 = memo(Handle);\n\nconst DefaultNode = ({ data, isConnectable, targetPosition = Position.Top, sourcePosition = Position.Bottom, }) => {\n    return (jsxs(Fragment, { children: [jsx(Handle$1, { type: \"target\", position: targetPosition, isConnectable: isConnectable }), data?.label, jsx(Handle$1, { type: \"source\", position: sourcePosition, isConnectable: isConnectable })] }));\n};\nDefaultNode.displayName = 'DefaultNode';\nvar DefaultNode$1 = memo(DefaultNode);\n\nconst InputNode = ({ data, isConnectable, sourcePosition = Position.Bottom }) => (jsxs(Fragment, { children: [data?.label, jsx(Handle$1, { type: \"source\", position: sourcePosition, isConnectable: isConnectable })] }));\nInputNode.displayName = 'InputNode';\nvar InputNode$1 = memo(InputNode);\n\nconst OutputNode = ({ data, isConnectable, targetPosition = Position.Top }) => (jsxs(Fragment, { children: [jsx(Handle$1, { type: \"target\", position: targetPosition, isConnectable: isConnectable }), data?.label] }));\nOutputNode.displayName = 'OutputNode';\nvar OutputNode$1 = memo(OutputNode);\n\nconst GroupNode = () => null;\nGroupNode.displayName = 'GroupNode';\n\nconst selector$e = (s) => ({\n    selectedNodes: s.getNodes().filter((n) => n.selected),\n    selectedEdges: s.edges.filter((e) => e.selected),\n});\nconst selectId = (obj) => obj.id;\nfunction areEqual(a, b) {\n    return (shallow(a.selectedNodes.map(selectId), b.selectedNodes.map(selectId)) &&\n        shallow(a.selectedEdges.map(selectId), b.selectedEdges.map(selectId)));\n}\n// This is just a helper component for calling the onSelectionChange listener.\n// @TODO: Now that we have the onNodesChange and on EdgesChange listeners, do we still need this component?\nconst SelectionListener = memo(({ onSelectionChange }) => {\n    const store = useStoreApi();\n    const { selectedNodes, selectedEdges } = useStore(selector$e, areEqual);\n    useEffect(() => {\n        const params = { nodes: selectedNodes, edges: selectedEdges };\n        onSelectionChange?.(params);\n        store.getState().onSelectionChange?.(params);\n    }, [selectedNodes, selectedEdges, onSelectionChange]);\n    return null;\n});\nSelectionListener.displayName = 'SelectionListener';\nconst changeSelector = (s) => !!s.onSelectionChange;\nfunction Wrapper$1({ onSelectionChange }) {\n    const storeHasSelectionChange = useStore(changeSelector);\n    if (onSelectionChange || storeHasSelectionChange) {\n        return jsx(SelectionListener, { onSelectionChange: onSelectionChange });\n    }\n    return null;\n}\n\nconst selector$d = (s) => ({\n    setNodes: s.setNodes,\n    setEdges: s.setEdges,\n    setDefaultNodesAndEdges: s.setDefaultNodesAndEdges,\n    setMinZoom: s.setMinZoom,\n    setMaxZoom: s.setMaxZoom,\n    setTranslateExtent: s.setTranslateExtent,\n    setNodeExtent: s.setNodeExtent,\n    reset: s.reset,\n});\nfunction useStoreUpdater(value, setStoreState) {\n    useEffect(() => {\n        if (typeof value !== 'undefined') {\n            setStoreState(value);\n        }\n    }, [value]);\n}\n// updates with values in store that don't have a dedicated setter function\nfunction useDirectStoreUpdater(key, value, setState) {\n    useEffect(() => {\n        if (typeof value !== 'undefined') {\n            setState({ [key]: value });\n        }\n    }, [value]);\n}\nconst StoreUpdater = ({ nodes, edges, defaultNodes, defaultEdges, onConnect, onConnectStart, onConnectEnd, onClickConnectStart, onClickConnectEnd, nodesDraggable, nodesConnectable, nodesFocusable, edgesFocusable, edgesUpdatable, elevateNodesOnSelect, minZoom, maxZoom, nodeExtent, onNodesChange, onEdgesChange, elementsSelectable, connectionMode, snapGrid, snapToGrid, translateExtent, connectOnClick, defaultEdgeOptions, fitView, fitViewOptions, onNodesDelete, onEdgesDelete, onNodeDrag, onNodeDragStart, onNodeDragStop, onSelectionDrag, onSelectionDragStart, onSelectionDragStop, noPanClassName, nodeOrigin, rfId, autoPanOnConnect, autoPanOnNodeDrag, onError, connectionRadius, isValidConnection, }) => {\n    const { setNodes, setEdges, setDefaultNodesAndEdges, setMinZoom, setMaxZoom, setTranslateExtent, setNodeExtent, reset, } = useStore(selector$d, shallow);\n    const store = useStoreApi();\n    useEffect(() => {\n        const edgesWithDefaults = defaultEdges?.map((e) => ({ ...e, ...defaultEdgeOptions }));\n        setDefaultNodesAndEdges(defaultNodes, edgesWithDefaults);\n        return () => {\n            reset();\n        };\n    }, []);\n    useDirectStoreUpdater('defaultEdgeOptions', defaultEdgeOptions, store.setState);\n    useDirectStoreUpdater('connectionMode', connectionMode, store.setState);\n    useDirectStoreUpdater('onConnect', onConnect, store.setState);\n    useDirectStoreUpdater('onConnectStart', onConnectStart, store.setState);\n    useDirectStoreUpdater('onConnectEnd', onConnectEnd, store.setState);\n    useDirectStoreUpdater('onClickConnectStart', onClickConnectStart, store.setState);\n    useDirectStoreUpdater('onClickConnectEnd', onClickConnectEnd, store.setState);\n    useDirectStoreUpdater('nodesDraggable', nodesDraggable, store.setState);\n    useDirectStoreUpdater('nodesConnectable', nodesConnectable, store.setState);\n    useDirectStoreUpdater('nodesFocusable', nodesFocusable, store.setState);\n    useDirectStoreUpdater('edgesFocusable', edgesFocusable, store.setState);\n    useDirectStoreUpdater('edgesUpdatable', edgesUpdatable, store.setState);\n    useDirectStoreUpdater('elementsSelectable', elementsSelectable, store.setState);\n    useDirectStoreUpdater('elevateNodesOnSelect', elevateNodesOnSelect, store.setState);\n    useDirectStoreUpdater('snapToGrid', snapToGrid, store.setState);\n    useDirectStoreUpdater('snapGrid', snapGrid, store.setState);\n    useDirectStoreUpdater('onNodesChange', onNodesChange, store.setState);\n    useDirectStoreUpdater('onEdgesChange', onEdgesChange, store.setState);\n    useDirectStoreUpdater('connectOnClick', connectOnClick, store.setState);\n    useDirectStoreUpdater('fitViewOnInit', fitView, store.setState);\n    useDirectStoreUpdater('fitViewOnInitOptions', fitViewOptions, store.setState);\n    useDirectStoreUpdater('onNodesDelete', onNodesDelete, store.setState);\n    useDirectStoreUpdater('onEdgesDelete', onEdgesDelete, store.setState);\n    useDirectStoreUpdater('onNodeDrag', onNodeDrag, store.setState);\n    useDirectStoreUpdater('onNodeDragStart', onNodeDragStart, store.setState);\n    useDirectStoreUpdater('onNodeDragStop', onNodeDragStop, store.setState);\n    useDirectStoreUpdater('onSelectionDrag', onSelectionDrag, store.setState);\n    useDirectStoreUpdater('onSelectionDragStart', onSelectionDragStart, store.setState);\n    useDirectStoreUpdater('onSelectionDragStop', onSelectionDragStop, store.setState);\n    useDirectStoreUpdater('noPanClassName', noPanClassName, store.setState);\n    useDirectStoreUpdater('nodeOrigin', nodeOrigin, store.setState);\n    useDirectStoreUpdater('rfId', rfId, store.setState);\n    useDirectStoreUpdater('autoPanOnConnect', autoPanOnConnect, store.setState);\n    useDirectStoreUpdater('autoPanOnNodeDrag', autoPanOnNodeDrag, store.setState);\n    useDirectStoreUpdater('onError', onError, store.setState);\n    useDirectStoreUpdater('connectionRadius', connectionRadius, store.setState);\n    useDirectStoreUpdater('isValidConnection', isValidConnection, store.setState);\n    useStoreUpdater(nodes, setNodes);\n    useStoreUpdater(edges, setEdges);\n    useStoreUpdater(minZoom, setMinZoom);\n    useStoreUpdater(maxZoom, setMaxZoom);\n    useStoreUpdater(translateExtent, setTranslateExtent);\n    useStoreUpdater(nodeExtent, setNodeExtent);\n    return null;\n};\n\nconst style = { display: 'none' };\nconst ariaLiveStyle = {\n    position: 'absolute',\n    width: 1,\n    height: 1,\n    margin: -1,\n    border: 0,\n    padding: 0,\n    overflow: 'hidden',\n    clip: 'rect(0px, 0px, 0px, 0px)',\n    clipPath: 'inset(100%)',\n};\nconst ARIA_NODE_DESC_KEY = 'react-flow__node-desc';\nconst ARIA_EDGE_DESC_KEY = 'react-flow__edge-desc';\nconst ARIA_LIVE_MESSAGE = 'react-flow__aria-live';\nconst selector$c = (s) => s.ariaLiveMessage;\nfunction AriaLiveMessage({ rfId }) {\n    const ariaLiveMessage = useStore(selector$c);\n    return (jsx(\"div\", { id: `${ARIA_LIVE_MESSAGE}-${rfId}`, \"aria-live\": \"assertive\", \"aria-atomic\": \"true\", style: ariaLiveStyle, children: ariaLiveMessage }));\n}\nfunction A11yDescriptions({ rfId, disableKeyboardA11y }) {\n    return (jsxs(Fragment, { children: [jsxs(\"div\", { id: `${ARIA_NODE_DESC_KEY}-${rfId}`, style: style, children: [\"Press enter or space to select a node.\", !disableKeyboardA11y && 'You can then use the arrow keys to move the node around.', \" Press delete to remove it and escape to cancel.\", ' '] }), jsx(\"div\", { id: `${ARIA_EDGE_DESC_KEY}-${rfId}`, style: style, children: \"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.\" }), !disableKeyboardA11y && jsx(AriaLiveMessage, { rfId: rfId })] }));\n}\n\nconst shiftX = (x, shift, position) => {\n    if (position === Position.Left)\n        return x - shift;\n    if (position === Position.Right)\n        return x + shift;\n    return x;\n};\nconst shiftY = (y, shift, position) => {\n    if (position === Position.Top)\n        return y - shift;\n    if (position === Position.Bottom)\n        return y + shift;\n    return y;\n};\nconst EdgeUpdaterClassName = 'react-flow__edgeupdater';\nconst EdgeAnchor = ({ position, centerX, centerY, radius = 10, onMouseDown, onMouseEnter, onMouseOut, type, }) => (jsx(\"circle\", { onMouseDown: onMouseDown, onMouseEnter: onMouseEnter, onMouseOut: onMouseOut, className: cc([EdgeUpdaterClassName, `${EdgeUpdaterClassName}-${type}`]), cx: shiftX(centerX, radius, position), cy: shiftY(centerY, radius, position), r: radius, stroke: \"transparent\", fill: \"transparent\" }));\n\nconst alwaysValidConnection = () => true;\nvar wrapEdge = (EdgeComponent) => {\n    const EdgeWrapper = ({ id, className, type, data, onClick, onEdgeDoubleClick, selected, animated, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, source, target, sourceX, sourceY, targetX, targetY, sourcePosition, targetPosition, elementsSelectable, hidden, sourceHandleId, targetHandleId, onContextMenu, onMouseEnter, onMouseMove, onMouseLeave, edgeUpdaterRadius, onEdgeUpdate, onEdgeUpdateStart, onEdgeUpdateEnd, markerEnd, markerStart, rfId, ariaLabel, isFocusable, isUpdatable, pathOptions, interactionWidth, }) => {\n        const edgeRef = useRef(null);\n        const [updateHover, setUpdateHover] = useState(false);\n        const [updating, setUpdating] = useState(false);\n        const store = useStoreApi();\n        const markerStartUrl = useMemo(() => `url(#${getMarkerId(markerStart, rfId)})`, [markerStart, rfId]);\n        const markerEndUrl = useMemo(() => `url(#${getMarkerId(markerEnd, rfId)})`, [markerEnd, rfId]);\n        if (hidden) {\n            return null;\n        }\n        const onEdgeClick = (event) => {\n            const { edges, addSelectedEdges } = store.getState();\n            if (elementsSelectable) {\n                store.setState({ nodesSelectionActive: false });\n                addSelectedEdges([id]);\n            }\n            if (onClick) {\n                const edge = edges.find((e) => e.id === id);\n                onClick(event, edge);\n            }\n        };\n        const onEdgeDoubleClickHandler = getMouseHandler$1(id, store.getState, onEdgeDoubleClick);\n        const onEdgeContextMenu = getMouseHandler$1(id, store.getState, onContextMenu);\n        const onEdgeMouseEnter = getMouseHandler$1(id, store.getState, onMouseEnter);\n        const onEdgeMouseMove = getMouseHandler$1(id, store.getState, onMouseMove);\n        const onEdgeMouseLeave = getMouseHandler$1(id, store.getState, onMouseLeave);\n        const handleEdgeUpdater = (event, isSourceHandle) => {\n            // avoid triggering edge updater if mouse btn is not left\n            if (event.button !== 0) {\n                return;\n            }\n            const { edges, isValidConnection: isValidConnectionStore } = store.getState();\n            const nodeId = isSourceHandle ? target : source;\n            const handleId = (isSourceHandle ? targetHandleId : sourceHandleId) || null;\n            const handleType = isSourceHandle ? 'target' : 'source';\n            const isValidConnection = isValidConnectionStore || alwaysValidConnection;\n            const isTarget = isSourceHandle;\n            const edge = edges.find((e) => e.id === id);\n            setUpdating(true);\n            onEdgeUpdateStart?.(event, edge, handleType);\n            const _onEdgeUpdateEnd = (evt) => {\n                setUpdating(false);\n                onEdgeUpdateEnd?.(evt, edge, handleType);\n            };\n            const onConnectEdge = (connection) => onEdgeUpdate?.(edge, connection);\n            handlePointerDown({\n                event,\n                handleId,\n                nodeId,\n                onConnect: onConnectEdge,\n                isTarget,\n                getState: store.getState,\n                setState: store.setState,\n                isValidConnection,\n                edgeUpdaterType: handleType,\n                onEdgeUpdateEnd: _onEdgeUpdateEnd,\n            });\n        };\n        const onEdgeUpdaterSourceMouseDown = (event) => handleEdgeUpdater(event, true);\n        const onEdgeUpdaterTargetMouseDown = (event) => handleEdgeUpdater(event, false);\n        const onEdgeUpdaterMouseEnter = () => setUpdateHover(true);\n        const onEdgeUpdaterMouseOut = () => setUpdateHover(false);\n        const inactive = !elementsSelectable && !onClick;\n        const onKeyDown = (event) => {\n            if (elementSelectionKeys.includes(event.key) && elementsSelectable) {\n                const { unselectNodesAndEdges, addSelectedEdges, edges } = store.getState();\n                const unselect = event.key === 'Escape';\n                if (unselect) {\n                    edgeRef.current?.blur();\n                    unselectNodesAndEdges({ edges: [edges.find((e) => e.id === id)] });\n                }\n                else {\n                    addSelectedEdges([id]);\n                }\n            }\n        };\n        return (jsxs(\"g\", { className: cc([\n                'react-flow__edge',\n                `react-flow__edge-${type}`,\n                className,\n                { selected, animated, inactive, updating: updateHover },\n            ]), onClick: onEdgeClick, onDoubleClick: onEdgeDoubleClickHandler, onContextMenu: onEdgeContextMenu, onMouseEnter: onEdgeMouseEnter, onMouseMove: onEdgeMouseMove, onMouseLeave: onEdgeMouseLeave, onKeyDown: isFocusable ? onKeyDown : undefined, tabIndex: isFocusable ? 0 : undefined, role: isFocusable ? 'button' : undefined, \"data-testid\": `rf__edge-${id}`, \"aria-label\": ariaLabel === null ? undefined : ariaLabel ? ariaLabel : `Edge from ${source} to ${target}`, \"aria-describedby\": isFocusable ? `${ARIA_EDGE_DESC_KEY}-${rfId}` : undefined, ref: edgeRef, children: [!updating && (jsx(EdgeComponent, { id: id, source: source, target: target, selected: selected, animated: animated, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, data: data, style: style, sourceX: sourceX, sourceY: sourceY, targetX: targetX, targetY: targetY, sourcePosition: sourcePosition, targetPosition: targetPosition, sourceHandleId: sourceHandleId, targetHandleId: targetHandleId, markerStart: markerStartUrl, markerEnd: markerEndUrl, pathOptions: pathOptions, interactionWidth: interactionWidth })), isUpdatable && (jsxs(Fragment, { children: [(isUpdatable === 'source' || isUpdatable === true) && (jsx(EdgeAnchor, { position: sourcePosition, centerX: sourceX, centerY: sourceY, radius: edgeUpdaterRadius, onMouseDown: onEdgeUpdaterSourceMouseDown, onMouseEnter: onEdgeUpdaterMouseEnter, onMouseOut: onEdgeUpdaterMouseOut, type: \"source\" })), (isUpdatable === 'target' || isUpdatable === true) && (jsx(EdgeAnchor, { position: targetPosition, centerX: targetX, centerY: targetY, radius: edgeUpdaterRadius, onMouseDown: onEdgeUpdaterTargetMouseDown, onMouseEnter: onEdgeUpdaterMouseEnter, onMouseOut: onEdgeUpdaterMouseOut, type: \"target\" }))] }))] }));\n    };\n    EdgeWrapper.displayName = 'EdgeWrapper';\n    return memo(EdgeWrapper);\n};\n\nfunction createEdgeTypes(edgeTypes) {\n    const standardTypes = {\n        default: wrapEdge((edgeTypes.default || BezierEdge)),\n        straight: wrapEdge((edgeTypes.bezier || StraightEdge)),\n        step: wrapEdge((edgeTypes.step || StepEdge)),\n        smoothstep: wrapEdge((edgeTypes.step || SmoothStepEdge)),\n        simplebezier: wrapEdge((edgeTypes.simplebezier || SimpleBezierEdge)),\n    };\n    const wrappedTypes = {};\n    const specialTypes = Object.keys(edgeTypes)\n        .filter((k) => !['default', 'bezier'].includes(k))\n        .reduce((res, key) => {\n        res[key] = wrapEdge((edgeTypes[key] || BezierEdge));\n        return res;\n    }, wrappedTypes);\n    return {\n        ...standardTypes,\n        ...specialTypes,\n    };\n}\nfunction getHandlePosition(position, nodeRect, handle = null) {\n    const x = (handle?.x || 0) + nodeRect.x;\n    const y = (handle?.y || 0) + nodeRect.y;\n    const width = handle?.width || nodeRect.width;\n    const height = handle?.height || nodeRect.height;\n    switch (position) {\n        case Position.Top:\n            return {\n                x: x + width / 2,\n                y,\n            };\n        case Position.Right:\n            return {\n                x: x + width,\n                y: y + height / 2,\n            };\n        case Position.Bottom:\n            return {\n                x: x + width / 2,\n                y: y + height,\n            };\n        case Position.Left:\n            return {\n                x,\n                y: y + height / 2,\n            };\n    }\n}\nfunction getHandle(bounds, handleId) {\n    if (!bounds) {\n        return null;\n    }\n    if (bounds.length === 1 || !handleId) {\n        return bounds[0];\n    }\n    else if (handleId) {\n        return bounds.find((d) => d.id === handleId) || null;\n    }\n    return null;\n}\nconst getEdgePositions = (sourceNodeRect, sourceHandle, sourcePosition, targetNodeRect, targetHandle, targetPosition) => {\n    const sourceHandlePos = getHandlePosition(sourcePosition, sourceNodeRect, sourceHandle);\n    const targetHandlePos = getHandlePosition(targetPosition, targetNodeRect, targetHandle);\n    return {\n        sourceX: sourceHandlePos.x,\n        sourceY: sourceHandlePos.y,\n        targetX: targetHandlePos.x,\n        targetY: targetHandlePos.y,\n    };\n};\nfunction isEdgeVisible({ sourcePos, targetPos, sourceWidth, sourceHeight, targetWidth, targetHeight, width, height, transform, }) {\n    const edgeBox = {\n        x: Math.min(sourcePos.x, targetPos.x),\n        y: Math.min(sourcePos.y, targetPos.y),\n        x2: Math.max(sourcePos.x + sourceWidth, targetPos.x + targetWidth),\n        y2: Math.max(sourcePos.y + sourceHeight, targetPos.y + targetHeight),\n    };\n    if (edgeBox.x === edgeBox.x2) {\n        edgeBox.x2 += 1;\n    }\n    if (edgeBox.y === edgeBox.y2) {\n        edgeBox.y2 += 1;\n    }\n    const viewBox = rectToBox({\n        x: (0 - transform[0]) / transform[2],\n        y: (0 - transform[1]) / transform[2],\n        width: width / transform[2],\n        height: height / transform[2],\n    });\n    const xOverlap = Math.max(0, Math.min(viewBox.x2, edgeBox.x2) - Math.max(viewBox.x, edgeBox.x));\n    const yOverlap = Math.max(0, Math.min(viewBox.y2, edgeBox.y2) - Math.max(viewBox.y, edgeBox.y));\n    const overlappingArea = Math.ceil(xOverlap * yOverlap);\n    return overlappingArea > 0;\n}\nfunction getNodeData(node) {\n    const handleBounds = node?.[internalsSymbol]?.handleBounds || null;\n    const isValid = handleBounds &&\n        node?.width &&\n        node?.height &&\n        typeof node?.positionAbsolute?.x !== 'undefined' &&\n        typeof node?.positionAbsolute?.y !== 'undefined';\n    return [\n        {\n            x: node?.positionAbsolute?.x || 0,\n            y: node?.positionAbsolute?.y || 0,\n            width: node?.width || 0,\n            height: node?.height || 0,\n        },\n        handleBounds,\n        !!isValid,\n    ];\n}\n\nfunction isParentSelected(node, nodeInternals) {\n    if (!node.parentNode) {\n        return false;\n    }\n    const parentNode = nodeInternals.get(node.parentNode);\n    if (!parentNode) {\n        return false;\n    }\n    if (parentNode.selected) {\n        return true;\n    }\n    return isParentSelected(parentNode, nodeInternals);\n}\nfunction hasSelector(target, selector, nodeRef) {\n    let current = target;\n    do {\n        if (current?.matches(selector))\n            return true;\n        if (current === nodeRef.current)\n            return false;\n        current = current.parentElement;\n    } while (current);\n    return false;\n}\n// looks for all selected nodes and created a NodeDragItem for each of them\nfunction getDragItems(nodeInternals, nodesDraggable, mousePos, nodeId) {\n    return Array.from(nodeInternals.values())\n        .filter((n) => (n.selected || n.id === nodeId) &&\n        (!n.parentNode || !isParentSelected(n, nodeInternals)) &&\n        (n.draggable || (nodesDraggable && typeof n.draggable === 'undefined')))\n        .map((n) => ({\n        id: n.id,\n        position: n.position || { x: 0, y: 0 },\n        positionAbsolute: n.positionAbsolute || { x: 0, y: 0 },\n        distance: {\n            x: mousePos.x - (n.positionAbsolute?.x ?? 0),\n            y: mousePos.y - (n.positionAbsolute?.y ?? 0),\n        },\n        delta: {\n            x: 0,\n            y: 0,\n        },\n        extent: n.extent,\n        parentNode: n.parentNode,\n        width: n.width,\n        height: n.height,\n    }));\n}\nfunction calcNextPosition(node, nextPosition, nodeInternals, nodeExtent, nodeOrigin = [0, 0], onError) {\n    let currentExtent = node.extent || nodeExtent;\n    if (node.extent === 'parent') {\n        if (node.parentNode && node.width && node.height) {\n            const parent = nodeInternals.get(node.parentNode);\n            const { x: parentX, y: parentY } = getNodePositionWithOrigin(parent, nodeOrigin).positionAbsolute;\n            currentExtent =\n                parent && isNumeric(parentX) && isNumeric(parentY) && isNumeric(parent.width) && isNumeric(parent.height)\n                    ? [\n                        [parentX + node.width * nodeOrigin[0], parentY + node.height * nodeOrigin[1]],\n                        [\n                            parentX + parent.width - node.width + node.width * nodeOrigin[0],\n                            parentY + parent.height - node.height + node.height * nodeOrigin[1],\n                        ],\n                    ]\n                    : currentExtent;\n        }\n        else {\n            onError?.('005', errorMessages['error005']());\n            currentExtent = nodeExtent;\n        }\n    }\n    else if (node.extent && node.parentNode) {\n        const parent = nodeInternals.get(node.parentNode);\n        const { x: parentX, y: parentY } = getNodePositionWithOrigin(parent, nodeOrigin).positionAbsolute;\n        currentExtent = [\n            [node.extent[0][0] + parentX, node.extent[0][1] + parentY],\n            [node.extent[1][0] + parentX, node.extent[1][1] + parentY],\n        ];\n    }\n    let parentPosition = { x: 0, y: 0 };\n    if (node.parentNode) {\n        const parentNode = nodeInternals.get(node.parentNode);\n        parentPosition = getNodePositionWithOrigin(parentNode, nodeOrigin).positionAbsolute;\n    }\n    const positionAbsolute = currentExtent\n        ? clampPosition(nextPosition, currentExtent)\n        : nextPosition;\n    return {\n        position: {\n            x: positionAbsolute.x - parentPosition.x,\n            y: positionAbsolute.y - parentPosition.y,\n        },\n        positionAbsolute,\n    };\n}\n// returns two params:\n// 1. the dragged node (or the first of the list, if we are dragging a node selection)\n// 2. array of selected nodes (for multi selections)\nfunction getEventHandlerParams({ nodeId, dragItems, nodeInternals, }) {\n    const extentedDragItems = dragItems.map((n) => {\n        const node = nodeInternals.get(n.id);\n        return {\n            ...node,\n            position: n.position,\n            positionAbsolute: n.positionAbsolute,\n        };\n    });\n    return [nodeId ? extentedDragItems.find((n) => n.id === nodeId) : extentedDragItems[0], extentedDragItems];\n}\n\nconst getHandleBounds = (selector, nodeElement, zoom, nodeOrigin) => {\n    const handles = nodeElement.querySelectorAll(selector);\n    if (!handles || !handles.length) {\n        return null;\n    }\n    const handlesArray = Array.from(handles);\n    const nodeBounds = nodeElement.getBoundingClientRect();\n    const nodeOffset = {\n        x: nodeBounds.width * nodeOrigin[0],\n        y: nodeBounds.height * nodeOrigin[1],\n    };\n    return handlesArray.map((handle) => {\n        const handleBounds = handle.getBoundingClientRect();\n        return {\n            id: handle.getAttribute('data-handleid'),\n            position: handle.getAttribute('data-handlepos'),\n            x: (handleBounds.left - nodeBounds.left - nodeOffset.x) / zoom,\n            y: (handleBounds.top - nodeBounds.top - nodeOffset.y) / zoom,\n            ...getDimensions(handle),\n        };\n    });\n};\nfunction getMouseHandler(id, getState, handler) {\n    return handler === undefined\n        ? handler\n        : (event) => {\n            const node = getState().nodeInternals.get(id);\n            handler(event, { ...node });\n        };\n}\n// this handler is called by\n// 1. the click handler when node is not draggable or selectNodesOnDrag = false\n// or\n// 2. the on drag start handler when node is draggable and selectNodesOnDrag = true\nfunction handleNodeClick({ id, store, unselect = false, nodeRef, }) {\n    const { addSelectedNodes, unselectNodesAndEdges, multiSelectionActive, nodeInternals } = store.getState();\n    const node = nodeInternals.get(id);\n    store.setState({ nodesSelectionActive: false });\n    if (!node.selected) {\n        addSelectedNodes([id]);\n    }\n    else if (unselect || (node.selected && multiSelectionActive)) {\n        unselectNodesAndEdges({ nodes: [node] });\n        requestAnimationFrame(() => nodeRef?.current?.blur());\n    }\n}\n\nfunction useGetPointerPosition() {\n    const store = useStoreApi();\n    // returns the pointer position projected to the RF coordinate system\n    const getPointerPosition = useCallback(({ sourceEvent }) => {\n        const { transform, snapGrid, snapToGrid } = store.getState();\n        const x = sourceEvent.touches ? sourceEvent.touches[0].clientX : sourceEvent.clientX;\n        const y = sourceEvent.touches ? sourceEvent.touches[0].clientY : sourceEvent.clientY;\n        const pointerPos = {\n            x: (x - transform[0]) / transform[2],\n            y: (y - transform[1]) / transform[2],\n        };\n        // we need the snapped position in order to be able to skip unnecessary drag events\n        return {\n            xSnapped: snapToGrid ? snapGrid[0] * Math.round(pointerPos.x / snapGrid[0]) : pointerPos.x,\n            ySnapped: snapToGrid ? snapGrid[1] * Math.round(pointerPos.y / snapGrid[1]) : pointerPos.y,\n            ...pointerPos,\n        };\n    }, []);\n    return getPointerPosition;\n}\n\nfunction wrapSelectionDragFunc(selectionFunc) {\n    return (event, _, nodes) => selectionFunc?.(event, nodes);\n}\nfunction useDrag({ nodeRef, disabled = false, noDragClassName, handleSelector, nodeId, isSelectable, selectNodesOnDrag, }) {\n    const store = useStoreApi();\n    const [dragging, setDragging] = useState(false);\n    const dragItems = useRef([]);\n    const lastPos = useRef({ x: null, y: null });\n    const autoPanId = useRef(0);\n    const containerBounds = useRef(null);\n    const mousePosition = useRef({ x: 0, y: 0 });\n    const dragEvent = useRef(null);\n    const autoPanStarted = useRef(false);\n    const getPointerPosition = useGetPointerPosition();\n    useEffect(() => {\n        if (nodeRef?.current) {\n            const selection = select(nodeRef.current);\n            const updateNodes = ({ x, y }) => {\n                const { nodeInternals, onNodeDrag, onSelectionDrag, updateNodePositions, nodeExtent, snapGrid, snapToGrid, nodeOrigin, onError, } = store.getState();\n                lastPos.current = { x, y };\n                let hasChange = false;\n                dragItems.current = dragItems.current.map((n) => {\n                    const nextPosition = { x: x - n.distance.x, y: y - n.distance.y };\n                    if (snapToGrid) {\n                        nextPosition.x = snapGrid[0] * Math.round(nextPosition.x / snapGrid[0]);\n                        nextPosition.y = snapGrid[1] * Math.round(nextPosition.y / snapGrid[1]);\n                    }\n                    const updatedPos = calcNextPosition(n, nextPosition, nodeInternals, nodeExtent, nodeOrigin, onError);\n                    // we want to make sure that we only fire a change event when there is a changes\n                    hasChange = hasChange || n.position.x !== updatedPos.position.x || n.position.y !== updatedPos.position.y;\n                    n.position = updatedPos.position;\n                    n.positionAbsolute = updatedPos.positionAbsolute;\n                    return n;\n                });\n                if (!hasChange) {\n                    return;\n                }\n                updateNodePositions(dragItems.current, true, true);\n                setDragging(true);\n                const onDrag = nodeId ? onNodeDrag : wrapSelectionDragFunc(onSelectionDrag);\n                if (onDrag && dragEvent.current) {\n                    const [currentNode, nodes] = getEventHandlerParams({\n                        nodeId,\n                        dragItems: dragItems.current,\n                        nodeInternals,\n                    });\n                    onDrag(dragEvent.current, currentNode, nodes);\n                }\n            };\n            const autoPan = () => {\n                if (!containerBounds.current) {\n                    return;\n                }\n                const [xMovement, yMovement] = calcAutoPan(mousePosition.current, containerBounds.current);\n                if (xMovement !== 0 || yMovement !== 0) {\n                    const { transform, panBy } = store.getState();\n                    lastPos.current.x = (lastPos.current.x ?? 0) - xMovement / transform[2];\n                    lastPos.current.y = (lastPos.current.y ?? 0) - yMovement / transform[2];\n                    updateNodes(lastPos.current);\n                    panBy({ x: xMovement, y: yMovement });\n                }\n                autoPanId.current = requestAnimationFrame(autoPan);\n            };\n            if (disabled) {\n                selection.on('.drag', null);\n            }\n            else {\n                const dragHandler = drag()\n                    .on('start', (event) => {\n                    const { nodeInternals, multiSelectionActive, domNode, nodesDraggable, unselectNodesAndEdges, onNodeDragStart, onSelectionDragStart, } = store.getState();\n                    const onStart = nodeId ? onNodeDragStart : wrapSelectionDragFunc(onSelectionDragStart);\n                    if (!selectNodesOnDrag && !multiSelectionActive && nodeId) {\n                        if (!nodeInternals.get(nodeId)?.selected) {\n                            // we need to reset selected nodes when selectNodesOnDrag=false\n                            unselectNodesAndEdges();\n                        }\n                    }\n                    if (nodeId && isSelectable && selectNodesOnDrag) {\n                        handleNodeClick({\n                            id: nodeId,\n                            store,\n                            nodeRef: nodeRef,\n                        });\n                    }\n                    const pointerPos = getPointerPosition(event);\n                    lastPos.current = pointerPos;\n                    dragItems.current = getDragItems(nodeInternals, nodesDraggable, pointerPos, nodeId);\n                    if (onStart && dragItems.current) {\n                        const [currentNode, nodes] = getEventHandlerParams({\n                            nodeId,\n                            dragItems: dragItems.current,\n                            nodeInternals,\n                        });\n                        onStart(event.sourceEvent, currentNode, nodes);\n                    }\n                    containerBounds.current = domNode?.getBoundingClientRect() || null;\n                    mousePosition.current = getEventPosition(event.sourceEvent, containerBounds.current);\n                })\n                    .on('drag', (event) => {\n                    const pointerPos = getPointerPosition(event);\n                    const { autoPanOnNodeDrag } = store.getState();\n                    if (!autoPanStarted.current && autoPanOnNodeDrag) {\n                        autoPanStarted.current = true;\n                        autoPan();\n                    }\n                    // skip events without movement\n                    if ((lastPos.current.x !== pointerPos.xSnapped || lastPos.current.y !== pointerPos.ySnapped) &&\n                        dragItems.current) {\n                        dragEvent.current = event.sourceEvent;\n                        mousePosition.current = getEventPosition(event.sourceEvent, containerBounds.current);\n                        updateNodes(pointerPos);\n                    }\n                })\n                    .on('end', (event) => {\n                    setDragging(false);\n                    autoPanStarted.current = false;\n                    cancelAnimationFrame(autoPanId.current);\n                    if (dragItems.current) {\n                        const { updateNodePositions, nodeInternals, onNodeDragStop, onSelectionDragStop } = store.getState();\n                        const onStop = nodeId ? onNodeDragStop : wrapSelectionDragFunc(onSelectionDragStop);\n                        updateNodePositions(dragItems.current, false, false);\n                        if (onStop) {\n                            const [currentNode, nodes] = getEventHandlerParams({\n                                nodeId,\n                                dragItems: dragItems.current,\n                                nodeInternals,\n                            });\n                            onStop(event.sourceEvent, currentNode, nodes);\n                        }\n                    }\n                })\n                    .filter((event) => {\n                    const target = event.target;\n                    const isDraggable = !event.button &&\n                        (!noDragClassName || !hasSelector(target, `.${noDragClassName}`, nodeRef)) &&\n                        (!handleSelector || hasSelector(target, handleSelector, nodeRef));\n                    return isDraggable;\n                });\n                selection.call(dragHandler);\n                return () => {\n                    selection.on('.drag', null);\n                };\n            }\n        }\n    }, [\n        nodeRef,\n        disabled,\n        noDragClassName,\n        handleSelector,\n        isSelectable,\n        store,\n        nodeId,\n        selectNodesOnDrag,\n        getPointerPosition,\n    ]);\n    return dragging;\n}\n\nfunction useUpdateNodePositions() {\n    const store = useStoreApi();\n    const updatePositions = useCallback((params) => {\n        const { nodeInternals, nodeExtent, updateNodePositions, getNodes, snapToGrid, snapGrid, onError, nodesDraggable } = store.getState();\n        const selectedNodes = getNodes().filter((n) => n.selected && (n.draggable || (nodesDraggable && typeof n.draggable === 'undefined')));\n        // by default a node moves 5px on each key press, or 20px if shift is pressed\n        // if snap grid is enabled, we use that for the velocity.\n        const xVelo = snapToGrid ? snapGrid[0] : 5;\n        const yVelo = snapToGrid ? snapGrid[1] : 5;\n        const factor = params.isShiftPressed ? 4 : 1;\n        const positionDiffX = params.x * xVelo * factor;\n        const positionDiffY = params.y * yVelo * factor;\n        const nodeUpdates = selectedNodes.map((n) => {\n            if (n.positionAbsolute) {\n                const nextPosition = { x: n.positionAbsolute.x + positionDiffX, y: n.positionAbsolute.y + positionDiffY };\n                if (snapToGrid) {\n                    nextPosition.x = snapGrid[0] * Math.round(nextPosition.x / snapGrid[0]);\n                    nextPosition.y = snapGrid[1] * Math.round(nextPosition.y / snapGrid[1]);\n                }\n                const { positionAbsolute, position } = calcNextPosition(n, nextPosition, nodeInternals, nodeExtent, undefined, onError);\n                n.position = position;\n                n.positionAbsolute = positionAbsolute;\n            }\n            return n;\n        });\n        updateNodePositions(nodeUpdates, true, false);\n    }, []);\n    return updatePositions;\n}\n\nconst arrowKeyDiffs = {\n    ArrowUp: { x: 0, y: -1 },\n    ArrowDown: { x: 0, y: 1 },\n    ArrowLeft: { x: -1, y: 0 },\n    ArrowRight: { x: 1, y: 0 },\n};\nvar wrapNode = (NodeComponent) => {\n    const NodeWrapper = ({ id, type, data, xPos, yPos, xPosOrigin, yPosOrigin, selected, onClick, onMouseEnter, onMouseMove, onMouseLeave, onContextMenu, onDoubleClick, style, className, isDraggable, isSelectable, isConnectable, isFocusable, selectNodesOnDrag, sourcePosition, targetPosition, hidden, resizeObserver, dragHandle, zIndex, isParent, noDragClassName, noPanClassName, initialized, disableKeyboardA11y, ariaLabel, rfId, }) => {\n        const store = useStoreApi();\n        const nodeRef = useRef(null);\n        const prevSourcePosition = useRef(sourcePosition);\n        const prevTargetPosition = useRef(targetPosition);\n        const prevType = useRef(type);\n        const hasPointerEvents = isSelectable || isDraggable || onClick || onMouseEnter || onMouseMove || onMouseLeave;\n        const updatePositions = useUpdateNodePositions();\n        const onMouseEnterHandler = getMouseHandler(id, store.getState, onMouseEnter);\n        const onMouseMoveHandler = getMouseHandler(id, store.getState, onMouseMove);\n        const onMouseLeaveHandler = getMouseHandler(id, store.getState, onMouseLeave);\n        const onContextMenuHandler = getMouseHandler(id, store.getState, onContextMenu);\n        const onDoubleClickHandler = getMouseHandler(id, store.getState, onDoubleClick);\n        const onSelectNodeHandler = (event) => {\n            if (isSelectable && (!selectNodesOnDrag || !isDraggable)) {\n                // this handler gets called within the drag start event when selectNodesOnDrag=true\n                handleNodeClick({\n                    id,\n                    store,\n                    nodeRef,\n                });\n            }\n            if (onClick) {\n                const node = store.getState().nodeInternals.get(id);\n                onClick(event, { ...node });\n            }\n        };\n        const onKeyDown = (event) => {\n            if (isInputDOMNode(event)) {\n                return;\n            }\n            if (elementSelectionKeys.includes(event.key) && isSelectable) {\n                const unselect = event.key === 'Escape';\n                handleNodeClick({\n                    id,\n                    store,\n                    unselect,\n                    nodeRef,\n                });\n            }\n            else if (!disableKeyboardA11y &&\n                isDraggable &&\n                selected &&\n                Object.prototype.hasOwnProperty.call(arrowKeyDiffs, event.key)) {\n                store.setState({\n                    ariaLiveMessage: `Moved selected node ${event.key\n                        .replace('Arrow', '')\n                        .toLowerCase()}. New position, x: ${~~xPos}, y: ${~~yPos}`,\n                });\n                updatePositions({\n                    x: arrowKeyDiffs[event.key].x,\n                    y: arrowKeyDiffs[event.key].y,\n                    isShiftPressed: event.shiftKey,\n                });\n            }\n        };\n        useEffect(() => {\n            if (nodeRef.current && !hidden) {\n                const currNode = nodeRef.current;\n                resizeObserver?.observe(currNode);\n                return () => resizeObserver?.unobserve(currNode);\n            }\n        }, [hidden]);\n        useEffect(() => {\n            // when the user programmatically changes the source or handle position, we re-initialize the node\n            const typeChanged = prevType.current !== type;\n            const sourcePosChanged = prevSourcePosition.current !== sourcePosition;\n            const targetPosChanged = prevTargetPosition.current !== targetPosition;\n            if (nodeRef.current && (typeChanged || sourcePosChanged || targetPosChanged)) {\n                if (typeChanged) {\n                    prevType.current = type;\n                }\n                if (sourcePosChanged) {\n                    prevSourcePosition.current = sourcePosition;\n                }\n                if (targetPosChanged) {\n                    prevTargetPosition.current = targetPosition;\n                }\n                store.getState().updateNodeDimensions([{ id, nodeElement: nodeRef.current, forceUpdate: true }]);\n            }\n        }, [id, type, sourcePosition, targetPosition]);\n        const dragging = useDrag({\n            nodeRef,\n            disabled: hidden || !isDraggable,\n            noDragClassName,\n            handleSelector: dragHandle,\n            nodeId: id,\n            isSelectable,\n            selectNodesOnDrag,\n        });\n        if (hidden) {\n            return null;\n        }\n        return (jsx(\"div\", { className: cc([\n                'react-flow__node',\n                `react-flow__node-${type}`,\n                {\n                    // this is overwritable by passing `nopan` as a class name\n                    [noPanClassName]: isDraggable,\n                },\n                className,\n                {\n                    selected,\n                    selectable: isSelectable,\n                    parent: isParent,\n                    dragging,\n                },\n            ]), ref: nodeRef, style: {\n                zIndex,\n                transform: `translate(${xPosOrigin}px,${yPosOrigin}px)`,\n                pointerEvents: hasPointerEvents ? 'all' : 'none',\n                visibility: initialized ? 'visible' : 'hidden',\n                ...style,\n            }, \"data-id\": id, \"data-testid\": `rf__node-${id}`, onMouseEnter: onMouseEnterHandler, onMouseMove: onMouseMoveHandler, onMouseLeave: onMouseLeaveHandler, onContextMenu: onContextMenuHandler, onClick: onSelectNodeHandler, onDoubleClick: onDoubleClickHandler, onKeyDown: isFocusable ? onKeyDown : undefined, tabIndex: isFocusable ? 0 : undefined, role: isFocusable ? 'button' : undefined, \"aria-describedby\": disableKeyboardA11y ? undefined : `${ARIA_NODE_DESC_KEY}-${rfId}`, \"aria-label\": ariaLabel, children: jsx(Provider, { value: id, children: jsx(NodeComponent, { id: id, data: data, type: type, xPos: xPos, yPos: yPos, selected: selected, isConnectable: isConnectable, sourcePosition: sourcePosition, targetPosition: targetPosition, dragging: dragging, dragHandle: dragHandle, zIndex: zIndex }) }) }));\n    };\n    NodeWrapper.displayName = 'NodeWrapper';\n    return memo(NodeWrapper);\n};\n\nfunction createNodeTypes(nodeTypes) {\n    const standardTypes = {\n        input: wrapNode((nodeTypes.input || InputNode$1)),\n        default: wrapNode((nodeTypes.default || DefaultNode$1)),\n        output: wrapNode((nodeTypes.output || OutputNode$1)),\n        group: wrapNode((nodeTypes.group || GroupNode)),\n    };\n    const wrappedTypes = {};\n    const specialTypes = Object.keys(nodeTypes)\n        .filter((k) => !['input', 'default', 'output', 'group'].includes(k))\n        .reduce((res, key) => {\n        res[key] = wrapNode((nodeTypes[key] || DefaultNode$1));\n        return res;\n    }, wrappedTypes);\n    return {\n        ...standardTypes,\n        ...specialTypes,\n    };\n}\nconst getPositionWithOrigin = ({ x, y, width, height, origin, }) => {\n    if (!width || !height) {\n        return { x, y };\n    }\n    if (origin[0] < 0 || origin[1] < 0 || origin[0] > 1 || origin[1] > 1) {\n        return { x, y };\n    }\n    return {\n        x: x - width * origin[0],\n        y: y - height * origin[1],\n    };\n};\n\nconst doc = typeof document !== 'undefined' ? document : null;\n// the keycode can be a string 'a' or an array of strings ['a', 'a+d']\n// a string means a single key 'a' or a combination when '+' is used 'a+d'\n// an array means different possibilites. Explainer: ['a', 'd+s'] here the\n// user can use the single key 'a' or the combination 'd' + 's'\nvar useKeyPress = (keyCode = null, options = { target: doc }) => {\n    const [keyPressed, setKeyPressed] = useState(false);\n    // we need to remember if a modifier key is pressed in order to track it\n    const modifierPressed = useRef(false);\n    // we need to remember the pressed keys in order to support combinations\n    const pressedKeys = useRef(new Set([]));\n    // keyCodes = array with single keys [['a']] or key combinations [['a', 's']]\n    // keysToWatch = array with all keys flattened ['a', 'd', 'ShiftLeft']\n    // used to check if we store event.code or event.key. When the code is in the list of keysToWatch\n    // we use the code otherwise the key. Explainer: When you press the left \"command\" key, the code is \"MetaLeft\"\n    // and the key is \"Meta\". We want users to be able to pass keys and codes so we assume that the key is meant when\n    // we can't find it in the list of keysToWatch.\n    const [keyCodes, keysToWatch] = useMemo(() => {\n        if (keyCode !== null) {\n            const keyCodeArr = Array.isArray(keyCode) ? keyCode : [keyCode];\n            const keys = keyCodeArr.filter((kc) => typeof kc === 'string').map((kc) => kc.split('+'));\n            const keysFlat = keys.reduce((res, item) => res.concat(...item), []);\n            return [keys, keysFlat];\n        }\n        return [[], []];\n    }, [keyCode]);\n    useEffect(() => {\n        if (keyCode !== null) {\n            const downHandler = (event) => {\n                modifierPressed.current = event.ctrlKey || event.metaKey || event.shiftKey;\n                if (!modifierPressed.current && isInputDOMNode(event)) {\n                    return false;\n                }\n                const keyOrCode = useKeyOrCode(event.code, keysToWatch);\n                pressedKeys.current.add(event[keyOrCode]);\n                if (isMatchingKey(keyCodes, pressedKeys.current, false)) {\n                    event.preventDefault();\n                    setKeyPressed(true);\n                }\n            };\n            const upHandler = (event) => {\n                if (!modifierPressed.current && isInputDOMNode(event)) {\n                    return false;\n                }\n                const keyOrCode = useKeyOrCode(event.code, keysToWatch);\n                if (isMatchingKey(keyCodes, pressedKeys.current, true)) {\n                    setKeyPressed(false);\n                    pressedKeys.current.clear();\n                }\n                else {\n                    pressedKeys.current.delete(event[keyOrCode]);\n                }\n                modifierPressed.current = false;\n            };\n            const resetHandler = () => {\n                pressedKeys.current.clear();\n                setKeyPressed(false);\n            };\n            options?.target?.addEventListener('keydown', downHandler);\n            options?.target?.addEventListener('keyup', upHandler);\n            window.addEventListener('blur', resetHandler);\n            return () => {\n                options?.target?.removeEventListener('keydown', downHandler);\n                options?.target?.removeEventListener('keyup', upHandler);\n                window.removeEventListener('blur', resetHandler);\n            };\n        }\n    }, [keyCode, setKeyPressed]);\n    return keyPressed;\n};\n// utils\nfunction isMatchingKey(keyCodes, pressedKeys, isUp) {\n    return (keyCodes\n        // we only want to compare same sizes of keyCode definitions\n        // and pressed keys. When the user specified 'Meta' as a key somewhere\n        // this would also be truthy without this filter when user presses 'Meta' + 'r'\n        .filter((keys) => isUp || keys.length === pressedKeys.size)\n        // since we want to support multiple possibilities only one of the\n        // combinations need to be part of the pressed keys\n        .some((keys) => keys.every((k) => pressedKeys.has(k))));\n}\nfunction useKeyOrCode(eventCode, keysToWatch) {\n    return keysToWatch.includes(eventCode) ? 'code' : 'key';\n}\n\nfunction calculateXYZPosition(node, nodeInternals, result, nodeOrigin) {\n    if (!node.parentNode) {\n        return result;\n    }\n    const parentNode = nodeInternals.get(node.parentNode);\n    const parentNodePosition = getNodePositionWithOrigin(parentNode, nodeOrigin);\n    return calculateXYZPosition(parentNode, nodeInternals, {\n        x: (result.x ?? 0) + parentNodePosition.x,\n        y: (result.y ?? 0) + parentNodePosition.y,\n        z: (parentNode[internalsSymbol]?.z ?? 0) > (result.z ?? 0) ? parentNode[internalsSymbol]?.z ?? 0 : result.z ?? 0,\n    }, nodeOrigin);\n}\nfunction updateAbsoluteNodePositions(nodeInternals, nodeOrigin, parentNodes) {\n    nodeInternals.forEach((node) => {\n        if (node.parentNode && !nodeInternals.has(node.parentNode)) {\n            throw new Error(`Parent node ${node.parentNode} not found`);\n        }\n        if (node.parentNode || parentNodes?.[node.id]) {\n            const { x, y, z } = calculateXYZPosition(node, nodeInternals, {\n                ...node.position,\n                z: node[internalsSymbol]?.z ?? 0,\n            }, nodeOrigin);\n            node.positionAbsolute = {\n                x,\n                y,\n            };\n            node[internalsSymbol].z = z;\n            if (parentNodes?.[node.id]) {\n                node[internalsSymbol].isParent = true;\n            }\n        }\n    });\n}\nfunction createNodeInternals(nodes, nodeInternals, nodeOrigin, elevateNodesOnSelect) {\n    const nextNodeInternals = new Map();\n    const parentNodes = {};\n    const selectedNodeZ = elevateNodesOnSelect ? 1000 : 0;\n    nodes.forEach((node) => {\n        const z = (isNumeric(node.zIndex) ? node.zIndex : 0) + (node.selected ? selectedNodeZ : 0);\n        const currInternals = nodeInternals.get(node.id);\n        const internals = {\n            width: currInternals?.width,\n            height: currInternals?.height,\n            ...node,\n            positionAbsolute: {\n                x: node.position.x,\n                y: node.position.y,\n            },\n        };\n        if (node.parentNode) {\n            internals.parentNode = node.parentNode;\n            parentNodes[node.parentNode] = true;\n        }\n        Object.defineProperty(internals, internalsSymbol, {\n            enumerable: false,\n            value: {\n                handleBounds: currInternals?.[internalsSymbol]?.handleBounds,\n                z,\n            },\n        });\n        nextNodeInternals.set(node.id, internals);\n    });\n    updateAbsoluteNodePositions(nextNodeInternals, nodeOrigin, parentNodes);\n    return nextNodeInternals;\n}\nfunction fitView(get, options = {}) {\n    const { getNodes, width, height, minZoom, maxZoom, d3Zoom, d3Selection, fitViewOnInitDone, fitViewOnInit, nodeOrigin, } = get();\n    const isInitialFitView = options.initial && !fitViewOnInitDone && fitViewOnInit;\n    const d3initialized = d3Zoom && d3Selection;\n    if (d3initialized && (isInitialFitView || !options.initial)) {\n        const nodes = getNodes().filter((n) => {\n            const isVisible = options.includeHiddenNodes ? n.width && n.height : !n.hidden;\n            if (options.nodes?.length) {\n                return isVisible && options.nodes.some((optionNode) => optionNode.id === n.id);\n            }\n            return isVisible;\n        });\n        const nodesInitialized = nodes.every((n) => n.width && n.height);\n        if (nodes.length > 0 && nodesInitialized) {\n            const bounds = getRectOfNodes(nodes, nodeOrigin);\n            const [x, y, zoom] = getTransformForBounds(bounds, width, height, options.minZoom ?? minZoom, options.maxZoom ?? maxZoom, options.padding ?? 0.1);\n            const nextTransform = zoomIdentity.translate(x, y).scale(zoom);\n            if (typeof options.duration === 'number' && options.duration > 0) {\n                d3Zoom.transform(getD3Transition(d3Selection, options.duration), nextTransform);\n            }\n            else {\n                d3Zoom.transform(d3Selection, nextTransform);\n            }\n            return true;\n        }\n    }\n    return false;\n}\nfunction handleControlledNodeSelectionChange(nodeChanges, nodeInternals) {\n    nodeChanges.forEach((change) => {\n        const node = nodeInternals.get(change.id);\n        if (node) {\n            nodeInternals.set(node.id, {\n                ...node,\n                [internalsSymbol]: node[internalsSymbol],\n                selected: change.selected,\n            });\n        }\n    });\n    return new Map(nodeInternals);\n}\nfunction handleControlledEdgeSelectionChange(edgeChanges, edges) {\n    return edges.map((e) => {\n        const change = edgeChanges.find((change) => change.id === e.id);\n        if (change) {\n            e.selected = change.selected;\n        }\n        return e;\n    });\n}\nfunction updateNodesAndEdgesSelections({ changedNodes, changedEdges, get, set }) {\n    const { nodeInternals, edges, onNodesChange, onEdgesChange, hasDefaultNodes, hasDefaultEdges } = get();\n    if (changedNodes?.length) {\n        if (hasDefaultNodes) {\n            set({ nodeInternals: handleControlledNodeSelectionChange(changedNodes, nodeInternals) });\n        }\n        onNodesChange?.(changedNodes);\n    }\n    if (changedEdges?.length) {\n        if (hasDefaultEdges) {\n            set({ edges: handleControlledEdgeSelectionChange(changedEdges, edges) });\n        }\n        onEdgesChange?.(changedEdges);\n    }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst noop = () => { };\nconst initialViewportHelper = {\n    zoomIn: noop,\n    zoomOut: noop,\n    zoomTo: noop,\n    getZoom: () => 1,\n    setViewport: noop,\n    getViewport: () => ({ x: 0, y: 0, zoom: 1 }),\n    fitView: () => false,\n    setCenter: noop,\n    fitBounds: noop,\n    project: (position) => position,\n    viewportInitialized: false,\n};\nconst selector$b = (s) => ({\n    d3Zoom: s.d3Zoom,\n    d3Selection: s.d3Selection,\n});\nconst useViewportHelper = () => {\n    const store = useStoreApi();\n    const { d3Zoom, d3Selection } = useStore(selector$b, shallow);\n    const viewportHelperFunctions = useMemo(() => {\n        if (d3Selection && d3Zoom) {\n            return {\n                zoomIn: (options) => d3Zoom.scaleBy(getD3Transition(d3Selection, options?.duration), 1.2),\n                zoomOut: (options) => d3Zoom.scaleBy(getD3Transition(d3Selection, options?.duration), 1 / 1.2),\n                zoomTo: (zoomLevel, options) => d3Zoom.scaleTo(getD3Transition(d3Selection, options?.duration), zoomLevel),\n                getZoom: () => store.getState().transform[2],\n                setViewport: (transform, options) => {\n                    const [x, y, zoom] = store.getState().transform;\n                    const nextTransform = zoomIdentity\n                        .translate(transform.x ?? x, transform.y ?? y)\n                        .scale(transform.zoom ?? zoom);\n                    d3Zoom.transform(getD3Transition(d3Selection, options?.duration), nextTransform);\n                },\n                getViewport: () => {\n                    const [x, y, zoom] = store.getState().transform;\n                    return { x, y, zoom };\n                },\n                fitView: (options) => fitView(store.getState, options),\n                setCenter: (x, y, options) => {\n                    const { width, height, maxZoom } = store.getState();\n                    const nextZoom = typeof options?.zoom !== 'undefined' ? options.zoom : maxZoom;\n                    const centerX = width / 2 - x * nextZoom;\n                    const centerY = height / 2 - y * nextZoom;\n                    const transform = zoomIdentity.translate(centerX, centerY).scale(nextZoom);\n                    d3Zoom.transform(getD3Transition(d3Selection, options?.duration), transform);\n                },\n                fitBounds: (bounds, options) => {\n                    const { width, height, minZoom, maxZoom } = store.getState();\n                    const [x, y, zoom] = getTransformForBounds(bounds, width, height, minZoom, maxZoom, options?.padding ?? 0.1);\n                    const transform = zoomIdentity.translate(x, y).scale(zoom);\n                    d3Zoom.transform(getD3Transition(d3Selection, options?.duration), transform);\n                },\n                project: (position) => {\n                    const { transform, snapToGrid, snapGrid } = store.getState();\n                    return pointToRendererPoint(position, transform, snapToGrid, snapGrid);\n                },\n                viewportInitialized: true,\n            };\n        }\n        return initialViewportHelper;\n    }, [d3Zoom, d3Selection]);\n    return viewportHelperFunctions;\n};\n\n/* eslint-disable-next-line @typescript-eslint/no-explicit-any */\nfunction useReactFlow() {\n    const viewportHelper = useViewportHelper();\n    const store = useStoreApi();\n    const getNodes = useCallback(() => {\n        return store\n            .getState()\n            .getNodes()\n            .map((n) => ({ ...n }));\n    }, []);\n    const getNode = useCallback((id) => {\n        return store.getState().nodeInternals.get(id);\n    }, []);\n    const getEdges = useCallback(() => {\n        const { edges = [] } = store.getState();\n        return edges.map((e) => ({ ...e }));\n    }, []);\n    const getEdge = useCallback((id) => {\n        const { edges = [] } = store.getState();\n        return edges.find((e) => e.id === id);\n    }, []);\n    const setNodes = useCallback((payload) => {\n        const { getNodes, setNodes, hasDefaultNodes, onNodesChange } = store.getState();\n        const nodes = getNodes();\n        const nextNodes = typeof payload === 'function' ? payload(nodes) : payload;\n        if (hasDefaultNodes) {\n            setNodes(nextNodes);\n        }\n        else if (onNodesChange) {\n            const changes = nextNodes.length === 0\n                ? nodes.map((node) => ({ type: 'remove', id: node.id }))\n                : nextNodes.map((node) => ({ item: node, type: 'reset' }));\n            onNodesChange(changes);\n        }\n    }, []);\n    const setEdges = useCallback((payload) => {\n        const { edges = [], setEdges, hasDefaultEdges, onEdgesChange } = store.getState();\n        const nextEdges = typeof payload === 'function' ? payload(edges) : payload;\n        if (hasDefaultEdges) {\n            setEdges(nextEdges);\n        }\n        else if (onEdgesChange) {\n            const changes = nextEdges.length === 0\n                ? edges.map((edge) => ({ type: 'remove', id: edge.id }))\n                : nextEdges.map((edge) => ({ item: edge, type: 'reset' }));\n            onEdgesChange(changes);\n        }\n    }, []);\n    const addNodes = useCallback((payload) => {\n        const nodes = Array.isArray(payload) ? payload : [payload];\n        const { getNodes, setNodes, hasDefaultNodes, onNodesChange } = store.getState();\n        if (hasDefaultNodes) {\n            const currentNodes = getNodes();\n            const nextNodes = [...currentNodes, ...nodes];\n            setNodes(nextNodes);\n        }\n        else if (onNodesChange) {\n            const changes = nodes.map((node) => ({ item: node, type: 'add' }));\n            onNodesChange(changes);\n        }\n    }, []);\n    const addEdges = useCallback((payload) => {\n        const nextEdges = Array.isArray(payload) ? payload : [payload];\n        const { edges = [], setEdges, hasDefaultEdges, onEdgesChange } = store.getState();\n        if (hasDefaultEdges) {\n            setEdges([...edges, ...nextEdges]);\n        }\n        else if (onEdgesChange) {\n            const changes = nextEdges.map((edge) => ({ item: edge, type: 'add' }));\n            onEdgesChange(changes);\n        }\n    }, []);\n    const toObject = useCallback(() => {\n        const { getNodes, edges = [], transform } = store.getState();\n        const [x, y, zoom] = transform;\n        return {\n            nodes: getNodes().map((n) => ({ ...n })),\n            edges: edges.map((e) => ({ ...e })),\n            viewport: {\n                x,\n                y,\n                zoom,\n            },\n        };\n    }, []);\n    const deleteElements = useCallback(({ nodes: nodesDeleted, edges: edgesDeleted }) => {\n        const { nodeInternals, getNodes, edges, hasDefaultNodes, hasDefaultEdges, onNodesDelete, onEdgesDelete, onNodesChange, onEdgesChange, } = store.getState();\n        const nodeIds = (nodesDeleted || []).map((node) => node.id);\n        const edgeIds = (edgesDeleted || []).map((edge) => edge.id);\n        const nodesToRemove = getNodes().reduce((res, node) => {\n            const parentHit = !nodeIds.includes(node.id) && node.parentNode && res.find((n) => n.id === node.parentNode);\n            const deletable = typeof node.deletable === 'boolean' ? node.deletable : true;\n            if (deletable && (nodeIds.includes(node.id) || parentHit)) {\n                res.push(node);\n            }\n            return res;\n        }, []);\n        const deletableEdges = edges.filter((e) => (typeof e.deletable === 'boolean' ? e.deletable : true));\n        const initialHitEdges = deletableEdges.filter((e) => edgeIds.includes(e.id));\n        if (nodesToRemove || initialHitEdges) {\n            const connectedEdges = getConnectedEdges(nodesToRemove, deletableEdges);\n            const edgesToRemove = [...initialHitEdges, ...connectedEdges];\n            const edgeIdsToRemove = edgesToRemove.reduce((res, edge) => {\n                if (!res.includes(edge.id)) {\n                    res.push(edge.id);\n                }\n                return res;\n            }, []);\n            if (hasDefaultEdges || hasDefaultNodes) {\n                if (hasDefaultEdges) {\n                    store.setState({\n                        edges: edges.filter((e) => !edgeIdsToRemove.includes(e.id)),\n                    });\n                }\n                if (hasDefaultNodes) {\n                    nodesToRemove.forEach((node) => {\n                        nodeInternals.delete(node.id);\n                    });\n                    store.setState({\n                        nodeInternals: new Map(nodeInternals),\n                    });\n                }\n            }\n            if (edgeIdsToRemove.length > 0) {\n                onEdgesDelete?.(edgesToRemove);\n                if (onEdgesChange) {\n                    onEdgesChange(edgeIdsToRemove.map((id) => ({\n                        id,\n                        type: 'remove',\n                    })));\n                }\n            }\n            if (nodesToRemove.length > 0) {\n                onNodesDelete?.(nodesToRemove);\n                if (onNodesChange) {\n                    const nodeChanges = nodesToRemove.map((n) => ({ id: n.id, type: 'remove' }));\n                    onNodesChange(nodeChanges);\n                }\n            }\n        }\n    }, []);\n    const getNodeRect = useCallback((nodeOrRect) => {\n        const isRect = isRectObject(nodeOrRect);\n        const node = isRect ? null : store.getState().nodeInternals.get(nodeOrRect.id);\n        const nodeRect = isRect ? nodeOrRect : nodeToRect(node);\n        return [nodeRect, node, isRect];\n    }, []);\n    const getIntersectingNodes = useCallback((nodeOrRect, partially = true, nodes) => {\n        const [nodeRect, node, isRect] = getNodeRect(nodeOrRect);\n        if (!nodeRect) {\n            return [];\n        }\n        return (nodes || store.getState().getNodes()).filter((n) => {\n            if (!isRect && (n.id === node.id || !n.positionAbsolute)) {\n                return false;\n            }\n            const currNodeRect = nodeToRect(n);\n            const overlappingArea = getOverlappingArea(currNodeRect, nodeRect);\n            const partiallyVisible = partially && overlappingArea > 0;\n            return partiallyVisible || overlappingArea >= nodeOrRect.width * nodeOrRect.height;\n        });\n    }, []);\n    const isNodeIntersecting = useCallback((nodeOrRect, area, partially = true) => {\n        const [nodeRect] = getNodeRect(nodeOrRect);\n        if (!nodeRect) {\n            return false;\n        }\n        const overlappingArea = getOverlappingArea(nodeRect, area);\n        const partiallyVisible = partially && overlappingArea > 0;\n        return partiallyVisible || overlappingArea >= nodeOrRect.width * nodeOrRect.height;\n    }, []);\n    return useMemo(() => {\n        return {\n            ...viewportHelper,\n            getNodes,\n            getNode,\n            getEdges,\n            getEdge,\n            setNodes,\n            setEdges,\n            addNodes,\n            addEdges,\n            toObject,\n            deleteElements,\n            getIntersectingNodes,\n            isNodeIntersecting,\n        };\n    }, [\n        viewportHelper,\n        getNodes,\n        getNode,\n        getEdges,\n        getEdge,\n        setNodes,\n        setEdges,\n        addNodes,\n        addEdges,\n        toObject,\n        deleteElements,\n        getIntersectingNodes,\n        isNodeIntersecting,\n    ]);\n}\n\nvar useGlobalKeyHandler = ({ deleteKeyCode, multiSelectionKeyCode }) => {\n    const store = useStoreApi();\n    const { deleteElements } = useReactFlow();\n    const deleteKeyPressed = useKeyPress(deleteKeyCode);\n    const multiSelectionKeyPressed = useKeyPress(multiSelectionKeyCode);\n    useEffect(() => {\n        if (deleteKeyPressed) {\n            const { edges, getNodes } = store.getState();\n            const selectedNodes = getNodes().filter((node) => node.selected);\n            const selectedEdges = edges.filter((edge) => edge.selected);\n            deleteElements({ nodes: selectedNodes, edges: selectedEdges });\n            store.setState({ nodesSelectionActive: false });\n        }\n    }, [deleteKeyPressed]);\n    useEffect(() => {\n        store.setState({ multiSelectionActive: multiSelectionKeyPressed });\n    }, [multiSelectionKeyPressed]);\n};\n\nfunction useResizeHandler(rendererNode) {\n    const store = useStoreApi();\n    useEffect(() => {\n        let resizeObserver;\n        const updateDimensions = () => {\n            if (!rendererNode.current) {\n                return;\n            }\n            const size = getDimensions(rendererNode.current);\n            if (size.height === 0 || size.width === 0) {\n                store.getState().onError?.('004', errorMessages['error004']());\n            }\n            store.setState({ width: size.width || 500, height: size.height || 500 });\n        };\n        updateDimensions();\n        window.addEventListener('resize', updateDimensions);\n        if (rendererNode.current) {\n            resizeObserver = new ResizeObserver(() => updateDimensions());\n            resizeObserver.observe(rendererNode.current);\n        }\n        return () => {\n            window.removeEventListener('resize', updateDimensions);\n            if (resizeObserver && rendererNode.current) {\n                resizeObserver.unobserve(rendererNode.current);\n            }\n        };\n    }, []);\n}\n\nconst containerStyle = {\n    position: 'absolute',\n    width: '100%',\n    height: '100%',\n    top: 0,\n    left: 0,\n};\n\nconst viewChanged = (prevViewport, eventViewport) => prevViewport.x !== eventViewport.x || prevViewport.y !== eventViewport.y || prevViewport.zoom !== eventViewport.k;\nconst eventToFlowTransform = (eventViewport) => ({\n    x: eventViewport.x,\n    y: eventViewport.y,\n    zoom: eventViewport.k,\n});\nconst isWrappedWithClass = (event, className) => event.target.closest(`.${className}`);\nconst isRightClickPan = (panOnDrag, usedButton) => usedButton === 2 && Array.isArray(panOnDrag) && panOnDrag.includes(2);\nconst selector$a = (s) => ({\n    d3Zoom: s.d3Zoom,\n    d3Selection: s.d3Selection,\n    d3ZoomHandler: s.d3ZoomHandler,\n    userSelectionActive: s.userSelectionActive,\n});\nconst ZoomPane = ({ onMove, onMoveStart, onMoveEnd, onPaneContextMenu, zoomOnScroll = true, zoomOnPinch = true, panOnScroll = false, panOnScrollSpeed = 0.5, panOnScrollMode = PanOnScrollMode.Free, zoomOnDoubleClick = true, elementsSelectable, panOnDrag = true, defaultViewport, translateExtent, minZoom, maxZoom, zoomActivationKeyCode, preventScrolling = true, children, noWheelClassName, noPanClassName, }) => {\n    const timerId = useRef();\n    const store = useStoreApi();\n    const isZoomingOrPanning = useRef(false);\n    const zoomedWithRightMouseButton = useRef(false);\n    const zoomPane = useRef(null);\n    const prevTransform = useRef({ x: 0, y: 0, zoom: 0 });\n    const { d3Zoom, d3Selection, d3ZoomHandler, userSelectionActive } = useStore(selector$a, shallow);\n    const zoomActivationKeyPressed = useKeyPress(zoomActivationKeyCode);\n    const mouseButton = useRef(0);\n    useResizeHandler(zoomPane);\n    useEffect(() => {\n        if (zoomPane.current) {\n            const bbox = zoomPane.current.getBoundingClientRect();\n            const d3ZoomInstance = zoom().scaleExtent([minZoom, maxZoom]).translateExtent(translateExtent);\n            const selection = select(zoomPane.current).call(d3ZoomInstance);\n            const updatedTransform = zoomIdentity\n                .translate(defaultViewport.x, defaultViewport.y)\n                .scale(clamp(defaultViewport.zoom, minZoom, maxZoom));\n            const extent = [\n                [0, 0],\n                [bbox.width, bbox.height],\n            ];\n            const constrainedTransform = d3ZoomInstance.constrain()(updatedTransform, extent, translateExtent);\n            d3ZoomInstance.transform(selection, constrainedTransform);\n            store.setState({\n                d3Zoom: d3ZoomInstance,\n                d3Selection: selection,\n                d3ZoomHandler: selection.on('wheel.zoom'),\n                // we need to pass transform because zoom handler is not registered when we set the initial transform\n                transform: [constrainedTransform.x, constrainedTransform.y, constrainedTransform.k],\n                domNode: zoomPane.current.closest('.react-flow'),\n            });\n        }\n    }, []);\n    useEffect(() => {\n        if (d3Selection && d3Zoom) {\n            if (panOnScroll && !zoomActivationKeyPressed && !userSelectionActive) {\n                d3Selection.on('wheel.zoom', (event) => {\n                    if (isWrappedWithClass(event, noWheelClassName)) {\n                        return false;\n                    }\n                    event.preventDefault();\n                    event.stopImmediatePropagation();\n                    const currentZoom = d3Selection.property('__zoom').k || 1;\n                    if (event.ctrlKey && zoomOnPinch) {\n                        const point = pointer(event);\n                        // taken from https://github.com/d3/d3-zoom/blob/master/src/zoom.js\n                        const pinchDelta = -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * 10;\n                        const zoom = currentZoom * Math.pow(2, pinchDelta);\n                        d3Zoom.scaleTo(d3Selection, zoom, point);\n                        return;\n                    }\n                    // increase scroll speed in firefox\n                    // firefox: deltaMode === 1; chrome: deltaMode === 0\n                    const deltaNormalize = event.deltaMode === 1 ? 20 : 1;\n                    const deltaX = panOnScrollMode === PanOnScrollMode.Vertical ? 0 : event.deltaX * deltaNormalize;\n                    const deltaY = panOnScrollMode === PanOnScrollMode.Horizontal ? 0 : event.deltaY * deltaNormalize;\n                    d3Zoom.translateBy(d3Selection, -(deltaX / currentZoom) * panOnScrollSpeed, -(deltaY / currentZoom) * panOnScrollSpeed);\n                }, { passive: false });\n            }\n            else if (typeof d3ZoomHandler !== 'undefined') {\n                d3Selection.on('wheel.zoom', function (event, d) {\n                    if (!preventScrolling || isWrappedWithClass(event, noWheelClassName)) {\n                        return null;\n                    }\n                    event.preventDefault();\n                    d3ZoomHandler.call(this, event, d);\n                }, { passive: false });\n            }\n        }\n    }, [\n        userSelectionActive,\n        panOnScroll,\n        panOnScrollMode,\n        d3Selection,\n        d3Zoom,\n        d3ZoomHandler,\n        zoomActivationKeyPressed,\n        zoomOnPinch,\n        preventScrolling,\n        noWheelClassName,\n    ]);\n    useEffect(() => {\n        if (d3Zoom) {\n            d3Zoom.on('start', (event) => {\n                if (!event.sourceEvent) {\n                    return null;\n                }\n                // we need to remember it here, because it's always 0 in the \"zoom\" event\n                mouseButton.current = event.sourceEvent.button;\n                const { onViewportChangeStart } = store.getState();\n                isZoomingOrPanning.current = true;\n                if (event.sourceEvent?.type === 'mousedown') {\n                    store.setState({ paneDragging: true });\n                }\n                if (onMoveStart || onViewportChangeStart) {\n                    const flowTransform = eventToFlowTransform(event.transform);\n                    prevTransform.current = flowTransform;\n                    onViewportChangeStart?.(flowTransform);\n                    onMoveStart?.(event.sourceEvent, flowTransform);\n                }\n            });\n        }\n    }, [d3Zoom, onMoveStart]);\n    useEffect(() => {\n        if (d3Zoom) {\n            if (userSelectionActive && !isZoomingOrPanning.current) {\n                d3Zoom.on('zoom', null);\n            }\n            else if (!userSelectionActive) {\n                d3Zoom.on('zoom', (event) => {\n                    const { onViewportChange } = store.getState();\n                    store.setState({ transform: [event.transform.x, event.transform.y, event.transform.k] });\n                    zoomedWithRightMouseButton.current = !!(onPaneContextMenu && isRightClickPan(panOnDrag, mouseButton.current ?? 0));\n                    if (onMove || onViewportChange) {\n                        const flowTransform = eventToFlowTransform(event.transform);\n                        onViewportChange?.(flowTransform);\n                        onMove?.(event.sourceEvent, flowTransform);\n                    }\n                });\n            }\n        }\n    }, [userSelectionActive, d3Zoom, onMove, panOnDrag, onPaneContextMenu]);\n    useEffect(() => {\n        if (d3Zoom) {\n            d3Zoom.on('end', (event) => {\n                if (!event.sourceEvent) {\n                    return null;\n                }\n                const { onViewportChangeEnd } = store.getState();\n                isZoomingOrPanning.current = false;\n                store.setState({ paneDragging: false });\n                if (onPaneContextMenu &&\n                    isRightClickPan(panOnDrag, mouseButton.current ?? 0) &&\n                    !zoomedWithRightMouseButton.current) {\n                    onPaneContextMenu(event.sourceEvent);\n                }\n                zoomedWithRightMouseButton.current = false;\n                if ((onMoveEnd || onViewportChangeEnd) && viewChanged(prevTransform.current, event.transform)) {\n                    const flowTransform = eventToFlowTransform(event.transform);\n                    prevTransform.current = flowTransform;\n                    clearTimeout(timerId.current);\n                    timerId.current = setTimeout(() => {\n                        onViewportChangeEnd?.(flowTransform);\n                        onMoveEnd?.(event.sourceEvent, flowTransform);\n                    }, panOnScroll ? 150 : 0);\n                }\n            });\n        }\n    }, [d3Zoom, panOnScroll, panOnDrag, onMoveEnd, onPaneContextMenu]);\n    useEffect(() => {\n        if (d3Zoom) {\n            d3Zoom.filter((event) => {\n                const zoomScroll = zoomActivationKeyPressed || zoomOnScroll;\n                const pinchZoom = zoomOnPinch && event.ctrlKey;\n                if (event.button === 1 &&\n                    event.type === 'mousedown' &&\n                    (isWrappedWithClass(event, 'react-flow__node') || isWrappedWithClass(event, 'react-flow__edge'))) {\n                    return true;\n                }\n                // if all interactions are disabled, we prevent all zoom events\n                if (!panOnDrag && !zoomScroll && !panOnScroll && !zoomOnDoubleClick && !zoomOnPinch) {\n                    return false;\n                }\n                // during a selection we prevent all other interactions\n                if (userSelectionActive) {\n                    return false;\n                }\n                // if zoom on double click is disabled, we prevent the double click event\n                if (!zoomOnDoubleClick && event.type === 'dblclick') {\n                    return false;\n                }\n                // if the target element is inside an element with the nowheel class, we prevent zooming\n                if (isWrappedWithClass(event, noWheelClassName) && event.type === 'wheel') {\n                    return false;\n                }\n                // if the target element is inside an element with the nopan class, we prevent panning\n                if (isWrappedWithClass(event, noPanClassName) && event.type !== 'wheel') {\n                    return false;\n                }\n                if (!zoomOnPinch && event.ctrlKey && event.type === 'wheel') {\n                    return false;\n                }\n                // when there is no scroll handling enabled, we prevent all wheel events\n                if (!zoomScroll && !panOnScroll && !pinchZoom && event.type === 'wheel') {\n                    return false;\n                }\n                // if the pane is not movable, we prevent dragging it with mousestart or touchstart\n                if (!panOnDrag && (event.type === 'mousedown' || event.type === 'touchstart')) {\n                    return false;\n                }\n                // if the pane is only movable using allowed clicks\n                if (Array.isArray(panOnDrag) &&\n                    !panOnDrag.includes(event.button) &&\n                    (event.type === 'mousedown' || event.type === 'touchstart')) {\n                    return false;\n                }\n                // We only allow right clicks if pan on drag is set to right click\n                const buttonAllowed = (Array.isArray(panOnDrag) && panOnDrag.includes(event.button)) || !event.button || event.button <= 1;\n                // default filter for d3-zoom\n                return (!event.ctrlKey || event.type === 'wheel') && buttonAllowed;\n            });\n        }\n    }, [\n        userSelectionActive,\n        d3Zoom,\n        zoomOnScroll,\n        zoomOnPinch,\n        panOnScroll,\n        zoomOnDoubleClick,\n        panOnDrag,\n        elementsSelectable,\n        zoomActivationKeyPressed,\n    ]);\n    return (jsx(\"div\", { className: \"react-flow__renderer\", ref: zoomPane, style: containerStyle, children: children }));\n};\n\nconst selector$9 = (s) => ({\n    userSelectionActive: s.userSelectionActive,\n    userSelectionRect: s.userSelectionRect,\n});\nfunction UserSelection() {\n    const { userSelectionActive, userSelectionRect } = useStore(selector$9, shallow);\n    const isActive = userSelectionActive && userSelectionRect;\n    if (!isActive) {\n        return null;\n    }\n    return (jsx(\"div\", { className: \"react-flow__selection react-flow__container\", style: {\n            width: userSelectionRect.width,\n            height: userSelectionRect.height,\n            transform: `translate(${userSelectionRect.x}px, ${userSelectionRect.y}px)`,\n        } }));\n}\n\nfunction handleParentExpand(res, updateItem) {\n    const parent = res.find((e) => e.id === updateItem.parentNode);\n    if (parent) {\n        const extendWidth = updateItem.position.x + updateItem.width - parent.width;\n        const extendHeight = updateItem.position.y + updateItem.height - parent.height;\n        if (extendWidth > 0 || extendHeight > 0 || updateItem.position.x < 0 || updateItem.position.y < 0) {\n            parent.style = { ...parent.style } || {};\n            parent.style.width = parent.style.width ?? parent.width;\n            parent.style.height = parent.style.height ?? parent.height;\n            if (extendWidth > 0) {\n                parent.style.width += extendWidth;\n            }\n            if (extendHeight > 0) {\n                parent.style.height += extendHeight;\n            }\n            if (updateItem.position.x < 0) {\n                const xDiff = Math.abs(updateItem.position.x);\n                parent.position.x = parent.position.x - xDiff;\n                parent.style.width += xDiff;\n                updateItem.position.x = 0;\n            }\n            if (updateItem.position.y < 0) {\n                const yDiff = Math.abs(updateItem.position.y);\n                parent.position.y = parent.position.y - yDiff;\n                parent.style.height += yDiff;\n                updateItem.position.y = 0;\n            }\n            parent.width = parent.style.width;\n            parent.height = parent.style.height;\n        }\n    }\n}\nfunction applyChanges(changes, elements) {\n    // we need this hack to handle the setNodes and setEdges function of the useReactFlow hook for controlled flows\n    if (changes.some((c) => c.type === 'reset')) {\n        return changes.filter((c) => c.type === 'reset').map((c) => c.item);\n    }\n    const initElements = changes.filter((c) => c.type === 'add').map((c) => c.item);\n    return elements.reduce((res, item) => {\n        const currentChanges = changes.filter((c) => c.id === item.id);\n        if (currentChanges.length === 0) {\n            res.push(item);\n            return res;\n        }\n        const updateItem = { ...item };\n        for (const currentChange of currentChanges) {\n            if (currentChange) {\n                switch (currentChange.type) {\n                    case 'select': {\n                        updateItem.selected = currentChange.selected;\n                        break;\n                    }\n                    case 'position': {\n                        if (typeof currentChange.position !== 'undefined') {\n                            updateItem.position = currentChange.position;\n                        }\n                        if (typeof currentChange.positionAbsolute !== 'undefined') {\n                            updateItem.positionAbsolute = currentChange.positionAbsolute;\n                        }\n                        if (typeof currentChange.dragging !== 'undefined') {\n                            updateItem.dragging = currentChange.dragging;\n                        }\n                        if (updateItem.expandParent) {\n                            handleParentExpand(res, updateItem);\n                        }\n                        break;\n                    }\n                    case 'dimensions': {\n                        if (typeof currentChange.dimensions !== 'undefined') {\n                            updateItem.width = currentChange.dimensions.width;\n                            updateItem.height = currentChange.dimensions.height;\n                        }\n                        if (typeof currentChange.updateStyle !== 'undefined') {\n                            updateItem.style = { ...(updateItem.style || {}), ...currentChange.dimensions };\n                        }\n                        if (typeof currentChange.resizing === 'boolean') {\n                            updateItem.resizing = currentChange.resizing;\n                        }\n                        if (updateItem.expandParent) {\n                            handleParentExpand(res, updateItem);\n                        }\n                        break;\n                    }\n                    case 'remove': {\n                        return res;\n                    }\n                }\n            }\n        }\n        res.push(updateItem);\n        return res;\n    }, initElements);\n}\nfunction applyNodeChanges(changes, nodes) {\n    return applyChanges(changes, nodes);\n}\nfunction applyEdgeChanges(changes, edges) {\n    return applyChanges(changes, edges);\n}\nconst createSelectionChange = (id, selected) => ({\n    id,\n    type: 'select',\n    selected,\n});\nfunction getSelectionChanges(items, selectedIds) {\n    return items.reduce((res, item) => {\n        const willBeSelected = selectedIds.includes(item.id);\n        if (!item.selected && willBeSelected) {\n            item.selected = true;\n            res.push(createSelectionChange(item.id, true));\n        }\n        else if (item.selected && !willBeSelected) {\n            item.selected = false;\n            res.push(createSelectionChange(item.id, false));\n        }\n        return res;\n    }, []);\n}\n\nconst wrapHandler = (handler, containerRef) => {\n    return (event) => {\n        if (event.target !== containerRef.current) {\n            return;\n        }\n        handler?.(event);\n    };\n};\nconst selector$8 = (s) => ({\n    userSelectionActive: s.userSelectionActive,\n    elementsSelectable: s.elementsSelectable,\n    dragging: s.paneDragging,\n});\nconst Pane = memo(({ isSelecting, selectionMode = SelectionMode.Full, panOnDrag, onSelectionStart, onSelectionEnd, onPaneClick, onPaneContextMenu, onPaneScroll, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, children, }) => {\n    const container = useRef(null);\n    const store = useStoreApi();\n    const prevSelectedNodesCount = useRef(0);\n    const prevSelectedEdgesCount = useRef(0);\n    const containerBounds = useRef();\n    const { userSelectionActive, elementsSelectable, dragging } = useStore(selector$8, shallow);\n    const resetUserSelection = () => {\n        store.setState({ userSelectionActive: false, userSelectionRect: null });\n        prevSelectedNodesCount.current = 0;\n        prevSelectedEdgesCount.current = 0;\n    };\n    const onClick = (event) => {\n        onPaneClick?.(event);\n        store.getState().resetSelectedElements();\n        store.setState({ nodesSelectionActive: false });\n    };\n    const onContextMenu = (event) => {\n        if (Array.isArray(panOnDrag) && panOnDrag?.includes(2)) {\n            event.preventDefault();\n            return;\n        }\n        onPaneContextMenu?.(event);\n    };\n    const onWheel = onPaneScroll ? (event) => onPaneScroll(event) : undefined;\n    const onMouseDown = (event) => {\n        const { resetSelectedElements, domNode } = store.getState();\n        containerBounds.current = domNode?.getBoundingClientRect();\n        if (!elementsSelectable ||\n            !isSelecting ||\n            event.button !== 0 ||\n            event.target !== container.current ||\n            !containerBounds.current) {\n            return;\n        }\n        const { x, y } = getEventPosition(event, containerBounds.current);\n        resetSelectedElements();\n        store.setState({\n            userSelectionRect: {\n                width: 0,\n                height: 0,\n                startX: x,\n                startY: y,\n                x,\n                y,\n            },\n        });\n        onSelectionStart?.(event);\n    };\n    const onMouseMove = (event) => {\n        const { userSelectionRect, nodeInternals, edges, transform, onNodesChange, onEdgesChange, nodeOrigin, getNodes } = store.getState();\n        if (!isSelecting || !containerBounds.current || !userSelectionRect) {\n            return;\n        }\n        store.setState({ userSelectionActive: true, nodesSelectionActive: false });\n        const mousePos = getEventPosition(event, containerBounds.current);\n        const startX = userSelectionRect.startX ?? 0;\n        const startY = userSelectionRect.startY ?? 0;\n        const nextUserSelectRect = {\n            ...userSelectionRect,\n            x: mousePos.x < startX ? mousePos.x : startX,\n            y: mousePos.y < startY ? mousePos.y : startY,\n            width: Math.abs(mousePos.x - startX),\n            height: Math.abs(mousePos.y - startY),\n        };\n        const nodes = getNodes();\n        const selectedNodes = getNodesInside(nodeInternals, nextUserSelectRect, transform, selectionMode === SelectionMode.Partial, true, nodeOrigin);\n        const selectedEdgeIds = getConnectedEdges(selectedNodes, edges).map((e) => e.id);\n        const selectedNodeIds = selectedNodes.map((n) => n.id);\n        if (prevSelectedNodesCount.current !== selectedNodeIds.length) {\n            prevSelectedNodesCount.current = selectedNodeIds.length;\n            const changes = getSelectionChanges(nodes, selectedNodeIds);\n            if (changes.length) {\n                onNodesChange?.(changes);\n            }\n        }\n        if (prevSelectedEdgesCount.current !== selectedEdgeIds.length) {\n            prevSelectedEdgesCount.current = selectedEdgeIds.length;\n            const changes = getSelectionChanges(edges, selectedEdgeIds);\n            if (changes.length) {\n                onEdgesChange?.(changes);\n            }\n        }\n        store.setState({\n            userSelectionRect: nextUserSelectRect,\n        });\n    };\n    const onMouseUp = (event) => {\n        if (event.button !== 0) {\n            return;\n        }\n        const { userSelectionRect } = store.getState();\n        // We only want to trigger click functions when in selection mode if\n        // the user did not move the mouse.\n        if (!userSelectionActive && userSelectionRect && event.target === container.current) {\n            onClick?.(event);\n        }\n        store.setState({ nodesSelectionActive: prevSelectedNodesCount.current > 0 });\n        resetUserSelection();\n        onSelectionEnd?.(event);\n    };\n    const onMouseLeave = (event) => {\n        if (userSelectionActive) {\n            store.setState({ nodesSelectionActive: prevSelectedNodesCount.current > 0 });\n            onSelectionEnd?.(event);\n        }\n        resetUserSelection();\n    };\n    const hasActiveSelection = elementsSelectable && (isSelecting || userSelectionActive);\n    return (jsxs(\"div\", { className: cc(['react-flow__pane', { dragging, selection: isSelecting }]), onClick: hasActiveSelection ? undefined : wrapHandler(onClick, container), onContextMenu: wrapHandler(onContextMenu, container), onWheel: wrapHandler(onWheel, container), onMouseEnter: hasActiveSelection ? undefined : onPaneMouseEnter, onMouseDown: hasActiveSelection ? onMouseDown : undefined, onMouseMove: hasActiveSelection ? onMouseMove : onPaneMouseMove, onMouseUp: hasActiveSelection ? onMouseUp : undefined, onMouseLeave: hasActiveSelection ? onMouseLeave : onPaneMouseLeave, ref: container, style: containerStyle, children: [children, jsx(UserSelection, {})] }));\n});\nPane.displayName = 'Pane';\n\nconst selector$7 = (s) => {\n    const selectedNodes = s.getNodes().filter((n) => n.selected);\n    return {\n        ...getRectOfNodes(selectedNodes, s.nodeOrigin),\n        transformString: `translate(${s.transform[0]}px,${s.transform[1]}px) scale(${s.transform[2]})`,\n        userSelectionActive: s.userSelectionActive,\n    };\n};\nfunction NodesSelection({ onSelectionContextMenu, noPanClassName, disableKeyboardA11y }) {\n    const store = useStoreApi();\n    const { width, height, x: left, y: top, transformString, userSelectionActive } = useStore(selector$7, shallow);\n    const updatePositions = useUpdateNodePositions();\n    const nodeRef = useRef(null);\n    useEffect(() => {\n        if (!disableKeyboardA11y) {\n            nodeRef.current?.focus({\n                preventScroll: true,\n            });\n        }\n    }, [disableKeyboardA11y]);\n    useDrag({\n        nodeRef,\n    });\n    if (userSelectionActive || !width || !height) {\n        return null;\n    }\n    const onContextMenu = onSelectionContextMenu\n        ? (event) => {\n            const selectedNodes = store\n                .getState()\n                .getNodes()\n                .filter((n) => n.selected);\n            onSelectionContextMenu(event, selectedNodes);\n        }\n        : undefined;\n    const onKeyDown = (event) => {\n        if (Object.prototype.hasOwnProperty.call(arrowKeyDiffs, event.key)) {\n            updatePositions({\n                x: arrowKeyDiffs[event.key].x,\n                y: arrowKeyDiffs[event.key].y,\n                isShiftPressed: event.shiftKey,\n            });\n        }\n    };\n    return (jsx(\"div\", { className: cc(['react-flow__nodesselection', 'react-flow__container', noPanClassName]), style: {\n            transform: transformString,\n        }, children: jsx(\"div\", { ref: nodeRef, className: \"react-flow__nodesselection-rect\", onContextMenu: onContextMenu, tabIndex: disableKeyboardA11y ? undefined : -1, onKeyDown: disableKeyboardA11y ? undefined : onKeyDown, style: {\n                width,\n                height,\n                top,\n                left,\n            } }) }));\n}\nvar NodesSelection$1 = memo(NodesSelection);\n\nconst selector$6 = (s) => s.nodesSelectionActive;\nconst FlowRenderer = ({ children, onPaneClick, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, onPaneContextMenu, onPaneScroll, deleteKeyCode, onMove, onMoveStart, onMoveEnd, selectionKeyCode, selectionOnDrag, selectionMode, onSelectionStart, onSelectionEnd, multiSelectionKeyCode, panActivationKeyCode, zoomActivationKeyCode, elementsSelectable, zoomOnScroll, zoomOnPinch, panOnScroll, panOnScrollSpeed, panOnScrollMode, zoomOnDoubleClick, panOnDrag: _panOnDrag, defaultViewport, translateExtent, minZoom, maxZoom, preventScrolling, onSelectionContextMenu, noWheelClassName, noPanClassName, disableKeyboardA11y, }) => {\n    const nodesSelectionActive = useStore(selector$6);\n    const selectionKeyPressed = useKeyPress(selectionKeyCode);\n    const panActivationKeyPressed = useKeyPress(panActivationKeyCode);\n    const panOnDrag = panActivationKeyPressed || _panOnDrag;\n    const isSelecting = selectionKeyPressed || (selectionOnDrag && panOnDrag !== true);\n    useGlobalKeyHandler({ deleteKeyCode, multiSelectionKeyCode });\n    return (jsx(ZoomPane, { onMove: onMove, onMoveStart: onMoveStart, onMoveEnd: onMoveEnd, onPaneContextMenu: onPaneContextMenu, elementsSelectable: elementsSelectable, zoomOnScroll: zoomOnScroll, zoomOnPinch: zoomOnPinch, panOnScroll: panOnScroll, panOnScrollSpeed: panOnScrollSpeed, panOnScrollMode: panOnScrollMode, zoomOnDoubleClick: zoomOnDoubleClick, panOnDrag: !selectionKeyPressed && panOnDrag, defaultViewport: defaultViewport, translateExtent: translateExtent, minZoom: minZoom, maxZoom: maxZoom, zoomActivationKeyCode: zoomActivationKeyCode, preventScrolling: preventScrolling, noWheelClassName: noWheelClassName, noPanClassName: noPanClassName, children: jsxs(Pane, { onSelectionStart: onSelectionStart, onSelectionEnd: onSelectionEnd, onPaneClick: onPaneClick, onPaneMouseEnter: onPaneMouseEnter, onPaneMouseMove: onPaneMouseMove, onPaneMouseLeave: onPaneMouseLeave, onPaneContextMenu: onPaneContextMenu, onPaneScroll: onPaneScroll, panOnDrag: panOnDrag, isSelecting: !!isSelecting, selectionMode: selectionMode, children: [children, nodesSelectionActive && (jsx(NodesSelection$1, { onSelectionContextMenu: onSelectionContextMenu, noPanClassName: noPanClassName, disableKeyboardA11y: disableKeyboardA11y }))] }) }));\n};\nFlowRenderer.displayName = 'FlowRenderer';\nvar FlowRenderer$1 = memo(FlowRenderer);\n\nfunction useVisibleNodes(onlyRenderVisible) {\n    const nodes = useStore(useCallback((s) => onlyRenderVisible\n        ? getNodesInside(s.nodeInternals, { x: 0, y: 0, width: s.width, height: s.height }, s.transform, true)\n        : s.getNodes(), [onlyRenderVisible]));\n    return nodes;\n}\n\nconst selector$5 = (s) => ({\n    nodesDraggable: s.nodesDraggable,\n    nodesConnectable: s.nodesConnectable,\n    nodesFocusable: s.nodesFocusable,\n    elementsSelectable: s.elementsSelectable,\n    updateNodeDimensions: s.updateNodeDimensions,\n    onError: s.onError,\n});\nconst NodeRenderer = (props) => {\n    const { nodesDraggable, nodesConnectable, nodesFocusable, elementsSelectable, updateNodeDimensions, onError } = useStore(selector$5, shallow);\n    const nodes = useVisibleNodes(props.onlyRenderVisibleElements);\n    const resizeObserverRef = useRef();\n    const resizeObserver = useMemo(() => {\n        if (typeof ResizeObserver === 'undefined') {\n            return null;\n        }\n        const observer = new ResizeObserver((entries) => {\n            const updates = entries.map((entry) => ({\n                id: entry.target.getAttribute('data-id'),\n                nodeElement: entry.target,\n                forceUpdate: true,\n            }));\n            updateNodeDimensions(updates);\n        });\n        resizeObserverRef.current = observer;\n        return observer;\n    }, []);\n    useEffect(() => {\n        return () => {\n            resizeObserverRef?.current?.disconnect();\n        };\n    }, []);\n    return (jsx(\"div\", { className: \"react-flow__nodes\", style: containerStyle, children: nodes.map((node) => {\n            let nodeType = node.type || 'default';\n            if (!props.nodeTypes[nodeType]) {\n                onError?.('003', errorMessages['error003'](nodeType));\n                nodeType = 'default';\n            }\n            const NodeComponent = (props.nodeTypes[nodeType] || props.nodeTypes.default);\n            const isDraggable = !!(node.draggable || (nodesDraggable && typeof node.draggable === 'undefined'));\n            const isSelectable = !!(node.selectable || (elementsSelectable && typeof node.selectable === 'undefined'));\n            const isConnectable = !!(node.connectable || (nodesConnectable && typeof node.connectable === 'undefined'));\n            const isFocusable = !!(node.focusable || (nodesFocusable && typeof node.focusable === 'undefined'));\n            const clampedPosition = props.nodeExtent\n                ? clampPosition(node.positionAbsolute, props.nodeExtent)\n                : node.positionAbsolute;\n            const posX = clampedPosition?.x ?? 0;\n            const posY = clampedPosition?.y ?? 0;\n            const posOrigin = getPositionWithOrigin({\n                x: posX,\n                y: posY,\n                width: node.width ?? 0,\n                height: node.height ?? 0,\n                origin: props.nodeOrigin,\n            });\n            return (jsx(NodeComponent, { id: node.id, className: node.className, style: node.style, type: nodeType, data: node.data, sourcePosition: node.sourcePosition || Position.Bottom, targetPosition: node.targetPosition || Position.Top, hidden: node.hidden, xPos: posX, yPos: posY, xPosOrigin: posOrigin.x, yPosOrigin: posOrigin.y, selectNodesOnDrag: props.selectNodesOnDrag, onClick: props.onNodeClick, onMouseEnter: props.onNodeMouseEnter, onMouseMove: props.onNodeMouseMove, onMouseLeave: props.onNodeMouseLeave, onContextMenu: props.onNodeContextMenu, onDoubleClick: props.onNodeDoubleClick, selected: !!node.selected, isDraggable: isDraggable, isSelectable: isSelectable, isConnectable: isConnectable, isFocusable: isFocusable, resizeObserver: resizeObserver, dragHandle: node.dragHandle, zIndex: node[internalsSymbol]?.z ?? 0, isParent: !!node[internalsSymbol]?.isParent, noDragClassName: props.noDragClassName, noPanClassName: props.noPanClassName, initialized: !!node.width && !!node.height, rfId: props.rfId, disableKeyboardA11y: props.disableKeyboardA11y, ariaLabel: node.ariaLabel }, node.id));\n        }) }));\n};\nNodeRenderer.displayName = 'NodeRenderer';\nvar NodeRenderer$1 = memo(NodeRenderer);\n\nconst defaultEdgeTree = [{ level: 0, isMaxLevel: true, edges: [] }];\nfunction groupEdgesByZLevel(edges, nodeInternals, elevateEdgesOnSelect = false) {\n    let maxLevel = -1;\n    const levelLookup = edges.reduce((tree, edge) => {\n        const hasZIndex = isNumeric(edge.zIndex);\n        let z = hasZIndex ? edge.zIndex : 0;\n        if (elevateEdgesOnSelect) {\n            z = hasZIndex\n                ? edge.zIndex\n                : Math.max(nodeInternals.get(edge.source)?.[internalsSymbol]?.z || 0, nodeInternals.get(edge.target)?.[internalsSymbol]?.z || 0);\n        }\n        if (tree[z]) {\n            tree[z].push(edge);\n        }\n        else {\n            tree[z] = [edge];\n        }\n        maxLevel = z > maxLevel ? z : maxLevel;\n        return tree;\n    }, {});\n    const edgeTree = Object.entries(levelLookup).map(([key, edges]) => {\n        const level = +key;\n        return {\n            edges,\n            level,\n            isMaxLevel: level === maxLevel,\n        };\n    });\n    if (edgeTree.length === 0) {\n        return defaultEdgeTree;\n    }\n    return edgeTree;\n}\nfunction useVisibleEdges(onlyRenderVisible, nodeInternals, elevateEdgesOnSelect) {\n    const edges = useStore(useCallback((s) => {\n        if (!onlyRenderVisible) {\n            return s.edges;\n        }\n        return s.edges.filter((e) => {\n            const sourceNode = nodeInternals.get(e.source);\n            const targetNode = nodeInternals.get(e.target);\n            return (sourceNode?.width &&\n                sourceNode?.height &&\n                targetNode?.width &&\n                targetNode?.height &&\n                isEdgeVisible({\n                    sourcePos: sourceNode.positionAbsolute || { x: 0, y: 0 },\n                    targetPos: targetNode.positionAbsolute || { x: 0, y: 0 },\n                    sourceWidth: sourceNode.width,\n                    sourceHeight: sourceNode.height,\n                    targetWidth: targetNode.width,\n                    targetHeight: targetNode.height,\n                    width: s.width,\n                    height: s.height,\n                    transform: s.transform,\n                }));\n        });\n    }, [onlyRenderVisible, nodeInternals]));\n    return groupEdgesByZLevel(edges, nodeInternals, elevateEdgesOnSelect);\n}\n\nconst ArrowSymbol = ({ color = 'none', strokeWidth = 1 }) => {\n    return (jsx(\"polyline\", { stroke: color, strokeLinecap: \"round\", strokeLinejoin: \"round\", strokeWidth: strokeWidth, fill: \"none\", points: \"-5,-4 0,0 -5,4\" }));\n};\nconst ArrowClosedSymbol = ({ color = 'none', strokeWidth = 1 }) => {\n    return (jsx(\"polyline\", { stroke: color, strokeLinecap: \"round\", strokeLinejoin: \"round\", strokeWidth: strokeWidth, fill: color, points: \"-5,-4 0,0 -5,4 -5,-4\" }));\n};\nconst MarkerSymbols = {\n    [MarkerType.Arrow]: ArrowSymbol,\n    [MarkerType.ArrowClosed]: ArrowClosedSymbol,\n};\nfunction useMarkerSymbol(type) {\n    const store = useStoreApi();\n    const symbol = useMemo(() => {\n        const symbolExists = Object.prototype.hasOwnProperty.call(MarkerSymbols, type);\n        if (!symbolExists) {\n            store.getState().onError?.('009', errorMessages['error009'](type));\n            return null;\n        }\n        return MarkerSymbols[type];\n    }, [type]);\n    return symbol;\n}\n\nconst Marker = ({ id, type, color, width = 12.5, height = 12.5, markerUnits = 'strokeWidth', strokeWidth, orient = 'auto-start-reverse', }) => {\n    const Symbol = useMarkerSymbol(type);\n    if (!Symbol) {\n        return null;\n    }\n    return (jsx(\"marker\", { className: \"react-flow__arrowhead\", id: id, markerWidth: `${width}`, markerHeight: `${height}`, viewBox: \"-10 -10 20 20\", markerUnits: markerUnits, orient: orient, refX: \"0\", refY: \"0\", children: jsx(Symbol, { color: color, strokeWidth: strokeWidth }) }));\n};\nconst markerSelector = ({ defaultColor, rfId }) => (s) => {\n    const ids = [];\n    return s.edges\n        .reduce((markers, edge) => {\n        [edge.markerStart, edge.markerEnd].forEach((marker) => {\n            if (marker && typeof marker === 'object') {\n                const markerId = getMarkerId(marker, rfId);\n                if (!ids.includes(markerId)) {\n                    markers.push({ id: markerId, color: marker.color || defaultColor, ...marker });\n                    ids.push(markerId);\n                }\n            }\n        });\n        return markers;\n    }, [])\n        .sort((a, b) => a.id.localeCompare(b.id));\n};\n// when you have multiple flows on a page and you hide the first one, the other ones have no markers anymore\n// when they do have markers with the same ids. To prevent this the user can pass a unique id to the react flow wrapper\n// that we can then use for creating our unique marker ids\nconst MarkerDefinitions = ({ defaultColor, rfId }) => {\n    const markers = useStore(useCallback(markerSelector({ defaultColor, rfId }), [defaultColor, rfId]), \n    // the id includes all marker options, so we just need to look at that part of the marker\n    (a, b) => !(a.length !== b.length || a.some((m, i) => m.id !== b[i].id)));\n    return (jsx(\"defs\", { children: markers.map((marker) => (jsx(Marker, { id: marker.id, type: marker.type, color: marker.color, width: marker.width, height: marker.height, markerUnits: marker.markerUnits, strokeWidth: marker.strokeWidth, orient: marker.orient }, marker.id))) }));\n};\nMarkerDefinitions.displayName = 'MarkerDefinitions';\nvar MarkerDefinitions$1 = memo(MarkerDefinitions);\n\nconst selector$4 = (s) => ({\n    nodesConnectable: s.nodesConnectable,\n    edgesFocusable: s.edgesFocusable,\n    edgesUpdatable: s.edgesUpdatable,\n    elementsSelectable: s.elementsSelectable,\n    width: s.width,\n    height: s.height,\n    connectionMode: s.connectionMode,\n    nodeInternals: s.nodeInternals,\n    onError: s.onError,\n});\nconst EdgeRenderer = ({ defaultMarkerColor, onlyRenderVisibleElements, elevateEdgesOnSelect, rfId, edgeTypes, noPanClassName, onEdgeUpdate, onEdgeContextMenu, onEdgeMouseEnter, onEdgeMouseMove, onEdgeMouseLeave, onEdgeClick, edgeUpdaterRadius, onEdgeDoubleClick, onEdgeUpdateStart, onEdgeUpdateEnd, children, }) => {\n    const { edgesFocusable, edgesUpdatable, elementsSelectable, width, height, connectionMode, nodeInternals, onError } = useStore(selector$4, shallow);\n    const edgeTree = useVisibleEdges(onlyRenderVisibleElements, nodeInternals, elevateEdgesOnSelect);\n    if (!width) {\n        return null;\n    }\n    return (jsxs(Fragment, { children: [edgeTree.map(({ level, edges, isMaxLevel }) => (jsxs(\"svg\", { style: { zIndex: level }, width: width, height: height, className: \"react-flow__edges react-flow__container\", children: [isMaxLevel && jsx(MarkerDefinitions$1, { defaultColor: defaultMarkerColor, rfId: rfId }), jsx(\"g\", { children: edges.map((edge) => {\n                            const [sourceNodeRect, sourceHandleBounds, sourceIsValid] = getNodeData(nodeInternals.get(edge.source));\n                            const [targetNodeRect, targetHandleBounds, targetIsValid] = getNodeData(nodeInternals.get(edge.target));\n                            if (!sourceIsValid || !targetIsValid) {\n                                return null;\n                            }\n                            let edgeType = edge.type || 'default';\n                            if (!edgeTypes[edgeType]) {\n                                onError?.('011', errorMessages['error011'](edgeType));\n                                edgeType = 'default';\n                            }\n                            const EdgeComponent = edgeTypes[edgeType] || edgeTypes.default;\n                            // when connection type is loose we can define all handles as sources and connect source -> source\n                            const targetNodeHandles = connectionMode === ConnectionMode.Strict\n                                ? targetHandleBounds.target\n                                : (targetHandleBounds.target ?? []).concat(targetHandleBounds.source ?? []);\n                            const sourceHandle = getHandle(sourceHandleBounds.source, edge.sourceHandle);\n                            const targetHandle = getHandle(targetNodeHandles, edge.targetHandle);\n                            const sourcePosition = sourceHandle?.position || Position.Bottom;\n                            const targetPosition = targetHandle?.position || Position.Top;\n                            const isFocusable = !!(edge.focusable || (edgesFocusable && typeof edge.focusable === 'undefined'));\n                            const isUpdatable = typeof onEdgeUpdate !== 'undefined' &&\n                                (edge.updatable || (edgesUpdatable && typeof edge.updatable === 'undefined'));\n                            if (!sourceHandle || !targetHandle) {\n                                onError?.('008', errorMessages['error008'](sourceHandle, edge));\n                                return null;\n                            }\n                            const { sourceX, sourceY, targetX, targetY } = getEdgePositions(sourceNodeRect, sourceHandle, sourcePosition, targetNodeRect, targetHandle, targetPosition);\n                            return (jsx(EdgeComponent, { id: edge.id, className: cc([edge.className, noPanClassName]), type: edgeType, data: edge.data, selected: !!edge.selected, animated: !!edge.animated, hidden: !!edge.hidden, label: edge.label, labelStyle: edge.labelStyle, labelShowBg: edge.labelShowBg, labelBgStyle: edge.labelBgStyle, labelBgPadding: edge.labelBgPadding, labelBgBorderRadius: edge.labelBgBorderRadius, style: edge.style, source: edge.source, target: edge.target, sourceHandleId: edge.sourceHandle, targetHandleId: edge.targetHandle, markerEnd: edge.markerEnd, markerStart: edge.markerStart, sourceX: sourceX, sourceY: sourceY, targetX: targetX, targetY: targetY, sourcePosition: sourcePosition, targetPosition: targetPosition, elementsSelectable: elementsSelectable, onEdgeUpdate: onEdgeUpdate, onContextMenu: onEdgeContextMenu, onMouseEnter: onEdgeMouseEnter, onMouseMove: onEdgeMouseMove, onMouseLeave: onEdgeMouseLeave, onClick: onEdgeClick, edgeUpdaterRadius: edgeUpdaterRadius, onEdgeDoubleClick: onEdgeDoubleClick, onEdgeUpdateStart: onEdgeUpdateStart, onEdgeUpdateEnd: onEdgeUpdateEnd, rfId: rfId, ariaLabel: edge.ariaLabel, isFocusable: isFocusable, isUpdatable: isUpdatable, pathOptions: 'pathOptions' in edge ? edge.pathOptions : undefined, interactionWidth: edge.interactionWidth }, edge.id));\n                        }) })] }, level))), children] }));\n};\nEdgeRenderer.displayName = 'EdgeRenderer';\nvar EdgeRenderer$1 = memo(EdgeRenderer);\n\nconst selector$3 = (s) => `translate(${s.transform[0]}px,${s.transform[1]}px) scale(${s.transform[2]})`;\nfunction Viewport({ children }) {\n    const transform = useStore(selector$3);\n    return (jsx(\"div\", { className: \"react-flow__viewport react-flow__container\", style: { transform }, children: children }));\n}\n\nfunction useOnInitHandler(onInit) {\n    const rfInstance = useReactFlow();\n    const isInitialized = useRef(false);\n    useEffect(() => {\n        if (!isInitialized.current && rfInstance.viewportInitialized && onInit) {\n            setTimeout(() => onInit(rfInstance), 1);\n            isInitialized.current = true;\n        }\n    }, [onInit, rfInstance.viewportInitialized]);\n}\n\nconst oppositePosition = {\n    [Position.Left]: Position.Right,\n    [Position.Right]: Position.Left,\n    [Position.Top]: Position.Bottom,\n    [Position.Bottom]: Position.Top,\n};\nconst ConnectionLine = ({ nodeId, handleType, style, type = ConnectionLineType.Bezier, CustomComponent, connectionStatus, }) => {\n    const { fromNode, handleId, toX, toY, connectionMode } = useStore(useCallback((s) => ({\n        fromNode: s.nodeInternals.get(nodeId),\n        handleId: s.connectionHandleId,\n        toX: (s.connectionPosition.x - s.transform[0]) / s.transform[2],\n        toY: (s.connectionPosition.y - s.transform[1]) / s.transform[2],\n        connectionMode: s.connectionMode,\n    }), [nodeId]), shallow);\n    const fromHandleBounds = fromNode?.[internalsSymbol]?.handleBounds;\n    let handleBounds = fromHandleBounds?.[handleType];\n    if (connectionMode === ConnectionMode.Loose) {\n        handleBounds = handleBounds ? handleBounds : fromHandleBounds?.[handleType === 'source' ? 'target' : 'source'];\n    }\n    if (!fromNode || !handleBounds) {\n        return null;\n    }\n    const fromHandle = handleId ? handleBounds.find((d) => d.id === handleId) : handleBounds[0];\n    const fromHandleX = fromHandle ? fromHandle.x + fromHandle.width / 2 : (fromNode.width ?? 0) / 2;\n    const fromHandleY = fromHandle ? fromHandle.y + fromHandle.height / 2 : fromNode.height ?? 0;\n    const fromX = (fromNode.positionAbsolute?.x ?? 0) + fromHandleX;\n    const fromY = (fromNode.positionAbsolute?.y ?? 0) + fromHandleY;\n    const fromPosition = fromHandle?.position;\n    const toPosition = fromPosition ? oppositePosition[fromPosition] : null;\n    if (!fromPosition || !toPosition) {\n        return null;\n    }\n    if (CustomComponent) {\n        return (jsx(CustomComponent, { connectionLineType: type, connectionLineStyle: style, fromNode: fromNode, fromHandle: fromHandle, fromX: fromX, fromY: fromY, toX: toX, toY: toY, fromPosition: fromPosition, toPosition: toPosition, connectionStatus: connectionStatus }));\n    }\n    let dAttr = '';\n    const pathParams = {\n        sourceX: fromX,\n        sourceY: fromY,\n        sourcePosition: fromPosition,\n        targetX: toX,\n        targetY: toY,\n        targetPosition: toPosition,\n    };\n    if (type === ConnectionLineType.Bezier) {\n        // we assume the destination position is opposite to the source position\n        [dAttr] = getBezierPath(pathParams);\n    }\n    else if (type === ConnectionLineType.Step) {\n        [dAttr] = getSmoothStepPath({\n            ...pathParams,\n            borderRadius: 0,\n        });\n    }\n    else if (type === ConnectionLineType.SmoothStep) {\n        [dAttr] = getSmoothStepPath(pathParams);\n    }\n    else if (type === ConnectionLineType.SimpleBezier) {\n        [dAttr] = getSimpleBezierPath(pathParams);\n    }\n    else {\n        dAttr = `M${fromX},${fromY} ${toX},${toY}`;\n    }\n    return jsx(\"path\", { d: dAttr, fill: \"none\", className: \"react-flow__connection-path\", style: style });\n};\nConnectionLine.displayName = 'ConnectionLine';\nconst selector$2 = (s) => ({\n    nodeId: s.connectionNodeId,\n    handleType: s.connectionHandleType,\n    nodesConnectable: s.nodesConnectable,\n    connectionStatus: s.connectionStatus,\n    width: s.width,\n    height: s.height,\n});\nfunction ConnectionLineWrapper({ containerStyle, style, type, component }) {\n    const { nodeId, handleType, nodesConnectable, width, height, connectionStatus } = useStore(selector$2, shallow);\n    const isValid = !!(nodeId && handleType && width && nodesConnectable);\n    if (!isValid) {\n        return null;\n    }\n    return (jsx(\"svg\", { style: containerStyle, width: width, height: height, className: \"react-flow__edges react-flow__connectionline react-flow__container\", children: jsx(\"g\", { className: cc(['react-flow__connection', connectionStatus]), children: jsx(ConnectionLine, { nodeId: nodeId, handleType: handleType, style: style, type: type, CustomComponent: component, connectionStatus: connectionStatus }) }) }));\n}\n\nconst GraphView = ({ nodeTypes, edgeTypes, onMove, onMoveStart, onMoveEnd, onInit, onNodeClick, onEdgeClick, onNodeDoubleClick, onEdgeDoubleClick, onNodeMouseEnter, onNodeMouseMove, onNodeMouseLeave, onNodeContextMenu, onSelectionContextMenu, onSelectionStart, onSelectionEnd, connectionLineType, connectionLineStyle, connectionLineComponent, connectionLineContainerStyle, selectionKeyCode, selectionOnDrag, selectionMode, multiSelectionKeyCode, panActivationKeyCode, zoomActivationKeyCode, deleteKeyCode, onlyRenderVisibleElements, elementsSelectable, selectNodesOnDrag, defaultViewport, translateExtent, minZoom, maxZoom, preventScrolling, defaultMarkerColor, zoomOnScroll, zoomOnPinch, panOnScroll, panOnScrollSpeed, panOnScrollMode, zoomOnDoubleClick, panOnDrag, onPaneClick, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, onPaneScroll, onPaneContextMenu, onEdgeUpdate, onEdgeContextMenu, onEdgeMouseEnter, onEdgeMouseMove, onEdgeMouseLeave, edgeUpdaterRadius, onEdgeUpdateStart, onEdgeUpdateEnd, noDragClassName, noWheelClassName, noPanClassName, elevateEdgesOnSelect, disableKeyboardA11y, nodeOrigin, nodeExtent, rfId, }) => {\n    useOnInitHandler(onInit);\n    return (jsx(FlowRenderer$1, { onPaneClick: onPaneClick, onPaneMouseEnter: onPaneMouseEnter, onPaneMouseMove: onPaneMouseMove, onPaneMouseLeave: onPaneMouseLeave, onPaneContextMenu: onPaneContextMenu, onPaneScroll: onPaneScroll, deleteKeyCode: deleteKeyCode, selectionKeyCode: selectionKeyCode, selectionOnDrag: selectionOnDrag, selectionMode: selectionMode, onSelectionStart: onSelectionStart, onSelectionEnd: onSelectionEnd, multiSelectionKeyCode: multiSelectionKeyCode, panActivationKeyCode: panActivationKeyCode, zoomActivationKeyCode: zoomActivationKeyCode, elementsSelectable: elementsSelectable, onMove: onMove, onMoveStart: onMoveStart, onMoveEnd: onMoveEnd, zoomOnScroll: zoomOnScroll, zoomOnPinch: zoomOnPinch, zoomOnDoubleClick: zoomOnDoubleClick, panOnScroll: panOnScroll, panOnScrollSpeed: panOnScrollSpeed, panOnScrollMode: panOnScrollMode, panOnDrag: panOnDrag, defaultViewport: defaultViewport, translateExtent: translateExtent, minZoom: minZoom, maxZoom: maxZoom, onSelectionContextMenu: onSelectionContextMenu, preventScrolling: preventScrolling, noDragClassName: noDragClassName, noWheelClassName: noWheelClassName, noPanClassName: noPanClassName, disableKeyboardA11y: disableKeyboardA11y, children: jsxs(Viewport, { children: [jsx(EdgeRenderer$1, { edgeTypes: edgeTypes, onEdgeClick: onEdgeClick, onEdgeDoubleClick: onEdgeDoubleClick, onEdgeUpdate: onEdgeUpdate, onlyRenderVisibleElements: onlyRenderVisibleElements, onEdgeContextMenu: onEdgeContextMenu, onEdgeMouseEnter: onEdgeMouseEnter, onEdgeMouseMove: onEdgeMouseMove, onEdgeMouseLeave: onEdgeMouseLeave, onEdgeUpdateStart: onEdgeUpdateStart, onEdgeUpdateEnd: onEdgeUpdateEnd, edgeUpdaterRadius: edgeUpdaterRadius, defaultMarkerColor: defaultMarkerColor, noPanClassName: noPanClassName, elevateEdgesOnSelect: !!elevateEdgesOnSelect, disableKeyboardA11y: disableKeyboardA11y, rfId: rfId, children: jsx(ConnectionLineWrapper, { style: connectionLineStyle, type: connectionLineType, component: connectionLineComponent, containerStyle: connectionLineContainerStyle }) }), jsx(\"div\", { className: \"react-flow__edgelabel-renderer\" }), jsx(NodeRenderer$1, { nodeTypes: nodeTypes, onNodeClick: onNodeClick, onNodeDoubleClick: onNodeDoubleClick, onNodeMouseEnter: onNodeMouseEnter, onNodeMouseMove: onNodeMouseMove, onNodeMouseLeave: onNodeMouseLeave, onNodeContextMenu: onNodeContextMenu, selectNodesOnDrag: selectNodesOnDrag, onlyRenderVisibleElements: onlyRenderVisibleElements, noPanClassName: noPanClassName, noDragClassName: noDragClassName, disableKeyboardA11y: disableKeyboardA11y, nodeOrigin: nodeOrigin, nodeExtent: nodeExtent, rfId: rfId })] }) }));\n};\nGraphView.displayName = 'GraphView';\nvar GraphView$1 = memo(GraphView);\n\nconst infiniteExtent = [\n    [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY],\n    [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY],\n];\nconst initialState = {\n    rfId: '1',\n    width: 0,\n    height: 0,\n    transform: [0, 0, 1],\n    nodeInternals: new Map(),\n    edges: [],\n    onNodesChange: null,\n    onEdgesChange: null,\n    hasDefaultNodes: false,\n    hasDefaultEdges: false,\n    d3Zoom: null,\n    d3Selection: null,\n    d3ZoomHandler: undefined,\n    minZoom: 0.5,\n    maxZoom: 2,\n    translateExtent: infiniteExtent,\n    nodeExtent: infiniteExtent,\n    nodesSelectionActive: false,\n    userSelectionActive: false,\n    userSelectionRect: null,\n    connectionNodeId: null,\n    connectionHandleId: null,\n    connectionHandleType: 'source',\n    connectionPosition: { x: 0, y: 0 },\n    connectionStatus: null,\n    connectionMode: ConnectionMode.Strict,\n    domNode: null,\n    paneDragging: false,\n    noPanClassName: 'nopan',\n    nodeOrigin: [0, 0],\n    snapGrid: [15, 15],\n    snapToGrid: false,\n    nodesDraggable: true,\n    nodesConnectable: true,\n    nodesFocusable: true,\n    edgesFocusable: true,\n    edgesUpdatable: true,\n    elementsSelectable: true,\n    elevateNodesOnSelect: true,\n    fitViewOnInit: false,\n    fitViewOnInitDone: false,\n    fitViewOnInitOptions: undefined,\n    multiSelectionActive: false,\n    connectionStartHandle: null,\n    connectionEndHandle: null,\n    connectionClickStartHandle: null,\n    connectOnClick: true,\n    ariaLiveMessage: '',\n    autoPanOnConnect: true,\n    autoPanOnNodeDrag: true,\n    connectionRadius: 20,\n    onError: devWarn,\n    isValidConnection: undefined,\n};\n\nconst createRFStore = () => createStore((set, get) => ({\n    ...initialState,\n    setNodes: (nodes) => {\n        const { nodeInternals, nodeOrigin, elevateNodesOnSelect } = get();\n        set({ nodeInternals: createNodeInternals(nodes, nodeInternals, nodeOrigin, elevateNodesOnSelect) });\n    },\n    getNodes: () => {\n        return Array.from(get().nodeInternals.values());\n    },\n    setEdges: (edges) => {\n        const { defaultEdgeOptions = {} } = get();\n        set({ edges: edges.map((e) => ({ ...defaultEdgeOptions, ...e })) });\n    },\n    setDefaultNodesAndEdges: (nodes, edges) => {\n        const hasDefaultNodes = typeof nodes !== 'undefined';\n        const hasDefaultEdges = typeof edges !== 'undefined';\n        const nodeInternals = hasDefaultNodes\n            ? createNodeInternals(nodes, new Map(), get().nodeOrigin, get().elevateNodesOnSelect)\n            : new Map();\n        const nextEdges = hasDefaultEdges ? edges : [];\n        set({ nodeInternals, edges: nextEdges, hasDefaultNodes, hasDefaultEdges });\n    },\n    updateNodeDimensions: (updates) => {\n        const { onNodesChange, nodeInternals, fitViewOnInit, fitViewOnInitDone, fitViewOnInitOptions, domNode, nodeOrigin, } = get();\n        const viewportNode = domNode?.querySelector('.react-flow__viewport');\n        if (!viewportNode) {\n            return;\n        }\n        const style = window.getComputedStyle(viewportNode);\n        const { m22: zoom } = new window.DOMMatrixReadOnly(style.transform);\n        const changes = updates.reduce((res, update) => {\n            const node = nodeInternals.get(update.id);\n            if (node) {\n                const dimensions = getDimensions(update.nodeElement);\n                const doUpdate = !!(dimensions.width &&\n                    dimensions.height &&\n                    (node.width !== dimensions.width || node.height !== dimensions.height || update.forceUpdate));\n                if (doUpdate) {\n                    nodeInternals.set(node.id, {\n                        ...node,\n                        [internalsSymbol]: {\n                            ...node[internalsSymbol],\n                            handleBounds: {\n                                source: getHandleBounds('.source', update.nodeElement, zoom, nodeOrigin),\n                                target: getHandleBounds('.target', update.nodeElement, zoom, nodeOrigin),\n                            },\n                        },\n                        ...dimensions,\n                    });\n                    res.push({\n                        id: node.id,\n                        type: 'dimensions',\n                        dimensions,\n                    });\n                }\n            }\n            return res;\n        }, []);\n        updateAbsoluteNodePositions(nodeInternals, nodeOrigin);\n        const nextFitViewOnInitDone = fitViewOnInitDone ||\n            (fitViewOnInit && !fitViewOnInitDone && fitView(get, { initial: true, ...fitViewOnInitOptions }));\n        set({ nodeInternals: new Map(nodeInternals), fitViewOnInitDone: nextFitViewOnInitDone });\n        if (changes?.length > 0) {\n            onNodesChange?.(changes);\n        }\n    },\n    updateNodePositions: (nodeDragItems, positionChanged = true, dragging = false) => {\n        const { triggerNodeChanges } = get();\n        const changes = nodeDragItems.map((node) => {\n            const change = {\n                id: node.id,\n                type: 'position',\n                dragging,\n            };\n            if (positionChanged) {\n                change.positionAbsolute = node.positionAbsolute;\n                change.position = node.position;\n            }\n            return change;\n        });\n        triggerNodeChanges(changes);\n    },\n    triggerNodeChanges: (changes) => {\n        const { onNodesChange, nodeInternals, hasDefaultNodes, nodeOrigin, getNodes, elevateNodesOnSelect } = get();\n        if (changes?.length) {\n            if (hasDefaultNodes) {\n                const nodes = applyNodeChanges(changes, getNodes());\n                const nextNodeInternals = createNodeInternals(nodes, nodeInternals, nodeOrigin, elevateNodesOnSelect);\n                set({ nodeInternals: nextNodeInternals });\n            }\n            onNodesChange?.(changes);\n        }\n    },\n    addSelectedNodes: (selectedNodeIds) => {\n        const { multiSelectionActive, edges, getNodes } = get();\n        let changedNodes;\n        let changedEdges = null;\n        if (multiSelectionActive) {\n            changedNodes = selectedNodeIds.map((nodeId) => createSelectionChange(nodeId, true));\n        }\n        else {\n            changedNodes = getSelectionChanges(getNodes(), selectedNodeIds);\n            changedEdges = getSelectionChanges(edges, []);\n        }\n        updateNodesAndEdgesSelections({\n            changedNodes,\n            changedEdges,\n            get,\n            set,\n        });\n    },\n    addSelectedEdges: (selectedEdgeIds) => {\n        const { multiSelectionActive, edges, getNodes } = get();\n        let changedEdges;\n        let changedNodes = null;\n        if (multiSelectionActive) {\n            changedEdges = selectedEdgeIds.map((edgeId) => createSelectionChange(edgeId, true));\n        }\n        else {\n            changedEdges = getSelectionChanges(edges, selectedEdgeIds);\n            changedNodes = getSelectionChanges(getNodes(), []);\n        }\n        updateNodesAndEdgesSelections({\n            changedNodes,\n            changedEdges,\n            get,\n            set,\n        });\n    },\n    unselectNodesAndEdges: ({ nodes, edges } = {}) => {\n        const { edges: storeEdges, getNodes } = get();\n        const nodesToUnselect = nodes ? nodes : getNodes();\n        const edgesToUnselect = edges ? edges : storeEdges;\n        const changedNodes = nodesToUnselect.map((n) => {\n            n.selected = false;\n            return createSelectionChange(n.id, false);\n        });\n        const changedEdges = edgesToUnselect.map((edge) => createSelectionChange(edge.id, false));\n        updateNodesAndEdgesSelections({\n            changedNodes,\n            changedEdges,\n            get,\n            set,\n        });\n    },\n    setMinZoom: (minZoom) => {\n        const { d3Zoom, maxZoom } = get();\n        d3Zoom?.scaleExtent([minZoom, maxZoom]);\n        set({ minZoom });\n    },\n    setMaxZoom: (maxZoom) => {\n        const { d3Zoom, minZoom } = get();\n        d3Zoom?.scaleExtent([minZoom, maxZoom]);\n        set({ maxZoom });\n    },\n    setTranslateExtent: (translateExtent) => {\n        get().d3Zoom?.translateExtent(translateExtent);\n        set({ translateExtent });\n    },\n    resetSelectedElements: () => {\n        const { edges, getNodes } = get();\n        const nodes = getNodes();\n        const nodesToUnselect = nodes\n            .filter((e) => e.selected)\n            .map((n) => createSelectionChange(n.id, false));\n        const edgesToUnselect = edges\n            .filter((e) => e.selected)\n            .map((e) => createSelectionChange(e.id, false));\n        updateNodesAndEdgesSelections({\n            changedNodes: nodesToUnselect,\n            changedEdges: edgesToUnselect,\n            get,\n            set,\n        });\n    },\n    setNodeExtent: (nodeExtent) => {\n        const { nodeInternals } = get();\n        nodeInternals.forEach((node) => {\n            node.positionAbsolute = clampPosition(node.position, nodeExtent);\n        });\n        set({\n            nodeExtent,\n            nodeInternals: new Map(nodeInternals),\n        });\n    },\n    panBy: (delta) => {\n        const { transform, width, height, d3Zoom, d3Selection, translateExtent } = get();\n        if (!d3Zoom || !d3Selection || (!delta.x && !delta.y)) {\n            return;\n        }\n        const nextTransform = zoomIdentity.translate(transform[0] + delta.x, transform[1] + delta.y).scale(transform[2]);\n        const extent = [\n            [0, 0],\n            [width, height],\n        ];\n        const constrainedTransform = d3Zoom?.constrain()(nextTransform, extent, translateExtent);\n        d3Zoom.transform(d3Selection, constrainedTransform);\n    },\n    cancelConnection: () => set({\n        connectionNodeId: initialState.connectionNodeId,\n        connectionHandleId: initialState.connectionHandleId,\n        connectionHandleType: initialState.connectionHandleType,\n        connectionStatus: initialState.connectionStatus,\n        connectionStartHandle: initialState.connectionStartHandle,\n        connectionEndHandle: initialState.connectionEndHandle,\n    }),\n    reset: () => set({ ...initialState }),\n}));\n\nconst ReactFlowProvider = ({ children }) => {\n    const storeRef = useRef(null);\n    if (!storeRef.current) {\n        storeRef.current = createRFStore();\n    }\n    return jsx(Provider$1, { value: storeRef.current, children: children });\n};\nReactFlowProvider.displayName = 'ReactFlowProvider';\n\nconst Wrapper = ({ children }) => {\n    const isWrapped = useContext(StoreContext);\n    if (isWrapped) {\n        // we need to wrap it with a fragment because it's not allowed for children to be a ReactNode\n        // https://github.com/DefinitelyTyped/DefinitelyTyped/issues/18051\n        return jsx(Fragment, { children: children });\n    }\n    return jsx(ReactFlowProvider, { children: children });\n};\nWrapper.displayName = 'ReactFlowWrapper';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction useNodeOrEdgeTypes(nodeOrEdgeTypes, createTypes) {\n    const typesKeysRef = useRef(null);\n    const typesParsed = useMemo(() => {\n        if (process.env.NODE_ENV === 'development') {\n            const typeKeys = Object.keys(nodeOrEdgeTypes);\n            if (shallow(typesKeysRef.current, typeKeys)) {\n                devWarn('002', errorMessages['error002']());\n            }\n            typesKeysRef.current = typeKeys;\n        }\n        return createTypes(nodeOrEdgeTypes);\n    }, [nodeOrEdgeTypes]);\n    return typesParsed;\n}\n\nconst defaultNodeTypes = {\n    input: InputNode$1,\n    default: DefaultNode$1,\n    output: OutputNode$1,\n    group: GroupNode,\n};\nconst defaultEdgeTypes = {\n    default: BezierEdge,\n    straight: StraightEdge,\n    step: StepEdge,\n    smoothstep: SmoothStepEdge,\n    simplebezier: SimpleBezierEdge,\n};\nconst initNodeOrigin = [0, 0];\nconst initSnapGrid = [15, 15];\nconst initDefaultViewport = { x: 0, y: 0, zoom: 1 };\nconst wrapperStyle = {\n    width: '100%',\n    height: '100%',\n    overflow: 'hidden',\n    position: 'relative',\n    zIndex: 0,\n};\nconst ReactFlow = forwardRef(({ nodes, edges, defaultNodes, defaultEdges, className, nodeTypes = defaultNodeTypes, edgeTypes = defaultEdgeTypes, onNodeClick, onEdgeClick, onInit, onMove, onMoveStart, onMoveEnd, onConnect, onConnectStart, onConnectEnd, onClickConnectStart, onClickConnectEnd, onNodeMouseEnter, onNodeMouseMove, onNodeMouseLeave, onNodeContextMenu, onNodeDoubleClick, onNodeDragStart, onNodeDrag, onNodeDragStop, onNodesDelete, onEdgesDelete, onSelectionChange, onSelectionDragStart, onSelectionDrag, onSelectionDragStop, onSelectionContextMenu, onSelectionStart, onSelectionEnd, connectionMode = ConnectionMode.Strict, connectionLineType = ConnectionLineType.Bezier, connectionLineStyle, connectionLineComponent, connectionLineContainerStyle, deleteKeyCode = 'Backspace', selectionKeyCode = 'Shift', selectionOnDrag = false, selectionMode = SelectionMode.Full, panActivationKeyCode = 'Space', multiSelectionKeyCode = 'Meta', zoomActivationKeyCode = 'Meta', snapToGrid = false, snapGrid = initSnapGrid, onlyRenderVisibleElements = false, selectNodesOnDrag = true, nodesDraggable, nodesConnectable, nodesFocusable, nodeOrigin = initNodeOrigin, edgesFocusable, edgesUpdatable, elementsSelectable, defaultViewport = initDefaultViewport, minZoom = 0.5, maxZoom = 2, translateExtent = infiniteExtent, preventScrolling = true, nodeExtent, defaultMarkerColor = '#b1b1b7', zoomOnScroll = true, zoomOnPinch = true, panOnScroll = false, panOnScrollSpeed = 0.5, panOnScrollMode = PanOnScrollMode.Free, zoomOnDoubleClick = true, panOnDrag = true, onPaneClick, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, onPaneScroll, onPaneContextMenu, children, onEdgeUpdate, onEdgeContextMenu, onEdgeDoubleClick, onEdgeMouseEnter, onEdgeMouseMove, onEdgeMouseLeave, onEdgeUpdateStart, onEdgeUpdateEnd, edgeUpdaterRadius = 10, onNodesChange, onEdgesChange, noDragClassName = 'nodrag', noWheelClassName = 'nowheel', noPanClassName = 'nopan', fitView = false, fitViewOptions, connectOnClick = true, attributionPosition, proOptions, defaultEdgeOptions, elevateNodesOnSelect = true, elevateEdgesOnSelect = false, disableKeyboardA11y = false, autoPanOnConnect = true, autoPanOnNodeDrag = true, connectionRadius = 20, isValidConnection, onError, style, id, ...rest }, ref) => {\n    const nodeTypesWrapped = useNodeOrEdgeTypes(nodeTypes, createNodeTypes);\n    const edgeTypesWrapped = useNodeOrEdgeTypes(edgeTypes, createEdgeTypes);\n    const rfId = id || '1';\n    return (jsx(\"div\", { ...rest, style: { ...style, ...wrapperStyle }, ref: ref, className: cc(['react-flow', className]), \"data-testid\": \"rf__wrapper\", id: id, children: jsxs(Wrapper, { children: [jsx(GraphView$1, { onInit: onInit, onMove: onMove, onMoveStart: onMoveStart, onMoveEnd: onMoveEnd, onNodeClick: onNodeClick, onEdgeClick: onEdgeClick, onNodeMouseEnter: onNodeMouseEnter, onNodeMouseMove: onNodeMouseMove, onNodeMouseLeave: onNodeMouseLeave, onNodeContextMenu: onNodeContextMenu, onNodeDoubleClick: onNodeDoubleClick, nodeTypes: nodeTypesWrapped, edgeTypes: edgeTypesWrapped, connectionLineType: connectionLineType, connectionLineStyle: connectionLineStyle, connectionLineComponent: connectionLineComponent, connectionLineContainerStyle: connectionLineContainerStyle, selectionKeyCode: selectionKeyCode, selectionOnDrag: selectionOnDrag, selectionMode: selectionMode, deleteKeyCode: deleteKeyCode, multiSelectionKeyCode: multiSelectionKeyCode, panActivationKeyCode: panActivationKeyCode, zoomActivationKeyCode: zoomActivationKeyCode, onlyRenderVisibleElements: onlyRenderVisibleElements, selectNodesOnDrag: selectNodesOnDrag, defaultViewport: defaultViewport, translateExtent: translateExtent, minZoom: minZoom, maxZoom: maxZoom, preventScrolling: preventScrolling, zoomOnScroll: zoomOnScroll, zoomOnPinch: zoomOnPinch, zoomOnDoubleClick: zoomOnDoubleClick, panOnScroll: panOnScroll, panOnScrollSpeed: panOnScrollSpeed, panOnScrollMode: panOnScrollMode, panOnDrag: panOnDrag, onPaneClick: onPaneClick, onPaneMouseEnter: onPaneMouseEnter, onPaneMouseMove: onPaneMouseMove, onPaneMouseLeave: onPaneMouseLeave, onPaneScroll: onPaneScroll, onPaneContextMenu: onPaneContextMenu, onSelectionContextMenu: onSelectionContextMenu, onSelectionStart: onSelectionStart, onSelectionEnd: onSelectionEnd, onEdgeUpdate: onEdgeUpdate, onEdgeContextMenu: onEdgeContextMenu, onEdgeDoubleClick: onEdgeDoubleClick, onEdgeMouseEnter: onEdgeMouseEnter, onEdgeMouseMove: onEdgeMouseMove, onEdgeMouseLeave: onEdgeMouseLeave, onEdgeUpdateStart: onEdgeUpdateStart, onEdgeUpdateEnd: onEdgeUpdateEnd, edgeUpdaterRadius: edgeUpdaterRadius, defaultMarkerColor: defaultMarkerColor, noDragClassName: noDragClassName, noWheelClassName: noWheelClassName, noPanClassName: noPanClassName, elevateEdgesOnSelect: elevateEdgesOnSelect, rfId: rfId, disableKeyboardA11y: disableKeyboardA11y, nodeOrigin: nodeOrigin, nodeExtent: nodeExtent }), jsx(StoreUpdater, { nodes: nodes, edges: edges, defaultNodes: defaultNodes, defaultEdges: defaultEdges, onConnect: onConnect, onConnectStart: onConnectStart, onConnectEnd: onConnectEnd, onClickConnectStart: onClickConnectStart, onClickConnectEnd: onClickConnectEnd, nodesDraggable: nodesDraggable, nodesConnectable: nodesConnectable, nodesFocusable: nodesFocusable, edgesFocusable: edgesFocusable, edgesUpdatable: edgesUpdatable, elementsSelectable: elementsSelectable, elevateNodesOnSelect: elevateNodesOnSelect, minZoom: minZoom, maxZoom: maxZoom, nodeExtent: nodeExtent, onNodesChange: onNodesChange, onEdgesChange: onEdgesChange, snapToGrid: snapToGrid, snapGrid: snapGrid, connectionMode: connectionMode, translateExtent: translateExtent, connectOnClick: connectOnClick, defaultEdgeOptions: defaultEdgeOptions, fitView: fitView, fitViewOptions: fitViewOptions, onNodesDelete: onNodesDelete, onEdgesDelete: onEdgesDelete, onNodeDragStart: onNodeDragStart, onNodeDrag: onNodeDrag, onNodeDragStop: onNodeDragStop, onSelectionDrag: onSelectionDrag, onSelectionDragStart: onSelectionDragStart, onSelectionDragStop: onSelectionDragStop, noPanClassName: noPanClassName, nodeOrigin: nodeOrigin, rfId: rfId, autoPanOnConnect: autoPanOnConnect, autoPanOnNodeDrag: autoPanOnNodeDrag, onError: onError, connectionRadius: connectionRadius, isValidConnection: isValidConnection }), jsx(Wrapper$1, { onSelectionChange: onSelectionChange }), children, jsx(Attribution, { proOptions: proOptions, position: attributionPosition }), jsx(A11yDescriptions, { rfId: rfId, disableKeyboardA11y: disableKeyboardA11y })] }) }));\n});\nReactFlow.displayName = 'ReactFlow';\n\nconst selector$1 = (s) => s.domNode?.querySelector('.react-flow__edgelabel-renderer');\nfunction EdgeLabelRenderer({ children }) {\n    const edgeLabelRenderer = useStore(selector$1);\n    if (!edgeLabelRenderer) {\n        return null;\n    }\n    return createPortal(children, edgeLabelRenderer);\n}\n\nfunction useUpdateNodeInternals() {\n    const store = useStoreApi();\n    return useCallback((id) => {\n        const { domNode, updateNodeDimensions } = store.getState();\n        const nodeElement = domNode?.querySelector(`.react-flow__node[data-id=\"${id}\"]`);\n        if (nodeElement) {\n            requestAnimationFrame(() => updateNodeDimensions([{ id, nodeElement, forceUpdate: true }]));\n        }\n    }, []);\n}\n\nconst nodesSelector = (state) => state.getNodes();\nfunction useNodes() {\n    const nodes = useStore(nodesSelector);\n    return nodes;\n}\n\nconst edgesSelector = (state) => state.edges;\nfunction useEdges() {\n    const edges = useStore(edgesSelector);\n    return edges;\n}\n\nconst viewportSelector = (state) => ({\n    x: state.transform[0],\n    y: state.transform[1],\n    zoom: state.transform[2],\n});\nfunction useViewport() {\n    const viewport = useStore(viewportSelector, shallow);\n    return viewport;\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nfunction createUseItemsState(applyChanges) {\n    return (initialItems) => {\n        const [items, setItems] = useState(initialItems);\n        const onItemsChange = useCallback((changes) => setItems((items) => applyChanges(changes, items)), []);\n        return [items, setItems, onItemsChange];\n    };\n}\nconst useNodesState = createUseItemsState(applyNodeChanges);\nconst useEdgesState = createUseItemsState(applyEdgeChanges);\n\nfunction useOnViewportChange({ onStart, onChange, onEnd }) {\n    const store = useStoreApi();\n    useEffect(() => {\n        store.setState({ onViewportChangeStart: onStart });\n    }, [onStart]);\n    useEffect(() => {\n        store.setState({ onViewportChange: onChange });\n    }, [onChange]);\n    useEffect(() => {\n        store.setState({ onViewportChangeEnd: onEnd });\n    }, [onEnd]);\n}\n\nfunction useOnSelectionChange({ onChange }) {\n    const store = useStoreApi();\n    useEffect(() => {\n        store.setState({ onSelectionChange: onChange });\n    }, [onChange]);\n}\n\nconst selector = (options) => (s) => {\n    if (s.nodeInternals.size === 0) {\n        return false;\n    }\n    return s\n        .getNodes()\n        .filter((n) => (options.includeHiddenNodes ? true : !n.hidden))\n        .every((n) => n[internalsSymbol]?.handleBounds !== undefined);\n};\nconst defaultOptions = {\n    includeHiddenNodes: false,\n};\nfunction useNodesInitialized(options = defaultOptions) {\n    const initialized = useStore(selector(options));\n    return initialized;\n}\n\nexport { BaseEdge, BezierEdge, ConnectionLineType, ConnectionMode, EdgeLabelRenderer, EdgeText$1 as EdgeText, Handle$1 as Handle, MarkerType, PanOnScrollMode, Panel, Position, ReactFlow, ReactFlowProvider, SelectionMode, SimpleBezierEdge, SmoothStepEdge, StepEdge, StraightEdge, addEdge, applyEdgeChanges, applyNodeChanges, boxToRect, clamp, getBezierPath, getBoundsOfRects, getConnectedEdges, getIncomers, getMarkerEnd, getNodePositionWithOrigin, getOutgoers, getRectOfNodes, getSimpleBezierPath, getSmoothStepPath, getStraightPath, getTransformForBounds, internalsSymbol, isEdge, isNode, rectToBox, updateEdge, useEdges, useEdgesState, useGetPointerPosition, useKeyPress, useNodeId, useNodes, useNodesInitialized, useNodesState, useOnSelectionChange, useOnViewportChange, useReactFlow, useStore, useStoreApi, useUpdateNodeInternals, useViewport };\n","import { jsx, jsxs, Fragment } from 'react/jsx-runtime';\nimport { memo, useState, useEffect } from 'react';\nimport cc from 'classcat';\nimport { useStoreApi, useStore, useReactFlow, Panel } from '@reactflow/core';\n\nfunction PlusIcon() {\n    return (jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 32 32\", children: jsx(\"path\", { d: \"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z\" }) }));\n}\n\nfunction MinusIcon() {\n    return (jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 32 5\", children: jsx(\"path\", { d: \"M0 0h32v4.2H0z\" }) }));\n}\n\nfunction FitViewIcon() {\n    return (jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 32 30\", children: jsx(\"path\", { d: \"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z\" }) }));\n}\n\nfunction LockIcon() {\n    return (jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 25 32\", children: jsx(\"path\", { d: \"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z\" }) }));\n}\n\nfunction UnlockIcon() {\n    return (jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 25 32\", children: jsx(\"path\", { d: \"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z\" }) }));\n}\n\nconst ControlButton = ({ children, className, ...rest }) => (jsx(\"button\", { type: \"button\", className: cc(['react-flow__controls-button', className]), ...rest, children: children }));\nControlButton.displayName = 'ControlButton';\n\nconst isInteractiveSelector = (s) => s.nodesDraggable && s.nodesConnectable && s.elementsSelectable;\nconst Controls = ({ style, showZoom = true, showFitView = true, showInteractive = true, fitViewOptions, onZoomIn, onZoomOut, onFitView, onInteractiveChange, className, children, position = 'bottom-left', }) => {\n    const store = useStoreApi();\n    const [isVisible, setIsVisible] = useState(false);\n    const isInteractive = useStore(isInteractiveSelector);\n    const { zoomIn, zoomOut, fitView } = useReactFlow();\n    useEffect(() => {\n        setIsVisible(true);\n    }, []);\n    if (!isVisible) {\n        return null;\n    }\n    const onZoomInHandler = () => {\n        zoomIn();\n        onZoomIn?.();\n    };\n    const onZoomOutHandler = () => {\n        zoomOut();\n        onZoomOut?.();\n    };\n    const onFitViewHandler = () => {\n        fitView(fitViewOptions);\n        onFitView?.();\n    };\n    const onToggleInteractivity = () => {\n        store.setState({\n            nodesDraggable: !isInteractive,\n            nodesConnectable: !isInteractive,\n            elementsSelectable: !isInteractive,\n        });\n        onInteractiveChange?.(!isInteractive);\n    };\n    return (jsxs(Panel, { className: cc(['react-flow__controls', className]), position: position, style: style, \"data-testid\": \"rf__controls\", children: [showZoom && (jsxs(Fragment, { children: [jsx(ControlButton, { onClick: onZoomInHandler, className: \"react-flow__controls-zoomin\", title: \"zoom in\", \"aria-label\": \"zoom in\", children: jsx(PlusIcon, {}) }), jsx(ControlButton, { onClick: onZoomOutHandler, className: \"react-flow__controls-zoomout\", title: \"zoom out\", \"aria-label\": \"zoom out\", children: jsx(MinusIcon, {}) })] })), showFitView && (jsx(ControlButton, { className: \"react-flow__controls-fitview\", onClick: onFitViewHandler, title: \"fit view\", \"aria-label\": \"fit view\", children: jsx(FitViewIcon, {}) })), showInteractive && (jsx(ControlButton, { className: \"react-flow__controls-interactive\", onClick: onToggleInteractivity, title: \"toggle interactivity\", \"aria-label\": \"toggle interactivity\", children: isInteractive ? jsx(UnlockIcon, {}) : jsx(LockIcon, {}) })), children] }));\n};\nControls.displayName = 'Controls';\nvar Controls$1 = memo(Controls);\n\nexport { ControlButton, Controls$1 as Controls };\n","import dayjs from 'dayjs'\nimport React, { useMemo } from 'react'\nimport { formatDate } from '../../utils/functions/DateFormatter'\nimport { useGetUserProfile } from '../../utils/hooks/SynapseAPI'\nimport { Activity } from '../../utils/synapseTypes/Provenance/Provenance'\nimport { Tooltip } from '@mui/material'\nimport { Typography } from '@mui/material'\nimport { UserCardSmall } from '../UserCardSmall'\n\nexport const ActivityNodeLabel = (data: Activity) => {\n  const { data: userProfile } = useGetUserProfile(data.modifiedBy)\n  const friendlyModifiedOn = formatDate(dayjs(data.modifiedOn))\n  const { name, description } = data\n  return useMemo(\n    () => (\n      <>\n        {name && (\n          <Tooltip title={name} placement=\"top\" enterNextDelay={200}>\n            <span>\n              <Typography variant=\"smallText1\" className=\"name\">\n                {name}\n              </Typography>\n            </span>\n          </Tooltip>\n        )}\n        {description && (\n          <Tooltip title={description} placement=\"top\" enterNextDelay={200}>\n            <span>\n              <Typography variant=\"smallText1\" className=\"description\">\n                {description}\n              </Typography>\n            </span>\n          </Tooltip>\n        )}\n        {userProfile && <UserCardSmall userProfile={userProfile} />}\n        <div>{friendlyModifiedOn}</div>\n      </>\n    ),\n    [name, description, userProfile, friendlyModifiedOn],\n  )\n}\n","import React from 'react'\nimport { convertToEntityType } from '../../utils/functions/EntityTypeUtils'\nimport { EntityHeader, EntityType } from '../../utils/synapseTypes'\nimport { EntityTypeIcon } from '../EntityIcon'\nimport IconSvg from '../IconSvg'\n\nexport type ProvenanceEntityIconProps = {\n  entityHeader?: EntityHeader\n}\n\nconst codeFileExtensionSet = new Set([\n  '.awk',\n  '.bat',\n  '.btm',\n  '.c',\n  '.cmd',\n  '.cpp',\n  '.cxx',\n  '.def',\n  '.dlg',\n  '.dpc',\n  '.dpj',\n  '.dtd',\n  '.h',\n  '.hdl',\n  '.hpp',\n  '.hrc',\n  '.html',\n  '.hxx',\n  '.inc',\n  '.ini',\n  '.inl',\n  '.ins',\n  '.ipy',\n  '.java',\n  '.js',\n  '.jsp',\n  '.l',\n  '.lgt',\n  '.ll',\n  '.par',\n  '.pl',\n  '.py',\n  '.r',\n  '.rc',\n  '.rdb',\n  '.res',\n  '.s',\n  '.sbl',\n  '.scp',\n  '.sh',\n  '.sql',\n  '.src',\n  '.srs',\n  '.xml',\n  '.xrb',\n  '.y',\n  '.yaml',\n  '.yxx',\n  '.cwl',\n  '.wdl',\n  '.json',\n])\n\nexport const ProvenanceEntityIcon = (props: ProvenanceEntityIconProps) => {\n  const { entityHeader } = props\n  if (entityHeader) {\n    const entityType: EntityType = convertToEntityType(entityHeader?.type)\n    if (entityType == EntityType.FILE) {\n      // this is a file, may want to use a special icon in this case\n      const lastPeriodIndex = entityHeader.name.lastIndexOf('.')\n      if (lastPeriodIndex > -1) {\n        const extension = entityHeader.name.slice(lastPeriodIndex)\n        if (codeFileExtensionSet.has(extension.toLowerCase())) {\n          return <IconSvg icon=\"code\" />\n        }\n      }\n    } else {\n      return <EntityTypeIcon type={entityType} includeTooltip={false} />\n    }\n  }\n\n  // return the default (File icon)\n  return <EntityTypeIcon type={EntityType.FILE} includeTooltip={false} />\n}\n","import React, { useMemo } from 'react'\nimport {\n  isVersionableEntityType,\n  convertToEntityType,\n} from '../../utils/functions/EntityTypeUtils'\nimport { PRODUCTION_ENDPOINT_CONFIG } from '../../utils/functions/getEndpoint'\nimport { EntityHeader } from '../../utils/synapseTypes'\nimport { Tooltip } from '@mui/material'\nimport { ProvenanceEntityIcon } from './ProvenanceEntityIcon'\n\nexport const EntityNodeLabel = (data: EntityHeader) => {\n  const targetVersionNumberString = data.versionNumber\n    ? `.${data.versionNumber}`\n    : ''\n  const entityVersionString = `${data.id}${targetVersionNumberString}`\n  return useMemo(\n    () => (\n      <>\n        <div>\n          <ProvenanceEntityIcon entityHeader={data} />\n        </div>\n        <>\n          <div>\n            <Tooltip title={data.name} placement=\"top\" enterNextDelay={300}>\n              <a\n                href={`${PRODUCTION_ENDPOINT_CONFIG.PORTAL}#!Synapse:${entityVersionString}`}\n              >\n                {data.name}\n              </a>\n            </Tooltip>\n          </div>\n          {isVersionableEntityType(convertToEntityType(data.type)) && (\n            <div>\n              <div>v.{data.versionNumber}</div>\n              {!data.isLatestVersion && <div>(old version)</div>}\n            </div>\n          )}\n        </>\n      </>\n    ),\n    [data, entityVersionString],\n  )\n}\n","/* global define */\n\n(function (root, pluralize) {\n  /* istanbul ignore else */\n  if (typeof require === 'function' && typeof exports === 'object' && typeof module === 'object') {\n    // Node.\n    module.exports = pluralize();\n  } else if (typeof define === 'function' && define.amd) {\n    // AMD, registers as an anonymous module.\n    define(function () {\n      return pluralize();\n    });\n  } else {\n    // Browser global.\n    root.pluralize = pluralize();\n  }\n})(this, function () {\n  // Rule storage - pluralize and singularize need to be run sequentially,\n  // while other rules can be optimized using an object for instant lookups.\n  var pluralRules = [];\n  var singularRules = [];\n  var uncountables = {};\n  var irregularPlurals = {};\n  var irregularSingles = {};\n\n  /**\n   * Sanitize a pluralization rule to a usable regular expression.\n   *\n   * @param  {(RegExp|string)} rule\n   * @return {RegExp}\n   */\n  function sanitizeRule (rule) {\n    if (typeof rule === 'string') {\n      return new RegExp('^' + rule + '$', 'i');\n    }\n\n    return rule;\n  }\n\n  /**\n   * Pass in a word token to produce a function that can replicate the case on\n   * another word.\n   *\n   * @param  {string}   word\n   * @param  {string}   token\n   * @return {Function}\n   */\n  function restoreCase (word, token) {\n    // Tokens are an exact match.\n    if (word === token) return token;\n\n    // Lower cased words. E.g. \"hello\".\n    if (word === word.toLowerCase()) return token.toLowerCase();\n\n    // Upper cased words. E.g. \"WHISKY\".\n    if (word === word.toUpperCase()) return token.toUpperCase();\n\n    // Title cased words. E.g. \"Title\".\n    if (word[0] === word[0].toUpperCase()) {\n      return token.charAt(0).toUpperCase() + token.substr(1).toLowerCase();\n    }\n\n    // Lower cased words. E.g. \"test\".\n    return token.toLowerCase();\n  }\n\n  /**\n   * Interpolate a regexp string.\n   *\n   * @param  {string} str\n   * @param  {Array}  args\n   * @return {string}\n   */\n  function interpolate (str, args) {\n    return str.replace(/\\$(\\d{1,2})/g, function (match, index) {\n      return args[index] || '';\n    });\n  }\n\n  /**\n   * Replace a word using a rule.\n   *\n   * @param  {string} word\n   * @param  {Array}  rule\n   * @return {string}\n   */\n  function replace (word, rule) {\n    return word.replace(rule[0], function (match, index) {\n      var result = interpolate(rule[1], arguments);\n\n      if (match === '') {\n        return restoreCase(word[index - 1], result);\n      }\n\n      return restoreCase(match, result);\n    });\n  }\n\n  /**\n   * Sanitize a word by passing in the word and sanitization rules.\n   *\n   * @param  {string}   token\n   * @param  {string}   word\n   * @param  {Array}    rules\n   * @return {string}\n   */\n  function sanitizeWord (token, word, rules) {\n    // Empty string or doesn't need fixing.\n    if (!token.length || uncountables.hasOwnProperty(token)) {\n      return word;\n    }\n\n    var len = rules.length;\n\n    // Iterate over the sanitization rules and use the first one to match.\n    while (len--) {\n      var rule = rules[len];\n\n      if (rule[0].test(word)) return replace(word, rule);\n    }\n\n    return word;\n  }\n\n  /**\n   * Replace a word with the updated word.\n   *\n   * @param  {Object}   replaceMap\n   * @param  {Object}   keepMap\n   * @param  {Array}    rules\n   * @return {Function}\n   */\n  function replaceWord (replaceMap, keepMap, rules) {\n    return function (word) {\n      // Get the correct token and case restoration functions.\n      var token = word.toLowerCase();\n\n      // Check against the keep object map.\n      if (keepMap.hasOwnProperty(token)) {\n        return restoreCase(word, token);\n      }\n\n      // Check against the replacement map for a direct word replacement.\n      if (replaceMap.hasOwnProperty(token)) {\n        return restoreCase(word, replaceMap[token]);\n      }\n\n      // Run all the rules against the word.\n      return sanitizeWord(token, word, rules);\n    };\n  }\n\n  /**\n   * Check if a word is part of the map.\n   */\n  function checkWord (replaceMap, keepMap, rules, bool) {\n    return function (word) {\n      var token = word.toLowerCase();\n\n      if (keepMap.hasOwnProperty(token)) return true;\n      if (replaceMap.hasOwnProperty(token)) return false;\n\n      return sanitizeWord(token, token, rules) === token;\n    };\n  }\n\n  /**\n   * Pluralize or singularize a word based on the passed in count.\n   *\n   * @param  {string}  word      The word to pluralize\n   * @param  {number}  count     How many of the word exist\n   * @param  {boolean} inclusive Whether to prefix with the number (e.g. 3 ducks)\n   * @return {string}\n   */\n  function pluralize (word, count, inclusive) {\n    var pluralized = count === 1\n      ? pluralize.singular(word) : pluralize.plural(word);\n\n    return (inclusive ? count + ' ' : '') + pluralized;\n  }\n\n  /**\n   * Pluralize a word.\n   *\n   * @type {Function}\n   */\n  pluralize.plural = replaceWord(\n    irregularSingles, irregularPlurals, pluralRules\n  );\n\n  /**\n   * Check if a word is plural.\n   *\n   * @type {Function}\n   */\n  pluralize.isPlural = checkWord(\n    irregularSingles, irregularPlurals, pluralRules\n  );\n\n  /**\n   * Singularize a word.\n   *\n   * @type {Function}\n   */\n  pluralize.singular = replaceWord(\n    irregularPlurals, irregularSingles, singularRules\n  );\n\n  /**\n   * Check if a word is singular.\n   *\n   * @type {Function}\n   */\n  pluralize.isSingular = checkWord(\n    irregularPlurals, irregularSingles, singularRules\n  );\n\n  /**\n   * Add a pluralization rule to the collection.\n   *\n   * @param {(string|RegExp)} rule\n   * @param {string}          replacement\n   */\n  pluralize.addPluralRule = function (rule, replacement) {\n    pluralRules.push([sanitizeRule(rule), replacement]);\n  };\n\n  /**\n   * Add a singularization rule to the collection.\n   *\n   * @param {(string|RegExp)} rule\n   * @param {string}          replacement\n   */\n  pluralize.addSingularRule = function (rule, replacement) {\n    singularRules.push([sanitizeRule(rule), replacement]);\n  };\n\n  /**\n   * Add an uncountable word rule.\n   *\n   * @param {(string|RegExp)} word\n   */\n  pluralize.addUncountableRule = function (word) {\n    if (typeof word === 'string') {\n      uncountables[word.toLowerCase()] = true;\n      return;\n    }\n\n    // Set singular and plural references for the word.\n    pluralize.addPluralRule(word, '$0');\n    pluralize.addSingularRule(word, '$0');\n  };\n\n  /**\n   * Add an irregular word definition.\n   *\n   * @param {string} single\n   * @param {string} plural\n   */\n  pluralize.addIrregularRule = function (single, plural) {\n    plural = plural.toLowerCase();\n    single = single.toLowerCase();\n\n    irregularSingles[single] = plural;\n    irregularPlurals[plural] = single;\n  };\n\n  /**\n   * Irregular rules.\n   */\n  [\n    // Pronouns.\n    ['I', 'we'],\n    ['me', 'us'],\n    ['he', 'they'],\n    ['she', 'they'],\n    ['them', 'them'],\n    ['myself', 'ourselves'],\n    ['yourself', 'yourselves'],\n    ['itself', 'themselves'],\n    ['herself', 'themselves'],\n    ['himself', 'themselves'],\n    ['themself', 'themselves'],\n    ['is', 'are'],\n    ['was', 'were'],\n    ['has', 'have'],\n    ['this', 'these'],\n    ['that', 'those'],\n    // Words ending in with a consonant and `o`.\n    ['echo', 'echoes'],\n    ['dingo', 'dingoes'],\n    ['volcano', 'volcanoes'],\n    ['tornado', 'tornadoes'],\n    ['torpedo', 'torpedoes'],\n    // Ends with `us`.\n    ['genus', 'genera'],\n    ['viscus', 'viscera'],\n    // Ends with `ma`.\n    ['stigma', 'stigmata'],\n    ['stoma', 'stomata'],\n    ['dogma', 'dogmata'],\n    ['lemma', 'lemmata'],\n    ['schema', 'schemata'],\n    ['anathema', 'anathemata'],\n    // Other irregular rules.\n    ['ox', 'oxen'],\n    ['axe', 'axes'],\n    ['die', 'dice'],\n    ['yes', 'yeses'],\n    ['foot', 'feet'],\n    ['eave', 'eaves'],\n    ['goose', 'geese'],\n    ['tooth', 'teeth'],\n    ['quiz', 'quizzes'],\n    ['human', 'humans'],\n    ['proof', 'proofs'],\n    ['carve', 'carves'],\n    ['valve', 'valves'],\n    ['looey', 'looies'],\n    ['thief', 'thieves'],\n    ['groove', 'grooves'],\n    ['pickaxe', 'pickaxes'],\n    ['passerby', 'passersby']\n  ].forEach(function (rule) {\n    return pluralize.addIrregularRule(rule[0], rule[1]);\n  });\n\n  /**\n   * Pluralization rules.\n   */\n  [\n    [/s?$/i, 's'],\n    [/[^\\u0000-\\u007F]$/i, '$0'],\n    [/([^aeiou]ese)$/i, '$1'],\n    [/(ax|test)is$/i, '$1es'],\n    [/(alias|[^aou]us|t[lm]as|gas|ris)$/i, '$1es'],\n    [/(e[mn]u)s?$/i, '$1s'],\n    [/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i, '$1'],\n    [/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i, '$1i'],\n    [/(alumn|alg|vertebr)(?:a|ae)$/i, '$1ae'],\n    [/(seraph|cherub)(?:im)?$/i, '$1im'],\n    [/(her|at|gr)o$/i, '$1oes'],\n    [/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i, '$1a'],\n    [/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i, '$1a'],\n    [/sis$/i, 'ses'],\n    [/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i, '$1$2ves'],\n    [/([^aeiouy]|qu)y$/i, '$1ies'],\n    [/([^ch][ieo][ln])ey$/i, '$1ies'],\n    [/(x|ch|ss|sh|zz)$/i, '$1es'],\n    [/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i, '$1ices'],\n    [/\\b((?:tit)?m|l)(?:ice|ouse)$/i, '$1ice'],\n    [/(pe)(?:rson|ople)$/i, '$1ople'],\n    [/(child)(?:ren)?$/i, '$1ren'],\n    [/eaux$/i, '$0'],\n    [/m[ae]n$/i, 'men'],\n    ['thou', 'you']\n  ].forEach(function (rule) {\n    return pluralize.addPluralRule(rule[0], rule[1]);\n  });\n\n  /**\n   * Singularization rules.\n   */\n  [\n    [/s$/i, ''],\n    [/(ss)$/i, '$1'],\n    [/(wi|kni|(?:after|half|high|low|mid|non|night|[^\\w]|^)li)ves$/i, '$1fe'],\n    [/(ar|(?:wo|[ae])l|[eo][ao])ves$/i, '$1f'],\n    [/ies$/i, 'y'],\n    [/\\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i, '$1ie'],\n    [/\\b(mon|smil)ies$/i, '$1ey'],\n    [/\\b((?:tit)?m|l)ice$/i, '$1ouse'],\n    [/(seraph|cherub)im$/i, '$1'],\n    [/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i, '$1'],\n    [/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i, '$1sis'],\n    [/(movie|twelve|abuse|e[mn]u)s$/i, '$1'],\n    [/(test)(?:is|es)$/i, '$1is'],\n    [/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i, '$1us'],\n    [/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i, '$1um'],\n    [/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i, '$1on'],\n    [/(alumn|alg|vertebr)ae$/i, '$1a'],\n    [/(cod|mur|sil|vert|ind)ices$/i, '$1ex'],\n    [/(matr|append)ices$/i, '$1ix'],\n    [/(pe)(rson|ople)$/i, '$1rson'],\n    [/(child)ren$/i, '$1'],\n    [/(eau)x?$/i, '$1'],\n    [/men$/i, 'man']\n  ].forEach(function (rule) {\n    return pluralize.addSingularRule(rule[0], rule[1]);\n  });\n\n  /**\n   * Uncountable rules.\n   */\n  [\n    // Singular words with no plurals.\n    'adulthood',\n    'advice',\n    'agenda',\n    'aid',\n    'aircraft',\n    'alcohol',\n    'ammo',\n    'analytics',\n    'anime',\n    'athletics',\n    'audio',\n    'bison',\n    'blood',\n    'bream',\n    'buffalo',\n    'butter',\n    'carp',\n    'cash',\n    'chassis',\n    'chess',\n    'clothing',\n    'cod',\n    'commerce',\n    'cooperation',\n    'corps',\n    'debris',\n    'diabetes',\n    'digestion',\n    'elk',\n    'energy',\n    'equipment',\n    'excretion',\n    'expertise',\n    'firmware',\n    'flounder',\n    'fun',\n    'gallows',\n    'garbage',\n    'graffiti',\n    'hardware',\n    'headquarters',\n    'health',\n    'herpes',\n    'highjinks',\n    'homework',\n    'housework',\n    'information',\n    'jeans',\n    'justice',\n    'kudos',\n    'labour',\n    'literature',\n    'machinery',\n    'mackerel',\n    'mail',\n    'media',\n    'mews',\n    'moose',\n    'music',\n    'mud',\n    'manga',\n    'news',\n    'only',\n    'personnel',\n    'pike',\n    'plankton',\n    'pliers',\n    'police',\n    'pollution',\n    'premises',\n    'rain',\n    'research',\n    'rice',\n    'salmon',\n    'scissors',\n    'series',\n    'sewage',\n    'shambles',\n    'shrimp',\n    'software',\n    'species',\n    'staff',\n    'swine',\n    'tennis',\n    'traffic',\n    'transportation',\n    'trout',\n    'tuna',\n    'wealth',\n    'welfare',\n    'whiting',\n    'wildebeest',\n    'wildlife',\n    'you',\n    /pok[e]mon$/i,\n    // Regexes.\n    /[^aeiou]ese$/i, // \"chinese\", \"japanese\"\n    /deer$/i, // \"deer\", \"reindeer\"\n    /fish$/i, // \"fish\", \"blowfish\", \"angelfish\"\n    /measles$/i,\n    /o[iu]s$/i, // \"carnivorous\"\n    /pox$/i, // \"chickpox\", \"smallpox\"\n    /sheep$/i\n  ].forEach(pluralize.addUncountableRule);\n\n  return pluralize;\n});\n","import pluralize from 'pluralize'\nimport React, { useMemo } from 'react'\nimport { EntityHeader } from '../../utils/synapseTypes'\n\nexport type ExpandGraphNodeDataProps = {\n  entityHeader: EntityHeader\n  itemCount: number\n}\nexport const ExpandGraphNodeLabel = (props: ExpandGraphNodeDataProps) => {\n  const { itemCount } = props\n  return useMemo(\n    () => (\n      <>\n        <a>\n          Show {itemCount} {pluralize('item', itemCount)}&hellip;\n        </a>\n      </>\n    ),\n    [itemCount],\n  )\n}\n","import React from 'react'\nimport IconSvg, { Icon } from '../IconSvg'\n\nexport type ProvenanceExternalIconProps = {\n  url: string\n}\nconst githubRegex = /^(.+?\\.)?github\\.com$/\nconst githubusercontentRegex = /^(.+?\\.)?githubusercontent\\.com$/\n\nexport const ProvenanceExternalIcon = (props: ProvenanceExternalIconProps) => {\n  const { url } = props\n  let icon: Icon = 'link'\n  const parsedUrl = new URL(url)\n  const { hostname } = parsedUrl\n\n  if (hostname.match(githubRegex) || hostname.match(githubusercontentRegex)) {\n    icon = 'github'\n  }\n  // else if (url.includes(\"genomespace.org\")) {\n  //   icon = 'genomespace'\n  // }\n\n  // return the default (File icon)\n  return <IconSvg icon={icon} />\n}\n","import React, { useMemo } from 'react'\nimport { UsedURL } from '../../utils/synapseTypes/Provenance/Provenance'\nimport { Tooltip } from '@mui/material'\nimport { ProvenanceExternalIcon } from './ProvenanceExternalIcon'\n\nexport const ExternalGraphNodeLabel = (data: UsedURL) => {\n  return useMemo(\n    () => (\n      <>\n        <div>\n          <ProvenanceExternalIcon url={data.url} />\n        </div>\n        <Tooltip title={data.name} placement=\"top\" enterNextDelay={300}>\n          <a href={data.url} rel=\"noopener noreferrer\">\n            {data.name}\n          </a>\n        </Tooltip>\n      </>\n    ),\n    [data.name, data.url],\n  )\n}\n","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * Creates a shallow clone of `value`.\n *\n * **Note:** This method is loosely based on the\n * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n * and supports cloning arrays, array buffers, booleans, date objects, maps,\n * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n * arrays. The own enumerable properties of `arguments` objects are cloned\n * as plain objects. An empty object is returned for uncloneable values such\n * as error objects, functions, DOM nodes, and WeakMaps.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to clone.\n * @returns {*} Returns the cloned value.\n * @see _.cloneDeep\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var shallow = _.clone(objects);\n * console.log(shallow[0] === objects[0]);\n * // => true\n */\nfunction clone(value) {\n  return baseClone(value, CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = clone;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","var identity = require('./identity');\n\n/**\n * Casts `value` to `identity` if it's not a function.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Function} Returns cast function.\n */\nfunction castFunction(value) {\n  return typeof value == 'function' ? value : identity;\n}\n\nmodule.exports = castFunction;\n","var arrayEach = require('./_arrayEach'),\n    baseEach = require('./_baseEach'),\n    castFunction = require('./_castFunction'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection` and invokes `iteratee` for each element.\n * The iteratee is invoked with three arguments: (value, index|key, collection).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n * property are iterated like arrays. To avoid this behavior use `_.forIn`\n * or `_.forOwn` for object iteration.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias each\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n * @see _.forEachRight\n * @example\n *\n * _.forEach([1, 2], function(value) {\n *   console.log(value);\n * });\n * // => Logs `1` then `2`.\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n */\nfunction forEach(collection, iteratee) {\n  var func = isArray(collection) ? arrayEach : baseEach;\n  return func(collection, castFunction(iteratee));\n}\n\nmodule.exports = forEach;\n","module.exports = require('./forEach');\n","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function(value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseFilter;\n","var arrayFilter = require('./_arrayFilter'),\n    baseFilter = require('./_baseFilter'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n *\n * // Combining several predicates using `_.overEvery` or `_.overSome`.\n * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n * // => objects for ['fred', 'barney']\n */\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = filter;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  return object != null && hasOwnProperty.call(object, key);\n}\n\nmodule.exports = baseHas;\n","var baseHas = require('./_baseHas'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct property of `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = { 'a': { 'b': 2 } };\n * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.has(object, 'a');\n * // => true\n *\n * _.has(object, 'a.b');\n * // => true\n *\n * _.has(object, ['a', 'b']);\n * // => true\n *\n * _.has(other, 'a');\n * // => false\n */\nfunction has(object, path) {\n  return object != null && hasPath(object, path, baseHas);\n}\n\nmodule.exports = has;\n","/**\n * Checks if `value` is `undefined`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n * @example\n *\n * _.isUndefined(void 0);\n * // => true\n *\n * _.isUndefined(null);\n * // => false\n */\nfunction isUndefined(value) {\n  return value === undefined;\n}\n\nmodule.exports = isUndefined;\n","var baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayReduce;\n","/**\n * The base implementation of `_.reduce` and `_.reduceRight`, without support\n * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} accumulator The initial value.\n * @param {boolean} initAccum Specify using the first or last element of\n *  `collection` as the initial value.\n * @param {Function} eachFunc The function to iterate over `collection`.\n * @returns {*} Returns the accumulated value.\n */\nfunction baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n  eachFunc(collection, function(value, index, collection) {\n    accumulator = initAccum\n      ? (initAccum = false, value)\n      : iteratee(accumulator, value, index, collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseReduce;\n","var arrayReduce = require('./_arrayReduce'),\n    baseEach = require('./_baseEach'),\n    baseIteratee = require('./_baseIteratee'),\n    baseReduce = require('./_baseReduce'),\n    isArray = require('./isArray');\n\n/**\n * Reduces `collection` to a value which is the accumulated result of running\n * each element in `collection` thru `iteratee`, where each successive\n * invocation is supplied the return value of the previous. If `accumulator`\n * is not given, the first element of `collection` is used as the initial\n * value. The iteratee is invoked with four arguments:\n * (accumulator, value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.reduce`, `_.reduceRight`, and `_.transform`.\n *\n * The guarded methods are:\n * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n * and `sortBy`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @returns {*} Returns the accumulated value.\n * @see _.reduceRight\n * @example\n *\n * _.reduce([1, 2], function(sum, n) {\n *   return sum + n;\n * }, 0);\n * // => 3\n *\n * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n *   return result;\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n */\nfunction reduce(collection, iteratee, accumulator) {\n  var func = isArray(collection) ? arrayReduce : baseReduce,\n      initAccum = arguments.length < 3;\n\n  return func(collection, baseIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n}\n\nmodule.exports = reduce;\n","var baseProperty = require('./_baseProperty');\n\n/**\n * Gets the size of an ASCII `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nvar asciiSize = baseProperty('length');\n\nmodule.exports = asciiSize;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\nmodule.exports = hasUnicode;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Gets the size of a Unicode `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nfunction unicodeSize(string) {\n  var result = reUnicode.lastIndex = 0;\n  while (reUnicode.test(string)) {\n    ++result;\n  }\n  return result;\n}\n\nmodule.exports = unicodeSize;\n","var asciiSize = require('./_asciiSize'),\n    hasUnicode = require('./_hasUnicode'),\n    unicodeSize = require('./_unicodeSize');\n\n/**\n * Gets the number of symbols in `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the string size.\n */\nfunction stringSize(string) {\n  return hasUnicode(string)\n    ? unicodeSize(string)\n    : asciiSize(string);\n}\n\nmodule.exports = stringSize;\n","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArrayLike = require('./isArrayLike'),\n    isString = require('./isString'),\n    stringSize = require('./_stringSize');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/**\n * Gets the size of `collection` by returning its length for array-like\n * values or the number of own enumerable string keyed properties for objects.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object|string} collection The collection to inspect.\n * @returns {number} Returns the collection size.\n * @example\n *\n * _.size([1, 2, 3]);\n * // => 3\n *\n * _.size({ 'a': 1, 'b': 2 });\n * // => 2\n *\n * _.size('pebbles');\n * // => 7\n */\nfunction size(collection) {\n  if (collection == null) {\n    return 0;\n  }\n  if (isArrayLike(collection)) {\n    return isString(collection) ? stringSize(collection) : collection.length;\n  }\n  var tag = getTag(collection);\n  if (tag == mapTag || tag == setTag) {\n    return collection.size;\n  }\n  return baseKeys(collection).length;\n}\n\nmodule.exports = size;\n","var arrayEach = require('./_arrayEach'),\n    baseCreate = require('./_baseCreate'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee'),\n    getPrototype = require('./_getPrototype'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isTypedArray = require('./isTypedArray');\n\n/**\n * An alternative to `_.reduce`; this method transforms `object` to a new\n * `accumulator` object which is the result of running each of its own\n * enumerable string keyed properties thru `iteratee`, with each invocation\n * potentially mutating the `accumulator` object. If `accumulator` is not\n * provided, a new object with the same `[[Prototype]]` will be used. The\n * iteratee is invoked with four arguments: (accumulator, value, key, object).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @since 1.3.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The custom accumulator value.\n * @returns {*} Returns the accumulated value.\n * @example\n *\n * _.transform([2, 3, 4], function(result, n) {\n *   result.push(n *= n);\n *   return n % 2 == 0;\n * }, []);\n * // => [4, 9]\n *\n * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] }\n */\nfunction transform(object, iteratee, accumulator) {\n  var isArr = isArray(object),\n      isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n  iteratee = baseIteratee(iteratee, 4);\n  if (accumulator == null) {\n    var Ctor = object && object.constructor;\n    if (isArrLike) {\n      accumulator = isArr ? new Ctor : [];\n    }\n    else if (isObject(object)) {\n      accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n    }\n    else {\n      accumulator = {};\n    }\n  }\n  (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n    return iteratee(accumulator, value, index, object);\n  });\n  return accumulator;\n}\n\nmodule.exports = transform;\n","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nmodule.exports = baseValues;\n","var baseValues = require('./_baseValues'),\n    keys = require('./keys');\n\n/**\n * Creates an array of the own enumerable string keyed property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object == null ? [] : baseValues(object, keys(object));\n}\n\nmodule.exports = values;\n","/* global window */\n\nvar lodash;\n\nif (typeof require === \"function\") {\n  try {\n    lodash = {\n      clone: require(\"lodash/clone\"),\n      constant: require(\"lodash/constant\"),\n      each: require(\"lodash/each\"),\n      filter: require(\"lodash/filter\"),\n      has:  require(\"lodash/has\"),\n      isArray: require(\"lodash/isArray\"),\n      isEmpty: require(\"lodash/isEmpty\"),\n      isFunction: require(\"lodash/isFunction\"),\n      isUndefined: require(\"lodash/isUndefined\"),\n      keys: require(\"lodash/keys\"),\n      map: require(\"lodash/map\"),\n      reduce: require(\"lodash/reduce\"),\n      size: require(\"lodash/size\"),\n      transform: require(\"lodash/transform\"),\n      union: require(\"lodash/union\"),\n      values: require(\"lodash/values\")\n    };\n  } catch (e) {\n    // continue regardless of error\n  }\n}\n\nif (!lodash) {\n  lodash = window._;\n}\n\nmodule.exports = lodash;\n","\"use strict\";\n\nvar _ = require(\"./lodash\");\n\nmodule.exports = Graph;\n\nvar DEFAULT_EDGE_NAME = \"\\x00\";\nvar GRAPH_NODE = \"\\x00\";\nvar EDGE_KEY_DELIM = \"\\x01\";\n\n// Implementation notes:\n//\n//  * Node id query functions should return string ids for the nodes\n//  * Edge id query functions should return an \"edgeObj\", edge object, that is\n//    composed of enough information to uniquely identify an edge: {v, w, name}.\n//  * Internally we use an \"edgeId\", a stringified form of the edgeObj, to\n//    reference edges. This is because we need a performant way to look these\n//    edges up and, object properties, which have string keys, are the closest\n//    we're going to get to a performant hashtable in JavaScript.\n\nfunction Graph(opts) {\n  this._isDirected = _.has(opts, \"directed\") ? opts.directed : true;\n  this._isMultigraph = _.has(opts, \"multigraph\") ? opts.multigraph : false;\n  this._isCompound = _.has(opts, \"compound\") ? opts.compound : false;\n\n  // Label for the graph itself\n  this._label = undefined;\n\n  // Defaults to be set when creating a new node\n  this._defaultNodeLabelFn = _.constant(undefined);\n\n  // Defaults to be set when creating a new edge\n  this._defaultEdgeLabelFn = _.constant(undefined);\n\n  // v -> label\n  this._nodes = {};\n\n  if (this._isCompound) {\n    // v -> parent\n    this._parent = {};\n\n    // v -> children\n    this._children = {};\n    this._children[GRAPH_NODE] = {};\n  }\n\n  // v -> edgeObj\n  this._in = {};\n\n  // u -> v -> Number\n  this._preds = {};\n\n  // v -> edgeObj\n  this._out = {};\n\n  // v -> w -> Number\n  this._sucs = {};\n\n  // e -> edgeObj\n  this._edgeObjs = {};\n\n  // e -> label\n  this._edgeLabels = {};\n}\n\n/* Number of nodes in the graph. Should only be changed by the implementation. */\nGraph.prototype._nodeCount = 0;\n\n/* Number of edges in the graph. Should only be changed by the implementation. */\nGraph.prototype._edgeCount = 0;\n\n\n/* === Graph functions ========= */\n\nGraph.prototype.isDirected = function() {\n  return this._isDirected;\n};\n\nGraph.prototype.isMultigraph = function() {\n  return this._isMultigraph;\n};\n\nGraph.prototype.isCompound = function() {\n  return this._isCompound;\n};\n\nGraph.prototype.setGraph = function(label) {\n  this._label = label;\n  return this;\n};\n\nGraph.prototype.graph = function() {\n  return this._label;\n};\n\n\n/* === Node functions ========== */\n\nGraph.prototype.setDefaultNodeLabel = function(newDefault) {\n  if (!_.isFunction(newDefault)) {\n    newDefault = _.constant(newDefault);\n  }\n  this._defaultNodeLabelFn = newDefault;\n  return this;\n};\n\nGraph.prototype.nodeCount = function() {\n  return this._nodeCount;\n};\n\nGraph.prototype.nodes = function() {\n  return _.keys(this._nodes);\n};\n\nGraph.prototype.sources = function() {\n  var self = this;\n  return _.filter(this.nodes(), function(v) {\n    return _.isEmpty(self._in[v]);\n  });\n};\n\nGraph.prototype.sinks = function() {\n  var self = this;\n  return _.filter(this.nodes(), function(v) {\n    return _.isEmpty(self._out[v]);\n  });\n};\n\nGraph.prototype.setNodes = function(vs, value) {\n  var args = arguments;\n  var self = this;\n  _.each(vs, function(v) {\n    if (args.length > 1) {\n      self.setNode(v, value);\n    } else {\n      self.setNode(v);\n    }\n  });\n  return this;\n};\n\nGraph.prototype.setNode = function(v, value) {\n  if (_.has(this._nodes, v)) {\n    if (arguments.length > 1) {\n      this._nodes[v] = value;\n    }\n    return this;\n  }\n\n  this._nodes[v] = arguments.length > 1 ? value : this._defaultNodeLabelFn(v);\n  if (this._isCompound) {\n    this._parent[v] = GRAPH_NODE;\n    this._children[v] = {};\n    this._children[GRAPH_NODE][v] = true;\n  }\n  this._in[v] = {};\n  this._preds[v] = {};\n  this._out[v] = {};\n  this._sucs[v] = {};\n  ++this._nodeCount;\n  return this;\n};\n\nGraph.prototype.node = function(v) {\n  return this._nodes[v];\n};\n\nGraph.prototype.hasNode = function(v) {\n  return _.has(this._nodes, v);\n};\n\nGraph.prototype.removeNode =  function(v) {\n  var self = this;\n  if (_.has(this._nodes, v)) {\n    var removeEdge = function(e) { self.removeEdge(self._edgeObjs[e]); };\n    delete this._nodes[v];\n    if (this._isCompound) {\n      this._removeFromParentsChildList(v);\n      delete this._parent[v];\n      _.each(this.children(v), function(child) {\n        self.setParent(child);\n      });\n      delete this._children[v];\n    }\n    _.each(_.keys(this._in[v]), removeEdge);\n    delete this._in[v];\n    delete this._preds[v];\n    _.each(_.keys(this._out[v]), removeEdge);\n    delete this._out[v];\n    delete this._sucs[v];\n    --this._nodeCount;\n  }\n  return this;\n};\n\nGraph.prototype.setParent = function(v, parent) {\n  if (!this._isCompound) {\n    throw new Error(\"Cannot set parent in a non-compound graph\");\n  }\n\n  if (_.isUndefined(parent)) {\n    parent = GRAPH_NODE;\n  } else {\n    // Coerce parent to string\n    parent += \"\";\n    for (var ancestor = parent;\n      !_.isUndefined(ancestor);\n      ancestor = this.parent(ancestor)) {\n      if (ancestor === v) {\n        throw new Error(\"Setting \" + parent+ \" as parent of \" + v +\n                        \" would create a cycle\");\n      }\n    }\n\n    this.setNode(parent);\n  }\n\n  this.setNode(v);\n  this._removeFromParentsChildList(v);\n  this._parent[v] = parent;\n  this._children[parent][v] = true;\n  return this;\n};\n\nGraph.prototype._removeFromParentsChildList = function(v) {\n  delete this._children[this._parent[v]][v];\n};\n\nGraph.prototype.parent = function(v) {\n  if (this._isCompound) {\n    var parent = this._parent[v];\n    if (parent !== GRAPH_NODE) {\n      return parent;\n    }\n  }\n};\n\nGraph.prototype.children = function(v) {\n  if (_.isUndefined(v)) {\n    v = GRAPH_NODE;\n  }\n\n  if (this._isCompound) {\n    var children = this._children[v];\n    if (children) {\n      return _.keys(children);\n    }\n  } else if (v === GRAPH_NODE) {\n    return this.nodes();\n  } else if (this.hasNode(v)) {\n    return [];\n  }\n};\n\nGraph.prototype.predecessors = function(v) {\n  var predsV = this._preds[v];\n  if (predsV) {\n    return _.keys(predsV);\n  }\n};\n\nGraph.prototype.successors = function(v) {\n  var sucsV = this._sucs[v];\n  if (sucsV) {\n    return _.keys(sucsV);\n  }\n};\n\nGraph.prototype.neighbors = function(v) {\n  var preds = this.predecessors(v);\n  if (preds) {\n    return _.union(preds, this.successors(v));\n  }\n};\n\nGraph.prototype.isLeaf = function (v) {\n  var neighbors;\n  if (this.isDirected()) {\n    neighbors = this.successors(v);\n  } else {\n    neighbors = this.neighbors(v);\n  }\n  return neighbors.length === 0;\n};\n\nGraph.prototype.filterNodes = function(filter) {\n  var copy = new this.constructor({\n    directed: this._isDirected,\n    multigraph: this._isMultigraph,\n    compound: this._isCompound\n  });\n\n  copy.setGraph(this.graph());\n\n  var self = this;\n  _.each(this._nodes, function(value, v) {\n    if (filter(v)) {\n      copy.setNode(v, value);\n    }\n  });\n\n  _.each(this._edgeObjs, function(e) {\n    if (copy.hasNode(e.v) && copy.hasNode(e.w)) {\n      copy.setEdge(e, self.edge(e));\n    }\n  });\n\n  var parents = {};\n  function findParent(v) {\n    var parent = self.parent(v);\n    if (parent === undefined || copy.hasNode(parent)) {\n      parents[v] = parent;\n      return parent;\n    } else if (parent in parents) {\n      return parents[parent];\n    } else {\n      return findParent(parent);\n    }\n  }\n\n  if (this._isCompound) {\n    _.each(copy.nodes(), function(v) {\n      copy.setParent(v, findParent(v));\n    });\n  }\n\n  return copy;\n};\n\n/* === Edge functions ========== */\n\nGraph.prototype.setDefaultEdgeLabel = function(newDefault) {\n  if (!_.isFunction(newDefault)) {\n    newDefault = _.constant(newDefault);\n  }\n  this._defaultEdgeLabelFn = newDefault;\n  return this;\n};\n\nGraph.prototype.edgeCount = function() {\n  return this._edgeCount;\n};\n\nGraph.prototype.edges = function() {\n  return _.values(this._edgeObjs);\n};\n\nGraph.prototype.setPath = function(vs, value) {\n  var self = this;\n  var args = arguments;\n  _.reduce(vs, function(v, w) {\n    if (args.length > 1) {\n      self.setEdge(v, w, value);\n    } else {\n      self.setEdge(v, w);\n    }\n    return w;\n  });\n  return this;\n};\n\n/*\n * setEdge(v, w, [value, [name]])\n * setEdge({ v, w, [name] }, [value])\n */\nGraph.prototype.setEdge = function() {\n  var v, w, name, value;\n  var valueSpecified = false;\n  var arg0 = arguments[0];\n\n  if (typeof arg0 === \"object\" && arg0 !== null && \"v\" in arg0) {\n    v = arg0.v;\n    w = arg0.w;\n    name = arg0.name;\n    if (arguments.length === 2) {\n      value = arguments[1];\n      valueSpecified = true;\n    }\n  } else {\n    v = arg0;\n    w = arguments[1];\n    name = arguments[3];\n    if (arguments.length > 2) {\n      value = arguments[2];\n      valueSpecified = true;\n    }\n  }\n\n  v = \"\" + v;\n  w = \"\" + w;\n  if (!_.isUndefined(name)) {\n    name = \"\" + name;\n  }\n\n  var e = edgeArgsToId(this._isDirected, v, w, name);\n  if (_.has(this._edgeLabels, e)) {\n    if (valueSpecified) {\n      this._edgeLabels[e] = value;\n    }\n    return this;\n  }\n\n  if (!_.isUndefined(name) && !this._isMultigraph) {\n    throw new Error(\"Cannot set a named edge when isMultigraph = false\");\n  }\n\n  // It didn't exist, so we need to create it.\n  // First ensure the nodes exist.\n  this.setNode(v);\n  this.setNode(w);\n\n  this._edgeLabels[e] = valueSpecified ? value : this._defaultEdgeLabelFn(v, w, name);\n\n  var edgeObj = edgeArgsToObj(this._isDirected, v, w, name);\n  // Ensure we add undirected edges in a consistent way.\n  v = edgeObj.v;\n  w = edgeObj.w;\n\n  Object.freeze(edgeObj);\n  this._edgeObjs[e] = edgeObj;\n  incrementOrInitEntry(this._preds[w], v);\n  incrementOrInitEntry(this._sucs[v], w);\n  this._in[w][e] = edgeObj;\n  this._out[v][e] = edgeObj;\n  this._edgeCount++;\n  return this;\n};\n\nGraph.prototype.edge = function(v, w, name) {\n  var e = (arguments.length === 1\n    ? edgeObjToId(this._isDirected, arguments[0])\n    : edgeArgsToId(this._isDirected, v, w, name));\n  return this._edgeLabels[e];\n};\n\nGraph.prototype.hasEdge = function(v, w, name) {\n  var e = (arguments.length === 1\n    ? edgeObjToId(this._isDirected, arguments[0])\n    : edgeArgsToId(this._isDirected, v, w, name));\n  return _.has(this._edgeLabels, e);\n};\n\nGraph.prototype.removeEdge = function(v, w, name) {\n  var e = (arguments.length === 1\n    ? edgeObjToId(this._isDirected, arguments[0])\n    : edgeArgsToId(this._isDirected, v, w, name));\n  var edge = this._edgeObjs[e];\n  if (edge) {\n    v = edge.v;\n    w = edge.w;\n    delete this._edgeLabels[e];\n    delete this._edgeObjs[e];\n    decrementOrRemoveEntry(this._preds[w], v);\n    decrementOrRemoveEntry(this._sucs[v], w);\n    delete this._in[w][e];\n    delete this._out[v][e];\n    this._edgeCount--;\n  }\n  return this;\n};\n\nGraph.prototype.inEdges = function(v, u) {\n  var inV = this._in[v];\n  if (inV) {\n    var edges = _.values(inV);\n    if (!u) {\n      return edges;\n    }\n    return _.filter(edges, function(edge) { return edge.v === u; });\n  }\n};\n\nGraph.prototype.outEdges = function(v, w) {\n  var outV = this._out[v];\n  if (outV) {\n    var edges = _.values(outV);\n    if (!w) {\n      return edges;\n    }\n    return _.filter(edges, function(edge) { return edge.w === w; });\n  }\n};\n\nGraph.prototype.nodeEdges = function(v, w) {\n  var inEdges = this.inEdges(v, w);\n  if (inEdges) {\n    return inEdges.concat(this.outEdges(v, w));\n  }\n};\n\nfunction incrementOrInitEntry(map, k) {\n  if (map[k]) {\n    map[k]++;\n  } else {\n    map[k] = 1;\n  }\n}\n\nfunction decrementOrRemoveEntry(map, k) {\n  if (!--map[k]) { delete map[k]; }\n}\n\nfunction edgeArgsToId(isDirected, v_, w_, name) {\n  var v = \"\" + v_;\n  var w = \"\" + w_;\n  if (!isDirected && v > w) {\n    var tmp = v;\n    v = w;\n    w = tmp;\n  }\n  return v + EDGE_KEY_DELIM + w + EDGE_KEY_DELIM +\n             (_.isUndefined(name) ? DEFAULT_EDGE_NAME : name);\n}\n\nfunction edgeArgsToObj(isDirected, v_, w_, name) {\n  var v = \"\" + v_;\n  var w = \"\" + w_;\n  if (!isDirected && v > w) {\n    var tmp = v;\n    v = w;\n    w = tmp;\n  }\n  var edgeObj =  { v: v, w: w };\n  if (name) {\n    edgeObj.name = name;\n  }\n  return edgeObj;\n}\n\nfunction edgeObjToId(isDirected, edgeObj) {\n  return edgeArgsToId(isDirected, edgeObj.v, edgeObj.w, edgeObj.name);\n}\n","module.exports = '2.1.8';\n","// Includes only the \"core\" of graphlib\nmodule.exports = {\n  Graph: require(\"./graph\"),\n  version: require(\"./version\")\n};\n","var _ = require(\"./lodash\");\nvar Graph = require(\"./graph\");\n\nmodule.exports = {\n  write: write,\n  read: read\n};\n\nfunction write(g) {\n  var json = {\n    options: {\n      directed: g.isDirected(),\n      multigraph: g.isMultigraph(),\n      compound: g.isCompound()\n    },\n    nodes: writeNodes(g),\n    edges: writeEdges(g)\n  };\n  if (!_.isUndefined(g.graph())) {\n    json.value = _.clone(g.graph());\n  }\n  return json;\n}\n\nfunction writeNodes(g) {\n  return _.map(g.nodes(), function(v) {\n    var nodeValue = g.node(v);\n    var parent = g.parent(v);\n    var node = { v: v };\n    if (!_.isUndefined(nodeValue)) {\n      node.value = nodeValue;\n    }\n    if (!_.isUndefined(parent)) {\n      node.parent = parent;\n    }\n    return node;\n  });\n}\n\nfunction writeEdges(g) {\n  return _.map(g.edges(), function(e) {\n    var edgeValue = g.edge(e);\n    var edge = { v: e.v, w: e.w };\n    if (!_.isUndefined(e.name)) {\n      edge.name = e.name;\n    }\n    if (!_.isUndefined(edgeValue)) {\n      edge.value = edgeValue;\n    }\n    return edge;\n  });\n}\n\nfunction read(json) {\n  var g = new Graph(json.options).setGraph(json.value);\n  _.each(json.nodes, function(entry) {\n    g.setNode(entry.v, entry.value);\n    if (entry.parent) {\n      g.setParent(entry.v, entry.parent);\n    }\n  });\n  _.each(json.edges, function(entry) {\n    g.setEdge({ v: entry.v, w: entry.w, name: entry.name }, entry.value);\n  });\n  return g;\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = components;\n\nfunction components(g) {\n  var visited = {};\n  var cmpts = [];\n  var cmpt;\n\n  function dfs(v) {\n    if (_.has(visited, v)) return;\n    visited[v] = true;\n    cmpt.push(v);\n    _.each(g.successors(v), dfs);\n    _.each(g.predecessors(v), dfs);\n  }\n\n  _.each(g.nodes(), function(v) {\n    cmpt = [];\n    dfs(v);\n    if (cmpt.length) {\n      cmpts.push(cmpt);\n    }\n  });\n\n  return cmpts;\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = PriorityQueue;\n\n/**\n * A min-priority queue data structure. This algorithm is derived from Cormen,\n * et al., \"Introduction to Algorithms\". The basic idea of a min-priority\n * queue is that you can efficiently (in O(1) time) get the smallest key in\n * the queue. Adding and removing elements takes O(log n) time. A key can\n * have its priority decreased in O(log n) time.\n */\nfunction PriorityQueue() {\n  this._arr = [];\n  this._keyIndices = {};\n}\n\n/**\n * Returns the number of elements in the queue. Takes `O(1)` time.\n */\nPriorityQueue.prototype.size = function() {\n  return this._arr.length;\n};\n\n/**\n * Returns the keys that are in the queue. Takes `O(n)` time.\n */\nPriorityQueue.prototype.keys = function() {\n  return this._arr.map(function(x) { return x.key; });\n};\n\n/**\n * Returns `true` if **key** is in the queue and `false` if not.\n */\nPriorityQueue.prototype.has = function(key) {\n  return _.has(this._keyIndices, key);\n};\n\n/**\n * Returns the priority for **key**. If **key** is not present in the queue\n * then this function returns `undefined`. Takes `O(1)` time.\n *\n * @param {Object} key\n */\nPriorityQueue.prototype.priority = function(key) {\n  var index = this._keyIndices[key];\n  if (index !== undefined) {\n    return this._arr[index].priority;\n  }\n};\n\n/**\n * Returns the key for the minimum element in this queue. If the queue is\n * empty this function throws an Error. Takes `O(1)` time.\n */\nPriorityQueue.prototype.min = function() {\n  if (this.size() === 0) {\n    throw new Error(\"Queue underflow\");\n  }\n  return this._arr[0].key;\n};\n\n/**\n * Inserts a new key into the priority queue. If the key already exists in\n * the queue this function returns `false`; otherwise it will return `true`.\n * Takes `O(n)` time.\n *\n * @param {Object} key the key to add\n * @param {Number} priority the initial priority for the key\n */\nPriorityQueue.prototype.add = function(key, priority) {\n  var keyIndices = this._keyIndices;\n  key = String(key);\n  if (!_.has(keyIndices, key)) {\n    var arr = this._arr;\n    var index = arr.length;\n    keyIndices[key] = index;\n    arr.push({key: key, priority: priority});\n    this._decrease(index);\n    return true;\n  }\n  return false;\n};\n\n/**\n * Removes and returns the smallest key in the queue. Takes `O(log n)` time.\n */\nPriorityQueue.prototype.removeMin = function() {\n  this._swap(0, this._arr.length - 1);\n  var min = this._arr.pop();\n  delete this._keyIndices[min.key];\n  this._heapify(0);\n  return min.key;\n};\n\n/**\n * Decreases the priority for **key** to **priority**. If the new priority is\n * greater than the previous priority, this function will throw an Error.\n *\n * @param {Object} key the key for which to raise priority\n * @param {Number} priority the new priority for the key\n */\nPriorityQueue.prototype.decrease = function(key, priority) {\n  var index = this._keyIndices[key];\n  if (priority > this._arr[index].priority) {\n    throw new Error(\"New priority is greater than current priority. \" +\n        \"Key: \" + key + \" Old: \" + this._arr[index].priority + \" New: \" + priority);\n  }\n  this._arr[index].priority = priority;\n  this._decrease(index);\n};\n\nPriorityQueue.prototype._heapify = function(i) {\n  var arr = this._arr;\n  var l = 2 * i;\n  var r = l + 1;\n  var largest = i;\n  if (l < arr.length) {\n    largest = arr[l].priority < arr[largest].priority ? l : largest;\n    if (r < arr.length) {\n      largest = arr[r].priority < arr[largest].priority ? r : largest;\n    }\n    if (largest !== i) {\n      this._swap(i, largest);\n      this._heapify(largest);\n    }\n  }\n};\n\nPriorityQueue.prototype._decrease = function(index) {\n  var arr = this._arr;\n  var priority = arr[index].priority;\n  var parent;\n  while (index !== 0) {\n    parent = index >> 1;\n    if (arr[parent].priority < priority) {\n      break;\n    }\n    this._swap(index, parent);\n    index = parent;\n  }\n};\n\nPriorityQueue.prototype._swap = function(i, j) {\n  var arr = this._arr;\n  var keyIndices = this._keyIndices;\n  var origArrI = arr[i];\n  var origArrJ = arr[j];\n  arr[i] = origArrJ;\n  arr[j] = origArrI;\n  keyIndices[origArrJ.key] = i;\n  keyIndices[origArrI.key] = j;\n};\n","var _ = require(\"../lodash\");\nvar PriorityQueue = require(\"../data/priority-queue\");\n\nmodule.exports = dijkstra;\n\nvar DEFAULT_WEIGHT_FUNC = _.constant(1);\n\nfunction dijkstra(g, source, weightFn, edgeFn) {\n  return runDijkstra(g, String(source),\n    weightFn || DEFAULT_WEIGHT_FUNC,\n    edgeFn || function(v) { return g.outEdges(v); });\n}\n\nfunction runDijkstra(g, source, weightFn, edgeFn) {\n  var results = {};\n  var pq = new PriorityQueue();\n  var v, vEntry;\n\n  var updateNeighbors = function(edge) {\n    var w = edge.v !== v ? edge.v : edge.w;\n    var wEntry = results[w];\n    var weight = weightFn(edge);\n    var distance = vEntry.distance + weight;\n\n    if (weight < 0) {\n      throw new Error(\"dijkstra does not allow negative edge weights. \" +\n                      \"Bad edge: \" + edge + \" Weight: \" + weight);\n    }\n\n    if (distance < wEntry.distance) {\n      wEntry.distance = distance;\n      wEntry.predecessor = v;\n      pq.decrease(w, distance);\n    }\n  };\n\n  g.nodes().forEach(function(v) {\n    var distance = v === source ? 0 : Number.POSITIVE_INFINITY;\n    results[v] = { distance: distance };\n    pq.add(v, distance);\n  });\n\n  while (pq.size() > 0) {\n    v = pq.removeMin();\n    vEntry = results[v];\n    if (vEntry.distance === Number.POSITIVE_INFINITY) {\n      break;\n    }\n\n    edgeFn(v).forEach(updateNeighbors);\n  }\n\n  return results;\n}\n","var dijkstra = require(\"./dijkstra\");\nvar _ = require(\"../lodash\");\n\nmodule.exports = dijkstraAll;\n\nfunction dijkstraAll(g, weightFunc, edgeFunc) {\n  return _.transform(g.nodes(), function(acc, v) {\n    acc[v] = dijkstra(g, v, weightFunc, edgeFunc);\n  }, {});\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = tarjan;\n\nfunction tarjan(g) {\n  var index = 0;\n  var stack = [];\n  var visited = {}; // node id -> { onStack, lowlink, index }\n  var results = [];\n\n  function dfs(v) {\n    var entry = visited[v] = {\n      onStack: true,\n      lowlink: index,\n      index: index++\n    };\n    stack.push(v);\n\n    g.successors(v).forEach(function(w) {\n      if (!_.has(visited, w)) {\n        dfs(w);\n        entry.lowlink = Math.min(entry.lowlink, visited[w].lowlink);\n      } else if (visited[w].onStack) {\n        entry.lowlink = Math.min(entry.lowlink, visited[w].index);\n      }\n    });\n\n    if (entry.lowlink === entry.index) {\n      var cmpt = [];\n      var w;\n      do {\n        w = stack.pop();\n        visited[w].onStack = false;\n        cmpt.push(w);\n      } while (v !== w);\n      results.push(cmpt);\n    }\n  }\n\n  g.nodes().forEach(function(v) {\n    if (!_.has(visited, v)) {\n      dfs(v);\n    }\n  });\n\n  return results;\n}\n","var _ = require(\"../lodash\");\nvar tarjan = require(\"./tarjan\");\n\nmodule.exports = findCycles;\n\nfunction findCycles(g) {\n  return _.filter(tarjan(g), function(cmpt) {\n    return cmpt.length > 1 || (cmpt.length === 1 && g.hasEdge(cmpt[0], cmpt[0]));\n  });\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = floydWarshall;\n\nvar DEFAULT_WEIGHT_FUNC = _.constant(1);\n\nfunction floydWarshall(g, weightFn, edgeFn) {\n  return runFloydWarshall(g,\n    weightFn || DEFAULT_WEIGHT_FUNC,\n    edgeFn || function(v) { return g.outEdges(v); });\n}\n\nfunction runFloydWarshall(g, weightFn, edgeFn) {\n  var results = {};\n  var nodes = g.nodes();\n\n  nodes.forEach(function(v) {\n    results[v] = {};\n    results[v][v] = { distance: 0 };\n    nodes.forEach(function(w) {\n      if (v !== w) {\n        results[v][w] = { distance: Number.POSITIVE_INFINITY };\n      }\n    });\n    edgeFn(v).forEach(function(edge) {\n      var w = edge.v === v ? edge.w : edge.v;\n      var d = weightFn(edge);\n      results[v][w] = { distance: d, predecessor: v };\n    });\n  });\n\n  nodes.forEach(function(k) {\n    var rowK = results[k];\n    nodes.forEach(function(i) {\n      var rowI = results[i];\n      nodes.forEach(function(j) {\n        var ik = rowI[k];\n        var kj = rowK[j];\n        var ij = rowI[j];\n        var altDistance = ik.distance + kj.distance;\n        if (altDistance < ij.distance) {\n          ij.distance = altDistance;\n          ij.predecessor = kj.predecessor;\n        }\n      });\n    });\n  });\n\n  return results;\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = topsort;\ntopsort.CycleException = CycleException;\n\nfunction topsort(g) {\n  var visited = {};\n  var stack = {};\n  var results = [];\n\n  function visit(node) {\n    if (_.has(stack, node)) {\n      throw new CycleException();\n    }\n\n    if (!_.has(visited, node)) {\n      stack[node] = true;\n      visited[node] = true;\n      _.each(g.predecessors(node), visit);\n      delete stack[node];\n      results.push(node);\n    }\n  }\n\n  _.each(g.sinks(), visit);\n\n  if (_.size(visited) !== g.nodeCount()) {\n    throw new CycleException();\n  }\n\n  return results;\n}\n\nfunction CycleException() {}\nCycleException.prototype = new Error(); // must be an instance of Error to pass testing","var topsort = require(\"./topsort\");\n\nmodule.exports = isAcyclic;\n\nfunction isAcyclic(g) {\n  try {\n    topsort(g);\n  } catch (e) {\n    if (e instanceof topsort.CycleException) {\n      return false;\n    }\n    throw e;\n  }\n  return true;\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = dfs;\n\n/*\n * A helper that preforms a pre- or post-order traversal on the input graph\n * and returns the nodes in the order they were visited. If the graph is\n * undirected then this algorithm will navigate using neighbors. If the graph\n * is directed then this algorithm will navigate using successors.\n *\n * Order must be one of \"pre\" or \"post\".\n */\nfunction dfs(g, vs, order) {\n  if (!_.isArray(vs)) {\n    vs = [vs];\n  }\n\n  var navigation = (g.isDirected() ? g.successors : g.neighbors).bind(g);\n\n  var acc = [];\n  var visited = {};\n  _.each(vs, function(v) {\n    if (!g.hasNode(v)) {\n      throw new Error(\"Graph does not have node: \" + v);\n    }\n\n    doDfs(g, v, order === \"post\", visited, navigation, acc);\n  });\n  return acc;\n}\n\nfunction doDfs(g, v, postorder, visited, navigation, acc) {\n  if (!_.has(visited, v)) {\n    visited[v] = true;\n\n    if (!postorder) { acc.push(v); }\n    _.each(navigation(v), function(w) {\n      doDfs(g, w, postorder, visited, navigation, acc);\n    });\n    if (postorder) { acc.push(v); }\n  }\n}\n","var dfs = require(\"./dfs\");\n\nmodule.exports = postorder;\n\nfunction postorder(g, vs) {\n  return dfs(g, vs, \"post\");\n}\n","var dfs = require(\"./dfs\");\n\nmodule.exports = preorder;\n\nfunction preorder(g, vs) {\n  return dfs(g, vs, \"pre\");\n}\n","var _ = require(\"../lodash\");\nvar Graph = require(\"../graph\");\nvar PriorityQueue = require(\"../data/priority-queue\");\n\nmodule.exports = prim;\n\nfunction prim(g, weightFunc) {\n  var result = new Graph();\n  var parents = {};\n  var pq = new PriorityQueue();\n  var v;\n\n  function updateNeighbors(edge) {\n    var w = edge.v === v ? edge.w : edge.v;\n    var pri = pq.priority(w);\n    if (pri !== undefined) {\n      var edgeWeight = weightFunc(edge);\n      if (edgeWeight < pri) {\n        parents[w] = v;\n        pq.decrease(w, edgeWeight);\n      }\n    }\n  }\n\n  if (g.nodeCount() === 0) {\n    return result;\n  }\n\n  _.each(g.nodes(), function(v) {\n    pq.add(v, Number.POSITIVE_INFINITY);\n    result.setNode(v);\n  });\n\n  // Start from an arbitrary node\n  pq.decrease(g.nodes()[0], 0);\n\n  var init = false;\n  while (pq.size() > 0) {\n    v = pq.removeMin();\n    if (_.has(parents, v)) {\n      result.setEdge(v, parents[v]);\n    } else if (init) {\n      throw new Error(\"Input graph is not connected: \" + g);\n    } else {\n      init = true;\n    }\n\n    g.nodeEdges(v).forEach(updateNeighbors);\n  }\n\n  return result;\n}\n","module.exports = {\n  components: require(\"./components\"),\n  dijkstra: require(\"./dijkstra\"),\n  dijkstraAll: require(\"./dijkstra-all\"),\n  findCycles: require(\"./find-cycles\"),\n  floydWarshall: require(\"./floyd-warshall\"),\n  isAcyclic: require(\"./is-acyclic\"),\n  postorder: require(\"./postorder\"),\n  preorder: require(\"./preorder\"),\n  prim: require(\"./prim\"),\n  tarjan: require(\"./tarjan\"),\n  topsort: require(\"./topsort\")\n};\n","/**\n * Copyright (c) 2014, Chris Pettitt\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n * list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n * this list of conditions and the following disclaimer in the documentation\n * and/or other materials provided with the distribution.\n *\n * 3. Neither the name of the copyright holder nor the names of its contributors\n * may be used to endorse or promote products derived from this software without\n * specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nvar lib = require(\"./lib\");\n\nmodule.exports = {\n  Graph: lib.Graph,\n  json: require(\"./lib/json\"),\n  alg: require(\"./lib/alg\"),\n  version: lib.version\n};\n","/* global window */\n\nvar graphlib;\n\nif (typeof require === \"function\") {\n  try {\n    graphlib = require(\"graphlib\");\n  } catch (e) {\n    // continue regardless of error\n  }\n}\n\nif (!graphlib) {\n  graphlib = window.graphlib;\n}\n\nmodule.exports = graphlib;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","var baseRest = require('./_baseRest'),\n    eq = require('./eq'),\n    isIterateeCall = require('./_isIterateeCall'),\n    keysIn = require('./keysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns own and inherited enumerable string keyed properties of source\n * objects to the destination object for all destination properties that\n * resolve to `undefined`. Source objects are applied from left to right.\n * Once a property is set, additional values of the same property are ignored.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaultsDeep\n * @example\n *\n * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar defaults = baseRest(function(object, sources) {\n  object = Object(object);\n\n  var index = -1;\n  var length = sources.length;\n  var guard = length > 2 ? sources[2] : undefined;\n\n  if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n    length = 1;\n  }\n\n  while (++index < length) {\n    var source = sources[index];\n    var props = keysIn(source);\n    var propsIndex = -1;\n    var propsLength = props.length;\n\n    while (++propsIndex < propsLength) {\n      var key = props[propsIndex];\n      var value = object[key];\n\n      if (value === undefined ||\n          (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        object[key] = source[key];\n      }\n    }\n  }\n\n  return object;\n});\n\nmodule.exports = defaults;\n","var baseIteratee = require('./_baseIteratee'),\n    isArrayLike = require('./isArrayLike'),\n    keys = require('./keys');\n\n/**\n * Creates a `_.find` or `_.findLast` function.\n *\n * @private\n * @param {Function} findIndexFunc The function to find the collection index.\n * @returns {Function} Returns the new find function.\n */\nfunction createFind(findIndexFunc) {\n  return function(collection, predicate, fromIndex) {\n    var iterable = Object(collection);\n    if (!isArrayLike(collection)) {\n      var iteratee = baseIteratee(predicate, 3);\n      collection = keys(collection);\n      predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n    }\n    var index = findIndexFunc(collection, predicate, fromIndex);\n    return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n  };\n}\n\nmodule.exports = createFind;\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\nmodule.exports = findIndex;\n","var createFind = require('./_createFind'),\n    findIndex = require('./findIndex');\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\nvar find = createFind(findIndex);\n\nmodule.exports = find;\n","var baseFor = require('./_baseFor'),\n    castFunction = require('./_castFunction'),\n    keysIn = require('./keysIn');\n\n/**\n * Iterates over own and inherited enumerable string keyed properties of an\n * object and invokes `iteratee` for each property. The iteratee is invoked\n * with three arguments: (value, key, object). Iteratee functions may exit\n * iteration early by explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @since 0.3.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns `object`.\n * @see _.forInRight\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.forIn(new Foo, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n */\nfunction forIn(object, iteratee) {\n  return object == null\n    ? object\n    : baseFor(object, castFunction(iteratee), keysIn);\n}\n\nmodule.exports = forIn;\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n","var isSymbol = require('./isSymbol');\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseExtremum;\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    identity = require('./identity');\n\n/**\n * Computes the maximum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * _.max([4, 2, 8, 6]);\n * // => 8\n *\n * _.max([]);\n * // => undefined\n */\nfunction max(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseGt)\n    : undefined;\n}\n\nmodule.exports = max;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignMergeValue;\n","/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nmodule.exports = safeGet;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nmodule.exports = toPlainObject;\n","var assignMergeValue = require('./_assignMergeValue'),\n    cloneBuffer = require('./_cloneBuffer'),\n    cloneTypedArray = require('./_cloneTypedArray'),\n    copyArray = require('./_copyArray'),\n    initCloneObject = require('./_initCloneObject'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isPlainObject = require('./isPlainObject'),\n    isTypedArray = require('./isTypedArray'),\n    safeGet = require('./_safeGet'),\n    toPlainObject = require('./toPlainObject');\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nmodule.exports = baseMergeDeep;\n","var Stack = require('./_Stack'),\n    assignMergeValue = require('./_assignMergeValue'),\n    baseFor = require('./_baseFor'),\n    baseMergeDeep = require('./_baseMergeDeep'),\n    isObject = require('./isObject'),\n    keysIn = require('./keysIn'),\n    safeGet = require('./_safeGet');\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nmodule.exports = baseMerge;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","var baseMerge = require('./_baseMerge'),\n    createAssigner = require('./_createAssigner');\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\nmodule.exports = merge;\n","/**\n * The base implementation of `_.lt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is less than `other`,\n *  else `false`.\n */\nfunction baseLt(value, other) {\n  return value < other;\n}\n\nmodule.exports = baseLt;\n","var baseExtremum = require('./_baseExtremum'),\n    baseLt = require('./_baseLt'),\n    identity = require('./identity');\n\n/**\n * Computes the minimum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * _.min([4, 2, 8, 6]);\n * // => 2\n *\n * _.min([]);\n * // => undefined\n */\nfunction min(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseLt)\n    : undefined;\n}\n\nmodule.exports = min;\n","var baseExtremum = require('./_baseExtremum'),\n    baseIteratee = require('./_baseIteratee'),\n    baseLt = require('./_baseLt');\n\n/**\n * This method is like `_.min` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.minBy(objects, function(o) { return o.n; });\n * // => { 'n': 1 }\n *\n * // The `_.property` iteratee shorthand.\n * _.minBy(objects, 'n');\n * // => { 'n': 1 }\n */\nfunction minBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseLt)\n    : undefined;\n}\n\nmodule.exports = minBy;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\nmodule.exports = baseRange;\n","var baseRange = require('./_baseRange'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toFinite = require('./toFinite');\n\n/**\n * Creates a `_.range` or `_.rangeRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new range function.\n */\nfunction createRange(fromRight) {\n  return function(start, end, step) {\n    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n      end = step = undefined;\n    }\n    // Ensure the sign of `-0` is preserved.\n    start = toFinite(start);\n    if (end === undefined) {\n      end = start;\n      start = 0;\n    } else {\n      end = toFinite(end);\n    }\n    step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n    return baseRange(start, end, step, fromRight);\n  };\n}\n\nmodule.exports = createRange;\n","var createRange = require('./_createRange');\n\n/**\n * Creates an array of numbers (positive and/or negative) progressing from\n * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n * `start` is specified without an `end` or `step`. If `end` is not specified,\n * it's set to `start` with `start` then set to `0`.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @param {number} [step=1] The value to increment or decrement by.\n * @returns {Array} Returns the range of numbers.\n * @see _.inRange, _.rangeRight\n * @example\n *\n * _.range(4);\n * // => [0, 1, 2, 3]\n *\n * _.range(-4);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 5);\n * // => [1, 2, 3, 4]\n *\n * _.range(0, 20, 5);\n * // => [0, 5, 10, 15]\n *\n * _.range(0, -4, -1);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 4, 0);\n * // => [1, 1, 1]\n *\n * _.range(0);\n * // => []\n */\nvar range = createRange();\n\nmodule.exports = range;\n","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\nmodule.exports = baseSortBy;\n","var isSymbol = require('./isSymbol');\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\nmodule.exports = compareAscending;\n","var compareAscending = require('./_compareAscending');\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\nmodule.exports = compareMultiple;\n","var arrayMap = require('./_arrayMap'),\n    baseGet = require('./_baseGet'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    baseSortBy = require('./_baseSortBy'),\n    baseUnary = require('./_baseUnary'),\n    compareMultiple = require('./_compareMultiple'),\n    identity = require('./identity'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  if (iteratees.length) {\n    iteratees = arrayMap(iteratees, function(iteratee) {\n      if (isArray(iteratee)) {\n        return function(value) {\n          return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n        }\n      }\n      return iteratee;\n    });\n  } else {\n    iteratees = [identity];\n  }\n\n  var index = -1;\n  iteratees = arrayMap(iteratees, baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\nmodule.exports = baseOrderBy;\n","var baseFlatten = require('./_baseFlatten'),\n    baseOrderBy = require('./_baseOrderBy'),\n    baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates an array of elements, sorted in ascending order by the results of\n * running each element in a collection thru each iteratee. This method\n * performs a stable sort, that is, it preserves the original sort order of\n * equal elements. The iteratees are invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {...(Function|Function[])} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 30 },\n *   { 'user': 'barney', 'age': 34 }\n * ];\n *\n * _.sortBy(users, [function(o) { return o.user; }]);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n *\n * _.sortBy(users, ['user', 'age']);\n * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n */\nvar sortBy = baseRest(function(collection, iteratees) {\n  if (collection == null) {\n    return [];\n  }\n  var length = iteratees.length;\n  if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n    iteratees = [];\n  } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n    iteratees = [iteratees[0]];\n  }\n  return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n});\n\nmodule.exports = sortBy;\n","var toString = require('./toString');\n\n/** Used to generate unique IDs. */\nvar idCounter = 0;\n\n/**\n * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {string} [prefix=''] The value to prefix the ID with.\n * @returns {string} Returns the unique ID.\n * @example\n *\n * _.uniqueId('contact_');\n * // => 'contact_104'\n *\n * _.uniqueId();\n * // => '105'\n */\nfunction uniqueId(prefix) {\n  var id = ++idCounter;\n  return toString(prefix) + id;\n}\n\nmodule.exports = uniqueId;\n","/**\n * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n *\n * @private\n * @param {Array} props The property identifiers.\n * @param {Array} values The property values.\n * @param {Function} assignFunc The function to assign values.\n * @returns {Object} Returns the new object.\n */\nfunction baseZipObject(props, values, assignFunc) {\n  var index = -1,\n      length = props.length,\n      valsLength = values.length,\n      result = {};\n\n  while (++index < length) {\n    var value = index < valsLength ? values[index] : undefined;\n    assignFunc(result, props[index], value);\n  }\n  return result;\n}\n\nmodule.exports = baseZipObject;\n","var assignValue = require('./_assignValue'),\n    baseZipObject = require('./_baseZipObject');\n\n/**\n * This method is like `_.fromPairs` except that it accepts two arrays,\n * one of property identifiers and one of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 0.4.0\n * @category Array\n * @param {Array} [props=[]] The property identifiers.\n * @param {Array} [values=[]] The property values.\n * @returns {Object} Returns the new object.\n * @example\n *\n * _.zipObject(['a', 'b'], [1, 2]);\n * // => { 'a': 1, 'b': 2 }\n */\nfunction zipObject(props, values) {\n  return baseZipObject(props || [], values || [], assignValue);\n}\n\nmodule.exports = zipObject;\n","/* global window */\n\nvar lodash;\n\nif (typeof require === \"function\") {\n  try {\n    lodash = {\n      cloneDeep: require(\"lodash/cloneDeep\"),\n      constant: require(\"lodash/constant\"),\n      defaults: require(\"lodash/defaults\"),\n      each: require(\"lodash/each\"),\n      filter: require(\"lodash/filter\"),\n      find: require(\"lodash/find\"),\n      flatten: require(\"lodash/flatten\"),\n      forEach: require(\"lodash/forEach\"),\n      forIn: require(\"lodash/forIn\"),\n      has:  require(\"lodash/has\"),\n      isUndefined: require(\"lodash/isUndefined\"),\n      last: require(\"lodash/last\"),\n      map: require(\"lodash/map\"),\n      mapValues: require(\"lodash/mapValues\"),\n      max: require(\"lodash/max\"),\n      merge: require(\"lodash/merge\"),\n      min: require(\"lodash/min\"),\n      minBy: require(\"lodash/minBy\"),\n      now: require(\"lodash/now\"),\n      pick: require(\"lodash/pick\"),\n      range: require(\"lodash/range\"),\n      reduce: require(\"lodash/reduce\"),\n      sortBy: require(\"lodash/sortBy\"),\n      uniqueId: require(\"lodash/uniqueId\"),\n      values: require(\"lodash/values\"),\n      zipObject: require(\"lodash/zipObject\"),\n    };\n  } catch (e) {\n    // continue regardless of error\n  }\n}\n\nif (!lodash) {\n  lodash = window._;\n}\n\nmodule.exports = lodash;\n","/*\n * Simple doubly linked list implementation derived from Cormen, et al.,\n * \"Introduction to Algorithms\".\n */\n\nmodule.exports = List;\n\nfunction List() {\n  var sentinel = {};\n  sentinel._next = sentinel._prev = sentinel;\n  this._sentinel = sentinel;\n}\n\nList.prototype.dequeue = function() {\n  var sentinel = this._sentinel;\n  var entry = sentinel._prev;\n  if (entry !== sentinel) {\n    unlink(entry);\n    return entry;\n  }\n};\n\nList.prototype.enqueue = function(entry) {\n  var sentinel = this._sentinel;\n  if (entry._prev && entry._next) {\n    unlink(entry);\n  }\n  entry._next = sentinel._next;\n  sentinel._next._prev = entry;\n  sentinel._next = entry;\n  entry._prev = sentinel;\n};\n\nList.prototype.toString = function() {\n  var strs = [];\n  var sentinel = this._sentinel;\n  var curr = sentinel._prev;\n  while (curr !== sentinel) {\n    strs.push(JSON.stringify(curr, filterOutLinks));\n    curr = curr._prev;\n  }\n  return \"[\" + strs.join(\", \") + \"]\";\n};\n\nfunction unlink(entry) {\n  entry._prev._next = entry._next;\n  entry._next._prev = entry._prev;\n  delete entry._next;\n  delete entry._prev;\n}\n\nfunction filterOutLinks(k, v) {\n  if (k !== \"_next\" && k !== \"_prev\") {\n    return v;\n  }\n}\n","var _ = require(\"./lodash\");\nvar Graph = require(\"./graphlib\").Graph;\nvar List = require(\"./data/list\");\n\n/*\n * A greedy heuristic for finding a feedback arc set for a graph. A feedback\n * arc set is a set of edges that can be removed to make a graph acyclic.\n * The algorithm comes from: P. Eades, X. Lin, and W. F. Smyth, \"A fast and\n * effective heuristic for the feedback arc set problem.\" This implementation\n * adjusts that from the paper to allow for weighted edges.\n */\nmodule.exports = greedyFAS;\n\nvar DEFAULT_WEIGHT_FN = _.constant(1);\n\nfunction greedyFAS(g, weightFn) {\n  if (g.nodeCount() <= 1) {\n    return [];\n  }\n  var state = buildState(g, weightFn || DEFAULT_WEIGHT_FN);\n  var results = doGreedyFAS(state.graph, state.buckets, state.zeroIdx);\n\n  // Expand multi-edges\n  return _.flatten(_.map(results, function(e) {\n    return g.outEdges(e.v, e.w);\n  }), true);\n}\n\nfunction doGreedyFAS(g, buckets, zeroIdx) {\n  var results = [];\n  var sources = buckets[buckets.length - 1];\n  var sinks = buckets[0];\n\n  var entry;\n  while (g.nodeCount()) {\n    while ((entry = sinks.dequeue()))   { removeNode(g, buckets, zeroIdx, entry); }\n    while ((entry = sources.dequeue())) { removeNode(g, buckets, zeroIdx, entry); }\n    if (g.nodeCount()) {\n      for (var i = buckets.length - 2; i > 0; --i) {\n        entry = buckets[i].dequeue();\n        if (entry) {\n          results = results.concat(removeNode(g, buckets, zeroIdx, entry, true));\n          break;\n        }\n      }\n    }\n  }\n\n  return results;\n}\n\nfunction removeNode(g, buckets, zeroIdx, entry, collectPredecessors) {\n  var results = collectPredecessors ? [] : undefined;\n\n  _.forEach(g.inEdges(entry.v), function(edge) {\n    var weight = g.edge(edge);\n    var uEntry = g.node(edge.v);\n\n    if (collectPredecessors) {\n      results.push({ v: edge.v, w: edge.w });\n    }\n\n    uEntry.out -= weight;\n    assignBucket(buckets, zeroIdx, uEntry);\n  });\n\n  _.forEach(g.outEdges(entry.v), function(edge) {\n    var weight = g.edge(edge);\n    var w = edge.w;\n    var wEntry = g.node(w);\n    wEntry[\"in\"] -= weight;\n    assignBucket(buckets, zeroIdx, wEntry);\n  });\n\n  g.removeNode(entry.v);\n\n  return results;\n}\n\nfunction buildState(g, weightFn) {\n  var fasGraph = new Graph();\n  var maxIn = 0;\n  var maxOut = 0;\n\n  _.forEach(g.nodes(), function(v) {\n    fasGraph.setNode(v, { v: v, \"in\": 0, out: 0 });\n  });\n\n  // Aggregate weights on nodes, but also sum the weights across multi-edges\n  // into a single edge for the fasGraph.\n  _.forEach(g.edges(), function(e) {\n    var prevWeight = fasGraph.edge(e.v, e.w) || 0;\n    var weight = weightFn(e);\n    var edgeWeight = prevWeight + weight;\n    fasGraph.setEdge(e.v, e.w, edgeWeight);\n    maxOut = Math.max(maxOut, fasGraph.node(e.v).out += weight);\n    maxIn  = Math.max(maxIn,  fasGraph.node(e.w)[\"in\"]  += weight);\n  });\n\n  var buckets = _.range(maxOut + maxIn + 3).map(function() { return new List(); });\n  var zeroIdx = maxIn + 1;\n\n  _.forEach(fasGraph.nodes(), function(v) {\n    assignBucket(buckets, zeroIdx, fasGraph.node(v));\n  });\n\n  return { graph: fasGraph, buckets: buckets, zeroIdx: zeroIdx };\n}\n\nfunction assignBucket(buckets, zeroIdx, entry) {\n  if (!entry.out) {\n    buckets[0].enqueue(entry);\n  } else if (!entry[\"in\"]) {\n    buckets[buckets.length - 1].enqueue(entry);\n  } else {\n    buckets[entry.out - entry[\"in\"] + zeroIdx].enqueue(entry);\n  }\n}\n","\"use strict\";\n\nvar _ = require(\"./lodash\");\nvar greedyFAS = require(\"./greedy-fas\");\n\nmodule.exports = {\n  run: run,\n  undo: undo\n};\n\nfunction run(g) {\n  var fas = (g.graph().acyclicer === \"greedy\"\n    ? greedyFAS(g, weightFn(g))\n    : dfsFAS(g));\n  _.forEach(fas, function(e) {\n    var label = g.edge(e);\n    g.removeEdge(e);\n    label.forwardName = e.name;\n    label.reversed = true;\n    g.setEdge(e.w, e.v, label, _.uniqueId(\"rev\"));\n  });\n\n  function weightFn(g) {\n    return function(e) {\n      return g.edge(e).weight;\n    };\n  }\n}\n\nfunction dfsFAS(g) {\n  var fas = [];\n  var stack = {};\n  var visited = {};\n\n  function dfs(v) {\n    if (_.has(visited, v)) {\n      return;\n    }\n    visited[v] = true;\n    stack[v] = true;\n    _.forEach(g.outEdges(v), function(e) {\n      if (_.has(stack, e.w)) {\n        fas.push(e);\n      } else {\n        dfs(e.w);\n      }\n    });\n    delete stack[v];\n  }\n\n  _.forEach(g.nodes(), dfs);\n  return fas;\n}\n\nfunction undo(g) {\n  _.forEach(g.edges(), function(e) {\n    var label = g.edge(e);\n    if (label.reversed) {\n      g.removeEdge(e);\n\n      var forwardName = label.forwardName;\n      delete label.reversed;\n      delete label.forwardName;\n      g.setEdge(e.w, e.v, label, forwardName);\n    }\n  });\n}\n","/* eslint \"no-console\": off */\n\n\"use strict\";\n\nvar _ = require(\"./lodash\");\nvar Graph = require(\"./graphlib\").Graph;\n\nmodule.exports = {\n  addDummyNode: addDummyNode,\n  simplify: simplify,\n  asNonCompoundGraph: asNonCompoundGraph,\n  successorWeights: successorWeights,\n  predecessorWeights: predecessorWeights,\n  intersectRect: intersectRect,\n  buildLayerMatrix: buildLayerMatrix,\n  normalizeRanks: normalizeRanks,\n  removeEmptyRanks: removeEmptyRanks,\n  addBorderNode: addBorderNode,\n  maxRank: maxRank,\n  partition: partition,\n  time: time,\n  notime: notime\n};\n\n/*\n * Adds a dummy node to the graph and return v.\n */\nfunction addDummyNode(g, type, attrs, name) {\n  var v;\n  do {\n    v = _.uniqueId(name);\n  } while (g.hasNode(v));\n\n  attrs.dummy = type;\n  g.setNode(v, attrs);\n  return v;\n}\n\n/*\n * Returns a new graph with only simple edges. Handles aggregation of data\n * associated with multi-edges.\n */\nfunction simplify(g) {\n  var simplified = new Graph().setGraph(g.graph());\n  _.forEach(g.nodes(), function(v) { simplified.setNode(v, g.node(v)); });\n  _.forEach(g.edges(), function(e) {\n    var simpleLabel = simplified.edge(e.v, e.w) || { weight: 0, minlen: 1 };\n    var label = g.edge(e);\n    simplified.setEdge(e.v, e.w, {\n      weight: simpleLabel.weight + label.weight,\n      minlen: Math.max(simpleLabel.minlen, label.minlen)\n    });\n  });\n  return simplified;\n}\n\nfunction asNonCompoundGraph(g) {\n  var simplified = new Graph({ multigraph: g.isMultigraph() }).setGraph(g.graph());\n  _.forEach(g.nodes(), function(v) {\n    if (!g.children(v).length) {\n      simplified.setNode(v, g.node(v));\n    }\n  });\n  _.forEach(g.edges(), function(e) {\n    simplified.setEdge(e, g.edge(e));\n  });\n  return simplified;\n}\n\nfunction successorWeights(g) {\n  var weightMap = _.map(g.nodes(), function(v) {\n    var sucs = {};\n    _.forEach(g.outEdges(v), function(e) {\n      sucs[e.w] = (sucs[e.w] || 0) + g.edge(e).weight;\n    });\n    return sucs;\n  });\n  return _.zipObject(g.nodes(), weightMap);\n}\n\nfunction predecessorWeights(g) {\n  var weightMap = _.map(g.nodes(), function(v) {\n    var preds = {};\n    _.forEach(g.inEdges(v), function(e) {\n      preds[e.v] = (preds[e.v] || 0) + g.edge(e).weight;\n    });\n    return preds;\n  });\n  return _.zipObject(g.nodes(), weightMap);\n}\n\n/*\n * Finds where a line starting at point ({x, y}) would intersect a rectangle\n * ({x, y, width, height}) if it were pointing at the rectangle's center.\n */\nfunction intersectRect(rect, point) {\n  var x = rect.x;\n  var y = rect.y;\n\n  // Rectangle intersection algorithm from:\n  // http://math.stackexchange.com/questions/108113/find-edge-between-two-boxes\n  var dx = point.x - x;\n  var dy = point.y - y;\n  var w = rect.width / 2;\n  var h = rect.height / 2;\n\n  if (!dx && !dy) {\n    throw new Error(\"Not possible to find intersection inside of the rectangle\");\n  }\n\n  var sx, sy;\n  if (Math.abs(dy) * w > Math.abs(dx) * h) {\n    // Intersection is top or bottom of rect.\n    if (dy < 0) {\n      h = -h;\n    }\n    sx = h * dx / dy;\n    sy = h;\n  } else {\n    // Intersection is left or right of rect.\n    if (dx < 0) {\n      w = -w;\n    }\n    sx = w;\n    sy = w * dy / dx;\n  }\n\n  return { x: x + sx, y: y + sy };\n}\n\n/*\n * Given a DAG with each node assigned \"rank\" and \"order\" properties, this\n * function will produce a matrix with the ids of each node.\n */\nfunction buildLayerMatrix(g) {\n  var layering = _.map(_.range(maxRank(g) + 1), function() { return []; });\n  _.forEach(g.nodes(), function(v) {\n    var node = g.node(v);\n    var rank = node.rank;\n    if (!_.isUndefined(rank)) {\n      layering[rank][node.order] = v;\n    }\n  });\n  return layering;\n}\n\n/*\n * Adjusts the ranks for all nodes in the graph such that all nodes v have\n * rank(v) >= 0 and at least one node w has rank(w) = 0.\n */\nfunction normalizeRanks(g) {\n  var min = _.min(_.map(g.nodes(), function(v) { return g.node(v).rank; }));\n  _.forEach(g.nodes(), function(v) {\n    var node = g.node(v);\n    if (_.has(node, \"rank\")) {\n      node.rank -= min;\n    }\n  });\n}\n\nfunction removeEmptyRanks(g) {\n  // Ranks may not start at 0, so we need to offset them\n  var offset = _.min(_.map(g.nodes(), function(v) { return g.node(v).rank; }));\n\n  var layers = [];\n  _.forEach(g.nodes(), function(v) {\n    var rank = g.node(v).rank - offset;\n    if (!layers[rank]) {\n      layers[rank] = [];\n    }\n    layers[rank].push(v);\n  });\n\n  var delta = 0;\n  var nodeRankFactor = g.graph().nodeRankFactor;\n  _.forEach(layers, function(vs, i) {\n    if (_.isUndefined(vs) && i % nodeRankFactor !== 0) {\n      --delta;\n    } else if (delta) {\n      _.forEach(vs, function(v) { g.node(v).rank += delta; });\n    }\n  });\n}\n\nfunction addBorderNode(g, prefix, rank, order) {\n  var node = {\n    width: 0,\n    height: 0\n  };\n  if (arguments.length >= 4) {\n    node.rank = rank;\n    node.order = order;\n  }\n  return addDummyNode(g, \"border\", node, prefix);\n}\n\nfunction maxRank(g) {\n  return _.max(_.map(g.nodes(), function(v) {\n    var rank = g.node(v).rank;\n    if (!_.isUndefined(rank)) {\n      return rank;\n    }\n  }));\n}\n\n/*\n * Partition a collection into two groups: `lhs` and `rhs`. If the supplied\n * function returns true for an entry it goes into `lhs`. Otherwise it goes\n * into `rhs.\n */\nfunction partition(collection, fn) {\n  var result = { lhs: [], rhs: [] };\n  _.forEach(collection, function(value) {\n    if (fn(value)) {\n      result.lhs.push(value);\n    } else {\n      result.rhs.push(value);\n    }\n  });\n  return result;\n}\n\n/*\n * Returns a new function that wraps `fn` with a timer. The wrapper logs the\n * time it takes to execute the function.\n */\nfunction time(name, fn) {\n  var start = _.now();\n  try {\n    return fn();\n  } finally {\n    console.log(name + \" time: \" + (_.now() - start) + \"ms\");\n  }\n}\n\nfunction notime(name, fn) {\n  return fn();\n}\n","\"use strict\";\n\nvar _ = require(\"./lodash\");\nvar util = require(\"./util\");\n\nmodule.exports = {\n  run: run,\n  undo: undo\n};\n\n/*\n * Breaks any long edges in the graph into short segments that span 1 layer\n * each. This operation is undoable with the denormalize function.\n *\n * Pre-conditions:\n *\n *    1. The input graph is a DAG.\n *    2. Each node in the graph has a \"rank\" property.\n *\n * Post-condition:\n *\n *    1. All edges in the graph have a length of 1.\n *    2. Dummy nodes are added where edges have been split into segments.\n *    3. The graph is augmented with a \"dummyChains\" attribute which contains\n *       the first dummy in each chain of dummy nodes produced.\n */\nfunction run(g) {\n  g.graph().dummyChains = [];\n  _.forEach(g.edges(), function(edge) { normalizeEdge(g, edge); });\n}\n\nfunction normalizeEdge(g, e) {\n  var v = e.v;\n  var vRank = g.node(v).rank;\n  var w = e.w;\n  var wRank = g.node(w).rank;\n  var name = e.name;\n  var edgeLabel = g.edge(e);\n  var labelRank = edgeLabel.labelRank;\n\n  if (wRank === vRank + 1) return;\n\n  g.removeEdge(e);\n\n  var dummy, attrs, i;\n  for (i = 0, ++vRank; vRank < wRank; ++i, ++vRank) {\n    edgeLabel.points = [];\n    attrs = {\n      width: 0, height: 0,\n      edgeLabel: edgeLabel, edgeObj: e,\n      rank: vRank\n    };\n    dummy = util.addDummyNode(g, \"edge\", attrs, \"_d\");\n    if (vRank === labelRank) {\n      attrs.width = edgeLabel.width;\n      attrs.height = edgeLabel.height;\n      attrs.dummy = \"edge-label\";\n      attrs.labelpos = edgeLabel.labelpos;\n    }\n    g.setEdge(v, dummy, { weight: edgeLabel.weight }, name);\n    if (i === 0) {\n      g.graph().dummyChains.push(dummy);\n    }\n    v = dummy;\n  }\n\n  g.setEdge(v, w, { weight: edgeLabel.weight }, name);\n}\n\nfunction undo(g) {\n  _.forEach(g.graph().dummyChains, function(v) {\n    var node = g.node(v);\n    var origLabel = node.edgeLabel;\n    var w;\n    g.setEdge(node.edgeObj, origLabel);\n    while (node.dummy) {\n      w = g.successors(v)[0];\n      g.removeNode(v);\n      origLabel.points.push({ x: node.x, y: node.y });\n      if (node.dummy === \"edge-label\") {\n        origLabel.x = node.x;\n        origLabel.y = node.y;\n        origLabel.width = node.width;\n        origLabel.height = node.height;\n      }\n      v = w;\n      node = g.node(v);\n    }\n  });\n}\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\n\nmodule.exports = {\n  longestPath: longestPath,\n  slack: slack\n};\n\n/*\n * Initializes ranks for the input graph using the longest path algorithm. This\n * algorithm scales well and is fast in practice, it yields rather poor\n * solutions. Nodes are pushed to the lowest layer possible, leaving the bottom\n * ranks wide and leaving edges longer than necessary. However, due to its\n * speed, this algorithm is good for getting an initial ranking that can be fed\n * into other algorithms.\n *\n * This algorithm does not normalize layers because it will be used by other\n * algorithms in most cases. If using this algorithm directly, be sure to\n * run normalize at the end.\n *\n * Pre-conditions:\n *\n *    1. Input graph is a DAG.\n *    2. Input graph node labels can be assigned properties.\n *\n * Post-conditions:\n *\n *    1. Each node will be assign an (unnormalized) \"rank\" property.\n */\nfunction longestPath(g) {\n  var visited = {};\n\n  function dfs(v) {\n    var label = g.node(v);\n    if (_.has(visited, v)) {\n      return label.rank;\n    }\n    visited[v] = true;\n\n    var rank = _.min(_.map(g.outEdges(v), function(e) {\n      return dfs(e.w) - g.edge(e).minlen;\n    }));\n\n    if (rank === Number.POSITIVE_INFINITY || // return value of _.map([]) for Lodash 3\n        rank === undefined || // return value of _.map([]) for Lodash 4\n        rank === null) { // return value of _.map([null])\n      rank = 0;\n    }\n\n    return (label.rank = rank);\n  }\n\n  _.forEach(g.sources(), dfs);\n}\n\n/*\n * Returns the amount of slack for the given edge. The slack is defined as the\n * difference between the length of the edge and its minimum length.\n */\nfunction slack(g, e) {\n  return g.node(e.w).rank - g.node(e.v).rank - g.edge(e).minlen;\n}\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\nvar Graph = require(\"../graphlib\").Graph;\nvar slack = require(\"./util\").slack;\n\nmodule.exports = feasibleTree;\n\n/*\n * Constructs a spanning tree with tight edges and adjusted the input node's\n * ranks to achieve this. A tight edge is one that is has a length that matches\n * its \"minlen\" attribute.\n *\n * The basic structure for this function is derived from Gansner, et al., \"A\n * Technique for Drawing Directed Graphs.\"\n *\n * Pre-conditions:\n *\n *    1. Graph must be a DAG.\n *    2. Graph must be connected.\n *    3. Graph must have at least one node.\n *    5. Graph nodes must have been previously assigned a \"rank\" property that\n *       respects the \"minlen\" property of incident edges.\n *    6. Graph edges must have a \"minlen\" property.\n *\n * Post-conditions:\n *\n *    - Graph nodes will have their rank adjusted to ensure that all edges are\n *      tight.\n *\n * Returns a tree (undirected graph) that is constructed using only \"tight\"\n * edges.\n */\nfunction feasibleTree(g) {\n  var t = new Graph({ directed: false });\n\n  // Choose arbitrary node from which to start our tree\n  var start = g.nodes()[0];\n  var size = g.nodeCount();\n  t.setNode(start, {});\n\n  var edge, delta;\n  while (tightTree(t, g) < size) {\n    edge = findMinSlackEdge(t, g);\n    delta = t.hasNode(edge.v) ? slack(g, edge) : -slack(g, edge);\n    shiftRanks(t, g, delta);\n  }\n\n  return t;\n}\n\n/*\n * Finds a maximal tree of tight edges and returns the number of nodes in the\n * tree.\n */\nfunction tightTree(t, g) {\n  function dfs(v) {\n    _.forEach(g.nodeEdges(v), function(e) {\n      var edgeV = e.v,\n        w = (v === edgeV) ? e.w : edgeV;\n      if (!t.hasNode(w) && !slack(g, e)) {\n        t.setNode(w, {});\n        t.setEdge(v, w, {});\n        dfs(w);\n      }\n    });\n  }\n\n  _.forEach(t.nodes(), dfs);\n  return t.nodeCount();\n}\n\n/*\n * Finds the edge with the smallest slack that is incident on tree and returns\n * it.\n */\nfunction findMinSlackEdge(t, g) {\n  return _.minBy(g.edges(), function(e) {\n    if (t.hasNode(e.v) !== t.hasNode(e.w)) {\n      return slack(g, e);\n    }\n  });\n}\n\nfunction shiftRanks(t, g, delta) {\n  _.forEach(t.nodes(), function(v) {\n    g.node(v).rank += delta;\n  });\n}\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\nvar feasibleTree = require(\"./feasible-tree\");\nvar slack = require(\"./util\").slack;\nvar initRank = require(\"./util\").longestPath;\nvar preorder = require(\"../graphlib\").alg.preorder;\nvar postorder = require(\"../graphlib\").alg.postorder;\nvar simplify = require(\"../util\").simplify;\n\nmodule.exports = networkSimplex;\n\n// Expose some internals for testing purposes\nnetworkSimplex.initLowLimValues = initLowLimValues;\nnetworkSimplex.initCutValues = initCutValues;\nnetworkSimplex.calcCutValue = calcCutValue;\nnetworkSimplex.leaveEdge = leaveEdge;\nnetworkSimplex.enterEdge = enterEdge;\nnetworkSimplex.exchangeEdges = exchangeEdges;\n\n/*\n * The network simplex algorithm assigns ranks to each node in the input graph\n * and iteratively improves the ranking to reduce the length of edges.\n *\n * Preconditions:\n *\n *    1. The input graph must be a DAG.\n *    2. All nodes in the graph must have an object value.\n *    3. All edges in the graph must have \"minlen\" and \"weight\" attributes.\n *\n * Postconditions:\n *\n *    1. All nodes in the graph will have an assigned \"rank\" attribute that has\n *       been optimized by the network simplex algorithm. Ranks start at 0.\n *\n *\n * A rough sketch of the algorithm is as follows:\n *\n *    1. Assign initial ranks to each node. We use the longest path algorithm,\n *       which assigns ranks to the lowest position possible. In general this\n *       leads to very wide bottom ranks and unnecessarily long edges.\n *    2. Construct a feasible tight tree. A tight tree is one such that all\n *       edges in the tree have no slack (difference between length of edge\n *       and minlen for the edge). This by itself greatly improves the assigned\n *       rankings by shorting edges.\n *    3. Iteratively find edges that have negative cut values. Generally a\n *       negative cut value indicates that the edge could be removed and a new\n *       tree edge could be added to produce a more compact graph.\n *\n * Much of the algorithms here are derived from Gansner, et al., \"A Technique\n * for Drawing Directed Graphs.\" The structure of the file roughly follows the\n * structure of the overall algorithm.\n */\nfunction networkSimplex(g) {\n  g = simplify(g);\n  initRank(g);\n  var t = feasibleTree(g);\n  initLowLimValues(t);\n  initCutValues(t, g);\n\n  var e, f;\n  while ((e = leaveEdge(t))) {\n    f = enterEdge(t, g, e);\n    exchangeEdges(t, g, e, f);\n  }\n}\n\n/*\n * Initializes cut values for all edges in the tree.\n */\nfunction initCutValues(t, g) {\n  var vs = postorder(t, t.nodes());\n  vs = vs.slice(0, vs.length - 1);\n  _.forEach(vs, function(v) {\n    assignCutValue(t, g, v);\n  });\n}\n\nfunction assignCutValue(t, g, child) {\n  var childLab = t.node(child);\n  var parent = childLab.parent;\n  t.edge(child, parent).cutvalue = calcCutValue(t, g, child);\n}\n\n/*\n * Given the tight tree, its graph, and a child in the graph calculate and\n * return the cut value for the edge between the child and its parent.\n */\nfunction calcCutValue(t, g, child) {\n  var childLab = t.node(child);\n  var parent = childLab.parent;\n  // True if the child is on the tail end of the edge in the directed graph\n  var childIsTail = true;\n  // The graph's view of the tree edge we're inspecting\n  var graphEdge = g.edge(child, parent);\n  // The accumulated cut value for the edge between this node and its parent\n  var cutValue = 0;\n\n  if (!graphEdge) {\n    childIsTail = false;\n    graphEdge = g.edge(parent, child);\n  }\n\n  cutValue = graphEdge.weight;\n\n  _.forEach(g.nodeEdges(child), function(e) {\n    var isOutEdge = e.v === child,\n      other = isOutEdge ? e.w : e.v;\n\n    if (other !== parent) {\n      var pointsToHead = isOutEdge === childIsTail,\n        otherWeight = g.edge(e).weight;\n\n      cutValue += pointsToHead ? otherWeight : -otherWeight;\n      if (isTreeEdge(t, child, other)) {\n        var otherCutValue = t.edge(child, other).cutvalue;\n        cutValue += pointsToHead ? -otherCutValue : otherCutValue;\n      }\n    }\n  });\n\n  return cutValue;\n}\n\nfunction initLowLimValues(tree, root) {\n  if (arguments.length < 2) {\n    root = tree.nodes()[0];\n  }\n  dfsAssignLowLim(tree, {}, 1, root);\n}\n\nfunction dfsAssignLowLim(tree, visited, nextLim, v, parent) {\n  var low = nextLim;\n  var label = tree.node(v);\n\n  visited[v] = true;\n  _.forEach(tree.neighbors(v), function(w) {\n    if (!_.has(visited, w)) {\n      nextLim = dfsAssignLowLim(tree, visited, nextLim, w, v);\n    }\n  });\n\n  label.low = low;\n  label.lim = nextLim++;\n  if (parent) {\n    label.parent = parent;\n  } else {\n    // TODO should be able to remove this when we incrementally update low lim\n    delete label.parent;\n  }\n\n  return nextLim;\n}\n\nfunction leaveEdge(tree) {\n  return _.find(tree.edges(), function(e) {\n    return tree.edge(e).cutvalue < 0;\n  });\n}\n\nfunction enterEdge(t, g, edge) {\n  var v = edge.v;\n  var w = edge.w;\n\n  // For the rest of this function we assume that v is the tail and w is the\n  // head, so if we don't have this edge in the graph we should flip it to\n  // match the correct orientation.\n  if (!g.hasEdge(v, w)) {\n    v = edge.w;\n    w = edge.v;\n  }\n\n  var vLabel = t.node(v);\n  var wLabel = t.node(w);\n  var tailLabel = vLabel;\n  var flip = false;\n\n  // If the root is in the tail of the edge then we need to flip the logic that\n  // checks for the head and tail nodes in the candidates function below.\n  if (vLabel.lim > wLabel.lim) {\n    tailLabel = wLabel;\n    flip = true;\n  }\n\n  var candidates = _.filter(g.edges(), function(edge) {\n    return flip === isDescendant(t, t.node(edge.v), tailLabel) &&\n           flip !== isDescendant(t, t.node(edge.w), tailLabel);\n  });\n\n  return _.minBy(candidates, function(edge) { return slack(g, edge); });\n}\n\nfunction exchangeEdges(t, g, e, f) {\n  var v = e.v;\n  var w = e.w;\n  t.removeEdge(v, w);\n  t.setEdge(f.v, f.w, {});\n  initLowLimValues(t);\n  initCutValues(t, g);\n  updateRanks(t, g);\n}\n\nfunction updateRanks(t, g) {\n  var root = _.find(t.nodes(), function(v) { return !g.node(v).parent; });\n  var vs = preorder(t, root);\n  vs = vs.slice(1);\n  _.forEach(vs, function(v) {\n    var parent = t.node(v).parent,\n      edge = g.edge(v, parent),\n      flipped = false;\n\n    if (!edge) {\n      edge = g.edge(parent, v);\n      flipped = true;\n    }\n\n    g.node(v).rank = g.node(parent).rank + (flipped ? edge.minlen : -edge.minlen);\n  });\n}\n\n/*\n * Returns true if the edge is in the tree.\n */\nfunction isTreeEdge(tree, u, v) {\n  return tree.hasEdge(u, v);\n}\n\n/*\n * Returns true if the specified node is descendant of the root node per the\n * assigned low and lim attributes in the tree.\n */\nfunction isDescendant(tree, vLabel, rootLabel) {\n  return rootLabel.low <= vLabel.lim && vLabel.lim <= rootLabel.lim;\n}\n","\"use strict\";\n\nvar rankUtil = require(\"./util\");\nvar longestPath = rankUtil.longestPath;\nvar feasibleTree = require(\"./feasible-tree\");\nvar networkSimplex = require(\"./network-simplex\");\n\nmodule.exports = rank;\n\n/*\n * Assigns a rank to each node in the input graph that respects the \"minlen\"\n * constraint specified on edges between nodes.\n *\n * This basic structure is derived from Gansner, et al., \"A Technique for\n * Drawing Directed Graphs.\"\n *\n * Pre-conditions:\n *\n *    1. Graph must be a connected DAG\n *    2. Graph nodes must be objects\n *    3. Graph edges must have \"weight\" and \"minlen\" attributes\n *\n * Post-conditions:\n *\n *    1. Graph nodes will have a \"rank\" attribute based on the results of the\n *       algorithm. Ranks can start at any index (including negative), we'll\n *       fix them up later.\n */\nfunction rank(g) {\n  switch(g.graph().ranker) {\n  case \"network-simplex\": networkSimplexRanker(g); break;\n  case \"tight-tree\": tightTreeRanker(g); break;\n  case \"longest-path\": longestPathRanker(g); break;\n  default: networkSimplexRanker(g);\n  }\n}\n\n// A fast and simple ranker, but results are far from optimal.\nvar longestPathRanker = longestPath;\n\nfunction tightTreeRanker(g) {\n  longestPath(g);\n  feasibleTree(g);\n}\n\nfunction networkSimplexRanker(g) {\n  networkSimplex(g);\n}\n","var _ = require(\"./lodash\");\n\nmodule.exports = parentDummyChains;\n\nfunction parentDummyChains(g) {\n  var postorderNums = postorder(g);\n\n  _.forEach(g.graph().dummyChains, function(v) {\n    var node = g.node(v);\n    var edgeObj = node.edgeObj;\n    var pathData = findPath(g, postorderNums, edgeObj.v, edgeObj.w);\n    var path = pathData.path;\n    var lca = pathData.lca;\n    var pathIdx = 0;\n    var pathV = path[pathIdx];\n    var ascending = true;\n\n    while (v !== edgeObj.w) {\n      node = g.node(v);\n\n      if (ascending) {\n        while ((pathV = path[pathIdx]) !== lca &&\n               g.node(pathV).maxRank < node.rank) {\n          pathIdx++;\n        }\n\n        if (pathV === lca) {\n          ascending = false;\n        }\n      }\n\n      if (!ascending) {\n        while (pathIdx < path.length - 1 &&\n               g.node(pathV = path[pathIdx + 1]).minRank <= node.rank) {\n          pathIdx++;\n        }\n        pathV = path[pathIdx];\n      }\n\n      g.setParent(v, pathV);\n      v = g.successors(v)[0];\n    }\n  });\n}\n\n// Find a path from v to w through the lowest common ancestor (LCA). Return the\n// full path and the LCA.\nfunction findPath(g, postorderNums, v, w) {\n  var vPath = [];\n  var wPath = [];\n  var low = Math.min(postorderNums[v].low, postorderNums[w].low);\n  var lim = Math.max(postorderNums[v].lim, postorderNums[w].lim);\n  var parent;\n  var lca;\n\n  // Traverse up from v to find the LCA\n  parent = v;\n  do {\n    parent = g.parent(parent);\n    vPath.push(parent);\n  } while (parent &&\n           (postorderNums[parent].low > low || lim > postorderNums[parent].lim));\n  lca = parent;\n\n  // Traverse from w to LCA\n  parent = w;\n  while ((parent = g.parent(parent)) !== lca) {\n    wPath.push(parent);\n  }\n\n  return { path: vPath.concat(wPath.reverse()), lca: lca };\n}\n\nfunction postorder(g) {\n  var result = {};\n  var lim = 0;\n\n  function dfs(v) {\n    var low = lim;\n    _.forEach(g.children(v), dfs);\n    result[v] = { low: low, lim: lim++ };\n  }\n  _.forEach(g.children(), dfs);\n\n  return result;\n}\n","var _ = require(\"./lodash\");\nvar util = require(\"./util\");\n\nmodule.exports = {\n  run: run,\n  cleanup: cleanup\n};\n\n/*\n * A nesting graph creates dummy nodes for the tops and bottoms of subgraphs,\n * adds appropriate edges to ensure that all cluster nodes are placed between\n * these boundries, and ensures that the graph is connected.\n *\n * In addition we ensure, through the use of the minlen property, that nodes\n * and subgraph border nodes to not end up on the same rank.\n *\n * Preconditions:\n *\n *    1. Input graph is a DAG\n *    2. Nodes in the input graph has a minlen attribute\n *\n * Postconditions:\n *\n *    1. Input graph is connected.\n *    2. Dummy nodes are added for the tops and bottoms of subgraphs.\n *    3. The minlen attribute for nodes is adjusted to ensure nodes do not\n *       get placed on the same rank as subgraph border nodes.\n *\n * The nesting graph idea comes from Sander, \"Layout of Compound Directed\n * Graphs.\"\n */\nfunction run(g) {\n  var root = util.addDummyNode(g, \"root\", {}, \"_root\");\n  var depths = treeDepths(g);\n  var height = _.max(_.values(depths)) - 1; // Note: depths is an Object not an array\n  var nodeSep = 2 * height + 1;\n\n  g.graph().nestingRoot = root;\n\n  // Multiply minlen by nodeSep to align nodes on non-border ranks.\n  _.forEach(g.edges(), function(e) { g.edge(e).minlen *= nodeSep; });\n\n  // Calculate a weight that is sufficient to keep subgraphs vertically compact\n  var weight = sumWeights(g) + 1;\n\n  // Create border nodes and link them up\n  _.forEach(g.children(), function(child) {\n    dfs(g, root, nodeSep, weight, height, depths, child);\n  });\n\n  // Save the multiplier for node layers for later removal of empty border\n  // layers.\n  g.graph().nodeRankFactor = nodeSep;\n}\n\nfunction dfs(g, root, nodeSep, weight, height, depths, v) {\n  var children = g.children(v);\n  if (!children.length) {\n    if (v !== root) {\n      g.setEdge(root, v, { weight: 0, minlen: nodeSep });\n    }\n    return;\n  }\n\n  var top = util.addBorderNode(g, \"_bt\");\n  var bottom = util.addBorderNode(g, \"_bb\");\n  var label = g.node(v);\n\n  g.setParent(top, v);\n  label.borderTop = top;\n  g.setParent(bottom, v);\n  label.borderBottom = bottom;\n\n  _.forEach(children, function(child) {\n    dfs(g, root, nodeSep, weight, height, depths, child);\n\n    var childNode = g.node(child);\n    var childTop = childNode.borderTop ? childNode.borderTop : child;\n    var childBottom = childNode.borderBottom ? childNode.borderBottom : child;\n    var thisWeight = childNode.borderTop ? weight : 2 * weight;\n    var minlen = childTop !== childBottom ? 1 : height - depths[v] + 1;\n\n    g.setEdge(top, childTop, {\n      weight: thisWeight,\n      minlen: minlen,\n      nestingEdge: true\n    });\n\n    g.setEdge(childBottom, bottom, {\n      weight: thisWeight,\n      minlen: minlen,\n      nestingEdge: true\n    });\n  });\n\n  if (!g.parent(v)) {\n    g.setEdge(root, top, { weight: 0, minlen: height + depths[v] });\n  }\n}\n\nfunction treeDepths(g) {\n  var depths = {};\n  function dfs(v, depth) {\n    var children = g.children(v);\n    if (children && children.length) {\n      _.forEach(children, function(child) {\n        dfs(child, depth + 1);\n      });\n    }\n    depths[v] = depth;\n  }\n  _.forEach(g.children(), function(v) { dfs(v, 1); });\n  return depths;\n}\n\nfunction sumWeights(g) {\n  return _.reduce(g.edges(), function(acc, e) {\n    return acc + g.edge(e).weight;\n  }, 0);\n}\n\nfunction cleanup(g) {\n  var graphLabel = g.graph();\n  g.removeNode(graphLabel.nestingRoot);\n  delete graphLabel.nestingRoot;\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    if (edge.nestingEdge) {\n      g.removeEdge(e);\n    }\n  });\n}\n","var _ = require(\"./lodash\");\nvar util = require(\"./util\");\n\nmodule.exports = addBorderSegments;\n\nfunction addBorderSegments(g) {\n  function dfs(v) {\n    var children = g.children(v);\n    var node = g.node(v);\n    if (children.length) {\n      _.forEach(children, dfs);\n    }\n\n    if (_.has(node, \"minRank\")) {\n      node.borderLeft = [];\n      node.borderRight = [];\n      for (var rank = node.minRank, maxRank = node.maxRank + 1;\n        rank < maxRank;\n        ++rank) {\n        addBorderNode(g, \"borderLeft\", \"_bl\", v, node, rank);\n        addBorderNode(g, \"borderRight\", \"_br\", v, node, rank);\n      }\n    }\n  }\n\n  _.forEach(g.children(), dfs);\n}\n\nfunction addBorderNode(g, prop, prefix, sg, sgNode, rank) {\n  var label = { width: 0, height: 0, rank: rank, borderType: prop };\n  var prev = sgNode[prop][rank - 1];\n  var curr = util.addDummyNode(g, \"border\", label, prefix);\n  sgNode[prop][rank] = curr;\n  g.setParent(curr, sg);\n  if (prev) {\n    g.setEdge(prev, curr, { weight: 1 });\n  }\n}\n","\"use strict\";\n\nvar _ = require(\"./lodash\");\n\nmodule.exports = {\n  adjust: adjust,\n  undo: undo\n};\n\nfunction adjust(g) {\n  var rankDir = g.graph().rankdir.toLowerCase();\n  if (rankDir === \"lr\" || rankDir === \"rl\") {\n    swapWidthHeight(g);\n  }\n}\n\nfunction undo(g) {\n  var rankDir = g.graph().rankdir.toLowerCase();\n  if (rankDir === \"bt\" || rankDir === \"rl\") {\n    reverseY(g);\n  }\n\n  if (rankDir === \"lr\" || rankDir === \"rl\") {\n    swapXY(g);\n    swapWidthHeight(g);\n  }\n}\n\nfunction swapWidthHeight(g) {\n  _.forEach(g.nodes(), function(v) { swapWidthHeightOne(g.node(v)); });\n  _.forEach(g.edges(), function(e) { swapWidthHeightOne(g.edge(e)); });\n}\n\nfunction swapWidthHeightOne(attrs) {\n  var w = attrs.width;\n  attrs.width = attrs.height;\n  attrs.height = w;\n}\n\nfunction reverseY(g) {\n  _.forEach(g.nodes(), function(v) { reverseYOne(g.node(v)); });\n\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    _.forEach(edge.points, reverseYOne);\n    if (_.has(edge, \"y\")) {\n      reverseYOne(edge);\n    }\n  });\n}\n\nfunction reverseYOne(attrs) {\n  attrs.y = -attrs.y;\n}\n\nfunction swapXY(g) {\n  _.forEach(g.nodes(), function(v) { swapXYOne(g.node(v)); });\n\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    _.forEach(edge.points, swapXYOne);\n    if (_.has(edge, \"x\")) {\n      swapXYOne(edge);\n    }\n  });\n}\n\nfunction swapXYOne(attrs) {\n  var x = attrs.x;\n  attrs.x = attrs.y;\n  attrs.y = x;\n}\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\n\nmodule.exports = initOrder;\n\n/*\n * Assigns an initial order value for each node by performing a DFS search\n * starting from nodes in the first rank. Nodes are assigned an order in their\n * rank as they are first visited.\n *\n * This approach comes from Gansner, et al., \"A Technique for Drawing Directed\n * Graphs.\"\n *\n * Returns a layering matrix with an array per layer and each layer sorted by\n * the order of its nodes.\n */\nfunction initOrder(g) {\n  var visited = {};\n  var simpleNodes = _.filter(g.nodes(), function(v) {\n    return !g.children(v).length;\n  });\n  var maxRank = _.max(_.map(simpleNodes, function(v) { return g.node(v).rank; }));\n  var layers = _.map(_.range(maxRank + 1), function() { return []; });\n\n  function dfs(v) {\n    if (_.has(visited, v)) return;\n    visited[v] = true;\n    var node = g.node(v);\n    layers[node.rank].push(v);\n    _.forEach(g.successors(v), dfs);\n  }\n\n  var orderedVs = _.sortBy(simpleNodes, function(v) { return g.node(v).rank; });\n  _.forEach(orderedVs, dfs);\n\n  return layers;\n}\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\n\nmodule.exports = crossCount;\n\n/*\n * A function that takes a layering (an array of layers, each with an array of\n * ordererd nodes) and a graph and returns a weighted crossing count.\n *\n * Pre-conditions:\n *\n *    1. Input graph must be simple (not a multigraph), directed, and include\n *       only simple edges.\n *    2. Edges in the input graph must have assigned weights.\n *\n * Post-conditions:\n *\n *    1. The graph and layering matrix are left unchanged.\n *\n * This algorithm is derived from Barth, et al., \"Bilayer Cross Counting.\"\n */\nfunction crossCount(g, layering) {\n  var cc = 0;\n  for (var i = 1; i < layering.length; ++i) {\n    cc += twoLayerCrossCount(g, layering[i-1], layering[i]);\n  }\n  return cc;\n}\n\nfunction twoLayerCrossCount(g, northLayer, southLayer) {\n  // Sort all of the edges between the north and south layers by their position\n  // in the north layer and then the south. Map these edges to the position of\n  // their head in the south layer.\n  var southPos = _.zipObject(southLayer,\n    _.map(southLayer, function (v, i) { return i; }));\n  var southEntries = _.flatten(_.map(northLayer, function(v) {\n    return _.sortBy(_.map(g.outEdges(v), function(e) {\n      return { pos: southPos[e.w], weight: g.edge(e).weight };\n    }), \"pos\");\n  }), true);\n\n  // Build the accumulator tree\n  var firstIndex = 1;\n  while (firstIndex < southLayer.length) firstIndex <<= 1;\n  var treeSize = 2 * firstIndex - 1;\n  firstIndex -= 1;\n  var tree = _.map(new Array(treeSize), function() { return 0; });\n\n  // Calculate the weighted crossings\n  var cc = 0;\n  _.forEach(southEntries.forEach(function(entry) {\n    var index = entry.pos + firstIndex;\n    tree[index] += entry.weight;\n    var weightSum = 0;\n    while (index > 0) {\n      if (index % 2) {\n        weightSum += tree[index + 1];\n      }\n      index = (index - 1) >> 1;\n      tree[index] += entry.weight;\n    }\n    cc += entry.weight * weightSum;\n  }));\n\n  return cc;\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = barycenter;\n\nfunction barycenter(g, movable) {\n  return _.map(movable, function(v) {\n    var inV = g.inEdges(v);\n    if (!inV.length) {\n      return { v: v };\n    } else {\n      var result = _.reduce(inV, function(acc, e) {\n        var edge = g.edge(e),\n          nodeU = g.node(e.v);\n        return {\n          sum: acc.sum + (edge.weight * nodeU.order),\n          weight: acc.weight + edge.weight\n        };\n      }, { sum: 0, weight: 0 });\n\n      return {\n        v: v,\n        barycenter: result.sum / result.weight,\n        weight: result.weight\n      };\n    }\n  });\n}\n\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\n\nmodule.exports = resolveConflicts;\n\n/*\n * Given a list of entries of the form {v, barycenter, weight} and a\n * constraint graph this function will resolve any conflicts between the\n * constraint graph and the barycenters for the entries. If the barycenters for\n * an entry would violate a constraint in the constraint graph then we coalesce\n * the nodes in the conflict into a new node that respects the contraint and\n * aggregates barycenter and weight information.\n *\n * This implementation is based on the description in Forster, \"A Fast and\n * Simple Hueristic for Constrained Two-Level Crossing Reduction,\" thought it\n * differs in some specific details.\n *\n * Pre-conditions:\n *\n *    1. Each entry has the form {v, barycenter, weight}, or if the node has\n *       no barycenter, then {v}.\n *\n * Returns:\n *\n *    A new list of entries of the form {vs, i, barycenter, weight}. The list\n *    `vs` may either be a singleton or it may be an aggregation of nodes\n *    ordered such that they do not violate constraints from the constraint\n *    graph. The property `i` is the lowest original index of any of the\n *    elements in `vs`.\n */\nfunction resolveConflicts(entries, cg) {\n  var mappedEntries = {};\n  _.forEach(entries, function(entry, i) {\n    var tmp = mappedEntries[entry.v] = {\n      indegree: 0,\n      \"in\": [],\n      out: [],\n      vs: [entry.v],\n      i: i\n    };\n    if (!_.isUndefined(entry.barycenter)) {\n      tmp.barycenter = entry.barycenter;\n      tmp.weight = entry.weight;\n    }\n  });\n\n  _.forEach(cg.edges(), function(e) {\n    var entryV = mappedEntries[e.v];\n    var entryW = mappedEntries[e.w];\n    if (!_.isUndefined(entryV) && !_.isUndefined(entryW)) {\n      entryW.indegree++;\n      entryV.out.push(mappedEntries[e.w]);\n    }\n  });\n\n  var sourceSet = _.filter(mappedEntries, function(entry) {\n    return !entry.indegree;\n  });\n\n  return doResolveConflicts(sourceSet);\n}\n\nfunction doResolveConflicts(sourceSet) {\n  var entries = [];\n\n  function handleIn(vEntry) {\n    return function(uEntry) {\n      if (uEntry.merged) {\n        return;\n      }\n      if (_.isUndefined(uEntry.barycenter) ||\n          _.isUndefined(vEntry.barycenter) ||\n          uEntry.barycenter >= vEntry.barycenter) {\n        mergeEntries(vEntry, uEntry);\n      }\n    };\n  }\n\n  function handleOut(vEntry) {\n    return function(wEntry) {\n      wEntry[\"in\"].push(vEntry);\n      if (--wEntry.indegree === 0) {\n        sourceSet.push(wEntry);\n      }\n    };\n  }\n\n  while (sourceSet.length) {\n    var entry = sourceSet.pop();\n    entries.push(entry);\n    _.forEach(entry[\"in\"].reverse(), handleIn(entry));\n    _.forEach(entry.out, handleOut(entry));\n  }\n\n  return _.map(_.filter(entries, function(entry) { return !entry.merged; }),\n    function(entry) {\n      return _.pick(entry, [\"vs\", \"i\", \"barycenter\", \"weight\"]);\n    });\n\n}\n\nfunction mergeEntries(target, source) {\n  var sum = 0;\n  var weight = 0;\n\n  if (target.weight) {\n    sum += target.barycenter * target.weight;\n    weight += target.weight;\n  }\n\n  if (source.weight) {\n    sum += source.barycenter * source.weight;\n    weight += source.weight;\n  }\n\n  target.vs = source.vs.concat(target.vs);\n  target.barycenter = sum / weight;\n  target.weight = weight;\n  target.i = Math.min(source.i, target.i);\n  source.merged = true;\n}\n","var _ = require(\"../lodash\");\nvar util = require(\"../util\");\n\nmodule.exports = sort;\n\nfunction sort(entries, biasRight) {\n  var parts = util.partition(entries, function(entry) {\n    return _.has(entry, \"barycenter\");\n  });\n  var sortable = parts.lhs,\n    unsortable = _.sortBy(parts.rhs, function(entry) { return -entry.i; }),\n    vs = [],\n    sum = 0,\n    weight = 0,\n    vsIndex = 0;\n\n  sortable.sort(compareWithBias(!!biasRight));\n\n  vsIndex = consumeUnsortable(vs, unsortable, vsIndex);\n\n  _.forEach(sortable, function (entry) {\n    vsIndex += entry.vs.length;\n    vs.push(entry.vs);\n    sum += entry.barycenter * entry.weight;\n    weight += entry.weight;\n    vsIndex = consumeUnsortable(vs, unsortable, vsIndex);\n  });\n\n  var result = { vs: _.flatten(vs, true) };\n  if (weight) {\n    result.barycenter = sum / weight;\n    result.weight = weight;\n  }\n  return result;\n}\n\nfunction consumeUnsortable(vs, unsortable, index) {\n  var last;\n  while (unsortable.length && (last = _.last(unsortable)).i <= index) {\n    unsortable.pop();\n    vs.push(last.vs);\n    index++;\n  }\n  return index;\n}\n\nfunction compareWithBias(bias) {\n  return function(entryV, entryW) {\n    if (entryV.barycenter < entryW.barycenter) {\n      return -1;\n    } else if (entryV.barycenter > entryW.barycenter) {\n      return 1;\n    }\n\n    return !bias ? entryV.i - entryW.i : entryW.i - entryV.i;\n  };\n}\n","var _ = require(\"../lodash\");\nvar barycenter = require(\"./barycenter\");\nvar resolveConflicts = require(\"./resolve-conflicts\");\nvar sort = require(\"./sort\");\n\nmodule.exports = sortSubgraph;\n\nfunction sortSubgraph(g, v, cg, biasRight) {\n  var movable = g.children(v);\n  var node = g.node(v);\n  var bl = node ? node.borderLeft : undefined;\n  var br = node ? node.borderRight: undefined;\n  var subgraphs = {};\n\n  if (bl) {\n    movable = _.filter(movable, function(w) {\n      return w !== bl && w !== br;\n    });\n  }\n\n  var barycenters = barycenter(g, movable);\n  _.forEach(barycenters, function(entry) {\n    if (g.children(entry.v).length) {\n      var subgraphResult = sortSubgraph(g, entry.v, cg, biasRight);\n      subgraphs[entry.v] = subgraphResult;\n      if (_.has(subgraphResult, \"barycenter\")) {\n        mergeBarycenters(entry, subgraphResult);\n      }\n    }\n  });\n\n  var entries = resolveConflicts(barycenters, cg);\n  expandSubgraphs(entries, subgraphs);\n\n  var result = sort(entries, biasRight);\n\n  if (bl) {\n    result.vs = _.flatten([bl, result.vs, br], true);\n    if (g.predecessors(bl).length) {\n      var blPred = g.node(g.predecessors(bl)[0]),\n        brPred = g.node(g.predecessors(br)[0]);\n      if (!_.has(result, \"barycenter\")) {\n        result.barycenter = 0;\n        result.weight = 0;\n      }\n      result.barycenter = (result.barycenter * result.weight +\n                           blPred.order + brPred.order) / (result.weight + 2);\n      result.weight += 2;\n    }\n  }\n\n  return result;\n}\n\nfunction expandSubgraphs(entries, subgraphs) {\n  _.forEach(entries, function(entry) {\n    entry.vs = _.flatten(entry.vs.map(function(v) {\n      if (subgraphs[v]) {\n        return subgraphs[v].vs;\n      }\n      return v;\n    }), true);\n  });\n}\n\nfunction mergeBarycenters(target, other) {\n  if (!_.isUndefined(target.barycenter)) {\n    target.barycenter = (target.barycenter * target.weight +\n                         other.barycenter * other.weight) /\n                        (target.weight + other.weight);\n    target.weight += other.weight;\n  } else {\n    target.barycenter = other.barycenter;\n    target.weight = other.weight;\n  }\n}\n","var _ = require(\"../lodash\");\nvar Graph = require(\"../graphlib\").Graph;\n\nmodule.exports = buildLayerGraph;\n\n/*\n * Constructs a graph that can be used to sort a layer of nodes. The graph will\n * contain all base and subgraph nodes from the request layer in their original\n * hierarchy and any edges that are incident on these nodes and are of the type\n * requested by the \"relationship\" parameter.\n *\n * Nodes from the requested rank that do not have parents are assigned a root\n * node in the output graph, which is set in the root graph attribute. This\n * makes it easy to walk the hierarchy of movable nodes during ordering.\n *\n * Pre-conditions:\n *\n *    1. Input graph is a DAG\n *    2. Base nodes in the input graph have a rank attribute\n *    3. Subgraph nodes in the input graph has minRank and maxRank attributes\n *    4. Edges have an assigned weight\n *\n * Post-conditions:\n *\n *    1. Output graph has all nodes in the movable rank with preserved\n *       hierarchy.\n *    2. Root nodes in the movable layer are made children of the node\n *       indicated by the root attribute of the graph.\n *    3. Non-movable nodes incident on movable nodes, selected by the\n *       relationship parameter, are included in the graph (without hierarchy).\n *    4. Edges incident on movable nodes, selected by the relationship\n *       parameter, are added to the output graph.\n *    5. The weights for copied edges are aggregated as need, since the output\n *       graph is not a multi-graph.\n */\nfunction buildLayerGraph(g, rank, relationship) {\n  var root = createRootNode(g),\n    result = new Graph({ compound: true }).setGraph({ root: root })\n      .setDefaultNodeLabel(function(v) { return g.node(v); });\n\n  _.forEach(g.nodes(), function(v) {\n    var node = g.node(v),\n      parent = g.parent(v);\n\n    if (node.rank === rank || node.minRank <= rank && rank <= node.maxRank) {\n      result.setNode(v);\n      result.setParent(v, parent || root);\n\n      // This assumes we have only short edges!\n      _.forEach(g[relationship](v), function(e) {\n        var u = e.v === v ? e.w : e.v,\n          edge = result.edge(u, v),\n          weight = !_.isUndefined(edge) ? edge.weight : 0;\n        result.setEdge(u, v, { weight: g.edge(e).weight + weight });\n      });\n\n      if (_.has(node, \"minRank\")) {\n        result.setNode(v, {\n          borderLeft: node.borderLeft[rank],\n          borderRight: node.borderRight[rank]\n        });\n      }\n    }\n  });\n\n  return result;\n}\n\nfunction createRootNode(g) {\n  var v;\n  while (g.hasNode((v = _.uniqueId(\"_root\"))));\n  return v;\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = addSubgraphConstraints;\n\nfunction addSubgraphConstraints(g, cg, vs) {\n  var prev = {},\n    rootPrev;\n\n  _.forEach(vs, function(v) {\n    var child = g.parent(v),\n      parent,\n      prevChild;\n    while (child) {\n      parent = g.parent(child);\n      if (parent) {\n        prevChild = prev[parent];\n        prev[parent] = child;\n      } else {\n        prevChild = rootPrev;\n        rootPrev = child;\n      }\n      if (prevChild && prevChild !== child) {\n        cg.setEdge(prevChild, child);\n        return;\n      }\n      child = parent;\n    }\n  });\n\n  /*\n  function dfs(v) {\n    var children = v ? g.children(v) : g.children();\n    if (children.length) {\n      var min = Number.POSITIVE_INFINITY,\n          subgraphs = [];\n      _.each(children, function(child) {\n        var childMin = dfs(child);\n        if (g.children(child).length) {\n          subgraphs.push({ v: child, order: childMin });\n        }\n        min = Math.min(min, childMin);\n      });\n      _.reduce(_.sortBy(subgraphs, \"order\"), function(prev, curr) {\n        cg.setEdge(prev.v, curr.v);\n        return curr;\n      });\n      return min;\n    }\n    return g.node(v).order;\n  }\n  dfs(undefined);\n  */\n}\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\nvar initOrder = require(\"./init-order\");\nvar crossCount = require(\"./cross-count\");\nvar sortSubgraph = require(\"./sort-subgraph\");\nvar buildLayerGraph = require(\"./build-layer-graph\");\nvar addSubgraphConstraints = require(\"./add-subgraph-constraints\");\nvar Graph = require(\"../graphlib\").Graph;\nvar util = require(\"../util\");\n\nmodule.exports = order;\n\n/*\n * Applies heuristics to minimize edge crossings in the graph and sets the best\n * order solution as an order attribute on each node.\n *\n * Pre-conditions:\n *\n *    1. Graph must be DAG\n *    2. Graph nodes must be objects with a \"rank\" attribute\n *    3. Graph edges must have the \"weight\" attribute\n *\n * Post-conditions:\n *\n *    1. Graph nodes will have an \"order\" attribute based on the results of the\n *       algorithm.\n */\nfunction order(g) {\n  var maxRank = util.maxRank(g),\n    downLayerGraphs = buildLayerGraphs(g, _.range(1, maxRank + 1), \"inEdges\"),\n    upLayerGraphs = buildLayerGraphs(g, _.range(maxRank - 1, -1, -1), \"outEdges\");\n\n  var layering = initOrder(g);\n  assignOrder(g, layering);\n\n  var bestCC = Number.POSITIVE_INFINITY,\n    best;\n\n  for (var i = 0, lastBest = 0; lastBest < 4; ++i, ++lastBest) {\n    sweepLayerGraphs(i % 2 ? downLayerGraphs : upLayerGraphs, i % 4 >= 2);\n\n    layering = util.buildLayerMatrix(g);\n    var cc = crossCount(g, layering);\n    if (cc < bestCC) {\n      lastBest = 0;\n      best = _.cloneDeep(layering);\n      bestCC = cc;\n    }\n  }\n\n  assignOrder(g, best);\n}\n\nfunction buildLayerGraphs(g, ranks, relationship) {\n  return _.map(ranks, function(rank) {\n    return buildLayerGraph(g, rank, relationship);\n  });\n}\n\nfunction sweepLayerGraphs(layerGraphs, biasRight) {\n  var cg = new Graph();\n  _.forEach(layerGraphs, function(lg) {\n    var root = lg.graph().root;\n    var sorted = sortSubgraph(lg, root, cg, biasRight);\n    _.forEach(sorted.vs, function(v, i) {\n      lg.node(v).order = i;\n    });\n    addSubgraphConstraints(lg, cg, sorted.vs);\n  });\n}\n\nfunction assignOrder(g, layering) {\n  _.forEach(layering, function(layer) {\n    _.forEach(layer, function(v, i) {\n      g.node(v).order = i;\n    });\n  });\n}\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\nvar Graph = require(\"../graphlib\").Graph;\nvar util = require(\"../util\");\n\n/*\n * This module provides coordinate assignment based on Brandes and Kpf, \"Fast\n * and Simple Horizontal Coordinate Assignment.\"\n */\n\nmodule.exports = {\n  positionX: positionX,\n  findType1Conflicts: findType1Conflicts,\n  findType2Conflicts: findType2Conflicts,\n  addConflict: addConflict,\n  hasConflict: hasConflict,\n  verticalAlignment: verticalAlignment,\n  horizontalCompaction: horizontalCompaction,\n  alignCoordinates: alignCoordinates,\n  findSmallestWidthAlignment: findSmallestWidthAlignment,\n  balance: balance\n};\n\n/*\n * Marks all edges in the graph with a type-1 conflict with the \"type1Conflict\"\n * property. A type-1 conflict is one where a non-inner segment crosses an\n * inner segment. An inner segment is an edge with both incident nodes marked\n * with the \"dummy\" property.\n *\n * This algorithm scans layer by layer, starting with the second, for type-1\n * conflicts between the current layer and the previous layer. For each layer\n * it scans the nodes from left to right until it reaches one that is incident\n * on an inner segment. It then scans predecessors to determine if they have\n * edges that cross that inner segment. At the end a final scan is done for all\n * nodes on the current rank to see if they cross the last visited inner\n * segment.\n *\n * This algorithm (safely) assumes that a dummy node will only be incident on a\n * single node in the layers being scanned.\n */\nfunction findType1Conflicts(g, layering) {\n  var conflicts = {};\n\n  function visitLayer(prevLayer, layer) {\n    var\n      // last visited node in the previous layer that is incident on an inner\n      // segment.\n      k0 = 0,\n      // Tracks the last node in this layer scanned for crossings with a type-1\n      // segment.\n      scanPos = 0,\n      prevLayerLength = prevLayer.length,\n      lastNode = _.last(layer);\n\n    _.forEach(layer, function(v, i) {\n      var w = findOtherInnerSegmentNode(g, v),\n        k1 = w ? g.node(w).order : prevLayerLength;\n\n      if (w || v === lastNode) {\n        _.forEach(layer.slice(scanPos, i +1), function(scanNode) {\n          _.forEach(g.predecessors(scanNode), function(u) {\n            var uLabel = g.node(u),\n              uPos = uLabel.order;\n            if ((uPos < k0 || k1 < uPos) &&\n                !(uLabel.dummy && g.node(scanNode).dummy)) {\n              addConflict(conflicts, u, scanNode);\n            }\n          });\n        });\n        scanPos = i + 1;\n        k0 = k1;\n      }\n    });\n\n    return layer;\n  }\n\n  _.reduce(layering, visitLayer);\n  return conflicts;\n}\n\nfunction findType2Conflicts(g, layering) {\n  var conflicts = {};\n\n  function scan(south, southPos, southEnd, prevNorthBorder, nextNorthBorder) {\n    var v;\n    _.forEach(_.range(southPos, southEnd), function(i) {\n      v = south[i];\n      if (g.node(v).dummy) {\n        _.forEach(g.predecessors(v), function(u) {\n          var uNode = g.node(u);\n          if (uNode.dummy &&\n              (uNode.order < prevNorthBorder || uNode.order > nextNorthBorder)) {\n            addConflict(conflicts, u, v);\n          }\n        });\n      }\n    });\n  }\n\n\n  function visitLayer(north, south) {\n    var prevNorthPos = -1,\n      nextNorthPos,\n      southPos = 0;\n\n    _.forEach(south, function(v, southLookahead) {\n      if (g.node(v).dummy === \"border\") {\n        var predecessors = g.predecessors(v);\n        if (predecessors.length) {\n          nextNorthPos = g.node(predecessors[0]).order;\n          scan(south, southPos, southLookahead, prevNorthPos, nextNorthPos);\n          southPos = southLookahead;\n          prevNorthPos = nextNorthPos;\n        }\n      }\n      scan(south, southPos, south.length, nextNorthPos, north.length);\n    });\n\n    return south;\n  }\n\n  _.reduce(layering, visitLayer);\n  return conflicts;\n}\n\nfunction findOtherInnerSegmentNode(g, v) {\n  if (g.node(v).dummy) {\n    return _.find(g.predecessors(v), function(u) {\n      return g.node(u).dummy;\n    });\n  }\n}\n\nfunction addConflict(conflicts, v, w) {\n  if (v > w) {\n    var tmp = v;\n    v = w;\n    w = tmp;\n  }\n\n  var conflictsV = conflicts[v];\n  if (!conflictsV) {\n    conflicts[v] = conflictsV = {};\n  }\n  conflictsV[w] = true;\n}\n\nfunction hasConflict(conflicts, v, w) {\n  if (v > w) {\n    var tmp = v;\n    v = w;\n    w = tmp;\n  }\n  return _.has(conflicts[v], w);\n}\n\n/*\n * Try to align nodes into vertical \"blocks\" where possible. This algorithm\n * attempts to align a node with one of its median neighbors. If the edge\n * connecting a neighbor is a type-1 conflict then we ignore that possibility.\n * If a previous node has already formed a block with a node after the node\n * we're trying to form a block with, we also ignore that possibility - our\n * blocks would be split in that scenario.\n */\nfunction verticalAlignment(g, layering, conflicts, neighborFn) {\n  var root = {},\n    align = {},\n    pos = {};\n\n  // We cache the position here based on the layering because the graph and\n  // layering may be out of sync. The layering matrix is manipulated to\n  // generate different extreme alignments.\n  _.forEach(layering, function(layer) {\n    _.forEach(layer, function(v, order) {\n      root[v] = v;\n      align[v] = v;\n      pos[v] = order;\n    });\n  });\n\n  _.forEach(layering, function(layer) {\n    var prevIdx = -1;\n    _.forEach(layer, function(v) {\n      var ws = neighborFn(v);\n      if (ws.length) {\n        ws = _.sortBy(ws, function(w) { return pos[w]; });\n        var mp = (ws.length - 1) / 2;\n        for (var i = Math.floor(mp), il = Math.ceil(mp); i <= il; ++i) {\n          var w = ws[i];\n          if (align[v] === v &&\n              prevIdx < pos[w] &&\n              !hasConflict(conflicts, v, w)) {\n            align[w] = v;\n            align[v] = root[v] = root[w];\n            prevIdx = pos[w];\n          }\n        }\n      }\n    });\n  });\n\n  return { root: root, align: align };\n}\n\nfunction horizontalCompaction(g, layering, root, align, reverseSep) {\n  // This portion of the algorithm differs from BK due to a number of problems.\n  // Instead of their algorithm we construct a new block graph and do two\n  // sweeps. The first sweep places blocks with the smallest possible\n  // coordinates. The second sweep removes unused space by moving blocks to the\n  // greatest coordinates without violating separation.\n  var xs = {},\n    blockG = buildBlockGraph(g, layering, root, reverseSep),\n    borderType = reverseSep ? \"borderLeft\" : \"borderRight\";\n\n  function iterate(setXsFunc, nextNodesFunc) {\n    var stack = blockG.nodes();\n    var elem = stack.pop();\n    var visited = {};\n    while (elem) {\n      if (visited[elem]) {\n        setXsFunc(elem);\n      } else {\n        visited[elem] = true;\n        stack.push(elem);\n        stack = stack.concat(nextNodesFunc(elem));\n      }\n\n      elem = stack.pop();\n    }\n  }\n\n  // First pass, assign smallest coordinates\n  function pass1(elem) {\n    xs[elem] = blockG.inEdges(elem).reduce(function(acc, e) {\n      return Math.max(acc, xs[e.v] + blockG.edge(e));\n    }, 0);\n  }\n\n  // Second pass, assign greatest coordinates\n  function pass2(elem) {\n    var min = blockG.outEdges(elem).reduce(function(acc, e) {\n      return Math.min(acc, xs[e.w] - blockG.edge(e));\n    }, Number.POSITIVE_INFINITY);\n\n    var node = g.node(elem);\n    if (min !== Number.POSITIVE_INFINITY && node.borderType !== borderType) {\n      xs[elem] = Math.max(xs[elem], min);\n    }\n  }\n\n  iterate(pass1, blockG.predecessors.bind(blockG));\n  iterate(pass2, blockG.successors.bind(blockG));\n\n  // Assign x coordinates to all nodes\n  _.forEach(align, function(v) {\n    xs[v] = xs[root[v]];\n  });\n\n  return xs;\n}\n\n\nfunction buildBlockGraph(g, layering, root, reverseSep) {\n  var blockGraph = new Graph(),\n    graphLabel = g.graph(),\n    sepFn = sep(graphLabel.nodesep, graphLabel.edgesep, reverseSep);\n\n  _.forEach(layering, function(layer) {\n    var u;\n    _.forEach(layer, function(v) {\n      var vRoot = root[v];\n      blockGraph.setNode(vRoot);\n      if (u) {\n        var uRoot = root[u],\n          prevMax = blockGraph.edge(uRoot, vRoot);\n        blockGraph.setEdge(uRoot, vRoot, Math.max(sepFn(g, v, u), prevMax || 0));\n      }\n      u = v;\n    });\n  });\n\n  return blockGraph;\n}\n\n/*\n * Returns the alignment that has the smallest width of the given alignments.\n */\nfunction findSmallestWidthAlignment(g, xss) {\n  return _.minBy(_.values(xss), function (xs) {\n    var max = Number.NEGATIVE_INFINITY;\n    var min = Number.POSITIVE_INFINITY;\n\n    _.forIn(xs, function (x, v) {\n      var halfWidth = width(g, v) / 2;\n\n      max = Math.max(x + halfWidth, max);\n      min = Math.min(x - halfWidth, min);\n    });\n\n    return max - min;\n  });\n}\n\n/*\n * Align the coordinates of each of the layout alignments such that\n * left-biased alignments have their minimum coordinate at the same point as\n * the minimum coordinate of the smallest width alignment and right-biased\n * alignments have their maximum coordinate at the same point as the maximum\n * coordinate of the smallest width alignment.\n */\nfunction alignCoordinates(xss, alignTo) {\n  var alignToVals = _.values(alignTo),\n    alignToMin = _.min(alignToVals),\n    alignToMax = _.max(alignToVals);\n\n  _.forEach([\"u\", \"d\"], function(vert) {\n    _.forEach([\"l\", \"r\"], function(horiz) {\n      var alignment = vert + horiz,\n        xs = xss[alignment],\n        delta;\n      if (xs === alignTo) return;\n\n      var xsVals = _.values(xs);\n      delta = horiz === \"l\" ? alignToMin - _.min(xsVals) : alignToMax - _.max(xsVals);\n\n      if (delta) {\n        xss[alignment] = _.mapValues(xs, function(x) { return x + delta; });\n      }\n    });\n  });\n}\n\nfunction balance(xss, align) {\n  return _.mapValues(xss.ul, function(ignore, v) {\n    if (align) {\n      return xss[align.toLowerCase()][v];\n    } else {\n      var xs = _.sortBy(_.map(xss, v));\n      return (xs[1] + xs[2]) / 2;\n    }\n  });\n}\n\nfunction positionX(g) {\n  var layering = util.buildLayerMatrix(g);\n  var conflicts = _.merge(\n    findType1Conflicts(g, layering),\n    findType2Conflicts(g, layering));\n\n  var xss = {};\n  var adjustedLayering;\n  _.forEach([\"u\", \"d\"], function(vert) {\n    adjustedLayering = vert === \"u\" ? layering : _.values(layering).reverse();\n    _.forEach([\"l\", \"r\"], function(horiz) {\n      if (horiz === \"r\") {\n        adjustedLayering = _.map(adjustedLayering, function(inner) {\n          return _.values(inner).reverse();\n        });\n      }\n\n      var neighborFn = (vert === \"u\" ? g.predecessors : g.successors).bind(g);\n      var align = verticalAlignment(g, adjustedLayering, conflicts, neighborFn);\n      var xs = horizontalCompaction(g, adjustedLayering,\n        align.root, align.align, horiz === \"r\");\n      if (horiz === \"r\") {\n        xs = _.mapValues(xs, function(x) { return -x; });\n      }\n      xss[vert + horiz] = xs;\n    });\n  });\n\n  var smallestWidth = findSmallestWidthAlignment(g, xss);\n  alignCoordinates(xss, smallestWidth);\n  return balance(xss, g.graph().align);\n}\n\nfunction sep(nodeSep, edgeSep, reverseSep) {\n  return function(g, v, w) {\n    var vLabel = g.node(v);\n    var wLabel = g.node(w);\n    var sum = 0;\n    var delta;\n\n    sum += vLabel.width / 2;\n    if (_.has(vLabel, \"labelpos\")) {\n      switch (vLabel.labelpos.toLowerCase()) {\n      case \"l\": delta = -vLabel.width / 2; break;\n      case \"r\": delta = vLabel.width / 2; break;\n      }\n    }\n    if (delta) {\n      sum += reverseSep ? delta : -delta;\n    }\n    delta = 0;\n\n    sum += (vLabel.dummy ? edgeSep : nodeSep) / 2;\n    sum += (wLabel.dummy ? edgeSep : nodeSep) / 2;\n\n    sum += wLabel.width / 2;\n    if (_.has(wLabel, \"labelpos\")) {\n      switch (wLabel.labelpos.toLowerCase()) {\n      case \"l\": delta = wLabel.width / 2; break;\n      case \"r\": delta = -wLabel.width / 2; break;\n      }\n    }\n    if (delta) {\n      sum += reverseSep ? delta : -delta;\n    }\n    delta = 0;\n\n    return sum;\n  };\n}\n\nfunction width(g, v) {\n  return g.node(v).width;\n}\n","\"use strict\";\n\nvar _ = require(\"../lodash\");\nvar util = require(\"../util\");\nvar positionX = require(\"./bk\").positionX;\n\nmodule.exports = position;\n\nfunction position(g) {\n  g = util.asNonCompoundGraph(g);\n\n  positionY(g);\n  _.forEach(positionX(g), function(x, v) {\n    g.node(v).x = x;\n  });\n}\n\nfunction positionY(g) {\n  var layering = util.buildLayerMatrix(g);\n  var rankSep = g.graph().ranksep;\n  var prevY = 0;\n  _.forEach(layering, function(layer) {\n    var maxHeight = _.max(_.map(layer, function(v) { return g.node(v).height; }));\n    _.forEach(layer, function(v) {\n      g.node(v).y = prevY + maxHeight / 2;\n    });\n    prevY += maxHeight + rankSep;\n  });\n}\n\n","\"use strict\";\n\nvar _ = require(\"./lodash\");\nvar acyclic = require(\"./acyclic\");\nvar normalize = require(\"./normalize\");\nvar rank = require(\"./rank\");\nvar normalizeRanks = require(\"./util\").normalizeRanks;\nvar parentDummyChains = require(\"./parent-dummy-chains\");\nvar removeEmptyRanks = require(\"./util\").removeEmptyRanks;\nvar nestingGraph = require(\"./nesting-graph\");\nvar addBorderSegments = require(\"./add-border-segments\");\nvar coordinateSystem = require(\"./coordinate-system\");\nvar order = require(\"./order\");\nvar position = require(\"./position\");\nvar util = require(\"./util\");\nvar Graph = require(\"./graphlib\").Graph;\n\nmodule.exports = layout;\n\nfunction layout(g, opts) {\n  var time = opts && opts.debugTiming ? util.time : util.notime;\n  time(\"layout\", function() {\n    var layoutGraph = \n      time(\"  buildLayoutGraph\", function() { return buildLayoutGraph(g); });\n    time(\"  runLayout\",        function() { runLayout(layoutGraph, time); });\n    time(\"  updateInputGraph\", function() { updateInputGraph(g, layoutGraph); });\n  });\n}\n\nfunction runLayout(g, time) {\n  time(\"    makeSpaceForEdgeLabels\", function() { makeSpaceForEdgeLabels(g); });\n  time(\"    removeSelfEdges\",        function() { removeSelfEdges(g); });\n  time(\"    acyclic\",                function() { acyclic.run(g); });\n  time(\"    nestingGraph.run\",       function() { nestingGraph.run(g); });\n  time(\"    rank\",                   function() { rank(util.asNonCompoundGraph(g)); });\n  time(\"    injectEdgeLabelProxies\", function() { injectEdgeLabelProxies(g); });\n  time(\"    removeEmptyRanks\",       function() { removeEmptyRanks(g); });\n  time(\"    nestingGraph.cleanup\",   function() { nestingGraph.cleanup(g); });\n  time(\"    normalizeRanks\",         function() { normalizeRanks(g); });\n  time(\"    assignRankMinMax\",       function() { assignRankMinMax(g); });\n  time(\"    removeEdgeLabelProxies\", function() { removeEdgeLabelProxies(g); });\n  time(\"    normalize.run\",          function() { normalize.run(g); });\n  time(\"    parentDummyChains\",      function() { parentDummyChains(g); });\n  time(\"    addBorderSegments\",      function() { addBorderSegments(g); });\n  time(\"    order\",                  function() { order(g); });\n  time(\"    insertSelfEdges\",        function() { insertSelfEdges(g); });\n  time(\"    adjustCoordinateSystem\", function() { coordinateSystem.adjust(g); });\n  time(\"    position\",               function() { position(g); });\n  time(\"    positionSelfEdges\",      function() { positionSelfEdges(g); });\n  time(\"    removeBorderNodes\",      function() { removeBorderNodes(g); });\n  time(\"    normalize.undo\",         function() { normalize.undo(g); });\n  time(\"    fixupEdgeLabelCoords\",   function() { fixupEdgeLabelCoords(g); });\n  time(\"    undoCoordinateSystem\",   function() { coordinateSystem.undo(g); });\n  time(\"    translateGraph\",         function() { translateGraph(g); });\n  time(\"    assignNodeIntersects\",   function() { assignNodeIntersects(g); });\n  time(\"    reversePoints\",          function() { reversePointsForReversedEdges(g); });\n  time(\"    acyclic.undo\",           function() { acyclic.undo(g); });\n}\n\n/*\n * Copies final layout information from the layout graph back to the input\n * graph. This process only copies whitelisted attributes from the layout graph\n * to the input graph, so it serves as a good place to determine what\n * attributes can influence layout.\n */\nfunction updateInputGraph(inputGraph, layoutGraph) {\n  _.forEach(inputGraph.nodes(), function(v) {\n    var inputLabel = inputGraph.node(v);\n    var layoutLabel = layoutGraph.node(v);\n\n    if (inputLabel) {\n      inputLabel.x = layoutLabel.x;\n      inputLabel.y = layoutLabel.y;\n\n      if (layoutGraph.children(v).length) {\n        inputLabel.width = layoutLabel.width;\n        inputLabel.height = layoutLabel.height;\n      }\n    }\n  });\n\n  _.forEach(inputGraph.edges(), function(e) {\n    var inputLabel = inputGraph.edge(e);\n    var layoutLabel = layoutGraph.edge(e);\n\n    inputLabel.points = layoutLabel.points;\n    if (_.has(layoutLabel, \"x\")) {\n      inputLabel.x = layoutLabel.x;\n      inputLabel.y = layoutLabel.y;\n    }\n  });\n\n  inputGraph.graph().width = layoutGraph.graph().width;\n  inputGraph.graph().height = layoutGraph.graph().height;\n}\n\nvar graphNumAttrs = [\"nodesep\", \"edgesep\", \"ranksep\", \"marginx\", \"marginy\"];\nvar graphDefaults = { ranksep: 50, edgesep: 20, nodesep: 50, rankdir: \"tb\" };\nvar graphAttrs = [\"acyclicer\", \"ranker\", \"rankdir\", \"align\"];\nvar nodeNumAttrs = [\"width\", \"height\"];\nvar nodeDefaults = { width: 0, height: 0 };\nvar edgeNumAttrs = [\"minlen\", \"weight\", \"width\", \"height\", \"labeloffset\"];\nvar edgeDefaults = {\n  minlen: 1, weight: 1, width: 0, height: 0,\n  labeloffset: 10, labelpos: \"r\"\n};\nvar edgeAttrs = [\"labelpos\"];\n\n/*\n * Constructs a new graph from the input graph, which can be used for layout.\n * This process copies only whitelisted attributes from the input graph to the\n * layout graph. Thus this function serves as a good place to determine what\n * attributes can influence layout.\n */\nfunction buildLayoutGraph(inputGraph) {\n  var g = new Graph({ multigraph: true, compound: true });\n  var graph = canonicalize(inputGraph.graph());\n\n  g.setGraph(_.merge({},\n    graphDefaults,\n    selectNumberAttrs(graph, graphNumAttrs),\n    _.pick(graph, graphAttrs)));\n\n  _.forEach(inputGraph.nodes(), function(v) {\n    var node = canonicalize(inputGraph.node(v));\n    g.setNode(v, _.defaults(selectNumberAttrs(node, nodeNumAttrs), nodeDefaults));\n    g.setParent(v, inputGraph.parent(v));\n  });\n\n  _.forEach(inputGraph.edges(), function(e) {\n    var edge = canonicalize(inputGraph.edge(e));\n    g.setEdge(e, _.merge({},\n      edgeDefaults,\n      selectNumberAttrs(edge, edgeNumAttrs),\n      _.pick(edge, edgeAttrs)));\n  });\n\n  return g;\n}\n\n/*\n * This idea comes from the Gansner paper: to account for edge labels in our\n * layout we split each rank in half by doubling minlen and halving ranksep.\n * Then we can place labels at these mid-points between nodes.\n *\n * We also add some minimal padding to the width to push the label for the edge\n * away from the edge itself a bit.\n */\nfunction makeSpaceForEdgeLabels(g) {\n  var graph = g.graph();\n  graph.ranksep /= 2;\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    edge.minlen *= 2;\n    if (edge.labelpos.toLowerCase() !== \"c\") {\n      if (graph.rankdir === \"TB\" || graph.rankdir === \"BT\") {\n        edge.width += edge.labeloffset;\n      } else {\n        edge.height += edge.labeloffset;\n      }\n    }\n  });\n}\n\n/*\n * Creates temporary dummy nodes that capture the rank in which each edge's\n * label is going to, if it has one of non-zero width and height. We do this\n * so that we can safely remove empty ranks while preserving balance for the\n * label's position.\n */\nfunction injectEdgeLabelProxies(g) {\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    if (edge.width && edge.height) {\n      var v = g.node(e.v);\n      var w = g.node(e.w);\n      var label = { rank: (w.rank - v.rank) / 2 + v.rank, e: e };\n      util.addDummyNode(g, \"edge-proxy\", label, \"_ep\");\n    }\n  });\n}\n\nfunction assignRankMinMax(g) {\n  var maxRank = 0;\n  _.forEach(g.nodes(), function(v) {\n    var node = g.node(v);\n    if (node.borderTop) {\n      node.minRank = g.node(node.borderTop).rank;\n      node.maxRank = g.node(node.borderBottom).rank;\n      maxRank = _.max(maxRank, node.maxRank);\n    }\n  });\n  g.graph().maxRank = maxRank;\n}\n\nfunction removeEdgeLabelProxies(g) {\n  _.forEach(g.nodes(), function(v) {\n    var node = g.node(v);\n    if (node.dummy === \"edge-proxy\") {\n      g.edge(node.e).labelRank = node.rank;\n      g.removeNode(v);\n    }\n  });\n}\n\nfunction translateGraph(g) {\n  var minX = Number.POSITIVE_INFINITY;\n  var maxX = 0;\n  var minY = Number.POSITIVE_INFINITY;\n  var maxY = 0;\n  var graphLabel = g.graph();\n  var marginX = graphLabel.marginx || 0;\n  var marginY = graphLabel.marginy || 0;\n\n  function getExtremes(attrs) {\n    var x = attrs.x;\n    var y = attrs.y;\n    var w = attrs.width;\n    var h = attrs.height;\n    minX = Math.min(minX, x - w / 2);\n    maxX = Math.max(maxX, x + w / 2);\n    minY = Math.min(minY, y - h / 2);\n    maxY = Math.max(maxY, y + h / 2);\n  }\n\n  _.forEach(g.nodes(), function(v) { getExtremes(g.node(v)); });\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    if (_.has(edge, \"x\")) {\n      getExtremes(edge);\n    }\n  });\n\n  minX -= marginX;\n  minY -= marginY;\n\n  _.forEach(g.nodes(), function(v) {\n    var node = g.node(v);\n    node.x -= minX;\n    node.y -= minY;\n  });\n\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    _.forEach(edge.points, function(p) {\n      p.x -= minX;\n      p.y -= minY;\n    });\n    if (_.has(edge, \"x\")) { edge.x -= minX; }\n    if (_.has(edge, \"y\")) { edge.y -= minY; }\n  });\n\n  graphLabel.width = maxX - minX + marginX;\n  graphLabel.height = maxY - minY + marginY;\n}\n\nfunction assignNodeIntersects(g) {\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    var nodeV = g.node(e.v);\n    var nodeW = g.node(e.w);\n    var p1, p2;\n    if (!edge.points) {\n      edge.points = [];\n      p1 = nodeW;\n      p2 = nodeV;\n    } else {\n      p1 = edge.points[0];\n      p2 = edge.points[edge.points.length - 1];\n    }\n    edge.points.unshift(util.intersectRect(nodeV, p1));\n    edge.points.push(util.intersectRect(nodeW, p2));\n  });\n}\n\nfunction fixupEdgeLabelCoords(g) {\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    if (_.has(edge, \"x\")) {\n      if (edge.labelpos === \"l\" || edge.labelpos === \"r\") {\n        edge.width -= edge.labeloffset;\n      }\n      switch (edge.labelpos) {\n      case \"l\": edge.x -= edge.width / 2 + edge.labeloffset; break;\n      case \"r\": edge.x += edge.width / 2 + edge.labeloffset; break;\n      }\n    }\n  });\n}\n\nfunction reversePointsForReversedEdges(g) {\n  _.forEach(g.edges(), function(e) {\n    var edge = g.edge(e);\n    if (edge.reversed) {\n      edge.points.reverse();\n    }\n  });\n}\n\nfunction removeBorderNodes(g) {\n  _.forEach(g.nodes(), function(v) {\n    if (g.children(v).length) {\n      var node = g.node(v);\n      var t = g.node(node.borderTop);\n      var b = g.node(node.borderBottom);\n      var l = g.node(_.last(node.borderLeft));\n      var r = g.node(_.last(node.borderRight));\n\n      node.width = Math.abs(r.x - l.x);\n      node.height = Math.abs(b.y - t.y);\n      node.x = l.x + node.width / 2;\n      node.y = t.y + node.height / 2;\n    }\n  });\n\n  _.forEach(g.nodes(), function(v) {\n    if (g.node(v).dummy === \"border\") {\n      g.removeNode(v);\n    }\n  });\n}\n\nfunction removeSelfEdges(g) {\n  _.forEach(g.edges(), function(e) {\n    if (e.v === e.w) {\n      var node = g.node(e.v);\n      if (!node.selfEdges) {\n        node.selfEdges = [];\n      }\n      node.selfEdges.push({ e: e, label: g.edge(e) });\n      g.removeEdge(e);\n    }\n  });\n}\n\nfunction insertSelfEdges(g) {\n  var layers = util.buildLayerMatrix(g);\n  _.forEach(layers, function(layer) {\n    var orderShift = 0;\n    _.forEach(layer, function(v, i) {\n      var node = g.node(v);\n      node.order = i + orderShift;\n      _.forEach(node.selfEdges, function(selfEdge) {\n        util.addDummyNode(g, \"selfedge\", {\n          width: selfEdge.label.width,\n          height: selfEdge.label.height,\n          rank: node.rank,\n          order: i + (++orderShift),\n          e: selfEdge.e,\n          label: selfEdge.label\n        }, \"_se\");\n      });\n      delete node.selfEdges;\n    });\n  });\n}\n\nfunction positionSelfEdges(g) {\n  _.forEach(g.nodes(), function(v) {\n    var node = g.node(v);\n    if (node.dummy === \"selfedge\") {\n      var selfNode = g.node(node.e.v);\n      var x = selfNode.x + selfNode.width / 2;\n      var y = selfNode.y;\n      var dx = node.x - x;\n      var dy = selfNode.height / 2;\n      g.setEdge(node.e, node.label);\n      g.removeNode(v);\n      node.label.points = [\n        { x: x + 2 * dx / 3, y: y - dy },\n        { x: x + 5 * dx / 6, y: y - dy },\n        { x: x +     dx    , y: y },\n        { x: x + 5 * dx / 6, y: y + dy },\n        { x: x + 2 * dx / 3, y: y + dy }\n      ];\n      node.label.x = node.x;\n      node.label.y = node.y;\n    }\n  });\n}\n\nfunction selectNumberAttrs(obj, attrs) {\n  return _.mapValues(_.pick(obj, attrs), Number);\n}\n\nfunction canonicalize(attrs) {\n  var newAttrs = {};\n  _.forEach(attrs, function(v, k) {\n    newAttrs[k.toLowerCase()] = v;\n  });\n  return newAttrs;\n}\n","var _ = require(\"./lodash\");\nvar util = require(\"./util\");\nvar Graph = require(\"./graphlib\").Graph;\n\nmodule.exports = {\n  debugOrdering: debugOrdering\n};\n\n/* istanbul ignore next */\nfunction debugOrdering(g) {\n  var layerMatrix = util.buildLayerMatrix(g);\n\n  var h = new Graph({ compound: true, multigraph: true }).setGraph({});\n\n  _.forEach(g.nodes(), function(v) {\n    h.setNode(v, { label: v });\n    h.setParent(v, \"layer\" + g.node(v).rank);\n  });\n\n  _.forEach(g.edges(), function(e) {\n    h.setEdge(e.v, e.w, {}, e.name);\n  });\n\n  _.forEach(layerMatrix, function(layer, i) {\n    var layerV = \"layer\" + i;\n    h.setNode(layerV, { rank: \"same\" });\n    _.reduce(layer, function(u, v) {\n      h.setEdge(u, v, { style: \"invis\" });\n      return v;\n    });\n  });\n\n  return h;\n}\n","module.exports = \"0.8.5\";\n","/*\nCopyright (c) 2012-2014 Chris Pettitt\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nmodule.exports = {\n  graphlib: require(\"./lib/graphlib\"),\n\n  layout: require(\"./lib/layout\"),\n  debug: require(\"./lib/debug\"),\n  util: {\n    time: require(\"./lib/util\").time,\n    notime: require(\"./lib/util\").notime\n  },\n  version: require(\"./lib/version\")\n};\n","import React from 'react'\nimport { Typography } from '@mui/material'\nimport { HelpPopover } from '../HelpPopover'\n\nexport const UndefinedNodeLabel = () => {\n  return (\n    <>\n      <Typography variant=\"smallText1\" className=\"description\">\n        Undefined\n      </Typography>\n\n      <HelpPopover\n        placement=\"top\"\n        markdownText=\"Provenance tracks the relationship \n          between data, code and analytical results.\"\n        helpUrl=\"https://help.synapse.org/docs/Provenance.1972470373.html\"\n      />\n    </>\n  )\n}\n","import React, { useMemo } from 'react'\nimport { Reference } from '../../utils/synapseTypes'\nimport IconSvg from '../IconSvg'\n\n/**\n * This node type is used if the user cannot access the entity for some reason\n */\nexport const EntityPlaceholderNodeLabel = (data: Reference) => {\n  const targetVersionNumberString = data.targetVersionNumber\n    ? `.${data.targetVersionNumber}`\n    : ''\n  const entityVersionString = `${data.targetId}${targetVersionNumberString}`\n  return useMemo(\n    () => (\n      <>\n        <div>\n          <IconSvg icon=\"fileOutlined\" />\n        </div>\n        <span>{entityVersionString}</span>\n      </>\n    ),\n    [entityVersionString],\n  )\n}\n","import React from 'react'\nimport { Node, Position, ConnectionLineType, Edge, MarkerType } from 'reactflow'\nimport { ActivityNodeLabel } from './ActivityNodeLabel'\nimport { EntityNodeLabel } from './EntityNodeLabel'\nimport {\n  ExpandGraphNodeDataProps,\n  ExpandGraphNodeLabel,\n} from './ExpandGraphNodeLabel'\nimport { ExternalGraphNodeLabel } from './ExternalGraphNodeLabel'\nimport dagre from 'dagre'\nimport { differenceWith, isEqual } from 'lodash-es'\nimport { UndefinedNodeLabel } from './UndefinedNodeLabel'\nimport { EntityHeader, Reference } from '../../utils/synapseTypes'\nimport {\n  Activity,\n  UsedURL,\n} from '../../utils/synapseTypes/Provenance/Provenance'\nimport { EntityPlaceholderNodeLabel } from './EntityPlaceholderNodeLabel'\n\nexport enum NodeType {\n  ENTITY = 'EntityNode',\n  ENTITY_PLACEHOLDER = 'EntityPlaceholderNode',\n  EXTERNAL = 'ExternalNode',\n  ACTIVITY = 'ActivityNode',\n  EXPAND = 'ExpandNode',\n  UNDEFINED = 'UndefinedNode',\n}\n\ntype ProvenanceNodeLabelProps =\n  | UsedURL\n  | Activity\n  | ExpandGraphNodeDataProps\n  | EntityHeader\n  | Reference\n\nexport type ProvenanceNodeProps = {\n  type: NodeType\n  data: ProvenanceNodeLabelProps\n}\n\nexport type ProvenanceNodeData = {\n  label: JSX.Element\n  props: ProvenanceNodeLabelProps\n  type: NodeType\n}\n\nexport const getProvenanceNode = (props: ProvenanceNodeProps): Node => {\n  const { type, data } = props\n  let nodeLabel: JSX.Element\n  switch (type) {\n    case NodeType.ENTITY:\n      nodeLabel = <EntityNodeLabel {...(data as EntityHeader)} />\n      break\n    case NodeType.ENTITY_PLACEHOLDER:\n      nodeLabel = <EntityPlaceholderNodeLabel {...(data as Reference)} />\n      break\n    case NodeType.EXTERNAL:\n      nodeLabel = <ExternalGraphNodeLabel {...(data as UsedURL)} />\n      break\n    case NodeType.ACTIVITY:\n      nodeLabel = <ActivityNodeLabel {...(data as Activity)} />\n      break\n    case NodeType.EXPAND:\n      nodeLabel = (\n        <ExpandGraphNodeLabel {...(data as ExpandGraphNodeDataProps)} />\n      )\n      break\n    case NodeType.UNDEFINED:\n      nodeLabel = <UndefinedNodeLabel />\n      break\n    default:\n      nodeLabel = <p>Unrecognized node type: {type}</p>\n      break\n  }\n  const nodeData: ProvenanceNodeData = {\n    label: nodeLabel,\n    props: data,\n    type: type,\n  }\n  return {\n    id: getNodeId(props),\n    position: { x: 100, y: 100 }, // hard coded, let graph layout library figure this out\n    data: nodeData,\n    connectable: false,\n    draggable: false,\n    // selectable: false, // like to make unselectable, but node contents become non-interactive\n    className: `${type}`,\n  }\n}\n\nexport const getProvenanceEdge = (\n  node1Props: ProvenanceNodeProps,\n  node2Props: ProvenanceNodeProps,\n): Edge => {\n  const node1Id = getNodeId(node1Props)\n  const node2Id = getNodeId(node2Props)\n  return {\n    id: `${node1Id}-${node2Id}`,\n    source: node1Id,\n    target: node2Id,\n    animated: true,\n    type: ConnectionLineType.SimpleBezier,\n    markerEnd: {\n      type: MarkerType.ArrowClosed,\n    },\n  }\n}\n\nexport const getNodeId = (props: ProvenanceNodeProps) => {\n  const { type, data } = props\n  switch (type) {\n    case NodeType.ENTITY:\n      return `${(data as EntityHeader).id}.${\n        (data as EntityHeader).versionNumber ?? 'latest'\n      }`\n    case NodeType.ENTITY_PLACEHOLDER:\n      return `${(data as Reference).targetId}.${\n        (data as Reference).targetVersionNumber ?? 'latest'\n      }`\n    case NodeType.EXTERNAL:\n      return `${(data as UsedURL).url}`\n    case NodeType.ACTIVITY:\n      return `${(data as Activity).id}`\n    case NodeType.EXPAND:\n      return `expand.node.${\n        (data as ExpandGraphNodeDataProps).entityHeader.id\n      }.${\n        (data as ExpandGraphNodeDataProps).entityHeader.versionNumber ??\n        'latest'\n      }`\n    case NodeType.UNDEFINED:\n      return `undefined.dummy.node.${(data as EntityHeader).id}.${\n        (data as EntityHeader).versionNumber ?? 'latest'\n      }`\n  }\n}\n\n// layout\nconst dagreGraph = new dagre.graphlib.Graph()\ndagreGraph.setDefaultEdgeLabel(() => ({}))\n\nconst getNodeHeight = (node: Node) => {\n  const nodeData: ProvenanceNodeData = node.data as ProvenanceNodeData\n  return nodeData.type == NodeType.EXPAND ? 30 : 100\n}\nconst getNodeWidth = (node: Node) => {\n  const nodeData: ProvenanceNodeData = node.data as ProvenanceNodeData\n  return nodeData.type == NodeType.EXPAND ? 30 : 172\n}\n\nexport const getLayoutedElements = (\n  nodes: Node[],\n  edges: Edge[],\n  direction: string,\n) => {\n  const isHorizontal = direction === 'LR'\n  dagreGraph.setGraph({ rankdir: direction })\n\n  nodes.forEach(node => {\n    dagreGraph.setNode(node.id, {\n      width: getNodeWidth(node),\n      height: getNodeHeight(node),\n    })\n  })\n\n  edges.forEach(edge => {\n    dagreGraph.setEdge(edge.source, edge.target)\n  })\n\n  dagre.layout(dagreGraph)\n\n  nodes.forEach(node => {\n    const nodeWithPosition = dagreGraph.node(node.id)\n    node.targetPosition = isHorizontal ? Position.Left : Position.Top\n    node.sourcePosition = isHorizontal ? Position.Right : Position.Bottom\n\n    // We are shifting the dagre node position (anchor=center center) to the top left\n    // so it matches the React Flow node anchor point (top left).\n    node.position = {\n      x: nodeWithPosition.x - getNodeWidth(node) / 2,\n      y: nodeWithPosition.y - getNodeHeight(node) / 2,\n    }\n\n    return node\n  })\n\n  return { nodes, edges }\n}\n\nexport const isArrayEqual = (x: any[], y: any[]) => {\n  return differenceWith(x, y, isEqual).length == 0\n}\n","import { Reference } from '../ReferenceList'\n\n/**\n * http://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/provenance/Used.html\n */\nexport interface Used {\n  wasExecuted: boolean // The enclosed entity was used and also executed in the Activity\n  concreteType: USED_URL_CONCRETE_TYPE | USED_ENTITY_CONCRETE_TYPE\n}\n\nexport const USED_URL_CONCRETE_TYPE_VALUE =\n  'org.sagebionetworks.repo.model.provenance.UsedURL'\nexport type USED_URL_CONCRETE_TYPE = typeof USED_URL_CONCRETE_TYPE_VALUE\n/**\n * http://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/provenance/UsedURL.html\n */\nexport interface UsedURL extends Used {\n  concreteType: USED_URL_CONCRETE_TYPE\n  name: string //\tThe external URL of the file that was used.\n  url: string //\tThe external URL of the file that was used\n}\n\nexport const USED_ENTITY_CONCRETE_TYPE_VALUE =\n  'org.sagebionetworks.repo.model.provenance.UsedEntity'\nexport type USED_ENTITY_CONCRETE_TYPE = typeof USED_ENTITY_CONCRETE_TYPE_VALUE\n/**\n * http://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/provenance/UsedEntity.html\n */\nexport interface UsedEntity extends Used {\n  concreteType: USED_ENTITY_CONCRETE_TYPE\n  reference: Reference\n}\n\n/**\n * http://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/provenance/Activity.html\n */\nexport type Activity = {\n  id: string //\tThe unique immutable ID\n  name: string //\tA name for this Activity.\n  description?: string // A description of this Activity.\n  etag: string //\tSynapse employs an Optimistic Concurrency Control (OCC) scheme to handle concurrent updates. Since the E-Tag changes every time an entity is updated it is used to detect when a client's current representation of an object is out-of-date.\n  createdOn: string //\tThe date this object was created.\n  modifiedOn: string //\tThe date this object was last modified.\n  createdBy: string //\tThe user that created this object.\n  modifiedBy: string //\tThe user that last modified this object.\n  used?: (UsedEntity | UsedURL)[] //The entities used by this Activity.\n}\n","import { Edge, Node } from 'reactflow'\nimport { EntityHeader, Reference } from '../../utils/synapseTypes'\nimport {\n  Activity,\n  UsedURL,\n} from '../../utils/synapseTypes/Provenance/Provenance'\nimport {\n  getNodeId,\n  getProvenanceEdge,\n  getProvenanceNode,\n  NodeType,\n  ProvenanceNodeProps,\n} from './ProvenanceUtils'\n\n/**\n * Is one of the root Entities given by the user\n */\nexport const isRootEntity = (params: {\n  entityHeader: EntityHeader\n  rootEntityHeaders?: EntityHeader[]\n}) => {\n  const { entityHeader, rootEntityHeaders } = params\n  const foundNode = rootEntityHeaders?.find(header => {\n    return (\n      entityHeader.id == header.id &&\n      entityHeader.versionNumber == header.versionNumber\n    )\n  })\n  return foundNode !== undefined\n}\n\n/**\n * Given the node properties, will return true if this node is already in the nodesCopy array.\n */\nexport const isNodeNotFound = (\n  nodeProps: ProvenanceNodeProps,\n  nodesCopy: Node[],\n) => {\n  const foundNode = nodesCopy.find(node => {\n    return node.id === getNodeId(nodeProps)\n  })\n  return foundNode === undefined\n}\n\nexport const findEntityNode = (\n  entityHeader: EntityHeader,\n  nodesCopy: Node[],\n) => {\n  const nodeProps = {\n    type: NodeType.ENTITY,\n    data: entityHeader,\n  }\n  return nodesCopy.find(node => {\n    return node.id === getNodeId(nodeProps)\n  })\n}\n\n/**\n * Given the node properties, will return true if this edge is already in the edgesCopy array.\n */\nexport const isEdgeNotFound = (\n  nodeProps1: ProvenanceNodeProps,\n  nodeProps2: ProvenanceNodeProps,\n  edgesCopy: Edge[],\n) => {\n  const foundEdge = edgesCopy.find(edge => {\n    return (\n      edge.source === getNodeId(nodeProps1) &&\n      edge.target === getNodeId(nodeProps2)\n    )\n  })\n  return foundEdge === undefined\n}\n\n/**\n * Given node properties of the new node and existing node, this function creates and adds a new node to\n * nodesCopy, and creates an edge from the new node to the existing node.  Note, this will only create\n * a new node or edge if these items are not found in the input nodesCopy array and edgesCopy array.\n */\nexport const addNodeAndEdge = (params: {\n  newNodeProps: ProvenanceNodeProps\n  existingNodeProps: ProvenanceNodeProps\n  nodesCopy: Node[]\n  edgesCopy: Edge[]\n}) => {\n  const { newNodeProps, existingNodeProps, nodesCopy, edgesCopy } = params\n  if (isNodeNotFound(newNodeProps, nodesCopy)) {\n    nodesCopy.push(getProvenanceNode(newNodeProps))\n  }\n  if (isEdgeNotFound(newNodeProps, existingNodeProps, edgesCopy)) {\n    edgesCopy.push(getProvenanceEdge(newNodeProps, existingNodeProps))\n  }\n}\n\nexport const addActivityNode = (params: {\n  activity: Activity\n  entityHeader: EntityHeader\n  nodesCopy: Node[]\n  edgesCopy: Edge[]\n}) => {\n  const { activity, entityHeader, nodesCopy, edgesCopy } = params\n  const activityNodeProps = {\n    type: NodeType.ACTIVITY,\n    data: activity,\n  }\n  const entityNodeProps = {\n    type: NodeType.ENTITY,\n    data: entityHeader,\n  }\n  addNodeAndEdge({\n    newNodeProps: activityNodeProps,\n    existingNodeProps: entityNodeProps,\n    nodesCopy,\n    edgesCopy,\n  })\n}\n\nexport const addExpandNode = (params: {\n  entityHeader: EntityHeader\n  itemCount: number | undefined\n  nodesCopy: Node[]\n  edgesCopy: Edge[]\n}) => {\n  const { entityHeader, itemCount = 0, nodesCopy, edgesCopy } = params\n  const expandNodeProps = {\n    type: NodeType.EXPAND,\n    data: {\n      itemCount,\n      entityHeader,\n    },\n  }\n  const entityNodeProps = {\n    type: NodeType.ENTITY,\n    data: entityHeader,\n  }\n  addNodeAndEdge({\n    newNodeProps: expandNodeProps,\n    existingNodeProps: entityNodeProps,\n    nodesCopy,\n    edgesCopy,\n  })\n}\n\nexport const addEntityPlaceholderNode = (params: {\n  ref: Reference\n  activity: Activity\n  nodesCopy: Node[]\n  edgesCopy: Edge[]\n}) => {\n  const { ref, activity, nodesCopy, edgesCopy } = params\n  const entityPlaceholderNodeProps = {\n    type: NodeType.ENTITY_PLACEHOLDER,\n    data: ref,\n  }\n  const activityNodeProps = {\n    type: NodeType.ACTIVITY,\n    data: activity,\n  }\n  addNodeAndEdge({\n    newNodeProps: entityPlaceholderNodeProps,\n    existingNodeProps: activityNodeProps,\n    nodesCopy,\n    edgesCopy,\n  })\n}\n\nexport const addUndefinedNode = (params: {\n  entityHeader: EntityHeader\n  nodesCopy: Node[]\n  edgesCopy: Edge[]\n}) => {\n  const { entityHeader, nodesCopy, edgesCopy } = params\n  const undefinedNodeProps = {\n    type: NodeType.UNDEFINED,\n    data: entityHeader,\n  }\n  const entityNodeProps = {\n    type: NodeType.ENTITY,\n    data: entityHeader,\n  }\n  addNodeAndEdge({\n    newNodeProps: undefinedNodeProps,\n    existingNodeProps: entityNodeProps,\n    nodesCopy,\n    edgesCopy,\n  })\n}\n\nexport const addExternalNode = (params: {\n  usedURL: UsedURL\n  activity: Activity\n  nodesCopy: Node[]\n  edgesCopy: Edge[]\n}) => {\n  const { usedURL, activity, nodesCopy, edgesCopy } = params\n  const activityNodeProps = {\n    type: NodeType.ACTIVITY,\n    data: activity,\n  }\n  const externalNodeProps = {\n    type: NodeType.EXTERNAL,\n    data: usedURL,\n  }\n  addNodeAndEdge({\n    newNodeProps: externalNodeProps,\n    existingNodeProps: activityNodeProps,\n    nodesCopy,\n    edgesCopy,\n  })\n}\n\nexport const addEntityNode = (params: {\n  entityHeader: EntityHeader\n  activity: Activity | undefined\n  nodesCopy: Node[]\n  edgesCopy: Edge[]\n}) => {\n  const { entityHeader, activity, nodesCopy, edgesCopy } = params\n  const entityNodeProps = {\n    type: NodeType.ENTITY,\n    data: entityHeader,\n  }\n  if (isNodeNotFound(entityNodeProps, nodesCopy)) {\n    // add the new entity node\n    nodesCopy.push(getProvenanceNode(entityNodeProps))\n    if (activity) {\n      const activityNodeProps = {\n        type: NodeType.ACTIVITY,\n        data: activity,\n      }\n      edgesCopy.push(getProvenanceEdge(entityNodeProps, activityNodeProps))\n    }\n  }\n}\n","import React, { useCallback, useEffect, useState } from 'react'\nimport ReactFlow, {\n  Controls,\n  Node,\n  Edge,\n  useNodesState,\n  useEdgesState,\n  getConnectedEdges,\n  ReactFlowProvider,\n  useReactFlow,\n} from 'reactflow'\nimport {\n  getLayoutedElements,\n  isArrayEqual,\n  NodeType,\n  ProvenanceNodeData,\n} from './ProvenanceUtils'\nimport {\n  Activity,\n  Used,\n  UsedEntity,\n  UsedURL,\n  USED_ENTITY_CONCRETE_TYPE_VALUE,\n} from '../../utils/synapseTypes/Provenance/Provenance'\nimport { EntityHeader, ReferenceList } from '../../utils/synapseTypes'\nimport { useSynapseContext } from '../../utils/SynapseContext'\nimport { SynapseClient } from '../../utils'\nimport { ExpandGraphNodeDataProps } from './ExpandGraphNodeLabel'\nimport { useGetEntityHeaders } from '../../utils/hooks/SynapseAPI'\nimport { CircularProgress } from '@mui/material'\nimport { displayToast } from '../ToastMessage'\nimport { SynapseErrorBoundary } from '../error/ErrorBanner'\nimport { useErrorHandler } from 'react-error-boundary'\nimport {\n  addActivityNode,\n  addEntityNode,\n  addEntityPlaceholderNode,\n  addExpandNode,\n  addExternalNode,\n  addUndefinedNode,\n  findEntityNode,\n  isRootEntity,\n} from './ProvenanceGraphUtils'\nimport 'reactflow/dist/style.css'\n\nexport type ProvenanceProps = {\n  // what entity nodes should we start with?\n  entityRefs: ReferenceList\n  containerHeight?: string\n  initialNodes?: Node[]\n  initialEdges?: Edge[]\n  onNodesChangedListener?: (nodes: Node[]) => void\n  onEdgesChangedListener?: (edges: Edge[]) => void\n}\n\nconst MAX_ACTIVITY_EXPAND_NODES = 400\nconst DEFAULT_ZOOM = 0.85\n\n/**\n * Renders a Provenance Graph for a set of entities.\n * New Nodes are added to tempNodes, and new Edges are added to tempEdges.\n * On change, these are fed into the dagre js graph library to figure out the node positions,\n * and the output stored in 'nodes' and 'edges'. The 'nodes' and 'edges' arrays are used by the\n * ReactFlow component.\n */\nconst ProvenanceReactFlow = (props: ProvenanceProps) => {\n  const {\n    entityRefs: rootEntityRefs,\n    containerHeight = '200px',\n    initialNodes = [],\n    initialEdges = [],\n    onNodesChangedListener,\n    onEdgesChangedListener,\n  } = props\n  const { accessToken } = useSynapseContext()\n  const [tempNodes, setTempNodes] = React.useState<Node[]>(initialNodes)\n  const [tempEdges, setTempEdges] = React.useState<Edge[]>(initialEdges)\n  const [nodes, setNodes, onNodesChange] = useNodesState([])\n  const [edges, setEdges, onEdgesChange] = useEdgesState([])\n  const [clickedNode, setClickedNode] = useState<Node>()\n  const handleError = useErrorHandler()\n\n  const { data: rootEntityHeadersPage, isSuccess } = useGetEntityHeaders(\n    rootEntityRefs,\n    { useErrorBoundary: true },\n  )\n  if (\n    isSuccess &&\n    rootEntityHeadersPage &&\n    rootEntityHeadersPage.totalNumberOfResults == 0\n  ) {\n    const synapseIds = rootEntityRefs.map(ref => ref.targetId).join(',')\n    handleError(\n      `Unable to load provenance for the given Synapse IDs: ${synapseIds}`,\n    )\n  }\n  const rootEntityHeaders = rootEntityHeadersPage?.results\n  const [initializedPosition, setInitializedPosition] =\n    React.useState<boolean>(false)\n\n  // Get the react flow instance so we attempt to properly center the view.\n  const reactFlowInstance = useReactFlow()\n\n  const onClickNode = useCallback((_event: React.MouseEvent, node: Node) => {\n    setClickedNode(node)\n  }, [])\n\n  /**\n   * Called when we have a new entity to add to the graph.  This will result in adding\n   * a new Entity Node to the nodesCopy, a link from the usedInActivity to the new Entity Node,\n   * AND it will look for an Activity associated with the new entity.  If an Activity is found,\n   * it will add an Expand Node for the user to click (to expand to see this Activity!).\n   * If this is a root node (starting entity node), then we automatically add the Activity Node\n   * and process it.\n   */\n  const addEntity = useCallback(\n    async (params: {\n      entityHeader: EntityHeader\n      usedInActivity?: Activity\n      nodesCopy: Node[]\n      edgesCopy: Edge[]\n    }) => {\n      const { entityHeader, nodesCopy, edgesCopy, usedInActivity } = params\n      addEntityNode({\n        entityHeader,\n        activity: usedInActivity,\n        nodesCopy,\n        edgesCopy,\n      })\n      //look for Activity\n      try {\n        const activity = await SynapseClient.getActivityForEntity(\n          entityHeader.id,\n          entityHeader.versionNumber,\n          accessToken,\n        )\n        // if this is not a root node (or there are too many items to show), add an expand node\n        if (\n          !isRootEntity({ entityHeader, rootEntityHeaders }) ||\n          (activity.used && activity.used.length >= MAX_ACTIVITY_EXPAND_NODES)\n        ) {\n          addExpandNode({\n            entityHeader,\n            itemCount: activity.used?.length,\n            nodesCopy,\n            edgesCopy,\n          })\n        }\n      } catch (e) {\n        // Activity is not accessible\n        console.error(e)\n        if (\n          isRootEntity({\n            entityHeader,\n            rootEntityHeaders,\n          })\n        ) {\n          // add provenance undefined node\n          addUndefinedNode({\n            entityHeader,\n            nodesCopy,\n            edgesCopy,\n          })\n        }\n      }\n    },\n    [accessToken, rootEntityHeaders],\n  )\n\n  /**\n   * This effect attempts to center the graph on one of the root nodes.\n   * Only initializes after after a root node has been added to the graph.\n   */\n  useEffect(() => {\n    if (!initializedPosition && nodes.length > 0) {\n      setTimeout(() => {\n        if (rootEntityHeaders) {\n          const rootEntityNode = findEntityNode(rootEntityHeaders[0], nodes)\n          if (rootEntityNode) {\n            const currentZoom = reactFlowInstance.getZoom()\n            const zoom = currentZoom > DEFAULT_ZOOM ? DEFAULT_ZOOM : currentZoom\n            reactFlowInstance?.setCenter(\n              rootEntityNode.position.x + 150,\n              rootEntityNode.position.y - 30,\n              { zoom, duration: 0 },\n            )\n          }\n          setInitializedPosition(true)\n        }\n      })\n    }\n  }, [initializedPosition, nodes, reactFlowInstance, rootEntityHeaders])\n\n  /**\n   * This is called when the user clicks on an Expand Node.  It will add the associated Activity\n   * and all \"used\" items (entities and urls) to the graph by adding items to the nodesCopy and edgesCopy arrays.\n   */\n  const onExpandEntity = useCallback(\n    async (params: {\n      entityHeader: EntityHeader\n      nodesCopy: Node[]\n      edgesCopy: Edge[]\n    }) => {\n      const { entityHeader, nodesCopy, edgesCopy } = params\n      try {\n        const activity = await SynapseClient.getActivityForEntity(\n          entityHeader.id,\n          entityHeader.versionNumber,\n          accessToken,\n        )\n        addActivityNode({\n          activity,\n          entityHeader,\n          nodesCopy,\n          edgesCopy,\n        })\n        // go through Activity.used array to add these nodes/edges\n        if (activity.used && activity.used.length < MAX_ACTIVITY_EXPAND_NODES) {\n          const usedEntityReferences: ReferenceList = []\n          activity.used.forEach((usedItem: Used) => {\n            if (usedItem.concreteType == USED_ENTITY_CONCRETE_TYPE_VALUE) {\n              usedEntityReferences.push((usedItem as UsedEntity).reference)\n            } else {\n              // UsedURL\n              const usedURL = usedItem as UsedURL\n              addExternalNode({ usedURL, activity, nodesCopy, edgesCopy })\n            }\n          })\n          const usedEntityHeadersPage = await SynapseClient.getEntityHeaders(\n            usedEntityReferences,\n            accessToken,\n          )\n          const { results: usedEntityHeaderPageResults } = usedEntityHeadersPage\n          // find refs that were not returned by the entity header call\n          const refsMissingEntityHeaders = usedEntityReferences.filter(ref => {\n            return (\n              usedEntityHeaderPageResults.find(header => {\n                return header.id == ref.targetId\n              }) == undefined\n            )\n          })\n          refsMissingEntityHeaders.forEach(ref => {\n            addEntityPlaceholderNode({ ref, activity, nodesCopy, edgesCopy })\n          })\n          const addEntityPromises: Promise<void>[] = []\n          usedEntityHeaderPageResults.forEach(header => {\n            addEntityPromises.push(\n              addEntity({\n                entityHeader: header,\n                nodesCopy,\n                edgesCopy,\n                usedInActivity: activity,\n              }),\n            )\n          })\n          await Promise.allSettled(addEntityPromises)\n        }\n      } catch (e) {\n        // Activity is not accessible\n        console.error(e)\n      }\n    },\n    [accessToken, addEntity],\n  )\n\n  /**\n   * This effect code executes when no nodes have been added.\n   * It will add the root nodes, and attempt to expand the root nodes.\n   */\n  useEffect(() => {\n    if (rootEntityHeaders && tempNodes.length == 0) {\n      const nodesCopy = [...tempNodes]\n      const edgesCopy = [...tempEdges]\n      const addAndExpandPromises: Promise<void>[] = []\n      rootEntityHeaders.forEach(header => {\n        const addEntityPromise = addEntity({\n          entityHeader: header,\n          nodesCopy,\n          edgesCopy,\n        })\n        addAndExpandPromises.push(addEntityPromise)\n\n        const expandEntityPromise = onExpandEntity({\n          entityHeader: header,\n          nodesCopy,\n          edgesCopy,\n        })\n        addAndExpandPromises.push(expandEntityPromise)\n      })\n      Promise.allSettled(addAndExpandPromises).finally(() => {\n        setTempNodes(nodesCopy)\n        setTempEdges(edgesCopy)\n      })\n    }\n  }, [\n    addEntity,\n    handleError,\n    onExpandEntity,\n    rootEntityHeaders,\n    rootEntityRefs,\n    tempEdges,\n    tempNodes,\n  ])\n\n  /**\n   * This effect code executes when a node is clicked.\n   * We check to see if it is an expand node.  If it is, then we remove the expand node (and associated edge)\n   * and ask for the Activity and associated \"used\" nodes (entities and URLs)\n   */\n  useEffect(() => {\n    const nodeData: ProvenanceNodeData = clickedNode?.data as ProvenanceNodeData\n    if (clickedNode && nodeData?.type == NodeType.EXPAND) {\n      const expandNodeDataProps = nodeData.props as ExpandGraphNodeDataProps\n      if (expandNodeDataProps.itemCount > MAX_ACTIVITY_EXPAND_NODES) {\n        displayToast(\n          'Web visualization does not support expanding this many items at this time.',\n          'danger',\n        )\n        return\n      } else {\n        // graph will be used outside of synapse, so show a non-branded spinner\n        nodeData.label = <CircularProgress size={30} />\n        // remove clicked node\n        const nodesWithoutExpandNode = tempNodes.filter(\n          node => node.id != clickedNode.id,\n        )\n        const edgeToRemove = getConnectedEdges([clickedNode], tempEdges)[0]\n        const edgesWithoutExpandEdge = tempEdges.filter(\n          edge => edge != edgeToRemove,\n        )\n        onExpandEntity({\n          entityHeader: expandNodeDataProps.entityHeader,\n          nodesCopy: nodesWithoutExpandNode,\n          edgesCopy: edgesWithoutExpandEdge,\n        }).finally(() => {\n          setTempNodes(nodesWithoutExpandNode)\n          setTempEdges(edgesWithoutExpandEdge)\n        })\n      }\n      setClickedNode(undefined)\n    }\n  }, [clickedNode, tempNodes, tempEdges, onExpandEntity])\n\n  /**\n   * This effect code is run when the graph nodes or edges change.\n   * It feeds the nodes and edges into our layout library to figure out where they should be positioned.\n   * The result is saved in the state variable \"nodes\" and \"edges\".\n   */\n  useEffect(() => {\n    const { nodes: layoutedNodes, edges: layoutedEdges } = getLayoutedElements(\n      tempNodes,\n      tempEdges,\n      'TB',\n    )\n    // hack: ProvenanceUtils.getProvenanceNode() returns a new object every time, so check to see if\n    // there were any real changes\n    if (!isArrayEqual(layoutedNodes, nodes)) {\n      setNodes(layoutedNodes)\n      if (onNodesChangedListener) {\n        onNodesChangedListener(layoutedNodes)\n      }\n    }\n    if (!isArrayEqual(layoutedEdges, edges)) {\n      setEdges(layoutedEdges)\n      if (onEdgesChangedListener) {\n        onEdgesChangedListener(layoutedEdges)\n      }\n    }\n  }, [\n    tempNodes,\n    tempEdges,\n    nodes,\n    edges,\n    setNodes,\n    setEdges,\n    initializedPosition,\n    reactFlowInstance,\n    rootEntityRefs,\n    onNodesChangedListener,\n    onEdgesChangedListener,\n  ])\n\n  const onPaneScrollFunction: (event?: React.WheelEvent) => void = useCallback(\n    event => {\n      // Cannot simply check the truthy value of event.deltaX (or Y) because the value might be 0 (or -0), which is falsy\n      if (\n        event &&\n        typeof event.deltaX !== 'undefined' &&\n        typeof event.deltaY !== 'undefined'\n      ) {\n        window.scrollTo(\n          window.scrollX + event.deltaX,\n          window.scrollY + event.deltaY,\n        )\n      }\n    },\n    [],\n  )\n\n  return (\n    <div\n      className=\"bootstrap-4-backport ProvenanceWidget\"\n      role=\"graphics-doc\" //https://www.w3.org/wiki/SVG_Accessibility/ARIA_roles_for_charts#Document_Roles\n      style={{ width: '100%', height: containerHeight }}\n    >\n      <ReactFlow\n        defaultViewport={{ x: 0, y: 0, zoom: DEFAULT_ZOOM }}\n        nodes={nodes}\n        edges={edges}\n        onNodeClick={onClickNode}\n        onNodesChange={onNodesChange}\n        onEdgesChange={onEdgesChange}\n        attributionPosition=\"bottom-right\"\n        onConnect={undefined}\n        zoomOnScroll={false}\n        onPaneScroll={onPaneScrollFunction}\n      >\n        <Controls />\n      </ReactFlow>\n    </div>\n  )\n}\n\nconst ProvenanceGraph = (props: ProvenanceProps) => {\n  return (\n    <SynapseErrorBoundary>\n      <ReactFlowProvider>\n        <ProvenanceReactFlow {...props} />\n      </ReactFlowProvider>\n    </SynapseErrorBoundary>\n  )\n}\n\nexport default ProvenanceGraph\n","import React from 'react'\nimport { Reference } from '../../../utils/synapseTypes'\nimport ProvenanceGraph from '../../provenance/ProvenanceGraph'\n\nexport type MarkdownProvenanceGraphProps = {\n  entityList: string // comma delimited entity references of the form <synapse_ID>/version/<version_number>.  The /version/<version_number> is optional\n  displayHeightPx: string\n  // depth: string, // traverse the given depth, not currently supported in ProvenanceGraph\n  // showExpand: string // option to make graph not expandable, not currently supported in ProvenanceGraph\n}\n\nexport default function MarkdownProvenanceGraph(\n  props: MarkdownProvenanceGraphProps,\n) {\n  const { entityList, displayHeightPx } = props\n  // parse entityList\n  const refs = entityList.split(',').map(v => {\n    const entityAndVersion = v.split('/version/')\n    const ref: Reference = {\n      targetId: entityAndVersion[0],\n      targetVersionNumber:\n        entityAndVersion.length > 1 ? parseInt(entityAndVersion[1]) : undefined,\n    }\n    return ref\n  })\n  const containerHeight = displayHeightPx ? `${displayHeightPx}px` : undefined\n  return <ProvenanceGraph entityRefs={refs} containerHeight={containerHeight} />\n}\n","import * as React from 'react'\nimport { getEntity, getFiles } from '../../utils/SynapseClient'\nimport { SynapseContext } from '../../utils/SynapseContext'\nimport {\n  BatchFileRequest,\n  BatchFileResult,\n  FileEntity,\n  FileHandle,\n  FileHandleAssociateType,\n  FileHandleAssociation,\n} from '../../utils/synapseTypes/'\n\nexport type SynapseImageProps = {\n  wikiId?: string\n  synapseId?: string\n  fileName?: string\n  fileResults?: FileHandle[]\n  params: {\n    align: string\n    scale: string\n    // this should be treated as a boolean, but the actual type that will come through\n    // is a string which I don't want to mis-represent\n    responsive: string\n    altText: string\n  }\n}\n\ntype SynapseImageState = {\n  preSignedURL: string\n}\n\nclass SynapseImage extends React.Component<\n  SynapseImageProps,\n  SynapseImageState\n> {\n  constructor(props: SynapseImageProps) {\n    super(props)\n    this.getEntity = this.getEntity.bind(this)\n    this.getSynapseFiles = this.getSynapseFiles.bind(this)\n    this.state = {\n      preSignedURL: '',\n    }\n  }\n\n  static contextType = SynapseContext\n  declare context: NonNullable<React.ContextType<typeof SynapseContext>>\n\n  public getEntity() {\n    const { synapseId } = this.props\n    if (synapseId) {\n      getEntity<FileEntity>(this.context.accessToken, synapseId).then(\n        // https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/FileEntity.html\n        (data: FileEntity) => {\n          const fileHandleAssociationList = [\n            {\n              associateObjectId: synapseId,\n              associateObjectType: FileHandleAssociateType.FileEntity,\n              fileHandleId: data.dataFileHandleId,\n            },\n          ]\n          this.getSynapseFiles(fileHandleAssociationList, data.dataFileHandleId)\n        },\n      )\n    }\n  }\n  public getSynapseFiles(\n    fileHandleAssociationList: FileHandleAssociation[],\n    id: string,\n  ) {\n    // overload the method for two different use cases, one where\n    // the image is attached to an entity and creates a list on the spot,\n    // the other where list is passed in from componentDidMount in MarkdownSynapse\n    const request: BatchFileRequest = {\n      includeFileHandles: false,\n      includePreSignedURLs: true,\n      includePreviewPreSignedURLs: false,\n      requestedFiles: fileHandleAssociationList,\n    }\n    getFiles(request, this.context.accessToken)\n      .then((data: BatchFileResult) => {\n        const { preSignedURL } = data.requestedFiles.filter(\n          el => el.fileHandleId === id,\n        )[0]\n        this.setState({\n          preSignedURL: preSignedURL!,\n        })\n      })\n      .catch(err => {\n        console.error('Error on getting image ', err)\n      })\n  }\n  public componentDidMount() {\n    if (!this.props.wikiId) {\n      // Get file handle as external attachment\n      this.getEntity()\n    } else {\n      // Can get presigned url right away from wiki association\n      const { fileName, fileResults = [] } = this.props\n      const { id } = fileResults.filter(el => el.fileName === fileName)[0]\n      const fileHandleAssociationList: FileHandleAssociation[] = [\n        {\n          associateObjectId: this.props.wikiId,\n          associateObjectType: FileHandleAssociateType.WikiAttachment,\n          fileHandleId: id,\n        },\n      ]\n      this.getSynapseFiles(fileHandleAssociationList, id)\n    }\n  }\n\n  public render() {\n    const { params } = this.props\n    const { align = '', altText = 'synapse image' } = params\n\n    let scale = 'auto'\n    if (params.scale && params.scale !== '100') {\n      scale = `${Number(params.scale)}%`\n    }\n\n    const alignLowerCase = align.toLowerCase()\n    let className = ''\n    if (alignLowerCase === 'left') {\n      className = 'floatLeft'\n    }\n    if (alignLowerCase === 'right') {\n      className = 'floatright'\n    }\n    if (alignLowerCase === 'center') {\n      className = 'align-center'\n    }\n    const style: React.CSSProperties = {\n      width: scale,\n      height: scale,\n    }\n    if (!this.state.preSignedURL) {\n      return null\n    }\n    return (\n      <React.Fragment>\n        <img\n          alt={altText}\n          className={'img-fluid  ' + className}\n          src={this.state.preSignedURL}\n          style={style}\n        />\n      </React.Fragment>\n    )\n  }\n}\nexport default SynapseImage\n","import React, { useContext } from 'react'\nimport { FileHandleResults, WikiPage } from '../../utils/synapseTypes'\n\nexport type SynapseWikiContextType = {\n  ownerId?: string\n  wikiId?: string\n  wikiPage?: Partial<WikiPage>\n  /** Downloaded file handles that are attached to the wiki */\n  fileHandles?: FileHandleResults\n}\n\n/**\n * This must be exported to use the context in class components.\n */\nexport const SynapseWikiContext = React.createContext<\n  SynapseWikiContextType | undefined\n>(undefined)\n\nexport type SynapseWikiContextProviderProps = {\n  wikiContext?: SynapseWikiContextType\n  children?: React.ReactNode\n}\n\n/**\n * Provides context related to Synapse Wikis\n * @param param0\n * @returns\n */\nexport const SynapseWikiContextProvider: React.FunctionComponent<\n  SynapseWikiContextProviderProps\n> = ({ children, wikiContext }) => {\n  return (\n    <SynapseWikiContext.Provider value={wikiContext}>\n      {children}\n    </SynapseWikiContext.Provider>\n  )\n}\n\nexport const SynapseWikiContextConsumer = SynapseWikiContext.Consumer\n\nexport function useWikiContext(): SynapseWikiContextType {\n  const context = useContext(SynapseWikiContext)\n  return context ?? {}\n}\n","import React from 'react'\nimport SynapseImage, { SynapseImageProps } from '../../widgets/SynapseImage'\nimport { useWikiContext } from '../SynapseWikiContext'\n\nexport type ImageWidgetParams = Omit<\n  SynapseImageProps,\n  'params' | 'fileResults'\n> &\n  SynapseImageProps['params']\n\nexport default function MarkdownSynapseImage(\n  widgetParamsMapped: ImageWidgetParams,\n) {\n  const { wikiId, wikiPage, fileHandles } = useWikiContext()\n  if (widgetParamsMapped.fileName) {\n    if (!fileHandles) {\n      // ensure files are loaded\n      return <></>\n    }\n    // if file name is attached then the fileHandle ID is located\n    // in this wiki's file attachment list\n    return (\n      <SynapseImage\n        params={widgetParamsMapped}\n        fileName={widgetParamsMapped.fileName}\n        wikiId={wikiId || wikiPage?.id}\n        fileResults={fileHandles.list}\n      />\n    )\n  }\n  if (widgetParamsMapped.synapseId) {\n    // otherwise this image's fileHandle ID is not located\n    // in the file attachment list and will be loaded first\n    return (\n      <SynapseImage\n        params={widgetParamsMapped}\n        synapseId={widgetParamsMapped.synapseId}\n      />\n    )\n  }\n  return <></>\n}\n","import Plotly from 'plotly.js-basic-dist'\nimport * as React from 'react'\nimport createPlotlyComponent from 'react-plotly.js/factory'\nimport { SynapseConstants } from '../../utils/'\nimport { getFullQueryTableResults } from '../../utils/SynapseClient'\nimport {\n  QueryResultBundle,\n  QueryBundleRequest,\n} from '../../utils/synapseTypes/'\nimport { parseEntityIdFromSqlStatement } from '../../utils/functions/sqlFunctions'\nimport { SynapseContext } from '../../utils/SynapseContext'\nconst Plot = createPlotlyComponent(Plotly)\n\nexport type SynapsePlotProps = {\n  ownerId?: string\n  wikiId?: string\n  widgetparamsMapped?: any\n}\n\ntype SynapsePlotState = {\n  isLoaded: boolean\n  queryData: QueryResultBundle\n}\n\nclass SynapsePlot extends React.Component<SynapsePlotProps, SynapsePlotState> {\n  constructor(props: SynapsePlotProps) {\n    super(props)\n    this.state = {\n      isLoaded: false,\n      queryData: {} as QueryResultBundle,\n    }\n    this.fetchPlotlyData = this.fetchPlotlyData.bind(this)\n    this.showPlot = this.showPlot.bind(this)\n  }\n\n  static contextType = SynapseContext\n  declare context: NonNullable<React.ContextType<typeof SynapseContext>>\n\n  public componentDidMount() {\n    this.fetchPlotlyData()\n  }\n  /**\n   * Get data for plotly\n   *\n   * @returns data corresponding to plotly widget\n   */\n  public fetchPlotlyData() {\n    const { query } = this.props.widgetparamsMapped\n    const queryRequest: QueryBundleRequest = {\n      concreteType: 'org.sagebionetworks.repo.model.table.QueryBundleRequest',\n      partMask: SynapseConstants.BUNDLE_MASK_QUERY_RESULTS,\n      entityId: parseEntityIdFromSqlStatement(query),\n      query: {\n        sql: query,\n      },\n    }\n\n    getFullQueryTableResults(queryRequest, this.context.accessToken)\n      .then((data: QueryResultBundle) => {\n        this.setState({\n          isLoaded: true,\n          queryData: data,\n        })\n      })\n      .catch((err: any) => {\n        console.log('Error on full table query ', err)\n      })\n  }\n\n  public showPlot() {\n    if (!this.state.isLoaded) {\n      return\n    }\n    const { title, xtitle, ytitle, type, xaxistype, showlegend } =\n      this.props.widgetparamsMapped\n    const queryData = this.state\n    const isHorizontal = this.props.widgetparamsMapped.horizontal.toLowerCase()\n    const layout: any = {\n      showlegend,\n      title,\n    }\n    if (xtitle) {\n      layout.xaxis = {\n        title: xtitle,\n      }\n    }\n    if (xaxistype) {\n      layout.xaxis = {\n        ...layout.xaxis,\n        xaxistype: xaxistype.toLowerCase(),\n      }\n    }\n    if (ytitle) {\n      layout.yaxis = {\n        title: ytitle,\n      }\n    }\n    // init plot_data\n    const plotData: any = []\n    const orientation = isHorizontal ? 'v' : 'h'\n    const headers = queryData.queryData.queryResult?.queryResults.headers ?? []\n    for (let i = 0; i < headers.length - 1; i += 1) {\n      // make an entry for each set of data points\n      plotData[i] = {\n        orientation,\n        name: headers[i + 1].name,\n        type: type.toLowerCase(),\n        x: [],\n        y: [],\n      }\n    }\n    // grab all the data\n    for (const row of queryData.queryData.queryResult?.queryResults.rows ??\n      []) {\n      for (let j = 1; j < row.values.length; j += 1) {\n        // create pairs of data\n        const rowValues: any = row.values\n        plotData[j - 1].x.push(rowValues[0])\n        plotData[j - 1].y.push(rowValues[j])\n      }\n    }\n    return <Plot layout={layout} data={plotData} />\n  }\n\n  public render() {\n    if (!this.state.isLoaded) {\n      return null\n    }\n    return this.showPlot()\n  }\n}\nexport default SynapsePlot\n","import React from 'react'\nimport SynapsePlot, { SynapsePlotProps } from '../../widgets/SynapsePlot'\nimport { useWikiContext } from '../SynapseWikiContext'\n\nexport type PlotWidgetParams = SynapsePlotProps['widgetparamsMapped']\n\nexport default function MarkdownSynapsePlot(props: PlotWidgetParams) {\n  const { ownerId, wikiId, wikiPage } = useWikiContext()\n  return (\n    <SynapsePlot\n      ownerId={ownerId}\n      wikiId={wikiId || wikiPage?.id}\n      widgetparamsMapped={props}\n    />\n  )\n}\n","import { getEntity, getFileHandleContent, getFiles } from '../SynapseClient'\nimport { FileEntity } from '../synapseTypes/'\nimport { Entity } from '../synapseTypes/'\nimport { BatchFileResult } from '../synapseTypes/'\nimport { FileHandle } from '../synapseTypes/'\nimport { BatchFileRequest } from '../synapseTypes/'\nimport {\n  FileHandleAssociation,\n  FileHandleAssociateType,\n} from '../synapseTypes/'\n\nconst ESTIMATED_CORS_TIME_MS: number = 200\nconst ESTIMATED_DOWNLOAD_SPEED_EXPIRE_TIME_KEY: string =\n  'ESTIMATED_DOWNLOAD_SPEED_EXPIRE_TIME'\nconst ESTIMATED_DOWNLOAD_SPEED_KEY: string = 'ESTIMATED_DOWNLOAD_SPEED'\nconst TEST_FILE_ENTITY_ID: string = 'syn12600511'\n/**\n * Return the estimated download speed (bytes/second).  Result is cached.\n * Result is crude estimate since it's a single test file (small sample, only ~2MB), but is a valid test (since it's a Synapse file on s3).\n * The intent is to let the user know if the package download will take many hours to download.\n * @param accessToken\n */\nexport const testDownloadSpeed = (accessToken: string): Promise<number> => {\n  return new Promise((resolve, reject) => {\n    // check cache\n    const cachedSpeedExpireTime = localStorage.getItem(\n      ESTIMATED_DOWNLOAD_SPEED_EXPIRE_TIME_KEY,\n    )\n    const cachedSpeed = localStorage.getItem(ESTIMATED_DOWNLOAD_SPEED_KEY)\n    if (cachedSpeedExpireTime && cachedSpeed) {\n      // is this value expired?\n      const now: number = new Date().getTime()\n      if (now < Number(cachedSpeedExpireTime)) {\n        resolve(Number(cachedSpeed))\n        return\n      }\n    }\n\n    /**\n     * 1.  Get the test File Entity\n     * 2.  Get the file handle and presigned URL associated to the latest version of the test File Entity\n     * 3.  Start the timer and fetch the file content using that presigned URL\n     */\n    getEntity(accessToken, TEST_FILE_ENTITY_ID)\n      .then((entity: Entity) => {\n        const fileEntity: FileEntity = entity as FileEntity\n        const fileHandleAssociationList: FileHandleAssociation[] = [\n          {\n            associateObjectId: fileEntity.id!,\n            associateObjectType: FileHandleAssociateType.FileEntity,\n            fileHandleId: fileEntity.dataFileHandleId,\n          },\n        ]\n        const request: BatchFileRequest = {\n          includeFileHandles: true,\n          includePreSignedURLs: true,\n          includePreviewPreSignedURLs: false,\n          requestedFiles: fileHandleAssociationList,\n        }\n        getFiles(request, accessToken).then((data: BatchFileResult) => {\n          const presignedUrl: string = data.requestedFiles[0].preSignedURL!\n          // we know this file exists\n          const fileHandle: FileHandle = data.requestedFiles[0].fileHandle!\n          // start test!\n          const startMs = new Date().getTime()\n          return getFileHandleContent(fileHandle, presignedUrl).then(() => {\n            // console.log(`Transferred ${fileHandle.contentSize/1000000} MB in ${((new Date().getTime() - startMs - ESTIMATED_CORS_TIME_MS)/1000)} seconds`)\n            // bytes/second\n            const result =\n              fileHandle.contentSize /\n              ((new Date().getTime() - startMs - ESTIMATED_CORS_TIME_MS) / 1000)\n            // save result in cache (for 5 minutes)\n            const now: number = new Date().getTime()\n            localStorage.setItem(\n              ESTIMATED_DOWNLOAD_SPEED_EXPIRE_TIME_KEY,\n              (now + 1000 * 60 * 5).toString(),\n            )\n            localStorage.setItem(\n              ESTIMATED_DOWNLOAD_SPEED_KEY,\n              result.toString(),\n            )\n            resolve(result)\n          })\n        })\n      })\n      .catch(err => reject(err))\n  })\n}\n","import React from 'react'\nimport Skeleton, { SkeletonProps } from '@mui/material/Skeleton'\n\n/**\n * Skeleton with a display value of `inline-block`. MUI applies `display: block` with high specificity, so it's easiest to just apply the style to the component.\n */\nexport const SkeletonInlineBlock: React.FC<SkeletonProps> = props => {\n  return (\n    <Skeleton\n      style={{ ...props.style, display: 'inline-block' }}\n      {...props}\n    ></Skeleton>\n  )\n}\n","!function(t,s){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=s():\"function\"==typeof define&&define.amd?define(s):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs_plugin_duration=s()}(this,(function(){\"use strict\";var t,s,n=1e3,i=6e4,e=36e5,r=864e5,o=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=31536e6,h=2592e6,a=/^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,d={years:u,months:h,days:r,hours:e,minutes:i,seconds:n,milliseconds:1,weeks:6048e5},c=function(t){return t instanceof p},f=function(t,s,n){return new p(t,n,s.$l)},m=function(t){return s.p(t)+\"s\"},l=function(t){return t<0},$=function(t){return l(t)?Math.ceil(t):Math.floor(t)},y=function(t){return Math.abs(t)},g=function(t,s){return t?l(t)?{negative:!0,format:\"\"+y(t)+s}:{negative:!1,format:\"\"+t+s}:{negative:!1,format:\"\"}},p=function(){function l(t,s,n){var i=this;if(this.$d={},this.$l=n,void 0===t&&(this.$ms=0,this.parseFromMilliseconds()),s)return f(t*d[m(s)],this);if(\"number\"==typeof t)return this.$ms=t,this.parseFromMilliseconds(),this;if(\"object\"==typeof t)return Object.keys(t).forEach((function(s){i.$d[m(s)]=t[s]})),this.calMilliseconds(),this;if(\"string\"==typeof t){var e=t.match(a);if(e){var r=e.slice(2).map((function(t){return null!=t?Number(t):0}));return this.$d.years=r[0],this.$d.months=r[1],this.$d.weeks=r[2],this.$d.days=r[3],this.$d.hours=r[4],this.$d.minutes=r[5],this.$d.seconds=r[6],this.calMilliseconds(),this}}return this}var y=l.prototype;return y.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce((function(s,n){return s+(t.$d[n]||0)*d[n]}),0)},y.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=$(t/u),t%=u,this.$d.months=$(t/h),t%=h,this.$d.days=$(t/r),t%=r,this.$d.hours=$(t/e),t%=e,this.$d.minutes=$(t/i),t%=i,this.$d.seconds=$(t/n),t%=n,this.$d.milliseconds=t},y.toISOString=function(){var t=g(this.$d.years,\"Y\"),s=g(this.$d.months,\"M\"),n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var i=g(n,\"D\"),e=g(this.$d.hours,\"H\"),r=g(this.$d.minutes,\"M\"),o=this.$d.seconds||0;this.$d.milliseconds&&(o+=this.$d.milliseconds/1e3);var u=g(o,\"S\"),h=t.negative||s.negative||i.negative||e.negative||r.negative||u.negative,a=e.format||r.format||u.format?\"T\":\"\",d=(h?\"-\":\"\")+\"P\"+t.format+s.format+i.format+a+e.format+r.format+u.format;return\"P\"===d||\"-P\"===d?\"P0D\":d},y.toJSON=function(){return this.toISOString()},y.format=function(t){var n=t||\"YYYY-MM-DDTHH:mm:ss\",i={Y:this.$d.years,YY:s.s(this.$d.years,2,\"0\"),YYYY:s.s(this.$d.years,4,\"0\"),M:this.$d.months,MM:s.s(this.$d.months,2,\"0\"),D:this.$d.days,DD:s.s(this.$d.days,2,\"0\"),H:this.$d.hours,HH:s.s(this.$d.hours,2,\"0\"),m:this.$d.minutes,mm:s.s(this.$d.minutes,2,\"0\"),s:this.$d.seconds,ss:s.s(this.$d.seconds,2,\"0\"),SSS:s.s(this.$d.milliseconds,3,\"0\")};return n.replace(o,(function(t,s){return s||String(i[t])}))},y.as=function(t){return this.$ms/d[m(t)]},y.get=function(t){var s=this.$ms,n=m(t);return\"milliseconds\"===n?s%=1e3:s=\"weeks\"===n?$(s/d[n]):this.$d[n],0===s?0:s},y.add=function(t,s,n){var i;return i=s?t*d[m(s)]:c(t)?t.$ms:f(t,this).$ms,f(this.$ms+i*(n?-1:1),this)},y.subtract=function(t,s){return this.add(t,s,!0)},y.locale=function(t){var s=this.clone();return s.$l=t,s},y.clone=function(){return f(this.$ms,this)},y.humanize=function(s){return t().add(this.$ms,\"ms\").locale(this.$l).fromNow(!s)},y.milliseconds=function(){return this.get(\"milliseconds\")},y.asMilliseconds=function(){return this.as(\"milliseconds\")},y.seconds=function(){return this.get(\"seconds\")},y.asSeconds=function(){return this.as(\"seconds\")},y.minutes=function(){return this.get(\"minutes\")},y.asMinutes=function(){return this.as(\"minutes\")},y.hours=function(){return this.get(\"hours\")},y.asHours=function(){return this.as(\"hours\")},y.days=function(){return this.get(\"days\")},y.asDays=function(){return this.as(\"days\")},y.weeks=function(){return this.get(\"weeks\")},y.asWeeks=function(){return this.as(\"weeks\")},y.months=function(){return this.get(\"months\")},y.asMonths=function(){return this.as(\"months\")},y.years=function(){return this.get(\"years\")},y.asYears=function(){return this.as(\"years\")},l}();return function(n,i,e){t=e,s=e().$utils(),e.duration=function(t,s){var n=e.locale();return f(t,{$l:n},s)},e.isDuration=c;var r=i.prototype.add,o=i.prototype.subtract;i.prototype.add=function(t,s){return c(t)&&(t=t.asMilliseconds()),r.bind(this)(t,s)},i.prototype.subtract=function(t,s){return c(t)&&(t=t.asMilliseconds()),o.bind(this)(t,s)}}}));","!function(r,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(r=\"undefined\"!=typeof globalThis?globalThis:r||self).dayjs_plugin_relativeTime=e()}(this,(function(){\"use strict\";return function(r,e,t){r=r||{};var n=e.prototype,o={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};function i(r,e,t,o){return n.fromToBase(r,e,t,o)}t.en.relativeTime=o,n.fromToBase=function(e,n,i,d,u){for(var f,a,s,l=i.$locale().relativeTime||o,h=r.thresholds||[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],m=h.length,c=0;c<m;c+=1){var y=h[c];y.d&&(f=d?t(e).diff(i,y.d,!0):i.diff(e,y.d,!0));var p=(r.rounding||Math.round)(Math.abs(f));if(s=f>0,p<=y.r||!y.r){p<=1&&c>0&&(y=h[c-1]);var v=l[y.l];u&&(p=u(\"\"+p)),a=\"string\"==typeof v?v.replace(\"%d\",p):v(p,n,y.l,s);break}}if(n)return a;var M=s?l.future:l.past;return\"function\"==typeof M?M(a):M.replace(\"%s\",a)},n.to=function(r,e){return i(r,e,this,!0)},n.from=function(r,e){return i(r,e,this)};var d=function(r){return r.$u?t.utc():t()};n.toNow=function(r){return this.to(d(this),r)},n.fromNow=function(r){return this.from(d(this),r)}}}));","import React, { useState, useEffect } from 'react'\nimport { testDownloadSpeed } from '../../utils/functions/testDownloadSpeed'\nimport { calculateFriendlyFileSize } from '../../utils/functions/calculateFriendlyFileSize'\nimport dayjs from 'dayjs'\nimport { TOOLTIP_DELAY_SHOW } from '../table/SynapseTableConstants'\nimport { useSynapseContext } from '../../utils/SynapseContext'\nimport { SkeletonInlineBlock } from '../../assets/skeletons/SkeletonInlineBlock'\nimport IconSvg from '../IconSvg'\nimport { Tooltip } from '@mui/material'\nimport duration from 'dayjs/plugin/duration'\nimport relativeTime from 'dayjs/plugin/relativeTime'\n\ndayjs.extend(duration)\ndayjs.extend(relativeTime)\n\nexport type DownloadDetailsProps = {\n  numFiles: number\n  numBytes?: number\n}\n\ntype State = {\n  isLoading: boolean\n  downloadSpeed: number\n}\n\n/**\n * Displays download information including number of files, size of download, and time to download.\n * Prefer to use {@link download_list_v2/DownloadDetails} instead, particularly when you have information about file packaging in/eligibility\n * @param props\n * @returns\n */\nexport default function DownloadDetails(props: DownloadDetailsProps) {\n  const { numFiles, numBytes } = props\n  const { accessToken } = useSynapseContext()\n\n  const [state, setState] = useState<State>({\n    isLoading: !!numBytes, // figure out the estimated download time iff we were given a byte count\n    downloadSpeed: 0,\n  })\n  const { isLoading, downloadSpeed } = state\n\n  useEffect(() => {\n    if (accessToken) {\n      testDownloadSpeed(accessToken).then(speed => {\n        setState({\n          isLoading: false,\n          downloadSpeed: speed,\n        })\n      })\n    }\n  }, [accessToken])\n\n  const timeEstimateInSeconds =\n    isLoading || downloadSpeed === 0 || !numBytes ? 0 : numBytes / downloadSpeed\n  const isTimeEstimateLoading = timeEstimateInSeconds === 0\n  const friendlyTime = isTimeEstimateLoading\n    ? ''\n    : dayjs.duration({ seconds: timeEstimateInSeconds }).humanize()\n\n  const isZeroFiles = numFiles === 0\n  const fileCountIconClass = isZeroFiles\n    ? 'SRC-inactive'\n    : 'SRC-primary-text-color'\n\n  const timeEstimateIconClass = isTimeEstimateLoading\n    ? 'SRC-inactive'\n    : 'SRC-primary-text-color'\n  return (\n    <span className=\"download-details-container\">\n      <span>\n        <span className={fileCountIconClass}>\n          <IconSvg icon=\"file\" />\n        </span>\n        {isZeroFiles ? (\n          <SkeletonInlineBlock width={50} />\n        ) : (\n          <> {numFiles}&nbsp;files </>\n        )}\n      </span>\n      {numBytes && (\n        <Tooltip\n          title=\"This is the total size of all files. Zipped package(s) will likely be smaller.\"\n          enterNextDelay={TOOLTIP_DELAY_SHOW}\n          placement=\"top\"\n        >\n          <span data-testid=\"numBytesUI\">\n            <span className={timeEstimateIconClass}>\n              <IconSvg icon=\"database\" />\n            </span>\n            {isTimeEstimateLoading ? (\n              <SkeletonInlineBlock width={50} />\n            ) : (\n              calculateFriendlyFileSize(numBytes)\n            )}\n          </span>\n        </Tooltip>\n      )}\n      {numBytes && (\n        <Tooltip\n          title=\"This is an estimate of how long package download will take.\"\n          enterNextDelay={TOOLTIP_DELAY_SHOW}\n          placement=\"top\"\n        >\n          <span data-testid=\"downloadTimeEstimateUI\">\n            <span className={timeEstimateIconClass}>\n              <IconSvg icon=\"clock\" />\n            </span>\n            {isLoading && numFiles > 0 ? (\n              <SkeletonInlineBlock width={50} />\n            ) : (\n              friendlyTime\n            )}\n          </span>\n        </Tooltip>\n      )}\n    </span>\n  )\n}\n","import * as React from 'react'\nimport { createContext, useContext } from 'react'\nimport { SynapseClientError } from '../utils/SynapseClientError'\nimport {\n  AsynchronousJobStatus,\n  ColumnModel,\n  QueryBundleRequest,\n  QueryResultBundle,\n  Table,\n} from '../utils/synapseTypes'\nimport { ImmutableTableQueryResult } from './useImmutableTableQuery'\n\nexport const QUERY_FILTERS_EXPANDED_CSS: string = 'isShowingFacetFilters'\nexport const QUERY_FILTERS_COLLAPSED_CSS: string = 'isHidingFacetFilters'\n\n/*\n  For details page: to lock a column (e.g. study, grant) so that the facet values and active filters\n  will not appear on the details page. The facet name is given by the URL search param.\n  The type is defined here so that other child components in SRC won't generate type errors.\n */\nexport type LockedColumn = {\n  columnName?: string\n  value?: string\n}\n\nexport type QueryContextType = {\n  /** The entity being queried. Will be undefined while initially fetching */\n  entity: Table | undefined\n  /** The query results, which will be undefined while initially fetching a new bundle, but will not be unloaded when fetching new pages */\n  data: QueryResultBundle | undefined\n  /** Returns a deep clone of the current query bundle request */\n  getLastQueryRequest: () => QueryBundleRequest\n  /** Returns a deep clone of the initial query bundle request */\n  getInitQueryRequest: () => QueryBundleRequest\n  /** Updates the current query with the passed request */\n  executeQueryRequest: (param: QueryBundleRequest) => void\n  /** Resets the query to its initial state, clearing all filters added by the user */\n  resetQuery: ImmutableTableQueryResult['resetQuery']\n  removeSelectedFacet: ImmutableTableQueryResult['removeSelectedFacet']\n  removeValueFromSelectedFacet: ImmutableTableQueryResult['removeValueFromSelectedFacet']\n  /** Removes a matching QueryFilter from the query */\n  removeQueryFilter: ImmutableTableQueryResult['removeQueryFilter']\n  /** Removes a value from a QueryFilter. If no more values remain in the filter, the filter is also removed */\n  removeValueFromQueryFilter: ImmutableTableQueryResult['removeValueFromQueryFilter']\n  /** Returns true when loading a brand-new query result bundle. Will not be true when just loading the next page of query results. */\n  isLoadingNewBundle: boolean\n  /** The error returned by the query request, if one is encountered */\n  error: SynapseClientError | null\n  /** The status of the asynchronous job. */\n  asyncJobStatus?: AsynchronousJobStatus<QueryBundleRequest, QueryResultBundle>\n  /** Whether facets are available to be filtered upon based on the current data */\n  isFacetsAvailable: boolean\n  /**\n   * A column name may be \"locked\" so that it is both (1) not shown to the user that the filter is active, and (2) not modifiable by the user.\n   * For example, we may show only the data matching a particular facet value on a Details Page without implying that the shown data is part of a larger table.\n   * The presence of a locked filter will result in a client-side modification of the active query and result bundle data.\n   */\n  lockedColumn?: LockedColumn\n  /** Returns true iff the current request has resettable filters applied via facet filters or additionalFilters. Excludes filters applied to a locked column */\n  hasResettableFilters: boolean\n  getColumnModel: (columnName: string) => ColumnModel | null\n}\n\nexport type PaginatedQueryContextType = QueryContextType & {\n  /** Navigates to a particular page, where the first page has value 1 */\n  goToPage: (pageNum: number) => void\n  /** The current page number, where page 1 is the first page. */\n  currentPage: number\n  /** Updates the page size */\n  setPageSize: (pageSize: number) => void\n  /** The current page size. */\n  pageSize: number\n}\n\nexport type InfiniteQueryContextType = QueryContextType & {\n  /** Returns true when loading a new page of query results */\n  isLoadingNewPage: boolean\n  /** Whether the query result bundle has a next page */\n  hasNextPage: boolean\n  /** Invoke this method to fetch and append the next page of rows to the data  */\n  appendNextPageToResults: () => Promise<void>\n  /** Invoke to fetch and update the data with the next page of query results */\n  goToNextPage: () => Promise<void>\n  /** Whether the query result bundle has a previous page */\n  hasPreviousPage: boolean\n  /** Invoke to fetch and update the data with the previous page of query results */\n  goToPreviousPage: () => Promise<void>\n}\n/**\n * This must be exported to use the context in class components.\n */\nexport const QueryContext = createContext<QueryContextType | undefined>(\n  undefined,\n)\n\nexport type QueryContextProviderProps = React.PropsWithChildren<{\n  queryContext: QueryContextType\n}>\n\n/**\n * Provides data related to a Synapse table query, and functions for iterating through pages of the data.\n */\nexport const QueryContextProvider = ({\n  children,\n  queryContext,\n}: QueryContextProviderProps) => {\n  return (\n    <QueryContext.Provider value={queryContext}>\n      {children}\n    </QueryContext.Provider>\n  )\n}\n\nexport function useQueryContext(): QueryContextType {\n  const context = useContext(QueryContext)\n  if (context === undefined) {\n    throw new Error('useQueryContext must be used within a QueryWrapper')\n  }\n  return context\n}\n\nexport function usePaginatedQueryContext(): PaginatedQueryContextType {\n  const context = useContext(QueryContext)\n  if (context === undefined) {\n    throw new Error(\n      'usePaginatedQueryContext must be used within a QueryWrapper',\n    )\n  }\n  // TODO: Identify more type-safe alternative to casting\n  return context as PaginatedQueryContextType\n}\n\nexport function useInfiniteQueryContext(): InfiniteQueryContextType {\n  const context = useContext(QueryContext)\n  if (context === undefined) {\n    throw new Error(\n      'useInfiniteQueryContext must be used within a QueryWrapper',\n    )\n  }\n  // TODO: Identify more type-safe alternative to casting\n  return context as InfiniteQueryContextType\n}\n\nexport const QueryContextConsumer = QueryContext.Consumer\n","import { QueryBundleRequest } from '../synapseTypes/Table/QueryBundleRequest'\nimport { Query } from '../synapseTypes'\nimport { SynapseConstants } from '..'\nimport { parseEntityIdFromSqlStatement } from './sqlFunctions'\n\n//id consists of a component class/function name and it's index\nfunction getComponentSearchHashId(\n  componentName: string,\n  componentIndex: number,\n): string {\n  return `${componentName}${componentIndex}`\n}\n\n//returns updated search string with the component's info\nfunction patchSearchString(\n  componentSearchHashId: string,\n  stringifiedQuery: string,\n): string | undefined {\n  const searchString = window.location.search\n\n  const searchFragment = `${componentSearchHashId}=${stringifiedQuery}`\n  if (!searchString) {\n    return searchFragment\n  }\n\n  if (!searchString.includes(`${componentSearchHashId}=`)) {\n    //substr(1) because we don't want '?' character\n    return `${searchString.substr(1)}&${searchFragment}`\n  }\n  const searchHashes = window.location.search\n    .slice(searchString.indexOf('?') + 1)\n    .split('&')\n\n  const searchHashesUpdated = searchHashes\n    .map(item => {\n      const split = item.split('=')\n      if (split[0] === componentSearchHashId) {\n        return `${searchFragment}`\n      } else return item\n    })\n    .join('&')\n  return searchHashesUpdated\n}\n\n//gets a value for the search param for the component from the url\nexport function getSearchParamValueFromUrl(\n  componentName: string,\n  componentIndex: number,\n): string | undefined {\n  if (!window.location.search) {\n    return undefined\n  }\n  const componentSearchHashId = getComponentSearchHashId(\n    componentName,\n    componentIndex,\n  )\n  const hashes = window.location.search\n    .slice(window.location.search.indexOf('?') + 1)\n    .split('&')\n  const getSearchParamValue = hashes\n    .filter(item => {\n      const hash = item.split('=')\n      return hash[0] === componentSearchHashId\n    })\n    .map(item => item.split('=')[1])[0]\n  return getSearchParamValue\n    ? decodeURIComponent(getSearchParamValue)\n    : undefined\n}\n\n//updates the url with the components new search params\nexport function updateUrlWithNewSearchParam(\n  componentName: string,\n  componentIndex: number | undefined,\n  stringifiedQuery: string,\n) {\n  const componentSearchHashId =\n    componentIndex !== undefined\n      ? getComponentSearchHashId(componentName, componentIndex)\n      : componentName\n  const searchString = patchSearchString(\n    componentSearchHashId,\n    stringifiedQuery,\n  )\n  const location = window.location\n  const newURL = `${location.protocol}//${location.hostname}${\n    location.port ? ':' + location.port : ''\n  }${location.pathname}?${searchString}`\n\n  window.history.replaceState('object or string', 'Title', newURL)\n}\n\nexport function getQueryRequestFromLink(\n  componentName: string,\n  componentIndex: number,\n): QueryBundleRequest | undefined {\n  const searchParamValue = getSearchParamValueFromUrl(\n    componentName,\n    componentIndex,\n  )\n\n  let initQueryRequest: QueryBundleRequest | undefined = undefined\n  if (searchParamValue) {\n    const query = JSON.parse(searchParamValue) as Query\n    if (query.sql) {\n      initQueryRequest = {\n        concreteType: 'org.sagebionetworks.repo.model.table.QueryBundleRequest',\n        partMask:\n          SynapseConstants.BUNDLE_MASK_QUERY_COLUMN_MODELS |\n          SynapseConstants.BUNDLE_MASK_QUERY_FACETS |\n          SynapseConstants.BUNDLE_MASK_QUERY_SELECT_COLUMNS |\n          SynapseConstants.BUNDLE_MASK_QUERY_RESULTS |\n          SynapseConstants.BUNDLE_MASK_QUERY_COUNT,\n        entityId: parseEntityIdFromSqlStatement(query.sql),\n        query,\n      }\n    }\n  }\n  return initQueryRequest\n}\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport {\n  FacetColumnRequest,\n  isFacetColumnValuesRequest,\n  QueryBundleRequest,\n} from '../utils/synapseTypes'\nimport { cloneDeep, isEqual } from 'lodash-es'\nimport * as DeepLinkingUtils from '../utils/functions/deepLinkingUtils'\nimport { DEFAULT_PAGE_SIZE } from '../utils/SynapseConstants'\nimport { parseEntityIdAndVersionFromSqlStatement } from '../utils/functions/sqlFunctions'\nimport {\n  isColumnMultiValueFunctionQueryFilter,\n  isColumnSingleValueQueryFilter,\n  QueryFilter,\n} from '../utils/synapseTypes/Table/QueryFilter'\nimport useDeepCompareEffect from 'use-deep-compare-effect'\n\nexport type ImmutableTableQueryResult = {\n  /** The ID of the table parsed from the SQL query */\n  entityId: string\n  /** The version number of the table parsed from the SQL query */\n  versionNumber?: number\n  getInitQueryRequest: () => QueryBundleRequest\n  getLastQueryRequest: () => QueryBundleRequest\n  setQuery: (\n    queryRequest:\n      | QueryBundleRequest\n      | ((lastQueryRequest: QueryBundleRequest) => QueryBundleRequest),\n  ) => void\n  pageSize: number\n  /** The current page of results. The first page is `1` */\n  currentPage: number\n  setPageSize: (pageSize: number) => void\n  /** pageNumber is 1-indexed */\n  goToPage: (pageNumber: number) => void\n  /** Resets the query to the initial state, clearing all user-specified filters */\n  resetQuery: () => void\n  /** Removes a particular selected facet from the query */\n  removeSelectedFacet: (facet: FacetColumnRequest) => void\n  /** Removes a particular value from a selected facet. If the value is the last value in the FacetColumnRequest, the selected facet will be removed. */\n  removeValueFromSelectedFacet: (\n    facet: FacetColumnRequest,\n    value: string,\n  ) => void\n  /** Removes a particular QueryFilter from the query */\n  removeQueryFilter: (filter: QueryFilter) => void\n  /** Removes a particular value from a QueryFilter. If the value is the last value in the filter, the filter will be removed. */\n  removeValueFromQueryFilter: (filter: QueryFilter, value: string) => void\n\n  /**\n   * TODO: This hook could handle all potential query transformations, such as\n   *    - addFacetFilter, removeFacetFilter, clearFacetFilters\n   *    - addAdditionalFilter, remove..., clear...\n   *\n   * This could be preferable to allowing any QueryContext subscriber to arbitrarily update the query with `setQuery`\n   *  because we could uniformly handle all complex stateful logic in this hook\n   */\n}\n\nexport type UseImmutableTableQueryOptions = {\n  /** The initial table query request object */\n  initQueryRequest: QueryBundleRequest\n  /** Whether the URL should update when the query is modified. */\n  shouldDeepLink?: boolean\n  /** Unique index for the component on the page so URL updates do not conflict between table query components */\n  componentIndex?: number\n  /** Callback invoked when the query is modified */\n  onQueryChange?: (newQueryJson: string) => void\n}\n\n/**\n * Custom hook that maintains and manages the state of a Synapse Table query.\n * @param options\n * @returns\n */\nexport default function useImmutableTableQuery(\n  options: UseImmutableTableQueryOptions,\n): ImmutableTableQueryResult {\n  const {\n    initQueryRequest,\n    componentIndex = 0,\n    shouldDeepLink = false,\n    onQueryChange,\n  } = options\n\n  const [lastQueryRequest, setLastQueryRequest] =\n    useState<QueryBundleRequest>(initQueryRequest)\n\n  /**\n   * Inspect the URL on mount to see if we have a particular query request that we must show.\n   */\n  useEffect(() => {\n    const query = DeepLinkingUtils.getQueryRequestFromLink(\n      'QueryWrapper',\n      componentIndex,\n    )\n    if (query) {\n      setLastQueryRequest(query)\n    }\n  }, [componentIndex])\n\n  /**\n   * Pass down a deep clone (so no side effects on the child's part) of the\n   * last query request made\n   *\n   * @returns\n   * @memberof QueryWrapper\n   */\n  const getLastQueryRequest = useCallback(() => {\n    return cloneDeep(lastQueryRequest)\n  }, [lastQueryRequest])\n\n  /**\n   * Pass down a deep clone (so no side effects on the child's part) of the\n   * first query request made\n   *\n   * @returns\n   * @memberof QueryWrapper\n   */\n  const getInitQueryRequest = useCallback((): QueryBundleRequest => {\n    return cloneDeep(initQueryRequest)\n  }, [initQueryRequest])\n\n  /**\n   * Execute the given query request, updating all the data in the QueryContext to match the new query\n   * @param {*} queryRequest Query request as specified by\n   *                         https://rest-docs.synapse.org/rest/org/sagebionetworks/repo/model/table/Query.html\n   */\n  const setQuery = useCallback(\n    (\n      queryRequest:\n        | QueryBundleRequest\n        | ((lastQueryRequest: QueryBundleRequest) => QueryBundleRequest),\n    ): void => {\n      let newQueryRequest: QueryBundleRequest\n      if (typeof queryRequest === 'function') {\n        newQueryRequest = queryRequest(getLastQueryRequest())\n      } else {\n        newQueryRequest = queryRequest\n      }\n\n      // Clone the query request before storing it in state, in case the original is mutated\n      const clonedQueryRequest = cloneDeep(newQueryRequest)\n      setLastQueryRequest(clonedQueryRequest)\n\n      if (clonedQueryRequest.query) {\n        const clonedQueryJson = JSON.stringify(clonedQueryRequest.query)\n        if (shouldDeepLink) {\n          const encodedQuery = encodeURIComponent(clonedQueryJson)\n          DeepLinkingUtils.updateUrlWithNewSearchParam(\n            'QueryWrapper',\n            componentIndex,\n            encodedQuery,\n          )\n        }\n        if (onQueryChange) {\n          onQueryChange(clonedQueryJson)\n        }\n      }\n    },\n    [componentIndex, getLastQueryRequest, onQueryChange, shouldDeepLink],\n  )\n\n  const { entityId, versionNumber } = useMemo(\n    () => parseEntityIdAndVersionFromSqlStatement(lastQueryRequest.query.sql)!,\n    [lastQueryRequest.query.sql],\n  )\n\n  const pageSize = lastQueryRequest.query.limit ?? DEFAULT_PAGE_SIZE\n  const currentPage = Math.ceil(\n    ((lastQueryRequest.query.offset ?? 0) + Number(pageSize)) / pageSize,\n  )\n\n  const setPageSize = useCallback(\n    (pageSize: number) => {\n      setQuery(currentQuery => {\n        currentQuery.query.limit = pageSize\n        return currentQuery\n      })\n    },\n    [setQuery],\n  )\n\n  const goToPage = useCallback(\n    (pageNumber: number) => {\n      setQuery(currentQuery => {\n        currentQuery.query.offset = (pageNumber - 1) * pageSize\n        return currentQuery\n      })\n    },\n    [pageSize, setQuery],\n  )\n\n  const resetQuery = useCallback(() => {\n    setQuery(initQueryRequest)\n  }, [initQueryRequest, setQuery])\n\n  /* If the initial query changes, then reset the query to match the new prop */\n  useDeepCompareEffect(() => {\n    if (lastQueryRequest != initQueryRequest) {\n      resetQuery()\n    }\n  }, [initQueryRequest])\n\n  const removeSelectedFacet = useCallback(\n    (facetColumnRequest: FacetColumnRequest) => {\n      setQuery(currentQuery => {\n        currentQuery.query.selectedFacets = (\n          currentQuery.query.selectedFacets ?? []\n        ).filter(facet => {\n          // Use lodash for deep comparison\n          return !isEqual(facet, facetColumnRequest)\n        })\n        return currentQuery\n      })\n    },\n    [setQuery],\n  )\n\n  const removeValueFromSelectedFacet = useCallback(\n    (facet: FacetColumnRequest, value: string) => {\n      setQuery(currentQuery => {\n        currentQuery.query.selectedFacets = (\n          currentQuery.query.selectedFacets ?? []\n        )\n          // Modify the requested filter\n          .map(facetColumnRequest => {\n            if (\n              isFacetColumnValuesRequest(facetColumnRequest) &&\n              isEqual(facetColumnRequest, facet)\n            ) {\n              // Remove the value from the filter\n              facetColumnRequest.facetValues =\n                facetColumnRequest.facetValues.filter(v => v !== value)\n            }\n            return facetColumnRequest\n          })\n          // Remove filters that have no values\n          .filter(facetColumnRequest => {\n            if (isFacetColumnValuesRequest(facetColumnRequest)) {\n              // Remove the value from the filter\n              return (\n                Array.isArray(facetColumnRequest.facetValues) &&\n                facetColumnRequest.facetValues.length > 0\n              )\n            }\n            return true\n          })\n        return currentQuery\n      })\n    },\n    [setQuery],\n  )\n\n  const removeQueryFilter = useCallback(\n    (queryFilter: QueryFilter) => {\n      setQuery(currentQuery => {\n        currentQuery.query.additionalFilters = (\n          currentQuery.query.additionalFilters ?? []\n        ).filter(qf => {\n          // Use lodash for deep comparison\n          return !isEqual(qf, queryFilter)\n        })\n        return currentQuery\n      })\n    },\n    [setQuery],\n  )\n\n  const removeValueFromQueryFilter = useCallback(\n    (queryFilter: QueryFilter, value: string) => {\n      setQuery(currentQuery => {\n        currentQuery.query.additionalFilters = (\n          currentQuery.query.additionalFilters ?? []\n        )\n          // Modify the requested filter\n          .map(qf => {\n            if (\n              (isColumnSingleValueQueryFilter(qf) ||\n                isColumnMultiValueFunctionQueryFilter(qf)) &&\n              isEqual(qf, queryFilter)\n            ) {\n              // Remove the value from the filter\n              qf.values = qf.values.filter(v => v !== value)\n            }\n            return qf\n          })\n          // Remove filters that have no values\n          .filter(qf => {\n            if (\n              isColumnSingleValueQueryFilter(qf) ||\n              isColumnMultiValueFunctionQueryFilter(qf)\n            ) {\n              // Remove the value from the filter\n              return Array.isArray(qf.values) && qf.values.length > 0\n            }\n            return true\n          })\n        return currentQuery\n      })\n    },\n    [setQuery],\n  )\n\n  return {\n    entityId,\n    versionNumber,\n    getInitQueryRequest,\n    getLastQueryRequest,\n    setQuery,\n    pageSize,\n    currentPage,\n    setPageSize,\n    goToPage,\n    resetQuery,\n    removeSelectedFacet,\n    removeValueFromSelectedFacet,\n    removeQueryFilter,\n    removeValueFromQueryFilter,\n  }\n}\n","import React, { useCallback } from 'react'\nimport { useMemo, useState } from 'react'\nimport { useDeepCompareEffectNoCheck } from 'use-deep-compare-effect'\nimport {\n  isFacetAvailable,\n  hasResettableFilters as hasResettableFiltersUtil,\n  removeLockedColumnFromFacetData,\n} from '../utils/functions/queryUtils'\nimport {\n  useGetEntity,\n  useGetQueryResultBundleWithAsyncStatus,\n} from '../utils/hooks/SynapseAPI'\nimport {\n  AsynchronousJobStatus,\n  QueryBundleRequest,\n  QueryResultBundle,\n  Table,\n} from '../utils/synapseTypes'\nimport {\n  LockedColumn,\n  PaginatedQueryContextType,\n  QueryContextProvider,\n} from './QueryContext'\nimport useImmutableTableQuery from './useImmutableTableQuery'\n\nexport const QUERY_FILTERS_EXPANDED_CSS: string = 'isShowingFacetFilters'\nexport const QUERY_FILTERS_COLLAPSED_CSS: string = 'isHidingFacetFilters'\n\nexport type QueryWrapperProps = {\n  children: React.ReactNode | React.ReactNode[]\n  initQueryRequest: QueryBundleRequest\n  componentIndex?: number //used for deep linking\n  shouldDeepLink?: boolean\n  onQueryChange?: (newQueryJson: string) => void\n  onQueryResultBundleChange?: (newQueryResultBundleJson: string) => void\n  lockedColumn?: LockedColumn\n}\n\n/**\n * Component that manages the state of a Synapse table query. Data can be accessed via QueryContext using\n * either `useQueryContext` or `QueryContextConsumer`.\n */\nexport function QueryWrapper(props: QueryWrapperProps) {\n  const {\n    initQueryRequest,\n    onQueryChange,\n    onQueryResultBundleChange,\n    lockedColumn,\n    componentIndex,\n    shouldDeepLink,\n  } = props\n\n  const [currentAsyncStatus, setCurrentAsyncStatus] = useState<\n    AsynchronousJobStatus<QueryBundleRequest, QueryResultBundle> | undefined\n  >(undefined)\n\n  const {\n    entityId,\n    versionNumber,\n    getInitQueryRequest,\n    getLastQueryRequest,\n    setQuery,\n    currentPage,\n    pageSize,\n    goToPage,\n    setPageSize,\n    resetQuery,\n    removeSelectedFacet,\n    removeValueFromSelectedFacet,\n    removeQueryFilter,\n    removeValueFromQueryFilter,\n  } = useImmutableTableQuery({\n    initQueryRequest,\n    shouldDeepLink,\n    componentIndex,\n    onQueryChange,\n  })\n\n  const lastQueryRequest = useMemo(() => {\n    return getLastQueryRequest()\n  }, [getLastQueryRequest])\n\n  const {\n    data: asyncJobStatus,\n    isLoading: queryIsLoading,\n    error,\n    isPreviousData: newQueryIsFetching,\n  } = useGetQueryResultBundleWithAsyncStatus(\n    lastQueryRequest,\n    {\n      // We use `keepPreviousData` because we don't want to clear out the current data when the query is modified via the UI\n      keepPreviousData: true,\n    },\n    setCurrentAsyncStatus,\n  )\n\n  const data = asyncJobStatus?.responseBody\n\n  // Indicate if we're fetching data for the first time (queryIsLoading) or if we're fetching data for a brand-new query (newQueryIsFetching)\n  const isLoadingNewBundle = queryIsLoading || newQueryIsFetching\n\n  const { data: entity } = useGetEntity<Table>(entityId, versionNumber)\n\n  // data is sometimes undefined, which useDeepCompareEffect doesn't like, so use useDeepCompareEffectNoCheck instead\n  useDeepCompareEffectNoCheck(() => {\n    if (data && onQueryResultBundleChange) {\n      onQueryResultBundleChange(JSON.stringify(data))\n    }\n  }, [data, onQueryResultBundleChange])\n\n  const isFacetsAvailable = data\n    ? isFacetAvailable(data.facets, data.selectColumns)\n    : true\n\n  /**\n   * Remove a particular facet name (e.g. study) and all possible values based on the parameter specified in the url\n   * this is to remove the facet from the charts, search and filter.\n   * @return data: QueryResultBundle\n   */\n  const dataWithLockedColumnFacetRemoved = useMemo(() => {\n    return removeLockedColumnFromFacetData(data, lockedColumn)\n  }, [data, lockedColumn])\n\n  const hasResettableFilters = useMemo(() => {\n    const request = getLastQueryRequest()\n    return hasResettableFiltersUtil(request.query, lockedColumn)\n  }, [getLastQueryRequest, lockedColumn])\n\n  const getColumnModel = useCallback(\n    (columnName: string) => {\n      return data?.columnModels?.find(cm => cm.name === columnName) ?? null\n    },\n    [data?.columnModels],\n  )\n\n  const context: PaginatedQueryContextType = {\n    data: dataWithLockedColumnFacetRemoved,\n    currentPage,\n    pageSize,\n    setPageSize,\n    isLoadingNewBundle: isLoadingNewBundle,\n    getLastQueryRequest,\n    getInitQueryRequest,\n    error: error,\n    entity,\n    executeQueryRequest: setQuery,\n    isFacetsAvailable,\n    asyncJobStatus: currentAsyncStatus,\n    goToPage,\n    hasResettableFilters,\n    removeSelectedFacet,\n    removeValueFromSelectedFacet,\n    resetQuery,\n    removeQueryFilter,\n    removeValueFromQueryFilter,\n    lockedColumn,\n    getColumnModel,\n  }\n  /**\n   * Render the children without any formatting\n   */\n  const { children } = props\n  const loadingCursorClass = isLoadingNewBundle ? 'SRC-logo-cursor' : ''\n  return (\n    <QueryContextProvider queryContext={context}>\n      <div\n        className={`SRC-wrapper ${loadingCursorClass} ${\n          isFacetsAvailable ? 'has-facets' : ''\n        }`}\n      >\n        {children}\n      </div>\n    </QueryContextProvider>\n  )\n}\n","import React, { useCallback, useState } from 'react'\nimport { Alert } from 'react-bootstrap'\nimport useDeepCompareEffect from 'use-deep-compare-effect'\nimport { SynapseClient, SynapseConstants } from '../../utils'\nimport { useGetDownloadListStatistics } from '../../utils/hooks/SynapseAPI/download/useDownloadList'\nimport { useGetEntityChildren } from '../../utils/hooks/SynapseAPI/entity/useGetEntityChildren'\nimport useGetQueryResultBundle from '../../utils/hooks/SynapseAPI/entity/useGetQueryResultBundle'\nimport { useSynapseContext } from '../../utils/SynapseContext'\nimport { EntityType, QueryBundleRequest } from '../../utils/synapseTypes/'\nimport { AddToDownloadListRequest } from '../../utils/synapseTypes/DownloadListV2/AddToDownloadListRequest'\nimport { FilesStatisticsResponse } from '../../utils/synapseTypes/DownloadListV2/QueryResponseDetails'\nimport { TopLevelControlsState } from '../QueryVisualizationWrapper'\nimport {\n  QUERY_FILTERS_COLLAPSED_CSS,\n  QUERY_FILTERS_EXPANDED_CSS,\n} from '../QueryWrapper'\nimport SignInButton from '../SignInButton'\nimport { displayToast } from '../ToastMessage'\nimport DownloadDetails from './DownloadDetails'\n\nenum StatusEnum {\n  LOADING_INFO,\n  PROCESSING,\n  INFO,\n  INFO_ITEMS_IN_LIST,\n  SIGNED_OUT,\n}\n\nexport type DownloadConfirmationProps = {\n  fnClose?: () => void\n  getLastQueryRequest?: () => QueryBundleRequest\n  folderId?: string\n  topLevelControlsState?: TopLevelControlsState\n  setTopLevelControlsState?: React.Dispatch<\n    React.SetStateAction<TopLevelControlsState>\n  >\n}\n\n// add files to download list\nasync function addToDownload(\n  token: string,\n  closeConfirmationFn: () => void,\n  queryBundleRequest?: QueryBundleRequest,\n  folderId?: string,\n  goToDownloadListFn?: () => void,\n): Promise<[StatusEnum, string]> {\n  try {\n    const req: AddToDownloadListRequest = {\n      query: queryBundleRequest?.query,\n      concreteType:\n        'org.sagebionetworks.repo.model.download.AddToDownloadListRequest',\n      parentId: folderId,\n    }\n    await SynapseClient.addFilesToDownloadListV2(req, token)\n    displayToast(\n      'File(s) were successfully added to your Download Cart.',\n      'success',\n      {\n        primaryButtonConfig: {\n          text: 'View Download Cart',\n          onClick: goToDownloadListFn,\n        },\n      },\n    )\n    closeConfirmationFn()\n    return [StatusEnum.LOADING_INFO, '']\n  } catch (error) {\n    displayToast(error.reason, 'danger')\n    closeConfirmationFn()\n    return [StatusEnum.LOADING_INFO, '']\n  }\n}\n\ntype UiStateDictionary = {\n  [key: string]: {\n    className: string\n    infoText: string | JSX.Element\n    closeText: string\n  }\n}\n\n// css classes, text, and close button text associated with different stages\nconst StatusConstruct: UiStateDictionary = {\n  [StatusEnum.INFO]: {\n    className: 'alert-info',\n    infoText: 'Would you like to add all files to the download cart?',\n    closeText: 'Cancel',\n  },\n  [StatusEnum.INFO_ITEMS_IN_LIST]: {\n    className: 'alert-info',\n    infoText: (\n      <>\n        Note: Files that you add will be mixed in with the files already in your\n        download cart.\n        <br />\n        If you dont want to mix these files, clear your download cart before\n        continuing.\n      </>\n    ),\n    closeText: 'Cancel',\n  },\n  [StatusEnum.PROCESSING]: {\n    className: 'alert-info',\n    infoText: 'Adding Files To List',\n    closeText: 'Cancel',\n  },\n\n  [StatusEnum.LOADING_INFO]: {\n    className: 'alert-info',\n    infoText: 'Calculating File Size',\n    closeText: 'Cancel',\n  },\n  [StatusEnum.SIGNED_OUT]: {\n    className: 'alert-danger',\n    closeText: 'Close',\n    infoText: (\n      <>\n        Please <SignInButton style={{ color: '#337ab7' }} /> to add files to\n        your download cart.\n      </>\n    ),\n  },\n}\n\nconst DownloadConfirmationContent = (props: {\n  status: StatusEnum\n  fileCount: number\n  fileSize?: number\n}): JSX.Element => {\n  switch (props.status) {\n    case StatusEnum.LOADING_INFO:\n    case StatusEnum.PROCESSING:\n      return (\n        <div>\n          <span className={'spinner white'} />\n          <span className={'spinner__text'}>\n            {StatusConstruct[props.status].infoText}\n          </span>\n        </div>\n      )\n\n    case StatusEnum.SIGNED_OUT:\n      return <>{StatusConstruct[props.status].infoText}</>\n    case StatusEnum.INFO:\n    case StatusEnum.INFO_ITEMS_IN_LIST:\n      return (\n        <>\n          <DownloadDetails\n            numFiles={props.fileCount}\n            numBytes={props.fileSize}\n          ></DownloadDetails>\n          <span className=\"download-confirmation-infoText\">\n            {StatusConstruct[props.status].infoText}\n          </span>\n        </>\n      )\n\n    default:\n      return <></>\n  }\n}\n\n//============= DownloadConfirmation component =============\n\nexport const DownloadConfirmation: React.FunctionComponent<\n  DownloadConfirmationProps\n> = ({\n  getLastQueryRequest,\n  folderId,\n  fnClose,\n  setTopLevelControlsState,\n  topLevelControlsState,\n}) => {\n  const { accessToken, downloadCartPageUrl } = useSynapseContext()\n  const { showDownloadConfirmation = true } = topLevelControlsState ?? {}\n  const [status, setStatus] = useState<StatusEnum>(\n    accessToken ? StatusEnum.LOADING_INFO : StatusEnum.SIGNED_OUT,\n  )\n\n  const [fileCount, setFileCount] = useState(0)\n  const [fileSize, setFileSize] = useState<number>()\n\n  const { data: downloadListStatistics, refetch } =\n    useGetDownloadListStatistics()\n\n  const lastQueryRequest = getLastQueryRequest!()\n  // is not defined (configured for a container)\n  const [showDownloadList, setShowDownloadList] = useState(false)\n  const updateStats = useCallback(\n    (\n      count?: number,\n      bytes?: number,\n      downloadListStatistics?: FilesStatisticsResponse,\n    ) => {\n      if (accessToken && downloadListStatistics) {\n        const hasFilesInDownloadList =\n          downloadListStatistics.totalNumberOfFiles > 0\n\n        const fileCount = count ?? 0\n        setStatus(\n          hasFilesInDownloadList\n            ? StatusEnum.INFO_ITEMS_IN_LIST\n            : StatusEnum.INFO,\n        )\n        setFileCount(fileCount)\n        setFileSize(bytes)\n      }\n    },\n    [accessToken],\n  )\n\n  const { data: entityChildrenData, isSuccess } = useGetEntityChildren({\n    parentId: folderId,\n    includeSumFileSizes: true,\n    includeTotalChildCount: true,\n    includeTypes: [EntityType.FILE],\n  })\n  useDeepCompareEffect(() => {\n    if (isSuccess && entityChildrenData && downloadListStatistics) {\n      updateStats(\n        entityChildrenData.totalChildCount,\n        entityChildrenData.sumFileSizesBytes,\n        downloadListStatistics,\n      )\n    }\n  }, [\n    updateStats,\n    folderId,\n    isSuccess,\n    entityChildrenData,\n    downloadListStatistics,\n  ])\n\n  const partMask =\n    SynapseConstants.BUNDLE_MASK_QUERY_COUNT |\n    SynapseConstants.BUNDLE_MASK_SUM_FILES_SIZE_BYTES\n\n  const queryBundleRequestSizeInformation: QueryBundleRequest = {\n    ...lastQueryRequest,\n    partMask,\n  }\n\n  const { data: queryResultBundle } = useGetQueryResultBundle(\n    queryBundleRequestSizeInformation,\n  )\n\n  useDeepCompareEffect(() => {\n    if (queryResultBundle && downloadListStatistics) {\n      const isGreaterThanReportedValue =\n        queryResultBundle.sumFileSizes?.greaterThan\n      updateStats(\n        queryResultBundle.queryCount,\n        isGreaterThanReportedValue\n          ? undefined\n          : queryResultBundle.sumFileSizes?.sumFileSizesBytes,\n        downloadListStatistics,\n      )\n    }\n  }, [updateStats, lastQueryRequest, queryResultBundle, downloadListStatistics])\n\n  const onCancel = fnClose\n    ? () => fnClose()\n    : () => {\n        if (setTopLevelControlsState) {\n          setTopLevelControlsState(topLevelControlsState => ({\n            ...topLevelControlsState,\n            showDownloadConfirmation: false,\n          }))\n        }\n      }\n\n  const triggerAddToDownload = async () => {\n    if (!accessToken) {\n      setStatus(StatusEnum.SIGNED_OUT)\n    } else {\n      setStatus(StatusEnum.PROCESSING)\n      const goToDownloadListFn = () => setShowDownloadList(true)\n      const result = await addToDownload(\n        accessToken,\n        onCancel,\n        lastQueryRequest,\n        folderId,\n        goToDownloadListFn,\n      )\n      const newStatus = result[0]\n      setStatus(newStatus)\n      refetch()\n    }\n  }\n\n  if (showDownloadList) {\n    // go to the Download Cart Page\n    window.location.href = downloadCartPageUrl\n  }\n  const showFacetFilter = topLevelControlsState?.showFacetFilter\n  return (\n    <>\n      <Alert\n        dismissible={false}\n        show={true}\n        variant={'info'}\n        transition={false}\n        className={`download-confirmation ${\n          StatusConstruct[status].className\n        } ${showDownloadConfirmation ? '' : 'hidden'}\n          ${\n            showFacetFilter\n              ? QUERY_FILTERS_EXPANDED_CSS\n              : QUERY_FILTERS_COLLAPSED_CSS\n          }\n        `}\n      >\n        <DownloadConfirmationContent\n          status={status}\n          fileCount={fileCount}\n          fileSize={fileSize}\n        />\n        <div className=\"download-confirmation-action\">\n          {status !== StatusEnum.PROCESSING && (\n            <button className=\"btn btn-link\" onClick={onCancel}>\n              {StatusConstruct[status].closeText}\n            </button>\n          )}\n\n          {(status === StatusEnum.INFO ||\n            status === StatusEnum.INFO_ITEMS_IN_LIST) && (\n            <button\n              type=\"button\"\n              className=\"btn btn-primary\"\n              onClick={() => {\n                triggerAddToDownload()\n              }}\n            >\n              Add\n            </button>\n          )}\n        </div>\n      </Alert>\n    </>\n  )\n}\n","import React from 'react'\n\nexport default function NoContentAvailable() {\n  return (\n    <>\n      <p className=\"SRC-no-results-title\">\n        There is currently no content here.\n      </p>\n      <p className=\"SRC-no-results-description\">\n        Information is always being updated, so check back later to see if\n        content has been added.\n      </p>\n    </>\n  )\n}\n","/**\n * When displaying that there are no results, there are two scenarios:\n * 1. Interactive - the user can modify the query and may have chosen a query with no results\n *    - If the user has not modified the query, show a message that the table is empty\n *    - If the user has modified the query, show a message that there are no results and to try a different input\n * 2. Static - the user cannot modify the query. Show a message that there is no content available.\n */\nexport enum NoContentPlaceholderType {\n  INTERACTIVE = 'INTERACTIVE',\n  STATIC = 'STATIC',\n}\n","import React from 'react'\nimport NoSearchResults from '../../assets/icons/NoSearchResults'\n\nexport default function SearchResultsNotFound() {\n  return (\n    <div className=\"text-center\">\n      {NoSearchResults}\n      <h4>No Matching Results</h4>\n      <p>Try checking the spelling or removing filters.</p>\n    </div>\n  )\n}\n","import React from 'react'\nimport NoData from '../../assets/icons/NoData'\n\nexport default function ThisTableIsEmpty() {\n  return (\n    <div className=\"text-center SRCBorderedPanel SRCBorderedPanel--padded2x\">\n      {NoData}\n      <div style={{ marginTop: '20px', fontStyle: 'italic' }}>\n        This table is currently empty\n      </div>\n    </div>\n  )\n}\n","import {\n  ColumnType,\n  ColumnTypeEnum,\n  EntityHeader,\n  Evaluation,\n  UserProfile,\n} from '../synapseTypes'\nimport { SynapseConstants } from '..'\n\nconst getStoredEntityHeaders = (): EntityHeader[] => {\n  try {\n    const lookUpEntityHeaders: EntityHeader[] = JSON.parse(\n      sessionStorage.getItem(SynapseConstants.ENTITY_HEADER_STORAGE_KEY) || '',\n    )\n    return lookUpEntityHeaders\n  } catch (e) {\n    return []\n  }\n}\n\nconst getStoredUserProfiles = (): UserProfile[] => {\n  try {\n    const lookUpUserIds: UserProfile[] = JSON.parse(\n      sessionStorage.getItem(SynapseConstants.USER_PROFILE_STORAGE_KEY) || '',\n    )\n    return lookUpUserIds\n  } catch (e) {\n    return []\n  }\n}\n\nconst getStoredEvaluation = (): Evaluation[] => {\n  try {\n    const lookUpEvaluations: UserProfile[] = JSON.parse(\n      sessionStorage.getItem(SynapseConstants.EVALUATIONS_STORAGE_KEY) || '',\n    )\n    return lookUpEvaluations\n  } catch (e) {\n    return []\n  }\n}\n\nconst getDisplayValueForEntityColumn = (value: string): string => {\n  const entity = getStoredEntityHeaders().find(item => item.id === value)\n  return entity?.name ?? value\n}\n\nconst getDisplayValueEvaluationIdColumn = (facetValue: string): string => {\n  const evaluation = getStoredEvaluation().find(item => item.id === facetValue)\n  return evaluation?.name || facetValue\n}\n\nconst getDisplayValueUserIdColumn = (facetValue: string): string => {\n  const userProfile = getStoredUserProfiles().find(\n    item => item.ownerId === facetValue,\n  )\n  return userProfile?.userName || facetValue\n}\n\nexport const getDisplayValue = (value: string, columnType: ColumnType) => {\n  if (value === SynapseConstants.VALUE_NOT_SET) {\n    return SynapseConstants.FRIENDLY_VALUE_NOT_SET\n  }\n\n  switch (columnType) {\n    case ColumnTypeEnum.ENTITYID:\n    case ColumnTypeEnum.ENTITYID_LIST:\n      return getDisplayValueForEntityColumn(value)\n    case ColumnTypeEnum.USERID:\n    case ColumnTypeEnum.USERID_LIST:\n      return getDisplayValueUserIdColumn(value)\n    case ColumnTypeEnum.EVALUATIONID:\n      return getDisplayValueEvaluationIdColumn(value)\n    default:\n      return value\n  }\n}\n","import React, {\n  createContext,\n  useCallback,\n  useContext,\n  useEffect,\n  useState,\n} from 'react'\nimport { useDeepCompareMemoize } from 'use-deep-compare-effect'\nimport { useQueryContext } from './QueryContext'\nimport NoContentAvailable from './table/NoContentAvailable'\nimport { NoContentPlaceholderType } from './table/NoContentPlaceholderType'\nimport SearchResultsNotFound from './table/SearchResultsNotFound'\nimport ThisTableIsEmpty from './table/TableIsEmpty'\nimport { unCamelCase } from '../utils/functions/unCamelCase'\nimport { ColumnType } from '../utils/synapseTypes'\nimport { getDisplayValue } from '../utils/functions/getDataFromFromStorage'\n\nexport type QueryVisualizationContextType = {\n  topLevelControlsState: TopLevelControlsState\n  setTopLevelControlsState: React.Dispatch<\n    React.SetStateAction<TopLevelControlsState>\n  >\n  columnsToShowInTable: string[]\n  setColumnsToShowInTable: (newState: string[]) => void\n  selectedRowIndices: number[]\n  setSelectedRowIndices: (newState: number[]) => void\n  rgbIndex?: number\n  unitDescription?: string\n  /** Whether to show when the table or view was last updated. */\n  showLastUpdatedOn?: boolean\n  /** Given a column name, return the display name for the column */\n  getColumnDisplayName: (columnName?: string) => string | undefined\n  /** Given a cell value and a column type, returns the displayed value for the data */\n  getDisplayValue: (value: string, columnType: ColumnType) => string\n  /** React node to display in place of cards/table when there are no results. */\n  NoContentPlaceholder: () => JSX.Element\n}\n\n/**\n * This must be exported to use the context in class components.\n */\nexport const QueryVisualizationContext = createContext<\n  QueryVisualizationContextType | undefined\n>(undefined)\n\nexport type QueryVisualizationContextProviderProps = React.PropsWithChildren<{\n  queryVisualizationContext: QueryVisualizationContextType\n}>\n\n/**\n * Provides fields and functions related to visualizing a Synapse table query. For actual query data, see QueryContextProvider.\n */\nexport const QueryVisualizationContextProvider = ({\n  children,\n  queryVisualizationContext,\n}: QueryVisualizationContextProviderProps) => {\n  return (\n    <QueryVisualizationContext.Provider value={queryVisualizationContext}>\n      {children}\n    </QueryVisualizationContext.Provider>\n  )\n}\n\nexport function useQueryVisualizationContext(): QueryVisualizationContextType {\n  const context = useContext(QueryVisualizationContext)\n  if (context === undefined) {\n    throw new Error(\n      'useQueryVisualizationContext must be used within a QueryWrapper',\n    )\n  }\n  return context\n}\n\nexport const QueryVisualizationContextConsumer =\n  QueryVisualizationContext.Consumer\n\nexport type QueryVisualizationWrapperProps = {\n  children: React.ReactNode | React.ReactNode[]\n  rgbIndex?: number\n  unitDescription?: string\n  /** Mapping from column name to the name that should be shown for the column */\n  columnAliases?: Record<string, string>\n  visibleColumnCount?: number\n  hiddenColumns?: string[]\n  defaultShowFacetVisualization?: boolean\n  defaultShowSearchBar?: boolean\n  showLastUpdatedOn?: boolean\n  /** Default is INTERACTIVE */\n  noContentPlaceholderType?: NoContentPlaceholderType\n}\n\nexport type TopLevelControlsState = {\n  showFacetVisualization: boolean\n  showFacetFilter?: boolean\n  showColumnFilter: boolean\n  showSearchBar: boolean\n  showDownloadConfirmation: boolean\n  showColumnSelectDropdown: boolean\n  showSqlEditor: boolean\n}\n\n/**\n * QueryVisualizationWrapper manages UI state for components that query tables in Synapse. That state can be accessed\n * or updated using QueryVisualizationContext. A QueryVisualizationWrapper must be used within a QueryWrapper.\n */\nexport function QueryVisualizationWrapper(\n  props: QueryVisualizationWrapperProps,\n) {\n  const { noContentPlaceholderType = NoContentPlaceholderType.INTERACTIVE } =\n    props\n\n  const {\n    data,\n    getLastQueryRequest,\n    isFacetsAvailable,\n    isLoadingNewBundle,\n    hasResettableFilters,\n  } = useQueryContext()\n\n  const { columnAliases = {} } = props\n\n  const [topLevelControlsState, setTopLevelControlsState] =\n    useState<TopLevelControlsState>({\n      showColumnFilter: true,\n      showFacetFilter: true,\n      showFacetVisualization: props.defaultShowFacetVisualization ?? true,\n      showSearchBar: props.defaultShowSearchBar ?? false,\n      showDownloadConfirmation: false,\n      showColumnSelectDropdown: false,\n      showSqlEditor: false,\n    })\n\n  useEffect(() => {\n    if (!isFacetsAvailable) {\n      setTopLevelControlsState(state => ({\n        ...state,\n        showFacetFilter: false,\n        showFacetVisualization: false,\n      }))\n    }\n  }, [isFacetsAvailable])\n\n  useEffect(() => {\n    if (isLoadingNewBundle) {\n      setSelectedRowIndices([])\n    }\n  }, [isLoadingNewBundle])\n\n  const [visibleColumns, setVisibleColumns] = useState<string[]>([])\n  const [selectedRowIndices, setSelectedRowIndices] = useState<number[]>([])\n\n  const lastQueryRequest = getLastQueryRequest()\n\n  // We deep-compare-memoize the selectColumns so we don't reset visible columns when the reference changes, but not the contents (e.g. on page change)\n  const selectColumns = useDeepCompareMemoize(data?.selectColumns)\n\n  useEffect(() => {\n    // SWC-6030: If sql changes, reset what columns are visible\n    setVisibleColumns(\n      selectColumns\n        ?.slice(0, props.visibleColumnCount ?? Infinity)\n        .map(el => el.name) ?? [],\n    )\n  }, [selectColumns, lastQueryRequest.query.sql, props.visibleColumnCount])\n\n  const getColumnDisplayName = useCallback(\n    (columnName?: string) => {\n      // SWC-5982: if force-display-original-column-names is set, then just return the string\n      const forceDisplayOriginalColumnName =\n        localStorage.getItem('force-display-original-column-names') === 'true'\n\n      if (!columnName || forceDisplayOriginalColumnName) {\n        return columnName\n      }\n      if (columnAliases[columnName]) {\n        return columnAliases[columnName]\n      }\n      return unCamelCase(columnName)\n    },\n    [columnAliases],\n  )\n\n  const NoContentPlaceholder = useCallback(() => {\n    switch (noContentPlaceholderType) {\n      case NoContentPlaceholderType.INTERACTIVE:\n        if (hasResettableFilters) {\n          return <SearchResultsNotFound />\n        } else {\n          return <ThisTableIsEmpty />\n        }\n      case NoContentPlaceholderType.STATIC:\n      default:\n        return <NoContentAvailable />\n    }\n  }, [noContentPlaceholderType, hasResettableFilters])\n\n  const context: QueryVisualizationContextType = {\n    topLevelControlsState,\n    setTopLevelControlsState,\n    columnsToShowInTable: visibleColumns,\n    setColumnsToShowInTable: setVisibleColumns,\n    selectedRowIndices,\n    setSelectedRowIndices,\n    rgbIndex: props.rgbIndex,\n    unitDescription: props.unitDescription,\n    showLastUpdatedOn: props.showLastUpdatedOn,\n    getColumnDisplayName,\n    getDisplayValue,\n    NoContentPlaceholder,\n  }\n  /**\n   * Render the children without any formatting\n   */\n  const { children } = props\n  return (\n    <QueryVisualizationContextProvider queryVisualizationContext={context}>\n      {children}\n    </QueryVisualizationContextProvider>\n  )\n}\n","import { Collapse } from '@mui/material'\nimport React, { useRef, useState } from 'react'\nimport { TextMatchesQueryFilter } from '../utils/synapseTypes/Table/QueryFilter'\nimport {\n  QUERY_FILTERS_COLLAPSED_CSS,\n  QUERY_FILTERS_EXPANDED_CSS,\n} from './QueryWrapper'\nimport { useQueryContext } from './QueryContext'\nimport { useQueryVisualizationContext } from './QueryVisualizationWrapper'\nimport { HelpPopover } from './HelpPopover'\nimport IconSvg from './IconSvg'\n\n// See PLFM-7011\nconst MIN_SEARCH_QUERY_LENGTH = 3\n\nexport type FullTextSearchProps = {\n  helpMessage?: string\n  helpUrl?: string\n}\n\nexport const FullTextSearch: React.FunctionComponent<FullTextSearchProps> = ({\n  helpMessage = 'This search bar is powered by MySQL Full Text Search.',\n  helpUrl,\n}: FullTextSearchProps) => {\n  const { executeQueryRequest, getLastQueryRequest } = useQueryContext()\n  const {\n    topLevelControlsState: { showSearchBar, showFacetFilter },\n  } = useQueryVisualizationContext()\n  const [searchText, setSearchText] = useState('')\n  const searchInputRef = useRef<HTMLInputElement>(null)\n\n  const search = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault()\n\n    // The HTML validation doesn't trim the string, so we add an extra check.\n    // We don't auto-trim the form text ourselves because the user may still be focused on the input.\n    if (searchText.trim().length < MIN_SEARCH_QUERY_LENGTH) {\n      searchInputRef.current?.setCustomValidity(\n        `Search term must have a minimum of ${MIN_SEARCH_QUERY_LENGTH} characters`,\n      )\n    } else {\n      const lastQueryRequestDeepClone = getLastQueryRequest()\n\n      const { additionalFilters = [] } = lastQueryRequestDeepClone.query\n\n      const textMatchesQueryFilter: TextMatchesQueryFilter = {\n        concreteType:\n          'org.sagebionetworks.repo.model.table.TextMatchesQueryFilter',\n        searchExpression: searchText,\n      }\n      // PORTALS-2093: does this additional filter already exist?\n      const found = additionalFilters.find(\n        filter =>\n          filter.concreteType == textMatchesQueryFilter.concreteType &&\n          (filter as TextMatchesQueryFilter).searchExpression ==\n            textMatchesQueryFilter.searchExpression,\n      )\n      if (found) {\n        return\n      }\n      additionalFilters.push(textMatchesQueryFilter)\n\n      lastQueryRequestDeepClone.query.additionalFilters = additionalFilters\n      executeQueryRequest(lastQueryRequestDeepClone)\n      // reset the search text after adding this filter\n      setSearchText('')\n    }\n  }\n\n  const handleChange = (event: React.FormEvent<HTMLInputElement>) => {\n    searchInputRef.current?.setCustomValidity('')\n    setSearchText(event.currentTarget.value)\n  }\n\n  return (\n    <div\n      className={`QueryWrapperSearchInput ${\n        showFacetFilter\n          ? QUERY_FILTERS_EXPANDED_CSS\n          : QUERY_FILTERS_COLLAPSED_CSS\n      }`}\n    >\n      <Collapse in={showSearchBar} timeout={{ enter: 300, exit: 300 }}>\n        <div className=\"QueryWrapperSearchInput__helppopoverwrapper\">\n          <form\n            className=\"QueryWrapperSearchInput__searchbar\"\n            onSubmit={search}\n          >\n            <span className=\"QueryWrapperSearchInput__searchbar__searchicon\">\n              <IconSvg icon=\"search\" />\n            </span>\n            <input\n              ref={searchInputRef}\n              minLength={MIN_SEARCH_QUERY_LENGTH}\n              onChange={handleChange}\n              placeholder=\"Enter Search Terms\"\n              value={searchText}\n              type=\"text\"\n            />\n            {searchText.length > 0 && (\n              <button\n                className=\"QueryWrapperSearchInput__searchbar__clearbutton\"\n                type=\"button\"\n                onClick={() => {\n                  setSearchText('')\n                }}\n              >\n                <IconSvg icon=\"close\" />\n              </button>\n            )}\n          </form>\n          <div className=\"QueryWrapperSearchInput__helppopover\">\n            <HelpPopover\n              markdownText={helpMessage}\n              helpUrl={helpUrl}\n              placement=\"left\"\n            />\n          </div>\n        </div>\n      </Collapse>\n    </div>\n  )\n}\n\nexport default FullTextSearch\n","/** @license React v16.9.0\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0});\nvar b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?Symbol.for(\"react.suspense_list\"):\n60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.fundamental\"):60117,w=b?Symbol.for(\"react.responder\"):60118;function x(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case h:return a;default:return u}}case t:case r:case d:return u}}}function y(a){return x(a)===m}exports.typeOf=x;exports.AsyncMode=l;\nexports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;exports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===v||a.$$typeof===w)};exports.isAsyncMode=function(a){return y(a)||x(a)===l};exports.isConcurrentMode=y;exports.isContextConsumer=function(a){return x(a)===k};exports.isContextProvider=function(a){return x(a)===h};\nexports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return x(a)===n};exports.isFragment=function(a){return x(a)===e};exports.isLazy=function(a){return x(a)===t};exports.isMemo=function(a){return x(a)===r};exports.isPortal=function(a){return x(a)===d};exports.isProfiler=function(a){return x(a)===g};exports.isStrictMode=function(a){return x(a)===f};exports.isSuspense=function(a){return x(a)===p};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","var baseUniq = require('./_baseUniq');\n\n/**\n * This method is like `_.uniq` except that it accepts `comparator` which\n * is invoked to compare elements of `array`. The order of result values is\n * determined by the order they occur in the array.The comparator is invoked\n * with two arguments: (arrVal, othVal).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n *\n * _.uniqWith(objects, _.isEqual);\n * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n */\nfunction uniqWith(array, comparator) {\n  comparator = typeof comparator == 'function' ? comparator : undefined;\n  return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n}\n\nmodule.exports = uniqWith;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * The base implementation of methods like `_.intersection`, without support\n * for iteratee shorthands, that accepts an array of arrays to inspect.\n *\n * @private\n * @param {Array} arrays The arrays to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of shared values.\n */\nfunction baseIntersection(arrays, iteratee, comparator) {\n  var includes = comparator ? arrayIncludesWith : arrayIncludes,\n      length = arrays[0].length,\n      othLength = arrays.length,\n      othIndex = othLength,\n      caches = Array(othLength),\n      maxLength = Infinity,\n      result = [];\n\n  while (othIndex--) {\n    var array = arrays[othIndex];\n    if (othIndex && iteratee) {\n      array = arrayMap(array, baseUnary(iteratee));\n    }\n    maxLength = nativeMin(array.length, maxLength);\n    caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n      ? new SetCache(othIndex && array)\n      : undefined;\n  }\n  array = arrays[0];\n\n  var index = -1,\n      seen = caches[0];\n\n  outer:\n  while (++index < length && result.length < maxLength) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (!(seen\n          ? cacheHas(seen, computed)\n          : includes(result, computed, comparator)\n        )) {\n      othIndex = othLength;\n      while (--othIndex) {\n        var cache = caches[othIndex];\n        if (!(cache\n              ? cacheHas(cache, computed)\n              : includes(arrays[othIndex], computed, comparator))\n            ) {\n          continue outer;\n        }\n      }\n      if (seen) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseIntersection;\n","var isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Casts `value` to an empty array if it's not an array like object.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array|Object} Returns the cast array-like object.\n */\nfunction castArrayLikeObject(value) {\n  return isArrayLikeObject(value) ? value : [];\n}\n\nmodule.exports = castArrayLikeObject;\n","var arrayMap = require('./_arrayMap'),\n    baseIntersection = require('./_baseIntersection'),\n    baseRest = require('./_baseRest'),\n    castArrayLikeObject = require('./_castArrayLikeObject'),\n    last = require('./last');\n\n/**\n * This method is like `_.intersection` except that it accepts `comparator`\n * which is invoked to compare elements of `arrays`. The order and references\n * of result values are determined by the first array. The comparator is\n * invoked with two arguments: (arrVal, othVal).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of intersecting values.\n * @example\n *\n * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n *\n * _.intersectionWith(objects, others, _.isEqual);\n * // => [{ 'x': 1, 'y': 2 }]\n */\nvar intersectionWith = baseRest(function(arrays) {\n  var comparator = last(arrays),\n      mapped = arrayMap(arrays, castArrayLikeObject);\n\n  comparator = typeof comparator == 'function' ? comparator : undefined;\n  if (comparator) {\n    mapped.pop();\n  }\n  return (mapped.length && mapped[0] === arrays[0])\n    ? baseIntersection(mapped, undefined, comparator)\n    : [];\n});\n\nmodule.exports = intersectionWith;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]';\n\n/**\n * Checks if `value` is classified as a boolean primitive or object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n * @example\n *\n * _.isBoolean(false);\n * // => true\n *\n * _.isBoolean(null);\n * // => false\n */\nfunction isBoolean(value) {\n  return value === true || value === false ||\n    (isObjectLike(value) && baseGetTag(value) == boolTag);\n}\n\nmodule.exports = isBoolean;\n","var isEqual = require('lodash/isEqual')\nvar sortBy = require('lodash/sortBy')\nvar uniq = require('lodash/uniq')\nvar uniqWith = require('lodash/uniqWith')\nvar defaults = require('lodash/defaults')\nvar intersectionWith = require('lodash/intersectionWith')\nvar isPlainObject = require('lodash/isPlainObject')\nvar isBoolean = require('lodash/isBoolean')\n\nvar normalizeArray = val => Array.isArray(val)\n  ? val : [val]\nvar undef = val => val === undefined\nvar keys = obj => isPlainObject(obj) || Array.isArray(obj) ? Object.keys(obj) : []\nvar has = (obj, key) => obj.hasOwnProperty(key)\nvar stringArray = arr => sortBy(uniq(arr))\nvar undefEmpty = val => undef(val) || (Array.isArray(val) && val.length === 0)\nvar keyValEqual = (a, b, key, compare) => b && has(b, key) && a && has(a, key) && compare(a[key], b[key])\nvar undefAndZero = (a, b) => (undef(a) && b === 0) || (undef(b) && a === 0) || isEqual(a, b)\nvar falseUndefined = (a, b) => (undef(a) && b === false) || (undef(b) && a === false) || isEqual(a, b)\nvar emptySchema = schema => undef(schema) || isEqual(schema, {}) || schema === true\nvar emptyObjUndef = schema => undef(schema) || isEqual(schema, {})\nvar isSchema = val => undef(val) || isPlainObject(val) || val === true || val === false\n\nfunction undefArrayEqual(a, b) {\n  if (undefEmpty(a) && undefEmpty(b)) {\n    return true\n  } else {\n    return isEqual(stringArray(a), stringArray(b))\n  }\n}\n\nfunction unsortedNormalizedArray(a, b) {\n  a = normalizeArray(a)\n  b = normalizeArray(b)\n  return isEqual(stringArray(a), stringArray(b))\n}\n\nfunction schemaGroup(a, b, key, compare) {\n  var allProps = uniq(keys(a).concat(keys(b)))\n  if (emptyObjUndef(a) && emptyObjUndef(b)) {\n    return true\n  } else if (emptyObjUndef(a) && keys(b).length) {\n    return false\n  } else if (emptyObjUndef(b) && keys(a).length) {\n    return false\n  }\n\n  return allProps.every(function(key) {\n    var aVal = a[key]\n    var bVal = b[key]\n    if (Array.isArray(aVal) && Array.isArray(bVal)) {\n      return isEqual(stringArray(a), stringArray(b))\n    } else if (Array.isArray(aVal) && !Array.isArray(bVal)) {\n      return false\n    } else if (Array.isArray(bVal) && !Array.isArray(aVal)) {\n      return false\n    }\n    return keyValEqual(a, b, key, compare)\n  })\n}\n\nfunction items(a, b, key, compare) {\n  if (isPlainObject(a) && isPlainObject(b)) {\n    return compare(a, b)\n  } else if (Array.isArray(a) && Array.isArray(b)) {\n    return schemaGroup(a, b, key, compare)\n  } else {\n    return isEqual(a, b)\n  }\n}\n\nfunction unsortedArray(a, b, key, compare) {\n  var uniqueA = uniqWith(a, compare)\n  var uniqueB = uniqWith(b, compare)\n  var inter = intersectionWith(uniqueA, uniqueB, compare)\n  return inter.length === Math.max(uniqueA.length, uniqueB.length)\n}\n\nvar comparers = {\n  title: isEqual,\n  uniqueItems: falseUndefined,\n  minLength: undefAndZero,\n  minItems: undefAndZero,\n  minProperties: undefAndZero,\n  required: undefArrayEqual,\n  enum: undefArrayEqual,\n  type: unsortedNormalizedArray,\n  items: items,\n  anyOf: unsortedArray,\n  allOf: unsortedArray,\n  oneOf: unsortedArray,\n  properties: schemaGroup,\n  patternProperties: schemaGroup,\n  dependencies: schemaGroup\n}\n\nvar acceptsUndefined = [\n  'properties',\n  'patternProperties',\n  'dependencies',\n  'uniqueItems',\n  'minLength',\n  'minItems',\n  'minProperties',\n  'required'\n]\n\nvar schemaProps = ['additionalProperties', 'additionalItems', 'contains', 'propertyNames', 'not']\n\nfunction compare(a, b, options) {\n  options = defaults(options, {\n    ignore: []\n  })\n\n  if (emptySchema(a) && emptySchema(b)) {\n    return true\n  }\n\n  if (!isSchema(a) || !isSchema(b)) {\n    throw new Error('Either of the values are not a JSON schema.')\n  }\n  if (a === b) {\n    return true\n  }\n\n  if (isBoolean(a) && isBoolean(b)) {\n    return a === b\n  }\n\n  if ((a === undefined && b === false) || (b === undefined && a === false)) {\n    return false\n  }\n\n  if ((undef(a) && !undef(b)) || (!undef(a) && undef(b))) {\n    return false\n  }\n\n  var allKeys = uniq(Object.keys(a).concat(Object.keys(b)))\n\n  if (options.ignore.length) {\n    allKeys = allKeys.filter(k => options.ignore.indexOf(k) === -1)\n  }\n\n  if (!allKeys.length) {\n    return true\n  }\n\n  function innerCompare(a, b) {\n    return compare(a, b, options)\n  }\n\n  return allKeys.every(function(key) {\n    var aValue = a[key]\n    var bValue = b[key]\n\n    if (schemaProps.indexOf(key) !== -1) {\n      return compare(aValue, bValue, options)\n    }\n\n    var comparer = comparers[key]\n    if (!comparer) {\n      comparer = isEqual\n    }\n\n    // do simple lodash check first\n    if (isEqual(aValue, bValue)) {\n      return true\n    }\n\n    if (acceptsUndefined.indexOf(key) === -1) {\n      if ((!has(a, key) && has(b, key)) || (has(a, key) && !has(b, key))) {\n        return aValue === bValue\n      }\n    }\n\n    var result = comparer(aValue, bValue, key, innerCompare)\n    if (!isBoolean(result)) {\n      throw new Error('Comparer must return true or false')\n    }\n    return result\n  })\n}\n\nmodule.exports = compare\n","'use strict';\n\n/**\n* FUNCTION: isArray( value )\n*\tValidates if a value is an array.\n*\n* @param {*} value - value to be validated\n* @returns {Boolean} boolean indicating whether value is an array\n*/\nfunction isArray( value ) {\n\treturn Object.prototype.toString.call( value ) === '[object Array]';\n} // end FUNCTION isArray()\n\n// EXPORTS //\n\nmodule.exports = Array.isArray || isArray;\n","/**\n*\n*\tVALIDATE: number\n*\n*\n*\tDESCRIPTION:\n*\t\t- Validates if a value is a number.\n*\n*\n*\tNOTES:\n*\t\t[1]\n*\n*\n*\tTODO:\n*\t\t[1]\n*\n*\n*\tLICENSE:\n*\t\tMIT\n*\n*\tCopyright (c) 2014. Athan Reines.\n*\n*\n*\tAUTHOR:\n*\t\tAthan Reines. kgryte@gmail.com. 2014.\n*\n*/\n\n'use strict';\n\n/**\n* FUNCTION: isNumber( value )\n*\tValidates if a value is a number.\n*\n* @param {*} value - value to be validated\n* @returns {Boolean} boolean indicating whether value is a number\n*/\nfunction isNumber( value ) {\n\treturn ( typeof value === 'number' || Object.prototype.toString.call( value ) === '[object Number]' ) && value.valueOf() === value.valueOf();\n} // end FUNCTION isNumber()\n\n\n// EXPORTS //\n\nmodule.exports = isNumber;\n","/**\n*\n*\tVALIDATE: integer\n*\n*\n*\tDESCRIPTION:\n*\t\t- Validates if a value is an integer.\n*\n*\n*\tNOTES:\n*\t\t[1]\n*\n*\n*\tTODO:\n*\t\t[1]\n*\n*\n*\tLICENSE:\n*\t\tMIT\n*\n*\tCopyright (c) 2014. Athan Reines.\n*\n*\n*\tAUTHOR:\n*\t\tAthan Reines. kgryte@gmail.com. 2014.\n*\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isNumber = require( 'validate.io-number' );\n\n\n// ISINTEGER //\n\n/**\n* FUNCTION: isInteger( value )\n*\tValidates if a value is an integer.\n*\n* @param {Number} value - value to be validated\n* @returns {Boolean} boolean indicating whether value is an integer\n*/\nfunction isInteger( value ) {\n\treturn isNumber( value ) && value%1 === 0;\n} // end FUNCTION isInteger()\n\n\n// EXPORTS //\n\nmodule.exports = isInteger;\n","/**\n*\n*\tVALIDATE: integer-array\n*\n*\n*\tDESCRIPTION:\n*\t\t- Validates if a value is an integer array.\n*\n*\n*\tNOTES:\n*\t\t[1]\n*\n*\n*\tTODO:\n*\t\t[1]\n*\n*\n*\tLICENSE:\n*\t\tMIT\n*\n*\tCopyright (c) 2015. Athan Reines.\n*\n*\n*\tAUTHOR:\n*\t\tAthan Reines. kgryte@gmail.com. 2015.\n*\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isArray = require( 'validate.io-array' ),\n\tisInteger = require( 'validate.io-integer' );\n\n\n// IS INTEGER ARRAY //\n\n/**\n* FUNCTION: isIntegerArray( value )\n*\tValidates if a value is an integer array.\n*\n* @param {*} value - value to be validated\n* @returns {Boolean} boolean indicating if a value is an integer array\n*/\nfunction isIntegerArray( value ) {\n\tvar len;\n\tif ( !isArray( value ) ) {\n\t\treturn false;\n\t}\n\tlen = value.length;\n\tif ( !len ) {\n\t\treturn false;\n\t}\n\tfor ( var i = 0; i < len; i++ ) {\n\t\tif ( !isInteger( value[i] ) ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n} // end FUNCTION isIntegerArray()\n\n\n// EXPORTS //\n\nmodule.exports = isIntegerArray;\n","/**\n*\n*\tVALIDATE: function\n*\n*\n*\tDESCRIPTION:\n*\t\t- Validates if a value is a function.\n*\n*\n*\tNOTES:\n*\t\t[1]\n*\n*\n*\tTODO:\n*\t\t[1]\n*\n*\n*\tLICENSE:\n*\t\tMIT\n*\n*\tCopyright (c) 2014. Athan Reines.\n*\n*\n*\tAUTHOR:\n*\t\tAthan Reines. kgryte@gmail.com. 2014.\n*\n*/\n\n'use strict';\n\n/**\n* FUNCTION: isFunction( value )\n*\tValidates if a value is a function.\n*\n* @param {*} value - value to be validated\n* @returns {Boolean} boolean indicating whether value is a function\n*/\nfunction isFunction( value ) {\n\treturn ( typeof value === 'function' );\n} // end FUNCTION isFunction()\n\n\n// EXPORTS //\n\nmodule.exports = isFunction;\n","'use strict';\n\n// MODULES //\n\nvar isArray = require( 'validate.io-array' ),\n\tisIntegerArray = require( 'validate.io-integer-array' ),\n\tisFunction = require( 'validate.io-function' );\n\n\n// VARIABLES //\n\nvar MAXINT = Math.pow( 2, 31 ) - 1;\n\n\n// FUNCTIONS //\n\n/**\n* FUNCTION: gcd( a, b )\n*\tComputes the greatest common divisor of two integers `a` and `b`, using the binary GCD algorithm.\n*\n* @param {Number} a - integer\n* @param {Number} b - integer\n* @returns {Number} greatest common divisor\n*/\nfunction gcd( a, b ) {\n\tvar k = 1,\n\t\tt;\n\t// Simple cases:\n\tif ( a === 0 ) {\n\t\treturn b;\n\t}\n\tif ( b === 0 ) {\n\t\treturn a;\n\t}\n\t// Reduce `a` and/or `b` to odd numbers and keep track of the greatest power of 2 dividing both `a` and `b`...\n\twhile ( a%2 === 0 && b%2 === 0 ) {\n\t\ta = a / 2; // right shift\n\t\tb = b / 2; // right shift\n\t\tk = k * 2; // left shift\n\t}\n\t// Reduce `a` to an odd number...\n\twhile ( a%2 === 0 ) {\n\t\ta = a / 2; // right shift\n\t}\n\t// Henceforth, `a` is always odd...\n\twhile ( b ) {\n\t\t// Remove all factors of 2 in `b`, as they are not common...\n\t\twhile ( b%2 === 0 ) {\n\t\t\tb = b / 2; // right shift\n\t\t}\n\t\t// `a` and `b` are both odd. Swap values such that `b` is the larger of the two values, and then set `b` to the difference (which is even)...\n\t\tif ( a > b ) {\n\t\t\tt = b;\n\t\t\tb = a;\n\t\t\ta = t;\n\t\t}\n\t\tb = b - a; // b=0 iff b=a\n\t}\n\t// Restore common factors of 2...\n\treturn k * a;\n} // end FUNCTION gcd()\n\n/**\n* FUNCTION: bitwise( a, b )\n*\tComputes the greatest common divisor of two integers `a` and `b`, using the binary GCD algorithm and bitwise operations.\n*\n* @param {Number} a - safe integer\n* @param {Number} b - safe integer\n* @returns {Number} greatest common divisor\n*/\nfunction bitwise( a, b ) {\n\tvar k = 0,\n\t\tt;\n\t// Simple cases:\n\tif ( a === 0 ) {\n\t\treturn b;\n\t}\n\tif ( b === 0 ) {\n\t\treturn a;\n\t}\n\t// Reduce `a` and/or `b` to odd numbers and keep track of the greatest power of 2 dividing both `a` and `b`...\n\twhile ( (a & 1) === 0 && (b & 1) === 0 ) {\n\t\ta >>>= 1; // right shift\n\t\tb >>>= 1; // right shift\n\t\tk++;\n\t}\n\t// Reduce `a` to an odd number...\n\twhile ( (a & 1) === 0 ) {\n\t\ta >>>= 1; // right shift\n\t}\n\t// Henceforth, `a` is always odd...\n\twhile ( b ) {\n\t\t// Remove all factors of 2 in `b`, as they are not common...\n\t\twhile ( (b & 1) === 0 ) {\n\t\t\tb >>>= 1; // right shift\n\t\t}\n\t\t// `a` and `b` are both odd. Swap values such that `b` is the larger of the two values, and then set `b` to the difference (which is even)...\n\t\tif ( a > b ) {\n\t\t\tt = b;\n\t\t\tb = a;\n\t\t\ta = t;\n\t\t}\n\t\tb = b - a; // b=0 iff b=a\n\t}\n\t// Restore common factors of 2...\n\treturn a << k;\n} // end FUNCTION bitwise()\n\n\n// GREATEST COMMON DIVISOR //\n\n/**\n* FUNCTION: compute( arr[, clbk] )\n*\tComputes the greatest common divisor.\n*\n* @param {Number[]|Number} arr - input array of integers\n* @param {Function|Number} [clbk] - accessor function for accessing array values\n* @returns {Number|Null} greatest common divisor or null\n*/\nfunction compute() {\n\tvar nargs = arguments.length,\n\t\targs,\n\t\tclbk,\n\t\tarr,\n\t\tlen,\n\t\ta, b,\n\t\ti;\n\n\t// Copy the input arguments to an array...\n\targs = new Array( nargs );\n\tfor ( i = 0; i < nargs; i++ ) {\n\t\targs[ i ] = arguments[ i ];\n\t}\n\t// Have we been provided with integer arguments?\n\tif ( isIntegerArray( args ) ) {\n\t\tif ( nargs === 2 ) {\n\t\t\ta = args[ 0 ];\n\t\t\tb = args[ 1 ];\n\t\t\tif ( a < 0 ) {\n\t\t\t\ta = -a;\n\t\t\t}\n\t\t\tif ( b < 0 ) {\n\t\t\t\tb = -b;\n\t\t\t}\n\t\t\tif ( a <= MAXINT && b <= MAXINT ) {\n\t\t\t\treturn bitwise( a, b );\n\t\t\t} else {\n\t\t\t\treturn gcd( a, b );\n\t\t\t}\n\t\t}\n\t\tarr = args;\n\t}\n\t// If not integers, ensure the first argument is an array...\n\telse if ( !isArray( args[ 0 ] ) ) {\n\t\tthrow new TypeError( 'gcd()::invalid input argument. Must provide an array of integers. Value: `' + args[ 0 ] + '`.' );\n\t}\n\t// Have we been provided with more than one argument? If so, ensure that the accessor argument is a function...\n\telse if ( nargs > 1 ) {\n\t\tarr = args[ 0 ];\n\t\tclbk = args[ 1 ];\n\t\tif ( !isFunction( clbk ) ) {\n\t\t\tthrow new TypeError( 'gcd()::invalid input argument. Accessor must be a function. Value: `' + clbk + '`.' );\n\t\t}\n\t}\n\t// We have been provided an array...\n\telse {\n\t\tarr = args[ 0 ];\n\t}\n\tlen = arr.length;\n\n\t// Check if a sufficient number of values have been provided...\n\tif ( len < 2 ) {\n\t\treturn null;\n\t}\n\t// If an accessor is provided, extract the array values...\n\tif ( clbk ) {\n\t\ta = new Array( len );\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\ta[ i ] = clbk( arr[ i ], i );\n\t\t}\n\t\tarr = a;\n\t}\n\t// Given an input array, ensure all array values are integers...\n\tif ( nargs < 3 ) {\n\t\tif ( !isIntegerArray( arr ) ) {\n\t\t\tthrow new TypeError( 'gcd()::invalid input argument. Accessed array values must be integers. Value: `' + arr + '`.' );\n\t\t}\n\t}\n\t// Convert any negative integers to positive integers...\n\tfor ( i = 0; i < len; i++ ) {\n\t\ta = arr[ i ];\n\t\tif ( a < 0 ) {\n\t\t\tarr[ i ] = -a;\n\t\t}\n\t}\n\t// Exploit the fact that the gcd is an associative function...\n\ta = arr[ 0 ];\n\tfor ( i = 1; i < len; i++ ) {\n\t\tb = arr[ i ];\n\t\tif ( b <= MAXINT && a <= MAXINT ) {\n\t\t\ta = bitwise( a, b );\n\t\t} else {\n\t\t\ta = gcd( a, b );\n\t\t}\n\t}\n\treturn a;\n} // end FUNCTION compute()\n\n\n// EXPORTS //\n\nmodule.exports = compute;\n","'use strict';\n\n// MODULES //\n\nvar gcd = require( 'compute-gcd' ),\n\tisArray = require( 'validate.io-array' ),\n\tisIntegerArray = require( 'validate.io-integer-array' ),\n\tisFunction = require( 'validate.io-function' );\n\n\n// LEAST COMMON MULTIPLE //\n\n/**\n* FUNCTION: lcm( arr[, clbk] )\n*\tComputes the least common multiple (lcm).\n*\n* @param {Number[]|Number} arr - input array of integers\n* @param {Function|Number} [accessor] - accessor function for accessing array values\n* @returns {Number|Null} least common multiple or null\n*/\nfunction lcm() {\n\tvar nargs = arguments.length,\n\t\targs,\n\t\tclbk,\n\t\tarr,\n\t\tlen,\n\t\ta, b,\n\t\ti;\n\n\t// Copy the input arguments to an array...\n\targs = new Array( nargs );\n\tfor ( i = 0; i < nargs; i++ ) {\n\t\targs[ i ] = arguments[ i ];\n\t}\n\t// Have we been provided with integer arguments?\n\tif ( isIntegerArray( args ) ) {\n\t\tif ( nargs === 2 ) {\n\t\t\ta = args[ 0 ];\n\t\t\tb = args[ 1 ];\n\t\t\tif ( a < 0 ) {\n\t\t\t\ta = -a;\n\t\t\t}\n\t\t\tif ( b < 0 ) {\n\t\t\t\tb = -b;\n\t\t\t}\n\t\t\tif ( a === 0 || b === 0 ) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\treturn ( a/gcd(a,b) ) * b;\n\t\t}\n\t\tarr = args;\n\t}\n\t// If not integers, ensure that the first argument is an array...\n\telse if ( !isArray( args[ 0 ] ) ) {\n\t\tthrow new TypeError( 'lcm()::invalid input argument. Must provide an array of integers. Value: `' + args[ 0 ] + '`.' );\n\t}\n\t// Have we been provided with more than one argument? If so, ensure that the accessor argument is a function...\n\telse if ( nargs > 1 ) {\n\t\tarr = args[ 0 ];\n\t\tclbk = args[ 1 ];\n\t\tif ( !isFunction( clbk ) ) {\n\t\t\tthrow new TypeError( 'lcm()::invalid input argument. Accessor must be a function. Value: `' + clbk + '`.' );\n\t\t}\n\t}\n\t// We have been provided an array...\n\telse {\n\t\tarr = args[ 0 ];\n\t}\n\tlen = arr.length;\n\n\t// Check if a sufficient number of values have been provided...\n\tif ( len < 2 ) {\n\t\treturn null;\n\t}\n\t// If an accessor is provided, extract the array values...\n\tif ( clbk ) {\n\t\ta = new Array( len );\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\ta[ i ] = clbk( arr[ i ], i );\n\t\t}\n\t\tarr = a;\n\t}\n\t// Given an input array, ensure all array values are integers...\n\tif ( nargs < 3 ) {\n\t\tif ( !isIntegerArray( arr ) ) {\n\t\t\tthrow new TypeError( 'lcm()::invalid input argument. Accessed array values must be integers. Value: `' + arr + '`.' );\n\t\t}\n\t}\n\t// Convert any negative integers to positive integers...\n\tfor ( i = 0; i < len; i++ ) {\n\t\ta = arr[ i ];\n\t\tif ( a < 0 ) {\n\t\t\tarr[ i ] = -a;\n\t\t}\n\t}\n\t// Exploit the fact that the lcm is an associative function...\n\ta = arr[ 0 ];\n\tfor ( i = 1; i < len; i++ ) {\n\t\tb = arr[ i ];\n\t\tif ( a === 0 || b === 0 ) {\n\t\t\treturn 0;\n\t\t}\n\t\ta = ( a/gcd(a,b) ) * b;\n\t}\n\treturn a;\n} // end FUNCTION lcm()\n\n\n// EXPORTS //\n\nmodule.exports = lcm;\n","var baseMerge = require('./_baseMerge'),\n    isObject = require('./isObject');\n\n/**\n * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n * objects into destination objects that are passed thru.\n *\n * @private\n * @param {*} objValue The destination value.\n * @param {*} srcValue The source value.\n * @param {string} key The key of the property to merge.\n * @param {Object} object The parent object of `objValue`.\n * @param {Object} source The parent object of `srcValue`.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n * @returns {*} Returns the value to assign.\n */\nfunction customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n  if (isObject(objValue) && isObject(srcValue)) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, objValue);\n    baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n    stack['delete'](srcValue);\n  }\n  return objValue;\n}\n\nmodule.exports = customDefaultsMerge;\n","var baseMerge = require('./_baseMerge'),\n    createAssigner = require('./_createAssigner');\n\n/**\n * This method is like `_.merge` except that it accepts `customizer` which\n * is invoked to produce the merged values of the destination and source\n * properties. If `customizer` returns `undefined`, merging is handled by the\n * method instead. The `customizer` is invoked with six arguments:\n * (objValue, srcValue, key, object, source, stack).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} sources The source objects.\n * @param {Function} customizer The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @example\n *\n * function customizer(objValue, srcValue) {\n *   if (_.isArray(objValue)) {\n *     return objValue.concat(srcValue);\n *   }\n * }\n *\n * var object = { 'a': [1], 'b': [2] };\n * var other = { 'a': [3], 'b': [4] };\n *\n * _.mergeWith(object, other, customizer);\n * // => { 'a': [1, 3], 'b': [2, 4] }\n */\nvar mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n  baseMerge(object, source, srcIndex, customizer);\n});\n\nmodule.exports = mergeWith;\n","var apply = require('./_apply'),\n    baseRest = require('./_baseRest'),\n    customDefaultsMerge = require('./_customDefaultsMerge'),\n    mergeWith = require('./mergeWith');\n\n/**\n * This method is like `_.defaults` except that it recursively assigns\n * default properties.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 3.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaults\n * @example\n *\n * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n * // => { 'a': { 'b': 2, 'c': 3 } }\n */\nvar defaultsDeep = baseRest(function(args) {\n  args.push(undefined, customDefaultsMerge);\n  return apply(mergeWith, undefined, args);\n});\n\nmodule.exports = defaultsDeep;\n","var baseFlatten = require('./_baseFlatten');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Recursively flattens `array`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flattenDeep([1, [2, [3, [4]], 5]]);\n * // => [1, 2, 3, 4, 5]\n */\nfunction flattenDeep(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, INFINITY) : [];\n}\n\nmodule.exports = flattenDeep;\n","var arrayMap = require('./_arrayMap'),\n    baseIntersection = require('./_baseIntersection'),\n    baseRest = require('./_baseRest'),\n    castArrayLikeObject = require('./_castArrayLikeObject');\n\n/**\n * Creates an array of unique values that are included in all given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of intersecting values.\n * @example\n *\n * _.intersection([2, 1], [2, 3]);\n * // => [2]\n */\nvar intersection = baseRest(function(arrays) {\n  var mapped = arrayMap(arrays, castArrayLikeObject);\n  return (mapped.length && mapped[0] === arrays[0])\n    ? baseIntersection(mapped)\n    : [];\n});\n\nmodule.exports = intersection;\n","/**\n * This function is like `baseIndexOf` except that it accepts a comparator.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOfWith(array, value, fromIndex, comparator) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (comparator(array[index], value)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseIndexOfWith;\n","var arrayMap = require('./_arrayMap'),\n    baseIndexOf = require('./_baseIndexOf'),\n    baseIndexOfWith = require('./_baseIndexOfWith'),\n    baseUnary = require('./_baseUnary'),\n    copyArray = require('./_copyArray');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * The base implementation of `_.pullAllBy` without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to remove.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns `array`.\n */\nfunction basePullAll(array, values, iteratee, comparator) {\n  var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n      index = -1,\n      length = values.length,\n      seen = array;\n\n  if (array === values) {\n    values = copyArray(values);\n  }\n  if (iteratee) {\n    seen = arrayMap(array, baseUnary(iteratee));\n  }\n  while (++index < length) {\n    var fromIndex = 0,\n        value = values[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n      if (seen !== array) {\n        splice.call(seen, fromIndex, 1);\n      }\n      splice.call(array, fromIndex, 1);\n    }\n  }\n  return array;\n}\n\nmodule.exports = basePullAll;\n","var basePullAll = require('./_basePullAll');\n\n/**\n * This method is like `_.pull` except that it accepts an array of values to remove.\n *\n * **Note:** Unlike `_.difference`, this method mutates `array`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {Array} values The values to remove.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n *\n * _.pullAll(array, ['a', 'c']);\n * console.log(array);\n * // => ['b', 'b']\n */\nfunction pullAll(array, values) {\n  return (array && array.length && values && values.length)\n    ? basePullAll(array, values)\n    : array;\n}\n\nmodule.exports = pullAll;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseDifference;\n","var baseDifference = require('./_baseDifference'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array excluding all given values using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * **Note:** Unlike `_.pull`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...*} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.difference, _.xor\n * @example\n *\n * _.without([2, 1, 2, 3], 1, 2);\n * // => [3]\n */\nvar without = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, values)\n    : [];\n});\n\nmodule.exports = without;\n","var cloneDeep = require('lodash/cloneDeep')\nvar compare = require('json-schema-compare')\nvar computeLcm = require('compute-lcm')\nvar defaultsDeep = require('lodash/defaultsDeep')\nvar flatten = require('lodash/flatten')\nvar flattenDeep = require('lodash/flattenDeep')\nvar intersection = require('lodash/intersection')\nvar intersectionWith = require('lodash/intersectionWith')\nvar isEqual = require('lodash/isEqual')\nvar isPlainObject = require('lodash/isPlainObject')\nvar pullAll = require('lodash/pullAll')\nvar sortBy = require('lodash/sortBy')\nvar forEach = require('lodash/forEach')\nvar uniq = require('lodash/uniq')\nvar uniqWith = require('lodash/uniqWith')\nvar without = require('lodash/without')\n\nvar withoutArr = (arr, ...rest) => without.apply(null, [arr].concat(flatten(rest)))\nvar isPropertyRelated = (key) => contains(propertyRelated, key)\nvar isItemsRelated = (key) => contains(itemsRelated, key)\nvar contains = (arr, val) => arr.indexOf(val) !== -1\nvar isEmptySchema = (obj) => (!keys(obj).length) && obj !== false && obj !== true\nvar isSchema = (val) => isPlainObject(val) || val === true || val === false\nvar isFalse = (val) => val === false\nvar isTrue = (val) => val === true\nvar schemaResolver = (compacted, key, mergeSchemas) => mergeSchemas(compacted)\nvar stringArray = (values) => sortBy(uniq(flattenDeep(values)))\nvar notUndefined = (val) => val !== undefined\nvar allUniqueKeys = (arr) => uniq(flattenDeep(arr.map(keys)))\n\n// resolvers\nvar first = compacted => compacted[0]\nvar required = compacted => stringArray(compacted)\nvar maximumValue = compacted => Math.max.apply(Math, compacted)\nvar minimumValue = compacted => Math.min.apply(Math, compacted)\nvar uniqueItems = compacted => compacted.some(isTrue)\nvar examples = compacted => uniqWith(flatten(compacted), isEqual)\n\nfunction compareProp(key) {\n  return function(a, b) {\n    return compare({\n      [key]: a\n    }, {[key]: b})\n  }\n}\n\nfunction getAllOf(schema) {\n  if (Array.isArray(schema.allOf)) {\n    var allOf = schema.allOf\n    delete schema.allOf\n    return [schema].concat(allOf.map(function(allSchema) {\n      return getAllOf(allSchema)\n    }))\n  } else {\n    return [schema]\n  }\n}\n\nfunction getValues(schemas, key) {\n  return schemas.map(function(schema) {\n    return schema && schema[key]\n  })\n}\n\nfunction getItemSchemas(subSchemas, key) {\n  return subSchemas.map(function(sub) {\n    if (!sub) {\n      return\n    }\n\n    if (Array.isArray(sub.items)) {\n      var schemaAtPos = sub.items[key]\n      if (isSchema(schemaAtPos)) {\n        return schemaAtPos\n      } else if (sub.hasOwnProperty('additionalItems')) {\n        return sub.additionalItems\n      }\n    } else {\n      return sub.items\n    }\n  })\n}\n\nfunction tryMergeSchemaGroups(schemaGroups, mergeSchemas) {\n  return schemaGroups.map(function(schemas, index) {\n    try {\n      return mergeSchemas(schemas, index)\n    } catch (e) {\n      return undefined\n    }\n  }).filter(notUndefined)\n}\n\nfunction getAdditionalSchemas(subSchemas) {\n  return subSchemas.map(function(sub) {\n    if (!sub) {\n      return\n    }\n    if (Array.isArray(sub.items)) {\n      return sub.additionalItems\n    }\n    return sub.items\n  })\n}\n\nfunction keys(obj) {\n  if (isPlainObject(obj) || Array.isArray(obj)) {\n    return Object.keys(obj)\n  } else {\n    return []\n  }\n}\n\nfunction getAnyOfCombinations(arrOfArrays, combinations) {\n  combinations = combinations || []\n  if (!arrOfArrays.length) {\n    return combinations\n  }\n\n  var values = arrOfArrays.slice(0).shift()\n  var rest = arrOfArrays.slice(1)\n  if (combinations.length) {\n    return getAnyOfCombinations(rest, flatten(combinations.map(combination => values.map(item => ([item].concat(combination))))))\n  }\n  return getAnyOfCombinations(rest, values.map(item => (item)))\n}\n\nfunction mergeWithArray(base, newItems) {\n  if (Array.isArray(base)) {\n    base.splice.apply(base, [0, 0].concat(newItems))\n    return base\n  } else {\n    return newItems\n  }\n}\n\nfunction throwIncompatible(values, paths) {\n  var asJSON\n  try {\n    asJSON = values.map(function(val) {\n      return JSON.stringify(val, null, 2)\n    }).join('\\n')\n  } catch (variable) {\n    asJSON = values.join(', ')\n  }\n  throw new Error('Could not resolve values for path:\"' + paths.join('.') + '\". They are probably incompatible. Values: \\n' + asJSON)\n}\n\nfunction cleanupReturnValue(returnObject) {\n  // cleanup empty\n  for (var prop in returnObject) {\n    if (returnObject.hasOwnProperty(prop) && isEmptySchema(returnObject[prop])) {\n      delete returnObject[prop]\n    }\n  }\n  return returnObject\n}\n\nfunction createRequiredSubMerger(mergeSchemas, key, parents) {\n  return function(schemas, subKey) {\n    if (subKey === undefined) {\n      throw new Error('You need to call merger with a key for the property name or index if array.')\n    }\n    subKey = String(subKey)\n    return mergeSchemas(schemas, null, parents.concat(key, subKey))\n  }\n}\n\nfunction callGroupResolver(keys, resolverName, schemas, mergeSchemas, options, parents) {\n  if (keys.length) {\n    var resolver = options.resolvers[resolverName]\n    if (!resolver) {\n      throw new Error('No resolver found for ' + resolverName)\n    }\n\n    var compacted = uniqWith(schemas.map(function(schema) {\n      return keys.reduce(function(all, key) {\n        if (schema[key] !== undefined) {\n          all[key] = schema[key]\n        }\n        return all\n      }, {})\n    }).filter(notUndefined), compare)\n\n    var related = resolverName === 'properties'\n      ? propertyRelated\n      : itemsRelated\n\n    var mergers = related.reduce(function(all, key) {\n      if (contains(schemaGroupProps, key)) {\n        all[key] = createRequiredSubMerger(mergeSchemas, key, parents)\n      } else {\n        all[key] = function(schemas) {\n          return mergeSchemas(schemas, null, parents.concat(key))\n        }\n      }\n      return all\n    }, {})\n\n    if (resolverName === 'items') {\n      mergers.itemsArray = createRequiredSubMerger(mergeSchemas, 'items', parents)\n      mergers.items = function(schemas) {\n        return mergeSchemas(schemas, null, parents.concat('items'))\n      }\n    }\n\n    var result = resolver(compacted, parents.concat(resolverName), mergers, options)\n\n    if (!isPlainObject(result)) {\n      throwIncompatible(compacted, parents.concat(resolverName))\n    }\n\n    return cleanupReturnValue(result)\n  }\n}\n\n// Provide source when array\nfunction mergeSchemaGroup(group, mergeSchemas, source) {\n  var allKeys = allUniqueKeys(source || group)\n  var extractor = source\n    ? getItemSchemas\n    : getValues\n  return allKeys.reduce(function(all, key) {\n    var schemas = extractor(group, key)\n    var compacted = uniqWith(schemas.filter(notUndefined), compare)\n    all[key] = mergeSchemas(compacted, key)\n    return all\n  }, source\n    ? []\n    : {})\n}\n\nfunction removeFalseSchemas(target) {\n  forEach(target, function(schema, prop) {\n    if (schema === false) {\n      delete target[prop]\n    }\n  })\n}\n\nfunction removeFalseSchemasFromArray(target) {\n  forEach(target, function(schema, index) {\n    if (schema === false) {\n      target.splice(index, 1)\n    }\n  })\n}\n\nfunction createRequiredMetaArray(arr) {\n  return {required: arr}\n}\n\nvar propertyRelated = ['properties', 'patternProperties', 'additionalProperties']\nvar itemsRelated = ['items', 'additionalItems']\nvar schemaGroupProps = ['properties', 'patternProperties', 'definitions', 'dependencies']\nvar schemaArrays = ['anyOf', 'oneOf']\nvar schemaProps = [\n  'additionalProperties',\n  'additionalItems',\n  'contains',\n  'propertyNames',\n  'not',\n  'items'\n]\n\nvar defaultResolvers = {\n  type(compacted) {\n    if (compacted.some(Array.isArray)) {\n      var normalized = compacted.map(function(val) {\n        return Array.isArray(val)\n          ? val\n          : [val]\n      })\n      var common = intersection.apply(null, normalized)\n\n      if (common.length === 1) {\n        return common[0]\n      } else if (common.length > 1) {\n        return uniq(common)\n      }\n    }\n  },\n  properties(values, key, mergers, options) {\n    // first get rid of all non permitted properties\n    if (!options.ignoreAdditionalProperties) {\n      values.forEach(function(subSchema) {\n        var otherSubSchemas = values.filter(s => s !== subSchema)\n        var ownKeys = keys(subSchema.properties)\n        var ownPatternKeys = keys(subSchema.patternProperties)\n        var ownPatterns = ownPatternKeys.map(k => new RegExp(k))\n        otherSubSchemas.forEach(function(other) {\n          var allOtherKeys = keys(other.properties)\n          var keysMatchingPattern = allOtherKeys.filter(k => ownPatterns.some(pk => pk.test(k)))\n          var additionalKeys = withoutArr(allOtherKeys, ownKeys, keysMatchingPattern)\n          additionalKeys.forEach(function(key) {\n            other.properties[key] = mergers.properties([\n              other.properties[key], subSchema.additionalProperties\n            ], key)\n          })\n        })\n      })\n\n      // remove disallowed patternProperties\n      values.forEach(function(subSchema) {\n        var otherSubSchemas = values.filter(s => s !== subSchema)\n        var ownPatternKeys = keys(subSchema.patternProperties)\n        if (subSchema.additionalProperties === false) {\n          otherSubSchemas.forEach(function(other) {\n            var allOtherPatterns = keys(other.patternProperties)\n            var additionalPatternKeys = withoutArr(allOtherPatterns, ownPatternKeys)\n            additionalPatternKeys.forEach(key => delete other.patternProperties[key])\n          })\n        }\n      })\n    }\n\n    var returnObject = {\n      additionalProperties: mergers.additionalProperties(values.map(s => s.additionalProperties)),\n      patternProperties: mergeSchemaGroup(values.map(s => s.patternProperties), mergers.patternProperties),\n      properties: mergeSchemaGroup(values.map(s => s.properties), mergers.properties)\n    }\n\n    if (returnObject.additionalProperties === false) {\n      removeFalseSchemas(returnObject.properties)\n    }\n\n    return returnObject\n  },\n  dependencies(compacted, paths, mergeSchemas) {\n    var allChildren = allUniqueKeys(compacted)\n\n    return allChildren.reduce(function(all, childKey) {\n      var childSchemas = getValues(compacted, childKey)\n      var innerCompacted = uniqWith(childSchemas.filter(notUndefined), isEqual)\n\n      // to support dependencies\n      var innerArrays = innerCompacted.filter(Array.isArray)\n\n      if (innerArrays.length) {\n        if (innerArrays.length === innerCompacted.length) {\n          all[childKey] = stringArray(innerCompacted)\n        } else {\n          var innerSchemas = innerCompacted.filter(isSchema)\n          var arrayMetaScheams = innerArrays.map(createRequiredMetaArray)\n          all[childKey] = mergeSchemas(innerSchemas.concat(arrayMetaScheams), childKey)\n        }\n        return all\n      }\n\n      innerCompacted = uniqWith(innerCompacted, compare)\n\n      all[childKey] = mergeSchemas(innerCompacted, childKey)\n      return all\n    }, {})\n  },\n  items(values, paths, mergers) {\n    var items = values.map(s => s.items)\n    var itemsCompacted = items.filter(notUndefined)\n    var returnObject = {}\n\n    if (itemsCompacted.every(isSchema)) {\n      returnObject.items = mergers.items(items)\n    } else {\n      returnObject.items = mergeSchemaGroup(values, mergers.itemsArray, items)\n    }\n\n    var schemasAtLastPos\n    if (itemsCompacted.every(Array.isArray)) {\n      schemasAtLastPos = values.map(s => s.additionalItems)\n    } else if (itemsCompacted.some(Array.isArray)) {\n      schemasAtLastPos = getAdditionalSchemas(values)\n    }\n\n    if (schemasAtLastPos) {\n      returnObject.additionalItems = mergers.additionalItems(schemasAtLastPos)\n    }\n\n    if (returnObject.additionalItems === false && Array.isArray(returnObject.items)) {\n      removeFalseSchemasFromArray(returnObject.items)\n    }\n\n    return returnObject\n  },\n  oneOf(compacted, paths, mergeSchemas) {\n    var combinations = getAnyOfCombinations(cloneDeep(compacted))\n    var result = tryMergeSchemaGroups(combinations, mergeSchemas)\n    var unique = uniqWith(result, compare)\n\n    if (unique.length) {\n      return unique\n    }\n  },\n  not(compacted) {\n    return {anyOf: compacted}\n  },\n  pattern(compacted, paths, mergeSchemas, options, reportUnresolved) {\n    var key = paths.pop()\n    reportUnresolved(compacted.map(function(regexp) {\n      return {[key]: regexp}\n    }))\n  },\n  multipleOf(compacted) {\n    var integers = compacted.slice(0)\n    var factor = 1\n    while (integers.some(n => !Number.isInteger(n))) {\n      integers = integers.map(n => n * 10)\n      factor = factor * 10\n    }\n    return computeLcm(integers) / factor\n  },\n  enum(compacted) {\n    var enums = intersectionWith.apply(null, compacted.concat(isEqual))\n    if (enums.length) {\n      return sortBy(enums)\n    }\n  }\n}\n\ndefaultResolvers.$id = first\ndefaultResolvers.$ref = first\ndefaultResolvers.$schema = first\ndefaultResolvers.additionalItems = schemaResolver\ndefaultResolvers.additionalProperties = schemaResolver\ndefaultResolvers.anyOf = defaultResolvers.oneOf\ndefaultResolvers.contains = schemaResolver\ndefaultResolvers.default = first\ndefaultResolvers.definitions = defaultResolvers.dependencies\ndefaultResolvers.description = first\ndefaultResolvers.examples = examples\ndefaultResolvers.exclusiveMaximum = minimumValue\ndefaultResolvers.exclusiveMinimum = maximumValue\ndefaultResolvers.maximum = minimumValue\ndefaultResolvers.maxItems = minimumValue\ndefaultResolvers.maxLength = minimumValue\ndefaultResolvers.maxProperties = minimumValue\ndefaultResolvers.minimum = maximumValue\ndefaultResolvers.minItems = maximumValue\ndefaultResolvers.minLength = maximumValue\ndefaultResolvers.minProperties = maximumValue\ndefaultResolvers.propertyNames = schemaResolver\ndefaultResolvers.required = required\ndefaultResolvers.title = first\ndefaultResolvers.uniqueItems = uniqueItems\n\nfunction merger(rootSchema, options, totalSchemas) {\n  totalSchemas = totalSchemas || []\n  options = defaultsDeep(options, {\n    ignoreAdditionalProperties: false,\n    resolvers: defaultResolvers\n  })\n\n  function mergeSchemas(schemas, base, parents) {\n    schemas = cloneDeep(schemas.filter(notUndefined))\n    parents = parents || []\n    var merged = isPlainObject(base)\n      ? base\n      : {}\n\n    // return undefined, an empty schema\n    if (!schemas.length) {\n      return\n    }\n\n    if (schemas.some(isFalse)) {\n      return false\n    }\n\n    if (schemas.every(isTrue)) {\n      return true\n    }\n\n    // there are no false and we don't need the true ones as they accept everything\n    schemas = schemas.filter(isPlainObject)\n\n    var allKeys = allUniqueKeys(schemas)\n\n    if (contains(allKeys, 'allOf')) {\n      return merger({\n        allOf: schemas\n      }, options, totalSchemas)\n    }\n\n    var propertyKeys = allKeys.filter(isPropertyRelated)\n    pullAll(allKeys, propertyKeys)\n\n    var itemKeys = allKeys.filter(isItemsRelated)\n    pullAll(allKeys, itemKeys)\n\n    allKeys.forEach(function(key) {\n      var values = getValues(schemas, key)\n      var compacted = uniqWith(values.filter(notUndefined), compareProp(key))\n\n      // arrayprops like anyOf and oneOf must be merged first, as they contains schemas\n      // allOf is treated differently alltogether\n      if (compacted.length === 1 && contains(schemaArrays, key)) {\n        merged[key] = compacted[0].map(function(schema) {\n          return mergeSchemas([schema], schema)\n        })\n        // prop groups must always be resolved\n      } else if (compacted.length === 1 && !contains(schemaGroupProps, key) && !contains(schemaProps, key)) {\n        merged[key] = compacted[0]\n      } else {\n        var resolver = options.resolvers[key] || options.resolvers.defaultResolver\n\n        if (!resolver) {\n          throw new Error('No resolver found for key ' + key + '. You can provide a resolver for this keyword in the options, or provide a default resolver.')\n        }\n\n        var merger\n        // get custom merger for groups\n        if (contains(schemaGroupProps, key) || contains(schemaArrays, key)) {\n          merger = createRequiredSubMerger(mergeSchemas, key, parents)\n        } else {\n          merger = function(schemas) {\n            return mergeSchemas(schemas, null, parents.concat(key))\n          }\n        }\n\n        var calledWithArray = false\n        merged[key] = resolver(compacted, parents.concat(key), merger, options, function(unresolvedSchemas) {\n          calledWithArray = Array.isArray(unresolvedSchemas)\n          return addToAllOf(unresolvedSchemas)\n        })\n\n        if (merged[key] === undefined && !calledWithArray) {\n          throwIncompatible(compacted, parents.concat(key))\n        } else if (merged[key] === undefined) {\n          delete merged[key]\n        }\n      }\n    })\n\n    Object.assign(merged, callGroupResolver(propertyKeys, 'properties', schemas, mergeSchemas, options, parents))\n    Object.assign(merged, callGroupResolver(itemKeys, 'items', schemas, mergeSchemas, options, parents))\n\n    function addToAllOf(unresolvedSchemas) {\n      merged.allOf = mergeWithArray(merged.allOf, unresolvedSchemas)\n    }\n\n    return merged\n  }\n\n  var allSchemas = flattenDeep(getAllOf(rootSchema))\n  var merged = mergeSchemas(allSchemas, rootSchema)\n\n  return merged\n}\n\nmerger.options = {\n  resolvers: defaultResolvers\n}\n\nmodule.exports = merger\n","var hasExcape = /~/\nvar escapeMatcher = /~[01]/g\nfunction escapeReplacer (m) {\n  switch (m) {\n    case '~1': return '/'\n    case '~0': return '~'\n  }\n  throw new Error('Invalid tilde escape: ' + m)\n}\n\nfunction untilde (str) {\n  if (!hasExcape.test(str)) return str\n  return str.replace(escapeMatcher, escapeReplacer)\n}\n\nfunction setter (obj, pointer, value) {\n  var part\n  var hasNextPart\n\n  for (var p = 1, len = pointer.length; p < len;) {\n    if (pointer[p] === 'constructor' || pointer[p] === 'prototype' || pointer[p] === '__proto__') return obj\n\n    part = untilde(pointer[p++])\n    hasNextPart = len > p\n\n    if (typeof obj[part] === 'undefined') {\n      // support setting of /-\n      if (Array.isArray(obj) && part === '-') {\n        part = obj.length\n      }\n\n      // support nested objects/array when setting values\n      if (hasNextPart) {\n        if ((pointer[p] !== '' && pointer[p] < Infinity) || pointer[p] === '-') obj[part] = []\n        else obj[part] = {}\n      }\n    }\n\n    if (!hasNextPart) break\n    obj = obj[part]\n  }\n\n  var oldValue = obj[part]\n  if (value === undefined) delete obj[part]\n  else obj[part] = value\n  return oldValue\n}\n\nfunction compilePointer (pointer) {\n  if (typeof pointer === 'string') {\n    pointer = pointer.split('/')\n    if (pointer[0] === '') return pointer\n    throw new Error('Invalid JSON pointer.')\n  } else if (Array.isArray(pointer)) {\n    for (const part of pointer) {\n      if (typeof part !== 'string' && typeof part !== 'number') {\n        throw new Error('Invalid JSON pointer. Must be of type string or number.')\n      }\n    }\n    return pointer\n  }\n\n  throw new Error('Invalid JSON pointer.')\n}\n\nfunction get (obj, pointer) {\n  if (typeof obj !== 'object') throw new Error('Invalid input object.')\n  pointer = compilePointer(pointer)\n  var len = pointer.length\n  if (len === 1) return obj\n\n  for (var p = 1; p < len;) {\n    obj = obj[untilde(pointer[p++])]\n    if (len === p) return obj\n    if (typeof obj !== 'object' || obj === null) return undefined\n  }\n}\n\nfunction set (obj, pointer, value) {\n  if (typeof obj !== 'object') throw new Error('Invalid input object.')\n  pointer = compilePointer(pointer)\n  if (pointer.length === 0) throw new Error('Invalid JSON pointer for set.')\n  return setter(obj, pointer, value)\n}\n\nfunction compile (pointer) {\n  var compiled = compilePointer(pointer)\n  return {\n    get: function (object) {\n      return get(object, compiled)\n    },\n    set: function (object, value) {\n      return set(object, compiled, value)\n    }\n  }\n}\n\nexports.get = get\nexports.set = set\nexports.compile = compile\n","import React, { Component, forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nimport _pick from 'lodash-es/pick';\nimport _get from 'lodash-es/get';\nimport _isEmpty from 'lodash-es/isEmpty';\nimport includes from 'core-js-pure/es/array/includes';\nimport { isForwardRef, isMemo } from 'react-is';\nimport mergeAllOf from 'json-schema-merge-allof';\nimport fill from 'core-js-pure/features/array/fill';\nimport union from 'lodash-es/union';\nimport jsonpointer from 'jsonpointer';\nimport toPath from 'lodash-es/toPath';\nimport Ajv from 'ajv';\nimport { nanoid } from 'nanoid';\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nfunction IconButton(props) {\n  var _props$type = props.type,\n      type = _props$type === void 0 ? \"default\" : _props$type,\n      icon = props.icon,\n      className = props.className,\n      otherProps = _objectWithoutPropertiesLoose(props, [\"type\", \"icon\", \"className\"]);\n\n  return /*#__PURE__*/React.createElement(\"button\", _extends({\n    type: \"button\",\n    className: \"btn btn-\" + type + \" \" + className\n  }, otherProps), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"glyphicon glyphicon-\" + icon\n  }));\n}\n\nfunction AddButton(_ref) {\n  var className = _ref.className,\n      onClick = _ref.onClick,\n      disabled = _ref.disabled;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\"\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"col-xs-3 col-xs-offset-9 text-right \" + className\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    type: \"info\",\n    icon: \"plus\",\n    className: \"btn-add col-xs-12\",\n    \"aria-label\": \"Add\",\n    tabIndex: \"0\",\n    onClick: onClick,\n    disabled: disabled\n  })));\n}\n\nvar registry = /*#__PURE__*/PropTypes.shape({\n  ArrayFieldTemplate: PropTypes.elementType,\n  FieldTemplate: PropTypes.elementType,\n  ObjectFieldTemplate: PropTypes.elementType,\n  definitions: PropTypes.object.isRequired,\n  rootSchema: PropTypes.object,\n  fields: /*#__PURE__*/PropTypes.objectOf(PropTypes.elementType).isRequired,\n  formContext: PropTypes.object.isRequired,\n  widgets: /*#__PURE__*/PropTypes.objectOf( /*#__PURE__*/PropTypes.oneOfType([PropTypes.func, PropTypes.object])).isRequired\n});\nvar fieldProps = {\n  autofocus: PropTypes.bool,\n  disabled: PropTypes.bool,\n  errorSchema: PropTypes.object,\n  formData: PropTypes.any,\n  idSchema: PropTypes.object,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func.isRequired,\n  onFocus: PropTypes.func,\n  rawErrors: /*#__PURE__*/PropTypes.arrayOf(PropTypes.string),\n  readonly: PropTypes.bool,\n  registry: registry.isRequired,\n  required: PropTypes.bool,\n  schema: PropTypes.object.isRequired,\n  uiSchema: /*#__PURE__*/PropTypes.shape({\n    \"ui:options\": /*#__PURE__*/PropTypes.shape({\n      addable: PropTypes.bool,\n      orderable: PropTypes.bool,\n      removable: PropTypes.bool\n    })\n  })\n};\n\nvar ajv = /*#__PURE__*/createAjvInstance();\nvar formerCustomFormats = null;\nvar formerMetaSchema = null;\nvar ROOT_SCHEMA_PREFIX = \"__rjsf_rootSchema\";\n\nfunction createAjvInstance() {\n  var ajv = new Ajv({\n    errorDataPath: \"property\",\n    allErrors: true,\n    multipleOfPrecision: 8,\n    schemaId: \"auto\",\n    unknownFormats: \"ignore\"\n  }); // add custom formats\n\n  ajv.addFormat(\"data-url\", /^data:([a-z]+\\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/);\n  ajv.addFormat(\"color\", /^(#?([0-9A-Fa-f]{3}){1,2}\\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\\(\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*,\\s*\\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\b\\s*\\))|(rgb\\(\\s*(\\d?\\d%|100%)+\\s*,\\s*(\\d?\\d%|100%)+\\s*,\\s*(\\d?\\d%|100%)+\\s*\\)))$/);\n  return ajv;\n}\n\nfunction toErrorSchema(errors) {\n  // Transforms a ajv validation errors list:\n  // [\n  //   {property: \".level1.level2[2].level3\", message: \"err a\"},\n  //   {property: \".level1.level2[2].level3\", message: \"err b\"},\n  //   {property: \".level1.level2[4].level3\", message: \"err b\"},\n  // ]\n  // Into an error tree:\n  // {\n  //   level1: {\n  //     level2: {\n  //       2: {level3: {errors: [\"err a\", \"err b\"]}},\n  //       4: {level3: {errors: [\"err b\"]}},\n  //     }\n  //   }\n  // };\n  if (!errors.length) {\n    return {};\n  }\n\n  return errors.reduce(function (errorSchema, error) {\n    var property = error.property,\n        message = error.message;\n    var path = toPath(property);\n    var parent = errorSchema; // If the property is at the root (.level1) then toPath creates\n    // an empty array element at the first index. Remove it.\n\n    if (path.length > 0 && path[0] === \"\") {\n      path.splice(0, 1);\n    }\n\n    for (var _iterator = path.slice(0), _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var segment = _ref;\n\n      if (!(segment in parent)) {\n        parent[segment] = {};\n      }\n\n      parent = parent[segment];\n    }\n\n    if (Array.isArray(parent.__errors)) {\n      // We store the list of errors for this node in a property named __errors\n      // to avoid name collision with a possible sub schema field named\n      // \"errors\" (see `validate.createErrorHandler`).\n      parent.__errors = parent.__errors.concat(message);\n    } else {\n      if (message) {\n        parent.__errors = [message];\n      }\n    }\n\n    return errorSchema;\n  }, {});\n}\n\nfunction toErrorList(errorSchema, fieldName) {\n  if (fieldName === void 0) {\n    fieldName = \"root\";\n  }\n\n  // XXX: We should transform fieldName as a full field path string.\n  var errorList = [];\n\n  if (\"__errors\" in errorSchema) {\n    errorList = errorList.concat(errorSchema.__errors.map(function (stack) {\n      return {\n        stack: fieldName + \": \" + stack\n      };\n    }));\n  }\n\n  return Object.keys(errorSchema).reduce(function (acc, key) {\n    if (key !== \"__errors\") {\n      acc = acc.concat(toErrorList(errorSchema[key], key));\n    }\n\n    return acc;\n  }, errorList);\n}\n\nfunction createErrorHandler(formData) {\n  var handler = {\n    // We store the list of errors for this node in a property named __errors\n    // to avoid name collision with a possible sub schema field named\n    // \"errors\" (see `utils.toErrorSchema`).\n    __errors: [],\n    addError: function addError(message) {\n      this.__errors.push(message);\n    }\n  };\n\n  if (isObject(formData)) {\n    return Object.keys(formData).reduce(function (acc, key) {\n      var _extends2;\n\n      return _extends({}, acc, (_extends2 = {}, _extends2[key] = createErrorHandler(formData[key]), _extends2));\n    }, handler);\n  }\n\n  if (Array.isArray(formData)) {\n    return formData.reduce(function (acc, value, key) {\n      var _extends3;\n\n      return _extends({}, acc, (_extends3 = {}, _extends3[key] = createErrorHandler(value), _extends3));\n    }, handler);\n  }\n\n  return handler;\n}\n\nfunction unwrapErrorHandler(errorHandler) {\n  return Object.keys(errorHandler).reduce(function (acc, key) {\n    var _extends5;\n\n    if (key === \"addError\") {\n      return acc;\n    } else if (key === \"__errors\") {\n      var _extends4;\n\n      return _extends({}, acc, (_extends4 = {}, _extends4[key] = errorHandler[key], _extends4));\n    }\n\n    return _extends({}, acc, (_extends5 = {}, _extends5[key] = unwrapErrorHandler(errorHandler[key]), _extends5));\n  }, {});\n}\n/**\n * Transforming the error output from ajv to format used by jsonschema.\n * At some point, components should be updated to support ajv.\n */\n\n\nfunction transformAjvErrors(errors) {\n  if (errors === void 0) {\n    errors = [];\n  }\n\n  if (errors === null) {\n    return [];\n  }\n\n  return errors.map(function (e) {\n    var dataPath = e.dataPath,\n        keyword = e.keyword,\n        message = e.message,\n        params = e.params,\n        schemaPath = e.schemaPath;\n    var property = \"\" + dataPath; // put data in expected format\n\n    return {\n      name: keyword,\n      property: property,\n      message: message,\n      params: params,\n      // specific to ajv\n      stack: (property + \" \" + message).trim(),\n      schemaPath: schemaPath\n    };\n  });\n}\n/**\n * This function processes the formData with a user `validate` contributed\n * function, which receives the form data and an `errorHandler` object that\n * will be used to add custom validation errors for each field.\n */\n\n\nfunction validateFormData(formData, schema, customValidate, transformErrors, additionalMetaSchemas, customFormats) {\n  if (additionalMetaSchemas === void 0) {\n    additionalMetaSchemas = [];\n  }\n\n  if (customFormats === void 0) {\n    customFormats = {};\n  }\n\n  // Include form data with undefined values, which is required for validation.\n  var rootSchema = schema;\n  formData = getDefaultFormState(schema, formData, rootSchema, true);\n  var newMetaSchemas = !deepEquals(formerMetaSchema, additionalMetaSchemas);\n  var newFormats = !deepEquals(formerCustomFormats, customFormats);\n\n  if (newMetaSchemas || newFormats) {\n    ajv = createAjvInstance();\n  } // add more schemas to validate against\n\n\n  if (additionalMetaSchemas && newMetaSchemas && Array.isArray(additionalMetaSchemas)) {\n    ajv.addMetaSchema(additionalMetaSchemas);\n    formerMetaSchema = additionalMetaSchemas;\n  } // add more custom formats to validate against\n\n\n  if (customFormats && newFormats && isObject(customFormats)) {\n    Object.keys(customFormats).forEach(function (formatName) {\n      ajv.addFormat(formatName, customFormats[formatName]);\n    });\n    formerCustomFormats = customFormats;\n  }\n\n  var validationError = null;\n\n  try {\n    ajv.validate(schema, formData);\n  } catch (err) {\n    validationError = err;\n  }\n\n  var errors = transformAjvErrors(ajv.errors); // Clear errors to prevent persistent errors, see #1104\n\n  ajv.errors = null;\n  var noProperMetaSchema = validationError && validationError.message && typeof validationError.message === \"string\" && validationError.message.includes(\"no schema with key or ref \");\n\n  if (noProperMetaSchema) {\n    errors = [].concat(errors, [{\n      stack: validationError.message\n    }]);\n  }\n\n  if (typeof transformErrors === \"function\") {\n    errors = transformErrors(errors);\n  }\n\n  var errorSchema = toErrorSchema(errors);\n\n  if (noProperMetaSchema) {\n    errorSchema = _extends({}, errorSchema, {\n      $schema: {\n        __errors: [validationError.message]\n      }\n    });\n  }\n\n  if (typeof customValidate !== \"function\") {\n    return {\n      errors: errors,\n      errorSchema: errorSchema\n    };\n  }\n\n  var errorHandler = customValidate(formData, createErrorHandler(formData));\n  var userErrorSchema = unwrapErrorHandler(errorHandler);\n  var newErrorSchema = mergeObjects(errorSchema, userErrorSchema, true); // XXX: The errors list produced is not fully compliant with the format\n  // exposed by the jsonschema lib, which contains full field paths and other\n  // properties.\n\n  var newErrors = toErrorList(newErrorSchema);\n  return {\n    errors: newErrors,\n    errorSchema: newErrorSchema\n  };\n}\n/**\n * Recursively prefixes all $ref's in a schema with `ROOT_SCHEMA_PREFIX`\n * This is used in isValid to make references to the rootSchema\n */\n\nfunction withIdRefPrefix(schemaNode) {\n  var obj = schemaNode;\n\n  if (schemaNode.constructor === Object) {\n    obj = _extends({}, schemaNode);\n\n    for (var key in obj) {\n      var value = obj[key];\n\n      if (key === \"$ref\" && typeof value === \"string\" && value.startsWith(\"#\")) {\n        obj[key] = ROOT_SCHEMA_PREFIX + value;\n      } else {\n        obj[key] = withIdRefPrefix(value);\n      }\n    }\n  } else if (Array.isArray(schemaNode)) {\n    obj = [].concat(schemaNode);\n\n    for (var i = 0; i < obj.length; i++) {\n      obj[i] = withIdRefPrefix(obj[i]);\n    }\n  }\n\n  return obj;\n}\n/**\n * Validates data against a schema, returning true if the data is valid, or\n * false otherwise. If the schema is invalid, then this function will return\n * false.\n */\n\nfunction isValid(schema, data, rootSchema) {\n  try {\n    // add the rootSchema ROOT_SCHEMA_PREFIX as id.\n    // then rewrite the schema ref's to point to the rootSchema\n    // this accounts for the case where schema have references to models\n    // that lives in the rootSchema but not in the schema in question.\n    return ajv.addSchema(rootSchema, ROOT_SCHEMA_PREFIX).validate(withIdRefPrefix(schema), data);\n  } catch (e) {\n    return false;\n  } finally {\n    // make sure we remove the rootSchema from the global ajv instance\n    ajv.removeSchema(ROOT_SCHEMA_PREFIX);\n  }\n}\n\nvar ADDITIONAL_PROPERTY_FLAG = \"__additional_property\";\nvar widgetMap = {\n  \"boolean\": {\n    checkbox: \"CheckboxWidget\",\n    radio: \"RadioWidget\",\n    select: \"SelectWidget\",\n    hidden: \"HiddenWidget\"\n  },\n  string: {\n    text: \"TextWidget\",\n    password: \"PasswordWidget\",\n    email: \"EmailWidget\",\n    hostname: \"TextWidget\",\n    ipv4: \"TextWidget\",\n    ipv6: \"TextWidget\",\n    uri: \"URLWidget\",\n    \"data-url\": \"FileWidget\",\n    radio: \"RadioWidget\",\n    select: \"SelectWidget\",\n    textarea: \"TextareaWidget\",\n    hidden: \"HiddenWidget\",\n    date: \"DateWidget\",\n    datetime: \"DateTimeWidget\",\n    \"date-time\": \"DateTimeWidget\",\n    \"alt-date\": \"AltDateWidget\",\n    \"alt-datetime\": \"AltDateTimeWidget\",\n    color: \"ColorWidget\",\n    file: \"FileWidget\"\n  },\n  number: {\n    text: \"TextWidget\",\n    select: \"SelectWidget\",\n    updown: \"UpDownWidget\",\n    range: \"RangeWidget\",\n    radio: \"RadioWidget\",\n    hidden: \"HiddenWidget\"\n  },\n  integer: {\n    text: \"TextWidget\",\n    select: \"SelectWidget\",\n    updown: \"UpDownWidget\",\n    range: \"RangeWidget\",\n    radio: \"RadioWidget\",\n    hidden: \"HiddenWidget\"\n  },\n  array: {\n    select: \"SelectWidget\",\n    checkboxes: \"CheckboxesWidget\",\n    files: \"FileWidget\",\n    hidden: \"HiddenWidget\"\n  }\n};\nfunction canExpand(schema, uiSchema, formData) {\n  if (!schema.additionalProperties) {\n    return false;\n  }\n\n  var _getUiOptions = getUiOptions(uiSchema),\n      expandable = _getUiOptions.expandable;\n\n  if (expandable === false) {\n    return expandable;\n  } // if ui:options.expandable was not explicitly set to false, we can add\n  // another property if we have not exceeded maxProperties yet\n\n\n  if (schema.maxProperties !== undefined) {\n    return Object.keys(formData).length < schema.maxProperties;\n  }\n\n  return true;\n}\n/* Gets the type of a given schema. */\n\nfunction getSchemaType(schema) {\n  var type = schema.type;\n\n  if (!type && schema[\"const\"]) {\n    return guessType(schema[\"const\"]);\n  }\n\n  if (!type && schema[\"enum\"]) {\n    return \"string\";\n  }\n\n  if (!type && (schema.properties || schema.additionalProperties)) {\n    return \"object\";\n  }\n\n  if (type instanceof Array && type.length === 2 && type.includes(\"null\")) {\n    return type.find(function (type) {\n      return type !== \"null\";\n    });\n  }\n\n  return type;\n}\nfunction getWidget(schema, widget, registeredWidgets) {\n  if (registeredWidgets === void 0) {\n    registeredWidgets = {};\n  }\n\n  var type = getSchemaType(schema);\n\n  function mergeOptions(Widget) {\n    // cache return value as property of widget for proper react reconciliation\n    if (!Widget.MergedWidget) {\n      var defaultOptions = Widget.defaultProps && Widget.defaultProps.options || {};\n\n      Widget.MergedWidget = function (_ref) {\n        var _ref$options = _ref.options,\n            options = _ref$options === void 0 ? {} : _ref$options,\n            props = _objectWithoutPropertiesLoose(_ref, [\"options\"]);\n\n        return /*#__PURE__*/React.createElement(Widget, _extends({\n          options: _extends({}, defaultOptions, options)\n        }, props));\n      };\n    }\n\n    return Widget.MergedWidget;\n  }\n\n  if (typeof widget === \"function\" || isForwardRef(React.createElement(widget)) || isMemo(widget)) {\n    return mergeOptions(widget);\n  }\n\n  if (typeof widget !== \"string\") {\n    throw new Error(\"Unsupported widget definition: \" + typeof widget);\n  }\n\n  if (registeredWidgets.hasOwnProperty(widget)) {\n    var registeredWidget = registeredWidgets[widget];\n    return getWidget(schema, registeredWidget, registeredWidgets);\n  }\n\n  if (!widgetMap.hasOwnProperty(type)) {\n    throw new Error(\"No widget for type \\\"\" + type + \"\\\"\");\n  }\n\n  if (widgetMap[type].hasOwnProperty(widget)) {\n    var _registeredWidget = registeredWidgets[widgetMap[type][widget]];\n    return getWidget(schema, _registeredWidget, registeredWidgets);\n  }\n\n  throw new Error(\"No widget \\\"\" + widget + \"\\\" for type \\\"\" + type + \"\\\"\");\n}\nfunction hasWidget(schema, widget, registeredWidgets) {\n  if (registeredWidgets === void 0) {\n    registeredWidgets = {};\n  }\n\n  try {\n    getWidget(schema, widget, registeredWidgets);\n    return true;\n  } catch (e) {\n    if (e.message && (e.message.startsWith(\"No widget\") || e.message.startsWith(\"Unsupported widget\"))) {\n      return false;\n    }\n\n    throw e;\n  }\n}\n\nfunction computeDefaults(_schema, parentDefaults, rootSchema, rawFormData, includeUndefinedValues) {\n  if (rawFormData === void 0) {\n    rawFormData = {};\n  }\n\n  if (includeUndefinedValues === void 0) {\n    includeUndefinedValues = false;\n  }\n\n  var schema = isObject(_schema) ? _schema : {};\n  var formData = isObject(rawFormData) ? rawFormData : {}; // Compute the defaults recursively: give highest priority to deepest nodes.\n\n  var defaults = parentDefaults;\n\n  if (isObject(defaults) && isObject(schema[\"default\"])) {\n    // For object defaults, only override parent defaults that are defined in\n    // schema.default.\n    defaults = mergeObjects(defaults, schema[\"default\"]);\n  } else if (\"default\" in schema) {\n    // Use schema defaults for this node.\n    defaults = schema[\"default\"];\n  } else if (\"$ref\" in schema) {\n    // Use referenced schema defaults for this node.\n    var refSchema = findSchemaDefinition(schema.$ref, rootSchema);\n    return computeDefaults(refSchema, defaults, rootSchema, formData, includeUndefinedValues);\n  } else if (\"dependencies\" in schema) {\n    var resolvedSchema = resolveDependencies(schema, rootSchema, formData);\n    return computeDefaults(resolvedSchema, defaults, rootSchema, formData, includeUndefinedValues);\n  } else if (isFixedItems(schema)) {\n    defaults = schema.items.map(function (itemSchema, idx) {\n      return computeDefaults(itemSchema, Array.isArray(parentDefaults) ? parentDefaults[idx] : undefined, rootSchema, formData, includeUndefinedValues);\n    });\n  } else if (\"oneOf\" in schema) {\n    schema = schema.oneOf[getMatchingOption(undefined, schema.oneOf, rootSchema)];\n  } else if (\"anyOf\" in schema) {\n    schema = schema.anyOf[getMatchingOption(undefined, schema.anyOf, rootSchema)];\n  } // Not defaults defined for this node, fallback to generic typed ones.\n\n\n  if (typeof defaults === \"undefined\") {\n    defaults = schema[\"default\"];\n  }\n\n  switch (getSchemaType(schema)) {\n    // We need to recur for object schema inner default values.\n    case \"object\":\n      return Object.keys(schema.properties || {}).reduce(function (acc, key) {\n        // Compute the defaults for this node, with the parent defaults we might\n        // have from a previous run: defaults[key].\n        var computedDefault = computeDefaults(schema.properties[key], (defaults || {})[key], rootSchema, (formData || {})[key], includeUndefinedValues);\n\n        if (includeUndefinedValues || computedDefault !== undefined) {\n          acc[key] = computedDefault;\n        }\n\n        return acc;\n      }, {});\n\n    case \"array\":\n      // Inject defaults into existing array defaults\n      if (Array.isArray(defaults)) {\n        defaults = defaults.map(function (item, idx) {\n          return computeDefaults(schema.items[idx] || schema.additionalItems || {}, item, rootSchema);\n        });\n      } // Deeply inject defaults into already existing form data\n\n\n      if (Array.isArray(rawFormData)) {\n        defaults = rawFormData.map(function (item, idx) {\n          return computeDefaults(schema.items, (defaults || {})[idx], rootSchema, item);\n        });\n      }\n\n      if (schema.minItems) {\n        if (!isMultiSelect(schema, rootSchema)) {\n          var defaultsLength = defaults ? defaults.length : 0;\n\n          if (schema.minItems > defaultsLength) {\n            var defaultEntries = defaults || []; // populate the array with the defaults\n\n            var fillerSchema = Array.isArray(schema.items) ? schema.additionalItems : schema.items;\n            var fillerEntries = fill(new Array(schema.minItems - defaultsLength), computeDefaults(fillerSchema, fillerSchema.defaults, rootSchema)); // then fill up the rest with either the item default or empty, up to minItems\n\n            return defaultEntries.concat(fillerEntries);\n          }\n        } else {\n          return defaults ? defaults : [];\n        }\n      }\n\n  }\n\n  return defaults;\n}\n\nfunction getDefaultFormState(_schema, formData, rootSchema, includeUndefinedValues) {\n  if (rootSchema === void 0) {\n    rootSchema = {};\n  }\n\n  if (includeUndefinedValues === void 0) {\n    includeUndefinedValues = false;\n  }\n\n  if (!isObject(_schema)) {\n    throw new Error(\"Invalid schema: \" + _schema);\n  }\n\n  var schema = retrieveSchema(_schema, rootSchema, formData);\n  var defaults = computeDefaults(schema, _schema[\"default\"], rootSchema, formData, includeUndefinedValues);\n\n  if (typeof formData === \"undefined\") {\n    // No form data? Use schema defaults.\n    return defaults;\n  }\n\n  if (isObject(formData) || Array.isArray(formData)) {\n    return mergeDefaultsWithFormData(defaults, formData);\n  }\n\n  if (formData === 0 || formData === false || formData === \"\") {\n    return formData;\n  }\n\n  return formData || defaults;\n}\n/**\n * When merging defaults and form data, we want to merge in this specific way:\n * - objects are deeply merged\n * - arrays are merged in such a way that:\n *   - when the array is set in form data, only array entries set in form data\n *     are deeply merged; additional entries from the defaults are ignored\n *   - when the array is not set in form data, the default is copied over\n * - scalars are overwritten/set by form data\n */\n\nfunction mergeDefaultsWithFormData(defaults, formData) {\n  if (Array.isArray(formData)) {\n    if (!Array.isArray(defaults)) {\n      defaults = [];\n    }\n\n    return formData.map(function (value, idx) {\n      if (defaults[idx]) {\n        return mergeDefaultsWithFormData(defaults[idx], value);\n      }\n\n      return value;\n    });\n  } else if (isObject(formData)) {\n    var acc = Object.assign({}, defaults); // Prevent mutation of source object.\n\n    return Object.keys(formData).reduce(function (acc, key) {\n      acc[key] = mergeDefaultsWithFormData(defaults ? defaults[key] : {}, formData[key]);\n      return acc;\n    }, acc);\n  } else {\n    return formData;\n  }\n}\nfunction getUiOptions(uiSchema) {\n  // get all passed options from ui:widget, ui:options, and ui:<optionName>\n  return Object.keys(uiSchema).filter(function (key) {\n    return key.indexOf(\"ui:\") === 0;\n  }).reduce(function (options, key) {\n    var _extends2;\n\n    var value = uiSchema[key];\n\n    if (key === \"ui:widget\" && isObject(value)) {\n      console.warn(\"Setting options via ui:widget object is deprecated, use ui:options instead\");\n      return _extends({}, options, value.options || {}, {\n        widget: value.component\n      });\n    }\n\n    if (key === \"ui:options\" && isObject(value)) {\n      return _extends({}, options, value);\n    }\n\n    return _extends({}, options, (_extends2 = {}, _extends2[key.substring(3)] = value, _extends2));\n  }, {});\n}\nfunction getSubmitButtonOptions(uiSchema) {\n  var uiOptions = getUiOptions(uiSchema);\n  var defaultOptions = {\n    props: {\n      disabled: false\n    },\n    submitText: \"Submit\",\n    norender: false\n  };\n\n  if (uiOptions && uiOptions[\"submitButtonOptions\"]) {\n    return Object.assign({}, defaultOptions, uiOptions[\"submitButtonOptions\"]);\n  }\n\n  return defaultOptions;\n}\nfunction getDisplayLabel(schema, uiSchema, rootSchema) {\n  var uiOptions = getUiOptions(uiSchema);\n  var _uiOptions$label = uiOptions.label,\n      displayLabel = _uiOptions$label === void 0 ? true : _uiOptions$label;\n  var schemaType = getSchemaType(schema);\n\n  if (schemaType === \"array\") {\n    displayLabel = isMultiSelect(schema, rootSchema) || isFilesArray(schema, uiSchema, rootSchema) || isCustomWidget(uiSchema);\n  }\n\n  if (schemaType === \"object\") {\n    displayLabel = false;\n  }\n\n  if (schemaType === \"boolean\" && !uiSchema[\"ui:widget\"]) {\n    displayLabel = false;\n  }\n\n  if (uiSchema[\"ui:field\"]) {\n    displayLabel = false;\n  }\n\n  return displayLabel;\n}\nfunction isObject(thing) {\n  if (typeof File !== \"undefined\" && thing instanceof File) {\n    return false;\n  }\n\n  return typeof thing === \"object\" && thing !== null && !Array.isArray(thing);\n}\nfunction mergeObjects(obj1, obj2, concatArrays) {\n  if (concatArrays === void 0) {\n    concatArrays = false;\n  }\n\n  // Recursively merge deeply nested objects.\n  var acc = Object.assign({}, obj1); // Prevent mutation of source object.\n\n  return Object.keys(obj2).reduce(function (acc, key) {\n    var left = obj1 ? obj1[key] : {},\n        right = obj2[key];\n\n    if (obj1 && obj1.hasOwnProperty(key) && isObject(right)) {\n      acc[key] = mergeObjects(left, right, concatArrays);\n    } else if (concatArrays && Array.isArray(left) && Array.isArray(right)) {\n      acc[key] = left.concat(right);\n    } else {\n      acc[key] = right;\n    }\n\n    return acc;\n  }, acc);\n}\nfunction asNumber(value) {\n  if (value === \"\") {\n    return undefined;\n  }\n\n  if (value === null) {\n    return null;\n  }\n\n  if (/\\.$/.test(value)) {\n    // \"3.\" can't really be considered a number even if it parses in js. The\n    // user is most likely entering a float.\n    return value;\n  }\n\n  if (/\\.0$/.test(value)) {\n    // we need to return this as a string here, to allow for input like 3.07\n    return value;\n  }\n\n  var n = Number(value);\n  var valid = typeof n === \"number\" && !Number.isNaN(n);\n\n  if (/\\.\\d*0$/.test(value)) {\n    // It's a number, that's cool - but we need it as a string so it doesn't screw\n    // with the user when entering dollar amounts or other values (such as those with\n    // specific precision or number of significant digits)\n    return value;\n  }\n\n  return valid ? n : value;\n}\nfunction orderProperties(properties, order) {\n  if (!Array.isArray(order)) {\n    return properties;\n  }\n\n  var arrayToHash = function arrayToHash(arr) {\n    return arr.reduce(function (prev, curr) {\n      prev[curr] = true;\n      return prev;\n    }, {});\n  };\n\n  var errorPropList = function errorPropList(arr) {\n    return arr.length > 1 ? \"properties '\" + arr.join(\"', '\") + \"'\" : \"property '\" + arr[0] + \"'\";\n  };\n\n  var propertyHash = arrayToHash(properties);\n  var orderFiltered = order.filter(function (prop) {\n    return prop === \"*\" || propertyHash[prop];\n  });\n  var orderHash = arrayToHash(orderFiltered);\n  var rest = properties.filter(function (prop) {\n    return !orderHash[prop];\n  });\n  var restIndex = orderFiltered.indexOf(\"*\");\n\n  if (restIndex === -1) {\n    if (rest.length) {\n      throw new Error(\"uiSchema order list does not contain \" + errorPropList(rest));\n    }\n\n    return orderFiltered;\n  }\n\n  if (restIndex !== orderFiltered.lastIndexOf(\"*\")) {\n    throw new Error(\"uiSchema order list contains more than one wildcard item\");\n  }\n\n  var complete = [].concat(orderFiltered);\n  complete.splice.apply(complete, [restIndex, 1].concat(rest));\n  return complete;\n}\n/**\n * This function checks if the given schema matches a single\n * constant value.\n */\n\nfunction isConstant(schema) {\n  return Array.isArray(schema[\"enum\"]) && schema[\"enum\"].length === 1 || schema.hasOwnProperty(\"const\");\n}\nfunction toConstant(schema) {\n  if (Array.isArray(schema[\"enum\"]) && schema[\"enum\"].length === 1) {\n    return schema[\"enum\"][0];\n  } else if (schema.hasOwnProperty(\"const\")) {\n    return schema[\"const\"];\n  } else {\n    throw new Error(\"schema cannot be inferred as a constant\");\n  }\n}\nfunction isSelect(_schema, rootSchema) {\n  if (rootSchema === void 0) {\n    rootSchema = {};\n  }\n\n  var schema = retrieveSchema(_schema, rootSchema);\n  var altSchemas = schema.oneOf || schema.anyOf;\n\n  if (Array.isArray(schema[\"enum\"])) {\n    return true;\n  } else if (Array.isArray(altSchemas)) {\n    return altSchemas.every(function (altSchemas) {\n      return isConstant(altSchemas);\n    });\n  }\n\n  return false;\n}\nfunction isMultiSelect(schema, rootSchema) {\n  if (rootSchema === void 0) {\n    rootSchema = {};\n  }\n\n  if (!schema.uniqueItems || !schema.items) {\n    return false;\n  }\n\n  return isSelect(schema.items, rootSchema);\n}\nfunction isFilesArray(schema, uiSchema, rootSchema) {\n  if (rootSchema === void 0) {\n    rootSchema = {};\n  }\n\n  if (uiSchema[\"ui:widget\"] === \"files\") {\n    return true;\n  } else if (schema.items) {\n    var itemsSchema = retrieveSchema(schema.items, rootSchema);\n    return itemsSchema.type === \"string\" && itemsSchema.format === \"data-url\";\n  }\n\n  return false;\n}\nfunction isFixedItems(schema) {\n  return Array.isArray(schema.items) && schema.items.length > 0 && schema.items.every(function (item) {\n    return isObject(item);\n  });\n}\nfunction isCustomWidget(uiSchema) {\n  return (// TODO: Remove the `&& uiSchema[\"ui:widget\"] !== \"hidden\"` once we support hidden widgets for arrays.\n    // https://react-jsonschema-form.readthedocs.io/en/latest/usage/widgets/#hidden-widgets\n    \"widget\" in getUiOptions(uiSchema) && getUiOptions(uiSchema)[\"widget\"] !== \"hidden\"\n  );\n}\nfunction allowAdditionalItems(schema) {\n  if (schema.additionalItems === true) {\n    console.warn(\"additionalItems=true is currently not supported\");\n  }\n\n  return isObject(schema.additionalItems);\n}\nfunction optionsList(schema) {\n  if (schema[\"enum\"]) {\n    return schema[\"enum\"].map(function (value, i) {\n      var label = schema.enumNames && schema.enumNames[i] || String(value);\n      return {\n        label: label,\n        value: value\n      };\n    });\n  } else {\n    var altSchemas = schema.oneOf || schema.anyOf;\n    return altSchemas.map(function (schema) {\n      var value = toConstant(schema);\n      var label = schema.title || String(value);\n      return {\n        schema: schema,\n        label: label,\n        value: value\n      };\n    });\n  }\n}\nfunction findSchemaDefinition($ref, rootSchema) {\n  if (rootSchema === void 0) {\n    rootSchema = {};\n  }\n\n  var origRef = $ref;\n\n  if ($ref.startsWith(\"#\")) {\n    // Decode URI fragment representation.\n    $ref = decodeURIComponent($ref.substring(1));\n  } else {\n    throw new Error(\"Could not find a definition for \" + origRef + \".\");\n  }\n\n  var current = jsonpointer.get(rootSchema, $ref);\n\n  if (current === undefined) {\n    throw new Error(\"Could not find a definition for \" + origRef + \".\");\n  }\n\n  if (current.hasOwnProperty(\"$ref\")) {\n    return findSchemaDefinition(current.$ref, rootSchema);\n  }\n\n  return current;\n} // In the case where we have to implicitly create a schema, it is useful to know what type to use\n//  based on the data we are defining\n\nvar guessType = function guessType(value) {\n  if (Array.isArray(value)) {\n    return \"array\";\n  } else if (typeof value === \"string\") {\n    return \"string\";\n  } else if (value == null) {\n    return \"null\";\n  } else if (typeof value === \"boolean\") {\n    return \"boolean\";\n  } else if (!isNaN(value)) {\n    return \"number\";\n  } else if (typeof value === \"object\") {\n    return \"object\";\n  } // Default to string if we can't figure it out\n\n\n  return \"string\";\n}; // This function will create new \"properties\" items for each key in our formData\n\nfunction stubExistingAdditionalProperties(schema, rootSchema, formData) {\n  if (rootSchema === void 0) {\n    rootSchema = {};\n  }\n\n  if (formData === void 0) {\n    formData = {};\n  }\n\n  // Clone the schema so we don't ruin the consumer's original\n  schema = _extends({}, schema, {\n    properties: _extends({}, schema.properties)\n  }); // make sure formData is an object\n\n  formData = isObject(formData) ? formData : {};\n  Object.keys(formData).forEach(function (key) {\n    if (schema.properties.hasOwnProperty(key)) {\n      // No need to stub, our schema already has the property\n      return;\n    }\n\n    var additionalProperties;\n\n    if (schema.additionalProperties.hasOwnProperty(\"$ref\")) {\n      additionalProperties = retrieveSchema({\n        $ref: schema.additionalProperties[\"$ref\"]\n      }, rootSchema, formData);\n    } else if (schema.additionalProperties.hasOwnProperty(\"type\")) {\n      additionalProperties = _extends({}, schema.additionalProperties);\n    } else {\n      additionalProperties = {\n        type: guessType(formData[key])\n      };\n    } // The type of our new key should match the additionalProperties value;\n\n\n    schema.properties[key] = additionalProperties; // Set our additional property flag so we know it was dynamically added\n\n    schema.properties[key][ADDITIONAL_PROPERTY_FLAG] = true;\n  });\n  return schema;\n}\n/**\n * Resolves a conditional block (if/else/then) by removing the condition and merging the appropriate conditional branch with the rest of the schema\n */\n\nvar resolveCondition = function resolveCondition(schema, rootSchema, formData) {\n  var expression = schema[\"if\"],\n      then = schema.then,\n      otherwise = schema[\"else\"],\n      resolvedSchemaLessConditional = _objectWithoutPropertiesLoose(schema, [\"if\", \"then\", \"else\"]);\n\n  var conditionalSchema = isValid(expression, formData, rootSchema) ? then : otherwise;\n\n  if (conditionalSchema) {\n    return retrieveSchema(mergeSchemas(resolvedSchemaLessConditional, retrieveSchema(conditionalSchema, rootSchema, formData)), rootSchema, formData);\n  } else {\n    return retrieveSchema(resolvedSchemaLessConditional, rootSchema, formData);\n  }\n};\n/**\n * Resolves references and dependencies within a schema and its 'allOf' children.\n *\n * Called internally by retrieveSchema.\n */\n\n\nfunction resolveSchema(schema, rootSchema, formData) {\n  if (rootSchema === void 0) {\n    rootSchema = {};\n  }\n\n  if (formData === void 0) {\n    formData = {};\n  }\n\n  if (schema.hasOwnProperty(\"$ref\")) {\n    return resolveReference(schema, rootSchema, formData);\n  } else if (schema.hasOwnProperty(\"dependencies\")) {\n    var resolvedSchema = resolveDependencies(schema, rootSchema, formData);\n    return retrieveSchema(resolvedSchema, rootSchema, formData);\n  } else if (schema.hasOwnProperty(\"allOf\")) {\n    return _extends({}, schema, {\n      allOf: schema.allOf.map(function (allOfSubschema) {\n        return retrieveSchema(allOfSubschema, rootSchema, formData);\n      })\n    });\n  } else {\n    // No $ref or dependencies attribute found, returning the original schema.\n    return schema;\n  }\n}\n\nfunction resolveReference(schema, rootSchema, formData) {\n  // Retrieve the referenced schema definition.\n  var $refSchema = findSchemaDefinition(schema.$ref, rootSchema); // Drop the $ref property of the source schema.\n\n  var localSchema = _objectWithoutPropertiesLoose(schema, [\"$ref\"]); // Update referenced schema definition with local schema properties.\n\n\n  return retrieveSchema(_extends({}, $refSchema, localSchema), rootSchema, formData);\n}\n\nfunction retrieveSchema(schema, rootSchema, formData) {\n  if (rootSchema === void 0) {\n    rootSchema = {};\n  }\n\n  if (formData === void 0) {\n    formData = {};\n  }\n\n  if (!isObject(schema)) {\n    return {};\n  }\n\n  var resolvedSchema = resolveSchema(schema, rootSchema, formData);\n\n  if (schema.hasOwnProperty(\"if\")) {\n    return resolveCondition(schema, rootSchema, formData);\n  } // For each level of the dependency, we need to recursively determine the appropriate resolved schema given the current state of formData.\n  // Otherwise, nested allOf subschemas will not be correctly displayed.\n\n\n  if (resolvedSchema.properties) {\n    var properties = {};\n    Object.entries(resolvedSchema.properties).forEach(function (entries) {\n      var propName = entries[0];\n      var propSchema = entries[1];\n      var rawPropData = formData && formData[propName];\n      var propData = isObject(rawPropData) ? rawPropData : {};\n      var resolvedPropSchema = retrieveSchema(propSchema, rootSchema, propData);\n      properties[propName] = resolvedPropSchema;\n\n      if (propSchema !== resolvedPropSchema && resolvedSchema.properties !== properties) {\n        resolvedSchema = _extends({}, resolvedSchema, {\n          properties: properties\n        });\n      }\n    });\n  }\n\n  if (\"allOf\" in schema) {\n    try {\n      resolvedSchema = mergeAllOf(_extends({}, resolvedSchema, {\n        allOf: resolvedSchema.allOf\n      }));\n    } catch (e) {\n      console.warn(\"could not merge subschemas in allOf:\\n\" + e);\n\n      var _resolvedSchema = resolvedSchema,\n          resolvedSchemaWithoutAllOf = _objectWithoutPropertiesLoose(_resolvedSchema, [\"allOf\"]);\n\n      return resolvedSchemaWithoutAllOf;\n    }\n  }\n\n  var hasAdditionalProperties = resolvedSchema.hasOwnProperty(\"additionalProperties\") && resolvedSchema.additionalProperties !== false;\n\n  if (hasAdditionalProperties) {\n    return stubExistingAdditionalProperties(resolvedSchema, rootSchema, formData);\n  }\n\n  return resolvedSchema;\n}\n\nfunction resolveDependencies(schema, rootSchema, formData) {\n  // Drop the dependencies from the source schema.\n  var _schema$dependencies = schema.dependencies,\n      dependencies = _schema$dependencies === void 0 ? {} : _schema$dependencies,\n      resolvedSchema = _objectWithoutPropertiesLoose(schema, [\"dependencies\"]);\n\n  if (\"oneOf\" in resolvedSchema) {\n    resolvedSchema = resolvedSchema.oneOf[getMatchingOption(formData, resolvedSchema.oneOf, rootSchema)];\n  } else if (\"anyOf\" in resolvedSchema) {\n    resolvedSchema = resolvedSchema.anyOf[getMatchingOption(formData, resolvedSchema.anyOf, rootSchema)];\n  }\n\n  return processDependencies(dependencies, resolvedSchema, rootSchema, formData);\n}\n\nfunction processDependencies(dependencies, resolvedSchema, rootSchema, formData) {\n  // Process dependencies updating the local schema properties as appropriate.\n  for (var dependencyKey in dependencies) {\n    // Skip this dependency if its trigger property is not present.\n    if (formData[dependencyKey] === undefined) {\n      continue;\n    } // Skip this dependency if it is not included in the schema (such as when dependencyKey is itself a hidden dependency.)\n\n\n    if (resolvedSchema.properties && !(dependencyKey in resolvedSchema.properties)) {\n      continue;\n    }\n\n    var dependencyValue = dependencies[dependencyKey],\n        remainingDependencies = _objectWithoutPropertiesLoose(dependencies, [dependencyKey].map(_toPropertyKey));\n\n    if (Array.isArray(dependencyValue)) {\n      resolvedSchema = withDependentProperties(resolvedSchema, dependencyValue);\n    } else if (isObject(dependencyValue)) {\n      resolvedSchema = withDependentSchema(resolvedSchema, rootSchema, formData, dependencyKey, dependencyValue);\n    }\n\n    return processDependencies(remainingDependencies, resolvedSchema, rootSchema, formData);\n  }\n\n  return resolvedSchema;\n}\n\nfunction withDependentProperties(schema, additionallyRequired) {\n  if (!additionallyRequired) {\n    return schema;\n  }\n\n  var required = Array.isArray(schema.required) ? Array.from(new Set([].concat(schema.required, additionallyRequired))) : additionallyRequired;\n  return _extends({}, schema, {\n    required: required\n  });\n}\n\nfunction withDependentSchema(schema, rootSchema, formData, dependencyKey, dependencyValue) {\n  var _retrieveSchema = retrieveSchema(dependencyValue, rootSchema, formData),\n      oneOf = _retrieveSchema.oneOf,\n      dependentSchema = _objectWithoutPropertiesLoose(_retrieveSchema, [\"oneOf\"]);\n\n  schema = mergeSchemas(schema, dependentSchema); // Since it does not contain oneOf, we return the original schema.\n\n  if (oneOf === undefined) {\n    return schema;\n  } else if (!Array.isArray(oneOf)) {\n    throw new Error(\"invalid: it is some \" + typeof oneOf + \" instead of an array\");\n  } // Resolve $refs inside oneOf.\n\n\n  var resolvedOneOf = oneOf.map(function (subschema) {\n    return subschema.hasOwnProperty(\"$ref\") ? resolveReference(subschema, rootSchema, formData) : subschema;\n  });\n  return withExactlyOneSubschema(schema, rootSchema, formData, dependencyKey, resolvedOneOf);\n}\n\nfunction withExactlyOneSubschema(schema, rootSchema, formData, dependencyKey, oneOf) {\n  var validSubschemas = oneOf.filter(function (subschema) {\n    if (!subschema.properties) {\n      return false;\n    }\n\n    var conditionPropertySchema = subschema.properties[dependencyKey];\n\n    if (conditionPropertySchema) {\n      var _properties;\n\n      var conditionSchema = {\n        type: \"object\",\n        properties: (_properties = {}, _properties[dependencyKey] = conditionPropertySchema, _properties)\n      };\n\n      var _validateFormData = validateFormData(formData, conditionSchema),\n          errors = _validateFormData.errors;\n\n      return errors.length === 0;\n    }\n  });\n\n  if (validSubschemas.length !== 1) {\n    console.warn(\"ignoring oneOf in dependencies because there isn't exactly one subschema that is valid\");\n    return schema;\n  }\n\n  var subschema = validSubschemas[0];\n\n  var _subschema$properties = subschema.properties,\n      dependentSubschema = _objectWithoutPropertiesLoose(_subschema$properties, [dependencyKey].map(_toPropertyKey));\n\n  var dependentSchema = _extends({}, subschema, {\n    properties: dependentSubschema\n  });\n\n  return mergeSchemas(schema, retrieveSchema(dependentSchema, rootSchema, formData));\n} // Recursively merge deeply nested schemas.\n// The difference between mergeSchemas and mergeObjects\n// is that mergeSchemas only concats arrays for\n// values under the \"required\" keyword, and when it does,\n// it doesn't include duplicate values.\n\n\nfunction mergeSchemas(obj1, obj2) {\n  var acc = Object.assign({}, obj1); // Prevent mutation of source object.\n\n  return Object.keys(obj2).reduce(function (acc, key) {\n    var left = obj1 ? obj1[key] : {},\n        right = obj2[key];\n\n    if (obj1 && obj1.hasOwnProperty(key) && isObject(right)) {\n      acc[key] = mergeSchemas(left, right);\n    } else if (obj1 && obj2 && (getSchemaType(obj1) === \"object\" || getSchemaType(obj2) === \"object\") && key === \"required\" && Array.isArray(left) && Array.isArray(right)) {\n      // Don't include duplicate values when merging\n      // \"required\" fields.\n      acc[key] = union(left, right);\n    } else {\n      acc[key] = right;\n    }\n\n    return acc;\n  }, acc);\n}\n\nfunction isArguments(object) {\n  return Object.prototype.toString.call(object) === \"[object Arguments]\";\n}\n\nfunction deepEquals(a, b, ca, cb) {\n  if (ca === void 0) {\n    ca = [];\n  }\n\n  if (cb === void 0) {\n    cb = [];\n  }\n\n  // Partially extracted from node-deeper and adapted to exclude comparison\n  // checks for functions.\n  // https://github.com/othiym23/node-deeper\n  if (a === b) {\n    return true;\n  } else if (typeof a === \"function\" || typeof b === \"function\") {\n    // Assume all functions are equivalent\n    // see https://github.com/rjsf-team/react-jsonschema-form/issues/255\n    return true;\n  } else if (typeof a !== \"object\" || typeof b !== \"object\") {\n    return false;\n  } else if (a === null || b === null) {\n    return false;\n  } else if (a instanceof Date && b instanceof Date) {\n    return a.getTime() === b.getTime();\n  } else if (a instanceof RegExp && b instanceof RegExp) {\n    return a.source === b.source && a.global === b.global && a.multiline === b.multiline && a.lastIndex === b.lastIndex && a.ignoreCase === b.ignoreCase;\n  } else if (isArguments(a) || isArguments(b)) {\n    if (!(isArguments(a) && isArguments(b))) {\n      return false;\n    }\n\n    var slice = Array.prototype.slice;\n    return deepEquals(slice.call(a), slice.call(b), ca, cb);\n  } else {\n    if (a.constructor !== b.constructor) {\n      return false;\n    }\n\n    var ka = Object.keys(a);\n    var kb = Object.keys(b); // don't bother with stack acrobatics if there's nothing there\n\n    if (ka.length === 0 && kb.length === 0) {\n      return true;\n    }\n\n    if (ka.length !== kb.length) {\n      return false;\n    }\n\n    var cal = ca.length;\n\n    while (cal--) {\n      if (ca[cal] === a) {\n        return cb[cal] === b;\n      }\n    }\n\n    ca.push(a);\n    cb.push(b);\n    ka.sort();\n    kb.sort();\n\n    for (var j = ka.length - 1; j >= 0; j--) {\n      if (ka[j] !== kb[j]) {\n        return false;\n      }\n    }\n\n    var key;\n\n    for (var k = ka.length - 1; k >= 0; k--) {\n      key = ka[k];\n\n      if (!deepEquals(a[key], b[key], ca, cb)) {\n        return false;\n      }\n    }\n\n    ca.pop();\n    cb.pop();\n    return true;\n  }\n}\nfunction shouldRender(comp, nextProps, nextState) {\n  var props = comp.props,\n      state = comp.state;\n  return !deepEquals(props, nextProps) || !deepEquals(state, nextState);\n}\nfunction toIdSchema(schema, id, rootSchema, formData, idPrefix, idSeparator) {\n  if (formData === void 0) {\n    formData = {};\n  }\n\n  if (idPrefix === void 0) {\n    idPrefix = \"root\";\n  }\n\n  if (idSeparator === void 0) {\n    idSeparator = \"_\";\n  }\n\n  var idSchema = {\n    $id: id || idPrefix\n  };\n\n  if (\"$ref\" in schema || \"dependencies\" in schema || \"allOf\" in schema) {\n    var _schema = retrieveSchema(schema, rootSchema, formData);\n\n    return toIdSchema(_schema, id, rootSchema, formData, idPrefix, idSeparator);\n  }\n\n  if (\"items\" in schema && !schema.items.$ref) {\n    return toIdSchema(schema.items, id, rootSchema, formData, idPrefix, idSeparator);\n  }\n\n  if (schema.type !== \"object\") {\n    return idSchema;\n  }\n\n  for (var name in schema.properties || {}) {\n    var field = schema.properties[name];\n    var fieldId = idSchema.$id + idSeparator + name;\n    idSchema[name] = toIdSchema(isObject(field) ? field : {}, fieldId, rootSchema, // It's possible that formData is not an object -- this can happen if an\n    // array item has just been added, but not populated with data yet\n    (formData || {})[name], idPrefix, idSeparator);\n  }\n\n  return idSchema;\n}\nfunction toPathSchema(schema, name, rootSchema, formData) {\n  if (name === void 0) {\n    name = \"\";\n  }\n\n  if (formData === void 0) {\n    formData = {};\n  }\n\n  var pathSchema = {\n    $name: name.replace(/^\\./, \"\")\n  };\n\n  if (\"$ref\" in schema || \"dependencies\" in schema || \"allOf\" in schema) {\n    var _schema = retrieveSchema(schema, rootSchema, formData);\n\n    return toPathSchema(_schema, name, rootSchema, formData);\n  }\n\n  if (schema.hasOwnProperty(\"additionalProperties\")) {\n    pathSchema.__rjsf_additionalProperties = true;\n  }\n\n  if (schema.hasOwnProperty(\"items\") && Array.isArray(formData)) {\n    formData.forEach(function (element, i) {\n      pathSchema[i] = toPathSchema(schema.items, name + \".\" + i, rootSchema, element);\n    });\n  } else if (schema.hasOwnProperty(\"properties\")) {\n    for (var property in schema.properties) {\n      pathSchema[property] = toPathSchema(schema.properties[property], name + \".\" + property, rootSchema, // It's possible that formData is not an object -- this can happen if an\n      // array item has just been added, but not populated with data yet\n      (formData || {})[property]);\n    }\n  }\n\n  return pathSchema;\n}\nfunction parseDateString(dateString, includeTime) {\n  if (includeTime === void 0) {\n    includeTime = true;\n  }\n\n  if (!dateString) {\n    return {\n      year: -1,\n      month: -1,\n      day: -1,\n      hour: includeTime ? -1 : 0,\n      minute: includeTime ? -1 : 0,\n      second: includeTime ? -1 : 0\n    };\n  }\n\n  var date = new Date(dateString);\n\n  if (Number.isNaN(date.getTime())) {\n    throw new Error(\"Unable to parse date \" + dateString);\n  }\n\n  return {\n    year: date.getUTCFullYear(),\n    month: date.getUTCMonth() + 1,\n    // oh you, javascript.\n    day: date.getUTCDate(),\n    hour: includeTime ? date.getUTCHours() : 0,\n    minute: includeTime ? date.getUTCMinutes() : 0,\n    second: includeTime ? date.getUTCSeconds() : 0\n  };\n}\nfunction toDateString(_ref2, time) {\n  var year = _ref2.year,\n      month = _ref2.month,\n      day = _ref2.day,\n      _ref2$hour = _ref2.hour,\n      hour = _ref2$hour === void 0 ? 0 : _ref2$hour,\n      _ref2$minute = _ref2.minute,\n      minute = _ref2$minute === void 0 ? 0 : _ref2$minute,\n      _ref2$second = _ref2.second,\n      second = _ref2$second === void 0 ? 0 : _ref2$second;\n\n  if (time === void 0) {\n    time = true;\n  }\n\n  var utcTime = Date.UTC(year, month - 1, day, hour, minute, second);\n  var datetime = new Date(utcTime).toJSON();\n  return time ? datetime : datetime.slice(0, 10);\n}\nfunction utcToLocal(jsonDate) {\n  if (!jsonDate) {\n    return \"\";\n  } // required format of `\"yyyy-MM-ddThh:mm\" followed by optional \":ss\" or \":ss.SSS\"\n  // https://html.spec.whatwg.org/multipage/input.html#local-date-and-time-state-(type%3Ddatetime-local)\n  // > should be a _valid local date and time string_ (not GMT)\n  // Note - date constructor passed local ISO-8601 does not correctly\n  // change time to UTC in node pre-8\n\n\n  var date = new Date(jsonDate);\n  var yyyy = pad(date.getFullYear(), 4);\n  var MM = pad(date.getMonth() + 1, 2);\n  var dd = pad(date.getDate(), 2);\n  var hh = pad(date.getHours(), 2);\n  var mm = pad(date.getMinutes(), 2);\n  var ss = pad(date.getSeconds(), 2);\n  var SSS = pad(date.getMilliseconds(), 3);\n  return yyyy + \"-\" + MM + \"-\" + dd + \"T\" + hh + \":\" + mm + \":\" + ss + \".\" + SSS;\n}\nfunction localToUTC(dateString) {\n  if (dateString) {\n    return new Date(dateString).toJSON();\n  }\n}\nfunction pad(num, size) {\n  var s = String(num);\n\n  while (s.length < size) {\n    s = \"0\" + s;\n  }\n\n  return s;\n}\nfunction dataURItoBlob(dataURI) {\n  // Split metadata from data\n  var splitted = dataURI.split(\",\"); // Split params\n\n  var params = splitted[0].split(\";\"); // Get mime-type from params\n\n  var type = params[0].replace(\"data:\", \"\"); // Filter the name property from params\n\n  var properties = params.filter(function (param) {\n    return param.split(\"=\")[0] === \"name\";\n  }); // Look for the name and use unknown if no name property.\n\n  var name;\n\n  if (properties.length !== 1) {\n    name = \"unknown\";\n  } else {\n    // Because we filtered out the other property,\n    // we only have the name case here.\n    name = properties[0].split(\"=\")[1];\n  } // Built the Uint8Array Blob parameter from the base64 string.\n\n\n  var binary = atob(splitted[1]);\n  var array = [];\n\n  for (var i = 0; i < binary.length; i++) {\n    array.push(binary.charCodeAt(i));\n  } // Create the blob object\n\n\n  var blob = new window.Blob([new Uint8Array(array)], {\n    type: type\n  });\n  return {\n    blob: blob,\n    name: name\n  };\n}\nfunction rangeSpec(schema) {\n  var spec = {};\n\n  if (schema.multipleOf) {\n    spec.step = schema.multipleOf;\n  }\n\n  if (schema.minimum || schema.minimum === 0) {\n    spec.min = schema.minimum;\n  }\n\n  if (schema.maximum || schema.maximum === 0) {\n    spec.max = schema.maximum;\n  }\n\n  return spec;\n}\nfunction getMatchingOption(formData, options, rootSchema) {\n  // For performance, skip validating subschemas if formData is undefined. We just\n  // want to get the first option in that case.\n  if (formData === undefined) {\n    return 0;\n  }\n\n  for (var i = 0; i < options.length; i++) {\n    var option = options[i]; // If the schema describes an object then we need to add slightly more\n    // strict matching to the schema, because unless the schema uses the\n    // \"requires\" keyword, an object will match the schema as long as it\n    // doesn't have matching keys with a conflicting type. To do this we use an\n    // \"anyOf\" with an array of requires. This augmentation expresses that the\n    // schema should match if any of the keys in the schema are present on the\n    // object and pass validation.\n\n    if (option.properties) {\n      // Create an \"anyOf\" schema that requires at least one of the keys in the\n      // \"properties\" object\n      var requiresAnyOf = {\n        anyOf: Object.keys(option.properties).map(function (key) {\n          return {\n            required: [key]\n          };\n        })\n      };\n      var augmentedSchema = void 0; // If the \"anyOf\" keyword already exists, wrap the augmentation in an \"allOf\"\n\n      if (option.anyOf) {\n        // Create a shallow clone of the option\n        var shallowClone = _extends({}, option);\n\n        if (!shallowClone.allOf) {\n          shallowClone.allOf = [];\n        } else {\n          // If \"allOf\" already exists, shallow clone the array\n          shallowClone.allOf = shallowClone.allOf.slice();\n        }\n\n        shallowClone.allOf.push(requiresAnyOf);\n        augmentedSchema = shallowClone;\n      } else {\n        augmentedSchema = Object.assign({}, option, requiresAnyOf);\n      } // Remove the \"required\" field as it's likely that not all fields have\n      // been filled in yet, which will mean that the schema is not valid\n\n\n      delete augmentedSchema.required;\n\n      if (isValid(augmentedSchema, formData, rootSchema)) {\n        return i;\n      }\n    } else if (isValid(option, formData, rootSchema)) {\n      return i;\n    }\n  }\n\n  return 0;\n} // Check to see if a schema specifies that a value must be true\n\nfunction schemaRequiresTrueValue(schema) {\n  // Check if const is a truthy value\n  if (schema[\"const\"]) {\n    return true;\n  } // Check if an enum has a single value of true\n\n\n  if (schema[\"enum\"] && schema[\"enum\"].length === 1 && schema[\"enum\"][0] === true) {\n    return true;\n  } // If anyOf has a single value, evaluate the subschema\n\n\n  if (schema.anyOf && schema.anyOf.length === 1) {\n    return schemaRequiresTrueValue(schema.anyOf[0]);\n  } // If oneOf has a single value, evaluate the subschema\n\n\n  if (schema.oneOf && schema.oneOf.length === 1) {\n    return schemaRequiresTrueValue(schema.oneOf[0]);\n  } // Evaluate each subschema in allOf, to see if one of them requires a true\n  // value\n\n\n  if (schema.allOf) {\n    return schema.allOf.some(schemaRequiresTrueValue);\n  }\n\n  return false;\n}\n\nvar _utils = {\n  __proto__: null,\n  ADDITIONAL_PROPERTY_FLAG: ADDITIONAL_PROPERTY_FLAG,\n  canExpand: canExpand,\n  getSchemaType: getSchemaType,\n  getWidget: getWidget,\n  hasWidget: hasWidget,\n  getDefaultFormState: getDefaultFormState,\n  mergeDefaultsWithFormData: mergeDefaultsWithFormData,\n  getUiOptions: getUiOptions,\n  getSubmitButtonOptions: getSubmitButtonOptions,\n  getDisplayLabel: getDisplayLabel,\n  isObject: isObject,\n  mergeObjects: mergeObjects,\n  asNumber: asNumber,\n  orderProperties: orderProperties,\n  isConstant: isConstant,\n  toConstant: toConstant,\n  isSelect: isSelect,\n  isMultiSelect: isMultiSelect,\n  isFilesArray: isFilesArray,\n  isFixedItems: isFixedItems,\n  isCustomWidget: isCustomWidget,\n  allowAdditionalItems: allowAdditionalItems,\n  optionsList: optionsList,\n  findSchemaDefinition: findSchemaDefinition,\n  guessType: guessType,\n  stubExistingAdditionalProperties: stubExistingAdditionalProperties,\n  resolveSchema: resolveSchema,\n  retrieveSchema: retrieveSchema,\n  mergeSchemas: mergeSchemas,\n  deepEquals: deepEquals,\n  shouldRender: shouldRender,\n  toIdSchema: toIdSchema,\n  toPathSchema: toPathSchema,\n  parseDateString: parseDateString,\n  toDateString: toDateString,\n  utcToLocal: utcToLocal,\n  localToUTC: localToUTC,\n  pad: pad,\n  dataURItoBlob: dataURItoBlob,\n  rangeSpec: rangeSpec,\n  getMatchingOption: getMatchingOption,\n  schemaRequiresTrueValue: schemaRequiresTrueValue\n};\n\nfunction ArrayFieldTitle(_ref) {\n  var TitleField = _ref.TitleField,\n      idSchema = _ref.idSchema,\n      title = _ref.title,\n      required = _ref.required;\n\n  if (!title) {\n    return null;\n  }\n\n  var id = idSchema.$id + \"__title\";\n  return /*#__PURE__*/React.createElement(TitleField, {\n    id: id,\n    title: title,\n    required: required\n  });\n}\n\nfunction ArrayFieldDescription(_ref2) {\n  var DescriptionField = _ref2.DescriptionField,\n      idSchema = _ref2.idSchema,\n      description = _ref2.description;\n\n  if (!description) {\n    return null;\n  }\n\n  var id = idSchema.$id + \"__description\";\n  return /*#__PURE__*/React.createElement(DescriptionField, {\n    id: id,\n    description: description\n  });\n} // Used in the two templates\n\n\nfunction DefaultArrayItem(props) {\n  var btnStyle = {\n    flex: 1,\n    paddingLeft: 6,\n    paddingRight: 6,\n    fontWeight: \"bold\"\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    key: props.key,\n    className: props.className\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: props.hasToolbar ? \"col-xs-9\" : \"col-xs-12\"\n  }, props.children), props.hasToolbar && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xs-3 array-item-toolbox\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-group\",\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-around\"\n    }\n  }, (props.hasMoveUp || props.hasMoveDown) && /*#__PURE__*/React.createElement(IconButton, {\n    icon: \"arrow-up\",\n    \"aria-label\": \"Move up\",\n    className: \"array-item-move-up\",\n    tabIndex: \"-1\",\n    style: btnStyle,\n    disabled: props.disabled || props.readonly || !props.hasMoveUp,\n    onClick: props.onReorderClick(props.index, props.index - 1)\n  }), (props.hasMoveUp || props.hasMoveDown) && /*#__PURE__*/React.createElement(IconButton, {\n    icon: \"arrow-down\",\n    className: \"array-item-move-down\",\n    \"aria-label\": \"Move down\",\n    tabIndex: \"-1\",\n    style: btnStyle,\n    disabled: props.disabled || props.readonly || !props.hasMoveDown,\n    onClick: props.onReorderClick(props.index, props.index + 1)\n  }), props.hasRemove && /*#__PURE__*/React.createElement(IconButton, {\n    type: \"danger\",\n    icon: \"remove\",\n    \"aria-label\": \"Remove\",\n    className: \"array-item-remove\",\n    tabIndex: \"-1\",\n    style: btnStyle,\n    disabled: props.disabled || props.readonly,\n    onClick: props.onDropIndexClick(props.index)\n  }))));\n}\n\nfunction DefaultFixedArrayFieldTemplate(props) {\n  return /*#__PURE__*/React.createElement(\"fieldset\", {\n    className: props.className,\n    id: props.idSchema.$id\n  }, /*#__PURE__*/React.createElement(ArrayFieldTitle, {\n    key: \"array-field-title-\" + props.idSchema.$id,\n    TitleField: props.TitleField,\n    idSchema: props.idSchema,\n    title: props.uiSchema[\"ui:title\"] || props.title,\n    required: props.required\n  }), (props.uiSchema[\"ui:description\"] || props.schema.description) && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field-description\",\n    key: \"field-description-\" + props.idSchema.$id\n  }, props.uiSchema[\"ui:description\"] || props.schema.description), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row array-item-list\",\n    key: \"array-item-list-\" + props.idSchema.$id\n  }, props.items && props.items.map(DefaultArrayItem)), props.canAdd && /*#__PURE__*/React.createElement(AddButton, {\n    className: \"array-item-add\",\n    onClick: props.onAddClick,\n    disabled: props.disabled || props.readonly\n  }));\n}\n\nfunction DefaultNormalArrayFieldTemplate(props) {\n  return /*#__PURE__*/React.createElement(\"fieldset\", {\n    className: props.className,\n    id: props.idSchema.$id\n  }, /*#__PURE__*/React.createElement(ArrayFieldTitle, {\n    key: \"array-field-title-\" + props.idSchema.$id,\n    TitleField: props.TitleField,\n    idSchema: props.idSchema,\n    title: props.uiSchema[\"ui:title\"] || props.title,\n    required: props.required\n  }), (props.uiSchema[\"ui:description\"] || props.schema.description) && /*#__PURE__*/React.createElement(ArrayFieldDescription, {\n    key: \"array-field-description-\" + props.idSchema.$id,\n    DescriptionField: props.DescriptionField,\n    idSchema: props.idSchema,\n    description: props.uiSchema[\"ui:description\"] || props.schema.description\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row array-item-list\",\n    key: \"array-item-list-\" + props.idSchema.$id\n  }, props.items && props.items.map(function (p) {\n    return DefaultArrayItem(p);\n  })), props.canAdd && /*#__PURE__*/React.createElement(AddButton, {\n    className: \"array-item-add\",\n    onClick: props.onAddClick,\n    disabled: props.disabled || props.readonly\n  }));\n}\n\nfunction generateRowId() {\n  return nanoid();\n}\n\nfunction generateKeyedFormData(formData) {\n  return !Array.isArray(formData) ? [] : formData.map(function (item) {\n    return {\n      key: generateRowId(),\n      item: item\n    };\n  });\n}\n\nfunction keyedToPlainFormData(keyedFormData) {\n  return keyedFormData.map(function (keyedItem) {\n    return keyedItem.item;\n  });\n}\n\nvar ArrayField = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(ArrayField, _Component);\n\n  function ArrayField(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    _this._getNewFormDataRow = function () {\n      var _this$props = _this.props,\n          schema = _this$props.schema,\n          registry = _this$props.registry;\n      var rootSchema = registry.rootSchema;\n      var itemSchema = schema.items;\n\n      if (isFixedItems(schema) && allowAdditionalItems(schema)) {\n        itemSchema = schema.additionalItems;\n      }\n\n      return getDefaultFormState(itemSchema, undefined, rootSchema);\n    };\n\n    _this.onAddClick = function (event) {\n      if (event) {\n        event.preventDefault();\n      }\n\n      var onChange = _this.props.onChange;\n      var newKeyedFormDataRow = {\n        key: generateRowId(),\n        item: _this._getNewFormDataRow()\n      };\n      var newKeyedFormData = [].concat(_this.state.keyedFormData, [newKeyedFormDataRow]);\n\n      _this.setState({\n        keyedFormData: newKeyedFormData,\n        updatedKeyedFormData: true\n      }, function () {\n        return onChange(keyedToPlainFormData(newKeyedFormData));\n      });\n    };\n\n    _this.onAddIndexClick = function (index) {\n      return function (event) {\n        if (event) {\n          event.preventDefault();\n        }\n\n        var onChange = _this.props.onChange;\n        var newKeyedFormDataRow = {\n          key: generateRowId(),\n          item: _this._getNewFormDataRow()\n        };\n        var newKeyedFormData = [].concat(_this.state.keyedFormData);\n        newKeyedFormData.splice(index, 0, newKeyedFormDataRow);\n\n        _this.setState({\n          keyedFormData: newKeyedFormData,\n          updatedKeyedFormData: true\n        }, function () {\n          return onChange(keyedToPlainFormData(newKeyedFormData));\n        });\n      };\n    };\n\n    _this.onDropIndexClick = function (index) {\n      return function (event) {\n        if (event) {\n          event.preventDefault();\n        }\n\n        var onChange = _this.props.onChange;\n        var keyedFormData = _this.state.keyedFormData; // refs #195: revalidate to ensure properly reindexing errors\n\n        var newErrorSchema;\n\n        if (_this.props.errorSchema) {\n          newErrorSchema = {};\n          var errorSchema = _this.props.errorSchema;\n\n          for (var i in errorSchema) {\n            i = parseInt(i);\n\n            if (i < index) {\n              newErrorSchema[i] = errorSchema[i];\n            } else if (i > index) {\n              newErrorSchema[i - 1] = errorSchema[i];\n            }\n          }\n        }\n\n        var newKeyedFormData = keyedFormData.filter(function (_, i) {\n          return i !== index;\n        });\n\n        _this.setState({\n          keyedFormData: newKeyedFormData,\n          updatedKeyedFormData: true\n        }, function () {\n          return onChange(keyedToPlainFormData(newKeyedFormData), newErrorSchema);\n        });\n      };\n    };\n\n    _this.onReorderClick = function (index, newIndex) {\n      return function (event) {\n        if (event) {\n          event.preventDefault();\n          event.target.blur();\n        }\n\n        var onChange = _this.props.onChange;\n        var newErrorSchema;\n\n        if (_this.props.errorSchema) {\n          newErrorSchema = {};\n          var errorSchema = _this.props.errorSchema;\n\n          for (var i in errorSchema) {\n            if (i == index) {\n              newErrorSchema[newIndex] = errorSchema[index];\n            } else if (i == newIndex) {\n              newErrorSchema[index] = errorSchema[newIndex];\n            } else {\n              newErrorSchema[i] = errorSchema[i];\n            }\n          }\n        }\n\n        var keyedFormData = _this.state.keyedFormData;\n\n        function reOrderArray() {\n          // Copy item\n          var _newKeyedFormData = keyedFormData.slice(); // Moves item from index to newIndex\n\n\n          _newKeyedFormData.splice(index, 1);\n\n          _newKeyedFormData.splice(newIndex, 0, keyedFormData[index]);\n\n          return _newKeyedFormData;\n        }\n\n        var newKeyedFormData = reOrderArray();\n\n        _this.setState({\n          keyedFormData: newKeyedFormData\n        }, function () {\n          return onChange(keyedToPlainFormData(newKeyedFormData), newErrorSchema);\n        });\n      };\n    };\n\n    _this.onChangeForIndex = function (index) {\n      return function (value, errorSchema) {\n        var _extends2;\n\n        var _this$props2 = _this.props,\n            formData = _this$props2.formData,\n            onChange = _this$props2.onChange;\n        var newFormData = formData.map(function (item, i) {\n          // We need to treat undefined items as nulls to have validation.\n          // See https://github.com/tdegrunt/jsonschema/issues/206\n          var jsonValue = typeof value === \"undefined\" ? null : value;\n          return index === i ? jsonValue : item;\n        });\n        onChange(newFormData, errorSchema && _this.props.errorSchema && _extends({}, _this.props.errorSchema, (_extends2 = {}, _extends2[index] = errorSchema, _extends2)));\n      };\n    };\n\n    _this.onSelectChange = function (value) {\n      _this.props.onChange(value);\n    };\n\n    var _formData = props.formData;\n\n    var _keyedFormData = generateKeyedFormData(_formData);\n\n    _this.state = {\n      keyedFormData: _keyedFormData,\n      updatedKeyedFormData: false\n    };\n    return _this;\n  }\n\n  ArrayField.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    // Don't call getDerivedStateFromProps if keyed formdata was just updated.\n    if (prevState.updatedKeyedFormData) {\n      return {\n        updatedKeyedFormData: false\n      };\n    }\n\n    var nextFormData = nextProps.formData || [];\n    var previousKeyedFormData = prevState.keyedFormData || [];\n    var newKeyedFormData = nextFormData.length === previousKeyedFormData.length ? previousKeyedFormData.map(function (previousKeyedFormDatum, index) {\n      return {\n        key: previousKeyedFormDatum.key,\n        item: nextFormData[index]\n      };\n    }) : generateKeyedFormData(nextFormData);\n    return {\n      keyedFormData: newKeyedFormData\n    };\n  };\n\n  var _proto = ArrayField.prototype;\n\n  _proto.isItemRequired = function isItemRequired(itemSchema) {\n    if (Array.isArray(itemSchema.type)) {\n      // While we don't yet support composite/nullable jsonschema types, it's\n      // future-proof to check for requirement against these.\n      return !includes(itemSchema.type, \"null\");\n    } // All non-null array item types are inherently required by design\n\n\n    return itemSchema.type !== \"null\";\n  };\n\n  _proto.canAddItem = function canAddItem(formItems) {\n    var _this$props3 = this.props,\n        schema = _this$props3.schema,\n        uiSchema = _this$props3.uiSchema;\n\n    var _getUiOptions = getUiOptions(uiSchema),\n        addable = _getUiOptions.addable;\n\n    if (addable !== false) {\n      // if ui:options.addable was not explicitly set to false, we can add\n      // another item if we have not exceeded maxItems yet\n      if (schema.maxItems !== undefined) {\n        addable = formItems.length < schema.maxItems;\n      } else {\n        addable = true;\n      }\n    }\n\n    return addable;\n  };\n\n  _proto.render = function render() {\n    var _this$props4 = this.props,\n        schema = _this$props4.schema,\n        uiSchema = _this$props4.uiSchema,\n        idSchema = _this$props4.idSchema,\n        registry = _this$props4.registry;\n    var rootSchema = registry.rootSchema;\n\n    if (!schema.hasOwnProperty(\"items\")) {\n      var fields = registry.fields;\n      var UnsupportedField = fields.UnsupportedField;\n      return /*#__PURE__*/React.createElement(UnsupportedField, {\n        schema: schema,\n        idSchema: idSchema,\n        reason: \"Missing items definition\"\n      });\n    }\n\n    if (isMultiSelect(schema, rootSchema)) {\n      // If array has enum or uniqueItems set to true, call renderMultiSelect() to render the default multiselect widget or a custom widget, if specified.\n      return this.renderMultiSelect();\n    }\n\n    if (isCustomWidget(uiSchema)) {\n      return this.renderCustomWidget();\n    }\n\n    if (isFixedItems(schema)) {\n      return this.renderFixedArray();\n    }\n\n    if (isFilesArray(schema, uiSchema, rootSchema)) {\n      return this.renderFiles();\n    }\n\n    return this.renderNormalArray();\n  };\n\n  _proto.renderNormalArray = function renderNormalArray() {\n    var _this2 = this;\n\n    var _this$props5 = this.props,\n        schema = _this$props5.schema,\n        uiSchema = _this$props5.uiSchema,\n        errorSchema = _this$props5.errorSchema,\n        idSchema = _this$props5.idSchema,\n        name = _this$props5.name,\n        required = _this$props5.required,\n        disabled = _this$props5.disabled,\n        readonly = _this$props5.readonly,\n        hideError = _this$props5.hideError,\n        autofocus = _this$props5.autofocus,\n        registry = _this$props5.registry,\n        onBlur = _this$props5.onBlur,\n        onFocus = _this$props5.onFocus,\n        idPrefix = _this$props5.idPrefix,\n        _this$props5$idSepara = _this$props5.idSeparator,\n        idSeparator = _this$props5$idSepara === void 0 ? \"_\" : _this$props5$idSepara,\n        rawErrors = _this$props5.rawErrors;\n    var title = schema.title === undefined ? name : schema.title;\n    var ArrayFieldTemplate = registry.ArrayFieldTemplate,\n        rootSchema = registry.rootSchema,\n        fields = registry.fields,\n        formContext = registry.formContext;\n    var TitleField = fields.TitleField,\n        DescriptionField = fields.DescriptionField;\n    var itemsSchema = retrieveSchema(schema.items, rootSchema);\n    var formData = keyedToPlainFormData(this.state.keyedFormData);\n    var arrayProps = {\n      canAdd: this.canAddItem(formData),\n      items: this.state.keyedFormData.map(function (keyedItem, index) {\n        var key = keyedItem.key,\n            item = keyedItem.item;\n        var itemSchema = retrieveSchema(schema.items, rootSchema, item);\n        var itemErrorSchema = errorSchema ? errorSchema[index] : undefined;\n        var itemIdPrefix = idSchema.$id + idSeparator + index;\n        var itemIdSchema = toIdSchema(itemSchema, itemIdPrefix, rootSchema, item, idPrefix, idSeparator);\n        return _this2.renderArrayFieldItem({\n          key: key,\n          index: index,\n          canMoveUp: index > 0,\n          canMoveDown: index < formData.length - 1,\n          itemSchema: itemSchema,\n          itemIdSchema: itemIdSchema,\n          itemErrorSchema: itemErrorSchema,\n          itemData: item,\n          itemUiSchema: uiSchema.items,\n          autofocus: autofocus && index === 0,\n          onBlur: onBlur,\n          onFocus: onFocus\n        });\n      }),\n      className: \"field field-array field-array-of-\" + itemsSchema.type,\n      DescriptionField: DescriptionField,\n      disabled: disabled,\n      idSchema: idSchema,\n      uiSchema: uiSchema,\n      onAddClick: this.onAddClick,\n      readonly: readonly,\n      hideError: hideError,\n      required: required,\n      schema: schema,\n      title: title,\n      TitleField: TitleField,\n      formContext: formContext,\n      formData: formData,\n      rawErrors: rawErrors,\n      registry: registry\n    }; // Check if a custom render function was passed in\n\n    var Component = uiSchema[\"ui:ArrayFieldTemplate\"] || ArrayFieldTemplate || DefaultNormalArrayFieldTemplate;\n    return /*#__PURE__*/React.createElement(Component, arrayProps);\n  };\n\n  _proto.renderCustomWidget = function renderCustomWidget() {\n    var _this$props6 = this.props,\n        schema = _this$props6.schema,\n        idSchema = _this$props6.idSchema,\n        uiSchema = _this$props6.uiSchema,\n        disabled = _this$props6.disabled,\n        readonly = _this$props6.readonly,\n        hideError = _this$props6.hideError,\n        required = _this$props6.required,\n        placeholder = _this$props6.placeholder,\n        autofocus = _this$props6.autofocus,\n        onBlur = _this$props6.onBlur,\n        onFocus = _this$props6.onFocus,\n        items = _this$props6.formData,\n        registry = _this$props6.registry,\n        rawErrors = _this$props6.rawErrors,\n        name = _this$props6.name;\n    var widgets = registry.widgets,\n        formContext = registry.formContext;\n    var title = schema.title || name;\n\n    var _getUiOptions2 = _extends({}, getUiOptions(uiSchema)),\n        widget = _getUiOptions2.widget,\n        options = _objectWithoutPropertiesLoose(_getUiOptions2, [\"widget\"]);\n\n    var Widget = getWidget(schema, widget, widgets);\n    return /*#__PURE__*/React.createElement(Widget, {\n      id: idSchema && idSchema.$id,\n      multiple: true,\n      onChange: this.onSelectChange,\n      onBlur: onBlur,\n      onFocus: onFocus,\n      options: options,\n      schema: schema,\n      uiSchema: uiSchema,\n      registry: registry,\n      value: items,\n      disabled: disabled,\n      readonly: readonly,\n      hideError: hideError,\n      required: required,\n      label: title,\n      placeholder: placeholder,\n      formContext: formContext,\n      autofocus: autofocus,\n      rawErrors: rawErrors\n    });\n  };\n\n  _proto.renderMultiSelect = function renderMultiSelect() {\n    var _this$props7 = this.props,\n        schema = _this$props7.schema,\n        idSchema = _this$props7.idSchema,\n        uiSchema = _this$props7.uiSchema,\n        formData = _this$props7.formData,\n        disabled = _this$props7.disabled,\n        readonly = _this$props7.readonly,\n        required = _this$props7.required,\n        placeholder = _this$props7.placeholder,\n        autofocus = _this$props7.autofocus,\n        onBlur = _this$props7.onBlur,\n        onFocus = _this$props7.onFocus,\n        registry = _this$props7.registry,\n        rawErrors = _this$props7.rawErrors,\n        name = _this$props7.name;\n    var items = this.props.formData;\n    var widgets = registry.widgets,\n        rootSchema = registry.rootSchema,\n        formContext = registry.formContext;\n    var itemsSchema = retrieveSchema(schema.items, rootSchema, formData);\n    var title = schema.title || name;\n    var enumOptions = optionsList(itemsSchema);\n\n    var _getUiOptions$enumOpt = _extends({}, getUiOptions(uiSchema), {\n      enumOptions: enumOptions\n    }),\n        _getUiOptions$enumOpt2 = _getUiOptions$enumOpt.widget,\n        widget = _getUiOptions$enumOpt2 === void 0 ? \"select\" : _getUiOptions$enumOpt2,\n        options = _objectWithoutPropertiesLoose(_getUiOptions$enumOpt, [\"widget\"]);\n\n    var Widget = getWidget(schema, widget, widgets);\n    return /*#__PURE__*/React.createElement(Widget, {\n      id: idSchema && idSchema.$id,\n      multiple: true,\n      onChange: this.onSelectChange,\n      onBlur: onBlur,\n      onFocus: onFocus,\n      options: options,\n      schema: schema,\n      uiSchema: uiSchema,\n      registry: registry,\n      value: items,\n      disabled: disabled,\n      readonly: readonly,\n      required: required,\n      label: title,\n      placeholder: placeholder,\n      formContext: formContext,\n      autofocus: autofocus,\n      rawErrors: rawErrors\n    });\n  };\n\n  _proto.renderFiles = function renderFiles() {\n    var _this$props8 = this.props,\n        schema = _this$props8.schema,\n        uiSchema = _this$props8.uiSchema,\n        idSchema = _this$props8.idSchema,\n        name = _this$props8.name,\n        disabled = _this$props8.disabled,\n        readonly = _this$props8.readonly,\n        autofocus = _this$props8.autofocus,\n        onBlur = _this$props8.onBlur,\n        onFocus = _this$props8.onFocus,\n        registry = _this$props8.registry,\n        rawErrors = _this$props8.rawErrors;\n    var title = schema.title || name;\n    var items = this.props.formData;\n    var widgets = registry.widgets,\n        formContext = registry.formContext;\n\n    var _getUiOptions3 = getUiOptions(uiSchema),\n        _getUiOptions3$widget = _getUiOptions3.widget,\n        widget = _getUiOptions3$widget === void 0 ? \"files\" : _getUiOptions3$widget,\n        options = _objectWithoutPropertiesLoose(_getUiOptions3, [\"widget\"]);\n\n    var Widget = getWidget(schema, widget, widgets);\n    return /*#__PURE__*/React.createElement(Widget, {\n      options: options,\n      id: idSchema && idSchema.$id,\n      multiple: true,\n      onChange: this.onSelectChange,\n      onBlur: onBlur,\n      onFocus: onFocus,\n      schema: schema,\n      uiSchema: uiSchema,\n      title: title,\n      value: items,\n      disabled: disabled,\n      readonly: readonly,\n      registry: registry,\n      formContext: formContext,\n      autofocus: autofocus,\n      rawErrors: rawErrors\n    });\n  };\n\n  _proto.renderFixedArray = function renderFixedArray() {\n    var _this3 = this;\n\n    var _this$props9 = this.props,\n        schema = _this$props9.schema,\n        uiSchema = _this$props9.uiSchema,\n        formData = _this$props9.formData,\n        errorSchema = _this$props9.errorSchema,\n        idPrefix = _this$props9.idPrefix,\n        _this$props9$idSepara = _this$props9.idSeparator,\n        idSeparator = _this$props9$idSepara === void 0 ? \"_\" : _this$props9$idSepara,\n        idSchema = _this$props9.idSchema,\n        name = _this$props9.name,\n        required = _this$props9.required,\n        disabled = _this$props9.disabled,\n        readonly = _this$props9.readonly,\n        autofocus = _this$props9.autofocus,\n        registry = _this$props9.registry,\n        onBlur = _this$props9.onBlur,\n        onFocus = _this$props9.onFocus,\n        rawErrors = _this$props9.rawErrors;\n    var title = schema.title || name;\n    var items = this.props.formData;\n    var ArrayFieldTemplate = registry.ArrayFieldTemplate,\n        rootSchema = registry.rootSchema,\n        fields = registry.fields,\n        formContext = registry.formContext;\n    var TitleField = fields.TitleField;\n    var itemSchemas = schema.items.map(function (item, index) {\n      return retrieveSchema(item, rootSchema, formData[index]);\n    });\n    var additionalSchema = allowAdditionalItems(schema) ? retrieveSchema(schema.additionalItems, rootSchema, formData) : null;\n\n    if (!items || items.length < itemSchemas.length) {\n      // to make sure at least all fixed items are generated\n      items = items || [];\n      items = items.concat(new Array(itemSchemas.length - items.length));\n    } // These are the props passed into the render function\n\n\n    var arrayProps = {\n      canAdd: this.canAddItem(items) && additionalSchema,\n      className: \"field field-array field-array-fixed-items\",\n      disabled: disabled,\n      idSchema: idSchema,\n      formData: formData,\n      items: this.state.keyedFormData.map(function (keyedItem, index) {\n        var key = keyedItem.key,\n            item = keyedItem.item;\n        var additional = index >= itemSchemas.length;\n        var itemSchema = additional ? retrieveSchema(schema.additionalItems, rootSchema, item) : itemSchemas[index];\n        var itemIdPrefix = idSchema.$id + idSeparator + index;\n        var itemIdSchema = toIdSchema(itemSchema, itemIdPrefix, rootSchema, item, idPrefix, idSeparator);\n        var itemUiSchema = additional ? uiSchema.additionalItems || {} : Array.isArray(uiSchema.items) ? uiSchema.items[index] : uiSchema.items || {};\n        var itemErrorSchema = errorSchema ? errorSchema[index] : undefined;\n        return _this3.renderArrayFieldItem({\n          key: key,\n          index: index,\n          canRemove: additional,\n          canMoveUp: index >= itemSchemas.length + 1,\n          canMoveDown: additional && index < items.length - 1,\n          itemSchema: itemSchema,\n          itemData: item,\n          itemUiSchema: itemUiSchema,\n          itemIdSchema: itemIdSchema,\n          itemErrorSchema: itemErrorSchema,\n          autofocus: autofocus && index === 0,\n          onBlur: onBlur,\n          onFocus: onFocus\n        });\n      }),\n      onAddClick: this.onAddClick,\n      readonly: readonly,\n      required: required,\n      registry: registry,\n      schema: schema,\n      uiSchema: uiSchema,\n      title: title,\n      TitleField: TitleField,\n      formContext: formContext,\n      rawErrors: rawErrors\n    }; // Check if a custom template template was passed in\n\n    var Template = uiSchema[\"ui:ArrayFieldTemplate\"] || ArrayFieldTemplate || DefaultFixedArrayFieldTemplate;\n    return /*#__PURE__*/React.createElement(Template, arrayProps);\n  };\n\n  _proto.renderArrayFieldItem = function renderArrayFieldItem(props) {\n    var key = props.key,\n        index = props.index,\n        _props$canRemove = props.canRemove,\n        canRemove = _props$canRemove === void 0 ? true : _props$canRemove,\n        _props$canMoveUp = props.canMoveUp,\n        canMoveUp = _props$canMoveUp === void 0 ? true : _props$canMoveUp,\n        _props$canMoveDown = props.canMoveDown,\n        canMoveDown = _props$canMoveDown === void 0 ? true : _props$canMoveDown,\n        itemSchema = props.itemSchema,\n        itemData = props.itemData,\n        itemUiSchema = props.itemUiSchema,\n        itemIdSchema = props.itemIdSchema,\n        itemErrorSchema = props.itemErrorSchema,\n        autofocus = props.autofocus,\n        onBlur = props.onBlur,\n        onFocus = props.onFocus,\n        rawErrors = props.rawErrors;\n    var _this$props10 = this.props,\n        disabled = _this$props10.disabled,\n        readonly = _this$props10.readonly,\n        uiSchema = _this$props10.uiSchema,\n        registry = _this$props10.registry;\n    var SchemaField = registry.fields.SchemaField;\n\n    var _getUiOptions4 = getUiOptions(uiSchema),\n        _getUiOptions4$ordera = _getUiOptions4.orderable,\n        orderable = _getUiOptions4$ordera === void 0 ? true : _getUiOptions4$ordera,\n        _getUiOptions4$remova = _getUiOptions4.removable,\n        removable = _getUiOptions4$remova === void 0 ? true : _getUiOptions4$remova;\n\n    var has = {\n      moveUp: orderable && canMoveUp,\n      moveDown: orderable && canMoveDown,\n      remove: removable && canRemove\n    };\n    has.toolbar = Object.keys(has).some(function (key) {\n      return has[key];\n    });\n    return {\n      children: /*#__PURE__*/React.createElement(SchemaField, {\n        index: index,\n        schema: itemSchema,\n        uiSchema: itemUiSchema,\n        formData: itemData,\n        errorSchema: itemErrorSchema,\n        idPrefix: this.props.idPrefix,\n        idSeparator: this.props.idSeparator,\n        idSchema: itemIdSchema,\n        required: this.isItemRequired(itemSchema),\n        onChange: this.onChangeForIndex(index),\n        onBlur: onBlur,\n        onFocus: onFocus,\n        registry: this.props.registry,\n        disabled: this.props.disabled,\n        readonly: this.props.readonly,\n        hideError: this.props.hideError,\n        autofocus: autofocus,\n        rawErrors: rawErrors\n      }),\n      className: \"array-item\",\n      disabled: disabled,\n      hasToolbar: has.toolbar,\n      hasMoveUp: has.moveUp,\n      hasMoveDown: has.moveDown,\n      hasRemove: has.remove,\n      index: index,\n      key: key,\n      onAddIndexClick: this.onAddIndexClick,\n      onDropIndexClick: this.onDropIndexClick,\n      onReorderClick: this.onReorderClick,\n      readonly: readonly\n    };\n  };\n\n  _createClass(ArrayField, [{\n    key: \"itemTitle\",\n    get: function get() {\n      var schema = this.props.schema;\n      return schema.items.title || schema.items.description || \"Item\";\n    }\n  }]);\n\n  return ArrayField;\n}(Component);\n\nArrayField.defaultProps = {\n  uiSchema: {},\n  formData: [],\n  idSchema: {},\n  required: false,\n  disabled: false,\n  readonly: false,\n  autofocus: false\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  ArrayField.propTypes = fieldProps;\n}\n\nfunction BooleanField(props) {\n  var schema = props.schema,\n      name = props.name,\n      uiSchema = props.uiSchema,\n      idSchema = props.idSchema,\n      formData = props.formData,\n      registry = props.registry,\n      required = props.required,\n      disabled = props.disabled,\n      readonly = props.readonly,\n      autofocus = props.autofocus,\n      onChange = props.onChange,\n      onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      rawErrors = props.rawErrors;\n  var title = schema.title;\n  var widgets = registry.widgets,\n      formContext = registry.formContext,\n      fields = registry.fields;\n\n  var _getUiOptions = getUiOptions(uiSchema),\n      _getUiOptions$widget = _getUiOptions.widget,\n      widget = _getUiOptions$widget === void 0 ? \"checkbox\" : _getUiOptions$widget,\n      options = _objectWithoutPropertiesLoose(_getUiOptions, [\"widget\"]);\n\n  var Widget = getWidget(schema, widget, widgets);\n  var enumOptions;\n\n  if (Array.isArray(schema.oneOf)) {\n    enumOptions = optionsList({\n      oneOf: schema.oneOf.map(function (option) {\n        return _extends({}, option, {\n          title: option.title || (option[\"const\"] === true ? \"Yes\" : \"No\")\n        });\n      })\n    });\n  } else {\n    enumOptions = optionsList({\n      \"enum\": schema[\"enum\"] || [true, false],\n      enumNames: schema.enumNames || (schema[\"enum\"] && schema[\"enum\"][0] === false ? [\"No\", \"Yes\"] : [\"Yes\", \"No\"])\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Widget, {\n    options: _extends({}, options, {\n      enumOptions: enumOptions\n    }),\n    schema: schema,\n    uiSchema: uiSchema,\n    id: idSchema && idSchema.$id,\n    onChange: onChange,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    label: title === undefined ? name : title,\n    value: formData,\n    required: required,\n    disabled: disabled,\n    readonly: readonly,\n    registry: registry,\n    formContext: formContext,\n    autofocus: autofocus,\n    rawErrors: rawErrors,\n    DescriptionField: fields.DescriptionField\n  });\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  BooleanField.propTypes = fieldProps;\n}\n\nBooleanField.defaultProps = {\n  uiSchema: {},\n  disabled: false,\n  readonly: false,\n  autofocus: false\n};\n\nfunction DescriptionField(props) {\n  var id = props.id,\n      description = props.description;\n\n  if (!description) {\n    return null;\n  }\n\n  if (typeof description === \"string\") {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      id: id,\n      className: \"field-description\"\n    }, description);\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: id,\n      className: \"field-description\"\n    }, description);\n  }\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  DescriptionField.propTypes = {\n    id: PropTypes.string,\n    description: /*#__PURE__*/PropTypes.oneOfType([PropTypes.string, PropTypes.element])\n  };\n}\n\nvar AnyOfField = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(AnyOfField, _Component);\n\n  function AnyOfField(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    _this.onOptionChange = function (option) {\n      var selectedOption = parseInt(option, 10);\n      var _this$props = _this.props,\n          formData = _this$props.formData,\n          onChange = _this$props.onChange,\n          options = _this$props.options,\n          registry = _this$props.registry;\n      var rootSchema = registry.rootSchema;\n      var newOption = retrieveSchema(options[selectedOption], rootSchema, formData); // If the new option is of type object and the current data is an object,\n      // discard properties added using the old option.\n\n      var newFormData = undefined;\n\n      if (guessType(formData) === \"object\" && (newOption.type === \"object\" || newOption.properties)) {\n        newFormData = Object.assign({}, formData);\n        var optionsToDiscard = options.slice();\n        optionsToDiscard.splice(selectedOption, 1); // Discard any data added using other options\n\n        for (var _iterator = optionsToDiscard, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n          var _ref;\n\n          if (_isArray) {\n            if (_i >= _iterator.length) break;\n            _ref = _iterator[_i++];\n          } else {\n            _i = _iterator.next();\n            if (_i.done) break;\n            _ref = _i.value;\n          }\n\n          var _option = _ref;\n\n          if (_option.properties) {\n            for (var key in _option.properties) {\n              if (newFormData.hasOwnProperty(key)) {\n                delete newFormData[key];\n              }\n            }\n          }\n        }\n      } // Call getDefaultFormState to make sure defaults are populated on change.\n\n\n      onChange(getDefaultFormState(options[selectedOption], newFormData, rootSchema));\n\n      _this.setState({\n        selectedOption: parseInt(option, 10)\n      });\n    };\n\n    var _this$props2 = _this.props,\n        _formData = _this$props2.formData,\n        _options = _this$props2.options;\n    _this.state = {\n      selectedOption: _this.getMatchingOption(_formData, _options)\n    };\n    return _this;\n  }\n\n  var _proto = AnyOfField.prototype;\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    if (!deepEquals(this.props.formData, prevProps.formData) && this.props.idSchema.$id === prevProps.idSchema.$id) {\n      var matchingOption = this.getMatchingOption(this.props.formData, this.props.options);\n\n      if (!prevState || matchingOption === this.state.selectedOption) {\n        return;\n      }\n\n      this.setState({\n        selectedOption: matchingOption\n      });\n    }\n  };\n\n  _proto.getMatchingOption = function getMatchingOption$1(formData, options) {\n    var rootSchema = this.props.registry.rootSchema;\n\n    var option = getMatchingOption(formData, options, rootSchema);\n\n    if (option !== 0) {\n      return option;\n    } // If the form data matches none of the options, use the currently selected\n    // option, assuming it's available; otherwise use the first option\n\n\n    return this && this.state ? this.state.selectedOption : 0;\n  };\n\n  _proto.render = function render() {\n    var _this$props3 = this.props,\n        baseType = _this$props3.baseType,\n        disabled = _this$props3.disabled,\n        readonly = _this$props3.readonly,\n        hideError = _this$props3.hideError,\n        errorSchema = _this$props3.errorSchema,\n        formData = _this$props3.formData,\n        idPrefix = _this$props3.idPrefix,\n        idSeparator = _this$props3.idSeparator,\n        idSchema = _this$props3.idSchema,\n        onBlur = _this$props3.onBlur,\n        onChange = _this$props3.onChange,\n        onFocus = _this$props3.onFocus,\n        options = _this$props3.options,\n        registry = _this$props3.registry,\n        uiSchema = _this$props3.uiSchema,\n        schema = _this$props3.schema;\n    var _SchemaField = registry.fields.SchemaField;\n    var widgets = registry.widgets;\n    var selectedOption = this.state.selectedOption;\n\n    var _getUiOptions = getUiOptions(uiSchema),\n        _getUiOptions$widget = _getUiOptions.widget,\n        widget = _getUiOptions$widget === void 0 ? \"select\" : _getUiOptions$widget,\n        uiOptions = _objectWithoutPropertiesLoose(_getUiOptions, [\"widget\"]);\n\n    var Widget = getWidget({\n      type: \"number\"\n    }, widget, widgets);\n    var option = options[selectedOption] || null;\n    var optionSchema;\n\n    if (option) {\n      // If the subschema doesn't declare a type, infer the type from the\n      // parent schema\n      optionSchema = option.type ? option : Object.assign({}, option, {\n        type: baseType\n      });\n    }\n\n    var enumOptions = options.map(function (option, index) {\n      return {\n        label: option.title || \"Option \" + (index + 1),\n        value: index\n      };\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel panel-default panel-body\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\"\n    }, /*#__PURE__*/React.createElement(Widget, _extends({\n      id: \"\" + idSchema.$id + (schema.oneOf ? \"__oneof_select\" : \"__anyof_select\"),\n      schema: {\n        type: \"number\",\n        \"default\": 0\n      },\n      onChange: this.onOptionChange,\n      onBlur: onBlur,\n      onFocus: onFocus,\n      value: selectedOption,\n      options: {\n        enumOptions: enumOptions\n      },\n      registry: registry\n    }, uiOptions))), option !== null && /*#__PURE__*/React.createElement(_SchemaField, {\n      schema: optionSchema,\n      uiSchema: uiSchema,\n      errorSchema: errorSchema,\n      idSchema: idSchema,\n      idPrefix: idPrefix,\n      idSeparator: idSeparator,\n      formData: formData,\n      onChange: onChange,\n      onBlur: onBlur,\n      onFocus: onFocus,\n      registry: registry,\n      disabled: disabled,\n      readonly: readonly,\n      hideError: hideError\n    }));\n  };\n\n  return AnyOfField;\n}(Component);\n\nAnyOfField.defaultProps = {\n  disabled: false,\n  readonly: false,\n  hideError: false,\n  errorSchema: {},\n  idSchema: {},\n  uiSchema: {}\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  AnyOfField.propTypes = {\n    options: /*#__PURE__*/PropTypes.arrayOf(PropTypes.object).isRequired,\n    baseType: PropTypes.string,\n    uiSchema: PropTypes.object,\n    idSchema: PropTypes.object,\n    formData: PropTypes.any,\n    errorSchema: PropTypes.object,\n    registry: registry.isRequired\n  };\n}\n\n// digits followed by any number of 0 characters up until the end of the line.\n// Ensuring that there is at least one prefixed character is important so that\n// you don't incorrectly match against \"0\".\n\nvar trailingCharMatcherWithPrefix = /\\.([0-9]*0)*$/; // This is used for trimming the trailing 0 and . characters without affecting\n// the rest of the string. Its possible to use one RegEx with groups for this\n// functionality, but it is fairly complex compared to simply defining two\n// different matchers.\n\nvar trailingCharMatcher = /[0.]0*$/;\n/**\n * The NumberField class has some special handling for dealing with trailing\n * decimal points and/or zeroes. This logic is designed to allow trailing values\n * to be visible in the input element, but not be represented in the\n * corresponding form data.\n *\n * The algorithm is as follows:\n *\n * 1. When the input value changes the value is cached in the component state\n *\n * 2. The value is then normalized, removing trailing decimal points and zeros,\n *    then passed to the \"onChange\" callback\n *\n * 3. When the component is rendered, the formData value is checked against the\n *    value cached in the state. If it matches the cached value, the cached\n *    value is passed to the input instead of the formData value\n */\n\nvar NumberField = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(NumberField, _React$Component);\n\n  function NumberField(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n\n    _this.handleChange = function (value) {\n      // Cache the original value in component state\n      _this.setState({\n        lastValue: value\n      }); // Normalize decimals that don't start with a zero character in advance so\n      // that the rest of the normalization logic is simpler\n\n\n      if ((\"\" + value).charAt(0) === \".\") {\n        value = \"0\" + value;\n      } // Check that the value is a string (this can happen if the widget used is a\n      // <select>, due to an enum declaration etc) then, if the value ends in a\n      // trailing decimal point or multiple zeroes, strip the trailing values\n\n\n      var processed = typeof value === \"string\" && value.match(trailingCharMatcherWithPrefix) ? asNumber(value.replace(trailingCharMatcher, \"\")) : asNumber(value);\n\n      _this.props.onChange(processed);\n    };\n\n    _this.state = {\n      lastValue: props.value\n    };\n    return _this;\n  }\n\n  var _proto = NumberField.prototype;\n\n  _proto.render = function render() {\n    var StringField = this.props.registry.fields.StringField;\n\n    var _this$props = this.props,\n        formData = _this$props.formData,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"formData\"]);\n\n    var lastValue = this.state.lastValue;\n    var value = formData;\n\n    if (typeof lastValue === \"string\" && typeof value === \"number\") {\n      // Construct a regular expression that checks for a string that consists\n      // of the formData value suffixed with zero or one '.' characters and zero\n      // or more '0' characters\n      var re = new RegExp((\"\" + value).replace(\".\", \"\\\\.\") + \"\\\\.?0*$\"); // If the cached \"lastValue\" is a match, use that instead of the formData\n      // value to prevent the input value from changing in the UI\n\n      if (lastValue.match(re)) {\n        value = lastValue;\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(StringField, _extends({}, props, {\n      formData: value,\n      onChange: this.handleChange\n    }));\n  };\n\n  return NumberField;\n}(React.Component);\n\nif (process.env.NODE_ENV !== \"production\") {\n  NumberField.propTypes = fieldProps;\n}\n\nNumberField.defaultProps = {\n  uiSchema: {}\n};\n\nfunction DefaultObjectFieldTemplate(props) {\n  var TitleField = props.TitleField,\n      DescriptionField = props.DescriptionField;\n  return /*#__PURE__*/React.createElement(\"fieldset\", {\n    id: props.idSchema.$id\n  }, (props.uiSchema[\"ui:title\"] || props.title) && /*#__PURE__*/React.createElement(TitleField, {\n    id: props.idSchema.$id + \"__title\",\n    title: props.title || props.uiSchema[\"ui:title\"],\n    required: props.required,\n    formContext: props.formContext\n  }), props.description && /*#__PURE__*/React.createElement(DescriptionField, {\n    id: props.idSchema.$id + \"__description\",\n    description: props.description,\n    formContext: props.formContext\n  }), props.properties.map(function (prop) {\n    return prop.content;\n  }), canExpand(props.schema, props.uiSchema, props.formData) && /*#__PURE__*/React.createElement(AddButton, {\n    className: \"object-property-expand\",\n    onClick: props.onAddClick(props.schema),\n    disabled: props.disabled || props.readonly\n  }));\n}\n\nvar ObjectField = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(ObjectField, _Component);\n\n  function ObjectField() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.state = {\n      wasPropertyKeyModified: false,\n      additionalProperties: {}\n    };\n\n    _this.onPropertyChange = function (name, addedByAdditionalProperties) {\n      if (addedByAdditionalProperties === void 0) {\n        addedByAdditionalProperties = false;\n      }\n\n      return function (value, errorSchema) {\n        var _extends2, _extends3;\n\n        if (value === undefined && addedByAdditionalProperties) {\n          // Don't set value = undefined for fields added by\n          // additionalProperties. Doing so removes them from the\n          // formData, which causes them to completely disappear\n          // (including the input field for the property name). Unlike\n          // fields which are \"mandated\" by the schema, these fields can\n          // be set to undefined by clicking a \"delete field\" button, so\n          // set empty values to the empty string.\n          value = \"\";\n        }\n\n        var newFormData = _extends({}, _this.props.formData, (_extends2 = {}, _extends2[name] = value, _extends2));\n\n        _this.props.onChange(newFormData, errorSchema && _this.props.errorSchema && _extends({}, _this.props.errorSchema, (_extends3 = {}, _extends3[name] = errorSchema, _extends3)));\n      };\n    };\n\n    _this.onDropPropertyClick = function (key) {\n      return function (event) {\n        event.preventDefault();\n        var _this$props = _this.props,\n            onChange = _this$props.onChange,\n            formData = _this$props.formData;\n\n        var copiedFormData = _extends({}, formData);\n\n        delete copiedFormData[key];\n        onChange(copiedFormData);\n      };\n    };\n\n    _this.getAvailableKey = function (preferredKey, formData) {\n      var index = 0;\n      var newKey = preferredKey;\n\n      while (formData.hasOwnProperty(newKey)) {\n        newKey = preferredKey + \"-\" + ++index;\n      }\n\n      return newKey;\n    };\n\n    _this.onKeyChange = function (oldValue) {\n      return function (value, errorSchema) {\n        var _newKeys, _extends4;\n\n        if (oldValue === value) {\n          return;\n        }\n\n        value = _this.getAvailableKey(value, _this.props.formData);\n\n        var newFormData = _extends({}, _this.props.formData);\n\n        var newKeys = (_newKeys = {}, _newKeys[oldValue] = value, _newKeys);\n        var keyValues = Object.keys(newFormData).map(function (key) {\n          var _ref;\n\n          var newKey = newKeys[key] || key;\n          return _ref = {}, _ref[newKey] = newFormData[key], _ref;\n        });\n        var renamedObj = Object.assign.apply(Object, [{}].concat(keyValues));\n\n        _this.setState({\n          wasPropertyKeyModified: true\n        });\n\n        _this.props.onChange(renamedObj, errorSchema && _this.props.errorSchema && _extends({}, _this.props.errorSchema, (_extends4 = {}, _extends4[value] = errorSchema, _extends4)));\n      };\n    };\n\n    _this.handleAddClick = function (schema) {\n      return function () {\n        var type = schema.additionalProperties.type;\n\n        var newFormData = _extends({}, _this.props.formData);\n\n        if (schema.additionalProperties.hasOwnProperty(\"$ref\")) {\n          var registry = _this.props.registry;\n          var refSchema = retrieveSchema({\n            $ref: schema.additionalProperties[\"$ref\"]\n          }, registry.rootSchema, _this.props.formData);\n          type = refSchema.type;\n        }\n\n        newFormData[_this.getAvailableKey(\"newKey\", newFormData)] = _this.getDefaultValue(type);\n\n        _this.props.onChange(newFormData);\n      };\n    };\n\n    return _this;\n  }\n\n  var _proto = ObjectField.prototype;\n\n  _proto.isRequired = function isRequired(name) {\n    var schema = this.props.schema;\n    return Array.isArray(schema.required) && schema.required.indexOf(name) !== -1;\n  };\n\n  _proto.getDefaultValue = function getDefaultValue(type) {\n    switch (type) {\n      case \"string\":\n        return \"New Value\";\n\n      case \"array\":\n        return [];\n\n      case \"boolean\":\n        return false;\n\n      case \"null\":\n        return null;\n\n      case \"number\":\n        return 0;\n\n      case \"object\":\n        return {};\n\n      default:\n        // We don't have a datatype for some reason (perhaps additionalProperties was true)\n        return \"New Value\";\n    }\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props2 = this.props,\n        uiSchema = _this$props2.uiSchema,\n        formData = _this$props2.formData,\n        errorSchema = _this$props2.errorSchema,\n        idSchema = _this$props2.idSchema,\n        name = _this$props2.name,\n        required = _this$props2.required,\n        disabled = _this$props2.disabled,\n        readonly = _this$props2.readonly,\n        hideError = _this$props2.hideError,\n        idPrefix = _this$props2.idPrefix,\n        idSeparator = _this$props2.idSeparator,\n        onBlur = _this$props2.onBlur,\n        onFocus = _this$props2.onFocus,\n        registry = _this$props2.registry;\n    var rootSchema = registry.rootSchema,\n        fields = registry.fields,\n        formContext = registry.formContext;\n    var SchemaField = fields.SchemaField,\n        TitleField = fields.TitleField,\n        DescriptionField = fields.DescriptionField;\n    var schema = retrieveSchema(this.props.schema, rootSchema, formData);\n    var title = schema.title === undefined ? name : schema.title;\n    var description = uiSchema[\"ui:description\"] || schema.description;\n    var orderedProperties;\n\n    try {\n      var properties = Object.keys(schema.properties || {});\n      orderedProperties = orderProperties(properties, uiSchema[\"ui:order\"]);\n    } catch (err) {\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"config-error\",\n        style: {\n          color: \"red\"\n        }\n      }, \"Invalid \", name || \"root\", \" object field configuration:\", /*#__PURE__*/React.createElement(\"em\", null, err.message), \".\"), /*#__PURE__*/React.createElement(\"pre\", null, JSON.stringify(schema)));\n    }\n\n    var Template = uiSchema[\"ui:ObjectFieldTemplate\"] || registry.ObjectFieldTemplate || DefaultObjectFieldTemplate;\n    var templateProps = {\n      title: uiSchema[\"ui:title\"] || title,\n      description: description,\n      TitleField: TitleField,\n      DescriptionField: DescriptionField,\n      properties: orderedProperties.map(function (name) {\n        var addedByAdditionalProperties = schema.properties[name].hasOwnProperty(ADDITIONAL_PROPERTY_FLAG);\n        var fieldUiSchema = addedByAdditionalProperties ? uiSchema.additionalProperties : uiSchema[name];\n        var hidden = fieldUiSchema && fieldUiSchema[\"ui:widget\"] === \"hidden\";\n        return {\n          content: /*#__PURE__*/React.createElement(SchemaField, {\n            key: name,\n            name: name,\n            required: _this2.isRequired(name),\n            schema: schema.properties[name],\n            uiSchema: fieldUiSchema,\n            errorSchema: errorSchema[name],\n            idSchema: idSchema[name],\n            idPrefix: idPrefix,\n            idSeparator: idSeparator,\n            formData: (formData || {})[name],\n            wasPropertyKeyModified: _this2.state.wasPropertyKeyModified,\n            onKeyChange: _this2.onKeyChange(name),\n            onChange: _this2.onPropertyChange(name, addedByAdditionalProperties),\n            onBlur: onBlur,\n            onFocus: onFocus,\n            registry: registry,\n            disabled: disabled,\n            readonly: readonly,\n            hideError: hideError,\n            onDropPropertyClick: _this2.onDropPropertyClick\n          }),\n          name: name,\n          readonly: readonly,\n          disabled: disabled,\n          required: required,\n          hidden: hidden\n        };\n      }),\n      readonly: readonly,\n      disabled: disabled,\n      required: required,\n      idSchema: idSchema,\n      uiSchema: uiSchema,\n      schema: schema,\n      formData: formData,\n      formContext: formContext,\n      registry: registry\n    };\n    return /*#__PURE__*/React.createElement(Template, _extends({}, templateProps, {\n      onAddClick: this.handleAddClick\n    }));\n  };\n\n  return ObjectField;\n}(Component);\n\nObjectField.defaultProps = {\n  uiSchema: {},\n  formData: {},\n  errorSchema: {},\n  idSchema: {},\n  required: false,\n  disabled: false,\n  readonly: false\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  ObjectField.propTypes = fieldProps;\n}\n\nvar REQUIRED_FIELD_SYMBOL = \"*\";\nvar COMPONENT_TYPES = {\n  array: \"ArrayField\",\n  \"boolean\": \"BooleanField\",\n  integer: \"NumberField\",\n  number: \"NumberField\",\n  object: \"ObjectField\",\n  string: \"StringField\",\n  \"null\": \"NullField\"\n};\n\nfunction getFieldComponent(schema, uiSchema, idSchema, fields) {\n  var field = uiSchema[\"ui:field\"];\n\n  if (typeof field === \"function\") {\n    return field;\n  }\n\n  if (typeof field === \"string\" && field in fields) {\n    return fields[field];\n  }\n\n  var componentName = COMPONENT_TYPES[getSchemaType(schema)]; // If the type is not defined and the schema uses 'anyOf' or 'oneOf', don't\n  // render a field and let the MultiSchemaField component handle the form display\n\n  if (!componentName && (schema.anyOf || schema.oneOf)) {\n    return function () {\n      return null;\n    };\n  }\n\n  return componentName in fields ? fields[componentName] : function () {\n    var UnsupportedField = fields.UnsupportedField;\n    return /*#__PURE__*/React.createElement(UnsupportedField, {\n      schema: schema,\n      idSchema: idSchema,\n      reason: \"Unknown field type \" + schema.type\n    });\n  };\n}\n\nfunction Label(props) {\n  var label = props.label,\n      required = props.required,\n      id = props.id;\n\n  if (!label) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"label\", {\n    className: \"control-label\",\n    htmlFor: id\n  }, label, required && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"required\"\n  }, REQUIRED_FIELD_SYMBOL));\n}\n\nfunction LabelInput(props) {\n  var id = props.id,\n      label = props.label,\n      onChange = props.onChange;\n  return /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    id: id,\n    onBlur: function onBlur(event) {\n      return onChange(event.target.value);\n    },\n    defaultValue: label\n  });\n}\n\nfunction Help(props) {\n  var id = props.id,\n      help = props.help;\n\n  if (!help) {\n    return null;\n  }\n\n  if (typeof help === \"string\") {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      id: id,\n      className: \"help-block\"\n    }, help);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: id,\n    className: \"help-block\"\n  }, help);\n}\n\nfunction ErrorList(props) {\n  var _props$errors = props.errors,\n      errors = _props$errors === void 0 ? [] : _props$errors;\n\n  if (errors.length === 0) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"error-detail bs-callout bs-callout-info\"\n  }, errors.filter(function (elem) {\n    return !!elem;\n  }).map(function (error, index) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      className: \"text-danger\",\n      key: index\n    }, error);\n  })));\n}\n\nfunction DefaultTemplate(props) {\n  var id = props.id,\n      label = props.label,\n      children = props.children,\n      errors = props.errors,\n      help = props.help,\n      description = props.description,\n      hidden = props.hidden,\n      required = props.required,\n      displayLabel = props.displayLabel;\n\n  if (hidden) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hidden\"\n    }, children);\n  }\n\n  return /*#__PURE__*/React.createElement(WrapIfAdditional, props, displayLabel && /*#__PURE__*/React.createElement(Label, {\n    label: label,\n    required: required,\n    id: id\n  }), displayLabel && description ? description : null, children, errors, help);\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  DefaultTemplate.propTypes = {\n    id: PropTypes.string,\n    classNames: PropTypes.string,\n    label: PropTypes.string,\n    children: PropTypes.node.isRequired,\n    errors: PropTypes.element,\n    rawErrors: /*#__PURE__*/PropTypes.arrayOf(PropTypes.string),\n    help: PropTypes.element,\n    rawHelp: /*#__PURE__*/PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n    description: PropTypes.element,\n    rawDescription: /*#__PURE__*/PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n    hidden: PropTypes.bool,\n    required: PropTypes.bool,\n    readonly: PropTypes.bool,\n    displayLabel: PropTypes.bool,\n    fields: PropTypes.object,\n    formContext: PropTypes.object\n  };\n}\n\nDefaultTemplate.defaultProps = {\n  hidden: false,\n  readonly: false,\n  required: false,\n  displayLabel: true\n};\n\nfunction WrapIfAdditional(props) {\n  var id = props.id,\n      classNames = props.classNames,\n      disabled = props.disabled,\n      label = props.label,\n      onKeyChange = props.onKeyChange,\n      onDropPropertyClick = props.onDropPropertyClick,\n      readonly = props.readonly,\n      required = props.required,\n      schema = props.schema;\n  var keyLabel = label + \" Key\"; // i18n ?\n\n  var additional = schema.hasOwnProperty(ADDITIONAL_PROPERTY_FLAG);\n\n  if (!additional) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames\n    }, props.children);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xs-5 form-additional\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\"\n  }, /*#__PURE__*/React.createElement(Label, {\n    label: keyLabel,\n    required: required,\n    id: id + \"-key\"\n  }), /*#__PURE__*/React.createElement(LabelInput, {\n    label: label,\n    required: required,\n    id: id + \"-key\",\n    onChange: onKeyChange\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-additional form-group col-xs-5\"\n  }, props.children), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xs-2\"\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    type: \"danger\",\n    icon: \"remove\",\n    className: \"array-item-remove btn-block\",\n    tabIndex: \"-1\",\n    style: {\n      border: \"0\"\n    },\n    disabled: disabled || readonly,\n    onClick: onDropPropertyClick(label)\n  }))));\n}\n\nfunction SchemaFieldRender(props) {\n  var uiSchema = props.uiSchema,\n      formData = props.formData,\n      errorSchema = props.errorSchema,\n      idPrefix = props.idPrefix,\n      idSeparator = props.idSeparator,\n      name = props.name,\n      onChange = props.onChange,\n      onKeyChange = props.onKeyChange,\n      onDropPropertyClick = props.onDropPropertyClick,\n      required = props.required,\n      registry = props.registry,\n      _props$wasPropertyKey = props.wasPropertyKeyModified,\n      wasPropertyKeyModified = _props$wasPropertyKey === void 0 ? false : _props$wasPropertyKey;\n  var rootSchema = registry.rootSchema,\n      fields = registry.fields,\n      formContext = registry.formContext;\n  var FieldTemplate = uiSchema[\"ui:FieldTemplate\"] || registry.FieldTemplate || DefaultTemplate;\n  var idSchema = props.idSchema;\n  var schema = retrieveSchema(props.schema, rootSchema, formData);\n  idSchema = mergeObjects(toIdSchema(schema, null, rootSchema, formData, idPrefix, idSeparator), idSchema);\n  var FieldComponent = getFieldComponent(schema, uiSchema, idSchema, fields);\n  var DescriptionField = fields.DescriptionField;\n  var disabled = Boolean(props.disabled || uiSchema[\"ui:disabled\"]);\n  var readonly = Boolean(props.readonly || uiSchema[\"ui:readonly\"] || props.schema.readOnly || schema.readOnly);\n  var uiSchemaHideError = uiSchema[\"ui:hideError\"]; // Set hideError to the value provided in the uiSchema, otherwise stick with the prop to propagate to children\n\n  var hideError = uiSchemaHideError === undefined ? props.hideError : Boolean(uiSchemaHideError);\n  var autofocus = Boolean(props.autofocus || uiSchema[\"ui:autofocus\"]);\n\n  if (Object.keys(schema).length === 0) {\n    return null;\n  }\n\n  var displayLabel = getDisplayLabel(schema, uiSchema, rootSchema);\n\n  var __errors = errorSchema.__errors,\n      fieldErrorSchema = _objectWithoutPropertiesLoose(errorSchema, [\"__errors\"]); // See #439: uiSchema: Don't pass consumed class names to child components\n\n\n  var field = /*#__PURE__*/React.createElement(FieldComponent, _extends({}, props, {\n    idSchema: idSchema,\n    schema: schema,\n    uiSchema: _extends({}, uiSchema, {\n      classNames: undefined\n    }),\n    disabled: disabled,\n    readonly: readonly,\n    hideError: hideError,\n    autofocus: autofocus,\n    errorSchema: fieldErrorSchema,\n    formContext: formContext,\n    rawErrors: __errors\n  }));\n  var id = idSchema.$id; // If this schema has a title defined, but the user has set a new key/label, retain their input.\n\n  var label;\n\n  if (wasPropertyKeyModified) {\n    label = name;\n  } else {\n    label = uiSchema[\"ui:title\"] || props.schema.title || schema.title || name;\n  }\n\n  var description = uiSchema[\"ui:description\"] || props.schema.description || schema.description;\n  var errors = __errors;\n  var help = uiSchema[\"ui:help\"];\n  var hidden = uiSchema[\"ui:widget\"] === \"hidden\";\n  var classNames = [\"form-group\", \"field\", \"field-\" + schema.type];\n\n  if (!hideError && errors && errors.length > 0) {\n    classNames.push(\"field-error has-error has-danger\");\n  }\n\n  classNames.push(uiSchema.classNames);\n  classNames = classNames.join(\" \").trim();\n  var fieldProps = {\n    description: /*#__PURE__*/React.createElement(DescriptionField, {\n      id: id + \"__description\",\n      description: description,\n      formContext: formContext\n    }),\n    rawDescription: description,\n    help: /*#__PURE__*/React.createElement(Help, {\n      id: id + \"__help\",\n      help: help\n    }),\n    rawHelp: typeof help === \"string\" ? help : undefined,\n    errors: hideError ? undefined : /*#__PURE__*/React.createElement(ErrorList, {\n      errors: errors\n    }),\n    rawErrors: hideError ? undefined : errors,\n    id: id,\n    label: label,\n    hidden: hidden,\n    onChange: onChange,\n    onKeyChange: onKeyChange,\n    onDropPropertyClick: onDropPropertyClick,\n    required: required,\n    disabled: disabled,\n    readonly: readonly,\n    hideError: hideError,\n    displayLabel: displayLabel,\n    classNames: classNames,\n    formContext: formContext,\n    formData: formData,\n    fields: fields,\n    schema: schema,\n    uiSchema: uiSchema,\n    registry: registry\n  };\n  var _AnyOfField = registry.fields.AnyOfField;\n  var _OneOfField = registry.fields.OneOfField;\n  return /*#__PURE__*/React.createElement(FieldTemplate, fieldProps, /*#__PURE__*/React.createElement(React.Fragment, null, field, schema.anyOf && !isSelect(schema) && /*#__PURE__*/React.createElement(_AnyOfField, {\n    disabled: disabled,\n    readonly: readonly,\n    hideError: hideError,\n    errorSchema: errorSchema,\n    formData: formData,\n    idPrefix: idPrefix,\n    idSchema: idSchema,\n    idSeparator: idSeparator,\n    onBlur: props.onBlur,\n    onChange: props.onChange,\n    onFocus: props.onFocus,\n    options: schema.anyOf.map(function (_schema) {\n      return retrieveSchema(_schema, rootSchema, formData);\n    }),\n    baseType: schema.type,\n    registry: registry,\n    schema: schema,\n    uiSchema: uiSchema\n  }), schema.oneOf && !isSelect(schema) && /*#__PURE__*/React.createElement(_OneOfField, {\n    disabled: disabled,\n    readonly: readonly,\n    hideError: hideError,\n    errorSchema: errorSchema,\n    formData: formData,\n    idPrefix: idPrefix,\n    idSchema: idSchema,\n    idSeparator: idSeparator,\n    onBlur: props.onBlur,\n    onChange: props.onChange,\n    onFocus: props.onFocus,\n    options: schema.oneOf.map(function (_schema) {\n      return retrieveSchema(_schema, rootSchema, formData);\n    }),\n    baseType: schema.type,\n    registry: registry,\n    schema: schema,\n    uiSchema: uiSchema\n  })));\n}\n\nvar SchemaField = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(SchemaField, _React$Component);\n\n  function SchemaField() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = SchemaField.prototype;\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    return !deepEquals(this.props, nextProps);\n  };\n\n  _proto.render = function render() {\n    return SchemaFieldRender(this.props);\n  };\n\n  return SchemaField;\n}(React.Component);\n\nSchemaField.defaultProps = {\n  uiSchema: {},\n  errorSchema: {},\n  idSchema: {},\n  disabled: false,\n  readonly: false,\n  autofocus: false,\n  hideError: false\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  SchemaField.propTypes = {\n    schema: PropTypes.object.isRequired,\n    uiSchema: PropTypes.object,\n    idSchema: PropTypes.object,\n    formData: PropTypes.any,\n    errorSchema: PropTypes.object,\n    registry: registry.isRequired\n  };\n}\n\nfunction StringField(props) {\n  var schema = props.schema,\n      name = props.name,\n      uiSchema = props.uiSchema,\n      idSchema = props.idSchema,\n      formData = props.formData,\n      required = props.required,\n      disabled = props.disabled,\n      readonly = props.readonly,\n      autofocus = props.autofocus,\n      onChange = props.onChange,\n      onBlur = props.onBlur,\n      onFocus = props.onFocus,\n      registry = props.registry,\n      rawErrors = props.rawErrors;\n  var title = schema.title,\n      format = schema.format;\n  var widgets = registry.widgets,\n      formContext = registry.formContext;\n  var enumOptions = isSelect(schema) && optionsList(schema);\n  var defaultWidget = enumOptions ? \"select\" : \"text\";\n\n  if (format && hasWidget(schema, format, widgets)) {\n    defaultWidget = format;\n  }\n\n  var _getUiOptions = getUiOptions(uiSchema),\n      _getUiOptions$widget = _getUiOptions.widget,\n      widget = _getUiOptions$widget === void 0 ? defaultWidget : _getUiOptions$widget,\n      _getUiOptions$placeho = _getUiOptions.placeholder,\n      placeholder = _getUiOptions$placeho === void 0 ? \"\" : _getUiOptions$placeho,\n      options = _objectWithoutPropertiesLoose(_getUiOptions, [\"widget\", \"placeholder\"]);\n\n  var Widget = getWidget(schema, widget, widgets);\n  return /*#__PURE__*/React.createElement(Widget, {\n    options: _extends({}, options, {\n      enumOptions: enumOptions\n    }),\n    schema: schema,\n    uiSchema: uiSchema,\n    id: idSchema && idSchema.$id,\n    label: title === undefined ? name : title,\n    value: formData,\n    onChange: onChange,\n    onBlur: onBlur,\n    onFocus: onFocus,\n    required: required,\n    disabled: disabled,\n    readonly: readonly,\n    formContext: formContext,\n    autofocus: autofocus,\n    registry: registry,\n    placeholder: placeholder,\n    rawErrors: rawErrors\n  });\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  StringField.propTypes = fieldProps;\n}\n\nStringField.defaultProps = {\n  uiSchema: {},\n  disabled: false,\n  readonly: false,\n  autofocus: false\n};\n\nvar REQUIRED_FIELD_SYMBOL$1 = \"*\";\n\nfunction TitleField(props) {\n  var id = props.id,\n      title = props.title,\n      required = props.required;\n  return /*#__PURE__*/React.createElement(\"legend\", {\n    id: id\n  }, title, required && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"required\"\n  }, REQUIRED_FIELD_SYMBOL$1));\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  TitleField.propTypes = {\n    id: PropTypes.string,\n    title: PropTypes.string,\n    required: PropTypes.bool\n  };\n}\n\nvar NullField = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(NullField, _Component);\n\n  function NullField() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = NullField.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.props.formData === undefined) {\n      this.props.onChange(null);\n    }\n  };\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  return NullField;\n}(Component);\n\nif (process.env.NODE_ENV !== \"production\") {\n  NullField.propTypes = fieldProps;\n}\n\nfunction UnsupportedField(_ref) {\n  var schema = _ref.schema,\n      idSchema = _ref.idSchema,\n      reason = _ref.reason;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"unsupported-field\"\n  }, /*#__PURE__*/React.createElement(\"p\", null, \"Unsupported field schema\", idSchema && idSchema.$id && /*#__PURE__*/React.createElement(\"span\", null, \" for\", \" field \", /*#__PURE__*/React.createElement(\"code\", null, idSchema.$id)), reason && /*#__PURE__*/React.createElement(\"em\", null, \": \", reason), \".\"), schema && /*#__PURE__*/React.createElement(\"pre\", null, JSON.stringify(schema, null, 2)));\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  UnsupportedField.propTypes = {\n    schema: PropTypes.object.isRequired,\n    idSchema: PropTypes.object,\n    reason: PropTypes.string\n  };\n}\n\nvar fields = {\n  AnyOfField: AnyOfField,\n  ArrayField: ArrayField,\n  BooleanField: BooleanField,\n  DescriptionField: DescriptionField,\n  NumberField: NumberField,\n  ObjectField: ObjectField,\n  OneOfField: AnyOfField,\n  SchemaField: SchemaField,\n  StringField: StringField,\n  TitleField: TitleField,\n  NullField: NullField,\n  UnsupportedField: UnsupportedField\n};\n\nfunction rangeOptions(start, stop) {\n  var options = [];\n\n  for (var i = start; i <= stop; i++) {\n    options.push({\n      value: i,\n      label: pad(i, 2)\n    });\n  }\n\n  return options;\n}\n\nfunction readyForChange(state) {\n  return Object.keys(state).every(function (key) {\n    return state[key] !== -1;\n  });\n}\n\nfunction DateElement(props) {\n  var type = props.type,\n      range = props.range,\n      value = props.value,\n      select = props.select,\n      rootId = props.rootId,\n      disabled = props.disabled,\n      readonly = props.readonly,\n      autofocus = props.autofocus,\n      registry = props.registry,\n      onBlur = props.onBlur;\n  var id = rootId + \"_\" + type;\n  var SelectWidget = registry.widgets.SelectWidget;\n  return /*#__PURE__*/React.createElement(SelectWidget, {\n    schema: {\n      type: \"integer\"\n    },\n    id: id,\n    className: \"form-control\",\n    options: {\n      enumOptions: rangeOptions(range[0], range[1])\n    },\n    placeholder: type,\n    value: value,\n    disabled: disabled,\n    readonly: readonly,\n    autofocus: autofocus,\n    onChange: function onChange(value) {\n      return select(type, value);\n    },\n    onBlur: onBlur\n  });\n}\n\nvar AltDateWidget = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(AltDateWidget, _Component);\n\n  function AltDateWidget(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    _this.onChange = function (property, value) {\n      var _this$setState;\n\n      _this.setState((_this$setState = {}, _this$setState[property] = typeof value === \"undefined\" ? -1 : value, _this$setState), function () {\n        // Only propagate to parent state if we have a complete date{time}\n        if (readyForChange(_this.state)) {\n          _this.props.onChange(toDateString(_this.state, _this.props.time));\n        }\n      });\n    };\n\n    _this.setNow = function (event) {\n      event.preventDefault();\n      var _this$props = _this.props,\n          time = _this$props.time,\n          disabled = _this$props.disabled,\n          readonly = _this$props.readonly,\n          onChange = _this$props.onChange;\n\n      if (disabled || readonly) {\n        return;\n      }\n\n      var nowDateObj = parseDateString(new Date().toJSON(), time);\n\n      _this.setState(nowDateObj, function () {\n        return onChange(toDateString(_this.state, time));\n      });\n    };\n\n    _this.clear = function (event) {\n      event.preventDefault();\n      var _this$props2 = _this.props,\n          time = _this$props2.time,\n          disabled = _this$props2.disabled,\n          readonly = _this$props2.readonly,\n          onChange = _this$props2.onChange;\n\n      if (disabled || readonly) {\n        return;\n      }\n\n      _this.setState(parseDateString(\"\", time), function () {\n        return onChange(undefined);\n      });\n    };\n\n    _this.state = parseDateString(props.value, props.time);\n    return _this;\n  }\n\n  var _proto = AltDateWidget.prototype;\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    if (prevProps.value && prevProps.value !== parseDateString(this.props.value, this.props.time)) {\n      this.setState(parseDateString(this.props.value, this.props.time));\n    }\n  };\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    return shouldRender(this, nextProps, nextState);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props3 = this.props,\n        id = _this$props3.id,\n        disabled = _this$props3.disabled,\n        readonly = _this$props3.readonly,\n        autofocus = _this$props3.autofocus,\n        registry = _this$props3.registry,\n        onBlur = _this$props3.onBlur,\n        options = _this$props3.options;\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"list-inline\"\n    }, this.dateElementProps.map(function (elemProps, i) {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: i\n      }, /*#__PURE__*/React.createElement(DateElement, _extends({\n        rootId: id,\n        select: _this2.onChange\n      }, elemProps, {\n        disabled: disabled,\n        readonly: readonly,\n        registry: registry,\n        onBlur: onBlur,\n        autofocus: autofocus && i === 0\n      })));\n    }), (options.hideNowButton !== \"undefined\" ? !options.hideNowButton : true) && /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      className: \"btn btn-info btn-now\",\n      onClick: this.setNow\n    }, \"Now\")), (options.hideClearButton !== \"undefined\" ? !options.hideClearButton : true) && /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      className: \"btn btn-warning btn-clear\",\n      onClick: this.clear\n    }, \"Clear\")));\n  };\n\n  _createClass(AltDateWidget, [{\n    key: \"dateElementProps\",\n    get: function get() {\n      var _this$props4 = this.props,\n          time = _this$props4.time,\n          options = _this$props4.options;\n      var _this$state = this.state,\n          year = _this$state.year,\n          month = _this$state.month,\n          day = _this$state.day,\n          hour = _this$state.hour,\n          minute = _this$state.minute,\n          second = _this$state.second;\n      var data = [{\n        type: \"year\",\n        range: options.yearsRange,\n        value: year\n      }, {\n        type: \"month\",\n        range: [1, 12],\n        value: month\n      }, {\n        type: \"day\",\n        range: [1, 31],\n        value: day\n      }];\n\n      if (time) {\n        data.push({\n          type: \"hour\",\n          range: [0, 23],\n          value: hour\n        }, {\n          type: \"minute\",\n          range: [0, 59],\n          value: minute\n        }, {\n          type: \"second\",\n          range: [0, 59],\n          value: second\n        });\n      }\n\n      return data;\n    }\n  }]);\n\n  return AltDateWidget;\n}(Component);\n\nAltDateWidget.defaultProps = {\n  time: false,\n  disabled: false,\n  readonly: false,\n  autofocus: false,\n  options: {\n    yearsRange: [1900, /*#__PURE__*/new Date().getFullYear() + 2]\n  }\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  AltDateWidget.propTypes = {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    value: PropTypes.string,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func,\n    onBlur: PropTypes.func,\n    time: PropTypes.bool,\n    options: PropTypes.object\n  };\n}\n\nfunction AltDateTimeWidget(props) {\n  var AltDateWidget = props.registry.widgets.AltDateWidget;\n  return /*#__PURE__*/React.createElement(AltDateWidget, _extends({\n    time: true\n  }, props));\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  AltDateTimeWidget.propTypes = {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    value: PropTypes.string,\n    required: PropTypes.bool,\n    onChange: PropTypes.func,\n    options: PropTypes.object\n  };\n}\n\nAltDateTimeWidget.defaultProps = /*#__PURE__*/_extends({}, AltDateWidget.defaultProps, {\n  time: true\n});\n\nfunction BaseInput(props) {\n  // Note: since React 15.2.0 we can't forward unknown element attributes, so we\n  // exclude the \"options\" and \"schema\" ones here.\n  if (!props.id) {\n    console.log(\"No id for\", props);\n    throw new Error(\"no id for props \" + JSON.stringify(props));\n  }\n\n  var value = props.value,\n      readonly = props.readonly,\n      disabled = props.disabled,\n      autofocus = props.autofocus,\n      onBlur = props.onBlur,\n      onFocus = props.onFocus,\n      options = props.options,\n      schema = props.schema,\n      inputProps = _objectWithoutPropertiesLoose(props, [\"value\", \"readonly\", \"disabled\", \"autofocus\", \"onBlur\", \"onFocus\", \"options\", \"schema\", \"uiSchema\", \"formContext\", \"registry\", \"rawErrors\"]); // If options.inputType is set use that as the input type\n\n\n  if (options.inputType) {\n    inputProps.type = options.inputType;\n  } else if (!inputProps.type) {\n    // If the schema is of type number or integer, set the input type to number\n    if (schema.type === \"number\") {\n      inputProps.type = \"number\"; // Setting step to 'any' fixes a bug in Safari where decimals are not\n      // allowed in number inputs\n\n      inputProps.step = \"any\";\n    } else if (schema.type === \"integer\") {\n      inputProps.type = \"number\"; // Since this is integer, you always want to step up or down in multiples\n      // of 1\n\n      inputProps.step = \"1\";\n    } else {\n      inputProps.type = \"text\";\n    }\n  }\n\n  if (options.autocomplete) {\n    inputProps.autoComplete = options.autocomplete;\n  } // If multipleOf is defined, use this as the step value. This mainly improves\n  // the experience for keyboard users (who can use the up/down KB arrows).\n\n\n  if (schema.multipleOf) {\n    inputProps.step = schema.multipleOf;\n  }\n\n  if (typeof schema.minimum !== \"undefined\") {\n    inputProps.min = schema.minimum;\n  }\n\n  if (typeof schema.maximum !== \"undefined\") {\n    inputProps.max = schema.maximum;\n  }\n\n  var _onChange = function _onChange(_ref) {\n    var value = _ref.target.value;\n    return props.onChange(value === \"\" ? options.emptyValue : value);\n  };\n\n  return [/*#__PURE__*/React.createElement(\"input\", _extends({\n    key: inputProps.id,\n    className: \"form-control\",\n    readOnly: readonly,\n    disabled: disabled,\n    autoFocus: autofocus,\n    value: value == null ? \"\" : value\n  }, inputProps, {\n    list: schema.examples ? \"examples_\" + inputProps.id : null,\n    onChange: _onChange,\n    onBlur: onBlur && function (event) {\n      return onBlur(inputProps.id, event.target.value);\n    },\n    onFocus: onFocus && function (event) {\n      return onFocus(inputProps.id, event.target.value);\n    }\n  })), schema.examples ? /*#__PURE__*/React.createElement(\"datalist\", {\n    key: \"datalist_\" + inputProps.id,\n    id: \"examples_\" + inputProps.id\n  }, [].concat(new Set(schema.examples.concat(schema[\"default\"] ? [schema[\"default\"]] : []))).map(function (example) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: example,\n      value: example\n    });\n  })) : null];\n}\n\nBaseInput.defaultProps = {\n  required: false,\n  disabled: false,\n  readonly: false,\n  autofocus: false\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  BaseInput.propTypes = {\n    id: PropTypes.string.isRequired,\n    placeholder: PropTypes.string,\n    value: PropTypes.any,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func,\n    onBlur: PropTypes.func,\n    onFocus: PropTypes.func\n  };\n}\n\nfunction CheckboxWidget(props) {\n  var schema = props.schema,\n      id = props.id,\n      value = props.value,\n      disabled = props.disabled,\n      readonly = props.readonly,\n      label = props.label,\n      autofocus = props.autofocus,\n      onBlur = props.onBlur,\n      onFocus = props.onFocus,\n      _onChange = props.onChange,\n      DescriptionField = props.DescriptionField; // Because an unchecked checkbox will cause html5 validation to fail, only add\n  // the \"required\" attribute if the field value must be \"true\", due to the\n  // \"const\" or \"enum\" keywords\n\n  var required = schemaRequiresTrueValue(schema);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkbox \" + (disabled || readonly ? \"disabled\" : \"\")\n  }, schema.description && /*#__PURE__*/React.createElement(DescriptionField, {\n    description: schema.description\n  }), /*#__PURE__*/React.createElement(\"label\", null, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: id,\n    checked: typeof value === \"undefined\" ? false : value,\n    required: required,\n    disabled: disabled || readonly,\n    autoFocus: autofocus,\n    onChange: function onChange(event) {\n      return _onChange(event.target.checked);\n    },\n    onBlur: onBlur && function (event) {\n      return onBlur(id, event.target.checked);\n    },\n    onFocus: onFocus && function (event) {\n      return onFocus(id, event.target.checked);\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", null, label)));\n}\n\nCheckboxWidget.defaultProps = {\n  autofocus: false\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  CheckboxWidget.propTypes = {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    value: PropTypes.bool,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func\n  };\n}\n\nfunction selectValue(value, selected, all) {\n  var at = all.indexOf(value);\n  var updated = selected.slice(0, at).concat(value, selected.slice(at)); // As inserting values at predefined index positions doesn't work with empty\n  // arrays, we need to reorder the updated selection to match the initial order\n\n  return updated.sort(function (a, b) {\n    return all.indexOf(a) > all.indexOf(b);\n  });\n}\n\nfunction deselectValue(value, selected) {\n  return selected.filter(function (v) {\n    return v !== value;\n  });\n}\n\nfunction CheckboxesWidget(props) {\n  var id = props.id,\n      disabled = props.disabled,\n      options = props.options,\n      value = props.value,\n      autofocus = props.autofocus,\n      readonly = props.readonly,\n      _onChange = props.onChange;\n  var enumOptions = options.enumOptions,\n      enumDisabled = options.enumDisabled,\n      inline = options.inline;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkboxes\",\n    id: id\n  }, enumOptions.map(function (option, index) {\n    var checked = value.indexOf(option.value) !== -1;\n    var itemDisabled = enumDisabled && enumDisabled.indexOf(option.value) != -1;\n    var disabledCls = disabled || itemDisabled || readonly ? \"disabled\" : \"\";\n    var checkbox = /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      id: id + \"_\" + index,\n      checked: checked,\n      disabled: disabled || itemDisabled || readonly,\n      autoFocus: autofocus && index === 0,\n      onChange: function onChange(event) {\n        var all = enumOptions.map(function (_ref) {\n          var value = _ref.value;\n          return value;\n        });\n\n        if (event.target.checked) {\n          _onChange(selectValue(option.value, value, all));\n        } else {\n          _onChange(deselectValue(option.value, value));\n        }\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", null, option.label));\n    return inline ? /*#__PURE__*/React.createElement(\"label\", {\n      key: index,\n      className: \"checkbox-inline \" + disabledCls\n    }, checkbox) : /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"checkbox \" + disabledCls\n    }, /*#__PURE__*/React.createElement(\"label\", null, checkbox));\n  }));\n}\n\nCheckboxesWidget.defaultProps = {\n  autofocus: false,\n  options: {\n    inline: false\n  }\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  CheckboxesWidget.propTypes = {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    options: /*#__PURE__*/PropTypes.shape({\n      enumOptions: PropTypes.array,\n      inline: PropTypes.bool\n    }).isRequired,\n    value: PropTypes.any,\n    required: PropTypes.bool,\n    readonly: PropTypes.bool,\n    disabled: PropTypes.bool,\n    multiple: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func\n  };\n}\n\nfunction ColorWidget(props) {\n  var disabled = props.disabled,\n      readonly = props.readonly,\n      BaseInput = props.registry.widgets.BaseInput;\n  return /*#__PURE__*/React.createElement(BaseInput, _extends({\n    type: \"color\"\n  }, props, {\n    disabled: disabled || readonly\n  }));\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  ColorWidget.propTypes = {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    value: PropTypes.string,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func\n  };\n}\n\nfunction DateWidget(props) {\n  var _onChange = props.onChange,\n      BaseInput = props.registry.widgets.BaseInput;\n  return /*#__PURE__*/React.createElement(BaseInput, _extends({\n    type: \"date\"\n  }, props, {\n    onChange: function onChange(value) {\n      return _onChange(value || undefined);\n    }\n  }));\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  DateWidget.propTypes = {\n    value: PropTypes.string\n  };\n}\n\nfunction DateTimeWidget(props) {\n  var value = props.value,\n      _onChange = props.onChange,\n      BaseInput = props.registry.widgets.BaseInput;\n  return /*#__PURE__*/React.createElement(BaseInput, _extends({\n    type: \"datetime-local\"\n  }, props, {\n    value: utcToLocal(value),\n    onChange: function onChange(value) {\n      return _onChange(localToUTC(value));\n    }\n  }));\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  DateTimeWidget.propTypes = {\n    value: PropTypes.string\n  };\n}\n\nfunction EmailWidget(props) {\n  var BaseInput = props.registry.widgets.BaseInput;\n  return /*#__PURE__*/React.createElement(BaseInput, _extends({\n    type: \"email\"\n  }, props));\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  EmailWidget.propTypes = {\n    value: PropTypes.string\n  };\n}\n\nfunction addNameToDataURL(dataURL, name) {\n  return dataURL.replace(\";base64\", \";name=\" + encodeURIComponent(name) + \";base64\");\n}\n\nfunction processFile(file) {\n  var name = file.name,\n      size = file.size,\n      type = file.type;\n  return new Promise(function (resolve, reject) {\n    var reader = new window.FileReader();\n    reader.onerror = reject;\n\n    reader.onload = function (event) {\n      resolve({\n        dataURL: addNameToDataURL(event.target.result, name),\n        name: name,\n        size: size,\n        type: type\n      });\n    };\n\n    reader.readAsDataURL(file);\n  });\n}\n\nfunction processFiles(files) {\n  return Promise.all([].map.call(files, processFile));\n}\n\nfunction FilesInfo(props) {\n  var filesInfo = props.filesInfo;\n\n  if (filesInfo.length === 0) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"file-info\"\n  }, filesInfo.map(function (fileInfo, key) {\n    var name = fileInfo.name,\n        size = fileInfo.size,\n        type = fileInfo.type;\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: key\n    }, /*#__PURE__*/React.createElement(\"strong\", null, name), \" (\", type, \", \", size, \" bytes)\");\n  }));\n}\n\nfunction extractFileInfo(dataURLs) {\n  return dataURLs.filter(function (dataURL) {\n    return typeof dataURL !== \"undefined\";\n  }).map(function (dataURL) {\n    var _dataURItoBlob = dataURItoBlob(dataURL),\n        blob = _dataURItoBlob.blob,\n        name = _dataURItoBlob.name;\n\n    return {\n      name: name,\n      size: blob.size,\n      type: blob.type\n    };\n  });\n}\n\nvar FileWidget = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(FileWidget, _Component);\n\n  function FileWidget(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    _this.onChange = function (event) {\n      var _this$props = _this.props,\n          multiple = _this$props.multiple,\n          onChange = _this$props.onChange;\n      processFiles(event.target.files).then(function (filesInfo) {\n        var state = {\n          values: filesInfo.map(function (fileInfo) {\n            return fileInfo.dataURL;\n          }),\n          filesInfo: filesInfo\n        };\n\n        _this.setState(state, function () {\n          if (multiple) {\n            onChange(state.values);\n          } else {\n            onChange(state.values[0]);\n          }\n        });\n      });\n    };\n\n    var value = props.value;\n    var values = Array.isArray(value) ? value : [value];\n    _this.state = {\n      values: values,\n      filesInfo: extractFileInfo(values)\n    };\n    return _this;\n  }\n\n  var _proto = FileWidget.prototype;\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    return shouldRender(this, nextProps, nextState);\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props2 = this.props,\n        multiple = _this$props2.multiple,\n        id = _this$props2.id,\n        readonly = _this$props2.readonly,\n        disabled = _this$props2.disabled,\n        autofocus = _this$props2.autofocus,\n        options = _this$props2.options;\n    var filesInfo = this.state.filesInfo;\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"p\", null, /*#__PURE__*/React.createElement(\"input\", {\n      ref: function ref(_ref) {\n        return _this2.inputRef = _ref;\n      },\n      id: id,\n      type: \"file\",\n      disabled: readonly || disabled,\n      onChange: this.onChange,\n      defaultValue: \"\",\n      autoFocus: autofocus,\n      multiple: multiple,\n      accept: options.accept\n    })), /*#__PURE__*/React.createElement(FilesInfo, {\n      filesInfo: filesInfo\n    }));\n  };\n\n  return FileWidget;\n}(Component);\n\nFileWidget.defaultProps = {\n  autofocus: false\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  FileWidget.propTypes = {\n    multiple: PropTypes.bool,\n    value: /*#__PURE__*/PropTypes.oneOfType([PropTypes.string, /*#__PURE__*/PropTypes.arrayOf(PropTypes.string)]),\n    autofocus: PropTypes.bool\n  };\n}\n\nfunction HiddenWidget(_ref) {\n  var id = _ref.id,\n      value = _ref.value;\n  return /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    id: id,\n    value: typeof value === \"undefined\" ? \"\" : value\n  });\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  HiddenWidget.propTypes = {\n    id: PropTypes.string.isRequired,\n    value: /*#__PURE__*/PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.bool])\n  };\n}\n\nfunction PasswordWidget(props) {\n  var BaseInput = props.registry.widgets.BaseInput;\n  return /*#__PURE__*/React.createElement(BaseInput, _extends({\n    type: \"password\"\n  }, props));\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  PasswordWidget.propTypes = {\n    value: PropTypes.string\n  };\n}\n\nfunction RadioWidget(props) {\n  var options = props.options,\n      value = props.value,\n      required = props.required,\n      disabled = props.disabled,\n      readonly = props.readonly,\n      autofocus = props.autofocus,\n      onBlur = props.onBlur,\n      onFocus = props.onFocus,\n      _onChange = props.onChange,\n      id = props.id; // Generating a unique field name to identify this set of radio buttons\n\n  var name = Math.random().toString();\n  var enumOptions = options.enumOptions,\n      enumDisabled = options.enumDisabled,\n      inline = options.inline; // checked={checked} has been moved above name={name}, As mentioned in #349;\n  // this is a temporary fix for radio button rendering bug in React, facebook/react#7630.\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field-radio-group\",\n    id: id\n  }, enumOptions.map(function (option, i) {\n    var checked = option.value === value;\n    var itemDisabled = enumDisabled && enumDisabled.indexOf(option.value) != -1;\n    var disabledCls = disabled || itemDisabled || readonly ? \"disabled\" : \"\";\n    var radio = /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      checked: checked,\n      name: name,\n      required: required,\n      value: option.value,\n      disabled: disabled || itemDisabled || readonly,\n      autoFocus: autofocus && i === 0,\n      onChange: function onChange(_) {\n        return _onChange(option.value);\n      },\n      onBlur: onBlur && function (event) {\n        return onBlur(id, event.target.value);\n      },\n      onFocus: onFocus && function (event) {\n        return onFocus(id, event.target.value);\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", null, option.label));\n    return inline ? /*#__PURE__*/React.createElement(\"label\", {\n      key: i,\n      className: \"radio-inline \" + disabledCls\n    }, radio) : /*#__PURE__*/React.createElement(\"div\", {\n      key: i,\n      className: \"radio \" + disabledCls\n    }, /*#__PURE__*/React.createElement(\"label\", null, radio));\n  }));\n}\n\nRadioWidget.defaultProps = {\n  autofocus: false\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  RadioWidget.propTypes = {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    options: /*#__PURE__*/PropTypes.shape({\n      enumOptions: PropTypes.array,\n      inline: PropTypes.bool\n    }).isRequired,\n    value: PropTypes.any,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func\n  };\n}\n\nfunction RangeWidget(props) {\n  var schema = props.schema,\n      value = props.value,\n      BaseInput = props.registry.widgets.BaseInput;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field-range-wrapper\"\n  }, /*#__PURE__*/React.createElement(BaseInput, _extends({\n    type: \"range\"\n  }, props, rangeSpec(schema))), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"range-view\"\n  }, value));\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  RangeWidget.propTypes = {\n    value: /*#__PURE__*/PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n  };\n}\n\nvar nums = /*#__PURE__*/new Set([\"number\", \"integer\"]);\n/**\n * This is a silly limitation in the DOM where option change event values are\n * always retrieved as strings.\n */\n\nfunction processValue(schema, value) {\n  // \"enum\" is a reserved word, so only \"type\" and \"items\" can be destructured\n  var type = schema.type,\n      items = schema.items;\n\n  if (value === \"\") {\n    return undefined;\n  } else if (type === \"array\" && items && nums.has(items.type)) {\n    return value.map(asNumber);\n  } else if (type === \"boolean\") {\n    return value === \"true\";\n  } else if (type === \"number\") {\n    return asNumber(value);\n  } // If type is undefined, but an enum is present, try and infer the type from\n  // the enum values\n\n\n  if (schema[\"enum\"]) {\n    if (schema[\"enum\"].every(function (x) {\n      return guessType(x) === \"number\";\n    })) {\n      return asNumber(value);\n    } else if (schema[\"enum\"].every(function (x) {\n      return guessType(x) === \"boolean\";\n    })) {\n      return value === \"true\";\n    }\n  }\n\n  return value;\n}\n\nfunction getValue(event, multiple) {\n  if (multiple) {\n    return [].slice.call(event.target.options).filter(function (o) {\n      return o.selected;\n    }).map(function (o) {\n      return o.value;\n    });\n  } else {\n    return event.target.value;\n  }\n}\n\nfunction SelectWidget(props) {\n  var schema = props.schema,\n      id = props.id,\n      options = props.options,\n      value = props.value,\n      required = props.required,\n      disabled = props.disabled,\n      readonly = props.readonly,\n      multiple = props.multiple,\n      autofocus = props.autofocus,\n      _onChange = props.onChange,\n      onBlur = props.onBlur,\n      onFocus = props.onFocus,\n      placeholder = props.placeholder;\n  var enumOptions = options.enumOptions,\n      enumDisabled = options.enumDisabled;\n  var emptyValue = multiple ? [] : \"\";\n  return /*#__PURE__*/React.createElement(\"select\", {\n    id: id,\n    multiple: multiple,\n    className: \"form-control\",\n    value: typeof value === \"undefined\" ? emptyValue : value,\n    required: required,\n    disabled: disabled || readonly,\n    autoFocus: autofocus,\n    onBlur: onBlur && function (event) {\n      var newValue = getValue(event, multiple);\n      onBlur(id, processValue(schema, newValue));\n    },\n    onFocus: onFocus && function (event) {\n      var newValue = getValue(event, multiple);\n      onFocus(id, processValue(schema, newValue));\n    },\n    onChange: function onChange(event) {\n      var newValue = getValue(event, multiple);\n\n      _onChange(processValue(schema, newValue));\n    }\n  }, !multiple && schema[\"default\"] === undefined && /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\"\n  }, placeholder), enumOptions.map(function (_ref, i) {\n    var value = _ref.value,\n        label = _ref.label;\n    var disabled = enumDisabled && enumDisabled.indexOf(value) != -1;\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: i,\n      value: value,\n      disabled: disabled\n    }, label);\n  }));\n}\n\nSelectWidget.defaultProps = {\n  autofocus: false\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  SelectWidget.propTypes = {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    options: /*#__PURE__*/PropTypes.shape({\n      enumOptions: PropTypes.array\n    }).isRequired,\n    value: PropTypes.any,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    multiple: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func,\n    onBlur: PropTypes.func,\n    onFocus: PropTypes.func\n  };\n}\n\nfunction TextareaWidget(props) {\n  var id = props.id,\n      options = props.options,\n      placeholder = props.placeholder,\n      value = props.value,\n      required = props.required,\n      disabled = props.disabled,\n      readonly = props.readonly,\n      autofocus = props.autofocus,\n      onChange = props.onChange,\n      onBlur = props.onBlur,\n      onFocus = props.onFocus;\n\n  var _onChange = function _onChange(_ref) {\n    var value = _ref.target.value;\n    return onChange(value === \"\" ? options.emptyValue : value);\n  };\n\n  return /*#__PURE__*/React.createElement(\"textarea\", {\n    id: id,\n    className: \"form-control\",\n    value: value ? value : \"\",\n    placeholder: placeholder,\n    required: required,\n    disabled: disabled,\n    readOnly: readonly,\n    autoFocus: autofocus,\n    rows: options.rows,\n    onBlur: onBlur && function (event) {\n      return onBlur(id, event.target.value);\n    },\n    onFocus: onFocus && function (event) {\n      return onFocus(id, event.target.value);\n    },\n    onChange: _onChange\n  });\n}\n\nTextareaWidget.defaultProps = {\n  autofocus: false,\n  options: {}\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  TextareaWidget.propTypes = {\n    schema: PropTypes.object.isRequired,\n    id: PropTypes.string.isRequired,\n    placeholder: PropTypes.string,\n    options: /*#__PURE__*/PropTypes.shape({\n      rows: PropTypes.number\n    }),\n    value: PropTypes.string,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    onChange: PropTypes.func,\n    onBlur: PropTypes.func,\n    onFocus: PropTypes.func\n  };\n}\n\nfunction TextWidget(props) {\n  var BaseInput = props.registry.widgets.BaseInput;\n  return /*#__PURE__*/React.createElement(BaseInput, props);\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  TextWidget.propTypes = {\n    value: /*#__PURE__*/PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    id: PropTypes.string\n  };\n}\n\nfunction URLWidget(props) {\n  var BaseInput = props.registry.widgets.BaseInput;\n  return /*#__PURE__*/React.createElement(BaseInput, _extends({\n    type: \"url\"\n  }, props));\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  URLWidget.propTypes = {\n    value: PropTypes.string\n  };\n}\n\nfunction UpDownWidget(props) {\n  var BaseInput = props.registry.widgets.BaseInput;\n  return /*#__PURE__*/React.createElement(BaseInput, _extends({\n    type: \"number\"\n  }, props, rangeSpec(props.schema)));\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  UpDownWidget.propTypes = {\n    value: /*#__PURE__*/PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n  };\n}\n\nfunction SubmitButton(_ref) {\n  var uiSchema = _ref.uiSchema;\n\n  var _getSubmitButtonOptio = getSubmitButtonOptions(uiSchema),\n      submitText = _getSubmitButtonOptio.submitText,\n      norender = _getSubmitButtonOptio.norender,\n      submitButtonProps = _getSubmitButtonOptio.props;\n\n  return /*#__PURE__*/React.createElement(\"div\", null, !norender && /*#__PURE__*/React.createElement(\"button\", _extends({\n    type: \"submit\"\n  }, submitButtonProps, {\n    className: \"btn btn-info\"\n  }), submitText));\n}\n\nvar widgets = {\n  BaseInput: BaseInput,\n  PasswordWidget: PasswordWidget,\n  RadioWidget: RadioWidget,\n  UpDownWidget: UpDownWidget,\n  RangeWidget: RangeWidget,\n  SelectWidget: SelectWidget,\n  TextWidget: TextWidget,\n  DateWidget: DateWidget,\n  DateTimeWidget: DateTimeWidget,\n  AltDateWidget: AltDateWidget,\n  AltDateTimeWidget: AltDateTimeWidget,\n  EmailWidget: EmailWidget,\n  URLWidget: URLWidget,\n  TextareaWidget: TextareaWidget,\n  HiddenWidget: HiddenWidget,\n  ColorWidget: ColorWidget,\n  FileWidget: FileWidget,\n  CheckboxWidget: CheckboxWidget,\n  CheckboxesWidget: CheckboxesWidget,\n  SubmitButton: SubmitButton\n};\n\nfunction getDefaultRegistry() {\n  return {\n    fields: fields,\n    widgets: widgets,\n    definitions: {},\n    rootSchema: {},\n    formContext: {}\n  };\n}\n\nfunction ErrorList$1(props) {\n  var errors = props.errors;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel panel-danger errors\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panel-heading\"\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"panel-title\"\n  }, \"Errors\")), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"list-group\"\n  }, errors.map(function (error, i) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: i,\n      className: \"list-group-item text-danger\"\n    }, error.stack);\n  })));\n}\n\nvar Form = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Form, _Component);\n\n  function Form(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    _this.getUsedFormData = function (formData, fields) {\n      //for the case of a single input form\n      if (fields.length === 0 && typeof formData !== \"object\") {\n        return formData;\n      }\n\n      var data = _pick(formData, fields);\n\n      if (Array.isArray(formData)) {\n        return Object.keys(data).map(function (key) {\n          return data[key];\n        });\n      }\n\n      return data;\n    };\n\n    _this.getFieldNames = function (pathSchema, formData) {\n      var getAllPaths = function getAllPaths(_obj, acc, paths) {\n        if (acc === void 0) {\n          acc = [];\n        }\n\n        if (paths === void 0) {\n          paths = [\"\"];\n        }\n\n        Object.keys(_obj).forEach(function (key) {\n          if (typeof _obj[key] === \"object\") {\n            var newPaths = paths.map(function (path) {\n              return path + \".\" + key;\n            }); // If an object is marked with additionalProperties, all its keys are valid\n\n            if (_obj[key].__rjsf_additionalProperties && _obj[key].$name !== \"\") {\n              acc.push(_obj[key].$name);\n            } else {\n              getAllPaths(_obj[key], acc, newPaths);\n            }\n          } else if (key === \"$name\" && _obj[key] !== \"\") {\n            paths.forEach(function (path) {\n              path = path.replace(/^\\./, \"\");\n\n              var formValue = _get(formData, path); // adds path to fieldNames if it points to a value\n              // or an empty object/array\n\n\n              if (typeof formValue !== \"object\" || _isEmpty(formValue)) {\n                acc.push(path);\n              }\n            });\n          }\n        });\n        return acc;\n      };\n\n      return getAllPaths(pathSchema);\n    };\n\n    _this.onChange = function (formData, newErrorSchema) {\n      if (isObject(formData) || Array.isArray(formData)) {\n        var newState = _this.getStateFromProps(_this.props, formData);\n\n        formData = newState.formData;\n      }\n\n      var mustValidate = !_this.props.noValidate && _this.props.liveValidate;\n      var state = {\n        formData: formData\n      };\n      var newFormData = formData;\n\n      if (_this.props.omitExtraData === true && _this.props.liveOmit === true) {\n        var retrievedSchema = retrieveSchema(_this.state.schema, _this.state.schema, formData);\n        var pathSchema = toPathSchema(retrievedSchema, \"\", _this.state.schema, formData);\n\n        var fieldNames = _this.getFieldNames(pathSchema, formData);\n\n        newFormData = _this.getUsedFormData(formData, fieldNames);\n        state = {\n          formData: newFormData\n        };\n      }\n\n      if (mustValidate) {\n        var schemaValidation = _this.validate(newFormData);\n\n        var errors = schemaValidation.errors;\n        var errorSchema = schemaValidation.errorSchema;\n        var schemaValidationErrors = errors;\n        var schemaValidationErrorSchema = errorSchema;\n\n        if (_this.props.extraErrors) {\n          errorSchema = mergeObjects(errorSchema, _this.props.extraErrors, !!\"concat arrays\");\n          errors = toErrorList(errorSchema);\n        }\n\n        state = {\n          formData: newFormData,\n          errors: errors,\n          errorSchema: errorSchema,\n          schemaValidationErrors: schemaValidationErrors,\n          schemaValidationErrorSchema: schemaValidationErrorSchema\n        };\n      } else if (!_this.props.noValidate && newErrorSchema) {\n        var _errorSchema = _this.props.extraErrors ? mergeObjects(newErrorSchema, _this.props.extraErrors, !!\"concat arrays\") : newErrorSchema;\n\n        state = {\n          formData: newFormData,\n          errorSchema: _errorSchema,\n          errors: toErrorList(_errorSchema)\n        };\n      }\n\n      _this.setState(state, function () {\n        return _this.props.onChange && _this.props.onChange(_this.state);\n      });\n    };\n\n    _this.onBlur = function () {\n      if (_this.props.onBlur) {\n        var _this$props;\n\n        (_this$props = _this.props).onBlur.apply(_this$props, arguments);\n      }\n    };\n\n    _this.onFocus = function () {\n      if (_this.props.onFocus) {\n        var _this$props2;\n\n        (_this$props2 = _this.props).onFocus.apply(_this$props2, arguments);\n      }\n    };\n\n    _this.onSubmit = function (event) {\n      event.preventDefault();\n\n      if (event.target !== event.currentTarget) {\n        return;\n      }\n\n      event.persist();\n      var newFormData = _this.state.formData;\n\n      if (_this.props.omitExtraData === true) {\n        var retrievedSchema = retrieveSchema(_this.state.schema, _this.state.schema, newFormData);\n        var pathSchema = toPathSchema(retrievedSchema, \"\", _this.state.schema, newFormData);\n\n        var fieldNames = _this.getFieldNames(pathSchema, newFormData);\n\n        newFormData = _this.getUsedFormData(newFormData, fieldNames);\n      }\n\n      if (!_this.props.noValidate) {\n        var schemaValidation = _this.validate(newFormData);\n\n        var _errors = schemaValidation.errors;\n        var _errorSchema2 = schemaValidation.errorSchema;\n        var schemaValidationErrors = _errors;\n        var schemaValidationErrorSchema = _errorSchema2;\n\n        if (Object.keys(_errors).length > 0) {\n          if (_this.props.extraErrors) {\n            _errorSchema2 = mergeObjects(_errorSchema2, _this.props.extraErrors, !!\"concat arrays\");\n            _errors = toErrorList(_errorSchema2);\n          }\n\n          _this.setState({\n            errors: _errors,\n            errorSchema: _errorSchema2,\n            schemaValidationErrors: schemaValidationErrors,\n            schemaValidationErrorSchema: schemaValidationErrorSchema\n          }, function () {\n            if (_this.props.onError) {\n              _this.props.onError(_errors);\n            } else {\n              console.error(\"Form validation failed\", _errors);\n            }\n          });\n\n          return;\n        }\n      } // There are no errors generated through schema validation.\n      // Check for user provided errors and update state accordingly.\n\n\n      var errorSchema;\n      var errors;\n\n      if (_this.props.extraErrors) {\n        errorSchema = _this.props.extraErrors;\n        errors = toErrorList(errorSchema);\n      } else {\n        errorSchema = {};\n        errors = [];\n      }\n\n      _this.setState({\n        formData: newFormData,\n        errors: errors,\n        errorSchema: errorSchema,\n        schemaValidationErrors: [],\n        schemaValidationErrorSchema: {}\n      }, function () {\n        if (_this.props.onSubmit) {\n          _this.props.onSubmit(_extends({}, _this.state, {\n            formData: newFormData,\n            status: \"submitted\"\n          }), event);\n        }\n      });\n    };\n\n    _this.state = _this.getStateFromProps(props, props.formData);\n\n    if (_this.props.onChange && !deepEquals(_this.state.formData, _this.props.formData)) {\n      _this.props.onChange(_this.state);\n    }\n\n    _this.formElement = null;\n    return _this;\n  }\n\n  var _proto = Form.prototype;\n\n  _proto.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n    var nextState = this.getStateFromProps(nextProps, nextProps.formData);\n\n    if (!deepEquals(nextState.formData, nextProps.formData) && !deepEquals(nextState.formData, this.state.formData) && this.props.onChange) {\n      this.props.onChange(nextState);\n    }\n\n    this.setState(nextState);\n  };\n\n  _proto.getStateFromProps = function getStateFromProps(props, inputFormData) {\n    var state = this.state || {};\n    var schema = \"schema\" in props ? props.schema : this.props.schema;\n    var uiSchema = \"uiSchema\" in props ? props.uiSchema : this.props.uiSchema;\n    var edit = typeof inputFormData !== \"undefined\";\n    var liveValidate = \"liveValidate\" in props ? props.liveValidate : this.props.liveValidate;\n    var mustValidate = edit && !props.noValidate && liveValidate;\n    var rootSchema = schema;\n    var formData = getDefaultFormState(schema, inputFormData, rootSchema);\n    var retrievedSchema = retrieveSchema(schema, rootSchema, formData);\n    var customFormats = props.customFormats;\n    var additionalMetaSchemas = props.additionalMetaSchemas;\n\n    var getCurrentErrors = function getCurrentErrors() {\n      if (props.noValidate) {\n        return {\n          errors: [],\n          errorSchema: {}\n        };\n      } else if (!props.liveValidate) {\n        return {\n          errors: state.schemaValidationErrors || [],\n          errorSchema: state.schemaValidationErrorSchema || {}\n        };\n      }\n\n      return {\n        errors: state.errors || [],\n        errorSchema: state.errorSchema || {}\n      };\n    };\n\n    var errors, errorSchema, schemaValidationErrors, schemaValidationErrorSchema;\n\n    if (mustValidate) {\n      var schemaValidation = this.validate(formData, schema, additionalMetaSchemas, customFormats);\n      errors = schemaValidation.errors;\n      errorSchema = schemaValidation.errorSchema;\n      schemaValidationErrors = errors;\n      schemaValidationErrorSchema = errorSchema;\n    } else {\n      var currentErrors = getCurrentErrors();\n      errors = currentErrors.errors;\n      errorSchema = currentErrors.errorSchema;\n      schemaValidationErrors = state.schemaValidationErrors;\n      schemaValidationErrorSchema = state.schemaValidationErrorSchema;\n    }\n\n    if (props.extraErrors) {\n      errorSchema = mergeObjects(errorSchema, props.extraErrors, !!\"concat arrays\");\n      errors = toErrorList(errorSchema);\n    }\n\n    var idSchema = toIdSchema(retrievedSchema, uiSchema[\"ui:rootFieldId\"], rootSchema, formData, props.idPrefix, props.idSeparator);\n    var nextState = {\n      schema: schema,\n      uiSchema: uiSchema,\n      idSchema: idSchema,\n      formData: formData,\n      edit: edit,\n      errors: errors,\n      errorSchema: errorSchema,\n      additionalMetaSchemas: additionalMetaSchemas\n    };\n\n    if (schemaValidationErrors) {\n      nextState.schemaValidationErrors = schemaValidationErrors;\n      nextState.schemaValidationErrorSchema = schemaValidationErrorSchema;\n    }\n\n    return nextState;\n  };\n\n  _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {\n    return shouldRender(this, nextProps, nextState);\n  };\n\n  _proto.validate = function validate(formData, schema, additionalMetaSchemas, customFormats) {\n    if (schema === void 0) {\n      schema = this.props.schema;\n    }\n\n    if (additionalMetaSchemas === void 0) {\n      additionalMetaSchemas = this.props.additionalMetaSchemas;\n    }\n\n    if (customFormats === void 0) {\n      customFormats = this.props.customFormats;\n    }\n\n    var _this$props3 = this.props,\n        validate = _this$props3.validate,\n        transformErrors = _this$props3.transformErrors;\n\n    var _this$getRegistry = this.getRegistry(),\n        rootSchema = _this$getRegistry.rootSchema;\n\n    var resolvedSchema = retrieveSchema(schema, rootSchema, formData);\n    return validateFormData(formData, resolvedSchema, validate, transformErrors, additionalMetaSchemas, customFormats);\n  };\n\n  _proto.renderErrors = function renderErrors() {\n    var _this$state = this.state,\n        errors = _this$state.errors,\n        errorSchema = _this$state.errorSchema,\n        schema = _this$state.schema,\n        uiSchema = _this$state.uiSchema;\n    var _this$props4 = this.props,\n        ErrorList = _this$props4.ErrorList,\n        showErrorList = _this$props4.showErrorList,\n        formContext = _this$props4.formContext;\n\n    if (errors.length && showErrorList != false) {\n      return /*#__PURE__*/React.createElement(ErrorList, {\n        errors: errors,\n        errorSchema: errorSchema,\n        schema: schema,\n        uiSchema: uiSchema,\n        formContext: formContext\n      });\n    }\n\n    return null;\n  };\n\n  _proto.getRegistry = function getRegistry() {\n    // For BC, accept passed SchemaField and TitleField props and pass them to\n    // the \"fields\" registry one.\n    var _getDefaultRegistry = getDefaultRegistry(),\n        fields = _getDefaultRegistry.fields,\n        widgets = _getDefaultRegistry.widgets;\n\n    return {\n      fields: _extends({}, fields, this.props.fields),\n      widgets: _extends({}, widgets, this.props.widgets),\n      ArrayFieldTemplate: this.props.ArrayFieldTemplate,\n      ObjectFieldTemplate: this.props.ObjectFieldTemplate,\n      FieldTemplate: this.props.FieldTemplate,\n      definitions: this.props.schema.definitions || {},\n      rootSchema: this.props.schema,\n      formContext: this.props.formContext || {}\n    };\n  };\n\n  _proto.submit = function submit() {\n    if (this.formElement) {\n      this.formElement.dispatchEvent(new CustomEvent(\"submit\", {\n        cancelable: true\n      }));\n    }\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props5 = this.props,\n        children = _this$props5.children,\n        id = _this$props5.id,\n        idPrefix = _this$props5.idPrefix,\n        idSeparator = _this$props5.idSeparator,\n        className = _this$props5.className,\n        tagName = _this$props5.tagName,\n        name = _this$props5.name,\n        method = _this$props5.method,\n        target = _this$props5.target,\n        action = _this$props5.action,\n        deprecatedAutocomplete = _this$props5.autocomplete,\n        currentAutoComplete = _this$props5.autoComplete,\n        enctype = _this$props5.enctype,\n        acceptcharset = _this$props5.acceptcharset,\n        noHtml5Validate = _this$props5.noHtml5Validate,\n        disabled = _this$props5.disabled,\n        readonly = _this$props5.readonly,\n        formContext = _this$props5.formContext,\n        _internalFormWrapper = _this$props5._internalFormWrapper;\n    var _this$state2 = this.state,\n        schema = _this$state2.schema,\n        uiSchema = _this$state2.uiSchema,\n        formData = _this$state2.formData,\n        errorSchema = _this$state2.errorSchema,\n        idSchema = _this$state2.idSchema;\n    var registry = this.getRegistry();\n    var _SchemaField = registry.fields.SchemaField; // The `semantic-ui` and `material-ui` themes have `_internalFormWrapper`s that take an `as` prop that is the\n    // PropTypes.elementType to use for the inner tag so we'll need to pass `tagName` along if it is provided.\n    // NOTE, the `as` prop is native to `semantic-ui` and is emulated in the `material-ui` theme\n\n    var as = _internalFormWrapper ? tagName : undefined;\n    var FormTag = _internalFormWrapper || tagName || \"form\";\n    var SubmitButton = registry.widgets.SubmitButton;\n\n    if (deprecatedAutocomplete) {\n      console.warn(\"Using autocomplete property of Form is deprecated, use autoComplete instead.\");\n    }\n\n    var autoComplete = currentAutoComplete ? currentAutoComplete : deprecatedAutocomplete;\n    return /*#__PURE__*/React.createElement(FormTag, {\n      className: className ? className : \"rjsf\",\n      id: id,\n      name: name,\n      method: method,\n      target: target,\n      action: action,\n      autoComplete: autoComplete,\n      encType: enctype,\n      acceptCharset: acceptcharset,\n      noValidate: noHtml5Validate,\n      onSubmit: this.onSubmit,\n      as: as,\n      ref: function ref(form) {\n        _this2.formElement = form;\n      }\n    }, this.renderErrors(), /*#__PURE__*/React.createElement(_SchemaField, {\n      schema: schema,\n      uiSchema: uiSchema,\n      errorSchema: errorSchema,\n      idSchema: idSchema,\n      idPrefix: idPrefix,\n      idSeparator: idSeparator,\n      formContext: formContext,\n      formData: formData,\n      onChange: this.onChange,\n      onBlur: this.onBlur,\n      onFocus: this.onFocus,\n      registry: registry,\n      disabled: disabled,\n      readonly: readonly\n    }), children ? children : /*#__PURE__*/React.createElement(SubmitButton, {\n      uiSchema: uiSchema\n    }));\n  };\n\n  return Form;\n}(Component);\n\nForm.defaultProps = {\n  uiSchema: {},\n  noValidate: false,\n  liveValidate: false,\n  disabled: false,\n  readonly: false,\n  noHtml5Validate: false,\n  ErrorList: ErrorList$1,\n  omitExtraData: false\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  Form.propTypes = {\n    schema: PropTypes.object.isRequired,\n    uiSchema: PropTypes.object,\n    formData: PropTypes.any,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    widgets: /*#__PURE__*/PropTypes.objectOf( /*#__PURE__*/PropTypes.oneOfType([PropTypes.func, PropTypes.object])),\n    fields: /*#__PURE__*/PropTypes.objectOf(PropTypes.elementType),\n    ArrayFieldTemplate: PropTypes.elementType,\n    ObjectFieldTemplate: PropTypes.elementType,\n    FieldTemplate: PropTypes.elementType,\n    ErrorList: PropTypes.func,\n    onChange: PropTypes.func,\n    onError: PropTypes.func,\n    showErrorList: PropTypes.bool,\n    onSubmit: PropTypes.func,\n    id: PropTypes.string,\n    className: PropTypes.string,\n    tagName: PropTypes.elementType,\n    _internalFormWrapper: PropTypes.elementType,\n    name: PropTypes.string,\n    method: PropTypes.string,\n    target: PropTypes.string,\n    action: PropTypes.string,\n    autocomplete: PropTypes.string,\n    autoComplete: PropTypes.string,\n    enctype: PropTypes.string,\n    acceptcharset: PropTypes.string,\n    noValidate: PropTypes.bool,\n    noHtml5Validate: PropTypes.bool,\n    liveValidate: PropTypes.bool,\n    validate: PropTypes.func,\n    transformErrors: PropTypes.func,\n    formContext: PropTypes.object,\n    customFormats: PropTypes.object,\n    additionalMetaSchemas: /*#__PURE__*/PropTypes.arrayOf(PropTypes.object),\n    omitExtraData: PropTypes.bool,\n    extraErrors: PropTypes.object\n  };\n}\n\nfunction withTheme(themeProps) {\n  return forwardRef(function (_ref, ref) {\n    var fields = _ref.fields,\n        widgets = _ref.widgets,\n        directProps = _objectWithoutPropertiesLoose(_ref, [\"fields\", \"widgets\"]);\n\n    fields = _extends({}, themeProps.fields, fields);\n    widgets = _extends({}, themeProps.widgets, widgets);\n    return /*#__PURE__*/React.createElement(Form, _extends({}, themeProps, directProps, {\n      fields: fields,\n      widgets: widgets,\n      ref: ref\n    }));\n  });\n}\n\nwithTheme.propTypes = {\n  widgets: PropTypes.object,\n  fields: PropTypes.object\n};\n\nvar utils = /*#__PURE__*/_extends({}, _utils, {\n  getDefaultRegistry: getDefaultRegistry\n});\n\nexport default Form;\nexport { utils, withTheme };\n//# sourceMappingURL=core.esm.js.map\n","import { UiSchema } from '@rjsf/core'\nimport { JSONSchema7 } from 'json-schema'\n\nexport const writeHeaderOption = 'First line is the columns names.'\nexport const includeRowIdAndRowVersionOption =\n  'Include row metadata (Row Id and Row Version).'\nexport const csvOption = 'Comma Separated Values (CSV)'\nexport const tsvOption = 'Tab Separated Values (TSV)'\n\n// Step 1\nconst stepOneFormSchema: JSONSchema7 = {\n  type: 'object',\n  properties: {\n    'File Type': {\n      type: 'string',\n      oneOf: [\n        {\n          const: csvOption,\n          title: csvOption,\n        },\n        {\n          const: tsvOption,\n          title: tsvOption,\n        },\n      ],\n    },\n    Contents: {\n      type: 'array',\n      title: 'Contents',\n      items: {\n        type: 'string',\n        enum: [writeHeaderOption, includeRowIdAndRowVersionOption],\n      },\n      uniqueItems: true,\n    },\n  },\n}\n\nconst stepOneFormUISchema: UiSchema = {\n  'File Type': {\n    'ui:widget': 'radio',\n  },\n  Contents: {\n    'ui:widget': 'checkboxes',\n  },\n}\n\n// Step 2\nconst stepTwoFormSchema: JSONSchema7 = {\n  description:\n    'File is ready for download. Select the download button to download the file.',\n  type: 'object',\n}\n\nconst stepTwoFormUISchema: UiSchema = {}\n\nexport const formSchemaArray = [stepOneFormSchema, stepTwoFormSchema]\nexport const formSchemaUIArray = [stepOneFormUISchema, stepTwoFormUISchema]\n","import * as React from 'react'\nimport { Button } from '@mui/material'\nimport Form, { IChangeEvent } from '@rjsf/core'\nimport { SynapseClient } from '../utils'\nimport {\n  DownloadFromTableRequest,\n  DownloadFromTableResult,\n  SortItem,\n  QueryBundleRequest,\n} from '../utils/synapseTypes/'\n\nimport {\n  csvOption,\n  formSchemaArray,\n  formSchemaUIArray,\n  includeRowIdAndRowVersionOption,\n  writeHeaderOption,\n} from './ModalDownload.FormSchema'\nimport { parseEntityIdFromSqlStatement } from '../utils/functions/sqlFunctions'\nimport { SynapseContext } from '../utils/SynapseContext'\nimport { DialogBase } from './DialogBase'\n\nexport type ModalDownloadState = {\n  isLoading: boolean\n  step: number\n  data?: DownloadFromTableResult\n  formData: any\n}\n\nexport type ModalDownloadProps = {\n  onClose: (...args: any[]) => void\n  includeEntityEtag?: boolean\n  queryBundleRequest?: QueryBundleRequest // either the query bundle request needs to be provided, or getLastQueryRequest\n  getLastQueryRequest?: () => QueryBundleRequest\n  offset?: number\n  limit?: number\n  sort?: SortItem[]\n}\n\nexport default class ModalDownload extends React.Component<\n  ModalDownloadProps,\n  ModalDownloadState\n> {\n  static contextType = SynapseContext\n  declare context: NonNullable<React.ContextType<typeof SynapseContext>>\n\n  constructor(props: ModalDownloadProps) {\n    super(props)\n    this.state = {\n      isLoading: false,\n      step: 0,\n      formData: {\n        'File Type': csvOption,\n        Contents: [writeHeaderOption, includeRowIdAndRowVersionOption],\n      },\n    }\n  }\n\n  handleSubmit = (event: IChangeEvent) => {\n    if (this.state.step === 0) {\n      this.handleDownloadSetup(event)\n    } else {\n      this.onDownload()\n    }\n  }\n\n  handleDownloadSetup = (event: IChangeEvent) => {\n    this.setState({\n      isLoading: true,\n    })\n    const { formData } = event\n    const fileType = formData['File Type']\n    const contents = formData.Contents as string[]\n    const { queryBundleRequest, getLastQueryRequest } = this.props\n    const separator = fileType === csvOption ? ',' : '\\t'\n    const writeHeader = contents.includes(writeHeaderOption)\n    const includeRowIdAndRowVersion = contents.includes(\n      includeRowIdAndRowVersionOption,\n    )\n    const queryRequest = queryBundleRequest ?? getLastQueryRequest!()\n    const sql = queryRequest.query.sql\n    const downloadFromTableRequest: DownloadFromTableRequest = {\n      sql,\n      entityId: parseEntityIdFromSqlStatement(sql),\n      selectedFacets: queryRequest.query.selectedFacets,\n      concreteType:\n        'org.sagebionetworks.repo.model.table.DownloadFromTableRequest',\n      writeHeader,\n      includeRowIdAndRowVersion,\n      csvTableDescriptor: { separator },\n      additionalFilters: queryRequest.query.additionalFilters,\n    }\n    SynapseClient.getDownloadFromTableRequest(\n      downloadFromTableRequest,\n      this.context.accessToken,\n    )\n      .then(data => {\n        this.setState({\n          isLoading: false,\n          step: 1,\n          data,\n        })\n      })\n      .catch(err => {\n        console.log('Error getDownloadFromTableRequest: ', err)\n      })\n  }\n\n  onDownload = () => {\n    const { data } = this.state\n    // data will always be defined if calling this function\n    SynapseClient.getFileHandleByIdURL(\n      data!.resultsFileHandleId,\n      this.context.accessToken,\n    ).then(url => {\n      window.location.href = url\n      this.props.onClose()\n    })\n  }\n\n  handleChange = (event: IChangeEvent) => {\n    const { formData } = event\n    this.setState({\n      formData,\n    })\n  }\n\n  render() {\n    const spinnerStyle: React.CSSProperties = {\n      height: 50,\n      width: 50,\n      backgroundSize: 50,\n    }\n    return (\n      <DialogBase\n        open={true}\n        onCancel={this.props.onClose}\n        title=\"Download query results\"\n        content={\n          <>\n            <Form\n              id=\"modal-download-form\"\n              schema={formSchemaArray[this.state.step]}\n              uiSchema={formSchemaUIArray[this.state.step]}\n              onChange={this.handleChange}\n              formData={this.state.formData}\n              onSubmit={this.handleSubmit}\n            >\n              {this.state.isLoading && (\n                <div className=\"SRC-centerAndJustifyContent\">\n                  <div className=\"SRC-center-text\">\n                    <p> Creating the File </p>\n                    <div style={spinnerStyle} className=\"spinner\" />\n                    <p> Loading... </p>\n                  </div>\n                </div>\n              )}\n              <React.Fragment />\n            </Form>\n          </>\n        }\n        actions={\n          <>\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={this.props.onClose}\n            >\n              Cancel\n            </Button>\n            <Button\n              form=\"modal-download-form\"\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"primary\"\n            >\n              {this.state.step === 0 ? 'Next' : 'Download'}\n            </Button>\n          </>\n        }\n      />\n    )\n  }\n}\n","import * as React from 'react'\nimport { useCallback, useEffect, useMemo, useState } from 'react'\nimport {\n  isFacetAvailable,\n  hasResettableFilters as isFilteredUtil,\n  removeLockedColumnFromFacetData,\n} from '../utils/functions/queryUtils'\nimport {\n  useGetEntity,\n  useInfiniteQueryResultBundle,\n} from '../utils/hooks/SynapseAPI'\nimport {\n  AsynchronousJobStatus,\n  QueryBundleRequest,\n  QueryResultBundle,\n  Table,\n} from '../utils/synapseTypes'\nimport {\n  InfiniteQueryContextType,\n  LockedColumn,\n  QueryContextProvider,\n} from './QueryContext'\nimport useImmutableTableQuery from './useImmutableTableQuery'\n\nexport const QUERY_FILTERS_EXPANDED_CSS: string = 'isShowingFacetFilters'\nexport const QUERY_FILTERS_COLLAPSED_CSS: string = 'isHidingFacetFilters'\n\nexport type InfiniteQueryWrapperProps = {\n  children: React.ReactNode | React.ReactNode[]\n  initQueryRequest: QueryBundleRequest\n  componentIndex?: number //used for deep linking\n  shouldDeepLink?: boolean\n  onQueryChange?: (newQueryJson: string) => void\n  onQueryResultBundleChange?: (newQueryResultBundleJson: string) => void\n  lockedColumn?: LockedColumn\n}\n\n/**\n * Component that manages the state of a Synapse table query. Data can be accessed via QueryContext using\n * either `useQueryContext` or `QueryContextConsumer`.\n */\nexport function InfiniteQueryWrapper(props: InfiniteQueryWrapperProps) {\n  const {\n    initQueryRequest,\n    onQueryChange,\n    onQueryResultBundleChange,\n    lockedColumn,\n    componentIndex,\n    shouldDeepLink,\n  } = props\n  const [currentAsyncStatus, setCurrentAsyncStatus] = useState<\n    AsynchronousJobStatus<QueryBundleRequest, QueryResultBundle> | undefined\n  >(undefined)\n\n  const {\n    entityId,\n    versionNumber,\n    getInitQueryRequest,\n    getLastQueryRequest,\n    setQuery,\n    resetQuery,\n    removeQueryFilter,\n    removeValueFromQueryFilter,\n    removeSelectedFacet,\n    removeValueFromSelectedFacet,\n  } = useImmutableTableQuery({\n    initQueryRequest,\n    componentIndex,\n    shouldDeepLink,\n    onQueryChange,\n  })\n\n  const lastQueryRequest = useMemo(() => {\n    return getLastQueryRequest()\n  }, [getLastQueryRequest])\n\n  const {\n    data: infiniteData,\n    hasNextPage,\n    fetchPreviousPage,\n    fetchNextPage,\n    isFetchingNextPage,\n    isLoading: queryIsLoading,\n    error,\n    isPreviousData: newQueryIsFetching,\n  } = useInfiniteQueryResultBundle(\n    lastQueryRequest,\n    {\n      // We use `keepPreviousData` because we don't want to clear out the current data when the query is modified via the UI\n      keepPreviousData: true,\n    },\n    setCurrentAsyncStatus,\n  )\n\n  // Indicate if we're fetching data for the first time (queryIsLoading) or if we're fetching data for a brand-new query (newQueryIsFetching)\n  const isLoadingNewBundle = queryIsLoading || newQueryIsFetching\n\n  const { data: entity } = useGetEntity<Table>(entityId, versionNumber)\n\n  /**\n   * Since we're showing an infinite list of data, use custom pagination handling instead of pagination utils provided by\n   * useImmutableTableQuery\n   */\n  const [currentPage, setCurrentPage] = useState<number | 'ALL'>(0)\n\n  async function appendNextPageToResults(): Promise<void> {\n    if (!hasNextPage) {\n      throw new Error(\n        'Called appendNextPageToResults when there is no next page',\n      )\n    }\n    await fetchNextPage()\n    setCurrentPage('ALL')\n  }\n\n  async function goToNextPage(): Promise<void> {\n    if (!hasNextPage) {\n      throw new Error('Called goToNextPage when there is no next page')\n    }\n    if (currentPage === 'ALL') {\n      throw new Error('Cannot go to next page when all pages are displayed')\n    }\n    await fetchNextPage()\n    setCurrentPage(currentPage + 1)\n  }\n\n  const hasPreviousPage = currentPage !== 'ALL' && currentPage > 0\n\n  async function goToPreviousPage(): Promise<void> {\n    if (currentPage === 'ALL') {\n      throw new Error('Cannot go to previous page when all pages are displayed')\n    }\n    if (!hasPreviousPage) {\n      throw new Error('Called goToNextPage when there is no next page')\n    }\n\n    await fetchPreviousPage()\n    setCurrentPage(currentPage - 1)\n  }\n\n  const data: QueryResultBundle | undefined = useMemo(() => {\n    if (\n      infiniteData == null ||\n      infiniteData.pages.length === 0 ||\n      infiniteData.pages[0].responseBody == null\n    ) {\n      return undefined\n    }\n\n    if (currentPage === 'ALL') {\n      // Modify the first page so the result is the concatenation of all the fetched rows.\n      return {\n        ...infiniteData?.pages[0].responseBody,\n        queryResult: {\n          ...infiniteData?.pages[0].responseBody?.queryResult,\n          queryResults: {\n            ...infiniteData?.pages[0].responseBody?.queryResult?.queryResults,\n            rows:\n              infiniteData.pages.flatMap(\n                page => page.responseBody!.queryResult?.queryResults.rows,\n              ) ?? [],\n          },\n        },\n      } as QueryResultBundle\n    }\n\n    return infiniteData?.pages[currentPage].responseBody\n  }, [currentPage, infiniteData])\n\n  useEffect(() => {\n    if (data && onQueryResultBundleChange) {\n      onQueryResultBundleChange(JSON.stringify(data))\n    }\n  }, [data, onQueryResultBundleChange])\n\n  const isFacetsAvailable = data\n    ? isFacetAvailable(data.facets, data.selectColumns)\n    : true\n\n  /**\n   * Remove a particular facet name (e.g. study) and all possible values based on the parameter specified in the url\n   * this is to remove the facet from the charts, search and filter.\n   * @return data: QueryResultBundle\n   */\n  const dataWithLockedColumnFacetRemoved = useMemo(() => {\n    return removeLockedColumnFromFacetData(data, lockedColumn)\n  }, [data, lockedColumn])\n\n  const hasResettableFilters = useMemo(() => {\n    const request = getLastQueryRequest()\n    return isFilteredUtil(request.query, lockedColumn)\n  }, [getLastQueryRequest, lockedColumn])\n\n  const getColumnModel = useCallback(\n    (columnName: string) => {\n      return data?.columnModels?.find(cm => cm.name === columnName) ?? null\n    },\n    [data?.columnModels],\n  )\n\n  const context: InfiniteQueryContextType = {\n    data: dataWithLockedColumnFacetRemoved,\n    isLoadingNewPage: isFetchingNextPage,\n    hasNextPage: !!hasNextPage,\n    hasPreviousPage: hasPreviousPage,\n    isLoadingNewBundle: isLoadingNewBundle,\n    getLastQueryRequest,\n    getInitQueryRequest,\n    error: error,\n    entity,\n    executeQueryRequest: setQuery,\n    isFacetsAvailable,\n    asyncJobStatus: currentAsyncStatus,\n    appendNextPageToResults: appendNextPageToResults,\n    goToNextPage,\n    goToPreviousPage,\n    hasResettableFilters,\n    resetQuery,\n    removeQueryFilter,\n    removeValueFromQueryFilter,\n    removeSelectedFacet,\n    removeValueFromSelectedFacet,\n    lockedColumn,\n    getColumnModel,\n  }\n  /**\n   * Render the children without any formatting\n   */\n  const { children } = props\n  const loadingCursorClass =\n    isLoadingNewBundle || isFetchingNextPage ? 'SRC-logo-cursor' : ''\n  return (\n    <QueryContextProvider queryContext={context}>\n      <div\n        className={`SRC-wrapper ${loadingCursorClass} ${\n          isFacetsAvailable ? 'has-facets' : ''\n        }`}\n      >\n        {children}\n      </div>\n    </QueryContextProvider>\n  )\n}\n","import React from 'react'\nimport { ErrorBanner } from './error/ErrorBanner'\nimport { useQueryContext } from './QueryContext'\n\n/**\n * Error banner that automatically pulls the error from QueryContext.\n */\nexport const QueryWrapperErrorBanner = () => {\n  const { error } = useQueryContext()\n  return <ErrorBanner error={error} />\n}\n","import { Collapse } from '@mui/material'\nimport React from 'react'\nimport { CSSTransition } from 'react-transition-group'\nimport { ColumnModel, ColumnTypeEnum } from '../utils/synapseTypes'\nimport {\n  ColumnMultiValueFunction,\n  ColumnMultiValueFunctionQueryFilter,\n  ColumnSingleValueFilterOperator,\n  ColumnSingleValueQueryFilter,\n  isColumnMultiValueFunctionQueryFilter,\n  isColumnSingleValueQueryFilter,\n  QueryFilter,\n} from '../utils/synapseTypes/Table/QueryFilter'\nimport { QueryVisualizationContextType } from './QueryVisualizationWrapper'\nimport {\n  QUERY_FILTERS_COLLAPSED_CSS,\n  QUERY_FILTERS_EXPANDED_CSS,\n} from './QueryWrapper'\nimport { LockedColumn, QueryContextType } from './QueryContext'\nimport IconSvg from './IconSvg'\n\ntype SearchState = {\n  show: boolean\n  /* \n    When the component is revealed in queryplotnav we want to focus on the input field and reveal the dropdown\n    there is an issue where the method handleClickOutsideForm will override the state from componentDidUpdate\n    so we track when componentDidUpdate just fired so that `show` is not overriden on the click event which\n    triggers componentDidUpdate \n  */\n  didUpdateRanLast: boolean\n  searchText: string\n  columnName: string\n}\n\nexport type SearchableColumnsV2 = string[]\n\nexport type SearchV2Props = {\n  queryContext: QueryContextType\n  queryVisualizationContext: QueryVisualizationContextType\n  isQueryWrapperMenuChild?: boolean\n  defaultColumn?: string\n  searchable?: SearchableColumnsV2\n  lockedColumn?: LockedColumn\n  fullTextSearchHelpURL?: string\n}\n\ntype InternalSearchProps = SearchV2Props\n\nclass Search extends React.Component<InternalSearchProps, SearchState> {\n  public searchFormRef: React.RefObject<HTMLFormElement>\n  public radioFormRef: React.RefObject<HTMLFormElement>\n\n  constructor(props: InternalSearchProps) {\n    super(props)\n    this.state = {\n      show: false,\n      didUpdateRanLast: false,\n      searchText: '',\n      columnName: this.props.defaultColumn ?? '',\n    }\n    this.searchFormRef = React.createRef()\n    this.radioFormRef = React.createRef()\n  }\n\n  componentDidMount() {\n    // @ts-ignore\n    document.addEventListener('click', this.handleClickOutsideForm)\n  }\n\n  componentDidUpdate(prevProps: InternalSearchProps) {\n    if (\n      !prevProps.queryVisualizationContext?.topLevelControlsState\n        .showSearchBar &&\n      this.props.queryVisualizationContext?.topLevelControlsState.showSearchBar\n    ) {\n      this.setState({\n        show: true,\n        didUpdateRanLast: true,\n      })\n      this.searchFormRef?.current?.querySelector('input')?.focus()\n    }\n  }\n\n  componentWillUnmount() {\n    // @ts-ignore\n    document.removeEventListener('click', this.handleClickOutsideForm)\n  }\n\n  handleClickOutsideForm = (event: React.SyntheticEvent) => {\n    if (\n      // @ts-ignore\n      !this.searchFormRef.current?.contains(event?.target) &&\n      // @ts-ignore\n      !this.radioFormRef.current?.contains(event?.target)\n    ) {\n      if (this.state.didUpdateRanLast) {\n        this.setState({\n          didUpdateRanLast: false,\n        })\n      } else {\n        this.setState({\n          show: false,\n        })\n      }\n    }\n  }\n\n  public search = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    // form completion by default causes the page to reload, so we prevent that\n    event.preventDefault()\n    const { searchText } = this.state\n    let { columnName } = this.state\n    const { searchable, lockedColumn } = this.props\n    if (columnName === '') {\n      if (searchable) {\n        // If searchable column names are defined in the config, grab the first one (that is not locked)\n        columnName = searchable.filter(\n          colName => colName !== lockedColumn?.columnName,\n        )[0]\n      } else {\n        // Otherwise, get the first column model that can be searched.\n        // And for study details page: if lockedColumn is defined, remove it from the search\n        const searchableColumnModels =\n          this.props.queryContext?.data?.columnModels\n            ?.filter(el => el.name !== lockedColumn?.columnName)\n            .filter(el => this.isSupportedColumn(el))\n        columnName = searchableColumnModels?.[0].name ?? ''\n      }\n    }\n    this.setState({\n      show: false,\n    })\n    const { executeQueryRequest, getLastQueryRequest } = this.props.queryContext\n\n    const lastQueryRequestDeepClone = getLastQueryRequest()\n\n    const { additionalFilters = [] } = lastQueryRequestDeepClone.query\n\n    const indexOfColumn = additionalFilters.findIndex((el: QueryFilter) => {\n      if (\n        isColumnSingleValueQueryFilter(el) ||\n        (isColumnMultiValueFunctionQueryFilter(el) &&\n          el.columnName === columnName)\n      ) {\n        return true\n      }\n      return false\n    })\n    if (indexOfColumn === -1) {\n      // get the column model to figure out what kind of filter we should apply.\n      const columnModel: ColumnModel | undefined =\n        this.props.queryContext?.data?.columnModels?.filter(\n          el => el.name === columnName,\n        )[0]\n      if (columnModel?.columnType.endsWith('_LIST')) {\n        const columnMultiValueQueryFilter: ColumnMultiValueFunctionQueryFilter =\n          {\n            columnName,\n            function: ColumnMultiValueFunction.HAS_LIKE,\n            values: [`%${searchText}%`],\n            concreteType:\n              'org.sagebionetworks.repo.model.table.ColumnMultiValueFunctionQueryFilter',\n          }\n        additionalFilters.push(columnMultiValueQueryFilter)\n      } else {\n        const columnSingleValueQueryFilter: ColumnSingleValueQueryFilter = {\n          columnName,\n          operator: ColumnSingleValueFilterOperator.LIKE,\n          values: [`%${searchText}%`],\n          concreteType:\n            'org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter',\n        }\n        additionalFilters.push(columnSingleValueQueryFilter)\n      }\n    } else {\n      ;(\n        additionalFilters[indexOfColumn] as\n          | ColumnSingleValueQueryFilter\n          | ColumnMultiValueFunctionQueryFilter\n      ).values.push(`%${searchText}%`)\n    }\n    lastQueryRequestDeepClone.query.additionalFilters = additionalFilters\n    executeQueryRequest(lastQueryRequestDeepClone)\n  }\n\n  public handleChange = (event: React.FormEvent<HTMLInputElement>) => {\n    this.setState({\n      searchText: event.currentTarget.value,\n    })\n  }\n\n  public isSupportedColumn = (columnModel?: ColumnModel) => {\n    switch (columnModel?.columnType) {\n      case ColumnTypeEnum.FILEHANDLEID:\n      case ColumnTypeEnum.ENTITYID:\n      case ColumnTypeEnum.DATE:\n      case ColumnTypeEnum.DATE_LIST:\n      case ColumnTypeEnum.USERID:\n        return false\n      default:\n        return true\n    }\n  }\n\n  public isSupportedColumnAndInProps = (columnModel?: ColumnModel) => {\n    if (this.isSupportedColumn(columnModel)) {\n      // return true if the searchable array contains this column name\n      const { searchable } = this.props\n      return searchable?.some(e => e === columnModel?.name)\n    }\n    return false\n  }\n\n  render() {\n    const {\n      searchable,\n      lockedColumn,\n      queryContext: { data },\n      queryVisualizationContext: {\n        topLevelControlsState,\n        getColumnDisplayName,\n      },\n    } = this.props\n    const { searchText, show, columnName } = this.state\n    let searchColumns: string[] = []\n\n    // searchable specifies the order of the columns to search\n    if (searchable) {\n      searchColumns = searchable\n        .map(el => data?.columnModels?.find(model => model.name === el))\n        .filter(this.isSupportedColumnAndInProps)\n        .map(el => el!.name)\n    } else if (data?.columnModels) {\n      searchColumns = data.columnModels\n        ?.filter(this.isSupportedColumn)\n        .map(el => el.name)\n    }\n\n    // For study details page: if lockedColumn is defined, remove it from the radio dropdown\n    if (searchColumns.length && lockedColumn?.columnName) {\n      searchColumns = searchColumns.filter(\n        el => el !== lockedColumn?.columnName,\n      )\n    }\n    const showFacetFilter = topLevelControlsState?.showFacetFilter\n    return (\n      <div\n        className={`QueryWrapperSearchInput ${\n          showFacetFilter\n            ? QUERY_FILTERS_EXPANDED_CSS\n            : QUERY_FILTERS_COLLAPSED_CSS\n        }`}\n      >\n        <Collapse in={topLevelControlsState?.showSearchBar}>\n          <form\n            className=\"QueryWrapperSearchInput__searchbar\"\n            onSubmit={this.search}\n            onClick={() => {\n              this.setState({ show: true })\n            }}\n            ref={this.searchFormRef}\n          >\n            <span className=\"QueryWrapperSearchInput__searchbar__searchicon\">\n              <IconSvg icon=\"search\" />\n            </span>\n            <input\n              onChange={this.handleChange}\n              onClick={() => {\n                this.setState({\n                  show: true,\n                })\n              }}\n              placeholder=\"Enter Search Terms\"\n              value={searchText}\n              type=\"text\"\n            />\n            {this.state.searchText.length > 0 && (\n              <button\n                className=\"QueryWrapperSearchInput__searchbar__clearbutton\"\n                type=\"button\"\n                onClick={() => {\n                  this.setState({\n                    searchText: '',\n                  })\n                }}\n              >\n                <IconSvg icon=\"close\" />\n              </button>\n            )}\n          </form>\n        </Collapse>\n        <div className=\"QueryWrapperSearchInput__dropdown_pos\">\n          <CSSTransition\n            in={show}\n            classNames=\"QueryWrapperSearchInput__animate_dropdown\"\n            timeout={{ enter: 0, exit: 300 }}\n          >\n            <form\n              ref={this.radioFormRef}\n              className=\"QueryWrapperSearchInput__column-select QueryWrapperSearchInput__animate_height\"\n            >\n              <p className=\"deemphasized\">\n                <i> Search In Field: </i>\n              </p>\n              {searchColumns.map((name, index) => {\n                const displayName = getColumnDisplayName(name)\n                const isSelected =\n                  (columnName === '' && index === 0) || columnName === name\n                return (\n                  <div className=\"radio\" key={`search-field-${name}-${index}`}>\n                    <label>\n                      <span>\n                        <input\n                          id={name}\n                          type=\"radio\"\n                          value={name}\n                          checked={isSelected}\n                          onClick={() => {\n                            this.searchFormRef?.current\n                              ?.querySelector('input')\n                              ?.focus()\n                            this.setState({\n                              columnName: name,\n                            })\n                          }}\n                        />\n                        <span>{displayName}</span>\n                      </span>\n                    </label>\n                  </div>\n                )\n              })}\n            </form>\n          </CSSTransition>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Search\n","import { SearchTwoTone } from '@mui/icons-material'\n\nimport { Collapse } from '@mui/material'\nimport React, { useEffect, useRef, useState } from 'react'\nimport { HelpPopover } from './HelpPopover'\nimport { useQueryVisualizationContext } from './QueryVisualizationWrapper'\nimport {\n  QUERY_FILTERS_COLLAPSED_CSS,\n  QUERY_FILTERS_EXPANDED_CSS,\n} from './QueryWrapper'\nimport { useQueryContext } from './QueryContext'\n\nexport type SqlEditorProps = {\n  helpMessage?: string\n  helpUrl?: string\n}\n\nconst helpMessageCopy =\n  'The data within tables and views can be retrieved by using a SQL-like query language either from the web interface or from the programmatic clients.'\nconst helpLink =\n  'https://help.synapse.org/docs/Querying-Tables,-Views,-and-Datasets.2667642897.html#QueryingTables,Views,andDatasets-UsingAdvancedSearchQueries'\n\nexport const SqlEditor: React.FunctionComponent<SqlEditorProps> = ({\n  helpMessage = helpMessageCopy,\n  helpUrl = helpLink,\n}: SqlEditorProps) => {\n  const { executeQueryRequest, getLastQueryRequest } = useQueryContext()\n  const {\n    topLevelControlsState: { showSqlEditor, showFacetFilter },\n  } = useQueryVisualizationContext()\n\n  const [sql, setSql] = useState('')\n  const inputRef = useRef<HTMLInputElement>(null)\n  useEffect(() => {\n    if (showSqlEditor) {\n      const defaultSql = getLastQueryRequest().query.sql\n\n      setSql(defaultSql)\n      inputRef.current?.focus()\n    }\n  }, [showSqlEditor, getLastQueryRequest])\n\n  const search = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault()\n    const lastQueryRequestDeepClone = getLastQueryRequest()\n    lastQueryRequestDeepClone.query.sql = sql\n    lastQueryRequestDeepClone.query.offset = 0\n    lastQueryRequestDeepClone.query.additionalFilters = []\n    lastQueryRequestDeepClone.query.selectedFacets = []\n    executeQueryRequest(lastQueryRequestDeepClone)\n  }\n\n  const handleChange = (event: React.FormEvent<HTMLInputElement>) => {\n    inputRef.current?.setCustomValidity('')\n    setSql(event.currentTarget.value)\n  }\n\n  return (\n    <div\n      className={`QueryWrapperSqlEditorInput ${\n        showFacetFilter\n          ? QUERY_FILTERS_EXPANDED_CSS\n          : QUERY_FILTERS_COLLAPSED_CSS\n      }`}\n    >\n      <Collapse in={showSqlEditor} timeout={{ enter: 300, exit: 300 }}>\n        <div className=\"QueryWrapperSqlEditorInput__helppopoverwrapper\">\n          <form\n            className=\"QueryWrapperSqlEditorInput__searchbar\"\n            onSubmit={search}\n          >\n            <SearchTwoTone className=\"QueryWrapperSqlEditorInput__searchbar__searchicon\" />\n            <input\n              ref={inputRef}\n              onChange={handleChange}\n              placeholder=\"Enter Query\"\n              value={sql}\n              type=\"text\"\n            />\n          </form>\n          <div className=\"QueryWrapperSqlEditorInput__helppopover\">\n            <HelpPopover\n              markdownText={helpMessage}\n              helpUrl={helpUrl}\n              placement=\"right\"\n            />\n          </div>\n        </div>\n      </Collapse>\n    </div>\n  )\n}\n\nexport default SqlEditor\n","import React from 'react'\nimport { ConfirmationDialog } from '../../ConfirmationDialog'\nimport { Link, Typography } from '@mui/material'\nimport { SRC_SIGN_IN_CLASS } from '../../../utils/SynapseConstants'\n\nexport type DownloadLoginModalProps = {\n  showModal?: boolean\n  onHide: () => void\n}\n\nexport const CONFIRM_BUTTON_TEXT = 'Sign in'\n\nconst content = (\n  <>\n    <Typography variant=\"smallText1\" marginBottom=\"10px\">\n      Anyone can browse public content on the Synapse website, but in order to\n      download and create content you will need to register for an account using\n      an email address.\n    </Typography>\n    <Typography variant=\"smallText1\">\n      To find out more see&nbsp;\n      <Link\n        href=\"https://help.synapse.org/docs/Managing-your-account.2055405596.html\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        User Accounts\n      </Link>\n      <span> and </span>\n      <Link\n        href=\"https://help.synapse.org/docs/Synapse-Governance.2004255211.html\"\n        rel=\"noopener noreferrer\"\n        target=\"_blank\"\n      >\n        Governance Overview\n      </Link>\n      .\n    </Typography>\n  </>\n)\n\nexport const DownloadLoginModal: React.FunctionComponent<\n  DownloadLoginModalProps\n> = props => {\n  return (\n    <ConfirmationDialog\n      open={true}\n      title=\"Sign In Required\"\n      content={content}\n      onCancel={() => props.onHide()}\n      onConfirm={() => props.onHide()}\n      confirmButtonText={CONFIRM_BUTTON_TEXT}\n      confirmButtonClassName={SRC_SIGN_IN_CLASS}\n    />\n  )\n}\n","import { Box, Link, Tab, Tabs, Typography } from '@mui/material'\nimport React, { useState } from 'react'\nimport { ConfirmationDialog } from './ConfirmationDialog'\n\nexport enum ProgrammaticOptionsTabs {\n  COMMAND_LINE = 'Command Line',\n  R = 'R',\n  PYTHON = 'Python',\n}\n\nexport type ProgrammaticInstructionsModalProps = {\n  show: boolean\n  title: string\n  onClose: () => void\n  pythonNotes?: React.ReactElement\n  pythonCode?: string\n  rNotes?: React.ReactElement\n  rCode?: string\n  cliNotes?: React.ReactElement\n  cliCode?: string\n  helpMarkdown?: string\n  helpUrl?: string\n}\n\n/**\n * Modal used to show programmatic instructions\n * @param props\n * @returns\n */\n\nexport const ProgrammaticInstructionsModal = ({\n  show,\n  title,\n  onClose,\n  pythonNotes,\n  pythonCode,\n  rNotes,\n  rCode,\n  cliNotes,\n  cliCode,\n  helpMarkdown,\n  helpUrl,\n}: ProgrammaticInstructionsModalProps) => {\n  let defaultTab\n  if (cliCode) {\n    defaultTab = ProgrammaticOptionsTabs.COMMAND_LINE\n  } else if (pythonCode) {\n    defaultTab = ProgrammaticOptionsTabs.PYTHON\n  } else {\n    defaultTab = ProgrammaticOptionsTabs.R\n  }\n  const [currentTab, setCurrentTab] =\n    useState<ProgrammaticOptionsTabs>(defaultTab)\n\n  const installationInstructions = (\n    <Typography variant=\"body1\">\n      Installation instructions are available at our{' '}\n      <Link\n        href={\n          'https://help.synapse.org/docs/Installing-Synapse-API-Clients.1985249668.html'\n        }\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        Synapse API Documentation Site\n      </Link>\n      .\n    </Typography>\n  )\n\n  const dialogContent = (\n    <>\n      <Box\n        sx={{\n          borderBottom: 1,\n          borderColor: 'divider',\n          marginBottom: 4,\n        }}\n      >\n        <Tabs\n          value={currentTab}\n          onChange={(\n            event: React.SyntheticEvent,\n            newValue: ProgrammaticOptionsTabs,\n          ) => {\n            event.stopPropagation()\n            setCurrentTab(newValue)\n          }}\n          textColor=\"secondary\"\n          indicatorColor=\"secondary\"\n        >\n          {cliCode && (\n            <Tab\n              value={ProgrammaticOptionsTabs.COMMAND_LINE}\n              label={ProgrammaticOptionsTabs.COMMAND_LINE}\n            />\n          )}\n          {rCode && (\n            <Tab\n              value={ProgrammaticOptionsTabs.R}\n              label={ProgrammaticOptionsTabs.R}\n            />\n          )}\n          {pythonCode && (\n            <Tab\n              value={ProgrammaticOptionsTabs.PYTHON}\n              label={ProgrammaticOptionsTabs.PYTHON}\n            />\n          )}\n        </Tabs>\n      </Box>\n      <Box sx={{ '& > p': { marginBottom: 3 } }}>\n        {currentTab === ProgrammaticOptionsTabs.COMMAND_LINE && (\n          <>\n            <Typography variant=\"body1\">{cliNotes}</Typography>\n            {installationInstructions}\n            <pre> {cliCode} </pre>\n          </>\n        )}\n        {currentTab === ProgrammaticOptionsTabs.R && (\n          <>\n            <Typography variant=\"body1\">{rNotes}</Typography>\n            {installationInstructions}\n            <pre>{rCode}</pre>\n          </>\n        )}\n        {currentTab === ProgrammaticOptionsTabs.PYTHON && (\n          <>\n            <Typography variant=\"body1\">{pythonNotes}</Typography>\n            {installationInstructions}\n            <pre>{pythonCode}</pre>\n          </>\n        )}\n      </Box>\n    </>\n  )\n\n  return (\n    <ConfirmationDialog\n      open={show}\n      title={title}\n      onCancel={onClose}\n      onConfirm={onClose}\n      maxWidth=\"md\"\n      helpMarkdown={helpMarkdown}\n      helpUrl={helpUrl}\n      content={dialogContent}\n    />\n  )\n}\n\nexport default ProgrammaticInstructionsModal\n","import React, { useEffect, useMemo, useState } from 'react'\nimport { Link } from '@mui/material'\nimport { QueryBundleRequest } from '../../../utils/synapseTypes'\nimport { ProgrammaticInstructionsModal } from '../../ProgrammaticInstructionsModal'\nimport { useGetQueryResultBundleWithAsyncStatus } from '../../../utils/hooks/SynapseAPI'\nimport { SynapseConstants } from '../../../utils'\n\nexport type ProgrammaticOptionsProps = {\n  queryBundleRequest: QueryBundleRequest\n  onHide: () => void\n}\n\nfunction ProgrammaticOptions({\n  queryBundleRequest,\n  onHide,\n}: ProgrammaticOptionsProps) {\n  const [generatedSql, setGeneratedSql] = useState('...')\n\n  const {\n    data: asyncJobStatus,\n    isLoading: queryIsLoading,\n    isPreviousData: newQueryIsFetching,\n  } = useGetQueryResultBundleWithAsyncStatus(\n    {\n      ...queryBundleRequest,\n      partMask: SynapseConstants.BUNDLE_MASK_COMBINED_SQL,\n    },\n    {\n      keepPreviousData: true,\n      useErrorBoundary: true,\n    },\n  )\n\n  const combinedSql = asyncJobStatus?.responseBody?.combinedSql\n  const isLoadingNewBundle = queryIsLoading || newQueryIsFetching\n\n  useEffect(() => {\n    if (combinedSql && !isLoadingNewBundle) {\n      // SWC-5686: The ID column is required by the client, and this column may not have been selected!\n      // Change the SQL to \"SELECT * ...\"\n      const indexOfFrom = combinedSql.toUpperCase().indexOf('FROM SYN')\n      const selectStarTransformedSql = `SELECT * ${combinedSql.substring(\n        indexOfFrom,\n      )}`\n      setGeneratedSql(selectStarTransformedSql)\n    }\n  }, [combinedSql, isLoadingNewBundle])\n\n  // Replace quotation marks with escaped quotations. For CLI, also escape backticks.\n  const commandLineSql = useMemo(\n    () => generatedSql.replace(/([\"`])/g, '\\\\$1'),\n    [generatedSql],\n  )\n\n  const clientSql = useMemo(\n    () => generatedSql.replace(/\"/g, '\\\\\"'),\n    [generatedSql],\n  )\n\n  return (\n    <ProgrammaticInstructionsModal\n      show={true}\n      onClose={onHide}\n      title=\"Download Programmatically\"\n      cliNotes={\n        <>\n          This command line code will download Synapse files AND file\n          annotations to your working directory.\n        </>\n      }\n      cliCode={`synapse get -q \"${commandLineSql}\"`}\n      rNotes={\n        <>\n          This R code will download file annotations only. Use{' '}\n          <Link\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href=\"https://help.synapse.org/docs/Get-Started-with-Downloading-Data.2004254837.html#GetStartedwithDownloadingData-DownloadingFiles\"\n          >\n            synGet{'()'}\n          </Link>{' '}\n          to loop over the list of Synapse IDs from the file annotations to\n          download files.\n        </>\n      }\n      rCode={`query ${'<-'} synTableQuery(\"${clientSql}\")${'\\n'}read.table(query$filepath, sep = \",\")`}\n      pythonNotes={\n        <>\n          This Python code will download file annotations only. Use{' '}\n          <Link\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href=\"https://help.synapse.org/docs/Get-Started-with-Downloading-Data.2004254837.html#GetStartedwithDownloadingData-DownloadingFiles\"\n          >\n            syn.get\n          </Link>{' '}\n          to loop over the list of Synapse IDs from the file annotations to\n          download files.\n        </>\n      }\n      pythonCode={`query = syn.tableQuery(\"${clientSql}\")${'\\n'}query.asDataFrame()`}\n    />\n  )\n}\n\nexport default ProgrammaticOptions\n","import * as React from 'react'\nimport { Dropdown } from 'react-bootstrap'\nimport ModalDownload from '../../../containers/ModalDownload'\nimport {\n  isDataset,\n  isEntityView,\n  isFileView,\n} from '../../../utils/functions/EntityTypeUtils'\nimport { useSynapseContext } from '../../../utils/SynapseContext'\nimport { Tooltip } from '@mui/material'\nimport { useQueryContext } from '../../QueryContext'\nimport { ElementWithTooltip } from '../../widgets/ElementWithTooltip'\nimport { DownloadLoginModal } from './DownloadLoginModal'\nimport ProgrammaticOptions from './ProgrammaticOptions'\n\nexport const DOWNLOAD_OPTIONS_CONTAINER_CLASS = 'SRC-download-options-container'\n\nexport type DownloadOptionsProps = {\n  onDownloadFiles: () => void\n  darkTheme?: boolean\n}\n\nexport const DOWNLOAD_FILES_MENU_TEXT = 'Add To Download Cart'\n\nexport const DownloadOptions: React.FunctionComponent<\n  DownloadOptionsProps\n> = props => {\n  const { accessToken } = useSynapseContext()\n  const {\n    entity,\n    data: queryResultBundle,\n    getLastQueryRequest,\n  } = useQueryContext()\n  const queryBundleRequest = getLastQueryRequest()\n  const [showLoginModal, setShowLoginModal] = React.useState(false)\n  const [showExportMetadata, setShowExportMetadata] = React.useState(false)\n  const [showProgrammaticOptions, setShowProgrammaticOptions] =\n    React.useState(false)\n  const { onDownloadFiles, darkTheme = true } = props\n\n  const isFileViewOrDataset =\n    entity &&\n    ((isEntityView(entity) && isFileView(entity)) || isDataset(entity))\n\n  // SWC-5878 - Disable downloading a \"Draft\" dataset\n  const disableDownload = entity && isDataset(entity) && entity.isLatestVersion\n\n  return (\n    <React.Fragment>\n      <Dropdown as=\"span\">\n        <ElementWithTooltip\n          tooltipText={'Download Options'}\n          size=\"lg\"\n          darkTheme={darkTheme}\n          icon={'download'}\n        ></ElementWithTooltip>\n        <Dropdown.Menu\n          className=\"SRC-primary-color-hover-dropdown\"\n          alignRight={true}\n        >\n          <Dropdown.Item\n            onClick={() => {\n              setShowExportMetadata(true)\n            }}\n          >\n            Export Table\n          </Dropdown.Item>\n          {isFileViewOrDataset && (\n            <Tooltip\n              title={\n                disableDownload\n                  ? 'A draft version of a dataset cannot be added to the Download Cart'\n                  : null\n              }\n              placement=\"left\"\n              enterNextDelay={300}\n              describeChild={true}\n            >\n              <Dropdown.Item\n                role=\"button\"\n                className={disableDownload ? 'ignoreLink' : undefined}\n                disabled={disableDownload}\n                // If disabled, add pointer-events-auto so the tooltip still works\n                style={disableDownload ? { pointerEvents: 'auto' } : {}}\n                onClick={() =>\n                  accessToken ? onDownloadFiles() : setShowLoginModal(true)\n                }\n              >\n                {DOWNLOAD_FILES_MENU_TEXT}\n              </Dropdown.Item>\n            </Tooltip>\n          )}\n          <Tooltip\n            title={\n              disableDownload\n                ? 'A draft version of a dataset cannot be downloaded programmatically'\n                : null\n            }\n            placement=\"left\"\n            enterNextDelay={300}\n            describeChild={true}\n          >\n            <Dropdown.Item\n              className={disableDownload ? 'ignoreLink' : undefined}\n              disabled={disableDownload}\n              // If disabled, add pointer-events-auto so the tooltip still works\n              style={disableDownload ? { pointerEvents: 'auto' } : {}}\n              onClick={() => setShowProgrammaticOptions(true)}\n            >\n              Programmatic Options\n            </Dropdown.Item>\n          </Tooltip>\n        </Dropdown.Menu>\n      </Dropdown>\n      {showLoginModal && (\n        <DownloadLoginModal\n          showModal={showLoginModal}\n          onHide={() => setShowLoginModal(false)}\n        ></DownloadLoginModal>\n      )}\n      {\n        // modal can render anywhere, this is not a particular location\n        showExportMetadata && (\n          <ModalDownload\n            onClose={() => setShowExportMetadata(false)}\n            queryBundleRequest={queryBundleRequest}\n          />\n        )\n      }\n      {showProgrammaticOptions && queryResultBundle && (\n        <ProgrammaticOptions\n          onHide={() => setShowProgrammaticOptions(false)}\n          queryBundleRequest={queryBundleRequest}\n        ></ProgrammaticOptions>\n      )}\n    </React.Fragment>\n  )\n}\n","import React, { useState } from 'react'\nimport { Dropdown } from 'react-bootstrap'\nimport { ElementWithTooltip } from '../../widgets/ElementWithTooltip'\nimport { SelectColumn } from '../../../utils/synapseTypes/'\nimport IconSvg from '../../IconSvg'\nimport { useQueryVisualizationContext } from '../../QueryVisualizationWrapper'\n\ntype ColumnSelectionProps = {\n  headers?: SelectColumn[]\n  isColumnSelected: string[]\n  /* \n      The dropdown state is held in SynapseTable because the EllipsisDropdown has\n      an option to open the dropdown, 'show columns'\n    */\n  show?: boolean\n  onChange?: () => void\n  toggleColumnSelection: (name: string) => void\n  darkTheme?: boolean\n}\n\ntype MetadataEvent = {\n  source: 'select' | 'click' | 'rootClose' | 'keydown'\n}\n\nconst tooltipColumnSelectionId = 'addAndRemoveColumns'\n\nexport const ColumnSelection: React.FunctionComponent<ColumnSelectionProps> = (\n  props: ColumnSelectionProps,\n) => {\n  const { headers, isColumnSelected, toggleColumnSelection, darkTheme } = props\n\n  const { getColumnDisplayName } = useQueryVisualizationContext()\n  const [show, setShow] = useState(false)\n  const onDropdownClick = (\n    _show: boolean,\n    _event: React.SyntheticEvent<Dropdown, Event>,\n    metadata: MetadataEvent,\n  ) => {\n    if (metadata.source === 'rootClose') {\n      setShow(false)\n    } else {\n      setShow(true)\n    }\n  }\n  return (\n    <Dropdown\n      as=\"span\"\n      onToggle={(\n        show: boolean,\n        event: React.SyntheticEvent<Dropdown, Event>,\n        metadata: MetadataEvent,\n      ) => onDropdownClick(show, event, metadata)}\n      show={show}\n      drop=\"down\"\n    >\n      <ElementWithTooltip\n        tooltipText={'Show/Hide Columns'}\n        icon={darkTheme ? 'columnsdark' : 'columns'}\n        darkTheme={darkTheme}\n      ></ElementWithTooltip>\n\n      {/* There's a known issue if the number of dropdown items is very large, ~30+, the dropdown\n          will unexpectedly render with the list going upwards instead of downwards.\n        */}\n      <Dropdown.Menu\n        id={`${tooltipColumnSelectionId}-dropdown`}\n        className=\"SRC-primary-color-hover-dropdown\"\n        alignRight={true}\n      >\n        {headers?.map(header => {\n          const { name } = header\n          const isCurrentColumnSelected = isColumnSelected.includes(name)\n          const iconStyle: React.CSSProperties = {\n            width: '11px',\n            marginRight: '10px',\n            visibility: isCurrentColumnSelected ? undefined : 'hidden',\n          }\n          const maybeShowPrimaryColor = isCurrentColumnSelected\n            ? 'SRC-primary-text-color'\n            : ''\n          return (\n            <Dropdown.Item\n              onClick={() => toggleColumnSelection(name)}\n              key={name}\n            >\n              <span className={maybeShowPrimaryColor} style={iconStyle}>\n                <IconSvg icon=\"check\" sx={{ width: '14px' }} />\n              </span>\n              {getColumnDisplayName(name)}\n            </Dropdown.Item>\n          )\n        })}\n      </Dropdown.Menu>\n    </Dropdown>\n  )\n}\n","import { WarningSharp } from '@mui/icons-material'\nimport React from 'react'\nimport { SynapseConstants } from '../utils/'\nimport { isDataset } from '../utils/functions/EntityTypeUtils'\nimport useGetQueryResultBundle from '../utils/hooks/SynapseAPI/entity/useGetQueryResultBundle'\nimport { QueryBundleRequest, Table } from '../utils/synapseTypes/'\nimport { Typography } from '@mui/material'\nimport { HelpPopover } from './HelpPopover'\n\nconst DATASETS_CURRENT_VERSION_HELP =\n  'Files may be unavailable because you do not have permission to see them, they have been deleted, or the Dataset has been misconfigured.'\n\n// Help text for snapshot does not indicate that files were deleted, because the deleted file would have been captured in the snapshot\nconst DATASETS_SNAPSHOT_HELP =\n  'Files may be unavailable because you do not have permission to see them or the Dataset was misconfigured.'\n\nexport type MissingQueryResultsWarningProps = {\n  entity: Table\n  versionNumber?: number\n}\n\n/**\n * If possible, this component will render a warning message if results may be missing from the query due to user permissions or\n * entities being deleted. If not possible, it will render an empty fragment.\n */\nconst MissingQueryResultsWarning: React.FunctionComponent<\n  MissingQueryResultsWarningProps\n> = ({ entity }) => {\n  // Currently, Datasets are the only table type for which we can reliably get this info.\n  // Other cases will need a new service, tracked by PLFM-7046\n  const isMissingResultsCalculable = entity && isDataset(entity)\n\n  const request: QueryBundleRequest = {\n    concreteType: 'org.sagebionetworks.repo.model.table.QueryBundleRequest',\n    query: {\n      sql: `SELECT * FROM ${entity.id!}${\n        !entity.isLatestVersion && entity.versionNumber\n          ? `.${entity.versionNumber}`\n          : ''\n      }`,\n    },\n    entityId: entity.id!,\n    partMask: SynapseConstants.BUNDLE_MASK_QUERY_COUNT,\n  }\n\n  const { data: queryResult } = useGetQueryResultBundle(request, {\n    enabled: isMissingResultsCalculable,\n  })\n  if (isMissingResultsCalculable && queryResult && entity) {\n    const totalVisibleResults = queryResult.queryCount!\n    const totalResults = entity.items?.length ?? 0\n\n    if (totalVisibleResults === totalResults) {\n      // All of the results are visible, so there is no need to show a warning.\n      return <></>\n    }\n\n    const difference = totalResults - totalVisibleResults\n\n    let helpMessage = ''\n\n    if (entity.isLatestVersion) {\n      helpMessage = DATASETS_CURRENT_VERSION_HELP\n    } else {\n      helpMessage = DATASETS_SNAPSHOT_HELP\n    }\n\n    return (\n      <Typography\n        className=\"SRC-centerContent\"\n        style={{\n          marginLeft: 10,\n        }}\n        variant=\"smallText1\"\n        color=\"textSecondary\"\n      >\n        <WarningSharp\n          className=\"SRC-color-warning\"\n          style={{ fontSize: '16px' }}\n        />\n        {difference.toLocaleString() + ' Unavailable'}\n        <HelpPopover\n          className=\"SRC-margin-left-5\"\n          markdownText={helpMessage}\n          placement=\"right\"\n        ></HelpPopover>\n      </Typography>\n    )\n  } else {\n    return <></>\n  }\n}\n\nexport default MissingQueryResultsWarning\n","import { SynapseClient } from '../../..'\nimport { displayToast } from '../../../../containers/ToastMessage'\nimport { parseEntityIdFromSqlStatement } from '../../../functions/sqlFunctions'\nimport { useSynapseContext } from '../../../SynapseContext'\nimport {\n  DownloadFromTableRequest,\n  QueryBundleRequest,\n  SelectColumn,\n} from '../../../synapseTypes'\n\nexport function useExportToCavatica(\n  queryBundleRequest: QueryBundleRequest,\n  selectColumns?: SelectColumn[],\n) {\n  const { accessToken } = useSynapseContext()\n  const separator = ','\n  const writeHeader = true\n  const includeRowIdAndRowVersion = false\n  const originalSql = queryBundleRequest.query.sql\n  return async () => {\n    try {\n      // add drs_uri to select\n      const selectColumnsList = selectColumns?.map(col => col.name).join(',')\n      const sql = `SELECT CONCAT('drs://repo-prod.prod.sagebase.org/syn', id, '.', currentVersion) AS drs_uri, name as file_name, ${selectColumnsList} FROM ${originalSql.slice(\n        originalSql.toLowerCase().indexOf('from') + 'from'.length + 1,\n      )}`\n      const downloadFromTableRequest: DownloadFromTableRequest = {\n        sql,\n        entityId: parseEntityIdFromSqlStatement(sql),\n        selectedFacets: queryBundleRequest.query.selectedFacets,\n        concreteType:\n          'org.sagebionetworks.repo.model.table.DownloadFromTableRequest',\n        writeHeader,\n        includeRowIdAndRowVersion,\n        csvTableDescriptor: { separator },\n        additionalFilters: queryBundleRequest.query.additionalFilters,\n      }\n      const result = await SynapseClient.getDownloadFromTableRequest(\n        downloadFromTableRequest,\n        accessToken,\n      )\n      const presignedURL = await SynapseClient.getFileHandleByIdURL(\n        result.resultsFileHandleId,\n        accessToken,\n      )\n      // Send this presigned URL to the Cavatica landing page where it can be processed\n      // NOTE: This dev environment redirect link only works if you are in the Seven Bridges VPN, so this cannot be tested by Sage\n      const cavaticaURL = `https://synapse-vayu.sbgenomics.com/import-redirect/drs/csv/?URL=${encodeURIComponent(\n        presignedURL,\n      )}`\n      // TODO: change to production redirect link after the changes have been validated and they have released to prod\n      // const cavaticaURL = `https://cavatica.sbgenomics.com/import-redirect/drs/csv/?URL=${encodeURIComponent(\n      //   presignedURL,\n      // )}`\n      window.open(cavaticaURL, '_blank')\n    } catch (_err) {\n      displayToast(_err.reason, 'danger')\n    }\n  }\n}\n","import * as React from 'react'\n\nimport SvgIcon, { SvgIconProps } from '@mui/material/SvgIcon'\n\nexport const Cavatica = (props: SvgIconProps) => {\n  return (\n    <SvgIcon {...props} height={20} viewBox=\"0 0 828 828\">\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M431.861 124.107C429.221 125.451 426.3 126.325 423.211 126.618L415.557 269.363C425.193 272.363 432.244 281.226 432.538 291.777L546.545 306.978C547.637 304.478 549.14 302.198 550.968 300.223L431.861 124.107ZM440.166 117.167L559.852 294.141C562.599 293.058 565.591 292.463 568.722 292.463C570.453 292.463 572.141 292.645 573.769 292.99L610.725 206.16C604.806 201.75 600.973 194.698 600.973 186.75C600.973 185.26 601.107 183.801 601.365 182.386L441.299 115.545C440.943 116.102 440.565 116.643 440.166 117.167ZM592.91 316.651C592.91 308.875 589.241 301.955 583.538 297.53L620.577 210.504C622.062 210.789 623.594 210.938 625.161 210.938C626.63 210.938 628.069 210.807 629.466 210.556L731.473 433.838C730.391 434.8 729.396 435.857 728.5 436.997L590.583 327.017C592.076 323.875 592.91 320.361 592.91 316.651ZM583.917 335.473C581.689 337.273 579.135 338.687 576.358 339.61L583.089 517.099C590.244 517.108 596.671 520.225 601.094 525.171L724.074 457.849C723.597 455.954 723.344 453.97 723.344 451.927C723.344 450.256 723.513 448.625 723.836 447.049L583.917 335.473ZM728.974 467.442L606.306 534.593C606.917 536.719 607.244 538.965 607.244 541.287C607.244 548.415 604.161 554.822 599.256 559.249L641.245 621.527C643.538 620.712 645.991 620.232 648.544 620.149L730.593 469.194C730.025 468.637 729.485 468.052 728.974 467.442ZM583.056 565.476C585.404 565.476 587.675 565.141 589.822 564.517L632.158 627.31C631.966 627.503 631.778 627.699 631.594 627.899L410.195 538.521L559.218 545.414C561.176 556.807 571.104 565.476 583.056 565.476ZM398.804 545.534C396.287 548.348 393.122 550.569 389.543 551.963L409.137 701.286C417.873 701.562 425.441 706.471 429.464 713.637L625.468 648.181C625.267 646.925 625.162 645.637 625.162 644.324C625.162 641.892 625.521 639.543 626.189 637.329L398.804 545.534ZM562.043 339.906C563.203 340.239 564.398 340.487 565.622 340.643L572.407 519.563C566.319 522.552 561.672 528.026 559.786 534.662L404.882 527.497C404.474 522.293 402.419 517.552 399.238 513.794L562.043 339.906ZM410.775 316.532C419.563 315.66 426.967 310.086 430.436 302.36L544.551 317.575C544.802 324.26 547.766 330.252 552.374 334.479L390.572 507.295C390.475 507.252 390.377 507.209 390.279 507.167C390.238 507.15 390.198 507.133 390.158 507.116L390.076 507.082C390.033 507.064 389.99 507.046 389.947 507.028L389.865 506.995L389.777 506.959L410.775 316.532ZM379.129 505.281L400.089 315.201C392.761 312.535 387.086 306.428 385.018 298.835L257.588 294.164C256.151 297.414 254.02 300.287 251.382 302.596L371.2 507.193C373.659 506.132 376.329 505.468 379.129 505.281ZM259.627 283.465L384.573 288.044C386.438 277.936 394.588 270.031 404.819 268.531L412.502 125.228C410.883 124.629 409.345 123.86 407.91 122.945L256.526 272.5C258.369 275.76 259.478 279.489 259.627 283.465ZM362.471 513.594L241.899 307.711C240.201 308.179 238.428 308.466 236.602 308.551L212.287 436.373C220.668 440.173 226.498 448.613 226.498 458.415C226.498 459.246 226.456 460.068 226.374 460.879L359.809 517.332C360.578 516.001 361.471 514.75 362.471 513.594ZM398.548 703.346L378.889 553.531C372.829 553.065 367.395 550.367 363.407 546.257L210.476 626.279C210.993 628.246 211.268 630.31 211.268 632.439C211.268 633.973 211.125 635.474 210.852 636.929L387.408 713.365C389.959 708.957 393.861 705.428 398.548 703.346ZM205.482 616.74L357.805 537.036C357.01 534.64 356.58 532.077 356.58 529.415C356.58 528.832 356.601 528.255 356.641 527.683L222.907 471.103C219.186 477.13 212.894 481.402 205.56 482.387L197.048 610.394C200.309 611.871 203.185 614.051 205.482 616.74ZM178.121 458.415C178.121 469.164 185.133 478.276 194.832 481.425L186.398 608.26C184.797 608.304 183.234 608.504 181.725 608.845L94.2764 412.358C95.9686 411.18 97.5031 409.79 98.8419 408.229L179.06 451.717C178.449 453.844 178.121 456.091 178.121 458.415ZM184.274 442.296C188.584 437.476 194.798 434.395 201.734 434.233L226.002 306.661C217.341 302.979 211.268 294.394 211.268 284.389C211.268 275.81 215.734 268.274 222.469 263.98L194.346 201.663C193.431 201.768 192.501 201.822 191.558 201.822C189.935 201.822 188.349 201.662 186.816 201.357L94.3034 372.649C100.563 377.021 104.658 384.279 104.658 392.494C104.658 394.639 104.379 396.719 103.855 398.699L184.274 442.296ZM235.456 260.201C234.505 260.201 233.567 260.256 232.644 260.363L204.526 198.055C211.271 193.763 215.746 186.221 215.746 177.633C215.746 177.057 215.726 176.486 215.687 175.92L399.494 113.808C399.759 114.312 400.042 114.805 400.341 115.286L249.271 264.532C245.355 261.802 240.592 260.201 235.456 260.201ZM172.016 613.512C166.455 617.944 162.891 624.775 162.891 632.439C162.891 645.798 173.72 656.628 187.079 656.628C195.062 656.628 202.141 652.761 206.547 646.798L384.232 723.723C384.191 724.297 384.17 724.877 384.17 725.462C384.17 738.821 395 749.651 408.359 749.651C421.718 749.651 432.547 738.821 432.547 725.462C432.547 724.963 432.532 724.466 432.502 723.974L629.521 658.179C633.894 664.427 641.145 668.513 649.351 668.513C662.71 668.513 673.539 657.683 673.539 644.324C673.539 634.62 667.825 626.25 659.577 622.397L739.776 474.845C742.211 475.669 744.82 476.115 747.533 476.115C760.891 476.115 771.721 465.286 771.721 451.927C771.721 438.568 760.891 427.738 747.533 427.738C745.247 427.738 743.036 428.055 740.94 428.648L639.371 206.326C645.418 201.929 649.35 194.799 649.35 186.75C649.35 173.391 638.52 162.561 625.161 162.561C617.133 162.561 610.018 166.472 605.618 172.493L444.924 105.391C445.034 104.455 445.09 103.503 445.09 102.538C445.09 89.179 434.26 78.3494 420.901 78.3494C407.543 78.3494 396.713 89.179 396.713 102.538C396.713 102.819 396.718 103.099 396.727 103.378L212.553 165.614C208.382 158.343 200.542 153.445 191.558 153.445C178.199 153.445 167.369 164.274 167.369 177.633C167.369 185.513 171.137 192.513 176.97 196.93L84.2531 368.6C83.0204 368.406 81.7569 368.306 80.4698 368.306C67.1108 368.306 56.2812 379.135 56.2812 392.494C56.2812 405.853 67.1108 416.683 80.4698 416.683C81.7672 416.683 83.0407 416.581 84.2827 416.384L172.016 613.512Z\"\n        fill=\"url(#paint0_linear_271_30503)\"\n      />\n      <defs>\n        <linearGradient\n          id=\"paint0_linear_271_30503\"\n          x1=\"163.941\"\n          y1=\"159.14\"\n          x2=\"682.43\"\n          y2=\"676.053\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop stopColor=\"#9E5AA4\" />\n          <stop offset=\"0.526649\" stopColor=\"#7387C2\" />\n          <stop offset=\"1\" stopColor=\"#11AADE\" />\n        </linearGradient>\n      </defs>\n    </SvgIcon>\n  )\n}\n","import { cloneDeep } from 'lodash-es'\nimport React, { useMemo } from 'react'\nimport { SQL_EDITOR } from '../../utils/SynapseConstants'\nimport { Query, QueryResultBundle } from '../../utils/synapseTypes'\nimport {\n  TopLevelControlsState,\n  useQueryVisualizationContext,\n} from '../QueryVisualizationWrapper'\nimport {\n  QUERY_FILTERS_COLLAPSED_CSS,\n  QUERY_FILTERS_EXPANDED_CSS,\n} from '../QueryWrapper'\nimport { useQueryContext } from '../QueryContext'\nimport { ElementWithTooltip } from '../widgets/ElementWithTooltip'\nimport { DownloadOptions } from './table-top'\nimport { ColumnSelection } from './table-top/ColumnSelection'\nimport { Button, Typography } from '@mui/material'\nimport QueryCount from '../QueryCount'\nimport { Icon } from '../row_renderers/utils'\nimport MissingQueryResultsWarning from '../MissingQueryResultsWarning'\nimport { useExportToCavatica } from '../../utils/hooks/SynapseAPI/entity/useExportToCavatica'\nimport { Cavatica } from '../../assets/icons/Cavatica'\n\nexport type TopLevelControlsProps = {\n  name?: string\n  hideDownload?: boolean\n  hideVisualizationsControl?: boolean\n  hideFacetFilterControl?: boolean\n  hideQueryCount?: boolean\n  hideSqlEditorControl?: boolean\n  showColumnSelection?: boolean\n  customControls?: CustomControl[]\n  showExportToCavatica?: boolean\n}\n\ntype Control = {\n  key: keyof TopLevelControlsState\n  icon: string\n  tooltipText: string\n}\n\ntype CustomControlCallbackData = {\n  data: QueryResultBundle | undefined\n  selectedRowIndices: number[] | undefined\n  refresh: () => void\n}\n\ntype CustomControl = {\n  buttonText: string\n  onClick: (event: CustomControlCallbackData) => void\n  classNames?: string\n  icon?: string\n}\n\nconst controls: Control[] = [\n  {\n    icon: 'search',\n    key: 'showSearchBar',\n    tooltipText: 'Show / Hide Search Bar',\n  },\n  {\n    icon: 'chart',\n    key: 'showFacetVisualization',\n    tooltipText: 'Show / Hide Visualizations',\n  },\n  {\n    icon: 'download',\n    key: 'showDownloadConfirmation',\n    tooltipText: 'Show options for download',\n  },\n  {\n    icon: SQL_EDITOR,\n    key: 'showSqlEditor',\n    tooltipText: 'Show / Hide the Advanced Query Editor',\n  },\n]\n\nconst TopLevelControls = (props: TopLevelControlsProps) => {\n  const {\n    name,\n    showColumnSelection = false,\n    hideDownload = false,\n    hideVisualizationsControl = false,\n    hideFacetFilterControl = false,\n    hideQueryCount = false,\n    hideSqlEditorControl = true,\n    customControls,\n    showExportToCavatica = false,\n  } = props\n\n  const {\n    data,\n    entity,\n    executeQueryRequest,\n    getLastQueryRequest,\n    getInitQueryRequest,\n    lockedColumn,\n  } = useQueryContext()\n  const exportToCavatica = useExportToCavatica(\n    getLastQueryRequest(),\n    data?.queryResult?.queryResults.headers,\n  )\n\n  const {\n    topLevelControlsState,\n    setTopLevelControlsState,\n    columnsToShowInTable,\n    selectedRowIndices,\n    setColumnsToShowInTable,\n  } = useQueryVisualizationContext()\n\n  const setControlState = (control: keyof TopLevelControlsState) => {\n    const updatedTopLevelControlsState: Partial<TopLevelControlsState> = {\n      [control]: !topLevelControlsState[control],\n    }\n    if (control === 'showSearchBar') {\n      updatedTopLevelControlsState.showDownloadConfirmation = false\n    }\n    if (control === 'showDownloadConfirmation') {\n      updatedTopLevelControlsState.showSearchBar = false\n    }\n    setTopLevelControlsState(state => ({\n      ...state,\n      ...updatedTopLevelControlsState,\n    }))\n  }\n\n  const refresh = () => {\n    executeQueryRequest(getLastQueryRequest())\n  }\n\n  /**\n   * We show the total number of results that would be shown if the user removed their filters.\n   * To do this, we have to create a query that captures those results.\n   */\n  const unfilteredResultsQuery: Query = useMemo(() => {\n    const initQueryRequest = getInitQueryRequest()\n    return {\n      sql: initQueryRequest.query.sql,\n      selectedFacets: (initQueryRequest.query.selectedFacets ?? []).filter(\n        facet => facet.columnName === lockedColumn?.columnName,\n      ),\n      additionalFilters: (\n        initQueryRequest.query.additionalFilters ?? []\n      ).filter(qf =>\n        'columnName' in qf\n          ? qf['columnName'] === lockedColumn?.columnName\n          : true,\n      ),\n    }\n  }, [getInitQueryRequest, lockedColumn?.columnName])\n\n  /**\n   * Handles the toggle of a column select, this will cause the table to\n   * either show the column or hide depending on the prior state of the column\n   *\n   * @memberof SynapseTable\n   */\n  const toggleColumnSelection = (columnName: string) => {\n    let columnsToShowInTableCopy = cloneDeep(columnsToShowInTable)\n    if (columnsToShowInTableCopy.includes(columnName)) {\n      columnsToShowInTableCopy = columnsToShowInTableCopy.filter(\n        el => el !== columnName,\n      )\n    } else {\n      columnsToShowInTableCopy.push(columnName)\n    }\n    setColumnsToShowInTable(columnsToShowInTableCopy)\n  }\n  const showFacetFilter = topLevelControlsState?.showFacetFilter\n  return (\n    <div\n      className={`TopLevelControls ${\n        showFacetFilter\n          ? QUERY_FILTERS_EXPANDED_CSS\n          : QUERY_FILTERS_COLLAPSED_CSS\n      }`}\n      data-testid=\"TopLevelControls\"\n    >\n      <div>\n        <div className=\"TopLevelControls__querycount\">\n          {name && (\n            <>\n              <Typography variant=\"sectionTitle\" role=\"heading\">\n                {name}{' '}\n                {!hideQueryCount && (\n                  <QueryCount query={unfilteredResultsQuery} parens={true} />\n                )}\n              </Typography>\n              {!hideQueryCount && entity && (\n                <MissingQueryResultsWarning entity={entity} />\n              )}\n            </>\n          )}\n          {!hideFacetFilterControl && (\n            <a\n              onClick={() => setControlState('showFacetFilter')}\n              className=\"TopLevelControls__querycount__facetFilterLink SRC-no-underline-on-hover\"\n            >\n              <Icon\n                type={\n                  topLevelControlsState.showFacetFilter ? 'close' : 'filter'\n                }\n              ></Icon>\n              <span className=\"TopLevelControls__querycount__facetFilterLink__text\">\n                {topLevelControlsState.showFacetFilter ? 'Hide' : 'Show'}{' '}\n                filters\n              </span>\n            </a>\n          )}\n        </div>\n        <div className=\"TopLevelControls__actions\">\n          {customControls &&\n            customControls.map(customControl => {\n              return (\n                <button\n                  key={customControl.buttonText}\n                  className={`btn SRC-roundBorder SRC-primary-background-color SRC-whiteText ${\n                    customControl.classNames ?? ''\n                  }`}\n                  style={{ marginRight: '5px' }}\n                  type=\"button\"\n                  onClick={() =>\n                    customControl.onClick({ data, selectedRowIndices, refresh })\n                  }\n                >\n                  {customControl.icon}&nbsp;\n                  {customControl.buttonText}\n                </button>\n              )\n            })}\n          {showExportToCavatica && (\n            <Button\n              variant=\"text\"\n              onClick={() => {\n                exportToCavatica()\n              }}\n            >\n              <Cavatica sx={{ mr: 1 }} /> Send to Cavatica\n            </Button>\n          )}\n          {controls.map(control => {\n            const { key, icon, tooltipText } = control\n            if (\n              (key === 'showDownloadConfirmation' && hideDownload) ||\n              (key === 'showFacetVisualization' && hideVisualizationsControl) ||\n              (key === 'showSqlEditor' && hideSqlEditorControl)\n            ) {\n              // needs to be a file view in order for download to make sense\n              return <React.Fragment key={key}></React.Fragment>\n            } else if (key === 'showDownloadConfirmation') {\n              return (\n                <DownloadOptions\n                  key={key}\n                  darkTheme={true}\n                  onDownloadFiles={() => setControlState(key)}\n                />\n              )\n            }\n            return (\n              <ElementWithTooltip\n                tooltipText={tooltipText}\n                key={key}\n                callbackFn={() => setControlState(key)}\n                darkTheme={true}\n                icon={icon}\n              />\n            )\n          })}\n          {showColumnSelection && (\n            <ColumnSelection\n              headers={data?.selectColumns}\n              isColumnSelected={columnsToShowInTable}\n              toggleColumnSelection={toggleColumnSelection}\n              darkTheme={true}\n            />\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default TopLevelControls\n","import { uniqueId as _uniqueId } from 'lodash-es'\nimport React, { useEffect, useState } from 'react'\n\nexport type CheckboxProps = {\n  label: string\n  hideLabel?: boolean\n  checked?: boolean\n  className?: string\n  onChange: (newValue: boolean) => void\n  isSelectAll?: boolean\n  children?: React.ReactChild\n  onClick?: (event: React.SyntheticEvent<HTMLDivElement>) => void\n  disabled?: boolean\n  'data-testid'?: string\n}\n\nexport const Checkbox: React.FunctionComponent<CheckboxProps> = (\n  props: CheckboxProps,\n) => {\n  const {\n    checked: propsChecked = false,\n    hideLabel = false,\n    isSelectAll = false,\n    disabled = false,\n  } = props\n  const [checked, setChecked] = useState<boolean>(propsChecked)\n  const [uniqueId] = useState(_uniqueId('src-checkbox-'))\n\n  useEffect(() => {\n    setChecked(propsChecked)\n  }, [propsChecked])\n\n  const handleCheckboxChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    props.onChange(event.target.checked)\n    if (isSelectAll && event.target.checked === false) {\n      /* \n         You can click the all checkbox from off -> on\n         but clicking it off is a no-op\n      */\n      setChecked(true)\n    } else {\n      setChecked(event.target.checked)\n    }\n  }\n\n  let className = 'checkbox'\n  if (props.className) {\n    className += ` ${props.className}`\n  }\n\n  return (\n    <div className={className} onClick={props.onClick}>\n      <input\n        aria-label={props.label}\n        type=\"checkbox\"\n        checked={checked}\n        id={uniqueId}\n        onChange={handleCheckboxChange}\n        disabled={disabled}\n        data-testid={props['data-testid']}\n      />\n      {<label htmlFor={uniqueId}>{hideLabel ? <></> : props.label}</label>}\n      {props.children ?? <></>}\n    </div>\n  )\n}\n","import React from 'react'\n\ntype IconPlusProps = {\n  title?: string\n}\n\nconst IconPlus = (props: React.SVGProps<SVGSVGElement> & IconPlusProps) => (\n  <svg\n    {...props}\n    className={`Icon-Plus ${props.className ?? ''}`}\n    width=\"15\"\n    height=\"14\"\n    viewBox=\"0 0 15 14\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    {props.title && <title>{props.title}</title>}\n    <path d=\"M14.3887 8H8.38867V14H6.38867V8H0.388672V6H6.38867V0H8.38867V6H14.3887V8Z\" />\n  </svg>\n)\n\nexport default IconPlus\n","import React from 'react'\n\ntype IconMinusProps = {\n  title?: string\n}\n\nconst IconMinus = (props: React.SVGProps<SVGSVGElement> & IconMinusProps) => (\n  <svg\n    {...props}\n    className={`Icon-Minus ${props.className ?? ''}`}\n    width=\"15\"\n    height=\"2\"\n    viewBox=\"0 0 15 2\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    {props.title && <title>{props.title}</title>}\n    <path d=\"M14.3887 2H8.38867H6.38867H0.388672V0H6.38867H8.38867H14.3887V2Z\" />\n  </svg>\n)\n\nexport default IconMinus\n","import * as React from 'react'\nimport IconPlus from '../../../assets/icons/IconPlus'\nimport IconMinus from '../../../assets/icons/IconMinus'\nimport { useQueryVisualizationContext } from '../../QueryVisualizationWrapper'\n\nexport type FacetFilterHeaderProps = {\n  label: string\n  isCollapsed: boolean\n  onClick: (newValue: boolean) => void\n}\n\nexport const FacetFilterHeader: React.FunctionComponent<\n  FacetFilterHeaderProps\n> = ({ label, isCollapsed, onClick }: FacetFilterHeaderProps) => {\n  const { getColumnDisplayName } = useQueryVisualizationContext()\n  return (\n    <div className=\"FacetFilterHeader\">\n      <label className=\"FacetFilterHeader__label\">\n        {getColumnDisplayName(label)}\n      </label>\n      <button\n        className=\"FacetFilterHeader__collapseToggleBtn\"\n        onClick={() => onClick(!isCollapsed)}\n      >\n        {isCollapsed ? (\n          <IconPlus className=\"icon-plus\" title=\"Expand Menu\" />\n        ) : (\n          <IconMinus className=\"icon-minus\" title=\"Collapse Menu\" />\n        )}\n      </button>\n    </div>\n  )\n}\n","import { Collapse } from '@mui/material'\nimport React, { useState } from 'react'\nimport { Dropdown } from 'react-bootstrap'\nimport useDeepCompareEffect from 'use-deep-compare-effect'\nimport { ElementWithTooltip } from '../../../containers/widgets/ElementWithTooltip'\nimport { SynapseConstants } from '../../../utils'\nimport useGetInfoFromIds from '../../../utils/hooks/useGetInfoFromIds'\nimport {\n  ColumnTypeEnum,\n  Evaluation,\n  UserGroupHeader,\n} from '../../../utils/synapseTypes'\nimport { EntityHeader } from '../../../utils/synapseTypes/EntityHeader'\nimport {\n  FacetColumnResultValueCount,\n  SelectColumn,\n} from '../../../utils/synapseTypes/Table'\nimport IconSvg from '../../IconSvg'\nimport { Checkbox } from '../Checkbox'\nimport { FacetFilterHeader } from './FacetFilterHeader'\n\nexport type EnumFacetFilterProps = {\n  facetValues: FacetColumnResultValueCount[]\n  columnModel: SelectColumn\n  onChange: (facetNamesMap: Record<string, string>) => void\n  onClear: () => void\n  containerAs?: 'Collapsible' | 'Dropdown'\n  dropdownType?: 'Icon' | 'SelectBox'\n  collapsed?: boolean\n}\n\nfunction valueToId(value: string): string {\n  return value.replace(/\\s/g, '').toLowerCase()\n}\n\nfunction valueToLabel(\n  facet: FacetColumnResultValueCount,\n  profiles: UserGroupHeader[] = [],\n  entityHeaders: EntityHeader[] = [],\n  evaluations: Evaluation[] = [],\n): string {\n  const { value } = facet\n  let displayValue = value\n  if (value === SynapseConstants.VALUE_NOT_SET) {\n    displayValue = SynapseConstants.FRIENDLY_VALUE_NOT_SET\n  }\n  const profile = profiles.find(profile => profile.ownerId === value)\n  if (profile) {\n    displayValue = profile ? profile.userName : `unknown (${value})`\n  }\n\n  const eh = entityHeaders.find(eh => eh.id === value)\n  if (eh) {\n    displayValue = eh ? eh.name : `unknown (${value})`\n  }\n\n  const evaluation = evaluations.find(evaluation => evaluation.id === value)\n  if (evaluation?.name) {\n    displayValue = evaluation.name\n  }\n\n  return `${displayValue}`\n}\n\nfunction formatFacetValuesForDisplay(\n  facetValues: FacetColumnResultValueCount[],\n  isShowAll: boolean,\n  visibleItemsCount: number,\n) {\n  //sort facets by count\n  const facets = [...facetValues.sort((a, b) => b.count - a.count)]\n  if (isShowAll || facets.length <= visibleItemsCount) {\n    return facets\n  } else {\n    //if we are not hiding elected facets\n    if (facets.slice(visibleItemsCount).find(item => item.isSelected)) {\n      return facets\n    } else {\n      return facets.splice(0, visibleItemsCount)\n    }\n  }\n}\n\n/************* QUERY ENUM CONMPONENT  *************/\n\nexport const EnumFacetFilter: React.FunctionComponent<EnumFacetFilterProps> = ({\n  facetValues,\n  columnModel,\n  onClear,\n  onChange,\n  containerAs = 'Collapsible',\n  dropdownType = 'Icon',\n  collapsed = false,\n}: EnumFacetFilterProps) => {\n  const [isShowAll, setIsShowAll] = useState<boolean>(false)\n  const [isCollapsed, setIsCollapsed] = useState<boolean>(collapsed)\n  const [isShowDropdown, setIsShowDropdown] = useState<boolean>(false)\n  const [showSearch, setShowSearch] = useState<boolean>(false)\n  const [searchTerm, setSearchText] = useState<string>('')\n  const [filteredSet, setFilteredSet] =\n    useState<FacetColumnResultValueCount[]>(facetValues)\n\n  useDeepCompareEffect(() => {\n    setFilteredSet(facetValues)\n  }, [facetValues])\n\n  const visibleItemsCount = 5\n  const selectionDelay = 1500 // in ms\n  const textInput: React.RefObject<HTMLInputElement> = React.createRef()\n  const selectedValuesMap = {}\n  let timer: ReturnType<typeof setTimeout>\n\n  const allIsSelected = facetValues.filter(item => item.isSelected).length === 0\n\n  const userIds =\n    columnModel?.columnType === ColumnTypeEnum.USERID ||\n    columnModel?.columnType === ColumnTypeEnum.USERID_LIST\n      ? facetValues.map(facet => facet.value)\n      : []\n  const userGroupHeaders = useGetInfoFromIds<UserGroupHeader>({\n    ids: userIds,\n    type: 'USER_PROFILE',\n  })\n\n  const entityIds =\n    columnModel?.columnType === ColumnTypeEnum.ENTITYID ||\n    columnModel?.columnType === ColumnTypeEnum.ENTITYID_LIST\n      ? facetValues.map(facet => facet.value)\n      : []\n  const entityHeaders = useGetInfoFromIds<EntityHeader>({\n    ids: entityIds,\n    type: 'ENTITY_HEADER',\n  })\n\n  const evaluationIds =\n    columnModel?.columnType === ColumnTypeEnum.EVALUATIONID\n      ? facetValues.map(facet => facet.value)\n      : []\n  const evaluations = useGetInfoFromIds<Evaluation>({\n    ids: evaluationIds,\n    type: 'EVALUATION_QUEUE',\n  })\n\n  const handleTextInputFilterEvent = (\n    e: React.ChangeEvent<HTMLInputElement>,\n  ) => {\n    const inputValue: string = e.target.value\n    setSearchText(inputValue)\n    setIsShowAll(true) // While in filter search mode, display all filtered values\n\n    if (!inputValue) {\n      // if input field is empty, display all facet values\n      facetValues.forEach(obj => {\n        obj.isSelected = false\n      })\n      setFilteredSet(facetValues)\n    } else {\n      // display only facet values that contain text from the text input field\n      const filtered = facetValues.filter(obj => {\n        const label = valueToLabel(\n          obj,\n          userGroupHeaders,\n          entityHeaders,\n          evaluations,\n        )\n        return label.toLowerCase().indexOf(inputValue.trim().toLowerCase()) > -1\n          ? obj\n          : null\n      })\n      setFilteredSet(filtered)\n    }\n  }\n\n  if (!columnModel) {\n    return <></>\n  }\n  const isDropdown = containerAs === 'Dropdown'\n  const content = (\n    <div className={isDropdown ? 'EnumFacetFilter__dropdown_menu' : ''}>\n      <div className=\"EnumFacetFilter__checkboxContainer--forAll\">\n        <div\n          className={\n            showSearch\n              ? 'EnumFacetFilter__search active'\n              : 'EnumFacetFilter__search'\n          }\n        >\n          <button // Close Search Button\n            className=\"EnumFacetFilter__closeSearch\"\n            onClick={() => {\n              setFilteredSet(facetValues)\n              setShowSearch(false)\n              setIsShowAll(false)\n            }}\n          >\n            <span className=\"EnumFacetFilter__previous\">\n              <IconSvg icon=\"arrowBack\" />\n            </span>\n          </button>\n          {searchTerm.length > 0 && (\n            <button // Clear Search Filter Text Button\n              className=\"EnumFacetFilter__resetSearch\"\n              onClick={() => {\n                setSearchText('')\n                textInput.current?.focus()\n              }}\n            >\n              <span className=\"EnumFacetFilter__reset\">\n                <IconSvg icon=\"close\" />\n              </span>\n            </button>\n          )}\n          <input // Search Filter Text\n            type=\"text\"\n            placeholder=\"Find values\"\n            value={searchTerm}\n            ref={textInput}\n            onChange={e => {\n              handleTextInputFilterEvent(e)\n            }}\n          />\n        </div>\n        {!showSearch && (\n          <div className=\"EnumFacetFilter__checkAll\">\n            <Checkbox\n              className=\"EnumFacetFilter__checkbox\"\n              onChange={() => {\n                onClear()\n              }}\n              key=\"select_all\"\n              checked={allIsSelected}\n              label=\"All\"\n              isSelectAll={true}\n            ></Checkbox>\n            <button\n              className=\"EnumFacetFilter__searchbtn\"\n              onClick={() => {\n                setSearchText('')\n                setShowSearch(true)\n                textInput.current?.focus()\n              }}\n            >\n              <span className=\"EnumFacetFilter__searchicon\">\n                <IconSvg icon=\"search\" />\n              </span>\n            </button>\n          </div>\n        )}\n      </div>\n      <div>\n        {filteredSet.length > 0 &&\n          formatFacetValuesForDisplay(\n            filteredSet,\n            isShowAll || isDropdown,\n            visibleItemsCount,\n          ).map((facet, index: number) => (\n            <EnumFacetFilterOption\n              key={`checkLabel${index}`}\n              id={valueToId(facet.value)}\n              index={index}\n              label={valueToLabel(\n                facet,\n                userGroupHeaders,\n                entityHeaders,\n                evaluations,\n              )}\n              count={facet.count}\n              isDropdown={isDropdown}\n              initialIsSelected={facet.isSelected}\n              onChange={(isChecked: boolean) => {\n                selectedValuesMap[facet.value] = isChecked\n                clearTimeout(timer)\n                timer = setTimeout(() => {\n                  onChange(selectedValuesMap)\n                  setIsShowDropdown(false)\n                }, selectionDelay)\n              }}\n            />\n          ))}\n        {!isDropdown && (\n          <>\n            {!isShowAll && filteredSet.length > visibleItemsCount && (\n              <button\n                className=\"EnumFacetFilter__showMoreFacetsBtn\"\n                onClick={() => setIsShowAll(true)}\n              >\n                <div className=\"EnumFacetFilter__checkboxContainer\">\n                  <div className=\"EnumFacetFilter__showMoreFacetsLabel\">\n                    Show all ({filteredSet.length})\n                  </div>\n                </div>\n              </button>\n            )}\n            {isShowAll && filteredSet.length > visibleItemsCount && (\n              <button\n                className=\"EnumFacetFilter__showMoreFacetsBtn\"\n                onClick={() => setIsShowAll(false)}\n              >\n                <div className=\"EnumFacetFilter__checkboxContainer\">\n                  <div className=\"EnumFacetFilter__showMoreFacetsLabel\">\n                    Show less\n                  </div>\n                </div>\n              </button>\n            )}\n          </>\n        )}\n        {filteredSet.length <= 0 && (\n          <div className=\"EnumFacetFilter__noMatch\">No match found</div>\n        )}\n      </div>\n    </div>\n  )\n\n  const onToggle = () => setIsShowDropdown(!isShowDropdown)\n\n  if (isDropdown) {\n    if (dropdownType === 'SelectBox') {\n      return (\n        <Dropdown\n          className={'EnumFacetFilter EnumFacetFilterSelect'}\n          show={isShowDropdown}\n          onToggle={onToggle}\n        >\n          <Dropdown.Toggle className=\"secondary-caret\" variant=\"gray-select\">\n            {allIsSelected && 'All'}\n            {!allIsSelected &&\n              facetValues.filter(item => item.isSelected).length === 1 &&\n              facetValues.filter(item => item.isSelected)[0].value}\n            {!allIsSelected &&\n              facetValues.filter(item => item.isSelected).length > 1 &&\n              'Multiple Values Selected'}\n          </Dropdown.Toggle>\n          <Dropdown.Menu>{content}</Dropdown.Menu>\n        </Dropdown>\n      )\n    } else {\n      return (\n        <Dropdown\n          className=\"EnumFacetFilter\"\n          show={isShowDropdown}\n          onToggle={onToggle}\n        >\n          <ElementWithTooltip\n            tooltipText=\"Filter by specific facet\"\n            key=\"facetFilterTooltip\"\n            darkTheme={false}\n            icon={'filter'}\n          />\n          <Dropdown.Menu>{content}</Dropdown.Menu>\n        </Dropdown>\n      )\n    }\n  } else {\n    return (\n      <>\n        <FacetFilterHeader\n          isCollapsed={isCollapsed}\n          label={columnModel.name}\n          onClick={(isCollapsed: boolean) => setIsCollapsed(isCollapsed)}\n        />\n        <Collapse className=\"EnumFacetFilter\" in={!isCollapsed}>\n          {content}\n        </Collapse>\n      </>\n    )\n  }\n}\n\ntype EnumFacetFilterOptionProps = {\n  readonly id: string\n  readonly index: number\n  readonly label: string\n  readonly count: number\n  readonly isDropdown: boolean\n  readonly initialIsSelected: boolean\n  readonly onChange: (selected: boolean) => void\n}\n\nfunction EnumFacetFilterOption({\n  id,\n  index,\n  label,\n  count,\n  isDropdown,\n  initialIsSelected,\n  onChange,\n}: EnumFacetFilterOptionProps) {\n  const [isSelected, setIsSelected] = useState(initialIsSelected)\n\n  React.useEffect(() => {\n    setIsSelected(initialIsSelected)\n  }, [initialIsSelected])\n\n  return (\n    <div\n      className=\"EnumFacetFilter__checkboxContainer\"\n      onClick={() => {\n        if (isDropdown) {\n          setIsSelected(!isSelected)\n          onChange(!isSelected)\n        }\n      }}\n    >\n      <Checkbox\n        className=\"EnumFacetFilter__checkbox\"\n        onClick={event => event.stopPropagation()}\n        onChange={newValue => {\n          setIsSelected(newValue)\n          onChange(newValue)\n        }}\n        key={`${id}-${index}`}\n        checked={isSelected}\n        label={label}\n      ></Checkbox>\n      {isDropdown && <span className=\"EnumFacetFilter__count\">({count})</span>}\n      {!isDropdown && <div className=\"EnumFacetFilter__count\">{count}</div>}\n    </div>\n  )\n}\n","import React from 'react'\nimport { FacetColumnResult } from '../../../utils/synapseTypes'\nimport IconSvg from '../../IconSvg'\nimport { useQueryVisualizationContext } from '../../QueryVisualizationWrapper'\n\nexport type FacetChipProps = {\n  facet: FacetColumnResult\n  isChecked: boolean\n  onClick: () => void\n}\n\nexport const FacetChip: React.FC<FacetChipProps> = ({\n  facet,\n  isChecked,\n  onClick,\n}) => {\n  const { getColumnDisplayName } = useQueryVisualizationContext()\n  return (\n    <button className={`Chip ${isChecked ? 'Checked' : ''}`} onClick={onClick}>\n      {getColumnDisplayName(facet.columnName)}\n      <IconSvg\n        icon={isChecked ? 'check' : 'add'}\n        sx={{\n          width: '14px',\n          paddingLeft: '0.2rem',\n        }}\n      ></IconSvg>\n    </button>\n  )\n}\n","import React, { useState } from 'react'\nimport dayjs from 'dayjs'\n\ntype ControlType = 'number' | 'date'\n\nexport type RangeValues<T = string | number> = {\n  min?: T\n  max?: T\n}\n\nexport type RangeProps = {\n  type: ControlType\n  initialValues?: RangeValues\n  className?: string\n  errorText?: string\n  onChange: (newValues: RangeValues) => void\n}\n\nexport const Range: React.FunctionComponent<RangeProps> = (\n  props: RangeProps,\n) => {\n  const errorText = 'Min value should be less then max value'\n  const [error, setError] = useState(false)\n  const [values, setValues] = useState(() =>\n    props.type === 'number' && props.initialValues\n      ? props.initialValues\n      : (props.initialValues && {\n          min: dayjs(props.initialValues.min).format('YYYY-MM-DD'),\n          max: dayjs(props.initialValues.max).format('YYYY-MM-DD'),\n        }) || {\n          min: undefined,\n          max: undefined,\n        },\n  )\n\n  const className = props.className ? `range ${props.className}` : `range`\n\n  const isValid = (\n    { min, max }: RangeValues,\n\n    type: ControlType = 'number',\n  ) => {\n    if (\n      min === null ||\n      min === undefined ||\n      max === null ||\n      max === undefined\n    ) {\n      setError(false)\n      return true\n    }\n\n    if (type === 'number') {\n      if (Number(min) > Number(max)) {\n        setError(true)\n        return false\n      }\n    } else if (Date.parse(min as string) > Date.parse(max as string)) {\n      setError(true)\n      return false\n    }\n    setError(false)\n    return true\n  }\n\n  const handleAppyChanges = (\n    values: RangeValues,\n    callBackFn: (newValues: RangeValues) => void,\n    type: ControlType = 'number',\n  ) => {\n    if (isValid(values, type)) {\n      callBackFn(values)\n    }\n  }\n\n  return (\n    <div className={className} style={{ display: 'flex', flexWrap: 'wrap' }}>\n      <div style={{ marginRight: '10px' }}>\n        <input\n          aria-label=\"min\"\n          key=\"range_min\"\n          type={props.type}\n          value={values.min}\n          onChange={({ target }: React.ChangeEvent<HTMLInputElement>) =>\n            setValues({ min: target.value, max: values.max })\n          }\n        />\n        <div>to</div>\n        <input\n          aria-label=\"max\"\n          key=\"range_max\"\n          type={props.type}\n          value={values.max}\n          onChange={({ target }: React.ChangeEvent<HTMLInputElement>) =>\n            setValues({ min: values.min, max: target.value })\n          }\n        />\n      </div>\n      <button\n        className=\"btn btn-link SRC-noPadding\"\n        onClick={() => handleAppyChanges(values, props.onChange, props.type)}\n      >\n        Apply\n      </button>\n      {error && (\n        <div className=\"SRC-danger-color\">{props.errorText || errorText}</div>\n      )}\n    </div>\n  )\n}\n","import { Collapse } from '@mui/material'\nimport * as React from 'react'\nimport { useState } from 'react'\nimport {\n  FRIENDLY_VALUE_NOT_SET,\n  VALUE_NOT_SET,\n} from '../../../utils/SynapseConstants'\nimport { SelectColumn } from '../../../utils/synapseTypes'\nimport { FacetColumnResultRange } from '../../../utils/synapseTypes/Table/FacetColumnResult'\nimport { RadioGroup } from '../RadioGroup'\nimport { Range, RangeValues } from '../Range'\nimport { RangeSlider } from '../RangeSlider'\nimport { FacetFilterHeader } from './FacetFilterHeader'\n\nexport enum RadioValuesEnum {\n  NOT_SET = 'org.sagebionetworks.UNDEFINED_NULL_NOTSET',\n  RANGE = 'RANGE',\n  ANY = '',\n}\n\nexport type RangeFacetFilterProps = {\n  facetResult: FacetColumnResultRange\n  columnModel: SelectColumn\n  onChange: (range: (RadioValuesEnum | number | string | undefined)[]) => void\n  collapsed?: boolean\n}\n\nexport type RangeFacetFilterState = {\n  facetResult: FacetColumnResultRange\n  columnModel: SelectColumn\n}\n\nexport const RangeFacetFilter: React.FunctionComponent<\n  RangeFacetFilterProps\n> = ({\n  facetResult,\n  columnModel,\n  onChange,\n  collapsed = false,\n}: RangeFacetFilterProps) => {\n  const [isCollapsed, setIsCollapsed] = useState<boolean>(collapsed)\n  const options = [\n    { label: FRIENDLY_VALUE_NOT_SET, value: RadioValuesEnum.NOT_SET },\n    { label: 'Any', value: RadioValuesEnum.ANY },\n    { label: 'Range', value: RadioValuesEnum.RANGE },\n  ]\n\n  let { columnMin, columnMax, selectedMin, selectedMax } = facetResult // the upper bound of the selected range\n\n  const hasAnyValue = !selectedMin && !selectedMax\n\n  selectedMin = selectedMin || columnMin\n  selectedMax = selectedMax || columnMax\n\n  const rangeType = columnModel.columnType === 'DOUBLE' ? 'number' : 'date'\n\n  const getRadioValue = (min: string, isAnyValue: boolean) => {\n    if (isAnyValue) {\n      return RadioValuesEnum.ANY\n    } else if (min === VALUE_NOT_SET) {\n      return RadioValuesEnum.NOT_SET\n    }\n    return RadioValuesEnum.RANGE\n  }\n\n  const handleRadioGroupChange = (\n    radioValue: RadioValuesEnum,\n    onChangeCallback: (\n      range: (RadioValuesEnum | number | string | undefined)[],\n    ) => void,\n  ) => {\n    setRadioValue(radioValue)\n\n    if (radioValue !== RadioValuesEnum.RANGE) {\n      onChangeCallback([radioValue, radioValue])\n    }\n  }\n\n  const [radioValue, setRadioValue] = useState(\n    getRadioValue(selectedMin, hasAnyValue),\n  )\n\n  const result = (\n    <div>\n      <FacetFilterHeader\n        isCollapsed={isCollapsed}\n        label={columnModel.name}\n        onClick={(isCollapsed: boolean) => setIsCollapsed(isCollapsed)}\n      ></FacetFilterHeader>\n      <Collapse in={!isCollapsed}>\n        <RadioGroup\n          value={radioValue}\n          id=\"rangeSelector\"\n          options={options}\n          onChange={(radioValue: string) =>\n            handleRadioGroupChange(radioValue as RadioValuesEnum, onChange)\n          }\n        ></RadioGroup>\n        {radioValue === RadioValuesEnum.RANGE &&\n          (columnMin === columnMax ? (\n            <label>{columnMax}</label>\n          ) : (\n            <>\n              {columnModel.columnType === 'INTEGER' && (\n                <RangeSlider\n                  key=\"RangeSlider\"\n                  domain={[columnMin, columnMax]}\n                  initialValues={{ min: selectedMin, max: selectedMax }}\n                  step={1}\n                  doUpdateOnApply={true}\n                  onChange={(values: RangeValues) =>\n                    onChange([values.min, values.max])\n                  }\n                >\n                  ) {'>'}\n                </RangeSlider>\n              )}\n\n              {(columnModel.columnType === 'DATE' ||\n                columnModel.columnType === 'DOUBLE') && (\n                <Range\n                  key=\"Range\"\n                  initialValues={{\n                    min: selectedMin,\n                    max: selectedMax,\n                  }}\n                  type={rangeType}\n                  onChange={(values: RangeValues) =>\n                    onChange([values.min, values.max])\n                  }\n                ></Range>\n              )}\n            </>\n          ))}\n      </Collapse>\n    </div>\n  )\n  return result\n}\n","import React from 'react'\nimport { useDeepCompareEffectNoCheck } from 'use-deep-compare-effect'\nimport { isSingleNotSetValue } from '../../../utils/functions/queryUtils'\nimport {\n  QueryBundleRequest,\n  FacetColumnRangeRequest,\n  FacetColumnRequest,\n  FacetColumnValuesRequest,\n  FacetColumnResult,\n  FacetColumnResultRange,\n  FacetColumnResultValues,\n} from '../../../utils/synapseTypes'\nimport { useQueryContext } from '../../QueryContext'\nimport { useQueryVisualizationContext } from '../../QueryVisualizationWrapper'\nimport {\n  QUERY_FILTERS_COLLAPSED_CSS,\n  QUERY_FILTERS_EXPANDED_CSS,\n} from '../../QueryWrapper'\nimport { EnumFacetFilter } from './EnumFacetFilter'\nimport { FacetChip } from './FacetChip'\nimport { RangeFacetFilter } from './RangeFacetFilter'\nimport { Box, Skeleton, Stack } from '@mui/material'\n\nexport type FacetFilterControlsProps = {\n  /* The set of faceted column names that should be shown in the Facet controls. If undefined, all faceted columns with at least one non-null value will be shown. */\n  availableFacets?: string[]\n}\n\nconst convertFacetToFacetColumnValuesRequest = (\n  facet: FacetColumnResultValues,\n): FacetColumnValuesRequest => ({\n  concreteType: 'org.sagebionetworks.repo.model.table.FacetColumnValuesRequest',\n  columnName: facet.columnName,\n  facetValues: facet.facetValues\n    .filter(facet => facet.isSelected)\n    .map(facet => facet.value),\n})\n\nconst convertFacetColumnRangeRequest = (\n  facet: FacetColumnResultRange,\n): FacetColumnRangeRequest => {\n  let result: FacetColumnRangeRequest = {\n    concreteType:\n      'org.sagebionetworks.repo.model.table.FacetColumnRangeRequest',\n    columnName: facet.columnName, // The name of the faceted column\n  }\n\n  if (facet.columnMin) {\n    result = { ...result, min: facet.columnMin, max: facet.columnMax }\n  }\n  return result\n}\n\nconst patchRequestFacets = (\n  changedFacet: FacetColumnRequest,\n  lastRequest?: QueryBundleRequest,\n): FacetColumnRequest[] => {\n  const selections = lastRequest?.query?.selectedFacets ?? []\n  const changedFacetIndex = selections.findIndex(\n    facet => facet.columnName === changedFacet.columnName,\n  )\n\n  const isEmptyValuesFacet =\n    changedFacet.concreteType ===\n      'org.sagebionetworks.repo.model.table.FacetColumnValuesRequest' &&\n    (!changedFacet.facetValues || !changedFacet.facetValues.length)\n  if (changedFacetIndex > -1) {\n    if (isEmptyValuesFacet) {\n      selections.splice(changedFacetIndex, 1)\n    } else {\n      selections[changedFacetIndex] = changedFacet\n    }\n  } else {\n    selections.push(changedFacet)\n  }\n  return selections\n}\n\nexport function applyChangesToValuesColumn(\n  lastRequest: QueryBundleRequest | undefined,\n  facet: FacetColumnResultValues,\n  onChangeFn: (result: FacetColumnRequest[]) => void,\n  facetName?: string,\n  checked: boolean = false,\n) {\n  if (facetName) {\n    facet.facetValues.forEach(facetValue => {\n      if (facetValue.value === facetName) {\n        facetValue.isSelected = checked\n      }\n    })\n  } else {\n    // else clear all\n    facet.facetValues.forEach(facet => {\n      facet.isSelected = false\n    })\n  }\n\n  const changedFacet = convertFacetToFacetColumnValuesRequest(facet)\n  const result = patchRequestFacets(changedFacet, lastRequest)\n  onChangeFn(result)\n}\n\n// This handles multiple checkbox selection with delay refresh\nexport const applyMultipleChangesToValuesColumn = (\n  lastRequest: QueryBundleRequest | undefined,\n  facet: FacetColumnResultValues,\n  onChangeFn: (result: FacetColumnRequest[]) => void,\n  facetNameMap?: Record<string, string>,\n) => {\n  const facetNames = (facetNameMap && Object.keys(facetNameMap)) || []\n  if (facetNames.length) {\n    facet.facetValues.forEach(facetValue => {\n      if (facetNames.includes(facetValue.value)) {\n        facetValue.isSelected = facetNameMap\n          ? !!facetNameMap[facetValue.value]\n          : false\n      }\n    })\n  }\n  const changedFacet = convertFacetToFacetColumnValuesRequest(facet)\n  const result = patchRequestFacets(changedFacet, lastRequest)\n  onChangeFn(result)\n}\n\n//rangeChanges\nexport const applyChangesToRangeColumn = (\n  lastRequest: QueryBundleRequest | undefined,\n  facet: FacetColumnResultRange,\n  onChangeFn: (result: FacetColumnRequest[]) => void,\n  values: string[],\n) => {\n  facet.columnMin = values[0]\n  facet.columnMax = values[1]\n  const changedFacet = convertFacetColumnRangeRequest(facet)\n  const result = patchRequestFacets(changedFacet, lastRequest)\n  onChangeFn(result)\n}\n\n/**\n * Determines which facet filters should be shown after loading a new bundle. The shown facets will be the first\n * three available facets, plus any other facets that have a filter applied.\n * @param facets\n * @param selectedFacets\n * @returns the columnNames of the facets that should be shown.\n */\nexport function getDefaultShownFacetFilters(\n  facets: FacetColumnResult[],\n  selectedFacets?: FacetColumnRequest[],\n): Set<string> {\n  const columnsWithExistingFilters = (selectedFacets ?? []).map(\n    fcr => fcr.columnName,\n  )\n  return new Set([\n    ...facets.slice(0, 3).map(f => f.columnName),\n    ...columnsWithExistingFilters,\n  ])\n}\n\nfunction FacetFilterSkeleton() {\n  const facetFilterFormRow = (\n    <Stack direction={'row'} gap={'10px'} sx={{ my: 1 }}>\n      <Skeleton width={'15px'} />\n      <Skeleton width={'40%'} />\n    </Stack>\n  )\n  return (\n    <Box className={'FacetFilterControls__facet'}>\n      <Box className={'FacetFilterHeader'}>\n        <Skeleton width={'100%'} />\n      </Box>\n      <Box>\n        {facetFilterFormRow}\n        {facetFilterFormRow}\n        {facetFilterFormRow}\n      </Box>\n    </Box>\n  )\n}\n\nfunction FacetFilterControlsSkeleton() {\n  const { topLevelControlsState } = useQueryVisualizationContext()\n  const { showFacetFilter } = topLevelControlsState\n  return (\n    <div\n      className={`FacetFilterControls ${\n        showFacetFilter\n          ? QUERY_FILTERS_EXPANDED_CSS\n          : QUERY_FILTERS_COLLAPSED_CSS\n      }`}\n    >\n      <FacetFilterSkeleton />\n      <FacetFilterSkeleton />\n      <FacetFilterSkeleton />\n      <FacetFilterSkeleton />\n    </div>\n  )\n}\n\nfunction FacetFilterControls(props: FacetFilterControlsProps) {\n  const { availableFacets } = props\n  const {\n    data: data,\n    getLastQueryRequest,\n    executeQueryRequest,\n  } = useQueryContext()\n  const lastRequest = getLastQueryRequest()\n\n  const facets = data!\n    .facets!.filter(\n      facet =>\n        // If availableFacets is configured, remove those that don't match.\n        availableFacets == null || availableFacets.includes(facet.columnName),\n    )\n    .filter(\n      facet =>\n        // Don't show facets where there are no values\n        !isSingleNotSetValue(facet),\n    )\n\n  // Controls which facet filter sections are shown/hidden by clicking on chips\n  const [facetFiltersShown, setFacetFiltersShown] = React.useState<Set<string>>(\n    getDefaultShownFacetFilters(facets, lastRequest.query.selectedFacets),\n  )\n  const { topLevelControlsState } = useQueryVisualizationContext()\n  const { showFacetFilter } = topLevelControlsState\n\n  /**\n   * When the data facets change, reset the initially-selected chips\n   */\n  useDeepCompareEffectNoCheck(() => {\n    // Select the first three facet columns, plus any columns where a facet is already filtered\n    setFacetFiltersShown(\n      getDefaultShownFacetFilters(facets, lastRequest.query.selectedFacets),\n    )\n  }, [facets])\n\n  const columnModels = data!.selectColumns\n\n  const applyChanges = (facets: FacetColumnRequest[]) => {\n    const queryRequest: QueryBundleRequest = getLastQueryRequest()\n    queryRequest.query.selectedFacets = facets\n    queryRequest.query.offset = 0\n    executeQueryRequest(queryRequest)\n  }\n\n  const toggleShowFacetFilter = (facet: FacetColumnResult) => {\n    const newFacetFilterShown = new Set(facetFiltersShown)\n    if (newFacetFilterShown.has(facet.columnName)) {\n      newFacetFilterShown.delete(facet.columnName)\n    } else {\n      newFacetFilterShown.add(facet.columnName)\n    }\n    setFacetFiltersShown(newFacetFilterShown)\n  }\n\n  return (\n    <div\n      className={`FacetFilterControls ${\n        showFacetFilter\n          ? QUERY_FILTERS_EXPANDED_CSS\n          : QUERY_FILTERS_COLLAPSED_CSS\n      }`}\n    >\n      {(facets ?? [])\n        .filter(facet => facetFiltersShown.has(facet.columnName))\n        .map(facet => {\n          const columnModel = columnModels!.find(\n            model => model.name === facet.columnName,\n          )\n          return (\n            <div className=\"FacetFilterControls__facet\" key={facet.columnName}>\n              {facet.facetType === 'enumeration' && columnModel && (\n                <EnumFacetFilter\n                  containerAs=\"Collapsible\"\n                  collapsed={false}\n                  facetValues={facet.facetValues}\n                  columnModel={columnModel}\n                  onChange={(facetNamesMap: Record<string, string>) =>\n                    applyMultipleChangesToValuesColumn(\n                      lastRequest,\n                      facet,\n                      applyChanges,\n                      facetNamesMap,\n                    )\n                  }\n                  onClear={() =>\n                    applyChangesToValuesColumn(lastRequest, facet, applyChanges)\n                  }\n                ></EnumFacetFilter>\n              )}\n              {facet.facetType === 'range' && columnModel && (\n                <RangeFacetFilter\n                  facetResult={facet}\n                  columnModel={columnModel}\n                  collapsed={false}\n                  onChange={(values: (string | number | undefined)[]) =>\n                    applyChangesToRangeColumn(\n                      lastRequest,\n                      facet,\n                      applyChanges,\n                      values as string[],\n                    )\n                  }\n                ></RangeFacetFilter>\n              )}\n            </div>\n          )\n        })}\n      <div>\n        <div className=\"AvailableFacet\">\n          <label className=\"AvailableFacet__label\">Available Facets</label>\n        </div>\n        {facets.map(facet => {\n          return (\n            <FacetChip\n              key={facet.columnName}\n              facet={facet}\n              onClick={() => toggleShowFacetFilter(facet)}\n              isChecked={facetFiltersShown.has(facet.columnName)}\n            />\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n\nexport default function FacetFilterControlsOrLoader(\n  props: FacetFilterControlsProps,\n) {\n  const { data, isLoadingNewBundle } = useQueryContext()\n  if (isLoadingNewBundle) {\n    return <FacetFilterControlsSkeleton />\n  } else if (data == null || data.facets == null) {\n    return <></>\n  }\n  return <FacetFilterControls {...props} />\n}\n","import { InfoOutlined } from '@mui/icons-material'\nimport * as PlotlyTyped from 'plotly.js'\nimport Plotly from 'plotly.js-basic-dist'\nimport React, { useCallback, useState } from 'react'\nimport { Dropdown } from 'react-bootstrap'\nimport createPlotlyComponent from 'react-plotly.js/factory'\nimport { SizeMe } from 'react-sizeme'\nimport { SkeletonInlineBlock } from '../../../assets/skeletons/SkeletonInlineBlock'\nimport getColorPalette from '../../../containers/ColorGradient'\nimport { ElementWithTooltip } from '../../../containers/widgets/ElementWithTooltip'\nimport { SynapseClient, SynapseConstants } from '../../../utils'\n\nimport { useSynapseContext } from '../../../utils/SynapseContext'\nimport {\n  ColumnTypeEnum,\n  FacetColumnRequest,\n  FacetColumnResultValueCount,\n  FacetColumnResultValues,\n} from '../../../utils/synapseTypes'\nimport loadingScreen from '../../LoadingScreen'\nimport { useQueryVisualizationContext } from '../../QueryVisualizationWrapper'\nimport { useQueryContext } from '../../QueryContext'\nimport { EnumFacetFilter } from '../query-filter/EnumFacetFilter'\nimport {\n  applyChangesToValuesColumn,\n  applyMultipleChangesToValuesColumn,\n} from '../query-filter/FacetFilterControls'\nimport { Box, Tooltip, Typography } from '@mui/material'\nimport { useQuery } from 'react-query'\nimport { ConfirmationDialog } from '../../ConfirmationDialog'\n\nconst Plot = createPlotlyComponent(Plotly)\n\nexport type FacetNavPanelProps = {\n  applyChangesToGraphSlice: (\n    facet: FacetColumnResultValues,\n    value: FacetColumnResultValueCount | undefined,\n    isSelected: boolean,\n  ) => void\n  applyChangesToFacetFilter: (facets: FacetColumnRequest[]) => void\n  index: number\n  facetToPlot: FacetColumnResultValues\n  plotType: PlotType\n  onSetPlotType: (plotType: PlotType) => void\n  onHide: () => void\n  isModalView: boolean\n  onCloseModal?: () => void\n}\n\nconst maxLabelLength: number = 19\nconst maxLegendLength: number = 30\n\nexport type PlotType = 'PIE' | 'BAR'\n\nconst layout: Partial<PlotlyTyped.Layout> = {\n  showlegend: false,\n  annotations: [],\n  margin: { l: 0, r: 0, b: 0, t: 0, pad: 0 },\n  yaxis: {\n    visible: false,\n    showgrid: false,\n  },\n  xaxis: {\n    visible: false,\n    showgrid: false,\n  },\n}\n\nexport type GraphData = {\n  data: PlotlyTyped.Data[]\n  labels: FacetWithLabel[]\n  colors: string[]\n}\n\nexport function truncate(str: string | undefined, n: number) {\n  if (!str) {\n    return str\n  }\n  const trimmedStr: string = str.trim()\n  return trimmedStr.length > n ? trimmedStr.substr(0, n - 1) + '' : str\n}\n\nexport async function extractPlotDataArray(\n  facetToPlot: FacetColumnResultValues,\n  columnType: ColumnTypeEnum | undefined,\n  index: number,\n  plotType: PlotType,\n  accessToken?: string,\n) {\n  const { colorPalette } = getColorPalette(\n    index,\n    facetToPlot.facetValues.length,\n  )\n\n  const getLabels = async (\n    facetValues: FacetColumnResultValueCount[],\n    columnType?: ColumnTypeEnum,\n    accessToken?: string,\n  ) => {\n    const map = new Map<string, string>()\n    map.set(\n      SynapseConstants.VALUE_NOT_SET,\n      SynapseConstants.FRIENDLY_VALUE_NOT_SET,\n    )\n    // Filter out empties\n    const filteredValues = facetValues\n      .map(value => value.value)\n      .filter(val => val !== SynapseConstants.VALUE_NOT_SET)\n    if (\n      columnType === ColumnTypeEnum.ENTITYID ||\n      columnType === ColumnTypeEnum.ENTITYID_LIST\n    ) {\n      // TODO: Pagination\n      const response = await SynapseClient.getEntityHeadersByIds(\n        filteredValues,\n        accessToken,\n      )\n      for (const header of response.results) {\n        map.set(header.id, header.name)\n      }\n    } else if (\n      columnType === ColumnTypeEnum.USERID ||\n      columnType === ColumnTypeEnum.USERID_LIST\n    ) {\n      const response = await SynapseClient.getGroupHeadersBatch(\n        filteredValues,\n        accessToken,\n      )\n      for (const header of response.children) {\n        map.set(header.ownerId, header.userName)\n      }\n    }\n\n    return facetValues.map(facetValue => ({\n      facet: facetValue,\n      label: getLabel(facetValue, false, map),\n      truncatedLabel: getLabel(facetValue, true, map),\n      count: facetValue.count,\n    }))\n  }\n\n  const getLabel = (\n    facetValue: FacetColumnResultValueCount,\n    truncateFlag: boolean,\n    labelMap: Map<string, string>,\n  ): string => {\n    let label = labelMap.get(facetValue.value) ?? facetValue.value\n    if (truncateFlag) {\n      label = truncate(label, maxLabelLength)!\n    }\n    return label\n  }\n\n  const labels = await getLabels(\n    facetToPlot.facetValues,\n    columnType,\n    accessToken,\n  )\n  const text = labels.map(el => el.truncatedLabel)\n\n  const anyFacetsSelected = facetToPlot.facetValues.some(\n    value => value.isSelected,\n  )\n\n  const selectionAwareColorPalette = anyFacetsSelected\n    ? facetToPlot.facetValues.map((facetValue, index) =>\n        facetValue.isSelected\n          ? colorPalette[index]\n          : colorPalette[index]\n              .replace('rgb(', 'rgba(')\n              .replace(')', ', 0.25)'),\n      )\n    : colorPalette\n  const singleChartData: PlotlyTyped.Data = {\n    values:\n      plotType === 'PIE'\n        ? facetToPlot.facetValues.map(facet => facet.count)\n        : undefined,\n    labels: labels.map(el => el.label),\n    text,\n    x:\n      plotType === 'BAR'\n        ? facetToPlot.facetValues.map(\n            facet =>\n              labels.find(label => label.facet === facet)?.label ?? facet.value,\n          )\n        : undefined,\n    y:\n      plotType === 'BAR'\n        ? facetToPlot.facetValues.map(facet => facet.count)\n        : undefined,\n    // @ts-ignore\n    facetEnumerationValues: facetToPlot.facetValues.map(\n      facetValue => facetValue.value,\n    ),\n    name: facetToPlot.columnName,\n    hovertemplate:\n      plotType === 'PIE'\n        ? '<b>%{text}</b><br>%{value} (%{percent})<br><extra></extra>'\n        : '<b>%{text}: </b><br>%{value} <br><extra></extra>',\n    textinfo: 'none',\n    type: plotType === 'PIE' ? 'pie' : 'bar',\n    pull:\n      plotType === 'PIE'\n        ? facetToPlot.facetValues.map(facetValue =>\n            facetValue.isSelected ? 0.1 : 0,\n          )\n        : undefined,\n    marker: {\n      colors: plotType === 'PIE' ? selectionAwareColorPalette : undefined,\n      color: plotType === 'BAR' ? selectionAwareColorPalette : undefined,\n    },\n  }\n\n  const result = {\n    data: [singleChartData],\n    labels,\n    colors:\n      plotType === 'PIE'\n        ? ((singleChartData as any).marker?.colors as string[])\n        : ((singleChartData as any).marker?.color as string[]),\n  }\n  return result\n}\n\nconst applyFacetFilter = (\n  event: PlotlyTyped.PlotMouseEvent,\n  allFacetValues: FacetColumnResultValues,\n  callbackApplyFn: FacetNavPanelProps['applyChangesToGraphSlice'],\n) => {\n  if (event.points && event.points[0]) {\n    const plotPointData: any = event.points[0]\n    const facetValueClickedValue =\n      plotPointData.data.facetEnumerationValues[plotPointData.pointNumber]\n    const facetValueClicked = allFacetValues.facetValues.find(\n      facet => facet.value === facetValueClickedValue,\n    )\n    callbackApplyFn(\n      allFacetValues,\n      facetValueClicked,\n      !facetValueClicked!.isSelected,\n    )\n  }\n}\n\nexport function getPlotStyle(\n  parentWidth: number | null,\n  plotType: PlotType,\n  maxHeight: number,\n): { width: string; height: string } {\n  const quotient = plotType === 'BAR' ? 0.8 : 0.6\n  const width = parentWidth ? parentWidth * quotient : 200\n  let height = plotType === 'PIE' ? width : width / 3\n  // max height of .FacetNav row col* is 200px, so the effective plot height max is around 150 unless it's expanded\n  if (height > maxHeight) {\n    height = maxHeight\n  }\n\n  return {\n    width: `${width}px`,\n    height: `${height}px`,\n  }\n}\n\nexport type FacetWithLabel = {\n  label: string\n  count: number\n}\n\ntype FacetPlotLegendProps = {\n  labels?: FacetWithLabel[]\n  colors?: string[]\n  isExpanded: boolean\n}\n\nexport function FacetPlotLegend(props: FacetPlotLegendProps) {\n  const { labels, colors = [], isExpanded } = props\n  if (!labels) {\n    return <></>\n  }\n  const numLegendItems = isExpanded\n    ? Math.min(labels.length, 9)\n    : Math.min(labels.length, 4)\n  if (numLegendItems === 0) {\n    return <></>\n  }\n  return (\n    <div\n      className={`FacetNavPanel__body__legend${isExpanded ? '--expanded' : ''}`}\n    >\n      {labels.slice(0, numLegendItems).map((facetValue, index) => {\n        const labelDisplay = truncate(facetValue.label, maxLegendLength)\n        return (\n          <ElementWithTooltip\n            tooltipText={facetValue.label}\n            key={facetValue.label}\n          >\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\n              <Box\n                sx={{\n                  width: '14px',\n                  height: '14px',\n                  cursor: 'default',\n                  backgroundColor: colors[index],\n                }}\n                key={`legendLabel_${index}`}\n                style={{ cursor: 'default' }}\n              />\n              <Typography variant=\"body2\">{labelDisplay}</Typography>\n              <Typography variant=\"body2\" sx={{ color: 'grey.600' }}>\n                {facetValue.count}\n              </Typography>\n            </Box>\n          </ElementWithTooltip>\n        )\n      })}\n    </div>\n  )\n}\n\nconst getClassNameForPlotDiv = (isExpanded: boolean, plotType: PlotType) => {\n  if (!isExpanded) {\n    return 'FacetNavPanel__body__plot'\n  }\n  return `FacetNavPanel__body__plot--expanded${\n    plotType === 'BAR' ? 'Bar' : 'Pie'\n  }`\n}\n\nconst FacetNavPanel: React.FunctionComponent<FacetNavPanelProps> = (\n  props: FacetNavPanelProps,\n): JSX.Element => {\n  const {\n    onHide,\n    isModalView,\n    applyChangesToFacetFilter,\n    applyChangesToGraphSlice,\n    index,\n    facetToPlot,\n    plotType,\n    onSetPlotType,\n  } = props\n  const { accessToken } = useSynapseContext()\n  const { data, isLoadingNewBundle, getLastQueryRequest } = useQueryContext()\n\n  const { getColumnDisplayName } = useQueryVisualizationContext()\n\n  const [showModal, setShowModal] = useState(false)\n\n  const plotTitle = getColumnDisplayName(facetToPlot.columnName)\n\n  const getColumnType = useCallback(\n    (): ColumnTypeEnum | undefined =>\n      data?.columnModels?.find(\n        columnModel => columnModel.name === facetToPlot.columnName,\n      )?.columnType as ColumnTypeEnum,\n    [data, facetToPlot.columnName],\n  )\n\n  const { data: plotData } = useQuery(\n    [\n      'extractPlotDataArray',\n      facetToPlot,\n      getColumnType(),\n      index,\n      plotType,\n      accessToken,\n    ],\n    () =>\n      extractPlotDataArray(\n        facetToPlot,\n        getColumnType(),\n        index,\n        plotType,\n        accessToken,\n      ),\n    {\n      enabled: !!facetToPlot,\n    },\n  )\n\n  /* rendering functions */\n  const ChartSelectionToggle = (): JSX.Element => (\n    <div\n      onClick={event => {\n        event.stopPropagation()\n      }}\n      className=\"bootstrap-4-backport SRC-labeled-dropdown\"\n    >\n      <span className=\"SRC-labeled-dropdown__label\">Chart Type</span>\n      <Dropdown>\n        <Dropdown.Toggle className=\"secondary-caret\" variant=\"gray-select\">\n          {plotType === 'PIE' ? 'Pie Chart' : 'Bar Chart'}\n        </Dropdown.Toggle>\n        <Dropdown.Menu className=\"chart-tools\">\n          <Dropdown.Item as=\"button\" onClick={() => onSetPlotType('BAR')}>\n            Bar Chart\n          </Dropdown.Item>\n          <Dropdown.Item as=\"button\" onClick={() => onSetPlotType('PIE')}>\n            Pie Chart\n          </Dropdown.Item>\n        </Dropdown.Menu>\n      </Dropdown>\n    </div>\n  )\n\n  if ((!data && isLoadingNewBundle) || !facetToPlot) {\n    return (\n      <div className=\"SRC-loadingContainer SRC-centerContentColumn\">\n        {loadingScreen}\n      </div>\n    )\n  } else {\n    return (\n      <>\n        <ConfirmationDialog\n          open={showModal}\n          onCancel={() => setShowModal(false)}\n          title={plotTitle ?? ''}\n          content={<FacetNavPanel {...props} isModalView={true} />}\n          hasCancelButton={false}\n          confirmButtonText=\"Apply Filters\"\n          onConfirm={() => setShowModal(false)}\n        />\n        <div\n          role=\"graphics-document\"\n          className={`FacetNavPanel${isModalView ? '--expanded' : ''}`}\n        >\n          {!isModalView && (\n            <div className=\"FacetNavPanel__title\">\n              {!data && isLoadingNewBundle ? (\n                <SkeletonInlineBlock width={100} />\n              ) : (\n                <span className=\"FacetNavPanel__title__name\">{plotTitle}</span>\n              )}\n              <div className=\"FacetNavPanel__title__tools\">\n                <EnumFacetFilter\n                  facetValues={facetToPlot.facetValues}\n                  columnModel={\n                    data?.columnModels!.find(\n                      el => el.name === facetToPlot.columnName,\n                    )!\n                  }\n                  onChange={(facetNamesMap: Record<string, string>) => {\n                    applyMultipleChangesToValuesColumn(\n                      getLastQueryRequest(),\n                      facetToPlot,\n                      applyChangesToFacetFilter,\n                      facetNamesMap,\n                    )\n                  }}\n                  onClear={() => {\n                    applyChangesToValuesColumn(\n                      getLastQueryRequest(),\n                      facetToPlot,\n                      applyChangesToFacetFilter,\n                    )\n                  }}\n                  containerAs=\"Dropdown\"\n                />\n                <ElementWithTooltip\n                  tooltipText=\"Expand to large graph\"\n                  key=\"expandGraph\"\n                  callbackFn={() => setShowModal(true)}\n                  className=\"SRC-primary-color\"\n                  darkTheme={false}\n                  icon={'expand'}\n                />\n                <ElementWithTooltip\n                  tooltipText=\"Hide graph under Show More\"\n                  key=\"hideGraph\"\n                  callbackFn={() => onHide()}\n                  className=\"SRC-primary-color\"\n                  darkTheme={false}\n                  icon={'close'}\n                />\n              </div>\n            </div>\n          )}\n          {isModalView && (\n            <>\n              <div className={'bootstrap-4-backport SRC-labeled-dropdown'}>\n                <span className=\"SRC-labeled-dropdown__label\">\n                  Filter All Data By\n                </span>\n                <EnumFacetFilter\n                  facetValues={facetToPlot.facetValues}\n                  columnModel={\n                    data?.columnModels!.find(\n                      el => el.name === facetToPlot.columnName,\n                    )!\n                  }\n                  onChange={(facetNamesMap: Record<string, string>) => {\n                    applyMultipleChangesToValuesColumn(\n                      getLastQueryRequest(),\n                      facetToPlot,\n                      applyChangesToFacetFilter,\n                      facetNamesMap,\n                    )\n                  }}\n                  onClear={() => {\n                    applyChangesToValuesColumn(\n                      getLastQueryRequest(),\n                      facetToPlot,\n                      applyChangesToFacetFilter,\n                    )\n                  }}\n                  containerAs=\"Dropdown\"\n                  dropdownType=\"SelectBox\"\n                />\n                <Tooltip title=\"Selecting items in this dropdown will affect all facets on the Explore page.\">\n                  <InfoOutlined className=\"SRC-hand-cursor SRC-secondary-text-color\" />\n                </Tooltip>\n              </div>\n              <ChartSelectionToggle />\n            </>\n          )}\n          <div\n            className={`FacetNavPanel__body${isModalView ? '--expanded' : ''}`}\n            role=\"graphics-object\"\n          >\n            <SizeMe monitorHeight>\n              {({ size }) => (\n                <div className={getClassNameForPlotDiv(isModalView, plotType)}>\n                  <Plot\n                    key={`${facetToPlot.columnName}-${plotType}-${size.width}`}\n                    layout={layout}\n                    data={plotData?.data ?? []}\n                    style={getPlotStyle(\n                      size.width,\n                      plotType,\n                      isModalView ? 300 : 150,\n                    )}\n                    config={{ displayModeBar: false }}\n                    onClick={evt =>\n                      applyFacetFilter(\n                        evt,\n                        facetToPlot,\n                        applyChangesToGraphSlice,\n                      )\n                    }\n                  ></Plot>\n                </div>\n              )}\n            </SizeMe>\n            <FacetPlotLegend\n              labels={plotData?.labels}\n              colors={plotData?.colors}\n              isExpanded={isModalView}\n            />\n          </div>\n        </div>\n      </>\n    )\n  }\n}\n\nexport default FacetNavPanel\n","import React from 'react'\nimport { QueryContextType, useQueryContext } from '../../QueryContext'\nimport {\n  ColumnMultiValueFunctionQueryFilter,\n  ColumnSingleValueQueryFilter,\n  isColumnMultiValueFunctionQueryFilter,\n  isColumnSingleValueQueryFilter,\n  isTextMatchesQueryFilter,\n  QueryFilter,\n  TextMatchesQueryFilter,\n} from '../../../utils/synapseTypes/Table/QueryFilter'\nimport SelectionCriteriaPill, {\n  SelectionCriteriaPillProps,\n} from './SelectionCriteriaPill'\nimport {\n  FacetColumnRequest,\n  isFacetColumnRangeRequest,\n  isFacetColumnValuesRequest,\n} from '../../../utils/synapseTypes'\nimport {\n  QueryVisualizationContextType,\n  useQueryVisualizationContext,\n} from '../../QueryVisualizationWrapper'\n\nfunction getPillPropsFromColumnQueryFilter(\n  queryFilter:\n    | ColumnSingleValueQueryFilter\n    | ColumnMultiValueFunctionQueryFilter,\n  queryContext: QueryContextType,\n  queryVisualizationContext: QueryVisualizationContextType,\n): SelectionCriteriaPillProps[] {\n  // ColumnSingleValueQueryFilter and ColumnMultiValueQueryFilter both allow for a list of values\n  // We want to render 1 pill per value, so we expand\n  const columnModel = queryContext.getColumnModel(queryFilter.columnName)!\n  return queryFilter.values.map(value => {\n    let filterValue = value\n\n    if (value?.startsWith('%') && value?.endsWith('%')) {\n      // strip '%' wildcard character when using a LIKE condition\n      filterValue = filterValue.substring(1, filterValue.length - 1)\n    }\n    filterValue = queryVisualizationContext.getDisplayValue(\n      filterValue,\n      columnModel.columnType,\n    )\n    const text = `${queryFilter.columnName}: ${filterValue}`\n    return {\n      key: `queryFilter-${queryFilter.concreteType}-${queryFilter.columnName}-${value}`,\n      innerText: text,\n      tooltipText: text,\n      onRemoveFilter: () => {\n        queryContext.removeValueFromQueryFilter(queryFilter, value)\n      },\n    }\n  })\n}\n\nfunction getPillPropsFromTextMatchesQueryFilter(\n  queryFilter: TextMatchesQueryFilter,\n  queryContext: QueryContextType,\n): SelectionCriteriaPillProps {\n  return {\n    key: `queryFilter-${queryFilter.concreteType}-${queryFilter.searchExpression}`,\n    innerText: queryFilter.searchExpression,\n    tooltipText: `Text matches: \"${queryFilter.searchExpression}\"`,\n    onRemoveFilter: () => {\n      queryContext.removeQueryFilter(queryFilter)\n    },\n  }\n}\n\nfunction getPillPropsFromQueryFilter(\n  queryFilter: QueryFilter,\n  queryContext: QueryContextType,\n  queryVisualizationContext: QueryVisualizationContextType,\n): SelectionCriteriaPillProps[] {\n  if (\n    isColumnSingleValueQueryFilter(queryFilter) ||\n    isColumnMultiValueFunctionQueryFilter(queryFilter)\n  ) {\n    if (queryFilter.columnName === queryContext.lockedColumn?.columnName) {\n      return []\n    }\n    return getPillPropsFromColumnQueryFilter(\n      queryFilter,\n      queryContext,\n      queryVisualizationContext,\n    )\n  } else if (isTextMatchesQueryFilter(queryFilter)) {\n    return [getPillPropsFromTextMatchesQueryFilter(queryFilter, queryContext)]\n  } else {\n    console.log('Unknown query filter type', queryFilter.concreteType)\n    return []\n  }\n}\n\nfunction getPillPropsFromFacet(\n  selectedFacet: FacetColumnRequest,\n  queryContext: QueryContextType,\n  queryVisualizationContext: QueryVisualizationContextType,\n): SelectionCriteriaPillProps[] {\n  if (selectedFacet.columnName === queryContext.lockedColumn?.columnName) {\n    return []\n  }\n  const columnModel = queryContext.getColumnModel(selectedFacet.columnName)!\n  const { getColumnDisplayName, getDisplayValue } = queryVisualizationContext\n  if (isFacetColumnValuesRequest(selectedFacet)) {\n    return selectedFacet.facetValues.map(facetValue => {\n      const innerText = getDisplayValue(facetValue, columnModel.columnType)\n      return {\n        key: `facet-${selectedFacet.concreteType}-${selectedFacet.columnName}-${facetValue}`,\n        innerText: innerText,\n        tooltipText: `${getColumnDisplayName(\n          selectedFacet.columnName,\n        )}: ${innerText}`,\n        onRemoveFilter: () => {\n          queryContext.removeValueFromSelectedFacet(selectedFacet, facetValue)\n        },\n      }\n    })\n  } else if (isFacetColumnRangeRequest(selectedFacet)) {\n    const innerText = `${selectedFacet.min} - ${selectedFacet.max}`\n    return [\n      {\n        key: `facet-${selectedFacet.concreteType}-${selectedFacet.columnName}-${selectedFacet.min}-${selectedFacet.max}`,\n        innerText: innerText,\n        tooltipText: `${getColumnDisplayName(\n          selectedFacet.columnName,\n        )}: ${innerText}`,\n        onRemoveFilter: () => {\n          queryContext.removeSelectedFacet(selectedFacet)\n        },\n      },\n    ]\n  } else {\n    console.log(\n      'Unknown facet type',\n      (selectedFacet as unknown as FacetColumnRequest).concreteType,\n    )\n    return []\n  }\n}\n\nfunction SelectionCriteriaPills() {\n  const queryContext = useQueryContext()\n  const queryVisualizationContext = useQueryVisualizationContext()\n  const { getLastQueryRequest } = queryContext\n  const lastQueryRequest = getLastQueryRequest()\n\n  const queryFilterPillProps = (\n    lastQueryRequest.query?.additionalFilters ?? []\n  ).flatMap(qf =>\n    getPillPropsFromQueryFilter(qf, queryContext, queryVisualizationContext),\n  )\n\n  const facetPillProps = (lastQueryRequest.query.selectedFacets ?? []).flatMap(\n    facet =>\n      getPillPropsFromFacet(facet, queryContext, queryVisualizationContext),\n  )\n\n  const allPills = [...queryFilterPillProps, ...facetPillProps]\n\n  return (\n    <>\n      {allPills.map(pillProps => {\n        // Encode the key because the facet may include an illegal character\n        const key = encodeURIComponent(pillProps.key)\n        return <SelectionCriteriaPill {...pillProps} key={key} />\n      })}\n    </>\n  )\n}\n\nexport default SelectionCriteriaPills\n","import React from 'react'\nimport { SkeletonInlineBlock } from '../assets/skeletons/SkeletonInlineBlock'\nimport { FacetColumnRequest } from '../utils/synapseTypes'\nimport { useQueryVisualizationContext } from './QueryVisualizationWrapper'\nimport {\n  QUERY_FILTERS_COLLAPSED_CSS,\n  QUERY_FILTERS_EXPANDED_CSS,\n} from './QueryWrapper'\nimport { useQueryContext } from './QueryContext'\nimport IconSvg from './IconSvg'\nimport SelectionCriteriaPills from './widgets/facet-nav/SelectionCriteriaPills'\n\nexport type TotalQueryResultsProps = {\n  style?: React.CSSProperties\n  frontText: string\n  endText?: string\n  applyChanges?: (newFacets: FacetColumnRequest[]) => void\n  hideIfUnfiltered?: boolean\n}\n\nfunction TotalQueryResults(props: TotalQueryResultsProps) {\n  const { style, frontText, endText = '', hideIfUnfiltered = false } = props\n  const { data, isLoadingNewBundle, resetQuery, error, hasResettableFilters } =\n    useQueryContext()\n\n  const { topLevelControlsState, unitDescription } =\n    useQueryVisualizationContext()\n\n  const total = data?.queryCount\n\n  const showFacetFilter = topLevelControlsState?.showFacetFilter\n\n  const showClearAll = hasResettableFilters\n  if (error) {\n    return <></>\n  }\n  return (\n    <div\n      className={`TotalQueryResults ${\n        showFacetFilter\n          ? QUERY_FILTERS_EXPANDED_CSS\n          : QUERY_FILTERS_COLLAPSED_CSS\n      } ${hasResettableFilters ? 'hasFilters' : ''}`}\n      style={style}\n    >\n      {isLoadingNewBundle ? (\n        <SkeletonInlineBlock width={100} />\n      ) : (\n        <>\n          {(hasResettableFilters || !hideIfUnfiltered) && (\n            <div className=\"TotalQueryResults__topbar\">\n              <span className=\"SRC-boldText\">\n                {frontText} {total?.toLocaleString()} {unitDescription}{' '}\n                {endText}\n              </span>\n              {showClearAll && (\n                <a\n                  onClick={resetQuery}\n                  className=\"TotalQueryResults__topbar__clearall\"\n                >\n                  <IconSvg icon=\"deleteSweep\" />\n                  Clear all filters\n                </a>\n              )}\n            </div>\n          )}\n          <div className=\"TotalQueryResults__selections\">\n            <SelectionCriteriaPills />\n          </div>\n        </>\n      )}\n    </div>\n  )\n}\n\nexport default TotalQueryResults\n","import React, { useEffect, useMemo, useState } from 'react'\nimport { isSingleNotSetValue } from '../../../utils/functions/queryUtils'\nimport {\n  FacetColumnRequest,\n  FacetColumnResult,\n  FacetColumnResultValueCount,\n  FacetColumnResultValues,\n  QueryResultBundle,\n} from '../../../utils/synapseTypes'\nimport { useQueryVisualizationContext } from '../../QueryVisualizationWrapper'\nimport {\n  QUERY_FILTERS_COLLAPSED_CSS,\n  QUERY_FILTERS_EXPANDED_CSS,\n} from '../../QueryWrapper'\nimport { useQueryContext } from '../../QueryContext'\nimport { applyChangesToValuesColumn } from '../query-filter/FacetFilterControls'\nimport FacetNavPanel, { PlotType } from './FacetNavPanel'\nimport TotalQueryResults from '../../TotalQueryResults'\nimport WideButton from '../../../components/styled/WideButton'\n\n/*\nTODO: This component has a few bugs when its props are updated with new data, this should be handled\nat some point. As of the moment the portal doesn't have a case when the props will update,\nit will always mount this component.\n*/\n\nexport type FacetNavProps = {\n  facetsToPlot?: string[]\n}\n\ntype UiFacetState = {\n  name: string\n  isHidden: boolean\n  plotType: PlotType\n  index?: number\n}\n\nconst DEFAULT_VISIBLE_FACETS = 2\n\ntype ShowMoreState = 'MORE' | 'LESS' | 'NONE'\n\nexport function getFacets(\n  data: QueryResultBundle | undefined,\n  facetsToPlot?: string[],\n): FacetColumnResult[] {\n  const result =\n    data?.facets?.filter(item => {\n      const isFacetToPlot =\n        item.facetType === 'enumeration' &&\n        (!facetsToPlot?.length || facetsToPlot.indexOf(item.columnName) > -1)\n      // PORTALS-1993: only plot if the facet has count data\n      return (\n        isFacetToPlot &&\n        item.facetValues.length > 0 &&\n        !isSingleNotSetValue(item)\n      )\n    }) ?? []\n  return result\n}\n\nconst FacetNav: React.FunctionComponent<FacetNavProps> = ({\n  facetsToPlot,\n}: FacetNavProps): JSX.Element => {\n  const {\n    data,\n    getLastQueryRequest,\n    isLoadingNewBundle,\n    executeQueryRequest,\n    error,\n    asyncJobStatus,\n  } = useQueryContext()\n\n  const { topLevelControlsState } = useQueryVisualizationContext()\n  const [facetUiStateArray, setFacetUiStateArray] = useState<UiFacetState[]>([])\n  const [isFirstTime, setIsFirstTime] = useState(true)\n  const { showFacetVisualization, showFacetFilter } = topLevelControlsState\n\n  const lastQueryRequest = getLastQueryRequest()\n\n  useEffect(() => {\n    const result = getFacets(data, facetsToPlot)\n    if (result.length === 0) {\n      return\n    }\n    if (isFirstTime) {\n      setFacetUiStateArray(\n        result.map((item, index) => ({\n          name: item.columnName,\n          isHidden: index >= DEFAULT_VISIBLE_FACETS,\n          plotType: 'PIE',\n        })),\n      )\n      setIsFirstTime(false)\n    }\n  }, [data, isFirstTime, facetsToPlot])\n\n  // when 'show more/less' is clicked\n  const onShowMoreClick = (shouldShowMore: boolean) => {\n    setFacetUiStateArray(facetUiStateArray => {\n      return facetUiStateArray.map((item, index) => {\n        if (shouldShowMore) {\n          // show everything\n          return { ...item, isHidden: false }\n        }\n        // otherwise hide everything except the first three items\n        return { ...item, isHidden: index >= DEFAULT_VISIBLE_FACETS }\n      })\n    })\n  }\n\n  // what needs to happen after the filters are adjusted from the plot\n  const applyChangesFromQueryFilter = (facets: FacetColumnRequest[]) => {\n    lastQueryRequest.query.selectedFacets = facets\n    lastQueryRequest.query.offset = 0\n    executeQueryRequest(lastQueryRequest)\n  }\n\n  // don't show hidden facets\n  const isFacetHiddenInGrid = (columnName: string) => {\n    const itemHidden = facetUiStateArray.find(\n      item => item.name === columnName && item.isHidden === true,\n    )\n    const result = itemHidden !== undefined\n    return result\n  }\n\n  const showMoreButtonState = useMemo<ShowMoreState>(() => {\n    if (\n      // if at least one item is hidden\n      facetUiStateArray.find(item => item.isHidden === true)\n    ) {\n      return 'MORE'\n    } else if (facetUiStateArray.length <= DEFAULT_VISIBLE_FACETS) {\n      return 'NONE'\n    } else {\n      return 'LESS'\n    }\n  }, [facetUiStateArray])\n\n  // hides facet graph\n  const hideFacetInGrid = (columnName: string) => {\n    setUiPropertyForFacet(columnName, 'isHidden', true)\n  }\n\n  const setPlotType = (columnName: string, plotType: PlotType) => {\n    setUiPropertyForFacet(columnName, 'plotType', plotType)\n  }\n\n  const getPlotType = (columnName: string): PlotType => {\n    const plotType = facetUiStateArray.find(\n      item => item.name === columnName,\n    )?.plotType\n    return plotType ?? 'PIE'\n  }\n\n  const setUiPropertyForFacet = (\n    columnName: string,\n    propName: keyof UiFacetState,\n    value: boolean | PlotType, // 'the possible values of the above type' (currently can't be specified in TS using symbols)\n  ) => {\n    setFacetUiStateArray(facetUiStateArray =>\n      facetUiStateArray.map(item =>\n        item.name === columnName ? { ...item, [propName]: value } : item,\n      ),\n    )\n  }\n\n  const facets = getFacets(data, facetsToPlot)\n\n  const colorTracker = getFacets(data, facetsToPlot).map((el, index) => {\n    return {\n      columnName: el.columnName,\n      colorIndex: index,\n    }\n  })\n  const hasFacetsOrFilters =\n    (lastQueryRequest?.query.selectedFacets !== undefined &&\n      lastQueryRequest.query.selectedFacets.length > 0) ||\n    (lastQueryRequest?.query.additionalFilters !== undefined &&\n      lastQueryRequest?.query.additionalFilters.length > 0)\n  if (error) {\n    return <></>\n  } else if (!data && isLoadingNewBundle) {\n    return (\n      <div className=\"SRC-loadingContainer SRC-centerContentColumn\">\n        {asyncJobStatus?.progressMessage && (\n          <div>\n            <span className=\"spinner\" />\n            {asyncJobStatus.progressMessage}\n          </div>\n        )}\n      </div>\n    )\n  } else {\n    return (\n      <>\n        <TotalQueryResults\n          frontText={''}\n          endText={hasFacetsOrFilters ? 'filtered by' : ''}\n          hideIfUnfiltered={true}\n        />\n        {facets.length > 0 && (\n          <div\n            className={`FacetNav ${showFacetVisualization ? '' : 'hidden'} ${\n              showFacetFilter\n                ? QUERY_FILTERS_EXPANDED_CSS\n                : QUERY_FILTERS_COLLAPSED_CSS\n            } ${showMoreButtonState === 'LESS' ? 'less' : ''}`}\n          >\n            <div className=\"FacetNav__row\" role=\"list\">\n              {facets.map(facet => (\n                <div\n                  className=\"col-sm-12 col-md-4\"\n                  style={{\n                    display: isFacetHiddenInGrid(facet.columnName)\n                      ? 'none'\n                      : 'block',\n                  }}\n                  key={facet.columnName}\n                >\n                  <FacetNavPanel\n                    index={\n                      colorTracker.find(\n                        el => el.columnName === facet.columnName,\n                      )?.colorIndex!\n                    }\n                    onHide={() => hideFacetInGrid(facet.columnName)}\n                    plotType={getPlotType(facet.columnName)}\n                    onSetPlotType={(plotType: PlotType) =>\n                      setPlotType(facet.columnName, plotType)\n                    }\n                    facetToPlot={facet as FacetColumnResultValues}\n                    /*\n                      TODO: Simplify the nested functions below, all the logic should be contained\n                      in the EnumFacetFilter component.\n                    */\n                    applyChangesToFacetFilter={applyChangesFromQueryFilter}\n                    applyChangesToGraphSlice={(\n                      facet: FacetColumnResultValues,\n                      value: FacetColumnResultValueCount | undefined,\n                      isSelected: boolean,\n                    ) =>\n                      applyChangesToValuesColumn(\n                        lastQueryRequest,\n                        facet,\n                        applyChangesFromQueryFilter,\n                        value?.value,\n                        isSelected,\n                      )\n                    }\n                    isModalView={false}\n                  />\n                </div>\n              ))}\n            </div>\n            {showMoreButtonState !== 'NONE' && (\n              <div className=\"FacetNav__showMoreContainer\">\n                <WideButton\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  onClick={() =>\n                    onShowMoreClick(showMoreButtonState === 'MORE')\n                  }\n                  sx={{ width: '250px' }}\n                >\n                  {showMoreButtonState === 'LESS'\n                    ? 'Hide Charts'\n                    : 'View All Charts'}\n                </WideButton>\n              </div>\n            )}\n          </div>\n        )}\n      </>\n    )\n  }\n}\n\nexport default FacetNav\n","import React, { useState } from 'react'\nimport { SortConfiguration } from './CardContainerLogic'\nimport { useQueryContext } from './QueryContext'\nimport { SortDirection, SortItem } from '../utils/synapseTypes'\nimport { Typography } from '@mui/material'\nimport Select from 'react-select'\nimport {\n  EnumOption,\n  findValueOption,\n  Control,\n} from './entity/annotations/CustomSelectWidget'\nimport { useQueryVisualizationContext } from './QueryVisualizationWrapper'\n\nexport type QuerySortSelectorProps = {\n  sortConfig: SortConfiguration\n}\n\nconst QuerySortSelector: React.FunctionComponent<QuerySortSelectorProps> = ({\n  sortConfig,\n}) => {\n  const { defaultColumn, defaultDirection, sortableColumns } = sortConfig\n  const queryContext = useQueryContext()\n  const { getLastQueryRequest, executeQueryRequest } = queryContext\n  const { getColumnDisplayName } = useQueryVisualizationContext()\n  const [sortColumn, setSortColumn] = useState<string | undefined>(\n    defaultColumn,\n  )\n  const [sortDirection, setSortDirection] = useState(defaultDirection)\n\n  const enumOptions: EnumOption[] = sortableColumns.map(sortableColumn => {\n    return {\n      value: sortableColumn,\n      label: getColumnDisplayName(sortableColumn)!,\n    }\n  })\n\n  const onChange = (value?: string) => {\n    const lastQueryRequestDeepClone = getLastQueryRequest()\n    let newSortDirection: SortDirection = 'ASC'\n    if (value === sortColumn) {\n      // flip sort direction\n      newSortDirection = sortDirection === 'ASC' ? 'DESC' : 'ASC'\n    }\n\n    const newSortItems: SortItem[] | undefined = value\n      ? [\n          {\n            column: value,\n            direction: newSortDirection,\n          },\n        ]\n      : undefined\n    lastQueryRequestDeepClone.query.sort = newSortItems\n    executeQueryRequest(lastQueryRequestDeepClone)\n    setSortColumn(value)\n    setSortDirection(newSortDirection)\n  }\n\n  return (\n    <div className=\"QuerySortSelector bootstrap-4-backport\">\n      <Typography variant=\"label\" className=\"sort-by-label SRC-inlineBlock\">\n        Sort by\n      </Typography>\n      <Select\n        className=\"react-select-container SRC-inlineBlock\"\n        value={findValueOption(sortColumn, enumOptions)}\n        options={enumOptions}\n        onChange={option => onChange((option as EnumOption | null)?.value)}\n        components={{ Control }}\n        styles={{\n          control: provided => ({\n            ...provided,\n            marginLeft: '15px',\n          }),\n        }}\n      />\n    </div>\n  )\n}\n\nexport default QuerySortSelector\n","import React from 'react'\nimport { SynapseConstants } from '../utils'\nimport {\n  generateQueryFilterFromSearchParams,\n  parseEntityIdFromSqlStatement,\n  SQLOperator,\n} from '../utils/functions/sqlFunctions'\nimport { QueryBundleRequest, SortDirection } from '../utils/synapseTypes/'\nimport CardContainer from './CardContainer'\nimport { ErrorBanner } from './error/ErrorBanner'\nimport { GenericCardSchema } from './GenericCard'\nimport { IconSvgProps } from './IconSvg'\nimport {\n  QueryVisualizationWrapper,\n  QueryVisualizationWrapperProps,\n} from './QueryVisualizationWrapper'\nimport { QueryContextConsumer } from './QueryContext'\nimport { InfiniteQueryWrapper } from './InfiniteQueryWrapper'\nimport QuerySortSelector from './QuerySortSelector'\nimport { NoContentPlaceholderType } from './table/NoContentPlaceholderType'\nimport { IconOptions } from './row_renderers/utils/Icon'\nimport { DEFAULT_PAGE_SIZE } from '../utils/SynapseConstants'\n\n/**\n *  Used when a column value should link to an external URL defined by a value in another column.\n *  Currently only works in SynapseTable (not cards!)\n */\nexport interface ColumnSpecifiedLink {\n  isMarkdown: false\n  /* The column which should have the displayed value */\n  matchColumnName: string\n  /* The column which has the link. If the link is empty, the value will be displayed without a link. */\n  linkColumnName: string\n  // If set, also show a tooltip\n  tooltipText?: string\n}\n\nexport enum TargetEnum {\n  CURRENT_WINDOW = '_self',\n  NEW_WINDOW = '_blank',\n  PARENT_FRAME = '_parent',\n  FULL_WINDOW_BODY = '_top',\n}\n\nexport interface CardLink {\n  baseURL: string\n  // the key that will go into the url\n  URLColumnName: string\n  // the column name whose value will be used as the display text\n  matchColumnName: string\n  // If set, use the rowID as the column value.  Otherwise, use the value in the matchColumnName column\n  overrideValueWithRowID?: boolean\n  // If true, value will be processed as Markdown\n  isMarkdown: false\n  // the value that will go into the url link should be surrounded with parenthesis, making the search\n  // param study=(ROSMAP) instead of study=ROSMAP\n  wrapValueWithParens?: boolean\n  // If set and a value exists in this column for the row, just use this value for the href\n  overrideLinkURLColumnName?: string\n  // If set, also show a tooltip\n  tooltipText?: string\n  // If set, will specify where to open the link\n  target?: TargetEnum\n}\n\nexport type MarkdownLink = {\n  isMarkdown: true\n  // the columns whos value will be used for the markdown\n  matchColumnName: string\n  // If set, also show a tooltip\n  tooltipText?: string\n}\n\nexport type SortConfiguration = {\n  // the column that the query should be sorted on by default\n  defaultColumn: string\n  // the direction that the defaultColumn should be sorted on by default\n  defaultDirection: SortDirection\n  // the columns that the UI should surface as sortable\n  sortableColumns: string[]\n}\n\nexport type CTACardLink = {\n  // link text\n  text: string\n  // column name to use for href\n  link: string\n}\n\nexport type DescriptionConfig = {\n  isMarkdown?: boolean\n  showFullDescriptionByDefault?: boolean\n}\n\n// Specify the indices in the values [] that should be rendered specially\nexport type LabelLinkConfig = (MarkdownLink | CardLink | ColumnSpecifiedLink)[]\n\nexport type ColumnIconConfigs = {\n  columns: {\n    [index: string]: {\n      [index: string]: IconSvgProps\n    }\n  }\n}\n\nexport type CommonCardProps = {\n  genericCardSchema?: GenericCardSchema\n  secondaryLabelLimit?: number\n  titleLinkConfig?: CardLink\n  ctaLinkConfig?: CTACardLink\n  labelLinkConfig?: LabelLinkConfig\n  descriptionConfig?: DescriptionConfig\n  rgbIndex?: number\n  columnIconOptions?: ColumnIconConfigs\n}\nexport type CardConfiguration = {\n  type: string\n  hasInternalLink?: boolean\n  iconOptions?: IconOptions\n} & CommonCardProps\n\nexport type CardContainerLogicProps = {\n  limit?: number\n  title?: string\n  sqlOperator?: SQLOperator\n  searchParams?: Record<string, string>\n  isHeader?: boolean\n  isAlignToLeftNav?: boolean\n  sql: string\n  sortConfig?: SortConfiguration\n} & CardConfiguration &\n  Pick<\n    QueryVisualizationWrapperProps,\n    | 'rgbIndex'\n    | 'unitDescription'\n    | 'columnAliases'\n    | 'noContentPlaceholderType'\n  >\n\n/**\n * Class wraps around CardContainer and serves as a standalone logic container for rendering cards.\n */\nexport const CardContainerLogic = (props: CardContainerLogicProps) => {\n  const entityId = parseEntityIdFromSqlStatement(props.sql)\n  const queryFilters = generateQueryFilterFromSearchParams(\n    props.searchParams,\n    props.sqlOperator,\n  )\n  const { sortConfig, columnAliases } = props\n  const defaultSortItems = sortConfig\n    ? [\n        {\n          column: sortConfig.defaultColumn,\n          direction: sortConfig.defaultDirection,\n        },\n      ]\n    : undefined\n  const initQueryRequest: QueryBundleRequest = {\n    concreteType: 'org.sagebionetworks.repo.model.table.QueryBundleRequest',\n    entityId: entityId,\n    query: {\n      sql: props.sql,\n      limit: props.limit ?? DEFAULT_PAGE_SIZE,\n      sort: defaultSortItems,\n      additionalFilters: queryFilters,\n    },\n    partMask:\n      SynapseConstants.BUNDLE_MASK_QUERY_RESULTS |\n      SynapseConstants.BUNDLE_MASK_QUERY_COUNT |\n      SynapseConstants.BUNDLE_MASK_QUERY_SELECT_COLUMNS |\n      SynapseConstants.BUNDLE_MASK_QUERY_MAX_ROWS_PER_PAGE |\n      SynapseConstants.BUNDLE_MASK_QUERY_COLUMN_MODELS |\n      SynapseConstants.BUNDLE_MASK_QUERY_FACETS |\n      SynapseConstants.BUNDLE_MASK_SUM_FILES_SIZE_BYTES |\n      SynapseConstants.BUNDLE_MASK_LAST_UPDATED_ON,\n  }\n\n  return (\n    <InfiniteQueryWrapper {...props} initQueryRequest={initQueryRequest}>\n      <QueryVisualizationWrapper\n        rgbIndex={props.rgbIndex}\n        unitDescription={props.unitDescription}\n        columnAliases={columnAliases}\n        noContentPlaceholderType={\n          props.noContentPlaceholderType ?? NoContentPlaceholderType.STATIC\n        }\n      >\n        {sortConfig && <QuerySortSelector sortConfig={sortConfig} />}\n        <CardContainer {...props} />\n        <QueryContextConsumer>\n          {queryContext => <ErrorBanner error={queryContext?.error} />}\n        </QueryContextConsumer>\n      </QueryVisualizationWrapper>\n    </InfiniteQueryWrapper>\n  )\n}\n\nexport default CardContainerLogic\n","import { CardFooter } from './row_renderers/utils'\nimport { DescriptionConfig } from './CardContainerLogic'\nimport MarkdownSynapse from './markdown/MarkdownSynapse'\nimport React, { useState, useEffect } from 'react'\n\nexport type HeaderCardProps = {\n  rgbIndex?: number\n  type: string\n  title: string\n  subTitle?: string\n  description: string\n  secondaryLabelLimit?: number\n  values?: string[][]\n  isAlignToLeftNav?: boolean\n  descriptionConfig?: DescriptionConfig\n  href?: string\n  target?: string\n  icon: JSX.Element\n}\n\nconst HeaderCard: React.FunctionComponent<HeaderCardProps> = ({\n  type,\n  title,\n  subTitle = '',\n  description,\n  values,\n  secondaryLabelLimit,\n  isAlignToLeftNav,\n  descriptionConfig,\n  href,\n  target,\n  rgbIndex,\n  icon,\n}) => {\n  // store old document title and description so that we can restore when this component is removed\n  const descriptionElement: Element | null = document.querySelector(\n    'meta[name=\"description\"]',\n  )\n  const [docTitle] = useState<string>(document.title)\n  const [docDescription] = useState<string>(\n    descriptionElement ? descriptionElement.getAttribute('content')! : '',\n  )\n  useEffect(() => {\n    // update page title and description based on header card values\n    if (title && document.title !== title) {\n      document.title = title\n    }\n\n    if (description || subTitle) {\n      descriptionElement?.setAttribute(\n        'content',\n        description ? description : subTitle,\n      )\n    }\n\n    return function cleanup() {\n      document.title = docTitle\n      descriptionElement?.setAttribute('content', docDescription)\n    }\n  })\n\n  return (\n    <div\n      className={`SRC-portalCard SRC-portalCardHeader ${\n        isAlignToLeftNav ? 'isAlignToLeftNav' : ''\n      }`}\n    >\n      <div className=\"container-fluid container-full-width\">\n        <div className=\"row\">\n          <div className=\"col-md-offset-1 col-md-10\">\n            <div className=\"SRC-portalCardMain\">\n              {icon}\n              <div style={{ width: '100%' }}>\n                <div className=\"SRC-cardContent\" style={{ marginLeft: '15px' }}>\n                  <div className=\"SRC-type\">{type}</div>\n                  <div>\n                    <h3 className=\"SRC-boldText\" style={{ margin: 'none' }}>\n                      {href ? (\n                        <a\n                          target={target}\n                          href={href}\n                          className=\"highlight-link\"\n                        >\n                          {title}\n                        </a>\n                      ) : (\n                        <span> {title} </span>\n                      )}\n                    </h3>\n                  </div>\n                  {subTitle && <div className=\"SRC-author\"> {subTitle} </div>}\n                  {description && (\n                    <span className=\"SRC-font-size-base\">\n                      {descriptionConfig?.isMarkdown ? (\n                        <MarkdownSynapse markdown={description} />\n                      ) : (\n                        description\n                      )}\n                    </span>\n                  )}\n                </div>\n                <div\n                  style={{\n                    borderTop: '1px solid rgba(26, 28, 41, 0.2)',\n                    marginTop: '15px',\n                    paddingTop: '5px',\n                  }}\n                />\n                <div className=\"SRC-cardContent\">\n                  {values && (\n                    <CardFooter\n                      isHeader={true}\n                      secondaryLabelLimit={secondaryLabelLimit}\n                      values={values}\n                    />\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default HeaderCard\n","import {\n  BatchFileRequest,\n  BatchFileResult,\n  FileHandleAssociation,\n} from '../../utils/synapseTypes'\nimport React, { useEffect, useState } from 'react'\nimport { SynapseConstants, SynapseClient } from '../../utils'\nimport { useSynapseContext } from '../../utils/SynapseContext'\nimport IconSvg from '../IconSvg'\n\ntype FileHandleLinkProps = {\n  fileHandleAssociation: FileHandleAssociation\n  redirect?: boolean\n  showDownloadIcon: boolean\n  displayValue?: string\n}\nexport const FileHandleLink = (props: FileHandleLinkProps) => {\n  const {\n    fileHandleAssociation,\n    showDownloadIcon,\n    redirect = false,\n    displayValue,\n  } = props\n  const { accessToken } = useSynapseContext()\n\n  const [batchFileResult, setBatchFileResult] = useState<\n    BatchFileResult | undefined\n  >()\n\n  useEffect(() => {\n    if (displayValue === undefined) {\n      const getFiles = async () => {\n        const batchFileRequest: BatchFileRequest = {\n          requestedFiles: [fileHandleAssociation],\n          includeFileHandles: true,\n          includePreSignedURLs: false,\n          includePreviewPreSignedURLs: false,\n        }\n        setBatchFileResult(\n          await SynapseClient.getFiles(batchFileRequest, accessToken),\n        )\n      }\n      getFiles()\n    }\n  }, [accessToken, displayValue, fileHandleAssociation])\n\n  let fileName = undefined\n  if (batchFileResult) {\n    fileName = batchFileResult.requestedFiles[0].fileHandle?.fileName\n  }\n\n  return (\n    <button\n      onClick={() => {\n        if (accessToken && fileHandleAssociation) {\n          SynapseClient.getActualFileHandleByIdURL(\n            fileHandleAssociation.fileHandleId,\n            accessToken,\n            fileHandleAssociation.associateObjectType,\n            fileHandleAssociation.associateObjectId,\n            redirect,\n          )\n            .then(url => {\n              window.open(url, '_blank')\n            })\n            .catch(err => {\n              console.error('Error on retrieving file handle url ', err)\n            })\n        }\n      }}\n      className={`SRC-primary-text-color ${SynapseConstants.SRC_SIGN_IN_CLASS}`}\n      type=\"button\"\n      style={{ padding: 0 }}\n    >\n      {displayValue ?? fileName ?? fileHandleAssociation.fileHandleId}\n      {showDownloadIcon && <IconSvg icon=\"download\" />}\n    </button>\n  )\n}\n","import { FileHandleAssociation } from '../../utils/synapseTypes'\nimport React, { useEffect, useState } from 'react'\nimport { SynapseClient } from '../../utils'\nimport { useInView } from 'react-intersection-observer'\nimport { useSynapseContext } from '../../utils/SynapseContext'\n\ntype ImageFileHandleProps = {\n  fileHandleAssociation: FileHandleAssociation\n}\n\nexport const ImageFileHandle = (props: ImageFileHandleProps) => {\n  const {\n    fileHandleAssociation: {\n      fileHandleId,\n      associateObjectId,\n      associateObjectType,\n    },\n  } = props\n  const { accessToken } = useSynapseContext()\n  const [url, setUrl] = useState<string>()\n  const { ref, inView } = useInView({\n    triggerOnce: true,\n    rootMargin: '500px 0px',\n  })\n\n  useEffect(() => {\n    const getData = () => {\n      if (fileHandleId && associateObjectId && associateObjectType && inView) {\n        SynapseClient.getActualFileHandleByIdURL(\n          fileHandleId,\n          accessToken,\n          associateObjectType,\n          associateObjectId,\n          false,\n        )\n          .then(url => {\n            setUrl(url)\n          })\n          .catch(err => {\n            console.error('Error on retrieving file handle url ', err)\n          })\n      }\n    }\n\n    getData()\n  }, [\n    inView,\n    fileHandleId,\n    associateObjectId,\n    accessToken,\n    associateObjectType,\n  ])\n\n  return (\n    <span ref={ref}>\n      {url && (\n        <img src={url} alt=\"\" className=\"ImageFileHandle\" loading=\"lazy\"></img>\n      )}\n    </span>\n  )\n}\n","import { isEmpty } from 'lodash-es'\nimport React from 'react'\nimport { SynapseConstants } from '../utils'\nimport { isTableEntity } from '../utils/functions/EntityTypeUtils'\nimport { PRODUCTION_ENDPOINT_CONFIG } from '../utils/functions/getEndpoint'\nimport {\n  DOI_REGEX,\n  SYNAPSE_ENTITY_ID_REGEX,\n} from '../utils/functions/RegularExpressions'\nimport { SMALL_USER_CARD } from '../utils/SynapseConstants'\nimport { SynapseContext } from '../utils/SynapseContext'\nimport {\n  ColumnModel,\n  ColumnType,\n  ColumnTypeEnum,\n  Entity,\n  FileHandleAssociateType,\n  FileHandleAssociation,\n  Row,\n  SelectColumn,\n} from '../utils/synapseTypes'\nimport { Tooltip } from '@mui/material'\nimport {\n  CardLink,\n  ColumnIconConfigs,\n  ColumnSpecifiedLink,\n  CommonCardProps,\n  DescriptionConfig,\n  MarkdownLink,\n  TargetEnum,\n} from './CardContainerLogic'\nimport HeaderCard from './HeaderCard'\nimport IconList from './IconList'\nimport IconSvg, { type2SvgIconName } from './IconSvg'\nimport MarkdownSynapse from './markdown/MarkdownSynapse'\nimport { QueryContextType } from './QueryContext'\nimport { CardFooter, Icon } from './row_renderers/utils'\nimport UserCard from './UserCard'\nimport { FileHandleLink } from './widgets/FileHandleLink'\nimport { ImageFileHandle } from './widgets/ImageFileHandle'\nimport { QueryVisualizationContextType } from './QueryVisualizationWrapper'\nimport { IconOptions } from './row_renderers/utils/Icon'\n\nexport type KeyToAlias = {\n  key: string\n  alias?: string\n}\n\nexport type KeyToAliasMap = {\n  [index: number]: KeyToAlias\n  [index: string]: KeyToAlias\n}\n\nexport type GenericCardSchema = {\n  type: string\n  title: string\n  subTitle?: string\n  description?: string\n  icon?: string\n  imageFileHandleColumnName?: string\n  thumbnailRequiresPadding?: boolean\n  secondaryLabels?: string[]\n  link?: string\n  dataTypeIconNames?: string\n}\n\nexport type GenericCardProps = {\n  selectColumns?: SelectColumn[]\n  columnModels?: ColumnModel[]\n  iconOptions?: IconOptions\n  useTypeColumnForIcon?: boolean\n  isHeader?: boolean\n  isAlignToLeftNav?: boolean\n  // Maps columnName to index\n  schema: Record<string, number>\n  // Row values\n  data: string[]\n  rowId?: number\n  tableId: string | undefined\n  columnIconOptions?: ColumnIconConfigs\n  queryContext: QueryContextType\n  queryVisualizationContext: QueryVisualizationContextType\n} & CommonCardProps\n\nexport type GenericCardState = {\n  hasClickedShowMore: boolean\n}\n\nconst CHAR_COUNT_CUTOFF = 400\nexport const CARD_SHORT_DESCRIPTION_CSS = 'SRC-short-description'\nexport const CARD_LONG_DESCRIPTION_CSS = 'SRC-long-description'\n\n// This function isn't in the class only for ease of testing with renderShortDescription\nexport const getCutoff = (summary: string) => {\n  let previewText = ''\n  const summarySplit = summary.split(' ')\n  // find num words to join such that its >= char_count_cutoff\n  let i = 0\n  while (previewText.length < CHAR_COUNT_CUTOFF && i < summarySplit.length) {\n    previewText += `${summarySplit[i]} `\n    i += 1\n  }\n  previewText = previewText.trim()\n  return { previewText }\n}\n\nexport const getFileHandleAssociation = (\n  table?: Entity,\n  fileHandleId?: string,\n  rowSynapseId?: string, // only applicable if this is an EntityView\n) => {\n  let fileHandleAssociation: FileHandleAssociation | undefined = undefined\n  if (table && fileHandleId) {\n    if (isTableEntity(table)) {\n      // The file handle is in the table\n      fileHandleAssociation = {\n        fileHandleId,\n        associateObjectId: table?.id ?? '',\n        associateObjectType: FileHandleAssociateType.TableEntity,\n      }\n    } else if (rowSynapseId) {\n      // We're looking at a view, so the FileEntity (whose ID matches the row ID) gives permission to download the file handle\n      fileHandleAssociation = {\n        fileHandleId,\n        associateObjectId: rowSynapseId,\n        associateObjectType: FileHandleAssociateType.FileEntity,\n      }\n    }\n  }\n  return fileHandleAssociation\n}\n\nexport const getValueOrMultiValue = ({\n  columnName,\n  value,\n  selectColumns,\n  columnModels,\n}: {\n  columnName?: string\n  value?: string\n  selectColumns?: SelectColumn[]\n  columnModels?: ColumnModel[]\n}): ValueOrMultiValue => {\n  if (!value) {\n    return {\n      str: '',\n      strList: undefined,\n      columnModelType: undefined,\n    }\n  }\n  const selectedColumnOrUndefined =\n    selectColumns?.find(el => el.name === columnName) ||\n    columnModels?.find(el => el.name === columnName)\n  const isMultiValue = selectedColumnOrUndefined?.columnType.endsWith('_LIST')\n\n  if (isMultiValue) {\n    let val: any = value\n    let strList: any\n    try {\n      strList = JSON.parse(val)\n      val = (strList as string[]).join(', ')\n      return {\n        strList,\n        str: val,\n        columnModelType: selectedColumnOrUndefined?.columnType,\n      }\n    } catch (e) {\n      console.error(\n        'Could not parse multivalue string ',\n        val,\n        ' caught err ',\n        e,\n      )\n    }\n  }\n  return { str: value, columnModelType: selectedColumnOrUndefined?.columnType }\n}\n\nexport const getColumnIndex = (\n  columnName?: string,\n  selectColumns?: SelectColumn[],\n  columnModels?: ColumnModel[],\n): number | undefined => {\n  return (\n    selectColumns?.findIndex(el => el.name === columnName) ||\n    columnModels?.findIndex(el => el.name === columnName)\n  )\n}\n\n// SWC-6115: special rendering of the version column (for Views)\nexport const VersionLabel: React.FC<{\n  synapseId: string\n  version: string\n}> = props => {\n  const { synapseId, version } = props\n  return (\n    <span>\n      {version}&nbsp;&nbsp;\n      <a\n        target={TargetEnum.NEW_WINDOW}\n        rel=\"noopener noreferrer\"\n        href={`${PRODUCTION_ENDPOINT_CONFIG.PORTAL}#!Synapse:${synapseId}.${version}`}\n      >\n        (Show Version History on Synapse)\n      </a>\n    </span>\n  )\n}\n\ntype SynapseCardLabelProps = {\n  value: string\n  columnName: string\n  labelLink: CardLink | MarkdownLink | ColumnSpecifiedLink | undefined\n  selectColumns: SelectColumn[] | undefined\n  columnModels: ColumnModel[] | undefined\n  isHeader: boolean\n  className?: string\n  rowData: Row['values']\n  rowId?: number\n}\n\nexport const SynapseCardLabel: React.FC<SynapseCardLabelProps> = props => {\n  const {\n    value,\n    columnName,\n    labelLink,\n    selectColumns,\n    columnModels,\n    isHeader,\n    className,\n    rowData,\n    rowId,\n  } = props\n  if (!value) {\n    return <p>{value}</p>\n  }\n  const { strList, str, columnModelType } = getValueOrMultiValue({\n    columnName,\n    value,\n    selectColumns,\n    columnModels,\n  })\n\n  if (!str) {\n    // the array came back empty\n    return <p>{str}</p>\n  }\n\n  let newClassName = className\n  const style: React.CSSProperties = {}\n  if (isHeader) {\n    newClassName = className?.concat(' ', 'SRC-lightLink')\n  }\n  // PORTALS-1913: special rendering for user ID lists\n  if (columnModelType === ColumnTypeEnum.USERID_LIST && strList) {\n    return (\n      <p>\n        {strList.map((val: string, index: number) => {\n          return (\n            <React.Fragment key={val}>\n              <UserCard\n                ownerId={val}\n                size={SMALL_USER_CARD}\n                className={newClassName}\n              />\n              {/* \\u00a0 is a nbsp; */}\n              {index < strList.length - 1 && ',\\u00a0\\u00a0'}\n            </React.Fragment>\n          )\n        })}\n      </p>\n    )\n  }\n  if (columnModelType === ColumnTypeEnum.USERID && str) {\n    return (\n      <UserCard ownerId={str} size={SMALL_USER_CARD} className={newClassName} />\n    )\n  }\n\n  if (!labelLink) {\n    // if this looks like a Synapse ID, then autolink.\n    if (str.match(SYNAPSE_ENTITY_ID_REGEX)) {\n      // its a synId\n      return (\n        <a\n          target={TargetEnum.NEW_WINDOW}\n          rel=\"noopener noreferrer\"\n          href={`${PRODUCTION_ENDPOINT_CONFIG.PORTAL}#!Synapse:${str}`}\n          className={newClassName}\n        >\n          {str}\n        </a>\n      )\n    } else {\n      // they don't need a link\n      return <p>{str}</p>\n    }\n  }\n\n  let labelContent: JSX.Element\n  if (labelLink.isMarkdown) {\n    if (strList) {\n      labelContent = (\n        <p>\n          {strList.map((el, index) => {\n            return (\n              <React.Fragment key={el}>\n                <MarkdownSynapse key={el} renderInline={true} markdown={el} />\n                {/* \\u00a0 is a nbsp; */}\n                {index < strList.length - 1 && ',\\u00a0\\u00a0'}\n              </React.Fragment>\n            )\n          })}\n        </p>\n      )\n    } else {\n      labelContent = <MarkdownSynapse renderInline={true} markdown={value} />\n    }\n  } else {\n    const split = strList ? strList : str.split(',')\n    let linkTarget: TargetEnum | undefined = undefined\n    if ('target' in labelLink) {\n      linkTarget = labelLink.target!\n    }\n    if ('linkColumnName' in labelLink) {\n      const linkIndex = getColumnIndex(\n        labelLink.linkColumnName,\n        selectColumns,\n        columnModels,\n      )\n      if (linkIndex == null) {\n        console.warn(\n          `Could not determine column index of ${labelLink.linkColumnName}`,\n        )\n        labelContent = <>{value}</>\n      } else {\n        const href = rowData[linkIndex]\n\n        if (isEmpty(href)) {\n          labelContent = <>{value}</>\n        } else {\n          labelContent = (\n            <p>\n              {split.map((el, index) => {\n                return (\n                  <React.Fragment key={el}>\n                    <a\n                      href={href ?? undefined}\n                      target={linkTarget ?? TargetEnum.NEW_WINDOW}\n                      rel=\"noopener noreferrer\"\n                      key={el}\n                      className={newClassName}\n                      style={style}\n                    >\n                      {el}\n                    </a>\n                    {index < split.length - 1 && (\n                      <span style={{ marginRight: 4 }}>, </span>\n                    )}\n                  </React.Fragment>\n                )\n              })}\n            </p>\n          )\n        }\n      }\n    } else {\n      labelContent = (\n        <p>\n          {split.map((el, index) => {\n            const { baseURL, URLColumnName, wrapValueWithParens } = labelLink\n            const elOrRowId = labelLink.overrideValueWithRowID\n              ? `syn${rowId}`\n              : el\n            const value = wrapValueWithParens ? `(${elOrRowId})` : elOrRowId\n            const href = `/${baseURL}?${URLColumnName}=${value}`\n\n            return (\n              <React.Fragment key={el}>\n                <a\n                  href={href}\n                  key={el}\n                  className={newClassName}\n                  style={style}\n                  target={linkTarget ?? TargetEnum.CURRENT_WINDOW}\n                >\n                  {el}\n                </a>\n                {index < split.length - 1 && (\n                  <span style={{ marginRight: 4 }}>, </span>\n                )}\n              </React.Fragment>\n            )\n          })}\n        </p>\n      )\n    }\n  }\n\n  if (labelLink.tooltipText) {\n    // wrap in a tooltip\n    return (\n      <Tooltip title={labelLink.tooltipText} enterNextDelay={300}>\n        <span>{labelContent}</span>\n      </Tooltip>\n    )\n  } else {\n    return labelContent\n  }\n}\n\ntype ValueOrMultiValue = {\n  str: string\n  strList?: string[]\n  columnModelType?: ColumnType\n}\n\nexport function getCardLinkHref(\n  cardLink: CardLink | undefined,\n  data: string[] | undefined,\n  schema: Record<string, number> | undefined,\n  rowId?: number,\n): string | undefined {\n  if (cardLink) {\n    if (!data || !schema) {\n      throw Error('Must specify CardLink and data for linking to work')\n    }\n    const {\n      matchColumnName,\n      URLColumnName,\n      overrideLinkURLColumnName,\n      overrideValueWithRowID,\n    } = cardLink\n\n    // PORTALS-2088:  Return the link, unless...\n    // an overrideLinkURLColumnName has been set and it's value is defined.\n    // In this case, just use the overrideLinkURLColumnName value\n    if (overrideLinkURLColumnName && schema[overrideLinkURLColumnName]) {\n      const indexOfOverrideLinkURLColumnName = schema[overrideLinkURLColumnName]\n      const overrideLinkValue = data[indexOfOverrideLinkURLColumnName]\n      if (overrideLinkValue) {\n        return overrideLinkValue\n      }\n    }\n\n    const indexInData = schema[matchColumnName]\n    if (indexInData === undefined) {\n      console.error(\n        `Could not find match for data: ${data} with columnName ${matchColumnName}`,\n      )\n    } else {\n      const value = overrideValueWithRowID ? `syn${rowId}` : data[indexInData]\n      if (value) {\n        // value is defined!\n        return `/${cardLink.baseURL}?${URLColumnName}=${value}`\n      }\n    }\n  }\n  return undefined\n}\n\nexport function getLinkParams(\n  link: string,\n  cardLinkConfig: CardLink | undefined,\n  data: string[] | undefined,\n  schema: any | undefined,\n  rowId?: number,\n) {\n  link = link.trim()\n  let href = link\n  let defaultTarget = TargetEnum.CURRENT_WINDOW\n  if (link.match(SYNAPSE_ENTITY_ID_REGEX)) {\n    // its a synId\n    href = `${PRODUCTION_ENDPOINT_CONFIG.PORTAL}#!Synapse:${link}`\n  } else if (link.match(DOI_REGEX)) {\n    defaultTarget = TargetEnum.NEW_WINDOW\n    href = `https://dx.doi.org/${link}`\n  } else if (!cardLinkConfig) {\n    defaultTarget = TargetEnum.NEW_WINDOW\n  } else if (cardLinkConfig) {\n    href = getCardLinkHref(cardLinkConfig, data, schema, rowId) ?? ''\n    if (href.includes('/DetailsPage')) {\n      defaultTarget = TargetEnum.NEW_WINDOW\n    }\n  }\n\n  const target = cardLinkConfig?.target ?? defaultTarget\n  return { href, target }\n}\n\nexport function LongDescription(props: {\n  description: string\n  hasClickedShowMore: boolean\n  descriptionSubTitle: any\n  descriptionConfig?: DescriptionConfig\n}) {\n  const {\n    description,\n    hasClickedShowMore,\n    descriptionSubTitle,\n    descriptionConfig,\n  } = props\n  let content: JSX.Element | string = description\n  if (descriptionConfig?.isMarkdown) {\n    content = <MarkdownSynapse markdown={content} />\n  }\n  const show =\n    hasClickedShowMore || descriptionConfig?.showFullDescriptionByDefault\n  return (\n    <div className={show ? '' : 'SRC-hidden'}>\n      <span\n        data-search-handle={descriptionSubTitle}\n        className={`SRC-font-size-base ${CARD_LONG_DESCRIPTION_CSS}`}\n      >\n        {content}\n      </span>\n    </div>\n  )\n}\n\nexport function ShortDescription(props: {\n  description: string\n  hasClickedShowMore: boolean\n  descriptionSubTitle: any\n  descriptionConfig?: DescriptionConfig\n  toggleShowMore: () => void\n}) {\n  const {\n    description,\n    hasClickedShowMore,\n    descriptionSubTitle,\n    descriptionConfig,\n    toggleShowMore,\n  } = props\n  if (descriptionConfig?.showFullDescriptionByDefault) {\n    return <></>\n  }\n  return (\n    <div className={hasClickedShowMore ? 'SRC-hidden' : ''}>\n      <span\n        data-search-handle={descriptionSubTitle}\n        className={`SRC-font-size-base ${CARD_SHORT_DESCRIPTION_CSS} SRC-short-description`}\n      >\n        {getCutoff(description).previewText}\n      </span>\n      {description.length >= CHAR_COUNT_CUTOFF && (\n        <a\n          style={{\n            fontSize: '16px',\n            cursor: 'pointer',\n            marginLeft: '5px',\n          }}\n          className=\"highlight-link\"\n          onClick={toggleShowMore}\n        >\n          ...Show More\n        </a>\n      )}\n    </div>\n  )\n}\n\n/**\n * Renders a card from a table query\n */\nexport default class GenericCard extends React.Component<\n  GenericCardProps,\n  GenericCardState\n> {\n  static contextType = SynapseContext\n\n  constructor(props: GenericCardProps) {\n    super(props)\n    this.state = {\n      hasClickedShowMore: false,\n    }\n  }\n\n  getCutoff = (summary: string) => {\n    let previewText = ''\n    const summarySplit = summary.split(' ')\n    // find num words to join such that its >= char_count_cutoff\n    let i = 0\n    while (previewText.length < CHAR_COUNT_CUTOFF && i < summarySplit.length) {\n      previewText += `${summarySplit[i]} `\n      i += 1\n    }\n    previewText = previewText.trim()\n    return { previewText }\n  }\n\n  toggleShowMore = () => {\n    this.setState({\n      hasClickedShowMore: true,\n    })\n  }\n\n  renderTitle = ({\n    href,\n    target,\n    titleSearchHandle,\n    title,\n  }: {\n    target: string\n    titleSearchHandle: string | undefined\n    title: string\n    href: string\n  }) => {\n    if (href) {\n      return (\n        <a\n          data-search-handle={titleSearchHandle}\n          target={target}\n          href={href}\n          className=\"highlight-link\"\n        >\n          {title}\n        </a>\n      )\n    } else {\n      return <span data-search-handle={titleSearchHandle}> {title} </span>\n    }\n  }\n\n  render() {\n    const {\n      schema,\n      data,\n      rowId,\n      genericCardSchema,\n      secondaryLabelLimit,\n      selectColumns,\n      columnModels,\n      iconOptions,\n      useTypeColumnForIcon = false,\n      isHeader = false,\n      titleLinkConfig,\n      ctaLinkConfig,\n      labelLinkConfig,\n      descriptionConfig,\n      rgbIndex,\n      columnIconOptions,\n      queryContext: { entity: table },\n      queryVisualizationContext: { getColumnDisplayName },\n    } = this.props\n    // GenericCard inherits properties from CommonCardProps so that the properties have the same name\n    // and type, but theres one nuance which is that we can't override if one specific property will be\n    // defined, so we assert genericCardSchema is not null and assign to genericCardSchemaDefined\n    const genericCardSchemaDefined = genericCardSchema!\n    const { hasClickedShowMore } = this.state\n    const { link = '', type } = genericCardSchemaDefined\n    const title = data[schema[genericCardSchemaDefined.title]]\n    let subTitle =\n      genericCardSchemaDefined.subTitle &&\n      data[schema[genericCardSchemaDefined.subTitle]]\n    subTitle =\n      genericCardSchemaDefined?.subTitle &&\n      getValueOrMultiValue({\n        value: subTitle,\n        columnName: genericCardSchemaDefined?.subTitle,\n        selectColumns,\n        columnModels,\n      }).str\n    const description = data[schema[genericCardSchemaDefined.description || '']]\n    const iconValue = data[schema[genericCardSchemaDefined.icon || '']]\n    const dataTypeIconNames =\n      data[schema[genericCardSchemaDefined.dataTypeIconNames || '']]\n    const imageFileHandleIdValue =\n      data[schema[genericCardSchemaDefined.imageFileHandleColumnName || '']]\n    const titleColumnModel = columnModels?.find(\n      el => genericCardSchemaDefined.link === el.name,\n    )\n    const titleColumnType = titleColumnModel?.columnType\n    // wrap link in parens because undefined would throw an error\n    const linkValue: string = data[schema[link]] || ''\n    const { href, target } = getLinkParams(\n      linkValue,\n      titleLinkConfig,\n      data,\n      schema,\n      rowId,\n    )\n    const values: string[][] = []\n    const { secondaryLabels = [] } = genericCardSchemaDefined\n    const isView = table && !isTableEntity(table)\n    for (let i = 0; i < secondaryLabels.length; i += 1) {\n      const columnName = secondaryLabels[i]\n      let value: any = data[schema[columnName]]\n      let columnDisplayName\n      if (value) {\n        // SWC-6115: special rendering of the version column (for Views)\n        if (isView && columnName === 'currentVersion') {\n          const synapseId = data[schema.id]\n          const version = value\n          value = VersionLabel({ synapseId, version })\n          columnDisplayName = 'Version'\n        } else {\n          const labelLink = labelLinkConfig?.find(\n            el => el.matchColumnName === columnName,\n          )\n          value = (\n            <SynapseCardLabel\n              value={value}\n              columnName={columnName}\n              labelLink={labelLink}\n              isHeader={isHeader}\n              selectColumns={selectColumns}\n              columnModels={columnModels}\n              rowData={data}\n            />\n          )\n          columnDisplayName = getColumnDisplayName(columnName)\n        }\n        const keyValue = [columnDisplayName, value, columnName]\n        values.push(keyValue)\n      }\n    }\n\n    const fileHandleId = imageFileHandleIdValue || linkValue\n\n    /**\n     * To show a direct download link to a file, we need to determine the association that gives permission to download the file.\n     */\n    const fileHandleAssociation = getFileHandleAssociation(\n      table,\n      fileHandleId,\n      data[schema.id],\n    )\n\n    const showFooter = values.length > 0\n\n    const style: React.CSSProperties = {\n      // undefined, take default value from class\n      marginTop: isHeader ? '0px' : undefined,\n      marginBottom: isHeader ? '0px' : undefined,\n      paddingBottom: showFooter || imageFileHandleIdValue ? undefined : '15px',\n    }\n    const icon: JSX.Element = (\n      <>\n        {!useTypeColumnForIcon && imageFileHandleIdValue && (\n          <div\n            className=\"SRC-imageThumbnail\"\n            style={{\n              padding: genericCardSchemaDefined.thumbnailRequiresPadding\n                ? '21px'\n                : undefined,\n            }}\n          >\n            {fileHandleAssociation && (\n              <ImageFileHandle fileHandleAssociation={fileHandleAssociation} />\n            )}\n          </div>\n        )}\n        {!useTypeColumnForIcon && !imageFileHandleIdValue && (\n          <div className=\"SRC-cardThumbnail\">\n            <Icon iconOptions={iconOptions} value={iconValue} type={type} />\n          </div>\n        )}\n        {useTypeColumnForIcon && (\n          <div className=\"SRC-cardThumbnail\">\n            <IconSvg icon={type2SvgIconName[data[schema['type']]]} />\n          </div>\n        )}\n      </>\n    )\n\n    if (isHeader) {\n      return (\n        <HeaderCard\n          descriptionConfig={descriptionConfig}\n          title={title}\n          subTitle={subTitle}\n          description={description}\n          type={type}\n          icon={icon}\n          values={values}\n          href={href}\n          target={target}\n          isAlignToLeftNav={true}\n          secondaryLabelLimit={secondaryLabelLimit}\n          rgbIndex={rgbIndex}\n        />\n      )\n    }\n\n    const titleSearchHandle = getColumnDisplayName(\n      genericCardSchemaDefined.title,\n    )\n    const stubTitleSearchHandle = getColumnDisplayName(\n      genericCardSchemaDefined.subTitle,\n    )\n    const descriptionSubTitle = getColumnDisplayName(\n      genericCardSchemaDefined.description,\n    )\n\n    let ctaHref: string | undefined = undefined,\n      ctaTarget: string | undefined = undefined\n    if (ctaLinkConfig) {\n      const ctaLinkValue: string = data[schema[ctaLinkConfig.link]] || ''\n      const { href: newCtaHref, target: newCtaTarget } = getLinkParams(\n        ctaLinkValue,\n        undefined, //card link config\n        data,\n        schema,\n        rowId,\n      )\n      ctaHref = newCtaHref\n      ctaTarget = newCtaTarget\n    }\n\n    return (\n      <div style={style} className={'SRC-portalCard'}>\n        <div className={'SRC-portalCardMain'}>\n          {icon}\n          <div className=\"SRC-cardContent\">\n            <div className=\"SRC-type\">{type}</div>\n            {\n              // If the portal configs has columnIconOptions.columns.dataType option\n              // and the column value is not null, display the card data type icons\n              columnIconOptions?.columns?.dataType &&\n                dataTypeIconNames?.length && (\n                  <div style={{ marginTop: '20px' }}>\n                    <IconList\n                      iconConfigs={columnIconOptions.columns.dataType}\n                      iconNames={JSON.parse(dataTypeIconNames)}\n                      useBackground={true}\n                      useTheme={true}\n                    />\n                  </div>\n                )\n            }\n            <div>\n              <h3\n                className=\"SRC-boldText SRC-blackText\"\n                style={{ margin: 'none' }}\n              >\n                {!titleLinkConfig &&\n                titleColumnType === ColumnTypeEnum.FILEHANDLEID &&\n                fileHandleAssociation ? (\n                  <FileHandleLink\n                    fileHandleAssociation={fileHandleAssociation}\n                    showDownloadIcon={type !== SynapseConstants.EXPERIMENTAL}\n                    displayValue={title}\n                  />\n                ) : (\n                  this.renderTitle({\n                    href,\n                    target,\n                    titleSearchHandle,\n                    title,\n                  })\n                )}\n              </h3>\n            </div>\n            {subTitle && (\n              <div\n                data-search-handle={stubTitleSearchHandle}\n                className=\"SRC-author\"\n              >\n                {subTitle}\n              </div>\n            )}\n            {/* \n              Below is a hack that allows word highlighting to work, the Search component insert's\n              html elements outside of the React DOM which if detected would break the app,\n              but as written below this avoids that reconcilliation process.\n            */}\n            {description && (\n              <ShortDescription\n                description={description}\n                hasClickedShowMore={hasClickedShowMore}\n                descriptionSubTitle={descriptionSubTitle}\n                descriptionConfig={descriptionConfig}\n                toggleShowMore={this.toggleShowMore}\n              />\n            )}\n            {description && (\n              <LongDescription\n                description={description}\n                hasClickedShowMore={hasClickedShowMore}\n                descriptionSubTitle={descriptionSubTitle}\n                descriptionConfig={descriptionConfig}\n              />\n            )}\n            {ctaLinkConfig && ctaHref && ctaTarget && (\n              <div className=\"SRC-portalCardCTALink bootstrap-4-backport\">\n                <a target={ctaTarget} rel=\"noopener noreferrer\" href={ctaHref}>\n                  {ctaLinkConfig.text}\n                </a>\n              </div>\n            )}\n          </div>\n        </div>\n        {showFooter && (\n          <CardFooter\n            isHeader={false}\n            secondaryLabelLimit={secondaryLabelLimit}\n            values={values}\n            columnIconOptions={columnIconOptions}\n            className={`${imageFileHandleIdValue ? 'hasImage' : 'hasIcon'}`}\n          />\n        )}\n      </div>\n    )\n  }\n}\n","import * as React from 'react'\nimport { DATASET } from '../../utils/SynapseConstants'\nimport { calculateFriendlyFileSize } from '../../utils/functions/calculateFriendlyFileSize'\nimport * as Utils from './utils'\nimport { GenericCardSchema, getValueOrMultiValue } from '../GenericCard'\nimport { SelectColumn, ColumnModel } from '../../utils/synapseTypes'\nimport { Button } from 'react-bootstrap'\nimport { PRODUCTION_ENDPOINT_CONFIG } from '../../utils/functions/getEndpoint'\nimport { QueryVisualizationContextType } from '../QueryVisualizationWrapper'\n\nexport type DatasetProps = {\n  data?: any\n  schema?: any\n  secondaryLabelLimit?: number\n  selectColumns?: SelectColumn[]\n  columnModels?: ColumnModel[]\n  genericCardSchema?: GenericCardSchema\n  queryVisualizationContext: QueryVisualizationContextType\n}\n\nclass Dataset extends React.Component<DatasetProps, never> {\n  constructor(props: DatasetProps) {\n    super(props)\n    this.handleLinkClick = this.handleLinkClick.bind(this)\n  }\n\n  public handleLinkClick =\n    (link: string) => (event: React.MouseEvent<HTMLButtonElement>) => {\n      event.preventDefault()\n      window.open(\n        `${PRODUCTION_ENDPOINT_CONFIG.PORTAL}#!Synapse:${link}`,\n        '_blank',\n      )\n    }\n\n  public render() {\n    const {\n      data,\n      schema,\n      selectColumns,\n      columnModels,\n      genericCardSchema,\n      queryVisualizationContext: { getColumnDisplayName },\n    } = this.props\n    const datasetName = data[schema.datasetName]\n    const summary = data[schema.summary]\n    const tumorType = getValueOrMultiValue({\n      columnName: 'tumorType',\n      value: data[schema.tumorType],\n      selectColumns,\n      columnModels,\n    }).str\n    const diseaseFocus = getValueOrMultiValue({\n      columnName: 'diseaseFocus',\n      value: data[schema.diseaseFocus],\n      selectColumns,\n      columnModels,\n    }).str\n    const id = data[schema.id]\n    const fundingAgency = data[schema.fundingAgency]\n    const fileCount = data[schema.fileCount]\n    const fileSize = calculateFriendlyFileSize(data[schema.fileSize])\n    const values = [\n      [\n        'FUNDER',\n        getValueOrMultiValue({\n          columnName: 'fundingAgency',\n          value: fundingAgency,\n          selectColumns,\n          columnModels,\n        }).str,\n      ],\n      ['SIZE', fileSize],\n      ['FILES', fileCount],\n    ]\n    if (genericCardSchema && genericCardSchema.secondaryLabels) {\n      const { secondaryLabels } = genericCardSchema\n      for (let i = 0; i < secondaryLabels.length; i++) {\n        const columnName = secondaryLabels[i]\n        const value: any = data[schema[columnName]]\n        let columnDisplayName\n        if (value) {\n          columnDisplayName = getColumnDisplayName(columnName)\n          const keyValue = [columnDisplayName, value, columnName]\n          values.push(keyValue)\n        }\n      }\n    }\n\n    return (\n      <div className=\"SRC-portalCard SRC-typeDataset  \">\n        <div className=\"SRC-cardThumbnail\">\n          <Utils.Icon type={DATASET} />\n          <div>{fileSize}</div>\n        </div>\n        <div className=\"SRC-cardContent SRC-dataset\">\n          <div className=\"SRC-type\">Dataset </div>\n          <div>\n            <h3>\n              <a\n                target=\"_self\"\n                href={`${PRODUCTION_ENDPOINT_CONFIG.PORTAL}#!Synapse:${id}`}\n              >\n                {datasetName}\n              </a>\n            </h3>\n          </div>\n          <div className=\"SRC-description-dataset\">\n            <p className=\"SRC-description-text\">{summary}</p>\n            <div className=\"SRC-cardAction bootstrap-4-backport\">\n              <Button\n                className=\"SRC-datasetButton\"\n                onClick={this.handleLinkClick(id)}\n                variant=\"secondary\"\n              >\n                Download Dataset\n              </Button>\n            </div>\n          </div>\n          <div className=\"SRC-cardAnnotations\">\n            <Utils.ChipContainer chips={[tumorType, diseaseFocus]} />\n          </div>\n        </div>\n        <Utils.CardFooter\n          isHeader={false}\n          secondaryLabelLimit={this.props.secondaryLabelLimit}\n          values={values}\n        />\n      </div>\n    )\n  }\n}\nexport default Dataset\n","import * as React from 'react'\nimport WideButton from '../../components/styled/WideButton'\n\nexport type FunderProps = {\n  data?: any\n  schema?: any\n}\n\nexport default class Funder extends React.Component<FunderProps, never> {\n  constructor(props: FunderProps) {\n    super(props)\n    this.handleLinkClick = this.handleLinkClick.bind(this)\n  }\n  public handleLinkClick =\n    (link: string) => (event: React.MouseEvent<HTMLButtonElement>) => {\n      event.preventDefault()\n      window.open(link, '_blank')\n    }\n  public render() {\n    const { data, schema } = this.props\n    const organizationName = data[schema.organizationName]\n    const organizationPath = data[schema.organizationPath]\n    const summary = data[schema.summary]\n    const website = data[schema.website]\n    const logoHref: string = data[schema.logo]\n    // remove leading http(s):// and trailing /\n    let websiteDisplayName = website.replace('https://', '')\n    websiteDisplayName = websiteDisplayName.replace('http://', '')\n    if (websiteDisplayName.charAt(websiteDisplayName.length - 1) === '/') {\n      websiteDisplayName = websiteDisplayName.substring(\n        0,\n        websiteDisplayName.length - 1,\n      )\n    }\n    const isOnOrgPath = window.location.hash.substring(1) === organizationPath\n    const style: any = {}\n    let showOrgLink\n    if (!isOnOrgPath) {\n      showOrgLink = (\n        <div className=\"SRC-marginAuto SRC-cardAction\">\n          <WideButton\n            href={organizationPath}\n            variant=\"contained\"\n            color=\"secondary\"\n            // TODO: remove this line after we have removed bootstrap\n            sx={{ '&:hover': { color: 'common.white' } }} // otherwise tab-focus.less overrides color\n          >\n            View Funded Research\n          </WideButton>\n        </div>\n      )\n    } else {\n      style.paddingBottom = '42px'\n    }\n    return (\n      <div className=\"SRC-portalCard SRC-typeFunder \" style={style}>\n        <div className=\"SRC-cardContent\">\n          <div className=\"SRC-type\">Organization</div>\n          {logoHref && (\n            <div className=\"SRC-cardThumbnail\">\n              <img alt=\"funder logo\" className=\"SRC-logo\" src={logoHref} />\n            </div>\n          )}\n          <div>\n            <h3>\n              {isOnOrgPath && organizationName}\n              {!isOnOrgPath && (\n                <a href={organizationPath}>{organizationName}</a>\n              )}\n            </h3>\n          </div>\n          <div className=\"SRC-website\">\n            <a rel=\"noopener noreferrer\" target=\"_blank\" href={website}>\n              {websiteDisplayName}\n            </a>\n          </div>\n          <div className=\"SRC-description\">{summary}</div>\n        </div>\n        {showOrgLink}\n      </div>\n    )\n  }\n}\n","import * as React from 'react'\nimport UserCard from '../UserCard'\nimport IconSvg from '../IconSvg'\nimport { ShowMore } from './utils'\nimport { UnitType } from 'dayjs'\nimport { Skeleton } from '@mui/material'\nimport { SkeletonTable } from '../../assets/skeletons/SkeletonTable'\n\ntype ObservationCardSchema = {\n  submitterName: string\n  submitterUserId: string\n  time: string\n  timeUnits: UnitType\n  text: string\n  tag: string\n}\n\nexport type ObservationCardProps = {\n  schema: ObservationCardSchema\n  data: Record<ObservationCardSchema[keyof ObservationCardSchema], string>\n}\n\n/**\n * Specialized Observation Card, initially implemented for the NF portal.\n * Expects the following columns: submitterName, submitterUserId, time, timeUnits, text, and tag.\n */\nexport const ObservationCard: React.FunctionComponent<ObservationCardProps> = ({\n  data,\n  schema,\n}: ObservationCardProps) => {\n  const submitterName = data[schema.submitterName]\n  const submitterUserId = data[schema.submitterUserId]\n  const time = data[schema.time]\n  const timeUnits = data[schema.timeUnits] as UnitType\n  const text = data[schema.text]\n  const tag = data[schema.tag]\n  return (\n    <div className=\"SRC-portalCard ObservationCard\">\n      <div className=\"ObservationCard__submitter\">\n        {!submitterUserId && <div>{submitterName}</div>}\n        {submitterUserId && (\n          <UserCard size={'SMALL USER CARD'} ownerId={submitterUserId} />\n        )}\n      </div>\n      {time && (\n        <div className=\"ObservationCard__time\">\n          <IconSvg icon=\"time\" />\n          <span>\n            {`${time} ${timeUnits}`}\n            {Number(time) > 1 ? 's' : ''}\n          </span>\n        </div>\n      )}\n      <div className=\"ObservationCard__text\">\n        <ShowMore summary={text} />\n      </div>\n      <div className=\"ObservationCard__tags\">\n        {tag && <span className=\"SRC-tag\">{tag}</span>}\n      </div>\n    </div>\n  )\n}\n\nexport const LoadingObservationCard: React.FunctionComponent = () => {\n  return (\n    <div className=\"SRC-portalCard ObservationCard\">\n      <div className=\"ObservationCard__submitter\">\n        <span>\n          <Skeleton width=\"100px\" />\n        </span>\n      </div>\n      <div className=\"ObservationCard__time\">\n        <IconSvg icon=\"time\" />\n      </div>\n      <div className=\"ObservationCard__text\">\n        <SkeletonTable numCols={1} numRows={4} />\n      </div>\n      <div className=\"ObservationCard__tags\">\n        <Skeleton width=\"80px\" />\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport useGetInfoFromIds from '../utils/hooks/useGetInfoFromIds'\nimport {\n  DATASET,\n  FUNDER,\n  GENERIC_CARD,\n  MEDIUM_USER_CARD,\n  OBSERVATION_CARD,\n} from '../utils/SynapseConstants'\nimport { ColumnTypeEnum, EntityHeader, Row } from '../utils/synapseTypes/'\nimport { CardConfiguration } from './CardContainerLogic'\nimport GenericCard from './GenericCard'\nimport loadingScreen from './LoadingScreen'\nimport { useInfiniteQueryContext } from './QueryContext'\nimport { useQueryVisualizationContext } from './QueryVisualizationWrapper'\nimport { Dataset, Funder } from './row_renderers'\nimport {\n  LoadingObservationCard,\n  ObservationCard,\n} from './row_renderers/ObservationCard'\nimport TotalQueryResults from './TotalQueryResults'\nimport UserCardList from './UserCardList'\nimport WideButton from '../components/styled/WideButton'\nimport { Box } from '@mui/material'\n\nexport type CardContainerProps = {\n  isHeader?: boolean\n  isAlignToLeftNav?: boolean\n  title?: string\n  isLoading?: boolean\n  unitDescription?: string\n} & CardConfiguration\n\nfunction Card(props: { propsToPass: any; type: string }) {\n  const { propsToPass, type } = props\n  switch (type) {\n    case DATASET:\n      return <Dataset {...propsToPass} />\n    case FUNDER:\n      return <Funder {...propsToPass} />\n    case GENERIC_CARD:\n      return <GenericCard {...propsToPass} />\n    case OBSERVATION_CARD:\n      return <ObservationCard {...propsToPass} />\n    default:\n      return <div /> // this should never happen\n  }\n}\n\nexport const CardContainer = (props: CardContainerProps) => {\n  const {\n    isHeader = false,\n    unitDescription,\n    type,\n    isLoading,\n    secondaryLabelLimit = 3,\n    title,\n    ...rest\n  } = props\n  const infiniteQueryContext = useInfiniteQueryContext()\n  const { NoContentPlaceholder } = useQueryVisualizationContext()\n  const { data, appendNextPageToResults, hasNextPage } = infiniteQueryContext\n\n  const queryVisualizationContext = useQueryVisualizationContext()\n\n  const ids = data?.queryResult!.queryResults.tableId\n    ? [data?.queryResult.queryResults.tableId]\n    : []\n  const tableEntityConcreteType = useGetInfoFromIds<EntityHeader>({\n    ids,\n    type: 'ENTITY_HEADER',\n  })\n  // the cards only show the loading screen on initial load, this occurs when data is undefined\n  if (!data) {\n    return (\n      <div>\n        {isLoading && type === OBSERVATION_CARD && <LoadingObservationCard />}\n        {isLoading && type !== OBSERVATION_CARD && loadingScreen}\n      </div>\n    )\n  } else if (data && data.queryResult!.queryResults.rows.length === 0) {\n    // Show \"no results\" UI (see PORTALS-1497)\n    return <NoContentPlaceholder />\n  }\n  const schema = {}\n  data.queryResult!.queryResults.headers.forEach((element, index) => {\n    schema[element.name] = index\n  })\n  const showViewMoreButton = hasNextPage && (\n    <Box display=\"flex\" justifyContent=\"flex-end\">\n      <WideButton\n        variant=\"contained\"\n        color=\"secondary\"\n        size=\"large\"\n        onClick={() => {\n          appendNextPageToResults()\n        }}\n      >\n        View More\n      </WideButton>\n    </Box>\n  )\n  let cards\n  if (type === MEDIUM_USER_CARD) {\n    // Hard coding ownerId as a column name containing the user profile ownerId\n    // for each row, grab the column with the ownerId\n    const userIdColumnIndex = data.queryResult!.queryResults.headers.findIndex(\n      el => el.columnType === ColumnTypeEnum.USERID,\n    )\n    if (userIdColumnIndex === -1) {\n      throw Error(\n        'Type MEDIUM_USER_CARD specified but no columnType USERID found',\n      )\n    }\n    const listIds = data.queryResult!.queryResults.rows.map(\n      el => el.values[userIdColumnIndex],\n    )\n    cards = <UserCardList data={data} list={listIds} size={MEDIUM_USER_CARD} />\n  } else {\n    // render the cards\n    const cardsData = data.queryResult!.queryResults.rows\n    cards = cardsData.length ? (\n      cardsData.map((rowData: Row, index) => {\n        const key = JSON.stringify(rowData.values)\n        const propsForCard = {\n          key,\n          type,\n          schema,\n          isHeader,\n          secondaryLabelLimit,\n          rowId: rowData.rowId,\n          data: rowData.values,\n          selectColumns: data.selectColumns,\n          columnModels: data.columnModels,\n          tableEntityConcreteType:\n            tableEntityConcreteType[0] && tableEntityConcreteType[0].type,\n          tableId: data?.queryResult!.queryResults.tableId,\n          queryContext: infiniteQueryContext,\n          queryVisualizationContext,\n          ...rest,\n        }\n        return (\n          <Card\n            key={rowData.rowId ?? index}\n            propsToPass={propsForCard}\n            type={type}\n          />\n        )\n      })\n    ) : (\n      <></>\n    )\n  }\n\n  return (\n    <div role=\"list\">\n      {title && <h2 className=\"SRC-card-overview-title\">{title}</h2>}\n      {!title && unitDescription && (\n        <TotalQueryResults frontText={'Displaying'} />\n      )}\n      {/* ReactCSSTransitionGroup adds css fade in property for cards that come into view */}\n      {cards}\n      {showViewMoreButton}\n    </div>\n  )\n}\n\nexport default CardContainer\n","!function webpackUniversalModuleDefinition(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.ColumnResizer=t():e.ColumnResizer=t()}(this,(()=>(()=>{\"use strict\";var e={887:e=>{e.exports=function hash(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0}}},t={};function __webpack_require__(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,__webpack_require__),o.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var r={};return(()=>{__webpack_require__.r(r),__webpack_require__.d(r,{default:()=>n});var e=__webpack_require__(887),t=__webpack_require__.n(e);function _typeof(e){return _typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},_typeof(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,_toPropertyKey(i.key),i)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,\"prototype\",{writable:!1}),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if(\"object\"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||\"default\");if(\"object\"!==_typeof(i))return i;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"===_typeof(t)?t:String(t)}var i,o=(i=0,function(){return i++}),n=_createClass((function ColumnResizer(e){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,ColumnResizer),_defineProperty(this,\"ID\",\"id\"),_defineProperty(this,\"PX\",\"px\"),_defineProperty(this,\"RESIZABLE\",\"grip-resizable\"),_defineProperty(this,\"FLEX\",\"grip-flex\"),_defineProperty(this,\"legacyIE\",navigator.userAgent.indexOf(\"Trident/4.0\")>0),_defineProperty(this,\"reset\",(function(e){return r.init(e)})),_defineProperty(this,\"onResize\",(function(){var e=r.tb;if(e.classList.remove(r.RESIZABLE),e.opt.fixed){e.tableWidth=Number(window.getComputedStyle(e).width.replace(/px/,\"\")).valueOf();for(var t=0,i=0;i<e.columnCnt;i++)t+=e.columns[i].w;for(var o=0;o<e.columnCnt;o++)e.columns[o].style.width=Math.round(1e3*e.columns[o].w/t)/10+\"%\",e.columns[o].locked=!0,e.opt.currentWidths[o]=Number(window.getComputedStyle(e.columns[o]).width.replace(/px/,\"\")).valueOf()}else r.applyBounds(),\"flex\"===e.opt.resizeMode&&e.opt.serialize&&r.serializeStore();e.classList.add(r.RESIZABLE),r.syncGrips()})),_defineProperty(this,\"onGripMouseDown\",(function(e){var t=e.target.parentNode.data,i=r.tb,o=i.grips[t.i],n=e.touches;if(o.ox=n?n[0].pageX:e.pageX,o.l=o.offsetLeft,o.x=o.l,r.createStyle(document.querySelector(\"head\"),\"*{cursor:\"+i.opt.dragCursor+\"!important}\"),document.addEventListener(\"touchmove\",r.onGripDrag),document.addEventListener(\"mousemove\",r.onGripDrag),document.addEventListener(\"touchend\",r.onGripDragOver),document.addEventListener(\"mouseup\",r.onGripDragOver),o.classList.add(i.opt.draggingClass),r.grip=o,i.columns[t.i].locked)for(var l,a=0;a<i.columnCnt;a++)(l=i.columns[a]).locked=!1,l.w=Number(window.getComputedStyle(l).width.replace(/px/,\"\")).valueOf();e.preventDefault()})),_defineProperty(this,\"onGripDrag\",(function(e){var t=r.grip;if(t){var i=t.t,o=e.touches,n=(o?o[0].pageX:e.pageX)-t.ox+t.l,l=i.opt.minWidth,a=t.i,s=1.5*i.cellSpace+l+i.borderSpace,d=a===i.columnCnt-1,p=a?i.grips[a-1].offsetLeft+i.cellSpace+l:s,u=i.opt.fixed?a===i.columnCnt-1?i.tableWidth-s:i.grips[a+1].offsetLeft-i.cellSpace-l:1/0;if(n=Math.max(p,Math.min(u,n)),t.x=n,t.style.left=n+r.PX,d&&(t.w=i.columns[a].w+n-t.l),i.opt.liveDrag){d?(i.columns[a].style.width=t.w+r.PX,!i.opt.fixed&&i.opt.overflow?i.style.minWidth=i.tableWidth+n-t.l+r.PX:i.tableWidth=Number(window.getComputedStyle(i).width.replace(/px/,\"\")).valueOf()):r.syncCols(i,a,!1,i.opt),r.syncGrips();var c=i.opt.onDrag;c&&c(e)}e.preventDefault()}})),_defineProperty(this,\"onGripDragOver\",(function(e){var t=r.grip;document.removeEventListener(\"touchend\",r.onGripDragOver),document.removeEventListener(\"mouseup\",r.onGripDragOver),document.removeEventListener(\"touchmove\",r.onGripDrag),document.removeEventListener(\"mousemove\",r.onGripDrag);var i=document.querySelector(\"head\").lastChild;if(i.parentNode.removeChild(i),t){if(t.classList.remove(t.t.opt.draggingClass),t.x-t.l!=0){var o=t.t,n=o.opt.onResize,l=t.i;if(l===o.columnCnt-1){var a=o.columns[l];a.style.width=t.w+r.PX,a.w=t.w}else r.syncCols(o,l,!0,o.opt);o.opt.fixed||r.applyBounds(),r.syncGrips(),n&&n(e),o.opt.serialize&&r.serializeStore()}r.grip=null}})),_defineProperty(this,\"init\",(function(e){if(e.disable)return r.destroy();var t=r.tb,i=t.getAttribute(r.ID)||r.RESIZABLE+o();if(!t.matches(\"table\")||t.extended&&!e.partialRefresh)return null;var n=document.querySelector(\"head\");if(r.createStyle(n,\" .grip-resizable{table-layout:fixed;} .grip-resizable > tbody > tr > td, .grip-resizable > tbody > tr > th{overflow:hidden} .grip-padding > tbody > tr > td, .grip-padding > tbody > tr > th{padding-left:0!important; padding-right:0!important;} .grip-container{ height:0px; position:relative;} .grip-handle{margin-left:-5px; position:absolute; z-index:5; } .grip-handle .grip-resizable{position:absolute;background-color:red;filter:alpha(opacity=1);opacity:0;width:10px;height:100%;cursor: col-resize;top:0px} .grip-lastgrip{position:absolute; width:1px; } .grip-drag{ border-left:1px dotted black;\\t} .grip-flex{width:auto!important;} .grip-handle.grip-disabledgrip .grip-resizable{cursor:default; display:none;}\"),e.hoverCursor&&\"col-resize\"!==e.hoverCursor){var l=\".grip-handle .grip-resizable:hover{cursor:\"+e.hoverCursor+\"!important}\";r.createStyle(n,l)}t.setAttribute(r.ID,i);var a=t.opt;t.opt=r.extendOptions(e);var s=r.getTableHeaders(t);if(r.extendTable(s),e.remoteTable&&e.remoteTable.matches(\"table\")){var d=r.getTableHeaders(t.opt.remoteTable);s.length===d.length?r.extendRemoteTable(t.opt.remoteTable,d,t):console.warn(\"column count for remote table did not match\")}return a})),_defineProperty(this,\"applyBounds\",(function(){var e=r.tb,t=e.columns.map((function(e){return window.getComputedStyle(e).width}));e.style.width=window.getComputedStyle(e).width,e.tableWidth=Number(e.style.width.replace(/px/,\"\")).valueOf(),e.classList.remove(r.FLEX),e.columns.forEach((function(r,i){r.style.width=t[i];var o=Number(t[i].replace(/px/,\"\")).valueOf();r.w=o,e.opt.currentWidths[i]=o})),e.classList.add(r.FLEX)})),_defineProperty(this,\"serializeStore\",(function(){var e=r.store,t=r.tb;e[t.getAttribute(r.ID)]=\"\";for(var i=0,o=0;o<t.columns.length;o++){var n=window.getComputedStyle(t.columns[o]).width.replace(/px/,\"\");e[t.getAttribute(r.ID)]+=n+\";\",i+=Number(n).valueOf()}e[t.getAttribute(r.ID)]+=i.toString(),t.opt.fixed||(e[t.getAttribute(r.ID)]+=\";\"+window.getComputedStyle(t).width.replace(/px/,\"\"))})),_defineProperty(this,\"syncGrips\",(function(){var e=r.tb;e.gripContainer.style.width=e.tableWidth+r.PX;for(var t=0;t<e.columnCnt;t++){var i=e.columns[t],o=i.getBoundingClientRect(),n=e.getBoundingClientRect();e.grips[t].style.left=o.left-n.left+i.offsetWidth+e.cellSpace/2+r.PX,e.grips[t].style.height=(e.opt.headerOnly?e.columns[0].offsetHeight:e.offsetHeight)+r.PX}})),_defineProperty(this,\"destroy\",(function(){var e=r.tb,t=e.getAttribute(r.ID);return t?(r.store[t]=\"\",e.classList.remove(r.RESIZABLE),e.classList.remove(r.FLEX),e.remote&&(e.remote.classList.remove(r.RESIZABLE),e.remote.classList.remove(r.FLEX)),e.gripContainer&&e.gripContainer.parentNode&&e.gripContainer.parentNode.removeChild(e.gripContainer),delete e.extended,e.opt):null})),_defineProperty(this,\"createStyle\",(function(e,r){var i=t()(r).toString(),o=e.querySelectorAll(\"style\"),n=Array.from(o).filter((function(e){return e.gripid===i}));if(!n.length){var l=document.createElement(\"style\");l.type=\"text/css\",l.gripid=i,l.styleSheet?l.styleSheet.cssText=r:l.appendChild(document.createTextNode(r)),e.appendChild(l)}})),_defineProperty(this,\"extendOptions\",(function(e){var t=Object.assign({},ColumnResizer.DEFAULTS,e);switch(t.fixed=!0,t.overflow=!1,t.resizeMode){case\"flex\":t.fixed=!1;break;case\"overflow\":t.fixed=!1,t.overflow=!0}return t})),_defineProperty(this,\"getTableHeaders\",(function(e){var t=\"#\"+e.id,i=Array.from(e.querySelectorAll(t+\">thead>tr:nth-of-type(1)>th\"));return(i=i.concat(Array.from(e.querySelectorAll(t+\">thead>tr:nth-of-type(1)>td\")))).length||(i=(i=(i=(i=Array.from(e.querySelectorAll(t+\">tbody>tr:nth-of-type(1)>th\"))).concat(Array.from(e.querySelectorAll(t+\">tr:nth-of-type(1)>th\")))).concat(Array.from(e.querySelectorAll(t+\">tbody>tr:nth-of-type(1)>td\")))).concat(Array.from(e.querySelectorAll(t+\">tr:nth-of-type(1)>td\")))),r.filterInvisible(i,!1)})),_defineProperty(this,\"filterInvisible\",(function(e,t){return e.filter((function(e){var r=t?-1:e.offsetWidth,i=t?-1:e.offsetHeight;return!(0===r&&0===i||e.style&&e.style.display&&\"none\"===window.getComputedStyle(e).display||!1)}))})),_defineProperty(this,\"extendTable\",(function(e){var t=r.tb;t.opt.removePadding&&t.classList.add(\"grip-padding\"),t.classList.add(r.RESIZABLE),t.insertAdjacentHTML(\"beforebegin\",'<div class=\"grip-container\"/>'),t.grips=[],t.columns=[],t.tableWidth=Number(window.getComputedStyle(t).width.replace(/px/,\"\")).valueOf(),t.gripContainer=t.previousElementSibling,t.opt.marginLeft&&(t.gripContainer.style.marginLeft=t.opt.marginLeft),t.opt.marginRight&&(t.gripContainer.style.marginRight=t.opt.marginRight),t.cellSpace=parseInt(r.legacyIE?t.cellSpacing||t.currentStyle.borderSpacing:window.getComputedStyle(t).borderSpacing.split(\" \")[0].replace(/px/,\"\"))||2,t.borderSpace=parseInt(r.legacyIE?t.border||t.currentStyle.borderLeftWidth:window.getComputedStyle(t).borderLeftWidth.replace(/px/,\"\"))||1,t.extended=!0,r.createGrips(e)})),_defineProperty(this,\"extendRemoteTable\",(function(e,t,i){i.opt.removePadding&&e.classList.add(\"grip-padding\"),e.classList.add(r.RESIZABLE),e.getAttribute(r.ID)||e.setAttribute(r.ID,i.getAttribute(r.ID)+\"remote\"),e.columns=[],t.forEach((function(o,n){var l=t[n];l.w=i.columns[n].w,l.style.width=l.w+r.PX,l.removeAttribute(\"width\"),e.columns.push(l)})),e.tableWidth=i.tableWidth,e.cellSpace=i.cellSpace,e.borderSpace=i.borderSpace;var o=Array.from(e.querySelectorAll(\"col\"));e.columnGrp=r.filterInvisible(o,!0),e.columnGrp.forEach((function(e,t){e.removeAttribute(\"width\"),e.style.width=i.columnGrp[t].style.width})),i.remote=e})),_defineProperty(this,\"createGrips\",(function(e){var t=r.tb;t.columnGrp=r.filterInvisible(Array.from(t.querySelectorAll(\"col\")),!0),t.columnGrp.forEach((function(e){e.removeAttribute(\"width\")})),t.columnCnt=e.length;var i=!1;r.store[t.getAttribute(r.ID)]&&(r.deserializeStore(e),i=!0),e.forEach((function(o,n){var l=e[n],a=-1!==t.opt.disabledColumns.indexOf(n);r.createDiv(t.gripContainer,\"grip-handle\");var s=t.gripContainer.lastChild;!a&&t.opt.gripInnerHtml&&(s.innerHTML=t.opt.gripInnerHtml),r.createDiv(s,r.RESIZABLE),n===t.columnCnt-1&&(s.classList.add(\"grip-lastgrip\"),t.opt.fixed&&(s.innerHTML=\"\")),s.addEventListener(\"touchstart\",r.onGripMouseDown,{capture:!0,passive:!0}),s.addEventListener(\"mousedown\",r.onGripMouseDown,!0),a?s.classList.add(\"grip-disabledgrip\"):(s.classList.remove(\"grip-disabledgrip\"),s.addEventListener(\"touchstart\",r.onGripMouseDown,{capture:!0,passive:!0}),s.addEventListener(\"mousedown\",r.onGripMouseDown,!0)),s.t=t,s.i=n,t.opt.widths[n]?l.w=t.opt.widths[n]:l.w=i?Number(l.style.width.replace(/px/,\"\")).valueOf():Number(window.getComputedStyle(l).width.replace(/px/,\"\")).valueOf(),t.opt.currentWidths[n]=l.w,l.style.width=l.w+r.PX,l.removeAttribute(\"width\"),s.data={i:n,t:t.getAttribute(r.ID),last:n===t.columnCnt-1},t.grips.push(s),t.columns.push(l)}));var o=Array.from(t.querySelectorAll(\"td\"));o.concat(Array.from(t.querySelectorAll(\"th\"))),(o=(o=o.filter((function(t){for(var r=0;r<e.length;r++)if(e[r]===t)return!1;return!0}))).filter((function(e){return!(e.querySelectorAll(\"table th\").length||e.querySelectorAll(\"table td\").length)}))).forEach((function(e){e.removeAttribute(\"width\")})),t.opt.fixed||(t.removeAttribute(\"width\"),t.classList.add(r.FLEX)),r.syncGrips()})),_defineProperty(this,\"deserializeStore\",(function(e){var t=r.tb;if(t.columnGrp.forEach((function(e){e.removeAttribute(\"width\")})),t.opt.flush)r.store[t.getAttribute(r.ID)]=\"\";else{var i=r.store[t.getAttribute(r.ID)].split(\";\"),o=i[t.columnCnt+1];!t.opt.fixed&&o&&(t.style.width=o+r.PX,t.opt.overflow&&(t.style.minWidth=o+r.PX,t.tableWidth=Number(o).valueOf()));for(var n=0;n<t.columnCnt;n++)e[n].style.width=i[n]+r.PX,t.columnGrp[n]&&(t.columnGrp[n].style.width=100*Number(i[n]).valueOf()/Number(i[t.columnCnt]).valueOf()+\"%\")}})),_defineProperty(this,\"createDiv\",(function(e,t,r){var i=document.createElement(\"div\");i.classList.add(t),r&&(i.innerHTML=r),e.appendChild(i)})),_defineProperty(this,\"syncCols\",(function(e,t,i,o){var n=e.remote,l=r.grip.x-r.grip.l,a=e.columns[t],s=e.columns[t+1];if(a&&s){var d=a.w+l,p=s.w-l,u=d+r.PX;if(a.style.width=u,e.columnGrp[t]&&e.columnGrp[t].style.width&&(e.columnGrp[t].style.width=u),n&&(n.columns[t].style.width=u,n.columnGrp[t]&&n.columnGrp[t].style.width&&(n.columnGrp[t].style.width=u)),o.fixed){var c=p+r.PX;s.style.width=c,e.columnGrp[t+1]&&e.columnGrp[t+1].style.width&&(e.columnGrp[t+1].style.width=c),n&&(n.columns[t+1].style.width=c,n.columnGrp[t+1]&&n.columnGrp[t+1].style.width&&(n.columnGrp[t+1].style.width=c))}else o.overflow&&(e.style.minWidth=e.tableWidth+l+r.PX);i&&(a.w=d,s.w=o.fixed?p:s.w,n&&(n.columns[t].w=d,n.columns[t+1].w=o.fixed?p:s.w))}}));try{this.store=sessionStorage}catch(e){this.store={}}this.grip=null,this.tb=e,window.addEventListener(\"resize\",this.onResize),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector),this.init(i)}));n.DEFAULTS={resizeMode:\"fit\",draggingClass:\"grip-drag\",gripInnerHtml:\"\",liveDrag:!1,minWidth:15,headerOnly:!1,hoverCursor:\"col-resize\",dragCursor:\"col-resize\",flush:!1,marginLeft:null,marginRight:null,remoteTable:null,disable:!1,partialRefresh:!1,disabledColumns:[],removePadding:!0,widths:[],currentWidths:[],serialize:!0,onDrag:null,onResize:null}})(),r})()));\n//# sourceMappingURL=column-resizer.js.map","import React from 'react'\nimport IconSvg from './IconSvg'\nimport { useSynapseContext } from '../utils/SynapseContext'\nimport { displayToast } from './ToastMessage'\nimport { Tooltip } from '@mui/material'\nimport { useAddFileToDownloadList } from '../utils/hooks/SynapseAPI/download/useDownloadList'\nimport { useGetEntity } from '../utils/hooks/SynapseAPI'\n\nexport type AddToDownloadListV2Props = {\n  entityId: string\n  entityVersionNumber?: number\n}\n\nconst AddToDownloadListV2: React.FunctionComponent<\n  AddToDownloadListV2Props\n> = props => {\n  const { entityId, entityVersionNumber } = props\n  const { accessToken } = useSynapseContext()\n  const isLoggedIn = !!accessToken\n\n  const { data: entity } = useGetEntity(entityId, entityVersionNumber)\n\n  const { mutate: addToDownloadList } = useAddFileToDownloadList({\n    onSuccess: () => {\n      displayToast(\n        `${\n          entity?.name ?? entityId\n        } was successfully added to your Download Cart.`,\n        'success',\n      )\n    },\n    onError: e => {\n      displayToast(\n        `Unable to add the file to your Download Cart. ${e.reason}`,\n        'danger',\n      )\n    },\n  })\n\n  if (!isLoggedIn) {\n    return <></>\n  }\n\n  return (\n    <>\n      <Tooltip\n        title=\"Add this file to your Download Cart\"\n        placement=\"right\"\n        enterNextDelay={300}\n      >\n        <a\n          data-testid=\"AddToDownloadListV2\"\n          onClick={() => {\n            addToDownloadList({ entityId, entityVersionNumber })\n          }}\n          className=\"ignoreLink\"\n        >\n          <IconSvg icon={'addToCart'} />\n        </a>\n      </Tooltip>\n    </>\n  )\n}\n\nexport default AddToDownloadListV2\n","/////////////////////////////////////////////////////////////////////////////////\n/* UAParser.js v1.0.33\n   Copyright  2012-2021 Faisal Salman <f@faisalman.com>\n   MIT License *//*\n   Detect Browser, Engine, OS, CPU, and Device type/model from User-Agent data.\n   Supports browser & node.js environment. \n   Demo   : https://faisalman.github.io/ua-parser-js\n   Source : https://github.com/faisalman/ua-parser-js */\n/////////////////////////////////////////////////////////////////////////////////\n\n(function (window, undefined) {\n\n    'use strict';\n\n    //////////////\n    // Constants\n    /////////////\n\n\n    var LIBVERSION  = '1.0.33',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        STR_TYPE    = 'string',\n        MAJOR       = 'major',\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        EMBEDDED    = 'embedded',\n        UA_MAX_LENGTH = 350;\n\n    var AMAZON  = 'Amazon',\n        APPLE   = 'Apple',\n        ASUS    = 'ASUS',\n        BLACKBERRY = 'BlackBerry',\n        BROWSER = 'Browser',\n        CHROME  = 'Chrome',\n        EDGE    = 'Edge',\n        FIREFOX = 'Firefox',\n        GOOGLE  = 'Google',\n        HUAWEI  = 'Huawei',\n        LG      = 'LG',\n        MICROSOFT = 'Microsoft',\n        MOTOROLA  = 'Motorola',\n        OPERA   = 'Opera',\n        SAMSUNG = 'Samsung',\n        SHARP   = 'Sharp',\n        SONY    = 'Sony',\n        XIAOMI  = 'Xiaomi',\n        ZEBRA   = 'Zebra',\n        FACEBOOK   = 'Facebook';\n\n    ///////////\n    // Helper\n    //////////\n\n    var extend = function (regexes, extensions) {\n            var mergedRegexes = {};\n            for (var i in regexes) {\n                if (extensions[i] && extensions[i].length % 2 === 0) {\n                    mergedRegexes[i] = extensions[i].concat(regexes[i]);\n                } else {\n                    mergedRegexes[i] = regexes[i];\n                }\n            }\n            return mergedRegexes;\n        },\n        enumerize = function (arr) {\n            var enums = {};\n            for (var i=0; i<arr.length; i++) {\n                enums[arr[i].toUpperCase()] = arr[i];\n            }\n            return enums;\n        },\n        has = function (str1, str2) {\n            return typeof str1 === STR_TYPE ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;\n        },\n        lowerize = function (str) {\n            return str.toLowerCase();\n        },\n        majorize = function (version) {\n            return typeof(version) === STR_TYPE ? version.replace(/[^\\d\\.]/g, EMPTY).split('.')[0] : undefined;\n        },\n        trim = function (str, len) {\n            if (typeof(str) === STR_TYPE) {\n                str = str.replace(/^\\s\\s*/, EMPTY);\n                return typeof(len) === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);\n            }\n    };\n\n    ///////////////\n    // Map helper\n    //////////////\n\n    var rgxMapper = function (ua, arrays) {\n\n            var i = 0, j, k, p, q, matches, match;\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === OBJ_TYPE && q.length > 0) {\n                                if (q.length === 2) {\n                                    if (typeof q[1] == FUNC_TYPE) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length === 3) {\n                                    // check whether function or regex\n                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length === 4) {\n                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n        },\n\n        strMapper = function (str, map) {\n\n            for (var i in map) {\n                // check if current value is array\n                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return str;\n    };\n\n    ///////////////\n    // String map\n    //////////////\n\n    // Safari < 3.0\n    var oldSafariMap = {\n            '1.0'   : '/8',\n            '1.2'   : '/1',\n            '1.3'   : '/3',\n            '2.0'   : '/412',\n            '2.0.2' : '/416',\n            '2.0.3' : '/417',\n            '2.0.4' : '/419',\n            '?'     : '/'\n        },\n        windowsVersionMap = {\n            'ME'        : '4.90',\n            'NT 3.11'   : 'NT3.51',\n            'NT 4.0'    : 'NT4.0',\n            '2000'      : 'NT 5.0',\n            'XP'        : ['NT 5.1', 'NT 5.2'],\n            'Vista'     : 'NT 6.0',\n            '7'         : 'NT 6.1',\n            '8'         : 'NT 6.2',\n            '8.1'       : 'NT 6.3',\n            '10'        : ['NT 6.4', 'NT 10.0'],\n            'RT'        : 'ARM'\n    };\n\n    //////////////\n    // Regex map\n    /////////////\n\n    var regexes = {\n\n        browser : [[\n\n            /\\b(?:crmo|crios)\\/([\\w\\.]+)/i                                      // Chrome for Android/iOS\n            ], [VERSION, [NAME, 'Chrome']], [\n            /edg(?:e|ios|a)?\\/([\\w\\.]+)/i                                       // Microsoft Edge\n            ], [VERSION, [NAME, 'Edge']], [\n\n            // Presto based\n            /(opera mini)\\/([-\\w\\.]+)/i,                                        // Opera Mini\n            /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,                 // Opera Mobi/Tablet\n            /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i                           // Opera\n            ], [NAME, VERSION], [\n            /opios[\\/ ]+([\\w\\.]+)/i                                             // Opera mini on iphone >= 8.0\n            ], [VERSION, [NAME, OPERA+' Mini']], [\n            /\\bopr\\/([\\w\\.]+)/i                                                 // Opera Webkit\n            ], [VERSION, [NAME, OPERA]], [\n\n            // Mixed\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,      // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n            // Trident based\n            /(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i,               // Avant/IEMobile/SlimBrowser\n            /(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i,                                  // Baidu Browser\n            /(?:ms|\\()(ie) ([\\w\\.]+)/i,                                         // Internet Explorer\n\n            // Webkit/KHTML based                                               // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n            /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,\n                                                                                // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ, aka ShouQ\n            /(weibo)__([\\d\\.]+)/i                                               // Weibo\n            ], [NAME, VERSION], [\n            /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i                 // UCBrowser\n            ], [VERSION, [NAME, 'UC'+BROWSER]], [\n            /microm.+\\bqbcore\\/([\\w\\.]+)/i,                                     // WeChat Desktop for Windows Built-in Browser\n            /\\bqbcore\\/([\\w\\.]+).+microm/i\n            ], [VERSION, [NAME, 'WeChat(Win) Desktop']], [\n            /micromessenger\\/([\\w\\.]+)/i                                        // WeChat\n            ], [VERSION, [NAME, 'WeChat']], [\n            /konqueror\\/([\\w\\.]+)/i                                             // Konqueror\n            ], [VERSION, [NAME, 'Konqueror']], [\n            /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i                       // IE11\n            ], [VERSION, [NAME, 'IE']], [\n            /yabrowser\\/([\\w\\.]+)/i                                             // Yandex\n            ], [VERSION, [NAME, 'Yandex']], [\n            /(avast|avg)\\/([\\w\\.]+)/i                                           // Avast/AVG Secure Browser\n            ], [[NAME, /(.+)/, '$1 Secure '+BROWSER], VERSION], [\n            /\\bfocus\\/([\\w\\.]+)/i                                               // Firefox Focus\n            ], [VERSION, [NAME, FIREFOX+' Focus']], [\n            /\\bopt\\/([\\w\\.]+)/i                                                 // Opera Touch\n            ], [VERSION, [NAME, OPERA+' Touch']], [\n            /coc_coc\\w+\\/([\\w\\.]+)/i                                            // Coc Coc Browser\n            ], [VERSION, [NAME, 'Coc Coc']], [\n            /dolfin\\/([\\w\\.]+)/i                                                // Dolphin\n            ], [VERSION, [NAME, 'Dolphin']], [\n            /coast\\/([\\w\\.]+)/i                                                 // Opera Coast\n            ], [VERSION, [NAME, OPERA+' Coast']], [\n            /miuibrowser\\/([\\w\\.]+)/i                                           // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI '+BROWSER]], [\n            /fxios\\/([-\\w\\.]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, FIREFOX]], [\n            /\\bqihu|(qi?ho?o?|360)browser/i                                     // 360\n            ], [[NAME, '360 '+BROWSER]], [\n            /(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+)/, '$1 '+BROWSER], VERSION], [                      // Oculus/Samsung/Sailfish/Huawei Browser\n            /(comodo_dragon)\\/([\\w\\.]+)/i                                       // Comodo Dragon\n            ], [[NAME, /_/g, ' '], VERSION], [\n            /(electron)\\/([\\w\\.]+) safari/i,                                    // Electron-based App\n            /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,                   // Tesla\n            /m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i            // QQBrowser/Baidu App/2345 Browser\n            ], [NAME, VERSION], [\n            /(metasr)[\\/ ]?([\\w\\.]+)/i,                                         // SouGouBrowser\n            /(lbbrowser)/i,                                                     // LieBao Browser\n            /\\[(linkedin)app\\]/i                                                // LinkedIn App for iOS & Android\n            ], [NAME], [\n\n            // WebView\n            /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i       // Facebook App for iOS & Android\n            ], [[NAME, FACEBOOK], VERSION], [\n            /safari (line)\\/([\\w\\.]+)/i,                                        // Line App for iOS\n            /\\b(line)\\/([\\w\\.]+)\\/iab/i,                                        // Line App for Android\n            /(chromium|instagram)[\\/ ]([-\\w\\.]+)/i                              // Chromium/Instagram\n            ], [NAME, VERSION], [\n            /\\bgsa\\/([\\w\\.]+) .*safari\\//i                                      // Google Search Appliance on iOS\n            ], [VERSION, [NAME, 'GSA']], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)| )/i                                  // Chrome Headless\n            ], [VERSION, [NAME, CHROME+' Headless']], [\n\n            / wv\\).+(chrome)\\/([\\w\\.]+)/i                                       // Chrome WebView\n            ], [[NAME, CHROME+' WebView'], VERSION], [\n\n            /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i           // Android Browser\n            ], [VERSION, [NAME, 'Android '+BROWSER]], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i       // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i                      // Mobile Safari\n            ], [VERSION, [NAME, 'Mobile Safari']], [\n            /version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i                // Safari & Safari Mobile\n            ], [VERSION, NAME], [\n            /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i                      // Safari < 3.0\n            ], [NAME, [VERSION, strMapper, oldSafariMap]], [\n\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i                              // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /mobile vr; rv:([\\w\\.]+)\\).+firefox/i                               // Firefox Reality\n            ], [VERSION, [NAME, FIREFOX+' Reality']], [\n            /ekiohf.+(flow)\\/([\\w\\.]+)/i,                                       // Flow\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror/Klar\n            /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(firefox)\\/([\\w\\.]+)/i,                                            // Other Firefox-based\n            /(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,                         // Mozilla\n\n            // Other\n            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir/Obigo/Mosaic/Go/ICE/UP.Browser\n            /(links) \\(([\\w\\.]+)/i                                              // Links\n            ], [NAME, VERSION], [\n            \n            /(cobalt)\\/([\\w\\.]+)/i                                              // Cobalt\n            ], [NAME, [VERSION, /master.|lts./, \"\"]]\n        ],\n\n        cpu : [[\n\n            /(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i                     // AMD64 (x64)\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i                                                      // IA32 (quicktime)\n            ], [[ARCHITECTURE, lowerize]], [\n\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32 (x86)\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            /\\b(aarch64|arm(v?8e?l?|_?64))\\b/i                                 // ARM64\n            ], [[ARCHITECTURE, 'arm64']], [\n\n            /\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i                                   // ARMHF\n            ], [[ARCHITECTURE, 'armhf']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /windows (ce|mobile); ppc;/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i                            // PowerPC\n            ], [[ARCHITECTURE, /ower/, EMPTY, lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            ], [[ARCHITECTURE, lowerize]]\n        ],\n\n        device : [[\n\n            //////////////////////////\n            // MOBILES & TABLETS\n            // Ordered by popularity\n            /////////////////////////\n\n            // Samsung\n            /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]], [\n            /\\b((?:s[cgp]h|gt|sm)-\\w+|galaxy nexus)/i,\n            /samsung[- ]([-\\w]+)/i,\n            /sec-(sgh\\w+)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]], [\n\n            // Apple\n            /\\((ip(?:hone|od)[\\w ]*);/i                                         // iPod/iPhone\n            ], [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]], [\n            /\\((ipad);[-\\w\\),; ]+apple/i,                                       // iPad\n            /applecoremedia\\/[\\w\\.]+ \\((ipad)/i,\n            /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i\n            ], [MODEL, [VENDOR, APPLE], [TYPE, TABLET]], [\n            /(macintosh);/i\n            ], [MODEL, [VENDOR, APPLE]], [\n\n            // Huawei\n            /\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]], [\n            /(?:huawei|honor)([-\\w ]+)[;\\)]/i,\n            /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]], [\n\n            // Xiaomi\n            /\\b(poco[\\w ]+)(?: bui|\\))/i,                                       // Xiaomi POCO\n            /\\b; (\\w+) build\\/hm\\1/i,                                           // Xiaomi Hongmi 'numeric' models\n            /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,                             // Xiaomi Hongmi\n            /\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,                   // Xiaomi Redmi\n            /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i // Xiaomi Mi\n            ], [[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, MOBILE]], [\n            /\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i                        // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, TABLET]], [\n\n            // OPPO\n            /; (\\w+) bui.+ oppo/i,\n            /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, MOBILE]], [\n\n            // Vivo\n            /vivo (\\w+)(?: bui|\\))/i,\n            /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n            ], [MODEL, [VENDOR, 'Vivo'], [TYPE, MOBILE]], [\n\n            // Realme\n            /\\b(rmx[12]\\d{3})(?: bui|;|\\))/i\n            ], [MODEL, [VENDOR, 'Realme'], [TYPE, MOBILE]], [\n\n            // Motorola\n            /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n            /\\bmot(?:orola)?[- ](\\w*)/i,\n            /((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]], [\n            /\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]], [\n\n            // LG\n            /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n            ], [MODEL, [VENDOR, LG], [TYPE, TABLET]], [\n            /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n            /\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,\n            /\\blg-?([\\d\\w]+) bui/i\n            ], [MODEL, [VENDOR, LG], [TYPE, MOBILE]], [\n\n            // Lenovo\n            /(ideatab[-\\w ]+)/i,\n            /lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i\n            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [\n\n            // Nokia\n            /(?:maemo|nokia).*(n900|lumia \\d+)/i,\n            /nokia[-_ ]?([-\\w\\.]*)/i\n            ], [[MODEL, /_/g, ' '], [VENDOR, 'Nokia'], [TYPE, MOBILE]], [\n\n            // Google\n            /(pixel c)\\b/i                                                      // Google Pixel C\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]], [\n            /droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i                         // Google Pixel\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]], [\n\n            // Sony\n            /droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n            ], [MODEL, [VENDOR, SONY], [TYPE, MOBILE]], [\n            /sony tablet [ps]/i,\n            /\\b(?:sony)?sgp\\w+(?: bui|\\))/i\n            ], [[MODEL, 'Xperia Tablet'], [VENDOR, SONY], [TYPE, TABLET]], [\n\n            // OnePlus\n            / (kb2005|in20[12]5|be20[12][59])\\b/i,\n            /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [\n\n            // Amazon\n            /(alexa)webm/i,\n            /(kf[a-z]{2}wi)( bui|\\))/i,                                         // Kindle Fire without Silk\n            /(kf[a-z]+)( bui|\\)).+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]], [\n            /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i                     // Fire Phone\n            ], [[MODEL, /(.+)/g, 'Fire Phone $1'], [VENDOR, AMAZON], [TYPE, MOBILE]], [\n\n            // BlackBerry\n            /(playbook);[-\\w\\),; ]+(rim)/i                                      // BlackBerry PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n            /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n            /\\(bb10; (\\w+)/i                                                    // BlackBerry 10\n            ], [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]], [\n\n            // Asus\n            /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, TABLET]], [\n            / (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]], [\n\n            // HTC\n            /(nexus 9)/i                                                        // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n            /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,                         // HTC\n\n            // ZTE\n            /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n            /(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\\w]*)/i         // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            // Acer\n            /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            // Meizu\n            /droid.+; (m[1-5] note) bui/i,\n            /\\bmz-([-\\w]{2,})/i\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n\n            // Sharp\n            /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n            ], [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]], [\n\n            // MIXED\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,\n                                                                                // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron\n            /(hp) ([\\w ]+\\w)/i,                                                 // HP iPAQ\n            /(asus)-?(\\w+)/i,                                                   // Asus\n            /(microsoft); (lumia[\\w ]+)/i,                                      // Microsoft Lumia\n            /(lenovo)[-_ ]?([-\\w]+)/i,                                          // Lenovo\n            /(jolla)/i,                                                         // Jolla\n            /(oppo) ?([\\w ]+) bui/i                                             // OPPO\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /(archos) (gamepad2?)/i,                                            // Archos\n            /(hp).+(touchpad(?!.+tablet)|tablet)/i,                             // HP TouchPad\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(nook)[\\w ]+build\\/(\\w+)/i,                                        // Nook\n            /(dell) (strea[kpr\\d ]*[\\dko])/i,                                   // Dell Streak\n            /(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,                                  // Le Pan Tablets\n            /(trinity)[- ]*(t\\d{3}) bui/i,                                      // Trinity Tablets\n            /(gigaset)[- ]+(q\\w{1,9}) bui/i,                                    // Gigaset Tablets\n            /(vodafone) ([\\w ]+)(?:\\)| bui)/i                                   // Vodafone\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(surface duo)/i                                                    // Surface Duo\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]], [\n            /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i                                 // Fairphone\n            ], [MODEL, [VENDOR, 'Fairphone'], [TYPE, MOBILE]], [\n            /(u304aa)/i                                                         // AT&T\n            ], [MODEL, [VENDOR, 'AT&T'], [TYPE, MOBILE]], [\n            /\\bsie-(\\w*)/i                                                      // Siemens\n            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [\n            /\\b(rct\\w+) b/i                                                     // RCA Tablets\n            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [\n            /\\b(venue[\\d ]{2,7}) b/i                                            // Dell Venue Tablets\n            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [\n            /\\b(q(?:mv|ta)\\w+) b/i                                              // Verizon Tablet\n            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [\n            /\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i                       // Barnes & Noble Tablet\n            ], [MODEL, [VENDOR, 'Barnes & Noble'], [TYPE, TABLET]], [\n            /\\b(tm\\d{3}\\w+) b/i\n            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [\n            /\\b(k88) b/i                                                        // ZTE K Series Tablet\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [\n            /\\b(nx\\d{3}j) b/i                                                   // ZTE Nubia\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, MOBILE]], [\n            /\\b(gen\\d{3}) b.+49h/i                                              // Swiss GEN Mobile\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [\n            /\\b(zur\\d{3}) b/i                                                   // Swiss ZUR Tablet\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [\n            /\\b((zeki)?tb.*\\b) b/i                                              // Zeki Tablets\n            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [\n            /\\b([yr]\\d{2}) b/i,\n            /\\b(dragon[- ]+touch |dt)(\\w{5}) b/i                                // Dragon Touch Tablet\n            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [\n            /\\b(ns-?\\w{0,9}) b/i                                                // Insignia Tablets\n            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [\n            /\\b((nxa|next)-?\\w{0,9}) b/i                                        // NextBook Tablets\n            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [\n            /\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i                  // Voice Xtreme Phones\n            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [\n            /\\b(lvtel\\-)?(v1[12]) b/i                                           // LvTel Phones\n            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [\n            /\\b(ph-1) /i                                                        // Essential PH-1\n            ], [MODEL, [VENDOR, 'Essential'], [TYPE, MOBILE]], [\n            /\\b(v(100md|700na|7011|917g).*\\b) b/i                               // Envizen Tablets\n            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [\n            /\\b(trio[-\\w\\. ]+) b/i                                              // MachSpeed Tablets\n            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [\n            /\\btu_(1491) b/i                                                    // Rotor Tablets\n            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [\n            /(shield[\\w ]+) b/i                                                 // Nvidia Shield Tablets\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, TABLET]], [\n            /(sprint) (\\w+)/i                                                   // Sprint Phones\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, MICROSOFT], [TYPE, MOBILE]], [\n            /droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i             // Zebra\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]], [\n            /droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]], [\n\n            ///////////////////\n            // CONSOLES\n            ///////////////////\n\n            /(ouya)/i,                                                          // Ouya\n            /(nintendo) ([wids3utch]+)/i                                        // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n            /droid.+; (shield) bui/i                                            // Nvidia\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [\n            /(playstation [345portablevi]+)/i                                   // Playstation\n            ], [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]], [\n            /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i                                // Microsoft Xbox\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]], [\n\n            ///////////////////\n            // SMARTTVS\n            ///////////////////\n\n            /smart-tv.+(samsung)/i                                              // Samsung\n            ], [VENDOR, [TYPE, SMARTTV]], [\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, SAMSUNG], [TYPE, SMARTTV]], [\n            /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i        // LG SmartTV\n            ], [[VENDOR, LG], [TYPE, SMARTTV]], [\n            /(apple) ?tv/i                                                      // Apple TV\n            ], [VENDOR, [MODEL, APPLE+' TV'], [TYPE, SMARTTV]], [\n            /crkey/i                                                            // Google Chromecast\n            ], [[MODEL, CHROME+'cast'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /droid.+aft(\\w)( bui|\\))/i                                          // Fire TV\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]], [\n            /\\(dtv[\\);].+(aquos)/i,\n            /(aquos-tv[\\w ]+)\\)/i                                               // Sharp\n            ], [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],[\n            /(bravia[\\w ]+)( bui|\\))/i                                              // Sony\n            ], [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]], [\n            /(mitv-\\w{5}) bui/i                                                 // Xiaomi\n            ], [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]], [\n            /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,                          // Roku\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w ]*; *(\\w[^;]*);([^;]*)/i               // HbbTV devices\n            ], [[VENDOR, trim], [MODEL, trim], [TYPE, SMARTTV]], [\n            /\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i                   // SmartTV from Unidentified Vendors\n            ], [[TYPE, SMARTTV]], [\n\n            ///////////////////\n            // WEARABLES\n            ///////////////////\n\n            /((pebble))app/i                                                    // Pebble\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n            /droid.+; (glass) \\d/i                                              // Google Glass\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]], [\n            /droid.+; (wt63?0{2,3})\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]], [\n            /(quest( 2)?)/i                                                     // Oculus Quest\n            ], [MODEL, [VENDOR, FACEBOOK], [TYPE, WEARABLE]], [\n\n            ///////////////////\n            // EMBEDDED\n            ///////////////////\n\n            /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i                              // Tesla\n            ], [VENDOR, [TYPE, EMBEDDED]], [\n\n            ////////////////////\n            // MIXED (GENERIC)\n            ///////////////////\n\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i           // Android Phones from Unidentified Vendors\n            ], [MODEL, [TYPE, MOBILE]], [\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i       // Android Tablets from Unidentified Vendors\n            ], [MODEL, [TYPE, TABLET]], [\n            /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i                      // Unidentifiable Tablet\n            ], [[TYPE, TABLET]], [\n            /(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i    // Unidentifiable Mobile\n            ], [[TYPE, MOBILE]], [\n            /(android[-\\w\\. ]{0,9});.+buil/i                                    // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n        ],\n\n        engine : [[\n\n            /windows.+ edge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, EDGE+'HTML']], [\n\n            /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i                         // Blink\n            ], [VERSION, [NAME, 'Blink']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna\n            /ekioh(flow)\\/([\\w\\.]+)/i,                                          // Flow\n            /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,                           // KHTML/Tasman/Links\n            /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i                                       // iCab\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i                                     // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows\n            /microsoft (windows) (vista|xp)/i                                   // Windows (iTunes)\n            ], [NAME, VERSION], [\n            /(windows) nt 6\\.2; (arm)/i,                                        // Windows RT\n            /(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i,            // Windows Phone\n            /(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i\n            ], [NAME, [VERSION, strMapper, windowsVersionMap]], [\n            /(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i\n            ], [[NAME, 'Windows'], [VERSION, strMapper, windowsVersionMap]], [\n\n            // iOS/macOS\n            /ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,              // iOS\n            /cfnetwork\\/.+darwin/i\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n            /(mac os x) ?([\\w\\. ]*)/i,\n            /(macintosh|mac_powerpc\\b)(?!.+haiku)/i                             // Mac OS\n            ], [[NAME, 'Mac OS'], [VERSION, /_/g, '.']], [\n\n            // Mobile OSes\n            /droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i                    // Android-x86/HarmonyOS\n            ], [VERSION, NAME], [                                               // Android/WebOS/QNX/Bada/RIM/Maemo/MeeGo/Sailfish OS\n            /(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,\n            /(blackberry)\\w*\\/([\\w\\.]*)/i,                                      // Blackberry\n            /(tizen|kaios)[\\/ ]([\\w\\.]+)/i,                                     // Tizen/KaiOS\n            /\\((series40);/i                                                    // Series 40\n            ], [NAME, VERSION], [\n            /\\(bb(10);/i                                                        // BlackBerry 10\n            ], [VERSION, [NAME, BLACKBERRY]], [\n            /(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i         // Symbian\n            ], [VERSION, [NAME, 'Symbian']], [\n            /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i // Firefox OS\n            ], [VERSION, [NAME, FIREFOX+' OS']], [\n            /web0s;.+rt(tv)/i,\n            /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i                              // WebOS\n            ], [VERSION, [NAME, 'webOS']], [\n\n            // Google Chromecast\n            /crkey\\/([\\d\\.]+)/i                                                 // Google Chromecast\n            ], [VERSION, [NAME, CHROME+'cast']], [\n            /(cros) [\\w]+ ([\\w\\.]+\\w)/i                                         // Chromium OS\n            ], [[NAME, 'Chromium OS'], VERSION],[\n\n            // Console\n            /(nintendo|playstation) ([wids345portablevuch]+)/i,                 // Nintendo/Playstation\n            /(xbox); +xbox ([^\\);]+)/i,                                         // Microsoft Xbox (360, One, X, S, Series X, Series S)\n\n            // Other\n            /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,                            // Joli/Palm\n            /(mint)[\\/\\(\\) ]?(\\w*)/i,                                           // Mint\n            /(mageia|vectorlinux)[; ]/i,                                        // Mageia/VectorLinux\n            /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n                                                                                // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire\n            /(hurd|linux) ?([\\w\\.]*)/i,                                         // Hurd/Linux\n            /(gnu) ?([\\w\\.]*)/i,                                                // GNU\n            /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i, // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n            /(haiku) (\\w+)/i                                                    // Haiku\n            ], [NAME, VERSION], [\n            /(sunos) ?([\\w\\.\\d]*)/i                                             // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n            /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,                              // Solaris\n            /(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,                                  // AIX\n            /\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,            // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX\n            /(unix) ?([\\w\\.]*)/i                                                // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n    /////////////////\n    // Constructor\n    ////////////////\n\n    var UAParser = function (ua, extensions) {\n\n        if (typeof ua === OBJ_TYPE) {\n            extensions = ua;\n            ua = undefined;\n        }\n\n        if (!(this instanceof UAParser)) {\n            return new UAParser(ua, extensions).getResult();\n        }\n\n        var _ua = ua || ((typeof window !== UNDEF_TYPE && window.navigator && window.navigator.userAgent) ? window.navigator.userAgent : EMPTY);\n        var _rgxmap = extensions ? extend(regexes, extensions) : regexes;\n\n        this.getBrowser = function () {\n            var _browser = {};\n            _browser[NAME] = undefined;\n            _browser[VERSION] = undefined;\n            rgxMapper.call(_browser, _ua, _rgxmap.browser);\n            _browser.major = majorize(_browser.version);\n            return _browser;\n        };\n        this.getCPU = function () {\n            var _cpu = {};\n            _cpu[ARCHITECTURE] = undefined;\n            rgxMapper.call(_cpu, _ua, _rgxmap.cpu);\n            return _cpu;\n        };\n        this.getDevice = function () {\n            var _device = {};\n            _device[VENDOR] = undefined;\n            _device[MODEL] = undefined;\n            _device[TYPE] = undefined;\n            rgxMapper.call(_device, _ua, _rgxmap.device);\n            return _device;\n        };\n        this.getEngine = function () {\n            var _engine = {};\n            _engine[NAME] = undefined;\n            _engine[VERSION] = undefined;\n            rgxMapper.call(_engine, _ua, _rgxmap.engine);\n            return _engine;\n        };\n        this.getOS = function () {\n            var _os = {};\n            _os[NAME] = undefined;\n            _os[VERSION] = undefined;\n            rgxMapper.call(_os, _ua, _rgxmap.os);\n            return _os;\n        };\n        this.getResult = function () {\n            return {\n                ua      : this.getUA(),\n                browser : this.getBrowser(),\n                engine  : this.getEngine(),\n                os      : this.getOS(),\n                device  : this.getDevice(),\n                cpu     : this.getCPU()\n            };\n        };\n        this.getUA = function () {\n            return _ua;\n        };\n        this.setUA = function (ua) {\n            _ua = (typeof ua === STR_TYPE && ua.length > UA_MAX_LENGTH) ? trim(ua, UA_MAX_LENGTH) : ua;\n            return this;\n        };\n        this.setUA(_ua);\n        return this;\n    };\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER =  enumerize([NAME, VERSION, MAJOR]);\n    UAParser.CPU = enumerize([ARCHITECTURE]);\n    UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);\n    UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\n\n    ///////////\n    // Export\n    //////////\n\n    // check js environment\n    if (typeof(exports) !== UNDEF_TYPE) {\n        // nodejs env\n        if (typeof module !== UNDEF_TYPE && module.exports) {\n            exports = module.exports = UAParser;\n        }\n        exports.UAParser = UAParser;\n    } else {\n        // requirejs env (optional)\n        if (typeof(define) === FUNC_TYPE && define.amd) {\n            define(function () {\n                return UAParser;\n            });\n        } else if (typeof window !== UNDEF_TYPE) {\n            // browser env\n            window.UAParser = UAParser;\n        }\n    }\n\n    // jQuery/Zepto specific (optional)\n    // Note:\n    //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n    //   and we should catch that.\n    var $ = typeof window !== UNDEF_TYPE && (window.jQuery || window.Zepto);\n    if ($ && !$.ua) {\n        var parser = new UAParser();\n        $.ua = parser.getResult();\n        $.ua.get = function () {\n            return parser.getUA();\n        };\n        $.ua.set = function (ua) {\n            parser.setUA(ua);\n            var result = parser.getResult();\n            for (var prop in result) {\n                $.ua[prop] = result[prop];\n            }\n        };\n    }\n\n})(typeof window === 'object' ? window : this);\n","import React, { useEffect, useState } from 'react'\nimport {\n  BatchFileRequest,\n  FileEntity,\n  FileHandle,\n  FileHandleAssociateType,\n  FileHandleAssociation,\n  implementsExternalFileHandleInterface,\n} from '../utils/synapseTypes'\nimport { getFiles, getFileResult, getEntity } from '../utils/SynapseClient'\nimport IconSvg from './IconSvg'\nimport { useInView } from 'react-intersection-observer'\nimport { useSynapseContext } from '../utils/SynapseContext'\nimport { TOOLTIP_DELAY_SHOW } from './table/SynapseTableConstants'\nimport { UAParser } from 'ua-parser-js'\nimport { Tooltip } from '@mui/material'\n\nexport type DirectFileDownloadProps = {\n  associatedObjectId: string\n  entityVersionNumber?: string\n  associatedObjectType?: FileHandleAssociateType\n  fileHandleId?: string\n  displayFileName?: boolean\n  onClickCallback?: (isExternalLink: boolean) => void // callback if you want to know when the link was clicked\n}\n\nconst DirectDownload: React.FunctionComponent<\n  DirectFileDownloadProps\n> = props => {\n  const { accessToken } = useSynapseContext()\n  const {\n    associatedObjectId,\n    entityVersionNumber,\n    associatedObjectType,\n    fileHandleId,\n    displayFileName,\n    onClickCallback,\n  } = props\n  const { ref, inView } = useInView()\n  const [isExternalFile, setIsExternalFile] = useState<boolean>(false)\n  const [hasFileAccess, setHasFileAccess] = useState<boolean>(false)\n  const [fileEntity, setFileEntity] = useState<FileEntity>()\n  const [externalURL, setExternalURL] = useState<string>()\n  const [fileName, setFileName] = useState<string>('')\n  let mounted = true\n\n  useEffect(() => {\n    if (mounted && inView) {\n      getFileEntityFileHandle()\n    }\n    return () => {\n      mounted = false\n    }\n  }, [accessToken, inView])\n\n  const getDownloadLink = async () => {\n    let preSignedURL\n    // SWC-5907: opening in the file must be strictly done in the same click event process (Safari only).\n    // https://stackoverflow.com/questions/6628949/window-open-popup-getting-blocked-during-click-event\n    const parser = new UAParser()\n    const isSafari = parser.getBrowser().name == 'Safari'\n    let safariDownloadWindow: Window | null = null\n    if (isSafari) {\n      safariDownloadWindow = window.open(\n        '',\n        'Safari Download',\n        'toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,popup,width=600,height=200',\n      )\n      safariDownloadWindow!.document.body.innerHTML =\n        'Downloading file on Safari...'\n    }\n    try {\n      if (associatedObjectType === FileHandleAssociateType.TableEntity) {\n        const files = await getTableEntityFileHandle(true)\n        preSignedURL = files.requestedFiles[0].preSignedURL!\n      } else {\n        const file = await getFileResult(fileEntity!, accessToken, false, true)\n        preSignedURL = file.preSignedURL\n      }\n    } catch (e) {\n      console.log('Fail to get file download link: ', e)\n    }\n\n    if (!preSignedURL) {\n      safariDownloadWindow?.close()\n      console.log('Fail to get file download link')\n    } else {\n      if (isSafari && safariDownloadWindow) {\n        safariDownloadWindow.location = preSignedURL\n        setTimeout(() => {\n          if (safariDownloadWindow) {\n            safariDownloadWindow.close()\n          }\n        }, 10000)\n      } else {\n        window.open(preSignedURL)\n      }\n      if (onClickCallback) {\n        onClickCallback(isExternalFile)\n      }\n    }\n  }\n\n  const hasFileHandle = (fh: FileHandle) => {\n    if (fh && !fh['isPreview']) {\n      setHasFileAccess(true)\n      return true\n    } else {\n      setHasFileAccess(false)\n      return false\n    }\n  }\n\n  const getTableEntityFileHandle = (includePreSignedURLs: boolean = false) => {\n    const fileHandleAssociationList: FileHandleAssociation[] = [\n      {\n        associateObjectId: associatedObjectId,\n        associateObjectType: associatedObjectType!,\n        fileHandleId: fileHandleId!,\n      },\n    ]\n    const batchFileRequest: BatchFileRequest = {\n      includeFileHandles: true,\n      includePreSignedURLs: includePreSignedURLs,\n      includePreviewPreSignedURLs: false,\n      requestedFiles: fileHandleAssociationList,\n    }\n    return getFiles(batchFileRequest, accessToken)\n  }\n\n  const getFileEntityFileHandle = () => {\n    return getEntity(accessToken, associatedObjectId, entityVersionNumber)\n      .then(async entity => {\n        // From file view\n        if (Object.hasOwn(entity, 'dataFileHandleId')) {\n          // looks like a FileEntity, get the FileHandle\n          setFileEntity(entity as FileEntity)\n          return getFileResult(\n            // TODO: Why can we just use getFiles here?\n            entity as FileEntity,\n            accessToken,\n            true,\n          )\n            .then(data => {\n              const fh = data.fileHandle\n              if (fh && hasFileHandle(fh)) {\n                // have file access and not file preview\n                if (implementsExternalFileHandleInterface(fh)) {\n                  setIsExternalFile(true)\n                  setExternalURL(fh['externalURL'])\n                }\n              }\n            })\n            .catch(err => {\n              console.log('Error on getFileEntityFileHandle = ', err)\n            })\n        } else if (\n          associatedObjectType === FileHandleAssociateType.TableEntity\n        ) {\n          const files = await getTableEntityFileHandle()\n          const fh: FileHandle = files.requestedFiles[0].fileHandle!\n          if (displayFileName && fh && hasFileHandle(fh)) {\n            setFileName(fh.fileName)\n          }\n        }\n\n        return Promise.resolve()\n      })\n      .catch(err => {\n        console.log('Error on getEntity = ', err)\n      })\n  }\n\n  const getIcon = () => {\n    if (isExternalFile) {\n      return (\n        <button\n          className={'btn-download-icon'}\n          onClick={() => {\n            if (onClickCallback) {\n              onClickCallback(isExternalFile)\n            }\n          }}\n        >\n          <a\n            className=\"ignoreLink\"\n            rel=\"noreferrer\"\n            href={externalURL}\n            target=\"_blank\"\n          >\n            <IconSvg icon=\"openInNewWindow\" />\n          </a>\n        </button>\n      )\n    }\n    if (hasFileAccess) {\n      return (\n        <button\n          className={'btn-download-icon'}\n          onClick={() => {\n            getDownloadLink()\n          }}\n        >\n          <IconSvg icon=\"download\" />\n          {displayFileName && fileName ? fileName : ''}\n        </button>\n      )\n    }\n    return <></>\n  }\n\n  return (\n    <Tooltip\n      title={\n        isExternalFile\n          ? 'Navigate to external link'\n          : 'Download this file individually'\n      }\n      enterNextDelay={TOOLTIP_DELAY_SHOW}\n      placement=\"left\"\n    >\n      <span ref={ref}>{getIcon()}</span>\n    </Tooltip>\n  )\n}\n\nexport default DirectDownload\n","import React, { useState } from 'react'\nimport { Renewal, Request } from '../../../utils/synapseTypes'\nimport { AlertProps } from './DataAccessRequestAccessorsFilesForm'\nimport {\n  Alert,\n  Box,\n  Button,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  IconButton,\n  Stack,\n  Typography,\n} from '@mui/material'\nimport IconSvg from '../../IconSvg'\nimport { useUpdateDataAccessRequest } from '../../../utils/hooks/SynapseAPI'\n\nexport type CancelRequestDataAccessProps = {\n  /* The data access request with unsaved changes */\n  modifiedDataAccessRequest: Request | Renewal | undefined\n  onHide: () => void\n}\n\nfunction CancelRequestDataAccess(props: CancelRequestDataAccessProps) {\n  const { modifiedDataAccessRequest, onHide } = props\n  const [alert, setAlert] = useState<AlertProps | undefined>()\n  const [showCloseBtn, setShowCloseBtn] = useState<boolean>(false)\n\n  const { mutate: updateRequest } = useUpdateDataAccessRequest({\n    onSuccess: () => {\n      onHide()\n    },\n    onError: e => {\n      setAlert({\n        key: 'error',\n        message: `Sorry, there is an error in submitting your request. ${\n          e.reason ? e.reason + '.' : ' '\n        }Please close this dialog and try again later.`,\n      })\n      setShowCloseBtn(true)\n    },\n  })\n\n  function handleSave() {\n    if (modifiedDataAccessRequest) {\n      updateRequest(modifiedDataAccessRequest)\n    }\n  }\n\n  return (\n    <>\n      <DialogTitle>\n        <Stack direction=\"row\" alignItems={'center'} gap={'5px'}>\n          Save Changes\n          <Box sx={{ flexGrow: 1 }} />\n          <IconButton onClick={onHide}>\n            <IconSvg icon={'close'} wrap={false} sx={{ color: 'grey.700' }} />\n          </IconButton>\n        </Stack>\n      </DialogTitle>\n\n      <DialogContent>\n        <Typography variant={'body1'}>\n          Would you like to save your recent changes?\n        </Typography>\n        {alert && <Alert severity={alert.key}>{alert.message}</Alert>}\n      </DialogContent>\n\n      <DialogActions>\n        {!showCloseBtn && (\n          <>\n            <Button variant=\"outlined\" onClick={onHide}>\n              Cancel\n            </Button>\n            <Button\n              variant=\"contained\"\n              onClick={() => {\n                handleSave()\n              }}\n            >\n              Save changes\n            </Button>\n          </>\n        )}\n        {showCloseBtn && (\n          <Button variant=\"contained\" onClick={onHide}>\n            Close\n          </Button>\n        )}\n      </DialogActions>\n    </>\n  )\n}\n\nexport default CancelRequestDataAccess\n","import * as React from 'react'\nimport {\n  Box,\n  Button,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  IconButton,\n  Stack,\n  Typography,\n} from '@mui/material'\nimport IconSvg from '../../IconSvg'\n\nexport type RequestDataAccessSuccessProps = {\n  onHide: () => void\n}\n\nexport default function RequestDataAccessSuccess(\n  props: RequestDataAccessSuccessProps,\n) {\n  const { onHide } = props\n  return (\n    <>\n      <DialogTitle>\n        <Stack direction=\"row\" alignItems={'center'} gap={'5px'}>\n          Your Data Access Request Has Been Submitted\n          <Box sx={{ flexGrow: 1 }} />\n          <IconButton onClick={onHide}>\n            <IconSvg icon={'close'} wrap={false} sx={{ color: 'grey.700' }} />\n          </IconButton>\n        </Stack>\n      </DialogTitle>\n\n      <DialogContent>\n        <Typography variant=\"body1\">\n          Your data access request been submitted and is currently being\n          reviewed. Please allow for up to 2 weeks for your request to be\n          reviewed and approved.\n        </Typography>\n      </DialogContent>\n      <DialogActions>\n        <Button variant=\"contained\" onClick={onHide}>\n          Finish\n        </Button>\n      </DialogActions>\n    </>\n  )\n}\n","import React, { useState } from 'react'\nimport MarkdownSynapse from '../../markdown/MarkdownSynapse'\nimport { ACTAccessRequirement } from '../../../utils/synapseTypes'\nimport { useSynapseContext } from '../../../utils/SynapseContext'\nimport { PRODUCTION_ENDPOINT_CONFIG } from '../../../utils/functions/getEndpoint'\nimport { Box, ButtonProps, Link, Typography } from '@mui/material'\nimport { useGetAccessRequirementStatus } from '../../../utils/hooks/SynapseAPI'\nimport RequirementItem from './RequirementItem'\nimport { RequirementItemStatus } from '../AccessApprovalCheckMark'\n\nexport type UnmanagedACTAccessRequirementItemProps = {\n  entityId: string\n  accessRequirement: ACTAccessRequirement\n  onHide: () => void\n}\n\n/**\n * Renders a {@link RequirementItem} for the deprecated {@link ACTAccessRequirement}.\n *\n * For {@link ManagedACTAccessRequirement}s, see {@link ManagedACTAccessRequirementItem}\n *\n * For {@link SelfSignAccessRequirement} and {@link TermsOfUseAccessRequirement}, see {@link SelfSignAccessRequirementItem}\n */\nexport default function UnmanagedACTAccessRequirementItem(\n  props: UnmanagedACTAccessRequirementItemProps,\n) {\n  const { accessRequirement, entityId, onHide } = props\n  const { accessToken } = useSynapseContext()\n\n  const { data: accessRequirementStatus, isLoading: isLoadingStatus } =\n    useGetAccessRequirementStatus(String(accessRequirement.id))\n\n  const isApproved = accessRequirementStatus?.isApproved\n\n  const [showACTContactInfoInstructions, setShowACTContactInfoInstructions] =\n    useState<boolean>(false)\n\n  let acceptButtonText = ''\n  if (\n    window.location.hostname === 'www.synapse.org' ||\n    window.location.hostname === 'staging.synapse.org'\n  ) {\n    acceptButtonText = 'Request access'\n  } else {\n    acceptButtonText = 'Request access via Synapse.org'\n  }\n\n  const gotoSynapseAccessRequirementPage = () => {\n    window.open(\n      `${PRODUCTION_ENDPOINT_CONFIG.PORTAL}#!AccessRequirement:AR_ID=${accessRequirement.id}&TYPE=ENTITY&ID=${entityId}`,\n    )\n  }\n  const onAcceptClicked = () => {\n    gotoSynapseAccessRequirementPage()\n    // PORTALS-1483: and close the dialog.\n    if (onHide) {\n      onHide()\n    }\n  }\n\n  const actContactInfo = accessRequirement.actContactInfo\n\n  let actions: ButtonProps[] | undefined = undefined\n\n  if (!!accessToken && !isApproved) {\n    actions = [\n      {\n        variant: 'outlined',\n        onClick: onAcceptClicked,\n        children: acceptButtonText,\n      },\n      {\n        variant: 'text',\n        onClick: onHide,\n        children: 'I do not accept',\n      },\n    ]\n  }\n\n  return (\n    <RequirementItem\n      data-testid={'UnmanagedACTAccessRequirementItem'}\n      status={\n        isLoadingStatus\n          ? RequirementItemStatus.LOADING\n          : isApproved\n          ? RequirementItemStatus.COMPLETE\n          : RequirementItemStatus.LOCKED\n      }\n      actions={actions}\n    >\n      {isApproved ? (\n        <>\n          <Typography variant={'body1'}>\n            Your data access request has been approved.{' '}\n            <Link\n              role={'button'}\n              onClick={() =>\n                setShowACTContactInfoInstructions(\n                  !showACTContactInfoInstructions,\n                )\n              }\n            >\n              {showACTContactInfoInstructions\n                ? 'Hide Instructions'\n                : 'View Instructions'}\n            </Link>\n          </Typography>\n          {showACTContactInfoInstructions && (\n            <Box sx={{ my: 1 }}>\n              <MarkdownSynapse markdown={actContactInfo} />\n            </Box>\n          )}\n        </>\n      ) : (\n        <MarkdownSynapse markdown={actContactInfo} />\n      )}\n    </RequirementItem>\n  )\n}\n","import * as React from 'react'\nimport { useState } from 'react'\nimport MarkdownSynapse from '../../markdown/MarkdownSynapse'\nimport {\n  ManagedACTAccessRequirement,\n  SubmissionState,\n} from '../../../utils/synapseTypes'\nimport { ManagedACTAccessRequirementStatus } from '../../../utils/synapseTypes'\nimport { AlertProps } from './DataAccessRequestAccessorsFilesForm'\nimport { Alert, Box, ButtonProps, Link, Typography } from '@mui/material'\nimport RequirementItem from '../RequirementItem/RequirementItem'\nimport {\n  useCancelDataAccessRequest,\n  useGetAccessRequirementStatus,\n  useGetAccessRequirementWikiPageKey,\n} from '../../../utils/hooks/SynapseAPI'\nimport { RequirementItemStatus } from '../AccessApprovalCheckMark'\n\nexport type ManagedACTAccessRequirementItemProps = {\n  entityId: string\n  accessRequirement: ManagedACTAccessRequirement\n  onHide: () => void\n  onRequestAccess: () => void\n}\n\n/**\n * Renders a {@link RequirementItem} for a ManagedACTAccessRequirement, which allows a user to see if they have met the\n * requirement, and if not, complete a data access request to apply for access.\n */\nexport default function ManagedACTAccessRequirementItem(\n  props: ManagedACTAccessRequirementItemProps,\n) {\n  const { accessRequirement, onHide, onRequestAccess } = props\n  const { data: wikiPage } = useGetAccessRequirementWikiPageKey(\n    accessRequirement.id.toString(),\n  )\n  const { data: accessRequirementStatus, isLoading } =\n    useGetAccessRequirementStatus<ManagedACTAccessRequirementStatus>(\n      String(accessRequirement.id),\n    )\n  const { mutate: cancelDataAccessRequest } = useCancelDataAccessRequest({\n    onError: e => {\n      console.error('Error cancelling data access request', e)\n      setAlert({\n        key: 'error',\n        message: (\n          <>\n            <strong>Error canceling your data access request.</strong>\n            <br />\n            Please try again later.\n          </>\n        ),\n      })\n    },\n  })\n\n  const [hideMarkdown, setHideMarkdown] = useState<boolean>(true)\n  const [alert, setAlert] = useState<AlertProps | undefined>()\n\n  const isApproved =\n    accessRequirementStatus?.currentSubmissionStatus?.state ===\n    SubmissionState.APPROVED\n\n  let markdown = <></>\n\n  if (wikiPage) {\n    markdown = (\n      <div>\n        {\n          <MarkdownSynapse // remove React mount/unmount error\n            wikiId={wikiPage.wikiPageId}\n            ownerId={wikiPage.ownerObjectId}\n            objectType={wikiPage.ownerObjectType}\n          />\n        }\n        {\n          /* Alert message */\n          alert && (\n            <Alert\n              className={'access-requirement-list-alert'}\n              severity={alert.key}\n            >\n              {alert.message}\n            </Alert>\n          )\n        }\n        {accessRequirementStatus?.currentSubmissionStatus?.state ===\n          SubmissionState.SUBMITTED && (\n          <Alert className={'access-requirement-list-alert'} severity={'info'}>\n            <strong>You have submitted a data access request.</strong>\n          </Alert>\n        )}\n        {accessRequirementStatus?.currentSubmissionStatus?.state ===\n          SubmissionState.APPROVED && (\n          <Alert\n            className={'access-requirement-list-alert'}\n            severity={'success'}\n          >\n            <strong>Your data access request has been approved.</strong>\n          </Alert>\n        )}\n        {accessRequirementStatus?.currentSubmissionStatus?.state ===\n          SubmissionState.REJECTED && (\n          <Alert className={'access-requirement-list-alert'} severity={'error'}>\n            <>\n              <strong>Your data access request has been rejected.</strong>\n              <br />\n              {accessRequirementStatus?.currentSubmissionStatus\n                .rejectedReason || ''}\n            </>\n          </Alert>\n        )}\n        {accessRequirementStatus?.currentSubmissionStatus?.state ===\n          SubmissionState.CANCELLED && (\n          <Alert\n            className={'access-requirement-list-alert'}\n            severity={'success'}\n          >\n            <strong>Your data access request has been canceled.</strong>\n          </Alert>\n        )}\n      </div>\n    )\n  }\n\n  const actions: ButtonProps[] = []\n\n  if (accessRequirementStatus) {\n    if (accessRequirementStatus.currentSubmissionStatus == null) {\n      actions.push({\n        variant: 'outlined',\n        onClick: onRequestAccess,\n        children: 'Request access',\n      })\n      actions.push({\n        variant: 'text',\n        onClick: onHide,\n        children: 'I do not accept',\n      })\n    } else if (\n      [\n        SubmissionState.APPROVED,\n        SubmissionState.REJECTED,\n        SubmissionState.CANCELLED,\n      ].includes(accessRequirementStatus.currentSubmissionStatus.state)\n    ) {\n      actions.push({\n        variant: 'outlined',\n        onClick: onRequestAccess,\n        children: 'Update Request',\n      })\n    } else if (\n      accessRequirementStatus.currentSubmissionStatus.state ===\n      SubmissionState.SUBMITTED\n    ) {\n      actions.push({\n        variant: 'outlined',\n        onClick: () => {\n          cancelDataAccessRequest({\n            submissionId:\n              accessRequirementStatus.currentSubmissionStatus!.submissionId,\n            accessRequirementId: String(accessRequirement.id),\n          })\n        },\n        children: 'Cancel Request',\n      })\n    }\n  }\n\n  let requirementItemState: RequirementItemStatus =\n    RequirementItemStatus.LOADING\n  if (!isLoading) {\n    switch (accessRequirementStatus?.currentSubmissionStatus?.state) {\n      case SubmissionState.APPROVED:\n        requirementItemState = RequirementItemStatus.COMPLETE\n        break\n      case SubmissionState.SUBMITTED:\n        requirementItemState = RequirementItemStatus.PENDING\n        break\n      case SubmissionState.REJECTED:\n      case SubmissionState.CANCELLED:\n      default:\n        requirementItemState = RequirementItemStatus.LOCKED\n    }\n  }\n\n  return (\n    <RequirementItem\n      data-testid=\"ManagedACTAccessRequirementItem\"\n      status={requirementItemState}\n      actions={actions}\n    >\n      {/*  If not approved, show the terms */}\n      {!isApproved && <>{markdown}</>}\n      {isApproved && (\n        <>\n          <Typography variant={'body1'}>\n            Your data access request has been approved.{' '}\n            <Link\n              role={'button'}\n              onClick={() => {\n                setHideMarkdown(!hideMarkdown)\n              }}\n            >\n              {hideMarkdown ? 'View Terms' : 'Hide Terms'}\n            </Link>\n          </Typography>\n          {!hideMarkdown && <Box sx={{ my: 1 }}>{markdown}</Box>}\n        </>\n      )}\n    </RequirementItem>\n  )\n}\n","import React, { useState } from 'react'\nimport MarkdownSynapse from '../../markdown/MarkdownSynapse'\nimport {\n  AccessApproval,\n  ApprovalState,\n  isTermsOfUseAccessRequirement,\n  SelfSignAccessRequirement,\n  TermsOfUseAccessRequirement,\n} from '../../../utils/synapseTypes'\nimport { useSynapseContext } from '../../../utils/SynapseContext'\nimport { Alert, Box, ButtonProps, Link, Typography } from '@mui/material'\nimport {\n  useCreateAccessApproval,\n  useGetAccessRequirementStatus,\n  useGetAccessRequirementWikiPageKey,\n  useGetCurrentUserBundle,\n  useGetCurrentUserProfile,\n} from '../../../utils/hooks/SynapseAPI'\nimport RequirementItem from './RequirementItem'\nimport { RequirementItemStatus } from '../AccessApprovalCheckMark'\n\nexport type SelfSignAccessRequirementItemProps = {\n  accessRequirement: SelfSignAccessRequirement | TermsOfUseAccessRequirement\n  onHide: () => void\n}\n\n/**\n * Renders a {@link RequirementItem} for an self-sign Access Requirement, including {@link SelfSignAccessRequirement} or\n * {@link TermsOfUseAccessRequirement}.\n *\n * For {@link ManagedACTAccessRequirement}s, see {@link RequestDataAccess}\n */\nexport default function SelfSignAccessRequirementItem(\n  props: SelfSignAccessRequirementItemProps,\n) {\n  const { accessRequirement, onHide } = props\n  const { accessToken } = useSynapseContext()\n  const isSignedIn = !!accessToken\n  const isTermsOfUse = isTermsOfUseAccessRequirement(accessRequirement)\n\n  const { data: user } = useGetCurrentUserProfile()\n  const { data: userBundle } = useGetCurrentUserBundle()\n\n  const certificationRequirementNotMet =\n    isSignedIn &&\n    userBundle &&\n    !isTermsOfUse &&\n    accessRequirement.isCertifiedUserRequired &&\n    !userBundle.isCertified\n  const verificationRequirementNotMet =\n    isSignedIn &&\n    userBundle &&\n    !isTermsOfUse &&\n    accessRequirement.isValidatedProfileRequired &&\n    !userBundle.isVerified\n\n  const { data: accessRequirementStatus, isLoading: isLoadingStatus } =\n    useGetAccessRequirementStatus(String(accessRequirement.id))\n\n  const isApproved = accessRequirementStatus?.isApproved\n\n  const { data: wikiPage } = useGetAccessRequirementWikiPageKey(\n    accessRequirement.id.toString(),\n    // TermsOfUse ARs have the terms embedded in the AR, there is no Wiki.\n    { enabled: !isTermsOfUse },\n  )\n\n  const [showTerms, setShowTerms] = useState<boolean>(false)\n\n  const {\n    mutate: createAccessApproval,\n    isLoading,\n    error,\n  } = useCreateAccessApproval({\n    onError: err => {\n      console.error('Error creating access approval: ', err)\n    },\n  })\n\n  const onAcceptClicked = () => {\n    const accessApprovalRequest: AccessApproval = {\n      requirementId: accessRequirement?.id,\n      submitterId: user?.ownerId!,\n      accessorId: user?.ownerId!,\n      state: ApprovalState.APPROVED,\n    }\n\n    createAccessApproval(accessApprovalRequest)\n  }\n\n  let renderedTerms = <></>\n  if (isTermsOfUse) {\n    renderedTerms = <MarkdownSynapse markdown={accessRequirement.termsOfUse} />\n  } else if (wikiPage) {\n    renderedTerms = (\n      <MarkdownSynapse\n        wikiId={wikiPage?.wikiPageId}\n        ownerId={wikiPage?.ownerObjectId}\n        objectType={wikiPage?.ownerObjectType}\n      />\n    )\n  }\n  let actions: ButtonProps[] | undefined = undefined\n\n  if (!!accessToken && !isApproved) {\n    let acceptButtonText = 'I Accept Terms of Use'\n    let acceptButtonDisabled = false\n    if (certificationRequirementNotMet || verificationRequirementNotMet) {\n      acceptButtonDisabled = true\n      acceptButtonText = `You must ${\n        certificationRequirementNotMet ? 'be certified' : ''\n      }${\n        certificationRequirementNotMet && verificationRequirementNotMet\n          ? ' and '\n          : ''\n      }${\n        verificationRequirementNotMet ? 'have a validated user profile' : ''\n      } to accept`\n    }\n\n    actions = [\n      {\n        variant: 'outlined',\n        onClick: onAcceptClicked,\n        children: acceptButtonText,\n        disabled: isLoading || acceptButtonDisabled,\n      },\n      {\n        variant: 'text',\n        onClick: onHide,\n        children: 'I do not accept',\n      },\n    ]\n  }\n\n  return (\n    <RequirementItem\n      data-testid=\"SelfSignAccessRequirementItem\"\n      status={\n        isLoadingStatus\n          ? RequirementItemStatus.LOADING\n          : isApproved\n          ? RequirementItemStatus.COMPLETE\n          : RequirementItemStatus.LOCKED\n      }\n      actions={actions}\n    >\n      {isApproved ? (\n        <>\n          <Typography variant={'body1'}>\n            You have accepted the terms of use.{' '}\n            <Link role=\"button\" onClick={() => setShowTerms(!showTerms)}>\n              {showTerms ? 'Hide Terms' : 'View Terms'}\n            </Link>\n          </Typography>\n          {showTerms && <Box sx={{ my: 1 }}>{renderedTerms}</Box>}\n        </>\n      ) : (\n        renderedTerms\n      )}\n      {error && <Alert severity=\"error\">{error.reason}</Alert>}\n    </RequirementItem>\n  )\n}\n","import {\n  AccessRequirement,\n  ManagedACTAccessRequirement,\n} from '../../utils/synapseTypes'\nimport UnmanagedACTAccessRequirementItem from './RequirementItem/UnmanagedACTAccessRequirementItem'\nimport ManagedACTAccessRequirementItem from './ManagedACTAccessRequirementRequestFlow/ManagedACTAccessRequirementItem'\nimport React from 'react'\nimport SelfSignAccessRequirementItem from './RequirementItem/SelfSignAccessRequirementItem'\n\nexport type AccessRequirementListItemProps = {\n  accessRequirement: AccessRequirement\n  entityId: string\n  onHide: () => void\n  onRequestAccess: (accessRequirement: ManagedACTAccessRequirement) => void\n}\n\n/**\n * Renders an individual AR item for the AccessRequirementList\n */\nexport function AccessRequirementListItem(\n  props: AccessRequirementListItemProps,\n) {\n  const { accessRequirement, entityId, onHide, onRequestAccess } = props\n  switch (accessRequirement.concreteType) {\n    case 'org.sagebionetworks.repo.model.SelfSignAccessRequirement':\n    case 'org.sagebionetworks.repo.model.TermsOfUseAccessRequirement':\n      return (\n        <SelfSignAccessRequirementItem\n          accessRequirement={accessRequirement}\n          onHide={onHide}\n        />\n      )\n    case 'org.sagebionetworks.repo.model.ACTAccessRequirement':\n      return (\n        <UnmanagedACTAccessRequirementItem\n          accessRequirement={accessRequirement}\n          onHide={onHide}\n          entityId={entityId}\n        />\n      )\n    case 'org.sagebionetworks.repo.model.ManagedACTAccessRequirement':\n      return (\n        <ManagedACTAccessRequirementItem\n          accessRequirement={accessRequirement}\n          onHide={onHide}\n          entityId={entityId}\n          onRequestAccess={() => {\n            onRequestAccess(accessRequirement)\n          }}\n        />\n      )\n    // case not supported yet\n    default:\n      console.warn(\n        'Unsupported access requirement type:',\n        accessRequirement.concreteType,\n      )\n      return <></>\n  }\n}\n","import React, { useState } from 'react'\nimport { PRODUCTION_ENDPOINT_CONFIG } from '../../utils/functions/getEndpoint'\nimport useGetInfoFromIds, {\n  UseGetInfoFromIdsProps,\n} from '../../utils/hooks/useGetInfoFromIds'\nimport {\n  AccessRequirement,\n  EntityHeader,\n  ManagedACTAccessRequirement,\n  Renewal,\n  Request,\n} from '../../utils/synapseTypes'\nimport IconSvg from '../IconSvg'\nimport StandaloneLoginForm from '../auth/StandaloneLoginForm'\nimport CancelRequestDataAccess from './ManagedACTAccessRequirementRequestFlow/CancelRequestDataAccess'\nimport ResearchProjectForm from './ManagedACTAccessRequirementRequestFlow/ResearchProjectForm'\nimport DataAccessRequestAccessorsFilesForm from './ManagedACTAccessRequirementRequestFlow/DataAccessRequestAccessorsFilesForm'\nimport RequestDataAccessSuccess from './ManagedACTAccessRequirementRequestFlow/RequestDataAccessSuccess'\nimport {\n  Box,\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  IconButton,\n  Link,\n  Stack,\n  styled,\n  Typography,\n  TypographyProps,\n} from '@mui/material'\nimport AuthenticatedRequirement from './RequirementItem/AuthenticatedRequirement'\nimport CertificationRequirement from './RequirementItem/CertificationRequirement'\nimport ValidationRequirement from './RequirementItem/ValidationRequirement'\nimport { StyledComponent } from '@emotion/styled'\nimport {\n  useGetAccessRequirementsForEntity,\n  useSortAccessRequirementIdsByCompletion,\n} from '../../utils/hooks/SynapseAPI'\nimport TwoFactorAuthEnabledRequirement from './RequirementItem/TwoFactorAuthEnabledRequirement'\nimport { AccessRequirementListItem } from './AccessRequirementListItem'\nimport { useSynapseContext } from '../../utils/SynapseContext'\n\nexport type AccessRequirementListProps = {\n  entityId: string // will show this entity info\n  accessRequirementFromProps?: Array<AccessRequirement>\n  onHide: () => void\n  renderAsModal?: boolean\n  numberOfFilesAffected?: number // if provided, will show this instead of the entity information\n}\n\nconst SUPPORTED_ACCESS_REQUIREMENTS = new Set<\n  AccessRequirement['concreteType']\n>([\n  'org.sagebionetworks.repo.model.SelfSignAccessRequirement',\n  'org.sagebionetworks.repo.model.TermsOfUseAccessRequirement',\n  'org.sagebionetworks.repo.model.ManagedACTAccessRequirement',\n  'org.sagebionetworks.repo.model.ACTAccessRequirement',\n])\n\nconst DialogSubsectionHeader: StyledComponent<TypographyProps> = styled(\n  Typography,\n  {\n    label: 'DialogSubsectionHeader',\n  },\n)(({ theme }) => ({\n  marginTop: theme.spacing(4),\n  marginBottom: theme.spacing(2),\n  paddingBottom: theme.spacing(1),\n  fontSize: '18px',\n  fontWeight: 'bold',\n  borderBottom: '1px solid',\n  borderColor: theme.palette.grey['200'],\n}))\nDialogSubsectionHeader.defaultProps = {\n  ...DialogSubsectionHeader.defaultProps,\n  variant: 'h4',\n}\n\nexport const checkHasUnsupportedRequirement = (\n  accessRequirements: Array<AccessRequirement>,\n): boolean => {\n  return accessRequirements.filter(isARUnsupported).length > 0\n}\n\nconst isARUnsupported = (accessRequirement: AccessRequirement) => {\n  return !SUPPORTED_ACCESS_REQUIREMENTS.has(accessRequirement.concreteType)\n}\n\n/**\n * Represents a distinct screen in the wizard used to apply to a ManagedACTAccessRequirement\n */\nenum RequestDataStep {\n  SHOW_ALL_ARS = 0,\n  UPDATE_RESEARCH_PROJECT = 1,\n  UPDATE_ACCESSORS_AND_FILES = 2,\n  PROMPT_CANCEL = 3,\n  PROMPT_LOGIN = 4,\n  COMPLETE = 5,\n}\n\nexport type RequestDataStepCallbackArgs = {\n  step: RequestDataStep\n  managedACTAccessRequirement?: ManagedACTAccessRequirement\n  researchProjectId?: string\n  dataAccessRequest?: Request | Renewal\n}\n\n/**\n * The AccessRequirementListV2 component renders a set of {@link AccessRequirement}s (either pre-defined, or those applied\n * to an entity, based on provided props).\n *\n * The component shows the user the approval status of each AR and provides a workflow for accepting the terms of or\n * creating a submission for any of the Access Requirements.\n */\nexport default function AccessRequirementList(\n  props: AccessRequirementListProps,\n) {\n  const {\n    entityId,\n    onHide,\n    accessRequirementFromProps,\n    renderAsModal,\n    numberOfFilesAffected,\n  } = props\n  const { accessToken } = useSynapseContext()\n  const isSignedIn = !!accessToken\n  const [requestDataStep, setRequestDataStep] = useState<RequestDataStep>(\n    RequestDataStep.SHOW_ALL_ARS,\n  )\n  const [managedACTAccessRequirement, setManagedACTAccessRequirement] =\n    useState<ManagedACTAccessRequirement>()\n  const [researchProjectId, setResearchProjectId] = useState<string>('')\n  const [dataAccessRequest, setDataAccessRequest] = useState<\n    Request | Renewal | undefined\n  >()\n\n  const entityHeaderProps: UseGetInfoFromIdsProps = {\n    ids: [entityId],\n    type: 'ENTITY_HEADER',\n  }\n\n  const entityInformation = useGetInfoFromIds<EntityHeader>(entityHeaderProps)\n\n  const { data: fetchedRequirements } = useGetAccessRequirementsForEntity(\n    entityId,\n    {\n      enabled: Boolean(!accessRequirementFromProps && entityId),\n    },\n  )\n\n  const accessRequirements = accessRequirementFromProps ?? fetchedRequirements\n\n  /**\n   * Set the initial ordering of the Access Requirements to show complete ARs first. The individual AR Item components\n   * retrieve and render status independently, so this data only determines ordering. For this reason, the query data\n   * should not be invalidated or updated as the user progresses through the workflow.\n   */\n  const { data: sortedAccessRequirementIds } =\n    useSortAccessRequirementIdsByCompletion(\n      (accessRequirements ?? []).map(ar => String(ar.id)),\n      {\n        enabled: !!accessRequirements,\n        // Set the stale time to infinity because we don't want to refetch this and change the order\n        staleTime: Infinity,\n      },\n    )\n\n  const requestDataStepCallback = (props: RequestDataStepCallbackArgs) => {\n    const {\n      managedACTAccessRequirement,\n      step,\n      researchProjectId,\n      dataAccessRequest: newDataAccessRequest,\n    } = props\n    if (managedACTAccessRequirement) {\n      // required for step 1, 2 form\n      setManagedACTAccessRequirement(managedACTAccessRequirement)\n    }\n    if (researchProjectId) {\n      setResearchProjectId(researchProjectId)\n    }\n    if (newDataAccessRequest) {\n      setDataAccessRequest(newDataAccessRequest)\n    }\n    setRequestDataStep(step)\n  }\n\n  const anyARsRequireTwoFactorAuth = accessRequirements?.some(\n    accessRequirement =>\n      accessRequirement.concreteType ===\n        'org.sagebionetworks.repo.model.ManagedACTAccessRequirement' &&\n      accessRequirement.isTwoFaRequired,\n  )\n\n  const anyARsRequireCertification = accessRequirements?.some(\n    accessRequirement =>\n      (accessRequirement.concreteType ===\n        'org.sagebionetworks.repo.model.ManagedACTAccessRequirement' ||\n        accessRequirement.concreteType ===\n          'org.sagebionetworks.repo.model.SelfSignAccessRequirement') &&\n      accessRequirement.isCertifiedUserRequired,\n  )\n\n  const anyARsRequireProfileValidation = accessRequirements?.some(\n    accessRequirement =>\n      (accessRequirement.concreteType ===\n        'org.sagebionetworks.repo.model.ManagedACTAccessRequirement' ||\n        accessRequirement.concreteType ===\n          'org.sagebionetworks.repo.model.SelfSignAccessRequirement') &&\n      accessRequirement.isValidatedProfileRequired,\n  )\n\n  const content = (\n    <>\n      <DialogTitle>\n        <Stack direction=\"row\" alignItems={'center'} gap={'5px'}>\n          Data Access Request\n          <Box sx={{ flexGrow: 1 }} />\n          <IconButton onClick={onHide}>\n            <IconSvg icon={'close'} wrap={false} sx={{ color: 'grey.700' }} />\n          </IconButton>\n        </Stack>\n      </DialogTitle>\n\n      <DialogContent>\n        <DialogSubsectionHeader sx={{ mt: 0 }}>\n          Access For:\n        </DialogSubsectionHeader>\n        <Typography variant={'body1'} component={'span'}>\n          <IconSvg icon=\"file\" sx={{ width: '30px' }} />{' '}\n          {numberOfFilesAffected ? (\n            `${numberOfFilesAffected} File(s)`\n          ) : (\n            <Link\n              href={`${PRODUCTION_ENDPOINT_CONFIG.PORTAL}#!Synapse:${entityId}`}\n            >\n              {entityInformation[0]?.name}\n            </Link>\n          )}\n        </Typography>\n        <DialogSubsectionHeader>What do I need to do?</DialogSubsectionHeader>\n        <AuthenticatedRequirement />\n        {anyARsRequireCertification && <CertificationRequirement />}\n        {anyARsRequireProfileValidation && <ValidationRequirement />}\n        {anyARsRequireTwoFactorAuth && <TwoFactorAuthEnabledRequirement />}\n        {sortedAccessRequirementIds\n          ?.map(id => accessRequirements!.find(ar => id === String(ar.id))!)\n          ?.map(accessRequirement => {\n            return (\n              <AccessRequirementListItem\n                key={accessRequirement.id}\n                accessRequirement={accessRequirement}\n                entityId={entityId}\n                onHide={onHide}\n                onRequestAccess={accessRequirement => {\n                  const nextStep = isSignedIn\n                    ? RequestDataStep.UPDATE_RESEARCH_PROJECT\n                    : RequestDataStep.PROMPT_LOGIN\n                  requestDataStepCallback({\n                    managedACTAccessRequirement: accessRequirement,\n                    step: nextStep,\n                  })\n                }}\n              />\n            )\n          })}\n      </DialogContent>\n    </>\n  )\n\n  let renderContent = content\n  if (renderAsModal) {\n    switch (requestDataStep) {\n      case RequestDataStep.UPDATE_RESEARCH_PROJECT:\n        renderContent = (\n          <ResearchProjectForm\n            managedACTAccessRequirement={managedACTAccessRequirement!}\n            onSave={researchProject => {\n              requestDataStepCallback({\n                managedACTAccessRequirement,\n                step: RequestDataStep.UPDATE_ACCESSORS_AND_FILES,\n                researchProjectId: researchProject.id,\n              })\n            }}\n            onHide={onHide}\n          />\n        )\n        break\n      case RequestDataStep.UPDATE_ACCESSORS_AND_FILES:\n        renderContent = (\n          <DataAccessRequestAccessorsFilesForm\n            researchProjectId={researchProjectId}\n            managedACTAccessRequirement={managedACTAccessRequirement!}\n            entityId={entityId} // for form submission after save\n            onHide={onHide}\n            onCancel={dataAccessRequestInProgress => {\n              requestDataStepCallback({\n                step: RequestDataStep.PROMPT_CANCEL,\n                dataAccessRequest: dataAccessRequestInProgress,\n              })\n            }}\n            onSubmissionCreated={() => {\n              requestDataStepCallback({ step: RequestDataStep.COMPLETE })\n            }}\n          />\n        )\n        break\n      case RequestDataStep.PROMPT_CANCEL:\n        renderContent = (\n          <CancelRequestDataAccess\n            modifiedDataAccessRequest={dataAccessRequest}\n            onHide={onHide} // for closing dialogs\n          />\n        )\n        break\n      case RequestDataStep.PROMPT_LOGIN:\n        renderContent = (\n          <>\n            <DialogTitle>Please Log In</DialogTitle>\n            <DialogContent className={'AccessRequirementList login-modal '}>\n              <StandaloneLoginForm\n                sessionCallback={() => {\n                  window.location.reload()\n                }}\n              />\n            </DialogContent>\n          </>\n        )\n        break\n      case RequestDataStep.COMPLETE:\n        renderContent = <RequestDataAccessSuccess onHide={onHide} />\n        break\n      case RequestDataStep.SHOW_ALL_ARS:\n        renderContent = content\n        break\n      default:\n        renderContent = content\n    }\n    return (\n      <Dialog maxWidth=\"md\" fullWidth open={true} onClose={onHide}>\n        {renderContent}\n      </Dialog>\n    )\n  }\n  return <Box>{renderContent}</Box>\n}\n","import React, { useMemo } from 'react'\nimport { SynapseClient } from '../../utils'\nimport {\n  BackendDestinationEnum,\n  getEndpoint,\n} from '../../utils/functions/getEndpoint'\nimport { useGetRestrictionInformation } from '../../utils/hooks/SynapseAPI/dataaccess/useAccessRequirements'\nimport useGetEntityBundle from '../../utils/hooks/SynapseAPI/entity/useEntityBundle'\nimport { SRC_SIGN_IN_CLASS } from '../../utils/SynapseConstants'\nimport { useSynapseContext } from '../../utils/SynapseContext'\nimport {\n  AccessRequirement,\n  isFileEntity,\n  RestrictableObjectType,\n  RestrictionInformationRequest,\n  RestrictionLevel,\n} from '../../utils/synapseTypes'\nimport AccessRequirementList, {\n  checkHasUnsupportedRequirement,\n} from '../AccessRequirementList/AccessRequirementList'\nimport IconSvg, { Icon } from '../IconSvg'\nimport { Theme, useTheme } from '@mui/material'\n\nexport type HasAccessProps = {\n  onHide?: () => void\n  entityId: string\n  entityVersionNumber?: string\n  className?: string\n}\n\nexport enum FileHandleDownloadTypeEnum {\n  Accessible = 'Accessible',\n  AccessBlockedByRestriction = 'AccessBlockedByRestriction',\n  AccessBlockedByACL = 'AccessBlockedByACL',\n  AccessBlockedToAnonymous = 'AccessBlockedToAnonymous',\n  NoFileHandle = 'NoFileHandle',\n}\n\nconst iconConfiguration: Record<\n  FileHandleDownloadTypeEnum,\n  { icon: Icon; color: (theme: Theme) => string; tooltipText: string }\n> = {\n  [FileHandleDownloadTypeEnum.AccessBlockedToAnonymous]: {\n    icon: 'accessClosed',\n    color: theme => theme.palette.warning.main,\n    tooltipText: 'You must sign in to access this file.',\n  },\n  [FileHandleDownloadTypeEnum.AccessBlockedByRestriction]: {\n    icon: 'accessClosed',\n    color: theme => theme.palette.warning.main,\n    tooltipText: 'You must request access to this restricted file.',\n  },\n  [FileHandleDownloadTypeEnum.AccessBlockedByACL]: {\n    icon: 'accessClosed',\n    color: theme => theme.palette.warning.main,\n    tooltipText: 'You do not have download access for this item.',\n  },\n\n  [FileHandleDownloadTypeEnum.Accessible]: {\n    icon: 'accessOpen',\n    color: theme => theme.palette.success.main,\n    tooltipText: '',\n  },\n\n  [FileHandleDownloadTypeEnum.NoFileHandle]: {\n    icon: 'accessOpen',\n    color: theme => theme.palette.success.main,\n    tooltipText: '',\n  },\n}\n\nfunction AccessIcon(props: { downloadType: FileHandleDownloadTypeEnum }) {\n  const { downloadType } = props\n  const theme = useTheme()\n  if (downloadType) {\n    const configuration = iconConfiguration[downloadType]\n    return (\n      <IconSvg\n        icon={configuration.icon}\n        label={configuration.tooltipText}\n        sx={{\n          color: configuration.color(theme),\n          height: '16px',\n          verticalAlign: 'text-top',\n        }}\n      />\n    )\n  }\n  // nothing is rendered until downloadType is determined\n  return <></>\n}\n\n/**\n * Determines whether an Entity is accessible for download, or if it is blocked by the ACL or unmet Access Requirements.\n *\n * To make download available, and determine if the file is downloadable via the web, see {@link DirectDownload.tsx}\n * @param entityId\n * @param entityVersionNumber\n * @returns\n */\nexport function useGetFileHandleDownloadType(\n  entityId: string,\n  entityVersionNumber?: string,\n) {\n  const [fileHandleDownloadType, setFileHandleDownloadType] =\n    React.useState<FileHandleDownloadTypeEnum>()\n\n  const { accessToken } = useSynapseContext()\n  const parsedVersionNumber = parseInt(entityVersionNumber ?? '')\n  const { data: entityBundle, error: entityFetchError } = useGetEntityBundle(\n    entityId,\n    Number.isNaN(parsedVersionNumber) ? undefined : parsedVersionNumber,\n    {\n      includeEntity: true,\n      includePermissions: true,\n    },\n  )\n\n  const restrictionInformationRequest: RestrictionInformationRequest =\n    React.useMemo(\n      () => ({\n        restrictableObjectType: RestrictableObjectType.ENTITY,\n        objectId: entityId,\n      }),\n      [entityId],\n    )\n\n  const { data: restrictionInformation } = useGetRestrictionInformation(\n    restrictionInformationRequest,\n  )\n\n  const entity = entityBundle?.entity\n  const permissions = entityBundle?.permissions\n\n  React.useEffect(() => {\n    if (\n      restrictionInformation &&\n      restrictionInformation.hasUnmetAccessRequirement\n    ) {\n      setFileHandleDownloadType(\n        FileHandleDownloadTypeEnum.AccessBlockedByRestriction,\n      )\n    } else if (entity && permissions?.canDownload) {\n      if (isFileEntity(entity) && entity.dataFileHandleId) {\n        setFileHandleDownloadType(FileHandleDownloadTypeEnum.Accessible)\n      } else {\n        setFileHandleDownloadType(FileHandleDownloadTypeEnum.NoFileHandle)\n      }\n    } else if (permissions && !permissions.canDownload) {\n      setFileHandleDownloadType(\n        accessToken\n          ? FileHandleDownloadTypeEnum.AccessBlockedByACL\n          : FileHandleDownloadTypeEnum.AccessBlockedToAnonymous,\n      )\n    }\n  }, [\n    accessToken,\n    entity,\n    entityFetchError,\n    permissions,\n    restrictionInformation,\n  ])\n\n  return fileHandleDownloadType\n}\n\n/**\n * HasAccess shows if the user has access to the file or not. If the user doesn't have access due to a restriction,\n * then a link will be shown that opens a modal with steps to request access.\n */\nexport function HasAccessV2(props: HasAccessProps) {\n  const [displayAccessRequirement, setDisplayAccessRequirement] =\n    React.useState(false)\n  const [accessRequirements, setAccessRequirements] = React.useState<\n    AccessRequirement[]\n  >([])\n\n  const { entityId, entityVersionNumber } = props\n\n  const fileHandleDownloadType = useGetFileHandleDownloadType(\n    entityId,\n    entityVersionNumber,\n  )\n\n  const { accessToken } = useSynapseContext()\n\n  const restrictionInformationRequest: RestrictionInformationRequest =\n    React.useMemo(\n      () => ({\n        restrictableObjectType: RestrictableObjectType.ENTITY,\n        objectId: entityId,\n      }),\n      [entityId],\n    )\n\n  const { data: restrictionInformation } = useGetRestrictionInformation(\n    restrictionInformationRequest,\n  )\n\n  const handleGetAccess = () => {\n    // TODO: The fetch should really happen in the AR List component.\n    // If we need to open the AR page in synapse, the logic should be in the modal and it should just close itself right away\n    SynapseClient.getAllAccessRequirements(accessToken, entityId).then(\n      requirements => {\n        if (checkHasUnsupportedRequirement(requirements)) {\n          window.open(\n            `${getEndpoint(\n              BackendDestinationEnum.PORTAL_ENDPOINT,\n            )}#!AccessRequirements:ID=${entityId}&TYPE=ENTITY`,\n            '_blank',\n          )\n        } else {\n          setAccessRequirements(requirements)\n          setDisplayAccessRequirement(true)\n        }\n      },\n    )\n  }\n\n  // Show Access Requirements\n  const accessRequirementsJsx = useMemo(() => {\n    if (!restrictionInformation) {\n      // loading\n      return <></>\n    }\n    const hasUnmetAccessRequirement =\n      restrictionInformation?.hasUnmetAccessRequirement\n    const restrictionLevel = restrictionInformation?.restrictionLevel\n    let linkText = ''\n\n    if (hasUnmetAccessRequirement) {\n      linkText = 'Request Access'\n    } else if (RestrictionLevel.OPEN === restrictionLevel) {\n      // they need to sign in\n      return <></>\n    } else {\n      linkText = 'View Terms'\n    }\n    return (\n      <>\n        <a\n          style={{\n            fontSize: '14px',\n            cursor: 'pointer',\n            marginLeft: '5px',\n            verticalAlign: 'top',\n          }}\n          className={props.className}\n          onClick={handleGetAccess}\n        >\n          {linkText}\n        </a>\n        {displayAccessRequirement && (\n          <AccessRequirementList\n            entityId={entityId}\n            accessRequirementFromProps={accessRequirements}\n            renderAsModal={true}\n            onHide={() => {\n              setDisplayAccessRequirement(false)\n            }}\n          />\n        )}\n      </>\n    )\n  }, [\n    entityId,\n    restrictionInformation,\n    accessRequirements,\n    displayAccessRequirement,\n  ])\n\n  if (fileHandleDownloadType === undefined) {\n    // note, this can't be \"if (!downloadType)\" since DownloadTypeEnum has a 0 value (which is falsy)\n    // loading\n    return <></>\n  }\n  const iconContainer =\n    fileHandleDownloadType ===\n    FileHandleDownloadTypeEnum.AccessBlockedToAnonymous ? (\n      <button\n        type=\"button\"\n        className={SRC_SIGN_IN_CLASS}\n        onClick={ev => {\n          if (ev.isTrusted) {\n            /*\n                There is a tricky problem - \n                The portals listens to click events for buttons with the class SRC_SIGN_IN_CLASS set, it listens to this event\n                so that it can display the login modal.\n\n                This button has an svg inside of it which is problematic because more often than not clicking this button will \n                instead click that svg. The event listener in the portals will break as a result.\n\n                Though the svg may get the actual click event, because of event bubbling this button will get its onClick called.\n                Once onClick is called we can manually dispatch an event off of this button. This does pose a problem, we end up in a \n                infinite loop because this button keeps disptaching click events, so we can use the isTrusted to recognize if onClick was\n                triggered programmatically or by user click. Lastly, using { bubbles: true } ensures the event bubbles up to the document level.\n\n              */\n            const clickEvent = new MouseEvent('click', { bubbles: true })\n            ev.currentTarget.dispatchEvent(clickEvent)\n          }\n        }}\n      >\n        <AccessIcon downloadType={fileHandleDownloadType} />\n      </button>\n    ) : (\n      <AccessIcon downloadType={fileHandleDownloadType} />\n    )\n\n  return (\n    <span style={{ whiteSpace: 'nowrap' }}>\n      {iconContainer}\n      {accessRequirementsJsx}\n    </span>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { useInView } from 'react-intersection-observer'\nimport { getEntityHeadersByIds } from '../utils/SynapseClient'\nimport { useSynapseContext } from '../utils/SynapseContext'\nimport { EntityLink } from './EntityLink'\n\nexport type EntityIdListProps = {\n  entityIdList: string[]\n}\n\nconst EntityIdList: React.FC<EntityIdListProps> = props => {\n  const { accessToken } = useSynapseContext()\n  const { entityIdList } = props\n  const [entityLinkArray, setEntityLinkArray] = useState([<></>])\n  const { ref, inView } = useInView()\n  let mounted: boolean = true\n\n  useEffect(() => {\n    if (inView) {\n      getEntityTypes()\n    }\n    return () => {\n      mounted = false\n    }\n  }, [entityIdList, inView])\n\n  const getEntityTypes = () => {\n    if (!entityIdList.length) return\n\n    getEntityHeadersByIds(entityIdList, accessToken)\n      .then(entity => {\n        if (mounted) {\n          const newEntityList = entity.results.map(el => {\n            return (\n              <p key={el.id}>\n                <EntityLink entity={el} displayTextField={'name'} />\n              </p>\n            )\n          })\n          setEntityLinkArray(newEntityList)\n        }\n      })\n      .catch(e => {\n        console.log('EntityIdList: Error getting entity headers', e)\n      })\n  }\n\n  return <span ref={ref}>{entityLinkArray}</span>\n}\n\nexport default EntityIdList\n","import React, { useEffect, useState } from 'react'\nimport { useInView } from 'react-intersection-observer'\nimport { getEvaluation } from '../utils/SynapseClient'\nimport { useSynapseContext } from '../utils/SynapseContext'\n\nexport type EvaluationIdRendererProps = {\n  evaluationId: string\n}\n\nconst EvaluationIdRenderer: React.FC<EvaluationIdRendererProps> = props => {\n  const { accessToken } = useSynapseContext()\n  const { evaluationId } = props\n  const [evaluationName, setEvaluationName] = useState<string>()\n  const { ref, inView } = useInView()\n  let mounted: boolean = true\n\n  useEffect(() => {\n    if (mounted && inView) {\n      getEvaluationQueue()\n    }\n    return () => {\n      mounted = false\n    }\n  }, [evaluationId, inView])\n\n  const getEvaluationQueue = () => {\n    if (!evaluationId) return\n\n    getEvaluation(evaluationId, accessToken)\n      .then(evaluationQueue => {\n        setEvaluationName(evaluationQueue.name)\n      })\n      .catch(e => {\n        console.log(\n          'EvaluationIdListRenderer: Error getting evaluation queue names',\n          e,\n        )\n      })\n  }\n\n  return <span ref={ref}>{evaluationName}</span>\n}\n\nexport default EvaluationIdRenderer\n","import React, { useEffect, useState } from 'react'\nimport { useInView } from 'react-intersection-observer'\nimport { getUserProfiles } from '../utils/SynapseClient'\nimport { useSynapseContext } from '../utils/SynapseContext'\nimport { UserCardSmall } from './UserCardSmall'\n\nexport type UserIdListProps = {\n  userIds: string[]\n}\n\nconst UserIdList: React.FC<UserIdListProps> = props => {\n  const { accessToken } = useSynapseContext()\n  const { userIds } = props\n  const [profileCards, setProfileCards] = useState<JSX.Element[]>()\n  const { ref, inView } = useInView()\n  let mounted: boolean = true\n\n  useEffect(() => {\n    if (mounted && inView) {\n      getUserProfilesToRender()\n    }\n    return () => {\n      mounted = false\n    }\n  }, [userIds, inView])\n\n  const getUserProfilesToRender = () => {\n    if (!userIds.length) return\n\n    getUserProfiles(userIds, accessToken)\n      .then(userProfiles => {\n        const list = userProfiles.list.map(el => (\n          <UserCardSmall\n            key={el.ownerId}\n            userProfile={el}\n            className=\"SRC-marginFifteen\"\n          />\n        ))\n        setProfileCards(list)\n      })\n      .catch(e => {\n        console.log('UserIdList: Error getting user profiles', e)\n      })\n  }\n\n  return <span ref={ref}>{profileCards}</span>\n}\n\nexport default UserIdList\n","import React from 'react'\nimport dayjs from 'dayjs'\nimport { formatDate } from '../../utils/functions/DateFormatter'\nimport {\n  isDataset,\n  isDatasetCollection,\n  isEntityView,\n} from '../../utils/functions/EntityTypeUtils'\nimport { PRODUCTION_ENDPOINT_CONFIG } from '../../utils/functions/getEndpoint'\nimport { AUTHENTICATED_USERS } from '../../utils/SynapseConstants'\nimport {\n  ColumnModel,\n  ColumnType,\n  ColumnTypeEnum,\n  EntityHeader,\n  FileHandleAssociateType,\n  Row,\n  SelectColumn,\n  UserGroupHeader,\n  UserProfile,\n} from '../../utils/synapseTypes'\nimport {\n  CardLink,\n  ColumnSpecifiedLink,\n  MarkdownLink,\n} from '../CardContainerLogic'\nimport DirectDownload from '../DirectDownload'\nimport EntityIdList from '../EntityIdList'\nimport { EntityLink } from '../EntityLink'\nimport EvaluationIdRenderer from '../EvaluationIdRenderer'\nimport { SynapseCardLabel } from '../GenericCard'\nimport IconSvg, { Icon } from '../IconSvg'\nimport { useQueryContext } from '../QueryContext'\nimport { NOT_SET_DISPLAY_VALUE } from '../table/SynapseTableConstants'\nimport UserCard from '../UserCard'\nimport UserIdList from '../UserIdList'\n\nexport type SynapseTableCellProps = {\n  columnType: ColumnType\n  columnValue: string | null\n  isBold: string\n  columnLinkConfig?: CardLink | MarkdownLink | ColumnSpecifiedLink\n  mapEntityIdToHeader: Record<string, EntityHeader>\n  mapUserIdToHeader: Partial<UserGroupHeader & UserProfile>\n  columnName: string\n  selectColumns?: SelectColumn[]\n  columnModels?: ColumnModel[]\n  rowData: Row['values']\n  rowId?: number\n  rowVersionNumber?: number\n}\n\nexport const SynapseTableCell: React.FC<SynapseTableCellProps> = ({\n  columnType,\n  columnValue,\n  isBold,\n  mapEntityIdToHeader,\n  mapUserIdToHeader,\n  columnLinkConfig,\n  columnName,\n  selectColumns,\n  columnModels,\n  rowData,\n  rowId,\n  rowVersionNumber,\n}) => {\n  const { entity } = useQueryContext()\n\n  if (!columnValue) {\n    return <p className=\"SRC-inactive\"> {NOT_SET_DISPLAY_VALUE}</p>\n  }\n\n  if (columnLinkConfig) {\n    return (\n      <SynapseCardLabel\n        value={columnValue}\n        columnName={columnName}\n        selectColumns={selectColumns}\n        columnModels={columnModels}\n        isHeader={false}\n        labelLink={columnLinkConfig}\n        rowData={rowData}\n        rowId={rowId}\n      />\n    )\n  }\n\n  // PORTALS-2095: Special case. If this is an EntityView, and we are rendering the 'id' or 'name' column,\n  // and we have a rowId and rowVersionNumber (should always be the case), and our entityIdToHeader map\n  // contains the row Synapse ID, then auto-link.\n  if (\n    entity &&\n    (isEntityView(entity) ||\n      isDataset(entity) ||\n      isDatasetCollection(entity)) &&\n    (columnName === 'id' || columnName === 'name') &&\n    rowId &&\n    rowVersionNumber\n  ) {\n    const synId = `syn${rowId.toString()}`\n    const entity = mapEntityIdToHeader[synId] ?? synId\n    return (\n      <p>\n        <EntityLink\n          entity={entity}\n          versionNumber={rowVersionNumber}\n          className={`${isBold}`}\n          showIcon={false}\n          displayTextField={columnName}\n        />\n      </p>\n    )\n  }\n\n  switch (columnType) {\n    case ColumnTypeEnum.ENTITYID:\n      return (\n        <p>\n          <EntityLink\n            entity={mapEntityIdToHeader[columnValue] ?? columnValue}\n            className={`${isBold}`}\n            displayTextField={'name'}\n          />\n        </p>\n      )\n      break\n    case ColumnTypeEnum.DATE_LIST: {\n      const jsonData: number[] = JSON.parse(columnValue)\n      return (\n        <p>\n          {jsonData.map((val: number, index: number) => {\n            return (\n              <span key={index} className={isBold}>\n                {formatDate(dayjs(Number(val)))}\n                {index !== jsonData.length - 1 ? ', ' : ''}\n              </span>\n            )\n          })}{' '}\n        </p>\n      )\n    }\n    case ColumnTypeEnum.BOOLEAN_LIST: {\n      const jsonData: boolean[] = JSON.parse(columnValue)\n      return (\n        <p>\n          {jsonData.map((val: boolean, index: number) => {\n            return (\n              <span key={index} className={isBold}>\n                {val ? 'true' : 'false'}\n                {index !== jsonData.length - 1 ? ', ' : ''}\n              </span>\n            )\n          })}\n        </p>\n      )\n    }\n    case ColumnTypeEnum.FILEHANDLEID:\n      return (\n        <>\n          {entity && (\n            <DirectDownload\n              associatedObjectId={entity.id!}\n              associatedObjectType={FileHandleAssociateType.TableEntity}\n              fileHandleId={columnValue}\n              displayFileName={true}\n            />\n          )}\n        </>\n      )\n    case ColumnTypeEnum.ENTITYID_LIST: {\n      const jsonData: string[] = JSON.parse(columnValue)\n      return (\n        <p>\n          <EntityIdList entityIdList={jsonData} />\n        </p>\n      )\n    }\n    case ColumnTypeEnum.USERID_LIST: {\n      const jsonData: string[] = JSON.parse(columnValue)\n      return <UserIdList userIds={jsonData} />\n    }\n    // handle other list types\n    case ColumnTypeEnum.STRING_LIST:\n    case ColumnTypeEnum.INTEGER_LIST: {\n      const jsonData: string[] = JSON.parse(columnValue)\n      return (\n        <p className={isBold}>\n          {jsonData.map((val: string, index: number) => {\n            return (\n              <React.Fragment key={val}>\n                {val}\n                {index !== jsonData.length - 1 ? ', ' : ''}\n              </React.Fragment>\n            )\n          })}\n        </p>\n      )\n    }\n    case ColumnTypeEnum.EVALUATIONID: {\n      return <EvaluationIdRenderer evaluationId={columnValue} />\n    }\n\n    case ColumnTypeEnum.DATE:\n      return <p className={isBold}>{formatDate(dayjs(Number(columnValue)))}</p>\n\n    case ColumnTypeEnum.USERID:\n      if (\n        Object.prototype.hasOwnProperty.call(mapUserIdToHeader, columnValue)\n      ) {\n        const { ownerId, userName } = mapUserIdToHeader[columnValue]\n        if (mapUserIdToHeader[columnValue].isIndividual === false) {\n          // isUserGroupHeader\n          const icon: Icon =\n            userName === AUTHENTICATED_USERS ? 'public' : 'people'\n          if (userName === AUTHENTICATED_USERS) {\n            return (\n              <span>\n                <IconSvg icon={icon} /> All registered Synapse users\n              </span>\n            )\n          }\n          return (\n            <a\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              href={`${PRODUCTION_ENDPOINT_CONFIG.PORTAL}#!Team:${ownerId}`}\n            >\n              <IconSvg icon={icon} /> {userName}\n            </a>\n          )\n        } else {\n          // isUserCard\n          return (\n            <UserCard\n              userProfile={mapUserIdToHeader[columnValue]}\n              preSignedURL={mapUserIdToHeader[columnValue].clientPreSignedURL}\n              size={'SMALL USER CARD'}\n            />\n          )\n        }\n      }\n      break\n    case ColumnTypeEnum.LINK:\n      return (\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href={columnValue}>\n          {columnValue}\n        </a>\n      )\n    case ColumnTypeEnum.STRING:\n    case ColumnTypeEnum.DOUBLE:\n    case ColumnTypeEnum.INTEGER:\n    case ColumnTypeEnum.BOOLEAN:\n    case ColumnTypeEnum.MEDIUMTEXT:\n    case ColumnTypeEnum.LARGETEXT: {\n      return <p className={isBold}>{columnValue}</p>\n    }\n    default:\n      console.warn(\n        `ColumnType ${columnType} has unspecified handler. Rendering the column value.`,\n      )\n      return <p className={isBold}>{columnValue}</p>\n  }\n  // We can reach this if we don't get a mapping of IDs to entities or principals.\n  // TODO: If we don't have a id:data mapping, we should render a component that can fetch the required data, rather than breaking from the case.\n  return <p className={isBold}>{columnValue}</p>\n}\n","import {\n  ColumnType,\n  EntityHeader,\n  QueryResultBundle,\n  UserGroupHeader,\n  UserProfile,\n} from '../../utils/synapseTypes'\n\nexport const getColumnIndicesWithType = (\n  data: QueryResultBundle | undefined,\n  ...columnTypes: ColumnType[]\n) => {\n  const columnsOfTypeEntity: number[] = []\n  data?.selectColumns?.forEach((el, index) => {\n    if (columnTypes.includes(el.columnType)) {\n      columnsOfTypeEntity.push(index)\n    }\n  })\n  return columnsOfTypeEntity\n}\n\nexport const getUniqueEntities = (\n  data: QueryResultBundle,\n  mapIdToHeader: Record<\n    string,\n    EntityHeader | Partial<UserGroupHeader & UserProfile>\n  >,\n  indices: number[],\n) => {\n  const distinctEntities = new Set<string>()\n  data.queryResult?.queryResults.rows.forEach(row => {\n    row.values.forEach((el: string | null, colIndex: number) => {\n      // make sure this is a column of type entity and that we haven't retrieved this entity's information prior\n      if (\n        el != null &&\n        indices.includes(colIndex) &&\n        !Object.prototype.hasOwnProperty.call(mapIdToHeader, el) &&\n        el\n      ) {\n        distinctEntities.add(el)\n      }\n    })\n  })\n  return distinctEntities\n}\n","import React from 'react'\nimport { Pagination } from '@mui/material'\nimport { usePaginatedQueryContext } from '../QueryContext'\nimport { Typography } from '@mui/material'\n\nexport const TablePagination = () => {\n  const { data, goToPage, pageSize, setPageSize, currentPage } =\n    usePaginatedQueryContext()\n  const queryCount = data?.queryCount\n\n  const handlePage = (event: React.ChangeEvent<unknown>, value: number) => {\n    goToPage(value)\n  }\n\n  const handlePageSize = (event: React.ChangeEvent<{ value: unknown }>) => {\n    const value = event.target.value as number\n    setPageSize(value)\n  }\n\n  // PORTALS-2259: Special case.  If we're on the first page,\n  // and the total query count is less than the min page size, then do not show pagination UI.\n  if (currentPage == 1 && queryCount && queryCount < 10) {\n    return <></>\n  }\n\n  return (\n    <div>\n      <Pagination\n        page={currentPage}\n        count={Math.ceil(queryCount! / pageSize)}\n        color=\"secondary\"\n        onChange={handlePage}\n        style={{ display: 'inline-block', float: 'left' }}\n      />\n      <Typography variant=\"body1\" style={{ display: 'inline-block' }}>\n        {`${queryCount?.toLocaleString()} total rows /`}\n      </Typography>\n      <select\n        name=\"page size\"\n        onChange={handlePageSize}\n        style={{ padding: '4px', marginLeft: '4px' }}\n        value={pageSize}\n      >\n        <option value={10}>10 per page</option>\n        <option value={25}>25 per page</option>\n        <option value={100}>100 per page</option>\n        <option value={500}>500 per page</option>\n      </select>\n      {\n        //TODO: PORTALS-2546: convert to MUI?\n        /* <FormControl>\n        <Select\n          value={pageSize}\n          size=\"small\"\n          onChange={handlePageSize}\n          sx={{border: 'solid 1px #e5e7eb'}}\n        >\n          <MenuItem value={10}>10 per page</MenuItem>\n          <MenuItem value={25}>25 per page</MenuItem>\n          <MenuItem value={100}>100 per page</MenuItem>\n          <MenuItem value={500}>500 per page</MenuItem>\n        </Select>\n      </FormControl> */\n      }\n    </div>\n  )\n}\n","import React from 'react'\nimport { Tooltip } from '@mui/material'\nimport { TOOLTIP_DELAY_SHOW } from './table/SynapseTableConstants'\nimport IconSvg from './IconSvg'\n\nexport type InteractiveCopyIdsIconProps = {\n  onCopy: () => void\n}\n\nexport const InteractiveCopyIdsIcon = (props: InteractiveCopyIdsIconProps) => {\n  const { onCopy } = props\n  return (\n    <Tooltip\n      title=\"Copy IDs to the clipboard\"\n      enterNextDelay={TOOLTIP_DELAY_SHOW}\n      placement=\"right\"\n    >\n      <span>\n        <button data-testid=\"copySynIdsButton\" onClick={onCopy}>\n          <span style={{ height: 15, marginTop: -1 }}>\n            <IconSvg icon=\"contentCopy\" />\n          </span>\n        </button>\n      </span>\n    </Tooltip>\n  )\n}\n","import * as React from 'react'\nimport { useQueryContext } from '../QueryContext'\nimport { useSynapseContext } from '../../utils/SynapseContext'\nimport { InteractiveCopyIdsIcon } from '../InteractiveCopyIdsIcon'\nimport { displayToast } from '../ToastMessage'\nimport { QueryResultBundle, Row } from '../../utils/synapseTypes'\nimport { SynapseSpinner } from '../LoadingScreen'\nimport { SynapseConstants } from '../../utils'\nimport { getFullQueryTableResults } from '../../utils/SynapseClient'\nimport { parseEntityIdAndVersionFromSqlStatement } from '../../utils/functions/sqlFunctions'\n\nconst EntityIDColumnCopyIcon = () => {\n  const synapseContext = useSynapseContext()\n  const queryContext = useQueryContext()\n  const [isLoading, setIsLoading] = React.useState(false)\n  const [idData, setIdData] = React.useState<QueryResultBundle>()\n  const [abortController, setAbortController] =\n    React.useState<AbortController>()\n\n  React.useEffect(() => {\n    if (!abortController) {\n      setAbortController(new AbortController())\n    }\n    return () => {\n      // clean up\n      if (abortController) {\n        abortController.abort()\n      }\n    }\n  }, [abortController])\n  /**\n   * handle copy IDs to clipboard\n   */\n  const handleCopyIdsToClipboard = () => {\n    setIsLoading(true)\n\n    // ask for all pages of data\n    const { getLastQueryRequest } = queryContext\n    const queryRequestClone = getLastQueryRequest()\n    const { sql: oldSql } = queryRequestClone.query\n    const { entityId, versionNumber } =\n      parseEntityIdAndVersionFromSqlStatement(oldSql)!\n    const versionNumberString = versionNumber ? `.${versionNumber}` : ''\n    queryRequestClone.partMask = SynapseConstants.BUNDLE_MASK_QUERY_RESULTS\n    const entityIdString = `${entityId}${versionNumberString}`\n    const indexOfEntityId = oldSql.indexOf(entityIdString)\n    queryRequestClone.query.sql = `select id from ${entityIdString}${oldSql.substring(\n      indexOfEntityId + entityIdString.length,\n    )}`\n    getFullQueryTableResults(\n      queryRequestClone,\n      synapseContext.accessToken,\n      abortController?.signal,\n    )\n      .then((data: QueryResultBundle) => {\n        setIdData(data)\n      })\n      .catch((err: any) => {\n        console.error(err)\n        displayToast('Unable to query for all Synapse IDs to copy', 'danger')\n      })\n      .finally(() => {\n        setIsLoading(false)\n      })\n  }\n\n  React.useEffect(() => {\n    if (idData) {\n      const { rows } = idData.queryResult!.queryResults\n      const synIDs = rows\n        .map((row: Row) => {\n          return `${row.values[0]}`\n        })\n        .join('\\n')\n      // https://caniuse.com/mdn-api_clipboard_writetext\n      navigator.clipboard.writeText(synIDs).then(() => {\n        displayToast('Successfully copied to clipboard')\n        setIdData(undefined)\n      })\n    }\n  }, [idData])\n\n  return isLoading ? (\n    <SynapseSpinner size={25} />\n  ) : (\n    <InteractiveCopyIdsIcon\n      onCopy={() => {\n        handleCopyIdsToClipboard()\n      }}\n    />\n  )\n}\n\nexport default EntityIDColumnCopyIcon\n","var resizeObservers = [];\nexport { resizeObservers };\n","import { resizeObservers } from '../utils/resizeObservers';\nvar hasActiveObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.activeTargets.length > 0; });\n};\nexport { hasActiveObservations };\n","import { resizeObservers } from '../utils/resizeObservers';\nvar hasSkippedObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.skippedTargets.length > 0; });\n};\nexport { hasSkippedObservations };\n","var msg = 'ResizeObserver loop completed with undelivered notifications.';\nvar deliverResizeLoopError = function () {\n    var event;\n    if (typeof ErrorEvent === 'function') {\n        event = new ErrorEvent('error', {\n            message: msg\n        });\n    }\n    else {\n        event = document.createEvent('Event');\n        event.initEvent('error', false, false);\n        event.message = msg;\n    }\n    window.dispatchEvent(event);\n};\nexport { deliverResizeLoopError };\n","var ResizeObserverBoxOptions;\n(function (ResizeObserverBoxOptions) {\n    ResizeObserverBoxOptions[\"BORDER_BOX\"] = \"border-box\";\n    ResizeObserverBoxOptions[\"CONTENT_BOX\"] = \"content-box\";\n    ResizeObserverBoxOptions[\"DEVICE_PIXEL_CONTENT_BOX\"] = \"device-pixel-content-box\";\n})(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));\nexport { ResizeObserverBoxOptions };\n","export var freeze = function (obj) { return Object.freeze(obj); };\n","import { freeze } from './utils/freeze';\nvar ResizeObserverSize = (function () {\n    function ResizeObserverSize(inlineSize, blockSize) {\n        this.inlineSize = inlineSize;\n        this.blockSize = blockSize;\n        freeze(this);\n    }\n    return ResizeObserverSize;\n}());\nexport { ResizeObserverSize };\n","import { freeze } from './utils/freeze';\nvar DOMRectReadOnly = (function () {\n    function DOMRectReadOnly(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.top = this.y;\n        this.left = this.x;\n        this.bottom = this.top + this.height;\n        this.right = this.left + this.width;\n        return freeze(this);\n    }\n    DOMRectReadOnly.prototype.toJSON = function () {\n        var _a = this, x = _a.x, y = _a.y, top = _a.top, right = _a.right, bottom = _a.bottom, left = _a.left, width = _a.width, height = _a.height;\n        return { x: x, y: y, top: top, right: right, bottom: bottom, left: left, width: width, height: height };\n    };\n    DOMRectReadOnly.fromRect = function (rectangle) {\n        return new DOMRectReadOnly(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n    };\n    return DOMRectReadOnly;\n}());\nexport { DOMRectReadOnly };\n","var isSVG = function (target) { return target instanceof SVGElement && 'getBBox' in target; };\nvar isHidden = function (target) {\n    if (isSVG(target)) {\n        var _a = target.getBBox(), width = _a.width, height = _a.height;\n        return !width && !height;\n    }\n    var _b = target, offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight;\n    return !(offsetWidth || offsetHeight || target.getClientRects().length);\n};\nvar isElement = function (obj) {\n    var _a;\n    if (obj instanceof Element) {\n        return true;\n    }\n    var scope = (_a = obj === null || obj === void 0 ? void 0 : obj.ownerDocument) === null || _a === void 0 ? void 0 : _a.defaultView;\n    return !!(scope && obj instanceof scope.Element);\n};\nvar isReplacedElement = function (target) {\n    switch (target.tagName) {\n        case 'INPUT':\n            if (target.type !== 'image') {\n                break;\n            }\n        case 'VIDEO':\n        case 'AUDIO':\n        case 'EMBED':\n        case 'OBJECT':\n        case 'CANVAS':\n        case 'IFRAME':\n        case 'IMG':\n            return true;\n    }\n    return false;\n};\nexport { isSVG, isHidden, isElement, isReplacedElement };\n","export var global = typeof window !== 'undefined' ? window : {};\n","import { ResizeObserverBoxOptions } from '../ResizeObserverBoxOptions';\nimport { ResizeObserverSize } from '../ResizeObserverSize';\nimport { DOMRectReadOnly } from '../DOMRectReadOnly';\nimport { isSVG, isHidden } from '../utils/element';\nimport { freeze } from '../utils/freeze';\nimport { global } from '../utils/global';\nvar cache = new WeakMap();\nvar scrollRegexp = /auto|scroll/;\nvar verticalRegexp = /^tb|vertical/;\nvar IE = (/msie|trident/i).test(global.navigator && global.navigator.userAgent);\nvar parseDimension = function (pixel) { return parseFloat(pixel || '0'); };\nvar size = function (inlineSize, blockSize, switchSizes) {\n    if (inlineSize === void 0) { inlineSize = 0; }\n    if (blockSize === void 0) { blockSize = 0; }\n    if (switchSizes === void 0) { switchSizes = false; }\n    return new ResizeObserverSize((switchSizes ? blockSize : inlineSize) || 0, (switchSizes ? inlineSize : blockSize) || 0);\n};\nvar zeroBoxes = freeze({\n    devicePixelContentBoxSize: size(),\n    borderBoxSize: size(),\n    contentBoxSize: size(),\n    contentRect: new DOMRectReadOnly(0, 0, 0, 0)\n});\nvar calculateBoxSizes = function (target, forceRecalculation) {\n    if (forceRecalculation === void 0) { forceRecalculation = false; }\n    if (cache.has(target) && !forceRecalculation) {\n        return cache.get(target);\n    }\n    if (isHidden(target)) {\n        cache.set(target, zeroBoxes);\n        return zeroBoxes;\n    }\n    var cs = getComputedStyle(target);\n    var svg = isSVG(target) && target.ownerSVGElement && target.getBBox();\n    var removePadding = !IE && cs.boxSizing === 'border-box';\n    var switchSizes = verticalRegexp.test(cs.writingMode || '');\n    var canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || '');\n    var canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || '');\n    var paddingTop = svg ? 0 : parseDimension(cs.paddingTop);\n    var paddingRight = svg ? 0 : parseDimension(cs.paddingRight);\n    var paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom);\n    var paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft);\n    var borderTop = svg ? 0 : parseDimension(cs.borderTopWidth);\n    var borderRight = svg ? 0 : parseDimension(cs.borderRightWidth);\n    var borderBottom = svg ? 0 : parseDimension(cs.borderBottomWidth);\n    var borderLeft = svg ? 0 : parseDimension(cs.borderLeftWidth);\n    var horizontalPadding = paddingLeft + paddingRight;\n    var verticalPadding = paddingTop + paddingBottom;\n    var horizontalBorderArea = borderLeft + borderRight;\n    var verticalBorderArea = borderTop + borderBottom;\n    var horizontalScrollbarThickness = !canScrollHorizontally ? 0 : target.offsetHeight - verticalBorderArea - target.clientHeight;\n    var verticalScrollbarThickness = !canScrollVertically ? 0 : target.offsetWidth - horizontalBorderArea - target.clientWidth;\n    var widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0;\n    var heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0;\n    var contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness;\n    var contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness;\n    var borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea;\n    var borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea;\n    var boxes = freeze({\n        devicePixelContentBoxSize: size(Math.round(contentWidth * devicePixelRatio), Math.round(contentHeight * devicePixelRatio), switchSizes),\n        borderBoxSize: size(borderBoxWidth, borderBoxHeight, switchSizes),\n        contentBoxSize: size(contentWidth, contentHeight, switchSizes),\n        contentRect: new DOMRectReadOnly(paddingLeft, paddingTop, contentWidth, contentHeight)\n    });\n    cache.set(target, boxes);\n    return boxes;\n};\nvar calculateBoxSize = function (target, observedBox, forceRecalculation) {\n    var _a = calculateBoxSizes(target, forceRecalculation), borderBoxSize = _a.borderBoxSize, contentBoxSize = _a.contentBoxSize, devicePixelContentBoxSize = _a.devicePixelContentBoxSize;\n    switch (observedBox) {\n        case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:\n            return devicePixelContentBoxSize;\n        case ResizeObserverBoxOptions.BORDER_BOX:\n            return borderBoxSize;\n        default:\n            return contentBoxSize;\n    }\n};\nexport { calculateBoxSize, calculateBoxSizes };\n","import { calculateBoxSizes } from './algorithms/calculateBoxSize';\nimport { freeze } from './utils/freeze';\nvar ResizeObserverEntry = (function () {\n    function ResizeObserverEntry(target) {\n        var boxes = calculateBoxSizes(target);\n        this.target = target;\n        this.contentRect = boxes.contentRect;\n        this.borderBoxSize = freeze([boxes.borderBoxSize]);\n        this.contentBoxSize = freeze([boxes.contentBoxSize]);\n        this.devicePixelContentBoxSize = freeze([boxes.devicePixelContentBoxSize]);\n    }\n    return ResizeObserverEntry;\n}());\nexport { ResizeObserverEntry };\n","import { isHidden } from '../utils/element';\nvar calculateDepthForNode = function (node) {\n    if (isHidden(node)) {\n        return Infinity;\n    }\n    var depth = 0;\n    var parent = node.parentNode;\n    while (parent) {\n        depth += 1;\n        parent = parent.parentNode;\n    }\n    return depth;\n};\nexport { calculateDepthForNode };\n","import { resizeObservers } from '../utils/resizeObservers';\nimport { ResizeObserverEntry } from '../ResizeObserverEntry';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nimport { calculateBoxSize } from './calculateBoxSize';\nvar broadcastActiveObservations = function () {\n    var shallowestDepth = Infinity;\n    var callbacks = [];\n    resizeObservers.forEach(function processObserver(ro) {\n        if (ro.activeTargets.length === 0) {\n            return;\n        }\n        var entries = [];\n        ro.activeTargets.forEach(function processTarget(ot) {\n            var entry = new ResizeObserverEntry(ot.target);\n            var targetDepth = calculateDepthForNode(ot.target);\n            entries.push(entry);\n            ot.lastReportedSize = calculateBoxSize(ot.target, ot.observedBox);\n            if (targetDepth < shallowestDepth) {\n                shallowestDepth = targetDepth;\n            }\n        });\n        callbacks.push(function resizeObserverCallback() {\n            ro.callback.call(ro.observer, entries, ro.observer);\n        });\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n    });\n    for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {\n        var callback = callbacks_1[_i];\n        callback();\n    }\n    return shallowestDepth;\n};\nexport { broadcastActiveObservations };\n","import { resizeObservers } from '../utils/resizeObservers';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nvar gatherActiveObservationsAtDepth = function (depth) {\n    resizeObservers.forEach(function processObserver(ro) {\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n        ro.skippedTargets.splice(0, ro.skippedTargets.length);\n        ro.observationTargets.forEach(function processTarget(ot) {\n            if (ot.isActive()) {\n                if (calculateDepthForNode(ot.target) > depth) {\n                    ro.activeTargets.push(ot);\n                }\n                else {\n                    ro.skippedTargets.push(ot);\n                }\n            }\n        });\n    });\n};\nexport { gatherActiveObservationsAtDepth };\n","import { hasActiveObservations } from '../algorithms/hasActiveObservations';\nimport { hasSkippedObservations } from '../algorithms/hasSkippedObservations';\nimport { deliverResizeLoopError } from '../algorithms/deliverResizeLoopError';\nimport { broadcastActiveObservations } from '../algorithms/broadcastActiveObservations';\nimport { gatherActiveObservationsAtDepth } from '../algorithms/gatherActiveObservationsAtDepth';\nvar process = function () {\n    var depth = 0;\n    gatherActiveObservationsAtDepth(depth);\n    while (hasActiveObservations()) {\n        depth = broadcastActiveObservations();\n        gatherActiveObservationsAtDepth(depth);\n    }\n    if (hasSkippedObservations()) {\n        deliverResizeLoopError();\n    }\n    return depth > 0;\n};\nexport { process };\n","var trigger;\nvar callbacks = [];\nvar notify = function () { return callbacks.splice(0).forEach(function (cb) { return cb(); }); };\nvar queueMicroTask = function (callback) {\n    if (!trigger) {\n        var toggle_1 = 0;\n        var el_1 = document.createTextNode('');\n        var config = { characterData: true };\n        new MutationObserver(function () { return notify(); }).observe(el_1, config);\n        trigger = function () { el_1.textContent = \"\".concat(toggle_1 ? toggle_1-- : toggle_1++); };\n    }\n    callbacks.push(callback);\n    trigger();\n};\nexport { queueMicroTask };\n","import { queueMicroTask } from './queueMicroTask';\nvar queueResizeObserver = function (cb) {\n    queueMicroTask(function ResizeObserver() {\n        requestAnimationFrame(cb);\n    });\n};\nexport { queueResizeObserver };\n","import { process } from './process';\nimport { global } from './global';\nimport { queueResizeObserver } from './queueResizeObserver';\nvar watching = 0;\nvar isWatching = function () { return !!watching; };\nvar CATCH_PERIOD = 250;\nvar observerConfig = { attributes: true, characterData: true, childList: true, subtree: true };\nvar events = [\n    'resize',\n    'load',\n    'transitionend',\n    'animationend',\n    'animationstart',\n    'animationiteration',\n    'keyup',\n    'keydown',\n    'mouseup',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n    'blur',\n    'focus'\n];\nvar time = function (timeout) {\n    if (timeout === void 0) { timeout = 0; }\n    return Date.now() + timeout;\n};\nvar scheduled = false;\nvar Scheduler = (function () {\n    function Scheduler() {\n        var _this = this;\n        this.stopped = true;\n        this.listener = function () { return _this.schedule(); };\n    }\n    Scheduler.prototype.run = function (timeout) {\n        var _this = this;\n        if (timeout === void 0) { timeout = CATCH_PERIOD; }\n        if (scheduled) {\n            return;\n        }\n        scheduled = true;\n        var until = time(timeout);\n        queueResizeObserver(function () {\n            var elementsHaveResized = false;\n            try {\n                elementsHaveResized = process();\n            }\n            finally {\n                scheduled = false;\n                timeout = until - time();\n                if (!isWatching()) {\n                    return;\n                }\n                if (elementsHaveResized) {\n                    _this.run(1000);\n                }\n                else if (timeout > 0) {\n                    _this.run(timeout);\n                }\n                else {\n                    _this.start();\n                }\n            }\n        });\n    };\n    Scheduler.prototype.schedule = function () {\n        this.stop();\n        this.run();\n    };\n    Scheduler.prototype.observe = function () {\n        var _this = this;\n        var cb = function () { return _this.observer && _this.observer.observe(document.body, observerConfig); };\n        document.body ? cb() : global.addEventListener('DOMContentLoaded', cb);\n    };\n    Scheduler.prototype.start = function () {\n        var _this = this;\n        if (this.stopped) {\n            this.stopped = false;\n            this.observer = new MutationObserver(this.listener);\n            this.observe();\n            events.forEach(function (name) { return global.addEventListener(name, _this.listener, true); });\n        }\n    };\n    Scheduler.prototype.stop = function () {\n        var _this = this;\n        if (!this.stopped) {\n            this.observer && this.observer.disconnect();\n            events.forEach(function (name) { return global.removeEventListener(name, _this.listener, true); });\n            this.stopped = true;\n        }\n    };\n    return Scheduler;\n}());\nvar scheduler = new Scheduler();\nvar updateCount = function (n) {\n    !watching && n > 0 && scheduler.start();\n    watching += n;\n    !watching && scheduler.stop();\n};\nexport { scheduler, updateCount };\n","import { ResizeObserverBoxOptions } from './ResizeObserverBoxOptions';\nimport { calculateBoxSize } from './algorithms/calculateBoxSize';\nimport { isSVG, isReplacedElement } from './utils/element';\nvar skipNotifyOnElement = function (target) {\n    return !isSVG(target)\n        && !isReplacedElement(target)\n        && getComputedStyle(target).display === 'inline';\n};\nvar ResizeObservation = (function () {\n    function ResizeObservation(target, observedBox) {\n        this.target = target;\n        this.observedBox = observedBox || ResizeObserverBoxOptions.CONTENT_BOX;\n        this.lastReportedSize = {\n            inlineSize: 0,\n            blockSize: 0\n        };\n    }\n    ResizeObservation.prototype.isActive = function () {\n        var size = calculateBoxSize(this.target, this.observedBox, true);\n        if (skipNotifyOnElement(this.target)) {\n            this.lastReportedSize = size;\n        }\n        if (this.lastReportedSize.inlineSize !== size.inlineSize\n            || this.lastReportedSize.blockSize !== size.blockSize) {\n            return true;\n        }\n        return false;\n    };\n    return ResizeObservation;\n}());\nexport { ResizeObservation };\n","var ResizeObserverDetail = (function () {\n    function ResizeObserverDetail(resizeObserver, callback) {\n        this.activeTargets = [];\n        this.skippedTargets = [];\n        this.observationTargets = [];\n        this.observer = resizeObserver;\n        this.callback = callback;\n    }\n    return ResizeObserverDetail;\n}());\nexport { ResizeObserverDetail };\n","import { scheduler, updateCount } from './utils/scheduler';\nimport { ResizeObservation } from './ResizeObservation';\nimport { ResizeObserverDetail } from './ResizeObserverDetail';\nimport { resizeObservers } from './utils/resizeObservers';\nvar observerMap = new WeakMap();\nvar getObservationIndex = function (observationTargets, target) {\n    for (var i = 0; i < observationTargets.length; i += 1) {\n        if (observationTargets[i].target === target) {\n            return i;\n        }\n    }\n    return -1;\n};\nvar ResizeObserverController = (function () {\n    function ResizeObserverController() {\n    }\n    ResizeObserverController.connect = function (resizeObserver, callback) {\n        var detail = new ResizeObserverDetail(resizeObserver, callback);\n        observerMap.set(resizeObserver, detail);\n    };\n    ResizeObserverController.observe = function (resizeObserver, target, options) {\n        var detail = observerMap.get(resizeObserver);\n        var firstObservation = detail.observationTargets.length === 0;\n        if (getObservationIndex(detail.observationTargets, target) < 0) {\n            firstObservation && resizeObservers.push(detail);\n            detail.observationTargets.push(new ResizeObservation(target, options && options.box));\n            updateCount(1);\n            scheduler.schedule();\n        }\n    };\n    ResizeObserverController.unobserve = function (resizeObserver, target) {\n        var detail = observerMap.get(resizeObserver);\n        var index = getObservationIndex(detail.observationTargets, target);\n        var lastObservation = detail.observationTargets.length === 1;\n        if (index >= 0) {\n            lastObservation && resizeObservers.splice(resizeObservers.indexOf(detail), 1);\n            detail.observationTargets.splice(index, 1);\n            updateCount(-1);\n        }\n    };\n    ResizeObserverController.disconnect = function (resizeObserver) {\n        var _this = this;\n        var detail = observerMap.get(resizeObserver);\n        detail.observationTargets.slice().forEach(function (ot) { return _this.unobserve(resizeObserver, ot.target); });\n        detail.activeTargets.splice(0, detail.activeTargets.length);\n    };\n    return ResizeObserverController;\n}());\nexport { ResizeObserverController };\n","import { ResizeObserverController } from './ResizeObserverController';\nimport { isElement } from './utils/element';\nvar ResizeObserver = (function () {\n    function ResizeObserver(callback) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (typeof callback !== 'function') {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");\n        }\n        ResizeObserverController.connect(this, callback);\n    }\n    ResizeObserver.prototype.observe = function (target, options) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.observe(this, target, options);\n    };\n    ResizeObserver.prototype.unobserve = function (target) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.unobserve(this, target);\n    };\n    ResizeObserver.prototype.disconnect = function () {\n        ResizeObserverController.disconnect(this);\n    };\n    ResizeObserver.toString = function () {\n        return 'function ResizeObserver () { [polyfill code] }';\n    };\n    return ResizeObserver;\n}());\nexport { ResizeObserver };\n","import React from 'react';\nconst usePassiveLayoutEffect = React[typeof document !== 'undefined' && document.createElement !== void 0 ? 'useLayoutEffect' : 'useEffect'];\nexport default usePassiveLayoutEffect;","import * as React from 'react';\n\nconst useLatest = current => {\n  const storedValue = React.useRef(current);\n  React.useEffect(() => {\n    storedValue.current = current;\n  });\n  return storedValue;\n};\n\nexport default useLatest;","/* eslint-disable no-return-assign */\n\n/* eslint-disable no-underscore-dangle */\nimport { ResizeObserver as Polyfill } from '@juggle/resize-observer';\nimport useLayoutEffect from '@react-hook/passive-layout-effect';\nimport useLatest from '@react-hook/latest';\nconst ResizeObserver = typeof window !== 'undefined' && 'ResizeObserver' in window ? // @ts-ignore\nwindow.ResizeObserver : Polyfill;\n/**\n * A React hook that fires a callback whenever ResizeObserver detects a change to its size\n *\n * @param target A React ref created by `useRef()` or an HTML element\n * @param callback Invoked with a single `ResizeObserverEntry` any time\n *   the `target` resizes\n */\n\nfunction _ref() {}\n\nfunction useResizeObserver(target, callback) {\n  const resizeObserver = getResizeObserver();\n  const storedCallback = useLatest(callback);\n  useLayoutEffect(() => {\n    let didUnsubscribe = false;\n    const targetEl = target && 'current' in target ? target.current : target;\n    if (!targetEl) return _ref;\n\n    function cb(entry, observer) {\n      if (didUnsubscribe) return;\n      storedCallback.current(entry, observer);\n    }\n\n    resizeObserver.subscribe(targetEl, cb);\n    return () => {\n      didUnsubscribe = true;\n      resizeObserver.unsubscribe(targetEl, cb);\n    };\n  }, [target, resizeObserver, storedCallback]);\n  return resizeObserver.observer;\n}\n\nfunction createResizeObserver() {\n  let ticking = false;\n  let allEntries = [];\n  const callbacks = new Map();\n  const observer = new ResizeObserver((entries, obs) => {\n    allEntries = allEntries.concat(entries);\n\n    function _ref2() {\n      const triggered = new Set();\n\n      for (let i = 0; i < allEntries.length; i++) {\n        if (triggered.has(allEntries[i].target)) continue;\n        triggered.add(allEntries[i].target);\n        const cbs = callbacks.get(allEntries[i].target);\n        cbs === null || cbs === void 0 ? void 0 : cbs.forEach(cb => cb(allEntries[i], obs));\n      }\n\n      allEntries = [];\n      ticking = false;\n    }\n\n    if (!ticking) {\n      window.requestAnimationFrame(_ref2);\n    }\n\n    ticking = true;\n  });\n  return {\n    observer,\n\n    subscribe(target, callback) {\n      var _callbacks$get;\n\n      observer.observe(target);\n      const cbs = (_callbacks$get = callbacks.get(target)) !== null && _callbacks$get !== void 0 ? _callbacks$get : [];\n      cbs.push(callback);\n      callbacks.set(target, cbs);\n    },\n\n    unsubscribe(target, callback) {\n      var _callbacks$get2;\n\n      const cbs = (_callbacks$get2 = callbacks.get(target)) !== null && _callbacks$get2 !== void 0 ? _callbacks$get2 : [];\n\n      if (cbs.length === 1) {\n        observer.unobserve(target);\n        callbacks.delete(target);\n        return;\n      }\n\n      const cbIndex = cbs.indexOf(callback);\n      if (cbIndex !== -1) cbs.splice(cbIndex, 1);\n      callbacks.set(target, cbs);\n    }\n\n  };\n}\n\nlet _resizeObserver;\n\nconst getResizeObserver = () => !_resizeObserver ? _resizeObserver = createResizeObserver() : _resizeObserver;\n\nexport default useResizeObserver;","import React, { useRef, useState } from 'react'\nimport IconSvg from '../IconSvg'\nimport useResizeObserver from '@react-hook/resize-observer'\n\nexport default function ExpandableTableDataCell(\n  props: JSX.IntrinsicElements['td'],\n) {\n  const [isExpanded, setIsExpanded] = useState(false)\n  const [isOverflowingWhenNotExpanded, setIsOverflowingWhenNotExpanded] =\n    useState(false)\n  const tdRef = useRef<HTMLTableDataCellElement | null>(null)\n\n  /**\n   * When the cell is resized, check if it is overflowing.\n   */\n  useResizeObserver(tdRef, ({ target }) => {\n    // Don't check overflow if the cell has been expanded by the user!\n    if (!isExpanded) {\n      if (target) {\n        /**\n         * TODO: Not all content elements are <p> tags\n         *\n         * Doing this \"right\" would require a major SynapseTableCell refactor.\n         * Should we forward a ref to the <p>? Should we not wrap content so the `td` gets the correct scrollWidth?\n         *\n         * Note that the CSS also assumes that the table cell content is always wrapped in a <p>\n         */\n        const contentElement = target.getElementsByTagName('p')[0]\n        if (contentElement) {\n          setIsOverflowingWhenNotExpanded(\n            contentElement.scrollHeight > contentElement.clientHeight ||\n              contentElement.scrollWidth > contentElement.clientWidth,\n          )\n        }\n      }\n    }\n  })\n\n  return (\n    <td\n      {...props}\n      className={`ExpandableTableData ${\n        props.className ? props.className : ''\n      }`}\n      aria-expanded={isExpanded}\n      ref={tdRef}\n    >\n      {isOverflowingWhenNotExpanded && (\n        <button\n          className=\"ExpandableTableData__expandButton\"\n          onClick={() => setIsExpanded(!isExpanded)}\n        >\n          <IconSvg\n            icon={isExpanded ? 'minusBoxOutline' : 'addBoxOutline'}\n            sx={{\n              color: 'grey.600',\n              height: '16px',\n              verticalAlign: 'top',\n            }}\n          ></IconSvg>\n        </button>\n      )}\n      {props.children}\n    </td>\n  )\n}\n","import ColumnResizer from 'column-resizer'\nimport { cloneDeep, eq } from 'lodash-es'\nimport * as React from 'react'\nimport { Modal } from 'react-bootstrap'\nimport { SynapseClient } from '../../utils'\nimport {\n  hasFilesInView,\n  isDataset,\n  isDatasetCollection,\n  isEntityView,\n} from '../../utils/functions/EntityTypeUtils'\nimport { PRODUCTION_ENDPOINT_CONFIG } from '../../utils/functions/getEndpoint'\nimport { getUserProfileWithProfilePicAttached } from '../../utils/functions/getUserData'\nimport { SynapseContextType } from '../../utils/SynapseContext'\nimport {\n  ColumnModel,\n  ColumnType,\n  ColumnTypeEnum,\n  EntityHeader,\n  FacetColumnRequest,\n  FacetColumnResult,\n  FacetColumnResultValues,\n  QueryBundleRequest,\n  ReferenceList,\n  Row,\n  SelectColumn,\n  SortItem,\n  UserGroupHeader,\n  UserProfile,\n} from '../../utils/synapseTypes/'\nimport AddToDownloadListV2 from '../AddToDownloadListV2'\nimport { LabelLinkConfig } from '../CardContainerLogic'\nimport DirectDownload from '../DirectDownload'\nimport { HasAccessV2 } from '../access_requirements/HasAccessV2'\nimport loadingScreen from '../LoadingScreen'\nimport ModalDownload from '../ModalDownload'\nimport { QueryVisualizationContextType } from '../QueryVisualizationWrapper'\nimport { QueryContextType } from '../QueryContext'\nimport { Icon } from '../row_renderers/utils'\nimport { SynapseTableCell } from '../synapse_table_functions/SynapseTableCell'\nimport { Checkbox } from '../widgets/Checkbox'\nimport { EnumFacetFilter } from '../widgets/query-filter/EnumFacetFilter'\nimport {\n  applyChangesToValuesColumn,\n  applyMultipleChangesToValuesColumn,\n} from '../widgets/query-filter/FacetFilterControls'\nimport { ICON_STATE } from './SynapseTableConstants'\nimport {\n  getColumnIndicesWithType,\n  getUniqueEntities,\n} from './SynapseTableUtils'\nimport { TablePagination } from './TablePagination'\nimport EntityIDColumnCopyIcon from './EntityIDColumnCopyIcon'\nimport ExpandableTableDataCell from './ExpandableTableDataCell'\n\ntype Direction = '' | 'ASC' | 'DESC'\nexport const SORT_STATE: Direction[] = ['', 'DESC', 'ASC']\nexport const DOWNLOAD_OPTIONS_CONTAINER_CLASS = 'SRC-download-options-container'\nconst RESIZER_OPTIONS: any = {\n  resizeMode: 'overflow',\n  partialRefresh: 'true',\n  liveDrag: true,\n  headerOnly: 'true',\n}\ntype Info = {\n  index: number\n  name: string\n}\n\nexport type SynapseTableState = {\n  sortedColumnSelection: SortItem[]\n  columnIconSortState: number[]\n  isExportTableDownloadOpen: boolean\n  isExpanded: boolean\n  mapEntityIdToHeader: Record<string, EntityHeader>\n  mapUserIdToHeader: Record<string, Partial<UserGroupHeader & UserProfile>>\n  isColumnSelectionOpen: boolean\n  isFetchingEntityHeaders: boolean\n}\n\nexport type SynapseTableProps = {\n  synapseContext: SynapseContextType\n  queryContext: QueryContextType\n  queryVisualizationContext: QueryVisualizationContextType\n  title?: string\n  showAccessColumn?: boolean\n  showDownloadColumn?: boolean\n  columnLinks?: LabelLinkConfig\n  hideDownload?: boolean\n  isRowSelectionVisible?: boolean\n}\n\nexport default class SynapseTable extends React.Component<\n  SynapseTableProps,\n  SynapseTableState\n> {\n  constructor(props: SynapseTableProps) {\n    super(props)\n    this.componentDidMount = this.componentDidMount.bind(this)\n    this.componentWillUnmount = this.componentWillUnmount.bind(this)\n    this.componentDidUpdate = this.componentDidUpdate.bind(this)\n    this.shouldComponentUpdate = this.shouldComponentUpdate.bind(this)\n    this.handleColumnSortPress = this.handleColumnSortPress.bind(this)\n    this.findSelectionIndex = this.findSelectionIndex.bind(this)\n    this.advancedSearch = this.advancedSearch.bind(this)\n    this.getLengthOfPropsData = this.getLengthOfPropsData.bind(this)\n    this.configureFacetDropdown = this.configureFacetDropdown.bind(this)\n    this.enableResize = this.enableResize.bind(this)\n    this.disableResize = this.disableResize.bind(this)\n    this.isEntityViewOrDataset = this.isEntityViewOrDataset.bind(this)\n    this.allRowsHaveId = this.allRowsHaveId.bind(this)\n\n    // store the offset and sorted selection that is currently held\n    this.state = {\n      /* columnIconSortState tells what icon to display for a table\n         header. There are three states for a particular header-\n          0 - show descending icon but *deselected*\n          1 - show descending icon selected\n          2 - show ascending icon selected\n      */\n      columnIconSortState: [],\n      isExportTableDownloadOpen: false,\n      isExpanded: false,\n      isColumnSelectionOpen: false,\n      // sortedColumnSelection contains the columns which are\n      // selected currently and their sort status as eithet\n      // off, desc, or asc.\n      sortedColumnSelection: [],\n      mapEntityIdToHeader: {},\n      mapUserIdToHeader: {},\n      isFetchingEntityHeaders: false,\n    }\n    this.getEntityHeadersInData = this.getEntityHeadersInData.bind(this)\n  }\n\n  // instance variables\n  resizer: any\n  tableElement: HTMLTableElement | null | undefined = undefined\n\n  componentWillUnmount() {\n    this.disableResize()\n  }\n\n  componentDidMount() {\n    this.getEntityHeadersInData(true)\n    this.enableResize()\n  }\n\n  shouldComponentUpdate(\n    nextProps: SynapseTableProps,\n    nextState: Readonly<SynapseTableState>,\n  ): boolean {\n    // ignore isFetching state variables when checking for change in state\n    const {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      isFetchingEntityHeaders: oldIsFetchingEntityHeaders,\n      ...oldState\n    } = this.state\n    const {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      isFetchingEntityHeaders: newIsFetchingEntityHeaders,\n      ...newState\n    } = nextState\n    const isPropsChange = !eq(this.props, nextProps)\n    const isStateChange = !eq(oldState, newState)\n    const shouldComponentUpdate = isPropsChange || isStateChange\n    if (shouldComponentUpdate) {\n      this.disableResize()\n    }\n    return shouldComponentUpdate\n  }\n  componentDidUpdate(\n    prevProps: SynapseTableProps,\n    prevState: Readonly<SynapseTableState>,\n  ) {\n    // PORTALS-2081: if the data changed, then get the new entity headers\n    if (!eq(prevProps.queryContext.data, this.props.queryContext.data)) {\n      this.getEntityHeadersInData(false)\n    } else if (\n      prevProps.queryContext.entity &&\n      this.props.queryContext.entity &&\n      !eq(\n        isEntityView(prevProps.queryContext.entity),\n        isEntityView(this.props.queryContext.entity),\n      )\n    ) {\n      // if we determined that this is an entity view, force refresh the entity headers (for Views we need to get the rowIds!)\n      this.getEntityHeadersInData(true)\n    }\n    this.enableResize()\n  }\n\n  enableResize() {\n    if (!this.resizer) {\n      // only create the resizer if the tableElement is in the DOM and there's more than one select column in the data.\n      if (this.tableElement && this.getLengthOfPropsData() > 1) {\n        this.resizer = new ColumnResizer(this.tableElement, RESIZER_OPTIONS)\n      }\n    } else {\n      // TODO: use event driven solution instead of timeout.\n      // We need to give SynapseTableCell time to render (which will change the column size).\n      // Alternatively, we may be able to use SizeMe (or withSize() on Cell component) to respond to width change.\n      setTimeout(() => {\n        this.resizer.reset(RESIZER_OPTIONS)\n      }, 1000)\n    }\n  }\n\n  disableResize() {\n    if (this.resizer) {\n      this.resizer.reset({ disable: true })\n    }\n  }\n\n  public async getEntityHeadersInData(forceRefresh: boolean) {\n    const { data, entity } = this.props.queryContext\n    if (!data || !entity) {\n      return\n    } else if (this.state.isFetchingEntityHeaders && !forceRefresh) {\n      return\n    }\n    const mapEntityIdToHeader = cloneDeep(this.state.mapEntityIdToHeader)\n    const mapUserIdToHeader = cloneDeep(this.state.mapUserIdToHeader)\n    const entityIdColumnIndicies = getColumnIndicesWithType(\n      data,\n      ColumnTypeEnum.ENTITYID,\n    )\n    const userIdColumnIndicies = getColumnIndicesWithType(\n      data,\n      ColumnTypeEnum.USERID,\n    )\n\n    const distinctEntityIds = getUniqueEntities(\n      data,\n      mapEntityIdToHeader,\n      entityIdColumnIndicies,\n    )\n    // also include row entity ids if this is a view (it's possible that the ID column was not selected)\n    if (\n      (this.isEntityViewOrDataset() ||\n        (entity && isDatasetCollection(entity))) &&\n      this.allRowsHaveId()\n    ) {\n      const rows = data.queryResult?.queryResults?.rows ?? []\n      rows.forEach((row: Row) => {\n        const rowSynapseId = `syn${row.rowId}`\n        distinctEntityIds.add(rowSynapseId)\n      })\n    }\n    const distinctUserIds = getUniqueEntities(\n      data,\n      mapUserIdToHeader,\n      userIdColumnIndicies,\n    )\n    if (distinctEntityIds.size === 0 && distinctUserIds.size === 0) {\n      return\n    }\n    this.setState({\n      isFetchingEntityHeaders: true,\n    })\n    // Make call to resolve entity ids\n    if (distinctEntityIds.size > 0) {\n      const referenceList: ReferenceList = Array.from(distinctEntityIds).map(\n        id => {\n          return { targetId: id }\n        },\n      )\n      try {\n        const data = await SynapseClient.getEntityHeaders(\n          referenceList,\n          this.props.synapseContext.accessToken,\n        )\n        const { results } = data\n        results.forEach(el => {\n          mapEntityIdToHeader[el.id] = el\n        })\n      } catch (err) {\n        console.error('Error on retrieving entity header list , ', err)\n      }\n    }\n    const userProfileIds: string[] = []\n    if (distinctUserIds.size > 0) {\n      // Make call to get group headers and user profiles\n      const ids = Array.from(distinctUserIds)\n      // TODO: Grab Team Badge\n      try {\n        const data = await SynapseClient.getGroupHeadersBatch(\n          ids,\n          this.props.synapseContext.accessToken,\n        )\n        data.children.forEach(el => {\n          if (el.isIndividual) {\n            userProfileIds.push(el.ownerId)\n          } else {\n            mapUserIdToHeader[el.ownerId] = el\n          }\n        })\n      } catch (err) {\n        console.error('Error on getGroupHeaders batch: ', err)\n      }\n    }\n    if (userProfileIds.length > 0) {\n      try {\n        const data = await getUserProfileWithProfilePicAttached(userProfileIds)\n        data.list.forEach((el: UserProfile) => {\n          mapUserIdToHeader[el.ownerId] = el\n        })\n      } catch (err) {\n        console.error('Error on getUserProfile : ', err)\n      }\n    }\n    this.setState({\n      mapEntityIdToHeader,\n      mapUserIdToHeader,\n      isFetchingEntityHeaders: false,\n    })\n  }\n\n  /**\n   * Display the view\n   */\n  public render() {\n    if (\n      !this.props.queryContext.data &&\n      this.props.queryContext.isLoadingNewBundle\n    ) {\n      return loadingScreen\n    } else if (!this.props.queryContext.data) {\n      return <></>\n    }\n    // unpack all the data\n    const {\n      queryContext: { data },\n      queryVisualizationContext: { NoContentPlaceholder },\n    } = this.props\n    const { queryResult, columnModels = [] } = data\n    const { facets = [] } = data\n    const { isExpanded, isExportTableDownloadOpen } = this.state\n    const queryRequest = this.props.queryContext.getLastQueryRequest()\n    const className = ''\n    const hasResults = (data.queryResult?.queryResults.rows.length ?? 0) > 0\n    // Show the No Results UI if the current page has no rows, and this is the first page of data (offset === 0).\n    if (!hasResults && queryRequest.query.offset === 0) {\n      return <NoContentPlaceholder />\n    }\n\n    const { rows, headers } = queryResult!.queryResults\n\n    const table = (\n      <div>{this.renderTable(headers, columnModels, facets, rows)}</div>\n    )\n    const content = (\n      <>\n        <div className={className}>\n          {isExportTableDownloadOpen && (\n            <ModalDownload\n              onClose={() => {\n                this.setState({\n                  isExportTableDownloadOpen: false,\n                })\n              }}\n              queryBundleRequest={queryRequest}\n            />\n          )}\n          {/* FRAGILE, CHANGE WITH CAUTION, see - https://sagebionetworks.jira.com/browse/PORTALS-1539 */}\n          <div>{table}</div>\n        </div>\n      </>\n    )\n    return (\n      <React.Fragment>\n        {isExpanded && (\n          <Modal\n            animation={false}\n            show={true}\n            // @ts-ignore\n            onHide={() => this.setState({ isExpanded: false })}\n            dialogClassName={'modal-90w'}\n            backdrop=\"static\"\n          >\n            <Modal.Header\n              // @ts-ignore\n              onHide={() => this.setState({ isExpanded: false })}\n              closeButton={true}\n            ></Modal.Header>\n            <Modal.Body>{content}</Modal.Body>\n          </Modal>\n        )}\n        {!isExpanded && content}\n      </React.Fragment>\n    )\n  }\n\n  /**\n   * If this is a view/dataset and rows have an ID, then rows represent individual objects in Synapse.\n   * Presence of row IDs also indicates that the query is also necessarily not summary data, e.g. the query does\n   * not include an operation like GROUP BY, DISTINCT, etc., that would cause rows to not map 1:1 to Synapse Entities\n   */\n  private allRowsHaveId(): boolean {\n    const {\n      queryContext: { data },\n    } = this.props\n    return (\n      data?.queryResult?.queryResults.rows.every(row => !!row.rowId) ?? false\n    )\n  }\n\n  private isEntityViewOrDataset(): boolean {\n    const {\n      queryContext: { entity },\n    } = this.props\n    return (entity && (isEntityView(entity) || isDataset(entity))) ?? false\n  }\n\n  private renderTable = (\n    headers: SelectColumn[],\n    columnModels: ColumnModel[],\n    facets: FacetColumnResult[],\n    rows: Row[],\n  ) => {\n    const lastQueryRequest = this.props.queryContext.getLastQueryRequest?.()!\n    const {\n      queryContext: { entity },\n      showAccessColumn,\n      showDownloadColumn,\n      isRowSelectionVisible,\n    } = this.props\n\n    /**\n     * i.e. the view may have FileEntities in it\n     *\n     * PORTALS-2010:  Enhance change made for PORTALS-1973.  File specific action will only be shown for rows that represent FileEntities.\n     */\n    const isFileViewOrDataset =\n      entity &&\n      ((isEntityView(entity) && hasFilesInView(entity)) || isDataset(entity))\n\n    const isShowingAccessColumn: boolean | undefined =\n      showAccessColumn &&\n      entity &&\n      this.isEntityViewOrDataset() &&\n      this.allRowsHaveId()\n    const isLoggedIn = !!this.props.synapseContext.accessToken\n\n    const rowsAreDownloadable =\n      entity && isFileViewOrDataset && isLoggedIn && this.allRowsHaveId()\n\n    const isShowingAddToV2DownloadListColumn: boolean = !!(\n      rowsAreDownloadable && !this.props.hideDownload\n    )\n\n    const isShowingDirectDownloadColumn =\n      rowsAreDownloadable && showDownloadColumn\n\n    /* min height ensure if no rows are selected that a dropdown menu is still accessible */\n    return (\n      <div className=\"SynapseTable SRC-overflowAuto\" data-testid=\"SynapseTable\">\n        <table\n          ref={node => (this.tableElement = node)}\n          className=\"table table-striped table-condensed\"\n        >\n          <thead className=\"SRC_bordered\">\n            <tr>\n              {this.createTableHeader(\n                headers,\n                columnModels,\n                facets,\n                isShowingAccessColumn,\n                isShowingDirectDownloadColumn,\n                isShowingAddToV2DownloadListColumn,\n                isRowSelectionVisible,\n                lastQueryRequest,\n              )}\n            </tr>\n          </thead>\n          <tbody>\n            {this.createTableRows(\n              rows,\n              headers,\n              isShowingAccessColumn,\n              isShowingDirectDownloadColumn,\n              isShowingAddToV2DownloadListColumn,\n              isRowSelectionVisible,\n            )}\n          </tbody>\n        </table>\n        <div className=\"bootstrap-4-backport\" style={{ textAlign: 'right' }}>\n          <TablePagination />\n        </div>\n      </div>\n    )\n  }\n\n  /**\n   * Handle a column having been selected\n   *\n   * @memberof SynapseTable\n   */\n  public handleColumnSortPress = (dict: Info) => (_: React.SyntheticEvent) => {\n    // by using Synthetic event we can use the handler on both key press and mouse click\n    let columnIconSortState = cloneDeep(this.state.columnIconSortState)\n    if (columnIconSortState.length === 0) {\n      columnIconSortState = Array(this.getLengthOfPropsData()).fill(0)\n    }\n    // get currently sorted items and remove/insert/update this selection\n    const sortedColumnSelection = cloneDeep(this.state.sortedColumnSelection)\n    const index = this.findSelectionIndex(sortedColumnSelection, dict.name)\n    // if its present then remove it\n    if (index !== -1) {\n      sortedColumnSelection.splice(index, 1)\n    }\n    columnIconSortState[dict.index] =\n      (columnIconSortState[dict.index] + 1) % ICON_STATE.length\n    if (columnIconSortState[dict.index] > 0) {\n      sortedColumnSelection.unshift({\n        column: dict.name,\n        direction: SORT_STATE[columnIconSortState[dict.index]],\n      })\n    }\n    const queryRequest = this.props.queryContext.getLastQueryRequest()\n    queryRequest.query.sort = sortedColumnSelection\n    queryRequest.query.offset = 0\n    this.props.queryContext.executeQueryRequest(queryRequest)\n    this.setState({\n      columnIconSortState,\n      sortedColumnSelection,\n    })\n  }\n\n  private createTableRows(\n    rows: Row[],\n    headers: SelectColumn[],\n    isShowingAccessColumn: boolean | undefined,\n    isShowingDownloadColumn: boolean | undefined,\n    isShowingAddToV2DownloadListColumn: boolean,\n    isRowSelectionVisible: boolean | undefined,\n  ) {\n    const rowsFormatted: JSX.Element[] = []\n    const {\n      queryContext: { data },\n      queryVisualizationContext: {\n        columnsToShowInTable,\n        selectedRowIndices,\n        setSelectedRowIndices,\n      },\n      columnLinks = [],\n    } = this.props\n    const { selectColumns = [], columnModels = [] } = data!\n    const { mapEntityIdToHeader, mapUserIdToHeader } = this.state\n\n    rows.forEach((row, rowIndex) => {\n      const entityVersionNumber = row.versionNumber?.toString()\n      const rowSynapseId = `syn${row.rowId}`\n\n      const rowContent = row.values.map(\n        (columnValue: string | null, colIndex: number) => {\n          const columnName = headers[colIndex].name\n          const isColumnActive = columnsToShowInTable.includes(columnName)\n          const columnLinkConfig = columnLinks.find(el => {\n            return el.matchColumnName === columnName\n          })\n          const index = this.findSelectionIndex(\n            this.state.sortedColumnSelection,\n            columnName,\n          )\n          const isBold = index === -1 ? '' : 'SRC-boldText'\n          if (isColumnActive) {\n            return (\n              <ExpandableTableDataCell\n                className=\"SRC_noBorderTop\"\n                key={`(${rowIndex}${columnValue}${colIndex})`}\n              >\n                <SynapseTableCell\n                  columnType={headers[colIndex].columnType}\n                  columnValue={columnValue}\n                  isBold={isBold}\n                  mapEntityIdToHeader={mapEntityIdToHeader}\n                  mapUserIdToHeader={mapUserIdToHeader}\n                  columnLinkConfig={columnLinkConfig}\n                  columnName={columnName}\n                  rowData={row.values}\n                  selectColumns={selectColumns}\n                  columnModels={columnModels}\n                  rowId={row.rowId}\n                  rowVersionNumber={row.versionNumber}\n                />\n              </ExpandableTableDataCell>\n            )\n          }\n          return <td className=\"SRC-hidden\" key={`(${rowIndex},${colIndex})`} />\n        },\n      )\n\n      // also push the access column value if we are showing user access for individual items (still shown if not logged in)\n      if (isShowingAccessColumn) {\n        rowContent.unshift(\n          <td key={rowSynapseId} className=\"SRC_noBorderTop\">\n            <HasAccessV2\n              key={rowSynapseId}\n              entityId={rowSynapseId}\n              entityVersionNumber={entityVersionNumber}\n            />\n          </td>,\n        )\n      }\n      const isFileEntity: boolean =\n        mapEntityIdToHeader[rowSynapseId]?.type ==\n        'org.sagebionetworks.repo.model.FileEntity'\n      if (isShowingDownloadColumn) {\n        // SWC-5790: If this is a FileEntity, the download icon should just go to entity page\n        rowContent.unshift(\n          <td\n            key={`direct-download-${rowSynapseId}`}\n            className=\"SRC_noBorderTop direct-download\"\n          >\n            {isFileEntity && (\n              <DirectDownload\n                associatedObjectId={rowSynapseId}\n                entityVersionNumber={entityVersionNumber}\n              ></DirectDownload>\n            )}\n          </td>,\n        )\n      }\n      if (isShowingAddToV2DownloadListColumn) {\n        rowContent.unshift(\n          <td\n            key={`add-to-download-list-v2-${rowSynapseId}`}\n            className=\"SRC_noBorderTop add-to-download-list-v2\"\n          >\n            {isFileEntity && (\n              <AddToDownloadListV2\n                entityId={rowSynapseId}\n                entityVersionNumber={parseInt(entityVersionNumber!)}\n              ></AddToDownloadListV2>\n            )}\n          </td>,\n        )\n      }\n\n      if (isRowSelectionVisible && selectedRowIndices) {\n        rowContent.unshift(\n          <td key={`(${rowIndex},rowSelectColumn)`} className=\"SRC_noBorderTop\">\n            <Checkbox\n              label=\"\"\n              checked={selectedRowIndices.includes(rowIndex)}\n              onChange={(checked: boolean) => {\n                const cloneSelectedRowIndices = [...selectedRowIndices]\n                if (checked) {\n                  cloneSelectedRowIndices.push(rowIndex)\n                } else {\n                  const index = cloneSelectedRowIndices.indexOf(rowIndex)\n                  if (index > -1) {\n                    cloneSelectedRowIndices.splice(index, 1)\n                  }\n                }\n                // update context on change\n                setSelectedRowIndices(cloneSelectedRowIndices)\n              }}\n            ></Checkbox>\n          </td>,\n        )\n      }\n\n      const rowFormatted = <tr key={row.rowId ?? rowIndex}>{rowContent}</tr>\n      rowsFormatted.push(rowFormatted)\n    })\n    return rowsFormatted\n  }\n\n  public isSortableColumn(column: ColumnType) {\n    switch (column) {\n      case ColumnTypeEnum.USERID:\n      case ColumnTypeEnum.ENTITYID:\n      case ColumnTypeEnum.FILEHANDLEID:\n      case ColumnTypeEnum.STRING_LIST:\n      case ColumnTypeEnum.INTEGER_LIST:\n      case ColumnTypeEnum.BOOLEAN_LIST:\n      case ColumnTypeEnum.DATE_LIST:\n      case ColumnTypeEnum.USERID_LIST:\n      case ColumnTypeEnum.ENTITYID_LIST:\n        return false\n      default:\n        return true\n    }\n  }\n\n  private createTableHeader(\n    headers: SelectColumn[],\n    columnModels: ColumnModel[],\n    facets: FacetColumnResult[],\n    isShowingAccessColumn: boolean | undefined,\n    isShowingDownloadColumn: boolean | undefined,\n    isShowingAddToV2DownloadListColumn: boolean,\n    isRowSelectionVisible: boolean | undefined,\n    lastQueryRequest: QueryBundleRequest,\n  ) {\n    const { sortedColumnSelection, columnIconSortState } = this.state\n    const {\n      queryVisualizationContext: { getColumnDisplayName, columnsToShowInTable },\n      queryContext: { lockedColumn },\n    } = this.props\n    const tableColumnHeaderElements: JSX.Element[] = headers.map(\n      (column: SelectColumn, index: number) => {\n        const isHeaderSelected = columnsToShowInTable.includes(column.name)\n        if (isHeaderSelected) {\n          // for background color\n          const isSelected: boolean =\n            this.findSelectionIndex(sortedColumnSelection, column.name) !== -1\n          // for icon state\n          const columnIndex: number =\n            columnIconSortState[index] === undefined\n              ? 0\n              : columnIconSortState[index]\n          // we have to figure out if the current column is a facet selection\n          const facetIndex: number = facets.findIndex(\n            (facetColumnResult: FacetColumnResult) => {\n              return facetColumnResult.columnName === column.name\n            },\n          )\n          // the header must be included in the facets and it has to be enumerable for current rendering capabilities\n          const isFacetSelection: boolean =\n            facetIndex !== -1 && facets[facetIndex].facetType === 'enumeration'\n          const facet = facets[facetIndex] as FacetColumnResultValues\n          const isSelectedSpanClass = isSelected\n            ? 'SRC-primary-background-color SRC-anchor-light'\n            : ''\n          const isSelectedIconClass = isSelected\n            ? 'SRC-selected-table-icon tool-icon'\n            : 'SRC-primary-text-color tool-icon'\n          const sortSpanBackgoundClass = `SRC-tableHead SRC-hand-cursor SRC-sortPadding SRC-primary-background-color-hover  ${isSelectedSpanClass}`\n          const displayColumnName: string | undefined = getColumnDisplayName(\n            column.name,\n          )\n          const columnModel = columnModels.find(el => el.name === column.name)!\n          const isLockedColumn =\n            column.name.toLowerCase() ===\n            lockedColumn?.columnName?.toLowerCase() // used in details page to disable filter the column\n          const isEntityIDColumn =\n            columnModel &&\n            columnModel.name == 'id' &&\n            columnModel.columnType == ColumnTypeEnum.ENTITYID\n          return (\n            <th key={column.name}>\n              <div className=\"SRC-split\">\n                <span style={{ whiteSpace: 'nowrap' }}>\n                  {displayColumnName}\n                </span>\n                <div className=\"SRC-centerContent\">\n                  {isFacetSelection &&\n                    !isLockedColumn &&\n                    this.configureFacetDropdown(\n                      facet,\n                      columnModel,\n                      lastQueryRequest,\n                    )}\n                  {this.isSortableColumn(column.columnType) && (\n                    <span\n                      role=\"button\"\n                      aria-label=\"sort\"\n                      tabIndex={0}\n                      className={sortSpanBackgoundClass}\n                      onKeyPress={this.handleColumnSortPress({\n                        index,\n                        name: column.name,\n                      })}\n                      onClick={this.handleColumnSortPress({\n                        index,\n                        name: column.name,\n                      })}\n                    >\n                      <Icon\n                        type={ICON_STATE[columnIndex]}\n                        cssClass={isSelectedIconClass}\n                      ></Icon>\n                    </span>\n                  )}\n                  {isEntityIDColumn && <EntityIDColumnCopyIcon />}\n                </div>\n              </div>\n            </th>\n          )\n        } else {\n          return <th className=\"SRC-hidden\" key={column.name} />\n        }\n      },\n    )\n    // also push the access column if we are showing user access for individual items (must be logged in)\n    if (isShowingAccessColumn) {\n      tableColumnHeaderElements.unshift(\n        <th key=\"accessColumn\">\n          <div className=\"SRC-centerContent\">\n            <span style={{ whiteSpace: 'nowrap' }}>Access</span>\n          </div>\n        </th>,\n      )\n    }\n    // add direct download column if logged in\n    if (isShowingDownloadColumn) {\n      tableColumnHeaderElements.unshift(\n        <th key=\"downloadColumn\">\n          <div className=\"SRC-centerContent\">&nbsp;</div>\n        </th>,\n      )\n    }\n    if (isShowingAddToV2DownloadListColumn) {\n      tableColumnHeaderElements.unshift(\n        <th\n          data-testid=\"AddToDownloadListV2ColumnHeader\"\n          key=\"addToV2DownloadListColumn\"\n        >\n          <div className=\"SRC-centerContent\">&nbsp;</div>\n        </th>,\n      )\n    }\n    if (isRowSelectionVisible) {\n      tableColumnHeaderElements.unshift(\n        <th key=\"rowSelectionColumn\">\n          <div className=\"SRC-centerContent\">{/* checkboxes column */}</div>\n        </th>,\n      )\n    }\n    return tableColumnHeaderElements\n  }\n\n  /**\n   * Utility to search through array of objects and find object with key \"column\"\n   * equal to input parameter \"name\"\n   *\n   * @param {*} sortedColumnSelection\n   * @param {*} name\n   * @returns -1 if not present, otherwise the index of the object\n   * @memberof SynapseTable\n   */\n  private findSelectionIndex(sortedColumnSelection: SortItem[], name: string) {\n    if (sortedColumnSelection.length !== 0) {\n      // find if the current selection exists already and remove it\n      return sortedColumnSelection.findIndex(\n        (el: SortItem) => el.column === name,\n      )\n    }\n    return -1\n  }\n\n  // Direct user to corresponding query on synapse\n  private advancedSearch(event: React.SyntheticEvent) {\n    event && event.preventDefault()\n    const lastQueryRequest = this.props.queryContext.getLastQueryRequest()\n    const { query } = lastQueryRequest\n    // base 64 encode the json of the query and go to url with the encoded object\n    const encodedQuery = btoa(JSON.stringify(query))\n    const synTable = lastQueryRequest.entityId\n    window.open(\n      `${PRODUCTION_ENDPOINT_CONFIG.PORTAL}#!Synapse:${synTable}/tables/query/${encodedQuery}`,\n      '_blank',\n    )\n  }\n\n  private getLengthOfPropsData() {\n    const { data } = this.props.queryContext\n    return data?.queryResult?.queryResults.headers.length ?? 0\n  }\n\n  /**\n   * Show the dropdown menu for a column that has been faceted\n   *\n   * @param {number} index this is column index of the query table data\n   * @param {string} columnName this is the name of the column\n   * @param {FacetColumnResult[]} facetColumnResults\n   * @param {number} facetIndex\n   * @returns\n   * @memberof SynapseTable\n   */\n  public configureFacetDropdown(\n    facetColumnResult: FacetColumnResultValues,\n    columnModel: ColumnModel,\n    lastQueryRequest: QueryBundleRequest,\n  ) {\n    return (\n      <EnumFacetFilter\n        containerAs=\"Dropdown\"\n        facetValues={facetColumnResult.facetValues}\n        columnModel={columnModel}\n        onChange={(facetNamesMap: Record<string, string>) => {\n          applyMultipleChangesToValuesColumn(\n            lastQueryRequest,\n            facetColumnResult,\n            this.applyChangesFromQueryFilter,\n            facetNamesMap,\n          )\n        }}\n        onClear={() => {\n          applyChangesToValuesColumn(\n            lastQueryRequest,\n            facetColumnResult,\n            this.applyChangesFromQueryFilter,\n          )\n        }}\n      />\n    )\n  }\n\n  public applyChangesFromQueryFilter = (facets: FacetColumnRequest[]) => {\n    const queryRequest: QueryBundleRequest =\n      this.props.queryContext.getLastQueryRequest()\n    queryRequest.query.selectedFacets = facets\n    queryRequest.query.offset = 0\n    this.props.queryContext.executeQueryRequest(queryRequest)\n  }\n}\n","import dayjs from 'dayjs'\nimport React from 'react'\nimport { formatDate } from '../../utils/functions/DateFormatter'\nimport { Typography } from '@mui/material'\nimport { useQueryVisualizationContext } from '../QueryVisualizationWrapper'\nimport { useQueryContext } from '../QueryContext'\n\nexport default function LastUpdatedOn() {\n  const { data } = useQueryContext()\n  const { showLastUpdatedOn } = useQueryVisualizationContext()\n  return showLastUpdatedOn && data && data.lastUpdatedOn ? (\n    <div\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'flex-end',\n      }}\n    >\n      <Typography variant=\"body1Italic\">\n        Last updated on {formatDate(dayjs(data.lastUpdatedOn))}\n      </Typography>\n    </div>\n  ) : (\n    <></>\n  )\n}\n","import * as React from 'react'\nimport {\n  QUERY_FILTERS_COLLAPSED_CSS,\n  QUERY_FILTERS_EXPANDED_CSS,\n} from '../QueryWrapper'\nimport CardContainer from '../CardContainer'\nimport SynapseTable, { SynapseTableProps } from '../table/SynapseTable'\nimport { CardConfiguration } from '../CardContainerLogic'\nimport { useQueryContext } from '../QueryContext'\nimport { useSynapseContext } from '../../utils/SynapseContext'\nimport { useQueryVisualizationContext } from '../QueryVisualizationWrapper'\nimport LastUpdatedOn from './LastUpdatedOn'\n\nexport type OwnProps = {\n  tableConfiguration:\n    | Omit<\n        SynapseTableProps,\n        'synapseContext' | 'queryContext' | 'queryVisualizationContext'\n      >\n    | undefined\n  cardConfiguration: CardConfiguration | undefined\n  hideDownload?: boolean\n}\n\nconst FilterAndView = (props: OwnProps) => {\n  const { tableConfiguration, cardConfiguration, hideDownload } = props\n  const synapseContext = useSynapseContext()\n  const queryContext = useQueryContext()\n  const queryVisualizationContext = useQueryVisualizationContext()\n  return (\n    <div\n      className={`FilterAndView ${\n        queryVisualizationContext.topLevelControlsState.showFacetFilter\n          ? QUERY_FILTERS_EXPANDED_CSS\n          : QUERY_FILTERS_COLLAPSED_CSS\n      }`}\n    >\n      {tableConfiguration ? (\n        <SynapseTable\n          {...tableConfiguration}\n          synapseContext={synapseContext}\n          queryContext={queryContext}\n          queryVisualizationContext={queryVisualizationContext}\n          hideDownload={hideDownload}\n        />\n      ) : (\n        <></>\n      )}\n      {cardConfiguration ? <CardContainer {...cardConfiguration} /> : <></>}\n      <LastUpdatedOn />\n    </div>\n  )\n}\n\nexport default FilterAndView\n","import * as React from 'react'\nimport { SynapseConstants } from '../../utils/'\nimport { isTable } from '../../utils/functions/EntityTypeUtils'\nimport {\n  generateQueryFilterFromSearchParams,\n  parseEntityIdFromSqlStatement,\n  SQLOperator,\n} from '../../utils/functions/sqlFunctions'\nimport { useGetEntity } from '../../utils/hooks/SynapseAPI/entity/useEntity'\nimport { DEFAULT_PAGE_SIZE } from '../../utils/SynapseConstants'\nimport { Query, QueryBundleRequest } from '../../utils/synapseTypes'\nimport { CardConfiguration } from '../CardContainerLogic'\nimport { DownloadConfirmation } from '../download_list'\nimport FullTextSearch from '../FullTextSearch'\nimport ModalDownload from '../ModalDownload'\nimport {\n  QueryVisualizationContextConsumer,\n  QueryVisualizationWrapper,\n  QueryVisualizationWrapperProps,\n} from '../QueryVisualizationWrapper'\nimport {\n  QueryWrapper as PaginatedQueryWrapper,\n  QueryWrapperProps,\n} from '../QueryWrapper'\nimport { InfiniteQueryWrapper } from '../InfiniteQueryWrapper'\nimport { QueryContextConsumer } from '../QueryContext'\nimport { QueryWrapperErrorBanner } from '../QueryWrapperErrorBanner'\nimport SearchV2, { SearchV2Props } from '../SearchV2'\nimport SqlEditor from '../SqlEditor'\nimport { SynapseTableProps } from '../table/SynapseTable'\nimport TopLevelControls, {\n  TopLevelControlsProps,\n} from '../table/TopLevelControls'\nimport FacetNav, { FacetNavProps } from '../widgets/facet-nav/FacetNav'\nimport FacetFilterControls, {\n  FacetFilterControlsProps,\n} from '../widgets/query-filter/FacetFilterControls'\nimport FilterAndView from './FilterAndView'\nimport { NoContentPlaceholderType } from '../table/NoContentPlaceholderType'\n\nconst QUERY_FILTERS_EXPANDED_CSS = 'isShowingFacetFilters'\nconst QUERY_FILTERS_COLLAPSED_CSS = 'isHidingFacetFilters'\n\ntype OwnProps = {\n  sql: string\n  limit?: number\n  shouldDeepLink?: boolean\n  /** If onQueryChange is set, the callback will be invoked when the Query changes */\n  onQueryChange?: (newQueryJson: string) => void\n  /** If onQueryResultBundleChange is set, the callback will be invoked when the QueryResultBundle changes */\n  onQueryResultBundleChange?: (newQueryResultBundleJson: string) => void\n  /** If initQueryJson is set, it will be the Query used in the initial QueryBundleRequest */\n  initQueryJson?: string\n  tableConfiguration?: Omit<\n    SynapseTableProps,\n    'synapseContext' | 'queryContext' | 'queryVisualizationContext'\n  >\n  cardConfiguration?: CardConfiguration\n  searchConfiguration?: Omit<\n    SearchV2Props,\n    'queryContext' | 'queryVisualizationContext'\n  >\n  facetsToPlot?: string[]\n  availableFacets?: FacetFilterControlsProps['availableFacets']\n  defaultColumn?: string\n  defaultShowSearchBox?: boolean\n  lockedColumn?: QueryWrapperProps['lockedColumn']\n} & Omit<TopLevelControlsProps, 'entityId'> &\n  Pick<\n    QueryVisualizationWrapperProps,\n    | 'defaultShowFacetVisualization'\n    | 'visibleColumnCount'\n    | 'columnAliases'\n    | 'rgbIndex'\n    | 'showLastUpdatedOn'\n    | 'noContentPlaceholderType'\n  >\n\ntype SearchParams = {\n  searchParams?: {\n    facetValue: string\n  }\n}\ntype Operator = {\n  sqlOperator?: SQLOperator\n}\n\nexport type QueryWrapperPlotNavProps = SearchParams &\n  FacetNavProps &\n  Operator &\n  OwnProps\n\nconst QueryWrapperPlotNav: React.FunctionComponent<QueryWrapperPlotNavProps> = (\n  props: QueryWrapperPlotNavProps,\n) => {\n  const [showExportMetadata, setShowExportMetadata] = React.useState(false)\n  const {\n    searchParams,\n    sql,\n    sqlOperator,\n    tableConfiguration,\n    name,\n    cardConfiguration,\n    facetsToPlot,\n    availableFacets,\n    hideDownload,\n    hideQueryCount,\n    hideSqlEditorControl,\n    searchConfiguration,\n    limit = DEFAULT_PAGE_SIZE,\n    initQueryJson,\n    showLastUpdatedOn,\n    showExportToCavatica = false,\n    customControls,\n  } = props\n\n  const additionalFilters = generateQueryFilterFromSearchParams(\n    searchParams,\n    sqlOperator,\n  )\n\n  // use initQuery if set, otherwise use sql\n  const query: Query = initQueryJson\n    ? (JSON.parse(initQueryJson) as Query)\n    : {\n        sql,\n        additionalFilters,\n        limit: limit,\n        offset: 0,\n      }\n  const entityId = parseEntityIdFromSqlStatement(query.sql)\n  const { data: entity } = useGetEntity(entityId)\n  const isFullTextSearchEnabled =\n    entity && isTable(entity) && entity.isSearchEnabled\n  const initQueryRequest: QueryBundleRequest = {\n    entityId,\n    concreteType: 'org.sagebionetworks.repo.model.table.QueryBundleRequest',\n    partMask:\n      SynapseConstants.BUNDLE_MASK_QUERY_RESULTS |\n      SynapseConstants.BUNDLE_MASK_QUERY_COUNT |\n      SynapseConstants.BUNDLE_MASK_QUERY_SELECT_COLUMNS |\n      SynapseConstants.BUNDLE_MASK_QUERY_MAX_ROWS_PER_PAGE |\n      SynapseConstants.BUNDLE_MASK_QUERY_COLUMN_MODELS |\n      SynapseConstants.BUNDLE_MASK_QUERY_FACETS |\n      SynapseConstants.BUNDLE_MASK_SUM_FILES_SIZE_BYTES |\n      SynapseConstants.BUNDLE_MASK_LAST_UPDATED_ON,\n    query,\n  }\n  const QueryWrapper = tableConfiguration\n    ? PaginatedQueryWrapper\n    : InfiniteQueryWrapper\n\n  return (\n    <div className=\"QueryWrapperPlotNav\">\n      <QueryWrapper {...props} initQueryRequest={initQueryRequest}>\n        <QueryVisualizationWrapper\n          unitDescription={'results'}\n          rgbIndex={props.rgbIndex}\n          columnAliases={props.columnAliases}\n          visibleColumnCount={props.visibleColumnCount}\n          defaultShowFacetVisualization={props.defaultShowFacetVisualization}\n          defaultShowSearchBar={\n            props.defaultShowSearchBox || isFullTextSearchEnabled\n          }\n          showLastUpdatedOn={showLastUpdatedOn}\n          noContentPlaceholderType={NoContentPlaceholderType.INTERACTIVE}\n        >\n          <QueryContextConsumer>\n            {queryContext => {\n              if (queryContext === undefined) {\n                throw new Error(\n                  'No queryContext found when using QueryContextConsumer',\n                )\n              }\n\n              const isFaceted = queryContext?.isFacetsAvailable\n\n              return (\n                <QueryVisualizationContextConsumer>\n                  {queryVisualizationContext => {\n                    if (queryVisualizationContext === undefined) {\n                      throw new Error(\n                        'No queryVisualizationContext found when using QueryVisualizationContextConsumer',\n                      )\n                    }\n\n                    const showFacetFilter =\n                      queryVisualizationContext?.topLevelControlsState\n                        .showFacetFilter ||\n                      queryVisualizationContext?.topLevelControlsState\n                        .showFacetFilter === undefined\n\n                    return (\n                      <>\n                        <div\n                          className={`ErrorBannerWrapper ${\n                            showFacetFilter\n                              ? QUERY_FILTERS_EXPANDED_CSS\n                              : QUERY_FILTERS_COLLAPSED_CSS\n                          }`}\n                        >\n                          <QueryWrapperErrorBanner />\n                        </div>\n                        {isFullTextSearchEnabled ? (\n                          <FullTextSearch\n                            helpUrl={searchConfiguration?.fullTextSearchHelpURL}\n                          />\n                        ) : (\n                          <SearchV2\n                            {...searchConfiguration}\n                            queryContext={queryContext}\n                            queryVisualizationContext={\n                              queryVisualizationContext\n                            }\n                          />\n                        )}\n                        <SqlEditor />\n                        <DownloadConfirmation\n                          getLastQueryRequest={queryContext.getLastQueryRequest}\n                          topLevelControlsState={\n                            queryVisualizationContext.topLevelControlsState\n                          }\n                          setTopLevelControlsState={\n                            queryVisualizationContext.setTopLevelControlsState\n                          }\n                        />\n                        <TopLevelControls\n                          showColumnSelection={tableConfiguration !== undefined}\n                          name={name}\n                          hideDownload={hideDownload}\n                          hideQueryCount={hideQueryCount}\n                          hideFacetFilterControl={!isFaceted}\n                          hideVisualizationsControl={!isFaceted}\n                          hideSqlEditorControl={hideSqlEditorControl}\n                          showExportToCavatica={showExportToCavatica}\n                          customControls={customControls}\n                        />\n                        {isFaceted && (\n                          <>\n                            <FacetFilterControls\n                              availableFacets={availableFacets}\n                            />\n                          </>\n                        )}\n                        <FacetNav facetsToPlot={facetsToPlot} />\n                        <FilterAndView\n                          tableConfiguration={tableConfiguration}\n                          hideDownload={hideDownload}\n                          cardConfiguration={cardConfiguration}\n                        />\n                        {showExportMetadata && (\n                          <ModalDownload\n                            getLastQueryRequest={\n                              queryContext.getLastQueryRequest\n                            }\n                            onClose={() => setShowExportMetadata(false)}\n                          />\n                        )}\n                      </>\n                    )\n                  }}\n                </QueryVisualizationContextConsumer>\n              )\n            }}\n          </QueryContextConsumer>\n        </QueryVisualizationWrapper>\n      </QueryWrapper>\n    </div>\n  )\n}\n\nexport default QueryWrapperPlotNav\n","import React from 'react'\nimport {\n  generateQueryFilterFromSearchParams,\n  parseEntityIdFromSqlStatement,\n  SQLOperator,\n} from '../../utils/functions/sqlFunctions'\nimport SynapseTable, { SynapseTableProps } from './SynapseTable'\nimport { QueryBundleRequest } from '../../utils/synapseTypes'\nimport { SynapseConstants } from '../../utils'\nimport { QueryWrapper } from '../QueryWrapper'\nimport { QueryContextConsumer } from '../QueryContext'\nimport TopLevelControls, { TopLevelControlsProps } from './TopLevelControls'\nimport FullTextSearch from '../FullTextSearch'\nimport SearchV2, { SearchV2Props } from '../SearchV2'\nimport { useGetEntity } from '../../utils/hooks/SynapseAPI/entity/useEntity'\nimport TotalQueryResults from '../TotalQueryResults'\nimport SqlEditor from '../SqlEditor'\nimport { useSynapseContext } from '../../utils/SynapseContext'\nimport {\n  QueryVisualizationContextConsumer,\n  QueryVisualizationWrapper,\n  QueryVisualizationWrapperProps,\n} from '../QueryVisualizationWrapper'\nimport { isTable } from '../../utils/functions/EntityTypeUtils'\nimport LastUpdatedOn from '../query_wrapper_plot_nav/LastUpdatedOn'\nimport { NoContentPlaceholderType } from './NoContentPlaceholderType'\nimport { DEFAULT_PAGE_SIZE } from '../../utils/SynapseConstants'\n\ntype SearchParams = {\n  searchParams?: {\n    facetValue: string\n  }\n}\nexport type Operator = {\n  sqlOperator?: SQLOperator\n}\n\ntype OwnProps = {\n  sql: string\n  showTopLevelControls?: boolean\n  searchConfiguration?: Omit<\n    SearchV2Props,\n    'queryContext' | 'queryVisualizationContext'\n  >\n} & Omit<TopLevelControlsProps, 'entityId'> &\n  Pick<\n    QueryVisualizationWrapperProps,\n    | 'rgbIndex'\n    | 'unitDescription'\n    | 'columnAliases'\n    | 'noContentPlaceholderType'\n    | 'showLastUpdatedOn'\n  >\n\nexport type StandaloneQueryWrapperProps = Partial<\n  Omit<\n    SynapseTableProps,\n    'synapseContext' | 'queryContext' | 'queryVisualizationContext'\n  >\n> &\n  SearchParams &\n  Operator &\n  OwnProps\n\nconst generateInitQueryRequest = (sql: string): QueryBundleRequest => {\n  return {\n    partMask:\n      SynapseConstants.BUNDLE_MASK_QUERY_FACETS |\n      SynapseConstants.BUNDLE_MASK_QUERY_COUNT |\n      SynapseConstants.BUNDLE_MASK_QUERY_SELECT_COLUMNS |\n      SynapseConstants.BUNDLE_MASK_QUERY_COLUMN_MODELS |\n      SynapseConstants.BUNDLE_MASK_QUERY_RESULTS |\n      SynapseConstants.BUNDLE_MASK_LAST_UPDATED_ON,\n    entityId: parseEntityIdFromSqlStatement(sql),\n    concreteType: 'org.sagebionetworks.repo.model.table.QueryBundleRequest',\n    query: {\n      sql,\n      limit: DEFAULT_PAGE_SIZE,\n      offset: 0,\n    },\n  }\n}\n/**\n * This component was initially implemented on the portal side. It renders a SynapseTable if a title is provided.\n * If showTopLevelControls is set to true, then the SynapseTable will also include the TopLevelControls (search, export table, column selection).\n */\nconst StandaloneQueryWrapper: React.FunctionComponent<\n  StandaloneQueryWrapperProps\n> = (props: StandaloneQueryWrapperProps) => {\n  const {\n    title,\n    searchParams,\n    sqlOperator,\n    showAccessColumn,\n    sql,\n    hideDownload,\n    hideQueryCount,\n    name,\n    showTopLevelControls = false,\n    searchConfiguration,\n    unitDescription = 'Results',\n    rgbIndex,\n    showLastUpdatedOn,\n    noContentPlaceholderType = showTopLevelControls\n      ? NoContentPlaceholderType.INTERACTIVE\n      : NoContentPlaceholderType.STATIC,\n    ...rest\n  } = props\n\n  const derivedQueryRequestFromSearchParams = generateInitQueryRequest(sql)\n\n  if (searchParams) {\n    derivedQueryRequestFromSearchParams.query.additionalFilters =\n      generateQueryFilterFromSearchParams(searchParams, sqlOperator)\n  }\n\n  const synapseContext = useSynapseContext()\n  const entityId = parseEntityIdFromSqlStatement(sql)\n  const { data: entity } = useGetEntity(entityId)\n  return (\n    <QueryWrapper\n      {...rest}\n      initQueryRequest={derivedQueryRequestFromSearchParams}\n    >\n      <QueryVisualizationWrapper\n        rgbIndex={rgbIndex}\n        unitDescription={unitDescription}\n        showLastUpdatedOn={showLastUpdatedOn}\n        noContentPlaceholderType={noContentPlaceholderType}\n        {...rest}\n      >\n        <QueryContextConsumer>\n          {queryContext => {\n            if (queryContext === undefined) {\n              throw new Error(\n                'No queryContext found when calling QueryContextConsumer',\n              )\n            }\n            return (\n              <QueryVisualizationContextConsumer>\n                {queryVisualizationContext => {\n                  if (queryVisualizationContext === undefined) {\n                    throw new Error(\n                      'No queryVisualizationContext found when calling QueryVisualizationContextConsumer',\n                    )\n                  }\n\n                  return (\n                    <>\n                      {showTopLevelControls && (\n                        <TopLevelControls\n                          showColumnSelection={true}\n                          name={name}\n                          hideDownload={hideDownload}\n                          hideQueryCount={hideQueryCount}\n                          hideFacetFilterControl={true}\n                          hideVisualizationsControl={true}\n                        />\n                      )}\n                      {entity && isTable(entity) && entity.isSearchEnabled ? (\n                        <FullTextSearch\n                          helpUrl={searchConfiguration?.fullTextSearchHelpURL}\n                        />\n                      ) : (\n                        <SearchV2\n                          {...searchConfiguration}\n                          queryContext={queryContext}\n                          queryVisualizationContext={queryVisualizationContext}\n                        />\n                      )}\n                      <SqlEditor />\n                      {showTopLevelControls && (\n                        <TotalQueryResults frontText={''} />\n                      )}\n                      <SynapseTable\n                        synapseContext={synapseContext}\n                        queryContext={queryContext}\n                        queryVisualizationContext={queryVisualizationContext}\n                        showAccessColumn={showAccessColumn}\n                        title={title}\n                        data-testid=\"SynapseTable\"\n                        {...rest}\n                      />\n                      <LastUpdatedOn />\n                    </>\n                  )\n                }}\n              </QueryVisualizationContextConsumer>\n            )\n          }}\n        </QueryContextConsumer>\n      </QueryVisualizationWrapper>\n    </QueryWrapper>\n  )\n}\n\nexport default StandaloneQueryWrapper\n","import React from 'react'\nimport QueryWrapperPlotNav from '../../query_wrapper_plot_nav/QueryWrapperPlotNav'\nimport StandaloneQueryWrapper from '../../table/StandaloneQueryWrapper'\n\nexport type MarkdownSynapseTableProps = {\n  query: string\n  showquery: string\n  tableonly: string\n}\n\nexport default function MarkdownSynapseTable(props: MarkdownSynapseTableProps) {\n  const { query, showquery, tableonly } = props\n  const showQuery = showquery === 'true'\n  const tableOnly = tableonly === 'true'\n  const name = 'Items'\n  if (tableOnly) {\n    return <StandaloneQueryWrapper sql={query} name={name} />\n  }\n\n  return (\n    <QueryWrapperPlotNav\n      sql={query}\n      hideSqlEditorControl={!showQuery}\n      name={name}\n      defaultShowFacetVisualization={false}\n      tableConfiguration={{}}\n    />\n  )\n}\n","import React from 'react'\n\nconst TOC_CLASS = {\n  1: 'toc-indent1',\n  2: 'toc-indent2',\n  3: 'toc-indent3',\n  4: 'toc-indent4',\n  5: 'toc-indent5',\n  6: 'toc-indent6',\n}\n\ntype MarkdownTableOfContentsProps = {\n  originalMarkup: string\n}\n\nexport default function MarkdownTableOfContents(\n  props: MarkdownTableOfContentsProps,\n) {\n  const { originalMarkup } = props\n  const elements: any[] = []\n  const TOC_HEADER_REGEX_WITH_ID =\n    /<h([1-6]) id=\"(.*)\" .*toc=\"true\">(.*)<\\/h[1-6]>/gm\n  let text = ''\n  originalMarkup.replace(TOC_HEADER_REGEX_WITH_ID, (p1, p2, p3, p4) => {\n    text += p4\n    elements.push(\n      <div key={p4}>\n        <a\n          role=\"link\"\n          className={`link ${TOC_CLASS[Number(p2)]}`}\n          data-anchor={p3}\n        >\n          {p4}\n        </a>\n      </div>,\n    )\n    return ''\n  })\n  return <div key={text}>{elements}</div>\n}\n","import React from 'react'\nimport { useGetUserGroupHeaderWithAlias } from '../../../utils/hooks/SynapseAPI'\nimport UserOrTeamBadge from '../../UserOrTeamBadge'\n\nexport type MarkdownUserOrTeamBadgeProps = {\n  alias: string\n}\n\nexport default function MarkdownUserOrTeamBadge(\n  props: MarkdownUserOrTeamBadgeProps,\n) {\n  const { alias } = props\n  const { data: userGroupHeader } = useGetUserGroupHeaderWithAlias([alias])\n\n  return userGroupHeader ? (\n    <UserOrTeamBadge principalId={userGroupHeader[0].ownerId} />\n  ) : (\n    <></>\n  )\n}\n","import React from 'react'\nimport SynapseVideo, { SynapseVideoProps } from '../../widgets/SynapseVideo'\n\nexport type MarkdownVideoProps = SynapseVideoProps['params']\n\nexport default function MarkdownVideo(props: MarkdownVideoProps) {\n  return <SynapseVideo params={props} />\n}\n","import React from 'react'\nimport { SynapseErrorBoundary } from '../error/ErrorBanner'\nimport MarkdownButton, { ButtonLinkWidgetParams } from './widget/MarkdownButton'\nimport MarkdownEntityPreview, {\n  MarkdownEntityPreviewProps,\n} from './widget/MarkdownEntityPreview'\nimport MarkdownIDUReport, {\n  MarkdownIDUReportProps,\n} from './widget/MarkdownIDUReport'\nimport MarkdownProvenanceGraph, {\n  MarkdownProvenanceGraphProps,\n} from './widget/MarkdownProvenanceGraph'\nimport MarkdownSynapseImage, {\n  ImageWidgetParams,\n} from './widget/MarkdownSynapseImage'\nimport MarkdownSynapsePlot, {\n  PlotWidgetParams,\n} from './widget/MarkdownSynapsePlot'\nimport MarkdownSynapseTable, {\n  MarkdownSynapseTableProps,\n} from './widget/MarkdownSynapseTable'\nimport MarkdownTableOfContents from './widget/MarkdownTableOfContents'\nimport MarkdownUserOrTeamBadge, {\n  MarkdownUserOrTeamBadgeProps,\n} from './widget/MarkdownUserOrTeamBadge'\nimport MarkdownVideo, { MarkdownVideoProps } from './widget/MarkdownVideo'\n\ntype ButtonLink = {\n  widgetType: 'buttonlink'\n  widgetParamsMapped: ButtonLinkWidgetParams\n}\n\ntype Image = {\n  widgetType: 'image'\n  widgetParamsMapped: ImageWidgetParams\n}\n\ntype Plot = {\n  widgetType: 'plot'\n  widgetParamsMapped: PlotWidgetParams\n}\n\ntype TableOfContents = {\n  widgetType: 'toc'\n  widgetParamsMapped: never\n}\n\ntype UserBadge = {\n  widgetType: 'badge'\n  widgetParamsMapped: MarkdownUserOrTeamBadgeProps\n}\n\ntype IDUReport = {\n  widgetType: 'iduReport'\n  widgetParamsMapped: MarkdownIDUReportProps\n}\n\ntype Video = {\n  widgetType: 'video' | 'vimeo' | 'youtube'\n  widgetParamsMapped: MarkdownVideoProps\n}\n\ntype SynapseTable = {\n  widgetType: 'synapsetable'\n  widgetParamsMapped: MarkdownSynapseTableProps\n}\n\ntype ProvenanceGraph = {\n  widgetType: 'provenance'\n  widgetParamsMapped: MarkdownProvenanceGraphProps\n}\n\ntype Preview = {\n  widgetType: 'preview'\n  widgetParamsMapped: MarkdownEntityPreviewProps\n}\n\ntype MarkdownWidgetDefinition =\n  | ButtonLink\n  | Image\n  | Plot\n  | TableOfContents\n  | UserBadge\n  | IDUReport\n  | Video\n  | SynapseTable\n  | ProvenanceGraph\n  | Preview\n\nexport type MarkdownWidgetProps = MarkdownWidgetDefinition & {\n  originalMarkup: string\n}\n\nfunction MarkdownWidget(props: MarkdownWidgetProps) {\n  const { widgetType, widgetParamsMapped, originalMarkup } = props\n  switch (widgetType) {\n    case 'buttonlink':\n      return <MarkdownButton {...widgetParamsMapped} />\n    case 'image':\n      return <MarkdownSynapseImage {...widgetParamsMapped} />\n    case 'plot':\n      return <MarkdownSynapsePlot {...widgetParamsMapped} />\n    case 'toc':\n      return <MarkdownTableOfContents originalMarkup={originalMarkup} />\n    case 'badge':\n      return <MarkdownUserOrTeamBadge {...widgetParamsMapped} />\n    case 'iduReport':\n      return <MarkdownIDUReport {...widgetParamsMapped} />\n    case 'video':\n    case 'vimeo':\n    case 'youtube':\n      return <MarkdownVideo {...widgetParamsMapped} />\n    case 'synapsetable':\n      return <MarkdownSynapseTable {...widgetParamsMapped} />\n    case 'provenance':\n      return <MarkdownProvenanceGraph {...widgetParamsMapped} />\n    case 'preview':\n      return <MarkdownEntityPreview {...widgetParamsMapped} />\n    default:\n      console.warn(`Unsupported widget: ${widgetType}.`)\n      return <></>\n  }\n}\n\nexport default function MarkdownWidgetWithWrapper(props: MarkdownWidgetProps) {\n  // Wrap the widget in an error boundary.\n  return (\n    <SynapseErrorBoundary>\n      <MarkdownWidget {...props} />\n    </SynapseErrorBoundary>\n  )\n}\n","import * as React from 'react'\n\ntype BookmarksProps = {\n  footnotes: string\n}\n\nclass Bookmarks extends React.Component<BookmarksProps, never> {\n  constructor(props: BookmarksProps) {\n    super(props)\n    this.renderBookmarks = this.renderBookmarks.bind(this)\n  }\n\n  /**\n   * Returns bookmarks\n   *\n   * @returns JSX for the embedded bookmarks in the markdown passed in as a prop\n   * @memberof Bookmarks\n   */\n  public renderBookmarks() {\n    const copyFootnotes: string = String(this.props.footnotes)\n\n    // find all the links embedded in the markdown below\n    const regex = /Synapse widget&gt;<\\/span>(.*)</g\n    let matchedGroup: RegExpExecArray | null\n    const output = []\n    // below we use regex.exec to find the find matched group containing the citation source\n    while ((matchedGroup = regex.exec(copyFootnotes))) {\n      output.push(matchedGroup[1])\n    }\n\n    // return all the links formatted accordingly\n    return output.map((el, index) => {\n      const isBeforeLastElement = index < output.length - 1\n      return (\n        <React.Fragment key={index}>\n          <button className=\"SRC-markdown-bookmark\" id={`bookmark${index}`}>\n            [{index + 1}]\n          </button>\n          <span dangerouslySetInnerHTML={{ __html: el }} />\n          {isBeforeLastElement && <br />}\n        </React.Fragment>\n      )\n    })\n  }\n\n  public render() {\n    return (\n      <React.Fragment>\n        <hr />\n        {this.renderBookmarks()}\n      </React.Fragment>\n    )\n  }\n}\n\nexport default Bookmarks\n","import React from 'react'\nimport MarkdownIt from 'markdown-it'\nimport xss from 'xss'\nimport { SynapseClient } from '../../utils'\nimport { xssOptions } from '../../utils/functions/SanitizeHtmlUtils'\nimport { SynapseClientError } from '../../utils/SynapseClientError'\nimport { SynapseContext } from '../../utils/SynapseContext'\nimport {\n  FileHandleResults,\n  ObjectType,\n  WikiPage,\n} from '../../utils/synapseTypes/'\nimport { ErrorBanner } from '../error/ErrorBanner'\nimport MarkdownWidget from './MarkdownWidget'\nimport {\n  SynapseWikiContextProvider,\n  SynapseWikiContextType,\n} from './SynapseWikiContext'\nimport Bookmarks from './widget/Bookmarks'\nimport { SkeletonTable } from '../../assets/skeletons/SkeletonTable'\nimport { Link, Typography } from '@mui/material'\n\ndeclare const katex: any\ndeclare const markdownitSynapse: any\ndeclare const markdownitSub: any\ndeclare const markdownitSup: any\ndeclare const markdownitCentertext: any\ndeclare const markdownitSynapseHeading: any\ndeclare const markdownitSynapseTable: any\ndeclare const markdownitStrikethroughAlt: any\ndeclare const markdownitContainer: any\ndeclare const markdownitEmphasisAlt: any\ndeclare const markdownitInlineComments: any\ndeclare const markdownitBr: any\ndeclare const markdownitMath: any\n\ndeclare const markdownit: typeof MarkdownIt\n\nexport type MarkdownSynapseProps = {\n  ownerId?: string\n  wikiId?: string\n  markdown?: string\n  renderInline?: boolean\n  objectType?: ObjectType\n  loadingSkeletonRowCount?: number\n  onMarkdownProcessingDone?: (ref: HTMLInputElement | null) => void\n}\nconst md = markdownit({ html: true })\n\ntype MarkdownSynapseState = {\n  md: MarkdownIt\n  data: Partial<WikiPage>\n  fileHandles?: FileHandleResults\n  error: SynapseClientError | undefined\n  isLoading: boolean\n}\n/**\n * Basic Markdown functionality for Synapse, supporting Images/Plots/References/Bookmarks/buttonlinks\n *\n * @class Markdown\n * @extends {React.Component}\n */\nexport default class MarkdownSynapse extends React.Component<\n  MarkdownSynapseProps,\n  MarkdownSynapseState\n> {\n  public markupRef: React.RefObject<HTMLInputElement>\n  static contextType = SynapseContext\n  declare context: NonNullable<React.ContextType<typeof SynapseContext>>\n\n  /**\n   * Creates an instance of Markdown.\n   * @param {*} props\n   */\n  constructor(props: MarkdownSynapseProps) {\n    super(props)\n    // markdownitSynapse wraps around markdownit object and uses its own dependencies\n    markdownitSynapse.init_markdown_it(\n      md,\n      markdownitSub,\n      markdownitSup,\n      markdownitCentertext,\n      markdownitSynapseHeading,\n      markdownitSynapseTable,\n      markdownitStrikethroughAlt,\n      markdownitContainer,\n      markdownitEmphasisAlt,\n      markdownitInlineComments,\n      markdownitBr,\n    )\n\n    const mathSuffix = ''\n    // Update the internal markdownit object with the wrapped synapse object\n    md.use(markdownitSynapse, mathSuffix, 'https://synapse.org').use(\n      markdownitMath,\n      mathSuffix,\n    )\n    const data: any = {}\n    if (this.props.markdown) {\n      data.markdown = this.props.markdown\n    }\n    this.state = {\n      md,\n      error: undefined,\n      fileHandles: undefined,\n      data,\n      isLoading: true,\n    }\n    this.markupRef = React.createRef()\n    this.handleLinkClicks = this.handleLinkClicks.bind(this)\n    // handle widgets and math markdown\n    this.renderMarkdown = this.renderMarkdown.bind(this)\n    this.recursiveRender = this.recursiveRender.bind(this)\n    this.processMath = this.processMath.bind(this)\n    // handle init calls to get wiki related items\n    this.getWikiAttachments = this.getWikiAttachments.bind(this)\n    this.getWikiPageMarkdown = this.getWikiPageMarkdown.bind(this)\n    this.createHTML = this.createHTML.bind(this)\n    this.addBookmarks = this.addBookmarks.bind(this)\n    this.addIdsToReferenceWidgets = this.addIdsToReferenceWidgets.bind(this)\n    this.addIdsToTocWidgets = this.addIdsToTocWidgets.bind(this)\n  }\n\n  public componentWillUnmount() {\n    // @ts-ignore TODO: find better documentation on typescript/react event params\n    this.markupRef.current &&\n      // @ts-ignore TODO: find better documentation on typescript/react event params\n      this.markupRef.current.removeEventListener('click', this.handleLinkClicks)\n  }\n\n  // Manually handle clicks to anchor tags where the scrollto isn't handled by page hash\n  public handleLinkClicks(event: React.MouseEvent<HTMLElement>) {\n    const genericElement = event.target as HTMLElement\n    if (genericElement.tagName === 'A' || genericElement.tagName === 'BUTTON') {\n      const anchor = event.target as HTMLAnchorElement\n      if (anchor.id.substring(0, 3) === 'ref') {\n        event.preventDefault()\n        // its a reference, so we scroll to the appropriate bookmark\n        const referenceNumber = Number(event.currentTarget.id.substring(3)) // e.g. ref2 => '2'\n        const goTo = this.markupRef.current!.querySelector(\n          `#bookmark${referenceNumber}`,\n        )\n        try {\n          goTo!.scrollIntoView({\n            behavior: 'smooth',\n            block: 'center',\n            inline: 'center',\n          })\n        } catch (e) {\n          console.log('error on scroll', e)\n        }\n      } else if (\n        event.currentTarget.id !== null &&\n        anchor.getAttribute('data-anchor')\n      ) {\n        event.preventDefault()\n        // handle table of contents widget\n        const idOfContent = anchor.getAttribute('data-anchor')\n        const goTo = this.markupRef.current!.querySelector(`#${idOfContent}`)\n        try {\n          goTo!.scrollIntoView({\n            behavior: 'smooth',\n            block: 'center',\n            inline: 'center',\n          })\n        } catch (e) {\n          console.log('error on scroll', e)\n        }\n      }\n    }\n  }\n\n  /**\n   * Given input text, generate markdown object to be passed onto inner html of some container.\n   * @param {String} markdown The text being written in plain markdown\n   * @returns {Object} Dictionary to be passed into dangerouslySetInnerHTML with markdown text\n   */\n  public createHTML(markdown?: string) {\n    if (!markdown) {\n      return { __html: '' }\n    }\n    // Note - renderInline parses out any block level elements contained in the markdown\n    const initText = this.props.renderInline\n      ? this.state.md.renderInline(markdown)\n      : this.state.md.render(markdown)\n    const cleanText = xss(initText, xssOptions)\n    return { __html: cleanText }\n  }\n\n  /**\n   * Find all math identified elements of the form [id^=\\\"mathjax-\\\"]\n   * (e.g. <dom element id=\"mathjax-10\"> text </dom element>)\n   * and transform them to their math markedown equivalents\n   */\n  public processMath() {\n    if (!this.markupRef.current) {\n      return\n    }\n    // use regex to grab all elements\n    const mathExpressions =\n      this.markupRef.current.querySelectorAll<HTMLElement>('[id^=\"mathjax-\"]')\n    // go through all obtained elements and transform them with katex\n    const regEx = new RegExp(/\\\\[()[\\]]/, 'g') // Look for a '\\' followed by either '(', ')', '[', or ']'. We delete these strings since they interfere with katex processing.\n    mathExpressions.forEach(element => {\n      if (element.textContent && !element.getAttribute('processed')) {\n        // only process a math element once, used to double/triple process\n        element.setAttribute('processed', 'true')\n        const textContent = element.textContent.replace(regEx, '')\n        return katex.render(textContent, element, {\n          // @ts-ignore\n          output: 'html',\n          throwOnError: false,\n        })\n      }\n    })\n  }\n  /**\n   * Process all the corresponding bookmark tags of the references made throughout the page\n   *\n   * @memberof MarkdownSynapse\n   */\n  public addBookmarks() {\n    markdownitSynapse.resetFootnotes()\n    this.createHTML(this.state.data.markdown)\n    const footnotesHtml = this.createHTML(markdownitSynapse.footnotes()).__html\n    if (footnotesHtml.length > 0) {\n      return <Bookmarks footnotes={footnotesHtml} />\n    }\n    return\n  }\n\n  /**\n   * Get wiki page markdown and file attachment handles\n   */\n  public async getWikiPageMarkdown() {\n    const { ownerId, wikiId, objectType } = this.props\n    if (!ownerId && !wikiId) {\n      return\n    }\n    try {\n      const wikiPage = await SynapseClient.getEntityWiki(\n        this.context.accessToken,\n        ownerId,\n        wikiId,\n        objectType,\n      )\n      try {\n        const fileHandles = await this.getWikiAttachments(\n          wikiId ? wikiId : wikiPage.id,\n        )\n        this.setState({\n          data: wikiPage,\n          fileHandles,\n          error: undefined,\n        })\n      } catch (fileHandlesErr) {\n        console.error('fileHandlesErr = ', fileHandlesErr)\n      }\n    } catch (err) {\n      console.error('Error on wiki markdown load\\n', err)\n      this.setState({\n        error: err,\n      })\n    }\n  }\n  public async getWikiAttachments(wikiId: string) {\n    const { ownerId, objectType } = this.props\n    if (!ownerId) {\n      console.error(\n        'Cannot get wiki attachments without ownerId on Markdown Component',\n      )\n      return undefined\n    }\n    return await SynapseClient.getWikiAttachmentsFromEntity(\n      this.context.accessToken,\n      ownerId,\n      wikiId,\n      objectType,\n    )\n      .then(data => {\n        return data\n      })\n      .catch(err => {\n        console.error('Error on wiki attachment load ', err)\n        return undefined\n      })\n  }\n\n  public addIdsToReferenceWidgets(text: string) {\n    const referenceRegex =\n      /<span id=\"wikiReference.*?<span data-widgetparams.*?span>/g\n    let referenceCount = 1\n\n    return text.replace(referenceRegex, () => {\n      // replace all reference tags with id's of the form id=\"ref<number>\"\" that we can read onClick\n      const current = referenceCount\n      referenceCount += 1\n      return `<a href=\"\" id=\"ref${current}\">[${current}]</a>`\n    })\n  }\n\n  public addIdsToTocWidgets(text: string) {\n    const tocId = 'SRC-header-'\n    let tocIdCount = 1\n    const TOC_HEADER_REGEX = /<h[1-6] toc=\"true\">.*<\\/h[1-6]>/gm\n\n    return text.replace(TOC_HEADER_REGEX, (match: string) => {\n      // replace with id of the form id=\"toc\" so we can read them with onclick events\n      const curTocId = tocIdCount\n      tocIdCount += 1\n      const matchWithId = `${match.substring(\n        0,\n        3,\n      )} id=\"${tocId}${curTocId}\"${match.substring(3)}`\n      return matchWithId\n    })\n  }\n\n  /**\n   * The 'main' method of this class that process all the markdown and transforms it to the appropriate\n   * Synapse widgets.\n   *\n   * @returns JSX of the markdown into widgets\n   * @memberof MarkdownSynapse\n   */\n  public renderMarkdown() {\n    // create initial markup\n    let markup = this.createHTML(this.state.data.markdown).__html\n    // process reference widgets\n    markup = this.addIdsToReferenceWidgets(markup)\n    // process table of contents widgets\n    markup = this.addIdsToTocWidgets(markup)\n    if (markup.length > 0) {\n      const domParser = new DOMParser()\n      const document = domParser.parseFromString(markup, 'text/html')\n      return <>{this.recursiveRender(document.body, markup)}</>\n    }\n    return\n  }\n\n  /**\n   * recursiveRender will render react tree from HTML tree\n   *\n   * @param {Node} element This will be either a text Node or an HTMLElement\n   * @param {string} markdown The original markdown, its kept as a special case for the table of contents widget\n   * @returns {*}\n   * @memberof MarkdownSynapse\n   */\n  public recursiveRender(element: Node, markdown: string): any {\n    /*\n      Recursively render the html tree created from the markdown, there are a few cases:\n      1. element is Node and is text in which case it is simply rendered\n      2. element is an HTMLElement and is: a self closing tag, has no children (e.g. <br>), or its a synapse widget and is \n      rendered accordingly\n      3. element is an HTMLElement and has children so we loop through its childNodes, recurively render those, and then render its own tag\n      as the parent of those child nodes. Note - childNodes was specifically chosen over .children because text Nodes\n      would not come through .children\n    */\n    if (element.nodeType === Node.TEXT_NODE) {\n      // case 1.\n      return <>{element.textContent}</>\n    } else if (\n      element.nodeType === Node.ELEMENT_NODE &&\n      element instanceof HTMLElement\n    ) {\n      const Tag: keyof JSX.IntrinsicElements =\n        element.tagName.toLowerCase() === 'body'\n          ? 'span'\n          : (element.tagName.toLowerCase() as keyof JSX.IntrinsicElements)\n      const widgetParams = element.getAttribute('data-widgetparams')\n      if (widgetParams) {\n        // case 2\n        // process widget\n        return this.processHTMLWidgetMapping(widgetParams, markdown)\n      }\n      // manually add on props, depending on what comes through the markdown their could\n      // be unforseen issues with attributes being misnamed according to what react will respect\n      // e.g. class instead of className\n      const attributes = element.attributes\n      const props = {}\n      for (let i = 0; i < attributes.length; i++) {\n        let name = ''\n        let value = ''\n        const attribute = attributes.item(i)\n        if (attribute) {\n          name = attribute.name\n          value = attribute.value\n        }\n        if (name && value) {\n          props[name] = value\n        }\n      }\n      if (element.childNodes.length === 0) {\n        // case 2\n        // e.g. self closing tag like <br/> or <img>\n        return <Tag {...props} />\n      }\n      // case 3\n      // recursively render children\n      const children = Array.from(element.childNodes).map((el, index) => {\n        return (\n          <React.Fragment key={index}>\n            {this.recursiveRender(el, markdown)}\n          </React.Fragment>\n        )\n      })\n      // Render tagName as parent element of the children below\n      switch (Tag) {\n        case 'p':\n          return (\n            <Typography variant={'body1'} {...props} component={Tag}>\n              {children}\n            </Typography>\n          )\n        case 'h1':\n          return (\n            <Typography variant={'headline1'} {...props} component={Tag}>\n              {children}\n            </Typography>\n          )\n        case 'h2':\n          return (\n            <Typography variant={'headline2'} {...props} component={Tag}>\n              {children}\n            </Typography>\n          )\n        case 'h3':\n          return (\n            <Typography variant={'headline3'} {...props} component={Tag}>\n              {children}\n            </Typography>\n          )\n        case 'ol':\n          return (\n            <Typography variant={'body1'} {...props} component={Tag}>\n              {children}\n            </Typography>\n          )\n        case 'ul':\n          return (\n            <Typography variant={'body1'} {...props} component={Tag}>\n              {children}\n            </Typography>\n          )\n        case 'a':\n          return (\n            <Link {...props} component={Tag}>\n              {children}\n            </Link>\n          )\n        default:\n          return <Tag {...props}>{children}</Tag>\n      }\n    }\n  }\n\n  /**\n   *  When the markdown string is transferred over the network certain characters get transformed,\n   * this does a simple transformation back to the original user's string.\n   *\n   * @param {string} xml\n   * @returns\n   * @memberof MarkdownSynapse\n   */\n  public decodeXml(xml: string) {\n    const escapedOneToXmlSpecialMap = {\n      '&amp;': '&',\n      '&gt;': '>',\n      '&lt;': '<',\n      '&quot;': '\"',\n    }\n    return xml.replace(/(&quot;|&lt;|&gt;|&amp;)/g, (str, item) => {\n      return escapedOneToXmlSpecialMap[item]\n    })\n  }\n\n  /**\n   * Given widgetMap renders it in a React component (or originalMarkup in special cases.)\n   *\n   * @param {string} widgetMatch The synapse widget to be rendered\n   * @param {string} originalMarkup The original markup text, this is a special case for widgets that\n   * are html specific.\n   * @returns JSX of the widget to render\n   * @memberof MarkdownSynapse\n   */\n  public processHTMLWidgetMapping(\n    widgetParams: string,\n    originalMarkup: string,\n  ) {\n    // General workflow -\n    //   1. Capture widget parameters\n    //   2. Transform any widget xml parameters to standard text\n    //   3. Split those parameters into a map\n    //   4. Render that widget based on its parameters\n\n    // steps 1,2\n    const decodedWidgetParams = this.decodeXml(widgetParams)\n\n    // decodedWidgetParams look like {<widget>?param1=xxx&param2=yyy}\n    const questionIndex = decodedWidgetParams.indexOf('?')\n    if (questionIndex === -1) {\n      // e.g. toc is passed, there are no params\n      return (\n        <MarkdownWidget\n          key={JSON.stringify(decodedWidgetParams)}\n          widgetType={decodedWidgetParams as any}\n          widgetParamsMapped={{}}\n          originalMarkup={originalMarkup}\n        />\n      )\n    }\n    const widgetType = decodedWidgetParams.substring(0, questionIndex)\n    const widgetParamsMapped = {}\n    // map out params and their values\n    decodedWidgetParams\n      .substring(questionIndex + 1)\n      .split('&')\n      .forEach(keyPair => {\n        let [key, value] = keyPair.split('=')\n        value = decodeURIComponent(value)\n        widgetParamsMapped[key] = value\n      })\n    return (\n      <MarkdownWidget\n        key={JSON.stringify(decodedWidgetParams)}\n        widgetType={widgetType as any}\n        widgetParamsMapped={widgetParamsMapped}\n        originalMarkup={originalMarkup}\n      />\n    )\n  }\n\n  public async componentDidMount() {\n    if (this.state.data.markdown) {\n      this.setState({ isLoading: false })\n      if (this.props.onMarkdownProcessingDone) {\n        this.props.onMarkdownProcessingDone(this.markupRef.current)\n      }\n      return\n    }\n    // we use this.markupRef.current && because in testing environment refs aren't defined\n    // @ts-ignore\n    this.markupRef.current &&\n      // @ts-ignore\n      this.markupRef.current.addEventListener('click', this.handleLinkClicks)\n    // unpack and set default value if not specified\n    // get wiki attachments\n    await this.getWikiPageMarkdown()\n    this.processMath()\n    this.setState({ isLoading: false })\n    if (this.props.onMarkdownProcessingDone) {\n      this.props.onMarkdownProcessingDone(this.markupRef.current)\n    }\n  }\n\n  // on component update find and re-render the math/widget items accordingly\n  public async componentDidUpdate(prevProps: MarkdownSynapseProps) {\n    let shouldUpdate = this.props.ownerId !== prevProps.ownerId\n    shouldUpdate = shouldUpdate || this.props.wikiId !== prevProps.wikiId\n\n    // we have to carefully update the component so it doesn't encounter an infinite loop\n    if (shouldUpdate) {\n      await this.getWikiPageMarkdown()\n    }\n    this.processMath()\n  }\n\n  public render() {\n    const { renderInline, loadingSkeletonRowCount } = this.props\n    const { isLoading, error } = this.state\n\n    const wikiContext: SynapseWikiContextType = {\n      ownerId: this.props.ownerId,\n      wikiId: this.props.wikiId,\n      wikiPage: this.state.data,\n      fileHandles: this.state.fileHandles,\n    }\n\n    if (error) {\n      return <ErrorBanner error={error} />\n    }\n    const bookmarks = this.addBookmarks()\n    const content = (\n      <SynapseWikiContextProvider wikiContext={wikiContext}>\n        {isLoading && (\n          <>\n            {loadingSkeletonRowCount ? (\n              <SkeletonTable numCols={1} numRows={loadingSkeletonRowCount} />\n            ) : (\n              <span className=\"spinner\" />\n            )}\n          </>\n        )}\n        {this.renderMarkdown()}\n        {bookmarks && <div>{this.addBookmarks()}</div>}\n      </SynapseWikiContextProvider>\n    )\n    if (renderInline) {\n      return (\n        <span className=\"markdown markdown-inline\" ref={this.markupRef}>\n          {content}\n        </span>\n      )\n    }\n    return (\n      <div className=\"markdown\" ref={this.markupRef}>\n        {content}\n      </div>\n    )\n  }\n}\n","import { PositioningStrategy } from '@popperjs/core'\nimport React, { useState } from 'react'\nimport { Button } from '@mui/material'\nimport { Placement } from 'react-bootstrap/esm/Overlay'\nimport { ButtonVariant } from 'react-bootstrap/esm/types'\nimport { usePopper } from 'react-popper'\nimport { CSSTransition } from 'react-transition-group'\nimport MarkdownSynapse, {\n  MarkdownSynapseProps,\n} from './markdown/MarkdownSynapse'\nimport { Typography } from '@mui/material'\n\nexport type MarkdownPopoverProps = {\n  children: JSX.Element\n  contentProps: MarkdownSynapseProps\n  style?: React.CSSProperties\n  placement?: Placement\n  showCloseButton?: boolean\n  actionButton?: {\n    content: React.ReactElement\n    variant: ButtonVariant\n    onClick: () => void\n    closePopoverOnClick: boolean\n  }\n  /* Useful if the item is in an overflow container. See https://popper.js.org/docs/v2/constructors/#strategy */\n  strategy?: PositioningStrategy\n}\n\nexport const MarkdownPopover: React.FunctionComponent<MarkdownPopoverProps> = ({\n  children,\n  contentProps,\n  placement,\n  showCloseButton = true,\n  actionButton,\n  strategy,\n  style,\n}: MarkdownPopoverProps) => {\n  placement = placement ?? 'bottom-start'\n\n  const [show, setShow] = useState(false)\n\n  // We intentionally use useState instead of useRef, see https://popper.js.org/react-popper/v2/#example\n  const [referenceElement, setReferenceElement] =\n    useState<HTMLSpanElement | null>(null)\n  const [popperElement, setPopperElement] = useState<HTMLDivElement | null>(\n    null,\n  )\n  const [arrowElement, setArrowElement] = useState<HTMLDivElement | null>(null)\n\n  const { styles, attributes } = usePopper(referenceElement, popperElement, {\n    placement: placement,\n    strategy: strategy,\n    modifiers: [\n      { name: 'arrow', options: { element: arrowElement } },\n      {\n        name: 'offset',\n        options: {\n          offset: [0, 10],\n        },\n      },\n    ],\n  })\n\n  const popover = (\n    <CSSTransition\n      in={show}\n      timeout={200}\n      classNames=\"fade-in-out\"\n      mountOnEnter\n    >\n      <div\n        className={`Tooltip SRC-popover bootstrap-4-backport`}\n        style={{ ...style, ...styles.popper }}\n        ref={setPopperElement}\n        {...attributes.popper}\n      >\n        <Typography variant=\"body1\">\n          <MarkdownSynapse {...contentProps} />\n        </Typography>\n        <div className=\"TooltipButtonContainer\">\n          {actionButton && (\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              onClick={() => {\n                actionButton.onClick()\n                if (actionButton.closePopoverOnClick) {\n                  setShow(false)\n                }\n              }}\n            >\n              {actionButton.content}\n            </Button>\n          )}\n          {showCloseButton && (\n            <Button variant=\"outlined\" onClick={() => setShow(false)}>\n              Close\n            </Button>\n          )}\n        </div>\n        <div\n          className=\"arrow\"\n          data-popper-arrow\n          ref={setArrowElement}\n          style={styles.arrow}\n        />\n      </div>\n    </CSSTransition>\n  )\n\n  return (\n    <>\n      <span\n        role=\"button\"\n        className=\"PopoverContainer bootstrap-4-backport\"\n        onClick={() => setShow(val => !val)}\n        ref={setReferenceElement}\n      >\n        {children}\n      </span>\n      {popover}\n    </>\n  )\n}\n","import React from 'react'\nimport { MarkdownPopover } from './MarkdownPopover'\nimport { Placement } from 'react-bootstrap/esm/Overlay'\nimport { HelpOutlineTwoTone } from '@mui/icons-material'\n\nexport type HelpPopoverProps = {\n  markdownText: string\n  helpUrl?: string\n  placement?: Placement\n  showCloseButton?: boolean\n  className?: string\n}\n\nexport const HelpPopover: React.FunctionComponent<HelpPopoverProps> = ({\n  markdownText,\n  helpUrl,\n  placement = 'bottom',\n  showCloseButton = true,\n  className = '',\n}: HelpPopoverProps) => {\n  const actionButtonConfig = helpUrl\n    ? {\n        content: <>More info</>,\n        closePopoverOnClick: true,\n        onClick: () => window.open(helpUrl, '_blank'),\n        variant: 'primary',\n      }\n    : undefined\n  return (\n    <>\n      <MarkdownPopover\n        contentProps={{ markdown: markdownText }}\n        placement={placement}\n        actionButton={actionButtonConfig}\n        showCloseButton={showCloseButton}\n        strategy=\"fixed\"\n        style={{ maxWidth: '350px' }}\n      >\n        <HelpOutlineTwoTone className={`HelpButton ${className}`} />\n      </MarkdownPopover>\n    </>\n  )\n}\n","import CloseIcon from '@mui/icons-material/Close'\nimport {\n  Box,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogProps,\n  DialogTitle,\n  IconButton,\n  Stack,\n  SxProps,\n} from '@mui/material'\nimport React from 'react'\nimport { HelpPopover } from './HelpPopover'\n\nexport type CloseButtonProps = {\n  sx?: SxProps\n  onClick?: () => void\n}\n\nexport const CLOSE_BUTTON_LABEL = 'close'\n\nexport const CloseButton: React.FC<CloseButtonProps> = ({\n  sx = { color: 'grey.700' },\n  onClick,\n}) => {\n  return (\n    <IconButton sx={sx} onClick={onClick} aria-label={CLOSE_BUTTON_LABEL}>\n      <CloseIcon />\n    </IconButton>\n  )\n}\n\nexport type DialogBaseProps = {\n  open: boolean\n  title: React.ReactNode\n  content: React.ReactNode\n  actions?: React.ReactNode\n  className?: string\n  onCancel: () => void\n  hasCloseButton?: boolean\n  helpMarkdown?: string\n  helpUrl?: string\n  maxWidth?: DialogProps['maxWidth']\n  fullWidth?: boolean\n  sx?: DialogProps['sx']\n}\n\n/**\n * A dialog built using MUI components.\n */\nexport const DialogBase = ({\n  open,\n  title,\n  content,\n  actions,\n  className,\n  onCancel,\n  hasCloseButton = true,\n  helpMarkdown,\n  helpUrl,\n  maxWidth = 'sm',\n  fullWidth = true,\n  sx,\n}: DialogBaseProps) => {\n  return (\n    <Dialog\n      fullWidth={fullWidth}\n      maxWidth={maxWidth}\n      open={open}\n      className={className}\n      onClose={() => onCancel()}\n      sx={sx}\n    >\n      <DialogTitle>\n        <Stack direction=\"row\" alignItems={'center'} gap={'5px'}>\n          {title}\n          {helpMarkdown && (\n            <HelpPopover markdownText={helpMarkdown} helpUrl={helpUrl} />\n          )}\n          <Box sx={{ flexGrow: 1 }} />\n          {hasCloseButton && <CloseButton onClick={() => onCancel()} />}\n        </Stack>\n      </DialogTitle>\n      <DialogContent>{content}</DialogContent>\n      {actions && <DialogActions>{actions}</DialogActions>}\n    </Dialog>\n  )\n}\n","import { Button, ButtonProps } from '@mui/material'\nimport React from 'react'\nimport { DialogBase, DialogBaseProps } from './DialogBase'\n\nexport type ConfirmationButtonsProps = {\n  onConfirm: () => void\n  onCancel: DialogBaseProps['onCancel']\n  confirmButtonText?: string\n  confirmButtonClassName?: string\n  confirmButtonColor?: ButtonProps['color']\n  confirmButtonVariant?: ButtonProps['variant']\n  hasCancelButton?: boolean\n}\n\nexport const CANCEL_BUTTON_TEXT = 'Cancel'\n\nexport const ConfirmationButtons = (props: ConfirmationButtonsProps) => {\n  const {\n    confirmButtonText = 'OK',\n    confirmButtonClassName,\n    confirmButtonColor = 'primary',\n    confirmButtonVariant = 'contained',\n    onConfirm,\n    onCancel,\n    hasCancelButton = true,\n  } = props\n  return (\n    <>\n      {hasCancelButton && (\n        <Button variant=\"outlined\" onClick={() => onCancel()}>\n          {CANCEL_BUTTON_TEXT}\n        </Button>\n      )}\n      <Button\n        variant={confirmButtonVariant}\n        className={confirmButtonClassName}\n        color={confirmButtonColor}\n        onClick={() => onConfirm()}\n      >\n        {confirmButtonText}\n      </Button>\n    </>\n  )\n}\n\nexport type ConfirmationDialogProps = DialogBaseProps & ConfirmationButtonsProps\n\n/**\n * A confirmation dialog built using MUI components.\n */\nexport const ConfirmationDialog = (props: ConfirmationDialogProps) => {\n  const {\n    confirmButtonText,\n    confirmButtonClassName,\n    confirmButtonColor,\n    confirmButtonVariant,\n    onConfirm,\n    onCancel,\n    hasCancelButton,\n    ...rest\n  } = props\n  return (\n    <DialogBase\n      onCancel={onCancel}\n      actions={\n        <ConfirmationButtons\n          confirmButtonText={confirmButtonText}\n          confirmButtonClassName={confirmButtonClassName}\n          confirmButtonColor={confirmButtonColor}\n          confirmButtonVariant={confirmButtonVariant}\n          onConfirm={onConfirm}\n          onCancel={onCancel}\n          hasCancelButton={hasCancelButton}\n        />\n      }\n      {...rest}\n    />\n  )\n}\n"],"names":["getCircularProgressUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","_","t","_t","_t2","_t3","_t4","SIZE","circularRotateKeyframe","keyframes","circularDashKeyframe","useUtilityClasses","ownerState","classes","variant","color","disableShrink","slots","capitalize","composeClasses","CircularProgressRoot","styled","props","styles","theme","_extends","css","CircularProgressSVG","CircularProgressCircle","CircularProgress","React.forwardRef","inProps","ref","useThemeProps","className","size","style","thickness","value","other","_objectWithoutPropertiesLoose","circleStyle","rootStyle","rootProps","circumference","_jsx","clsx","CircularProgress$1","getPaginationUtilityClass","usePagination","boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","handleChange","pageProp","showFirstButton","showLastButton","siblingCount","page","setPageState","useControlled","handleClick","event","range","start","end","length","i","startPages","endPages","siblingsStart","siblingsEnd","itemList","buttonPage","type","items","item","getPaginationItemUtilityClass","paginationItemClasses","paginationItemClasses$1","FirstPageIcon","createSvgIcon","LastPageIcon","NavigateBeforeIcon","NavigateNextIcon","overridesResolver","selected","shape","PaginationItemEllipsis","PaginationItemPage","ButtonBase","alpha","PaginationItemPageIcon","PaginationItem","component","components","useTheme","Icon","_jsxs","PaginationItem$1","PaginationRoot","PaginationUl","defaultGetAriaLabel","Pagination","getItemAriaLabel","renderItem","index","Pagination$1","ApprovalState","AccessApprovalSortField","isTermsOfUseAccessRequirement","isTypeViaConcreteTypeFactory","GOOGLE_CLOUD_FILE_HANDLE_CONCRETE_TYPE_VALUE","S3_FILE_HANDLE_CONCRETE_TYPE_VALUE","implementsCloudProviderFileHandleInterface","EXTERNAL_FILE_HANDLE_CONCRETE_TYPE_VALUE","EXTERNAL_OBJECT_STORE_FILE_HANDLE_CONCRETE_TYPE_VALUE","PROXY_FILE_HANDLE_CONCRETE_TYPE_VALUE","implementsExternalFileHandleInterface","FACET_COLUMN_VALUES_REQUEST_CONCRETE_TYPE_VALUE","FACET_COLUMN_RANGE_REQUEST_CONCRETE_TYPE_VALUE","isFacetColumnValuesRequest","isFacetColumnRangeRequest","WarningSharp","useGetApprovedSubmissionInfoInfinite","accessRequirementId","options","accessToken","keyFactory","useSynapseContext","request","useInfiniteQuery","context","SynapseClient.getApprovedSubmissionInfo","useGetEntityBundle","entityId","version","bundleRequest","ALL_ENTITY_BUNDLE_FIELDS","useQuery","SynapseClient.getEntityBundleV2","useGetEntityChildren","SynapseClient.getEntityChildren","useGetEntityChildrenInfinite","useGetEntityHeaders","references","SynapseClient.getEntityHeaders","useGetEntityHeader","SynapseClient.getEntityHeader","_interopRequireDefault","require$$0","Close","default_1","_createSvgIcon","require$$1","_jsxRuntime","require$$2","_default","fromEntries","entries","acc","_ref","key","useIsomorphicLayoutEffect","React.useLayoutEffect","React.useEffect","top","bottom","right","left","auto","basePlacements","clippingParents","viewport","popper","reference","variationPlacements","placement","placements","beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite","modifierPhases","getNodeName","element","getWindow","node","ownerDocument","isElement","OwnElement","isHTMLElement","isShadowRoot","applyStyles","state","name","attributes","effect","_ref2","initialStyles","styleProperties","property","attribute","applyStyles$1","getBasePlacement","max","min","round","getUAString","uaData","isLayoutViewport","getBoundingClientRect","includeScale","isFixedStrategy","clientRect","scaleX","scaleY","visualViewport","addVisualOffsets","x","y","width","height","getLayoutRect","contains","parent","child","rootNode","next","getComputedStyle","isTableElement","getDocumentElement","getParentNode","getTrueOffsetParent","getContainingBlock","isFirefox","isIE","elementCss","currentNode","getOffsetParent","window","offsetParent","getMainAxisFromPlacement","within","mathMax","mathMin","withinMaxClamp","v","getFreshSideObject","mergePaddingObject","paddingObject","expandToHashMap","keys","hashMap","toPaddingObject","padding","arrow","_state$modifiersData$","arrowElement","popperOffsets","basePlacement","axis","isVertical","len","arrowRect","minProp","maxProp","endDiff","startDiff","arrowOffsetParent","clientSize","centerToReference","center","offset","axisProp","_options$element","arrow$1","getVariation","unsetSides","roundOffsetsByDPR","win","dpr","mapToStyles","_Object$assign2","popperRect","variation","offsets","position","gpuAcceleration","adaptive","roundOffsets","isFixed","_offsets$x","_offsets$y","_ref3","hasX","hasY","sideX","sideY","heightProp","widthProp","offsetY","offsetX","commonStyles","_ref4","_Object$assign","computeStyles","_ref5","_options$gpuAccelerat","_options$adaptive","_options$roundOffsets","computeStyles$1","passive","instance","_options$scroll","scroll","_options$resize","resize","scrollParents","scrollParent","eventListeners","hash","getOppositePlacement","matched","getOppositeVariationPlacement","getWindowScroll","scrollLeft","scrollTop","getWindowScrollBarX","getViewportRect","strategy","html","layoutViewport","getDocumentRect","_element$ownerDocumen","winScroll","body","isScrollParent","_getComputedStyle","overflow","overflowX","overflowY","getScrollParent","listScrollParents","list","isBody","target","updatedList","rectToClientRect","rect","getInnerBoundingClientRect","getClientRectFromMixedType","clippingParent","getClippingParents","canEscapeClipping","clipperElement","getClippingRect","boundary","rootBoundary","mainClippingParents","firstClippingParent","clippingRect","accRect","computeOffsets","commonX","commonY","mainAxis","detectOverflow","_options","_options$placement","_options$strategy","_options$boundary","_options$rootBoundary","_options$elementConte","elementContext","_options$altBoundary","altBoundary","_options$padding","altContext","clippingClientRect","referenceClientRect","popperClientRect","elementClientRect","overflowOffsets","offsetData","multiply","computeAutoPlacement","flipVariations","_options$allowedAutoP","allowedAutoPlacements","allPlacements","allowedPlacements","overflows","a","b","getExpandedFallbackPlacements","oppositePlacement","flip","_options$mainAxis","checkMainAxis","_options$altAxis","checkAltAxis","specifiedFallbackPlacements","_options$flipVariatio","preferredPlacement","isBasePlacement","fallbackPlacements","referenceRect","checksMap","makeFallbackChecks","firstFittingPlacement","_basePlacement","isStartVariation","mainVariationSide","altVariationSide","checks","check","numberOfChecks","_loop","_i","fittingPlacement","_ret","flip$1","getSideOffsets","preventedOffsets","isAnySideFullyClipped","side","hide","referenceOverflow","popperAltOverflow","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","hide$1","distanceAndSkiddingToXY","rects","invertDistance","skidding","distance","_options$offset","data","_data$state$placement","offset$1","popperOffsets$1","getAltAxis","preventOverflow","_options$tether","tether","_options$tetherOffset","tetherOffset","altAxis","tetherOffsetValue","normalizedTetherOffsetValue","offsetModifierState","_offsetModifierState$","mainSide","altSide","additive","minLen","maxLen","arrowPaddingObject","arrowPaddingMin","arrowPaddingMax","arrowLen","minOffset","maxOffset","clientOffset","offsetModifierValue","tetherMin","tetherMax","preventedOffset","_offsetModifierState$2","_mainSide","_altSide","_offset","_len","_min","_max","isOriginSide","_offsetModifierValue","_tetherMin","_tetherMax","_preventedOffset","preventOverflow$1","getHTMLElementScroll","getNodeScroll","isElementScaled","getCompositeRect","elementOrVirtualElement","isOffsetParentAnElement","offsetParentIsScaled","documentElement","order","modifiers","map","visited","result","modifier","sort","requires","dep","depModifier","orderModifiers","orderedModifiers","phase","debounce","fn","pending","resolve","mergeByName","merged","current","existing","DEFAULT_OPTIONS","areValidElements","args","_key","popperGenerator","generatorOptions","_generatorOptions","_generatorOptions$def","defaultModifiers","_generatorOptions$def2","defaultOptions","effectCleanupFns","isDestroyed","setOptionsAction","cleanupModifierEffects","m","runModifierEffects","_state$elements","_state$orderedModifie","_state$orderedModifie2","_ref3$options","cleanupFn","noopFn","createPopper","hasElementType","hasMap","hasSet","hasArrayBuffer","equal","it","reactFastCompare","error","EMPTY_MODIFIERS","usePopper","referenceElement","popperElement","prevOptions","React.useRef","optionsWithDefaults","_React$useState","React.useState","setState","updateStateModifier","React.useMemo","elements","ReactDOM.flushSync","popperOptions","newOptions","isEqual","popperInstanceRef","defaultCreatePopper","popperInstance","getDefaultWhiteList","whiteList","onAttr","onIgnoreAttr","REGEXP_URL_JAVASCRIPT","safeAttrValue","util","arr","j","scope","str","parseStyle","cssLength","isParenthesisOpen","lastPos","retCSS","addNewAttr","source","ret","c","parser","DEFAULT","isNull","obj","shallowCopyObject","FilterCSS","me","sourcePosition","isWhite","opts","filterCSS","xss","exports","module","reg","match","getDefaultCSSWhiteList","defaultCSSFilter","onTag","tag","onIgnoreTag","onTagAttr","onIgnoreTagAttr","escapeHtml","REGEXP_LT","REGEXP_GT","cssFilter","friendlyAttrValue","REGEXP_DEFAULT_ON_TAG_ATTR_4","REGEXP_DEFAULT_ON_TAG_ATTR_7","REGEXP_DEFAULT_ON_TAG_ATTR_8","escapeAttrValue","REGEXP_QUOTE","REGEXP_QUOTE_2","REGEXP_ATTR_VALUE_1","REGEXP_ATTR_VALUE_COLON","REGEXP_ATTR_VALUE_NEWLINE","escapeQuote","unescapeQuote","escapeHtmlEntities","code","escapeDangerHtml5Entities","clearNonPrintableCharacter","str2","onIgnoreTagStripAll","StripTagBody","tags","isRemoveAllTag","isRemoveTag","removeList","posStart","rethtml","pos","stripCommentTag","retHtml","stripBlankChar","chars","char","getTagName","tagName","isClosing","parseTag","tagStart","quoteStart","currentPos","currentTagName","currentHtml","chariterator","ic","REGEXP_ILLEGAL_ATTR_NAME","parseAttr","lastMarkPos","retAttrs","tmpName","addAttr","findNextQuotationMark","findNextEqual","findBeforeEqual","stripQuoteWrap","isQuoteWrapString","text","require$$3","getAttrs","keysToLowerCase","FilterXSS","stripIgnoreTagBody","info","attrs","whiteAttrList","attrsHtml","isWhiteAttr","filterXSS","isWorkerEnv","xssOptions","WideButton","Button","MarkdownButton","widgetParamsMapped","buttonClasses","align","_highlight","highlight","alignLowerCase","buttonIsCenterAligned","buttonColor","button","jsx","resolveLinkEntity","synId","versionNumber","seen","currentEntity","getEntity","isLink","e","useResolveLinkEntity","useGetIsUserMemberOfTeam","teamId","userId","SynapseClient.getIsUserMemberOfTeam","useCleanHtml","rawHtml","isLoading","isTrusted","useMemo","HtmlPreview","createdByUserId","frameEl","useRef","frameHeight","setFrameHeight","useState","teamMembership","TRUSTED_HTML_USERS_TEAM_ID","updateHeight","newHeightPx","useEffect","cleanHtml","SynapseSpinner","jsxs","Fragment","Alert","PreviewRendererType","MAX_FILE_SIZE","MB","FileHandleContentRenderer","fileHandle","fileHandleAssociation","previewType","batchFileRequest","content","useGetPresignedUrlContent","IMAGE_CONTENT_TYPES","MP4_EXTENSIONS","OGG_EXTENSIONS","VIDEO_EXTENSIONS","CODE_EXTENSIONS","MARKDOWN_EXTENSIONS","getFileExtension","fileName","getOriginalFileHandleRenderer","dataFileHandle","fileExtension","getPreviewFileHandleRenderer","previewFileHandle","originalFileHandle","contentType","FileEntityPreview","bundle","isLoggedIn","isFileEntity","dataFileHandleId","fh","SignInPrompt","FileHandleAssociateType","EntityPreview","resolvedLink","isLoadingLinkResolution","isResolvedLinkFileEntity","isLoadingBundle","MarkdownEntityPreview","parsedReference","parseSynId","parsedVersionNumber","SubmissionInfoCard","UserCard","SMALL_USER_CARD","formatDate","dayjs","MarkdownSynapse","accessorChange","LoadingSubmissionInfoCard","SkeletonTable","Skeleton","IDUReport","inView","useInView","status","hasNextPage","isFetchingNextPage","fetchNextPage","allRows","React","MarkdownIDUReport","accessRestrictionId","cc","names","out","tmp","k","createStoreImpl","createState","listeners","partial","replace","nextState","previousState","listener","getState","api","createStore","h","l","n","p","q","d","f","g","r","u","useSyncExternalStoreShim_production_min","shimModule","w","withSelector_production_min","withSelectorModule","useSyncExternalStoreWithSelector","useSyncExternalStoreExports","useStore","selector","equalityFn","slice","useDebugValue","shallow","objA","objB","keysA","noop","dispatch","Dispatch","parseTypenames","typenames","types","typename","callback","T","get","set","copy","that","xhtml","namespaces","namespace","prefix","creatorInherit","document","uri","creatorFixed","fullname","creator","none","selection_select","select","groups","subgroups","group","subgroup","subnode","Selection","array","empty","selectorAll","arrayAll","selection_selectAll","parents","matcher","childMatcher","find","childFind","childFirst","selection_selectChild","filter","children","childrenFilter","selection_selectChildren","selection_filter","sparse","update","selection_enter","EnterNode","datum","constant$3","bindIndex","enter","exit","groupLength","dataLength","bindKey","nodeByKeyValue","keyValues","keyValue","selection_data","bind","constant","arraylike","enterGroup","updateGroup","exitGroup","i0","i1","previous","selection_exit","selection_join","onenter","onupdate","onexit","selection_merge","selection","groups0","groups1","m0","m1","merges","group0","group1","merge","selection_order","selection_sort","compare","ascending","compareNode","sortgroups","sortgroup","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","attrRemove","attrRemoveNS","attrConstant","attrConstantNS","attrFunction","attrFunctionNS","selection_attr","defaultView","styleRemove","styleConstant","priority","styleFunction","selection_style","styleValue","propertyRemove","propertyConstant","propertyFunction","selection_property","classArray","string","classList","ClassList","classedAdd","classedRemove","classedTrue","classedFalse","classedFunction","selection_classed","textRemove","textConstant","textFunction","selection_text","htmlRemove","htmlConstant","htmlFunction","selection_html","raise","selection_raise","lower","selection_lower","selection_append","create","constantNull","selection_insert","before","remove","selection_remove","selection_cloneShallow","clone","selection_cloneDeep","selection_clone","deep","selection_datum","contextListener","onRemove","on","o","onAdd","selection_on","dispatchEvent","params","dispatchConstant","dispatchFunction","selection_dispatch","selection_iterator","root","selection_selection","sourceEvent","pointer","svg","point","nonpassive","nonpassivecapture","nopropagation","noevent$1","dragDisable","view","noevent","yesdrag","noclick","constant$2","DragEvent","subject","identifier","active","dx","dy","defaultFilter","defaultContainer","defaultSubject","defaultTouchable","drag","container","touchable","gestures","mousedownx","mousedowny","mousemoving","touchending","clickDistance2","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","mousemoved","mouseupped","nodrag","touches","touch","s","p0","define","constructor","factory","prototype","extend","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","channels","color_formatHex","color_formatHex8","color_formatHsl","color_formatRgb","hslConvert","format","rgbn","Rgb","rgba","hsla","rgbConvert","rgb","opacity","clampi","clampa","rgb_formatHex","rgb_formatHex8","rgb_formatRgb","hex","Hsl","hsl","m2","hsl2rgb","clamph","clampt","constant$1","linear","exponential","gamma","nogamma","interpolateRgb","rgbGamma","colorRgb","interpolateNumber","reA","reB","zero","one","interpolateString","bi","am","bm","bs","number","degrees","identity","decompose","skewX","svgNode","parseCss","parseSvg","interpolateTransform","parse","pxComma","pxParen","degParen","pop","translate","xa","ya","xb","yb","rotate","scale","interpolateTransformCss","interpolateTransformSvg","epsilon2","cosh","sinh","tanh","interpolateZoom","zoomRho","rho","rho2","rho4","zoom","p1","ux0","uy0","w0","ux1","uy1","w1","d2","S","d1","b0","b1","r0","r1","coshr0","_1","_2","_4","frame","timeout","interval","pokeDelay","taskHead","taskTail","clockLast","clockNow","clockSkew","clock","setFrame","now","clearNow","Timer","timer","delay","time","sleep","timerFlush","wake","nap","poke","t0","t1","t2","elapsed","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","schedule","id","timing","schedules","init","self","tween","stop","tick","interrupt","selection_interrupt","tweenRemove","tween0","tween1","tweenFunction","transition_tween","tweenValue","transition","interpolate","value1","string00","string1","interpolate0","string0","string10","transition_attr","attrInterpolate","attrInterpolateNS","attrTweenNS","attrTween","transition_attrTween","delayFunction","delayConstant","transition_delay","durationFunction","durationConstant","transition_duration","easeConstant","transition_ease","easeVarying","transition_easeVarying","transition_filter","Transition","transition_merge","onFunction","on0","on1","sit","transition_on","removeFunction","transition_remove","transition_select","transition_selectAll","inherit","transition_selection","styleNull","styleMaybeRemove","listener0","transition_style","styleInterpolate","styleTween","transition_styleTween","transition_text","textInterpolate","textTween","transition_textTween","transition_transition","id0","id1","newId","transition_end","reject","cancel","selection_prototype","cubicInOut","defaultTiming","easeCubicInOut","selection_transition","ZoomEvent","transform","Transform","location","defaultExtent","defaultTransform","defaultWheelDelta","defaultConstrain","extent","translateExtent","dx0","dx1","dy0","dy1","constrain","wheelDelta","scaleExtent","duration","touchstarting","touchfirst","touchDelay","wheelDelay","tapDistance","wheeled","dblclicked","collection","k0","k1","centroid","clean","Gesture","wheelidled","currentTarget","x0","y0","dragEnable","started","l0","l1","dp","dl","StoreContext","createContext","Provider$1","errorMessages","nodeType","sourceHandle","edge","edgeType","zustandErrorMessage","store","useContext","useStore$1","useStoreApi","selector$g","Panel","rest","pointerEvents","positionClasses","Attribution","proOptions","EdgeText","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","edgeRef","edgeTextBbox","setEdgeTextBbox","edgeTextClasses","textBbox","EdgeText$1","memo","getDimensions","clamp","val","clampPosition","calcAutoPanVelocity","calcAutoPan","bounds","xMovement","yMovement","getHostForElement","_a","getBoundsOfBoxes","box1","box2","rectToBox","boxToRect","x2","y2","nodeToRect","getOverlappingArea","rectA","rectB","xOverlap","yOverlap","isRectObject","isNumeric","internalsSymbol","elementSelectionKeys","devWarn","message","isReactKeyboardEvent","isInputDOMNode","kbEvent","_b","isMouseEvent","getEventPosition","isMouseTriggered","evtX","evtY","BaseEdge","path","labelX","labelY","markerEnd","markerStart","interactionWidth","getMouseHandler$1","handler","getEdgeCenter","sourceX","sourceY","targetX","targetY","xOffset","centerX","yOffset","centerY","getBezierEdgeCenter","sourceControlX","sourceControlY","targetControlX","targetControlY","ConnectionMode","PanOnScrollMode","SelectionMode","ConnectionLineType","MarkerType","Position","getControl","x1","y1","getSimpleBezierPath","targetPosition","SimpleBezierEdge","handleDirections","getDirection","getPoints","sourceDir","targetDir","sourceGapped","targetGapped","dir","dirAccessor","currDir","points","defaultCenterX","defaultCenterY","defaultOffsetX","defaultOffsetY","verticalSplit","horizontalSplit","sourceTarget","targetSource","dirAccessorOpposite","isSameDir","sourceGtTargetOppo","sourceLtTargetOppo","getBend","bendSize","xDir","yDir","getSmoothStepPath","borderRadius","res","segment","SmoothStepEdge","pathOptions","StepEdge","getStraightPath","StraightEdge","calculateControlOffset","curvature","getControlWithCurvature","getBezierPath","BezierEdge","NodeIdContext","Provider","useNodeId","isEdge","getEdgeId","targetHandle","getMarkerId","marker","rfId","connectionExists","edges","el","addEdge","edgeParams","pointToRendererPoint","tx","ty","tScale","snapToGrid","snapX","snapY","rendererPointToPoint","getNodePositionWithOrigin","nodeOrigin","getRectOfNodes","nodes","box","currBox","getNodesInside","nodeInternals","partially","excludeNonSelectableNodes","paneRect","visibleNodes","selectable","hidden","positionAbsolute","nodeRect","overlappingArea","notInitialized","partiallyVisible","area","getConnectedEdges","nodeIds","getTransformForBounds","minZoom","maxZoom","xZoom","yZoom","clampedZoom","boundsCenterX","boundsCenterY","getD3Transition","getHandles","handleBounds","currentHandle","getClosestHandle","connectionRadius","handles","closestHandle","minDistance","handle","nullConnection","isValidHandle","connectionMode","fromNodeId","fromHandleId","fromType","isValidConnection","doc","isTarget","handleDomNode","handleBelow","handleToCheck","handleType","getHandleType","handleNodeId","handleId","connectable","connectableEnd","connection","getHandleLookup","nodeId","sourceHandles","targetHandles","edgeUpdaterType","resetRecentHandle","getConnectionStatus","isInsideConnectionRadius","isHandleValid","connectionStatus","handlePointerDown","onConnect","onEdgeUpdateEnd","domNode","autoPanOnConnect","onConnectStart","panBy","getNodes","cancelConnection","autoPanId","prevClosestHandle","clickedHandle","containerBounds","prevActiveHandle","connectionPosition","autoPanStarted","isValid","handleLookup","autoPan","onPointerMove","onPointerUp","alwaysValid","selector$f","connectingSelector","startHandle","endHandle","clickHandle","Handle","forwardRef","isConnectable","isConnectableStart","isConnectableEnd","onMouseDown","onTouchStart","connectOnClick","noPanClassName","connecting","clickConnecting","onConnectExtended","defaultEdgeOptions","onConnectAction","hasDefaultEdges","setEdges","onPointerDown","onClick","onClickConnectStart","onClickConnectEnd","connectionClickStartHandle","isValidConnectionStore","isValidConnectionHandler","Handle$1","DefaultNode","DefaultNode$1","InputNode","InputNode$1","OutputNode","OutputNode$1","GroupNode","selector$e","selectId","areEqual","SelectionListener","onSelectionChange","selectedNodes","selectedEdges","changeSelector","Wrapper$1","storeHasSelectionChange","selector$d","useStoreUpdater","setStoreState","useDirectStoreUpdater","StoreUpdater","defaultNodes","defaultEdges","onConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesUpdatable","elevateNodesOnSelect","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","snapGrid","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","autoPanOnNodeDrag","onError","setNodes","setDefaultNodesAndEdges","setMinZoom","setMaxZoom","setTranslateExtent","setNodeExtent","reset","edgesWithDefaults","ariaLiveStyle","ARIA_NODE_DESC_KEY","ARIA_EDGE_DESC_KEY","ARIA_LIVE_MESSAGE","selector$c","AriaLiveMessage","ariaLiveMessage","A11yDescriptions","disableKeyboardA11y","shiftX","shift","shiftY","EdgeUpdaterClassName","EdgeAnchor","radius","onMouseEnter","onMouseOut","alwaysValidConnection","wrapEdge","EdgeComponent","EdgeWrapper","onEdgeDoubleClick","animated","sourceHandleId","targetHandleId","onContextMenu","onMouseMove","onMouseLeave","edgeUpdaterRadius","onEdgeUpdate","onEdgeUpdateStart","ariaLabel","isFocusable","isUpdatable","updateHover","setUpdateHover","updating","setUpdating","markerStartUrl","markerEndUrl","onEdgeClick","addSelectedEdges","onEdgeDoubleClickHandler","onEdgeContextMenu","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","handleEdgeUpdater","isSourceHandle","_onEdgeUpdateEnd","evt","onEdgeUpdaterSourceMouseDown","onEdgeUpdaterTargetMouseDown","onEdgeUpdaterMouseEnter","onEdgeUpdaterMouseOut","inactive","onKeyDown","unselectNodesAndEdges","createEdgeTypes","edgeTypes","standardTypes","wrappedTypes","specialTypes","getHandlePosition","getHandle","getEdgePositions","sourceNodeRect","targetNodeRect","sourceHandlePos","targetHandlePos","isEdgeVisible","sourcePos","targetPos","sourceWidth","sourceHeight","targetWidth","targetHeight","edgeBox","viewBox","getNodeData","_c","_d","_e","isParentSelected","parentNode","hasSelector","nodeRef","getDragItems","mousePos","calcNextPosition","nextPosition","currentExtent","parentX","parentY","parentPosition","getEventHandlerParams","dragItems","extentedDragItems","getHandleBounds","nodeElement","handlesArray","nodeBounds","nodeOffset","getMouseHandler","handleNodeClick","unselect","addSelectedNodes","multiSelectionActive","useGetPointerPosition","useCallback","pointerPos","wrapSelectionDragFunc","selectionFunc","useDrag","noDragClassName","handleSelector","isSelectable","selectNodesOnDrag","dragging","setDragging","mousePosition","dragEvent","getPointerPosition","updateNodes","updateNodePositions","hasChange","updatedPos","onDrag","dragHandler","onStart","onStop","useUpdateNodePositions","xVelo","yVelo","factor","positionDiffX","positionDiffY","nodeUpdates","arrowKeyDiffs","wrapNode","NodeComponent","NodeWrapper","xPos","yPos","xPosOrigin","yPosOrigin","onDoubleClick","isDraggable","resizeObserver","dragHandle","zIndex","isParent","initialized","prevSourcePosition","prevTargetPosition","prevType","hasPointerEvents","updatePositions","onMouseEnterHandler","onMouseMoveHandler","onMouseLeaveHandler","onContextMenuHandler","onDoubleClickHandler","onSelectNodeHandler","currNode","typeChanged","sourcePosChanged","targetPosChanged","createNodeTypes","nodeTypes","getPositionWithOrigin","origin","useKeyPress","keyCode","keyPressed","setKeyPressed","modifierPressed","pressedKeys","keyCodes","keysToWatch","kc","keysFlat","downHandler","keyOrCode","useKeyOrCode","isMatchingKey","upHandler","resetHandler","isUp","eventCode","calculateXYZPosition","parentNodePosition","updateAbsoluteNodePositions","parentNodes","z","createNodeInternals","nextNodeInternals","selectedNodeZ","currInternals","internals","d3Zoom","d3Selection","fitViewOnInitDone","fitViewOnInit","isInitialFitView","isVisible","optionNode","nodesInitialized","nextTransform","zoomIdentity","handleControlledNodeSelectionChange","nodeChanges","change","handleControlledEdgeSelectionChange","edgeChanges","updateNodesAndEdgesSelections","changedNodes","changedEdges","hasDefaultNodes","initialViewportHelper","selector$b","useViewportHelper","zoomLevel","nextZoom","useReactFlow","viewportHelper","getNode","getEdges","getEdge","payload","nextNodes","changes","nextEdges","addNodes","addEdges","toObject","deleteElements","nodesDeleted","edgesDeleted","edgeIds","nodesToRemove","parentHit","deletableEdges","initialHitEdges","connectedEdges","edgesToRemove","edgeIdsToRemove","getNodeRect","nodeOrRect","isRect","getIntersectingNodes","currNodeRect","isNodeIntersecting","useGlobalKeyHandler","deleteKeyCode","multiSelectionKeyCode","deleteKeyPressed","multiSelectionKeyPressed","useResizeHandler","rendererNode","updateDimensions","containerStyle","viewChanged","prevViewport","eventViewport","eventToFlowTransform","isWrappedWithClass","isRightClickPan","panOnDrag","usedButton","selector$a","ZoomPane","onMove","onMoveStart","onMoveEnd","onPaneContextMenu","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","defaultViewport","zoomActivationKeyCode","preventScrolling","noWheelClassName","timerId","isZoomingOrPanning","zoomedWithRightMouseButton","zoomPane","prevTransform","d3ZoomHandler","userSelectionActive","zoomActivationKeyPressed","mouseButton","bbox","d3ZoomInstance","updatedTransform","constrainedTransform","currentZoom","pinchDelta","deltaNormalize","deltaX","deltaY","onViewportChangeStart","flowTransform","onViewportChange","onViewportChangeEnd","zoomScroll","pinchZoom","buttonAllowed","selector$9","UserSelection","userSelectionRect","handleParentExpand","updateItem","extendWidth","extendHeight","xDiff","yDiff","applyChanges","initElements","currentChanges","currentChange","applyNodeChanges","applyEdgeChanges","createSelectionChange","getSelectionChanges","selectedIds","willBeSelected","wrapHandler","containerRef","selector$8","Pane","isSelecting","selectionMode","onSelectionStart","onSelectionEnd","onPaneClick","onPaneScroll","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","prevSelectedNodesCount","prevSelectedEdgesCount","resetUserSelection","onWheel","resetSelectedElements","startX","startY","nextUserSelectRect","selectedEdgeIds","selectedNodeIds","onMouseUp","hasActiveSelection","selector$7","NodesSelection","onSelectionContextMenu","transformString","NodesSelection$1","selector$6","FlowRenderer","selectionKeyCode","selectionOnDrag","panActivationKeyCode","_panOnDrag","nodesSelectionActive","selectionKeyPressed","FlowRenderer$1","useVisibleNodes","onlyRenderVisible","selector$5","NodeRenderer","updateNodeDimensions","resizeObserverRef","observer","updates","entry","clampedPosition","posX","posY","posOrigin","NodeRenderer$1","defaultEdgeTree","groupEdgesByZLevel","elevateEdgesOnSelect","maxLevel","levelLookup","tree","hasZIndex","edgeTree","level","useVisibleEdges","sourceNode","targetNode","ArrowSymbol","strokeWidth","ArrowClosedSymbol","MarkerSymbols","useMarkerSymbol","Marker","markerUnits","orient","Symbol","markerSelector","defaultColor","ids","markers","markerId","MarkerDefinitions","MarkerDefinitions$1","selector$4","EdgeRenderer","defaultMarkerColor","onlyRenderVisibleElements","isMaxLevel","sourceHandleBounds","sourceIsValid","targetHandleBounds","targetIsValid","targetNodeHandles","EdgeRenderer$1","selector$3","Viewport","useOnInitHandler","onInit","rfInstance","isInitialized","oppositePosition","ConnectionLine","CustomComponent","fromNode","toX","toY","fromHandleBounds","fromHandle","fromHandleX","fromHandleY","fromX","fromY","fromPosition","toPosition","dAttr","pathParams","selector$2","ConnectionLineWrapper","GraphView","onNodeClick","onNodeDoubleClick","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","GraphView$1","infiniteExtent","initialState","createRFStore","fitViewOnInitOptions","viewportNode","dimensions","nextFitViewOnInitDone","nodeDragItems","positionChanged","triggerNodeChanges","edgeId","storeEdges","nodesToUnselect","edgesToUnselect","delta","ReactFlowProvider","storeRef","Wrapper","useNodeOrEdgeTypes","nodeOrEdgeTypes","createTypes","defaultNodeTypes","defaultEdgeTypes","initNodeOrigin","initSnapGrid","initDefaultViewport","wrapperStyle","ReactFlow","attributionPosition","nodeTypesWrapped","edgeTypesWrapped","createUseItemsState","initialItems","setItems","onItemsChange","useNodesState","useEdgesState","PlusIcon","MinusIcon","FitViewIcon","LockIcon","UnlockIcon","ControlButton","isInteractiveSelector","Controls","showZoom","showFitView","showInteractive","onZoomIn","onZoomOut","onFitView","onInteractiveChange","setIsVisible","isInteractive","zoomIn","zoomOut","onZoomInHandler","onZoomOutHandler","onFitViewHandler","onToggleInteractivity","Controls$1","ActivityNodeLabel","userProfile","useGetUserProfile","friendlyModifiedOn","description","Tooltip","Typography","UserCardSmall","codeFileExtensionSet","ProvenanceEntityIcon","entityHeader","entityType","convertToEntityType","EntityType","lastPeriodIndex","extension","IconSvg","EntityTypeIcon","EntityNodeLabel","targetVersionNumberString","entityVersionString","PRODUCTION_ENDPOINT_CONFIG","isVersionableEntityType","pluralize","require","this","pluralRules","singularRules","uncountables","irregularPlurals","irregularSingles","sanitizeRule","rule","restoreCase","word","token","sanitizeWord","rules","replaceWord","replaceMap","keepMap","checkWord","bool","inclusive","pluralized","replacement","single","plural","ExpandGraphNodeLabel","itemCount","githubRegex","githubusercontentRegex","ProvenanceExternalIcon","url","icon","parsedUrl","hostname","ExternalGraphNodeLabel","baseClone","CLONE_SYMBOLS_FLAG","clone_1","isArrayLike","createBaseEach","eachFunc","fromRight","iteratee","iterable","_createBaseEach","baseForOwn","baseEach","_baseEach","castFunction","_castFunction","arrayEach","isArray","forEach","func","forEach_1","each","baseFilter","predicate","_baseFilter","arrayFilter","baseIteratee","filter_1","objectProto","hasOwnProperty","baseHas","object","_baseHas","hasPath","has","has_1","isUndefined","isUndefined_1","baseMap","_baseMap","arrayMap","map_1","arrayReduce","accumulator","initAccum","_arrayReduce","baseReduce","_baseReduce","require$$4","reduce","reduce_1","baseProperty","asciiSize","_asciiSize","rsAstralRange","rsComboMarksRange","reComboHalfMarksRange","rsComboSymbolsRange","rsComboRange","rsVarRange","rsZWJ","reHasUnicode","hasUnicode","_hasUnicode","rsAstral","rsCombo","rsFitz","rsModifier","rsNonAstral","rsRegional","rsSurrPair","reOptMod","rsOptVar","rsOptJoin","rsSeq","rsSymbol","reUnicode","unicodeSize","_unicodeSize","stringSize","_stringSize","baseKeys","getTag","isString","mapTag","setTag","size_1","baseCreate","getPrototype","require$$5","isBuffer","require$$6","isFunction","require$$7","isObject","require$$8","isTypedArray","require$$9","isArr","isArrLike","Ctor","transform_1","baseValues","_baseValues","values","values_1","lodash","require$$10","require$$11","require$$12","require$$13","require$$14","require$$15","lodash_1","graph","Graph","DEFAULT_EDGE_NAME","GRAPH_NODE","EDGE_KEY_DELIM","newDefault","vs","removeEdge","ancestor","predsV","sucsV","preds","neighbors","findParent","valueSpecified","arg0","edgeArgsToId","edgeObj","edgeArgsToObj","incrementOrInitEntry","edgeObjToId","decrementOrRemoveEntry","inV","outV","inEdges","isDirected","v_","w_","lib","json","writeNodes","writeEdges","nodeValue","edgeValue","components_1","cmpts","cmpt","dfs","priorityQueue","PriorityQueue","keyIndices","largest","origArrI","origArrJ","dijkstra_1","dijkstra","DEFAULT_WEIGHT_FUNC","weightFn","edgeFn","runDijkstra","results","pq","vEntry","updateNeighbors","wEntry","weight","dijkstraAll_1","dijkstraAll","weightFunc","edgeFunc","tarjan_1","tarjan","stack","findCycles_1","findCycles","floydWarshall_1","floydWarshall","runFloydWarshall","rowK","rowI","ik","kj","ij","altDistance","topsort_1","topsort","CycleException","visit","isAcyclic_1","isAcyclic","dfs_1","navigation","doDfs","postorder","postorder_1","preorder_1","preorder","prim_1","prim","pri","edgeWeight","alg","graphlib","graphlib_1","eq","isIndex","isIterateeCall","_isIterateeCall","baseRest","keysIn","defaults","sources","guard","propsIndex","propsLength","defaults_1","createFind","findIndexFunc","fromIndex","_createFind","toNumber","INFINITY","MAX_INTEGER","toFinite","sign","toFinite_1","toInteger","remainder","toInteger_1","baseFindIndex","nativeMax","findIndex","findIndex_1","find_1","baseFor","forIn","forIn_1","last","last_1","isSymbol","baseExtremum","comparator","computed","_baseExtremum","baseGt","_baseGt","max_1","baseAssignValue","assignMergeValue","_assignMergeValue","safeGet","_safeGet","copyObject","toPlainObject","toPlainObject_1","cloneBuffer","cloneTypedArray","copyArray","initCloneObject","isArguments","isArrayLikeObject","isPlainObject","baseMergeDeep","srcIndex","mergeFunc","customizer","objValue","srcValue","stacked","newValue","isCommon","isBuff","isTyped","_baseMergeDeep","Stack","baseMerge","_baseMerge","createAssigner","assigner","_createAssigner","merge_1","baseLt","_baseLt","min_1","minBy","minBy_1","nativeCeil","baseRange","step","_baseRange","createRange","_createRange","range_1","baseSortBy","comparer","_baseSortBy","compareAscending","valIsDefined","valIsNull","valIsReflexive","valIsSymbol","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","_compareAscending","compareMultiple","orders","objCriteria","othCriteria","ordersLength","_compareMultiple","baseGet","baseUnary","baseOrderBy","iteratees","criteria","_baseOrderBy","baseFlatten","sortBy","sortBy_1","toString","idCounter","uniqueId","uniqueId_1","baseZipObject","assignFunc","valsLength","_baseZipObject","assignValue","zipObject","zipObject_1","require$$16","require$$17","require$$18","require$$19","require$$20","require$$21","require$$22","require$$23","require$$24","require$$25","List","sentinel","unlink","strs","curr","filterOutLinks","greedyFas","greedyFAS","DEFAULT_WEIGHT_FN","buildState","doGreedyFAS","buckets","zeroIdx","sinks","removeNode","collectPredecessors","uEntry","assignBucket","fasGraph","maxIn","maxOut","prevWeight","acyclic","run","undo","fas","dfsFAS","forwardName","addDummyNode","simplify","asNonCompoundGraph","successorWeights","predecessorWeights","intersectRect","buildLayerMatrix","normalizeRanks","removeEmptyRanks","addBorderNode","maxRank","partition","notime","simplified","simpleLabel","weightMap","sucs","sx","sy","layering","rank","layers","nodeRankFactor","normalize","normalizeEdge","vRank","wRank","edgeLabel","labelRank","dummy","origLabel","longestPath","slack","feasibleTree_1","feasibleTree","tightTree","findMinSlackEdge","shiftRanks","edgeV","initRank","networkSimplex_1","networkSimplex","initLowLimValues","initCutValues","calcCutValue","leaveEdge","enterEdge","exchangeEdges","assignCutValue","childLab","childIsTail","graphEdge","cutValue","isOutEdge","pointsToHead","otherWeight","isTreeEdge","otherCutValue","dfsAssignLowLim","nextLim","low","vLabel","wLabel","tailLabel","candidates","isDescendant","updateRanks","flipped","rootLabel","rankUtil","rank_1","networkSimplexRanker","tightTreeRanker","longestPathRanker","parentDummyChains_1","parentDummyChains","postorderNums","pathData","findPath","lca","pathIdx","pathV","vPath","wPath","lim","nestingGraph","cleanup","depths","treeDepths","nodeSep","sumWeights","childNode","childTop","childBottom","thisWeight","minlen","depth","graphLabel","addBorderSegments_1","addBorderSegments","prop","sg","sgNode","prev","coordinateSystem","adjust","rankDir","swapWidthHeight","reverseY","swapXY","swapWidthHeightOne","reverseYOne","swapXYOne","initOrder_1","initOrder","simpleNodes","orderedVs","crossCount_1","crossCount","twoLayerCrossCount","northLayer","southLayer","southPos","southEntries","firstIndex","treeSize","weightSum","barycenter_1","barycenter","movable","nodeU","resolveConflicts_1","resolveConflicts","cg","mappedEntries","entryV","entryW","sourceSet","doResolveConflicts","handleIn","mergeEntries","handleOut","sum","sort_1","biasRight","parts","sortable","unsortable","vsIndex","compareWithBias","consumeUnsortable","bias","sortSubgraph_1","sortSubgraph","bl","br","subgraphs","barycenters","subgraphResult","mergeBarycenters","expandSubgraphs","blPred","brPred","buildLayerGraph_1","buildLayerGraph","relationship","createRootNode","addSubgraphConstraints_1","addSubgraphConstraints","rootPrev","prevChild","order_1","downLayerGraphs","buildLayerGraphs","upLayerGraphs","assignOrder","bestCC","best","lastBest","sweepLayerGraphs","ranks","layerGraphs","lg","sorted","layer","bk","positionX","findType1Conflicts","findType2Conflicts","addConflict","hasConflict","verticalAlignment","horizontalCompaction","alignCoordinates","findSmallestWidthAlignment","balance","conflicts","visitLayer","prevLayer","scanPos","prevLayerLength","lastNode","findOtherInnerSegmentNode","scanNode","uLabel","uPos","scan","south","southEnd","prevNorthBorder","nextNorthBorder","uNode","north","prevNorthPos","nextNorthPos","southLookahead","predecessors","conflictsV","neighborFn","prevIdx","ws","mp","il","reverseSep","xs","blockG","buildBlockGraph","borderType","iterate","setXsFunc","nextNodesFunc","elem","pass1","pass2","blockGraph","sepFn","sep","vRoot","uRoot","prevMax","halfWidth","alignTo","alignToVals","alignToMin","alignToMax","vert","horiz","alignment","xsVals","ignore","adjustedLayering","inner","smallestWidth","edgeSep","position_1","positionY","rankSep","prevY","maxHeight","layout_1","layout","layoutGraph","buildLayoutGraph","runLayout","updateInputGraph","makeSpaceForEdgeLabels","removeSelfEdges","injectEdgeLabelProxies","assignRankMinMax","removeEdgeLabelProxies","insertSelfEdges","positionSelfEdges","removeBorderNodes","fixupEdgeLabelCoords","translateGraph","assignNodeIntersects","reversePointsForReversedEdges","inputGraph","inputLabel","layoutLabel","graphNumAttrs","graphDefaults","graphAttrs","nodeNumAttrs","nodeDefaults","edgeNumAttrs","edgeDefaults","edgeAttrs","canonicalize","selectNumberAttrs","minX","maxX","minY","maxY","marginX","marginY","getExtremes","nodeV","nodeW","p2","orderShift","selfEdge","selfNode","newAttrs","debug","debugOrdering","layerMatrix","layerV","dagre","UndefinedNodeLabel","HelpPopover","EntityPlaceholderNodeLabel","NodeType","NodeType2","getProvenanceNode","nodeLabel","nodeData","getNodeId","getProvenanceEdge","node1Props","node2Props","node1Id","node2Id","dagreGraph","getNodeHeight","getNodeWidth","getLayoutedElements","direction","isHorizontal","nodeWithPosition","isArrayEqual","differenceWith","USED_ENTITY_CONCRETE_TYPE_VALUE","isRootEntity","rootEntityHeaders","header","isNodeNotFound","nodeProps","nodesCopy","findEntityNode","isEdgeNotFound","nodeProps1","nodeProps2","edgesCopy","addNodeAndEdge","newNodeProps","existingNodeProps","addActivityNode","activity","activityNodeProps","entityNodeProps","addExpandNode","expandNodeProps","addEntityPlaceholderNode","entityPlaceholderNodeProps","addUndefinedNode","undefinedNodeProps","addExternalNode","usedURL","externalNodeProps","addEntityNode","MAX_ACTIVITY_EXPAND_NODES","DEFAULT_ZOOM","ProvenanceReactFlow","rootEntityRefs","containerHeight","initialNodes","initialEdges","onNodesChangedListener","onEdgesChangedListener","tempNodes","setTempNodes","tempEdges","setTempEdges","clickedNode","setClickedNode","handleError","useErrorHandler","rootEntityHeadersPage","isSuccess","synapseIds","initializedPosition","setInitializedPosition","reactFlowInstance","onClickNode","_event","addEntity","usedInActivity","SynapseClient.getActivityForEntity","rootEntityNode","onExpandEntity","usedEntityReferences","usedItem","usedEntityHeadersPage","usedEntityHeaderPageResults","addEntityPromises","addAndExpandPromises","addEntityPromise","expandEntityPromise","expandNodeDataProps","displayToast","nodesWithoutExpandNode","edgeToRemove","edgesWithoutExpandEdge","layoutedNodes","layoutedEdges","onPaneScrollFunction","ProvenanceGraph","SynapseErrorBoundary","MarkdownProvenanceGraph","entityList","displayHeightPx","refs","entityAndVersion","SynapseImage","React.Component","synapseId","fileHandleAssociationList","getFiles","preSignedURL","err","fileResults","altText","React.Fragment","__publicField","SynapseContext","SynapseWikiContext","SynapseWikiContextProvider","wikiContext","SynapseWikiContextConsumer","useWikiContext","MarkdownSynapseImage","wikiId","wikiPage","fileHandles","Plot","createPlotlyComponent","Plotly","SynapsePlot","query","queryRequest","SynapseConstants.BUNDLE_MASK_QUERY_RESULTS","parseEntityIdFromSqlStatement","getFullQueryTableResults","title","xtitle","ytitle","xaxistype","showlegend","queryData","plotData","orientation","headers","row","rowValues","MarkdownSynapsePlot","ownerId","ESTIMATED_CORS_TIME_MS","ESTIMATED_DOWNLOAD_SPEED_EXPIRE_TIME_KEY","ESTIMATED_DOWNLOAD_SPEED_KEY","TEST_FILE_ENTITY_ID","testDownloadSpeed","cachedSpeedExpireTime","cachedSpeed","entity","fileEntity","presignedUrl","startMs","getFileHandleContent","SkeletonInlineBlock","$","M","relativeTime","DownloadDetails","numFiles","numBytes","downloadSpeed","speed","timeEstimateInSeconds","isTimeEstimateLoading","friendlyTime","isZeroFiles","fileCountIconClass","timeEstimateIconClass","TOOLTIP_DELAY_SHOW","calculateFriendlyFileSize","QueryContext","QueryContextProvider","queryContext","useQueryContext","usePaginatedQueryContext","useInfiniteQueryContext","QueryContextConsumer","getComponentSearchHashId","componentIndex","patchSearchString","componentSearchHashId","stringifiedQuery","searchString","searchFragment","getSearchParamValueFromUrl","getSearchParamValue","updateUrlWithNewSearchParam","newURL","getQueryRequestFromLink","searchParamValue","initQueryRequest","SynapseConstants.BUNDLE_MASK_QUERY_COLUMN_MODELS","SynapseConstants.BUNDLE_MASK_QUERY_FACETS","SynapseConstants.BUNDLE_MASK_QUERY_SELECT_COLUMNS","SynapseConstants.BUNDLE_MASK_QUERY_COUNT","useImmutableTableQuery","shouldDeepLink","onQueryChange","lastQueryRequest","setLastQueryRequest","DeepLinkingUtils.getQueryRequestFromLink","getLastQueryRequest","cloneDeep","getInitQueryRequest","setQuery","newQueryRequest","clonedQueryRequest","clonedQueryJson","encodedQuery","DeepLinkingUtils.updateUrlWithNewSearchParam","parseEntityIdAndVersionFromSqlStatement","pageSize","DEFAULT_PAGE_SIZE","currentPage","setPageSize","currentQuery","goToPage","pageNumber","resetQuery","useDeepCompareEffect","removeSelectedFacet","facetColumnRequest","facet","removeValueFromSelectedFacet","removeQueryFilter","queryFilter","qf","removeValueFromQueryFilter","isColumnSingleValueQueryFilter","isColumnMultiValueFunctionQueryFilter","QUERY_FILTERS_EXPANDED_CSS","QUERY_FILTERS_COLLAPSED_CSS","QueryWrapper","onQueryResultBundleChange","lockedColumn","currentAsyncStatus","setCurrentAsyncStatus","asyncJobStatus","queryIsLoading","newQueryIsFetching","useGetQueryResultBundleWithAsyncStatus","isLoadingNewBundle","useGetEntity","useDeepCompareEffectNoCheck","isFacetsAvailable","isFacetAvailable","dataWithLockedColumnFacetRemoved","removeLockedColumnFromFacetData","hasResettableFilters","hasResettableFiltersUtil","getColumnModel","columnName","cm","addToDownload","closeConfirmationFn","queryBundleRequest","folderId","goToDownloadListFn","req","SynapseClient.addFilesToDownloadListV2","StatusConstruct","SignInButton","DownloadConfirmationContent","DownloadConfirmation","fnClose","setTopLevelControlsState","topLevelControlsState","downloadCartPageUrl","showDownloadConfirmation","setStatus","fileCount","setFileCount","fileSize","setFileSize","downloadListStatistics","refetch","useGetDownloadListStatistics","showDownloadList","setShowDownloadList","updateStats","bytes","downloadListStatistics2","hasFilesInDownloadList","fileCount2","entityChildrenData","partMask","SynapseConstants.BUNDLE_MASK_SUM_FILES_SIZE_BYTES","queryBundleRequestSizeInformation","queryResultBundle","useGetQueryResultBundle","isGreaterThanReportedValue","onCancel","topLevelControlsState2","triggerAddToDownload","newStatus","showFacetFilter","NoContentAvailable","NoContentPlaceholderType","SearchResultsNotFound","NoSearchResults","ThisTableIsEmpty","NoData","getStoredEntityHeaders","SynapseConstants.ENTITY_HEADER_STORAGE_KEY","getStoredUserProfiles","SynapseConstants.USER_PROFILE_STORAGE_KEY","getStoredEvaluation","SynapseConstants.EVALUATIONS_STORAGE_KEY","getDisplayValueForEntityColumn","getDisplayValueEvaluationIdColumn","facetValue","evaluation","getDisplayValueUserIdColumn","getDisplayValue","columnType","SynapseConstants.VALUE_NOT_SET","SynapseConstants.FRIENDLY_VALUE_NOT_SET","ColumnTypeEnum","QueryVisualizationContext","QueryVisualizationContextProvider","queryVisualizationContext","useQueryVisualizationContext","QueryVisualizationContextConsumer","QueryVisualizationWrapper","noContentPlaceholderType","columnAliases","setSelectedRowIndices","visibleColumns","setVisibleColumns","selectedRowIndices","selectColumns","useDeepCompareMemoize","getColumnDisplayName","forceDisplayOriginalColumnName","unCamelCase","NoContentPlaceholder","MIN_SEARCH_QUERY_LENGTH","FullTextSearch","helpMessage","helpUrl","executeQueryRequest","showSearchBar","searchText","setSearchText","searchInputRef","search","lastQueryRequestDeepClone","additionalFilters","textMatchesQueryFilter","Collapse","reactIs_production_min","reactIsModule","baseIsEqual","isEqual_1","baseUniq","uniqWith","uniqWith_1","SetCache","arrayIncludes","arrayIncludesWith","cacheHas","nativeMin","baseIntersection","arrays","includes","othLength","othIndex","caches","maxLength","outer","cache","_baseIntersection","castArrayLikeObject","_castArrayLikeObject","intersectionWith","mapped","intersectionWith_1","baseGetTag","isObjectLike","boolTag","isBoolean","isBoolean_1","uniq","normalizeArray","undef","stringArray","undefEmpty","keyValEqual","undefAndZero","falseUndefined","emptySchema","schema","emptyObjUndef","isSchema","undefArrayEqual","unsortedNormalizedArray","schemaGroup","allProps","aVal","bVal","unsortedArray","uniqueA","uniqueB","inter","comparers","acceptsUndefined","schemaProps","allKeys","innerCompare","aValue","bValue","src","isNumber","isInteger","isIntegerArray","MAXINT","gcd","bitwise","compute","nargs","clbk","lcm","customDefaultsMerge","_customDefaultsMerge","mergeWith","mergeWith_1","apply","defaultsDeep","defaultsDeep_1","flattenDeep","flattenDeep_1","intersection","intersection_1","baseIndexOfWith","_baseIndexOfWith","baseIndexOf","arrayProto","splice","basePullAll","indexOf","_basePullAll","pullAll","pullAll_1","LARGE_ARRAY_SIZE","baseDifference","valuesLength","valuesIndex","_baseDifference","without","without_1","computeLcm","flatten","withoutArr","isPropertyRelated","propertyRelated","isItemsRelated","itemsRelated","isEmptySchema","isFalse","isTrue","schemaResolver","compacted","mergeSchemas","notUndefined","allUniqueKeys","first","required","maximumValue","minimumValue","uniqueItems","examples","compareProp","getAllOf","allOf","allSchema","getValues","schemas","getItemSchemas","subSchemas","sub","schemaAtPos","tryMergeSchemaGroups","schemaGroups","getAdditionalSchemas","getAnyOfCombinations","arrOfArrays","combinations","combination","mergeWithArray","base","newItems","throwIncompatible","paths","asJSON","cleanupReturnValue","returnObject","createRequiredSubMerger","subKey","callGroupResolver","resolverName","resolver","all","related","mergers","schemaGroupProps","mergeSchemaGroup","extractor","removeFalseSchemas","removeFalseSchemasFromArray","createRequiredMetaArray","schemaArrays","defaultResolvers","normalized","common","subSchema","otherSubSchemas","ownKeys","ownPatternKeys","ownPatterns","allOtherKeys","keysMatchingPattern","pk","additionalKeys","allOtherPatterns","additionalPatternKeys","allChildren","childKey","childSchemas","innerCompacted","innerArrays","innerSchemas","arrayMetaScheams","itemsCompacted","schemasAtLastPos","unique","reportUnresolved","regexp","integers","enums","merger","rootSchema","totalSchemas","propertyKeys","itemKeys","calledWithArray","unresolvedSchemas","addToAllOf","allSchemas","hasExcape","escapeMatcher","escapeReplacer","untilde","setter","part","hasNextPart","oldValue","compilePointer","compile","compiled","jsonpointer","_defineProperties","descriptor","_createClass","Constructor","protoProps","staticProps","_inheritsLoose","subClass","superClass","_setPrototypeOf","excluded","sourceKeys","_toPrimitive","input","hint","_toPropertyKey","arg","IconButton","_props$type","otherProps","AddButton","registry","PropTypes","ajv","createAjvInstance","formerCustomFormats","formerMetaSchema","ROOT_SCHEMA_PREFIX","Ajv","toErrorSchema","errors","errorSchema","toPath","_iterator","_isArray","toErrorList","fieldName","errorList","createErrorHandler","formData","_extends2","_extends3","unwrapErrorHandler","errorHandler","_extends5","_extends4","transformAjvErrors","dataPath","keyword","schemaPath","validateFormData","customValidate","transformErrors","additionalMetaSchemas","customFormats","getDefaultFormState","newMetaSchemas","deepEquals","newFormats","formatName","validationError","noProperMetaSchema","userErrorSchema","newErrorSchema","mergeObjects","newErrors","withIdRefPrefix","schemaNode","ADDITIONAL_PROPERTY_FLAG","widgetMap","canExpand","uiSchema","_getUiOptions","getUiOptions","expandable","getSchemaType","guessType","getWidget","widget","registeredWidgets","mergeOptions","Widget","_ref$options","isForwardRef","isMemo","registeredWidget","_registeredWidget","hasWidget","computeDefaults","_schema","parentDefaults","rawFormData","includeUndefinedValues","refSchema","findSchemaDefinition","resolvedSchema","resolveDependencies","isFixedItems","itemSchema","idx","getMatchingOption","computedDefault","isMultiSelect","defaultsLength","defaultEntries","fillerSchema","fillerEntries","fill","retrieveSchema","mergeDefaultsWithFormData","getSubmitButtonOptions","uiOptions","getDisplayLabel","_uiOptions$label","displayLabel","schemaType","isFilesArray","isCustomWidget","thing","obj1","obj2","concatArrays","asNumber","valid","orderProperties","properties","arrayToHash","errorPropList","propertyHash","orderFiltered","orderHash","restIndex","complete","isConstant","toConstant","isSelect","altSchemas","itemsSchema","allowAdditionalItems","optionsList","$ref","origRef","stubExistingAdditionalProperties","additionalProperties","resolveCondition","expression","then","otherwise","resolvedSchemaLessConditional","conditionalSchema","resolveSchema","resolveReference","allOfSubschema","$refSchema","localSchema","propName","propSchema","rawPropData","propData","resolvedPropSchema","mergeAllOf","_resolvedSchema","resolvedSchemaWithoutAllOf","hasAdditionalProperties","_schema$dependencies","dependencies","processDependencies","dependencyKey","dependencyValue","remainingDependencies","withDependentProperties","withDependentSchema","additionallyRequired","_retrieveSchema","oneOf","dependentSchema","resolvedOneOf","subschema","withExactlyOneSubschema","validSubschemas","conditionPropertySchema","_properties","conditionSchema","_validateFormData","_subschema$properties","dependentSubschema","union","ca","cb","ka","kb","cal","shouldRender","comp","nextProps","toIdSchema","idPrefix","idSeparator","idSchema","field","fieldId","toPathSchema","pathSchema","parseDateString","dateString","includeTime","date","toDateString","year","month","day","_ref2$hour","hour","_ref2$minute","minute","_ref2$second","second","utcTime","datetime","utcToLocal","jsonDate","yyyy","pad","MM","dd","hh","mm","ss","SSS","localToUTC","num","dataURItoBlob","dataURI","splitted","param","binary","blob","rangeSpec","spec","option","requiresAnyOf","augmentedSchema","shallowClone","schemaRequiresTrueValue","ArrayFieldTitle","TitleField","ArrayFieldDescription","DescriptionField","DefaultArrayItem","btnStyle","DefaultFixedArrayFieldTemplate","DefaultNormalArrayFieldTemplate","generateRowId","nanoid","generateKeyedFormData","keyedToPlainFormData","keyedFormData","keyedItem","ArrayField","_Component","_this","_this$props","onChange","newKeyedFormDataRow","newKeyedFormData","newIndex","reOrderArray","_newKeyedFormData","_this$props2","newFormData","jsonValue","_formData","_keyedFormData","prevState","nextFormData","previousKeyedFormData","previousKeyedFormDatum","_proto","formItems","_this$props3","addable","_this$props4","fields","UnsupportedField","_this2","_this$props5","readonly","hideError","autofocus","onBlur","onFocus","_this$props5$idSepara","rawErrors","ArrayFieldTemplate","formContext","arrayProps","itemErrorSchema","itemIdPrefix","itemIdSchema","Component","_this$props6","placeholder","widgets","_getUiOptions2","_this$props7","enumOptions","_getUiOptions$enumOpt","_getUiOptions$enumOpt2","_this$props8","_getUiOptions3","_getUiOptions3$widget","_this3","_this$props9","_this$props9$idSepara","itemSchemas","additionalSchema","additional","itemUiSchema","Template","_props$canRemove","canRemove","_props$canMoveUp","canMoveUp","_props$canMoveDown","canMoveDown","itemData","_this$props10","SchemaField","_getUiOptions4","_getUiOptions4$ordera","orderable","_getUiOptions4$remova","removable","BooleanField","_getUiOptions$widget","AnyOfField","selectedOption","newOption","optionsToDiscard","_option","prevProps","matchingOption","baseType","_SchemaField","optionSchema","trailingCharMatcherWithPrefix","trailingCharMatcher","NumberField","_React$Component","processed","StringField","lastValue","re","DefaultObjectFieldTemplate","ObjectField","addedByAdditionalProperties","copiedFormData","preferredKey","newKey","_newKeys","newKeys","renamedObj","orderedProperties","templateProps","fieldUiSchema","REQUIRED_FIELD_SYMBOL","COMPONENT_TYPES","getFieldComponent","Label","LabelInput","Help","help","ErrorList","_props$errors","DefaultTemplate","WrapIfAdditional","classNames","onKeyChange","onDropPropertyClick","keyLabel","SchemaFieldRender","_props$wasPropertyKey","wasPropertyKeyModified","FieldTemplate","FieldComponent","uiSchemaHideError","__errors","fieldErrorSchema","fieldProps","_AnyOfField","_OneOfField","defaultWidget","_getUiOptions$placeho","REQUIRED_FIELD_SYMBOL$1","NullField","reason","rangeOptions","readyForChange","DateElement","rootId","SelectWidget","AltDateWidget","_this$setState","nowDateObj","elemProps","_this$state","AltDateTimeWidget","BaseInput","inputProps","_onChange","example","CheckboxWidget","selectValue","at","updated","deselectValue","CheckboxesWidget","enumDisabled","inline","checked","itemDisabled","disabledCls","checkbox","ColorWidget","DateWidget","DateTimeWidget","EmailWidget","addNameToDataURL","dataURL","processFile","file","reader","processFiles","files","FilesInfo","filesInfo","fileInfo","extractFileInfo","dataURLs","_dataURItoBlob","FileWidget","multiple","HiddenWidget","PasswordWidget","RadioWidget","radio","RangeWidget","nums","processValue","getValue","emptyValue","TextareaWidget","TextWidget","URLWidget","UpDownWidget","SubmitButton","_getSubmitButtonOptio","submitText","norender","submitButtonProps","getDefaultRegistry","ErrorList$1","Form","_pick","getAllPaths","_obj","newPaths","formValue","_get","_isEmpty","newState","mustValidate","retrievedSchema","fieldNames","schemaValidation","schemaValidationErrors","schemaValidationErrorSchema","_errorSchema","_errors","_errorSchema2","inputFormData","edit","liveValidate","getCurrentErrors","currentErrors","validate","_this$getRegistry","showErrorList","_getDefaultRegistry","method","action","deprecatedAutocomplete","currentAutoComplete","enctype","acceptcharset","noHtml5Validate","_internalFormWrapper","_this$state2","as","FormTag","autoComplete","form","writeHeaderOption","includeRowIdAndRowVersionOption","csvOption","tsvOption","stepOneFormSchema","stepOneFormUISchema","stepTwoFormSchema","stepTwoFormUISchema","formSchemaArray","formSchemaUIArray","ModalDownload","fileType","contents","separator","writeHeader","includeRowIdAndRowVersion","sql","downloadFromTableRequest","SynapseClient.getDownloadFromTableRequest","SynapseClient.getFileHandleByIdURL","spinnerStyle","DialogBase","InfiniteQueryWrapper","infiniteData","fetchPreviousPage","useInfiniteQueryResultBundle","setCurrentPage","appendNextPageToResults","goToNextPage","hasPreviousPage","goToPreviousPage","isFilteredUtil","QueryWrapperErrorBanner","ErrorBanner","Search","searchable","colName","searchableColumnModels","indexOfColumn","columnModel","_f","columnMultiValueQueryFilter","ColumnMultiValueFunction","columnSingleValueQueryFilter","ColumnSingleValueFilterOperator","show","searchColumns","model","CSSTransition","displayName","helpMessageCopy","helpLink","SqlEditor","showSqlEditor","setSql","inputRef","defaultSql","SearchTwoTone","CONFIRM_BUTTON_TEXT","Link","DownloadLoginModal","ConfirmationDialog","SRC_SIGN_IN_CLASS","ProgrammaticInstructionsModal","onClose","pythonNotes","pythonCode","rNotes","rCode","cliNotes","cliCode","helpMarkdown","defaultTab","currentTab","setCurrentTab","installationInstructions","Box","Tabs","Tab","ProgrammaticOptions","onHide","generatedSql","setGeneratedSql","SynapseConstants.BUNDLE_MASK_COMBINED_SQL","combinedSql","indexOfFrom","selectStarTransformedSql","commandLineSql","clientSql","DOWNLOAD_FILES_MENU_TEXT","DownloadOptions","showLoginModal","setShowLoginModal","showExportMetadata","setShowExportMetadata","showProgrammaticOptions","setShowProgrammaticOptions","onDownloadFiles","darkTheme","isFileViewOrDataset","isEntityView","isFileView","isDataset","disableDownload","Dropdown","ElementWithTooltip","tooltipColumnSelectionId","ColumnSelection","isColumnSelected","toggleColumnSelection","setShow","onDropdownClick","_show","metadata","show2","isCurrentColumnSelected","iconStyle","maybeShowPrimaryColor","DATASETS_CURRENT_VERSION_HELP","DATASETS_SNAPSHOT_HELP","MissingQueryResultsWarning","isMissingResultsCalculable","queryResult","totalVisibleResults","totalResults","difference","useExportToCavatica","originalSql","col","presignedURL","cavaticaURL","_err","Cavatica","SvgIcon","controls","SQL_EDITOR","TopLevelControls","showColumnSelection","hideDownload","hideVisualizationsControl","hideFacetFilterControl","hideQueryCount","hideSqlEditorControl","customControls","showExportToCavatica","exportToCavatica","columnsToShowInTable","setColumnsToShowInTable","setControlState","control","updatedTopLevelControlsState","refresh","unfilteredResultsQuery","columnsToShowInTableCopy","QueryCount","customControl","tooltipText","Checkbox","propsChecked","hideLabel","isSelectAll","setChecked","_uniqueId","handleCheckboxChange","IconPlus","IconMinus","FacetFilterHeader","isCollapsed","valueToId","valueToLabel","profiles","entityHeaders","evaluations","displayValue","profile","profile2","eh","eh2","evaluation2","formatFacetValuesForDisplay","facetValues","isShowAll","visibleItemsCount","facets","EnumFacetFilter","onClear","containerAs","dropdownType","collapsed","setIsShowAll","setIsCollapsed","isShowDropdown","setIsShowDropdown","showSearch","setShowSearch","searchTerm","filteredSet","setFilteredSet","selectionDelay","textInput","selectedValuesMap","allIsSelected","userIds","userGroupHeaders","useGetInfoFromIds","entityIds","evaluationIds","handleTextInputFilterEvent","inputValue","filtered","isDropdown","EnumFacetFilterOption","isChecked","onToggle","isCollapsed2","initialIsSelected","isSelected","setIsSelected","FacetChip","Range","errorText","setError","setValues","handleAppyChanges","values2","callBackFn","RangeFacetFilter","facetResult","FRIENDLY_VALUE_NOT_SET","columnMin","columnMax","selectedMin","selectedMax","hasAnyValue","rangeType","getRadioValue","isAnyValue","VALUE_NOT_SET","handleRadioGroupChange","radioValue2","onChangeCallback","setRadioValue","radioValue","RadioGroup","RangeSlider","convertFacetToFacetColumnValuesRequest","facet2","convertFacetColumnRangeRequest","patchRequestFacets","changedFacet","lastRequest","selections","changedFacetIndex","isEmptyValuesFacet","applyChangesToValuesColumn","onChangeFn","facetName","applyMultipleChangesToValuesColumn","facetNameMap","facetNames","applyChangesToRangeColumn","getDefaultShownFacetFilters","selectedFacets","columnsWithExistingFilters","fcr","FacetFilterSkeleton","facetFilterFormRow","FacetFilterControlsSkeleton","FacetFilterControls","availableFacets","isSingleNotSetValue","facetFiltersShown","setFacetFiltersShown","columnModels","facets2","toggleShowFacetFilter","newFacetFilterShown","facetNamesMap","FacetFilterControlsOrLoader","maxLabelLength","maxLegendLength","truncate","trimmedStr","extractPlotDataArray","facetToPlot","plotType","colorPalette","getColorPalette","getLabels","columnType2","accessToken2","filteredValues","response","SynapseClient.getEntityHeadersByIds","SynapseClient.getGroupHeadersBatch","getLabel","truncateFlag","labelMap","labels","selectionAwareColorPalette","index2","singleChartData","applyFacetFilter","allFacetValues","callbackApplyFn","plotPointData","facetValueClickedValue","facetValueClicked","getPlotStyle","parentWidth","FacetPlotLegend","colors","isExpanded","numLegendItems","labelDisplay","getClassNameForPlotDiv","FacetNavPanel","isModalView","applyChangesToFacetFilter","applyChangesToGraphSlice","onSetPlotType","showModal","setShowModal","plotTitle","getColumnType","ChartSelectionToggle","loadingScreen","InfoOutlined","SizeMe","getPillPropsFromColumnQueryFilter","filterValue","getPillPropsFromTextMatchesQueryFilter","getPillPropsFromQueryFilter","isTextMatchesQueryFilter","getPillPropsFromFacet","selectedFacet","innerText","SelectionCriteriaPills","queryFilterPillProps","facetPillProps","allPills","pillProps","createElement","SelectionCriteriaPill","TotalQueryResults","frontText","endText","hideIfUnfiltered","unitDescription","total","showClearAll","DEFAULT_VISIBLE_FACETS","getFacets","facetsToPlot","FacetNav","facetUiStateArray","setFacetUiStateArray","isFirstTime","setIsFirstTime","showFacetVisualization","onShowMoreClick","shouldShowMore","facetUiStateArray2","applyChangesFromQueryFilter","isFacetHiddenInGrid","showMoreButtonState","hideFacetInGrid","setUiPropertyForFacet","setPlotType","getPlotType","colorTracker","hasFacetsOrFilters","QuerySortSelector","sortConfig","defaultColumn","defaultDirection","sortableColumns","sortColumn","setSortColumn","sortDirection","setSortDirection","sortableColumn","newSortDirection","newSortItems","Select","findValueOption","Control","provided","TargetEnum","TargetEnum2","CardContainerLogic","queryFilters","generateQueryFilterFromSearchParams","defaultSortItems","SynapseConstants.BUNDLE_MASK_QUERY_MAX_ROWS_PER_PAGE","SynapseConstants.BUNDLE_MASK_LAST_UPDATED_ON","CardContainer","HeaderCard","subTitle","secondaryLabelLimit","isAlignToLeftNav","descriptionConfig","href","rgbIndex","descriptionElement","docTitle","docDescription","CardFooter","FileHandleLink","showDownloadIcon","redirect","batchFileResult","setBatchFileResult","SynapseClient.getFiles","SynapseClient.getActualFileHandleByIdURL","SynapseConstants.SRC_SIGN_IN_CLASS","ImageFileHandle","fileHandleId","associateObjectId","associateObjectType","setUrl","url2","CHAR_COUNT_CUTOFF","CARD_SHORT_DESCRIPTION_CSS","CARD_LONG_DESCRIPTION_CSS","getCutoff","summary","previewText","summarySplit","getFileHandleAssociation","table","rowSynapseId","isTableEntity","getValueOrMultiValue","selectedColumnOrUndefined","strList","getColumnIndex","VersionLabel","SynapseCardLabel","labelLink","isHeader","rowData","rowId","columnModelType","newClassName","SYNAPSE_ENTITY_ID_REGEX","labelContent","split","linkTarget","linkIndex","isEmpty","baseURL","URLColumnName","wrapValueWithParens","elOrRowId","value2","getCardLinkHref","cardLink","matchColumnName","overrideLinkURLColumnName","overrideValueWithRowID","indexOfOverrideLinkURLColumnName","overrideLinkValue","indexInData","getLinkParams","link","cardLinkConfig","defaultTarget","DOI_REGEX","LongDescription","hasClickedShowMore","descriptionSubTitle","ShortDescription","toggleShowMore","GenericCard","titleSearchHandle","genericCardSchema","iconOptions","useTypeColumnForIcon","titleLinkConfig","ctaLinkConfig","labelLinkConfig","columnIconOptions","genericCardSchemaDefined","iconValue","dataTypeIconNames","imageFileHandleIdValue","titleColumnModel","titleColumnType","linkValue","secondaryLabels","isView","columnDisplayName","showFooter","type2SvgIconName","stubTitleSearchHandle","ctaHref","ctaTarget","ctaLinkValue","newCtaHref","newCtaTarget","IconList","SynapseConstants.EXPERIMENTAL","Dataset","datasetName","tumorType","diseaseFocus","fundingAgency","Utils.Icon","DATASET","Utils.ChipContainer","Utils.CardFooter","Funder","organizationName","organizationPath","website","logoHref","websiteDisplayName","isOnOrgPath","showOrgLink","ObservationCard","submitterName","submitterUserId","timeUnits","ShowMore","LoadingObservationCard","Card","propsToPass","FUNDER","GENERIC_CARD","OBSERVATION_CARD","infiniteQueryContext","tableEntityConcreteType","showViewMoreButton","cards","MEDIUM_USER_CARD","userIdColumnIndex","listIds","UserCardList","cardsData","propsForCard","__webpack_require__","_typeof","_classCallCheck","_defineProperty","ColumnResizer","AddToDownloadListV2","entityVersionNumber","addToDownloadList","useAddFileToDownloadList","undefined","LIBVERSION","EMPTY","UNKNOWN","FUNC_TYPE","UNDEF_TYPE","OBJ_TYPE","STR_TYPE","MAJOR","MODEL","NAME","TYPE","VENDOR","VERSION","ARCHITECTURE","CONSOLE","MOBILE","TABLET","SMARTTV","WEARABLE","EMBEDDED","UA_MAX_LENGTH","AMAZON","APPLE","ASUS","BLACKBERRY","BROWSER","CHROME","EDGE","FIREFOX","GOOGLE","HUAWEI","LG","MICROSOFT","MOTOROLA","OPERA","SAMSUNG","SHARP","SONY","XIAOMI","ZEBRA","FACEBOOK","regexes","extensions","mergedRegexes","enumerize","str1","lowerize","majorize","trim","rgxMapper","ua","matches","regex","strMapper","oldSafariMap","windowsVersionMap","UAParser","_ua","_rgxmap","_browser","_cpu","_device","_engine","_os","DirectDownload","associatedObjectId","associatedObjectType","displayFileName","onClickCallback","isExternalFile","setIsExternalFile","hasFileAccess","setHasFileAccess","setFileEntity","externalURL","setExternalURL","setFileName","mounted","getFileEntityFileHandle","getDownloadLink","isSafari","safariDownloadWindow","getTableEntityFileHandle","getFileResult","hasFileHandle","includePreSignedURLs","CancelRequestDataAccess","modifiedDataAccessRequest","alert","setAlert","showCloseBtn","setShowCloseBtn","updateRequest","useUpdateDataAccessRequest","handleSave","DialogTitle","DialogContent","DialogActions","RequestDataAccessSuccess","UnmanagedACTAccessRequirementItem","accessRequirement","accessRequirementStatus","isLoadingStatus","useGetAccessRequirementStatus","isApproved","showACTContactInfoInstructions","setShowACTContactInfoInstructions","acceptButtonText","gotoSynapseAccessRequirementPage","onAcceptClicked","actContactInfo","actions","RequirementItem","RequirementItemStatus","ManagedACTAccessRequirementItem","onRequestAccess","useGetAccessRequirementWikiPageKey","cancelDataAccessRequest","useCancelDataAccessRequest","hideMarkdown","setHideMarkdown","SubmissionState","markdown","requirementItemState","SelfSignAccessRequirementItem","isSignedIn","isTermsOfUse","user","useGetCurrentUserProfile","userBundle","useGetCurrentUserBundle","certificationRequirementNotMet","verificationRequirementNotMet","showTerms","setShowTerms","createAccessApproval","useCreateAccessApproval","accessApprovalRequest","renderedTerms","acceptButtonDisabled","AccessRequirementListItem","SUPPORTED_ACCESS_REQUIREMENTS","DialogSubsectionHeader","checkHasUnsupportedRequirement","accessRequirements","isARUnsupported","AccessRequirementList","accessRequirementFromProps","renderAsModal","numberOfFilesAffected","requestDataStep","setRequestDataStep","managedACTAccessRequirement","setManagedACTAccessRequirement","researchProjectId","setResearchProjectId","dataAccessRequest","setDataAccessRequest","entityInformation","fetchedRequirements","useGetAccessRequirementsForEntity","sortedAccessRequirementIds","useSortAccessRequirementIdsByCompletion","ar","requestDataStepCallback","props2","managedACTAccessRequirement2","researchProjectId2","newDataAccessRequest","anyARsRequireTwoFactorAuth","anyARsRequireCertification","anyARsRequireProfileValidation","AuthenticatedRequirement","CertificationRequirement","ValidationRequirement","TwoFactorAuthEnabledRequirement","accessRequirement2","renderContent","ResearchProjectForm","researchProject","DataAccessRequestAccessorsFilesForm","dataAccessRequestInProgress","StandaloneLoginForm","Dialog","iconConfiguration","AccessIcon","downloadType","configuration","useGetFileHandleDownloadType","fileHandleDownloadType","setFileHandleDownloadType","entityBundle","entityFetchError","restrictionInformationRequest","RestrictableObjectType","restrictionInformation","useGetRestrictionInformation","permissions","HasAccessV2","displayAccessRequirement","setDisplayAccessRequirement","setAccessRequirements","handleGetAccess","SynapseClient.getAllAccessRequirements","requirements","getEndpoint","BackendDestinationEnum","accessRequirementsJsx","hasUnmetAccessRequirement","restrictionLevel","linkText","RestrictionLevel","ev","clickEvent","EntityIdList","entityIdList","entityLinkArray","setEntityLinkArray","getEntityTypes","getEntityHeadersByIds","newEntityList","EntityLink","EvaluationIdRenderer","evaluationId","evaluationName","setEvaluationName","getEvaluationQueue","getEvaluation","evaluationQueue","UserIdList","profileCards","setProfileCards","getUserProfilesToRender","getUserProfiles","userProfiles","SynapseTableCell","columnValue","isBold","mapEntityIdToHeader","mapUserIdToHeader","columnLinkConfig","rowVersionNumber","NOT_SET_DISPLAY_VALUE","isDatasetCollection","entity2","jsonData","userName","AUTHENTICATED_USERS","getColumnIndicesWithType","columnTypes","columnsOfTypeEntity","getUniqueEntities","mapIdToHeader","indices","distinctEntities","colIndex","TablePagination","queryCount","handlePage","handlePageSize","InteractiveCopyIdsIcon","onCopy","EntityIDColumnCopyIcon","synapseContext","setIsLoading","idData","setIdData","abortController","setAbortController","handleCopyIdsToClipboard","queryRequestClone","oldSql","versionNumberString","entityIdString","indexOfEntityId","rows","synIDs","resizeObservers","hasActiveObservations","ro","hasSkippedObservations","msg","deliverResizeLoopError","ResizeObserverBoxOptions","freeze","ResizeObserverSize","inlineSize","blockSize","DOMRectReadOnly","rectangle","isSVG","isHidden","offsetWidth","offsetHeight","isReplacedElement","global","scrollRegexp","verticalRegexp","IE","parseDimension","pixel","switchSizes","zeroBoxes","calculateBoxSizes","forceRecalculation","cs","removePadding","canScrollVertically","canScrollHorizontally","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTop","borderRight","borderBottom","borderLeft","horizontalPadding","verticalPadding","horizontalBorderArea","verticalBorderArea","horizontalScrollbarThickness","verticalScrollbarThickness","widthReduction","heightReduction","contentWidth","contentHeight","borderBoxWidth","borderBoxHeight","boxes","calculateBoxSize","observedBox","borderBoxSize","contentBoxSize","devicePixelContentBoxSize","ResizeObserverEntry","calculateDepthForNode","broadcastActiveObservations","shallowestDepth","callbacks","ot","targetDepth","callbacks_1","gatherActiveObservationsAtDepth","process","trigger","notify","queueMicroTask","toggle_1","el_1","config","queueResizeObserver","watching","isWatching","CATCH_PERIOD","observerConfig","events","scheduled","Scheduler","until","elementsHaveResized","scheduler","updateCount","skipNotifyOnElement","ResizeObservation","ResizeObserverDetail","observerMap","getObservationIndex","observationTargets","ResizeObserverController","detail","firstObservation","lastObservation","ResizeObserver","usePassiveLayoutEffect","useLayoutEffect","useLatest","storedValue","useLatest$1","Polyfill","useResizeObserver","getResizeObserver","storedCallback","didUnsubscribe","targetEl","createResizeObserver","ticking","allEntries","obs","triggered","cbs","_callbacks$get","_callbacks$get2","cbIndex","_resizeObserver","ExpandableTableDataCell","setIsExpanded","isOverflowingWhenNotExpanded","setIsOverflowingWhenNotExpanded","tdRef","contentElement","SORT_STATE","RESIZER_OPTIONS","SynapseTable","showAccessColumn","showDownloadColumn","isRowSelectionVisible","hasFilesInView","isShowingAccessColumn","rowsAreDownloadable","isShowingAddToV2DownloadListColumn","isShowingDirectDownloadColumn","dict","columnIconSortState","sortedColumnSelection","ICON_STATE","oldIsFetchingEntityHeaders","oldState","newIsFetchingEntityHeaders","isPropsChange","isStateChange","shouldComponentUpdate","forceRefresh","entityIdColumnIndicies","userIdColumnIndicies","distinctEntityIds","distinctUserIds","referenceList","data2","userProfileIds","getUserProfileWithProfilePicAttached","isExportTableDownloadOpen","Modal","isShowingDownloadColumn","rowsFormatted","columnLinks","rowIndex","rowContent","isColumnActive","cloneSelectedRowIndices","rowFormatted","column","tableColumnHeaderElements","columnIndex","facetIndex","facetColumnResult","isFacetSelection","isSelectedSpanClass","isSelectedIconClass","sortSpanBackgoundClass","displayColumnName","isLockedColumn","isEntityIDColumn","synTable","LastUpdatedOn","showLastUpdatedOn","FilterAndView","tableConfiguration","cardConfiguration","QueryWrapperPlotNav","searchParams","sqlOperator","searchConfiguration","limit","initQueryJson","isFullTextSearchEnabled","isTable","PaginatedQueryWrapper","isFaceted","SearchV2","generateInitQueryRequest","StandaloneQueryWrapper","showTopLevelControls","derivedQueryRequestFromSearchParams","MarkdownSynapseTable","showquery","tableonly","showQuery","tableOnly","TOC_CLASS","MarkdownTableOfContents","originalMarkup","TOC_HEADER_REGEX_WITH_ID","p3","p4","MarkdownUserOrTeamBadge","alias","userGroupHeader","useGetUserGroupHeaderWithAlias","UserOrTeamBadge","MarkdownVideo","SynapseVideo","MarkdownWidget","widgetType","MarkdownWidgetWithWrapper","Bookmarks","copyFootnotes","matchedGroup","output","isBeforeLastElement","md","mathSuffix","genericElement","anchor","referenceNumber","goTo","idOfContent","initText","mathExpressions","regEx","textContent","footnotesHtml","objectType","SynapseClient.getEntityWiki","fileHandlesErr","SynapseClient.getWikiAttachmentsFromEntity","referenceRegex","referenceCount","tocId","tocIdCount","TOC_HEADER_REGEX","curTocId","markup","Tag","widgetParams","xml","escapedOneToXmlSpecialMap","decodedWidgetParams","questionIndex","keyPair","shouldUpdate","renderInline","loadingSkeletonRowCount","bookmarks","MarkdownPopover","contentProps","showCloseButton","actionButton","setReferenceElement","setPopperElement","setArrowElement","popover","markdownText","HelpOutlineTwoTone","CLOSE_BUTTON_LABEL","CloseButton","CloseIcon","open","hasCloseButton","maxWidth","fullWidth","CANCEL_BUTTON_TEXT","ConfirmationButtons","confirmButtonText","confirmButtonClassName","confirmButtonColor","confirmButtonVariant","onConfirm","hasCancelButton"],"mappings":"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C,uBAAwB,QAAQ,EACjC,CAAC,sBAAuB,IAAI,EAC5B,CAAC,2FAA4F,IAAI,EACjG,CAAC,qEAAsE,OAAO,EAC9E,CAAC,iCAAkC,IAAI,EACvC,CAAC,oBAAqB,MAAM,EAC5B,CAAC,4FAA6F,MAAM,EACpG,CAAC,yGAA0G,MAAM,EACjH,CAAC,8FAA+F,MAAM,EACtG,CAAC,0BAA2B,KAAK,EACjC,CAAC,+BAAgC,MAAM,EACvC,CAAC,sBAAuB,MAAM,EAC9B,CAAC,oBAAqB,QAAQ,EAC9B,CAAC,eAAgB,IAAI,EACrB,CAAC,YAAa,IAAI,EAClB,CAAC,QAAS,KAAK,CACnB,EAAI,QAAQ,SAAUA,EAAM,CACxB,OAAOT,EAAU,gBAAgBS,EAAK,CAAC,EAAGA,EAAK,CAAC,CAAC,CACrD,CAAG,EAKD,CAEE,YACA,SACA,SACA,MACA,WACA,UACA,OACA,YACA,QACA,YACA,QACA,QACA,QACA,QACA,UACA,SACA,OACA,OACA,UACA,QACA,WACA,MACA,WACA,cACA,QACA,SACA,WACA,YACA,MACA,SACA,YACA,YACA,YACA,WACA,WACA,MACA,UACA,UACA,WACA,WACA,eACA,SACA,SACA,YACA,WACA,YACA,cACA,QACA,UACA,QACA,SACA,aACA,YACA,WACA,OACA,QACA,OACA,QACA,QACA,MACA,QACA,OACA,OACA,YACA,OACA,WACA,SACA,SACA,YACA,WACA,OACA,WACA,OACA,SACA,WACA,SACA,SACA,WACA,SACA,WACA,UACA,QACA,QACA,SACA,UACA,iBACA,QACA,OACA,SACA,UACA,UACA,aACA,WACA,MACA,eAEA,gBACA,SACA,SACA,YACA,WACA,QACA,SACJ,EAAI,QAAQT,EAAU,kBAAkB,EAE/BA,CACT,CAAC,0CC9eMyB,GAAA1qE,GAAA,CACL,KAAA,CAAA,UAAA2qE,CAAA,EAAA3qE,EACA,OAAAyrB,EAAA,QAAO,IAAAlB,EAAAkC,EAAA,CAAA,SAAAD,EAAA,IAAA,CAAA,SAAA,CAGE,QAAAm+C,EACK,IAAU1B,GAAA,OAAA0B,CAAA,EAA6B,GAAE,CAAA,C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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,21,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,222,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,347,348,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,429,431,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474]}