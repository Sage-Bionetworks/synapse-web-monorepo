import{_ as v}from"./emotion-use-insertion-effect-with-fallbacks.browser.esm-8498a53a.js";import{g as se,e as ae,s as q,f as le,_ as B,i as G,j as ce}from"./styled-0d0c058b.js";import{r as a}from"./index-8db94870.js";import{j as b}from"./jsx-runtime-095bf462.js";import{M as fe}from"./Modal-1e12e009.js";import{P as pe}from"./Paper-c5bb6f3a.js";import{G as ue}from"./Grow-abebdd1c.js";import{u as he}from"./useForkRef-f2aa3d66.js";import{o as I}from"./isHostComponent-fa76b8d9.js";import{o as F,d as de}from"./ownerWindow-2c76219e.js";function me(t){return se("MuiPopover",t)}ae("MuiPopover",["root","paper"]);const ge=["onEntering"],Pe=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function V(t,e){let i=0;return typeof e=="number"?i=e:e==="center"?i=t.height/2:e==="bottom"&&(i=t.height),i}function X(t,e){let i=0;return typeof e=="number"?i=e:e==="center"?i=t.width/2:e==="right"&&(i=t.width),i}function Y(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function O(t){return typeof t=="function"?t():t}const ve=t=>{const{classes:e}=t;return ce({root:["root"],paper:["paper"]},me,e)},ye=q(fe,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),we=q(pe,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),xe=a.forwardRef(function(e,i){const y=le({props:e,name:"MuiPopover"}),{action:J,anchorEl:l,anchorOrigin:d={vertical:"top",horizontal:"left"},anchorPosition:R,anchorReference:m="anchorEl",children:K,className:Q,container:Z,elevation:C=8,marginThreshold:c=16,open:f,PaperProps:g={},transformOrigin:P={vertical:"top",horizontal:"left"},TransitionComponent:w=ue,transitionDuration:x="auto",TransitionProps:{onEntering:z}={}}=y,M=B(y.TransitionProps,ge),ee=B(y,Pe),E=a.useRef(),oe=he(E,g.ref),T=v({},y,{anchorOrigin:d,anchorReference:m,elevation:C,marginThreshold:c,PaperProps:g,transformOrigin:P,TransitionComponent:w,transitionDuration:x,TransitionProps:M}),W=ve(T),S=a.useCallback(()=>{if(m==="anchorPosition")return R;const o=O(l),r=(o&&o.nodeType===1?o:I(E.current).body).getBoundingClientRect();return{top:r.top+V(r,d.vertical),left:r.left+X(r,d.horizontal)}},[l,d.horizontal,d.vertical,R,m]),k=a.useCallback(o=>({vertical:V(o,P.vertical),horizontal:X(o,P.horizontal)}),[P.horizontal,P.vertical]),D=a.useCallback(o=>{const n={width:o.offsetWidth,height:o.offsetHeight},r=k(n);if(m==="none")return{top:null,left:null,transformOrigin:Y(r)};const H=S();let u=H.top-r.vertical,h=H.left-r.horizontal;const N=u+n.height,A=h+n.width,L=F(O(l)),U=L.innerHeight-c,$=L.innerWidth-c;if(u<c){const s=u-c;u-=s,r.vertical+=s}else if(N>U){const s=N-U;u-=s,r.vertical+=s}if(h<c){const s=h-c;h-=s,r.horizontal+=s}else if(A>$){const s=A-$;h-=s,r.horizontal+=s}return{top:`${Math.round(u)}px`,left:`${Math.round(h)}px`,transformOrigin:Y(r)}},[l,m,S,k,c]),[te,_]=a.useState(f),p=a.useCallback(()=>{const o=E.current;if(!o)return;const n=D(o);n.top!==null&&(o.style.top=n.top),n.left!==null&&(o.style.left=n.left),o.style.transformOrigin=n.transformOrigin,_(!0)},[D]),ne=(o,n)=>{z&&z(o,n),p()},re=()=>{_(!1)};a.useEffect(()=>{f&&p()}),a.useImperativeHandle(J,()=>f?{updatePosition:()=>{p()}}:null,[f,p]),a.useEffect(()=>{if(!f)return;const o=de(()=>{p()}),n=F(l);return n.addEventListener("resize",o),()=>{o.clear(),n.removeEventListener("resize",o)}},[l,f,p]);let j=x;x==="auto"&&!w.muiSupportAuto&&(j=void 0);const ie=Z||(l?I(O(l)).body:void 0);return b(ye,v({BackdropProps:{invisible:!0},className:G(W.root,Q),container:ie,open:f,ref:i,ownerState:T},ee,{children:b(w,v({appear:!0,in:f,onEntering:ne,onExited:re,timeout:j},M,{children:b(we,v({elevation:C},g,{ref:oe,className:G(W.paper,g.className)},te?void 0:{style:v({},g.style,{opacity:0})},{ownerState:T,children:K}))}))}))}),ke=xe;export{ke as P};
//# sourceMappingURL=Popover-35c1d8c6.js.map
