import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{s as v,t as d,k as w}from"./useFiles-DOT7Kf5e.js";import{B as R,d as D}from"./SynapseConstants-BFsckqND.js";import{r as A}from"./index-BvkzVhja.js";import"./VerificationSubmission-D0sL2gwz.js";import"./StringUtils-Bt2r5KGg.js";import{E as B,u as L}from"./ExpandableContent-B1qu_8iT.js";import"./OrientationBanner-vm3Uug8o.js";import{u as T}from"./useGetGoalData-BwkSoVPr.js";import{Q as N}from"./QueryCount-CNa_0Lqp.js";import{B as C}from"./Box-Ch_qkwG8.js";import{B as E}from"./Button-CFj-G6sD.js";function f({asset:r,link:a,summary:n,countSql:l,title:o,isAssetIcon:s}){return e.jsxs(C,{className:"Goals__Card",sx:{cursor:"pointer",maxWidth:"335px",width:"335px"},onClick:()=>window.open(a,"_self"),children:[e.jsx("div",{className:"Goals__Card__header",style:{background:s?void 0:`url('${r}')`},children:e.jsxs("p",{children:[e.jsxs("span",{className:"Goals__Card__header__title",children:[s&&r&&e.jsx("img",{style:{marginRight:"10px"},className:"Goals__Card__header__icon",src:r,alt:`${o} icon`}),o]}),l&&e.jsx("span",{className:"Goals__Card__header__count",children:e.jsx(N,{parens:!1,query:{sql:l}})})]})}),e.jsxs("div",{className:"Goals__Card__summary",children:[e.jsxs("p",{children:[" ",n," "]}),e.jsx(E,{className:"Goals__Card__summary__link",variant:"outlined",color:"secondary",href:a,children:"Explore"})]})]})}try{f.displayName="GoalsDesktop",f.__docgenInfo={description:"",displayName:"GoalsDesktop",props:{countSql:{defaultValue:null,description:"",name:"countSql",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}},asset:{defaultValue:null,description:"",name:"asset",required:!0,type:{name:"string"}},isAssetIcon:{defaultValue:null,description:"",name:"isAssetIcon",required:!0,type:{name:"boolean"}}}}}catch{}function x({link:r,summary:a,countSql:n,title:l}){const o=e.jsxs("div",{className:"Goals__Mobile__Header",children:[n&&e.jsx("span",{className:"Goals__Mobile__Header__Count",children:e.jsx(N,{parens:!1,query:{sql:n}})}),e.jsxs("span",{className:"Goals__Mobile__Header__Title",children:[" ",l," "]})]}),s=e.jsxs("div",{className:"Goals__Mobile__Content",children:[e.jsx("p",{children:a}),e.jsx(E,{variant:"outlined",color:"secondary",className:"Goals__Mobile__Content__Link",href:r,children:"Explore"})]});return e.jsx(B,{title:o,content:s})}try{x.displayName="GoalsMobile",x.__docgenInfo={description:"",displayName:"GoalsMobile",props:{countSql:{defaultValue:null,description:"",name:"countSql",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}},asset:{defaultValue:null,description:"",name:"asset",required:!0,type:{name:"string"}},isAssetIcon:{defaultValue:null,description:"",name:"isAssetIcon",required:!0,type:{name:"boolean"}}}}}catch{}const O=1200;function I(r){const{entityId:a,isAssetIcon:n=!1}=r,l=L(O),o={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:a,partMask:R|D,query:{sql:`select *
            from ${a}
            order by ItemOrder`}},{data:s}=v(o),{assets:c,error:h}=T(a,s),p=d("TableId",s),m=d("CountSql",s),g=d("Title",s),q=d("Summary",s),G=d("Link",s),_=A.useMemo(()=>s==null?void 0:s.queryResult.queryResults.rows.map((i,u)=>{const t=i.values;t.some(V=>V===null)&&console.warn("Row has null value(s) when no nulls expected");const j=p>-1?t[p]:void 0;let y;m>-1&&t[m]?y=t[m]:j&&(y=`SELECT * FROM ${j}`);const b=t[g],k=t[q],S=t[G],M=(c==null?void 0:c[u])??"";return{countSql:y,title:b,summary:k,link:S,asset:M,isAssetIcon:n}}),[m,c,G,s==null?void 0:s.queryResult,q,p,g]);return h?e.jsx(w,{error:h}):_?l?e.jsx(C,{className:"Goals",sx:{display:"flex",flexWrap:"wrap",gap:"7px",alignItems:"stretch",justifyContent:"center"},children:_.map((i,u)=>e.jsx(f,{...i},u))}):e.jsx("div",{className:"Goals",children:_.map((i,u)=>e.jsx(x,{...i},u))}):e.jsx(e.Fragment,{})}try{I.displayName="Goals",I.__docgenInfo={description:"",displayName:"Goals",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},isAssetIcon:{defaultValue:null,description:"",name:"isAssetIcon",required:!1,type:{name:"boolean"}}}}}catch{}export{I as G};
