import{as as r,aE as o,aD as u}from"./iframe-DkJtXMGY.js";import{w as y}from"./waitForAsyncResult-CD5iBMIg.js";import{q as d}from"./queryOptions-C9woPjwX.js";import{u as S}from"./useInfiniteQuery-iYy68X6j.js";async function l(e,s){const n=await e.gridServicesClient.postRepoV1GridSessionAsyncStart({createGridRequest:s});if(!n.token)throw new Error("No async job token returned from startGridSession");return(await y(()=>e.asynchronousJobServicesClient.getRepoV1AsynchronousJobJobId({jobId:n.token}))).responseBody}function R(e){const s=u(),{keyFactory:n,synapseClient:t}=r();return o({...e,mutationFn:i=>t.gridServicesClient.postRepoV1GridSessionSessionIdReplica({sessionId:i,createReplicaRequest:{gridSessionId:i}}),onSuccess:async(i,a,c)=>{await s.invalidateQueries({queryKey:n.getGridSessionListKey()})}})}function m(e){const s=u(),{keyFactory:n,synapseClient:t}=r();return o({...e,mutationFn:i=>t.gridServicesClient.deleteRepoV1GridSessionSessionId({sessionId:i}),onSuccess:async(i,a,c)=>{await s.invalidateQueries({queryKey:n.getGridSessionListKey()}),e!=null&&e.onSuccess&&await e.onSuccess(i,a,c)}})}const f=(e,s)=>d({queryKey:s.keyFactory.getGridSessionListKey(e),queryFn:()=>s.synapseClient.gridServicesClient.postRepoV1GridSessionList({listGridSessionsRequest:e})});function q(e,s){const{keyFactory:n,synapseClient:t}=r();return S({...s,queryKey:n.getGridSessionListKey(e),queryFn:async i=>await t.gridServicesClient.postRepoV1GridSessionList({listGridSessionsRequest:{...e,nextPageToken:i.pageParam}}),initialPageParam:void 0,getNextPageParam:i=>i.nextPageToken})}const w=e=>{const{synapseClient:s}=r();return o({...e,mutationFn:async n=>await l(s,n)})};export{w as a,m as b,q as c,f as g,R as u};
