import{j as e,bp as x,hV as w,X as A,c0 as M,c8 as O,r as T,R as j,V as L,bq as C,aq as B,dM as q,c5 as V,B as U,e3 as k,b_ as P,bx as G,c3 as $}from"./iframe-SFoYirDz.js";import{u as F}from"./useTeam-D7DbBh-2.js";import{T as X}from"./TeamBadge-cIc67SuS.js";function _(r){const{teamId:o}=r,{data:s,isLoading:l,error:a}=F(o);return a?e.jsxs(x,{direction:"row",role:"alert",sx:{gap:"5px",alignItems:"center"},children:[e.jsx(w,{color:"error"}),e.jsx(A,{variant:"smallText1",color:"error",children:(a==null?void 0:a.reason)||`Error: ${o}`})]}):l||!s?e.jsx(M,{width:125,height:30}):e.jsx(X,{teamId:s.id,teamName:s.name})}try{_.displayName="TeamBadgeOrError",_.__docgenInfo={description:"",displayName:"TeamBadgeOrError",props:{teamId:{defaultValue:null,description:"",name:"teamId",required:!0,type:{name:"string"}}}}}catch{}const E=r=>`Team ${r} has already been added to this AR.`,h=r=>`Parsing errors encountered. Invalid Team ID: ${r}`,Y="No teams selected.",H="Remove from Access Requirement",b="Enter Team IDs (i.e. 123, 456)",f="";function y(r){const{subjects:o,onUpdate:s,onUpdateTeamIDsTextbox:l=O}=r,[a,R]=T.useState(f),[g,p]=T.useState(null),n=T.useMemo(()=>o.filter(t=>t.type===j.TEAM?t:null),[o]),I=t=>{R(t),l(t)},S=t=>{const m=n.filter(d=>d.id!==t);s(m)},D=t=>{const m=t==null?void 0:t.split(",").map(c=>c.trim()),d=[...new Set(m)];if(d&&d.length>0){const c=[...n];for(const i of d){const v=/^\d+$/.test(i),N=n.some(u=>u.id===i);if(v)if(N){p(E(i));return}else{const u={id:i,type:j.TEAM};c.push(u)}else{p(h(i));return}}I(f),s(c)}p(null)};return e.jsxs(e.Fragment,{children:[e.jsxs(L,{sx:{display:"flex",flexWrap:"wrap",gap:"0px 15px",pb:"10px"},children:[n.length===0&&e.jsx(A,{variant:"body1Italic",sx:{pb:2},children:Y}),n.map(t=>e.jsxs(x,{direction:"row","data-testid":"selected-team",sx:{alignItems:"center",pb:1},children:[e.jsx(_,{teamId:t.id}),e.jsx(C,{"aria-label":H,onClick:()=>S(t.id),sx:{"&:hover":{color:"error.main"}},children:e.jsx(B,{icon:"delete",fontSize:"inherit",wrap:!1})})]},t.id))]}),e.jsx(q,{htmlFor:"teamIDs",children:"Add Team IDs"}),e.jsxs(x,{direction:"row",sx:{gap:1,alignItems:"center",mb:2},children:[e.jsx(V,{id:"teamIDs",name:"teamIDs",placeholder:b,value:a,onChange:t=>I(t.target.value),fullWidth:!0}),e.jsx(U,{startIcon:e.jsx(k,{}),variant:"outlined",sx:{flexShrink:0,height:"53px"},onClick:()=>D(a),disabled:a==="",children:"Add Teams"}),e.jsx(P,{title:b,placement:"right",children:e.jsx(G,{sx:{color:"grey.600"}})})]}),g&&e.jsx($,{severity:"warning",children:g})]})}try{E.displayName="TEAM_ALREADY_SELECTED",E.__docgenInfo={description:"",displayName:"TEAM_ALREADY_SELECTED",props:{}}}catch{}try{h.displayName="TEAM_PARSING_ERROR",h.__docgenInfo={description:"",displayName:"TEAM_PARSING_ERROR",props:{}}}catch{}try{y.displayName="TeamSubjectsSelector",y.__docgenInfo={description:"",displayName:"TeamSubjectsSelector",props:{subjects:{defaultValue:null,description:"",name:"subjects",required:!0,type:{name:"RestrictableObjectDescriptor[]"}},onUpdate:{defaultValue:null,description:"",name:"onUpdate",required:!0,type:{name:"(subjects: RestrictableObjectDescriptor[]) => void"}},onUpdateTeamIDsTextbox:{defaultValue:null,description:"",name:"onUpdateTeamIDsTextbox",required:!1,type:{name:"(value: string) => void"}}}}}catch{}export{y as T};
