import{r as f}from"./index-CBqU2yxZ.js";import{u as d}from"./createTheme-2XtGYoE4.js";import{g as h}from"./styled-CPWjInoX.js";import{a as S}from"./useForkRef-BSLA1zlB.js";function w(t,o,e,r,u){const[s,i]=f.useState(()=>u&&e?e(t).matches:r?r(t).matches:o);return S(()=>{let a=!0;if(!e)return;const n=e(t),m=()=>{a&&i(n.matches)};return m(),n.addListener(m),()=>{a=!1,n.removeListener(m)}},[t,e]),s}const p=f.useSyncExternalStore;function Q(t,o,e,r,u){const s=f.useCallback(()=>o,[o]),i=f.useMemo(()=>{if(u&&e)return()=>e(t).matches;if(r!==null){const{matches:c}=r(t);return()=>c}return s},[s,t,r,u,e]),[a,n]=f.useMemo(()=>{if(e===null)return[s,()=>()=>{}];const c=e(t);return[()=>c.matches,l=>(c.addListener(l),()=>{c.removeListener(l)})]},[s,e,t]);return p(n,a,i)}function E(t,o={}){const e=d(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:u=!1,matchMedia:s=r?window.matchMedia:null,ssrMatchMedia:i=null,noSsr:a=!1}=h({name:"MuiUseMediaQuery",props:o,theme:e});let n=typeof t=="function"?t(e):t;return n=n.replace(/^@media( ?)/m,""),(p!==void 0?Q:w)(n,u,s,i,a)}export{E as u};
