import{m as J}from"./mockProject-BA6DajsE.js";import{j as r}from"./jsx-runtime-D_zvdyIk.js";import{l as G,m as F}from"./useFiles-CGy5Z_At.js";import{R as Q}from"./VerificationSubmission-OWkqLMYZ.js";import"./StringUtils-C5rFena9.js";import"./OrientationBanner-BbBfl_YH.js";import{r as T}from"./index-CCx7LtbX.js";import{u as N}from"./useGetEntityChallenge-DzmlTa-T.js";import{a as Y,b as K,c as X}from"./useTeamMembers-BsJI0CLY.js";import{u as Z}from"./useGetUserTeams-BCTFbSwk.js";import{C as $}from"./ChallengeRegisterButton-BrLRTLCY.js";import{i as tt}from"./_baseUniq-BT4GANo1.js";import{o as rt,p as ot}from"./useAccessRequirements-tJoCT_3Q.js";import{u as et}from"./useEntity-BAHICT98.js";import{A as it}from"./AccessRequirementList-DsRQLFZm.js";import{S as mt}from"./LoadingScreen-gfj-vJw0.js";import{A as pt}from"./Alert-mSRVcikz.js";import{T as at}from"./Typography-BeXEtM59.js";import{B as A}from"./Button-C2r8JxxF.js";import{C as st}from"./ChallengeTeamWizard-6P-fkugx.js";import{C as nt}from"./ConfirmationDialog-CGuaha4q.js";import{d as E}from"./ToastMessage-CsN0Bop0.js";import"./mockTeam-C3sQCGJ9.js";import"./SynapseConstants-B-LC1ypq.js";import"./mock_user_profile-CCzWeUML.js";import"./uniqueId-BX3slaGm.js";import"./toString-iVY1XlMy.js";import"./isArray-8WYU2MbI.js";import"./iframe-CXkN_bjh.js";import"./isSymbol-CEm6RQ_3.js";import"./times-tKk62g8L.js";import"./_Uint8Array-YMIauZjz.js";import"./identity-DKeuBCMA.js";import"./toInteger-BVJAmaas.js";import"./toNumber-KcrXdJBs.js";import"./fetchWithExponentialTimeout-CXmnpl-T.js";import"./useTimeout-gBVtjGWN.js";import"./FullWidthAlert-4g268GZ6.js";import"./spreadSx-CwcO6WA9.js";import"./Stack-CNsyzmPM.js";import"./DefaultPropsProvider-C9mJXSlS.js";import"./createTheme-BGipwrSZ.js";import"./extendSxProp-DFE9sSAY.js";import"./getThemeProps-CeD3wcUs.js";import"./useTheme-C6Hms8rT.js";import"./Box-DxttMfmA.js";import"./AlertTitle-B47zWGCp.js";import"./useForkRef-D0tAio4i.js";import"./useSlot-CL9Tm_iu.js";import"./useTheme-Ccnn5CDs.js";import"./ClickAwayListener-BopzRr-s.js";import"./getReactElementRef-B_W85HoF.js";import"./index-CoD41yc1.js";import"./index-Cl-WCWPX.js";import"./ownerDocument-DW-IO8s5.js";import"./Paper-_hjMoFje.js";import"./Grow-f0ioJdsi.js";import"./Tooltip-BSMMEp4O.js";import"./index-BqN4AehO.js";import"./useControlled-7LyiC2MA.js";import"./Popper-BWw2OTmL.js";import"./isFocusVisible-B8k4qzLc.js";import"./useQuery-BAMs9skl.js";import"./QueryClientProvider-CTjZIdYp.js";import"./Link-DjUqzp-g.js";import"./createSimplePaletteValueFilter-Cx2IpYcE.js";import"./Collapse-x5dCqbpD.js";import"./isEqual-BPvSjkwI.js";import"./_getTag-DCb-KCZR.js";import"./merge-B6kKGF8W.js";import"./_initCloneObject-CmMQaoK8.js";import"./createSvgIcon-Dn1e9c9m.js";import"./tinycolor-Begke6kS.js";import"./Fade-BxMIOZQV.js";import"./inputBaseClasses-CEmDwYah.js";import"./calculateFriendlyFileSize-C_8OiygM.js";import"./CheckCircleTwoTone-CpDhgK8q.js";import"./InfoTwoTone-DcM4CCDR.js";import"./index-7Nlp89ok.js";import"./useMutation-DkuvOR_-.js";import"./dayjs.min-Did3EpXL.js";import"./chunk-AYJ5UCUI-BdecK6oV.js";import"./cloneDeep-BneUL77Z.js";import"./Skeleton-Dk9RX1Ib.js";import"./index-Bjcc8c1r.js";import"./react-D8sJYU4U.js";import"./useInfiniteQuery-CwsKt5rK.js";import"./InfiniteQueryUtils-CKlRW-xB.js";import"./ExitToApp-BJLnRMWA.js";import"./SpinnerButton-BKyg7aqd.js";import"./LoginAwareButton-DRln_4Q_.js";import"./index-KC7yRlkw.js";import"./_baseOrderBy-CyU8Io3K.js";import"./_baseGet-BRJPW1EW.js";import"./_baseIteratee-DJeb64Ar.js";import"./hasIn-CQxAVHWC.js";import"./_baseMap-bv63O0qQ.js";import"./_baseEach-Dpz4SaeI.js";import"./useQueries-9-oS7sbG.js";import"./pickBy-CBVmbESf.js";import"./isString-xeDVkmPJ.js";import"./pick-iPCJGBj3.js";import"./_baseSet-DnUEo9lI.js";import"./omit-BBqly6Da.js";import"./_baseSlice-F8doVSIJ.js";import"./useEntityBundle-Bifeg-53.js";import"./ACTAccessRequirement-WDpE4gfi.js";import"./SelfSignAccessRequirement-C_01XAIc.js";import"./groupBy-D_czNBBQ.js";import"./_createAggregator-C5Q4Fpr9.js";import"./DialogBase-BcO5718l.js";import"./Close-B9V75ppf.js";import"./HelpPopover-DDVP8n3H.js";import"./MarkdownPopover-DejoIGWF.js";import"./LightTooltip-VZD-7M-l.js";import"./MarkdownSynapse-DDxMldeE.js";import"./SkeletonButton-ew_40Dyv.js";import"./SkeletonInlineBlock-E4UTXhvf.js";import"./SkeletonTable-B1wbbH8S.js";import"./SkeletonParagraph-DfjIm47p.js";import"./HelpOutlineTwoTone-BowKj72F.js";import"./DialogTitle-CCXeLDWx.js";import"./DialogContent-OfwTsD5F.js";import"./Dialog-DdBg7P6_.js";import"./Modal-D2xPXGcN.js";import"./getScrollbarSize-CaCM53D3.js";import"./ownerWindow-HkKU3E4x.js";import"./createChainedFunction-BO_9K8Jh.js";import"./Backdrop-D1t9QhjK.js";import"./IconButton-BxhC3Er-.js";import"./ButtonBase-C0vKM8oB.js";import"./CircularProgress-B3mrrbKE.js";import"./EntityLink-oyd0Ev04.js";import"./useGetEntityHeaders-DfMu2qmw.js";import"./EntityIcon-BbKnC59W.js";import"./IconSvg-D0A6kovd.js";import"./LayersTwoTone-CdqCsCuJ.js";import"./ContentCopyTwoTone-tKxaCeOu.js";import"./ErrorOutlined-CHa2Zx5Z.js";import"./GetAppTwoTone-DuliMrg2.js";import"./InfoOutlined-r7NXPISH.js";import"./PhoneTwoTone-Mdp92CkC.js";import"./DeleteTwoTone-C9vVuAIk.js";import"./ErrorChip-CRDIhsP_.js";import"./Chip-C4TaZewq.js";import"./Avatar-CW9ih4cl.js";import"./UserOrTeamBadge-OBWNYXap.js";import"./UserBadge-BsRL9Kti.js";import"./Popover-Bm4SgnuV.js";import"./isHostComponent-DVu5iVWx.js";import"./debounce-Be36O1Ab.js";import"./mergeSlotProps-DRoh4PwO.js";import"./Menu-CBTrKcxu.js";import"./MenuList-zFTaxyxS.js";import"./List-DEPLYzpz.js";import"./Divider-Bdlssbng.js";import"./dividerClasses-BoaS9eXB.js";import"./MenuItem-Bl6Lsdq-.js";import"./Card-BK6fo2QT.js";import"./TeamBadge-Bx1fv4v1.js";import"./UnmanagedACTAccessRequirementItem-DHl33sB6.js";import"./RequirementItem-zeof9RTd.js";import"./ConditionalWrapper-CpBCX7_r.js";import"./LockTwoTone-TxGYnVGY.js";import"./UserSearchBoxV2-Bg-ORP3L.js";import"./useDebouncedEffect-BaXKhQxl.js";import"./use-deep-compare-effect.esm-Bx5b8nOu.js";import"./uniq-DQJ506I5.js";import"./without-DaiJ2TKP.js";import"./Select-aab027f3.esm-BG9B5-44.js";import"./defineProperty-CegpTSss.js";import"./ManagedACTAccessRequirementItemView-DSqQwj6k.js";import"./DateFormatter-C502-DpN.js";import"./localizedFormat-Baa4IHHd.js";import"./utc-CjB0xfWm.js";import"./SelfSignAccessRequirementItem-87b23_CT.js";import"./DataAccessRequestAccessorsFilesForm-5E2lGcw5.js";import"./enums-D_E05l_J.js";import"./_arrayReduce-CrxnWFSq.js";import"./forEach-BugeioCE.js";import"./useDataAccessSubmission-DDTkhRHU.js";import"./RadioGroup-BvNvn3qE.js";import"./Radio-BQJ3eXYp.js";import"./SwitchBase-tadGiAN5.js";import"./useFormControl-D1zj1wA2.js";import"./FormGroup-hX9YnF8R.js";import"./formControlState-Dq1zat_P.js";import"./FormControlLabel-INrfrWvo.js";import"./UploadDocumentField-BtgaZNSM.js";import"./FileUpload-Db9lcT0T.js";import"./ManagedACTAccessRequirementFormWikiWrapper-CKclLt0Z.js";import"./GridLegacy-DwNISm-d.js";import"./ResearchProjectForm-CzVDSB4B.js";import"./TextFieldWithWordLimit-CWaeRbET.js";import"./FormControl-jyLsbZb_.js";import"./isMuiElement-BNFXnvGY.js";import"./Input-Boi1XzDN.js";import"./InputBase-DFDdnw7B.js";import"./FormHelperText-D3XymDWs.js";import"./InputLabel-XxoeGF3V.js";import"./FormLabel-DwNPnIyD.js";import"./TextField-BdZ0vYvW.js";import"./Select-CjWhi5t6.js";import"./AuthenticatedRequirement-Ba1wcyss.js";import"./CertificationRequirement-D1kC7jq5.js";import"./TwoFactorAuthEnabledRequirement-BzQBfyPf.js";import"./TwoFactorEnrollmentForm-BMmG5qpS.js";import"./LeftRightPanel-STXEZI3G.js";import"./TextField-C8-D2vwq.js";import"./StyledFormControl-Andf5GVM.js";import"./ValidationRequirement-CZi1ga5n.js";import"./LinearProgress-yL_q_WYt.js";import"./Close-ALHvqgO_.js";import"./CreateChallengeTeam-BSEQPLL_.js";import"./useTeam-Cz_UTJH7.js";import"./papaparse.min-D1KxGBLm.js";import"./Search-CoVSUriM.js";import"./Box-DaZxC3uZ.js";import"./DataGrid-BlBCfzUJ.js";import"./index-CVlUnQRd.js";import"./index-Chjiymov.js";import"./index-CpUDw70S.js";import"./Switch-SWD-xo7Y.js";import"./ListItemIcon-BKjWuDW1.js";import"./Badge-Dxtt4Vdi.js";import"./usePreviousProps-BPYJUXPn.js";import"./Autocomplete-DsBMvZCU.js";import"./KeyboardArrowRight-BQkBrc04.js";import"./LastPage-Ua2GE6m0.js";import"./ListItemText-DXi7yRpu.js";import"./Checkbox-CNlAVLjf.js";import"./InputAdornment-U8KmKMu0.js";import"./CSSTransition-D13qlzzv.js";function x(i){const{open:j,projectId:s,onRegisterComplete:g,onCancel:n}=i,{data:c,error:l}=et(s),{accessToken:I}=G(),{data:t,error:f}=N(s),b=!!I,{data:d,error:R}=F({enabled:b}),o=t==null?void 0:t.participantTeamId,m=d==null?void 0:d.ownerId,{data:e,error:S}=Y(o,m,{enabled:!!(o&&m)}),{mutateAsync:h,isPending:u,error:q}=K(),{data:a,isSuccess:V,error:z}=rt(t==null?void 0:t.participantTeamId,{enabled:!!(t!=null&&t.participantTeamId)}),H=ot((a==null?void 0:a.map(p=>String(p.id)))??[]),O=V&&H.every(p=>p.status==="success"&&p.data.isApproved),W=T.useCallback(async()=>{o&&m&&!(e!=null&&e.isMember)&&await h({teamId:o,userId:m}),g()},[h,g,o,e==null?void 0:e.isMember,m]),v=[l,f,R,S,z,q].filter(p=>!!p);let _=e!=null&&e.isMember?"Continue":"Register";return u&&(_="Registering..."),tt(v)?!o||!j?r.jsx(r.Fragment,{}):r.jsx(it,{dialogTitle:"Challenge Terms and Conditions",subjectId:o,subjectType:Q.TEAM,teamId:t==null?void 0:t.participantTeamId,renderAsModal:!0,requestObjectName:c==null?void 0:c.name,onHide:()=>{n()},customDialogActions:r.jsxs(r.Fragment,{children:[r.jsx(A,{variant:"outlined",onClick:n,children:"Cancel"}),r.jsx(A,{variant:"contained",onClick:()=>{W()},startIcon:u?r.jsx(mt,{}):void 0,disabled:!O||u,children:_})]})}):r.jsx(pt,{severity:"error",children:v.map((p,U)=>r.jsx(at,{variant:"body1",children:p.reason},U))})}try{x.displayName="ChallengeRequirementsModal",x.__docgenInfo={description:`The challenge requirements modal will
 1. Display the access requirements that must be accepted to join a participant team. The component will guide the user through meeting the requirements.
 2. If the user has accepted the requirements, the user can click 'Register' to join the team
    If the user has not accepted the requirements, the user cannot register for the challenge.`,displayName:"ChallengeRequirementsModal",props:{open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},projectId:{defaultValue:null,description:"",name:"projectId",required:!0,type:{name:"string"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}},onRegisterComplete:{defaultValue:null,description:"",name:"onRegisterComplete",required:!0,type:{name:"() => void"}}}}}catch{}function k({projectId:i}){const{accessToken:j}=G(),s=!!j,[g,n]=T.useState(!1),[c,l]=T.useState(!1),[I,t]=T.useState(!1),{data:f}=F(),b=a=>{n(a)},d=()=>{l(!0)},R=()=>{t(!0)},{data:o}=N(i),{data:m}=Z(o==null?void 0:o.id,1,0,{enabled:!!(s&&o)}),e=m&&m.results.length>0,{mutate:S}=X({onSuccess:()=>{E("You are no longer registered for this challenge","info")},onError:a=>{E(a.reason,"danger")}}),h=()=>{s&&o&&f&&S({teamId:o.participantTeamId,userId:f.ownerId})},u=()=>{l(!1)},q=()=>{l(!1),n(!e)};return r.jsxs(r.Fragment,{children:[r.jsx($,{projectId:i,onJoinClick:d,onLeaveClick:R}),r.jsx(x,{open:c,projectId:i,onRegisterComplete:q,onCancel:u}),r.jsx(st,{projectId:i,onClose:()=>{b(!1)},isShowingModal:g}),r.jsx(nt,{open:I,title:"Leave this Challenge?",content:"Are you sure you want to leave this Challenge?",onCancel:()=>t(!1),onConfirm:()=>{h(),t(!1)}})]})}try{k.displayName="ChallengeDetailPage",k.__docgenInfo={description:"",displayName:"ChallengeDetailPage",props:{projectId:{defaultValue:null,description:"",name:"projectId",required:!0,type:{name:"string"}}}}}catch{}const vi={title:"Synapse/Challenge/ChallengeDetailPage",component:k,parameters:{backgrounds:{default:"Challenge Header",values:[{name:"Challenge Header",value:"#3E68AA"}]}}},C={args:{projectId:J.id},parameters:{stack:"mock"}},y={args:{projectId:"syn51208606"},parameters:{stack:"production"}};var w,M,D;C.parameters={...C.parameters,docs:{...(w=C.parameters)==null?void 0:w.docs,source:{originalSource:`{
  args: {
    projectId: mockProject.id
  },
  parameters: {
    stack: 'mock'
  }
}`,...(D=(M=C.parameters)==null?void 0:M.docs)==null?void 0:D.source}}};var P,B,L;y.parameters={...y.parameters,docs:{...(P=y.parameters)==null?void 0:P.docs,source:{originalSource:`{
  args: {
    projectId: 'syn51208606'
  },
  parameters: {
    stack: 'production'
  }
}`,...(L=(B=y.parameters)==null?void 0:B.docs)==null?void 0:L.source}}};const _i=["MockDemo","ProductionDemo"];export{C as MockDemo,y as ProductionDemo,_i as __namedExportsOrder,vi as default};
