import{an as a,aI as i,aa as y,aH as m,am as o,i2 as d}from"./iframe-BVXHJH4u.js";function M(e,s,u){const{accessToken:n,keyFactory:r}=a();return o({...u,queryKey:r.getIsUserMemberOfTeamQueryKey(e,s),queryFn:()=>y.getIsUserMemberOfTeam(e,s,n)})}function K(e,s,u){const{accessToken:n,keyFactory:r}=a();return o({...u,queryKey:r.getMembershipStatusQueryKey(e,s),queryFn:()=>y.getMembershipStatus(e,s,n)})}function I(e,s){const{accessToken:u,keyFactory:n}=a();return o({...s,queryKey:n.getAllOpenMembershipInvitationsForUserQueryKey(e),queryFn:()=>y.getAllOpenMembershipInvitationsForUser(e,u)})}function Q(e){const{accessToken:s}=a();return i({...e,mutationFn:u=>y.createMembershipInvitation(u,s)})}function q(e){const s=m(),{accessToken:u,keyFactory:n}=a();return i({...e,mutationFn:({teamId:r,userId:t})=>y.addTeamMemberAsAuthenticatedUserOrAdmin(r,t,u),onSuccess:async(r,t,c)=>{e?.onSuccess&&e.onSuccess(r,t,c),await Promise.all([s.invalidateQueries({queryKey:n.getMembershipStatusQueryKey(t.teamId,t.userId)}),s.invalidateQueries({queryKey:n.getIsUserMemberOfTeamQueryKey(t.teamId,t.userId)}),s.invalidateQueries({queryKey:n.getTeamMembersQueryKey(t.teamId)}),s.invalidateQueries({queryKey:n.getAllSubmissionTeamsQueryKeys()})])}})}function S(e){const s=m(),{accessToken:u,keyFactory:n}=a();return i({...e,mutationFn:r=>y.createMembershipRequest(r,u),onSuccess:async(r,t,c)=>{if(await s.invalidateQueries({queryKey:n.getMembershipStatusQueryKey(t.teamId,t.userId)}),e.onSuccess)return e.onSuccess(r,t,c)}})}function f(e){const s=m(),{accessToken:u,keyFactory:n}=a();return i({...e,mutationFn:r=>d(r.teamId,r.userId,u),onSuccess:async(r,t,c)=>{await Promise.all([s.invalidateQueries({queryKey:n.getIsUserMemberOfTeamQueryKey(t.teamId,t.userId)}),s.invalidateQueries({queryKey:n.getMembershipStatusQueryKey(t.teamId,t.userId)})]),e?.onSuccess&&await e.onSuccess(r,t,c)}})}export{q as a,f as b,M as c,S as d,I as e,Q as f,K as u};
