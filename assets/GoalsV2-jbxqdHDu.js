import{j as e,X as _,bq as D,B as R,gx as B,fo as i,V as q,b1 as L,bW as T,eG as M,a0 as A}from"./iframe-Ci1lmE8g.js";import{E as O,u as Q}from"./ExpandableContent-CNzbgxOy.js";import{u as U}from"./useGetGoalData-D3FpN6ih.js";import{P}from"./PortalSectionHeader-DUAZAKBB.js";import{Q as j}from"./QueryCount-C3ILYj9w.js";import{N as K}from"./NavigateNext-DFI8VdpQ.js";import{C as W}from"./Card-B9m98vxz.js";import{C as F}from"./CardActionArea-Dib_l79C.js";import{C as H}from"./CardMedia-CZ-gxTC3.js";import{C as X}from"./CardContent-KtqUWC2y.js";function x({asset:n,link:r,countSql:a,title:s}){return e.jsx(W,{sx:{width:"200px",maxWidth:"200px",height:"auto",backgroundColor:"transparent",borderColor:"transparent",boxShadow:"none"},children:e.jsxs(F,{onClick:()=>window.open(r,"_self"),children:[e.jsx(H,{component:"img",sx:{height:150,width:"100%",paddingX:2,overflow:"visible"},image:n,alt:s}),e.jsxs(X,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[e.jsx(_,{variant:"h6",sx:{marginRight:1,fontSize:"16px",fontWeight:900},children:a&&e.jsx(j,{parens:!1,query:{sql:a}})}),e.jsx(_,{variant:"body1",children:s}),e.jsx(D,{sx:{color:"primary.main"},children:e.jsx(K,{})})]})]})})}try{x.displayName="GoalsV2Desktop",x.__docgenInfo={description:"",displayName:"GoalsV2Desktop",props:{countSql:{defaultValue:null,description:"",name:"countSql",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}},asset:{defaultValue:null,description:"",name:"asset",required:!0,type:{name:"string"}}}}}catch{}function y({link:n,summary:r,countSql:a,title:s}){const d=e.jsxs("div",{children:[a&&e.jsx("span",{children:e.jsx(j,{parens:!1,query:{sql:a}})}),e.jsxs("span",{children:[" ",s," "]})]}),t=e.jsxs("div",{children:[e.jsx("p",{children:r}),e.jsx(R,{variant:"contained",color:"secondary",href:n,children:"Explore"})]});return e.jsx(O,{title:d,content:t})}try{y.displayName="GoalsV2Mobile",y.__docgenInfo={description:"",displayName:"GoalsV2Mobile",props:{countSql:{defaultValue:null,description:"",name:"countSql",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}},asset:{defaultValue:null,description:"",name:"asset",required:!0,type:{name:"string"}}}}}catch{}const Y=1200,C=n=>{const{entityId:r,dataLink:a}=n,s=Q(Y),d={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:r,partMask:M|A,query:{sql:`select * from ${r} order by ItemOrder`}},{data:t}=B(d),{assets:u,error:f}=U(r,t),g=i("TableId",t),p=i("CountSql",t),V=i("Title",t),b=i("Summary",t),I=i("Link",t),k=(t==null?void 0:t.queryResult.queryResults.rows.map((l,c)=>{const o=l.values;o.some(v=>v===null)&&console.warn("Row has null value(s) when no nulls expected");const h=g>-1?o[g]:void 0;let m;p>-1&&o[p]?m=o[p]:h&&(m=`SELECT * FROM ${h}`);const E=o[V],G=o[b],w=o[I],N=(u==null?void 0:u[c])??"";return{countSql:m,title:E,summary:G,link:w,asset:N}}))??[],S=s?x:y;return e.jsxs(q,{sx:{minHeight:"560px",padding:{xs:"40px",lg:"80px"}},children:[e.jsx(P,{centered:!0,title:"What's in the Portal?",buttonText:"Start Exploring Data",link:a,sx:l=>({h2:{borderColor:L(l.palette.primary.main,.2)},a:{marginTop:"24px",marginBottom:"30px"}})}),f&&e.jsx(T,{error:f}),e.jsx("div",{className:"Goals",children:e.jsx(q,{sx:{display:"flex",justifyContent:"space-between",flexDirection:s?"row":"column"},children:k.map((l,c)=>e.jsx(S,{...l},c))})})]})};try{C.displayName="GoalsV2",C.__docgenInfo={description:"",displayName:"GoalsV2",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},dataLink:{defaultValue:null,description:"",name:"dataLink",required:!0,type:{name:"string"}}}}}catch{}export{C as G};
