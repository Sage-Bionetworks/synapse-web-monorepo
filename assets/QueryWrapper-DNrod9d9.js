import{r as o,am as O,ch as Ee,f2 as Ne,eR as B,ci as Pe,ck as _e,cj as ve,j as p,$ as De,e_ as C,f3 as be,eO as ce,eP as de,c3 as b,f0 as ye,eE as W,fp as Qe,fo as Ae,f4 as ke,an as Oe,fq as Me,fr as Ue,dg as ze,fs as me,ft as fe,fu as Le,fv as je,fw as Be,c9 as Ke,fx as We,fy as ee}from"./iframe-BSxjDfu3.js";import{u as He}from"./unCamelCase-ZiU_emRy.js";import{a as Re,u as Je,b as Ye}from"./use-deep-compare-effect.esm-DnLaWVar.js";import{u as ue,a as Ge}from"./QueryContext-ghUNkAyi.js";import{u as $e}from"./useSuspenseQuery-B5B_wZvU.js";import{N as Ze}from"./NoSearchResults-B0cbKA2B.js";import{s as Xe}from"./NoData-BTmUQGC9.js";import{N as et}from"./NoContentAvailable-CUl3dw8y.js";import{u as tt}from"./index-DFza0wpf.js";import{C as nt}from"./ConfirmationDialog-BqzMQSuY.js";import{u as rt,i as at,c as st,r as ot,s as ut}from"./TableRowSelectionState-4wutZE-r.js";import{u as lt}from"./useEntity-KS5kNauW.js";import{a as it}from"./SynapseTableUtils-CyAXh8wA.js";function pe(e,n){return t=>{typeof t=="function"?e(a=>{const s=t(a);return s&&n(!1),s}):t?(e(!0),n(!1)):e(!1)}}function ct(e,n){const[t,a]=o.useState(e),[s,r]=o.useState(n),l=o.useMemo(()=>pe(a,r),[]),i=o.useMemo(()=>pe(r,a),[]);return[t,l,s,i]}function he(e){const{queryMetadataQueryOptions:n}=ue(),t={...n,...e};return O(t)}function Xt(e){const{queryMetadataQueryOptions:n}=ue(),t={...n,...e};return $e(t)}const dt=()=>{try{return JSON.parse(sessionStorage.getItem(ve)||"")}catch{return[]}},yt=()=>{try{return JSON.parse(sessionStorage.getItem(_e)||"")}catch{return[]}},mt=()=>{try{return JSON.parse(sessionStorage.getItem(Pe)||"")}catch{return[]}},ft=e=>dt().find(t=>t.id===e)?.name??e,pt=e=>mt().find(t=>t.id===e)?.name||e,ht=e=>yt().find(t=>t.ownerId===e)?.userName||e,Ct=(e,n)=>{if(e===Ee)return Ne;switch(n){case B.ENTITYID:case B.ENTITYID_LIST:return ft(e);case B.USERID:case B.USERID_LIST:return ht(e);case B.EVALUATIONID:return pt(e);default:return e}};var K=(e=>(e.INTERACTIVE="INTERACTIVE",e.STATIC="STATIC",e.HIDDEN="HIDDEN",e))(K||{});function gt(){return p.jsxs("div",{className:"text-center",children:[p.jsx(Ze,{className:"no-search-results",display:"block",height:"181px",sx:{pt:"40px",pb:"10px"}}),p.jsx("h4",{children:"No Matching Results"}),p.jsx("p",{children:"Try checking the spelling or removing filters."})]})}function qt(){return p.jsxs("div",{className:"text-center SRCBorderedPanel SRCBorderedPanel--padded2x",children:[Xe,p.jsx("div",{style:{marginTop:"20px",fontStyle:"italic"},children:"This table is currently empty"})]})}function se(e){const{type:n,hasResettableFilters:t}=e;switch(n){case K.INTERACTIVE:return t?p.jsx(gt,{}):p.jsx(qt,{});case K.HIDDEN:return p.jsx(p.Fragment,{});case K.STATIC:default:return p.jsx(et,{})}}try{se.displayName="NoContentPlaceholder",se.__docgenInfo={description:"",displayName:"NoContentPlaceholder",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"INTERACTIVE"'},{value:'"STATIC"'},{value:'"HIDDEN"'}]}},hasResettableFilters:{defaultValue:null,description:"",name:"hasResettableFilters",required:!0,type:{name:"boolean"}}}}}catch{}const H=o.createContext(void 0),oe=({children:e,queryVisualizationContext:n})=>p.jsx(H.Provider,{value:n,children:e});function en(){const e=o.useContext(H);if(e===void 0)throw new Error("useQueryVisualizationContext must be used within a QueryVisualizationWrapper");return e}const Ce=H.Consumer;try{H.displayName="QueryVisualizationContext",H.__docgenInfo={description:"This must be exported to use the context in class components.",displayName:"QueryVisualizationContext",props:{}}}catch{}try{oe.displayName="QueryVisualizationContextProvider",oe.__docgenInfo={description:"Provides fields and functions related to visualizing a Synapse table query. For actual query data, see QueryContextProvider.",displayName:"QueryVisualizationContextProvider",props:{queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}}}}}catch{}try{Ce.displayName="QueryVisualizationContextConsumer",Ce.__docgenInfo={description:"",displayName:"QueryVisualizationContextConsumer",props:{}}}catch{}const St=[];function ge(e){const{noContentPlaceholderType:n=K.INTERACTIVE,defaultShowSearchBar:t=!1,defaultShowPlots:a=!0,hideCopyToClipboard:s=!1,hideSearchBarControl:r=!1,unitDescription:l="result",helpConfiguration:i,hasCustomPlots:f=!1,visibleColumnCount:c=1/0,enabledExternalAnalysisPlatforms:u=St}=e,d=o.useMemo(()=>e.columnAliases??{},[e.columnAliases]),{getCurrentQueryRequest:q,hasFacetedSelectColumn:g,hasResettableFilters:w,rowDataQueryOptions:M}=ue(),{data:E}=he(),{data:U}=O({...M,select:m=>m.responseBody?.queryResult?.queryResults.headers,placeholderData:m=>m}),{data:V}=he({select:m=>m.responseBody?.selectColumns,placeholderData:m=>m}),F=Re(U??V??[]),[N,S]=o.useState(!1),[I,z]=o.useState(a),[P,L]=o.useState(!s),[_,j]=o.useState(!0),[v,D,A,y]=ct(t&&!r,!1),[h,Q]=o.useState(!1),[k,J]=o.useState([]),te=o.useMemo(()=>q(),[q]);o.useEffect(()=>{J(F.slice(0,c).map(m=>m.name))},[F,te.query.sql,c]);const Y=o.useCallback((m,R)=>{const Z=localStorage.getItem("force-display-original-column-names")==="true";if(!m||Z&&!R)return m;if(d[m])return d[m];if(R){const x=E?.columnModels?.find(T=>T.name===m);if(x?.jsonSubColumns){const T=x.jsonSubColumns.find(X=>X.jsonPath===R);if(T)return T.name}}return He(m)},[d,E?.columnModels]),G=o.useCallback((m,R)=>{if(Array.isArray(i))return i.find(x=>x.columnName===m&&x.jsonPath===R)?.helpText},[i]),$=o.useCallback(()=>p.jsx(se,{type:n,hasResettableFilters:w}),[n,w]),ne=o.useMemo(()=>({columnsToShowInTable:k,setColumnsToShowInTable:J,rgbIndex:e.rgbIndex,unitDescription:l,showLastUpdatedOn:e.showLastUpdatedOn,getColumnDisplayName:Y,getDisplayValue:Ct,getHelpText:G,NoContentPlaceholder:$,isShowingExportToAnalysisPlatformModal:h,setIsShowingExportToAnalysisPlatformModal:Q,showFacetFilter:g?_:!1,setShowFacetFilter:j,hideSearchBarControl:r,showSearchBar:v,setShowSearchBar:D,showDownloadConfirmation:A,setShowDownloadConfirmation:y,showSqlEditor:N,setShowSqlEditor:S,showPlots:f||g?I:!1,setShowPlots:z,showCopyToClipboard:P,setShowCopyToClipboard:L,enabledExternalAnalysisPlatforms:u}),[$,Y,G,g,h,e.rgbIndex,e.showLastUpdatedOn,y,D,P,A,_,I,v,N,l,k,f,u]),{children:re}=e;return p.jsx(oe,{queryVisualizationContext:ne,children:re})}try{ge.displayName="QueryVisualizationWrapper",ge.__docgenInfo={description:`QueryVisualizationWrapper manages UI state for components that query tables in Synapse. That state can be accessed
or updated using QueryVisualizationContext. A QueryVisualizationWrapper must be used within a QueryWrapper.`,displayName:"QueryVisualizationWrapper",props:{rgbIndex:{defaultValue:null,description:"",name:"rgbIndex",required:!1,type:{name:"number"}},unitDescription:{defaultValue:null,description:'The singular word to use to describe a what a row represents (e.g. "file"). Defaults to "result"',name:"unitDescription",required:!1,type:{name:"string"}},columnAliases:{defaultValue:null,description:"Mapping from column name to the name that should be shown for the column",name:"columnAliases",required:!1,type:{name:"Record<string, string>"}},visibleColumnCount:{defaultValue:null,description:"",name:"visibleColumnCount",required:!1,type:{name:"number"}},hiddenColumns:{defaultValue:null,description:"",name:"hiddenColumns",required:!1,type:{name:"string[]"}},defaultShowPlots:{defaultValue:null,description:"",name:"defaultShowPlots",required:!1,type:{name:"boolean"}},hideCopyToClipboard:{defaultValue:null,description:"",name:"hideCopyToClipboard",required:!1,type:{name:"boolean"}},hideSearchBarControl:{defaultValue:null,description:"",name:"hideSearchBarControl",required:!1,type:{name:"boolean"}},defaultShowSearchBar:{defaultValue:null,description:"",name:"defaultShowSearchBar",required:!1,type:{name:"boolean"}},showLastUpdatedOn:{defaultValue:null,description:"",name:"showLastUpdatedOn",required:!1,type:{name:"boolean"}},noContentPlaceholderType:{defaultValue:null,description:"Default is INTERACTIVE",name:"noContentPlaceholderType",required:!1,type:{name:"enum",value:[{value:'"INTERACTIVE"'},{value:'"STATIC"'},{value:'"HIDDEN"'}]}},isRowSelectionVisible:{defaultValue:null,description:"",name:"isRowSelectionVisible",required:!1,type:{name:"boolean"}},rowSelectionPrimaryKey:{defaultValue:null,description:`The set of columns that defines a uniqueness constraint on the table for the purposes of filtering based on row selection.
Note that Synapse tables have no internal concept of a primary key.`,name:"rowSelectionPrimaryKey",required:!1,type:{name:"string[]"}},additionalFiltersSessionStorageKey:{defaultValue:null,description:`Look for additional filters using the given key.  If not provided, the entity ID will be used.
@deprecated - configure the filter before passing a query`,name:"additionalFiltersSessionStorageKey",required:!1,type:{name:"string"}},helpConfiguration:{defaultValue:null,description:"Configuration to add a help popover to each corresponding column header",name:"helpConfiguration",required:!1,type:{name:"ColumnOrFacetHelpConfig[]"}},hasCustomPlots:{defaultValue:null,description:"",name:"hasCustomPlots",required:!1,type:{name:"boolean"}},enabledExternalAnalysisPlatforms:{defaultValue:{value:"[] (no platforms are enabled)"},description:"The set of external analysis platform to which the UI will support exporting data.",name:"enabledExternalAnalysisPlatforms",required:!1,type:{name:"ExternalAnalysisPlatform[]"}},hideVisualizationsControl:{defaultValue:null,description:"",name:"hideVisualizationsControl",required:!1,type:{name:"boolean"}}}}}catch{}function Ve(e,n){return`${e}${n}`}function qe(e,n,t){const a=n!==void 0?Ve(e,n):e,s=new URLSearchParams(window.location.search);t?s.set(a,t):s.delete(a);const r=s.toString();window.history.replaceState(null,"",window.location.pathname+(Array.from(s).length>0?`?${r.toString()}`:""))}function bt(e,n){const t=Ve(e,n),a=new URLSearchParams(window.location.search).get(t);let s;if(a){const r=JSON.parse(a);r.sql&&(s={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:De(r.sql),query:r})}return s}function Qt(e,n){const t=C(n),{queryOrUpdater:a}=e;return typeof a=="function"?a(t):a}function Rt(e,n){const t=C(n),{facet:a,value:s}=e,r=t.query.selectedFacets??[],l=r.find(i=>i.concreteType==="org.sagebionetworks.repo.model.table.FacetColumnValuesRequest"&&W(a,i));return l?l.facetValues.includes(s)||l.facetValues.push(s):r.push({concreteType:"org.sagebionetworks.repo.model.table.FacetColumnValuesRequest",columnName:a.columnName,jsonPath:a.jsonPath,facetValues:[s]}),t.query.selectedFacets=r,b(t,n)||(t.query.offset=0),t}function Vt(e,n){const t=C(n),{facetsToRemove:a}=e,s=Array.isArray(a);return t.query.selectedFacets=(t.query.selectedFacets??[]).filter(r=>s?!a.find(l=>W(l,r)):!W(a,r)),b(t,n)||(t.query.offset=0),t}function wt(e,n){const t=C(n),{facet:a,min:s,max:r}=e,l=C(t.query.selectedFacets??[]),i=l.find(f=>f.concreteType==="org.sagebionetworks.repo.model.table.FacetColumnRangeRequest"&&W(a,f));return i&&s==null&&r==null?l.splice(l.indexOf(i),1):i?(i.min=s,i.max=r):l.push({concreteType:"org.sagebionetworks.repo.model.table.FacetColumnRangeRequest",columnName:a.columnName,jsonPath:a.jsonPath,min:s,max:r}),t.query.selectedFacets=l,b(t,n)||(t.query.offset=0),t}function Ft(e,n){const t=C(n),{facet:a,value:s}=e;return t.query.selectedFacets=(t.query.selectedFacets??[]).map(r=>(ye(r)&&W(a,r)&&(r.facetValues=r.facetValues.filter(l=>l!==s)),r)).filter(r=>ye(r)?Array.isArray(r.facetValues)&&r.facetValues.length>0:!0),b(t,n)||(t.query.offset=0),t}function It(e,n){const t=C(n),{queryFilter:a}=e;return t.query.additionalFilters=(t.query.additionalFilters??[]).filter(s=>!b(s,a)),b(t,n)||(t.query.offset=0),t}function xt(e,n){const t=C(n),{queryFilter:a,value:s}=e;return t.query.additionalFilters=(t.query.additionalFilters??[]).map(r=>((ce(r)||de(r))&&b(r,a)&&(r.values=r.values.filter(l=>l!==s)),r)).filter(r=>ce(r)||de(r)?Array.isArray(r.values)&&r.values.length>0:!0),b(t,n)||(t.query.offset=0),t}function Tt(e,n){const t=C(n),{pageSize:a}=e;return t.query.limit=a,t}function Et(e,n){const t=C(n),{pageNumber:a}=e,s=n.query.limit??be;return t.query.offset=(a-1)*s,t}function Nt(e,n,t){const[a,s]=o.useState(0),[r,l]=o.useState(!1),[i,f]=o.useReducer((c,u)=>{let d=c.nextQueryRequest;switch(u.type){case"resetDebounce":return s(g=>g+1),c;case"setQuery":{d=Qt(u,c.nextQueryRequest);break}case"addValueToSelectedFacet":{d=Rt(u,c.nextQueryRequest);break}case"removeSelectedFacet":{d=Vt(u,c.nextQueryRequest);break}case"setRangeFacetValue":{d=wt(u,c.nextQueryRequest);break}case"removeValueFromSelectedFacet":{d=Ft(u,c.nextQueryRequest);break}case"removeQueryFilter":{d=It(u,c.nextQueryRequest);break}case"removeValueFromQueryFilter":{d=xt(u,c.nextQueryRequest);break}case"setPageSize":{d=Tt(u,c.nextQueryRequest);break}case"goToPage":{d=Et(u,c.nextQueryRequest);break}case"resetQuery":{d=e;break}case"cancelChanges":case"resetUncommittedChanges":{d=c.currentQueryRequest;break}case"confirmChanges":case"commitChanges":{d=C(c.nextQueryRequest);break}}d.query=Qe(d.query);const q=n&&!Ae(c.currentQueryRequest.query,d.query);if(u.commitOptions&&"noCommit"in u.commitOptions||q&&u.type!=="confirmChanges"&&u.type!=="cancelChanges")return{currentQueryRequest:c.currentQueryRequest,nextQueryRequest:d,isConfirmingChange:q};if(u.commitOptions&&"debounce"in u.commitOptions)return l(!0),{currentQueryRequest:c.currentQueryRequest,nextQueryRequest:d,isConfirmingChange:q};if(l(!1),t&&!b(c.currentQueryRequest,d)){const g=JSON.stringify(d.query);t(g)}return{currentQueryRequest:d,nextQueryRequest:d,isConfirmingChange:!1}},{currentQueryRequest:e,nextQueryRequest:e,isConfirmingChange:!1});return tt(()=>{r&&(f({type:"commitChanges"}),l(!1))},[i.nextQueryRequest,r,l,a],Pt),o.useMemo(()=>({currentQueryRequest:i.currentQueryRequest,nextQueryRequest:i.nextQueryRequest,isConfirmingChange:i.isConfirmingChange,dispatch:f}),[i.currentQueryRequest,i.isConfirmingChange,i.nextQueryRequest])}const Pt=750;function _t(e,n,t,a,s){o.useEffect(()=>{if(e){const r=bt("QueryWrapper",n);r&&r.query&&t(l=>({...l,...r,query:{...l.query,...r.query}}))}},[n]),o.useEffect(()=>{if(e)if(b(a,s))qe("QueryWrapper",n,null);else{const r=JSON.stringify(s.query);qe("QueryWrapper",n,r)}},[n,s,a,e])}function vt(e){const{initQueryRequest:n,componentIndex:t=0,shouldDeepLink:a=!1,onQueryChange:s,requireConfirmationOnChange:r=!1}=e,l=o.useMemo(()=>{const y=C(n);return y.query=Qe(y.query),y},[n]),{currentQueryRequest:i,nextQueryRequest:f,isConfirmingChange:c,dispatch:u}=Nt(l,r,s),d=o.useCallback(()=>{u({type:"confirmChanges"})},[u]),q=o.useCallback(()=>C(i),[i]),g=o.useCallback(()=>C(l),[l]),w=o.useCallback((y,h)=>{u({type:"setQuery",queryOrUpdater:y,commitOptions:h})},[u]);_t(a,t,w,l,i);const M=o.useCallback(()=>{u({type:"cancelChanges"})},[u]),{entityId:E,versionNumber:U}=o.useMemo(()=>ke(i.query.sql),[i.query.sql]),V=i.query.limit??be,F=Math.ceil(((i.query.offset??0)+Number(V))/V),N=o.useCallback(y=>{u({type:"setPageSize",pageSize:y})},[u]),S=o.useCallback(y=>{u({type:"goToPage",pageNumber:y})},[u]),I=o.useCallback(()=>{u({type:"resetQuery"})},[u]);Je(()=>{i!=l&&I()},[l]);const z=o.useCallback((y,h,Q)=>{u({type:"addValueToSelectedFacet",facet:y,value:h,commitOptions:Q})},[u]),P=o.useCallback((y,h,Q,k)=>{u({type:"setRangeFacetValue",facet:y,min:h,max:Q,commitOptions:k})},[u]),L=o.useCallback(y=>{u({type:"removeSelectedFacet",facetsToRemove:y})},[u]),_=o.useCallback((y,h,Q)=>{u({type:"removeValueFromSelectedFacet",facet:y,value:h,commitOptions:Q})},[u]),j=o.useCallback(y=>{u({type:"removeQueryFilter",queryFilter:y})},[u]),v=o.useCallback((y,h)=>{u({type:"removeValueFromQueryFilter",queryFilter:y,value:h})},[u]),D=o.useCallback(()=>{u({type:"commitChanges"})},[u]),A=o.useCallback(()=>{u({type:"resetDebounce"})},[u]);return{entityId:E,commitChanges:D,resetDebounceTimer:A,currentQueryRequest:i,nextQueryRequest:f,versionNumber:U,getInitQueryRequest:g,getCurrentQueryRequest:q,setQuery:w,pageSize:V,currentPage:F,setPageSize:N,goToPage:S,resetQuery:I,removeSelectedFacet:L,removeValueFromSelectedFacet:_,removeQueryFilter:j,removeValueFromQueryFilter:v,isConfirmingChange:c,onConfirmChange:d,onCancelChange:M,addValueToSelectedFacet:z,setRangeFacetValue:P}}function Dt(e,n,t,a){const{rowDataRequest:s,queryMetadataRequest:r}=Me(e),l={...fe,queryKey:t.getEntityTableQueryResultWithAsyncStatusQueryKey(s,!1),queryFn:()=>me(s,a),select:c=>c.responseBody?.queryResult?.queryResults},i={...Ue(s,t,a)},f={...fe,queryKey:t.getEntityTableQueryResultWithAsyncStatusQueryKey(r,!1),queryFn:()=>me(r,a),select:c=>ze(Le(c.responseBody,n),"queryResults")};return{rowDataQueryOptions:l,rowDataInfiniteQueryOptions:i,queryMetadataQueryOptions:f}}function we(e,n){const{keyFactory:t,accessToken:a}=Oe();return o.useMemo(()=>Dt(e,n,t,a),[t,a,e,n])}function At(e){const{rowSelectionPrimaryKeyFromProps:n,entityId:t,versionNumber:a,queryMetadataQueryOptions:s}=e,{data:r}=lt(t,a),{data:l}=O(s);return o.useMemo(()=>{if(n)return n;if(r&&l?.columnModels)return it(r,l.columnModels)},[n,r,l?.columnModels])}function kt(e){const{data:n,isLoading:t}=O(e);return n?je(n.facets,n.selectColumns):t}function Ot(e){const{queryBundleRequest:n,onChange:t}=e,{rowDataQueryOptions:a,queryMetadataQueryOptions:s}=we(n),{data:r,isLoading:l}=O({...a,select:d=>d.responseBody}),{data:i,isLoading:f}=O(s),[c,u]=o.useState();o.useEffect(()=>{r&&i&&!l&&!f&&u({...i,...r})},[i,f,r,l]),Ye(()=>{c&&t&&t(c)},[c,t])}function Mt(e){const{initQueryRequest:n,onQueryChange:t,onQueryResultBundleChange:a=Ke,lockedColumn:s,componentIndex:r,shouldDeepLink:l,onViewSharingSettingsClicked:i,isRowSelectionVisible:f=!1,isRowSelectionUIFloating:c=!0,rowSelectionPrimaryKey:u,isInfinite:d=!1,combineRangeFacetConfig:q,fileIdColumnName:g,fileVersionColumnName:w,fileNameColumnName:M}=e,E=rt(),U=vt({initQueryRequest:n,shouldDeepLink:l,componentIndex:r,onQueryChange:t,requireConfirmationOnChange:E}),{entityId:V="",versionNumber:F,getInitQueryRequest:N,getCurrentQueryRequest:S,setQuery:I,resetQuery:z,removeSelectedFacet:P,removeValueFromSelectedFacet:L,removeQueryFilter:_,removeValueFromQueryFilter:j,onConfirmChange:v,isConfirmingChange:D,onCancelChange:A,nextQueryRequest:y,currentQueryRequest:h,addValueToSelectedFacet:Q,setRangeFacetValue:k,resetDebounceTimer:J,currentPage:te,goToPage:Y,pageSize:G,setPageSize:$}=U,ne=o.useMemo(()=>S(),[S]),{rowDataQueryOptions:re,rowDataInfiniteQueryOptions:m,queryMetadataQueryOptions:R}=we(ne,s),Z=kt(R),x=o.useMemo(()=>{const ae=S();return We(ae.query,s)},[S,s]),T=ee(at);o.useEffect(()=>{T(f)},[f,T]);const X=ee(st);o.useEffect(()=>{X(c)},[c,X]);const le=At({entityId:V,versionNumber:F,rowSelectionPrimaryKeyFromProps:u,queryMetadataQueryOptions:R}),ie=ee(ot);o.useEffect(()=>{ie(le)},[le,ie]);const Fe=ee(ut),Ie=o.useCallback(ae=>a(JSON.stringify(ae)),[a]);Ot({queryBundleRequest:S(),onChange:Ie});const xe=Re({isInfinite:d,entityId:V,versionNumber:F,nextQueryRequest:y,currentQueryRequest:h,getCurrentQueryRequest:S,getInitQueryRequest:N,executeQueryRequest:I,hasFacetedSelectColumn:Z,hasResettableFilters:x,removeSelectedFacet:P,removeValueFromSelectedFacet:L,resetQuery:z,removeQueryFilter:_,removeValueFromQueryFilter:j,onViewSharingSettingsClicked:i,addValueToSelectedFacet:Q,combineRangeFacetConfig:q,setRangeFacetValue:k,resetDebounceTimer:J,rowDataQueryOptions:re,rowDataInfiniteQueryOptions:m,queryMetadataQueryOptions:R,currentPage:te,goToPage:Y,pageSize:G,setPageSize:$,lockedColumn:s,fileIdColumnName:g,fileVersionColumnName:w,fileNameColumnName:M}),{children:Te}=e;return p.jsxs(Ge,{queryContext:xe,children:[p.jsx(nt,{open:D,title:"Change Query and Clear Selection?",content:"Changing the current query will cause your current selection to be lost. Are you sure you want to proceed?",confirmButtonProps:{children:"Clear Selection and Update Query"},onConfirm:()=>{Fe([]),v()},onCancel:()=>{A()}}),Te]})}function Se(e){return p.jsx(Be,{children:p.jsx(Mt,{...e})})}try{Se.displayName="QueryWrapper",Se.__docgenInfo={description:"",displayName:"QueryWrapper",props:{initQueryRequest:{defaultValue:null,description:"",name:"initQueryRequest",required:!0,type:{name:"QueryBundleRequest"}},componentIndex:{defaultValue:null,description:"",name:"componentIndex",required:!1,type:{name:"number"}},shouldDeepLink:{defaultValue:null,description:"",name:"shouldDeepLink",required:!1,type:{name:"boolean"}},onQueryChange:{defaultValue:null,description:"",name:"onQueryChange",required:!1,type:{name:"(newQueryJson: string) => void"}},onQueryResultBundleChange:{defaultValue:null,description:"Called when the query result rows change",name:"onQueryResultBundleChange",required:!1,type:{name:"(newQueryResultBundleJson: string) => void"}},lockedColumn:{defaultValue:null,description:"",name:"lockedColumn",required:!1,type:{name:"LockedColumn"}},onViewSharingSettingsClicked:{defaultValue:null,description:"",name:"onViewSharingSettingsClicked",required:!1,type:{name:"(benefactorId: string) => void"}},isRowSelectionVisible:{defaultValue:null,description:"",name:"isRowSelectionVisible",required:!1,type:{name:"boolean"}},rowSelectionPrimaryKey:{defaultValue:null,description:`The set of columns that defines a uniqueness constraint on the table for the purposes of filtering based on row selection.
Note that Synapse tables have no internal concept of a primary key.`,name:"rowSelectionPrimaryKey",required:!1,type:{name:"string[]"}},isRowSelectionUIFloating:{defaultValue:null,description:"By default, the row selection UI will float at the bottom of the viewport.  Set to false to make it inline",name:"isRowSelectionUIFloating",required:!1,type:{name:"boolean"}},isInfinite:{defaultValue:null,description:"",name:"isInfinite",required:!1,type:{name:"boolean"}},combineRangeFacetConfig:{defaultValue:null,description:"",name:"combineRangeFacetConfig",required:!1,type:{name:"CombineRangeFacetConfig"}},fileIdColumnName:{defaultValue:null,description:"If provided, will use the value in this column instead of the rowID for the access column, download column, etc",name:"fileIdColumnName",required:!1,type:{name:"string"}},fileNameColumnName:{defaultValue:null,description:"",name:"fileNameColumnName",required:!1,type:{name:"string"}},fileVersionColumnName:{defaultValue:null,description:"If provided, will use the value in this column instead of the row version number for the access column, download column, etc",name:"fileVersionColumnName",required:!1,type:{name:"string"}}}}}catch{}export{K as N,Se as Q,en as a,Xt as b,ge as c,Ce as d,Dt as e,Et as g,he as u};
