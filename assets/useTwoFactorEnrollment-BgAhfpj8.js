import{u as i,a as y}from"./useQuery-ChYzlhEH.js";import{u as n}from"./useMutation-DAMF4D7y.js";import{k as c,S as s}from"./SynapseClient-CCAdBNnm.js";import"./RegularExpressions-DlyA5nPV.js";import"./OrientationBanner-BsmFKABX.js";import"./index-Cu9bd8lq.js";import{g as l}from"./QueryFilterUtils-Bx0-Q9iO.js";import"./jsx-runtime-DoxjgJx5.js";function q(e){const{accessToken:t}=c();return n({...e,mutationFn:()=>s.start2FAEnrollment(t)})}function K(e){const{accessToken:t,keyFactory:r}=c(),u=i();return n({...e,onSuccess:async(...a)=>{e!=null&&e.onSuccess&&e.onSuccess(...a),await Promise.all([u.invalidateQueries({queryKey:r.getTwoFactorAuthStatusQueryKey()}),u.invalidateQueries({queryKey:r.getAllAccessRequirementStatusesQueryKey()}),...l(r).map(o=>u.invalidateQueries(o))])},mutationFn:a=>s.complete2FAEnrollment(a,t)})}function d(e){const{accessToken:t,keyFactory:r}=c(),u=i();return n({...e,onSuccess:async(...a)=>(e!=null&&e.onSuccess&&e.onSuccess(...a),Promise.all([u.invalidateQueries({queryKey:r.getTwoFactorAuthStatusQueryKey()}),u.invalidateQueries({queryKey:r.getAllAccessRequirementStatusesQueryKey()}),...l(r).map(o=>u.invalidateQueries(o))])),mutationFn:()=>s.disableTwoFactorAuthForCurrentUser(t)})}function g(e){const{accessToken:t,keyFactory:r}=c();return y({queryKey:r.getTwoFactorAuthStatusQueryKey(),queryFn:()=>s.getCurrentUserTwoFactorEnrollmentStatus(t),...e})}function h(e){return n({...e,mutationFn:t=>s.resetTwoFactorAuth(t)})}export{d as a,h as b,q as c,K as d,g as u};
