import{ao as r,aI as y,aJ as o,an as u}from"./iframe-4beS0gqZ.js";import{w as d}from"./waitForAsyncResult-Vq5YD577.js";import{s as S}from"./useEntity-CCW2T7nm.js";import{u as p}from"./useInfiniteQuery-BMIQmsjh.js";async function l(e,s){const i=await e.gridServicesClient.postRepoV1GridSessionAsyncStart({createGridRequest:s});if(!i.token)throw new Error("No async job token returned from startGridSession");return(await d(()=>e.asynchronousJobServicesClient.getRepoV1AsynchronousJobJobId({jobId:i.token}))).responseBody}function m(e){const s=y(),{keyFactory:i,synapseClient:t}=r();return o({...e,mutationFn:n=>t.gridServicesClient.postRepoV1GridSessionSessionIdReplica({sessionId:n,createReplicaRequest:{gridSessionId:n}}),onSuccess:async(n,a,c)=>{await s.invalidateQueries({queryKey:i.getGridSessionListKey()})}})}function f(e){const s=y(),{keyFactory:i,synapseClient:t}=r();return o({...e,mutationFn:n=>t.gridServicesClient.deleteRepoV1GridSessionSessionId({sessionId:n}),onSuccess:async(n,a,c)=>{await s.invalidateQueries({queryKey:i.getGridSessionListKey()}),e?.onSuccess&&await e.onSuccess(n,a,c)}})}const q=(e,s)=>S({queryKey:s.keyFactory.getGridSessionListKey(e),queryFn:()=>s.synapseClient.gridServicesClient.postRepoV1GridSessionList({listGridSessionsRequest:e})});function F(e,s){const{keyFactory:i,synapseClient:t}=r();return p({...s,queryKey:i.getGridSessionListKey(e),queryFn:async n=>await t.gridServicesClient.postRepoV1GridSessionList({listGridSessionsRequest:{...e,nextPageToken:n.pageParam}}),initialPageParam:void 0,getNextPageParam:n=>n.nextPageToken})}function w(e,s){const{keyFactory:i,synapseClient:t}=r();return u({...s,queryKey:i.getGridSessionKey(e),queryFn:()=>t.gridServicesClient.getRepoV1GridSessionSessionId({sessionId:e})})}const k=e=>{const{synapseClient:s}=r();return o({...e,mutationFn:async i=>await l(s,i)})};export{f as a,m as b,k as c,w as d,q as g,F as u};
