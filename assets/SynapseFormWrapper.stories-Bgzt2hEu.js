var Xi=Object.defineProperty;var Qi=(t,s,r)=>s in t?Xi(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r;var X=(t,s,r)=>Qi(t,typeof s!="symbol"?s+"":s,r);import{j as S}from"./jsx-runtime-D_zvdyIk.js";import{S as De,l as Zi}from"./useFiles-z1MHZNSL.js";import"./VerificationSubmission-OWkqLMYZ.js";import"./StringUtils-BYEtqtR3.js";import{S as eo}from"./SynapseConstants-CR9qI-xP.js";import{r as Ke}from"./index-XG5sbf9b.js";import"./OrientationBanner-B5R6fvdW.js";import{a as Dt,d as re,g as ro}from"./iframe-qFD8nqts.js";import{m as to,r as yi}from"./pipeline-CRFatA5T.js";import{b as Vt,r as no,a as io}from"./index-C5fcFs4t.js";import{F as oo}from"./FullWidthAlert-DMECBCQO.js";import{g as ao}from"./chunk-AYJ5UCUI-GWcfwrLC.js";import{i as uo,F as so,v as lo}from"./index-ByWAlCvM.js";import{b as qt,g as ve}from"./_baseIteratee-BadNA5ER.js";import{i as co}from"./isEqual-BXYcf22t.js";import{s as Je}from"./enums-BTsOT5Ux.js";import{c as Me}from"./cloneDeep-B6Q9TQz2.js";import{k as Lt}from"./_getTag-6HlkFh44.js";import{b as fo,g as po,p as Yt,a as ho,i as Wt}from"./_Uint8Array-BPmsGsiG.js";import{n as mo,d as vo}from"./_baseUniq-DRQhLs9v.js";import{t as go}from"./toInteger-TWGsYVWB.js";import{p as yo}from"./pick-CNwSgiyE.js";import{b as So}from"./omit-CMkIR3kv.js";import{t as xo,b as Eo}from"./toString-CRHJTS78.js";import{s as Gt,c as bo}from"./_stringToArray-N8cAV6t0.js";import{a as _o}from"./index.prod-gW2dpc7u.js";import{C as wo}from"./ConfirmationDialog-0hFtvcod.js";import{I as Ar}from"./IconSvg-46Xq10jG.js";import{N as fe,S as Ae,a as pe}from"./types-CP9zjM1W.js";import{i as Ao,b as Ro,a as zt}from"./isArray-CPa3KvEr.js";import{i as Jt}from"./isString-AmmwIopG.js";import{h as Si}from"./head-aneRfQQJ.js";import{S as Oo,a as Co,b as Fo}from"./SynapseFormRadioWidget-B0ZISSVU.js";import{W as To}from"./WarningDialog-BitIKRVp.js";import{i as No}from"./pickBy--DMelF0p.js";import{B as Po}from"./Button-Cst65raA.js";import"./fetchWithExponentialTimeout-CXmnpl-T.js";import"./useTimeout-CEvFcyFR.js";import"./useQuery-Cya6FnXy.js";import"./QueryClientProvider-C1g9-9dT.js";import"./Link-CtLuER11.js";import"./createTheme-CL5O40df.js";import"./useTheme-DbYeEOwq.js";import"./DefaultPropsProvider-B_VgrtAI.js";import"./useTheme-BUZNi25v.js";import"./createSimplePaletteValueFilter-jaDrmtVN.js";import"./Typography-_79tBCH0.js";import"./index-CUTYAgAO.js";import"./extendSxProp-DJY5gp9P.js";import"./isFocusVisible-B8k4qzLc.js";import"./Stack-ClO0FTtf.js";import"./getThemeProps-Be0_lWbe.js";import"./Box-BHPAI8Dk.js";import"./Collapse-C_stbWYW.js";import"./getReactElementRef-D0GAhzXw.js";import"./index-DJ7DzT1r.js";import"./index-DZQvlNat.js";import"./useForkRef-BkWb3Bhw.js";import"./merge-WJTUE9lW.js";import"./_initCloneObject-DgyEjv2T.js";import"./identity-DKeuBCMA.js";import"./createSvgIcon-BTGwyJ8U.js";import"./tinycolor-Begke6kS.js";import"./Fade-DaS-DLax.js";import"./inputBaseClasses-C0GfGsq3.js";import"./calculateFriendlyFileSize-DacKmnyz.js";import"./CheckCircleTwoTone-BMjik1gi.js";import"./InfoTwoTone-pzAvwEnn.js";import"./index-HJYw8IqF.js";import"./useMutation-AwpnfHof.js";import"./dayjs.min-CTeHcnz6.js";import"./Skeleton-DSZfLQvh.js";import"./index-_GFMmKr-.js";import"./spreadSx-CwcO6WA9.js";import"./react-BLDuIjUE.js";import"./Alert-hxk4zjd6.js";import"./useSlot-ah-OQE7U.js";import"./Close-DhExsJ9Z.js";import"./IconButton-CSSOBqV1.js";import"./ButtonBase-D_f60ltm.js";import"./CircularProgress-Bw3WO2f6.js";import"./Paper-5jXXj0om.js";import"./AlertTitle-C6WYnRSa.js";import"./ClickAwayListener-FcTr-ZLV.js";import"./ownerDocument-DW-IO8s5.js";import"./Grow-B_NR2UdL.js";import"./Tooltip-Bfuq8wwc.js";import"./useControlled-Dyr3uPEA.js";import"./Popper-Dl3EBVlK.js";import"./_baseEach-DjMrv_Kp.js";import"./times-Bo9NZF_D.js";import"./Grid-BkMsOkso.js";import"./isMuiElement-C6ETdvf3.js";import"./TextField-CivliHtm.js";import"./Select-u6gPCryR.js";import"./Menu-B3RoCQn_.js";import"./Popover-DenYxFUE.js";import"./isHostComponent-DVu5iVWx.js";import"./ownerWindow-HkKU3E4x.js";import"./debounce-Be36O1Ab.js";import"./mergeSlotProps-B08Nd5uZ.js";import"./Modal-CU6KARA4.js";import"./getScrollbarSize-CaCM53D3.js";import"./createChainedFunction-BO_9K8Jh.js";import"./Backdrop-BGCmm_19.js";import"./MenuList-Dza5UQ14.js";import"./List-BzdfNNE8.js";import"./FormControl-RPZaJjIb.js";import"./useFormControl-CBbR7HpP.js";import"./formControlState-Dq1zat_P.js";import"./InputBase-DW5LhwtR.js";import"./Input-D-bpze8Z.js";import"./InputLabel-CIZW2w6z.js";import"./FormLabel-Dv66KJ5a.js";import"./FormHelperText-irI4InFq.js";import"./ListItem-TEPJKmn9.js";import"./listItemButtonClasses-CsmE4W8w.js";import"./ListItemIcon-D4JjNFta.js";import"./MenuItem-CKN9DinU.js";import"./dividerClasses-CTF7RQZd.js";import"./ListItemText-DFeIiWwW.js";import"./ArrowUpward-4yx8hYqM.js";import"./ContentCopy-Botfgk1y.js";import"./Divider-D6Lh_ERN.js";import"./FormControlLabel-sOor8zbg.js";import"./Checkbox-7tg2WsiS.js";import"./SwitchBase-BX3UEAS8.js";import"./FormGroup-C3GCvnVF.js";import"./RadioGroup-Doc3902m.js";import"./Radio-D0-TkFgX.js";import"./Slider-CHtYoQXU.js";import"./visuallyHidden-Dan1xhjv.js";import"./index-C148XJoK.js";import"./isSymbol-iRXXXIC1.js";import"./_baseGet-C-bkoLuP.js";import"./_baseSet-CcXXYLJm.js";import"./hasIn-BKOIKqBd.js";import"./_arrayReduce-CrxnWFSq.js";import"./uniq-DpvfTBkS.js";import"./forEach-8zsKv7LQ.js";import"./toNumber-CJalVvAq.js";import"./_baseSlice-F8doVSIJ.js";import"./DialogBase-Bw1lzi6p.js";import"./Close-B5RMJBPZ.js";import"./HelpPopover-CxYStkbP.js";import"./MarkdownPopover-DumZ1kKQ.js";import"./LightTooltip-CSX_SXFr.js";import"./MarkdownSynapse-DiArRBHR.js";import"./SkeletonButton-DRe5wF9I.js";import"./SkeletonInlineBlock-DDhPcq9k.js";import"./SkeletonTable-BAwv1PKI.js";import"./SkeletonParagraph-BvFgcese.js";import"./HelpOutlineTwoTone-d28IknMy.js";import"./DialogTitle-B7Ni3oe9.js";import"./DialogContent-WEnnSRfW.js";import"./Dialog-rf55quwJ.js";import"./LayersTwoTone-CY9qxZvb.js";import"./ContentCopyTwoTone-DdOet-ny.js";import"./ErrorOutlined-DAgihgXc.js";import"./GetAppTwoTone-Ch7JS4qC.js";import"./InfoOutlined-DnRJ_3FC.js";import"./PhoneTwoTone-CidN6WVd.js";import"./DeleteTwoTone-L7eM83q6.js";function Io(t){return function(s,r,a){var o=Object(s);if(!fo(s)){var i=qt(r);s=Lt(s),r=function(c){return i(o[c],c,o)}}var u=t(s,r,a);return u>-1?o[i?s[u]:u]:void 0}}var ko=Math.max;function xi(t,s,r){var a=t==null?0:t.length;if(!a)return-1;var o=r==null?0:go(r);return o<0&&(o=ko(a+o,0)),mo(t,qt(s),o)}var Ei=Io(xi),jo="[object Date]";function Do(t){return Ao(t)&&Ro(t)==jo}var Kt=Yt&&Yt.isDate,qo=Kt?po(Kt):Do,Lo=Array.prototype,Mo=Lo.splice;function $o(t,s){for(var r=t?s.length:0,a=r-1;r--;){var o=s[r];if(r==a||o!==i){var i=o;ho(o)?Mo.call(t,o,1):So(t,o)}}return t}function Uo(t,s){var r=[];if(!(t&&t.length))return r;var a=-1,o=[],i=t.length;for(s=qt(s);++a<i;){var u=t[a];s(u,a,t)&&(r.push(u),o.push(a))}return $o(t,o),r}function Bo(t,s){for(var r=-1,a=t.length;++r<a&&vo(s,t[r],0)>-1;);return r}var Ho=/^\s+/;function bi(t,s,r){if(t=xo(t),t&&s===void 0)return t.replace(Ho,"");if(!t||!(s=Eo(s)))return t;var a=Gt(t),o=Bo(a,Gt(s));return bo(a,o).join("")}var _e={exports:{}};const Vo=!1,Yo=/\r?\n/,Wo=/\bono[ @]/;function Go(t){return!!(t&&t.configurable&&typeof t.get=="function")}function zo(t){return!!(!t||t.writable||typeof t.set=="function")}function _i(t,s){let r=wi(t.stack),a=s?s.stack:void 0;return r&&a?r+`

`+a:r||a}function Jo(t,s,r){r?Object.defineProperty(s,"stack",{get:()=>{let a=t.get.apply(s);return _i({stack:a},r)},enumerable:!1,configurable:!0}):Ko(s,t)}function wi(t){if(t){let s=t.split(Yo),r;for(let a=0;a<s.length;a++){let o=s[a];if(Wo.test(o))r===void 0&&(r=a);else if(r!==void 0){s.splice(r,a-r);break}}if(s.length>0)return s.join(`
`)}return t}function Ko(t,s){Object.defineProperty(t,"stack",{get:()=>wi(s.get.apply(t)),enumerable:!1,configurable:!0})}const Xo=["function","symbol","undefined"],Qo=["constructor","prototype","__proto__"],Zo=Object.getPrototypeOf({});function Ai(){let t={},s=this;for(let r of Ri(s))if(typeof r=="string"){let a=s[r],o=typeof a;Xo.includes(o)||(t[r]=a)}return t}function Ri(t,s=[]){let r=[];for(;t&&t!==Zo;)r=r.concat(Object.getOwnPropertyNames(t),Object.getOwnPropertySymbols(t)),t=Object.getPrototypeOf(t);let a=new Set(r);for(let o of s.concat(Qo))a.delete(o);return a}const ea=["name","message","stack"];function _r(t,s,r){let a=t;return ra(a,s),s&&typeof s=="object"&&ta(a,s),a.toJSON=Ai,r&&typeof r=="object"&&Object.assign(a,r),a}function ra(t,s){let r=Object.getOwnPropertyDescriptor(t,"stack");Go(r)?Jo(r,t,s):zo(r)&&(t.stack=_i(t,s))}function ta(t,s){let r=Ri(s,ea),a=t,o=s;for(let i of r)if(a[i]===void 0)try{a[i]=o[i]}catch{}}function na(t){return t=t||{},{concatMessages:t.concatMessages===void 0?!0:!!t.concatMessages,format:t.format===void 0?Vo:typeof t.format=="function"?t.format:!1}}function ia(t,s){let r,a,o,i="";return typeof t[0]=="string"?o=t:typeof t[1]=="string"?(t[0]instanceof Error?r=t[0]:a=t[0],o=t.slice(1)):(r=t[0],a=t[1],o=t.slice(2)),o.length>0&&(s.format?i=s.format.apply(void 0,o):i=o.join(" ")),s.concatMessages&&r&&r.message&&(i+=(i?` 
`:"")+r.message),{originalError:r,props:a,message:i}}const qe=Mt;function Mt(t,s){s=na(s);function r(...a){let{originalError:o,props:i,message:u}=ia(a,s),c=new t(u);return _r(c,o,i)}return r[Symbol.species]=t,r}Mt.toJSON=function(s){return Ai.call(s)};Mt.extend=function(s,r,a){return a||r instanceof Error?_r(s,r,a):r?_r(s,void 0,r):_r(s)};const Xt=Fe;Fe.error=new qe(Error);Fe.eval=new qe(EvalError);Fe.range=new qe(RangeError);Fe.reference=new qe(ReferenceError);Fe.syntax=new qe(SyntaxError);Fe.type=new qe(TypeError);Fe.uri=new qe(URIError);const oa=Fe;function Fe(...t){let s=t[0];if(typeof s=="object"&&typeof s.name=="string"){for(let r of Object.values(oa))if(typeof r=="function"&&r.name==="ono"){let a=r[Symbol.species];if(a&&a!==Error&&(s instanceof a||s.name===a.name))return r.apply(void 0,t)}}return Fe.error.apply(void 0,t)}to();const aa=Object.freeze(Object.defineProperty({__proto__:null,Ono:qe,default:Xt,ono:Xt},Symbol.toStringTag,{value:"Module"})),$e=Dt(aa);var sr={exports:{}},Qt;function Re(){return Qt||(Qt=1,function(t,s){let r=/^win/.test(re.process.platform),a=/\//g,o=/^(\w{2,}):\/\//i,i=t.exports,u=/~1/g,c=/~0/g,n=[/\?/g,"%3F",/\#/g,"%23"],l=[/\%23/g,"#",/\%24/g,"$",/\%26/g,"&",/\%2C/g,",",/\%40/g,"@"];s.parse=Vt.parse,s.resolve=Vt.resolve,s.cwd=function(){if(re.process.browser)return location.href;let h=re.process.cwd(),p=h.slice(-1);return p==="/"||p==="\\"?h:h+"/"},s.getProtocol=function(h){let p=o.exec(h);if(p)return p[1].toLowerCase()},s.getExtension=function(h){let p=h.lastIndexOf(".");return p>=0?i.stripQuery(h.substr(p).toLowerCase()):""},s.stripQuery=function(h){let p=h.indexOf("?");return p>=0&&(h=h.substr(0,p)),h},s.getHash=function(h){let p=h.indexOf("#");return p>=0?h.substr(p):"#"},s.stripHash=function(h){let p=h.indexOf("#");return p>=0&&(h=h.substr(0,p)),h},s.isHttp=function(h){let p=i.getProtocol(h);return p==="http"||p==="https"?!0:p===void 0?re.process.browser:!1},s.isFileSystemPath=function(h){if(re.process.browser)return!1;let p=i.getProtocol(h);return p===void 0||p==="file"},s.fromFileSystemPath=function(h){r&&(h=h.replace(/\\/g,"/")),h=encodeURI(h);for(let p=0;p<n.length;p+=2)h=h.replace(n[p],n[p+1]);return h},s.toFileSystemPath=function(h,p){h=decodeURI(h);for(let m=0;m<l.length;m+=2)h=h.replace(l[m],l[m+1]);let v=h.substr(0,7).toLowerCase()==="file://";return v&&(h=h[7]==="/"?h.substr(8):h.substr(7),r&&h[1]==="/"&&(h=h[0]+":"+h.substr(1)),p?h="file:///"+h:(v=!1,h=r?h:"/"+h)),r&&!v&&(h=h.replace(a,"\\"),h.substr(1,2)===":\\"&&(h=h[0].toUpperCase()+h.substr(1))),h},s.safePointerToPath=function(h){return h.length<=1||h[0]!=="#"||h[1]!=="/"?[]:h.slice(2).split("/").map(p=>decodeURIComponent(p).replace(u,"/").replace(c,"~"))}}(sr,sr.exports)),sr.exports}var ye={},Zt;function Te(){if(Zt)return ye;Zt=1;const{Ono:t}=$e,{stripHash:s,toFileSystemPath:r}=Re(),a=ye.JSONParserError=class extends Error{constructor(v,m){super(),this.code="EUNKNOWN",this.message=v,this.source=m,this.path=null,t.extend(this)}get footprint(){return`${this.path}+${this.source}+${this.code}+${this.message}`}};h(a);const o=ye.JSONParserErrorGroup=class Oi extends Error{constructor(v){super(),this.files=v,this.message=`${this.errors.length} error${this.errors.length>1?"s":""} occurred while reading '${r(v.$refs._root$Ref.path)}'`,t.extend(this)}static getParserErrors(v){const m=[];for(const y of Object.values(v.$refs._$refs))y.errors&&m.push(...y.errors);return m}get errors(){return Oi.getParserErrors(this.files)}};h(o);const i=ye.ParserError=class extends a{constructor(v,m){super(`Error parsing ${m}: ${v}`,m),this.code="EPARSER"}};h(i);const u=ye.UnmatchedParserError=class extends a{constructor(v){super(`Could not find parser for "${v}"`,v),this.code="EUNMATCHEDPARSER"}};h(u);const c=ye.ResolverError=class extends a{constructor(v,m){super(v.message||`Error reading file "${m}"`,m),this.code="ERESOLVER","code"in v&&(this.ioErrorCode=String(v.code))}};h(c);const n=ye.UnmatchedResolverError=class extends a{constructor(v){super(`Could not find resolver for "${v}"`,v),this.code="EUNMATCHEDRESOLVER"}};h(n);const l=ye.MissingPointerError=class extends a{constructor(v,m){super(`Token "${v}" does not exist.`,s(m)),this.code="EMISSINGPOINTER"}};h(l);const d=ye.InvalidPointerError=class extends a{constructor(v,m){super(`Invalid $ref pointer "${v}". Pointers must begin with "#/"`,s(m)),this.code="EINVALIDPOINTER"}};h(d);function h(p){Object.defineProperty(p.prototype,"name",{value:p.name,enumerable:!0})}return ye.isHandledError=function(p){return p instanceof a||p instanceof o},ye.normalizeError=function(p){return p.path===null&&(p.path=[]),p},ye}var Pr,en;function Or(){if(en)return Pr;en=1,Pr=d;const t=Qe(),s=Re(),{JSONParserError:r,InvalidPointerError:a,MissingPointerError:o,isHandledError:i}=Te(),u=/\//g,c=/~/g,n=/~1/g,l=/~0/g;function d(m,y,g){this.$ref=m,this.path=y,this.originalPath=g||y,this.value=void 0,this.circular=!1,this.indirections=0}d.prototype.resolve=function(m,y,g){let _=d.parse(this.path,this.originalPath);this.value=v(m);for(let O=0;O<_.length;O++){if(h(this,y)&&(this.path=d.join(this.path,_.slice(O))),typeof this.value=="object"&&this.value!==null&&"$ref"in this.value)return this;let F=_[O];if(this.value[F]===void 0||this.value[F]===null)throw this.value=null,new o(F,decodeURI(this.originalPath));this.value=this.value[F]}return(!this.value||this.value.$ref&&s.resolve(this.path,this.value.$ref)!==g)&&h(this,y),this},d.prototype.set=function(m,y,g){let _=d.parse(this.path),O;if(_.length===0)return this.value=y,y;this.value=v(m);for(let F=0;F<_.length-1;F++)h(this,g),O=_[F],this.value&&this.value[O]!==void 0?this.value=this.value[O]:this.value=p(this,O,{});return h(this,g),O=_[_.length-1],p(this,O,y),m},d.parse=function(m,y){let g=s.getHash(m).substr(1);if(!g)return[];g=g.split("/");for(let _=0;_<g.length;_++)g[_]=decodeURIComponent(g[_].replace(n,"/").replace(l,"~"));if(g[0]!=="")throw new a(g,y===void 0?m:y);return g.slice(1)},d.join=function(m,y){m.indexOf("#")===-1&&(m+="#"),y=Array.isArray(y)?y:[y];for(let g=0;g<y.length;g++){let _=y[g];m+="/"+encodeURIComponent(_.replace(c,"~0").replace(u,"~1"))}return m};function h(m,y){if(t.isAllowed$Ref(m.value,y)){let g=s.resolve(m.path,m.value.$ref);if(g===m.path)m.circular=!0;else{let _=m.$ref.$refs._resolve(g,m.path,y);return _===null?!1:(m.indirections+=_.indirections+1,t.isExtended$Ref(m.value)?(m.value=t.dereference(m.value,_.value),!1):(m.$ref=_.$ref,m.path=_.path,m.value=_.value,!0))}}}function p(m,y,g){if(m.value&&typeof m.value=="object")y==="-"&&Array.isArray(m.value)?m.value.push(g):m.value[y]=g;else throw new r(`Error assigning $ref pointer "${m.path}". 
Cannot set "${y}" of a non-object.`);return g}function v(m){if(i(m))throw m;return m}return Pr}var Ir,rn;function Qe(){if(rn)return Ir;rn=1,Ir=c;const t=Or(),{InvalidPointerError:s,isHandledError:r,normalizeError:a}=Te(),{safePointerToPath:o,stripHash:i,getHash:u}=Re();function c(){this.path=void 0,this.value=void 0,this.$refs=void 0,this.pathType=void 0,this.errors=void 0}return c.prototype.addError=function(n){this.errors===void 0&&(this.errors=[]);const l=this.errors.map(({footprint:d})=>d);Array.isArray(n.errors)?this.errors.push(...n.errors.map(a).filter(({footprint:d})=>!l.includes(d))):l.includes(n.footprint)||this.errors.push(a(n))},c.prototype.exists=function(n,l){try{return this.resolve(n,l),!0}catch{return!1}},c.prototype.get=function(n,l){return this.resolve(n,l).value},c.prototype.resolve=function(n,l,d,h){let p=new t(this,n,d);try{return p.resolve(this.value,l,h)}catch(v){if(!l||!l.continueOnError||!r(v))throw v;return v.path===null&&(v.path=o(u(h))),v instanceof s&&(v.source=decodeURI(i(h))),this.addError(v),null}},c.prototype.set=function(n,l){let d=new t(this,n);this.value=d.set(this.value,l)},c.is$Ref=function(n){return n&&typeof n=="object"&&typeof n.$ref=="string"&&n.$ref.length>0},c.isExternal$Ref=function(n){return c.is$Ref(n)&&n.$ref[0]!=="#"},c.isAllowed$Ref=function(n,l){if(c.is$Ref(n)){if(n.$ref.substr(0,2)==="#/"||n.$ref==="#")return!0;if(n.$ref[0]!=="#"&&(!l||l.resolve.external))return!0}},c.isExtended$Ref=function(n){return c.is$Ref(n)&&Object.keys(n).length>1},c.dereference=function(n,l){if(l&&typeof l=="object"&&c.isExtended$Ref(n)){let d={};for(let h of Object.keys(n))h!=="$ref"&&(d[h]=n[h]);for(let h of Object.keys(l))h in d||(d[h]=l[h]);return d}else return l},Ir}var kr,tn;function ua(){if(tn)return kr;tn=1;const{ono:t}=$e,s=Qe(),r=Re();kr=a;function a(){this.circular=!1,this._$refs={},this._root$Ref=null}a.prototype.paths=function(i){return o(this._$refs,arguments).map(c=>c.decoded)},a.prototype.values=function(i){let u=this._$refs;return o(u,arguments).reduce((n,l)=>(n[l.decoded]=u[l.encoded].value,n),{})},a.prototype.toJSON=a.prototype.values,a.prototype.exists=function(i,u){try{return this._resolve(i,"",u),!0}catch{return!1}},a.prototype.get=function(i,u){return this._resolve(i,"",u).value},a.prototype.set=function(i,u){let c=r.resolve(this._root$Ref.path,i),n=r.stripHash(c),l=this._$refs[n];if(!l)throw t(`Error resolving $ref pointer "${i}". 
"${n}" not found.`);l.set(c,u)},a.prototype._add=function(i){let u=r.stripHash(i),c=new s;return c.path=u,c.$refs=this,this._$refs[u]=c,this._root$Ref=this._root$Ref||c,c},a.prototype._resolve=function(i,u,c){let n=r.resolve(this._root$Ref.path,i),l=r.stripHash(n),d=this._$refs[l];if(!d)throw t(`Error resolving $ref pointer "${i}". 
"${l}" not found.`);return d.resolve(n,c,i,u)},a.prototype._get$Ref=function(i){i=r.resolve(this._root$Ref.path,i);let u=r.stripHash(i);return this._$refs[u]};function o(i,u){let c=Object.keys(i);return u=Array.isArray(u[0])?u[0]:Array.prototype.slice.call(u),u.length>0&&u[0]&&(c=c.filter(n=>u.indexOf(i[n].pathType)!==-1)),c.map(n=>({encoded:n,decoded:i[n].pathType==="file"?r.toFileSystemPath(n,!0):n}))}return kr}var Ve={},nn;function sa(){if(nn)return Ve;nn=1,Ve.all=function(s){return Object.keys(s).filter(r=>typeof s[r]=="object").map(r=>(s[r].name=r,s[r]))},Ve.filter=function(s,r,a){return s.filter(o=>!!t(o,r,a))},Ve.sort=function(s){for(let r of s)r.order=r.order||Number.MAX_SAFE_INTEGER;return s.sort((r,a)=>r.order-a.order)},Ve.run=function(s,r,a,o){let i,u,c=0;return new Promise((n,l)=>{d();function d(){if(i=s[c++],!i)return l(u);try{let m=t(i,r,a,h,o);if(m&&typeof m.then=="function")m.then(p,v);else if(m!==void 0)p(m);else if(c===s.length)throw new Error("No promise has been returned or callback has been called.")}catch(m){v(m)}}function h(m,y){m?v(m):p(y)}function p(m){n({plugin:i,result:m})}function v(m){u={plugin:i,error:m},d()}})};function t(s,r,a,o,i){let u=s[r];if(typeof u=="function")return u.apply(s,[a,o,i]);if(!o){if(u instanceof RegExp)return u.test(a.url);if(typeof u=="string")return u===a.extension;if(Array.isArray(u))return u.indexOf(a.extension)!==-1}return u}return Ve}var jr,on;function Ci(){if(on)return jr;on=1;const{ono:t}=$e,s=Re(),r=sa(),{ResolverError:a,ParserError:o,UnmatchedParserError:i,UnmatchedResolverError:u,isHandledError:c}=Te();jr=n;async function n(p,v,m){p=s.stripHash(p);let y=v._add(p),g={url:p,extension:s.getExtension(p)};try{const _=await l(g,m,v);y.pathType=_.plugin.name,g.data=_.result;const O=await d(g,m,v);return y.value=O.result,O.result}catch(_){throw c(_)&&(y.value=_),_}}function l(p,v,m){return new Promise((y,g)=>{let _=r.all(v.resolve);_=r.filter(_,"canRead",p),r.sort(_),r.run(_,"read",p,m).then(y,O);function O(F){!F&&v.continueOnError?g(new u(p.url)):!F||!("error"in F)?g(t.syntax(`Unable to resolve $ref pointer "${p.url}"`)):F.error instanceof a?g(F.error):g(new a(F,p.url))}})}function d(p,v,m){return new Promise((y,g)=>{let _=r.all(v.parse),O=r.filter(_,"canParse",p),F=O.length>0?O:_;r.sort(F),r.run(F,"parse",p,m).then(L,P);function L(V){!V.plugin.allowEmpty&&h(V.result)?g(t.syntax(`Error parsing "${p.url}" as ${V.plugin.name}. 
Parsed value is empty`)):y(V)}function P(V){!V&&v.continueOnError?g(new i(p.url)):!V||!("error"in V)?g(t.syntax(`Unable to parse ${p.url}`)):V.error instanceof o?g(V.error):g(new o(V.error.message,p.url))}})}function h(p){return p===void 0||typeof p=="object"&&Object.keys(p).length===0||typeof p=="string"&&p.trim().length===0||re.Buffer.isBuffer(p)&&p.length===0}return jr}var Dr,an;function la(){if(an)return Dr;an=1;const{ParserError:t}=Te();return Dr={order:100,allowEmpty:!0,canParse:".json",async parse(s){let r=s.data;if(re.Buffer.isBuffer(r)&&(r=r.toString()),typeof r=="string"){if(r.trim().length===0)return;try{return JSON.parse(r)}catch(a){throw new t(a.message,s.url)}}else return r}},Dr}var de={},lr={},je={},un;function Ze(){if(un)return je;un=1;function t(u){return typeof u>"u"||u===null}function s(u){return typeof u=="object"&&u!==null}function r(u){return Array.isArray(u)?u:t(u)?[]:[u]}function a(u,c){var n,l,d,h;if(c)for(h=Object.keys(c),n=0,l=h.length;n<l;n+=1)d=h[n],u[d]=c[d];return u}function o(u,c){var n="",l;for(l=0;l<c;l+=1)n+=u;return n}function i(u){return u===0&&Number.NEGATIVE_INFINITY===1/u}return je.isNothing=t,je.isObject=s,je.toArray=r,je.repeat=o,je.isNegativeZero=i,je.extend=a,je}var qr,sn;function er(){if(sn)return qr;sn=1;function t(r,a){var o="",i=r.reason||"(unknown reason)";return r.mark?(r.mark.name&&(o+='in "'+r.mark.name+'" '),o+="("+(r.mark.line+1)+":"+(r.mark.column+1)+")",!a&&r.mark.snippet&&(o+=`

`+r.mark.snippet),i+" "+o):i}function s(r,a){Error.call(this),this.name="YAMLException",this.reason=r,this.mark=a,this.message=t(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}return s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s.prototype.toString=function(a){return this.name+": "+t(this,a)},qr=s,qr}var Lr,ln;function ca(){if(ln)return Lr;ln=1;var t=Ze();function s(o,i,u,c,n){var l="",d="",h=Math.floor(n/2)-1;return c-i>h&&(l=" ... ",i=c-h+l.length),u-c>h&&(d=" ...",u=c+h-d.length),{str:l+o.slice(i,u).replace(/\t/g,"→")+d,pos:c-i+l.length}}function r(o,i){return t.repeat(" ",i-o.length)+o}function a(o,i){if(i=Object.create(i||null),!o.buffer)return null;i.maxLength||(i.maxLength=79),typeof i.indent!="number"&&(i.indent=1),typeof i.linesBefore!="number"&&(i.linesBefore=3),typeof i.linesAfter!="number"&&(i.linesAfter=2);for(var u=/\r?\n|\r|\0/g,c=[0],n=[],l,d=-1;l=u.exec(o.buffer);)n.push(l.index),c.push(l.index+l[0].length),o.position<=l.index&&d<0&&(d=c.length-2);d<0&&(d=c.length-1);var h="",p,v,m=Math.min(o.line+i.linesAfter,n.length).toString().length,y=i.maxLength-(i.indent+m+3);for(p=1;p<=i.linesBefore&&!(d-p<0);p++)v=s(o.buffer,c[d-p],n[d-p],o.position-(c[d]-c[d-p]),y),h=t.repeat(" ",i.indent)+r((o.line-p+1).toString(),m)+" | "+v.str+`
`+h;for(v=s(o.buffer,c[d],n[d],o.position,y),h+=t.repeat(" ",i.indent)+r((o.line+1).toString(),m)+" | "+v.str+`
`,h+=t.repeat("-",i.indent+m+3+v.pos)+`^
`,p=1;p<=i.linesAfter&&!(d+p>=n.length);p++)v=s(o.buffer,c[d+p],n[d+p],o.position-(c[d]-c[d+p]),y),h+=t.repeat(" ",i.indent)+r((o.line+p+1).toString(),m)+" | "+v.str+`
`;return h.replace(/\n$/,"")}return Lr=a,Lr}var Mr,cn;function me(){if(cn)return Mr;cn=1;var t=er(),s=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],r=["scalar","sequence","mapping"];function a(i){var u={};return i!==null&&Object.keys(i).forEach(function(c){i[c].forEach(function(n){u[String(n)]=c})}),u}function o(i,u){if(u=u||{},Object.keys(u).forEach(function(c){if(s.indexOf(c)===-1)throw new t('Unknown option "'+c+'" is met in definition of "'+i+'" YAML type.')}),this.options=u,this.tag=i,this.kind=u.kind||null,this.resolve=u.resolve||function(){return!0},this.construct=u.construct||function(c){return c},this.instanceOf=u.instanceOf||null,this.predicate=u.predicate||null,this.represent=u.represent||null,this.representName=u.representName||null,this.defaultStyle=u.defaultStyle||null,this.multi=u.multi||!1,this.styleAliases=a(u.styleAliases||null),r.indexOf(this.kind)===-1)throw new t('Unknown kind "'+this.kind+'" is specified for "'+i+'" YAML type.')}return Mr=o,Mr}var $r,fn;function Fi(){if(fn)return $r;fn=1;var t=er(),s=me();function r(i,u){var c=[];return i[u].forEach(function(n){var l=c.length;c.forEach(function(d,h){d.tag===n.tag&&d.kind===n.kind&&d.multi===n.multi&&(l=h)}),c[l]=n}),c}function a(){var i={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},u,c;function n(l){l.multi?(i.multi[l.kind].push(l),i.multi.fallback.push(l)):i[l.kind][l.tag]=i.fallback[l.tag]=l}for(u=0,c=arguments.length;u<c;u+=1)arguments[u].forEach(n);return i}function o(i){return this.extend(i)}return o.prototype.extend=function(u){var c=[],n=[];if(u instanceof s)n.push(u);else if(Array.isArray(u))n=n.concat(u);else if(u&&(Array.isArray(u.implicit)||Array.isArray(u.explicit)))u.implicit&&(c=c.concat(u.implicit)),u.explicit&&(n=n.concat(u.explicit));else throw new t("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");c.forEach(function(d){if(!(d instanceof s))throw new t("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(d.loadKind&&d.loadKind!=="scalar")throw new t("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(d.multi)throw new t("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(d){if(!(d instanceof s))throw new t("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var l=Object.create(o.prototype);return l.implicit=(this.implicit||[]).concat(c),l.explicit=(this.explicit||[]).concat(n),l.compiledImplicit=r(l,"implicit"),l.compiledExplicit=r(l,"explicit"),l.compiledTypeMap=a(l.compiledImplicit,l.compiledExplicit),l},$r=o,$r}var Ur,dn;function Ti(){if(dn)return Ur;dn=1;var t=me();return Ur=new t("tag:yaml.org,2002:str",{kind:"scalar",construct:function(s){return s!==null?s:""}}),Ur}var Br,pn;function Ni(){if(pn)return Br;pn=1;var t=me();return Br=new t("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(s){return s!==null?s:[]}}),Br}var Hr,hn;function Pi(){if(hn)return Hr;hn=1;var t=me();return Hr=new t("tag:yaml.org,2002:map",{kind:"mapping",construct:function(s){return s!==null?s:{}}}),Hr}var Vr,mn;function Ii(){if(mn)return Vr;mn=1;var t=Fi();return Vr=new t({explicit:[Ti(),Ni(),Pi()]}),Vr}var Yr,vn;function ki(){if(vn)return Yr;vn=1;var t=me();function s(o){if(o===null)return!0;var i=o.length;return i===1&&o==="~"||i===4&&(o==="null"||o==="Null"||o==="NULL")}function r(){return null}function a(o){return o===null}return Yr=new t("tag:yaml.org,2002:null",{kind:"scalar",resolve:s,construct:r,predicate:a,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),Yr}var Wr,gn;function ji(){if(gn)return Wr;gn=1;var t=me();function s(o){if(o===null)return!1;var i=o.length;return i===4&&(o==="true"||o==="True"||o==="TRUE")||i===5&&(o==="false"||o==="False"||o==="FALSE")}function r(o){return o==="true"||o==="True"||o==="TRUE"}function a(o){return Object.prototype.toString.call(o)==="[object Boolean]"}return Wr=new t("tag:yaml.org,2002:bool",{kind:"scalar",resolve:s,construct:r,predicate:a,represent:{lowercase:function(o){return o?"true":"false"},uppercase:function(o){return o?"TRUE":"FALSE"},camelcase:function(o){return o?"True":"False"}},defaultStyle:"lowercase"}),Wr}var Gr,yn;function Di(){if(yn)return Gr;yn=1;var t=Ze(),s=me();function r(n){return 48<=n&&n<=57||65<=n&&n<=70||97<=n&&n<=102}function a(n){return 48<=n&&n<=55}function o(n){return 48<=n&&n<=57}function i(n){if(n===null)return!1;var l=n.length,d=0,h=!1,p;if(!l)return!1;if(p=n[d],(p==="-"||p==="+")&&(p=n[++d]),p==="0"){if(d+1===l)return!0;if(p=n[++d],p==="b"){for(d++;d<l;d++)if(p=n[d],p!=="_"){if(p!=="0"&&p!=="1")return!1;h=!0}return h&&p!=="_"}if(p==="x"){for(d++;d<l;d++)if(p=n[d],p!=="_"){if(!r(n.charCodeAt(d)))return!1;h=!0}return h&&p!=="_"}if(p==="o"){for(d++;d<l;d++)if(p=n[d],p!=="_"){if(!a(n.charCodeAt(d)))return!1;h=!0}return h&&p!=="_"}}if(p==="_")return!1;for(;d<l;d++)if(p=n[d],p!=="_"){if(!o(n.charCodeAt(d)))return!1;h=!0}return!(!h||p==="_")}function u(n){var l=n,d=1,h;if(l.indexOf("_")!==-1&&(l=l.replace(/_/g,"")),h=l[0],(h==="-"||h==="+")&&(h==="-"&&(d=-1),l=l.slice(1),h=l[0]),l==="0")return 0;if(h==="0"){if(l[1]==="b")return d*parseInt(l.slice(2),2);if(l[1]==="x")return d*parseInt(l.slice(2),16);if(l[1]==="o")return d*parseInt(l.slice(2),8)}return d*parseInt(l,10)}function c(n){return Object.prototype.toString.call(n)==="[object Number]"&&n%1===0&&!t.isNegativeZero(n)}return Gr=new s("tag:yaml.org,2002:int",{kind:"scalar",resolve:i,construct:u,predicate:c,represent:{binary:function(n){return n>=0?"0b"+n.toString(2):"-0b"+n.toString(2).slice(1)},octal:function(n){return n>=0?"0o"+n.toString(8):"-0o"+n.toString(8).slice(1)},decimal:function(n){return n.toString(10)},hexadecimal:function(n){return n>=0?"0x"+n.toString(16).toUpperCase():"-0x"+n.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Gr}var zr,Sn;function qi(){if(Sn)return zr;Sn=1;var t=Ze(),s=me(),r=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function a(n){return!(n===null||!r.test(n)||n[n.length-1]==="_")}function o(n){var l,d;return l=n.replace(/_/g,"").toLowerCase(),d=l[0]==="-"?-1:1,"+-".indexOf(l[0])>=0&&(l=l.slice(1)),l===".inf"?d===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:l===".nan"?NaN:d*parseFloat(l,10)}var i=/^[-+]?[0-9]+e/;function u(n,l){var d;if(isNaN(n))switch(l){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===n)switch(l){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===n)switch(l){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(t.isNegativeZero(n))return"-0.0";return d=n.toString(10),i.test(d)?d.replace("e",".e"):d}function c(n){return Object.prototype.toString.call(n)==="[object Number]"&&(n%1!==0||t.isNegativeZero(n))}return zr=new s("tag:yaml.org,2002:float",{kind:"scalar",resolve:a,construct:o,predicate:c,represent:u,defaultStyle:"lowercase"}),zr}var Jr,xn;function Li(){return xn||(xn=1,Jr=Ii().extend({implicit:[ki(),ji(),Di(),qi()]})),Jr}var Kr,En;function Mi(){return En||(En=1,Kr=Li()),Kr}var Xr,bn;function $i(){if(bn)return Xr;bn=1;var t=me(),s=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),r=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function a(u){return u===null?!1:s.exec(u)!==null||r.exec(u)!==null}function o(u){var c,n,l,d,h,p,v,m=0,y=null,g,_,O;if(c=s.exec(u),c===null&&(c=r.exec(u)),c===null)throw new Error("Date resolve error");if(n=+c[1],l=+c[2]-1,d=+c[3],!c[4])return new Date(Date.UTC(n,l,d));if(h=+c[4],p=+c[5],v=+c[6],c[7]){for(m=c[7].slice(0,3);m.length<3;)m+="0";m=+m}return c[9]&&(g=+c[10],_=+(c[11]||0),y=(g*60+_)*6e4,c[9]==="-"&&(y=-y)),O=new Date(Date.UTC(n,l,d,h,p,v,m)),y&&O.setTime(O.getTime()-y),O}function i(u){return u.toISOString()}return Xr=new t("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:a,construct:o,instanceOf:Date,represent:i}),Xr}var Qr,_n;function Ui(){if(_n)return Qr;_n=1;var t=me();function s(r){return r==="<<"||r===null}return Qr=new t("tag:yaml.org,2002:merge",{kind:"scalar",resolve:s}),Qr}var Zr,wn;function Bi(){if(wn)return Zr;wn=1;var t=me(),s=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function r(u){if(u===null)return!1;var c,n,l=0,d=u.length,h=s;for(n=0;n<d;n++)if(c=h.indexOf(u.charAt(n)),!(c>64)){if(c<0)return!1;l+=6}return l%8===0}function a(u){var c,n,l=u.replace(/[\r\n=]/g,""),d=l.length,h=s,p=0,v=[];for(c=0;c<d;c++)c%4===0&&c&&(v.push(p>>16&255),v.push(p>>8&255),v.push(p&255)),p=p<<6|h.indexOf(l.charAt(c));return n=d%4*6,n===0?(v.push(p>>16&255),v.push(p>>8&255),v.push(p&255)):n===18?(v.push(p>>10&255),v.push(p>>2&255)):n===12&&v.push(p>>4&255),new Uint8Array(v)}function o(u){var c="",n=0,l,d,h=u.length,p=s;for(l=0;l<h;l++)l%3===0&&l&&(c+=p[n>>18&63],c+=p[n>>12&63],c+=p[n>>6&63],c+=p[n&63]),n=(n<<8)+u[l];return d=h%3,d===0?(c+=p[n>>18&63],c+=p[n>>12&63],c+=p[n>>6&63],c+=p[n&63]):d===2?(c+=p[n>>10&63],c+=p[n>>4&63],c+=p[n<<2&63],c+=p[64]):d===1&&(c+=p[n>>2&63],c+=p[n<<4&63],c+=p[64],c+=p[64]),c}function i(u){return Object.prototype.toString.call(u)==="[object Uint8Array]"}return Zr=new t("tag:yaml.org,2002:binary",{kind:"scalar",resolve:r,construct:a,predicate:i,represent:o}),Zr}var et,An;function Hi(){if(An)return et;An=1;var t=me(),s=Object.prototype.hasOwnProperty,r=Object.prototype.toString;function a(i){if(i===null)return!0;var u=[],c,n,l,d,h,p=i;for(c=0,n=p.length;c<n;c+=1){if(l=p[c],h=!1,r.call(l)!=="[object Object]")return!1;for(d in l)if(s.call(l,d))if(!h)h=!0;else return!1;if(!h)return!1;if(u.indexOf(d)===-1)u.push(d);else return!1}return!0}function o(i){return i!==null?i:[]}return et=new t("tag:yaml.org,2002:omap",{kind:"sequence",resolve:a,construct:o}),et}var rt,Rn;function Vi(){if(Rn)return rt;Rn=1;var t=me(),s=Object.prototype.toString;function r(o){if(o===null)return!0;var i,u,c,n,l,d=o;for(l=new Array(d.length),i=0,u=d.length;i<u;i+=1){if(c=d[i],s.call(c)!=="[object Object]"||(n=Object.keys(c),n.length!==1))return!1;l[i]=[n[0],c[n[0]]]}return!0}function a(o){if(o===null)return[];var i,u,c,n,l,d=o;for(l=new Array(d.length),i=0,u=d.length;i<u;i+=1)c=d[i],n=Object.keys(c),l[i]=[n[0],c[n[0]]];return l}return rt=new t("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:r,construct:a}),rt}var tt,On;function Yi(){if(On)return tt;On=1;var t=me(),s=Object.prototype.hasOwnProperty;function r(o){if(o===null)return!0;var i,u=o;for(i in u)if(s.call(u,i)&&u[i]!==null)return!1;return!0}function a(o){return o!==null?o:{}}return tt=new t("tag:yaml.org,2002:set",{kind:"mapping",resolve:r,construct:a}),tt}var nt,Cn;function $t(){return Cn||(Cn=1,nt=Mi().extend({implicit:[$i(),Ui()],explicit:[Bi(),Hi(),Vi(),Yi()]})),nt}var Fn;function fa(){if(Fn)return lr;Fn=1;var t=Ze(),s=er(),r=ca(),a=$t(),o=Object.prototype.hasOwnProperty,i=1,u=2,c=3,n=4,l=1,d=2,h=3,p=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,v=/[\x85\u2028\u2029]/,m=/[,\[\]\{\}]/,y=/^(?:!|!!|![a-z\-]+!)$/i,g=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _(e){return Object.prototype.toString.call(e)}function O(e){return e===10||e===13}function F(e){return e===9||e===32}function L(e){return e===9||e===32||e===10||e===13}function P(e){return e===44||e===91||e===93||e===123||e===125}function V(e){var x;return 48<=e&&e<=57?e-48:(x=e|32,97<=x&&x<=102?x-97+10:-1)}function q(e){return e===120?2:e===117?4:e===85?8:0}function H(e){return 48<=e&&e<=57?e-48:-1}function T(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function E(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}for(var k=new Array(256),J=new Array(256),Y=0;Y<256;Y++)k[Y]=T(Y)?1:0,J[Y]=T(Y);function K(e,x){this.input=e,this.filename=x.filename||null,this.schema=x.schema||a,this.onWarning=x.onWarning||null,this.legacy=x.legacy||!1,this.json=x.json||!1,this.listener=x.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Ee(e,x){var w={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return w.snippet=r(w),new s(x,w)}function $(e,x){throw Ee(e,x)}function le(e,x){e.onWarning&&e.onWarning.call(null,Ee(e,x))}var ge={YAML:function(x,w,M){var A,D,I;x.version!==null&&$(x,"duplication of %YAML directive"),M.length!==1&&$(x,"YAML directive accepts exactly one argument"),A=/^([0-9]+)\.([0-9]+)$/.exec(M[0]),A===null&&$(x,"ill-formed argument of the YAML directive"),D=parseInt(A[1],10),I=parseInt(A[2],10),D!==1&&$(x,"unacceptable YAML version of the document"),x.version=M[0],x.checkLineBreaks=I<2,I!==1&&I!==2&&le(x,"unsupported YAML version of the document")},TAG:function(x,w,M){var A,D;M.length!==2&&$(x,"TAG directive accepts exactly two arguments"),A=M[0],D=M[1],y.test(A)||$(x,"ill-formed tag handle (first argument) of the TAG directive"),o.call(x.tagMap,A)&&$(x,'there is a previously declared suffix for "'+A+'" tag handle'),g.test(D)||$(x,"ill-formed tag prefix (second argument) of the TAG directive");try{D=decodeURIComponent(D)}catch{$(x,"tag prefix is malformed: "+D)}x.tagMap[A]=D}};function ue(e,x,w,M){var A,D,I,U;if(x<w){if(U=e.input.slice(x,w),M)for(A=0,D=U.length;A<D;A+=1)I=U.charCodeAt(A),I===9||32<=I&&I<=1114111||$(e,"expected valid JSON character");else p.test(U)&&$(e,"the stream contains non-printable characters");e.result+=U}}function he(e,x,w,M){var A,D,I,U;for(t.isObject(w)||$(e,"cannot merge mappings; the provided source object is unacceptable"),A=Object.keys(w),I=0,U=A.length;I<U;I+=1)D=A[I],o.call(x,D)||(x[D]=w[D],M[D]=!0)}function be(e,x,w,M,A,D,I,U,Q){var ee,te;if(Array.isArray(A))for(A=Array.prototype.slice.call(A),ee=0,te=A.length;ee<te;ee+=1)Array.isArray(A[ee])&&$(e,"nested arrays are not supported inside keys"),typeof A=="object"&&_(A[ee])==="[object Object]"&&(A[ee]="[object Object]");if(typeof A=="object"&&_(A)==="[object Object]"&&(A="[object Object]"),A=String(A),x===null&&(x={}),M==="tag:yaml.org,2002:merge")if(Array.isArray(D))for(ee=0,te=D.length;ee<te;ee+=1)he(e,x,D[ee],w);else he(e,x,D,w);else!e.json&&!o.call(w,A)&&o.call(x,A)&&(e.line=I||e.line,e.lineStart=U||e.lineStart,e.position=Q||e.position,$(e,"duplicated mapping key")),A==="__proto__"?Object.defineProperty(x,A,{configurable:!0,enumerable:!0,writable:!0,value:D}):x[A]=D,delete w[A];return x}function Be(e){var x;x=e.input.charCodeAt(e.position),x===10?e.position++:x===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):$(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function oe(e,x,w){for(var M=0,A=e.input.charCodeAt(e.position);A!==0;){for(;F(A);)A===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),A=e.input.charCodeAt(++e.position);if(x&&A===35)do A=e.input.charCodeAt(++e.position);while(A!==10&&A!==13&&A!==0);if(O(A))for(Be(e),A=e.input.charCodeAt(e.position),M++,e.lineIndent=0;A===32;)e.lineIndent++,A=e.input.charCodeAt(++e.position);else break}return w!==-1&&M!==0&&e.lineIndent<w&&le(e,"deficient indentation"),M}function He(e){var x=e.position,w;return w=e.input.charCodeAt(x),!!((w===45||w===46)&&w===e.input.charCodeAt(x+1)&&w===e.input.charCodeAt(x+2)&&(x+=3,w=e.input.charCodeAt(x),w===0||L(w)))}function Pe(e,x){x===1?e.result+=" ":x>1&&(e.result+=t.repeat(`
`,x-1))}function Le(e,x,w){var M,A,D,I,U,Q,ee,te,G=e.kind,ce=e.result,f;if(f=e.input.charCodeAt(e.position),L(f)||P(f)||f===35||f===38||f===42||f===33||f===124||f===62||f===39||f===34||f===37||f===64||f===96||(f===63||f===45)&&(A=e.input.charCodeAt(e.position+1),L(A)||w&&P(A)))return!1;for(e.kind="scalar",e.result="",D=I=e.position,U=!1;f!==0;){if(f===58){if(A=e.input.charCodeAt(e.position+1),L(A)||w&&P(A))break}else if(f===35){if(M=e.input.charCodeAt(e.position-1),L(M))break}else{if(e.position===e.lineStart&&He(e)||w&&P(f))break;if(O(f))if(Q=e.line,ee=e.lineStart,te=e.lineIndent,oe(e,!1,-1),e.lineIndent>=x){U=!0,f=e.input.charCodeAt(e.position);continue}else{e.position=I,e.line=Q,e.lineStart=ee,e.lineIndent=te;break}}U&&(ue(e,D,I,!1),Pe(e,e.line-Q),D=I=e.position,U=!1),F(f)||(I=e.position+1),f=e.input.charCodeAt(++e.position)}return ue(e,D,I,!1),e.result?!0:(e.kind=G,e.result=ce,!1)}function rr(e,x){var w,M,A;if(w=e.input.charCodeAt(e.position),w!==39)return!1;for(e.kind="scalar",e.result="",e.position++,M=A=e.position;(w=e.input.charCodeAt(e.position))!==0;)if(w===39)if(ue(e,M,e.position,!0),w=e.input.charCodeAt(++e.position),w===39)M=e.position,e.position++,A=e.position;else return!0;else O(w)?(ue(e,M,A,!0),Pe(e,oe(e,!1,x)),M=A=e.position):e.position===e.lineStart&&He(e)?$(e,"unexpected end of the document within a single quoted scalar"):(e.position++,A=e.position);$(e,"unexpected end of the stream within a single quoted scalar")}function tr(e,x){var w,M,A,D,I,U;if(U=e.input.charCodeAt(e.position),U!==34)return!1;for(e.kind="scalar",e.result="",e.position++,w=M=e.position;(U=e.input.charCodeAt(e.position))!==0;){if(U===34)return ue(e,w,e.position,!0),e.position++,!0;if(U===92){if(ue(e,w,e.position,!0),U=e.input.charCodeAt(++e.position),O(U))oe(e,!1,x);else if(U<256&&k[U])e.result+=J[U],e.position++;else if((I=q(U))>0){for(A=I,D=0;A>0;A--)U=e.input.charCodeAt(++e.position),(I=V(U))>=0?D=(D<<4)+I:$(e,"expected hexadecimal character");e.result+=E(D),e.position++}else $(e,"unknown escape sequence");w=M=e.position}else O(U)?(ue(e,w,M,!0),Pe(e,oe(e,!1,x)),w=M=e.position):e.position===e.lineStart&&He(e)?$(e,"unexpected end of the document within a double quoted scalar"):(e.position++,M=e.position)}$(e,"unexpected end of the stream within a double quoted scalar")}function Fr(e,x){var w=!0,M,A,D,I=e.tag,U,Q=e.anchor,ee,te,G,ce,f,b=Object.create(null),C,R,N,j;if(j=e.input.charCodeAt(e.position),j===91)te=93,f=!1,U=[];else if(j===123)te=125,f=!0,U={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=U),j=e.input.charCodeAt(++e.position);j!==0;){if(oe(e,!0,x),j=e.input.charCodeAt(e.position),j===te)return e.position++,e.tag=I,e.anchor=Q,e.kind=f?"mapping":"sequence",e.result=U,!0;w?j===44&&$(e,"expected the node content, but found ','"):$(e,"missed comma between flow collection entries"),R=C=N=null,G=ce=!1,j===63&&(ee=e.input.charCodeAt(e.position+1),L(ee)&&(G=ce=!0,e.position++,oe(e,!0,x))),M=e.line,A=e.lineStart,D=e.position,Ne(e,x,i,!1,!0),R=e.tag,C=e.result,oe(e,!0,x),j=e.input.charCodeAt(e.position),(ce||e.line===M)&&j===58&&(G=!0,j=e.input.charCodeAt(++e.position),oe(e,!0,x),Ne(e,x,i,!1,!0),N=e.result),f?be(e,U,b,R,C,N,M,A,D):G?U.push(be(e,null,b,R,C,N,M,A,D)):U.push(C),oe(e,!0,x),j=e.input.charCodeAt(e.position),j===44?(w=!0,j=e.input.charCodeAt(++e.position)):w=!1}$(e,"unexpected end of the stream within a flow collection")}function Tr(e,x){var w,M,A=l,D=!1,I=!1,U=x,Q=0,ee=!1,te,G;if(G=e.input.charCodeAt(e.position),G===124)M=!1;else if(G===62)M=!0;else return!1;for(e.kind="scalar",e.result="";G!==0;)if(G=e.input.charCodeAt(++e.position),G===43||G===45)l===A?A=G===43?h:d:$(e,"repeat of a chomping mode identifier");else if((te=H(G))>=0)te===0?$(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):I?$(e,"repeat of an indentation width identifier"):(U=x+te-1,I=!0);else break;if(F(G)){do G=e.input.charCodeAt(++e.position);while(F(G));if(G===35)do G=e.input.charCodeAt(++e.position);while(!O(G)&&G!==0)}for(;G!==0;){for(Be(e),e.lineIndent=0,G=e.input.charCodeAt(e.position);(!I||e.lineIndent<U)&&G===32;)e.lineIndent++,G=e.input.charCodeAt(++e.position);if(!I&&e.lineIndent>U&&(U=e.lineIndent),O(G)){Q++;continue}if(e.lineIndent<U){A===h?e.result+=t.repeat(`
`,D?1+Q:Q):A===l&&D&&(e.result+=`
`);break}for(M?F(G)?(ee=!0,e.result+=t.repeat(`
`,D?1+Q:Q)):ee?(ee=!1,e.result+=t.repeat(`
`,Q+1)):Q===0?D&&(e.result+=" "):e.result+=t.repeat(`
`,Q):e.result+=t.repeat(`
`,D?1+Q:Q),D=!0,I=!0,Q=0,w=e.position;!O(G)&&G!==0;)G=e.input.charCodeAt(++e.position);ue(e,w,e.position,!1)}return!0}function Ie(e,x){var w,M=e.tag,A=e.anchor,D=[],I,U=!1,Q;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=D),Q=e.input.charCodeAt(e.position);Q!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,$(e,"tab characters must not be used in indentation")),!(Q!==45||(I=e.input.charCodeAt(e.position+1),!L(I))));){if(U=!0,e.position++,oe(e,!0,-1)&&e.lineIndent<=x){D.push(null),Q=e.input.charCodeAt(e.position);continue}if(w=e.line,Ne(e,x,c,!1,!0),D.push(e.result),oe(e,!0,-1),Q=e.input.charCodeAt(e.position),(e.line===w||e.lineIndent>x)&&Q!==0)$(e,"bad indentation of a sequence entry");else if(e.lineIndent<x)break}return U?(e.tag=M,e.anchor=A,e.kind="sequence",e.result=D,!0):!1}function nr(e,x,w){var M,A,D,I,U,Q,ee=e.tag,te=e.anchor,G={},ce=Object.create(null),f=null,b=null,C=null,R=!1,N=!1,j;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=G),j=e.input.charCodeAt(e.position);j!==0;){if(!R&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,$(e,"tab characters must not be used in indentation")),M=e.input.charCodeAt(e.position+1),D=e.line,(j===63||j===58)&&L(M))j===63?(R&&(be(e,G,ce,f,b,null,I,U,Q),f=b=C=null),N=!0,R=!0,A=!0):R?(R=!1,A=!0):$(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,j=M;else{if(I=e.line,U=e.lineStart,Q=e.position,!Ne(e,w,u,!1,!0))break;if(e.line===D){for(j=e.input.charCodeAt(e.position);F(j);)j=e.input.charCodeAt(++e.position);if(j===58)j=e.input.charCodeAt(++e.position),L(j)||$(e,"a whitespace character is expected after the key-value separator within a block mapping"),R&&(be(e,G,ce,f,b,null,I,U,Q),f=b=C=null),N=!0,R=!1,A=!1,f=e.tag,b=e.result;else if(N)$(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=ee,e.anchor=te,!0}else if(N)$(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=ee,e.anchor=te,!0}if((e.line===D||e.lineIndent>x)&&(R&&(I=e.line,U=e.lineStart,Q=e.position),Ne(e,x,n,!0,A)&&(R?b=e.result:C=e.result),R||(be(e,G,ce,f,b,C,I,U,Q),f=b=C=null),oe(e,!0,-1),j=e.input.charCodeAt(e.position)),(e.line===D||e.lineIndent>x)&&j!==0)$(e,"bad indentation of a mapping entry");else if(e.lineIndent<x)break}return R&&be(e,G,ce,f,b,null,I,U,Q),N&&(e.tag=ee,e.anchor=te,e.kind="mapping",e.result=G),N}function ir(e){var x,w=!1,M=!1,A,D,I;if(I=e.input.charCodeAt(e.position),I!==33)return!1;if(e.tag!==null&&$(e,"duplication of a tag property"),I=e.input.charCodeAt(++e.position),I===60?(w=!0,I=e.input.charCodeAt(++e.position)):I===33?(M=!0,A="!!",I=e.input.charCodeAt(++e.position)):A="!",x=e.position,w){do I=e.input.charCodeAt(++e.position);while(I!==0&&I!==62);e.position<e.length?(D=e.input.slice(x,e.position),I=e.input.charCodeAt(++e.position)):$(e,"unexpected end of the stream within a verbatim tag")}else{for(;I!==0&&!L(I);)I===33&&(M?$(e,"tag suffix cannot contain exclamation marks"):(A=e.input.slice(x-1,e.position+1),y.test(A)||$(e,"named tag handle cannot contain such characters"),M=!0,x=e.position+1)),I=e.input.charCodeAt(++e.position);D=e.input.slice(x,e.position),m.test(D)&&$(e,"tag suffix cannot contain flow indicator characters")}D&&!g.test(D)&&$(e,"tag name cannot contain such characters: "+D);try{D=decodeURIComponent(D)}catch{$(e,"tag name is malformed: "+D)}return w?e.tag=D:o.call(e.tagMap,A)?e.tag=e.tagMap[A]+D:A==="!"?e.tag="!"+D:A==="!!"?e.tag="tag:yaml.org,2002:"+D:$(e,'undeclared tag handle "'+A+'"'),!0}function We(e){var x,w;if(w=e.input.charCodeAt(e.position),w!==38)return!1;for(e.anchor!==null&&$(e,"duplication of an anchor property"),w=e.input.charCodeAt(++e.position),x=e.position;w!==0&&!L(w)&&!P(w);)w=e.input.charCodeAt(++e.position);return e.position===x&&$(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(x,e.position),!0}function or(e){var x,w,M;if(M=e.input.charCodeAt(e.position),M!==42)return!1;for(M=e.input.charCodeAt(++e.position),x=e.position;M!==0&&!L(M)&&!P(M);)M=e.input.charCodeAt(++e.position);return e.position===x&&$(e,"name of an alias node must contain at least one character"),w=e.input.slice(x,e.position),o.call(e.anchorMap,w)||$(e,'unidentified alias "'+w+'"'),e.result=e.anchorMap[w],oe(e,!0,-1),!0}function Ne(e,x,w,M,A){var D,I,U,Q=1,ee=!1,te=!1,G,ce,f,b,C,R;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,D=I=U=n===w||c===w,M&&oe(e,!0,-1)&&(ee=!0,e.lineIndent>x?Q=1:e.lineIndent===x?Q=0:e.lineIndent<x&&(Q=-1)),Q===1)for(;ir(e)||We(e);)oe(e,!0,-1)?(ee=!0,U=D,e.lineIndent>x?Q=1:e.lineIndent===x?Q=0:e.lineIndent<x&&(Q=-1)):U=!1;if(U&&(U=ee||A),(Q===1||n===w)&&(i===w||u===w?C=x:C=x+1,R=e.position-e.lineStart,Q===1?U&&(Ie(e,R)||nr(e,R,C))||Fr(e,C)?te=!0:(I&&Tr(e,C)||rr(e,C)||tr(e,C)?te=!0:or(e)?(te=!0,(e.tag!==null||e.anchor!==null)&&$(e,"alias node should not have any properties")):Le(e,C,i===w)&&(te=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Q===0&&(te=U&&Ie(e,R))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&$(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),G=0,ce=e.implicitTypes.length;G<ce;G+=1)if(b=e.implicitTypes[G],b.resolve(e.result)){e.result=b.construct(e.result),e.tag=b.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(o.call(e.typeMap[e.kind||"fallback"],e.tag))b=e.typeMap[e.kind||"fallback"][e.tag];else for(b=null,f=e.typeMap.multi[e.kind||"fallback"],G=0,ce=f.length;G<ce;G+=1)if(e.tag.slice(0,f[G].tag.length)===f[G].tag){b=f[G];break}b||$(e,"unknown tag !<"+e.tag+">"),e.result!==null&&b.kind!==e.kind&&$(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+b.kind+'", not "'+e.kind+'"'),b.resolve(e.result,e.tag)?(e.result=b.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):$(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||te}function ke(e){var x=e.position,w,M,A,D=!1,I;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(I=e.input.charCodeAt(e.position))!==0&&(oe(e,!0,-1),I=e.input.charCodeAt(e.position),!(e.lineIndent>0||I!==37));){for(D=!0,I=e.input.charCodeAt(++e.position),w=e.position;I!==0&&!L(I);)I=e.input.charCodeAt(++e.position);for(M=e.input.slice(w,e.position),A=[],M.length<1&&$(e,"directive name must not be less than one character in length");I!==0;){for(;F(I);)I=e.input.charCodeAt(++e.position);if(I===35){do I=e.input.charCodeAt(++e.position);while(I!==0&&!O(I));break}if(O(I))break;for(w=e.position;I!==0&&!L(I);)I=e.input.charCodeAt(++e.position);A.push(e.input.slice(w,e.position))}I!==0&&Be(e),o.call(ge,M)?ge[M](e,M,A):le(e,'unknown document directive "'+M+'"')}if(oe(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,oe(e,!0,-1)):D&&$(e,"directives end mark is expected"),Ne(e,e.lineIndent-1,n,!1,!0),oe(e,!0,-1),e.checkLineBreaks&&v.test(e.input.slice(x,e.position))&&le(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&He(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,oe(e,!0,-1));return}if(e.position<e.length-1)$(e,"end of the stream or a document separator is expected");else return}function ar(e,x){e=String(e),x=x||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var w=new K(e,x),M=e.indexOf("\0");for(M!==-1&&(w.position=M,$(w,"null byte is not allowed in input")),w.input+="\0";w.input.charCodeAt(w.position)===32;)w.lineIndent+=1,w.position+=1;for(;w.position<w.length-1;)ke(w);return w.documents}function Nr(e,x,w){x!==null&&typeof x=="object"&&typeof w>"u"&&(w=x,x=null);var M=ar(e,w);if(typeof x!="function")return M;for(var A=0,D=M.length;A<D;A+=1)x(M[A])}function ur(e,x){var w=ar(e,x);if(w.length!==0){if(w.length===1)return w[0];throw new s("expected a single document in the stream, but found more")}}return lr.loadAll=Nr,lr.load=ur,lr}var it={},Tn;function da(){if(Tn)return it;Tn=1;var t=Ze(),s=er(),r=$t(),a=Object.prototype.toString,o=Object.prototype.hasOwnProperty,i=65279,u=9,c=10,n=13,l=32,d=33,h=34,p=35,v=37,m=38,y=39,g=42,_=44,O=45,F=58,L=61,P=62,V=63,q=64,H=91,T=93,E=96,k=123,J=124,Y=125,K={};K[0]="\\0",K[7]="\\a",K[8]="\\b",K[9]="\\t",K[10]="\\n",K[11]="\\v",K[12]="\\f",K[13]="\\r",K[27]="\\e",K[34]='\\"',K[92]="\\\\",K[133]="\\N",K[160]="\\_",K[8232]="\\L",K[8233]="\\P";var Ee=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],$=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function le(f,b){var C,R,N,j,W,B,z;if(b===null)return{};for(C={},R=Object.keys(b),N=0,j=R.length;N<j;N+=1)W=R[N],B=String(b[W]),W.slice(0,2)==="!!"&&(W="tag:yaml.org,2002:"+W.slice(2)),z=f.compiledTypeMap.fallback[W],z&&o.call(z.styleAliases,B)&&(B=z.styleAliases[B]),C[W]=B;return C}function ge(f){var b,C,R;if(b=f.toString(16).toUpperCase(),f<=255)C="x",R=2;else if(f<=65535)C="u",R=4;else if(f<=4294967295)C="U",R=8;else throw new s("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+C+t.repeat("0",R-b.length)+b}var ue=1,he=2;function be(f){this.schema=f.schema||r,this.indent=Math.max(1,f.indent||2),this.noArrayIndent=f.noArrayIndent||!1,this.skipInvalid=f.skipInvalid||!1,this.flowLevel=t.isNothing(f.flowLevel)?-1:f.flowLevel,this.styleMap=le(this.schema,f.styles||null),this.sortKeys=f.sortKeys||!1,this.lineWidth=f.lineWidth||80,this.noRefs=f.noRefs||!1,this.noCompatMode=f.noCompatMode||!1,this.condenseFlow=f.condenseFlow||!1,this.quotingType=f.quotingType==='"'?he:ue,this.forceQuotes=f.forceQuotes||!1,this.replacer=typeof f.replacer=="function"?f.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Be(f,b){for(var C=t.repeat(" ",b),R=0,N=-1,j="",W,B=f.length;R<B;)N=f.indexOf(`
`,R),N===-1?(W=f.slice(R),R=B):(W=f.slice(R,N+1),R=N+1),W.length&&W!==`
`&&(j+=C),j+=W;return j}function oe(f,b){return`
`+t.repeat(" ",f.indent*b)}function He(f,b){var C,R,N;for(C=0,R=f.implicitTypes.length;C<R;C+=1)if(N=f.implicitTypes[C],N.resolve(b))return!0;return!1}function Pe(f){return f===l||f===u}function Le(f){return 32<=f&&f<=126||161<=f&&f<=55295&&f!==8232&&f!==8233||57344<=f&&f<=65533&&f!==i||65536<=f&&f<=1114111}function rr(f){return Le(f)&&f!==i&&f!==n&&f!==c}function tr(f,b,C){var R=rr(f),N=R&&!Pe(f);return(C?R:R&&f!==_&&f!==H&&f!==T&&f!==k&&f!==Y)&&f!==p&&!(b===F&&!N)||rr(b)&&!Pe(b)&&f===p||b===F&&N}function Fr(f){return Le(f)&&f!==i&&!Pe(f)&&f!==O&&f!==V&&f!==F&&f!==_&&f!==H&&f!==T&&f!==k&&f!==Y&&f!==p&&f!==m&&f!==g&&f!==d&&f!==J&&f!==L&&f!==P&&f!==y&&f!==h&&f!==v&&f!==q&&f!==E}function Tr(f){return!Pe(f)&&f!==F}function Ie(f,b){var C=f.charCodeAt(b),R;return C>=55296&&C<=56319&&b+1<f.length&&(R=f.charCodeAt(b+1),R>=56320&&R<=57343)?(C-55296)*1024+R-56320+65536:C}function nr(f){var b=/^\n* /;return b.test(f)}var ir=1,We=2,or=3,Ne=4,ke=5;function ar(f,b,C,R,N,j,W,B){var z,Z=0,ae=null,se=!1,ie=!1,Ht=R!==-1,Ge=-1,ze=Fr(Ie(f,0))&&Tr(Ie(f,f.length-1));if(b||W)for(z=0;z<f.length;Z>=65536?z+=2:z++){if(Z=Ie(f,z),!Le(Z))return ke;ze=ze&&tr(Z,ae,B),ae=Z}else{for(z=0;z<f.length;Z>=65536?z+=2:z++){if(Z=Ie(f,z),Z===c)se=!0,Ht&&(ie=ie||z-Ge-1>R&&f[Ge+1]!==" ",Ge=z);else if(!Le(Z))return ke;ze=ze&&tr(Z,ae,B),ae=Z}ie=ie||Ht&&z-Ge-1>R&&f[Ge+1]!==" "}return!se&&!ie?ze&&!W&&!N(f)?ir:j===he?ke:We:C>9&&nr(f)?ke:W?j===he?ke:We:ie?Ne:or}function Nr(f,b,C,R,N){f.dump=function(){if(b.length===0)return f.quotingType===he?'""':"''";if(!f.noCompatMode&&(Ee.indexOf(b)!==-1||$.test(b)))return f.quotingType===he?'"'+b+'"':"'"+b+"'";var j=f.indent*Math.max(1,C),W=f.lineWidth===-1?-1:Math.max(Math.min(f.lineWidth,40),f.lineWidth-j),B=R||f.flowLevel>-1&&C>=f.flowLevel;function z(Z){return He(f,Z)}switch(ar(b,B,f.indent,W,z,f.quotingType,f.forceQuotes&&!R,N)){case ir:return b;case We:return"'"+b.replace(/'/g,"''")+"'";case or:return"|"+ur(b,f.indent)+e(Be(b,j));case Ne:return">"+ur(b,f.indent)+e(Be(x(b,W),j));case ke:return'"'+M(b)+'"';default:throw new s("impossible error: invalid scalar style")}}()}function ur(f,b){var C=nr(f)?String(b):"",R=f[f.length-1]===`
`,N=R&&(f[f.length-2]===`
`||f===`
`),j=N?"+":R?"":"-";return C+j+`
`}function e(f){return f[f.length-1]===`
`?f.slice(0,-1):f}function x(f,b){for(var C=/(\n+)([^\n]*)/g,R=function(){var Z=f.indexOf(`
`);return Z=Z!==-1?Z:f.length,C.lastIndex=Z,w(f.slice(0,Z),b)}(),N=f[0]===`
`||f[0]===" ",j,W;W=C.exec(f);){var B=W[1],z=W[2];j=z[0]===" ",R+=B+(!N&&!j&&z!==""?`
`:"")+w(z,b),N=j}return R}function w(f,b){if(f===""||f[0]===" ")return f;for(var C=/ [^ ]/g,R,N=0,j,W=0,B=0,z="";R=C.exec(f);)B=R.index,B-N>b&&(j=W>N?W:B,z+=`
`+f.slice(N,j),N=j+1),W=B;return z+=`
`,f.length-N>b&&W>N?z+=f.slice(N,W)+`
`+f.slice(W+1):z+=f.slice(N),z.slice(1)}function M(f){for(var b="",C=0,R,N=0;N<f.length;C>=65536?N+=2:N++)C=Ie(f,N),R=K[C],!R&&Le(C)?(b+=f[N],C>=65536&&(b+=f[N+1])):b+=R||ge(C);return b}function A(f,b,C){var R="",N=f.tag,j,W,B;for(j=0,W=C.length;j<W;j+=1)B=C[j],f.replacer&&(B=f.replacer.call(C,String(j),B)),(ee(f,b,B,!1,!1)||typeof B>"u"&&ee(f,b,null,!1,!1))&&(R!==""&&(R+=","+(f.condenseFlow?"":" ")),R+=f.dump);f.tag=N,f.dump="["+R+"]"}function D(f,b,C,R){var N="",j=f.tag,W,B,z;for(W=0,B=C.length;W<B;W+=1)z=C[W],f.replacer&&(z=f.replacer.call(C,String(W),z)),(ee(f,b+1,z,!0,!0,!1,!0)||typeof z>"u"&&ee(f,b+1,null,!0,!0,!1,!0))&&((!R||N!=="")&&(N+=oe(f,b)),f.dump&&c===f.dump.charCodeAt(0)?N+="-":N+="- ",N+=f.dump);f.tag=j,f.dump=N||"[]"}function I(f,b,C){var R="",N=f.tag,j=Object.keys(C),W,B,z,Z,ae;for(W=0,B=j.length;W<B;W+=1)ae="",R!==""&&(ae+=", "),f.condenseFlow&&(ae+='"'),z=j[W],Z=C[z],f.replacer&&(Z=f.replacer.call(C,z,Z)),ee(f,b,z,!1,!1)&&(f.dump.length>1024&&(ae+="? "),ae+=f.dump+(f.condenseFlow?'"':"")+":"+(f.condenseFlow?"":" "),ee(f,b,Z,!1,!1)&&(ae+=f.dump,R+=ae));f.tag=N,f.dump="{"+R+"}"}function U(f,b,C,R){var N="",j=f.tag,W=Object.keys(C),B,z,Z,ae,se,ie;if(f.sortKeys===!0)W.sort();else if(typeof f.sortKeys=="function")W.sort(f.sortKeys);else if(f.sortKeys)throw new s("sortKeys must be a boolean or a function");for(B=0,z=W.length;B<z;B+=1)ie="",(!R||N!=="")&&(ie+=oe(f,b)),Z=W[B],ae=C[Z],f.replacer&&(ae=f.replacer.call(C,Z,ae)),ee(f,b+1,Z,!0,!0,!0)&&(se=f.tag!==null&&f.tag!=="?"||f.dump&&f.dump.length>1024,se&&(f.dump&&c===f.dump.charCodeAt(0)?ie+="?":ie+="? "),ie+=f.dump,se&&(ie+=oe(f,b)),ee(f,b+1,ae,!0,se)&&(f.dump&&c===f.dump.charCodeAt(0)?ie+=":":ie+=": ",ie+=f.dump,N+=ie));f.tag=j,f.dump=N||"{}"}function Q(f,b,C){var R,N,j,W,B,z;for(N=C?f.explicitTypes:f.implicitTypes,j=0,W=N.length;j<W;j+=1)if(B=N[j],(B.instanceOf||B.predicate)&&(!B.instanceOf||typeof b=="object"&&b instanceof B.instanceOf)&&(!B.predicate||B.predicate(b))){if(C?B.multi&&B.representName?f.tag=B.representName(b):f.tag=B.tag:f.tag="?",B.represent){if(z=f.styleMap[B.tag]||B.defaultStyle,a.call(B.represent)==="[object Function]")R=B.represent(b,z);else if(o.call(B.represent,z))R=B.represent[z](b,z);else throw new s("!<"+B.tag+'> tag resolver accepts not "'+z+'" style');f.dump=R}return!0}return!1}function ee(f,b,C,R,N,j,W){f.tag=null,f.dump=C,Q(f,C,!1)||Q(f,C,!0);var B=a.call(f.dump),z=R,Z;R&&(R=f.flowLevel<0||f.flowLevel>b);var ae=B==="[object Object]"||B==="[object Array]",se,ie;if(ae&&(se=f.duplicates.indexOf(C),ie=se!==-1),(f.tag!==null&&f.tag!=="?"||ie||f.indent!==2&&b>0)&&(N=!1),ie&&f.usedDuplicates[se])f.dump="*ref_"+se;else{if(ae&&ie&&!f.usedDuplicates[se]&&(f.usedDuplicates[se]=!0),B==="[object Object]")R&&Object.keys(f.dump).length!==0?(U(f,b,f.dump,N),ie&&(f.dump="&ref_"+se+f.dump)):(I(f,b,f.dump),ie&&(f.dump="&ref_"+se+" "+f.dump));else if(B==="[object Array]")R&&f.dump.length!==0?(f.noArrayIndent&&!W&&b>0?D(f,b-1,f.dump,N):D(f,b,f.dump,N),ie&&(f.dump="&ref_"+se+f.dump)):(A(f,b,f.dump),ie&&(f.dump="&ref_"+se+" "+f.dump));else if(B==="[object String]")f.tag!=="?"&&Nr(f,f.dump,b,j,z);else{if(B==="[object Undefined]")return!1;if(f.skipInvalid)return!1;throw new s("unacceptable kind of an object to dump "+B)}f.tag!==null&&f.tag!=="?"&&(Z=encodeURI(f.tag[0]==="!"?f.tag.slice(1):f.tag).replace(/!/g,"%21"),f.tag[0]==="!"?Z="!"+Z:Z.slice(0,18)==="tag:yaml.org,2002:"?Z="!!"+Z.slice(18):Z="!<"+Z+">",f.dump=Z+" "+f.dump)}return!0}function te(f,b){var C=[],R=[],N,j;for(G(f,C,R),N=0,j=R.length;N<j;N+=1)b.duplicates.push(C[R[N]]);b.usedDuplicates=new Array(j)}function G(f,b,C){var R,N,j;if(f!==null&&typeof f=="object")if(N=b.indexOf(f),N!==-1)C.indexOf(N)===-1&&C.push(N);else if(b.push(f),Array.isArray(f))for(N=0,j=f.length;N<j;N+=1)G(f[N],b,C);else for(R=Object.keys(f),N=0,j=R.length;N<j;N+=1)G(f[R[N]],b,C)}function ce(f,b){b=b||{};var C=new be(b);C.noRefs||te(f,C);var R=f;return C.replacer&&(R=C.replacer.call({"":R},"",R)),ee(C,0,R,!0,!0)?C.dump+`
`:""}return it.dump=ce,it}var Nn;function Pn(){if(Nn)return de;Nn=1;var t=fa(),s=da();function r(a,o){return function(){throw new Error("Function yaml."+a+" is removed in js-yaml 4. Use yaml."+o+" instead, which is now safe by default.")}}return de.Type=me(),de.Schema=Fi(),de.FAILSAFE_SCHEMA=Ii(),de.JSON_SCHEMA=Li(),de.CORE_SCHEMA=Mi(),de.DEFAULT_SCHEMA=$t(),de.load=t.load,de.loadAll=t.loadAll,de.dump=s.dump,de.YAMLException=er(),de.types={binary:Bi(),float:qi(),map:Pi(),null:ki(),pairs:Vi(),set:Yi(),timestamp:$i(),bool:ji(),int:Di(),merge:Ui(),omap:Hi(),seq:Ni(),str:Ti()},de.safeLoad=r("safeLoad","load"),de.safeLoadAll=r("safeLoadAll","loadAll"),de.safeDump=r("safeDump","dump"),de}var ot,In;function pa(){if(In)return ot;In=1;const{ParserError:t}=Te(),s=Pn(),{JSON_SCHEMA:r}=Pn();return ot={order:200,allowEmpty:!0,canParse:[".yaml",".yml",".json"],async parse(a){let o=a.data;if(re.Buffer.isBuffer(o)&&(o=o.toString()),typeof o=="string")try{return s.load(o,{schema:r})}catch(i){throw new t(i.message,a.url)}else return o}},ot}var at,kn;function ha(){if(kn)return at;kn=1;const{ParserError:t}=Te();let s=/\.(txt|htm|html|md|xml|js|min|map|css|scss|less|svg)$/i;return at={order:300,allowEmpty:!0,encoding:"utf8",canParse(r){return(typeof r.data=="string"||re.Buffer.isBuffer(r.data))&&s.test(r.url)},parse(r){if(typeof r.data=="string")return r.data;if(re.Buffer.isBuffer(r.data))return r.data.toString(this.encoding);throw new t("data is not text",r.url)}},at}var ut,jn;function ma(){if(jn)return ut;jn=1;let t=/\.(jpeg|jpg|gif|png|bmp|ico)$/i;return ut={order:400,allowEmpty:!0,canParse(s){return re.Buffer.isBuffer(s.data)&&t.test(s.url)},parse(s){return re.Buffer.isBuffer(s.data)?s.data:re.Buffer.from(s.data)}},ut}var va=null;const ga=Object.freeze(Object.defineProperty({__proto__:null,default:va},Symbol.toStringTag,{value:"Module"})),ya=Dt(ga);var st,Dn;function Sa(){if(Dn)return st;Dn=1;const t=ya,{ono:s}=$e,r=Re(),{ResolverError:a}=Te();return st={order:100,canRead(o){return r.isFileSystemPath(o.url)},read(o){return new Promise((i,u)=>{let c;try{c=r.toFileSystemPath(o.url)}catch(n){u(new a(s.uri(n,`Malformed URI: ${o.url}`),o.url))}try{t.readFile(c,(n,l)=>{n?u(new a(s(n,`Error opening file "${c}"`),c)):i(l)})}catch(n){u(new a(s(n,`Error opening file "${c}"`),c))}})}},st}var lt,qn;function xa(){if(qn)return lt;qn=1;const t=no(),s=io(),{ono:r}=$e,a=Re(),{ResolverError:o}=Te();lt={order:200,headers:null,timeout:5e3,redirects:5,withCredentials:!1,canRead(c){return a.isHttp(c.url)},read(c){let n=a.parse(c.url);return re.process.browser&&!n.protocol&&(n.protocol=a.parse(location.href).protocol),i(n,this)}};function i(c,n,l){return new Promise((d,h)=>{c=a.parse(c),l=l||[],l.push(c.href),u(c,n).then(p=>{if(p.statusCode>=400)throw r({status:p.statusCode},`HTTP ERROR ${p.statusCode}`);if(p.statusCode>=300)if(l.length>n.redirects)h(new o(r({status:p.statusCode},`Error downloading ${l[0]}. 
Too many redirects: 
  ${l.join(` 
  `)}`)));else if(p.headers.location){let v=a.resolve(c,p.headers.location);i(v,n,l).then(d,h)}else throw r({status:p.statusCode},`HTTP ${p.statusCode} redirect with no location header`);else d(p.body||re.Buffer.alloc(0))}).catch(p=>{h(new o(r(p,`Error downloading ${c.href}`),c.href))})})}function u(c,n){return new Promise((l,d)=>{let p=(c.protocol==="https:"?s:t).get({hostname:c.hostname,port:c.port,path:c.path,auth:c.auth,protocol:c.protocol,headers:n.headers||{},withCredentials:n.withCredentials});typeof p.setTimeout=="function"&&p.setTimeout(n.timeout),p.on("timeout",()=>{p.abort()}),p.on("error",d),p.once("response",v=>{v.body=re.Buffer.alloc(0),v.on("data",m=>{v.body=re.Buffer.concat([v.body,re.Buffer.from(m)])}),v.on("error",d),v.on("end",()=>{l(v)})})})}return lt}var ct,Ln;function Ea(){if(Ln)return ct;Ln=1;const t=la(),s=pa(),r=ha(),a=ma(),o=Sa(),i=xa();ct=u;function u(l){c(this,u.defaults),c(this,l)}u.defaults={parse:{json:t,yaml:s,text:r,binary:a},resolve:{file:o,http:i,external:!0},continueOnError:!1,dereference:{circular:!0,excludedPathMatcher:()=>!1}};function c(l,d){if(n(d)){let h=Object.keys(d);for(let p=0;p<h.length;p++){let v=h[p],m=d[v],y=l[v];n(m)?l[v]=c(y||{},m):m!==void 0&&(l[v]=m)}}return l}function n(l){return l&&typeof l=="object"&&!Array.isArray(l)&&!(l instanceof RegExp)&&!(l instanceof Date)}return ct}var ft,Mn;function ba(){if(Mn)return ft;Mn=1;const t=Ea();ft=s;function s(r){let a,o,i,u;return r=Array.prototype.slice.call(r),typeof r[r.length-1]=="function"&&(u=r.pop()),typeof r[0]=="string"?(a=r[0],typeof r[2]=="object"?(o=r[1],i=r[2]):(o=void 0,i=r[1])):(a="",o=r[0],i=r[1]),i instanceof t||(i=new t(i)),{path:a,schema:o,options:i,callback:u}}return ft}var dt,$n;function _a(){if($n)return dt;$n=1;const t=Qe(),s=Or(),r=Ci(),a=Re(),{isHandledError:o}=Te();dt=i;function i(n,l){if(!l.resolve.external)return Promise.resolve();try{let d=u(n.schema,n.$refs._root$Ref.path+"#",n.$refs,l);return Promise.all(d)}catch(d){return Promise.reject(d)}}function u(n,l,d,h,p){p=p||new Set;let v=[];if(n&&typeof n=="object"&&!ArrayBuffer.isView(n)&&!p.has(n))if(p.add(n),t.isExternal$Ref(n))v.push(c(n,l,d,h));else for(let m of Object.keys(n)){let y=s.join(l,m),g=n[m];t.isExternal$Ref(g)?v.push(c(g,y,d,h)):v=v.concat(u(g,y,d,h,p))}return v}async function c(n,l,d,h){let p=a.resolve(l,n.$ref),v=a.stripHash(p);if(n=d._$refs[v],n)return Promise.resolve(n.value);try{const m=await r(p,d,h);let y=u(m,v+"#",d,h);return Promise.all(y)}catch(m){if(!h.continueOnError||!o(m))throw m;return d._$refs[v]&&(m.source=decodeURI(a.stripHash(l)),m.path=a.safePointerToPath(a.getHash(l))),[]}}return dt}var pt,Un;function wa(){if(Un)return pt;Un=1;const t=Qe(),s=Or(),r=Re();pt=a;function a(l,d){let h=[];o(l,"schema",l.$refs._root$Ref.path+"#","#",0,h,l.$refs,d),u(h)}function o(l,d,h,p,v,m,y,g){let _=d===null?l:l[d];if(_&&typeof _=="object"&&!ArrayBuffer.isView(_))if(t.isAllowed$Ref(_))i(l,d,h,p,v,m,y,g);else{let O=Object.keys(_).sort((F,L)=>F==="definitions"?-1:L==="definitions"?1:F.length-L.length);for(let F of O){let L=s.join(h,F),P=s.join(p,F),V=_[F];t.isAllowed$Ref(V)?i(_,F,h,P,v,m,y,g):o(_,F,L,P,v,m,y,g)}}}function i(l,d,h,p,v,m,y,g){let _=d===null?l:l[d],O=r.resolve(h,_.$ref),F=y._resolve(O,p,g);if(F===null)return;let L=s.parse(p).length,P=r.stripHash(F.path),V=r.getHash(F.path),q=P!==y._root$Ref.path,H=t.isExtended$Ref(_);v+=F.indirections;let T=c(m,l,d);if(T)if(L<T.depth||v<T.indirections)n(m,T);else return;m.push({$ref:_,parent:l,key:d,pathFromRoot:p,depth:L,file:P,hash:V,value:F.value,circular:F.circular,extended:H,external:q,indirections:v}),T||o(F.value,null,F.path,p,v+1,m,y,g)}function u(l){l.sort((v,m)=>{if(v.file!==m.file)return v.file<m.file?-1:1;if(v.hash!==m.hash)return v.hash<m.hash?-1:1;if(v.circular!==m.circular)return v.circular?-1:1;if(v.extended!==m.extended)return v.extended?1:-1;if(v.indirections!==m.indirections)return v.indirections-m.indirections;if(v.depth!==m.depth)return v.depth-m.depth;{let y=v.pathFromRoot.lastIndexOf("/definitions"),g=m.pathFromRoot.lastIndexOf("/definitions");return y!==g?g-y:v.pathFromRoot.length-m.pathFromRoot.length}});let d,h,p;for(let v of l)v.external?v.file===d&&v.hash===h?v.$ref.$ref=p:v.file===d&&v.hash.indexOf(h+"/")===0?v.$ref.$ref=s.join(p,s.parse(v.hash.replace(h,"#"))):(d=v.file,h=v.hash,p=v.pathFromRoot,v.$ref=v.parent[v.key]=t.dereference(v.$ref,v.value),v.circular&&(v.$ref.$ref=v.pathFromRoot)):v.$ref.$ref=v.hash}function c(l,d,h){for(let p=0;p<l.length;p++){let v=l[p];if(v.parent===d&&v.key===h)return v}}function n(l,d){let h=l.indexOf(d);l.splice(h,1)}return pt}var ht,Bn;function Aa(){if(Bn)return ht;Bn=1;const t=Qe(),s=Or(),{ono:r}=$e,a=Re();ht=o;function o(n,l){let d=i(n.schema,n.$refs._root$Ref.path,"#",new Set,new Set,new Map,n.$refs,l);n.$refs.circular=d.circular,n.schema=d.value}function i(n,l,d,h,p,v,m,y){let g,_={value:n,circular:!1},O=y.dereference.excludedPathMatcher;if((y.dereference.circular==="ignore"||!p.has(n))&&n&&typeof n=="object"&&!ArrayBuffer.isView(n)&&!O(d)){if(h.add(n),p.add(n),t.isAllowed$Ref(n,y))g=u(n,l,d,h,p,v,m,y),_.circular=g.circular,_.value=g.value;else for(const F of Object.keys(n)){let L=s.join(l,F),P=s.join(d,F);if(O(P))continue;let V=n[F],q=!1;t.isAllowed$Ref(V,y)?(g=u(V,L,P,h,p,v,m,y),q=g.circular,n[F]!==g.value&&(n[F]=g.value)):h.has(V)?q=c(L,m,y):(g=i(V,L,P,h,p,v,m,y),q=g.circular,n[F]!==g.value&&(n[F]=g.value)),_.circular=_.circular||q}h.delete(n)}return _}function u(n,l,d,h,p,v,m,y){let g=a.resolve(l,n.$ref);const _=v.get(g);if(_){const q=Object.keys(n);if(q.length>1){const H={};for(let T of q)T!=="$ref"&&!(T in _.value)&&(H[T]=n[T]);return{circular:_.circular,value:Object.assign({},_.value,H)}}return _}let O=m._resolve(g,l,y);if(O===null)return{circular:!1,value:null};let F=O.circular,L=F||h.has(O.value);L&&c(l,m,y);let P=t.dereference(n,O.value);if(!L){let q=i(P,O.path,d,h,p,v,m,y);L=q.circular,P=q.value}L&&!F&&y.dereference.circular==="ignore"&&(P=n),F&&(P.$ref=d);const V={circular:L,value:P};return Object.keys(n).length===1&&v.set(g,V),V}function c(n,l,d){if(l.circular=!0,!d.dereference.circular)throw r.reference(`Circular $ref pointer found at ${n}`);return!0}return ht}var mt,Hn;function Ra(){if(Hn)return mt;Hn=1;function t(){return typeof re.process=="object"&&typeof re.process.nextTick=="function"?re.process.nextTick:typeof setImmediate=="function"?setImmediate:function(r){setTimeout(r,0)}}return mt=t(),mt}var vt,Vn;function Oa(){if(Vn)return vt;Vn=1;var t=Ra();return vt=function(r,a){if(r){a.then(function(o){t(function(){r(null,o)})},function(o){t(function(){r(o)})});return}else return a},vt}var Yn;function Ca(){if(Yn)return _e.exports;Yn=1;const t=ua(),s=Ci(),r=ba(),a=_a(),o=wa(),i=Aa(),u=Re(),{JSONParserError:c,InvalidPointerError:n,MissingPointerError:l,ResolverError:d,ParserError:h,UnmatchedParserError:p,UnmatchedResolverError:v,isHandledError:m,JSONParserErrorGroup:y}=Te(),g=Oa(),{ono:_}=$e;_e.exports=O,_e.exports.default=O,_e.exports.JSONParserError=c,_e.exports.InvalidPointerError=n,_e.exports.MissingPointerError=l,_e.exports.ResolverError=d,_e.exports.ParserError=h,_e.exports.UnmatchedParserError=p,_e.exports.UnmatchedResolverError=v;function O(){this.schema=null,this.$refs=new t}O.parse=function(P,V,q,H){let T=this,E=new T;return E.parse.apply(E,arguments)},O.prototype.parse=async function(P,V,q,H){let T=r(arguments),E;if(!T.path&&!T.schema){let Y=_(`Expected a file path, URL, or object. Got ${T.path||T.schema}`);return g(T.callback,Promise.reject(Y))}this.schema=null,this.$refs=new t;let k="http";if(u.isFileSystemPath(T.path)&&(T.path=u.fromFileSystemPath(T.path),k="file"),T.path=u.resolve(u.cwd(),T.path),T.schema&&typeof T.schema=="object"){let Y=this.$refs._add(T.path);Y.value=T.schema,Y.pathType=k,E=Promise.resolve(T.schema)}else E=s(T.path,this.$refs,T.options);let J=this;try{let Y=await E;if(Y!==null&&typeof Y=="object"&&!re.Buffer.isBuffer(Y))return J.schema=Y,g(T.callback,Promise.resolve(J.schema));if(T.options.continueOnError)return J.schema=null,g(T.callback,Promise.resolve(J.schema));throw _.syntax(`"${J.$refs._root$Ref.path||Y}" is not a valid JSON Schema`)}catch(Y){return!T.options.continueOnError||!m(Y)?g(T.callback,Promise.reject(Y)):(this.$refs._$refs[u.stripHash(T.path)]&&this.$refs._$refs[u.stripHash(T.path)].addError(Y),g(T.callback,Promise.resolve(null)))}},O.resolve=function(P,V,q,H){let T=this,E=new T;return E.resolve.apply(E,arguments)},O.prototype.resolve=async function(P,V,q,H){let T=this,E=r(arguments);try{return await this.parse(E.path,E.schema,E.options),await a(T,E.options),F(T),g(E.callback,Promise.resolve(T.$refs))}catch(k){return g(E.callback,Promise.reject(k))}},O.bundle=function(P,V,q,H){let T=this,E=new T;return E.bundle.apply(E,arguments)},O.prototype.bundle=async function(P,V,q,H){let T=this,E=r(arguments);try{return await this.resolve(E.path,E.schema,E.options),o(T,E.options),F(T),g(E.callback,Promise.resolve(T.schema))}catch(k){return g(E.callback,Promise.reject(k))}},O.dereference=function(P,V,q,H){let T=this,E=new T;return E.dereference.apply(E,arguments)},O.prototype.dereference=async function(P,V,q,H){let T=this,E=r(arguments);try{return await this.resolve(E.path,E.schema,E.options),i(T,E.options),F(T),g(E.callback,Promise.resolve(T.schema))}catch(k){return g(E.callback,Promise.reject(k))}};function F(L){if(y.getParserErrors(L).length>0)throw new y(L)}return _e.exports}var Fa=Ca();const Ta=ro(Fa);function Rt(t){const s=ao(t.shouldBlock);return t.children(s)}try{Rt.displayName="Blocker",Rt.__docgenInfo={description:"Component wrapper for react-router `useBlocker` hook where the blocker is passed as a render prop. Use the hook when possible.",displayName:"Blocker",props:{shouldBlock:{defaultValue:null,description:"",name:"shouldBlock",required:!0,type:{name:"boolean | BlockerFunction"}}}}}catch{}var Se={},Oe={},cr={},Xe=typeof Symbol=="function"?Symbol("curriable placeholder"):60881;function Na(t,s){function r(a){return function(){var o=a.length,i=arguments,u=i.length,c=[],n=0,l=s,d;if(o)for(var h=-1;++h<o;)c[h]=d=a[h]===Xe&&n<u?i[n++]:a[h],d!==Xe&&--l;if(n<u)for(;n<u;)c[c.length]=d=i[n],d!==Xe&&n<s&&--l,++n;return l>0?r(c):t.apply(this,c)}}return r([])}function Ue(t,s){var r=typeof s=="number"?s:t.length,a=Na(t,r);return a.arity=r,a.fn=t,a}Ue.__=Xe;function Pa(t){return t===Xe}Ue.isPlaceholder=Pa;function Ia(t){return t.fn}Ue.uncurry=Ia;var fr,dr,we,Ye,ka=typeof re.Buffer<"u"&&typeof re.Buffer.from=="function",ja=typeof Uint16Array=="function",Da=/\[object (HTML(.*)Element)\]/,qa=/\[object (SVG(.*)Element)\]/,La=["Arguments","Array","ArrayBuffer","Boolean","DataView","Date","DocumentFragment","Error","Event","Float32Array","Float64Array","Function","Generator","GeneratorFunction","HTMLElement","Int8Array","Int16Array","Int32Array","Map","Null","Number","Object","Promise","RegExp","Set","String","Symbol","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","Undefined","WeakMap","WeakSet","Window"],Ce=La.reduce(function(t,s){return t["[object "+s+"]"]=s,t},{}),ne=Object.keys(Ce).reduce(function(t,s){return t[Ce[s].toUpperCase()]=s,t},{}),Ma={"[object Map]":!0,"[object Set]":!0},$a={boolean:!0,function:!0,number:!0,string:!0,undefined:!0},Ua=(fr={},fr[ne.ARGUMENTS]=!0,fr[ne.ARRAY]=!0,fr),Ba=(dr={},dr[ne.REGEXP]=!0,dr[ne.SYMBOL]=!0,dr),Ha=(we={},we[ne.FLOAT32ARRAY]=!0,we[ne.FLOAT64ARRAY]=!0,we[ne.INT8ARRAY]=!0,we[ne.INT16ARRAY]=!0,we[ne.INT32ARRAY]=!0,we[ne.UINT8ARRAY]=!0,we[ne.UINT8CLAMPEDARRAY]=!0,we[ne.UINT16ARRAY]=!0,we[ne.UINT32ARRAY]=!0,we),Va=(Ye={},Ye[ne.GENERATOR]=!0,Ye[ne.PROMISE]=!0,Ye[ne.WEAKMAP]=!0,Ye[ne.WEAKSET]=!0,Ye),Ya=/^\s*function\s*([^(]*)/i,Wi=Object.prototype.toString,Wa=Object.keys;function Ga(t){return t.name||(t.toString().match(Ya)||[])[1]||"anonymous"}function za(t){for(var s=t.length,r=5381,a=52711,o;s--;)o=t.charCodeAt(s),r=r*33^o,a=a*33^o;return(r>>>0)*4096+(a>>>0)}function Ja(t){return{bubbles:t.bubbles,cancelBubble:t.cancelBubble,cancelable:t.cancelable,composed:t.composed,currentTarget:t.currentTarget,defaultPrevented:t.defaultPrevented,eventPhase:t.eventPhase,isTrusted:t.isTrusted,returnValue:t.returnValue,target:t.target,type:t.type}}function Gi(t,s){return t>s}function Ka(t,s){return t[0]>s[0]}function Ot(t,s){for(var r,a,o=0;o<t.length;++o){for(a=t[o],r=o-1;~r&&s(t[r],a);--r)t[r+1]=t[r];t[r+1]=a}return t}function Xa(t,s,r){var a=typeof t.get=="function",o=[];a?(t.forEach(function(l,d){o.push([wr(d,s,r),wr(l,s,r)])}),Ot(o,Ka)):(t.forEach(function(l){o.push(wr(l,s,r))}),Ot(o,Gi));for(var i=Ga(t.constructor)+"|[",u=0,c=o.length,n;u<c;++u)n=o[u],i+=(u?",":"")+(a?"["+n[0]+","+n[1]+"]":n);return i+"]"}function Qa(t){for(var s=Ot(Wa(t),Gi),r={},a,o=0;o<s.length;++o)a=s[o],r[a]=t[a];return r}function Za(t){return String.fromCharCode.apply(null,new Uint16Array(t))}function eu(t){return re.Buffer.from(t).toString("utf8")}function ru(){return""}var Wn=function(){return ka?eu:ja?Za:ru}();function tu(t){for(var s=t.children,r="",a=0;a<s.length;++a)r+=s[a].outerHTML;return r}function Gn(t,s){for(var r=0;r<t.length;++r)if(t[r]===s)return r+1;return 0}function Rr(t,s,r,a){if(a===void 0){var o=typeof t;if(o==="string"||$a[o])return o+"|"+t;if(t===null)return"null|"+t}var i=a||Wi.call(t);return Ua[i]?t:i===ne.OBJECT?Qa(t):Ba[i]?Ce[i]+"|"+t.toString():Ma[i]?Xa(t,s,r):i===ne.DATE?Ce[i]+"|"+t.getTime():i===ne.ERROR?Ce[i]+"|"+t.stack:i===ne.EVENT?Ja(t):Va[i]?Ce[i]+"|NOT_ENUMERABLE":Da.test(i)||qa.test(i)?i.slice(8,-1)+"|"+t.outerHTML:i===ne.DOCUMENTFRAGMENT?Ce[i]+"|"+tu(t):Ha[i]?Ce[i]+"|"+t.join(","):i===ne.ARRAYBUFFER?Ce[i]+"|"+Wn(t):i===ne.DATAVIEW?Ce[i]+"|"+Wn(t.buffer):t}function nu(t,s){return t===void 0&&(t=[]),s===void 0&&(s=[]),function(r,a){if(typeof a=="object")if(t.length){var o=Gn(t,this);o===0?t.push(this):(t.splice(o),s.splice(o)),s.push(r);var i=Gn(t,a);if(i!==0)return"[~"+(s.slice(0,i).join(".")||".")+"]";t.push(a)}else t[0]=a,s[0]=r;return r&&this[r]instanceof Date?Rr(this[r],t,s,ne.DATE):Rr(a,t,s)}}function wr(t,s,r){if(!t||typeof t!="object")return Rr(t,s,r);var a=Wi.call(t);return a===ne.DATE||a===ne.REGEXP?Rr(t,s,r,a):JSON.stringify(t,nu(s,r))}function xe(t){return za(wr(t))}xe.is=Ue(function(t,s){return xe(t)===xe(s)});xe.is.all=Ue(function(t){for(var s=xe.is(t),r=1;r<arguments.length;++r)if(!s(arguments[r]))return!1;return!0},2);xe.is.any=Ue(function(t){for(var s=xe.is(t),r=1;r<arguments.length;r++)if(s(arguments[r]))return!0;return!1},2);xe.is.not=Ue(function(t,s){return xe(t)!==xe(s)});const iu=Object.freeze(Object.defineProperty({__proto__:null,default:xe,hash:xe},Symbol.toStringTag,{value:"Module"})),ou=Dt(iu);var zn;function Ut(){if(zn)return cr;zn=1,Object.defineProperty(cr,"__esModule",{value:!0});var t=function(){function u(c,n){for(var l=0;l<n.length;l++){var d=n[l];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}return function(c,n,l){return n&&u(c.prototype,n),l&&u(c,l),c}}(),s=ou,r=a(s);function a(u){return u&&u.__esModule?u:{default:u}}function o(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}var i=function(){function u(c,n,l){o(this,u),this.id=c;var d={cache:!0};if(typeof l>"u"&&(l=d),typeof n!="function"?(this.value=n,this.type=this.constructor.CONSTANT):(this.calculationMethod=n,this.type=this.constructor.DYNAMIC),!this.id)throw new Error("factId required");if(typeof this.value>"u"&&typeof this.calculationMethod>"u")throw new Error("facts must have a value or method");return this.priority=parseInt(l.priority||1,10),this.options=Object.assign({},d,l),this.cacheKeyMethod=this.defaultCacheKeys,this}return t(u,[{key:"isConstant",value:function(){return this.type===this.constructor.CONSTANT}},{key:"isDynamic",value:function(){return this.type===this.constructor.DYNAMIC}},{key:"calculate",value:function(n,l){return this.hasOwnProperty("value")?this.value:this.calculationMethod(n,l)}},{key:"defaultCacheKeys",value:function(n,l){return{params:l,id:n}}},{key:"getCacheKey",value:function(n){if(this.options.cache===!0){var l=this.cacheKeyMethod(this.id,n),d=u.hashFromObject(l);return d}}}],[{key:"hashFromObject",value:function(n){return(0,r.default)(n)}}]),u}();return i.CONSTANT="CONSTANT",i.DYNAMIC="DYNAMIC",cr.default=i,cr}var pr={},hr={},mr={},Jn;function Cr(){if(Jn)return mr;Jn=1;var t={};Object.defineProperty(mr,"__esModule",{value:!0}),mr.default=s;function s(r){(typeof re.process<"u"&&t&&t.DEBUG&&t.DEBUG.match(/json-rules-engine/)||typeof window<"u"&&window.localStorage&&window.localStorage.debug&&window.localStorage.debug.match(/json-rules-engine/))&&console.log(r)}return mr}var gt,Kn;function zi(){if(Kn)return gt;Kn=1;function t(s){return!!s&&typeof s=="object"}return gt=t,gt}var Xn;function au(){if(Xn)return hr;Xn=1,Object.defineProperty(hr,"__esModule",{value:!0});var t=function(){function n(l,d){for(var h=0;h<d.length;h++){var p=d[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,d,h){return d&&n(l.prototype,d),h&&n(l,h),l}}(),s=Cr(),r=i(s),a=zi(),o=i(a);function i(n){return n&&n.__esModule?n:{default:n}}function u(n,l){if(!(n instanceof l))throw new TypeError("Cannot call a class as a function")}var c=function(){function n(l){if(u(this,n),!l)throw new Error("Condition: constructor options required");var d=n.booleanOperator(l);if(Object.assign(this,l),d){var h=l[d];if(!Array.isArray(h))throw new Error('"'+d+'" must be an array');this.operator=d,this.priority=parseInt(l.priority,10)||1,this[d]=h.map(function(p){return new n(p)})}else{if(!l.hasOwnProperty("fact"))throw new Error('Condition: constructor "fact" property required');if(!l.hasOwnProperty("operator"))throw new Error('Condition: constructor "operator" property required');if(!l.hasOwnProperty("value"))throw new Error('Condition: constructor "value" property required');l.hasOwnProperty("priority")&&(l.priority=parseInt(l.priority,10))}}return t(n,[{key:"toJSON",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,h={};this.priority&&(h.priority=this.priority);var p=n.booleanOperator(this);return p?h[p]=this[p].map(function(v){return v.toJSON(d)}):(h.operator=this.operator,h.value=this.value,h.fact=this.fact,this.factResult!==void 0&&(h.factResult=this.factResult),this.result!==void 0&&(h.result=this.result),this.params&&(h.params=this.params),this.path&&(h.path=this.path)),d?JSON.stringify(h):h}},{key:"_getValue",value:function(d){var h=this.value;return(0,o.default)(h)&&h.hasOwnProperty("fact")?d.factValue(h.fact,h.params,h.path):Promise.resolve(h)}},{key:"evaluate",value:function(d,h){var p=this;if(!d)return Promise.reject(new Error("almanac required"));if(!h)return Promise.reject(new Error("operatorMap required"));if(this.isBooleanOperator())return Promise.reject(new Error("Cannot evaluate() a boolean condition"));var v=h.get(this.operator);return v?this._getValue(d).then(function(m){return d.factValue(p.fact,p.params,p.path).then(function(y){var g=v.evaluate(y,m);return(0,r.default)("condition::evaluate <"+y+" "+p.operator+" "+m+"?> ("+g+")"),{result:g,leftHandSideValue:y,rightHandSideValue:m,operator:p.operator}})}):Promise.reject(new Error("Unknown operator: "+this.operator))}},{key:"booleanOperator",value:function(){return n.booleanOperator(this)}},{key:"isBooleanOperator",value:function(){return n.booleanOperator(this)!==void 0}}],[{key:"booleanOperator",value:function(d){if(d.hasOwnProperty("any"))return"any";if(d.hasOwnProperty("all"))return"all"}}]),n}();return hr.default=c,hr}var vr={},yt={exports:{}},Qn;function uu(){return Qn||(Qn=1,function(t){var s=function(){function r(p,v){return v!=null&&p instanceof v}var a;try{a=Map}catch{a=function(){}}var o;try{o=Set}catch{o=function(){}}var i;try{i=Promise}catch{i=function(){}}function u(p,v,m,y,g){typeof v=="object"&&(m=v.depth,y=v.prototype,g=v.includeNonEnumerable,v=v.circular);var _=[],O=[],F=typeof re.Buffer<"u";typeof v>"u"&&(v=!0),typeof m>"u"&&(m=1/0);function L(P,V){if(P===null)return null;if(V===0)return P;var q,H;if(typeof P!="object")return P;if(r(P,a))q=new a;else if(r(P,o))q=new o;else if(r(P,i))q=new i(function(le,ge){P.then(function(ue){le(L(ue,V-1))},function(ue){ge(L(ue,V-1))})});else if(u.__isArray(P))q=[];else if(u.__isRegExp(P))q=new RegExp(P.source,h(P)),P.lastIndex&&(q.lastIndex=P.lastIndex);else if(u.__isDate(P))q=new Date(P.getTime());else{if(F&&re.Buffer.isBuffer(P))return re.Buffer.allocUnsafe?q=re.Buffer.allocUnsafe(P.length):q=new re.Buffer(P.length),P.copy(q),q;r(P,Error)?q=Object.create(P):typeof y>"u"?(H=Object.getPrototypeOf(P),q=Object.create(H)):(q=Object.create(y),H=y)}if(v){var T=_.indexOf(P);if(T!=-1)return O[T];_.push(P),O.push(q)}r(P,a)&&P.forEach(function(le,ge){var ue=L(ge,V-1),he=L(le,V-1);q.set(ue,he)}),r(P,o)&&P.forEach(function(le){var ge=L(le,V-1);q.add(ge)});for(var E in P){var k;H&&(k=Object.getOwnPropertyDescriptor(H,E)),!(k&&k.set==null)&&(q[E]=L(P[E],V-1))}if(Object.getOwnPropertySymbols)for(var J=Object.getOwnPropertySymbols(P),E=0;E<J.length;E++){var Y=J[E],K=Object.getOwnPropertyDescriptor(P,Y);K&&!K.enumerable&&!g||(q[Y]=L(P[Y],V-1),K.enumerable||Object.defineProperty(q,Y,{enumerable:!1}))}if(g)for(var Ee=Object.getOwnPropertyNames(P),E=0;E<Ee.length;E++){var $=Ee[E],K=Object.getOwnPropertyDescriptor(P,$);K&&K.enumerable||(q[$]=L(P[$],V-1),Object.defineProperty(q,$,{enumerable:!1}))}return q}return L(p,m)}u.clonePrototype=function(v){if(v===null)return null;var m=function(){};return m.prototype=v,new m};function c(p){return Object.prototype.toString.call(p)}u.__objToStr=c;function n(p){return typeof p=="object"&&c(p)==="[object Date]"}u.__isDate=n;function l(p){return typeof p=="object"&&c(p)==="[object Array]"}u.__isArray=l;function d(p){return typeof p=="object"&&c(p)==="[object RegExp]"}u.__isRegExp=d;function h(p){var v="";return p.global&&(v+="g"),p.ignoreCase&&(v+="i"),p.multiline&&(v+="m"),v}return u.__getRegExpFlags=h,u}();t.exports&&(t.exports=s)}(yt)),yt.exports}var Zn;function su(){if(Zn)return vr;Zn=1,Object.defineProperty(vr,"__esModule",{value:!0});var t=function(){function u(c,n){for(var l=0;l<n.length;l++){var d=n[l];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}return function(c,n,l){return n&&u(c.prototype,n),l&&u(c,l),c}}(),s=uu(),r=a(s);function a(u){return u&&u.__esModule?u:{default:u}}function o(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}var i=function(){function u(c,n,l,d){o(this,u),this.conditions=(0,r.default)(c),this.event=(0,r.default)(n),this.priority=(0,r.default)(l),this.name=(0,r.default)(d),this.result=null}return t(u,[{key:"setResult",value:function(n){this.result=n}},{key:"toJSON",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,l={conditions:this.conditions.toJSON(!1),event:this.event,priority:this.priority,name:this.name,result:this.result};return n?JSON.stringify(l):l}}]),u}();return vr.default=i,vr}var ei;function Ji(){if(ei)return pr;ei=1,Object.defineProperty(pr,"__esModule",{value:!0});var t=function(){function v(m,y){for(var g=0;g<y.length;g++){var _=y[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,y,g){return y&&v(m.prototype,y),g&&v(m,g),m}}(),s=au(),r=n(s),a=su(),o=n(a),i=yi(),u=Cr(),c=n(u);function n(v){return v&&v.__esModule?v:{default:v}}function l(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}function d(v,m){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:v}function h(v,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);v.prototype=Object.create(m&&m.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(v,m):v.__proto__=m)}var p=function(v){h(m,v);function m(y){l(this,m);var g=d(this,(m.__proto__||Object.getPrototypeOf(m)).call(this));typeof y=="string"&&(y=JSON.parse(y)),y&&y.conditions&&g.setConditions(y.conditions),y&&y.onSuccess&&g.on("success",y.onSuccess),y&&y.onFailure&&g.on("failure",y.onFailure),y&&(y.name||y.name===0)&&g.setName(y.name);var _=y&&y.priority||1;g.setPriority(_);var O=y&&y.event||{type:"unknown"};return g.setEvent(O),g}return t(m,[{key:"setPriority",value:function(g){if(g=parseInt(g,10),g<=0)throw new Error("Priority must be greater than zero");return this.priority=g,this}},{key:"setName",value:function(g){if(!g&&g!==0)throw new Error('Rule "name" must be defined');return this.name=g,this}},{key:"setConditions",value:function(g){if(!g.hasOwnProperty("all")&&!g.hasOwnProperty("any"))throw new Error('"conditions" root must contain a single instance of "all" or "any"');return this.conditions=new r.default(g),this}},{key:"setEvent",value:function(g){if(!g)throw new Error("Rule: setEvent() requires event object");if(!g.hasOwnProperty("type"))throw new Error('Rule: setEvent() requires event object with "type" property');return this.event={type:g.type},g.params&&(this.event.params=g.params),this}},{key:"setEngine",value:function(g){return this.engine=g,this}},{key:"toJSON",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,_={conditions:this.conditions.toJSON(!1),priority:this.priority,event:this.event,name:this.name};return g?JSON.stringify(_):_}},{key:"prioritizeConditions",value:function(g){var _=this,O=g.reduce(function(F,L){var P=L.priority;if(!P){var V=_.engine.getFact(L.fact);P=V&&V.priority||1}return F[P]||(F[P]=[]),F[P].push(L),F},{});return Object.keys(O).sort(function(F,L){return Number(F)>Number(L)?-1:1}).map(function(F){return O[F]})}},{key:"evaluate",value:function(g){var _=this,O=new o.default(this.conditions,this.event,this.priority,this.name),F=function(E){if(E.isBooleanOperator()){var k=E[E.operator],J=void 0;return E.operator==="all"?J=q(k):J=V(k),J.then(function(Y){var K=Y===!0;return E.result=K,K})}else return E.evaluate(g,_.engine.operators).then(function(Y){var K=Y.result;return E.factResult=Y.leftHandSideValue,E.result=K,K})},L=function(E,k){return Array.isArray(E)||(E=[E]),Promise.all(E.map(function(J){return F(J)})).then(function(J){return(0,c.default)("rule::evaluateConditions results",J),k.call(J,function(Y){return Y===!0})})},P=function(E,k){if(E.length===0)return Promise.resolve(!0);var J=Array.prototype.some;k==="all"&&(J=Array.prototype.every);for(var Y=_.prioritizeConditions(E),K=Promise.resolve(),Ee=function(ge){var ue=Y[ge],he=!1;K=K.then(function(be){return k==="any"&&be===!0||he?((0,c.default)("prioritizeAndRun::detected truthy result; skipping remaining conditions"),he=!0,!0):k==="all"&&be===!1||he?((0,c.default)("prioritizeAndRun::detected falsey result; skipping remaining conditions"),he=!0,!1):L(ue,J)})},$=0;$<Y.length;$++)Ee($);return K},V=function(E){return P(E,"any")},q=function(E){return P(E,"all")},H=function(E){return O.setResult(E),E?_.emit("success",O.event,g,O):_.emit("failure",O.event,g,O),O};return O.conditions.any?V(O.conditions.any).then(function(T){return H(T)}):q(O.conditions.all).then(function(T){return H(T)})}}]),m}(i.EventEmitter);return pr.default=p,pr}var gr={},ri;function Bt(){if(ri)return gr;ri=1,Object.defineProperty(gr,"__esModule",{value:!0});var t=function(){function a(o,i){for(var u=0;u<i.length;u++){var c=i[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,i,u){return i&&a(o.prototype,i),u&&a(o,u),o}}();function s(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}var r=function(){function a(o,i,u){if(s(this,a),this.name=String(o),!o)throw new Error("Missing operator name");if(typeof i!="function")throw new Error("Missing operator callback");this.cb=i,this.factValueValidator=u,this.factValueValidator||(this.factValueValidator=function(){return!0})}return t(a,[{key:"evaluate",value:function(i,u){return this.factValueValidator(i)&&this.cb(i,u)}}]),a}();return gr.default=r,gr}var yr={},Sr={},ti;function lu(){if(ti)return Sr;ti=1,Object.defineProperty(Sr,"__esModule",{value:!0});function t(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}function s(a,o){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:a}function r(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(a,o):a.__proto__=o)}return Sr.UndefinedFactError=function(a){r(o,a);function o(){var i;t(this,o);for(var u=arguments.length,c=Array(u),n=0;n<u;n++)c[n]=arguments[n];var l=s(this,(i=o.__proto__||Object.getPrototypeOf(o)).call.apply(i,[this].concat(c)));return l.code="UNDEFINED_FACT",l}return o}(Error),Sr}var St,ni;function cu(){return ni||(ni=1,St=function(t){var s=this,r;if(arguments.length<2)r=function(){if(this instanceof r){var i=s.apply(this,arguments);return Object(i)===i?i:this}else return s.apply(t,arguments)};else{for(var a=new Array(arguments.length-1),o=1;o<arguments.length;o++)a[o-1]=arguments[o];r=function(){var i=a.length,u=new Array(i+arguments.length),c;for(c=0;c<i;c++)u[c]=a[c];for(c=0;c<arguments.length;c++)u[i+c]=arguments[c];if(this instanceof r){var n=s.apply(this,u);return Object(n)===n?n:this}else return s.apply(t,u)}}return r.prototype=s.prototype,r}),St}var xt,ii;function fu(){if(ii)return xt;ii=1;/*!
 * imports.
 */var t=Function.prototype.bind||cu();/*!
 * exports.
 */xt=s;function s(r,a){var o=function(){return arguments.length===0?o:arguments.length>1?r.apply(a,arguments):t.call(r,a,arguments[0])};return o.uncurry=function(){return r},o}return xt}var Et,oi;function du(){if(oi)return Et;oi=1;/*!
 * exports.
 */Et=r;/*!
 * regexp patterns.
 */var t=/\[([^\[\]]+)\]/g,s=/^[.]*|[.]*$/g;function r(a){return{}.toString.call(a)=="[object String]"?a.replace(t,".$1").replace(s,""):""}return Et}var bt,ai;function pu(){if(ai)return bt;ai=1;var t=Object.prototype.toString;function s(i){for(var u=-1,c=a(r(i).split(".")),n=c.length,l=[];++u<n;)l.push(o(c[u]));return l}function r(i){return(t.call(i)==="[object String]"?i:"").replace(/\\\./g,"￿")}function a(i){for(var u=-1,c=i.length,n=[];++u<c;)i[u]&&n.push(i[u]);return n}function o(i){return i.replace(/\uffff/g,".")}/*!
 * exports.
 */return bt=s,bt}var _t,ui;function hu(){if(ui)return _t;ui=1;const t=fu(),s=du(),r=pu(),a=Object.prototype.toString;_t=t(o);function o(i,u){let c=-1;const n=a.call(i)==="[object Array]"?i:r(s(i)),l=n.length;let d=l?u:void 0;for(;++c<l;){if(Object(d)!==d)return;d=d[n[c]]}return typeof d=="function"?d():d}return _t}var si;function mu(){if(si)return yr;si=1,Object.defineProperty(yr,"__esModule",{value:!0});var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},s=function(){function m(y,g){for(var _=0;_<g.length;_++){var O=g[_];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(y,O.key,O)}}return function(y,g,_){return g&&m(y.prototype,g),_&&m(y,_),y}}(),r=Ut(),a=h(r),o=lu(),i=Cr(),u=h(i),c=hu(),n=h(c),l=zi(),d=h(l);function h(m){return m&&m.__esModule?m:{default:m}}function p(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}var v=function(){function m(y){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};p(this,m),this.factMap=new Map(y),this.factResultsCache=new Map,this.allowUndefinedFacts=!!_.allowUndefinedFacts;for(var O in g){var F=void 0;g[O]instanceof a.default?F=g[O]:F=new a.default(O,g[O]),this._addConstantFact(F),(0,u.default)("almanac::constructor initialized runtime fact:"+F.id+" with "+F.value+"<"+t(F.value)+">")}}return s(m,[{key:"_getFact",value:function(g){return this.factMap.get(g)}},{key:"_addConstantFact",value:function(g){this.factMap.set(g.id,g),this._setFactValue(g,{},g.value)}},{key:"_setFactValue",value:function(g,_,O){var F=g.getCacheKey(_),L=Promise.resolve(O);return F&&this.factResultsCache.set(F,L),L}},{key:"addRuntimeFact",value:function(g,_){var O=new a.default(g,_);return this._addConstantFact(O)}},{key:"factValue",value:function(g){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",F=void 0,L=this._getFact(g);if(L===void 0)return this.allowUndefinedFacts?Promise.resolve(void 0):Promise.reject(new o.UndefinedFactError("Undefined fact: "+g));if(L.isConstant())F=Promise.resolve(L.calculate(_,this));else{var P=L.getCacheKey(_),V=P&&this.factResultsCache.get(P);V?(F=Promise.resolve(V),(0,u.default)("almanac::factValue cache hit for fact:"+g)):((0,u.default)("almanac::factValue cache miss for fact:"+g+"; calculating"),F=this._setFactValue(L,_,L.calculate(_,this)))}return O?F.then(function(q){if((0,d.default)(q)){var H=(0,n.default)(O)(q);return(0,u.default)("condition::evaluate extracting object property "+O+", received: "+H),H}else return(0,u.default)("condition::evaluate could not compute object path("+O+") of non-object: "+q+" <"+(typeof q>"u"?"undefined":t(q))+">; continuing with "+q),q}):F}}]),m}();return yr.default=v,yr}var xr={},li;function vu(){if(li)return xr;li=1,Object.defineProperty(xr,"__esModule",{value:!0});var t=function(){var r=[];return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return a.event&&r.push(a.event),r}};return xr.SuccessEventFact=t,xr}var Er={},ci;function gu(){if(ci)return Er;ci=1,Object.defineProperty(Er,"__esModule",{value:!0});var t=Bt(),s=r(t);function r(i){return i&&i.__esModule?i:{default:i}}var a=[];a.push(new s.default("equal",function(i,u){return i===u})),a.push(new s.default("notEqual",function(i,u){return i!==u})),a.push(new s.default("in",function(i,u){return u.indexOf(i)>-1})),a.push(new s.default("notIn",function(i,u){return u.indexOf(i)===-1})),a.push(new s.default("contains",function(i,u){return i.indexOf(u)>-1},Array.isArray)),a.push(new s.default("doesNotContain",function(i,u){return i.indexOf(u)===-1},Array.isArray));function o(i){return Number.parseFloat(i).toString()!=="NaN"}return a.push(new s.default("lessThan",function(i,u){return i<u},o)),a.push(new s.default("lessThanInclusive",function(i,u){return i<=u},o)),a.push(new s.default("greaterThan",function(i,u){return i>u},o)),a.push(new s.default("greaterThanInclusive",function(i,u){return i>=u},o)),Er.default=a,Er}var fi;function yu(){if(fi)return Oe;fi=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.FINISHED=Oe.RUNNING=Oe.READY=void 0;var t=function(){function q(H,T){for(var E=0;E<T.length;E++){var k=T[E];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(H,k.key,k)}}return function(H,T,E){return T&&q(H.prototype,T),E&&q(H,E),H}}(),s=Ut(),r=y(s),a=Ji(),o=y(a),i=Bt(),u=y(i),c=mu(),n=y(c),l=yi(),d=vu(),h=gu(),p=y(h),v=Cr(),m=y(v);function y(q){return q&&q.__esModule?q:{default:q}}function g(q,H){if(!(q instanceof H))throw new TypeError("Cannot call a class as a function")}function _(q,H){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:q}function O(q,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);q.prototype=Object.create(H&&H.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(q,H):q.__proto__=H)}var F=Oe.READY="READY",L=Oe.RUNNING="RUNNING",P=Oe.FINISHED="FINISHED",V=function(q){O(H,q);function H(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};g(this,H);var k=_(this,(H.__proto__||Object.getPrototypeOf(H)).call(this));return k.rules=[],k.allowUndefinedFacts=E.allowUndefinedFacts||!1,k.operators=new Map,k.facts=new Map,k.status=F,T.map(function(J){return k.addRule(J)}),p.default.map(function(J){return k.addOperator(J)}),k}return t(H,[{key:"addRule",value:function(E){if(!E)throw new Error("Engine: addRule() requires options");if(!E.hasOwnProperty("conditions"))throw new Error('Engine: addRule() argument requires "conditions" property');if(!E.hasOwnProperty("event"))throw new Error('Engine: addRule() argument requires "event" property');var k=void 0;return E instanceof o.default?k=E:k=new o.default(E),k.setEngine(this),this.rules.push(k),this.prioritizedRules=null,this}},{key:"removeRule",value:function(E){if(!(E instanceof o.default))throw new Error("Engine: removeRule() rule must be a instance of Rule");var k=this.rules.indexOf(E);return k===-1?!1:(this.prioritizedRules=null,!!this.rules.splice(k,1).length)}},{key:"addOperator",value:function(E,k){var J=void 0;E instanceof u.default?J=E:J=new u.default(E,k),(0,m.default)("engine::addOperator name:"+J.name),this.operators.set(J.name,J)}},{key:"removeOperator",value:function(E){var k=void 0;return E instanceof u.default?k=E.name:k=E,this.operators.delete(k)}},{key:"addFact",value:function(E,k,J){var Y=E,K=void 0;return E instanceof r.default?(Y=E.id,K=E):K=new r.default(E,k,J),(0,m.default)("engine::addFact id:"+Y),this.facts.set(Y,K),this}},{key:"removeFact",value:function(E){var k=void 0;return E instanceof r.default?k=E.id:k=E,this.facts.delete(k)}},{key:"prioritizeRules",value:function(){if(!this.prioritizedRules){var E=this.rules.reduce(function(k,J){var Y=J.priority;return k[Y]||(k[Y]=[]),k[Y].push(J),k},{});this.prioritizedRules=Object.keys(E).sort(function(k,J){return Number(k)>Number(J)?-1:1}).map(function(k){return E[k]})}return this.prioritizedRules}},{key:"stop",value:function(){return this.status=P,this}},{key:"getFact",value:function(E){return this.facts.get(E)}},{key:"evaluateRules",value:function(E,k){var J=this;return Promise.all(E.map(function(Y){if(J.status!==L){(0,m.default)("engine::run status:"+J.status+"; skipping remaining rules");return}return Y.evaluate(k).then(function(K){(0,m.default)("engine::run ruleResult:"+K.result),K.result?(J.emit("success",Y.event,k,K),J.emit(Y.event.type,Y.event.params,k,K),k.factValue("success-events",{event:Y.event})):J.emit("failure",Y.event,k,K)})}))}},{key:"run",value:function(){var E=this,k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,m.default)("engine::run started"),(0,m.default)("engine::run runtimeFacts:",k),k["success-events"]=new r.default("success-events",(0,d.SuccessEventFact)(),{cache:!1}),this.status=L;var J=new n.default(this.facts,k,{allowUndefinedFacts:this.allowUndefinedFacts}),Y=this.prioritizeRules(),K=Promise.resolve();return new Promise(function(Ee,$){Y.map(function(le){return K=K.then(function(){return E.evaluateRules(le,J)}).catch($),K}),K.then(function(){return E.status=P,(0,m.default)("engine::run completed"),J.factValue("success-events")}).then(function(le){Ee({events:le,almanac:J})}).catch($)})}}]),H}(l.EventEmitter);return Oe.default=V,Oe}var di;function Su(){if(di)return Se;di=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.Engine=Se.Operator=Se.Rule=Se.Fact=void 0,Se.default=function(l,d){return new s.default(l,d)};var t=yu(),s=n(t),r=Ut(),a=n(r),o=Ji(),i=n(o),u=Bt(),c=n(u);function n(l){return l&&l.__esModule?l:{default:l}}return Se.Fact=a.default,Se.Rule=i.default,Se.Operator=c.default,Se.Engine=s.default,Se}var wt,pi;function xu(){return pi||(pi=1,wt=Su()),wt}var hi=xu();function Ct(t){const s=S.jsxs("div",{children:[S.jsx("h6",{children:"Data"}),S.jsx("pre",{children:JSON.stringify(t.formData,null,2)})]});return S.jsx(S.Fragment,{children:!t.hidden&&s})}try{Ct.displayName="DataDebug",Ct.__docgenInfo={description:"",displayName:"DataDebug",props:{formData:{defaultValue:null,description:"",name:"formData",required:!0,type:{name:"any"}},hidden:{defaultValue:null,description:"",name:"hidden",required:!0,type:{name:"boolean"}}}}}catch{}function Ft(t){let s=S.jsx(S.Fragment,{});return t.isSubmitted?s=S.jsx("div",{children:"Your information has been submitted"}):t.bodyText&&(s=S.jsx("div",{dangerouslySetInnerHTML:{__html:t.bodyText}})),S.jsxs("div",{className:`submission-header${t.isSubmitted?" submitted":""}`,children:[S.jsx("h2",{children:t.title}),s,S.jsx("hr",{})]})}try{Ft.displayName="Header",Ft.__docgenInfo={description:"",displayName:"Header",props:{isSubmitted:{defaultValue:null,description:"",name:"isSubmitted",required:!1,type:{name:"boolean"}},bodyText:{defaultValue:null,description:"",name:"bodyText",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}}}}}catch{}function Tt(t){const r=(i=>i.isWizardMode?i.previousStepIds&&i.previousStepIds.length>0:i.steps.findIndex(u=>u.id===i.currentStep.id)>0)(t)?S.jsx("button",{type:"button",onClick:i=>t.onNavAction(fe.PREVIOUS),className:"btn btn-link nav-link prev",children:S.jsx(Ar,{icon:"chevronLeft"})}):S.jsx(S.Fragment,{}),a=t.currentStep.final?S.jsx(S.Fragment,{}):S.jsx("button",{type:"button",onClick:i=>t.onNavAction(fe.NEXT),className:"btn btn-link nav-link next",children:S.jsx(Ar,{icon:"chevronRight"})}),o=S.jsx("button",{type:"button",className:"btn btn-action save",disabled:t.isFormSubmitted,onClick:i=>t.onNavAction(fe.SAVE),children:"SAVE"});return S.jsxs("div",{children:[S.jsx("hr",{}),S.jsxs("div",{className:"buttonWrapper pull-right",children:[r," ",a," ",o]})]})}function Nt(t){const s=t.steps.find(r=>r.id===t.nextStepId);return typeof s>"u"?S.jsx(S.Fragment,{}):S.jsxs("span",{className:"nav-link",children:[S.jsx("a",{onClick:r=>t.onNavAction(s),children:s.title}),S.jsx(Ar,{icon:"chevronRight"})]})}try{Tt.displayName="NavButtons",Tt.__docgenInfo={description:"",displayName:"NavButtons",props:{isWizardMode:{defaultValue:null,description:"",name:"isWizardMode",required:!1,type:{name:"boolean"}},previousStepIds:{defaultValue:null,description:"",name:"previousStepIds",required:!0,type:{name:"string[]"}},onNavAction:{defaultValue:null,description:"",name:"onNavAction",required:!0,type:{name:"(action: NavActionEnum) => void"}},steps:{defaultValue:null,description:"",name:"steps",required:!0,type:{name:"Step[]"}},currentStep:{defaultValue:null,description:"",name:"currentStep",required:!0,type:{name:"Step"}},isFormSubmitted:{defaultValue:null,description:"",name:"isFormSubmitted",required:!1,type:{name:"boolean"}}}}}catch{}try{Nt.displayName="NextStepLink",Nt.__docgenInfo={description:"",displayName:"NextStepLink",props:{onNavAction:{defaultValue:null,description:"",name:"onNavAction",required:!0,type:{name:"(step: Step) => void"}},steps:{defaultValue:null,description:"",name:"steps",required:!0,type:{name:"Step[]"}},nextStepId:{defaultValue:null,description:"",name:"nextStepId",required:!0,type:{name:"string"}}}}}catch{}function Pt(t){const s=t.stepList.filter(i=>i.child!==!0),r=(i,u,c,n)=>{let l="circle";return c||n?{iconDef:l}:(u?l="block":i===Ae.COMPLETED?l="checkCircle":i===Ae.ERROR&&(l="errorOutlined"),{iconDef:l})},a=(i,u=!1)=>{let c="item";return i&&(c=`${c} pointed `),u&&(c=`${c} static`),c},o=(i,u,c=!1)=>{if(!i||i.child&&!c)return S.jsx(S.Fragment,{});const n=(h,p,v)=>!h.inProgress&&(!p||h.final)?S.jsx("button",{className:"btn btn-link",onClick:()=>v(h),children:h.title}):S.jsx("span",{children:h.title}),l=r(i.state,i.excluded,i.static,i.final),d=a(i.inProgress,i.static);return S.jsxs("div",{className:d,children:[S.jsx(Ar,{icon:l.iconDef}),n(i,u,t.onStepChange)]})};return S.jsx("div",{className:"SRC-menuLayout json-forms-menu",style:{flex:"1"},children:S.jsx("ul",{children:s.map((i,u)=>S.jsxs("li",{className:"item-wrap",children:[o(i,!!t.isWizardMode),i.children&&i.children.length>0&&S.jsx("div",{className:"subMenu",children:S.jsx("ul",{children:i.children&&i.children.map((c,n)=>{const l=t.stepList.find(d=>d.id===c);return typeof l>"u"?S.jsx(S.Fragment,{}):S.jsx("li",{className:"item-wrap",children:o(l,!!t.isWizardMode,!0)},`${n}-${c}`)})})})]},`${u}-${i.id}`))})})}try{Pt.displayName="StepsSideNav",Pt.__docgenInfo={description:"",displayName:"StepsSideNav",props:{stepList:{defaultValue:null,description:"",name:"stepList",required:!0,type:{name:"Step[]"}},onStepChange:{defaultValue:null,description:"",name:"onStepChange",required:!0,type:{name:"(step: Step) => void"}},isWizardMode:{defaultValue:null,description:"",name:"isWizardMode",required:!1,type:{name:"boolean"}}}}}catch{}function Eu(t,s,r){const a=/\[\d+\]\./g,o=/\.(\d)+/g;t=t.replace(o,"[$1]");const u=`${t.split(".").join(".properties.")}.title`,c=`${t}.ui:title`,n=u.replace(a,".items."),l=c.replace(a,".items."),d=u.match(a);let h=Si(d);h&&(h=h.substring(1,h.length-2),h=isNaN(parseInt(h))?"":`${parseInt(h)+1}`);const p=ve(r,c)||ve(s.properties,u)||ve(r,l)||ve(s.properties,n)||`${n}`;return`${h?"["+h+"] ":""}${p}`}function bu(t,s,r,a){function o(n,l,d){const h=".";return Object.keys(n).forEach(p=>{n[p]===null?l[d+p]="":zt(n[p])&&!Jt(n[p])?n[p].forEach((v,m)=>{if(zt(v)||Wt(n[p])&&!Jt(v))o(v,l,`${d}${p}[${m}]${h}`);else{let y=l[`${d}${p}`];y=y?`${y}, `:"",l[`${d}${p}`]=y+v}}):Wt(n[p])&&!qo(n[p])?o(n[p],l,`${d}${p}${h}`):l[d+p]=n[p]}),l}const i=o(Me(t),{},"");return console.log(i),Lt(i).map(n=>{let l=i[n];i[n]===!1&&(l="false"),i[n]===!0&&(l="true");const d=n.indexOf(".");return{screen:Ei(s,{id:n.substring(0,d)}),label:Eu(n,r,a),value:l}}).filter(n=>n.label.indexOf(".properties.included.title")===-1).filter(n=>n.screen&&typeof n.value<"u").map(n=>({label:n.label,value:n.value,screen:n.screen})).sort((n,l)=>n.screen.order-l.screen.order)}function It(t){let s=[];s=bu(Me(t.formData),t.steps,t.schema,t.uiSchema);let r="";const a=S.jsxs(S.Fragment,{children:[S.jsx("table",{className:"table summary-table-header",children:S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Step"}),S.jsx("th",{children:"Label"}),S.jsx("th",{children:"Value"})]})})}),S.jsx("div",{className:"scroll-area table-body",children:S.jsx("table",{className:"table summary-table",children:S.jsx("tbody",{children:s.map((o,i)=>S.jsxs("tr",{children:[S.jsx("td",{children:r!==o.screen.id&&(r=o.screen.id)&&S.jsx("span",{children:o.screen.title})}),S.jsx("td",{children:o.label}),S.jsx("td",{children:o.value})]},`${i}-${o.screen.id}-${o.label}`))})})})]});return S.jsxs(S.Fragment,{children:[S.jsx("p",{className:"step-exclude-directions",children:'Below is all of the data you have entered. Before submitting, click "Validate" to ensure that all of the required data has been entered.'}),S.jsx("button",{className:"nav-link pull-right",onClick:()=>window.print(),children:"Print this data"}),S.jsx("div",{className:"panel panel-default padding-full wrap",children:S.jsx("div",{className:"summary scroll-area",children:a})})]})}try{It.displayName="SummaryTable",It.__docgenInfo={description:"",displayName:"SummaryTable",props:{isWizard:{defaultValue:null,description:"",name:"isWizard",required:!1,type:{name:"boolean"}},formData:{defaultValue:null,description:"",name:"formData",required:!0,type:{name:"any"}},callbackFn:{defaultValue:null,description:"",name:"callbackFn",required:!1,type:{name:"(screenId: string) => void"}},steps:{defaultValue:null,description:"",name:"steps",required:!0,type:{name:"Step[]"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"FormSchema"}},uiSchema:{defaultValue:null,description:"",name:"uiSchema",required:!0,type:{name:"UiSchema"}}}}}catch{}class kt extends Ke.Component{constructor(r){super(r);X(this,"excludeWarningText",S.jsxs("div",{children:[S.jsx("p",{children:"This action will clear any entered data on this page and remove this form from your submission. You can include it again at anytime. Only this page will be affected."}),S.jsx("p",{children:"Are you sure you want to skip this step and clear any entered data?"})]}));X(this,"excludeWarningHeader","Skip This Step?");X(this,"unsavedDataWarning","You might have some unsaved data. Are you sure you want to leave?");X(this,"formRef");X(this,"submitButtonRef");X(this,"formDivRef");X(this,"navAction",fe.NONE);X(this,"uiSchema");X(this,"nextStep");X(this,"extraErrors",[]);X(this,"isNewForm",r=>Object.keys(r).length==1&&Object.keys(r)[0]==="metadata"||Object.keys(r).length==0);X(this,"getFirstStep",(r,a)=>this.isNewForm(a)?r[0]:r.find(o=>o.final===!0)||r[0]);X(this,"onUnload",r=>this.state.hasUnsavedChanges?(r.preventDefault(),r.returnValue=this.unsavedDataWarning):void 0);X(this,"setupBeforeUnloadListener",()=>{window.addEventListener("beforeunload",this.onUnload)});X(this,"_setIncludedPropInFormDataNonWizard",(r,a)=>{const o={},i=r.formData;return Object.keys(a).forEach(u=>{ve(a[u],"properties.included")&&Je(o,`${u}.included`,!0)}),{...i,...o}});X(this,"_setIncludedPropInFormDataWizard",r=>{const a=r.currentStep.id,o=Me(r.formData);return Je(o,`${a}.included`,!0),o});X(this,"getSchema",({id:r,final:a})=>a?this.props.schema:yo(this.props.schema,["title","type",`properties.${r}`]));X(this,"getNextStepId",async(r,a,o)=>{if(o)return o;if(!r.rules||r.rules.length===0)return r.default;const i=new hi.Engine(r.rules);try{const u=await i.run(a);return u.events.length>0?u.events[0].params.next:r.default}catch{return r.default}});X(this,"moveStep",async(r,a,o,i=[...this.state.previousStepIds])=>{var h;const u=this.state.currentStep;let c;(h=this.formRef)!=null&&h.current&&this.formRef.current.setState({errorSchema:{}});const n=this.props.isWizardMode&&!a;n&&i.push(u.id),o?c=Ae.ERROR:(c=Ae.COMPLETED,!n&&this.props.isWizardMode&&(c=Ae.TODO)),a=await this.getNextStepId(u,r,a);const l=this.state.steps.map(p=>p.id===u.id?{...p,state:c,inProgress:!1}:p.id===a?{...p,inProgress:!0}:p);n&&Je(r,`${a}.included`,!0);const d=this.state.steps.find(p=>p.id===a);this.props.isWizardMode&&d.final&&Object.keys(r).forEach(p=>{r[p].included===void 0&&(r[p]={})}),this.saveStepState(i,l,d,r)});X(this,"saveStepState",(r,a,o,i)=>{this.setState({previousStepIds:r,steps:a,currentStep:o,formData:i,hasValidated:!1,doShowErrors:!1})});X(this,"goPrevious",async(r,a)=>{let o;const i=[...this.state.previousStepIds];if(this.props.isWizardMode)o=i.pop(),this.isSubmitScreen()||Je(r,`${this.state.currentStep.id}.included`,void 0);else{const u=xi(this.state.steps,{id:this.state.currentStep.id});u>0&&(o=this.state.steps[u-1].id)}if(!uo(o))return this.moveStep(r,o,a,i)});X(this,"triggerAction",async r=>{if(r===fe.SAVE)return this.props.onSave(this.state.formData);this.navAction=r,this.extraErrors=await this.runCustomValidation(this.state.formData,this.state.currentStep,this.state.steps),this.submitButtonRef.current&&this.submitButtonRef.current.click()});X(this,"triggerStepChange",r=>{this.nextStep=r,this.triggerAction(fe.GO_TO_STEP)});X(this,"onError",r=>{if(this.setState({doShowErrors:!0,hasValidated:!1}),this.navAction===fe.VALIDATE){const a=this.setStepStatusForFailedValidation(r.props,this.state.steps,!!this.props.isWizardMode,this.state.formData,this.getSchema(this.state.currentStep).properties||this.getSchema(this.state.currentStep));this.setState({steps:a}),this.formDivRef.current.scrollTo(0,0),this.state.isLoadingSaved&&(this.moveStep(this.state.formData,a[0].id,!0),this.setState({isLoadingSaved:!1}))}});X(this,"setStepStatusForFailedValidation",(r,a,o,i,u)=>{const c=r.map(d=>bi(d.property,".").split(".")[0]),n=Object.keys(u);return a.map(d=>{if(c.indexOf(d.id)>-1)return{...d,state:Ae.ERROR};if(n.indexOf(d.id)>-1){let h=Ae.COMPLETED;return o&&!ve(i[d.id],"included")&&(h=d.state),{...d,state:h}}else return d})});X(this,"onSubmit",()=>{this.performAction(this.navAction,this.state.currentStep.state===Ae.ERROR)});X(this,"isSubmitScreen",()=>this.state.currentStep.final===!0&&!this.state.isLoadingSaved);X(this,"showExcludeStateWarningDialog",(r,a=!1)=>{this.setState({modalContext:{action:this.toggleExcludeStep,arguments:[r,!0,a]}})});X(this,"toggleExcludeStep",(r,a)=>{this.setState((o,i)=>{const u=o.steps.map(l=>l.id===r?{...l,excluded:a}:l),c=Me(o.formData),n=Me(o.currentStep);return n.id===r&&(n.excluded=a),a?c[r]={}:Je(c,`${r}.included`,!0),{steps:u,formData:c,modalContext:void 0,currentStep:n}})});X(this,"renderNotification",r=>r===pe.SAVE_SUCCESS?S.jsx("div",{className:"notification-area",children:" Successfully saved "}):r===pe.SUBMIT_SUCCESS?S.jsx("div",{className:"notification-area",children:" Successfully submitted "}):r===pe.PROGRESS?S.jsx("div",{className:"notification-area",children:" working on it ...."}):S.jsx(S.Fragment,{}));X(this,"renderTextForStaticScreen",()=>{if(!this.state.currentStep.copy)return S.jsx(S.Fragment,{});const r=this.state.currentStep.copy;return S.jsx("div",{className:"static-screen",dangerouslySetInnerHTML:{__html:r}})});X(this,"renderOptionalFormSubheader",(r=!1)=>{if(r)return S.jsx(S.Fragment,{});const a=this.state.currentStep;return a.excluded===!0?S.jsxs("div",{className:"step-exclude-directions",children:["This form is currently not included in the submission.",S.jsx("button",{className:"btn btn-link",onClick:()=>this.toggleExcludeStep(a.id,!1),children:"Include"})]}):a.excluded===!1?S.jsxs("div",{className:"step-exclude-directions",children:['This form is currently included in the submission. Enter some data if you have it, or click "Skip".',S.jsx("button",{className:"btn btn-link",onClick:()=>this.showExcludeStateWarningDialog(this.state.currentStep.id),children:"Skip"})]}):S.jsx(S.Fragment,{})});X(this,"renderHelpToggle",(r,a,o)=>r.static||r.final?S.jsx(S.Fragment,{}):S.jsx(S.Fragment,{children:S.jsxs("label",{className:"pull-right toggle-help-label",children:[S.jsx("span",{children:"Hide help"}),S.jsx(_o,{checkedIcon:!1,uncheckedIcon:!1,height:20,width:45,className:"toggle-help",offColor:"#ccc",onChange:()=>o(),checked:a}),S.jsx("span",{children:"Show help"})]})}));X(this,"runCustomValidation",async(r,a,o)=>{const i=[];let u=a.validationRules||[],c={[a.id]:r[a.id]};if(a.final&&(u=o.reduce((d,h)=>h.validationRules&&h.validationRules.length>0?d.concat(h.validationRules):d,[]),c=Me(r)),u.length===0)return[];const n=[];u.forEach(d=>{const h=d.event.params.property;if(h.indexOf("[*]")===-1)n.push(d);else{const p=h.split("[*]")[0].substring(1),v=ve(r,p);if(Array.isArray(v)&&typeof v!="string")for(let m=0;m<v.length;m++){const y=JSON.parse(JSON.stringify(d).replace(/\[\*\]/g,`[${m}]`));n.push(y)}else n.push(d)}});const l=new hi.Engine(n,{allowUndefinedFacts:!0});try{(await l.run(c)).events.forEach(p=>{const v={...p.params,params:{},stack:`${p.params.property} ${p.params.message}`};i.push(v)})}catch(d){console.log(d)}return i});X(this,"transformErrors",r=>{if(this.extraErrors.forEach(o=>{r.find(i=>i.stack===o.stack)||r.push(o)}),this.navAction!==fe.SUBMIT&&this.navAction!==fe.VALIDATE&&(!this.props.isWizardMode||this.state.currentStep.final)){const o={...this.state.currentStep};return r.length>0?o.state=Ae.ERROR:o.state=Ae.COMPLETED,this.setState({currentStep:o}),[]}return r.filter(o=>o.name==="required").forEach(o=>{if(o.property){const i=o.property.substring(0,o.property.lastIndexOf("."));Uo(r,u=>(u.property||"").indexOf(i)>-1&&(u.name==="enum"||u.name==="oneOf"))}}),r.map(o=>(o.message&&(o.message=o.message.replace("property","field")),o))});X(this,"renderErrorListTemplate",r=>{const{errors:a}=r,o=a.map((i,u)=>_u(this.state.steps,i,this.uiSchema,u,this.props.schema)).sort((i,u)=>i.order-u.order).map(i=>i.element);return S.jsx("div",{className:"form-error-summary",children:S.jsx("ul",{className:"error-detail",children:o})})});this.uiSchema=Ki(Me(r.uiSchema),"ui:help");const a=r.navSchema.steps.map((i,u)=>({...i,inProgress:u===0})).sort((i,u)=>i.order-u.order);this.formRef=Ke.createRef(),this.formDivRef=Ke.createRef(),this.submitButtonRef=Ke.createRef();const o=this.getFirstStep(a,r.formData);this.state={currentStep:o,steps:a,previousStepIds:[],formData:r.formData,doShowErrors:!1,doShowHelp:!0,hasUnsavedChanges:!1,isSubmitted:r.isSubmitted,isLoadingSaved:!this.isNewForm(this.props.formData)}}componentWillUnmount(){window.removeEventListener("beforeunload",this.onUnload)}componentDidUpdate(r){const a=this.props.callbackStatus!==r.callbackStatus,o=this.props.callbackStatus===pe.SAVE_SUCCESS||this.props.callbackStatus===pe.SUBMIT_SUCCESS;a&&o&&(this.setState({hasUnsavedChanges:!1}),this.props.callbackStatus===pe.SUBMIT_SUCCESS&&(this.setState({isSubmitted:!0}),window.history.back()))}componentDidMount(){this.setupBeforeUnloadListener(),this.isNewForm(this.state.formData)?this.setState(a=>({formData:this.props.isWizardMode?this._setIncludedPropInFormDataWizard(a):this._setIncludedPropInFormDataNonWizard(a,this.props.schema)})):this.triggerAction(fe.VALIDATE)}handleOnChange({formData:r}){if(!this.isSubmitScreen()&&!this.state.currentStep.excluded){const a=!co(this.state.formData,r);this.setState({formData:r,hasUnsavedChanges:a})}}performAction(r,a){const o=this.state.formData;switch(r){case fe.NEXT:return this.moveStep(o,void 0,a);case fe.PREVIOUS:return this.goPrevious(o,a);case fe.GO_TO_STEP:return this.nextStep?this.moveStep(o,this.nextStep.id,a):void 0;case fe.SUBMIT:{this.props.onSubmit(o);return}case fe.VALIDATE:{const i=this.setStepStatusForFailedValidation([],this.state.steps,!!this.props.isWizardMode,this.state.formData,this.getSchema(this.state.currentStep).properties||this.getSchema(this.state.currentStep)),u={...this.state.currentStep,state:Ae.COMPLETED};this.setState({hasValidated:!0,currentStep:u,steps:i}),this.state.isLoadingSaved&&(this.moveStep(this.state.formData,i[0].id,!1),this.setState({isLoadingSaved:!1}));return}default:return}}render(){return S.jsxs("div",{className:"outter-wrap",children:[S.jsx(Rt,{shouldBlock:({currentLocation:r,nextLocation:a})=>this.state.hasUnsavedChanges&&r.pathname!==a.pathname,children:r=>S.jsx(wo,{open:r.state=="blocked",title:"Unsaved Changes",content:this.unsavedDataWarning,onConfirm:()=>{r.proceed&&r.proceed()},onCancel:()=>{r.reset&&r.reset()}})}),S.jsx(Ft,{isSubmitted:this.state.isSubmitted,bodyText:this.state.currentStep.description,title:this.props.formTitle}),S.jsx("div",{children:S.jsxs("div",{className:"inner-wrap",children:[S.jsx(Pt,{stepList:this.state.steps,isWizardMode:this.props.isWizardMode,onStepChange:this.triggerStepChange}),this.state.isLoadingSaved&&S.jsx("div",{className:"text-center",children:S.jsx("span",{className:"spinner"})}),S.jsxs("div",{className:"form-wrap",children:[S.jsx("div",{className:"form-title",children:this.state.currentStep.title}),this.renderNotification(this.props.callbackStatus),S.jsxs("div",{className:`right-top-actions ${this.state.isSubmitted?"hide":""}`,children:[!this.state.currentStep.static&&S.jsx("button",{type:"button",className:"btn btn-action save pull-right",onClick:()=>{this.triggerAction(fe.VALIDATE)},children:"VALIDATE"}),this.renderHelpToggle(this.state.currentStep,this.state.doShowHelp,()=>this.setState({doShowHelp:!this.state.doShowHelp})),this.isSubmitScreen()&&S.jsx("button",{type:"button",className:"btn btn-action save pull-right",disabled:this.state.isSubmitted,onClick:()=>{this.triggerAction(fe.SUBMIT)},children:"SUBMIT"})]}),this.renderOptionalFormSubheader(this.props.isWizardMode),S.jsxs("div",{className:this.isSubmitScreen()||this.state.currentStep.static?"hide-form-only":"wrap",children:[this.state.hasValidated&&S.jsx("div",{className:"notification-area",children:"Great! All required data on this form has been entered."}),S.jsxs("div",{ref:this.formDivRef,className:`scroll-area ${this.state.currentStep.excluded?"disabled":" "} `,children:[S.jsx(so,{validator:lo,noHtml5Validate:!0,className:this.state.doShowHelp?"submissionInputForm":"submissionInputForm no-help",liveValidate:!1,formData:this.state.formData,schema:this.getSchema(this.state.currentStep),uiSchema:this.uiSchema,onSubmit:this.onSubmit,onChange:r=>this.handleOnChange(r),onError:r=>this.onError({props:r,form:this.formRef}),showErrorList:this.state.doShowErrors||this.props.isWizardMode?"top":!1,templates:{ErrorListTemplate:this.renderErrorListTemplate},transformErrors:this.transformErrors,ref:this.formRef,disabled:this.state.currentStep.excluded||this.state.isSubmitted,widgets:{CheckboxWidget:Fo,CheckboxesWidget:Co,RadioWidget:Oo},children:S.jsx("div",{style:{display:"none"},children:S.jsx("button",{type:"submit",ref:this.submitButtonRef})})}),this.renderTextForStaticScreen(),!this.props.isWizardMode&&S.jsx(Nt,{steps:this.state.steps,nextStepId:this.state.currentStep.default,onNavAction:r=>this.triggerStepChange(r)})]})]}),this.isSubmitScreen()&&S.jsx(It,{formData:this.state.formData,steps:this.state.steps,callbackFn:r=>this.showExcludeStateWarningDialog(r,!0),uiSchema:this.props.uiSchema,schema:this.props.schema}),S.jsx(Tt,{currentStep:this.state.currentStep,steps:this.state.steps,previousStepIds:this.state.previousStepIds,isFormSubmitted:this.state.isSubmitted,onNavAction:r=>{this.triggerAction(r)}})]})]})}),this.state.modalContext&&S.jsx(To,{open:!0,title:this.excludeWarningHeader,content:this.excludeWarningText,className:`theme-${this.props.formClass}`,onConfirmCallbackArgs:this.state.modalContext.arguments,onCancel:()=>this.setState({modalContext:void 0}),onConfirm:(r,a)=>this.toggleExcludeStep(r,a)}),S.jsx(Ct,{formData:this.state.formData,hidden:!0})]})}}function _u(t,s,r,a,o){const i=bi(s.property,"."),u=i.split("."),c=`${u.join(".properties.")}.title`,n=`${i}.ui:title`,l=c.replace(/\[.*?\]/,".items"),d=n.replace(/\[.*?\]/,".items"),h=c.match(/\[.*?\]/);let p=Si(h);p&&(p=p.substring(1,p.length-1),p=isNaN(parseInt(p))?"":` [${parseInt(p)+1}]`);const v=ve(r,n)||ve(o.properties,c)||ve(r,d)||ve(o.properties,l)||s.property,m=Ei(t,{id:u[0]})||{title:u[0],order:0},y=S.jsx("li",{className:"",children:S.jsxs("span",{children:[S.jsxs("strong",{children:[m.title,p,":"]}),v,"  ",s.message]})},a);return{order:m.order,element:y}}function Ki(t,s){return Lt(t).some(r=>{if(r===s){const a=t[r];return t[r]=S.jsx("span",{dangerouslySetInnerHTML:{__html:a}}),t}t[r]&&typeof t[r]=="object"&&Ki(t[r],s)}),t}try{kt.displayName="SynapseForm",kt.__docgenInfo={description:"",displayName:"SynapseForm",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"FormSchema"}},uiSchema:{defaultValue:null,description:"",name:"uiSchema",required:!0,type:{name:"UiSchema"}},navSchema:{defaultValue:null,description:"",name:"navSchema",required:!0,type:{name:"{ steps: any[]; }"}},formData:{defaultValue:null,description:"",name:"formData",required:!0,type:{name:"IFormData"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(formData: IFormData) => void"}},onSave:{defaultValue:null,description:"",name:"onSave",required:!0,type:{name:"(formData: IFormData) => void"}},formTitle:{defaultValue:null,description:"",name:"formTitle",required:!0,type:{name:"string"}},formClass:{defaultValue:null,description:"",name:"formClass",required:!1,type:{name:"string"}},isWizardMode:{defaultValue:null,description:"",name:"isWizardMode",required:!1,type:{name:"boolean"}},callbackStatus:{defaultValue:null,description:"",name:"callbackStatus",required:!1,type:{name:"enum",value:[{value:"0"},{value:"1"},{value:"2"},{value:"3"},{value:"4"}]}},isSubmitted:{defaultValue:null,description:"",name:"isSubmitted",required:!1,type:{name:"boolean"}}}}}catch{}async function At(t,s,r,a){try{const o=await De.getEntity(t,s,r),i=await De.getFileResult(o,t,!0,!0),u=await De.getFileHandleContent(i.fileHandle,i.preSignedURL),c=JSON.parse(u);return{version:o.versionNumber,content:c}}catch(o){const i=new Error(`${o.message}:  configuration data for ${s} failed to load`);return a&&a(i),Promise.reject(i)}}class wu extends Ke.Component{constructor(r){var a;super(r);X(this,"getFileEntityDataDereferenced",async(r,a,o)=>{const{version:i,content:u}=await At(r,a,o,this.onError),c=await Ta.dereference(u);return{version:i,content:c}});X(this,"getData",async r=>{if(r)try{let a={};const o=this.props.dataFileHandleId,i=this.props.submitted;let u,c,n;if(o){const h=await De.getFileHandleContentFromID(o,r);a=JSON.parse(h),i&&a&&a.metadata&&({formSchemaVersion:u,uiSchemaVersion:c,navSchemaVersion:n}=a.metadata)}const l=[this.getFileEntityDataDereferenced(r,this.props.formSchemaEntityId,u),At(r,this.props.formUiSchemaEntityId,c,this.onError),At(r,this.props.formNavSchemaEntityId,n,this.onError)],d=await Promise.all(l);o||(a={metadata:{formSchemaVersion:d[0].version,uiSchemaVersion:d[1].version,navSchemaVersion:d[2].version}}),this.setState({formData:a,formSchema:d[0].content,formUiSchema:d[1].content,formNavSchema:d[2].content,isLoading:!1})}catch(a){this.onError({message:a})}finally{this.setState({isLoading:!1})}});X(this,"finishedProcessing",(r,a)=>{this.setState({isLoading:!1,notification:{type:r,message:a},status:r}),setTimeout(()=>{this.setState({status:void 0})},7e3)});X(this,"onError",r=>{this.setState({notification:{type:pe.ERROR,message:r.message,name:r.name},status:pe.ERROR,isLoading:!1})});X(this,"submitForm",async r=>{await this.saveToFile(r),this.setState({isLoading:!0}),await De.submitFormData(this.state.formDataId,this.props.token),this.finishedProcessing(pe.SUBMIT_SUCCESS,"File Submitted")});X(this,"createOrUpdateFormDataFile",async(r,a)=>{r=`${r}.json`;const o=await De.uploadFile(this.props.token,r,a),i=this.props.formGroupId;if(!i)throw console.error("formGroupId must be defined"),new Error("formGroupId must be defined");try{const u=o.fileHandleId;let c;return this.state.formDataId?c=await De.updateFormData(this.state.formDataId,r,u,this.props.token):c=await De.createFormData(i,r,u,this.props.token),c}catch(u){throw this.onError(u),u}});X(this,"saveToFile",async r=>{const a=ve(r,this.props.fileNamePath);if(this.setState({status:pe.PROGRESS,notification:{type:pe.PROGRESS,message:"Progress"},isLoading:!0}),!a){let o="File Name";try{const i=`${this.props.fileNamePath.replace(".",".properties.")}.title`;o=ve(this.state.formSchema.properties,i,o)}finally{const i=new Error(`Please Provide the ${o} before saving`);this.onError(i)}return}try{const o=new Blob([JSON.stringify(r)],{type:"text/json"}),i=await this.createOrUpdateFormDataFile(a,o);this.setState({formDataId:i.formDataId}),this.finishedProcessing(pe.SAVE_SUCCESS,"File Saved")}catch(o){this.onError(o)}});X(this,"isReadyToDisplayForm",r=>this.state.status!==pe.ERROR_CRITICAL&&r.formSchema&&r.formUiSchema&&r.formNavSchema&&r.formData);X(this,"renderLoader",(r,a)=>No([pe.ERROR,pe.ERROR_CRITICAL],r.status)&&a.token&&r.isLoading?S.jsx("div",{className:"text-center",children:S.jsx("span",{className:"spinner"})}):S.jsx(S.Fragment,{}));X(this,"renderNotification",r=>r?r.type===pe.ERROR?S.jsx(oo,{variant:"danger",title:"Error",isGlobal:!1,description:S.jsxs(S.Fragment,{children:[r.name," ",r.message]}),onClose:()=>this.setState({status:void 0})}):S.jsx(S.Fragment,{}):S.jsx(S.Fragment,{}));X(this,"renderUnauthenticatedView",r=>r?S.jsx(S.Fragment,{}):S.jsxs("div",{className:"panel padding-full unauthenticated text-center",children:["Please",S.jsx(Po,{variant:"text",color:"primary",sx:{mx:1,fontSize:"1.4rem",verticalAlign:"baseline",textTransform:"none"},className:`${eo}`,children:"sign in"}),"to initiate or continue your submission"]}));this.state={isLoading:!0,formDataId:(a=this.props)==null?void 0:a.formDataId}}componentDidMount(){this.getData(this.props.token)}componentDidUpdate(r){this.props.token!==r.token&&this.getData(this.props.token)}render(){return S.jsx("div",{className:`theme-${this.props.formClass}`,children:S.jsxs("div",{className:"SRC-ReactJsonForm",children:[this.renderNotification(this.state.notification),this.renderLoader(this.state,this.props),this.renderUnauthenticatedView(this.props.token),this.isReadyToDisplayForm(this.state)&&S.jsx("div",{children:S.jsx(kt,{schema:this.state.formSchema,uiSchema:this.state.formUiSchema,formData:this.state.formData,navSchema:this.state.formNavSchema,isWizardMode:this.props.isWizardMode,formTitle:this.props.formTitle,formClass:this.props.formClass,callbackStatus:this.state.status,onSave:r=>{this.saveToFile(r)},onSubmit:r=>{this.submitForm(r)},isSubmitted:this.props.submitted})})]})})}}function jt(t){const s=Zi();return S.jsx(wu,{...t,token:s.accessToken})}try{jt.displayName="SynapseFormWrapper",jt.__docgenInfo={description:"",displayName:"SynapseFormWrapper",props:{formSchemaEntityId:{defaultValue:null,description:"",name:"formSchemaEntityId",required:!0,type:{name:"string"}},formUiSchemaEntityId:{defaultValue:null,description:"",name:"formUiSchemaEntityId",required:!0,type:{name:"string"}},formNavSchemaEntityId:{defaultValue:null,description:"",name:"formNavSchemaEntityId",required:!0,type:{name:"string"}},token:{defaultValue:null,description:"",name:"token",required:!1,type:{name:"string"}},isWizardMode:{defaultValue:null,description:"",name:"isWizardMode",required:!1,type:{name:"boolean"}},fileNamePath:{defaultValue:null,description:"",name:"fileNamePath",required:!0,type:{name:"string"}},formTitle:{defaultValue:null,description:"",name:"formTitle",required:!0,type:{name:"string"}},formClass:{defaultValue:null,description:"",name:"formClass",required:!1,type:{name:"string"}},formDataId:{defaultValue:null,description:"",name:"formDataId",required:!1,type:{name:"string"}},dataFileHandleId:{defaultValue:null,description:"",name:"dataFileHandleId",required:!1,type:{name:"string"}},submitted:{defaultValue:null,description:"",name:"submitted",required:!1,type:{name:"boolean"}},formGroupId:{defaultValue:null,description:"",name:"formGroupId",required:!0,type:{name:"string"}}}}}catch{}const kc={title:"Synapse/SynapseFormWrapper",component:jt,parameters:{withRouter:!0}},br={args:{formGroupId:"9",formSchemaEntityId:"syn20680102",fileNamePath:"naming.compound_name",formUiSchemaEntityId:"syn20693568",formNavSchemaEntityId:"syn20680027",formTitle:"Your Submission",formClass:"drug-upload-tool"}};var mi,vi,gi;br.parameters={...br.parameters,docs:{...(mi=br.parameters)==null?void 0:mi.docs,source:{originalSource:`{
  args: {
    formGroupId: '9',
    formSchemaEntityId: 'syn20680102',
    fileNamePath: 'naming.compound_name',
    formUiSchemaEntityId: 'syn20693568',
    formNavSchemaEntityId: 'syn20680027',
    formTitle: 'Your Submission',
    formClass: 'drug-upload-tool'
  }
}`,...(gi=(vi=br.parameters)==null?void 0:vi.docs)==null?void 0:gi.source}}};const jc=["StopADDemo"];export{br as StopADDemo,jc as __namedExportsOrder,kc as default};
