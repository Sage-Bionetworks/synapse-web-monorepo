import{j as P}from"./jsx-runtime-Du8NFWEI.js";import{a as ct,b as we,A as wr,e as Cr,f as It,l as Ar,h as Nr,T as Ae,i as Pr,M as Or,v as Rr}from"./MuiForm-BwJWM1Um.js";import{r as Se,c as wt,g as Lr}from"./index-Dl6G-zuu.js";import"./styled-_IoEwjFQ.js";import{G as _e}from"./Grid-CED6uvP0.js";import{B as ft}from"./Box-Tu95KWeq.js";import{ad as jr,ae as Fr}from"./ConfirmationDialog-VSTP85H5.js";import{C as Rt}from"./Collapse-z9mI71qO.js";import{T as Dr}from"./Tooltip-CbFhYBpv.js";import{I as Lt}from"./IconButton-CxrGCLVD.js";import{c as pt}from"./createSvgIcon-Cg71VSX1.js";import{H as qr}from"./ColumnHeader-CyY15Z7e.js";import{i as jt}from"./isNil-CFgMzoGa.js";import{B as Ft}from"./Button-BkKUhIiJ.js";import{I as dt}from"./InputLabel-DZDb4c2d.js";import{T as Br}from"./TextField-B3rZxamg.js";import{d as Vr}from"./ContentCopy-DhoAfY5j.js";import{C as Ur}from"./Close-3nA_w6MR.js";import{A as Mr}from"./ArrowUpward-m6dvRdhW.js";import{T as Ct}from"./Typography-DUswyeAh.js";import{F as $r}from"./FullWidthAlert-B_rXn9qX.js";import{k as Hr}from"./useFiles-0P6c4yci.js";import{x as zr}from"./StringUtils-HHDOP9xr.js";import{c as Le}from"./_commonjs-dynamic-modules-TDtrdbi3.js";import{g as Gr,f as Wr}from"./ThemesPlot-DZjR7xH_.js";import{A as Jr}from"./Alert-u0n1NA7e.js";import{L as Xr}from"./List-CuEeKtjj.js";import{L as Kr}from"./ListItem-BBWF7PtT.js";import{F as Qr}from"./Input-zZMWsBv4.js";import{d as Yr}from"./dayjs.min-d18Up55D.js";import{D as Zr}from"./DateTimePicker-DQI1Oi-4.js";const en=pt(P.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),tn=pt(P.jsx("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward"),rn=pt(P.jsx("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline");function $e(y){const{idSchema:w,description:x,registry:C,schema:k,uiSchema:_}=y,p=ct(_,C.globalUiOptions),{label:I}=p;if(I===!1)return null;const b=we("DescriptionFieldTemplate",C,p),S=`${w.$id}__description`;return P.jsx(b,{id:S,description:x??"",schema:k,uiSchema:_,registry:C})}try{$e.displayName="ArrayFieldDescriptionTemplate",$e.__docgenInfo={description:"The `ArrayFieldDescriptionTemplate` component renders a `DescriptionFieldTemplate` with an `id` derived from\nthe `idSchema`.\n\nIdentical to",displayName:"ArrayFieldDescriptionTemplate",props:{schema:{defaultValue:null,description:"The schema object for the field being described",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this description field",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}},description:{defaultValue:null,description:"The description of the field being rendered",name:"description",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},idSchema:{defaultValue:null,description:"The idSchema of the field in the hierarchy",name:"idSchema",required:!0,type:{name:"FieldId | (FieldId & { [key in keyof T]?: IdSchema<T[key]> | undefined; })"}}}}}catch{}function He(y){const{children:w,disabled:x,hasToolbar:C,hasCopy:k,hasMoveDown:_,hasMoveUp:p,hasRemove:I,index:b,onCopyIndexClick:S,onDropIndexClick:g,onReorderClick:s,readonly:l,uiSchema:m,registry:o,onAddIndexClick:u}=y,{CopyButton:r,MoveDownButton:v,MoveUpButton:A,RemoveButton:h,AddButton:n}=o.templates.ButtonTemplates;return P.jsxs(_e,{container:!0,gap:2,justifyContent:"space-between",className:"array-item",children:[P.jsx(_e,{item:!0,xs:!0,children:P.jsx(ft,{mb:2,children:w})}),C&&P.jsxs(_e,{item:!0,sx:{alignSelf:"start",my:1},display:"flex",flexDirection:"row",gap:1,justifyContent:"flex-start",children:[(p||_)&&P.jsx(A,{disabled:x||l||!p,onClick:s(b,b-1),uiSchema:m,registry:o}),(p||_)&&P.jsx(v,{disabled:x||l||!_,onClick:s(b,b+1),uiSchema:m,registry:o}),k&&P.jsx(r,{disabled:x||l,onClick:S(b),uiSchema:m,registry:o}),I&&P.jsx(h,{"aria-label":"Remove",disabled:x||l,onClick:g(b),uiSchema:m,registry:o}),P.jsx(n,{disabled:x||l,uiSchema:m,registry:o,"aria-label":"Add Item",onClick:u(b+1)})]})]})}try{He.displayName="ArrayFieldItemTemplate",He.__docgenInfo={description:"The `ArrayFieldItemTemplate` component is the template used to render an items of an array.",displayName:"ArrayFieldItemTemplate",props:{children:{defaultValue:null,description:"The html for the item's content",name:"children",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},className:{defaultValue:null,description:"The className string",name:"className",required:!0,type:{name:"string"}},disabled:{defaultValue:null,description:"A boolean value stating if the array item is disabled",name:"disabled",required:!1,type:{name:"boolean"}},canAdd:{defaultValue:null,description:"A boolean value stating whether new items can be added to the array",name:"canAdd",required:!0,type:{name:"boolean"}},hasCopy:{defaultValue:null,description:"A boolean value stating whether the array item can be copied, assumed false if missing",name:"hasCopy",required:!0,type:{name:"boolean"}},hasMoveDown:{defaultValue:null,description:"A boolean value stating whether the array item can be moved down",name:"hasMoveDown",required:!0,type:{name:"boolean"}},hasMoveUp:{defaultValue:null,description:"A boolean value stating whether the array item can be moved up",name:"hasMoveUp",required:!0,type:{name:"boolean"}},hasRemove:{defaultValue:null,description:"A boolean value stating whether the array item can be removed",name:"hasRemove",required:!0,type:{name:"boolean"}},hasToolbar:{defaultValue:null,description:"A boolean value stating whether the array item has a toolbar",name:"hasToolbar",required:!0,type:{name:"boolean"}},index:{defaultValue:null,description:"A number stating the index the array item occurs in `items`",name:"index",required:!0,type:{name:"number"}},totalItems:{defaultValue:null,description:"A number stating the total number `items` in the array",name:"totalItems",required:!0,type:{name:"number"}},onAddIndexClick:{defaultValue:null,description:"Returns a function that adds a new item at `index`",name:"onAddIndexClick",required:!0,type:{name:"(index: number) => (event?: any) => void"}},onCopyIndexClick:{defaultValue:null,description:"Returns a function that copies the item at `index` into the position at `index + 1`",name:"onCopyIndexClick",required:!0,type:{name:"(index: number) => (event?: any) => void"}},onDropIndexClick:{defaultValue:null,description:"Returns a function that removes the item at `index`",name:"onDropIndexClick",required:!0,type:{name:"(index: number) => (event?: any) => void"}},onReorderClick:{defaultValue:null,description:"Returns a function that swaps the items at `index` with `newIndex`",name:"onReorderClick",required:!0,type:{name:"(index: number, newIndex: number) => (event?: any) => void"}},readonly:{defaultValue:null,description:"A boolean value stating if the array item is read-only",name:"readonly",required:!1,type:{name:"boolean"}},key:{defaultValue:null,description:"A stable, unique key for the array item",name:"key",required:!0,type:{name:"string"}},schema:{defaultValue:null,description:"The schema object for this array item",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this array item",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}function je(y){const{hideLabel:w=!1,fieldLabel:x,description:C,registry:k,children:_}=y,p=k.formContext.descriptionVariant||"popover",[I,b]=Se.useState(!1),S=P.jsx(Dr,{title:"More Info",children:P.jsx(Lt,{onClick:s=>{s.preventDefault(),b(!I)},"aria-expanded":I,size:"small",children:P.jsx(rn,{color:"primary",sx:{width:"16px",height:"16px"}})})}),g=P.jsx(jr,{popoverContent:C,maxWidth:"350px",children:P.jsx(qr,{className:"HelpButton"})});return P.jsxs(P.Fragment,{children:[!w&&P.jsxs("div",{className:"LabelContainer",children:[x,C&&p==="popover"&&g,C&&p==="expand"&&S]}),_,!w&&p==="expand"&&P.jsx(Rt,{className:"field-description",in:I,children:C})]})}try{je.displayName="RJSFInputLabelWrapper",je.__docgenInfo={description:"Component that handles rendering our custom input label and description fields for RJSF.",displayName:"RJSFInputLabelWrapper",props:{hideLabel:{defaultValue:{value:"false"},description:"If true, the label will not be shown",name:"hideLabel",required:!1,type:{name:"boolean"}},fieldLabel:{defaultValue:null,description:"The rendered label of the field",name:"fieldLabel",required:!0,type:{name:"ReactNode"}},description:{defaultValue:null,description:"The rendered description of the field",name:"description",required:!0,type:{name:"ReactNode"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}const Ce=Se.createContext(void 0);function ze(y){return P.jsx(Ce.Provider,{value:y.value,children:y.children})}const At=Ce.Consumer;function nn(){return Se.useContext(Ce)}try{ze.displayName="AdditionalPropertyContextProvider",ze.__docgenInfo={description:"",displayName:"AdditionalPropertyContextProvider",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"AdditionalPropertyContextType"}}}}}catch{}try{Ce.displayName="AdditionalPropertyContext",Ce.__docgenInfo={description:"The `AdditionalPropertyContext` is a custom context object used to pass the `dropProperty` handler to the items within\na particular additional property.\n\nIn RJSF, dropping an entire additional property is handled at the `object` level. In the Synapse Annotations UI,\nwe treat all additional properties (a.k.a. custom annotations) as arrays, and render the delete control at the `array`\nlevel. RJSF does not normally provide the drop property handler at the `array` level, so we capture it and pass it\nalong using this context.",displayName:"AdditionalPropertyContext",props:{}}}catch{}try{At.displayName="AdditionalPropertyContextConsumer",At.__docgenInfo={description:"",displayName:"AdditionalPropertyContextConsumer",props:{}}}catch{}function Ge(y){const{idSchema:w,uiSchema:x,items:C,registry:k,schema:_,formContext:p}=y,I=ct(x),b=we("ArrayFieldTitleTemplate",k,I),S=we("ArrayFieldDescriptionTemplate",k,I),g=we("ArrayFieldItemTemplate",k,I),s=!!y.schema[wr],l=nn();return Se.useEffect(()=>{y.items.length===0&&!(p!=null&&p.allowRemovingLastItemInArray)&&y.onAddClick()},[y,p==null?void 0:p.allowRemovingLastItemInArray]),P.jsx(ft,{id:w.$id,className:y.className,children:P.jsxs(je,{fieldLabel:P.jsx(b,{...y}),description:P.jsx(S,{idSchema:w,schema:_,description:(I.description||_.description)??"",uiSchema:x,registry:k}),registry:k,children:[(!C||jt(C))&&P.jsx(Ft,{variant:"outlined",onClick:y.onAddClick,children:"Add item"}),C&&P.jsx(P.Fragment,{children:C.map(({key:m,index:o,...u})=>P.jsx(g,{index:o,...u,hasRemove:s||C.length>1||!!(p!=null&&p.allowRemovingLastItemInArray),onDropIndexClick:s&&C.length==1&&l?()=>r=>{l.dropProperty(r)}:u.onDropIndexClick},m))})]})})}try{Ge.displayName="ArrayFieldTemplate",Ge.__docgenInfo={description:"The `ArrayFieldTemplate` component is the template used to render all items in an array.",displayName:"ArrayFieldTemplate",props:{canAdd:{defaultValue:null,description:"A boolean value stating whether new elements can be added to the array",name:"canAdd",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"The className string",name:"className",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"A boolean value stating if the array is disabled",name:"disabled",required:!1,type:{name:"boolean"}},idSchema:{defaultValue:null,description:"An object containing the id for this object & ids for its properties",name:"idSchema",required:!0,type:{name:"FieldId | (FieldId & { [key in keyof T]?: IdSchema<T[key]> | undefined; })"}},items:{defaultValue:null,description:"An array of objects representing the items in the array",name:"items",required:!0,type:{name:"ArrayFieldTemplateItemType<T, S, F>[]"}},onAddClick:{defaultValue:null,description:"A function that adds a new item to the array",name:"onAddClick",required:!0,type:{name:"(event?: any) => void"}},readonly:{defaultValue:null,description:"A boolean value stating if the array is read-only",name:"readonly",required:!1,type:{name:"boolean"}},required:{defaultValue:null,description:"A boolean value stating if the array is required",name:"required",required:!1,type:{name:"boolean"}},hideError:{defaultValue:null,description:"A boolean value stating if the field is hiding its errors",name:"hideError",required:!1,type:{name:"boolean"}},schema:{defaultValue:null,description:"The schema object for this array",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this array field",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},title:{defaultValue:null,description:"A string value containing the title for the array",name:"title",required:!0,type:{name:"string"}},formContext:{defaultValue:null,description:"The `formContext` object that was passed to Form",name:"formContext",required:!1,type:{name:"CustomFormContext"}},formData:{defaultValue:null,description:"The formData for this array",name:"formData",required:!1,type:{name:"T"}},errorSchema:{defaultValue:null,description:"The tree of errors for this field and its children",name:"errorSchema",required:!1,type:{name:"ErrorSchema<T>"}},rawErrors:{defaultValue:null,description:"An array of strings listing all generated error messages from encountered errors for this widget",name:"rawErrors",required:!1,type:{name:"string[]"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}function We(y){const{title:w,required:x}=y;return P.jsxs(dt,{children:[w,x&&P.jsx("span",{className:"required",children:"*"})]})}try{We.displayName="ArrayFieldTitleTemplate",We.__docgenInfo={description:"Custom title template for array fields.",displayName:"ArrayFieldTitleTemplate",props:{required:{defaultValue:null,description:"A boolean value stating if the field is required",name:"required",required:!1,type:{name:"boolean"}},schema:{defaultValue:null,description:"The schema object for the field being titled",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this title field",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}},title:{defaultValue:null,description:"The title for the field being rendered",name:"title",required:!1,type:{name:"string"}},idSchema:{defaultValue:null,description:"The idSchema of the field in the hierarchy",name:"idSchema",required:!0,type:{name:"FieldId | (FieldId & { [key in keyof T]?: IdSchema<T[key]> | undefined; })"}}}}}catch{}const an=["date","datetime-local","file","time"];function Je(y){const{id:w,name:x,placeholder:C,required:k,readonly:_,disabled:p,type:I,label:b,hideLabel:S,hideError:g,value:s,onChange:l,onChangeOverride:m,onBlur:o,onFocus:u,autofocus:r,options:v,schema:A,uiSchema:h,rawErrors:n=[],formContext:a,registry:d,InputLabelProps:f,...L}=y,q=!0,$=Cr(A,I,v),{step:j,min:G,max:U,...H}=$,X={inputProps:{step:j,min:G,max:U,...A.examples?{list:It(w)}:void 0},...H},ue=({target:{value:pe}})=>l(pe===""?v.emptyValue:pe),ee=({target:{value:pe}})=>o(w,pe),Z=({target:{value:pe}})=>u(w,pe),ce=an.includes(I)?{...f,shrink:!0}:f;let se;(A.default||A.const)&&(se=JSON.stringify(A.default||A.const)+" (derived)");const fe=d.formContext.showDerivedAnnotationPlaceholder&&se||C;return P.jsxs(P.Fragment,{children:[P.jsx(Br,{id:w,name:w,placeholder:fe,label:Ar(b||void 0,q,!1),autoFocus:r,required:!1,disabled:p||_,...X,value:s||s===0?s:"",error:n.length>0,onChange:m||ue,onBlur:ee,onFocus:Z,InputLabelProps:ce,...L,inputProps:{"aria-label":w},"aria-describedby":Nr(w,!!A.examples)}),Array.isArray(A.examples)&&P.jsx("datalist",{id:It(w),children:A.examples.concat(A.default&&!A.examples.includes(A.default)?[A.default]:[]).map(pe=>P.jsx("option",{value:pe},pe))})]})}try{Je.displayName="BaseInputTemplate",Je.__docgenInfo={description:"The `BaseInputTemplate` is the template to use to render the basic `<input>` component for the `core` theme.\nIt is used as the template for rendering many of the <input> based widgets that differ by `type` and callbacks only.\nIt can be customized/overridden for other themes or individual implementations as needed.",displayName:"BaseInputTemplate",props:{}}}catch{}const Dt={minWidth:"unset",width:"40px",height:"40px"};function Xe({uiSchema:y,registry:w,...x}){const{translateString:C}=w;return P.jsx(Ft,{title:C(Ae.AddItemButton),...x,color:"primary",variant:"contained",sx:Dt,children:P.jsx(en,{})})}function sn(y){switch(y){case"copy":return P.jsx(Vr,{fontSize:"inherit"});case"moveUp":return P.jsx(Mr,{fontSize:"inherit"});case"moveDown":return P.jsx(tn,{fontSize:"inherit"});case"remove":return P.jsx(Ur,{fontSize:"inherit"});default:throw new Error(`Unexpected iconType ${y}`)}}function Fe(y){const{iconType:w,buttonType:x,uiSchema:C,...k}=y;return P.jsx(Lt,{...k,color:"default",sx:Dt,children:sn(x)})}function Ke(y){const{registry:{translateString:w}}=y;return P.jsx(Fe,{title:w(Ae.RemoveButton),...y,buttonType:"remove"})}function Qe(y){const{registry:{translateString:w}}=y;return P.jsx(Fe,{title:w(Ae.CopyButton),...y,buttonType:"copy"})}function Ye(y){const{registry:{translateString:w}}=y;return P.jsx(Fe,{title:w(Ae.MoveUpButton),...y,buttonType:"moveUp"})}function Ze(y){const{registry:{translateString:w}}=y;return P.jsx(Fe,{title:w(Ae.MoveDownButton),...y,buttonType:"moveDown"})}const on={AddButton:Xe,RemoveButton:Ke,MoveUpButton:Ye,MoveDownButton:Ze,CopyButton:Qe};try{Xe.displayName="AddButton",Xe.__docgenInfo={description:"",displayName:"AddButton",props:{iconType:{defaultValue:null,description:"An alternative specification for the type of the icon button",name:"iconType",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"The name representation or actual react element implementation for the icon",name:"icon",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},uiSchema:{defaultValue:null,description:"The uiSchema for this widget",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}try{Ke.displayName="RemoveButton",Ke.__docgenInfo={description:"",displayName:"RemoveButton",props:{iconType:{defaultValue:null,description:"An alternative specification for the type of the icon button",name:"iconType",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"The name representation or actual react element implementation for the icon",name:"icon",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},uiSchema:{defaultValue:null,description:"The uiSchema for this widget",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}try{Qe.displayName="CopyButton",Qe.__docgenInfo={description:"",displayName:"CopyButton",props:{iconType:{defaultValue:null,description:"An alternative specification for the type of the icon button",name:"iconType",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"The name representation or actual react element implementation for the icon",name:"icon",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},uiSchema:{defaultValue:null,description:"The uiSchema for this widget",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}try{Ye.displayName="MoveUpButton",Ye.__docgenInfo={description:"",displayName:"MoveUpButton",props:{iconType:{defaultValue:null,description:"An alternative specification for the type of the icon button",name:"iconType",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"The name representation or actual react element implementation for the icon",name:"icon",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},uiSchema:{defaultValue:null,description:"The uiSchema for this widget",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}try{Ze.displayName="MoveDownButton",Ze.__docgenInfo={description:"",displayName:"MoveDownButton",props:{iconType:{defaultValue:null,description:"An alternative specification for the type of the icon button",name:"iconType",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"The name representation or actual react element implementation for the icon",name:"icon",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},uiSchema:{defaultValue:null,description:"The uiSchema for this widget",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}function qt(y){if(Array.isArray(y)||typeof y=="boolean")return"unknown";const{type:w,enum:x}=y;return w==="array"&&typeof y.items=="object"?`List of ${qt(y.items)}`:x?"enumeration":Array.isArray(w)?w.reduce((C,k)=>`${C}, ${k}`,""):w||"unknown"}function et(y){const{description:w,schema:x}=y,C=qt(x);return P.jsx(Rt,{className:"field-description",in:!0,children:P.jsx(ft,{component:"table",className:"FieldDescriptionTable",mb:1,children:P.jsxs("tbody",{children:[w&&P.jsxs("tr",{children:[P.jsx("th",{children:"Description"}),P.jsx("td",{children:w})]}),P.jsxs("tr",{children:[P.jsx("th",{children:"Type"}),P.jsx("td",{children:C})]})]})})})}try{et.displayName="FieldDescriptionTable",et.__docgenInfo={description:"",displayName:"FieldDescriptionTable",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"JSONSchema7"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"ReactNode"}}}}}catch{}function tt(y){const{description:w,schema:x={},registry:C}=y,k=C.formContext.descriptionFormat||"string";return x.type==="object"?P.jsx(Ct,{variant:"body1",sx:{my:2},children:w}):k==="string"?P.jsx(Ct,{variant:"body1",children:w}):P.jsx(et,{schema:x,description:w})}try{tt.displayName="DescriptionFieldTemplate",tt.__docgenInfo={description:"",displayName:"DescriptionFieldTemplate",props:{id:{defaultValue:null,description:"The id of the field description in the hierarchy",name:"id",required:!0,type:{name:"string"}},schema:{defaultValue:null,description:"The schema object for the field being described",name:"schema",required:!0,type:{name:"RJSFSchema"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this description field",name:"uiSchema",required:!1,type:{name:"UiSchema<any, RJSFSchema, any>"}},description:{defaultValue:null,description:"The description of the field being rendered",name:"description",required:!0,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<any, RJSFSchema, any>"}}}}}catch{}const Bt=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z/,ln=["String","Integer","Float","Boolean","Datetime"];function rt(y){return y.length===0?"String":y.every(w=>typeof w=="number"||w==="NaN")?y.every(w=>Number.isInteger(w))?"Integer":"Float":y.every(w=>typeof w=="boolean")?"Boolean":y.every(w=>typeof w=="string")&&y.every(w=>!!Bt.exec(w))?"Datetime":"String"}function Nt(y,w){switch(w){case"Integer":return y.map(x=>Number.isNaN(Number(x))?0:Math.floor(Number(x)));case"Float":return y.map(x=>{const C=parseFloat(x);return Number.isNaN(C)?"NaN":Number.isInteger(C)?C.toFixed(1):C});case"Datetime":return y.map(x=>typeof x=="string"&&Bt.exec(x)?x:new Date().toISOString());case"Boolean":return y.map(x=>!!x);case"String":default:return y.map(x=>String(x))}}function nt(y){switch(y){case"Datetime":return{type:"string",format:"datetime"};case"Boolean":return{type:"boolean"};case"Float":return{type:"number"};case"Integer":return{type:"integer"};case"String":default:return{type:"string"}}}function it(y){const{formData:w,onChange:x,registry:C,schema:k,name:_,onDropPropertyClick:p,idSchema:I}=y,b=I.$id,{ArrayField:S}=C.fields,{SelectWidget:g}=C.widgets,[s,l]=Se.useState(rt(Pt(w))),[m,o]=Se.useState(s);Se.useEffect(()=>{function r(){if(Array.isArray(w)){const v=w.length===0||w.every(h=>h==null||h==""),A=Nt(w,m);(v||m!==s)&&Hr(w,A)&&l(m)}}r()},[m]),Se.useEffect(()=>{function r(){if(Array.isArray(w))if(w.every(v=>v==null))p(_)(new CustomEvent("dropEmptyProperty"));else{const v=Nt(w,m);l(m),x(v)}}r()},[s]);const u=nt(s);return Se.useEffect(()=>{Array.isArray(w)||x(Pt(w))},[w,x]),Array.isArray(w)?P.jsxs(ze,{value:{dropProperty:r=>{p(_)(r)}},children:[P.jsxs(_e,{item:!0,xs:2,children:[P.jsx(dt,{htmlFor:`${b}-type`,children:"Type"}),P.jsx(g,{name:"Type",id:`${b}-type`,schema:{},options:{enumOptions:ln.map(r=>({label:r,value:r}))},value:s,onChange:r=>{o(r)},disabled:y.disabled,readOnly:y.readonly,required:!0,isClearable:!1,onBlur:()=>{},onFocus:()=>{},registry:C,label:"Type"})]}),P.jsx(_e,{item:!0,xs:7,children:P.jsx(S,{...y,schema:{...k,items:{...u}}})}),s!==m&&P.jsx($r,{variant:"warning",title:"Data may be lost when converting types",description:`Are you sure you want to convert ${_} from ${s} to ${m}? Current values may be lost on conversion.`,primaryButtonConfig:{text:"Convert",onClick:()=>{l(m)}},secondaryButtonConfig:{text:"Cancel",onClick:()=>{o(s)}},isGlobal:!1})]}):P.jsx(P.Fragment,{})}try{rt.displayName="guessPropertyType",rt.__docgenInfo={description:"",displayName:"guessPropertyType",props:{}}}catch{}try{nt.displayName="getSchemaForPropertyType",nt.__docgenInfo={description:"Maps a Synapse Annotation PropertyType to a JSON Schema that captures the type and format.",displayName:"getSchemaForPropertyType",props:{}}}catch{}try{it.displayName="AdditionalPropertiesSchemaField",it.__docgenInfo={description:`react-jsonschema-form SchemaField override for "additionalProperties" only. In Synapse these are "custom annotations".
Modifies the data to provide full compatibility with Synapse annotations features.

This component provides these enhancements to the SchemaField:
- Supports selecting a type, and changing the input widget appropriately
- Identifying the type on mount
- Treat all field values as arrays
- When the last array value is removed, remove the entire key from the form.`,displayName:"AdditionalPropertiesSchemaField",props:{onDropPropertyClick:{defaultValue:null,description:"",name:"onDropPropertyClick",required:!0,type:{name:"(key: string) => (event: any) => void"}}}}}catch{}var Vt={exports:{}};/*! jsonpath 1.1.1 */(function(y,w){(function(x){y.exports=x()})(function(){return function x(C,k,_){function p(S,g){if(!k[S]){if(!C[S]){var s=typeof Le=="function"&&Le;if(!g&&s)return s(S,!0);if(I)return I(S,!0);var l=new Error("Cannot find module '"+S+"'");throw l.code="MODULE_NOT_FOUND",l}var m=k[S]={exports:{}};C[S][0].call(m.exports,function(o){var u=C[S][1][o];return p(u||o)},m,m.exports,x,C,k,_)}return k[S].exports}for(var I=typeof Le=="function"&&Le,b=0;b<_.length;b++)p(_[b]);return p}({"./aesprim":[function(x,C,k){(function(_,p){p(typeof k<"u"?k:_.esprima={})})(this,function(_){var p,I,b,S,g,s,l,m,o,u,r,v,A,h,n,a,d,f;p={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},I={},I[p.BooleanLiteral]="Boolean",I[p.EOF]="<end>",I[p.Identifier]="Identifier",I[p.Keyword]="Keyword",I[p.NullLiteral]="Null",I[p.NumericLiteral]="Numeric",I[p.Punctuator]="Punctuator",I[p.StringLiteral]="String",I[p.RegularExpression]="RegularExpression",b=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],S={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},g={Data:1,Get:2,Set:4},s={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},l={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")};function L(e,t){if(!e)throw new Error("ASSERT: "+t)}function q(e){return e>=48&&e<=57}function $(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function j(e){return"01234567".indexOf(e)>=0}function G(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function U(e){return e===10||e===13||e===8232||e===8233}function H(e){return e==64||e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&l.NonAsciiIdentifierStart.test(String.fromCharCode(e))}function X(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&l.NonAsciiIdentifierPart.test(String.fromCharCode(e))}function ue(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function ee(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function Z(e){return e==="eval"||e==="arguments"}function ce(e){if(u&&ee(e))return!0;switch(e.length){case 2:return e==="if"||e==="in"||e==="do";case 3:return e==="var"||e==="for"||e==="new"||e==="try"||e==="let";case 4:return e==="this"||e==="else"||e==="case"||e==="void"||e==="with"||e==="enum";case 5:return e==="while"||e==="break"||e==="catch"||e==="throw"||e==="const"||e==="yield"||e==="class"||e==="super";case 6:return e==="return"||e==="typeof"||e==="delete"||e==="switch"||e==="export"||e==="import";case 7:return e==="default"||e==="finally"||e==="extends";case 8:return e==="function"||e==="continue"||e==="debugger";case 10:return e==="instanceof";default:return!1}}function se(e,t,i,c,T){var O;L(typeof i=="number","Comment must have valid position"),!(d.lastCommentStart>=i)&&(d.lastCommentStart=i,O={type:e,value:t},f.range&&(O.range=[i,c]),f.loc&&(O.loc=T),f.comments.push(O),f.attachComment&&(f.leadingComments.push(O),f.trailingComments.push(O)))}function fe(e){var t,i,c,T;for(t=r-e,i={start:{line:v,column:r-A-e}};r<h;)if(c=o.charCodeAt(r),++r,U(c)){f.comments&&(T=o.slice(t+e,r-1),i.end={line:v,column:r-A-1},se("Line",T,t,r-1,i)),c===13&&o.charCodeAt(r)===10&&++r,++v,A=r;return}f.comments&&(T=o.slice(t+e,r),i.end={line:v,column:r-A},se("Line",T,t,r,i))}function pe(){var e,t,i,c;for(f.comments&&(e=r-2,t={start:{line:v,column:r-A-2}});r<h;)if(i=o.charCodeAt(r),U(i))i===13&&o.charCodeAt(r+1)===10&&++r,++v,++r,A=r,r>=h&&V({},s.UnexpectedToken,"ILLEGAL");else if(i===42){if(o.charCodeAt(r+1)===47){++r,++r,f.comments&&(c=o.slice(e+2,r-2),t.end={line:v,column:r-A},se("Block",c,e,r,t));return}++r}else++r;V({},s.UnexpectedToken,"ILLEGAL")}function E(){var e,t;for(t=r===0;r<h;)if(e=o.charCodeAt(r),G(e))++r;else if(U(e))++r,e===13&&o.charCodeAt(r)===10&&++r,++v,A=r,t=!0;else if(e===47)if(e=o.charCodeAt(r+1),e===47)++r,++r,fe(2),t=!0;else if(e===42)++r,++r,pe();else break;else if(t&&e===45)if(o.charCodeAt(r+1)===45&&o.charCodeAt(r+2)===62)r+=3,fe(3);else break;else if(e===60)if(o.slice(r+1,r+4)==="!--")++r,++r,++r,++r,fe(4);else break;else break}function N(e){var t,i,c,T=0;for(i=e==="u"?4:2,t=0;t<i;++t)if(r<h&&$(o[r]))c=o[r++],T=T*16+"0123456789abcdef".indexOf(c.toLowerCase());else return"";return String.fromCharCode(T)}function R(){var e,t;for(e=o.charCodeAt(r++),t=String.fromCharCode(e),e===92&&(o.charCodeAt(r)!==117&&V({},s.UnexpectedToken,"ILLEGAL"),++r,e=N("u"),(!e||e==="\\"||!H(e.charCodeAt(0)))&&V({},s.UnexpectedToken,"ILLEGAL"),t=e);r<h&&(e=o.charCodeAt(r),!!X(e));)++r,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),o.charCodeAt(r)!==117&&V({},s.UnexpectedToken,"ILLEGAL"),++r,e=N("u"),(!e||e==="\\"||!X(e.charCodeAt(0)))&&V({},s.UnexpectedToken,"ILLEGAL"),t+=e);return t}function Q(){var e,t;for(e=r++;r<h;){if(t=o.charCodeAt(r),t===92)return r=e,R();if(X(t))++r;else break}return o.slice(e,r)}function ne(){var e,t,i;return e=r,t=o.charCodeAt(r)===92?R():Q(),t.length===1?i=p.Identifier:ce(t)?i=p.Keyword:t==="null"?i=p.NullLiteral:t==="true"||t==="false"?i=p.BooleanLiteral:i=p.Identifier,{type:i,value:t,lineNumber:v,lineStart:A,start:e,end:r}}function z(){var e=r,t=o.charCodeAt(r),i,c=o[r],T,O,M;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++r,f.tokenize&&(t===40?f.openParenToken=f.tokens.length:t===123&&(f.openCurlyToken=f.tokens.length)),{type:p.Punctuator,value:String.fromCharCode(t),lineNumber:v,lineStart:A,start:e,end:r};default:if(i=o.charCodeAt(r+1),i===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return r+=2,{type:p.Punctuator,value:String.fromCharCode(t)+String.fromCharCode(i),lineNumber:v,lineStart:A,start:e,end:r};case 33:case 61:return r+=2,o.charCodeAt(r)===61&&++r,{type:p.Punctuator,value:o.slice(e,r),lineNumber:v,lineStart:A,start:e,end:r}}}if(M=o.substr(r,4),M===">>>=")return r+=4,{type:p.Punctuator,value:M,lineNumber:v,lineStart:A,start:e,end:r};if(O=M.substr(0,3),O===">>>"||O==="<<="||O===">>=")return r+=3,{type:p.Punctuator,value:O,lineNumber:v,lineStart:A,start:e,end:r};if(T=O.substr(0,2),c===T[1]&&"+-<>&|".indexOf(c)>=0||T==="=>")return r+=2,{type:p.Punctuator,value:T,lineNumber:v,lineStart:A,start:e,end:r};if("<>=!+-*%&|^/".indexOf(c)>=0)return++r,{type:p.Punctuator,value:c,lineNumber:v,lineStart:A,start:e,end:r};V({},s.UnexpectedToken,"ILLEGAL")}function W(e){for(var t="";r<h&&$(o[r]);)t+=o[r++];return t.length===0&&V({},s.UnexpectedToken,"ILLEGAL"),H(o.charCodeAt(r))&&V({},s.UnexpectedToken,"ILLEGAL"),{type:p.NumericLiteral,value:parseInt("0x"+t,16),lineNumber:v,lineStart:A,start:e,end:r}}function Y(e){for(var t="0"+o[r++];r<h&&j(o[r]);)t+=o[r++];return(H(o.charCodeAt(r))||q(o.charCodeAt(r)))&&V({},s.UnexpectedToken,"ILLEGAL"),{type:p.NumericLiteral,value:parseInt(t,8),octal:!0,lineNumber:v,lineStart:A,start:e,end:r}}function te(){var e,t,i;if(i=o[r],L(q(i.charCodeAt(0))||i===".","Numeric literal must start with a decimal digit or a decimal point"),t=r,e="",i!=="."){if(e=o[r++],i=o[r],e==="0"){if(i==="x"||i==="X")return++r,W(t);if(j(i))return Y(t);i&&q(i.charCodeAt(0))&&V({},s.UnexpectedToken,"ILLEGAL")}for(;q(o.charCodeAt(r));)e+=o[r++];i=o[r]}if(i==="."){for(e+=o[r++];q(o.charCodeAt(r));)e+=o[r++];i=o[r]}if(i==="e"||i==="E")if(e+=o[r++],i=o[r],(i==="+"||i==="-")&&(e+=o[r++]),q(o.charCodeAt(r)))for(;q(o.charCodeAt(r));)e+=o[r++];else V({},s.UnexpectedToken,"ILLEGAL");return H(o.charCodeAt(r))&&V({},s.UnexpectedToken,"ILLEGAL"),{type:p.NumericLiteral,value:parseFloat(e),lineNumber:v,lineStart:A,start:t,end:r}}function me(){var e="",t,i,c,T,O,M,K=!1,le,ae;for(le=v,ae=A,t=o[r],L(t==="'"||t==='"',"String literal must starts with a quote"),i=r,++r;r<h;)if(c=o[r++],c===t){t="";break}else if(c==="\\")if(c=o[r++],!c||!U(c.charCodeAt(0)))switch(c){case"u":case"x":M=r,O=N(c),O?e+=O:(r=M,e+=c);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:j(c)?(T="01234567".indexOf(c),T!==0&&(K=!0),r<h&&j(o[r])&&(K=!0,T=T*8+"01234567".indexOf(o[r++]),"0123".indexOf(c)>=0&&r<h&&j(o[r])&&(T=T*8+"01234567".indexOf(o[r++]))),e+=String.fromCharCode(T)):e+=c;break}else++v,c==="\r"&&o[r]===`
`&&++r,A=r;else{if(U(c.charCodeAt(0)))break;e+=c}return t!==""&&V({},s.UnexpectedToken,"ILLEGAL"),{type:p.StringLiteral,value:e,octal:K,startLineNumber:le,startLineStart:ae,lineNumber:v,lineStart:A,start:i,end:r}}function Ee(e,t){var i;try{i=new RegExp(e,t)}catch{V({},s.InvalidRegExp)}return i}function De(){var e,t,i,c,T;for(e=o[r],L(e==="/","Regular expression literal must start with a slash"),t=o[r++],i=!1,c=!1;r<h;)if(e=o[r++],t+=e,e==="\\")e=o[r++],U(e.charCodeAt(0))&&V({},s.UnterminatedRegExp),t+=e;else if(U(e.charCodeAt(0)))V({},s.UnterminatedRegExp);else if(i)e==="]"&&(i=!1);else if(e==="/"){c=!0;break}else e==="["&&(i=!0);return c||V({},s.UnterminatedRegExp),T=t.substr(1,t.length-2),{value:T,literal:t}}function Te(){var e,t,i,c;for(t="",i="";r<h&&(e=o[r],!!X(e.charCodeAt(0)));)if(++r,e==="\\"&&r<h)if(e=o[r],e==="u"){if(++r,c=r,e=N("u"),e)for(i+=e,t+="\\u";c<r;++c)t+=o[c];else r=c,i+="u",t+="\\u";J({},s.UnexpectedToken,"ILLEGAL")}else t+="\\",J({},s.UnexpectedToken,"ILLEGAL");else i+=e,t+=e;return{value:i,literal:t}}function Ne(){var e,t,i,c;return a=null,E(),e=r,t=De(),i=Te(),c=Ee(t.value,i.value),f.tokenize?{type:p.RegularExpression,value:c,lineNumber:v,lineStart:A,start:e,end:r}:{literal:t.literal+i.literal,value:c,start:e,end:r}}function be(){var e,t,i,c;return E(),e=r,t={start:{line:v,column:r-A}},i=Ne(),t.end={line:v,column:r-A},f.tokenize||(f.tokens.length>0&&(c=f.tokens[f.tokens.length-1],c.range[0]===e&&c.type==="Punctuator"&&(c.value==="/"||c.value==="/=")&&f.tokens.pop()),f.tokens.push({type:"RegularExpression",value:i.literal,range:[e,r],loc:t})),i}function Mt(e){return e.type===p.Identifier||e.type===p.Keyword||e.type===p.BooleanLiteral||e.type===p.NullLiteral}function $t(){var e,t;if(e=f.tokens[f.tokens.length-1],!e)return be();if(e.type==="Punctuator"){if(e.value==="]")return z();if(e.value===")")return t=f.tokens[f.openParenToken-1],t&&t.type==="Keyword"&&(t.value==="if"||t.value==="while"||t.value==="for"||t.value==="with")?be():z();if(e.value==="}"){if(f.tokens[f.openCurlyToken-3]&&f.tokens[f.openCurlyToken-3].type==="Keyword"){if(t=f.tokens[f.openCurlyToken-4],!t)return z()}else if(f.tokens[f.openCurlyToken-4]&&f.tokens[f.openCurlyToken-4].type==="Keyword"){if(t=f.tokens[f.openCurlyToken-5],!t)return be()}else return z();return b.indexOf(t.value)>=0?z():be()}return be()}return e.type==="Keyword"?be():z()}function qe(){var e;return E(),r>=h?{type:p.EOF,lineNumber:v,lineStart:A,start:r,end:r}:(e=o.charCodeAt(r),H(e)?ne():e===40||e===41||e===59?z():e===39||e===34?me():e===46?q(o.charCodeAt(r+1))?te():z():q(e)?te():f.tokenize&&e===47?$t():z())}function mt(){var e,t,i;return E(),e={start:{line:v,column:r-A}},t=qe(),e.end={line:v,column:r-A},t.type!==p.EOF&&(i=o.slice(t.start,t.end),f.tokens.push({type:I[t.type],value:i,range:[t.start,t.end],loc:e})),t}function B(){var e;return e=a,r=e.end,v=e.lineNumber,A=e.lineStart,a=typeof f.tokens<"u"?mt():qe(),r=e.end,v=e.lineNumber,A=e.lineStart,e}function Be(){var e,t,i;e=r,t=v,i=A,a=typeof f.tokens<"u"?mt():qe(),r=e,v=t,A=i}function ht(e,t){this.line=e,this.column=t}function Ht(e,t,i,c){this.start=new ht(e,t),this.end=new ht(i,c)}m={name:"SyntaxTree",processComment:function(e){var t,i;if(!(e.type===S.Program&&e.body.length>0)){for(f.trailingComments.length>0?f.trailingComments[0].range[0]>=e.range[1]?(i=f.trailingComments,f.trailingComments=[]):f.trailingComments.length=0:f.bottomRightStack.length>0&&f.bottomRightStack[f.bottomRightStack.length-1].trailingComments&&f.bottomRightStack[f.bottomRightStack.length-1].trailingComments[0].range[0]>=e.range[1]&&(i=f.bottomRightStack[f.bottomRightStack.length-1].trailingComments,delete f.bottomRightStack[f.bottomRightStack.length-1].trailingComments);f.bottomRightStack.length>0&&f.bottomRightStack[f.bottomRightStack.length-1].range[0]>=e.range[0];)t=f.bottomRightStack.pop();t?t.leadingComments&&t.leadingComments[t.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=t.leadingComments,delete t.leadingComments):f.leadingComments.length>0&&f.leadingComments[f.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=f.leadingComments,f.leadingComments=[]),i&&(e.trailingComments=i),f.bottomRightStack.push(e)}},markEnd:function(e,t){return f.range&&(e.range=[t.start,r]),f.loc&&(e.loc=new Ht(t.startLineNumber===void 0?t.lineNumber:t.startLineNumber,t.start-(t.startLineStart===void 0?t.lineStart:t.startLineStart),v,r-A),this.postProcess(e)),f.attachComment&&this.processComment(e),e},postProcess:function(e){return f.source&&(e.loc.source=f.source),e},createArrayExpression:function(e){return{type:S.ArrayExpression,elements:e}},createAssignmentExpression:function(e,t,i){return{type:S.AssignmentExpression,operator:e,left:t,right:i}},createBinaryExpression:function(e,t,i){var c=e==="||"||e==="&&"?S.LogicalExpression:S.BinaryExpression;return{type:c,operator:e,left:t,right:i}},createBlockStatement:function(e){return{type:S.BlockStatement,body:e}},createBreakStatement:function(e){return{type:S.BreakStatement,label:e}},createCallExpression:function(e,t){return{type:S.CallExpression,callee:e,arguments:t}},createCatchClause:function(e,t){return{type:S.CatchClause,param:e,body:t}},createConditionalExpression:function(e,t,i){return{type:S.ConditionalExpression,test:e,consequent:t,alternate:i}},createContinueStatement:function(e){return{type:S.ContinueStatement,label:e}},createDebuggerStatement:function(){return{type:S.DebuggerStatement}},createDoWhileStatement:function(e,t){return{type:S.DoWhileStatement,body:e,test:t}},createEmptyStatement:function(){return{type:S.EmptyStatement}},createExpressionStatement:function(e){return{type:S.ExpressionStatement,expression:e}},createForStatement:function(e,t,i,c){return{type:S.ForStatement,init:e,test:t,update:i,body:c}},createForInStatement:function(e,t,i){return{type:S.ForInStatement,left:e,right:t,body:i,each:!1}},createFunctionDeclaration:function(e,t,i,c){return{type:S.FunctionDeclaration,id:e,params:t,defaults:i,body:c,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(e,t,i,c){return{type:S.FunctionExpression,id:e,params:t,defaults:i,body:c,rest:null,generator:!1,expression:!1}},createIdentifier:function(e){return{type:S.Identifier,name:e}},createIfStatement:function(e,t,i){return{type:S.IfStatement,test:e,consequent:t,alternate:i}},createLabeledStatement:function(e,t){return{type:S.LabeledStatement,label:e,body:t}},createLiteral:function(e){return{type:S.Literal,value:e.value,raw:o.slice(e.start,e.end)}},createMemberExpression:function(e,t,i){return{type:S.MemberExpression,computed:e==="[",object:t,property:i}},createNewExpression:function(e,t){return{type:S.NewExpression,callee:e,arguments:t}},createObjectExpression:function(e){return{type:S.ObjectExpression,properties:e}},createPostfixExpression:function(e,t){return{type:S.UpdateExpression,operator:e,argument:t,prefix:!1}},createProgram:function(e){return{type:S.Program,body:e}},createProperty:function(e,t,i){return{type:S.Property,key:t,value:i,kind:e}},createReturnStatement:function(e){return{type:S.ReturnStatement,argument:e}},createSequenceExpression:function(e){return{type:S.SequenceExpression,expressions:e}},createSwitchCase:function(e,t){return{type:S.SwitchCase,test:e,consequent:t}},createSwitchStatement:function(e,t){return{type:S.SwitchStatement,discriminant:e,cases:t}},createThisExpression:function(){return{type:S.ThisExpression}},createThrowStatement:function(e){return{type:S.ThrowStatement,argument:e}},createTryStatement:function(e,t,i,c){return{type:S.TryStatement,block:e,guardedHandlers:t,handlers:i,finalizer:c}},createUnaryExpression:function(e,t){return e==="++"||e==="--"?{type:S.UpdateExpression,operator:e,argument:t,prefix:!0}:{type:S.UnaryExpression,operator:e,argument:t,prefix:!0}},createVariableDeclaration:function(e,t){return{type:S.VariableDeclaration,declarations:e,kind:t}},createVariableDeclarator:function(e,t){return{type:S.VariableDeclarator,id:e,init:t}},createWhileStatement:function(e,t){return{type:S.WhileStatement,test:e,body:t}},createWithStatement:function(e,t){return{type:S.WithStatement,object:e,body:t}}};function ke(){var e,t,i,c;return e=r,t=v,i=A,E(),c=v!==t,r=e,v=t,A=i,c}function V(e,t){var i,c=Array.prototype.slice.call(arguments,2),T=t.replace(/%(\d)/g,function(O,M){return L(M<c.length,"Message reference must be in range"),c[M]});throw typeof e.lineNumber=="number"?(i=new Error("Line "+e.lineNumber+": "+T),i.index=e.start,i.lineNumber=e.lineNumber,i.column=e.start-A+1):(i=new Error("Line "+v+": "+T),i.index=r,i.lineNumber=v,i.column=r-A+1),i.description=T,i}function J(){try{V.apply(null,arguments)}catch(e){if(f.errors)f.errors.push(e);else throw e}}function he(e){if(e.type===p.EOF&&V(e,s.UnexpectedEOS),e.type===p.NumericLiteral&&V(e,s.UnexpectedNumber),e.type===p.StringLiteral&&V(e,s.UnexpectedString),e.type===p.Identifier&&V(e,s.UnexpectedIdentifier),e.type===p.Keyword){if(ue(e.value))V(e,s.UnexpectedReserved);else if(u&&ee(e.value)){J(e,s.StrictReservedWord);return}V(e,s.UnexpectedToken,e.value)}V(e,s.UnexpectedToken,e.value)}function D(e){var t=B();(t.type!==p.Punctuator||t.value!==e)&&he(t)}function re(e){var t=B();(t.type!==p.Keyword||t.value!==e)&&he(t)}function F(e){return a.type===p.Punctuator&&a.value===e}function oe(e){return a.type===p.Keyword&&a.value===e}function zt(){var e;return a.type!==p.Punctuator?!1:(e=a.value,e==="="||e==="*="||e==="/="||e==="%="||e==="+="||e==="-="||e==="<<="||e===">>="||e===">>>="||e==="&="||e==="^="||e==="|=")}function ye(){var e;if(o.charCodeAt(r)===59||F(";")){B();return}e=v,E(),v===e&&a.type!==p.EOF&&!F("}")&&he(a)}function Pe(e){return e.type===S.Identifier||e.type===S.MemberExpression}function Gt(){var e=[],t;for(t=a,D("[");!F("]");)F(",")?(B(),e.push(null)):(e.push(de()),F("]")||D(","));return B(),n.markEnd(n.createArrayExpression(e),t)}function Ve(e,t){var i,c,T;return i=u,T=a,c=Me(),t&&u&&Z(e[0].name)&&J(t,s.StrictParamName),u=i,n.markEnd(n.createFunctionExpression(null,e,[],c),T)}function Oe(){var e,t;return t=a,e=B(),e.type===p.StringLiteral||e.type===p.NumericLiteral?(u&&e.octal&&J(e,s.StrictOctalLiteral),n.markEnd(n.createLiteral(e),t)):n.markEnd(n.createIdentifier(e.value),t)}function Wt(){var e,t,i,c,T,O;if(e=a,O=a,e.type===p.Identifier)return i=Oe(),e.value==="get"&&!F(":")?(t=Oe(),D("("),D(")"),c=Ve([]),n.markEnd(n.createProperty("get",t,c),O)):e.value==="set"&&!F(":")?(t=Oe(),D("("),e=a,e.type!==p.Identifier?(D(")"),J(e,s.UnexpectedToken,e.value),c=Ve([])):(T=[ve()],D(")"),c=Ve(T,e)),n.markEnd(n.createProperty("set",t,c),O)):(D(":"),c=de(),n.markEnd(n.createProperty("init",i,c),O));if(e.type===p.EOF||e.type===p.Punctuator)he(e);else return t=Oe(),D(":"),c=de(),n.markEnd(n.createProperty("init",t,c),O)}function Jt(){var e=[],t,i,c,T,O={},M=String,K;for(K=a,D("{");!F("}");)t=Wt(),t.key.type===S.Identifier?i=t.key.name:i=M(t.key.value),T=t.kind==="init"?g.Data:t.kind==="get"?g.Get:g.Set,c="$"+i,Object.prototype.hasOwnProperty.call(O,c)?(O[c]===g.Data?u&&T===g.Data?J({},s.StrictDuplicateProperty):T!==g.Data&&J({},s.AccessorDataProperty):T===g.Data?J({},s.AccessorDataProperty):O[c]&T&&J({},s.AccessorGetSet),O[c]|=T):O[c]=T,e.push(t),F("}")||D(",");return D("}"),n.markEnd(n.createObjectExpression(e),K)}function Xt(){var e;return D("("),e=ie(),D(")"),e}function yt(){var e,t,i,c;if(F("("))return Xt();if(F("["))return Gt();if(F("{"))return Jt();if(e=a.type,c=a,e===p.Identifier)i=n.createIdentifier(B().value);else if(e===p.StringLiteral||e===p.NumericLiteral)u&&a.octal&&J(a,s.StrictOctalLiteral),i=n.createLiteral(B());else if(e===p.Keyword){if(oe("function"))return xr();oe("this")?(B(),i=n.createThisExpression()):he(B())}else e===p.BooleanLiteral?(t=B(),t.value=t.value==="true",i=n.createLiteral(t)):e===p.NullLiteral?(t=B(),t.value=null,i=n.createLiteral(t)):F("/")||F("/=")?(typeof f.tokens<"u"?i=n.createLiteral(be()):i=n.createLiteral(Ne()),Be()):he(B());return n.markEnd(i,c)}function gt(){var e=[];if(D("("),!F(")"))for(;r<h&&(e.push(de()),!F(")"));)D(",");return D(")"),e}function Kt(){var e,t;return t=a,e=B(),Mt(e)||he(e),n.markEnd(n.createIdentifier(e.value),t)}function St(){return D("."),Kt()}function vt(){var e;return D("["),e=ie(),D("]"),e}function bt(){var e,t,i;return i=a,re("new"),e=Yt(),t=F("(")?gt():[],n.markEnd(n.createNewExpression(e,t),i)}function Qt(){var e,t,i,c,T;for(T=a,e=d.allowIn,d.allowIn=!0,t=oe("new")?bt():yt(),d.allowIn=e;;){if(F("."))c=St(),t=n.createMemberExpression(".",t,c);else if(F("("))i=gt(),t=n.createCallExpression(t,i);else if(F("["))c=vt(),t=n.createMemberExpression("[",t,c);else break;n.markEnd(t,T)}return t}function Yt(){var e,t,i,c;for(c=a,e=d.allowIn,t=oe("new")?bt():yt(),d.allowIn=e;F(".")||F("[");)F("[")?(i=vt(),t=n.createMemberExpression("[",t,i)):(i=St(),t=n.createMemberExpression(".",t,i)),n.markEnd(t,c);return t}function Et(){var e,t,i=a;return e=Qt(),a.type===p.Punctuator&&(F("++")||F("--"))&&!ke()&&(u&&e.type===S.Identifier&&Z(e.name)&&J({},s.StrictLHSPostfix),Pe(e)||J({},s.InvalidLHSInAssignment),t=B(),e=n.markEnd(n.createPostfixExpression(t.value,e),i)),e}function xe(){var e,t,i;return a.type!==p.Punctuator&&a.type!==p.Keyword?t=Et():F("++")||F("--")?(i=a,e=B(),t=xe(),u&&t.type===S.Identifier&&Z(t.name)&&J({},s.StrictLHSPrefix),Pe(t)||J({},s.InvalidLHSInAssignment),t=n.createUnaryExpression(e.value,t),t=n.markEnd(t,i)):F("+")||F("-")||F("~")||F("!")?(i=a,e=B(),t=xe(),t=n.createUnaryExpression(e.value,t),t=n.markEnd(t,i)):oe("delete")||oe("void")||oe("typeof")?(i=a,e=B(),t=xe(),t=n.createUnaryExpression(e.value,t),t=n.markEnd(t,i),u&&t.operator==="delete"&&t.argument.type===S.Identifier&&J({},s.StrictDelete)):t=Et(),t}function xt(e,t){var i=0;if(e.type!==p.Punctuator&&e.type!==p.Keyword)return 0;switch(e.value){case"||":i=1;break;case"&&":i=2;break;case"|":i=3;break;case"^":i=4;break;case"&":i=5;break;case"==":case"!=":case"===":case"!==":i=6;break;case"<":case">":case"<=":case">=":case"instanceof":i=7;break;case"in":i=t?7:0;break;case"<<":case">>":case">>>":i=8;break;case"+":case"-":i=9;break;case"*":case"/":case"%":i=11;break}return i}function Zt(){var e,t,i,c,T,O,M,K,le,ae;if(e=a,le=xe(),c=a,T=xt(c,d.allowIn),T===0)return le;for(c.prec=T,B(),t=[e,a],M=xe(),O=[le,c,M];(T=xt(a,d.allowIn))>0;){for(;O.length>2&&T<=O[O.length-2].prec;)M=O.pop(),K=O.pop().value,le=O.pop(),i=n.createBinaryExpression(K,le,M),t.pop(),e=t[t.length-1],n.markEnd(i,e),O.push(i);c=B(),c.prec=T,O.push(c),t.push(a),i=xe(),O.push(i)}for(ae=O.length-1,i=O[ae],t.pop();ae>1;)i=n.createBinaryExpression(O[ae-1].value,O[ae-2],i),ae-=2,e=t.pop(),n.markEnd(i,e);return i}function er(){var e,t,i,c,T;return T=a,e=Zt(),F("?")&&(B(),t=d.allowIn,d.allowIn=!0,i=de(),d.allowIn=t,D(":"),c=de(),e=n.createConditionalExpression(e,i,c),n.markEnd(e,T)),e}function de(){var e,t,i,c,T;return e=a,T=a,c=t=er(),zt()&&(Pe(t)||J({},s.InvalidLHSInAssignment),u&&t.type===S.Identifier&&Z(t.name)&&J(e,s.StrictLHSAssignment),e=B(),i=de(),c=n.markEnd(n.createAssignmentExpression(e.value,t,i),T)),c}function ie(){var e,t=a;if(e=de(),F(",")){for(e=n.createSequenceExpression([e]);r<h&&F(",");)B(),e.expressions.push(de());n.markEnd(e,t)}return e}function tr(){for(var e=[],t;r<h&&!(F("}")||(t=Ie(),typeof t>"u"));)e.push(t);return e}function Re(){var e,t;return t=a,D("{"),e=tr(),D("}"),n.markEnd(n.createBlockStatement(e),t)}function ve(){var e,t;return t=a,e=B(),e.type!==p.Identifier&&he(e),n.markEnd(n.createIdentifier(e.value),t)}function rr(e){var t=null,i,c;return c=a,i=ve(),u&&Z(i.name)&&J({},s.StrictVarName),e==="const"?(D("="),t=de()):F("=")&&(B(),t=de()),n.markEnd(n.createVariableDeclarator(i,t),c)}function Ue(e){var t=[];do{if(t.push(rr(e)),!F(","))break;B()}while(r<h);return t}function nr(){var e;return re("var"),e=Ue(),ye(),n.createVariableDeclaration(e,"var")}function ir(e){var t,i;return i=a,re(e),t=Ue(e),ye(),n.markEnd(n.createVariableDeclaration(t,e),i)}function ar(){return D(";"),n.createEmptyStatement()}function sr(){var e=ie();return ye(),n.createExpressionStatement(e)}function or(){var e,t,i;return re("if"),D("("),e=ie(),D(")"),t=ge(),oe("else")?(B(),i=ge()):i=null,n.createIfStatement(e,t,i)}function lr(){var e,t,i;return re("do"),i=d.inIteration,d.inIteration=!0,e=ge(),d.inIteration=i,re("while"),D("("),t=ie(),D(")"),F(";")&&B(),n.createDoWhileStatement(e,t)}function ur(){var e,t,i;return re("while"),D("("),e=ie(),D(")"),i=d.inIteration,d.inIteration=!0,t=ge(),d.inIteration=i,n.createWhileStatement(e,t)}function cr(){var e,t,i;return i=a,e=B(),t=Ue(),n.markEnd(n.createVariableDeclaration(t,e.value),i)}function fr(){var e,t,i,c,T,O,M;return e=t=i=null,re("for"),D("("),F(";")?B():(oe("var")||oe("let")?(d.allowIn=!1,e=cr(),d.allowIn=!0,e.declarations.length===1&&oe("in")&&(B(),c=e,T=ie(),e=null)):(d.allowIn=!1,e=ie(),d.allowIn=!0,oe("in")&&(Pe(e)||J({},s.InvalidLHSInForIn),B(),c=e,T=ie(),e=null)),typeof c>"u"&&D(";")),typeof c>"u"&&(F(";")||(t=ie()),D(";"),F(")")||(i=ie())),D(")"),M=d.inIteration,d.inIteration=!0,O=ge(),d.inIteration=M,typeof c>"u"?n.createForStatement(e,t,i,O):n.createForInStatement(c,T,O)}function pr(){var e=null,t;return re("continue"),o.charCodeAt(r)===59?(B(),d.inIteration||V({},s.IllegalContinue),n.createContinueStatement(null)):ke()?(d.inIteration||V({},s.IllegalContinue),n.createContinueStatement(null)):(a.type===p.Identifier&&(e=ve(),t="$"+e.name,Object.prototype.hasOwnProperty.call(d.labelSet,t)||V({},s.UnknownLabel,e.name)),ye(),e===null&&!d.inIteration&&V({},s.IllegalContinue),n.createContinueStatement(e))}function dr(){var e=null,t;return re("break"),o.charCodeAt(r)===59?(B(),d.inIteration||d.inSwitch||V({},s.IllegalBreak),n.createBreakStatement(null)):ke()?(d.inIteration||d.inSwitch||V({},s.IllegalBreak),n.createBreakStatement(null)):(a.type===p.Identifier&&(e=ve(),t="$"+e.name,Object.prototype.hasOwnProperty.call(d.labelSet,t)||V({},s.UnknownLabel,e.name)),ye(),e===null&&!(d.inIteration||d.inSwitch)&&V({},s.IllegalBreak),n.createBreakStatement(e))}function mr(){var e=null;return re("return"),d.inFunctionBody||J({},s.IllegalReturn),o.charCodeAt(r)===32&&H(o.charCodeAt(r+1))?(e=ie(),ye(),n.createReturnStatement(e)):ke()?n.createReturnStatement(null):(F(";")||!F("}")&&a.type!==p.EOF&&(e=ie()),ye(),n.createReturnStatement(e))}function hr(){var e,t;return u&&(E(),J({},s.StrictModeWith)),re("with"),D("("),e=ie(),D(")"),t=ge(),n.createWithStatement(e,t)}function yr(){var e,t=[],i,c;for(c=a,oe("default")?(B(),e=null):(re("case"),e=ie()),D(":");r<h&&!(F("}")||oe("default")||oe("case"));)i=ge(),t.push(i);return n.markEnd(n.createSwitchCase(e,t),c)}function gr(){var e,t,i,c,T;if(re("switch"),D("("),e=ie(),D(")"),D("{"),t=[],F("}"))return B(),n.createSwitchStatement(e,t);for(c=d.inSwitch,d.inSwitch=!0,T=!1;r<h&&!F("}");)i=yr(),i.test===null&&(T&&V({},s.MultipleDefaultsInSwitch),T=!0),t.push(i);return d.inSwitch=c,D("}"),n.createSwitchStatement(e,t)}function Sr(){var e;return re("throw"),ke()&&V({},s.NewlineAfterThrow),e=ie(),ye(),n.createThrowStatement(e)}function vr(){var e,t,i;return i=a,re("catch"),D("("),F(")")&&he(a),e=ve(),u&&Z(e.name)&&J({},s.StrictCatchVariable),D(")"),t=Re(),n.markEnd(n.createCatchClause(e,t),i)}function br(){var e,t=[],i=null;return re("try"),e=Re(),oe("catch")&&t.push(vr()),oe("finally")&&(B(),i=Re()),t.length===0&&!i&&V({},s.NoCatchOrFinally),n.createTryStatement(e,[],t,i)}function Er(){return re("debugger"),ye(),n.createDebuggerStatement()}function ge(){var e=a.type,t,i,c,T;if(e===p.EOF&&he(a),e===p.Punctuator&&a.value==="{")return Re();if(T=a,e===p.Punctuator)switch(a.value){case";":return n.markEnd(ar(),T);case"(":return n.markEnd(sr(),T)}if(e===p.Keyword)switch(a.value){case"break":return n.markEnd(dr(),T);case"continue":return n.markEnd(pr(),T);case"debugger":return n.markEnd(Er(),T);case"do":return n.markEnd(lr(),T);case"for":return n.markEnd(fr(),T);case"function":return n.markEnd(Tt(),T);case"if":return n.markEnd(or(),T);case"return":return n.markEnd(mr(),T);case"switch":return n.markEnd(gr(),T);case"throw":return n.markEnd(Sr(),T);case"try":return n.markEnd(br(),T);case"var":return n.markEnd(nr(),T);case"while":return n.markEnd(ur(),T);case"with":return n.markEnd(hr(),T)}return t=ie(),t.type===S.Identifier&&F(":")?(B(),c="$"+t.name,Object.prototype.hasOwnProperty.call(d.labelSet,c)&&V({},s.Redeclaration,"Label",t.name),d.labelSet[c]=!0,i=ge(),delete d.labelSet[c],n.markEnd(n.createLabeledStatement(t,i),T)):(ye(),n.markEnd(n.createExpressionStatement(t),T))}function Me(){var e,t=[],i,c,T,O,M,K,le,ae;for(ae=a,D("{");r<h&&!(a.type!==p.StringLiteral||(i=a,e=Ie(),t.push(e),e.expression.type!==S.Literal));)c=o.slice(i.start+1,i.end-1),c==="use strict"?(u=!0,T&&J(T,s.StrictOctalLiteral)):!T&&i.octal&&(T=i);for(O=d.labelSet,M=d.inIteration,K=d.inSwitch,le=d.inFunctionBody,d.labelSet={},d.inIteration=!1,d.inSwitch=!1,d.inFunctionBody=!0;r<h&&!(F("}")||(e=Ie(),typeof e>"u"));)t.push(e);return D("}"),d.labelSet=O,d.inIteration=M,d.inSwitch=K,d.inFunctionBody=le,n.markEnd(n.createBlockStatement(t),ae)}function _t(e){var t,i=[],c,T,O,M,K;if(D("("),!F(")"))for(O={};r<h&&(c=a,t=ve(),M="$"+c.value,u?(Z(c.value)&&(T=c,K=s.StrictParamName),Object.prototype.hasOwnProperty.call(O,M)&&(T=c,K=s.StrictParamDupe)):e||(Z(c.value)?(e=c,K=s.StrictParamName):ee(c.value)?(e=c,K=s.StrictReservedWord):Object.prototype.hasOwnProperty.call(O,M)&&(e=c,K=s.StrictParamDupe)),i.push(t),O[M]=!0,!F(")"));)D(",");return D(")"),{params:i,stricted:T,firstRestricted:e,message:K}}function Tt(){var e,t=[],i,c,T,O,M,K,le,ae;return ae=a,re("function"),c=a,e=ve(),u?Z(c.value)&&J(c,s.StrictFunctionName):Z(c.value)?(M=c,K=s.StrictFunctionName):ee(c.value)&&(M=c,K=s.StrictReservedWord),O=_t(M),t=O.params,T=O.stricted,M=O.firstRestricted,O.message&&(K=O.message),le=u,i=Me(),u&&M&&V(M,K),u&&T&&J(T,K),u=le,n.markEnd(n.createFunctionDeclaration(e,t,[],i),ae)}function xr(){var e,t=null,i,c,T,O,M=[],K,le,ae;return ae=a,re("function"),F("(")||(e=a,t=ve(),u?Z(e.value)&&J(e,s.StrictFunctionName):Z(e.value)?(c=e,T=s.StrictFunctionName):ee(e.value)&&(c=e,T=s.StrictReservedWord)),O=_t(c),M=O.params,i=O.stricted,c=O.firstRestricted,O.message&&(T=O.message),le=u,K=Me(),u&&c&&V(c,T),u&&i&&J(i,T),u=le,n.markEnd(n.createFunctionExpression(t,M,[],K),ae)}function Ie(){if(a.type===p.Keyword)switch(a.value){case"const":case"let":return ir(a.value);case"function":return Tt();default:return ge()}if(a.type!==p.EOF)return ge()}function _r(){for(var e,t=[],i,c,T;r<h&&(i=a,!(i.type!==p.StringLiteral||(e=Ie(),t.push(e),e.expression.type!==S.Literal)));)c=o.slice(i.start+1,i.end-1),c==="use strict"?(u=!0,T&&J(T,s.StrictOctalLiteral)):!T&&i.octal&&(T=i);for(;r<h&&(e=Ie(),!(typeof e>"u"));)t.push(e);return t}function Tr(){var e,t;return E(),Be(),t=a,u=!1,e=_r(),n.markEnd(n.createProgram(e),t)}function kt(){var e,t,i,c=[];for(e=0;e<f.tokens.length;++e)t=f.tokens[e],i={type:t.type,value:t.value},f.range&&(i.range=t.range),f.loc&&(i.loc=t.loc),c.push(i);f.tokens=c}function kr(e,t){var i,c,T;i=String,typeof e!="string"&&!(e instanceof String)&&(e=i(e)),n=m,o=e,r=0,v=o.length>0?1:0,A=0,h=o.length,a=null,d={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},f={},t=t||{},t.tokens=!0,f.tokens=[],f.tokenize=!0,f.openParenToken=-1,f.openCurlyToken=-1,f.range=typeof t.range=="boolean"&&t.range,f.loc=typeof t.loc=="boolean"&&t.loc,typeof t.comment=="boolean"&&t.comment&&(f.comments=[]),typeof t.tolerant=="boolean"&&t.tolerant&&(f.errors=[]);try{if(Be(),a.type===p.EOF)return f.tokens;for(c=B();a.type!==p.EOF;)try{c=B()}catch(O){if(c=a,f.errors){f.errors.push(O);break}else throw O}kt(),T=f.tokens,typeof f.comments<"u"&&(T.comments=f.comments),typeof f.errors<"u"&&(T.errors=f.errors)}catch(O){throw O}finally{f={}}return T}function Ir(e,t){var i,c;c=String,typeof e!="string"&&!(e instanceof String)&&(e=c(e)),n=m,o=e,r=0,v=o.length>0?1:0,A=0,h=o.length,a=null,d={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},f={},typeof t<"u"&&(f.range=typeof t.range=="boolean"&&t.range,f.loc=typeof t.loc=="boolean"&&t.loc,f.attachComment=typeof t.attachComment=="boolean"&&t.attachComment,f.loc&&t.source!==null&&t.source!==void 0&&(f.source=c(t.source)),typeof t.tokens=="boolean"&&t.tokens&&(f.tokens=[]),typeof t.comment=="boolean"&&t.comment&&(f.comments=[]),typeof t.tolerant=="boolean"&&t.tolerant&&(f.errors=[]),f.attachComment&&(f.range=!0,f.comments=[],f.bottomRightStack=[],f.trailingComments=[],f.leadingComments=[]));try{i=Tr(),typeof f.comments<"u"&&(i.comments=f.comments),typeof f.tokens<"u"&&(kt(),i.tokens=f.tokens),typeof f.errors<"u"&&(i.errors=f.errors)}catch(T){throw T}finally{f={}}return i}_.version="1.2.2",_.tokenize=kr,_.parse=Ir,_.Syntax=function(){var e,t={};typeof Object.create=="function"&&(t=Object.create(null));for(e in S)S.hasOwnProperty(e)&&(t[e]=S[e]);return typeof Object.freeze=="function"&&Object.freeze(t),t}()})},{}],1:[function(x,C,k){(function(_){var p=function(){var I={trace:function(){},yy:{},symbols_:{error:2,JSON_PATH:3,DOLLAR:4,PATH_COMPONENTS:5,LEADING_CHILD_MEMBER_EXPRESSION:6,PATH_COMPONENT:7,MEMBER_COMPONENT:8,SUBSCRIPT_COMPONENT:9,CHILD_MEMBER_COMPONENT:10,DESCENDANT_MEMBER_COMPONENT:11,DOT:12,MEMBER_EXPRESSION:13,DOT_DOT:14,STAR:15,IDENTIFIER:16,SCRIPT_EXPRESSION:17,INTEGER:18,END:19,CHILD_SUBSCRIPT_COMPONENT:20,DESCENDANT_SUBSCRIPT_COMPONENT:21,"[":22,SUBSCRIPT:23,"]":24,SUBSCRIPT_EXPRESSION:25,SUBSCRIPT_EXPRESSION_LIST:26,SUBSCRIPT_EXPRESSION_LISTABLE:27,",":28,STRING_LITERAL:29,ARRAY_SLICE:30,FILTER_EXPRESSION:31,QQ_STRING:32,Q_STRING:33,$accept:0,$end:1},terminals_:{2:"error",4:"DOLLAR",12:"DOT",14:"DOT_DOT",15:"STAR",16:"IDENTIFIER",17:"SCRIPT_EXPRESSION",18:"INTEGER",19:"END",22:"[",24:"]",28:",",30:"ARRAY_SLICE",31:"FILTER_EXPRESSION",32:"QQ_STRING",33:"Q_STRING"},productions_:[0,[3,1],[3,2],[3,1],[3,2],[5,1],[5,2],[7,1],[7,1],[8,1],[8,1],[10,2],[6,1],[11,2],[13,1],[13,1],[13,1],[13,1],[13,1],[9,1],[9,1],[20,3],[21,4],[23,1],[23,1],[26,1],[26,3],[27,1],[27,1],[27,1],[25,1],[25,1],[25,1],[29,1],[29,1]],performAction:function(l,m,o,u,r,v,A){u.ast||(u.ast=b,b.initialize());var h=v.length-1;switch(r){case 1:return u.ast.set({expression:{type:"root",value:v[h]}}),u.ast.unshift(),u.ast.yield();case 2:return u.ast.set({expression:{type:"root",value:v[h-1]}}),u.ast.unshift(),u.ast.yield();case 3:return u.ast.unshift(),u.ast.yield();case 4:return u.ast.set({operation:"member",scope:"child",expression:{type:"identifier",value:v[h-1]}}),u.ast.unshift(),u.ast.yield();case 5:break;case 6:break;case 7:u.ast.set({operation:"member"}),u.ast.push();break;case 8:u.ast.set({operation:"subscript"}),u.ast.push();break;case 9:u.ast.set({scope:"child"});break;case 10:u.ast.set({scope:"descendant"});break;case 11:break;case 12:u.ast.set({scope:"child",operation:"member"});break;case 13:break;case 14:u.ast.set({expression:{type:"wildcard",value:v[h]}});break;case 15:u.ast.set({expression:{type:"identifier",value:v[h]}});break;case 16:u.ast.set({expression:{type:"script_expression",value:v[h]}});break;case 17:u.ast.set({expression:{type:"numeric_literal",value:parseInt(v[h])}});break;case 18:break;case 19:u.ast.set({scope:"child"});break;case 20:u.ast.set({scope:"descendant"});break;case 21:break;case 22:break;case 23:break;case 24:v[h].length>1?u.ast.set({expression:{type:"union",value:v[h]}}):this.$=v[h];break;case 25:this.$=[v[h]];break;case 26:this.$=v[h-2].concat(v[h]);break;case 27:this.$={expression:{type:"numeric_literal",value:parseInt(v[h])}},u.ast.set(this.$);break;case 28:this.$={expression:{type:"string_literal",value:v[h]}},u.ast.set(this.$);break;case 29:this.$={expression:{type:"slice",value:v[h]}},u.ast.set(this.$);break;case 30:this.$={expression:{type:"wildcard",value:v[h]}},u.ast.set(this.$);break;case 31:this.$={expression:{type:"script_expression",value:v[h]}},u.ast.set(this.$);break;case 32:this.$={expression:{type:"filter_expression",value:v[h]}},u.ast.set(this.$);break;case 33:this.$=v[h];break;case 34:this.$=v[h];break}},table:[{3:1,4:[1,2],6:3,13:4,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9]},{1:[3]},{1:[2,1],5:10,7:11,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,3],5:21,7:11,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,12],12:[2,12],14:[2,12],22:[2,12]},{1:[2,14],12:[2,14],14:[2,14],22:[2,14]},{1:[2,15],12:[2,15],14:[2,15],22:[2,15]},{1:[2,16],12:[2,16],14:[2,16],22:[2,16]},{1:[2,17],12:[2,17],14:[2,17],22:[2,17]},{1:[2,18],12:[2,18],14:[2,18],22:[2,18]},{1:[2,2],7:22,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,5],12:[2,5],14:[2,5],22:[2,5]},{1:[2,7],12:[2,7],14:[2,7],22:[2,7]},{1:[2,8],12:[2,8],14:[2,8],22:[2,8]},{1:[2,9],12:[2,9],14:[2,9],22:[2,9]},{1:[2,10],12:[2,10],14:[2,10],22:[2,10]},{1:[2,19],12:[2,19],14:[2,19],22:[2,19]},{1:[2,20],12:[2,20],14:[2,20],22:[2,20]},{13:23,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9]},{13:24,15:[1,5],16:[1,6],17:[1,7],18:[1,8],19:[1,9],22:[1,25]},{15:[1,29],17:[1,30],18:[1,33],23:26,25:27,26:28,27:32,29:34,30:[1,35],31:[1,31],32:[1,36],33:[1,37]},{1:[2,4],7:22,8:12,9:13,10:14,11:15,12:[1,18],14:[1,19],20:16,21:17,22:[1,20]},{1:[2,6],12:[2,6],14:[2,6],22:[2,6]},{1:[2,11],12:[2,11],14:[2,11],22:[2,11]},{1:[2,13],12:[2,13],14:[2,13],22:[2,13]},{15:[1,29],17:[1,30],18:[1,33],23:38,25:27,26:28,27:32,29:34,30:[1,35],31:[1,31],32:[1,36],33:[1,37]},{24:[1,39]},{24:[2,23]},{24:[2,24],28:[1,40]},{24:[2,30]},{24:[2,31]},{24:[2,32]},{24:[2,25],28:[2,25]},{24:[2,27],28:[2,27]},{24:[2,28],28:[2,28]},{24:[2,29],28:[2,29]},{24:[2,33],28:[2,33]},{24:[2,34],28:[2,34]},{24:[1,41]},{1:[2,21],12:[2,21],14:[2,21],22:[2,21]},{18:[1,33],27:42,29:34,30:[1,35],32:[1,36],33:[1,37]},{1:[2,22],12:[2,22],14:[2,22],22:[2,22]},{24:[2,26],28:[2,26]}],defaultActions:{27:[2,23],29:[2,30],30:[2,31],31:[2,32]},parseError:function(l,m){if(m.recoverable)this.trace(l);else throw new Error(l)},parse:function(l){var m=this,o=[0],u=[null],r=[],v=this.table,A="",h=0,n=0,a=2,d=1,f=r.slice.call(arguments,1);this.lexer.setInput(l),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var L=this.lexer.yylloc;r.push(L);var q=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"?this.parseError=this.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function $(){var fe;return fe=m.lexer.lex()||d,typeof fe!="number"&&(fe=m.symbols_[fe]||fe),fe}for(var j,G,U,H,X={},ue,ee,Z,ce;;){if(G=o[o.length-1],this.defaultActions[G]?U=this.defaultActions[G]:((j===null||typeof j>"u")&&(j=$()),U=v[G]&&v[G][j]),typeof U>"u"||!U.length||!U[0]){var se="";ce=[];for(ue in v[G])this.terminals_[ue]&&ue>a&&ce.push("'"+this.terminals_[ue]+"'");this.lexer.showPosition?se="Parse error on line "+(h+1)+`:
`+this.lexer.showPosition()+`
Expecting `+ce.join(", ")+", got '"+(this.terminals_[j]||j)+"'":se="Parse error on line "+(h+1)+": Unexpected "+(j==d?"end of input":"'"+(this.terminals_[j]||j)+"'"),this.parseError(se,{text:this.lexer.match,token:this.terminals_[j]||j,line:this.lexer.yylineno,loc:L,expected:ce})}if(U[0]instanceof Array&&U.length>1)throw new Error("Parse Error: multiple actions possible at state: "+G+", token: "+j);switch(U[0]){case 1:o.push(j),u.push(this.lexer.yytext),r.push(this.lexer.yylloc),o.push(U[1]),j=null,n=this.lexer.yyleng,A=this.lexer.yytext,h=this.lexer.yylineno,L=this.lexer.yylloc;break;case 2:if(ee=this.productions_[U[1]][1],X.$=u[u.length-ee],X._$={first_line:r[r.length-(ee||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(ee||1)].first_column,last_column:r[r.length-1].last_column},q&&(X._$.range=[r[r.length-(ee||1)].range[0],r[r.length-1].range[1]]),H=this.performAction.apply(X,[A,n,h,this.yy,U[1],u,r].concat(f)),typeof H<"u")return H;ee&&(o=o.slice(0,-1*ee*2),u=u.slice(0,-1*ee),r=r.slice(0,-1*ee)),o.push(this.productions_[U[1]][0]),u.push(X.$),r.push(X._$),Z=v[o[o.length-2]][o[o.length-1]],o.push(Z);break;case 3:return!0}}return!0}},b={initialize:function(){this._nodes=[],this._node={},this._stash=[]},set:function(s){for(var l in s)this._node[l]=s[l];return this._node},node:function(s){return arguments.length&&(this._node=s),this._node},push:function(){this._nodes.push(this._node),this._node={}},unshift:function(){this._nodes.unshift(this._node),this._node={}},yield:function(){var s=this._nodes;return this.initialize(),s}},S=function(){var s={EOF:1,parseError:function(m,o){if(this.yy.parser)this.yy.parser.parseError(m,o);else throw new Error(m)},setInput:function(l){return this._input=l,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var l=this._input[0];this.yytext+=l,this.yyleng++,this.offset++,this.match+=l,this.matched+=l;var m=l.match(/(?:\r\n?|\n).*/g);return m?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),l},unput:function(l){var m=l.length,o=l.split(/(?:\r\n?|\n)/g);this._input=l+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-m-1),this.offset-=m;var u=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),o.length-1&&(this.yylineno-=o.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:o?(o.length===u.length?this.yylloc.first_column:0)+u[u.length-o.length].length-o[0].length:this.yylloc.first_column-m},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-m]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(l){this.unput(this.match.slice(l))},pastInput:function(){var l=this.matched.substr(0,this.matched.length-this.match.length);return(l.length>20?"...":"")+l.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var l=this.match;return l.length<20&&(l+=this._input.substr(0,20-l.length)),(l.substr(0,20)+(l.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var l=this.pastInput(),m=new Array(l.length+1).join("-");return l+this.upcomingInput()+`
`+m+"^"},test_match:function(l,m){var o,u,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),u=l[0].match(/(?:\r\n?|\n).*/g),u&&(this.yylineno+=u.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:u?u[u.length-1].length-u[u.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+l[0].length},this.yytext+=l[0],this.match+=l[0],this.matches=l,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(l[0].length),this.matched+=l[0],o=this.performAction.call(this,this.yy,this,m,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),o)return o;if(this._backtrack){for(var v in r)this[v]=r[v];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var l,m,o,u;this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),v=0;v<r.length;v++)if(o=this._input.match(this.rules[r[v]]),o&&(!m||o[0].length>m[0].length)){if(m=o,u=v,this.options.backtrack_lexer){if(l=this.test_match(o,r[v]),l!==!1)return l;if(this._backtrack){m=!1;continue}else return!1}else if(!this.options.flex)break}return m?(l=this.test_match(m,r[u]),l!==!1?l:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var m=this.next();return m||this.lex()},begin:function(m){this.conditionStack.push(m)},popState:function(){var m=this.conditionStack.length-1;return m>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(m){return m=this.conditionStack.length-1-Math.abs(m||0),m>=0?this.conditionStack[m]:"INITIAL"},pushState:function(m){this.begin(m)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(m,o,u,r){switch(u){case 0:return 4;case 1:return 14;case 2:return 12;case 3:return 15;case 4:return 16;case 5:return 22;case 6:return 24;case 7:return 28;case 8:return 30;case 9:return 18;case 10:return o.yytext=o.yytext.substr(1,o.yyleng-2),32;case 11:return o.yytext=o.yytext.substr(1,o.yyleng-2),33;case 12:return 17;case 13:return 31}},rules:[/^(?:\$)/,/^(?:\.\.)/,/^(?:\.)/,/^(?:\*)/,/^(?:[a-zA-Z_]+[a-zA-Z0-9_]*)/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:((-?(?:0|[1-9][0-9]*)))?\:((-?(?:0|[1-9][0-9]*)))?(\:((-?(?:0|[1-9][0-9]*)))?)?)/,/^(?:(-?(?:0|[1-9][0-9]*)))/,/^(?:"(?:\\["bfnrt/\\]|\\u[a-fA-F0-9]{4}|[^"\\])*")/,/^(?:'(?:\\['bfnrt/\\]|\\u[a-fA-F0-9]{4}|[^'\\])*')/,/^(?:\(.+?\)(?=\]))/,/^(?:\?\(.+?\)(?=\]))/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return s}();I.lexer=S;function g(){this.yy={}}return g.prototype=I,I.Parser=g,new g}();typeof x<"u"&&typeof k<"u"&&(k.parser=p,k.Parser=p.Parser,k.parse=function(){return p.parse.apply(p,arguments)},k.main=function(b){b[1]||(console.log("Usage: "+b[0]+" FILE"),_.exit(1));var S=x("fs").readFileSync(x("path").normalize(b[1]),"utf8");return k.parser.parse(S)},typeof C<"u"&&x.main===C&&k.main(_.argv.slice(1)))}).call(this,x("_process"))},{_process:14,fs:12,path:13}],2:[function(x,C,k){C.exports={identifier:"[a-zA-Z_]+[a-zA-Z0-9_]*",integer:"-?(?:0|[1-9][0-9]*)",qq_string:'"(?:\\\\["bfnrt/\\\\]|\\\\u[a-fA-F0-9]{4}|[^"\\\\])*"',q_string:"'(?:\\\\['bfnrt/\\\\]|\\\\u[a-fA-F0-9]{4}|[^'\\\\])*'"}},{}],3:[function(x,C,k){var _=x("./dict"),p=x("fs"),I={lex:{macros:{esc:"\\\\",int:_.integer},rules:[["\\$","return 'DOLLAR'"],["\\.\\.","return 'DOT_DOT'"],["\\.","return 'DOT'"],["\\*","return 'STAR'"],[_.identifier,"return 'IDENTIFIER'"],["\\[","return '['"],["\\]","return ']'"],[",","return ','"],["({int})?\\:({int})?(\\:({int})?)?","return 'ARRAY_SLICE'"],["{int}","return 'INTEGER'"],[_.qq_string,"yytext = yytext.substr(1,yyleng-2); return 'QQ_STRING';"],[_.q_string,"yytext = yytext.substr(1,yyleng-2); return 'Q_STRING';"],["\\(.+?\\)(?=\\])","return 'SCRIPT_EXPRESSION'"],["\\?\\(.+?\\)(?=\\])","return 'FILTER_EXPRESSION'"]]},start:"JSON_PATH",bnf:{JSON_PATH:[["DOLLAR",'yy.ast.set({ expression: { type: "root", value: $1 } }); yy.ast.unshift(); return yy.ast.yield()'],["DOLLAR PATH_COMPONENTS",'yy.ast.set({ expression: { type: "root", value: $1 } }); yy.ast.unshift(); return yy.ast.yield()'],["LEADING_CHILD_MEMBER_EXPRESSION","yy.ast.unshift(); return yy.ast.yield()"],["LEADING_CHILD_MEMBER_EXPRESSION PATH_COMPONENTS",'yy.ast.set({ operation: "member", scope: "child", expression: { type: "identifier", value: $1 }}); yy.ast.unshift(); return yy.ast.yield()']],PATH_COMPONENTS:[["PATH_COMPONENT",""],["PATH_COMPONENTS PATH_COMPONENT",""]],PATH_COMPONENT:[["MEMBER_COMPONENT",'yy.ast.set({ operation: "member" }); yy.ast.push()'],["SUBSCRIPT_COMPONENT",'yy.ast.set({ operation: "subscript" }); yy.ast.push() ']],MEMBER_COMPONENT:[["CHILD_MEMBER_COMPONENT",'yy.ast.set({ scope: "child" })'],["DESCENDANT_MEMBER_COMPONENT",'yy.ast.set({ scope: "descendant" })']],CHILD_MEMBER_COMPONENT:[["DOT MEMBER_EXPRESSION",""]],LEADING_CHILD_MEMBER_EXPRESSION:[["MEMBER_EXPRESSION",'yy.ast.set({ scope: "child", operation: "member" })']],DESCENDANT_MEMBER_COMPONENT:[["DOT_DOT MEMBER_EXPRESSION",""]],MEMBER_EXPRESSION:[["STAR",'yy.ast.set({ expression: { type: "wildcard", value: $1 } })'],["IDENTIFIER",'yy.ast.set({ expression: { type: "identifier", value: $1 } })'],["SCRIPT_EXPRESSION",'yy.ast.set({ expression: { type: "script_expression", value: $1 } })'],["INTEGER",'yy.ast.set({ expression: { type: "numeric_literal", value: parseInt($1) } })'],["END",""]],SUBSCRIPT_COMPONENT:[["CHILD_SUBSCRIPT_COMPONENT",'yy.ast.set({ scope: "child" })'],["DESCENDANT_SUBSCRIPT_COMPONENT",'yy.ast.set({ scope: "descendant" })']],CHILD_SUBSCRIPT_COMPONENT:[["[ SUBSCRIPT ]",""]],DESCENDANT_SUBSCRIPT_COMPONENT:[["DOT_DOT [ SUBSCRIPT ]",""]],SUBSCRIPT:[["SUBSCRIPT_EXPRESSION",""],["SUBSCRIPT_EXPRESSION_LIST",'$1.length > 1? yy.ast.set({ expression: { type: "union", value: $1 } }) : $$ = $1']],SUBSCRIPT_EXPRESSION_LIST:[["SUBSCRIPT_EXPRESSION_LISTABLE","$$ = [$1]"],["SUBSCRIPT_EXPRESSION_LIST , SUBSCRIPT_EXPRESSION_LISTABLE","$$ = $1.concat($3)"]],SUBSCRIPT_EXPRESSION_LISTABLE:[["INTEGER",'$$ = { expression: { type: "numeric_literal", value: parseInt($1) } }; yy.ast.set($$)'],["STRING_LITERAL",'$$ = { expression: { type: "string_literal", value: $1 } }; yy.ast.set($$)'],["ARRAY_SLICE",'$$ = { expression: { type: "slice", value: $1 } }; yy.ast.set($$)']],SUBSCRIPT_EXPRESSION:[["STAR",'$$ = { expression: { type: "wildcard", value: $1 } }; yy.ast.set($$)'],["SCRIPT_EXPRESSION",'$$ = { expression: { type: "script_expression", value: $1 } }; yy.ast.set($$)'],["FILTER_EXPRESSION",'$$ = { expression: { type: "filter_expression", value: $1 } }; yy.ast.set($$)']],STRING_LITERAL:[["QQ_STRING","$$ = $1"],["Q_STRING","$$ = $1"]]}};p.readFileSync&&(I.moduleInclude=p.readFileSync(x.resolve("../include/module.js")),I.actionInclude=p.readFileSync(x.resolve("../include/action.js"))),C.exports=I},{"./dict":2,fs:12}],4:[function(x,C,k){var _=x("./aesprim"),p=x("./slice"),I=x("static-eval"),b=x("underscore").uniq,S=function(){return this.initialize.apply(this,arguments)};S.prototype.initialize=function(){this.traverse=m(!0),this.descend=m()},S.prototype.keys=Object.keys,S.prototype.resolve=function(h){var n=[h.operation,h.scope,h.expression.type].join("-"),a=this._fns[n];if(!a)throw new Error("couldn't resolve key: "+n);return a.bind(this)},S.prototype.register=function(h,n){if(!n instanceof Function)throw new Error("handler must be a function");this._fns[h]=n},S.prototype._fns={"member-child-identifier":function(h,n){var a=h.expression.value,d=n.value;if(d instanceof Object&&a in d)return[{value:d[a],path:n.path.concat(a)}]},"member-descendant-identifier":u(function(h,n,a){return h==a}),"subscript-child-numeric_literal":o(function(h,n,a){return h===a}),"member-child-numeric_literal":o(function(h,n,a){return String(h)===String(a)}),"subscript-descendant-numeric_literal":u(function(h,n,a){return h===a}),"member-child-wildcard":o(function(){return!0}),"member-descendant-wildcard":u(function(){return!0}),"subscript-descendant-wildcard":u(function(){return!0}),"subscript-child-wildcard":o(function(){return!0}),"subscript-child-slice":function(h,n){if(s(n.value)){var a=h.expression.value.split(":").map(A),d=n.value.map(function(f,L){return{value:f,path:n.path.concat(L)}});return p.apply(null,[d].concat(a))}},"subscript-child-union":function(h,n){var a=[];return h.expression.value.forEach(function(d){var f={operation:"subscript",scope:"child",expression:d.expression},L=this.resolve(f),q=L(f,n);q&&(a=a.concat(q))},this),v(a)},"subscript-descendant-union":function(h,n,a){var d=x(".."),f=this,L=[],q=d.nodes(n,"$..*").slice(1);return q.forEach(function($){L.length>=a||h.expression.value.forEach(function(j){var G={operation:"subscript",scope:"child",expression:j.expression},U=f.resolve(G),H=U(G,$);L=L.concat(H)})}),v(L)},"subscript-child-filter_expression":function(h,n,a){var d=h.expression.value.slice(2,-1),f=_.parse(d).body[0].expression,L=function(q,$){return r(f,{"@":$})};return this.descend(n,null,L,a)},"subscript-descendant-filter_expression":function(h,n,a){var d=h.expression.value.slice(2,-1),f=_.parse(d).body[0].expression,L=function(q,$){return r(f,{"@":$})};return this.traverse(n,null,L,a)},"subscript-child-script_expression":function(h,n){var a=h.expression.value.slice(1,-1);return g(n,a,"$[{{value}}]")},"member-child-script_expression":function(h,n){var a=h.expression.value.slice(1,-1);return g(n,a,"$.{{value}}")},"member-descendant-script_expression":function(h,n){var a=h.expression.value.slice(1,-1);return g(n,a,"$..value")}},S.prototype._fns["subscript-child-string_literal"]=S.prototype._fns["member-child-identifier"],S.prototype._fns["member-descendant-numeric_literal"]=S.prototype._fns["subscript-descendant-string_literal"]=S.prototype._fns["member-descendant-identifier"];function g(h,n,a){var d=x("./index"),f=_.parse(n).body[0].expression,L=r(f,{"@":h.value}),q=a.replace(/\{\{\s*value\s*\}\}/g,L),$=d.nodes(h.value,q);return $.forEach(function(j){j.path=h.path.concat(j.path.slice(1))}),$}function s(h){return Array.isArray(h)}function l(h){return h&&!(h instanceof Array)&&h instanceof Object}function m(h){return function(n,a,d,f){var L=n.value,q=n.path,$=[],j=(function(G,U){s(G)?(G.forEach(function(H,X){$.length>=f||d(X,H,a)&&$.push({path:U.concat(X),value:H})}),G.forEach(function(H,X){$.length>=f||h&&j(H,U.concat(X))})):l(G)&&(this.keys(G).forEach(function(H){$.length>=f||d(H,G[H],a)&&$.push({path:U.concat(H),value:G[H]})}),this.keys(G).forEach(function(H){$.length>=f||h&&j(G[H],U.concat(H))}))}).bind(this);return j(L,q),$}}function o(h){return function(n,a,d){return this.descend(a,n.expression.value,h,d)}}function u(h){return function(n,a,d){return this.traverse(a,n.expression.value,h,d)}}function r(){try{return I.apply(this,arguments)}catch{}}function v(h){return h=h.filter(function(n){return n}),b(h,function(n){return n.path.map(function(a){return String(a).replace("-","--")}).join("-")})}function A(h){var n=String(h);return n.match(/^-?[0-9]+$/)?parseInt(n):null}C.exports=S},{"..":"jsonpath","./aesprim":"./aesprim","./index":5,"./slice":7,"static-eval":15,underscore:12}],5:[function(x,C,k){var _=x("assert"),p=x("./dict"),I=x("./parser"),b=x("./handlers"),S=function(){this.initialize.apply(this,arguments)};S.prototype.initialize=function(){this.parser=new I,this.handlers=new b},S.prototype.parse=function(l){return _.ok(g(l),"we need a path"),this.parser.parse(l)},S.prototype.parent=function(l,m){_.ok(l instanceof Object,"obj needs to be an object"),_.ok(m,"we need a path");var o=this.nodes(l,m)[0];return o.path.pop(),this.value(l,o.path)},S.prototype.apply=function(l,m,o){_.ok(l instanceof Object,"obj needs to be an object"),_.ok(m,"we need a path"),_.equal(typeof o,"function","fn needs to be function");var u=this.nodes(l,m).sort(function(r,v){return v.path.length-r.path.length});return u.forEach(function(r){var v=r.path.pop(),A=this.value(l,this.stringify(r.path)),h=r.value=o.call(l,A[v]);A[v]=h},this),u},S.prototype.value=function(l,m,o){if(_.ok(l instanceof Object,"obj needs to be an object"),_.ok(m,"we need a path"),arguments.length>=3){var u=this.nodes(l,m).shift();if(!u)return this._vivify(l,m,o);var r=u.path.slice(-1).shift(),v=this.parent(l,this.stringify(u.path));v[r]=o}return this.query(l,this.stringify(m),1).shift()},S.prototype._vivify=function(l,m,o){var u=this;_.ok(l instanceof Object,"obj needs to be an object"),_.ok(m,"we need a path");var r=this.parser.parse(m).map(function(A){return A.expression.value}),v=function(A,h){var n=A.pop(),a=u.value(l,A);a||(v(A.concat(),typeof n=="string"?{}:[]),a=u.value(l,A)),a[n]=h};return v(r,o),this.query(l,m)[0]},S.prototype.query=function(l,m,o){_.ok(l instanceof Object,"obj needs to be an object"),_.ok(g(m),"we need a path");var u=this.nodes(l,m,o).map(function(r){return r.value});return u},S.prototype.paths=function(l,m,o){_.ok(l instanceof Object,"obj needs to be an object"),_.ok(m,"we need a path");var u=this.nodes(l,m,o).map(function(r){return r.path});return u},S.prototype.nodes=function(l,m,o){if(_.ok(l instanceof Object,"obj needs to be an object"),_.ok(m,"we need a path"),o===0)return[];var u=this.parser.parse(m),r=this.handlers,v=[{path:["$"],value:l}],A=[];return u.length&&u[0].expression.type=="root"&&u.shift(),u.length?(u.forEach(function(h,n){if(!(A.length>=o)){var a=r.resolve(h),d=[];v.forEach(function(f){if(!(A.length>=o)){var L=a(h,f,o);n==u.length-1?A=A.concat(L||[]):d=d.concat(L||[])}}),v=d}}),o?A.slice(0,o):A):v},S.prototype.stringify=function(l){_.ok(l,"we need a path");var m="$",o={"descendant-member":"..{{value}}","child-member":".{{value}}","descendant-subscript":"..[{{value}}]","child-subscript":"[{{value}}]"};return l=this._normalize(l),l.forEach(function(u){if(u.expression.type!="root"){var r=[u.scope,u.operation].join("-"),v=o[r],A;if(u.expression.type=="string_literal"?A=JSON.stringify(u.expression.value):A=u.expression.value,!v)throw new Error("couldn't find template "+r);m+=v.replace(/{{value}}/,A)}}),m},S.prototype._normalize=function(l){if(_.ok(l,"we need a path"),typeof l=="string")return this.parser.parse(l);if(Array.isArray(l)&&typeof l[0]=="string"){var m=[{expression:{type:"root",value:"$"}}];return l.forEach(function(o,u){if(!(o=="$"&&u===0))if(typeof o=="string"&&o.match("^"+p.identifier+"$"))m.push({operation:"member",scope:"child",expression:{value:o,type:"identifier"}});else{var r=typeof o=="number"?"numeric_literal":"string_literal";m.push({operation:"subscript",scope:"child",expression:{value:o,type:r}})}}),m}else if(Array.isArray(l)&&typeof l[0]=="object")return l;throw new Error("couldn't understand path "+l)};function g(l){return Object.prototype.toString.call(l)=="[object String]"}S.Handlers=b,S.Parser=I;var s=new S;s.JSONPath=S,C.exports=s},{"./dict":2,"./handlers":4,"./parser":6,assert:8}],6:[function(x,C,k){var _=x("./grammar"),p=x("../generated/parser"),I=function(){var b=new p.Parser,S=b.parseError;return b.yy.parseError=function(){b.yy.ast&&b.yy.ast.initialize(),S.apply(b,arguments)},b};I.grammar=_,C.exports=I},{"../generated/parser":1,"./grammar":3}],7:[function(x,C,k){C.exports=function(p,I,b,S){if(typeof I=="string")throw new Error("start cannot be a string");if(typeof b=="string")throw new Error("end cannot be a string");if(typeof S=="string")throw new Error("step cannot be a string");var g=p.length;if(S===0)throw new Error("step cannot be zero");if(S=S?_(S):1,I=I<0?g+I:I,b=b<0?g+b:b,I=_(I===0?0:I||(S>0?0:g-1)),b=_(b===0?0:b||(S>0?g:-1)),I=S>0?Math.max(0,I):Math.min(g,I),b=S>0?Math.min(b,g):Math.max(-1,b),S>0&&b<=I)return[];if(S<0&&I<=b)return[];for(var s=[],l=I;l!=b&&!(S<0&&l<=b||S>0&&l>=b);l+=S)s.push(p[l]);return s};function _(p){return String(p).match(/^[0-9]+$/)?parseInt(p):Number.isFinite(p)?parseInt(p,10):0}},{}],8:[function(x,C,k){var _=x("util/"),p=Array.prototype.slice,I=Object.prototype.hasOwnProperty,b=C.exports=m;b.AssertionError=function(a){this.name="AssertionError",this.actual=a.actual,this.expected=a.expected,this.operator=a.operator,a.message?(this.message=a.message,this.generatedMessage=!1):(this.message=s(this),this.generatedMessage=!0);var d=a.stackStartFunction||l;if(Error.captureStackTrace)Error.captureStackTrace(this,d);else{var f=new Error;if(f.stack){var L=f.stack,q=d.name,$=L.indexOf(`
`+q);if($>=0){var j=L.indexOf(`
`,$+1);L=L.substring(j+1)}this.stack=L}}},_.inherits(b.AssertionError,Error);function S(n,a){return _.isUndefined(a)?""+a:_.isNumber(a)&&!isFinite(a)||_.isFunction(a)||_.isRegExp(a)?a.toString():a}function g(n,a){return _.isString(n)?n.length<a?n:n.slice(0,a):n}function s(n){return g(JSON.stringify(n.actual,S),128)+" "+n.operator+" "+g(JSON.stringify(n.expected,S),128)}function l(n,a,d,f,L){throw new b.AssertionError({message:d,actual:n,expected:a,operator:f,stackStartFunction:L})}b.fail=l;function m(n,a){n||l(n,!0,a,"==",b.ok)}b.ok=m,b.equal=function(a,d,f){a!=d&&l(a,d,f,"==",b.equal)},b.notEqual=function(a,d,f){a==d&&l(a,d,f,"!=",b.notEqual)},b.deepEqual=function(a,d,f){o(a,d)||l(a,d,f,"deepEqual",b.deepEqual)};function o(n,a){if(n===a)return!0;if(_.isBuffer(n)&&_.isBuffer(a)){if(n.length!=a.length)return!1;for(var d=0;d<n.length;d++)if(n[d]!==a[d])return!1;return!0}else return _.isDate(n)&&_.isDate(a)?n.getTime()===a.getTime():_.isRegExp(n)&&_.isRegExp(a)?n.source===a.source&&n.global===a.global&&n.multiline===a.multiline&&n.lastIndex===a.lastIndex&&n.ignoreCase===a.ignoreCase:!_.isObject(n)&&!_.isObject(a)?n==a:r(n,a)}function u(n){return Object.prototype.toString.call(n)=="[object Arguments]"}function r(n,a){if(_.isNullOrUndefined(n)||_.isNullOrUndefined(a)||n.prototype!==a.prototype)return!1;if(_.isPrimitive(n)||_.isPrimitive(a))return n===a;var d=u(n),f=u(a);if(d&&!f||!d&&f)return!1;if(d)return n=p.call(n),a=p.call(a),o(n,a);var L=h(n),q=h(a),$,j;if(L.length!=q.length)return!1;for(L.sort(),q.sort(),j=L.length-1;j>=0;j--)if(L[j]!=q[j])return!1;for(j=L.length-1;j>=0;j--)if($=L[j],!o(n[$],a[$]))return!1;return!0}b.notDeepEqual=function(a,d,f){o(a,d)&&l(a,d,f,"notDeepEqual",b.notDeepEqual)},b.strictEqual=function(a,d,f){a!==d&&l(a,d,f,"===",b.strictEqual)},b.notStrictEqual=function(a,d,f){a===d&&l(a,d,f,"!==",b.notStrictEqual)};function v(n,a){return!n||!a?!1:Object.prototype.toString.call(a)=="[object RegExp]"?a.test(n):n instanceof a?!0:a.call({},n)===!0}function A(n,a,d,f){var L;_.isString(d)&&(f=d,d=null);try{a()}catch(q){L=q}if(f=(d&&d.name?" ("+d.name+").":".")+(f?" "+f:"."),n&&!L&&l(L,d,"Missing expected exception"+f),!n&&v(L,d)&&l(L,d,"Got unwanted exception"+f),n&&L&&d&&!v(L,d)||!n&&L)throw L}b.throws=function(n,a,d){A.apply(this,[!0].concat(p.call(arguments)))},b.doesNotThrow=function(n,a){A.apply(this,[!1].concat(p.call(arguments)))},b.ifError=function(n){if(n)throw n};var h=Object.keys||function(n){var a=[];for(var d in n)I.call(n,d)&&a.push(d);return a}},{"util/":11}],9:[function(x,C,k){typeof Object.create=="function"?C.exports=function(p,I){p.super_=I,p.prototype=Object.create(I.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}})}:C.exports=function(p,I){p.super_=I;var b=function(){};b.prototype=I.prototype,p.prototype=new b,p.prototype.constructor=p}},{}],10:[function(x,C,k){C.exports=function(p){return p&&typeof p=="object"&&typeof p.copy=="function"&&typeof p.fill=="function"&&typeof p.readUInt8=="function"}},{}],11:[function(x,C,k){(function(_,p){var I=/%[sdj%]/g;k.format=function(E){if(!q(E)){for(var N=[],R=0;R<arguments.length;R++)N.push(g(arguments[R]));return N.join(" ")}for(var R=1,Q=arguments,ne=Q.length,z=String(E).replace(I,function(Y){if(Y==="%%")return"%";if(R>=ne)return Y;switch(Y){case"%s":return String(Q[R++]);case"%d":return Number(Q[R++]);case"%j":try{return JSON.stringify(Q[R++])}catch{return"[Circular]"}default:return Y}}),W=Q[R];R<ne;W=Q[++R])d(W)||!U(W)?z+=" "+W:z+=" "+g(W);return z},k.deprecate=function(E,N){if(j(p.process))return function(){return k.deprecate(E,N).apply(this,arguments)};if(_.noDeprecation===!0)return E;var R=!1;function Q(){if(!R){if(_.throwDeprecation)throw new Error(N);_.traceDeprecation?console.trace(N):console.error(N),R=!0}return E.apply(this,arguments)}return Q};var b={},S;k.debuglog=function(E){if(j(S)&&(S=_.env.NODE_DEBUG||""),E=E.toUpperCase(),!b[E])if(new RegExp("\\b"+E+"\\b","i").test(S)){var N=_.pid;b[E]=function(){var R=k.format.apply(k,arguments);console.error("%s %d: %s",E,N,R)}}else b[E]=function(){};return b[E]};function g(E,N){var R={seen:[],stylize:l};return arguments.length>=3&&(R.depth=arguments[2]),arguments.length>=4&&(R.colors=arguments[3]),a(N)?R.showHidden=N:N&&k._extend(R,N),j(R.showHidden)&&(R.showHidden=!1),j(R.depth)&&(R.depth=2),j(R.colors)&&(R.colors=!1),j(R.customInspect)&&(R.customInspect=!0),R.colors&&(R.stylize=s),o(R,E,R.depth)}k.inspect=g,g.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},g.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function s(E,N){var R=g.styles[N];return R?"\x1B["+g.colors[R][0]+"m"+E+"\x1B["+g.colors[R][1]+"m":E}function l(E,N){return E}function m(E){var N={};return E.forEach(function(R,Q){N[R]=!0}),N}function o(E,N,R){if(E.customInspect&&N&&ue(N.inspect)&&N.inspect!==k.inspect&&!(N.constructor&&N.constructor.prototype===N)){var Q=N.inspect(R,E);return q(Q)||(Q=o(E,Q,R)),Q}var ne=u(E,N);if(ne)return ne;var z=Object.keys(N),W=m(z);if(E.showHidden&&(z=Object.getOwnPropertyNames(N)),X(N)&&(z.indexOf("message")>=0||z.indexOf("description")>=0))return r(N);if(z.length===0){if(ue(N)){var Y=N.name?": "+N.name:"";return E.stylize("[Function"+Y+"]","special")}if(G(N))return E.stylize(RegExp.prototype.toString.call(N),"regexp");if(H(N))return E.stylize(Date.prototype.toString.call(N),"date");if(X(N))return r(N)}var te="",me=!1,Ee=["{","}"];if(n(N)&&(me=!0,Ee=["[","]"]),ue(N)){var De=N.name?": "+N.name:"";te=" [Function"+De+"]"}if(G(N)&&(te=" "+RegExp.prototype.toString.call(N)),H(N)&&(te=" "+Date.prototype.toUTCString.call(N)),X(N)&&(te=" "+r(N)),z.length===0&&(!me||N.length==0))return Ee[0]+te+Ee[1];if(R<0)return G(N)?E.stylize(RegExp.prototype.toString.call(N),"regexp"):E.stylize("[Object]","special");E.seen.push(N);var Te;return me?Te=v(E,N,R,W,z):Te=z.map(function(Ne){return A(E,N,R,W,Ne,me)}),E.seen.pop(),h(Te,te,Ee)}function u(E,N){if(j(N))return E.stylize("undefined","undefined");if(q(N)){var R="'"+JSON.stringify(N).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return E.stylize(R,"string")}if(L(N))return E.stylize(""+N,"number");if(a(N))return E.stylize(""+N,"boolean");if(d(N))return E.stylize("null","null")}function r(E){return"["+Error.prototype.toString.call(E)+"]"}function v(E,N,R,Q,ne){for(var z=[],W=0,Y=N.length;W<Y;++W)pe(N,String(W))?z.push(A(E,N,R,Q,String(W),!0)):z.push("");return ne.forEach(function(te){te.match(/^\d+$/)||z.push(A(E,N,R,Q,te,!0))}),z}function A(E,N,R,Q,ne,z){var W,Y,te;if(te=Object.getOwnPropertyDescriptor(N,ne)||{value:N[ne]},te.get?te.set?Y=E.stylize("[Getter/Setter]","special"):Y=E.stylize("[Getter]","special"):te.set&&(Y=E.stylize("[Setter]","special")),pe(Q,ne)||(W="["+ne+"]"),Y||(E.seen.indexOf(te.value)<0?(d(R)?Y=o(E,te.value,null):Y=o(E,te.value,R-1),Y.indexOf(`
`)>-1&&(z?Y=Y.split(`
`).map(function(me){return"  "+me}).join(`
`).substr(2):Y=`
`+Y.split(`
`).map(function(me){return"   "+me}).join(`
`))):Y=E.stylize("[Circular]","special")),j(W)){if(z&&ne.match(/^\d+$/))return Y;W=JSON.stringify(""+ne),W.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(W=W.substr(1,W.length-2),W=E.stylize(W,"name")):(W=W.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),W=E.stylize(W,"string"))}return W+": "+Y}function h(E,N,R){var Q=E.reduce(function(ne,z){return z.indexOf(`
`)>=0,ne+z.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Q>60?R[0]+(N===""?"":N+`
 `)+" "+E.join(`,
  `)+" "+R[1]:R[0]+N+" "+E.join(", ")+" "+R[1]}function n(E){return Array.isArray(E)}k.isArray=n;function a(E){return typeof E=="boolean"}k.isBoolean=a;function d(E){return E===null}k.isNull=d;function f(E){return E==null}k.isNullOrUndefined=f;function L(E){return typeof E=="number"}k.isNumber=L;function q(E){return typeof E=="string"}k.isString=q;function $(E){return typeof E=="symbol"}k.isSymbol=$;function j(E){return E===void 0}k.isUndefined=j;function G(E){return U(E)&&Z(E)==="[object RegExp]"}k.isRegExp=G;function U(E){return typeof E=="object"&&E!==null}k.isObject=U;function H(E){return U(E)&&Z(E)==="[object Date]"}k.isDate=H;function X(E){return U(E)&&(Z(E)==="[object Error]"||E instanceof Error)}k.isError=X;function ue(E){return typeof E=="function"}k.isFunction=ue;function ee(E){return E===null||typeof E=="boolean"||typeof E=="number"||typeof E=="string"||typeof E=="symbol"||typeof E>"u"}k.isPrimitive=ee,k.isBuffer=x("./support/isBuffer");function Z(E){return Object.prototype.toString.call(E)}function ce(E){return E<10?"0"+E.toString(10):E.toString(10)}var se=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function fe(){var E=new Date,N=[ce(E.getHours()),ce(E.getMinutes()),ce(E.getSeconds())].join(":");return[E.getDate(),se[E.getMonth()],N].join(" ")}k.log=function(){console.log("%s - %s",fe(),k.format.apply(k,arguments))},k.inherits=x("inherits"),k._extend=function(E,N){if(!N||!U(N))return E;for(var R=Object.keys(N),Q=R.length;Q--;)E[R[Q]]=N[R[Q]];return E};function pe(E,N){return Object.prototype.hasOwnProperty.call(E,N)}}).call(this,x("_process"),typeof wt<"u"?wt:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":10,_process:14,inherits:9}],12:[function(x,C,k){},{}],13:[function(x,C,k){(function(_){function p(g,s){for(var l=0,m=g.length-1;m>=0;m--){var o=g[m];o==="."?g.splice(m,1):o===".."?(g.splice(m,1),l++):l&&(g.splice(m,1),l--)}if(s)for(;l--;l)g.unshift("..");return g}k.resolve=function(){for(var g="",s=!1,l=arguments.length-1;l>=-1&&!s;l--){var m=l>=0?arguments[l]:_.cwd();if(typeof m!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!m)continue;g=m+"/"+g,s=m.charAt(0)==="/"}return g=p(b(g.split("/"),function(o){return!!o}),!s).join("/"),(s?"/":"")+g||"."},k.normalize=function(g){var s=k.isAbsolute(g),l=S(g,-1)==="/";return g=p(b(g.split("/"),function(m){return!!m}),!s).join("/"),!g&&!s&&(g="."),g&&l&&(g+="/"),(s?"/":"")+g},k.isAbsolute=function(g){return g.charAt(0)==="/"},k.join=function(){var g=Array.prototype.slice.call(arguments,0);return k.normalize(b(g,function(s,l){if(typeof s!="string")throw new TypeError("Arguments to path.join must be strings");return s}).join("/"))},k.relative=function(g,s){g=k.resolve(g).substr(1),s=k.resolve(s).substr(1);function l(h){for(var n=0;n<h.length&&h[n]==="";n++);for(var a=h.length-1;a>=0&&h[a]==="";a--);return n>a?[]:h.slice(n,a-n+1)}for(var m=l(g.split("/")),o=l(s.split("/")),u=Math.min(m.length,o.length),r=u,v=0;v<u;v++)if(m[v]!==o[v]){r=v;break}for(var A=[],v=r;v<m.length;v++)A.push("..");return A=A.concat(o.slice(r)),A.join("/")},k.sep="/",k.delimiter=":",k.dirname=function(g){if(typeof g!="string"&&(g=g+""),g.length===0)return".";for(var s=g.charCodeAt(0),l=s===47,m=-1,o=!0,u=g.length-1;u>=1;--u)if(s=g.charCodeAt(u),s===47){if(!o){m=u;break}}else o=!1;return m===-1?l?"/":".":l&&m===1?"/":g.slice(0,m)};function I(g){typeof g!="string"&&(g=g+"");var s=0,l=-1,m=!0,o;for(o=g.length-1;o>=0;--o)if(g.charCodeAt(o)===47){if(!m){s=o+1;break}}else l===-1&&(m=!1,l=o+1);return l===-1?"":g.slice(s,l)}k.basename=function(g,s){var l=I(g);return s&&l.substr(-1*s.length)===s&&(l=l.substr(0,l.length-s.length)),l},k.extname=function(g){typeof g!="string"&&(g=g+"");for(var s=-1,l=0,m=-1,o=!0,u=0,r=g.length-1;r>=0;--r){var v=g.charCodeAt(r);if(v===47){if(!o){l=r+1;break}continue}m===-1&&(o=!1,m=r+1),v===46?s===-1?s=r:u!==1&&(u=1):s!==-1&&(u=-1)}return s===-1||m===-1||u===0||u===1&&s===m-1&&s===l+1?"":g.slice(s,m)};function b(g,s){if(g.filter)return g.filter(s);for(var l=[],m=0;m<g.length;m++)s(g[m],m,g)&&l.push(g[m]);return l}var S="ab".substr(-1)==="b"?function(g,s,l){return g.substr(s,l)}:function(g,s,l){return s<0&&(s=g.length+s),g.substr(s,l)}}).call(this,x("_process"))},{_process:14}],14:[function(x,C,k){var _=C.exports={},p,I;function b(){throw new Error("setTimeout has not been defined")}function S(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?p=setTimeout:p=b}catch{p=b}try{typeof clearTimeout=="function"?I=clearTimeout:I=S}catch{I=S}})();function g(n){if(p===setTimeout)return setTimeout(n,0);if((p===b||!p)&&setTimeout)return p=setTimeout,setTimeout(n,0);try{return p(n,0)}catch{try{return p.call(null,n,0)}catch{return p.call(this,n,0)}}}function s(n){if(I===clearTimeout)return clearTimeout(n);if((I===S||!I)&&clearTimeout)return I=clearTimeout,clearTimeout(n);try{return I(n)}catch{try{return I.call(null,n)}catch{return I.call(this,n)}}}var l=[],m=!1,o,u=-1;function r(){!m||!o||(m=!1,o.length?l=o.concat(l):u=-1,l.length&&v())}function v(){if(!m){var n=g(r);m=!0;for(var a=l.length;a;){for(o=l,l=[];++u<a;)o&&o[u].run();u=-1,a=l.length}o=null,m=!1,s(n)}}_.nextTick=function(n){var a=new Array(arguments.length-1);if(arguments.length>1)for(var d=1;d<arguments.length;d++)a[d-1]=arguments[d];l.push(new A(n,a)),l.length===1&&!m&&g(v)};function A(n,a){this.fun=n,this.array=a}A.prototype.run=function(){this.fun.apply(null,this.array)},_.title="browser",_.browser=!0,_.env={},_.argv=[],_.version="",_.versions={};function h(){}_.on=h,_.addListener=h,_.once=h,_.off=h,_.removeListener=h,_.removeAllListeners=h,_.emit=h,_.prependListener=h,_.prependOnceListener=h,_.listeners=function(n){return[]},_.binding=function(n){throw new Error("process.binding is not supported")},_.cwd=function(){return"/"},_.chdir=function(n){throw new Error("process.chdir is not supported")},_.umask=function(){return 0}},{}],15:[function(x,C,k){var _=x("escodegen").generate;C.exports=function(p,I){I||(I={});var b={},S=function g(s,l){if(s.type==="Literal")return s.value;if(s.type==="UnaryExpression"){var m=g(s.argument);return s.operator==="+"?+m:s.operator==="-"?-m:s.operator==="~"?~m:s.operator==="!"?!m:b}else if(s.type==="ArrayExpression"){for(var o=[],u=0,r=s.elements.length;u<r;u++){var v=g(s.elements[u]);if(v===b)return b;o.push(v)}return o}else if(s.type==="ObjectExpression"){for(var A={},u=0;u<s.properties.length;u++){var h=s.properties[u],n=h.value===null?h.value:g(h.value);if(n===b)return b;A[h.key.value||h.key.name]=n}return A}else if(s.type==="BinaryExpression"||s.type==="LogicalExpression"){var r=g(s.left);if(r===b)return b;var a=g(s.right);if(a===b)return b;var d=s.operator;return d==="=="?r==a:d==="==="?r===a:d==="!="?r!=a:d==="!=="?r!==a:d==="+"?r+a:d==="-"?r-a:d==="*"?r*a:d==="/"?r/a:d==="%"?r%a:d==="<"?r<a:d==="<="?r<=a:d===">"?r>a:d===">="?r>=a:d==="|"?r|a:d==="&"?r&a:d==="^"?r^a:d==="&&"?r&&a:d==="||"?r||a:b}else{if(s.type==="Identifier")return{}.hasOwnProperty.call(I,s.name)?I[s.name]:b;if(s.type==="ThisExpression")return{}.hasOwnProperty.call(I,"this")?I.this:b;if(s.type==="CallExpression"){var f=g(s.callee);if(f===b||typeof f!="function")return b;var L=s.callee.object?g(s.callee.object):b;L===b&&(L=null);for(var q=[],u=0,r=s.arguments.length;u<r;u++){var v=g(s.arguments[u]);if(v===b)return b;q.push(v)}return f.apply(L,q)}else if(s.type==="MemberExpression"){var A=g(s.object);if(A===b||typeof A=="function")return b;if(s.property.type==="Identifier")return A[s.property.name];var h=g(s.property);return h===b?b:A[h]}else if(s.type==="ConditionalExpression"){var m=g(s.test);return m===b?b:g(m?s.consequent:s.alternate)}else if(s.type==="ExpressionStatement"){var m=g(s.expression);return m===b?b:m}else{if(s.type==="ReturnStatement")return g(s.argument);if(s.type==="FunctionExpression"){var $=s.body.body,j={};Object.keys(I).forEach(function(se){j[se]=I[se]});for(var u=0;u<s.params.length;u++){var G=s.params[u];if(G.type=="Identifier")I[G.name]=null;else return b}for(var u in $)if(g($[u])===b)return b;I=j;var U=Object.keys(I),H=U.map(function(se){return I[se]});return Function(U.join(", "),"return "+_(s)).apply(null,H)}else if(s.type==="TemplateLiteral"){for(var X="",u=0;u<s.expressions.length;u++)X+=g(s.quasis[u]),X+=g(s.expressions[u]);return X+=g(s.quasis[u]),X}else if(s.type==="TaggedTemplateExpression"){var ue=g(s.tag),ee=s.quasi,Z=ee.quasis.map(g),ce=ee.expressions.map(g);return ue.apply(null,[Z].concat(ce))}else return s.type==="TemplateElement"?s.value.cooked:b}}}(p);return S===b?void 0:S}},{escodegen:12}],jsonpath:[function(x,C,k){C.exports=x("./lib/index")},{"./lib/index":5}]},{},["jsonpath"])("jsonpath")})})(Vt);var un=Vt.exports;const cn=Lr(un);function Mn(y={},w=void 0){return{$schema:"http://json-schema.org/draft-07/schema#",...y,allOf:[...y.allOf||[],{type:"object",properties:w}],additionalProperties:!0}}function $n(y={}){return{...Object.keys(y).reduce((x,C)=>({...x,[C]:{"ui:widget":"hidden"}}),{}),"ui:globalOptions":{copyable:!1,duplicateKeySuffixSeparator:"_"},additionalProperties:{"ui:field":it}}}function Hn(y){const w={};return Object.keys(y).forEach(x=>{let C=y[x];Array.isArray(C)?(C=C.filter(k=>k!=null),jt(C)||(w[x]=C)):w[x]=C}),w}function zn(y={}){return Object.keys(y).reduce((w,x)=>(y[x]!==null&&(w[x]=y[x]),w),{})}function Ut(y){var w,x;return(w=y.property)!=null&&w.startsWith("[")?y.property.substring(2,y.property.length-2):(x=y.property)!=null&&x.startsWith(".")?y.property.substring(1):y.property||""}function Gn(y){return w=>{const x=Gr(w,C=>C.property);return Object.keys(x).map(C=>{const k=x[C];k.some(I=>I.message==="should match some schema in anyOf")&&k.every(I=>I.message==="should be string"||I.message==="should be equal to constant"?!0:I.message==="should match some schema in anyOf")&&k.length>0&&(k[0].message="should be equal to one of the allowed values",x[C]=[k[0]])}),w=Wr(x),y&&(w=w.map(C=>{const k=Ut(C);return k&&zr[y].includes(k)&&(C.message=`"${k}" is a reserved internal key and cannot be used.`),C})),w}}function Pt(y){return Array.isArray(y)?y:[y]}function Wn(y,w){return!!(y&&Object.keys(y).length>0&&w)}function Jn(y){const w={},x=cn.query(y,"$..properties");for(const C of x)Object.assign(w,C);return w}function Xn(y){return!y||!y.startsWith("org.sagebionetworks")?null:"org.sagebionetworks-"+y.substring(20)}function at(y){const{errors:w}=y;return P.jsxs(Jr,{severity:"error",sx:{my:2},children:[P.jsx("b",{children:"Validation errors found:"}),P.jsx("ul",{children:w.map((x,C)=>P.jsxs("li",{children:[P.jsx("b",{children:`${Ut(x)}: `})," ",`${x.message}`]},C))})]})}try{at.displayName="ErrorListTemplate",at.__docgenInfo={description:"",displayName:"ErrorListTemplate",props:{errorSchema:{defaultValue:null,description:"The errorSchema constructed by `Form`",name:"errorSchema",required:!0,type:{name:"ErrorSchema<T>"}},errors:{defaultValue:null,description:"An array of the errors",name:"errors",required:!0,type:{name:"RJSFValidationError[]"}},formContext:{defaultValue:null,description:"The `formContext` object that was passed to `Form`",name:"formContext",required:!1,type:{name:"GenericObjectType"}},schema:{defaultValue:null,description:"The schema that was passed to `Form`",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema that was passed to `Form`",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}function st(y){const{errors:w=[],idSchema:x}=y;if(w.length===0)return null;const C=Pr(x);return P.jsx(Xr,{dense:!0,disablePadding:!0,children:w.map((k,_)=>P.jsx(Kr,{disableGutters:!0,children:P.jsx(Qr,{id:C,sx:{color:"error.main"},children:k})},_))})}try{st.displayName="FieldErrorTemplate",st.__docgenInfo={description:"The `FieldErrorTemplate` component renders the errors local to the particular field",displayName:"FieldErrorTemplate",props:{errorSchema:{defaultValue:null,description:"The errorSchema constructed by `Form`",name:"errorSchema",required:!1,type:{name:"ErrorSchema<T>"}},errors:{defaultValue:null,description:"An array of the errors",name:"errors",required:!1,type:{name:"(string | ReactElement<any, string | JSXElementConstructor<any>>)[]"}},idSchema:{defaultValue:null,description:"The tree of unique ids for every child field",name:"idSchema",required:!0,type:{name:"FieldId | (FieldId & { [key in keyof T]?: IdSchema<T[key]> | undefined; })"}},schema:{defaultValue:null,description:"The schema that was passed to field",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema that was passed to field",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}function ot(y){const{id:w,label:x,children:C,errors:k,help:_,description:p,hidden:I,required:b,displayLabel:S,registry:g,uiSchema:s,schema:l}=y,m=ct(s),o=we("WrapIfAdditionalTemplate",g,m);return I?P.jsx("div",{className:"hidden",children:C}):P.jsxs(o,{...y,children:[P.jsxs(je,{hideLabel:!(S||l.type==="boolean"),fieldLabel:P.jsxs(dt,{htmlFor:w,children:[x,b&&P.jsx("span",{className:"required",children:"*"})]}),description:p,registry:g,children:[C,P.jsx(_e,{item:!0,xs:12,children:k})]}),_]})}try{ot.displayName="FieldTemplate",ot.__docgenInfo={description:"",displayName:"FieldTemplate",props:{id:{defaultValue:null,description:"The id of the field in the hierarchy. You can use it to render a label targeting the wrapped widget",name:"id",required:!0,type:{name:"string"}},classNames:{defaultValue:null,description:"A string containing the base CSS classes, merged with any custom ones defined in your uiSchema",name:"classNames",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"An object containing the style as defined in the `uiSchema`",name:"style",required:!1,type:{name:"StyleHTMLAttributes<any>"}},label:{defaultValue:null,description:"The computed label for this field, as a string",name:"label",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"A component instance rendering the field description, if one is defined (this will use any custom\n`DescriptionField` defined)",name:"description",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},rawDescription:{defaultValue:null,description:"A string containing any `ui:description` uiSchema directive defined",name:"rawDescription",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"The field or widget component instance for this field row",name:"children",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},errors:{defaultValue:null,description:"A component instance listing any encountered errors for this field",name:"errors",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},rawErrors:{defaultValue:null,description:"An array of strings listing all generated error messages from encountered errors for this field",name:"rawErrors",required:!1,type:{name:"string[]"}},help:{defaultValue:null,description:"A component instance rendering any `ui:help` uiSchema directive defined",name:"help",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},rawHelp:{defaultValue:null,description:"A string containing any `ui:help` uiSchema directive defined. **NOTE:** `rawHelp` will be `undefined` if passed\n`ui:help` is a React component instead of a string",name:"rawHelp",required:!1,type:{name:"string"}},hidden:{defaultValue:null,description:"A boolean value stating if the field should be hidden",name:"hidden",required:!1,type:{name:"boolean"}},required:{defaultValue:null,description:"A boolean value stating if the field is required",name:"required",required:!1,type:{name:"boolean"}},readonly:{defaultValue:null,description:"A boolean value stating if the field is read-only",name:"readonly",required:!0,type:{name:"boolean"}},hideError:{defaultValue:null,description:"A boolean value stating if the field is hiding its errors",name:"hideError",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"A boolean value stating if the field is disabled",name:"disabled",required:!0,type:{name:"boolean"}},displayLabel:{defaultValue:null,description:`A boolean value stating if the label should be rendered or not. This is useful for nested fields in arrays where
you don't want to clutter the UI`,name:"displayLabel",required:!1,type:{name:"boolean"}},schema:{defaultValue:null,description:"The schema object for this field",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this field",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},formContext:{defaultValue:null,description:"The `formContext` object that was passed to `Form`",name:"formContext",required:!1,type:{name:"GenericObjectType"}},formData:{defaultValue:null,description:"The formData for this field",name:"formData",required:!1,type:{name:"T"}},onChange:{defaultValue:null,description:"The value change event handler; Can be called with a new value to change the value for this field",name:"onChange",required:!0,type:{name:"(newFormData: T | undefined, es?: ErrorSchema<T> | undefined, id?: string | undefined) => any"}},onKeyChange:{defaultValue:null,description:"The key change event handler; Called when the key associated with a field is changed for an additionalProperty",name:"onKeyChange",required:!0,type:{name:"(value: string) => () => void"}},onDropPropertyClick:{defaultValue:null,description:"The property drop/removal event handler; Called when a field is removed in an additionalProperty context",name:"onDropPropertyClick",required:!0,type:{name:"(value: string) => () => void"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}const lt=y=>{const{SelectWidget:w}=y.registry.widgets,x={enumOptions:[{value:!0,label:"true"},{value:!1,label:"false"}]};return P.jsx(w,{...y,options:x})};try{lt.displayName="BooleanWidget",lt.__docgenInfo={description:"Select widget compatible with react-jsonschema-form booleans",displayName:"BooleanWidget",props:{}}}catch{}const ut=({disabled:y,value:w,onChange:x})=>P.jsx(Zr,{disabled:y,value:w?Yr(w):null,onChange:C=>{C==null||typeof C=="string"?x(C):x(C.toISOString())}});try{ut.displayName="DateTimeWidget",ut.__docgenInfo={description:"DateTime picker widget compatible with react-jsonschema-form and Synapse Datetime annotations.",displayName:"DateTimeWidget",props:{}}}catch{}function Ot(y){return P.jsx(Or,{ref:y.formRef,validator:Rr,className:"JsonSchemaForm",...y,templates:{ArrayFieldDescriptionTemplate:$e,ArrayFieldItemTemplate:He,ArrayFieldTemplate:Ge,ArrayFieldTitleTemplate:We,BaseInputTemplate:Je,FieldErrorTemplate:st,FieldTemplate:ot,ButtonTemplates:on,DescriptionFieldTemplate:tt,ErrorListTemplate:at,...y.templates},widgets:{DateTimeWidget:ut,CheckboxWidget:lt,SelectWidget:Fr,...y.widgets}})}try{Ot.displayName="JsonSchemaForm",Ot.__docgenInfo={description:`Wrapper around react-jsonschema-form that supplies default styling/templates/widgets for
Synapse/Portals`,displayName:"JsonSchemaForm",props:{formRef:{defaultValue:null,description:"",name:"formRef",required:!1,type:{name:"Ref<Form<T, RJSFSchema, GenericObjectType>>"}}}}}catch{}export{Ot as J,Jn as a,Xn as b,Pt as c,Mn as d,$n as e,Ut as f,Gn as g,zn as h,Hn as i,Wn as s};
