import{r as n,as as g,fo as A,F as H,dJ as I}from"./iframe-DkJtXMGY.js";function b(l,t){const[f,a]=n.useState(),[S,i]=n.useState(),{accessToken:r}=g();let c;return(s=>{s.TABLEID="TableId",s.COUNT_SQL="CountSql",s.TITLE="Title",s.SUMMARY="Summary",s.LINK="Link",s.ASSET="Asset"})(c||(c={})),n.useEffect(()=>{(async()=>{try{const o=A("Asset",t),d=((t==null?void 0:t.queryResult.queryResults.rows.map(e=>e.values[o]))??[]).filter(e=>e!=null&&e!==void 0);if(d.length===0){a(void 0),i(void 0);return}const L={includeFileHandles:!1,includePreSignedURLs:!0,includePreviewPreSignedURLs:!1,requestedFiles:d.map(e=>({associateObjectId:l,associateObjectType:H.TableEntity,fileHandleId:e}))},T=await I(L,r);i(void 0);const F=T.requestedFiles.filter(e=>e.preSignedURL!==void 0).map(e=>e.preSignedURL);a(F)}catch(o){i(o),a(void 0)}})()},[l,t,r]),{assets:f,error:S}}export{b as u};
