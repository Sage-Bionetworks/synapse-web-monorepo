import{r as c,an as m,fh as L,F as T,dB as F,$ as _,fg as I,eS as R,j as p}from"./iframe-DvdBRTAM.js";function U(n,s){const[i,r]=c.useState(),[l,o]=c.useState(),{accessToken:a}=m();let d;return(t=>{t.TABLEID="TableId",t.COUNT_SQL="CountSql",t.TITLE="Title",t.SUMMARY="Summary",t.LINK="Link",t.ASSET="Asset"})(d||(d={})),c.useEffect(()=>{(async()=>{try{const u=L("Asset",s),y=(s?.queryResult.queryResults.rows.map(e=>e.values[u])??[]).filter(e=>e!=null&&e!==void 0);if(y.length===0){r(void 0),o(void 0);return}const S={includeFileHandles:!1,includePreSignedURLs:!0,includePreviewPreSignedURLs:!1,requestedFiles:y.map(e=>({associateObjectId:n,associateObjectType:T.TableEntity,fileHandleId:e}))},g=await F(S,a);o(void 0);const q=g.requestedFiles.filter(e=>e.preSignedURL!==void 0).map(e=>e.preSignedURL);r(q)}catch(u){o(u),r(void 0)}})()},[n,s,a]),{assets:i,error:l}}function f(n){const{query:s,parens:i}=n,r=_(s.sql),l={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",query:s,entityId:r,partMask:R},{data:o}=I(l),a=o?.queryCount?.toLocaleString();return p.jsx(p.Fragment,{children:a&&(i?`(${a})`:a)})}try{f.displayName="QueryCount",f.__docgenInfo={description:"Shows the total count of results for a table query.",displayName:"QueryCount",props:{query:{defaultValue:null,description:"",name:"query",required:!0,type:{name:"Query"}},parens:{defaultValue:null,description:"",name:"parens",required:!1,type:{name:"boolean"}}}}}catch{}export{f as Q,U as u};
