import{j as r}from"./jsx-runtime-DoxjgJx5.js";import{r as c}from"./index-Cu9bd8lq.js";import{u as l}from"./useMutation-BUHlmdy0.js";import{d as u}from"./ToastMessage-B5PhHTSL.js";import{I as d}from"./IconSvg-CCvZ-yM9.js";import{B as m}from"./Button-BfexmcsD.js";const n=({shortIoPublicApiKey:t,domain:a="sageb.io",buttonProps:i})=>{const e=c.useCallback(o=>{navigator.clipboard.writeText(o).then(()=>{u("Page URL copied to the clipboard","success")})},[]),{mutate:s}=l({mutationFn:async()=>{if(t){const o=await fetch("https://api.short.io/links/public",{method:"POST",headers:{Authorization:t,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({originalURL:window.location.href,domain:a})});if(!o.ok){const p=await o.text();throw new Error(p)}return(await o.json()).shortURL}else return window.location.href},onSuccess:o=>{e(o)},onError:o=>{console.error(o),e(window.location.href)}});return r.jsx(m,{variant:"contained",onClick:()=>{s()},...i,startIcon:r.jsx(d,{icon:"contentCopy",wrap:!1}),children:"Share Page Link"})};try{n.displayName="SharePageLinkButton",n.__docgenInfo={description:"",displayName:"SharePageLinkButton",props:{shortIoPublicApiKey:{defaultValue:null,description:"",name:"shortIoPublicApiKey",required:!1,type:{name:"string"}},domain:{defaultValue:{value:"sageb.io"},description:"",name:"domain",required:!1,type:{name:"string"}},buttonProps:{defaultValue:null,description:"",name:"buttonProps",required:!1,type:{name:"ButtonProps"}}}}}catch{}export{n as S};
