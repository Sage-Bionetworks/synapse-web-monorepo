import{at as N,J as x,ds as _,j as t,V as w,b$ as j,br as D,ar as F,dQ as I,dP as M,c1 as l,aF as B,Z as S,eh as T}from"./iframe-DNJeJ5iA.js";import{u as d}from"./useEntityBundle-DLDN3id7.js";import{c as L}from"./useDownloadList-DXRgRMQa.js";import{d as b}from"./DownloadConfirmationUtils-CGo8l9G8.js";import{U as E}from"./UserBadge-DH_o0r3v.js";function m(e){const{row:o}=e,{entityId:i,versionNumber:a}=o.original,{data:n}=d(i,a),{downloadCartPageUrl:r}=N(),{mutate:s}=L({onSuccess:()=>{b(r)},onError:p=>{x(p.reason,"danger")}});return(n==null?void 0:n.entityType)==_.file||(n==null?void 0:n.entityType)==_.recordset?t.jsx(w,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:t.jsx(j,{title:"Add to Download Cart",placement:"right",children:t.jsx(D,{sx:{height:"35px",width:"35px"},onClick:p=>{s({entityId:i,entityVersionNumber:a}),p.stopPropagation()},children:t.jsx(F,{icon:"download"})})})}):t.jsx(t.Fragment,{})}try{m.displayName="AddFileToDownloadListCell",m.__docgenInfo={description:"",displayName:"AddFileToDownloadListCell",props:{}}}catch{}function c({cellData:e}){return t.jsx(t.Fragment,{children:(e&&I(M(e)))??t.jsx(t.Fragment,{})})}try{c.displayName="DateCell",c.__docgenInfo={description:"",displayName:"DateCell",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!1,type:{name:"string"}}}}}catch{}function u(e){var n;const{row:o}=e,{data:i,isLoading:a}=d(o.original.entityId,o.original.versionNumber);return a?t.jsx(l,{width:100}):t.jsx(c,{...e,cellData:(n=i==null?void 0:i.entity)==null?void 0:n.createdOn})}try{u.displayName="CreatedOnCell",u.__docgenInfo={description:"Renders 'createdOn' from the entity bundle.",displayName:"CreatedOnCell",props:{}}}catch{}function g(e){const{row:o}=e,{data:i,isLoading:a}=d(o.original.entityId,o.original.versionNumber),{mutate:n}=B({mutationFn:s=>S(s),onSuccess:()=>x("MD5 copied to the clipboard","success")});if(a)return t.jsx(l,{width:100});const r=i==null?void 0:i.fileHandles.find(s=>s.isPreview!==!0);return(r==null?void 0:r.contentMd5)==null?t.jsx(t.Fragment,{}):t.jsx(j,{title:"Click to copy MD5 to your clipboard",placement:"right",children:t.jsx("button",{className:"md5Button","aria-label":"MD5",onClick:s=>{s.stopPropagation(),n((r==null?void 0:r.contentMd5)??"")},children:r==null?void 0:r.contentMd5})})}try{g.displayName="FileEntityMD5Cell",g.__docgenInfo={description:"",displayName:"FileEntityMD5Cell",props:{}}}catch{}function f(e){const{row:o}=e,{data:i,isLoading:a}=d(o.original.entityId,o.original.versionNumber);if(a)return t.jsx(l,{width:100});const n=i==null?void 0:i.fileHandles.find(s=>s.isPreview!==!0),r=n!=null&&n.contentSize?T(n==null?void 0:n.contentSize):"";return t.jsx("span",{children:r})}try{f.displayName="FileEntitySizeCell",f.__docgenInfo={description:"",displayName:"FileEntitySizeCell",props:{}}}catch{}function y({cellData:e}){return e?t.jsx(E,{userId:e,openLinkInNewTab:!0}):t.jsx(t.Fragment,{})}try{y.displayName="UserBadgeCell",y.__docgenInfo={description:"",displayName:"UserBadgeCell",props:{cellData:{defaultValue:null,description:"",name:"cellData",required:!1,type:{name:"string"}}}}}catch{}function C(e){const{row:o}=e,{data:i,isLoading:a}=d(o.original.entityId,o.original.versionNumber);return a?t.jsx(l,{width:100}):t.jsx(y,{...e,cellData:i==null?void 0:i.entity.modifiedBy})}try{C.displayName="ModifiedByCell",C.__docgenInfo={description:"Renders 'modifiedBy' from the entity bundle.",displayName:"ModifiedByCell",props:{}}}catch{}function h(e){const{row:o}=e,{data:i,isLoading:a}=d(o.original.entityId,o.original.versionNumber);return a?t.jsx(l,{width:100}):t.jsx(c,{...e,cellData:i==null?void 0:i.entity.modifiedOn})}try{h.displayName="ModifiedOnCell",h.__docgenInfo={description:"Renders 'modifiedOn' from the entity bundle.",displayName:"ModifiedOnCell",props:{}}}catch{}export{m as A,u as C,f as F,h as M,C as a,g as b};
