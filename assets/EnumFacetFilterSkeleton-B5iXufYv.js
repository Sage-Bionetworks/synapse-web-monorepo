import{j as e}from"./jsx-runtime-Du8NFWEI.js";import{r as d,R as L}from"./index-Dl6G-zuu.js";import{I as w}from"./IconSvg-CJ-gK6N6.js";import{C as P}from"./Checkbox-C63vyfGV.js";import{I as v}from"./IconButton-CLoAcDX9.js";import{a as le}from"./RadioGroup-AMpK4AOs.js";import{D as N}from"./Dropdown-DyJmsK1J.js";import{T as S}from"./Tooltip-Drr3vXNI.js";import{M as ne}from"./Menu-C2kbcWAO.js";import{F as ae}from"./Fade-Bhxuafx5.js";import{T as re}from"./TextField-CM8oUPj4.js";import{C as oe}from"./_getTag-BK1szWWC.js";import{B as T}from"./Box-DRYT9rh3.js";import{S as y}from"./Skeleton-1jrlRaLC.js";import{S as ie}from"./Stack-D3AEdRlD.js";const I=t=>e.jsxs("svg",{...t,className:`Icon-Plus ${t.className??""}`,width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.title&&e.jsx("title",{children:t.title}),e.jsx("path",{d:"M14.3887 8H8.38867V14H6.38867V8H0.388672V6H6.38867V0H8.38867V6H14.3887V8Z"})]});try{I.displayName="IconPlus",I.__docgenInfo={description:"",displayName:"IconPlus",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}const E=t=>e.jsxs("svg",{...t,className:`Icon-Minus ${t.className??""}`,width:"15",height:"2",viewBox:"0 0 15 2",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.title&&e.jsx("title",{children:t.title}),e.jsx("path",{d:"M14.3887 2H8.38867H6.38867H0.388672V0H6.38867H8.38867H14.3887V2Z"})]});try{E.displayName="IconMinus",E.__docgenInfo={description:"",displayName:"IconMinus",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}function k(t){const{label:l,isCollapsed:r,onClick:o,hideCollapsible:i=!1}=t;return e.jsxs("div",{className:"FacetFilterHeader",children:[e.jsx("label",{className:"FacetFilterHeader__label",children:l}),!i&&e.jsx(v,{size:"small",className:"FacetFilterHeader__collapseToggleBtn",onClick:()=>o(!r),children:r?e.jsx(I,{className:"icon-plus",title:"Expand Menu"}):e.jsx(E,{className:"icon-minus",title:"Collapse Menu"})})]})}try{k.displayName="FacetFilterHeader",k.__docgenInfo={description:"",displayName:"FacetFilterHeader",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},hideCollapsible:{defaultValue:null,description:"",name:"hideCollapsible",required:!1,type:{name:"boolean"}},isCollapsed:{defaultValue:null,description:"",name:"isCollapsed",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(newValue: boolean) => void"}}}}}catch{}function A(t){const{id:l,label:r,count:o,isDropdown:i,checked:n,onChange:u,onHover:p,inputType:c}=t;return e.jsxs("div",{className:"EnumFacetFilter__checkboxContainer",onClick:()=>{i&&u(!n)},onMouseEnter:p,children:[c==="checkbox"&&e.jsx(P,{className:"EnumFacetFilter__checkbox",onClick:s=>s.stopPropagation(),onChange:s=>{u(s)},checked:n,label:r},`${l}`),c==="radio"&&e.jsx(le,{className:"EnumFacetFilter__checkbox",value:l||r,onClick:s=>s.stopPropagation(),onChange:()=>{u(!n)},checked:n,label:r},`${l}`),o!=null&&e.jsxs(e.Fragment,{children:[i&&e.jsxs("span",{className:"EnumFacetFilter__count",children:["(",o.toLocaleString(),")"]}),!i&&e.jsx("div",{className:"EnumFacetFilter__count",children:o.toLocaleString()})]})]})}try{A.displayName="EnumFacetFilterOption",A.__docgenInfo={description:"",displayName:"EnumFacetFilterOption",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}},isDropdown:{defaultValue:null,description:"",name:"isDropdown",required:!0,type:{name:"boolean"}},checked:{defaultValue:null,description:"",name:"checked",required:!0,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(selected: boolean) => void"}},onHover:{defaultValue:null,description:"",name:"onHover",required:!0,type:{name:"() => void"}},inputType:{defaultValue:null,description:"",name:"inputType",required:!0,type:{name:"enum",value:[{value:'"checkbox"'},{value:'"radio"'}]}}}}}catch{}function se(t){const{menuText:l,children:r}=t,[o,i]=d.useState(!1),n=()=>i(!o);return e.jsxs(N,{className:"EnumFacetFilter EnumFacetFilterSelect",show:o,onToggle:n,children:[e.jsx(N.Toggle,{className:"secondary-caret",variant:"gray-select",children:l}),e.jsx(N.Menu,{children:r})]})}function ce(t){const{children:l,filterIsActive:r,facetTitle:o}=t,[i,n]=L.useState(null),u=s=>{n(s.currentTarget)},p=()=>{n(null)},c=!!i;return e.jsxs("div",{className:"EnumFacetFilter",children:[e.jsx(S,{title:`Filter by ${o}`,children:e.jsx(v,{onClick:u,size:"small",children:e.jsx(w,{icon:"filter",wrap:!1,sx:{color:r?"primary.main":"grey.700",fontSize:"20px"}})})}),e.jsx(ne,{anchorEl:i,open:c,onClose:p,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},TransitionComponent:ae,children:l})]})}function q(t){const{dropdownType:l}=t;return l==="SelectBox"?e.jsx(se,{...t}):e.jsx(ce,{...t})}try{q.displayName="EnumFacetFilterDropdown",q.__docgenInfo={description:"",displayName:"EnumFacetFilterDropdown",props:{facetTitle:{defaultValue:null,description:"",name:"facetTitle",required:!0,type:{name:"string"}},menuText:{defaultValue:null,description:"",name:"menuText",required:!0,type:{name:"string"}},filterIsActive:{defaultValue:null,description:"",name:"filterIsActive",required:!0,type:{name:"boolean"}},dropdownType:{defaultValue:null,description:"",name:"dropdownType",required:!1,type:{name:"enum",value:[{value:'"Icon"'},{value:'"SelectBox"'}]}}}}}catch{}const F=5;function R(t){return t.replace(/\s/g,"").toLowerCase()}function O(t){const{filterIsActive:l,containerAs:r="Collapsible",dropdownType:o="Icon",hideCollapsible:i=!1,facetValues:n,onAddValueToSelection:u,onRemoveValueFromSelection:p,facetTitle:c,onRemoveAllFacetSelections:s,onHoverOverValue:U,canMultiSelect:$=!0}=t,[W,V]=d.useState(!1),[H,Z]=d.useState(!1),[h,M]=d.useState(!1),[m,C]=d.useState(""),B=n.length>F&&n.slice(F).some(({isSelected:a})=>a),g=W||h||B,f=d.useMemo(()=>h&&m.length>0?n.filter(({displayText:a})=>a.toLowerCase().indexOf(m.trim().toLowerCase())>-1):g?n:n.slice(0,F),[n,m,h,g]),b=L.createRef(),j=r==="Dropdown",G=!g&&n.length>F,X=g&&!m&&!B&&n.length>F,D=e.jsxs("div",{className:j?"EnumFacetFilter__dropdown_menu":"",children:[e.jsxs("div",{className:"EnumFacetFilter__checkboxContainer--forAll",children:[e.jsx(re,{sx:{display:h?void 0:"none"},size:"small",fullWidth:!0,InputProps:{startAdornment:e.jsx(S,{title:"Close search",children:e.jsx(v,{size:"small",onClick:()=>{M(!1),V(!1)},children:e.jsx(w,{sx:{fontSize:"inherit"},wrap:!1,icon:"arrowBack"})})}),endAdornment:m.length>0&&e.jsx(S,{title:"Clear",children:e.jsx(v,{size:"small",onClick:()=>{var a;C(""),(a=b.current)==null||a.focus()},children:e.jsx(w,{sx:{fontSize:"inherit"},wrap:!1,icon:"close"})})})},type:"text",placeholder:"Find values",value:m,ref:b,onChange:a=>{C(a.target.value)}}),!h&&e.jsxs("div",{className:"EnumFacetFilter__checkAll",children:[e.jsx(P,{className:"EnumFacetFilter__checkbox",onChange:()=>{l&&s()},checked:!l,label:"All",isSelectAll:!0},"select_all"),e.jsx(S,{title:"Search",children:e.jsx(v,{size:"small",sx:{aspectRatio:"1 / 1"},onClick:()=>{var a;C(""),M(!0),(a=b.current)==null||a.focus()},children:e.jsx(w,{sx:{fontSize:"inherit"},wrap:!1,icon:"search"})})})]})]}),e.jsxs("div",{children:[f.map((a,K)=>{const{isSelected:Q,displayText:Y,value:x,count:ee}=a;return e.jsx(A,{id:[R(c),R(String(x)),K].join("-"),label:Y,count:ee,isDropdown:j,checked:Q,onHover:()=>{U(x)},onChange:te=>{te?u(x):p(x)},inputType:$?"checkbox":"radio"},String(x))}),!j&&e.jsxs(e.Fragment,{children:[G&&e.jsx("button",{className:"EnumFacetFilter__showMoreFacetsBtn",onClick:()=>V(!0),children:e.jsx("div",{className:"EnumFacetFilter__checkboxContainer",children:e.jsxs("div",{className:"EnumFacetFilter__showMoreFacetsLabel",children:["Show all (",n.length,")"]})})}),X&&e.jsx("button",{className:"EnumFacetFilter__showMoreFacetsBtn",onClick:()=>V(!1),children:e.jsx("div",{className:"EnumFacetFilter__checkboxContainer",children:e.jsx("div",{className:"EnumFacetFilter__showMoreFacetsLabel",children:"Show less"})})})]}),f.length<=0&&e.jsx("div",{className:"EnumFacetFilter__noMatch",children:"No match found"})]})]}),J=d.useMemo(()=>l?l&&f.filter(a=>a.isSelected).length===1?f.filter(a=>a.isSelected)[0].displayText:"Multiple Values Selected":"All",[l,f]);return j?e.jsx(q,{facetTitle:c,dropdownType:o,menuText:J,filterIsActive:l,children:D}):e.jsxs(e.Fragment,{children:[e.jsx(k,{hideCollapsible:i,isCollapsed:H,label:c,onClick:a=>Z(a)}),e.jsx(oe,{className:"EnumFacetFilter",in:!H,children:D})]})}try{O.displayName="EnumFacetFilterUI",O.__docgenInfo={description:"",displayName:"EnumFacetFilterUI",props:{facetTitle:{defaultValue:null,description:"",name:"facetTitle",required:!0,type:{name:"string"}},facetValues:{defaultValue:null,description:"",name:"facetValues",required:!0,type:{name:"RenderedFacetValue<TValue>[]"}},filterIsActive:{defaultValue:null,description:"",name:"filterIsActive",required:!0,type:{name:"boolean"}},containerAs:{defaultValue:null,description:"",name:"containerAs",required:!1,type:{name:"enum",value:[{value:'"Collapsible"'},{value:'"Dropdown"'}]}},dropdownType:{defaultValue:null,description:"",name:"dropdownType",required:!1,type:{name:"enum",value:[{value:'"Icon"'},{value:'"SelectBox"'}]}},hideCollapsible:{defaultValue:null,description:"",name:"hideCollapsible",required:!1,type:{name:"boolean"}},onAddValueToSelection:{defaultValue:null,description:"",name:"onAddValueToSelection",required:!0,type:{name:"(value: TValue) => void"}},onRemoveValueFromSelection:{defaultValue:null,description:"",name:"onRemoveValueFromSelection",required:!0,type:{name:"(value: TValue) => void"}},onRemoveAllFacetSelections:{defaultValue:null,description:"",name:"onRemoveAllFacetSelections",required:!0,type:{name:"() => void"}},onHoverOverValue:{defaultValue:null,description:"",name:"onHoverOverValue",required:!0,type:{name:"(value: TValue) => void"}},canMultiSelect:{defaultValue:null,description:"",name:"canMultiSelect",required:!0,type:{name:"boolean"}}}}}catch{}function _(){const t=e.jsxs(ie,{direction:"row",gap:"10px",sx:{my:1},children:[e.jsx(y,{width:"15px"}),e.jsx(y,{width:"40%"})]});return e.jsxs(T,{className:"FacetFilterControls__facet",children:[e.jsx(T,{className:"FacetFilterHeader",children:e.jsx(y,{width:"100%"})}),e.jsxs(T,{children:[t,t,t]})]})}function Ve(){return e.jsxs("div",{className:"FacetFilterControls",children:[e.jsx(_,{}),e.jsx(_,{}),e.jsx(_,{}),e.jsx(_,{})]})}function z(t){const{containerAs:l="Collapsible",dropdownType:r="Icon"}=t;return l==="Collapsible"?e.jsx(_,{}):r==="Icon"?e.jsx(y,{variant:"rectangular",width:25,height:25}):e.jsx(y,{variant:"rectangular",width:100,height:25})}try{z.displayName="EnumFacetFilterSkeleton",z.__docgenInfo={description:"",displayName:"EnumFacetFilterSkeleton",props:{containerAs:{defaultValue:null,description:"",name:"containerAs",required:!1,type:{name:"enum",value:[{value:'"Collapsible"'},{value:'"Dropdown"'}]}},dropdownType:{defaultValue:null,description:"",name:"dropdownType",required:!1,type:{name:"enum",value:[{value:'"Icon"'},{value:'"SelectBox"'}]}}}}}catch{}export{O as E,k as F,z as a,Ve as b};
