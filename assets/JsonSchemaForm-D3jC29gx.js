import{bA as Pe,bB as De,aE as Be,U as Re,j as r,c6 as fe,da as B,r as _,V as le,Y as ge,b$ as Oe,br as be,d4 as Se,B as Te,dE as se,X as ue,ay as Le,c3 as Je,c4 as Ue,dR as Me,dD as We,dG as $e}from"./iframe-z21gSILm.js";import{g as E,A as He,T as V}from"./enums-Rgo4j3BR.js";import{g as q,b as w,a as Xe,e as ce,c as Ge,l as ze,A as Ke,d as Ye,f as Ze,M as Qe,v as et}from"./index-DNxigodI.js";import"./index-Chi_LkuB.js";import{G as I}from"./GridLegacy-4YF6Sl2U.js";import{S as tt}from"./MarkdownPopover-BmUk5Bqy.js";import{H as rt}from"./HelpTwoTone-COvJac_V.js";import{C as nt}from"./ContentCopy-sxNSBP2e.js";import{A as at}from"./Add-BTGAiOdD.js";import{C as it}from"./Close-qryw1NjU.js";import{A as ot}from"./ArrowUpward-BWdqyOG3.js";import{J as lt}from"./index-browser-esm-k-o2Qe0C.js";import{g as st}from"./groupBy-CzEckRw2.js";import{b as dt}from"./_baseIteratee-K4gGkGhX.js";import{b as ut}from"./_baseMap-9TWFIhh_.js";import{L as ct}from"./ListItem-Cc1k8A6D.js";import{D as mt}from"./DateTimePicker-CZ8GyPmN.js";import{A as pt,c as ht}from"./Autocomplete-DqbspXHB.js";function yt(e,t){var n=De(e)?Pe:ut;return n(e,dt(t))}function ft(e,t){return Be(yt(e,t),1)}const gt=Re(r.jsx("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"})),bt=ht();function R(e,t){if(e==null)return null;const n=t.filter(a=>a.value===e);return n.length>0?n[0]:{value:e,label:e}}const O=e=>{const{id:t,options:n,value:a,required:o,disabled:s,readonly:l,multiple:i,autofocus:f,onChange:p,onBlur:g,onFocus:d,placeholder:h,isClearable:u=!0,rawErrors:y,registry:T}=e,{enumOptions:c}=n,b=["__oneof_select","__anyof_select"].some(x=>t.includes(x)),m=!b&&!!T.formContext.allowFreeSoloEnum,A=u&&!b;return r.jsx(pt,{id:t,value:R(a,c),freeSolo:m,forcePopupIcon:!0,selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,options:c,readOnly:l,disabled:s,multiple:i,disableClearable:!A,onChange:(x,S)=>{B(S)&&"inputValue"in S?p(S.inputValue):B(S)&&"value"in S?p(S.value):p(S)},renderInput:x=>r.jsx(fe,{...x,required:o,placeholder:h,error:y&&y.length>0,autoFocus:f,onFocus:d&&(()=>d(t,a?.value)),onBlur:g&&(()=>g(t,a?.value))}),filterOptions:(x,S)=>{const F=bt(x,S),{inputValue:v}=S,P=x.some(D=>v===D.label);return m&&v!==""&&!P&&F.push({value:v,label:`Set to custom value "${v}"`}),F}})};try{R.displayName="findValueOption",R.__docgenInfo={description:`This function finds the enum option that has the corresponding value and returns it.

If value is nullish, this fn returns null. If there is no corresponding option, then a new object is returned
where the label and value are set to the provided value.`,displayName:"findValueOption",props:{}}}catch{}try{O.displayName="SelectWidget",O.__docgenInfo={description:"Select widget compatible with react-jsonschema-form enumerations",displayName:"SelectWidget",props:{}}}catch{}function L(e){const{idSchema:t,description:n,registry:a,schema:o,uiSchema:s}=e,l=E(s,a.globalUiOptions),{label:i}=l;if(i===!1)return null;const f=q("DescriptionFieldTemplate",a,l),p=`${t.$id}__description`;return r.jsx(f,{id:p,description:n??"",schema:o,uiSchema:s,registry:a})}try{L.displayName="ArrayFieldDescriptionTemplate",L.__docgenInfo={description:"The `ArrayFieldDescriptionTemplate` component renders a `DescriptionFieldTemplate` with an `id` derived from\nthe `idSchema`.\n\nIdentical to",displayName:"ArrayFieldDescriptionTemplate",props:{schema:{defaultValue:null,description:"The schema object for the field being described",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this base component",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}},description:{defaultValue:null,description:"The description of the field being rendered",name:"description",required:!1,type:{name:"string | ReactElement<unknown, string | JSXElementConstructor<any>>"}},idSchema:{defaultValue:null,description:"The idSchema of the field in the hierarchy",name:"idSchema",required:!0,type:{name:"FieldId | (FieldId & { [key in keyof T]?: IdSchema<T[key]>; })"}}}}}catch{}function St(e){const{disabled:t,hasCopy:n,hasMoveDown:a,hasMoveUp:o,hasRemove:s,idSchema:l,index:i,onCopyIndexClick:f,onDropIndexClick:p,onReorderClick:g,onAddIndexClick:d,readonly:h,registry:u,uiSchema:y}=e,{CopyButton:T,MoveDownButton:c,MoveUpButton:b,RemoveButton:m,AddButton:A}=u.templates.ButtonTemplates,x=_.useMemo(()=>f(i),[i,f]),S=_.useMemo(()=>p(i),[i,p]),F=_.useMemo(()=>g(i,i-1),[i,g]),v=_.useMemo(()=>g(i,i+1),[i,g]);return r.jsxs(r.Fragment,{children:[(o||a)&&r.jsx(b,{id:w(l,"moveUp"),className:"rjsf-array-item-move-up",disabled:t||h||!o,onClick:F,uiSchema:y,registry:u}),(o||a)&&r.jsx(c,{id:w(l,"moveDown"),className:"rjsf-array-item-move-down",disabled:t||h||!a,onClick:v,uiSchema:y,registry:u}),n&&r.jsx(T,{id:w(l,"copy"),className:"rjsf-array-item-copy",disabled:t||h,onClick:x,uiSchema:y,registry:u}),s&&r.jsx(m,{id:w(l,"remove"),className:"rjsf-array-item-remove",disabled:t||h,onClick:S,uiSchema:y,registry:u}),r.jsx(A,{disabled:t||h,uiSchema:y,registry:u,"aria-label":"Add Item",onClick:d(i+1)})]})}try{ArrayFieldItemButtonTemplate.displayName="ArrayFieldItemButtonTemplate",ArrayFieldItemButtonTemplate.__docgenInfo={description:"The `ArrayFieldTemplateItemButtons` component is the template used to render the buttons associate3d with items of\nan array.",displayName:"ArrayFieldItemButtonTemplate",props:{schema:{defaultValue:null,description:"The schema object for the field being described",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this base component",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}},idSchema:{defaultValue:null,description:"The idSchema of the item for which buttons are being rendered",name:"idSchema",required:!0,type:{name:"FieldId | (FieldId & { [key in keyof T]?: IdSchema<T[key]>; })"}},className:{defaultValue:null,description:"The className string",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"Any optional style attributes",name:"style",required:!1,type:{name:"CSSProperties"}},disabled:{defaultValue:null,description:"A boolean value stating if the array item is disabled",name:"disabled",required:!1,type:{name:"boolean"}},canAdd:{defaultValue:null,description:"A boolean value stating whether new items can be added to the array",name:"canAdd",required:!0,type:{name:"boolean"}},hasCopy:{defaultValue:null,description:"A boolean value stating whether the array item can be copied, assumed false if missing",name:"hasCopy",required:!0,type:{name:"boolean"}},hasMoveDown:{defaultValue:null,description:"A boolean value stating whether the array item can be moved down",name:"hasMoveDown",required:!0,type:{name:"boolean"}},hasMoveUp:{defaultValue:null,description:"A boolean value stating whether the array item can be moved up",name:"hasMoveUp",required:!0,type:{name:"boolean"}},hasRemove:{defaultValue:null,description:"A boolean value stating whether the array item can be removed",name:"hasRemove",required:!0,type:{name:"boolean"}},index:{defaultValue:null,description:"A number stating the index the array item occurs in `items`",name:"index",required:!0,type:{name:"number"}},totalItems:{defaultValue:null,description:"A number stating the total number `items` in the array",name:"totalItems",required:!0,type:{name:"number"}},onAddIndexClick:{defaultValue:null,description:"Returns a function that adds a new item at `index`",name:"onAddIndexClick",required:!0,type:{name:"(index: number) => (event?: any) => void"}},onCopyIndexClick:{defaultValue:null,description:"Returns a function that copies the item at `index` into the position at `index + 1`",name:"onCopyIndexClick",required:!0,type:{name:"(index: number) => (event?: any) => void"}},onDropIndexClick:{defaultValue:null,description:"Returns a function that removes the item at `index`",name:"onDropIndexClick",required:!0,type:{name:"(index: number) => (event?: any) => void"}},onReorderClick:{defaultValue:null,description:"Returns a function that swaps the items at `index` with `newIndex`",name:"onReorderClick",required:!0,type:{name:"(index: number, newIndex: number) => (event?: any) => void"}},readonly:{defaultValue:null,description:"A boolean value stating if the array item is read-only",name:"readonly",required:!1,type:{name:"boolean"}}}}}catch{}function J(e){const{children:t,hasToolbar:n,uiSchema:a,registry:o,buttonsProps:s}=e,l=E(a),i=q("ArrayFieldItemButtonsTemplate",o,l);return r.jsxs(I,{container:!0,className:"rjsf-array-item",sx:{gap:2,justifyContent:"space-between"},children:[r.jsx(I,{item:!0,xs:!0,children:r.jsx(le,{sx:{mb:2},children:t})}),n&&r.jsx(I,{item:!0,sx:{display:"flex",flexDirection:"row",gap:1,justifyContent:"flex-start",alignSelf:"start",my:1},children:r.jsx(i,{...s})})]})}try{J.displayName="ArrayFieldItemTemplate",J.__docgenInfo={description:"The `ArrayFieldItemTemplate` component is the template used to render an items of an array.",displayName:"ArrayFieldItemTemplate",props:{schema:{defaultValue:null,description:"The schema object for the field being described",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this base component",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}},children:{defaultValue:null,description:"The html for the item's content",name:"children",required:!0,type:{name:"ReactNode"}},buttonsProps:{defaultValue:null,description:"The props to pass to the `ArrayFieldItemButtonTemplate`",name:"buttonsProps",required:!0,type:{name:"ArrayFieldItemButtonsTemplateType<T, S, F>"}},className:{defaultValue:null,description:"The className string",name:"className",required:!0,type:{name:"string"}},disabled:{defaultValue:null,description:"A boolean value stating if the array item is disabled",name:"disabled",required:!1,type:{name:"boolean"}},hasToolbar:{defaultValue:null,description:"A boolean value stating whether the array item has a toolbar",name:"hasToolbar",required:!0,type:{name:"boolean"}},index:{defaultValue:null,description:"A number stating the index the array item occurs in `items`",name:"index",required:!0,type:{name:"number"}},totalItems:{defaultValue:null,description:"A number stating the total number `items` in the array",name:"totalItems",required:!0,type:{name:"number"}},readonly:{defaultValue:null,description:"A boolean value stating if the array item is read-only",name:"readonly",required:!1,type:{name:"boolean"}},key:{defaultValue:null,description:"A stable, unique key for the array item",name:"key",required:!0,type:{name:"string"}}}}}catch{}function N(e){const{hideLabel:t=!1,fieldLabel:n,description:a,registry:o,children:s}=e,l=o.formContext.descriptionVariant||"popover",[i,f]=_.useState(!1),p=r.jsx(Oe,{title:"More Info",children:r.jsx(be,{onClick:d=>{d.preventDefault(),f(!i)},"aria-expanded":i,size:"small",children:r.jsx(gt,{color:"primary",sx:{width:"16px",height:"16px"}})})}),g=r.jsx(tt,{popoverContent:a,maxWidth:"350px",children:r.jsx(rt,{className:"HelpButton"})});return r.jsxs(r.Fragment,{children:[!t&&r.jsxs("div",{className:"LabelContainer",children:[n,a&&l==="popover"&&g,a&&l==="expand"&&p]}),s,!t&&l==="expand"&&r.jsx(ge,{className:"field-description",in:i,children:a})]})}try{N.displayName="RJSFInputLabelWrapper",N.__docgenInfo={description:"Component that handles rendering our custom input label and description fields for RJSF.",displayName:"RJSFInputLabelWrapper",props:{hideLabel:{defaultValue:{value:"false"},description:"If true, the label will not be shown",name:"hideLabel",required:!1,type:{name:"boolean"}},fieldLabel:{defaultValue:null,description:"The rendered label of the field",name:"fieldLabel",required:!0,type:{name:"ReactNode"}},description:{defaultValue:null,description:"The rendered description of the field",name:"description",required:!0,type:{name:"ReactNode"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}const C=_.createContext(void 0);function U(e){return r.jsx(C.Provider,{value:e.value,children:e.children})}const me=C.Consumer;function Tt(){return _.useContext(C)}try{U.displayName="AdditionalPropertyContextProvider",U.__docgenInfo={description:"",displayName:"AdditionalPropertyContextProvider",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"AdditionalPropertyContextType"}}}}}catch{}try{C.displayName="AdditionalPropertyContext",C.__docgenInfo={description:"The `AdditionalPropertyContext` is a custom context object used to pass the `dropProperty` handler to the items within\na particular additional property.\n\nIn RJSF, dropping an entire additional property is handled at the `object` level. In the Synapse Annotations UI,\nwe treat all additional properties (a.k.a. custom annotations) as arrays, and render the delete control at the `array`\nlevel. RJSF does not normally provide the drop property handler at the `array` level, so we capture it and pass it\nalong using this context.",displayName:"AdditionalPropertyContext",props:{}}}catch{}try{me.displayName="AdditionalPropertyContextConsumer",me.__docgenInfo={description:"",displayName:"AdditionalPropertyContextConsumer",props:{}}}catch{}function M(e){const{idSchema:t,uiSchema:n,items:a,registry:o,schema:s,formContext:l}=e,i=E(n),f=q("ArrayFieldTitleTemplate",o,i),p=q("ArrayFieldDescriptionTemplate",o,i),g=q("ArrayFieldItemTemplate",o,i),d=!!e.schema[He],h=Tt();return _.useEffect(()=>{i.widget!=="hidden"&&e.items.length===0&&!l?.allowRemovingLastItemInArray&&e.onAddClick()},[e,l?.allowRemovingLastItemInArray,i.widget]),r.jsx(le,{id:t.$id,className:e.className,children:r.jsxs(N,{fieldLabel:r.jsx(f,{idSchema:t,title:i.title||e.title,schema:s,uiSchema:n,required:e.required,registry:o}),description:r.jsx(p,{idSchema:t,schema:s,description:(i.description||s.description)??"",uiSchema:n,registry:o}),registry:o,children:[(!a||Se(a))&&r.jsx(Te,{variant:"outlined",onClick:e.onAddClick,children:"Add item"}),a&&r.jsx(r.Fragment,{children:a.map(({key:u,index:y,...T})=>r.jsx(g,{index:y,...T,buttonsProps:{...T.buttonsProps,hasRemove:d||a.length>1||!!l?.allowRemovingLastItemInArray,onDropIndexClick:d&&a.length==1&&h?()=>c=>{h.dropProperty(c)}:T.buttonsProps.onDropIndexClick}},u))})]})})}try{M.displayName="ArrayFieldTemplate",M.__docgenInfo={description:"The `ArrayFieldTemplate` component is the template used to render all items in an array.",displayName:"ArrayFieldTemplate",props:{schema:{defaultValue:null,description:"The schema object for the field being described",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this base component",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}},canAdd:{defaultValue:null,description:"A boolean value stating whether new elements can be added to the array",name:"canAdd",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"The className string",name:"className",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"A boolean value stating if the array is disabled",name:"disabled",required:!1,type:{name:"boolean"}},idSchema:{defaultValue:null,description:"An object containing the id for this object & ids for its properties",name:"idSchema",required:!0,type:{name:"FieldId | (FieldId & { [key in keyof T]?: IdSchema<T[key]>; })"}},items:{defaultValue:null,description:"An array of objects representing the items in the array",name:"items",required:!0,type:{name:"ArrayFieldItemTemplateType<T, S, F>[]"}},onAddClick:{defaultValue:null,description:"A function that adds a new item to the array",name:"onAddClick",required:!0,type:{name:"(event?: any) => void"}},readonly:{defaultValue:null,description:"A boolean value stating if the array is read-only",name:"readonly",required:!1,type:{name:"boolean"}},required:{defaultValue:null,description:"A boolean value stating if the array is required",name:"required",required:!1,type:{name:"boolean"}},hideError:{defaultValue:null,description:"A boolean value stating if the field is hiding its errors",name:"hideError",required:!1,type:{name:"boolean"}},title:{defaultValue:null,description:"A string value containing the title for the array",name:"title",required:!0,type:{name:"string"}},formContext:{defaultValue:null,description:"The `formContext` object that was passed to Form",name:"formContext",required:!1,type:{name:"CustomFormContext"}},formData:{defaultValue:null,description:"The formData for this array",name:"formData",required:!1,type:{name:"T"}},errorSchema:{defaultValue:null,description:"The tree of errors for this field and its children",name:"errorSchema",required:!1,type:{name:"ErrorSchema<T>"}},rawErrors:{defaultValue:null,description:"An array of strings listing all generated error messages from encountered errors for this widget",name:"rawErrors",required:!1,type:{name:"string[]"}}}}}catch{}function W(e){const{title:t,required:n}=e;return r.jsxs(se,{children:[t,n&&r.jsx("span",{className:"required",children:"*"})]})}try{W.displayName="ArrayFieldTitleTemplate",W.__docgenInfo={description:"Custom title template for array fields.",displayName:"ArrayFieldTitleTemplate",props:{required:{defaultValue:null,description:"A boolean value stating if the field is required",name:"required",required:!1,type:{name:"boolean"}},schema:{defaultValue:null,description:"The schema object for the field being described",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this base component",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}},title:{defaultValue:null,description:"The title for the field being rendered",name:"title",required:!1,type:{name:"string"}},idSchema:{defaultValue:null,description:"The idSchema of the field in the hierarchy",name:"idSchema",required:!0,type:{name:"FieldId | (FieldId & { [key in keyof T]?: IdSchema<T[key]>; })"}}}}}catch{}const _t=["date","datetime-local","file","time"];function $(e){const{id:t,name:n,placeholder:a,required:o,readonly:s,disabled:l,type:i,label:f,hideLabel:p,hideError:g,value:d,onChange:h,onChangeOverride:u,onBlur:y,onFocus:T,autofocus:c,options:b,schema:m,uiSchema:A,rawErrors:x=[],formContext:S,registry:F,InputLabelProps:v,...P}=e,D=!0,je=Xe(m,i,b),{step:Ae,min:Fe,max:qe,...Ie}=je,Ve={inputProps:{step:Ae,min:Fe,max:qe,...m.examples?{list:ce(t)}:void 0},...Ie},Ce=({target:{value:j}})=>h(j===""?b.emptyValue:j),we=({target:{value:j}})=>y(t,j),Ne=({target:{value:j}})=>T(t,j),Ee=_t.includes(i)?{...v,shrink:!0}:v;let de;(m.default||m.const)&&(de=JSON.stringify(m.default||m.const)+" (derived)");const ke=F.formContext.showDerivedAnnotationPlaceholder&&de||a;return r.jsxs(r.Fragment,{children:[r.jsx(fe,{id:t,name:t,placeholder:ke,label:ze(f||void 0,D,!1),autoFocus:c,required:!1,disabled:l||s,...Ve,value:d||d===0?d:"",error:x.length>0,onChange:u||Ce,onBlur:we,onFocus:Ne,...P,"aria-describedby":Ge(t,!!m.examples),slotProps:{htmlInput:{"aria-label":t},inputLabel:Ee}}),Array.isArray(m.examples)&&r.jsx("datalist",{id:ce(t),children:m.examples.concat(m.default&&!m.examples.includes(m.default)?[m.default]:[]).map(j=>r.jsx("option",{value:j},j))})]})}try{$.displayName="BaseInputTemplate",$.__docgenInfo={description:"The `BaseInputTemplate` is the template to use to render the basic `<input>` component for the `core` theme.\nIt is used as the template for rendering many of the <input> based widgets that differ by `type` and callbacks only.\nIt can be customized/overridden for other themes or individual implementations as needed.",displayName:"BaseInputTemplate",props:{schema:{defaultValue:null,description:"The schema object for the field being described",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this base component",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}}}}}catch{}const _e={minWidth:"unset",width:"40px",height:"40px"};function H({uiSchema:e,registry:t,...n}){const{translateString:a}=t;return r.jsx(Te,{title:a(V.AddItemButton),...n,color:"primary",variant:"contained",sx:_e,children:r.jsx(at,{})})}function xt(e){switch(e){case"copy":return r.jsx(nt,{fontSize:"inherit"});case"moveUp":return r.jsx(ot,{fontSize:"inherit"});case"moveDown":return r.jsx(Ke,{fontSize:"inherit"});case"remove":return r.jsx(it,{fontSize:"inherit"});default:throw new Error(`Unexpected iconType ${e}`)}}function k(e){const{iconType:t,buttonType:n,uiSchema:a,...o}=e;return r.jsx(be,{...o,color:"default",sx:_e,children:xt(n)})}function X(e){const{registry:{translateString:t}}=e;return r.jsx(k,{title:t(V.RemoveButton),...e,buttonType:"remove"})}function G(e){const{registry:{translateString:t}}=e;return r.jsx(k,{title:t(V.CopyButton),...e,buttonType:"copy"})}function z(e){const{registry:{translateString:t}}=e;return r.jsx(k,{title:t(V.MoveUpButton),...e,buttonType:"moveUp"})}function K(e){const{registry:{translateString:t}}=e;return r.jsx(k,{title:t(V.MoveDownButton),...e,buttonType:"moveDown"})}const vt={AddButton:H,RemoveButton:X,MoveUpButton:z,MoveDownButton:K,CopyButton:G};try{H.displayName="AddButton",H.__docgenInfo={description:"",displayName:"AddButton",props:{uiSchema:{defaultValue:null,description:"The uiSchema object for this base component",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}},iconType:{defaultValue:null,description:"An alternative specification for the type of the icon button",name:"iconType",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"The name representation or actual react element implementation for the icon",name:"icon",required:!1,type:{name:"string | ReactElement<unknown, string | JSXElementConstructor<any>>"}}}}}catch{}try{X.displayName="RemoveButton",X.__docgenInfo={description:"",displayName:"RemoveButton",props:{uiSchema:{defaultValue:null,description:"The uiSchema object for this base component",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}},iconType:{defaultValue:null,description:"An alternative specification for the type of the icon button",name:"iconType",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"The name representation or actual react element implementation for the icon",name:"icon",required:!1,type:{name:"string | ReactElement<unknown, string | JSXElementConstructor<any>>"}}}}}catch{}try{G.displayName="CopyButton",G.__docgenInfo={description:"",displayName:"CopyButton",props:{uiSchema:{defaultValue:null,description:"The uiSchema object for this base component",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}},iconType:{defaultValue:null,description:"An alternative specification for the type of the icon button",name:"iconType",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"The name representation or actual react element implementation for the icon",name:"icon",required:!1,type:{name:"string | ReactElement<unknown, string | JSXElementConstructor<any>>"}}}}}catch{}try{z.displayName="MoveUpButton",z.__docgenInfo={description:"",displayName:"MoveUpButton",props:{uiSchema:{defaultValue:null,description:"The uiSchema object for this base component",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}},iconType:{defaultValue:null,description:"An alternative specification for the type of the icon button",name:"iconType",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"The name representation or actual react element implementation for the icon",name:"icon",required:!1,type:{name:"string | ReactElement<unknown, string | JSXElementConstructor<any>>"}}}}}catch{}try{K.displayName="MoveDownButton",K.__docgenInfo={description:"",displayName:"MoveDownButton",props:{uiSchema:{defaultValue:null,description:"The uiSchema object for this base component",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}},iconType:{defaultValue:null,description:"An alternative specification for the type of the icon button",name:"iconType",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"The name representation or actual react element implementation for the icon",name:"icon",required:!1,type:{name:"string | ReactElement<unknown, string | JSXElementConstructor<any>>"}}}}}catch{}function xe(e){if(Array.isArray(e)||typeof e=="boolean")return"unknown";const{type:t,enum:n}=e;return t==="array"&&typeof e.items=="object"?`List of ${xe(e.items)}`:n?"enumeration":Array.isArray(t)?t.reduce((a,o)=>`${a}, ${o}`,""):t||"unknown"}function Y(e){const{description:t,schema:n}=e,a=xe(n);return r.jsx(ge,{className:"field-description",in:!0,children:r.jsx(le,{component:"table",className:"FieldDescriptionTable",sx:{mb:1},children:r.jsxs("tbody",{children:[t&&r.jsxs("tr",{children:[r.jsx("th",{children:"Description"}),r.jsx("td",{children:t})]}),r.jsxs("tr",{children:[r.jsx("th",{children:"Type"}),r.jsx("td",{children:a})]})]})})})}try{Y.displayName="FieldDescriptionTable",Y.__docgenInfo={description:"",displayName:"FieldDescriptionTable",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"JSONSchema7"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"ReactNode"}}}}}catch{}function Z(e){const{description:t,schema:n={},registry:a}=e,o=a.formContext.descriptionFormat||"string";return n.type==="object"?r.jsx(ue,{variant:"body1",sx:{my:2},children:t}):o==="string"?r.jsx(ue,{variant:"body1",children:t}):r.jsx(Y,{schema:n,description:t})}try{Z.displayName="DescriptionFieldTemplate",Z.__docgenInfo={description:"",displayName:"DescriptionFieldTemplate",props:{schema:{defaultValue:null,description:"The schema object for the field being described",name:"schema",required:!0,type:{name:"RJSFSchema"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this base component",name:"uiSchema",required:!1,type:{name:"UiSchema<any, RJSFSchema, any>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<any, RJSFSchema, any>"}},id:{defaultValue:null,description:"The id of the field description in the hierarchy",name:"id",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"The description of the field being rendered",name:"description",required:!0,type:{name:"string | ReactElement<unknown, string | JSXElementConstructor<any>>"}}}}}catch{}const ve=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z/,jt=["String","Integer","Float","Boolean","Datetime"];function Q(e){return e.length===0?"String":e.every(t=>typeof t=="number"||t==="NaN")?e.every(t=>Number.isInteger(t))?"Integer":"Float":e.every(t=>typeof t=="boolean")?"Boolean":e.every(t=>typeof t=="string")&&e.every(t=>!!ve.exec(t))?"Datetime":"String"}function pe(e,t){switch(t){case"Integer":return e.map(n=>Number.isNaN(Number(n))?0:Math.floor(Number(n)));case"Float":return e.map(n=>{const a=parseFloat(n);return Number.isNaN(a)?"NaN":Number.isInteger(a)?a.toFixed(1):a});case"Datetime":return e.map(n=>typeof n=="string"&&ve.exec(n)?n:new Date().toISOString());case"Boolean":return e.map(n=>!!n);default:return e.map(n=>String(n))}}function ee(e){switch(e){case"Datetime":return{type:"string",format:"datetime"};case"Boolean":return{type:"boolean"};case"Float":return{type:"number"};case"Integer":return{type:"integer"};default:return{type:"string"}}}function te(e){const{formData:t,onChange:n,registry:a,schema:o,name:s,onDropPropertyClick:l,idSchema:i}=e,f=i.$id,{ArrayField:p}=a.fields,{SelectWidget:g}=a.widgets,[d,h]=_.useState(Q(he(t))),[u,y]=_.useState(d);_.useEffect(()=>{function c(){if(Array.isArray(t)){const b=t.length===0||t.every(A=>A==null||A==""),m=pe(t,u);(b||u!==d)&&Je(t,m)&&h(u)}}c()},[u]),_.useEffect(()=>{function c(){if(Array.isArray(t))if(t.every(b=>b==null))l(s)(new CustomEvent("dropEmptyProperty"));else{const b=pe(t,u);h(u),n(b)}}c()},[d]);const T=ee(d);return _.useEffect(()=>{Array.isArray(t)||n(he(t))},[t,n]),Array.isArray(t)?r.jsxs(U,{value:{dropProperty:c=>{l(s)(c)}},children:[r.jsxs(I,{item:!0,xs:2,children:[r.jsx(se,{htmlFor:`${f}-type`,children:"Type"}),r.jsx(g,{name:"Type",id:`${f}-type`,schema:{},options:{enumOptions:jt.map(c=>({label:c,value:c}))},value:d,onChange:c=>{y(c)},disabled:e.disabled,readOnly:e.readonly,required:!0,isClearable:!1,onBlur:()=>{},onFocus:()=>{},registry:a,label:"Type"})]}),r.jsx(I,{item:!0,xs:7,children:r.jsx(p,{...e,uiSchema:{...e.uiSchema,"ui:title":"Value(s)",items:{...e.uiSchema?.items,"ui:placeholder":"New Value"}},schema:{...o,items:{...T}}})}),d!==u&&r.jsx(Le,{variant:"warning",title:"Data may be lost when converting types",description:`Are you sure you want to convert ${s} from ${d} to ${u}? Current values may be lost on conversion.`,primaryButtonConfig:{text:"Convert",onClick:()=>{h(u)}},secondaryButtonConfig:{text:"Cancel",onClick:()=>{y(d)}},isGlobal:!1})]}):r.jsx(r.Fragment,{})}try{Q.displayName="guessPropertyType",Q.__docgenInfo={description:"",displayName:"guessPropertyType",props:{}}}catch{}try{ee.displayName="getSchemaForPropertyType",ee.__docgenInfo={description:"Maps a Synapse Annotation PropertyType to a JSON Schema that captures the type and format.",displayName:"getSchemaForPropertyType",props:{}}}catch{}try{te.displayName="AdditionalPropertiesSchemaField",te.__docgenInfo={description:`react-jsonschema-form SchemaField override for "additionalProperties" only. In Synapse these are "custom annotations".
Modifies the data to provide full compatibility with Synapse annotations features.

This component provides these enhancements to the SchemaField:
- Supports selecting a type, and changing the input widget appropriately
- Identifying the type on mount
- Treat all field values as arrays
- When the last array value is removed, remove the entire key from the form.`,displayName:"AdditionalPropertiesSchemaField",props:{schema:{defaultValue:null,description:"The schema object for the field being described",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this base component",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}},onDropPropertyClick:{defaultValue:null,description:"",name:"onDropPropertyClick",required:!0,type:{name:"(key: string) => (event: any) => void"}}}}}catch{}function $t(e={},t={}){const n=Ft(t);return{$schema:"http://json-schema.org/draft-07/schema#",...e,definitions:{...t.definitions,...e.definitions},allOf:[...e.allOf||[],{type:"object",properties:n}],additionalProperties:!0}}function Ht(e={}){return{...Object.keys(e).reduce((n,a)=>({...n,[a]:{"ui:widget":"hidden"}}),{}),"ui:globalOptions":{copyable:!1,duplicateKeySuffixSeparator:"_"},additionalProperties:{"ui:field":te}}}function Xt(e){const t={};return Object.keys(e).forEach(n=>{let a=e[n];Array.isArray(a)?(a=a.filter(o=>o!=null),Se(a)||(t[n]=a)):t[n]=a}),t}function Gt(e={}){return Object.keys(e).reduce((t,n)=>(e[n]!==null&&(t[n]=e[n]),t),{})}function At(e){return e.property?.startsWith("[")?e.property.substring(2,e.property.length-2):e.property?.startsWith(".")?e.property.substring(1):e.property||""}function zt(e){const t=st(e,n=>n.property);return Object.keys(t).map(n=>{const a=t[n];a.some(l=>l.message==="should match some schema in anyOf")&&a.every(l=>l.message==="should be string"||l.message==="should be equal to constant"?!0:l.message==="should match some schema in anyOf")&&a.length>0&&(a[0].message="should be equal to one of the allowed values",t[n]=[a[0]])}),e=ft(t),e}function he(e){return Array.isArray(e)?e:[e]}function Kt(e,t){return!!(e&&Object.keys(e).length>0&&t)}function Ft(e){const t={},n=lt({path:"$..properties",json:e});for(const a of n)Object.assign(t,a);return B(e.properties)&&Object.assign(t,e.properties),t}function Yt(e){return!e||!e.startsWith("org.sagebionetworks")?null:"org.sagebionetworks-"+e.substring(20)}function Zt(e,t){return e===V.NewStringDefault?"":Ye(e,t)}function re(e){const{errors:t}=e;return r.jsxs(Ue,{severity:"error",sx:{my:2},children:[r.jsx("b",{children:"Validation errors found:"}),r.jsx("ul",{children:t.map((n,a)=>r.jsxs("li",{children:[r.jsx("b",{children:`${At(n)}: `})," ",`${n.message}`]},a))})]})}try{re.displayName="ErrorListTemplate",re.__docgenInfo={description:"",displayName:"ErrorListTemplate",props:{schema:{defaultValue:null,description:"The schema object for the field being described",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this base component",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}},errorSchema:{defaultValue:null,description:"The errorSchema constructed by `Form`",name:"errorSchema",required:!0,type:{name:"ErrorSchema<T>"}},errors:{defaultValue:null,description:"An array of the errors",name:"errors",required:!0,type:{name:"RJSFValidationError[]"}},formContext:{defaultValue:null,description:"The `formContext` object that was passed to `Form`",name:"formContext",required:!1,type:{name:"GenericObjectType"}}}}}catch{}function ne(e){const{errors:t=[],idSchema:n}=e;if(t.length===0)return null;const a=Ze(n);return r.jsx(Me,{dense:!0,disablePadding:!0,children:t.map((o,s)=>r.jsx(ct,{disableGutters:!0,children:r.jsx(We,{id:a,sx:{color:"error.main"},children:o})},s))})}try{ne.displayName="FieldErrorTemplate",ne.__docgenInfo={description:"The `FieldErrorTemplate` component renders the errors local to the particular field",displayName:"FieldErrorTemplate",props:{schema:{defaultValue:null,description:"The schema object for the field being described",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this base component",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}},errorSchema:{defaultValue:null,description:"The errorSchema constructed by `Form`",name:"errorSchema",required:!1,type:{name:"ErrorSchema<T>"}},errors:{defaultValue:null,description:"An array of the errors",name:"errors",required:!1,type:{name:"(string | ReactElement<unknown, string | JSXElementConstructor<any>>)[]"}},idSchema:{defaultValue:null,description:"The tree of unique ids for every child field",name:"idSchema",required:!0,type:{name:"FieldId | (FieldId & { [key in keyof T]?: IdSchema<T[key]>; })"}}}}}catch{}function ae(e){const{id:t,label:n,children:a,errors:o,help:s,description:l,hidden:i,required:f,displayLabel:p,registry:g,uiSchema:d,schema:h,hideError:u,rawErrors:y}=e,T=E(d),c=q("WrapIfAdditionalTemplate",g,T);if(i)return r.jsx("div",{className:"hidden",children:a});const b=["form-group",e.classNames||""];return!u&&y&&y.length>0&&b.push("has-error"),r.jsxs(c,{...e,classNames:b.join(" ").trim(),children:[r.jsxs(N,{hideLabel:!(p||h.type==="boolean"),fieldLabel:r.jsxs(se,{htmlFor:t,children:[n,f&&r.jsx("span",{className:"required",children:"*"})]}),description:l,registry:g,children:[a,r.jsx(I,{item:!0,xs:12,children:o})]}),s]})}try{ae.displayName="FieldTemplate",ae.__docgenInfo={description:"",displayName:"FieldTemplate",props:{schema:{defaultValue:null,description:"The schema object for the field being described",name:"schema",required:!0,type:{name:"JSONSchema7"}},uiSchema:{defaultValue:null,description:"The uiSchema object for this base component",name:"uiSchema",required:!1,type:{name:"UiSchema<T, S, F>"}},registry:{defaultValue:null,description:"The `registry` object",name:"registry",required:!0,type:{name:"Registry<T, S, F>"}},id:{defaultValue:null,description:"The id of the field in the hierarchy. You can use it to render a label targeting the wrapped widget",name:"id",required:!0,type:{name:"string"}},classNames:{defaultValue:null,description:"A string containing the base CSS classes, merged with any custom ones defined in your uiSchema",name:"classNames",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"An object containing the style as defined in the `uiSchema`",name:"style",required:!1,type:{name:"StyleHTMLAttributes<any>"}},label:{defaultValue:null,description:"The computed label for this field, as a string",name:"label",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"A component instance rendering the field description, if one is defined (this will use any custom\n`DescriptionField` defined)",name:"description",required:!1,type:{name:"ReactElement<unknown, string | JSXElementConstructor<any>>"}},rawDescription:{defaultValue:null,description:"A string containing any `ui:description` uiSchema directive defined",name:"rawDescription",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"The field or widget component instance for this field row",name:"children",required:!0,type:{name:"ReactElement<unknown, string | JSXElementConstructor<any>>"}},errors:{defaultValue:null,description:"A component instance listing any encountered errors for this field",name:"errors",required:!1,type:{name:"ReactElement<unknown, string | JSXElementConstructor<any>>"}},rawErrors:{defaultValue:null,description:"An array of strings listing all generated error messages from encountered errors for this field",name:"rawErrors",required:!1,type:{name:"string[]"}},help:{defaultValue:null,description:"A component instance rendering any `ui:help` uiSchema directive defined",name:"help",required:!1,type:{name:"ReactElement<unknown, string | JSXElementConstructor<any>>"}},rawHelp:{defaultValue:null,description:"A string containing any `ui:help` uiSchema directive defined. **NOTE:** `rawHelp` will be `undefined` if passed\n`ui:help` is a React component instead of a string",name:"rawHelp",required:!1,type:{name:"string"}},hidden:{defaultValue:null,description:"A boolean value stating if the field should be hidden",name:"hidden",required:!1,type:{name:"boolean"}},required:{defaultValue:null,description:"A boolean value stating if the field is required",name:"required",required:!1,type:{name:"boolean"}},readonly:{defaultValue:null,description:"A boolean value stating if the field is read-only",name:"readonly",required:!0,type:{name:"boolean"}},hideError:{defaultValue:null,description:"A boolean value stating if the field is hiding its errors",name:"hideError",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"A boolean value stating if the field is disabled",name:"disabled",required:!0,type:{name:"boolean"}},displayLabel:{defaultValue:null,description:`A boolean value stating if the label should be rendered or not. This is useful for nested fields in arrays where
you don't want to clutter the UI`,name:"displayLabel",required:!1,type:{name:"boolean"}},formContext:{defaultValue:null,description:"The `formContext` object that was passed to `Form`",name:"formContext",required:!1,type:{name:"GenericObjectType"}},formData:{defaultValue:null,description:"The formData for this field",name:"formData",required:!1,type:{name:"T"}},onChange:{defaultValue:null,description:"The value change event handler; Can be called with a new value to change the value for this field",name:"onChange",required:!0,type:{name:"(newFormData: T, es?: ErrorSchema<T>, id?: string) => any"}},onKeyChange:{defaultValue:null,description:"The key change event handler; Called when the key associated with a field is changed for an additionalProperty",name:"onKeyChange",required:!0,type:{name:"(value: string) => () => void"}},onDropPropertyClick:{defaultValue:null,description:"The property drop/removal event handler; Called when a field is removed in an additionalProperty context",name:"onDropPropertyClick",required:!0,type:{name:"(value: string) => () => void"}}}}}catch{}const ie=e=>{const{SelectWidget:t}=e.registry.widgets,n={enumOptions:[{value:!0,label:"true"},{value:!1,label:"false"}]};return r.jsx(t,{...e,options:n})};try{ie.displayName="BooleanWidget",ie.__docgenInfo={description:"Select widget compatible with react-jsonschema-form booleans",displayName:"BooleanWidget",props:{}}}catch{}const oe=({disabled:e,value:t,onChange:n})=>r.jsx(mt,{disabled:e,value:t?$e(t):null,onChange:a=>{a==null||typeof a=="string"?n(a):n(a.toISOString())}});try{oe.displayName="DateTimeWidget",oe.__docgenInfo={description:"DateTime picker widget compatible with react-jsonschema-form and Synapse Datetime annotations.",displayName:"DateTimeWidget",props:{}}}catch{}function ye(e){return r.jsx(Qe,{ref:e.formRef,validator:et,className:"JsonSchemaForm",...e,templates:{ArrayFieldDescriptionTemplate:L,ArrayFieldItemTemplate:J,ArrayFieldItemButtonsTemplate:St,ArrayFieldTemplate:M,ArrayFieldTitleTemplate:W,BaseInputTemplate:$,FieldErrorTemplate:ne,FieldTemplate:ae,ButtonTemplates:vt,DescriptionFieldTemplate:Z,ErrorListTemplate:re,...e.templates},widgets:{DateTimeWidget:oe,CheckboxWidget:ie,SelectWidget:O,...e.widgets}})}try{ye.displayName="JsonSchemaForm",ye.__docgenInfo={description:`Wrapper around react-jsonschema-form that supplies default styling/templates/widgets for
Synapse/Portals`,displayName:"JsonSchemaForm",props:{}}}catch{}export{ye as J,Yt as a,$t as b,he as c,Ht as d,Zt as e,R as f,Ft as g,At as h,Gt as i,Xt as j,Kt as s,zt as t};
