var HC=Object.defineProperty;var Ff=e=>{throw TypeError(e)};var GC=(e,n,t)=>n in e?HC(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var W=(e,n,t)=>GC(e,typeof n!="symbol"?n+"":n,t),Lf=(e,n,t)=>n.has(e)||Ff("Cannot "+t);var Pn=(e,n,t)=>(Lf(e,n,"read from private field"),t?t.call(e):n.get(e)),na=(e,n,t)=>n.has(e)?Ff("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,t),Vn=(e,n,t,s)=>(Lf(e,n,"write to private field"),s?s.call(e,t):n.set(e,t),t);var Kc=(e,n,t,s)=>({set _(r){Vn(e,n,r,t)},get _(){return Pn(e,n,s)}});import{m as VC}from"./mockProject-BoKQQj6H.js";import{f as WC}from"./index-CxZvmol_.js";import{j as U}from"./jsx-runtime-DmKnoNQ-.js";import{r as Ee}from"./index-BFCc_wv0.js";import{D as Ay}from"./DialogBase-sRqZYpTT.js";import{d as By}from"./ToastMessage-DUxKDZ7T.js";import{l as Oi,ci as XC,p as QC,aZ as ZC,x as rd,cj as vy}from"./useFiles-Bmp6q2a5.js";import"./VerificationSubmission-B0kBNeMy.js";import{c as hu,e as Py,p as YC}from"./StringUtils-CzgJJW-6.js";import"./OrientationBanner-DLwSvgHC.js";import{q as yu,t as JC,v as e0,a as Ry,u as Ty}from"./useEntity-CPu8XF_g.js";import{b as Iy,c as t0}from"./FileHandleUtils-WcmILJbs.js";import{u as xr}from"./useMutation-CGxyo7St.js";import{d as yi,b as hs}from"./iframe-DVK1wk6d.js";import{e as Hc}from"./util-CQYnOP2c.js";import{r as n0}from"./index-1I1hZNGO.js";import{v as s0}from"./v4-CtRu48qb.js";import{u as r0}from"./utils-DGVs3mxC.js";import{n as _o}from"./noop-DX6rZLP_.js";import{p as od}from"./pluralize-DzBtcS6G.js";import{F as o0}from"./index.esm-2S0Tcpcw.js";import{F as i0}from"./FullWidthAlert-C2j0NeYe.js";import{S as Oy}from"./LoadingScreen-Dss2jdRB.js";import{B as gi}from"./Button-DYb5I_h6.js";import{B as _i}from"./Box-CnkquDgp.js";import{T as is}from"./Typography-CoReq-7T.js";import{F as a0}from"./FormControlLabel-DO07prJq.js";import{C as c0}from"./Checkbox-DMC-mLOV.js";import{S as gu}from"./Stack-CilMpvcP.js";import{T as Ya}from"./TextField-By_yrC4v.js";import{a as l0,F as d0}from"./FileUploadProgress-JZ93tUS2.js";import{P as u0}from"./ProjectStorageLimitAlert-BkFI5oKT.js";import{L as f0}from"./Link-iK3V06Y5.js";import{M as m0}from"./Menu-IXpnXi1n.js";import{F as h0}from"./Fade-9Bau5x4J.js";import{M as Uf}from"./MenuItem-CVPpCETH.js";import{P as y0}from"./Paper-Dn3hpbBt.js";import{A as g0}from"./Alert-CKvIY_ZC.js";import{T as b0,a as zf}from"./Tabs-BzD6kDq4.js";import"./mockTeam-BoeceiZX.js";import"./SynapseConstants-DJnXKVNq.js";import"./mock_user_profile-CijvmO8r.js";import"./uniqueId-BgIHj4wm.js";import"./toString-CCI0wryq.js";import"./isObjectLike-CzyhUoMh.js";import"./isArray-Dxzbedgu.js";import"./isSymbol-DHimvwb5.js";import"./times-DESQX_ub.js";import"./_baseTimes-36S_kd0L.js";import"./identity-DKeuBCMA.js";import"./toInteger-DgKbkhK0.js";import"./spreadSx-CwcO6WA9.js";import"./Close-DXQU2-u1.js";import"./createTheme-BXEwkt-l.js";import"./createSvgIcon-2WhrXkh-.js";import"./createSvgIcon-CexmQeMX.js";import"./DefaultPropsProvider-DUkpy3gp.js";import"./createChainedFunction-BO_9K8Jh.js";import"./debounce-Be36O1Ab.js";import"./isMuiElement-MCFDewsk.js";import"./ownerDocument-DW-IO8s5.js";import"./ownerWindow-HkKU3E4x.js";import"./useForkRef-BjgbR4nl.js";import"./useEventCallback-BViUXQES.js";import"./useId-B4FULkf-.js";import"./useControlled-BCnvLdxA.js";import"./useIsFocusVisible-BNNkxGZE.js";import"./useTimeout-B89Jbts_.js";import"./HelpPopover-MZkTJiIu.js";import"./MarkdownPopover-BFObi_MN.js";import"./LightTooltip-DPh926hy.js";import"./Tooltip-BESuS2go.js";import"./index-zScYxpIZ.js";import"./Grow-DRdE8lYO.js";import"./resolveComponentProps-DEEyNDFA.js";import"./isHostComponent-DVu5iVWx.js";import"./index-HtDB6D_8.js";import"./utils-CH6UHCvk.js";import"./TransitionGroupContext-U6akLiTY.js";import"./useTheme-DbaDTwfd.js";import"./useTheme-txGj-KA5.js";import"./Popper-DjVyUDrD.js";import"./react-B7JEe_9q.js";import"./MarkdownSynapse-CsjHmxuh.js";import"./SkeletonButton-DSz-c8Kr.js";import"./Skeleton-DlWq6871.js";import"./SkeletonInlineBlock-DUpeltxx.js";import"./SkeletonTable-DZ993BOC.js";import"./SkeletonParagraph-DL2I9A0y.js";import"./HelpOutlineTwoTone-BIp41xUe.js";import"./DialogTitle-5bWgWkGT.js";import"./DialogContent-BQqIJt-k.js";import"./Dialog-DiYgz-Oa.js";import"./Modal-BKiyFF1x.js";import"./getScrollbarSize-Bqq2hMjQ.js";import"./Backdrop-8qA_F1hP.js";import"./IconButton-CtoYFknA.js";import"./ButtonBase-BvXHS7E8.js";import"./CSSTransition-CnCSDH8u.js";import"./fetchWithExponentialTimeout-Cpvpsfq8.js";import"./useQuery-BBtTkatK.js";import"./Collapse-BHBLFnaj.js";import"./isNil-DF8LcSjB.js";import"./_Uint8Array-BGMUFk-X.js";import"./_baseIsEqual-HSUY0yvO.js";import"./_getTag-B7_rEu3Z.js";import"./tinycolor-Begke6kS.js";import"./inputBaseClasses-DWCx47eo.js";import"./calculateFriendlyFileSize-BHEbv2lr.js";import"./CheckCircleTwoTone-D4_hhNK2.js";import"./InfoTwoTone-E9_F69oy.js";import"./mutation-DUrdKa48.js";import"./dayjs.min-TSt401mi.js";import"./chunk-AYJ5UCUI-BAlWt6x4.js";import"./cloneDeep-BBUYS9nA.js";import"./_initCloneObject-CB_EWvAd.js";import"./isEqual-36wh2HjX.js";import"./merge-CAkvabO_.js";import"./index-7sMRgjqI.js";import"./includes-PdQpFBo6.js";import"./_baseIndexOf-rBnIfvEs.js";import"./isString-DBZqBnUJ.js";import"./_baseIteratee-Ck0Goa-o.js";import"./_baseGet-eeYOjUut.js";import"./hasIn-CcCBDh5L.js";import"./pickBy-FDv_Y18q.js";import"./pick-DQZKoRYg.js";import"./_baseSet-C44cOCcT.js";import"./omit-3ca3Q2CL.js";import"./last-DXTTfs9a.js";import"./_baseSlice-F8doVSIJ.js";import"./_baseFlatten-D3GIz1X7.js";import"./useQueries-k2rP3xz6.js";import"./useInfiniteQuery-Nxeqcybu.js";import"./InfiniteQueryUtils-CKlRW-xB.js";import"./QueryFilterUtils-XRm7GRmi.js";import"./isNumber-DZ9VLoI8.js";import"./useEntityBundle-XRt2kLqf.js";import"./pipeline-_h9ejvjI.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./AlertTitle-De-Y6WlG.js";import"./ClickAwayListener-C935n3RT.js";import"./LinearProgress-UGlfctSQ.js";import"./formControlState-Dq1zat_P.js";import"./useFormControl-Kd0bER_A.js";import"./SwitchBase-Dt3XPyaf.js";import"./getThemeProps-DEqWItKx.js";import"./InputLabel-BYosMY-p.js";import"./FormControl-D4ASoNTy.js";import"./FormLabel-B4emSGWk.js";import"./Input-B9Bbq-3Y.js";import"./DeleteTwoTone-Co593UpG.js";import"./Popover-fNVMBjoO.js";import"./MenuList-DQKkR4d3.js";import"./List-DD1wB9V9.js";import"./dividerClasses-BqPtJc74.js";import"./Close-BLLYpaxl.js";import"./KeyboardArrowRight-BhQJT6YR.js";const C0=e=>({setHttpHandler(n){e.httpHandler=n},httpHandler(){return e.httpHandler},updateHttpClientConfig(n,t){var s;(s=e.httpHandler)==null||s.updateHttpClientConfig(n,t)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),p0=e=>({httpHandler:e.httpHandler()});var $f;(function(e){e.HEADER="header",e.QUERY="query"})($f||($f={}));var qf;(function(e){e.HEADER="header",e.QUERY="query"})(qf||(qf={}));var Ai;(function(e){e.HTTP="http",e.HTTPS="https"})(Ai||(Ai={}));var Ja;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(Ja||(Ja={}));var jf;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(jf||(jf={}));const id="__smithy_context";var Kf;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(Kf||(Kf={}));var Hf;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(Hf||(Hf={}));class ft{constructor(n){this.method=n.method||"GET",this.hostname=n.hostname||"localhost",this.port=n.port,this.query=n.query||{},this.headers=n.headers||{},this.body=n.body,this.protocol=n.protocol?n.protocol.slice(-1)!==":"?`${n.protocol}:`:n.protocol:"https:",this.path=n.path?n.path.charAt(0)!=="/"?`/${n.path}`:n.path:"/",this.username=n.username,this.password=n.password,this.fragment=n.fragment}static clone(n){const t=new ft({...n,headers:{...n.headers}});return t.query&&(t.query=x0(t.query)),t}static isInstance(n){if(!n)return!1;const t=n;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&typeof t.query=="object"&&typeof t.headers=="object"}clone(){return ft.clone(this)}}function x0(e){return Object.keys(e).reduce((n,t)=>{const s=e[t];return{...n,[t]:Array.isArray(s)?[...s]:s}},{})}class Ao{constructor(n){this.statusCode=n.statusCode,this.reason=n.reason,this.headers=n.headers||{},this.body=n.body}static isInstance(n){if(!n)return!1;const t=n;return typeof t.statusCode=="number"&&typeof t.headers=="object"}}function S0(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}function E0(e){return n=>async t=>{var r,o;const{request:s}=t;return ft.isInstance(s)&&s.body&&e.runtime==="node"&&((o=(r=e.requestHandler)==null?void 0:r.constructor)==null?void 0:o.name)!=="FetchHttpHandler"&&(s.headers={...s.headers,Expect:"100-continue"}),n({...t,request:s})}}const w0={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},k0=e=>({applyToStack:n=>{n.add(E0(e),w0)}}),Bo={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},_0=Bo.WHEN_SUPPORTED,Gc={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},A0=Bo.WHEN_SUPPORTED;var Ne;(function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.CRC64NVME="CRC64NVME",e.SHA1="SHA1",e.SHA256="SHA256"})(Ne||(Ne={}));var Gf;(function(e){e.HEADER="header",e.TRAILER="trailer"})(Gf||(Gf={}));const ad=Ne.CRC32;var Vf;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Vf||(Vf={}));function B0(e,n,t){return e.$source||(e.$source={}),e.$source[n]=t,e}function dt(e,n,t){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[n]=t}const Wf=e=>{var n,t;return Ao.isInstance(e)?((n=e.headers)==null?void 0:n.date)??((t=e.headers)==null?void 0:t.Date):void 0},bu=e=>new Date(Date.now()+e),v0=(e,n)=>Math.abs(bu(n).getTime()-e)>=3e5,Xf=(e,n)=>{const t=Date.parse(e);return v0(t,n)?t-Date.now():n},bi=(e,n)=>{if(!n)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return n},My=async e=>{var l,d,m;const n=bi("context",e.context),t=bi("config",e.config),s=(m=(d=(l=n.endpointV2)==null?void 0:l.properties)==null?void 0:d.authSchemes)==null?void 0:m[0],o=await bi("signer",t.signer)(s),i=e==null?void 0:e.signingRegion,a=e==null?void 0:e.signingRegionSet,c=e==null?void 0:e.signingName;return{config:t,signer:o,signingRegion:i,signingRegionSet:a,signingName:c}};class Ny{async sign(n,t,s){var m;if(!ft.isInstance(n))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const r=await My(s),{config:o,signer:i}=r;let{signingRegion:a,signingName:c}=r;const l=s.context;if(((m=l==null?void 0:l.authSchemes)==null?void 0:m.length)??!1){const[h,C]=l.authSchemes;(h==null?void 0:h.name)==="sigv4a"&&(C==null?void 0:C.name)==="sigv4"&&(a=(C==null?void 0:C.signingRegion)??a,c=(C==null?void 0:C.signingName)??c)}return await i.sign(n,{signingDate:bu(o.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(n){return t=>{const s=t.ServerTime??Wf(t.$response);if(s){const r=bi("config",n.config),o=r.systemClockOffset;r.systemClockOffset=Xf(s,r.systemClockOffset),r.systemClockOffset!==o&&t.$metadata&&(t.$metadata.clockSkewCorrected=!0)}throw t}}successHandler(n,t){const s=Wf(n);if(s){const r=bi("config",t.config);r.systemClockOffset=Xf(s,r.systemClockOffset)}}}class P0 extends Ny{async sign(n,t,s){var h;if(!ft.isInstance(n))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:r,signer:o,signingRegion:i,signingRegionSet:a,signingName:c}=await My(s),d=(await((h=r.sigv4aSigningRegionSet)==null?void 0:h.call(r))??a??[i]).join(",");return await o.sign(n,{signingDate:bu(r.systemClockOffset),signingRegion:d,signingService:c})}}const No=e=>e[id]||(e[id]={}),Tn=e=>{if(typeof e=="function")return e;const n=Promise.resolve(e);return()=>n},R0=(e,n)=>{if(!n||n.length===0)return e;const t=[];for(const s of n)for(const r of e)r.schemeId.split("#")[1]===s&&t.push(r);for(const s of e)t.find(({schemeId:r})=>r===s.schemeId)||t.push(s);return t};function T0(e){const n=new Map;for(const t of e)n.set(t.schemeId,t);return n}const I0=(e,n)=>(t,s)=>async r=>{var m;const o=e.httpAuthSchemeProvider(await n.httpAuthSchemeParametersProvider(e,s,r.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=R0(o,i),c=T0(e.httpAuthSchemes),l=No(s),d=[];for(const h of a){const C=c.get(h.schemeId);if(!C){d.push(`HttpAuthScheme \`${h.schemeId}\` was not enabled for this service.`);continue}const E=C.identityProvider(await n.identityProviderConfigProvider(e));if(!E){d.push(`HttpAuthScheme \`${h.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:v={},signingProperties:w={}}=((m=h.propertiesExtractor)==null?void 0:m.call(h,e,s))||{};h.identityProperties=Object.assign(h.identityProperties||{},v),h.signingProperties=Object.assign(h.signingProperties||{},w),l.selectedHttpAuthScheme={httpAuthOption:h,identity:await E(h.identityProperties),signer:C.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(d.join(`
`));return t(r)},O0={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},M0=(e,{httpAuthSchemeParametersProvider:n,identityProviderConfigProvider:t})=>({applyToStack:s=>{s.addRelativeTo(I0(e,{httpAuthSchemeParametersProvider:n,identityProviderConfigProvider:t}),O0)}}),N0=(e,n)=>(t,s)=>async r=>{var i,a,c,l;const{response:o}=await t(r);try{const d=await n(o,e);return{response:o,output:d}}catch(d){if(Object.defineProperty(d,"$response",{value:o}),!("$metadata"in d)){const m="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{d.message+=`
  `+m}catch{!s.logger||((a=(i=s.logger)==null?void 0:i.constructor)==null?void 0:a.name)==="NoOpLogger"?console.warn(m):(l=(c=s.logger)==null?void 0:c.warn)==null||l.call(c,m)}typeof d.$responseBodyText<"u"&&d.$response&&(d.$response.body=d.$responseBodyText)}throw d}},D0=(e,n)=>(t,s)=>async r=>{var a;const o=(a=s.endpointV2)!=null&&a.url&&e.urlParser?async()=>e.urlParser(s.endpointV2.url):e.endpoint;if(!o)throw new Error("No valid endpoint provider available.");const i=await n(r.input,{...e,endpoint:o});return t({...r,request:i})},F0={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Cu={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function T(e,n,t){return{applyToStack:s=>{s.add(N0(e,t),F0),s.add(D0(e,n),Cu)}}}Cu.name;const L0=e=>n=>{throw n},U0=(e,n)=>{},z0=e=>(n,t)=>async s=>{if(!ft.isInstance(s.request))return n(s);const o=No(t).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=o,l=await n({...s,request:await c.sign(s.request,a,i)}).catch((c.errorHandler||L0)(i));return(c.successHandler||U0)(l.response,i),l},Dy={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},$0=e=>({applyToStack:n=>{n.addRelativeTo(z0(),Dy)}}),Kr=e=>{if(typeof e=="function")return e;const n=Promise.resolve(e);return()=>n},ys={},Do=new Array(64);for(let e=0,n=65,t=90;e+n<=t;e++){const s=String.fromCharCode(e+n);ys[s]=e,Do[e]=s}for(let e=0,n=97,t=122;e+n<=t;e++){const s=String.fromCharCode(e+n),r=e+26;ys[s]=r,Do[r]=s}for(let e=0;e<10;e++){ys[e.toString(10)]=e+52;const n=e.toString(10),t=e+52;ys[n]=t,Do[t]=n}ys["+"]=62;Do[62]="+";ys["/"]=63;Do[63]="/";const Hr=6,Ci=8,q0=63,pu=e=>{let n=e.length/4*3;e.slice(-2)==="=="?n-=2:e.slice(-1)==="="&&n--;const t=new ArrayBuffer(n),s=new DataView(t);for(let r=0;r<e.length;r+=4){let o=0,i=0;for(let l=r,d=r+3;l<=d;l++)if(e[l]!=="="){if(!(e[l]in ys))throw new TypeError(`Invalid character ${e[l]} in base64 string.`);o|=ys[e[l]]<<(d-l)*Hr,i+=Hr}else o>>=Hr;const a=r/4*3;o>>=i%Ci;const c=Math.floor(i/Ci);for(let l=0;l<c;l++){const d=(c-l-1)*Ci;s.setUint8(a+l,(o&255<<d)>>d)}}return new Uint8Array(t)},yr=e=>new TextEncoder().encode(e),vo=e=>typeof e=="string"?yr(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),xu=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)};function _c(e){let n;typeof e=="string"?n=yr(e):n=e;const t=typeof n=="object"&&typeof n.length=="number",s=typeof n=="object"&&typeof n.byteOffset=="number"&&typeof n.byteLength=="number";if(!t&&!s)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let r="";for(let o=0;o<n.length;o+=3){let i=0,a=0;for(let l=o,d=Math.min(o+3,n.length);l<d;l++)i|=n[l]<<(d-l-1)*Ci,a+=Ci;const c=Math.ceil(a/Hr);i<<=c*Hr-a;for(let l=1;l<=c;l++){const d=(c-l)*Hr;r+=Do[(i&q0<<d)>>d]}r+="==".slice(0,4-c)}return r}function j0(e,n="utf-8"){return n==="base64"?_c(e):xu(e)}function K0(e,n){return n==="base64"?Us.mutate(pu(e)):Us.mutate(yr(e))}class Us extends Uint8Array{static fromString(n,t="utf-8"){switch(typeof n){case"string":return K0(n,t);default:throw new Error(`Unsupported conversion from ${typeof n} to Uint8ArrayBlobAdapter.`)}}static mutate(n){return Object.setPrototypeOf(n,Us.prototype),n}transformToString(n="utf-8"){return j0(this,n)}}const H0=typeof ReadableStream=="function"?ReadableStream:function(){};class G0 extends H0{}const cd=e=>{var n;return typeof ReadableStream=="function"&&(((n=e==null?void 0:e.constructor)==null?void 0:n.name)===ReadableStream.name||e instanceof ReadableStream)},V0=({expectedChecksum:e,checksum:n,source:t,checksumSourceLocation:s,base64Encoder:r})=>{var c;if(!cd(t))throw new Error(`@smithy/util-stream: unsupported source type ${((c=t==null?void 0:t.constructor)==null?void 0:c.name)??t} in ChecksumStream.`);const o=r??_c;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");const i=new TransformStream({start(){},async transform(l,d){n.update(l),d.enqueue(l)},async flush(l){const d=await n.digest(),m=o(d);if(e!==m){const h=new Error(`Checksum mismatch: expected "${e}" but received "${m}" in response header "${s}".`);l.error(h)}else l.terminate()}});t.pipeThrough(i);const a=i.readable;return Object.setPrototypeOf(a,G0.prototype),a};class W0{constructor(n){this.allocByteArray=n,this.byteLength=0,this.byteArrays=[]}push(n){this.byteArrays.push(n),this.byteLength+=n.byteLength}flush(){if(this.byteArrays.length===1){const s=this.byteArrays[0];return this.reset(),s}const n=this.allocByteArray(this.byteLength);let t=0;for(let s=0;s<this.byteArrays.length;++s){const r=this.byteArrays[s];n.set(r,t),t+=r.byteLength}return this.reset(),n}reset(){this.byteArrays=[],this.byteLength=0}}function X0(e,n,t){const s=e.getReader();let r=!1,o=0;const i=["",new W0(l=>new Uint8Array(l))];let a=-1;const c=async l=>{const{value:d,done:m}=await s.read(),h=d;if(m){if(a!==-1){const C=Vc(i,a);pi(C)>0&&l.enqueue(C)}l.close()}else{const C=Y0(h,!1);if(a!==C&&(a>=0&&l.enqueue(Vc(i,a)),a=C),a===-1){l.enqueue(h);return}const E=pi(h);o+=E;const v=pi(i[a]);if(E>=n&&v===0)l.enqueue(h);else{const w=Z0(i,a,h);!r&&o>n*2&&(r=!0,t==null||t.warn(`@smithy/util-stream - stream chunk size ${E} is below threshold of ${n}, automatically buffering.`)),w>=n?l.enqueue(Vc(i,a)):await c(l)}}};return new ReadableStream({pull:c})}const Q0=X0;function Z0(e,n,t){switch(n){case 0:return e[0]+=t,pi(e[0]);case 1:case 2:return e[n].push(t),pi(e[n])}}function Vc(e,n){switch(n){case 0:const t=e[0];return e[0]="",t;case 1:case 2:return e[n].flush()}throw new Error(`@smithy/util-stream - invalid index ${n} given to flush()`)}function pi(e){return(e==null?void 0:e.byteLength)??(e==null?void 0:e.length)??0}function Y0(e,n=!0){return n&&typeof yi.Buffer<"u"&&e instanceof yi.Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}const J0=(e,n)=>{const{base64Encoder:t,bodyLengthChecker:s,checksumAlgorithmFn:r,checksumLocationName:o,streamHasher:i}=n,a=t!==void 0&&s!==void 0&&r!==void 0&&o!==void 0&&i!==void 0,c=a?i(r,e):void 0,l=e.getReader();return new ReadableStream({async pull(d){const{value:m,done:h}=await l.read();if(h){if(d.enqueue(`0\r
`),a){const C=t(await c);d.enqueue(`${o}:${C}\r
`),d.enqueue(`\r
`)}d.close()}else d.enqueue(`${(s(m)||0).toString(16)}\r
${m}\r
`)}})};async function ep(e,n){let t=0;const s=[],r=e.getReader();let o=!1;for(;!o;){const{done:c,value:l}=await r.read();if(l&&(s.push(l),t+=(l==null?void 0:l.byteLength)??0),t>=n)break;o=c}r.releaseLock();const i=new Uint8Array(Math.min(n,t));let a=0;for(const c of s){if(c.byteLength>i.byteLength-a){i.set(c.subarray(0,i.byteLength-a),a);break}else i.set(c,a);a+=c.length}return i}const zs=e=>encodeURIComponent(e).replace(/[!'()*]/g,tp),tp=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function np(e){const n=[];for(let t of Object.keys(e).sort()){const s=e[t];if(t=zs(t),Array.isArray(s))for(let r=0,o=s.length;r<o;r++)n.push(`${t}=${zs(s[r])}`);else{let r=t;(s||typeof s=="string")&&(r+=`=${zs(s)}`),n.push(r)}}return n.join("&")}function Qf(e,n){return new Request(e,n)}function sp(e=0){return new Promise((n,t)=>{e&&setTimeout(()=>{const s=new Error(`Request did not complete within ${e} ms`);s.name="TimeoutError",t(s)},e)})}const Wc={supported:void 0};class Su{static create(n){return typeof(n==null?void 0:n.handle)=="function"?n:new Su(n)}constructor(n){typeof n=="function"?this.configProvider=n().then(t=>t||{}):(this.config=n??{},this.configProvider=Promise.resolve(this.config)),Wc.supported===void 0&&(Wc.supported=typeof Request<"u"&&"keepalive"in Qf("https://[::1]"))}destroy(){}async handle(n,{abortSignal:t}={}){var $;this.config||(this.config=await this.configProvider);const s=this.config.requestTimeout,r=this.config.keepAlive===!0,o=this.config.credentials;if(t!=null&&t.aborted){const V=new Error("Request aborted");return V.name="AbortError",Promise.reject(V)}let i=n.path;const a=np(n.query||{});a&&(i+=`?${a}`),n.fragment&&(i+=`#${n.fragment}`);let c="";if(n.username!=null||n.password!=null){const V=n.username??"",ne=n.password??"";c=`${V}:${ne}@`}const{port:l,method:d}=n,m=`${n.protocol}//${c}${n.hostname}${l?`:${l}`:""}${i}`,h=d==="GET"||d==="HEAD"?void 0:n.body,C={body:h,headers:new Headers(n.headers),method:d,credentials:o};($=this.config)!=null&&$.cache&&(C.cache=this.config.cache),h&&(C.duplex="half"),typeof AbortController<"u"&&(C.signal=t),Wc.supported&&(C.keepalive=r),typeof this.config.requestInit=="function"&&Object.assign(C,this.config.requestInit(n));let E=()=>{};const v=Qf(m,C),w=[fetch(v).then(V=>{const ne=V.headers,ae={};for(const ct of ne.entries())ae[ct[0]]=ct[1];return V.body!=null?{response:new Ao({headers:ae,reason:V.statusText,statusCode:V.status,body:V.body})}:V.blob().then(ct=>({response:new Ao({headers:ae,reason:V.statusText,statusCode:V.status,body:ct})}))}),sp(s)];return t&&w.push(new Promise((V,ne)=>{const ae=()=>{const at=new Error("Request aborted");at.name="AbortError",ne(at)};if(typeof t.addEventListener=="function"){const at=t;at.addEventListener("abort",ae,{once:!0}),E=()=>at.removeEventListener("abort",ae)}else t.onabort=ae})),Promise.race(w).finally(E)}updateHttpClientConfig(n,t){this.config=void 0,this.configProvider=this.configProvider.then(s=>(s[n]=t,s))}httpHandlerConfigs(){return this.config??{}}}const Fy=async e=>{var n;return typeof Blob=="function"&&e instanceof Blob||((n=e.constructor)==null?void 0:n.name)==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):rp(e):op(e)};async function rp(e){const n=await ip(e),t=pu(n);return new Uint8Array(t)}async function op(e){const n=[],t=e.getReader();let s=!1,r=0;for(;!s;){const{done:a,value:c}=await t.read();c&&(n.push(c),r+=c.length),s=a}const o=new Uint8Array(r);let i=0;for(const a of n)o.set(a,i),i+=a.length;return o}function ip(e){return new Promise((n,t)=>{const s=new FileReader;s.onloadend=()=>{if(s.readyState!==2)return t(new Error("Reader aborted too early"));const r=s.result??"",o=r.indexOf(","),i=o>-1?o+1:r.length;n(r.substring(i))},s.onabort=()=>t(new Error("Read aborted")),s.onerror=()=>t(s.error),s.readAsDataURL(e)})}const Ly={},ld={};for(let e=0;e<256;e++){let n=e.toString(16).toLowerCase();n.length===1&&(n=`0${n}`),Ly[e]=n,ld[n]=e}function Uy(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const n=new Uint8Array(e.length/2);for(let t=0;t<e.length;t+=2){const s=e.slice(t,t+2).toLowerCase();if(s in ld)n[t/2]=ld[s];else throw new Error(`Cannot decode unrecognized sequence ${s} as hexadecimal`)}return n}function Jt(e){let n="";for(let t=0;t<e.byteLength;t++)n+=Ly[e[t]];return n}const Zf="The stream has already been transformed.",ap=e=>{var r,o;if(!Yf(e)&&!cd(e)){const i=((o=(r=e==null?void 0:e.__proto__)==null?void 0:r.constructor)==null?void 0:o.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let n=!1;const t=async()=>{if(n)throw new Error(Zf);return n=!0,await Fy(e)},s=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(e,{transformToByteArray:t,transformToString:async i=>{const a=await t();if(i==="base64")return _c(a);if(i==="hex")return Jt(a);if(i===void 0||i==="utf8"||i==="utf-8")return xu(a);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(Zf);if(n=!0,Yf(e))return s(e);if(cd(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})},Yf=e=>typeof Blob=="function"&&e instanceof Blob;async function cp(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}const ee=async(e=new Uint8Array,n)=>{if(e instanceof Uint8Array)return Us.mutate(e);if(!e)return Us.mutate(new Uint8Array);const t=n.streamCollector(e);return Us.mutate(await t)};function ec(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})}const lp=(e,n,t,s,r,o)=>{if(n!=null&&n[t]!==void 0){const i=s();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+t+".");e=e.replace(r,o?i.split("/").map(a=>ec(a)).join("/"):ec(i))}else throw new Error("No value provided for input HTTP label: "+t+".");return e};function I(e,n){return new dp(e,n)}class dp{constructor(n,t){this.input=n,this.context=t,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:n,protocol:t="https",port:s,path:r}=await this.context.endpoint();this.path=r;for(const o of this.resolvePathStack)o(this.path);return new ft({protocol:t,hostname:this.hostname||n,port:s,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(n){return this.hostname=n,this}bp(n){return this.resolvePathStack.push(t=>{this.path=`${t!=null&&t.endsWith("/")?t.slice(0,-1):t||""}`+n}),this}p(n,t,s,r){return this.resolvePathStack.push(o=>{this.path=lp(o,this.input,n,t,s,r)}),this}h(n){return this.headers=n,this}q(n){return this.query=n,this}b(n){return this.body=n,this}m(n){return this.method=n,this}}function up(e,n,t){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[n]=t}class fp{constructor(n){this.authSchemes=new Map;for(const[t,s]of Object.entries(n))s!==void 0&&this.authSchemes.set(t,s)}getIdentityProvider(n){return this.authSchemes.get(n)}}const mp=e=>n=>zy(n)&&n.expiration.getTime()-Date.now()<e,hp=3e5,yp=mp(hp),zy=e=>e.expiration!==void 0,gp=(e,n,t)=>{if(e===void 0)return;const s=typeof e!="function"?async()=>Promise.resolve(e):e;let r,o,i,a=!1;const c=async l=>{o||(o=s(l));try{r=await o,i=!0,a=!1}finally{o=void 0}return r};return n===void 0?async l=>((!i||l!=null&&l.forceRefresh)&&(r=await c(l)),r):async l=>((!i||l!=null&&l.forceRefresh)&&(r=await c(l)),a?r:t(r)?(n(r)&&await c(l),r):(a=!0,r))},bp=(e,n,t)=>{let s,r,o,i=!1;const a=async()=>{r||(r=e());try{s=await r,o=!0,i=!1}finally{r=void 0}return s};return async c=>((!o||c!=null&&c.forceRefresh)&&(s=await a()),s)},Cp=e=>(e.sigv4aSigningRegionSet=Kr(e.sigv4aSigningRegionSet),e),pp="X-Amz-Algorithm",xp="X-Amz-Credential",$y="X-Amz-Date",Sp="X-Amz-SignedHeaders",Ep="X-Amz-Expires",qy="X-Amz-Signature",jy="X-Amz-Security-Token",Ky="authorization",Hy=$y.toLowerCase(),wp="date",kp=[Ky,Hy,wp],_p=qy.toLowerCase(),dd="x-amz-content-sha256",Ap=jy.toLowerCase(),Bp={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},vp=/^proxy-/,Pp=/^sec-/,Xc="AWS4-HMAC-SHA256",Rp="AWS4-HMAC-SHA256-PAYLOAD",Tp="UNSIGNED-PAYLOAD",Ip=50,Gy="aws4_request",Op=60*60*24*7,sa={},Qc=[],Zc=(e,n,t)=>`${e}/${n}/${t}/${Gy}`,Mp=async(e,n,t,s,r)=>{const o=await Jf(e,n.secretAccessKey,n.accessKeyId),i=`${t}:${s}:${r}:${Jt(o)}:${n.sessionToken}`;if(i in sa)return sa[i];for(Qc.push(i);Qc.length>Ip;)delete sa[Qc.shift()];let a=`AWS4${n.secretAccessKey}`;for(const c of[t,s,r,Gy])a=await Jf(e,a,c);return sa[i]=a},Jf=(e,n,t)=>{const s=new e(n);return s.update(vo(t)),s.digest()},em=({headers:e},n,t)=>{const s={};for(const r of Object.keys(e).sort()){if(e[r]==null)continue;const o=r.toLowerCase();(o in Bp||n!=null&&n.has(o)||vp.test(o)||Pp.test(o))&&(!t||t&&!t.has(o))||(s[o]=e[r].trim().replace(/\s+/g," "))}return s},Vy=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]",Yc=async({headers:e,body:n},t)=>{for(const s of Object.keys(e))if(s.toLowerCase()===dd)return e[s];if(n==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof n=="string"||ArrayBuffer.isView(n)||Vy(n)){const s=new t;return s.update(vo(n)),Jt(await s.digest())}return Tp};class Np{format(n){const t=[];for(const o of Object.keys(n)){const i=yr(o);t.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(n[o]))}const s=new Uint8Array(t.reduce((o,i)=>o+i.byteLength,0));let r=0;for(const o of t)s.set(o,r),r+=o.byteLength;return s}formatHeaderValue(n){switch(n.type){case"boolean":return Uint8Array.from([n.value?0:1]);case"byte":return Uint8Array.from([2,n.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,n.value,!1),new Uint8Array(t.buffer);case"integer":const s=new DataView(new ArrayBuffer(5));return s.setUint8(0,4),s.setInt32(1,n.value,!1),new Uint8Array(s.buffer);case"long":const r=new Uint8Array(9);return r[0]=5,r.set(n.value.bytes,1),r;case"binary":const o=new DataView(new ArrayBuffer(3+n.value.byteLength));o.setUint8(0,6),o.setUint16(1,n.value.byteLength,!1);const i=new Uint8Array(o.buffer);return i.set(n.value,3),i;case"string":const a=yr(n.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);const l=new Uint8Array(c.buffer);return l.set(a,3),l;case"timestamp":const d=new Uint8Array(9);return d[0]=8,d.set(Fp.fromNumber(n.value.valueOf()).bytes,1),d;case"uuid":if(!Dp.test(n.value))throw new Error(`Invalid UUID received: ${n.value}`);const m=new Uint8Array(17);return m[0]=9,m.set(Uy(n.value.replace(/\-/g,"")),1),m}}}var tm;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(tm||(tm={}));const Dp=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;let Fp=class Wy{constructor(n){if(this.bytes=n,n.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(n){if(n>9223372036854776e3||n<-9223372036854776e3)throw new Error(`${n} is too large (or, if negative, too small) to represent as an Int64`);const t=new Uint8Array(8);for(let s=7,r=Math.abs(Math.round(n));s>-1&&r>0;s--,r/=256)t[s]=r;return n<0&&nm(t),new Wy(t)}valueOf(){const n=this.bytes.slice(0),t=n[0]&128;return t&&nm(n),parseInt(Jt(n),16)*(t?-1:1)}toString(){return String(this.valueOf())}};function nm(e){for(let n=0;n<8;n++)e[n]^=255;for(let n=7;n>-1&&(e[n]++,e[n]===0);n--);}const Lp=(e,n)=>{e=e.toLowerCase();for(const t of Object.keys(n))if(e===t.toLowerCase())return!0;return!1},Up=(e,n={})=>{var r,o;const{headers:t,query:s={}}=ft.clone(e);for(const i of Object.keys(t)){const a=i.toLowerCase();(a.slice(0,6)==="x-amz-"&&!((r=n.unhoistableHeaders)!=null&&r.has(a))||(o=n.hoistableHeaders)!=null&&o.has(a))&&(s[i]=t[i],delete t[i])}return{...e,headers:t,query:s}},sm=e=>{e=ft.clone(e);for(const n of Object.keys(e.headers))kp.indexOf(n.toLowerCase())>-1&&delete e.headers[n];return e},zp=({query:e={}})=>{const n=[],t={};for(const s of Object.keys(e)){if(s.toLowerCase()===_p)continue;const r=zs(s);n.push(r);const o=e[s];typeof o=="string"?t[r]=`${r}=${zs(o)}`:Array.isArray(o)&&(t[r]=o.slice(0).reduce((i,a)=>i.concat([`${r}=${zs(a)}`]),[]).sort().join("&"))}return n.sort().map(s=>t[s]).filter(s=>s).join("&")},$p=e=>qp(e).toISOString().replace(/\.\d{3}Z$/,"Z"),qp=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;class jp{constructor({applyChecksum:n,credentials:t,region:s,service:r,sha256:o,uriEscapePath:i=!0}){this.service=r,this.sha256=o,this.uriEscapePath=i,this.applyChecksum=typeof n=="boolean"?n:!0,this.regionProvider=Tn(s),this.credentialProvider=Tn(t)}createCanonicalRequest(n,t,s){const r=Object.keys(t).sort();return`${n.method}
${this.getCanonicalPath(n)}
${zp(n)}
${r.map(o=>`${o}:${t[o]}`).join(`
`)}

${r.join(";")}
${s}`}async createStringToSign(n,t,s,r){const o=new this.sha256;o.update(vo(s));const i=await o.digest();return`${r}
${n}
${t}
${Jt(i)}`}getCanonicalPath({path:n}){if(this.uriEscapePath){const t=[];for(const o of n.split("/"))(o==null?void 0:o.length)!==0&&o!=="."&&(o===".."?t.pop():t.push(o));const s=`${n!=null&&n.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&(n!=null&&n.endsWith("/"))?"/":""}`;return zs(s).replace(/%2F/g,"/")}return n}validateResolvedCredentials(n){if(typeof n!="object"||typeof n.accessKeyId!="string"||typeof n.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(n){const t=$p(n).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(n){return Object.keys(n).sort().join(";")}}class ud extends jp{constructor({applyChecksum:n,credentials:t,region:s,service:r,sha256:o,uriEscapePath:i=!0}){super({applyChecksum:n,credentials:t,region:s,service:r,sha256:o,uriEscapePath:i}),this.headerFormatter=new Np}async presign(n,t={}){const{signingDate:s=new Date,expiresIn:r=3600,unsignableHeaders:o,unhoistableHeaders:i,signableHeaders:a,hoistableHeaders:c,signingRegion:l,signingService:d}=t,m=await this.credentialProvider();this.validateResolvedCredentials(m);const h=l??await this.regionProvider(),{longDate:C,shortDate:E}=this.formatDate(s);if(r>Op)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const v=Zc(E,h,d??this.service),w=Up(sm(n),{unhoistableHeaders:i,hoistableHeaders:c});m.sessionToken&&(w.query[jy]=m.sessionToken),w.query[pp]=Xc,w.query[xp]=`${m.accessKeyId}/${v}`,w.query[$y]=C,w.query[Ep]=r.toString(10);const $=em(w,o,a);return w.query[Sp]=this.getCanonicalHeaderList($),w.query[qy]=await this.getSignature(C,v,this.getSigningKey(m,h,E,d),this.createCanonicalRequest(w,$,await Yc(n,this.sha256))),w}async sign(n,t){return typeof n=="string"?this.signString(n,t):n.headers&&n.payload?this.signEvent(n,t):n.message?this.signMessage(n,t):this.signRequest(n,t)}async signEvent({headers:n,payload:t},{signingDate:s=new Date,priorSignature:r,signingRegion:o,signingService:i}){const a=o??await this.regionProvider(),{shortDate:c,longDate:l}=this.formatDate(s),d=Zc(c,a,i??this.service),m=await Yc({headers:{},body:t},this.sha256),h=new this.sha256;h.update(n);const C=Jt(await h.digest()),E=[Rp,l,d,r,C,m].join(`
`);return this.signString(E,{signingDate:s,signingRegion:a,signingService:i})}async signMessage(n,{signingDate:t=new Date,signingRegion:s,signingService:r}){return this.signEvent({headers:this.headerFormatter.format(n.message.headers),payload:n.message.body},{signingDate:t,signingRegion:s,signingService:r,priorSignature:n.priorSignature}).then(i=>({message:n.message,signature:i}))}async signString(n,{signingDate:t=new Date,signingRegion:s,signingService:r}={}){const o=await this.credentialProvider();this.validateResolvedCredentials(o);const i=s??await this.regionProvider(),{shortDate:a}=this.formatDate(t),c=new this.sha256(await this.getSigningKey(o,i,a,r));return c.update(vo(n)),Jt(await c.digest())}async signRequest(n,{signingDate:t=new Date,signableHeaders:s,unsignableHeaders:r,signingRegion:o,signingService:i}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const c=o??await this.regionProvider(),l=sm(n),{longDate:d,shortDate:m}=this.formatDate(t),h=Zc(m,c,i??this.service);l.headers[Hy]=d,a.sessionToken&&(l.headers[Ap]=a.sessionToken);const C=await Yc(l,this.sha256);!Lp(dd,l.headers)&&this.applyChecksum&&(l.headers[dd]=C);const E=em(l,r,s),v=await this.getSignature(d,h,this.getSigningKey(a,c,m,i),this.createCanonicalRequest(l,E,C));return l.headers[Ky]=`${Xc} Credential=${a.accessKeyId}/${h}, SignedHeaders=${this.getCanonicalHeaderList(E)}, Signature=${v}`,l}async getSignature(n,t,s,r){const o=await this.createStringToSign(n,t,r,Xc),i=new this.sha256(await s);return i.update(vo(o)),Jt(await i.digest())}getSigningKey(n,t,s,r){return Mp(this.sha256,n,s,t,r||this.service)}}const Kp=e=>{let n=e.credentials,t=!!e.credentials,s;Object.defineProperty(e,"credentials",{set(l){l&&l!==n&&l!==s&&(t=!0),n=l;const d=Hp(e,{credentials:n,credentialDefaultProvider:e.credentialDefaultProvider}),m=Gp(e,d);t&&!m.attributed?(s=async h=>m(h).then(C=>B0(C,"CREDENTIALS_CODE","e")),s.memoized=m.memoized,s.configBound=m.configBound,s.attributed=!0):s=m},get(){return s},enumerable:!0,configurable:!0}),e.credentials=n;const{signingEscapePath:r=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:i}=e;let a;return e.signer?a=Kr(e.signer):e.regionInfoProvider?a=()=>Kr(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,d])=>{const{signingRegion:m,signingService:h}=l;e.signingRegion=e.signingRegion||m||d,e.signingName=e.signingName||h||e.serviceId;const C={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:r},E=e.signerConstructor||ud;return new E(C)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Kr(e.region)(),properties:{}},l);const d=l.signingRegion,m=l.signingName;e.signingRegion=e.signingRegion||d,e.signingName=e.signingName||m||e.serviceId;const h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:r},C=e.signerConstructor||ud;return new C(h)},Object.assign(e,{systemClockOffset:o,signingEscapePath:r,signer:a})};function Hp(e,{credentials:n,credentialDefaultProvider:t}){let s;return n?n!=null&&n.memoized?s=n:s=gp(n,yp,zy):t?s=Kr(t(Object.assign({},e,{parentClientConfig:e}))):s=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},s.memoized=!0,s}function Gp(e,n){if(n.configBound)return n;const t=async s=>n({...s,callerClientConfig:e});return t.memoized=n.memoized,t.configBound=!0,t}const _s=(e,n)=>{const t=[];if(e&&t.push(e),n)for(const s of n)t.push(s);return t},ts=(e,n)=>`${e||"anonymous"}${n&&n.length>0?` (a.k.a. ${n.join(",")})`:""}`,tc=()=>{let e=[],n=[],t=!1;const s=new Set,r=m=>m.sort((h,C)=>rm[C.step]-rm[h.step]||om[C.priority||"normal"]-om[h.priority||"normal"]),o=m=>{let h=!1;const C=E=>{const v=_s(E.name,E.aliases);if(v.includes(m)){h=!0;for(const w of v)s.delete(w);return!1}return!0};return e=e.filter(C),n=n.filter(C),h},i=m=>{let h=!1;const C=E=>{if(E.middleware===m){h=!0;for(const v of _s(E.name,E.aliases))s.delete(v);return!1}return!0};return e=e.filter(C),n=n.filter(C),h},a=m=>{var h;return e.forEach(C=>{m.add(C.middleware,{...C})}),n.forEach(C=>{m.addRelativeTo(C.middleware,{...C})}),(h=m.identifyOnResolve)==null||h.call(m,d.identifyOnResolve()),m},c=m=>{const h=[];return m.before.forEach(C=>{C.before.length===0&&C.after.length===0?h.push(C):h.push(...c(C))}),h.push(m),m.after.reverse().forEach(C=>{C.before.length===0&&C.after.length===0?h.push(C):h.push(...c(C))}),h},l=(m=!1)=>{const h=[],C=[],E={};return e.forEach(w=>{const $={...w,before:[],after:[]};for(const V of _s($.name,$.aliases))E[V]=$;h.push($)}),n.forEach(w=>{const $={...w,before:[],after:[]};for(const V of _s($.name,$.aliases))E[V]=$;C.push($)}),C.forEach(w=>{if(w.toMiddleware){const $=E[w.toMiddleware];if($===void 0){if(m)return;throw new Error(`${w.toMiddleware} is not found when adding ${ts(w.name,w.aliases)} middleware ${w.relation} ${w.toMiddleware}`)}w.relation==="after"&&$.after.push(w),w.relation==="before"&&$.before.push(w)}}),r(h).map(c).reduce((w,$)=>(w.push(...$),w),[])},d={add:(m,h={})=>{const{name:C,override:E,aliases:v}=h,w={step:"initialize",priority:"normal",middleware:m,...h},$=_s(C,v);if($.length>0){if($.some(V=>s.has(V))){if(!E)throw new Error(`Duplicate middleware name '${ts(C,v)}'`);for(const V of $){const ne=e.findIndex(at=>{var ct;return at.name===V||((ct=at.aliases)==null?void 0:ct.some(yn=>yn===V))});if(ne===-1)continue;const ae=e[ne];if(ae.step!==w.step||w.priority!==ae.priority)throw new Error(`"${ts(ae.name,ae.aliases)}" middleware with ${ae.priority} priority in ${ae.step} step cannot be overridden by "${ts(C,v)}" middleware with ${w.priority} priority in ${w.step} step.`);e.splice(ne,1)}}for(const V of $)s.add(V)}e.push(w)},addRelativeTo:(m,h)=>{const{name:C,override:E,aliases:v}=h,w={middleware:m,...h},$=_s(C,v);if($.length>0){if($.some(V=>s.has(V))){if(!E)throw new Error(`Duplicate middleware name '${ts(C,v)}'`);for(const V of $){const ne=n.findIndex(at=>{var ct;return at.name===V||((ct=at.aliases)==null?void 0:ct.some(yn=>yn===V))});if(ne===-1)continue;const ae=n[ne];if(ae.toMiddleware!==w.toMiddleware||ae.relation!==w.relation)throw new Error(`"${ts(ae.name,ae.aliases)}" middleware ${ae.relation} "${ae.toMiddleware}" middleware cannot be overridden by "${ts(C,v)}" middleware ${w.relation} "${w.toMiddleware}" middleware.`);n.splice(ne,1)}}for(const V of $)s.add(V)}n.push(w)},clone:()=>a(tc()),use:m=>{m.applyToStack(d)},remove:m=>typeof m=="string"?o(m):i(m),removeByTag:m=>{let h=!1;const C=E=>{const{tags:v,name:w,aliases:$}=E;if(v&&v.includes(m)){const V=_s(w,$);for(const ne of V)s.delete(ne);return h=!0,!1}return!0};return e=e.filter(C),n=n.filter(C),h},concat:m=>{var C;const h=a(tc());return h.use(m),h.identifyOnResolve(t||h.identifyOnResolve()||(((C=m.identifyOnResolve)==null?void 0:C.call(m))??!1)),h},applyToStack:a,identify:()=>l(!0).map(m=>{const h=m.step??m.relation+" "+m.toMiddleware;return ts(m.name,m.aliases)+" - "+h}),identifyOnResolve(m){return typeof m=="boolean"&&(t=m),t},resolve:(m,h)=>{for(const C of l().map(E=>E.middleware).reverse())m=C(m,h);return t&&console.log(d.identify()),m}};return d},rm={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},om={high:3,normal:2,low:1};class Vp{constructor(n){this.config=n,this.middlewareStack=tc()}send(n,t,s){const r=typeof t!="function"?t:void 0,o=typeof t=="function"?t:s,i=r===void 0&&this.config.cacheMiddleware===!0;let a;if(i){this.handlers||(this.handlers=new WeakMap);const c=this.handlers;c.has(n.constructor)?a=c.get(n.constructor):(a=n.resolveMiddleware(this.middlewareStack,this.config,r),c.set(n.constructor,a))}else delete this.handlers,a=n.resolveMiddleware(this.middlewareStack,this.config,r);if(o)a(n).then(c=>o(null,c.output),c=>o(c)).catch(()=>{});else return a(n).then(c=>c.output)}destroy(){var n,t,s;(s=(t=(n=this.config)==null?void 0:n.requestHandler)==null?void 0:t.destroy)==null||s.call(t),delete this.handlers}}class R{constructor(){this.middlewareStack=tc()}static classBuilder(){return new Wp}resolveMiddlewareWithContext(n,t,s,{middlewareFn:r,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:l,additionalContext:d,CommandCtor:m}){for(const w of r.bind(this)(m,n,t,s))this.middlewareStack.use(w);const h=n.concat(this.middlewareStack),{logger:C}=t,E={logger:C,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[id]:{commandInstance:this,...l},...d},{requestHandler:v}=t;return h.resolve(w=>v.handle(w.request,s||{}),E)}}class Wp{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=n=>n,this._outputFilterSensitiveLog=n=>n,this._serializer=null,this._deserializer=null}init(n){this._init=n}ep(n){return this._ep=n,this}m(n){return this._middlewareFn=n,this}s(n,t,s={}){return this._smithyContext={service:n,operation:t,...s},this}c(n={}){return this._additionalContext=n,this}n(n,t){return this._clientName=n,this._commandName=t,this}f(n=s=>s,t=s=>s){return this._inputFilterSensitiveLog=n,this._outputFilterSensitiveLog=t,this}ser(n){return this._serializer=n,this}de(n){return this._deserializer=n,this}build(){const n=this;let t;return t=class extends R{static getEndpointParameterInstructions(){return n._ep}constructor(...[s]){super(),this.serialize=n._serializer,this.deserialize=n._deserializer,this.input=s??{},n._init(this)}resolveMiddleware(s,r,o){return this.resolveMiddlewareWithContext(s,r,o,{CommandCtor:t,middlewareFn:n._middlewareFn,clientName:n._clientName,commandName:n._commandName,inputFilterSensitiveLog:n._inputFilterSensitiveLog,outputFilterSensitiveLog:n._outputFilterSensitiveLog,smithyContext:n._smithyContext,additionalContext:n._additionalContext})}}}}const fe="***SensitiveInformation***",Xp=(e,n)=>{for(const t of Object.keys(e)){const s=e[t],r=async function(i,a,c){const l=new s(i);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},o=(t[0].toLowerCase()+t.slice(1)).replace(/Command$/,"");n.prototype[o]=r}},Ce=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},Qp=e=>{if(e!=null){if(typeof e=="string"){const n=parseFloat(e);if(!Number.isNaN(n))return String(n)!==String(e)&&Zy.warn(Qy(`Expected number but observed string: ${e}`)),n}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},Zp=Math.ceil(2**127*(2-2**-23)),im=e=>{const n=Qp(e);if(n!==void 0&&!Number.isNaN(n)&&n!==1/0&&n!==-1/0&&Math.abs(n)>Zp)throw new TypeError(`Expected 32-bit float, got ${e}`);return n},fd=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},am=e=>Eu(e,32),cm=e=>Eu(e,16),lm=e=>Eu(e,8),Eu=(e,n)=>{const t=fd(e);if(t!==void 0&&Yp(t,n)!==t)throw new TypeError(`Expected ${n}-bit integer, got ${e}`);return t},Yp=(e,n)=>{switch(n){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},G=(e,n)=>{if(e==null)throw n?new TypeError(`Expected a non-null value for ${n}`):new TypeError("Expected a non-null value");return e},re=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;const n=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${n}: ${e}`)},y=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Zy.warn(Qy(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},Xy=e=>{if(e==null)return;const n=re(e),t=Object.entries(n).filter(([,s])=>s!=null).map(([s])=>s);if(t.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(t.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${t} were not null.`);return n},Jp=e=>im(typeof e=="string"?Mi(e):e),ex=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Mi=e=>{const n=e.match(ex);if(n===null||n[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},At=e=>fd(typeof e=="string"?Mi(e):e),ve=e=>am(typeof e=="string"?Mi(e):e),nc=e=>cm(typeof e=="string"?Mi(e):e),tx=e=>lm(typeof e=="string"?Mi(e):e),Qy=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(n=>!n.includes("stackTraceWarning")).join(`
`),Zy={warn:console.warn},nx=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wu=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Bt(e){const n=e.getUTCFullYear(),t=e.getUTCMonth(),s=e.getUTCDay(),r=e.getUTCDate(),o=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=r<10?`0${r}`:`${r}`,l=o<10?`0${o}`:`${o}`,d=i<10?`0${i}`:`${i}`,m=a<10?`0${a}`:`${a}`;return`${nx[s]}, ${c} ${wu[t]} ${n} ${l}:${d}:${m} GMT`}const sx=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Yt=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const n=sx.exec(e);if(!n)throw new TypeError("Invalid RFC-3339 date-time value");const[t,s,r,o,i,a,c,l,d]=n,m=nc(Bi(s)),h=cs(r,"month",1,12),C=cs(o,"day",1,31),E=ba(m,h,C,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l});return d.toUpperCase()!="Z"&&E.setTime(E.getTime()-hx(d)),E},rx=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),ox=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),ix=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),gs=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let n=rx.exec(e);if(n){const[t,s,r,o,i,a,c,l]=n;return ba(nc(Bi(o)),Jc(r),cs(s,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l})}if(n=ox.exec(e),n){const[t,s,r,o,i,a,c,l]=n;return lx(ba(ax(o),Jc(r),cs(s,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(n=ix.exec(e),n){const[t,s,r,o,i,a,c,l]=n;return ba(nc(Bi(l)),Jc(s),cs(r.trimLeft(),"day",1,31),{hours:o,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},ba=(e,n,t,s)=>{const r=n-1;return ux(e,r,t),new Date(Date.UTC(e,r,t,cs(s.hours,"hour",0,23),cs(s.minutes,"minute",0,59),cs(s.seconds,"seconds",0,60),mx(s.fractionalMilliseconds)))},ax=e=>{const n=new Date().getUTCFullYear(),t=Math.floor(n/100)*100+nc(Bi(e));return t<n?t+100:t},cx=50*365*24*60*60*1e3,lx=e=>e.getTime()-new Date().getTime()>cx?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,Jc=e=>{const n=wu.indexOf(e);if(n<0)throw new TypeError(`Invalid month: ${e}`);return n+1},dx=[31,28,31,30,31,30,31,31,30,31,30,31],ux=(e,n,t)=>{let s=dx[n];if(n===1&&fx(e)&&(s=29),t>s)throw new TypeError(`Invalid day for ${wu[n]} in ${e}: ${t}`)},fx=e=>e%4===0&&(e%100!==0||e%400===0),cs=(e,n,t,s)=>{const r=tx(Bi(e));if(r<t||r>s)throw new TypeError(`${n} must be between ${t} and ${s}, inclusive`);return r},mx=e=>e==null?0:Jp("0."+e)*1e3,hx=e=>{const n=e[0];let t=1;if(n=="+")t=1;else if(n=="-")t=-1;else throw new TypeError(`Offset direction, ${n}, must be "+" or "-"`);const s=Number(e.substring(1,3)),r=Number(e.substring(4,6));return t*(s*60+r)*60*1e3},Bi=e=>{let n=0;for(;n<e.length-1&&e.charAt(n)==="0";)n++;return n===0?e:e.slice(n)};class qr extends Error{constructor(n){super(n.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=n.name,this.$fault=n.$fault,this.$metadata=n.$metadata}static isInstance(n){if(!n)return!1;const t=n;return qr.prototype.isPrototypeOf(t)||!!t.$fault&&!!t.$metadata&&(t.$fault==="client"||t.$fault==="server")}static[Symbol.hasInstance](n){if(!n)return!1;const t=n;return this===qr?qr.isInstance(n):qr.isInstance(n)?t.name&&this.name?this.prototype.isPrototypeOf(n)||t.name===this.name:this.prototype.isPrototypeOf(n):!1}}const on=(e,n={})=>{Object.entries(n).filter(([,s])=>s!==void 0).forEach(([s,r])=>{(e[s]==null||e[s]==="")&&(e[s]=r)});const t=e.message||e.Message||"UnknownError";return e.message=t,delete e.Message,e},yx=({output:e,parsedBody:n,exceptionCtor:t,errorCode:s})=>{const r=bx(e),o=r.httpStatusCode?r.httpStatusCode+"":void 0,i=new t({name:(n==null?void 0:n.code)||(n==null?void 0:n.Code)||s||o||"UnknownError",$fault:"client",$metadata:r});throw on(i,n)},gx=e=>({output:n,parsedBody:t,errorCode:s})=>{yx({output:n,parsedBody:t,exceptionCtor:e,errorCode:s})},bx=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Cx=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},px=e=>{const n=[];for(const t in Ja){const s=Ja[t];e[s]!==void 0&&n.push({algorithmId:()=>s,checksumConstructor:()=>e[s]})}return{addChecksumAlgorithm(t){n.push(t)},checksumAlgorithms(){return n}}},xx=e=>{const n={};return e.checksumAlgorithms().forEach(t=>{n[t.algorithmId()]=t.checksumConstructor()}),n},Sx=e=>({setRetryStrategy(n){e.retryStrategy=n},retryStrategy(){return e.retryStrategy}}),Ex=e=>{const n={};return n.retryStrategy=e.retryStrategy(),n},wx=e=>Object.assign(px(e),Sx(e)),kx=e=>Object.assign(xx(e),Ex(e)),J=e=>Array.isArray(e)?e:[e],Yy=e=>{const n="#text";for(const t in e)e.hasOwnProperty(t)&&e[t][n]!==void 0?e[t]=e[t][n]:typeof e[t]=="object"&&e[t]!==null&&(e[t]=Yy(e[t]));return e},S=e=>e!=null;class ku{trace(){}debug(){}info(){}warn(){}error(){}}function u(e,n,t){let s,r,o;if(typeof n>"u"&&typeof t>"u")s={},o=e;else{if(s=e,typeof n=="function")return r=n,o=t,_x(s,r,o);o=n}for(const i of Object.keys(o)){if(!Array.isArray(o[i])){s[i]=o[i];continue}Ax(s,null,o,i)}return s}const _x=(e,n,t)=>u(e,Object.entries(t).reduce((s,[r,o])=>(Array.isArray(o)?s[r]=o:typeof o=="function"?s[r]=[n,o()]:s[r]=[n,o],s),{})),Ax=(e,n,t,s)=>{let[r,o]=t[s];if(typeof o=="function"){let i;const a=r===void 0&&(i=o())!=null,c=typeof r=="function"&&!!r(void 0)||typeof r!="function"&&!!r;a?e[s]=i:c&&(e[s]=o())}else{const i=r===void 0&&o!=null,a=typeof r=="function"&&!!r(o)||typeof r!="function"&&!!r;(i||a)&&(e[s]=o)}};function Ac(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}const Sr=e=>e.toISOString().replace(".000Z","Z"),Bx=(e,n)=>ee(e,n).then(t=>n.utf8Encoder(t));var _u={},Bc={};(function(e){const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",t=n+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",s="["+n+"]["+t+"]*",r=new RegExp("^"+s+"$"),o=function(a,c){const l=[];let d=c.exec(a);for(;d;){const m=[];m.startIndex=c.lastIndex-d[0].length;const h=d.length;for(let C=0;C<h;C++)m.push(d[C]);l.push(m),d=c.exec(a)}return l},i=function(a){const c=r.exec(a);return!(c===null||typeof c>"u")};e.isExist=function(a){return typeof a<"u"},e.isEmptyObject=function(a){return Object.keys(a).length===0},e.merge=function(a,c,l){if(c){const d=Object.keys(c),m=d.length;for(let h=0;h<m;h++)l==="strict"?a[d[h]]=[c[d[h]]]:a[d[h]]=c[d[h]]}},e.getValue=function(a){return e.isExist(a)?a:""},e.isName=i,e.getAllMatches=o,e.nameRegexp=s})(Bc);const Au=Bc,vx={allowBooleanAttributes:!1,unpairedTags:[]};_u.validate=function(e,n){n=Object.assign({},vx,n);const t=[];let s=!1,r=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let o=0;o<e.length;o++)if(e[o]==="<"&&e[o+1]==="?"){if(o+=2,o=um(e,o),o.err)return o}else if(e[o]==="<"){let i=o;if(o++,e[o]==="!"){o=fm(e,o);continue}else{let a=!1;e[o]==="/"&&(a=!0,o++);let c="";for(;o<e.length&&e[o]!==">"&&e[o]!==" "&&e[o]!=="	"&&e[o]!==`
`&&e[o]!=="\r";o++)c+=e[o];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),o--),!Dx(c)){let m;return c.trim().length===0?m="Invalid space after '<'.":m="Tag '"+c+"' is an invalid name.",rt("InvalidTag",m,Kt(e,o))}const l=Tx(e,o);if(l===!1)return rt("InvalidAttr","Attributes for '"+c+"' have open quote.",Kt(e,o));let d=l.value;if(o=l.index,d[d.length-1]==="/"){const m=o-d.length;d=d.substring(0,d.length-1);const h=mm(d,n);if(h===!0)s=!0;else return rt(h.err.code,h.err.msg,Kt(e,m+h.err.line))}else if(a)if(l.tagClosed){if(d.trim().length>0)return rt("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Kt(e,i));if(t.length===0)return rt("InvalidTag","Closing tag '"+c+"' has not been opened.",Kt(e,i));{const m=t.pop();if(c!==m.tagName){let h=Kt(e,m.tagStartPos);return rt("InvalidTag","Expected closing tag '"+m.tagName+"' (opened in line "+h.line+", col "+h.col+") instead of closing tag '"+c+"'.",Kt(e,i))}t.length==0&&(r=!0)}}else return rt("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Kt(e,o));else{const m=mm(d,n);if(m!==!0)return rt(m.err.code,m.err.msg,Kt(e,o-d.length+m.err.line));if(r===!0)return rt("InvalidXml","Multiple possible root nodes found.",Kt(e,o));n.unpairedTags.indexOf(c)!==-1||t.push({tagName:c,tagStartPos:i}),s=!0}for(o++;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="!"){o++,o=fm(e,o);continue}else if(e[o+1]==="?"){if(o=um(e,++o),o.err)return o}else break;else if(e[o]==="&"){const m=Mx(e,o);if(m==-1)return rt("InvalidChar","char '&' is not expected.",Kt(e,o));o=m}else if(r===!0&&!dm(e[o]))return rt("InvalidXml","Extra text at the end",Kt(e,o));e[o]==="<"&&o--}}else{if(dm(e[o]))continue;return rt("InvalidChar","char '"+e[o]+"' is not expected.",Kt(e,o))}if(s){if(t.length==1)return rt("InvalidTag","Unclosed tag '"+t[0].tagName+"'.",Kt(e,t[0].tagStartPos));if(t.length>0)return rt("InvalidXml","Invalid '"+JSON.stringify(t.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return rt("InvalidXml","Start tag expected.",1);return!0};function dm(e){return e===" "||e==="	"||e===`
`||e==="\r"}function um(e,n){const t=n;for(;n<e.length;n++)if(e[n]=="?"||e[n]==" "){const s=e.substr(t,n-t);if(n>5&&s==="xml")return rt("InvalidXml","XML declaration allowed only at the start of the document.",Kt(e,n));if(e[n]=="?"&&e[n+1]==">"){n++;break}else continue}return n}function fm(e,n){if(e.length>n+5&&e[n+1]==="-"&&e[n+2]==="-"){for(n+=3;n<e.length;n++)if(e[n]==="-"&&e[n+1]==="-"&&e[n+2]===">"){n+=2;break}}else if(e.length>n+8&&e[n+1]==="D"&&e[n+2]==="O"&&e[n+3]==="C"&&e[n+4]==="T"&&e[n+5]==="Y"&&e[n+6]==="P"&&e[n+7]==="E"){let t=1;for(n+=8;n<e.length;n++)if(e[n]==="<")t++;else if(e[n]===">"&&(t--,t===0))break}else if(e.length>n+9&&e[n+1]==="["&&e[n+2]==="C"&&e[n+3]==="D"&&e[n+4]==="A"&&e[n+5]==="T"&&e[n+6]==="A"&&e[n+7]==="["){for(n+=8;n<e.length;n++)if(e[n]==="]"&&e[n+1]==="]"&&e[n+2]===">"){n+=2;break}}return n}const Px='"',Rx="'";function Tx(e,n){let t="",s="",r=!1;for(;n<e.length;n++){if(e[n]===Px||e[n]===Rx)s===""?s=e[n]:s!==e[n]||(s="");else if(e[n]===">"&&s===""){r=!0;break}t+=e[n]}return s!==""?!1:{value:t,index:n,tagClosed:r}}const Ix=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function mm(e,n){const t=Au.getAllMatches(e,Ix),s={};for(let r=0;r<t.length;r++){if(t[r][1].length===0)return rt("InvalidAttr","Attribute '"+t[r][2]+"' has no space in starting.",ui(t[r]));if(t[r][3]!==void 0&&t[r][4]===void 0)return rt("InvalidAttr","Attribute '"+t[r][2]+"' is without value.",ui(t[r]));if(t[r][3]===void 0&&!n.allowBooleanAttributes)return rt("InvalidAttr","boolean attribute '"+t[r][2]+"' is not allowed.",ui(t[r]));const o=t[r][2];if(!Nx(o))return rt("InvalidAttr","Attribute '"+o+"' is an invalid name.",ui(t[r]));if(!s.hasOwnProperty(o))s[o]=1;else return rt("InvalidAttr","Attribute '"+o+"' is repeated.",ui(t[r]))}return!0}function Ox(e,n){let t=/\d/;for(e[n]==="x"&&(n++,t=/[\da-fA-F]/);n<e.length;n++){if(e[n]===";")return n;if(!e[n].match(t))break}return-1}function Mx(e,n){if(n++,e[n]===";")return-1;if(e[n]==="#")return n++,Ox(e,n);let t=0;for(;n<e.length;n++,t++)if(!(e[n].match(/\w/)&&t<20)){if(e[n]===";")break;return-1}return n}function rt(e,n,t){return{err:{code:e,msg:n,line:t.line||t,col:t.col}}}function Nx(e){return Au.isName(e)}function Dx(e){return Au.isName(e)}function Kt(e,n){const t=e.substring(0,n).split(/\r?\n/);return{line:t.length,col:t[t.length-1].length+1}}function ui(e){return e.startIndex+e[1].length}var Bu={};const Jy={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,n){return n},attributeValueProcessor:function(e,n){return n},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,n,t){return e}},Fx=function(e){return Object.assign({},Jy,e)};Bu.buildOptions=Fx;Bu.defaultOptions=Jy;let Lx=class{constructor(n){this.tagname=n,this.child=[],this[":@"]={}}add(n,t){n==="__proto__"&&(n="#__proto__"),this.child.push({[n]:t})}addChild(n){n.tagname==="__proto__"&&(n.tagname="#__proto__"),n[":@"]&&Object.keys(n[":@"]).length>0?this.child.push({[n.tagname]:n.child,":@":n[":@"]}):this.child.push({[n.tagname]:n.child})}};var Ux=Lx;const zx=Bc;function $x(e,n){const t={};if(e[n+3]==="O"&&e[n+4]==="C"&&e[n+5]==="T"&&e[n+6]==="Y"&&e[n+7]==="P"&&e[n+8]==="E"){n=n+9;let s=1,r=!1,o=!1,i="";for(;n<e.length;n++)if(e[n]==="<"&&!o){if(r&&Kx(e,n))n+=7,[entityName,val,n]=qx(e,n+1),val.indexOf("&")===-1&&(t[Wx(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(r&&Hx(e,n))n+=8;else if(r&&Gx(e,n))n+=8;else if(r&&Vx(e,n))n+=9;else if(jx)o=!0;else throw new Error("Invalid DOCTYPE");s++,i=""}else if(e[n]===">"){if(o?e[n-1]==="-"&&e[n-2]==="-"&&(o=!1,s--):s--,s===0)break}else e[n]==="["?r=!0:i+=e[n];if(s!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:t,i:n}}function qx(e,n){let t="";for(;n<e.length&&e[n]!=="'"&&e[n]!=='"';n++)t+=e[n];if(t=t.trim(),t.indexOf(" ")!==-1)throw new Error("External entites are not supported");const s=e[n++];let r="";for(;n<e.length&&e[n]!==s;n++)r+=e[n];return[t,r,n]}function jx(e,n){return e[n+1]==="!"&&e[n+2]==="-"&&e[n+3]==="-"}function Kx(e,n){return e[n+1]==="!"&&e[n+2]==="E"&&e[n+3]==="N"&&e[n+4]==="T"&&e[n+5]==="I"&&e[n+6]==="T"&&e[n+7]==="Y"}function Hx(e,n){return e[n+1]==="!"&&e[n+2]==="E"&&e[n+3]==="L"&&e[n+4]==="E"&&e[n+5]==="M"&&e[n+6]==="E"&&e[n+7]==="N"&&e[n+8]==="T"}function Gx(e,n){return e[n+1]==="!"&&e[n+2]==="A"&&e[n+3]==="T"&&e[n+4]==="T"&&e[n+5]==="L"&&e[n+6]==="I"&&e[n+7]==="S"&&e[n+8]==="T"}function Vx(e,n){return e[n+1]==="!"&&e[n+2]==="N"&&e[n+3]==="O"&&e[n+4]==="T"&&e[n+5]==="A"&&e[n+6]==="T"&&e[n+7]==="I"&&e[n+8]==="O"&&e[n+9]==="N"}function Wx(e){if(zx.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}var Xx=$x;const Qx=/^[-+]?0x[a-fA-F0-9]+$/,Zx=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,Yx={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function Jx(e,n={}){if(n=Object.assign({},Yx,n),!e||typeof e!="string")return e;let t=e.trim();if(n.skipLike!==void 0&&n.skipLike.test(t))return e;if(e==="0")return 0;if(n.hex&&Qx.test(t))return tS(t,16);if(t.search(/[eE]/)!==-1){const s=t.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(s){if(n.leadingZeros)t=(s[1]||"")+s[3];else if(!(s[2]==="0"&&s[3][0]==="."))return e;return n.eNotation?Number(t):e}else return e}else{const s=Zx.exec(t);if(s){const r=s[1],o=s[2];let i=eS(s[3]);if(!n.leadingZeros&&o.length>0&&r&&t[2]!==".")return e;if(!n.leadingZeros&&o.length>0&&!r&&t[1]!==".")return e;if(n.leadingZeros&&o===e)return 0;{const a=Number(t),c=""+a;return c.search(/[eE]/)!==-1?n.eNotation?a:e:t.indexOf(".")!==-1?c==="0"&&i===""||c===i||r&&c==="-"+i?a:e:o?i===c||r+i===c?a:e:t===c||t===r+c?a:e}}else return e}}function eS(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}function tS(e,n){if(parseInt)return parseInt(e,n);if(Number.parseInt)return Number.parseInt(e,n);if(window&&window.parseInt)return window.parseInt(e,n);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}var nS=Jx;const eg=Bc,fi=Ux,sS=Xx,rS=nS;let oS=class{constructor(n){this.options=n,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(t,s)=>String.fromCharCode(Number.parseInt(s,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(t,s)=>String.fromCharCode(Number.parseInt(s,16))}},this.addExternalEntities=iS,this.parseXml=uS,this.parseTextData=aS,this.resolveNameSpace=cS,this.buildAttributesMap=dS,this.isItStopNode=yS,this.replaceEntitiesValue=mS,this.readStopNodeData=bS,this.saveTextToParentTag=hS,this.addChild=fS}};function iS(e){const n=Object.keys(e);for(let t=0;t<n.length;t++){const s=n[t];this.lastEntities[s]={regex:new RegExp("&"+s+";","g"),val:e[s]}}}function aS(e,n,t,s,r,o,i){if(e!==void 0&&(this.options.trimValues&&!s&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));const a=this.options.tagValueProcessor(n,e,t,r,o);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?hd(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?hd(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function cS(e){if(this.options.removeNSPrefix){const n=e.split(":"),t=e.charAt(0)==="/"?"/":"";if(n[0]==="xmlns")return"";n.length===2&&(e=t+n[1])}return e}const lS=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function dS(e,n,t){if(!this.options.ignoreAttributes&&typeof e=="string"){const s=eg.getAllMatches(e,lS),r=s.length,o={};for(let i=0;i<r;i++){const a=this.resolveNameSpace(s[i][1]);let c=s[i][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);const d=this.options.attributeValueProcessor(a,c,n);d==null?o[l]=c:typeof d!=typeof c||d!==c?o[l]=d:o[l]=hd(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[l]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){const i={};return i[this.options.attributesGroupName]=o,i}return o}}const uS=function(e){e=e.replace(/\r\n?/g,`
`);const n=new fi("!xml");let t=n,s="",r="";for(let o=0;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="/"){const a=vs(e,">",o,"Closing Tag is not closed.");let c=e.substring(o+2,a).trim();if(this.options.removeNSPrefix){const m=c.indexOf(":");m!==-1&&(c=c.substr(m+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),t&&(s=this.saveTextToParentTag(s,t,r));const l=r.substring(r.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let d=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(d=r.lastIndexOf(".",r.lastIndexOf(".")-1),this.tagsNodeStack.pop()):d=r.lastIndexOf("."),r=r.substring(0,d),t=this.tagsNodeStack.pop(),s="",o=a}else if(e[o+1]==="?"){let a=md(e,o,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(s=this.saveTextToParentTag(s,t,r),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){const c=new fi(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,r,a.tagName)),this.addChild(t,c,r)}o=a.closeIndex+1}else if(e.substr(o+1,3)==="!--"){const a=vs(e,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){const c=e.substring(o+4,a-2);s=this.saveTextToParentTag(s,t,r),t.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}o=a}else if(e.substr(o+1,2)==="!D"){const a=sS(e,o);this.docTypeEntities=a.entities,o=a.i}else if(e.substr(o+1,2)==="!["){const a=vs(e,"]]>",o,"CDATA is not closed.")-2,c=e.substring(o+9,a);s=this.saveTextToParentTag(s,t,r);let l=this.parseTextData(c,t.tagname,r,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?t.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):t.add(this.options.textNodeName,l),o=a+2}else{let a=md(e,o,this.options.removeNSPrefix),c=a.tagName;const l=a.rawTagName;let d=a.tagExp,m=a.attrExpPresent,h=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),t&&s&&t.tagname!=="!xml"&&(s=this.saveTextToParentTag(s,t,r,!1));const C=t;if(C&&this.options.unpairedTags.indexOf(C.tagname)!==-1&&(t=this.tagsNodeStack.pop(),r=r.substring(0,r.lastIndexOf("."))),c!==n.tagname&&(r+=r?"."+c:c),this.isItStopNode(this.options.stopNodes,r,c)){let E="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),r=r.substr(0,r.length-1),d=c):d=d.substr(0,d.length-1),o=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)o=a.closeIndex;else{const w=this.readStopNodeData(e,l,h+1);if(!w)throw new Error(`Unexpected end of ${l}`);o=w.i,E=w.tagContent}const v=new fi(c);c!==d&&m&&(v[":@"]=this.buildAttributesMap(d,r,c)),E&&(E=this.parseTextData(E,c,r,!0,m,!0,!0)),r=r.substr(0,r.lastIndexOf(".")),v.add(this.options.textNodeName,E),this.addChild(t,v,r)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),r=r.substr(0,r.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));const E=new fi(c);c!==d&&m&&(E[":@"]=this.buildAttributesMap(d,r,c)),this.addChild(t,E,r),r=r.substr(0,r.lastIndexOf("."))}else{const E=new fi(c);this.tagsNodeStack.push(t),c!==d&&m&&(E[":@"]=this.buildAttributesMap(d,r,c)),this.addChild(t,E,r),t=E}s="",o=h}}else s+=e[o];return n.child};function fS(e,n,t){const s=this.options.updateTag(n.tagname,t,n[":@"]);s===!1||(typeof s=="string"&&(n.tagname=s),e.addChild(n))}const mS=function(e){if(this.options.processEntities){for(let n in this.docTypeEntities){const t=this.docTypeEntities[n];e=e.replace(t.regx,t.val)}for(let n in this.lastEntities){const t=this.lastEntities[n];e=e.replace(t.regex,t.val)}if(this.options.htmlEntities)for(let n in this.htmlEntities){const t=this.htmlEntities[n];e=e.replace(t.regex,t.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function hS(e,n,t,s){return e&&(s===void 0&&(s=Object.keys(n.child).length===0),e=this.parseTextData(e,n.tagname,t,!1,n[":@"]?Object.keys(n[":@"]).length!==0:!1,s),e!==void 0&&e!==""&&n.add(this.options.textNodeName,e),e=""),e}function yS(e,n,t){const s="*."+t;for(const r in e){const o=e[r];if(s===o||n===o)return!0}return!1}function gS(e,n,t=">"){let s,r="";for(let o=n;o<e.length;o++){let i=e[o];if(s)i===s&&(s="");else if(i==='"'||i==="'")s=i;else if(i===t[0])if(t[1]){if(e[o+1]===t[1])return{data:r,index:o}}else return{data:r,index:o};else i==="	"&&(i=" ");r+=i}}function vs(e,n,t,s){const r=e.indexOf(n,t);if(r===-1)throw new Error(s);return r+n.length-1}function md(e,n,t,s=">"){const r=gS(e,n+1,s);if(!r)return;let o=r.data;const i=r.index,a=o.search(/\s/);let c=o,l=!0;a!==-1&&(c=o.substring(0,a),o=o.substring(a+1).trimStart());const d=c;if(t){const m=c.indexOf(":");m!==-1&&(c=c.substr(m+1),l=c!==r.data.substr(m+1))}return{tagName:c,tagExp:o,closeIndex:i,attrExpPresent:l,rawTagName:d}}function bS(e,n,t){const s=t;let r=1;for(;t<e.length;t++)if(e[t]==="<")if(e[t+1]==="/"){const o=vs(e,">",t,`${n} is not closed`);if(e.substring(t+2,o).trim()===n&&(r--,r===0))return{tagContent:e.substring(s,t),i:o};t=o}else if(e[t+1]==="?")t=vs(e,"?>",t+1,"StopNode is not closed.");else if(e.substr(t+1,3)==="!--")t=vs(e,"-->",t+3,"StopNode is not closed.");else if(e.substr(t+1,2)==="![")t=vs(e,"]]>",t,"StopNode is not closed.")-2;else{const o=md(e,t,">");o&&((o&&o.tagName)===n&&o.tagExp[o.tagExp.length-1]!=="/"&&r++,t=o.closeIndex)}}function hd(e,n,t){if(n&&typeof e=="string"){const s=e.trim();return s==="true"?!0:s==="false"?!1:rS(e,t)}else return eg.isExist(e)?e:""}var CS=oS,tg={};function pS(e,n){return ng(e,n)}function ng(e,n,t){let s;const r={};for(let o=0;o<e.length;o++){const i=e[o],a=xS(i);let c="";if(t===void 0?c=a:c=t+"."+a,a===n.textNodeName)s===void 0?s=i[a]:s+=""+i[a];else{if(a===void 0)continue;if(i[a]){let l=ng(i[a],n,c);const d=ES(l,n);i[":@"]?SS(l,i[":@"],c,n):Object.keys(l).length===1&&l[n.textNodeName]!==void 0&&!n.alwaysCreateTextNode?l=l[n.textNodeName]:Object.keys(l).length===0&&(n.alwaysCreateTextNode?l[n.textNodeName]="":l=""),r[a]!==void 0&&r.hasOwnProperty(a)?(Array.isArray(r[a])||(r[a]=[r[a]]),r[a].push(l)):n.isArray(a,c,d)?r[a]=[l]:r[a]=l}}}return typeof s=="string"?s.length>0&&(r[n.textNodeName]=s):s!==void 0&&(r[n.textNodeName]=s),r}function xS(e){const n=Object.keys(e);for(let t=0;t<n.length;t++){const s=n[t];if(s!==":@")return s}}function SS(e,n,t,s){if(n){const r=Object.keys(n),o=r.length;for(let i=0;i<o;i++){const a=r[i];s.isArray(a,t+"."+a,!0,!0)?e[a]=[n[a]]:e[a]=n[a]}}}function ES(e,n){const{textNodeName:t}=n,s=Object.keys(e).length;return!!(s===0||s===1&&(e[t]||typeof e[t]=="boolean"||e[t]===0))}tg.prettify=pS;const{buildOptions:wS}=Bu,kS=CS,{prettify:_S}=tg,AS=_u;let BS=class{constructor(n){this.externalEntities={},this.options=wS(n)}parse(n,t){if(typeof n!="string")if(n.toString)n=n.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(t){t===!0&&(t={});const o=AS.validate(n,t);if(o!==!0)throw Error(`${o.err.msg}:${o.err.line}:${o.err.col}`)}const s=new kS(this.options);s.addExternalEntities(this.externalEntities);const r=s.parseXml(n);return this.options.preserveOrder||r===void 0?r:_S(r,this.options)}addEntity(n,t){if(t.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(n.indexOf("&")!==-1||n.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(t==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[n]=t}};var vS=BS;const PS=`
`;function RS(e,n){let t="";return n.format&&n.indentBy.length>0&&(t=PS),sg(e,n,"",t)}function sg(e,n,t,s){let r="",o=!1;for(let i=0;i<e.length;i++){const a=e[i],c=TS(a);if(c===void 0)continue;let l="";if(t.length===0?l=c:l=`${t}.${c}`,c===n.textNodeName){let E=a[c];IS(l,n)||(E=n.tagValueProcessor(c,E),E=rg(E,n)),o&&(r+=s),r+=E,o=!1;continue}else if(c===n.cdataPropName){o&&(r+=s),r+=`<![CDATA[${a[c][0][n.textNodeName]}]]>`,o=!1;continue}else if(c===n.commentPropName){r+=s+`<!--${a[c][0][n.textNodeName]}-->`,o=!0;continue}else if(c[0]==="?"){const E=hm(a[":@"],n),v=c==="?xml"?"":s;let w=a[c][0][n.textNodeName];w=w.length!==0?" "+w:"",r+=v+`<${c}${w}${E}?>`,o=!0;continue}let d=s;d!==""&&(d+=n.indentBy);const m=hm(a[":@"],n),h=s+`<${c}${m}`,C=sg(a[c],n,l,d);n.unpairedTags.indexOf(c)!==-1?n.suppressUnpairedNode?r+=h+">":r+=h+"/>":(!C||C.length===0)&&n.suppressEmptyNode?r+=h+"/>":C&&C.endsWith(">")?r+=h+`>${C}${s}</${c}>`:(r+=h+">",C&&s!==""&&(C.includes("/>")||C.includes("</"))?r+=s+n.indentBy+C+s:r+=C,r+=`</${c}>`),o=!0}return r}function TS(e){const n=Object.keys(e);for(let t=0;t<n.length;t++){const s=n[t];if(e.hasOwnProperty(s)&&s!==":@")return s}}function hm(e,n){let t="";if(e&&!n.ignoreAttributes)for(let s in e){if(!e.hasOwnProperty(s))continue;let r=n.attributeValueProcessor(s,e[s]);r=rg(r,n),r===!0&&n.suppressBooleanAttributes?t+=` ${s.substr(n.attributeNamePrefix.length)}`:t+=` ${s.substr(n.attributeNamePrefix.length)}="${r}"`}return t}function IS(e,n){e=e.substr(0,e.length-n.textNodeName.length-1);let t=e.substr(e.lastIndexOf(".")+1);for(let s in n.stopNodes)if(n.stopNodes[s]===e||n.stopNodes[s]==="*."+t)return!0;return!1}function rg(e,n){if(e&&e.length>0&&n.processEntities)for(let t=0;t<n.entities.length;t++){const s=n.entities[t];e=e.replace(s.regex,s.val)}return e}var OS=RS;const MS=OS,NS={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,n){return n},attributeValueProcessor:function(e,n){return n},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Ss(e){this.options=Object.assign({},NS,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=LS),this.processTextOrObjNode=DS,this.options.format?(this.indentate=FS,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Ss.prototype.build=function(e){return this.options.preserveOrder?MS(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};Ss.prototype.j2x=function(e,n){let t="",s="";for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r))if(typeof e[r]>"u")this.isAttribute(r)&&(s+="");else if(e[r]===null)this.isAttribute(r)?s+="":r[0]==="?"?s+=this.indentate(n)+"<"+r+"?"+this.tagEndChar:s+=this.indentate(n)+"<"+r+"/"+this.tagEndChar;else if(e[r]instanceof Date)s+=this.buildTextValNode(e[r],r,"",n);else if(typeof e[r]!="object"){const o=this.isAttribute(r);if(o)t+=this.buildAttrPairStr(o,""+e[r]);else if(r===this.options.textNodeName){let i=this.options.tagValueProcessor(r,""+e[r]);s+=this.replaceEntitiesValue(i)}else s+=this.buildTextValNode(e[r],r,"",n)}else if(Array.isArray(e[r])){const o=e[r].length;let i="",a="";for(let c=0;c<o;c++){const l=e[r][c];if(!(typeof l>"u"))if(l===null)r[0]==="?"?s+=this.indentate(n)+"<"+r+"?"+this.tagEndChar:s+=this.indentate(n)+"<"+r+"/"+this.tagEndChar;else if(typeof l=="object")if(this.options.oneListGroup){const d=this.j2x(l,n+1);i+=d.val,this.options.attributesGroupName&&l.hasOwnProperty(this.options.attributesGroupName)&&(a+=d.attrStr)}else i+=this.processTextOrObjNode(l,r,n);else if(this.options.oneListGroup){let d=this.options.tagValueProcessor(r,l);d=this.replaceEntitiesValue(d),i+=d}else i+=this.buildTextValNode(l,r,"",n)}this.options.oneListGroup&&(i=this.buildObjectNode(i,r,a,n)),s+=i}else if(this.options.attributesGroupName&&r===this.options.attributesGroupName){const o=Object.keys(e[r]),i=o.length;for(let a=0;a<i;a++)t+=this.buildAttrPairStr(o[a],""+e[r][o[a]])}else s+=this.processTextOrObjNode(e[r],r,n);return{attrStr:t,val:s}};Ss.prototype.buildAttrPairStr=function(e,n){return n=this.options.attributeValueProcessor(e,""+n),n=this.replaceEntitiesValue(n),this.options.suppressBooleanAttributes&&n==="true"?" "+e:" "+e+'="'+n+'"'};function DS(e,n,t){const s=this.j2x(e,t+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],n,s.attrStr,t):this.buildObjectNode(s.val,n,s.attrStr,t)}Ss.prototype.buildObjectNode=function(e,n,t,s){if(e==="")return n[0]==="?"?this.indentate(s)+"<"+n+t+"?"+this.tagEndChar:this.indentate(s)+"<"+n+t+this.closeTag(n)+this.tagEndChar;{let r="</"+n+this.tagEndChar,o="";return n[0]==="?"&&(o="?",r=""),(t||t==="")&&e.indexOf("<")===-1?this.indentate(s)+"<"+n+t+o+">"+e+r:this.options.commentPropName!==!1&&n===this.options.commentPropName&&o.length===0?this.indentate(s)+`<!--${e}-->`+this.newLine:this.indentate(s)+"<"+n+t+o+this.tagEndChar+e+this.indentate(s)+r}};Ss.prototype.closeTag=function(e){let n="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(n="/"):this.options.suppressEmptyNode?n="/":n=`></${e}`,n};Ss.prototype.buildTextValNode=function(e,n,t,s){if(this.options.cdataPropName!==!1&&n===this.options.cdataPropName)return this.indentate(s)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&n===this.options.commentPropName)return this.indentate(s)+`<!--${e}-->`+this.newLine;if(n[0]==="?")return this.indentate(s)+"<"+n+t+"?"+this.tagEndChar;{let r=this.options.tagValueProcessor(n,e);return r=this.replaceEntitiesValue(r),r===""?this.indentate(s)+"<"+n+t+this.closeTag(n)+this.tagEndChar:this.indentate(s)+"<"+n+t+">"+r+"</"+n+this.tagEndChar}};Ss.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let n=0;n<this.options.entities.length;n++){const t=this.options.entities[n];e=e.replace(t.regex,t.val)}return e};function FS(e){return this.options.indentBy.repeat(e)}function LS(e){return e.startsWith(this.options.attributeNamePrefix)&&e!==this.options.textNodeName?e.substr(this.attrPrefixLen):!1}var US=Ss;const zS=_u,$S=vS,qS=US;var jS={XMLParser:$S,XMLValidator:zS,XMLBuilder:qS};const te=(e,n)=>Bx(e,n).then(t=>{if(t.length){const s=new jS.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});s.addEntity("#xD","\r"),s.addEntity("#10",`
`);let r;try{r=s.parse(t,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:t}),c}const o="#text",i=Object.keys(r)[0],a=r[i];return a[o]&&(a[i]=a[o],delete a[o]),Yy(a)}return{}}),KS=async(e,n)=>{const t=await te(e,n);return t.Error&&(t.Error.message=t.Error.message??t.Error.Message),t},HS=(e,n)=>{var t;if(((t=n==null?void 0:n.Error)==null?void 0:t.Code)!==void 0)return n.Error.Code;if((n==null?void 0:n.Code)!==void 0)return n.Code;if(e.statusCode==404)return"NotFound"},yd=[Ne.CRC32,Ne.CRC32C,Ne.CRC64NVME,Ne.SHA1,Ne.SHA256],GS=[Ne.SHA256,Ne.SHA1,Ne.CRC32,Ne.CRC32C,Ne.CRC64NVME],VS=(e,{requestChecksumRequired:n,requestAlgorithmMember:t,requestChecksumCalculation:s})=>{if(!t)return s===Bo.WHEN_SUPPORTED||n?ad:void 0;if(!e[t])return;const r=e[t];if(!yd.includes(r))throw new Error(`The checksum algorithm "${r}" is not supported by the client. Select one of ${yd}.`);return r},vu=e=>e===Ne.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`,WS=(e,n)=>{const t=e.toLowerCase();for(const s of Object.keys(n))if(t===s.toLowerCase())return!0;return!1},XS=(e,n)=>{const t=e.toLowerCase();for(const s of Object.keys(n))if(s.toLowerCase().startsWith(t))return!0;return!1},og=e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!Vy(e);function Pu(e,n,t,s){function r(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function a(d){try{l(s.next(d))}catch(m){i(m)}}function c(d){try{l(s.throw(d))}catch(m){i(m)}}function l(d){d.done?o(d.value):r(d.value).then(a,c)}l((s=s.apply(e,n||[])).next())})}function Ru(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,r,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(l){return function(d){return c([l,d])}}function c(l){if(s)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(t=0)),t;)try{if(s=1,r&&(o=l[0]&2?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,r=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=n.call(e,t)}catch(d){l=[6,d],r=0}finally{s=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function ig(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],s=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}const ag=e=>new TextEncoder().encode(e);var QS=typeof yi.Buffer<"u"&&yi.Buffer.from?function(e){return yi.Buffer.from(e,"utf8")}:ag;function bs(e){return e instanceof Uint8Array?e:typeof e=="string"?QS(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function vi(e){return typeof e=="string"?e.length===0:e.byteLength===0}function cg(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}function lg(e){if(!Uint32Array.from){for(var n=new Uint32Array(e.length),t=0;t<e.length;)n[t]=e[t],t+=1;return n}return Uint32Array.from(e)}var ZS=function(){function e(){this.crc32c=new ym}return e.prototype.update=function(n){vi(n)||this.crc32c.update(bs(n))},e.prototype.digest=function(){return Pu(this,void 0,void 0,function(){return Ru(this,function(n){return[2,cg(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new ym},e}(),ym=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(n){var t,s;try{for(var r=ig(n),o=r.next();!o.done;o=r.next()){var i=o.value;this.checksum=this.checksum>>>8^JS[(this.checksum^i)&255]}}catch(a){t={error:a}}finally{try{o&&!o.done&&(s=r.return)&&s.call(r)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}(),YS=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],JS=lg(YS),eE=function(){function e(){this.crc32=new sc}return e.prototype.update=function(n){vi(n)||this.crc32.update(bs(n))},e.prototype.digest=function(){return Pu(this,void 0,void 0,function(){return Ru(this,function(n){return[2,cg(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new sc},e}(),sc=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(n){var t,s;try{for(var r=ig(n),o=r.next();!o.done;o=r.next()){var i=o.value;this.checksum=this.checksum>>>8^nE[(this.checksum^i)&255]}}catch(a){t={error:a}}finally{try{o&&!o.done&&(s=r.return)&&s.call(r)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}(),tE=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],nE=lg(tE);const sE=()=>eE,dg=(e,n)=>{switch(e){case Ne.MD5:return n.md5;case Ne.CRC32:return sE();case Ne.CRC32C:return ZS;case Ne.CRC64NVME:throw new Error(`Please check whether you have installed the "@aws-sdk/crc64-nvme-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/crc64-nvme-crt");] or an ESM equivalent such as [import "@aws-sdk/crc64-nvme-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);case Ne.SHA1:return n.sha1;case Ne.SHA256:return n.sha256;default:throw new Error(`Unsupported checksum algorithm: ${e}`)}},ug=(e,n)=>{const t=new e;return t.update(vo(n||"")),t.digest()},rE={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},oE=(e,n)=>(t,s)=>async r=>{if(!ft.isInstance(r.request)||XS("x-amz-checksum-",r.request.headers))return t(r);const{request:o,input:i}=r,{body:a,headers:c}=o,{base64Encoder:l,streamHasher:d}=e,{requestChecksumRequired:m,requestAlgorithmMember:h}=n,C=await e.requestChecksumCalculation(),E=h==null?void 0:h.name,v=h==null?void 0:h.httpHeader;E&&!i[E]&&(C===Bo.WHEN_SUPPORTED||m)&&(i[E]=ad,v&&(c[v]=ad));const w=VS(i,{requestChecksumRequired:m,requestAlgorithmMember:h==null?void 0:h.name,requestChecksumCalculation:C});let $=a,V=c;if(w){switch(w){case Ne.CRC32:dt(s,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case Ne.CRC32C:dt(s,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case Ne.CRC64NVME:dt(s,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W");break;case Ne.SHA1:dt(s,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case Ne.SHA256:dt(s,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}const ae=vu(w),at=dg(w,e);if(og(a)){const{getAwsChunkedEncodingStream:ct,bodyLengthChecker:yn}=e;$=ct(typeof e.requestStreamBufferSize=="number"&&e.requestStreamBufferSize>=8*1024?Q0(a,e.requestStreamBufferSize,s.logger):a,{base64Encoder:l,bodyLengthChecker:yn,checksumLocationName:ae,checksumAlgorithmFn:at,streamHasher:d}),V={...c,"content-encoding":c["content-encoding"]?`${c["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":c["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":ae},delete V["content-length"]}else if(!WS(ae,c)){const ct=await ug(at,a);V={...c,[ae]:l(ct)}}}return await t({...r,request:{...o,headers:V,body:$}})},iE={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},aE=(e,n)=>(t,s)=>async r=>{const o=r.input,{requestValidationModeMember:i}=n,a=await e.requestChecksumCalculation(),c=await e.responseChecksumValidation();switch(a){case Bo.WHEN_REQUIRED:dt(s,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a");break;case Bo.WHEN_SUPPORTED:dt(s,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z");break}switch(c){case Gc.WHEN_REQUIRED:dt(s,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c");break;case Gc.WHEN_SUPPORTED:dt(s,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b");break}return i&&!o[i]&&c===Gc.WHEN_SUPPORTED&&(o[i]="ENABLED"),t(r)},fg=(e=[])=>{const n=[];for(const t of GS)!e.includes(t)||!yd.includes(t)||n.push(t);return n},cE=e=>{const n=e.lastIndexOf("-");if(n!==-1){const t=e.slice(n+1);if(!t.startsWith("0")){const s=parseInt(t,10);if(!isNaN(s)&&s>=1&&s<=1e4)return!0}}return!1},lE=async(e,{checksumAlgorithmFn:n,base64Encoder:t})=>t(await ug(n,e)),dE=async(e,{config:n,responseAlgorithms:t,logger:s})=>{const r=fg(t),{body:o,headers:i}=e;for(const a of r){const c=vu(a),l=i[c];if(l){let d;try{d=dg(a,n)}catch(C){if(a===Ne.CRC64NVME){s==null||s.warn(`Skipping ${Ne.CRC64NVME} checksum validation: ${C.message}`);continue}throw C}const{base64Encoder:m}=n;if(og(o)){e.body=V0({expectedChecksum:l,checksumSourceLocation:c,checksum:new d,source:o,base64Encoder:m});return}const h=await lE(o,{checksumAlgorithmFn:d,base64Encoder:m});if(h===l)break;throw new Error(`Checksum mismatch: expected "${h}" but received "${l}" in response header "${c}".`)}}},uE={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},fE=(e,n)=>(t,s)=>async r=>{if(!ft.isInstance(r.request))return t(r);const o=r.input,i=await t(r),a=i.response,{requestValidationModeMember:c,responseAlgorithms:l}=n;if(c&&o[c]==="ENABLED"){const{clientName:d,commandName:m}=s;if(d==="S3Client"&&m==="GetObjectCommand"&&fg(l).every(C=>{const E=vu(C),v=a.headers[E];return!v||cE(v)}))return i;await dE(a,{config:e,responseAlgorithms:l,logger:s.logger})}return i},Ge=(e,n)=>({applyToStack:t=>{t.add(oE(e,n),rE),t.addRelativeTo(aE(e,n),iE),t.addRelativeTo(fE(e,n),uE)}}),mE=e=>{const{requestChecksumCalculation:n,responseChecksumValidation:t,requestStreamBufferSize:s}=e;return Object.assign(e,{requestChecksumCalculation:Tn(n??_0),responseChecksumValidation:Tn(t??A0),requestStreamBufferSize:Number(s??0)})};const hE=e=>n=>async t=>{if(!ft.isInstance(t.request))return n(t);const{request:s}=t,{handlerProtocol:r=""}=e.requestHandler.metadata||{};if(r.indexOf("h2")>=0&&!s.headers[":authority"])delete s.headers.host,s.headers[":authority"]=s.hostname+(s.port?":"+s.port:"");else if(!s.headers.host){let o=s.hostname;s.port!=null&&(o+=`:${s.port}`),s.headers.host=o}return n(t)},yE={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},gE=e=>({applyToStack:n=>{n.add(hE(e),yE)}}),bE=()=>(e,n)=>async t=>{var s,r;try{const o=await e(t),{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:l={}}=n,{overrideInputFilterSensitiveLog:d,overrideOutputFilterSensitiveLog:m}=l,h=d??n.inputFilterSensitiveLog,C=m??n.outputFilterSensitiveLog,{$metadata:E,...v}=o.output;return(s=c==null?void 0:c.info)==null||s.call(c,{clientName:i,commandName:a,input:h(t.input),output:C(v),metadata:E}),o}catch(o){const{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:l={}}=n,{overrideInputFilterSensitiveLog:d}=l,m=d??n.inputFilterSensitiveLog;throw(r=c==null?void 0:c.error)==null||r.call(c,{clientName:i,commandName:a,input:m(t.input),error:o,metadata:o.$metadata}),o}},CE={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},pE=e=>({applyToStack:n=>{n.add(bE(),CE)}});var gm={};const el="X-Amzn-Trace-Id",xE="AWS_LAMBDA_FUNCTION_NAME",SE="_X_AMZN_TRACE_ID",EE=e=>n=>async t=>{const{request:s}=t;if(!ft.isInstance(s)||e.runtime!=="node")return n(t);const r=Object.keys(s.headers??{}).find(c=>c.toLowerCase()===el.toLowerCase())??el;if(s.headers.hasOwnProperty(r))return n(t);const o=gm[xE],i=gm[SE],a=c=>typeof c=="string"&&c.length>0;return a(o)&&a(i)&&(s.headers[el]=i),n({...t,request:s})},wE={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},kE=e=>({applyToStack:n=>{n.add(EE(e),wE)}}),_E="content-length",AE="x-amz-decoded-content-length";function BE(){return(e,n)=>async t=>{var r;const{request:s}=t;if(ft.isInstance(s)&&!(_E in s.headers)&&!(AE in s.headers)){const o="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof((r=n==null?void 0:n.logger)==null?void 0:r.warn)=="function"&&!(n.logger instanceof ku)?n.logger.warn(o):console.warn(o)}return e({...t})}}const vE={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},PE=e=>({applyToStack:n=>{n.add(BE(),vE)}}),RE=e=>(n,t)=>async s=>{const r=await e.region(),o=e.region;let i=()=>{};t.__s3RegionRedirect&&(Object.defineProperty(e,"region",{writable:!1,value:async()=>t.__s3RegionRedirect}),i=()=>Object.defineProperty(e,"region",{writable:!0,value:o}));try{const a=await n(s);if(t.__s3RegionRedirect){i();const c=await e.region();if(r!==c)throw new Error("Region was not restored following S3 region redirect.")}return a}catch(a){throw i(),a}},TE={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function IE(e){return(n,t)=>async s=>{var r,o,i;try{return await n(s)}catch(a){if(e.followRegionRedirects&&(((r=a==null?void 0:a.$metadata)==null?void 0:r.httpStatusCode)===301||((o=a==null?void 0:a.$metadata)==null?void 0:o.httpStatusCode)===400&&(a==null?void 0:a.name)==="IllegalLocationConstraintException")){try{const c=a.$response.headers["x-amz-bucket-region"];(i=t.logger)==null||i.debug(`Redirecting from ${await e.region()} to ${c}`),t.__s3RegionRedirect=c}catch(c){throw new Error("Region redirect failed: "+c)}return n(s)}throw a}}}const OE={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},ME=e=>({applyToStack:n=>{n.add(IE(e),OE),n.addRelativeTo(RE(e),TE)}}),NE=e=>(n,t)=>async s=>{var i;const r=await n(s),{response:o}=r;if(Ao.isInstance(o)&&o.headers.expires){o.headers.expiresstring=o.headers.expires;try{gs(o.headers.expires)}catch(a){(i=t.logger)==null||i.warn(`AWS SDK Warning for ${t.clientName}::${t.commandName} response parsing (${o.headers.expires}): ${a}`),delete o.headers.expires}}return r},DE={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"},mg=e=>({applyToStack:n=>{n.addRelativeTo(NE(),DE)}}),wc=class wc{constructor(n={}){W(this,"data");W(this,"lastPurgeTime",Date.now());this.data=n}get(n){const t=this.data[n];if(t)return t}set(n,t){return this.data[n]=t,t}delete(n){delete this.data[n]}async purgeExpired(){const n=Date.now();if(!(this.lastPurgeTime+wc.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>n))for(const t in this.data){const s=this.data[t];if(!s.isRefreshing){const r=await s.identity;r.expiration&&r.expiration.getTime()<n&&delete this.data[t]}}}};W(wc,"EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS",3e4);let gd=wc;class tl{constructor(n,t=!1,s=Date.now()){W(this,"_identity");W(this,"isRefreshing");W(this,"accessed");this._identity=n,this.isRefreshing=t,this.accessed=s}get identity(){return this.accessed=Date.now(),this._identity}}const kc=class kc{constructor(n,t=new gd){W(this,"createSessionFn");W(this,"cache");this.createSessionFn=n,this.cache=t}async getS3ExpressIdentity(n,t){const s=t.Bucket,{cache:r}=this,o=r.get(s);return o?o.identity.then(i=>{var l,d;return(((l=i.expiration)==null?void 0:l.getTime())??0)<Date.now()?r.set(s,new tl(this.getIdentity(s))).identity:((((d=i.expiration)==null?void 0:d.getTime())??0)<Date.now()+kc.REFRESH_WINDOW_MS&&!o.isRefreshing&&(o.isRefreshing=!0,this.getIdentity(s).then(m=>{r.set(s,new tl(Promise.resolve(m)))})),i)}):r.set(s,new tl(this.getIdentity(s))).identity}async getIdentity(n){var r,o;await this.cache.purgeExpired().catch(i=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+i)});const t=await this.createSessionFn(n);if(!((r=t.Credentials)!=null&&r.AccessKeyId)||!((o=t.Credentials)!=null&&o.SecretAccessKey))throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:t.Credentials.AccessKeyId,secretAccessKey:t.Credentials.SecretAccessKey,sessionToken:t.Credentials.SessionToken,expiration:t.Credentials.Expiration?new Date(t.Credentials.Expiration):void 0}}};W(kc,"REFRESH_WINDOW_MS",6e4);let bd=kc;var bm;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(bm||(bm={}));const FE="Directory",LE="S3Express",UE="sigv4-s3express",Cd="X-Amz-S3session-Token",pd=Cd.toLowerCase();class zE extends ud{async signWithCredentials(n,t,s){const r=Cm(t);n.headers[pd]=t.sessionToken;const o=this;return pm(o,r),o.signRequest(n,s??{})}async presignWithCredentials(n,t,s){const r=Cm(t);return delete n.headers[pd],n.headers[Cd]=t.sessionToken,n.query=n.query??{},n.query[Cd]=t.sessionToken,pm(this,r),this.presign(n,s)}}function Cm(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}function pm(e,n){const t=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),s=e.credentialProvider,r=()=>(clearTimeout(t),e.credentialProvider=s,Promise.resolve(n));e.credentialProvider=r}const $E=e=>(n,t)=>async s=>{var r,o,i,a,c;if(t.endpointV2){const l=t.endpointV2,d=((i=(o=(r=l.properties)==null?void 0:r.authSchemes)==null?void 0:o[0])==null?void 0:i.name)===UE;if((((a=l.properties)==null?void 0:a.backend)===LE||((c=l.properties)==null?void 0:c.bucketType)===FE)&&(dt(t,"S3_EXPRESS_BUCKET","J"),t.isS3ExpressBucket=!0),d){const h=s.input.Bucket;if(h){const C=await e.s3ExpressIdentityProvider.getS3ExpressIdentity(await e.credentials(),{Bucket:h});t.s3ExpressIdentity=C,ft.isInstance(s.request)&&C.sessionToken&&(s.request.headers[pd]=C.sessionToken)}}}return n(s)},qE={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},jE=e=>({applyToStack:n=>{n.add($E(e),qE)}}),KE=async(e,n,t,s)=>{const r=await s.signWithCredentials(t,e,{});if(r.headers["X-Amz-Security-Token"]||r.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return r},HE=e=>n=>{throw n},GE=(e,n)=>{},VE=e=>(n,t)=>async s=>{if(!ft.isInstance(s.request))return n(s);const o=No(t).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=o;let l;t.s3ExpressIdentity?l=await KE(t.s3ExpressIdentity,i,s.request,await e.signer()):l=await c.sign(s.request,a,i);const d=await n({...s,request:l}).catch((c.errorHandler||HE)(i));return(c.successHandler||GE)(d.response,i),d},WE=e=>({applyToStack:n=>{n.addRelativeTo(VE(e),Dy)}}),XE=(e,{session:n})=>{const[t,s]=n,{forcePathStyle:r,useAccelerateEndpoint:o,disableMultiregionAccessPoints:i,followRegionRedirects:a,s3ExpressIdentityProvider:c,bucketEndpoint:l}=e;return Object.assign(e,{forcePathStyle:r??!1,useAccelerateEndpoint:o??!1,disableMultiregionAccessPoints:i??!1,followRegionRedirects:a??!1,s3ExpressIdentityProvider:c??new bd(async d=>t().send(new s({Bucket:d}))),bucketEndpoint:l??!1})},QE={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},ZE=3e3,YE=e=>(n,t)=>async s=>{const r=await n(s),{response:o}=r;if(!Ao.isInstance(o))return r;const{statusCode:i,body:a}=o;if(i<200||i>=300||!(typeof(a==null?void 0:a.stream)=="function"||typeof(a==null?void 0:a.pipe)=="function"||typeof(a==null?void 0:a.tee)=="function"))return r;let l=a,d=a;a&&typeof a=="object"&&!(a instanceof Uint8Array)&&([l,d]=await cp(a)),o.body=d;const m=await JE(l,{streamCollector:async C=>ep(C,ZE)});typeof(l==null?void 0:l.destroy)=="function"&&l.destroy();const h=e.utf8Encoder(m.subarray(m.length-16));if(m.length===0&&QE[t.commandName]){const C=new Error("S3 aborted request");throw C.name="InternalError",C}return h&&h.endsWith("</Error>")&&(o.statusCode=400),r},JE=(e=new Uint8Array,n)=>e instanceof Uint8Array?Promise.resolve(e):n.streamCollector(e)||Promise.resolve(new Uint8Array),ew={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},Q=e=>({applyToStack:n=>{n.addRelativeTo(YE(e),ew)}}),tw=e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6;function nw(e){return(n,t)=>async s=>{var r,o,i,a;if(e.bucketEndpoint){const c=t.endpointV2;if(c){const l=s.input.Bucket;if(typeof l=="string")try{const d=new URL(l);t.endpointV2={...c,url:d}}catch(d){const m=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${l} could not be parsed as URL.`;throw((o=(r=t.logger)==null?void 0:r.constructor)==null?void 0:o.name)==="NoOpLogger"?console.warn(m):(a=(i=t.logger)==null?void 0:i.warn)==null||a.call(i,m),d}}}return n(s)}}const sw={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function rw({bucketEndpoint:e}){return n=>async t=>{const{input:{Bucket:s}}=t;if(!e&&typeof s=="string"&&!tw(s)&&s.indexOf("/")>=0){const r=new Error(`Bucket name shouldn't contain '/', received '${s}'`);throw r.name="InvalidBucketName",r}return n({...t})}}const ow={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},iw=e=>({applyToStack:n=>{n.add(rw(e),ow),n.addRelativeTo(nw(e),sw)}}),aw=void 0;function cw(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function lw(e){const n=Kr(e.userAgentAppId??aw),{customUserAgent:t}=e;return Object.assign(e,{customUserAgent:typeof t=="string"?[[t]]:t,userAgentAppId:async()=>{var r,o;const s=await n();if(!cw(s)){const i=((o=(r=e.logger)==null?void 0:r.constructor)==null?void 0:o.name)==="NoOpLogger"||!e.logger?console:e.logger;typeof s!="string"?i==null||i.warn("userAgentAppId must be a string or undefined."):s.length>50&&(i==null||i.warn("The provided userAgentAppId exceeds the maximum length of 50 characters."))}return s}})}class dw{constructor({size:n,params:t}){this.data=new Map,this.parameters=[],this.capacity=n??50,t&&(this.parameters=t)}get(n,t){const s=this.hash(n);if(s===!1)return t();if(!this.data.has(s)){if(this.data.size>this.capacity+10){const r=this.data.keys();let o=0;for(;;){const{value:i,done:a}=r.next();if(this.data.delete(i),a||++o>10)break}}this.data.set(s,t())}return this.data.get(s)}size(){return this.data.size}hash(n){let t="";const{parameters:s}=this;if(s.length===0)return!1;for(const r of s){const o=String(n[r]??"");if(o.includes("|;"))return!1;t+=o+"|;"}return t}}const uw=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),hg=e=>uw.test(e)||e.startsWith("[")&&e.endsWith("]"),fw=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Tu=(e,n=!1)=>{if(!n)return fw.test(e);const t=e.split(".");for(const s of t)if(!Tu(s))return!1;return!0},rc={},Pi="endpoints";function Cs(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Cs(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Cs).join(", ")})`:JSON.stringify(e,null,2)}class fn extends Error{constructor(n){super(n),this.name="EndpointError"}}const mw=(e,n)=>e===n,hw=e=>{const n=e.split("."),t=[];for(const s of n){const r=s.indexOf("[");if(r!==-1){if(s.indexOf("]")!==s.length-1)throw new fn(`Path: '${e}' does not end with ']'`);const o=s.slice(r+1,-1);if(Number.isNaN(parseInt(o)))throw new fn(`Invalid array index: '${o}' in path: '${e}'`);r!==0&&t.push(s.slice(0,r)),t.push(o)}else t.push(s)}return t},yg=(e,n)=>hw(n).reduce((t,s)=>{if(typeof t!="object")throw new fn(`Index '${s}' in '${n}' not found in '${JSON.stringify(e)}'`);return Array.isArray(t)?t[parseInt(s)]:t[s]},e),yw=e=>e!=null,gw=e=>!e,nl={[Ai.HTTP]:80,[Ai.HTTPS]:443},bw=e=>{const n=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){const{hostname:h,port:C,protocol:E="",path:v="",query:w={}}=e,$=new URL(`${E}//${h}${C?`:${C}`:""}${v}`);return $.search=Object.entries(w).map(([V,ne])=>`${V}=${ne}`).join("&"),$}return new URL(e)}catch{return null}})();if(!n)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const t=n.href,{host:s,hostname:r,pathname:o,protocol:i,search:a}=n;if(a)return null;const c=i.slice(0,-1);if(!Object.values(Ai).includes(c))return null;const l=hg(r),d=t.includes(`${s}:${nl[c]}`)||typeof e=="string"&&e.includes(`${s}:${nl[c]}`),m=`${s}${d?`:${nl[c]}`:""}`;return{scheme:c,authority:m,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:l}},Cw=(e,n)=>e===n,pw=(e,n,t,s)=>n>=t||e.length<t?null:s?e.substring(e.length-t,e.length-n):e.substring(n,t),xw=e=>encodeURIComponent(e).replace(/[!*'()]/g,n=>`%${n.charCodeAt(0).toString(16).toUpperCase()}`),Sw={booleanEquals:mw,getAttr:yg,isSet:yw,isValidHostLabel:Tu,not:gw,parseURL:bw,stringEquals:Cw,substring:pw,uriEncode:xw},gg=(e,n)=>{const t=[],s={...n.endpointParams,...n.referenceRecord};let r=0;for(;r<e.length;){const o=e.indexOf("{",r);if(o===-1){t.push(e.slice(r));break}t.push(e.slice(r,o));const i=e.indexOf("}",o);if(i===-1){t.push(e.slice(o));break}e[o+1]==="{"&&e[i+1]==="}"&&(t.push(e.slice(o+1,i)),r=i+2);const a=e.substring(o+1,i);if(a.includes("#")){const[c,l]=a.split("#");t.push(yg(s[c],l))}else t.push(s[a]);r=i+1}return t.join("")},Ew=({ref:e},n)=>({...n.endpointParams,...n.referenceRecord})[e],vc=(e,n,t)=>{if(typeof e=="string")return gg(e,t);if(e.fn)return bg(e,t);if(e.ref)return Ew(e,t);throw new fn(`'${n}': ${String(e)} is not a string, function or reference.`)},bg=({fn:e,argv:n},t)=>{const s=n.map(o=>["boolean","number"].includes(typeof o)?o:vc(o,"arg",t)),r=e.split(".");return r[0]in rc&&r[1]!=null?rc[r[0]][r[1]](...s):Sw[e](...s)},ww=({assign:e,...n},t)=>{var r,o;if(e&&e in t.referenceRecord)throw new fn(`'${e}' is already defined in Reference Record.`);const s=bg(n,t);return(o=(r=t.logger)==null?void 0:r.debug)==null||o.call(r,`${Pi} evaluateCondition: ${Cs(n)} = ${Cs(s)}`),{result:s===""?!0:!!s,...e!=null&&{toAssign:{name:e,value:s}}}},Iu=(e=[],n)=>{var s,r;const t={};for(const o of e){const{result:i,toAssign:a}=ww(o,{...n,referenceRecord:{...n.referenceRecord,...t}});if(!i)return{result:i};a&&(t[a.name]=a.value,(r=(s=n.logger)==null?void 0:s.debug)==null||r.call(s,`${Pi} assign: ${a.name} := ${Cs(a.value)}`))}return{result:!0,referenceRecord:t}},kw=(e,n)=>Object.entries(e).reduce((t,[s,r])=>({...t,[s]:r.map(o=>{const i=vc(o,"Header value entry",n);if(typeof i!="string")throw new fn(`Header '${s}' value '${i}' is not a string`);return i})}),{}),Cg=(e,n)=>{if(Array.isArray(e))return e.map(t=>Cg(t,n));switch(typeof e){case"string":return gg(e,n);case"object":if(e===null)throw new fn(`Unexpected endpoint property: ${e}`);return pg(e,n);case"boolean":return e;default:throw new fn(`Unexpected endpoint property type: ${typeof e}`)}},pg=(e,n)=>Object.entries(e).reduce((t,[s,r])=>({...t,[s]:Cg(r,n)}),{}),_w=(e,n)=>{const t=vc(e,"Endpoint URL",n);if(typeof t=="string")try{return new URL(t)}catch(s){throw console.error(`Failed to construct URL with ${t}`,s),s}throw new fn(`Endpoint URL must be a string, got ${typeof t}`)},Aw=(e,n)=>{var d,m;const{conditions:t,endpoint:s}=e,{result:r,referenceRecord:o}=Iu(t,n);if(!r)return;const i={...n,referenceRecord:{...n.referenceRecord,...o}},{url:a,properties:c,headers:l}=s;return(m=(d=n.logger)==null?void 0:d.debug)==null||m.call(d,`${Pi} Resolving endpoint from template: ${Cs(s)}`),{...l!=null&&{headers:kw(l,i)},...c!=null&&{properties:pg(c,i)},url:_w(a,i)}},Bw=(e,n)=>{const{conditions:t,error:s}=e,{result:r,referenceRecord:o}=Iu(t,n);if(r)throw new fn(vc(s,"Error",{...n,referenceRecord:{...n.referenceRecord,...o}}))},vw=(e,n)=>{const{conditions:t,rules:s}=e,{result:r,referenceRecord:o}=Iu(t,n);if(r)return xg(s,{...n,referenceRecord:{...n.referenceRecord,...o}})},xg=(e,n)=>{for(const t of e)if(t.type==="endpoint"){const s=Aw(t,n);if(s)return s}else if(t.type==="error")Bw(t,n);else if(t.type==="tree"){const s=vw(t,n);if(s)return s}else throw new fn(`Unknown endpoint rule: ${t}`);throw new fn("Rules evaluation failed")},Pw=(e,n)=>{var l,d,m,h;const{endpointParams:t,logger:s}=n,{parameters:r,rules:o}=e;(d=(l=n.logger)==null?void 0:l.debug)==null||d.call(l,`${Pi} Initial EndpointParams: ${Cs(t)}`);const i=Object.entries(r).filter(([,C])=>C.default!=null).map(([C,E])=>[C,E.default]);if(i.length>0)for(const[C,E]of i)t[C]=t[C]??E;const a=Object.entries(r).filter(([,C])=>C.required).map(([C])=>C);for(const C of a)if(t[C]==null)throw new fn(`Missing required parameter: '${C}'`);const c=xg(o,{endpointParams:t,logger:s,referenceRecord:{}});return(h=(m=n.logger)==null?void 0:m.debug)==null||h.call(m,`${Pi} Resolved endpoint: ${Cs(c)}`),c},Sg=(e,n=!1)=>{if(n){for(const t of e.split("."))if(!Sg(t))return!1;return!0}return!(!Tu(e)||e.length<3||e.length>63||e!==e.toLowerCase()||hg(e))},xm=":",Rw="/",Tw=e=>{const n=e.split(xm);if(n.length<6)return null;const[t,s,r,o,i,...a]=n;if(t!=="arn"||s===""||r===""||a.join(xm)==="")return null;const c=a.map(l=>l.split(Rw)).flat();return{partition:s,service:r,region:o,accountId:i,resourceId:c}},Iw=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],Ow={partitions:Iw};let Mw=Ow;const Nw=e=>{const{partitions:n}=Mw;for(const s of n){const{regions:r,outputs:o}=s;for(const[i,a]of Object.entries(r))if(i===e)return{...o,...a}}for(const s of n){const{regionRegex:r,outputs:o}=s;if(new RegExp(r).test(e))return{...o}}const t=n.find(s=>s.id==="aws");if(!t)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...t.outputs}},Eg={isVirtualHostableS3Bucket:Sg,parseArn:Tw,partition:Nw};rc.aws=Eg;const Dw=/\d{12}\.ddb/;async function Fw(e,n,t){var o,i,a,c,l,d,m;const s=t.request;if(((o=s==null?void 0:s.headers)==null?void 0:o["smithy-protocol"])==="rpc-v2-cbor"&&dt(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof n.retryStrategy=="function"){const h=await n.retryStrategy();typeof h.acquireInitialRetryToken=="function"?(a=(i=h.constructor)==null?void 0:i.name)!=null&&a.includes("Adaptive")?dt(e,"RETRY_MODE_ADAPTIVE","F"):dt(e,"RETRY_MODE_STANDARD","E"):dt(e,"RETRY_MODE_LEGACY","D")}if(typeof n.accountIdEndpointMode=="function"){const h=e.endpointV2;switch(String((c=h==null?void 0:h.url)==null?void 0:c.hostname).match(Dw)&&dt(e,"ACCOUNT_ID_ENDPOINT","O"),await((l=n.accountIdEndpointMode)==null?void 0:l.call(n))){case"disabled":dt(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":dt(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":dt(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}const r=(m=(d=e.__smithy_context)==null?void 0:d.selectedHttpAuthScheme)==null?void 0:m.identity;if(r!=null&&r.$source){const h=r;h.accountId&&dt(e,"RESOLVED_ACCOUNT_ID","T");for(const[C,E]of Object.entries(h.$source??{}))dt(e,C,E)}}const Sm="user-agent",sl="x-amz-user-agent",Em=" ",rl="/",Lw=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Uw=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,wm="-",zw=1024;function $w(e){let n="";for(const t in e){const s=e[t];if(n.length+s.length+1<=zw){n.length?n+=","+s:n+=s;continue}break}return n}const qw=e=>(n,t)=>async s=>{var C,E,v,w;const{request:r}=s;if(!ft.isInstance(r))return n(s);const{headers:o}=r,i=((C=t==null?void 0:t.userAgent)==null?void 0:C.map(ra))||[],a=(await e.defaultUserAgentProvider()).map(ra);await Fw(t,e,s);const c=t;a.push(`m/${$w(Object.assign({},(E=t.__smithy_context)==null?void 0:E.features,(v=c.__aws_sdk_context)==null?void 0:v.features))}`);const l=((w=e==null?void 0:e.customUserAgent)==null?void 0:w.map(ra))||[],d=await e.userAgentAppId();d&&a.push(ra([`app/${d}`]));const m=[].concat([...a,...i,...l]).join(Em),h=[...a.filter($=>$.startsWith("aws-sdk-")),...l].join(Em);return e.runtime!=="browser"?(h&&(o[sl]=o[sl]?`${o[Sm]} ${h}`:h),o[Sm]=m):o[sl]=m,n({...s,request:r})},ra=e=>{var i;const n=e[0].split(rl).map(a=>a.replace(Lw,wm)).join(rl),t=(i=e[1])==null?void 0:i.replace(Uw,wm),s=n.indexOf(rl),r=n.substring(0,s);let o=n.substring(s+1);return r==="api"&&(o=o.toLowerCase()),[r,o,t].filter(a=>a&&a.length>0).reduce((a,c,l)=>{switch(l){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},jw={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Kw=e=>({applyToStack:n=>{n.add(qw(e),jw)}}),Hw=!1,Gw=!1,wg=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),km=e=>wg(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,Vw=e=>{const{region:n,useFipsEndpoint:t}=e;if(!n)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof n=="string")return km(n);const s=await n();return km(s)},useFipsEndpoint:async()=>{const s=typeof n=="string"?n:await n();return wg(s)?!0:typeof t!="function"?Promise.resolve(!!t):t()}})},Ww=e=>Object.assign(e,{eventStreamMarshaller:e.eventStreamSerdeProvider(e)}),_m="content-length";function Xw(e){return n=>async t=>{const s=t.request;if(ft.isInstance(s)){const{body:r,headers:o}=s;if(r&&Object.keys(o).map(i=>i.toLowerCase()).indexOf(_m)===-1)try{const i=e(r);s.headers={...s.headers,[_m]:String(i)}}catch{}}return n({...t,request:s})}}const Qw={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Zw=e=>({applyToStack:n=>{n.add(Xw(e.bodyLengthChecker),Qw)}}),Yw=async e=>{const n=(e==null?void 0:e.Bucket)||"";if(typeof e.Bucket=="string"&&(e.Bucket=n.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),sk(n)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!nk(n)||n.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||n.toLowerCase()!==n||n.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},Jw=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,ek=/(\d+\.){3}\d+/,tk=/\.\./,nk=e=>Jw.test(e)&&!ek.test(e)&&!tk.test(e),sk=e=>{const[n,t,s,,,r]=e.split(":"),o=n==="arn"&&e.split(":").length>=6,i=!!(o&&t&&s&&r);if(o&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},rk=(e,n,t)=>{const s=async()=>{const r=t[e]??t[n];return typeof r=="function"?r():r};return e==="credentialScope"||n==="CredentialScope"?async()=>{const r=typeof t.credentials=="function"?await t.credentials():t.credentials;return(r==null?void 0:r.credentialScope)??(r==null?void 0:r.CredentialScope)}:e==="accountId"||n==="AccountId"?async()=>{const r=typeof t.credentials=="function"?await t.credentials():t.credentials;return(r==null?void 0:r.accountId)??(r==null?void 0:r.AccountId)}:e==="endpoint"||n==="endpoint"?async()=>{const r=await s();if(r&&typeof r=="object"){if("url"in r)return r.url.href;if("hostname"in r){const{protocol:o,hostname:i,port:a,path:c}=r;return`${o}//${i}${a?":"+a:""}${c}`}}return r}:s},kg=async e=>{};function ok(e){const n={};if(e=e.replace(/^\?/,""),e)for(const t of e.split("&")){let[s,r=null]=t.split("=");s=decodeURIComponent(s),r&&(r=decodeURIComponent(r)),s in n?Array.isArray(n[s])?n[s].push(r):n[s]=[n[s],r]:n[s]=r}return n}const oc=e=>{if(typeof e=="string")return oc(new URL(e));const{hostname:n,pathname:t,port:s,protocol:r,search:o}=e;let i;return o&&(i=ok(o)),{hostname:n,port:s?parseInt(s):void 0,protocol:r,path:t,query:i}},Ou=e=>typeof e=="object"?"url"in e?oc(e.url):e:oc(e),_g=async(e,n,t,s)=>{if(!t.endpoint){let i;t.serviceConfiguredEndpoint?i=await t.serviceConfiguredEndpoint():i=await kg(t.serviceId),i&&(t.endpoint=()=>Promise.resolve(Ou(i)))}const r=await Ag(e,n,t);if(typeof t.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return t.endpointProvider(r,s)},Ag=async(e,n,t)=>{var o;const s={},r=((o=n==null?void 0:n.getEndpointParameterInstructions)==null?void 0:o.call(n))||{};for(const[i,a]of Object.entries(r))switch(a.type){case"staticContextParams":s[i]=a.value;break;case"contextParams":s[i]=e[a.name];break;case"clientContextParams":case"builtInParams":s[i]=await rk(a.name,i,t)();break;case"operationContextParams":s[i]=a.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(r).length===0&&Object.assign(s,t),String(t.serviceId).toLowerCase()==="s3"&&await Yw(s),s},ik=({config:e,instructions:n})=>(t,s)=>async r=>{var a,c,l;e.endpoint&&up(s,"ENDPOINT_OVERRIDE","N");const o=await _g(r.input,{getEndpointParameterInstructions(){return n}},{...e},s);s.endpointV2=o,s.authSchemes=(a=o.properties)==null?void 0:a.authSchemes;const i=(c=s.authSchemes)==null?void 0:c[0];if(i){s.signing_region=i.signingRegion,s.signing_service=i.signingName;const d=No(s),m=(l=d==null?void 0:d.selectedHttpAuthScheme)==null?void 0:l.httpAuthOption;m&&(m.signingProperties=Object.assign(m.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return t({...r})},ak={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Cu.name},O=(e,n)=>({applyToStack:t=>{t.addRelativeTo(ik({config:e,instructions:n}),ak)}}),ck=e=>{const n=e.tls??!0,{endpoint:t,useDualstackEndpoint:s,useFipsEndpoint:r}=e,o=t!=null?async()=>Ou(await Tn(t)()):void 0,a=Object.assign(e,{endpoint:o,tls:n,isCustomEndpoint:!!t,useDualstackEndpoint:Tn(s??!1),useFipsEndpoint:Tn(r??!1)});let c;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!c&&(c=kg(e.serviceId)),c),a};var Po;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Po||(Po={}));const ic=3,lk=Po.STANDARD,dk=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],uk=["TimeoutError","RequestTimeout","RequestTimeoutException"],fk=[500,502,503,504],mk=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],hk=e=>{var n;return(n=e.$metadata)==null?void 0:n.clockSkewCorrected},yk=e=>{const n=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?n.has(e.message):!1},Bg=e=>{var n,t;return((n=e.$metadata)==null?void 0:n.httpStatusCode)===429||dk.includes(e.name)||((t=e.$retryable)==null?void 0:t.throttling)==!0},Mu=(e,n=0)=>{var t;return hk(e)||uk.includes(e.name)||mk.includes((e==null?void 0:e.code)||"")||fk.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)||yk(e)||e.cause!==void 0&&n<=10&&Mu(e.cause,n+1)},gk=e=>{var n;if(((n=e.$metadata)==null?void 0:n.httpStatusCode)!==void 0){const t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!Mu(e)}return!1};class Pc{constructor(n){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(n==null?void 0:n.beta)??.7,this.minCapacity=(n==null?void 0:n.minCapacity)??1,this.minFillRate=(n==null?void 0:n.minFillRate)??.5,this.scaleConstant=(n==null?void 0:n.scaleConstant)??.4,this.smooth=(n==null?void 0:n.smooth)??.8;const t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(n){if(this.enabled){if(this.refillTokenBucket(),n>this.currentCapacity){const t=(n-this.currentCapacity)/this.fillRate*1e3;await new Promise(s=>Pc.setTimeoutFn(s,t))}this.currentCapacity=this.currentCapacity-n}}refillTokenBucket(){const n=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=n;return}const t=(n-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=n}updateClientSendingRate(n){let t;if(this.updateMeasuredRate(),Bg(n)){const r=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=r,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(r),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());const s=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(s)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(n){return this.getPrecise(n*this.beta)}cubicSuccess(n){return this.getPrecise(this.scaleConstant*Math.pow(n-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(n){this.refillTokenBucket(),this.fillRate=Math.max(n,this.minFillRate),this.maxCapacity=Math.max(n,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const n=this.getCurrentTimeInSeconds(),t=Math.floor(n*2)/2;if(this.requestCount++,t>this.lastTxRateBucket){const s=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(s*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(n){return parseFloat(n.toFixed(8))}}Pc.setTimeoutFn=setTimeout;const xd=100,vg=20*1e3,bk=500,Am=500,Ck=5,pk=10,xk=1,Sk="amz-sdk-invocation-id",Ek="amz-sdk-request",wk=()=>{let e=xd;return{computeNextBackoffDelay:s=>Math.floor(Math.min(vg,Math.random()*2**s*e)),setDelayBase:s=>{e=s}}},Bm=({retryDelay:e,retryCount:n,retryCost:t})=>({getRetryCount:()=>n,getRetryDelay:()=>Math.min(vg,e),getRetryCost:()=>t});class Pg{constructor(n){this.maxAttempts=n,this.mode=Po.STANDARD,this.capacity=Am,this.retryBackoffStrategy=wk(),this.maxAttemptsProvider=typeof n=="function"?n:async()=>n}async acquireInitialRetryToken(n){return Bm({retryDelay:xd,retryCount:0})}async refreshRetryTokenForRetry(n,t){const s=await this.getMaxAttempts();if(this.shouldRetry(n,t,s)){const r=t.errorType;this.retryBackoffStrategy.setDelayBase(r==="THROTTLING"?bk:xd);const o=this.retryBackoffStrategy.computeNextBackoffDelay(n.getRetryCount()),i=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,o):o,a=this.getCapacityCost(r);return this.capacity-=a,Bm({retryDelay:i,retryCount:n.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(n){this.capacity=Math.max(Am,this.capacity+(n.getRetryCost()??xk))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${ic}`),ic}}shouldRetry(n,t,s){return n.getRetryCount()+1<s&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(n){return n==="TRANSIENT"?pk:Ck}isRetryableError(n){return n==="THROTTLING"||n==="TRANSIENT"}}class kk{constructor(n,t){this.maxAttemptsProvider=n,this.mode=Po.ADAPTIVE;const{rateLimiter:s}=t??{};this.rateLimiter=s??new Pc,this.standardRetryStrategy=new Pg(n)}async acquireInitialRetryToken(n){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(n)}async refreshRetryTokenForRetry(n,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(n,t)}recordSuccess(n){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(n)}}const _k=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),Ak=e=>{const{retryStrategy:n,retryMode:t,maxAttempts:s}=e,r=Tn(s??ic);return Object.assign(e,{maxAttempts:r,retryStrategy:async()=>n||(await Tn(t)()===Po.ADAPTIVE?new kk(r):new Pg(r))})},Bk=e=>(e==null?void 0:e.body)instanceof ReadableStream,vk=e=>(n,t)=>async s=>{var i;let r=await e.retryStrategy();const o=await e.maxAttempts();if(Pk(r)){r=r;let a=await r.acquireInitialRetryToken(t.partition_id),c=new Error,l=0,d=0;const{request:m}=s,h=ft.isInstance(m);for(h&&(m.headers[Sk]=s0());;)try{h&&(m.headers[Ek]=`attempt=${l+1}; max=${o}`);const{response:C,output:E}=await n(s);return r.recordSuccess(a),E.$metadata.attempts=l+1,E.$metadata.totalRetryDelay=d,{response:C,output:E}}catch(C){const E=Rk(C);if(c=_k(C),h&&Bk(m))throw(i=t.logger instanceof ku?console:t.logger)==null||i.warn("An error was encountered in a non-retryable streaming request."),c;try{a=await r.refreshRetryTokenForRetry(a,E)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=l+1,c.$metadata.totalRetryDelay=d,c}l=a.getRetryCount();const v=a.getRetryDelay();d+=v,await new Promise(w=>setTimeout(w,v))}}else return r=r,r!=null&&r.mode&&(t.userAgent=[...t.userAgent||[],["cfg/retry-mode",r.mode]]),r.retry(n,s)},Pk=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",Rk=e=>{const n={error:e,errorType:Tk(e)},t=Mk(e.$response);return t&&(n.retryAfterHint=t),n},Tk=e=>Bg(e)?"THROTTLING":Mu(e)?"TRANSIENT":gk(e)?"SERVER_ERROR":"CLIENT_ERROR",Ik={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Ok=e=>({applyToStack:n=>{n.add(vk(e),Ik)}}),Mk=e=>{if(!Ao.isInstance(e))return;const n=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!n)return;const t=e.headers[n],s=Number(t);return Number.isNaN(s)?new Date(t):new Date(s*1e3)};class Nk{constructor(n){W(this,"sigv4aSigner");W(this,"sigv4Signer");W(this,"signerOptions");this.sigv4Signer=new zE(n),this.signerOptions=n}async sign(n,t={}){return t.signingRegion==="*"?this.getSigv4aSigner().sign(n,t):this.sigv4Signer.sign(n,t)}async signWithCredentials(n,t,s={}){if(s.signingRegion==="*")throw this.getSigv4aSigner(),new Error(`signWithCredentials with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return this.sigv4Signer.signWithCredentials(n,t,s)}async presign(n,t={}){if(t.signingRegion==="*")throw this.getSigv4aSigner(),new Error(`presign with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return this.sigv4Signer.presign(n,t)}async presignWithCredentials(n,t,s={}){if(s.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(n,t,s)}getSigv4aSigner(){if(!this.sigv4aSigner)throw this.signerOptions.runtime==="node"?new Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt"):new Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");return this.sigv4aSigner}}const Nu="required",f="type",k="rules",b="conditions",p="fn",x="argv",X="ref",ce="assign",j="url",K="properties",Ps="backend",Lt="authSchemes",kt="disableDoubleEncoding",_t="signingName",Vt="signingRegion",H="headers",Du="signingRegionSet",Dk=6,Fk=!1,Fn=!0,ln="isSet",it="booleanEquals",q="error",ac="aws.partition",xe="stringEquals",Qe="getAttr",ot="name",Me="substring",vm="bucketSuffix",Fu="parseURL",P="endpoint",_="tree",cc="aws.isVirtualHostableS3Bucket",lc="{url#scheme}://{Bucket}.{url#authority}{url#path}",$n="not",Pm="accessPointSuffix",Ca="{url#scheme}://{url#authority}{url#path}",Rg="hardwareType",Tg="regionPrefix",Rm="bucketAliasSuffix",Sd="outpostId",Er="isValidHostLabel",Lu="sigv4a",Ri="s3-outposts",Ro="s3",Ig="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",Og="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",Tm="https://{Bucket}.s3.{partitionResult#dnsSuffix}",Mg="aws.parseArn",Ng="bucketArn",Dg="arnType",dc="",Uu="s3-object-lambda",Fg="accesspoint",zu="accessPointName",Im="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",Om="mrapPartition",Mm="outpostType",Nm="arnPrefix",Lg="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",Dm="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",Fm="https://s3.{partitionResult#dnsSuffix}",Nr={[Nu]:!1,[f]:"String"},Dr={[Nu]:!0,default:!1,[f]:"Boolean"},mi={[Nu]:!1,[f]:"Boolean"},bn={[p]:it,[x]:[{[X]:"Accelerate"},!0]},qe={[p]:it,[x]:[{[X]:"UseFIPS"},!0]},Oe={[p]:it,[x]:[{[X]:"UseDualStack"},!0]},st={[p]:ln,[x]:[{[X]:"Endpoint"}]},Ug={[p]:ac,[x]:[{[X]:"Region"}],[ce]:"partitionResult"},Lm={[p]:xe,[x]:[{[p]:Qe,[x]:[{[X]:"partitionResult"},ot]},"aws-cn"]},xi={[p]:ln,[x]:[{[X]:"Bucket"}]},pe={[X]:"Bucket"},Um={[b]:[Oe],[q]:"S3Express does not support Dual-stack.",[f]:q},zm={[b]:[bn],[q]:"S3Express does not support S3 Accelerate.",[f]:q},$m={[b]:[st,{[p]:Fu,[x]:[{[X]:"Endpoint"}],[ce]:"url"}],[k]:[{[b]:[{[p]:ln,[x]:[{[X]:"DisableS3ExpressSessionAuth"}]},{[p]:it,[x]:[{[X]:"DisableS3ExpressSessionAuth"},!0]}],[k]:[{[b]:[{[p]:it,[x]:[{[p]:Qe,[x]:[{[X]:"url"},"isIp"]},!0]}],[k]:[{[b]:[{[p]:"uriEncode",[x]:[pe],[ce]:"uri_encoded_bucket"}],[k]:[{[P]:{[j]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[K]:{[Ps]:"S3Express",[Lt]:[{[kt]:!0,[ot]:"sigv4",[_t]:"s3express",[Vt]:"{Region}"}]},[H]:{}},[f]:P}],[f]:_}],[f]:_},{[b]:[{[p]:cc,[x]:[pe,!1]}],[k]:[{[P]:{[j]:lc,[K]:{[Ps]:"S3Express",[Lt]:[{[kt]:!0,[ot]:"sigv4",[_t]:"s3express",[Vt]:"{Region}"}]},[H]:{}},[f]:P}],[f]:_},{[q]:"S3Express bucket name is not a valid virtual hostable name.",[f]:q}],[f]:_},{[b]:[{[p]:it,[x]:[{[p]:Qe,[x]:[{[X]:"url"},"isIp"]},!0]}],[k]:[{[b]:[{[p]:"uriEncode",[x]:[pe],[ce]:"uri_encoded_bucket"}],[k]:[{[P]:{[j]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[K]:{[Ps]:"S3Express",[Lt]:[{[kt]:!0,[ot]:"sigv4-s3express",[_t]:"s3express",[Vt]:"{Region}"}]},[H]:{}},[f]:P}],[f]:_}],[f]:_},{[b]:[{[p]:cc,[x]:[pe,!1]}],[k]:[{[P]:{[j]:lc,[K]:{[Ps]:"S3Express",[Lt]:[{[kt]:!0,[ot]:"sigv4-s3express",[_t]:"s3express",[Vt]:"{Region}"}]},[H]:{}},[f]:P}],[f]:_},{[q]:"S3Express bucket name is not a valid virtual hostable name.",[f]:q}],[f]:_},Ht={[p]:Fu,[x]:[{[X]:"Endpoint"}],[ce]:"url"},ol={[p]:it,[x]:[{[p]:Qe,[x]:[{[X]:"url"},"isIp"]},!0]},zg={[X]:"url"},$g={[p]:"uriEncode",[x]:[pe],[ce]:"uri_encoded_bucket"},Bs={[Ps]:"S3Express",[Lt]:[{[kt]:!0,[ot]:"sigv4",[_t]:"s3express",[Vt]:"{Region}"}]},oe={},qg={[p]:cc,[x]:[pe,!1]},qm={[q]:"S3Express bucket name is not a valid virtual hostable name.",[f]:q},jm={[p]:ln,[x]:[{[X]:"UseS3ExpressControlEndpoint"}]},Km={[p]:it,[x]:[{[X]:"UseS3ExpressControlEndpoint"},!0]},ie={[p]:$n,[x]:[st]},oa={[q]:"Unrecognized S3Express bucket name format.",[f]:q},Hm={[p]:$n,[x]:[xi]},Gm={[X]:Rg},Vm={[b]:[ie],[q]:"Expected a endpoint to be specified but no endpoint was found",[f]:q},ia={[Lt]:[{[kt]:!0,[ot]:Lu,[_t]:Ri,[Du]:["*"]},{[kt]:!0,[ot]:"sigv4",[_t]:Ri,[Vt]:"{Region}"}]},il={[p]:it,[x]:[{[X]:"ForcePathStyle"},!1]},Lk={[X]:"ForcePathStyle"},lt={[p]:it,[x]:[{[X]:"Accelerate"},!1]},yt={[p]:xe,[x]:[{[X]:"Region"},"aws-global"]},St={[Lt]:[{[kt]:!0,[ot]:"sigv4",[_t]:Ro,[Vt]:"us-east-1"}]},be={[p]:$n,[x]:[yt]},Et={[p]:it,[x]:[{[X]:"UseGlobalEndpoint"},!0]},Wm={[j]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[K]:{[Lt]:[{[kt]:!0,[ot]:"sigv4",[_t]:Ro,[Vt]:"{Region}"}]},[H]:{}},ut={[Lt]:[{[kt]:!0,[ot]:"sigv4",[_t]:Ro,[Vt]:"{Region}"}]},wt={[p]:it,[x]:[{[X]:"UseGlobalEndpoint"},!1]},ye={[p]:it,[x]:[{[X]:"UseDualStack"},!1]},Xm={[j]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[K]:ut,[H]:{}},ue={[p]:it,[x]:[{[X]:"UseFIPS"},!1]},Qm={[j]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[K]:ut,[H]:{}},Zm={[j]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[K]:ut,[H]:{}},al={[p]:it,[x]:[{[p]:Qe,[x]:[zg,"isIp"]},!1]},cl={[j]:Ig,[K]:ut,[H]:{}},Ed={[j]:lc,[K]:ut,[H]:{}},Ym={[P]:Ed,[f]:P},ll={[j]:Og,[K]:ut,[H]:{}},Jm={[j]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[K]:ut,[H]:{}},aa={[q]:"Invalid region: region was not a valid DNS name.",[f]:q},en={[X]:Ng},jg={[X]:Dg},dl={[p]:Qe,[x]:[en,"service"]},$u={[X]:zu},eh={[b]:[Oe],[q]:"S3 Object Lambda does not support Dual-stack",[f]:q},th={[b]:[bn],[q]:"S3 Object Lambda does not support S3 Accelerate",[f]:q},nh={[b]:[{[p]:ln,[x]:[{[X]:"DisableAccessPoints"}]},{[p]:it,[x]:[{[X]:"DisableAccessPoints"},!0]}],[q]:"Access points are not supported for this operation",[f]:q},ul={[b]:[{[p]:ln,[x]:[{[X]:"UseArnRegion"}]},{[p]:it,[x]:[{[X]:"UseArnRegion"},!1]},{[p]:$n,[x]:[{[p]:xe,[x]:[{[p]:Qe,[x]:[en,"region"]},"{Region}"]}]}],[q]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[f]:q},Kg={[p]:Qe,[x]:[{[X]:"bucketPartition"},ot]},Hg={[p]:Qe,[x]:[en,"accountId"]},fl={[Lt]:[{[kt]:!0,[ot]:"sigv4",[_t]:Uu,[Vt]:"{bucketArn#region}"}]},sh={[q]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[f]:q},ml={[q]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[f]:q},hl={[q]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[f]:q},yl={[q]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[f]:q},rh={[q]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[f]:q},oh={[q]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[f]:q},hi={[Lt]:[{[kt]:!0,[ot]:"sigv4",[_t]:Ro,[Vt]:"{bucketArn#region}"}]},ih={[Lt]:[{[kt]:!0,[ot]:Lu,[_t]:Ri,[Du]:["*"]},{[kt]:!0,[ot]:"sigv4",[_t]:Ri,[Vt]:"{bucketArn#region}"}]},ah={[p]:Mg,[x]:[pe]},ch={[j]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:ut,[H]:{}},lh={[j]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:ut,[H]:{}},dh={[j]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:ut,[H]:{}},gl={[j]:Lg,[K]:ut,[H]:{}},uh={[j]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:ut,[H]:{}},fh={[X]:"UseObjectLambdaEndpoint"},bl={[Lt]:[{[kt]:!0,[ot]:"sigv4",[_t]:Uu,[Vt]:"{Region}"}]},mh={[j]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[K]:ut,[H]:{}},hh={[j]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[K]:ut,[H]:{}},yh={[j]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[K]:ut,[H]:{}},Cl={[j]:Ca,[K]:ut,[H]:{}},gh={[j]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[K]:ut,[H]:{}},pl=[{[X]:"Region"}],Uk=[{[X]:"Endpoint"}],zk=[pe],bh=[Oe],xl=[bn],Fr=[st,Ht],Ch=[{[p]:ln,[x]:[{[X]:"DisableS3ExpressSessionAuth"}]},{[p]:it,[x]:[{[X]:"DisableS3ExpressSessionAuth"},!0]}],$k=[$g],ph=[qg],gn=[Ug],Lr=[qe],xh=[{[p]:Me,[x]:[pe,6,14,!0],[ce]:"s3expressAvailabilityZoneId"},{[p]:Me,[x]:[pe,14,16,!0],[ce]:"s3expressAvailabilityZoneDelim"},{[p]:xe,[x]:[{[X]:"s3expressAvailabilityZoneDelim"},"--"]}],Ln=[{[b]:[qe],[P]:{[j]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[K]:Bs,[H]:{}},[f]:P},{[P]:{[j]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[K]:Bs,[H]:{}},[f]:P}],Sh=[{[p]:Me,[x]:[pe,6,15,!0],[ce]:"s3expressAvailabilityZoneId"},{[p]:Me,[x]:[pe,15,17,!0],[ce]:"s3expressAvailabilityZoneDelim"},{[p]:xe,[x]:[{[X]:"s3expressAvailabilityZoneDelim"},"--"]}],Eh=[{[p]:Me,[x]:[pe,6,19,!0],[ce]:"s3expressAvailabilityZoneId"},{[p]:Me,[x]:[pe,19,21,!0],[ce]:"s3expressAvailabilityZoneDelim"},{[p]:xe,[x]:[{[X]:"s3expressAvailabilityZoneDelim"},"--"]}],wh=[{[p]:Me,[x]:[pe,6,20,!0],[ce]:"s3expressAvailabilityZoneId"},{[p]:Me,[x]:[pe,20,22,!0],[ce]:"s3expressAvailabilityZoneDelim"},{[p]:xe,[x]:[{[X]:"s3expressAvailabilityZoneDelim"},"--"]}],kh=[{[p]:Me,[x]:[pe,6,26,!0],[ce]:"s3expressAvailabilityZoneId"},{[p]:Me,[x]:[pe,26,28,!0],[ce]:"s3expressAvailabilityZoneDelim"},{[p]:xe,[x]:[{[X]:"s3expressAvailabilityZoneDelim"},"--"]}],Un=[{[b]:[qe],[P]:{[j]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[K]:{[Ps]:"S3Express",[Lt]:[{[kt]:!0,[ot]:"sigv4-s3express",[_t]:"s3express",[Vt]:"{Region}"}]},[H]:{}},[f]:P},{[P]:{[j]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[K]:{[Ps]:"S3Express",[Lt]:[{[kt]:!0,[ot]:"sigv4-s3express",[_t]:"s3express",[Vt]:"{Region}"}]},[H]:{}},[f]:P}],_h=[pe,0,7,!0],Ah=[{[p]:Me,[x]:[pe,7,15,!0],[ce]:"s3expressAvailabilityZoneId"},{[p]:Me,[x]:[pe,15,17,!0],[ce]:"s3expressAvailabilityZoneDelim"},{[p]:xe,[x]:[{[X]:"s3expressAvailabilityZoneDelim"},"--"]}],Bh=[{[p]:Me,[x]:[pe,7,16,!0],[ce]:"s3expressAvailabilityZoneId"},{[p]:Me,[x]:[pe,16,18,!0],[ce]:"s3expressAvailabilityZoneDelim"},{[p]:xe,[x]:[{[X]:"s3expressAvailabilityZoneDelim"},"--"]}],vh=[{[p]:Me,[x]:[pe,7,20,!0],[ce]:"s3expressAvailabilityZoneId"},{[p]:Me,[x]:[pe,20,22,!0],[ce]:"s3expressAvailabilityZoneDelim"},{[p]:xe,[x]:[{[X]:"s3expressAvailabilityZoneDelim"},"--"]}],Ph=[{[p]:Me,[x]:[pe,7,21,!0],[ce]:"s3expressAvailabilityZoneId"},{[p]:Me,[x]:[pe,21,23,!0],[ce]:"s3expressAvailabilityZoneDelim"},{[p]:xe,[x]:[{[X]:"s3expressAvailabilityZoneDelim"},"--"]}],Rh=[{[p]:Me,[x]:[pe,7,27,!0],[ce]:"s3expressAvailabilityZoneId"},{[p]:Me,[x]:[pe,27,29,!0],[ce]:"s3expressAvailabilityZoneDelim"},{[p]:xe,[x]:[{[X]:"s3expressAvailabilityZoneDelim"},"--"]}],qk=[xi],Th=[{[p]:Er,[x]:[{[X]:Sd},!1]}],Ih=[{[p]:xe,[x]:[{[X]:Tg},"beta"]}],jk=["*"],Oh=[{[p]:Er,[x]:[{[X]:"Region"},!1]}],ns=[{[p]:xe,[x]:[{[X]:"Region"},"us-east-1"]}],Sl=[{[p]:xe,[x]:[jg,Fg]}],Mh=[{[p]:Qe,[x]:[en,"resourceId[1]"],[ce]:zu},{[p]:$n,[x]:[{[p]:xe,[x]:[$u,dc]}]}],Kk=[en,"resourceId[1]"],El=[{[p]:$n,[x]:[{[p]:xe,[x]:[{[p]:Qe,[x]:[en,"region"]},dc]}]}],Nh=[{[p]:$n,[x]:[{[p]:ln,[x]:[{[p]:Qe,[x]:[en,"resourceId[2]"]}]}]}],Hk=[en,"resourceId[2]"],wl=[{[p]:ac,[x]:[{[p]:Qe,[x]:[en,"region"]}],[ce]:"bucketPartition"}],Dh=[{[p]:xe,[x]:[Kg,{[p]:Qe,[x]:[{[X]:"partitionResult"},ot]}]}],kl=[{[p]:Er,[x]:[{[p]:Qe,[x]:[en,"region"]},!0]}],_l=[{[p]:Er,[x]:[Hg,!1]}],Fh=[{[p]:Er,[x]:[$u,!1]}],Lh=[{[p]:Er,[x]:[{[X]:"Region"},!0]}],Gk={parameters:{Bucket:Nr,Region:Nr,UseFIPS:Dr,UseDualStack:Dr,Endpoint:Nr,ForcePathStyle:Dr,Accelerate:Dr,UseGlobalEndpoint:Dr,UseObjectLambdaEndpoint:mi,Key:Nr,Prefix:Nr,CopySource:Nr,DisableAccessPoints:mi,DisableMultiRegionAccessPoints:Dr,UseArnRegion:mi,UseS3ExpressControlEndpoint:mi,DisableS3ExpressSessionAuth:mi},[k]:[{[b]:[{[p]:ln,[x]:pl}],[k]:[{[b]:[bn,qe],error:"Accelerate cannot be used with FIPS",[f]:q},{[b]:[Oe,st],error:"Cannot set dual-stack in combination with a custom endpoint.",[f]:q},{[b]:[st,qe],error:"A custom endpoint cannot be combined with FIPS",[f]:q},{[b]:[st,bn],error:"A custom endpoint cannot be combined with S3 Accelerate",[f]:q},{[b]:[qe,Ug,Lm],error:"Partition does not support FIPS",[f]:q},{[b]:[xi,{[p]:Me,[x]:[pe,0,Dk,Fn],[ce]:vm},{[p]:xe,[x]:[{[X]:vm},"--x-s3"]}],[k]:[Um,zm,$m,{[b]:[jm,Km],[k]:[{[b]:gn,[k]:[{[b]:[$g,ie],[k]:[{[b]:Lr,endpoint:{[j]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:Bs,[H]:oe},[f]:P},{endpoint:{[j]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:Bs,[H]:oe},[f]:P}],[f]:_}],[f]:_}],[f]:_},{[b]:ph,[k]:[{[b]:gn,[k]:[{[b]:Ch,[k]:[{[b]:xh,[k]:Ln,[f]:_},{[b]:Sh,[k]:Ln,[f]:_},{[b]:Eh,[k]:Ln,[f]:_},{[b]:wh,[k]:Ln,[f]:_},{[b]:kh,[k]:Ln,[f]:_},oa],[f]:_},{[b]:xh,[k]:Un,[f]:_},{[b]:Sh,[k]:Un,[f]:_},{[b]:Eh,[k]:Un,[f]:_},{[b]:wh,[k]:Un,[f]:_},{[b]:kh,[k]:Un,[f]:_},oa],[f]:_}],[f]:_},qm],[f]:_},{[b]:[xi,{[p]:Me,[x]:_h,[ce]:Pm},{[p]:xe,[x]:[{[X]:Pm},"--xa-s3"]}],[k]:[Um,zm,$m,{[b]:ph,[k]:[{[b]:gn,[k]:[{[b]:Ch,[k]:[{[b]:Ah,[k]:Ln,[f]:_},{[b]:Bh,[k]:Ln,[f]:_},{[b]:vh,[k]:Ln,[f]:_},{[b]:Ph,[k]:Ln,[f]:_},{[b]:Rh,[k]:Ln,[f]:_},oa],[f]:_},{[b]:Ah,[k]:Un,[f]:_},{[b]:Bh,[k]:Un,[f]:_},{[b]:vh,[k]:Un,[f]:_},{[b]:Ph,[k]:Un,[f]:_},{[b]:Rh,[k]:Un,[f]:_},oa],[f]:_}],[f]:_},qm],[f]:_},{[b]:[Hm,jm,Km],[k]:[{[b]:gn,[k]:[{[b]:Fr,endpoint:{[j]:Ca,[K]:Bs,[H]:oe},[f]:P},{[b]:Lr,endpoint:{[j]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}",[K]:Bs,[H]:oe},[f]:P},{endpoint:{[j]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}",[K]:Bs,[H]:oe},[f]:P}],[f]:_}],[f]:_},{[b]:[xi,{[p]:Me,[x]:[pe,49,50,Fn],[ce]:Rg},{[p]:Me,[x]:[pe,8,12,Fn],[ce]:Tg},{[p]:Me,[x]:_h,[ce]:Rm},{[p]:Me,[x]:[pe,32,49,Fn],[ce]:Sd},{[p]:ac,[x]:pl,[ce]:"regionPartition"},{[p]:xe,[x]:[{[X]:Rm},"--op-s3"]}],[k]:[{[b]:Th,[k]:[{[b]:[{[p]:xe,[x]:[Gm,"e"]}],[k]:[{[b]:Ih,[k]:[Vm,{[b]:Fr,endpoint:{[j]:"https://{Bucket}.ec2.{url#authority}",[K]:ia,[H]:oe},[f]:P}],[f]:_},{endpoint:{[j]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[K]:ia,[H]:oe},[f]:P}],[f]:_},{[b]:[{[p]:xe,[x]:[Gm,"o"]}],[k]:[{[b]:Ih,[k]:[Vm,{[b]:Fr,endpoint:{[j]:"https://{Bucket}.op-{outpostId}.{url#authority}",[K]:ia,[H]:oe},[f]:P}],[f]:_},{endpoint:{[j]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[K]:ia,[H]:oe},[f]:P}],[f]:_},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[f]:q}],[f]:_},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[f]:q}],[f]:_},{[b]:qk,[k]:[{[b]:[st,{[p]:$n,[x]:[{[p]:ln,[x]:[{[p]:Fu,[x]:Uk}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[f]:q},{[b]:[il,qg],[k]:[{[b]:gn,[k]:[{[b]:Oh,[k]:[{[b]:[bn,Lm],error:"S3 Accelerate cannot be used in this region",[f]:q},{[b]:[Oe,qe,lt,ie,yt],endpoint:{[j]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[K]:St,[H]:oe},[f]:P},{[b]:[Oe,qe,lt,ie,be,Et],[k]:[{endpoint:Wm,[f]:P}],[f]:_},{[b]:[Oe,qe,lt,ie,be,wt],endpoint:Wm,[f]:P},{[b]:[ye,qe,lt,ie,yt],endpoint:{[j]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[K]:St,[H]:oe},[f]:P},{[b]:[ye,qe,lt,ie,be,Et],[k]:[{endpoint:Xm,[f]:P}],[f]:_},{[b]:[ye,qe,lt,ie,be,wt],endpoint:Xm,[f]:P},{[b]:[Oe,ue,bn,ie,yt],endpoint:{[j]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[K]:St,[H]:oe},[f]:P},{[b]:[Oe,ue,bn,ie,be,Et],[k]:[{endpoint:Qm,[f]:P}],[f]:_},{[b]:[Oe,ue,bn,ie,be,wt],endpoint:Qm,[f]:P},{[b]:[Oe,ue,lt,ie,yt],endpoint:{[j]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[K]:St,[H]:oe},[f]:P},{[b]:[Oe,ue,lt,ie,be,Et],[k]:[{endpoint:Zm,[f]:P}],[f]:_},{[b]:[Oe,ue,lt,ie,be,wt],endpoint:Zm,[f]:P},{[b]:[ye,ue,lt,st,Ht,ol,yt],endpoint:{[j]:Ig,[K]:St,[H]:oe},[f]:P},{[b]:[ye,ue,lt,st,Ht,al,yt],endpoint:{[j]:lc,[K]:St,[H]:oe},[f]:P},{[b]:[ye,ue,lt,st,Ht,ol,be,Et],[k]:[{[b]:ns,endpoint:cl,[f]:P},{endpoint:cl,[f]:P}],[f]:_},{[b]:[ye,ue,lt,st,Ht,al,be,Et],[k]:[{[b]:ns,endpoint:Ed,[f]:P},Ym],[f]:_},{[b]:[ye,ue,lt,st,Ht,ol,be,wt],endpoint:cl,[f]:P},{[b]:[ye,ue,lt,st,Ht,al,be,wt],endpoint:Ed,[f]:P},{[b]:[ye,ue,bn,ie,yt],endpoint:{[j]:Og,[K]:St,[H]:oe},[f]:P},{[b]:[ye,ue,bn,ie,be,Et],[k]:[{[b]:ns,endpoint:ll,[f]:P},{endpoint:ll,[f]:P}],[f]:_},{[b]:[ye,ue,bn,ie,be,wt],endpoint:ll,[f]:P},{[b]:[ye,ue,lt,ie,yt],endpoint:{[j]:Tm,[K]:St,[H]:oe},[f]:P},{[b]:[ye,ue,lt,ie,be,Et],[k]:[{[b]:ns,endpoint:{[j]:Tm,[K]:ut,[H]:oe},[f]:P},{endpoint:Jm,[f]:P}],[f]:_},{[b]:[ye,ue,lt,ie,be,wt],endpoint:Jm,[f]:P}],[f]:_},aa],[f]:_}],[f]:_},{[b]:[st,Ht,{[p]:xe,[x]:[{[p]:Qe,[x]:[zg,"scheme"]},"http"]},{[p]:cc,[x]:[pe,Fn]},il,ue,ye,lt],[k]:[{[b]:gn,[k]:[{[b]:Oh,[k]:[Ym],[f]:_},aa],[f]:_}],[f]:_},{[b]:[il,{[p]:Mg,[x]:zk,[ce]:Ng}],[k]:[{[b]:[{[p]:Qe,[x]:[en,"resourceId[0]"],[ce]:Dg},{[p]:$n,[x]:[{[p]:xe,[x]:[jg,dc]}]}],[k]:[{[b]:[{[p]:xe,[x]:[dl,Uu]}],[k]:[{[b]:Sl,[k]:[{[b]:Mh,[k]:[eh,th,{[b]:El,[k]:[nh,{[b]:Nh,[k]:[ul,{[b]:wl,[k]:[{[b]:gn,[k]:[{[b]:Dh,[k]:[{[b]:kl,[k]:[{[b]:[{[p]:xe,[x]:[Hg,dc]}],error:"Invalid ARN: Missing account id",[f]:q},{[b]:_l,[k]:[{[b]:Fh,[k]:[{[b]:Fr,endpoint:{[j]:Im,[K]:fl,[H]:oe},[f]:P},{[b]:Lr,endpoint:{[j]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:fl,[H]:oe},[f]:P},{endpoint:{[j]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:fl,[H]:oe},[f]:P}],[f]:_},sh],[f]:_},ml],[f]:_},hl],[f]:_},yl],[f]:_}],[f]:_}],[f]:_},rh],[f]:_},{error:"Invalid ARN: bucket ARN is missing a region",[f]:q}],[f]:_},oh],[f]:_},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[f]:q}],[f]:_},{[b]:Sl,[k]:[{[b]:Mh,[k]:[{[b]:El,[k]:[{[b]:Sl,[k]:[{[b]:El,[k]:[nh,{[b]:Nh,[k]:[ul,{[b]:wl,[k]:[{[b]:gn,[k]:[{[b]:[{[p]:xe,[x]:[Kg,"{partitionResult#name}"]}],[k]:[{[b]:kl,[k]:[{[b]:[{[p]:xe,[x]:[dl,Ro]}],[k]:[{[b]:_l,[k]:[{[b]:Fh,[k]:[{[b]:xl,error:"Access Points do not support S3 Accelerate",[f]:q},{[b]:[qe,Oe],endpoint:{[j]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:hi,[H]:oe},[f]:P},{[b]:[qe,ye],endpoint:{[j]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:hi,[H]:oe},[f]:P},{[b]:[ue,Oe],endpoint:{[j]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:hi,[H]:oe},[f]:P},{[b]:[ue,ye,st,Ht],endpoint:{[j]:Im,[K]:hi,[H]:oe},[f]:P},{[b]:[ue,ye],endpoint:{[j]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:hi,[H]:oe},[f]:P}],[f]:_},sh],[f]:_},ml],[f]:_},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[f]:q}],[f]:_},hl],[f]:_},yl],[f]:_}],[f]:_}],[f]:_},rh],[f]:_}],[f]:_}],[f]:_},{[b]:[{[p]:Er,[x]:[$u,Fn]}],[k]:[{[b]:bh,error:"S3 MRAP does not support dual-stack",[f]:q},{[b]:Lr,error:"S3 MRAP does not support FIPS",[f]:q},{[b]:xl,error:"S3 MRAP does not support S3 Accelerate",[f]:q},{[b]:[{[p]:it,[x]:[{[X]:"DisableMultiRegionAccessPoints"},Fn]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[f]:q},{[b]:[{[p]:ac,[x]:pl,[ce]:Om}],[k]:[{[b]:[{[p]:xe,[x]:[{[p]:Qe,[x]:[{[X]:Om},ot]},{[p]:Qe,[x]:[en,"partition"]}]}],[k]:[{endpoint:{[j]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[K]:{[Lt]:[{[kt]:Fn,name:Lu,[_t]:Ro,[Du]:jk}]},[H]:oe},[f]:P}],[f]:_},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[f]:q}],[f]:_}],[f]:_},{error:"Invalid Access Point Name",[f]:q}],[f]:_},oh],[f]:_},{[b]:[{[p]:xe,[x]:[dl,Ri]}],[k]:[{[b]:bh,error:"S3 Outposts does not support Dual-stack",[f]:q},{[b]:Lr,error:"S3 Outposts does not support FIPS",[f]:q},{[b]:xl,error:"S3 Outposts does not support S3 Accelerate",[f]:q},{[b]:[{[p]:ln,[x]:[{[p]:Qe,[x]:[en,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[f]:q},{[b]:[{[p]:Qe,[x]:Kk,[ce]:Sd}],[k]:[{[b]:Th,[k]:[ul,{[b]:wl,[k]:[{[b]:gn,[k]:[{[b]:Dh,[k]:[{[b]:kl,[k]:[{[b]:_l,[k]:[{[b]:[{[p]:Qe,[x]:Hk,[ce]:Mm}],[k]:[{[b]:[{[p]:Qe,[x]:[en,"resourceId[3]"],[ce]:zu}],[k]:[{[b]:[{[p]:xe,[x]:[{[X]:Mm},Fg]}],[k]:[{[b]:Fr,endpoint:{[j]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[K]:ih,[H]:oe},[f]:P},{endpoint:{[j]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:ih,[H]:oe},[f]:P}],[f]:_},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[f]:q}],[f]:_},{error:"Invalid ARN: expected an access point name",[f]:q}],[f]:_},{error:"Invalid ARN: Expected a 4-component resource",[f]:q}],[f]:_},ml],[f]:_},hl],[f]:_},yl],[f]:_}],[f]:_}],[f]:_},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[f]:q}],[f]:_},{error:"Invalid ARN: The Outpost Id was not set",[f]:q}],[f]:_},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[f]:q}],[f]:_},{error:"Invalid ARN: No ARN type specified",[f]:q}],[f]:_},{[b]:[{[p]:Me,[x]:[pe,0,4,Fk],[ce]:Nm},{[p]:xe,[x]:[{[X]:Nm},"arn:"]},{[p]:$n,[x]:[{[p]:ln,[x]:[ah]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[f]:q},{[b]:[{[p]:it,[x]:[Lk,Fn]},ah],error:"Path-style addressing cannot be used with ARN buckets",[f]:q},{[b]:$k,[k]:[{[b]:gn,[k]:[{[b]:[lt],[k]:[{[b]:[Oe,ie,qe,yt],endpoint:{[j]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:St,[H]:oe},[f]:P},{[b]:[Oe,ie,qe,be,Et],[k]:[{endpoint:ch,[f]:P}],[f]:_},{[b]:[Oe,ie,qe,be,wt],endpoint:ch,[f]:P},{[b]:[ye,ie,qe,yt],endpoint:{[j]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:St,[H]:oe},[f]:P},{[b]:[ye,ie,qe,be,Et],[k]:[{endpoint:lh,[f]:P}],[f]:_},{[b]:[ye,ie,qe,be,wt],endpoint:lh,[f]:P},{[b]:[Oe,ie,ue,yt],endpoint:{[j]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:St,[H]:oe},[f]:P},{[b]:[Oe,ie,ue,be,Et],[k]:[{endpoint:dh,[f]:P}],[f]:_},{[b]:[Oe,ie,ue,be,wt],endpoint:dh,[f]:P},{[b]:[ye,st,Ht,ue,yt],endpoint:{[j]:Lg,[K]:St,[H]:oe},[f]:P},{[b]:[ye,st,Ht,ue,be,Et],[k]:[{[b]:ns,endpoint:gl,[f]:P},{endpoint:gl,[f]:P}],[f]:_},{[b]:[ye,st,Ht,ue,be,wt],endpoint:gl,[f]:P},{[b]:[ye,ie,ue,yt],endpoint:{[j]:Dm,[K]:St,[H]:oe},[f]:P},{[b]:[ye,ie,ue,be,Et],[k]:[{[b]:ns,endpoint:{[j]:Dm,[K]:ut,[H]:oe},[f]:P},{endpoint:uh,[f]:P}],[f]:_},{[b]:[ye,ie,ue,be,wt],endpoint:uh,[f]:P}],[f]:_},{error:"Path-style addressing cannot be used with S3 Accelerate",[f]:q}],[f]:_}],[f]:_}],[f]:_},{[b]:[{[p]:ln,[x]:[fh]},{[p]:it,[x]:[fh,Fn]}],[k]:[{[b]:gn,[k]:[{[b]:Lh,[k]:[eh,th,{[b]:Fr,endpoint:{[j]:Ca,[K]:bl,[H]:oe},[f]:P},{[b]:Lr,endpoint:{[j]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[K]:bl,[H]:oe},[f]:P},{endpoint:{[j]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[K]:bl,[H]:oe},[f]:P}],[f]:_},aa],[f]:_}],[f]:_},{[b]:[Hm],[k]:[{[b]:gn,[k]:[{[b]:Lh,[k]:[{[b]:[qe,Oe,ie,yt],endpoint:{[j]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[K]:St,[H]:oe},[f]:P},{[b]:[qe,Oe,ie,be,Et],[k]:[{endpoint:mh,[f]:P}],[f]:_},{[b]:[qe,Oe,ie,be,wt],endpoint:mh,[f]:P},{[b]:[qe,ye,ie,yt],endpoint:{[j]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[K]:St,[H]:oe},[f]:P},{[b]:[qe,ye,ie,be,Et],[k]:[{endpoint:hh,[f]:P}],[f]:_},{[b]:[qe,ye,ie,be,wt],endpoint:hh,[f]:P},{[b]:[ue,Oe,ie,yt],endpoint:{[j]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[K]:St,[H]:oe},[f]:P},{[b]:[ue,Oe,ie,be,Et],[k]:[{endpoint:yh,[f]:P}],[f]:_},{[b]:[ue,Oe,ie,be,wt],endpoint:yh,[f]:P},{[b]:[ue,ye,st,Ht,yt],endpoint:{[j]:Ca,[K]:St,[H]:oe},[f]:P},{[b]:[ue,ye,st,Ht,be,Et],[k]:[{[b]:ns,endpoint:Cl,[f]:P},{endpoint:Cl,[f]:P}],[f]:_},{[b]:[ue,ye,st,Ht,be,wt],endpoint:Cl,[f]:P},{[b]:[ue,ye,ie,yt],endpoint:{[j]:Fm,[K]:St,[H]:oe},[f]:P},{[b]:[ue,ye,ie,be,Et],[k]:[{[b]:ns,endpoint:{[j]:Fm,[K]:ut,[H]:oe},[f]:P},{endpoint:gh,[f]:P}],[f]:_},{[b]:[ue,ye,ie,be,wt],endpoint:gh,[f]:P}],[f]:_},aa],[f]:_}],[f]:_}],[f]:_},{error:"A region must be set when sending requests to S3.",[f]:q}]},Vk=Gk,Wk=new dw({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),Gg=(e,n={})=>Wk.get(e,()=>Pw(Vk,{endpointParams:e,logger:n.logger}));rc.aws=Eg;const Xk=e=>async(n,t,s)=>{var a,c,l;if(!s)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");const r=await e(n,t,s),o=(l=(c=(a=No(t))==null?void 0:a.commandInstance)==null?void 0:c.constructor)==null?void 0:l.getEndpointParameterInstructions;if(!o)throw new Error(`getEndpointParameterInstructions() is not defined on \`${t.commandName}\``);const i=await Ag(s,{getEndpointParameterInstructions:o},n);return Object.assign(r,i)},Qk=async(e,n,t)=>({operation:No(n).operation,region:await Tn(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),Zk=Xk(Qk);function Vg(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(n,t)=>({signingProperties:{config:n,context:t}})}}function Wg(e){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(n,t)=>({signingProperties:{config:n,context:t}})}}const Yk=(e,n,t)=>r=>{var c;const i=(c=e(r).properties)==null?void 0:c.authSchemes;if(!i)return n(r);const a=[];for(const l of i){const{name:d,properties:m={},...h}=l,C=d.toLowerCase();d!==C&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${d}\` to \`${C}\``);let E;if(C==="sigv4a"){if(E="aws.auth#sigv4a",i.find(V=>{const ne=V.name.toLowerCase();return ne!=="sigv4a"&&ne.startsWith("sigv4")}))continue}else if(C.startsWith("sigv4"))E="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${C}\``);const v=t[E];if(!v)throw new Error(`Could not find HttpAuthOption create function for \`${E}\``);const w=v(r);w.schemeId=E,w.signingProperties={...w.signingProperties||{},...h,...m},a.push(w)}return a},Jk=e=>{const n=[];switch(e.operation){default:n.push(Vg(e)),n.push(Wg(e))}return n},e_=Yk(Gg,Jk,{"aws.auth#sigv4":Vg,"aws.auth#sigv4a":Wg}),t_=e=>{const n=Kp(e),t=Cp(n);return Object.assign(t,{authSchemePreference:Tn(e.authSchemePreference??[])})},n_=e=>Object.assign(e,{useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),M={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class qt extends qr{constructor(n){super(n),Object.setPrototypeOf(this,qt.prototype)}}class qu extends qt{constructor(t){super({name:"NoSuchUpload",$fault:"client",...t});W(this,"name","NoSuchUpload");W(this,"$fault","client");Object.setPrototypeOf(this,qu.prototype)}}const s_={CRC32:"CRC32"};class ju extends qt{constructor(t){super({name:"ObjectNotInActiveTierError",$fault:"client",...t});W(this,"name","ObjectNotInActiveTierError");W(this,"$fault","client");Object.setPrototypeOf(this,ju.prototype)}}class Ku extends qt{constructor(t){super({name:"BucketAlreadyExists",$fault:"client",...t});W(this,"name","BucketAlreadyExists");W(this,"$fault","client");Object.setPrototypeOf(this,Ku.prototype)}}class Hu extends qt{constructor(t){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...t});W(this,"name","BucketAlreadyOwnedByYou");W(this,"$fault","client");Object.setPrototypeOf(this,Hu.prototype)}}class Gu extends qt{constructor(t){super({name:"NoSuchBucket",$fault:"client",...t});W(this,"name","NoSuchBucket");W(this,"$fault","client");Object.setPrototypeOf(this,Gu.prototype)}}var wd;(function(e){e.visit=(n,t)=>n.Prefix!==void 0?t.Prefix(n.Prefix):n.Tag!==void 0?t.Tag(n.Tag):n.And!==void 0?t.And(n.And):t._(n.$unknown[0],n.$unknown[1])})(wd||(wd={}));var kd;(function(e){e.visit=(n,t)=>n.Prefix!==void 0?t.Prefix(n.Prefix):n.Tag!==void 0?t.Tag(n.Tag):n.AccessPointArn!==void 0?t.AccessPointArn(n.AccessPointArn):n.And!==void 0?t.And(n.And):t._(n.$unknown[0],n.$unknown[1])})(kd||(kd={}));class Vu extends qt{constructor(t){super({name:"InvalidObjectState",$fault:"client",...t});W(this,"name","InvalidObjectState");W(this,"$fault","client");W(this,"StorageClass");W(this,"AccessTier");Object.setPrototypeOf(this,Vu.prototype),this.StorageClass=t.StorageClass,this.AccessTier=t.AccessTier}}class Wu extends qt{constructor(t){super({name:"NoSuchKey",$fault:"client",...t});W(this,"name","NoSuchKey");W(this,"$fault","client");Object.setPrototypeOf(this,Wu.prototype)}}class Xu extends qt{constructor(t){super({name:"NotFound",$fault:"client",...t});W(this,"name","NotFound");W(this,"$fault","client");Object.setPrototypeOf(this,Xu.prototype)}}const r_=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:fe}}),o_=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:fe}}),i_=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:fe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:fe}}),a_=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:fe},...e.SSEKMSKeyId&&{SSEKMSKeyId:fe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:fe},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:fe}}),c_=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:fe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:fe}}),l_=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:fe},...e.SSEKMSKeyId&&{SSEKMSKeyId:fe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:fe}}),d_=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:fe},...e.SessionToken&&{SessionToken:fe}}),u_=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:fe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:fe},...e.Credentials&&{Credentials:d_(e.Credentials)}}),f_=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:fe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:fe}}),m_=e=>({...e,...e.KMSMasterKeyID&&{KMSMasterKeyID:fe}}),h_=e=>({...e,...e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:m_(e.ApplyServerSideEncryptionByDefault)}}),Xg=e=>({...e,...e.Rules&&{Rules:e.Rules.map(n=>h_(n))}}),y_=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:Xg(e.ServerSideEncryptionConfiguration)}}),g_=e=>({...e,...e.KeyId&&{KeyId:fe}}),b_=e=>({...e,...e.SSEKMS&&{SSEKMS:g_(e.SSEKMS)}}),C_=e=>({...e,...e.Encryption&&{Encryption:b_(e.Encryption)}}),p_=e=>({...e,...e.S3BucketDestination&&{S3BucketDestination:C_(e.S3BucketDestination)}}),Qu=e=>({...e,...e.Destination&&{Destination:p_(e.Destination)}}),x_=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:Qu(e.InventoryConfiguration)}}),S_=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:fe}}),E_=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:fe}}),w_=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:fe}}),k_=e=>({...e}),__=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:fe}}),A_=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:fe}}),B_=e=>({...e,...e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map(n=>Qu(n))}}),v_=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:fe}});function P_(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function R_(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}class Zu{constructor(n){W(this,"value");this.value=n}toString(){return R_(""+this.value)}}class g{constructor(n,t=[]){W(this,"name");W(this,"children");W(this,"attributes",{});this.name=n,this.children=t}static of(n,t,s){const r=new g(n);return t!==void 0&&r.addChildNode(new Zu(t)),s!==void 0&&r.withName(s),r}withName(n){return this.name=n,this}addAttribute(n,t){return this.attributes[n]=t,this}addChildNode(n){return this.children.push(n),this}removeAttribute(n){return delete this.attributes[n],this}n(n){return this.name=n,this}c(n){return this.children.push(n),this}a(n,t){return t!=null&&(this.attributes[n]=t),this}cc(n,t,s=t){if(n[t]!=null){const r=g.of(t,n[t]).withName(s);this.c(r)}}l(n,t,s,r){n[t]!=null&&r().map(i=>{i.withName(s),this.c(i)})}lc(n,t,s,r){if(n[t]!=null){const o=r(),i=new g(s);o.map(a=>{i.c(a)}),this.c(i)}}toString(){const n=!!this.children.length;let t=`<${this.name}`;const s=this.attributes;for(const r of Object.keys(s)){const o=s[r];o!=null&&(t+=` ${r}="${P_(""+o)}"`)}return t+=n?`>${this.children.map(r=>r.toString()).join("")}</${this.name}>`:"/>"}}class Yu extends qt{constructor(t){super({name:"EncryptionTypeMismatch",$fault:"client",...t});W(this,"name","EncryptionTypeMismatch");W(this,"$fault","client");Object.setPrototypeOf(this,Yu.prototype)}}class Ju extends qt{constructor(t){super({name:"InvalidRequest",$fault:"client",...t});W(this,"name","InvalidRequest");W(this,"$fault","client");Object.setPrototypeOf(this,Ju.prototype)}}class ef extends qt{constructor(t){super({name:"InvalidWriteOffset",$fault:"client",...t});W(this,"name","InvalidWriteOffset");W(this,"$fault","client");Object.setPrototypeOf(this,ef.prototype)}}class tf extends qt{constructor(t){super({name:"TooManyParts",$fault:"client",...t});W(this,"name","TooManyParts");W(this,"$fault","client");Object.setPrototypeOf(this,tf.prototype)}}class nf extends qt{constructor(t){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...t});W(this,"name","ObjectAlreadyInActiveTierError");W(this,"$fault","client");Object.setPrototypeOf(this,nf.prototype)}}var Uh;(function(e){e.visit=(n,t)=>n.Records!==void 0?t.Records(n.Records):n.Stats!==void 0?t.Stats(n.Stats):n.Progress!==void 0?t.Progress(n.Progress):n.Cont!==void 0?t.Cont(n.Cont):n.End!==void 0?t.End(n.End):t._(n.$unknown[0],n.$unknown[1])})(Uh||(Uh={}));const T_=e=>({...e,...e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:Xg(e.ServerSideEncryptionConfiguration)}}),I_=e=>({...e,...e.InventoryConfiguration&&{InventoryConfiguration:Qu(e.InventoryConfiguration)}}),O_=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:fe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:fe}}),M_=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:fe},...e.SSEKMSKeyId&&{SSEKMSKeyId:fe},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:fe}}),N_=e=>({...e,...e.KMSKeyId&&{KMSKeyId:fe}}),D_=e=>({...e,...e.Encryption&&{Encryption:N_(e.Encryption)}}),F_=e=>({...e,...e.S3&&{S3:D_(e.S3)}}),L_=e=>({...e,...e.OutputLocation&&{OutputLocation:F_(e.OutputLocation)}}),U_=e=>({...e,...e.RestoreRequest&&{RestoreRequest:L_(e.RestoreRequest)}}),z_=e=>({...e,...e.Payload&&{Payload:"STREAMING_CONTENT"}}),$_=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:fe}}),q_=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:fe}}),j_=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:fe}}),K_=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:fe}}),H_=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:fe},...e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:fe}}),G_=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:fe}}),V_=async(e,n)=>{const t=I(e,n),s=u({},S,{[Be]:e[_e],[F]:e[D],[iN]:[()=>S(e[Gh]),()=>Bt(e[Gh]).toString()]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[Rt]:[,"AbortMultipartUpload"],[Ki]:[,G(e[rn],"UploadId")]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},W_=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[Ar]:e[De],[Br]:e[Fe],[vr]:e[Le],[Pr]:e[Ue],[Rr]:e[ze],[Jo]:e[$e],[dN]:[()=>S(e[Zh]),()=>e[Zh].toString()],[Be]:e[_e],[F]:e[D],[qi]:e[Ni],[Uc]:e[Ic],[vt]:e[bt],[Nn]:e[Mn],[Pt]:e[Ct]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[Ki]:[,G(e[rn],"UploadId")]});let o,i;return e.MultipartUpload!==void 0&&(i=aR(e.MultipartUpload),i=i.n("CompleteMultipartUpload"),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("POST").h(s).q(r).b(o),t.build()},X_=async(e,n)=>{const t=I(e,n),s=u({},S,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((i,a)=>(i[`x-amz-meta-${a.toLowerCase()}`]=e.Metadata[a],i),{}),[Yo]:e[zo],[Fi]:e[$o],[Rf]:e[me],[Li]:e[qo],[Ui]:e[jo],[zi]:e[Ko],[$i]:e[Ho],[CC]:e[bb],[pC]:e[Cb],[xC]:[()=>S(e[uc]),()=>Bt(e[uc]).toString()],[SC]:e[pb],[EC]:[()=>S(e[fc]),()=>Bt(e[fc]).toString()],[Cr]:[()=>S(e[Kn]),()=>Bt(e[Kn]).toString()],[ei]:e[Go],[ti]:e[Vo],[ni]:e[Wo],[si]:e[Xo],[lN]:e[V1],[pN]:e[jM],[mn]:e[jt],[Wi]:e[de],[Xi]:e[Di],[vt]:e[bt],[Nn]:e[Mn],[Pt]:e[Ct],[hn]:e[Ot],[ks]:e[ws],[tt]:[()=>S(e[je]),()=>e[je].toString()],[wC]:e[xb],[kC]:e[Sb],[_C]:e[Eb],[Be]:e[_e],[Mf]:e[mr],[Vi]:e[Qo],[pr]:[()=>S(e[Hn]),()=>Sr(e[Hn]).toString()],[Gi]:e[kr],[F]:e[D],[PC]:e[_b]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[Rt]:[,"CopyObject"]});return t.m("PUT").h(s).q(r).b(void 0),t.build()},Q_=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[Yo]:e[zo],[ei]:e[Go],[ti]:e[Vo],[ni]:e[Wo],[Tf]:e[uf],[si]:e[Xo],[p2]:[()=>S(e[Jh]),()=>e[Jh].toString()],[mN]:e[wi]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);let r,o;return e.CreateBucketConfiguration!==void 0&&(o=hR(e.CreateBucketConfiguration),r=Ae,o.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),r+=o.toString()),t.m("PUT").h(s).b(r),t.build()},Z_=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[ht]:e[mt],[Je]:e[me],[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Ef]:[,""]});let o,i;return e.MetadataTableConfiguration!==void 0&&(i=eT(e.MetadataTableConfiguration),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("POST").h(s).q(r).b(o),t.build()},Y_=async(e,n)=>{const t=I(e,n),s=u({},S,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((i,a)=>(i[`x-amz-meta-${a.toLowerCase()}`]=e.Metadata[a],i),{}),[Yo]:e[zo],[Fi]:e[$o],[Li]:e[qo],[Ui]:e[jo],[zi]:e[Ko],[$i]:e[Ho],[Cr]:[()=>S(e[Kn]),()=>Bt(e[Kn]).toString()],[ei]:e[Go],[ti]:e[Vo],[ni]:e[Wo],[si]:e[Xo],[mn]:e[jt],[Wi]:e[de],[Xi]:e[Di],[vt]:e[bt],[Nn]:e[Mn],[Pt]:e[Ct],[hn]:e[Ot],[ks]:e[ws],[tt]:[()=>S(e[je]),()=>e[je].toString()],[Be]:e[_e],[Mf]:e[mr],[Vi]:e[Qo],[pr]:[()=>S(e[Hn]),()=>Sr(e[Hn]).toString()],[Gi]:e[kr],[F]:e[D],[Rf]:e[me],[Jo]:e[$e]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[mC]:[,""]});return t.m("POST").h(s).q(r).b(void 0),t.build()},J_=async(e,n)=>{const t=I(e,n),s=u({},S,{[E2]:e[DM],[mn]:e[jt],[hn]:e[Ot],[ks]:e[ws],[tt]:[()=>S(e[je]),()=>e[je].toString()]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[c2]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},eA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});return t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.m("DELETE").h(s).b(void 0),t.build()},tA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Oc]:[,""],[vn]:[,G(e[Y],"Id")]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},nA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[pf]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},sA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[xf]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},rA=async(e,n)=>{const t=I(e,n),s={};t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[zc]:[,""],[vn]:[,G(e[Y],"Id")]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},oA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Lc]:[,""],[vn]:[,G(e[Y],"Id")]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},iA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Sf]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},aA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Ef]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},cA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[$c]:[,""],[vn]:[,G(e[Y],"Id")]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},lA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[kf]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},dA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[_f]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},uA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Bf]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},fA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Zo]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},mA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[vf]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},hA=async(e,n)=>{const t=I(e,n),s=u({},S,{[If]:e[ff],[Be]:e[_e],[Pf]:[()=>S(e[To]),()=>e[To].toString()],[F]:e[D],[qi]:e[Ni],[aN]:[()=>S(e[Vh]),()=>Bt(e[Vh]).toString()],[cN]:[()=>S(e[Wh]),()=>e[Wh].toString()]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[Rt]:[,"DeleteObject"],[an]:[,e[he]]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},yA=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[If]:e[ff],[Be]:e[_e],[Pf]:[()=>S(e[To]),()=>e[To].toString()],[F]:e[D],[Je]:e[me]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[ZM]:[,""]});let o,i;return e.Delete!==void 0&&(i=CR(e.Delete),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("POST").h(s).q(r).b(o),t.build()},gA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[Zo]:[,""],[an]:[,e[he]]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},bA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Af]:[,""]});return t.m("DELETE").h(s).q(r).b(void 0),t.build()},CA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D],[Be]:e[_e]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Gb]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},pA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Mc]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},xA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Oc]:[,""],[Rt]:[,"GetBucketAnalyticsConfiguration"],[vn]:[,G(e[Y],"Id")]});return t.m("GET").h(s).q(r).b(void 0),t.build()},SA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[pf]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},EA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[xf]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},wA=async(e,n)=>{const t=I(e,n),s={};t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[zc]:[,""],[Rt]:[,"GetBucketIntelligentTieringConfiguration"],[vn]:[,G(e[Y],"Id")]});return t.m("GET").h(s).q(r).b(void 0),t.build()},kA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Lc]:[,""],[Rt]:[,"GetBucketInventoryConfiguration"],[vn]:[,G(e[Y],"Id")]});return t.m("GET").h(s).q(r).b(void 0),t.build()},_A=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Sf]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},AA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[eC]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},BA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[tC]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},vA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Ef]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},PA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[$c]:[,""],[Rt]:[,"GetBucketMetricsConfiguration"],[vn]:[,G(e[Y],"Id")]});return t.m("GET").h(s).q(r).b(void 0),t.build()},RA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[nC]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},TA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[kf]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},IA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[_f]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},OA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[o2]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},MA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Bf]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},NA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[rC]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},DA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Zo]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},FA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[hC]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},LA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[vf]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},UA=async(e,n)=>{const t=I(e,n),s=u({},S,{[qi]:e[Ni],[Qb]:[()=>S(e[mc]),()=>Bt(e[mc]).toString()],[Uc]:e[Ic],[Zb]:[()=>S(e[hc]),()=>Bt(e[hc]).toString()],[oC]:e[Nb],[vt]:e[bt],[Nn]:e[Mn],[Pt]:e[Ct],[Be]:e[_e],[F]:e[D],[bC]:e[gb]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[Rt]:[,"GetObject"],[iC]:[,e[Db]],[aC]:[,e[Fb]],[cC]:[,e[Lb]],[lC]:[,e[Ub]],[dC]:[,e[zb]],[uC]:[()=>e.ResponseExpires!==void 0,()=>Bt(e[$b]).toString()],[an]:[,e[he]],[qc]:[()=>e.PartNumber!==void 0,()=>e[tn].toString()]});return t.m("GET").h(s).q(r).b(void 0),t.build()},zA=async(e,n)=>{const t=I(e,n),s=u({},S,{[Be]:e[_e],[F]:e[D]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[Mc]:[,""],[an]:[,e[he]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},$A=async(e,n)=>{const t=I(e,n),s=u({},S,{[uN]:[()=>S(e[Qn]),()=>e[Qn].toString()],[hN]:e[us],[vt]:e[bt],[Nn]:e[Mn],[Pt]:e[Ct],[Be]:e[_e],[F]:e[D],[fN]:[()=>S(e[Yh]),()=>(e[Yh]||[]).map(Ac).join(", ")]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[XM]:[,""],[an]:[,e[he]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},qA=async(e,n)=>{const t=I(e,n),s=u({},S,{[Be]:e[_e],[F]:e[D]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[Jb]:[,""],[an]:[,e[he]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},jA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[sC]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},KA=async(e,n)=>{const t=I(e,n),s=u({},S,{[Be]:e[_e],[F]:e[D]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[fC]:[,""],[an]:[,e[he]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},HA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D],[Be]:e[_e]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[Zo]:[,""],[an]:[,e[he]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},GA=async(e,n)=>{const t=I(e,n),s=u({},S,{[Be]:e[_e],[F]:e[D]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[f2]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},VA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Af]:[,""]});return t.m("GET").h(s).q(r).b(void 0),t.build()},WA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});return t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.m("HEAD").h(s).b(void 0),t.build()},XA=async(e,n)=>{const t=I(e,n),s=u({},S,{[qi]:e[Ni],[Qb]:[()=>S(e[mc]),()=>Bt(e[mc]).toString()],[Uc]:e[Ic],[Zb]:[()=>S(e[hc]),()=>Bt(e[hc]).toString()],[oC]:e[Nb],[vt]:e[bt],[Nn]:e[Mn],[Pt]:e[Ct],[Be]:e[_e],[F]:e[D],[bC]:e[gb]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[iC]:[,e[Db]],[aC]:[,e[Fb]],[cC]:[,e[Lb]],[lC]:[,e[Ub]],[dC]:[,e[zb]],[uC]:[()=>e.ResponseExpires!==void 0,()=>Bt(e[$b]).toString()],[an]:[,e[he]],[qc]:[()=>e.PartNumber!==void 0,()=>e[tn].toString()]});return t.m("HEAD").h(s).q(r).b(void 0),t.build()},QA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Oc]:[,""],[Rt]:[,"ListBucketAnalyticsConfigurations"],[_r]:[,e[Pe]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},ZA=async(e,n)=>{const t=I(e,n),s={};t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[zc]:[,""],[Rt]:[,"ListBucketIntelligentTieringConfigurations"],[_r]:[,e[Pe]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},YA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Lc]:[,""],[Rt]:[,"ListBucketInventoryConfigurations"],[_r]:[,e[Pe]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},JA=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[$c]:[,""],[Rt]:[,"ListBucketMetricsConfigurations"],[_r]:[,e[Pe]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},eB=async(e,n)=>{const t=I(e,n),s={};t.bp("/");const r=u({[Rt]:[,"ListBuckets"],[t2]:[()=>e.MaxBuckets!==void 0,()=>e[G1].toString()],[_r]:[,e[Pe]],[ji]:[,e[L]],[QM]:[,e[Si]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},tB=async(e,n)=>{const t=I(e,n),s={};t.bp("/");const r=u({[Rt]:[,"ListDirectoryBuckets"],[_r]:[,e[Pe]],[n2]:[()=>e.MaxDirectoryBuckets!==void 0,()=>e[W1].toString()]});return t.m("GET").h(s).q(r).b(void 0),t.build()},nB=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D],[Be]:e[_e]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[mC]:[,""],[Nc]:[,e[zt]],[Dc]:[,e[$t]],[Yb]:[,e[ds]],[r2]:[()=>e.MaxUploads!==void 0,()=>e[Pa].toString()],[ji]:[,e[L]],[m2]:[,e[Wa]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},sB=async(e,n)=>{const t=I(e,n),s=u({},S,{[Be]:e[_e],[F]:e[D],[Of]:[()=>S(e[Io]),()=>(e[Io]||[]).map(Ac).join(", ")]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Nc]:[,e[zt]],[Dc]:[,e[$t]],[e2]:[,e[Ba]],[wf]:[()=>e.MaxKeys!==void 0,()=>e[xn].toString()],[ji]:[,e[L]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},rB=async(e,n)=>{const t=I(e,n),s=u({},S,{[Be]:e[_e],[F]:e[D],[Of]:[()=>S(e[Io]),()=>(e[Io]||[]).map(Ac).join(", ")]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[JM]:[,"2"],[Nc]:[,e[zt]],[Dc]:[,e[$t]],[wf]:[()=>e.MaxKeys!==void 0,()=>e[xn].toString()],[ji]:[,e[L]],[_r]:[,e[Pe]],[YM]:[()=>e.FetchOwner!==void 0,()=>e[m1].toString()],[l2]:[,e[za]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},oB=async(e,n)=>{const t=I(e,n),s=u({},S,{[F]:e[D],[Be]:e[_e],[Of]:[()=>S(e[Io]),()=>(e[Io]||[]).map(Ac).join(", ")]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[h2]:[,""],[Nc]:[,e[zt]],[Dc]:[,e[$t]],[Yb]:[,e[ds]],[wf]:[()=>e.MaxKeys!==void 0,()=>e[xn].toString()],[ji]:[,e[L]],[y2]:[,e[Qa]]});return t.m("GET").h(s).q(r).b(void 0),t.build()},iB=async(e,n)=>{const t=I(e,n),s=u({},S,{[Be]:e[_e],[F]:e[D],[vt]:e[bt],[Nn]:e[Mn],[Pt]:e[Ct]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[Rt]:[,"ListParts"],[s2]:[()=>e.MaxParts!==void 0,()=>e[Qn].toString()],[i2]:[,e[us]],[Ki]:[,G(e[rn],"UploadId")]});return t.m("GET").h(s).q(r).b(void 0),t.build()},aB=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[F]:e[D],[Je]:e[me]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Gb]:[,""]});let o,i;return e.AccelerateConfiguration!==void 0&&(i=WP(e.AccelerateConfiguration),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},cB=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[Yo]:e[zo],[ht]:e[mt],[Je]:e[me],[ei]:e[Go],[ti]:e[Vo],[ni]:e[Wo],[Tf]:e[uf],[si]:e[Xo],[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Mc]:[,""]});let o,i;return e.AccessControlPolicy!==void 0&&(i=Qg(e.AccessControlPolicy),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},lB=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Oc]:[,""],[vn]:[,G(e[Y],"Id")]});let o,i;return e.AnalyticsConfiguration!==void 0&&(i=eR(e.AnalyticsConfiguration),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},dB=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[ht]:e[mt],[Je]:e[me],[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[pf]:[,""]});let o,i;return e.CORSConfiguration!==void 0&&(i=uR(e.CORSConfiguration),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},uB=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[ht]:e[mt],[Je]:e[me],[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[xf]:[,""]});let o,i;return e.ServerSideEncryptionConfiguration!==void 0&&(i=HT(e.ServerSideEncryptionConfiguration),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},fB=async(e,n)=>{const t=I(e,n),s={"content-type":"application/xml"};t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[zc]:[,""],[vn]:[,G(e[Y],"Id")]});let o,i;return e.IntelligentTieringConfiguration!==void 0&&(i=OR(e.IntelligentTieringConfiguration),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},mB=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Lc]:[,""],[vn]:[,G(e[Y],"Id")]});let o,i;return e.InventoryConfiguration!==void 0&&(i=NR(e.InventoryConfiguration),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},hB=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[Je]:e[me],[F]:e[D],[Nf]:e[Cf]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Sf]:[,""]});let o,i;return e.LifecycleConfiguration!==void 0&&(i=oR(e.LifecycleConfiguration),i=i.n("LifecycleConfiguration"),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},yB=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[ht]:e[mt],[Je]:e[me],[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[tC]:[,""]});let o,i;return e.BucketLoggingStatus!==void 0&&(i=iR(e.BucketLoggingStatus),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},gB=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[$c]:[,""],[vn]:[,G(e[Y],"Id")]});let o,i;return e.MetricsConfiguration!==void 0&&(i=sT(e.MetricsConfiguration),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},bB=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[F]:e[D],[CN]:[()=>S(e[ty]),()=>e[ty].toString()]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[nC]:[,""]});let o,i;return e.NotificationConfiguration!==void 0&&(i=cT(e.NotificationConfiguration),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},CB=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[ht]:e[mt],[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[kf]:[,""]});let o,i;return e.OwnershipControls!==void 0&&(i=bT(e.OwnershipControls),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},pB=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"text/plain",[ht]:e[mt],[Je]:e[me],[S2]:[()=>S(e[qh]),()=>e[qh].toString()],[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[_f]:[,""]});let o,i;return e.Policy!==void 0&&(i=e.Policy,o=i),t.m("PUT").h(s).q(r).b(o),t.build()},xB=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[ht]:e[mt],[Je]:e[me],[gC]:e[Kb],[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Bf]:[,""]});let o,i;return e.ReplicationConfiguration!==void 0&&(i=vT(e.ReplicationConfiguration),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},SB=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[ht]:e[mt],[Je]:e[me],[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[rC]:[,""]});let o,i;return e.RequestPaymentConfiguration!==void 0&&(i=MT(e.RequestPaymentConfiguration),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},EB=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[ht]:e[mt],[Je]:e[me],[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Zo]:[,""]});let o,i;return e.Tagging!==void 0&&(i=of(e.Tagging),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},wB=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[ht]:e[mt],[Je]:e[me],[If]:e[ff],[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[hC]:[,""]});let o,i;return e.VersioningConfiguration!==void 0&&(i=u3(e.VersioningConfiguration),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},kB=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[ht]:e[mt],[Je]:e[me],[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[vf]:[,""]});let o,i;return e.WebsiteConfiguration!==void 0&&(i=f3(e.WebsiteConfiguration),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},_B=async(e,n)=>{const t=I(e,n),s=u({},S,{...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((a,c)=>(a[`x-amz-meta-${c.toLowerCase()}`]=e.Metadata[c],a),{}),[$i]:e[Ho]||"application/octet-stream",[Yo]:e[zo],[Fi]:e[$o],[Li]:e[qo],[Ui]:e[jo],[zi]:e[Ko],[br]:[()=>S(e[ps]),()=>e[ps].toString()],[ht]:e[mt],[Je]:e[me],[Ar]:e[De],[Br]:e[Fe],[vr]:e[Le],[Pr]:e[Ue],[Rr]:e[ze],[Cr]:[()=>S(e[Kn]),()=>Bt(e[Kn]).toString()],[qi]:e[Ni],[Uc]:e[Ic],[ei]:e[Go],[ti]:e[Vo],[ni]:e[Wo],[si]:e[Xo],[xN]:[()=>S(e[iy]),()=>e[iy].toString()],[mn]:e[jt],[Wi]:e[de],[Xi]:e[Di],[vt]:e[bt],[Nn]:e[Mn],[Pt]:e[Ct],[hn]:e[Ot],[ks]:e[ws],[tt]:[()=>S(e[je]),()=>e[je].toString()],[Be]:e[_e],[Mf]:e[mr],[Vi]:e[Qo],[pr]:[()=>S(e[Hn]),()=>Sr(e[Hn]).toString()],[Gi]:e[kr],[F]:e[D]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[Rt]:[,"PutObject"]});let o,i;return e.Body!==void 0&&(i=e.Body,o=i),t.m("PUT").h(s).q(r).b(o),t.build()},AB=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[Yo]:e[zo],[ht]:e[mt],[Je]:e[me],[ei]:e[Go],[ti]:e[Vo],[ni]:e[Wo],[Tf]:e[uf],[si]:e[Xo],[Be]:e[_e],[F]:e[D]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[Mc]:[,""],[an]:[,e[he]]});let o,i;return e.AccessControlPolicy!==void 0&&(i=Qg(e.AccessControlPolicy),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},BB=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[Be]:e[_e],[ht]:e[mt],[Je]:e[me],[F]:e[D]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[Jb]:[,""],[an]:[,e[he]]});let o,i;return e.LegalHold!==void 0&&(i=fT(e.LegalHold),i=i.n("LegalHold"),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},vB=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[Be]:e[_e],[gC]:e[Kb],[ht]:e[mt],[Je]:e[me],[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[sC]:[,""]});let o,i;return e.ObjectLockConfiguration!==void 0&&(i=uT(e.ObjectLockConfiguration),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},PB=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[Be]:e[_e],[Pf]:[()=>S(e[To]),()=>e[To].toString()],[ht]:e[mt],[Je]:e[me],[F]:e[D]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[fC]:[,""],[an]:[,e[he]]});let o,i;return e.Retention!==void 0&&(i=mT(e.Retention),i=i.n("Retention"),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},RB=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[ht]:e[mt],[Je]:e[me],[F]:e[D],[Be]:e[_e]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[Zo]:[,""],[an]:[,e[he]]});let o,i;return e.Tagging!==void 0&&(i=of(e.Tagging),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},TB=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[ht]:e[mt],[Je]:e[me],[F]:e[D]});t.bp("/"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const r=u({[Af]:[,""]});let o,i;return e.PublicAccessBlockConfiguration!==void 0&&(i=ET(e.PublicAccessBlockConfiguration),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("PUT").h(s).q(r).b(o),t.build()},IB=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[Be]:e[_e],[Je]:e[me],[F]:e[D]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[a2]:[,""],[an]:[,e[he]]});let o,i;return e.RestoreRequest!==void 0&&(i=DT(e.RestoreRequest),o=Ae,i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),o+=i.toString()),t.m("POST").h(s).q(r).b(o),t.build()},OB=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/xml",[vt]:e[bt],[Nn]:e[Mn],[Pt]:e[Ct],[F]:e[D]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[d2]:[,""],[u2]:[,"2"]});let o;o=Ae;const i=new g(FM);return i.a("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),i.cc(e,Bb),i.cc(e,Ab),e[Ys]!=null&&i.c(Jg(e[Ys]).n(Ys)),e[sr]!=null&&i.c(eb(e[sr]).n(sr)),e[La]!=null&&i.c(NT(e[La]).n(La)),e[qa]!=null&&i.c(qT(e[qa]).n(qa)),o+=i.toString(),t.m("POST").h(s).q(r).b(o),t.build()},MB=async(e,n)=>{const t=I(e,n),s=u({},S,{"content-type":"application/octet-stream",[br]:[()=>S(e[ps]),()=>e[ps].toString()],[ht]:e[mt],[Je]:e[me],[Ar]:e[De],[Br]:e[Fe],[vr]:e[Le],[Pr]:e[Ue],[Rr]:e[ze],[vt]:e[bt],[Nn]:e[Mn],[Pt]:e[Ct],[Be]:e[_e],[F]:e[D]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[Rt]:[,"UploadPart"],[qc]:[G(e.PartNumber,"PartNumber")!=null,()=>e[tn].toString()],[Ki]:[,G(e[rn],"UploadId")]});let o,i;return e.Body!==void 0&&(i=e.Body,o=i),t.m("PUT").h(s).q(r).b(o),t.build()},NB=async(e,n)=>{const t=I(e,n),s=u({},S,{[CC]:e[bb],[pC]:e[Cb],[xC]:[()=>S(e[uc]),()=>Bt(e[uc]).toString()],[SC]:e[pb],[EC]:[()=>S(e[fc]),()=>Bt(e[fc]).toString()],[w2]:e[e1],[vt]:e[bt],[Nn]:e[Mn],[Pt]:e[Ct],[wC]:e[xb],[kC]:e[Sb],[_C]:e[Eb],[Be]:e[_e],[F]:e[D],[PC]:e[_b]});t.bp("/{Key+}"),t.p("Bucket",()=>e.Bucket,"{Bucket}",!1),t.p("Key",()=>e.Key,"{Key+}",!0);const r=u({[Rt]:[,"UploadPartCopy"],[qc]:[G(e.PartNumber,"PartNumber")!=null,()=>e[tn].toString()],[Ki]:[,G(e[rn],"UploadId")]});return t.m("PUT").h(s).q(r).b(void 0),t.build()},DB=async(e,n)=>{const t=I(e,n),s=u({},S,{"x-amz-content-sha256":"UNSIGNED-PAYLOAD",...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((a,c)=>(a[`x-amz-meta-${c.toLowerCase()}`]=e.Metadata[c],a),{}),"content-type":"application/octet-stream",[gN]:e[SM],[bN]:e[vM],[oN]:[()=>S(e[ey]),()=>e[ey].toString()],[k2]:e[xa],[_2]:e[Sa],[A2]:e[lf],[B2]:e[$o],[v2]:e[qo],[P2]:e[jo],[R2]:e[Ko],[br]:[()=>S(e[ps]),()=>e[ps].toString()],[T2]:e[df],[I2]:e[Ho],[D2]:e[De],[F2]:e[Fe],[L2]:e[Le],[U2]:e[Ue],[z2]:e[ze],[$2]:[()=>S(e[In]),()=>e[In].toString()],[O2]:e[Re],[M2]:[()=>S(e[Kn]),()=>Bt(e[Kn]).toString()],[q2]:e[Xt],[N2]:[()=>S(e[Ye]),()=>Bt(e[Ye]).toString()],[j2]:[()=>S(e[yc]),()=>e[yc].toString()],[G2]:e[Qo],[H2]:e[kr],[V2]:[()=>S(e[Hn]),()=>Sr(e[Hn]).toString()],[K2]:[()=>S(e[Oo]),()=>e[Oo].toString()],[Q2]:e[gf],[X2]:e[He],[W2]:e[bf],[Y2]:e[jt],[tN]:e[bt],[J2]:e[Ot],[nN]:e[Ct],[Z2]:e[de],[sN]:[()=>S(e[Jd]),()=>e[Jd].toString()],[rN]:e[he],[eN]:[()=>S(e[je]),()=>e[je].toString()]});t.bp("/WriteGetObjectResponse");let r,o;e.Body!==void 0&&(o=e.Body,r=o);let{hostname:i}=await n.endpoint();if(n.disableHostPrefix!==!0){if(i="{RequestRoute}."+i,e.RequestRoute===void 0)throw new Error("Empty value provided for input host prefix: RequestRoute.");if(i=i.replace("{RequestRoute}",e.RequestRoute),!S0(i))throw new Error("ValidationError: prefixed hostname must be hostname compatible.")}return t.hn(i),t.m("POST").h(s).b(r),t.build()},FB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[He]:[,e.headers[Ve]]});return await ee(e.body,n),t},LB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[Xt]:[,e.headers[Hi]],[jt]:[,e.headers[mn]],[he]:[,e.headers[Gn]],[Ot]:[,e.headers[hn]],[je]:[()=>e.headers[tt]!==void 0,()=>Ce(e.headers[tt])],[He]:[,e.headers[Ve]]}),s=G(re(await te(e.body,n)),"body");return s[ge]!=null&&(t[ge]=y(s[ge])),s[De]!=null&&(t[De]=y(s[De])),s[Fe]!=null&&(t[Fe]=y(s[Fe])),s[Le]!=null&&(t[Le]=y(s[Le])),s[Ue]!=null&&(t[Ue]=y(s[Ue])),s[ze]!=null&&(t[ze]=y(s[ze])),s[$e]!=null&&(t[$e]=y(s[$e])),s[Re]!=null&&(t[Re]=y(s[Re])),s[se]!=null&&(t[se]=y(s[se])),s[Js]!=null&&(t[Js]=y(s[Js])),t},UB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[Xt]:[,e.headers[Hi]],[wb]:[,e.headers[AC]],[he]:[,e.headers[Gn]],[jt]:[,e.headers[mn]],[bt]:[,e.headers[vt]],[Ct]:[,e.headers[Pt]],[Ot]:[,e.headers[hn]],[ws]:[,e.headers[ks]],[je]:[()=>e.headers[tt]!==void 0,()=>Ce(e.headers[tt])],[He]:[,e.headers[Ve]]}),s=re(await te(e.body,n));return t.CopyObjectResult=v3(s),t},zB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[Js]:[,e.headers[eC]]});return await ee(e.body,n),t},$B=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},qB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[hb]:[()=>e.headers[xc]!==void 0,()=>G(gs(e.headers[xc]))],[yb]:[,e.headers[yC]],[jt]:[,e.headers[mn]],[bt]:[,e.headers[vt]],[Ct]:[,e.headers[Pt]],[Ot]:[,e.headers[hn]],[ws]:[,e.headers[ks]],[je]:[()=>e.headers[tt]!==void 0,()=>Ce(e.headers[tt])],[He]:[,e.headers[Ve]],[me]:[,e.headers[Rf]],[$e]:[,e.headers[Jo]]}),s=G(re(await te(e.body,n)),"body");return s[ge]!=null&&(t[ge]=y(s[ge])),s[se]!=null&&(t[se]=y(s[se])),s[rn]!=null&&(t[rn]=y(s[rn])),t},jB=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[jt]:[,e.headers[mn]],[Ot]:[,e.headers[hn]],[ws]:[,e.headers[ks]],[je]:[()=>e.headers[tt]!==void 0,()=>Ce(e.headers[tt])]}),s=G(re(await te(e.body,n)),"body");return s[Bl]!=null&&(t[Bl]=uO(s[Bl])),t},KB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},HB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},GB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},VB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},WB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},XB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},QB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},ZB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},YB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},JB=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},ev=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},tv=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},nv=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},sv=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},rv=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[In]:[()=>e.headers[xs]!==void 0,()=>Ce(e.headers[xs])],[he]:[,e.headers[Gn]],[He]:[,e.headers[Ve]]});return await ee(e.body,n),t},ov=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[He]:[,e.headers[Ve]]}),s=G(re(await te(e.body,n)),"body");return s.Deleted===""?t[la]=[]:s[la]!=null&&(t[la]=M3(J(s[la]))),s.Error===""?t[Kh]=[]:s[Ei]!=null&&(t[Kh]=K3(J(s[Ei]))),t},iv=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[he]:[,e.headers[Gn]]});return await ee(e.body,n),t},av=async(e,n)=>{if(e.statusCode!==204&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},cv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[He]:[,e.headers[Ve]]}),s=G(re(await te(e.body,n)),"body");return s[z]!=null&&(t[z]=y(s[z])),t},lv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=G(re(await te(e.body,n)),"body");return s.AccessControlList===""?t[Ti]=[]:s[$s]!=null&&s[$s][Yn]!=null&&(t[Ti]=ib(J(s[$s][Yn]))),s[Se]!=null&&(t[Se]=Es(s[Se])),t},dv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=re(await te(e.body,n));return t.AnalyticsConfiguration=nb(s),t},uv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=G(re(await te(e.body,n)),"body");return s.CORSRule===""?t[Md]=[]:s[Od]!=null&&(t[Md]=T3(J(s[Od]))),t},fv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=re(await te(e.body,n));return t.ServerSideEncryptionConfiguration=cO(s),t},mv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=re(await te(e.body,n));return t.IntelligentTieringConfiguration=cb(s),t},hv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=re(await te(e.body,n));return t.InventoryConfiguration=lb(s),t},yv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[Cf]:[,e.headers[Nf]]}),s=G(re(await te(e.body,n)),"body");return s.Rule===""?t[Bn]=[]:s[nn]!=null&&(t[Bn]=gI(J(s[nn]))),t},gv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=G(re(await te(e.body,n)),"body");return s[mo]!=null&&(t[mo]=y(s[mo])),t},bv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=G(re(await te(e.body,n)),"body");return s[er]!=null&&(t[er]=bI(s[er])),t},Cv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=re(await te(e.body,n));return t.GetBucketMetadataTableConfigurationResult=Q3(s),t},pv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=re(await te(e.body,n));return t.MetricsConfiguration=db(s),t},xv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=G(re(await te(e.body,n)),"body");return s[Vs]!=null&&(t[Vs]=H3(s[Vs])),s.CloudFunctionConfiguration===""?t[qd]=[]:s[$h]!=null&&(t[qd]=uI(J(s[$h]))),s.QueueConfiguration===""?t[Wd]=[]:s[Vd]!=null&&(t[Wd]=VI(J(s[Vd]))),s.TopicConfiguration===""?t[tu]=[]:s[eu]!=null&&(t[tu]=AO(J(s[eu]))),t},Sv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=re(await te(e.body,n));return t.OwnershipControls=DI(s),t},Ev=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=await PO(e.body,n);return t.Policy=y(s),t},wv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=re(await te(e.body,n));return t.PolicyStatus=jI(s),t},kv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=re(await te(e.body,n));return t.ReplicationConfiguration=ZI(s),t},_v=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=G(re(await te(e.body,n)),"body");return s[Oa]!=null&&(t[Oa]=y(s[Oa])),t},Av=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=G(re(await te(e.body,n)),"body");return s.TagSet===""?t[Rn]=[]:s[Rn]!=null&&s[Rn][le]!=null&&(t[Rn]=wr(J(s[Rn][le]))),t},Bv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=G(re(await te(e.body,n)),"body");return s[Kd]!=null&&(t[va]=y(s[Kd])),s[z]!=null&&(t[z]=y(s[z])),t},vv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=G(re(await te(e.body,n)),"body");return s[Xs]!=null&&(t[Xs]=j3(s[Xs])),s[Zs]!=null&&(t[Zs]=J3(s[Zs])),s[or]!=null&&(t[or]=XI(s[or])),s.RoutingRules===""?t[zr]=[]:s[zr]!=null&&s[zr][bc]!=null&&(t[zr]=rO(J(s[zr][bc]))),t},Pv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[In]:[()=>e.headers[xs]!==void 0,()=>Ce(e.headers[xs])],[lf]:[,e.headers[Vb]],[Xt]:[,e.headers[Hi]],[bf]:[,e.headers[BC]],[Ye]:[()=>e.headers[Mo]!==void 0,()=>G(gs(e.headers[Mo]))],[ps]:[()=>e.headers[br]!==void 0,()=>At(e.headers[br])],[Re]:[,e.headers[Fc]],[De]:[,e.headers[Ar]],[Fe]:[,e.headers[Br]],[Le]:[,e.headers[vr]],[Ue]:[,e.headers[Pr]],[ze]:[,e.headers[Rr]],[$e]:[,e.headers[Jo]],[yc]:[()=>e.headers[Sc]!==void 0,()=>ve(e.headers[Sc])],[he]:[,e.headers[Gn]],[$o]:[,e.headers[Fi]],[qo]:[,e.headers[Li]],[jo]:[,e.headers[Ui]],[Ko]:[,e.headers[zi]],[df]:[,e.headers[Wb]],[Ho]:[,e.headers[$i]],[Kn]:[()=>e.headers[Cr]!==void 0,()=>G(gs(e.headers[Cr]))],[kb]:[,e.headers[Xb]],[Di]:[,e.headers[Xi]],[jt]:[,e.headers[mn]],[bt]:[,e.headers[vt]],[Ct]:[,e.headers[Pt]],[Ot]:[,e.headers[hn]],[je]:[()=>e.headers[tt]!==void 0,()=>Ce(e.headers[tt])],[de]:[,e.headers[Wi]],[He]:[,e.headers[Ve]],[gf]:[,e.headers[vC]],[Oo]:[()=>e.headers[Ec]!==void 0,()=>ve(e.headers[Ec])],[Jd]:[()=>e.headers[dy]!==void 0,()=>ve(e.headers[dy])],[Qo]:[,e.headers[Vi]],[Hn]:[()=>e.headers[pr]!==void 0,()=>G(Yt(e.headers[pr]))],[kr]:[,e.headers[Gi]],Metadata:[,Object.keys(e.headers).filter(r=>r.startsWith("x-amz-meta-")).reduce((r,o)=>(r[o.substring(11)]=e.headers[o],r),{})]}),s=e.body;return n.sdkStreamMixin(s),t.Body=s,t},Rv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[He]:[,e.headers[Ve]]}),s=G(re(await te(e.body,n)),"body");return s.AccessControlList===""?t[Ti]=[]:s[$s]!=null&&s[$s][Yn]!=null&&(t[Ti]=ib(J(s[$s][Yn]))),s[Se]!=null&&(t[Se]=Es(s[Se])),t},Tv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[In]:[()=>e.headers[xs]!==void 0,()=>Ce(e.headers[xs])],[Ye]:[()=>e.headers[Mo]!==void 0,()=>G(gs(e.headers[Mo]))],[he]:[,e.headers[Gn]],[He]:[,e.headers[Ve]]}),s=G(re(await te(e.body,n)),"body");return s[Rl]!=null&&(t[Rl]=k3(s[Rl])),s[Re]!=null&&(t[Re]=y(s[Re])),s[Hl]!=null&&(t[Hl]=Z3(s[Hl])),s[Gl]!=null&&(t[Gl]=At(s[Gl])),s[de]!=null&&(t[de]=y(s[de])),t},Iv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=re(await te(e.body,n));return t.LegalHold=RI(s),t},Ov=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=re(await te(e.body,n));return t.ObjectLockConfiguration=PI(s),t},Mv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=re(await te(e.body,n));return t.Retention=TI(s),t},Nv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[he]:[,e.headers[Gn]]}),s=G(re(await te(e.body,n)),"body");return s.TagSet===""?t[Rn]=[]:s[Rn]!=null&&s[Rn][le]!=null&&(t[Rn]=wr(J(s[Rn][le]))),t},Dv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[He]:[,e.headers[Ve]]}),s=e.body;return n.sdkStreamMixin(s),t.Body=s,t},Fv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=re(await te(e.body,n));return t.PublicAccessBlockConfiguration=HI(s),t},Lv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[VO]:[,e.headers[C2]],[KO]:[,e.headers[b2]],[Si]:[,e.headers[x2]],[DO]:[()=>e.headers[cy]!==void 0,()=>Ce(e.headers[cy])]});return await ee(e.body,n),t},Uv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[In]:[()=>e.headers[xs]!==void 0,()=>Ce(e.headers[xs])],[lf]:[,e.headers[Vb]],[Xt]:[,e.headers[Hi]],[bf]:[,e.headers[BC]],[FO]:[,e.headers[g2]],[Ye]:[()=>e.headers[Mo]!==void 0,()=>G(gs(e.headers[Mo]))],[ps]:[()=>e.headers[br]!==void 0,()=>At(e.headers[br])],[De]:[,e.headers[Ar]],[Fe]:[,e.headers[Br]],[Le]:[,e.headers[vr]],[Ue]:[,e.headers[Pr]],[ze]:[,e.headers[Rr]],[$e]:[,e.headers[Jo]],[Re]:[,e.headers[Fc]],[yc]:[()=>e.headers[Sc]!==void 0,()=>ve(e.headers[Sc])],[he]:[,e.headers[Gn]],[$o]:[,e.headers[Fi]],[qo]:[,e.headers[Li]],[jo]:[,e.headers[Ui]],[Ko]:[,e.headers[zi]],[Ho]:[,e.headers[$i]],[df]:[,e.headers[Wb]],[Kn]:[()=>e.headers[Cr]!==void 0,()=>G(gs(e.headers[Cr]))],[kb]:[,e.headers[Xb]],[Di]:[,e.headers[Xi]],[jt]:[,e.headers[mn]],[bt]:[,e.headers[vt]],[Ct]:[,e.headers[Pt]],[Ot]:[,e.headers[hn]],[je]:[()=>e.headers[tt]!==void 0,()=>Ce(e.headers[tt])],[de]:[,e.headers[Wi]],[He]:[,e.headers[Ve]],[gf]:[,e.headers[vC]],[Oo]:[()=>e.headers[Ec]!==void 0,()=>ve(e.headers[Ec])],[Qo]:[,e.headers[Vi]],[Hn]:[()=>e.headers[pr]!==void 0,()=>G(Yt(e.headers[pr]))],[kr]:[,e.headers[Gi]],Metadata:[,Object.keys(e.headers).filter(s=>s.startsWith("x-amz-meta-")).reduce((s,r)=>(s[r.substring(11)]=e.headers[r],s),{})]});return await ee(e.body,n),t},zv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=G(re(await te(e.body,n)),"body");return s.AnalyticsConfiguration===""?t[zh]=[]:s[_d]!=null&&(t[zh]=p3(J(s[_d]))),s[Pe]!=null&&(t[Pe]=y(s[Pe])),s[ke]!=null&&(t[ke]=Ce(s[ke])),s[Qt]!=null&&(t[Qt]=y(s[Qt])),t},$v=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=G(re(await te(e.body,n)),"body");return s[Pe]!=null&&(t[Pe]=y(s[Pe])),s.IntelligentTieringConfiguration===""?t[Xh]=[]:s[$d]!=null&&(t[Xh]=tI(J(s[$d]))),s[ke]!=null&&(t[ke]=Ce(s[ke])),s[Qt]!=null&&(t[Qt]=y(s[Qt])),t},qv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=G(re(await te(e.body,n)),"body");return s[Pe]!=null&&(t[Pe]=y(s[Pe])),s.InventoryConfiguration===""?t[Hh]=[]:s[zd]!=null&&(t[Hh]=sI(J(s[zd]))),s[ke]!=null&&(t[ke]=Ce(s[ke])),s[Qt]!=null&&(t[Qt]=y(s[Qt])),t},jv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=G(re(await te(e.body,n)),"body");return s[Pe]!=null&&(t[Pe]=y(s[Pe])),s[ke]!=null&&(t[ke]=Ce(s[ke])),s.MetricsConfiguration===""?t[Qh]=[]:s[jd]!=null&&(t[Qh]=SI(J(s[jd]))),s[Qt]!=null&&(t[Qt]=y(s[Qt])),t},Kv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=G(re(await te(e.body,n)),"body");return s.Buckets===""?t[zn]=[]:s[zn]!=null&&s[zn][ge]!=null&&(t[zn]=sb(J(s[zn][ge]))),s[Pe]!=null&&(t[Pe]=y(s[Pe])),s[Se]!=null&&(t[Se]=Es(s[Se])),s[L]!=null&&(t[L]=y(s[L])),t},Hv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=G(re(await te(e.body,n)),"body");return s.Buckets===""?t[zn]=[]:s[zn]!=null&&s[zn][ge]!=null&&(t[zn]=sb(J(s[zn][ge]))),s[Pe]!=null&&(t[Pe]=y(s[Pe])),t},Gv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[He]:[,e.headers[Ve]]}),s=G(re(await te(e.body,n)),"body");return s[ge]!=null&&(t[ge]=y(s[ge])),s.CommonPrefixes===""?t[Ut]=[]:s[Ut]!=null&&(t[Ut]=Rc(J(s[Ut]))),s[zt]!=null&&(t[zt]=y(s[zt])),s[$t]!=null&&(t[$t]=y(s[$t])),s[ke]!=null&&(t[ke]=Ce(s[ke])),s[ds]!=null&&(t[ds]=y(s[ds])),s[Pa]!=null&&(t[Pa]=ve(s[Pa])),s[ho]!=null&&(t[ho]=y(s[ho])),s[jl]!=null&&(t[jl]=y(s[jl])),s[L]!=null&&(t[L]=y(s[L])),s[Wa]!=null&&(t[Wa]=y(s[Wa])),s.Upload===""?t[sy]=[]:s[ny]!=null&&(t[sy]=kI(J(s[ny]))),t},Vv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[He]:[,e.headers[Ve]]}),s=G(re(await te(e.body,n)),"body");return s.CommonPrefixes===""?t[Ut]=[]:s[Ut]!=null&&(t[Ut]=Rc(J(s[Ut]))),s.Contents===""?t[as]=[]:s[as]!=null&&(t[as]=ub(J(s[as]))),s[zt]!=null&&(t[zt]=y(s[zt])),s[$t]!=null&&(t[$t]=y(s[$t])),s[ke]!=null&&(t[ke]=Ce(s[ke])),s[Ba]!=null&&(t[Ba]=y(s[Ba])),s[xn]!=null&&(t[xn]=ve(s[xn])),s[Xe]!=null&&(t[Xe]=y(s[Xe])),s[ql]!=null&&(t[ql]=y(s[ql])),s[L]!=null&&(t[L]=y(s[L])),t},Wv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[He]:[,e.headers[Ve]]}),s=G(re(await te(e.body,n)),"body");return s.CommonPrefixes===""?t[Ut]=[]:s[Ut]!=null&&(t[Ut]=Rc(J(s[Ut]))),s.Contents===""?t[as]=[]:s[as]!=null&&(t[as]=ub(J(s[as]))),s[Pe]!=null&&(t[Pe]=y(s[Pe])),s[zt]!=null&&(t[zt]=y(s[zt])),s[$t]!=null&&(t[$t]=y(s[$t])),s[ke]!=null&&(t[ke]=Ce(s[ke])),s[Ll]!=null&&(t[Ll]=ve(s[Ll])),s[xn]!=null&&(t[xn]=ve(s[xn])),s[Xe]!=null&&(t[Xe]=y(s[Xe])),s[Qt]!=null&&(t[Qt]=y(s[Qt])),s[L]!=null&&(t[L]=y(s[L])),s[za]!=null&&(t[za]=y(s[za])),t},Xv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[He]:[,e.headers[Ve]]}),s=G(re(await te(e.body,n)),"body");return s.CommonPrefixes===""?t[Ut]=[]:s[Ut]!=null&&(t[Ut]=Rc(J(s[Ut]))),s.DeleteMarker===""?t[jh]=[]:s[In]!=null&&(t[jh]=F3(J(s[In]))),s[zt]!=null&&(t[zt]=y(s[zt])),s[$t]!=null&&(t[$t]=y(s[$t])),s[ke]!=null&&(t[ke]=Ce(s[ke])),s[ds]!=null&&(t[ds]=y(s[ds])),s[xn]!=null&&(t[xn]=ve(s[xn])),s[Xe]!=null&&(t[Xe]=y(s[Xe])),s[ho]!=null&&(t[ho]=y(s[ho])),s[Kl]!=null&&(t[Kl]=y(s[Kl])),s[L]!=null&&(t[L]=y(s[L])),s[Qa]!=null&&(t[Qa]=y(s[Qa])),s.Version===""?t[oy]=[]:s[ry]!=null&&(t[oy]=NI(J(s[ry]))),t},Qv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[hb]:[()=>e.headers[xc]!==void 0,()=>G(gs(e.headers[xc]))],[yb]:[,e.headers[yC]],[He]:[,e.headers[Ve]]}),s=G(re(await te(e.body,n)),"body");return s[ge]!=null&&(t[ge]=y(s[ge])),s[me]!=null&&(t[me]=y(s[me])),s[$e]!=null&&(t[$e]=y(s[$e])),s[co]!=null&&(t[co]=ab(s[co])),s[ke]!=null&&(t[ke]=Ce(s[ke])),s[se]!=null&&(t[se]=y(s[se])),s[Qn]!=null&&(t[Qn]=ve(s[Qn])),s[yo]!=null&&(t[yo]=y(s[yo])),s[Se]!=null&&(t[Se]=Es(s[Se])),s[us]!=null&&(t[us]=y(s[us])),s.Part===""?t[Ii]=[]:s[gc]!=null&&(t[Ii]=$I(J(s[gc]))),s[de]!=null&&(t[de]=y(s[de])),s[rn]!=null&&(t[rn]=y(s[rn])),t},Zv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},Yv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},Jv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},eP=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},tP=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},nP=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},sP=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},rP=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[Cf]:[,e.headers[Nf]]});return await ee(e.body,n),t},oP=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},iP=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},aP=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},cP=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},lP=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},dP=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},uP=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},fP=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},mP=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},hP=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},yP=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[Xt]:[,e.headers[Hi]],[Re]:[,e.headers[Fc]],[De]:[,e.headers[Ar]],[Fe]:[,e.headers[Br]],[Le]:[,e.headers[vr]],[Ue]:[,e.headers[Pr]],[ze]:[,e.headers[Rr]],[$e]:[,e.headers[Jo]],[jt]:[,e.headers[mn]],[he]:[,e.headers[Gn]],[bt]:[,e.headers[vt]],[Ct]:[,e.headers[Pt]],[Ot]:[,e.headers[hn]],[ws]:[,e.headers[ks]],[je]:[()=>e.headers[tt]!==void 0,()=>Ce(e.headers[tt])],[It]:[()=>e.headers[ly]!==void 0,()=>At(e.headers[ly])],[He]:[,e.headers[Ve]]});return await ee(e.body,n),t},gP=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[He]:[,e.headers[Ve]]});return await ee(e.body,n),t},bP=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[He]:[,e.headers[Ve]]});return await ee(e.body,n),t},CP=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[He]:[,e.headers[Ve]]});return await ee(e.body,n),t},pP=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[He]:[,e.headers[Ve]]});return await ee(e.body,n),t},xP=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[he]:[,e.headers[Gn]]});return await ee(e.body,n),t},SP=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},EP=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[He]:[,e.headers[Ve]],[pM]:[,e.headers[yN]]});return await ee(e.body,n),t},wP=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)}),s=e.body;return t.Payload=$P(s,n),t},kP=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[jt]:[,e.headers[mn]],[Re]:[,e.headers[Fc]],[De]:[,e.headers[Ar]],[Fe]:[,e.headers[Br]],[Le]:[,e.headers[vr]],[Ue]:[,e.headers[Pr]],[ze]:[,e.headers[Rr]],[bt]:[,e.headers[vt]],[Ct]:[,e.headers[Pt]],[Ot]:[,e.headers[hn]],[je]:[()=>e.headers[tt]!==void 0,()=>Ce(e.headers[tt])],[He]:[,e.headers[Ve]]});return await ee(e.body,n),t},_P=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e),[wb]:[,e.headers[AC]],[jt]:[,e.headers[mn]],[bt]:[,e.headers[vt]],[Ct]:[,e.headers[Pt]],[Ot]:[,e.headers[hn]],[je]:[()=>e.headers[tt]!==void 0,()=>Ce(e.headers[tt])],[He]:[,e.headers[Ve]]}),s=re(await te(e.body,n));return t.CopyPartResult=P3(s),t},AP=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,n);const t=u({$metadata:A(e)});return await ee(e.body,n),t},N=async(e,n)=>{const t={...e,body:await KS(e.body,n)},s=HS(e,t.body);switch(s){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await DP(t);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await UP(t);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await vP(t);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await PP(t);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await MP(t);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await TP(t);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await NP(t);case"NotFound":case"com.amazonaws.s3#NotFound":throw await FP(t);case"EncryptionTypeMismatch":case"com.amazonaws.s3#EncryptionTypeMismatch":throw await RP(t);case"InvalidRequest":case"com.amazonaws.s3#InvalidRequest":throw await IP(t);case"InvalidWriteOffset":case"com.amazonaws.s3#InvalidWriteOffset":throw await OP(t);case"TooManyParts":case"com.amazonaws.s3#TooManyParts":throw await zP(t);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await LP(t);default:const r=t.body;return BP({output:e,parsedBody:r,errorCode:s})}},BP=gx(qt),vP=async(e,n)=>{const t=u({});e.body;const s=new Ku({$metadata:A(e),...t});return on(s,e.body)},PP=async(e,n)=>{const t=u({});e.body;const s=new Hu({$metadata:A(e),...t});return on(s,e.body)},RP=async(e,n)=>{const t=u({});e.body;const s=new Yu({$metadata:A(e),...t});return on(s,e.body)},TP=async(e,n)=>{const t=u({}),s=e.body;s[Xn]!=null&&(t[Xn]=y(s[Xn])),s[de]!=null&&(t[de]=y(s[de]));const r=new Vu({$metadata:A(e),...t});return on(r,e.body)},IP=async(e,n)=>{const t=u({});e.body;const s=new Ju({$metadata:A(e),...t});return on(s,e.body)},OP=async(e,n)=>{const t=u({});e.body;const s=new ef({$metadata:A(e),...t});return on(s,e.body)},MP=async(e,n)=>{const t=u({});e.body;const s=new Gu({$metadata:A(e),...t});return on(s,e.body)},NP=async(e,n)=>{const t=u({});e.body;const s=new Wu({$metadata:A(e),...t});return on(s,e.body)},DP=async(e,n)=>{const t=u({});e.body;const s=new qu({$metadata:A(e),...t});return on(s,e.body)},FP=async(e,n)=>{const t=u({});e.body;const s=new Xu({$metadata:A(e),...t});return on(s,e.body)},LP=async(e,n)=>{const t=u({});e.body;const s=new nf({$metadata:A(e),...t});return on(s,e.body)},UP=async(e,n)=>{const t=u({});e.body;const s=new ju({$metadata:A(e),...t});return on(s,e.body)},zP=async(e,n)=>{const t=u({});e.body;const s=new tf({$metadata:A(e),...t});return on(s,e.body)},$P=(e,n)=>n.eventStreamMarshaller.deserialize(e,async t=>t.Records!=null?{Records:await HP(t.Records)}:t.Stats!=null?{Stats:await GP(t.Stats,n)}:t.Progress!=null?{Progress:await KP(t.Progress,n)}:t.Cont!=null?{Cont:await qP(t.Cont,n)}:t.End!=null?{End:await jP(t.End,n)}:{$unknown:e}),qP=async(e,n)=>{const t={};return await te(e.body,n),Object.assign(t,B3()),t},jP=async(e,n)=>{const t={};return await te(e.body,n),Object.assign(t,z3()),t},KP=async(e,n)=>{const t={},s=await te(e.body,n);return t.Details=KI(s),t},HP=async(e,n)=>{const t={};return t.Payload=e.body,t},GP=async(e,n)=>{const t={},s=await te(e.body,n);return t.Details=bO(s),t},VP=(e,n)=>{const t=new g(js);return e[Rs]!=null&&t.c(g.of(Rs,String(e[Rs])).n(Rs)),t},WP=(e,n)=>{const t=new g(IO);return e[z]!=null&&t.c(g.of(zO,e[z]).n(z)),t},Qg=(e,n)=>{const t=new g(TO);return t.lc(e,"Grants","AccessControlList",()=>Yg(e[Ti])),e[Se]!=null&&t.c(gT(e[Se]).n(Se)),t},XP=(e,n)=>{const t=new g(qs);return e[Se]!=null&&t.c(g.of(uM,e[Se]).n(Se)),t},QP=(e,n)=>e.filter(t=>t!=null).map(t=>g.of(Ad,t).n(pt)),ZP=(e,n)=>e.filter(t=>t!=null).map(t=>g.of(vd,t).n(pt)),YP=(e,n)=>e.filter(t=>t!=null).map(t=>g.of(Rd,t).n(pt)),JP=(e,n)=>{const t=new g(RO);return t.cc(e,L),t.l(e,"Tags","Tag",()=>Lo(e[Zt])),t},eR=(e,n)=>{const t=new g(_d);return e[Y]!=null&&t.c(g.of(NO,e[Y]).n(Y)),e[Z]!=null&&t.c(nR(e[Z]).n(Z)),e[lr]!=null&&t.c(JT(e[lr]).n(lr)),t},tR=(e,n)=>{const t=new g(OO);return e[An]!=null&&t.c(sR(e[An]).n(An)),t},nR=(e,n)=>{const t=new g(MO);return wd.visit(e,{Prefix:s=>{e[L]!=null&&t.c(g.of(L,s).n(L))},Tag:s=>{e[le]!=null&&t.c(Fo(s).n(le))},And:s=>{e[Ke]!=null&&t.c(JP(s).n(Ke))},_:(s,r)=>{if(!(r instanceof g||r instanceof Zu))throw new Error("Unable to serialize unknown union members in XML.");t.c(new g(s).c(r))}}),t},sR=(e,n)=>{const t=new g(LO);return e[pn]!=null&&t.c(g.of(UO,e[pn]).n(pn)),e[Xr]!=null&&t.c(g.of(Gr,e[Xr]).n(Xr)),e[ge]!=null&&t.c(g.of(Tc,e[ge]).n(ge)),t.cc(e,L),t},rR=(e,n)=>{const t=new g($O);return t.cc(e,i1),e[sn]!=null&&t.c(g.of(WO,e[sn]).n(sn)),t},oR=(e,n)=>{const t=new g(qO);return t.l(e,"Rules","Rule",()=>QR(e[Bn])),t},iR=(e,n)=>{const t=new g(GO);return e[er]!=null&&t.c(YR(e[er]).n(er)),t},aR=(e,n)=>{const t=new g(ZO);return t.l(e,"Parts","Part",()=>lR(e[Ii])),t},cR=(e,n)=>{const t=new g(JO);return t.cc(e,Re),t.cc(e,De),t.cc(e,Fe),t.cc(e,Le),t.cc(e,Ue),t.cc(e,ze),e[tn]!=null&&t.c(g.of(tn,String(e[tn])).n(tn)),t},lR=(e,n)=>e.filter(t=>t!=null).map(t=>cR(t).n(pt)),dR=(e,n)=>{const t=new g(Ks);return t.cc(e,wa),t.cc(e,_a),t},uR=(e,n)=>{const t=new g(YO);return t.l(e,"CORSRules","CORSRule",()=>mR(e[Md])),t},fR=(e,n)=>{const t=new g(Od);return t.cc(e,Ze),t.l(e,"AllowedHeaders","AllowedHeader",()=>QP(e[Bd])),t.l(e,"AllowedMethods","AllowedMethod",()=>ZP(e[Pd])),t.l(e,"AllowedOrigins","AllowedOrigin",()=>YP(e[Td])),t.l(e,"ExposeHeaders","ExposeHeader",()=>AR(e[Nd])),e[Os]!=null&&t.c(g.of(Os,String(e[Os])).n(Os)),t},mR=(e,n)=>e.filter(t=>t!=null).map(t=>fR(t).n(pt)),hR=(e,n)=>{const t=new g(QO);return e[mo]!=null&&t.c(g.of(jO,e[mo]).n(mo)),e[Js]!=null&&t.c(ZR(e[Js]).n(Js)),e[ge]!=null&&t.c(rR(e[ge]).n(ge)),t},yR=(e,n)=>{const t=new g(t1);return t.cc(e,f1),t.cc(e,r1),t.cc(e,Mb),t.cc(e,yf),t.cc(e,vb),t.cc(e,Ob),e[ca]!=null&&t.c(g.of(ca,String(e[ca])).n(ca)),t},gR=(e,n)=>{const t=new g(n1);return t.cc(e,gM),t.cc(e,Mb),t.cc(e,yf),t.cc(e,vb),t.cc(e,Ob),t},bR=(e,n)=>{const t=new g(Gs);return e[Sn]!=null&&t.c(g.of(Rb,e[Sn]).n(Sn)),e[we]!=null&&t.c(g.of(we,String(e[we])).n(we)),e[Ds]!=null&&t.c(g.of(Ds,String(e[Ds])).n(Ds)),t},CR=(e,n)=>{const t=new g(a1);return t.l(e,"Objects","Object",()=>dT(e[mM])),e[fa]!=null&&t.c(g.of(fa,String(e[fa])).n(fa)),t},pR=(e,n)=>{const t=new g(Hs);return e[z]!=null&&t.c(g.of(o1,e[z]).n(z)),t},xR=(e,n)=>{const t=new g(gt);return e[ge]!=null&&t.c(g.of(Tc,e[ge]).n(ge)),e[Wr]!=null&&t.c(g.of(Gr,e[Wr]).n(Wr)),t.cc(e,de),e[qs]!=null&&t.c(XP(e[qs]).n(qs)),e[Ws]!=null&&t.c(ER(e[Ws]).n(Ws)),e[ar]!=null&&t.c(OT(e[ar]).n(ar)),e[tr]!=null&&t.c(tT(e[tr]).n(tr)),t},SR=(e,n)=>{const t=new g(qn);return e[Ol]!=null&&t.c(g.of(jt,e[Ol]).n(Ol)),e[Ul]!=null&&t.c(g.of(Ot,e[Ul]).n(Ul)),t.cc(e,N1),t},ER=(e,n)=>{const t=new g(Ws);return t.cc(e,Na),t},wR=(e,n)=>{const t=new g(Xs);return e[se]!=null&&t.c(g.of(hf,e[se]).n(se)),t},kR=(e,n)=>new g(Vs),sf=(e,n)=>e.filter(t=>t!=null).map(t=>g.of(gr,t).n(pt)),_R=(e,n)=>{const t=new g(Qs);return e[z]!=null&&t.c(g.of(l1,e[z]).n(z)),t},AR=(e,n)=>e.filter(t=>t!=null).map(t=>g.of(Dd,t).n(pt)),BR=(e,n)=>{const t=new g(Fd);return e[Xe]!=null&&t.c(g.of(h1,e[Xe]).n(Xe)),e[un]!=null&&t.c(g.of(y1,e[un]).n(un)),t},vR=(e,n)=>e.filter(t=>t!=null).map(t=>BR(t).n(pt)),PR=(e,n)=>{const t=new g(Ea);return t.cc(e,jb),t},RR=(e,n)=>{const t=new g(Yn);if(e[dn]!=null){const s=Zg(e[dn]).n(dn);s.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),t.c(s)}return t.cc(e,jn),t},Zg=(e,n)=>{const t=new g(dn);return t.cc(e,On),t.cc(e,pa),t.cc(e,Ze),t.cc(e,Xa),t.a("xsi:type",e[sn]),t},Yg=(e,n)=>e.filter(t=>t!=null).map(t=>RR(t).n(Yn)),TR=(e,n)=>{const t=new g(Zs);return t.cc(e,Ka),t},Jg=(e,n)=>{const t=new g(Ys);return e[to]!=null&&t.c(yR(e[to]).n(to)),t.cc(e,s1),e[lo]!=null&&t.c(qR(e[lo]).n(lo)),e[Vl]!=null&&t.c(xT(e[Vl]).n(Vl)),t},IR=(e,n)=>{const t=new g(A1);return t.cc(e,L),t.l(e,"Tags","Tag",()=>Lo(e[Zt])),t},OR=(e,n)=>{const t=new g($d);return e[Y]!=null&&t.c(g.of(R1,e[Y]).n(Y)),e[Z]!=null&&t.c(MR(e[Z]).n(Z)),e[z]!=null&&t.c(g.of(T1,e[z]).n(z)),t.l(e,"Tierings","Tiering",()=>o3(e[nu])),t},MR=(e,n)=>{const t=new g(P1);return t.cc(e,L),e[le]!=null&&t.c(Fo(e[le]).n(le)),e[Ke]!=null&&t.c(IR(e[Ke]).n(Ke)),t},NR=(e,n)=>{const t=new g(zd);return e[gt]!=null&&t.c(DR(e[gt]).n(gt)),e[Is]!=null&&t.c(g.of(Is,String(e[Is])).n(Is)),e[Z]!=null&&t.c(LR(e[Z]).n(Z)),e[Y]!=null&&t.c(g.of(S1,e[Y]).n(Y)),e[io]!=null&&t.c(g.of(E1,e[io]).n(io)),t.lc(e,"OptionalFields","OptionalFields",()=>UR(e[Ur])),e[So]!=null&&t.c($R(e[So]).n(So)),t},DR=(e,n)=>{const t=new g(g1);return e[An]!=null&&t.c(zR(e[An]).n(An)),t},FR=(e,n)=>{const t=new g(b1);return e[Yd]!=null&&t.c(YT(e[Yd]).n(pc)),e[Zd]!=null&&t.c(QT(e[Zd]).n(Cc)),t},LR=(e,n)=>{const t=new g(C1);return t.cc(e,L),t},UR=(e,n)=>e.filter(t=>t!=null).map(t=>g.of(w1,t).n(Ud)),zR=(e,n)=>{const t=new g(k1);return t.cc(e,Gr),e[ge]!=null&&t.c(g.of(Tc,e[ge]).n(ge)),e[pn]!=null&&t.c(g.of(p1,e[pn]).n(pn)),t.cc(e,L),e[qn]!=null&&t.c(FR(e[qn]).n(qn)),t},$R=(e,n)=>{const t=new g(_1);return e[ro]!=null&&t.c(g.of(x1,e[ro]).n(ro)),t},qR=(e,n)=>{const t=new g(I1);return e[sn]!=null&&t.c(g.of(M1,e[sn]).n(sn)),t},jR=(e,n)=>{const t=new g(O1);return t.cc(e,yf),t},KR=(e,n)=>{const t=new g(F1);return e[Y]!=null&&t.c(g.of(mf,e[Y]).n(Y)),e[Aa]!=null&&t.c(g.of(Aa,e[Aa]).n(Id)),t.l(e,"Events","Event",()=>sf(e[Zn])),e[Z]!=null&&t.c(rf(e[Z]).n(Z)),t},HR=(e,n)=>e.filter(t=>t!=null).map(t=>KR(t).n(pt)),GR=(e,n)=>{const t=new g(D1);return e[Wt]!=null&&t.c(g.of(Wt,Sr(e[Wt]).toString()).n(Wt)),e[we]!=null&&t.c(g.of(we,String(e[we])).n(we)),e[Ts]!=null&&t.c(g.of(Ts,String(e[Ts])).n(Ts)),t},VR=(e,n)=>{const t=new g($1);return e[Xt]!=null&&t.c(GR(e[Xt]).n(Xt)),t.cc(e,Ze),t.cc(e,L),e[Z]!=null&&t.c(XR(e[Z]).n(Z)),e[z]!=null&&t.c(g.of(u1,e[z]).n(z)),t.l(e,"Transitions","Transition",()=>l3(e[ou])),t.l(e,"NoncurrentVersionTransitions","NoncurrentVersionTransition",()=>aT(e[Hd])),e[nr]!=null&&t.c(oT(e[nr]).n(nr)),e[js]!=null&&t.c(VP(e[js]).n(js)),t},WR=(e,n)=>{const t=new g(q1);return t.cc(e,L),t.l(e,"Tags","Tag",()=>Lo(e[Zt])),e[kn]!=null&&t.c(g.of(Tb,String(e[kn])).n(kn)),e[_n]!=null&&t.c(g.of(Ib,String(e[_n])).n(_n)),t},XR=(e,n)=>{const t=new g(j1);return t.cc(e,L),e[le]!=null&&t.c(Fo(e[le]).n(le)),e[kn]!=null&&t.c(g.of(Tb,String(e[kn])).n(kn)),e[_n]!=null&&t.c(g.of(Ib,String(e[_n])).n(_n)),e[Ke]!=null&&t.c(WR(e[Ke]).n(Ke)),t},QR=(e,n)=>e.filter(t=>t!=null).map(t=>VR(t).n(pt)),ZR=(e,n)=>{const t=new g(L1);return e[sn]!=null&&t.c(g.of(K1,e[sn]).n(sn)),e[Xe]!=null&&t.c(g.of(U1,e[Xe]).n(Xe)),t},YR=(e,n)=>{const t=new g(er);return t.cc(e,Ga),t.lc(e,"TargetGrants","TargetGrants",()=>n3(e[$r])),t.cc(e,Va),e[hr]!=null&&t.c(s3(e[hr]).n(hr)),t},JR=(e,n)=>{const t=new g(Pb);return e[Xe]!=null&&t.c(g.of(Z1,e[Xe]).n(Xe)),e[un]!=null&&t.c(g.of(eM,e[un]).n(un)),t},eT=(e,n)=>{const t=new g(J1);return e[ja]!=null&&t.c($T(e[ja]).n(ja)),t},tT=(e,n)=>{const t=new g(tr);return e[z]!=null&&t.c(g.of(Y1,e[z]).n(z)),e[so]!=null&&t.c(tb(e[so]).n(so)),t},nT=(e,n)=>{const t=new g(H1);return t.cc(e,L),t.l(e,"Tags","Tag",()=>Lo(e[Zt])),t.cc(e,Wn),t},sT=(e,n)=>{const t=new g(jd);return e[Y]!=null&&t.c(g.of(Q1,e[Y]).n(Y)),e[Z]!=null&&t.c(rT(e[Z]).n(Z)),t},rT=(e,n)=>{const t=new g(X1);return kd.visit(e,{Prefix:s=>{e[L]!=null&&t.c(g.of(L,s).n(L))},Tag:s=>{e[le]!=null&&t.c(Fo(s).n(le))},AccessPointArn:s=>{e[Wn]!=null&&t.c(g.of(Wn,s).n(Wn))},And:s=>{e[Ke]!=null&&t.c(nT(s).n(Ke))},_:(s,r)=>{if(!(r instanceof g||r instanceof Zu))throw new Error("Unable to serialize unknown union members in XML.");t.c(new g(s).c(r))}}),t},oT=(e,n)=>{const t=new g(nr);return e[En]!=null&&t.c(g.of(we,String(e[En])).n(En)),e[wn]!=null&&t.c(g.of(Hb,String(e[wn])).n(wn)),t},iT=(e,n)=>{const t=new g(Gd);return e[En]!=null&&t.c(g.of(we,String(e[En])).n(En)),e[de]!=null&&t.c(g.of(qb,e[de]).n(de)),e[wn]!=null&&t.c(g.of(Hb,String(e[wn])).n(wn)),t},aT=(e,n)=>e.filter(t=>t!=null).map(t=>iT(t).n(pt)),cT=(e,n)=>{const t=new g(tM);return t.l(e,"TopicConfigurations","TopicConfiguration",()=>a3(e[tu])),t.l(e,"QueueConfigurations","QueueConfiguration",()=>kT(e[Wd])),t.l(e,"LambdaFunctionConfigurations","CloudFunctionConfiguration",()=>HR(e[qd])),e[Vs]!=null&&t.c(kR(e[Vs]).n(Vs)),t},rf=(e,n)=>{const t=new g(nM);return e[se]!=null&&t.c(UT(e[se]).n(Qd)),t},lT=(e,n)=>{const t=new g(iM);return e[se]!=null&&t.c(g.of(hf,e[se]).n(se)),e[he]!=null&&t.c(g.of(fM,e[he]).n(he)),t.cc(e,Re),e[ua]!=null&&t.c(g.of(ua,Bt(e[ua]).toString()).n(ua)),e[It]!=null&&t.c(g.of(It,String(e[It])).n(It)),t},dT=(e,n)=>e.filter(t=>t!=null).map(t=>lT(t).n(pt)),uT=(e,n)=>{const t=new g(aM);return t.cc(e,Ta),e[nn]!=null&&t.c(hT(e[nn]).n(nn)),t},fT=(e,n)=>{const t=new g(cM);return e[z]!=null&&t.c(g.of(kr,e[z]).n(z)),t},mT=(e,n)=>{const t=new g(lM);return e[Sn]!=null&&t.c(g.of(Rb,e[Sn]).n(Sn)),e[po]!=null&&t.c(g.of(Wt,Sr(e[po]).toString()).n(po)),t},hT=(e,n)=>{const t=new g(dM);return e[Gs]!=null&&t.c(bR(e[Gs]).n(Gs)),t},yT=(e,n)=>{const t=new g(Ra);return e[Yl]!=null&&t.c(zT(e[Yl]).n(Yl)),t},eb=(e,n)=>{const t=new g(sr);return e[to]!=null&&t.c(gR(e[to]).n(to)),e[lo]!=null&&t.c(jR(e[lo]).n(lo)),t},gT=(e,n)=>{const t=new g(Se);return t.cc(e,On),t.cc(e,Ze),t},bT=(e,n)=>{const t=new g(sM);return t.l(e,"Rules","Rule",()=>pT(e[Bn])),t},CT=(e,n)=>{const t=new g(oM);return t.cc(e,wi),t},pT=(e,n)=>e.filter(t=>t!=null).map(t=>CT(t).n(pt)),xT=(e,n)=>new g(yM),ST=(e,n)=>{const t=new g(rr);return t.cc(e,Ia),t},ET=(e,n)=>{const t=new g(hM);return e[Zr]!=null&&t.c(g.of(ma,String(e[Zr])).n(Zr)),e[ao]!=null&&t.c(g.of(ma,String(e[ao])).n(ao)),e[Yr]!=null&&t.c(g.of(ma,String(e[Yr])).n(Yr)),e[bo]!=null&&t.c(g.of(ma,String(e[bo])).n(bo)),t},wT=(e,n)=>{const t=new g(Vd);return e[Y]!=null&&t.c(g.of(mf,e[Y]).n(Y)),e[Ma]!=null&&t.c(g.of(Ma,e[Ma]).n(Xd)),t.l(e,"Events","Event",()=>sf(e[Zn])),e[Z]!=null&&t.c(rf(e[Z]).n(Z)),t},kT=(e,n)=>e.filter(t=>t!=null).map(t=>wT(t).n(pt)),_T=(e,n)=>{const t=new g(cr);return t.cc(e,ls),t.cc(e,ka),t.cc(e,fs),t.cc(e,Da),t.cc(e,Fa),t},AT=(e,n)=>{const t=new g(or);return t.cc(e,ls),t.cc(e,fs),t},BT=(e,n)=>{const t=new g(ir);return e[z]!=null&&t.c(g.of(CM,e[z]).n(z)),t},vT=(e,n)=>{const t=new g(bM);return t.cc(e,Ua),t.l(e,"Rules","Rule",()=>IT(e[Bn])),t},PT=(e,n)=>{const t=new g(AM);return t.cc(e,Ze),e[Ns]!=null&&t.c(g.of(Ns,String(e[Ns])).n(Ns)),t.cc(e,L),e[Z]!=null&&t.c(TT(e[Z]).n(Z)),e[z]!=null&&t.c(g.of(kM,e[z]).n(z)),e[fr]!=null&&t.c(XT(e[fr]).n(fr)),e[Qs]!=null&&t.c(_R(e[Qs]).n(Qs)),e[gt]!=null&&t.c(xR(e[gt]).n(gt)),e[Hs]!=null&&t.c(pR(e[Hs]).n(Hs)),t},RT=(e,n)=>{const t=new g(EM);return t.cc(e,L),t.l(e,"Tags","Tag",()=>Lo(e[Zt])),t},TT=(e,n)=>{const t=new g(wM);return t.cc(e,L),e[le]!=null&&t.c(Fo(e[le]).n(le)),e[Ke]!=null&&t.c(RT(e[Ke]).n(Ke)),t},IT=(e,n)=>e.filter(t=>t!=null).map(t=>PT(t).n(pt)),OT=(e,n)=>{const t=new g(ar);return e[z]!=null&&t.c(g.of(PM,e[z]).n(z)),e[ko]!=null&&t.c(tb(e[ko]).n(ko)),t},tb=(e,n)=>{const t=new g(RM);return e[Ms]!=null&&t.c(g.of(Ms,String(e[Ms])).n(Ms)),t},MT=(e,n)=>{const t=new g(xM);return t.cc(e,Oa),t},NT=(e,n)=>{const t=new g(La);return e[Ml]!=null&&t.c(g.of(d1,String(e[Ml])).n(Ml)),t},DT=(e,n)=>{const t=new g(BM);return e[we]!=null&&t.c(g.of(we,String(e[we])).n(we)),e[Ea]!=null&&t.c(PR(e[Ea]).n(Ea)),e[sn]!=null&&t.c(g.of(_M,e[sn]).n(sn)),t.cc(e,jb),t.cc(e,c1),e[$a]!=null&&t.c(jT(e[$a]).n($a)),e[Ra]!=null&&t.c(yT(e[Ra]).n(Ra)),t},FT=(e,n)=>{const t=new g(bc);return e[Ks]!=null&&t.c(dR(e[Ks]).n(Ks)),e[cr]!=null&&t.c(_T(e[cr]).n(cr)),t},LT=(e,n)=>e.filter(t=>t!=null).map(t=>FT(t).n(bc)),UT=(e,n)=>{const t=new g(MM);return t.l(e,"FilterRules","FilterRule",()=>vR(e[Ld])),t},zT=(e,n)=>{const t=new g(NM);return t.cc(e,Tc),e[L]!=null&&t.c(g.of(z1,e[L]).n(L)),e[qn]!=null&&t.c(SR(e[qn]).n(qn)),e[vl]!=null&&t.c(g.of(rM,e[vl]).n(vl)),t.lc(e,"AccessControlList","AccessControlList",()=>Yg(e[$s])),e[mr]!=null&&t.c(of(e[mr]).n(mr)),t.lc(e,"UserMetadata","UserMetadata",()=>d3(e[GM])),t.cc(e,de),t},$T=(e,n)=>{const t=new g(ja);return e[Eo]!=null&&t.c(g.of($M,e[Eo]).n(Eo)),e[wo]!=null&&t.c(g.of(qM,e[wo]).n(wo)),t},qT=(e,n)=>{const t=new g(qa);return e[ha]!=null&&t.c(g.of(ha,String(e[ha])).n(ha)),e[da]!=null&&t.c(g.of(da,String(e[da])).n(da)),t},jT=(e,n)=>{const t=new g($a);return e[Ys]!=null&&t.c(Jg(e[Ys]).n(Ys)),t.cc(e,Ab),t.cc(e,Bb),e[sr]!=null&&t.c(eb(e[sr]).n(sr)),t},KT=(e,n)=>{const t=new g(LM);return e[xo]!=null&&t.c(g.of(jt,e[xo]).n(xo)),e[fo]!=null&&t.c(g.of(Ot,e[fo]).n(fo)),t},HT=(e,n)=>{const t=new g(UM);return t.l(e,"Rules","Rule",()=>VT(e[Bn])),t},GT=(e,n)=>{const t=new g(zM);return e[Vr]!=null&&t.c(KT(e[Vr]).n(Vr)),e[je]!=null&&t.c(g.of(je,String(e[je])).n(je)),t},VT=(e,n)=>e.filter(t=>t!=null).map(t=>GT(t).n(pt)),WT=(e,n)=>new g(ur),XT=(e,n)=>{const t=new g(fr);return e[dr]!=null&&t.c(ZT(e[dr]).n(dr)),e[ir]!=null&&t.c(BT(e[ir]).n(ir)),t},QT=(e,n)=>{const t=new g(Cc);return e[uo]!=null&&t.c(g.of(Ot,e[uo]).n(uo)),t},ZT=(e,n)=>{const t=new g(dr);return e[z]!=null&&t.c(g.of(OM,e[z]).n(z)),t},YT=(e,n)=>new g(pc),JT=(e,n)=>{const t=new g(lr);return e[no]!=null&&t.c(e3(e[no]).n(no)),t},e3=(e,n)=>{const t=new g(TM);return e[go]!=null&&t.c(g.of(IM,e[go]).n(go)),e[gt]!=null&&t.c(tR(e[gt]).n(gt)),t},Fo=(e,n)=>{const t=new g(le);return e[se]!=null&&t.c(g.of(hf,e[se]).n(se)),t.cc(e,un),t},of=(e,n)=>{const t=new g(mr);return t.lc(e,"TagSet","TagSet",()=>Lo(e[Rn])),t},Lo=(e,n)=>e.filter(t=>t!=null).map(t=>Fo(t).n(le)),t3=(e,n)=>{const t=new g(KM);if(e[dn]!=null){const s=Zg(e[dn]).n(dn);s.a("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),t.c(s)}return e[jn]!=null&&t.c(g.of(HO,e[jn]).n(jn)),t},n3=(e,n)=>e.filter(t=>t!=null).map(t=>t3(t).n(Yn)),s3=(e,n)=>{const t=new g(hr);return e[ur]!=null&&t.c(WT(e[ur]).n(ur)),e[rr]!=null&&t.c(ST(e[rr]).n(rr)),t},r3=(e,n)=>{const t=new g(su);return e[we]!=null&&t.c(g.of(v1,String(e[we])).n(we)),e[Xn]!=null&&t.c(g.of(B1,e[Xn]).n(Xn)),t},o3=(e,n)=>e.filter(t=>t!=null).map(t=>r3(t).n(pt)),i3=(e,n)=>{const t=new g(eu);return e[Y]!=null&&t.c(g.of(mf,e[Y]).n(Y)),e[Ha]!=null&&t.c(g.of(Ha,e[Ha]).n(ru)),t.l(e,"Events","Event",()=>sf(e[Zn])),e[Z]!=null&&t.c(rf(e[Z]).n(Z)),t},a3=(e,n)=>e.filter(t=>t!=null).map(t=>i3(t).n(pt)),c3=(e,n)=>{const t=new g(iu);return e[Wt]!=null&&t.c(g.of(Wt,Sr(e[Wt]).toString()).n(Wt)),e[we]!=null&&t.c(g.of(we,String(e[we])).n(we)),e[de]!=null&&t.c(g.of(qb,e[de]).n(de)),t},l3=(e,n)=>e.filter(t=>t!=null).map(t=>c3(t).n(pt)),d3=(e,n)=>e.filter(t=>t!=null).map(t=>JR(t).n(Pb)),u3=(e,n)=>{const t=new g(VM);return e[va]!=null&&t.c(g.of(va,e[va]).n(Kd)),e[z]!=null&&t.c(g.of(XO,e[z]).n(z)),t},f3=(e,n)=>{const t=new g(WM);return e[Xs]!=null&&t.c(wR(e[Xs]).n(Xs)),e[Zs]!=null&&t.c(TR(e[Zs]).n(Zs)),e[or]!=null&&t.c(AT(e[or]).n(or)),t.lc(e,"RoutingRules","RoutingRules",()=>LT(e[zr])),t},m3=(e,n)=>{const t={};return e[Rs]!=null&&(t[Rs]=ve(e[Rs])),t},h3=(e,n)=>{const t={};return e[Se]!=null&&(t[Se]=y(e[Se])),t},y3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>y(t)),g3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>y(t)),b3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>y(t)),C3=(e,n)=>{const t={};return e[L]!=null&&(t[L]=y(e[L])),e.Tag===""?t[Zt]=[]:e[le]!=null&&(t[Zt]=wr(J(e[le]))),t},nb=(e,n)=>{const t={};return e[Y]!=null&&(t[Y]=y(e[Y])),e.Filter===""||e[Z]!=null&&(t[Z]=S3(Xy(e[Z]))),e[lr]!=null&&(t[lr]=CO(e[lr])),t},p3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>nb(t)),x3=(e,n)=>{const t={};return e[An]!=null&&(t[An]=E3(e[An])),t},S3=(e,n)=>e[L]!=null?{Prefix:y(e[L])}:e[le]!=null?{Tag:Uo(e[le])}:e[Ke]!=null?{And:C3(e[Ke])}:{$unknown:Object.entries(e)[0]},E3=(e,n)=>{const t={};return e[pn]!=null&&(t[pn]=y(e[pn])),e[Xr]!=null&&(t[Xr]=y(e[Xr])),e[ge]!=null&&(t[ge]=y(e[ge])),e[L]!=null&&(t[L]=y(e[L])),t},w3=(e,n)=>{const t={};return e[Xe]!=null&&(t[Xe]=y(e[Xe])),e[Pl]!=null&&(t[Pl]=G(Yt(e[Pl]))),e[Si]!=null&&(t[Si]=y(e[Si])),t},sb=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>w3(t)),k3=(e,n)=>{const t={};return e[De]!=null&&(t[De]=y(e[De])),e[Fe]!=null&&(t[Fe]=y(e[Fe])),e[Le]!=null&&(t[Le]=y(e[Le])),e[Ue]!=null&&(t[Ue]=y(e[Ue])),e[ze]!=null&&(t[ze]=y(e[ze])),e[$e]!=null&&(t[$e]=y(e[$e])),t},rb=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>y(t)),_3=(e,n)=>{const t={};return e[L]!=null&&(t[L]=y(e[L])),t},Rc=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>_3(t)),A3=(e,n)=>{const t={};return e[wa]!=null&&(t[wa]=y(e[wa])),e[_a]!=null&&(t[_a]=y(e[_a])),t},B3=(e,n)=>({}),v3=(e,n)=>{const t={};return e[Re]!=null&&(t[Re]=y(e[Re])),e[Ye]!=null&&(t[Ye]=G(Yt(e[Ye]))),e[$e]!=null&&(t[$e]=y(e[$e])),e[De]!=null&&(t[De]=y(e[De])),e[Fe]!=null&&(t[Fe]=y(e[Fe])),e[Le]!=null&&(t[Le]=y(e[Le])),e[Ue]!=null&&(t[Ue]=y(e[Ue])),e[ze]!=null&&(t[ze]=y(e[ze])),t},P3=(e,n)=>{const t={};return e[Re]!=null&&(t[Re]=y(e[Re])),e[Ye]!=null&&(t[Ye]=G(Yt(e[Ye]))),e[De]!=null&&(t[De]=y(e[De])),e[Fe]!=null&&(t[Fe]=y(e[Fe])),e[Le]!=null&&(t[Le]=y(e[Le])),e[Ue]!=null&&(t[Ue]=y(e[Ue])),e[ze]!=null&&(t[ze]=y(e[ze])),t},R3=(e,n)=>{const t={};return e[Ze]!=null&&(t[Ze]=y(e[Ze])),e.AllowedHeader===""?t[Bd]=[]:e[Ad]!=null&&(t[Bd]=y3(J(e[Ad]))),e.AllowedMethod===""?t[Pd]=[]:e[vd]!=null&&(t[Pd]=g3(J(e[vd]))),e.AllowedOrigin===""?t[Td]=[]:e[Rd]!=null&&(t[Td]=b3(J(e[Rd]))),e.ExposeHeader===""?t[Nd]=[]:e[Dd]!=null&&(t[Nd]=V3(J(e[Dd]))),e[Os]!=null&&(t[Os]=ve(e[Os])),t},T3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>R3(t)),I3=(e,n)=>{const t={};return e[Sn]!=null&&(t[Sn]=y(e[Sn])),e[we]!=null&&(t[we]=ve(e[we])),e[Ds]!=null&&(t[Ds]=ve(e[Ds])),t},O3=(e,n)=>{const t={};return e[se]!=null&&(t[se]=y(e[se])),e[he]!=null&&(t[he]=y(e[he])),e[In]!=null&&(t[In]=Ce(e[In])),e[Il]!=null&&(t[Il]=y(e[Il])),t},M3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>O3(t)),N3=(e,n)=>{const t={};return e[Se]!=null&&(t[Se]=Es(e[Se])),e[se]!=null&&(t[se]=y(e[se])),e[he]!=null&&(t[he]=y(e[he])),e[oo]!=null&&(t[oo]=Ce(e[oo])),e[Ye]!=null&&(t[Ye]=G(Yt(e[Ye]))),t},D3=(e,n)=>{const t={};return e[z]!=null&&(t[z]=y(e[z])),t},F3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>N3(t)),L3=(e,n)=>{const t={};return e[ge]!=null&&(t[ge]=y(e[ge])),e[Wr]!=null&&(t[Wr]=y(e[Wr])),e[de]!=null&&(t[de]=y(e[de])),e[qs]!=null&&(t[qs]=h3(e[qs])),e[Ws]!=null&&(t[Ws]=U3(e[Ws])),e[ar]!=null&&(t[ar]=nO(e[ar])),e[tr]!=null&&(t[tr]=pI(e[tr])),t},U3=(e,n)=>{const t={};return e[Na]!=null&&(t[Na]=y(e[Na])),t},z3=(e,n)=>({}),$3=(e,n)=>{const t={};return e[se]!=null&&(t[se]=y(e[se])),e[he]!=null&&(t[he]=y(e[he])),e[Tl]!=null&&(t[Tl]=y(e[Tl])),e[$l]!=null&&(t[$l]=y(e[$l])),t},q3=(e,n)=>{const t={};return e[xa]!=null&&(t[xa]=y(e[xa])),e[Sa]!=null&&(t[Sa]=y(e[Sa])),t},j3=(e,n)=>{const t={};return e[se]!=null&&(t[se]=y(e[se])),t},K3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>$3(t)),H3=(e,n)=>({}),af=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>y(t)),G3=(e,n)=>{const t={};return e[z]!=null&&(t[z]=y(e[z])),t},V3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>y(t)),W3=(e,n)=>{const t={};return e[Xe]!=null&&(t[Xe]=y(e[Xe])),e[un]!=null&&(t[un]=y(e[un])),t},X3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>W3(t)),Q3=(e,n)=>{const t={};return e[zl]!=null&&(t[zl]=CI(e[zl])),e[z]!=null&&(t[z]=y(e[z])),e[Ei]!=null&&(t[Ei]=q3(e[Ei])),t},Z3=(e,n)=>{const t={};return e[Oo]!=null&&(t[HM]=ve(e[Oo])),e[us]!=null&&(t[us]=y(e[us])),e[yo]!=null&&(t[yo]=y(e[yo])),e[Qn]!=null&&(t[Qn]=ve(e[Qn])),e[ke]!=null&&(t[ke]=Ce(e[ke])),e.Part===""?t[Ii]=[]:e[gc]!=null&&(t[Ii]=qI(J(e[gc]))),t},Y3=(e,n)=>{const t={};return e[dn]!=null&&(t[dn]=ob(e[dn])),e[jn]!=null&&(t[jn]=y(e[jn])),t},ob=(e,n)=>{const t={};return e[On]!=null&&(t[On]=y(e[On])),e[pa]!=null&&(t[pa]=y(e[pa])),e[Ze]!=null&&(t[Ze]=y(e[Ze])),e[Xa]!=null&&(t[Xa]=y(e[Xa])),e[ay]!=null&&(t[sn]=y(e[ay])),t},ib=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>Y3(t)),J3=(e,n)=>{const t={};return e[Ka]!=null&&(t[Ka]=y(e[Ka])),t},ab=(e,n)=>{const t={};return e[Ze]!=null&&(t[Ze]=y(e[Ze])),e[On]!=null&&(t[On]=y(e[On])),t},eI=(e,n)=>{const t={};return e[L]!=null&&(t[L]=y(e[L])),e.Tag===""?t[Zt]=[]:e[le]!=null&&(t[Zt]=wr(J(e[le]))),t},cb=(e,n)=>{const t={};return e[Y]!=null&&(t[Y]=y(e[Y])),e[Z]!=null&&(t[Z]=nI(e[Z])),e[z]!=null&&(t[z]=y(e[z])),e.Tiering===""?t[nu]=[]:e[su]!=null&&(t[nu]=kO(J(e[su]))),t},tI=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>cb(t)),nI=(e,n)=>{const t={};return e[L]!=null&&(t[L]=y(e[L])),e[le]!=null&&(t[le]=Uo(e[le])),e[Ke]!=null&&(t[Ke]=eI(e[Ke])),t},lb=(e,n)=>{const t={};return e[gt]!=null&&(t[gt]=rI(e[gt])),e[Is]!=null&&(t[Is]=Ce(e[Is])),e[Z]!=null&&(t[Z]=iI(e[Z])),e[Y]!=null&&(t[Y]=y(e[Y])),e[io]!=null&&(t[io]=y(e[io])),e.OptionalFields===""?t[Ur]=[]:e[Ur]!=null&&e[Ur][Ud]!=null&&(t[Ur]=aI(J(e[Ur][Ud]))),e[So]!=null&&(t[So]=lI(e[So])),t},sI=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>lb(t)),rI=(e,n)=>{const t={};return e[An]!=null&&(t[An]=cI(e[An])),t},oI=(e,n)=>{const t={};return e[pc]!=null&&(t[Yd]=gO(e[pc])),e[Cc]!=null&&(t[Zd]=hO(e[Cc])),t},iI=(e,n)=>{const t={};return e[L]!=null&&(t[L]=y(e[L])),t},aI=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>y(t)),cI=(e,n)=>{const t={};return e[Gr]!=null&&(t[Gr]=y(e[Gr])),e[ge]!=null&&(t[ge]=y(e[ge])),e[pn]!=null&&(t[pn]=y(e[pn])),e[L]!=null&&(t[L]=y(e[L])),e[qn]!=null&&(t[qn]=oI(e[qn])),t},lI=(e,n)=>{const t={};return e[ro]!=null&&(t[ro]=y(e[ro])),t},dI=(e,n)=>{const t={};return e[Y]!=null&&(t[Y]=y(e[Y])),e[Id]!=null&&(t[Aa]=y(e[Id])),e.Event===""?t[Zn]=[]:e[gr]!=null&&(t[Zn]=af(J(e[gr]))),e[Z]!=null&&(t[Z]=cf(e[Z])),t},uI=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>dI(t)),fI=(e,n)=>{const t={};return e[Wt]!=null&&(t[Wt]=G(Yt(e[Wt]))),e[we]!=null&&(t[we]=ve(e[we])),e[Ts]!=null&&(t[Ts]=Ce(e[Ts])),t},mI=(e,n)=>{const t={};return e[Xt]!=null&&(t[Xt]=fI(e[Xt])),e[Ze]!=null&&(t[Ze]=y(e[Ze])),e[L]!=null&&(t[L]=y(e[L])),e[Z]!=null&&(t[Z]=yI(e[Z])),e[z]!=null&&(t[z]=y(e[z])),e.Transition===""?t[ou]=[]:e[iu]!=null&&(t[ou]=vO(J(e[iu]))),e.NoncurrentVersionTransition===""?t[Hd]=[]:e[Gd]!=null&&(t[Hd]=BI(J(e[Gd]))),e[nr]!=null&&(t[nr]=_I(e[nr])),e[js]!=null&&(t[js]=m3(e[js])),t},hI=(e,n)=>{const t={};return e[L]!=null&&(t[L]=y(e[L])),e.Tag===""?t[Zt]=[]:e[le]!=null&&(t[Zt]=wr(J(e[le]))),e[kn]!=null&&(t[kn]=At(e[kn])),e[_n]!=null&&(t[_n]=At(e[_n])),t},yI=(e,n)=>{const t={};return e[L]!=null&&(t[L]=y(e[L])),e[le]!=null&&(t[le]=Uo(e[le])),e[kn]!=null&&(t[kn]=At(e[kn])),e[_n]!=null&&(t[_n]=At(e[_n])),e[Ke]!=null&&(t[Ke]=hI(e[Ke])),t},gI=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>mI(t)),bI=(e,n)=>{const t={};return e[Ga]!=null&&(t[Ga]=y(e[Ga])),e.TargetGrants===""?t[$r]=[]:e[$r]!=null&&e[$r][Yn]!=null&&(t[$r]=SO(J(e[$r][Yn]))),e[Va]!=null&&(t[Va]=y(e[Va])),e[hr]!=null&&(t[hr]=EO(e[hr])),t},CI=(e,n)=>{const t={};return e[Zl]!=null&&(t[Zl]=iO(e[Zl])),t},pI=(e,n)=>{const t={};return e[z]!=null&&(t[z]=y(e[z])),e[so]!=null&&(t[so]=fb(e[so])),t},xI=(e,n)=>{const t={};return e[L]!=null&&(t[L]=y(e[L])),e.Tag===""?t[Zt]=[]:e[le]!=null&&(t[Zt]=wr(J(e[le]))),e[Wn]!=null&&(t[Wn]=y(e[Wn])),t},db=(e,n)=>{const t={};return e[Y]!=null&&(t[Y]=y(e[Y])),e.Filter===""||e[Z]!=null&&(t[Z]=EI(Xy(e[Z]))),t},SI=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>db(t)),EI=(e,n)=>e[L]!=null?{Prefix:y(e[L])}:e[le]!=null?{Tag:Uo(e[le])}:e[Wn]!=null?{AccessPointArn:y(e[Wn])}:e[Ke]!=null?{And:xI(e[Ke])}:{$unknown:Object.entries(e)[0]},wI=(e,n)=>{const t={};return e[rn]!=null&&(t[rn]=y(e[rn])),e[se]!=null&&(t[se]=y(e[se])),e[Fl]!=null&&(t[Fl]=G(Yt(e[Fl]))),e[de]!=null&&(t[de]=y(e[de])),e[Se]!=null&&(t[Se]=Es(e[Se])),e[co]!=null&&(t[co]=ab(e[co])),e[me]!=null&&(t[me]=y(e[me])),e[$e]!=null&&(t[$e]=y(e[$e])),t},kI=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>wI(t)),_I=(e,n)=>{const t={};return e[En]!=null&&(t[En]=ve(e[En])),e[wn]!=null&&(t[wn]=ve(e[wn])),t},AI=(e,n)=>{const t={};return e[En]!=null&&(t[En]=ve(e[En])),e[de]!=null&&(t[de]=y(e[de])),e[wn]!=null&&(t[wn]=ve(e[wn])),t},BI=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>AI(t)),cf=(e,n)=>{const t={};return e[Qd]!=null&&(t[se]=oO(e[Qd])),t},vI=(e,n)=>{const t={};return e[se]!=null&&(t[se]=y(e[se])),e[Ye]!=null&&(t[Ye]=G(Yt(e[Ye]))),e[Re]!=null&&(t[Re]=y(e[Re])),e.ChecksumAlgorithm===""?t[me]=[]:e[me]!=null&&(t[me]=rb(J(e[me]))),e[$e]!=null&&(t[$e]=y(e[$e])),e[It]!=null&&(t[It]=At(e[It])),e[de]!=null&&(t[de]=y(e[de])),e[Se]!=null&&(t[Se]=Es(e[Se])),e[Co]!=null&&(t[Co]=mb(e[Co])),t},ub=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>vI(t)),PI=(e,n)=>{const t={};return e[Ta]!=null&&(t[Ta]=y(e[Ta])),e[nn]!=null&&(t[nn]=II(e[nn])),t},RI=(e,n)=>{const t={};return e[z]!=null&&(t[z]=y(e[z])),t},TI=(e,n)=>{const t={};return e[Sn]!=null&&(t[Sn]=y(e[Sn])),e[po]!=null&&(t[po]=G(Yt(e[po]))),t},II=(e,n)=>{const t={};return e[Gs]!=null&&(t[Gs]=I3(e[Gs])),t},OI=(e,n)=>{const t={};return e[tn]!=null&&(t[tn]=ve(e[tn])),e[It]!=null&&(t[It]=At(e[It])),e[De]!=null&&(t[De]=y(e[De])),e[Fe]!=null&&(t[Fe]=y(e[Fe])),e[Le]!=null&&(t[Le]=y(e[Le])),e[Ue]!=null&&(t[Ue]=y(e[Ue])),e[ze]!=null&&(t[ze]=y(e[ze])),t},MI=(e,n)=>{const t={};return e[Re]!=null&&(t[Re]=y(e[Re])),e.ChecksumAlgorithm===""?t[me]=[]:e[me]!=null&&(t[me]=rb(J(e[me]))),e[$e]!=null&&(t[$e]=y(e[$e])),e[It]!=null&&(t[It]=At(e[It])),e[de]!=null&&(t[de]=y(e[de])),e[se]!=null&&(t[se]=y(e[se])),e[he]!=null&&(t[he]=y(e[he])),e[oo]!=null&&(t[oo]=Ce(e[oo])),e[Ye]!=null&&(t[Ye]=G(Yt(e[Ye]))),e[Se]!=null&&(t[Se]=Es(e[Se])),e[Co]!=null&&(t[Co]=mb(e[Co])),t},NI=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>MI(t)),Es=(e,n)=>{const t={};return e[On]!=null&&(t[On]=y(e[On])),e[Ze]!=null&&(t[Ze]=y(e[Ze])),t},DI=(e,n)=>{const t={};return e.Rule===""?t[Bn]=[]:e[nn]!=null&&(t[Bn]=LI(J(e[nn]))),t},FI=(e,n)=>{const t={};return e[wi]!=null&&(t[wi]=y(e[wi])),t},LI=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>FI(t)),UI=(e,n)=>{const t={};return e[tn]!=null&&(t[tn]=ve(e[tn])),e[Ye]!=null&&(t[Ye]=G(Yt(e[Ye]))),e[Re]!=null&&(t[Re]=y(e[Re])),e[It]!=null&&(t[It]=At(e[It])),e[De]!=null&&(t[De]=y(e[De])),e[Fe]!=null&&(t[Fe]=y(e[Fe])),e[Le]!=null&&(t[Le]=y(e[Le])),e[Ue]!=null&&(t[Ue]=y(e[Ue])),e[ze]!=null&&(t[ze]=y(e[ze])),t},zI=(e,n)=>{const t={};return e[Ia]!=null&&(t[Ia]=y(e[Ia])),t},$I=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>UI(t)),qI=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>OI(t)),jI=(e,n)=>{const t={};return e[Nl]!=null&&(t[Nl]=Ce(e[Nl])),t},KI=(e,n)=>{const t={};return e[eo]!=null&&(t[eo]=At(e[eo])),e[Qr]!=null&&(t[Qr]=At(e[Qr])),e[Jr]!=null&&(t[Jr]=At(e[Jr])),t},HI=(e,n)=>{const t={};return e[Zr]!=null&&(t[Zr]=Ce(e[Zr])),e[ao]!=null&&(t[ao]=Ce(e[ao])),e[Yr]!=null&&(t[Yr]=Ce(e[Yr])),e[bo]!=null&&(t[bo]=Ce(e[bo])),t},GI=(e,n)=>{const t={};return e[Y]!=null&&(t[Y]=y(e[Y])),e[Xd]!=null&&(t[Ma]=y(e[Xd])),e.Event===""?t[Zn]=[]:e[gr]!=null&&(t[Zn]=af(J(e[gr]))),e[Z]!=null&&(t[Z]=cf(e[Z])),t},VI=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>GI(t)),WI=(e,n)=>{const t={};return e[ls]!=null&&(t[ls]=y(e[ls])),e[ka]!=null&&(t[ka]=y(e[ka])),e[fs]!=null&&(t[fs]=y(e[fs])),e[Da]!=null&&(t[Da]=y(e[Da])),e[Fa]!=null&&(t[Fa]=y(e[Fa])),t},XI=(e,n)=>{const t={};return e[ls]!=null&&(t[ls]=y(e[ls])),e[fs]!=null&&(t[fs]=y(e[fs])),t},QI=(e,n)=>{const t={};return e[z]!=null&&(t[z]=y(e[z])),t},ZI=(e,n)=>{const t={};return e[Ua]!=null&&(t[Ua]=y(e[Ua])),e.Rule===""?t[Bn]=[]:e[nn]!=null&&(t[Bn]=tO(J(e[nn]))),t},YI=(e,n)=>{const t={};return e[Ze]!=null&&(t[Ze]=y(e[Ze])),e[Ns]!=null&&(t[Ns]=ve(e[Ns])),e[L]!=null&&(t[L]=y(e[L])),e[Z]!=null&&(t[Z]=eO(e[Z])),e[z]!=null&&(t[z]=y(e[z])),e[fr]!=null&&(t[fr]=mO(e[fr])),e[Qs]!=null&&(t[Qs]=G3(e[Qs])),e[gt]!=null&&(t[gt]=L3(e[gt])),e[Hs]!=null&&(t[Hs]=D3(e[Hs])),t},JI=(e,n)=>{const t={};return e[L]!=null&&(t[L]=y(e[L])),e.Tag===""?t[Zt]=[]:e[le]!=null&&(t[Zt]=wr(J(e[le]))),t},eO=(e,n)=>{const t={};return e[L]!=null&&(t[L]=y(e[L])),e[le]!=null&&(t[le]=Uo(e[le])),e[Ke]!=null&&(t[Ke]=JI(e[Ke])),t},tO=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>YI(t)),nO=(e,n)=>{const t={};return e[z]!=null&&(t[z]=y(e[z])),e[ko]!=null&&(t[ko]=fb(e[ko])),t},fb=(e,n)=>{const t={};return e[Ms]!=null&&(t[Ms]=ve(e[Ms])),t},mb=(e,n)=>{const t={};return e[Dl]!=null&&(t[Dl]=Ce(e[Dl])),e[Wl]!=null&&(t[Wl]=G(Yt(e[Wl]))),t},sO=(e,n)=>{const t={};return e[Ks]!=null&&(t[Ks]=A3(e[Ks])),e[cr]!=null&&(t[cr]=WI(e[cr])),t},rO=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>sO(t)),oO=(e,n)=>{const t={};return e.FilterRule===""?t[Ld]=[]:e[Fd]!=null&&(t[Ld]=X3(J(e[Fd]))),t},iO=(e,n)=>{const t={};return e[Eo]!=null&&(t[Eo]=y(e[Eo])),e[wo]!=null&&(t[wo]=y(e[wo])),e[Jl]!=null&&(t[Jl]=y(e[Jl])),e[ed]!=null&&(t[ed]=y(e[ed])),t},aO=(e,n)=>{const t={};return e[xo]!=null&&(t[xo]=y(e[xo])),e[fo]!=null&&(t[fo]=y(e[fo])),t},cO=(e,n)=>{const t={};return e.Rule===""?t[Bn]=[]:e[nn]!=null&&(t[Bn]=dO(J(e[nn]))),t},lO=(e,n)=>{const t={};return e[Vr]!=null&&(t[Vr]=aO(e[Vr])),e[je]!=null&&(t[je]=Ce(e[je])),t},dO=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>lO(t)),uO=(e,n)=>{const t={};return e[Al]!=null&&(t[Al]=y(e[Al])),e[Xl]!=null&&(t[Xl]=y(e[Xl])),e[Ql]!=null&&(t[Ql]=y(e[Ql])),e[Xt]!=null&&(t[Xt]=G(Yt(e[Xt]))),t},fO=(e,n)=>({}),mO=(e,n)=>{const t={};return e[dr]!=null&&(t[dr]=yO(e[dr])),e[ir]!=null&&(t[ir]=QI(e[ir])),t},hO=(e,n)=>{const t={};return e[uo]!=null&&(t[uo]=y(e[uo])),t},yO=(e,n)=>{const t={};return e[z]!=null&&(t[z]=y(e[z])),t},gO=(e,n)=>({}),bO=(e,n)=>{const t={};return e[eo]!=null&&(t[eo]=At(e[eo])),e[Qr]!=null&&(t[Qr]=At(e[Qr])),e[Jr]!=null&&(t[Jr]=At(e[Jr])),t},CO=(e,n)=>{const t={};return e[no]!=null&&(t[no]=pO(e[no])),t},pO=(e,n)=>{const t={};return e[go]!=null&&(t[go]=y(e[go])),e[gt]!=null&&(t[gt]=x3(e[gt])),t},Uo=(e,n)=>{const t={};return e[se]!=null&&(t[se]=y(e[se])),e[un]!=null&&(t[un]=y(e[un])),t},wr=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>Uo(t)),xO=(e,n)=>{const t={};return e[dn]!=null&&(t[dn]=ob(e[dn])),e[jn]!=null&&(t[jn]=y(e[jn])),t},SO=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>xO(t)),EO=(e,n)=>{const t={};return e[ur]!=null&&(t[ur]=fO(e[ur])),e[rr]!=null&&(t[rr]=zI(e[rr])),t},wO=(e,n)=>{const t={};return e[we]!=null&&(t[we]=ve(e[we])),e[Xn]!=null&&(t[Xn]=y(e[Xn])),t},kO=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>wO(t)),_O=(e,n)=>{const t={};return e[Y]!=null&&(t[Y]=y(e[Y])),e[ru]!=null&&(t[Ha]=y(e[ru])),e.Event===""?t[Zn]=[]:e[gr]!=null&&(t[Zn]=af(J(e[gr]))),e[Z]!=null&&(t[Z]=cf(e[Z])),t},AO=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>_O(t)),BO=(e,n)=>{const t={};return e[Wt]!=null&&(t[Wt]=G(Yt(e[Wt]))),e[we]!=null&&(t[we]=ve(e[we])),e[de]!=null&&(t[de]=y(e[de])),t},vO=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>BO(t)),A=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),PO=(e,n)=>ee(e,n).then(t=>n.utf8Encoder(t)),Ke="And",RO="AnalyticsAndOperator",_d="AnalyticsConfiguration",zo="ACL",$s="AccessControlList",zh="AnalyticsConfigurationList",TO="AccessControlPolicy",qs="AccessControlTranslation",IO="AccelerateConfiguration",hb="AbortDate",OO="AnalyticsExportDestination",MO="AnalyticsFilter",Ad="AllowedHeader",Bd="AllowedHeaders",NO="AnalyticsId",js="AbortIncompleteMultipartUpload",Gr="AccountId",Al="AccessKeyId",vd="AllowedMethod",Pd="AllowedMethods",Rd="AllowedOrigin",Td="AllowedOrigins",DO="AccessPointAlias",Wn="AccessPointArn",ca="AllowQuotedRecordDelimiter",lf="AcceptRanges",yb="AbortRuleId",FO="ArchiveStatus",LO="AnalyticsS3BucketDestination",UO="AnalyticsS3ExportFileFormat",Vr="ApplyServerSideEncryptionByDefault",Xn="AccessTier",Wr="Account",ge="Bucket",Xr="BucketAccountId",zO="BucketAccelerateStatus",To="BypassGovernanceRetention",$O="BucketInfo",je="BucketKeyEnabled",qO="BucketLifecycleConfiguration",jO="BucketLocationConstraint",KO="BucketLocationName",HO="BucketLogsPermission",GO="BucketLoggingStatus",VO="BucketLocationType",Tc="BucketName",Qr="BytesProcessed",Zr="BlockPublicAcls",Yr="BlockPublicPolicy",Si="BucketRegion",Jr="BytesReturned",eo="BytesScanned",WO="BucketType",XO="BucketVersioningStatus",zn="Buckets",Bl="Credentials",me="ChecksumAlgorithm",vl="CannedACL",QO="CreateBucketConfiguration",$o="CacheControl",De="ChecksumCRC32",Fe="ChecksumCRC32C",Le="ChecksumCRC64NVME",qo="ContentDisposition",Pl="CreationDate",jo="ContentEncoding",Id="CloudFunction",$h="CloudFunctionConfiguration",Ko="ContentLanguage",ps="ContentLength",gb="ChecksumMode",mt="ContentMD5",ZO="CompletedMultipartUpload",YO="CORSConfiguration",Od="CORSRule",Md="CORSRules",Ut="CommonPrefixes",JO="CompletedPart",df="ContentRange",qh="ConfirmRemoveSelfBucketAccess",bb="CopySource",Ue="ChecksumSHA1",ze="ChecksumSHA256",Cb="CopySourceIfMatch",uc="CopySourceIfModifiedSince",pb="CopySourceIfNoneMatch",fc="CopySourceIfUnmodifiedSince",e1="CopySourceRange",xb="CopySourceSSECustomerAlgorithm",Sb="CopySourceSSECustomerKey",Eb="CopySourceSSECustomerKeyMD5",to="CSV",wb="CopySourceVersionId",t1="CSVInput",n1="CSVOutput",$e="ChecksumType",Ho="ContentType",s1="CompressionType",Pe="ContinuationToken",Rl="Checksum",as="Contents",Tl="Code",r1="Comments",Ks="Condition",zt="Delimiter",Rs="DaysAfterInitiation",no="DataExport",In="DeleteMarker",Hs="DeleteMarkerReplication",o1="DeleteMarkerReplicationStatus",Il="DeleteMarkerVersionId",jh="DeleteMarkers",On="DisplayName",i1="DataRedundancy",Gs="DefaultRetention",we="Days",Wt="Date",la="Deleted",a1="Delete",gt="Destination",c1="Description",Kn="Expires",pa="EmailAddress",Vs="EventBridgeConfiguration",D="ExpectedBucketOwner",xa="ErrorCode",Ws="EncryptionConfiguration",Xs="ErrorDocument",Nd="ExposeHeaders",Dd="ExposeHeader",Sa="ErrorMessage",Ts="ExpiredObjectDeleteMarker",Qs="ExistingObjectReplication",l1="ExistingObjectReplicationStatus",d1="EnableRequestProgress",kb="ExpiresString",_b="ExpectedSourceBucketOwner",u1="ExpirationStatus",$t="EncodingType",Re="ETag",Ol="EncryptionType",so="EventThreshold",Ab="ExpressionType",qn="Encryption",Ml="Enabled",da="End",Ei="Error",Kh="Errors",gr="Event",Zn="Events",Bb="Expression",Xt="Expiration",Z="Filter",vb="FieldDelimiter",f1="FileHeaderInfo",m1="FetchOwner",Fd="FilterRule",h1="FilterRuleName",y1="FilterRuleValue",Ld="FilterRules",Ud="Field",pn="Format",ro="Frequency",Yn="Grant",Go="GrantFullControl",Ea="GlacierJobParameters",Vo="GrantRead",Wo="GrantReadACP",uf="GrantWrite",Xo="GrantWriteACP",Ti="Grants",dn="Grantee",wa="HttpErrorCodeReturnedEquals",ls="HostName",ka="HttpRedirectCode",Y="Id",zd="InventoryConfiguration",Hh="InventoryConfigurationList",Zs="IndexDocument",Ze="ID",g1="InventoryDestination",Is="IsEnabled",b1="InventoryEncryption",C1="InventoryFilter",p1="InventoryFormat",x1="InventoryFrequency",S1="InventoryId",E1="InventoryIncludedObjectVersions",oo="IsLatest",Ni="IfMatch",Gh="IfMatchInitiatedTime",Vh="IfMatchLastModifiedTime",Wh="IfMatchSize",mc="IfModifiedSince",Ic="IfNoneMatch",w1="InventoryOptionalField",io="IncludedObjectVersions",Nl="IsPublic",ao="IgnorePublicAcls",Dl="IsRestoreInProgress",Ys="InputSerialization",k1="InventoryS3BucketDestination",_1="InventorySchedule",ke="IsTruncated",A1="IntelligentTieringAndOperator",B1="IntelligentTieringAccessTier",$d="IntelligentTieringConfiguration",Xh="IntelligentTieringConfigurationList",v1="IntelligentTieringDays",P1="IntelligentTieringFilter",R1="IntelligentTieringId",T1="IntelligentTieringStatus",hc="IfUnmodifiedSince",co="Initiator",Fl="Initiated",lo="JSON",I1="JSONInput",O1="JSONOutput",M1="JSONType",se="Key",Ll="KeyCount",uo="KeyId",ds="KeyMarker",N1="KMSContext",Ul="KMSKeyId",fo="KMSMasterKeyID",_a="KeyPrefixEquals",Js="Location",mo="LocationConstraint",er="LoggingEnabled",D1="LifecycleExpiration",Aa="LambdaFunctionArn",qd="LambdaFunctionConfigurations",F1="LambdaFunctionConfiguration",L1="LocationInfo",Ye="LastModified",ua="LastModifiedTime",U1="LocationNameAsString",z1="LocationPrefix",$1="LifecycleRule",q1="LifecycleRuleAndOperator",j1="LifecycleRuleFilter",K1="LocationType",Ba="Marker",H1="MetricsAndOperator",Os="MaxAgeSeconds",G1="MaxBuckets",jd="MetricsConfiguration",Qh="MetricsConfigurationList",V1="MetadataDirective",W1="MaxDirectoryBuckets",Kd="MfaDelete",Pb="MetadataEntry",X1="MetricsFilter",ff="MFA",va="MFADelete",Q1="MetricsId",xn="MaxKeys",Z1="MetadataKey",yc="MissingMeta",Zh="MpuObjectSize",Qn="MaxParts",Y1="MetricsStatus",J1="MetadataTableConfiguration",zl="MetadataTableConfigurationResult",Pa="MaxUploads",eM="MetadataValue",tr="Metrics",$l="Message",Ms="Minutes",Sn="Mode",Xe="Name",tM="NotificationConfiguration",nM="NotificationConfigurationFilter",Qt="NextContinuationToken",En="NoncurrentDays",mf="NotificationId",ho="NextKeyMarker",ql="NextMarker",wn="NewerNoncurrentVersions",yo="NextPartNumberMarker",jl="NextUploadIdMarker",nr="NoncurrentVersionExpiration",Kl="NextVersionIdMarker",Hd="NoncurrentVersionTransitions",Gd="NoncurrentVersionTransition",Se="Owner",Yh="ObjectAttributes",sM="OwnershipControls",rM="ObjectCannedACL",oM="OwnershipControlsRule",Ur="OptionalFields",iM="ObjectIdentifier",hf="ObjectKey",Ra="OutputLocation",aM="ObjectLockConfiguration",Ta="ObjectLockEnabled",Jh="ObjectLockEnabledForBucket",cM="ObjectLockLegalHold",kr="ObjectLockLegalHoldStatus",Qo="ObjectLockMode",lM="ObjectLockRetention",Rb="ObjectLockRetentionMode",Hn="ObjectLockRetainUntilDate",dM="ObjectLockRule",wi="ObjectOwnership",Io="OptionalObjectAttributes",uM="OwnerOverride",Hl="ObjectParts",sr="OutputSerialization",kn="ObjectSizeGreaterThan",Tb="ObjectSizeGreaterThanBytes",_n="ObjectSizeLessThan",Ib="ObjectSizeLessThanBytes",go="OutputSchemaVersion",Gl="ObjectSize",fM="ObjectVersionId",mM="Objects",L="Prefix",hM="PublicAccessBlockConfiguration",Oo="PartsCount",Ia="PartitionDateSource",yM="ParquetInput",tn="PartNumber",us="PartNumberMarker",rr="PartitionedPrefix",Oa="Payer",gc="Part",Vl="Parquet",Ii="Parts",jn="Permission",fs="Protocol",Ns="Priority",fa="Quiet",Ma="QueueArn",Vd="QueueConfiguration",Wd="QueueConfigurations",Ob="QuoteCharacter",Mb="QuoteEscapeCharacter",gM="QuoteFields",Xd="Queue",Nb="Range",or="RedirectAllRequestsTo",He="RequestCharged",Db="ResponseCacheControl",Fb="ResponseContentDisposition",Lb="ResponseContentEncoding",Ub="ResponseContentLanguage",zb="ResponseContentType",bM="ReplicationConfiguration",yf="RecordDelimiter",$b="ResponseExpires",Wl="RestoreExpiryDate",Na="ReplicaKmsKeyID",Da="ReplaceKeyPrefixWith",Fa="ReplaceKeyWith",ir="ReplicaModifications",CM="ReplicaModificationsStatus",pM="RestoreOutputPath",_e="RequestPayer",bo="RestrictPublicBuckets",xM="RequestPaymentConfiguration",La="RequestProgress",SM="RequestRoute",EM="ReplicationRuleAndOperator",wM="ReplicationRuleFilter",kM="ReplicationRuleStatus",_M="RestoreRequestType",AM="ReplicationRule",BM="RestoreRequest",zr="RoutingRules",bc="RoutingRule",gf="ReplicationStatus",Co="RestoreStatus",vM="RequestToken",PM="ReplicationTimeStatus",RM="ReplicationTimeValue",ar="ReplicationTime",po="RetainUntilDate",bf="Restore",cr="Redirect",Ua="Role",nn="Rule",Bn="Rules",z="Status",za="StartAfter",Xl="SecretAccessKey",An="S3BucketDestination",de="StorageClass",lr="StorageClassAnalysis",TM="StorageClassAnalysisDataExport",IM="StorageClassAnalysisSchemaVersion",ey="StatusCode",ty="SkipDestinationValidation",Cc="SSE-KMS",dr="SseKmsEncryptedObjects",OM="SseKmsEncryptedObjectsStatus",MM="S3KeyFilter",Qd="S3Key",NM="S3Location",DM="SessionMode",FM="SelectObjectContentRequest",$a="SelectParameters",ur="SimplePrefix",qa="ScanRange",pc="SSE-S3",fr="SourceSelectionCriteria",jt="ServerSideEncryption",xo="SSEAlgorithm",LM="ServerSideEncryptionByDefault",UM="ServerSideEncryptionConfiguration",bt="SSECustomerAlgorithm",Mn="SSECustomerKey",Ct="SSECustomerKeyMD5",Zd="SSEKMS",ws="SSEKMSEncryptionContext",Ot="SSEKMSKeyId",zM="ServerSideEncryptionRule",Yd="SSES3",Ql="SessionToken",$M="S3TablesBucketArn",ja="S3TablesDestination",Zl="S3TablesDestinationResult",qM="S3TablesName",Yl="S3",So="Schedule",ma="Setting",It="Size",ha="Start",Ka="Suffix",mr="Tagging",Ha="TopicArn",Jl="TableArn",Ga="TargetBucket",Eo="TableBucketArn",Jd="TagCount",eu="TopicConfiguration",tu="TopicConfigurations",jM="TaggingDirective",Cf="TransitionDefaultMinimumObjectSize",$r="TargetGrants",KM="TargetGrant",wo="TableName",ed="TableNamespace",hr="TargetObjectKeyFormat",Va="TargetPrefix",HM="TotalPartsCount",Rn="TagSet",qb="TransitionStorageClass",le="Tag",Zt="Tags",jb="Tier",nu="Tierings",su="Tiering",ko="Time",Kb="Token",ru="Topic",ou="Transitions",iu="Transition",sn="Type",ny="Upload",rn="UploadId",Wa="UploadIdMarker",GM="UserMetadata",Xa="URI",sy="Uploads",ry="Version",Hb="VersionCount",VM="VersioningConfiguration",he="VersionId",Qa="VersionIdMarker",un="Value",oy="Versions",WM="WebsiteConfiguration",iy="WriteOffsetBytes",Di="WebsiteRedirectLocation",Ds="Years",Oc="analytics",Gb="accelerate",Mc="acl",Vb="accept-ranges",XM="attributes",QM="bucket-region",pf="cors",Fi="cache-control",Li="content-disposition",Ui="content-encoding",zi="content-language",br="content-length",ht="content-md5",Wb="content-range",$i="content-type",_r="continuation-token",ZM="delete",Nc="delimiter",Cr="expires",xf="encryption",Dc="encoding-type",Fc="etag",Xb="expiresstring",YM="fetch-owner",vn="id",qi="if-match",Qb="if-modified-since",Lc="inventory",Uc="if-none-match",zc="intelligent-tiering",Zb="if-unmodified-since",Yb="key-marker",Sf="lifecycle",Jb="legal-hold",Mo="last-modified",eC="location",tC="logging",JM="list-type",$c="metrics",Ef="metadataTable",e2="marker",t2="max-buckets",n2="max-directory-buckets",pt="member",wf="max-keys",s2="max-parts",r2="max-uploads",nC="notification",kf="ownershipControls",sC="object-lock",_f="policy",Af="publicAccessBlock",qc="partNumber",o2="policyStatus",i2="part-number-marker",ji="prefix",Bf="replication",rC="requestPayment",oC="range",iC="response-cache-control",aC="response-content-disposition",cC="response-content-encoding",lC="response-content-language",dC="response-content-type",uC="response-expires",a2="restore",fC="retention",c2="session",l2="start-after",d2="select",u2="select-type",Zo="tagging",f2="torrent",mC="uploads",Ki="uploadId",m2="upload-id-marker",hC="versioning",an="versionId",Ae='<?xml version="1.0" encoding="UTF-8"?>',h2="versions",y2="version-id-marker",vf="website",ay="xsi:type",Yo="x-amz-acl",xc="x-amz-abort-date",cy="x-amz-access-point-alias",yC="x-amz-abort-rule-id",g2="x-amz-archive-status",Pf="x-amz-bypass-governance-retention",b2="x-amz-bucket-location-name",C2="x-amz-bucket-location-type",p2="x-amz-bucket-object-lock-enabled",gC="x-amz-bucket-object-lock-token",x2="x-amz-bucket-region",Rf="x-amz-checksum-algorithm",Ar="x-amz-checksum-crc32",Br="x-amz-checksum-crc32c",vr="x-amz-checksum-crc64nvme",bC="x-amz-checksum-mode",S2="x-amz-confirm-remove-self-bucket-access",Pr="x-amz-checksum-sha1",Rr="x-amz-checksum-sha256",CC="x-amz-copy-source",pC="x-amz-copy-source-if-match",xC="x-amz-copy-source-if-modified-since",SC="x-amz-copy-source-if-none-match",EC="x-amz-copy-source-if-unmodified-since",E2="x-amz-create-session-mode",w2="x-amz-copy-source-range",wC="x-amz-copy-source-server-side-encryption-customer-algorithm",kC="x-amz-copy-source-server-side-encryption-customer-key",_C="x-amz-copy-source-server-side-encryption-customer-key-md5",AC="x-amz-copy-source-version-id",Jo="x-amz-checksum-type",xs="x-amz-delete-marker",Hi="x-amz-expiration",F="x-amz-expected-bucket-owner",k2="x-amz-fwd-error-code",_2="x-amz-fwd-error-message",A2="x-amz-fwd-header-accept-ranges",B2="x-amz-fwd-header-cache-control",v2="x-amz-fwd-header-content-disposition",P2="x-amz-fwd-header-content-encoding",R2="x-amz-fwd-header-content-language",T2="x-amz-fwd-header-content-range",I2="x-amz-fwd-header-content-type",O2="x-amz-fwd-header-etag",M2="x-amz-fwd-header-expires",N2="x-amz-fwd-header-last-modified",D2="x-amz-fwd-header-x-amz-checksum-crc32",F2="x-amz-fwd-header-x-amz-checksum-crc32c",L2="x-amz-fwd-header-x-amz-checksum-crc64nvme",U2="x-amz-fwd-header-x-amz-checksum-sha1",z2="x-amz-fwd-header-x-amz-checksum-sha256",$2="x-amz-fwd-header-x-amz-delete-marker",q2="x-amz-fwd-header-x-amz-expiration",j2="x-amz-fwd-header-x-amz-missing-meta",K2="x-amz-fwd-header-x-amz-mp-parts-count",H2="x-amz-fwd-header-x-amz-object-lock-legal-hold",G2="x-amz-fwd-header-x-amz-object-lock-mode",V2="x-amz-fwd-header-x-amz-object-lock-retain-until-date",W2="x-amz-fwd-header-x-amz-restore",X2="x-amz-fwd-header-x-amz-request-charged",Q2="x-amz-fwd-header-x-amz-replication-status",Z2="x-amz-fwd-header-x-amz-storage-class",Y2="x-amz-fwd-header-x-amz-server-side-encryption",J2="x-amz-fwd-header-x-amz-server-side-encryption-aws-kms-key-id",eN="x-amz-fwd-header-x-amz-server-side-encryption-bucket-key-enabled",tN="x-amz-fwd-header-x-amz-server-side-encryption-customer-algorithm",nN="x-amz-fwd-header-x-amz-server-side-encryption-customer-key-md5",sN="x-amz-fwd-header-x-amz-tagging-count",rN="x-amz-fwd-header-x-amz-version-id",oN="x-amz-fwd-status",ei="x-amz-grant-full-control",ti="x-amz-grant-read",ni="x-amz-grant-read-acp",Tf="x-amz-grant-write",si="x-amz-grant-write-acp",iN="x-amz-if-match-initiated-time",aN="x-amz-if-match-last-modified-time",cN="x-amz-if-match-size",If="x-amz-mfa",lN="x-amz-metadata-directive",Sc="x-amz-missing-meta",dN="x-amz-mp-object-size",uN="x-amz-max-parts",Ec="x-amz-mp-parts-count",fN="x-amz-object-attributes",Gi="x-amz-object-lock-legal-hold",Vi="x-amz-object-lock-mode",pr="x-amz-object-lock-retain-until-date",mN="x-amz-object-ownership",Of="x-amz-optional-object-attributes",ly="x-amz-object-size",hN="x-amz-part-number-marker",BC="x-amz-restore",Ve="x-amz-request-charged",yN="x-amz-restore-output-path",Be="x-amz-request-payer",gN="x-amz-request-route",vC="x-amz-replication-status",bN="x-amz-request-token",Wi="x-amz-storage-class",Je="x-amz-sdk-checksum-algorithm",CN="x-amz-skip-destination-validation",PC="x-amz-source-expected-bucket-owner",mn="x-amz-server-side-encryption",hn="x-amz-server-side-encryption-aws-kms-key-id",tt="x-amz-server-side-encryption-bucket-key-enabled",ks="x-amz-server-side-encryption-context",vt="x-amz-server-side-encryption-customer-algorithm",Nn="x-amz-server-side-encryption-customer-key",Pt="x-amz-server-side-encryption-customer-key-md5",Mf="x-amz-tagging",dy="x-amz-tagging-count",pN="x-amz-tagging-directive",Nf="x-amz-transition-default-minimum-object-size",Gn="x-amz-version-id",xN="x-amz-write-offset-bytes",Xi="x-amz-website-redirect-location",Rt="x-id";class RC extends R.classBuilder().ep({...M,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(f_,u_).ser(J_).de(jB).build(){}const SN="3.803.0",EN={version:SN};function uy(e){return typeof e=="string"?e.length===0:e.byteLength===0}var TC={name:"SHA-1"},fy={name:"HMAC",hash:TC},wN=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]);const kN={};function ms(){return typeof window<"u"?window:typeof self<"u"?self:kN}var _N=function(){function e(n){this.toHash=new Uint8Array(0),n!==void 0&&(this.key=new Promise(function(t,s){ms().crypto.subtle.importKey("raw",my(n),fy,!1,["sign"]).then(t,s)}),this.key.catch(function(){}))}return e.prototype.update=function(n){if(!uy(n)){var t=my(n),s=new Uint8Array(this.toHash.byteLength+t.byteLength);s.set(this.toHash,0),s.set(t,this.toHash.byteLength),this.toHash=s}},e.prototype.digest=function(){var n=this;return this.key?this.key.then(function(t){return ms().crypto.subtle.sign(fy,t,n.toHash).then(function(s){return new Uint8Array(s)})}):uy(this.toHash)?Promise.resolve(wN):Promise.resolve().then(function(){return ms().crypto.subtle.digest(TC,n.toHash)}).then(function(t){return Promise.resolve(new Uint8Array(t))})},e.prototype.reset=function(){this.toHash=new Uint8Array(0)},e}();function my(e){return typeof e=="string"?ag(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var AN=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function IC(e){if(BN(e)&&typeof e.crypto.subtle=="object"){var n=e.crypto.subtle;return vN(n)}return!1}function BN(e){if(typeof e=="object"&&typeof e.crypto=="object"){var n=e.crypto.getRandomValues;return typeof n=="function"}return!1}function vN(e){return e&&AN.every(function(n){return typeof e[n]=="function"})}var PN=function(){function e(n){if(IC(ms()))this.hash=new _N(n);else throw new Error("SHA1 not supported")}return e.prototype.update=function(n,t){this.hash.update(bs(n))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}(),OC={name:"SHA-256"},hy={name:"HMAC",hash:OC},RN=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]),TN=function(){function e(n){this.toHash=new Uint8Array(0),this.secret=n,this.reset()}return e.prototype.update=function(n){if(!vi(n)){var t=bs(n),s=new Uint8Array(this.toHash.byteLength+t.byteLength);s.set(this.toHash,0),s.set(t,this.toHash.byteLength),this.toHash=s}},e.prototype.digest=function(){var n=this;return this.key?this.key.then(function(t){return ms().crypto.subtle.sign(hy,t,n.toHash).then(function(s){return new Uint8Array(s)})}):vi(this.toHash)?Promise.resolve(RN):Promise.resolve().then(function(){return ms().crypto.subtle.digest(OC,n.toHash)}).then(function(t){return Promise.resolve(new Uint8Array(t))})},e.prototype.reset=function(){var n=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(t,s){ms().crypto.subtle.importKey("raw",bs(n.secret),hy,!1,["sign"]).then(t,s)}),this.key.catch(function(){}))},e}(),Cn=64,IN=32,ON=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),MN=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],NN=Math.pow(2,53)-1,Za=function(){function e(){this.state=Int32Array.from(MN),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(n){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,s=n.byteLength;if(this.bytesHashed+=s,this.bytesHashed*8>NN)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;s>0;)this.buffer[this.bufferLength++]=n[t++],s--,this.bufferLength===Cn&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var n=this.bytesHashed*8,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),s=this.bufferLength;if(t.setUint8(this.bufferLength++,128),s%Cn>=Cn-8){for(var r=this.bufferLength;r<Cn;r++)t.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(var r=this.bufferLength;r<Cn-8;r++)t.setUint8(r,0);t.setUint32(Cn-8,Math.floor(n/4294967296),!0),t.setUint32(Cn-4,n),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(IN),r=0;r<8;r++)o[r*4]=this.state[r]>>>24&255,o[r*4+1]=this.state[r]>>>16&255,o[r*4+2]=this.state[r]>>>8&255,o[r*4+3]=this.state[r]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var n=this,t=n.buffer,s=n.state,r=s[0],o=s[1],i=s[2],a=s[3],c=s[4],l=s[5],d=s[6],m=s[7],h=0;h<Cn;h++){if(h<16)this.temp[h]=(t[h*4]&255)<<24|(t[h*4+1]&255)<<16|(t[h*4+2]&255)<<8|t[h*4+3]&255;else{var C=this.temp[h-2],E=(C>>>17|C<<15)^(C>>>19|C<<13)^C>>>10;C=this.temp[h-15];var v=(C>>>7|C<<25)^(C>>>18|C<<14)^C>>>3;this.temp[h]=(E+this.temp[h-7]|0)+(v+this.temp[h-16]|0)}var w=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&l^~c&d)|0)+(m+(ON[h]+this.temp[h]|0)|0)|0,$=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&o^r&i^o&i)|0;m=d,d=l,l=c,c=a+w|0,a=i,i=o,o=r,r=w+$|0}s[0]+=r,s[1]+=o,s[2]+=i,s[3]+=a,s[4]+=c,s[5]+=l,s[6]+=d,s[7]+=m},e}(),DN=function(){function e(n){this.secret=n,this.hash=new Za,this.reset()}return e.prototype.update=function(n){if(!(vi(n)||this.error))try{this.hash.update(bs(n))}catch(t){this.error=t}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return Pu(this,void 0,void 0,function(){return Ru(this,function(n){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new Za,this.secret){this.outer=new Za;var n=FN(this.secret),t=new Uint8Array(Cn);t.set(n);for(var s=0;s<Cn;s++)n[s]^=54,t[s]^=92;this.hash.update(n),this.outer.update(t);for(var s=0;s<n.byteLength;s++)n[s]=0}},e}();function FN(e){var n=bs(e);if(n.byteLength>Cn){var t=new Za;t.update(n),n=t.digest()}var s=new Uint8Array(Cn);return s.set(n),s}var LN=function(){function e(n){IC(ms())?this.hash=new TN(n):this.hash=new DN(n)}return e.prototype.update=function(n,t){this.hash.update(bs(n))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}();const UN={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},MC={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},nt={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Gt={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},rs={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class B{static getFirstMatch(n,t){const s=t.match(n);return s&&s.length>0&&s[1]||""}static getSecondMatch(n,t){const s=t.match(n);return s&&s.length>1&&s[2]||""}static matchAndReturnConst(n,t,s){if(n.test(t))return s}static getWindowsVersionName(n){switch(n){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(n){const t=n.split(".").splice(0,2).map(s=>parseInt(s,10)||0);if(t.push(0),t[0]===10)switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(n){const t=n.split(".").splice(0,2).map(s=>parseInt(s,10)||0);if(t.push(0),!(t[0]===1&&t[1]<5)){if(t[0]===1&&t[1]<6)return"Cupcake";if(t[0]===1&&t[1]>=6)return"Donut";if(t[0]===2&&t[1]<2)return"Eclair";if(t[0]===2&&t[1]===2)return"Froyo";if(t[0]===2&&t[1]>2)return"Gingerbread";if(t[0]===3)return"Honeycomb";if(t[0]===4&&t[1]<1)return"Ice Cream Sandwich";if(t[0]===4&&t[1]<4)return"Jelly Bean";if(t[0]===4&&t[1]>=4)return"KitKat";if(t[0]===5)return"Lollipop";if(t[0]===6)return"Marshmallow";if(t[0]===7)return"Nougat";if(t[0]===8)return"Oreo";if(t[0]===9)return"Pie"}}static getVersionPrecision(n){return n.split(".").length}static compareVersions(n,t,s=!1){const r=B.getVersionPrecision(n),o=B.getVersionPrecision(t);let i=Math.max(r,o),a=0;const c=B.map([n,t],l=>{const d=i-B.getVersionPrecision(l),m=l+new Array(d+1).join(".0");return B.map(m.split("."),h=>new Array(20-h.length).join("0")+h).reverse()});for(s&&(a=i-Math.min(r,o)),i-=1;i>=a;){if(c[0][i]>c[1][i])return 1;if(c[0][i]===c[1][i]){if(i===a)return 0;i-=1}else if(c[0][i]<c[1][i])return-1}}static map(n,t){const s=[];let r;if(Array.prototype.map)return Array.prototype.map.call(n,t);for(r=0;r<n.length;r+=1)s.push(t(n[r]));return s}static find(n,t){let s,r;if(Array.prototype.find)return Array.prototype.find.call(n,t);for(s=0,r=n.length;s<r;s+=1){const o=n[s];if(t(o,s))return o}}static assign(n,...t){const s=n;let r,o;if(Object.assign)return Object.assign(n,...t);for(r=0,o=t.length;r<o;r+=1){const i=t[r];typeof i=="object"&&i!==null&&Object.keys(i).forEach(c=>{s[c]=i[c]})}return n}static getBrowserAlias(n){return UN[n]}static getBrowserTypeByAlias(n){return MC[n]||""}}const Ie=/version\/(\d+(\.?_?\d+)+)/i,zN=[{test:[/googlebot/i],describe(e){const n={name:"Googlebot"},t=B.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||B.getFirstMatch(Ie,e);return t&&(n.version=t),n}},{test:[/opera/i],describe(e){const n={name:"Opera"},t=B.getFirstMatch(Ie,e)||B.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/opr\/|opios/i],describe(e){const n={name:"Opera"},t=B.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||B.getFirstMatch(Ie,e);return t&&(n.version=t),n}},{test:[/SamsungBrowser/i],describe(e){const n={name:"Samsung Internet for Android"},t=B.getFirstMatch(Ie,e)||B.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/Whale/i],describe(e){const n={name:"NAVER Whale Browser"},t=B.getFirstMatch(Ie,e)||B.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/MZBrowser/i],describe(e){const n={name:"MZ Browser"},t=B.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||B.getFirstMatch(Ie,e);return t&&(n.version=t),n}},{test:[/focus/i],describe(e){const n={name:"Focus"},t=B.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||B.getFirstMatch(Ie,e);return t&&(n.version=t),n}},{test:[/swing/i],describe(e){const n={name:"Swing"},t=B.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||B.getFirstMatch(Ie,e);return t&&(n.version=t),n}},{test:[/coast/i],describe(e){const n={name:"Opera Coast"},t=B.getFirstMatch(Ie,e)||B.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const n={name:"Opera Touch"},t=B.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||B.getFirstMatch(Ie,e);return t&&(n.version=t),n}},{test:[/yabrowser/i],describe(e){const n={name:"Yandex Browser"},t=B.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||B.getFirstMatch(Ie,e);return t&&(n.version=t),n}},{test:[/ucbrowser/i],describe(e){const n={name:"UC Browser"},t=B.getFirstMatch(Ie,e)||B.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/Maxthon|mxios/i],describe(e){const n={name:"Maxthon"},t=B.getFirstMatch(Ie,e)||B.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/epiphany/i],describe(e){const n={name:"Epiphany"},t=B.getFirstMatch(Ie,e)||B.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/puffin/i],describe(e){const n={name:"Puffin"},t=B.getFirstMatch(Ie,e)||B.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/sleipnir/i],describe(e){const n={name:"Sleipnir"},t=B.getFirstMatch(Ie,e)||B.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/k-meleon/i],describe(e){const n={name:"K-Meleon"},t=B.getFirstMatch(Ie,e)||B.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/micromessenger/i],describe(e){const n={name:"WeChat"},t=B.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||B.getFirstMatch(Ie,e);return t&&(n.version=t),n}},{test:[/qqbrowser/i],describe(e){const n={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},t=B.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||B.getFirstMatch(Ie,e);return t&&(n.version=t),n}},{test:[/msie|trident/i],describe(e){const n={name:"Internet Explorer"},t=B.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/\sedg\//i],describe(e){const n={name:"Microsoft Edge"},t=B.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/edg([ea]|ios)/i],describe(e){const n={name:"Microsoft Edge"},t=B.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/vivaldi/i],describe(e){const n={name:"Vivaldi"},t=B.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/seamonkey/i],describe(e){const n={name:"SeaMonkey"},t=B.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/sailfish/i],describe(e){const n={name:"Sailfish"},t=B.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return t&&(n.version=t),n}},{test:[/silk/i],describe(e){const n={name:"Amazon Silk"},t=B.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/phantom/i],describe(e){const n={name:"PhantomJS"},t=B.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/slimerjs/i],describe(e){const n={name:"SlimerJS"},t=B.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const n={name:"BlackBerry"},t=B.getFirstMatch(Ie,e)||B.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const n={name:"WebOS Browser"},t=B.getFirstMatch(Ie,e)||B.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/bada/i],describe(e){const n={name:"Bada"},t=B.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/tizen/i],describe(e){const n={name:"Tizen"},t=B.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||B.getFirstMatch(Ie,e);return t&&(n.version=t),n}},{test:[/qupzilla/i],describe(e){const n={name:"QupZilla"},t=B.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||B.getFirstMatch(Ie,e);return t&&(n.version=t),n}},{test:[/firefox|iceweasel|fxios/i],describe(e){const n={name:"Firefox"},t=B.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/electron/i],describe(e){const n={name:"Electron"},t=B.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/MiuiBrowser/i],describe(e){const n={name:"Miui"},t=B.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/chromium/i],describe(e){const n={name:"Chromium"},t=B.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||B.getFirstMatch(Ie,e);return t&&(n.version=t),n}},{test:[/chrome|crios|crmo/i],describe(e){const n={name:"Chrome"},t=B.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/GSA/i],describe(e){const n={name:"Google Search"},t=B.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test(e){const n=!e.test(/like android/i),t=e.test(/android/i);return n&&t},describe(e){const n={name:"Android Browser"},t=B.getFirstMatch(Ie,e);return t&&(n.version=t),n}},{test:[/playstation 4/i],describe(e){const n={name:"PlayStation 4"},t=B.getFirstMatch(Ie,e);return t&&(n.version=t),n}},{test:[/safari|applewebkit/i],describe(e){const n={name:"Safari"},t=B.getFirstMatch(Ie,e);return t&&(n.version=t),n}},{test:[/.*/i],describe(e){const n=/^(.*)\/(.*) /,t=/^(.*)\/(.*)[ \t]\((.*)/,r=e.search("\\(")!==-1?t:n;return{name:B.getFirstMatch(r,e),version:B.getSecondMatch(r,e)}}}],$N=[{test:[/Roku\/DVP/],describe(e){const n=B.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:Gt.Roku,version:n}}},{test:[/windows phone/i],describe(e){const n=B.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:Gt.WindowsPhone,version:n}}},{test:[/windows /i],describe(e){const n=B.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),t=B.getWindowsVersionName(n);return{name:Gt.Windows,version:n,versionName:t}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const n={name:Gt.iOS},t=B.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return t&&(n.version=t),n}},{test:[/macintosh/i],describe(e){const n=B.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),t=B.getMacOSVersionName(n),s={name:Gt.MacOS,version:n};return t&&(s.versionName=t),s}},{test:[/(ipod|iphone|ipad)/i],describe(e){const n=B.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:Gt.iOS,version:n}}},{test(e){const n=!e.test(/like android/i),t=e.test(/android/i);return n&&t},describe(e){const n=B.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),t=B.getAndroidVersionName(n),s={name:Gt.Android,version:n};return t&&(s.versionName=t),s}},{test:[/(web|hpw)[o0]s/i],describe(e){const n=B.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),t={name:Gt.WebOS};return n&&n.length&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const n=B.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||B.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||B.getFirstMatch(/\bbb(\d+)/i,e);return{name:Gt.BlackBerry,version:n}}},{test:[/bada/i],describe(e){const n=B.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:Gt.Bada,version:n}}},{test:[/tizen/i],describe(e){const n=B.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:Gt.Tizen,version:n}}},{test:[/linux/i],describe(){return{name:Gt.Linux}}},{test:[/CrOS/],describe(){return{name:Gt.ChromeOS}}},{test:[/PlayStation 4/],describe(e){const n=B.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:Gt.PlayStation4,version:n}}}],qN=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(e){const n=B.getFirstMatch(/(can-l01)/i,e)&&"Nova",t={type:nt.mobile,vendor:"Huawei"};return n&&(t.model=n),t}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:nt.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:nt.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:nt.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:nt.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:nt.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:nt.tablet}}},{test(e){const n=e.test(/ipod|iphone/i),t=e.test(/like (ipod|iphone)/i);return n&&!t},describe(e){const n=B.getFirstMatch(/(ipod|iphone)/i,e);return{type:nt.mobile,vendor:"Apple",model:n}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:nt.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:nt.mobile}}},{test(e){return e.getBrowserName(!0)==="blackberry"},describe(){return{type:nt.mobile,vendor:"BlackBerry"}}},{test(e){return e.getBrowserName(!0)==="bada"},describe(){return{type:nt.mobile}}},{test(e){return e.getBrowserName()==="windows phone"},describe(){return{type:nt.mobile,vendor:"Microsoft"}}},{test(e){const n=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&n>=3},describe(){return{type:nt.tablet}}},{test(e){return e.getOSName(!0)==="android"},describe(){return{type:nt.mobile}}},{test(e){return e.getOSName(!0)==="macos"},describe(){return{type:nt.desktop,vendor:"Apple"}}},{test(e){return e.getOSName(!0)==="windows"},describe(){return{type:nt.desktop}}},{test(e){return e.getOSName(!0)==="linux"},describe(){return{type:nt.desktop}}},{test(e){return e.getOSName(!0)==="playstation 4"},describe(){return{type:nt.tv}}},{test(e){return e.getOSName(!0)==="roku"},describe(){return{type:nt.tv}}}],jN=[{test(e){return e.getBrowserName(!0)==="microsoft edge"},describe(e){if(/\sedg\//i.test(e))return{name:rs.Blink};const t=B.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:rs.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const n={name:rs.Trident},t=B.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test(e){return e.test(/presto/i)},describe(e){const n={name:rs.Presto},t=B.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test(e){const n=e.test(/gecko/i),t=e.test(/like gecko/i);return n&&!t},describe(e){const n={name:rs.Gecko},t=B.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:rs.Blink}}},{test:[/(apple)?webkit/i],describe(e){const n={name:rs.WebKit},t=B.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return t&&(n.version=t),n}}];class yy{constructor(n,t=!1){if(n==null||n==="")throw new Error("UserAgent parameter can't be empty");this._ua=n,this.parsedResult={},t!==!0&&this.parse()}getUA(){return this._ua}test(n){return n.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const n=B.find(zN,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.browser=n.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(n){return n?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const n=B.find($N,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.os=n.describe(this.getUA())),this.parsedResult.os}getOSName(n){const{name:t}=this.getOS();return n?String(t).toLowerCase()||"":t||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(n=!1){const{type:t}=this.getPlatform();return n?String(t).toLowerCase()||"":t||""}parsePlatform(){this.parsedResult.platform={};const n=B.find(qN,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.platform=n.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(n){return n?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const n=B.find(jN,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.engine=n.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return B.assign({},this.parsedResult)}satisfies(n){const t={};let s=0;const r={};let o=0;if(Object.keys(n).forEach(a=>{const c=n[a];typeof c=="string"?(r[a]=c,o+=1):typeof c=="object"&&(t[a]=c,s+=1)}),s>0){const a=Object.keys(t),c=B.find(a,d=>this.isOS(d));if(c){const d=this.satisfies(t[c]);if(d!==void 0)return d}const l=B.find(a,d=>this.isPlatform(d));if(l){const d=this.satisfies(t[l]);if(d!==void 0)return d}}if(o>0){const a=Object.keys(r),c=B.find(a,l=>this.isBrowser(l,!0));if(c!==void 0)return this.compareVersion(r[c])}}isBrowser(n,t=!1){const s=this.getBrowserName().toLowerCase();let r=n.toLowerCase();const o=B.getBrowserTypeByAlias(r);return t&&o&&(r=o.toLowerCase()),r===s}compareVersion(n){let t=[0],s=n,r=!1;const o=this.getBrowserVersion();if(typeof o=="string")return n[0]===">"||n[0]==="<"?(s=n.substr(1),n[1]==="="?(r=!0,s=n.substr(2)):t=[],n[0]===">"?t.push(1):t.push(-1)):n[0]==="="?s=n.substr(1):n[0]==="~"&&(r=!0,s=n.substr(1)),t.indexOf(B.compareVersions(o,s,r))>-1}isOS(n){return this.getOSName(!0)===String(n).toLowerCase()}isPlatform(n){return this.getPlatformType(!0)===String(n).toLowerCase()}isEngine(n){return this.getEngineName(!0)===String(n).toLowerCase()}is(n,t=!1){return this.isBrowser(n,t)||this.isOS(n)||this.isPlatform(n)}some(n=[]){return n.some(t=>this.is(t))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class NC{static getParser(n,t=!1){if(typeof n!="string")throw new Error("UserAgent should be a string");return new yy(n,t)}static parse(n){return new yy(n).getResult()}static get BROWSER_MAP(){return MC}static get ENGINE_MAP(){return rs}static get OS_MAP(){return Gt}static get PLATFORMS_MAP(){return nt}}const KN=({serviceId:e,clientVersion:n})=>async t=>{var i,a,c,l,d,m;const s=typeof window<"u"&&((i=window==null?void 0:window.navigator)!=null&&i.userAgent)?NC.parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["ua","2.1"],[`os/${((a=s==null?void 0:s.os)==null?void 0:a.name)||"other"}`,(c=s==null?void 0:s.os)==null?void 0:c.version],["lang/js"],["md/browser",`${((l=s==null?void 0:s.browser)==null?void 0:l.name)??"unknown"}_${((d=s==null?void 0:s.browser)==null?void 0:d.version)??"unknown"}`]];e&&r.push([`api/${e}`,n]);const o=await((m=t==null?void 0:t.userAgentAppId)==null?void 0:m.call(t));return o&&r.push([`app/${o}`]),r};class ki{constructor(n){if(this.bytes=n,n.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(n){if(n>9223372036854776e3||n<-9223372036854776e3)throw new Error(`${n} is too large (or, if negative, too small) to represent as an Int64`);const t=new Uint8Array(8);for(let s=7,r=Math.abs(Math.round(n));s>-1&&r>0;s--,r/=256)t[s]=r;return n<0&&gy(t),new ki(t)}valueOf(){const n=this.bytes.slice(0),t=n[0]&128;return t&&gy(n),parseInt(Jt(n),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function gy(e){for(let n=0;n<8;n++)e[n]^=255;for(let n=7;n>-1&&(e[n]++,e[n]===0);n--);}class HN{constructor(n,t){this.toUtf8=n,this.fromUtf8=t}format(n){const t=[];for(const o of Object.keys(n)){const i=this.fromUtf8(o);t.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(n[o]))}const s=new Uint8Array(t.reduce((o,i)=>o+i.byteLength,0));let r=0;for(const o of t)s.set(o,r),r+=o.byteLength;return s}formatHeaderValue(n){switch(n.type){case"boolean":return Uint8Array.from([n.value?0:1]);case"byte":return Uint8Array.from([2,n.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,n.value,!1),new Uint8Array(t.buffer);case"integer":const s=new DataView(new ArrayBuffer(5));return s.setUint8(0,4),s.setInt32(1,n.value,!1),new Uint8Array(s.buffer);case"long":const r=new Uint8Array(9);return r[0]=5,r.set(n.value.bytes,1),r;case"binary":const o=new DataView(new ArrayBuffer(3+n.value.byteLength));o.setUint8(0,6),o.setUint16(1,n.value.byteLength,!1);const i=new Uint8Array(o.buffer);return i.set(n.value,3),i;case"string":const a=this.fromUtf8(n.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);const l=new Uint8Array(c.buffer);return l.set(a,3),l;case"timestamp":const d=new Uint8Array(9);return d[0]=8,d.set(ki.fromNumber(n.value.valueOf()).bytes,1),d;case"uuid":if(!eD.test(n.value))throw new Error(`Invalid UUID received: ${n.value}`);const m=new Uint8Array(17);return m[0]=9,m.set(Uy(n.value.replace(/\-/g,"")),1),m}}parse(n){const t={};let s=0;for(;s<n.byteLength;){const r=n.getUint8(s++),o=this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+s,r));switch(s+=r,n.getUint8(s++)){case 0:t[o]={type:Cy,value:!0};break;case 1:t[o]={type:Cy,value:!1};break;case 2:t[o]={type:GN,value:n.getInt8(s++)};break;case 3:t[o]={type:VN,value:n.getInt16(s,!1)},s+=2;break;case 4:t[o]={type:WN,value:n.getInt32(s,!1)},s+=4;break;case 5:t[o]={type:XN,value:new ki(new Uint8Array(n.buffer,n.byteOffset+s,8))},s+=8;break;case 6:const i=n.getUint16(s,!1);s+=2,t[o]={type:QN,value:new Uint8Array(n.buffer,n.byteOffset+s,i)},s+=i;break;case 7:const a=n.getUint16(s,!1);s+=2,t[o]={type:ZN,value:this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+s,a))},s+=a;break;case 8:t[o]={type:YN,value:new Date(new ki(new Uint8Array(n.buffer,n.byteOffset+s,8)).valueOf())},s+=8;break;case 9:const c=new Uint8Array(n.buffer,n.byteOffset+s,16);s+=16,t[o]={type:JN,value:`${Jt(c.subarray(0,4))}-${Jt(c.subarray(4,6))}-${Jt(c.subarray(6,8))}-${Jt(c.subarray(8,10))}-${Jt(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return t}}var by;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(by||(by={}));const Cy="boolean",GN="byte",VN="short",WN="integer",XN="long",QN="binary",ZN="string",YN="timestamp",JN="uuid",eD=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,DC=4,os=DC*2,As=4,tD=os+As*2;function nD({byteLength:e,byteOffset:n,buffer:t}){if(e<tD)throw new Error("Provided message too short to accommodate event stream message overhead");const s=new DataView(t,n,e),r=s.getUint32(0,!1);if(e!==r)throw new Error("Reported message length does not match received message length");const o=s.getUint32(DC,!1),i=s.getUint32(os,!1),a=s.getUint32(e-As,!1),c=new sc().update(new Uint8Array(t,n,os));if(i!==c.digest())throw new Error(`The prelude checksum specified in the message (${i}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(t,n+os,e-(os+As))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(t,n+os+As,o),body:new Uint8Array(t,n+os+As+o,r-o-(os+As+As))}}class sD{constructor(n,t){this.headerMarshaller=new HN(n,t),this.messageBuffer=[],this.isEndOfStream=!1}feed(n){this.messageBuffer.push(this.decode(n))}endOfStream(){this.isEndOfStream=!0}getMessage(){const n=this.messageBuffer.pop(),t=this.isEndOfStream;return{getMessage(){return n},isEndOfStream(){return t}}}getAvailableMessages(){const n=this.messageBuffer;this.messageBuffer=[];const t=this.isEndOfStream;return{getMessages(){return n},isEndOfStream(){return t}}}encode({headers:n,body:t}){const s=this.headerMarshaller.format(n),r=s.byteLength+t.byteLength+16,o=new Uint8Array(r),i=new DataView(o.buffer,o.byteOffset,o.byteLength),a=new sc;return i.setUint32(0,r,!1),i.setUint32(4,s.byteLength,!1),i.setUint32(8,a.update(o.subarray(0,8)).digest(),!1),o.set(s,12),o.set(t,s.byteLength+12),i.setUint32(r-4,a.update(o.subarray(8,r-4)).digest(),!1),o}decode(n){const{headers:t,body:s}=nD(n);return{headers:this.headerMarshaller.parse(t),body:s}}formatHeaders(n){return this.headerMarshaller.format(n)}}class rD{constructor(n){this.options=n}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const n of this.options.inputStream)yield this.options.decoder.decode(n)}}class oD{constructor(n){this.options=n}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const n of this.options.messageStream)yield this.options.encoder.encode(n);this.options.includeEndFrame&&(yield new Uint8Array(0))}}class iD{constructor(n){this.options=n}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const n of this.options.messageStream){const t=await this.options.deserializer(n);t!==void 0&&(yield t)}}}class aD{constructor(n){this.options=n}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const n of this.options.inputStream)yield this.options.serializer(n)}}function cD(e){let n=0,t=0,s=null,r=null;const o=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);n=a,t=4,s=new Uint8Array(a),new DataView(s.buffer).setUint32(0,a,!1)},i=async function*(){const a=e[Symbol.asyncIterator]();for(;;){const{value:c,done:l}=await a.next();if(l){if(n)if(n===t)yield s;else throw new Error("Truncated event message received.");else return;return}const d=c.length;let m=0;for(;m<d;){if(!s){const C=d-m;r||(r=new Uint8Array(4));const E=Math.min(4-t,C);if(r.set(c.slice(m,m+E),t),t+=E,m+=E,t<4)break;o(new DataView(r.buffer).getUint32(0,!1)),r=null}const h=Math.min(n-t,d-m);s.set(c.slice(m,m+h),t),t+=h,m+=h,n&&n===t&&(yield s,s=null,n=0,t=0)}}};return{[Symbol.asyncIterator]:i}}function lD(e,n){return async function(t){const{value:s}=t.headers[":message-type"];if(s==="error"){const r=new Error(t.headers[":error-message"].value||"UnknownError");throw r.name=t.headers[":error-code"].value,r}else if(s==="exception"){const r=t.headers[":exception-type"].value,o={[r]:t},i=await e(o);if(i.$unknown){const a=new Error(n(t.body));throw a.name=r,a}throw i[r]}else if(s==="event"){const r={[t.headers[":event-type"].value]:t},o=await e(r);return o.$unknown?void 0:o}else throw Error(`Unrecognizable event type: ${t.headers[":event-type"].value}`)}}let dD=class{constructor({utf8Encoder:n,utf8Decoder:t}){this.eventStreamCodec=new sD(n,t),this.utfEncoder=n}deserialize(n,t){const s=cD(n);return new iD({messageStream:new rD({inputStream:s,decoder:this.eventStreamCodec}),deserializer:lD(t,this.utfEncoder)})}serialize(n,t){return new oD({messageStream:new aD({inputStream:n,serializer:t}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};const uD=e=>({[Symbol.asyncIterator]:async function*(){const n=e.getReader();try{for(;;){const{done:t,value:s}=await n.read();if(t)return;yield s}}finally{n.releaseLock()}}}),fD=e=>{const n=e[Symbol.asyncIterator]();return new ReadableStream({async pull(t){const{done:s,value:r}=await n.next();if(s)return t.close();t.enqueue(r)}})};class mD{constructor({utf8Encoder:n,utf8Decoder:t}){this.universalMarshaller=new dD({utf8Decoder:t,utf8Encoder:n})}deserialize(n,t){const s=hD(n)?uD(n):n;return this.universalMarshaller.deserialize(s,t)}serialize(n,t){const s=this.universalMarshaller.serialize(n,t);return typeof ReadableStream=="function"?fD(s):s}}const hD=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,yD=e=>new mD(e);async function gD(e,n,t=1024*1024){const s=e.size;let r=0;for(;r<s;){const o=e.slice(r,Math.min(s,r+t));n(new Uint8Array(await o.arrayBuffer())),r+=o.size}}const bD=async function(n,t){const s=new n;return await gD(t,r=>{s.update(r)}),s.digest()},CD=e=>()=>Promise.reject(e),ss=64,pD=16,xD=[1732584193,4023233417,2562383102,271733878];class SD{constructor(){this.reset()}update(n){if(ED(n))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const t=wD(n);let s=0,{byteLength:r}=t;for(this.bytesHashed+=r;r>0;)this.buffer.setUint8(this.bufferLength++,t[s++]),r--,this.bufferLength===ss&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:t,bufferLength:s,bytesHashed:r}=this,o=r*8;if(t.setUint8(this.bufferLength++,128),s%ss>=ss-8){for(let i=this.bufferLength;i<ss;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(let i=this.bufferLength;i<ss-8;i++)t.setUint8(i,0);t.setUint32(ss-8,o>>>0,!0),t.setUint32(ss-4,Math.floor(o/4294967296),!0),this.hashBuffer(),this.finished=!0}const n=new DataView(new ArrayBuffer(pD));for(let t=0;t<4;t++)n.setUint32(t*4,this.state[t],!0);return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}hashBuffer(){const{buffer:n,state:t}=this;let s=t[0],r=t[1],o=t[2],i=t[3];s=Mt(s,r,o,i,n.getUint32(0,!0),7,3614090360),i=Mt(i,s,r,o,n.getUint32(4,!0),12,3905402710),o=Mt(o,i,s,r,n.getUint32(8,!0),17,606105819),r=Mt(r,o,i,s,n.getUint32(12,!0),22,3250441966),s=Mt(s,r,o,i,n.getUint32(16,!0),7,4118548399),i=Mt(i,s,r,o,n.getUint32(20,!0),12,1200080426),o=Mt(o,i,s,r,n.getUint32(24,!0),17,2821735955),r=Mt(r,o,i,s,n.getUint32(28,!0),22,4249261313),s=Mt(s,r,o,i,n.getUint32(32,!0),7,1770035416),i=Mt(i,s,r,o,n.getUint32(36,!0),12,2336552879),o=Mt(o,i,s,r,n.getUint32(40,!0),17,4294925233),r=Mt(r,o,i,s,n.getUint32(44,!0),22,2304563134),s=Mt(s,r,o,i,n.getUint32(48,!0),7,1804603682),i=Mt(i,s,r,o,n.getUint32(52,!0),12,4254626195),o=Mt(o,i,s,r,n.getUint32(56,!0),17,2792965006),r=Mt(r,o,i,s,n.getUint32(60,!0),22,1236535329),s=Nt(s,r,o,i,n.getUint32(4,!0),5,4129170786),i=Nt(i,s,r,o,n.getUint32(24,!0),9,3225465664),o=Nt(o,i,s,r,n.getUint32(44,!0),14,643717713),r=Nt(r,o,i,s,n.getUint32(0,!0),20,3921069994),s=Nt(s,r,o,i,n.getUint32(20,!0),5,3593408605),i=Nt(i,s,r,o,n.getUint32(40,!0),9,38016083),o=Nt(o,i,s,r,n.getUint32(60,!0),14,3634488961),r=Nt(r,o,i,s,n.getUint32(16,!0),20,3889429448),s=Nt(s,r,o,i,n.getUint32(36,!0),5,568446438),i=Nt(i,s,r,o,n.getUint32(56,!0),9,3275163606),o=Nt(o,i,s,r,n.getUint32(12,!0),14,4107603335),r=Nt(r,o,i,s,n.getUint32(32,!0),20,1163531501),s=Nt(s,r,o,i,n.getUint32(52,!0),5,2850285829),i=Nt(i,s,r,o,n.getUint32(8,!0),9,4243563512),o=Nt(o,i,s,r,n.getUint32(28,!0),14,1735328473),r=Nt(r,o,i,s,n.getUint32(48,!0),20,2368359562),s=Dt(s,r,o,i,n.getUint32(20,!0),4,4294588738),i=Dt(i,s,r,o,n.getUint32(32,!0),11,2272392833),o=Dt(o,i,s,r,n.getUint32(44,!0),16,1839030562),r=Dt(r,o,i,s,n.getUint32(56,!0),23,4259657740),s=Dt(s,r,o,i,n.getUint32(4,!0),4,2763975236),i=Dt(i,s,r,o,n.getUint32(16,!0),11,1272893353),o=Dt(o,i,s,r,n.getUint32(28,!0),16,4139469664),r=Dt(r,o,i,s,n.getUint32(40,!0),23,3200236656),s=Dt(s,r,o,i,n.getUint32(52,!0),4,681279174),i=Dt(i,s,r,o,n.getUint32(0,!0),11,3936430074),o=Dt(o,i,s,r,n.getUint32(12,!0),16,3572445317),r=Dt(r,o,i,s,n.getUint32(24,!0),23,76029189),s=Dt(s,r,o,i,n.getUint32(36,!0),4,3654602809),i=Dt(i,s,r,o,n.getUint32(48,!0),11,3873151461),o=Dt(o,i,s,r,n.getUint32(60,!0),16,530742520),r=Dt(r,o,i,s,n.getUint32(8,!0),23,3299628645),s=Ft(s,r,o,i,n.getUint32(0,!0),6,4096336452),i=Ft(i,s,r,o,n.getUint32(28,!0),10,1126891415),o=Ft(o,i,s,r,n.getUint32(56,!0),15,2878612391),r=Ft(r,o,i,s,n.getUint32(20,!0),21,4237533241),s=Ft(s,r,o,i,n.getUint32(48,!0),6,1700485571),i=Ft(i,s,r,o,n.getUint32(12,!0),10,2399980690),o=Ft(o,i,s,r,n.getUint32(40,!0),15,4293915773),r=Ft(r,o,i,s,n.getUint32(4,!0),21,2240044497),s=Ft(s,r,o,i,n.getUint32(32,!0),6,1873313359),i=Ft(i,s,r,o,n.getUint32(60,!0),10,4264355552),o=Ft(o,i,s,r,n.getUint32(24,!0),15,2734768916),r=Ft(r,o,i,s,n.getUint32(52,!0),21,1309151649),s=Ft(s,r,o,i,n.getUint32(16,!0),6,4149444226),i=Ft(i,s,r,o,n.getUint32(44,!0),10,3174756917),o=Ft(o,i,s,r,n.getUint32(8,!0),15,718787259),r=Ft(r,o,i,s,n.getUint32(36,!0),21,3951481745),t[0]=s+t[0]&4294967295,t[1]=r+t[1]&4294967295,t[2]=o+t[2]&4294967295,t[3]=i+t[3]&4294967295}reset(){this.state=Uint32Array.from(xD),this.buffer=new DataView(new ArrayBuffer(ss)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function jc(e,n,t,s,r,o){return n=(n+e&4294967295)+(s+o&4294967295)&4294967295,(n<<r|n>>>32-r)+t&4294967295}function Mt(e,n,t,s,r,o,i){return jc(n&t|~n&s,e,n,r,o,i)}function Nt(e,n,t,s,r,o,i){return jc(n&s|t&~s,e,n,r,o,i)}function Dt(e,n,t,s,r,o,i){return jc(n^t^s,e,n,r,o,i)}function Ft(e,n,t,s,r,o,i){return jc(t^(n|~s),e,n,r,o,i)}function ED(e){return typeof e=="string"?e.length===0:e.byteLength===0}function wD(e){return typeof e=="string"?yr(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}const py=typeof TextEncoder=="function"?new TextEncoder:null,kD=e=>{if(typeof e=="string"){if(py)return py.encode(e).byteLength;let n=e.length;for(let t=n-1;t>=0;t--){const s=e.charCodeAt(t);s>127&&s<=2047?n++:s>2047&&s<=65535&&(n+=2),s>=56320&&s<=57343&&t--}return n}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},_D=e=>({apiVersion:"2006-03-01",base64Decoder:(e==null?void 0:e.base64Decoder)??pu,base64Encoder:(e==null?void 0:e.base64Encoder)??_c,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??Gg,extensions:(e==null?void 0:e.extensions)??[],getAwsChunkedEncodingStream:(e==null?void 0:e.getAwsChunkedEncodingStream)??J0,httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??e_,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4"),signer:new Ny},{schemeId:"aws.auth#sigv4a",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4a"),signer:new P0}],logger:(e==null?void 0:e.logger)??new ku,sdkStreamMixin:(e==null?void 0:e.sdkStreamMixin)??ap,serviceId:(e==null?void 0:e.serviceId)??"S3",signerConstructor:(e==null?void 0:e.signerConstructor)??Nk,signingEscapePath:(e==null?void 0:e.signingEscapePath)??!1,urlParser:(e==null?void 0:e.urlParser)??oc,useArnRegion:(e==null?void 0:e.useArnRegion)??!1,utf8Decoder:(e==null?void 0:e.utf8Decoder)??yr,utf8Encoder:(e==null?void 0:e.utf8Encoder)??xu}),AD=["in-region","cross-region","mobile","standard","legacy"],BD=({defaultsMode:e}={})=>bp(async()=>{const n=typeof e=="function"?await e():e;switch(n==null?void 0:n.toLowerCase()){case"auto":return Promise.resolve(vD()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(n==null?void 0:n.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${AD.join(", ")}, got ${n}`)}}),vD=()=>{var t,s;const e=typeof window<"u"&&((t=window==null?void 0:window.navigator)!=null&&t.userAgent)?NC.parse(window.navigator.userAgent):void 0,n=(s=e==null?void 0:e.platform)==null?void 0:s.type;return n==="tablet"||n==="mobile"},PD=e=>{const n=BD(e),t=()=>n().then(Cx),s=_D(e);return{...s,...e,runtime:"browser",defaultsMode:n,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??kD,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??(r=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??KN({serviceId:s.serviceId,clientVersion:EN.version}),eventStreamSerdeProvider:(e==null?void 0:e.eventStreamSerdeProvider)??yD,maxAttempts:(e==null?void 0:e.maxAttempts)??ic,md5:(e==null?void 0:e.md5)??SD,region:(e==null?void 0:e.region)??CD("Region is missing"),requestHandler:Su.create((e==null?void 0:e.requestHandler)??t),retryMode:(e==null?void 0:e.retryMode)??(async()=>(await t()).retryMode||lk),sha1:(e==null?void 0:e.sha1)??PN,sha256:(e==null?void 0:e.sha256)??LN,streamCollector:(e==null?void 0:e.streamCollector)??Fy,streamHasher:(e==null?void 0:e.streamHasher)??bD,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(()=>Promise.resolve(Hw)),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(()=>Promise.resolve(Gw))}},RD=e=>({setRegion(n){e.region=n},region(){return e.region}}),TD=e=>({region:e.region()}),ID=e=>{const n=e.httpAuthSchemes;let t=e.httpAuthSchemeProvider,s=e.credentials;return{setHttpAuthScheme(r){const o=n.findIndex(i=>i.schemeId===r.schemeId);o===-1?n.push(r):n.splice(o,1,r)},httpAuthSchemes(){return n},setHttpAuthSchemeProvider(r){t=r},httpAuthSchemeProvider(){return t},setCredentials(r){s=r},credentials(){return s}}},OD=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),MD=(e,n)=>{const t=Object.assign(RD(e),wx(e),C0(e),ID(e));return n.forEach(s=>s.configure(t)),Object.assign(e,TD(t),kx(t),p0(t),OD(t))};class ND extends Vp{constructor(...[t]){const s=PD(t||{});super(s);W(this,"config");this.initConfig=s;const r=n_(s),o=lw(r),i=mE(o),a=Ak(i),c=Vw(a),l=c,d=ck(l),m=Ww(d),h=t_(m),C=XE(h,{session:[()=>this,RC]}),E=MD(C,(t==null?void 0:t.extensions)||[]);this.config=E,this.middlewareStack.use(Kw(this.config)),this.middlewareStack.use(Ok(this.config)),this.middlewareStack.use(Zw(this.config)),this.middlewareStack.use(gE(this.config)),this.middlewareStack.use(pE(this.config)),this.middlewareStack.use(kE(this.config)),this.middlewareStack.use(M0(this.config,{httpAuthSchemeParametersProvider:Zk,identityProviderConfigProvider:async v=>new fp({"aws.auth#sigv4":v.credentials,"aws.auth#sigv4a":v.credentials})})),this.middlewareStack.use($0(this.config)),this.middlewareStack.use(iw(this.config)),this.middlewareStack.use(k0(this.config)),this.middlewareStack.use(ME(this.config)),this.middlewareStack.use(jE(this.config)),this.middlewareStack.use(WE(this.config))}destroy(){super.destroy()}}class FC extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","AbortMultipartUpload",{}).n("S3Client","AbortMultipartUploadCommand").f(void 0,void 0).ser(V_).de(FB).build(){}function DD(e){return n=>async t=>{const s={...t.input},r=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(const o of r){const i=s[o.target];if(i){let a;typeof i=="string"?LD(i,e)?a=e.base64Decoder(i):(a=e.utf8Decoder(i),s[o.target]=e.base64Encoder(a)):(a=ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i),s[o.target]=e.base64Encoder(a));const c=new e.md5;c.update(a),s[o.hash]=e.base64Encoder(await c.digest())}}return n({...t,input:s})}}const FD={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},Dn=e=>({applyToStack:n=>{n.add(DD(e),FD)}});function LD(e,n){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))return!1;try{return n.base64Decoder(e).length===32}catch{return!1}}class LC extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s),Dn(s)]}).s("AmazonS3","CompleteMultipartUpload",{}).n("S3Client","CompleteMultipartUploadCommand").f(o_,r_).ser(W_).de(LB).build(){}class UD extends R.classBuilder().ep({...M,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"},CopySource:{type:"contextParams",name:"CopySource"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s),Dn(s)]}).s("AmazonS3","CopyObject",{}).n("S3Client","CopyObjectCommand").f(a_,i_).ser(X_).de(UB).build(){}function zD(e){return n=>async t=>{const{CreateBucketConfiguration:s}=t.input,r=await e.region();return!(s!=null&&s.LocationConstraint)&&!(s!=null&&s.Location)&&(t={...t,input:{...t.input,CreateBucketConfiguration:r==="us-east-1"?void 0:{LocationConstraint:r}}}),n(t)}}const $D={step:"initialize",tags:["LOCATION_CONSTRAINT","CREATE_BUCKET_CONFIGURATION"],name:"locationConstraintMiddleware",override:!0},qD=e=>({applyToStack:n=>{n.add(zD(e),$D)}});class jD extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},DisableAccessPoints:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s),qD(s)]}).s("AmazonS3","CreateBucket",{}).n("S3Client","CreateBucketCommand").f(void 0,void 0).ser(Q_).de(zB).build(){}class KD extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Ge(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","CreateBucketMetadataTableConfiguration",{}).n("S3Client","CreateBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(Z_).de($B).build(){}class UC extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s),Dn(s)]}).s("AmazonS3","CreateMultipartUpload",{}).n("S3Client","CreateMultipartUploadCommand").f(l_,c_).ser(Y_).de(qB).build(){}class HD extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketAnalyticsConfiguration",{}).n("S3Client","DeleteBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(tA).de(HB).build(){}class GD extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucket",{}).n("S3Client","DeleteBucketCommand").f(void 0,void 0).ser(eA).de(KB).build(){}class VD extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketCors",{}).n("S3Client","DeleteBucketCorsCommand").f(void 0,void 0).ser(nA).de(GB).build(){}class WD extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketEncryption",{}).n("S3Client","DeleteBucketEncryptionCommand").f(void 0,void 0).ser(sA).de(VB).build(){}class XD extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketIntelligentTieringConfiguration",{}).n("S3Client","DeleteBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(rA).de(WB).build(){}class QD extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketInventoryConfiguration",{}).n("S3Client","DeleteBucketInventoryConfigurationCommand").f(void 0,void 0).ser(oA).de(XB).build(){}class ZD extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketLifecycle",{}).n("S3Client","DeleteBucketLifecycleCommand").f(void 0,void 0).ser(iA).de(QB).build(){}class YD extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetadataTableConfiguration",{}).n("S3Client","DeleteBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(aA).de(ZB).build(){}class JD extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketMetricsConfiguration",{}).n("S3Client","DeleteBucketMetricsConfigurationCommand").f(void 0,void 0).ser(cA).de(YB).build(){}class eF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketOwnershipControls",{}).n("S3Client","DeleteBucketOwnershipControlsCommand").f(void 0,void 0).ser(lA).de(JB).build(){}class tF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketPolicy",{}).n("S3Client","DeleteBucketPolicyCommand").f(void 0,void 0).ser(dA).de(ev).build(){}class nF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketReplication",{}).n("S3Client","DeleteBucketReplicationCommand").f(void 0,void 0).ser(uA).de(tv).build(){}class sF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketTagging",{}).n("S3Client","DeleteBucketTaggingCommand").f(void 0,void 0).ser(fA).de(nv).build(){}class rF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeleteBucketWebsite",{}).n("S3Client","DeleteBucketWebsiteCommand").f(void 0,void 0).ser(mA).de(sv).build(){}class oF extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","DeleteObject",{}).n("S3Client","DeleteObjectCommand").f(void 0,void 0).ser(hA).de(rv).build(){}class iF extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Ge(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),Q(s)]}).s("AmazonS3","DeleteObjects",{}).n("S3Client","DeleteObjectsCommand").f(void 0,void 0).ser(yA).de(ov).build(){}class aF extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","DeleteObjectTagging",{}).n("S3Client","DeleteObjectTaggingCommand").f(void 0,void 0).ser(gA).de(iv).build(){}class cF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","DeletePublicAccessBlock",{}).n("S3Client","DeletePublicAccessBlockCommand").f(void 0,void 0).ser(bA).de(av).build(){}class lF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetBucketAccelerateConfiguration",{}).n("S3Client","GetBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(CA).de(cv).build(){}class dF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetBucketAcl",{}).n("S3Client","GetBucketAclCommand").f(void 0,void 0).ser(pA).de(lv).build(){}class uF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetBucketAnalyticsConfiguration",{}).n("S3Client","GetBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(xA).de(dv).build(){}class fF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetBucketCors",{}).n("S3Client","GetBucketCorsCommand").f(void 0,void 0).ser(SA).de(uv).build(){}class mF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetBucketEncryption",{}).n("S3Client","GetBucketEncryptionCommand").f(void 0,y_).ser(EA).de(fv).build(){}class hF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetBucketIntelligentTieringConfiguration",{}).n("S3Client","GetBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(wA).de(mv).build(){}class yF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetBucketInventoryConfiguration",{}).n("S3Client","GetBucketInventoryConfigurationCommand").f(void 0,x_).ser(kA).de(hv).build(){}class gF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetBucketLifecycleConfiguration",{}).n("S3Client","GetBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(_A).de(yv).build(){}class bF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetBucketLocation",{}).n("S3Client","GetBucketLocationCommand").f(void 0,void 0).ser(AA).de(gv).build(){}class CF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetBucketLogging",{}).n("S3Client","GetBucketLoggingCommand").f(void 0,void 0).ser(BA).de(bv).build(){}class pF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetBucketMetadataTableConfiguration",{}).n("S3Client","GetBucketMetadataTableConfigurationCommand").f(void 0,void 0).ser(vA).de(Cv).build(){}class xF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetBucketMetricsConfiguration",{}).n("S3Client","GetBucketMetricsConfigurationCommand").f(void 0,void 0).ser(PA).de(pv).build(){}class SF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetBucketNotificationConfiguration",{}).n("S3Client","GetBucketNotificationConfigurationCommand").f(void 0,void 0).ser(RA).de(xv).build(){}class EF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetBucketOwnershipControls",{}).n("S3Client","GetBucketOwnershipControlsCommand").f(void 0,void 0).ser(TA).de(Sv).build(){}class wF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetBucketPolicy",{}).n("S3Client","GetBucketPolicyCommand").f(void 0,void 0).ser(IA).de(Ev).build(){}class kF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetBucketPolicyStatus",{}).n("S3Client","GetBucketPolicyStatusCommand").f(void 0,void 0).ser(OA).de(wv).build(){}class _F extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetBucketReplication",{}).n("S3Client","GetBucketReplicationCommand").f(void 0,void 0).ser(MA).de(kv).build(){}class AF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetBucketRequestPayment",{}).n("S3Client","GetBucketRequestPaymentCommand").f(void 0,void 0).ser(NA).de(_v).build(){}class BF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetBucketTagging",{}).n("S3Client","GetBucketTaggingCommand").f(void 0,void 0).ser(DA).de(Av).build(){}class vF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetBucketVersioning",{}).n("S3Client","GetBucketVersioningCommand").f(void 0,void 0).ser(FA).de(Bv).build(){}class PF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetBucketWebsite",{}).n("S3Client","GetBucketWebsiteCommand").f(void 0,void 0).ser(LA).de(vv).build(){}class RF extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetObjectAcl",{}).n("S3Client","GetObjectAclCommand").f(void 0,void 0).ser(zA).de(Rv).build(){}class TF extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s),Dn(s)]}).s("AmazonS3","GetObjectAttributes",{}).n("S3Client","GetObjectAttributesCommand").f(w_,void 0).ser($A).de(Tv).build(){}class IF extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Ge(s,{requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC64NVME","CRC32","CRC32C","SHA256","SHA1"]}),Dn(s),mg()]}).s("AmazonS3","GetObject",{}).n("S3Client","GetObjectCommand").f(E_,S_).ser(UA).de(Pv).build(){}class OF extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetObjectLegalHold",{}).n("S3Client","GetObjectLegalHoldCommand").f(void 0,void 0).ser(qA).de(Iv).build(){}class MF extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetObjectLockConfiguration",{}).n("S3Client","GetObjectLockConfigurationCommand").f(void 0,void 0).ser(jA).de(Ov).build(){}class NF extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetObjectRetention",{}).n("S3Client","GetObjectRetentionCommand").f(void 0,void 0).ser(KA).de(Mv).build(){}class DF extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetObjectTagging",{}).n("S3Client","GetObjectTaggingCommand").f(void 0,void 0).ser(HA).de(Nv).build(){}class FF extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","GetObjectTorrent",{}).n("S3Client","GetObjectTorrentCommand").f(void 0,k_).ser(GA).de(Dv).build(){}class LF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","GetPublicAccessBlock",{}).n("S3Client","GetPublicAccessBlockCommand").f(void 0,void 0).ser(VA).de(Fv).build(){}class UF extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","HeadBucket",{}).n("S3Client","HeadBucketCommand").f(void 0,void 0).ser(WA).de(Lv).build(){}class zF extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s),Dn(s),mg()]}).s("AmazonS3","HeadObject",{}).n("S3Client","HeadObjectCommand").f(A_,__).ser(XA).de(Uv).build(){}class $F extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","ListBucketAnalyticsConfigurations",{}).n("S3Client","ListBucketAnalyticsConfigurationsCommand").f(void 0,void 0).ser(QA).de(zv).build(){}class qF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","ListBucketIntelligentTieringConfigurations",{}).n("S3Client","ListBucketIntelligentTieringConfigurationsCommand").f(void 0,void 0).ser(ZA).de($v).build(){}class jF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","ListBucketInventoryConfigurations",{}).n("S3Client","ListBucketInventoryConfigurationsCommand").f(void 0,B_).ser(YA).de(qv).build(){}class KF extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","ListBucketMetricsConfigurations",{}).n("S3Client","ListBucketMetricsConfigurationsCommand").f(void 0,void 0).ser(JA).de(jv).build(){}class HF extends R.classBuilder().ep(M).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","ListBuckets",{}).n("S3Client","ListBucketsCommand").f(void 0,void 0).ser(eB).de(Kv).build(){}class GF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","ListDirectoryBuckets",{}).n("S3Client","ListDirectoryBucketsCommand").f(void 0,void 0).ser(tB).de(Hv).build(){}class VF extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","ListMultipartUploads",{}).n("S3Client","ListMultipartUploadsCommand").f(void 0,void 0).ser(nB).de(Gv).build(){}class WF extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","ListObjects",{}).n("S3Client","ListObjectsCommand").f(void 0,void 0).ser(sB).de(Vv).build(){}class XF extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","ListObjectsV2",{}).n("S3Client","ListObjectsV2Command").f(void 0,void 0).ser(rB).de(Wv).build(){}class QF extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s)]}).s("AmazonS3","ListObjectVersions",{}).n("S3Client","ListObjectVersionsCommand").f(void 0,void 0).ser(oB).de(Xv).build(){}class ZF extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s),Dn(s)]}).s("AmazonS3","ListParts",{}).n("S3Client","ListPartsCommand").f(v_,void 0).ser(iB).de(Qv).build(){}class YF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Ge(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1})]}).s("AmazonS3","PutBucketAccelerateConfiguration",{}).n("S3Client","PutBucketAccelerateConfigurationCommand").f(void 0,void 0).ser(aB).de(Zv).build(){}class JF extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Ge(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketAcl",{}).n("S3Client","PutBucketAclCommand").f(void 0,void 0).ser(cB).de(Yv).build(){}class eL extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketAnalyticsConfiguration",{}).n("S3Client","PutBucketAnalyticsConfigurationCommand").f(void 0,void 0).ser(lB).de(Jv).build(){}class tL extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Ge(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketCors",{}).n("S3Client","PutBucketCorsCommand").f(void 0,void 0).ser(dB).de(eP).build(){}class nL extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Ge(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketEncryption",{}).n("S3Client","PutBucketEncryptionCommand").f(T_,void 0).ser(uB).de(tP).build(){}class sL extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketIntelligentTieringConfiguration",{}).n("S3Client","PutBucketIntelligentTieringConfigurationCommand").f(void 0,void 0).ser(fB).de(nP).build(){}class rL extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketInventoryConfiguration",{}).n("S3Client","PutBucketInventoryConfigurationCommand").f(I_,void 0).ser(mB).de(sP).build(){}class oL extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Ge(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),Q(s)]}).s("AmazonS3","PutBucketLifecycleConfiguration",{}).n("S3Client","PutBucketLifecycleConfigurationCommand").f(void 0,void 0).ser(hB).de(rP).build(){}class iL extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Ge(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketLogging",{}).n("S3Client","PutBucketLoggingCommand").f(void 0,void 0).ser(yB).de(oP).build(){}class aL extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketMetricsConfiguration",{}).n("S3Client","PutBucketMetricsConfigurationCommand").f(void 0,void 0).ser(gB).de(iP).build(){}class cL extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","PutBucketNotificationConfiguration",{}).n("S3Client","PutBucketNotificationConfigurationCommand").f(void 0,void 0).ser(bB).de(aP).build(){}class lL extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Ge(s,{requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketOwnershipControls",{}).n("S3Client","PutBucketOwnershipControlsCommand").f(void 0,void 0).ser(CB).de(cP).build(){}class dL extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Ge(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketPolicy",{}).n("S3Client","PutBucketPolicyCommand").f(void 0,void 0).ser(pB).de(lP).build(){}class uL extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Ge(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketReplication",{}).n("S3Client","PutBucketReplicationCommand").f(void 0,void 0).ser(xB).de(dP).build(){}class fL extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Ge(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketRequestPayment",{}).n("S3Client","PutBucketRequestPaymentCommand").f(void 0,void 0).ser(SB).de(uP).build(){}class mL extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Ge(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketTagging",{}).n("S3Client","PutBucketTaggingCommand").f(void 0,void 0).ser(EB).de(fP).build(){}class hL extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Ge(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketVersioning",{}).n("S3Client","PutBucketVersioningCommand").f(void 0,void 0).ser(wB).de(mP).build(){}class yL extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Ge(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutBucketWebsite",{}).n("S3Client","PutBucketWebsiteCommand").f(void 0,void 0).ser(kB).de(hP).build(){}class gL extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Ge(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),Q(s)]}).s("AmazonS3","PutObjectAcl",{}).n("S3Client","PutObjectAclCommand").f(void 0,void 0).ser(AB).de(gP).build(){}class au extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Ge(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),PE(),Q(s),Dn(s)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(M_,O_).ser(_B).de(yP).build(){}class bL extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Ge(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),Q(s)]}).s("AmazonS3","PutObjectLegalHold",{}).n("S3Client","PutObjectLegalHoldCommand").f(void 0,void 0).ser(BB).de(bP).build(){}class CL extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Ge(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),Q(s)]}).s("AmazonS3","PutObjectLockConfiguration",{}).n("S3Client","PutObjectLockConfigurationCommand").f(void 0,void 0).ser(vB).de(CP).build(){}class pL extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Ge(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),Q(s)]}).s("AmazonS3","PutObjectRetention",{}).n("S3Client","PutObjectRetentionCommand").f(void 0,void 0).ser(PB).de(pP).build(){}class zC extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Ge(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0}),Q(s)]}).s("AmazonS3","PutObjectTagging",{}).n("S3Client","PutObjectTaggingCommand").f(void 0,void 0).ser(RB).de(xP).build(){}class xL extends R.classBuilder().ep({...M,UseS3ExpressControlEndpoint:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Ge(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!0})]}).s("AmazonS3","PutPublicAccessBlock",{}).n("S3Client","PutPublicAccessBlockCommand").f(void 0,void 0).ser(TB).de(SP).build(){}class SL extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Ge(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),Q(s)]}).s("AmazonS3","RestoreObject",{}).n("S3Client","RestoreObjectCommand").f(U_,void 0).ser(IB).de(EP).build(){}class EL extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s),Dn(s)]}).s("AmazonS3","SelectObjectContent",{eventStream:{output:!0}}).n("S3Client","SelectObjectContentCommand").f($_,z_).ser(OB).de(wP).build(){}class $C extends R.classBuilder().ep({...M,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Ge(s,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),Q(s),Dn(s)]}).s("AmazonS3","UploadPart",{}).n("S3Client","UploadPartCommand").f(j_,q_).ser(MB).de(kP).build(){}class wL extends R.classBuilder().ep({...M,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions()),Q(s),Dn(s)]}).s("AmazonS3","UploadPartCopy",{}).n("S3Client","UploadPartCopyCommand").f(H_,K_).ser(NB).de(_P).build(){}class kL extends R.classBuilder().ep({...M,UseObjectLambdaEndpoint:{type:"staticContextParams",value:!0}}).m(function(n,t,s,r){return[T(s,this.serialize,this.deserialize),O(s,n.getEndpointParameterInstructions())]}).s("AmazonS3","WriteGetObjectResponse",{}).n("S3Client","WriteGetObjectResponseCommand").f(G_,void 0).ser(DB).de(AP).build(){}const _L={AbortMultipartUploadCommand:FC,CompleteMultipartUploadCommand:LC,CopyObjectCommand:UD,CreateBucketCommand:jD,CreateBucketMetadataTableConfigurationCommand:KD,CreateMultipartUploadCommand:UC,CreateSessionCommand:RC,DeleteBucketCommand:GD,DeleteBucketAnalyticsConfigurationCommand:HD,DeleteBucketCorsCommand:VD,DeleteBucketEncryptionCommand:WD,DeleteBucketIntelligentTieringConfigurationCommand:XD,DeleteBucketInventoryConfigurationCommand:QD,DeleteBucketLifecycleCommand:ZD,DeleteBucketMetadataTableConfigurationCommand:YD,DeleteBucketMetricsConfigurationCommand:JD,DeleteBucketOwnershipControlsCommand:eF,DeleteBucketPolicyCommand:tF,DeleteBucketReplicationCommand:nF,DeleteBucketTaggingCommand:sF,DeleteBucketWebsiteCommand:rF,DeleteObjectCommand:oF,DeleteObjectsCommand:iF,DeleteObjectTaggingCommand:aF,DeletePublicAccessBlockCommand:cF,GetBucketAccelerateConfigurationCommand:lF,GetBucketAclCommand:dF,GetBucketAnalyticsConfigurationCommand:uF,GetBucketCorsCommand:fF,GetBucketEncryptionCommand:mF,GetBucketIntelligentTieringConfigurationCommand:hF,GetBucketInventoryConfigurationCommand:yF,GetBucketLifecycleConfigurationCommand:gF,GetBucketLocationCommand:bF,GetBucketLoggingCommand:CF,GetBucketMetadataTableConfigurationCommand:pF,GetBucketMetricsConfigurationCommand:xF,GetBucketNotificationConfigurationCommand:SF,GetBucketOwnershipControlsCommand:EF,GetBucketPolicyCommand:wF,GetBucketPolicyStatusCommand:kF,GetBucketReplicationCommand:_F,GetBucketRequestPaymentCommand:AF,GetBucketTaggingCommand:BF,GetBucketVersioningCommand:vF,GetBucketWebsiteCommand:PF,GetObjectCommand:IF,GetObjectAclCommand:RF,GetObjectAttributesCommand:TF,GetObjectLegalHoldCommand:OF,GetObjectLockConfigurationCommand:MF,GetObjectRetentionCommand:NF,GetObjectTaggingCommand:DF,GetObjectTorrentCommand:FF,GetPublicAccessBlockCommand:LF,HeadBucketCommand:UF,HeadObjectCommand:zF,ListBucketAnalyticsConfigurationsCommand:$F,ListBucketIntelligentTieringConfigurationsCommand:qF,ListBucketInventoryConfigurationsCommand:jF,ListBucketMetricsConfigurationsCommand:KF,ListBucketsCommand:HF,ListDirectoryBucketsCommand:GF,ListMultipartUploadsCommand:VF,ListObjectsCommand:WF,ListObjectsV2Command:XF,ListObjectVersionsCommand:QF,ListPartsCommand:ZF,PutBucketAccelerateConfigurationCommand:YF,PutBucketAclCommand:JF,PutBucketAnalyticsConfigurationCommand:eL,PutBucketCorsCommand:tL,PutBucketEncryptionCommand:nL,PutBucketIntelligentTieringConfigurationCommand:sL,PutBucketInventoryConfigurationCommand:rL,PutBucketLifecycleConfigurationCommand:oL,PutBucketLoggingCommand:iL,PutBucketMetricsConfigurationCommand:aL,PutBucketNotificationConfigurationCommand:cL,PutBucketOwnershipControlsCommand:lL,PutBucketPolicyCommand:dL,PutBucketReplicationCommand:uL,PutBucketRequestPaymentCommand:fL,PutBucketTaggingCommand:mL,PutBucketVersioningCommand:hL,PutBucketWebsiteCommand:yL,PutObjectCommand:au,PutObjectAclCommand:gL,PutObjectLegalHoldCommand:bL,PutObjectLockConfigurationCommand:CL,PutObjectRetentionCommand:pL,PutObjectTaggingCommand:zC,PutPublicAccessBlockCommand:xL,RestoreObjectCommand:SL,SelectObjectContentCommand:EL,UploadPartCommand:$C,UploadPartCopyCommand:wL,WriteGetObjectResponseCommand:kL};class qC extends ND{}Xp(_L,qC);class AL{constructor(){this.onabort=null,this._aborted=!1,Object.defineProperty(this,"_aborted",{value:!1,writable:!0})}get aborted(){return this._aborted}abort(){this._aborted=!0,this.onabort&&(this.onabort(this),this.onabort=null)}}let BL=class{constructor(){this.signal=new AL}abort(){this.signal.abort()}};const vL={lstatSync:()=>{}},PL={...vL,runtime:"browser"},td=e=>{if(e==null)return 0;if(typeof e=="string")return hs.Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size;if(typeof e.path=="string")try{return PL.lstatSync(e.path).size}catch{return}};var RL=n0();async function*nd(e,n,t){let s=1;const r={chunks:[],length:0};for await(const o of t(e))for(r.chunks.push(o),r.length+=o.byteLength;r.length>n;){const i=r.chunks.length>1?hs.Buffer.concat(r.chunks):r.chunks[0];yield{partNumber:s,data:i.subarray(0,n)},r.chunks=[i.subarray(n)],r.length=r.chunks[0].byteLength,s+=1}yield{partNumber:s,data:r.chunks.length!==1?hs.Buffer.concat(r.chunks):r.chunks[0],lastPart:!0}}async function*xy(e,n){let t=1,s=0,r=n;for(;r<e.byteLength;)yield{partNumber:t,data:e.subarray(s,r)},t+=1,s=r,r=s+n;yield{partNumber:t,data:e.subarray(s),lastPart:!0}}async function*TL(e){for await(const n of e)hs.Buffer.isBuffer(n)||n instanceof Uint8Array?yield n:yield hs.Buffer.from(n)}async function*Sy(e){const n=e.getReader();try{for(;;){const{done:t,value:s}=await n.read();if(t)return;hs.Buffer.isBuffer(s)||s instanceof Uint8Array?yield s:yield hs.Buffer.from(s)}}catch(t){throw t}finally{n.releaseLock()}}const IL=(e,n)=>{if(e instanceof Uint8Array)return xy(e,n);if(e instanceof RL.Readable)return nd(e,n,TL);if(e instanceof String||typeof e=="string")return xy(hs.Buffer.from(e),n);if(typeof e.stream=="function")return nd(e.stream(),n,Sy);if(e instanceof ReadableStream)return nd(e,n,Sy);throw new Error("Body Data is unsupported format, expected data to be one of: string | Uint8Array | Buffer | Readable | ReadableStream | Blob;.")},jr=class jr extends Hc.EventEmitter{constructor(t){super();W(this,"MAX_PARTS",1e4);W(this,"queueSize",4);W(this,"partSize",jr.MIN_PART_SIZE);W(this,"leavePartsOnError",!1);W(this,"tags",[]);W(this,"client");W(this,"params");W(this,"totalBytes");W(this,"bytesUploadedSoFar");W(this,"abortController");W(this,"concurrentUploaders",[]);W(this,"createMultiPartPromise");W(this,"abortMultipartUploadCommand",null);W(this,"uploadedParts",[]);W(this,"uploadEnqueuedPartsCount",0);W(this,"uploadId");W(this,"uploadEvent");W(this,"isMultiPart",!0);W(this,"singleUploadResult");W(this,"sent",!1);this.queueSize=t.queueSize||this.queueSize,this.partSize=t.partSize||this.partSize,this.leavePartsOnError=t.leavePartsOnError||this.leavePartsOnError,this.tags=t.tags||this.tags,this.client=t.client,this.params=t.params,this.__validateInput(),this.totalBytes=td(this.params.Body),this.bytesUploadedSoFar=0,this.abortController=t.abortController??new BL}async abort(){this.abortController.abort()}async done(){if(this.sent)throw new Error("@aws-sdk/lib-storage: this instance of Upload has already executed .done(). Create a new instance.");return this.sent=!0,await Promise.race([this.__doMultipartUpload(),this.__abortTimeout(this.abortController.signal)])}on(t,s){return this.uploadEvent=t,super.on(t,s)}async __uploadUsingPut(t){var v;this.isMultiPart=!1;const s={...this.params,Body:t.data},r=this.client.config,o=r.requestHandler,i=o instanceof Hc.EventEmitter?o:null,a=w=>{this.bytesUploadedSoFar=w.loaded,this.totalBytes=w.total,this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:t.partNumber,Key:this.params.Key,Bucket:this.params.Bucket})};i!==null&&i.on("xhr.upload.progress",a);const c=await Promise.all([this.client.send(new au(s)),(v=r==null?void 0:r.endpoint)==null?void 0:v.call(r)]),l=c[0];let d=c[1];if(d||(d=Ou(await _g(s,au,{...r}))),!d)throw new Error('Could not resolve endpoint from S3 "client.config.endpoint()" nor EndpointsV2.');i!==null&&i.off("xhr.upload.progress",a);const m=this.params.Key.split("/").map(w=>ec(w)).join("/"),h=ec(this.params.Bucket),C=(()=>{const w=d.hostname.startsWith(`${h}.`),$=this.client.config.forcePathStyle,V=d.port?`:${d.port}`:"";return $?`${d.protocol}//${d.hostname}${V}/${h}/${m}`:w?`${d.protocol}//${d.hostname}${V}/${m}`:`${d.protocol}//${h}.${d.hostname}${V}/${m}`})();this.singleUploadResult={...l,Bucket:this.params.Bucket,Key:this.params.Key,Location:C};const E=td(t.data);this.__notifyProgress({loaded:E,total:E,part:1,Key:this.params.Key,Bucket:this.params.Bucket})}async __createMultipartUpload(){const t=await this.client.config.requestChecksumCalculation();if(!this.createMultiPartPromise){const s={...this.params,Body:void 0};t==="WHEN_SUPPORTED"&&(s.ChecksumAlgorithm=this.params.ChecksumAlgorithm||s_.CRC32),this.createMultiPartPromise=this.client.send(new UC(s)).then(r=>(this.abortMultipartUploadCommand=new FC({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:r.UploadId}),r))}return this.createMultiPartPromise}async __doConcurrentUpload(t){for await(const s of t){if(this.uploadEnqueuedPartsCount>this.MAX_PARTS)throw new Error(`Exceeded ${this.MAX_PARTS} parts in multipart upload to Bucket: ${this.params.Bucket} Key: ${this.params.Key}.`);if(this.abortController.signal.aborted)return;if(s.partNumber===1&&s.lastPart)return await this.__uploadUsingPut(s);if(!this.uploadId){const{UploadId:d}=await this.__createMultipartUpload();if(this.uploadId=d,this.abortController.signal.aborted)return}const r=td(s.data)||0,o=this.client.config.requestHandler,i=o instanceof Hc.EventEmitter?o:null;let a=0;const c=(d,m)=>{(Number(m.query.partNumber)||-1)===s.partNumber&&(d.total&&r&&(this.bytesUploadedSoFar+=d.loaded-a,a=d.loaded),this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:s.partNumber,Key:this.params.Key,Bucket:this.params.Bucket}))};i!==null&&i.on("xhr.upload.progress",c),this.uploadEnqueuedPartsCount+=1;const l=await this.client.send(new $C({...this.params,ContentLength:void 0,UploadId:this.uploadId,Body:s.data,PartNumber:s.partNumber}));if(i!==null&&i.off("xhr.upload.progress",c),this.abortController.signal.aborted)return;if(!l.ETag)throw new Error(`Part ${s.partNumber} is missing ETag in UploadPart response. Missing Bucket CORS configuration for ETag header?`);this.uploadedParts.push({PartNumber:s.partNumber,ETag:l.ETag,...l.ChecksumCRC32&&{ChecksumCRC32:l.ChecksumCRC32},...l.ChecksumCRC32C&&{ChecksumCRC32C:l.ChecksumCRC32C},...l.ChecksumSHA1&&{ChecksumSHA1:l.ChecksumSHA1},...l.ChecksumSHA256&&{ChecksumSHA256:l.ChecksumSHA256}}),i===null&&(this.bytesUploadedSoFar+=r),this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:s.partNumber,Key:this.params.Key,Bucket:this.params.Bucket})}}async __doMultipartUpload(){const t=IL(this.params.Body,this.partSize),s=[];for(let o=0;o<this.queueSize;o++){const i=this.__doConcurrentUpload(t).catch(a=>{s.push(a)});this.concurrentUploaders.push(i)}if(await Promise.all(this.concurrentUploaders),s.length>=1)throw await this.markUploadAsAborted(),s[0];if(this.abortController.signal.aborted)throw await this.markUploadAsAborted(),Object.assign(new Error("Upload aborted."),{name:"AbortError"});let r;if(this.isMultiPart){this.uploadedParts.sort((i,a)=>i.PartNumber-a.PartNumber);const o={...this.params,Body:void 0,UploadId:this.uploadId,MultipartUpload:{Parts:this.uploadedParts}};r=await this.client.send(new LC(o)),typeof(r==null?void 0:r.Location)=="string"&&r.Location.includes("%2F")&&(r.Location=r.Location.replace(/%2F/g,"/"))}else r=this.singleUploadResult;return this.abortMultipartUploadCommand=null,this.tags.length&&await this.client.send(new zC({...this.params,Tagging:{TagSet:this.tags}})),r}async markUploadAsAborted(){this.uploadId&&!this.leavePartsOnError&&this.abortMultipartUploadCommand!==null&&(await this.client.send(this.abortMultipartUploadCommand),this.abortMultipartUploadCommand=null)}__notifyProgress(t){this.uploadEvent&&this.emit(this.uploadEvent,t)}async __abortTimeout(t){return new Promise((s,r)=>{t.onabort=()=>{const o=new Error("Upload aborted.");o.name="AbortError",r(o)}})}__validateInput(){if(!this.params)throw new Error("InputError: Upload requires params to be passed to upload.");if(!this.client)throw new Error("InputError: Upload requires a AWS client to do uploads with.");if(this.partSize<jr.MIN_PART_SIZE)throw new Error(`EntityTooSmall: Your proposed upload partsize [${this.partSize}] is smaller than the minimum allowed size [${jr.MIN_PART_SIZE}] (5MB)`);if(this.queueSize<1)throw new Error("Queue size: Must have at least one uploading queue.")}};W(jr,"MIN_PART_SIZE",1024*1024*5);let cu=jr;async function OL(e,n,t,s,r,o,i,a,c){const l=new qC({endpoint:t,region:"us-east-1",credentials:{accessKeyId:s,secretAccessKey:r},forcePathStyle:!0}),d=new cu({client:l,params:{Bucket:o,Key:n,ContentType:i,Body:e},abortController:a,leavePartsOnError:!0});d.on("httpUploadProgress",m=>{c&&c({value:m.loaded||0,total:m.total||1})}),await d.done()}function jC(){const{synapseClient:e}=Oi();return xr({mutationFn:n=>e.fileServicesClient.postFileV1ExternalFileHandle(n)})}function ML(e){const{mutateAsync:n}=jC();return xr({...e,mutationFn:async t=>{const{accessKey:s,secretKey:r,bucketName:o,endpoint:i,fileName:a,contentType:c,blob:l,progressCallback:d,keyPrefixUUID:m,storageLocationId:h,onMd5Computed:C,abortController:E}=t,v=await XC(l);C&&C();const w=`${m}/${a}`;return await OL(l,w,i,s,r,o,c,E,d),await n({externalFileHandleInterface:{concreteType:"org.sagebionetworks.repo.model.file.ExternalObjectStoreFileHandle",contentMd5:v,contentSize:l.size,contentType:c,fileKey:w,fileName:a,storageLocationId:h}})}})}function NL(e){const{accessToken:n}=Oi();return xr({...e,mutationFn:t=>{const{blob:s,fileName:r,storageLocationId:o,contentType:i,progressCallback:a,abortController:c,onMd5Computed:l}=t;return QC(n,r,s,o,i,a,void 0,l,c)}})}class DL{constructor(n){W(this,"value");W(this,"next");this.value=n}}var cn,Fs,Ls;class FL{constructor(){na(this,cn);na(this,Fs);na(this,Ls);this.clear()}enqueue(n){const t=new DL(n);Pn(this,cn)?(Pn(this,Fs).next=t,Vn(this,Fs,t)):(Vn(this,cn,t),Vn(this,Fs,t)),Kc(this,Ls)._++}dequeue(){const n=Pn(this,cn);if(n)return Vn(this,cn,Pn(this,cn).next),Kc(this,Ls)._--,n.value}peek(){if(Pn(this,cn))return Pn(this,cn).value}clear(){Vn(this,cn,void 0),Vn(this,Fs,void 0),Vn(this,Ls,0)}get size(){return Pn(this,Ls)}*[Symbol.iterator](){let n=Pn(this,cn);for(;n;)yield n.value,n=n.next}*drain(){for(;Pn(this,cn);)yield this.dequeue()}}cn=new WeakMap,Fs=new WeakMap,Ls=new WeakMap;function LL(e){Ey(e);const n=new FL;let t=0;const s=()=>{t<e&&n.size>0&&(n.dequeue()(),t++)},r=()=>{t--,s()},o=async(c,l,d)=>{const m=(async()=>c(...d))();l(m);try{await m}catch{}r()},i=(c,l,d)=>{new Promise(m=>{n.enqueue(m)}).then(o.bind(void 0,c,l,d)),(async()=>(await Promise.resolve(),t<e&&s()))()},a=(c,...l)=>new Promise(d=>{i(c,d,l)});return Object.defineProperties(a,{activeCount:{get:()=>t},pendingCount:{get:()=>n.size},clearQueue:{value(){n.clear()}},concurrency:{get:()=>e,set(c){Ey(c),e=c,queueMicrotask(()=>{for(;t<e&&n.size>0;)s()})}}}),a}function Ey(e){if(!((Number.isInteger(e)||e===Number.POSITIVE_INFINITY)&&e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up")}const UL=[".awk",".bat",".btm",".c",".cmd",".cpp",".cxx",".def",".dlg",".dpc",".dpj",".dtd",".h",".hdl",".hpp",".hrc",".html",".hxx",".inc",".ini",".inl",".ins",".ipy",".java",".js",".jsp",".l",".lgt",".ll",".par",".pl",".py",".r",".rc",".rdb",".res",".s",".sbl",".scp",".sh",".sql",".src",".srs",".xml",".xrb",".y",".yaml",".yxx"],zL="text/plain",$L="text/csv",qL="text/tab-separated-values",jL="application/octet-stream",KL=[".cwl",".wdl",".json"];function HL(e){let n=!1;if(e!=null){const t=e.lastIndexOf(".");if(t>-1){const s=e.substring(t).toLowerCase();n=UL.includes(s)}}return n}function GL(e){if(e!=null){const n=e.lastIndexOf(".");if(n>-1)return e.substring(n+1).toLowerCase()}return null}function VL(e){let n=!1;const t=GL(e);return t!=null&&(n=KL.includes("."+t)),n}function WL(e,n){let t=e;const s=n.toLowerCase();return(e==null||e.trim().length==0)&&(HL(n)||VL(n)||s.endsWith(".txt")?t=zL:s.endsWith(".tsv")||s.endsWith(".tab")?t=qL:s.endsWith(".csv")?t=$L:t=jL),t}function sd(e,n){switch(n.type){case"addItemsPendingConfirmation":return{...e,pendingItems:[...e.pendingItems,...n.newItems]};case"confirmItem":{const t=[...e.confirmedItems,...n.itemsToConfirm],s=e.pendingItems.filter(r=>!n.itemsToConfirm.includes(r));return{confirmedItems:t,pendingItems:s}}case"removePendingItems":{const t=e.pendingItems.filter(s=>!n.itemsToRemove.includes(s));return{confirmedItems:e.confirmedItems,pendingItems:t}}case"clear":return{confirmedItems:[],pendingItems:[]};default:return e}}function XL(){const[e,n]=Ee.useReducer(sd,{pendingItems:[],confirmedItems:[]}),t=(...i)=>{n({type:"addItemsPendingConfirmation",newItems:i})},s=(...i)=>(n({type:"confirmItem",itemsToConfirm:i}),sd(e,{type:"confirmItem",itemsToConfirm:i})),r=(...i)=>(n({type:"removePendingItems",itemsToRemove:i}),sd(e,{type:"removePendingItems",itemsToRemove:i})),o=()=>{n({type:"clear"})};return{pendingItems:e.pendingItems,confirmedItems:e.confirmedItems,addItemsPendingConfirmation:t,confirmItem:s,removePendingItems:r,clear:o}}async function QL(e,n,t,s){var i;const r=((i=await ZC(()=>t.entityServicesClient.postRepoV1EntityChild({entityLookupRequest:{parentId:n,entityName:e}})))==null?void 0:i.id)??null;if(r==null)return r;const o=await t.entityServicesClient.getRepoV1EntityId({id:r});if(o.concreteType!="org.sagebionetworks.repo.model.FileEntity"){const a=hu(o.concreteType);throw new Error(`A(n) ${Py(a)} named "${e}" already exists in this location (${n}).${` ${s}`}`)}return o.id}function ZL(){const{mutateAsync:e}=yu(),n=r0(),t=JC(),s=e0();return xr({mutationFn:async r=>{const{rootContainerId:o,path:i}=r;let a=o;for(const c of i){const l=await n.fetchQuery(t({parentId:a,entityName:c}));if(l){const d=await n.fetchQuery(s(l));if(d.concreteType!="org.sagebionetworks.repo.model.Folder"){const m=hu(d.concreteType);throw new Error(`A(n) ${Py(m)} named "${c}" already exists in this location (${a}). A folder could not be created.`)}a=l}else{const{id:d}=await e({concreteType:"org.sagebionetworks.repo.model.Folder",name:c,parentId:a});a=d}}return a}})}function YL(){const{mutateAsync:e}=ZL();return xr({mutationFn:n=>{const{file:t,rootContainerId:s}=n,r=t.webkitRelativePath;if(r){const o=r.split("/").slice(0,-1);return e({rootContainerId:s,path:o}).then(i=>({file:t,parentId:i}))}else return Promise.resolve({file:t,parentId:s})}})}function JL(e){const{synapseClient:n}=Oi(),{mutateAsync:t}=YL();return xr({...e,mutationFn:async s=>{const r=s.filter(h=>"existingEntityId"in h),o=[];for(const h of s)try{if("rootContainerId"in h){const{file:C,rootContainerId:E}=h;o.push(await t({file:C,rootContainerId:E}))}}catch(C){throw new Error(`Unable to create target folder structure for file ${h.file.name}${Object.hasOwn(C,"message")?`: ${C.message}`:null}`,{cause:C})}const i=await Promise.allSettled(o.map(h=>QL(h.file.name,h.parentId,n,"The file could not be uploaded.").then(C=>({...h,existingEntityId:C})))),a=i.filter(h=>h.status==="rejected");if(a.length>0)throw new Error(`Files could not be uploaded:
	${a.map(h=>h.reason.message).join(`
	`)}`);const c=i.filter(h=>h.status==="fulfilled").map(h=>h.value),d=[...c.filter(h=>h.existingEntityId==null),...r],m=c.filter(h=>h.existingEntityId!=null);return{filesReadyForUpload:d,filesToPromptForNewVersion:m}}})}const KC=["PREPARING","UPLOADING","PAUSED"],eU=[...KC,"COMPLETE"];function tU(){const[e,n]=Ee.useState(new Map);function t(...v){v.forEach($=>{const V=e.get($.file);V&&V.status!=="CANCELED_BY_USER"&&c($.file)});const w=new Map(e.entries());return v.forEach($=>{w.set($.file,{filePreparedForUpload:$,abortController:new AbortController,progress:{value:0,total:1},status:"PREPARING"})}),n(w),w}function s(v,w){n($=>{const V=new Map($.entries()),ne=V.get(v);return ne&&V.set(v,{...ne,progress:{...ne.progress,...w}}),V})}function r(v,w,$){n(V=>{const ne=new Map(V.entries()),ae=ne.get(v);return ae&&ne.set(v,{...ae,status:w,failureReason:$}),ne})}function o(v){r(v,"UPLOADING")}function i(v){r(v,"COMPLETE")}function a(v,w){r(v,"FAILED",w)}function c(v){const w=e.get(v);w!=null&&w.abortController.abort(),r(v,"CANCELED_BY_USER")}function l(v){const w=e.get(v);w!=null&&w.abortController.abort("Paused by user"),r(v,"PAUSED")}function d(v){n(w=>{const $=new Map(w.entries()),V=$.get(v);return V==null||(V.status!="CANCELED_BY_USER"&&V.status!="FAILED"?console.warn("Attempted to remove tracked upload progress before it was canceled.",V):$.delete(v)),$})}const m=[...e].reduce((v,[w,$])=>eU.includes($.status)?v+w.size:v,0),h=[...e].filter(([v,w])=>KC.includes(w.status)).length,C=h>0,E=[...e].some(([v,w])=>w.status==="COMPLETE")&&!C;return{trackedUploadProgress:e,setProgress:s,setIsUploading:o,trackNewFiles:t,bytesPendingUpload:m,pauseUpload:l,cancelUpload:c,removeUpload:d,setComplete:i,setFailed:a,isUploading:C,isUploadComplete:E,activeUploadCount:h}}function nU(e,n,t){if(n==null)return!1;if(n.isOverLimit)return!0;if(n.maxAllowedFileBytes==null)return!1;const s=n.sumFileBytes+t,r=Array.from(e).reduce((o,i)=>o+i.size,0);return s+r>n.maxAllowedFileBytes}const sU=LL(8);function rU(e,n="",t="",s=_o){const{synapseClient:r}=Oi(),{data:o,isLoading:i,error:a}=Iy(e,{staleTime:1/0}),c=!!(e&&o),l=(o==null?void 0:o.storageLocationId)||rd,d=a==null?void 0:a.message,{pendingItems:m,confirmItem:h,addItemsPendingConfirmation:C,removePendingItems:E,clear:v}=XL(),{trackedUploadProgress:w,setProgress:$,setIsUploading:V,trackNewFiles:ne,cancelUpload:ae,pauseUpload:at,removeUpload:ct,setComplete:yn,setFailed:ri,isUploading:Tr,isUploadComplete:oi,activeUploadCount:ii,bytesPendingUpload:ai}=tU(),Qi=Ee.useMemo(()=>a?"ERROR":i?"LOADING":m.length>0?"PROMPT_USER":Tr?"UPLOADING":oi?"COMPLETE":"WAITING",[m.length,a,i,oi,Tr]),{mutateAsync:Zi}=yu(),{mutateAsync:Ir}=Ry(),{mutateAsync:ci}=NL(),{mutateAsync:Or}=ML(),li=Ee.useCallback(async function(We,Te){try{const ea=We.get(Te.file),Df={fileName:Te.file.name,blob:Te.file,storageLocationId:l,contentType:WL(Te.file.type,Te.file.name),progressCallback:es=>{es&&$(Te.file,es)},abortController:ea.abortController,onMd5Computed:()=>{V(Te.file)}};let ta;if(o&&vy(o)&&o.endpointUrl!=null?ta=(await Or({...Df,bucketName:o.bucket,endpoint:o.endpointUrl,keyPrefixUUID:o.keyPrefixUUID,accessKey:n,secretKey:t})).id:ta=(await ci(Df)).fileHandleId,"existingEntityId"in Te&&Te.existingEntityId){const es=await r.entityServicesClient.getRepoV1EntityId({id:Te.existingEntityId});await Ir({...es,dataFileHandleId:ta}),yn(Te.file)}else if("parentId"in Te){const es={parentId:Te.parentId,name:Te.file.name,concreteType:"org.sagebionetworks.repo.model.FileEntity",dataFileHandleId:ta};await Zi(es),yn(Te.file)}else throw new Error(`Can't upload file without a parent ID or existing entity ID. File was: ${JSON.stringify(Te)}`)}catch(ea){console.error("File upload failed: ",ea),ri(Te.file,ea.message)}},[l,o,$,V,Or,n,t,ci,r.entityServicesClient,Ir,yn,Zi,ri]),et=Ee.useCallback((...xt)=>{v();const We=ne(...xt);xt.map(Te=>sU(()=>li(We,Te)))},[v,ne,li]),Mr=Ee.useCallback(xt=>{const{filesReadyForUpload:We,filesToPromptForNewVersion:Te}=xt;We.length>0&&Te.length==0&&et(...We),Te.length>0&&(h(...We),C(...Te))},[C,h,et]),{mutate:Tt,isPending:Jn}=JL(),di=Ee.useCallback(xt=>{if(o==null){console.error("Upload destination was not loaded, or failed to load! Aborting upload.");return}nU(xt.map(We=>We.file),o.projectStorageLocationUsage,ai)?s():Tt(xt,{onSuccess:We=>{Mr(We)}})},[ai,s,Mr,Tt,o]),Yi=Ee.useMemo(()=>m.map(xt=>({info:{type:"CONFIRM_NEW_VERSION",fileName:xt.file.name,existingEntityId:xt.existingEntityId},onConfirm:()=>{const{confirmedItems:We,pendingItems:Te}=h(xt);We.length>0&&Te.length==0&&et(...We)},onConfirmAll:()=>{const{confirmedItems:We}=h(...m);et(...We)},onSkip:()=>{const{confirmedItems:We,pendingItems:Te}=E(xt);We.length>0&&Te.length==0&&et(...We)},onCancelAll:()=>{v()}})),[v,h,m,E,et]),Ji=Ee.useMemo(()=>[...w].map(([xt,We])=>({file:xt,progress:We.progress,status:We.status,failureReason:We.failureReason,cancel:()=>{ae(xt)},pause:()=>{at(xt)},resume:()=>{et(We.filePreparedForUpload)},remove(){ct(xt)}})),[ae,at,ct,et,w]);return Ee.useMemo(()=>({state:Qi,errorMessage:d,isPrecheckingUpload:Jn,activeUploadCount:ii,initiateUpload:di,activePrompts:Yi,uploadProgress:Ji,isUploadReady:c}),[Qi,d,Jn,ii,di,Yi,Ji,c])}function oU(e){return e.type==="CONFIRM_NEW_VERSION"?"Update existing file?":""}function iU(e){return e.type==="CONFIRM_NEW_VERSION"?`A file named "${e.fileName}" (${e.existingEntityId}) already exists in this location. Do you want to update the existing file and create a new version?`:""}function lu(e){const{activePrompts:n}=e,[t,s]=Ee.useState(!1);if(n.length===0)return null;const r=n.filter(o=>o.info.type==="CONFIRM_NEW_VERSION").length-1;return U.jsx(Ay,{title:oU(n[0].info),open:!0,content:U.jsxs(U.Fragment,{children:[U.jsx(is,{variant:"body1",gutterBottom:!0,children:iU(n[0].info)}),n[0].info.type=="CONFIRM_NEW_VERSION"&&r>0&&U.jsx(a0,{control:U.jsx(c0,{}),value:t,onChange:(o,i)=>s(i),label:`Also update ${r.toLocaleString()} other uploaded ${od("file",r)} that already exist${r==1?"s":""}`})]}),onCancel:_o,hasCloseButton:!1,actions:U.jsxs(U.Fragment,{children:[n[0].onCancelAll&&U.jsx(gi,{variant:"text",color:"error",onClick:n[0].onCancelAll,children:"Cancel All Uploads"}),U.jsx(_i,{sx:{flexGrow:1}}),n[0].onSkip&&U.jsx(gi,{onClick:n[0].onSkip,children:"No"}),n[0].onConfirm&&U.jsx(gi,{variant:"contained",color:"primary",onClick:()=>{t?n[0].onConfirmAll():n[0].onConfirm()},children:"Yes"})]})})}try{lu.displayName="EntityUploadPromptDialog",lu.__docgenInfo={description:"",displayName:"EntityUploadPromptDialog",props:{activePrompts:{defaultValue:null,description:"",name:"activePrompts",required:!0,type:{name:"UseUploadFileEntitiesReturn"}}}}}catch{}function du(e){const{uploadDestination:n,accessKey:t,setAccessKey:s,secretKey:r,setSecretKey:o}=e;return n==null||!vy(n)||!n.endpointUrl?U.jsx(U.Fragment,{}):U.jsxs(gu,{gap:1.5,mb:3,children:[U.jsxs(is,{children:["Authorization is required to access"," ",U.jsx("strong",{children:n.endpointUrl})]}),U.jsx(Ya,{label:"Access Key",fullWidth:!0,value:t,onChange:i=>{s(i.target.value)}}),U.jsx(Ya,{label:"Secret Key",type:"password",fullWidth:!0,value:r,onChange:i=>{o(i.target.value)}}),U.jsx(is,{variant:"smallText1",fontStyle:"italic",children:"Keys are used to locally sign a web request. They are not transmitted or stored by Synapse."})]})}try{du.displayName="ExternalObjectStoreCredentialsForm",du.__docgenInfo={description:"",displayName:"ExternalObjectStoreCredentialsForm",props:{uploadDestination:{defaultValue:null,description:"",name:"uploadDestination",required:!1,type:{name:"UploadDestination"}},accessKey:{defaultValue:null,description:"",name:"accessKey",required:!0,type:{name:"string"}},setAccessKey:{defaultValue:null,description:"",name:"setAccessKey",required:!0,type:{name:"Dispatch<SetStateAction<string>>"}},secretKey:{defaultValue:null,description:"",name:"secretKey",required:!0,type:{name:"string"}},setSecretKey:{defaultValue:null,description:"",name:"setSecretKey",required:!0,type:{name:"Dispatch<SetStateAction<string>>"}}}}}catch{}const ya=24,aU={pointerEvents:"none",filter:"opacity(33%)"},uu=Ee.forwardRef(function(n,t){var li;const{entityId:s,onStateChange:r=_o,onUploadReady:o=_o}=n,{data:i,isLoading:a}=Ty(s),c=(i==null?void 0:i.concreteType)==="org.sagebionetworks.repo.model.FileEntity",{data:l,isLoading:d}=Iy(s),m=a||d,[h,C]=Ee.useState(""),[E,v]=Ee.useState(""),[w,$]=Ee.useState(!1),{initiateUpload:V,state:ne,uploadProgress:ae,activePrompts:at,activeUploadCount:ct,isPrecheckingUpload:yn,isUploadReady:ri}=rU(s,h,E,()=>$(!0));Ee.useEffect(()=>{r(ne)},[ne,r]),Ee.useEffect(()=>{ri&&o()},[ri,o]);const Tr=Ee.useRef(null),oi=Ee.useRef(null),[ii,ai]=Ee.useState(null),Qi=!!ii,Zi=et=>{c?Tr.current.click():ai(et.currentTarget)},Ir=()=>{ai(null)},ci=ae.filter(et=>et.status==="COMPLETE").length;function Or(et){var Tt;if((Tt=l==null?void 0:l.projectStorageLocationUsage)!=null&&Tt.isOverLimit){By("Cannot upload files because the storage limit has been exceeded.","danger");return}const Mr=Array.from(et).map(Jn=>c?{file:Jn,existingEntityId:s}:{file:Jn,rootContainerId:s});V(Mr)}return Ee.useImperativeHandle(t,()=>({handleUploads:Or})),U.jsxs("div",{children:[U.jsx(lu,{activePrompts:at}),(l==null?void 0:l.projectStorageLocationUsage)&&U.jsx(u0,{usage:l.projectStorageLocationUsage,didUploadsExceedLimit:w}),U.jsx(du,{uploadDestination:l,accessKey:h,setAccessKey:C,secretKey:E,setSecretKey:v}),U.jsxs(gu,{sx:{width:"100%",border:"1px dashed #D9D9D9",backgroundColor:"grey.100",textAlign:"center",...(li=l==null?void 0:l.projectStorageLocationUsage)!=null&&li.isOverLimit?aU:{}},py:3,gap:1,justifyContent:"center",alignItems:"center",children:[(yn||m)&&U.jsxs(U.Fragment,{children:[U.jsx("div",{children:U.jsx(Oy,{size:40})}),U.jsx(is,{variant:"smallText1",my:2,children:m?"Loading...":"Preparing files for upload..."})]}),!yn&&!m&&U.jsxs(U.Fragment,{children:[U.jsx("img",{src:"https://s3.us-east-1.amazonaws.com/static.synapse.org/images/upload_illustration.svg"}),U.jsx("input",{type:"file",id:"filesToUpload",name:"file upload",style:{display:"none"},"aria-hidden":"true",multiple:!c,ref:Tr,onChange:et=>{et.target.files!=null&&Or(et.target.files)}}),U.jsx("input",{type:"file",id:"folderToUpload",name:"folder upload",style:{display:"none"},"aria-hidden":"true",ref:oi,onChange:et=>{et.target.files!=null&&Or(et.target.files)},webkitdirectory:"true"}),U.jsxs(is,{variant:"body1",my:2,children:[U.jsx(f0,{onClick:Zi,children:"Click to upload"})," or drag and drop"]}),U.jsxs(m0,{anchorEl:ii,open:Qi,onClose:Ir,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},TransitionComponent:h0,children:[U.jsx(Uf,{onClick:()=>{Ir(),Tr.current.click()},children:"Files"}),U.jsx(Uf,{onClick:()=>{Ir(),oi.current.click()},children:"Folder"})]}),U.jsxs(is,{variant:"smallText1",children:["All uploaded files will be stored in",(l==null?void 0:l.storageLocationId)===rd&&" Synapse storage",l&&(l==null?void 0:l.storageLocationId)!==rd&&U.jsxs(U.Fragment,{children:[":",U.jsx("br",{}),t0(l)]})]}),l&&l.banner&&U.jsx(i0,{sx:{textAlign:"left"},isGlobal:!1,title:"Storage Location Message",description:l.banner,variant:"info"})]})]}),ae.length>0&&U.jsxs(y0,{sx:{px:`${ya}px`,py:2,mt:3,width:"100%",height:"260px",background:"#FBFBFC"},children:[U.jsxs(is,{variant:"headline2",gutterBottom:!0,children:[ne==="WAITING"&&U.jsx(U.Fragment,{children:"Uploads"}),ne==="UPLOADING"&&U.jsxs(U.Fragment,{children:["Uploading ",ct," ",od("Item",ct)]}),ne==="COMPLETE"&&U.jsxs(U.Fragment,{children:["Uploaded ",ci," ",od("Item",ci)]})]}),U.jsx(_i,{sx:{"& > div > div > :not(:last-child)":{borderBottom:"solid 1px #EAECEE"}},mx:`${ya*-1}px`,children:U.jsx(o0,{itemSize:l0,height:205,itemCount:ae.length,width:"100%",children:({index:et,style:Mr})=>{const Tt=ae[et],Jn=Tt.file.webkitRelativePath||Tt.file.name,di=Tt.file.size,Yi=Tt.progress.value/Tt.progress.total,Ji=di*Yi;return U.jsx("div",{style:{...Mr,width:`calc(100% - ${ya*2}px)`,margin:`0px ${ya}px`},children:U.jsx(d0,{fileName:Jn,status:Tt.status,totalSizeInBytes:di,uploadedSizeInBytes:Ji,onCancel:Tt.cancel,onPause:Tt.pause,onResume:Tt.resume,onRemove:Tt.remove,errorMessage:Tt.failureReason})},Jn)}})})]})]})});try{uu.displayName="EntityUpload",uu.__docgenInfo={description:"",displayName:"EntityUpload",props:{entityId:{defaultValue:null,description:`The ID of the entity to upload to. If this is a container, file(s) will be added as children. If this is a
FileEntity, then a file may be uploaded as a new version`,name:"entityId",required:!0,type:{name:"string"}},onStateChange:{defaultValue:null,description:"Callback that is invoked when the state of the uploader changes",name:"onStateChange",required:!1,type:{name:"(state: UploaderState) => void"}},onUploadReady:{defaultValue:null,description:"Callback that is invoked when component is ready to upload",name:"onUploadReady",required:!1,type:{name:"() => void"}}}}}catch{}function cU(e){let n="";if(e!=null){const t=e.lastIndexOf("/");if(t>-1){const s=e.indexOf("?",t);s>-1?n=e.substring(t+1,s):n=e.substring(t+1)}}return n}function lU(e){const{synapseClient:n}=Oi(),{mutateAsync:t}=jC(),{mutateAsync:s}=yu(),{mutateAsync:r}=Ry();return xr({...e,mutationFn:async o=>{const{url:i,entityId:a}=o;let c=o.name;(c==""||c==null)&&(c=cU(i));const l=await n.entityServicesClient.getRepoV1EntityId({id:a});let d;if(l.concreteType==="org.sagebionetworks.repo.model.FileEntity")d=!0;else if(YC(hu(l.concreteType)))d=!1;else throw new Error(`The ${a} is not a FileEntity or a container, got concreteType ${l.concreteType}`);const m=await t({externalFileHandleInterface:{concreteType:"org.sagebionetworks.repo.model.file.ExternalFileHandle",fileName:c,externalURL:i}});if(d){const h={...l,dataFileHandleId:m.id};return await r(h)}else{const h={name:c,concreteType:"org.sagebionetworks.repo.model.FileEntity",parentId:a,dataFileHandleId:m.id};return await s(h)}}})}const fu=Ee.forwardRef(function(n,t){const{entityId:s,onIsValidChanged:r=_o,onSuccess:o=_o}=n,[i,a]=Ee.useState(""),[c,l]=Ee.useState(""),{data:d}=Ty(s),m=(d==null?void 0:d.concreteType)==="org.sagebionetworks.repo.model.FileEntity",{mutate:h,error:C}=lU({onSuccess:o});return Ee.useEffect(()=>{const E=i.trim().length>0;r(E)},[i,r]),Ee.useImperativeHandle(t,()=>({submit:()=>{h({url:i.trim(),name:c.trim(),entityId:s})}})),d?U.jsxs(gu,{gap:2,children:[U.jsx(is,{variant:"body1",children:"Provide a URL to create a link to a file that is located in external storage or hosted on the web. Metadata, provenance, and annotations related to the file can be stored in Synapse, but the file data itself can only be accessed using the link."}),U.jsx(Ya,{label:"URL",required:!0,fullWidth:!0,value:i,onChange:E=>a(E.target.value)}),!m&&U.jsx(Ya,{label:"Name",fullWidth:!0,value:c,onChange:E=>l(E.target.value)}),C&&U.jsx(g0,{severity:"error",sx:{my:2},children:(C==null?void 0:C.message)??"An error occurred while attempting to create the link."})]}):U.jsx(_i,{display:"flex",justifyContent:"center",children:U.jsx(Oy,{size:40})})});try{fu.displayName="LinkToURL",fu.__docgenInfo={description:"",displayName:"LinkToURL",props:{entityId:{defaultValue:null,description:"The ID of the FileEntity that should be updated, or container entity in which a new FileEntity should be created.",name:"entityId",required:!0,type:{name:"string"}},onIsValidChanged:{defaultValue:null,description:"Invoked when the validity of the form changes (e.g. to disable/activate a submit button)",name:"onIsValidChanged",required:!1,type:{name:"(isValid: boolean) => void"}},onSuccess:{defaultValue:null,description:"Invoked when the call to create or update the entity succeeds.",name:"onSuccess",required:!1,type:{name:"(newOrUpdatedEntity: FileEntity) => void"}}}}}catch{}const mu=Ee.forwardRef(function(n,t){const{entityId:s,open:r,onClose:o,onUploadReady:i}=n,[a,c]=Ee.useState(0),[l,d]=Ee.useState("LOADING"),[m,h]=Ee.useState(!1),C=Ee.useRef(null),E=Ee.useRef(null),v=l==="PROMPT_USER"||l==="UPLOADING",w=v||l==="COMPLETE",$=a===0?l!=="COMPLETE":!m;function V(){$||(a===0?o():C.current.submit())}return Ee.useImperativeHandle(t,()=>({handleUploads:ne=>{var ae;c(0),(ae=E.current)==null||ae.handleUploads(ne)}})),U.jsx(Ay,{DialogProps:{onKeyUp:ne=>{ne.key==="Enter"&&V()},keepMounted:!0},title:"Upload or Link to File",open:r,maxWidth:"md",fullWidth:!0,content:U.jsxs(U.Fragment,{children:[U.jsxs(b0,{textColor:"secondary",indicatorColor:"secondary",value:a,onChange:(ne,ae)=>c(ae),sx:{mb:2},children:[U.jsx(zf,{label:"Upload File",value:0}),U.jsx(zf,{label:"Link to URL",value:1})]}),U.jsx(_i,{display:a===0?"block":"none",children:U.jsx(uu,{ref:E,entityId:s,onStateChange:d,onUploadReady:i})}),U.jsx(_i,{display:a===1?"block":"none",children:U.jsx(fu,{ref:C,entityId:s,onIsValidChanged:h,onSuccess:ne=>{By(`Successfully created "${ne.name}"`,"success"),o()}})})]}),onCancel:()=>{v||o()},hasCloseButton:!v,actions:U.jsxs(U.Fragment,{children:[U.jsx(gi,{variant:"outlined",onClick:()=>{o()},disabled:w,children:"Cancel"}),U.jsx(gi,{variant:"contained",onClick:V,disabled:$,children:"Finish"})]})})});try{mu.displayName="EntityUploadModal",mu.__docgenInfo={description:"",displayName:"EntityUploadModal",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onUploadReady:{defaultValue:null,description:"Callback that is invoked when component is ready to upload",name:"onUploadReady",required:!1,type:{name:"() => void"}}}}}catch{}const f4={title:"Synapse/Upload/EntityUploadModal",component:mu,args:{open:!0,onClose:WC()}},ga={args:{entityId:VC.entity.id},parameters:{stack:"mock"}};var wy,ky,_y;ga.parameters={...ga.parameters,docs:{...(wy=ga.parameters)==null?void 0:wy.docs,source:{originalSource:`{
  args: {
    entityId: mockProjectEntityData.entity.id
  },
  parameters: {
    stack: 'mock'
  }
}`,...(_y=(ky=ga.parameters)==null?void 0:ky.docs)==null?void 0:_y.source}}};const m4=["Demo"];export{ga as Demo,m4 as __namedExportsOrder,f4 as default};
