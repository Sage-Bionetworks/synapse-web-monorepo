import{r as u,an as L,fh as T,F,dB as _,$ as I,fg as q,eS as A,j as f}from"./iframe-BPjtn3Py.js";function h(o,t){const[l,r]=u.useState(),[c,s]=u.useState(),{accessToken:n}=L();let i;return(a=>{a.TABLEID="TableId",a.COUNT_SQL="CountSql",a.TITLE="Title",a.SUMMARY="Summary",a.LINK="Link",a.ASSET="Asset"})(i||(i={})),u.useEffect(()=>{(async()=>{try{const d=T("Asset",t),p=((t==null?void 0:t.queryResult.queryResults.rows.map(e=>e.values[d]))??[]).filter(e=>e!=null&&e!==void 0);if(p.length===0){r(void 0),s(void 0);return}const S={includeFileHandles:!1,includePreSignedURLs:!0,includePreviewPreSignedURLs:!1,requestedFiles:p.map(e=>({associateObjectId:o,associateObjectType:F.TableEntity,fileHandleId:e}))},g=await _(S,n);s(void 0);const m=g.requestedFiles.filter(e=>e.preSignedURL!==void 0).map(e=>e.preSignedURL);r(m)}catch(d){s(d),r(void 0)}})()},[o,t,n]),{assets:l,error:c}}function y(o){var i;const{query:t,parens:l}=o,r=I(t.sql),c={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",query:t,entityId:r,partMask:A},{data:s}=q(c),n=(i=s==null?void 0:s.queryCount)==null?void 0:i.toLocaleString();return f.jsx(f.Fragment,{children:n&&(l?`(${n})`:n)})}try{y.displayName="QueryCount",y.__docgenInfo={description:"Shows the total count of results for a table query.",displayName:"QueryCount",props:{query:{defaultValue:null,description:"",name:"query",required:!0,type:{name:"Query"}},parens:{defaultValue:null,description:"",name:"parens",required:!1,type:{name:"boolean"}}}}}catch{}export{y as Q,h as u};
