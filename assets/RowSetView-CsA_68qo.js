var Ga=Object.defineProperty;var Wa=(e,t,n)=>t in e?Ga(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var he=(e,t,n)=>Wa(e,typeof t!="symbol"?t+"":t,n);import{j as a}from"./jsx-runtime-Du8NFWEI.js";import{r as b}from"./index-Dl6G-zuu.js";import{g as oe,a as We,b as Ya,T as Ka}from"./CardUtils-DkSmarFJ.js";import{G as Za}from"./GenericCardIcon-BIxgS1gu.js";import{C as sa}from"./CopyToClipboardIcon-LNU6QcgA.js";import{u as la,C as Ja}from"./CreateOrUpdateDoiModal-DTHOymy3.js";import{b as da}from"./useDOI-DrAeOiJP.js";import{S as re}from"./Skeleton-DwKQ5_E5.js";import{B as w}from"./Box-T6r2Z_yt.js";import{L as K}from"./Link-C37sfSRl.js";import{T as Xa}from"./Tooltip-CIKCv17A.js";import{I as et}from"./IconButton-QXhlbi2Z.js";import{c as X}from"./createSvgIcon-DrH8-ApS.js";import{l as ca,aI as at,P as ie,r as ua,bO as tt}from"./useFiles-D6Pybmbn.js";import{a as nt}from"./SqlFunctions-BfgxHr4o.js";import{r as ot,x as rt,S as it,N as st,O as lt,U as dt,z as ct,W as ut}from"./StringUtils-DrtZBNIY.js";import{f as pt,z as mt,n as ft,i as gt,af as yt,g as pa,t as Ye,F as xt,O as Ce,M as Ke,w as ma,G as ht,v as Ct}from"./SynapseConstants-Ch8mxy-k.js";import{E as bt,g as fa,f as vt}from"./VerificationSubmission-CX6Xq4We.js";import"./OrientationBanner-6c7QOLx_.js";import{u as ga}from"./useEntity-zGScXboy.js";import{c as ya}from"./calculateFriendlyFileSize-C4KOtplu.js";import{u as _t}from"./index-CMQ_2yWP.js";import{d as It}from"./Close-BExmNWAn.js";import{u as be}from"./useQuery-DFbKL1Tm.js";import{s as Nt,S as q}from"./Stack-BcBUfnl7.js";import{B as H}from"./Button-CgNBwHku.js";import{T as P}from"./Typography-D3xYwoES.js";import{P as St}from"./Popover-Bop6PdJc.js";import{A as jt}from"./Alert-BoiUXBFA.js";import{F as Tt}from"./FormControl-B8Ktzo_u.js";import{S as xa}from"./TextField-Bq2QJK2y.js";import{M as U}from"./MenuItem-VnvvCXdk.js";import{f as ha}from"./useDownloadList-Dc2bRSjU.js";import{u as Rt}from"./useGetEntityChildren-DFhFYICG.js";import{d as Ca}from"./ToastMessage-CmCdGkWE.js";import{D as ba}from"./DownloadConfirmationUI-BQdu7IzQ.js";import{d as va}from"./DownloadConfirmationUtils-DNZIipRc.js";import{g as wt}from"./QueryFilterUtils-DzdtIgxe.js";import{u as M}from"./QueryContext-B23hWQSY.js";import{c as Lt,u as Vt,d as Pt}from"./TableRowSelectionState-CvaOFER9.js";import{d as G,Q as Dt,u as F,c as Et}from"./QueryWrapper-DKFUPYVR.js";import{g as _a}from"./SynapseTableUtils-CAQpIdHl.js";import{Q as Mt}from"./QueryWrapperErrorBoundary-C8ZdPZJl.js";import{I as kt}from"./IconList-DubXxFm9.js";import{G as Ot}from"./GenericCard-DFlRv56O.js";import{S as At}from"./SynapseCardLabel-BxrfBIG5.js";import{C as qt}from"./Collapse-BRq1pUbz.js";import{G as Ft}from"./GetAppTwoTone-Q9RFiIkz.js";import{u as $t}from"./UserSearchBoxV2-BHTHlVcU.js";import{l as zt,S as Bt}from"./LoadingScreen-DDFyM1wL.js";import{L as ve}from"./chunk-AYJ5UCUI-B-t-syYg.js";import{f as Ia}from"./DateFormatter-B3DhIH0x.js";import{d as Na}from"./dayjs.min-d18Up55D.js";import{D as Ze}from"./Divider-DgjSdbpH.js";import{a as Ut,C as Qt}from"./index-BL1Mo7bF.js";import{I as Ht}from"./Icon-CDnX41O5.js";import{W as Sa}from"./WideButton-DuuQQB-D.js";import{I as ke}from"./IconSvg-1uxeHSLd.js";import{S as Gt}from"./SkeletonTable-WeG9TOK2.js";import{U as Wt}from"./UserBadge-CpH2J6aN.js";import{S as Yt}from"./ShowMore-CuqZdAPw.js";import{p as Oe}from"./pluralize-CVwSCrA2.js";import"./SkeletonButton-BD-3AFCV.js";import{S as Kt}from"./SkeletonInlineBlock-Fq_ly8Br.js";import"./SkeletonParagraph-C2aM1X4t.js";import{S as Zt}from"./SelectionCriteriaPill-CH_ZPcuA.js";import{g as Jt}from"./TextFieldWithWordLimit-s58nQph7.js";import{U as Xt}from"./UserCardList-BAnvd3bw.js";import{u as en,S as an}from"./SynapseTable-aoqQcZFt.js";import{b as tn}from"./use-deep-compare-effect.esm-COSQ_O61.js";import{L as nn}from"./LinearProgress-D0wd9w7m.js";import{a as ja,g as Ta,_ as Ae,b as L,e as B,d as _e,f as Q}from"./createTheme-BoQYKx5k.js";import{u as on}from"./index-DRltcjjn.js";import{s as ee,u as Ra,c as wa}from"./styled-BMGIoXl7.js";import{F as Je,L as Xe}from"./LastPage-DdY4j4Rz.js";import{B as rn}from"./ButtonBase-CTLL4EY5.js";import{u as sn}from"./useControlled-1Y2rT-1r.js";import{u as ea}from"./useInfiniteQuery-BgVlIN9b.js";import{c as ln}from"./cloneDeep-BRq0JbUP.js";function dn(e){return ja("MuiPagination",e)}Ta("MuiPagination",["root","ul","outlined","text"]);const cn=["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"];function un(e={}){const{boundaryCount:t=1,componentName:n="usePagination",count:r=1,defaultPage:i=1,disabled:o=!1,hideNextButton:s=!1,hidePrevButton:l=!1,onChange:u,page:c,showFirstButton:d=!1,showLastButton:p=!1,siblingCount:m=1}=e,g=Ae(e,cn),[f,x]=sn({controlled:c,default:i,name:n,state:"page"}),C=(h,R)=>{c||x(R),u&&u(h,R)},y=(h,R)=>{const A=R-h+1;return Array.from({length:A},(de,ce)=>h+ce)},N=y(1,Math.min(t,r)),v=y(Math.max(r-t+1,t+1),r),j=Math.max(Math.min(f-m,r-t-m*2-1),t+2),_=Math.min(Math.max(f+m,t+m*2+2),v.length>0?v[0]-2:r-1),I=[...d?["first"]:[],...l?[]:["previous"],...N,...j>t+2?["start-ellipsis"]:t+1<r-t?[t+1]:[],...y(j,_),..._<r-t-1?["end-ellipsis"]:r-t>t?[r-t]:[],...v,...s?[]:["next"],...p?["last"]:[]],S=h=>{switch(h){case"first":return 1;case"previous":return f-1;case"next":return f+1;case"last":return r;default:return null}},T=I.map(h=>typeof h=="number"?{onClick:R=>{C(R,h)},type:"page",page:h,selected:h===f,disabled:o,"aria-current":h===f?"true":void 0}:{onClick:R=>{C(R,S(h))},type:h,page:S(h),selected:!1,disabled:o||h.indexOf("ellipsis")===-1&&(h==="next"||h==="last"?f>=r:f<=1)});return L({items:T},g)}function pn(e){return ja("MuiPaginationItem",e)}const D=Ta("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),aa=X(a.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),ta=X(a.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),mn=["className","color","component","components","disabled","page","selected","shape","size","slots","type","variant"],La=(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${Q(n.size)}`],n.variant==="text"&&t[`text${Q(n.color)}`],n.variant==="outlined"&&t[`outlined${Q(n.color)}`],n.shape==="rounded"&&t.rounded,n.type==="page"&&t.page,(n.type==="start-ellipsis"||n.type==="end-ellipsis")&&t.ellipsis,(n.type==="previous"||n.type==="next")&&t.previousNext,(n.type==="first"||n.type==="last")&&t.firstLast]},fn=e=>{const{classes:t,color:n,disabled:r,selected:i,size:o,shape:s,type:l,variant:u}=e,c={root:["root",`size${Q(o)}`,u,s,n!=="standard"&&`color${Q(n)}`,n!=="standard"&&`${u}${Q(n)}`,r&&"disabled",i&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[l]],icon:["icon"]};return wa(c,pn,t)},gn=ee("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:La})(({theme:e,ownerState:t})=>L({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,height:"auto",[`&.${D.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.size==="small"&&{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},t.size==="large"&&{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)})),yn=ee(rn,{name:"MuiPaginationItem",slot:"Root",overridesResolver:La})(({theme:e,ownerState:t})=>L({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,[`&.${D.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${D.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${D.selected}`]:{backgroundColor:(e.vars||e).palette.action.selected,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:B(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${D.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:B(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},[`&.${D.disabled}`]:{opacity:1,color:(e.vars||e).palette.action.disabled,backgroundColor:(e.vars||e).palette.action.selected}}},t.size==="small"&&{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},t.size==="large"&&{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)},t.shape==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius}),({theme:e,ownerState:t})=>L({},t.variant==="text"&&{[`&.${D.selected}`]:L({},t.color!=="standard"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}},[`&.${D.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}},{[`&.${D.disabled}`]:{color:(e.vars||e).palette.action.disabled}})},t.variant==="outlined"&&{border:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${D.selected}`]:L({},t.color!=="standard"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:B(e.palette[t.color].main,.5)}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.activatedOpacity})`:B(e.palette[t.color].main,e.palette.action.activatedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:B(e.palette[t.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${D.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:B(e.palette[t.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity)}},{[`&.${D.disabled}`]:{borderColor:(e.vars||e).palette.action.disabledBackground,color:(e.vars||e).palette.action.disabled}})})),xn=ee("div",{name:"MuiPaginationItem",slot:"Icon",overridesResolver:(e,t)=>t.icon})(({theme:e,ownerState:t})=>L({fontSize:e.typography.pxToRem(20),margin:"0 -8px"},t.size==="small"&&{fontSize:e.typography.pxToRem(18)},t.size==="large"&&{fontSize:e.typography.pxToRem(22)})),Va=b.forwardRef(function(t,n){const r=Ra({props:t,name:"MuiPaginationItem"}),{className:i,color:o="standard",component:s,components:l={},disabled:u=!1,page:c,selected:d=!1,shape:p="circular",size:m="medium",slots:g={},type:f="page",variant:x="text"}=r,C=Ae(r,mn),y=L({},r,{color:o,disabled:u,selected:d,shape:p,size:m,type:f,variant:x}),N=on(),v=fn(y),_=(N?{previous:g.next||l.next||ta,next:g.previous||l.previous||aa,last:g.first||l.first||Je,first:g.last||l.last||Xe}:{previous:g.previous||l.previous||aa,next:g.next||l.next||ta,first:g.first||l.first||Je,last:g.last||l.last||Xe})[f];return f==="start-ellipsis"||f==="end-ellipsis"?a.jsx(gn,{ref:n,ownerState:y,className:_e(v.root,i),children:"…"}):a.jsxs(yn,L({ref:n,ownerState:y,component:s,disabled:u,className:_e(v.root,i)},C,{children:[f==="page"&&c,_?a.jsx(xn,{as:_,ownerState:y,className:v.icon}):null]}))}),hn=["boundaryCount","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"],Cn=e=>{const{classes:t,variant:n}=e;return wa({root:["root",n],ul:["ul"]},dn,t)},bn=ee("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant]]}})({}),vn=ee("ul",{name:"MuiPagination",slot:"Ul",overridesResolver:(e,t)=>t.ul})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function _n(e,t,n){return e==="page"?`${n?"":"Go to "}page ${t}`:`Go to ${e} page`}const In=b.forwardRef(function(t,n){const r=Ra({props:t,name:"MuiPagination"}),{boundaryCount:i=1,className:o,color:s="standard",count:l=1,defaultPage:u=1,disabled:c=!1,getItemAriaLabel:d=_n,hideNextButton:p=!1,hidePrevButton:m=!1,renderItem:g=T=>a.jsx(Va,L({},T)),shape:f="circular",showFirstButton:x=!1,showLastButton:C=!1,siblingCount:y=1,size:N="medium",variant:v="text"}=r,j=Ae(r,hn),{items:_}=un(L({},r,{componentName:"Pagination"})),I=L({},r,{boundaryCount:i,color:s,count:l,defaultPage:u,disabled:c,getItemAriaLabel:d,hideNextButton:p,hidePrevButton:m,renderItem:g,shape:f,showFirstButton:x,showLastButton:C,siblingCount:y,size:N,variant:v}),S=Cn(I);return a.jsx(bn,L({"aria-label":"pagination navigation",className:_e(S.root,o),ownerState:I,ref:n},j,{children:a.jsx(vn,{className:S.ul,ownerState:I,children:_.map((T,h)=>a.jsx("li",{children:g(L({},T,{color:s,"aria-label":d(T.type,T.page,T.selected),shape:f,size:N,variant:v}))},h))})}))}),Nn=X([a.jsx("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 2v3H4V5zM4 21V10h16v11z"},"0"),a.jsx("path",{d:"M4 5.01h16V8H4z",opacity:".3"},"1")],"CalendarTodayTwoTone"),Sn=X([a.jsx("path",{d:"M5 18.08V19h.92l9.06-9.06-.92-.92z",opacity:".3"},"0"),a.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM5.92 19H5v-.92l9.06-9.06.92.92zM20.71 5.63l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41"},"1")],"CreateTwoTone"),jn=X(a.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown"),Tn=e=>e.map(t=>({concreteType:"org.sagebionetworks.repo.model.table.FacetColumnValuesRequest",columnName:t.facet,facetValues:[t.facetValue]})),Rn=(e,t)=>{const n={sql:e,selectedFacets:Tn(t)};return encodeURIComponent(JSON.stringify(n))},wn=(e,t,n)=>{const r=Rn(t,n);return`${e}?QueryWrapper0=${r}`};function Ie(e){const[t,n]=b.useState(!1),{portalId:r,resourceId:i}=e,{data:o}=la(r,{select:u=>u.canMintDoi}),{data:s,isLoading:l}=da({id:i,portalId:r,type:"PORTAL_RESOURCE"});return l?a.jsx(re,{role:"progressbar",width:150}):a.jsxs(a.Fragment,{children:[a.jsx(Ja,{open:t,onClose:()=>n(!1),objectType:"PORTAL_RESOURCE",objectId:i,portalId:r}),a.jsxs(w,{sx:{display:"flex",alignItems:"center",gap:.5,height:0},children:[s&&a.jsxs(a.Fragment,{children:[a.jsx(K,{href:s.doiUrl,target:"_blank",children:s.doiUrl}),a.jsx(sa,{size:"small",value:s.doiUrl,sx:{color:"inherit"}}),o&&a.jsx(Xa,{title:"Edit DOI",children:a.jsx(et,{onClick:()=>n(!0),size:"small",sx:{color:"inherit"},children:a.jsx(Sn,{fontSize:"inherit"})})})]}),!s&&o&&a.jsx(K,{role:"button",onClick:()=>n(!0),children:"Click to Create a DOI"})]})]})}try{Ie.displayName="PortalDOI",Ie.__docgenInfo={description:"Component used to view/create/edit a DOI for a portal resource.",displayName:"PortalDOI",props:{portalId:{defaultValue:null,description:"The ID of the portal created with https://rest-docs.synapse.org/rest/POST/portal.html",name:"portalId",required:!0,type:{name:"string"}},resourceId:{defaultValue:null,description:`The ID of the resource. For Portals, this is a string that serializes the resourceType and all key information for
the resource`,name:"resourceId",required:!0,type:{name:"string"}}}}}catch{}function Ln(e){const{portalId:t,resourceId:n}=e,{data:r}=da({id:n,portalId:t,type:"PORTAL_RESOURCE"},{enabled:!!(t&&n)}),{data:i}=la(t,{enabled:!!t,select:o=>o.canMintDoi});return!!(r||i)}function Vn(e){const{portalDoiConfiguration:t,schema:n,data:r}=e;if(!t)return;const{resourceType:i,resourceIdKeyColumns:o,serializeDoiString:s}=t,l=o==null?void 0:o.reduce((u,c)=>{const d=n[c];return d!==void 0&&(u[c]=r[d]),u},{});if(!(!l||Object.keys(l).length===0))return s(i,l)}const Pn=(e,t)=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:13,viewBox:"0 0 12 13",fill:"none",ref:t,...e},b.createElement("path",{d:"M1.2002 6.85162H3.497C3.497 7.82963 3.09981 8.71402 2.4614 9.35362C2.45901 9.356 2.45421 9.3608 2.45179 9.36322V10.3364C3.18859 10.2116 3.84859 9.85881 4.35379 9.35361C4.99457 8.71283 5.38939 7.82961 5.38939 6.85161L5.38943 2.66241H1.20022L1.2002 6.85162Z",fill:"#395979"}),b.createElement("path",{d:"M6.61035 2.66242V6.85162H8.90715C8.90715 7.82963 8.50996 8.71402 7.87155 9.35362C7.86917 9.356 7.86436 9.3608 7.86194 9.36322V10.3364C8.59874 10.2116 9.25874 9.85881 9.76394 9.35361C10.4048 8.714 10.7995 7.83081 10.7995 6.85161V2.66241L6.61035 2.66242Z",fill:"#395979"})),Dn=b.forwardRef(Pn),En=(e,t,n)=>{const r=`${e.replace(/\s+/g,"_")}`,i=document.createElement("a");i.href=n,i.setAttribute("download",`${r}.${t}`),document.body.appendChild(i),i.click(),document.body.removeChild(i)},Mn=async(e,t)=>{const n=e?e.replace("https://doi.org/",""):"",r=await fetch(`https://citation.doi.org/format?doi=${n}&style=${t}&lang=en-US`,{headers:{Accept:`text/x-${t}`}});if(!r.ok)throw new Error(`Failed to fetch citation: ${r.status}: ${r.statusText}`);return await r.text()},kn=(e,t,n)=>be({queryKey:["citation",e,t],queryFn:()=>Mn(e,t),enabled:!!e&&!!t&&n}),se=Nt(H)({display:"flex",height:"20px",padding:"2px 8px",borderColor:"grey.400","& .MuiButton-startIcon":{marginRight:"4px",marginLeft:0}});try{se.displayName="GenericCardActionButton",se.__docgenInfo={description:"",displayName:"GenericCardActionButton",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLButtonElement | null) => void) | RefObject<HTMLButtonElement> | null"}}}}}catch{}const On={width:"100%",".MuiInputBase-root":{minHeight:"38px",borderRadius:0,"&:before, &:after":{borderBottom:"none !important"}},"& .MuiOutlinedInput-notchedOutline":{border:0},"&.MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{border:"none"},".MuiSelect-select":{display:"flex",alignItems:"center"},".MuiInputBase-input":{padding:"7px 10px"}};function Ne({doi:e,title:t,boilerplateText:n,defaultCitationFormat:r}){const[i,o]=b.useState(null),[s,l]=b.useState(r||"bibtex"),u=y=>{l(y.target.value)},c=y=>{o(y.currentTarget)},d=()=>{o(null)},p=y=>{if(!y)return;const v={apa:"ris",bibtex:"bib",ieee:"ris",nature:"ris",science:"ris"}[s]||"txt",j=new Blob([y],{type:"text/plain"}),_=URL.createObjectURL(j);En(t||"citation",v,_)},m=!!i,g=m?"cite-as-popover":void 0,{data:f,isLoading:x,error:C}=kn(e||"",s,m);return a.jsxs("div",{children:[e&&a.jsx(se,{onClick:c,variant:"outlined",startIcon:a.jsx(Dn,{}),children:a.jsx(P,{variant:"label",sx:{lineHeight:"20px"},children:"Cite As"})}),a.jsx(St,{"aria-label":"Citation options",role:"dialog",id:g,elevation:9,open:m,anchorEl:i,onClose:d,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},slotProps:{paper:{sx:y=>({width:"500px",postion:"relative",borderRadius:0,[y.breakpoints.down("sm")]:{maxWidth:"100%",maxHeight:"100%",top:"0 !important",left:"0 !important",bottom:"0 !important"}})}},children:a.jsxs(q,{sx:{gap:"20px",padding:"20px"},children:[a.jsxs(w,{sx:{display:"flex",alignItems:"center"},children:[a.jsx(P,{sx:{fontSize:"20px",fontWeight:700,lineHeight:"normal"},children:"Cite As:"}),a.jsx(It,{onClick:d,sx:{display:{xs:"block",sm:"none"},marginLeft:"auto",color:"#878E95"}})]}),C&&a.jsx(jt,{severity:"error",sx:{my:2},icon:!1,children:C.message}),a.jsxs(P,{variant:"smallText1",sx:{lineHeight:"normal",maxHeight:"300px",overflowY:"scroll",wordWrap:"break-word"},children:[n&&a.jsxs(a.Fragment,{children:[n,a.jsx("br",{})]}),x?a.jsxs(w,{sx:{fontWeight:700},children:[a.jsx("br",{}),"Loading citation..."]}):f]}),a.jsxs(w,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:{xs:"10px",sm:"8px"},width:"100%",maxHeight:"38px"},children:[a.jsx(w,{sx:{flex:1},children:a.jsx(Tt,{sx:On,children:a.jsxs(xa,{variant:"standard",sx:{svg:{color:"#878E95",width:"24px",height:"24px",right:"10px"}},value:s,onChange:u,IconComponent:jn,children:[a.jsx(U,{value:"bibtex",children:"bibtex"}),a.jsx(U,{value:"apa",children:"apa"}),a.jsx(U,{value:"ieee",children:"ieee"}),a.jsx(U,{value:"nature",children:"nature"}),a.jsx(U,{value:"science",children:"science"})]})})}),a.jsx(H,{onClick:()=>p(f||""),variant:"contained",sx:{padding:"6px 16px",borderRadius:0},children:"Download Citation"}),a.jsx(sa,{value:f||"",sx:{borderRadius:0,padding:"6px 16px",border:"1px solid",borderColor:"primary.main"}})]})]})})]})}try{Ne.displayName="CitationPopover",Ne.__docgenInfo={description:"",displayName:"CitationPopover",props:{doi:{defaultValue:null,description:"",name:"doi",required:!0,type:{name:"string | undefined"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},boilerplateText:{defaultValue:null,description:"",name:"boilerplateText",required:!1,type:{name:"string"}},defaultCitationFormat:{defaultValue:null,description:"",name:"defaultCitationFormat",required:!1,type:{name:"enum",value:[{value:'"bibtex"'},{value:'"apa"'},{value:'"ieee"'},{value:'"nature"'},{value:'"science"'}]}}}}}catch{}function Se(e){const{folderId:t,fnClose:n}=e,{downloadCartPageUrl:r}=ca(),{data:i,isLoading:o}=Rt({parentId:t,includeSumFileSizes:!0,includeTotalChildCount:!0,includeTypes:[bt.FILE]}),s=(i==null?void 0:i.totalChildCount)??0,l=i==null?void 0:i.sumFileSizesBytes,{mutate:u,isPending:c}=ha({onSuccess:()=>{va(r),n()},onError:d=>{Ca(d.reason,"danger"),n()}});return a.jsx(ba,{onAddToDownloadCart:()=>u({parentId:t,concreteType:"org.sagebionetworks.repo.model.download.AddToDownloadListRequest"}),fileCount:s,fileSize:l,isAddingToDownloadCart:c,isLoadingStats:o,onCancel:n})}try{Se.displayName="FolderDownloadConfirmation",Se.__docgenInfo={description:"",displayName:"FolderDownloadConfirmation",props:{folderId:{defaultValue:null,description:"",name:"folderId",required:!0,type:{name:"string"}},fnClose:{defaultValue:null,description:"",name:"fnClose",required:!0,type:{name:"() => void"}}}}}catch{}function je(e){var y,N,v,j,_;const{onClose:t}=e,{getCurrentQueryRequest:n,fileIdColumnName:r,fileVersionColumnName:i}=M(),{data:o}=G(),s=Lt(),l=Vt(),u=Pt(),c=b.useMemo(()=>{var S,T;const I=n();if(I.partMask=pt|mt,r&&i){const h=(S=o.columnModels)==null?void 0:S.find(A=>A.name==r),R=(T=o.columnModels)==null?void 0:T.find(A=>A.name==i);I.query.selectFileColumn=h?Number(h.id):void 0,I.query.selectFileVersionColumn=R?Number(R.id):void 0}else{const h=_a(o.columnModels);h&&(I.query.selectFileColumn=Number(h))}if(s&&u&&o.selectColumns){const h=wt(u,l,o.selectColumns);I.query.additionalFilters=[...I.query.additionalFilters||[],h]}return I},[o.columnModels,o.selectColumns,n,s,u,l,r,i]),{downloadCartPageUrl:d}=ca(),{mutate:p,isPending:m}=ha({onSuccess:()=>{va(d),t()},onError:I=>{Ca(I.reason,"danger"),t()}}),{data:g,isLoading:f}=at(c),x=((y=g==null?void 0:g.responseBody)==null?void 0:y.queryCount)??0,C=(v=(N=g==null?void 0:g.responseBody)==null?void 0:N.sumFileSizes)!=null&&v.greaterThan||(_=(j=g==null?void 0:g.responseBody)==null?void 0:j.sumFileSizes)==null?void 0:_.sumFileSizesBytes;return a.jsx(ba,{onAddToDownloadCart:()=>{p({query:c==null?void 0:c.query,concreteType:"org.sagebionetworks.repo.model.download.AddToDownloadListRequest"})},fileCount:x,fileSize:C,isAddingToDownloadCart:m,isLoadingStats:f,onCancel:t})}try{je.displayName="TableQueryDownloadConfirmation",je.__docgenInfo={description:"",displayName:"TableQueryDownloadConfirmation",props:{onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}}}catch{}const An=({entityId:e,onHide:t})=>{const n={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:e,query:{sql:`select * from ${e}`,limit:ft,sort:void 0,additionalFilters:void 0},partMask:gt};return a.jsx(b.Suspense,{fallback:a.jsx(a.Fragment,{}),children:a.jsx(Dt,{initQueryRequest:n,children:a.jsx(Mt,{children:a.jsx(je,{onClose:t})})})})};function Te({entityId:e,handleClose:t,onIsLoadingChange:n}){const{data:r,isLoading:i}=ga(e),o=r==null?void 0:r.concreteType;return b.useEffect(()=>{n(i)},[i,n]),i&&o&&o!=="org.sagebionetworks.repo.model.Folder"&&o!=="org.sagebionetworks.repo.model.table.TableEntity"&&o!=="org.sagebionetworks.repo.model.table.Dataset"?a.jsx(a.Fragment,{}):a.jsx("div",{children:o==="org.sagebionetworks.repo.model.Folder"?a.jsx(Se,{folderId:e,fnClose:t}):a.jsx(An,{entityId:e,onHide:t})})}try{Te.displayName="EntityDownloadConfirmation",Te.__docgenInfo={description:`A component that allows users to add an entity to the download cart.
Depending on the type of entity, it displays a confirmation dialog for either
downloading a folder or downloading a table/query.`,displayName:"EntityDownloadConfirmation",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},onIsLoadingChange:{defaultValue:null,description:"",name:"onIsLoadingChange",required:!0,type:{name:"(isLoading: boolean) => void"}},handleClose:{defaultValue:null,description:"",name:"handleClose",required:!0,type:{name:"() => void"}}}}}catch{}try{EntityDownloadConfirmation.displayName="EntityDownloadConfirmation",EntityDownloadConfirmation.__docgenInfo={description:`A component that allows users to add an entity to the download cart.
Depending on the type of entity, it displays a confirmation dialog for either
downloading a folder or downloading a table/query.`,displayName:"EntityDownloadConfirmation",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}},onIsLoadingChange:{defaultValue:null,description:"",name:"onIsLoadingChange",required:!0,type:{name:"(isLoading: boolean) => void"}},handleClose:{defaultValue:null,description:"",name:"handleClose",required:!0,type:{name:"() => void"}}}}}catch{}function qn(e){const{synapseId:t,version:n}=e;return a.jsxs("span",{children:[n,"  ",a.jsx("a",{target:Ka.NEW_WINDOW,rel:"noopener noreferrer",href:`${ie.PORTAL}Synapse:${t}.${n}`,children:"(Show Version History on Synapse)"})]})}function Re(e){var He,Ge;const[t,n]=b.useState(!1),[r,i]=b.useState(!1),{entityId:o,versionNumber:s}=M(),{getColumnDisplayName:l}=F(),{ref:u,inView:c}=_t(),{data:d}=ga(o,s),{schema:p,data:m,rowId:g,genericCardSchema:f,secondaryLabelLimit:x,selectColumns:C,columnModels:y,iconOptions:N,useTypeColumnForIcon:v=!1,isHeader:j=!1,headerCardVariant:_,titleLinkConfig:I,ctaLinkConfig:S,labelLinkConfig:T,descriptionConfig:h,columnIconOptions:R}=e,{link:A="",type:de,includeCitation:ce,defaultCitationFormat:Ma,citationBoilerplateText:ka,downloadCartSynId:qe,portalDoiConfiguration:z}=f,Fe=m[p[f.title]];let ue=f.subTitle&&m[p[f.subTitle]];ue=f.subTitle&&oe({value:ue,columnName:f.subTitle,selectColumns:C,columnModels:y}).str;const Oa=m[p[f.description||""]],Aa=m[p[f.icon||""]],ae=m[p[f.dataTypeIconNames||""]],pe=m[p[f.imageFileHandleColumnName||""]],me=y==null?void 0:y.find(V=>f.link===V.name),qa=me==null?void 0:me.columnType,$e=m[p[A]]||"",{href:Fa,target:$a}=We($e,I,m,p,g);let fe,k;qe&&(fe=p[qe],k=fe!==void 0?m[fe]:void 0),k=(He=k==null?void 0:k.match(/syn\d+/i))==null?void 0:He[0];const ge=Vn({data:m,schema:p,portalDoiConfiguration:z}),za=Ln({portalId:z==null?void 0:z.portalId,resourceId:ge}),W=[],{secondaryLabels:ze=[]}=f,te=f.customSecondaryLabelConfig;if(za&&z&&ge&&c&&W.push({columnDisplayName:"DOI",value:a.jsx(Ie,{portalId:z.portalId,resourceId:ge})}),te!=null&&te.isVisible(p,m)){const{key:V,value:E}=te;k?W.push({columnDisplayName:"HOW TO DOWNLOAD",value:a.jsx(K,{onClick:()=>n(O=>!O),children:"Click here to add to Synapse download cart"})}):W.push({columnDisplayName:V,value:E})}const Ba=d&&!ot(d);for(let V=0;V<ze.length;V+=1){const E=ze[V],O=m[p[E]];let Y=O,ne;if(Y){if(rt(d)&&E==="datasetSizeInBytes")ne="Size",Y=ya(parseInt(O));else if(Ba&&E==="currentVersion"){const xe=m[p.id];Y=a.jsx(qn,{synapseId:xe,version:O}),ne="Version"}else{const xe=T==null?void 0:T.find(Ha=>Ha.matchColumnName===E);Y=a.jsx(At,{value:O,columnName:E,labelLink:xe,isHeader:j,selectColumns:C,columnModels:y,rowData:m}),ne=l(E)}W.push({columnDisplayName:ne,value:Y,columnName:E})}}const ye=Ya(d,pe||$e,m[p.id]),Ua=l(f.description||""),Be=nt("doi",C,y),Qa=Be!==void 0?m[Be]:void 0;let Ue,Qe;if(S){const V=m[p[S.link]]||"",{href:E,target:O}=We(V,void 0,m,p,g);Ue=E,Qe=O}return a.jsx(Ot,{ref:u,icon:a.jsx(Za,{type:v?m[p.type]:f.type,useTypeForIcon:v,thumbnailRequiresPadding:f.thumbnailRequiresPadding,imageFileHandleId:pe,fileHandleAssociation:ye,iconOptions:N,iconValue:Aa}),isHeader:j,headerCardVariant:_,type:de,title:Fe,subtitle:ue,titleLinkConfiguration:{target:$a,href:Fa},titleAsFileHandleLinkConfiguration:!I&&qa===fa.FILEHANDLEID&&ye?{fileHandleAssociation:ye,showDownloadIcon:de!==yt}:void 0,ctaLinkConfig:S?{text:S==null?void 0:S.text,href:Ue,target:Qe}:void 0,description:Oa,descriptionSubTitle:Ua,descriptionConfig:h,labels:W,secondaryLabelLimit:x,columnIconOptions:R,useStylesForDisplayedImage:!!pe,cardTopContent:k&&a.jsx(qt,{in:t,children:a.jsx(Te,{entityId:k,handleClose:()=>n(!1),onIsLoadingChange:V=>{i(V)}})}),renderedIconList:((Ge=R==null?void 0:R.columns)==null?void 0:Ge.dataType)&&(ae==null?void 0:ae.length)&&a.jsx("div",{style:{marginTop:"20px"},children:a.jsx(kt,{iconConfigs:R.columns.dataType,iconNames:JSON.parse(ae),commonIconProps:{sx:{fontSize:"40px"}},useBackground:!0,useTheme:!0})}),cardTopButtons:a.jsxs(a.Fragment,{children:[k&&a.jsx(a.Fragment,{children:a.jsx(se,{onClick:()=>n(V=>!V),variant:"outlined",startIcon:a.jsx(Ft,{sx:{height:"12px"}}),disabled:r,children:"Download"})}),ce&&a.jsx(Ne,{title:Fe,doi:Qa,boilerplateText:ka,defaultCitationFormat:Ma})]})})}try{Re.displayName="TableRowGenericCard",Re.__docgenInfo={description:"Maps a table row to a GenericCard.",displayName:"TableRowGenericCard",props:{genericCardSchema:{defaultValue:null,description:`The schema that maps a table result to the GenericCard UI
Configuration if the card is of GENERIC_CARD (required) or DATASET (optional) type`,name:"genericCardSchema",required:!1,type:{name:"TableToGenericCardMapping"}},selectColumns:{defaultValue:null,description:"The table's SelectColumns",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"The table's ColumnModels",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},useTypeColumnForIcon:{defaultValue:null,description:"If true, the 'type' column will be used as the icon string to choose the icon",name:"useTypeColumnForIcon",required:!1,type:{name:"boolean"}},isHeader:{defaultValue:{value:"false"},description:`If true, render the card as a HeaderCard
If true, the card(s) will be rendered using the 'HeaderCard' component. Only works for GENERIC_CARD`,name:"isHeader",required:!1,type:{name:"boolean"}},headerCardVariant:{defaultValue:{value:"'HeaderCard'"},description:"If isHeader is true, use this variant of HeaderCard\nThe variant of the HeaderCard to use, if `isHeader` is true",name:"headerCardVariant",required:!1,type:{name:"enum",value:[{value:'"HeaderCard"'},{value:'"HeaderCardV2"'}]}},isAlignToLeftNav:{defaultValue:null,description:"",name:"isAlignToLeftNav",required:!1,type:{name:"boolean"}},schema:{defaultValue:null,description:"Mapping of column name to row data index",name:"schema",required:!0,type:{name:"Record<string, number>"}},data:{defaultValue:null,description:"The row data",name:"data",required:!0,type:{name:"string[]"}},rowId:{defaultValue:null,description:"The ID of the table row",name:"rowId",required:!1,type:{name:"number"}},secondaryLabelLimit:{defaultValue:null,description:"The maximum number of labels to initially show in the card footer",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},titleLinkConfig:{defaultValue:null,description:"Optional configuration to configure the display/linking of the card's title",name:"titleLinkConfig",required:!1,type:{name:"({ matchColumnName: string; overrideValueWithRowID?: boolean; isMarkdown: false; tooltipText?: string; target?: TargetEnum | undefined; } & ({ ...; } | { ...; })) | undefined"}},ctaLinkConfig:{defaultValue:null,description:"Optional configuration to configure the display/linking of the card's CTA button",name:"ctaLinkConfig",required:!1,type:{name:"CTACardLink"}},labelLinkConfig:{defaultValue:null,description:"Optional configuration to configure the display/linking of the card's secondary labels",name:"labelLinkConfig",required:!1,type:{name:"LabelLinkConfig"}},descriptionConfig:{defaultValue:null,description:"Optional configuration for the description",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},columnIconOptions:{defaultValue:null,description:"Configuration for mapping values for specific columns to icons",name:"columnIconOptions",required:!1,type:{name:"ColumnIconConfigs"}},iconOptions:{defaultValue:null,description:"Can be used to map strings to icon components.",name:"iconOptions",required:!1,type:{name:"IconOptions"}}}}}catch{}const Pa="Unknown",Fn=e=>e<1e6?e.toLocaleString():new Intl.NumberFormat([],{minimumFractionDigits:1,maximumFractionDigits:2,notation:"compact",localeMatcher:"best fit"}).format(e),$=(e,t,n)=>{const r=e[n];let i;return r===void 0?(console.error(`Could not find column named ${n}`),i=null):i=t[r],i},$n=(e,t,n)=>n.map(r=>{const{columnName:i,label:o}=r,s=$(e,t,i);return{label:o,value:s?Fn(Number(s)):Pa}}),zn=(e,t,n)=>{const r=$(e,t,n);return{label:"Date of release",value:r?Ia(Na(Number(r)),"MM/DD/YYYY"):Pa}},Da=(e,t,n,r)=>({releaseName:$(e,t,n.releaseNameColumnName),releaseEntityId:$(e,t,n.releaseEntityIdColumnName),releaseDate:zn(e,t,n.releaseDateColumnName),stats:$n(e,t,r)}),Bn=(e,t,n,r)=>{const i=r?[...r]:[];return n&&n.forEach(o=>{const s=o.sourceTableColumnName,l=s?$(e,t,s):null;l&&i.push({facet:o.destinationTableColumnName,facetValue:l})}),i},na=(e,t,n)=>{if(!n)return null;const r=$(e,t,n.sourceTablePathColumnName);if(!r)return console.warn(`Column not found in source table or cell did not have value in source table for ${n.sourceTablePathColumnName}`),null;const{sourceTableSqlColumnName:i,selectedFacetConfigs:o,staticSelectedFacets:s}=n,l=i?$(e,t,i):null,u=Bn(e,t,o,s);return l&&u.length>0?wn(r,l,u):r};function oa({value:e,label:t}){return a.jsxs(q,{direction:"column",alignItems:"center",padding:{xs:"20px 10px",md:"20px 40px"},gap:"10px",width:{xs:"unset",lg:"200px"},children:[a.jsx(P,{variant:"headline1",children:e}),a.jsx(P,{variant:"body1",lineHeight:"20px",color:"grey.700",children:t})]})}function we({data:e,schema:t,includePortalCardClass:n=!0,releaseCardConfig:r}){const{releaseName:i,releaseDate:o,stats:s}=Da(t,e,r.releaseMetadataConfig,r.statsConfig),{primaryBtnConfig:l,secondaryBtnConfig:u}=r,c=na(t,e,l),d=na(t,e,u);return i===null?a.jsx(a.Fragment,{}):a.jsx(w,{className:`ReleaseCard ${n?"SRC-portalCard":""}`,minWidth:"200px",children:a.jsxs(q,{direction:{xs:"column",lg:"row"},justifyContent:"space-between",gap:"20px",padding:"20px",children:[a.jsxs(q,{direction:"column",gap:"20px",children:[a.jsxs(q,{direction:"row",alignItems:"center",gap:"10px",children:[a.jsx(Nn,{sx:{color:"grey.700"}}),a.jsxs(P,{variant:"headline1",children:[r.prependRelease&&"Release ",i]})]}),a.jsxs(q,{direction:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},gap:"20px",children:[l&&c&&a.jsx(H,{component:ve,variant:"contained",color:"primary",to:c,children:l.label}),u&&d&&a.jsx(H,{component:ve,to:d,children:u.label})]})]}),a.jsx(Ze,{})," ",a.jsxs(q,{direction:"row",gap:{xs:0,lg:"10px"},alignItems:"center",justifyContent:{xs:"space-evenly",lg:"unset"},flexWrap:{xs:"wrap",lg:"nowrap"},children:[a.jsx(oa,{...o}),s.map(p=>a.jsxs(b.Fragment,{children:[a.jsx(Ze,{orientation:"vertical",flexItem:!0}),a.jsx(oa,{...p})]},p.label))]})]})})}try{we.displayName="ReleaseCardLarge",we.__docgenInfo={description:"",displayName:"ReleaseCardLarge",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"(string | null)[]"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ReleaseCardSchema"}},includePortalCardClass:{defaultValue:{value:"true"},description:"",name:"includePortalCardClass",required:!1,type:{name:"boolean"}},releaseCardConfig:{defaultValue:null,description:"",name:"releaseCardConfig",required:!0,type:{name:"ReleaseCardLargeConfig"}}}}}catch{}function Un({value:e,label:t}){return a.jsxs(a.Fragment,{children:[a.jsx(w,{gridColumn:"span 1",gridRow:"span 1",justifySelf:"flex-end",children:a.jsx(P,{variant:"body1",lineHeight:"20px",children:e})}),a.jsx(w,{gridColumn:"span 1",gridRow:"span 1",justifySelf:"flex-start",children:a.jsx(P,{variant:"body1",lineHeight:"20px",color:"grey.700",children:t})})]})}function Le({data:e,schema:t,includePortalCardClass:n=!0,releaseCardConfig:r}){const{releaseName:i,releaseEntityId:o,releaseDate:s,stats:l}=Da(t,e,r.releaseMetadataConfig,r.statsConfig);if(i===null)return a.jsx(a.Fragment,{});const u=2,c=`span ${u}`,d=l.length+4;return a.jsxs(w,{className:`ReleaseCard ${n?"SRC-portalCard":""}`,display:"grid",gridTemplateColumns:`repeat(${u}, 1fr)`,columnGap:"10px",gridTemplateRows:"subgrid",gridRow:`span ${d}`,rowGap:"0px",alignItems:"center",justifyItems:"center",textAlign:"center",padding:"30px 40px 40px",my:0,children:[a.jsx(w,{gridColumn:c,gridRow:"span 1",alignSelf:"end",children:a.jsx(P,{variant:"headline1",children:i})}),a.jsx(w,{gridColumn:c,gridRow:"span 1",mb:"30px",children:a.jsx(P,{variant:"body1",lineHeight:"20px",fontStyle:"italic",color:"grey.800",children:`Released ${s.value}`})}),l.map(p=>a.jsx(Un,{...p},p.label)),a.jsx(w,{gridColumn:c,gridRow:"span 1",mt:"20px",mb:"5px",children:a.jsx(H,{component:ve,to:r.requestAccessPath,sx:{fontSize:"14px"},children:"Request Access"})}),a.jsx(w,{gridColumn:c,gridRow:"span 1",children:o&&a.jsx(K,{href:`${ie.PORTAL}Synapse:${o}`,target:"_blank",rel:"noreferrer",fontSize:"14px",sx:{textDecoration:"none"},children:"View on Synapse.org"})})]})}try{Le.displayName="ReleaseCardMedium",Le.__docgenInfo={description:"",displayName:"ReleaseCardMedium",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"(string | null)[]"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ReleaseCardSchema"}},includePortalCardClass:{defaultValue:{value:"true"},description:"",name:"includePortalCardClass",required:!1,type:{name:"boolean"}},releaseCardConfig:{defaultValue:null,description:"",name:"releaseCardConfig",required:!0,type:{name:"ReleaseCardMediumConfig"}}}}}catch{}function Z(e){const{releaseCardConfig:t,...n}=e;switch(t.cardSize){case"large":return a.jsx(we,{releaseCardConfig:t,...n});case"medium":return a.jsx(Le,{releaseCardConfig:t,...n});default:return console.error("No size specified for ReleaseCard"),a.jsx("div",{})}}try{Z.displayName="ReleaseCard",Z.__docgenInfo={description:`Specialized Release Card, initially implemented for the GENIE portal.
Expects columns used to define release metadata (entity id, name, date)
as well as statistics columns and columns for defining a button to explore data
as defined in the releaseCardConfig`,displayName:"ReleaseCard",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ReleaseCardSchema"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"(string | null)[]"}},includePortalCardClass:{defaultValue:null,description:"",name:"includePortalCardClass",required:!1,type:{name:"boolean"}},releaseCardConfig:{defaultValue:null,description:"",name:"releaseCardConfig",required:!0,type:{name:"ReleaseCardConfig"}}}}}catch{}try{Z.displayName="ReleaseCard",Z.__docgenInfo={description:`Specialized Release Card, initially implemented for the GENIE portal.
Expects columns used to define release metadata (entity id, name, date)
as well as statistics columns and columns for defining a button to explore data
as defined in the releaseCardConfig`,displayName:"ReleaseCard",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ReleaseCardSchema"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"(string | null)[]"}},includePortalCardClass:{defaultValue:null,description:"",name:"includePortalCardClass",required:!1,type:{name:"boolean"}},releaseCardConfig:{defaultValue:null,description:"",name:"releaseCardConfig",required:!0,type:{name:"ReleaseCardConfig"}}}}}catch{}class J extends b.Component{constructor(n){super(n);he(this,"handleLinkClick",n=>r=>{r.preventDefault(),window.open(`${ie.PORTAL}Synapse:${n}`,"_blank")});this.handleLinkClick=this.handleLinkClick.bind(this)}render(){const{data:n,schema:r,selectColumns:i,columnModels:o,genericCardSchema:s,queryVisualizationContext:{getColumnDisplayName:l}}=this.props,u=n[r.datasetName],c=n[r.summary],d=oe({columnName:"tumorType",value:n[r.tumorType],selectColumns:i,columnModels:o}).str,p=oe({columnName:"diseaseFocus",value:n[r.diseaseFocus],selectColumns:i,columnModels:o}).str,m=n[r.id],g=n[r.fundingAgency],f=n[r.fileCount],x=ya(n[r.fileSize]),C=[{columnDisplayName:"FUNDER",value:oe({columnName:"fundingAgency",value:g,selectColumns:i,columnModels:o}).str},{columnDisplayName:"SIZE",value:x},{columnDisplayName:"FILES",value:f}];if(s&&s.secondaryLabels){const{secondaryLabels:y}=s;for(let N=0;N<y.length;N++){const v=y[N],j=n[r[v]];let _;j&&(_=l(v),C.push({columnDisplayName:_,value:j,columnName:v}))}}return a.jsxs("div",{className:"SRC-portalCard SRC-typeDataset  ",children:[a.jsxs("div",{className:"SRC-cardThumbnail",children:[a.jsx(Ht,{type:pa}),a.jsx("div",{children:x})]}),a.jsxs("div",{className:"SRC-cardContent SRC-dataset",children:[a.jsx("div",{className:"SRC-type",children:"Dataset "}),a.jsx("div",{children:a.jsx("h3",{children:a.jsx("a",{target:"_self",href:`${ie.PORTAL}Synapse:${m}`,children:u})})}),a.jsxs("div",{className:"SRC-description-dataset",children:[a.jsx("p",{className:"SRC-description-text",children:c}),a.jsx("div",{className:"SRC-cardAction",children:a.jsx(H,{className:"SRC-datasetButton",onClick:this.handleLinkClick(m),color:"secondary",variant:"contained",children:"Download Dataset"})})]}),a.jsx("div",{className:"SRC-cardAnnotations",children:a.jsx(Ut,{chips:[d,p]})})]}),a.jsx(Qt,{isHeader:!1,secondaryLabelLimit:this.props.secondaryLabelLimit,values:C})]})}}try{J.displayName="Dataset",J.__docgenInfo={description:"",displayName:"Dataset",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"TableToGenericCardMapping"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}}}}}catch{}class Ve extends b.Component{constructor(n){super(n);he(this,"handleLinkClick",n=>r=>{r.preventDefault(),window.open(n,"_blank")});this.handleLinkClick=this.handleLinkClick.bind(this)}render(){const{data:n,schema:r}=this.props,i=n[r.organizationName],o=n[r.organizationPath],s=n[r.summary],l=n[r.website],u=n[r.logo];let c=l.replace("https://","");c=c.replace("http://",""),c.charAt(c.length-1)==="/"&&(c=c.substring(0,c.length-1));const d=window.location.hash.substring(1)===o,p={};let m;return d?p.paddingBottom="42px":m=a.jsx("div",{className:"SRC-marginAuto SRC-cardAction",children:a.jsx(Sa,{href:o,variant:"contained",color:"secondary",children:"View Funded Research"})}),a.jsxs("div",{className:"SRC-portalCard SRC-typeFunder ",style:p,children:[a.jsxs("div",{className:"SRC-cardContent",children:[a.jsx("div",{className:"SRC-type",children:"Organization"}),u&&a.jsx("div",{className:"SRC-cardThumbnail",children:a.jsx("img",{alt:"funder logo",className:"SRC-logo",src:u})}),a.jsx("div",{children:a.jsxs("h3",{children:[d&&i,!d&&a.jsx("a",{href:o,children:i})]})}),a.jsx("div",{className:"SRC-website",children:a.jsx("a",{rel:"noopener noreferrer",target:"_blank",href:l,children:c})}),a.jsx("div",{className:"SRC-description",children:s})]}),m]})}}try{Ve.displayName="Funder",Ve.__docgenInfo={description:"",displayName:"Funder",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}}}}}catch{}try{J.displayName="Dataset",J.__docgenInfo={description:"",displayName:"Dataset",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}},secondaryLabelLimit:{defaultValue:null,description:"",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},selectColumns:{defaultValue:null,description:"",name:"selectColumns",required:!1,type:{name:"SelectColumn[]"}},columnModels:{defaultValue:null,description:"",name:"columnModels",required:!1,type:{name:"ColumnModel[]"}},genericCardSchema:{defaultValue:null,description:"",name:"genericCardSchema",required:!1,type:{name:"TableToGenericCardMapping"}},queryVisualizationContext:{defaultValue:null,description:"",name:"queryVisualizationContext",required:!0,type:{name:"QueryVisualizationContextType"}}}}}catch{}try{rowrenderers.displayName="rowrenderers",rowrenderers.__docgenInfo={description:"",displayName:"rowrenderers",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"any"}},schema:{defaultValue:null,description:"",name:"schema",required:!1,type:{name:"any"}}}}}catch{}function Pe({data:e,schema:t,includePortalCardClass:n=!0}){const r=e[t.observationSubmitterName],i=e[t.synapseId],o=e[t.observationTime],s=e[t.observationTimeUnits],l=e[t.observationText],u=e[t.observationType],c=JSON.parse(u??""),d=e[t.doi];return a.jsxs("div",{className:`ObservationCard ${n?"SRC-portalCard":""}`,children:[a.jsxs("div",{className:"ObservationCard__submitter",children:[!i&&a.jsx("div",{children:r}),i&&a.jsx(Wt,{userId:i})]}),o&&a.jsxs("div",{className:"ObservationCard__time",children:[a.jsx(ke,{icon:"time"}),a.jsx("span",{children:`${o} ${s}`})]}),l&&a.jsx("div",{className:"ObservationCard__text",children:a.jsx(Yt,{summary:l})}),d&&a.jsx("div",{className:"ObservationCard__doi",children:a.jsx(K,{href:d,target:"_blank",children:"Reference"})}),a.jsx("div",{className:"ObservationCard__tags",children:u&&c.map((p,m)=>a.jsx("span",{className:"SRC-tag",style:{marginRight:"5px"},children:p},m))})]})}function Qn(){return a.jsxs("div",{className:"SRC-portalCard ObservationCard",children:[a.jsx("div",{className:"ObservationCard__submitter",children:a.jsx("span",{children:a.jsx(re,{width:"100px"})})}),a.jsx("div",{className:"ObservationCard__time",children:a.jsx(ke,{icon:"time"})}),a.jsx("div",{className:"ObservationCard__text",children:a.jsx(Gt,{numCols:1,numRows:4})}),a.jsx("div",{className:"ObservationCard__tags",children:a.jsx(re,{width:"80px"})})]})}try{Pe.displayName="ObservationCard",Pe.__docgenInfo={description:`Specialized Observation Card, initially implemented for the NF portal.
Expects the following columns: submitterName, submitterUserId, time, timeUnits, text, and tag.`,displayName:"ObservationCard",props:{schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"ObservationCardSchema"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"(string | null)[]"}},includePortalCardClass:{defaultValue:{value:"true"},description:"",name:"includePortalCardClass",required:!1,type:{name:"boolean"}}}}}catch{}function Hn(e){const t=e.match(/^"(.+?)"\s*@\d+$/);return t?t[1]:""}function Gn(e,t={textMatchesMode:"NATURAL_LANGUAGE"}){const{textMatchesMode:n,distance:r=0}=t;let i=e;if(n=="BOOLEAN"){const s=Jt(e),l=Math.max(r,s);i=`"${e.replaceAll('"',"")}" @${l}`}return{concreteType:"org.sagebionetworks.repo.model.table.TextMatchesQueryFilter",searchExpression:i,searchMode:t.textMatchesMode}}function qr(e,t,n,r,i){const{additionalFilters:o=[]}=e.query,s=_a(t);if(n.match(it)&&s){const c={concreteType:"org.sagebionetworks.repo.model.table.ColumnSingleValueQueryFilter",columnName:(t==null?void 0:t.filter(p=>p.id===s))[0].name,operator:vt.IN,values:[n]},d=o.find(p=>p.concreteType==c.concreteType&&p.columnName==c.columnName);if(d)return d.values.includes(n)||d.values.push(n),e;o.push(c)}else{const u=Gn(n,i);if(o.find(d=>d.concreteType==u.concreteType&&d.searchExpression==u.searchExpression))return e;o.push(u)}return e.query.additionalFilters=o,r(""),e}const Ea=4;function Wn(e,t,n,r){const{getColumnDisplayName:i}=r;if(e.values.length>Ea||!n){const o=`${Oe(i(e.columnName))} (${e.values.length.toLocaleString()})`;return[{key:`queryFilter-${e.concreteType}-${e.columnName}`,innerText:o,tooltipText:o,onRemoveFilter:()=>{t.removeQueryFilter(e)}}]}return e.values.map(o=>{let s=o;o!=null&&o.startsWith("%")&&(o!=null&&o.endsWith("%"))&&(s=s.substring(1,s.length-1)),s=r.getDisplayValue(s,n.columnType);const l=`${i(e.columnName)}: ${s}`;return{key:`queryFilter-${e.concreteType}-${e.columnName}-${o}`,innerText:l,tooltipText:l,onRemoveFilter:()=>{t.removeValueFromQueryFilter(e,o)}}})}function Yn(e,t){let n=e.searchExpression;return e.searchMode=="BOOLEAN"&&(n=Hn(e.searchExpression)),{key:`queryFilter-${e.concreteType}-${e.searchExpression}`,innerText:n,tooltipText:`Text matches: "${n}"`,onRemoveFilter:()=>{t.removeQueryFilter(e)}}}function Kn(e,t,n,r,i){return e.flatMap(o=>{var s;if(st(o)||lt(o)){const l=n.find(u=>u.name===o.columnName);return o.columnName.toLowerCase()===((s=i==null?void 0:i.columnName)==null?void 0:s.toLowerCase())?[]:Wn(o,t,l,r)}else return dt(o)?[Yn(o,t)]:(console.log("Unknown query filter type",o),[])})}function ra(e,t){return e==null&&t==null?"Any value":e==null?`Up to ${t}`:t==null?`${e} or greater`:e===Ye&&t===Ye?xt:`${e} - ${t}`}function Zn(e,t,n,r,i){return e.flatMap(o=>{var c;if(o.columnName.toLowerCase()===((c=i==null?void 0:i.columnName)==null?void 0:c.toLowerCase()))return[];const s=n.find(d=>d.name===o.columnName),{getColumnDisplayName:l,getDisplayValue:u}=r;if(ct(o)){if(o.facetValues.length>Ea||!s){const d=`${Oe(l(o.columnName,o.jsonPath))} (${o.facetValues.length.toLocaleString()})`;return[{key:`facet-${o.concreteType}-${o.columnName}`,innerText:d,tooltipText:d,onRemoveFilter:()=>{t.removeSelectedFacet(o)}}]}return o.facetValues.map(d=>{const p=u(d,s.columnType);return{key:`facet-${o.concreteType}-${o.columnName}-${d}`,innerText:p,tooltipText:`${l(o.columnName,o.jsonPath)}: ${p}`,onRemoveFilter:()=>{t.removeValueFromSelectedFacet(o,d)}}})}else if(ut(o)){const{combineRangeFacetConfig:d}=t;if(d&&(o.columnName==d.minFacetColumn||o.columnName==d.maxFacetColumn)){if(o.columnName==d.minFacetColumn)return[];{const m=o,g=e.find(x=>x.columnName==d.minFacetColumn),f=ra(m.min,g.max);return[{key:`facet-${o.concreteType}-${o.columnName}-${f}`,innerText:f,tooltipText:`${d.label}: ${f}`,onRemoveFilter:()=>{t.removeSelectedFacet([g,m])}}]}}const p=ra(o.min,o.max);return[{key:`facet-${o.concreteType}-${o.columnName}-${o.min}-${o.max}`,innerText:p,tooltipText:`${l(o.columnName,o.jsonPath)}: ${p}`,onRemoveFilter:()=>{t.removeSelectedFacet(o)}}]}else return console.log("Unknown facet type",o.concreteType),[]})}function Jn(){var u;const e=M(),t=e.lockedColumn,n=F(),{currentQueryRequest:r}=e,{data:i}=Et(),o=Kn(((u=r.query)==null?void 0:u.additionalFilters)??[],e,(i==null?void 0:i.columnModels)||[],n,t),s=Zn(r.query.selectedFacets??[],e,(i==null?void 0:i.columnModels)||[],n,t),l=[...o,...s];return a.jsx(a.Fragment,{children:l.map(c=>{const d=encodeURIComponent(c.key);return b.createElement(Zt,{...c,key:d})})})}function De(e){const{style:t,frontText:n,endText:r="",hideIfUnfiltered:i=!1}=e,{resetQuery:o,hasResettableFilters:s}=M(),{data:l}=G(),{unitDescription:u}=F(),c=l==null?void 0:l.queryCount,d=s;return a.jsxs("div",{className:`TotalQueryResults ${s?"hasFilters":""}`,style:t,children:[(s||!i)&&a.jsxs("div",{className:"TotalQueryResults__topbar",children:[a.jsxs("span",{className:"SRC-boldText",children:[n," ",c==null?void 0:c.toLocaleString()," ",Oe(u,c)," ",r]}),d&&a.jsxs("a",{onClick:o,className:"TotalQueryResults__topbar__clearall",children:[a.jsx(ke,{icon:"deleteSweep"}),"Clear all filters"]})]}),a.jsx("div",{className:"TotalQueryResults__selections",children:a.jsx(Jn,{})})]})}function Xn(e){return a.jsx(ua,{children:a.jsx(b.Suspense,{fallback:a.jsx(Kt,{width:100}),children:a.jsx(De,{...e})})})}try{De.displayName="TotalQueryResults",De.__docgenInfo={description:"",displayName:"TotalQueryResults",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},frontText:{defaultValue:null,description:"",name:"frontText",required:!0,type:{name:"string"}},endText:{defaultValue:null,description:"",name:"endText",required:!1,type:{name:"string"}},applyChanges:{defaultValue:null,description:"",name:"applyChanges",required:!1,type:{name:"((newFacets: FacetColumnRequest[]) => void)"}},hideIfUnfiltered:{defaultValue:null,description:"",name:"hideIfUnfiltered",required:!1,type:{name:"boolean"}}}}}catch{}const eo={display:"block"},ao={display:"grid",gridTemplateColumns:"repeat(auto-fill, 272px)",gridAutoRows:"auto",gridAutoFlow:"row",gap:"10px",mb:"30px"},to={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gridColumnGap:"20px",marginBottom:"20px",marginTop:"20px","& .SRC-portalCard":{margin:"10px 0px"}};function no(e){const{propsToPass:t,type:n}=e;switch(n){case pa:return a.jsx(J,{...t});case Ct:return a.jsx(Ve,{...t});case ht:return a.jsx(Re,{...t});case Ce:return a.jsx(Pe,{...t});case ma:return a.jsx(Z,{...t});default:return a.jsx("div",{})}}function oo(e){var j;const{unitDescription:t,type:n,secondaryLabelLimit:r=3,title:i,rowSet:o,multiCardList:s,...l}=e,{NoContentPlaceholder:u}=F(),c=M(),{data:d}=G(),p=F(),m=o.rows,g=m.length>1,f=[o.tableId],x=$t({ids:f,type:"ENTITY_HEADER"});if(m.length===0)return a.jsx(u,{});const C={};o.headers.forEach((_,I)=>{C[_.name]=I});let y;if(n===Ke){const _=o.headers.findIndex(S=>S.columnType===fa.USERID);if(_===-1)throw Error("Type MEDIUM_USER_CARD specified but no columnType USERID found");const I=m.map(S=>S.values[_]);y=a.jsx(Xt,{rowSet:o,list:I,size:Ke})}else y=m.length?m.map((_,I)=>{const T={key:JSON.stringify(_.values),type:n,schema:C,secondaryLabelLimit:r,rowId:_.rowId,data:_.values,selectColumns:o.headers,columnModels:d.columnModels,tableEntityConcreteType:x[0]&&x[0].type,tableId:o.tableId,queryContext:c,queryVisualizationContext:p,...l};return a.jsx(no,{propsToPass:T,type:n},_.rowId??I)}):a.jsx(a.Fragment,{});const N=e.type===ma&&((j=e.releaseCardConfig)==null?void 0:j.cardSize)==="medium";let v=eo;return N?v=ao:s&&g&&(v=to),a.jsx(a.Fragment,{children:a.jsxs(w,{role:"list",sx:v,children:[i&&a.jsx("h2",{className:"SRC-card-overview-title",children:i}),!i&&t&&a.jsx(Xn,{frontText:"Displaying"}),y]})})}function Ee(e){const t=a.jsxs("div",{children:[e.type===Ce&&a.jsx(Qn,{}),e.type!==Ce&&zt]});return a.jsx(b.Suspense,{fallback:t,children:a.jsx(oo,{...e})})}try{Ee.displayName="CardContainer",Ee.__docgenInfo={description:"",displayName:"CardContainer",props:{rowSet:{defaultValue:null,description:"",name:"rowSet",required:!0,type:{name:"RowSet"}},isHeader:{defaultValue:{value:"false"},description:"If true, the card(s) will be rendered using the 'HeaderCard' component. Only works for GENERIC_CARD",name:"isHeader",required:!1,type:{name:"boolean"}},isAlignToLeftNav:{defaultValue:null,description:"",name:"isAlignToLeftNav",required:!1,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},unitDescription:{defaultValue:null,description:"",name:"unitDescription",required:!1,type:{name:"string"}},multiCardList:{defaultValue:null,description:"",name:"multiCardList",required:!1,type:{name:"boolean"}},secondaryLabelLimit:{defaultValue:null,description:"The maximum number of labels to initially show in the card footer",name:"secondaryLabelLimit",required:!1,type:{name:"number"}},titleLinkConfig:{defaultValue:null,description:"Optional configuration to configure the display/linking of the card's title",name:"titleLinkConfig",required:!1,type:{name:"({ matchColumnName: string; overrideValueWithRowID?: boolean; isMarkdown: false; tooltipText?: string; target?: TargetEnum | undefined; } & ({ ...; } | { ...; })) | undefined"}},ctaLinkConfig:{defaultValue:null,description:"Optional configuration to configure the display/linking of the card's CTA button",name:"ctaLinkConfig",required:!1,type:{name:"CTACardLink"}},labelLinkConfig:{defaultValue:null,description:"Optional configuration to configure the display/linking of the card's secondary labels",name:"labelLinkConfig",required:!1,type:{name:"LabelLinkConfig"}},descriptionConfig:{defaultValue:null,description:"Optional configuration for the description",name:"descriptionConfig",required:!1,type:{name:"DescriptionConfig"}},columnIconOptions:{defaultValue:null,description:"Configuration for mapping values for specific columns to icons",name:"columnIconOptions",required:!1,type:{name:"ColumnIconConfigs"}},iconOptions:{defaultValue:null,description:"Can be used to map strings to icon components.",name:"iconOptions",required:!1,type:{name:"IconOptions"}},genericCardSchema:{defaultValue:null,description:`Configuration if the card is of GENERIC_CARD (required) or DATASET (optional) type
Configuration if the card is of GENERIC_CARD type
Optional configuration for DATASET type`,name:"genericCardSchema",required:!1,type:{name:"TableToGenericCardMapping"}},headerCardVariant:{defaultValue:{value:"'HeaderCard'"},description:"The variant of the HeaderCard to use, if `isHeader` is true",name:"headerCardVariant",required:!1,type:{name:"enum",value:[{value:'"HeaderCard"'},{value:'"HeaderCardV2"'}]}},type:{defaultValue:null,description:"The type of card to render",name:"type",required:!0,type:{name:"enum",value:[{value:'"dataset"'},{value:'"MEDIUM USER CARD"'},{value:'"funder"'},{value:'"observation_card"'},{value:'"GENERIC_CARD"'},{value:'"release_card"'}]}},releaseCardConfig:{defaultValue:null,description:"Configuration if the card is of RELEASE_CARD type",name:"releaseCardConfig",required:!0,type:{name:"ReleaseCardConfig"}}}}}catch{}function ro(){const{showLastUpdatedOn:e}=F(),{data:t}=G();return e&&t&&t.lastUpdatedOn?a.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:a.jsxs(P,{variant:"body1Italic",children:["Last updated on ",Ia(Na(t.lastUpdatedOn))]})}):a.jsx(a.Fragment,{})}function io(){const{showLastUpdatedOn:e}=F();return e?a.jsx(b.Suspense,{fallback:a.jsx(re,{width:100}),children:a.jsx(ro,{})}):a.jsx(a.Fragment,{})}function le(e){const{progressMessage:t}=e;return a.jsxs(w,{sx:{my:7.5,mx:15},children:[a.jsx(nn,{}),t&&a.jsx(P,{variant:"smallText1",sx:{color:"grey.600",fontSize:"10px",textAlign:"center",my:1},children:t})]})}try{le.displayName="QueryWrapperLoadingScreen",le.__docgenInfo={description:"",displayName:"QueryWrapperLoadingScreen",props:{progressMessage:{defaultValue:null,description:"",name:"progressMessage",required:!1,type:{name:"string"}}}}}catch{}const so=()=>{const{goToPage:e,pageSize:t,setPageSize:n,currentPage:r,currentQueryRequest:i}=M(),o=en(),{data:{queryCount:s,maxRowsPerPage:l}}=G(),u=i.query.limit,c=l??t,d=[10,25,100,500];u&&!d.includes(u)&&(d.push(u),d.sort((x,C)=>x-C));const p=d.filter(x=>x<c);p.length==0&&(p.push(c),l&&t>l&&n(l));const m=(x,C)=>{e(C)},g=x=>{const C=x.target.value;n(C)},f=b.useCallback(x=>{const C=b.forwardRef(function(N,v){return a.jsx("button",{ref:v,...N,onMouseOver:()=>{x.page&&o(x.page)}})});return a.jsx(Va,{...x,component:C})},[o]);return r==1&&s==1&&t!=1||s==null?null:a.jsxs("div",{children:[a.jsx(In,{page:r,count:Math.ceil(s/t),color:"secondary",onChange:m,shape:"rounded",sx:{display:"inline-block",float:"left",".MuiPaginationItem-root":{fontSize:"14px"}},renderItem:f}),a.jsx(P,{variant:"body1",style:{display:"inline-block"},children:`${s==null?void 0:s.toLocaleString()} total rows /`}),a.jsx(xa,{name:"page size",value:t,size:"small",onChange:g,sx:{ml:.5},children:p.map(x=>a.jsxs(U,{value:x,children:[x," per page"]},x))})]})};function Me(e){const{hasNextPage:t,fetchNextPage:n,isFetchingNextPage:r,initialLimit:i,initialLimitIsApplied:o,onRemoveInitialLimit:s}=e,{data:{queryCount:l}}=G();return b.useEffect(()=>{o&&i!=null&&l!=null&&s!=null&&i>=l&&s()},[o,i,l,s]),o||t?a.jsx(w,{display:"flex",justifyContent:"flex-start",children:a.jsx(Sa,{variant:"contained",color:"secondary",size:"large",onClick:()=>{o&&s!=null?s():n()},disabled:r,children:r?a.jsx(Bt,{size:24}):"View More"})}):null}try{Me.displayName="ViewMoreQueryResultsButton",Me.__docgenInfo={description:"",displayName:"ViewMoreQueryResultsButton",props:{hasNextPage:{defaultValue:null,description:"",name:"hasNextPage",required:!0,type:{name:"boolean"}},fetchNextPage:{defaultValue:null,description:"",name:"fetchNextPage",required:!0,type:{name:"() => void"}},isFetchingNextPage:{defaultValue:null,description:"",name:"isFetchingNextPage",required:!0,type:{name:"boolean"}},initialLimit:{defaultValue:null,description:"",name:"initialLimit",required:!1,type:{name:"number"}},initialLimitIsApplied:{defaultValue:null,description:"",name:"initialLimitIsApplied",required:!1,type:{name:"boolean"}},onRemoveInitialLimit:{defaultValue:null,description:"",name:"onRemoveInitialLimit",required:!1,type:{name:"(() => void)"}}}}}catch{}function lo(){var o;const{isInfinite:e,rowDataInfiniteQueryOptions:t}=M(),n=ea({...t,enabled:e}),r=ea({...t,select:s=>s.pages[0].progressMessage,enabled:e}),i=b.useMemo(()=>{var l,u,c,d,p;const s=ln((d=(c=(u=(l=n.data)==null?void 0:l.pages[0])==null?void 0:u.responseBody)==null?void 0:c.queryResult)==null?void 0:d.queryResults);return s&&(s.rows=((p=n.data)==null?void 0:p.pages.flatMap(m=>{var g,f;return((f=(g=m.responseBody)==null?void 0:g.queryResult)==null?void 0:f.queryResults.rows)||[]}))||[]),s},[(o=n.data)==null?void 0:o.pages]);return{infiniteQuery:n,infiniteQueryRowSet:i,infiniteQueryProgressMessage:r}}function co(){const{isInfinite:e,rowDataQueryOptions:t,getCurrentQueryRequest:n}=M(),r=be({...t,enabled:!e,placeholderData:o=>{if(o&&tt(o.requestBody.query,n().query))return o}}),i=be({...t,select:o=>o.progressMessage,enabled:!e,placeholderData:o=>o});return{paginatedQuery:r,paginatedQueryProgressMessage:i}}function uo(e){const{isInfinite:t}=M(),{paginatedQuery:n,paginatedQueryProgressMessage:r}=co(),{infiniteQuery:i,infiniteQueryRowSet:o,infiniteQueryProgressMessage:s}=lo(),l=b.useMemo(()=>{let p;return t?p=o:p=n.data,p&&e!=null&&(p={...p,rows:p.rows.slice(0,e)}),p},[o,e,t,n.data]),u=t?s.data:r.data,c=t?i.isLoading:n.isLoading,d=t?i.isFetchingNextPage:n.isPlaceholderData;return{rowSet:l,progressMessage:u,isLoading:c,isLoadingNewPage:d,fetchNextPageOfInfiniteData:i.fetchNextPage,hasNextPageOfInfiniteData:i.hasNextPage}}function ia(e){const{cardConfiguration:t,hideDownload:n,initialLimit:r,multiCardList:i}=e,[o,s]=b.useState(r!=null),{isInfinite:l}=M(),u=tn(e.tableConfiguration?{...e.tableConfiguration,hideDownload:n}:void 0),{rowSet:c,progressMessage:d,isLoading:p,isLoadingNewPage:m,fetchNextPageOfInfiniteData:g,hasNextPageOfInfiniteData:f}=uo(o?r:void 0);return a.jsx(ua,{children:a.jsxs("div",{className:"RowSetView",children:[p&&a.jsx(le,{progressMessage:d}),!p&&c&&a.jsxs(b.Suspense,{fallback:a.jsx(le,{progressMessage:d}),children:[u&&a.jsx(an,{...u,rowSet:c,isLoadingNewPage:m}),t&&a.jsx(Ee,{...t,rowSet:c,multiCardList:i})]}),a.jsxs(b.Suspense,{fallback:a.jsx(a.Fragment,{}),children:[!l&&a.jsx(w,{sx:{mt:2,textAlign:"right"},children:a.jsx(so,{})}),l&&a.jsx(Me,{initialLimit:r,initialLimitIsApplied:o,onRemoveInitialLimit:()=>{s(!1)},fetchNextPage:()=>{g()},hasNextPage:f,isFetchingNextPage:m})]}),a.jsx(io,{})]})})}try{ia.displayName="RowSetView",ia.__docgenInfo={description:`Renders a table or cards representing the RowSet. Also displays appropriate pagination controls
depending on the value of QueryContext.isInfinite.`,displayName:"RowSetView",props:{tableConfiguration:{defaultValue:null,description:"",name:"tableConfiguration",required:!1,type:{name:"SynapseTableConfiguration"}},cardConfiguration:{defaultValue:null,description:"",name:"cardConfiguration",required:!1,type:{name:"CardConfiguration"}},initialLimit:{defaultValue:null,description:"",name:"initialLimit",required:!1,type:{name:"number"}},hideDownload:{defaultValue:null,description:"",name:"hideDownload",required:!1,type:{name:"boolean"}},multiCardList:{defaultValue:null,description:"",name:"multiCardList",required:!1,type:{name:"boolean"}}}}}catch{}export{ia as R,Xn as T,je as a,qr as u};
