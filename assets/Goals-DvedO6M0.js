import{j as e}from"./jsx-runtime-Du8NFWEI.js";import{o as M,Q as i,J as v}from"./useFiles-BRDigjSR.js";import{i as D,g as R}from"./SynapseConstants-D1fnTFbP.js";import"./index-Dl6G-zuu.js";import"./VerificationSubmission-CjmU3lv6.js";import"./RegularExpressions-jA8tWTUq.js";import{u as V}from"./useShowDesktop-CPh-208G.js";import"./OrientationBanner-BcEAmQ0L.js";import{E as w}from"./ExpandableContent-Bda7pFQB.js";import{Q as h}from"./QueryCount-sCP1x_WJ.js";import{B as q}from"./Button-DtfaTZY_.js";import{u as L}from"./useGetGoalData-DXsLeY_-.js";function c({link:r,summary:t,countSql:a,title:l}){const s=e.jsxs("div",{className:"Goals__Mobile__Header",children:[a&&e.jsx("span",{className:"Goals__Mobile__Header__Count",children:e.jsx(h,{parens:!1,query:{sql:a}})}),e.jsxs("span",{className:"Goals__Mobile__Header__Title",children:[" ",l," "]})]}),o=e.jsxs("div",{className:"Goals__Mobile__Content",children:[e.jsx("p",{children:t}),e.jsx(q,{variant:"contained",color:"secondary",className:"Goals__Mobile__Content__Link",href:r,children:"Explore"})]});return e.jsx(w,{title:s,content:o})}try{c.displayName="GoalsMobile",c.__docgenInfo={description:"",displayName:"GoalsMobile",props:{countSql:{defaultValue:null,description:"",name:"countSql",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}},asset:{defaultValue:null,description:"",name:"asset",required:!0,type:{name:"string"}}}}}catch{}function m({asset:r,link:t,summary:a,countSql:l,title:s}){return e.jsxs("div",{className:"Goals__Card",style:{cursor:"pointer"},onClick:()=>window.open(t),children:[e.jsx("div",{className:"Goals__Card__header",style:{background:`url('${r}')`},children:e.jsxs("p",{children:[e.jsxs("span",{className:"Goals__Card__header__title",children:[" ",s," "]}),l&&e.jsx("span",{className:"Goals__Card__header__count",children:e.jsx(h,{parens:!1,query:{sql:l}})})]})}),e.jsxs("div",{className:"Goals__Card__summary",children:[e.jsxs("p",{children:[" ",a," "]}),e.jsx(q,{className:"Goals__Card__summary__link",variant:"contained",color:"secondary",href:t,children:"Explore"})]})]})}try{m.displayName="GoalsDesktop",m.__docgenInfo={description:"",displayName:"GoalsDesktop",props:{countSql:{defaultValue:null,description:"",name:"countSql",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},summary:{defaultValue:null,description:"",name:"summary",required:!0,type:{name:"string"}},link:{defaultValue:null,description:"",name:"link",required:!0,type:{name:"string"}},asset:{defaultValue:null,description:"",name:"asset",required:!0,type:{name:"string"}}}}}catch{}const T=1200;function x(r){const{entityId:t}=r,a=V(T),l={concreteType:"org.sagebionetworks.repo.model.table.QueryBundleRequest",entityId:t,partMask:D|R,query:{sql:`select * from ${t} order by ItemOrder`}},{data:s}=M(l),{assets:o,error:_}=L(t,s),p=i("TableId",s),d=i("CountSql",s),G=i("Title",s),g=i("Summary",s),j=i("Link",s);return e.jsxs("div",{className:`Goals${a?"__Desktop":""}`,children:[_&&e.jsx(v,{error:_}),s==null?void 0:s.queryResult.queryResults.rows.map((N,C)=>{const n=N.values;n.some(S=>S===null)&&console.warn("Row has null value(s) when no nulls expected");const y=p>-1?n[p]:void 0;let u;d>-1&&n[d]?u=n[d]:y&&(u=`SELECT * FROM ${y}`);const E=n[G],k=n[g],I=n[j],b=(o==null?void 0:o[C])??"",f={countSql:u,title:E,summary:k,link:I,asset:b};return a?e.jsx(m,{...f}):e.jsx(c,{...f})})]})}try{x.displayName="Goals",x.__docgenInfo={description:"",displayName:"Goals",props:{entityId:{defaultValue:null,description:"",name:"entityId",required:!0,type:{name:"string"}}}}}catch{}export{x as G};
